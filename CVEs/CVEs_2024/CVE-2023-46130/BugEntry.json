{"buggy_code": ["#main-outlet > .regular {\n  background: var(--d-content-background);\n}\n\n.button-count.has-pending {\n  span {\n    background-color: var(--danger);\n    color: var(--secondary);\n    border-radius: 10px;\n    padding: 0.25em 0.5em;\n    display: inline-block;\n    font-size: 0.8em;\n  }\n}\n\n.placeholder-avatar {\n  display: inline-block;\n  width: 45px;\n  height: 45px;\n  border-radius: 50%;\n  position: relative;\n  overflow: hidden;\n  &:before {\n    @media (prefers-reduced-motion: no-preference) {\n      animation: placeHolderShimmer 4s linear infinite forwards;\n    }\n    position: absolute;\n    left: 0;\n    content: \"\";\n    background: linear-gradient(\n      to right,\n      var(--primary-very-low) 10%,\n      var(--primary-low) 28%,\n      var(--primary-very-low) 43%\n    );\n    height: 45px;\n    width: 700px;\n  }\n}\n\n.placeholder-text {\n  margin-left: var(--topic-body-width-padding);\n  display: inline-block;\n  width: calc(100% - var(--topic-body-width-padding));\n  height: 1.5em;\n  margin-bottom: 0.6em;\n}\n\n.post-stream .placeholder .row {\n  display: flex;\n}\n\n.names {\n  flex: 1 1 auto;\n  overflow: hidden;\n  span.first {\n    display: flex;\n    align-items: baseline;\n    font-weight: bold;\n  }\n\n  span {\n    font-size: var(--font-0);\n    margin-right: 8px;\n    display: inline-block;\n    @include ellipsis;\n    vertical-align: middle;\n    a {\n      color: var(--primary-high-or-secondary-low);\n    }\n  }\n  .fa {\n    font-size: var(--font-down-1);\n    color: var(--primary-med-or-secondary-med);\n  }\n  .svg-icon-title {\n    margin-left: 3px;\n    margin-right: 0px;\n  }\n  .new_user a,\n  .user-title,\n  .user-title a {\n    color: var(--primary-med-or-secondary-med);\n  }\n}\n\n// global styles for the cooked HTML content in posts (and preview)\n.cooked,\n.d-editor-preview {\n  word-wrap: break-word;\n  line-height: var(--line-height-large);\n\n  > *:first-child {\n    margin-top: 0;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin: 30px 0 10px;\n    line-height: var(--line-height-medium);\n    a.anchor {\n      opacity: 0;\n      transition: opacity 0.25s;\n      &:before {\n        content: svg-uri(\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16px\" height=\"16px\" viewBox=\"0 0 512 512\" fill=\"#{$primary-medium}\"><path d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\"></path></svg>'\n        );\n        line-height: 1.4;\n        margin-left: -20px;\n        padding-right: 4px;\n        position: absolute;\n        z-index: 2;\n      }\n    }\n\n    // show when hovering where icon should be\n    // show when hovering header\n    .discourse-no-touch & a.anchor:hover,\n    .discourse-no-touch &:hover a.anchor {\n      opacity: 1;\n    }\n  }\n\n  h1 {\n    font-size: var(--font-up-3-rem);\n  }\n\n  h2 {\n    font-size: var(--font-up-2-rem);\n  }\n\n  h3 {\n    font-size: var(--font-up-1-rem);\n  }\n\n  h4 {\n    font-size: var(--font-0-rem);\n  }\n\n  h5 {\n    font-size: var(--font-down-1-rem);\n  }\n\n  h6 {\n    font-size: var(--font-down-2-rem);\n  }\n\n  a {\n    word-wrap: break-word;\n  }\n\n  mark {\n    text-decoration: none;\n  }\n\n  ins {\n    background-color: var(--success-low);\n    text-decoration: underline;\n  }\n  del {\n    background-color: var(--danger-low);\n    text-decoration: line-through;\n  }\n  mark {\n    background-color: var(--highlight);\n  }\n  // Prevents users from breaking posts with tag nesting\n  big {\n    font-size: 1.5rem;\n  }\n  small {\n    font-size: 0.75rem;\n  }\n  small small {\n    font-size: 0.75em;\n  }\n  big big {\n    font-size: 1em;\n  }\n  sub sub sub {\n    bottom: 0;\n  }\n  sup sup sup {\n    top: 0;\n  }\n}\n\n.cooked,\n.d-editor-preview {\n  video {\n    max-width: 100%;\n  }\n  sup sup {\n    top: 0;\n  }\n\n  img:not(.thumbnail):not(.ytp-thumbnail-image):not(.emoji) {\n    max-width: 100%;\n    height: auto;\n    display: inline-block; // Ensure dimensions are maintained even after load error\n\n    @supports not (aspect-ratio: 1) {\n      // (see javascripts/discourse/app/initializers/image-aspect-ratio.js)\n      height: var(--calculated-height);\n    }\n  }\n}\n\n// add staff color\n.moderator {\n  .regular > .cooked {\n    background-color: var(--highlight-bg);\n  }\n  .clearfix > .topic-meta-data > .names {\n    span.user-title {\n      color: var(--primary-high-or-secondary-low);\n      a {\n        background-color: var(--highlight-bg);\n        padding-left: 4px;\n        padding-right: 4px;\n      }\n    }\n  }\n}\n\n.topic-meta-data {\n  display: flex;\n  align-items: flex-start;\n\n  .names {\n    margin-right: auto;\n  }\n\n  .post-infos {\n    display: flex;\n    flex: 0 0 auto;\n    align-items: center;\n  }\n\n  .user-status-message {\n    display: flex;\n    img.emoji {\n      width: 1em;\n      height: 1em;\n    }\n  }\n}\n\nnav.post-controls {\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: var(--primary-low-mid);\n\n  .actions {\n    display: inline-flex;\n    text-align: right;\n    margin-left: auto;\n\n    // Some buttons can be doubled up, like likes or flags\n    .double-button {\n      display: inline-flex;\n      flex: 0 1 auto;\n      align-items: center;\n      white-space: nowrap;\n      button {\n        // It looks really confusing when one half a double button has an inner shadow on click.\n        &:active {\n          box-shadow: none;\n        }\n        &.my-likes,\n        &.read-indicator,\n        &.regular-likes {\n          // Like count on posts\n          .d-icon {\n            color: var(--primary-low-mid);\n            padding-left: 0.45em;\n          }\n        }\n        &.has-like {\n          // Like button after I've liked\n          .d-icon {\n            color: var(--love);\n          }\n        }\n        &[disabled] {\n          // Disabled like button\n          cursor: not-allowed;\n        }\n        &.button-count {\n          // Like count button\n          height: 100%; // sometimes the font might be shorter than the icon\n          &:not(.my-likes) {\n            padding-right: 0;\n          }\n          + .toggle-like {\n            // Like button when like count is present\n            padding-left: 0.45em;\n          }\n        }\n      }\n    }\n    a,\n    button {\n      color: var(--primary-low-mid-or-secondary-high);\n      .d-icon {\n        opacity: 1;\n      }\n      display: inline-block;\n    }\n\n    button {\n      flex: 0 1 auto;\n      font-size: var(--font-up-1);\n      padding: 8px 10px;\n      vertical-align: top;\n      background: transparent;\n      border: none;\n      .d-icon {\n        // this avoids an issue where hovering off the icon\n        // removes the .d-hover class from the button prematurely\n        pointer-events: none;\n      }\n      &.d-hover,\n      &:focus,\n      &:active {\n        outline: none;\n        background: var(--primary-low);\n        color: var(--primary);\n      }\n      &.hidden {\n        display: none;\n      }\n      &.admin {\n        position: relative;\n      }\n      &.delete.d-hover,\n      &.delete:active,\n      &.delete:focus {\n        background: var(--danger);\n        color: var(--secondary);\n        .d-icon {\n          color: var(--secondary);\n        }\n      }\n      &.bookmarked .d-icon {\n        color: var(--tertiary);\n      }\n      &.create {\n        margin-right: 0;\n        color: var(--primary-high-or-secondary-low);\n        .d-icon {\n          color: var(--primary-high-or-secondary-low);\n        }\n      }\n    }\n  }\n\n  .show-replies {\n    font-size: var(--font-up-1);\n    font-size: inherit;\n    padding: 10px;\n    color: var(--primary-medium);\n    &:hover,\n    &:focus {\n      outline: none;\n      color: var(--primary);\n      background: var(--primary-low);\n    }\n    .d-icon {\n      font-size: var(--font-down-1);\n    }\n    .d-button-label + .d-icon {\n      margin-left: 0.45em;\n      margin-right: 0;\n    }\n  }\n}\n\n.deleted {\n  .regular > .cooked {\n    background-color: var(--danger-low-mid);\n  }\n  .topic-meta-data:not(.embedded-reply) {\n    color: var(--danger);\n\n    .post-info a,\n    a {\n      color: currentColor;\n    }\n\n    .d-icon {\n      color: currentColor;\n    }\n  }\n  nav.post-controls {\n    color: var(--danger);\n\n    .show-replies,\n    button.reply.create {\n      color: var(--danger);\n      .d-icon {\n        color: var(--danger);\n      }\n    }\n    .widget-button {\n      &:hover {\n        color: currentColor;\n        background: var(--danger-low);\n        .d-icon {\n          color: currentColor;\n        }\n      }\n      &[disabled]:hover {\n        background-color: transparent;\n        cursor: not-allowed;\n      }\n      &.fade-out {\n        opacity: 1;\n      }\n    }\n    .d-icon {\n      color: var(--danger);\n    }\n  }\n  .post-action {\n    color: var(--danger);\n  }\n}\n\n@keyframes heartBump {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.5);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n.has-like .d-icon.heart-animation {\n  @media (prefers-reduced-motion: no-preference) {\n    animation: heartBump 0.4s;\n  }\n}\n\n@keyframes slideout {\n  from {\n    max-height: 60px;\n  }\n\n  to {\n    max-height: 9999px;\n  }\n}\n\n// we use aside to hold expandable quotes (versus, say, static blockquotes)\naside.quote {\n  margin-top: 1em;\n  margin-bottom: 1em;\n\n  .badge-wrapper {\n    margin-left: 5px;\n  }\n\n  .title {\n    @include post-aside;\n\n    color: var(--primary-high-or-secondary-low);\n    padding: 12px 12px 0px 12px;\n    // blockquote is underneath this and has top margin\n    .avatar {\n      margin-right: 7px;\n    }\n    img {\n      margin-top: -4px;\n    }\n    @include unselectable;\n  }\n\n  // blockquote is docked within aside for content\n  blockquote {\n    margin-top: 0;\n    .expanded-quote {\n      overflow: hidden;\n      @media (prefers-reduced-motion: no-preference) {\n        animation: slideout 1s ease-in-out;\n      }\n      &.icon-only {\n        text-align: center;\n        font-size: var(--font-up-4);\n        padding-top: 0.5em;\n        padding-bottom: 0.5em;\n        color: var(--primary-medium);\n      }\n    }\n  }\n}\n\n.quote-controls,\n.quote-controls .d-icon {\n  color: var(--primary-low-mid-or-secondary-high);\n}\n\n.quote-controls {\n  .quote-toggle {\n    padding: 0;\n  }\n}\n\n.cooked .highlight {\n  background-color: var(--tertiary-low);\n  padding: 2px;\n  margin: -2px;\n}\n\n.post-ignored {\n  font-style: italic;\n}\n\n.post-action {\n  color: var(--primary-medium);\n  .undo-action,\n  .act-action {\n    margin-left: 5px;\n  }\n}\n\n.small-user-list .unknown {\n  display: inline-block;\n  background-color: var(--primary-low);\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  vertical-align: middle;\n  margin-right: 0.25em;\n}\n\n.post-hidden {\n  .topic-avatar,\n  .cooked,\n  .topic-meta-data,\n  .post-actions {\n    opacity: 0.5;\n  }\n}\n\n.topic-post.staged {\n  opacity: 0.4;\n}\n\n.quote-controls {\n  float: right;\n  display: flex;\n  align-items: center;\n  a {\n    margin-left: 0.3em;\n  }\n}\n\n.quote-button {\n  flex-direction: column;\n\n  &.visible {\n    display: flex;\n  }\n\n  .buttons {\n    display: flex;\n  }\n\n  .extra {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n  }\n\n  .fast-edit-container {\n    display: flex;\n    padding: 0.5em;\n    padding-top: 0;\n    flex-direction: column;\n    align-items: flex-start;\n\n    #fast-edit-input {\n      margin: 0;\n      width: 300px;\n      height: 90px;\n    }\n\n    .save-fast-edit {\n      margin-top: 0.5em;\n    }\n  }\n\n  .insert-quote + .quote-sharing {\n    border-left: 1px solid rgba(255, 255, 255, 0.3);\n  }\n\n  .btn-flat {\n    &:hover {\n      .d-icon {\n        color: var(--tertiary);\n      }\n    }\n  }\n\n  .quote-sharing {\n    vertical-align: middle;\n    display: inline-flex;\n    align-items: center;\n\n    .btn {\n      display: inline-flex;\n      align-items: center;\n    }\n\n    .quote-share-label {\n      opacity: 1;\n      transition: opacity 0.3s ease-in-out;\n    }\n\n    &:hover {\n      .quote-share-label {\n        background: transparent;\n        opacity: 0;\n        max-width: 0;\n        padding: 0;\n        overflow: hidden;\n      }\n      .quote-share-label + .quote-share-buttons {\n        max-width: 10em;\n        opacity: 1;\n        transition: opacity 0.3s ease-in-out;\n      }\n      // this pseudo element creates a transition buffer zone\n      // without it, the width change on hover can cause transition jitter\n      // the width is roughly wide enough to cover long translations of \"share\"\n      &:after {\n        content: \"\";\n        position: absolute;\n        display: block;\n        background: transparent;\n        height: 100%;\n        padding: 0.5em 4em;\n        z-index: -1; // below the buttons\n      }\n    }\n\n    .quote-share-label + .quote-share-buttons {\n      opacity: 0;\n      overflow: hidden;\n      max-width: 0;\n      display: inline-flex;\n      transition: opacity 0.3s ease-in-out;\n    }\n  }\n}\n\n.post-avatar,\n.topic-avatar,\n.user-card-avatar {\n  position: relative;\n}\n\n.topic-map {\n  background: var(--primary-very-low);\n  border: 1px solid var(--primary-low);\n  border-top: none; // would cause double top border\n\n  .avatars {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    box-sizing: border-box;\n    a {\n      display: block;\n      position: relative;\n    }\n\n    .avatar {\n      width: 2.15em;\n      height: 2.15em;\n    }\n    .post-count {\n      position: absolute;\n      right: 0;\n      border-radius: 100px;\n      padding: 0.15em 0.4em 0.2em;\n      text-align: center;\n      font-weight: normal;\n      font-size: var(--font-down-2);\n      line-height: var(--line-height-small);\n    }\n  }\n\n  .avatar {\n    margin-right: 0.33em;\n  }\n\n  section {\n    border-top: 1px solid var(--primary-low);\n  }\n\n  ul {\n    display: flex;\n    flex-wrap: wrap;\n    margin: 0;\n    list-style: none;\n  }\n\n  h3 {\n    width: 100%;\n    margin-bottom: 0.33em;\n    color: var(--primary);\n    line-height: var(--line-height-large);\n    font-weight: normal;\n    font-size: var(--font-0);\n  }\n\n  h4 {\n    margin: 1px 0 2px 0;\n    color: var(--primary-med-or-secondary-med);\n    font-weight: normal;\n    font-size: var(--font-down-1);\n    line-height: var(--line-height-small);\n  }\n\n  span.domain {\n    font-size: var(--font-down-2);\n    color: var(--primary-med-or-secondary-med);\n  }\n\n  td {\n    vertical-align: top;\n    padding: 1px;\n    word-break: break-all;\n  }\n\n  .topic-links {\n    tr {\n      border: none;\n    }\n    .badge-notification {\n      margin: 1px 5px 2px 0;\n    }\n  }\n\n  .controls {\n    display: flex;\n    align-items: center;\n\n    .btn {\n      margin-right: 0.5em;\n\n      &:last-child {\n        margin: 0;\n      }\n    }\n  }\n\n  .participants {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n\n    & + .controls {\n      margin-top: 0.5em;\n    }\n\n    &.hide-names .user {\n      .username,\n      .group-name {\n        display: none;\n      }\n    }\n\n    .user {\n      border: 1px solid var(--primary-low);\n      border-radius: 0.25em;\n      padding: 0;\n      margin: 0.125em 0.25em 0.125em 0;\n      display: flex;\n      align-items: center;\n      height: 26px;\n\n      .user-link,\n      .group-link {\n        color: var(--primary-high);\n\n        &:hover {\n          color: var(--primary);\n        }\n      }\n\n      .avatar,\n      .d-icon-users {\n        margin-left: 0.25em;\n        margin-right: 0.25em;\n      }\n\n      .username,\n      .group-name {\n        margin-right: 0.25em;\n      }\n\n      &:last-child {\n        margin-right: 0;\n      }\n\n      .remove-invited {\n        display: flex;\n        flex: 1 0 0px;\n        align-items: center;\n        justify-content: center;\n        box-sizing: border-box;\n        border-radius: 0 var(--border-radius) var(--border-radius) 0;\n        padding-top: 0;\n        padding-bottom: 0;\n        height: calc(100% + 0.25em);\n        margin-right: -4px;\n      }\n    }\n  }\n\n  .add-remove-participant-btn {\n    .d-icon {\n      margin-left: 0.25em;\n    }\n  }\n}\n\n.topic-avatar,\n.avatar-flair-preview,\n.user-card-avatar,\n.topic-map .poster,\n.user-profile-avatar,\n.user-image,\n.latest-topic-list-item {\n  .avatar-flair {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-repeat: no-repeat;\n    background-position: center;\n    position: absolute;\n    bottom: 0;\n    right: -6px;\n  }\n}\n.topic-avatar .avatar-flair,\n.avatar-flair-preview .avatar-flair,\n.collapsed-info .user-profile-avatar .avatar-flair,\n.user-image .avatar-flair,\n.latest-topic-list-item .avatar-flair {\n  background-size: 20px 20px;\n  width: 20px;\n  height: 20px;\n  &.rounded {\n    background-size: 18px 18px;\n    border-radius: 12px;\n    width: 24px;\n    height: 24px;\n    bottom: -2px;\n    right: -8px;\n  }\n}\n.user-card-avatar .avatar-flair,\n.user-profile-avatar .avatar-flair {\n  background-size: 40px 40px;\n  width: 40px;\n  height: 40px;\n  &.rounded {\n    background-size: 30px 30px;\n    border-radius: 24px;\n    width: 40px;\n    height: 40px;\n    bottom: -2px;\n    right: -4px;\n  }\n  .fa {\n    font-size: var(--font-up-4);\n  }\n}\n.topic-map .poster .avatar-flair {\n  right: 0;\n  background-size: 12px 12px;\n  width: 16px;\n  height: 16px;\n  bottom: -3px;\n  color: var(--primary);\n  &.rounded {\n    background-size: 12px 12px;\n    border-radius: 8px;\n    width: 16px;\n    height: 16px;\n    bottom: -2px;\n    right: 0;\n  }\n  .d-icon {\n    font-size: var(--font-down-2);\n  }\n}\n\n.map {\n  &:first-of-type {\n    display: flex;\n    .buttons {\n      margin-left: auto;\n      order: 15;\n      .btn {\n        height: 100%;\n      }\n    }\n  }\n}\n\n.topic-body {\n  // this is necessary for ANYTHING that extends past the right edge of\n  // the post body, such as an image in a deeply nested list, image in\n  // a deeply nested blockquote, and so on.. you get the idea.\n  .cooked {\n    overflow: hidden;\n\n    .button-wrapper {\n      display: none;\n    }\n  }\n  .group-request {\n    border-top: 1px solid var(--primary-low);\n    padding-top: 0.5em;\n  }\n  @media (prefers-reduced-motion: no-preference) {\n    &.highlighted {\n      animation: background-fade-highlight 2.5s ease-out;\n    }\n  }\n  .deleted & {\n    // Disable so the deleted background is visible immediately\n    &.highlighted {\n      animation: none;\n    }\n  }\n}\n\n.post-info {\n  flex: 0 0 auto;\n  margin-right: 0.5em;\n\n  &.post-date {\n    margin-right: 0;\n  }\n  &.via-email,\n  &.whisper,\n  &.post-locked {\n    .d-icon {\n      font-size: var(--font-0);\n    }\n  }\n\n  .wiki,\n  .last-wiki-edit {\n    color: var(--wiki);\n  }\n\n  &.via-email {\n    color: var(--primary-low-mid-or-secondary-high);\n  }\n  &.raw-email {\n    cursor: pointer;\n  }\n  &.edits {\n    .widget-button {\n      display: flex;\n      align-items: center;\n      .d-button-label {\n        order: 0;\n        padding-right: 0.25em;\n        color: var(--primary-med-or-secondary-med);\n      }\n      .d-icon {\n        order: 1;\n        color: var(--primary-med-or-secondary-med);\n      }\n      .discourse-no-touch & {\n        &:hover {\n          .d-button-label {\n            color: var(--primary-high);\n          }\n          .d-icon {\n            color: var(--primary-high);\n          }\n        }\n      }\n      &:focus {\n        @include default-focus;\n        background: transparent;\n      }\n    }\n  }\n}\n\npre {\n  code {\n    word-wrap: normal;\n    display: block;\n    padding: 0.5em;\n    color: var(--primary);\n    background: var(--blend-primary-secondary-5);\n    max-height: 500px;\n  }\n\n  .bidi-warning,\n  .bidi-warning span {\n    font-style: normal;\n    background-color: var(--highlight);\n    color: var(--danger);\n    cursor: help;\n  }\n}\n\n.codeblock-buttons {\n  display: block;\n  position: relative;\n  overflow: visible;\n\n  .codeblock-button-wrapper {\n    position: absolute;\n    display: flex;\n  }\n\n  .copy-cmd,\n  .fullscreen-cmd {\n    @include unselectable;\n    top: 0;\n    min-height: 0;\n    font-size: var(--font-down-2);\n    min-height: 0;\n    font-size: var(--font-down-2);\n    opacity: 0.7;\n    cursor: pointer;\n\n    &.action-complete {\n      cursor: auto;\n      .d-icon {\n        color: var(--tertiary);\n      }\n    }\n\n    .d-icon {\n      pointer-events: none;\n      margin-right: 0;\n    }\n  }\n}\n\nkbd {\n  align-items: center;\n  border: 1px solid var(--primary-low-mid);\n  background: var(--primary-very-low);\n  border-bottom-width: 2px;\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: inline-flex;\n  gap: 0 0.5em; // space between text and images/emoji\n  font-size: var(--font-down-1);\n  justify-content: center;\n  line-height: var(--line-height-large);\n  margin: 0 0.15em;\n  min-width: 24px;\n  padding: 0.15em 0.6em;\n\n  // don't allow more than 3 nested elements to prevent FF from crashing\n  // cf. http://what.thedailywtf.com/t/nested-elements/7927\n  // 3 levels are needed to prevent highlighted words being hidden\n  // cf. https://meta.discourse.org/t/word-disappears-when-searched-and-in-details-summary-kbd-b/25741\n  * * * {\n    display: none;\n  }\n}\n\n// we assume blockquotes have their own margins, so all blockquotes\n// will remove margins from first (top) and last (bottom) child elements\nblockquote > *:first-child {\n  margin-top: 0 !important;\n}\nblockquote > *:last-child {\n  margin-bottom: 0 !important;\n}\n\n.gap {\n  padding: 0.25em 0 0.5em\n    calc(var(--topic-avatar-width) + var(--topic-body-width-padding));\n  color: var(--primary-med-or-secondary-high);\n  cursor: pointer;\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: var(--font-down-1);\n}\n\n.who-liked,\n.who-read {\n  transition: height 0.5s;\n  a {\n    margin: 0 0.25em 0.5em 0;\n    display: inline-block;\n  }\n}\n\n.reviewable .post-body,\n.cooked table,\n.d-editor-preview table {\n  thead {\n    th {\n      text-align: left;\n      padding-bottom: 2px;\n      font-weight: bold;\n      color: var(--primary);\n    }\n  }\n\n  td {\n    padding: 3px 3px 3px 0.5em;\n  }\n}\n\n.small-action {\n  display: flex;\n  align-items: center;\n\n  &.deleted {\n    background-color: var(--danger-low-mid);\n  }\n\n  .topic-avatar,\n  .small-action-desc {\n    border-top: 1px solid var(--primary-low);\n  }\n\n  .topic-avatar {\n    display: flex;\n    align-self: stretch;\n    flex: 0 0 auto;\n    margin: 0;\n    padding-top: 1em;\n    width: var(--topic-avatar-width);\n    justify-content: center;\n    .d-icon {\n      font-size: var(--font-up-3);\n      width: var(--topic-avatar-width);\n      color: var(--primary-low-mid);\n    }\n  }\n\n  .small-action-desc {\n    box-sizing: border-box;\n    display: flex;\n    flex-wrap: wrap;\n    color: var(--primary-700);\n    padding: 1em 0 1em var(--topic-body-width-padding);\n    width: calc(\n      var(--topic-body-width) + (var(--topic-body-width-padding) * 2)\n    );\n    min-width: 0; // Allows flex container to shrink\n\n    .avatar {\n      margin-right: 0.5em;\n      float: left;\n    }\n\n    p {\n      margin: 0;\n      padding: 0.15em 0.5em 0 0;\n    }\n  }\n\n  .small-action-contents {\n    flex: 1 1 auto;\n  }\n\n  .small-action-buttons {\n    margin-left: auto;\n  }\n\n  .small-action-custom-message {\n    flex: 1 1 100%;\n    font-weight: normal;\n    margin-top: 0.5em;\n    word-break: break-word;\n    min-width: 0; // Allows content like oneboxes to shrink\n    color: var(--primary);\n    p {\n      margin-bottom: 0;\n    }\n  }\n\n  button {\n    background: transparent;\n    font-size: var(--font-down-1);\n    .d-icon {\n      color: var(--primary-500);\n    }\n\n    .discourse-no-touch & {\n      &:hover,\n      &:focus {\n        background: var(--primary-200);\n        .d-icon {\n          color: var(--primary);\n        }\n      }\n    }\n  }\n\n  &.topic-post-visited {\n    .topic-post-visited-line {\n      text-align: center;\n      border-bottom: 1px solid var(--danger-medium);\n      z-index: z(\"base\") + 2; // ensures last visit border is on top of post borders\n      line-height: 0;\n      margin: 0;\n      margin-bottom: -1px;\n      color: var(--danger-medium);\n      font-size: var(--font-down-1);\n      width: calc(\n        var(--topic-body-width) + var(--topic-avatar-width) +\n          (var(--topic-body-width-padding) * 2)\n      );\n      .topic-post-visited-message {\n        background-color: var(--secondary);\n        padding: 0 0.5em;\n      }\n    }\n  }\n}\n\n.whisper {\n  .post-info.whisper {\n    margin-left: 0.5em;\n  }\n  .topic-body {\n    .cooked {\n      font-style: italic;\n      color: var(--primary-medium);\n    }\n  }\n}\n\na.mention,\na.mention-group {\n  // linked\n  @include mention;\n}\n\n.mention .emoji {\n  margin-left: 0.3em;\n  width: 15px;\n  height: 15px;\n}\n\nspan.mention {\n  // unlinked, invalid mention\n  color: var(--primary-high);\n}\n\n.suggested-topics {\n  .topics {\n    padding-bottom: 15px;\n  }\n  .suggested-topics-message {\n    .badge-wrapper {\n      margin-right: 0;\n    }\n  }\n}\n\n.large-image-placeholder {\n  > a {\n    &.link {\n      margin-right: 10px;\n    }\n\n    > * {\n      overflow: hidden;\n      vertical-align: middle;\n    }\n\n    > .d-icon {\n      color: var(--primary-med-or-secondary-med);\n      margin-right: 6px;\n      font-size: var(--font-0);\n      line-height: var(--line-height-large);\n    }\n\n    > span.url {\n      display: inline-block;\n      max-width: 300px;\n      margin-right: 6px;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    > span.help {\n      display: inline-block;\n      color: var(--primary-med-or-secondary-med);\n      font-size: var(--font-down-1);\n      font-style: italic;\n      line-height: var(--line-height-large);\n      margin-bottom: 1px;\n    }\n\n    > span.badge-notification {\n      vertical-align: unset;\n    }\n  }\n}\n\n.broken-image,\n.blocked-hotlinked-placeholder {\n  &:not(a) {\n    color: var(--primary-low-mid-or-secondary-high);\n  }\n\n  display: inline-flex;\n  flex-direction: column;\n  border: 1px solid var(--primary-low);\n  align-items: center;\n  justify-content: center;\n\n  .d-icon {\n    margin: 16px;\n    font-size: var(--font-up-5);\n  }\n\n  .notice {\n    margin: 0 0.5em 0.5em 0.5em;\n  }\n}\n\n/* below standard tablet portrait ----------- */\n\n.reply-to-tab {\n  display: flex;\n  align-items: center;\n  margin-right: 2em;\n  max-width: 400px;\n  overflow: hidden;\n\n  img {\n    margin: 0 0.25em;\n  }\n}\n\n// Select posts\n\n.topic-post {\n  &.selected {\n    article.boxed {\n      .select-posts {\n        button.select-post {\n          background-color: var(--tertiary);\n          color: var(--secondary);\n          border-color: var(--tertiary);\n        }\n      }\n      .topic-body {\n        .contents:after {\n          display: none;\n        }\n      }\n    }\n  }\n  article.boxed {\n    position: relative;\n    .select-posts {\n      position: absolute;\n      right: 7em;\n      z-index: z(\"dropdown\");\n      top: 0.5em;\n      height: 100px;\n      button {\n        margin-left: 8px;\n        background-color: var(--primary-low);\n        color: var(--primary);\n        box-shadow: var(--shadow-dropdown);\n      }\n    }\n  }\n}\n\n@media all and (max-width: 767px) {\n  .reply-to-tab {\n    span {\n      display: none;\n    }\n  }\n  .user-title {\n    float: left;\n    clear: left;\n  }\n}\n\n.signup-cta {\n  box-sizing: border-box;\n  max-width: calc(var(--topic-body-width) + 4.5em);\n  padding: 3em 5em 2em\n    calc(var(--topic-avatar-width) + var(--topic-body-width-padding));\n  @include breakpoint(mobile-extra-large) {\n    padding: 1.5em 1.5em 0.25em;\n  }\n  h3 {\n    margin-bottom: 0.5em;\n  }\n  a {\n    text-decoration: underline;\n  }\n  .buttons {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    margin: 1.5em 0 1em;\n    > * {\n      margin-bottom: 0.5em;\n    }\n    .btn {\n      margin-right: 0.5em;\n      white-space: nowrap;\n      &.btn-remind {\n        background: var(--primary-very-low);\n        margin-right: auto;\n        @include hover {\n          background: var(--primary-medium);\n        }\n      }\n      @include breakpoint(mobile-extra-large) {\n        &.btn-primary {\n          margin-right: 100%;\n        }\n      }\n    }\n  }\n}\n\n.post-notice {\n  box-sizing: border-box;\n  align-items: center;\n  background-color: var(--tertiary-low);\n  border-top: 1px solid var(--primary-low);\n  display: flex;\n  width: 100%;\n  max-width: calc(\n    var(--topic-body-width) + (var(--topic-body-width-padding) * 2) +\n      var(--topic-avatar-width)\n  );\n  padding: var(--topic-body-width-padding);\n  padding-left: 0;\n  &.old {\n    background-color: unset;\n    color: var(--primary-medium);\n\n    .d-icon {\n      color: var(--primary-medium);\n    }\n  }\n\n  p {\n    margin: 0;\n  }\n\n  .d-icon {\n    font-size: 2em;\n    width: var(--topic-avatar-width);\n    color: var(--primary-high);\n    margin-right: var(--topic-body-width-padding);\n  }\n}\n\n#topic-footer-buttons {\n  margin: var(--below-topic-margin) 0;\n  padding: 0;\n\n  .topic-footer-main-buttons {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: stretch; // aligns items by making them the same height\n    button,\n    details {\n      margin-right: 0.54em;\n    }\n    > * {\n      margin-bottom: 0.5em; // all immediate children should have a bottom margin in case of wrapping\n    }\n    .topic-admin-menu-button-container {\n      display: inline-flex;\n      .topic-admin-menu-button {\n        display: flex; // to make this button match siblings behavior, all of its parents need to be flex\n      }\n    }\n  }\n\n  .pinned-button:not(.is-hidden) + .topic-notifications-button {\n    margin-top: 0;\n  }\n\n  .pinned-button,\n  .topic-notifications-button {\n    margin: 0.5em 0 1em;\n\n    .reason {\n      color: var(--primary-high);\n      display: inline-flex;\n      margin: 0;\n      align-items: center;\n\n      .dropdown-select-box {\n        .select-kit-selected-name {\n          width: 100%;\n          overflow: hidden;\n        }\n        .name {\n          @include ellipsis;\n        }\n      }\n\n      .text {\n        margin-left: 0.5em;\n        line-height: var(--line-height-medium);\n      }\n    }\n  }\n}\n\niframe {\n  max-width: 100%;\n  max-height: #{\"min(1000px, 200vh)\"};\n}\n\n.post-admin-menu {\n  display: inline-flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  width: auto;\n  max-width: 320px;\n  position: absolute;\n  text-align: left;\n  bottom: -2px;\n  right: 15px;\n}\n\n.posts-filtered-notice {\n  position: -webkit-sticky;\n  position: sticky;\n  background-color: var(--tertiary-low);\n  bottom: 0;\n  padding: 1em;\n  margin-top: 0.5em;\n  text-align: center;\n  z-index: 2;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  max-width: calc(\n    var(--topic-body-width) + (var(--topic-body-width-padding) * 2) +\n      var(--topic-avatar-width)\n  );\n\n  .filtered-avatar {\n    margin: 0 0.5em;\n    + .names {\n      flex: inherit;\n    }\n  }\n\n  .filtered-replies-show-all {\n    margin-left: 1em;\n  }\n\n  .filtered-user-row {\n    @include ellipsis;\n  }\n}\n\n.pausable-animated-image {\n  position: relative;\n  display: inline-block;\n\n  > canvas,\n  > .animated-image-overlay {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n  }\n\n  > canvas {\n    background-color: var(--primary-very-low);\n  }\n\n  > .animated-image-overlay {\n    pointer-events: none;\n    text-align: right;\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-end;\n    > .d-icon {\n      cursor: pointer;\n      padding: 0.5em;\n      margin: 0.5em;\n      background-color: rgba(var(--always-black-rgb), 0.25);\n      color: var(--secondary-or-primary);\n      cursor: pointer;\n      display: none;\n    }\n  }\n\n  img.animated {\n    cursor: pointer;\n  }\n\n  html.no-touch\n    &:not(.paused-animated-image)\n    .animated:hover\n    + .animated-image-overlay\n    .d-icon-pause {\n    display: initial;\n  }\n\n  &.paused-animated-image\n    .animated.manually-paused\n    + .animated-image-overlay\n    .d-icon-play {\n    display: initial;\n  }\n}\n\n.paused-animated-image {\n  img.animated {\n    // need to keep the image hidden but clickable\n    // so the user can resume animation\n    opacity: 0;\n  }\n}\n\n.open-popup-link {\n  position: sticky;\n  left: 1rem;\n  opacity: 0%;\n  white-space: nowrap;\n}\n\n.fullscreen-table-wrapper {\n  transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);\n  display: block;\n  position: relative;\n\n  &--buttons {\n    position: absolute;\n    top: 0.5rem;\n    right: 0.5rem;\n  }\n}\n\n.fullscreen-table-modal .modal-inner-container,\n.fullscreen-code-modal .modal-inner-container {\n  width: max-content;\n  max-width: 90%;\n  margin: 0 auto;\n  padding: 10px;\n\n  .modal-body {\n    padding-top: 0;\n  }\n\n  thead {\n    position: sticky;\n    top: 0;\n    z-index: 1;\n    background-color: var(--secondary);\n  }\n\n  tbody {\n    overflow-x: hidden;\n  }\n\n  td {\n    padding: 0.5rem;\n  }\n}\n\n.fullscreen-code-modal {\n  pre code {\n    max-width: none;\n  }\n}\n\nhtml.discourse-no-touch .fullscreen-table-wrapper:hover {\n  border-radius: 5px;\n  box-shadow: 0 2px 5px 0 rgba(var(--always-black-rgb), 0.1),\n    0 2px 10px 0 rgba(var(--always-black-rgb), 0.1);\n  .open-popup-link {\n    opacity: 100%;\n  }\n}\n"], "fixing_code": ["#main-outlet > .regular {\n  background: var(--d-content-background);\n}\n\n.button-count.has-pending {\n  span {\n    background-color: var(--danger);\n    color: var(--secondary);\n    border-radius: 10px;\n    padding: 0.25em 0.5em;\n    display: inline-block;\n    font-size: 0.8em;\n  }\n}\n\n.placeholder-avatar {\n  display: inline-block;\n  width: 45px;\n  height: 45px;\n  border-radius: 50%;\n  position: relative;\n  overflow: hidden;\n  &:before {\n    @media (prefers-reduced-motion: no-preference) {\n      animation: placeHolderShimmer 4s linear infinite forwards;\n    }\n    position: absolute;\n    left: 0;\n    content: \"\";\n    background: linear-gradient(\n      to right,\n      var(--primary-very-low) 10%,\n      var(--primary-low) 28%,\n      var(--primary-very-low) 43%\n    );\n    height: 45px;\n    width: 700px;\n  }\n}\n\n.placeholder-text {\n  margin-left: var(--topic-body-width-padding);\n  display: inline-block;\n  width: calc(100% - var(--topic-body-width-padding));\n  height: 1.5em;\n  margin-bottom: 0.6em;\n}\n\n.post-stream .placeholder .row {\n  display: flex;\n}\n\n.names {\n  flex: 1 1 auto;\n  overflow: hidden;\n  span.first {\n    display: flex;\n    align-items: baseline;\n    font-weight: bold;\n  }\n\n  span {\n    font-size: var(--font-0);\n    margin-right: 8px;\n    display: inline-block;\n    @include ellipsis;\n    vertical-align: middle;\n    a {\n      color: var(--primary-high-or-secondary-low);\n    }\n  }\n  .fa {\n    font-size: var(--font-down-1);\n    color: var(--primary-med-or-secondary-med);\n  }\n  .svg-icon-title {\n    margin-left: 3px;\n    margin-right: 0px;\n  }\n  .new_user a,\n  .user-title,\n  .user-title a {\n    color: var(--primary-med-or-secondary-med);\n  }\n}\n\n// global styles for the cooked HTML content in posts (and preview)\n.cooked,\n.d-editor-preview {\n  word-wrap: break-word;\n  line-height: var(--line-height-large);\n\n  > *:first-child {\n    margin-top: 0;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin: 30px 0 10px;\n    line-height: var(--line-height-medium);\n    a.anchor {\n      opacity: 0;\n      transition: opacity 0.25s;\n      &:before {\n        content: svg-uri(\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16px\" height=\"16px\" viewBox=\"0 0 512 512\" fill=\"#{$primary-medium}\"><path d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\"></path></svg>'\n        );\n        line-height: 1.4;\n        margin-left: -20px;\n        padding-right: 4px;\n        position: absolute;\n        z-index: 2;\n      }\n    }\n\n    // show when hovering where icon should be\n    // show when hovering header\n    .discourse-no-touch & a.anchor:hover,\n    .discourse-no-touch &:hover a.anchor {\n      opacity: 1;\n    }\n  }\n\n  h1 {\n    font-size: var(--font-up-3-rem);\n  }\n\n  h2 {\n    font-size: var(--font-up-2-rem);\n  }\n\n  h3 {\n    font-size: var(--font-up-1-rem);\n  }\n\n  h4 {\n    font-size: var(--font-0-rem);\n  }\n\n  h5 {\n    font-size: var(--font-down-1-rem);\n  }\n\n  h6 {\n    font-size: var(--font-down-2-rem);\n  }\n\n  a {\n    word-wrap: break-word;\n  }\n\n  mark {\n    text-decoration: none;\n  }\n\n  ins {\n    background-color: var(--success-low);\n    text-decoration: underline;\n  }\n  del {\n    background-color: var(--danger-low);\n    text-decoration: line-through;\n  }\n  mark {\n    background-color: var(--highlight);\n  }\n  // Prevents users from breaking posts with tag nesting\n  big {\n    font-size: 1.5rem;\n  }\n  small {\n    font-size: 0.75rem;\n  }\n  small small {\n    font-size: 0.75em;\n  }\n  big big {\n    font-size: 1em;\n  }\n  sub sub sub {\n    bottom: 0;\n  }\n  sup sup sup {\n    top: 0;\n  }\n}\n\n.cooked,\n.d-editor-preview {\n  video {\n    max-width: 100%;\n  }\n  sup sup {\n    top: 0;\n  }\n\n  img:not(.thumbnail):not(.ytp-thumbnail-image):not(.emoji) {\n    max-width: 100%;\n    height: auto;\n    display: inline-block; // Ensure dimensions are maintained even after load error\n\n    @supports not (aspect-ratio: 1) {\n      // (see javascripts/discourse/app/initializers/image-aspect-ratio.js)\n      height: var(--calculated-height);\n    }\n  }\n\n  svg {\n    max-height: 2000px;\n  }\n}\n\n// add staff color\n.moderator {\n  .regular > .cooked {\n    background-color: var(--highlight-bg);\n  }\n  .clearfix > .topic-meta-data > .names {\n    span.user-title {\n      color: var(--primary-high-or-secondary-low);\n      a {\n        background-color: var(--highlight-bg);\n        padding-left: 4px;\n        padding-right: 4px;\n      }\n    }\n  }\n}\n\n.topic-meta-data {\n  display: flex;\n  align-items: flex-start;\n\n  .names {\n    margin-right: auto;\n  }\n\n  .post-infos {\n    display: flex;\n    flex: 0 0 auto;\n    align-items: center;\n  }\n\n  .user-status-message {\n    display: flex;\n    img.emoji {\n      width: 1em;\n      height: 1em;\n    }\n  }\n}\n\nnav.post-controls {\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: var(--primary-low-mid);\n\n  .actions {\n    display: inline-flex;\n    text-align: right;\n    margin-left: auto;\n\n    // Some buttons can be doubled up, like likes or flags\n    .double-button {\n      display: inline-flex;\n      flex: 0 1 auto;\n      align-items: center;\n      white-space: nowrap;\n      button {\n        // It looks really confusing when one half a double button has an inner shadow on click.\n        &:active {\n          box-shadow: none;\n        }\n        &.my-likes,\n        &.read-indicator,\n        &.regular-likes {\n          // Like count on posts\n          .d-icon {\n            color: var(--primary-low-mid);\n            padding-left: 0.45em;\n          }\n        }\n        &.has-like {\n          // Like button after I've liked\n          .d-icon {\n            color: var(--love);\n          }\n        }\n        &[disabled] {\n          // Disabled like button\n          cursor: not-allowed;\n        }\n        &.button-count {\n          // Like count button\n          height: 100%; // sometimes the font might be shorter than the icon\n          &:not(.my-likes) {\n            padding-right: 0;\n          }\n          + .toggle-like {\n            // Like button when like count is present\n            padding-left: 0.45em;\n          }\n        }\n      }\n    }\n    a,\n    button {\n      color: var(--primary-low-mid-or-secondary-high);\n      .d-icon {\n        opacity: 1;\n      }\n      display: inline-block;\n    }\n\n    button {\n      flex: 0 1 auto;\n      font-size: var(--font-up-1);\n      padding: 8px 10px;\n      vertical-align: top;\n      background: transparent;\n      border: none;\n      .d-icon {\n        // this avoids an issue where hovering off the icon\n        // removes the .d-hover class from the button prematurely\n        pointer-events: none;\n      }\n      &.d-hover,\n      &:focus,\n      &:active {\n        outline: none;\n        background: var(--primary-low);\n        color: var(--primary);\n      }\n      &.hidden {\n        display: none;\n      }\n      &.admin {\n        position: relative;\n      }\n      &.delete.d-hover,\n      &.delete:active,\n      &.delete:focus {\n        background: var(--danger);\n        color: var(--secondary);\n        .d-icon {\n          color: var(--secondary);\n        }\n      }\n      &.bookmarked .d-icon {\n        color: var(--tertiary);\n      }\n      &.create {\n        margin-right: 0;\n        color: var(--primary-high-or-secondary-low);\n        .d-icon {\n          color: var(--primary-high-or-secondary-low);\n        }\n      }\n    }\n  }\n\n  .show-replies {\n    font-size: var(--font-up-1);\n    font-size: inherit;\n    padding: 10px;\n    color: var(--primary-medium);\n    &:hover,\n    &:focus {\n      outline: none;\n      color: var(--primary);\n      background: var(--primary-low);\n    }\n    .d-icon {\n      font-size: var(--font-down-1);\n    }\n    .d-button-label + .d-icon {\n      margin-left: 0.45em;\n      margin-right: 0;\n    }\n  }\n}\n\n.deleted {\n  .regular > .cooked {\n    background-color: var(--danger-low-mid);\n  }\n  .topic-meta-data:not(.embedded-reply) {\n    color: var(--danger);\n\n    .post-info a,\n    a {\n      color: currentColor;\n    }\n\n    .d-icon {\n      color: currentColor;\n    }\n  }\n  nav.post-controls {\n    color: var(--danger);\n\n    .show-replies,\n    button.reply.create {\n      color: var(--danger);\n      .d-icon {\n        color: var(--danger);\n      }\n    }\n    .widget-button {\n      &:hover {\n        color: currentColor;\n        background: var(--danger-low);\n        .d-icon {\n          color: currentColor;\n        }\n      }\n      &[disabled]:hover {\n        background-color: transparent;\n        cursor: not-allowed;\n      }\n      &.fade-out {\n        opacity: 1;\n      }\n    }\n    .d-icon {\n      color: var(--danger);\n    }\n  }\n  .post-action {\n    color: var(--danger);\n  }\n}\n\n@keyframes heartBump {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.5);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n.has-like .d-icon.heart-animation {\n  @media (prefers-reduced-motion: no-preference) {\n    animation: heartBump 0.4s;\n  }\n}\n\n@keyframes slideout {\n  from {\n    max-height: 60px;\n  }\n\n  to {\n    max-height: 9999px;\n  }\n}\n\n// we use aside to hold expandable quotes (versus, say, static blockquotes)\naside.quote {\n  margin-top: 1em;\n  margin-bottom: 1em;\n\n  .badge-wrapper {\n    margin-left: 5px;\n  }\n\n  .title {\n    @include post-aside;\n\n    color: var(--primary-high-or-secondary-low);\n    padding: 12px 12px 0px 12px;\n    // blockquote is underneath this and has top margin\n    .avatar {\n      margin-right: 7px;\n    }\n    img {\n      margin-top: -4px;\n    }\n    @include unselectable;\n  }\n\n  // blockquote is docked within aside for content\n  blockquote {\n    margin-top: 0;\n    .expanded-quote {\n      overflow: hidden;\n      @media (prefers-reduced-motion: no-preference) {\n        animation: slideout 1s ease-in-out;\n      }\n      &.icon-only {\n        text-align: center;\n        font-size: var(--font-up-4);\n        padding-top: 0.5em;\n        padding-bottom: 0.5em;\n        color: var(--primary-medium);\n      }\n    }\n  }\n}\n\n.quote-controls,\n.quote-controls .d-icon {\n  color: var(--primary-low-mid-or-secondary-high);\n}\n\n.quote-controls {\n  .quote-toggle {\n    padding: 0;\n  }\n}\n\n.cooked .highlight {\n  background-color: var(--tertiary-low);\n  padding: 2px;\n  margin: -2px;\n}\n\n.post-ignored {\n  font-style: italic;\n}\n\n.post-action {\n  color: var(--primary-medium);\n  .undo-action,\n  .act-action {\n    margin-left: 5px;\n  }\n}\n\n.small-user-list .unknown {\n  display: inline-block;\n  background-color: var(--primary-low);\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  vertical-align: middle;\n  margin-right: 0.25em;\n}\n\n.post-hidden {\n  .topic-avatar,\n  .cooked,\n  .topic-meta-data,\n  .post-actions {\n    opacity: 0.5;\n  }\n}\n\n.topic-post.staged {\n  opacity: 0.4;\n}\n\n.quote-controls {\n  float: right;\n  display: flex;\n  align-items: center;\n  a {\n    margin-left: 0.3em;\n  }\n}\n\n.quote-button {\n  flex-direction: column;\n\n  &.visible {\n    display: flex;\n  }\n\n  .buttons {\n    display: flex;\n  }\n\n  .extra {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n  }\n\n  .fast-edit-container {\n    display: flex;\n    padding: 0.5em;\n    padding-top: 0;\n    flex-direction: column;\n    align-items: flex-start;\n\n    #fast-edit-input {\n      margin: 0;\n      width: 300px;\n      height: 90px;\n    }\n\n    .save-fast-edit {\n      margin-top: 0.5em;\n    }\n  }\n\n  .insert-quote + .quote-sharing {\n    border-left: 1px solid rgba(255, 255, 255, 0.3);\n  }\n\n  .btn-flat {\n    &:hover {\n      .d-icon {\n        color: var(--tertiary);\n      }\n    }\n  }\n\n  .quote-sharing {\n    vertical-align: middle;\n    display: inline-flex;\n    align-items: center;\n\n    .btn {\n      display: inline-flex;\n      align-items: center;\n    }\n\n    .quote-share-label {\n      opacity: 1;\n      transition: opacity 0.3s ease-in-out;\n    }\n\n    &:hover {\n      .quote-share-label {\n        background: transparent;\n        opacity: 0;\n        max-width: 0;\n        padding: 0;\n        overflow: hidden;\n      }\n      .quote-share-label + .quote-share-buttons {\n        max-width: 10em;\n        opacity: 1;\n        transition: opacity 0.3s ease-in-out;\n      }\n      // this pseudo element creates a transition buffer zone\n      // without it, the width change on hover can cause transition jitter\n      // the width is roughly wide enough to cover long translations of \"share\"\n      &:after {\n        content: \"\";\n        position: absolute;\n        display: block;\n        background: transparent;\n        height: 100%;\n        padding: 0.5em 4em;\n        z-index: -1; // below the buttons\n      }\n    }\n\n    .quote-share-label + .quote-share-buttons {\n      opacity: 0;\n      overflow: hidden;\n      max-width: 0;\n      display: inline-flex;\n      transition: opacity 0.3s ease-in-out;\n    }\n  }\n}\n\n.post-avatar,\n.topic-avatar,\n.user-card-avatar {\n  position: relative;\n}\n\n.topic-map {\n  background: var(--primary-very-low);\n  border: 1px solid var(--primary-low);\n  border-top: none; // would cause double top border\n\n  .avatars {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    box-sizing: border-box;\n    a {\n      display: block;\n      position: relative;\n    }\n\n    .avatar {\n      width: 2.15em;\n      height: 2.15em;\n    }\n    .post-count {\n      position: absolute;\n      right: 0;\n      border-radius: 100px;\n      padding: 0.15em 0.4em 0.2em;\n      text-align: center;\n      font-weight: normal;\n      font-size: var(--font-down-2);\n      line-height: var(--line-height-small);\n    }\n  }\n\n  .avatar {\n    margin-right: 0.33em;\n  }\n\n  section {\n    border-top: 1px solid var(--primary-low);\n  }\n\n  ul {\n    display: flex;\n    flex-wrap: wrap;\n    margin: 0;\n    list-style: none;\n  }\n\n  h3 {\n    width: 100%;\n    margin-bottom: 0.33em;\n    color: var(--primary);\n    line-height: var(--line-height-large);\n    font-weight: normal;\n    font-size: var(--font-0);\n  }\n\n  h4 {\n    margin: 1px 0 2px 0;\n    color: var(--primary-med-or-secondary-med);\n    font-weight: normal;\n    font-size: var(--font-down-1);\n    line-height: var(--line-height-small);\n  }\n\n  span.domain {\n    font-size: var(--font-down-2);\n    color: var(--primary-med-or-secondary-med);\n  }\n\n  td {\n    vertical-align: top;\n    padding: 1px;\n    word-break: break-all;\n  }\n\n  .topic-links {\n    tr {\n      border: none;\n    }\n    .badge-notification {\n      margin: 1px 5px 2px 0;\n    }\n  }\n\n  .controls {\n    display: flex;\n    align-items: center;\n\n    .btn {\n      margin-right: 0.5em;\n\n      &:last-child {\n        margin: 0;\n      }\n    }\n  }\n\n  .participants {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n\n    & + .controls {\n      margin-top: 0.5em;\n    }\n\n    &.hide-names .user {\n      .username,\n      .group-name {\n        display: none;\n      }\n    }\n\n    .user {\n      border: 1px solid var(--primary-low);\n      border-radius: 0.25em;\n      padding: 0;\n      margin: 0.125em 0.25em 0.125em 0;\n      display: flex;\n      align-items: center;\n      height: 26px;\n\n      .user-link,\n      .group-link {\n        color: var(--primary-high);\n\n        &:hover {\n          color: var(--primary);\n        }\n      }\n\n      .avatar,\n      .d-icon-users {\n        margin-left: 0.25em;\n        margin-right: 0.25em;\n      }\n\n      .username,\n      .group-name {\n        margin-right: 0.25em;\n      }\n\n      &:last-child {\n        margin-right: 0;\n      }\n\n      .remove-invited {\n        display: flex;\n        flex: 1 0 0px;\n        align-items: center;\n        justify-content: center;\n        box-sizing: border-box;\n        border-radius: 0 var(--border-radius) var(--border-radius) 0;\n        padding-top: 0;\n        padding-bottom: 0;\n        height: calc(100% + 0.25em);\n        margin-right: -4px;\n      }\n    }\n  }\n\n  .add-remove-participant-btn {\n    .d-icon {\n      margin-left: 0.25em;\n    }\n  }\n}\n\n.topic-avatar,\n.avatar-flair-preview,\n.user-card-avatar,\n.topic-map .poster,\n.user-profile-avatar,\n.user-image,\n.latest-topic-list-item {\n  .avatar-flair {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-repeat: no-repeat;\n    background-position: center;\n    position: absolute;\n    bottom: 0;\n    right: -6px;\n  }\n}\n.topic-avatar .avatar-flair,\n.avatar-flair-preview .avatar-flair,\n.collapsed-info .user-profile-avatar .avatar-flair,\n.user-image .avatar-flair,\n.latest-topic-list-item .avatar-flair {\n  background-size: 20px 20px;\n  width: 20px;\n  height: 20px;\n  &.rounded {\n    background-size: 18px 18px;\n    border-radius: 12px;\n    width: 24px;\n    height: 24px;\n    bottom: -2px;\n    right: -8px;\n  }\n}\n.user-card-avatar .avatar-flair,\n.user-profile-avatar .avatar-flair {\n  background-size: 40px 40px;\n  width: 40px;\n  height: 40px;\n  &.rounded {\n    background-size: 30px 30px;\n    border-radius: 24px;\n    width: 40px;\n    height: 40px;\n    bottom: -2px;\n    right: -4px;\n  }\n  .fa {\n    font-size: var(--font-up-4);\n  }\n}\n.topic-map .poster .avatar-flair {\n  right: 0;\n  background-size: 12px 12px;\n  width: 16px;\n  height: 16px;\n  bottom: -3px;\n  color: var(--primary);\n  &.rounded {\n    background-size: 12px 12px;\n    border-radius: 8px;\n    width: 16px;\n    height: 16px;\n    bottom: -2px;\n    right: 0;\n  }\n  .d-icon {\n    font-size: var(--font-down-2);\n  }\n}\n\n.map {\n  &:first-of-type {\n    display: flex;\n    .buttons {\n      margin-left: auto;\n      order: 15;\n      .btn {\n        height: 100%;\n      }\n    }\n  }\n}\n\n.topic-body {\n  // this is necessary for ANYTHING that extends past the right edge of\n  // the post body, such as an image in a deeply nested list, image in\n  // a deeply nested blockquote, and so on.. you get the idea.\n  .cooked {\n    overflow: hidden;\n\n    .button-wrapper {\n      display: none;\n    }\n  }\n  .group-request {\n    border-top: 1px solid var(--primary-low);\n    padding-top: 0.5em;\n  }\n  @media (prefers-reduced-motion: no-preference) {\n    &.highlighted {\n      animation: background-fade-highlight 2.5s ease-out;\n    }\n  }\n  .deleted & {\n    // Disable so the deleted background is visible immediately\n    &.highlighted {\n      animation: none;\n    }\n  }\n}\n\n.post-info {\n  flex: 0 0 auto;\n  margin-right: 0.5em;\n\n  &.post-date {\n    margin-right: 0;\n  }\n  &.via-email,\n  &.whisper,\n  &.post-locked {\n    .d-icon {\n      font-size: var(--font-0);\n    }\n  }\n\n  .wiki,\n  .last-wiki-edit {\n    color: var(--wiki);\n  }\n\n  &.via-email {\n    color: var(--primary-low-mid-or-secondary-high);\n  }\n  &.raw-email {\n    cursor: pointer;\n  }\n  &.edits {\n    .widget-button {\n      display: flex;\n      align-items: center;\n      .d-button-label {\n        order: 0;\n        padding-right: 0.25em;\n        color: var(--primary-med-or-secondary-med);\n      }\n      .d-icon {\n        order: 1;\n        color: var(--primary-med-or-secondary-med);\n      }\n      .discourse-no-touch & {\n        &:hover {\n          .d-button-label {\n            color: var(--primary-high);\n          }\n          .d-icon {\n            color: var(--primary-high);\n          }\n        }\n      }\n      &:focus {\n        @include default-focus;\n        background: transparent;\n      }\n    }\n  }\n}\n\npre {\n  max-height: 2000px;\n  code {\n    word-wrap: normal;\n    display: block;\n    padding: 0.5em;\n    color: var(--primary);\n    background: var(--blend-primary-secondary-5);\n    max-height: 500px;\n  }\n\n  .bidi-warning,\n  .bidi-warning span {\n    font-style: normal;\n    background-color: var(--highlight);\n    color: var(--danger);\n    cursor: help;\n  }\n}\n\n.codeblock-buttons {\n  display: block;\n  position: relative;\n  overflow: visible;\n\n  .codeblock-button-wrapper {\n    position: absolute;\n    display: flex;\n  }\n\n  .copy-cmd,\n  .fullscreen-cmd {\n    @include unselectable;\n    top: 0;\n    min-height: 0;\n    font-size: var(--font-down-2);\n    min-height: 0;\n    font-size: var(--font-down-2);\n    opacity: 0.7;\n    cursor: pointer;\n\n    &.action-complete {\n      cursor: auto;\n      .d-icon {\n        color: var(--tertiary);\n      }\n    }\n\n    .d-icon {\n      pointer-events: none;\n      margin-right: 0;\n    }\n  }\n}\n\nkbd {\n  align-items: center;\n  border: 1px solid var(--primary-low-mid);\n  background: var(--primary-very-low);\n  border-bottom-width: 2px;\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: inline-flex;\n  gap: 0 0.5em; // space between text and images/emoji\n  font-size: var(--font-down-1);\n  justify-content: center;\n  line-height: var(--line-height-large);\n  margin: 0 0.15em;\n  min-width: 24px;\n  padding: 0.15em 0.6em;\n\n  // don't allow more than 3 nested elements to prevent FF from crashing\n  // cf. http://what.thedailywtf.com/t/nested-elements/7927\n  // 3 levels are needed to prevent highlighted words being hidden\n  // cf. https://meta.discourse.org/t/word-disappears-when-searched-and-in-details-summary-kbd-b/25741\n  * * * {\n    display: none;\n  }\n}\n\n// we assume blockquotes have their own margins, so all blockquotes\n// will remove margins from first (top) and last (bottom) child elements\nblockquote > *:first-child {\n  margin-top: 0 !important;\n}\nblockquote > *:last-child {\n  margin-bottom: 0 !important;\n}\n\n.gap {\n  padding: 0.25em 0 0.5em\n    calc(var(--topic-avatar-width) + var(--topic-body-width-padding));\n  color: var(--primary-med-or-secondary-high);\n  cursor: pointer;\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: var(--font-down-1);\n}\n\n.who-liked,\n.who-read {\n  transition: height 0.5s;\n  a {\n    margin: 0 0.25em 0.5em 0;\n    display: inline-block;\n  }\n}\n\n.reviewable .post-body,\n.cooked table,\n.d-editor-preview table {\n  thead {\n    th {\n      text-align: left;\n      padding-bottom: 2px;\n      font-weight: bold;\n      color: var(--primary);\n    }\n  }\n\n  td {\n    padding: 3px 3px 3px 0.5em;\n  }\n}\n\n.small-action {\n  display: flex;\n  align-items: center;\n\n  &.deleted {\n    background-color: var(--danger-low-mid);\n  }\n\n  .topic-avatar,\n  .small-action-desc {\n    border-top: 1px solid var(--primary-low);\n  }\n\n  .topic-avatar {\n    display: flex;\n    align-self: stretch;\n    flex: 0 0 auto;\n    margin: 0;\n    padding-top: 1em;\n    width: var(--topic-avatar-width);\n    justify-content: center;\n    .d-icon {\n      font-size: var(--font-up-3);\n      width: var(--topic-avatar-width);\n      color: var(--primary-low-mid);\n    }\n  }\n\n  .small-action-desc {\n    box-sizing: border-box;\n    display: flex;\n    flex-wrap: wrap;\n    color: var(--primary-700);\n    padding: 1em 0 1em var(--topic-body-width-padding);\n    width: calc(\n      var(--topic-body-width) + (var(--topic-body-width-padding) * 2)\n    );\n    min-width: 0; // Allows flex container to shrink\n\n    .avatar {\n      margin-right: 0.5em;\n      float: left;\n    }\n\n    p {\n      margin: 0;\n      padding: 0.15em 0.5em 0 0;\n    }\n  }\n\n  .small-action-contents {\n    flex: 1 1 auto;\n  }\n\n  .small-action-buttons {\n    margin-left: auto;\n  }\n\n  .small-action-custom-message {\n    flex: 1 1 100%;\n    font-weight: normal;\n    margin-top: 0.5em;\n    word-break: break-word;\n    min-width: 0; // Allows content like oneboxes to shrink\n    color: var(--primary);\n    p {\n      margin-bottom: 0;\n    }\n  }\n\n  button {\n    background: transparent;\n    font-size: var(--font-down-1);\n    .d-icon {\n      color: var(--primary-500);\n    }\n\n    .discourse-no-touch & {\n      &:hover,\n      &:focus {\n        background: var(--primary-200);\n        .d-icon {\n          color: var(--primary);\n        }\n      }\n    }\n  }\n\n  &.topic-post-visited {\n    .topic-post-visited-line {\n      text-align: center;\n      border-bottom: 1px solid var(--danger-medium);\n      z-index: z(\"base\") + 2; // ensures last visit border is on top of post borders\n      line-height: 0;\n      margin: 0;\n      margin-bottom: -1px;\n      color: var(--danger-medium);\n      font-size: var(--font-down-1);\n      width: calc(\n        var(--topic-body-width) + var(--topic-avatar-width) +\n          (var(--topic-body-width-padding) * 2)\n      );\n      .topic-post-visited-message {\n        background-color: var(--secondary);\n        padding: 0 0.5em;\n      }\n    }\n  }\n}\n\n.whisper {\n  .post-info.whisper {\n    margin-left: 0.5em;\n  }\n  .topic-body {\n    .cooked {\n      font-style: italic;\n      color: var(--primary-medium);\n    }\n  }\n}\n\na.mention,\na.mention-group {\n  // linked\n  @include mention;\n}\n\n.mention .emoji {\n  margin-left: 0.3em;\n  width: 15px;\n  height: 15px;\n}\n\nspan.mention {\n  // unlinked, invalid mention\n  color: var(--primary-high);\n}\n\n.suggested-topics {\n  .topics {\n    padding-bottom: 15px;\n  }\n  .suggested-topics-message {\n    .badge-wrapper {\n      margin-right: 0;\n    }\n  }\n}\n\n.large-image-placeholder {\n  > a {\n    &.link {\n      margin-right: 10px;\n    }\n\n    > * {\n      overflow: hidden;\n      vertical-align: middle;\n    }\n\n    > .d-icon {\n      color: var(--primary-med-or-secondary-med);\n      margin-right: 6px;\n      font-size: var(--font-0);\n      line-height: var(--line-height-large);\n    }\n\n    > span.url {\n      display: inline-block;\n      max-width: 300px;\n      margin-right: 6px;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    > span.help {\n      display: inline-block;\n      color: var(--primary-med-or-secondary-med);\n      font-size: var(--font-down-1);\n      font-style: italic;\n      line-height: var(--line-height-large);\n      margin-bottom: 1px;\n    }\n\n    > span.badge-notification {\n      vertical-align: unset;\n    }\n  }\n}\n\n.broken-image,\n.blocked-hotlinked-placeholder {\n  &:not(a) {\n    color: var(--primary-low-mid-or-secondary-high);\n  }\n\n  display: inline-flex;\n  flex-direction: column;\n  border: 1px solid var(--primary-low);\n  align-items: center;\n  justify-content: center;\n\n  .d-icon {\n    margin: 16px;\n    font-size: var(--font-up-5);\n  }\n\n  .notice {\n    margin: 0 0.5em 0.5em 0.5em;\n  }\n}\n\n/* below standard tablet portrait ----------- */\n\n.reply-to-tab {\n  display: flex;\n  align-items: center;\n  margin-right: 2em;\n  max-width: 400px;\n  overflow: hidden;\n\n  img {\n    margin: 0 0.25em;\n  }\n}\n\n// Select posts\n\n.topic-post {\n  &.selected {\n    article.boxed {\n      .select-posts {\n        button.select-post {\n          background-color: var(--tertiary);\n          color: var(--secondary);\n          border-color: var(--tertiary);\n        }\n      }\n      .topic-body {\n        .contents:after {\n          display: none;\n        }\n      }\n    }\n  }\n  article.boxed {\n    position: relative;\n    .select-posts {\n      position: absolute;\n      right: 7em;\n      z-index: z(\"dropdown\");\n      top: 0.5em;\n      height: 100px;\n      button {\n        margin-left: 8px;\n        background-color: var(--primary-low);\n        color: var(--primary);\n        box-shadow: var(--shadow-dropdown);\n      }\n    }\n  }\n}\n\n@media all and (max-width: 767px) {\n  .reply-to-tab {\n    span {\n      display: none;\n    }\n  }\n  .user-title {\n    float: left;\n    clear: left;\n  }\n}\n\n.signup-cta {\n  box-sizing: border-box;\n  max-width: calc(var(--topic-body-width) + 4.5em);\n  padding: 3em 5em 2em\n    calc(var(--topic-avatar-width) + var(--topic-body-width-padding));\n  @include breakpoint(mobile-extra-large) {\n    padding: 1.5em 1.5em 0.25em;\n  }\n  h3 {\n    margin-bottom: 0.5em;\n  }\n  a {\n    text-decoration: underline;\n  }\n  .buttons {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    margin: 1.5em 0 1em;\n    > * {\n      margin-bottom: 0.5em;\n    }\n    .btn {\n      margin-right: 0.5em;\n      white-space: nowrap;\n      &.btn-remind {\n        background: var(--primary-very-low);\n        margin-right: auto;\n        @include hover {\n          background: var(--primary-medium);\n        }\n      }\n      @include breakpoint(mobile-extra-large) {\n        &.btn-primary {\n          margin-right: 100%;\n        }\n      }\n    }\n  }\n}\n\n.post-notice {\n  box-sizing: border-box;\n  align-items: center;\n  background-color: var(--tertiary-low);\n  border-top: 1px solid var(--primary-low);\n  display: flex;\n  width: 100%;\n  max-width: calc(\n    var(--topic-body-width) + (var(--topic-body-width-padding) * 2) +\n      var(--topic-avatar-width)\n  );\n  padding: var(--topic-body-width-padding);\n  padding-left: 0;\n  &.old {\n    background-color: unset;\n    color: var(--primary-medium);\n\n    .d-icon {\n      color: var(--primary-medium);\n    }\n  }\n\n  p {\n    margin: 0;\n  }\n\n  .d-icon {\n    font-size: 2em;\n    width: var(--topic-avatar-width);\n    color: var(--primary-high);\n    margin-right: var(--topic-body-width-padding);\n  }\n}\n\n#topic-footer-buttons {\n  margin: var(--below-topic-margin) 0;\n  padding: 0;\n\n  .topic-footer-main-buttons {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: stretch; // aligns items by making them the same height\n    button,\n    details {\n      margin-right: 0.54em;\n    }\n    > * {\n      margin-bottom: 0.5em; // all immediate children should have a bottom margin in case of wrapping\n    }\n    .topic-admin-menu-button-container {\n      display: inline-flex;\n      .topic-admin-menu-button {\n        display: flex; // to make this button match siblings behavior, all of its parents need to be flex\n      }\n    }\n  }\n\n  .pinned-button:not(.is-hidden) + .topic-notifications-button {\n    margin-top: 0;\n  }\n\n  .pinned-button,\n  .topic-notifications-button {\n    margin: 0.5em 0 1em;\n\n    .reason {\n      color: var(--primary-high);\n      display: inline-flex;\n      margin: 0;\n      align-items: center;\n\n      .dropdown-select-box {\n        .select-kit-selected-name {\n          width: 100%;\n          overflow: hidden;\n        }\n        .name {\n          @include ellipsis;\n        }\n      }\n\n      .text {\n        margin-left: 0.5em;\n        line-height: var(--line-height-medium);\n      }\n    }\n  }\n}\n\niframe {\n  max-width: 100%;\n  max-height: #{\"min(1000px, 200vh)\"};\n}\n\n.post-admin-menu {\n  display: inline-flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  width: auto;\n  max-width: 320px;\n  position: absolute;\n  text-align: left;\n  bottom: -2px;\n  right: 15px;\n}\n\n.posts-filtered-notice {\n  position: -webkit-sticky;\n  position: sticky;\n  background-color: var(--tertiary-low);\n  bottom: 0;\n  padding: 1em;\n  margin-top: 0.5em;\n  text-align: center;\n  z-index: 2;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  max-width: calc(\n    var(--topic-body-width) + (var(--topic-body-width-padding) * 2) +\n      var(--topic-avatar-width)\n  );\n\n  .filtered-avatar {\n    margin: 0 0.5em;\n    + .names {\n      flex: inherit;\n    }\n  }\n\n  .filtered-replies-show-all {\n    margin-left: 1em;\n  }\n\n  .filtered-user-row {\n    @include ellipsis;\n  }\n}\n\n.pausable-animated-image {\n  position: relative;\n  display: inline-block;\n\n  > canvas,\n  > .animated-image-overlay {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n  }\n\n  > canvas {\n    background-color: var(--primary-very-low);\n  }\n\n  > .animated-image-overlay {\n    pointer-events: none;\n    text-align: right;\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-end;\n    > .d-icon {\n      cursor: pointer;\n      padding: 0.5em;\n      margin: 0.5em;\n      background-color: rgba(var(--always-black-rgb), 0.25);\n      color: var(--secondary-or-primary);\n      cursor: pointer;\n      display: none;\n    }\n  }\n\n  img.animated {\n    cursor: pointer;\n  }\n\n  html.no-touch\n    &:not(.paused-animated-image)\n    .animated:hover\n    + .animated-image-overlay\n    .d-icon-pause {\n    display: initial;\n  }\n\n  &.paused-animated-image\n    .animated.manually-paused\n    + .animated-image-overlay\n    .d-icon-play {\n    display: initial;\n  }\n}\n\n.paused-animated-image {\n  img.animated {\n    // need to keep the image hidden but clickable\n    // so the user can resume animation\n    opacity: 0;\n  }\n}\n\n.open-popup-link {\n  position: sticky;\n  left: 1rem;\n  opacity: 0%;\n  white-space: nowrap;\n}\n\n.fullscreen-table-wrapper {\n  transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);\n  display: block;\n  position: relative;\n\n  &--buttons {\n    position: absolute;\n    top: 0.5rem;\n    right: 0.5rem;\n  }\n}\n\n.fullscreen-table-modal .modal-inner-container,\n.fullscreen-code-modal .modal-inner-container {\n  width: max-content;\n  max-width: 90%;\n  margin: 0 auto;\n  padding: 10px;\n\n  .modal-body {\n    padding-top: 0;\n  }\n\n  thead {\n    position: sticky;\n    top: 0;\n    z-index: 1;\n    background-color: var(--secondary);\n  }\n\n  tbody {\n    overflow-x: hidden;\n  }\n\n  td {\n    padding: 0.5rem;\n  }\n}\n\n.fullscreen-code-modal {\n  pre code {\n    max-width: none;\n  }\n}\n\nhtml.discourse-no-touch .fullscreen-table-wrapper:hover {\n  border-radius: 5px;\n  box-shadow: 0 2px 5px 0 rgba(var(--always-black-rgb), 0.1),\n    0 2px 10px 0 rgba(var(--always-black-rgb), 0.1);\n  .open-popup-link {\n    opacity: 100%;\n  }\n}\n"], "filenames": ["app/assets/stylesheets/common/base/topic-post.scss"], "buggy_code_start_loc": [209], "buggy_code_end_loc": [1010], "fixing_code_start_loc": [210], "fixing_code_end_loc": [1016], "type": "CWE-770", "message": "Discourse is an open source platform for community discussion. Prior to version 3.1.3 of the `stable` branch and version 3.2.0.beta3 of the `beta` and `tests-passed` branches, some theme components allow users to add svgs with unlimited `height` attributes, and this can affect the availability of subsequent replies in a topic. Most Discourse instances are unaffected, only instances with the svgbob or the mermaid theme component are within scope. The issue is patched in version 3.1.3 of the `stable` branch and version 3.2.0.beta3 of the `beta` and `tests-passed` branches. As a workaround, disable or remove the relevant theme components. ", "other": {"cve": {"id": "CVE-2023-46130", "sourceIdentifier": "security-advisories@github.com", "published": "2023-11-10T15:15:08.870", "lastModified": "2023-11-16T19:55:01.420", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "Discourse is an open source platform for community discussion. Prior to version 3.1.3 of the `stable` branch and version 3.2.0.beta3 of the `beta` and `tests-passed` branches, some theme components allow users to add svgs with unlimited `height` attributes, and this can affect the availability of subsequent replies in a topic. Most Discourse instances are unaffected, only instances with the svgbob or the mermaid theme component are within scope. The issue is patched in version 3.1.3 of the `stable` branch and version 3.2.0.beta3 of the `beta` and `tests-passed` branches. As a workaround, disable or remove the relevant theme components. "}, {"lang": "es", "value": "Discourse es una plataforma de c\u00f3digo abierto para el debate comunitario. Antes de la versi\u00f3n 3.1.3 de la rama \"stable\" y la versi\u00f3n 3.2.0.beta3 de las ramas \"beta\" y \"tests-passed\", algunos componentes del tema permit\u00edan a los usuarios agregar archivos svg con atributos de \"height\" ilimitados, y esto puede afectar la disponibilidad de respuestas posteriores en un tema. La mayor\u00eda de las instancias de Discourse no se ven afectadas, solo las instancias con el componente de tema svgbob o sirena est\u00e1n dentro del alcance. El problema se solucion\u00f3 en la versi\u00f3n 3.1.3 de la rama \"stable\" y en la versi\u00f3n 3.2.0.beta3 de las ramas \"beta\" y \"tests-passed\". Como workaround, deshabilite o elimine los componentes relevantes del tema."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:L", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "LOW", "availabilityImpact": "LOW", "baseScore": 5.4, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 2.5}, {"source": "security-advisories@github.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:L", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "NONE", "availabilityImpact": "LOW", "baseScore": 4.3, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 1.4}]}, "weaknesses": [{"source": "security-advisories@github.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-770"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:discourse:discourse:*:*:*:*:stable:*:*:*", "versionEndExcluding": "3.1.3", "matchCriteriaId": "8E31336C-750D-4039-A89F-FF602B59098C"}, {"vulnerable": true, "criteria": "cpe:2.3:a:discourse:discourse:*:*:*:*:beta:*:*:*", "versionEndExcluding": "3.2.0", "matchCriteriaId": "E10444D1-B4E6-4EA7-A56E-95BD0FA3E39D"}, {"vulnerable": true, "criteria": "cpe:2.3:a:discourse:discourse:3.2.0:beta1:*:*:beta:*:*:*", "matchCriteriaId": "1BFF647B-6CEF-43BF-BF5E-C82B557F78E2"}, {"vulnerable": true, "criteria": "cpe:2.3:a:discourse:discourse:3.2.0:beta2:*:*:beta:*:*:*", "matchCriteriaId": "10D931DE-F8F5-4A34-A30A-FDD4420ABD1A"}]}]}], "references": [{"url": "https://github.com/discourse/discourse/commit/6183d9633de873ac2b1e9cdb6ac1c94b4ffae9cb", "source": "security-advisories@github.com", "tags": ["Patch"]}, {"url": "https://github.com/discourse/discourse/commit/89a2e60706ce22e4afc463d03af2f34c53291800", "source": "security-advisories@github.com", "tags": ["Patch"]}, {"url": "https://github.com/discourse/discourse/security/advisories/GHSA-c876-638r-vfcg", "source": "security-advisories@github.com", "tags": ["Vendor Advisory"]}]}, "github_commit_url": "https://github.com/discourse/discourse/commit/6183d9633de873ac2b1e9cdb6ac1c94b4ffae9cb"}}