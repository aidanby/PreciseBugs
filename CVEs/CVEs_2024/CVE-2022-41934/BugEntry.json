{"buggy_code": ["<?xml version=\"1.1\" encoding=\"UTF-8\"?>\n\n<!--\n * See the NOTICE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n-->\n\n<xwikidoc version=\"1.3\" reference=\"Menu.MenuMacro\" locale=\"\">\n  <web>Menu</web>\n  <name>MenuMacro</name>\n  <language/>\n  <defaultLanguage/>\n  <translation>0</translation>\n  <creator>xwiki:XWiki.Admin</creator>\n  <parent>Menu.WebHome</parent>\n  <author>xwiki:XWiki.Admin</author>\n  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>\n  <version>1.1</version>\n  <title>Menu Macro</title>\n  <comment/>\n  <minorEdit>false</minorEdit>\n  <syntaxId>xwiki/2.1</syntaxId>\n  <hidden>true</hidden>\n  <content>{{toc/}}\n\n= Horizontal Menu =\n\n{{velocity}}\n{{code language=\"none\"}}\n{{menu type=\"horizontal fixedWidth\"}}\n$xwiki.getDocument('MenuTemplate').content\n{{/menu}}\n{{/code}}\n{{/velocity}}\n\n{{menu type=\"horizontal fixedWidth\"}}\n{{include reference=\"MenuTemplate\" /}}\n{{/menu}}\n\n= Vertical Menu =\n\n{{velocity}}\n{{code language=\"none\"}}\n{{menu type=\"vertical\"}}\n...\n{{/menu}}\n{{/code}}\n{{/velocity}}\n\n{{menu type=\"vertical\"}}\n{{include reference=\"MenuTemplate\" /}}\n{{/menu}}</content>\n  <object>\n    <name>Menu.MenuMacro</name>\n    <number>0</number>\n    <className>XWiki.JavaScriptExtension</className>\n    <guid>4671684e-f58c-4704-850f-7e75208d0e4a</guid>\n    <class>\n      <name>XWiki.JavaScriptExtension</name>\n      <customClass/>\n      <customMapping/>\n      <defaultViewSheet/>\n      <defaultEditSheet/>\n      <defaultWeb/>\n      <nameField/>\n      <validationScript/>\n      <cache>\n        <cache>0</cache>\n        <defaultValue>long</defaultValue>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>cache</name>\n        <number>5</number>\n        <prettyName>Caching policy</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>long|short|default|forbid</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </cache>\n      <code>\n        <contenttype>PureText</contenttype>\n        <disabled>0</disabled>\n        <editor>PureText</editor>\n        <name>code</name>\n        <number>2</number>\n        <prettyName>Code</prettyName>\n        <rows>20</rows>\n        <size>50</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </code>\n      <name>\n        <disabled>0</disabled>\n        <name>name</name>\n        <number>1</number>\n        <prettyName>Name</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </name>\n      <parse>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType>yesno</displayType>\n        <name>parse</name>\n        <number>4</number>\n        <prettyName>Parse content</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </parse>\n      <use>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>use</name>\n        <number>3</number>\n        <prettyName>Use this extension</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>currentPage|onDemand|always</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </use>\n    </class>\n    <property>\n      <cache>long</cache>\n    </property>\n    <property>\n      <code>require(['jquery'], function($) {\n  // It's not possible to write a CSS selector that targets list items containing lists so we rely on JavaScript.\n  // The 'dropdown' CSS class is used only to display the down/left arrow.\n  $('.menu-horizontal li ul').parent().addClass('xDropdown');\n\n  // Make sure the menu separators are really empty.\n  $('.menu-horizontal, .menu-vertical').find('li &gt; br:first-child').remove();\n\n  // Collapsible menu bahavior.\n  $('.menu-vertical.collapsible').each(function(){\n    var open = $(this).hasClass('open');\n    $(this).find('li ul').each(function() {\n      $(this).addClass('xDropdown-menu').parent().addClass('xDropdown' + (open ? ' open' : ''));\n      // Wrap everything (including text nodes) before the sub-menu in a DIV that will toggle its state.\n      var toggle = this.ownerDocument.createElement('div');\n      $(this).parent().prepend(toggle);\n      for(var next = toggle.nextSibling; next != this; next = toggle.nextSibling) {\n        toggle.appendChild(next);\n      }\n      $(toggle).addClass('xDropdown-toggle').on('click', function() {\n        $(this).parent().toggleClass('open');\n      });\n    });\n  });\n\n  // In case of horizontal responsive menus, make sub-submenus in the navbar work on mobile devices\n  $(document).on('touchstart.dropdown.data-api', '.dropdown-submenu &gt; a', function (event) {\n    event.preventDefault();\n  });\n})</code>\n    </property>\n    <property>\n      <name/>\n    </property>\n    <property>\n      <parse>0</parse>\n    </property>\n    <property>\n      <use>onDemand</use>\n    </property>\n  </object>\n  <object>\n    <name>Menu.MenuMacro</name>\n    <number>0</number>\n    <className>XWiki.StyleSheetExtension</className>\n    <guid>75fa0b90-a8bc-4a88-a9e9-bc938d79da85</guid>\n    <class>\n      <name>XWiki.StyleSheetExtension</name>\n      <customClass/>\n      <customMapping/>\n      <defaultViewSheet/>\n      <defaultEditSheet/>\n      <defaultWeb/>\n      <nameField/>\n      <validationScript/>\n      <cache>\n        <cache>0</cache>\n        <defaultValue>long</defaultValue>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>cache</name>\n        <number>5</number>\n        <prettyName>Caching policy</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>long|short|default|forbid</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </cache>\n      <code>\n        <contenttype>PureText</contenttype>\n        <disabled>0</disabled>\n        <editor>PureText</editor>\n        <name>code</name>\n        <number>2</number>\n        <prettyName>Code</prettyName>\n        <rows>20</rows>\n        <size>50</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </code>\n      <contentType>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>contentType</name>\n        <number>6</number>\n        <prettyName>Content Type</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>CSS|LESS</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </contentType>\n      <name>\n        <disabled>0</disabled>\n        <name>name</name>\n        <number>1</number>\n        <prettyName>Name</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </name>\n      <parse>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType>yesno</displayType>\n        <name>parse</name>\n        <number>4</number>\n        <prettyName>Parse content</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </parse>\n      <use>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>use</name>\n        <number>3</number>\n        <prettyName>Use this extension</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>currentPage|onDemand|always</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </use>\n    </class>\n    <property>\n      <cache>long</cache>\n    </property>\n    <property>\n      <code>#template('colorThemeInit.vm')\n\n/* Since Colibri doesn't support LESS, we manually prefix selectors with '.skin-colibri' */\n\n/* General Styles */\n\n.skin-colibri .menu-vertical ul,\n.skin-colibri .menu-horizontal ul {\n  list-style-type: none;\n  margin: auto;\n  padding: 0;\n}\n\n.skin-colibri .menu-vertical ul *,\n.skin-colibri .menu-horizontal ul * {\n  line-height: normal;\n}\n\n.skin-colibri .menu-vertical li,\n.skin-colibri .menu-horizontal li {\n  cursor: default;\n  line-height: 16px;\n  min-height: 16px;\n}\n\n.skin-colibri .menu-vertical img,\n.skin-colibri .menu-horizontal img {\n  vertical-align: middle;\n}\n\n/* Horizontal separator */\n.skin-colibri .menu-vertical li:empty,\n.skin-colibri .menu-horizontal li li:empty {\n  border-top: 1px solid $theme.borderColor;\n  line-height: 1px;\n  min-height: 0;\n  padding: 0;\n}\n\n/* Horizontal Menu */\n\n.skin-colibri .menu.menu-horizontal {\n  #css3_backgroundLinearGradient({\n    'to': 'bottom',\n    'colors': [\n      {'color': $theme.menuGradientColor, 'position': '0%'},\n      {'color': $theme.menuBackgroundColor, 'position': '50%'}\n    ]\n  })\n}\n\n.skin-colibri .menu.menu-horizontal {\n  background-color: $theme.menuBackgroundColor;\n  color: $theme.menuLinkColor;\n  font-size: .85em;\n  height: 2em;\n  padding-left: 25px;\n}\n\n.skin-colibri .menu-horizontal li {\n  padding: 0.2em 1.3em;\n}\n\n.skin-colibri .menu-horizontal li li:empty {\n  border-top: 1px solid $theme.textSecondaryColor;\n  margin: .5em 1em;\n}\n\n/* Vertical separator */\n.skin-colibri .menu-horizontal &gt; ul &gt; li:empty {\n  border-left: 1px solid $theme.textSecondaryColor;\n  margin: 0 .5em;\n  padding: 0;\n  vertical-align: middle;\n}\n\n.skin-colibri .menu-horizontal li a,\n.skin-colibri .menu-horizontal li a:visited {\n  color: inherit;\n}\n\n.skin-colibri .menu-horizontal &gt; ul &gt; li {\n  display: inline-block;\n}\n\n.skin-colibri .menu-horizontal &gt; ul &gt; li.xDropdown:after {\n  content: '\\25BC';\n  font-size: .8em;\n  margin-left: .5em;\n}\n\n.skin-colibri .menu-horizontal li li.xDropdown:after {\n  content: '\\25B8';\n  float: right;\n  margin-left: .5em;\n}\n\n.skin-colibri .menu-horizontal &gt; ul ul {\n  background: none repeat scroll 0 0 $theme.menuBackgroundColor;\n  border-radius: 0 0 .8em .8em;\n  box-shadow: 0 1px 1px $theme.borderColor;\n  display: none;\n  margin: 0.2em 0 0 -1.3em;\n  padding-bottom: .3em;\n  position: absolute;\n  z-index: 1000;\n}\n\n.skin-colibri .menu-horizontal li:hover &gt; ul {\n  display: block;\n}\n\n/* The only way to have a menu with more than 2 levels without JavaScript is to use a fixed width. */\n.skin-colibri .menu-horizontal.fixedWidth li li {\n  position: relative;\n}\n\n.skin-colibri .menu-horizontal.fixedWidth ul ul {\n  width: 12em;\n}\n\n.skin-colibri .menu-horizontal.fixedWidth ul ul ul {\n  left: 12em;\n  margin: 0;\n  top: 0;\n}\n\n/* Vertical Menu */\n\n.skin-colibri .menu.menu-vertical {\n  color: inherit;\n}\n\n.skin-colibri .menu.menu-vertical ul {\n  margin-top: .3em;\n}\n\n.skin-colibri .menu.menu-vertical ul ul {\n  margin-left: 1em;\n}\n\n.skin-colibri .menu-vertical li {\n  padding: .3em;\n}\n\n.skin-colibri .menu-vertical li:empty {\n  margin: .3em 0;\n}\n\n.skin-colibri .menu-vertical .xDropdown-toggle {\n  cursor: pointer;\n}\n\n.skin-colibri .menu-vertical .xDropdown-toggle:hover {\n  background-color: $theme.highlightColor;\n}\n\n.skin-colibri .menu-vertical .xDropdown-toggle:after {\n  content: '\\25C2';\n  float: right;\n}\n\n.skin-colibri .menu-vertical .xDropdown.open .xDropdown-toggle:after {\n  content: '\\25BE';\n}\n\n.skin-colibri .menu-vertical .xDropdown-menu {\n  display: none;\n}\n\n.skin-colibri .menu-vertical .xDropdown.open &gt; .xDropdown-menu {\n  display: block;\n}</code>\n    </property>\n    <property>\n      <contentType>CSS</contentType>\n    </property>\n    <property>\n      <name>Colibri Styling</name>\n    </property>\n    <property>\n      <parse>1</parse>\n    </property>\n    <property>\n      <use>onDemand</use>\n    </property>\n  </object>\n  <object>\n    <name>Menu.MenuMacro</name>\n    <number>1</number>\n    <className>XWiki.StyleSheetExtension</className>\n    <guid>81584261-5cad-4a9c-b96d-9d6237122407</guid>\n    <class>\n      <name>XWiki.StyleSheetExtension</name>\n      <customClass/>\n      <customMapping/>\n      <defaultViewSheet/>\n      <defaultEditSheet/>\n      <defaultWeb/>\n      <nameField/>\n      <validationScript/>\n      <cache>\n        <cache>0</cache>\n        <defaultValue>long</defaultValue>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>cache</name>\n        <number>5</number>\n        <prettyName>Caching policy</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>long|short|default|forbid</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </cache>\n      <code>\n        <contenttype>PureText</contenttype>\n        <disabled>0</disabled>\n        <editor>PureText</editor>\n        <name>code</name>\n        <number>2</number>\n        <prettyName>Code</prettyName>\n        <rows>20</rows>\n        <size>50</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </code>\n      <contentType>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>contentType</name>\n        <number>6</number>\n        <prettyName>Content Type</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>CSS|LESS</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </contentType>\n      <name>\n        <disabled>0</disabled>\n        <name>name</name>\n        <number>1</number>\n        <prettyName>Name</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </name>\n      <parse>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType>yesno</displayType>\n        <name>parse</name>\n        <number>4</number>\n        <prettyName>Parse content</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </parse>\n      <use>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>use</name>\n        <number>3</number>\n        <prettyName>Use this extension</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>currentPage|onDemand|always</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </use>\n    </class>\n    <property>\n      <cache>long</cache>\n    </property>\n    <property>\n      <code>@media print {\n  .menu {\n    display: none;\n  }\n}\n.menu {\n  &amp;.menu-vertical {\n    ul {\n      list-style-type: none;\n      margin-top: .3em;\n      padding: 0;\n      ul {\n        padding: 0 1em;\n      }\n    }\n    li {\n      padding: .3em;\n      /* Separator horizontal inside menu */\n      &amp;:empty {\n        .nav-divider(@dropdown-divider-bg);\n        margin: .3em 0;\n        padding: 0;\n      }\n    }\n    .xDropdown-menu {\n      display: none;\n    }\n    .xDropdown-toggle {\n      cursor: pointer;\n      position: relative;\n      &amp;:hover {\n        background-color: @nav-link-hover-bg;\n      }\n      &amp;:after {\n        .caret;\n        content: '';\n        /* Positioning */\n        position: absolute;\n        margin-top: @line-height-computed / 3;\n        right: 1em;\n        /* Collapsed arrow style */\n        border-bottom: 4px solid transparent;\n        border-right: 4px solid;\n        border-top: 4px solid transparent;\n      }\n    }\n    .xDropdown.open {\n      &gt; .xDropdown-toggle:after {\n        /* Expanded arrow style */\n        .caret;\n        margin-top: @line-height-computed / 2;\n      }\n      &gt; .xDropdown-menu {\n        display: block;\n      }\n    }\n  }\n  &amp;.menu-horizontal {\n    /* Stylization: Navbars */\n    .clearfix;\n    background-color: @navbar-default-bg;\n    border-color: @navbar-default-border;\n    /* Custom styling */\n    .box-shadow(0 2px 8px rgba(0,0,0,0.4) inset);\n    min-height: @navbar-height;\n    padding-left: 25px;\n    &amp; &gt; ul {\n      padding-left: 0;\n      list-style-type: none;\n      margin: 0;\n      &amp; &gt; li {\n        position: relative;\n        display: block;\n        padding: @nav-link-padding;\n        padding-top: @navbar-padding-vertical;\n        padding-bottom: @navbar-padding-vertical;\n        @media (min-width: @grid-float-breakpoint) {\n          float: left;\n        }\n        line-height: @line-height-computed;\n        color: @navbar-default-link-color;\n        &amp;:hover {\n          color: @navbar-default-link-hover-color;\n          background-color: @navbar-default-link-hover-bg;\n          background-color: @navbar-default-link-active-bg;\n          color: @navbar-default-link-active-color;\n          /* When hovering, have the same color for text and link usage */\n          &amp; &gt; span &gt; a {\n            background-color: @navbar-default-link-active-bg;\n            color: @navbar-default-link-active-color;\n          }\n        }\n        /* Links inside menu */\n        a {\n          color: @navbar-default-link-color;\n          &amp;:hover {\n            text-decoration: none;\n          }\n        }\n        /* Containers, images inside menu */\n        div, img {\n          /* Limit the height to the nav height minus the padding and minus border */\n          max-height: @navbar-height - (2 * @navbar-padding-vertical) - 2px;\n          overflow: hidden;\n        }\n        /* Separator vertical inside menu */\n        &amp;:empty {\n          height: @navbar-height;\n          margin: 0 ((@line-height-computed / 2) - 1);\n          padding: 0;\n          border-right: 1px solid @navbar-default-border;\n        }\n      }\n      /* Stylization: Dropdowns */\n      ul {\n        position: absolute;\n        top: 100%;\n        left: 0;\n        z-index: @zindex-dropdown;\n        display: none; // none by default, but block on \"open\" of the menu\n        float: left;\n        min-width: 160px;\n        padding: 5px 0;\n        margin: 2px 0 0; // override default ul\n        list-style: none;\n        font-size: @font-size-base;\n        text-align: left; // Ensures proper alignment if parent has it changed (e.g., modal footer)\n        background-color: @dropdown-bg;\n        border: 1px solid @dropdown-border;\n        border-radius: @border-radius-base;\n        .box-shadow(0 6px 12px rgba(0,0,0,.175));\n        background-clip: padding-box;\n        margin-top: 0;\n        border-top-right-radius: 0;\n        border-top-left-radius: 0;\n        li {\n          /* Text inside menu */\n          color: @dropdown-link-color;\n          /* Links inside menu */\n          a {\n            display: block;\n            padding: 3px 20px;\n            clear: both;\n            font-weight: normal;\n            line-height: @line-height-base;\n            color: @dropdown-link-color;\n            overflow: hidden;\n            text-overflow: ellipsis; // Displaying ... if the text is too long\n            &amp;:hover {\n              /* &amp;:extend(.dropdown-menu&gt;li&gt;a:hover); */\n              text-decoration: none;\n              color: @dropdown-link-hover-color;\n              background-color: @dropdown-link-hover-bg;\n            }\n          }\n          /* Submenus inside menu */\n          &amp;.xDropdown {\n            /* Even if we don't have links, display the content the same way */\n            display: block;\n            padding: 3px 20px;\n            clear: both;\n            font-weight: normal;\n            line-height: @line-height-base;\n            color: @dropdown-link-color;\n            /* Empty dropdowns should have height in order to display the arrow */\n            min-height: 2 * @font-size-base;\n            &amp;:hover {\n              text-decoration: none;\n              color: @dropdown-link-hover-color;\n              background-color: @dropdown-link-hover-bg;\n              /* When in dropdown we also have a link, adjust the hover color */\n              &amp; &gt; span &gt; a {\n                color: @dropdown-link-hover-color;\n              }\n            }\n            /* When in dropdown we also have a link, reset the duplicated padding */\n            &amp; &gt; span &gt; a {\n              padding: 0;\n              display: inherit;\n            }\n            /* Place the arrow on the right */\n            &amp;:after {\n              position: absolute;\n              margin-top: @line-height-computed / 2;\n              right: 8px;\n            }\n          }\n          /* Separator horizontal inside menu */\n          &amp;:empty {\n            .nav-divider(@dropdown-divider-bg);\n            padding: 0;\n          }\n        }\n      }\n    }\n    /* Stylization: Generic */\n    li {\n      /* Display submenus on hover */\n      &amp;:hover &gt; ul {\n        display: block;\n      }\n      /* Display an arrow for expandable items */\n      &amp;.xDropdown {\n        &amp;:after {\n          .caret;\n          content: '';\n          margin-left: .5em;\n        }\n      }\n    }\n    /* The only way to have a menu with more than 2 levels without JavaScript is to use a fixed width. */\n    &amp;.fixedWidth {\n      li li {\n        position: relative;\n      }\n      ul ul {\n        width: 12em;\n        ul {\n          left: 12em;\n          margin: 0;\n          top: 0;\n          /* Bring the dropdown closer in order to hover it */\n          margin-left: -2px;\n          /* Adjust corner to better look as a submenu */\n          border-top-left-radius: 0;\n        }\n      }\n    }\n    /* Resetting rules for mobile view */\n    @media (max-width: @screen-xs-max) {\n      &gt; ul { \n        margin: 0 0 0 -25px; /* Remove padding added in normal view */\n        &gt; li {\n          &amp;:empty {\n            .nav-divider(@navbar-default-border);\n          }\n        }\n        ul {\n          /* Resetting rules for mobile view */\n          position: static;\n          float: none;\n          width: auto;\n          margin-top: 0;\n          background-color: transparent;\n          border: 0;\n          box-shadow: none;\n          li {\n            /* Text inside menu */\n            color: @navbar-default-link-color;\n            /* Links inside menu */\n            a {\n              color: @navbar-default-link-color;\n              &amp;:hover {\n                /* Preserve the styling from dropdown */\n              }\n            }\n            /* Submenus inside menu */\n            &amp;.xDropdown {\n              color: @navbar-default-link-color;\n              &amp;:hover {\n                background-color: transparent;\n                color: inherit;\n              }\n              /* When in dropdown we also have a link */\n              &gt; span &gt; a { \n                color: @navbar-default-link-color;\n              }\n            }\n            &amp;:empty {\n              .nav-divider(@navbar-default-border);\n            }\n          }\n        }\n      }\n      li {\n        &amp;.xDropdown {\n          /* Place the arrow on the right */\n          &amp;:after {\n            position: absolute;\n            margin-top: @line-height-computed;\n            right: 1em;\n            top: 0;\n          }\n        }\n      }\n      &amp;.fixedWidth ul ul {\n        width: auto;\n      }\n    }\n  }\n}\n\n.menu .wikiexternallink {\n  background: rgba(0, 0, 0, 0) none repeat scroll 0 center;\n  padding: 0;\n}\n\n.menu-horizontal-toggle {\n  .clearfix;\n  background-color: @navbar-default-bg;\n  border-color: @navbar-default-border;\n  .box-shadow(0 2px 8px rgba(0,0,0,0.4) inset);\n  min-height: @navbar-height;\n  &amp; .navbar-toggle {\n    float: left;\n    padding-left: 15px;\n    &amp; .icon-bar {\n      background-color: @navbar-default-link-color;\n      transition: .3s ease all;\n      &amp;:nth-of-type(2) {\n        opacity: 0;\n      }\n      &amp;:nth-of-type(3) {\n        transform: rotate(45deg);\n      }\n      &amp;:nth-of-type(4) {\n        transform: rotate(-45deg);\n        margin-top: -2px;\n        margin-bottom: 6px;\n      }\n    }\n    &amp;.collapsed {\n      .icon-bar {\n        &amp;:nth-of-type(2) {\n          opacity: 1;\n        }\n        &amp;:nth-of-type(3) {\n          transform: rotate(0);\n        }\n        &amp;:nth-of-type(4) {\n          transform: rotate(0);\n          margin-top: 4px;\n          margin-bottom: 0;\n        }\n      }\n    }\n  }\n}</code>\n    </property>\n    <property>\n      <contentType>LESS</contentType>\n    </property>\n    <property>\n      <name>Flamingo Styling</name>\n    </property>\n    <property>\n      <parse/>\n    </property>\n    <property>\n      <use>onDemand</use>\n    </property>\n  </object>\n  <object>\n    <name>Menu.MenuMacro</name>\n    <number>0</number>\n    <className>XWiki.WikiMacroClass</className>\n    <guid>1f17c513-df60-481f-b8d0-15ef11b75d45</guid>\n    <class>\n      <name>XWiki.WikiMacroClass</name>\n      <customClass/>\n      <customMapping/>\n      <defaultViewSheet/>\n      <defaultEditSheet/>\n      <defaultWeb/>\n      <nameField/>\n      <validationScript/>\n      <async_cached>\n        <defaultValue>0</defaultValue>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType/>\n        <name>async_cached</name>\n        <number>12</number>\n        <prettyName>Cached</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </async_cached>\n      <async_context>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>1</multiSelect>\n        <name>async_context</name>\n        <number>13</number>\n        <prettyName>Context elements</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>5</size>\n        <unmodifiable>0</unmodifiable>\n        <values>doc.reference=Document|icon.theme=Icon theme|locale=Language|request.base=Request base URL|request.parameters=Request parameters|request.url=Request URL|request.wiki=Request wiki|user=User|wiki=Wiki</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </async_context>\n      <async_enabled>\n        <defaultValue>0</defaultValue>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType/>\n        <name>async_enabled</name>\n        <number>11</number>\n        <prettyName>Asynchronous rendering</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </async_enabled>\n      <code>\n        <disabled>0</disabled>\n        <editor>Text</editor>\n        <name>code</name>\n        <number>10</number>\n        <prettyName>Macro code</prettyName>\n        <rows>20</rows>\n        <size>40</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </code>\n      <contentDescription>\n        <contenttype>PureText</contenttype>\n        <disabled>0</disabled>\n        <editor>PureText</editor>\n        <name>contentDescription</name>\n        <number>9</number>\n        <prettyName>Content description (Not applicable for \"No content\" type)</prettyName>\n        <rows>5</rows>\n        <size>40</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </contentDescription>\n      <contentJavaType>\n        <cache>0</cache>\n        <defaultValue>Unknown</defaultValue>\n        <disabled>0</disabled>\n        <displayType>input</displayType>\n        <freeText>allowed</freeText>\n        <largeStorage>1</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>contentJavaType</name>\n        <number>8</number>\n        <picker>1</picker>\n        <prettyName>Macro content type</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator>|</separator>\n        <separators>|</separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>Unknown|Wiki</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </contentJavaType>\n      <contentType>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>contentType</name>\n        <number>7</number>\n        <prettyName>Macro content availability</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator>|</separator>\n        <separators>|</separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>Optional|Mandatory|No content</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </contentType>\n      <defaultCategory>\n        <disabled>0</disabled>\n        <name>defaultCategory</name>\n        <number>4</number>\n        <prettyName>Default category</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </defaultCategory>\n      <description>\n        <contenttype>PureText</contenttype>\n        <disabled>0</disabled>\n        <editor>PureText</editor>\n        <name>description</name>\n        <number>3</number>\n        <prettyName>Macro description</prettyName>\n        <rows>5</rows>\n        <size>40</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </description>\n      <id>\n        <disabled>0</disabled>\n        <name>id</name>\n        <number>1</number>\n        <prettyName>Macro id</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </id>\n      <name>\n        <disabled>0</disabled>\n        <name>name</name>\n        <number>2</number>\n        <prettyName>Macro name</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </name>\n      <supportsInlineMode>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType>yesno</displayType>\n        <name>supportsInlineMode</name>\n        <number>5</number>\n        <prettyName>Supports inline mode</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </supportsInlineMode>\n      <visibility>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>visibility</name>\n        <number>6</number>\n        <prettyName>Macro visibility</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator>|</separator>\n        <separators>|</separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>Current User|Current Wiki|Global</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </visibility>\n    </class>\n    <property>\n      <async_cached>0</async_cached>\n    </property>\n    <property>\n      <async_context/>\n    </property>\n    <property>\n      <async_enabled>0</async_enabled>\n    </property>\n    <property>\n      <code>{{velocity}}\n#set ($id = $xcontext.macro.params.id)\n#set ($type = $xcontext.macro.params.type)\n#set ($colorTheme = $xwiki.getUserPreference('colorTheme'))\n#if (\"$!colorTheme\" != '')\n  ## Make sure we use an absolute reference (see XWIKI-9672)\n  #set ($colorTheme = $services.model.resolveDocument($colorTheme, $doc.documentReference))\n#end\n#set ($discard = $xwiki.ssx.use(\"$xcontext.macro.doc.prefixedFullName\", {'colorTheme': $colorTheme}))\n#set ($discard = $xwiki.jsx.use(\"$xcontext.macro.doc.prefixedFullName\"))\n#if($type.contains('horizontal'))\n  (% role=\"navigation\" class=\"menu-horizontal-toggle\" %)(((\n    (% class=\"navbar-header\" %)(((\n      {{html}}\n        &lt;button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#$!{id}\" aria-expanded=\"false\"&gt;\n          &lt;span class=\"sr-only\"&gt;&lt;/span&gt;\n          &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n          &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n          &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n        &lt;/button&gt;\n      {{/html}}\n    )))\n    (% id=\"${id}\" class=\"menu menu-$!type collapse navbar-collapse\" %)(((\n      $xcontext.macro.content\n    )))\n  )))\n#else\n  (% #if (\"$!id\" != '') id=\"$id\"#end class=\"menu menu-$!type\" %)(((\n    $xcontext.macro.content\n  )))\n#end\n{{/velocity}}</code>\n    </property>\n    <property>\n      <contentDescription>Define the menu structure using wiki syntax. Each menu item should be a list item and should contain the menu item label or link. You can use nested lists for sub-menu items.</contentDescription>\n    </property>\n    <property>\n      <contentJavaType/>\n    </property>\n    <property>\n      <contentType>Mandatory</contentType>\n    </property>\n    <property>\n      <defaultCategory>Navigation</defaultCategory>\n    </property>\n    <property>\n      <description>Displays a menu created using simple wiki syntax (nested lists and links).</description>\n    </property>\n    <property>\n      <id>menu</id>\n    </property>\n    <property>\n      <name>Menu</name>\n    </property>\n    <property>\n      <supportsInlineMode>0</supportsInlineMode>\n    </property>\n    <property>\n      <visibility>Global</visibility>\n    </property>\n  </object>\n  <object>\n    <name>Menu.MenuMacro</name>\n    <number>0</number>\n    <className>XWiki.WikiMacroParameterClass</className>\n    <guid>bbeba321-44be-4e3a-b102-f59cada761ec</guid>\n    <class>\n      <name>XWiki.WikiMacroParameterClass</name>\n      <customClass/>\n      <customMapping/>\n      <defaultViewSheet/>\n      <defaultEditSheet/>\n      <defaultWeb/>\n      <nameField/>\n      <validationScript/>\n      <defaultValue>\n        <disabled>0</disabled>\n        <name>defaultValue</name>\n        <number>4</number>\n        <prettyName>Parameter default value</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </defaultValue>\n      <description>\n        <disabled>0</disabled>\n        <name>description</name>\n        <number>2</number>\n        <prettyName>Parameter description</prettyName>\n        <rows>5</rows>\n        <size>40</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </description>\n      <mandatory>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType>yesno</displayType>\n        <name>mandatory</name>\n        <number>3</number>\n        <prettyName>Parameter mandatory</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </mandatory>\n      <name>\n        <disabled>0</disabled>\n        <name>name</name>\n        <number>1</number>\n        <prettyName>Parameter name</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </name>\n      <type>\n        <disabled>0</disabled>\n        <name>type</name>\n        <number>5</number>\n        <prettyName>Parameter type</prettyName>\n        <size>60</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </type>\n    </class>\n    <property>\n      <defaultValue>horizontal</defaultValue>\n    </property>\n    <property>\n      <description>The optional menu type determines the menu appearance and behaviour. The supported values are: horizontal (default value) and vertical.</description>\n    </property>\n    <property>\n      <mandatory>0</mandatory>\n    </property>\n    <property>\n      <name>type</name>\n    </property>\n    <property>\n      <type/>\n    </property>\n  </object>\n  <object>\n    <name>Menu.MenuMacro</name>\n    <number>2</number>\n    <className>XWiki.WikiMacroParameterClass</className>\n    <guid>00eee99c-d118-4b26-8784-98ade58b5af7</guid>\n    <class>\n      <name>XWiki.WikiMacroParameterClass</name>\n      <customClass/>\n      <customMapping/>\n      <defaultViewSheet/>\n      <defaultEditSheet/>\n      <defaultWeb/>\n      <nameField/>\n      <validationScript/>\n      <defaultValue>\n        <disabled>0</disabled>\n        <name>defaultValue</name>\n        <number>4</number>\n        <prettyName>Parameter default value</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </defaultValue>\n      <description>\n        <disabled>0</disabled>\n        <name>description</name>\n        <number>2</number>\n        <prettyName>Parameter description</prettyName>\n        <rows>5</rows>\n        <size>40</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </description>\n      <mandatory>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType>yesno</displayType>\n        <name>mandatory</name>\n        <number>3</number>\n        <prettyName>Parameter mandatory</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </mandatory>\n      <name>\n        <disabled>0</disabled>\n        <name>name</name>\n        <number>1</number>\n        <prettyName>Parameter name</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </name>\n      <type>\n        <disabled>0</disabled>\n        <name>type</name>\n        <number>5</number>\n        <prettyName>Parameter type</prettyName>\n        <size>60</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </type>\n    </class>\n    <property>\n      <defaultValue/>\n    </property>\n    <property>\n      <description>Optional menu identifier that will be set on the HTML element that wraps the menu. You can use this identifier in JavaScript code to access the menu DOM or in functional tests to assert the menu items.</description>\n    </property>\n    <property>\n      <mandatory>0</mandatory>\n    </property>\n    <property>\n      <name>id</name>\n    </property>\n    <property>\n      <type/>\n    </property>\n  </object>\n</xwikidoc>\n"], "fixing_code": ["<?xml version=\"1.1\" encoding=\"UTF-8\"?>\n\n<!--\n * See the NOTICE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n-->\n\n<xwikidoc version=\"1.5\" reference=\"Menu.MenuMacro\" locale=\"\">\n  <web>Menu</web>\n  <name>MenuMacro</name>\n  <language/>\n  <defaultLanguage/>\n  <translation>0</translation>\n  <creator>xwiki:XWiki.Admin</creator>\n  <parent>Menu.WebHome</parent>\n  <author>xwiki:XWiki.Admin</author>\n  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>\n  <version>1.1</version>\n  <title>Menu Macro</title>\n  <comment/>\n  <minorEdit>false</minorEdit>\n  <syntaxId>xwiki/2.1</syntaxId>\n  <hidden>true</hidden>\n  <content>{{toc/}}\n\n= Horizontal Menu =\n\n{{velocity}}\n#set ($menuTemplateDoc = $xwiki.getDocument('MenuTemplate'))\n{{code language=\"none\"}}\n{{menu type=\"horizontal fixedWidth\"}}\n## No way to escape content in the code macro, so just remove {, see https://jira.xwiki.org/browse/XRENDERING-13.\n$menuTemplateDoc.content.replace('{', '')\n{{/menu}}\n{{/code}}\n{{/velocity}}\n\n{{menu type=\"horizontal fixedWidth\"}}\n{{velocity}}\n## Include the content of the menu template.\n## Escape {{ in the rendered content to be sure that the HTML macro is not closed unintentionally.\n{{html}}$menuTemplateDoc.displayDocument().replace('{{', '&amp;amp;#123;&amp;amp;#123;'){{/html}}\n{{/velocity}}\n{{/menu}}\n\n= Vertical Menu =\n\n{{velocity}}\n{{code language=\"none\"}}\n{{menu type=\"vertical\"}}\n...\n{{/menu}}\n{{/code}}\n{{/velocity}}\n\n{{menu type=\"vertical\"}}\n{{velocity}}\n## Include the content of the menu template.\n## Escape {{ in the rendered content to be sure that the HTML macro is not closed unintentionally.\n{{html}}$menuTemplateDoc.displayDocument().replace('{{', '&amp;amp;#123;&amp;amp;#123;'){{/html}}\n{{/velocity}}\n{{/menu}}</content>\n  <object>\n    <name>Menu.MenuMacro</name>\n    <number>0</number>\n    <className>XWiki.JavaScriptExtension</className>\n    <guid>4671684e-f58c-4704-850f-7e75208d0e4a</guid>\n    <class>\n      <name>XWiki.JavaScriptExtension</name>\n      <customClass/>\n      <customMapping/>\n      <defaultViewSheet/>\n      <defaultEditSheet/>\n      <defaultWeb/>\n      <nameField/>\n      <validationScript/>\n      <cache>\n        <cache>0</cache>\n        <defaultValue>long</defaultValue>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>cache</name>\n        <number>5</number>\n        <prettyName>Caching policy</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>long|short|default|forbid</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </cache>\n      <code>\n        <contenttype>PureText</contenttype>\n        <disabled>0</disabled>\n        <editor>PureText</editor>\n        <name>code</name>\n        <number>2</number>\n        <prettyName>Code</prettyName>\n        <rows>20</rows>\n        <size>50</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </code>\n      <name>\n        <disabled>0</disabled>\n        <name>name</name>\n        <number>1</number>\n        <prettyName>Name</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </name>\n      <parse>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType>yesno</displayType>\n        <name>parse</name>\n        <number>4</number>\n        <prettyName>Parse content</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </parse>\n      <use>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>use</name>\n        <number>3</number>\n        <prettyName>Use this extension</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>currentPage|onDemand|always</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </use>\n    </class>\n    <property>\n      <cache>long</cache>\n    </property>\n    <property>\n      <code>require(['jquery'], function($) {\n  // It's not possible to write a CSS selector that targets list items containing lists so we rely on JavaScript.\n  // The 'dropdown' CSS class is used only to display the down/left arrow.\n  $('.menu-horizontal li ul').parent().addClass('xDropdown');\n\n  // Make sure the menu separators are really empty.\n  $('.menu-horizontal, .menu-vertical').find('li &gt; br:first-child').remove();\n\n  // Collapsible menu bahavior.\n  $('.menu-vertical.collapsible').each(function(){\n    var open = $(this).hasClass('open');\n    $(this).find('li ul').each(function() {\n      $(this).addClass('xDropdown-menu').parent().addClass('xDropdown' + (open ? ' open' : ''));\n      // Wrap everything (including text nodes) before the sub-menu in a DIV that will toggle its state.\n      var toggle = this.ownerDocument.createElement('div');\n      $(this).parent().prepend(toggle);\n      for(var next = toggle.nextSibling; next != this; next = toggle.nextSibling) {\n        toggle.appendChild(next);\n      }\n      $(toggle).addClass('xDropdown-toggle').on('click', function() {\n        $(this).parent().toggleClass('open');\n      });\n    });\n  });\n\n  // In case of horizontal responsive menus, make sub-submenus in the navbar work on mobile devices\n  $(document).on('touchstart.dropdown.data-api', '.dropdown-submenu &gt; a', function (event) {\n    event.preventDefault();\n  });\n})</code>\n    </property>\n    <property>\n      <name/>\n    </property>\n    <property>\n      <parse>0</parse>\n    </property>\n    <property>\n      <use>onDemand</use>\n    </property>\n  </object>\n  <object>\n    <name>Menu.MenuMacro</name>\n    <number>0</number>\n    <className>XWiki.StyleSheetExtension</className>\n    <guid>75fa0b90-a8bc-4a88-a9e9-bc938d79da85</guid>\n    <class>\n      <name>XWiki.StyleSheetExtension</name>\n      <customClass/>\n      <customMapping/>\n      <defaultViewSheet/>\n      <defaultEditSheet/>\n      <defaultWeb/>\n      <nameField/>\n      <validationScript/>\n      <cache>\n        <cache>0</cache>\n        <defaultValue>long</defaultValue>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>cache</name>\n        <number>5</number>\n        <prettyName>Caching policy</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>long|short|default|forbid</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </cache>\n      <code>\n        <contenttype>PureText</contenttype>\n        <disabled>0</disabled>\n        <editor>PureText</editor>\n        <name>code</name>\n        <number>2</number>\n        <prettyName>Code</prettyName>\n        <rows>20</rows>\n        <size>50</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </code>\n      <contentType>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>contentType</name>\n        <number>6</number>\n        <prettyName>Content Type</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>CSS|LESS</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </contentType>\n      <name>\n        <disabled>0</disabled>\n        <name>name</name>\n        <number>1</number>\n        <prettyName>Name</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </name>\n      <parse>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType>yesno</displayType>\n        <name>parse</name>\n        <number>4</number>\n        <prettyName>Parse content</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </parse>\n      <use>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>use</name>\n        <number>3</number>\n        <prettyName>Use this extension</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>currentPage|onDemand|always</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </use>\n    </class>\n    <property>\n      <cache>long</cache>\n    </property>\n    <property>\n      <code>#template('colorThemeInit.vm')\n\n/* Since Colibri doesn't support LESS, we manually prefix selectors with '.skin-colibri' */\n\n/* General Styles */\n\n.skin-colibri .menu-vertical ul,\n.skin-colibri .menu-horizontal ul {\n  list-style-type: none;\n  margin: auto;\n  padding: 0;\n}\n\n.skin-colibri .menu-vertical ul *,\n.skin-colibri .menu-horizontal ul * {\n  line-height: normal;\n}\n\n.skin-colibri .menu-vertical li,\n.skin-colibri .menu-horizontal li {\n  cursor: default;\n  line-height: 16px;\n  min-height: 16px;\n}\n\n.skin-colibri .menu-vertical img,\n.skin-colibri .menu-horizontal img {\n  vertical-align: middle;\n}\n\n/* Horizontal separator */\n.skin-colibri .menu-vertical li:empty,\n.skin-colibri .menu-horizontal li li:empty {\n  border-top: 1px solid $theme.borderColor;\n  line-height: 1px;\n  min-height: 0;\n  padding: 0;\n}\n\n/* Horizontal Menu */\n\n.skin-colibri .menu.menu-horizontal {\n  #css3_backgroundLinearGradient({\n    'to': 'bottom',\n    'colors': [\n      {'color': $theme.menuGradientColor, 'position': '0%'},\n      {'color': $theme.menuBackgroundColor, 'position': '50%'}\n    ]\n  })\n}\n\n.skin-colibri .menu.menu-horizontal {\n  background-color: $theme.menuBackgroundColor;\n  color: $theme.menuLinkColor;\n  font-size: .85em;\n  height: 2em;\n  padding-left: 25px;\n}\n\n.skin-colibri .menu-horizontal li {\n  padding: 0.2em 1.3em;\n}\n\n.skin-colibri .menu-horizontal li li:empty {\n  border-top: 1px solid $theme.textSecondaryColor;\n  margin: .5em 1em;\n}\n\n/* Vertical separator */\n.skin-colibri .menu-horizontal &gt; ul &gt; li:empty {\n  border-left: 1px solid $theme.textSecondaryColor;\n  margin: 0 .5em;\n  padding: 0;\n  vertical-align: middle;\n}\n\n.skin-colibri .menu-horizontal li a,\n.skin-colibri .menu-horizontal li a:visited {\n  color: inherit;\n}\n\n.skin-colibri .menu-horizontal &gt; ul &gt; li {\n  display: inline-block;\n}\n\n.skin-colibri .menu-horizontal &gt; ul &gt; li.xDropdown:after {\n  content: '\\25BC';\n  font-size: .8em;\n  margin-left: .5em;\n}\n\n.skin-colibri .menu-horizontal li li.xDropdown:after {\n  content: '\\25B8';\n  float: right;\n  margin-left: .5em;\n}\n\n.skin-colibri .menu-horizontal &gt; ul ul {\n  background: none repeat scroll 0 0 $theme.menuBackgroundColor;\n  border-radius: 0 0 .8em .8em;\n  box-shadow: 0 1px 1px $theme.borderColor;\n  display: none;\n  margin: 0.2em 0 0 -1.3em;\n  padding-bottom: .3em;\n  position: absolute;\n  z-index: 1000;\n}\n\n.skin-colibri .menu-horizontal li:hover &gt; ul {\n  display: block;\n}\n\n/* The only way to have a menu with more than 2 levels without JavaScript is to use a fixed width. */\n.skin-colibri .menu-horizontal.fixedWidth li li {\n  position: relative;\n}\n\n.skin-colibri .menu-horizontal.fixedWidth ul ul {\n  width: 12em;\n}\n\n.skin-colibri .menu-horizontal.fixedWidth ul ul ul {\n  left: 12em;\n  margin: 0;\n  top: 0;\n}\n\n/* Vertical Menu */\n\n.skin-colibri .menu.menu-vertical {\n  color: inherit;\n}\n\n.skin-colibri .menu.menu-vertical ul {\n  margin-top: .3em;\n}\n\n.skin-colibri .menu.menu-vertical ul ul {\n  margin-left: 1em;\n}\n\n.skin-colibri .menu-vertical li {\n  padding: .3em;\n}\n\n.skin-colibri .menu-vertical li:empty {\n  margin: .3em 0;\n}\n\n.skin-colibri .menu-vertical .xDropdown-toggle {\n  cursor: pointer;\n}\n\n.skin-colibri .menu-vertical .xDropdown-toggle:hover {\n  background-color: $theme.highlightColor;\n}\n\n.skin-colibri .menu-vertical .xDropdown-toggle:after {\n  content: '\\25C2';\n  float: right;\n}\n\n.skin-colibri .menu-vertical .xDropdown.open .xDropdown-toggle:after {\n  content: '\\25BE';\n}\n\n.skin-colibri .menu-vertical .xDropdown-menu {\n  display: none;\n}\n\n.skin-colibri .menu-vertical .xDropdown.open &gt; .xDropdown-menu {\n  display: block;\n}</code>\n    </property>\n    <property>\n      <contentType>CSS</contentType>\n    </property>\n    <property>\n      <name>Colibri Styling</name>\n    </property>\n    <property>\n      <parse>1</parse>\n    </property>\n    <property>\n      <use>onDemand</use>\n    </property>\n  </object>\n  <object>\n    <name>Menu.MenuMacro</name>\n    <number>1</number>\n    <className>XWiki.StyleSheetExtension</className>\n    <guid>81584261-5cad-4a9c-b96d-9d6237122407</guid>\n    <class>\n      <name>XWiki.StyleSheetExtension</name>\n      <customClass/>\n      <customMapping/>\n      <defaultViewSheet/>\n      <defaultEditSheet/>\n      <defaultWeb/>\n      <nameField/>\n      <validationScript/>\n      <cache>\n        <cache>0</cache>\n        <defaultValue>long</defaultValue>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>cache</name>\n        <number>5</number>\n        <prettyName>Caching policy</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>long|short|default|forbid</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </cache>\n      <code>\n        <contenttype>PureText</contenttype>\n        <disabled>0</disabled>\n        <editor>PureText</editor>\n        <name>code</name>\n        <number>2</number>\n        <prettyName>Code</prettyName>\n        <rows>20</rows>\n        <size>50</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </code>\n      <contentType>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>contentType</name>\n        <number>6</number>\n        <prettyName>Content Type</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>CSS|LESS</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </contentType>\n      <name>\n        <disabled>0</disabled>\n        <name>name</name>\n        <number>1</number>\n        <prettyName>Name</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </name>\n      <parse>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType>yesno</displayType>\n        <name>parse</name>\n        <number>4</number>\n        <prettyName>Parse content</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </parse>\n      <use>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>use</name>\n        <number>3</number>\n        <prettyName>Use this extension</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator> </separator>\n        <separators>|, </separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>currentPage|onDemand|always</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </use>\n    </class>\n    <property>\n      <cache>long</cache>\n    </property>\n    <property>\n      <code>@media print {\n  .menu {\n    display: none;\n  }\n}\n.menu {\n  &amp;.menu-vertical {\n    ul {\n      list-style-type: none;\n      margin-top: .3em;\n      padding: 0;\n      ul {\n        padding: 0 1em;\n      }\n    }\n    li {\n      padding: .3em;\n      /* Separator horizontal inside menu */\n      &amp;:empty {\n        .nav-divider(@dropdown-divider-bg);\n        margin: .3em 0;\n        padding: 0;\n      }\n    }\n    .xDropdown-menu {\n      display: none;\n    }\n    .xDropdown-toggle {\n      cursor: pointer;\n      position: relative;\n      &amp;:hover {\n        background-color: @nav-link-hover-bg;\n      }\n      &amp;:after {\n        .caret;\n        content: '';\n        /* Positioning */\n        position: absolute;\n        margin-top: @line-height-computed / 3;\n        right: 1em;\n        /* Collapsed arrow style */\n        border-bottom: 4px solid transparent;\n        border-right: 4px solid;\n        border-top: 4px solid transparent;\n      }\n    }\n    .xDropdown.open {\n      &gt; .xDropdown-toggle:after {\n        /* Expanded arrow style */\n        .caret;\n        margin-top: @line-height-computed / 2;\n      }\n      &gt; .xDropdown-menu {\n        display: block;\n      }\n    }\n  }\n  &amp;.menu-horizontal {\n    /* Stylization: Navbars */\n    .clearfix;\n    background-color: @navbar-default-bg;\n    border-color: @navbar-default-border;\n    /* Custom styling */\n    .box-shadow(0 2px 8px rgba(0,0,0,0.4) inset);\n    min-height: @navbar-height;\n    padding-left: 25px;\n    &amp; &gt; ul {\n      padding-left: 0;\n      list-style-type: none;\n      margin: 0;\n      &amp; &gt; li {\n        position: relative;\n        display: block;\n        padding: @nav-link-padding;\n        padding-top: @navbar-padding-vertical;\n        padding-bottom: @navbar-padding-vertical;\n        @media (min-width: @grid-float-breakpoint) {\n          float: left;\n        }\n        line-height: @line-height-computed;\n        color: @navbar-default-link-color;\n        &amp;:hover {\n          color: @navbar-default-link-hover-color;\n          background-color: @navbar-default-link-hover-bg;\n          background-color: @navbar-default-link-active-bg;\n          color: @navbar-default-link-active-color;\n          /* When hovering, have the same color for text and link usage */\n          &amp; &gt; span &gt; a {\n            background-color: @navbar-default-link-active-bg;\n            color: @navbar-default-link-active-color;\n          }\n        }\n        /* Links inside menu */\n        a {\n          color: @navbar-default-link-color;\n          &amp;:hover {\n            text-decoration: none;\n          }\n        }\n        /* Containers, images inside menu */\n        div, img {\n          /* Limit the height to the nav height minus the padding and minus border */\n          max-height: @navbar-height - (2 * @navbar-padding-vertical) - 2px;\n          overflow: hidden;\n        }\n        /* Separator vertical inside menu */\n        &amp;:empty {\n          height: @navbar-height;\n          margin: 0 ((@line-height-computed / 2) - 1);\n          padding: 0;\n          border-right: 1px solid @navbar-default-border;\n        }\n      }\n      /* Stylization: Dropdowns */\n      ul {\n        position: absolute;\n        top: 100%;\n        left: 0;\n        z-index: @zindex-dropdown;\n        display: none; // none by default, but block on \"open\" of the menu\n        float: left;\n        min-width: 160px;\n        padding: 5px 0;\n        margin: 2px 0 0; // override default ul\n        list-style: none;\n        font-size: @font-size-base;\n        text-align: left; // Ensures proper alignment if parent has it changed (e.g., modal footer)\n        background-color: @dropdown-bg;\n        border: 1px solid @dropdown-border;\n        border-radius: @border-radius-base;\n        .box-shadow(0 6px 12px rgba(0,0,0,.175));\n        background-clip: padding-box;\n        margin-top: 0;\n        border-top-right-radius: 0;\n        border-top-left-radius: 0;\n        li {\n          /* Text inside menu */\n          color: @dropdown-link-color;\n          /* Links inside menu */\n          a {\n            display: block;\n            padding: 3px 20px;\n            clear: both;\n            font-weight: normal;\n            line-height: @line-height-base;\n            color: @dropdown-link-color;\n            overflow: hidden;\n            text-overflow: ellipsis; // Displaying ... if the text is too long\n            &amp;:hover {\n              /* &amp;:extend(.dropdown-menu&gt;li&gt;a:hover); */\n              text-decoration: none;\n              color: @dropdown-link-hover-color;\n              background-color: @dropdown-link-hover-bg;\n            }\n          }\n          /* Submenus inside menu */\n          &amp;.xDropdown {\n            /* Even if we don't have links, display the content the same way */\n            display: block;\n            padding: 3px 20px;\n            clear: both;\n            font-weight: normal;\n            line-height: @line-height-base;\n            color: @dropdown-link-color;\n            /* Empty dropdowns should have height in order to display the arrow */\n            min-height: 2 * @font-size-base;\n            &amp;:hover {\n              text-decoration: none;\n              color: @dropdown-link-hover-color;\n              background-color: @dropdown-link-hover-bg;\n              /* When in dropdown we also have a link, adjust the hover color */\n              &amp; &gt; span &gt; a {\n                color: @dropdown-link-hover-color;\n              }\n            }\n            /* When in dropdown we also have a link, reset the duplicated padding */\n            &amp; &gt; span &gt; a {\n              padding: 0;\n              display: inherit;\n            }\n            /* Place the arrow on the right */\n            &amp;:after {\n              position: absolute;\n              margin-top: @line-height-computed / 2;\n              right: 8px;\n            }\n          }\n          /* Separator horizontal inside menu */\n          &amp;:empty {\n            .nav-divider(@dropdown-divider-bg);\n            padding: 0;\n          }\n        }\n      }\n    }\n    /* Stylization: Generic */\n    li {\n      /* Display submenus on hover */\n      &amp;:hover &gt; ul {\n        display: block;\n      }\n      /* Display an arrow for expandable items */\n      &amp;.xDropdown {\n        &amp;:after {\n          .caret;\n          content: '';\n          margin-left: .5em;\n        }\n      }\n    }\n    /* The only way to have a menu with more than 2 levels without JavaScript is to use a fixed width. */\n    &amp;.fixedWidth {\n      li li {\n        position: relative;\n      }\n      ul ul {\n        width: 12em;\n        ul {\n          left: 12em;\n          margin: 0;\n          top: 0;\n          /* Bring the dropdown closer in order to hover it */\n          margin-left: -2px;\n          /* Adjust corner to better look as a submenu */\n          border-top-left-radius: 0;\n        }\n      }\n    }\n    /* Resetting rules for mobile view */\n    @media (max-width: @screen-xs-max) {\n      &gt; ul { \n        margin: 0 0 0 -25px; /* Remove padding added in normal view */\n        &gt; li {\n          &amp;:empty {\n            .nav-divider(@navbar-default-border);\n          }\n        }\n        ul {\n          /* Resetting rules for mobile view */\n          position: static;\n          float: none;\n          width: auto;\n          margin-top: 0;\n          background-color: transparent;\n          border: 0;\n          box-shadow: none;\n          li {\n            /* Text inside menu */\n            color: @navbar-default-link-color;\n            /* Links inside menu */\n            a {\n              color: @navbar-default-link-color;\n              &amp;:hover {\n                /* Preserve the styling from dropdown */\n              }\n            }\n            /* Submenus inside menu */\n            &amp;.xDropdown {\n              color: @navbar-default-link-color;\n              &amp;:hover {\n                background-color: transparent;\n                color: inherit;\n              }\n              /* When in dropdown we also have a link */\n              &gt; span &gt; a { \n                color: @navbar-default-link-color;\n              }\n            }\n            &amp;:empty {\n              .nav-divider(@navbar-default-border);\n            }\n          }\n        }\n      }\n      li {\n        &amp;.xDropdown {\n          /* Place the arrow on the right */\n          &amp;:after {\n            position: absolute;\n            margin-top: @line-height-computed;\n            right: 1em;\n            top: 0;\n          }\n        }\n      }\n      &amp;.fixedWidth ul ul {\n        width: auto;\n      }\n    }\n  }\n}\n\n.menu .wikiexternallink {\n  background: rgba(0, 0, 0, 0) none repeat scroll 0 center;\n  padding: 0;\n}\n\n.menu-horizontal-toggle {\n  .clearfix;\n  background-color: @navbar-default-bg;\n  border-color: @navbar-default-border;\n  .box-shadow(0 2px 8px rgba(0,0,0,0.4) inset);\n  min-height: @navbar-height;\n  &amp; .navbar-toggle {\n    float: left;\n    padding-left: 15px;\n    &amp; .icon-bar {\n      background-color: @navbar-default-link-color;\n      transition: .3s ease all;\n      &amp;:nth-of-type(2) {\n        opacity: 0;\n      }\n      &amp;:nth-of-type(3) {\n        transform: rotate(45deg);\n      }\n      &amp;:nth-of-type(4) {\n        transform: rotate(-45deg);\n        margin-top: -2px;\n        margin-bottom: 6px;\n      }\n    }\n    &amp;.collapsed {\n      .icon-bar {\n        &amp;:nth-of-type(2) {\n          opacity: 1;\n        }\n        &amp;:nth-of-type(3) {\n          transform: rotate(0);\n        }\n        &amp;:nth-of-type(4) {\n          transform: rotate(0);\n          margin-top: 4px;\n          margin-bottom: 0;\n        }\n      }\n    }\n  }\n}</code>\n    </property>\n    <property>\n      <contentType>LESS</contentType>\n    </property>\n    <property>\n      <name>Flamingo Styling</name>\n    </property>\n    <property>\n      <parse/>\n    </property>\n    <property>\n      <use>onDemand</use>\n    </property>\n  </object>\n  <object>\n    <name>Menu.MenuMacro</name>\n    <number>0</number>\n    <className>XWiki.WikiMacroClass</className>\n    <guid>1f17c513-df60-481f-b8d0-15ef11b75d45</guid>\n    <class>\n      <name>XWiki.WikiMacroClass</name>\n      <customClass/>\n      <customMapping/>\n      <defaultViewSheet/>\n      <defaultEditSheet/>\n      <defaultWeb/>\n      <nameField/>\n      <validationScript/>\n      <async_cached>\n        <defaultValue>0</defaultValue>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType/>\n        <name>async_cached</name>\n        <number>13</number>\n        <prettyName>Cached</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </async_cached>\n      <async_context>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>1</multiSelect>\n        <name>async_context</name>\n        <number>14</number>\n        <prettyName>Context elements</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator>, </separator>\n        <separators>|, </separators>\n        <size>5</size>\n        <unmodifiable>0</unmodifiable>\n        <values>action=Action|doc.reference=Document|icon.theme=Icon theme|locale=Language|rendering.defaultsyntax=Default syntax|rendering.restricted=Restricted|rendering.targetsyntax=Target syntax|request.base=Request base URL|request.cookies|request.parameters=Request parameters|request.url=Request URL|request.wiki=Request wiki|user=User|wiki=Wiki</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </async_context>\n      <async_enabled>\n        <defaultValue>0</defaultValue>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType/>\n        <name>async_enabled</name>\n        <number>12</number>\n        <prettyName>Asynchronous rendering</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </async_enabled>\n      <code>\n        <disabled>0</disabled>\n        <editor>Text</editor>\n        <name>code</name>\n        <number>10</number>\n        <prettyName>Macro code</prettyName>\n        <rows>20</rows>\n        <size>40</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </code>\n      <contentDescription>\n        <contenttype>PureText</contenttype>\n        <disabled>0</disabled>\n        <editor>PureText</editor>\n        <name>contentDescription</name>\n        <number>9</number>\n        <prettyName>Content description (Not applicable for \"No content\" type)</prettyName>\n        <rows>5</rows>\n        <size>40</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </contentDescription>\n      <contentJavaType>\n        <cache>0</cache>\n        <defaultValue>Unknown</defaultValue>\n        <disabled>0</disabled>\n        <displayType>input</displayType>\n        <freeText>allowed</freeText>\n        <largeStorage>1</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>contentJavaType</name>\n        <number>8</number>\n        <picker>1</picker>\n        <prettyName>Macro content type</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator>|</separator>\n        <separators>|</separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>Unknown|Wiki</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </contentJavaType>\n      <contentType>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>contentType</name>\n        <number>7</number>\n        <prettyName>Macro content availability</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator>|</separator>\n        <separators>|</separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>Optional|Mandatory|No content</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </contentType>\n      <defaultCategory>\n        <disabled>0</disabled>\n        <name>defaultCategory</name>\n        <number>4</number>\n        <prettyName>Default category</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </defaultCategory>\n      <description>\n        <contenttype>PureText</contenttype>\n        <disabled>0</disabled>\n        <editor>PureText</editor>\n        <name>description</name>\n        <number>3</number>\n        <prettyName>Macro description</prettyName>\n        <rows>5</rows>\n        <size>40</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </description>\n      <id>\n        <disabled>0</disabled>\n        <name>id</name>\n        <number>1</number>\n        <prettyName>Macro id</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </id>\n      <name>\n        <disabled>0</disabled>\n        <name>name</name>\n        <number>2</number>\n        <prettyName>Macro name</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </name>\n      <priority>\n        <disabled>0</disabled>\n        <name>priority</name>\n        <number>11</number>\n        <numberType>integer</numberType>\n        <prettyName>Priority</prettyName>\n        <size>10</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>\n      </priority>\n      <supportsInlineMode>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType>yesno</displayType>\n        <name>supportsInlineMode</name>\n        <number>5</number>\n        <prettyName>Supports inline mode</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </supportsInlineMode>\n      <visibility>\n        <cache>0</cache>\n        <disabled>0</disabled>\n        <displayType>select</displayType>\n        <freeText>forbidden</freeText>\n        <largeStorage>0</largeStorage>\n        <multiSelect>0</multiSelect>\n        <name>visibility</name>\n        <number>6</number>\n        <prettyName>Macro visibility</prettyName>\n        <relationalStorage>0</relationalStorage>\n        <separator>|</separator>\n        <separators>|</separators>\n        <size>1</size>\n        <unmodifiable>0</unmodifiable>\n        <values>Current User|Current Wiki|Global</values>\n        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>\n      </visibility>\n    </class>\n    <property>\n      <async_cached>0</async_cached>\n    </property>\n    <property>\n      <async_context/>\n    </property>\n    <property>\n      <async_enabled>0</async_enabled>\n    </property>\n    <property>\n      <code>{{velocity}}\n#set ($id = $xcontext.macro.params.id)\n#set ($type = $xcontext.macro.params.type)\n#set ($colorTheme = $xwiki.getUserPreference('colorTheme'))\n#if (\"$!colorTheme\" != '')\n  ## Make sure we use an absolute reference (see XWIKI-9672)\n  #set ($colorTheme = $services.model.resolveDocument($colorTheme, $doc.documentReference))\n#end\n#set ($discard = $xwiki.ssx.use(\"$xcontext.macro.doc.prefixedFullName\", {'colorTheme': $colorTheme}))\n#set ($discard = $xwiki.jsx.use(\"$xcontext.macro.doc.prefixedFullName\"))\n#if($type.contains('horizontal'))\n  (% role=\"navigation\" class=\"menu-horizontal-toggle\" %)(((\n    (% class=\"navbar-header\" %)(((\n      {{html}}\n        &lt;button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#$!{escapetool.xml($id)}\" aria-expanded=\"false\"&gt;\n          &lt;span class=\"sr-only\"&gt;&lt;/span&gt;\n          &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n          &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n          &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n        &lt;/button&gt;\n      {{/html}}\n    )))\n    (% id=\"$!{services.rendering.escape($id, 'xwiki/2.1')}\" class=\"menu menu-${services.rendering.escape($!type, 'xwiki/2.1')} collapse navbar-collapse\" %)(((\n      {{wikimacrocontent/}}\n    )))\n  )))\n#else\n  (% #if (\"$!id\" != '') id=\"${services.rendering.escape($id, 'xwiki/2.1')}\"#end class=\"menu menu-${services.rendering.escape($!type, 'xwiki/2.1')}\" %)(((\n    {{wikimacrocontent/}}\n  )))\n#end\n{{/velocity}}</code>\n    </property>\n    <property>\n      <contentDescription>Define the menu structure using wiki syntax. Each menu item should be a list item and should contain the menu item label or link. You can use nested lists for sub-menu items.</contentDescription>\n    </property>\n    <property>\n      <contentJavaType>Wiki</contentJavaType>\n    </property>\n    <property>\n      <contentType>Mandatory</contentType>\n    </property>\n    <property>\n      <defaultCategory>Navigation</defaultCategory>\n    </property>\n    <property>\n      <description>Displays a menu created using simple wiki syntax (nested lists and links).</description>\n    </property>\n    <property>\n      <id>menu</id>\n    </property>\n    <property>\n      <name>Menu</name>\n    </property>\n    <property>\n      <priority/>\n    </property>\n    <property>\n      <supportsInlineMode>0</supportsInlineMode>\n    </property>\n    <property>\n      <visibility>Global</visibility>\n    </property>\n  </object>\n  <object>\n    <name>Menu.MenuMacro</name>\n    <number>0</number>\n    <className>XWiki.WikiMacroParameterClass</className>\n    <guid>bbeba321-44be-4e3a-b102-f59cada761ec</guid>\n    <class>\n      <name>XWiki.WikiMacroParameterClass</name>\n      <customClass/>\n      <customMapping/>\n      <defaultViewSheet/>\n      <defaultEditSheet/>\n      <defaultWeb/>\n      <nameField/>\n      <validationScript/>\n      <defaultValue>\n        <disabled>0</disabled>\n        <name>defaultValue</name>\n        <number>4</number>\n        <prettyName>Parameter default value</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </defaultValue>\n      <description>\n        <disabled>0</disabled>\n        <name>description</name>\n        <number>2</number>\n        <prettyName>Parameter description</prettyName>\n        <rows>5</rows>\n        <size>40</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </description>\n      <mandatory>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType>yesno</displayType>\n        <name>mandatory</name>\n        <number>3</number>\n        <prettyName>Parameter mandatory</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </mandatory>\n      <name>\n        <disabled>0</disabled>\n        <name>name</name>\n        <number>1</number>\n        <prettyName>Parameter name</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </name>\n      <type>\n        <disabled>0</disabled>\n        <name>type</name>\n        <number>5</number>\n        <prettyName>Parameter type</prettyName>\n        <size>60</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </type>\n    </class>\n    <property>\n      <defaultValue>horizontal</defaultValue>\n    </property>\n    <property>\n      <description>The optional menu type determines the menu appearance and behaviour. The supported values are: horizontal (default value) and vertical.</description>\n    </property>\n    <property>\n      <mandatory>0</mandatory>\n    </property>\n    <property>\n      <name>type</name>\n    </property>\n    <property>\n      <type/>\n    </property>\n  </object>\n  <object>\n    <name>Menu.MenuMacro</name>\n    <number>2</number>\n    <className>XWiki.WikiMacroParameterClass</className>\n    <guid>00eee99c-d118-4b26-8784-98ade58b5af7</guid>\n    <class>\n      <name>XWiki.WikiMacroParameterClass</name>\n      <customClass/>\n      <customMapping/>\n      <defaultViewSheet/>\n      <defaultEditSheet/>\n      <defaultWeb/>\n      <nameField/>\n      <validationScript/>\n      <defaultValue>\n        <disabled>0</disabled>\n        <name>defaultValue</name>\n        <number>4</number>\n        <prettyName>Parameter default value</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </defaultValue>\n      <description>\n        <disabled>0</disabled>\n        <name>description</name>\n        <number>2</number>\n        <prettyName>Parameter description</prettyName>\n        <rows>5</rows>\n        <size>40</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>\n      </description>\n      <mandatory>\n        <disabled>0</disabled>\n        <displayFormType>select</displayFormType>\n        <displayType>yesno</displayType>\n        <name>mandatory</name>\n        <number>3</number>\n        <prettyName>Parameter mandatory</prettyName>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>\n      </mandatory>\n      <name>\n        <disabled>0</disabled>\n        <name>name</name>\n        <number>1</number>\n        <prettyName>Parameter name</prettyName>\n        <size>30</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </name>\n      <type>\n        <disabled>0</disabled>\n        <name>type</name>\n        <number>5</number>\n        <prettyName>Parameter type</prettyName>\n        <size>60</size>\n        <unmodifiable>0</unmodifiable>\n        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>\n      </type>\n    </class>\n    <property>\n      <defaultValue/>\n    </property>\n    <property>\n      <description>Optional menu identifier that will be set on the HTML element that wraps the menu. You can use this identifier in JavaScript code to access the menu DOM or in functional tests to assert the menu items.</description>\n    </property>\n    <property>\n      <mandatory>0</mandatory>\n    </property>\n    <property>\n      <name>id</name>\n    </property>\n    <property>\n      <type/>\n    </property>\n  </object>\n</xwikidoc>\n"], "filenames": ["xwiki-platform-core/xwiki-platform-menu/xwiki-platform-menu-ui/src/main/resources/Menu/MenuMacro.xml"], "buggy_code_start_loc": [23], "buggy_code_end_loc": [1190], "fixing_code_start_loc": [23], "fixing_code_end_loc": [1214], "type": "CWE-74", "message": "XWiki Platform is a generic wiki platform offering runtime services for applications built on top of it. Any user with view rights on commonly accessible documents including the menu macro can execute arbitrary Groovy, Python or Velocity code in XWiki leading to full access to the XWiki installation due to improper escaping of the macro content and parameters of the menu macro. The problem has been patched in XWiki 14.6RC1, 13.10.8 and 14.4.3. The patch (commit `2fc20891`) for the document `Menu.MenuMacro` can be manually applied or a XAR archive of a patched version can be imported. The menu macro was basically unchanged since XWiki 11.6 so on XWiki 11.6 or later the patch for version of 13.10.8 (commit `59ccca24a`) can most likely be applied, on XWiki version 14.0 and later the versions in XWiki 14.6 and 14.4.3 should be appropriate.", "other": {"cve": {"id": "CVE-2022-41934", "sourceIdentifier": "security-advisories@github.com", "published": "2022-11-23T20:15:10.097", "lastModified": "2022-11-30T17:30:12.047", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "XWiki Platform is a generic wiki platform offering runtime services for applications built on top of it. Any user with view rights on commonly accessible documents including the menu macro can execute arbitrary Groovy, Python or Velocity code in XWiki leading to full access to the XWiki installation due to improper escaping of the macro content and parameters of the menu macro. The problem has been patched in XWiki 14.6RC1, 13.10.8 and 14.4.3. The patch (commit `2fc20891`) for the document `Menu.MenuMacro` can be manually applied or a XAR archive of a patched version can be imported. The menu macro was basically unchanged since XWiki 11.6 so on XWiki 11.6 or later the patch for version of 13.10.8 (commit `59ccca24a`) can most likely be applied, on XWiki version 14.0 and later the versions in XWiki 14.6 and 14.4.3 should be appropriate."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "HIGH", "baseScore": 8.8, "baseSeverity": "HIGH"}, "exploitabilityScore": 2.8, "impactScore": 5.9}, {"source": "security-advisories@github.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:H/I:H/A:H", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "CHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "HIGH", "baseScore": 9.9, "baseSeverity": "CRITICAL"}, "exploitabilityScore": 3.1, "impactScore": 6.0}]}, "weaknesses": [{"source": "security-advisories@github.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-74"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:xwiki:xwiki:*:*:*:*:*:*:*:*", "versionEndExcluding": "13.10.8", "matchCriteriaId": "826127A0-9698-4FA6-8FFD-64C933B52A94"}, {"vulnerable": true, "criteria": "cpe:2.3:a:xwiki:xwiki:*:*:*:*:*:*:*:*", "versionStartIncluding": "14.0.0", "versionEndExcluding": "14.4.3", "matchCriteriaId": "CF0D4D4B-363F-4D5D-B780-1CBCC1C202B8"}, {"vulnerable": true, "criteria": "cpe:2.3:a:xwiki:xwiki:14.4.4:*:*:*:*:*:*:*", "matchCriteriaId": "CDAB9E27-2E41-44EA-BBCB-8015B22272B7"}, {"vulnerable": true, "criteria": "cpe:2.3:a:xwiki:xwiki:14.4.5:*:*:*:*:*:*:*", "matchCriteriaId": "79B3E9A4-CAC3-4E8D-9C76-F7AE5C3385C1"}]}]}], "references": [{"url": "https://github.com/xwiki/xwiki-platform/commit/2fc20891e6c6b0ca05ee07e315e7f435e8919f8d", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/xwiki/xwiki-platform/commit/59ccca24a8465a19f40c51d65fcc2c09c1edea16", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/xwiki/xwiki-platform/security/advisories/GHSA-6w8h-26xx-cf8q", "source": "security-advisories@github.com", "tags": ["Exploit", "Patch", "Third Party Advisory"]}, {"url": "https://jira.xwiki.org/browse/XWIKI-19857", "source": "security-advisories@github.com", "tags": ["Exploit", "Issue Tracking", "Patch", "Vendor Advisory"]}, {"url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/Imports#HImportingXWikipages", "source": "security-advisories@github.com", "tags": ["Vendor Advisory"]}]}, "github_commit_url": "https://github.com/xwiki/xwiki-platform/commit/2fc20891e6c6b0ca05ee07e315e7f435e8919f8d"}}