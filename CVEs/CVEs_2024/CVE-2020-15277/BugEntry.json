{"buggy_code": ["<?php\n/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) baserCMS Users Community <https://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttps://basercms.net baserCMS Project\n * @package\t\t\tFeed.View\n * @since\t\t\tbaserCMS v 0.1.0\n * @license\t\t\thttps://basercms.net/license/index.html\n */\n\n/**\n * [ADMIN] \u30d5\u30a3\u30fc\u30c9\u8a2d\u5b9a\u3000\u884c\n */\n?>\n\n\n<tr>\n\t<td class=\"bca-table-listup__tbody-td\" class=\"row-tools bca-table-listup__tbody-td\">\n\t\t<?php if ($this->BcBaser->isAdminUser()): ?>\n\t\t\t<?php echo $this->BcForm->input('ListTool.batch_targets.' . $data['id'], ['type' => 'checkbox', 'label'=> '<span class=\"bca-visually-hidden\">\u30c1\u30a7\u30c3\u30af\u3059\u308b</span>', 'class' => 'batch-targets bca-checkbox__input', 'value' => $data['id']]) ?>\n\t\t<?php endif ?>\t\t\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td\">\n\t\t<?php if ($data['url']): ?>\n\t\t\t<?php $this->BcBaser->link($data['name'], ['controller' => 'feed_details', 'action' => 'edit', $this->BcForm->value('FeedConfig.id'), $data['id']]) ?>\n\t\t<?php else: ?>\n\t\t\t<?php echo $data['name'] ?>\n\t\t<?php endif; ?>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo $data['category_filter'] ?></td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo $this->BcText->listValue('FeedDetail.cache_time', $data['cache_time']) ?></td>\n\t<?php echo $this->BcListTable->dispatchShowRow($data) ?>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo $this->BcTime->format('Y-m-d', $data['created']) ?><br />\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['modified']) ?></td>\n\t<td class=\"bca-table-listup__tbody-td bca-table-listup__tbody-td--actions\">\n\t\t<?php $this->BcBaser->link('', $data['url'], ['title' => __d('baser', '\u78ba\u8a8d'), 'target' => '_blank', 'class' => 'bca-btn-icon', 'data-bca-btn-type' => 'preview','data-bca-btn-size' => 'lg']) ?>\n\t\t<?php $this->BcBaser->link('', ['controller' => 'feed_details', 'action' => 'edit', $this->BcForm->value('FeedConfig.id'), $data['id']], ['title' => __d('baser', '\u7de8\u96c6'), 'class' => 'bca-btn-icon', 'data-bca-btn-type' => 'edit','data-bca-btn-size' => 'lg']) ?>\n\t\t<?php $this->BcBaser->link('', ['controller' => 'feed_details', 'action' => 'ajax_delete', $this->BcForm->value('FeedConfig.id'), $data['id']], ['title' => __d('baser', '\u524a\u9664'), 'class' => 'btn-delete bca-btn-icon', 'data-bca-btn-type' => 'delete','data-bca-btn-size' => 'lg']) ?>\n\t</td>\n</tr>", "<?php\n/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) baserCMS Users Community <https://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttps://basercms.net baserCMS Project\n * @package\t\t\tBaser.View\n * @since\t\t\tbaserCMS v 4.0.0\n * @license\t\t\thttps://basercms.net/license/index.html\n */\n\n/**\n * \u30b5\u30d6\u30b5\u30a4\u30c8\u4e00\u89a7\uff08\u884c\uff09\n */\n$classies = [];\nif ($data['Site']['status']) {\n\t$classies = ['publish'];\n} else {\n\t$classies = ['unpublish', 'disablerow'];\n}\n$class = ' class=\"' . implode(' ', $classies) . '\"';\n$url = $this->BcContents->getUrl('/' . $data['Site']['alias'] . '/', true, $data['Site']['use_subdomain']);\n?>\n\n\n<tr id=\"Row<?php echo $count ?>\" <?php echo $class; ?>>\n\t<td class=\"bca-table-listup__tbody-td\" style=\"width:5%\"><?php echo $data['Site']['id']; ?></td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo $data['Site']['display_name'] ?></td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php $this->BcBaser->link($data['Site']['name'], ['action' => 'edit', $data['Site']['id']]); ?><br>\n\t\t<?php echo $data['Site']['alias'] ?>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td\" style=\"width:5%;\" class=\"bc-align-center status\">\n\t\t<?php echo $this->BcText->booleanMark($data['Site']['status']); ?><br>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td\" class=\"bc-align-center\">\n\t\t<?php echo $this->BcText->arrayValue($data['Site']['device'], $devices, ''); ?><br>\n\t\t<?php echo $this->BcText->arrayValue($data['Site']['lang'], $langs, ''); ?>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo $this->BcText->arrayValue($data['Site']['main_site_id'], $mainSites, ''); ?><br>\n\t\t<?php echo $this->BcText->noValue($data['Site']['theme'], $this->BcBaser->siteConfig['theme']) ?>\n\t</td>\n\t<?php echo $this->BcListTable->dispatchShowRow($data) ?>\n\t<td class=\"bca-table-listup__tbody-td\" style=\"width:10%;white-space: nowrap\">\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['Site']['created']) ?><br>\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['Site']['modified']) ?>\n\t</td>\n\t<td class=\"row-tools bca-table-listup__tbody-td bca-table-listup__tbody-td--actions\" style=\"width:15%\">\n\t\t<?php $this->BcBaser->link('', ['action' => 'ajax_unpublish', $data['Site']['id']], ['title' => __d('baser', '\u975e\u516c\u958b'), 'class' => 'btn-unpublish bca-btn-icon', 'data-bca-btn-type' => 'unpublish','data-bca-btn-size' => 'lg']) ?>\n\t\t<?php $this->BcBaser->link('', ['action' => 'ajax_publish', $data['Site']['id']], ['title' => __d('baser', '\u516c\u958b'), 'class' => 'btn-publish bca-btn-icon', 'data-bca-btn-type' => 'publish','data-bca-btn-size' => 'lg']) ?>\n<?php if ($data['Site']['status']) : ?>\n\t\t<?php $this->BcBaser->link('', $url, ['title' => __d('baser', '\u78ba\u8a8d'), 'target' => '_blank', 'class' => 'bca-btn-icon', 'data-bca-btn-type' => 'preview','data-bca-btn-size' => 'lg']) ?>\n<?php endif ?>\n\t\t<?php $this->BcBaser->link('', ['action' => 'edit', $data['Site']['id']], ['title' => __d('baser', '\u7de8\u96c6'), 'class' => ' bca-btn-icon', 'data-bca-btn-type' => 'edit','data-bca-btn-size' => 'lg']) ?>\n\t</td>\n</tr>", "<?php\n/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) baserCMS Users Community <https://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttps://basercms.net baserCMS Project\n * @package\t\t\tUploader.View\n * @since\t\t\tbaserCMS v 3.0.10\n * @license\t\t\thttps://basercms.net/license/index.html\n */\n?>\n\n\n<tr>\n\t<td class=\"row-tools bca-table-listup__tbody-td\">\n<?php if($this->BcBaser->isAdminUser()): ?>\n\t\t<?php echo $this->BcForm->input('ListTool.batch_targets.'.$data['UploaderCategory']['id'], ['type' => 'checkbox', 'label'=> '<span class=\"bca-visually-hidden\">\u30c1\u30a7\u30c3\u30af\u3059\u308b</span>', 'class' => 'batch-targets bca-checkbox__input', 'value' => $data['UploaderCategory']['id']]) ?>\n<?php endif ?>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo $data['UploaderCategory']['id'] ?></td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo $data['UploaderCategory']['name'] ?></td>\n\t<?php echo $this->BcListTable->dispatchShowRow($data) ?>\n\t<td class=\"bca-table-listup__tbody-td\">\n\t\t<?php echo $data['UploaderCategory']['created'] ?><br />\n\t\t<?php echo $data['UploaderCategory']['modified'] ?>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td bca-table-listup__tbody-td--actions\">\n\t\t<?php $this->BcBaser->link('', ['action' => 'edit', $data['UploaderCategory']['id']], ['title' => __d('baser', '\u7de8\u96c6'), 'class' => 'bca-btn-icon', 'data-bca-btn-type' => 'edit','data-bca-btn-size' => 'lg']) ?>\n\t\t<?php $this->BcBaser->link('', ['action' => 'ajax_copy', $data['UploaderCategory']['id']], ['title' => __d('baser', '\u30b3\u30d4\u30fc'), 'class' => 'btn-copy bca-btn-icon', 'data-bca-btn-type' => 'copy','data-bca-btn-size' => 'lg']) ?>\n\t\t<?php $this->BcBaser->link('', ['action' => 'ajax_delete', $data['UploaderCategory']['id']], ['title' => __d('baser', '\u524a\u9664'), 'class' => 'btn-delete bca-btn-icon', 'data-bca-btn-type' => 'delete','data-bca-btn-size' => 'lg']) ?>\n\t</td>\n</tr>\n", "<?php\n/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) baserCMS Users Community <https://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttps://basercms.net baserCMS Project\n * @package\t\t\tBaser.View\n * @since\t\t\tbaserCMS v 0.1.0\n * @license\t\t\thttps://basercms.net/license/index.html\n */\n\n/**\n * [ADMIN] \u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u7de8\u96c6\n */\n$this->BcBaser->i18nScript([\n\t'alertMessage1' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'alertMessage2' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u306e\u4e26\u3073\u66ff\u3048\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'alertMessage3' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u540d\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'alertMessage4' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'confirmMessage1' => __d('baser', '\u8a2d\u5b9a\u5185\u5bb9\u3082\u524a\u9664\u3055\u308c\u307e\u3059\u304c\u3001\u672c\u5f53\u306b\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f'),\n\t'infoMessage1' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'),\n\t'infoMessage2' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u540d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002'),\n\t'infoMessage3' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002'),\n]);\n$this->BcBaser->js('admin/widget_areas/form', false, ['id' => 'AdminWidgetFormScript',\n\t'data-delWidgetUrl' => $this->BcBaser->getUrl(['controller' => 'widget_areas', 'action' => 'del_widget', $this->BcForm->value('WidgetArea.id')]),\n\t'data-currentAction' =>$this->request->action\n]);\n?>\n\n\n<?php if ($this->request->action == 'admin_add'): ?>\n\t<?php echo $this->BcForm->create('WidgetArea', ['url' => ['action' => 'add']]) ?>\n<?php elseif ($this->request->action == 'admin_edit'): ?>\n\t<?php echo $this->BcForm->create('WidgetArea', ['url' => ['action' => 'update_title', 'id' => false]]) ?>\n<?php endif ?>\n\n<?php echo $this->BcForm->hidden('WidgetArea.id') ?>\n\n<?php echo $this->BcForm->label('WidgetArea.name', __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u540d')) ?>&nbsp;\n<?php echo $this->BcForm->input('WidgetArea.name', ['type' => 'text', 'size' => 40, 'autofocus' => true]) ?>&nbsp;\n<span class=\"submit\"><?php echo $this->BcForm->end(['label' => __d('baser', '\u30a8\u30ea\u30a2\u540d\u3092\u4fdd\u5b58\u3059\u308b'), 'div' => false, 'class' => 'button btn-red bca-btn', 'id' => 'WidgetAreaUpdateTitleSubmit', 'data-bca-btn-type' => 'save']) ?></span>\n<?php $this->BcBaser->img('admin/ajax-loader-s.gif', ['style' => 'vertical-align:middle;display:none', 'id' => 'WidgetAreaUpdateTitleLoader']) ?>\n<?php echo $this->BcForm->error('WidgetArea.name') ?>\n\n<?php if (!empty($widgetInfos)): ?>\n\n\t<?php echo $this->BcForm->create('WidgetArea', ['url' => ['action' => 'update_sort', $this->BcForm->value('WidgetArea.id'), 'id' => false]]) ?>\n\t<?php echo $this->BcForm->input('WidgetArea.sorted_ids', ['type' => 'hidden']) ?>\n\t<?php echo $this->BcForm->end() ?>\n\n\t<div id=\"WidgetSetting\" class=\"clearfix\" >\n\n\t\t<!-- \u5229\u7528\u3067\u304d\u308b\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8 -->\n\t\t<div id=\"SourceOuter\">\n\t\t\t<div id=\"Source\">\n\n\t\t\t\t<h2><?php echo __d('baser', '\u5229\u7528\u3067\u304d\u308b\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8') ?></h2>\n\t\t\t\t<?php foreach ($widgetInfos as $widgetInfo) : ?>\n\t\t\t\t\t<h3><?php echo $widgetInfo['title'] ?></h3>\n\t\t\t\t\t<?php\n\t\t\t\t\t$widgets = [];\n\t\t\t\t\tforeach ($widgetInfo['paths'] as $path) {\n\t\t\t\t\t\t$Folder = new Folder($path);\n\t\t\t\t\t\t$files = $Folder->read(true, true, true);\n\t\t\t\t\t\t$widgets = [];\n\t\t\t\t\t\tforeach ($files[1] as $file) {\n\t\t\t\t\t\t\t$widget = ['name' => '', 'title' => '', 'description' => '', 'setting' => ''];\n\t\t\t\t\t\t\tob_start();\n\t\t\t\t\t\t\t$key = 'Widget';\n\t\t\t\t\t\t\t// \u30bf\u30a4\u30c8\u30eb\u3084\u8aac\u660e\u6587\u3092\u53d6\u5f97\u3059\u308b\u70ba\u3001element\u3092\u4f7f\u308f\u305a\u3001include\u3059\u308b\u3002\n\t\t\t\t\t\t\t// \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u305f\u5834\u5408\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u5185\u3067\u30d8\u30eb\u30d1\u7b49\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\n\t\t\t\t\t\t\t// \u30a8\u30e9\u30fc\u3068\u306a\u308b\u306e\u3067\u3053\u3053\u3067\u8aad\u307f\u8fbc\u3080\n\t\t\t\t\t\t\tinclude $file;\n\t\t\t\t\t\t\t$widget['name'] = basename($file, $this->ext);\n\t\t\t\t\t\t\t$widget['title'] = $title;\n\t\t\t\t\t\t\t$widget['description'] = $description;\n\t\t\t\t\t\t\t$widget['setting'] = ob_get_contents();\n\t\t\t\t\t\t\t$widgets[] = $widget;\n\t\t\t\t\t\t\tob_end_clean();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t?>\n\t\t\t\t\t<?php foreach ($widgets as $widget): ?>\n\n\t\t\t\t\t\t<div class=\"ui-widget-content draggable widget\" id=\"Widget<?php echo Inflector::camelize($widget['name']) ?>\">\n\t\t\t\t\t\t\t<div class=\"head\"><?php echo $widget['title'] ?></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"description\"><?php echo $widget['description'] ?></div>\n\n\t\t\t\t\t\t<div class=\"ui-widget-content sortable widget template <?php echo $widget['name'] ?>\" id=\"<?php echo Inflector::camelize($widget['name']) ?>\">\n\t\t\t\t\t\t\t<div class=\"clearfix\">\n\t\t\t\t\t\t\t\t<div class=\"widget-name display-none\"><?php echo $widget['name'] ?></div>\n\t\t\t\t\t\t\t\t<div class=\"del\"><?php echo __d('baser', '\u524a\u9664') ?></div>\n\t\t\t\t\t\t\t\t<div class=\"action\"><?php echo __d('baser', '\u8a2d\u5b9a') ?></div>\n\t\t\t\t\t\t\t\t<div class=\"head\"><?php echo $widget['title'] ?></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"content\" style=\"text-align:right\">\n\t\t\t\t\t\t\t\t<p class=\"widget-name\"><small><?php echo $widget['title'] ?></small></p>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->create('Widget', ['url' => ['controller' => 'widget_areas', 'action' => 'update_widget', $this->BcForm->value('WidgetArea.id')], 'class' => 'form']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.id', ['type' => 'hidden', 'class' => 'id']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.type', ['type' => 'hidden', 'value' => $widget['title']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.element', ['type' => 'hidden', 'value' => $widget['name']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.plugin', ['type' => 'hidden', 'value' => $widgetInfo['plugin']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.sort', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<p><?php echo $this->BcForm->label('Widget.name', __d('baser', '\u30bf\u30a4\u30c8\u30eb')) ?>&nbsp;\n\t\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.name', ['type' => 'text', 'class' => 'bca-textbox__input name']) ?></p>\n\t\t\t\t\t\t\t\t<?php echo $widget['setting'] ?>\n\t\t\t\t\t\t\t\t<p><?php $this->BcBaser->img('admin/ajax-loader-s.gif', ['style' => 'vertical-align:middle;display:none', 'id' => 'WidgetUpdateWidgetLoader', 'class' => 'loader']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.use_title', ['type' => 'checkbox', 'label' => __d('baser', '\u30bf\u30a4\u30c8\u30eb\u3092\u8868\u793a'), 'class' => 'bca-checkbox__input use_title', 'checked' => 'checked']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.status', ['type' => 'checkbox', 'label' => __d('baser', '\u5229\u7528\u3059\u308b'), 'class' => 'bca-checkbox__input status']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->end(['label' => __d('baser', '\u4fdd\u5b58'), 'div' => false, 'id' => 'WidgetUpdateWidgetSubmit', 'class' => 'bca-btn button', 'data-bca-btn-type' => 'save']) ?></p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<?php endforeach ?>\n\t\t\t\t<?php endforeach ?>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- \u5229\u7528\u4e2d\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8 -->\n\t\t<div id=\"TargetOuter\">\n\t\t\t<div id=\"Target\">\n\n\t\t\t\t<h2><?php echo __d('baser', '\u5229\u7528\u4e2d\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8 ') ?><?php $this->BcBaser->img('admin/ajax-loader-s.gif', [\n\t\t\t\t\t\t'style' => 'vertical-align:middle;display:none',\n\t\t\t\t\t\t'id' => 'WidgetAreaUpdateSortLoader',\n\t\t\t\t\t\t'class' => 'loader']); ?></h2>\n\n\t\t\t\t<?php if ($this->BcForm->value('WidgetArea.widgets')): ?>\n\t\t\t\t\t<?php foreach ($this->BcForm->value('WidgetArea.widgets') as $widget): ?>\n\n\t\t\t\t\t\t<?php $key = key($widget) ?>\n\t\t\t\t\t\t<?php $enabled = '' ?>\n\t\t\t\t\t\t<?php if ($widget[$key]['status']): ?>\n\t\t\t\t<?php $enabled = ' enabled' ?>\n\t\t\t<?php endif ?>\n\n\t\t\t\t\t\t<div class=\"ui-widget-content sortable widget setting <?php echo $widget[$key]['element'] ?><?php echo $enabled ?>\" id=\"Setting<?php echo $widget[$key]['id'] ?>\">\n\t\t\t\t\t\t\t<div class=\"clearfix\">\n\t\t\t\t\t\t\t\t<div class=\"widget-name display-none\"><?php echo $widget[$key]['element'] ?></div>\n\t\t\t\t\t\t\t\t<div class=\"del\"><?php echo __d('baser', '\u524a\u9664') ?></div>\n\t\t\t\t\t\t\t\t<div class=\"action\"><?php echo __d('baser', '\u8a2d\u5b9a') ?></div>\n\t\t\t\t\t\t\t\t<div class=\"head\"><?php echo $widget[$key]['name'] ?></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"content\" style=\"text-align:right\">\n\t\t\t\t\t\t\t\t<p><small><?php echo $widget[$key]['type'] ?></small></p>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->create('Widget', ['url' => ['controller' => 'widget_areas', 'action' => 'update_widget', $this->BcForm->value('WidgetArea.id'), 'id' => false], 'class' => 'form', 'id' => 'WidgetUpdateWidgetForm' . $widget[$key]['id']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.id', ['type' => 'hidden', 'class' => 'id']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.type', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.element', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.plugin', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.sort', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<p><?php echo $this->BcForm->label($key . 'name', __d('baser', '\u30bf\u30a4\u30c8\u30eb')) ?>&nbsp;\n\t\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.name', ['type' => 'text', 'class' => 'name bca-textbox__input']) ?></p>\n\t\t\t\t\t\t\t\t<?php $this->BcBaser->element('widgets/' . $widget[$key]['element'], ['key' => $key, 'plugin' => $widget[$key]['plugin'], 'mode' => 'edit'], ['plugin' => $widget[$key]['plugin']]) ?>\n\t\t\t\t\t\t\t\t<p><?php $this->BcBaser->img('admin/ajax-loader-s.gif', ['style' => 'vertical-align:middle;display:none', 'id' => 'WidgetUpdateWidgetLoader' . $widget[$key]['id'], 'class' => 'loader']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.use_title', ['type' => 'checkbox', 'label' => __d('baser', '\u30bf\u30a4\u30c8\u30eb\u3092\u8868\u793a')]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.status', ['type' => 'checkbox', 'label' => __d('baser', '\u5229\u7528\u3059\u308b')]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->end(['label' => __d('baser', '\u4fdd\u5b58'), 'div' => false, 'id' => 'WidgetUpdateWidgetSubmit' . $widget[$key]['id'], 'class' => 'button bca-btn', 'data-bca-btn-type' => 'save']) ?></p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t<?php endforeach; ?>\n\t<?php endif; ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n<?php endif; ?>\n", "<?php\n/**\n * baserCMS :  Based Website Development Project <http://basercms.net>\n * Copyright (c) baserCMS Users Community <http://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttp://basercms.net baserCMS Project\n * @package\t\t\tFeed.View\n * @since\t\t\tbaserCMS v 0.1.0\n * @license\t\t\thttp://basercms.net/license/index.html\n */\n\n/**\n * [ADMIN] \u30d5\u30a3\u30fc\u30c9\u8a2d\u5b9a\u3000\u884c\n * @var \\BcAppView $this\n */\n?>\n\n\n<tr>\n\t<td class=\"row-tools\">\n\t\t<?php if ($this->BcBaser->isAdminUser()): ?>\n\t\t\t<?php echo $this->BcForm->checkbox('ListTool.batch_targets.' . $data['id'], array('type' => 'checkbox', 'class' => 'batch-targets', 'value' => $data['id'])) ?>\n\t\t<?php endif ?>\t\t\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_check.png', array('alt' => __d('baser', '\u78ba\u8a8d'), 'class' => 'btn')), $data['url'], array('title' => __d('baser', '\u78ba\u8a8d'), 'target' => '_blank')) ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_edit.png', array('alt' => __d('baser', '\u7de8\u96c6'), 'class' => 'btn')), array('controller' => 'feed_details', 'action' => 'edit', $this->BcForm->value('FeedConfig.id'), $data['id']), array('title' => __d('baser', '\u7de8\u96c6'))) ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_delete.png', array('alt' => __d('baser', '\u524a\u9664'), 'class' => 'btn')), array('controller' => 'feed_details', 'action' => 'ajax_delete', $this->BcForm->value('FeedConfig.id'), $data['id']), array('title' => __d('baser', '\u524a\u9664'), 'class' => 'btn-delete')) ?>\n\t</td>\n\t<td>\n\t\t<?php if ($data['url']): ?>\n\t\t\t<?php $this->BcBaser->link($data['name'], array('controller' => 'feed_details', 'action' => 'edit', $this->BcForm->value('FeedConfig.id'), $data['id'])) ?>\n\t\t<?php else: ?>\n\t\t\t<?php echo $data['name'] ?>\n\t\t<?php endif; ?>\n\t</td>\n\t<td><?php echo $data['category_filter'] ?></td>\n\t<td><?php echo $this->BcText->listValue('FeedDetail.cache_time', $data['cache_time']) ?></td>\n\t<?php echo $this->BcListTable->dispatchShowRow($data) ?>\n\t<td><?php echo $this->BcTime->format('Y-m-d', $data['created']) ?><br />\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['modified']) ?></td>\n</tr>", "<?php\n/**\n * baserCMS :  Based Website Development Project <http://basercms.net>\n * Copyright (c) baserCMS Users Community <http://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttp://basercms.net baserCMS Project\n * @package\t\t\tBaser.View\n * @since\t\t\tbaserCMS v 4.0.0\n * @license\t\t\thttp://basercms.net/license/index.html\n */\n\n/**\n * \u0433\u0412\u00b5\u0433\u0413\u0426\u0433\u0412\u00b5\u0433\u0412\u00a7\u0433\u0413\u0418\u0434\u0404\u0410\u0438\u00b6\u0406\u043f\u0409\u0418\u0438\u00b0\u041c\u043f\u0409\u0419\n */\n$classies = [];\nif ($data['Site']['status']) {\n\t$classies = ['publish'];\n} else {\n\t$classies = ['unpublish', 'disablerow'];\n}\n$class = ' class=\"' . implode(' ', $classies) . '\"';\n$url = $this->BcContents->getUrl('/' . $data['Site']['alias'] . '/', true, $data['Site']['use_subdomain']);\n?>\n\n\n<tr id=\"Row<?php echo $count ?>\" <?php echo $class; ?>>\n\t<td class=\"row-tools\" style=\"width:15%\">\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_unpublish.png', ['alt' => __d('baser', '\u0439\u042d\u042e\u0435\u0415\u0452\u0439\u0426\u041b'), 'class' => 'btn']), ['action' => 'ajax_unpublish', $data['Site']['id']], ['title' => __d('baser', '\u0439\u042d\u042e\u0435\u0415\u0452\u0439\u0426\u041b'), 'class' => 'btn-unpublish']) ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_publish.png', ['alt' => __d('baser', '\u0435\u0415\u0452\u0439\u0426\u041b'), 'class' => 'btn']), ['action' => 'ajax_publish', $data['Site']['id']], ['title' => __d('baser', '\u0435\u0415\u0452\u0439\u0426\u041b'), 'class' => 'btn-publish']) ?>\n<?php if ($data['Site']['status']) : ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_check.png', ['alt' => __d('baser', '\u0437\u0490\u0407\u0438\u2122\u041d'), 'class' => 'btn']), $url, ['title' => __d('baser', '\u0437\u0490\u0407\u0438\u2122\u041d'), 'target' => '_blank']) ?>\n<?php endif ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_edit.png', ['alt' => __d('baser', '\u0437\u0408\u00ae\u0439\u042b\u0416'), 'class' => 'btn']), ['action' => 'edit', $data['Site']['id']], ['title' => __d('baser', '\u0437\u0408\u00ae\u0439\u042b\u0416')]) ?>\n\t</td>\n\t<td style=\"width:5%\"><?php echo $data['Site']['id']; ?></td>\n\t<td><?php echo $data['Site']['display_name'] ?></td>\n\t<td><?php $this->BcBaser->link($data['Site']['name'], ['action' => 'edit', $data['Site']['id']]); ?><br>\n\t\t<?php echo $data['Site']['alias'] ?>\n\t</td>\n\t<td style=\"width:5%;\" class=\"align-center status\">\n\t\t<?php echo $this->BcText->booleanMark($data['Site']['status']); ?><br />\n\t</td>\n\t<td class=\"align-center\">\n\t\t<?php echo $this->BcText->arrayValue($data['Site']['device'], $devices, ''); ?><br>\n\t\t<?php echo $this->BcText->arrayValue($data['Site']['lang'], $langs, ''); ?>\n\t</td>\n\t<td><?php echo $this->BcText->arrayValue($data['Site']['main_site_id'], $mainSites, ''); ?><br>\n\t\t<?php echo $this->BcText->noValue($data['Site']['theme'], $this->BcBaser->siteConfig['theme']) ?>\n\t</td>\n\t<?php echo $this->BcListTable->dispatchShowRow($data) ?>\n\t<td style=\"width:10%;white-space: nowrap\">\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['Site']['created']) ?><br />\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['Site']['modified']) ?>\n\t</td>\n</tr>", "<?php\n/**\n * baserCMS :  Based Website Development Project <http://basercms.net>\n * Copyright (c) baserCMS Users Community <http://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttp://basercms.net baserCMS Project\n * @package\t\t\tBaser.View\n * @since\t\t\tbaserCMS v 0.1.0\n * @license\t\t\thttp://basercms.net/license/index.html\n */\n\n/**\n * [ADMIN] \u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u4e00\u89a7 \u884c\n */\n?>\n\n\n<tr>\n\t<td class=\"row-tools\">\n\t\t<?php if ($this->BcBaser->isAdminUser()): ?>\n\t\t\t<?php echo $this->BcForm->checkbox('ListTool.batch_targets.' . $data['WidgetArea']['id'], ['type' => 'checkbox', 'class' => 'batch-targets', 'value' => $data['WidgetArea']['id']]) ?>\n\t\t<?php endif ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_edit.png', ['alt' => __d('baser', '\u7de8\u96c6'), 'class' => 'btn']), ['action' => 'edit', $data['WidgetArea']['id']], ['title' => __d('baser', '\u7de8\u96c6')]) ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_delete.png', ['alt' => __d('baser', '\u524a\u9664'), 'class' => 'btn']), ['action' => 'ajax_delete', $data['WidgetArea']['id']], ['title' => __d('baser', '\u524a\u9664'), 'class' => 'btn-delete']) ?>\n\t</td>\n\t<td><?php echo $data['WidgetArea']['id']; ?></td>\n\t<td><?php $this->BcBaser->link($data['WidgetArea']['name'], ['action' => 'edit', $data['WidgetArea']['id']]); ?></td>\n\t<td><?php echo $data['WidgetArea']['count']; ?></td>\n\t<td><?php echo $this->BcTime->format('Y-m-d', $data['WidgetArea']['created']); ?><br />\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['WidgetArea']['modified']); ?></td>\n</tr>", "<?php\n/**\n * baserCMS :  Based Website Development Project <http://basercms.net>\n * Copyright (c) baserCMS Users Community <http://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttp://basercms.net baserCMS Project\n * @package\t\t\tBaser.View\n * @since\t\t\tbaserCMS v 0.1.0\n * @license\t\t\thttp://basercms.net/license/index.html\n */\n\n/**\n * [ADMIN] \u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u7de8\u96c6\n * @var BcAppView $this\n */\n$this->BcBaser->i18nScript([\n\t'alertMessage1' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'alertMessage2' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u306e\u4e26\u3073\u66ff\u3048\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'alertMessage3' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u540d\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'alertMessage4' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'confirmMessage1' => __d('baser', '\u8a2d\u5b9a\u5185\u5bb9\u3082\u524a\u9664\u3055\u308c\u307e\u3059\u304c\u3001\u672c\u5f53\u306b\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f'),\n\t'infoMessage1' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'),\n\t'infoMessage2' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u540d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002'),\n\t'infoMessage3' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002'),\n]);\n$this->BcBaser->js('admin/widget_areas/form', false, ['id' => 'AdminWidgetFormScript',\n\t'data-delWidgetUrl' => $this->BcBaser->getUrl(['controller' => 'widget_areas', 'action' => 'del_widget', $this->BcForm->value('WidgetArea.id')]),\n\t'data-currentAction' =>$this->request->action\n]);\n?>\n\n\n<?php if ($this->request->action == 'admin_add'): ?>\n\t<?php echo $this->BcForm->create('WidgetArea', ['url' => ['action' => 'add']]) ?>\n<?php elseif ($this->request->action == 'admin_edit'): ?>\n\t<?php echo $this->BcForm->create('WidgetArea', ['url' => ['action' => 'update_title', 'id' => false]]) ?>\n<?php endif ?>\n\n<?php echo $this->BcForm->hidden('WidgetArea.id') ?>\n\n<?php echo $this->BcForm->label('WidgetArea.name', __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u540d')) ?>&nbsp;\n<?php echo $this->BcForm->input('WidgetArea.name', ['type' => 'text', 'size' => 40, 'autofocus' => true]) ?>&nbsp;\n<span class=\"submit\"><?php echo $this->BcForm->end(['label' => __d('baser', '\u30a8\u30ea\u30a2\u540d\u3092\u4fdd\u5b58\u3059\u308b'), 'div' => false, 'class' => 'button btn-red', 'id' => 'WidgetAreaUpdateTitleSubmit']) ?></span>\n<?php $this->BcBaser->img('admin/ajax-loader-s.gif', ['style' => 'vertical-align:middle;display:none', 'id' => 'WidgetAreaUpdateTitleLoader']) ?>\n<?php echo $this->BcForm->error('WidgetArea.name') ?>\n\n<?php if (!empty($widgetInfos)): ?>\n\n\t<?php echo $this->BcForm->create('WidgetArea', ['url' => ['action' => 'update_sort', $this->BcForm->value('WidgetArea.id'), 'id' => false]]) ?>\n\t<?php echo $this->BcForm->input('WidgetArea.sorted_ids', ['type' => 'hidden']) ?>\n\t<?php echo $this->BcForm->end() ?>\n\n\t<div id=\"WidgetSetting\" class=\"clearfix\" >\n\n\t\t<!-- \u5229\u7528\u3067\u304d\u308b\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8 -->\n\t\t<div id=\"SourceOuter\">\n\t\t\t<div id=\"Source\">\n\n\t\t\t\t<h2><?php echo __d('baser', '\u5229\u7528\u3067\u304d\u308b\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8')?></h2>\n\t\t\t\t<?php foreach ($widgetInfos as $widgetInfo) : ?>\n\t\t\t\t\t<h3><?php echo $widgetInfo['title'] ?></h3>\n\t\t\t\t\t<?php\n\t\t\t\t\t$widgets = [];\n\t\t\t\t\tforeach ($widgetInfo['paths'] as $path) {\n\t\t\t\t\t\t$Folder = new Folder($path);\n\t\t\t\t\t\t$files = $Folder->read(true, true, true);\n\t\t\t\t\t\t$widgets = [];\n\t\t\t\t\t\tforeach ($files[1] as $file) {\n\t\t\t\t\t\t\t$widget = ['name' => '', 'title' => '', 'description' => '', 'setting' => ''];\n\t\t\t\t\t\t\tob_start();\n\t\t\t\t\t\t\t$key = 'Widget';\n\t\t\t\t\t\t\t// \u30bf\u30a4\u30c8\u30eb\u3084\u8aac\u660e\u6587\u3092\u53d6\u5f97\u3059\u308b\u70ba\u3001element\u3092\u4f7f\u308f\u305a\u3001include\u3059\u308b\u3002\n\t\t\t\t\t\t\t// \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u305f\u5834\u5408\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u5185\u3067\u30d8\u30eb\u30d1\u7b49\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\n\t\t\t\t\t\t\t// \u30a8\u30e9\u30fc\u3068\u306a\u308b\u306e\u3067\u3053\u3053\u3067\u8aad\u307f\u8fbc\u3080\n\t\t\t\t\t\t\tinclude $file;\n\t\t\t\t\t\t\t$widget['name'] = basename($file, $this->ext);\n\t\t\t\t\t\t\t$widget['title'] = $title;\n\t\t\t\t\t\t\t$widget['description'] = $description;\n\t\t\t\t\t\t\t$widget['setting'] = ob_get_contents();\n\t\t\t\t\t\t\t$widgets[] = $widget;\n\t\t\t\t\t\t\tob_end_clean();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t?>\n\t\t\t\t\t<?php foreach ($widgets as $widget): ?>\n\n\t\t\t\t\t\t<div class=\"ui-widget-content draggable widget\" id=\"Widget<?php echo Inflector::camelize($widget['name']) ?>\">\n\t\t\t\t\t\t\t<div class=\"head\"><?php echo $widget['title'] ?></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"description\"><?php echo $widget['description'] ?></div>\n\n\t\t\t\t\t\t<div class=\"ui-widget-content sortable widget template <?php echo $widget['name'] ?>\" id=\"<?php echo Inflector::camelize($widget['name']) ?>\">\n\t\t\t\t\t\t\t<div class=\"clearfix\">\n\t\t\t\t\t\t\t\t<div class=\"widget-name display-none\"><?php echo $widget['name'] ?></div>\n\t\t\t\t\t\t\t\t<div class=\"del\"><?php echo __d('baser', '\u524a\u9664')?></div>\n\t\t\t\t\t\t\t\t<div class=\"action\"><?php echo __d('baser', '\u8a2d\u5b9a')?></div>\n\t\t\t\t\t\t\t\t<div class=\"head\"><?php echo $widget['title'] ?></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"content\" style=\"text-align:right\">\n\t\t\t\t\t\t\t\t<p class=\"widget-name\"><small><?php echo $widget['title'] ?></small></p>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->create('Widget', ['url' => ['controller' => 'widget_areas', 'action' => 'update_widget', $this->BcForm->value('WidgetArea.id')], 'class' => 'form']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.id', ['type' => 'hidden', 'class' => 'id']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.type', ['type' => 'hidden', 'value' => $widget['title']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.element', ['type' => 'hidden', 'value' => $widget['name']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.plugin', ['type' => 'hidden', 'value' => $widgetInfo['plugin']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.sort', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->label('Widget.name', __d('baser', '\u30bf\u30a4\u30c8\u30eb')) ?>&nbsp;\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.name', ['type' => 'text', 'class' => 'name']) ?><br />\n\t\t\t\t\t\t\t\t<?php echo $widget['setting'] ?><br />\n\t\t\t\t\t\t\t\t<?php $this->BcBaser->img('admin/ajax-loader-s.gif', ['style' => 'vertical-align:middle;display:none', 'id' => 'WidgetUpdateWidgetLoader', 'class' => 'loader']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.use_title', ['type' => 'checkbox', 'label' => __d('baser', '\u30bf\u30a4\u30c8\u30eb\u3092\u8868\u793a'), 'class' => 'use_title', 'checked' => 'checked']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.status', ['type' => 'checkbox', 'label' => __d('baser', '\u5229\u7528\u3059\u308b'), 'class' => 'status']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->end(['label' => __d('baser', '\u4fdd\u5b58'), 'div' => false, 'id' => 'WidgetUpdateWidgetSubmit', 'class' => 'button']) ?>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<?php endforeach ?>\n\t\t\t\t<?php endforeach ?>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- \u5229\u7528\u4e2d\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8 -->\n\t\t<div id=\"TargetOuter\">\n\t\t\t<div id=\"Target\">\n\n\t\t\t\t<h2><?php echo __d('baser', '\u5229\u7528\u4e2d\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8')?> <?php $this->BcBaser->img('admin/ajax-loader-s.gif', [\n\t\t\t\t\t\t'style' => 'vertical-align:middle;display:none',\n\t\t\t\t\t\t'id' => 'WidgetAreaUpdateSortLoader',\n\t\t\t\t\t\t'class' => 'loader']); ?></h2>\n\n\t\t\t\t<?php if ($this->BcForm->value('WidgetArea.widgets')): ?>\n\t\t\t\t\t<?php foreach ($this->BcForm->value('WidgetArea.widgets') as $widget): ?>\n\n\t\t\t\t\t\t<?php $key = key($widget) ?>\n\t\t\t\t\t\t<?php $enabled = '' ?>\n\t\t\t\t\t\t<?php if ($widget[$key]['status']): ?>\n\t\t\t\t<?php $enabled = ' enabled' ?>\n\t\t\t<?php endif ?>\n\n\t\t\t\t\t\t<div class=\"ui-widget-content sortable widget setting <?php echo $widget[$key]['element'] ?><?php echo $enabled ?>\" id=\"Setting<?php echo $widget[$key]['id'] ?>\">\n\t\t\t\t\t\t\t<div class=\"clearfix\">\n\t\t\t\t\t\t\t\t<div class=\"widget-name display-none\"><?php echo $widget[$key]['element'] ?></div>\n\t\t\t\t\t\t\t\t<div class=\"del\"><?php echo __d('baser', '\u524a\u9664')?></div>\n\t\t\t\t\t\t\t\t<div class=\"action\"><?php echo __d('baser', '\u8a2d\u5b9a')?></div>\n\t\t\t\t\t\t\t\t<div class=\"head\"><?php echo $widget[$key]['name'] ?></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"content\" style=\"text-align:right\">\n\t\t\t\t\t\t\t\t<p><small><?php echo $widget[$key]['type'] ?></small></p>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->create('Widget', ['url' => ['controller' => 'widget_areas', 'action' => 'update_widget', $this->BcForm->value('WidgetArea.id'), 'id' => false], 'class' => 'form', 'id' => 'WidgetUpdateWidgetForm' . $widget[$key]['id']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.id', ['type' => 'hidden', 'class' => 'id']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.type', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.element', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.plugin', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.sort', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->label($key . 'name', __d('baser', '\u30bf\u30a4\u30c8\u30eb')) ?>&nbsp;\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.name', ['type' => 'text', 'class' => 'name']) ?><br />\n\t\t\t\t\t\t\t\t<?php $this->BcBaser->element('widgets/' . $widget[$key]['element'], ['key' => $key, 'plugin' => $widget[$key]['plugin'], 'mode' => 'edit'], ['plugin' => $widget[$key]['plugin']]) ?><br />\n\t\t\t\t\t\t\t\t<?php $this->BcBaser->img('admin/ajax-loader-s.gif', ['style' => 'vertical-align:middle;display:none', 'id' => 'WidgetUpdateWidgetLoader' . $widget[$key]['id'], 'class' => 'loader']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.use_title', ['type' => 'checkbox', 'label' => __d('baser', '\u30bf\u30a4\u30c8\u30eb\u3092\u8868\u793a'), 'class' => 'use_title']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.status', ['type' => 'checkbox', 'label' => __d('baser', '\u5229\u7528\u3059\u308b'), 'class' => 'status']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->end(['label' => __d('baser', '\u4fdd\u5b58'), 'div' => false, 'id' => 'WidgetUpdateWidgetSubmit' . $widget[$key]['id'], 'class' => 'button']) ?>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t<?php endforeach; ?>\n\t<?php endif; ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n<?php endif; ?>\n"], "fixing_code": ["<?php\n/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) baserCMS Users Community <https://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttps://basercms.net baserCMS Project\n * @package\t\t\tFeed.View\n * @since\t\t\tbaserCMS v 0.1.0\n * @license\t\t\thttps://basercms.net/license/index.html\n */\n\n/**\n * [ADMIN] \u30d5\u30a3\u30fc\u30c9\u8a2d\u5b9a\u3000\u884c\n */\n?>\n\n\n<tr>\n\t<td class=\"bca-table-listup__tbody-td\" class=\"row-tools bca-table-listup__tbody-td\">\n\t\t<?php if ($this->BcBaser->isAdminUser()): ?>\n\t\t\t<?php echo $this->BcForm->input('ListTool.batch_targets.' . $data['id'], ['type' => 'checkbox', 'label'=> '<span class=\"bca-visually-hidden\">\u30c1\u30a7\u30c3\u30af\u3059\u308b</span>', 'class' => 'batch-targets bca-checkbox__input', 'value' => $data['id']]) ?>\n\t\t<?php endif ?>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td\">\n\t\t<?php if ($data['url']): ?>\n\t\t\t<?php $this->BcBaser->link($data['name'], ['controller' => 'feed_details', 'action' => 'edit', $this->BcForm->value('FeedConfig.id'), $data['id']], ['escape' => true]) ?>\n\t\t<?php else: ?>\n\t\t\t<?php echo h($data['name']) ?>\n\t\t<?php endif; ?>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo $data['category_filter'] ?></td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo $this->BcText->listValue('FeedDetail.cache_time', $data['cache_time']) ?></td>\n\t<?php echo $this->BcListTable->dispatchShowRow($data) ?>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo $this->BcTime->format('Y-m-d', $data['created']) ?><br />\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['modified']) ?></td>\n\t<td class=\"bca-table-listup__tbody-td bca-table-listup__tbody-td--actions\">\n\t\t<?php $this->BcBaser->link('', $data['url'], ['title' => __d('baser', '\u78ba\u8a8d'), 'target' => '_blank', 'class' => 'bca-btn-icon', 'data-bca-btn-type' => 'preview','data-bca-btn-size' => 'lg']) ?>\n\t\t<?php $this->BcBaser->link('', ['controller' => 'feed_details', 'action' => 'edit', $this->BcForm->value('FeedConfig.id'), $data['id']], ['title' => __d('baser', '\u7de8\u96c6'), 'class' => 'bca-btn-icon', 'data-bca-btn-type' => 'edit','data-bca-btn-size' => 'lg']) ?>\n\t\t<?php $this->BcBaser->link('', ['controller' => 'feed_details', 'action' => 'ajax_delete', $this->BcForm->value('FeedConfig.id'), $data['id']], ['title' => __d('baser', '\u524a\u9664'), 'class' => 'btn-delete bca-btn-icon', 'data-bca-btn-type' => 'delete','data-bca-btn-size' => 'lg']) ?>\n\t</td>\n</tr>\n", "<?php\n/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) baserCMS Users Community <https://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttps://basercms.net baserCMS Project\n * @package\t\t\tBaser.View\n * @since\t\t\tbaserCMS v 4.0.0\n * @license\t\t\thttps://basercms.net/license/index.html\n */\n\n/**\n * \u30b5\u30d6\u30b5\u30a4\u30c8\u4e00\u89a7\uff08\u884c\uff09\n */\n$classies = [];\nif ($data['Site']['status']) {\n\t$classies = ['publish'];\n} else {\n\t$classies = ['unpublish', 'disablerow'];\n}\n$class = ' class=\"' . implode(' ', $classies) . '\"';\n$url = $this->BcContents->getUrl('/' . $data['Site']['alias'] . '/', true, $data['Site']['use_subdomain']);\n?>\n\n\n<tr id=\"Row<?php echo $count ?>\" <?php echo $class; ?>>\n\t<td class=\"bca-table-listup__tbody-td\" style=\"width:5%\"><?php echo $data['Site']['id']; ?></td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo h($data['Site']['display_name']) ?></td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php $this->BcBaser->link($data['Site']['name'], ['action' => 'edit', $data['Site']['id']]); ?><br>\n\t\t<?php echo $data['Site']['alias'] ?>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td\" style=\"width:5%;\" class=\"bc-align-center status\">\n\t\t<?php echo $this->BcText->booleanMark($data['Site']['status']); ?><br>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td\" class=\"bc-align-center\">\n\t\t<?php echo $this->BcText->arrayValue($data['Site']['device'], $devices, ''); ?><br>\n\t\t<?php echo $this->BcText->arrayValue($data['Site']['lang'], $langs, ''); ?>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo $this->BcText->arrayValue($data['Site']['main_site_id'], $mainSites, ''); ?><br>\n\t\t<?php echo $this->BcText->noValue($data['Site']['theme'], $this->BcBaser->siteConfig['theme']) ?>\n\t</td>\n\t<?php echo $this->BcListTable->dispatchShowRow($data) ?>\n\t<td class=\"bca-table-listup__tbody-td\" style=\"width:10%;white-space: nowrap\">\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['Site']['created']) ?><br>\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['Site']['modified']) ?>\n\t</td>\n\t<td class=\"row-tools bca-table-listup__tbody-td bca-table-listup__tbody-td--actions\" style=\"width:15%\">\n\t\t<?php $this->BcBaser->link('', ['action' => 'ajax_unpublish', $data['Site']['id']], ['title' => __d('baser', '\u975e\u516c\u958b'), 'class' => 'btn-unpublish bca-btn-icon', 'data-bca-btn-type' => 'unpublish','data-bca-btn-size' => 'lg']) ?>\n\t\t<?php $this->BcBaser->link('', ['action' => 'ajax_publish', $data['Site']['id']], ['title' => __d('baser', '\u516c\u958b'), 'class' => 'btn-publish bca-btn-icon', 'data-bca-btn-type' => 'publish','data-bca-btn-size' => 'lg']) ?>\n<?php if ($data['Site']['status']) : ?>\n\t\t<?php $this->BcBaser->link('', $url, ['title' => __d('baser', '\u78ba\u8a8d'), 'target' => '_blank', 'class' => 'bca-btn-icon', 'data-bca-btn-type' => 'preview','data-bca-btn-size' => 'lg']) ?>\n<?php endif ?>\n\t\t<?php $this->BcBaser->link('', ['action' => 'edit', $data['Site']['id']], ['title' => __d('baser', '\u7de8\u96c6'), 'class' => ' bca-btn-icon', 'data-bca-btn-type' => 'edit','data-bca-btn-size' => 'lg']) ?>\n\t</td>\n</tr>\n", "<?php\n/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) baserCMS Users Community <https://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttps://basercms.net baserCMS Project\n * @package\t\t\tUploader.View\n * @since\t\t\tbaserCMS v 3.0.10\n * @license\t\t\thttps://basercms.net/license/index.html\n */\n?>\n\n\n<tr>\n\t<td class=\"row-tools bca-table-listup__tbody-td\">\n<?php if($this->BcBaser->isAdminUser()): ?>\n\t\t<?php echo $this->BcForm->input('ListTool.batch_targets.'.$data['UploaderCategory']['id'], ['type' => 'checkbox', 'label'=> '<span class=\"bca-visually-hidden\">\u30c1\u30a7\u30c3\u30af\u3059\u308b</span>', 'class' => 'batch-targets bca-checkbox__input', 'value' => $data['UploaderCategory']['id']]) ?>\n<?php endif ?>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo $data['UploaderCategory']['id'] ?></td>\n\t<td class=\"bca-table-listup__tbody-td\"><?php echo h($data['UploaderCategory']['name']) ?></td>\n\t<?php echo $this->BcListTable->dispatchShowRow($data) ?>\n\t<td class=\"bca-table-listup__tbody-td\">\n\t\t<?php echo $data['UploaderCategory']['created'] ?><br />\n\t\t<?php echo $data['UploaderCategory']['modified'] ?>\n\t</td>\n\t<td class=\"bca-table-listup__tbody-td bca-table-listup__tbody-td--actions\">\n\t\t<?php $this->BcBaser->link('', ['action' => 'edit', $data['UploaderCategory']['id']], ['title' => __d('baser', '\u7de8\u96c6'), 'class' => 'bca-btn-icon', 'data-bca-btn-type' => 'edit','data-bca-btn-size' => 'lg']) ?>\n\t\t<?php $this->BcBaser->link('', ['action' => 'ajax_copy', $data['UploaderCategory']['id']], ['title' => __d('baser', '\u30b3\u30d4\u30fc'), 'class' => 'btn-copy bca-btn-icon', 'data-bca-btn-type' => 'copy','data-bca-btn-size' => 'lg']) ?>\n\t\t<?php $this->BcBaser->link('', ['action' => 'ajax_delete', $data['UploaderCategory']['id']], ['title' => __d('baser', '\u524a\u9664'), 'class' => 'btn-delete bca-btn-icon', 'data-bca-btn-type' => 'delete','data-bca-btn-size' => 'lg']) ?>\n\t</td>\n</tr>\n", "<?php\n/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) baserCMS Users Community <https://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttps://basercms.net baserCMS Project\n * @package\t\t\tBaser.View\n * @since\t\t\tbaserCMS v 0.1.0\n * @license\t\t\thttps://basercms.net/license/index.html\n */\n\n/**\n * [ADMIN] \u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u7de8\u96c6\n */\n$this->BcBaser->i18nScript([\n\t'alertMessage1' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'alertMessage2' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u306e\u4e26\u3073\u66ff\u3048\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'alertMessage3' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u540d\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'alertMessage4' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'confirmMessage1' => __d('baser', '\u8a2d\u5b9a\u5185\u5bb9\u3082\u524a\u9664\u3055\u308c\u307e\u3059\u304c\u3001\u672c\u5f53\u306b\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f'),\n\t'infoMessage1' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'),\n\t'infoMessage2' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u540d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002'),\n\t'infoMessage3' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002'),\n]);\n$this->BcBaser->js('admin/widget_areas/form', false, ['id' => 'AdminWidgetFormScript',\n\t'data-delWidgetUrl' => $this->BcBaser->getUrl(['controller' => 'widget_areas', 'action' => 'del_widget', $this->BcForm->value('WidgetArea.id')]),\n\t'data-currentAction' =>$this->request->action\n]);\n?>\n\n\n<?php if ($this->request->action == 'admin_add'): ?>\n\t<?php echo $this->BcForm->create('WidgetArea', ['url' => ['action' => 'add']]) ?>\n<?php elseif ($this->request->action == 'admin_edit'): ?>\n\t<?php echo $this->BcForm->create('WidgetArea', ['url' => ['action' => 'update_title', 'id' => false]]) ?>\n<?php endif ?>\n\n<?php echo $this->BcForm->hidden('WidgetArea.id') ?>\n\n<?php echo $this->BcForm->label('WidgetArea.name', __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u540d')) ?>&nbsp;\n<?php echo $this->BcForm->input('WidgetArea.name', ['type' => 'text', 'size' => 40, 'autofocus' => true]) ?>&nbsp;\n<span class=\"submit\"><?php echo $this->BcForm->end(['label' => __d('baser', '\u30a8\u30ea\u30a2\u540d\u3092\u4fdd\u5b58\u3059\u308b'), 'div' => false, 'class' => 'button btn-red bca-btn', 'id' => 'WidgetAreaUpdateTitleSubmit', 'data-bca-btn-type' => 'save']) ?></span>\n<?php $this->BcBaser->img('admin/ajax-loader-s.gif', ['style' => 'vertical-align:middle;display:none', 'id' => 'WidgetAreaUpdateTitleLoader']) ?>\n<?php echo $this->BcForm->error('WidgetArea.name') ?>\n\n<?php if (!empty($widgetInfos)): ?>\n\n\t<?php echo $this->BcForm->create('WidgetArea', ['url' => ['action' => 'update_sort', $this->BcForm->value('WidgetArea.id'), 'id' => false]]) ?>\n\t<?php echo $this->BcForm->input('WidgetArea.sorted_ids', ['type' => 'hidden']) ?>\n\t<?php echo $this->BcForm->end() ?>\n\n\t<div id=\"WidgetSetting\" class=\"clearfix\" >\n\n\t\t<!-- \u5229\u7528\u3067\u304d\u308b\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8 -->\n\t\t<div id=\"SourceOuter\">\n\t\t\t<div id=\"Source\">\n\n\t\t\t\t<h2><?php echo __d('baser', '\u5229\u7528\u3067\u304d\u308b\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8') ?></h2>\n\t\t\t\t<?php foreach ($widgetInfos as $widgetInfo) : ?>\n\t\t\t\t\t<h3><?php echo h($widgetInfo['title']) ?></h3>\n\t\t\t\t\t<?php\n\t\t\t\t\t$widgets = [];\n\t\t\t\t\tforeach ($widgetInfo['paths'] as $path) {\n\t\t\t\t\t\t$Folder = new Folder($path);\n\t\t\t\t\t\t$files = $Folder->read(true, true, true);\n\t\t\t\t\t\t$widgets = [];\n\t\t\t\t\t\tforeach ($files[1] as $file) {\n\t\t\t\t\t\t\t$widget = ['name' => '', 'title' => '', 'description' => '', 'setting' => ''];\n\t\t\t\t\t\t\tob_start();\n\t\t\t\t\t\t\t$key = 'Widget';\n\t\t\t\t\t\t\t// \u30bf\u30a4\u30c8\u30eb\u3084\u8aac\u660e\u6587\u3092\u53d6\u5f97\u3059\u308b\u70ba\u3001element\u3092\u4f7f\u308f\u305a\u3001include\u3059\u308b\u3002\n\t\t\t\t\t\t\t// \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u305f\u5834\u5408\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u5185\u3067\u30d8\u30eb\u30d1\u7b49\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\n\t\t\t\t\t\t\t// \u30a8\u30e9\u30fc\u3068\u306a\u308b\u306e\u3067\u3053\u3053\u3067\u8aad\u307f\u8fbc\u3080\n\t\t\t\t\t\t\tinclude $file;\n\t\t\t\t\t\t\t$widget['name'] = basename($file, $this->ext);\n\t\t\t\t\t\t\t$widget['title'] = $title;\n\t\t\t\t\t\t\t$widget['description'] = $description;\n\t\t\t\t\t\t\t$widget['setting'] = ob_get_contents();\n\t\t\t\t\t\t\t$widgets[] = $widget;\n\t\t\t\t\t\t\tob_end_clean();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t?>\n\t\t\t\t\t<?php foreach ($widgets as $widget): ?>\n\n\t\t\t\t\t\t<div class=\"ui-widget-content draggable widget\" id=\"Widget<?php echo Inflector::camelize($widget['name']) ?>\">\n\t\t\t\t\t\t\t<div class=\"head\"><?php echo h($widget['title']) ?></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"description\"><?php echo h($widget['description']) ?></div>\n\n\t\t\t\t\t\t<div class=\"ui-widget-content sortable widget template <?php echo h($widget['name']) ?>\" id=\"<?php echo Inflector::camelize($widget['name']) ?>\">\n\t\t\t\t\t\t\t<div class=\"clearfix\">\n\t\t\t\t\t\t\t\t<div class=\"widget-name display-none\"><?php echo h($widget['name']) ?></div>\n\t\t\t\t\t\t\t\t<div class=\"del\"><?php echo __d('baser', '\u524a\u9664') ?></div>\n\t\t\t\t\t\t\t\t<div class=\"action\"><?php echo __d('baser', '\u8a2d\u5b9a') ?></div>\n\t\t\t\t\t\t\t\t<div class=\"head\"><?php echo h($widget['title']) ?></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"content\" style=\"text-align:right\">\n\t\t\t\t\t\t\t\t<p class=\"widget-name\"><small><?php echo h($widget['title']) ?></small></p>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->create('Widget', ['url' => ['controller' => 'widget_areas', 'action' => 'update_widget', $this->BcForm->value('WidgetArea.id')], 'class' => 'form']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.id', ['type' => 'hidden', 'class' => 'id']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.type', ['type' => 'hidden', 'value' => $widget['title']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.element', ['type' => 'hidden', 'value' => $widget['name']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.plugin', ['type' => 'hidden', 'value' => $widgetInfo['plugin']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.sort', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<p><?php echo $this->BcForm->label('Widget.name', __d('baser', '\u30bf\u30a4\u30c8\u30eb')) ?>&nbsp;\n\t\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.name', ['type' => 'text', 'class' => 'bca-textbox__input name']) ?></p>\n\t\t\t\t\t\t\t\t<?php echo $widget['setting'] ?>\n\t\t\t\t\t\t\t\t<p><?php $this->BcBaser->img('admin/ajax-loader-s.gif', ['style' => 'vertical-align:middle;display:none', 'id' => 'WidgetUpdateWidgetLoader', 'class' => 'loader']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.use_title', ['type' => 'checkbox', 'label' => __d('baser', '\u30bf\u30a4\u30c8\u30eb\u3092\u8868\u793a'), 'class' => 'bca-checkbox__input use_title', 'checked' => 'checked']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.status', ['type' => 'checkbox', 'label' => __d('baser', '\u5229\u7528\u3059\u308b'), 'class' => 'bca-checkbox__input status']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->end(['label' => __d('baser', '\u4fdd\u5b58'), 'div' => false, 'id' => 'WidgetUpdateWidgetSubmit', 'class' => 'bca-btn button', 'data-bca-btn-type' => 'save']) ?></p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<?php endforeach ?>\n\t\t\t\t<?php endforeach ?>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- \u5229\u7528\u4e2d\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8 -->\n\t\t<div id=\"TargetOuter\">\n\t\t\t<div id=\"Target\">\n\n\t\t\t\t<h2><?php echo __d('baser', '\u5229\u7528\u4e2d\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8 ') ?><?php $this->BcBaser->img('admin/ajax-loader-s.gif', [\n\t\t\t\t\t\t'style' => 'vertical-align:middle;display:none',\n\t\t\t\t\t\t'id' => 'WidgetAreaUpdateSortLoader',\n\t\t\t\t\t\t'class' => 'loader']); ?></h2>\n\n\t\t\t\t<?php if ($this->BcForm->value('WidgetArea.widgets')): ?>\n\t\t\t\t\t<?php foreach ($this->BcForm->value('WidgetArea.widgets') as $widget): ?>\n\n\t\t\t\t\t\t<?php $key = key($widget) ?>\n\t\t\t\t\t\t<?php $enabled = '' ?>\n\t\t\t\t\t\t<?php if ($widget[$key]['status']): ?>\n\t\t\t\t\t\t\t<?php $enabled = ' enabled' ?>\n\t\t\t\t\t\t<?php endif ?>\n\n\t\t\t\t\t\t<div class=\"ui-widget-content sortable widget setting <?php echo h($widget[$key]['element']) ?><?php echo $enabled ?>\" id=\"Setting<?php echo $widget[$key]['id'] ?>\">\n\t\t\t\t\t\t\t<div class=\"clearfix\">\n\t\t\t\t\t\t\t\t<div class=\"widget-name display-none\"><?php echo h($widget[$key]['element']) ?></div>\n\t\t\t\t\t\t\t\t<div class=\"del\"><?php echo __d('baser', '\u524a\u9664') ?></div>\n\t\t\t\t\t\t\t\t<div class=\"action\"><?php echo __d('baser', '\u8a2d\u5b9a') ?></div>\n\t\t\t\t\t\t\t\t<div class=\"head\"><?php echo h($widget[$key]['name']) ?></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"content\" style=\"text-align:right\">\n\t\t\t\t\t\t\t\t<p><small><?php echo $widget[$key]['type'] ?></small></p>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->create('Widget', ['url' => ['controller' => 'widget_areas', 'action' => 'update_widget', $this->BcForm->value('WidgetArea.id'), 'id' => false], 'class' => 'form', 'id' => 'WidgetUpdateWidgetForm' . $widget[$key]['id']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.id', ['type' => 'hidden', 'class' => 'id']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.type', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.element', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.plugin', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.sort', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<p><?php echo $this->BcForm->label($key . 'name', __d('baser', '\u30bf\u30a4\u30c8\u30eb')) ?>&nbsp;\n\t\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.name', ['type' => 'text', 'class' => 'name bca-textbox__input']) ?></p>\n\t\t\t\t\t\t\t\t<?php $this->BcBaser->element('widgets/' . $widget[$key]['element'], ['key' => $key, 'plugin' => $widget[$key]['plugin'], 'mode' => 'edit'], ['plugin' => $widget[$key]['plugin']]) ?>\n\t\t\t\t\t\t\t\t<p><?php $this->BcBaser->img('admin/ajax-loader-s.gif', ['style' => 'vertical-align:middle;display:none', 'id' => 'WidgetUpdateWidgetLoader' . $widget[$key]['id'], 'class' => 'loader']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.use_title', ['type' => 'checkbox', 'label' => __d('baser', '\u30bf\u30a4\u30c8\u30eb\u3092\u8868\u793a')]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.status', ['type' => 'checkbox', 'label' => __d('baser', '\u5229\u7528\u3059\u308b')]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->end(['label' => __d('baser', '\u4fdd\u5b58'), 'div' => false, 'id' => 'WidgetUpdateWidgetSubmit' . $widget[$key]['id'], 'class' => 'button bca-btn', 'data-bca-btn-type' => 'save']) ?></p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t<?php endif; ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n<?php endif; ?>\n", "<?php\n/**\n * baserCMS :  Based Website Development Project <http://basercms.net>\n * Copyright (c) baserCMS Users Community <http://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttp://basercms.net baserCMS Project\n * @package\t\t\tFeed.View\n * @since\t\t\tbaserCMS v 0.1.0\n * @license\t\t\thttp://basercms.net/license/index.html\n */\n\n/**\n * [ADMIN] \u30d5\u30a3\u30fc\u30c9\u8a2d\u5b9a\u3000\u884c\n * @var \\BcAppView $this\n */\n?>\n\n\n<tr>\n\t<td class=\"row-tools\">\n\t\t<?php if ($this->BcBaser->isAdminUser()): ?>\n\t\t\t<?php echo $this->BcForm->checkbox('ListTool.batch_targets.' . $data['id'], array('type' => 'checkbox', 'class' => 'batch-targets', 'value' => $data['id'])) ?>\n\t\t<?php endif ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_check.png', array('alt' => __d('baser', '\u78ba\u8a8d'), 'class' => 'btn')), $data['url'], array('title' => __d('baser', '\u78ba\u8a8d'), 'target' => '_blank')) ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_edit.png', array('alt' => __d('baser', '\u7de8\u96c6'), 'class' => 'btn')), array('controller' => 'feed_details', 'action' => 'edit', $this->BcForm->value('FeedConfig.id'), $data['id']), array('title' => __d('baser', '\u7de8\u96c6'))) ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_delete.png', array('alt' => __d('baser', '\u524a\u9664'), 'class' => 'btn')), array('controller' => 'feed_details', 'action' => 'ajax_delete', $this->BcForm->value('FeedConfig.id'), $data['id']), array('title' => __d('baser', '\u524a\u9664'), 'class' => 'btn-delete')) ?>\n\t</td>\n\t<td>\n\t\t<?php if ($data['url']): ?>\n\t\t\t<?php $this->BcBaser->link($data['name'], array('controller' => 'feed_details', 'action' => 'edit', $this->BcForm->value('FeedConfig.id'), $data['id']), ['escape' => true]) ?>\n\t\t<?php else: ?>\n\t\t\t<?php echo h($data['name']) ?>\n\t\t<?php endif; ?>\n\t</td>\n\t<td><?php echo $data['category_filter'] ?></td>\n\t<td><?php echo $this->BcText->listValue('FeedDetail.cache_time', $data['cache_time']) ?></td>\n\t<?php echo $this->BcListTable->dispatchShowRow($data) ?>\n\t<td><?php echo $this->BcTime->format('Y-m-d', $data['created']) ?><br />\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['modified']) ?></td>\n</tr>\n", "<?php\n/**\n * baserCMS :  Based Website Development Project <http://basercms.net>\n * Copyright (c) baserCMS Users Community <http://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttp://basercms.net baserCMS Project\n * @package\t\t\tBaser.View\n * @since\t\t\tbaserCMS v 4.0.0\n * @license\t\t\thttp://basercms.net/license/index.html\n */\n\n/**\n * \u30b5\u30d6\u30b5\u30a4\u30c8\u4e00\u89a7\uff08\u884c\uff09\n */\n$classies = [];\nif ($data['Site']['status']) {\n\t$classies = ['publish'];\n} else {\n\t$classies = ['unpublish', 'disablerow'];\n}\n$class = ' class=\"' . implode(' ', $classies) . '\"';\n$url = $this->BcContents->getUrl('/' . $data['Site']['alias'] . '/', true, $data['Site']['use_subdomain']);\n?>\n\n\n<tr id=\"Row<?php echo $count ?>\" <?php echo $class; ?>>\n\t<td class=\"row-tools\" style=\"width:15%\">\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_unpublish.png', ['alt' => __d('baser', '\u975e\u516c\u958b'), 'class' => 'btn']), ['action' => 'ajax_unpublish', $data['Site']['id']], ['title' => __d('baser', '\u975e\u516c\u958b'), 'class' => 'btn-unpublish']) ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_publish.png', ['alt' => __d('baser', '\u516c\u958b'), 'class' => 'btn']), ['action' => 'ajax_publish', $data['Site']['id']], ['title' => __d('baser', '\u516c\u958b'), 'class' => 'btn-publish']) ?>\n<?php if ($data['Site']['status']) : ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_check.png', ['alt' => __d('baser', '\u78ba\u8a8d'), 'class' => 'btn']), $url, ['title' => __d('baser', '\u78ba\u8a8d'), 'target' => '_blank']) ?>\n<?php endif ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_edit.png', ['alt' => __d('baser', '\u7de8\u96c6'), 'class' => 'btn']), ['action' => 'edit', $data['Site']['id']], ['title' => __d('baser', '\u7de8\u96c6')]) ?>\n\t</td>\n\t<td style=\"width:5%\"><?php echo $data['Site']['id']; ?></td>\n\t<td><?php echo h($data['Site']['display_name']) ?></td>\n\t<td><?php $this->BcBaser->link($data['Site']['name'], ['action' => 'edit', $data['Site']['id']], ['escape' => true]); ?><br>\n\t\t<?php echo h($data['Site']['alias']) ?>\n\t</td>\n\t<td style=\"width:5%;\" class=\"align-center status\">\n\t\t<?php echo $this->BcText->booleanMark($data['Site']['status']); ?><br />\n\t</td>\n\t<td class=\"align-center\">\n\t\t<?php echo $this->BcText->arrayValue($data['Site']['device'], $devices, ''); ?><br>\n\t\t<?php echo $this->BcText->arrayValue($data['Site']['lang'], $langs, ''); ?>\n\t</td>\n\t<td><?php echo $this->BcText->arrayValue($data['Site']['main_site_id'], $mainSites, ''); ?><br>\n\t\t<?php echo $this->BcText->noValue($data['Site']['theme'], $this->BcBaser->siteConfig['theme']) ?>\n\t</td>\n\t<?php echo $this->BcListTable->dispatchShowRow($data) ?>\n\t<td style=\"width:10%;white-space: nowrap\">\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['Site']['created']) ?><br />\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['Site']['modified']) ?>\n\t</td>\n</tr>\n", "<?php\n/**\n * baserCMS :  Based Website Development Project <http://basercms.net>\n * Copyright (c) baserCMS Users Community <http://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttp://basercms.net baserCMS Project\n * @package\t\t\tBaser.View\n * @since\t\t\tbaserCMS v 0.1.0\n * @license\t\t\thttp://basercms.net/license/index.html\n */\n\n/**\n * [ADMIN] \u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u4e00\u89a7 \u884c\n */\n?>\n\n\n<tr>\n\t<td class=\"row-tools\">\n\t\t<?php if ($this->BcBaser->isAdminUser()): ?>\n\t\t\t<?php echo $this->BcForm->checkbox('ListTool.batch_targets.' . $data['WidgetArea']['id'], ['type' => 'checkbox', 'class' => 'batch-targets', 'value' => $data['WidgetArea']['id']]) ?>\n\t\t<?php endif ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_edit.png', ['alt' => __d('baser', '\u7de8\u96c6'), 'class' => 'btn']), ['action' => 'edit', $data['WidgetArea']['id']], ['title' => __d('baser', '\u7de8\u96c6')]) ?>\n\t\t<?php $this->BcBaser->link($this->BcBaser->getImg('admin/icn_tool_delete.png', ['alt' => __d('baser', '\u524a\u9664'), 'class' => 'btn']), ['action' => 'ajax_delete', $data['WidgetArea']['id']], ['title' => __d('baser', '\u524a\u9664'), 'class' => 'btn-delete']) ?>\n\t</td>\n\t<td><?php echo $data['WidgetArea']['id']; ?></td>\n\t<td><?php $this->BcBaser->link($data['WidgetArea']['name'], ['action' => 'edit', $data['WidgetArea']['id']], ['escape' => true]); ?></td>\n\t<td><?php echo $data['WidgetArea']['count']; ?></td>\n\t<td><?php echo $this->BcTime->format('Y-m-d', $data['WidgetArea']['created']); ?><br />\n\t\t<?php echo $this->BcTime->format('Y-m-d', $data['WidgetArea']['modified']); ?></td>\n</tr>\n", "<?php\n/**\n * baserCMS :  Based Website Development Project <http://basercms.net>\n * Copyright (c) baserCMS Users Community <http://basercms.net/community/>\n *\n * @copyright\t\tCopyright (c) baserCMS Users Community\n * @link\t\t\thttp://basercms.net baserCMS Project\n * @package\t\t\tBaser.View\n * @since\t\t\tbaserCMS v 0.1.0\n * @license\t\t\thttp://basercms.net/license/index.html\n */\n\n/**\n * [ADMIN] \u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u7de8\u96c6\n * @var BcAppView $this\n */\n$this->BcBaser->i18nScript([\n\t'alertMessage1' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'alertMessage2' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u306e\u4e26\u3073\u66ff\u3048\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'alertMessage3' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u540d\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'alertMessage4' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002'),\n\t'confirmMessage1' => __d('baser', '\u8a2d\u5b9a\u5185\u5bb9\u3082\u524a\u9664\u3055\u308c\u307e\u3059\u304c\u3001\u672c\u5f53\u306b\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f'),\n\t'infoMessage1' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'),\n\t'infoMessage2' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u540d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002'),\n\t'infoMessage3' => __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002'),\n]);\n$this->BcBaser->js('admin/widget_areas/form', false, ['id' => 'AdminWidgetFormScript',\n\t'data-delWidgetUrl' => $this->BcBaser->getUrl(['controller' => 'widget_areas', 'action' => 'del_widget', $this->BcForm->value('WidgetArea.id')]),\n\t'data-currentAction' =>$this->request->action\n]);\n?>\n\n\n<?php if ($this->request->action == 'admin_add'): ?>\n\t<?php echo $this->BcForm->create('WidgetArea', ['url' => ['action' => 'add']]) ?>\n<?php elseif ($this->request->action == 'admin_edit'): ?>\n\t<?php echo $this->BcForm->create('WidgetArea', ['url' => ['action' => 'update_title', 'id' => false]]) ?>\n<?php endif ?>\n\n<?php echo $this->BcForm->hidden('WidgetArea.id') ?>\n\n<?php echo $this->BcForm->label('WidgetArea.name', __d('baser', '\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u30a8\u30ea\u30a2\u540d')) ?>&nbsp;\n<?php echo $this->BcForm->input('WidgetArea.name', ['type' => 'text', 'size' => 40, 'autofocus' => true]) ?>&nbsp;\n<span class=\"submit\"><?php echo $this->BcForm->end(['label' => __d('baser', '\u30a8\u30ea\u30a2\u540d\u3092\u4fdd\u5b58\u3059\u308b'), 'div' => false, 'class' => 'button btn-red', 'id' => 'WidgetAreaUpdateTitleSubmit']) ?></span>\n<?php $this->BcBaser->img('admin/ajax-loader-s.gif', ['style' => 'vertical-align:middle;display:none', 'id' => 'WidgetAreaUpdateTitleLoader']) ?>\n<?php echo $this->BcForm->error('WidgetArea.name') ?>\n\n<?php if (!empty($widgetInfos)): ?>\n\n\t<?php echo $this->BcForm->create('WidgetArea', ['url' => ['action' => 'update_sort', $this->BcForm->value('WidgetArea.id'), 'id' => false]]) ?>\n\t<?php echo $this->BcForm->input('WidgetArea.sorted_ids', ['type' => 'hidden']) ?>\n\t<?php echo $this->BcForm->end() ?>\n\n\t<div id=\"WidgetSetting\" class=\"clearfix\" >\n\n\t\t<!-- \u5229\u7528\u3067\u304d\u308b\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8 -->\n\t\t<div id=\"SourceOuter\">\n\t\t\t<div id=\"Source\">\n\n\t\t\t\t<h2><?php echo __d('baser', '\u5229\u7528\u3067\u304d\u308b\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8')?></h2>\n\t\t\t\t<?php foreach ($widgetInfos as $widgetInfo) : ?>\n\t\t\t\t\t<h3><?php echo h($widgetInfo['title']) ?></h3>\n\t\t\t\t\t<?php\n\t\t\t\t\t$widgets = [];\n\t\t\t\t\tforeach ($widgetInfo['paths'] as $path) {\n\t\t\t\t\t\t$Folder = new Folder($path);\n\t\t\t\t\t\t$files = $Folder->read(true, true, true);\n\t\t\t\t\t\t$widgets = [];\n\t\t\t\t\t\tforeach ($files[1] as $file) {\n\t\t\t\t\t\t\t$widget = ['name' => '', 'title' => '', 'description' => '', 'setting' => ''];\n\t\t\t\t\t\t\tob_start();\n\t\t\t\t\t\t\t$key = 'Widget';\n\t\t\t\t\t\t\t// \u30bf\u30a4\u30c8\u30eb\u3084\u8aac\u660e\u6587\u3092\u53d6\u5f97\u3059\u308b\u70ba\u3001element\u3092\u4f7f\u308f\u305a\u3001include\u3059\u308b\u3002\n\t\t\t\t\t\t\t// \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u305f\u5834\u5408\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u5185\u3067\u30d8\u30eb\u30d1\u7b49\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u306a\u3044\u306e\u304c\u539f\u56e0\u3067\n\t\t\t\t\t\t\t// \u30a8\u30e9\u30fc\u3068\u306a\u308b\u306e\u3067\u3053\u3053\u3067\u8aad\u307f\u8fbc\u3080\n\t\t\t\t\t\t\tinclude $file;\n\t\t\t\t\t\t\t$widget['name'] = basename($file, $this->ext);\n\t\t\t\t\t\t\t$widget['title'] = $title;\n\t\t\t\t\t\t\t$widget['description'] = $description;\n\t\t\t\t\t\t\t$widget['setting'] = ob_get_contents();\n\t\t\t\t\t\t\t$widgets[] = $widget;\n\t\t\t\t\t\t\tob_end_clean();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t?>\n\t\t\t\t\t<?php foreach ($widgets as $widget): ?>\n\n\t\t\t\t\t\t<div class=\"ui-widget-content draggable widget\" id=\"Widget<?php echo Inflector::camelize($widget['name']) ?>\">\n\t\t\t\t\t\t\t<div class=\"head\"><?php echo h($widget['title']) ?></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"description\"><?php echo h($widget['description']) ?></div>\n\n\t\t\t\t\t\t<div class=\"ui-widget-content sortable widget template <?php echo h($widget['name']) ?>\" id=\"<?php echo Inflector::camelize($widget['name']) ?>\">\n\t\t\t\t\t\t\t<div class=\"clearfix\">\n\t\t\t\t\t\t\t\t<div class=\"widget-name display-none\"><?php echo h($widget['name']) ?></div>\n\t\t\t\t\t\t\t\t<div class=\"del\"><?php echo __d('baser', '\u524a\u9664')?></div>\n\t\t\t\t\t\t\t\t<div class=\"action\"><?php echo __d('baser', '\u8a2d\u5b9a')?></div>\n\t\t\t\t\t\t\t\t<div class=\"head\"><?php echo $widget['title'] ?></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"content\" style=\"text-align:right\">\n\t\t\t\t\t\t\t\t<p class=\"widget-name\"><small><?php echo h($widget['title']) ?></small></p>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->create('Widget', ['url' => ['controller' => 'widget_areas', 'action' => 'update_widget', $this->BcForm->value('WidgetArea.id')], 'class' => 'form']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.id', ['type' => 'hidden', 'class' => 'id']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.type', ['type' => 'hidden', 'value' => $widget['title']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.element', ['type' => 'hidden', 'value' => $widget['name']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.plugin', ['type' => 'hidden', 'value' => $widgetInfo['plugin']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.sort', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->label('Widget.name', __d('baser', '\u30bf\u30a4\u30c8\u30eb')) ?>&nbsp;\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.name', ['type' => 'text', 'class' => 'name']) ?><br />\n\t\t\t\t\t\t\t\t<?php echo $widget['setting'] ?><br />\n\t\t\t\t\t\t\t\t<?php $this->BcBaser->img('admin/ajax-loader-s.gif', ['style' => 'vertical-align:middle;display:none', 'id' => 'WidgetUpdateWidgetLoader', 'class' => 'loader']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.use_title', ['type' => 'checkbox', 'label' => __d('baser', '\u30bf\u30a4\u30c8\u30eb\u3092\u8868\u793a'), 'class' => 'use_title', 'checked' => 'checked']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input('Widget.status', ['type' => 'checkbox', 'label' => __d('baser', '\u5229\u7528\u3059\u308b'), 'class' => 'status']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->end(['label' => __d('baser', '\u4fdd\u5b58'), 'div' => false, 'id' => 'WidgetUpdateWidgetSubmit', 'class' => 'button']) ?>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<?php endforeach ?>\n\t\t\t\t<?php endforeach ?>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- \u5229\u7528\u4e2d\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8 -->\n\t\t<div id=\"TargetOuter\">\n\t\t\t<div id=\"Target\">\n\n\t\t\t\t<h2><?php echo __d('baser', '\u5229\u7528\u4e2d\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8')?> <?php $this->BcBaser->img('admin/ajax-loader-s.gif', [\n\t\t\t\t\t\t'style' => 'vertical-align:middle;display:none',\n\t\t\t\t\t\t'id' => 'WidgetAreaUpdateSortLoader',\n\t\t\t\t\t\t'class' => 'loader']); ?></h2>\n\n\t\t\t\t<?php if ($this->BcForm->value('WidgetArea.widgets')): ?>\n\t\t\t\t\t<?php foreach ($this->BcForm->value('WidgetArea.widgets') as $widget): ?>\n\n\t\t\t\t\t\t<?php $key = key($widget) ?>\n\t\t\t\t\t\t<?php $enabled = '' ?>\n\t\t\t\t\t\t<?php if ($widget[$key]['status']): ?>\n\t\t\t\t<?php $enabled = ' enabled' ?>\n\t\t\t<?php endif ?>\n\n\t\t\t\t\t\t<div class=\"ui-widget-content sortable widget setting <?php echo h($widget[$key]['element']) ?><?php echo $enabled ?>\" id=\"Setting<?php echo $widget[$key]['id'] ?>\">\n\t\t\t\t\t\t\t<div class=\"clearfix\">\n\t\t\t\t\t\t\t\t<div class=\"widget-name display-none\"><?php echo h($widget[$key]['element']) ?></div>\n\t\t\t\t\t\t\t\t<div class=\"del\"><?php echo __d('baser', '\u524a\u9664')?></div>\n\t\t\t\t\t\t\t\t<div class=\"action\"><?php echo __d('baser', '\u8a2d\u5b9a')?></div>\n\t\t\t\t\t\t\t\t<div class=\"head\"><?php echo h($widget[$key]['name']) ?></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"content\" style=\"text-align:right\">\n\t\t\t\t\t\t\t\t<p><small><?php echo $widget[$key]['type'] ?></small></p>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->create('Widget', ['url' => ['controller' => 'widget_areas', 'action' => 'update_widget', $this->BcForm->value('WidgetArea.id'), 'id' => false], 'class' => 'form', 'id' => 'WidgetUpdateWidgetForm' . $widget[$key]['id']]) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.id', ['type' => 'hidden', 'class' => 'id']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.type', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.element', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.plugin', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.sort', ['type' => 'hidden']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->label($key . 'name', __d('baser', '\u30bf\u30a4\u30c8\u30eb')) ?>&nbsp;\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.name', ['type' => 'text', 'class' => 'name']) ?><br />\n\t\t\t\t\t\t\t\t<?php $this->BcBaser->element('widgets/' . $widget[$key]['element'], ['key' => $key, 'plugin' => $widget[$key]['plugin'], 'mode' => 'edit'], ['plugin' => $widget[$key]['plugin']]) ?><br />\n\t\t\t\t\t\t\t\t<?php $this->BcBaser->img('admin/ajax-loader-s.gif', ['style' => 'vertical-align:middle;display:none', 'id' => 'WidgetUpdateWidgetLoader' . $widget[$key]['id'], 'class' => 'loader']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.use_title', ['type' => 'checkbox', 'label' => __d('baser', '\u30bf\u30a4\u30c8\u30eb\u3092\u8868\u793a'), 'class' => 'use_title']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->input($key . '.status', ['type' => 'checkbox', 'label' => __d('baser', '\u5229\u7528\u3059\u308b'), 'class' => 'status']) ?>\n\t\t\t\t\t\t\t\t<?php echo $this->BcForm->end(['label' => __d('baser', '\u4fdd\u5b58'), 'div' => false, 'id' => 'WidgetUpdateWidgetSubmit' . $widget[$key]['id'], 'class' => 'button']) ?>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t<?php endforeach; ?>\n\t<?php endif; ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n<?php endif; ?>\n"], "filenames": ["app/webroot/theme/admin-third/Elements/admin/feed_details/index_row.php", "app/webroot/theme/admin-third/Elements/admin/sites/index_row.php", "app/webroot/theme/admin-third/Elements/admin/uploader_categories/index_row.php", "app/webroot/theme/admin-third/WidgetAreas/admin/form.php", "lib/Baser/Plugin/Feed/View/Elements/admin/feed_details/index_row.php", "lib/Baser/View/Elements/admin/sites/index_row.php", "lib/Baser/View/Elements/admin/widget_areas/index_row.php", "lib/Baser/View/WidgetAreas/admin/form.php"], "buggy_code_start_loc": [23, 29, 22, 61, 24, 14, 28, 62], "buggy_code_end_loc": [43, 57, 23, 166, 42, 57, 33, 147], "fixing_code_start_loc": [23, 29, 22, 61, 24, 14, 28, 62], "fixing_code_end_loc": [43, 57, 23, 166, 42, 57, 33, 147], "type": "CWE-434", "message": "baserCMS before version 4.4.1 is affected by Remote Code Execution (RCE). Code may be executed by logging in as a system administrator and uploading an executable script file such as a PHP file. The Edit template component is vulnerable. The issue is fixed in version 4.4.1.", "other": {"cve": {"id": "CVE-2020-15277", "sourceIdentifier": "security-advisories@github.com", "published": "2020-10-30T18:15:12.357", "lastModified": "2020-11-03T17:06:59.520", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "baserCMS before version 4.4.1 is affected by Remote Code Execution (RCE). Code may be executed by logging in as a system administrator and uploading an executable script file such as a PHP file. The Edit template component is vulnerable. The issue is fixed in version 4.4.1."}, {"lang": "es", "value": "baserCMS anterior a la versi\u00f3n 4.4.1 est\u00e1 afectado por una Ejecuci\u00f3n de C\u00f3digo Remota (RCE).&#xa0;El c\u00f3digo puede ser ejecutado iniciando sesi\u00f3n como un administrador del sistema y cargando un archivo de script ejecutable, como un archivo PHP.&#xa0;El componente Edit template es vulnerable.&#xa0;El problema se corrigi\u00f3 en la versi\u00f3n 4.4.1"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "HIGH", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "HIGH", "baseScore": 7.2, "baseSeverity": "HIGH"}, "exploitabilityScore": 1.2, "impactScore": 5.9}, {"source": "security-advisories@github.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "HIGH", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "HIGH", "baseScore": 7.2, "baseSeverity": "HIGH"}, "exploitabilityScore": 1.2, "impactScore": 5.9}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:S/C:P/I:P/A:P", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "SINGLE", "confidentialityImpact": "PARTIAL", "integrityImpact": "PARTIAL", "availabilityImpact": "PARTIAL", "baseScore": 6.5}, "baseSeverity": "MEDIUM", "exploitabilityScore": 8.0, "impactScore": 6.4, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-434"}]}, {"source": "security-advisories@github.com", "type": "Secondary", "description": [{"lang": "en", "value": "CWE-434"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:basercms:basercms:*:*:*:*:*:*:*:*", "versionStartIncluding": "4.0.0", "versionEndExcluding": "4.4.1", "matchCriteriaId": "BAB5F8EC-8396-41C0-8D37-10F8489CA598"}]}]}], "references": [{"url": "https://basercms.net/security/20201029", "source": "security-advisories@github.com", "tags": ["Vendor Advisory"]}, {"url": "https://github.com/baserproject/basercms/commit/bb027c3967b0430adcff2d2fedbc23d39077563b", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/baserproject/basercms/security/advisories/GHSA-6fmv-q269-55cw", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}]}, "github_commit_url": "https://github.com/baserproject/basercms/commit/bb027c3967b0430adcff2d2fedbc23d39077563b"}}