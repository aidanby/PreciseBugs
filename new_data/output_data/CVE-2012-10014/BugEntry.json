{"buggy_code": ["<?php\r\n/*\r\nPlugin Name: Backend Localization\r\nPlugin URI: http://kau-boys.com/230/wordpress/kau-boys-backend-localization-plugin\r\nDescription: This plugin enables you to run your blog in a different language than the backend of your blog. So you can serve your blog using e.g. German as the default language for the users, but keep English as the language for the administration.\r\nVersion: 2.0\r\nRequires at least: 3.2\r\nAuthor: Bernhard Kau\r\nAuthor URI: http://kau-boys.com\r\n*/\r\n\r\ndefine( 'BACKEND_LOCALIZATION_URL', WP_PLUGIN_URL . '/' . str_replace( basename(  __FILE__ ), \"\", plugin_basename( __FILE__ ) ) );\r\n\r\n$wp_locale_all = array();\r\n\r\nfunction init_backend_localization(){\r\n\tglobal $wp_locale_all;\r\n\t\r\n\tload_plugin_textdomain( 'backend-localization', false, dirname( plugin_basename( __FILE__ ) ) );\r\n\t\r\n\t$wp_locale_all = array(\r\n\t\t'af' => __( 'Afrikaans', 'backend-localization' ),\r\n\t\t'an' => __( 'Aragonese', 'backend-localization' ),\r\n\t\t'ar' => __( 'Arabic', 'backend-localization' ),\r\n\t\t'az' => __( 'Azerbaijani', 'backend-localization' ),\r\n\t\t'az_TR' => __( 'Azerbaijani (Turkey)', 'backend-localization' ),\r\n\t\t'bg_BG' => __( 'Bulgarian', 'backend-localization' ),\r\n\t\t'bn_BD' => __( 'Bengali', 'backend-localization' ),\r\n\t\t'bs_BA' => __( 'Bosnian', 'backend-localization' ),\r\n\t\t'ca' => __( 'Catalan', 'backend-localization' ),\r\n\t\t'ckb' => __( 'Kurdish', 'backend-localization' ),\r\n\t\t'co' => __( 'Corsican', 'backend-localization' ),\r\n\t\t'cpp' => __( 'Cape Verdean Creole', 'backend-localization' ),\r\n\t\t'cs_CZ' => __( 'Czech', 'backend-localization' ),\r\n\t\t'cy' => __( 'Cymraeg (Welsh)', 'backend-localization' ),\r\n\t\t'da_DK' => __( 'Danish', 'backend-localization' ),\r\n\t\t'de_DE' => __( 'German', 'backend-localization' ),\r\n\t\t'dv' => __( 'Divehi/Maldivian', 'backend-localization' ),\r\n\t\t'el' => __( 'Greek', 'backend-localization' ),\r\n\t\t'en_US' => __( 'English', 'backend-localization' ),\r\n\t\t'en_CA' => __( 'English (Canada)', 'backend-localization' ),\r\n\t\t'en_GB' => __( 'English (United Kingdom)', 'backend-localization' ),\r\n\t\t'eo' => __( 'Esperanto', 'backend-localization' ),\r\n\t\t'es_CL' => __( 'Spanish (Chile)', 'backend-localization' ),\r\n\t\t'es_ES' => __( 'Spanish', 'backend-localization' ),\r\n\t\t'es_PE' => __( 'Spanish (Peru)', 'backend-localization' ),\r\n\t\t'es_VE' => __( 'Spanish (Venezuela)', 'backend-localization' ),\r\n\t\t'et' => __( 'Estonian', 'backend-localization' ),\r\n\t\t'eu' => __( 'Basque', 'backend-localization' ),\r\n\t\t'fa_AF' => __( 'Persian (Afghanistan)', 'backend-localization' ),\r\n\t\t'fa_IR' => __( 'Persian', 'backend-localization' ),\r\n\t\t'fi' => __( 'Finnish', 'backend-localization' ),\r\n\t\t'fo' => __( 'Faroese', 'backend-localization' ),\r\n\t\t'fr_BE' => __( 'French (Belgium)', 'backend-localization' ),\r\n\t\t'fr_FR' => __( 'French', 'backend-localization' ),\r\n\t\t'fy' => __( 'Western Frisian', 'backend-localization' ),\r\n\t\t'ga' => __( 'Gaeilge/Irish', 'backend-localization' ),\r\n\t\t'gd' => __( 'Scottish Gaelic', 'backend-localization' ),\r\n\t\t'gl_ES' => __( 'Galician', 'backend-localization' ),\r\n\t\t'gu' => __( 'Gujarati', 'backend-localization' ),\r\n\t\t'haw_US' => __( 'Hawaiian', 'backend-localization' ),\r\n\t\t'he_IL' => __( 'Hebrew', 'backend-localization' ),\r\n\t\t'hi_IN' => __( 'Hindi', 'backend-localization' ),\r\n\t\t'hr' => __( 'Croatian', 'backend-localization' ),\r\n\t\t'hu_HU' => __( 'Hungarian', 'backend-localization' ),\r\n\t\t'hy' => __( 'Armenian', 'backend-localization' ),\r\n\t\t'id_ID' => __( 'Indonesian', 'backend-localization' ),\r\n\t\t'is_IS' => __( 'Icelandic', 'backend-localization' ),\r\n\t\t'it_IT' => __( 'Italian', 'backend-localization' ),\r\n\t\t'ja' => __( 'Japanese', 'backend-localization' ),\r\n\t\t'jv_ID' => __( 'Javanese', 'backend-localization' ),\r\n\t\t'ka_GE' => __( 'Georgian', 'backend-localization' ),\r\n\t\t'kea' => __( 'Kabuverdianu', 'backend-localization' ),\r\n\t\t'kk' => __( 'Kazakh', 'backend-localization' ),\r\n\t\t'kn' => __( 'Kannada', 'backend-localization' ),\r\n\t\t'ko_KR' => __( 'Korean', 'backend-localization' ),\r\n\t\t'ku' => __( 'Kurdish', 'backend-localization' ),\r\n\t\t'ky_KY' => __( 'Kyrgyz', 'backend-localization' ),\r\n\t\t'li' => __( 'Limburgish', 'backend-localization' ),\r\n\t\t'lo' => __( 'Lao', 'backend-localization' ),\r\n\t\t'lv' => __( 'Latvian', 'backend-localization' ),\r\n\t\t// 'me_ME' => __( '', 'backend-localization' ),\r\n\t\t'mg_MG' => __( 'Malagasy', 'backend-localization' ),\r\n\t\t'mk_MK' => __( 'Macedonian', 'backend-localization' ),\r\n\t\t'ml_IN' => __( 'Malayalam', 'backend-localization' ),\r\n\t\t'mn' => __( 'Mongolian', 'backend-localization' ),\r\n\t\t'ms_MY' => __( 'Malay', 'backend-localization' ),\r\n\t\t'my_MM' => __( 'Burmese (Myanmar)', 'backend-localization' ),\r\n\t\t'nb_NO' => __( 'Norwegian (Bokm&aring;l)', 'backend-localization' ),\r\n\t\t'ne_NP' => __( 'Nepali', 'backend-localization' ),\r\n\t\t'nl' => __( 'Dutch', 'backend-localization' ),\r\n\t\t'nl_BE' => __( 'Dutch (Belgium)', 'backend-localization' ),\r\n\t\t'nl_NL' => __( 'Dutch (Netherlands)', 'backend-localization' ),\r\n\t\t'nn_NO' => __( 'Norwegian (Nynorsk)', 'backend-localization' ),\r\n\t\t'os' => __( 'Ossetic/Ossetian', 'backend-localization' ),\r\n\t\t'pa_IN' => __( 'Punjabi', 'backend-localization' ),\r\n\t\t'pl_PL' => __( 'Polish', 'backend-localization' ),\r\n\t\t'pt_BR' => __( 'Portuguese (Brazil)', 'backend-localization' ),\r\n\t\t'pt_PT' => __( 'Portuguese', 'backend-localization' ),\r\n\t\t'ro_RO' => __( 'Romanian', 'backend-localization' ),\r\n\t\t'ru_RU' => __( 'Russian', 'backend-localization' ),\r\n\t\t'ru_UA' => __( 'Russian (Ukraine)', 'backend-localization' ),\r\n\t\t'sa_IN' => __( 'Sanskrit', 'backend-localization' ),\r\n\t\t'sd_PK' => __( 'Sindhi', 'backend-localization' ),\r\n\t\t'si_LK' => __( 'Sinhalese', 'backend-localization' ),\r\n\t\t'sk_SK' => __( 'Slovak', 'backend-localization' ),\r\n\t\t'sl_SI' => __( 'Slovenian', 'backend-localization' ),\r\n\t\t'so_SO' => __( 'Somali', 'backend-localization' ),\r\n\t\t'sq' => __( 'Albanian', 'backend-localization' ),\r\n\t\t'sr_RS' => __( 'Serbian', 'backend-localization' ),\r\n\t\t'srd' => __( 'Sardinian', 'backend-localization' ),\r\n\t\t'su_ID' => __( 'Sundanese', 'backend-localization' ),\r\n\t\t'sv_SE' => __( 'Swedish', 'backend-localization' ),\r\n\t\t'sw' => __( 'Swahili', 'backend-localization' ),\r\n\t\t'ta_IN' => __( 'Tamil', 'backend-localization' ),\r\n\t\t'ta_LK' => __( 'Tamil (Sri Lanka)', 'backend-localization' ),\r\n\t\t'te' => __( 'Telugu', 'backend-localization' ),\r\n\t\t'th' => __( 'Thai', 'backend-localization' ),\r\n\t\t'tr_TR' => __( 'Turkish', 'backend-localization' ),\r\n\t\t'ug_CN' => __( 'Uighur', 'backend-localization' ),\r\n\t\t'uk' => __( 'Ukrainian', 'backend-localization' ),\r\n\t\t'ur' => __( 'Urdu', 'backend-localization' ),\r\n\t\t'uz_UZ' => __( 'Uzbek', 'backend-localization' ),\r\n\t\t'vi' => __( 'Vietnamese', 'backend-localization' ),\r\n\t\t'zh_CN' => __( 'Chinese', 'backend-localization' ),\r\n\t\t'zh_HK' => __( 'Chinese (Hong Kong)', 'backend-localization' ),\r\n\t\t'zh_TW' => __( 'Chinese (Taiwan)', 'backend-localization' )\r\n\t);\r\n}\r\n\r\nfunction backend_localization_admin_menu(){\r\n\tglobal $wp_locale_all;\r\n\t\r\n\tadd_options_page( \"Kau-Boy's Backend Localization settings\", __( 'Backend Language', 'backend-localization' ), 'manage_options', 'backend_localization', 'backend_localization_admin_settings' );\r\n\t\t\r\n\t$backend_locale_array = backend_localization_get_languages();\r\n\t$backend_locale = backend_localization_get_locale();\r\n\r\n\tforeach( $backend_locale_array as $locale_value ){\r\n\t\t$link = add_query_arg('kau-boys_backend_localization_language', $locale_value);\r\n\t\t$link = ( strpos( $link, \"wp-admin/\" ) === false ) ? preg_replace( '#[^?&]*/#i', '', $link ) : preg_replace( '#[^?&]*wp-admin/#i', '', $link );\r\n\t\tif( strpos($link, \"?\" ) === 0|| strpos( $link, \"index.php?\" ) ===0 ){\r\n\t\t\tif( current_user_can( 'manage_options' ) ){\r\n\t\t\t\t$link = 'options-general.php?page=backend_localization&godashboard=1&kau-boys_backend_localization_language=' . $locale_value; \r\n\t\t\t} else {\r\n\t\t\t\t$link = 'edit.php?lang='.$language;\r\n\t\t\t}\r\n\t\t}\r\n\t\tadd_menu_page( __( $wp_locale_all[$locale_value], 'qtranslate' ), $wp_locale_all[$locale_value], 'read', $link, NULL, BACKEND_LOCALIZATION_URL . 'flag_icons/' . strtolower( substr( $locale_value, ( strpos($locale_value, '_' ) * -1 ) ) ) . '.png' );\r\n\t\t/*\r\n\t\t$link = admin_url( add_query_arg( 'kau-boys_backend_localization_language', $locale_value, $link ) );\r\n\t\tadd_menu_page( $wp_locale_all[$locale_value], $wp_locale_all[$locale_value], 'read', $link, NULL, BACKEND_LOCALIZATION_URL . 'flag_icons/' . strtolower( substr( $locale_value, ( strpos($locale_value, '_' ) * -1 ) ) ) . '.png' );\r\n\t\t*/\r\n\t}\r\n}\r\n\r\nfunction backend_localization_filter_plugin_actions( $links, $file ){\r\n\tstatic $this_plugin;\r\n\tif ( !$this_plugin ) $this_plugin = plugin_basename( __FILE__ );\r\n\t\r\n\tif ( $file == $this_plugin ){\r\n\t\t$settings_link = '<a href=\"options-general.php?page=backend_localization\">' . __( 'Settings' ) . '</a>';\r\n\t\tarray_unshift( $links, $settings_link );\r\n\t}\r\n\treturn $links;\r\n}\r\n\r\nfunction backend_localization_admin_settings(){\r\n\tglobal $wp_locale_all, $wp_version;\r\n\t\r\n\tif( isset($_POST['save'] ) ) {\r\n\t\tupdate_option( 'kau-boys_backend_localization_loginselect', $_POST['kau-boys_backend_localization_loginselect'] );\r\n\t}\r\n\t$loginselect = get_option( 'kau-boys_backend_localization_loginselect' );\r\n\t\r\n\t$backend_locale = backend_localization_get_locale();\r\n\t\r\n\t// do redirection for dashboard from the qTranslate Plugin (www.qianqin.de/qtranslate)\r\n\tif(isset($_GET['godashboard'])) {\r\n\t\techo '<h2>' . __( 'Switching Language', 'backend-localization' ) . '</h2>'\r\n\t\t\t. sprintf( __( 'Switching language to %1$s... If the Dashboard isn\\'t loading, use this <a href=\"%2$s\" title=\"Dashboard\">link</a>.', 'backend-localization' ), $wp_locale_all[$locale_value], admin_url() )\r\n\t\t\t. '<script type=\"text/javascript\">document.location=\"' . admin_url() . '\";</script>';\r\n\t\texit();\r\n\t}\r\n\t\r\n\t// set default if values haven't been recieved from the database\r\n\tif( empty( $backend_locale ) ) $backend_locale = 'en_US';\r\n?>\r\n\r\n<div class=\"wrap\">\r\n\t<?php screen_icon(); ?>\r\n\t<h2>Kau-Boy's Backend Localization</h2>\r\n\t<?php if( $settings_saved ) : ?>\r\n\t<div id=\"message\" class=\"updated fade\"><p><strong><?php _e( 'Options saved.' ) ?></strong></p></div>\r\n\t<?php endif ?>\r\n\t<p>\r\n\t\t<?php _e( 'Here you can customize the plugin for your needs.', 'backend-localization' ) ?>\r\n\t</p>\r\n\t<form method=\"post\" action=\"\">\r\n\t\t<p>\r\n\t\t\t<input type=\"checkbox\" name=\"kau-boys_backend_localization_loginselect\" id=\"kau-boys_backend_localization_loginselect\"<?php echo ( $loginselect == 'on' )? ' checked=\"checked\"' : '' ?>/>\r\n\t\t\t<label for=\"kau-boys_backend_localization_loginselect\"><?php _e( 'Hide language selection on login form', 'backend-localization' ) ?></label>\r\n\t\t</p>\r\n\t\t<p>\r\n\t\t\t<h2><?php _e('Available languages', 'backend-localization') ?></h2>\r\n\t\t\t<?php $backend_locale_array = backend_localization_get_languages() ?>\r\n\t\t\t<?php foreach($backend_locale_array as $locale_value) : ?>\r\n\t\t\t<input type=\"radio\" value=\"<?php echo $locale_value ?>\" id=\"kau-boys_backend_localization_language_<?php echo $locale_value ?>\" name=\"kau-boys_backend_localization_language\"<?php echo ( $backend_locale == $locale_value )? ' checked=\"checked\"' : '' ?> />\r\n\t\t\t<label for=\"kau-boys_backend_localization_language_<?php echo $locale_value ?>\" style=\"width: 200px; display: inline-block;\">\r\n\t\t\t\t<img src=\"<?php echo BACKEND_LOCALIZATION_URL . 'flag_icons/' . strtolower( substr( $locale_value, ( strpos( $locale_value, '_' ) * -1 ) ) ) . '.png' ?>\" alt=\"<?php echo $locale_value ?>\" />\r\n\t\t\t\t<?php echo $wp_locale_all[$locale_value] . ' (' . $locale_value . ')' ?>\r\n\t\t\t</label>\r\n\t\t\t<br />\r\n\t\t\t<?php endforeach ?>\r\n\t\t\t<div class=\"description\">\r\n\t\t\t\t<?php echo sprintf( __( 'If your language isn\\'t listed, you have to download the right version from the WordPress repository: <a href=\"http://svn.automattic.com/wordpress-i18n\">http://svn.automattic.com/wordpress-i18n</a>. Browser to the language folder of your choice and get the <b>all</b> .mo files for your WordPress Version from <i><b>tags/%1s/messages/</b></i> or from the <i><b>trunk/messages/</b></i> folder. Upload them to the langauge folder <i>%2s</i>. You should than be able to choose the new language (or after a refresh of this page).', 'backend-localization' ), $wp_version, WP_LANG_DIR ) ?>\r\n\t\t\t</div>\r\n\t\t</p>\r\n\t\t<p class=\"submit\">\r\n\t\t\t<input class=\"button-primary\" name=\"save\" type=\"submit\" value=\"<?php _e( 'Save Changes' ) ?>\" />\r\n\t\t</p>\r\n\t</form>\r\n</div>\r\n\r\n<?php\r\n}\r\n\r\nfunction backend_localization_get_languages(){\r\n\t$backend_locale_array = array();\r\n\t\r\n\tif( is_dir( WP_LANG_DIR ) ){\r\n\t\t/* php 4 fix */\r\n\t\t$dir = WP_LANG_DIR;\r\n\t\t$dh = opendir( $dir );\r\n\t\twhile ( false !== ( $filename = readdir( $dh ) ) ){\r\n\t\t\t$files[] = $filename;\r\n\t\t}\r\n\t\t/* read the array */\r\n\t\tforeach( $files as $file ){\r\n\t\t\t$fileParts = pathinfo( $file );\r\n\t\t\tif($fileParts['extension'] == 'mo' && ( strlen($fileParts['filename'] ) <= 5 ) ){\r\n\t\t\t\t$fileParts['filename'] = substr( $fileParts['basename'], 0, strpos($fileParts['basename'], '.') );\r\n\t\t\t\t$backend_locale_array[] = $fileParts['filename'];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif( !in_array( 'en_US', $backend_locale_array ) ){\r\n\t\t$backend_locale_array[] = 'en_US';\r\n\t}\r\n\tsort($backend_locale_array);\r\n\t\r\n\treturn $backend_locale_array;\r\n}\r\n\r\nfunction backend_localization_save_setting(){\r\n\tif( isset( $_REQUEST['kau-boys_backend_localization_language'] ) ){\r\n\t\tsetcookie( 'kau-boys_backend_localization_language', backend_localization_filter_var( $_REQUEST['kau-boys_backend_localization_language'] ), time()+60*60*24*30, '/' );\r\n\t}\r\n\t\r\n\treturn true;\r\n}\r\n\r\nfunction backend_localization_login_form(){\r\n\tglobal $wp_locale_all;\r\n\t\r\n\t// return if language selection on login screen should be hidden\r\n\tif( get_option( 'kau-boys_backend_localization_loginselect' ) ) return;\r\n\t\r\n\t$backend_locale_array = backend_localization_get_languages();\r\n\t$backend_locale = backend_localization_get_locale();\r\n?>\r\n<p>\r\n\t<label>\r\n\t\t<?php _e( 'Language', 'backend-localization' ) ?><br />\r\n\t\t<select name=\"kau-boys_backend_localization_language\" id=\"user_email\" class=\"input\" style=\"width: 100%; color: #555;\">\r\n\t\t<?php foreach( $backend_locale_array as $locale_value ) : ?>\r\n\t\t\t<option value=\"<?php echo $locale_value ?>\"<?php echo ($backend_locale == $locale_value )? ' selected=\"selected\"' : '' ?>>\r\n\t\t\t\t<?php echo $wp_locale_all[$locale_value] . ' (' . $locale_value . ')' ?>\r\n\t\t\t</option>\r\n\t\t<?php endforeach ?>\r\n\t\t</select>\r\n\t</label>\r\n</p>\r\n<?php\r\n}\r\n\r\nfunction backend_localization_get_locale(){\r\n\treturn \tisset( $_REQUEST['kau-boys_backend_localization_language'] )\r\n\t\t\t? backend_localization_filter_var( $_REQUEST['kau-boys_backend_localization_language'] )\r\n\t\t\t: (\tisset( $_COOKIE['kau-boys_backend_localization_language'] )\r\n\t\t\t\t? $_COOKIE['kau-boys_backend_localization_language']\r\n\t\t\t\t: get_option( 'kau-boys_backend_localization_language' ) );\r\n}\r\n\r\nfunction localize_backend($locale){\r\n\t// set langauge if user is in admin area\r\n\tif( defined( 'WP_ADMIN' ) || ( isset( $_REQUEST['pwd'] ) && isset( $_REQUEST['kau-boys_backend_localization_language'] ) ) ){\r\n\t\t$locale = backend_localization_get_locale();\r\n\t}\r\n\treturn $locale;\r\n}\r\n\r\nfunction backend_localization_set_login_language(){\r\n\tsetcookie( 'kau-boys_backend_localization_language', \"\", time() - 3600, '/' );\r\n\tsetcookie( 'kau-boys_backend_localization_language', backend_localization_filter_var( $_REQUEST['kau-boys_backend_localization_language'] ), time()+60*60*24*30, '/' );\r\n}\r\n\r\nfunction backend_localization_filter_var($lang){\r\n\treturn preg_replace('/\\W/', '', $lang);\r\n}\r\n\r\nadd_action( 'init', 'init_backend_localization' );\r\nadd_action( 'admin_menu', 'backend_localization_admin_menu' );\r\nadd_action( 'admin_menu', 'backend_localization_save_setting' );\r\nadd_action( 'wp_login', 'backend_localization_set_login_language' );\r\nadd_action( 'login_form_locale', 'localize_backend' );\r\nadd_action( 'login_head', 'localize_backend' );\r\nadd_action( 'login_form', 'backend_localization_login_form' );\r\nadd_filter( 'plugin_action_links', 'backend_localization_filter_plugin_actions', 10, 2 );\r\nadd_filter( 'locale', 'localize_backend' );\r\n\r\n?>", "=== Backend Localization ===\r\nContributors: Kau-Boy\r\nDonate link: https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=7914504\r\nTags: admin, backend, localization, english, l10n, i18n, translations, translation\r\nRequires at least: 3.2\r\nStable tag: 2.0\r\n\r\nThis plugin enables you to run your blog in a different language than the backend of your blog. So you can serve your blog using e.g. German as the default language for the users, but keep English as the language for the administration. \r\n\r\n== Description ==\r\n\r\nThis plugin enables you to run your blog in a different language than the backend of your blog. So you can serve your blog using e.g. German as the default language for the users, but keep English as the language for the administration.\r\nYou can choose the language you want to use from all installed language files or you can install additional languages.\r\n\r\nA list of all of my plugins can be found on the [WordPress Plugin page](http://kau-boys.com/wordpress-plugins \"WordPress Plugins\") on my blog [kau-boys.com](http://kau-boys.com). \r\n\r\n== Screenshots ==\r\n\r\n1. Screenshot of the settings page\r\n2. Screenshot of language switcher in admin menu (similar to qTranslate switcher)\r\n3. Screenshot of language selection on login form\r\n\r\n== Installation ==\r\n\r\n= Installation through WordPress admin pages: = \r\n\r\n1. Go to the admin page `Plugins -> Add New`\r\n2. Search for `kau-boy` and choose the plugin\r\n3. Choose the action `install`\r\n4. Click on `Install now`\r\n5. Activate the plugin after install has finished (with the link or trough the plugin page)\r\n6. You might have to edit the settings, especially the language you want to use\r\n\r\n= Installation using WordPress admin pages: =\r\n\r\n1. Download the plugin zip file\r\n2. Go to the admin page `Plugins -> Add New`\r\n3. Choose the `Upload` link under the `Install Plugins` headline\r\n4. Browse for the zip file and click `Install Now`\r\n5. Activate the plugin after install has finished (with the link or trough the plugin page)\r\n6. You might have to edit the settings, especially the language you want to use\r\n\r\n= Installation using ftp: =\r\n\r\n1. Unzip und upload the files to your `/wp-content/plugins/` directory\r\n2. Activate the plugin through the `Plugins` menu in WordPress\r\n3. You might have to edit the settings, especially the language you want to use\r\n\r\n\r\n\r\n== Frequently Asked Questions ==\r\n\r\n= Will my language be available for this plugin? =\r\n\r\nEvery language that is supported by WordPress can be chosen. You just need a copy of the translation files in your WordPress' language folder.\r\n\r\n= Do I need this plugin if I use qTranslate? = \r\n\r\nNo you don't have to. I love qTranslate and use it for my own blog. qTranslate also offers the ability to switch the backend language. But if you don't want to publish the content of your blog in more than one language, you shouldn't use qTranslate. For I created this plugin for users who only wan't to switch the backend language without the overhead of any multilingual plugin. \r\n\r\n   \r\n== Change Log ==\r\n\r\n* **2.0** Adding some new languages. Fixing link to switch languages in backend. Thanks to Justin! Fixing XSS vulnerabilities. Many Thanks to Matt Fuller from MOZILLA!\r\n* **1.6.1** Fixing typo in language names \r\n* **1.6** Add WP3 CSS class for the language select on the login form\r\n* **1.5** Fixing the plugin for WordPress 3.0 MULTISITE feature\r\n* **1.4** Fixing the plugin for WordPress MU and fixing the login form selection\r\n* **1.3** Make the plugin working with PHP4. Thanks to David for the fix: www.est322.com/?p=520\r\n* **1.2.1** Replace do_action() with add_action() for admin_menu to avoid issues with other plugins\r\n* **1.2** Adding support for new languages \r\n* **1.1** Removing \"short open tags\" which causes error on blog that don't have \"short_open_tag\" set to \"On\"\r\n* **1.0** Adding language switcher to admin menu and option to hide language selection on login form \r\n* **0.6** Saving language setting in cookie to enable different languages for multiple users\r\n* **0.5** Adding language selection to login screen\r\n* **0.4** Display all languages that are installed in the WordPress language folder \r\n* **0.3** Activate new language after saving settings (no more need to refresh)\r\n* **0.2** Adding German translation for settings page\r\n* **0.1** First stable release"], "fixing_code": ["<?php\r\n/*\r\nPlugin Name: Backend Localization\r\nPlugin URI: http://kau-boys.com/230/wordpress/kau-boys-backend-localization-plugin\r\nDescription: This plugin enables you to run your blog in a different language than the backend of your blog. So you can serve your blog using e.g. German as the default language for the users, but keep English as the language for the administration.\r\nVersion: 2.1\r\nRequires at least: 3.2\r\nAuthor: Bernhard Kau\r\nAuthor URI: http://kau-boys.com\r\n*/\r\n\r\ndefine( 'BACKEND_LOCALIZATION_URL', WP_PLUGIN_URL . '/' . str_replace( basename(  __FILE__ ), \"\", plugin_basename( __FILE__ ) ) );\r\n\r\n$wp_locale_all = array();\r\n\r\nfunction init_backend_localization(){\r\n\tglobal $wp_locale_all;\r\n\t\r\n\tload_plugin_textdomain( 'backend-localization', false, dirname( plugin_basename( __FILE__ ) ) );\r\n\t\r\n\t$wp_locale_all = array(\r\n\t\t'af' => __( 'Afrikaans', 'backend-localization' ),\r\n\t\t'an' => __( 'Aragonese', 'backend-localization' ),\r\n\t\t'ar' => __( 'Arabic', 'backend-localization' ),\r\n\t\t'az' => __( 'Azerbaijani', 'backend-localization' ),\r\n\t\t'az_TR' => __( 'Azerbaijani (Turkey)', 'backend-localization' ),\r\n\t\t'bg_BG' => __( 'Bulgarian', 'backend-localization' ),\r\n\t\t'bn_BD' => __( 'Bengali', 'backend-localization' ),\r\n\t\t'bs_BA' => __( 'Bosnian', 'backend-localization' ),\r\n\t\t'ca' => __( 'Catalan', 'backend-localization' ),\r\n\t\t'ckb' => __( 'Kurdish', 'backend-localization' ),\r\n\t\t'co' => __( 'Corsican', 'backend-localization' ),\r\n\t\t'cpp' => __( 'Cape Verdean Creole', 'backend-localization' ),\r\n\t\t'cs_CZ' => __( 'Czech', 'backend-localization' ),\r\n\t\t'cy' => __( 'Cymraeg (Welsh)', 'backend-localization' ),\r\n\t\t'da_DK' => __( 'Danish', 'backend-localization' ),\r\n\t\t'de_DE' => __( 'German', 'backend-localization' ),\r\n\t\t'dv' => __( 'Divehi/Maldivian', 'backend-localization' ),\r\n\t\t'el' => __( 'Greek', 'backend-localization' ),\r\n\t\t'en_US' => __( 'English', 'backend-localization' ),\r\n\t\t'en_CA' => __( 'English (Canada)', 'backend-localization' ),\r\n\t\t'en_GB' => __( 'English (United Kingdom)', 'backend-localization' ),\r\n\t\t'eo' => __( 'Esperanto', 'backend-localization' ),\r\n\t\t'es_CL' => __( 'Spanish (Chile)', 'backend-localization' ),\r\n\t\t'es_ES' => __( 'Spanish', 'backend-localization' ),\r\n\t\t'es_PE' => __( 'Spanish (Peru)', 'backend-localization' ),\r\n\t\t'es_VE' => __( 'Spanish (Venezuela)', 'backend-localization' ),\r\n\t\t'et' => __( 'Estonian', 'backend-localization' ),\r\n\t\t'eu' => __( 'Basque', 'backend-localization' ),\r\n\t\t'fa_AF' => __( 'Persian (Afghanistan)', 'backend-localization' ),\r\n\t\t'fa_IR' => __( 'Persian', 'backend-localization' ),\r\n\t\t'fi' => __( 'Finnish', 'backend-localization' ),\r\n\t\t'fo' => __( 'Faroese', 'backend-localization' ),\r\n\t\t'fr_BE' => __( 'French (Belgium)', 'backend-localization' ),\r\n\t\t'fr_FR' => __( 'French', 'backend-localization' ),\r\n\t\t'fy' => __( 'Western Frisian', 'backend-localization' ),\r\n\t\t'ga' => __( 'Gaeilge/Irish', 'backend-localization' ),\r\n\t\t'gd' => __( 'Scottish Gaelic', 'backend-localization' ),\r\n\t\t'gl_ES' => __( 'Galician', 'backend-localization' ),\r\n\t\t'gu' => __( 'Gujarati', 'backend-localization' ),\r\n\t\t'haw_US' => __( 'Hawaiian', 'backend-localization' ),\r\n\t\t'he_IL' => __( 'Hebrew', 'backend-localization' ),\r\n\t\t'hi_IN' => __( 'Hindi', 'backend-localization' ),\r\n\t\t'hr' => __( 'Croatian', 'backend-localization' ),\r\n\t\t'hu_HU' => __( 'Hungarian', 'backend-localization' ),\r\n\t\t'hy' => __( 'Armenian', 'backend-localization' ),\r\n\t\t'id_ID' => __( 'Indonesian', 'backend-localization' ),\r\n\t\t'is_IS' => __( 'Icelandic', 'backend-localization' ),\r\n\t\t'it_IT' => __( 'Italian', 'backend-localization' ),\r\n\t\t'ja' => __( 'Japanese', 'backend-localization' ),\r\n\t\t'jv_ID' => __( 'Javanese', 'backend-localization' ),\r\n\t\t'ka_GE' => __( 'Georgian', 'backend-localization' ),\r\n\t\t'kea' => __( 'Kabuverdianu', 'backend-localization' ),\r\n\t\t'kk' => __( 'Kazakh', 'backend-localization' ),\r\n\t\t'kn' => __( 'Kannada', 'backend-localization' ),\r\n\t\t'ko_KR' => __( 'Korean', 'backend-localization' ),\r\n\t\t'ku' => __( 'Kurdish', 'backend-localization' ),\r\n\t\t'ky_KY' => __( 'Kyrgyz', 'backend-localization' ),\r\n\t\t'li' => __( 'Limburgish', 'backend-localization' ),\r\n\t\t'lo' => __( 'Lao', 'backend-localization' ),\r\n\t\t'lv' => __( 'Latvian', 'backend-localization' ),\r\n\t\t// 'me_ME' => __( '', 'backend-localization' ),\r\n\t\t'mg_MG' => __( 'Malagasy', 'backend-localization' ),\r\n\t\t'mk_MK' => __( 'Macedonian', 'backend-localization' ),\r\n\t\t'ml_IN' => __( 'Malayalam', 'backend-localization' ),\r\n\t\t'mn' => __( 'Mongolian', 'backend-localization' ),\r\n\t\t'ms_MY' => __( 'Malay', 'backend-localization' ),\r\n\t\t'my_MM' => __( 'Burmese (Myanmar)', 'backend-localization' ),\r\n\t\t'nb_NO' => __( 'Norwegian (Bokm&aring;l)', 'backend-localization' ),\r\n\t\t'ne_NP' => __( 'Nepali', 'backend-localization' ),\r\n\t\t'nl' => __( 'Dutch', 'backend-localization' ),\r\n\t\t'nl_BE' => __( 'Dutch (Belgium)', 'backend-localization' ),\r\n\t\t'nl_NL' => __( 'Dutch (Netherlands)', 'backend-localization' ),\r\n\t\t'nn_NO' => __( 'Norwegian (Nynorsk)', 'backend-localization' ),\r\n\t\t'os' => __( 'Ossetic/Ossetian', 'backend-localization' ),\r\n\t\t'pa_IN' => __( 'Punjabi', 'backend-localization' ),\r\n\t\t'pl_PL' => __( 'Polish', 'backend-localization' ),\r\n\t\t'pt_BR' => __( 'Portuguese (Brazil)', 'backend-localization' ),\r\n\t\t'pt_PT' => __( 'Portuguese', 'backend-localization' ),\r\n\t\t'ro_RO' => __( 'Romanian', 'backend-localization' ),\r\n\t\t'ru_RU' => __( 'Russian', 'backend-localization' ),\r\n\t\t'ru_UA' => __( 'Russian (Ukraine)', 'backend-localization' ),\r\n\t\t'sa_IN' => __( 'Sanskrit', 'backend-localization' ),\r\n\t\t'sd_PK' => __( 'Sindhi', 'backend-localization' ),\r\n\t\t'si_LK' => __( 'Sinhalese', 'backend-localization' ),\r\n\t\t'sk_SK' => __( 'Slovak', 'backend-localization' ),\r\n\t\t'sl_SI' => __( 'Slovenian', 'backend-localization' ),\r\n\t\t'so_SO' => __( 'Somali', 'backend-localization' ),\r\n\t\t'sq' => __( 'Albanian', 'backend-localization' ),\r\n\t\t'sr_RS' => __( 'Serbian', 'backend-localization' ),\r\n\t\t'srd' => __( 'Sardinian', 'backend-localization' ),\r\n\t\t'su_ID' => __( 'Sundanese', 'backend-localization' ),\r\n\t\t'sv_SE' => __( 'Swedish', 'backend-localization' ),\r\n\t\t'sw' => __( 'Swahili', 'backend-localization' ),\r\n\t\t'ta_IN' => __( 'Tamil', 'backend-localization' ),\r\n\t\t'ta_LK' => __( 'Tamil (Sri Lanka)', 'backend-localization' ),\r\n\t\t'te' => __( 'Telugu', 'backend-localization' ),\r\n\t\t'th' => __( 'Thai', 'backend-localization' ),\r\n\t\t'tr_TR' => __( 'Turkish', 'backend-localization' ),\r\n\t\t'ug_CN' => __( 'Uighur', 'backend-localization' ),\r\n\t\t'uk' => __( 'Ukrainian', 'backend-localization' ),\r\n\t\t'ur' => __( 'Urdu', 'backend-localization' ),\r\n\t\t'uz_UZ' => __( 'Uzbek', 'backend-localization' ),\r\n\t\t'vi' => __( 'Vietnamese', 'backend-localization' ),\r\n\t\t'zh_CN' => __( 'Chinese', 'backend-localization' ),\r\n\t\t'zh_HK' => __( 'Chinese (Hong Kong)', 'backend-localization' ),\r\n\t\t'zh_TW' => __( 'Chinese (Taiwan)', 'backend-localization' )\r\n\t);\r\n}\r\n\r\nfunction backend_localization_admin_menu(){\r\n\tglobal $wp_locale_all;\r\n\t\r\n\tadd_options_page( \"Kau-Boy's Backend Localization settings\", __( 'Backend Language', 'backend-localization' ), 'manage_options', 'backend_localization', 'backend_localization_admin_settings' );\r\n\t\t\r\n\t$backend_locale_array = backend_localization_get_languages();\r\n\t$backend_locale = backend_localization_get_locale();\r\n\r\n\tforeach( $backend_locale_array as $locale_value ){\r\n\t\t$link = add_query_arg('kau-boys_backend_localization_language', $locale_value);\r\n\t\t$link = ( strpos( $link, \"wp-admin/\" ) === false ) ? preg_replace( '#[^?&]*/#i', '', $link ) : preg_replace( '#[^?&]*wp-admin/#i', '', $link );\r\n\t\tif( strpos($link, \"?\" ) === 0|| strpos( $link, \"index.php?\" ) ===0 ){\r\n\t\t\tif( current_user_can( 'manage_options' ) ){\r\n\t\t\t\t$link = 'options-general.php?page=backend_localization&godashboard=1&kau-boys_backend_localization_language=' . $locale_value; \r\n\t\t\t} else {\r\n\t\t\t\t$link = 'edit.php?lang='.$language;\r\n\t\t\t}\r\n\t\t}\r\n\t\tadd_menu_page( __( $wp_locale_all[$locale_value], 'qtranslate' ), $wp_locale_all[$locale_value], 'read', $link, NULL, BACKEND_LOCALIZATION_URL . 'flag_icons/' . strtolower( substr( $locale_value, ( strpos($locale_value, '_' ) * -1 ) ) ) . '.png' );\r\n\t\t/*\r\n\t\t$link = admin_url( add_query_arg( 'kau-boys_backend_localization_language', $locale_value, $link ) );\r\n\t\tadd_menu_page( $wp_locale_all[$locale_value], $wp_locale_all[$locale_value], 'read', $link, NULL, BACKEND_LOCALIZATION_URL . 'flag_icons/' . strtolower( substr( $locale_value, ( strpos($locale_value, '_' ) * -1 ) ) ) . '.png' );\r\n\t\t*/\r\n\t}\r\n}\r\n\r\nfunction backend_localization_filter_plugin_actions( $links, $file ){\r\n\tstatic $this_plugin;\r\n\tif ( !$this_plugin ) $this_plugin = plugin_basename( __FILE__ );\r\n\t\r\n\tif ( $file == $this_plugin ){\r\n\t\t$settings_link = '<a href=\"options-general.php?page=backend_localization\">' . __( 'Settings' ) . '</a>';\r\n\t\tarray_unshift( $links, $settings_link );\r\n\t}\r\n\treturn $links;\r\n}\r\n\r\nfunction backend_localization_admin_settings(){\r\n\tglobal $wp_locale_all, $wp_version;\r\n\t\r\n\tif( isset($_POST['save'] ) ) {\r\n\t\tupdate_option( 'kau-boys_backend_localization_loginselect', $_POST['kau-boys_backend_localization_loginselect'] );\r\n\t}\r\n\t$loginselect = get_option( 'kau-boys_backend_localization_loginselect' );\r\n\t\r\n\t$backend_locale = backend_localization_get_locale();\r\n\t\r\n\t// set default if values haven't been recieved from the database\r\n\tif( empty( $backend_locale ) ) $backend_locale = 'en_US';\r\n\t\r\n\t// do redirection for dashboard from the qTranslate Plugin (www.qianqin.de/qtranslate)\r\n\tif(isset($_GET['godashboard'])) {\r\n\t\techo '<h2>' . __( 'Switching Language', 'backend-localization' ) . '</h2>'\r\n\t\t\t. sprintf( __( 'Switching language to %1$s... If the Dashboard isn\\'t loading, use this <a href=\"%2$s\" title=\"Dashboard\">link</a>.', 'backend-localization' ), $wp_locale_all[$backend_locale], admin_url() )\r\n\t\t\t. '<script type=\"text/javascript\">document.location=\"' . admin_url() . '\";</script>';\r\n\t\texit();\r\n\t}\r\n?>\r\n\r\n<div class=\"wrap\">\r\n\t<?php screen_icon(); ?>\r\n\t<h2>Kau-Boy's Backend Localization</h2>\r\n\t<?php if( $settings_saved ) : ?>\r\n\t<div id=\"message\" class=\"updated fade\"><p><strong><?php _e( 'Options saved.' ) ?></strong></p></div>\r\n\t<?php endif ?>\r\n\t<p>\r\n\t\t<?php _e( 'Here you can customize the plugin for your needs.', 'backend-localization' ) ?>\r\n\t</p>\r\n\t<form method=\"post\" action=\"\">\r\n\t\t<p>\r\n\t\t\t<input type=\"checkbox\" name=\"kau-boys_backend_localization_loginselect\" id=\"kau-boys_backend_localization_loginselect\"<?php echo ( $loginselect == 'on' )? ' checked=\"checked\"' : '' ?>/>\r\n\t\t\t<label for=\"kau-boys_backend_localization_loginselect\"><?php _e( 'Hide language selection on login form', 'backend-localization' ) ?></label>\r\n\t\t</p>\r\n\t\t<p>\r\n\t\t\t<h2><?php _e('Available languages', 'backend-localization') ?></h2>\r\n\t\t\t<?php $backend_locale_array = backend_localization_get_languages() ?>\r\n\t\t\t<?php foreach($backend_locale_array as $locale_value) : ?>\r\n\t\t\t<input type=\"radio\" value=\"<?php echo $locale_value ?>\" id=\"kau-boys_backend_localization_language_<?php echo $locale_value ?>\" name=\"kau-boys_backend_localization_language\"<?php echo ( $backend_locale == $locale_value )? ' checked=\"checked\"' : '' ?> />\r\n\t\t\t<label for=\"kau-boys_backend_localization_language_<?php echo $locale_value ?>\" style=\"width: 200px; display: inline-block;\">\r\n\t\t\t\t<img src=\"<?php echo BACKEND_LOCALIZATION_URL . 'flag_icons/' . strtolower( substr( $locale_value, ( strpos( $locale_value, '_' ) * -1 ) ) ) . '.png' ?>\" alt=\"<?php echo $locale_value ?>\" />\r\n\t\t\t\t<?php echo $wp_locale_all[$locale_value] . ' (' . $locale_value . ')' ?>\r\n\t\t\t</label>\r\n\t\t\t<br />\r\n\t\t\t<?php endforeach ?>\r\n\t\t\t<div class=\"description\">\r\n\t\t\t\t<?php echo sprintf( __( 'If your language isn\\'t listed, you have to download the right version from the WordPress repository: <a href=\"http://svn.automattic.com/wordpress-i18n\">http://svn.automattic.com/wordpress-i18n</a>. Browser to the language folder of your choice and get the <b>all</b> .mo files for your WordPress Version from <i><b>tags/%1s/messages/</b></i> or from the <i><b>trunk/messages/</b></i> folder. Upload them to the langauge folder <i>%2s</i>. You should than be able to choose the new language (or after a refresh of this page).', 'backend-localization' ), $wp_version, WP_LANG_DIR ) ?>\r\n\t\t\t</div>\r\n\t\t</p>\r\n\t\t<p class=\"submit\">\r\n\t\t\t<input class=\"button-primary\" name=\"save\" type=\"submit\" value=\"<?php _e( 'Save Changes' ) ?>\" />\r\n\t\t</p>\r\n\t</form>\r\n</div>\r\n\r\n<?php\r\n}\r\n\r\nfunction backend_localization_get_languages(){\r\n\t$backend_locale_array = array();\r\n\t\r\n\tif( is_dir( WP_LANG_DIR ) ){\r\n\t\t/* php 4 fix */\r\n\t\t$dir = WP_LANG_DIR;\r\n\t\t$dh = opendir( $dir );\r\n\t\twhile ( false !== ( $filename = readdir( $dh ) ) ){\r\n\t\t\t$files[] = $filename;\r\n\t\t}\r\n\t\t/* read the array */\r\n\t\tforeach( $files as $file ){\r\n\t\t\t$fileParts = pathinfo( $file );\r\n\t\t\tif($fileParts['extension'] == 'mo' && ( strlen($fileParts['filename'] ) <= 5 ) ){\r\n\t\t\t\t$fileParts['filename'] = substr( $fileParts['basename'], 0, strpos($fileParts['basename'], '.') );\r\n\t\t\t\t$backend_locale_array[] = $fileParts['filename'];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif( !in_array( 'en_US', $backend_locale_array ) ){\r\n\t\t$backend_locale_array[] = 'en_US';\r\n\t}\r\n\tsort($backend_locale_array);\r\n\t\r\n\treturn $backend_locale_array;\r\n}\r\n\r\nfunction backend_localization_save_setting(){\r\n\tif( isset( $_REQUEST['kau-boys_backend_localization_language'] ) ){\r\n\t\tsetcookie( 'kau-boys_backend_localization_language', htmlspecialchars( $_REQUEST['kau-boys_backend_localization_language'] ), time()+60*60*24*30, '/' );\r\n\t}\r\n\t\r\n\treturn true;\r\n}\r\n\r\nfunction backend_localization_login_form(){\r\n\tglobal $wp_locale_all;\r\n\t\r\n\t// return if language selection on login screen should be hidden\r\n\tif( get_option( 'kau-boys_backend_localization_loginselect' ) ) return;\r\n\t\r\n\t$backend_locale_array = backend_localization_get_languages();\r\n\t$backend_locale = backend_localization_get_locale();\r\n?>\r\n<p>\r\n\t<label>\r\n\t\t<?php _e( 'Language', 'backend-localization' ) ?><br />\r\n\t\t<select name=\"kau-boys_backend_localization_language\" id=\"user_email\" class=\"input\" style=\"width: 100%; color: #555;\">\r\n\t\t<?php foreach( $backend_locale_array as $locale_value ) : ?>\r\n\t\t\t<option value=\"<?php echo $locale_value ?>\"<?php echo ($backend_locale == $locale_value )? ' selected=\"selected\"' : '' ?>>\r\n\t\t\t\t<?php echo $wp_locale_all[$locale_value] . ' (' . $locale_value . ')' ?>\r\n\t\t\t</option>\r\n\t\t<?php endforeach ?>\r\n\t\t</select>\r\n\t</label>\r\n</p>\r\n<?php\r\n}\r\n\r\nfunction backend_localization_get_locale(){\r\n\treturn \tisset( $_REQUEST['kau-boys_backend_localization_language'] )\r\n\t\t\t? htmlspecialchars( $_REQUEST['kau-boys_backend_localization_language'] )\r\n\t\t\t: (\tisset( $_COOKIE['kau-boys_backend_localization_language'] )\r\n\t\t\t\t? $_COOKIE['kau-boys_backend_localization_language']\r\n\t\t\t\t: get_option( 'kau-boys_backend_localization_language' ) );\r\n}\r\n\r\nfunction localize_backend($locale){\r\n\t// set langauge if user is in admin area\r\n\tif( defined( 'WP_ADMIN' ) || ( isset( $_REQUEST['pwd'] ) && isset( $_REQUEST['kau-boys_backend_localization_language'] ) ) ){\r\n\t\t$locale = backend_localization_get_locale();\r\n\t}\r\n\treturn $locale;\r\n}\r\n\r\nfunction backend_localization_set_login_language(){\r\n\tsetcookie( 'kau-boys_backend_localization_language', \"\", time() - 3600, '/' );\r\n\tsetcookie( 'kau-boys_backend_localization_language', htmlspecialchars( $_REQUEST['kau-boys_backend_localization_language'] ), time()+60*60*24*30, '/' );\r\n}\r\n\r\nadd_action( 'init', 'init_backend_localization' );\r\nadd_action( 'admin_menu', 'backend_localization_admin_menu' );\r\nadd_action( 'admin_menu', 'backend_localization_save_setting' );\r\nadd_action( 'wp_login', 'backend_localization_set_login_language' );\r\nadd_action( 'login_form_locale', 'localize_backend' );\r\nadd_action( 'login_head', 'localize_backend' );\r\nadd_action( 'login_form', 'backend_localization_login_form' );\r\nadd_filter( 'plugin_action_links', 'backend_localization_filter_plugin_actions', 10, 2 );\r\nadd_filter( 'locale', 'localize_backend' );\r\n\r\n?>", "=== Backend Localization ===\r\nContributors: Kau-Boy\r\nDonate link: https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=7914504\r\nTags: admin, backend, localization, english, l10n, i18n, translations, translation\r\nRequires at least: 3.2\r\nStable tag: 2.0\r\n\r\nThis plugin enables you to run your blog in a different language than the backend of your blog. So you can serve your blog using e.g. German as the default language for the users, but keep English as the language for the administration. \r\n\r\n== Description ==\r\n\r\nThis plugin enables you to run your blog in a different language than the backend of your blog. So you can serve your blog using e.g. German as the default language for the users, but keep English as the language for the administration.\r\nYou can choose the language you want to use from all installed language files or you can install additional languages.\r\n\r\nA list of all of my plugins can be found on the [WordPress Plugin page](http://kau-boys.com/wordpress-plugins \"WordPress Plugins\") on my blog [kau-boys.com](http://kau-boys.com). \r\n\r\n== Screenshots ==\r\n\r\n1. Screenshot of the settings page\r\n2. Screenshot of language switcher in admin menu (similar to qTranslate switcher)\r\n3. Screenshot of language selection on login form\r\n\r\n== Installation ==\r\n\r\n= Installation through WordPress admin pages: = \r\n\r\n1. Go to the admin page `Plugins -> Add New`\r\n2. Search for `kau-boy` and choose the plugin\r\n3. Choose the action `install`\r\n4. Click on `Install now`\r\n5. Activate the plugin after install has finished (with the link or trough the plugin page)\r\n6. You might have to edit the settings, especially the language you want to use\r\n\r\n= Installation using WordPress admin pages: =\r\n\r\n1. Download the plugin zip file\r\n2. Go to the admin page `Plugins -> Add New`\r\n3. Choose the `Upload` link under the `Install Plugins` headline\r\n4. Browse for the zip file and click `Install Now`\r\n5. Activate the plugin after install has finished (with the link or trough the plugin page)\r\n6. You might have to edit the settings, especially the language you want to use\r\n\r\n= Installation using ftp: =\r\n\r\n1. Unzip und upload the files to your `/wp-content/plugins/` directory\r\n2. Activate the plugin through the `Plugins` menu in WordPress\r\n3. You might have to edit the settings, especially the language you want to use\r\n\r\n\r\n\r\n== Frequently Asked Questions ==\r\n\r\n= Will my language be available for this plugin? =\r\n\r\nEvery language that is supported by WordPress can be chosen. You just need a copy of the translation files in your WordPress' language folder.\r\n\r\n= Do I need this plugin if I use qTranslate? = \r\n\r\nNo you don't have to. I love qTranslate and use it for my own blog. qTranslate also offers the ability to switch the backend language. But if you don't want to publish the content of your blog in more than one language, you shouldn't use qTranslate. For I created this plugin for users who only wan't to switch the backend language without the overhead of any multilingual plugin. \r\n\r\n   \r\n== Change Log ==\r\n\r\n* **2.0.1** Fixing shown language in the switching message. Use htmlspecialchars() to prevent XSS vulnerabilities. Thanks again to Matt Fuller for teaching me how to do it correctly!\r\n* **2.0** Adding some new languages. Fixing link to switch languages in backend. Thanks to Justin! Fixing XSS vulnerabilities. Many Thanks to Matt Fuller from MOZILLA!\r\n* **1.6.1** Fixing typo in language names \r\n* **1.6** Add WP3 CSS class for the language select on the login form\r\n* **1.5** Fixing the plugin for WordPress 3.0 MULTISITE feature\r\n* **1.4** Fixing the plugin for WordPress MU and fixing the login form selection\r\n* **1.3** Make the plugin working with PHP4. Thanks to David for the fix: www.est322.com/?p=520\r\n* **1.2.1** Replace do_action() with add_action() for admin_menu to avoid issues with other plugins\r\n* **1.2** Adding support for new languages \r\n* **1.1** Removing \"short open tags\" which causes error on blog that don't have \"short_open_tag\" set to \"On\"\r\n* **1.0** Adding language switcher to admin menu and option to hide language selection on login form \r\n* **0.6** Saving language setting in cookie to enable different languages for multiple users\r\n* **0.5** Adding language selection to login screen\r\n* **0.4** Display all languages that are installed in the WordPress language folder \r\n* **0.3** Activate new language after saving settings (no more need to refresh)\r\n* **0.2** Adding German translation for settings page\r\n* **0.1** First stable release"], "filenames": ["backend_localization.php", "readme.txt"], "buggy_code_start_loc": [6, 63], "buggy_code_end_loc": [311, 63], "fixing_code_start_loc": [6, 64], "fixing_code_end_loc": [307, 65], "type": "CWE-79", "message": "A vulnerability classified as problematic has been found in Kau-Boy Backend Localization Plugin 2.0 on WordPress. Affected is the function backend_localization_admin_settings/backend_localization_save_setting/backend_localization_login_form/localize_backend of the file backend_localization.php. The manipulation leads to cross site scripting. It is possible to launch the attack remotely. Upgrading to version 2.0.1 is able to address this issue. The name of the patch is 36f457ee16dd114e510fd91a3ea9fbb3c1f87184. It is recommended to upgrade the affected component. The identifier of this vulnerability is VDB-227232.", "other": {"cve": {"id": "CVE-2012-10014", "sourceIdentifier": "cna@vuldb.com", "published": "2023-04-24T18:15:08.867", "lastModified": "2023-05-03T17:00:58.130", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "A vulnerability classified as problematic has been found in Kau-Boy Backend Localization Plugin 2.0 on WordPress. Affected is the function backend_localization_admin_settings/backend_localization_save_setting/backend_localization_login_form/localize_backend of the file backend_localization.php. The manipulation leads to cross site scripting. It is possible to launch the attack remotely. Upgrading to version 2.0.1 is able to address this issue. The name of the patch is 36f457ee16dd114e510fd91a3ea9fbb3c1f87184. It is recommended to upgrade the affected component. The identifier of this vulnerability is VDB-227232."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 6.1, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 2.7}], "cvssMetricV30": [{"source": "cna@vuldb.com", "type": "Secondary", "cvssData": {"version": "3.0", "vectorString": "CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:U/C:N/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 3.5, "baseSeverity": "LOW"}, "exploitabilityScore": 2.1, "impactScore": 1.4}], "cvssMetricV2": [{"source": "cna@vuldb.com", "type": "Secondary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:S/C:N/I:P/A:N", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "SINGLE", "confidentialityImpact": "NONE", "integrityImpact": "PARTIAL", "availabilityImpact": "NONE", "baseScore": 4.0}, "baseSeverity": "MEDIUM", "exploitabilityScore": 8.0, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "cna@vuldb.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-79"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:kau-boys:backend_localization:*:*:*:*:*:wordpress:*:*", "versionEndExcluding": "2.0.1", "matchCriteriaId": "FCCEF46F-09F8-40A1-8C19-1F4D1CB92DDC"}]}]}], "references": [{"url": "https://github.com/wp-plugins/kau-boys-backend-localization/commit/36f457ee16dd114e510fd91a3ea9fbb3c1f87184", "source": "cna@vuldb.com", "tags": ["Patch"]}, {"url": "https://github.com/wp-plugins/kau-boys-backend-localization/releases/tag/2.0.1", "source": "cna@vuldb.com", "tags": ["Release Notes"]}, {"url": "https://vuldb.com/?ctiid.227232", "source": "cna@vuldb.com", "tags": ["Third Party Advisory"]}, {"url": "https://vuldb.com/?id.227232", "source": "cna@vuldb.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/wp-plugins/kau-boys-backend-localization/commit/36f457ee16dd114e510fd91a3ea9fbb3c1f87184"}}