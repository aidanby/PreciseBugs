{"buggy_code": ["/* Vars zur Steuerung */\n    \t/* ############################################################################################################ */\n\t\t\tdocument.domain = 'radio-emergency.de';\n\t    \tvar username;\n\t  \t\tvar connected = false;\n\t  \t\tvar chatinited= false;\n\t  \t\tvar isteiner =0;\n\t  \t\tvar privateTabPanelOpen=false;\n\t\t\tvar privatTabScollTimeout;\n\t\t\tvar privateChatting=false;\n\t\t\tvar privateChattingWith='';\n\t\t\tvar soundsDisabled = false;\n\t\t\tvar soundsmooving = false;\n\t\t\tvar isInInputField = false;\n\t\t\tvar wunschlimit =0;\n\t\t\tvar wunschzaehler=0;\n  \t\t/* ############################################################################################################ */\n\n\t\t/* Socket-Verbindung herstellen  */\n\t\t\t\t/* ============================================================================================  */\n\t      \t\t\tvar socket = io();\n\t      \t\t/* ============================================================================================  */\n\n  \t\t/* Document ready() */\n  \t\t/* ############################################################################################################ */\n\t\t\tjQuery(document).ready(function(){\n\n\t\t\t\t/* Zur\u00fcck-Effekt im Browserfenster durch Backspace verhindern  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery(document).keydown(function(e) {\n\t\t\t\t\t\tif(e.which ==8){\n\t\t\t\t\t\t\tif(!isInInputField){\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t/* Ausnahme-Inputs (Text) in denen Backspace funzen soll sollen  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('input:text, textarea').focus(function(){\n\t\t\t\t\t\t\tisInInputField=true;\n\t\t\t\t\t\t}).blur(function(){\n\t\t\t\t\t\t\tisInInputField=false;\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t/* ============================================================================================  */\n\n\n\n\t      \t\t/* Login durch Admin oder Anmeldeformular zeigen  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery('#iArt_usersessionCheck').load(function(){\n\t\t\t\t\t\tvar istWirklichderAdmin = jQuery('#iArt_usersessionCheck').contents().find('#iArt_sessionUser').html();\n\t\t\t\t\t\tif(istWirklichderAdmin != \"null\" && istWirklichderAdmin != \"\"){\n\t\t\t\t\t\t\t/* Admin-Session Vorhanden -> Admin-Login mit Namen aus Session  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tsocket.emit('add Admin', istWirklichderAdmin, 1);\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t/* Normaler User  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tjQuery('#reChatLoginBlocker').fadeIn();jQuery('#reUsername').focus();\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t      \t\t/* Loginversuch durch client  */\n\t      \t\t/* ============================================================================================  */\n\t\t      \t\tjQuery('#iArt_chatLoginForm').submit(function(){\n\t\t      \t\t\tusername = iArt_ChangeMarkup(jQuery('#reUsername').val(), false);\n\t\t      \t\t\tsex = jQuery('#iArt_sex').val();\n\n\t\t\t\t\t\t/* Wenn ein Benutzername eingegeben wurde  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t    \tif (username) {\n\t\t\t\t\t      \t\t/* Benutzernamen an Server \u00fcbergeben  */\n\t\t\t\t\t      \t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t      \t\t\tsocket.emit('add user', username, 0, sex); /* (label, benutzername, istAdmin, geschlecht) */\n\t\t\t\t\t      \t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t    \t}\n\t\t\t\t\t    /* -------------------------------------------------------------  */\n\t\t      \t\t\treturn false;\n\t\t      \t\t});\n\t\t      \t/* ============================================================================================  */\n\n\n\t\t      \t/* Login durch Admin erfolgreich  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('adminlogin', function (data) {\n\t\t\t\t\t    connected = true;\n\t\t\t\t\t    jQuery('#iArt_userNameBackup').val(data.username);\n\t\t\t\t\t    isteiner=1; /* Adminstatus f\u00fcr die ersten 20 Sek vergeben  */\n\n\t\t\t\t\t\t/* Erste ausrichtung der h\u00f6hen von Chatfenster und Userliste vornehmen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_chatmessageContainer, #reChatUsers').css('height', (jQuery(window).innerHeight()-70)+'px');\n\t\t\t\t\t\t\tjQuery('#iArt_userListContainer, #iArt_smileyInnerCont').css('height', ((jQuery(window).innerHeight()-70)-37)+'px');\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Begr\u00fc\u00dfung einbinden und Chat anzeigen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#messages').append(jQuery('<div>').addClass('iArtChatMessageItem').addClass('reChatInfo').html('('+data.zeitpunkt+') Willkommen '+data.username+' im Radio-Emergency.de Chat'));\n\t\t\t\t      \t\tjQuery('#iArt_chatwin').animate({opacity:'toggle'}, 350);\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxTopBtn', parent.document).fadeIn();\n\t\t\t      \t\t/* -------------------------------------------------------------  */\n\n\t\t\t      \t\t/* Chatfenster in Position Scrollen und Focus auf Eingabefeld legen  */\n\t\t\t      \t\t/* -------------------------------------------------------------  */\n\t\t\t\t      \t\tjQuery('#iArt_chatMessageContMainChat').scrollTop(jQuery('#messages').outerHeight());\n\t\t\t\t      \t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t      \t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Admin-Panel einbauen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#reChatUsers').prepend('<div id=\"iArt_userpanelAdmin\"><div class=\"iArt_userpanelBox\"><div class=\"iArt_userpanelCont\"></div><ul><li class=\"iArt_userPanelTrigger\" data-job=\"PrivChat\" data-user=\"#\"><span class=\"iArt_userPanelArrows\">&raquo;</span> Privatchat starten</li><li class=\"iArt_userPanelTrigger\" data-job=\"KickUser\" data-user=\"#\"><span class=\"iArt_userPanelArrows\">&raquo;</span> Benutzer kicken</li><li class=\"iArt_userPanelTrigger\" data-job=\"BanUser\" data-user=\"#\"><span class=\"iArt_userPanelArrows\">&raquo;</span> Benutzer bannen</li><li><a href=\"https://db-ip.com/#\" id=\"iArt_usersIPlink\" target=\"_blank\"><span class=\"iArt_userPanelArrows\">&raquo;</span> IP: <span id=\"iArt_ipShow\">#</span></a></li></ul></div></div>');\n\t\t\t\t\t\t\tiArt_buildUpWhishAdmin();\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Wunschlimit und w\u00fcnsche erstmals abfragen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tsocket.emit('getWunschLimit');\n\t\t\t\t\t\t\tsocket.emit('zeigewuensche');\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Admin-Session-Check erstmals aktivieren  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tiArt_checkingREAdminSession();\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t      \t/* Login durch Client erfolgreich  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('login', function (data) {\n\t\t\t\t\t    connected = true;\n\t\t\t\t\t\tjQuery('#iArt_connectionErrorMessage').hide();\n\t\t\t\t\t\tjQuery('#iArt_userNameBackup').val(data.username);\n\n\t\t\t\t\t\t/* Erste ausrichtung der h\u00f6hen von Chatfenster und Userliste vornehmen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_chatmessageContainer, #reChatUsers').css('height', (jQuery(window).innerHeight()-70)+'px');\n\t\t\t\t\t\t\tjQuery('#iArt_userListContainer, #iArt_smileyInnerCont').css('height', ((jQuery(window).innerHeight()-70)-37)+'px');\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Begr\u00fc\u00dfung, Login ausblenden einbinden und Chat anzeigen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#messages').append(jQuery('<div>').addClass('iArtChatMessageItem').addClass('reChatInfo').html('('+data.zeitpunkt+') Willkommen '+data.username+' im Radio-Emergency.de Chat'));\n\t\t\t\t\t\t\tjQuery('#reChatLoginBlocker').animate({opacity:'toggle'}, 350, function(){\n\t\t\t\t      \t\t\tjQuery('#iArt_chatwin').animate({opacity:'toggle'}, 350);\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxTopBtn', parent.document).fadeIn();\n\t\t\t\t      \t\t});\n\t\t\t      \t\t/* -------------------------------------------------------------  */\n\n\t\t\t      \t\t/* Chatfenster in Position Scrollen und Focus auf Eingabefeld legen  */\n\t\t\t      \t\t/* -------------------------------------------------------------  */\n\t\t\t\t      \t\tjQuery('#iArt_chatMessageContMainChat').scrollTop(jQuery('#messages').outerHeight());\n\t\t\t\t      \t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t      \t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Wunschlimit und w\u00fcnsche erstmals abfragen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tsocket.emit('getWunschLimit');\n\t\t\t\t\t\t\tsocket.emit('zeigewuensche');\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\n\t\t\t\t\t\t/* Session-Pr\u00fcfung anwerfen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tiArt_checkUserSession();\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Der gew\u00e4hle Benutzername ist bereits in Verwendung  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('nologin', function (data) {\n\t\t\t\t\t    alert('Der Benutzername \"'+data.username+'\" ist bereits in Verwendung');\n\t\t\t\t\t    jQuery('#reUsername').focus();\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Der gew\u00e4hle Benutzername ist f\u00fcr Admins/Modis gesperrt  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('noAdmin', function (data) {\n\t\t\t\t\t    alert('Der Benutzername \"'+data.username+'\" ist ein gesch\u00fctzter Name des RE-Teams');\n\t\t\t\t\t    jQuery('#reUsername').focus();\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Die Admin-Session wird bereits verwendet  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('noAdminLogin', function (data) {\n\t\t\t\t\t    jQuery('body').html('<div style=\"color: #027A82; font-weight:bold; text-align:center; padding-top:40px; font-size: 18px;line-height: 23px;-webkit-font-smoothing: antialiased;\">Admin '+data.username+' ist bereits eingelogged! <br />Doppeltes Verbinden ist nicht m\u00f6glich!</div>');\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\n\t      \t\t/* Neue Nachricht eingeben  */\n\t      \t\t/* ============================================================================================  */\n\t\t      \t\tjQuery('#iArt_chatmessageForm').submit(function(){\n\t\t      \t\t\tif(connected){\n\n\t\t      \t\t\t\t/* Farbauswahl und Smileys schlie\u00dfen wenn ge\u00f6ffnet  */\n\t\t      \t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t      \t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){iArt_toggleTextFormating();}\n\n\t\t\t\t\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){\n\t\t\t\t\t\t\t\t\tiArt_toggleSmileyWin();\n\t\t\t\t\t\t\t\t}\n\t\t      \t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t      \t\t\t\t/* Nachricht durch Funktion reinigen lassen und Absenden  */\n\t\t\t      \t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t      \t\t\tvar neueNachricht = iArt_ChangeMarkup(jQuery('#iArt_chatMessageInput').val(), true);\n\t\t\t\t        \t\tif(neueNachricht.trim().length > 0){\n\n\t\t\t\t\t\t\t\t\tif(privateChatting){\n\t\t\t\t\t\t\t\t\t\t/* Privatnachricht  */\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\tsocket.emit('private chat message', neueNachricht, privateChattingWith, jQuery('#iArt_userNameBackup').val());\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t/* Normale Nachricht  */\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\tsocket.emit('chat message', neueNachricht, jQuery('#iArt_userNameBackup').val());\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').val('').focus();\n\t\t\t\t        \t\t}else{\n\t\t\t\t        \t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t\t        \t\t}\n\t\t\t        \t\t/* -------------------------------------------------------------  */\n\t\t      \t\t\t}\n\t\t      \t\t\treturn false; /* Ursp\u00fcnglichen submit unterdr\u00fccken  */\n\t\t      \t\t});\n\t      \t\t/* ============================================================================================  */\n\n\n\t      \t\t/* Neue Nachricht verarbeiten  */\n\t      \t\t/* ============================================================================================  */\n\t\t      \t\tsocket.on('chat message', function(msg){\n\t\t        \t\tif(connected){\n\t\t        \t\t\tjQuery('#messages').append(jQuery('<div>').addClass('iArtChatMessageItem').html('('+msg.zeitpunkt+') <img src=\"http://radio-emergency.de/img/user_'+msg.sex+'_'+msg.istEinAdmin+'.png\" /> '+msg.username+': <span style=\"color:'+msg.farbe+'; font-weight:'+msg.weight+'; font-style:'+msg.style+'\">'+msg.message+'</span>'));\n\t\t        \t\t\tjQuery('#iArt_chatMessageContMainChat').scrollTop(jQuery('#messages').outerHeight());\n\n\t\t\t\t\t\t\tif(privateChatting){\n\t\t\t\t\t\t\t\tif(jQuery('#iArt_TabMainChat').hasClass('active')){}else{\n\t\t\t\t\t\t\t\t\tif(jQuery('#iArt_TabMainChat').hasClass('alert')){}else{\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_TabMainChat').addClass('alert');\n\t\t\t\t\t\t\t\t\t\tiArt_PlayMessageSound();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar neuermessagerCount = (((jQuery('#iArt_TabMainChat').find('.iArt_messageCount').html()*100)/100)+1);\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_TabMainChat').find('.iArt_messageCount').html(neuermessagerCount);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t      \t\t});\n\t\t      \t/* ============================================================================================  */\n\n\n\t\t\t\t/* Neue Privat-Nachricht verarbeiten  */\n\t      \t\t/* ============================================================================================  */\n\t\t      \t\tsocket.on('privateMessage', function(msg){\n\t\t        \t\tif(connected){\n\n\n\t\t\t\t\t\t\tif(jQuery('#iArt_userNameBackup').val() == msg.fuerden){\n\t\t\t\t\t\t\t\t/* Ich bin der Empfaenger */\n\t\t\t\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\t\t\t\t\tvar mitdemda = msg.username;\n\n\t\t\t\t\t\t\t\t\t/* Check ob Tab fuer diesen Chat bereits besteht  */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tvar neuerstellung = iArt_checkIfTabExist(mitdemda);\n\t\t\t\t\t\t\t\t\t\tif(neuerstellung){\n\n\t\t\t\t\t\t\t\t\t\t\t/* Tab muss neu erstellt werden  */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\tiArt_removeActivClassOnTabs();\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanel').append('<div class=\"iArt_ChatTab active\" data-user=\"'+mitdemda+'\" id=\"iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')+'\" data-target=\"iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')+'\">'+mitdemda+'<span class=\"iArt_howManyMessages\"> (<span class=\"iArt_messageCount\">0</span>)</span> <div class=\"iArt_chatTabClose\">x</div></div>');\n\n\t\t\t\t\t\t\t\t\t\t\t\t/* Check ob Chatfenster neu erstellt werden muss und wenn n\u00f6tig erstellen  */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar neuerprivchat = iArt_checkIfChatWindowExist(mitdemda);\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(neuerprivchat){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_chatmessageContainer').append('<div class=\"iArt_chatWindowContainer\" id=\"iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')+'\"><div class=\"messages\"><div class=\"iArtChatMessageItem reChatInfo\">Neuer Privatchat mit '+mitdemda+'</div></div>');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t\t\t\t/* Das Chatfenster in den Vordergrund bringen  */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\tiArt_changChatWindow('iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-'), mitdemda);\n\t\t\t\t\t\t\t\t\t\t\t\t\tiArt_PlayMessageSound();\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t\t\t\t/* Klick Funktionen der Tabs (neu) setzten  */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\tiArt_provTabsClickfunctions();\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t/* Es gibt bereits einen Tab f\u00fcr diesen Benutzer  */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\tvar chatistaktiv = iArt_checkIfexistinTabisActive(mitdemda);\n\t\t\t\t\t\t\t\t\t\t\t\tif(!chatistaktiv){\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* Der Tab ist nicht aktiv (Tab markieren und Sound abspielen) */\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(jQuery('#iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).hasClass('alert')){}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tiArt_PlayMessageSound();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).addClass('alert');\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar neuermessagerCount = (((jQuery('#iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.iArt_messageCount').html()*100)/100)+1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.iArt_messageCount').html(neuermessagerCount);\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\n\t\t\t\t\t\t\t\t\t/* Nachricht in Chatfenster schreiben  */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.messages').append(jQuery('<div>').addClass('iArtChatMessageItem').html('('+msg.zeitpunkt+') <img src=\"http://radio-emergency.de/img/user_'+msg.sex+'_'+msg.istEinAdmin+'.png\" /> '+iArt_ChangeMarkup(msg.username, false)+': <span style=\"color:'+msg.farbe+'; font-weight:'+msg.weight+'; font-style:'+msg.style+'\">'+iArt_ChangeMarkup(msg.message, true)+'</span>'));\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).scrollTop(jQuery('#iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.messages').outerHeight());\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\n\t\t\t\t\t\t\t\t\t/* Tab-Panel \u00f6ffnen falls geschlossen  */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tiArt_CheckingTabBar();\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t/* Tabs-Panel auf Aktiven Chat ausrichten  */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tiArt_scrollTabPanel();\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t\t\t\t}else if(jQuery('#iArt_userNameBackup').val() == msg.username){\n\n\t\t\t\t\t\t\t\t/* Ich bin der Absender  */\n\t\t\t\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\t\t\t\t\t/* Nachricht in Chatfenster schreiben  */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChat_'+msg.fuerden.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.messages').append(jQuery('<div>').addClass('iArtChatMessageItem').html('('+msg.zeitpunkt+') <img src=\"http://radio-emergency.de/img/user_'+msg.sex+'_'+msg.istEinAdmin+'.png\" /> '+iArt_ChangeMarkup(msg.username, false)+': <span style=\"color:'+msg.farbe+'; font-weight:'+msg.weight+'; font-style:'+msg.style+'\">'+iArt_ChangeMarkup(msg.message, true)+'</span>'));\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChat_'+msg.fuerden.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).scrollTop(jQuery('#iArt_privChat_'+msg.fuerden.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.messages').outerHeight());\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t}\n\t\t      \t\t});\n\t\t      \t/* ============================================================================================  */\n\n\t\t\t\t/* Privatnachricht kann nicht \u00fcbermittelt werden da User nicht connected ist  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('UserNotConnected', function (data) {\n\t\t\t\t\t\tjQuery('#iArt_privChat_'+data.benutzer.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.messages').append(jQuery('<div>').addClass('iArtChatMessageItem').html('('+data.zeitpunkt+') CHATSYSTEM: <span style=\"color:#f00; font-weight:bold;\">--> Nachricht nicht \u00fcbermittelt da \"'+data.benutzer+'\" nicht mehr online ist! <--</span><br /> --> '+data.message+' <--'));\n\t\t\t\t\t\tjQuery('#iArt_privChat_'+data.benutzer.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).scrollTop(jQuery('#iArt_privChat_'+data.benutzer.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.messages').outerHeight());\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Allen Teilnehmern neuen Benutzer anzeigen  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('user joined', function (data) {\n\t\t\t\t\t\tif(connected){\n\t\t\t\t    \t\tjQuery('#messages').append(jQuery('<div>').addClass('iArtChatMessageItem').addClass('reChatInfo').html('('+data.zeitpunkt+') '+data.username+' hat den Chat betreten'));\n\t\t\t\t    \t\tjQuery('#iArt_chatMessageContMainChat').scrollTop(jQuery('#messages').outerHeight());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Allen Teilnehmern anzeigen, dass ein Benutzer den Chat verl\u00e4sst */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('user left', function (data) {\n\t\t\t\t\t\tif(connected){\n\t\t\t\t\t\t\tjQuery('#messages').append(jQuery('<div>').addClass('iArtChatMessageItem').addClass('reChatInfo').html('('+data.zeitpunkt+') '+data.username+' hat den Chat verlassen'));\n\t\t\t\t\t\t\tjQuery('#iArt_chatMessageContMainChat').scrollTop(jQuery('#messages').outerHeight());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Eingriff bei Session-Timeout  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('nope', function(){\n\t\t\t\t\t\tconnected=false;\n\t\t\t\t\t\tjQuery('#iArt_chatwin').fadeOut();\n\t\t\t\t\t\tjQuery('#reChatLoginBlocker, #iArt_connectionErrorMessage').fadeIn();\n\t\t\t\t\t\tjQuery('#iArt_ChatUsersList, #messages').html('');\n\t\t\t\t\t\tsocket.emit('sessionkick', jQuery('#iArt_userNameBackup').val()); /* Wird nicht verarbeitet */\n\t\t\t\t\t});\n\n\t\t\t\t\tsocket.on('disconnect', function(){\n\t\t\t\t\t\tif(connected){\n\t\t\t\t\t\t\tconnected=false;\n\t\t\t\t\t\t\tjQuery('#iArt_chatwin').fadeOut();\n\t\t\t\t\t\t\tjQuery('#reChatLoginBlocker, #iArt_connectionErrorMessage').fadeIn();\n\t\t\t\t\t\t\tjQuery('#iArt_ChatUsersList, #messages').html('');\n\t\t\t\t\t\t\tsocket.emit('sessionkick', jQuery('#iArt_userNameBackup').val()); /* Wird nicht verarbeitet */\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Kick-Durchf\u00fchren */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('userkick', function (data) {\n\t\t\t\t\t\tif(connected){\n\t\t\t\t\t\t\tif(jQuery('#iArt_userNameBackup').val() == data){\n\t\t\t\t\t\t\t\tjQuery('body').html('<div style=\"color: #027A82; font-weight:bold; text-align:center; padding-top:40px; font-size: 18px;line-height: 23px;-webkit-font-smoothing: antialiased;\">Du wurdest durch einen Admin vom Server geworfen!</div>');\n\t\t\t\t\t\t\t\tconnected=false;\n\t\t\t\t\t\t\t\tsocket.disconnect();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Anzeige Benutzerliste  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('show new userlist', function (data) {\n\t\t\t\t\t\tif(connected){\n\t\t\t\t\t\t\tvar Benutzerausgabe=\"\";\n\t\t\t\t\t\t\tif(isteiner==\"1\"){\n\n\t\t\t\t\t\t\t\t/* Generierung Userliste f\u00fcr Moderatoren / Admins  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t/* Mit Object.keys() sortierbares Array der ersten Objektkeys Erzeugen und sortieren */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tObject.keys(data).sort(function sortfn (a,b) {\n\t\t\t\t\t\t\t\t\t\t    /* Interne Funktion in sort() um Chrome / Firefox auch richtig sortieren zu lassen  */\n\t\t\t\t\t\t\t\t\t\t    /* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t    var upA = a.toUpperCase();\n\t\t\t\t\t\t\t\t\t\t\t    var upB = b.toUpperCase();\n\t\t\t\t\t\t\t\t\t\t\t    return (upA < upB) ? -1 : (upA > upB) ? 1 : 0;\n\t\t\t\t\t\t\t\t\t\t    /* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t}).forEach(function(k){\n\t\t\t\t\t\t\t\t\t\t\t/* Userliste generieren (mit dem sortierten Array wird das Objekt jetzt geziehlt angefragt) */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t        if(data[k].istAdmin ==\"1\"){\n\t\t\t\t\t\t\t\t\t\t        \t/* User ist ein anderer Moderatoren/Admins  */\n\t\t\t\t\t\t\t\t\t\t        \t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(data[k].uname == jQuery('#iArt_userNameBackup').val()){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBenutzerausgabe+='<div class=\"iArt_UserListItem\"><span class=\"iArt_userItemImgCont inactive\" data-user=\"'+data[k].uname+'\"><img src=\"http://radio-emergency.de/img/user_'+data[k].sex+'_'+data[k].istAdmin+'.png\" /></span><span class=\"iArt_userListNameCont\">'+data[k].uname+'</span><div class=\"iArt_bothClear\"></div></div>';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBenutzerausgabe+='<div class=\"iArt_UserListItem\"><span class=\"iArt_userItemImgCont\" data-user=\"'+data[k].uname+'\"><img src=\"http://radio-emergency.de/img/user_'+data[k].sex+'_'+data[k].istAdmin+'.png\" /></span><span class=\"iArt_userListNameCont\">'+data[k].uname+'</span><div class=\"iArt_bothClear\"></div></div>';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t        \t\t/* Normaler Usern (Admin-Panel mit generieren)  */\n\t\t\t\t\t\t\t\t\t        \t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tBenutzerausgabe+='<div class=\"iArt_UserListItem\"><span class=\"iArt_userItemImgCont admin\" data-user=\"'+data[k].uname+'\" data-ip=\"'+data[k].ip+'\"><img src=\"http://radio-emergency.de/img/user_'+data[k].sex+'_'+data[k].istAdmin+'.png\" /></span><span class=\"iArt_userListNameCont\">'+data[k].uname+'</span><div class=\"iArt_bothClear\"></div></div>';\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t    });\n\t\t\t\t\t\t\t\t    /* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t/* Generierung Userlist f\u00fcr normale User  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t/* Mit Object.keys() sortierbares Array der ersten Objektkeys Erzeugen und sortieren */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tObject.keys(data).sort(function sortfn (a,b) {\n\t\t\t\t\t\t\t\t\t\t    /* Interne Funktion in sort() um Chrome / Firefox auch richtig sortieren zu lassen  */\n\t\t\t\t\t\t\t\t\t\t    /* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t    var upA = a.toUpperCase();\n\t\t\t\t\t\t\t\t\t\t\t    var upB = b.toUpperCase();\n\t\t\t\t\t\t\t\t\t\t\t    return (upA < upB) ? -1 : (upA > upB) ? 1 : 0;\n\t\t\t\t\t\t\t\t\t\t    /* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t}).forEach(function(k){\n\t\t\t\t\t\t\t\t\t\t\t/* Userliste generieren (mit dem sortierten Array wird das Objekt jetzt geziehlt angefragt) */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\tif(data[k].uname == jQuery('#iArt_userNameBackup').val()){\n\t\t\t\t\t\t\t\t\t\t\t\t\tBenutzerausgabe+='<div class=\"iArt_UserListItem\"><span class=\"iArt_userItemImgCont inactive\" data-user=\"'+data[k].uname+'\"><img src=\"http://radio-emergency.de/img/user_'+data[k].sex+'_'+data[k].istAdmin+'.png\" /></span><span class=\"iArt_userListNameCont\">'+data[k].uname+'</span><div class=\"iArt_bothClear\"></div></div>';\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\tBenutzerausgabe+='<div class=\"iArt_UserListItem\"><span class=\"iArt_userItemImgCont\" data-user=\"'+data[k].uname+'\"><img src=\"http://radio-emergency.de/img/user_'+data[k].sex+'_'+data[k].istAdmin+'.png\" /></span><span class=\"iArt_userListNameCont\">'+data[k].uname+'</span><div class=\"iArt_bothClear\"></div></div>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* Userliste in Dokument einf\u00fcgen  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tjQuery('#iArt_ChatUsersList').html(Benutzerausgabe);\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t/* Click-Functions nach der Generierung setzen  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tiArt_userPanelClickFunctions();\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\n\n\t\t\t\t/* Farbauswahl  */\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t\t/* Button f\u00fcr Anzeige des Auswahlfensters  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery(\"#iArt_chatFunctionColors\").click(function() {\n\t\t\t\t\t\t\tiArt_toggleTextFormating();\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t/* Knopf Speichern  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery(\"#iArt_colorSpeichern\").click(function() {\n\n\t\t\t\t\t\t\t/* Aktuelle Textformatierung an Server senden  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tsocket.emit('usercolor', jQuery('#iArt_userColor').val(), jQuery('#iArt_userFontWeight').val(), jQuery('#iArt_userFontStyle').val());\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t/* Aktuelle Anzeigen anpassen  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tjQuery('#iArt_aktuelleSchriftfarbe').css('background',jQuery('#iArt_userColor').val());\n\t\t\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').css('color', jQuery('#iArt_userColor').val()).css('font-weight', jQuery('#iArt_userFontWeight').val()).css('font-style', jQuery('#iArt_userFontStyle').val()).focus();\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t/* Textformatierung ausblenden  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tjQuery('#iArt_colorWin').removeClass('active');\n\t\t\t\t\t\t\t\tjQuery('#iArt_colorWin').stop(true, false).fadeOut();\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t/* Click auf Farbfelder  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('.iArt_colorToPic').each(function(){\n\t\t\t\t\t\t\tjQuery(this).click(function(){\n\n\t\t\t\t\t\t\t\t/* Active Klasse neu setzen (Haken)  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tjQuery('.iArt_colorToPic').removeClass('active');\n\t\t\t\t\t\t\t\t\tjQuery(this).addClass('active');\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* Gew\u00e4hlte Farbe in input hinterlegen und aktuelle Textformatierung an Server senden  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_userColor').val(jQuery(this).attr('data-color'));\n\t\t\t\t\t\t\t\t\tsocket.emit('usercolor', jQuery('#iArt_userColor').val(), jQuery('#iArt_userFontWeight').val(), jQuery('#iArt_userFontStyle').val());\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* Aktuelle Anzeigen anpassen  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_aktuelleSchriftfarbe').css('background',jQuery('#iArt_userColor').val());\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').css('color', jQuery('#iArt_userColor').val()).css('font-weight', jQuery('#iArt_userFontWeight').val()).css('font-style', jQuery('#iArt_userFontStyle').val()).focus();\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t/* Click auf Buttons Fett und Kursiv  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('.iArt_fontStyleBtn').each(function(){\n\t\t\t\t\t\t\tjQuery(this).click(function(){\n\t\t\t\t\t\t\t\t/* Aktiv-Status An/Aus-schalten uns inputs bef\u00fcllen  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tjQuery(this).toggleClass('active');\n\t\t\t\t\t\t\t\t\tif(jQuery('#iArt_schriftFett').hasClass('active')){jQuery('#iArt_userFontWeight').val('bold'); jQuery('#iArt_userFontSmoothing').val('antialiased');}else{jQuery('#iArt_userFontWeight').val('normal'); jQuery('#iArt_userFontSmoothing').val('auto');}\n\t\t\t\t\t\t\t\t\tif(jQuery('#iArt_schriftKursiv').hasClass('active')){jQuery('#iArt_userFontStyle').val('italic');}else{jQuery('#iArt_userFontStyle').val('normal');}\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* Aktuelle Textformatierung an Server senden  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tsocket.emit('usercolor', jQuery('#iArt_userColor').val(), jQuery('#iArt_userFontWeight').val(), jQuery('#iArt_userFontStyle').val());\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* Aktuelle Anzeigen anpassen  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').css('color', jQuery('#iArt_userColor').val()).css('font-weight', jQuery('#iArt_userFontWeight').val()).css('font-style', jQuery('#iArt_userFontStyle').val()).focus();\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Pfeile f\u00fcr PrivatChat Tabs  */\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t\t/* Pfeile ein- / ausblenden  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scroll(function(){\n\t\t\t\t\t\t\tiArt_showTabArrows();\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t/* Mouseover/leave pfeil links  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('#iArt_panelLeft').mouseenter(function(){\n\t\t\t\t\t\t\tprivatTabScollTimeout = window.setInterval(iArt_privMessTabsScrollToLeft, 10);\n\t\t\t\t\t\t}).mouseleave(function(){\n\t\t\t\t\t\t\twindow.clearInterval(privatTabScollTimeout);\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t/* Mouseover/leave pfeil links  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('#iArt_panelRight').mouseenter(function(){\n\t\t\t\t\t\t\tprivatTabScollTimeout = window.setInterval(iArt_privMessTabsScrollToRight, 10);\n\t\t\t\t\t\t}).mouseleave(function(){\n\t\t\t\t\t\t\twindow.clearInterval(privatTabScollTimeout);\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Button f\u00fcr Chatsounds  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery('#iArt_toggleChatSounds').click(function(){\n\t\t\t\t\t\tif(!soundsmooving){\n\t\t\t\t\t\t\tif(jQuery(this).hasClass('active')){\n\t\t\t\t\t\t\t\tjQuery(this).removeClass('active');\n\t\t\t\t\t\t\t\tsoundsDisabled=false;\n\t\t\t\t\t\t\t\tsoundsmooving=true;\n\t\t\t\t\t\t\t\tjQuery('.iArt_toggleSoundBubble').html('Benachrichtigungen aktiviert').stop(true, false).animate({opacity:'toggle', right:'22px'}, 300, function(){\n\t\t\t\t\t\t\t\t\tjQuery('.iArt_toggleSoundBubble').animate({right:'22px'}, 1200, function(){\n\t\t\t\t\t\t\t\t\t\tjQuery('.iArt_toggleSoundBubble').animate({opacity:'toggle', right:'32px'}, 500, function(){\n\t\t\t\t\t\t\t\t\t\t\tsoundsmooving=false;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tjQuery(this).addClass('active');\n\t\t\t\t\t\t\t\tsoundsDisabled=true;\n\t\t\t\t\t\t\t\tsoundsmooving=true;\n\t\t\t\t\t\t\t\tjQuery('.iArt_toggleSoundBubble').html('Benachrichtigungen deaktiviert').stop(true, false).animate({opacity:'toggle', right:'22px'}, 300, function(){\n\t\t\t\t\t\t\t\t\tjQuery('.iArt_toggleSoundBubble').animate({right:'22px'}, 1200, function(){\n\t\t\t\t\t\t\t\t\t\tjQuery('.iArt_toggleSoundBubble').animate({opacity:'toggle', right:'32px'}, 500, function(){\n\t\t\t\t\t\t\t\t\t\t\tsoundsmooving=false;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Smileys in Fenster generieren  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tvar smileyinhalt='';\n\t\t\t\t\tjQuery.each( re_smileys, function( key, value ) {\n\t\t\t\t\t\tif(value == \"Trenner\"){\n\t\t\t\t\t\t\tsmileyinhalt+='<span class=\"iArt_smileyTrennung\"></span>';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tsmileyinhalt+='<span class=\"iArt_smileyEntry\" data-short=\"'+key+'\">'+value+'</span>';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tsmileyinhalt+='<div class=\"iArt_bothClear\"></div>';\n\t\t\t\t\tjQuery('#iArt_smileyInnerCont').html(smileyinhalt);\n\n\t\t\t\t\tiArt_addSmileyClickfunction();\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* SmileyFenster \u00f6ffnen / schlie\u00dfen  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery('#iArt_chatFunctionSmileys, #iArt_smileyWinCloser').click(function(){\n\t\t\t\t\t\tiArt_toggleSmileyWin();\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Buttons Formular Musikwunsch \u00f6ffen/schlie\u00dfen  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery('#iArt_wunschboxBTN, #iArt_wunschFormCloser').click(function(){\n\t\t\t\t\t\tiArt_toggleWhishForm();\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Buttons Wunschbox \u00f6ffnen/schlie\u00dfen  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery('#iArt_wunschAusgabeCloser').click(function(){\n\t\t\t\t\t\tiArt_toggleWhishList();\n\t\t\t\t\t});\n\n\t\t\t\t\tjQuery('#iArt_wunschboxTopBtn', parent.document).click(function(){\n\t\t\t\t\t\tif(isteiner==\"1\"){\n\t\t\t\t\t\t\tif(wunschzaehler>0){\n\t\t\t\t\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){\n\t\t\t\t\t\t\t\t\tjQuery(this).addClass(\"alerted\");\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tjQuery(this).removeClass(\"alerted\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tjQuery(this).removeClass(\"alerted\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tiArt_toggleWhishList();\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Formular Musikwunsch absenden  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery('#iArt_musikWunschForm').submit(function(event){\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tif(connected){\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').stop(true, false).fadeIn();\n\n\t\t\t\t\t\t\tif(wunschlimit >= 1){\n\t\t\t\t\t\t\t\tif(iArt_CheckWunschForm()){\n\t\t\t\t\t\t\t\t\twunschzaehler=0;\n\t\t\t\t\t\t\t\t\tjQuery('.iArt_musikwunschItem').each(function(){\n\t\t\t\t\t\t\t\t\t\tif(jQuery(this).find('.iArt_musikwunschItemUser').html()==jQuery('#iArt_userNameBackup').val())\n\t\t\t\t\t\t\t\t\t\twunschzaehler++\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif(wunschzaehler<wunschlimit){\n\t\t\t\t\t\t\t\t\t\tvar bandname= iArt_ChangeMarkup(jQuery('#iArt_whish_Artist').val(), false);\n\t\t\t\t\t\t\t\t\t\tvar songname= iArt_ChangeMarkup(jQuery('#iArt_whish_Titel').val(), false);\n\t\t\t\t\t\t\t\t\t\tvar greeting= iArt_ChangeMarkup(jQuery('#iArt_whishGreet').val(), false);\n\t\t\t\t\t\t\t\t\t\tsocket.emit('neuerWunsch', bandname, songname, greeting);\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').stop(true, false).fadeOut();\n\t\t\t\t\t\t\t\t\t\tiArt_toggleWhishForm();\n\t\t\t\t\t\t\t\t\t\tiArt_bestaetigeWunsch();\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_whish_Artist, #iArt_whish_Titel, #iArt_whishGreet').val('');\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t \tjQuery('#iArt_wunschboxBlocker').html('Wunschlimit erreicht.<br />Bitte warte bis einer deiner W\u00fcnsche abgearbeitet wurde.');\n\t\t\t\t\t\t\t\t\t\tiArt_fadeOutWunschboxBlocker();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').html('Die Wunschbox ist zur Zeit geschlossen.');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Wunschlimit \u00fcbernehmen  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('Wunschlimit', function (daslimit) {\n\t\t\t\t\t\tif(daslimit<=0){\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').html('Die Wunschbox ist zur Zeit geschlossen.').fadeIn();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').html('').fadeOut();\n\t\t\t\t\t\t}\n\t\t\t\t\t\twunschlimit = daslimit;\n\t\t\t\t\t\tjQuery('#iArt_zeigWunschlimit').html(wunschlimit);\n\t\t\t\t\t\tjQuery('#iArt_wunschlimitImAdmin').text(wunschlimit);\n\t\t\t\t\t\tif(jQuery('#iArt_wunschlimitSetter').hasClass('active')){iArt_toggleWunschLimitAdmin();}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Wunschliste generieren und ausgeben  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('Wunschliste', function (dieWunschliste) {\n\t\t\t\t\t\tvar dieNeueWunschListe =\"\";\n\t\t\t\t\t\twunschzaehler =0;\n\t\t\t\t\t\tfor(var key in dieWunschliste) {\n\t\t\t\t\t\t\twunschzaehler++;\n\t\t\t\t\t\t\tif(isteiner==\"1\"){\n\t\t\t\t\t\t\t\tdieNeueWunschListe+='<div data-id=\"'+dieWunschliste[key].id+'\" data-status=\"'+dieWunschliste[key].wstatus+'\" class=\"iArt_musikwunschItem admin status_'+dieWunschliste[key].wstatus+'\">';\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tdieNeueWunschListe+='<div data-id=\"'+dieWunschliste[key].id+'\" data-status=\"'+dieWunschliste[key].wstatus+'\" class=\"iArt_musikwunschItem status_'+dieWunschliste[key].wstatus+'\">';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdieNeueWunschListe+='<div class=\"iArt_musikwunschItemUser\">'+dieWunschliste[key].user+'</div>';\n\t\t\t\t\t\t\t\tdieNeueWunschListe+='<div class=\"iArt_musikwunschItemBand\">'+dieWunschliste[key].band+'</div>';\n\t\t\t\t\t\t\t\tdieNeueWunschListe+='<div class=\"iArt_musikwunschItemSong\">'+dieWunschliste[key].song+'</div>';\n\t\t\t\t\t\t\t\tif(isteiner==\"1\"){dieNeueWunschListe+='<div class=\"iArt_musikwunschItemGreet\">'+dieWunschliste[key].greet+'</div>';}\n\n\t\t\t\t\t\t\tdieNeueWunschListe+='</div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdieNeueWunschListe+='<div class=\"iArt_bothClear\"></div>';\n\t\t\t\t\t\tjQuery('#iArt_wunschboxAusgabeInner').html(dieNeueWunschListe);\n\n\t\t\t\t\t\tif(wunschzaehler>0){jQuery('#iArt_blockOnEmtyBox').hide();}else{jQuery('#iArt_blockOnEmtyBox').show();}\n\n\t\t\t\t\t\tif(isteiner==\"1\"){\n\t\t\t\t\t\t\tjQuery('.iArt_musikwunschItem').each(function(){\n\t\t\t\t\t\t\t\tjQuery(this).click(function(){\n\t\t\t\t\t\t\t\t\tvar dieWunschID = jQuery(this).attr('data-id');\n\t\t\t\t\t\t\t\t\tvar derWunschStatus = jQuery(this).attr('data-status');\n\t\t\t\t\t\t\t\t\tvar derWuenscher = jQuery(this).find('.iArt_musikwunschItemUser').text();\n\t\t\t\t\t\t\t\t\tvar dieBAnd = jQuery(this).find('.iArt_musikwunschItemBand').text();\n\t\t\t\t\t\t\t\t\tvar derSong = jQuery(this).find('.iArt_musikwunschItemSong').text();\n\t\t\t\t\t\t\t\t\tvar derGruss = jQuery(this).find('.iArt_musikwunschItemGreet').text();\n\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_WuenscherInBox').text(derWuenscher);\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBearbID').text(dieWunschID);\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBandArea').find('.iArt_wunschboxBearbValue').text(dieBAnd);\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxSongArea').find('.iArt_wunschboxBearbValue').text(derSong);\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxGreetArea').find('.iArt_wunschboxBearbValue').text(derGruss);\n\n\t\t\t\t\t\t\t\t\tiArt_toggleWhishListItem();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif(wunschzaehler>0){\n\t\t\t\t\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxTopBtn', parent.document).removeClass(\"alerted\");\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxTopBtn', parent.document).addClass(\"alerted\");\n\t\t\t\t\t\t\t\t\tjQuery('.iArt_wishesAlert', parent.document).each(function(){\n\t\t\t\t\t\t\t\t\t\tjQuery(this).html('('+wunschzaehler+')');\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxTopBtn', parent.document).removeClass(\"alerted\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Admin-Panel f\u00fcr Wunschbox generieren */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tfunction iArt_buildUpWhishAdmin(){\n\t\t\t\t\t\tvar adminbereich=\"\";\n\t\t\t\t\t\tadminbereich+='<div id=\"iArt_WunschboxLimit\">';\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschlimitImAdmin\">0</div>';\n\t\t\t\t\t\t\tadminbereich+='<form id=\"iArt_wunschlimitSetter\" action=\"#nix\">';\n\t\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschlimitRunter\"><div class=\"highlight\"></div></div>';\n\t\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschlimitHoch\"><div class=\"highlight\"></div></div>';\n\t\t\t\t\t\t\t\tadminbereich+='<input type=\"submit\" id=\"iArt_wunschlimitSubmit\" value=\"\" />';\n\t\t\t\t\t\t\tadminbereich+=\"</form>\";\n\t\t\t\t\t\tadminbereich+=\"</div>\";\n\t\t\t\t\t\tadminbereich+='<div id=\"iArt_WunschBearbeitung\">';\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschboxBearbeitenHead\">Musikwunsch von: <span id=\"iArt_WuenscherInBox\">Bla</span><div id=\"iArt_wunschBearbeitenCloser\">x</div></div>';\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschboxBandArea\">Band:<span class=\"iArt_wunschboxBearbValue\"></span></div>';\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschboxSongArea\">Song:<span class=\"iArt_wunschboxBearbValue\"></span></div>';\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschboxGreetArea\">Gru&szlig;:<div id=\"iArt_wunschboxBearbgreetContainer\"><span class=\"iArt_wunschboxBearbValue\"></span></div></div>';\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschboxBearbButtonArea\">';\n\t\t\t\t\t\t\t\tadminbereich+='<div class=\"iArt_WunschBearbBtn\" id=\"iArt_wunschboxButtonInList\">In der Liste</div>';\n\t\t\t\t\t\t\t\tadminbereich+='<div class=\"iArt_WunschBearbBtn\" id=\"iArt_wunschboxButtonNotThere\">Hab ich nicht</div>';\n\t\t\t\t\t\t\t\tadminbereich+='<div class=\"iArt_WunschBearbBtn\" id=\"iArt_wunschboxButtonErledigt\">Erledigt -></div>';\n\t\t\t\t\t\t\tadminbereich+=\"</div>\";\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschboxBearbID\"></div>';\n\t\t\t\t\t\tadminbereich+=\"</div>\";\n\n\t\t\t\t\t\tadminbereich+='<form action=\"nix\" class=\"iArt_wunschbearbeiter\" id=\"iArt_wunschstatus_1\"><input type=\"hidden\" class=\"iArt_wunschStatus\" value=\"1\" /></form>';\n\t\t\t\t\t\tadminbereich+='<form action=\"nix\" class=\"iArt_wunschbearbeiter\" id=\"iArt_wunschstatus_2\"><input type=\"hidden\" class=\"iArt_wunschStatus\" value=\"2\" /></form>';\n\t\t\t\t\t\tadminbereich+='<form action=\"nix\" class=\"iArt_wunschbearbeiter\" id=\"iArt_wunschKiller\"></form>';\n\t\t\t\t\t\tjQuery('#iArt_wunschboxAusgabeHead').prepend(adminbereich);\n\n\t\t\t\t\t\tjQuery('#iArt_wunschlimitImAdmin').click(function(){\n\t\t\t\t\t\t\tiArt_toggleWunschLimitAdmin();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tjQuery('#iArt_wunschlimitRunter').click(function(){\n\t\t\t\t\t\t\tif((((jQuery('#iArt_wunschlimitImAdmin').text())*100)/100) > 0){\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschlimitImAdmin').text(((((jQuery('#iArt_wunschlimitImAdmin').text())*100)/100)-1));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tjQuery('#iArt_wunschlimitHoch').click(function(){\n\t\t\t\t\t\t\tif((((jQuery('#iArt_wunschlimitImAdmin').text())*100)/100) < 10){\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschlimitImAdmin').text(((((jQuery('#iArt_wunschlimitImAdmin').text())*100)/100)+1));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsocket.emit('getWunschLimit');\n\n\n\t\t\t\t\t\t/* Wunschlimit \u00e4ndern  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_wunschlimitSetter').submit(function(event){\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tif(connected){\n\t\t\t\t\t\t\t\t\tvar dasneueLimit = (((jQuery('#iArt_wunschlimitImAdmin').text())*100)/100);\n\t\t\t\t\t\t\t\t\tsocket.emit('neuesWunschlimit', dasneueLimit);\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Button Wunsch \u00f6ffnen/schlie\u00dfen (nur Admin)  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_wunschBearbeitenCloser').click(function(){\n\t\t\t\t\t\t\t\tiArt_toggleWhishListItem();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Formulare Wunsch beabeiten   */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_wunschstatus_1, #iArt_wunschstatus_2').submit(function(event){\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tvar wunschId= jQuery('#iArt_wunschboxBearbID').text();\n\t\t\t\t\t\t\t\tvar wunschstatus= jQuery(this).find('.iArt_wunschStatus').val();\n\t\t\t\t\t\t\t\tsocket.emit('statuswechsel', wunschId, wunschstatus);\n\t\t\t\t\t\t\t\tiArt_toggleWhishListItem();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tjQuery('#iArt_wunschKiller').submit(function(event){\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tvar wunschId= jQuery('#iArt_wunschboxBearbID').text();\n\t\t\t\t\t\t\t\tsocket.emit('wunschFertig', wunschId);\n\t\t\t\t\t\t\t\tiArt_toggleWhishListItem();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Klick-Funktionen der Bearbeitungs-Buttons  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxButtonInList').click(function(){\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschstatus_1').submit();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxButtonNotThere').click(function(){\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschstatus_2').submit();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxButtonErledigt').click(function(){\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschKiller').submit();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t}\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Userliste checken  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tfunction iArt_checkUserSession(){\n\t\t\t\t\t\tsocket.emit('WerBinIch');\n\t\t\t\t\t\twindow.setTimeout(function(){iArt_checkUserSession();}, 6000);\n\t\t\t\t\t}\n\n\t\t\t\t\tsocket.on('werBinIch', function (derName) {\n\t\t\t\t\t\tjQuery('#iArt_userNameBackup').val(derName);\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t});\n      \t/* ############################################################################################################ */\n\n\n\n/* ############################################################################################################ */\n/* ############################################################################################################ */\n/* ############################################################################################################ */\n\n\n\n      \t/* Strings umbauen  */\n      \t/* ############################################################################################################ */\n\t      \tfunction iArt_ChangeMarkup(input, withSmile) {\n\n\t      \t\t/* Javascripte komplett entfernen  */\n\t      \t\t/* ============================================================================================  */\n\t      \t\t\tstr = input.replace(/<script[^>]*>.*?<\\/script>/g,'');\n\t      \t\t/* ============================================================================================  */\n\n\t      \t\t/* HTML-Markup entfernen  */\n\t      \t\t/* ============================================================================================  */\n\t\t      \t\tvar html_killed = str.replace(/<[^!](?:[^>\"']|\"[^\"]*\"|'[^\"]*')*>|<!--.*?-->/g,' ')\n\t\t\t           .replace(/ +/g, ' ')\n\t\t\t           .replace(/^\\s+/g, '')\n\t\t\t           .replace(/\\s+$/g, '');\n\t\t        /* ============================================================================================  */\n\n\t\t        /* Smileys einf\u00fcgen (Nur bei Chatnachrichten)  */\n\t\t        /* ============================================================================================  */\n\t\t\t        if(withSmile){\n\t\t\t\t        jQuery.each( re_smileys, function( key, value ) {\n\t\t\t\t        \tvar chucked = html_killed.split(key);\n\t\t\t\t        \thtml_killed = chucked.join(value);\n\t\t\t\t\t\t});\n\t\t\t        }\n\t\t        /* ============================================================================================  */\n\n\t\t\t\t/* Doppelte, f\u00fchrende oder folgende Leerzeichen entfernen und string ausgeben  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\thtml_killed.trim()\n\t\t\t    \treturn html_killed;\n\t\t    \t/* ============================================================================================  */\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\n\t\t/* URL-Partameter auslesen und als Array zur\u00fcck werfen  */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction get_url_param( name ){\n\t\t\t\tname = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n\n\t\t\t\tvar regexS = \"[\\\\?&]\"+name+\"=([^&#]*)\";\n\t\t\t\tvar regex = new RegExp( regexS );\n\t\t\t\tvar results = regex.exec( window.location.href );\n\n\t\t\t\tif ( results == null )\n\t\t\t\t\treturn \"\";\n\t\t\t\telse\n\t\t\t\t\treturn results[1];\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\n\t\t/* Chatfenster bei Gr\u00f6\u00dfenver\u00e4nderungen an Fenstergr\u00f6\u00dfe anpassen */\n\t\t/* ############################################################################################################ */\n\t\t\tjQuery(window).resize(function() {\n\t\t\t\tjQuery('#iArt_chatmessageContainer, #reChatUsers').css('height', (jQuery(window).innerHeight()-70)+'px');\n\t\t\t\tjQuery('#iArt_userListContainer, #iArt_smileyInnerCont').css('height', ((jQuery(window).innerHeight()-70)-37)+'px');\n\t\t\t\tjQuery('#iArt_chatMessageContMainChat').scrollTop(jQuery('#messages').outerHeight());\n\t\t\t });\n\t\t/* ############################################################################################################ */\n\n\n\t\t/* Tabs und Chatfenster (Privatchats) */\n\t\t/* ############################################################################################################ */\n\n\t\t\t/* Active-Klasse von allen Tabs entfernen  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_removeActivClassOnTabs(){\n\t\t\t\t\tjQuery('#iArt_privMessTabPanel').find('.iArt_ChatTab').each(function(){\n\t\t\t\t\t\tjQuery(this).removeClass('active');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\t\t\t/* Chatfenster wechseln  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_changChatWindow(dendazeigen, user){\n\t\t\t\t\tif(dendazeigen == \"iArt_chatMessageContMainChat\"){\n\t\t\t\t\t\tprivateChatting=false;\n\t\t\t\t\t\tprivateChattingWith='';\n\t\t\t\t\t}else{\n\t\t\t\t\t\tprivateChatting=true;\n\t\t\t\t\t\tprivateChattingWith=user;\n\t\t\t\t\t}\n\t\t\t\t\tjQuery('.iArt_chatWindowContainer').hide();\n\t\t\t\t\tjQuery('#'+dendazeigen).show();\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\n\t\t\t/* Klick-Funktionen f\u00fcr Tabs und Tab-Closer zuteilen  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_provTabsClickfunctions(){\n\t\t\t\t\tjQuery('.iArt_ChatTab').each(function(){\n\n\t\t\t\t\t\t/* Klick auf Tab (Chat wechseln)  */\n\t\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\t\t\tjQuery(this).unbind().click(function(){\n\t\t\t\t\t\t\t\tif(jQuery(this).hasClass('active')){}else{\n\t\t\t\t\t\t\t\t\tiArt_removeActivClassOnTabs();\n\t\t\t\t\t\t\t\t\tjQuery(this).addClass('active');\n\t\t\t\t\t\t\t\t\tjQuery(this).removeClass('alert');\n\t\t\t\t\t\t\t\t\tjQuery(this).find('.iArt_messageCount').html('0');\n\t\t\t\t\t\t\t\t\tiArt_changChatWindow(jQuery(this).attr('data-target'), jQuery(this).attr('data-user'));\n\t\t\t\t\t\t\t\t\tiArt_scrollTabPanel();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\t});\n\n\t\t\t\t\t/* Klick auf Tab-Schlie\u00dfen-Knopf (Tab l\u00f6schen und Chat ausblenden)  */\n\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\t\tjQuery('.iArt_chatTabClose').each(function(){\n\t\t\t\t\t\t\tjQuery(this).unbind().click(function(){\n\n\t\t\t\t\t\t\t\tif(jQuery(this).parent().hasClass('active')){\n\t\t\t\t\t\t\t\t\tiArt_removeActivClassOnTabs();\n\t\t\t\t\t\t\t\t\tjQuery(this).parent().prev('.iArt_ChatTab').addClass('active');\n\t\t\t\t\t\t\t\t\tiArt_changChatWindow(jQuery(this).parent().prev('.iArt_ChatTab').attr('data-target'), jQuery(this).parent().prev('.iArt_ChatTab').attr('data-user'));\n\t\t\t\t\t\t\t\t\tiArt_scrollTabPanel();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tjQuery(this).parent().remove();\n\t\t\t\t\t\t\t\tiArt_scrollTabPanel();\n\t\t\t\t\t\t\t\tiArt_CheckingTabBar();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\t\t\t/* Tab-Leiste f\u00fcr Privatchat ein- / ausblenden  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_CheckingTabBar(){\n\t\t\t\t\tvar wieviele = 0;\n\t\t\t\t\tjQuery('.iArt_ChatTab').each(function(){\n\t\t\t\t\t\twieviele++;\n\t\t\t\t\t});\n\n\t\t\t\t\tif(wieviele > 1){\n\t\t\t\t\t\tif(!privateTabPanelOpen){\n\t\t\t\t\t\t\tprivateTabPanelOpen=true;\n\t\t\t\t\t\t\tjQuery('#iArt_chatMessageContMainChat').animate({top:'30px'}, 150);\n\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').animate({height:'toggle'}, 150);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(privateTabPanelOpen){\n\t\t\t\t\t\t\tprivateTabPanelOpen=false;\n\t\t\t\t\t\t\tjQuery('#iArt_chatMessageContMainChat').animate({top:'0px'}, 150);\n\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').animate({height:'toggle'}, 150);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\t\t\t/* Tabs auf richtige Position scrollen wenn ein neuer auf aktiv gesetzt wird  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_scrollTabPanel(){\n\t\t\t\t\tvar positiondesTabs = jQuery('.iArt_ChatTab.active').position();\n\t\t\t\t\tvar breiteAllertabs = iArtBreiteAllerTabs();\n\t\t\t\t\tvar breiteBisZumAktivenTab = iArtBreiteBisAktiverTab();\n\n\t\t\t\t\tif(breiteAllertabs > jQuery('#iArt_privMessTabPanelContainer').innerWidth()){\n\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft((breiteBisZumAktivenTab - jQuery('#iArt_privMessTabPanelContainer').innerWidth()));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft(0);\n\t\t\t\t\t\tjQuery('#iArt_panelLeft, #iArt_panelRight').fadeOut('fast');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\n\t\t\t/* Tabs nach links scrollen  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_privMessTabsScrollToLeft(){\n\t\t\t\t\tvar theLeftscroll = jQuery('#iArt_privMessTabPanelContainer').scrollLeft();\n\t\t\t\t\tif(theLeftscroll > 0){\n\t\t\t\t\t\tif(theLeftscroll > 2){\n\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft((theLeftscroll-2));\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft(0);\n\t\t\t\t\t\t\twindow.clearInterval(privatTabScollTimeout);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\twindow.clearInterval(privatTabScollTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\t\t\t/* Tabs nach rechts scrollen  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_privMessTabsScrollToRight(){\n\t\t\t\t\tvar breiteAllertabs = iArtBreiteAllerTabs();\n\n\t\t\t\t\tif(breiteAllertabs > jQuery('#iArt_privMessTabPanelContainer').innerWidth()){\n\t\t\t\t\t\tvar dieDifferenz =(breiteAllertabs - jQuery('#iArt_privMessTabPanelContainer').innerWidth());\n\t\t\t\t\t\tvar theLeftscroll = jQuery('#iArt_privMessTabPanelContainer').scrollLeft();\n\t\t\t\t\t\tvar nochZuScrollen = (dieDifferenz-theLeftscroll)\n\n\n\t\t\t\t\t\tif(nochZuScrollen > 0){\n\t\t\t\t\t\t\tif(nochZuScrollen > 2){\n\t\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft((theLeftscroll+2));\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft(dieDifferenz);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft(dieDifferenz);\n\t\t\t\t\t\t\twindow.clearInterval(privatTabScollTimeout);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft(dieDifferenz);\n\t\t\t\t\t\twindow.clearInterval(privatTabScollTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\t\t\t/* Pfeile ein/Ausblenden  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_showTabArrows(){\n\n\t\t\t\t\t/* Pfeil Links  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tif(jQuery('#iArt_privMessTabPanelContainer').scrollLeft() > 0){\n\t\t\t\t\t\t\tif(jQuery('#iArt_panelLeft').is(':hidden')){\n\t\t\t\t\t\t\t\tjQuery('#iArt_panelLeft').stop(true, false).animate({opacity:'toggle'}, 200);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(jQuery('#iArt_panelLeft').is(':visible')){\n\t\t\t\t\t\t\t\tjQuery('#iArt_panelLeft').stop(true, false).animate({opacity:'toggle'}, 200);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t/* Pfeil rechts  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tvar breiteAllertabs = iArtBreiteAllerTabs();\n\n\t\t\t\t\t\tif((breiteAllertabs - jQuery('#iArt_privMessTabPanelContainer').scrollLeft()) > jQuery('#iArt_privMessTabPanelContainer').innerWidth()){\n\t\t\t\t\t\t\tif(jQuery('#iArt_panelRight').is(':hidden')){\n\t\t\t\t\t\t\t\tjQuery('#iArt_panelRight').stop(true, false).animate({opacity:'toggle'}, 400);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(jQuery('#iArt_panelRight').is(':visible')){\n\t\t\t\t\t\t\t\tjQuery('#iArt_panelRight').stop(true, false).animate({opacity:'toggle'}, 400);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\n\t\t\t/* Ermittlung der Breite der Chattabs  */\n\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Breite aller Chat-Tabs  */\n\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\tfunction iArtBreiteAllerTabs(){\n\t\t\t\t\t\tvar breiteDerTabs=0;\n\t\t\t\t\t\tjQuery('.iArt_ChatTab').each(function(){\n\t\t\t\t\t\t\tbreiteDerTabs += (jQuery(this).innerWidth()+1);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn breiteDerTabs;\n\t\t\t\t\t}\n\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t/* Breite inkl. aktiver Chat-Tab  */\n\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\tfunction iArtBreiteBisAktiverTab(){\n\t\t\t\t\t\tvar breiteDerTabs=0;\n\t\t\t\t\t\tvar aktivwarnochnicht = 0\n\t\t\t\t\t\tjQuery('.iArt_ChatTab').each(function(){\n\t\t\t\t\t\t\tif(jQuery(this).hasClass('active')){\n\t\t\t\t\t\t\t\tbreiteDerTabs += (jQuery(this).innerWidth()+1);\n\t\t\t\t\t\t\t\taktivwarnochnicht = 1;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tif(aktivwarnochnicht == 0){\n\t\t\t\t\t\t\t\t\tbreiteDerTabs += (jQuery(this).innerWidth()+1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn breiteDerTabs;\n\t\t\t\t\t}\n\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t/* ============================================================================================  */\n\n\n\t\t\t/* Ermitteln ob zu erstellender Tab schon existiert  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_checkIfTabExist(mitwem){\n\t\t\t\t\tvar dermussnoch = true;\n\t\t\t\t\tjQuery('#iArt_privMessTabPanel').find('.iArt_ChatTab').each(function(){\n\t\t\t\t\t\tif(jQuery(this).attr('data-user')== mitwem){\n\t\t\t\t\t\t\tdermussnoch = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn dermussnoch;\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\n\t\t\t/* Ermitteln ob bereits erstellter Tab aktiv ist  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_checkIfexistinTabisActive(mitwem){\n\t\t\t\t\tvar derissSchon = false;\n\t\t\t\t\tjQuery('#iArt_privMessTabPanel').find('.iArt_ChatTab').each(function(){\n\t\t\t\t\t\tif(jQuery(this).attr('data-user')== mitwem){\n\t\t\t\t\t\t\tif(jQuery(this).hasClass('active')){\n\t\t\t\t\t\t\t\tderissSchon = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn derissSchon;\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\n\t\t\t/* Ermitteln ob zu erstellendes Chatfenster bereits existiert  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_checkIfChatWindowExist(mitdemda){\n\t\t\t\t\tvar denMussMannNoch = true;\n\t\t\t\t\tjQuery('#iArt_chatmessageContainer').find('.iArt_chatWindowContainer').each(function(){\n\t\t\t\t\t\tif(jQuery(this).attr('id')== 'iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')){\n\t\t\t\t\t\t\tdenMussMannNoch = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn denMussMannNoch;\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\t\t/* ############################################################################################################ */\n\n\n\t\t/* Klick-Funktions f\u00fcr Trigger in den Panels der Benutzerliste */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_userPanelClickFunctions(){\n\n\t\t\t\t/* Userpanel \u00f6ffnen/schlie\u00dfen  */\n\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\tjQuery('.iArt_userItemImgCont').each(function(){\n\t\t\t\t\t\tjQuery(this).click(function(){\n\t\t\t\t\t\t\tif(jQuery(this).hasClass('inactive')){}else{\n\t\t\t\t\t\t\t\t/* Es ist nicht der eigene User  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tif(jQuery(this).hasClass('active')){}else{\n\t\t\t\t\t\t\t\t\t\t/* Das Panel ist nicht bereits offen  */\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\tjQuery(this).addClass('active');\n\t\t\t\t\t\t\t\t\t\t\tvar deruserDa = jQuery(this).attr('data-user');\n\n\t\t\t\t\t\t\t\t\t\t\tif(jQuery(this).hasClass('admin')){\n\t\t\t\t\t\t\t\t\t\t\t\t/* Admin-Panel  */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar dieIpDa = jQuery(this).attr('data-ip');\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_usersIPlink').attr('href', 'https://db-ip.com/'+dieIpDa);\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_ipShow').html(dieIpDa);\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_userpanelAdmin').find('.iArt_userpanelBox').find('.iArt_userPanelTrigger').each(function(){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery(this).attr('data-user', deruserDa);\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_userpanelAdmin').find('.iArt_userpanelBox').stop(true, false).hide().css('top', (jQuery(this).position().top -13)+'px').animate({opacity:'toggle', right:'188px'}, {duration:200});\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t/* Nur Privatchat  */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_userpanel').find('.iArt_userpanelBox').find('.iArt_userPanelTrigger').each(function(){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery(this).attr('data-user', deruserDa);\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_userpanel').find('.iArt_userpanelBox').stop(true, false).hide().css('top', (jQuery(this).position().top -5)+'px').animate({opacity:'toggle', right:'188px'}, {duration:200});\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tjQuery('.iArt_userpanelBox').unbind().mouseleave(function(){\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery('.iArt_userItemImgCont').each(function(){\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery(this).removeClass('active');\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery(this).stop(true, false).animate({opacity:'toggle', right:'198px'}, {duration:250});\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tjQuery('#iArt_userListContainerInner').unbind().scroll(function(){\n\t\t\t\t\t\t\tjQuery('.iArt_userItemImgCont').each(function(){\n\t\t\t\t\t\t\t\tjQuery(this).removeClass('active');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tjQuery('#iArt_userpanelAdmin .iArt_userpanelBox, #iArt_userpanel .iArt_userpanelBox').stop(true, false).hide().css('right', '198px');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t/* -------------------------------------------------------------  */\n\n\n\t\t\t\tjQuery('.iArt_userPanelTrigger').each(function(){\n\t\t\t\t\tjQuery(this).click(function(){\n\t\t\t\t\t\tjQuery('.iArt_userpanelBox:visible').mouseleave().unbind();\n\n\t\t\t\t\t\tif(jQuery(this).attr('data-job') == \"KickUser\"){\n\n\t\t\t\t\t\t\t/* User Kicken  */\n\t\t\t\t\t\t\t/* ===========================================================================================================  */\n\t\t\t\t\t\t\t\tvar dendakicken =  jQuery(this).attr('data-user');\n\t\t\t\t\t\t\t\tvar sicher = confirm(\"Benutzer \"+dendakicken+\" wirklich kicken?\");\n\t\t\t\t\t\t\t\tif (sicher == true){socket.emit('KickUser', dendakicken);}\n\t\t\t\t\t\t\t/* ===========================================================================================================  */\n\n\t\t\t\t\t\t}else if(jQuery(this).attr('data-job') == \"PrivChat\"){\n\n\t\t\t\t\t\t\t/* Privatchat Beginnen  */\n\t\t\t\t\t\t\t/* ===========================================================================================================  */\n\t\t\t\t\t\t\t\tvar mitdemda= jQuery(this).attr('data-user');\n\t\t\t\t\t\t\t\tvar neuerstellung = iArt_checkIfTabExist(mitdemda);\n\n\t\t\t\t\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){\n\t\t\t\t\t\t\t\t\tiArt_toggleWhishList();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* Check ob Tab / Chat bereits besteht */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\tif(neuerstellung){\n\t\t\t\t\t\t\t\t\t\t/* Tab muss neu erstellt werden  */\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\tiArt_removeActivClassOnTabs();\n\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanel').append('<div class=\"iArt_ChatTab active\" data-user=\"'+mitdemda+'\" id=\"iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')+'\" data-target=\"iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')+'\">'+mitdemda+'<span class=\"iArt_howManyMessages\"> (<span class=\"iArt_messageCount\">0</span>)</span> <div class=\"iArt_chatTabClose\">x</div></div>');\n\n\t\t\t\t\t\t\t\t\t\t\t/* Check ob Chatfenster neu erstellt werden muss und wenn n\u00f6tig erstellen  */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\tvar neuerprivchat = iArt_checkIfChatWindowExist(mitdemda);\n\t\t\t\t\t\t\t\t\t\t\t\tif(neuerprivchat){\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_chatmessageContainer').append('<div class=\"iArt_chatWindowContainer\" id=\"iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')+'\"><div class=\"messages\"><div class=\"iArtChatMessageItem reChatInfo\">Neuer Privatchat mit '+mitdemda+'</div></div>');\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t\t\t/* Das Chatfenster in den Vordergrund bringen  */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\tiArt_changChatWindow('iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-'), mitdemda);\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t\t\t/* Klick Funktionen der Tabs (neu) setzten  */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\tiArt_provTabsClickfunctions();\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t/* Es gibt bereits einen Tab f\u00fcr diesen Benutzer  */\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\tvar chatistaktiv = iArt_checkIfexistinTabisActive(mitdemda);\n\t\t\t\t\t\t\t\t\t\t\tif(chatistaktiv){\n\t\t\t\t\t\t\t\t\t\t\t\t/* Der Tab ist bereits aktiv (klick ignorieren) */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t/* Der Tab ist nicht aktiv (Springen zu diesem Chat ) */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\tiArt_removeActivClassOnTabs();\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).addClass('active');\n\t\t\t\t\t\t\t\t\t\t\t\t\tiArt_changChatWindow('iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-'), mitdemda);\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\n\n\t\t\t\t\t\t\t\t/* Tab-Panel \u00f6ffnen falls geschlossen  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tiArt_CheckingTabBar();\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* Tabs-Panel auf Aktiven Chat ausrichten  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tiArt_scrollTabPanel();\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t/* ===========================================================================================================  */\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\n\t\t/* Nachrichten-Ton abspielen */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_PlayMessageSound(){\n\t\t\t\tif(!soundsDisabled){\n\t\t\t\t\tdocument.getElementById('messagePiep').load();\n\t\t\t\t\tdocument.getElementById('messagePiep').play();\n\t\t\t\t}\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\n\t\t/* Admin-Session \u00fcberpr\u00fcfen inkl. Keep Alive */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_checkingREAdminSession(){\n\t\t\t\tjQuery('#iArt_usersessionCheck').attr('src','');\n\t\t\t\tjQuery('#iArt_usersessionCheck').attr('src','http://radio-emergency.de/includes/checkadmin_json.php');\n\n\t\t\t\tjQuery('#iArt_usersessionCheck').unbind().load(function(){\n\t\t\t\t\tvar istWirklichderAdmin = jQuery('#iArt_usersessionCheck').contents().find('#iArt_sessionUser').html();\n\t\t\t\t\tif(istWirklichderAdmin != \"null\" && istWirklichderAdmin != \"\"){\n\t\t\t\t\t\t/* Admin-Session Vorhanden -> Admin-Status erneuern  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_userNameBackup').val(istWirklichderAdmin);\n\t\t\t\t\t\t\tisteiner=1;\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t}else{\n\t\t\t\t\t\t/* Keine Admin-Session  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('body').html('<div style=\"color: #027A82; font-weight:bold; text-align:center; padding-top:40px; font-size: 18px;line-height: 23px;-webkit-font-smoothing: antialiased;\">Deine Admin-Session wurde beendet!<br />Bittel logge Dich erneut im RE-Admin ein und lade im Anschluss dieses Fenster neu.</div>');\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar nextcheck = window.setTimeout(iArt_checkingREAdminSession, 300000);\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Smiley-Fenster ein/Ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_toggleSmileyWin(){\n\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){\n\t\t\t\t\tjQuery('#iArt_smileyWin').removeClass('active');\n\t\t\t\t\tjQuery('#iArt_smileyWin').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 500, function(){\n\t\t\t\t\t\tjQuery('#iArt_smileyHelpFrame').hide();\n\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){iArt_toggleWhishList();}\n\t\t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){iArt_toggleTextFormating();}\n\t\t\t\t\tjQuery('#iArt_smileyWin').addClass('active');\n\t\t\t\t\tjQuery('#iArt_smileyHelpFrame').show();\n\t\t\t\t\tjQuery('#iArt_smileyWin').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 500);\n\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t\t}\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Klick auf Smileys */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_addSmileyClickfunction(){\n\t\t\t\tjQuery('.iArt_smileyEntry').each(function(){\n\t\t\t\t\tjQuery(this).click(function(){\n\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').val(jQuery('#iArt_chatMessageInput').val()+jQuery(this).attr('data-short')).focus();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Pr\u00fcfung des Musikwunsch-Formulars */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_CheckWunschForm(){\n\n\t\t\t\tif(jQuery('#iArt_whish_Artist').val().length <= 1){\n\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').html('Bitte Interpreten angeben.');\n\t\t\t\t\tQuery('#iArt_whish_Artist').focus();\n\t\t\t\t\tiArt_fadeOutWunschboxBlocker();\n\t\t\t\t\treturn false;\n\t\t\t\t}else if(jQuery('#iArt_whish_Titel').val().length <= 1){\n\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').html('Bitte Titel angeben.');\n\t\t\t\t\tjQuery('#iArt_whish_Titel').focus();\n\t\t\t\t\tiArt_fadeOutWunschboxBlocker();\n\t\t\t\t\treturn false;\n\t\t\t\t}else{\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Blocker im Wunsch-Formular ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_fadeOutWunschboxBlocker(){\n\t\t\t\twindow.setTimeout(function(){\n\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').fadeOut();\n\t\t\t\t}, 1500);\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Wunsch-Formular Ein/Ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_toggleWhishForm(){\n\t\t\t\tif(jQuery('#iArt_wunschboxContainer').hasClass('active')){\n\t\t\t\t\tjQuery('#iArt_wunschboxContainer').removeClass('active').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 300);\n\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t\t}else{\n\t\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){iArt_toggleSmileyWin();}\n\t\t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){iArt_toggleTextFormating();}\n\t\t\t\t\tjQuery('#iArt_wunschboxContainer').addClass('active').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 300, function(){\n\t\t\t\t\t\tjQuery('#iArt_whish_Artist').focus();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Wunschbox Ein/Ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_toggleWhishList(){\n\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){\n\t\t\t\t\tjQuery('#iArt_WunschboxAusgabeContainer').removeClass('active').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 300);\n\t\t\t\t\tif(jQuery('#iArt_WunschBearbeitung').hasClass('active')){\n\t\t\t\t\t\tiArt_toggleWhishListItem();\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){iArt_toggleSmileyWin();}\n\t\t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){iArt_toggleTextFormating();}\n\t\t\t\t\tif(jQuery('#iArt_wunschlimitSetter').hasClass('active')){iArt_toggleWunschLimitAdmin();}\n\t\t\t\t\tjQuery('#iArt_WunschboxAusgabeContainer').addClass('active').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 300);\n\t\t\t\t}\n\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Wunsch \u00f6ffnen/Schlie\u00dfen (Nur Admin) */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_toggleWhishListItem(){\n\t\t\t\t\tif(jQuery('#iArt_WunschBearbeitung').hasClass('active')){\n\t\t\t\t\t\tjQuery('#iArt_WunschBearbeitung').removeClass('active').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 300);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){iArt_toggleSmileyWin();}\n\t\t\t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){iArt_toggleTextFormating();}\n\t\t\t\t\t\tif(jQuery('#iArt_wunschlimitSetter').hasClass('active')){iArt_toggleWunschLimitAdmin();}\n\t\t\t\t\t\tjQuery('#iArt_WunschBearbeitung').addClass('active').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 300);\n\t\t\t\t\t}\n\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Textformatierung Ein/Ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_toggleTextFormating(){\n\t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){\n\t\t\t\t\t/* Textformatierung ist offen  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_colorWin').removeClass('active');\n\t\t\t\t\t\t\tjQuery('#iArt_colorWin').stop(true, false).fadeOut();\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t}else{\n\t\t\t\t\t/* Textformatierung ist geschlossen  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('#iArt_colorWin').addClass('active');\n\t\t\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){iArt_toggleSmileyWin();}\n\t\t\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){iArt_toggleWhishList();}\n\t\t\t\t\t\tjQuery('#iArt_colorWin').stop(true, false).fadeIn();\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t   }\n\t\t\t   jQuery('#iArt_chatMessageInput').focus();\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Admin f\u00fcr Wunschlimit Ein/Ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_toggleWunschLimitAdmin(){\n\t\t\t\tif(jQuery('#iArt_wunschlimitSetter').hasClass('active')){\n\t\t\t\t\tjQuery('#iArt_wunschlimitSetter').removeClass('active').stop(true, false).animate({opacity:'toggle', left:'30px'}, 200);\n\t\t\t\t\tjQuery('#iArt_wunschlimitImAdmin').text(wunschlimit);\n\t\t\t\t}else{\n\t\t\t\t\tjQuery('#iArt_wunschlimitSetter').addClass('active').stop(true, false).animate({opacity:'toggle', left:'20px'}, 200);\n\t\t\t\t}\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Best\u00e4tigung bei abgesendeten Wunsch */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_bestaetigeWunsch(){\n\t\t\t\tjQuery('#iArt_wunschBestaetigung').addClass('active').stop(true, false).animate({bottom:'10px'}, 350, function(){\n\t\t\t\t\tjQuery('#iArt_wunschBestaetigung').stop(true, false).animate({bottom:'10px'}, 1200, function(){\n\t\t\t\t\t\tjQuery('#iArt_wunschBestaetigung').stop(true, false).animate({bottom:'-70px'}, 350, function(){\n\t\t\t\t\t\t\tjQuery('#iArt_wunschBestaetigung').removeClass('active')\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Alle zusatzfenster ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_hideAllWindows(){\n\t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){\n\t\t\t\t\tiArt_toggleTextFormating();\n\t\t\t\t}\n\t\t\t\tif(jQuery('#iArt_wunschlimitSetter').hasClass('active')){\n\t\t\t\t\tiArt_toggleWunschLimitAdmin();\n\t\t\t\t}\n\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){\n\t\t\t\t\tiArt_toggleWhishList();\n\t\t\t\t}\n\t\t\t\tif(jQuery('#iArt_WunschBearbeitung').hasClass('active')){\n\t\t\t\t\tiArt_toggleWhishListItem();\n\t\t\t\t}\n\t\t\t\tif(jQuery('#iArt_wunschboxContainer').hasClass('active')){\n\t\t\t\t\tiArt_toggleWhishForm();\n\t\t\t\t}\n\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){\n\t\t\t\t\tjQuery('#iArt_smileyWin').removeClass('active').stop(true, false).hide();;\n\t\t\t\t\tjQuery('#iArt_smileyHelpFrame').hide();\n\t\t\t\t}\n\t\t\t}\n\t\t/* ############################################################################################################ */\n"], "fixing_code": ["/* Vars zur Steuerung */\n    \t/* ############################################################################################################ */\n\t\t\tdocument.domain = 'radio-emergency.de';\n\t    \tvar username;\n\t  \t\tvar connected = false;\n\t  \t\tvar chatinited= false;\n\t  \t\tvar isteiner =0;\n\t  \t\tvar privateTabPanelOpen=false;\n\t\t\tvar privatTabScollTimeout;\n\t\t\tvar privateChatting=false;\n\t\t\tvar privateChattingWith='';\n\t\t\tvar soundsDisabled = false;\n\t\t\tvar soundsmooving = false;\n\t\t\tvar isInInputField = false;\n\t\t\tvar wunschlimit =0;\n\t\t\tvar wunschzaehler=0;\n  \t\t/* ############################################################################################################ */\n\n\t\t/* Socket-Verbindung herstellen  */\n\t\t\t\t/* ============================================================================================  */\n\t      \t\t\tvar socket = io();\n\t      \t\t/* ============================================================================================  */\n\n  \t\t/* Document ready() */\n  \t\t/* ############################################################################################################ */\n\t\t\tjQuery(document).ready(function(){\n\n\t\t\t\t/* Zur\u00fcck-Effekt im Browserfenster durch Backspace verhindern  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery(document).keydown(function(e) {\n\t\t\t\t\t\tif(e.which ==8){\n\t\t\t\t\t\t\tif(!isInInputField){\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t/* Ausnahme-Inputs (Text) in denen Backspace funzen soll sollen  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('input:text, textarea').focus(function(){\n\t\t\t\t\t\t\tisInInputField=true;\n\t\t\t\t\t\t}).blur(function(){\n\t\t\t\t\t\t\tisInInputField=false;\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t/* ============================================================================================  */\n\n\n\n\t      \t\t/* Login durch Admin oder Anmeldeformular zeigen  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery('#iArt_usersessionCheck').load(function(){\n\t\t\t\t\t\tvar istWirklichderAdmin = jQuery('#iArt_usersessionCheck').contents().find('#iArt_sessionUser').html();\n\t\t\t\t\t\tif(istWirklichderAdmin != \"null\" && istWirklichderAdmin != \"\"){\n\t\t\t\t\t\t\t/* Admin-Session Vorhanden -> Admin-Login mit Namen aus Session  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tsocket.emit('add Admin', istWirklichderAdmin, 1);\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t/* Normaler User  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tjQuery('#reChatLoginBlocker').fadeIn();jQuery('#reUsername').focus();\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t      \t\t/* Loginversuch durch client  */\n\t      \t\t/* ============================================================================================  */\n\t\t      \t\tjQuery('#iArt_chatLoginForm').submit(function(){\n\t\t      \t\t\tusername = iArt_ChangeMarkup(jQuery('#reUsername').val(), false);\n\t\t      \t\t\tsex = jQuery('#iArt_sex').val();\n\n\t\t\t\t\t\t/* Wenn ein Benutzername eingegeben wurde  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t    \tif (username) {\n\t\t\t\t\t      \t\t/* Benutzernamen an Server \u00fcbergeben  */\n\t\t\t\t\t      \t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t      \t\t\tsocket.emit('add user', username, 0, sex); /* (label, benutzername, istAdmin, geschlecht) */\n\t\t\t\t\t      \t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t    \t}\n\t\t\t\t\t    /* -------------------------------------------------------------  */\n\t\t      \t\t\treturn false;\n\t\t      \t\t});\n\t\t      \t/* ============================================================================================  */\n\n\n\t\t      \t/* Login durch Admin erfolgreich  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('adminlogin', function (data) {\n\t\t\t\t\t    connected = true;\n\t\t\t\t\t    jQuery('#iArt_userNameBackup').val(data.username);\n\t\t\t\t\t    isteiner=1; /* Adminstatus f\u00fcr die ersten 20 Sek vergeben  */\n\n\t\t\t\t\t\t/* Erste ausrichtung der h\u00f6hen von Chatfenster und Userliste vornehmen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_chatmessageContainer, #reChatUsers').css('height', (jQuery(window).innerHeight()-70)+'px');\n\t\t\t\t\t\t\tjQuery('#iArt_userListContainer, #iArt_smileyInnerCont').css('height', ((jQuery(window).innerHeight()-70)-37)+'px');\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Begr\u00fc\u00dfung einbinden und Chat anzeigen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#messages').append(jQuery('<div>').addClass('iArtChatMessageItem').addClass('reChatInfo').html('('+data.zeitpunkt+') Willkommen '+iArt_ChangeMarkup(data.username, false)+' im Radio-Emergency.de Chat'));\n\t\t\t\t      \t\tjQuery('#iArt_chatwin').animate({opacity:'toggle'}, 350);\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxTopBtn', parent.document).fadeIn();\n\t\t\t      \t\t/* -------------------------------------------------------------  */\n\n\t\t\t      \t\t/* Chatfenster in Position Scrollen und Focus auf Eingabefeld legen  */\n\t\t\t      \t\t/* -------------------------------------------------------------  */\n\t\t\t\t      \t\tjQuery('#iArt_chatMessageContMainChat').scrollTop(jQuery('#messages').outerHeight());\n\t\t\t\t      \t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t      \t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Admin-Panel einbauen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#reChatUsers').prepend('<div id=\"iArt_userpanelAdmin\"><div class=\"iArt_userpanelBox\"><div class=\"iArt_userpanelCont\"></div><ul><li class=\"iArt_userPanelTrigger\" data-job=\"PrivChat\" data-user=\"#\"><span class=\"iArt_userPanelArrows\">&raquo;</span> Privatchat starten</li><li class=\"iArt_userPanelTrigger\" data-job=\"KickUser\" data-user=\"#\"><span class=\"iArt_userPanelArrows\">&raquo;</span> Benutzer kicken</li><li class=\"iArt_userPanelTrigger\" data-job=\"BanUser\" data-user=\"#\"><span class=\"iArt_userPanelArrows\">&raquo;</span> Benutzer bannen</li><li><a href=\"https://db-ip.com/#\" id=\"iArt_usersIPlink\" target=\"_blank\"><span class=\"iArt_userPanelArrows\">&raquo;</span> IP: <span id=\"iArt_ipShow\">#</span></a></li></ul></div></div>');\n\t\t\t\t\t\t\tiArt_buildUpWhishAdmin();\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Wunschlimit und w\u00fcnsche erstmals abfragen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tsocket.emit('getWunschLimit');\n\t\t\t\t\t\t\tsocket.emit('zeigewuensche');\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Admin-Session-Check erstmals aktivieren  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tiArt_checkingREAdminSession();\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t      \t/* Login durch Client erfolgreich  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('login', function (data) {\n\t\t\t\t\t    connected = true;\n\t\t\t\t\t\tjQuery('#iArt_connectionErrorMessage').hide();\n\t\t\t\t\t\tjQuery('#iArt_userNameBackup').val(data.username);\n\n\t\t\t\t\t\t/* Erste ausrichtung der h\u00f6hen von Chatfenster und Userliste vornehmen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_chatmessageContainer, #reChatUsers').css('height', (jQuery(window).innerHeight()-70)+'px');\n\t\t\t\t\t\t\tjQuery('#iArt_userListContainer, #iArt_smileyInnerCont').css('height', ((jQuery(window).innerHeight()-70)-37)+'px');\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Begr\u00fc\u00dfung, Login ausblenden einbinden und Chat anzeigen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#messages').append(jQuery('<div>').addClass('iArtChatMessageItem').addClass('reChatInfo').html('('+data.zeitpunkt+') Willkommen '+iArt_ChangeMarkup(data.username,false)+' im Radio-Emergency.de Chat'));\n\t\t\t\t\t\t\tjQuery('#reChatLoginBlocker').animate({opacity:'toggle'}, 350, function(){\n\t\t\t\t      \t\t\tjQuery('#iArt_chatwin').animate({opacity:'toggle'}, 350);\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxTopBtn', parent.document).fadeIn();\n\t\t\t\t      \t\t});\n\t\t\t      \t\t/* -------------------------------------------------------------  */\n\n\t\t\t      \t\t/* Chatfenster in Position Scrollen und Focus auf Eingabefeld legen  */\n\t\t\t      \t\t/* -------------------------------------------------------------  */\n\t\t\t\t      \t\tjQuery('#iArt_chatMessageContMainChat').scrollTop(jQuery('#messages').outerHeight());\n\t\t\t\t      \t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t      \t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Wunschlimit und w\u00fcnsche erstmals abfragen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tsocket.emit('getWunschLimit');\n\t\t\t\t\t\t\tsocket.emit('zeigewuensche');\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\n\t\t\t\t\t\t/* Session-Pr\u00fcfung anwerfen  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tiArt_checkUserSession();\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Der gew\u00e4hle Benutzername ist bereits in Verwendung  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('nologin', function (data) {\n\t\t\t\t\t    alert('Der Benutzername \"'+iArt_ChangeMarkup(data.username, false)+'\" ist bereits in Verwendung');\n\t\t\t\t\t    jQuery('#reUsername').focus();\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Der gew\u00e4hle Benutzername ist f\u00fcr Admins/Modis gesperrt  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('noAdmin', function (data) {\n\t\t\t\t\t    alert('Der Benutzername \"'+iArt_ChangeMarkup(data.username, false)+'\" ist ein gesch\u00fctzter Name des RE-Teams');\n\t\t\t\t\t    jQuery('#reUsername').focus();\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Die Admin-Session wird bereits verwendet  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('noAdminLogin', function (data) {\n\t\t\t\t\t    jQuery('body').html('<div style=\"color: #027A82; font-weight:bold; text-align:center; padding-top:40px; font-size: 18px;line-height: 23px;-webkit-font-smoothing: antialiased;\">Admin '+data.username+' ist bereits eingelogged! <br />Doppeltes Verbinden ist nicht m\u00f6glich!</div>');\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\n\t      \t\t/* Neue Nachricht eingeben  */\n\t      \t\t/* ============================================================================================  */\n\t\t      \t\tjQuery('#iArt_chatmessageForm').submit(function(){\n\t\t      \t\t\tif(connected){\n\n\t\t      \t\t\t\t/* Farbauswahl und Smileys schlie\u00dfen wenn ge\u00f6ffnet  */\n\t\t      \t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t      \t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){iArt_toggleTextFormating();}\n\n\t\t\t\t\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){\n\t\t\t\t\t\t\t\t\tiArt_toggleSmileyWin();\n\t\t\t\t\t\t\t\t}\n\t\t      \t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t      \t\t\t\t/* Nachricht durch Funktion reinigen lassen und Absenden  */\n\t\t\t      \t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t      \t\t\tvar neueNachricht = iArt_ChangeMarkup(jQuery('#iArt_chatMessageInput').val(), true);\n\t\t\t\t        \t\tif(neueNachricht.trim().length > 0){\n\n\t\t\t\t\t\t\t\t\tif(privateChatting){\n\t\t\t\t\t\t\t\t\t\t/* Privatnachricht  */\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\tsocket.emit('private chat message', neueNachricht, privateChattingWith, jQuery('#iArt_userNameBackup').val());\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t/* Normale Nachricht  */\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\tsocket.emit('chat message', neueNachricht, jQuery('#iArt_userNameBackup').val());\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').val('').focus();\n\t\t\t\t        \t\t}else{\n\t\t\t\t        \t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t\t        \t\t}\n\t\t\t        \t\t/* -------------------------------------------------------------  */\n\t\t      \t\t\t}\n\t\t      \t\t\treturn false; /* Ursp\u00fcnglichen submit unterdr\u00fccken  */\n\t\t      \t\t});\n\t      \t\t/* ============================================================================================  */\n\n\n\t      \t\t/* Neue Nachricht verarbeiten  */\n\t      \t\t/* ============================================================================================  */\n\t\t      \t\tsocket.on('chat message', function(msg){\n\t\t        \t\tif(connected){\n\t\t        \t\t\tjQuery('#messages').append(jQuery('<div>').addClass('iArtChatMessageItem').html('('+msg.zeitpunkt+') <img src=\"http://radio-emergency.de/img/user_'+msg.sex+'_'+msg.istEinAdmin+'.png\" /> '+iArt_ChangeMarkup(msg.username, false)+': <span style=\"color:'+iArt_ChangeMarkup(msg.farbe, false)+'; font-weight:'+iArt_ChangeMarkup(msg.weight, false)+'; font-style:'+iArt_ChangeMarkup(msg.style, false)+'\">'+iArt_ChangeMarkup(msg.message, false)+'</span>'));\n\t\t        \t\t\tjQuery('#iArt_chatMessageContMainChat').scrollTop(jQuery('#messages').outerHeight());\n\n\t\t\t\t\t\t\tif(privateChatting){\n\t\t\t\t\t\t\t\tif(jQuery('#iArt_TabMainChat').hasClass('active')){}else{\n\t\t\t\t\t\t\t\t\tif(jQuery('#iArt_TabMainChat').hasClass('alert')){}else{\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_TabMainChat').addClass('alert');\n\t\t\t\t\t\t\t\t\t\tiArt_PlayMessageSound();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar neuermessagerCount = (((jQuery('#iArt_TabMainChat').find('.iArt_messageCount').html()*100)/100)+1);\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_TabMainChat').find('.iArt_messageCount').html(neuermessagerCount);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t      \t\t});\n\t\t      \t/* ============================================================================================  */\n\n\n\t\t\t\t/* Neue Privat-Nachricht verarbeiten  */\n\t      \t\t/* ============================================================================================  */\n\t\t      \t\tsocket.on('privateMessage', function(msg){\n\t\t        \t\tif(connected){\n\n\n\t\t\t\t\t\t\tif(jQuery('#iArt_userNameBackup').val() == msg.fuerden){\n\t\t\t\t\t\t\t\t/* Ich bin der Empfaenger */\n\t\t\t\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\t\t\t\t\tvar mitdemda = iArt_ChangeMarkup(msg.username, false);\n\n\t\t\t\t\t\t\t\t\t/* Check ob Tab fuer diesen Chat bereits besteht  */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tvar neuerstellung = iArt_checkIfTabExist(mitdemda);\n\t\t\t\t\t\t\t\t\t\tif(neuerstellung){\n\n\t\t\t\t\t\t\t\t\t\t\t/* Tab muss neu erstellt werden  */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\tiArt_removeActivClassOnTabs();\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanel').append('<div class=\"iArt_ChatTab active\" data-user=\"'+mitdemda+'\" id=\"iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')+'\" data-target=\"iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')+'\">'+mitdemda+'<span class=\"iArt_howManyMessages\"> (<span class=\"iArt_messageCount\">0</span>)</span> <div class=\"iArt_chatTabClose\">x</div></div>');\n\n\t\t\t\t\t\t\t\t\t\t\t\t/* Check ob Chatfenster neu erstellt werden muss und wenn n\u00f6tig erstellen  */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar neuerprivchat = iArt_checkIfChatWindowExist(mitdemda);\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(neuerprivchat){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_chatmessageContainer').append('<div class=\"iArt_chatWindowContainer\" id=\"iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')+'\"><div class=\"messages\"><div class=\"iArtChatMessageItem reChatInfo\">Neuer Privatchat mit '+mitdemda+'</div></div>');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t\t\t\t/* Das Chatfenster in den Vordergrund bringen  */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\tiArt_changChatWindow('iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-'), mitdemda);\n\t\t\t\t\t\t\t\t\t\t\t\t\tiArt_PlayMessageSound();\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t\t\t\t/* Klick Funktionen der Tabs (neu) setzten  */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\tiArt_provTabsClickfunctions();\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t\t/* Es gibt bereits einen Tab f\u00fcr diesen Benutzer  */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\tvar chatistaktiv = iArt_checkIfexistinTabisActive(mitdemda);\n\t\t\t\t\t\t\t\t\t\t\t\tif(!chatistaktiv){\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* Der Tab ist nicht aktiv (Tab markieren und Sound abspielen) */\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(jQuery('#iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).hasClass('alert')){}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tiArt_PlayMessageSound();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).addClass('alert');\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar neuermessagerCount = (((jQuery('#iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.iArt_messageCount').html()*100)/100)+1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.iArt_messageCount').html(neuermessagerCount);\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\n\t\t\t\t\t\t\t\t\t/* Nachricht in Chatfenster schreiben  */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.messages').append(jQuery('<div>').addClass('iArtChatMessageItem').html('('+msg.zeitpunkt+') <img src=\"http://radio-emergency.de/img/user_'+iArt_ChangeMarkup(msg.sex, false)+'_'+iArt_ChangeMarkup(msg.istEinAdmin, false)+'.png\" /> '+iArt_ChangeMarkup(msg.username, false)+': <span style=\"color:'+iArt_ChangeMarkup(msg.farbe, false)+'; font-weight:'+iArt_ChangeMarkup(msg.weight, false)+'; font-style:'+iArt_ChangeMarkup(msg.style, false)+'\">'+iArt_ChangeMarkup(msg.message, true)+'</span>'));\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).scrollTop(jQuery('#iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.messages').outerHeight());\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\n\t\t\t\t\t\t\t\t\t/* Tab-Panel \u00f6ffnen falls geschlossen  */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tiArt_CheckingTabBar();\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t/* Tabs-Panel auf Aktiven Chat ausrichten  */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tiArt_scrollTabPanel();\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t\t\t\t}else if(jQuery('#iArt_userNameBackup').val() == msg.username){\n\n\t\t\t\t\t\t\t\t/* Ich bin der Absender  */\n\t\t\t\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\t\t\t\t\t/* Nachricht in Chatfenster schreiben  */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChat_'+msg.fuerden.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.messages').append(jQuery('<div>').addClass('iArtChatMessageItem').html('('+msg.zeitpunkt+') <img src=\"http://radio-emergency.de/img/user_'+iArt_ChangeMarkup(msg.sex, false)+'_'+iArt_ChangeMarkup(msg.istEinAdmin, false)+'.png\" /> '+iArt_ChangeMarkup(msg.username, false)+': <span style=\"color:'+iArt_ChangeMarkup(msg.farbe, false)+'; font-weight:'+iArt_ChangeMarkup(msg.weight, false)+'; font-style:'+iArt_ChangeMarkup(msg.style, false)+'\">'+iArt_ChangeMarkup(msg.message, true)+'</span>'));\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChat_'+msg.fuerden.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).scrollTop(jQuery('#iArt_privChat_'+msg.fuerden.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.messages').outerHeight());\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t}\n\t\t      \t\t});\n\t\t      \t/* ============================================================================================  */\n\n\t\t\t\t/* Privatnachricht kann nicht \u00fcbermittelt werden da User nicht connected ist  */\n\t      \t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('UserNotConnected', function (data) {\n\t\t\t\t\t\tjQuery('#iArt_privChat_'+data.benutzer.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.messages').append(jQuery('<div>').addClass('iArtChatMessageItem').html('('+data.zeitpunkt+') CHATSYSTEM: <span style=\"color:#f00; font-weight:bold;\">--> Nachricht nicht \u00fcbermittelt da \"'+iArt_ChangeMarkup(data.benutzer, false)+'\" nicht mehr online ist! <--</span><br /> --> '+iArt_ChangeMarkup(data.message, false)+' <--'));\n\t\t\t\t\t\tjQuery('#iArt_privChat_'+data.benutzer.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).scrollTop(jQuery('#iArt_privChat_'+data.benutzer.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).find('.messages').outerHeight());\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Allen Teilnehmern neuen Benutzer anzeigen  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('user joined', function (data) {\n\t\t\t\t\t\tif(connected){\n\t\t\t\t    \t\tjQuery('#messages').append(jQuery('<div>').addClass('iArtChatMessageItem').addClass('reChatInfo').html('('+data.zeitpunkt+') '+iArt_ChangeMarkup(data.username, false)+' hat den Chat betreten'));\n\t\t\t\t    \t\tjQuery('#iArt_chatMessageContMainChat').scrollTop(jQuery('#messages').outerHeight());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Allen Teilnehmern anzeigen, dass ein Benutzer den Chat verl\u00e4sst */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('user left', function (data) {\n\t\t\t\t\t\tif(connected){\n\t\t\t\t\t\t\tjQuery('#messages').append(jQuery('<div>').addClass('iArtChatMessageItem').addClass('reChatInfo').html('('+data.zeitpunkt+') '+iArt_ChangeMarkup(data.username, false)+' hat den Chat verlassen'));\n\t\t\t\t\t\t\tjQuery('#iArt_chatMessageContMainChat').scrollTop(jQuery('#messages').outerHeight());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Eingriff bei Session-Timeout  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('nope', function(){\n\t\t\t\t\t\tconnected=false;\n\t\t\t\t\t\tjQuery('#iArt_chatwin').fadeOut();\n\t\t\t\t\t\tjQuery('#reChatLoginBlocker, #iArt_connectionErrorMessage').fadeIn();\n\t\t\t\t\t\tjQuery('#iArt_ChatUsersList, #messages').html('');\n\t\t\t\t\t\tsocket.emit('sessionkick', jQuery('#iArt_userNameBackup').val()); /* Wird nicht verarbeitet */\n\t\t\t\t\t});\n\n\t\t\t\t\tsocket.on('disconnect', function(){\n\t\t\t\t\t\tif(connected){\n\t\t\t\t\t\t\tconnected=false;\n\t\t\t\t\t\t\tjQuery('#iArt_chatwin').fadeOut();\n\t\t\t\t\t\t\tjQuery('#reChatLoginBlocker, #iArt_connectionErrorMessage').fadeIn();\n\t\t\t\t\t\t\tjQuery('#iArt_ChatUsersList, #messages').html('');\n\t\t\t\t\t\t\tsocket.emit('sessionkick', jQuery('#iArt_userNameBackup').val()); /* Wird nicht verarbeitet */\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Kick-Durchf\u00fchren */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('userkick', function (data) {\n\t\t\t\t\t\tif(connected){\n\t\t\t\t\t\t\tif(jQuery('#iArt_userNameBackup').val() == data){\n\t\t\t\t\t\t\t\tjQuery('body').html('<div style=\"color: #027A82; font-weight:bold; text-align:center; padding-top:40px; font-size: 18px;line-height: 23px;-webkit-font-smoothing: antialiased;\">Du wurdest durch einen Admin vom Server geworfen!</div>');\n\t\t\t\t\t\t\t\tconnected=false;\n\t\t\t\t\t\t\t\tsocket.disconnect();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Anzeige Benutzerliste  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('show new userlist', function (data) {\n\t\t\t\t\t\tif(connected){\n\t\t\t\t\t\t\tvar Benutzerausgabe=\"\";\n\t\t\t\t\t\t\tif(isteiner==\"1\"){\n\n\t\t\t\t\t\t\t\t/* Generierung Userliste f\u00fcr Moderatoren / Admins  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t/* Mit Object.keys() sortierbares Array der ersten Objektkeys Erzeugen und sortieren */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tObject.keys(data).sort(function sortfn (a,b) {\n\t\t\t\t\t\t\t\t\t\t    /* Interne Funktion in sort() um Chrome / Firefox auch richtig sortieren zu lassen  */\n\t\t\t\t\t\t\t\t\t\t    /* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t    var upA = a.toUpperCase();\n\t\t\t\t\t\t\t\t\t\t\t    var upB = b.toUpperCase();\n\t\t\t\t\t\t\t\t\t\t\t    return (upA < upB) ? -1 : (upA > upB) ? 1 : 0;\n\t\t\t\t\t\t\t\t\t\t    /* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t}).forEach(function(k){\n\t\t\t\t\t\t\t\t\t\t\t/* Userliste generieren (mit dem sortierten Array wird das Objekt jetzt geziehlt angefragt) */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t        if(data[k].istAdmin ==\"1\"){\n\t\t\t\t\t\t\t\t\t\t        \t/* User ist ein anderer Moderatoren/Admins  */\n\t\t\t\t\t\t\t\t\t\t        \t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(data[k].uname == jQuery('#iArt_userNameBackup').val()){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBenutzerausgabe+='<div class=\"iArt_UserListItem\"><span class=\"iArt_userItemImgCont inactive\" data-user=\"'+data[k].uname+'\"><img src=\"http://radio-emergency.de/img/user_'+data[k].sex+'_'+data[k].istAdmin+'.png\" /></span><span class=\"iArt_userListNameCont\">'+data[k].uname+'</span><div class=\"iArt_bothClear\"></div></div>';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBenutzerausgabe+='<div class=\"iArt_UserListItem\"><span class=\"iArt_userItemImgCont\" data-user=\"'+data[k].uname+'\"><img src=\"http://radio-emergency.de/img/user_'+data[k].sex+'_'+data[k].istAdmin+'.png\" /></span><span class=\"iArt_userListNameCont\">'+data[k].uname+'</span><div class=\"iArt_bothClear\"></div></div>';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t        \t\t/* Normaler Usern (Admin-Panel mit generieren)  */\n\t\t\t\t\t\t\t\t\t        \t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tBenutzerausgabe+='<div class=\"iArt_UserListItem\"><span class=\"iArt_userItemImgCont admin\" data-user=\"'+data[k].uname+'\" data-ip=\"'+data[k].ip+'\"><img src=\"http://radio-emergency.de/img/user_'+data[k].sex+'_'+data[k].istAdmin+'.png\" /></span><span class=\"iArt_userListNameCont\">'+data[k].uname+'</span><div class=\"iArt_bothClear\"></div></div>';\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t    });\n\t\t\t\t\t\t\t\t    /* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t/* Generierung Userlist f\u00fcr normale User  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t/* Mit Object.keys() sortierbares Array der ersten Objektkeys Erzeugen und sortieren */\n\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\tObject.keys(data).sort(function sortfn (a,b) {\n\t\t\t\t\t\t\t\t\t\t    /* Interne Funktion in sort() um Chrome / Firefox auch richtig sortieren zu lassen  */\n\t\t\t\t\t\t\t\t\t\t    /* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t    var upA = a.toUpperCase();\n\t\t\t\t\t\t\t\t\t\t\t    var upB = b.toUpperCase();\n\t\t\t\t\t\t\t\t\t\t\t    return (upA < upB) ? -1 : (upA > upB) ? 1 : 0;\n\t\t\t\t\t\t\t\t\t\t    /* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t}).forEach(function(k){\n\t\t\t\t\t\t\t\t\t\t\t/* Userliste generieren (mit dem sortierten Array wird das Objekt jetzt geziehlt angefragt) */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\tif(data[k].uname == jQuery('#iArt_userNameBackup').val()){\n\t\t\t\t\t\t\t\t\t\t\t\t\tBenutzerausgabe+='<div class=\"iArt_UserListItem\"><span class=\"iArt_userItemImgCont inactive\" data-user=\"'+data[k].uname+'\"><img src=\"http://radio-emergency.de/img/user_'+data[k].sex+'_'+data[k].istAdmin+'.png\" /></span><span class=\"iArt_userListNameCont\">'+data[k].uname+'</span><div class=\"iArt_bothClear\"></div></div>';\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\tBenutzerausgabe+='<div class=\"iArt_UserListItem\"><span class=\"iArt_userItemImgCont\" data-user=\"'+data[k].uname+'\"><img src=\"http://radio-emergency.de/img/user_'+data[k].sex+'_'+data[k].istAdmin+'.png\" /></span><span class=\"iArt_userListNameCont\">'+data[k].uname+'</span><div class=\"iArt_bothClear\"></div></div>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* Userliste in Dokument einf\u00fcgen  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tjQuery('#iArt_ChatUsersList').html(Benutzerausgabe);\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t/* Click-Functions nach der Generierung setzen  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tiArt_userPanelClickFunctions();\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\n\n\t\t\t\t/* Farbauswahl  */\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t\t/* Button f\u00fcr Anzeige des Auswahlfensters  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery(\"#iArt_chatFunctionColors\").click(function() {\n\t\t\t\t\t\t\tiArt_toggleTextFormating();\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t/* Knopf Speichern  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery(\"#iArt_colorSpeichern\").click(function() {\n\n\t\t\t\t\t\t\t/* Aktuelle Textformatierung an Server senden  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tsocket.emit('usercolor', jQuery('#iArt_userColor').val(), jQuery('#iArt_userFontWeight').val(), jQuery('#iArt_userFontStyle').val());\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t/* Aktuelle Anzeigen anpassen  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tjQuery('#iArt_aktuelleSchriftfarbe').css('background',jQuery('#iArt_userColor').val());\n\t\t\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').css('color', jQuery('#iArt_userColor').val()).css('font-weight', jQuery('#iArt_userFontWeight').val()).css('font-style', jQuery('#iArt_userFontStyle').val()).focus();\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t/* Textformatierung ausblenden  */\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\tjQuery('#iArt_colorWin').removeClass('active');\n\t\t\t\t\t\t\t\tjQuery('#iArt_colorWin').stop(true, false).fadeOut();\n\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t/* Click auf Farbfelder  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('.iArt_colorToPic').each(function(){\n\t\t\t\t\t\t\tjQuery(this).click(function(){\n\n\t\t\t\t\t\t\t\t/* Active Klasse neu setzen (Haken)  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tjQuery('.iArt_colorToPic').removeClass('active');\n\t\t\t\t\t\t\t\t\tjQuery(this).addClass('active');\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* Gew\u00e4hlte Farbe in input hinterlegen und aktuelle Textformatierung an Server senden  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_userColor').val(jQuery(this).attr('data-color'));\n\t\t\t\t\t\t\t\t\tsocket.emit('usercolor', jQuery('#iArt_userColor').val(), jQuery('#iArt_userFontWeight').val(), jQuery('#iArt_userFontStyle').val());\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* Aktuelle Anzeigen anpassen  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_aktuelleSchriftfarbe').css('background',jQuery('#iArt_userColor').val());\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').css('color', jQuery('#iArt_userColor').val()).css('font-weight', jQuery('#iArt_userFontWeight').val()).css('font-style', jQuery('#iArt_userFontStyle').val()).focus();\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t/* Click auf Buttons Fett und Kursiv  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('.iArt_fontStyleBtn').each(function(){\n\t\t\t\t\t\t\tjQuery(this).click(function(){\n\t\t\t\t\t\t\t\t/* Aktiv-Status An/Aus-schalten uns inputs bef\u00fcllen  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tjQuery(this).toggleClass('active');\n\t\t\t\t\t\t\t\t\tif(jQuery('#iArt_schriftFett').hasClass('active')){jQuery('#iArt_userFontWeight').val('bold'); jQuery('#iArt_userFontSmoothing').val('antialiased');}else{jQuery('#iArt_userFontWeight').val('normal'); jQuery('#iArt_userFontSmoothing').val('auto');}\n\t\t\t\t\t\t\t\t\tif(jQuery('#iArt_schriftKursiv').hasClass('active')){jQuery('#iArt_userFontStyle').val('italic');}else{jQuery('#iArt_userFontStyle').val('normal');}\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* Aktuelle Textformatierung an Server senden  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tsocket.emit('usercolor', jQuery('#iArt_userColor').val(), jQuery('#iArt_userFontWeight').val(), jQuery('#iArt_userFontStyle').val());\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* Aktuelle Anzeigen anpassen  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').css('color', jQuery('#iArt_userColor').val()).css('font-weight', jQuery('#iArt_userFontWeight').val()).css('font-style', jQuery('#iArt_userFontStyle').val()).focus();\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Pfeile f\u00fcr PrivatChat Tabs  */\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t\t/* Pfeile ein- / ausblenden  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scroll(function(){\n\t\t\t\t\t\t\tiArt_showTabArrows();\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t/* Mouseover/leave pfeil links  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('#iArt_panelLeft').mouseenter(function(){\n\t\t\t\t\t\t\tprivatTabScollTimeout = window.setInterval(iArt_privMessTabsScrollToLeft, 10);\n\t\t\t\t\t\t}).mouseleave(function(){\n\t\t\t\t\t\t\twindow.clearInterval(privatTabScollTimeout);\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t/* Mouseover/leave pfeil links  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('#iArt_panelRight').mouseenter(function(){\n\t\t\t\t\t\t\tprivatTabScollTimeout = window.setInterval(iArt_privMessTabsScrollToRight, 10);\n\t\t\t\t\t\t}).mouseleave(function(){\n\t\t\t\t\t\t\twindow.clearInterval(privatTabScollTimeout);\n\t\t\t\t\t\t});\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Button f\u00fcr Chatsounds  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery('#iArt_toggleChatSounds').click(function(){\n\t\t\t\t\t\tif(!soundsmooving){\n\t\t\t\t\t\t\tif(jQuery(this).hasClass('active')){\n\t\t\t\t\t\t\t\tjQuery(this).removeClass('active');\n\t\t\t\t\t\t\t\tsoundsDisabled=false;\n\t\t\t\t\t\t\t\tsoundsmooving=true;\n\t\t\t\t\t\t\t\tjQuery('.iArt_toggleSoundBubble').html('Benachrichtigungen aktiviert').stop(true, false).animate({opacity:'toggle', right:'22px'}, 300, function(){\n\t\t\t\t\t\t\t\t\tjQuery('.iArt_toggleSoundBubble').animate({right:'22px'}, 1200, function(){\n\t\t\t\t\t\t\t\t\t\tjQuery('.iArt_toggleSoundBubble').animate({opacity:'toggle', right:'32px'}, 500, function(){\n\t\t\t\t\t\t\t\t\t\t\tsoundsmooving=false;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tjQuery(this).addClass('active');\n\t\t\t\t\t\t\t\tsoundsDisabled=true;\n\t\t\t\t\t\t\t\tsoundsmooving=true;\n\t\t\t\t\t\t\t\tjQuery('.iArt_toggleSoundBubble').html('Benachrichtigungen deaktiviert').stop(true, false).animate({opacity:'toggle', right:'22px'}, 300, function(){\n\t\t\t\t\t\t\t\t\tjQuery('.iArt_toggleSoundBubble').animate({right:'22px'}, 1200, function(){\n\t\t\t\t\t\t\t\t\t\tjQuery('.iArt_toggleSoundBubble').animate({opacity:'toggle', right:'32px'}, 500, function(){\n\t\t\t\t\t\t\t\t\t\t\tsoundsmooving=false;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Smileys in Fenster generieren  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tvar smileyinhalt='';\n\t\t\t\t\tjQuery.each( re_smileys, function( key, value ) {\n\t\t\t\t\t\tif(value == \"Trenner\"){\n\t\t\t\t\t\t\tsmileyinhalt+='<span class=\"iArt_smileyTrennung\"></span>';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tsmileyinhalt+='<span class=\"iArt_smileyEntry\" data-short=\"'+key+'\">'+value+'</span>';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tsmileyinhalt+='<div class=\"iArt_bothClear\"></div>';\n\t\t\t\t\tjQuery('#iArt_smileyInnerCont').html(smileyinhalt);\n\n\t\t\t\t\tiArt_addSmileyClickfunction();\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* SmileyFenster \u00f6ffnen / schlie\u00dfen  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery('#iArt_chatFunctionSmileys, #iArt_smileyWinCloser').click(function(){\n\t\t\t\t\t\tiArt_toggleSmileyWin();\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Buttons Formular Musikwunsch \u00f6ffen/schlie\u00dfen  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery('#iArt_wunschboxBTN, #iArt_wunschFormCloser').click(function(){\n\t\t\t\t\t\tiArt_toggleWhishForm();\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Buttons Wunschbox \u00f6ffnen/schlie\u00dfen  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery('#iArt_wunschAusgabeCloser').click(function(){\n\t\t\t\t\t\tiArt_toggleWhishList();\n\t\t\t\t\t});\n\n\t\t\t\t\tjQuery('#iArt_wunschboxTopBtn', parent.document).click(function(){\n\t\t\t\t\t\tif(isteiner==\"1\"){\n\t\t\t\t\t\t\tif(wunschzaehler>0){\n\t\t\t\t\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){\n\t\t\t\t\t\t\t\t\tjQuery(this).addClass(\"alerted\");\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tjQuery(this).removeClass(\"alerted\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tjQuery(this).removeClass(\"alerted\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tiArt_toggleWhishList();\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Formular Musikwunsch absenden  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tjQuery('#iArt_musikWunschForm').submit(function(event){\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tif(connected){\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').stop(true, false).fadeIn();\n\n\t\t\t\t\t\t\tif(wunschlimit >= 1){\n\t\t\t\t\t\t\t\tif(iArt_CheckWunschForm()){\n\t\t\t\t\t\t\t\t\twunschzaehler=0;\n\t\t\t\t\t\t\t\t\tjQuery('.iArt_musikwunschItem').each(function(){\n\t\t\t\t\t\t\t\t\t\tif(jQuery(this).find('.iArt_musikwunschItemUser').html()==jQuery('#iArt_userNameBackup').val())\n\t\t\t\t\t\t\t\t\t\twunschzaehler++\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif(wunschzaehler<wunschlimit){\n\t\t\t\t\t\t\t\t\t\tvar bandname= iArt_ChangeMarkup(jQuery('#iArt_whish_Artist').val(), false);\n\t\t\t\t\t\t\t\t\t\tvar songname= iArt_ChangeMarkup(jQuery('#iArt_whish_Titel').val(), false);\n\t\t\t\t\t\t\t\t\t\tvar greeting= iArt_ChangeMarkup(jQuery('#iArt_whishGreet').val(), false);\n\t\t\t\t\t\t\t\t\t\tsocket.emit('neuerWunsch', bandname, songname, greeting);\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').stop(true, false).fadeOut();\n\t\t\t\t\t\t\t\t\t\tiArt_toggleWhishForm();\n\t\t\t\t\t\t\t\t\t\tiArt_bestaetigeWunsch();\n\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_whish_Artist, #iArt_whish_Titel, #iArt_whishGreet').val('');\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t \tjQuery('#iArt_wunschboxBlocker').html('Wunschlimit erreicht.<br />Bitte warte bis einer deiner W\u00fcnsche abgearbeitet wurde.');\n\t\t\t\t\t\t\t\t\t\tiArt_fadeOutWunschboxBlocker();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').html('Die Wunschbox ist zur Zeit geschlossen.');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Wunschlimit \u00fcbernehmen  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('Wunschlimit', function (daslimit) {\n\t\t\t\t\t\tif(daslimit<=0){\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').html('Die Wunschbox ist zur Zeit geschlossen.').fadeIn();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').html('').fadeOut();\n\t\t\t\t\t\t}\n\t\t\t\t\t\twunschlimit = daslimit;\n\t\t\t\t\t\tjQuery('#iArt_zeigWunschlimit').html(wunschlimit);\n\t\t\t\t\t\tjQuery('#iArt_wunschlimitImAdmin').text(wunschlimit);\n\t\t\t\t\t\tif(jQuery('#iArt_wunschlimitSetter').hasClass('active')){iArt_toggleWunschLimitAdmin();}\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Wunschliste generieren und ausgeben  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tsocket.on('Wunschliste', function (dieWunschliste) {\n\t\t\t\t\t\tvar dieNeueWunschListe =\"\";\n\t\t\t\t\t\twunschzaehler =0;\n\t\t\t\t\t\tfor(var key in dieWunschliste) {\n\t\t\t\t\t\t\twunschzaehler++;\n\t\t\t\t\t\t\tif(isteiner==\"1\"){\n\t\t\t\t\t\t\t\tdieNeueWunschListe+='<div data-id=\"'+dieWunschliste[key].id+'\" data-status=\"'+dieWunschliste[key].wstatus+'\" class=\"iArt_musikwunschItem admin status_'+dieWunschliste[key].wstatus+'\">';\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tdieNeueWunschListe+='<div data-id=\"'+dieWunschliste[key].id+'\" data-status=\"'+dieWunschliste[key].wstatus+'\" class=\"iArt_musikwunschItem status_'+dieWunschliste[key].wstatus+'\">';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdieNeueWunschListe+='<div class=\"iArt_musikwunschItemUser\">'+dieWunschliste[key].user+'</div>';\n\t\t\t\t\t\t\t\tdieNeueWunschListe+='<div class=\"iArt_musikwunschItemBand\">'+dieWunschliste[key].band+'</div>';\n\t\t\t\t\t\t\t\tdieNeueWunschListe+='<div class=\"iArt_musikwunschItemSong\">'+dieWunschliste[key].song+'</div>';\n\t\t\t\t\t\t\t\tif(isteiner==\"1\"){dieNeueWunschListe+='<div class=\"iArt_musikwunschItemGreet\">'+dieWunschliste[key].greet+'</div>';}\n\n\t\t\t\t\t\t\tdieNeueWunschListe+='</div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdieNeueWunschListe+='<div class=\"iArt_bothClear\"></div>';\n\t\t\t\t\t\tjQuery('#iArt_wunschboxAusgabeInner').html(dieNeueWunschListe);\n\n\t\t\t\t\t\tif(wunschzaehler>0){jQuery('#iArt_blockOnEmtyBox').hide();}else{jQuery('#iArt_blockOnEmtyBox').show();}\n\n\t\t\t\t\t\tif(isteiner==\"1\"){\n\t\t\t\t\t\t\tjQuery('.iArt_musikwunschItem').each(function(){\n\t\t\t\t\t\t\t\tjQuery(this).click(function(){\n\t\t\t\t\t\t\t\t\tvar dieWunschID = jQuery(this).attr('data-id');\n\t\t\t\t\t\t\t\t\tvar derWunschStatus = jQuery(this).attr('data-status');\n\t\t\t\t\t\t\t\t\tvar derWuenscher = jQuery(this).find('.iArt_musikwunschItemUser').text();\n\t\t\t\t\t\t\t\t\tvar dieBAnd = jQuery(this).find('.iArt_musikwunschItemBand').text();\n\t\t\t\t\t\t\t\t\tvar derSong = jQuery(this).find('.iArt_musikwunschItemSong').text();\n\t\t\t\t\t\t\t\t\tvar derGruss = jQuery(this).find('.iArt_musikwunschItemGreet').text();\n\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_WuenscherInBox').text(derWuenscher);\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBearbID').text(dieWunschID);\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxBandArea').find('.iArt_wunschboxBearbValue').text(dieBAnd);\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxSongArea').find('.iArt_wunschboxBearbValue').text(derSong);\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxGreetArea').find('.iArt_wunschboxBearbValue').text(derGruss);\n\n\t\t\t\t\t\t\t\t\tiArt_toggleWhishListItem();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif(wunschzaehler>0){\n\t\t\t\t\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxTopBtn', parent.document).removeClass(\"alerted\");\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxTopBtn', parent.document).addClass(\"alerted\");\n\t\t\t\t\t\t\t\t\tjQuery('.iArt_wishesAlert', parent.document).each(function(){\n\t\t\t\t\t\t\t\t\t\tjQuery(this).html('('+wunschzaehler+')');\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschboxTopBtn', parent.document).removeClass(\"alerted\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\n\t\t\t\t/* Admin-Panel f\u00fcr Wunschbox generieren */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tfunction iArt_buildUpWhishAdmin(){\n\t\t\t\t\t\tvar adminbereich=\"\";\n\t\t\t\t\t\tadminbereich+='<div id=\"iArt_WunschboxLimit\">';\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschlimitImAdmin\">0</div>';\n\t\t\t\t\t\t\tadminbereich+='<form id=\"iArt_wunschlimitSetter\" action=\"#nix\">';\n\t\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschlimitRunter\"><div class=\"highlight\"></div></div>';\n\t\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschlimitHoch\"><div class=\"highlight\"></div></div>';\n\t\t\t\t\t\t\t\tadminbereich+='<input type=\"submit\" id=\"iArt_wunschlimitSubmit\" value=\"\" />';\n\t\t\t\t\t\t\tadminbereich+=\"</form>\";\n\t\t\t\t\t\tadminbereich+=\"</div>\";\n\t\t\t\t\t\tadminbereich+='<div id=\"iArt_WunschBearbeitung\">';\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschboxBearbeitenHead\">Musikwunsch von: <span id=\"iArt_WuenscherInBox\">Bla</span><div id=\"iArt_wunschBearbeitenCloser\">x</div></div>';\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschboxBandArea\">Band:<span class=\"iArt_wunschboxBearbValue\"></span></div>';\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschboxSongArea\">Song:<span class=\"iArt_wunschboxBearbValue\"></span></div>';\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschboxGreetArea\">Gru&szlig;:<div id=\"iArt_wunschboxBearbgreetContainer\"><span class=\"iArt_wunschboxBearbValue\"></span></div></div>';\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschboxBearbButtonArea\">';\n\t\t\t\t\t\t\t\tadminbereich+='<div class=\"iArt_WunschBearbBtn\" id=\"iArt_wunschboxButtonInList\">In der Liste</div>';\n\t\t\t\t\t\t\t\tadminbereich+='<div class=\"iArt_WunschBearbBtn\" id=\"iArt_wunschboxButtonNotThere\">Hab ich nicht</div>';\n\t\t\t\t\t\t\t\tadminbereich+='<div class=\"iArt_WunschBearbBtn\" id=\"iArt_wunschboxButtonErledigt\">Erledigt -></div>';\n\t\t\t\t\t\t\tadminbereich+=\"</div>\";\n\t\t\t\t\t\t\tadminbereich+='<div id=\"iArt_wunschboxBearbID\"></div>';\n\t\t\t\t\t\tadminbereich+=\"</div>\";\n\n\t\t\t\t\t\tadminbereich+='<form action=\"nix\" class=\"iArt_wunschbearbeiter\" id=\"iArt_wunschstatus_1\"><input type=\"hidden\" class=\"iArt_wunschStatus\" value=\"1\" /></form>';\n\t\t\t\t\t\tadminbereich+='<form action=\"nix\" class=\"iArt_wunschbearbeiter\" id=\"iArt_wunschstatus_2\"><input type=\"hidden\" class=\"iArt_wunschStatus\" value=\"2\" /></form>';\n\t\t\t\t\t\tadminbereich+='<form action=\"nix\" class=\"iArt_wunschbearbeiter\" id=\"iArt_wunschKiller\"></form>';\n\t\t\t\t\t\tjQuery('#iArt_wunschboxAusgabeHead').prepend(adminbereich);\n\n\t\t\t\t\t\tjQuery('#iArt_wunschlimitImAdmin').click(function(){\n\t\t\t\t\t\t\tiArt_toggleWunschLimitAdmin();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tjQuery('#iArt_wunschlimitRunter').click(function(){\n\t\t\t\t\t\t\tif((((jQuery('#iArt_wunschlimitImAdmin').text())*100)/100) > 0){\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschlimitImAdmin').text(((((jQuery('#iArt_wunschlimitImAdmin').text())*100)/100)-1));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tjQuery('#iArt_wunschlimitHoch').click(function(){\n\t\t\t\t\t\t\tif((((jQuery('#iArt_wunschlimitImAdmin').text())*100)/100) < 10){\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschlimitImAdmin').text(((((jQuery('#iArt_wunschlimitImAdmin').text())*100)/100)+1));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsocket.emit('getWunschLimit');\n\n\n\t\t\t\t\t\t/* Wunschlimit \u00e4ndern  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_wunschlimitSetter').submit(function(event){\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tif(connected){\n\t\t\t\t\t\t\t\t\tvar dasneueLimit = (((jQuery('#iArt_wunschlimitImAdmin').text())*100)/100);\n\t\t\t\t\t\t\t\t\tsocket.emit('neuesWunschlimit', dasneueLimit);\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Button Wunsch \u00f6ffnen/schlie\u00dfen (nur Admin)  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_wunschBearbeitenCloser').click(function(){\n\t\t\t\t\t\t\t\tiArt_toggleWhishListItem();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Formulare Wunsch beabeiten   */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_wunschstatus_1, #iArt_wunschstatus_2').submit(function(event){\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tvar wunschId= jQuery('#iArt_wunschboxBearbID').text();\n\t\t\t\t\t\t\t\tvar wunschstatus= jQuery(this).find('.iArt_wunschStatus').val();\n\t\t\t\t\t\t\t\tsocket.emit('statuswechsel', wunschId, wunschstatus);\n\t\t\t\t\t\t\t\tiArt_toggleWhishListItem();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tjQuery('#iArt_wunschKiller').submit(function(event){\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tvar wunschId= jQuery('#iArt_wunschboxBearbID').text();\n\t\t\t\t\t\t\t\tsocket.emit('wunschFertig', wunschId);\n\t\t\t\t\t\t\t\tiArt_toggleWhishListItem();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t/* Klick-Funktionen der Bearbeitungs-Buttons  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxButtonInList').click(function(){\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschstatus_1').submit();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxButtonNotThere').click(function(){\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschstatus_2').submit();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tjQuery('#iArt_wunschboxButtonErledigt').click(function(){\n\t\t\t\t\t\t\t\tjQuery('#iArt_wunschKiller').submit();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t}\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Userliste checken  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\tfunction iArt_checkUserSession(){\n\t\t\t\t\t\tsocket.emit('WerBinIch');\n\t\t\t\t\t\twindow.setTimeout(function(){iArt_checkUserSession();}, 6000);\n\t\t\t\t\t}\n\n\t\t\t\t\tsocket.on('werBinIch', function (derName) {\n\t\t\t\t\t\tjQuery('#iArt_userNameBackup').val(derName);\n\t\t\t\t\t});\n\t\t\t\t/* ============================================================================================  */\n\n\t\t\t});\n      \t/* ############################################################################################################ */\n\n\n\n/* ############################################################################################################ */\n/* ############################################################################################################ */\n/* ############################################################################################################ */\n\n\n\n      \t/* Strings umbauen  */\n      \t/* ############################################################################################################ */\n\t      \tfunction iArt_ChangeMarkup(input, withSmile) {\n\n\t      \t\t/* Javascripte komplett entfernen  */\n\t      \t\t/* ============================================================================================  */\n\t      \t\t\tstr = input.replace(/<script[^>]*>.*?<\\/script>/g,'');\n\t      \t\t/* ============================================================================================  */\n\n\t      \t\t/* HTML-Markup entfernen  */\n\t      \t\t/* ============================================================================================  */\n\t\t      \t\tvar html_killed = str.replace(/<[^!](?:[^>\"']|\"[^\"]*\"|'[^\"]*')*>|<!--.*?-->/g,' ')\n\t\t\t           .replace(/ +/g, ' ')\n\t\t\t           .replace(/^\\s+/g, '')\n\t\t\t           .replace(/\\s+$/g, '');\n\t\t        /* ============================================================================================  */\n\n\t\t        /* Smileys einf\u00fcgen (Nur bei Chatnachrichten)  */\n\t\t        /* ============================================================================================  */\n\t\t\t        if(withSmile){\n\t\t\t\t        jQuery.each( re_smileys, function( key, value ) {\n\t\t\t\t        \tvar chucked = html_killed.split(key);\n\t\t\t\t        \thtml_killed = chucked.join(value);\n\t\t\t\t\t\t});\n\t\t\t        }\n\t\t        /* ============================================================================================  */\n\n\t\t\t\t/* Doppelte, f\u00fchrende oder folgende Leerzeichen entfernen und string ausgeben  */\n\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\thtml_killed.trim()\n\t\t\t    \treturn html_killed;\n\t\t    \t/* ============================================================================================  */\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\n\t\t/* URL-Partameter auslesen und als Array zur\u00fcck werfen  */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction get_url_param( name ){\n\t\t\t\tname = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n\n\t\t\t\tvar regexS = \"[\\\\?&]\"+name+\"=([^&#]*)\";\n\t\t\t\tvar regex = new RegExp( regexS );\n\t\t\t\tvar results = regex.exec( window.location.href );\n\n\t\t\t\tif ( results == null )\n\t\t\t\t\treturn \"\";\n\t\t\t\telse\n\t\t\t\t\treturn results[1];\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\n\t\t/* Chatfenster bei Gr\u00f6\u00dfenver\u00e4nderungen an Fenstergr\u00f6\u00dfe anpassen */\n\t\t/* ############################################################################################################ */\n\t\t\tjQuery(window).resize(function() {\n\t\t\t\tjQuery('#iArt_chatmessageContainer, #reChatUsers').css('height', (jQuery(window).innerHeight()-70)+'px');\n\t\t\t\tjQuery('#iArt_userListContainer, #iArt_smileyInnerCont').css('height', ((jQuery(window).innerHeight()-70)-37)+'px');\n\t\t\t\tjQuery('#iArt_chatMessageContMainChat').scrollTop(jQuery('#messages').outerHeight());\n\t\t\t });\n\t\t/* ############################################################################################################ */\n\n\n\t\t/* Tabs und Chatfenster (Privatchats) */\n\t\t/* ############################################################################################################ */\n\n\t\t\t/* Active-Klasse von allen Tabs entfernen  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_removeActivClassOnTabs(){\n\t\t\t\t\tjQuery('#iArt_privMessTabPanel').find('.iArt_ChatTab').each(function(){\n\t\t\t\t\t\tjQuery(this).removeClass('active');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\t\t\t/* Chatfenster wechseln  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_changChatWindow(dendazeigen, user){\n\t\t\t\t\tif(dendazeigen == \"iArt_chatMessageContMainChat\"){\n\t\t\t\t\t\tprivateChatting=false;\n\t\t\t\t\t\tprivateChattingWith='';\n\t\t\t\t\t}else{\n\t\t\t\t\t\tprivateChatting=true;\n\t\t\t\t\t\tprivateChattingWith=user;\n\t\t\t\t\t}\n\t\t\t\t\tjQuery('.iArt_chatWindowContainer').hide();\n\t\t\t\t\tjQuery('#'+dendazeigen).show();\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\n\t\t\t/* Klick-Funktionen f\u00fcr Tabs und Tab-Closer zuteilen  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_provTabsClickfunctions(){\n\t\t\t\t\tjQuery('.iArt_ChatTab').each(function(){\n\n\t\t\t\t\t\t/* Klick auf Tab (Chat wechseln)  */\n\t\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\t\t\tjQuery(this).unbind().click(function(){\n\t\t\t\t\t\t\t\tif(jQuery(this).hasClass('active')){}else{\n\t\t\t\t\t\t\t\t\tiArt_removeActivClassOnTabs();\n\t\t\t\t\t\t\t\t\tjQuery(this).addClass('active');\n\t\t\t\t\t\t\t\t\tjQuery(this).removeClass('alert');\n\t\t\t\t\t\t\t\t\tjQuery(this).find('.iArt_messageCount').html('0');\n\t\t\t\t\t\t\t\t\tiArt_changChatWindow(jQuery(this).attr('data-target'), jQuery(this).attr('data-user'));\n\t\t\t\t\t\t\t\t\tiArt_scrollTabPanel();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\t});\n\n\t\t\t\t\t/* Klick auf Tab-Schlie\u00dfen-Knopf (Tab l\u00f6schen und Chat ausblenden)  */\n\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t\t\tjQuery('.iArt_chatTabClose').each(function(){\n\t\t\t\t\t\t\tjQuery(this).unbind().click(function(){\n\n\t\t\t\t\t\t\t\tif(jQuery(this).parent().hasClass('active')){\n\t\t\t\t\t\t\t\t\tiArt_removeActivClassOnTabs();\n\t\t\t\t\t\t\t\t\tjQuery(this).parent().prev('.iArt_ChatTab').addClass('active');\n\t\t\t\t\t\t\t\t\tiArt_changChatWindow(jQuery(this).parent().prev('.iArt_ChatTab').attr('data-target'), jQuery(this).parent().prev('.iArt_ChatTab').attr('data-user'));\n\t\t\t\t\t\t\t\t\tiArt_scrollTabPanel();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tjQuery(this).parent().remove();\n\t\t\t\t\t\t\t\tiArt_scrollTabPanel();\n\t\t\t\t\t\t\t\tiArt_CheckingTabBar();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t/* ============================================================================================  */\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\t\t\t/* Tab-Leiste f\u00fcr Privatchat ein- / ausblenden  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_CheckingTabBar(){\n\t\t\t\t\tvar wieviele = 0;\n\t\t\t\t\tjQuery('.iArt_ChatTab').each(function(){\n\t\t\t\t\t\twieviele++;\n\t\t\t\t\t});\n\n\t\t\t\t\tif(wieviele > 1){\n\t\t\t\t\t\tif(!privateTabPanelOpen){\n\t\t\t\t\t\t\tprivateTabPanelOpen=true;\n\t\t\t\t\t\t\tjQuery('#iArt_chatMessageContMainChat').animate({top:'30px'}, 150);\n\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').animate({height:'toggle'}, 150);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(privateTabPanelOpen){\n\t\t\t\t\t\t\tprivateTabPanelOpen=false;\n\t\t\t\t\t\t\tjQuery('#iArt_chatMessageContMainChat').animate({top:'0px'}, 150);\n\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').animate({height:'toggle'}, 150);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\t\t\t/* Tabs auf richtige Position scrollen wenn ein neuer auf aktiv gesetzt wird  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_scrollTabPanel(){\n\t\t\t\t\tvar positiondesTabs = jQuery('.iArt_ChatTab.active').position();\n\t\t\t\t\tvar breiteAllertabs = iArtBreiteAllerTabs();\n\t\t\t\t\tvar breiteBisZumAktivenTab = iArtBreiteBisAktiverTab();\n\n\t\t\t\t\tif(breiteAllertabs > jQuery('#iArt_privMessTabPanelContainer').innerWidth()){\n\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft((breiteBisZumAktivenTab - jQuery('#iArt_privMessTabPanelContainer').innerWidth()));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft(0);\n\t\t\t\t\t\tjQuery('#iArt_panelLeft, #iArt_panelRight').fadeOut('fast');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\n\t\t\t/* Tabs nach links scrollen  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_privMessTabsScrollToLeft(){\n\t\t\t\t\tvar theLeftscroll = jQuery('#iArt_privMessTabPanelContainer').scrollLeft();\n\t\t\t\t\tif(theLeftscroll > 0){\n\t\t\t\t\t\tif(theLeftscroll > 2){\n\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft((theLeftscroll-2));\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft(0);\n\t\t\t\t\t\t\twindow.clearInterval(privatTabScollTimeout);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\twindow.clearInterval(privatTabScollTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\t\t\t/* Tabs nach rechts scrollen  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_privMessTabsScrollToRight(){\n\t\t\t\t\tvar breiteAllertabs = iArtBreiteAllerTabs();\n\n\t\t\t\t\tif(breiteAllertabs > jQuery('#iArt_privMessTabPanelContainer').innerWidth()){\n\t\t\t\t\t\tvar dieDifferenz =(breiteAllertabs - jQuery('#iArt_privMessTabPanelContainer').innerWidth());\n\t\t\t\t\t\tvar theLeftscroll = jQuery('#iArt_privMessTabPanelContainer').scrollLeft();\n\t\t\t\t\t\tvar nochZuScrollen = (dieDifferenz-theLeftscroll)\n\n\n\t\t\t\t\t\tif(nochZuScrollen > 0){\n\t\t\t\t\t\t\tif(nochZuScrollen > 2){\n\t\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft((theLeftscroll+2));\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft(dieDifferenz);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft(dieDifferenz);\n\t\t\t\t\t\t\twindow.clearInterval(privatTabScollTimeout);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tjQuery('#iArt_privMessTabPanelContainer').scrollLeft(dieDifferenz);\n\t\t\t\t\t\twindow.clearInterval(privatTabScollTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\t\t\t/* Pfeile ein/Ausblenden  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_showTabArrows(){\n\n\t\t\t\t\t/* Pfeil Links  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tif(jQuery('#iArt_privMessTabPanelContainer').scrollLeft() > 0){\n\t\t\t\t\t\t\tif(jQuery('#iArt_panelLeft').is(':hidden')){\n\t\t\t\t\t\t\t\tjQuery('#iArt_panelLeft').stop(true, false).animate({opacity:'toggle'}, 200);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(jQuery('#iArt_panelLeft').is(':visible')){\n\t\t\t\t\t\t\t\tjQuery('#iArt_panelLeft').stop(true, false).animate({opacity:'toggle'}, 200);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t/* Pfeil rechts  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tvar breiteAllertabs = iArtBreiteAllerTabs();\n\n\t\t\t\t\t\tif((breiteAllertabs - jQuery('#iArt_privMessTabPanelContainer').scrollLeft()) > jQuery('#iArt_privMessTabPanelContainer').innerWidth()){\n\t\t\t\t\t\t\tif(jQuery('#iArt_panelRight').is(':hidden')){\n\t\t\t\t\t\t\t\tjQuery('#iArt_panelRight').stop(true, false).animate({opacity:'toggle'}, 400);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(jQuery('#iArt_panelRight').is(':visible')){\n\t\t\t\t\t\t\t\tjQuery('#iArt_panelRight').stop(true, false).animate({opacity:'toggle'}, 400);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\n\t\t\t/* Ermittlung der Breite der Chattabs  */\n\t\t\t/* ============================================================================================  */\n\n\t\t\t\t/* Breite aller Chat-Tabs  */\n\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\tfunction iArtBreiteAllerTabs(){\n\t\t\t\t\t\tvar breiteDerTabs=0;\n\t\t\t\t\t\tjQuery('.iArt_ChatTab').each(function(){\n\t\t\t\t\t\t\tbreiteDerTabs += (jQuery(this).innerWidth()+1);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn breiteDerTabs;\n\t\t\t\t\t}\n\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t/* Breite inkl. aktiver Chat-Tab  */\n\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\tfunction iArtBreiteBisAktiverTab(){\n\t\t\t\t\t\tvar breiteDerTabs=0;\n\t\t\t\t\t\tvar aktivwarnochnicht = 0\n\t\t\t\t\t\tjQuery('.iArt_ChatTab').each(function(){\n\t\t\t\t\t\t\tif(jQuery(this).hasClass('active')){\n\t\t\t\t\t\t\t\tbreiteDerTabs += (jQuery(this).innerWidth()+1);\n\t\t\t\t\t\t\t\taktivwarnochnicht = 1;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tif(aktivwarnochnicht == 0){\n\t\t\t\t\t\t\t\t\tbreiteDerTabs += (jQuery(this).innerWidth()+1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn breiteDerTabs;\n\t\t\t\t\t}\n\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t/* ============================================================================================  */\n\n\n\t\t\t/* Ermitteln ob zu erstellender Tab schon existiert  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_checkIfTabExist(mitwem){\n\t\t\t\t\tvar dermussnoch = true;\n\t\t\t\t\tjQuery('#iArt_privMessTabPanel').find('.iArt_ChatTab').each(function(){\n\t\t\t\t\t\tif(jQuery(this).attr('data-user')== mitwem){\n\t\t\t\t\t\t\tdermussnoch = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn dermussnoch;\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\n\t\t\t/* Ermitteln ob bereits erstellter Tab aktiv ist  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_checkIfexistinTabisActive(mitwem){\n\t\t\t\t\tvar derissSchon = false;\n\t\t\t\t\tjQuery('#iArt_privMessTabPanel').find('.iArt_ChatTab').each(function(){\n\t\t\t\t\t\tif(jQuery(this).attr('data-user')== mitwem){\n\t\t\t\t\t\t\tif(jQuery(this).hasClass('active')){\n\t\t\t\t\t\t\t\tderissSchon = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn derissSchon;\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\n\n\t\t\t/* Ermitteln ob zu erstellendes Chatfenster bereits existiert  */\n\t\t\t/* ============================================================================================  */\n\t\t\t\tfunction iArt_checkIfChatWindowExist(mitdemda){\n\t\t\t\t\tvar denMussMannNoch = true;\n\t\t\t\t\tjQuery('#iArt_chatmessageContainer').find('.iArt_chatWindowContainer').each(function(){\n\t\t\t\t\t\tif(jQuery(this).attr('id')== 'iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')){\n\t\t\t\t\t\t\tdenMussMannNoch = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn denMussMannNoch;\n\t\t\t\t}\n\t\t\t/* ============================================================================================  */\n\t\t/* ############################################################################################################ */\n\n\n\t\t/* Klick-Funktions f\u00fcr Trigger in den Panels der Benutzerliste */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_userPanelClickFunctions(){\n\n\t\t\t\t/* Userpanel \u00f6ffnen/schlie\u00dfen  */\n\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\tjQuery('.iArt_userItemImgCont').each(function(){\n\t\t\t\t\t\tjQuery(this).click(function(){\n\t\t\t\t\t\t\tif(jQuery(this).hasClass('inactive')){}else{\n\t\t\t\t\t\t\t\t/* Es ist nicht der eigene User  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tif(jQuery(this).hasClass('active')){}else{\n\t\t\t\t\t\t\t\t\t\t/* Das Panel ist nicht bereits offen  */\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\tjQuery(this).addClass('active');\n\t\t\t\t\t\t\t\t\t\t\tvar deruserDa = jQuery(this).attr('data-user');\n\n\t\t\t\t\t\t\t\t\t\t\tif(jQuery(this).hasClass('admin')){\n\t\t\t\t\t\t\t\t\t\t\t\t/* Admin-Panel  */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar dieIpDa = jQuery(this).attr('data-ip');\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_usersIPlink').attr('href', 'https://db-ip.com/'+dieIpDa);\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_ipShow').html(dieIpDa);\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_userpanelAdmin').find('.iArt_userpanelBox').find('.iArt_userPanelTrigger').each(function(){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery(this).attr('data-user', deruserDa);\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_userpanelAdmin').find('.iArt_userpanelBox').stop(true, false).hide().css('top', (jQuery(this).position().top -13)+'px').animate({opacity:'toggle', right:'188px'}, {duration:200});\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t/* Nur Privatchat  */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_userpanel').find('.iArt_userpanelBox').find('.iArt_userPanelTrigger').each(function(){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery(this).attr('data-user', deruserDa);\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_userpanel').find('.iArt_userpanelBox').stop(true, false).hide().css('top', (jQuery(this).position().top -5)+'px').animate({opacity:'toggle', right:'188px'}, {duration:200});\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tjQuery('.iArt_userpanelBox').unbind().mouseleave(function(){\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery('.iArt_userItemImgCont').each(function(){\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery(this).removeClass('active');\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery(this).stop(true, false).animate({opacity:'toggle', right:'198px'}, {duration:250});\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tjQuery('#iArt_userListContainerInner').unbind().scroll(function(){\n\t\t\t\t\t\t\tjQuery('.iArt_userItemImgCont').each(function(){\n\t\t\t\t\t\t\t\tjQuery(this).removeClass('active');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tjQuery('#iArt_userpanelAdmin .iArt_userpanelBox, #iArt_userpanel .iArt_userpanelBox').stop(true, false).hide().css('right', '198px');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t/* -------------------------------------------------------------  */\n\n\n\t\t\t\tjQuery('.iArt_userPanelTrigger').each(function(){\n\t\t\t\t\tjQuery(this).click(function(){\n\t\t\t\t\t\tjQuery('.iArt_userpanelBox:visible').mouseleave().unbind();\n\n\t\t\t\t\t\tif(jQuery(this).attr('data-job') == \"KickUser\"){\n\n\t\t\t\t\t\t\t/* User Kicken  */\n\t\t\t\t\t\t\t/* ===========================================================================================================  */\n\t\t\t\t\t\t\t\tvar dendakicken =  jQuery(this).attr('data-user');\n\t\t\t\t\t\t\t\tvar sicher = confirm(\"Benutzer \"+dendakicken+\" wirklich kicken?\");\n\t\t\t\t\t\t\t\tif (sicher == true){socket.emit('KickUser', dendakicken);}\n\t\t\t\t\t\t\t/* ===========================================================================================================  */\n\n\t\t\t\t\t\t}else if(jQuery(this).attr('data-job') == \"PrivChat\"){\n\n\t\t\t\t\t\t\t/* Privatchat Beginnen  */\n\t\t\t\t\t\t\t/* ===========================================================================================================  */\n\t\t\t\t\t\t\t\tvar mitdemda= jQuery(this).attr('data-user');\n\t\t\t\t\t\t\t\tvar neuerstellung = iArt_checkIfTabExist(mitdemda);\n\n\t\t\t\t\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){\n\t\t\t\t\t\t\t\t\tiArt_toggleWhishList();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* Check ob Tab / Chat bereits besteht */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\tif(neuerstellung){\n\t\t\t\t\t\t\t\t\t\t/* Tab muss neu erstellt werden  */\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\tiArt_removeActivClassOnTabs();\n\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privMessTabPanel').append('<div class=\"iArt_ChatTab active\" data-user=\"'+mitdemda+'\" id=\"iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')+'\" data-target=\"iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')+'\">'+mitdemda+'<span class=\"iArt_howManyMessages\"> (<span class=\"iArt_messageCount\">0</span>)</span> <div class=\"iArt_chatTabClose\">x</div></div>');\n\n\t\t\t\t\t\t\t\t\t\t\t/* Check ob Chatfenster neu erstellt werden muss und wenn n\u00f6tig erstellen  */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\tvar neuerprivchat = iArt_checkIfChatWindowExist(mitdemda);\n\t\t\t\t\t\t\t\t\t\t\t\tif(neuerprivchat){\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_chatmessageContainer').append('<div class=\"iArt_chatWindowContainer\" id=\"iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')+'\"><div class=\"messages\"><div class=\"iArtChatMessageItem reChatInfo\">Neuer Privatchat mit '+mitdemda+'</div></div>');\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t\t\t/* Das Chatfenster in den Vordergrund bringen  */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\tiArt_changChatWindow('iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-'), mitdemda);\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t\t\t\t/* Klick Funktionen der Tabs (neu) setzten  */\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\tiArt_provTabsClickfunctions();\n\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\t\t/* Es gibt bereits einen Tab f\u00fcr diesen Benutzer  */\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\tvar chatistaktiv = iArt_checkIfexistinTabisActive(mitdemda);\n\t\t\t\t\t\t\t\t\t\t\tif(chatistaktiv){\n\t\t\t\t\t\t\t\t\t\t\t\t/* Der Tab ist bereits aktiv (klick ignorieren) */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t/* Der Tab ist nicht aktiv (Springen zu diesem Chat ) */\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t\t\tiArt_removeActivClassOnTabs();\n\t\t\t\t\t\t\t\t\t\t\t\t\tjQuery('#iArt_privChatTab_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-')).addClass('active');\n\t\t\t\t\t\t\t\t\t\t\t\t\tiArt_changChatWindow('iArt_privChat_'+mitdemda.replace(/ /g, '_').replace(/[^a-z0-9A-Z_]/g, '-'), mitdemda);\n\t\t\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\n\n\t\t\t\t\t\t\t\t/* Tab-Panel \u00f6ffnen falls geschlossen  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tiArt_CheckingTabBar();\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\n\t\t\t\t\t\t\t\t/* Tabs-Panel auf Aktiven Chat ausrichten  */\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t\t\tiArt_scrollTabPanel();\n\t\t\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\t/* ===========================================================================================================  */\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\n\t\t/* Nachrichten-Ton abspielen */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_PlayMessageSound(){\n\t\t\t\tif(!soundsDisabled){\n\t\t\t\t\tdocument.getElementById('messagePiep').load();\n\t\t\t\t\tdocument.getElementById('messagePiep').play();\n\t\t\t\t}\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\n\t\t/* Admin-Session \u00fcberpr\u00fcfen inkl. Keep Alive */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_checkingREAdminSession(){\n\t\t\t\tjQuery('#iArt_usersessionCheck').attr('src','');\n\t\t\t\tjQuery('#iArt_usersessionCheck').attr('src','http://radio-emergency.de/includes/checkadmin_json.php');\n\n\t\t\t\tjQuery('#iArt_usersessionCheck').unbind().load(function(){\n\t\t\t\t\tvar istWirklichderAdmin = jQuery('#iArt_usersessionCheck').contents().find('#iArt_sessionUser').html();\n\t\t\t\t\tif(istWirklichderAdmin != \"null\" && istWirklichderAdmin != \"\"){\n\t\t\t\t\t\t/* Admin-Session Vorhanden -> Admin-Status erneuern  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_userNameBackup').val(istWirklichderAdmin);\n\t\t\t\t\t\t\tisteiner=1;\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t}else{\n\t\t\t\t\t\t/* Keine Admin-Session  */\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('body').html('<div style=\"color: #027A82; font-weight:bold; text-align:center; padding-top:40px; font-size: 18px;line-height: 23px;-webkit-font-smoothing: antialiased;\">Deine Admin-Session wurde beendet!<br />Bittel logge Dich erneut im RE-Admin ein und lade im Anschluss dieses Fenster neu.</div>');\n\t\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar nextcheck = window.setTimeout(iArt_checkingREAdminSession, 300000);\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Smiley-Fenster ein/Ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_toggleSmileyWin(){\n\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){\n\t\t\t\t\tjQuery('#iArt_smileyWin').removeClass('active');\n\t\t\t\t\tjQuery('#iArt_smileyWin').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 500, function(){\n\t\t\t\t\t\tjQuery('#iArt_smileyHelpFrame').hide();\n\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){iArt_toggleWhishList();}\n\t\t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){iArt_toggleTextFormating();}\n\t\t\t\t\tjQuery('#iArt_smileyWin').addClass('active');\n\t\t\t\t\tjQuery('#iArt_smileyHelpFrame').show();\n\t\t\t\t\tjQuery('#iArt_smileyWin').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 500);\n\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t\t}\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Klick auf Smileys */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_addSmileyClickfunction(){\n\t\t\t\tjQuery('.iArt_smileyEntry').each(function(){\n\t\t\t\t\tjQuery(this).click(function(){\n\t\t\t\t\t\tjQuery('#iArt_chatMessageInput').val(jQuery('#iArt_chatMessageInput').val()+jQuery(this).attr('data-short')).focus();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Pr\u00fcfung des Musikwunsch-Formulars */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_CheckWunschForm(){\n\n\t\t\t\tif(jQuery('#iArt_whish_Artist').val().length <= 1){\n\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').html('Bitte Interpreten angeben.');\n\t\t\t\t\tQuery('#iArt_whish_Artist').focus();\n\t\t\t\t\tiArt_fadeOutWunschboxBlocker();\n\t\t\t\t\treturn false;\n\t\t\t\t}else if(jQuery('#iArt_whish_Titel').val().length <= 1){\n\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').html('Bitte Titel angeben.');\n\t\t\t\t\tjQuery('#iArt_whish_Titel').focus();\n\t\t\t\t\tiArt_fadeOutWunschboxBlocker();\n\t\t\t\t\treturn false;\n\t\t\t\t}else{\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Blocker im Wunsch-Formular ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_fadeOutWunschboxBlocker(){\n\t\t\t\twindow.setTimeout(function(){\n\t\t\t\t\tjQuery('#iArt_wunschboxBlocker').fadeOut();\n\t\t\t\t}, 1500);\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Wunsch-Formular Ein/Ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_toggleWhishForm(){\n\t\t\t\tif(jQuery('#iArt_wunschboxContainer').hasClass('active')){\n\t\t\t\t\tjQuery('#iArt_wunschboxContainer').removeClass('active').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 300);\n\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t\t}else{\n\t\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){iArt_toggleSmileyWin();}\n\t\t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){iArt_toggleTextFormating();}\n\t\t\t\t\tjQuery('#iArt_wunschboxContainer').addClass('active').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 300, function(){\n\t\t\t\t\t\tjQuery('#iArt_whish_Artist').focus();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Wunschbox Ein/Ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_toggleWhishList(){\n\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){\n\t\t\t\t\tjQuery('#iArt_WunschboxAusgabeContainer').removeClass('active').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 300);\n\t\t\t\t\tif(jQuery('#iArt_WunschBearbeitung').hasClass('active')){\n\t\t\t\t\t\tiArt_toggleWhishListItem();\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){iArt_toggleSmileyWin();}\n\t\t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){iArt_toggleTextFormating();}\n\t\t\t\t\tif(jQuery('#iArt_wunschlimitSetter').hasClass('active')){iArt_toggleWunschLimitAdmin();}\n\t\t\t\t\tjQuery('#iArt_WunschboxAusgabeContainer').addClass('active').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 300);\n\t\t\t\t}\n\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Wunsch \u00f6ffnen/Schlie\u00dfen (Nur Admin) */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_toggleWhishListItem(){\n\t\t\t\t\tif(jQuery('#iArt_WunschBearbeitung').hasClass('active')){\n\t\t\t\t\t\tjQuery('#iArt_WunschBearbeitung').removeClass('active').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 300);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){iArt_toggleSmileyWin();}\n\t\t\t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){iArt_toggleTextFormating();}\n\t\t\t\t\t\tif(jQuery('#iArt_wunschlimitSetter').hasClass('active')){iArt_toggleWunschLimitAdmin();}\n\t\t\t\t\t\tjQuery('#iArt_WunschBearbeitung').addClass('active').stop(true, false).animate({height:'toggle', opacity:'toggle'}, 300);\n\t\t\t\t\t}\n\t\t\t\t\tjQuery('#iArt_chatMessageInput').focus();\n\t\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Textformatierung Ein/Ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_toggleTextFormating(){\n\t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){\n\t\t\t\t\t/* Textformatierung ist offen  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\t\tjQuery('#iArt_colorWin').removeClass('active');\n\t\t\t\t\t\t\tjQuery('#iArt_colorWin').stop(true, false).fadeOut();\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t}else{\n\t\t\t\t\t/* Textformatierung ist geschlossen  */\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t\t\t\tjQuery('#iArt_colorWin').addClass('active');\n\t\t\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){iArt_toggleSmileyWin();}\n\t\t\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){iArt_toggleWhishList();}\n\t\t\t\t\t\tjQuery('#iArt_colorWin').stop(true, false).fadeIn();\n\t\t\t\t\t/* -------------------------------------------------------------  */\n\t\t\t   }\n\t\t\t   jQuery('#iArt_chatMessageInput').focus();\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Admin f\u00fcr Wunschlimit Ein/Ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_toggleWunschLimitAdmin(){\n\t\t\t\tif(jQuery('#iArt_wunschlimitSetter').hasClass('active')){\n\t\t\t\t\tjQuery('#iArt_wunschlimitSetter').removeClass('active').stop(true, false).animate({opacity:'toggle', left:'30px'}, 200);\n\t\t\t\t\tjQuery('#iArt_wunschlimitImAdmin').text(wunschlimit);\n\t\t\t\t}else{\n\t\t\t\t\tjQuery('#iArt_wunschlimitSetter').addClass('active').stop(true, false).animate({opacity:'toggle', left:'20px'}, 200);\n\t\t\t\t}\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Best\u00e4tigung bei abgesendeten Wunsch */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_bestaetigeWunsch(){\n\t\t\t\tjQuery('#iArt_wunschBestaetigung').addClass('active').stop(true, false).animate({bottom:'10px'}, 350, function(){\n\t\t\t\t\tjQuery('#iArt_wunschBestaetigung').stop(true, false).animate({bottom:'10px'}, 1200, function(){\n\t\t\t\t\t\tjQuery('#iArt_wunschBestaetigung').stop(true, false).animate({bottom:'-70px'}, 350, function(){\n\t\t\t\t\t\t\tjQuery('#iArt_wunschBestaetigung').removeClass('active')\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t/* ############################################################################################################ */\n\n\t\t/* Alle zusatzfenster ausblenden */\n\t\t/* ############################################################################################################ */\n\t\t\tfunction iArt_hideAllWindows(){\n\t\t\t\tif(jQuery('#iArt_colorWin').hasClass('active')){\n\t\t\t\t\tiArt_toggleTextFormating();\n\t\t\t\t}\n\t\t\t\tif(jQuery('#iArt_wunschlimitSetter').hasClass('active')){\n\t\t\t\t\tiArt_toggleWunschLimitAdmin();\n\t\t\t\t}\n\t\t\t\tif(jQuery('#iArt_WunschboxAusgabeContainer').hasClass('active')){\n\t\t\t\t\tiArt_toggleWhishList();\n\t\t\t\t}\n\t\t\t\tif(jQuery('#iArt_WunschBearbeitung').hasClass('active')){\n\t\t\t\t\tiArt_toggleWhishListItem();\n\t\t\t\t}\n\t\t\t\tif(jQuery('#iArt_wunschboxContainer').hasClass('active')){\n\t\t\t\t\tiArt_toggleWhishForm();\n\t\t\t\t}\n\t\t\t\tif(jQuery('#iArt_smileyWin').hasClass('active')){\n\t\t\t\t\tjQuery('#iArt_smileyWin').removeClass('active').stop(true, false).hide();;\n\t\t\t\t\tjQuery('#iArt_smileyHelpFrame').hide();\n\t\t\t\t}\n\t\t\t}\n\t\t/* ############################################################################################################ */\n"], "filenames": ["js_on_radio-emergency.de_/re_chat.js"], "buggy_code_start_loc": [104], "buggy_code_end_loc": [402], "fixing_code_start_loc": [104], "fixing_code_end_loc": [402], "type": "CWE-79", "message": "A vulnerability was found in Doc2k RE-Chat 1.0. It has been classified as problematic. This affects an unknown part of the file js_on_radio-emergency.de_/re_chat.js. The manipulation leads to cross site scripting. It is possible to initiate the attack remotely. The patch is named bd17d497ddd3bab4ef9c6831c747c37cc016c570. It is recommended to apply a patch to fix this issue. The associated identifier of this vulnerability is VDB-238155.", "other": {"cve": {"id": "CVE-2016-15035", "sourceIdentifier": "cna@vuldb.com", "published": "2023-08-28T04:15:08.573", "lastModified": "2024-02-29T01:17:45.180", "vulnStatus": "Modified", "descriptions": [{"lang": "en", "value": "A vulnerability was found in Doc2k RE-Chat 1.0. It has been classified as problematic. This affects an unknown part of the file js_on_radio-emergency.de_/re_chat.js. The manipulation leads to cross site scripting. It is possible to initiate the attack remotely. The patch is named bd17d497ddd3bab4ef9c6831c747c37cc016c570. It is recommended to apply a patch to fix this issue. The associated identifier of this vulnerability is VDB-238155."}, {"lang": "es", "value": "Se ha encontrado una vulnerabilidad en Doc2k RE-Chat v1.0. Se ha clasificado como problem\u00e1tica. Afecta a una parte desconocida del archivo \"js_on_radio-emergency.de_/re_chat.js\". La manipulaci\u00f3n conduce a Cross-Site Scripting (XSS). Es posible iniciar el ataque de forma remota. El parche se llama bd17d497ddd3bab4ef9c6831c747c37cc016c570. Se recomienda aplicar el parche para solucionar este problema. El identificador asociado a esta vulnerabilidad es VDB-238155."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 6.1, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 2.7}, {"source": "cna@vuldb.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:U/C:N/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 3.5, "baseSeverity": "LOW"}, "exploitabilityScore": 2.1, "impactScore": 1.4}], "cvssMetricV2": [{"source": "cna@vuldb.com", "type": "Secondary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:S/C:N/I:P/A:N", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "SINGLE", "confidentialityImpact": "NONE", "integrityImpact": "PARTIAL", "availabilityImpact": "NONE", "baseScore": 4.0}, "baseSeverity": "MEDIUM", "exploitabilityScore": 8.0, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "cna@vuldb.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-79"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:doc2k:re-chat:1.0:*:*:*:*:*:*:*", "matchCriteriaId": "1573F33F-0E54-4F18-9034-00A212DF255B"}]}]}], "references": [{"url": "https://github.com/Doc2k/re-chat/commit/bd17d497ddd3bab4ef9c6831c747c37cc016c570", "source": "cna@vuldb.com", "tags": ["Patch", "Vendor Advisory"]}, {"url": "https://vuldb.com/?ctiid.238155", "source": "cna@vuldb.com", "tags": ["Permissions Required", "Third Party Advisory"]}, {"url": "https://vuldb.com/?id.238155", "source": "cna@vuldb.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/Doc2k/re-chat/commit/bd17d497ddd3bab4ef9c6831c747c37cc016c570"}}