{"buggy_code": ["* [Bug 1485] Sometimes ntpd crashes\n(4.2.7p366) 2013/04/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1866] Disable some debugging output in refclock_oncore.\n(4.2.7p365) 2013/04/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2149] Log an error message if /proc/net/if_inet6 cannot be opened.\n(4.2.7p364) 2013/03/26 Released by Harlan Stenn <stenn@ntp.org>\n* Bump sntp/include/autogen-version.def .\n(4.2.7p363) 2013/03/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2357] sntp/libopts/usage.c sometimes needs -lintl.\n* Upgrade to libopts from 5.17.3pre10.\n(4.2.7p362) 2013/03/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2364] \"sed -i\" is not portable.\n(4.2.7p361) 2013/03/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2357] sntp/libopts/usage.c sometimes needs -lintl.\n* [Bug 2365] \"make check\" fails in libevent.\n(4.2.7p360) 2013/03/15 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade libevent (coverity fixes, etc.).\n* EEXIST is OK for mkdir() in sntp/kod_management.c.\n(4.2.7p359) 2013/03/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2359] Fix send_via_ntp_signd() prototype.\n(4.2.7p358) 2013/02/27 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade to autogen-5.17.3pre4 and libopts-38.0.13.\n* [Bug 2357] sntp/libopts/usage.c on NetBSD needs -lintl.\n(4.2.7p357) 2013/02/22 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade to autogen-5.17.2pre and libopts-38.0.13.\n(4.2.7p356) 2013/02/19 Released by Harlan Stenn <stenn@ntp.org>\n* Added loc/debian.\n(4.2.7p355) 2013/02/18 Released by Harlan Stenn <stenn@ntp.org>\n* CID 739708: Check return status of fcntl() in refclock_arc.c.\n* CID 739709: Check return status of fcntl() in refclock_datum.c.\n* CID 739710: Check return status of mkdir() in sntp/kod_management.c.\n* CID 739711: Ignore return status of remove() in ntp-keygen.c.\n* CID 739723: Print sizeof as unsigned.\n* CID 971094: Clean up time of check/time of use in check_leap_file().\n(4.2.7p354) 2013/02/10 Released by Harlan Stenn <stenn@ntp.org>\n* CID 97194: Check return from setsockopt().\n* CID 739473,739532: Out-of-bounds access/illegal address computation.\n* CID 739558: Double close.\n* CID 739559: Double close.\n* CID 739713: devmask/recmask copy/paste error.\n* CID 739714: Fix code indentation level.\n* CID 739715: Clean up sockaddr_dump().\n(4.2.7p353) 2013/02/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2326] Check hourly for a new leapfile if the old one expired.\n(4.2.7p352) 2013/01/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2326] Notice when a new leapfile has been installed.\n(4.2.7p351) 2013/01/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2328] Don't apply small time adjustments on Windows versions\n  which don't support this.\n(4.2.7p350) 2013/01/21 Released by Harlan Stenn <stenn@ntp.org>\n* Added sntp/loc/netbsd based on info from Christos Zoulas.\n(4.2.7p349) 2013/01/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2321] Fixed Windows build, but autogen update still required.\n(4.2.7p348) 2013/01/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2327] Rename sntp/ag-tpl/:Old to sntp/ag-tpl/Old.\n* Cleanup to ntpsnmpd-opts.def.\n* Cleanup to ntpq.texi.\n* Documentation cleanup to the ntpd, ntpdc, ntpq and ntp-wait\n  .def files.\n* In ntp.conf.def, cleanup SEE ALSO, document 'rlimit' options.\n* Add a reference to RFC5907 in the ntpsnmpd documentation.\n(4.2.7p347) 2013/01/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2325] Re-enable mlockall() check under Linux post-1223 fix.\n(4.2.7p346) 2013/01/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1223] reorganize inclusion of sys/resource.h.\n(4.2.7p345) 2013/01/04 Released by Harlan Stenn <stenn@ntp.org>\n* Update several .def files to use autogen-5.17 feature set.\n(4.2.7p344) 2013/01/03 Released by Harlan Stenn <stenn@ntp.org>\n* Refactor and enhance mdoc2texi.\n* Make sure agtexi-file.tpl defines label-str.\n* Cleanup to ntp.conf.def.\n* Upgrade to autogen-5.17 and libopts-37.0.12.\n(4.2.7p343) 2013/01/02 Released by Harlan Stenn <stenn@ntp.org>\n* Update the copyright year.\n(4.2.7p342) 2012/12/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2081 - Backward Incompatible] rawstats now logs everything.\n(4.2.7p341) 2012/12/30 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.7p340) 2012/12/29 Released by Harlan Stenn <stenn@ntp.org>\n* mdoc2texi fixes: trailing punctuation.\n(4.2.7p339) 2012/12/26 Released by Harlan Stenn <stenn@ntp.org>\n* mdoc2texi fixes: parseQuote, closing of list item tables.\n* ntp-wait, ntpd, ntpdc, ntpq, ntpsnmpd autogen documentation updates.\n(4.2.7p338) 2012/12/25 Released by Harlan Stenn <stenn@ntp.org>\n* mdoc2texi fixes: Handle_ArCmFlIc, Handle_Fn, HandleQ.\n* ntp-keygen autogen documentation updates.\n* ntpq autogen docs.\n(4.2.7p337) 2012/12/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1223] More final cleanup for rlimit changes.\n(4.2.7p336) 2012/12/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1223] Final cleanup for rlimit changes.\n(4.2.7p335) 2012/12/18 Released by Harlan Stenn <stenn@ntp.org>\n* Update documentation templates and definitions.\n* Create agtexi-file.tpl .\n(4.2.7p334) 2012/12/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2114] Update tests for sntp's synch distance.\n* Create ntp-keygen.{html,texi}.\n(4.2.7p333) 2012/12/07 Released by Harlan Stenn <stenn@ntp.org>\n* Autogen documentation cleanup.\n(4.2.7p332) 2012/12/06 Released by Harlan Stenn <stenn@ntp.org>\n* sntp documentation cleanup.\n(4.2.7p331) 2012/12/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2114] Correctly calculate sntp's synch distance.\n(4.2.7p330) 2012/12/03 Released by Harlan Stenn <stenn@ntp.org>\n* autogen doc cleanup\n(4.2.7p329) 2012/12/01 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2278] ACTS flag3 mismatch between code and driver18.html.\n* Use an enum for the ACTS state table.\n* html doc reconciliation with DLM's copy.\n(4.2.7p328) 2012/11/30 Released by Harlan Stenn <stenn@ntp.org>\n* html doc reconciliation with DLM's copy.\n(4.2.7p327) 2012/11/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2024] Identify Events in the system status word in decode.html.'\n* [Bug 2040] Provide a command-line option for the identity key bits.\n* Create loc/darwin for Mac OSX\n(4.2.7p326) 2012/11/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1214] 'proto: precision = ...' should be at INFO, not NOTICE.\n* [Bug 2246] Clear sys_leap when voting says to disarm the leap.\n(4.2.7p325) 2012/11/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2202] ntpq.html: there is no \"acv\" billboard.\n* [Bug 2306] keep pps hack for Win32 even if user-mode/loopback\n  PPS API is activated on a serial line.\n(4.2.7p324) 2012/11/19 Released by Harlan Stenn <stenn@ntp.org>\n* Reinstate doc fix to authentic.html from Mike T.\n* [Bug 1223] cleanup for rlimit changes.\n* [Bug 2098] Install DLM's HTML documentation.\n* [Bug 2306] Added user-mode/loop-back PPS API provider for Win32\n(4.2.7p323) 2012/11/18 Released by Harlan Stenn <stenn@ntp.org>\n* html/ updates from Dave Mills.\n(4.2.7p322) 2012/11/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1223] Allow configurable values for RLIMIT_STACK and\n  RLIMIT_MEMLOCK.\n* [Bug 1320] Log ntpd's initial command-line parameters. (updated fix)\n* [Bug 2120] no sysexits.h under QNX.\n* [Bug 2123] cleanup to html/leap.html.\n(4.2.7p321) 2012/11/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1320] Log ntpd's initial command-line parameters.\n(4.2.7p320) 2012/11/12 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 969] Clarify ntpdate.html documentation about -u and ntpd.\n* [Bug 1217] libisc/ifiter_sysctl.c:internal_current(): Ignore RTM\n  messages with wrong version\n(4.2.7p319) 2012/11/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2296] Fix compile problem with building with old OpenSSL.\n(4.2.7p318) 2012/11/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2301] Remove spurious debug output from ntpq.\n(4.2.7p317) 2012/11/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 922] Allow interspersed -4 and -6 flags on the ntpq command line.\n(4.2.7p316) 2012/10/27 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2296] Update fix for Bug 2294 to handle --without-crypto.\n(4.2.7p315) 2012/10/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2294] ntpd crashes in FIPS mode.\n(4.2.7p314) 2012/10/23 Released by Harlan Stenn <stenn@ntp.org>\n* Document a tricky malloc() of dns_ctx in sntp.\n(4.2.7p313) 2012/10/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2291] sntp should report why it cannot open file.kod.\n* [Bug 2293] add support for SO_BINTIME, refine support for\n  SO_TIMESTAMPNS (bug 1374)\n(4.2.7p312) 2012/10/11 Released by Harlan Stenn <stenn@ntp.org>\n* Clean up testing/debugging of fix for [Bug 938] from sntp/main.c .\n(4.2.7p311) 2012/10/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 938] The argument to the -D flag takes a number, not a string.\n* [Bug 1013] ntpdate's HTML page claims wrong default version.\n* [Bug 1374] Support SO_TIMESTAMPNS.\n(4.2.7p310) 2012/10/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1374] Support SO_TIMESTAMPNS.\n* [Bug 2266] Remove deprecated refclock_trak.c from Windows Makefile\n  equivalents.\n* [Bug 2274] Bring libopts/enum.c back to (old) ANSI C compliance.\n(4.2.7p309) 2012/10/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2287] ntpdate returns 0 even if adjtime() call fails.\n(4.2.7p308) 2012/09/29 Released by Harlan Stenn <stenn@ntp.org>\n* CID 97198: Check return from ioctl() calls in refclock_acts.c.\n(4.2.7p307) 2012/09/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1997] Fix sntp broadcast timeouts.\n* [Bug 2234] Fix incorrect ntptrace html documentation.\n* [Bug 2262] Install html docs in $htmldir.\n* Fix typo in html/select.html.\n(4.2.7p306) 2012/09/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 752] ToS cleanup from Mike Tatarinov.\n(4.2.7p305) 2012/09/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 752] Use proper ToS network packet markings for IPv4 and IPv6.\n* [Bug 1232] Convert SHM refclock to use struct timespec.\n* [Bug 2258] Add syslog message about leap insertion.\n* [Bug 2263] broadcast server doesn't work for host with\n  OS_MISSES_SPECIFIC_ROUTE_UPDATES.\n* [Bug 2271] Decode refclock types when built with --disable-all-clocks.\n* [Bug 2276] clk_sel240x.c #define's _XOPEN_SOURCE, breaking QNX6.\n* Updates to driver28.html.\n(4.2.7p304) 2012/09/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2264] Cleanup SEL240X Refclock.\n* In refclock_wwv.c rename SECOND to WWV_SEC and MINUTE to WWV_MIN.\n(4.2.7p303) 2012/09/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1232] Add nanosecond support to SHM driver.\n(4.2.7p302) 2012/09/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2160] Log warning about expired leapseconds file.\n(4.2.7p301) 2012/09/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2164] Greater precision needed for ntpq offset report.\n* Clean the man5_MANS in ntpd/ .\n(4.2.7p300) 2012/09/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2262] Install sntp.html into htmldir.\n* [Bug 2270] Install fails due to repeated man5 page names.\n(4.2.7p299) 2012/09/01 Released by Harlan Stenn <stenn@ntp.org>\n* More cleanup to the bootstrap script.\n(4.2.7p298) 2012/09/01 Released by Harlan Stenn <stenn@ntp.org>\n* Handle additional man page sections in the bootstrap script.\n* Remove extraneous parens.\n* Add a missing \"%s\" syslog format string.\n(4.2.7p297) 2012/09/01 Released by Harlan Stenn <stenn@ntp.org>\n* Fix mdoc2man.\n* Distribute ntp.conf.def and ntp.keys.def.\n(4.2.7p296) 2012/08/31 Released by Harlan Stenn <stenn@ntp.org>\n* Begin support for autogen maintaining ntp.conf and ntp.keys docs.\n* Upgrade to autogen-5.16.2 and libopts-36.5.11.\n* Potential bugfix for agtexi-cmd.tpl.\n(4.2.7p295) 2012/08/11 Released by Harlan Stenn <stenn@ntp.org>\n* Look for syslog's facilitynames[].\n(4.2.7p294) 2012/08/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2242] configure fails to detect getifaddrs function on Solaris.\n* [Bug 2249] Bad operator for 'test' in 'make check' of libevent.\n* [Bug 2252] palisade: formats nanosecs to a 6-char field.\n* Attempt to resolve strict-aliasing violation in refclock_tsyncpci.c.\n* Fix && -> & typo in refclock_palisade.c debug statements.\n(4.2.7p293) 2012/08/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2247] (more) Get rid of the TRAK refclock - deprecated since 2006.\n* Documentation cleanup from Mike T.\n* Cleanup kclk_sel240x.o rules in libparse/Makefile.am.\n(4.2.7p292) 2012/08/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1545] Note why we are logging the Version string.\n* [Bug 1872] Remove legacy ppsclock fdpps, #ifdef PPS.\n* [Bug 2075] Fix spelling of 'incompatible'.\n* [Bug 2247] Get rid of the TRAK refclock - deprecated since 2006.\n* Clean up an exit status in ntpq.c.\n(4.2.7p291) 2012/07/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2241] MDNS registration should only happen if requested.\n(4.2.7p290) 2012/07/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1454] Add parse clock support for the SEL-240x GPS products.\n* CID 709185: refclock_chu.c will leak fd==0 (better fix)\n(4.2.7p289) 2012/07/16 Released by Harlan Stenn <stenn@ntp.org>\n* CID 97123: Future-proof possible change to refclock_nmea.c.\n* CID 97377: ntp-keygen.c's followlink() might not NUL-terminate.\n* CID 709185: refclock_chu.c will leak fd==0 (which should be impossible).\n(4.2.7p288) 2012/07/03 Released by Harlan Stenn <stenn@ntp.org>\n* CID 709173: Make sure a libisc function we do not use is called properly.\n(4.2.7p287) 2012/07/03 Released by Harlan Stenn <stenn@ntp.org>\n* Remove 1024 associations-per-server limit from ntpq.\n* Remove blank line between ntpq mreadvar associations.\n(4.2.7p286) 2012/06/28 Released by Harlan Stenn <stenn@ntp.org>\n* CID 97193: check return from sscanf() in ntp_config.c.\n* CID 709169: check return from open(\"/dev/null\", 0) and friends.\n* CID 709207: Initialize \"quality\" for ulink_receive.\n(4.2.7p285) 2012/06/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2227] Enable mrulist access control via \"restrict ... nomrulist\".\n* Automake-1.12 wants us to use AM_PROG_AR.\n* Conditionalize msyslog messages about rejected mode 6 requests due to\n  nomodify and nomrulist restrictions under \"logconfig +sysinfo\".\n* Increment sys_restricted in a few rejection paths due to nomodify\n  restrictions where previosuly overlooked.\n(4.2.7p284) 2012/06/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2225] libevent configure hangs.\n* Update bundled libevent to git master, post libevent 2.1.1-alpha.\n(4.2.7p283) 2012/06/16 Released by Harlan Stenn <stenn@ntp.org>\n* In sntp/m4/ntp_openssl.m4, Support multiple package names for the\n  crypto library.  Add legacy support for -Wl,-rpath.\n(4.2.7p282) 2012/06/15 Released by Harlan Stenn <stenn@ntp.org>\n* tickadj may need to be linked with PTHREAD_LIBS.\n(4.2.7p281) 2012/06/14 Released by Harlan Stenn <stenn@ntp.org>\n* U_INT32_MAX cleanup in include/ntp_types.h .\n* When linking, ntp_keygen and tickadj need $(LIBM).\n(4.2.7p280) 2012/06/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2224] Use-after-free in routing socket code after dropping root.\n(4.2.7p279) 2012/06/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2211] findbcastinter(): possibly undefined variable iface used.\n* [Bug 2220] Incorrect check for maximum association id in ntpq.\n(4.2.7p278) 2012/06/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2204] Build with --enable-getifaddrs=glibc fails.\n* [Bug 2178] refclock_tsyncpci.c reach register fails to shift.\n* [Bug 2191] dcfd -Y y2kcheck on CentOS 6.2 x86_64 breaks make check.\n(4.2.7p277) 2012/05/25 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2193] Building timestruct tests with Clang 3.1 fails.\n(4.2.7p276) 2012/05/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2179] Remove sntp/header.h.\n(4.2.7p275) 2012/04/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1744] Remove obsolete ntpdate/ntptime* items.\n(4.2.7p274) 2012/04/25 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2174] ntpd rejects source UDP ports less than 123 as bogus.\n(4.2.7p273) 2012/04/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2141] handle_sigio() calls get_systime(), which must be\n  reentrant when SIGIO is used.  Sanity checks relative to the prior\n  get_systime() are disabled in ntpd on systems with signaled I/O, but\n  active in sntp and ntpdate.\n* Correct authnumfreekeys accounting broken in 4.2.7p262.\n(4.2.7p272) 2012/04/14 Released by Harlan Stenn <stenn@ntp.org>\n* LCRYPTO is gone - replace with VER_SUFFIX.\n* Change the link order for ntpsntpd.\n* Remove extra 'nlist' check from configure.ac.\n(4.2.7p271) 2012/04/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1122] openssl detection via pkg-config fails when no additional\n  -Idir flags are needed.\n* Avoid overwriting user variable LDFLAGS with OpenSSL flags, instead\n  they are added to LDFLAGS_NTP.\n(4.2.7p270) 2012/03/26 Released by Harlan Stenn <stenn@ntp.org>\n* Update driver45.html page.\n(4.2.7p269) 2012/03/25 Released by Harlan Stenn <stenn@ntp.org>\n* Clean up configure.ac.\n* Cleanup configure.ac's TSYNC PCI section.\n(4.2.7p268) 2012/03/24 Released by Harlan Stenn <stenn@ntp.org>\n* Update driver45.html page.\n(4.2.7p267) 2012/03/23 Released by Harlan Stenn <stenn@ntp.org>\n* Initial cut at a basic driver45.html page.\n(4.2.7p266) 2012/03/21 Released by Harlan Stenn <stenn@ntp.org>\n* Add refclock_tsyncpci.c (driver 45) supporting Spectracom TSYNC timing\n  boards.\n(4.2.7p265) 2012/03/20 Released by Harlan Stenn <stenn@ntp.org>\n* Treat zero counter as indication of precise system time in Windows\n  PPSAPI helper function pps_ntp_timestamp_from_counter(), enabling\n  PPSAPI providers to use the Windows 8 precise clock directly.\n(4.2.7p264) 2012/03/14 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2160] Note if leapseconds file is past its prime.\n* Use GetSystemTimePreciseAsFileTime() on Windows 8.\n(4.2.7p263) 2012/03/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2156] clock instability with LOCAL driver, from Miroslav Lichvar.\n* [Bug 2159] Windows ntpd using leapfile erroneous leap second 20120401.\n(4.2.7p262) 2012/02/29 Released by Harlan Stenn <stenn@ntp.org>\n* Improve ntpd scalability for servers with many trusted keys.\n(4.2.7p261) 2012/02/27 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2048] add the clock variable timecode to SHM refclock.\n(4.2.7p260) 2012/02/24 Released by Harlan Stenn <stenn@ntp.org>\n* Fix the check-scm-rev invocation in several Makefile.am's.\n(4.2.7p259) 2012/02/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2148] ntpd 4.2.7p258 segfault with 0x0100000 bit in NMEA mode.\n* refclock_nmea.c merge cleanup thanks to Juergen Perlinger.\n(4.2.7p258) 2012/02/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2140] Rework of Windows I/O completion port handling to avoid\n  garbling serial input in UNIX line discipline emulation.\n* [Bug 2143] NMEA driver: discard data if quality indication not good,\n  add statistic counters (mode bit enabled) to clockstats file.\n(4.2.7p257) 2012/02/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2135] defer calls to 'io_input' to main thread under Windows.\n(4.2.7p256) 2012/02/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2131] Set the system variable settimeofday only after clock step.\n* [Bug 2134] --enable-C99-snprintf does not force rpl_snprintf use.\n(4.2.7p255) 2012/01/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 603] Only link with nlist()-related libraries when needed:\n  More cleanup.\n(4.2.7p254) 2012/01/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 603] Only link with nlist()-related libraries when needed.\n(4.2.7p253) 2012/01/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2126] Compile error on Windows with libopts from Autogen 5.14.\n* Update one of the license URLs.\n(4.2.7p252) 2012/01/25 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade to autogen-5.14 (and libopts-36.1.11).\n(4.2.7p251) 2012/01/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2115] ntptrace should accept both rootdispersion and rootdisp.\n(4.2.7p250) 2012/01/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2113] Warn about ignored extra args in ntpq.\n* Update the copyright year.\n(4.2.7p249) 2012/01/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2111] Remove minpoll delay before iburst for pool and\n  manycastclient.\n* Move refclock-specific scheduled timer code under #ifdef REFCLOCK\n  and move \"action\" and \"nextaction\" data for same from struct peer to\n  struct refclockproc.  These provide a way to schedule a callback some\n  seconds in the future.\n(4.2.7p248) 2012/01/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2109] \"make clean check\" is broken with gtest available.\n* [Bug 2110] systime.c typo breaks build on microsecond clocks.\n(4.2.7p247) 2012/01/07 Released by Harlan Stenn <stenn@ntp.org>\n* Fix build break triggered by updating deps-ver and libntp/systime.c at\n  the same time by explicitly depending systime_s.c on systime.c.\n(4.2.7p246) 2012/01/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2104] ntpdc fault with oversize -c command.\n* [Bug 2106] Fix warnings when using -Wformat-security.\n* Refactor timespecops.h and timevalops.h into inline functions.\n(4.2.7p245) 2011/12/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2100] conversion problem with timespec/timeval <--> l_fp fixed;\n  added tests to expose the bug.\n(4.2.7p244) 2011/12/25 Released by Harlan Stenn <stenn@ntp.org>\n* Updates from 4.2.6p5.\n(4.2.7p243) 2011/12/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2095] ntptrace now needs 'rv' instead of 'pstat', reported\n  by Michael Tatarinov.\n(4.2.7p242) 2011/12/21 Released by Harlan Stenn <stenn@ntp.org>\n* Include missing html/icons/sitemap.png, reported by Michael Tatarinov.\n* Documentation updates from Dave Mills.\n(4.2.7p241) 2011/12/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2015] Overriding sys_tick should recalculate sys_precision.\n* [Bug 2037] Fuzzed non-interpolated clock may decrease.\n* [Bug 2068] \"tos ceiling\" default and cap changed to 15.\n* Floor peer delay using system precision, as with jitter, reflecting\n  inability to measure shorter intervals.\n(4.2.7p240) 2011/12/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2092] clock_select() selection jitter miscalculated.\n* [Bug 2093] Reintroduce smaller stratum factor to system peer metric.\n(4.2.7p239) 2011/12/11 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p238) 2011/12/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2082] from 4.2.6p5-RC3: 3-char refid sent by ntpd 4.2.6p5-RC2\n  ends with extra dot.\n* [Bug 2085] from 4.2.6p5-RC3: clock_update() sys_rootdisp calculation\n  omits root delay.\n* [Bug 2086] from 4.2.6p5-RC3: get_systime() should not offset by\n  sys_residual.\n* [Bug 2087] from 4.2.6p5-RC3: sys_jitter calculation overweights\n  sys.peer jitter.\n* from 4.2.6p5-RC3: Ensure NULL peer->dstadr is not accessed in orphan\n  parent selection.\n(4.2.7p237) 2011/12/01 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2050] from 4.2.6p5-RC2: Orphan mode stratum counting to infinity.\n* [Bug 2059] from 4.2.6p5-RC2: optional billboard column \"server\" does\n  not honor -n.\n* [Bug 2066] from 4.2.6p5-RC2: ntpq lopeers ipv6 \"local\" column overrun.\n* [Bug 2068] from 4.2.6p5-RC2: ntpd sends nonprintable stratum 16 refid\n  to ntpq.\n* [Bug 2069] from 4.2.6p5-RC2: broadcastclient, multicastclient spin up\n  duplicate ephemeral associations without broadcastdelay.\n* [Bug 2072] from 4.2.6p5-RC2: Orphan parent selection metric needs\n  ntohl().\n* [Bug 2073] Correct ntpq billboard's MODE_PASSIVE t from 'u' to 'S'.\n* from 4.2.6p5-RC2: Exclude not-yet-determined sys_refid from use in\n  loopback TEST12 (from Dave Mills).\n* from 4.2.6p5-RC2: Never send KoD rate limiting response to MODE_SERVER.\n* Floor calculation of sys_rootdisp at sys_mindisp in clock_update (from\n  Dave Mills).\n* Restore 4.2.6 clock_combine() weighting to ntp-dev, reverting to pre-\n  4.2.7p70 method while also avoiding divide-by-zero (from Dave Mills).\n* Round l_fp traffic interval when converting to integer in rate limit\n  and KoD calculation.\n(4.2.7p236) 2011/11/16 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p235) 2011/11/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2052] Autokey CRYPTO_ASSOC host@group vallen needs checking.\n(4.2.7p234) 2011/11/07 Released by Harlan Stenn <stenn@ntp.org>\n* Clean up -libm entries regarding libntp.a\n(4.2.7p233) 2011/11/06 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p232) 2011/11/05 Released by Harlan Stenn <stenn@ntp.org>\n* Update the NEWS file so we note the default disable of mode 7 requests.\n* Clean up some bitrotted code in libntp/socket.c.\n(4.2.7p231) 2011/11/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1940] ignore auth key if hex decoding fails.\n* Add ntpq reslist command to query access restrictions, similar to\n  ntpdc's reslist.\n(4.2.7p230) 2011/11/01 Released by Harlan Stenn <stenn@ntp.org>\n* Disable mode 7 (ntpdc) query processing in ntpd by default.  ntpq is\n  believed to provide all functionality ntpdc did, and uses a less-\n  fragile protocol that's safer and easier to maintain.  If you do find\n  some management via ntpdc is needed, you can use \"enable mode7\" in the\n  ntpd configuration.\n* Directly limit the number of datagrams in a mrulist response, rather\n  than limiting the number of entries returned to indirectly limit the\n  datagram count.\n* Documentation updates from Dave Mills.\n(4.2.7p229) 2011/10/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1995] fix wrong use of ZERO() macro in 'ntp_calendar.c'\n(4.2.7p228) 2011/10/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1995] add compile time stamp based era unfolding for\n  'step_systime()' and necessary support to 'ntp-calendar.c'.\n(4.2.7p227) 2011/10/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2036] gcc 2.95.3 preprocessor can't nest #ifdef in macro args.\n* A number of compiler warnings eliminated.\n(4.2.7p226) 2011/10/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2035] ntpq -c mrulist sleeps 1 sec between queries, not 5 msec.\n* Documentation updates from Dave Mills.\n(4.2.7p225) 2011/10/15 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p224) 2011/10/14 Released by Harlan Stenn <stenn@ntp.org>\n* ntpq mrulist shows intermediate counts every five seconds while\n  retrieving list, and allows Ctrl-C interruption of the retrieval,\n  showing the incomplete list as retrieved.  Reduce delay between\n  successive mrulist retrieval queries from 30 to 5 msec.  Do not\n  give up mrulist retrieval when a single query times out.\n(4.2.7p223) 2011/10/12 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p222) 2011/10/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2029] \"make check\" clutters syslog.\n* Log signal description along with number on ntpd exit.\n(4.2.7p221) 2011/10/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2025] Switching between daemon and kernel loops can doubly-\n  correct drift\n* [Bug 2028] ntpd -n (nofork) redirects logging to stderr.\n* Documentation updates from Dave Mills.\n(4.2.7p220) 2011/10/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1945] mbg_gps166.h use of _TM_DEFINED conflicts with MS VC.\n* [Bug 1946] parse_start uses open; does not work on Windows.\n* [Bug 1947] Porting parse-based Wharton refclock driver to Windows.\n* [Bug 2024] Remove unused system event code EVNT_CLKHOP.\n(4.2.7p219) 2011/10/04 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p218) 2011/10/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2019] Allow selection of cipher for private key files.\n* Documentation updates from Dave Mills.\n* ntp-keygen private key cipher default now triple-key triple DES CBC.\n* ntp-keygen -M is intended to ignore all other defaults and\n  options, so do not attempt to open existing Autokey host certificate\n  before generating symmetric keys and terminating.\n* Restore IFF, MV, and GQ identity parameter filename convention to\n  ntpkey_<scheme>par_<group/host> in ntpd, matching ntp-keygen.\n* Change some error logging to syslog to ignore logconfig mask, such\n  as reporting PPSAPI failure in NMEA and WWVB refclocks.\n* ntp-keygen on Windows XP and later systems will now create links\n  expected by ntpd.  They are hardlinks on Windows, soft on POSIX.\n* Conditionalize NMEA serial open message under clockevent.\n* Send all peer variables to trappers in report_event().\n(4.2.7p217) 2011/09/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2020] ntp-keygen -s no longer sets host in cert file name.\n* [Backward Incompatible] ntp-keygen -i option long name changed from\n  misleading --issuer-name to --ident.\n(4.2.7p216) 2011/09/27 Released by Harlan Stenn <stenn@ntp.org>\n* sntp documentation tag cleanup.\n* mdoc2man improvements.\n(4.2.7p215) 2011/09/24 Released by Harlan Stenn <stenn@ntp.org>\n* Use patched mdoc2man script, from Eric Feng.\n* Sync with ntp-4.2.6p4 (a no-op).\n(4.2.7p214) 2011/09/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1981] Initial offset convergence applies frequency correction 2x\n  with kernel discipline.\n* [Bug 2008] Initial offset convergence degraded with 500 PPM adjtime().\n* [Bug 2009] EVNT_NSET adj_systime() mishandled by Windows ntpd.\n(4.2.7p213) 2011/09/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1999] NMEA does not send PMOTG messages any more.\n(4.2.7p212) 2011/09/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2003] from 4.2.6p4-RC3: ntpq_read_assoc_peervars() broken.\n(4.2.7p211) 2011/09/01 Released by Harlan Stenn <stenn@ntp.org>\n* Update libevent to git head (2.1 branch) as of 2.0.14-stable.\n(4.2.7p210) 2011/08/31 Released by Harlan Stenn <stenn@ntp.org>\n* Require -D4 or higher for ntpd SIGALRM debug trace from [Bug 2000].\n(4.2.7p209) 2011/08/27 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2000] ntpd worker threads must block signals expected in main\n  thread.\n* [Bug 2001] add ntpq -c timerstats like ntpdc -c timerstats.\n* [Bug 2001] from 4.2.6p4-RC3: ntpdc timerstats reports overruns as\n  handled.\n* Update sntp tests to track the change of root dispersion to\n  synchronization distance.\n(4.2.7p208) 2011/08/24 Released by Harlan Stenn <stenn@ntp.org>\n* Fix the CLOCK_MONOTONIC TRACE() message.\n(4.2.7p207) 2011/08/22 Released by Harlan Stenn <stenn@ntp.org>\n* Restore the original CLOCK_MONOTONIC output format in sntp.\n* Cleanups for ntp-wait-opts.def and ntp.keys.def .\n(4.2.7p206) 2011/08/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1993] ntpd Windows port adj_systime() broken in 4.2.7p203.\n* sntp documentation and behavior improvements suggested by\n  Steven Sommars.\n* Have sntp report synchronization distance instead of root dispersion.\n* Clean up ntp-wait-opts.def .\n(4.2.7p205) 2011/08/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1992] util/tg2 doesn't compile, needs libntp.\n(4.2.7p204) 2011/08/16 Released by Harlan Stenn <stenn@ntp.org>\n* Added support for Garmin's $PGRMF sentence to NMEA driver\n* [Bug 1988] Better sntp send failed error message needed.\n* [Bug 1989] sntp manual page sometimes refers to SNTP as a program.\n* [Bug 1990] sntp output should include stratum.\n(4.2.7p203) 2011/08/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1986] Require Visual C++ 2005 or later compilers in Windows port.\n* Actually use long long for (u_)int64 by correcting spelling of\n  SIZEOF_LONG_LONG in ntp_types.h.\n* Force .exe minimum Windows version to 0x0400 to allow NT4 in\n  vs2005/*.vcproj files.\n* Fix make distcheck with --enable-libevent-regress problem with\n  unwritable $srcdir.\n* Correct init_logging()'s def_syslogmask type to u_int32 following\n  change of ntp_syslogmask from u_long to u_int32 in p202.\n(4.2.7p202) 2011/08/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1983] --without-sntp build breaks in sntp subdir.\n* [Bug 1984] from 4.2.6p4-RC3: ntp/libisc fails to compile on OS X 10.7.\n* [Bug 1985] from 4.2.6p4-RC3: \"logconfig =allall\" rejected.\n(4.2.7p201) 2011/08/05 Released by Harlan Stenn <stenn@ntp.org>\n* sntp: change -h/--headspace to -g/--gap, and change the default gap\n  from 10 to 50ms\n* [Backward Incompatible] from 4.2.6p4: sntp: -l/--filelog ->\n  -l/--logfile, to be consistent with ntpd.\n* Documentation updates from Dave Mills.\n* From 4.2.6p4: libopts/file.c fix from Bruce Korb (arg-type=file).\n(4.2.7p200) 2011/08/04 Released by Harlan Stenn <stenn@ntp.org>\n* Sync with 4.2.6p4-RC2.\n(4.2.7p199) 2011/07/29 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p198) 2011/07/28 Released by Harlan Stenn <stenn@ntp.org>\n* remove old binsubdir stuff from SNTP, as NTP_LOCINFO does that now.\n(4.2.7p197) 2011/07/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1975] from 4.2.6p4-RC2: libntp/mktime.c won't work with 64-bit\n  time_t\n* [Bug 1976] genLocInfo writes to srcdir break 'make distcheck'.\n* [Bug 1977] Fix flag/description mismatches in ntp-keygen-opts.def.\n* Do not force \"legacy\" when --with-locfile is not given, genLocInfo\n  will find the correct default for the system.\n* Fix warnings in ntp_request.c ([Bug 1973] oversight) and sntp/main.c\n  (CID 159, apparent overrun due to union, actually correct).\n* Update sntp/loc/solaris to conform to stock locations.\n(4.2.7p196) 2011/07/27 Released by Harlan Stenn <stenn@ntp.org>\n* DEFAULT INSTALLATION DIRECTORY CHANGES ON SOME OSes: to get the old\n  behavior, pass --with-locfile=legacy to 'configure'\n* [Bug 1972] from 4.2.6p4-RC2: checking for struct rtattr fails.\n* [Bug 1973] Widen reference clock mode from 8 to 32 bits.\n* Removed sntp/m4/ntp_bindir.m4 - no longer needed.\n* Move loc/ to sntp/loc/ .\n* Move scripts/cvo.sh to sntp/scripts/cvo.sh .\n* Move scripts/genLocInfo to sntp/scripts/genLocInfo .\n* Give NTP_LOCINFO an optional path-to argument.\n* Remove hacks to get NTP_LOCINFO-related data to sntp/ .\n* Move sntp/include/mansec2subst.sed to sntp/scripts/mansec2subst.sed .\n* If no \"more specific\" loc file is found for redhat* or fedora*,\n  look for a loc/redhat file.\n* If no \"more specific\" loc file is found and uname says this is Linux,\n  look for a loc/linux file.\n* Improve the help text: --with-locfile=XXX .\n* work around solaris /bin/sh issues for genLocInfo.\n(4.2.7p195) 2011/07/25 Released by Harlan Stenn <stenn@ntp.org>\n* Added loc/redhat.\n(4.2.7p194) 2011/07/25 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1608] from 4.2.6p4-RC2: Parse Refclock driver should honor\n  trusttime.\n* Add support for installing programs and scripts to libexec.\n* Added loc/solaris.\n(4.2.7p193) 2011/07/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1970] from 4.2.6p4-RC2: UNLINK_EXPR_SLIST() causes crash if list\n  is empty.\n* Update libevent to 2.1 HEAD as of merge of 2.0.13-stable-dev.\n* Match addr_eqprefix() sizeof and memcpy destination to make it clear\n  to static analysis that there is no buffer overrun (CID 402).\n(4.2.7p192) 2011/07/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1966] Broken FILES section for ntp.keys.def.\n(4.2.7p191) 2011/07/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1948] Update man page section layout.\n* [Bug 1963] add reset command for ntpq :config, similar to ntpdc's.\n* [Bug 1964] --without-sntp should not build sntp.\n(4.2.7p190) 2011/07/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1961] from 4.2.6p4: html2man update: distribute ntp-wait.html.\n* Require autogen-5.12.\n(4.2.7p189) 2011/07/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1134] from 4.2.6p4-RC1: ntpd fails binding to tentative IPv6\n  addresses.\n* [Bug 1790] from 4.2.6p4-RC1: Update config.guess and config.sub to\n  detect AIX6.\n(4.2.7p188) 2011/06/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1958] genLocInfo must export PATH.\n* ntp-wait: some versions of ntpd spell \"associd\" differently.\n(4.2.7p187) 2011/06/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1954] Fix typos in [s]bin_PROGRAMS in ntpd/Makefile.am.\n* Implement --with-locfile=filename configure argument.  If filename is\n  empty we'll look under loc/ for a good fit.  If the filename contains\n  a / character, it will be treated as a \"normal\" pathname.  Otherwise,\n  that explicit file will be searched for under loc/ .\n(4.2.7p186) 2011/06/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1950] Control installation of event_rpcgen.py.\n* Update .point-changed-filelist for the new man pages.\n* Update the building of OS-specific programs.\n* Finish conversion to genLocInfo.\n* validate MANTAGFMT in genLocInfo.\n* Documentation update from Dave Mills.\n(4.2.7p185) 2011/06/21 Released by Harlan Stenn <stenn@ntp.org>\n* ntp_locs.m4: handle the case where . is not in the PATH.\n* More genLocInfo cleanup.\n(4.2.7p184) 2011/06/20 Released by Harlan Stenn <stenn@ntp.org>\n* Added ntp_locs.m4.\n* genLocInfo improvements.\n* Add the man page tag \"flavor\" to the loc.* files.\n* Add/distribute genLocInfo.\n(4.2.7p183) 2011/06/19 Released by Harlan Stenn <stenn@ntp.org>\n* Update the autogen include list for scripts/Makefile.am.\n* Added loc.freebsd (and distribute it).\n* Added loc.legacy (and distribute it).\n(4.2.7p182) 2011/06/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1304] Update sntp.html to reflect new implementation.\n* Update .point-changed-filelist .\n* ntpdc documentation fixes.\n* Update ntp-wait autogen docs.\n* Update the ntpd autogen docs.\n* Update the ntpsnmpd autogen docs.\n* Use autogen to produce ntp-keygen docs.\n* Add \"license name\" to ntp.lic for autogen-5.11.10.\n* Prepare for ntp.keys.5.\n(4.2.7p181) 2011/06/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1938] addr_eqprefix() doesn't clear enough storage.\n(4.2.7p180) 2011/06/06 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade to libevent-2.0.12.\n* More sntp.1 cleanups.\n* Produce ntpq.1 with the new autogen macros.\n* Remove the deprecated \"detail\" stanza from ntpdc-opts.def.\n(4.2.7p179) 2011/06/03 Released by Harlan Stenn <stenn@ntp.org>\n* Update cmd-doc.tlib to autogen-5.11.10pre5.\n* Upgrade local autoopts templates to 5.11.10pre5.\n(4.2.7p178) 2011/06/02 Released by Harlan Stenn <stenn@ntp.org>\n* Update the std_def_list to include the ntp.lic file.\n* Distribute the ntp.lic file.\n* Add http://ntp.org/license to the ntp.lic file.\n(4.2.7p177) 2011/06/01 Released by Harlan Stenn <stenn@ntp.org>\n* Use the latest autogen's new copyright template code.\n* Clean up the ntp.lic file.\n(4.2.7p176) 2011/05/31 Released by Harlan Stenn <stenn@ntp.org>\n* sntp documentation cleanup.\n* autogen documentation template cleanup.\n(4.2.7p175) 2011/05/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1936] Correctly set IPV6_MULTICAST_LOOP.\n* cmd-doc.tlib cleanup from Bruce Korb.\n* sntp documentation cleanup.\n(4.2.7p174) 2011/05/28 Released by Harlan Stenn <stenn@ntp.org>\n* ntpdc documentation cleanup.\n* sntp documentation cleanup.\n* Don't build libevent with openssl support.  Right now, libevent\n  doesn't use pkg-config to find openssl's installation location.\n(4.2.7p173) 2011/05/25 Released by Harlan Stenn <stenn@ntp.org>\n* Typo in emalloc.c hides file and line number from emalloc() error msg.\n* parsesolaris.c compile fails on SPARC Solaris with conflicting printf.\n* ntp_util.c compile fails on AIX and OSF with conflicting statsdir.\n(4.2.7p172) 2011/05/24 Released by Harlan Stenn <stenn@ntp.org>\n* Remove hardcoded 1/960 s. fudge for <CR> transmission time at 9600 8n1\n  from WWVB/Spectracom driver introduced in 4.2.7p169.\n(4.2.7p171) 2011/05/23 Released by Harlan Stenn <stenn@ntp.org>\n* Eliminate warnings about shadowing global \"basename\" on Linux.\n* Use filegen_config() consistently when changing filegen options.\n* mprintf() should go to stdout, not stderr.  DPRINTF() uses mprintf().\n* Repair a few simulator problems (more remain).\n* Documentation updates from Dave Mills.\n(4.2.7p170) 2011/05/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1932] libevent/util_internal.h builtin_expect compile error with\n  gcc 2.95.\n* Use 64-bit scalars in LFPTOD() and DTOLFP() on more platforms by\n  conditionalizing on HAVE_U_INT64 rather than UINT64_MAX.\n(4.2.7p169) 2011/05/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1933] WWVB/Spectracom driver timestamps LFs, not CRs.\n(4.2.7p168) 2011/05/16 Released by Harlan Stenn <stenn@ntp.org>\n* Convert receive buffer queue from doubly-linked list to FIFO.\n(4.2.7p167) 2011/05/14 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1927] io_closeclock() should purge pending recvbufs.\n* [Bug 1931] cv always includes fudgetime1, never fudgetime2.\n* Use acts_close() in acts_shutdown() to avoid leaving a stale lockfile\n  if unpeered via runtime configuration while the modem is open.\n* Correct acts_close() test of pp->io.fd to see if it is open.\n* 4.2.7p164 documentation updates re: 'tos orphanwait' expanded scope.\n(4.2.7p166) 2011/05/13 Released by Harlan Stenn <stenn@ntp.org>\n* If we have local overrides for autogen template files, use them.\n* Convert more of the sntp-opt.def documentation from man to mdoc.\n(4.2.7p165) 2011/05/11 Released by Harlan Stenn <stenn@ntp.org>\n* Convert snmp docs to mdoc format, which requires autogen 5.11.9.\n* from 4.2.6p4-RC1: Require autogen 5.11.9.\n(4.2.7p164) 2011/05/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 988] Local clock eats up -g option, so ntpd stops with large\n  initial time offset.\n* [Bug 1921] LOCAL, ACTS drivers with \"prefer\" excluded from initial\n  candidate list.\n* [Bug 1922] \"tos orphanwait\" applied incorrectly at startup.\n* [Bug 1923] orphan parent favored over LOCAL, ACTS drivers.\n* [Bug 1924] Billboard tally codes sometimes do not match operation,\n  variables.\n* Change \"pool DNS\" messages from msyslog to debug trace output.\n* Remove unused FLAG_SYSPEER from peer->status.\n* Respect \"tos orphanwait\" at startup.  Previously there was an\n  unconditional 300 s. startup orphanwait, though other values were\n  respected for subsequent orphan wait periods after no_sys_peer events.\n* Apply \"tos orphanwait\" (def. 300 seconds) to LOCAL and ACTS reference\n  clock drivers, in addition to orphan parent operation.  LOCAL and ACTS\n  are not selectable during the orphanwait delay at startup and after\n  each no_sys_peer event.  This prevents a particular form of clock-\n  hopping, such as using LOCAL briefly at startup before remote peers\n  are selectable.  This fixes the issue reported in [Bug 988].\n* Documentation updates from Dave Mills.\n(4.2.7p163) 2011/05/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1911] missing curly brace in libntp/ntp_rfc2553.c\n(4.2.7p162) 2011/05/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1910] Support the Tristate Ltd. TS-GPSclock-01.\n(4.2.7p161) 2011/05/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1904] 4.2.7p160 Windows build broken (POSIX_SHELL).\n* [Bug 1906] 4.2.7p160 - libtool: compile: cannot determine name of\n  library object in ./libevent\n* Share a single sntp/libevent/build-aux directory between all three\n  configure scripts.\n* Add missing --enable-local-libevent help to top-level configure.\n(4.2.7p160) 2011/05/01 Released by Harlan Stenn <stenn@ntp.org>\n* from 4.2.6p4-RC1: Upgrade to libopts 35.0.10 from AutoGen 5.11.9pre8.\n* [Bug 1901] Simulator does not set progname.\n(4.2.7p159) 2011/04/28 Released by Harlan Stenn <stenn@ntp.org>\n* Fix a couple of unused variable warnings.\n* cleanup in timespecops.c / timevalops.c\n(4.2.7p158) 2011/04/24 Released by Harlan Stenn <stenn@ntp.org>\n* Update libevent --disable-libevent-regress handling to work when\n  building libevent using mingw.\n(4.2.7p157) 2011/04/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1890] 4.2.7p156 segfault in duplicate freeaddrinfo().\n(4.2.7p156) 2011/04/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1851] freeaddrinfo() called after getaddrinfo() fails.\n(4.2.7p155) 2011/04/18 Released by Harlan Stenn <stenn@ntp.org>\n* Fix leak in refclock_datum.c start failure path.\n(4.2.7p154) 2011/04/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1887] DNS fails on 4.2.7p153 using threads.\n(4.2.7p153) 2011/04/16 Released by Harlan Stenn <stenn@ntp.org>\n* A few more Coverity Scan cleanups.\n(4.2.7p152) 2011/04/15 Released by Harlan Stenn <stenn@ntp.org>\n* Update embedded libevent to current 2.1 git HEAD.\n(4.2.7p151) 2011/04/14 Released by Harlan Stenn <stenn@ntp.org>\n* Detect vsnprintf() support for \"%m\" and disable our \"%m\" expansion.\n* Add --enable-c99-sprintf to configure args for -noopenssl variety of\n  flock-build to avoid regressions in (v)snprintf() replacement.\n* More msnprintf() unit tests.\n* Coverity Scan error checking fixes.\n* Log failure to fetch time from HOPF_P hardware.\n* Check HOPF_S sscanf() conversion count before converted values.\n(4.2.7p150) 2011/04/13 Released by Harlan Stenn <stenn@ntp.org>\n* Remove never-used, incomplete ports/winnt/ntpd/refclock_trimbledc.[ch]\n* On systems without C99-compliant (v)snprintf(), use C99-snprintf\n  replacements (http://www.jhweiss.de/software/snprintf.html)\n* Remove remaining sprintf() calls except refclock_ripencc.c (which is\n  kept out of --enable-all-clocks as a result), upstream libs which use\n  sprintf() only after careful buffer sizing.\n(4.2.7p149) 2011/04/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1881] describe the {+,-,s} characters in configure --help output.\n(4.2.7p148) 2011/04/09 Released by Harlan Stenn <stenn@ntp.org>\n* Use _mkgmtime() as timegm() in the Windows port, rather than\n  libntp/mktime.c's timegm().  Fixed [Bug 1875] on Windows using the old\n  asn2ntp() code from before 4.2.7p147.\n* ntp_crypto.c string buffer safety.\n* Remove use of MAXFILENAME in mode 7 (ntpdc) on-wire structs.\n* Change ntpd MAXFILENAME from 128 to 256 to match ntp-keygen.\n* Buffer safety and sign extension fixes (thanks Coverity Scan).\n(4.2.7p147) 2011/04/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1875] 'asn2ntp()' rewritten with 'caltontp()'; 'timegm()'\n  substitute likely to crash with 64bit time_t.\n(4.2.7p146) 2011/04/05 Released by Harlan Stenn <stenn@ntp.org>\n* String buffer safety cleanup, converting to strlcpy() and strlcat().\n* Use utmpname() before pututline() so repeated steps do not\n  accidentally record into wtmp where utmp was intended.\n* Use setutent() before each pututline() including first.\n(4.2.7p145) 2011/04/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1840] ntp_lists.h FIFO macros buggy.\n(4.2.7p144) 2011/04/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1874] ntpq -c \"rv 0 sys_var_list\" empty.\n(4.2.7p143) 2011/03/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1732] ntpd ties up CPU on disconnected USB refclock.\n* [Bug 1861] tickadj build failure using uClibc.\n* [Bug 1862] in6addr_any test in configure fooled by arm gcc 4.1.3 -O2.\n* Remove kernel line discipline driver code for clk and chu, deprecate\n  related LDISC_ flags, and remove associated ntpd code to decode the\n  timestamps, remove clktest line discipline test program.\n* Remove \"signal_no_reset: signal 17 had flags 4000000\" logging, as it\n  indicates no problem and is interpreted as an error.  Previously some\n  bits had been ignored one-by-one, but Linux SA_RESTORER definition is\n  unavailable to user headers.\n(4.2.7p142) 2011/03/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1844] ntpd 4.2.7p131 NetBSD, --gc-sections links bad executable.\n* Fix \"make distcheck\" break in libevent/sample caused by typo.\n(4.2.7p141) 2011/03/20 Released by Harlan Stenn <stenn@ntp.org>\n* Add \"ntpq -c iostats\" similar to \"ntpdc -c iostats\".\n* Compare entire timestamp to reject duplicates in refclock_pps().\n(4.2.7p140) 2011/03/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1848] ntpd 4.2.7p139 --disable-thread-support does not compile.\n* Add --disable-thread-support to one flock-build variation.\n* One more lock-while-init in lib/isc/task.c to quiet lock analysis.\n(4.2.7p139) 2011/03/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1848] make check ntpd --saveconfigquit clutters syslog.\n(4.2.7p138) 2011/03/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1846] MacOSX: debug symbol not found by propdelay or tickadj.\n(4.2.7p137) 2011/03/07 Released by Harlan Stenn <stenn@ntp.org>\n* Use TRACE() instead of DPRINTF() for libntp and utilities, which\n  use the \"debug\" variable regardless of #ifdef DEBUG.\n* Declare debug in libntp instead of each program.  Expose extern\n  declaration to utilities, libntp, and DEBUG ntpd.\n* Lock under-construction task, taskmgr objects to satisfy Coverity's\n  mostly-correct assumptions about which variables are protected by\n  which locks.\n(4.2.7p136) 2011/03/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1839] 4.2.7p135 still installs libevent ev*.h headers.\n(4.2.7p135) 2011/03/02 Released by Harlan Stenn <stenn@ntp.org>\n* libevent: When building on systems with CLOCK_MONOTONIC available,\n  separate the internal timeline (possibly counting since system boot)\n  from the gettimeofday() timeline in event_base cached timevals.  Adds\n  new event_base_tv_cached() to retrieve cached callback round start\n  time on the internal timeline, and changes\n  event_based_gettimeofday_cached() to always return times using the\n  namesake timeline.  This preserves the benefit of using the never-\n  stepped monotonic clock for event timeouts while providing clients\n  with times consistently using gettimeofday().\n* Correct event_base_gettimeofday_cached() workaround code in\n  sntp to work with corrected libevent.\n* Remove sntp l_fp_output() test now that it uses prettydate().\n* [Bug 1839] 4.2.7p131 installs libevent ev*.h headers.\n* Ensure CONFIG_SHELL is not empty before relying on it for #! scripts.\n(4.2.7p134) 2011/02/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1837] Build fails on Win7 due to regedit requiring privilege.\n* Provide fallback definitions for GetAdaptersAddresses() for Windows\n  build environments lacking iphlpapi.h.\n* Rename file containing 1.xxxx ChangeSet revision from version to\n  scm-rev to avoid invoking GNU make implicit rules attempting to\n  compile version.c into version.  Problem was with sntp/version.o\n  during make distcheck after fix for spurious sntp rebuilds.\n* Add INC_ALIGNED_PTR() macro to align pointers like malloc().\n(4.2.7p133) 2011/02/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1834] ntpdate 4.2.7p131 aborts with assertion failure.\n* Move sntp last in top-level Makefile.am SUBDIRS so that the libevent\n  tearoff (if required) and sntp are compiled after the rest.\n* Use a single set of Automake options for each package in configure.ac\n  AM_INIT, remove Makefile.am AUTOMAKE_OPTIONS= lines.\n* Correct spurious sntp rebuilds triggered by a make misperception\n  sntp/version was out-of-date relative to phony target FRC.version.\n* Do not cache paths to perl, test, or pkg-config, searching the PATH\n  at configure time is worth it to pick up tool updates.\n(4.2.7p132) 2011/02/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1832] ntpdate doesn't allow timeout > 2s.\n* [Bug 1833] The checking sem_timedwait() fails without -pthread.\n* ElectricFence was suffering bitrot - remove it.  valgrind works well.\n* Enable all relevant automake warnings.\n* Correct Solaris 2.1x PTHREAD_ONCE_INIT extra braces test to avoid\n  triggering warnings due to excess braces.\n* Remove libevent-cfg from sntp/Makefile.am.\n* Provide bug report and URL options to Autoconf.\n* Avoid relying on remake rules for routine build/flock-build for\n  libevent as for the top-level and sntp subproject.\n(4.2.7p131) 2011/02/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1087] -v/--normalverbose conflicts with -v/--version in sntp.\n* [Bug 1088] sntp should (only) report the time difference without -s/-a.\n* older autoconf sometimes dislikes [].\n* Move \"can't write KoD file\" warning from sntp shutdown to startup.\n* refclock_acts.c cleanup from Dave Mills.\n* Convert sntp to libevent event-driven socket programming.  Instead of\n  blocking name resolution and querying one NTP server at a time,\n  resolve server names and send NTP queries without blocking.  Add\n  sntp command-line options to adjust timing and optionally wait for all\n  servers to respond instead of exiting after the first.\n* Import libevent 2.0.10-stable plus local patches as a tearoff, used\n  only if the target system lacks an installed libevent 2.0.9 or later.\n* Move blocking worker and resolver to libntp from ntpd.\n* Use threads rather than forked child processes for blocking worker\n  when possible.  Override with configure --disable-thread-support.\n* Move init_logging(), change_logfile(), and setup_logfile() from ntpd\n  to libntp, use them in sntp.\n* Test --without-sntp in flock-build script's -no-refclocks variety.\n* Avoid invoking config.status twice in a row in build script.\n* Move more m4sh tests needed by libntp to shared .m4 files.\n* Split up ntp_libntp.m4 into smaller, more specific subsets.\n* Enable gcc -Wcast-align, fix many instances of warnings when casting\n  a pointer to a more-strictly-aligned underlying type.\n(4.2.7p130) 2011/02/12 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1811] Update the download location in WHERE-TO-START.\n(4.2.7p129) 2011/02/09 Released by Harlan Stenn <stenn@ntp.org>\n* Add missing \"break;\" to ntp_control.c ctl_putsys() for caliberrs, used\n  by ntpq -c kerninfo introduced in 4.2.7p104.\n* Fix leak in ntp_control.c read_mru_list().\n(4.2.7p128) 2011/01/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1799] ntpq mrv crash.\n* [Bug 1801] ntpq mreadvar requires prior association caching.\n(4.2.7p127) 2011/01/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1797] Restore stale timestamp check from the RANGEGATE cleanup.\n(4.2.7p126) 2011/01/27 Released by Harlan Stenn <stenn@ntp.org>\n* Fix unexposed fencepost error in format_time_fraction().\n* Add more unit tests for timeval_tostr() and timespec_tostr().\n(4.2.7p125) 2011/01/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1794] ntpq -c rv missing clk_wander information.\n* [Bug 1795] ntpq readvar does not display last variable.\n(4.2.7p124) 2011/01/25 Released by Harlan Stenn <stenn@ntp.org>\n* sntp/Makefile.am needs any passed-in CFLAGS.\n(4.2.7p123) 2011/01/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1788] tvtots.c tables inaccurate\n(4.2.7p122) 2011/01/22 Released by Harlan Stenn <stenn@ntp.org>\n* ACTS refclock cleanup from Dave Mills.\n* Avoid shadowing the \"group\" global variable.\n(4.2.7p121) 2011/01/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1786] Remove extra semicolon from ntp_proto.c .\n(4.2.7p120) 2011/01/20 Released by Harlan Stenn <stenn@ntp.org>\n* Change new timeval and timespec to string routines to use snprintf()\n  rather than hand-crafted conversion, avoid signed int overflow there.\n* Add configure support for SIZEOF_LONG_LONG to enable portable use of\n  snprintf() with time_t.\n* Grow ntpd/work_thread.c arrays as needed.\n* Add DEBUG_* variants of ntp_assert.h macros which compile away using\n  ./configure --disable-debugging.\n* Fix tvalops.cpp unit test failures for 32-bit builds.\n* Return to a single autoreconf invocation in ./bootstrap script.\n* Fix warnings seen on FreeBSD 9.\n* crypto group changes from Dave Mills.\n* Lose the RANGEGATE check in PPS, from Dave Mills.\n* ACTS refclock cleanup from Dave Mills.\n* Documentation updates from Dave Mills.\n* NMEA driver documentation update from Juergen Perlinger.\n(4.2.7p119) 2011/01/18 Released by Harlan Stenn <stenn@ntp.org>\n* added timespecops.{c,h} and tievalops.{c.h} to libntp and include\n  added tspecops.cpp to tests/libntp\n* Correct msyslog.c build break on Solaris 2.9 from #ifdef/#if mixup.\n(4.2.7p118) 2011/01/15 Released by Harlan Stenn <stenn@ntp.org>\n* Simplify the built-sources stuff in sntp/ .\n* Fix check for -lipv6 on HP-UX 11.\n(4.2.7p117) 2011/01/13 Released by Harlan Stenn <stenn@ntp.org>\n* Add configure --without-sntp option to disable building sntp and\n  sntp/tests.  withsntp=no in the environment changes the default.\n* Build infrastructure cleanup:\n  Move m4 directory to sntp/m4.\n  Share a single set of genver output between sntp and the top level.\n  Share a single set of autogen included .defs in sntp/include.\n  Share a single set of build-aux scripts (e.g. config.guess, missing).\n  Add ntp_libntp.m4 and ntp_ipv6.m4 to reduce configure.ac duplication.\n  Warn and exit build/flock-build if bootstrap needs to be run.\n(4.2.7p116) 2011/01/10 Released by Harlan Stenn <stenn@ntp.org>\n* refclock_nmea.c refactoring by Juergen Perlinger.\n(4.2.7p115) 2011/01/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1780] Windows ntpd 4.2.7p114 crashes in ioctl().\n* [Bug 1781] longlong undefined in sntp handle_pkt() on Debian amd64.\n(4.2.7p114) 2011/01/08 Released by Harlan Stenn <stenn@ntp.org>\n* Fix for openssl pkg-config detection eval failure.\n* Add erealloc_zero(), refactor estrdup(), emalloc(), emalloc_zero() to\n  separate tracking callsite file/line from using debug MS C runtime,\n  and to reduce code duplication.\n(4.2.7p113) 2011/01/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1776] sntp mishandles -t/--timeout and -a/--authentication.\n* Default to silent make rules, override with make V=1 or ./configure\n  --disable-silent-rules.\n* Correct --with-openssl-incdir defaulting with pkg-config.\n* Correct ./build on systems without gtest available.\n* Begin moving some of the low-level socket stuff to libntp.\n(4.2.7p112) 2011/01/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1773] openssl not detected during ./configure.\n* [Bug 1774] Segfaults if cryptostats enabled and built without OpenSSL.\n* Use make V=0 in build script to increase signal/noise ratio.\n(4.2.7p111) 2011/01/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1772] refclock_open() return value check wrong for ACTS.\n* Default --with-openssl-libdir and --with-openssl-incdir to the values\n  from pkg-config, falling back on our usual search paths if pkg-config\n  is not available or does not have openssl.pc on PKG_CONFIG_PATH.\n* Change refclock_open() to return -1 on failure like open().\n* Update all refclock_open() callers to check for fd <= 0 indicating\n  failure, so they work with older and newer refclock_open() and can\n  easily backport.\n* Initialize refclockproc.rio.fd to -1, harmonize refclock shutdown\n  entrypoints to avoid crashing, particularly if refclock_open() fails.\n* Enable tickadj-like taming of wildly off-spec Windows clock using\n  NTPD_TICKADJ_PPM env. var. specifying baseline slew.\n(4.2.7p110) 2011/01/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1771] algorithmic error in 'clocktime()' fixed.\n* Unit tests extended for hard-coded system time.\n* make V=0 and configure --enable-silent-rules supported.\n* setvar modemsetup = ATE0... overrides ACTS driver default.\n* Preserve last timecode in ACTS driver (ntpq -ccv).\n* Tolerate previous ATE1 state when sending ACTS setup.\n* Enable raw tty line discipline in Windows port.\n* Allow tty open/close/open to succeed on Windows port.\n* Enable ACTS and CHU reference clock drivers on Windows.\n(4.2.7p109) 2011/01/02 Released by Harlan Stenn <stenn@ntp.org>\n* Remove nearly all strcpy() and most strcat() from NTP distribution.\n  One major pocket remains in ntp_crypto.c.  libopts & libisc also have\n  (safe) uses of strcpy() and strcat() remaining.\n* Documentation updates from Dave Mills.\n(4.2.7p108) 2011/01/01 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1764] Move Palisade modem control logic to configure.ac.\n* [Bug 1768] TIOCFLUSH undefined in linux for refclock_acts.\n* Autokey multiple identity group improvements from Dave Mills.\n* from 4.2.6p3: Update the copyright year.\n(4.2.7p107) 2010/12/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1764] Palisade driver doesn't build on Linux.\n* [Bug 1766] Oncore clock has offset/high jitter at startup.\n* Move ntp_control.h variable IDs to ntp_control.c, remove their use by\n  ntpq.  They are implementation details private to ntpd.  [Bug 597] was\n  caused by ntpq's reliance on these IDs it need not know about.\n* refclock_acts.c updates from Dave Mills.\n(4.2.7p106) 2010/12/30 Released by Harlan Stenn <stenn@ntp.org>\n* from 4.2.6p3: Update genCommitLog for the bk-5 release.\n(4.2.7p105) 2010/12/29 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.7p104) 2010/12/28 Released by Harlan Stenn <stenn@ntp.org>\n* from 4.2.6p3: Create and use scripts/check--help when generating\n  .texi files.\n* from 4.2.6p3: Update bk triggers for the bk-5 release.\n* Support for multiple Autokey identity groups from Dave Mills.\n* Documentation updates from Dave Mills.\n* Add ntpq kerninfo, authinfo, and sysinfo commands similar to ntpdc's.\n(4.2.7p103) 2010/12/24 Released by Harlan Stenn <stenn@ntp.org>\n* Add ntpq pstats command similar to ntpdc's.\n* Remove ntpq pstatus command, rv/readvar does the same and more.\n* Documentation updates from Dave Mills.\n(4.2.7p102) 2010/12/23 Released by Harlan Stenn <stenn@ntp.org>\n* Allow ntpq &1 associd use without preceding association-fetching.\n* Documentation updates from Dave Mills.\n(4.2.7p101) 2010/12/22 Released by Harlan Stenn <stenn@ntp.org>\n* from 4.2.6p3-RC12: Upgrade to libopts 34.0.9 from AutoGen 5.11.6pre7.\n* from 4.2.6p3-RC12: Relax minimum Automake version to 1.10 with updated\n  libopts.m4.\n(4.2.7p100) 2010/12/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1743] from 4.2.6p3-RC12: Display timezone offset when showing\n  time for sntp in the local timezone (documentation updates).\n(4.2.7p99) 2010/12/21 Released by Harlan Stenn <stenn@ntp.org>\n* Add unit tests for msnprintf().\n(4.2.7p98) 2010/12/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1761] clockstuff/clktest-opts.h omitted from tarball.\n* [Bug 1762] from 4.2.6p3-RC12: manycastclient responses interfere.\n* Documentation updates from Dave Mills.\n(4.2.7p97) 2010/12/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1458] from 4.2.6p3-RC12: Can not compile NTP on FreeBSD 4.7.\n* [Bug 1760] from 4.2.6p3-RC12: ntpd Windows interpolation cannot be\n  disabled.\n* from 4.2.6p3-RC12: Upgrade to libopts 34.0.9 from AutoGen 5.11.6pre5.\n* Documentation updates from Dave Mills.\n(4.2.7p96) 2010/12/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1758] from 4.2.6p3-RC12: setsockopt IPV6_MULTICAST_IF with wrong\n  ifindex.\n* Documentation updates from Dave Mills.\n(4.2.7p95) 2010/12/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1753] 4.2.7p94 faults on startup in newpeer(), strdup(NULL).\n* [Bug 1754] from 4.2.6p3-RC12: --version output should be more verbose.\n* [Bug 1757] from 4.2.6p3-RC12: oncore snprintf(\"%m\") doesn't expand %m.\n* from 4.2.6p3-RC12: Suppress ntp-keygen OpenSSL version display for\n  --help, --version, display both build and runtime OpenSSL versions\n  when they differ.\n* from 4.2.6p3-RC12: Upgrade to libopts 33.5.8 from AutoGen 5.11.6pre3.\n* Documentation updates from Dave Mills.\n(4.2.7p94) 2010/12/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1751] from 4.2.6p3-RC12: Support for Atari FreeMiNT OS.\n* Documentation updates from Dave Mills.\n(4.2.7p93) 2010/12/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1510] from 4.2.6p3-RC12: Add modes 20/21 for driver 8 to support\n  RAWDCF @ 75 baud.\n* [Bug 1741] from 4.2.6p3-RC12: Enable multicast reception on each\n  address (Windows).\n* from 4.2.6p3-RC12: Other manycastclient repairs:\n  Separate handling of scope ID embedded in many in6_addr from ifindex\n  used for IPv6 multicasting ioctls.\n  Add INT_PRIVACY endpt bit flag for IPv6 RFC 4941 privacy addresses.\n  Enable outbound multicast from only one address per interface in the\n  same subnet, and in that case prefer embedded MAC address modified\n  EUI-64 IPv6 addresses first, then static, and last RFC 4941 privacy\n  addresses.\n  Use setsockopt(IP[V6]_MULTICAST_IF) before each send to multicast to\n  select the local source address, using the correct socket is not\n  enough.\n* \"server ... ident <groupname>\" changes from Dave Mills.\n* Documentation updates from Dave Mills.\n(4.2.7p92) 2010/12/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1743] from 4.2.6p3-RC12: Display timezone offset when showing\n  time for sntp in the local timezone.\n(4.2.7p91) 2010/12/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1732] ntpd ties up CPU on disconnected USB device.\n* [Bug 1742] form 4.2.6p3-RC12: Fix a typo in an error message in the\n  \"build\" script.\n(4.2.7p90) 2010/12/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1738] Windows ntpd has wrong net adapter name.\n* [Bug 1740] ntpdc -c reslist packet count wrongly treated as signed.\n(4.2.7p89) 2010/12/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1736] tos int, bool options broken in 4.2.7p66.\n* from 4.2.6p3-RC12: Clean up the SNTP documentation.\n(4.2.7p88) 2010/12/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1735] 'clocktime()' aborts ntpd on bogus input\n(4.2.7p87) 2010/12/01 Released by Harlan Stenn <stenn@ntp.org>\n* from 4.2.6p3-RC12: Clean up m4 quoting in configure.ac, *.m4 files,\n  resolving intermittent AC_LANG_PROGRAM possibly undefined errors.\n(4.2.7p86) 2010/11/29 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p85) 2010/11/24 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p84) 2010/11/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1618] Unreachable code in jjy_start().\n* [Bug 1725] from 4.2.6p3-RC11: ntpd sends multicast from only one\n  address.\n* from 4.2.6p3-RC11: Upgrade libopts to 33.3.8.\n* from 4.2.6p3-RC11: Bump minimum Automake version to 1.11, required for\n  AM_COND_IF use in LIBOPTS_CHECK.\n* An almost complete rebuild of the initial loopfilter configuration\n  process, including the code that determines the interval between\n  frequency file updates, from Dave Mills.\n* Documentation updates from Dave Mills.\n* Add ntp-keygen -l/--lifetime to control certificate expiry.\n* JJY driver improvements for Tristate JJY01/02, including changes\n  to its clockstats format.\n* Add \"nonvolatile\" ntp.conf directive to control how often the\n  driftfile is written.\n(4.2.7p83) 2010/11/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1727] ntp-keygen PLEN, ILEN undeclared --without-crypto.\n* Remove top-level libopts, use sntp/libopts.\n* from 4.2.6p3-RC11: Remove log_msg() and debug_msg() from sntp in favor\n  of msyslog().\n* Documentation updates from Dave Mills.\n(4.2.7p82) 2010/11/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1728] from 4.2.6p3-RC11: In ntp_openssl.m4, don't add\n  -I/usr/include or -L/usr/lib to CPPFLAGS or LDFLAGS.\n(4.2.7p81) 2010/11/14 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1681] from 4.2.6p3-RC10: More sntp logging cleanup.\n* [Bug 1683] from 4.2.6p3-RC10: Non-localhost on loopback exempted from\n  nic rules.\n* [Bug 1719] Cleanup for ntp-keygen and fix -V crash, from Dave Mills.\n(4.2.7p80) 2010/11/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1574] from 4.2.6p3-RC9: sntp doesn't set tv_usec correctly.\n* [Bug 1681] from 4.2.6p3-RC9: sntp logging cleanup.\n* [Bug 1683] from 4.2.6p3-RC9: Interface binding does not seem to work\n  as intended.\n* [Bug 1708] make check fails with googletest 1.4.0.\n* [Bug 1709] from 4.2.6p3-RC9: ntpdate ignores replies with equal\n  receive and transmit timestamps.\n* [Bug 1715] sntp utilitiesTest.IPv6Address failed.\n* [Bug 1718] Improve gtest checks in configure.ac.\n(4.2.7p79) 2010/11/07 Released by Harlan Stenn <stenn@ntp.org>\n* Correct frequency estimate with no drift file, from David Mills.\n(4.2.7p78) 2010/11/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1697] filegen implementation should be improved.\n* Refactor calendar functions in terms of new common code.\n* Documentation updates from Dave Mills.\n(4.2.7p77) 2010/11/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1692] packageinfo.sh needs to be \"sourced\" using ./ .\n* [Bug 1695] ntpdate takes longer than necessary.\n(4.2.7p76) 2010/11/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1690] Unit tests fails to build on some systems.\n* [Bug 1691] Use first NMEA sentence each second.\n* Put the sntp tests under sntp/ .\n* ... and only build/run them if we have gtest.\n* Documentation updates from Dave Mills.\n(4.2.7p75) 2010/10/30 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* Include Linus Karlsson's GSoC 2010 testing code.\n(4.2.7p74) 2010/10/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1685] from 4.2.6p3-RC8: NMEA driver mode byte confusion.\n* from 4.2.6p3-RC8: First cut at using scripts/checkChangeLog.\n* Documentation updates from Dave Mills.\n(4.2.7p73) 2010/10/27 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1680] Fix alignment of clock_select() arrays.\n* refinements to new startup behavior from David Mills.\n* For the bootstrap script, touch .html files last.\n* Add 'make check' test case that would have caught [Bug 1678].\n(4.2.7p72) 2010/10/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1679] Fix test for -lsocket.\n* Clean up missing ;; entries in configure.ac.\n(4.2.7p71) 2010/10/25 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1676] from 4.2.6p3-RC7: NMEA: $GPGLL did not work after fix\n  for Bug 1571.\n* [Bug 1678] \"restrict source\" treated as \"restrict default\".\n* from 4.2.6p3-RC7: Added scripts/checkChangeLog.\n(4.2.7p70) 2010/10/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1571] from 4.2.6p3-RC6: NMEA does not relate data to PPS edge.\n* [Bug 1572] from 4.2.p63-RC6: NMEA time adjustment for GPZDG buggy.\n* [Bug 1675] from 4.2.6p3-RC6: Prohibit includefile remote config.\n* Enable generating ntpd/ntp_keyword.h after keyword-gen.c changes on\n  Windows as well as POSIX platforms.\n* Fix from Dave Mills for a rare singularity in clock_combine().\n(4.2.7p69) 2010/10/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1671] Automatic delay calibration is sometimes inaccurate.\n(4.2.7p68) 2010/10/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1669] from 4.2.6p3-RC5: NTP fails to compile on IBM AIX 5.3.\n* [Bug 1670] Fix peer->bias and broadcastdelay.\n* Documentation updates from Dave Mills.\n* Documentation EOL cleanup.\n(4.2.7p67) 2010/10/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1649] from 4.2.6p3-RC5: Require NMEA checksum if $GPRMC or\n  previously seen.\n(4.2.7p66) 2010/10/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1277] Provide and use O(1) FIFOs, esp. in the config tree code.\n* Remove unused 'bias' configuration keyword.\n(4.2.7p65) 2010/10/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1584] from 4.2.6p3-RC4: wrong SNMP type for precision,\n  resolution.\n* Remove 'calldelay' and 'sign' remnants from parser, ntp_config.c.\n(4.2.7p64) 2010/10/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1584] from 4.2.6p3-RC3: ntpsnmpd OID must be mib-2.197.\n* [Bug 1659] from 4.2.6p3-RC4: Need CLOCK_TRUETIME not CLOCK_TRUE.\n* [Bug 1663] ntpdsim should not open net sockets.\n* [Bug 1665] from 4.2.6p3-RC4: is_anycast() u_int32_t should be u_int32.\n* from 4.2.6p3: ntpsnmpd, libntpq warning cleanup.\n* Remove 'calldelay' and 'sign' keywords (Dave Mills).\n* Documentation updates from Dave Mills.\n(4.2.7p63) 2010/10/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1080] from 4.2.6p3-RC3: ntpd on ipv6 routers very chatty.\n* Documentation nit cleanup.\n* Documentation updates from Dave Mills.\n(4.2.7p62) 2010/10/12 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 750] from 4.2.6p3-RC3: Non-existing device causes coredump with \n  RIPE-NCC driver.\n* [Bug 1567] from 4.2.6p3-RC3: Support Arbiter 1093C Satellite Clock on\n  Windows.\n* [Bug 1581] from 4.2.6p3-RC3: printf format string mismatch leftover.\n* [Bug 1659] from 4.2.6p3-RC3: Support Truetime Satellite Clocks on\n  Windows. \n* [Bug 1660] from 4.2.6p3-RC3: On some systems, test is in /usr/bin, not\n  /bin. \n* [Bug 1661] from 4.2.6p3-RC3: Re-indent refclock_ripencc.c.\n* Lose peer_count from ntp_peer.c and ntp_proto.c (Dave Mills).\n* Documentation updates from Dave Mills.\n(4.2.7p61) 2010/10/06 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation and code cleanup from Dave Mills. No more NTP_MAXASSOC.\n(4.2.7p60) 2010/10/04 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p59) 2010/10/02 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* Variable name cleanup from Dave Mills.\n* [Bug 1657] darwin needs res_9_init, not res_init.\n(4.2.7p58) 2010/09/30 Released by Harlan Stenn <stenn@ntp.org>\n* Clock select bugfix from Dave Mills.\n* [Bug 1554] peer may stay selected as system peer after becoming\n  unreachable.\n* [Bug 1644] from 4.2.6p3-RC3: cvo.sh should use lsb_release to identify\n  linux distros.\n* [Bug 1646] ntpd crashes with relative path to logfile.\n(4.2.7p57) 2010/09/27 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p56) 2010/09/25 Released by Harlan Stenn <stenn@ntp.org>\n* Clock combining algorithm improvements from Dave Mills.\n* Documentation updates from Dave Mills.\n* [Bug 1642] ntpdsim can't find simulate block in config file.\n* [Bug 1643] from 4.2.6p3-RC3: Range-check the decoding of the RIPE-NCC\n  status codes.\n(4.2.7p55) 2010/09/22 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* [Bug 1636] from 4.2.6p3-RC2: segfault after denied remote config.\n(4.2.7p54) 2010/09/21 Released by Harlan Stenn <stenn@ntp.org>\n* More Initial convergence improvements from Dave Mills.\n* Documentation updates from Dave Mills.\n* [Bug 1635] from 4.2.6p3-RC2: \"filegen ... enable\" is not default.\n(4.2.7p53) 2010/09/20 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* More Initial convergence improvements from Dave Mills.\n(4.2.7p52) 2010/09/19 Released by Harlan Stenn <stenn@ntp.org>\n* Initial convergence improvements from Dave Mills.\n(4.2.7p51) 2010/09/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1344] from 4.2.6p3-RC1: ntpd on Windows exits without logging\n  cause.\n* [Bug 1629] 4.2.7p50 configure.ac changes invalidate config.cache.\n* [Bug 1630] 4.2.7p50 cannot bootstrap on Autoconf 2.61.\n(4.2.7p50) 2010/09/16 Released by Harlan Stenn <stenn@ntp.org>\n* Cleanup NTP_LIB_M.\n* [Bug 1628] Clean up -lxnet/-lsocket usage for (open)solaris.\n(4.2.7p49) 2010/09/13 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p48) 2010/09/12 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p47) 2010/09/11 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* [Bug 1588] finish configure --disable-autokey implementation.\n* [Bug 1616] refclock_acts.c: if (pp->leap == 2) is always false.\n* [Bug 1620] [Backward Incompatible] \"discard minimum\" value should be in\n  seconds, not log2 seconds.\n(4.2.7p46) 2010/09/10 Released by Harlan Stenn <stenn@ntp.org>\n* Use AC_SEARCH_LIBS instead of AC_CHECK_LIB for NTP_LIB_M.\n(4.2.7p45) 2010/09/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1578] Consistently use -lm when needed.\n(4.2.7p44) 2010/08/27 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1573] from 4.2.6p3-beta1: Miscalculation of offset in sntp.\n(4.2.7p43) 2010/08/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1602] Refactor some of the sntp/ directory to facililtate testing.\n(4.2.7p42) 2010/08/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1593] ntpd abort in free() with logconfig syntax error.\n* [Bug 1595] from 4.2.6p3-beta1: empty last line in key file causes\n  duplicate key to be added\n* [Bug 1597] from 4.2.6p3-beta1: packet processing ignores RATE KoD packets,\n  Because of a bug in string comparison.\n(4.2.7p41) 2010/07/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1581] from 4.2.6p3-beta1: ntp_intres.c size_t printf format\n  string mismatch.\n* [Bug 1586] ntpd 4.2.7p40 doesn't write to syslog after fork on QNX.\n* Avoid race with parallel builds using same source directory in\n  scripts/genver by using build directory for temporary files.\n* orphanwait documentation updates.\n(4.2.7p40) 2010/07/12 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1395] ease ntpdate elimination with ntpd -w/--wait-sync\n* [Bug 1396] allow servers on ntpd command line like ntpdate\n(4.2.7p39) 2010/07/09 Released by Harlan Stenn <stenn@ntp.org>\n* Fix typo in driver28.html.\n* [Bug 1581] from 4.2.6p2: size_t printf format string mismatches, IRIG\n  string buffers undersized.  Mostly backported from earlier ntp-dev\n  fixes by Juergen Perlinger.\n(4.2.7p38) 2010/06/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1570] backported to 4.2.6p2-RC7.\n* [Bug 1575] from 4.2.6p2-RC7: use 'snprintf' with LIB_BUFLENGTH in\n  inttoa.c, tvtoa.c and utvtoa.c\n* [Bug 1576] backported to 4.2.6p2-RC7.\n* Typo fix in a comment in ntp_proto.c.\n(4.2.7p37) 2010/06/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1576] sys/sysctl.h depends on sys/param.h on OpenBSD.\n(4.2.7p36) 2010/06/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1560] Initial support for orphanwait, from Dave Mills.\n* clock_filter()/reachability fixes from Dave Mills.\n(4.2.7p35) 2010/06/12 Released by Harlan Stenn <stenn@ntp.org>\n* Rewrite of multiprecision macros in 'ntp_fp.h' from J. Perlinger\n  <perlinger@ntp.org>\n* [Bug 715] from 4.2.6p2-RC6: libisc Linux IPv6 interface iteration\n  drops multicast flags.\n(4.2.7p34) 2010/06/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1570] serial clock drivers get outdated input from kernel tty\n  line buffer after startup\n(4.2.7p33) 2010/06/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1561] from 4.2.6p2-RC5: ntpq, ntpdc \"passwd\" prompts for MD5\n  password w/SHA1.\n* [Bug 1565] from 4.2.6p2-RC5: sntp/crypto.c compile fails on MacOS over\n  vsnprintf().\n* from 4.2.6p2-RC5: Windows port: do not exit in\n  ntp_timestamp_from_counter() without first logging the reason.\n(4.2.7p32) 2010/05/19 Released by Harlan Stenn <stenn@ntp.org>\n* Copyright file cleanup from Dave Mills.\n* [Bug 1555] from 4.2.6p2-RC4: sntp illegal C (mixed code and\n  declarations).\n* [Bug 1558] pool prototype associations have 0.0.0.0 for remote addr.\n* configure.ac: add --disable-autokey, #define AUTOKEY to enable future\n  support for building without Autokey, but with OpenSSL for its digest\n  algorithms (hash functions).  Code must be modified to use #ifdef\n  AUTOKEY instead of #ifdef OPENSSL where appropriate to complete this.\n* include/ntp_crypto.h: make assumption AUTOKEY implies OPENSSL explicit.\n(4.2.7p31) 2010/05/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1325] from 4.2.6p2-RC3: unreachable code sntp recv_bcst_data().\n* [Bug 1459] from 4.2.6p2-RC3: sntp MD5 authentication does not work\n  with ntpd.\n* [Bug 1552] from 4.2.6p2-RC3: update and complete broadcast and crypto\n  features in sntp.\n* [Bug 1553] from 4.2.6p2-RC3: sntp/configure.ac OpenSSL support.\n* from 4.2.6p2-RC3: Escape unprintable characters in a refid in ntpq -p\n  billboard.\n* from 4.2.6p2-RC3: Simplify hash client code by providing OpenSSL\n  EVP_*() API when built without OpenSSL.  (already in 4.2.7)\n* from 4.2.6p2-RC3: Do not depend on ASCII in sntp.\n(4.2.7p30) 2010/05/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1526] ntpd DNS pipe read EINTR with no network at startup.\n* Update the ChangeLog entries when merging items from -stable.\n(4.2.7p29) 2010/05/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1542] ntpd mrulist response may have incorrect last.older.\n* [Bug 1543] ntpq mrulist must refresh nonce when retrying.\n* [Bug 1544] ntpq mrulist sscanf timestamp format mismatch on 64-bit.\n* Windows compiling hints/winnt.html update from G. Sunil Tej.\n(4.2.7p28) 2010/05/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1512] from 4.2.6p2-RC3: ntpsnmpd should connect to net-snmpd\n  via a unix-domain socket by default.\n  Provide a command-line 'socket name' option.\n* [Bug 1538] from 4.2.6p2-RC3: update refclock_nmea.c's call to\n  getprotobyname().\n* [Bug 1541] from 4.2.6p2-RC3: Fix wrong keyword for \"maxclock\".\n(4.2.7p27) 2010/04/27 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.7p26) 2010/04/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1465] from 4.2.6p2-RC2: Make sure time from TS2100 is not\n  invalid (backport from -dev).\n* [Bug 1528] from 4.2.6p2-RC2: Fix EDITLINE_LIBS link order for ntpq\n  and ntpdc.\n* [Bug 1531] Require nonce with mrulist requests.\n* [Bug 1532] Remove ntpd support for ntpdc's monlist in favor of ntpq's\n  mrulist.\n* [Bug 1534] from 4.2.6p2-RC2: conflicts with VC++ 2010 errno.h.\n* [Bug 1535] from 4.2.6p2-RC2: \"restrict -4 default\" and \"restrict\n  -6 default\" ignored.\n(4.2.7p25) 2010/04/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1528] from 4.2.6p2-RC2: Remove --with-arlib from br-flock.\n* [Bug 1503] [Bug 1504] [Bug 1518] [Bug 1522] from 4.2.6p2-RC2:\n  all of which were fixed in 4.2.7 previously. \n(4.2.7p24) 2010/04/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1390] Control PPS on the Oncore M12.\n* [Bug 1518] Windows ntpd should lock to one processor more\n  conservatively.\n* [Bug 1520] '%u' formats for size_t gives warnings with 64-bit builds.\n* [Bug 1522] Enable range syntax \"trustedkey (301 ... 399)\".\n* Documentation updates for 4.2.7p22 changes and additions, updating\n  ntpdc.html, ntpq.html, accopt.html, confopt.html, manyopt.html,\n  miscopt.html, and miscopt.txt.\n* accopt.html: non-ntpport doc changes from Dave Mills.\n* Modify full MRU list preemption when full to match \"discard monitor\"\n  documentation, by removing exception for count == 1.\n(4.2.7p23) 2010/04/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1516] unpeer by IP address fails, DNS name works.\n* [Bug 1517] ntpq and ntpdc should verify reverse DNS before use.\n  ntpq and ntpdc now use the following format for showing purported\n  DNS names from IP address \"reverse\" DNS lookups when the DNS name\n  does not exist or does not include the original IP address among\n  the results: \"192.168.1.2 (fake.dns.local)\".\n(4.2.7p22) 2010/04/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1432] Don't set inheritable flag for linux capabilities.\n* [Bug 1465] Make sure time from TS2100 is not invalid.\n* [Bug 1483] AI_NUMERICSERV undefined in 4.2.7p20.\n* [Bug 1497] fudge is broken by getnetnum() change.\n* [Bug 1503] Auto-enabling of monitor for \"restrict ... limited\" wrong.\n* [Bug 1504] ntpdate tickles ntpd \"discard minimum 1\" rate limit if\n  \"restrict ... limited\" is used.\n* ntpdate: stop querying source after KoD packet response, log it.\n* ntpdate: rate limit each server to 2s between packets.\n* From J. N. Perlinger: avoid pointer wraparound warnings in dolfptoa(),\n  printf format mismatches with 64-bit size_t.\n* Broadcast client (ephemeral) associations should be demobilized only\n  if they are not heard from for 10 consecutive polls, regardless of\n  surviving the clock selection.  Fix from David Mills.\n* Add \"ntpq -c ifstats\" similar to \"ntpdc -c ifstats\".\n* Add \"ntpq -c sysstats\" similar to \"ntpdc -c sysstats\".\n* Add \"ntpq -c monstats\" to show monlist knobs and stats.\n* Add \"ntpq -c mrulist\" similar to \"ntpdc -c monlist\" but not\n  limited to 600 rows, and with filtering and sorting options:\n  ntpq -c \"mrulist mincount=2 laddr=192.168.1.2 sort=-avgint\"\n  ntpq -c \"mrulist sort=addr\"\n  ntpq -c \"mrulist mincount=2 sort=count\"\n  ntpq -c \"mrulist sort=-lstint\"\n* Modify internal representation of MRU list to use l_fp fixed-point\n  NTP timestamps instead of seconds since startup.  This increases the\n  resolution and substantially improves accuracy of sorts involving\n  timestamps, at the cost of flushing all MRU entries when the clock is\n  stepped, to ensure the timestamps can be compared with the current\n  get_systime() results.\n* Add ntp.conf \"mru\" directive to configure MRU parameters, such as\n  \"mru mindepth 600 maxage 64 maxdepth 5000 maxmem 1024\" or\n  \"mru initalloc 0 initmem 16 incalloc 99 incmem 4\".  Several pairs are\n  equivalent with one in units of MRU entries and its twin in units of\n  kilobytes of memory, so the last one used in ntp.conf controls:\n  maxdepth/maxmem, initalloc/initmem, incalloc/incmem.  With the above\n  values, ntpd will preallocate 16kB worth of MRU entries, allocating\n  4kB worth each time more are needed, with a hard limit of 1MB of MRU\n  entries.  Until there are more than 600 entries none would be reused.\n  Then only entries for addresses last seen 64 seconds or longer ago are\n  reused.\n* Limit \"ntpdc -c monlist\" response in ntpd to 600 entries, the previous\n  overall limit on the MRU list depth which was driven by the monlist\n  implementation limit of one request with a single multipacket\n  response.\n* New \"pool\" directive implementation modeled on manycastclient.\n* Do not abort on non-ASCII characters in ntp.conf, ignore them.\n* ntpq: increase response reassembly limit from 24 to 32 packets, add\n  discussion in comment regarding results with even larger MAXFRAGS.\n* ntpq: handle \"passwd MYPASSWORD\" (without prompting) as with ntpdc.\n* ntpdc: do not examine argument to \"passwd\" if not supplied.\n* configure: remove check for pointer type used with qsort(), we\n  require ANSI C which mandates void *.\n* Reset sys_kodsent to 0 in proto_clr_stats().\n* Add sptoa()/sockporttoa() similar to stoa()/socktoa() adding :port.\n* Use memcpy() instead of memmove() when buffers can not overlap.\n* Remove sockaddr_storage from our sockaddr_u union of sockaddr,\n  sockaddr_in, and sockaddr_in6, shaving about 100 bytes from its size\n  and substantially decreasing MRU entry memory consumption.\n* Extend ntpq readvar (alias rv) to allow fetching up to three named\n  variables in one operation:  ntpq -c \"rv 0 version offset frequency\".\n* ntpq: use srchost variable to show .POOL. prototype associations'\n  hostname instead of address 0.0.0.0.\n* \"restrict source ...\" configures override restrictions for time\n  sources, allows tight default restrictions to be used with the pool\n  directive (where server addresses are not known in advance).\n* Ignore \"preempt\" modifier on manycastclient and pool prototype\n  associations.  The resulting associations are preemptible, but the\n  prototype must not be.\n* Maintain and use linked list of associations (struct peer) in ntpd,\n  avoiding walking 128 hash table entries to iterate over peers.\n* Remove more workarounds unneeded since we require ISO C90 AKA ANSI C:\n  - remove fallback implementations for memmove(), memset, strstr().\n  - do not test for atexit() or memcpy().\n* Collapse a bunch of code duplication in ntpd/ntp_restrict.c added with\n  support for IPv6.\n* Correct some corner case failures in automatically enabling the MRU\n  list if any \"restrict ... limited\" is in effect, and in disabling MRU\n  maintenance. (ntp_monitor.c, ntp_restrict.c)\n* Reverse the internal sort order of the address restriction lists, but\n  preserve the same behavior.  This allows removal of special-case code\n  related to the default restrictions and more straightforward lookups\n  of restrictions for a given address (now, stop on first match).\n* Move ntp_restrict.c MRU doubly-linked list maintenance code into\n  ntp_lists.h macros, allowing more duplicated source excision.\n* Repair ntpdate.c to no longer test HAVE_TIMER_SETTIME.\n* Do not reference peer_node/unpeer_node after freeing when built with\n  --disable-saveconfig and using DNS.\n(4.2.7p21) 2010/03/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1514] from 4.2.6p1-RC6: Typo in ntp_proto.c: fabs(foo < .4)\n  should be fabs(foo) < .4.\n* [Bug 1464] from 4.2.6p1-RC6: synchronization source wrong for\n  refclocks ARCRON_MSF (27) and SHM (28).\n* From 4.2.6p1-RC6: Correct Windows port's refclock_open() to\n  return 0 on failure not -1.\n* From 4.2.6p1-RC6: Correct CHU, dumbclock, and WWVB drivers to\n  check for 0 returned from refclock_open() on failure.\n* From 4.2.6p1-RC6: Correct \"SIMUL=4 ./flock-build -1\" to\n  prioritize -1/--one.\n* [Bug 1306] constant conditionals in audio_gain().\n(4.2.7p20) 2010/02/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1483] hostname in ntp.conf \"restrict\" parameter rejected.\n* Use all addresses for each restrict by hostname.\n* Use async DNS to resolve trap directive hostnames.\n(4.2.7p19) 2010/02/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1338] Update the association type codes in ntpq.html.\n* [Bug 1478] from 4.2.6p1-RC5: linking fails: EVP_MD_pkey_type.\n* [Bug 1479] from 4.2.6p1-RC5: not finding readline headers.\n* [Bug 1484] from 4.2.6p1-RC5: ushort is not defined in QNX6.\n(4.2.7p18) 2010/02/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1480] from 4.2.6p1-RC5: snprintf() cleanup caused \n  unterminated refclock IDs.\n* Stop using getaddrinfo() to convert numeric address strings to on-wire\n  addresses in favor of is_ip_address() alone.\n(4.2.7p17) 2010/02/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1477] from 4.2.6p1-RC5: First non-gmake make in clone\n  w/VPATH can't make COPYRIGHT.\n* Attempts to cure CID 108 CID 118 CID 119 TAINTED_SCALAR warnings.\n* Broaden ylwrap workaround VPATH_HACK to all non-GNU make.\n(4.2.7p16) 2010/02/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1474] from 4.2.6p1-RC4: ntp_keygen LCRYPTO after libntp.a.\n* Include 4.2.6p1-RC4: Remove arlib.\n(4.2.7p15) 2010/02/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1455] from 4.2.6p1: ntpd does not try /etc/ntp.audio.\n* Include 4.2.6p1: Convert many sprintf() calls to snprintf(), also\n  strcpy(), strcat().\n* Include 4.2.6p1: Fix widely cut-n-pasted bug in refclock shutdown\n  after failed start.\n* Include 4.2.6p1: Remove some dead code checking for emalloc()\n  returning NULL.\n(4.2.7p14) 2010/02/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1338] ntpq displays incorrect association type codes.\n* [Bug 1469] u_int32, int32 changes broke HP-UX 10.20 build.\n* [Bug 1470] from 4.2.6p1: \"make distdir\" compiles keyword-gen.\n* [Bug 1471] CID 120 CID 121 CID 122 is_ip_address() uninit family.\n* [Bug 1472] CID 116 CID 117 minor warnings in new DNS code.\n* [Bug 1473] from 4.2.6p1: \"make distcheck\" version.m4 error.\n(4.2.7p13) 2010/01/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1467] from 4.2.6p1: Fix bogus rebuild of sntp/sntp.html.\n(4.2.7p12) 2010/01/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1468] 'make install' broken for root on default NFS mount.\n(4.2.7p11) 2010/01/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 47] Debugging and logging do not work after a fork.\n* [Bug 1010] getaddrinfo() could block and thus should not be called by\n  the main thread/process.\n* New async DNS resolver in ntpd allows nonblocking queries anytime,\n  instead of only once at startup.\n(4.2.7p10) 2010/01/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1140] from 4.2.6p1-RC5: Clean up debug.html, decode.html,\n  and ntpq.html.\n* Include 4.2.6p1-RC3: Use TZ=UTC instead of TZ= when calling date in\n  scripts/mkver.in .\n* [Bug 1448] from 4.2.6p1-RC3: Some macros not correctly conditionally\n  or absolutely defined on Windows.\n* [Bug 1449] from 4.2.6p1-RC3: ntpsim.h in ntp_config.c should be used\n  conditionally.\n* [Bug 1450] from 4.2.6p1-RC3: Option to exclude warnings not\n  unconditionally defined on Windows.\n(4.2.7p9) 2010/01/13 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.7p8) 2010/01/12 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 702] ntpd service logic should use libopts to examine cmdline.\n* [Bug 1451] from 4.2.6p1-RC3: sntp leaks KoD entry updating.\n* [Bug 1453] from 4.2.6p1-RC3: Use $CC in config.cache filename.\n(4.2.7p7) 2009/12/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 620] ntpdc getresponse() esize != *rsize s/b size != *rsize.\n* [Bug 1446] 4.2.7p6 requires autogen, missing ntpd.1, *.texi, *.menu.\n(4.2.7p6) 2009/12/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1443] Remove unnecessary dependencies on ntp_io.h\n* [Bug 1442] Move Windows functions into libntp files\n* [Bug 1127] from 4.2.6p1-RC3: Check the return of X590_verify().\n* [Bug 1439] from 4.2.6p1-RC3: .texi gen after binary is linked.\n* [Bug 1440] from 4.2.6p1-RC3: Update configure.ac to support kfreebsd.\n* [Bug 1445] from 4.2.6p1-RC3: IRIX does not have -lcap or support\n  linux capabilities.\n(4.2.7p5) 2009/12/25 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.6p1-RC2\n(4.2.7p4) 2009/12/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1429] ntpd -4 option does not reliably force IPv4 resolution.\n* [Bug 1431] System headers must come before ntp headers in ntp_intres.c .\n(4.2.7p3) 2009/12/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1426] scripts/VersionName needs . on the search path.\n* [Bug 1427] quote missing in ./build - shows up on NetBSD.\n* [Bug 1428] Use AC_HEADER_RESOLV to fix breaks from resolv.h\n(4.2.7p2) 2009/12/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1419] ntpdate, ntpdc, sntp, ntpd ignore configure --bindir.\n* [Bug 1421] add util/tg2, a clone of tg that works on Linux, NetBSD, and\n  FreeBSD\n(4.2.7p1) 2009/12/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1348] ntpd Windows port should wait for sendto() completion.\n* [Bug 1413] test OpenSSL headers regarding -Wno-strict-prototypes.\n* [Bug 1418] building ntpd/ntpdc/ntpq statically with ssl fails.\n(4.2.7p0) 2009/12/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1412] m4/os_cflags.m4 caches results that depend on $CC.\n* [Bug 1414] Enable \"make distcheck\" success with BSD make.\n(4.2.7) 2009/12/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1407] configure.ac: recent GNU Make -v does not include \"version\".\n---\n(4.2.6p5) 2011/12/24 Released by Harlan Stenn <stenn@ntp.org>\n\nNo changes from 4.2.6p5-RC3.\n\n---\n(4.2.6p5-RC3) 2011/12/08 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 2082] 3-char refid sent by ntpd 4.2.6p5-RC2 ends with extra dot.\n* [Bug 2085] clock_update() sys_rootdisp calculation omits root delay.\n* [Bug 2086] get_systime() should not offset by sys_residual.\n* [Bug 2087] sys_jitter calculation overweights sys.peer jitter.\n* Ensure NULL peer->dstadr is not accessed in orphan parent selection.\n\n---\n(4.2.6p5-RC2) 2011/11/30 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 2050] Orphan mode stratum counting to infinity.\n* [Bug 2059] optional billboard column \"server\" does not honor -n.\n* [Bug 2066] ntpq lopeers ipv6 \"local\" column overrun.\n* [Bug 2068] ntpd sends nonprintable stratum 16 refid to ntpq.\n* [Bug 2069] broadcastclient, multicastclient spin up duplicate\n  ephemeral associations without broadcastdelay.\n* [Bug 2072] Orphan parent selection metric needs ntohl().\n* Exclude not-yet-determined sys_refid from use in loopback TEST12\n  (from David Mills).\n* Never send KoD rate limiting response to MODE_SERVER response.\n\n---\n(4.2.6p5-RC1) 2011/10/18 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 2034] Listening address configuration with prefix misapplied.\n\n---\n(4.2.6p4) 2011/09/22 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1984] ntp/libisc fails to compile on OS X 10.7 (Lion).\n* [Bug 1985] \"logconfig =allall\" rejected.\n* [Bug 2001] ntpdc timerstats reports overruns as handled.\n* [Bug 2003] libntpq ntpq_read_assoc_peervars() broken.\n* [Backward Incompatible] sntp: -l/--filelog -> -l/--logfile, to be\n  consistent with ntpd.\n* libopts/file.c fix from Bruce Korb (arg-type=file).\n\n---\n(4.2.6p4-RC2) 2011/08/04 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1608] Parse Refclock driver should honor trusttime.\n* [Bug 1961] html2man update: distribute ntp-wait.html.\n* [Bug 1970] UNLINK_EXPR_SLIST() causes crash if list is empty.\n* [Bug 1972] checking for struct rtattr fails.\n* [Bug 1975] libntp/mktime.c won't work with 64-bit time_t\n* [Bug 1978] [Bug 1134] fix in 4.2.6p4-RC1 doesn't build on older Linux.\n* Backport several fixes for Coverity warnings from ntp-dev.\n* Backport if_nametoindex() check for hpux.\n\n---\n(4.2.6p4-RC1) 2011/07/10 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1134] ntpd fails binding to tentative IPv6 addresses.\n* [Bug 1790] Update config.guess and config.sub to detect AIX6.\n* [Bug 1961] html2man needs an update.\n* Update the NEWS file.\n\n---\n(4.2.6p4-beta2) 2011/05/25 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1695] ntpdate takes longer than necessary.\n* [Bug 1832] ntpdate doesn't allow timeout > 2s.\n* [Bug 1933] WWVB/Spectracom driver timestamps LFs, not CRs.\n* Backport utility routines from ntp-dev: mprintf(), emalloc_zero().\n\n---\n(4.2.6p4-beta1) 2011/05/16 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1554] peer may stay selected as system peer after becoming\n  unreachable.\n* [Bug 1921] LOCAL, ACTS drivers with \"prefer\" excluded from initial\n  candidate list.\n* [Bug 1923] orphan parent favored over LOCAL, ACTS drivers.\n* [Bug 1924] Billboard tally codes sometimes do not match operation,\n  variables.\n* Enable tickadj-like taming of wildly off-spec Windows clock using\n  NTPD_TICKADJ_PPM env. var. specifying baseline slew.\n* Upgrade to AutoGen 5.11.9 (and require it).\n* Upgrade to libopts 35.0.10 from AutoGen 5.11.9pre8.\n\n---\n(4.2.6p3) 2011/01/03 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1764] Palisade driver doesn't build on Linux\n* Create and use scripts/check--help when generating .texi files.\n* Update bk triggers for the bk-5 release.\n* Update genCommitLog for the bk-5 release.\n* Update the copyright year.\n\n---\n(4.2.6p3-RC12) 2010/12/25 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1458] Can not compile NTP on FreeBSD 4.7.\n* [Bug 1510] Add modes 20/21 for driver 8 to support RAWDCF @ 75 baud.\n* [Bug 1618] Unreachable code in jjy_start(). (backport from ntp-dev)\n* [Bug 1719] ntp-keygen -V crash. (backport)\n* [Bug 1740] ntpdc treats many counters as signed. (backport)\n* [Bug 1741] Enable multicast reception on each address (Windows).\n* [Bug 1742] Fix a typo in an error message in the \"build\" script.\n* [Bug 1743] Display timezone offset when showing time for sntp in the\nlocal timezone.\n* [Bug 1751] Support for Atari FreeMiNT OS.\n* [Bug 1754] --version output should be more verbose.\n* [Bug 1757] oncore snprintf(\"%m\") doesn't expand %m.\n* [Bug 1758] setsockopt IPV6_MULTICAST_IF with wrong ifindex.\n* [Bug 1760] ntpd Windows interpolation cannot be disabled.\n* [Bug 1762] manycastclient solicitation responses interfere.\n* Upgrade to libopts 34.0.9 from AutoGen 5.11.6pre7.\n* Relax minimum Automake version to 1.10 with updated libopts.m4.\n* Suppress ntp-keygen OpenSSL version display for --help, --version,\ndisplay both build and runtime OpenSSL versions when they differ.\n* Clean up m4 quoting in configure.ac, *.m4 files, resolving\n  intermittent AC_LANG_PROGRAM possibly undefined errors.\n* Clean up the SNTP documentation.\n* Other manycastclient repairs:\n  Separate handling of scope ID embedded in many in6_addr from ifindex\n  used for IPv6 multicasting ioctls.\n  Add INT_PRIVACY endpt bit flag for IPv6 RFC 4941 privacy addresses.\n  Enable outbound multicast from only one address per interface in the\n  same subnet, and in that case prefer embedded MAC address modified\n  EUI-64 IPv6 addresses first, then static, and last RFC 4941 privacy\n  addresses.\n  Use setsockopt(IP[V6]_MULTICAST_IF) before each send to multicast to\n  select the local source address, using the correct socket is not\n  enough.\n\n---\n(4.2.6p3-RC11) 2010/11/28 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1725] ntpd sends multicast from only one address.\n* [Bug 1728] In ntp_openssl.m4, don't add -I/usr/include or -L/usr/lib\n  to CPPFLAGS or LDFLAGS.\n* [Bug 1733] IRIX doesn't have 'head' (affects scripts/checkChangeLog).\n* Remove log_msg() and debug_msg() from sntp in favor of msyslog().\n* Use a single copy of libopts/, in sntp/.\n* Upgrade libopts to 33.3.8.\n* Bump minimum Automake version to 1.11, required for AM_COND_IF\n  use in LIBOPTS_CHECK.\n* Improvements to the 'build' script.\n\n---\n(4.2.6p3-RC10) 2010/11/14 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1681] More sntp logging cleanup.\n* [Bug 1683] Non-localhost on loopback exempted from nic rules.\n\n---\n(4.2.6p3-RC9) 2010/11/10 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1574] sntp:set_time doesn't set tv_usec correctly.\n* [Bug 1681] sntp logging cleanup.\n* [Bug 1683] Interface binding does not seem to work as intended.\n* [Bug 1691] Use first NMEA sentence each second.\n* [Bug 1692] packageinfo.sh needs to be \"sourced\" using ./ .\n* [Bug 1709] ntpdate ignores replies with equal receive and transmit\n  timestamps.\n* Backport sntp from -dev\n\n---\n(4.2.6p3-RC8) 2010/10/29 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1685] NMEA driver mode byte confusion.\n* First cut at using scripts/checkChangeLog.\n\n---\n(4.2.6p3-RC7) 2010/10/25 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1676] NMEA: $GPGLL did not work after fix for Bug 1571.\n* Added scripts/checkChangeLog.\n\n---\n(4.2.6p3-RC6) 2010/10/24 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1571] NMEA does not relate data to PPS edge.\n* [Bug 1572] NMEA time adjustment for GPZDG buggy.\n* [Bug 1675] Prohibit includefile remote config.\n\n---\n(4.2.6p3-RC5) 2010/10/22 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1649] Require NMEA checksum if $GPRMC or previously seen.\n* [Bug 1669] NTP 4.2.6p2 fails to compile on IBM AIX 5.3.\n\n---\n(4.2.6p3-RC4) 2010/10/16 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1584] wrong SNMP type for precision, resolution.\n* [Bug 1659] Need CLOCK_TRUETIME not CLOCK_TRUE.\n* [Bug 1665] is_anycast() u_int32_t should be u_int32.\n* ntpsnmpd, libntpq warning cleanup.\n\n---\n(4.2.6p3-RC3) 2010/10/14 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 750] Non-existing device causes coredump with RIPE-NCC driver.\n* [Bug 1080] ntpd on ipv6 routers very chatty.\n* [Bug 1567] Support Arbiter 1093C Satellite Clock on Windows.\n* [Bug 1581] printf format string mismatch leftover.\n* [Bug 1584] ntpsnmpd OID must be mib-2.197.\n* [Bug 1643] Range-check the decoding of the RIPE-NCC status codes.\n* [Bug 1644] cvo.sh should use lsb_release to identify linux distros.\n* [Bug 1659] Support Truetime Satellite Clocks on Windows.\n* [Bug 1660] On some systems, test is in /usr/bin, not /bin.\n* [Bug 1661] Re-indent refclock_ripencc.c.\n\n---\n(4.2.6p3-RC2) 2010/09/25 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1635] \"filegen ... enable\" is not default.\n* [Bug 1636] yyparse() segfault after denied filegen remote config.\n\n---\n(4.2.6p3-RC1) 2010/09/18 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1344] ntpd on Windows exits without logging cause.\n\n---\n(4.2.6p3-beta1) 2010/09/11 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1573] Miscalculation of offset in sntp.\n* [Bug 1595] empty last line in key file causes duplicate key to be added\n* [Bug 1597] packet processing ignores RATE KoD packets, because of\n  a bug in string comparison.\n* [Bug 1581] ntp_intres.c size_t printf format string mismatch.\n\n---\n(4.2.6p2) 2010/07/09 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1581] size_t printf format string mismatches, IRIG string buffers\n  undersized.  Mostly backported from earlier ntp-dev fixes by Juergen\n  Perlinger.\n\n---\n(4.2.6p2-RC7) 2010/06/19 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1570] serial clock drivers get outdated input from kernel tty\n  line buffer after startup\n* [Bug 1575] use 'snprintf' with LIB_BUFLENGTH in inttoa.c, tvtoa.c and\n  utvtoa.c\n* [Bug 1576] sys/sysctl.h depends on sys/param.h on OpenBSD.\n\n---\n(4.2.6p2-RC6) 2010/06/12 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 715] libisc Linux IPv6 interface iteration drops multicast flags.\n\n---\n(4.2.6p2-RC5) 2010/06/03 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1561] ntpq, ntpdc \"passwd\" prompts for MD5 password w/SHA1.\n* [Bug 1565] sntp/crypto.c compile fails on MacOS over vsnprintf().\n* Windows port: do not exit in ntp_timestamp_from_counter() without\n  first logging the reason.\n* Support \"passwd blah\" syntax in ntpq.\n\n---\n(4.2.6p2-RC4) 2010/05/19 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1555] 4.2.6p2-RC3 sntp illegal C (mixed code and declarations).\n\n---\n(4.2.6p2-RC3) 2010/05/11 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1325] unreachable code in sntp recv_bcst_data().\n* [Bug 1459] sntp MD5 authentication does not work with ntpd.\n* [Bug 1512] ntpsnmpd should connect to net-snmpd via a unix-domain\n  socket by default.  Provide a command-line 'socket name' option.\n* [Bug 1538] update refclock_nmea.c's call to getprotobyname().\n* [Bug 1541] Fix wrong keyword for \"maxclock\".\n* [Bug 1552] update and complete broadcast and crypto features in sntp.\n* [Bug 1553] sntp/configure.ac OpenSSL support.\n* Escape unprintable characters in a refid in ntpq -p billboard.\n* Simplify hash client code by providing OpenSSL EVP_*() API when built\n  without OpenSSL.  (from ntp-dev)\n* Do not depend on ASCII values for ('A' - '0'), ('a' - '0') in sntp.\n* Windows compiling hints/winnt.html update from G. Sunil Tej.\n\n---\n(4.2.6p2-RC2) 2010/04/27 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1465] Make sure time from TS2100 is not invalid (backport from\n  ntp-dev).\n* [Bug 1528] Fix EDITLINE_LIBS link order for ntpq and ntpdc.\n* [Bug 1534] win32/include/isc/net.h conflicts with VC++ 2010 errno.h.\n* [Bug 1535] \"restrict -4 default\" and \"restrict -6 default\" ignored.\n* Remove --with-arlib from br-flock.\n\n---\n(4.2.6p2-RC1) 2010/04/18 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1503] Auto-enabling of monitor for \"restrict ... limited\" wrong.\n* [Bug 1504] ntpdate tickles ntpd \"discard minimum 1\" rate limit if\n  \"restrict ... limited\" is used.\n* [Bug 1518] Windows ntpd should lock to one processor more\n  conservatively.\n* [Bug 1522] Enable range syntax \"trustedkey (301 ... 399)\".\n* Update html/authopt.html controlkey, requestkey, and trustedkey docs.\n\n---\n(4.2.6p1) 2010/04/09 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.6p1-RC6) 2010/03/31 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1514] Typo in ntp_proto.c: fabs(foo < .4) should be fabs(foo) < .4.\n* [Bug 1464] synchronization source wrong for refclocks ARCRON_MSF (27)\n  and SHM (28).\n* Correct Windows port's refclock_open() to return 0 on failure not -1.\n* Correct CHU, dumbclock, and WWVB drivers to check for 0 returned from\n  refclock_open() on failure.\n* Correct \"SIMUL=4 ./flock-build -1\" to prioritize -1/--one.\n\n---\n(4.2.6p1-RC5) 2010/02/09 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1140] Clean up debug.html, decode.html, and ntpq.html.\n* [Bug 1438] Remove dead code from sntp/networking.c.\n* [Bug 1477] 1st non-gmake make in clone w/VPATH can't make COPYRIGHT.\n* [Bug 1478] linking fails with undefined reference EVP_MD_pkey_type.\n* [Bug 1479] Compilation fails because of not finding readline headers.\n* [Bug 1480] snprintf() cleanup caused unterminated refclock IDs.\n* [Bug 1484] ushort is not defined in QNX6.\n\n---\n(4.2.6p1-RC4) 2010/02/04 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1455] ntpd does not try /etc/ntp.audio as documented.\n* [Bug 1467] Fix bogus rebuild of sntp/sntp.html\n* [Bug 1470] \"make distdir\" in $srcdir builds keyword-gen, libntp.a.\n* [Bug 1473] \"make distcheck\" before build can't make sntp/version.m4.\n* [Bug 1474] ntp_keygen needs LCRYPTO after libntp.a.\n* Convert many sprintf() calls to snprintf(), also strcpy(), strcat().\n* Fix widely cut-n-pasted bug in refclock shutdown after failed start.\n* Remove some dead code checking for emalloc() returning NULL.\n* Remove arlib.\n\n---\n(4.2.6p1-RC3) 2010/01/24 Released by Harlan Stenn <stenn@ntp.org>\n\n* Use TZ=UTC instead of TZ= when calling date in scripts/mkver.in .\n* [Bug 1448] Some macros not correctly conditionally or absolutely defined\n  on Windows.\n* [Bug 1449] ntpsim.h in ntp_config.c should be used conditionally.\n* [Bug 1450] Option to exclude warnings not unconditionally defined on Windows.\n* [Bug 1127] Properly check the return of X590_verify() - missed one.\n* [Bug 1439] .texi generation must wait until after binary is linked.\n* [Bug 1440] Update configure.ac to support kfreebsd.\n* [Bug 1445] IRIX does not have -lcap or support linux capabilities.\n* [Bug 1451] CID 115: sntp leaks KoD entry when updating existing.\n* [Bug 1453] Use $CC in config.cache filename in ./build script.\n\n---\n(4.2.6p1-RC2) 2009/12/25 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1411] Fix status messages in refclock_oncore.c.\n* [Bug 1416] MAXDNAME undefined on Solaris 2.6.\n* [Bug 1419] ntpdate, ntpdc, sntp, ntpd ignore configure --bindir.\n* [Bug 1424] Fix check for rtattr (rtnetlink.h).\n* [Bug 1425] unpeer by association ID sets up for duplicate free().\n* [Bug 1426] scripts/VersionName needs . on the search path.\n* [Bug 1427] quote missing in ./build - shows up on NetBSD.\n* [Bug 1428] Use AC_HEADER_RESOLV to fix breaks from resolv.h\n* [Bug 1429] ntpd -4 option does not reliably force IPv4 resolution.\n* [Bug 1431] System headers must come before ntp headers in ntp_intres.c .\n* [Bug 1434] HP-UX 11 ip_mreq undeclared, _HPUX_SOURCE helps some.\n* [Bug 1435] sntp: Test for -lresolv using the same tests as in ntp.\n\n---\n(4.2.6p1-RC1) 2009/12/20 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1409] Put refclock_neoclock4x.c under the NTP COPYRIGHT notice.\n  This should allow debian and other distros to add this refclock driver\n  in further distro releases.\n  Detect R2 hardware releases.\n* [Bug 1412] m4/os_cflags.m4 caches results that depend on $CC.\n* [Bug 1413] test OpenSSL headers regarding -Wno-strict-prototypes.\n* [Bug 1414] Enable \"make distcheck\" success with BSD make.\n* [Bug 1415] Fix Mac OS X link problem.\n* [Bug 1418] building ntpd/ntpdc/ntpq statically with ssl fails.\n* Build infrastructure updates to enable beta releases of ntp-stable.\n\n---\n(4.2.6) 2009/12/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Sec 1331] from4.2.4p8: DoS with mode 7 packets - CVE-2009-3563.\n* [Bug 508] Fixed leap second handling for Windows.\n(4.2.5p250-RC) 2009/11/30 Released by Harlan Stenn <stenn@ntp.org>\n* sntp documentation updates.\n* [Bug 761] internal resolver does not seem to honor -4/-6 qualifiers\n* [Bug 1386] Deferred DNS doesn't work on NetBSD\n* [Bug 1391] avoid invoking autogen twice for .c and .h files.\n* [Bug 1397] shmget() refclock_shm failing because of file mode.\n* Pass no_needed to ntp_intres as first part of fixing [Bug 975].\n* Add ./configure --enable-force-defer-DNS to help debugging.\n(4.2.5p249-RC) 2009/11/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1400] An empty KOD DB file causes sntp to coredump.\n* sntp: documentation cleanup.\n* sntp: clean up some error messages.\n* sntp: Use the precision to control how many offset digits are shown.\n* sntp: Show root dispersion.\n* Cleanup from the automake/autoconf upgrades.\n(4.2.5p248-RC) 2009/11/26 Released by Harlan Stenn <stenn@ntp.org>\n* Prepare for the generation of sntp.html.\n* Documentation changes from Dave Mills.\n* [Bug 1387] Storage leak in ntp_intres (minor).\n* [Bug 1389] buffer overflow in refclock_oncore.c\n* [Bug 1391] .texi usage text from installed, not built binaries.\n* [Bug 1392] intres retries duplicate assocations endlessly.\n* Correct *-opts.h dependency so default 'get' action isn't used.\n(4.2.5p247-RC) 2009/11/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1142] nodebug builds shed no light on -d, -D option failure.\n* [Bug 1179] point out the problem with -i/--jaildir and -u/--user when\n  they are disabled by configure.\n* [Bug 1308] support systems that lack fork().\n* [Bug 1343] sntp doesn't link on Solaris 7, needs -lresolv.\n(4.2.5p246-RC) 2009/11/17 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade to autogen-5.10\n* [Bug 1378] Unnecessary resetting of peers during interface update.\n* [Bug 1382] p245 configure --disable-dependency-tracking won't build.\n* [Bug 1384] ntpq :config core dumped with a blank password.\n(4.2.5p245-RC) 2009/11/14 Released by Harlan Stenn <stenn@ntp.org>\n* Cleanup from Dave Mills.\n* [Bug 1343] sntp illegal C does not compile on Solaris 7.\n* [Bug 1381] Version .deps generated include file dependencies to allow\n  known dependency-breaking changes to force .deps to be cleaned,\n  triggered by changing the contents of deps-ver and/or sntp/deps-ver.\n(4.2.5p244-RC) 2009/11/12 Released by Harlan Stenn <stenn@ntp.org>\n* keygen.html updates from Dave Mills.\n* [Bug 1003] ntpdc unconfig command doesn't prompt for keyid.\n* [Bug 1376] Enable authenticated ntpq and ntpdc using newly-available\n  digest types.\n* ntp-keygen, Autokey OpenSSL build vs. run version mismatch is now a\n  non-fatal warning.\n(4.2.5p243-RC) 2009/11/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1226] Fix deferred DNS lookups.\n* new crypto signature cleanup.\n(4.2.5p242-RC) 2009/11/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1363] CID 92 clarify fallthrough case in clk_trimtsip.c\n* [Bug 1366] ioctl(TIOCSCTTY, 0) fails on NetBSD *[0-2].* > 3.99.7.\n* [Bug 1368] typos in libntp --without-crypto case\n* [Bug 1371] deferred DNS lookup failing with INFO_ERR_AUTH.\n* CID 87 dead code in ntpq.c atoascii().\n* Fix authenticated ntpdc, broken in p240.\n* Stub out isc/mem.h, shaving 47k from a MIPS ntpd binary.\n* Shrink keyword scanner FSM entries from 64 to 32 bits apiece.\n* Documention updates from Dave Mills.\n* authkeys.c cleanup from Dave Mills.\n(4.2.5p241-RC) 2009/11/07 Released by Harlan Stenn <stenn@ntp.org>\n* html/authopt.html update from Dave Mills.\n* Remove unused file from sntp/Makefile.am's distribution list.\n* new crypto signature cleanup.\n(4.2.5p240-RC) 2009/11/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1364] clock_gettime() not detected, need -lrt on Debian 5.0.3.\n* Provide all of OpenSSL's signature methods for ntp.keys (FIPS 140-2).\n(4.2.5p239-RC) 2009/10/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1357] bogus assert from refclock_shm.\n* [Bug 1359] Debug message cleanup.\n* CID 101: more pointer/array cleanup.\n* [Bug 1356] core dump from refclock_nmea when can't open /dev/gpsU.\n* [Bug 1358] AIX 4.3 sntp/networking.c IPV6_JOIN_GROUP undeclared.\n* CID 101: pointer/array cleanup.\n(4.2.5p238-RC) 2009/10/27 Released by Harlan Stenn <stenn@ntp.org>\n* Changes from Dave Mills.\n* driver4.html updates from Dave Mills.\n* [Bug 1252] PPSAPI cleanup on ntpd/refclock_wwvb.c.\n* [Bug 1354] libtool error building after bootstrap with Autoconf 2.64.\n* Allow NTP_VPATH_HACK configure test to handle newer gmake versions.\n* CIDs 94-99 make it more clearly impossible for sock_hash() to return\n  a negative number.\n* CID 105, 106 ensure ntpdc arrays are not overrun even if callers\n  misbehave.\n* CID 113 use va_end() in refclock_true.c true_debug().\n* Get rid of configure tests for __ss_family and __ss_len when the more\n  common ss_family and ss_len are present.\n(4.2.5p237-RC) 2009/10/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 610] NMEA support for using PPSAPI on a different device.\n* [Bug 1238] use only fudge time2 to offset NMEA serial timestamp.\n* [Bug 1355] ntp-dev won't compile on OpenBSD 4.6.\n(4.2.5p236-RC) 2009/10/22 Released by Harlan Stenn <stenn@ntp.org>\n* Cleanup from Dave Mills.\n* [Bug 1343] ntpd/ntp_io.c close_fd() does not compile on Solaris 7.\n* [Bug 1353] ntpq \"rv 0 settimeofday\" always shows UNKNOWN on unix.\n* Do not attempt to execute built binaries from ntpd/Makefile when\n  cross-compiling (keyword-gen and ntpd --saveconfigquit).\n* sntp/main.c: Remove duplicate global adr_buf[] (also defined in\n  networking.c) which Piotr Grudzinski identified breaking his build.\n* Correct in6addr_any test in configure.ac to attempt link too.\n(4.2.5p235-RC) 2009/10/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1343] lib/isc build breaks on systems without IPv6 headers.\n(4.2.5p234-RC) 2009/10/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1339] redux, use unmodified lib/isc/win32/strerror.c and\n  move #define strerror... to a header not used by lib/isc code.\n* [Bug 1345] illegal 'grep' option prevents compilation.\n* [Bug 1346] keyword scanner broken where char defaults to unsigned.\n* [Bug 1347] ntpd/complete.conf missing multicastclient test case.\n(4.2.5p233-RC) 2009/10/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1337] cast setsockopt() v4 address pointer to void *.\n* [Bug 1342] ignore|drop one IPv6 address on an interface blocks all\n  addresses on that interface.\n* Documentation cleanup and updates.\n(4.2.5p232-RC) 2009/10/14 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1302] OpenSSL under Windows needs applink support.\n* [Bug 1337] fix incorrect args to setsockopt(fd, IP_MULTICAST_IF,...).\n* [Bug 1339] Fix Windows-only ntp_strerror() infinite recursion.\n* [Bug 1341] NMEA driver requires working PPSAPI #ifdef HAVE_PPSAPI.\n* Construct ntpd keyword scanner finite state machine at compile time\n  rather than at runtime, shrink entries from 40+ to 8 bytes.\n* Update documentation for ntpq --old-rv, saveconfig, saveconfigdir,\n  ntpd -I -L and -M, and interface/nic rules. (From Dave Hart)\n* [Bug 1337] fix incorrect args to setsockopt(fd, IP_MULTICAST_IF,...)\n(4.2.5p231-RC) 2009/10/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1335] Broadcast client degraded by wildcard default change.\n(4.2.5p230-RC) 2009/10/09 Released by Harlan Stenn <stenn@ntp.org>\n* Start the 4.2.6 Release Candidate cycle.\n* Broadcast and transit phase cleanup from Dave Mills.\n(4.2.5p229) 2009/10/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1334] ntpsnmpd undefined reference to `ntpqOptions'.\n* Change ntpsnmpd/Makefile.am include file order to fix FreeBSD build.\n(4.2.5p228) 2009/10/06 Released by Harlan Stenn <stenn@ntp.org>\n* Reclaim syntax tree memory after application in ntpd built with\n  configure --disable-saveconfig.\n* [Bug 1135] ntpq uses sizeof(u_long) where sizeof(u_int32) is meant.\n* [Bug 1333] ntpd --interface precedence over --novirtualips lost.\n(4.2.5p227) 2009/10/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1135] :config fails with \"Server disallowed request\"\n* [Bug 1330] disallow interface/nic rules when --novirtualips or\n  --interface are used.\n* [Bug 1332] ntpq -c 'rv 0 variablename' returns extra stuff.\n* Add test of ntpd --saveconfigquit fidelity using new complete.conf.\n* Documentation updates from Dave Hart/Dave Mills.\n(4.2.5p226) 2009/10/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1318] Allow multiple -g options on ntpd command line.\n* [Bug 1327] ntpq, ntpdc, ntp-keygen -d & -D should work with configure\n  --disable-debugging.\n* Add ntpd --saveconfigquit <filename> option for future build-time\n  testing of saveconfig fidelity.\n* Clockhop and autokey cleanup from Dave Mills.\n* Documentation updates from Dave Mills.\n(4.2.5p225) 2009/09/30 Released by Harlan Stenn <stenn@ntp.org>\n* authopt documentation changes from Dave Mills/Dave Hart.\n* [Bug 1324] support bracketed IPv6 numeric addresses for restrict.\n(4.2.5p224) 2009/09/29 Released by Harlan Stenn <stenn@ntp.org>\n* Clockhop and documentation fixes from Dave Mills.\n* Remove \"tos maxhop\" ntp.conf knob.\n(4.2.5p223) 2009/09/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1321] build doesn't work if . isn't on $PATH.\n* [Bug 1323] Implement \"revoke #\" to match documentation, deprecate\n  \"crypto revoke #\".\n(4.2.5p222) 2009/09/27 Released by Harlan Stenn <stenn@ntp.org>\n* Update libisc code using bind-9.6.1-P1.tar.gz, rearrange our copy to\n  mirror the upstream layout (lib/isc/...), and merge in NTP-local\n  modifications to libisc.  There is a new procedure to ease future\n  libisc merges using a separate \"upstream\" bk repo.  That will enable\n  normal bk pull automerge to handle carrying forward any local changes\n  and should enable us to take updated libisc snapshots more often.\n* Updated build and flock-build scripts.  flock-build --one is a way\n  to perform a flock-build compatible solitary build, handy for a repo\n  clone's first build on a machine with autoconf, automake, etc.\n* Compiling ntp_parser.y using BSD make correctly places ntp_parser.h\n  in the top-level ntpd directory instead of A.*/ntpd.\n* bootstrap script updated to remove potentially stale .deps dirs.\n* Remove unneeded Makefile.am files from the lib/isc/include tree.\n(4.2.5p221) 2009/09/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1316] segfault if refclock_nmea can't open file.\n* [Bug 1317] Distribute cvo.sh.\n(4.2.5p220) 2009/09/25 Released by Harlan Stenn <stenn@ntp.org>\n* Rearrange libisc code to match the upstream layout in BIND.  This is\n  step one of two, changing the layout but keeping our existing libisc.\n(4.2.5p219) 2009/09/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1315] \"interface ignore 0.0.0.0\" is ignored.\n* add implicit \"nic ignore all\" rule before any rules from ntp.conf, so\n  \"nic listen eth0\" alone means the same as \"-I eth0\".\n* add wildcard match class for interface/nic rules.\n* fix mistaken carryover of prefixlen from one rule to the next.\n* Ensure IPv6 localhost address ::1 is included in libisc's Windows IPv6\n  address enumeration, allowing ntpq and ntpdc's hardcoding to 127.0.0.1 \n  on Windows to end.\n(4.2.5p218) 2009/09/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1314] saveconfig emits -4 and -6 on when not given.\n* correct parsing and processing of setvar directive.\n* highlight location of ntpq :config syntax errors with ^.\n* clarify (former) NO_ARG, SINGLE_ARG, MULTIPLE_ARG renaming to\n  FOLLBY_TOKEN, FOLLBY_STRING, FOLLBY_STRINGS_TO_EOC.\n* parser, saveconfig cleanup to store T_ identifiers in syntax tree.\n(4.2.5p217) 2009/09/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1300] reject remote configuration of dangerous items.\n(4.2.5p216) 2009/09/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1312] ntpq/ntpdc MD5 passwords truncated to 8 chars on Suns.\n* CID 10 missing free(up); in refclock_palisade.c error return, again.\n* CID 83 added assertion to demonstrate config_nic_rules() does not\n  call strchr(NULL, '/').\n(4.2.5p215) 2009/09/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1292] Workaround last VC6 unsigned __int64 kink.\n(4.2.5p214) 2009/09/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1303] remove top-level \"autokey\" directive.\n* use \"nic listen 192.168.0.0/16\" instead of\n  \"nic listen 192.168.0.0 prefixlen 16\".\n(4.2.5p213) 2009/09/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1310] fix Thunderbolt mode in refclock_palisade.c\n(4.2.5p212) 2009/09/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 983] add interface [listen | ignore | drop] ... directive.\n* [Bug 1243] MD5auth_setkey zero-fills key from first zero octet.\n* [Bug 1295] leftover fix, do not crash on exit in free_config_trap()\n  when \"trap 1.2.3.4\" is used without any further options.\n* [Bug 1311] 4.2.5p211 doesn't build in no-debug mode.\n* document interface (alias nic) and unpeer.\n* Correct syntax error line & column numbers.\n* CID 79: kod_init_kod_db() fails to fclose(db_s) in two error paths.\n* CID 80: attempt to quiet Coverity false positive re: leaking \"reason\"\n  in main().\n* Documentation updates from Dave Mills.\n* CID 81: savedconfig leaked in save_config().\n* Make the code agree with the spec and the book (Dave Mills).\n(4.2.5p211) 2009/09/14 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 663] respect ntpq -c and -p order on command line.\n* [Bug 1292] more VC6 unsigned __int64 workarounds.\n* [Bug 1296] Added Support for Trimble Acutime Gold.\n(4.2.5p210) 2009/09/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1294] Use OPENSSL_INC and OPENSSL_LIB macros for Windows\n  and remove unnecessary reference to applink.c for Windows\n* [Bug 1295] trap directive options are not optional.\n* [Bug 1297] yylex() must always set yylval before returning.\n(4.2.5p209) 2009/09/01 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1290] Fix to use GETTIMEOFDAY macro\n* [Bug 1289] Update project files for VC6, VS2003, VS2005, VS 2008\n(4.2.5p208) 2009/08/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1293] make configuration dumper ready for release, specifically:\n* rename ntpq dumpcfg command to \"saveconfig\".\n* require authentication for saveconfig.\n* \"restrict ... nomodify\" prevents saveconfig and :config.\n* \"saveconfig .\" shorthand to save to startup configuration file.\n* support strftime() substitution in saveconfig arg to timestamp\n  the output filename, for example \"saveconfig %Y%m%d-%H%M%S.conf\".\n* display saveconfig response message from ntpd in ntpq.\n* save output filename in \"savedconfig\" variable, fetched with ntpq -c\n  \"rv 0 savedconfig\".\n* document saveconfig in html/ntpq.html.\n* add ./configure --disable-saveconfig to build a smaller ntpd.\n* log saveconfig failures and successes to syslog.\n(4.2.5p207) 2009/08/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1292] Minor Windows source tweaks for VC6-era SDK headers.\n(4.2.5p206) 2009/08/26 Released by Harlan Stenn <stenn@ntp.org>\n* accopt.html typo fixes from Dave Mills.\n* [Bug 1283] default to remembering KoD in sntp.\n* clean up numerous sntp/kod_management.c bugs.\n* use all addresses resolved from each DNS name in sntp.\n(4.2.5p205) 2009/08/18 Released by Harlan Stenn <stenn@ntp.org>\n* accopt.html typo fixes from Dave Mills.\n* [Bug 1285] Log ntpq :config/config-from-file events.\n* [Bug 1286] dumpcfg omits statsdir, mangles filegen.\n(4.2.5p204) 2009/08/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1284] infinite loop in ntpd dumping more than one trustedkey\n(4.2.5p203) 2009/08/16 Released by Harlan Stenn <stenn@ntp.org>\n* Add ntpq -c dumpcfg, Google Summer of Code project of Max Kuehn\n(4.2.5p202) 2009/08/14 Released by Harlan Stenn <stenn@ntp.org>\n* install the binary and man page for sntp.\n(4.2.5p201) 2009/08/13 Released by Harlan Stenn <stenn@ntp.org>\n* sntp: out with the old, in with the new.\n(4.2.5p200) 2009/08/12 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1281] Build ntpd on Windows without big SDK download, burn,\n  and install by checking in essentially unchanging messages.mc build\n  products to avoid requiring mc.exe, which is not included with VC++\n  2008 EE.\n(4.2.5p199) 2009/08/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1279] Cleanup for warnings from Veracode static analysis.\n(4.2.5p198) 2009/08/03 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade to autogen-5.9.9-pre5.\n(4.2.5p197) 2009/07/30 Released by Harlan Stenn <stenn@ntp.org>\n* The build script now has . at the end of PATH for config.guess.\n(4.2.5p196) 2009/07/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1272] gsoc_sntp IPv6 build problems under HP-UX 10.\n* [Bug 1273] CID 10: Palisade leaks unit struct in error path.\n* [Bug 1274] CID 67: ensure resolve_hosts() output count and pointers\n  are consistent.\n* [Bug 1275] CID 45: CID 46: old sntp uses uninitialized guesses[0],\n  precs[0].\n* [Bug 1276] CID 52: crypto_xmit() may call crypto_alice[23]()\n  with NULL peer.\n(4.2.5p195) 2009/07/27 Released by Harlan Stenn <stenn@ntp.org>\n* cvo.sh: Add support for CentOS, Fedora, Slackware, SuSE, and QNX.\n(4.2.5p194) 2009/07/26 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* Use scripts/cvo.sh in the build script to get better subdir names.\n(4.2.5p193) 2009/07/25 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1261] CID 34: simulate_server() rbuf.msg_flags uninitialized.\n* [Bug 1262] CID 35: xpkt.mac uninitialized in simulate_server().\n* [Bug 1263] CID 37: CID 38: CID 40: CID 43: multiple refclocks \n  uninitialized tm_zone (arc, chronolog, dumbclock, pcf).\n* [Bug 1264] CID 64: gsoc_sntp on_wire() frees wrong ptr receiving KoD.\n* [Bug 1265] CID 65: CID 66: gsoc_sntp on_wire() leaks x_pkt, r_pkt.\n* [Bug 1266] CID 39: datum_pts_start() uninitialized arg.c_ospeed.\n* [Bug 1267] CID 44: old sntp handle_saving() writes stack garbage to\n  file when clearing.\n* [Bug 1268] CID 63: resolve_hosts() leaks error message buffer.\n* [Bug 1269] CID 74: use assertion to ensure move_fd() does not return\n  negative descriptors.\n* [Bug 1270] CID 70: gsoc_sntp recv_bcst_data mdevadr.ipv6mr_interface\n  uninitialized.\n(4.2.5p192) 2009/07/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 965] CID 42: ss_family uninitialized.\n* [Bug 1250] CID 53: kod_init_kod_db() overruns kod_db malloc'd buffer.\n* [Bug 1251] CID 68: search_entry() mishandles dst argument.\n* [Bug 1252] CID 32: Quiet Coverity warning with assertion.\n* [Bug 1253] CID 50: gsoc_sntp/crypto.c auth_init() always returns a \n  list with one entry.\n* [Bug 1254] CID 56: tv_to_str() leaks a struct tm each call.\n* [Bug 1255] CID 55: pkt_output() leaks a copy of each packet.\n* [Bug 1256] CID 51: Coverity doesn't recognize our assertion macros as\n  terminal.\n* [Bug 1257] CID 57: gsoc_sntp auth_init() fails to fclose(keyfile).\n* [Bug 1258] CID 54: gsoc_sntp resolve_hosts() needs simplification.\n* [Bug 1259] CID 59: gsoc_sntp recv_bcast_data() fails to free(rdata)\n  on error paths.\n* [Bug 1260] CID 60: gsoc_sntp recvpkt() fails to free(rdata).\n* Updated to AutoGen-5.9.9pre2.\n(4.2.5p191) 2009/07/21 Released by Harlan Stenn <stenn@ntp.org>\n* Updated to AutoGen-5.9.9pre1.\n(4.2.5p190) 2009/07/20 Released by Harlan Stenn <stenn@ntp.org>\n* Updated to AutoGen-5.9.8.\n* [Bug 1248] RES_MSSNTP typo in ntp_proto.c.\n* [Bug 1246] use a common template for singly-linked lists, convert most\n  doubly-linked lists to singly-linked.\n* Log warning about signd blocking when restrict mssntp used.\n(4.2.5p189) 2009/07/16 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation cleanup from Dave Mills.\n(4.2.5p188) 2009/07/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1245] Broken xmt time sent in fast_xmit() of 4.2.5p187.\n(4.2.5p187) 2009/07/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1042] multicast listeners IPv4+6 ignore new interfaces.\n* [Bug 1237] Windows serial code treat CR and LF both as line\n  terminators.\n* [Bug 1238] use fudge time2 for serial timecode offset in NMEA driver.\n* [Bug 1242] Remove --enable-wintime, symmetric workaround is now\n  always enabled.\n* [Bug 1244] NTP_INSIST(fd != maxactivefd) failure in intres child\n* Added restrict keyword \"mssntp\" for Samba4 DC operation, by Dave Mills.\n(4.2.5p186) 2009/07/08 Released by Harlan Stenn <stenn@ntp.org>\n* ntp_proto.c cleanup from Dave Mills.\n(4.2.5p185) 2009/07/01 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* [Bug 1234] convert NMEA driver to use common PPSAPI code.\n* timepps-Solaris.h pps_handle_t changed from pointer to scalar\n* Spectracom refclock added to Windows port of ntpd\n* [Bug 1236] Declaration order fixed.\n* Bracket private ONCORE debug statements with #if 0 rather than #ifdef\n  DEBUG\n* Delete ONCORE debug statement that is now handled elsewhere.\n(4.2.5p184) 2009/06/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1233] atom refclock fudge time1 sign flipped in 4.2.5p164.\n(4.2.5p183) 2009/06/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1196] setsockopt(SO_EXCLUSIVEADDRUSE) can fail on Windows 2000\n  and earlier with WSAINVAL, do not log a complaint in that case.\n* [Bug 1210] ONCORE driver terminates ntpd without logging a reason.\n* [Bug 1218] Correct comment in refclock_oncore on /etc/ntp.oncore*\n  configuration file search order.\n* Change ONCORE driver to log using msyslog as well as to any\n  clockstats file.\n* [Bug 1231] ntpsnmpd build fails after sockaddr union changes.\n(4.2.5p182) 2009/06/18 Released by Harlan Stenn <stenn@ntp.org>\n* Add missing header dependencies to the ntpdc layout verification.\n* prefer.html updates from Dave Mills.\n* [Bug 1205] Add ntpd --usepcc and --pccfreq options on Windows\n* [Bug 1215] unpeer by association ID\n* [Bug 1225] Broadcast address miscalculated on Windows 4.2.5p180\n* [Bug 1229] autokey segfaults in cert_install().\n* Use a union for structs sockaddr, sockaddr_storage, sockaddr_in, and\n  sockaddr_in6 to remove casts and enable type checking.  Collapse\n  some previously separate IPv4/IPv6 paths into a single codepath.\n(4.2.5p181) 2009/06/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1206] Required compiler changes for Windows\n* [Bug 1084] PPSAPI for ntpd on Windows with DLL backends\n* [Bug 1204] Unix-style refclock device paths on Windows\n* [Bug 1205] partial fix, disable RDTSC use by default on Windows\n* [Bug 1208] decodenetnum() buffer overrun on [ with no ]\n* [Bug 1211] keysdir free()d twice #ifdef DEBUG\n* Enable ONCORE, ARCRON refclocks on Windows (untested)\n(4.2.5p180) 2009/05/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1200] Enable IPv6 in Windows port\n* Lose FLAG_FIXPOLL, from Dave Mills.\n(4.2.5p179) 2009/05/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1041] xmt -> aorg timestamp cleanup from Dave Mills,\n  reported by Dave Hart.\n* [Bug 1193] Compile error: conflicting types for emalloc.\n* [Bug 1196] VC6 winsock2.h does not define SO_EXCLUSIVEADDRUSE.\n* Leap/expire cleanup from Dave Mills.\n(4.2.5p178) 2009/05/21 Released by Harlan Stenn <stenn@ntp.org>\n* Provide erealloc() and estrdup(), a la emalloc().\n* Improve ntp.conf's parser error messages.\n* [Bug 320] \"restrict default ignore\" does not affect IPv6.\n* [Bug 1192] \"restrict -6 ...\" reports a syntax error.\n(4.2.5p177) 2009/05/18 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.4p7\n* [Bug 1174] nmea_shutdown assumes that nmea has a unit assigned\n* [Bug 1190] NMEA refclock fudge flag4 1 obscures position in timecode\n* Update NMEA refclock documentation in html/drivers/driver20.html\n(4.2.5p176) 2009/05/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1154] mDNS registration should be done later, repeatedly and only\n  if asked for. (second try for fix)\n(4.2.5p175) 2009/05/12 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.4p7-RC7\n* [Bug 1180] ntpd won't start with more than ~1000 interfaces\n* [Bug 1182] Documentation typos and missing bits.\n* [Bug 1183] COM port support should extend past COM3\n* [Bug 1184] ntpd is deaf when restricted to second IP on the same net\n* Clean up configure.ac NTP_CACHEVERSION interface, display cache\n  version when clearing.  Fixes a regression.\n(4.2.5p174) 2009/05/09 Released by Harlan Stenn <stenn@ntp.org>\n* Stale leapsecond file fixes from Dave Mills.\n(4.2.5p173) 2009/05/08 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.4p7-RC6\n(4.2.5p172) 2009/05/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1175] Instability in PLL daemon mode.\n* [Bug 1176] refclock_parse.c does not compile without PPSAPI.\n(4.2.5p171) 2009/05/04 Released by Harlan Stenn <stenn@ntp.org>\n* Autokey documentation cleanup from Dave Mills.\n* [Bug 1171] line editing libs found without headers (Solaris 11)\n* [Bug 1173] NMEA refclock fails with Solaris PPSAPI\n* Fix problem linking msntp on Solaris when sntp subdir is configured\n  before parent caused by different gethostent library search order.\n* Do not clear config.cache when it is  empty.\n(4.2.5p170) 2009/05/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1152] adjust PARSE to new refclock_pps logic\n* Include 4.2.4p7-RC5\n* loopfilter FLL/PLL crossover cleanup from Dave Mills.\n* Documentation updates from Dave Mills.\n* ntp-keygen cleanup from Dave Mills.\n* crypto API cleanup from Dave Mills.\n* Add NTP_CACHEVERSION mechanism to ignore incompatible config.cache\n* Enable gcc -Wstrict-overflow for gsoc_sntp as well\n(4.2.5p169) 2009/04/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1171] Note that we never look for -lreadline by default.\n* [Bug 1090] Fix bogus leap seconds in refclock_hpgps.\n(4.2.5p168) 2009/04/29 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.4p7-RC4\n* [Bug 1169] quiet compiler warnings\n* Re-enable gcc -Wstrict-prototypes when not building with OpenSSL\n* Enable gcc -Wstrict-overflow\n* ntpq/ntpdc emit newline after accepting password on Windows\n* Updates from Dave Mills:\n* ntp-keygen.c: Updates.\n* Fix the error return and syslog function ID in refclock_{param,ppsapi}.\n* Make sure syspoll is within the peer's minpoll/maxpoll bounds.\n* ntp_crypto.c: Use sign_siglen, not len. sign key filename cleanup.\n* Bump NTP_MAXEXTEN from 1024 to 2048, update values for some field lengths.\n* m4/ntp_lineeditlibs.m4: fix warnings from newer Autoconf\n* [Bug 1166] Remove truncation of position (blanking) code in refclock_nmea.c\n(4.2.5p167) 2009/04/26 Released by Harlan Stenn <stenn@ntp.org>\n* Crypto cleanup from Dave Mills.\n(4.2.5p166) 2009/04/25 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1165] Clean up small memory leaks in the  config file parser\n* Correct logconfig keyword declaration to MULTIPLE_ARG\n* Enable filename and line number leak reporting on Windows when built\n  DEBUG for all the typical C runtime allocators such as calloc,\n  malloc, and strdup.  Previously only emalloc calls were covered.\n* Add DEBUG-only code to free dynamically allocated memory that would\n  otherwise remain allocated at ntpd exit, to allow less forgivable\n  leaks to stand out in leaks reported after exit.\n* Ensure termination of strings in ports/winnt/libisc/isc_strerror.c\n  and quiet compiler warnings.\n* [Bug 1057] ntpdc unconfig failure\n* [Bug 1161] unpeer AKA unconfig command for ntpq :config\n* PPS and crypto cleanup in ntp_proto.c from Dave Mills.\n(4.2.5p165) 2009/04/23 Released by Harlan Stenn <stenn@ntp.org>\n* WWVB refclock cleanup from Dave Mills.\n* Code cleanup: requested_key -> request_key.\n* [Bug 833] ignore whitespace at end of remote configuration lines\n* [Bug 1033] ntpdc/ntpq crash prompting for keyid on Windows\n* [Bug 1028] Support for W32Time authentication via Samba.\n* quiet ntp_parser.c malloc redeclaration warning\n* Mitigation and PPS/PPSAPI cleanup from Dave Mills.\n* Documentation updates from Dave Mills.\n* timepps-Solaris.h patches from Dave Hart.\n(4.2.5p164) 2009/04/22 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.4p7-RC3\n* PPS/PPSAPI cleanup from Dave Mills.\n* Documentation updates from Dave Mills.\n* [Bug 1125] C runtime per-thread initialization on Windows\n* [Bug 1152] temporarily disable refclock_parse, refclock_true until\n  maintainers can repair build break from pps_sample()\n* [Bug 1153] refclock_nmea should not mix UTC with GPS time\n* [Bug 1159] ntpq overlap diagnostic message test buggy\n(4.2.5p163) 2009/04/10 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.5p162) 2009/04/09 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* Mitigation and PPS cleanup from Dave Mills.\n* Include 4.2.4p7-RC2\n* [Bug 216] New interpolation scheme for Windows eliminates 1ms jitter\n* remove a bunch of #ifdef SYS_WINNT from portable code\n* 64-bit time_t cleanup for building on newer Windows compilers\n* Only set CMOS clock during ntpd exit on Windows if the computer is\n  shutting down or restarting.\n* [Bug 1148] NMEA reference clock improvements\n* remove deleted gsoc_sntp/utilities.o from repository so that .o build\n  products can be cleaned up without corrupting the repository.\n(4.2.5p161) 2009/03/31 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.5p160) 2009/03/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1141] refclock_report missing braces cause spurious \"peer event:\n  clock clk_unspec\" log entries\n* Include 4.2.4p7-RC1\n(4.2.5p159) 2009/03/28 Released by Harlan Stenn <stenn@ntp.org>\n* \"bias\" changes from Dave Mills.\n(4.2.5p158) 2009/01/30 Released by Harlan Stenn <stenn@ntp.org>\n* Fix [CID 72], a typo introduced at the latest fix to prettydate.c.\n(4.2.5p157) 2009/01/26 Released by Harlan Stenn <stenn@ntp.org>\n* Cleanup/fixes for ntp_proto.c and ntp_crypto.c from Dave Mills.\n(4.2.5p156) 2009/01/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1118] Fixed sign extension for 32 bit time_t in caljulian() and prettydate().\n  Fixed some compiler warnings about missing prototypes.\n  Fixed some other simple compiler warnings.\n* [Bug 1119] [CID 52] Avoid a possible null-dereference in ntp_crypto.c.\n* [Bug 1120] [CID 51] INSIST that peer is non-null before we dereference it.\n* [Bug 1121] [CID 47] double fclose() in ntp-keygen.c.\n(4.2.5p155) 2009/01/18 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* CHU frequency updates.\n* Design assertion fixes for ntp_crypto.c from Dave Mills.\n(4.2.5p154) 2009/01/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 992] support interface event change on Linux from\n  Miroslav Lichvar.\n(4.2.5p153) 2009/01/09 Released by Harlan Stenn <stenn@ntp.org>\n* Renamed gsoc_sntp/:fetch-stubs to gsoc_sntp/fetch-stubs to avoid\n  file name problems under Windows.\n  Removed German umlaut from log msg for 4.2.5p142.\n(4.2.5p152) 2009/01/08 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.4p6: 2009/01/08 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.5p151) 2008/12/23 Released by Harlan Stenn <stenn@ntp.org>\n* Stats file logging cleanup from Dave Mills.\n(4.2.5p150) 2008/12/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1099] Fixed wrong behaviour in sntp's crypto.c.\n* [Bug 1103] Fix 64-bit issues in the new calendar code.\n(4.2.5p149) 2008/12/05 Released by Harlan Stenn <stenn@ntp.org>\n* Fixed mismatches in data types and OID definitions in ntpSnmpSubAgent.c\n* added a premliminary MIB file to ntpsnmpd (ntpv4-mib.mib)\n(4.2.5p148) 2008/12/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1070] Fix use of ntpq_parsestring() in ntpsnmpd.\n(4.2.5p147) 2008/11/27 Released by Harlan Stenn <stenn@ntp.org>\n* Update gsoc_sntp's GCC warning code.\n(4.2.5p146) 2008/11/26 Released by Harlan Stenn <stenn@ntp.org>\n* Update Solaris CFLAGS for gsoc_sntp.\n(4.2.5p145) 2008/11/20 Released by Harlan Stenn <stenn@ntp.org>\n* Deal with time.h for sntp under linux.\n* Provide rpl_malloc() for sntp for systems that need it.\n* Handle ss_len and socklen type for sntp.\n* Fixes to the sntp configure.ac script.\n* Provide INET6_ADDRSTRLEN if it is missing.\n* [Bug 1095] overflow in caljulian.c.\n(4.2.5p144) 2008/11/19 Released by Harlan Stenn <stenn@ntp.org>\n* Use int32, not int32_t.\n* Avoid the sched*() functions under OSF - link problems.\n(4.2.5p143) 2008/11/17 Released by Harlan Stenn <stenn@ntp.org>\n* sntp cleanup and fixes.\n(4.2.5p142) 2008/11/16 Released by Harlan Stenn <stenn@ntp.org>\n* Imported GSoC SNTP code from Johannes Maximilian Kuehn.\n(4.2.5p141) 2008/11/13 Released by Harlan Stenn <stenn@ntp.org>\n* New caltontp.c and calyearstart.c from Juergen Perlinger.\n(4.2.5p140) 2008/11/12 Released by Harlan Stenn <stenn@ntp.org>\n* Cleanup lint from the ntp_scanner files.\n* [Bug 1011] gmtime() returns NULL on windows where it would not under Unix.\n* Updated caljulian.c and prettydate.c from Juergen Perlinger.\n(4.2.5p139) 2008/11/11 Released by Harlan Stenn <stenn@ntp.org>\n* Typo fix to driver20.html.\n(4.2.5p138) 2008/11/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 474] --disable-ipv6 is broken.\n* IPv6 interfaces were being looked for twice.\n* SHM driver grabs more samples, add clockstats\n* decode.html and driver20.html updates from Dave Mills.\n(4.2.5p137) 2008/11/01 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1069] #undef netsnmp's PACKAGE_* macros.\n* [Bug 1068] Older versions of netsnmp do not have netsnmp_daemonize().\n(4.2.5p136) 2008/10/27 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1078] statsdir configuration parsing is broken.\n(4.2.5p135) 2008/09/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1072] clock_update should not allow updates older than sys_epoch.\n(4.2.5p134) 2008/09/17 Released by Harlan Stenn <stenn@ntp.org>\n* Clean up build process for ntpsnmpd.\n(4.2.5p133) 2008/09/16 Released by Harlan Stenn <stenn@ntp.org>\n* Add options processing to ntpsnmpd.\n* [Bug 1062] Check net-snmp headers before deciding to build ntpsnmpd.\n* Clean up the libntpq.a build.\n* Regenerate ntp_parser.[ch] from ntp_parser.y\n(4.2.5p132) 2008/09/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1067] Multicast DNS service registration must come after the fork\n  on Solaris.\n* [Bug 1066] Error messages should log as errors.\n(4.2.5p131) 2008/09/14 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1065] Re-enable support for the timingstats file.\n(4.2.5p130) 2008/09/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1064] Implement --with-net-snmp-config=progname\n* [Bug 1063] ntpSnmpSubagentObject.h is missing from the distribution.\n(4.2.5p129) 2008/09/11 Released by Harlan Stenn <stenn@ntp.org>\n* Quiet some libntpq-related warnings.\n(4.2.5p128) 2008/09/08 Released by Harlan Stenn <stenn@ntp.org>\n* Import Heiko Gerstung's GSoC2008 NTP MIB daemon.\n(4.2.5p127) 2008/09/01 Released by Harlan Stenn <stenn@ntp.org>\n* Regenerate ntpd/ntp_parser.c\n(4.2.5p126) 2008/08/31 Released by Harlan Stenn <stenn@ntp.org>\n* Stop libtool-1.5 from looking for C++ or Fortran.\n* [BUG 610] Documentation update for NMEA reference clock driver.\n* [Bug 828] Fix IPv4/IPv6 address parsing.\n* Changes from Dave Mills:\n  Documentation updates.\n  Fix a corner case where a frequency update was reported but not set.\n  When LEAP_NOTINSYNC->LEAP_NOWARNING, call crypto_update() if we have\n  crypto_flags.\n(4.2.5p125) 2008/08/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1052] Add linuxPPS support to ONCORE driver.\n(4.2.5p124) 2008/08/17 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* Include 4.2.4p5: 2008/08/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 861] leap info was not being transmitted.\n* [Bug 1046] refnumtoa.c is using the wrong header file.\n* [Bug 1047] enable/disable options processing fix.\n* header file cleanup.\n* [Bug 1037] buffer in subroutine was 1 byte short.\n* configure.ac: cleanup, add option for wintime, and lay the groundwork\n  for the changes needed for bug 1028.\n* Fixes from Dave Mills: 'bias' and 'interleave' work.  Separate\n  phase and frequency discipline (for long poll intervals).  Update\n  TAI function to match current leapsecond processing.\n* Documentation updates from Dave Mills.\n* [Bug 1037] Use all 16 of the MD5 passwords generated by ntp-keygen.\n* Fixed the incorrect edge parameter being passed to time_pps_kcbind in\n  NMEA refclock driver.\n* [Bug 399] NMEA refclock driver does not honor time1 offset if flag3 set.\n* [Bug 985] Modifications to NMEA reference clock driver to support Accord\n  GPS Clock.\n* poll time updates from Dave Mills.\n* local refclock documentation updates from Dave Mills.\n* [Bug 1022] Fix compilation problems with yesterday's commit.\n* Updates and cleanup from Dave Mills:\n  I've now spent eleven months of a sabbatical year - 7 days a week, 6-10\n  hours most days - working on NTP. I have carefully reviewed every major\n  algorithm, examined its original design and evolution from that design.\n  I've trimmed off dead code and briar patches and did zillions of tests\n  contrived to expose evil vulnerabilities. The development article is in\n  rather good shape and should be ready for prime time.\n\n  1. The protostats statistics files have been very useful in exposing\n  little twitches and turns when something hiccups, like a broken PPS\n  signal. Most of what used to be syslog messages are now repackaged as\n  protostats messages with optional syslog as well. These can also be sent\n  as traps which might be handy to tiggle a beeper or celltext. These, the\n  sysstats files and cryptostats files reveal the ambient health of a busy\n  server, monitor traffic and error counts and spot crypto attacks.\n\n  2. Close inspection of the clock discipline behavior at long poll\n  intervals (36 h) showed it not doing as well as it should. I redesigned\n  the FLL loop to improve nominal accuracy from  several tens of\n  milliseconds to something less than ten milliseconds.\n\n  3. Autokey (again). The enhanced error checking was becoming a major\n  pain. I found a way to toss out gobs of ugly fat code and replace the\n  function with a much simpler and more comprehensive scheme. It resists\n  bait-and-switch attacks and quickly detect cases when the protocol is\n  not correctly synchronized.\n\n  4. The interface code for the kernel PPS signal was not in sync with the\n  kernel code itself. Some error checks were duplicated and some\n  ineffective. I found none of the PPS-capable drivers, including the atom\n  driver, do anything when the prefer peer fails; the kernel PPS signal\n  remains in control. The atom driver now disables the kernel PPS when the\n  prefer peer comes bum. This is important when the prefer peer is not a\n  reference clock but a remote NTP server.\n\n  5. The flake restrict bit turned out to be really interesting,\n  especially with symmtric modes and of those especially those using\n  Autokey. Small changes in the recovery procedures when packets are lost\n  now avoid almost all scenarios which previously required protocol resets.\n\n  6. I've always been a little uncomfortable when using the clock filter\n  with long poll intervals because the samples become less and less\n  correlated as the sample age exceeds the Allan intercept. Various\n  schemes have been used over the years to cope with this fact. The latest\n  one and the one that works the best is to use a modified sort metric\n  where the delay is used when the age of the sample is less than the\n  intercept and the sum of delay and dispersion above that. The net result\n  is that, at small poll intervals the algorithm operates as a minimum\n  filter, while at larger poll intervals it morphs to FIFO. Left\n  unmodified, a sample could be used when twelve days old. This along with\n  the FLL modifications has made a dramatic improvement at large poll\n  intervals.\n\n- [Backward Incompatible] The 'state' variable is no longer reported or\n  available via ntpq output.  The following system status bit names\n  have been changed:\n  - sync_alarm -> leap_alarm\n  - sync_atomic -> sync_pps\n  - sync_lf_clock -> sync_lf_radio\n  - sync_hf_clock -> sync_hf_radio\n  - sync_uhf_clock -> sync_uhf_radio\n  - sync_local_proto -> sync_local\n  - sync_udp/time -> sync_other\n  Other names have been changed as well.  See the change history for\n  libntp/statestr.c for more details.\n  Other backward-incompatible changes in ntpq include:\n  - assID -> associd\n  - rootdispersion -> rootdisp\n  - pkt_head -> pkt_neader\n  See the change history for other details.\n\n* Updates and cleanup from Dave Mills.\n* [Bug 995] Remove spurious ; from ntp-keygen.c.\n* More cleanup and changes from Dave Mills.\n* [Bug 980] Direct help to stdout.\n---\n(4.2.4p8) 2009/12/08 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Sec 1331] DoS with mode 7 packets - CVE-2009-3563.\n\n---\n(4.2.4p7) 2009/05/18 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Sec 1151] Remote exploit if autokey is enabled - CVE-2009-1252.\n* [Bug 1187] Update the copyright date.\n* [Bug 1191] ntpd fails on Win2000 - \"Address already in use\" after fix\n  for [Sec 1149].\n\n---\n(4.2.4p7-RC7) 2009/05/12 Released by Harlan Stenn <stenn@ntp.org>\n\n* ntp.isc.org -> ntp.org cleanup.\n* [Bug 1178] Use prior FORCE_DNSRETRY behavior as needed at runtime,\n  add configure --enable-ignore-dns-errors to be even more stubborn\n\n---\n(4.2.4p7-RC6) 2009/05/08 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 784] Make --enable-linuxcaps the default when available\n* [Bug 1179] error messages for -u/--user and -i lacking droproot\n* Updated JJY reference clock driver from Takao Abe\n* [Bug 1071] Log a message and exit before trying to use FD_SET with a\n  descriptor larger than FD_SETSIZE, which will corrupt memory\n* On corruption of the iface list head in add_interface, log and exit\n\n---\n(4.2.4p7-RC5) 2009/05/02 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1172] 4.2.4p7-RC{3,4} fail to build on linux.\n* flock-build script unportable 'set -m' use removed\n\n---\n(4.2.4p7-RC4) 2009/04/29 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1167] use gcc -Winit-self only if it is understood\n\n---\n(4.2.4p7-RC3) 2009/04/22 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 787] Bug fixes for 64-bit time_t on Windows\n* [Bug 813] Conditional naming of Event\n* [Bug 1147] System errors should be logged to msyslog()\n* [Bug 1155] Fix compile problem on Windows with VS2005\n* [Bug 1156] lock_thread_to_processor() should be declared in header\n* [Bug 1157] quiet OpenSSL warnings, clean up configure.ac\n* [Bug 1158] support for aix6.1\n* [Bug 1160] MacOS X is like BSD regarding F_SETOWN\n\n---\n(4.2.4p7-RC2) 2009/04/09 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Sec 1144] limited buffer overflow in ntpq.  CVE-2009-0159\n* [Sec 1149] use SO_EXCLUSIVEADDRUSE on Windows\n\n---\n(4.2.4p7-RC1) 2009/03/30 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1131] UDP sockets should not use SIGPOLL on Solaris.\n* build system email address cleanup\n* [Bug 774] parsesolaris.c does not compile under the new Solaris\n* [Bug 873] Windows serial refclock proper TTY line discipline emulation\n* [Bug 1014] Enable building with VC9 (in Visual Studio 2008,\n  Visual C++ 2008, or SDK)\n* [Bug 1117] Deferred interface binding under Windows works only correctly\n  if FORCE_DNSRETRY is defined\n* [BUG 1124] Lock QueryPerformanceCounter() client threads to same CPU\n* DPRINTF macro made safer, always evaluates to a statement and will not\n  misassociate an else which follows the macro.\n\n---\n(4.2.4p6) 2009/01/08 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1113] Fixed build errors with recent versions of openSSL. \n* [Sec 1111] Fix incorrect check of EVP_VerifyFinal()'s return value.\n* Update the copyright year.\n\n---\n(4.2.4p5) 2008/08/17 Released by Harlan Stenn <stenn@ntp.org>\n\n* [BUG 1051] Month off by one in leap second message written to clockstats\n  file fixed.\n* [Bug 450] Windows only: Under original Windows NT we must not discard the\n  wildcard socket to workaround a bug in NT's getsockname().\n* [Bug 1038] Built-in getpass() function also prompts for password if\n  not built with DEBUG.\n* [Bug 841] Obsolete the \"dynamic\" keyword and make deferred binding\n  to local interfaces the default.\n  Emit a warning if that keyword is used for configuration.\n* [Bug 959] Refclock on Windows not properly releasing recvbuffs.\n* [Bug 993] Fix memory leak when fetching system messages.\n* much cleanup, fixes, and changes from Dave Mills.\n* ntp_control.c: LEAPTAB is a filestamp, not an unsigned.  From Dave Mills.\n* ntp_config.c: ntp_minpoll fixes from Dave Mills.\n* ntp-keygen updates from Dave Mills.\n* refresh epoch, throttle, and leap cleanup from Dave Mills.\n* Documentation cleanup from Dave Mills.\n* [Bug 918] Only use a native md5.h if MD5Init() is available.\n* [Bug 979] Provide ntptimeval if it is not otherwise present.\n* [Bug 634] Re-instantiate syslog() and logfiles after the daemon fork.\n* [Bug 952] Use md5 code with a friendlier license.\n* [Bug 977] Fix mismatching #ifdefs for builds without IPv6.\n* [Bug 830] Fix the checking order of the interface options.\n* Clean up the logfile/syslog setup.\n* [Bug 970] Lose obsolete -g flag to ntp-keygen.\n* The -e flag to ntp-keygen can write GQ keys now, too.\n* ntp_proto.c: sys_survivors and hpoll cleanup from Dave Mills.\n* ntp_loopfilter.c: sys_poll cleanup from Dave Mills.\n* refclock_wwv.c: maximum-likelihood digit and DSYNC fixes from Dave Mills.\n* [Bug 967] preemptable associations are lost forever on a step.\n* ntp_config.c: [CID 48] missing \"else\" clause.\n* [Bug 833] ntpq config keyword is quote-mark unfriendly.\n* Rename the ntpq \"config\" keyword to \":config\".\n* Dave Mills shifted some orphan processing.\n* Fix typos in the [Bug 963] patch.\n* bootstrap: squawk if genver fails.  Use -f with cp in case Dave does a chown.\n* Remove obsolete simulator command-line options.\n* ntp_request.c: [CID 36] zero sin_zero.\n* [Bug 963] get_systime() is too noisy.\n* [Bug 960] spurious syslog:crypto_setup:spurious crypto command\n* [Bug 964] Change *-*-linux* to *-*-*linux* to allow for uclinux.\n* Changes from Dave Mills:\n  - ntp_util.c: cleanup.\n  - ntp_timer.c: watch the non-burst packet rate.\n  - ntp_request.c: cleanup.\n  - ntp_restrict.c: RES_LIMITED cleanup.\n  - ntp_proto.c: RES_LIMITED, rate bucktes, counters, overall cleanup.\n  - ntp_peer.c: disallow peer_unconfig().\n  - ntp_monitor.c: RES_LIMITED cleanup.\n  - ntp_loopfilter.c: poll interval cleanup.\n  - ntp_crypto.c: volley -> retry.  Cleanup TAI leap message.\n  - ntp_config: average and minimum are ^2 values.\n  - ntpdc: unknownversion is really \"declined\", not \"bad version\".\n  - Packet retry cleanup.\n* [Bug 961] refclock_tpro.c:tpro_poll() calls refclock_receive() twice.\n* [Bug 957] Windows only: Let command line parameters from the Windows SCM GUI\n  override the standard parameters from the ImagePath registry key.\n* Added HAVE_INT32_T to the Windows config.h to avoid duplicate definitions.\n* Work around a VPATH difference in FreeBSD's 'make' command.\n* Update bugreport URL.\n* Update -I documentation.\n* [Bug 713] Fix bug reporting information.\n* A bug in the application of the negative-sawtooth for 12 channel receivers. \n* The removal of unneeded startup code used for the original LinuxPPS, it now\n  conforms to the PPSAPI and does not need special code.  \n* ntp-keygen.c: Coverity fixes [CID 33,47].\n* Volley cleanup from Dave Mills.\n* Fuzz cleanup from Dave Mills.\n* [Bug 861] Leap second cleanups from Dave Mills.\n* ntpsim.c: add missing protypes and fix [CID 34], a nit.\n* Upgraded bison at UDel.\n* Update br-flock and flock-build machine lists.\n* [Bug 752] QoS: add parse/config handling code. \n* Fix the #include order in tickadj.c for picky machines.\n* [Bug 752] QoS: On some systems, netinet/ip.h needs netinet/ip_systm.h.\n* [Bug 752] Update the QoS tagging (code only - configuration to follow).\n* Orphan mode and other protocol cleanup from Dave Mills.\n* Documentation cleanup from Dave Mills.\n* [Bug 940] ntp-keygen uses -v.  Disallow it as a shortcut for --version.\n* more cleanup to ntp_lineeditlibs.m4.\n* Documentation updates from Dave Mills.\n* -ledit cleanup for ntpdc and ntpq.\n* Association and other cleanup from Dave Mills.\n* NTP_UNREACH changes from Dave Mills.\n* Fix the readline history test.\n* [Bug 931] Require -lreadline to be asked for explicitly.\n* [Bug 764] When looking for -lreadline support, also try using -lncurses.\n* [Bug 909] Fix int32_t errors for ntohl().\n* [Bug 376/214] Enhancements to support multiple if names and IP addresses.\n* [Bug 929] int32_t is undefined on Windows.  Casting wrong.\n* [Bug 928] readlink missing braces.\n* [Bug 788] Update macros to support VS 2005.\n* ntpd/ntp_timer.c: add missing sys_tai parameter for debug printf\n* [Bug 917] config parse leaves files open\n* [Bug 912] detect conflicting enable/disable configuration on interfaces\n  sharing an IP address\n* [Bug 771] compare scopeid if available for IPv6 addresses\n* Lose obsolete crypto subcommands (Dave Mills).\n* WWV is an HF source, not an LF source (Dave Mills).\n* [Bug 899] Only show -i/--jaildir -u/--user options if we HAVE_DROPROOT.\n* [Bug 916] 'cryptosw' is undefined if built without OpenSSL.\n* [Bug 891] 'restrict' config file keyword does not work (partial fix).\n* [Bug 890] the crypto command seems to be required now.\n* [Bug 915] ntpd cores during processing of x509 certificates.\n* Crypto lint cleanup from Dave Mills.\n* [Bug 897] Check RAND_status() - we may not need a .rnd file.\n* Crypto cleanup from Dave Mills.\n* [Bug 911] Fix error message in cmd_args.c.\n* [Bug 895] Log assertion failures via syslog(), not stderr.\n* Documentation updates from Dave Mills.\n* Crypto cleanup from Dave Mills.\n* [Bug 905] ntp_crypto.c fails to compile without -DDEBUG.\n* Avoid double peer stats logging.\n* ntp-keygen cleanup from Dave Mills.\n* libopts needs to be built after ElectricFence.\n* [Bug 894] Initialize keysdir before calling crypto_setup().\n* Calysto cleanup for ntpq.\n* ntp-keygen -i takes an arg.\n* Cleanup and fixes from Dave Mills.\n* [Bug 887] Fix error in ntp_types.h (for sizeof int != 4).\n* Bug 880 bug fixes for Windows build\n* Improve Calysto support.\n* The \"revoke\" parameter is a crypto command.\n* The driftfile wander threshold is a real number.\n* [Bug 850] Fix the wander threshold parameter on the driftfile command.\n* ntp_io.c: Dead code cleanup - Coverity View 19.\n* Leap file related cleanup from Dave Mills.\n* ntp_peer.c: Set peer->srcadr before (not after) calling set_peerdstadr().\n* Initialize offset in leap_file() - Coverity View 17.\n* Use the correct stratum on KISS codes.\n* Fuzz bits cleanup.\n* Show more digits in some debug printf's.\n* Use drift_file_sw internally to control writing the drift file.\n* Implement the wander_threshold option for the driftfile config keyword.\n* reformat ntp_control.c; do not use c++ // comments.\n* [Bug 629] Undo bug #629 fixes as they cause more problems than were  being\n  solved\n* Changes from Dave Mills: in/out-bound data rates, leapsecond cleanup,\n  driftfile write cleanup, packet buffer length checks, documentation updates.\n* More assertion checks and malloc()->emalloc(), courtesy of Calysto.\n* [Bug 864] Place ntpd service in maintenance mode if using SMF on Solaris\n* [Bug 862] includefile nesting; preserve phonelist on reconfig.\n* [Bug 604] ntpd regularly dies on linux/alpha.\n* more leap second infrastructure fixes from Dave Mills.\n* [Bug 858] recent leapfile changes broke non-OpenSSL builds.\n* Use emalloc() instead of malloc() in refclock_datum.c (Calysto).\n* Start using 'design by contract' assertions.\n* [Bug 767] Fast sync to refclocks wanted.\n* Allow null driftfile.\n* Use YYERROR_VERBOSE for the new parser, and fix related BUILT_SOURCES.\n* [Bug 629] changes to ensure broadcast works including on wildcard addresses\n* [Bug 853] get_node() must return a pointer to maximally-aligned memory.\n* Initial leap file fixes from Dave Mills.\n* [Bug 858] Recent leapfile changes broke without OPENSSL.\n* Use a char for DIR_SEP, not a string.\n* [Bug 850] driftfile parsing changes.\n* driftfile maintenance changes from Dave Mills.  Use clock_phi instead of\n  stats_write_tolerance.\n* [Bug 828] refid string not being parsed correctly.\n* [Bug 846] Correct includefile parsing.\n* [Bug 827] New parsing code does not handle \"fudge\" correctly.\n* Enable debugging capability in the config parser.\n* [Bug 839] Crypto password not read from ntp.conf.\n* Have autogen produce writable output files.\n* [Bug 825] Correct logconfig -/+ keyword processing.\n* [Bug 828] Correct parsing of \" delimited strings.\n* Cleanup FILE * usage after fclose() in ntp_filegen.c.\n* [Bug 843] Windows Completion port code was incorrectly merged from -stable.\n* [Bug 840] do fudge configuration AFTER peers (thus refclocks) have been\n  configured.\n* [Bug 824] Added new parser modules to the Windows project file.\n* [Bug 832] Add libisc/log.c headers to the distribution.\n* [Bug 808] Only write the drift file if we are in state 4.\n* Initial import of libisc/log.c and friends.\n* [Bug 826] Fix redefinition of PI.\n* [Bug 825] ntp_scanner.c needs to #include <config.h> .\n* [Bug 824] New parser code has some build problems with the SIM code.\n* [Bug 817] Use longnames for setting ntp variables on the command-line;\n  Allowing '-v' with and without an arg to disambiguate usage is error-prone.\n* [Bug 822] set progname once, early.\n* [Bug 819] remove erroneous #if 0 in Windows completion port code.\n* The new config code missed an #ifdef for building without refclocks.\n* Distribute some files needed by the new config parsing code.\n* [Bug 819] Timeout for WaitForMultipleObjects was 500ms instead of INFINITE\n* Use autogen 5.9.1.\n* Fix clktest command-line arg processing.'\n* Audio documentation updates from Dave Mills.\n* New config file parsing code, from Sachin Kamboj.\n* fuzz bit cleanup from Dave Mills.\n* replay cleanup from Dave Mills.\n* [Bug 542] Tolerate missing directory separator at EO statsdir.\n* [Bug 812] ntpd should drop supplementary groups.\n* [Bug 815] Fix warning compiling 4.2.5p22 under Windows with VC6.\n* [Bug 740] Fix kernel/daemon startup drift anomaly.\n* refclock_wwv.c fixes from Dave Mills.\n* [Bug 810] Fix ntp-keygen documentation.\n* [Bug 787] Bug fixes for 64-bit time_t on Windows.\n* [Bug 796] Clean up duplicate #defines in ntp_control.c.\n* [Bug 569] Use the correct precision for the Leitch CSD-5300.\n* [Bug 795] Moved declaration of variable to top of function.\n* [Bug 798] ntpq [p typo crashes ntpq/ntpdc.\n* [Bug 786] Fix refclock_bancomm.c on Solaris.\n* [Bug 774] parsesolaris.c does not compile under the new Solaris.\n* [Bug 782] Remove P() macros from Windows files.\n* [Bug 778] ntpd fails to lock with drift=+500 when started with drift=-500.\n* [Bug 592] Trimble Thunderbolt GPS support.\n* IRIG, CHU, WWV, WWVB refclock improvements from Dave Mills.\n* [Bug 757] Lose ULONG_CONST().\n* [Bug 756] Require ANSI C (function prototypes).\n* codec (audio) and ICOM changes from Dave Mills.\n\n---\n\n* [Bug 450] Windows only: Under original Windows NT we must not discard the\n  wildcard socket to workaround a bug in NT's getsockname().\n* [Bug 1038] Built-in getpass() function also prompts for password if\n  not built with DEBUG.\n* [Bug 841] Obsolete the \"dynamic\" keyword and make deferred binding\n  to local interfaces the default.\n  Emit a warning if that keyword is used for configuration.\n* [Bug 959] Refclock on Windows not properly releasing recvbuffs.\n* [Bug 993] Fix memory leak when fetching system messages.\n* [Bug 987] Wake up the resolver thread/process when a new interface has\n  become available.\n* Correctly apply negative-sawtooth for oncore 12 channel receiver.\n* Startup code for original LinuxPPS removed.  LinuxPPS now conforms to\n  the PPSAPI.\n* [Bug 1000] allow implicit receive buffer allocation for Windows.\n  fixes startup for windows systems with many interfaces.\n  reduces dropped packets on network bursts.\n  additionally fix timer() starvation during high load.\n* [Bug 990] drop minimum time restriction for interface update interval.\n* [Bug 977] Fix mismatching #ifdefs for builds without IPv6.\n* Update the copyright year.\n* Build system cleanup (make autogen-generated files writable).\n* [Bug 957] Windows only: Let command line parameters from the Windows SCM GUI\n  override the standard parameters from the ImagePath registry key.\n* Fixes for ntpdate:\n* [Bug 532] nptdate timeout is too long if several servers are supplied.\n* [Bug 698] timeBeginPeriod is called without timeEndPeriod in some NTP tools.\n* [Bug 857] ntpdate debug mode adjusts system clock when it shouldn't.\n* [Bug 908] ntpdate crashes sometimes.\n* [Bug 982] ntpdate(and ntptimeset) buffer overrun if HAVE_POLL_H isn't set\n  (dup of 908).\n* [Bug 997] ntpdate buffer too small and unsafe.\n* ntpdate.c: Under Windows check whether NTP port in use under same conditions\n  as under other OSs.\n* ntpdate.c: Fixed some typos and indents (tabs/spaces).\n\n(4.2.4p4) Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 902] Fix problems with the -6 flag.\n* Updated include/copyright.def (owner and year).\n* [Bug 878] Avoid ntpdc use of refid value as unterminated string.\n* [Bug 881] Corrected display of pll offset on 64bit systems.\n* [Bug 886] Corrected sign handling on 64bit in ntpdc loopinfo command.\n* [Bug 889] avoid malloc() interrupted by SIGIO risk\n* ntpd/refclock_parse.c: cleanup shutdown while the file descriptor is still\n  open.\n* [Bug 885] use emalloc() to get a message at the end of the memory\n  unsigned types cannot be less than 0\n  default_ai_family is a short\n  lose trailing , from enum list\n  clarify ntp_restrict.c for easier automated analysis\n* [Bug 884] don't access recv buffers after having them passed to the free\n  list.\n* [Bug 882] allow loopback interfaces to share addresses with other\n  interfaces.\n\n---\n(4.2.4p3) Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 863] unable to stop ntpd on Windows as the handle reference for events\n  changed\n\n---\n(4.2.4p2) Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 854] Broadcast address was not correctly set for interface addresses\n* [Bug 829] reduce syslog noise, while there fix Enabled/Disable logging\n  to reflect the actual configuration.\n* [Bug 795] Moved declaration of variable to top of function.\n* [Bug 789] Fix multicast client crypto authentication and make sure arriving\n  multicast packets do not disturb the autokey dance.\n* [Bug 785] improve handling of multicast interfaces\n  (multicast routers still need to run a multicast routing software/daemon)\n* ntpd/refclock_parse.c: cleanup shutdown while the file descriptor is still\n  open.\n* [Bug 885] use emalloc() to get a message at the end of the memory\n  unsigned types cannot be less than 0\n  default_ai_family is a short\n  lose trailing , from enum list\n* [Bug 884] don't access recv buffers after having them passed to the free list.\n* [Bug 882] allow loopback interfaces to share addresses with other interfaces.\n* [Bug 527] Don't write from source address length to wrong location\n* Upgraded autogen and libopts.\n* [Bug 811] ntpd should not read a .ntprc file.\n\n---\n(4.2.4p1) (skipped)\n\n---\n(4.2.4p0) Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 793] Update Hans Lambermont's email address in ntpsweep.\n* [Bug 776] Remove unimplemented \"rate\" flag from ntpdate.\n* [Bug 586] Avoid lookups if AI_NUMERICHOST is set.\n* [Bug 770] Fix numeric parameters to ntp-keygen (Alain Guibert).\n* [Bug 768] Fix io_setbclient() error message.\n* [Bug 765] Use net_bind_service capability on linux.\n* [Bug 760] The background resolver must be aware of the 'dynamic' keyword.\n* [Bug 753] make union timestamp anonymous (Philip Prindeville).\n* confopt.html: move description for \"dynamic\" keyword into the right section.\n* pick the right type for the recv*() length argument.\n\n---\n(4.2.4) Released by Harlan Stenn <stenn@ntp.org>\n\n* monopt.html fixes from Dave Mills.\n* [Bug 452] Do not report kernel PLL/FLL flips.\n* [Bug 746] Expert mouseCLOCK USB v2.0 support added.'\n* driver8.html updates.\n* [Bug 747] Drop <NOBR> tags from ntpdc.html.\n* sntp now uses the returned precision to control decimal places.\n* sntp -u will use an unprivileged port for its queries.\n* [Bug 741] \"burst\" doesn't work with !unfit peers.\n* [Bug 735] Fix a make/gmake VPATH issue on Solaris.\n* [Bug 739] ntpd -x should not take an argument.\n* [Bug 737] Some systems need help providing struct iovec.\n* [Bug 717] Fix libopts compile problem.\n* [Bug 728] parse documentation fixes.\n* [Bug 734] setsockopt(..., IP_MULTICAST_IF, ...) fails on 64-bit platforms.\n* [Bug 732] C-DEX JST2000 patch from Hideo Kuramatsu.\n* [Bug 721] check for __ss_family and __ss_len separately.\n* [Bug 666] ntpq opeers displays jitter rather than dispersion.\n* [Bug 718] Use the recommended type for the saddrlen arg to getsockname().\n* [Bug 715] Fix a multicast issue under Linux.\n* [Bug 690] Fix a Windows DNS lookup buffer overflow.\n* [Bug 670] Resolved a Windows issue with the dynamic interface rescan code.\n* K&R C support is being deprecated.\n* [Bug 714] ntpq -p should conflict with -i, not -c.\n* WWV refclock improvements from Dave Mills.\n* [Bug 708] Use thread affinity only for the clock interpolation thread.\n* [Bug 706] ntpd can be running several times in parallel.\n* [Bug 704] Documentation typos.\n* [Bug 701] coverity: NULL dereference in ntp_peer.c\n* [Bug 695] libopts does not protect against macro collisions.\n* [Bug 693] __adjtimex is independent of ntp_{adj,get}time.\n* [Bug 692] sys_limitrejected was not being incremented.\n* [Bug 691] restrictions() assumption not always valid.\n* [Bug 689] Deprecate HEATH GC-1001 II; the driver never worked.\n* [Bug 688] Fix documentation typos.\n* [Bug 686] Handle leap seconds better under Windows.\n* [Bug 685] Use the Windows multimedia timer.\n* [Bug 684] Only allow debug options if debugging is enabled.\n* [Bug 683] Use the right version string.\n* [Bug 680] Fix the generated version string on Windows.\n* [Bug 678] Use the correct size for control messages.\n* [Bug 677] Do not check uint_t in configure.ac.\n* [Bug 676] Use the right value for msg_namelen.\n* [Bug 675] Make sure ntpd builds without debugging.\n* [Bug 672] Fix cross-platform structure padding/size differences.\n* [Bug 660] New TIMESTAMP code fails tp build on Solaris Express.\n* [Bug 659] libopts does not build under Windows.\n* [Bug 658] HP-UX with cc needs -Wp,-H8166 in CFLAGS.\n* [Bug 656] ntpdate doesn't work with multicast address.\n* [Bug 638] STREAMS_TLI is deprecated - remove it.\n* [Bug 635] Fix tOptions definition.\n* [Bug 628] Fallback to ntp discipline not working for large offsets.\n* [Bug 622] Dynamic interface tracking for ntpd.\n* [Bug 603] Don't link with libelf if it's not needed.\n* [Bug 523] ntpd service under Windows does't shut down properly.\n* [Bug 500] sntp should always be built.\n* [Bug 479] Fix the -P option.\n* [Bug 421] Support the bc637PCI-U card.\n* [Bug 342] Deprecate broken TRAK refclock driver.\n* [Bug 340] Deprecate broken MSF EES refclock driver.\n* [Bug 153] Don't do DNS lookups on address masks.\n* [Bug 143] Fix interrupted system call on HP-UX.\n* [Bug 42] Distribution tarballs should be signed.\n* Support separate PPS devices for PARSE refclocks.\n* [Bug 637, 51?] Dynamic interface scanning can now be done.\n* Options processing now uses GNU AutoGen.\n\n---\n(4.2.2p4) Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 710] compat getnameinfo() has off-by-one error\n* [Bug 690] Buffer overflow in Windows when doing DNS Lookups\n\n---\n(4.2.2p3) Released by Harlan Stenn <stenn@ntp.org>\n\n* Make the ChangeLog file cleaner and easier to read\n* [Bug 601] ntpq's decodeint uses an extra level of indirection\n* [Bug 657] Different OSes need different sized args for IP_MULTICAST_LOOP\n* release engineering/build changes\n* Documentation fixes\n* Get sntp working under AIX-5\n\n---\n(4.2.2p2) (broken)\n\n* Get sntp working under AIX-5\n\n---\n(4.2.2p1)\n\n* [Bug 661] Use environment variable to specify the base path to openssl.\n* Resolve an ambiguity in the copyright notice\n* Added some new documentation files\n* URL cleanup in the documentation\n* [Bug 657]: IP_MULTICAST_LOOP uses a u_char value/size\n* quiet gcc4 complaints\n* more Coverity fixes\n* [Bug 614] manage file descriptors better\n* [Bug 632] update kernel PPS offsets when PPS offset is re-configured\n* [Bug 637] Ignore UP in*addr_any interfaces\n* [Bug 633] Avoid writing files in srcdir\n* release engineering/build changes\n\n---\n(4.2.2)\n\n* SNTP\n* Many bugfixes\n* Implements the current \"goal state\" of NTPv4\n* Autokey improvements\n* Much better IPv6 support\n* [Bug 360] ntpd loses handles with LAN connection disabled.\n* [Bug 239] Fix intermittent autokey failure with multicast clients.\n* Rewrite of the multicast code\n* New version numbering scheme\n\n---\n(4.2.0)\n\n* More stuff than I have time to document\n* IPv6 support\n* Bugfixes\n* call-gap filtering\n* wwv and chu refclock improvements\n* OpenSSL integration\n\n---\n(4.1.2)\n\n* clock state machine bugfix\n* Lose the source port check on incoming packets\n* (x)ntpdc compatibility patch\n* Virtual IP improvements\n* ntp_loopfilter fixes and improvements\n* ntpdc improvements\n* GOES refclock fix\n* JJY driver\n* Jupiter refclock fixes\n* Neoclock4X refclock fixes\n* AIX 5 port\n* bsdi port fixes\n* Cray unicos port upgrade\n* HP MPE/iX port\n* Win/NT port upgrade\n* Dynix PTX port fixes\n* Document conversion from CVS to BK\n* readline support for ntpq\n\n---\n(4.1.0)\n\n* CERT problem fixed (99k23)\n\n* Huff-n-Puff filter\n* Preparation for OpenSSL support\n* Resolver changes/improvements are not backward compatible with mode 7\n  requests (which are implementation-specific anyway)\n* leap second stuff\n* manycast should work now\n* ntp-genkeys does new good things.\n* scripts/ntp-close\n* PPS cleanup and improvements\n* readline support for ntpdc\n* Crypto/authentication rewrite\n* WINNT builds with MD5 by default\n* WINNT no longer requires Perl for building with Visual C++ 6.0\n* algorithmic improvements, bugfixes\n* Solaris dosynctodr info update\n* html/pic/* is *lots* smaller\n* New/updated drivers: Forum Graphic GPS, WWV/H, Heath GC-100 II, HOPF\n  serial and PCI, ONCORE, ulink331\n* Rewrite of the audio drivers\n\n---\n(4.0.99)\n\n* Driver updates: CHU, DCF, GPS/VME, Oncore, PCF, Ulink, WWVB, burst\n  If you use the ONCORE driver with a HARDPPS kernel module,\n  you *must* have a properly specified:\n\tpps <filename> [assert/clear] [hardpps]\n  line in the /etc/ntp.conf file.\n* PARSE cleanup\n* PPS cleanup\n* ntpd, ntpq, ntpdate cleanup and fixes\n* NT port improvements\n* AIX, BSDI, DEC OSF, FreeBSD, NetBSD, Reliant, SCO, Solaris port improvements\n\n---\n(4.0.98)\n\n* Solaris kernel FLL bug is fixed in 106541-07\n* Bug/lint cleanup\n* PPS cleanup\n* ReliantUNIX patches\n* NetInfo support\n* Ultralink driver\n* Trimble OEM Ace-II support\n* DCF77 power choices\n* Oncore improvements\n\n---\n(4.0.97)\n\n* NT patches\n* AIX,SunOS,IRIX portability\n* NeXT portability\n* ntptimeset utility added\n* cygwin portability patches\n\n---\n(4.0.96)\n\n* -lnsl, -lsocket, -lgen configuration patches\n* Y2K patches from AT&T\n* Linux portability cruft\n\n---\n(4.0.95)\n\n* NT port cleanup/replacement\n* a few portability fixes\n* VARITEXT Parse clock added\n\n---\n(4.0.94)\n\n* PPS updates (including ntp.config options)\n* Lose the old DES stuff in favor of the (optional) RSAREF stuff\n* html cleanup/updates\n* numerous drivers cleaned up\n* numerous portability patches and code cleanup\n\n---\n(4.0.93)\n\n* Oncore refclock needs PPS or one of two ioctls.\n* Don't make ntptime under Linux.  It doesn't compile for too many folks.\n* Autokey cleanup\n* ReliantUnix patches\n* html cleanup\n* tickadj cleanup\n* PARSE cleanup\n* IRIX -n32 cleanup\n* byte order cleanup\n* ntptrace improvements and patches\n* ntpdc improvements and patches\n* PPS cleanup\n* mx4200 cleanup\n* New clock state machine\n* SCO cleanup\n* Skip alias interfaces\n\n---\n(4.0.92)\n\n* chronolog and dumbclock refclocks\n* SCO updates\n* Cleanup/bugfixes\n* Y2K patches\n* Updated palisade driver\n* Plug memory leak\n* wharton kernel clock\n* Oncore clock upgrades\n* NMEA clock improvements\n* PPS improvements\n* AIX portability patches\n\n---\n(4.0.91)\n\n* New ONCORE driver\n* New MX4200 driver\n* Palisade improvements\n* config file bugfixes and problem reporting\n* autoconf upgrade and cleanup\n* HP-UX, IRIX lint cleanup\n* AIX portability patches\n* NT cleanup\n\n---\n(4.0.90)\n\n* Nanoseconds\n* New palisade driver\n* New Oncore driver\n\n---\n(4.0.73)\n\n* README.hackers added\n* PARSE driver is working again\n* Solaris 2.6 has nasty kernel bugs.  DO NOT enable pll!\n* DES is out of the distribution.\n\n---\n(4.0.72)\n\n* K&R C compiling should work again.\n* IRIG patches.\n* MX4200 driver patches.\n* Jupiter driver added.\n* Palisade driver added.  Needs work (ANSI, ntoh/hton, sizeof double, ???)\n", "/*\n * ntp.h - NTP definitions for the masses\n */\n#ifndef NTP_H\n#define NTP_H\n\n#include <stddef.h>\n#include <math.h>\n\n#include <ntp_fp.h>\n#include <ntp_types.h>\n#include <ntp_lists.h>\n#include <ntp_stdlib.h>\n#include <ntp_crypto.h>\n#include <ntp_random.h>\n#include <ntp_net.h>\n\n#include <isc/boolean.h>\n\n/*\n * Calendar arithmetic - contributed by G. Healton\n */\n#define YEAR_BREAK 500\t\t/* years < this are tm_year values:\n\t\t\t\t * Break < AnyFourDigitYear && Break >\n\t\t\t\t * Anytm_yearYear */\n\n#define YEAR_PIVOT 98\t\t/* 97/98: years < this are year 2000+\n\t\t\t\t * FYI: official UNIX pivot year is\n\t\t\t\t * 68/69 */\n\n/*\n * Number of Days since 1 BC Gregorian to 1 January of given year\n */\n#define julian0(year)\t(((year) * 365 ) + ((year) > 0 ? (((year) + 3) \\\n\t\t\t    / 4 - ((year - 1) / 100) + ((year - 1) / \\\n\t\t\t    400)) : 0))\n\n/*\n * Number of days since start of NTP time to 1 January of given year\n */\n#define ntp0(year)\t(julian0(year) - julian0(1900))\n\n/*\n * Number of days since start of UNIX time to 1 January of given year\n */\n#define unix0(year)\t(julian0(year) - julian0(1970))\n\n/*\n * LEAP YEAR test for full 4-digit years (e.g, 1999, 2010)\n */\n#define isleap_4(y)\t((y) % 4 == 0 && !((y) % 100 == 0 && !(y % \\\n\t\t\t    400 == 0)))\n\n/*\n * LEAP YEAR test for tm_year (struct tm) years (e.g, 99, 110)\n */\n#define isleap_tm(y)\t((y) % 4 == 0 && !((y) % 100 == 0 && !(((y) \\\n\t\t\t    + 1900) % 400 == 0)))\n\n/*\n * to convert simple two-digit years to tm_year style years:\n *\n *\tif (year < YEAR_PIVOT)\n *\t\tyear += 100;\n *\n * to convert either two-digit OR tm_year years to four-digit years:\n *\n *\tif (year < YEAR_PIVOT)\n *\t\tyear += 100;\n *\n *\tif (year < YEAR_BREAK)\n *\t\tyear += 1900;\n */\n\n/*\n * How to get signed characters.  On machines where signed char works,\n * use it. On machines where signed char doesn't work, char had better\n * be signed.\n */\n#ifdef NEED_S_CHAR_TYPEDEF\n# if SIZEOF_SIGNED_CHAR\ntypedef signed char s_char;\n# else\ntypedef char s_char;\n# endif\n  /* XXX: Why is this sequent bit INSIDE this test? */\n# ifdef sequent\n#  undef SO_RCVBUF\n#  undef SO_SNDBUF\n# endif\n#endif\n\n/*\n * NTP protocol parameters.  See section 3.2.6 of the specification.\n */\n#define\tNTP_VERSION\t((u_char)4) /* current version number */\n#define\tNTP_OLDVERSION\t((u_char)1) /* oldest credible version */\n#define\tNTP_PORT\t123\t/* included for non-unix machines */\n\n/*\n * Poll interval parameters\n */\n#define NTP_UNREACH\t10\t/* poll unreach threshold */\n#define\tNTP_MINPOLL\t3\t/* log2 min poll interval (8 s) */\n#define NTP_MINDPOLL\t6\t/* log2 default min poll (64 s) */\n#define NTP_MAXDPOLL\t10\t/* log2 default max poll (~17 m) */\n#define\tNTP_MAXPOLL\t17\t/* log2 max poll interval (~36 h) */\n#define\tNTP_RETRY\t3\t/* max packet retries */\n#define\tNTP_MINPKT\t2\t/* guard time (s) */\n\n/*\n * Clock filter algorithm tuning parameters\n */\n#define MAXDISPERSE\t16.\t/* max dispersion */\n#define\tNTP_SHIFT\t8\t/* clock filter stages */\n#define NTP_FWEIGHT\t.5\t/* clock filter weight */\n\n/*\n * Selection algorithm tuning parameters\n */\n#define\tNTP_MINCLOCK\t3\t/* min survivors */\n#define\tNTP_MAXCLOCK\t10\t/* max candidates */\n#define MINDISPERSE\t.001\t/* min distance */\n#define MAXDISTANCE\t1.5\t/* max root distance (select threshold) */\n#define CLOCK_SGATE\t3.\t/* popcorn spike gate */\n#define HUFFPUFF\t900\t/* huff-n'-puff sample interval (s) */\n#define MAXHOP\t\t2\t/* anti-clockhop threshold */\n#define MAX_TTL\t\t8\t/* max ttl mapping vector size */\n#define\tBEACON\t\t7200\t/* manycast beacon interval */\n#define NTP_MAXEXTEN\t2048\t/* max extension field size */\n#define\tNTP_ORPHWAIT\t300\t/* orphan wair (s) */\n\n/*\n * Miscellaneous stuff\n */\n#define NTP_MAXKEY\t65535\t/* max authentication key number */\n#define\tKEY_TYPE_MD5\tNID_md5\t/* MD5 digest NID */\n/*\n * Limits of things\n */\n#define\tMAXFILENAME\t256\t/* max length of file name */\n#define MAXHOSTNAME\t512\t/* max length of host/node name */\n#define NTP_MAXSTRLEN\t256\t/* max string length */\n\n/*\n * Operations for jitter calculations (these use doubles).\n *\n * Note that we carefully separate the jitter component from the\n * dispersion component (frequency error plus precision). The frequency\n * error component is computed as CLOCK_PHI times the difference between\n * the epoch of the time measurement and the reference time. The\n * precision component is computed as the square root of the mean of the\n * squares of a zero-mean, uniform distribution of unit maximum\n * amplitude. Whether this makes statistical sense may be arguable.\n */\n#define SQUARE(x) ((x) * (x))\n#define SQRT(x) (sqrt(x))\n#define DIFF(x, y) (SQUARE((x) - (y)))\n#define LOGTOD(a)\t((a) < 0 ? 1. / (1L << -(a)) : \\\n\t\t\t    1L << (int)(a)) /* log2 to double */\n#define UNIVAR(x)\t(SQUARE(.28867513 * LOGTOD(x))) /* std uniform distr */\n#define ULOGTOD(a)\t(1L << (int)(a)) /* ulog2 to double */\n\n#define\tEVENT_TIMEOUT\t0\t/* one second, that is */\n\n\n/*\n * The interface structure is used to hold the addresses and socket\n * numbers of each of the local network addresses we are using.\n * Because \"interface\" is a reserved word in C++ and has so many\n * varied meanings, a change to \"endpt\" (via typedef) is under way.\n * Eventually the struct tag will change from interface to endpt_tag.\n * endpt is unrelated to the select algorithm's struct endpoint.\n */\ntypedef struct interface endpt;\nstruct interface {\n\tendpt *\t\telink;\t\t/* endpt list link */\n\tendpt *\t\tmclink;\t\t/* per-AF_* multicast list */\n\tSOCKET\t\tfd;\t\t/* socket descriptor */\n\tSOCKET\t\tbfd;\t\t/* for receiving broadcasts */\n\tu_int32\t\tifnum;\t\t/* endpt instance count */\n\tsockaddr_u\tsin;\t\t/* unicast address */\n\tsockaddr_u\tmask;\t\t/* subnet mask */\n\tsockaddr_u\tbcast;\t\t/* broadcast address */\n\tchar\t\tname[32];\t/* name of interface */\n\tu_short\t\tfamily;\t\t/* AF_INET/AF_INET6 */\n\tu_short\t\tphase;\t\t/* phase in update cycle */\n\tu_int32\t\tflags;\t\t/* interface flags */\n\tint\t\tlast_ttl;\t/* last TTL specified */\n\tu_int32\t\taddr_refid;\t/* IPv4 addr or IPv6 hash */\n\tint\t\tnum_mcast;\t/* mcast addrs enabled */\n\tu_long\t\tstarttime;\t/* current_time at creation */\n\tvolatile long\treceived;\t/* number of incoming packets */\n\tlong\t\tsent;\t\t/* number of outgoing packets */\n\tlong\t\tnotsent;\t/* number of send failures */\n\tu_int\t\tifindex;\t/* for IPV6_MULTICAST_IF */\n\tisc_boolean_t\tignore_packets; /* listen-read-drop this? */\n\tstruct peer *\tpeers;\t\t/* list of peers using endpt */\n\tu_int\t\tpeercnt;\t/* count of same */\n};\n\n/*\n * Flags for interfaces\n */\n#define INT_UP\t\t0x001\t/* Interface is up */\n#define\tINT_PPP\t\t0x002\t/* Point-to-point interface */\n#define\tINT_LOOPBACK\t0x004\t/* the loopback interface */\n#define\tINT_BROADCAST\t0x008\t/* can broadcast out this interface */\n#define INT_MULTICAST\t0x010\t/* can multicast out this interface */\n#define\tINT_BCASTOPEN\t0x020\t/* broadcast receive socket is open */\n#define INT_MCASTOPEN\t0x040\t/* multicasting enabled */\n#define INT_WILDCARD\t0x080\t/* wildcard interface - usually skipped */\n#define INT_MCASTIF\t0x100\t/* bound directly to MCAST address */\n#define INT_PRIVACY\t0x200\t/* RFC 4941 IPv6 privacy address */\n#define INT_BCASTXMIT\t0x400   /* socket setup to allow broadcasts */\n\n/*\n * Define flasher bits (tests 1 through 11 in packet procedure)\n * These reveal the state at the last grumble from the peer and are\n * most handy for diagnosing problems, even if not strictly a state\n * variable in the spec. These are recorded in the peer structure.\n *\n * Packet errors\n */\n#define TEST1\t\t0X0001\t/* duplicate packet */\n#define TEST2\t\t0x0002\t/* bogus packet */\n#define TEST3\t\t0x0004\t/* protocol unsynchronized */\n#define TEST4\t\t0x0008\t/* access denied */\n#define TEST5\t\t0x0010\t/* bad authentication */\n#define TEST6\t\t0x0020\t/* bad synch or stratum */\n#define TEST7\t\t0x0040\t/* bad header */\n#define TEST8\t\t0x0080  /* bad autokey */\n#define TEST9\t\t0x0100\t/* bad crypto */\n#define\tPKT_TEST_MASK\t(TEST1 | TEST2 | TEST3 | TEST4 | TEST5 |\\\n\t\t\tTEST6 | TEST7 | TEST8 | TEST9)\n/*\n * Peer errors\n */\n#define TEST10\t\t0x0200\t/* peer bad synch or stratum */\n#define\tTEST11\t\t0x0400\t/* peer distance exceeded */\n#define TEST12\t\t0x0800\t/* peer synchronization loop */\n#define TEST13\t\t0x1000\t/* peer unreacable */\n#define\tPEER_TEST_MASK\t(TEST10 | TEST11 | TEST12 | TEST13)\n\n/*\n * The peer structure. Holds state information relating to the guys\n * we are peering with. Most of this stuff is from section 3.2 of the\n * spec.\n */\nstruct peer {\n\tstruct peer *p_link;\t/* link pointer in free & peer lists */\n\tstruct peer *adr_link;\t/* link pointer in address hash */\n\tstruct peer *aid_link;\t/* link pointer in associd hash */\n\tstruct peer *ilink;\t/* list of peers for interface */\n\tsockaddr_u srcadr;\t/* address of remote host */\n\tchar *\thostname;\t/* if non-NULL, remote name */\n\tstruct addrinfo *addrs;\t/* hostname query result */\n\tstruct addrinfo *ai;\t/* position within addrs */\n\tendpt *\tdstadr;\t\t/* local address */\n\tassocid_t associd;\t/* association ID */\n\tu_char\tversion;\t/* version number */\n\tu_char\thmode;\t\t/* local association mode */\n\tu_char\thpoll;\t\t/* local poll interval */\n\tu_char\tminpoll;\t/* min poll interval */\n\tu_char\tmaxpoll;\t/* max poll interval */\n\tu_int\tflags;\t\t/* association flags */\n\tu_char\tcast_flags;\t/* additional flags */\n\tu_char\tlast_event;\t/* last peer error code */\n\tu_char\tnum_events;\t/* number of error events */\n\tu_int32\tttl;\t\t/* ttl/refclock mode */\n\tchar\t*ident;\t\t/* group identifier name */\n\n\t/*\n\t * Variables used by reference clock support\n\t */\n#ifdef REFCLOCK\n\tstruct refclockproc *procptr; /* refclock structure pointer */\n\tu_char\trefclktype;\t/* reference clock type */\n\tu_char\trefclkunit;\t/* reference clock unit number */\n\tu_char\tsstclktype;\t/* clock type for system status word */\n#endif /* REFCLOCK */\n\n\t/*\n\t * Variables set by received packet\n\t */\n\tu_char\tleap;\t\t/* local leap indicator */\n\tu_char\tpmode;\t\t/* remote association mode */\n\tu_char\tstratum;\t/* remote stratum */\n\tu_char\tppoll;\t\t/* remote poll interval */\n\ts_char\tprecision;\t/* remote clock precision */\n\tdouble\trootdelay;\t/* roundtrip delay to primary source */\n\tdouble\trootdisp;\t/* dispersion to primary source */\n\tu_int32\trefid;\t\t/* remote reference ID */\n\tl_fp\treftime;\t/* update epoch */\n\n\t/*\n\t * Variables used by authenticated client\n\t */\n\tkeyid_t keyid;\t\t/* current key ID */\n#ifdef AUTOKEY\n#define clear_to_zero opcode\n\tu_int32\topcode;\t\t/* last request opcode */\n\tassocid_t assoc;\t/* peer association ID */\n\tu_int32\tcrypto;\t\t/* peer status word */\n\tEVP_PKEY *pkey;\t\t/* public key */\n\tconst EVP_MD *digest;\t/* message digest algorithm */\n\tchar\t*subject;\t/* certificate subject name */\n\tchar\t*issuer;\t/* certificate issuer name */\n\tstruct cert_info *xinfo; /* issuer certificate */\n\tkeyid_t\tpkeyid;\t\t/* previous key ID */\n\tkeyid_t\thcookie;\t/* host cookie */\n\tkeyid_t\tpcookie;\t/* peer cookie */\n\tconst struct pkey_info *ident_pkey; /* identity key */\n\tBIGNUM\t*iffval;\t/* identity challenge (IFF, GQ, MV) */\n\tconst BIGNUM *grpkey;\t/* identity challenge key (GQ) */\n\tstruct value cookval;\t/* receive cookie values */\n\tstruct value recval;\t/* receive autokey values */\n\tstruct exten *cmmd;\t/* extension pointer */\n\tu_long\trefresh;\t/* next refresh epoch */\n\n\t/*\n\t * Variables used by authenticated server\n\t */\n\tkeyid_t\t*keylist;\t/* session key ID list */\n\tint\tkeynumber;\t/* current key number */\n\tstruct value encrypt;\t/* send encrypt values */\n\tstruct value sndval;\t/* send autokey values */\n#else\t/* !AUTOKEY follows */\n#define clear_to_zero status\n#endif\t/* !AUTOKEY */\n\n\t/*\n\t * Ephemeral state variables\n\t */\n\tu_char\tstatus;\t\t/* peer status */\n\tu_char\tnew_status;\t/* under-construction status */\n\tu_char\treach;\t\t/* reachability register */\n\tint\tflash;\t\t/* protocol error test tally bits */\n\tu_long\tepoch;\t\t/* reference epoch */\n\tint\tburst;\t\t/* packets remaining in burst */\n\tint\tretry;\t\t/* retry counter */\n\tint\tflip;\t\t/* interleave mode control */\n\tint\tfilter_nextpt;\t/* index into filter shift register */\n\tdouble\tfilter_delay[NTP_SHIFT]; /* delay shift register */\n\tdouble\tfilter_offset[NTP_SHIFT]; /* offset shift register */\n\tdouble\tfilter_disp[NTP_SHIFT]; /* dispersion shift register */\n\tu_long\tfilter_epoch[NTP_SHIFT]; /* epoch shift register */\n\tu_char\tfilter_order[NTP_SHIFT]; /* filter sort index */\n\tl_fp\trec;\t\t/* receive time stamp */\n\tl_fp\txmt;\t\t/* transmit time stamp */\n\tl_fp\tdst;\t\t/* destination timestamp */\n\tl_fp\taorg;\t\t/* origin timestamp */\n\tl_fp\tborg;\t\t/* alternate origin timestamp */\n\tdouble\toffset;\t\t/* peer clock offset */\n\tdouble\tdelay;\t\t/* peer roundtrip delay */\n\tdouble\tjitter;\t\t/* peer jitter (squares) */\n\tdouble\tdisp;\t\t/* peer dispersion */\n\tdouble\txleave;\t\t/* interleave delay */\n\tdouble\tbias;\t\t/* programmed offset bias */\n\n\t/*\n\t * Variables used to correct for packet length and asymmetry.\n\t */\n\tdouble\tt21;\t\t/* outbound packet delay */\n\tint\tt21_bytes;\t/* outbound packet length */\n\tint\tt21_last;\t/* last outbound packet length */\n\tdouble\tr21;\t\t/* outbound data rate */\n\tdouble\tt34;\t\t/* inbound packet delay */\n\tint\tt34_bytes;\t/* inbound packet length */\n\tdouble\tr34;\t\t/* inbound data rate */\n\n\t/*\n\t * End of clear-to-zero area\n\t */\n\tu_long\tupdate;\t\t/* receive epoch */\n#define end_clear_to_zero update\n\tint\tunreach;\t/* watchdog counter */\n\tint\tthrottle;\t/* rate control */\n\tu_long\toutdate;\t/* send time last packet */\n\tu_long\tnextdate;\t/* send time next packet */\n\n\t/*\n\t * Statistic counters\n\t */\n\tu_long\ttimereset;\t/* time stat counters were reset */\n\tu_long\ttimereceived;\t/* last packet received time */\n\tu_long\ttimereachable;\t/* last reachable/unreachable time */\n\n\tu_long\tsent;\t\t/* packets sent */\n\tu_long\treceived;\t/* packets received */\n\tu_long\tprocessed;\t/* packets processed */\n\tu_long\tbadauth;\t/* bad authentication (TEST5) */\n\tu_long\tbogusorg;\t/* bogus origin (TEST2, TEST3) */\n\tu_long\toldpkt;\t\t/* old duplicate (TEST1) */\n\tu_long\tseldisptoolarge; /* bad header (TEST6, TEST7) */\n\tu_long\tselbroken;\t/* KoD received */\n};\n\n/*\n * Values for peer.leap, sys_leap\n */\n#define\tLEAP_NOWARNING\t0x0\t/* normal, no leap second warning */\n#define\tLEAP_ADDSECOND\t0x1\t/* last minute of day has 61 seconds */\n#define\tLEAP_DELSECOND\t0x2\t/* last minute of day has 59 seconds */\n#define\tLEAP_NOTINSYNC\t0x3\t/* overload, clock is free running */\n\n/*\n * Values for peer mode and packet mode. Only the modes through\n * MODE_BROADCAST and MODE_BCLIENT appear in the transition\n * function. MODE_CONTROL and MODE_PRIVATE can appear in packets,\n * but those never survive to the transition function.\n * is a\n/ */\n#define\tMODE_UNSPEC\t0\t/* unspecified (old version) */\n#define\tMODE_ACTIVE\t1\t/* symmetric active mode */\n#define\tMODE_PASSIVE\t2\t/* symmetric passive mode */\n#define\tMODE_CLIENT\t3\t/* client mode */\n#define\tMODE_SERVER\t4\t/* server mode */\n#define\tMODE_BROADCAST\t5\t/* broadcast mode */\n/*\n * These can appear in packets\n */\n#define\tMODE_CONTROL\t6\t/* control mode */\n#define\tMODE_PRIVATE\t7\t/* private mode */\n/*\n * This is a madeup mode for broadcast client.\n */\n#define\tMODE_BCLIENT\t6\t/* broadcast client mode */\n\n/*\n * Values for peer.stratum, sys_stratum\n */\n#define\tSTRATUM_REFCLOCK ((u_char)0) /* default stratum */\n/* A stratum of 0 in the packet is mapped to 16 internally */\n#define\tSTRATUM_PKT_UNSPEC ((u_char)0) /* unspecified in packet */\n#define\tSTRATUM_UNSPEC\t((u_char)16) /* unspecified */\n\n/*\n * Values for peer.flags\n */\n#define\tFLAG_CONFIG\t0x0001\t/* association was configured */\n#define\tFLAG_PREEMPT\t0x0002\t/* preemptable association */\n#define\tFLAG_AUTHENTIC\t0x0004\t/* last message was authentic */\n#define\tFLAG_REFCLOCK\t0x0008\t/* this is actually a reference clock */\n#define\tFLAG_BC_VOL\t0x0010\t/* broadcast client volleying */\n#define\tFLAG_PREFER\t0x0020\t/* prefer peer */\n#define\tFLAG_BURST\t0x0040\t/* burst mode */\n#define\tFLAG_PPS\t0x0080\t/* steered by PPS */\n#define\tFLAG_IBURST\t0x0100\t/* initial burst mode */\n#define\tFLAG_NOSELECT\t0x0200\t/* never select */\n#define\tFLAG_TRUE\t0x0400\t/* force truechimer */\n#define\tFLAG_SKEY\t0x0800  /* autokey authentication */\n#define\tFLAG_XLEAVE\t0x1000\t/* interleaved protocol */\n#define\tFLAG_XB\t\t0x2000\t/* interleaved broadcast */\n#define\tFLAG_XBOGUS\t0x4000\t/* interleaved bogus packet */\n#ifdef\tOPENSSL\n#define FLAG_ASSOC\t0x8000\t/* autokey request */\n#endif /* OPENSSL */\n\n/*\n * Definitions for the clear() routine.  We use memset() to clear\n * the parts of the peer structure which go to zero.  These are\n * used to calculate the start address and length of the area.\n */\n#define\tCLEAR_TO_ZERO(p)\t((char *)&((p)->clear_to_zero))\n#define\tEND_CLEAR_TO_ZERO(p)\t((char *)&((p)->end_clear_to_zero))\n#define\tLEN_CLEAR_TO_ZERO\t(END_CLEAR_TO_ZERO((struct peer *)0) \\\n\t\t\t\t    - CLEAR_TO_ZERO((struct peer *)0))\n#define CRYPTO_TO_ZERO(p)\t((char *)&((p)->clear_to_zero))\n#define END_CRYPTO_TO_ZERO(p)\t((char *)&((p)->end_clear_to_zero))\n#define LEN_CRYPTO_TO_ZERO\t(END_CRYPTO_TO_ZERO((struct peer *)0) \\\n\t\t\t\t    - CRYPTO_TO_ZERO((struct peer *)0))\n\n/*\n * Reference clock types.  Added as necessary.\n */\n#define\tREFCLK_NONE\t\t0\t/* unknown or missing */\n#define\tREFCLK_LOCALCLOCK\t1\t/* external (e.g., lockclock) */\n#define\tREFCLK_GPS_TRAK\t\t2\t/* TRAK 8810 GPS Receiver */\n#define\tREFCLK_WWV_PST\t\t3\t/* PST/Traconex 1020 WWV/H */\n#define\tREFCLK_SPECTRACOM\t4\t/* Spectracom (generic) Receivers */\n#define\tREFCLK_TRUETIME\t\t5\t/* TrueTime (generic) Receivers */\n#define REFCLK_IRIG_AUDIO\t6\t/* IRIG-B/W audio decoder */\n#define\tREFCLK_CHU_AUDIO\t7\t/* CHU audio demodulator/decoder */\n#define REFCLK_PARSE\t\t8\t/* generic driver (usually DCF77,GPS,MSF) */\n#define\tREFCLK_GPS_MX4200\t9\t/* Magnavox MX4200 GPS */\n#define REFCLK_GPS_AS2201\t10\t/* Austron 2201A GPS */\n#define\tREFCLK_GPS_ARBITER\t11\t/* Arbiter 1088A/B/ GPS */\n#define REFCLK_IRIG_TPRO\t12\t/* KSI/Odetics TPRO-S IRIG */\n#define REFCLK_ATOM_LEITCH\t13\t/* Leitch CSD 5300 Master Clock */\n#define REFCLK_MSF_EES\t\t14\t/* EES M201 MSF Receiver */\n#define\tREFCLK_GPSTM_TRUE\t15\t/* OLD TrueTime GPS/TM-TMD Receiver */\n#define REFCLK_IRIG_BANCOMM\t16\t/* Bancomm GPS/IRIG Interface */\n#define REFCLK_GPS_DATUM\t17\t/* Datum Programmable Time System */\n#define REFCLK_ACTS\t\t18\t/* Generic Auto Computer Time Service */\n#define REFCLK_WWV_HEATH\t19\t/* Heath GC1000 WWV/WWVH Receiver */\n#define REFCLK_GPS_NMEA\t\t20\t/* NMEA based GPS clock */\n#define REFCLK_GPS_VME\t\t21\t/* TrueTime GPS-VME Interface */\n#define REFCLK_ATOM_PPS\t\t22\t/* 1-PPS Clock Discipline */\n#define REFCLK_PTB_ACTS\t\t23\t/* replaced by REFCLK_ACTS */\n#define REFCLK_USNO\t\t24\t/* replaced by REFCLK_ACTS */\n#define REFCLK_GPS_HP\t\t26\t/* HP 58503A Time/Frequency Receiver */\n#define REFCLK_ARCRON_MSF\t27\t/* ARCRON MSF radio clock. */\n#define REFCLK_SHM\t\t28\t/* clock attached thru shared memory */\n#define REFCLK_PALISADE\t\t29\t/* Trimble Navigation Palisade GPS */\n#define REFCLK_ONCORE\t\t30\t/* Motorola UT Oncore GPS */\n#define REFCLK_GPS_JUPITER\t31\t/* Rockwell Jupiter GPS receiver */\n#define REFCLK_CHRONOLOG\t32\t/* Chrono-log K WWVB receiver */\n#define REFCLK_DUMBCLOCK\t33\t/* Dumb localtime clock */\n#define REFCLK_ULINK\t\t34\t/* Ultralink M320 WWVB receiver */\n#define REFCLK_PCF\t\t35\t/* Conrad parallel port radio clock */\n#define REFCLK_WWV_AUDIO\t36\t/* WWV/H audio demodulator/decoder */\n#define REFCLK_FG\t\t37\t/* Forum Graphic GPS */\n#define REFCLK_HOPF_SERIAL\t38\t/* hopf DCF77/GPS serial receiver  */\n#define REFCLK_HOPF_PCI\t\t39\t/* hopf DCF77/GPS PCI receiver  */\n#define REFCLK_JJY\t\t40\t/* JJY receiver  */\n#define\tREFCLK_TT560\t\t41\t/* TrueTime 560 IRIG-B decoder */\n#define REFCLK_ZYFER\t\t42\t/* Zyfer GPStarplus receiver  */\n#define REFCLK_RIPENCC\t\t43\t/* RIPE NCC Trimble driver */\n#define REFCLK_NEOCLOCK4X\t44\t/* NeoClock4X DCF77 or TDF receiver */\n#define REFCLK_TSYNCPCI\t45\t/* Spectracom TSYNC PCI timing board */\n#define REFCLK_MAX\t\t45\t/* Spectracom TSYNC PCI timing board */\n\n\n/*\n * NTP packet format.  The mac field is optional.  It isn't really\n * an l_fp either, but for now declaring it that way is convenient.\n * See Appendix A in the specification.\n *\n * Note that all u_fp and l_fp values arrive in network byte order\n * and must be converted (except the mac, which isn't, really).\n */\nstruct pkt {\n\tu_char\tli_vn_mode;\t/* peer leap indicator */\n\tu_char\tstratum;\t/* peer stratum */\n\tu_char\tppoll;\t\t/* peer poll interval */\n\ts_char\tprecision;\t/* peer clock precision */\n\tu_fp\trootdelay;\t/* roundtrip delay to primary source */\n\tu_fp\trootdisp;\t/* dispersion to primary source*/\n\tu_int32\trefid;\t\t/* reference id */\n\tl_fp\treftime;\t/* last update time */\n\tl_fp\torg;\t\t/* originate time stamp */\n\tl_fp\trec;\t\t/* receive time stamp */\n\tl_fp\txmt;\t\t/* transmit time stamp */\n\n#define\tLEN_PKT_NOMAC\t(12 * sizeof(u_int32)) /* min header length */\n#define MIN_MAC_LEN\t(1 * sizeof(u_int32))\t/* crypto_NAK */\n#define MAX_MD5_LEN\t(5 * sizeof(u_int32))\t/* MD5 */\n#define\tMAX_MAC_LEN\t(6 * sizeof(u_int32))\t/* SHA */\n\n\t/*\n\t * The length of the packet less MAC must be a multiple of 64\n\t * with an RSA modulus and Diffie-Hellman prime of 256 octets\n\t * and maximum host name of 128 octets, the maximum autokey\n\t * command is 152 octets and maximum autokey response is 460\n\t * octets. A packet can contain no more than one command and one\n\t * response, so the maximum total extension field length is 864\n\t * octets. But, to handle humungus certificates, the bank must\n\t * be broke.\n\t */\n#ifdef AUTOKEY\n\tu_int32\texten[NTP_MAXEXTEN / 4]; /* max extension field */\n#else\t/* !AUTOKEY follows */\n\tu_int32\texten[1];\t/* misused */\n#endif\t/* !AUTOKEY */\n\tu_char\tmac[MAX_MAC_LEN]; /* mac */\n};\n\n/*\n * Stuff for extracting things from li_vn_mode\n */\n#define\tPKT_MODE(li_vn_mode)\t((u_char)((li_vn_mode) & 0x7))\n#define\tPKT_VERSION(li_vn_mode)\t((u_char)(((li_vn_mode) >> 3) & 0x7))\n#define\tPKT_LEAP(li_vn_mode)\t((u_char)(((li_vn_mode) >> 6) & 0x3))\n\n/*\n * Stuff for putting things back into li_vn_mode in packets and vn_mode\n * in ntp_monitor.c's mon_entry.\n */\n#define VN_MODE(v, m)\t\t((((v) & 7) << 3) | ((m) & 0x7))\n#define\tPKT_LI_VN_MODE(l, v, m) ((((l) & 3) << 6) | VN_MODE((v), (m)))\n\n\n/*\n * Dealing with stratum.  0 gets mapped to 16 incoming, and back to 0\n * on output.\n */\n#define\tPKT_TO_STRATUM(s)\t((u_char)(((s) == (STRATUM_PKT_UNSPEC)) ?\\\n\t\t\t\t(STRATUM_UNSPEC) : (s)))\n\n#define\tSTRATUM_TO_PKT(s)\t((u_char)(((s) == (STRATUM_UNSPEC)) ?\\\n\t\t\t\t(STRATUM_PKT_UNSPEC) : (s)))\n\n/*\n * Event codes. Used for reporting errors/events to the control module\n */\n#define\tPEER_EVENT\t0x080\t/* this is a peer event */\n#define CRPT_EVENT\t0x100\t/* this is a crypto event */\n\n/*\n * System event codes\n */\n#define\tEVNT_UNSPEC\t0\t/* unspecified */\n#define\tEVNT_NSET\t1\t/* freq not set */\n#define\tEVNT_FSET\t2\t/* freq set */\n#define\tEVNT_SPIK\t3\t/* spike detect */\n#define\tEVNT_FREQ\t4\t/* freq mode */\n#define\tEVNT_SYNC\t5\t/* clock sync */\n#define\tEVNT_SYSRESTART\t6\t/* restart */\n#define\tEVNT_SYSFAULT\t7\t/* panic stop */\n#define\tEVNT_NOPEER\t8\t/* no sys peer */\n#define\tEVNT_ARMED\t9\t/* leap armed */\n#define\tEVNT_DISARMED\t10\t/* leap disarmed */\n#define\tEVNT_LEAP\t11\t/* leap event */\n#define\tEVNT_CLOCKRESET\t12\t/* clock step */\n#define\tEVNT_KERN\t13\t/* kernel event */\n#define\tEVNT_TAI\t14\t/* TAI */\n#define\tEVNT_LEAPVAL\t15\t/* stale leapsecond values */\n\n/*\n * Peer event codes\n */\n#define\tPEVNT_MOBIL\t(1 | PEER_EVENT) /* mobilize */\n#define\tPEVNT_DEMOBIL\t(2 | PEER_EVENT) /* demobilize */\n#define\tPEVNT_UNREACH\t(3 | PEER_EVENT) /* unreachable */\n#define\tPEVNT_REACH\t(4 | PEER_EVENT) /* reachable */\n#define\tPEVNT_RESTART\t(5 | PEER_EVENT) /* restart */\n#define\tPEVNT_REPLY\t(6 | PEER_EVENT) /* no reply */\n#define\tPEVNT_RATE\t(7 | PEER_EVENT) /* rate exceeded */\n#define\tPEVNT_DENY\t(8 | PEER_EVENT) /* access denied */\n#define PEVNT_ARMED\t(9 | PEER_EVENT) /* leap armed */\n#define\tPEVNT_NEWPEER\t(10 | PEER_EVENT) /* sys peer */\n#define\tPEVNT_CLOCK\t(11 | PEER_EVENT) /* clock event */\n#define\tPEVNT_AUTH\t(12 | PEER_EVENT) /* bad auth */\n#define\tPEVNT_POPCORN\t(13 | PEER_EVENT) /* popcorn */\n#define\tPEVNT_XLEAVE\t(14 | PEER_EVENT) /* interleave mode */\n#define\tPEVNT_XERR\t(15 | PEER_EVENT) /* interleave error */\n\n/*\n * Clock event codes\n */\n#define\tCEVNT_NOMINAL\t0\t/* unspecified */\n#define\tCEVNT_TIMEOUT\t1\t/* no reply */\n#define\tCEVNT_BADREPLY\t2\t/* bad format */\n#define\tCEVNT_FAULT\t3\t/* fault */\n#define\tCEVNT_PROP\t4\t/* bad signal */\n#define\tCEVNT_BADDATE\t5\t/* bad date */\n#define\tCEVNT_BADTIME\t6\t/* bad time */\n#define CEVNT_MAX\tCEVNT_BADTIME\n\n/*\n * Very misplaced value.  Default port through which we send traps.\n */\n#define\tTRAPPORT\t18447\n\n\n/*\n * To speed lookups, peers are hashed by the low order bits of the\n * remote IP address. These definitions relate to that.\n */\n#define\tNTP_HASH_SIZE\t\t128\n#define\tNTP_HASH_MASK\t\t(NTP_HASH_SIZE-1)\n#define\tNTP_HASH_ADDR(src)\t(sock_hash(src) & NTP_HASH_MASK)\n\n/*\n * min, min3 and max.  Makes it easier to transliterate the spec without\n * thinking about it.\n */\n#define\tmin(a,b)\t(((a) < (b)) ? (a) : (b))\n#define\tmax(a,b)\t(((a) > (b)) ? (a) : (b))\n#define\tmin3(a,b,c)\tmin(min((a),(b)), (c))\n\n\n/*\n * Configuration items.  These are for the protocol module (proto_config())\n */\n#define\tPROTO_BROADCLIENT\t1\n#define\tPROTO_PRECISION\t\t2\t/* (not used) */\n#define\tPROTO_AUTHENTICATE\t3\n#define\tPROTO_BROADDELAY\t4\n#define\tPROTO_AUTHDELAY\t\t5\t/* (not used) */\n#define PROTO_MULTICAST_ADD\t6\n#define PROTO_MULTICAST_DEL\t7\n#define PROTO_NTP\t\t8\n#define PROTO_KERNEL\t\t9\n#define PROTO_MONITOR\t\t10\n#define PROTO_FILEGEN\t\t11\n#define\tPROTO_PPS\t\t12\n#define PROTO_CAL\t\t13\n#define PROTO_MINCLOCK\t\t14\n#define\tPROTO_MAXCLOCK\t\t15\n#define PROTO_MINSANE\t\t16\n#define PROTO_FLOOR\t\t17\n#define PROTO_CEILING\t\t18\n#define PROTO_COHORT\t\t19\n#define PROTO_CALLDELAY\t\t20\n#define PROTO_MINDISP\t\t21\n#define PROTO_MAXDIST\t\t22\n\t/* available\t\t23 */\n#define\tPROTO_MAXHOP\t\t24\n#define\tPROTO_BEACON\t\t25\n#define\tPROTO_ORPHAN\t\t26\n#define\tPROTO_ORPHWAIT\t\t27\n#define\tPROTO_MODE7\t\t28\n\n/*\n * Configuration items for the loop filter\n */\n#define\tLOOP_DRIFTINIT\t\t1\t/* iniitialize frequency */\n#define\tLOOP_KERN_CLEAR\t\t2\t/* set initial frequency offset */\n#define LOOP_MAX\t\t3\t/* set step offset */\n#define LOOP_PANIC\t\t4\t/* set panic offseet */\n#define LOOP_PHI\t\t5\t/* set dispersion rate */\n#define LOOP_MINSTEP\t\t6\t/* set step timeout */\n#define LOOP_MINPOLL\t\t7\t/* set min poll interval (log2 s) */\n#define LOOP_ALLAN\t\t8\t/* set minimum Allan intercept */\n#define LOOP_HUFFPUFF\t\t9\t/* set huff-n'-puff filter length */\n#define LOOP_FREQ\t\t10\t/* set initial frequency */\n#define LOOP_CODEC\t\t11\t/* set audio codec frequency */\n#define\tLOOP_LEAP\t\t12\t/* insert leap after second 23:59 */\n#define\tLOOP_TICK\t\t13\t/* sim. low precision clock */\n\n/*\n * Configuration items for the stats printer\n */\n#define\tSTATS_FREQ_FILE\t\t1\t/* configure drift file */\n#define STATS_STATSDIR\t\t2\t/* directory prefix for stats files */\n#define\tSTATS_PID_FILE\t\t3\t/* configure ntpd PID file */\n#define\tSTATS_LEAP_FILE\t\t4\t/* configure ntpd leapseconds file */\n\n#define MJD_1900\t\t15020\t/* MJD for 1 Jan 1900 */\n\n/*\n * Default parameters.  We use these in the absence of something better.\n */\n#define INADDR_NTP\t0xe0000101\t/* NTP multicast address 224.0.1.1 */\n\n/*\n * Structure used optionally for monitoring when this is turned on.\n */\ntypedef struct mon_data\tmon_entry;\nstruct mon_data {\n\tmon_entry *\thash_next;\t/* next structure in hash list */\n\tDECL_DLIST_LINK(mon_entry, mru);/* MRU list link pointers */\n\tstruct interface * lcladr;\t/* address on which this arrived */\n\tl_fp\t\tfirst;\t\t/* first time seen */\n\tl_fp\t\tlast;\t\t/* last time seen */\n\tint\t\tleak;\t\t/* leaky bucket accumulator */\n\tint\t\tcount;\t\t/* total packet count */\n\tu_short\t\tflags;\t\t/* restrict flags */\n\tu_char\t\tvn_mode;\t/* packet mode & version */\n\tu_char\t\tcast_flags;\t/* flags MDF_?CAST */\n\tsockaddr_u\trmtadr;\t\t/* address of remote host */\n};\n\n/*\n * Values for cast_flags in mon_entry and struct peer.  mon_entry uses\n * only the first three, MDF_UCAST, MDF_MCAST, and MDF_BCAST.\n */\n#define\tMDF_UCAST\t0x01\t/* unicast client */\n#define\tMDF_MCAST\t0x02\t/* multicast server */\n#define\tMDF_BCAST\t0x04\t/* broadcast server */\n#define\tMDF_POOL\t0x08\t/* pool client solicitor */\n#define MDF_ACAST\t0x10\t/* manycast client solicitor */\n#define\tMDF_BCLNT\t0x20\t/* eph. broadcast/multicast client */\n#define MDF_UCLNT\t0x40\t/* preemptible manycast or pool client */\n/*\n * In the context of struct peer in ntpd, three of the cast_flags bits\n * represent configured associations which never receive packets, and\n * whose reach is always 0: MDF_BCAST, MDF_MCAST, and MDF_ACAST.  The\n * last can be argued as responses are received, but those responses do\n * not affect the MDF_ACAST association's reach register, rather they\n * (may) result in mobilizing ephemeral MDF_ACLNT associations.\n */\n#define MDF_TXONLY_MASK\t(MDF_BCAST | MDF_MCAST | MDF_ACAST | MDF_POOL)\n/*\n * manycastclient-like solicitor association cast_flags bits\n */\n#define MDF_SOLICIT_MASK\t(MDF_ACAST | MDF_POOL)\n/*\n * Values used with mon_enabled to indicate reason for enabling monitoring\n */\n#define MON_OFF\t\t0x00\t\t/* no monitoring */\n#define MON_ON\t\t0x01\t\t/* monitoring explicitly enabled */\n#define MON_RES\t\t0x02\t\t/* implicit monitoring for RES_LIMITED */\n/*\n * Structure used for restrictlist entries\n */\ntypedef struct res_addr4_tag {\n\tu_int32\t\taddr;\t\t/* IPv4 addr (host order) */\n\tu_int32\t\tmask;\t\t/* IPv4 mask (host order) */\n} res_addr4;\n\ntypedef struct res_addr6_tag {\n\tstruct in6_addr addr;\t\t/* IPv6 addr (net order) */\n\tstruct in6_addr mask;\t\t/* IPv6 mask (net order) */\n} res_addr6;\n\ntypedef struct restrict_u_tag\trestrict_u;\nstruct restrict_u_tag {\n\trestrict_u *\t\tlink;\t/* link to next entry */\n\tu_int32\t\t\tcount;\t/* number of packets matched */\n\tu_short\t\t\tflags;\t/* accesslist flags */\n\tu_short\t\t\tmflags;\t/* match flags */\n\tu_long\t\t\texpire;\t/* valid until time */\n\tunion {\t\t\t\t/* variant starting here */\n\t\tres_addr4 v4;\n\t\tres_addr6 v6;\n\t} u;\n};\n#define\tV4_SIZEOF_RESTRICT_U\t(offsetof(restrict_u, u)\t\\\n\t\t\t\t + sizeof(res_addr4))\n#define\tV6_SIZEOF_RESTRICT_U\t(offsetof(restrict_u, u)\t\\\n\t\t\t\t + sizeof(res_addr6))\n\n/*\n * Access flags\n */\n#define\tRES_IGNORE\t\t0x0001\t/* ignore packet */\n#define\tRES_DONTSERVE\t\t0x0002\t/* access denied */\n#define\tRES_DONTTRUST\t\t0x0004\t/* authentication required */\n#define\tRES_VERSION\t\t0x0008\t/* version mismatch */\n#define\tRES_NOPEER\t\t0x0010\t/* new association denied */\n#define RES_LIMITED\t\t0x0020\t/* packet rate exceeded */\n#define RES_FLAGS\t\t(RES_IGNORE | RES_DONTSERVE |\\\n\t\t\t\t    RES_DONTTRUST | RES_VERSION |\\\n\t\t\t\t    RES_NOPEER | RES_LIMITED)\n\n#define\tRES_NOQUERY\t\t0x0040\t/* mode 6/7 packet denied */\n#define\tRES_NOMODIFY\t\t0x0080\t/* mode 6/7 modify denied */\n#define\tRES_NOTRAP\t\t0x0100\t/* mode 6/7 set trap denied */\n#define\tRES_LPTRAP\t\t0x0200\t/* mode 6/7 low priority trap */\n\n#define\tRES_KOD\t\t\t0x0400\t/* send kiss of death packet */\n#define\tRES_MSSNTP\t\t0x0800\t/* enable MS-SNTP authentication */\n#define\tRES_FLAKE\t\t0x1000\t/* flakeway - drop 10% */\n#define\tRES_NOMRULIST\t\t0x2000\t/* mode 6 mrulist denied */\n\n#define\tRES_ALLFLAGS\t\t(RES_FLAGS | RES_NOQUERY |\t\\\n\t\t\t\t RES_NOMODIFY | RES_NOTRAP |\t\\\n\t\t\t\t RES_LPTRAP | RES_KOD |\t\t\\\n\t\t\t\t RES_MSSNTP | RES_FLAKE |\t\\\n\t\t\t\t RES_NOMRULIST)\n\n/*\n * Match flags\n */\n#define\tRESM_INTERFACE\t\t0x1000\t/* this is an interface */\n#define\tRESM_NTPONLY\t\t0x2000\t/* match source port 123 */\n#define RESM_SOURCE\t\t0x4000\t/* from \"restrict source\" */\n\n/*\n * Restriction configuration ops\n */\n#define\tRESTRICT_FLAGS\t\t1\t/* add flags to restrict entry */\n#define\tRESTRICT_UNFLAG\t\t2\t/* remove flags from restrict entry */\n#define\tRESTRICT_REMOVE\t\t3\t/* remove a restrict entry */\n#define\tRESTRICT_REMOVEIF\t4\t/* remove an interface restrict entry */\n\n/*\n * Endpoint structure for the select algorithm\n */\nstruct endpoint {\n\tdouble\tval;\t\t\t/* offset of endpoint */\n\tint\ttype;\t\t\t/* interval entry/exit */\n};\n\n/*\n * Association matching AM[] return codes\n */\n#define AM_ERR\t\t-1\t\t/* error */\n#define AM_NOMATCH\t0\t\t/* no match */\n#define AM_PROCPKT\t1\t\t/* server/symmetric packet */\t\n#define AM_BCST\t\t2\t\t/* broadcast packet */\t\n#define AM_FXMIT\t3\t\t/* client packet */\n#define AM_MANYCAST\t4\t\t/* manycast or pool */\n#define AM_NEWPASS\t5\t\t/* new passive */\n#define AM_NEWBCL\t6\t\t/* new broadcast */\n#define\tAM_POSSBCL\t7\t\t/* discard broadcast */\n\n/* NetInfo configuration locations */\n#ifdef HAVE_NETINFO\n#define NETINFO_CONFIG_DIR \"/config/ntp\"\n#endif\n\n/* ntpq -c mrulist rows per request limit in ntpd */\n#define MRU_ROW_LIMIT\t256\n/* similar datagrams per response limit for ntpd */\n#define MRU_FRAGS_LIMIT\t128\n#endif /* NTP_H */\n"], "fixing_code": ["* [Bug 1485] Sometimes ntpd crashes\n* [Bug 2382] Implement LOGTOD using ldexp() instead of shifting.\n(4.2.7p366) 2013/04/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1866] Disable some debugging output in refclock_oncore.\n(4.2.7p365) 2013/04/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2149] Log an error message if /proc/net/if_inet6 cannot be opened.\n(4.2.7p364) 2013/03/26 Released by Harlan Stenn <stenn@ntp.org>\n* Bump sntp/include/autogen-version.def .\n(4.2.7p363) 2013/03/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2357] sntp/libopts/usage.c sometimes needs -lintl.\n* Upgrade to libopts from 5.17.3pre10.\n(4.2.7p362) 2013/03/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2364] \"sed -i\" is not portable.\n(4.2.7p361) 2013/03/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2357] sntp/libopts/usage.c sometimes needs -lintl.\n* [Bug 2365] \"make check\" fails in libevent.\n(4.2.7p360) 2013/03/15 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade libevent (coverity fixes, etc.).\n* EEXIST is OK for mkdir() in sntp/kod_management.c.\n(4.2.7p359) 2013/03/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2359] Fix send_via_ntp_signd() prototype.\n(4.2.7p358) 2013/02/27 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade to autogen-5.17.3pre4 and libopts-38.0.13.\n* [Bug 2357] sntp/libopts/usage.c on NetBSD needs -lintl.\n(4.2.7p357) 2013/02/22 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade to autogen-5.17.2pre and libopts-38.0.13.\n(4.2.7p356) 2013/02/19 Released by Harlan Stenn <stenn@ntp.org>\n* Added loc/debian.\n(4.2.7p355) 2013/02/18 Released by Harlan Stenn <stenn@ntp.org>\n* CID 739708: Check return status of fcntl() in refclock_arc.c.\n* CID 739709: Check return status of fcntl() in refclock_datum.c.\n* CID 739710: Check return status of mkdir() in sntp/kod_management.c.\n* CID 739711: Ignore return status of remove() in ntp-keygen.c.\n* CID 739723: Print sizeof as unsigned.\n* CID 971094: Clean up time of check/time of use in check_leap_file().\n(4.2.7p354) 2013/02/10 Released by Harlan Stenn <stenn@ntp.org>\n* CID 97194: Check return from setsockopt().\n* CID 739473,739532: Out-of-bounds access/illegal address computation.\n* CID 739558: Double close.\n* CID 739559: Double close.\n* CID 739713: devmask/recmask copy/paste error.\n* CID 739714: Fix code indentation level.\n* CID 739715: Clean up sockaddr_dump().\n(4.2.7p353) 2013/02/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2326] Check hourly for a new leapfile if the old one expired.\n(4.2.7p352) 2013/01/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2326] Notice when a new leapfile has been installed.\n(4.2.7p351) 2013/01/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2328] Don't apply small time adjustments on Windows versions\n  which don't support this.\n(4.2.7p350) 2013/01/21 Released by Harlan Stenn <stenn@ntp.org>\n* Added sntp/loc/netbsd based on info from Christos Zoulas.\n(4.2.7p349) 2013/01/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2321] Fixed Windows build, but autogen update still required.\n(4.2.7p348) 2013/01/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2327] Rename sntp/ag-tpl/:Old to sntp/ag-tpl/Old.\n* Cleanup to ntpsnmpd-opts.def.\n* Cleanup to ntpq.texi.\n* Documentation cleanup to the ntpd, ntpdc, ntpq and ntp-wait\n  .def files.\n* In ntp.conf.def, cleanup SEE ALSO, document 'rlimit' options.\n* Add a reference to RFC5907 in the ntpsnmpd documentation.\n(4.2.7p347) 2013/01/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2325] Re-enable mlockall() check under Linux post-1223 fix.\n(4.2.7p346) 2013/01/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1223] reorganize inclusion of sys/resource.h.\n(4.2.7p345) 2013/01/04 Released by Harlan Stenn <stenn@ntp.org>\n* Update several .def files to use autogen-5.17 feature set.\n(4.2.7p344) 2013/01/03 Released by Harlan Stenn <stenn@ntp.org>\n* Refactor and enhance mdoc2texi.\n* Make sure agtexi-file.tpl defines label-str.\n* Cleanup to ntp.conf.def.\n* Upgrade to autogen-5.17 and libopts-37.0.12.\n(4.2.7p343) 2013/01/02 Released by Harlan Stenn <stenn@ntp.org>\n* Update the copyright year.\n(4.2.7p342) 2012/12/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2081 - Backward Incompatible] rawstats now logs everything.\n(4.2.7p341) 2012/12/30 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.7p340) 2012/12/29 Released by Harlan Stenn <stenn@ntp.org>\n* mdoc2texi fixes: trailing punctuation.\n(4.2.7p339) 2012/12/26 Released by Harlan Stenn <stenn@ntp.org>\n* mdoc2texi fixes: parseQuote, closing of list item tables.\n* ntp-wait, ntpd, ntpdc, ntpq, ntpsnmpd autogen documentation updates.\n(4.2.7p338) 2012/12/25 Released by Harlan Stenn <stenn@ntp.org>\n* mdoc2texi fixes: Handle_ArCmFlIc, Handle_Fn, HandleQ.\n* ntp-keygen autogen documentation updates.\n* ntpq autogen docs.\n(4.2.7p337) 2012/12/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1223] More final cleanup for rlimit changes.\n(4.2.7p336) 2012/12/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1223] Final cleanup for rlimit changes.\n(4.2.7p335) 2012/12/18 Released by Harlan Stenn <stenn@ntp.org>\n* Update documentation templates and definitions.\n* Create agtexi-file.tpl .\n(4.2.7p334) 2012/12/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2114] Update tests for sntp's synch distance.\n* Create ntp-keygen.{html,texi}.\n(4.2.7p333) 2012/12/07 Released by Harlan Stenn <stenn@ntp.org>\n* Autogen documentation cleanup.\n(4.2.7p332) 2012/12/06 Released by Harlan Stenn <stenn@ntp.org>\n* sntp documentation cleanup.\n(4.2.7p331) 2012/12/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2114] Correctly calculate sntp's synch distance.\n(4.2.7p330) 2012/12/03 Released by Harlan Stenn <stenn@ntp.org>\n* autogen doc cleanup\n(4.2.7p329) 2012/12/01 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2278] ACTS flag3 mismatch between code and driver18.html.\n* Use an enum for the ACTS state table.\n* html doc reconciliation with DLM's copy.\n(4.2.7p328) 2012/11/30 Released by Harlan Stenn <stenn@ntp.org>\n* html doc reconciliation with DLM's copy.\n(4.2.7p327) 2012/11/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2024] Identify Events in the system status word in decode.html.'\n* [Bug 2040] Provide a command-line option for the identity key bits.\n* Create loc/darwin for Mac OSX\n(4.2.7p326) 2012/11/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1214] 'proto: precision = ...' should be at INFO, not NOTICE.\n* [Bug 2246] Clear sys_leap when voting says to disarm the leap.\n(4.2.7p325) 2012/11/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2202] ntpq.html: there is no \"acv\" billboard.\n* [Bug 2306] keep pps hack for Win32 even if user-mode/loopback\n  PPS API is activated on a serial line.\n(4.2.7p324) 2012/11/19 Released by Harlan Stenn <stenn@ntp.org>\n* Reinstate doc fix to authentic.html from Mike T.\n* [Bug 1223] cleanup for rlimit changes.\n* [Bug 2098] Install DLM's HTML documentation.\n* [Bug 2306] Added user-mode/loop-back PPS API provider for Win32\n(4.2.7p323) 2012/11/18 Released by Harlan Stenn <stenn@ntp.org>\n* html/ updates from Dave Mills.\n(4.2.7p322) 2012/11/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1223] Allow configurable values for RLIMIT_STACK and\n  RLIMIT_MEMLOCK.\n* [Bug 1320] Log ntpd's initial command-line parameters. (updated fix)\n* [Bug 2120] no sysexits.h under QNX.\n* [Bug 2123] cleanup to html/leap.html.\n(4.2.7p321) 2012/11/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1320] Log ntpd's initial command-line parameters.\n(4.2.7p320) 2012/11/12 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 969] Clarify ntpdate.html documentation about -u and ntpd.\n* [Bug 1217] libisc/ifiter_sysctl.c:internal_current(): Ignore RTM\n  messages with wrong version\n(4.2.7p319) 2012/11/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2296] Fix compile problem with building with old OpenSSL.\n(4.2.7p318) 2012/11/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2301] Remove spurious debug output from ntpq.\n(4.2.7p317) 2012/11/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 922] Allow interspersed -4 and -6 flags on the ntpq command line.\n(4.2.7p316) 2012/10/27 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2296] Update fix for Bug 2294 to handle --without-crypto.\n(4.2.7p315) 2012/10/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2294] ntpd crashes in FIPS mode.\n(4.2.7p314) 2012/10/23 Released by Harlan Stenn <stenn@ntp.org>\n* Document a tricky malloc() of dns_ctx in sntp.\n(4.2.7p313) 2012/10/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2291] sntp should report why it cannot open file.kod.\n* [Bug 2293] add support for SO_BINTIME, refine support for\n  SO_TIMESTAMPNS (bug 1374)\n(4.2.7p312) 2012/10/11 Released by Harlan Stenn <stenn@ntp.org>\n* Clean up testing/debugging of fix for [Bug 938] from sntp/main.c .\n(4.2.7p311) 2012/10/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 938] The argument to the -D flag takes a number, not a string.\n* [Bug 1013] ntpdate's HTML page claims wrong default version.\n* [Bug 1374] Support SO_TIMESTAMPNS.\n(4.2.7p310) 2012/10/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1374] Support SO_TIMESTAMPNS.\n* [Bug 2266] Remove deprecated refclock_trak.c from Windows Makefile\n  equivalents.\n* [Bug 2274] Bring libopts/enum.c back to (old) ANSI C compliance.\n(4.2.7p309) 2012/10/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2287] ntpdate returns 0 even if adjtime() call fails.\n(4.2.7p308) 2012/09/29 Released by Harlan Stenn <stenn@ntp.org>\n* CID 97198: Check return from ioctl() calls in refclock_acts.c.\n(4.2.7p307) 2012/09/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1997] Fix sntp broadcast timeouts.\n* [Bug 2234] Fix incorrect ntptrace html documentation.\n* [Bug 2262] Install html docs in $htmldir.\n* Fix typo in html/select.html.\n(4.2.7p306) 2012/09/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 752] ToS cleanup from Mike Tatarinov.\n(4.2.7p305) 2012/09/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 752] Use proper ToS network packet markings for IPv4 and IPv6.\n* [Bug 1232] Convert SHM refclock to use struct timespec.\n* [Bug 2258] Add syslog message about leap insertion.\n* [Bug 2263] broadcast server doesn't work for host with\n  OS_MISSES_SPECIFIC_ROUTE_UPDATES.\n* [Bug 2271] Decode refclock types when built with --disable-all-clocks.\n* [Bug 2276] clk_sel240x.c #define's _XOPEN_SOURCE, breaking QNX6.\n* Updates to driver28.html.\n(4.2.7p304) 2012/09/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2264] Cleanup SEL240X Refclock.\n* In refclock_wwv.c rename SECOND to WWV_SEC and MINUTE to WWV_MIN.\n(4.2.7p303) 2012/09/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1232] Add nanosecond support to SHM driver.\n(4.2.7p302) 2012/09/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2160] Log warning about expired leapseconds file.\n(4.2.7p301) 2012/09/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2164] Greater precision needed for ntpq offset report.\n* Clean the man5_MANS in ntpd/ .\n(4.2.7p300) 2012/09/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2262] Install sntp.html into htmldir.\n* [Bug 2270] Install fails due to repeated man5 page names.\n(4.2.7p299) 2012/09/01 Released by Harlan Stenn <stenn@ntp.org>\n* More cleanup to the bootstrap script.\n(4.2.7p298) 2012/09/01 Released by Harlan Stenn <stenn@ntp.org>\n* Handle additional man page sections in the bootstrap script.\n* Remove extraneous parens.\n* Add a missing \"%s\" syslog format string.\n(4.2.7p297) 2012/09/01 Released by Harlan Stenn <stenn@ntp.org>\n* Fix mdoc2man.\n* Distribute ntp.conf.def and ntp.keys.def.\n(4.2.7p296) 2012/08/31 Released by Harlan Stenn <stenn@ntp.org>\n* Begin support for autogen maintaining ntp.conf and ntp.keys docs.\n* Upgrade to autogen-5.16.2 and libopts-36.5.11.\n* Potential bugfix for agtexi-cmd.tpl.\n(4.2.7p295) 2012/08/11 Released by Harlan Stenn <stenn@ntp.org>\n* Look for syslog's facilitynames[].\n(4.2.7p294) 2012/08/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2242] configure fails to detect getifaddrs function on Solaris.\n* [Bug 2249] Bad operator for 'test' in 'make check' of libevent.\n* [Bug 2252] palisade: formats nanosecs to a 6-char field.\n* Attempt to resolve strict-aliasing violation in refclock_tsyncpci.c.\n* Fix && -> & typo in refclock_palisade.c debug statements.\n(4.2.7p293) 2012/08/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2247] (more) Get rid of the TRAK refclock - deprecated since 2006.\n* Documentation cleanup from Mike T.\n* Cleanup kclk_sel240x.o rules in libparse/Makefile.am.\n(4.2.7p292) 2012/08/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1545] Note why we are logging the Version string.\n* [Bug 1872] Remove legacy ppsclock fdpps, #ifdef PPS.\n* [Bug 2075] Fix spelling of 'incompatible'.\n* [Bug 2247] Get rid of the TRAK refclock - deprecated since 2006.\n* Clean up an exit status in ntpq.c.\n(4.2.7p291) 2012/07/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2241] MDNS registration should only happen if requested.\n(4.2.7p290) 2012/07/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1454] Add parse clock support for the SEL-240x GPS products.\n* CID 709185: refclock_chu.c will leak fd==0 (better fix)\n(4.2.7p289) 2012/07/16 Released by Harlan Stenn <stenn@ntp.org>\n* CID 97123: Future-proof possible change to refclock_nmea.c.\n* CID 97377: ntp-keygen.c's followlink() might not NUL-terminate.\n* CID 709185: refclock_chu.c will leak fd==0 (which should be impossible).\n(4.2.7p288) 2012/07/03 Released by Harlan Stenn <stenn@ntp.org>\n* CID 709173: Make sure a libisc function we do not use is called properly.\n(4.2.7p287) 2012/07/03 Released by Harlan Stenn <stenn@ntp.org>\n* Remove 1024 associations-per-server limit from ntpq.\n* Remove blank line between ntpq mreadvar associations.\n(4.2.7p286) 2012/06/28 Released by Harlan Stenn <stenn@ntp.org>\n* CID 97193: check return from sscanf() in ntp_config.c.\n* CID 709169: check return from open(\"/dev/null\", 0) and friends.\n* CID 709207: Initialize \"quality\" for ulink_receive.\n(4.2.7p285) 2012/06/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2227] Enable mrulist access control via \"restrict ... nomrulist\".\n* Automake-1.12 wants us to use AM_PROG_AR.\n* Conditionalize msyslog messages about rejected mode 6 requests due to\n  nomodify and nomrulist restrictions under \"logconfig +sysinfo\".\n* Increment sys_restricted in a few rejection paths due to nomodify\n  restrictions where previosuly overlooked.\n(4.2.7p284) 2012/06/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2225] libevent configure hangs.\n* Update bundled libevent to git master, post libevent 2.1.1-alpha.\n(4.2.7p283) 2012/06/16 Released by Harlan Stenn <stenn@ntp.org>\n* In sntp/m4/ntp_openssl.m4, Support multiple package names for the\n  crypto library.  Add legacy support for -Wl,-rpath.\n(4.2.7p282) 2012/06/15 Released by Harlan Stenn <stenn@ntp.org>\n* tickadj may need to be linked with PTHREAD_LIBS.\n(4.2.7p281) 2012/06/14 Released by Harlan Stenn <stenn@ntp.org>\n* U_INT32_MAX cleanup in include/ntp_types.h .\n* When linking, ntp_keygen and tickadj need $(LIBM).\n(4.2.7p280) 2012/06/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2224] Use-after-free in routing socket code after dropping root.\n(4.2.7p279) 2012/06/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2211] findbcastinter(): possibly undefined variable iface used.\n* [Bug 2220] Incorrect check for maximum association id in ntpq.\n(4.2.7p278) 2012/06/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2204] Build with --enable-getifaddrs=glibc fails.\n* [Bug 2178] refclock_tsyncpci.c reach register fails to shift.\n* [Bug 2191] dcfd -Y y2kcheck on CentOS 6.2 x86_64 breaks make check.\n(4.2.7p277) 2012/05/25 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2193] Building timestruct tests with Clang 3.1 fails.\n(4.2.7p276) 2012/05/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2179] Remove sntp/header.h.\n(4.2.7p275) 2012/04/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1744] Remove obsolete ntpdate/ntptime* items.\n(4.2.7p274) 2012/04/25 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2174] ntpd rejects source UDP ports less than 123 as bogus.\n(4.2.7p273) 2012/04/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2141] handle_sigio() calls get_systime(), which must be\n  reentrant when SIGIO is used.  Sanity checks relative to the prior\n  get_systime() are disabled in ntpd on systems with signaled I/O, but\n  active in sntp and ntpdate.\n* Correct authnumfreekeys accounting broken in 4.2.7p262.\n(4.2.7p272) 2012/04/14 Released by Harlan Stenn <stenn@ntp.org>\n* LCRYPTO is gone - replace with VER_SUFFIX.\n* Change the link order for ntpsntpd.\n* Remove extra 'nlist' check from configure.ac.\n(4.2.7p271) 2012/04/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1122] openssl detection via pkg-config fails when no additional\n  -Idir flags are needed.\n* Avoid overwriting user variable LDFLAGS with OpenSSL flags, instead\n  they are added to LDFLAGS_NTP.\n(4.2.7p270) 2012/03/26 Released by Harlan Stenn <stenn@ntp.org>\n* Update driver45.html page.\n(4.2.7p269) 2012/03/25 Released by Harlan Stenn <stenn@ntp.org>\n* Clean up configure.ac.\n* Cleanup configure.ac's TSYNC PCI section.\n(4.2.7p268) 2012/03/24 Released by Harlan Stenn <stenn@ntp.org>\n* Update driver45.html page.\n(4.2.7p267) 2012/03/23 Released by Harlan Stenn <stenn@ntp.org>\n* Initial cut at a basic driver45.html page.\n(4.2.7p266) 2012/03/21 Released by Harlan Stenn <stenn@ntp.org>\n* Add refclock_tsyncpci.c (driver 45) supporting Spectracom TSYNC timing\n  boards.\n(4.2.7p265) 2012/03/20 Released by Harlan Stenn <stenn@ntp.org>\n* Treat zero counter as indication of precise system time in Windows\n  PPSAPI helper function pps_ntp_timestamp_from_counter(), enabling\n  PPSAPI providers to use the Windows 8 precise clock directly.\n(4.2.7p264) 2012/03/14 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2160] Note if leapseconds file is past its prime.\n* Use GetSystemTimePreciseAsFileTime() on Windows 8.\n(4.2.7p263) 2012/03/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2156] clock instability with LOCAL driver, from Miroslav Lichvar.\n* [Bug 2159] Windows ntpd using leapfile erroneous leap second 20120401.\n(4.2.7p262) 2012/02/29 Released by Harlan Stenn <stenn@ntp.org>\n* Improve ntpd scalability for servers with many trusted keys.\n(4.2.7p261) 2012/02/27 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2048] add the clock variable timecode to SHM refclock.\n(4.2.7p260) 2012/02/24 Released by Harlan Stenn <stenn@ntp.org>\n* Fix the check-scm-rev invocation in several Makefile.am's.\n(4.2.7p259) 2012/02/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2148] ntpd 4.2.7p258 segfault with 0x0100000 bit in NMEA mode.\n* refclock_nmea.c merge cleanup thanks to Juergen Perlinger.\n(4.2.7p258) 2012/02/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2140] Rework of Windows I/O completion port handling to avoid\n  garbling serial input in UNIX line discipline emulation.\n* [Bug 2143] NMEA driver: discard data if quality indication not good,\n  add statistic counters (mode bit enabled) to clockstats file.\n(4.2.7p257) 2012/02/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2135] defer calls to 'io_input' to main thread under Windows.\n(4.2.7p256) 2012/02/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2131] Set the system variable settimeofday only after clock step.\n* [Bug 2134] --enable-C99-snprintf does not force rpl_snprintf use.\n(4.2.7p255) 2012/01/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 603] Only link with nlist()-related libraries when needed:\n  More cleanup.\n(4.2.7p254) 2012/01/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 603] Only link with nlist()-related libraries when needed.\n(4.2.7p253) 2012/01/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2126] Compile error on Windows with libopts from Autogen 5.14.\n* Update one of the license URLs.\n(4.2.7p252) 2012/01/25 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade to autogen-5.14 (and libopts-36.1.11).\n(4.2.7p251) 2012/01/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2115] ntptrace should accept both rootdispersion and rootdisp.\n(4.2.7p250) 2012/01/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2113] Warn about ignored extra args in ntpq.\n* Update the copyright year.\n(4.2.7p249) 2012/01/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2111] Remove minpoll delay before iburst for pool and\n  manycastclient.\n* Move refclock-specific scheduled timer code under #ifdef REFCLOCK\n  and move \"action\" and \"nextaction\" data for same from struct peer to\n  struct refclockproc.  These provide a way to schedule a callback some\n  seconds in the future.\n(4.2.7p248) 2012/01/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2109] \"make clean check\" is broken with gtest available.\n* [Bug 2110] systime.c typo breaks build on microsecond clocks.\n(4.2.7p247) 2012/01/07 Released by Harlan Stenn <stenn@ntp.org>\n* Fix build break triggered by updating deps-ver and libntp/systime.c at\n  the same time by explicitly depending systime_s.c on systime.c.\n(4.2.7p246) 2012/01/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2104] ntpdc fault with oversize -c command.\n* [Bug 2106] Fix warnings when using -Wformat-security.\n* Refactor timespecops.h and timevalops.h into inline functions.\n(4.2.7p245) 2011/12/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2100] conversion problem with timespec/timeval <--> l_fp fixed;\n  added tests to expose the bug.\n(4.2.7p244) 2011/12/25 Released by Harlan Stenn <stenn@ntp.org>\n* Updates from 4.2.6p5.\n(4.2.7p243) 2011/12/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2095] ntptrace now needs 'rv' instead of 'pstat', reported\n  by Michael Tatarinov.\n(4.2.7p242) 2011/12/21 Released by Harlan Stenn <stenn@ntp.org>\n* Include missing html/icons/sitemap.png, reported by Michael Tatarinov.\n* Documentation updates from Dave Mills.\n(4.2.7p241) 2011/12/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2015] Overriding sys_tick should recalculate sys_precision.\n* [Bug 2037] Fuzzed non-interpolated clock may decrease.\n* [Bug 2068] \"tos ceiling\" default and cap changed to 15.\n* Floor peer delay using system precision, as with jitter, reflecting\n  inability to measure shorter intervals.\n(4.2.7p240) 2011/12/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2092] clock_select() selection jitter miscalculated.\n* [Bug 2093] Reintroduce smaller stratum factor to system peer metric.\n(4.2.7p239) 2011/12/11 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p238) 2011/12/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2082] from 4.2.6p5-RC3: 3-char refid sent by ntpd 4.2.6p5-RC2\n  ends with extra dot.\n* [Bug 2085] from 4.2.6p5-RC3: clock_update() sys_rootdisp calculation\n  omits root delay.\n* [Bug 2086] from 4.2.6p5-RC3: get_systime() should not offset by\n  sys_residual.\n* [Bug 2087] from 4.2.6p5-RC3: sys_jitter calculation overweights\n  sys.peer jitter.\n* from 4.2.6p5-RC3: Ensure NULL peer->dstadr is not accessed in orphan\n  parent selection.\n(4.2.7p237) 2011/12/01 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2050] from 4.2.6p5-RC2: Orphan mode stratum counting to infinity.\n* [Bug 2059] from 4.2.6p5-RC2: optional billboard column \"server\" does\n  not honor -n.\n* [Bug 2066] from 4.2.6p5-RC2: ntpq lopeers ipv6 \"local\" column overrun.\n* [Bug 2068] from 4.2.6p5-RC2: ntpd sends nonprintable stratum 16 refid\n  to ntpq.\n* [Bug 2069] from 4.2.6p5-RC2: broadcastclient, multicastclient spin up\n  duplicate ephemeral associations without broadcastdelay.\n* [Bug 2072] from 4.2.6p5-RC2: Orphan parent selection metric needs\n  ntohl().\n* [Bug 2073] Correct ntpq billboard's MODE_PASSIVE t from 'u' to 'S'.\n* from 4.2.6p5-RC2: Exclude not-yet-determined sys_refid from use in\n  loopback TEST12 (from Dave Mills).\n* from 4.2.6p5-RC2: Never send KoD rate limiting response to MODE_SERVER.\n* Floor calculation of sys_rootdisp at sys_mindisp in clock_update (from\n  Dave Mills).\n* Restore 4.2.6 clock_combine() weighting to ntp-dev, reverting to pre-\n  4.2.7p70 method while also avoiding divide-by-zero (from Dave Mills).\n* Round l_fp traffic interval when converting to integer in rate limit\n  and KoD calculation.\n(4.2.7p236) 2011/11/16 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p235) 2011/11/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2052] Autokey CRYPTO_ASSOC host@group vallen needs checking.\n(4.2.7p234) 2011/11/07 Released by Harlan Stenn <stenn@ntp.org>\n* Clean up -libm entries regarding libntp.a\n(4.2.7p233) 2011/11/06 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p232) 2011/11/05 Released by Harlan Stenn <stenn@ntp.org>\n* Update the NEWS file so we note the default disable of mode 7 requests.\n* Clean up some bitrotted code in libntp/socket.c.\n(4.2.7p231) 2011/11/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1940] ignore auth key if hex decoding fails.\n* Add ntpq reslist command to query access restrictions, similar to\n  ntpdc's reslist.\n(4.2.7p230) 2011/11/01 Released by Harlan Stenn <stenn@ntp.org>\n* Disable mode 7 (ntpdc) query processing in ntpd by default.  ntpq is\n  believed to provide all functionality ntpdc did, and uses a less-\n  fragile protocol that's safer and easier to maintain.  If you do find\n  some management via ntpdc is needed, you can use \"enable mode7\" in the\n  ntpd configuration.\n* Directly limit the number of datagrams in a mrulist response, rather\n  than limiting the number of entries returned to indirectly limit the\n  datagram count.\n* Documentation updates from Dave Mills.\n(4.2.7p229) 2011/10/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1995] fix wrong use of ZERO() macro in 'ntp_calendar.c'\n(4.2.7p228) 2011/10/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1995] add compile time stamp based era unfolding for\n  'step_systime()' and necessary support to 'ntp-calendar.c'.\n(4.2.7p227) 2011/10/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2036] gcc 2.95.3 preprocessor can't nest #ifdef in macro args.\n* A number of compiler warnings eliminated.\n(4.2.7p226) 2011/10/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2035] ntpq -c mrulist sleeps 1 sec between queries, not 5 msec.\n* Documentation updates from Dave Mills.\n(4.2.7p225) 2011/10/15 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p224) 2011/10/14 Released by Harlan Stenn <stenn@ntp.org>\n* ntpq mrulist shows intermediate counts every five seconds while\n  retrieving list, and allows Ctrl-C interruption of the retrieval,\n  showing the incomplete list as retrieved.  Reduce delay between\n  successive mrulist retrieval queries from 30 to 5 msec.  Do not\n  give up mrulist retrieval when a single query times out.\n(4.2.7p223) 2011/10/12 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p222) 2011/10/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2029] \"make check\" clutters syslog.\n* Log signal description along with number on ntpd exit.\n(4.2.7p221) 2011/10/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2025] Switching between daemon and kernel loops can doubly-\n  correct drift\n* [Bug 2028] ntpd -n (nofork) redirects logging to stderr.\n* Documentation updates from Dave Mills.\n(4.2.7p220) 2011/10/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1945] mbg_gps166.h use of _TM_DEFINED conflicts with MS VC.\n* [Bug 1946] parse_start uses open; does not work on Windows.\n* [Bug 1947] Porting parse-based Wharton refclock driver to Windows.\n* [Bug 2024] Remove unused system event code EVNT_CLKHOP.\n(4.2.7p219) 2011/10/04 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p218) 2011/10/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2019] Allow selection of cipher for private key files.\n* Documentation updates from Dave Mills.\n* ntp-keygen private key cipher default now triple-key triple DES CBC.\n* ntp-keygen -M is intended to ignore all other defaults and\n  options, so do not attempt to open existing Autokey host certificate\n  before generating symmetric keys and terminating.\n* Restore IFF, MV, and GQ identity parameter filename convention to\n  ntpkey_<scheme>par_<group/host> in ntpd, matching ntp-keygen.\n* Change some error logging to syslog to ignore logconfig mask, such\n  as reporting PPSAPI failure in NMEA and WWVB refclocks.\n* ntp-keygen on Windows XP and later systems will now create links\n  expected by ntpd.  They are hardlinks on Windows, soft on POSIX.\n* Conditionalize NMEA serial open message under clockevent.\n* Send all peer variables to trappers in report_event().\n(4.2.7p217) 2011/09/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2020] ntp-keygen -s no longer sets host in cert file name.\n* [Backward Incompatible] ntp-keygen -i option long name changed from\n  misleading --issuer-name to --ident.\n(4.2.7p216) 2011/09/27 Released by Harlan Stenn <stenn@ntp.org>\n* sntp documentation tag cleanup.\n* mdoc2man improvements.\n(4.2.7p215) 2011/09/24 Released by Harlan Stenn <stenn@ntp.org>\n* Use patched mdoc2man script, from Eric Feng.\n* Sync with ntp-4.2.6p4 (a no-op).\n(4.2.7p214) 2011/09/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1981] Initial offset convergence applies frequency correction 2x\n  with kernel discipline.\n* [Bug 2008] Initial offset convergence degraded with 500 PPM adjtime().\n* [Bug 2009] EVNT_NSET adj_systime() mishandled by Windows ntpd.\n(4.2.7p213) 2011/09/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1999] NMEA does not send PMOTG messages any more.\n(4.2.7p212) 2011/09/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2003] from 4.2.6p4-RC3: ntpq_read_assoc_peervars() broken.\n(4.2.7p211) 2011/09/01 Released by Harlan Stenn <stenn@ntp.org>\n* Update libevent to git head (2.1 branch) as of 2.0.14-stable.\n(4.2.7p210) 2011/08/31 Released by Harlan Stenn <stenn@ntp.org>\n* Require -D4 or higher for ntpd SIGALRM debug trace from [Bug 2000].\n(4.2.7p209) 2011/08/27 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 2000] ntpd worker threads must block signals expected in main\n  thread.\n* [Bug 2001] add ntpq -c timerstats like ntpdc -c timerstats.\n* [Bug 2001] from 4.2.6p4-RC3: ntpdc timerstats reports overruns as\n  handled.\n* Update sntp tests to track the change of root dispersion to\n  synchronization distance.\n(4.2.7p208) 2011/08/24 Released by Harlan Stenn <stenn@ntp.org>\n* Fix the CLOCK_MONOTONIC TRACE() message.\n(4.2.7p207) 2011/08/22 Released by Harlan Stenn <stenn@ntp.org>\n* Restore the original CLOCK_MONOTONIC output format in sntp.\n* Cleanups for ntp-wait-opts.def and ntp.keys.def .\n(4.2.7p206) 2011/08/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1993] ntpd Windows port adj_systime() broken in 4.2.7p203.\n* sntp documentation and behavior improvements suggested by\n  Steven Sommars.\n* Have sntp report synchronization distance instead of root dispersion.\n* Clean up ntp-wait-opts.def .\n(4.2.7p205) 2011/08/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1992] util/tg2 doesn't compile, needs libntp.\n(4.2.7p204) 2011/08/16 Released by Harlan Stenn <stenn@ntp.org>\n* Added support for Garmin's $PGRMF sentence to NMEA driver\n* [Bug 1988] Better sntp send failed error message needed.\n* [Bug 1989] sntp manual page sometimes refers to SNTP as a program.\n* [Bug 1990] sntp output should include stratum.\n(4.2.7p203) 2011/08/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1986] Require Visual C++ 2005 or later compilers in Windows port.\n* Actually use long long for (u_)int64 by correcting spelling of\n  SIZEOF_LONG_LONG in ntp_types.h.\n* Force .exe minimum Windows version to 0x0400 to allow NT4 in\n  vs2005/*.vcproj files.\n* Fix make distcheck with --enable-libevent-regress problem with\n  unwritable $srcdir.\n* Correct init_logging()'s def_syslogmask type to u_int32 following\n  change of ntp_syslogmask from u_long to u_int32 in p202.\n(4.2.7p202) 2011/08/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1983] --without-sntp build breaks in sntp subdir.\n* [Bug 1984] from 4.2.6p4-RC3: ntp/libisc fails to compile on OS X 10.7.\n* [Bug 1985] from 4.2.6p4-RC3: \"logconfig =allall\" rejected.\n(4.2.7p201) 2011/08/05 Released by Harlan Stenn <stenn@ntp.org>\n* sntp: change -h/--headspace to -g/--gap, and change the default gap\n  from 10 to 50ms\n* [Backward Incompatible] from 4.2.6p4: sntp: -l/--filelog ->\n  -l/--logfile, to be consistent with ntpd.\n* Documentation updates from Dave Mills.\n* From 4.2.6p4: libopts/file.c fix from Bruce Korb (arg-type=file).\n(4.2.7p200) 2011/08/04 Released by Harlan Stenn <stenn@ntp.org>\n* Sync with 4.2.6p4-RC2.\n(4.2.7p199) 2011/07/29 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p198) 2011/07/28 Released by Harlan Stenn <stenn@ntp.org>\n* remove old binsubdir stuff from SNTP, as NTP_LOCINFO does that now.\n(4.2.7p197) 2011/07/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1975] from 4.2.6p4-RC2: libntp/mktime.c won't work with 64-bit\n  time_t\n* [Bug 1976] genLocInfo writes to srcdir break 'make distcheck'.\n* [Bug 1977] Fix flag/description mismatches in ntp-keygen-opts.def.\n* Do not force \"legacy\" when --with-locfile is not given, genLocInfo\n  will find the correct default for the system.\n* Fix warnings in ntp_request.c ([Bug 1973] oversight) and sntp/main.c\n  (CID 159, apparent overrun due to union, actually correct).\n* Update sntp/loc/solaris to conform to stock locations.\n(4.2.7p196) 2011/07/27 Released by Harlan Stenn <stenn@ntp.org>\n* DEFAULT INSTALLATION DIRECTORY CHANGES ON SOME OSes: to get the old\n  behavior, pass --with-locfile=legacy to 'configure'\n* [Bug 1972] from 4.2.6p4-RC2: checking for struct rtattr fails.\n* [Bug 1973] Widen reference clock mode from 8 to 32 bits.\n* Removed sntp/m4/ntp_bindir.m4 - no longer needed.\n* Move loc/ to sntp/loc/ .\n* Move scripts/cvo.sh to sntp/scripts/cvo.sh .\n* Move scripts/genLocInfo to sntp/scripts/genLocInfo .\n* Give NTP_LOCINFO an optional path-to argument.\n* Remove hacks to get NTP_LOCINFO-related data to sntp/ .\n* Move sntp/include/mansec2subst.sed to sntp/scripts/mansec2subst.sed .\n* If no \"more specific\" loc file is found for redhat* or fedora*,\n  look for a loc/redhat file.\n* If no \"more specific\" loc file is found and uname says this is Linux,\n  look for a loc/linux file.\n* Improve the help text: --with-locfile=XXX .\n* work around solaris /bin/sh issues for genLocInfo.\n(4.2.7p195) 2011/07/25 Released by Harlan Stenn <stenn@ntp.org>\n* Added loc/redhat.\n(4.2.7p194) 2011/07/25 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1608] from 4.2.6p4-RC2: Parse Refclock driver should honor\n  trusttime.\n* Add support for installing programs and scripts to libexec.\n* Added loc/solaris.\n(4.2.7p193) 2011/07/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1970] from 4.2.6p4-RC2: UNLINK_EXPR_SLIST() causes crash if list\n  is empty.\n* Update libevent to 2.1 HEAD as of merge of 2.0.13-stable-dev.\n* Match addr_eqprefix() sizeof and memcpy destination to make it clear\n  to static analysis that there is no buffer overrun (CID 402).\n(4.2.7p192) 2011/07/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1966] Broken FILES section for ntp.keys.def.\n(4.2.7p191) 2011/07/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1948] Update man page section layout.\n* [Bug 1963] add reset command for ntpq :config, similar to ntpdc's.\n* [Bug 1964] --without-sntp should not build sntp.\n(4.2.7p190) 2011/07/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1961] from 4.2.6p4: html2man update: distribute ntp-wait.html.\n* Require autogen-5.12.\n(4.2.7p189) 2011/07/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1134] from 4.2.6p4-RC1: ntpd fails binding to tentative IPv6\n  addresses.\n* [Bug 1790] from 4.2.6p4-RC1: Update config.guess and config.sub to\n  detect AIX6.\n(4.2.7p188) 2011/06/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1958] genLocInfo must export PATH.\n* ntp-wait: some versions of ntpd spell \"associd\" differently.\n(4.2.7p187) 2011/06/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1954] Fix typos in [s]bin_PROGRAMS in ntpd/Makefile.am.\n* Implement --with-locfile=filename configure argument.  If filename is\n  empty we'll look under loc/ for a good fit.  If the filename contains\n  a / character, it will be treated as a \"normal\" pathname.  Otherwise,\n  that explicit file will be searched for under loc/ .\n(4.2.7p186) 2011/06/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1950] Control installation of event_rpcgen.py.\n* Update .point-changed-filelist for the new man pages.\n* Update the building of OS-specific programs.\n* Finish conversion to genLocInfo.\n* validate MANTAGFMT in genLocInfo.\n* Documentation update from Dave Mills.\n(4.2.7p185) 2011/06/21 Released by Harlan Stenn <stenn@ntp.org>\n* ntp_locs.m4: handle the case where . is not in the PATH.\n* More genLocInfo cleanup.\n(4.2.7p184) 2011/06/20 Released by Harlan Stenn <stenn@ntp.org>\n* Added ntp_locs.m4.\n* genLocInfo improvements.\n* Add the man page tag \"flavor\" to the loc.* files.\n* Add/distribute genLocInfo.\n(4.2.7p183) 2011/06/19 Released by Harlan Stenn <stenn@ntp.org>\n* Update the autogen include list for scripts/Makefile.am.\n* Added loc.freebsd (and distribute it).\n* Added loc.legacy (and distribute it).\n(4.2.7p182) 2011/06/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1304] Update sntp.html to reflect new implementation.\n* Update .point-changed-filelist .\n* ntpdc documentation fixes.\n* Update ntp-wait autogen docs.\n* Update the ntpd autogen docs.\n* Update the ntpsnmpd autogen docs.\n* Use autogen to produce ntp-keygen docs.\n* Add \"license name\" to ntp.lic for autogen-5.11.10.\n* Prepare for ntp.keys.5.\n(4.2.7p181) 2011/06/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1938] addr_eqprefix() doesn't clear enough storage.\n(4.2.7p180) 2011/06/06 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade to libevent-2.0.12.\n* More sntp.1 cleanups.\n* Produce ntpq.1 with the new autogen macros.\n* Remove the deprecated \"detail\" stanza from ntpdc-opts.def.\n(4.2.7p179) 2011/06/03 Released by Harlan Stenn <stenn@ntp.org>\n* Update cmd-doc.tlib to autogen-5.11.10pre5.\n* Upgrade local autoopts templates to 5.11.10pre5.\n(4.2.7p178) 2011/06/02 Released by Harlan Stenn <stenn@ntp.org>\n* Update the std_def_list to include the ntp.lic file.\n* Distribute the ntp.lic file.\n* Add http://ntp.org/license to the ntp.lic file.\n(4.2.7p177) 2011/06/01 Released by Harlan Stenn <stenn@ntp.org>\n* Use the latest autogen's new copyright template code.\n* Clean up the ntp.lic file.\n(4.2.7p176) 2011/05/31 Released by Harlan Stenn <stenn@ntp.org>\n* sntp documentation cleanup.\n* autogen documentation template cleanup.\n(4.2.7p175) 2011/05/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1936] Correctly set IPV6_MULTICAST_LOOP.\n* cmd-doc.tlib cleanup from Bruce Korb.\n* sntp documentation cleanup.\n(4.2.7p174) 2011/05/28 Released by Harlan Stenn <stenn@ntp.org>\n* ntpdc documentation cleanup.\n* sntp documentation cleanup.\n* Don't build libevent with openssl support.  Right now, libevent\n  doesn't use pkg-config to find openssl's installation location.\n(4.2.7p173) 2011/05/25 Released by Harlan Stenn <stenn@ntp.org>\n* Typo in emalloc.c hides file and line number from emalloc() error msg.\n* parsesolaris.c compile fails on SPARC Solaris with conflicting printf.\n* ntp_util.c compile fails on AIX and OSF with conflicting statsdir.\n(4.2.7p172) 2011/05/24 Released by Harlan Stenn <stenn@ntp.org>\n* Remove hardcoded 1/960 s. fudge for <CR> transmission time at 9600 8n1\n  from WWVB/Spectracom driver introduced in 4.2.7p169.\n(4.2.7p171) 2011/05/23 Released by Harlan Stenn <stenn@ntp.org>\n* Eliminate warnings about shadowing global \"basename\" on Linux.\n* Use filegen_config() consistently when changing filegen options.\n* mprintf() should go to stdout, not stderr.  DPRINTF() uses mprintf().\n* Repair a few simulator problems (more remain).\n* Documentation updates from Dave Mills.\n(4.2.7p170) 2011/05/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1932] libevent/util_internal.h builtin_expect compile error with\n  gcc 2.95.\n* Use 64-bit scalars in LFPTOD() and DTOLFP() on more platforms by\n  conditionalizing on HAVE_U_INT64 rather than UINT64_MAX.\n(4.2.7p169) 2011/05/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1933] WWVB/Spectracom driver timestamps LFs, not CRs.\n(4.2.7p168) 2011/05/16 Released by Harlan Stenn <stenn@ntp.org>\n* Convert receive buffer queue from doubly-linked list to FIFO.\n(4.2.7p167) 2011/05/14 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1927] io_closeclock() should purge pending recvbufs.\n* [Bug 1931] cv always includes fudgetime1, never fudgetime2.\n* Use acts_close() in acts_shutdown() to avoid leaving a stale lockfile\n  if unpeered via runtime configuration while the modem is open.\n* Correct acts_close() test of pp->io.fd to see if it is open.\n* 4.2.7p164 documentation updates re: 'tos orphanwait' expanded scope.\n(4.2.7p166) 2011/05/13 Released by Harlan Stenn <stenn@ntp.org>\n* If we have local overrides for autogen template files, use them.\n* Convert more of the sntp-opt.def documentation from man to mdoc.\n(4.2.7p165) 2011/05/11 Released by Harlan Stenn <stenn@ntp.org>\n* Convert snmp docs to mdoc format, which requires autogen 5.11.9.\n* from 4.2.6p4-RC1: Require autogen 5.11.9.\n(4.2.7p164) 2011/05/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 988] Local clock eats up -g option, so ntpd stops with large\n  initial time offset.\n* [Bug 1921] LOCAL, ACTS drivers with \"prefer\" excluded from initial\n  candidate list.\n* [Bug 1922] \"tos orphanwait\" applied incorrectly at startup.\n* [Bug 1923] orphan parent favored over LOCAL, ACTS drivers.\n* [Bug 1924] Billboard tally codes sometimes do not match operation,\n  variables.\n* Change \"pool DNS\" messages from msyslog to debug trace output.\n* Remove unused FLAG_SYSPEER from peer->status.\n* Respect \"tos orphanwait\" at startup.  Previously there was an\n  unconditional 300 s. startup orphanwait, though other values were\n  respected for subsequent orphan wait periods after no_sys_peer events.\n* Apply \"tos orphanwait\" (def. 300 seconds) to LOCAL and ACTS reference\n  clock drivers, in addition to orphan parent operation.  LOCAL and ACTS\n  are not selectable during the orphanwait delay at startup and after\n  each no_sys_peer event.  This prevents a particular form of clock-\n  hopping, such as using LOCAL briefly at startup before remote peers\n  are selectable.  This fixes the issue reported in [Bug 988].\n* Documentation updates from Dave Mills.\n(4.2.7p163) 2011/05/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1911] missing curly brace in libntp/ntp_rfc2553.c\n(4.2.7p162) 2011/05/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1910] Support the Tristate Ltd. TS-GPSclock-01.\n(4.2.7p161) 2011/05/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1904] 4.2.7p160 Windows build broken (POSIX_SHELL).\n* [Bug 1906] 4.2.7p160 - libtool: compile: cannot determine name of\n  library object in ./libevent\n* Share a single sntp/libevent/build-aux directory between all three\n  configure scripts.\n* Add missing --enable-local-libevent help to top-level configure.\n(4.2.7p160) 2011/05/01 Released by Harlan Stenn <stenn@ntp.org>\n* from 4.2.6p4-RC1: Upgrade to libopts 35.0.10 from AutoGen 5.11.9pre8.\n* [Bug 1901] Simulator does not set progname.\n(4.2.7p159) 2011/04/28 Released by Harlan Stenn <stenn@ntp.org>\n* Fix a couple of unused variable warnings.\n* cleanup in timespecops.c / timevalops.c\n(4.2.7p158) 2011/04/24 Released by Harlan Stenn <stenn@ntp.org>\n* Update libevent --disable-libevent-regress handling to work when\n  building libevent using mingw.\n(4.2.7p157) 2011/04/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1890] 4.2.7p156 segfault in duplicate freeaddrinfo().\n(4.2.7p156) 2011/04/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1851] freeaddrinfo() called after getaddrinfo() fails.\n(4.2.7p155) 2011/04/18 Released by Harlan Stenn <stenn@ntp.org>\n* Fix leak in refclock_datum.c start failure path.\n(4.2.7p154) 2011/04/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1887] DNS fails on 4.2.7p153 using threads.\n(4.2.7p153) 2011/04/16 Released by Harlan Stenn <stenn@ntp.org>\n* A few more Coverity Scan cleanups.\n(4.2.7p152) 2011/04/15 Released by Harlan Stenn <stenn@ntp.org>\n* Update embedded libevent to current 2.1 git HEAD.\n(4.2.7p151) 2011/04/14 Released by Harlan Stenn <stenn@ntp.org>\n* Detect vsnprintf() support for \"%m\" and disable our \"%m\" expansion.\n* Add --enable-c99-sprintf to configure args for -noopenssl variety of\n  flock-build to avoid regressions in (v)snprintf() replacement.\n* More msnprintf() unit tests.\n* Coverity Scan error checking fixes.\n* Log failure to fetch time from HOPF_P hardware.\n* Check HOPF_S sscanf() conversion count before converted values.\n(4.2.7p150) 2011/04/13 Released by Harlan Stenn <stenn@ntp.org>\n* Remove never-used, incomplete ports/winnt/ntpd/refclock_trimbledc.[ch]\n* On systems without C99-compliant (v)snprintf(), use C99-snprintf\n  replacements (http://www.jhweiss.de/software/snprintf.html)\n* Remove remaining sprintf() calls except refclock_ripencc.c (which is\n  kept out of --enable-all-clocks as a result), upstream libs which use\n  sprintf() only after careful buffer sizing.\n(4.2.7p149) 2011/04/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1881] describe the {+,-,s} characters in configure --help output.\n(4.2.7p148) 2011/04/09 Released by Harlan Stenn <stenn@ntp.org>\n* Use _mkgmtime() as timegm() in the Windows port, rather than\n  libntp/mktime.c's timegm().  Fixed [Bug 1875] on Windows using the old\n  asn2ntp() code from before 4.2.7p147.\n* ntp_crypto.c string buffer safety.\n* Remove use of MAXFILENAME in mode 7 (ntpdc) on-wire structs.\n* Change ntpd MAXFILENAME from 128 to 256 to match ntp-keygen.\n* Buffer safety and sign extension fixes (thanks Coverity Scan).\n(4.2.7p147) 2011/04/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1875] 'asn2ntp()' rewritten with 'caltontp()'; 'timegm()'\n  substitute likely to crash with 64bit time_t.\n(4.2.7p146) 2011/04/05 Released by Harlan Stenn <stenn@ntp.org>\n* String buffer safety cleanup, converting to strlcpy() and strlcat().\n* Use utmpname() before pututline() so repeated steps do not\n  accidentally record into wtmp where utmp was intended.\n* Use setutent() before each pututline() including first.\n(4.2.7p145) 2011/04/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1840] ntp_lists.h FIFO macros buggy.\n(4.2.7p144) 2011/04/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1874] ntpq -c \"rv 0 sys_var_list\" empty.\n(4.2.7p143) 2011/03/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1732] ntpd ties up CPU on disconnected USB refclock.\n* [Bug 1861] tickadj build failure using uClibc.\n* [Bug 1862] in6addr_any test in configure fooled by arm gcc 4.1.3 -O2.\n* Remove kernel line discipline driver code for clk and chu, deprecate\n  related LDISC_ flags, and remove associated ntpd code to decode the\n  timestamps, remove clktest line discipline test program.\n* Remove \"signal_no_reset: signal 17 had flags 4000000\" logging, as it\n  indicates no problem and is interpreted as an error.  Previously some\n  bits had been ignored one-by-one, but Linux SA_RESTORER definition is\n  unavailable to user headers.\n(4.2.7p142) 2011/03/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1844] ntpd 4.2.7p131 NetBSD, --gc-sections links bad executable.\n* Fix \"make distcheck\" break in libevent/sample caused by typo.\n(4.2.7p141) 2011/03/20 Released by Harlan Stenn <stenn@ntp.org>\n* Add \"ntpq -c iostats\" similar to \"ntpdc -c iostats\".\n* Compare entire timestamp to reject duplicates in refclock_pps().\n(4.2.7p140) 2011/03/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1848] ntpd 4.2.7p139 --disable-thread-support does not compile.\n* Add --disable-thread-support to one flock-build variation.\n* One more lock-while-init in lib/isc/task.c to quiet lock analysis.\n(4.2.7p139) 2011/03/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1848] make check ntpd --saveconfigquit clutters syslog.\n(4.2.7p138) 2011/03/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1846] MacOSX: debug symbol not found by propdelay or tickadj.\n(4.2.7p137) 2011/03/07 Released by Harlan Stenn <stenn@ntp.org>\n* Use TRACE() instead of DPRINTF() for libntp and utilities, which\n  use the \"debug\" variable regardless of #ifdef DEBUG.\n* Declare debug in libntp instead of each program.  Expose extern\n  declaration to utilities, libntp, and DEBUG ntpd.\n* Lock under-construction task, taskmgr objects to satisfy Coverity's\n  mostly-correct assumptions about which variables are protected by\n  which locks.\n(4.2.7p136) 2011/03/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1839] 4.2.7p135 still installs libevent ev*.h headers.\n(4.2.7p135) 2011/03/02 Released by Harlan Stenn <stenn@ntp.org>\n* libevent: When building on systems with CLOCK_MONOTONIC available,\n  separate the internal timeline (possibly counting since system boot)\n  from the gettimeofday() timeline in event_base cached timevals.  Adds\n  new event_base_tv_cached() to retrieve cached callback round start\n  time on the internal timeline, and changes\n  event_based_gettimeofday_cached() to always return times using the\n  namesake timeline.  This preserves the benefit of using the never-\n  stepped monotonic clock for event timeouts while providing clients\n  with times consistently using gettimeofday().\n* Correct event_base_gettimeofday_cached() workaround code in\n  sntp to work with corrected libevent.\n* Remove sntp l_fp_output() test now that it uses prettydate().\n* [Bug 1839] 4.2.7p131 installs libevent ev*.h headers.\n* Ensure CONFIG_SHELL is not empty before relying on it for #! scripts.\n(4.2.7p134) 2011/02/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1837] Build fails on Win7 due to regedit requiring privilege.\n* Provide fallback definitions for GetAdaptersAddresses() for Windows\n  build environments lacking iphlpapi.h.\n* Rename file containing 1.xxxx ChangeSet revision from version to\n  scm-rev to avoid invoking GNU make implicit rules attempting to\n  compile version.c into version.  Problem was with sntp/version.o\n  during make distcheck after fix for spurious sntp rebuilds.\n* Add INC_ALIGNED_PTR() macro to align pointers like malloc().\n(4.2.7p133) 2011/02/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1834] ntpdate 4.2.7p131 aborts with assertion failure.\n* Move sntp last in top-level Makefile.am SUBDIRS so that the libevent\n  tearoff (if required) and sntp are compiled after the rest.\n* Use a single set of Automake options for each package in configure.ac\n  AM_INIT, remove Makefile.am AUTOMAKE_OPTIONS= lines.\n* Correct spurious sntp rebuilds triggered by a make misperception\n  sntp/version was out-of-date relative to phony target FRC.version.\n* Do not cache paths to perl, test, or pkg-config, searching the PATH\n  at configure time is worth it to pick up tool updates.\n(4.2.7p132) 2011/02/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1832] ntpdate doesn't allow timeout > 2s.\n* [Bug 1833] The checking sem_timedwait() fails without -pthread.\n* ElectricFence was suffering bitrot - remove it.  valgrind works well.\n* Enable all relevant automake warnings.\n* Correct Solaris 2.1x PTHREAD_ONCE_INIT extra braces test to avoid\n  triggering warnings due to excess braces.\n* Remove libevent-cfg from sntp/Makefile.am.\n* Provide bug report and URL options to Autoconf.\n* Avoid relying on remake rules for routine build/flock-build for\n  libevent as for the top-level and sntp subproject.\n(4.2.7p131) 2011/02/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1087] -v/--normalverbose conflicts with -v/--version in sntp.\n* [Bug 1088] sntp should (only) report the time difference without -s/-a.\n* older autoconf sometimes dislikes [].\n* Move \"can't write KoD file\" warning from sntp shutdown to startup.\n* refclock_acts.c cleanup from Dave Mills.\n* Convert sntp to libevent event-driven socket programming.  Instead of\n  blocking name resolution and querying one NTP server at a time,\n  resolve server names and send NTP queries without blocking.  Add\n  sntp command-line options to adjust timing and optionally wait for all\n  servers to respond instead of exiting after the first.\n* Import libevent 2.0.10-stable plus local patches as a tearoff, used\n  only if the target system lacks an installed libevent 2.0.9 or later.\n* Move blocking worker and resolver to libntp from ntpd.\n* Use threads rather than forked child processes for blocking worker\n  when possible.  Override with configure --disable-thread-support.\n* Move init_logging(), change_logfile(), and setup_logfile() from ntpd\n  to libntp, use them in sntp.\n* Test --without-sntp in flock-build script's -no-refclocks variety.\n* Avoid invoking config.status twice in a row in build script.\n* Move more m4sh tests needed by libntp to shared .m4 files.\n* Split up ntp_libntp.m4 into smaller, more specific subsets.\n* Enable gcc -Wcast-align, fix many instances of warnings when casting\n  a pointer to a more-strictly-aligned underlying type.\n(4.2.7p130) 2011/02/12 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1811] Update the download location in WHERE-TO-START.\n(4.2.7p129) 2011/02/09 Released by Harlan Stenn <stenn@ntp.org>\n* Add missing \"break;\" to ntp_control.c ctl_putsys() for caliberrs, used\n  by ntpq -c kerninfo introduced in 4.2.7p104.\n* Fix leak in ntp_control.c read_mru_list().\n(4.2.7p128) 2011/01/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1799] ntpq mrv crash.\n* [Bug 1801] ntpq mreadvar requires prior association caching.\n(4.2.7p127) 2011/01/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1797] Restore stale timestamp check from the RANGEGATE cleanup.\n(4.2.7p126) 2011/01/27 Released by Harlan Stenn <stenn@ntp.org>\n* Fix unexposed fencepost error in format_time_fraction().\n* Add more unit tests for timeval_tostr() and timespec_tostr().\n(4.2.7p125) 2011/01/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1794] ntpq -c rv missing clk_wander information.\n* [Bug 1795] ntpq readvar does not display last variable.\n(4.2.7p124) 2011/01/25 Released by Harlan Stenn <stenn@ntp.org>\n* sntp/Makefile.am needs any passed-in CFLAGS.\n(4.2.7p123) 2011/01/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1788] tvtots.c tables inaccurate\n(4.2.7p122) 2011/01/22 Released by Harlan Stenn <stenn@ntp.org>\n* ACTS refclock cleanup from Dave Mills.\n* Avoid shadowing the \"group\" global variable.\n(4.2.7p121) 2011/01/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1786] Remove extra semicolon from ntp_proto.c .\n(4.2.7p120) 2011/01/20 Released by Harlan Stenn <stenn@ntp.org>\n* Change new timeval and timespec to string routines to use snprintf()\n  rather than hand-crafted conversion, avoid signed int overflow there.\n* Add configure support for SIZEOF_LONG_LONG to enable portable use of\n  snprintf() with time_t.\n* Grow ntpd/work_thread.c arrays as needed.\n* Add DEBUG_* variants of ntp_assert.h macros which compile away using\n  ./configure --disable-debugging.\n* Fix tvalops.cpp unit test failures for 32-bit builds.\n* Return to a single autoreconf invocation in ./bootstrap script.\n* Fix warnings seen on FreeBSD 9.\n* crypto group changes from Dave Mills.\n* Lose the RANGEGATE check in PPS, from Dave Mills.\n* ACTS refclock cleanup from Dave Mills.\n* Documentation updates from Dave Mills.\n* NMEA driver documentation update from Juergen Perlinger.\n(4.2.7p119) 2011/01/18 Released by Harlan Stenn <stenn@ntp.org>\n* added timespecops.{c,h} and tievalops.{c.h} to libntp and include\n  added tspecops.cpp to tests/libntp\n* Correct msyslog.c build break on Solaris 2.9 from #ifdef/#if mixup.\n(4.2.7p118) 2011/01/15 Released by Harlan Stenn <stenn@ntp.org>\n* Simplify the built-sources stuff in sntp/ .\n* Fix check for -lipv6 on HP-UX 11.\n(4.2.7p117) 2011/01/13 Released by Harlan Stenn <stenn@ntp.org>\n* Add configure --without-sntp option to disable building sntp and\n  sntp/tests.  withsntp=no in the environment changes the default.\n* Build infrastructure cleanup:\n  Move m4 directory to sntp/m4.\n  Share a single set of genver output between sntp and the top level.\n  Share a single set of autogen included .defs in sntp/include.\n  Share a single set of build-aux scripts (e.g. config.guess, missing).\n  Add ntp_libntp.m4 and ntp_ipv6.m4 to reduce configure.ac duplication.\n  Warn and exit build/flock-build if bootstrap needs to be run.\n(4.2.7p116) 2011/01/10 Released by Harlan Stenn <stenn@ntp.org>\n* refclock_nmea.c refactoring by Juergen Perlinger.\n(4.2.7p115) 2011/01/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1780] Windows ntpd 4.2.7p114 crashes in ioctl().\n* [Bug 1781] longlong undefined in sntp handle_pkt() on Debian amd64.\n(4.2.7p114) 2011/01/08 Released by Harlan Stenn <stenn@ntp.org>\n* Fix for openssl pkg-config detection eval failure.\n* Add erealloc_zero(), refactor estrdup(), emalloc(), emalloc_zero() to\n  separate tracking callsite file/line from using debug MS C runtime,\n  and to reduce code duplication.\n(4.2.7p113) 2011/01/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1776] sntp mishandles -t/--timeout and -a/--authentication.\n* Default to silent make rules, override with make V=1 or ./configure\n  --disable-silent-rules.\n* Correct --with-openssl-incdir defaulting with pkg-config.\n* Correct ./build on systems without gtest available.\n* Begin moving some of the low-level socket stuff to libntp.\n(4.2.7p112) 2011/01/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1773] openssl not detected during ./configure.\n* [Bug 1774] Segfaults if cryptostats enabled and built without OpenSSL.\n* Use make V=0 in build script to increase signal/noise ratio.\n(4.2.7p111) 2011/01/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1772] refclock_open() return value check wrong for ACTS.\n* Default --with-openssl-libdir and --with-openssl-incdir to the values\n  from pkg-config, falling back on our usual search paths if pkg-config\n  is not available or does not have openssl.pc on PKG_CONFIG_PATH.\n* Change refclock_open() to return -1 on failure like open().\n* Update all refclock_open() callers to check for fd <= 0 indicating\n  failure, so they work with older and newer refclock_open() and can\n  easily backport.\n* Initialize refclockproc.rio.fd to -1, harmonize refclock shutdown\n  entrypoints to avoid crashing, particularly if refclock_open() fails.\n* Enable tickadj-like taming of wildly off-spec Windows clock using\n  NTPD_TICKADJ_PPM env. var. specifying baseline slew.\n(4.2.7p110) 2011/01/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1771] algorithmic error in 'clocktime()' fixed.\n* Unit tests extended for hard-coded system time.\n* make V=0 and configure --enable-silent-rules supported.\n* setvar modemsetup = ATE0... overrides ACTS driver default.\n* Preserve last timecode in ACTS driver (ntpq -ccv).\n* Tolerate previous ATE1 state when sending ACTS setup.\n* Enable raw tty line discipline in Windows port.\n* Allow tty open/close/open to succeed on Windows port.\n* Enable ACTS and CHU reference clock drivers on Windows.\n(4.2.7p109) 2011/01/02 Released by Harlan Stenn <stenn@ntp.org>\n* Remove nearly all strcpy() and most strcat() from NTP distribution.\n  One major pocket remains in ntp_crypto.c.  libopts & libisc also have\n  (safe) uses of strcpy() and strcat() remaining.\n* Documentation updates from Dave Mills.\n(4.2.7p108) 2011/01/01 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1764] Move Palisade modem control logic to configure.ac.\n* [Bug 1768] TIOCFLUSH undefined in linux for refclock_acts.\n* Autokey multiple identity group improvements from Dave Mills.\n* from 4.2.6p3: Update the copyright year.\n(4.2.7p107) 2010/12/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1764] Palisade driver doesn't build on Linux.\n* [Bug 1766] Oncore clock has offset/high jitter at startup.\n* Move ntp_control.h variable IDs to ntp_control.c, remove their use by\n  ntpq.  They are implementation details private to ntpd.  [Bug 597] was\n  caused by ntpq's reliance on these IDs it need not know about.\n* refclock_acts.c updates from Dave Mills.\n(4.2.7p106) 2010/12/30 Released by Harlan Stenn <stenn@ntp.org>\n* from 4.2.6p3: Update genCommitLog for the bk-5 release.\n(4.2.7p105) 2010/12/29 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.7p104) 2010/12/28 Released by Harlan Stenn <stenn@ntp.org>\n* from 4.2.6p3: Create and use scripts/check--help when generating\n  .texi files.\n* from 4.2.6p3: Update bk triggers for the bk-5 release.\n* Support for multiple Autokey identity groups from Dave Mills.\n* Documentation updates from Dave Mills.\n* Add ntpq kerninfo, authinfo, and sysinfo commands similar to ntpdc's.\n(4.2.7p103) 2010/12/24 Released by Harlan Stenn <stenn@ntp.org>\n* Add ntpq pstats command similar to ntpdc's.\n* Remove ntpq pstatus command, rv/readvar does the same and more.\n* Documentation updates from Dave Mills.\n(4.2.7p102) 2010/12/23 Released by Harlan Stenn <stenn@ntp.org>\n* Allow ntpq &1 associd use without preceding association-fetching.\n* Documentation updates from Dave Mills.\n(4.2.7p101) 2010/12/22 Released by Harlan Stenn <stenn@ntp.org>\n* from 4.2.6p3-RC12: Upgrade to libopts 34.0.9 from AutoGen 5.11.6pre7.\n* from 4.2.6p3-RC12: Relax minimum Automake version to 1.10 with updated\n  libopts.m4.\n(4.2.7p100) 2010/12/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1743] from 4.2.6p3-RC12: Display timezone offset when showing\n  time for sntp in the local timezone (documentation updates).\n(4.2.7p99) 2010/12/21 Released by Harlan Stenn <stenn@ntp.org>\n* Add unit tests for msnprintf().\n(4.2.7p98) 2010/12/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1761] clockstuff/clktest-opts.h omitted from tarball.\n* [Bug 1762] from 4.2.6p3-RC12: manycastclient responses interfere.\n* Documentation updates from Dave Mills.\n(4.2.7p97) 2010/12/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1458] from 4.2.6p3-RC12: Can not compile NTP on FreeBSD 4.7.\n* [Bug 1760] from 4.2.6p3-RC12: ntpd Windows interpolation cannot be\n  disabled.\n* from 4.2.6p3-RC12: Upgrade to libopts 34.0.9 from AutoGen 5.11.6pre5.\n* Documentation updates from Dave Mills.\n(4.2.7p96) 2010/12/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1758] from 4.2.6p3-RC12: setsockopt IPV6_MULTICAST_IF with wrong\n  ifindex.\n* Documentation updates from Dave Mills.\n(4.2.7p95) 2010/12/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1753] 4.2.7p94 faults on startup in newpeer(), strdup(NULL).\n* [Bug 1754] from 4.2.6p3-RC12: --version output should be more verbose.\n* [Bug 1757] from 4.2.6p3-RC12: oncore snprintf(\"%m\") doesn't expand %m.\n* from 4.2.6p3-RC12: Suppress ntp-keygen OpenSSL version display for\n  --help, --version, display both build and runtime OpenSSL versions\n  when they differ.\n* from 4.2.6p3-RC12: Upgrade to libopts 33.5.8 from AutoGen 5.11.6pre3.\n* Documentation updates from Dave Mills.\n(4.2.7p94) 2010/12/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1751] from 4.2.6p3-RC12: Support for Atari FreeMiNT OS.\n* Documentation updates from Dave Mills.\n(4.2.7p93) 2010/12/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1510] from 4.2.6p3-RC12: Add modes 20/21 for driver 8 to support\n  RAWDCF @ 75 baud.\n* [Bug 1741] from 4.2.6p3-RC12: Enable multicast reception on each\n  address (Windows).\n* from 4.2.6p3-RC12: Other manycastclient repairs:\n  Separate handling of scope ID embedded in many in6_addr from ifindex\n  used for IPv6 multicasting ioctls.\n  Add INT_PRIVACY endpt bit flag for IPv6 RFC 4941 privacy addresses.\n  Enable outbound multicast from only one address per interface in the\n  same subnet, and in that case prefer embedded MAC address modified\n  EUI-64 IPv6 addresses first, then static, and last RFC 4941 privacy\n  addresses.\n  Use setsockopt(IP[V6]_MULTICAST_IF) before each send to multicast to\n  select the local source address, using the correct socket is not\n  enough.\n* \"server ... ident <groupname>\" changes from Dave Mills.\n* Documentation updates from Dave Mills.\n(4.2.7p92) 2010/12/08 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1743] from 4.2.6p3-RC12: Display timezone offset when showing\n  time for sntp in the local timezone.\n(4.2.7p91) 2010/12/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1732] ntpd ties up CPU on disconnected USB device.\n* [Bug 1742] form 4.2.6p3-RC12: Fix a typo in an error message in the\n  \"build\" script.\n(4.2.7p90) 2010/12/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1738] Windows ntpd has wrong net adapter name.\n* [Bug 1740] ntpdc -c reslist packet count wrongly treated as signed.\n(4.2.7p89) 2010/12/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1736] tos int, bool options broken in 4.2.7p66.\n* from 4.2.6p3-RC12: Clean up the SNTP documentation.\n(4.2.7p88) 2010/12/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1735] 'clocktime()' aborts ntpd on bogus input\n(4.2.7p87) 2010/12/01 Released by Harlan Stenn <stenn@ntp.org>\n* from 4.2.6p3-RC12: Clean up m4 quoting in configure.ac, *.m4 files,\n  resolving intermittent AC_LANG_PROGRAM possibly undefined errors.\n(4.2.7p86) 2010/11/29 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p85) 2010/11/24 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p84) 2010/11/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1618] Unreachable code in jjy_start().\n* [Bug 1725] from 4.2.6p3-RC11: ntpd sends multicast from only one\n  address.\n* from 4.2.6p3-RC11: Upgrade libopts to 33.3.8.\n* from 4.2.6p3-RC11: Bump minimum Automake version to 1.11, required for\n  AM_COND_IF use in LIBOPTS_CHECK.\n* An almost complete rebuild of the initial loopfilter configuration\n  process, including the code that determines the interval between\n  frequency file updates, from Dave Mills.\n* Documentation updates from Dave Mills.\n* Add ntp-keygen -l/--lifetime to control certificate expiry.\n* JJY driver improvements for Tristate JJY01/02, including changes\n  to its clockstats format.\n* Add \"nonvolatile\" ntp.conf directive to control how often the\n  driftfile is written.\n(4.2.7p83) 2010/11/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1727] ntp-keygen PLEN, ILEN undeclared --without-crypto.\n* Remove top-level libopts, use sntp/libopts.\n* from 4.2.6p3-RC11: Remove log_msg() and debug_msg() from sntp in favor\n  of msyslog().\n* Documentation updates from Dave Mills.\n(4.2.7p82) 2010/11/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1728] from 4.2.6p3-RC11: In ntp_openssl.m4, don't add\n  -I/usr/include or -L/usr/lib to CPPFLAGS or LDFLAGS.\n(4.2.7p81) 2010/11/14 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1681] from 4.2.6p3-RC10: More sntp logging cleanup.\n* [Bug 1683] from 4.2.6p3-RC10: Non-localhost on loopback exempted from\n  nic rules.\n* [Bug 1719] Cleanup for ntp-keygen and fix -V crash, from Dave Mills.\n(4.2.7p80) 2010/11/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1574] from 4.2.6p3-RC9: sntp doesn't set tv_usec correctly.\n* [Bug 1681] from 4.2.6p3-RC9: sntp logging cleanup.\n* [Bug 1683] from 4.2.6p3-RC9: Interface binding does not seem to work\n  as intended.\n* [Bug 1708] make check fails with googletest 1.4.0.\n* [Bug 1709] from 4.2.6p3-RC9: ntpdate ignores replies with equal\n  receive and transmit timestamps.\n* [Bug 1715] sntp utilitiesTest.IPv6Address failed.\n* [Bug 1718] Improve gtest checks in configure.ac.\n(4.2.7p79) 2010/11/07 Released by Harlan Stenn <stenn@ntp.org>\n* Correct frequency estimate with no drift file, from David Mills.\n(4.2.7p78) 2010/11/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1697] filegen implementation should be improved.\n* Refactor calendar functions in terms of new common code.\n* Documentation updates from Dave Mills.\n(4.2.7p77) 2010/11/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1692] packageinfo.sh needs to be \"sourced\" using ./ .\n* [Bug 1695] ntpdate takes longer than necessary.\n(4.2.7p76) 2010/11/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1690] Unit tests fails to build on some systems.\n* [Bug 1691] Use first NMEA sentence each second.\n* Put the sntp tests under sntp/ .\n* ... and only build/run them if we have gtest.\n* Documentation updates from Dave Mills.\n(4.2.7p75) 2010/10/30 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* Include Linus Karlsson's GSoC 2010 testing code.\n(4.2.7p74) 2010/10/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1685] from 4.2.6p3-RC8: NMEA driver mode byte confusion.\n* from 4.2.6p3-RC8: First cut at using scripts/checkChangeLog.\n* Documentation updates from Dave Mills.\n(4.2.7p73) 2010/10/27 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1680] Fix alignment of clock_select() arrays.\n* refinements to new startup behavior from David Mills.\n* For the bootstrap script, touch .html files last.\n* Add 'make check' test case that would have caught [Bug 1678].\n(4.2.7p72) 2010/10/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1679] Fix test for -lsocket.\n* Clean up missing ;; entries in configure.ac.\n(4.2.7p71) 2010/10/25 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1676] from 4.2.6p3-RC7: NMEA: $GPGLL did not work after fix\n  for Bug 1571.\n* [Bug 1678] \"restrict source\" treated as \"restrict default\".\n* from 4.2.6p3-RC7: Added scripts/checkChangeLog.\n(4.2.7p70) 2010/10/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1571] from 4.2.6p3-RC6: NMEA does not relate data to PPS edge.\n* [Bug 1572] from 4.2.p63-RC6: NMEA time adjustment for GPZDG buggy.\n* [Bug 1675] from 4.2.6p3-RC6: Prohibit includefile remote config.\n* Enable generating ntpd/ntp_keyword.h after keyword-gen.c changes on\n  Windows as well as POSIX platforms.\n* Fix from Dave Mills for a rare singularity in clock_combine().\n(4.2.7p69) 2010/10/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1671] Automatic delay calibration is sometimes inaccurate.\n(4.2.7p68) 2010/10/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1669] from 4.2.6p3-RC5: NTP fails to compile on IBM AIX 5.3.\n* [Bug 1670] Fix peer->bias and broadcastdelay.\n* Documentation updates from Dave Mills.\n* Documentation EOL cleanup.\n(4.2.7p67) 2010/10/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1649] from 4.2.6p3-RC5: Require NMEA checksum if $GPRMC or\n  previously seen.\n(4.2.7p66) 2010/10/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1277] Provide and use O(1) FIFOs, esp. in the config tree code.\n* Remove unused 'bias' configuration keyword.\n(4.2.7p65) 2010/10/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1584] from 4.2.6p3-RC4: wrong SNMP type for precision,\n  resolution.\n* Remove 'calldelay' and 'sign' remnants from parser, ntp_config.c.\n(4.2.7p64) 2010/10/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1584] from 4.2.6p3-RC3: ntpsnmpd OID must be mib-2.197.\n* [Bug 1659] from 4.2.6p3-RC4: Need CLOCK_TRUETIME not CLOCK_TRUE.\n* [Bug 1663] ntpdsim should not open net sockets.\n* [Bug 1665] from 4.2.6p3-RC4: is_anycast() u_int32_t should be u_int32.\n* from 4.2.6p3: ntpsnmpd, libntpq warning cleanup.\n* Remove 'calldelay' and 'sign' keywords (Dave Mills).\n* Documentation updates from Dave Mills.\n(4.2.7p63) 2010/10/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1080] from 4.2.6p3-RC3: ntpd on ipv6 routers very chatty.\n* Documentation nit cleanup.\n* Documentation updates from Dave Mills.\n(4.2.7p62) 2010/10/12 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 750] from 4.2.6p3-RC3: Non-existing device causes coredump with \n  RIPE-NCC driver.\n* [Bug 1567] from 4.2.6p3-RC3: Support Arbiter 1093C Satellite Clock on\n  Windows.\n* [Bug 1581] from 4.2.6p3-RC3: printf format string mismatch leftover.\n* [Bug 1659] from 4.2.6p3-RC3: Support Truetime Satellite Clocks on\n  Windows. \n* [Bug 1660] from 4.2.6p3-RC3: On some systems, test is in /usr/bin, not\n  /bin. \n* [Bug 1661] from 4.2.6p3-RC3: Re-indent refclock_ripencc.c.\n* Lose peer_count from ntp_peer.c and ntp_proto.c (Dave Mills).\n* Documentation updates from Dave Mills.\n(4.2.7p61) 2010/10/06 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation and code cleanup from Dave Mills. No more NTP_MAXASSOC.\n(4.2.7p60) 2010/10/04 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p59) 2010/10/02 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* Variable name cleanup from Dave Mills.\n* [Bug 1657] darwin needs res_9_init, not res_init.\n(4.2.7p58) 2010/09/30 Released by Harlan Stenn <stenn@ntp.org>\n* Clock select bugfix from Dave Mills.\n* [Bug 1554] peer may stay selected as system peer after becoming\n  unreachable.\n* [Bug 1644] from 4.2.6p3-RC3: cvo.sh should use lsb_release to identify\n  linux distros.\n* [Bug 1646] ntpd crashes with relative path to logfile.\n(4.2.7p57) 2010/09/27 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p56) 2010/09/25 Released by Harlan Stenn <stenn@ntp.org>\n* Clock combining algorithm improvements from Dave Mills.\n* Documentation updates from Dave Mills.\n* [Bug 1642] ntpdsim can't find simulate block in config file.\n* [Bug 1643] from 4.2.6p3-RC3: Range-check the decoding of the RIPE-NCC\n  status codes.\n(4.2.7p55) 2010/09/22 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* [Bug 1636] from 4.2.6p3-RC2: segfault after denied remote config.\n(4.2.7p54) 2010/09/21 Released by Harlan Stenn <stenn@ntp.org>\n* More Initial convergence improvements from Dave Mills.\n* Documentation updates from Dave Mills.\n* [Bug 1635] from 4.2.6p3-RC2: \"filegen ... enable\" is not default.\n(4.2.7p53) 2010/09/20 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* More Initial convergence improvements from Dave Mills.\n(4.2.7p52) 2010/09/19 Released by Harlan Stenn <stenn@ntp.org>\n* Initial convergence improvements from Dave Mills.\n(4.2.7p51) 2010/09/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1344] from 4.2.6p3-RC1: ntpd on Windows exits without logging\n  cause.\n* [Bug 1629] 4.2.7p50 configure.ac changes invalidate config.cache.\n* [Bug 1630] 4.2.7p50 cannot bootstrap on Autoconf 2.61.\n(4.2.7p50) 2010/09/16 Released by Harlan Stenn <stenn@ntp.org>\n* Cleanup NTP_LIB_M.\n* [Bug 1628] Clean up -lxnet/-lsocket usage for (open)solaris.\n(4.2.7p49) 2010/09/13 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p48) 2010/09/12 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.7p47) 2010/09/11 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* [Bug 1588] finish configure --disable-autokey implementation.\n* [Bug 1616] refclock_acts.c: if (pp->leap == 2) is always false.\n* [Bug 1620] [Backward Incompatible] \"discard minimum\" value should be in\n  seconds, not log2 seconds.\n(4.2.7p46) 2010/09/10 Released by Harlan Stenn <stenn@ntp.org>\n* Use AC_SEARCH_LIBS instead of AC_CHECK_LIB for NTP_LIB_M.\n(4.2.7p45) 2010/09/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1578] Consistently use -lm when needed.\n(4.2.7p44) 2010/08/27 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1573] from 4.2.6p3-beta1: Miscalculation of offset in sntp.\n(4.2.7p43) 2010/08/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1602] Refactor some of the sntp/ directory to facililtate testing.\n(4.2.7p42) 2010/08/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1593] ntpd abort in free() with logconfig syntax error.\n* [Bug 1595] from 4.2.6p3-beta1: empty last line in key file causes\n  duplicate key to be added\n* [Bug 1597] from 4.2.6p3-beta1: packet processing ignores RATE KoD packets,\n  Because of a bug in string comparison.\n(4.2.7p41) 2010/07/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1581] from 4.2.6p3-beta1: ntp_intres.c size_t printf format\n  string mismatch.\n* [Bug 1586] ntpd 4.2.7p40 doesn't write to syslog after fork on QNX.\n* Avoid race with parallel builds using same source directory in\n  scripts/genver by using build directory for temporary files.\n* orphanwait documentation updates.\n(4.2.7p40) 2010/07/12 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1395] ease ntpdate elimination with ntpd -w/--wait-sync\n* [Bug 1396] allow servers on ntpd command line like ntpdate\n(4.2.7p39) 2010/07/09 Released by Harlan Stenn <stenn@ntp.org>\n* Fix typo in driver28.html.\n* [Bug 1581] from 4.2.6p2: size_t printf format string mismatches, IRIG\n  string buffers undersized.  Mostly backported from earlier ntp-dev\n  fixes by Juergen Perlinger.\n(4.2.7p38) 2010/06/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1570] backported to 4.2.6p2-RC7.\n* [Bug 1575] from 4.2.6p2-RC7: use 'snprintf' with LIB_BUFLENGTH in\n  inttoa.c, tvtoa.c and utvtoa.c\n* [Bug 1576] backported to 4.2.6p2-RC7.\n* Typo fix in a comment in ntp_proto.c.\n(4.2.7p37) 2010/06/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1576] sys/sysctl.h depends on sys/param.h on OpenBSD.\n(4.2.7p36) 2010/06/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1560] Initial support for orphanwait, from Dave Mills.\n* clock_filter()/reachability fixes from Dave Mills.\n(4.2.7p35) 2010/06/12 Released by Harlan Stenn <stenn@ntp.org>\n* Rewrite of multiprecision macros in 'ntp_fp.h' from J. Perlinger\n  <perlinger@ntp.org>\n* [Bug 715] from 4.2.6p2-RC6: libisc Linux IPv6 interface iteration\n  drops multicast flags.\n(4.2.7p34) 2010/06/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1570] serial clock drivers get outdated input from kernel tty\n  line buffer after startup\n(4.2.7p33) 2010/06/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1561] from 4.2.6p2-RC5: ntpq, ntpdc \"passwd\" prompts for MD5\n  password w/SHA1.\n* [Bug 1565] from 4.2.6p2-RC5: sntp/crypto.c compile fails on MacOS over\n  vsnprintf().\n* from 4.2.6p2-RC5: Windows port: do not exit in\n  ntp_timestamp_from_counter() without first logging the reason.\n(4.2.7p32) 2010/05/19 Released by Harlan Stenn <stenn@ntp.org>\n* Copyright file cleanup from Dave Mills.\n* [Bug 1555] from 4.2.6p2-RC4: sntp illegal C (mixed code and\n  declarations).\n* [Bug 1558] pool prototype associations have 0.0.0.0 for remote addr.\n* configure.ac: add --disable-autokey, #define AUTOKEY to enable future\n  support for building without Autokey, but with OpenSSL for its digest\n  algorithms (hash functions).  Code must be modified to use #ifdef\n  AUTOKEY instead of #ifdef OPENSSL where appropriate to complete this.\n* include/ntp_crypto.h: make assumption AUTOKEY implies OPENSSL explicit.\n(4.2.7p31) 2010/05/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1325] from 4.2.6p2-RC3: unreachable code sntp recv_bcst_data().\n* [Bug 1459] from 4.2.6p2-RC3: sntp MD5 authentication does not work\n  with ntpd.\n* [Bug 1552] from 4.2.6p2-RC3: update and complete broadcast and crypto\n  features in sntp.\n* [Bug 1553] from 4.2.6p2-RC3: sntp/configure.ac OpenSSL support.\n* from 4.2.6p2-RC3: Escape unprintable characters in a refid in ntpq -p\n  billboard.\n* from 4.2.6p2-RC3: Simplify hash client code by providing OpenSSL\n  EVP_*() API when built without OpenSSL.  (already in 4.2.7)\n* from 4.2.6p2-RC3: Do not depend on ASCII in sntp.\n(4.2.7p30) 2010/05/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1526] ntpd DNS pipe read EINTR with no network at startup.\n* Update the ChangeLog entries when merging items from -stable.\n(4.2.7p29) 2010/05/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1542] ntpd mrulist response may have incorrect last.older.\n* [Bug 1543] ntpq mrulist must refresh nonce when retrying.\n* [Bug 1544] ntpq mrulist sscanf timestamp format mismatch on 64-bit.\n* Windows compiling hints/winnt.html update from G. Sunil Tej.\n(4.2.7p28) 2010/05/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1512] from 4.2.6p2-RC3: ntpsnmpd should connect to net-snmpd\n  via a unix-domain socket by default.\n  Provide a command-line 'socket name' option.\n* [Bug 1538] from 4.2.6p2-RC3: update refclock_nmea.c's call to\n  getprotobyname().\n* [Bug 1541] from 4.2.6p2-RC3: Fix wrong keyword for \"maxclock\".\n(4.2.7p27) 2010/04/27 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.7p26) 2010/04/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1465] from 4.2.6p2-RC2: Make sure time from TS2100 is not\n  invalid (backport from -dev).\n* [Bug 1528] from 4.2.6p2-RC2: Fix EDITLINE_LIBS link order for ntpq\n  and ntpdc.\n* [Bug 1531] Require nonce with mrulist requests.\n* [Bug 1532] Remove ntpd support for ntpdc's monlist in favor of ntpq's\n  mrulist.\n* [Bug 1534] from 4.2.6p2-RC2: conflicts with VC++ 2010 errno.h.\n* [Bug 1535] from 4.2.6p2-RC2: \"restrict -4 default\" and \"restrict\n  -6 default\" ignored.\n(4.2.7p25) 2010/04/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1528] from 4.2.6p2-RC2: Remove --with-arlib from br-flock.\n* [Bug 1503] [Bug 1504] [Bug 1518] [Bug 1522] from 4.2.6p2-RC2:\n  all of which were fixed in 4.2.7 previously. \n(4.2.7p24) 2010/04/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1390] Control PPS on the Oncore M12.\n* [Bug 1518] Windows ntpd should lock to one processor more\n  conservatively.\n* [Bug 1520] '%u' formats for size_t gives warnings with 64-bit builds.\n* [Bug 1522] Enable range syntax \"trustedkey (301 ... 399)\".\n* Documentation updates for 4.2.7p22 changes and additions, updating\n  ntpdc.html, ntpq.html, accopt.html, confopt.html, manyopt.html,\n  miscopt.html, and miscopt.txt.\n* accopt.html: non-ntpport doc changes from Dave Mills.\n* Modify full MRU list preemption when full to match \"discard monitor\"\n  documentation, by removing exception for count == 1.\n(4.2.7p23) 2010/04/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1516] unpeer by IP address fails, DNS name works.\n* [Bug 1517] ntpq and ntpdc should verify reverse DNS before use.\n  ntpq and ntpdc now use the following format for showing purported\n  DNS names from IP address \"reverse\" DNS lookups when the DNS name\n  does not exist or does not include the original IP address among\n  the results: \"192.168.1.2 (fake.dns.local)\".\n(4.2.7p22) 2010/04/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1432] Don't set inheritable flag for linux capabilities.\n* [Bug 1465] Make sure time from TS2100 is not invalid.\n* [Bug 1483] AI_NUMERICSERV undefined in 4.2.7p20.\n* [Bug 1497] fudge is broken by getnetnum() change.\n* [Bug 1503] Auto-enabling of monitor for \"restrict ... limited\" wrong.\n* [Bug 1504] ntpdate tickles ntpd \"discard minimum 1\" rate limit if\n  \"restrict ... limited\" is used.\n* ntpdate: stop querying source after KoD packet response, log it.\n* ntpdate: rate limit each server to 2s between packets.\n* From J. N. Perlinger: avoid pointer wraparound warnings in dolfptoa(),\n  printf format mismatches with 64-bit size_t.\n* Broadcast client (ephemeral) associations should be demobilized only\n  if they are not heard from for 10 consecutive polls, regardless of\n  surviving the clock selection.  Fix from David Mills.\n* Add \"ntpq -c ifstats\" similar to \"ntpdc -c ifstats\".\n* Add \"ntpq -c sysstats\" similar to \"ntpdc -c sysstats\".\n* Add \"ntpq -c monstats\" to show monlist knobs and stats.\n* Add \"ntpq -c mrulist\" similar to \"ntpdc -c monlist\" but not\n  limited to 600 rows, and with filtering and sorting options:\n  ntpq -c \"mrulist mincount=2 laddr=192.168.1.2 sort=-avgint\"\n  ntpq -c \"mrulist sort=addr\"\n  ntpq -c \"mrulist mincount=2 sort=count\"\n  ntpq -c \"mrulist sort=-lstint\"\n* Modify internal representation of MRU list to use l_fp fixed-point\n  NTP timestamps instead of seconds since startup.  This increases the\n  resolution and substantially improves accuracy of sorts involving\n  timestamps, at the cost of flushing all MRU entries when the clock is\n  stepped, to ensure the timestamps can be compared with the current\n  get_systime() results.\n* Add ntp.conf \"mru\" directive to configure MRU parameters, such as\n  \"mru mindepth 600 maxage 64 maxdepth 5000 maxmem 1024\" or\n  \"mru initalloc 0 initmem 16 incalloc 99 incmem 4\".  Several pairs are\n  equivalent with one in units of MRU entries and its twin in units of\n  kilobytes of memory, so the last one used in ntp.conf controls:\n  maxdepth/maxmem, initalloc/initmem, incalloc/incmem.  With the above\n  values, ntpd will preallocate 16kB worth of MRU entries, allocating\n  4kB worth each time more are needed, with a hard limit of 1MB of MRU\n  entries.  Until there are more than 600 entries none would be reused.\n  Then only entries for addresses last seen 64 seconds or longer ago are\n  reused.\n* Limit \"ntpdc -c monlist\" response in ntpd to 600 entries, the previous\n  overall limit on the MRU list depth which was driven by the monlist\n  implementation limit of one request with a single multipacket\n  response.\n* New \"pool\" directive implementation modeled on manycastclient.\n* Do not abort on non-ASCII characters in ntp.conf, ignore them.\n* ntpq: increase response reassembly limit from 24 to 32 packets, add\n  discussion in comment regarding results with even larger MAXFRAGS.\n* ntpq: handle \"passwd MYPASSWORD\" (without prompting) as with ntpdc.\n* ntpdc: do not examine argument to \"passwd\" if not supplied.\n* configure: remove check for pointer type used with qsort(), we\n  require ANSI C which mandates void *.\n* Reset sys_kodsent to 0 in proto_clr_stats().\n* Add sptoa()/sockporttoa() similar to stoa()/socktoa() adding :port.\n* Use memcpy() instead of memmove() when buffers can not overlap.\n* Remove sockaddr_storage from our sockaddr_u union of sockaddr,\n  sockaddr_in, and sockaddr_in6, shaving about 100 bytes from its size\n  and substantially decreasing MRU entry memory consumption.\n* Extend ntpq readvar (alias rv) to allow fetching up to three named\n  variables in one operation:  ntpq -c \"rv 0 version offset frequency\".\n* ntpq: use srchost variable to show .POOL. prototype associations'\n  hostname instead of address 0.0.0.0.\n* \"restrict source ...\" configures override restrictions for time\n  sources, allows tight default restrictions to be used with the pool\n  directive (where server addresses are not known in advance).\n* Ignore \"preempt\" modifier on manycastclient and pool prototype\n  associations.  The resulting associations are preemptible, but the\n  prototype must not be.\n* Maintain and use linked list of associations (struct peer) in ntpd,\n  avoiding walking 128 hash table entries to iterate over peers.\n* Remove more workarounds unneeded since we require ISO C90 AKA ANSI C:\n  - remove fallback implementations for memmove(), memset, strstr().\n  - do not test for atexit() or memcpy().\n* Collapse a bunch of code duplication in ntpd/ntp_restrict.c added with\n  support for IPv6.\n* Correct some corner case failures in automatically enabling the MRU\n  list if any \"restrict ... limited\" is in effect, and in disabling MRU\n  maintenance. (ntp_monitor.c, ntp_restrict.c)\n* Reverse the internal sort order of the address restriction lists, but\n  preserve the same behavior.  This allows removal of special-case code\n  related to the default restrictions and more straightforward lookups\n  of restrictions for a given address (now, stop on first match).\n* Move ntp_restrict.c MRU doubly-linked list maintenance code into\n  ntp_lists.h macros, allowing more duplicated source excision.\n* Repair ntpdate.c to no longer test HAVE_TIMER_SETTIME.\n* Do not reference peer_node/unpeer_node after freeing when built with\n  --disable-saveconfig and using DNS.\n(4.2.7p21) 2010/03/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1514] from 4.2.6p1-RC6: Typo in ntp_proto.c: fabs(foo < .4)\n  should be fabs(foo) < .4.\n* [Bug 1464] from 4.2.6p1-RC6: synchronization source wrong for\n  refclocks ARCRON_MSF (27) and SHM (28).\n* From 4.2.6p1-RC6: Correct Windows port's refclock_open() to\n  return 0 on failure not -1.\n* From 4.2.6p1-RC6: Correct CHU, dumbclock, and WWVB drivers to\n  check for 0 returned from refclock_open() on failure.\n* From 4.2.6p1-RC6: Correct \"SIMUL=4 ./flock-build -1\" to\n  prioritize -1/--one.\n* [Bug 1306] constant conditionals in audio_gain().\n(4.2.7p20) 2010/02/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1483] hostname in ntp.conf \"restrict\" parameter rejected.\n* Use all addresses for each restrict by hostname.\n* Use async DNS to resolve trap directive hostnames.\n(4.2.7p19) 2010/02/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1338] Update the association type codes in ntpq.html.\n* [Bug 1478] from 4.2.6p1-RC5: linking fails: EVP_MD_pkey_type.\n* [Bug 1479] from 4.2.6p1-RC5: not finding readline headers.\n* [Bug 1484] from 4.2.6p1-RC5: ushort is not defined in QNX6.\n(4.2.7p18) 2010/02/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1480] from 4.2.6p1-RC5: snprintf() cleanup caused \n  unterminated refclock IDs.\n* Stop using getaddrinfo() to convert numeric address strings to on-wire\n  addresses in favor of is_ip_address() alone.\n(4.2.7p17) 2010/02/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1477] from 4.2.6p1-RC5: First non-gmake make in clone\n  w/VPATH can't make COPYRIGHT.\n* Attempts to cure CID 108 CID 118 CID 119 TAINTED_SCALAR warnings.\n* Broaden ylwrap workaround VPATH_HACK to all non-GNU make.\n(4.2.7p16) 2010/02/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1474] from 4.2.6p1-RC4: ntp_keygen LCRYPTO after libntp.a.\n* Include 4.2.6p1-RC4: Remove arlib.\n(4.2.7p15) 2010/02/03 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1455] from 4.2.6p1: ntpd does not try /etc/ntp.audio.\n* Include 4.2.6p1: Convert many sprintf() calls to snprintf(), also\n  strcpy(), strcat().\n* Include 4.2.6p1: Fix widely cut-n-pasted bug in refclock shutdown\n  after failed start.\n* Include 4.2.6p1: Remove some dead code checking for emalloc()\n  returning NULL.\n(4.2.7p14) 2010/02/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1338] ntpq displays incorrect association type codes.\n* [Bug 1469] u_int32, int32 changes broke HP-UX 10.20 build.\n* [Bug 1470] from 4.2.6p1: \"make distdir\" compiles keyword-gen.\n* [Bug 1471] CID 120 CID 121 CID 122 is_ip_address() uninit family.\n* [Bug 1472] CID 116 CID 117 minor warnings in new DNS code.\n* [Bug 1473] from 4.2.6p1: \"make distcheck\" version.m4 error.\n(4.2.7p13) 2010/01/31 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1467] from 4.2.6p1: Fix bogus rebuild of sntp/sntp.html.\n(4.2.7p12) 2010/01/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1468] 'make install' broken for root on default NFS mount.\n(4.2.7p11) 2010/01/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 47] Debugging and logging do not work after a fork.\n* [Bug 1010] getaddrinfo() could block and thus should not be called by\n  the main thread/process.\n* New async DNS resolver in ntpd allows nonblocking queries anytime,\n  instead of only once at startup.\n(4.2.7p10) 2010/01/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1140] from 4.2.6p1-RC5: Clean up debug.html, decode.html,\n  and ntpq.html.\n* Include 4.2.6p1-RC3: Use TZ=UTC instead of TZ= when calling date in\n  scripts/mkver.in .\n* [Bug 1448] from 4.2.6p1-RC3: Some macros not correctly conditionally\n  or absolutely defined on Windows.\n* [Bug 1449] from 4.2.6p1-RC3: ntpsim.h in ntp_config.c should be used\n  conditionally.\n* [Bug 1450] from 4.2.6p1-RC3: Option to exclude warnings not\n  unconditionally defined on Windows.\n(4.2.7p9) 2010/01/13 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.7p8) 2010/01/12 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 702] ntpd service logic should use libopts to examine cmdline.\n* [Bug 1451] from 4.2.6p1-RC3: sntp leaks KoD entry updating.\n* [Bug 1453] from 4.2.6p1-RC3: Use $CC in config.cache filename.\n(4.2.7p7) 2009/12/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 620] ntpdc getresponse() esize != *rsize s/b size != *rsize.\n* [Bug 1446] 4.2.7p6 requires autogen, missing ntpd.1, *.texi, *.menu.\n(4.2.7p6) 2009/12/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1443] Remove unnecessary dependencies on ntp_io.h\n* [Bug 1442] Move Windows functions into libntp files\n* [Bug 1127] from 4.2.6p1-RC3: Check the return of X590_verify().\n* [Bug 1439] from 4.2.6p1-RC3: .texi gen after binary is linked.\n* [Bug 1440] from 4.2.6p1-RC3: Update configure.ac to support kfreebsd.\n* [Bug 1445] from 4.2.6p1-RC3: IRIX does not have -lcap or support\n  linux capabilities.\n(4.2.7p5) 2009/12/25 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.6p1-RC2\n(4.2.7p4) 2009/12/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1429] ntpd -4 option does not reliably force IPv4 resolution.\n* [Bug 1431] System headers must come before ntp headers in ntp_intres.c .\n(4.2.7p3) 2009/12/22 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1426] scripts/VersionName needs . on the search path.\n* [Bug 1427] quote missing in ./build - shows up on NetBSD.\n* [Bug 1428] Use AC_HEADER_RESOLV to fix breaks from resolv.h\n(4.2.7p2) 2009/12/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1419] ntpdate, ntpdc, sntp, ntpd ignore configure --bindir.\n* [Bug 1421] add util/tg2, a clone of tg that works on Linux, NetBSD, and\n  FreeBSD\n(4.2.7p1) 2009/12/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1348] ntpd Windows port should wait for sendto() completion.\n* [Bug 1413] test OpenSSL headers regarding -Wno-strict-prototypes.\n* [Bug 1418] building ntpd/ntpdc/ntpq statically with ssl fails.\n(4.2.7p0) 2009/12/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1412] m4/os_cflags.m4 caches results that depend on $CC.\n* [Bug 1414] Enable \"make distcheck\" success with BSD make.\n(4.2.7) 2009/12/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1407] configure.ac: recent GNU Make -v does not include \"version\".\n---\n(4.2.6p5) 2011/12/24 Released by Harlan Stenn <stenn@ntp.org>\n\nNo changes from 4.2.6p5-RC3.\n\n---\n(4.2.6p5-RC3) 2011/12/08 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 2082] 3-char refid sent by ntpd 4.2.6p5-RC2 ends with extra dot.\n* [Bug 2085] clock_update() sys_rootdisp calculation omits root delay.\n* [Bug 2086] get_systime() should not offset by sys_residual.\n* [Bug 2087] sys_jitter calculation overweights sys.peer jitter.\n* Ensure NULL peer->dstadr is not accessed in orphan parent selection.\n\n---\n(4.2.6p5-RC2) 2011/11/30 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 2050] Orphan mode stratum counting to infinity.\n* [Bug 2059] optional billboard column \"server\" does not honor -n.\n* [Bug 2066] ntpq lopeers ipv6 \"local\" column overrun.\n* [Bug 2068] ntpd sends nonprintable stratum 16 refid to ntpq.\n* [Bug 2069] broadcastclient, multicastclient spin up duplicate\n  ephemeral associations without broadcastdelay.\n* [Bug 2072] Orphan parent selection metric needs ntohl().\n* Exclude not-yet-determined sys_refid from use in loopback TEST12\n  (from David Mills).\n* Never send KoD rate limiting response to MODE_SERVER response.\n\n---\n(4.2.6p5-RC1) 2011/10/18 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 2034] Listening address configuration with prefix misapplied.\n\n---\n(4.2.6p4) 2011/09/22 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1984] ntp/libisc fails to compile on OS X 10.7 (Lion).\n* [Bug 1985] \"logconfig =allall\" rejected.\n* [Bug 2001] ntpdc timerstats reports overruns as handled.\n* [Bug 2003] libntpq ntpq_read_assoc_peervars() broken.\n* [Backward Incompatible] sntp: -l/--filelog -> -l/--logfile, to be\n  consistent with ntpd.\n* libopts/file.c fix from Bruce Korb (arg-type=file).\n\n---\n(4.2.6p4-RC2) 2011/08/04 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1608] Parse Refclock driver should honor trusttime.\n* [Bug 1961] html2man update: distribute ntp-wait.html.\n* [Bug 1970] UNLINK_EXPR_SLIST() causes crash if list is empty.\n* [Bug 1972] checking for struct rtattr fails.\n* [Bug 1975] libntp/mktime.c won't work with 64-bit time_t\n* [Bug 1978] [Bug 1134] fix in 4.2.6p4-RC1 doesn't build on older Linux.\n* Backport several fixes for Coverity warnings from ntp-dev.\n* Backport if_nametoindex() check for hpux.\n\n---\n(4.2.6p4-RC1) 2011/07/10 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1134] ntpd fails binding to tentative IPv6 addresses.\n* [Bug 1790] Update config.guess and config.sub to detect AIX6.\n* [Bug 1961] html2man needs an update.\n* Update the NEWS file.\n\n---\n(4.2.6p4-beta2) 2011/05/25 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1695] ntpdate takes longer than necessary.\n* [Bug 1832] ntpdate doesn't allow timeout > 2s.\n* [Bug 1933] WWVB/Spectracom driver timestamps LFs, not CRs.\n* Backport utility routines from ntp-dev: mprintf(), emalloc_zero().\n\n---\n(4.2.6p4-beta1) 2011/05/16 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1554] peer may stay selected as system peer after becoming\n  unreachable.\n* [Bug 1921] LOCAL, ACTS drivers with \"prefer\" excluded from initial\n  candidate list.\n* [Bug 1923] orphan parent favored over LOCAL, ACTS drivers.\n* [Bug 1924] Billboard tally codes sometimes do not match operation,\n  variables.\n* Enable tickadj-like taming of wildly off-spec Windows clock using\n  NTPD_TICKADJ_PPM env. var. specifying baseline slew.\n* Upgrade to AutoGen 5.11.9 (and require it).\n* Upgrade to libopts 35.0.10 from AutoGen 5.11.9pre8.\n\n---\n(4.2.6p3) 2011/01/03 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1764] Palisade driver doesn't build on Linux\n* Create and use scripts/check--help when generating .texi files.\n* Update bk triggers for the bk-5 release.\n* Update genCommitLog for the bk-5 release.\n* Update the copyright year.\n\n---\n(4.2.6p3-RC12) 2010/12/25 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1458] Can not compile NTP on FreeBSD 4.7.\n* [Bug 1510] Add modes 20/21 for driver 8 to support RAWDCF @ 75 baud.\n* [Bug 1618] Unreachable code in jjy_start(). (backport from ntp-dev)\n* [Bug 1719] ntp-keygen -V crash. (backport)\n* [Bug 1740] ntpdc treats many counters as signed. (backport)\n* [Bug 1741] Enable multicast reception on each address (Windows).\n* [Bug 1742] Fix a typo in an error message in the \"build\" script.\n* [Bug 1743] Display timezone offset when showing time for sntp in the\nlocal timezone.\n* [Bug 1751] Support for Atari FreeMiNT OS.\n* [Bug 1754] --version output should be more verbose.\n* [Bug 1757] oncore snprintf(\"%m\") doesn't expand %m.\n* [Bug 1758] setsockopt IPV6_MULTICAST_IF with wrong ifindex.\n* [Bug 1760] ntpd Windows interpolation cannot be disabled.\n* [Bug 1762] manycastclient solicitation responses interfere.\n* Upgrade to libopts 34.0.9 from AutoGen 5.11.6pre7.\n* Relax minimum Automake version to 1.10 with updated libopts.m4.\n* Suppress ntp-keygen OpenSSL version display for --help, --version,\ndisplay both build and runtime OpenSSL versions when they differ.\n* Clean up m4 quoting in configure.ac, *.m4 files, resolving\n  intermittent AC_LANG_PROGRAM possibly undefined errors.\n* Clean up the SNTP documentation.\n* Other manycastclient repairs:\n  Separate handling of scope ID embedded in many in6_addr from ifindex\n  used for IPv6 multicasting ioctls.\n  Add INT_PRIVACY endpt bit flag for IPv6 RFC 4941 privacy addresses.\n  Enable outbound multicast from only one address per interface in the\n  same subnet, and in that case prefer embedded MAC address modified\n  EUI-64 IPv6 addresses first, then static, and last RFC 4941 privacy\n  addresses.\n  Use setsockopt(IP[V6]_MULTICAST_IF) before each send to multicast to\n  select the local source address, using the correct socket is not\n  enough.\n\n---\n(4.2.6p3-RC11) 2010/11/28 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1725] ntpd sends multicast from only one address.\n* [Bug 1728] In ntp_openssl.m4, don't add -I/usr/include or -L/usr/lib\n  to CPPFLAGS or LDFLAGS.\n* [Bug 1733] IRIX doesn't have 'head' (affects scripts/checkChangeLog).\n* Remove log_msg() and debug_msg() from sntp in favor of msyslog().\n* Use a single copy of libopts/, in sntp/.\n* Upgrade libopts to 33.3.8.\n* Bump minimum Automake version to 1.11, required for AM_COND_IF\n  use in LIBOPTS_CHECK.\n* Improvements to the 'build' script.\n\n---\n(4.2.6p3-RC10) 2010/11/14 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1681] More sntp logging cleanup.\n* [Bug 1683] Non-localhost on loopback exempted from nic rules.\n\n---\n(4.2.6p3-RC9) 2010/11/10 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1574] sntp:set_time doesn't set tv_usec correctly.\n* [Bug 1681] sntp logging cleanup.\n* [Bug 1683] Interface binding does not seem to work as intended.\n* [Bug 1691] Use first NMEA sentence each second.\n* [Bug 1692] packageinfo.sh needs to be \"sourced\" using ./ .\n* [Bug 1709] ntpdate ignores replies with equal receive and transmit\n  timestamps.\n* Backport sntp from -dev\n\n---\n(4.2.6p3-RC8) 2010/10/29 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1685] NMEA driver mode byte confusion.\n* First cut at using scripts/checkChangeLog.\n\n---\n(4.2.6p3-RC7) 2010/10/25 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1676] NMEA: $GPGLL did not work after fix for Bug 1571.\n* Added scripts/checkChangeLog.\n\n---\n(4.2.6p3-RC6) 2010/10/24 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1571] NMEA does not relate data to PPS edge.\n* [Bug 1572] NMEA time adjustment for GPZDG buggy.\n* [Bug 1675] Prohibit includefile remote config.\n\n---\n(4.2.6p3-RC5) 2010/10/22 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1649] Require NMEA checksum if $GPRMC or previously seen.\n* [Bug 1669] NTP 4.2.6p2 fails to compile on IBM AIX 5.3.\n\n---\n(4.2.6p3-RC4) 2010/10/16 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1584] wrong SNMP type for precision, resolution.\n* [Bug 1659] Need CLOCK_TRUETIME not CLOCK_TRUE.\n* [Bug 1665] is_anycast() u_int32_t should be u_int32.\n* ntpsnmpd, libntpq warning cleanup.\n\n---\n(4.2.6p3-RC3) 2010/10/14 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 750] Non-existing device causes coredump with RIPE-NCC driver.\n* [Bug 1080] ntpd on ipv6 routers very chatty.\n* [Bug 1567] Support Arbiter 1093C Satellite Clock on Windows.\n* [Bug 1581] printf format string mismatch leftover.\n* [Bug 1584] ntpsnmpd OID must be mib-2.197.\n* [Bug 1643] Range-check the decoding of the RIPE-NCC status codes.\n* [Bug 1644] cvo.sh should use lsb_release to identify linux distros.\n* [Bug 1659] Support Truetime Satellite Clocks on Windows.\n* [Bug 1660] On some systems, test is in /usr/bin, not /bin.\n* [Bug 1661] Re-indent refclock_ripencc.c.\n\n---\n(4.2.6p3-RC2) 2010/09/25 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1635] \"filegen ... enable\" is not default.\n* [Bug 1636] yyparse() segfault after denied filegen remote config.\n\n---\n(4.2.6p3-RC1) 2010/09/18 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1344] ntpd on Windows exits without logging cause.\n\n---\n(4.2.6p3-beta1) 2010/09/11 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1573] Miscalculation of offset in sntp.\n* [Bug 1595] empty last line in key file causes duplicate key to be added\n* [Bug 1597] packet processing ignores RATE KoD packets, because of\n  a bug in string comparison.\n* [Bug 1581] ntp_intres.c size_t printf format string mismatch.\n\n---\n(4.2.6p2) 2010/07/09 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1581] size_t printf format string mismatches, IRIG string buffers\n  undersized.  Mostly backported from earlier ntp-dev fixes by Juergen\n  Perlinger.\n\n---\n(4.2.6p2-RC7) 2010/06/19 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1570] serial clock drivers get outdated input from kernel tty\n  line buffer after startup\n* [Bug 1575] use 'snprintf' with LIB_BUFLENGTH in inttoa.c, tvtoa.c and\n  utvtoa.c\n* [Bug 1576] sys/sysctl.h depends on sys/param.h on OpenBSD.\n\n---\n(4.2.6p2-RC6) 2010/06/12 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 715] libisc Linux IPv6 interface iteration drops multicast flags.\n\n---\n(4.2.6p2-RC5) 2010/06/03 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1561] ntpq, ntpdc \"passwd\" prompts for MD5 password w/SHA1.\n* [Bug 1565] sntp/crypto.c compile fails on MacOS over vsnprintf().\n* Windows port: do not exit in ntp_timestamp_from_counter() without\n  first logging the reason.\n* Support \"passwd blah\" syntax in ntpq.\n\n---\n(4.2.6p2-RC4) 2010/05/19 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1555] 4.2.6p2-RC3 sntp illegal C (mixed code and declarations).\n\n---\n(4.2.6p2-RC3) 2010/05/11 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1325] unreachable code in sntp recv_bcst_data().\n* [Bug 1459] sntp MD5 authentication does not work with ntpd.\n* [Bug 1512] ntpsnmpd should connect to net-snmpd via a unix-domain\n  socket by default.  Provide a command-line 'socket name' option.\n* [Bug 1538] update refclock_nmea.c's call to getprotobyname().\n* [Bug 1541] Fix wrong keyword for \"maxclock\".\n* [Bug 1552] update and complete broadcast and crypto features in sntp.\n* [Bug 1553] sntp/configure.ac OpenSSL support.\n* Escape unprintable characters in a refid in ntpq -p billboard.\n* Simplify hash client code by providing OpenSSL EVP_*() API when built\n  without OpenSSL.  (from ntp-dev)\n* Do not depend on ASCII values for ('A' - '0'), ('a' - '0') in sntp.\n* Windows compiling hints/winnt.html update from G. Sunil Tej.\n\n---\n(4.2.6p2-RC2) 2010/04/27 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1465] Make sure time from TS2100 is not invalid (backport from\n  ntp-dev).\n* [Bug 1528] Fix EDITLINE_LIBS link order for ntpq and ntpdc.\n* [Bug 1534] win32/include/isc/net.h conflicts with VC++ 2010 errno.h.\n* [Bug 1535] \"restrict -4 default\" and \"restrict -6 default\" ignored.\n* Remove --with-arlib from br-flock.\n\n---\n(4.2.6p2-RC1) 2010/04/18 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1503] Auto-enabling of monitor for \"restrict ... limited\" wrong.\n* [Bug 1504] ntpdate tickles ntpd \"discard minimum 1\" rate limit if\n  \"restrict ... limited\" is used.\n* [Bug 1518] Windows ntpd should lock to one processor more\n  conservatively.\n* [Bug 1522] Enable range syntax \"trustedkey (301 ... 399)\".\n* Update html/authopt.html controlkey, requestkey, and trustedkey docs.\n\n---\n(4.2.6p1) 2010/04/09 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.6p1-RC6) 2010/03/31 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1514] Typo in ntp_proto.c: fabs(foo < .4) should be fabs(foo) < .4.\n* [Bug 1464] synchronization source wrong for refclocks ARCRON_MSF (27)\n  and SHM (28).\n* Correct Windows port's refclock_open() to return 0 on failure not -1.\n* Correct CHU, dumbclock, and WWVB drivers to check for 0 returned from\n  refclock_open() on failure.\n* Correct \"SIMUL=4 ./flock-build -1\" to prioritize -1/--one.\n\n---\n(4.2.6p1-RC5) 2010/02/09 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1140] Clean up debug.html, decode.html, and ntpq.html.\n* [Bug 1438] Remove dead code from sntp/networking.c.\n* [Bug 1477] 1st non-gmake make in clone w/VPATH can't make COPYRIGHT.\n* [Bug 1478] linking fails with undefined reference EVP_MD_pkey_type.\n* [Bug 1479] Compilation fails because of not finding readline headers.\n* [Bug 1480] snprintf() cleanup caused unterminated refclock IDs.\n* [Bug 1484] ushort is not defined in QNX6.\n\n---\n(4.2.6p1-RC4) 2010/02/04 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1455] ntpd does not try /etc/ntp.audio as documented.\n* [Bug 1467] Fix bogus rebuild of sntp/sntp.html\n* [Bug 1470] \"make distdir\" in $srcdir builds keyword-gen, libntp.a.\n* [Bug 1473] \"make distcheck\" before build can't make sntp/version.m4.\n* [Bug 1474] ntp_keygen needs LCRYPTO after libntp.a.\n* Convert many sprintf() calls to snprintf(), also strcpy(), strcat().\n* Fix widely cut-n-pasted bug in refclock shutdown after failed start.\n* Remove some dead code checking for emalloc() returning NULL.\n* Remove arlib.\n\n---\n(4.2.6p1-RC3) 2010/01/24 Released by Harlan Stenn <stenn@ntp.org>\n\n* Use TZ=UTC instead of TZ= when calling date in scripts/mkver.in .\n* [Bug 1448] Some macros not correctly conditionally or absolutely defined\n  on Windows.\n* [Bug 1449] ntpsim.h in ntp_config.c should be used conditionally.\n* [Bug 1450] Option to exclude warnings not unconditionally defined on Windows.\n* [Bug 1127] Properly check the return of X590_verify() - missed one.\n* [Bug 1439] .texi generation must wait until after binary is linked.\n* [Bug 1440] Update configure.ac to support kfreebsd.\n* [Bug 1445] IRIX does not have -lcap or support linux capabilities.\n* [Bug 1451] CID 115: sntp leaks KoD entry when updating existing.\n* [Bug 1453] Use $CC in config.cache filename in ./build script.\n\n---\n(4.2.6p1-RC2) 2009/12/25 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1411] Fix status messages in refclock_oncore.c.\n* [Bug 1416] MAXDNAME undefined on Solaris 2.6.\n* [Bug 1419] ntpdate, ntpdc, sntp, ntpd ignore configure --bindir.\n* [Bug 1424] Fix check for rtattr (rtnetlink.h).\n* [Bug 1425] unpeer by association ID sets up for duplicate free().\n* [Bug 1426] scripts/VersionName needs . on the search path.\n* [Bug 1427] quote missing in ./build - shows up on NetBSD.\n* [Bug 1428] Use AC_HEADER_RESOLV to fix breaks from resolv.h\n* [Bug 1429] ntpd -4 option does not reliably force IPv4 resolution.\n* [Bug 1431] System headers must come before ntp headers in ntp_intres.c .\n* [Bug 1434] HP-UX 11 ip_mreq undeclared, _HPUX_SOURCE helps some.\n* [Bug 1435] sntp: Test for -lresolv using the same tests as in ntp.\n\n---\n(4.2.6p1-RC1) 2009/12/20 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1409] Put refclock_neoclock4x.c under the NTP COPYRIGHT notice.\n  This should allow debian and other distros to add this refclock driver\n  in further distro releases.\n  Detect R2 hardware releases.\n* [Bug 1412] m4/os_cflags.m4 caches results that depend on $CC.\n* [Bug 1413] test OpenSSL headers regarding -Wno-strict-prototypes.\n* [Bug 1414] Enable \"make distcheck\" success with BSD make.\n* [Bug 1415] Fix Mac OS X link problem.\n* [Bug 1418] building ntpd/ntpdc/ntpq statically with ssl fails.\n* Build infrastructure updates to enable beta releases of ntp-stable.\n\n---\n(4.2.6) 2009/12/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Sec 1331] from4.2.4p8: DoS with mode 7 packets - CVE-2009-3563.\n* [Bug 508] Fixed leap second handling for Windows.\n(4.2.5p250-RC) 2009/11/30 Released by Harlan Stenn <stenn@ntp.org>\n* sntp documentation updates.\n* [Bug 761] internal resolver does not seem to honor -4/-6 qualifiers\n* [Bug 1386] Deferred DNS doesn't work on NetBSD\n* [Bug 1391] avoid invoking autogen twice for .c and .h files.\n* [Bug 1397] shmget() refclock_shm failing because of file mode.\n* Pass no_needed to ntp_intres as first part of fixing [Bug 975].\n* Add ./configure --enable-force-defer-DNS to help debugging.\n(4.2.5p249-RC) 2009/11/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1400] An empty KOD DB file causes sntp to coredump.\n* sntp: documentation cleanup.\n* sntp: clean up some error messages.\n* sntp: Use the precision to control how many offset digits are shown.\n* sntp: Show root dispersion.\n* Cleanup from the automake/autoconf upgrades.\n(4.2.5p248-RC) 2009/11/26 Released by Harlan Stenn <stenn@ntp.org>\n* Prepare for the generation of sntp.html.\n* Documentation changes from Dave Mills.\n* [Bug 1387] Storage leak in ntp_intres (minor).\n* [Bug 1389] buffer overflow in refclock_oncore.c\n* [Bug 1391] .texi usage text from installed, not built binaries.\n* [Bug 1392] intres retries duplicate assocations endlessly.\n* Correct *-opts.h dependency so default 'get' action isn't used.\n(4.2.5p247-RC) 2009/11/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1142] nodebug builds shed no light on -d, -D option failure.\n* [Bug 1179] point out the problem with -i/--jaildir and -u/--user when\n  they are disabled by configure.\n* [Bug 1308] support systems that lack fork().\n* [Bug 1343] sntp doesn't link on Solaris 7, needs -lresolv.\n(4.2.5p246-RC) 2009/11/17 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade to autogen-5.10\n* [Bug 1378] Unnecessary resetting of peers during interface update.\n* [Bug 1382] p245 configure --disable-dependency-tracking won't build.\n* [Bug 1384] ntpq :config core dumped with a blank password.\n(4.2.5p245-RC) 2009/11/14 Released by Harlan Stenn <stenn@ntp.org>\n* Cleanup from Dave Mills.\n* [Bug 1343] sntp illegal C does not compile on Solaris 7.\n* [Bug 1381] Version .deps generated include file dependencies to allow\n  known dependency-breaking changes to force .deps to be cleaned,\n  triggered by changing the contents of deps-ver and/or sntp/deps-ver.\n(4.2.5p244-RC) 2009/11/12 Released by Harlan Stenn <stenn@ntp.org>\n* keygen.html updates from Dave Mills.\n* [Bug 1003] ntpdc unconfig command doesn't prompt for keyid.\n* [Bug 1376] Enable authenticated ntpq and ntpdc using newly-available\n  digest types.\n* ntp-keygen, Autokey OpenSSL build vs. run version mismatch is now a\n  non-fatal warning.\n(4.2.5p243-RC) 2009/11/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1226] Fix deferred DNS lookups.\n* new crypto signature cleanup.\n(4.2.5p242-RC) 2009/11/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1363] CID 92 clarify fallthrough case in clk_trimtsip.c\n* [Bug 1366] ioctl(TIOCSCTTY, 0) fails on NetBSD *[0-2].* > 3.99.7.\n* [Bug 1368] typos in libntp --without-crypto case\n* [Bug 1371] deferred DNS lookup failing with INFO_ERR_AUTH.\n* CID 87 dead code in ntpq.c atoascii().\n* Fix authenticated ntpdc, broken in p240.\n* Stub out isc/mem.h, shaving 47k from a MIPS ntpd binary.\n* Shrink keyword scanner FSM entries from 64 to 32 bits apiece.\n* Documention updates from Dave Mills.\n* authkeys.c cleanup from Dave Mills.\n(4.2.5p241-RC) 2009/11/07 Released by Harlan Stenn <stenn@ntp.org>\n* html/authopt.html update from Dave Mills.\n* Remove unused file from sntp/Makefile.am's distribution list.\n* new crypto signature cleanup.\n(4.2.5p240-RC) 2009/11/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1364] clock_gettime() not detected, need -lrt on Debian 5.0.3.\n* Provide all of OpenSSL's signature methods for ntp.keys (FIPS 140-2).\n(4.2.5p239-RC) 2009/10/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1357] bogus assert from refclock_shm.\n* [Bug 1359] Debug message cleanup.\n* CID 101: more pointer/array cleanup.\n* [Bug 1356] core dump from refclock_nmea when can't open /dev/gpsU.\n* [Bug 1358] AIX 4.3 sntp/networking.c IPV6_JOIN_GROUP undeclared.\n* CID 101: pointer/array cleanup.\n(4.2.5p238-RC) 2009/10/27 Released by Harlan Stenn <stenn@ntp.org>\n* Changes from Dave Mills.\n* driver4.html updates from Dave Mills.\n* [Bug 1252] PPSAPI cleanup on ntpd/refclock_wwvb.c.\n* [Bug 1354] libtool error building after bootstrap with Autoconf 2.64.\n* Allow NTP_VPATH_HACK configure test to handle newer gmake versions.\n* CIDs 94-99 make it more clearly impossible for sock_hash() to return\n  a negative number.\n* CID 105, 106 ensure ntpdc arrays are not overrun even if callers\n  misbehave.\n* CID 113 use va_end() in refclock_true.c true_debug().\n* Get rid of configure tests for __ss_family and __ss_len when the more\n  common ss_family and ss_len are present.\n(4.2.5p237-RC) 2009/10/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 610] NMEA support for using PPSAPI on a different device.\n* [Bug 1238] use only fudge time2 to offset NMEA serial timestamp.\n* [Bug 1355] ntp-dev won't compile on OpenBSD 4.6.\n(4.2.5p236-RC) 2009/10/22 Released by Harlan Stenn <stenn@ntp.org>\n* Cleanup from Dave Mills.\n* [Bug 1343] ntpd/ntp_io.c close_fd() does not compile on Solaris 7.\n* [Bug 1353] ntpq \"rv 0 settimeofday\" always shows UNKNOWN on unix.\n* Do not attempt to execute built binaries from ntpd/Makefile when\n  cross-compiling (keyword-gen and ntpd --saveconfigquit).\n* sntp/main.c: Remove duplicate global adr_buf[] (also defined in\n  networking.c) which Piotr Grudzinski identified breaking his build.\n* Correct in6addr_any test in configure.ac to attempt link too.\n(4.2.5p235-RC) 2009/10/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1343] lib/isc build breaks on systems without IPv6 headers.\n(4.2.5p234-RC) 2009/10/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1339] redux, use unmodified lib/isc/win32/strerror.c and\n  move #define strerror... to a header not used by lib/isc code.\n* [Bug 1345] illegal 'grep' option prevents compilation.\n* [Bug 1346] keyword scanner broken where char defaults to unsigned.\n* [Bug 1347] ntpd/complete.conf missing multicastclient test case.\n(4.2.5p233-RC) 2009/10/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1337] cast setsockopt() v4 address pointer to void *.\n* [Bug 1342] ignore|drop one IPv6 address on an interface blocks all\n  addresses on that interface.\n* Documentation cleanup and updates.\n(4.2.5p232-RC) 2009/10/14 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1302] OpenSSL under Windows needs applink support.\n* [Bug 1337] fix incorrect args to setsockopt(fd, IP_MULTICAST_IF,...).\n* [Bug 1339] Fix Windows-only ntp_strerror() infinite recursion.\n* [Bug 1341] NMEA driver requires working PPSAPI #ifdef HAVE_PPSAPI.\n* Construct ntpd keyword scanner finite state machine at compile time\n  rather than at runtime, shrink entries from 40+ to 8 bytes.\n* Update documentation for ntpq --old-rv, saveconfig, saveconfigdir,\n  ntpd -I -L and -M, and interface/nic rules. (From Dave Hart)\n* [Bug 1337] fix incorrect args to setsockopt(fd, IP_MULTICAST_IF,...)\n(4.2.5p231-RC) 2009/10/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1335] Broadcast client degraded by wildcard default change.\n(4.2.5p230-RC) 2009/10/09 Released by Harlan Stenn <stenn@ntp.org>\n* Start the 4.2.6 Release Candidate cycle.\n* Broadcast and transit phase cleanup from Dave Mills.\n(4.2.5p229) 2009/10/07 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1334] ntpsnmpd undefined reference to `ntpqOptions'.\n* Change ntpsnmpd/Makefile.am include file order to fix FreeBSD build.\n(4.2.5p228) 2009/10/06 Released by Harlan Stenn <stenn@ntp.org>\n* Reclaim syntax tree memory after application in ntpd built with\n  configure --disable-saveconfig.\n* [Bug 1135] ntpq uses sizeof(u_long) where sizeof(u_int32) is meant.\n* [Bug 1333] ntpd --interface precedence over --novirtualips lost.\n(4.2.5p227) 2009/10/05 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1135] :config fails with \"Server disallowed request\"\n* [Bug 1330] disallow interface/nic rules when --novirtualips or\n  --interface are used.\n* [Bug 1332] ntpq -c 'rv 0 variablename' returns extra stuff.\n* Add test of ntpd --saveconfigquit fidelity using new complete.conf.\n* Documentation updates from Dave Hart/Dave Mills.\n(4.2.5p226) 2009/10/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1318] Allow multiple -g options on ntpd command line.\n* [Bug 1327] ntpq, ntpdc, ntp-keygen -d & -D should work with configure\n  --disable-debugging.\n* Add ntpd --saveconfigquit <filename> option for future build-time\n  testing of saveconfig fidelity.\n* Clockhop and autokey cleanup from Dave Mills.\n* Documentation updates from Dave Mills.\n(4.2.5p225) 2009/09/30 Released by Harlan Stenn <stenn@ntp.org>\n* authopt documentation changes from Dave Mills/Dave Hart.\n* [Bug 1324] support bracketed IPv6 numeric addresses for restrict.\n(4.2.5p224) 2009/09/29 Released by Harlan Stenn <stenn@ntp.org>\n* Clockhop and documentation fixes from Dave Mills.\n* Remove \"tos maxhop\" ntp.conf knob.\n(4.2.5p223) 2009/09/28 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1321] build doesn't work if . isn't on $PATH.\n* [Bug 1323] Implement \"revoke #\" to match documentation, deprecate\n  \"crypto revoke #\".\n(4.2.5p222) 2009/09/27 Released by Harlan Stenn <stenn@ntp.org>\n* Update libisc code using bind-9.6.1-P1.tar.gz, rearrange our copy to\n  mirror the upstream layout (lib/isc/...), and merge in NTP-local\n  modifications to libisc.  There is a new procedure to ease future\n  libisc merges using a separate \"upstream\" bk repo.  That will enable\n  normal bk pull automerge to handle carrying forward any local changes\n  and should enable us to take updated libisc snapshots more often.\n* Updated build and flock-build scripts.  flock-build --one is a way\n  to perform a flock-build compatible solitary build, handy for a repo\n  clone's first build on a machine with autoconf, automake, etc.\n* Compiling ntp_parser.y using BSD make correctly places ntp_parser.h\n  in the top-level ntpd directory instead of A.*/ntpd.\n* bootstrap script updated to remove potentially stale .deps dirs.\n* Remove unneeded Makefile.am files from the lib/isc/include tree.\n(4.2.5p221) 2009/09/26 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1316] segfault if refclock_nmea can't open file.\n* [Bug 1317] Distribute cvo.sh.\n(4.2.5p220) 2009/09/25 Released by Harlan Stenn <stenn@ntp.org>\n* Rearrange libisc code to match the upstream layout in BIND.  This is\n  step one of two, changing the layout but keeping our existing libisc.\n(4.2.5p219) 2009/09/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1315] \"interface ignore 0.0.0.0\" is ignored.\n* add implicit \"nic ignore all\" rule before any rules from ntp.conf, so\n  \"nic listen eth0\" alone means the same as \"-I eth0\".\n* add wildcard match class for interface/nic rules.\n* fix mistaken carryover of prefixlen from one rule to the next.\n* Ensure IPv6 localhost address ::1 is included in libisc's Windows IPv6\n  address enumeration, allowing ntpq and ntpdc's hardcoding to 127.0.0.1 \n  on Windows to end.\n(4.2.5p218) 2009/09/21 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1314] saveconfig emits -4 and -6 on when not given.\n* correct parsing and processing of setvar directive.\n* highlight location of ntpq :config syntax errors with ^.\n* clarify (former) NO_ARG, SINGLE_ARG, MULTIPLE_ARG renaming to\n  FOLLBY_TOKEN, FOLLBY_STRING, FOLLBY_STRINGS_TO_EOC.\n* parser, saveconfig cleanup to store T_ identifiers in syntax tree.\n(4.2.5p217) 2009/09/20 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1300] reject remote configuration of dangerous items.\n(4.2.5p216) 2009/09/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1312] ntpq/ntpdc MD5 passwords truncated to 8 chars on Suns.\n* CID 10 missing free(up); in refclock_palisade.c error return, again.\n* CID 83 added assertion to demonstrate config_nic_rules() does not\n  call strchr(NULL, '/').\n(4.2.5p215) 2009/09/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1292] Workaround last VC6 unsigned __int64 kink.\n(4.2.5p214) 2009/09/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1303] remove top-level \"autokey\" directive.\n* use \"nic listen 192.168.0.0/16\" instead of\n  \"nic listen 192.168.0.0 prefixlen 16\".\n(4.2.5p213) 2009/09/16 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1310] fix Thunderbolt mode in refclock_palisade.c\n(4.2.5p212) 2009/09/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 983] add interface [listen | ignore | drop] ... directive.\n* [Bug 1243] MD5auth_setkey zero-fills key from first zero octet.\n* [Bug 1295] leftover fix, do not crash on exit in free_config_trap()\n  when \"trap 1.2.3.4\" is used without any further options.\n* [Bug 1311] 4.2.5p211 doesn't build in no-debug mode.\n* document interface (alias nic) and unpeer.\n* Correct syntax error line & column numbers.\n* CID 79: kod_init_kod_db() fails to fclose(db_s) in two error paths.\n* CID 80: attempt to quiet Coverity false positive re: leaking \"reason\"\n  in main().\n* Documentation updates from Dave Mills.\n* CID 81: savedconfig leaked in save_config().\n* Make the code agree with the spec and the book (Dave Mills).\n(4.2.5p211) 2009/09/14 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 663] respect ntpq -c and -p order on command line.\n* [Bug 1292] more VC6 unsigned __int64 workarounds.\n* [Bug 1296] Added Support for Trimble Acutime Gold.\n(4.2.5p210) 2009/09/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1294] Use OPENSSL_INC and OPENSSL_LIB macros for Windows\n  and remove unnecessary reference to applink.c for Windows\n* [Bug 1295] trap directive options are not optional.\n* [Bug 1297] yylex() must always set yylval before returning.\n(4.2.5p209) 2009/09/01 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1290] Fix to use GETTIMEOFDAY macro\n* [Bug 1289] Update project files for VC6, VS2003, VS2005, VS 2008\n(4.2.5p208) 2009/08/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1293] make configuration dumper ready for release, specifically:\n* rename ntpq dumpcfg command to \"saveconfig\".\n* require authentication for saveconfig.\n* \"restrict ... nomodify\" prevents saveconfig and :config.\n* \"saveconfig .\" shorthand to save to startup configuration file.\n* support strftime() substitution in saveconfig arg to timestamp\n  the output filename, for example \"saveconfig %Y%m%d-%H%M%S.conf\".\n* display saveconfig response message from ntpd in ntpq.\n* save output filename in \"savedconfig\" variable, fetched with ntpq -c\n  \"rv 0 savedconfig\".\n* document saveconfig in html/ntpq.html.\n* add ./configure --disable-saveconfig to build a smaller ntpd.\n* log saveconfig failures and successes to syslog.\n(4.2.5p207) 2009/08/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1292] Minor Windows source tweaks for VC6-era SDK headers.\n(4.2.5p206) 2009/08/26 Released by Harlan Stenn <stenn@ntp.org>\n* accopt.html typo fixes from Dave Mills.\n* [Bug 1283] default to remembering KoD in sntp.\n* clean up numerous sntp/kod_management.c bugs.\n* use all addresses resolved from each DNS name in sntp.\n(4.2.5p205) 2009/08/18 Released by Harlan Stenn <stenn@ntp.org>\n* accopt.html typo fixes from Dave Mills.\n* [Bug 1285] Log ntpq :config/config-from-file events.\n* [Bug 1286] dumpcfg omits statsdir, mangles filegen.\n(4.2.5p204) 2009/08/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1284] infinite loop in ntpd dumping more than one trustedkey\n(4.2.5p203) 2009/08/16 Released by Harlan Stenn <stenn@ntp.org>\n* Add ntpq -c dumpcfg, Google Summer of Code project of Max Kuehn\n(4.2.5p202) 2009/08/14 Released by Harlan Stenn <stenn@ntp.org>\n* install the binary and man page for sntp.\n(4.2.5p201) 2009/08/13 Released by Harlan Stenn <stenn@ntp.org>\n* sntp: out with the old, in with the new.\n(4.2.5p200) 2009/08/12 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1281] Build ntpd on Windows without big SDK download, burn,\n  and install by checking in essentially unchanging messages.mc build\n  products to avoid requiring mc.exe, which is not included with VC++\n  2008 EE.\n(4.2.5p199) 2009/08/09 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1279] Cleanup for warnings from Veracode static analysis.\n(4.2.5p198) 2009/08/03 Released by Harlan Stenn <stenn@ntp.org>\n* Upgrade to autogen-5.9.9-pre5.\n(4.2.5p197) 2009/07/30 Released by Harlan Stenn <stenn@ntp.org>\n* The build script now has . at the end of PATH for config.guess.\n(4.2.5p196) 2009/07/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1272] gsoc_sntp IPv6 build problems under HP-UX 10.\n* [Bug 1273] CID 10: Palisade leaks unit struct in error path.\n* [Bug 1274] CID 67: ensure resolve_hosts() output count and pointers\n  are consistent.\n* [Bug 1275] CID 45: CID 46: old sntp uses uninitialized guesses[0],\n  precs[0].\n* [Bug 1276] CID 52: crypto_xmit() may call crypto_alice[23]()\n  with NULL peer.\n(4.2.5p195) 2009/07/27 Released by Harlan Stenn <stenn@ntp.org>\n* cvo.sh: Add support for CentOS, Fedora, Slackware, SuSE, and QNX.\n(4.2.5p194) 2009/07/26 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* Use scripts/cvo.sh in the build script to get better subdir names.\n(4.2.5p193) 2009/07/25 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1261] CID 34: simulate_server() rbuf.msg_flags uninitialized.\n* [Bug 1262] CID 35: xpkt.mac uninitialized in simulate_server().\n* [Bug 1263] CID 37: CID 38: CID 40: CID 43: multiple refclocks \n  uninitialized tm_zone (arc, chronolog, dumbclock, pcf).\n* [Bug 1264] CID 64: gsoc_sntp on_wire() frees wrong ptr receiving KoD.\n* [Bug 1265] CID 65: CID 66: gsoc_sntp on_wire() leaks x_pkt, r_pkt.\n* [Bug 1266] CID 39: datum_pts_start() uninitialized arg.c_ospeed.\n* [Bug 1267] CID 44: old sntp handle_saving() writes stack garbage to\n  file when clearing.\n* [Bug 1268] CID 63: resolve_hosts() leaks error message buffer.\n* [Bug 1269] CID 74: use assertion to ensure move_fd() does not return\n  negative descriptors.\n* [Bug 1270] CID 70: gsoc_sntp recv_bcst_data mdevadr.ipv6mr_interface\n  uninitialized.\n(4.2.5p192) 2009/07/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 965] CID 42: ss_family uninitialized.\n* [Bug 1250] CID 53: kod_init_kod_db() overruns kod_db malloc'd buffer.\n* [Bug 1251] CID 68: search_entry() mishandles dst argument.\n* [Bug 1252] CID 32: Quiet Coverity warning with assertion.\n* [Bug 1253] CID 50: gsoc_sntp/crypto.c auth_init() always returns a \n  list with one entry.\n* [Bug 1254] CID 56: tv_to_str() leaks a struct tm each call.\n* [Bug 1255] CID 55: pkt_output() leaks a copy of each packet.\n* [Bug 1256] CID 51: Coverity doesn't recognize our assertion macros as\n  terminal.\n* [Bug 1257] CID 57: gsoc_sntp auth_init() fails to fclose(keyfile).\n* [Bug 1258] CID 54: gsoc_sntp resolve_hosts() needs simplification.\n* [Bug 1259] CID 59: gsoc_sntp recv_bcast_data() fails to free(rdata)\n  on error paths.\n* [Bug 1260] CID 60: gsoc_sntp recvpkt() fails to free(rdata).\n* Updated to AutoGen-5.9.9pre2.\n(4.2.5p191) 2009/07/21 Released by Harlan Stenn <stenn@ntp.org>\n* Updated to AutoGen-5.9.9pre1.\n(4.2.5p190) 2009/07/20 Released by Harlan Stenn <stenn@ntp.org>\n* Updated to AutoGen-5.9.8.\n* [Bug 1248] RES_MSSNTP typo in ntp_proto.c.\n* [Bug 1246] use a common template for singly-linked lists, convert most\n  doubly-linked lists to singly-linked.\n* Log warning about signd blocking when restrict mssntp used.\n(4.2.5p189) 2009/07/16 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation cleanup from Dave Mills.\n(4.2.5p188) 2009/07/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1245] Broken xmt time sent in fast_xmit() of 4.2.5p187.\n(4.2.5p187) 2009/07/11 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1042] multicast listeners IPv4+6 ignore new interfaces.\n* [Bug 1237] Windows serial code treat CR and LF both as line\n  terminators.\n* [Bug 1238] use fudge time2 for serial timecode offset in NMEA driver.\n* [Bug 1242] Remove --enable-wintime, symmetric workaround is now\n  always enabled.\n* [Bug 1244] NTP_INSIST(fd != maxactivefd) failure in intres child\n* Added restrict keyword \"mssntp\" for Samba4 DC operation, by Dave Mills.\n(4.2.5p186) 2009/07/08 Released by Harlan Stenn <stenn@ntp.org>\n* ntp_proto.c cleanup from Dave Mills.\n(4.2.5p185) 2009/07/01 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* [Bug 1234] convert NMEA driver to use common PPSAPI code.\n* timepps-Solaris.h pps_handle_t changed from pointer to scalar\n* Spectracom refclock added to Windows port of ntpd\n* [Bug 1236] Declaration order fixed.\n* Bracket private ONCORE debug statements with #if 0 rather than #ifdef\n  DEBUG\n* Delete ONCORE debug statement that is now handled elsewhere.\n(4.2.5p184) 2009/06/24 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1233] atom refclock fudge time1 sign flipped in 4.2.5p164.\n(4.2.5p183) 2009/06/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1196] setsockopt(SO_EXCLUSIVEADDRUSE) can fail on Windows 2000\n  and earlier with WSAINVAL, do not log a complaint in that case.\n* [Bug 1210] ONCORE driver terminates ntpd without logging a reason.\n* [Bug 1218] Correct comment in refclock_oncore on /etc/ntp.oncore*\n  configuration file search order.\n* Change ONCORE driver to log using msyslog as well as to any\n  clockstats file.\n* [Bug 1231] ntpsnmpd build fails after sockaddr union changes.\n(4.2.5p182) 2009/06/18 Released by Harlan Stenn <stenn@ntp.org>\n* Add missing header dependencies to the ntpdc layout verification.\n* prefer.html updates from Dave Mills.\n* [Bug 1205] Add ntpd --usepcc and --pccfreq options on Windows\n* [Bug 1215] unpeer by association ID\n* [Bug 1225] Broadcast address miscalculated on Windows 4.2.5p180\n* [Bug 1229] autokey segfaults in cert_install().\n* Use a union for structs sockaddr, sockaddr_storage, sockaddr_in, and\n  sockaddr_in6 to remove casts and enable type checking.  Collapse\n  some previously separate IPv4/IPv6 paths into a single codepath.\n(4.2.5p181) 2009/06/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1206] Required compiler changes for Windows\n* [Bug 1084] PPSAPI for ntpd on Windows with DLL backends\n* [Bug 1204] Unix-style refclock device paths on Windows\n* [Bug 1205] partial fix, disable RDTSC use by default on Windows\n* [Bug 1208] decodenetnum() buffer overrun on [ with no ]\n* [Bug 1211] keysdir free()d twice #ifdef DEBUG\n* Enable ONCORE, ARCRON refclocks on Windows (untested)\n(4.2.5p180) 2009/05/29 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1200] Enable IPv6 in Windows port\n* Lose FLAG_FIXPOLL, from Dave Mills.\n(4.2.5p179) 2009/05/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1041] xmt -> aorg timestamp cleanup from Dave Mills,\n  reported by Dave Hart.\n* [Bug 1193] Compile error: conflicting types for emalloc.\n* [Bug 1196] VC6 winsock2.h does not define SO_EXCLUSIVEADDRUSE.\n* Leap/expire cleanup from Dave Mills.\n(4.2.5p178) 2009/05/21 Released by Harlan Stenn <stenn@ntp.org>\n* Provide erealloc() and estrdup(), a la emalloc().\n* Improve ntp.conf's parser error messages.\n* [Bug 320] \"restrict default ignore\" does not affect IPv6.\n* [Bug 1192] \"restrict -6 ...\" reports a syntax error.\n(4.2.5p177) 2009/05/18 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.4p7\n* [Bug 1174] nmea_shutdown assumes that nmea has a unit assigned\n* [Bug 1190] NMEA refclock fudge flag4 1 obscures position in timecode\n* Update NMEA refclock documentation in html/drivers/driver20.html\n(4.2.5p176) 2009/05/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1154] mDNS registration should be done later, repeatedly and only\n  if asked for. (second try for fix)\n(4.2.5p175) 2009/05/12 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.4p7-RC7\n* [Bug 1180] ntpd won't start with more than ~1000 interfaces\n* [Bug 1182] Documentation typos and missing bits.\n* [Bug 1183] COM port support should extend past COM3\n* [Bug 1184] ntpd is deaf when restricted to second IP on the same net\n* Clean up configure.ac NTP_CACHEVERSION interface, display cache\n  version when clearing.  Fixes a regression.\n(4.2.5p174) 2009/05/09 Released by Harlan Stenn <stenn@ntp.org>\n* Stale leapsecond file fixes from Dave Mills.\n(4.2.5p173) 2009/05/08 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.4p7-RC6\n(4.2.5p172) 2009/05/06 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1175] Instability in PLL daemon mode.\n* [Bug 1176] refclock_parse.c does not compile without PPSAPI.\n(4.2.5p171) 2009/05/04 Released by Harlan Stenn <stenn@ntp.org>\n* Autokey documentation cleanup from Dave Mills.\n* [Bug 1171] line editing libs found without headers (Solaris 11)\n* [Bug 1173] NMEA refclock fails with Solaris PPSAPI\n* Fix problem linking msntp on Solaris when sntp subdir is configured\n  before parent caused by different gethostent library search order.\n* Do not clear config.cache when it is  empty.\n(4.2.5p170) 2009/05/02 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1152] adjust PARSE to new refclock_pps logic\n* Include 4.2.4p7-RC5\n* loopfilter FLL/PLL crossover cleanup from Dave Mills.\n* Documentation updates from Dave Mills.\n* ntp-keygen cleanup from Dave Mills.\n* crypto API cleanup from Dave Mills.\n* Add NTP_CACHEVERSION mechanism to ignore incompatible config.cache\n* Enable gcc -Wstrict-overflow for gsoc_sntp as well\n(4.2.5p169) 2009/04/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1171] Note that we never look for -lreadline by default.\n* [Bug 1090] Fix bogus leap seconds in refclock_hpgps.\n(4.2.5p168) 2009/04/29 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.4p7-RC4\n* [Bug 1169] quiet compiler warnings\n* Re-enable gcc -Wstrict-prototypes when not building with OpenSSL\n* Enable gcc -Wstrict-overflow\n* ntpq/ntpdc emit newline after accepting password on Windows\n* Updates from Dave Mills:\n* ntp-keygen.c: Updates.\n* Fix the error return and syslog function ID in refclock_{param,ppsapi}.\n* Make sure syspoll is within the peer's minpoll/maxpoll bounds.\n* ntp_crypto.c: Use sign_siglen, not len. sign key filename cleanup.\n* Bump NTP_MAXEXTEN from 1024 to 2048, update values for some field lengths.\n* m4/ntp_lineeditlibs.m4: fix warnings from newer Autoconf\n* [Bug 1166] Remove truncation of position (blanking) code in refclock_nmea.c\n(4.2.5p167) 2009/04/26 Released by Harlan Stenn <stenn@ntp.org>\n* Crypto cleanup from Dave Mills.\n(4.2.5p166) 2009/04/25 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1165] Clean up small memory leaks in the  config file parser\n* Correct logconfig keyword declaration to MULTIPLE_ARG\n* Enable filename and line number leak reporting on Windows when built\n  DEBUG for all the typical C runtime allocators such as calloc,\n  malloc, and strdup.  Previously only emalloc calls were covered.\n* Add DEBUG-only code to free dynamically allocated memory that would\n  otherwise remain allocated at ntpd exit, to allow less forgivable\n  leaks to stand out in leaks reported after exit.\n* Ensure termination of strings in ports/winnt/libisc/isc_strerror.c\n  and quiet compiler warnings.\n* [Bug 1057] ntpdc unconfig failure\n* [Bug 1161] unpeer AKA unconfig command for ntpq :config\n* PPS and crypto cleanup in ntp_proto.c from Dave Mills.\n(4.2.5p165) 2009/04/23 Released by Harlan Stenn <stenn@ntp.org>\n* WWVB refclock cleanup from Dave Mills.\n* Code cleanup: requested_key -> request_key.\n* [Bug 833] ignore whitespace at end of remote configuration lines\n* [Bug 1033] ntpdc/ntpq crash prompting for keyid on Windows\n* [Bug 1028] Support for W32Time authentication via Samba.\n* quiet ntp_parser.c malloc redeclaration warning\n* Mitigation and PPS/PPSAPI cleanup from Dave Mills.\n* Documentation updates from Dave Mills.\n* timepps-Solaris.h patches from Dave Hart.\n(4.2.5p164) 2009/04/22 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.4p7-RC3\n* PPS/PPSAPI cleanup from Dave Mills.\n* Documentation updates from Dave Mills.\n* [Bug 1125] C runtime per-thread initialization on Windows\n* [Bug 1152] temporarily disable refclock_parse, refclock_true until\n  maintainers can repair build break from pps_sample()\n* [Bug 1153] refclock_nmea should not mix UTC with GPS time\n* [Bug 1159] ntpq overlap diagnostic message test buggy\n(4.2.5p163) 2009/04/10 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.5p162) 2009/04/09 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* Mitigation and PPS cleanup from Dave Mills.\n* Include 4.2.4p7-RC2\n* [Bug 216] New interpolation scheme for Windows eliminates 1ms jitter\n* remove a bunch of #ifdef SYS_WINNT from portable code\n* 64-bit time_t cleanup for building on newer Windows compilers\n* Only set CMOS clock during ntpd exit on Windows if the computer is\n  shutting down or restarting.\n* [Bug 1148] NMEA reference clock improvements\n* remove deleted gsoc_sntp/utilities.o from repository so that .o build\n  products can be cleaned up without corrupting the repository.\n(4.2.5p161) 2009/03/31 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n(4.2.5p160) 2009/03/30 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1141] refclock_report missing braces cause spurious \"peer event:\n  clock clk_unspec\" log entries\n* Include 4.2.4p7-RC1\n(4.2.5p159) 2009/03/28 Released by Harlan Stenn <stenn@ntp.org>\n* \"bias\" changes from Dave Mills.\n(4.2.5p158) 2009/01/30 Released by Harlan Stenn <stenn@ntp.org>\n* Fix [CID 72], a typo introduced at the latest fix to prettydate.c.\n(4.2.5p157) 2009/01/26 Released by Harlan Stenn <stenn@ntp.org>\n* Cleanup/fixes for ntp_proto.c and ntp_crypto.c from Dave Mills.\n(4.2.5p156) 2009/01/19 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1118] Fixed sign extension for 32 bit time_t in caljulian() and prettydate().\n  Fixed some compiler warnings about missing prototypes.\n  Fixed some other simple compiler warnings.\n* [Bug 1119] [CID 52] Avoid a possible null-dereference in ntp_crypto.c.\n* [Bug 1120] [CID 51] INSIST that peer is non-null before we dereference it.\n* [Bug 1121] [CID 47] double fclose() in ntp-keygen.c.\n(4.2.5p155) 2009/01/18 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* CHU frequency updates.\n* Design assertion fixes for ntp_crypto.c from Dave Mills.\n(4.2.5p154) 2009/01/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 992] support interface event change on Linux from\n  Miroslav Lichvar.\n(4.2.5p153) 2009/01/09 Released by Harlan Stenn <stenn@ntp.org>\n* Renamed gsoc_sntp/:fetch-stubs to gsoc_sntp/fetch-stubs to avoid\n  file name problems under Windows.\n  Removed German umlaut from log msg for 4.2.5p142.\n(4.2.5p152) 2009/01/08 Released by Harlan Stenn <stenn@ntp.org>\n* Include 4.2.4p6: 2009/01/08 Released by Harlan Stenn <stenn@ntp.org>\n(4.2.5p151) 2008/12/23 Released by Harlan Stenn <stenn@ntp.org>\n* Stats file logging cleanup from Dave Mills.\n(4.2.5p150) 2008/12/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1099] Fixed wrong behaviour in sntp's crypto.c.\n* [Bug 1103] Fix 64-bit issues in the new calendar code.\n(4.2.5p149) 2008/12/05 Released by Harlan Stenn <stenn@ntp.org>\n* Fixed mismatches in data types and OID definitions in ntpSnmpSubAgent.c\n* added a premliminary MIB file to ntpsnmpd (ntpv4-mib.mib)\n(4.2.5p148) 2008/12/04 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1070] Fix use of ntpq_parsestring() in ntpsnmpd.\n(4.2.5p147) 2008/11/27 Released by Harlan Stenn <stenn@ntp.org>\n* Update gsoc_sntp's GCC warning code.\n(4.2.5p146) 2008/11/26 Released by Harlan Stenn <stenn@ntp.org>\n* Update Solaris CFLAGS for gsoc_sntp.\n(4.2.5p145) 2008/11/20 Released by Harlan Stenn <stenn@ntp.org>\n* Deal with time.h for sntp under linux.\n* Provide rpl_malloc() for sntp for systems that need it.\n* Handle ss_len and socklen type for sntp.\n* Fixes to the sntp configure.ac script.\n* Provide INET6_ADDRSTRLEN if it is missing.\n* [Bug 1095] overflow in caljulian.c.\n(4.2.5p144) 2008/11/19 Released by Harlan Stenn <stenn@ntp.org>\n* Use int32, not int32_t.\n* Avoid the sched*() functions under OSF - link problems.\n(4.2.5p143) 2008/11/17 Released by Harlan Stenn <stenn@ntp.org>\n* sntp cleanup and fixes.\n(4.2.5p142) 2008/11/16 Released by Harlan Stenn <stenn@ntp.org>\n* Imported GSoC SNTP code from Johannes Maximilian Kuehn.\n(4.2.5p141) 2008/11/13 Released by Harlan Stenn <stenn@ntp.org>\n* New caltontp.c and calyearstart.c from Juergen Perlinger.\n(4.2.5p140) 2008/11/12 Released by Harlan Stenn <stenn@ntp.org>\n* Cleanup lint from the ntp_scanner files.\n* [Bug 1011] gmtime() returns NULL on windows where it would not under Unix.\n* Updated caljulian.c and prettydate.c from Juergen Perlinger.\n(4.2.5p139) 2008/11/11 Released by Harlan Stenn <stenn@ntp.org>\n* Typo fix to driver20.html.\n(4.2.5p138) 2008/11/10 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 474] --disable-ipv6 is broken.\n* IPv6 interfaces were being looked for twice.\n* SHM driver grabs more samples, add clockstats\n* decode.html and driver20.html updates from Dave Mills.\n(4.2.5p137) 2008/11/01 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1069] #undef netsnmp's PACKAGE_* macros.\n* [Bug 1068] Older versions of netsnmp do not have netsnmp_daemonize().\n(4.2.5p136) 2008/10/27 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1078] statsdir configuration parsing is broken.\n(4.2.5p135) 2008/09/23 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1072] clock_update should not allow updates older than sys_epoch.\n(4.2.5p134) 2008/09/17 Released by Harlan Stenn <stenn@ntp.org>\n* Clean up build process for ntpsnmpd.\n(4.2.5p133) 2008/09/16 Released by Harlan Stenn <stenn@ntp.org>\n* Add options processing to ntpsnmpd.\n* [Bug 1062] Check net-snmp headers before deciding to build ntpsnmpd.\n* Clean up the libntpq.a build.\n* Regenerate ntp_parser.[ch] from ntp_parser.y\n(4.2.5p132) 2008/09/15 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1067] Multicast DNS service registration must come after the fork\n  on Solaris.\n* [Bug 1066] Error messages should log as errors.\n(4.2.5p131) 2008/09/14 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1065] Re-enable support for the timingstats file.\n(4.2.5p130) 2008/09/13 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1064] Implement --with-net-snmp-config=progname\n* [Bug 1063] ntpSnmpSubagentObject.h is missing from the distribution.\n(4.2.5p129) 2008/09/11 Released by Harlan Stenn <stenn@ntp.org>\n* Quiet some libntpq-related warnings.\n(4.2.5p128) 2008/09/08 Released by Harlan Stenn <stenn@ntp.org>\n* Import Heiko Gerstung's GSoC2008 NTP MIB daemon.\n(4.2.5p127) 2008/09/01 Released by Harlan Stenn <stenn@ntp.org>\n* Regenerate ntpd/ntp_parser.c\n(4.2.5p126) 2008/08/31 Released by Harlan Stenn <stenn@ntp.org>\n* Stop libtool-1.5 from looking for C++ or Fortran.\n* [BUG 610] Documentation update for NMEA reference clock driver.\n* [Bug 828] Fix IPv4/IPv6 address parsing.\n* Changes from Dave Mills:\n  Documentation updates.\n  Fix a corner case where a frequency update was reported but not set.\n  When LEAP_NOTINSYNC->LEAP_NOWARNING, call crypto_update() if we have\n  crypto_flags.\n(4.2.5p125) 2008/08/18 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 1052] Add linuxPPS support to ONCORE driver.\n(4.2.5p124) 2008/08/17 Released by Harlan Stenn <stenn@ntp.org>\n* Documentation updates from Dave Mills.\n* Include 4.2.4p5: 2008/08/17 Released by Harlan Stenn <stenn@ntp.org>\n* [Bug 861] leap info was not being transmitted.\n* [Bug 1046] refnumtoa.c is using the wrong header file.\n* [Bug 1047] enable/disable options processing fix.\n* header file cleanup.\n* [Bug 1037] buffer in subroutine was 1 byte short.\n* configure.ac: cleanup, add option for wintime, and lay the groundwork\n  for the changes needed for bug 1028.\n* Fixes from Dave Mills: 'bias' and 'interleave' work.  Separate\n  phase and frequency discipline (for long poll intervals).  Update\n  TAI function to match current leapsecond processing.\n* Documentation updates from Dave Mills.\n* [Bug 1037] Use all 16 of the MD5 passwords generated by ntp-keygen.\n* Fixed the incorrect edge parameter being passed to time_pps_kcbind in\n  NMEA refclock driver.\n* [Bug 399] NMEA refclock driver does not honor time1 offset if flag3 set.\n* [Bug 985] Modifications to NMEA reference clock driver to support Accord\n  GPS Clock.\n* poll time updates from Dave Mills.\n* local refclock documentation updates from Dave Mills.\n* [Bug 1022] Fix compilation problems with yesterday's commit.\n* Updates and cleanup from Dave Mills:\n  I've now spent eleven months of a sabbatical year - 7 days a week, 6-10\n  hours most days - working on NTP. I have carefully reviewed every major\n  algorithm, examined its original design and evolution from that design.\n  I've trimmed off dead code and briar patches and did zillions of tests\n  contrived to expose evil vulnerabilities. The development article is in\n  rather good shape and should be ready for prime time.\n\n  1. The protostats statistics files have been very useful in exposing\n  little twitches and turns when something hiccups, like a broken PPS\n  signal. Most of what used to be syslog messages are now repackaged as\n  protostats messages with optional syslog as well. These can also be sent\n  as traps which might be handy to tiggle a beeper or celltext. These, the\n  sysstats files and cryptostats files reveal the ambient health of a busy\n  server, monitor traffic and error counts and spot crypto attacks.\n\n  2. Close inspection of the clock discipline behavior at long poll\n  intervals (36 h) showed it not doing as well as it should. I redesigned\n  the FLL loop to improve nominal accuracy from  several tens of\n  milliseconds to something less than ten milliseconds.\n\n  3. Autokey (again). The enhanced error checking was becoming a major\n  pain. I found a way to toss out gobs of ugly fat code and replace the\n  function with a much simpler and more comprehensive scheme. It resists\n  bait-and-switch attacks and quickly detect cases when the protocol is\n  not correctly synchronized.\n\n  4. The interface code for the kernel PPS signal was not in sync with the\n  kernel code itself. Some error checks were duplicated and some\n  ineffective. I found none of the PPS-capable drivers, including the atom\n  driver, do anything when the prefer peer fails; the kernel PPS signal\n  remains in control. The atom driver now disables the kernel PPS when the\n  prefer peer comes bum. This is important when the prefer peer is not a\n  reference clock but a remote NTP server.\n\n  5. The flake restrict bit turned out to be really interesting,\n  especially with symmtric modes and of those especially those using\n  Autokey. Small changes in the recovery procedures when packets are lost\n  now avoid almost all scenarios which previously required protocol resets.\n\n  6. I've always been a little uncomfortable when using the clock filter\n  with long poll intervals because the samples become less and less\n  correlated as the sample age exceeds the Allan intercept. Various\n  schemes have been used over the years to cope with this fact. The latest\n  one and the one that works the best is to use a modified sort metric\n  where the delay is used when the age of the sample is less than the\n  intercept and the sum of delay and dispersion above that. The net result\n  is that, at small poll intervals the algorithm operates as a minimum\n  filter, while at larger poll intervals it morphs to FIFO. Left\n  unmodified, a sample could be used when twelve days old. This along with\n  the FLL modifications has made a dramatic improvement at large poll\n  intervals.\n\n- [Backward Incompatible] The 'state' variable is no longer reported or\n  available via ntpq output.  The following system status bit names\n  have been changed:\n  - sync_alarm -> leap_alarm\n  - sync_atomic -> sync_pps\n  - sync_lf_clock -> sync_lf_radio\n  - sync_hf_clock -> sync_hf_radio\n  - sync_uhf_clock -> sync_uhf_radio\n  - sync_local_proto -> sync_local\n  - sync_udp/time -> sync_other\n  Other names have been changed as well.  See the change history for\n  libntp/statestr.c for more details.\n  Other backward-incompatible changes in ntpq include:\n  - assID -> associd\n  - rootdispersion -> rootdisp\n  - pkt_head -> pkt_neader\n  See the change history for other details.\n\n* Updates and cleanup from Dave Mills.\n* [Bug 995] Remove spurious ; from ntp-keygen.c.\n* More cleanup and changes from Dave Mills.\n* [Bug 980] Direct help to stdout.\n---\n(4.2.4p8) 2009/12/08 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Sec 1331] DoS with mode 7 packets - CVE-2009-3563.\n\n---\n(4.2.4p7) 2009/05/18 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Sec 1151] Remote exploit if autokey is enabled - CVE-2009-1252.\n* [Bug 1187] Update the copyright date.\n* [Bug 1191] ntpd fails on Win2000 - \"Address already in use\" after fix\n  for [Sec 1149].\n\n---\n(4.2.4p7-RC7) 2009/05/12 Released by Harlan Stenn <stenn@ntp.org>\n\n* ntp.isc.org -> ntp.org cleanup.\n* [Bug 1178] Use prior FORCE_DNSRETRY behavior as needed at runtime,\n  add configure --enable-ignore-dns-errors to be even more stubborn\n\n---\n(4.2.4p7-RC6) 2009/05/08 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 784] Make --enable-linuxcaps the default when available\n* [Bug 1179] error messages for -u/--user and -i lacking droproot\n* Updated JJY reference clock driver from Takao Abe\n* [Bug 1071] Log a message and exit before trying to use FD_SET with a\n  descriptor larger than FD_SETSIZE, which will corrupt memory\n* On corruption of the iface list head in add_interface, log and exit\n\n---\n(4.2.4p7-RC5) 2009/05/02 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1172] 4.2.4p7-RC{3,4} fail to build on linux.\n* flock-build script unportable 'set -m' use removed\n\n---\n(4.2.4p7-RC4) 2009/04/29 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1167] use gcc -Winit-self only if it is understood\n\n---\n(4.2.4p7-RC3) 2009/04/22 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 787] Bug fixes for 64-bit time_t on Windows\n* [Bug 813] Conditional naming of Event\n* [Bug 1147] System errors should be logged to msyslog()\n* [Bug 1155] Fix compile problem on Windows with VS2005\n* [Bug 1156] lock_thread_to_processor() should be declared in header\n* [Bug 1157] quiet OpenSSL warnings, clean up configure.ac\n* [Bug 1158] support for aix6.1\n* [Bug 1160] MacOS X is like BSD regarding F_SETOWN\n\n---\n(4.2.4p7-RC2) 2009/04/09 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Sec 1144] limited buffer overflow in ntpq.  CVE-2009-0159\n* [Sec 1149] use SO_EXCLUSIVEADDRUSE on Windows\n\n---\n(4.2.4p7-RC1) 2009/03/30 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1131] UDP sockets should not use SIGPOLL on Solaris.\n* build system email address cleanup\n* [Bug 774] parsesolaris.c does not compile under the new Solaris\n* [Bug 873] Windows serial refclock proper TTY line discipline emulation\n* [Bug 1014] Enable building with VC9 (in Visual Studio 2008,\n  Visual C++ 2008, or SDK)\n* [Bug 1117] Deferred interface binding under Windows works only correctly\n  if FORCE_DNSRETRY is defined\n* [BUG 1124] Lock QueryPerformanceCounter() client threads to same CPU\n* DPRINTF macro made safer, always evaluates to a statement and will not\n  misassociate an else which follows the macro.\n\n---\n(4.2.4p6) 2009/01/08 Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 1113] Fixed build errors with recent versions of openSSL. \n* [Sec 1111] Fix incorrect check of EVP_VerifyFinal()'s return value.\n* Update the copyright year.\n\n---\n(4.2.4p5) 2008/08/17 Released by Harlan Stenn <stenn@ntp.org>\n\n* [BUG 1051] Month off by one in leap second message written to clockstats\n  file fixed.\n* [Bug 450] Windows only: Under original Windows NT we must not discard the\n  wildcard socket to workaround a bug in NT's getsockname().\n* [Bug 1038] Built-in getpass() function also prompts for password if\n  not built with DEBUG.\n* [Bug 841] Obsolete the \"dynamic\" keyword and make deferred binding\n  to local interfaces the default.\n  Emit a warning if that keyword is used for configuration.\n* [Bug 959] Refclock on Windows not properly releasing recvbuffs.\n* [Bug 993] Fix memory leak when fetching system messages.\n* much cleanup, fixes, and changes from Dave Mills.\n* ntp_control.c: LEAPTAB is a filestamp, not an unsigned.  From Dave Mills.\n* ntp_config.c: ntp_minpoll fixes from Dave Mills.\n* ntp-keygen updates from Dave Mills.\n* refresh epoch, throttle, and leap cleanup from Dave Mills.\n* Documentation cleanup from Dave Mills.\n* [Bug 918] Only use a native md5.h if MD5Init() is available.\n* [Bug 979] Provide ntptimeval if it is not otherwise present.\n* [Bug 634] Re-instantiate syslog() and logfiles after the daemon fork.\n* [Bug 952] Use md5 code with a friendlier license.\n* [Bug 977] Fix mismatching #ifdefs for builds without IPv6.\n* [Bug 830] Fix the checking order of the interface options.\n* Clean up the logfile/syslog setup.\n* [Bug 970] Lose obsolete -g flag to ntp-keygen.\n* The -e flag to ntp-keygen can write GQ keys now, too.\n* ntp_proto.c: sys_survivors and hpoll cleanup from Dave Mills.\n* ntp_loopfilter.c: sys_poll cleanup from Dave Mills.\n* refclock_wwv.c: maximum-likelihood digit and DSYNC fixes from Dave Mills.\n* [Bug 967] preemptable associations are lost forever on a step.\n* ntp_config.c: [CID 48] missing \"else\" clause.\n* [Bug 833] ntpq config keyword is quote-mark unfriendly.\n* Rename the ntpq \"config\" keyword to \":config\".\n* Dave Mills shifted some orphan processing.\n* Fix typos in the [Bug 963] patch.\n* bootstrap: squawk if genver fails.  Use -f with cp in case Dave does a chown.\n* Remove obsolete simulator command-line options.\n* ntp_request.c: [CID 36] zero sin_zero.\n* [Bug 963] get_systime() is too noisy.\n* [Bug 960] spurious syslog:crypto_setup:spurious crypto command\n* [Bug 964] Change *-*-linux* to *-*-*linux* to allow for uclinux.\n* Changes from Dave Mills:\n  - ntp_util.c: cleanup.\n  - ntp_timer.c: watch the non-burst packet rate.\n  - ntp_request.c: cleanup.\n  - ntp_restrict.c: RES_LIMITED cleanup.\n  - ntp_proto.c: RES_LIMITED, rate bucktes, counters, overall cleanup.\n  - ntp_peer.c: disallow peer_unconfig().\n  - ntp_monitor.c: RES_LIMITED cleanup.\n  - ntp_loopfilter.c: poll interval cleanup.\n  - ntp_crypto.c: volley -> retry.  Cleanup TAI leap message.\n  - ntp_config: average and minimum are ^2 values.\n  - ntpdc: unknownversion is really \"declined\", not \"bad version\".\n  - Packet retry cleanup.\n* [Bug 961] refclock_tpro.c:tpro_poll() calls refclock_receive() twice.\n* [Bug 957] Windows only: Let command line parameters from the Windows SCM GUI\n  override the standard parameters from the ImagePath registry key.\n* Added HAVE_INT32_T to the Windows config.h to avoid duplicate definitions.\n* Work around a VPATH difference in FreeBSD's 'make' command.\n* Update bugreport URL.\n* Update -I documentation.\n* [Bug 713] Fix bug reporting information.\n* A bug in the application of the negative-sawtooth for 12 channel receivers. \n* The removal of unneeded startup code used for the original LinuxPPS, it now\n  conforms to the PPSAPI and does not need special code.  \n* ntp-keygen.c: Coverity fixes [CID 33,47].\n* Volley cleanup from Dave Mills.\n* Fuzz cleanup from Dave Mills.\n* [Bug 861] Leap second cleanups from Dave Mills.\n* ntpsim.c: add missing protypes and fix [CID 34], a nit.\n* Upgraded bison at UDel.\n* Update br-flock and flock-build machine lists.\n* [Bug 752] QoS: add parse/config handling code. \n* Fix the #include order in tickadj.c for picky machines.\n* [Bug 752] QoS: On some systems, netinet/ip.h needs netinet/ip_systm.h.\n* [Bug 752] Update the QoS tagging (code only - configuration to follow).\n* Orphan mode and other protocol cleanup from Dave Mills.\n* Documentation cleanup from Dave Mills.\n* [Bug 940] ntp-keygen uses -v.  Disallow it as a shortcut for --version.\n* more cleanup to ntp_lineeditlibs.m4.\n* Documentation updates from Dave Mills.\n* -ledit cleanup for ntpdc and ntpq.\n* Association and other cleanup from Dave Mills.\n* NTP_UNREACH changes from Dave Mills.\n* Fix the readline history test.\n* [Bug 931] Require -lreadline to be asked for explicitly.\n* [Bug 764] When looking for -lreadline support, also try using -lncurses.\n* [Bug 909] Fix int32_t errors for ntohl().\n* [Bug 376/214] Enhancements to support multiple if names and IP addresses.\n* [Bug 929] int32_t is undefined on Windows.  Casting wrong.\n* [Bug 928] readlink missing braces.\n* [Bug 788] Update macros to support VS 2005.\n* ntpd/ntp_timer.c: add missing sys_tai parameter for debug printf\n* [Bug 917] config parse leaves files open\n* [Bug 912] detect conflicting enable/disable configuration on interfaces\n  sharing an IP address\n* [Bug 771] compare scopeid if available for IPv6 addresses\n* Lose obsolete crypto subcommands (Dave Mills).\n* WWV is an HF source, not an LF source (Dave Mills).\n* [Bug 899] Only show -i/--jaildir -u/--user options if we HAVE_DROPROOT.\n* [Bug 916] 'cryptosw' is undefined if built without OpenSSL.\n* [Bug 891] 'restrict' config file keyword does not work (partial fix).\n* [Bug 890] the crypto command seems to be required now.\n* [Bug 915] ntpd cores during processing of x509 certificates.\n* Crypto lint cleanup from Dave Mills.\n* [Bug 897] Check RAND_status() - we may not need a .rnd file.\n* Crypto cleanup from Dave Mills.\n* [Bug 911] Fix error message in cmd_args.c.\n* [Bug 895] Log assertion failures via syslog(), not stderr.\n* Documentation updates from Dave Mills.\n* Crypto cleanup from Dave Mills.\n* [Bug 905] ntp_crypto.c fails to compile without -DDEBUG.\n* Avoid double peer stats logging.\n* ntp-keygen cleanup from Dave Mills.\n* libopts needs to be built after ElectricFence.\n* [Bug 894] Initialize keysdir before calling crypto_setup().\n* Calysto cleanup for ntpq.\n* ntp-keygen -i takes an arg.\n* Cleanup and fixes from Dave Mills.\n* [Bug 887] Fix error in ntp_types.h (for sizeof int != 4).\n* Bug 880 bug fixes for Windows build\n* Improve Calysto support.\n* The \"revoke\" parameter is a crypto command.\n* The driftfile wander threshold is a real number.\n* [Bug 850] Fix the wander threshold parameter on the driftfile command.\n* ntp_io.c: Dead code cleanup - Coverity View 19.\n* Leap file related cleanup from Dave Mills.\n* ntp_peer.c: Set peer->srcadr before (not after) calling set_peerdstadr().\n* Initialize offset in leap_file() - Coverity View 17.\n* Use the correct stratum on KISS codes.\n* Fuzz bits cleanup.\n* Show more digits in some debug printf's.\n* Use drift_file_sw internally to control writing the drift file.\n* Implement the wander_threshold option for the driftfile config keyword.\n* reformat ntp_control.c; do not use c++ // comments.\n* [Bug 629] Undo bug #629 fixes as they cause more problems than were  being\n  solved\n* Changes from Dave Mills: in/out-bound data rates, leapsecond cleanup,\n  driftfile write cleanup, packet buffer length checks, documentation updates.\n* More assertion checks and malloc()->emalloc(), courtesy of Calysto.\n* [Bug 864] Place ntpd service in maintenance mode if using SMF on Solaris\n* [Bug 862] includefile nesting; preserve phonelist on reconfig.\n* [Bug 604] ntpd regularly dies on linux/alpha.\n* more leap second infrastructure fixes from Dave Mills.\n* [Bug 858] recent leapfile changes broke non-OpenSSL builds.\n* Use emalloc() instead of malloc() in refclock_datum.c (Calysto).\n* Start using 'design by contract' assertions.\n* [Bug 767] Fast sync to refclocks wanted.\n* Allow null driftfile.\n* Use YYERROR_VERBOSE for the new parser, and fix related BUILT_SOURCES.\n* [Bug 629] changes to ensure broadcast works including on wildcard addresses\n* [Bug 853] get_node() must return a pointer to maximally-aligned memory.\n* Initial leap file fixes from Dave Mills.\n* [Bug 858] Recent leapfile changes broke without OPENSSL.\n* Use a char for DIR_SEP, not a string.\n* [Bug 850] driftfile parsing changes.\n* driftfile maintenance changes from Dave Mills.  Use clock_phi instead of\n  stats_write_tolerance.\n* [Bug 828] refid string not being parsed correctly.\n* [Bug 846] Correct includefile parsing.\n* [Bug 827] New parsing code does not handle \"fudge\" correctly.\n* Enable debugging capability in the config parser.\n* [Bug 839] Crypto password not read from ntp.conf.\n* Have autogen produce writable output files.\n* [Bug 825] Correct logconfig -/+ keyword processing.\n* [Bug 828] Correct parsing of \" delimited strings.\n* Cleanup FILE * usage after fclose() in ntp_filegen.c.\n* [Bug 843] Windows Completion port code was incorrectly merged from -stable.\n* [Bug 840] do fudge configuration AFTER peers (thus refclocks) have been\n  configured.\n* [Bug 824] Added new parser modules to the Windows project file.\n* [Bug 832] Add libisc/log.c headers to the distribution.\n* [Bug 808] Only write the drift file if we are in state 4.\n* Initial import of libisc/log.c and friends.\n* [Bug 826] Fix redefinition of PI.\n* [Bug 825] ntp_scanner.c needs to #include <config.h> .\n* [Bug 824] New parser code has some build problems with the SIM code.\n* [Bug 817] Use longnames for setting ntp variables on the command-line;\n  Allowing '-v' with and without an arg to disambiguate usage is error-prone.\n* [Bug 822] set progname once, early.\n* [Bug 819] remove erroneous #if 0 in Windows completion port code.\n* The new config code missed an #ifdef for building without refclocks.\n* Distribute some files needed by the new config parsing code.\n* [Bug 819] Timeout for WaitForMultipleObjects was 500ms instead of INFINITE\n* Use autogen 5.9.1.\n* Fix clktest command-line arg processing.'\n* Audio documentation updates from Dave Mills.\n* New config file parsing code, from Sachin Kamboj.\n* fuzz bit cleanup from Dave Mills.\n* replay cleanup from Dave Mills.\n* [Bug 542] Tolerate missing directory separator at EO statsdir.\n* [Bug 812] ntpd should drop supplementary groups.\n* [Bug 815] Fix warning compiling 4.2.5p22 under Windows with VC6.\n* [Bug 740] Fix kernel/daemon startup drift anomaly.\n* refclock_wwv.c fixes from Dave Mills.\n* [Bug 810] Fix ntp-keygen documentation.\n* [Bug 787] Bug fixes for 64-bit time_t on Windows.\n* [Bug 796] Clean up duplicate #defines in ntp_control.c.\n* [Bug 569] Use the correct precision for the Leitch CSD-5300.\n* [Bug 795] Moved declaration of variable to top of function.\n* [Bug 798] ntpq [p typo crashes ntpq/ntpdc.\n* [Bug 786] Fix refclock_bancomm.c on Solaris.\n* [Bug 774] parsesolaris.c does not compile under the new Solaris.\n* [Bug 782] Remove P() macros from Windows files.\n* [Bug 778] ntpd fails to lock with drift=+500 when started with drift=-500.\n* [Bug 592] Trimble Thunderbolt GPS support.\n* IRIG, CHU, WWV, WWVB refclock improvements from Dave Mills.\n* [Bug 757] Lose ULONG_CONST().\n* [Bug 756] Require ANSI C (function prototypes).\n* codec (audio) and ICOM changes from Dave Mills.\n\n---\n\n* [Bug 450] Windows only: Under original Windows NT we must not discard the\n  wildcard socket to workaround a bug in NT's getsockname().\n* [Bug 1038] Built-in getpass() function also prompts for password if\n  not built with DEBUG.\n* [Bug 841] Obsolete the \"dynamic\" keyword and make deferred binding\n  to local interfaces the default.\n  Emit a warning if that keyword is used for configuration.\n* [Bug 959] Refclock on Windows not properly releasing recvbuffs.\n* [Bug 993] Fix memory leak when fetching system messages.\n* [Bug 987] Wake up the resolver thread/process when a new interface has\n  become available.\n* Correctly apply negative-sawtooth for oncore 12 channel receiver.\n* Startup code for original LinuxPPS removed.  LinuxPPS now conforms to\n  the PPSAPI.\n* [Bug 1000] allow implicit receive buffer allocation for Windows.\n  fixes startup for windows systems with many interfaces.\n  reduces dropped packets on network bursts.\n  additionally fix timer() starvation during high load.\n* [Bug 990] drop minimum time restriction for interface update interval.\n* [Bug 977] Fix mismatching #ifdefs for builds without IPv6.\n* Update the copyright year.\n* Build system cleanup (make autogen-generated files writable).\n* [Bug 957] Windows only: Let command line parameters from the Windows SCM GUI\n  override the standard parameters from the ImagePath registry key.\n* Fixes for ntpdate:\n* [Bug 532] nptdate timeout is too long if several servers are supplied.\n* [Bug 698] timeBeginPeriod is called without timeEndPeriod in some NTP tools.\n* [Bug 857] ntpdate debug mode adjusts system clock when it shouldn't.\n* [Bug 908] ntpdate crashes sometimes.\n* [Bug 982] ntpdate(and ntptimeset) buffer overrun if HAVE_POLL_H isn't set\n  (dup of 908).\n* [Bug 997] ntpdate buffer too small and unsafe.\n* ntpdate.c: Under Windows check whether NTP port in use under same conditions\n  as under other OSs.\n* ntpdate.c: Fixed some typos and indents (tabs/spaces).\n\n(4.2.4p4) Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 902] Fix problems with the -6 flag.\n* Updated include/copyright.def (owner and year).\n* [Bug 878] Avoid ntpdc use of refid value as unterminated string.\n* [Bug 881] Corrected display of pll offset on 64bit systems.\n* [Bug 886] Corrected sign handling on 64bit in ntpdc loopinfo command.\n* [Bug 889] avoid malloc() interrupted by SIGIO risk\n* ntpd/refclock_parse.c: cleanup shutdown while the file descriptor is still\n  open.\n* [Bug 885] use emalloc() to get a message at the end of the memory\n  unsigned types cannot be less than 0\n  default_ai_family is a short\n  lose trailing , from enum list\n  clarify ntp_restrict.c for easier automated analysis\n* [Bug 884] don't access recv buffers after having them passed to the free\n  list.\n* [Bug 882] allow loopback interfaces to share addresses with other\n  interfaces.\n\n---\n(4.2.4p3) Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 863] unable to stop ntpd on Windows as the handle reference for events\n  changed\n\n---\n(4.2.4p2) Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 854] Broadcast address was not correctly set for interface addresses\n* [Bug 829] reduce syslog noise, while there fix Enabled/Disable logging\n  to reflect the actual configuration.\n* [Bug 795] Moved declaration of variable to top of function.\n* [Bug 789] Fix multicast client crypto authentication and make sure arriving\n  multicast packets do not disturb the autokey dance.\n* [Bug 785] improve handling of multicast interfaces\n  (multicast routers still need to run a multicast routing software/daemon)\n* ntpd/refclock_parse.c: cleanup shutdown while the file descriptor is still\n  open.\n* [Bug 885] use emalloc() to get a message at the end of the memory\n  unsigned types cannot be less than 0\n  default_ai_family is a short\n  lose trailing , from enum list\n* [Bug 884] don't access recv buffers after having them passed to the free list.\n* [Bug 882] allow loopback interfaces to share addresses with other interfaces.\n* [Bug 527] Don't write from source address length to wrong location\n* Upgraded autogen and libopts.\n* [Bug 811] ntpd should not read a .ntprc file.\n\n---\n(4.2.4p1) (skipped)\n\n---\n(4.2.4p0) Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 793] Update Hans Lambermont's email address in ntpsweep.\n* [Bug 776] Remove unimplemented \"rate\" flag from ntpdate.\n* [Bug 586] Avoid lookups if AI_NUMERICHOST is set.\n* [Bug 770] Fix numeric parameters to ntp-keygen (Alain Guibert).\n* [Bug 768] Fix io_setbclient() error message.\n* [Bug 765] Use net_bind_service capability on linux.\n* [Bug 760] The background resolver must be aware of the 'dynamic' keyword.\n* [Bug 753] make union timestamp anonymous (Philip Prindeville).\n* confopt.html: move description for \"dynamic\" keyword into the right section.\n* pick the right type for the recv*() length argument.\n\n---\n(4.2.4) Released by Harlan Stenn <stenn@ntp.org>\n\n* monopt.html fixes from Dave Mills.\n* [Bug 452] Do not report kernel PLL/FLL flips.\n* [Bug 746] Expert mouseCLOCK USB v2.0 support added.'\n* driver8.html updates.\n* [Bug 747] Drop <NOBR> tags from ntpdc.html.\n* sntp now uses the returned precision to control decimal places.\n* sntp -u will use an unprivileged port for its queries.\n* [Bug 741] \"burst\" doesn't work with !unfit peers.\n* [Bug 735] Fix a make/gmake VPATH issue on Solaris.\n* [Bug 739] ntpd -x should not take an argument.\n* [Bug 737] Some systems need help providing struct iovec.\n* [Bug 717] Fix libopts compile problem.\n* [Bug 728] parse documentation fixes.\n* [Bug 734] setsockopt(..., IP_MULTICAST_IF, ...) fails on 64-bit platforms.\n* [Bug 732] C-DEX JST2000 patch from Hideo Kuramatsu.\n* [Bug 721] check for __ss_family and __ss_len separately.\n* [Bug 666] ntpq opeers displays jitter rather than dispersion.\n* [Bug 718] Use the recommended type for the saddrlen arg to getsockname().\n* [Bug 715] Fix a multicast issue under Linux.\n* [Bug 690] Fix a Windows DNS lookup buffer overflow.\n* [Bug 670] Resolved a Windows issue with the dynamic interface rescan code.\n* K&R C support is being deprecated.\n* [Bug 714] ntpq -p should conflict with -i, not -c.\n* WWV refclock improvements from Dave Mills.\n* [Bug 708] Use thread affinity only for the clock interpolation thread.\n* [Bug 706] ntpd can be running several times in parallel.\n* [Bug 704] Documentation typos.\n* [Bug 701] coverity: NULL dereference in ntp_peer.c\n* [Bug 695] libopts does not protect against macro collisions.\n* [Bug 693] __adjtimex is independent of ntp_{adj,get}time.\n* [Bug 692] sys_limitrejected was not being incremented.\n* [Bug 691] restrictions() assumption not always valid.\n* [Bug 689] Deprecate HEATH GC-1001 II; the driver never worked.\n* [Bug 688] Fix documentation typos.\n* [Bug 686] Handle leap seconds better under Windows.\n* [Bug 685] Use the Windows multimedia timer.\n* [Bug 684] Only allow debug options if debugging is enabled.\n* [Bug 683] Use the right version string.\n* [Bug 680] Fix the generated version string on Windows.\n* [Bug 678] Use the correct size for control messages.\n* [Bug 677] Do not check uint_t in configure.ac.\n* [Bug 676] Use the right value for msg_namelen.\n* [Bug 675] Make sure ntpd builds without debugging.\n* [Bug 672] Fix cross-platform structure padding/size differences.\n* [Bug 660] New TIMESTAMP code fails tp build on Solaris Express.\n* [Bug 659] libopts does not build under Windows.\n* [Bug 658] HP-UX with cc needs -Wp,-H8166 in CFLAGS.\n* [Bug 656] ntpdate doesn't work with multicast address.\n* [Bug 638] STREAMS_TLI is deprecated - remove it.\n* [Bug 635] Fix tOptions definition.\n* [Bug 628] Fallback to ntp discipline not working for large offsets.\n* [Bug 622] Dynamic interface tracking for ntpd.\n* [Bug 603] Don't link with libelf if it's not needed.\n* [Bug 523] ntpd service under Windows does't shut down properly.\n* [Bug 500] sntp should always be built.\n* [Bug 479] Fix the -P option.\n* [Bug 421] Support the bc637PCI-U card.\n* [Bug 342] Deprecate broken TRAK refclock driver.\n* [Bug 340] Deprecate broken MSF EES refclock driver.\n* [Bug 153] Don't do DNS lookups on address masks.\n* [Bug 143] Fix interrupted system call on HP-UX.\n* [Bug 42] Distribution tarballs should be signed.\n* Support separate PPS devices for PARSE refclocks.\n* [Bug 637, 51?] Dynamic interface scanning can now be done.\n* Options processing now uses GNU AutoGen.\n\n---\n(4.2.2p4) Released by Harlan Stenn <stenn@ntp.org>\n\n* [Bug 710] compat getnameinfo() has off-by-one error\n* [Bug 690] Buffer overflow in Windows when doing DNS Lookups\n\n---\n(4.2.2p3) Released by Harlan Stenn <stenn@ntp.org>\n\n* Make the ChangeLog file cleaner and easier to read\n* [Bug 601] ntpq's decodeint uses an extra level of indirection\n* [Bug 657] Different OSes need different sized args for IP_MULTICAST_LOOP\n* release engineering/build changes\n* Documentation fixes\n* Get sntp working under AIX-5\n\n---\n(4.2.2p2) (broken)\n\n* Get sntp working under AIX-5\n\n---\n(4.2.2p1)\n\n* [Bug 661] Use environment variable to specify the base path to openssl.\n* Resolve an ambiguity in the copyright notice\n* Added some new documentation files\n* URL cleanup in the documentation\n* [Bug 657]: IP_MULTICAST_LOOP uses a u_char value/size\n* quiet gcc4 complaints\n* more Coverity fixes\n* [Bug 614] manage file descriptors better\n* [Bug 632] update kernel PPS offsets when PPS offset is re-configured\n* [Bug 637] Ignore UP in*addr_any interfaces\n* [Bug 633] Avoid writing files in srcdir\n* release engineering/build changes\n\n---\n(4.2.2)\n\n* SNTP\n* Many bugfixes\n* Implements the current \"goal state\" of NTPv4\n* Autokey improvements\n* Much better IPv6 support\n* [Bug 360] ntpd loses handles with LAN connection disabled.\n* [Bug 239] Fix intermittent autokey failure with multicast clients.\n* Rewrite of the multicast code\n* New version numbering scheme\n\n---\n(4.2.0)\n\n* More stuff than I have time to document\n* IPv6 support\n* Bugfixes\n* call-gap filtering\n* wwv and chu refclock improvements\n* OpenSSL integration\n\n---\n(4.1.2)\n\n* clock state machine bugfix\n* Lose the source port check on incoming packets\n* (x)ntpdc compatibility patch\n* Virtual IP improvements\n* ntp_loopfilter fixes and improvements\n* ntpdc improvements\n* GOES refclock fix\n* JJY driver\n* Jupiter refclock fixes\n* Neoclock4X refclock fixes\n* AIX 5 port\n* bsdi port fixes\n* Cray unicos port upgrade\n* HP MPE/iX port\n* Win/NT port upgrade\n* Dynix PTX port fixes\n* Document conversion from CVS to BK\n* readline support for ntpq\n\n---\n(4.1.0)\n\n* CERT problem fixed (99k23)\n\n* Huff-n-Puff filter\n* Preparation for OpenSSL support\n* Resolver changes/improvements are not backward compatible with mode 7\n  requests (which are implementation-specific anyway)\n* leap second stuff\n* manycast should work now\n* ntp-genkeys does new good things.\n* scripts/ntp-close\n* PPS cleanup and improvements\n* readline support for ntpdc\n* Crypto/authentication rewrite\n* WINNT builds with MD5 by default\n* WINNT no longer requires Perl for building with Visual C++ 6.0\n* algorithmic improvements, bugfixes\n* Solaris dosynctodr info update\n* html/pic/* is *lots* smaller\n* New/updated drivers: Forum Graphic GPS, WWV/H, Heath GC-100 II, HOPF\n  serial and PCI, ONCORE, ulink331\n* Rewrite of the audio drivers\n\n---\n(4.0.99)\n\n* Driver updates: CHU, DCF, GPS/VME, Oncore, PCF, Ulink, WWVB, burst\n  If you use the ONCORE driver with a HARDPPS kernel module,\n  you *must* have a properly specified:\n\tpps <filename> [assert/clear] [hardpps]\n  line in the /etc/ntp.conf file.\n* PARSE cleanup\n* PPS cleanup\n* ntpd, ntpq, ntpdate cleanup and fixes\n* NT port improvements\n* AIX, BSDI, DEC OSF, FreeBSD, NetBSD, Reliant, SCO, Solaris port improvements\n\n---\n(4.0.98)\n\n* Solaris kernel FLL bug is fixed in 106541-07\n* Bug/lint cleanup\n* PPS cleanup\n* ReliantUNIX patches\n* NetInfo support\n* Ultralink driver\n* Trimble OEM Ace-II support\n* DCF77 power choices\n* Oncore improvements\n\n---\n(4.0.97)\n\n* NT patches\n* AIX,SunOS,IRIX portability\n* NeXT portability\n* ntptimeset utility added\n* cygwin portability patches\n\n---\n(4.0.96)\n\n* -lnsl, -lsocket, -lgen configuration patches\n* Y2K patches from AT&T\n* Linux portability cruft\n\n---\n(4.0.95)\n\n* NT port cleanup/replacement\n* a few portability fixes\n* VARITEXT Parse clock added\n\n---\n(4.0.94)\n\n* PPS updates (including ntp.config options)\n* Lose the old DES stuff in favor of the (optional) RSAREF stuff\n* html cleanup/updates\n* numerous drivers cleaned up\n* numerous portability patches and code cleanup\n\n---\n(4.0.93)\n\n* Oncore refclock needs PPS or one of two ioctls.\n* Don't make ntptime under Linux.  It doesn't compile for too many folks.\n* Autokey cleanup\n* ReliantUnix patches\n* html cleanup\n* tickadj cleanup\n* PARSE cleanup\n* IRIX -n32 cleanup\n* byte order cleanup\n* ntptrace improvements and patches\n* ntpdc improvements and patches\n* PPS cleanup\n* mx4200 cleanup\n* New clock state machine\n* SCO cleanup\n* Skip alias interfaces\n\n---\n(4.0.92)\n\n* chronolog and dumbclock refclocks\n* SCO updates\n* Cleanup/bugfixes\n* Y2K patches\n* Updated palisade driver\n* Plug memory leak\n* wharton kernel clock\n* Oncore clock upgrades\n* NMEA clock improvements\n* PPS improvements\n* AIX portability patches\n\n---\n(4.0.91)\n\n* New ONCORE driver\n* New MX4200 driver\n* Palisade improvements\n* config file bugfixes and problem reporting\n* autoconf upgrade and cleanup\n* HP-UX, IRIX lint cleanup\n* AIX portability patches\n* NT cleanup\n\n---\n(4.0.90)\n\n* Nanoseconds\n* New palisade driver\n* New Oncore driver\n\n---\n(4.0.73)\n\n* README.hackers added\n* PARSE driver is working again\n* Solaris 2.6 has nasty kernel bugs.  DO NOT enable pll!\n* DES is out of the distribution.\n\n---\n(4.0.72)\n\n* K&R C compiling should work again.\n* IRIG patches.\n* MX4200 driver patches.\n* Jupiter driver added.\n* Palisade driver added.  Needs work (ANSI, ntoh/hton, sizeof double, ???)\n", "/*\n * ntp.h - NTP definitions for the masses\n */\n#ifndef NTP_H\n#define NTP_H\n\n#include <stddef.h>\n#include <math.h>\n\n#include <ntp_fp.h>\n#include <ntp_types.h>\n#include <ntp_lists.h>\n#include <ntp_stdlib.h>\n#include <ntp_crypto.h>\n#include <ntp_random.h>\n#include <ntp_net.h>\n\n#include <isc/boolean.h>\n\n/*\n * Calendar arithmetic - contributed by G. Healton\n */\n#define YEAR_BREAK 500\t\t/* years < this are tm_year values:\n\t\t\t\t * Break < AnyFourDigitYear && Break >\n\t\t\t\t * Anytm_yearYear */\n\n#define YEAR_PIVOT 98\t\t/* 97/98: years < this are year 2000+\n\t\t\t\t * FYI: official UNIX pivot year is\n\t\t\t\t * 68/69 */\n\n/*\n * Number of Days since 1 BC Gregorian to 1 January of given year\n */\n#define julian0(year)\t(((year) * 365 ) + ((year) > 0 ? (((year) + 3) \\\n\t\t\t    / 4 - ((year - 1) / 100) + ((year - 1) / \\\n\t\t\t    400)) : 0))\n\n/*\n * Number of days since start of NTP time to 1 January of given year\n */\n#define ntp0(year)\t(julian0(year) - julian0(1900))\n\n/*\n * Number of days since start of UNIX time to 1 January of given year\n */\n#define unix0(year)\t(julian0(year) - julian0(1970))\n\n/*\n * LEAP YEAR test for full 4-digit years (e.g, 1999, 2010)\n */\n#define isleap_4(y)\t((y) % 4 == 0 && !((y) % 100 == 0 && !(y % \\\n\t\t\t    400 == 0)))\n\n/*\n * LEAP YEAR test for tm_year (struct tm) years (e.g, 99, 110)\n */\n#define isleap_tm(y)\t((y) % 4 == 0 && !((y) % 100 == 0 && !(((y) \\\n\t\t\t    + 1900) % 400 == 0)))\n\n/*\n * to convert simple two-digit years to tm_year style years:\n *\n *\tif (year < YEAR_PIVOT)\n *\t\tyear += 100;\n *\n * to convert either two-digit OR tm_year years to four-digit years:\n *\n *\tif (year < YEAR_PIVOT)\n *\t\tyear += 100;\n *\n *\tif (year < YEAR_BREAK)\n *\t\tyear += 1900;\n */\n\n/*\n * How to get signed characters.  On machines where signed char works,\n * use it. On machines where signed char doesn't work, char had better\n * be signed.\n */\n#ifdef NEED_S_CHAR_TYPEDEF\n# if SIZEOF_SIGNED_CHAR\ntypedef signed char s_char;\n# else\ntypedef char s_char;\n# endif\n  /* XXX: Why is this sequent bit INSIDE this test? */\n# ifdef sequent\n#  undef SO_RCVBUF\n#  undef SO_SNDBUF\n# endif\n#endif\n\n/*\n * NTP protocol parameters.  See section 3.2.6 of the specification.\n */\n#define\tNTP_VERSION\t((u_char)4) /* current version number */\n#define\tNTP_OLDVERSION\t((u_char)1) /* oldest credible version */\n#define\tNTP_PORT\t123\t/* included for non-unix machines */\n\n/*\n * Poll interval parameters\n */\n#define NTP_UNREACH\t10\t/* poll unreach threshold */\n#define\tNTP_MINPOLL\t3\t/* log2 min poll interval (8 s) */\n#define NTP_MINDPOLL\t6\t/* log2 default min poll (64 s) */\n#define NTP_MAXDPOLL\t10\t/* log2 default max poll (~17 m) */\n#define\tNTP_MAXPOLL\t17\t/* log2 max poll interval (~36 h) */\n#define\tNTP_RETRY\t3\t/* max packet retries */\n#define\tNTP_MINPKT\t2\t/* guard time (s) */\n\n/*\n * Clock filter algorithm tuning parameters\n */\n#define MAXDISPERSE\t16.\t/* max dispersion */\n#define\tNTP_SHIFT\t8\t/* clock filter stages */\n#define NTP_FWEIGHT\t.5\t/* clock filter weight */\n\n/*\n * Selection algorithm tuning parameters\n */\n#define\tNTP_MINCLOCK\t3\t/* min survivors */\n#define\tNTP_MAXCLOCK\t10\t/* max candidates */\n#define MINDISPERSE\t.001\t/* min distance */\n#define MAXDISTANCE\t1.5\t/* max root distance (select threshold) */\n#define CLOCK_SGATE\t3.\t/* popcorn spike gate */\n#define HUFFPUFF\t900\t/* huff-n'-puff sample interval (s) */\n#define MAXHOP\t\t2\t/* anti-clockhop threshold */\n#define MAX_TTL\t\t8\t/* max ttl mapping vector size */\n#define\tBEACON\t\t7200\t/* manycast beacon interval */\n#define NTP_MAXEXTEN\t2048\t/* max extension field size */\n#define\tNTP_ORPHWAIT\t300\t/* orphan wair (s) */\n\n/*\n * Miscellaneous stuff\n */\n#define NTP_MAXKEY\t65535\t/* max authentication key number */\n#define\tKEY_TYPE_MD5\tNID_md5\t/* MD5 digest NID */\n/*\n * Limits of things\n */\n#define\tMAXFILENAME\t256\t/* max length of file name */\n#define MAXHOSTNAME\t512\t/* max length of host/node name */\n#define NTP_MAXSTRLEN\t256\t/* max string length */\n\n/*\n * Operations for jitter calculations (these use doubles).\n *\n * Note that we carefully separate the jitter component from the\n * dispersion component (frequency error plus precision). The frequency\n * error component is computed as CLOCK_PHI times the difference between\n * the epoch of the time measurement and the reference time. The\n * precision component is computed as the square root of the mean of the\n * squares of a zero-mean, uniform distribution of unit maximum\n * amplitude. Whether this makes statistical sense may be arguable.\n */\n#define SQUARE(x) ((x) * (x))\n#define SQRT(x) (sqrt(x))\n#define DIFF(x, y) (SQUARE((x) - (y)))\n#define LOGTOD(a)\tldexp(1., (int)(a)) /* log2 to double */\n#define UNIVAR(x)\t(SQUARE(.28867513 * LOGTOD(x))) /* std uniform distr */\n#define ULOGTOD(a)\tldexp(1., (int)(a)) /* ulog2 to double */\n\n#define\tEVENT_TIMEOUT\t0\t/* one second, that is */\n\n\n/*\n * The interface structure is used to hold the addresses and socket\n * numbers of each of the local network addresses we are using.\n * Because \"interface\" is a reserved word in C++ and has so many\n * varied meanings, a change to \"endpt\" (via typedef) is under way.\n * Eventually the struct tag will change from interface to endpt_tag.\n * endpt is unrelated to the select algorithm's struct endpoint.\n */\ntypedef struct interface endpt;\nstruct interface {\n\tendpt *\t\telink;\t\t/* endpt list link */\n\tendpt *\t\tmclink;\t\t/* per-AF_* multicast list */\n\tSOCKET\t\tfd;\t\t/* socket descriptor */\n\tSOCKET\t\tbfd;\t\t/* for receiving broadcasts */\n\tu_int32\t\tifnum;\t\t/* endpt instance count */\n\tsockaddr_u\tsin;\t\t/* unicast address */\n\tsockaddr_u\tmask;\t\t/* subnet mask */\n\tsockaddr_u\tbcast;\t\t/* broadcast address */\n\tchar\t\tname[32];\t/* name of interface */\n\tu_short\t\tfamily;\t\t/* AF_INET/AF_INET6 */\n\tu_short\t\tphase;\t\t/* phase in update cycle */\n\tu_int32\t\tflags;\t\t/* interface flags */\n\tint\t\tlast_ttl;\t/* last TTL specified */\n\tu_int32\t\taddr_refid;\t/* IPv4 addr or IPv6 hash */\n\tint\t\tnum_mcast;\t/* mcast addrs enabled */\n\tu_long\t\tstarttime;\t/* current_time at creation */\n\tvolatile long\treceived;\t/* number of incoming packets */\n\tlong\t\tsent;\t\t/* number of outgoing packets */\n\tlong\t\tnotsent;\t/* number of send failures */\n\tu_int\t\tifindex;\t/* for IPV6_MULTICAST_IF */\n\tisc_boolean_t\tignore_packets; /* listen-read-drop this? */\n\tstruct peer *\tpeers;\t\t/* list of peers using endpt */\n\tu_int\t\tpeercnt;\t/* count of same */\n};\n\n/*\n * Flags for interfaces\n */\n#define INT_UP\t\t0x001\t/* Interface is up */\n#define\tINT_PPP\t\t0x002\t/* Point-to-point interface */\n#define\tINT_LOOPBACK\t0x004\t/* the loopback interface */\n#define\tINT_BROADCAST\t0x008\t/* can broadcast out this interface */\n#define INT_MULTICAST\t0x010\t/* can multicast out this interface */\n#define\tINT_BCASTOPEN\t0x020\t/* broadcast receive socket is open */\n#define INT_MCASTOPEN\t0x040\t/* multicasting enabled */\n#define INT_WILDCARD\t0x080\t/* wildcard interface - usually skipped */\n#define INT_MCASTIF\t0x100\t/* bound directly to MCAST address */\n#define INT_PRIVACY\t0x200\t/* RFC 4941 IPv6 privacy address */\n#define INT_BCASTXMIT\t0x400   /* socket setup to allow broadcasts */\n\n/*\n * Define flasher bits (tests 1 through 11 in packet procedure)\n * These reveal the state at the last grumble from the peer and are\n * most handy for diagnosing problems, even if not strictly a state\n * variable in the spec. These are recorded in the peer structure.\n *\n * Packet errors\n */\n#define TEST1\t\t0X0001\t/* duplicate packet */\n#define TEST2\t\t0x0002\t/* bogus packet */\n#define TEST3\t\t0x0004\t/* protocol unsynchronized */\n#define TEST4\t\t0x0008\t/* access denied */\n#define TEST5\t\t0x0010\t/* bad authentication */\n#define TEST6\t\t0x0020\t/* bad synch or stratum */\n#define TEST7\t\t0x0040\t/* bad header */\n#define TEST8\t\t0x0080  /* bad autokey */\n#define TEST9\t\t0x0100\t/* bad crypto */\n#define\tPKT_TEST_MASK\t(TEST1 | TEST2 | TEST3 | TEST4 | TEST5 |\\\n\t\t\tTEST6 | TEST7 | TEST8 | TEST9)\n/*\n * Peer errors\n */\n#define TEST10\t\t0x0200\t/* peer bad synch or stratum */\n#define\tTEST11\t\t0x0400\t/* peer distance exceeded */\n#define TEST12\t\t0x0800\t/* peer synchronization loop */\n#define TEST13\t\t0x1000\t/* peer unreacable */\n#define\tPEER_TEST_MASK\t(TEST10 | TEST11 | TEST12 | TEST13)\n\n/*\n * The peer structure. Holds state information relating to the guys\n * we are peering with. Most of this stuff is from section 3.2 of the\n * spec.\n */\nstruct peer {\n\tstruct peer *p_link;\t/* link pointer in free & peer lists */\n\tstruct peer *adr_link;\t/* link pointer in address hash */\n\tstruct peer *aid_link;\t/* link pointer in associd hash */\n\tstruct peer *ilink;\t/* list of peers for interface */\n\tsockaddr_u srcadr;\t/* address of remote host */\n\tchar *\thostname;\t/* if non-NULL, remote name */\n\tstruct addrinfo *addrs;\t/* hostname query result */\n\tstruct addrinfo *ai;\t/* position within addrs */\n\tendpt *\tdstadr;\t\t/* local address */\n\tassocid_t associd;\t/* association ID */\n\tu_char\tversion;\t/* version number */\n\tu_char\thmode;\t\t/* local association mode */\n\tu_char\thpoll;\t\t/* local poll interval */\n\tu_char\tminpoll;\t/* min poll interval */\n\tu_char\tmaxpoll;\t/* max poll interval */\n\tu_int\tflags;\t\t/* association flags */\n\tu_char\tcast_flags;\t/* additional flags */\n\tu_char\tlast_event;\t/* last peer error code */\n\tu_char\tnum_events;\t/* number of error events */\n\tu_int32\tttl;\t\t/* ttl/refclock mode */\n\tchar\t*ident;\t\t/* group identifier name */\n\n\t/*\n\t * Variables used by reference clock support\n\t */\n#ifdef REFCLOCK\n\tstruct refclockproc *procptr; /* refclock structure pointer */\n\tu_char\trefclktype;\t/* reference clock type */\n\tu_char\trefclkunit;\t/* reference clock unit number */\n\tu_char\tsstclktype;\t/* clock type for system status word */\n#endif /* REFCLOCK */\n\n\t/*\n\t * Variables set by received packet\n\t */\n\tu_char\tleap;\t\t/* local leap indicator */\n\tu_char\tpmode;\t\t/* remote association mode */\n\tu_char\tstratum;\t/* remote stratum */\n\tu_char\tppoll;\t\t/* remote poll interval */\n\ts_char\tprecision;\t/* remote clock precision */\n\tdouble\trootdelay;\t/* roundtrip delay to primary source */\n\tdouble\trootdisp;\t/* dispersion to primary source */\n\tu_int32\trefid;\t\t/* remote reference ID */\n\tl_fp\treftime;\t/* update epoch */\n\n\t/*\n\t * Variables used by authenticated client\n\t */\n\tkeyid_t keyid;\t\t/* current key ID */\n#ifdef AUTOKEY\n#define clear_to_zero opcode\n\tu_int32\topcode;\t\t/* last request opcode */\n\tassocid_t assoc;\t/* peer association ID */\n\tu_int32\tcrypto;\t\t/* peer status word */\n\tEVP_PKEY *pkey;\t\t/* public key */\n\tconst EVP_MD *digest;\t/* message digest algorithm */\n\tchar\t*subject;\t/* certificate subject name */\n\tchar\t*issuer;\t/* certificate issuer name */\n\tstruct cert_info *xinfo; /* issuer certificate */\n\tkeyid_t\tpkeyid;\t\t/* previous key ID */\n\tkeyid_t\thcookie;\t/* host cookie */\n\tkeyid_t\tpcookie;\t/* peer cookie */\n\tconst struct pkey_info *ident_pkey; /* identity key */\n\tBIGNUM\t*iffval;\t/* identity challenge (IFF, GQ, MV) */\n\tconst BIGNUM *grpkey;\t/* identity challenge key (GQ) */\n\tstruct value cookval;\t/* receive cookie values */\n\tstruct value recval;\t/* receive autokey values */\n\tstruct exten *cmmd;\t/* extension pointer */\n\tu_long\trefresh;\t/* next refresh epoch */\n\n\t/*\n\t * Variables used by authenticated server\n\t */\n\tkeyid_t\t*keylist;\t/* session key ID list */\n\tint\tkeynumber;\t/* current key number */\n\tstruct value encrypt;\t/* send encrypt values */\n\tstruct value sndval;\t/* send autokey values */\n#else\t/* !AUTOKEY follows */\n#define clear_to_zero status\n#endif\t/* !AUTOKEY */\n\n\t/*\n\t * Ephemeral state variables\n\t */\n\tu_char\tstatus;\t\t/* peer status */\n\tu_char\tnew_status;\t/* under-construction status */\n\tu_char\treach;\t\t/* reachability register */\n\tint\tflash;\t\t/* protocol error test tally bits */\n\tu_long\tepoch;\t\t/* reference epoch */\n\tint\tburst;\t\t/* packets remaining in burst */\n\tint\tretry;\t\t/* retry counter */\n\tint\tflip;\t\t/* interleave mode control */\n\tint\tfilter_nextpt;\t/* index into filter shift register */\n\tdouble\tfilter_delay[NTP_SHIFT]; /* delay shift register */\n\tdouble\tfilter_offset[NTP_SHIFT]; /* offset shift register */\n\tdouble\tfilter_disp[NTP_SHIFT]; /* dispersion shift register */\n\tu_long\tfilter_epoch[NTP_SHIFT]; /* epoch shift register */\n\tu_char\tfilter_order[NTP_SHIFT]; /* filter sort index */\n\tl_fp\trec;\t\t/* receive time stamp */\n\tl_fp\txmt;\t\t/* transmit time stamp */\n\tl_fp\tdst;\t\t/* destination timestamp */\n\tl_fp\taorg;\t\t/* origin timestamp */\n\tl_fp\tborg;\t\t/* alternate origin timestamp */\n\tdouble\toffset;\t\t/* peer clock offset */\n\tdouble\tdelay;\t\t/* peer roundtrip delay */\n\tdouble\tjitter;\t\t/* peer jitter (squares) */\n\tdouble\tdisp;\t\t/* peer dispersion */\n\tdouble\txleave;\t\t/* interleave delay */\n\tdouble\tbias;\t\t/* programmed offset bias */\n\n\t/*\n\t * Variables used to correct for packet length and asymmetry.\n\t */\n\tdouble\tt21;\t\t/* outbound packet delay */\n\tint\tt21_bytes;\t/* outbound packet length */\n\tint\tt21_last;\t/* last outbound packet length */\n\tdouble\tr21;\t\t/* outbound data rate */\n\tdouble\tt34;\t\t/* inbound packet delay */\n\tint\tt34_bytes;\t/* inbound packet length */\n\tdouble\tr34;\t\t/* inbound data rate */\n\n\t/*\n\t * End of clear-to-zero area\n\t */\n\tu_long\tupdate;\t\t/* receive epoch */\n#define end_clear_to_zero update\n\tint\tunreach;\t/* watchdog counter */\n\tint\tthrottle;\t/* rate control */\n\tu_long\toutdate;\t/* send time last packet */\n\tu_long\tnextdate;\t/* send time next packet */\n\n\t/*\n\t * Statistic counters\n\t */\n\tu_long\ttimereset;\t/* time stat counters were reset */\n\tu_long\ttimereceived;\t/* last packet received time */\n\tu_long\ttimereachable;\t/* last reachable/unreachable time */\n\n\tu_long\tsent;\t\t/* packets sent */\n\tu_long\treceived;\t/* packets received */\n\tu_long\tprocessed;\t/* packets processed */\n\tu_long\tbadauth;\t/* bad authentication (TEST5) */\n\tu_long\tbogusorg;\t/* bogus origin (TEST2, TEST3) */\n\tu_long\toldpkt;\t\t/* old duplicate (TEST1) */\n\tu_long\tseldisptoolarge; /* bad header (TEST6, TEST7) */\n\tu_long\tselbroken;\t/* KoD received */\n};\n\n/*\n * Values for peer.leap, sys_leap\n */\n#define\tLEAP_NOWARNING\t0x0\t/* normal, no leap second warning */\n#define\tLEAP_ADDSECOND\t0x1\t/* last minute of day has 61 seconds */\n#define\tLEAP_DELSECOND\t0x2\t/* last minute of day has 59 seconds */\n#define\tLEAP_NOTINSYNC\t0x3\t/* overload, clock is free running */\n\n/*\n * Values for peer mode and packet mode. Only the modes through\n * MODE_BROADCAST and MODE_BCLIENT appear in the transition\n * function. MODE_CONTROL and MODE_PRIVATE can appear in packets,\n * but those never survive to the transition function.\n * is a\n/ */\n#define\tMODE_UNSPEC\t0\t/* unspecified (old version) */\n#define\tMODE_ACTIVE\t1\t/* symmetric active mode */\n#define\tMODE_PASSIVE\t2\t/* symmetric passive mode */\n#define\tMODE_CLIENT\t3\t/* client mode */\n#define\tMODE_SERVER\t4\t/* server mode */\n#define\tMODE_BROADCAST\t5\t/* broadcast mode */\n/*\n * These can appear in packets\n */\n#define\tMODE_CONTROL\t6\t/* control mode */\n#define\tMODE_PRIVATE\t7\t/* private mode */\n/*\n * This is a madeup mode for broadcast client.\n */\n#define\tMODE_BCLIENT\t6\t/* broadcast client mode */\n\n/*\n * Values for peer.stratum, sys_stratum\n */\n#define\tSTRATUM_REFCLOCK ((u_char)0) /* default stratum */\n/* A stratum of 0 in the packet is mapped to 16 internally */\n#define\tSTRATUM_PKT_UNSPEC ((u_char)0) /* unspecified in packet */\n#define\tSTRATUM_UNSPEC\t((u_char)16) /* unspecified */\n\n/*\n * Values for peer.flags\n */\n#define\tFLAG_CONFIG\t0x0001\t/* association was configured */\n#define\tFLAG_PREEMPT\t0x0002\t/* preemptable association */\n#define\tFLAG_AUTHENTIC\t0x0004\t/* last message was authentic */\n#define\tFLAG_REFCLOCK\t0x0008\t/* this is actually a reference clock */\n#define\tFLAG_BC_VOL\t0x0010\t/* broadcast client volleying */\n#define\tFLAG_PREFER\t0x0020\t/* prefer peer */\n#define\tFLAG_BURST\t0x0040\t/* burst mode */\n#define\tFLAG_PPS\t0x0080\t/* steered by PPS */\n#define\tFLAG_IBURST\t0x0100\t/* initial burst mode */\n#define\tFLAG_NOSELECT\t0x0200\t/* never select */\n#define\tFLAG_TRUE\t0x0400\t/* force truechimer */\n#define\tFLAG_SKEY\t0x0800  /* autokey authentication */\n#define\tFLAG_XLEAVE\t0x1000\t/* interleaved protocol */\n#define\tFLAG_XB\t\t0x2000\t/* interleaved broadcast */\n#define\tFLAG_XBOGUS\t0x4000\t/* interleaved bogus packet */\n#ifdef\tOPENSSL\n#define FLAG_ASSOC\t0x8000\t/* autokey request */\n#endif /* OPENSSL */\n\n/*\n * Definitions for the clear() routine.  We use memset() to clear\n * the parts of the peer structure which go to zero.  These are\n * used to calculate the start address and length of the area.\n */\n#define\tCLEAR_TO_ZERO(p)\t((char *)&((p)->clear_to_zero))\n#define\tEND_CLEAR_TO_ZERO(p)\t((char *)&((p)->end_clear_to_zero))\n#define\tLEN_CLEAR_TO_ZERO\t(END_CLEAR_TO_ZERO((struct peer *)0) \\\n\t\t\t\t    - CLEAR_TO_ZERO((struct peer *)0))\n#define CRYPTO_TO_ZERO(p)\t((char *)&((p)->clear_to_zero))\n#define END_CRYPTO_TO_ZERO(p)\t((char *)&((p)->end_clear_to_zero))\n#define LEN_CRYPTO_TO_ZERO\t(END_CRYPTO_TO_ZERO((struct peer *)0) \\\n\t\t\t\t    - CRYPTO_TO_ZERO((struct peer *)0))\n\n/*\n * Reference clock types.  Added as necessary.\n */\n#define\tREFCLK_NONE\t\t0\t/* unknown or missing */\n#define\tREFCLK_LOCALCLOCK\t1\t/* external (e.g., lockclock) */\n#define\tREFCLK_GPS_TRAK\t\t2\t/* TRAK 8810 GPS Receiver */\n#define\tREFCLK_WWV_PST\t\t3\t/* PST/Traconex 1020 WWV/H */\n#define\tREFCLK_SPECTRACOM\t4\t/* Spectracom (generic) Receivers */\n#define\tREFCLK_TRUETIME\t\t5\t/* TrueTime (generic) Receivers */\n#define REFCLK_IRIG_AUDIO\t6\t/* IRIG-B/W audio decoder */\n#define\tREFCLK_CHU_AUDIO\t7\t/* CHU audio demodulator/decoder */\n#define REFCLK_PARSE\t\t8\t/* generic driver (usually DCF77,GPS,MSF) */\n#define\tREFCLK_GPS_MX4200\t9\t/* Magnavox MX4200 GPS */\n#define REFCLK_GPS_AS2201\t10\t/* Austron 2201A GPS */\n#define\tREFCLK_GPS_ARBITER\t11\t/* Arbiter 1088A/B/ GPS */\n#define REFCLK_IRIG_TPRO\t12\t/* KSI/Odetics TPRO-S IRIG */\n#define REFCLK_ATOM_LEITCH\t13\t/* Leitch CSD 5300 Master Clock */\n#define REFCLK_MSF_EES\t\t14\t/* EES M201 MSF Receiver */\n#define\tREFCLK_GPSTM_TRUE\t15\t/* OLD TrueTime GPS/TM-TMD Receiver */\n#define REFCLK_IRIG_BANCOMM\t16\t/* Bancomm GPS/IRIG Interface */\n#define REFCLK_GPS_DATUM\t17\t/* Datum Programmable Time System */\n#define REFCLK_ACTS\t\t18\t/* Generic Auto Computer Time Service */\n#define REFCLK_WWV_HEATH\t19\t/* Heath GC1000 WWV/WWVH Receiver */\n#define REFCLK_GPS_NMEA\t\t20\t/* NMEA based GPS clock */\n#define REFCLK_GPS_VME\t\t21\t/* TrueTime GPS-VME Interface */\n#define REFCLK_ATOM_PPS\t\t22\t/* 1-PPS Clock Discipline */\n#define REFCLK_PTB_ACTS\t\t23\t/* replaced by REFCLK_ACTS */\n#define REFCLK_USNO\t\t24\t/* replaced by REFCLK_ACTS */\n#define REFCLK_GPS_HP\t\t26\t/* HP 58503A Time/Frequency Receiver */\n#define REFCLK_ARCRON_MSF\t27\t/* ARCRON MSF radio clock. */\n#define REFCLK_SHM\t\t28\t/* clock attached thru shared memory */\n#define REFCLK_PALISADE\t\t29\t/* Trimble Navigation Palisade GPS */\n#define REFCLK_ONCORE\t\t30\t/* Motorola UT Oncore GPS */\n#define REFCLK_GPS_JUPITER\t31\t/* Rockwell Jupiter GPS receiver */\n#define REFCLK_CHRONOLOG\t32\t/* Chrono-log K WWVB receiver */\n#define REFCLK_DUMBCLOCK\t33\t/* Dumb localtime clock */\n#define REFCLK_ULINK\t\t34\t/* Ultralink M320 WWVB receiver */\n#define REFCLK_PCF\t\t35\t/* Conrad parallel port radio clock */\n#define REFCLK_WWV_AUDIO\t36\t/* WWV/H audio demodulator/decoder */\n#define REFCLK_FG\t\t37\t/* Forum Graphic GPS */\n#define REFCLK_HOPF_SERIAL\t38\t/* hopf DCF77/GPS serial receiver  */\n#define REFCLK_HOPF_PCI\t\t39\t/* hopf DCF77/GPS PCI receiver  */\n#define REFCLK_JJY\t\t40\t/* JJY receiver  */\n#define\tREFCLK_TT560\t\t41\t/* TrueTime 560 IRIG-B decoder */\n#define REFCLK_ZYFER\t\t42\t/* Zyfer GPStarplus receiver  */\n#define REFCLK_RIPENCC\t\t43\t/* RIPE NCC Trimble driver */\n#define REFCLK_NEOCLOCK4X\t44\t/* NeoClock4X DCF77 or TDF receiver */\n#define REFCLK_TSYNCPCI\t45\t/* Spectracom TSYNC PCI timing board */\n#define REFCLK_MAX\t\t45\t/* Spectracom TSYNC PCI timing board */\n\n\n/*\n * NTP packet format.  The mac field is optional.  It isn't really\n * an l_fp either, but for now declaring it that way is convenient.\n * See Appendix A in the specification.\n *\n * Note that all u_fp and l_fp values arrive in network byte order\n * and must be converted (except the mac, which isn't, really).\n */\nstruct pkt {\n\tu_char\tli_vn_mode;\t/* peer leap indicator */\n\tu_char\tstratum;\t/* peer stratum */\n\tu_char\tppoll;\t\t/* peer poll interval */\n\ts_char\tprecision;\t/* peer clock precision */\n\tu_fp\trootdelay;\t/* roundtrip delay to primary source */\n\tu_fp\trootdisp;\t/* dispersion to primary source*/\n\tu_int32\trefid;\t\t/* reference id */\n\tl_fp\treftime;\t/* last update time */\n\tl_fp\torg;\t\t/* originate time stamp */\n\tl_fp\trec;\t\t/* receive time stamp */\n\tl_fp\txmt;\t\t/* transmit time stamp */\n\n#define\tLEN_PKT_NOMAC\t(12 * sizeof(u_int32)) /* min header length */\n#define MIN_MAC_LEN\t(1 * sizeof(u_int32))\t/* crypto_NAK */\n#define MAX_MD5_LEN\t(5 * sizeof(u_int32))\t/* MD5 */\n#define\tMAX_MAC_LEN\t(6 * sizeof(u_int32))\t/* SHA */\n\n\t/*\n\t * The length of the packet less MAC must be a multiple of 64\n\t * with an RSA modulus and Diffie-Hellman prime of 256 octets\n\t * and maximum host name of 128 octets, the maximum autokey\n\t * command is 152 octets and maximum autokey response is 460\n\t * octets. A packet can contain no more than one command and one\n\t * response, so the maximum total extension field length is 864\n\t * octets. But, to handle humungus certificates, the bank must\n\t * be broke.\n\t */\n#ifdef AUTOKEY\n\tu_int32\texten[NTP_MAXEXTEN / 4]; /* max extension field */\n#else\t/* !AUTOKEY follows */\n\tu_int32\texten[1];\t/* misused */\n#endif\t/* !AUTOKEY */\n\tu_char\tmac[MAX_MAC_LEN]; /* mac */\n};\n\n/*\n * Stuff for extracting things from li_vn_mode\n */\n#define\tPKT_MODE(li_vn_mode)\t((u_char)((li_vn_mode) & 0x7))\n#define\tPKT_VERSION(li_vn_mode)\t((u_char)(((li_vn_mode) >> 3) & 0x7))\n#define\tPKT_LEAP(li_vn_mode)\t((u_char)(((li_vn_mode) >> 6) & 0x3))\n\n/*\n * Stuff for putting things back into li_vn_mode in packets and vn_mode\n * in ntp_monitor.c's mon_entry.\n */\n#define VN_MODE(v, m)\t\t((((v) & 7) << 3) | ((m) & 0x7))\n#define\tPKT_LI_VN_MODE(l, v, m) ((((l) & 3) << 6) | VN_MODE((v), (m)))\n\n\n/*\n * Dealing with stratum.  0 gets mapped to 16 incoming, and back to 0\n * on output.\n */\n#define\tPKT_TO_STRATUM(s)\t((u_char)(((s) == (STRATUM_PKT_UNSPEC)) ?\\\n\t\t\t\t(STRATUM_UNSPEC) : (s)))\n\n#define\tSTRATUM_TO_PKT(s)\t((u_char)(((s) == (STRATUM_UNSPEC)) ?\\\n\t\t\t\t(STRATUM_PKT_UNSPEC) : (s)))\n\n/*\n * Event codes. Used for reporting errors/events to the control module\n */\n#define\tPEER_EVENT\t0x080\t/* this is a peer event */\n#define CRPT_EVENT\t0x100\t/* this is a crypto event */\n\n/*\n * System event codes\n */\n#define\tEVNT_UNSPEC\t0\t/* unspecified */\n#define\tEVNT_NSET\t1\t/* freq not set */\n#define\tEVNT_FSET\t2\t/* freq set */\n#define\tEVNT_SPIK\t3\t/* spike detect */\n#define\tEVNT_FREQ\t4\t/* freq mode */\n#define\tEVNT_SYNC\t5\t/* clock sync */\n#define\tEVNT_SYSRESTART\t6\t/* restart */\n#define\tEVNT_SYSFAULT\t7\t/* panic stop */\n#define\tEVNT_NOPEER\t8\t/* no sys peer */\n#define\tEVNT_ARMED\t9\t/* leap armed */\n#define\tEVNT_DISARMED\t10\t/* leap disarmed */\n#define\tEVNT_LEAP\t11\t/* leap event */\n#define\tEVNT_CLOCKRESET\t12\t/* clock step */\n#define\tEVNT_KERN\t13\t/* kernel event */\n#define\tEVNT_TAI\t14\t/* TAI */\n#define\tEVNT_LEAPVAL\t15\t/* stale leapsecond values */\n\n/*\n * Peer event codes\n */\n#define\tPEVNT_MOBIL\t(1 | PEER_EVENT) /* mobilize */\n#define\tPEVNT_DEMOBIL\t(2 | PEER_EVENT) /* demobilize */\n#define\tPEVNT_UNREACH\t(3 | PEER_EVENT) /* unreachable */\n#define\tPEVNT_REACH\t(4 | PEER_EVENT) /* reachable */\n#define\tPEVNT_RESTART\t(5 | PEER_EVENT) /* restart */\n#define\tPEVNT_REPLY\t(6 | PEER_EVENT) /* no reply */\n#define\tPEVNT_RATE\t(7 | PEER_EVENT) /* rate exceeded */\n#define\tPEVNT_DENY\t(8 | PEER_EVENT) /* access denied */\n#define PEVNT_ARMED\t(9 | PEER_EVENT) /* leap armed */\n#define\tPEVNT_NEWPEER\t(10 | PEER_EVENT) /* sys peer */\n#define\tPEVNT_CLOCK\t(11 | PEER_EVENT) /* clock event */\n#define\tPEVNT_AUTH\t(12 | PEER_EVENT) /* bad auth */\n#define\tPEVNT_POPCORN\t(13 | PEER_EVENT) /* popcorn */\n#define\tPEVNT_XLEAVE\t(14 | PEER_EVENT) /* interleave mode */\n#define\tPEVNT_XERR\t(15 | PEER_EVENT) /* interleave error */\n\n/*\n * Clock event codes\n */\n#define\tCEVNT_NOMINAL\t0\t/* unspecified */\n#define\tCEVNT_TIMEOUT\t1\t/* no reply */\n#define\tCEVNT_BADREPLY\t2\t/* bad format */\n#define\tCEVNT_FAULT\t3\t/* fault */\n#define\tCEVNT_PROP\t4\t/* bad signal */\n#define\tCEVNT_BADDATE\t5\t/* bad date */\n#define\tCEVNT_BADTIME\t6\t/* bad time */\n#define CEVNT_MAX\tCEVNT_BADTIME\n\n/*\n * Very misplaced value.  Default port through which we send traps.\n */\n#define\tTRAPPORT\t18447\n\n\n/*\n * To speed lookups, peers are hashed by the low order bits of the\n * remote IP address. These definitions relate to that.\n */\n#define\tNTP_HASH_SIZE\t\t128\n#define\tNTP_HASH_MASK\t\t(NTP_HASH_SIZE-1)\n#define\tNTP_HASH_ADDR(src)\t(sock_hash(src) & NTP_HASH_MASK)\n\n/*\n * min, min3 and max.  Makes it easier to transliterate the spec without\n * thinking about it.\n */\n#define\tmin(a,b)\t(((a) < (b)) ? (a) : (b))\n#define\tmax(a,b)\t(((a) > (b)) ? (a) : (b))\n#define\tmin3(a,b,c)\tmin(min((a),(b)), (c))\n\n\n/*\n * Configuration items.  These are for the protocol module (proto_config())\n */\n#define\tPROTO_BROADCLIENT\t1\n#define\tPROTO_PRECISION\t\t2\t/* (not used) */\n#define\tPROTO_AUTHENTICATE\t3\n#define\tPROTO_BROADDELAY\t4\n#define\tPROTO_AUTHDELAY\t\t5\t/* (not used) */\n#define PROTO_MULTICAST_ADD\t6\n#define PROTO_MULTICAST_DEL\t7\n#define PROTO_NTP\t\t8\n#define PROTO_KERNEL\t\t9\n#define PROTO_MONITOR\t\t10\n#define PROTO_FILEGEN\t\t11\n#define\tPROTO_PPS\t\t12\n#define PROTO_CAL\t\t13\n#define PROTO_MINCLOCK\t\t14\n#define\tPROTO_MAXCLOCK\t\t15\n#define PROTO_MINSANE\t\t16\n#define PROTO_FLOOR\t\t17\n#define PROTO_CEILING\t\t18\n#define PROTO_COHORT\t\t19\n#define PROTO_CALLDELAY\t\t20\n#define PROTO_MINDISP\t\t21\n#define PROTO_MAXDIST\t\t22\n\t/* available\t\t23 */\n#define\tPROTO_MAXHOP\t\t24\n#define\tPROTO_BEACON\t\t25\n#define\tPROTO_ORPHAN\t\t26\n#define\tPROTO_ORPHWAIT\t\t27\n#define\tPROTO_MODE7\t\t28\n\n/*\n * Configuration items for the loop filter\n */\n#define\tLOOP_DRIFTINIT\t\t1\t/* iniitialize frequency */\n#define\tLOOP_KERN_CLEAR\t\t2\t/* set initial frequency offset */\n#define LOOP_MAX\t\t3\t/* set step offset */\n#define LOOP_PANIC\t\t4\t/* set panic offseet */\n#define LOOP_PHI\t\t5\t/* set dispersion rate */\n#define LOOP_MINSTEP\t\t6\t/* set step timeout */\n#define LOOP_MINPOLL\t\t7\t/* set min poll interval (log2 s) */\n#define LOOP_ALLAN\t\t8\t/* set minimum Allan intercept */\n#define LOOP_HUFFPUFF\t\t9\t/* set huff-n'-puff filter length */\n#define LOOP_FREQ\t\t10\t/* set initial frequency */\n#define LOOP_CODEC\t\t11\t/* set audio codec frequency */\n#define\tLOOP_LEAP\t\t12\t/* insert leap after second 23:59 */\n#define\tLOOP_TICK\t\t13\t/* sim. low precision clock */\n\n/*\n * Configuration items for the stats printer\n */\n#define\tSTATS_FREQ_FILE\t\t1\t/* configure drift file */\n#define STATS_STATSDIR\t\t2\t/* directory prefix for stats files */\n#define\tSTATS_PID_FILE\t\t3\t/* configure ntpd PID file */\n#define\tSTATS_LEAP_FILE\t\t4\t/* configure ntpd leapseconds file */\n\n#define MJD_1900\t\t15020\t/* MJD for 1 Jan 1900 */\n\n/*\n * Default parameters.  We use these in the absence of something better.\n */\n#define INADDR_NTP\t0xe0000101\t/* NTP multicast address 224.0.1.1 */\n\n/*\n * Structure used optionally for monitoring when this is turned on.\n */\ntypedef struct mon_data\tmon_entry;\nstruct mon_data {\n\tmon_entry *\thash_next;\t/* next structure in hash list */\n\tDECL_DLIST_LINK(mon_entry, mru);/* MRU list link pointers */\n\tstruct interface * lcladr;\t/* address on which this arrived */\n\tl_fp\t\tfirst;\t\t/* first time seen */\n\tl_fp\t\tlast;\t\t/* last time seen */\n\tint\t\tleak;\t\t/* leaky bucket accumulator */\n\tint\t\tcount;\t\t/* total packet count */\n\tu_short\t\tflags;\t\t/* restrict flags */\n\tu_char\t\tvn_mode;\t/* packet mode & version */\n\tu_char\t\tcast_flags;\t/* flags MDF_?CAST */\n\tsockaddr_u\trmtadr;\t\t/* address of remote host */\n};\n\n/*\n * Values for cast_flags in mon_entry and struct peer.  mon_entry uses\n * only the first three, MDF_UCAST, MDF_MCAST, and MDF_BCAST.\n */\n#define\tMDF_UCAST\t0x01\t/* unicast client */\n#define\tMDF_MCAST\t0x02\t/* multicast server */\n#define\tMDF_BCAST\t0x04\t/* broadcast server */\n#define\tMDF_POOL\t0x08\t/* pool client solicitor */\n#define MDF_ACAST\t0x10\t/* manycast client solicitor */\n#define\tMDF_BCLNT\t0x20\t/* eph. broadcast/multicast client */\n#define MDF_UCLNT\t0x40\t/* preemptible manycast or pool client */\n/*\n * In the context of struct peer in ntpd, three of the cast_flags bits\n * represent configured associations which never receive packets, and\n * whose reach is always 0: MDF_BCAST, MDF_MCAST, and MDF_ACAST.  The\n * last can be argued as responses are received, but those responses do\n * not affect the MDF_ACAST association's reach register, rather they\n * (may) result in mobilizing ephemeral MDF_ACLNT associations.\n */\n#define MDF_TXONLY_MASK\t(MDF_BCAST | MDF_MCAST | MDF_ACAST | MDF_POOL)\n/*\n * manycastclient-like solicitor association cast_flags bits\n */\n#define MDF_SOLICIT_MASK\t(MDF_ACAST | MDF_POOL)\n/*\n * Values used with mon_enabled to indicate reason for enabling monitoring\n */\n#define MON_OFF\t\t0x00\t\t/* no monitoring */\n#define MON_ON\t\t0x01\t\t/* monitoring explicitly enabled */\n#define MON_RES\t\t0x02\t\t/* implicit monitoring for RES_LIMITED */\n/*\n * Structure used for restrictlist entries\n */\ntypedef struct res_addr4_tag {\n\tu_int32\t\taddr;\t\t/* IPv4 addr (host order) */\n\tu_int32\t\tmask;\t\t/* IPv4 mask (host order) */\n} res_addr4;\n\ntypedef struct res_addr6_tag {\n\tstruct in6_addr addr;\t\t/* IPv6 addr (net order) */\n\tstruct in6_addr mask;\t\t/* IPv6 mask (net order) */\n} res_addr6;\n\ntypedef struct restrict_u_tag\trestrict_u;\nstruct restrict_u_tag {\n\trestrict_u *\t\tlink;\t/* link to next entry */\n\tu_int32\t\t\tcount;\t/* number of packets matched */\n\tu_short\t\t\tflags;\t/* accesslist flags */\n\tu_short\t\t\tmflags;\t/* match flags */\n\tu_long\t\t\texpire;\t/* valid until time */\n\tunion {\t\t\t\t/* variant starting here */\n\t\tres_addr4 v4;\n\t\tres_addr6 v6;\n\t} u;\n};\n#define\tV4_SIZEOF_RESTRICT_U\t(offsetof(restrict_u, u)\t\\\n\t\t\t\t + sizeof(res_addr4))\n#define\tV6_SIZEOF_RESTRICT_U\t(offsetof(restrict_u, u)\t\\\n\t\t\t\t + sizeof(res_addr6))\n\n/*\n * Access flags\n */\n#define\tRES_IGNORE\t\t0x0001\t/* ignore packet */\n#define\tRES_DONTSERVE\t\t0x0002\t/* access denied */\n#define\tRES_DONTTRUST\t\t0x0004\t/* authentication required */\n#define\tRES_VERSION\t\t0x0008\t/* version mismatch */\n#define\tRES_NOPEER\t\t0x0010\t/* new association denied */\n#define RES_LIMITED\t\t0x0020\t/* packet rate exceeded */\n#define RES_FLAGS\t\t(RES_IGNORE | RES_DONTSERVE |\\\n\t\t\t\t    RES_DONTTRUST | RES_VERSION |\\\n\t\t\t\t    RES_NOPEER | RES_LIMITED)\n\n#define\tRES_NOQUERY\t\t0x0040\t/* mode 6/7 packet denied */\n#define\tRES_NOMODIFY\t\t0x0080\t/* mode 6/7 modify denied */\n#define\tRES_NOTRAP\t\t0x0100\t/* mode 6/7 set trap denied */\n#define\tRES_LPTRAP\t\t0x0200\t/* mode 6/7 low priority trap */\n\n#define\tRES_KOD\t\t\t0x0400\t/* send kiss of death packet */\n#define\tRES_MSSNTP\t\t0x0800\t/* enable MS-SNTP authentication */\n#define\tRES_FLAKE\t\t0x1000\t/* flakeway - drop 10% */\n#define\tRES_NOMRULIST\t\t0x2000\t/* mode 6 mrulist denied */\n\n#define\tRES_ALLFLAGS\t\t(RES_FLAGS | RES_NOQUERY |\t\\\n\t\t\t\t RES_NOMODIFY | RES_NOTRAP |\t\\\n\t\t\t\t RES_LPTRAP | RES_KOD |\t\t\\\n\t\t\t\t RES_MSSNTP | RES_FLAKE |\t\\\n\t\t\t\t RES_NOMRULIST)\n\n/*\n * Match flags\n */\n#define\tRESM_INTERFACE\t\t0x1000\t/* this is an interface */\n#define\tRESM_NTPONLY\t\t0x2000\t/* match source port 123 */\n#define RESM_SOURCE\t\t0x4000\t/* from \"restrict source\" */\n\n/*\n * Restriction configuration ops\n */\n#define\tRESTRICT_FLAGS\t\t1\t/* add flags to restrict entry */\n#define\tRESTRICT_UNFLAG\t\t2\t/* remove flags from restrict entry */\n#define\tRESTRICT_REMOVE\t\t3\t/* remove a restrict entry */\n#define\tRESTRICT_REMOVEIF\t4\t/* remove an interface restrict entry */\n\n/*\n * Endpoint structure for the select algorithm\n */\nstruct endpoint {\n\tdouble\tval;\t\t\t/* offset of endpoint */\n\tint\ttype;\t\t\t/* interval entry/exit */\n};\n\n/*\n * Association matching AM[] return codes\n */\n#define AM_ERR\t\t-1\t\t/* error */\n#define AM_NOMATCH\t0\t\t/* no match */\n#define AM_PROCPKT\t1\t\t/* server/symmetric packet */\t\n#define AM_BCST\t\t2\t\t/* broadcast packet */\t\n#define AM_FXMIT\t3\t\t/* client packet */\n#define AM_MANYCAST\t4\t\t/* manycast or pool */\n#define AM_NEWPASS\t5\t\t/* new passive */\n#define AM_NEWBCL\t6\t\t/* new broadcast */\n#define\tAM_POSSBCL\t7\t\t/* discard broadcast */\n\n/* NetInfo configuration locations */\n#ifdef HAVE_NETINFO\n#define NETINFO_CONFIG_DIR \"/config/ntp\"\n#endif\n\n/* ntpq -c mrulist rows per request limit in ntpd */\n#define MRU_ROW_LIMIT\t256\n/* similar datagrams per response limit for ntpd */\n#define MRU_FRAGS_LIMIT\t128\n#endif /* NTP_H */\n"], "filenames": ["ChangeLog", "include/ntp.h"], "buggy_code_start_loc": [1, 159], "buggy_code_end_loc": [1, 163], "fixing_code_start_loc": [2, 159], "fixing_code_end_loc": [3, 162], "type": "CWE-704", "message": "The ULOGTOD function in ntp.d in SNTP before 4.2.7p366 does not properly perform type conversions from a precision value to a double, which allows remote attackers to cause a denial of service (infinite loop) via a crafted NTP packet.", "other": {"cve": {"id": "CVE-2015-5219", "sourceIdentifier": "secalert@redhat.com", "published": "2017-07-21T14:29:00.867", "lastModified": "2023-02-13T00:51:47.453", "vulnStatus": "Modified", "descriptions": [{"lang": "en", "value": "The ULOGTOD function in ntp.d in SNTP before 4.2.7p366 does not properly perform type conversions from a precision value to a double, which allows remote attackers to cause a denial of service (infinite loop) via a crafted NTP packet."}, {"lang": "es", "value": "La funci\u00f3n ULOGTOD en el archivo ntp.d en SNTP en versiones anteriores a la 4.2.7p366 no realiza apropiadamente las conversiones de tipo de un valor de precisi\u00f3n a uno doble, lo que permite a los atacantes remotos causar una denegaci\u00f3n de servicio (bucle infinito) por medio de un paquete NTP creado."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "NONE", "availabilityImpact": "HIGH", "baseScore": 7.5, "baseSeverity": "HIGH"}, "exploitabilityScore": 3.9, "impactScore": 3.6}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:N/C:N/I:N/A:P", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "NONE", "confidentialityImpact": "NONE", "integrityImpact": "NONE", "availabilityImpact": "PARTIAL", "baseScore": 5.0}, "baseSeverity": "MEDIUM", "exploitabilityScore": 10.0, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-704"}]}], "configurations": [{"operator": "AND", "nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:o:fedoraproject:fedora:21:*:*:*:*:*:*:*", "matchCriteriaId": "56BDB5A0-0839-4A20-A003-B8CD56F48171"}, {"vulnerable": true, "criteria": "cpe:2.3:o:fedoraproject:fedora:22:*:*:*:*:*:*:*", "matchCriteriaId": "253C303A-E577-4488-93E6-68A8DD942C38"}, {"vulnerable": true, "criteria": "cpe:2.3:o:fedoraproject:fedora:23:*:*:*:*:*:*:*", "matchCriteriaId": "E79AB8DD-C907-4038-A931-1A5A4CFB6A5B"}]}]}, {"operator": "AND", "nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:suse:linux_enterprise_debuginfo:11:sp2:*:*:*:*:*:*", "matchCriteriaId": "D5900A25-FDD7-4900-BF7C-F3ECCB714D2B"}, {"vulnerable": true, "criteria": "cpe:2.3:a:suse:linux_enterprise_debuginfo:11:sp3:*:*:*:*:*:*", "matchCriteriaId": "58D3B6FD-B474-4B09-B644-A8634A629280"}, {"vulnerable": true, "criteria": "cpe:2.3:o:suse:linux_enterprise_server:10:sp4:*:*:ltss:*:*:*", "matchCriteriaId": "35BBD83D-BDC7-4678-BE94-639F59281139"}, {"vulnerable": true, "criteria": "cpe:2.3:o:suse:linux_enterprise_server:11:sp2:*:*:ltss:*:*:*", "matchCriteriaId": "CB6476C7-03F2-4939-AB85-69AA524516D9"}, {"vulnerable": true, "criteria": "cpe:2.3:o:suse:linux_enterprise_server:11:sp3:*:*:ltss:*:*:*", "matchCriteriaId": "B12243B2-D726-404C-ABFF-F1AB51BA1783"}, {"vulnerable": true, "criteria": "cpe:2.3:o:suse:manager:2.1:*:*:*:*:*:*:*", "matchCriteriaId": "2A33B9F5-E0D1-4A3E-9FFB-5602A25F3227"}, {"vulnerable": true, "criteria": "cpe:2.3:o:suse:manager_proxy:2.1:*:*:*:*:*:*:*", "matchCriteriaId": "53F0F5A0-70D9-4305-A834-B6FF71E27B30"}, {"vulnerable": true, "criteria": "cpe:2.3:o:suse:openstack_cloud:5:*:*:*:*:*:*:*", "matchCriteriaId": "88BCD7DC-0FEF-477D-8698-F8D8F1A49D90"}]}]}, {"operator": "AND", "nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:o:redhat:enterprise_linux_desktop:6.0:*:*:*:*:*:*:*", "matchCriteriaId": "EE249E1B-A1FD-4E08-AA71-A0E1F10FFE97"}, {"vulnerable": true, "criteria": "cpe:2.3:o:redhat:enterprise_linux_desktop:7.0:*:*:*:*:*:*:*", "matchCriteriaId": "33C068A4-3780-4EAB-A937-6082DF847564"}, {"vulnerable": true, "criteria": "cpe:2.3:o:redhat:enterprise_linux_hpc_node:6.0:*:*:*:*:*:*:*", "matchCriteriaId": "C2FAC325-6EEB-466D-9EBA-8ED4DBC9CFBF"}, {"vulnerable": true, "criteria": "cpe:2.3:o:redhat:enterprise_linux_hpc_node:7.0:*:*:*:*:*:*:*", "matchCriteriaId": "3C84489B-B08C-4854-8A12-D01B6E45CF79"}, {"vulnerable": true, "criteria": "cpe:2.3:o:redhat:enterprise_linux_server:6.0:*:*:*:*:*:*:*", "matchCriteriaId": "9BBCD86A-E6C7-4444-9D74-F861084090F0"}, {"vulnerable": true, "criteria": "cpe:2.3:o:redhat:enterprise_linux_server:7.0:*:*:*:*:*:*:*", "matchCriteriaId": "51EF4996-72F4-4FA4-814F-F5991E7A8318"}, {"vulnerable": true, "criteria": "cpe:2.3:o:redhat:enterprise_linux_workstation:6.0:*:*:*:*:*:*:*", "matchCriteriaId": "E5ED5807-55B7-47C5-97A6-03233F4FBC3A"}, {"vulnerable": true, "criteria": "cpe:2.3:o:redhat:enterprise_linux_workstation:7.0:*:*:*:*:*:*:*", "matchCriteriaId": "825ECE2D-E232-46E0-A047-074B34DB1E97"}]}]}, {"operator": "AND", "nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:o:debian:debian_linux:7.0:*:*:*:*:*:*:*", "matchCriteriaId": "16F59A04-14CF-49E2-9973-645477EA09DA"}, {"vulnerable": true, "criteria": "cpe:2.3:o:debian:debian_linux:8.0:*:*:*:*:*:*:*", "matchCriteriaId": "C11E6FB0-C8C0-4527-9AA0-CB9B316F8F43"}]}]}, {"operator": "AND", "nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:o:canonical:ubuntu_linux:12.04:*:*:*:lts:*:*:*", "matchCriteriaId": "B6B7CAD7-9D4E-4FDB-88E3-1E583210A01F"}, {"vulnerable": true, "criteria": "cpe:2.3:o:canonical:ubuntu_linux:14.04:*:*:*:lts:*:*:*", "matchCriteriaId": "B5A6F2F3-4894-4392-8296-3B8DD2679084"}, {"vulnerable": true, "criteria": "cpe:2.3:o:canonical:ubuntu_linux:15.04:*:*:*:*:*:*:*", "matchCriteriaId": "F38D3B7E-8429-473F-BB31-FC3583EE5A5B"}, {"vulnerable": true, "criteria": "cpe:2.3:o:canonical:ubuntu_linux:15.10:*:*:*:*:*:*:*", "matchCriteriaId": "E88A537F-F4D0-46B9-9E37-965233C2A355"}]}]}, {"operator": "AND", "nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:ntp:ntp:*:p355:*:*:*:*:*:*", "versionEndIncluding": "4.2.7", "matchCriteriaId": "07FBDFE4-D886-4461-A360-480F50BD12C7"}]}]}, {"operator": "AND", "nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:o:novell:leap:42.2:*:*:*:*:*:*:*", "matchCriteriaId": "A64AAD2D-38ED-4BA2-A27A-A2716F28D43A"}, {"vulnerable": true, "criteria": "cpe:2.3:o:opensuse:leap:42.1:*:*:*:*:*:*:*", "matchCriteriaId": "4863BE36-D16A-4D75-90D9-FD76DB5B48B7"}]}]}, {"operator": "AND", "nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:o:siemens:tim_4r-ie_firmware:*:*:*:*:*:*:*:*", "matchCriteriaId": "E0730ED6-676B-4200-BC07-C0B4531B242C"}]}, {"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": false, "criteria": "cpe:2.3:h:siemens:tim_4r-ie:-:*:*:*:*:*:*:*", "matchCriteriaId": "0B87B16C-9E9F-448B-9255-B2BB2B8CAD63"}]}]}, {"operator": "AND", "nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:o:siemens:tim_4r-id_dnp3_firmware:*:*:*:*:*:*:*:*", "matchCriteriaId": "B8851DB6-6B63-4D78-A100-50F81B4DF75B"}]}, {"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": false, "criteria": "cpe:2.3:h:siemens:tim_4r-id_dnp3:-:*:*:*:*:*:*:*", "matchCriteriaId": "1A8AC343-6F4F-4CAF-BD09-F8F1D2F6DBB0"}]}]}, {"operator": "AND", "nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:o:oracle:linux:6:-:*:*:*:*:*:*", "matchCriteriaId": "D7B037A8-72A6-4DFF-94B2-D688A5F6F876"}]}]}], "references": [{"url": "http://aix.software.ibm.com/aix/efixes/security/ntp_advisory4.asc", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}, {"url": "http://bk1.ntp.org/ntp-dev/?PAGE=patch&REV=51786731Gr4-NOrTBC_a_uXO4wuGhg", "source": "secalert@redhat.com", "tags": ["Issue Tracking", "Patch", "Third Party Advisory"]}, {"url": "http://lists.fedoraproject.org/pipermail/package-announce/2015-November/170926.html", "source": "secalert@redhat.com", "tags": ["Mailing List", "Third Party Advisory"]}, {"url": "http://lists.fedoraproject.org/pipermail/package-announce/2015-October/169167.html", "source": "secalert@redhat.com", "tags": ["Mailing List", "Third Party Advisory"]}, {"url": "http://lists.fedoraproject.org/pipermail/package-announce/2015-September/166992.html", "source": "secalert@redhat.com", "tags": ["Mailing List", "Third Party Advisory"]}, {"url": "http://rhn.redhat.com/errata/RHSA-2016-0780.html", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}, {"url": "http://rhn.redhat.com/errata/RHSA-2016-2583.html", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}, {"url": "http://www.debian.org/security/2015/dsa-3388", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}, {"url": "http://www.openwall.com/lists/oss-security/2015/08/25/3", "source": "secalert@redhat.com", "tags": ["Mailing List", "Patch", "Third Party Advisory"]}, {"url": "http://www.oracle.com/technetwork/topics/security/linuxbulletinapr2016-2952096.html", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}, {"url": "http://www.securityfocus.com/bid/76473", "source": "secalert@redhat.com", "tags": ["Third Party Advisory", "VDB Entry"]}, {"url": "http://www.ubuntu.com/usn/USN-2783-1", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}, {"url": "https://bugzilla.redhat.com/show_bug.cgi?id=1255118", "source": "secalert@redhat.com", "tags": ["Issue Tracking"]}, {"url": "https://cert-portal.siemens.com/productcert/pdf/ssa-497656.pdf", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}, {"url": "https://github.com/ntp-project/ntp/commit/5f295cd05c3c136d39f5b3e500a2d781bdbb59c8", "source": "secalert@redhat.com", "tags": ["Issue Tracking", "Patch", "Third Party Advisory"]}, {"url": "https://us-cert.cisa.gov/ics/advisories/icsa-21-103-11", "source": "secalert@redhat.com", "tags": ["Third Party Advisory", "US Government Resource"]}, {"url": "https://www-01.ibm.com/support/docview.wss?uid=isg3T1024157", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}, {"url": "https://www-01.ibm.com/support/docview.wss?uid=swg21985122", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}, {"url": "https://www-01.ibm.com/support/docview.wss?uid=swg21986956", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}, {"url": "https://www-01.ibm.com/support/docview.wss?uid=swg21988706", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}, {"url": "https://www-01.ibm.com/support/docview.wss?uid=swg21989542", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}, {"url": "https://www.ibm.com/support/home/docdisplay?lndocid=migr-5099409", "source": "secalert@redhat.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/ntp-project/ntp/commit/5f295cd05c3c136d39f5b3e500a2d781bdbb59c8"}}