{"buggy_code": ["package com.java2nb.novel.controller;\n\nimport com.java2nb.common.config.CacheKey;\nimport com.java2nb.common.utils.PageBean;\nimport com.java2nb.common.utils.Query;\nimport com.java2nb.common.utils.R;\nimport com.java2nb.novel.domain.FriendLinkDO;\nimport com.java2nb.novel.service.FriendLinkService;\nimport io.swagger.annotations.ApiOperation;\nimport org.apache.shiro.authz.annotation.RequiresPermissions;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * @author xiongxy\n * @email 1179705413@qq.com\n * @date 2023-04-14 15:12:25\n */\n\n@Controller\n@RequestMapping(\"/novel/friendLink\")\npublic class FriendLinkController {\n\n    @Autowired\n    private FriendLinkService friendLinkService;\n    @Autowired\n    private RedisTemplate<Object, Object> redisTemplate;\n\n    @GetMapping()\n    @RequiresPermissions(\"novel:friendLink:friendLink\")\n    String FriendLink() {\n        return \"novel/friendLink/friendLink\";\n    }\n\n    @ApiOperation(value = \"\u83b7\u53d6\u5217\u8868\", notes = \"\u83b7\u53d6\u5217\u8868\")\n    @ResponseBody\n    @GetMapping(\"/list\")\n    @RequiresPermissions(\"novel:friendLink:friendLink\")\n    public R list(@RequestParam Map<String, Object> params) {\n        //\u67e5\u8be2\u5217\u8868\u6570\u636e\n        Query query = new Query(params);\n        List<FriendLinkDO> friendLinkList = friendLinkService.list(query);\n        int total = friendLinkService.count(query);\n        PageBean pageBean = new PageBean(friendLinkList, total);\n        return R.ok().put(\"data\", pageBean);\n    }\n\n    @ApiOperation(value = \"\u65b0\u589e\u9875\u9762\", notes = \"\u65b0\u589e\u9875\u9762\")\n    @GetMapping(\"/add\")\n    @RequiresPermissions(\"novel:friendLink:add\")\n    String add() {\n        return \"novel/friendLink/add\";\n    }\n\n    @ApiOperation(value = \"\u4fee\u6539\u9875\u9762\", notes = \"\u4fee\u6539\u9875\u9762\")\n    @GetMapping(\"/edit/{id}\")\n    @RequiresPermissions(\"novel:friendLink:edit\")\n    String edit(@PathVariable(\"id\") Integer id, Model model) {\n        FriendLinkDO friendLink = friendLinkService.get(id);\n        model.addAttribute(\"friendLink\", friendLink);\n        return \"novel/friendLink/edit\";\n    }\n\n    @ApiOperation(value = \"\u67e5\u770b\u9875\u9762\", notes = \"\u67e5\u770b\u9875\u9762\")\n    @GetMapping(\"/detail/{id}\")\n    @RequiresPermissions(\"novel:friendLink:detail\")\n    String detail(@PathVariable(\"id\") Integer id, Model model) {\n        FriendLinkDO friendLink = friendLinkService.get(id);\n        model.addAttribute(\"friendLink\", friendLink);\n        return \"novel/friendLink/detail\";\n    }\n\n    /**\n     * \u4fdd\u5b58\n     */\n    @ApiOperation(value = \"\u65b0\u589e\", notes = \"\u65b0\u589e\")\n    @ResponseBody\n    @PostMapping(\"/save\")\n    @RequiresPermissions(\"novel:friendLink:add\")\n    public R save(FriendLinkDO friendLink) {\n        if (friendLinkService.save(friendLink) > 0) {\n            redisTemplate.delete(CacheKey.INDEX_LINK_KEY);\n            return R.ok();\n        }\n        return R.error();\n    }\n\n    /**\n     * \u4fee\u6539\n     */\n    @ApiOperation(value = \"\u4fee\u6539\", notes = \"\u4fee\u6539\")\n    @ResponseBody\n    @RequestMapping(\"/update\")\n    @RequiresPermissions(\"novel:friendLink:edit\")\n    public R update(FriendLinkDO friendLink) {\n        friendLinkService.update(friendLink);\n        redisTemplate.delete(CacheKey.INDEX_LINK_KEY);\n        return R.ok();\n    }\n\n    /**\n     * \u5220\u9664\n     */\n    @ApiOperation(value = \"\u5220\u9664\", notes = \"\u5220\u9664\")\n    @PostMapping(\"/remove\")\n    @ResponseBody\n    @RequiresPermissions(\"novel:friendLink:remove\")\n    public R remove(Integer id) {\n        if (friendLinkService.remove(id) > 0) {\n            redisTemplate.delete(CacheKey.INDEX_LINK_KEY);\n            return R.ok();\n        }\n        return R.error();\n    }\n\n    /**\n     * \u5220\u9664\n     */\n    @ApiOperation(value = \"\u6279\u91cf\u5220\u9664\", notes = \"\u6279\u91cf\u5220\u9664\")\n    @PostMapping(\"/batchRemove\")\n    @ResponseBody\n    @RequiresPermissions(\"novel:friendLink:batchRemove\")\n    public R remove(@RequestParam(\"ids[]\") Integer[] ids) {\n        friendLinkService.batchRemove(ids);\n        redisTemplate.delete(CacheKey.INDEX_LINK_KEY);\n        return R.ok();\n    }\n\n}\n", "package com.java2nb.novel.domain;\n\nimport java.io.Serializable;\n\n\nimport java.math.BigDecimal;\n\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.java2nb.common.jsonserializer.LongToStringSerializer;\n\n\nimport org.springframework.format.annotation.DateTimeFormat;\nimport java.util.Date;\n\n\n\n/**\n * \n * \n * @author xiongxy\n * @email 1179705413@qq.com\n * @date 2023-04-14 15:12:25\n */\npublic class FriendLinkDO implements Serializable {\n\tprivate static final long serialVersionUID = 1L;\n\n\t\n\t//\u4e3b\u952e\n\t\t\tprivate Integer id;\n\t//\u94fe\u63a5\u540d\n\t\t\tprivate String linkName;\n\t//\u94fe\u63a5url\n\t\t\tprivate String linkUrl;\n\t//\u6392\u5e8f\u53f7\n\t\t\tprivate Integer sort;\n\t//\u662f\u5426\u5f00\u542f\uff0c0\uff1a\u4e0d\u5f00\u542f\uff0c1\uff1a\u5f00\u542f\n\t\t\tprivate Integer isOpen;\n\t//\u521b\u5efa\u4ebaid\n\t\t//java\u4e2d\u7684long\u80fd\u8868\u793a\u7684\u8303\u56f4\u6bd4js\u4e2dnumber\u5927,\u4e5f\u5c31\u610f\u5473\u7740\u90e8\u5206\u6570\u503c\u5728js\u4e2d\u5b58\u4e0d\u4e0b(\u53d8\u6210\u4e0d\u51c6\u786e\u7684\u503c)\n\t//\u6240\u4ee5\u901a\u8fc7\u5e8f\u5217\u5316\u6210\u5b57\u7b26\u4e32\u6765\u89e3\u51b3\n\t@JsonSerialize(using = LongToStringSerializer.class)\n\t\t\tprivate Long createUserId;\n\t//\u521b\u5efa\u65f6\u95f4\n\t\t\t@DateTimeFormat(pattern = \"yyyy-MM-dd HH:mm:ss\")\n\t\tprivate Date createTime;\n\t//\u66f4\u65b0\u8005\u7528\u6237id\n\t\t//java\u4e2d\u7684long\u80fd\u8868\u793a\u7684\u8303\u56f4\u6bd4js\u4e2dnumber\u5927,\u4e5f\u5c31\u610f\u5473\u7740\u90e8\u5206\u6570\u503c\u5728js\u4e2d\u5b58\u4e0d\u4e0b(\u53d8\u6210\u4e0d\u51c6\u786e\u7684\u503c)\n\t//\u6240\u4ee5\u901a\u8fc7\u5e8f\u5217\u5316\u6210\u5b57\u7b26\u4e32\u6765\u89e3\u51b3\n\t@JsonSerialize(using = LongToStringSerializer.class)\n\t\t\tprivate Long updateUserId;\n\t//\u66f4\u65b0\u65f6\u95f4\n\t\t\t@DateTimeFormat(pattern = \"yyyy-MM-dd HH:mm:ss\")\n\t\tprivate Date updateTime;\n\n\t/**\n\t * \u8bbe\u7f6e\uff1a\u4e3b\u952e\n\t */\n\tpublic void setId(Integer id) {\n\t\tthis.id = id;\n\t}\n\t/**\n\t * \u83b7\u53d6\uff1a\u4e3b\u952e\n\t */\n\tpublic Integer getId() {\n\t\treturn id;\n\t}\n\t/**\n\t * \u8bbe\u7f6e\uff1a\u94fe\u63a5\u540d\n\t */\n\tpublic void setLinkName(String linkName) {\n\t\tthis.linkName = linkName;\n\t}\n\t/**\n\t * \u83b7\u53d6\uff1a\u94fe\u63a5\u540d\n\t */\n\tpublic String getLinkName() {\n\t\treturn linkName;\n\t}\n\t/**\n\t * \u8bbe\u7f6e\uff1a\u94fe\u63a5url\n\t */\n\tpublic void setLinkUrl(String linkUrl) {\n\t\tthis.linkUrl = linkUrl;\n\t}\n\t/**\n\t * \u83b7\u53d6\uff1a\u94fe\u63a5url\n\t */\n\tpublic String getLinkUrl() {\n\t\treturn linkUrl;\n\t}\n\t/**\n\t * \u8bbe\u7f6e\uff1a\u6392\u5e8f\u53f7\n\t */\n\tpublic void setSort(Integer sort) {\n\t\tthis.sort = sort;\n\t}\n\t/**\n\t * \u83b7\u53d6\uff1a\u6392\u5e8f\u53f7\n\t */\n\tpublic Integer getSort() {\n\t\treturn sort;\n\t}\n\t/**\n\t * \u8bbe\u7f6e\uff1a\u662f\u5426\u5f00\u542f\uff0c0\uff1a\u4e0d\u5f00\u542f\uff0c1\uff1a\u5f00\u542f\n\t */\n\tpublic void setIsOpen(Integer isOpen) {\n\t\tthis.isOpen = isOpen;\n\t}\n\t/**\n\t * \u83b7\u53d6\uff1a\u662f\u5426\u5f00\u542f\uff0c0\uff1a\u4e0d\u5f00\u542f\uff0c1\uff1a\u5f00\u542f\n\t */\n\tpublic Integer getIsOpen() {\n\t\treturn isOpen;\n\t}\n\t/**\n\t * \u8bbe\u7f6e\uff1a\u521b\u5efa\u4ebaid\n\t */\n\tpublic void setCreateUserId(Long createUserId) {\n\t\tthis.createUserId = createUserId;\n\t}\n\t/**\n\t * \u83b7\u53d6\uff1a\u521b\u5efa\u4ebaid\n\t */\n\tpublic Long getCreateUserId() {\n\t\treturn createUserId;\n\t}\n\t/**\n\t * \u8bbe\u7f6e\uff1a\u521b\u5efa\u65f6\u95f4\n\t */\n\tpublic void setCreateTime(Date createTime) {\n\t\tthis.createTime = createTime;\n\t}\n\t/**\n\t * \u83b7\u53d6\uff1a\u521b\u5efa\u65f6\u95f4\n\t */\n\tpublic Date getCreateTime() {\n\t\treturn createTime;\n\t}\n\t/**\n\t * \u8bbe\u7f6e\uff1a\u66f4\u65b0\u8005\u7528\u6237id\n\t */\n\tpublic void setUpdateUserId(Long updateUserId) {\n\t\tthis.updateUserId = updateUserId;\n\t}\n\t/**\n\t * \u83b7\u53d6\uff1a\u66f4\u65b0\u8005\u7528\u6237id\n\t */\n\tpublic Long getUpdateUserId() {\n\t\treturn updateUserId;\n\t}\n\t/**\n\t * \u8bbe\u7f6e\uff1a\u66f4\u65b0\u65f6\u95f4\n\t */\n\tpublic void setUpdateTime(Date updateTime) {\n\t\tthis.updateTime = updateTime;\n\t}\n\t/**\n\t * \u83b7\u53d6\uff1a\u66f4\u65b0\u65f6\u95f4\n\t */\n\tpublic Date getUpdateTime() {\n\t\treturn updateTime;\n\t}\n}\n", "<!DOCTYPE html>\n<html>\n<meta charset=\"utf-8\">\n<head th:include=\"include :: header\"></head>\n<body class=\"gray-bg\">\n<div class=\"wrapper wrapper-content \">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"ibox float-e-margins\">\n                <div class=\"ibox-content\">\n                    <form class=\"form-horizontal m-t\" id=\"signupForm\">\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u94fe\u63a5\u540d\uff1a</label>\n                            <div class=\"col-sm-8\">\n                                <input id=\"linkName\" name=\"linkName\"\n                                       class=\"form-control\"\n                                       type=\"text\" required>\n\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u94fe\u63a5url\uff1a</label>\n                            <div class=\"col-sm-8\">\n                                <input id=\"linkUrl\" name=\"linkUrl\"\n                                       class=\"form-control\"\n                                       type=\"text\" required>\n\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u6392\u5e8f\u53f7\uff1a</label>\n                            <div class=\"col-sm-8\">\n                                <input id=\"sort\" name=\"sort\"\n                                       class=\"form-control\"\n                                       type=\"number\" required>\n\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u662f\u5426\u5f00\u542f\uff1a</label>\n                            <div class=\"col-sm-8\">\n\n                                <select data-placeholder=\"--\u9009\u62e9--\" id=\"isOpen\"\n                                        name=\"isOpen\"\n                                        class=\"form-control chosen-select\" tabindex=\"2\"\n                                        dict-type=\"yes_no\" required>\n                                </select>\n\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <div class=\"col-sm-8 col-sm-offset-3\">\n                                <button type=\"submit\" class=\"btn btn-primary\">\u63d0\u4ea4</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div th:include=\"include::footer\"></div>\n<script type=\"text/javascript\" src=\"/wangEditor/release/wangEditor.js\"></script>\n<script type=\"text/javascript\" src=\"/js/appjs/novel/friendLink/add.js\">\n</script>\n</body>\n</html>\n", "<!DOCTYPE html>\n<html>\n<meta charset=\"utf-8\">\n<head th:include=\"include :: header\"></head>\n<body class=\"gray-bg\">\n<div class=\"wrapper wrapper-content \">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"ibox float-e-margins\">\n                <div class=\"ibox-content\">\n                    <form class=\"form-horizontal m-t\" id=\"signupForm\">\n                        <input id=\"id\" name=\"id\" th:value=\"${friendLink.id}\"\n                               type=\"hidden\">\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u94fe\u63a5\u540d\uff1a</label>\n                            <div class=\"col-sm-8\">\n                                <input id=\"linkName\" name=\"linkName\"\n                                       th:value=\"${friendLink.linkName}\"\n                                       class=\"form-control\"\n                                       type=\"text\" required>\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u94fe\u63a5url\uff1a</label>\n                            <div class=\"col-sm-8\">\n                                <input id=\"linkUrl\" name=\"linkUrl\"\n                                       th:value=\"${friendLink.linkUrl}\"\n                                       class=\"form-control\"\n                                       type=\"text\" required>\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u6392\u5e8f\u53f7\uff1a</label>\n                            <div class=\"col-sm-8\">\n                                <input id=\"sort\" name=\"sort\"\n                                       th:value=\"${friendLink.sort}\"\n                                       class=\"form-control\"\n                                       type=\"number\" required>\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u662f\u5426\u5f00\u542f\uff1a</label>\n                            <div class=\"col-sm-8\">\n\n                                <select data-placeholder=\"--\u9009\u62e9--\" id=\"isOpen\"\n                                        name=\"isOpen\"\n                                        class=\"form-control chosen-select\" tabindex=\"2\"\n                                        dict-type=\"yes_no\"\n                                        th:attr=\"dict-value=${friendLink.isOpen}\" required>\n                                </select>\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <div class=\"col-sm-8 col-sm-offset-3\">\n                                <button type=\"submit\" class=\"btn btn-primary\">\u63d0\u4ea4</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div th:include=\"include::footer\"></div>\n<script type=\"text/javascript\" src=\"/wangEditor/release/wangEditor.js\"></script>\n<script type=\"text/javascript\" src=\"/js/appjs/novel/friendLink/edit.js\">\n</script>\n</body>\n</html>\n"], "fixing_code": ["package com.java2nb.novel.controller;\n\nimport com.java2nb.common.config.CacheKey;\nimport com.java2nb.common.utils.PageBean;\nimport com.java2nb.common.utils.Query;\nimport com.java2nb.common.utils.R;\nimport com.java2nb.novel.domain.FriendLinkDO;\nimport com.java2nb.novel.service.FriendLinkService;\nimport io.swagger.annotations.ApiOperation;\nimport org.apache.shiro.authz.annotation.RequiresPermissions;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * @author xiongxy\n * @email 1179705413@qq.com\n * @date 2023-04-14 15:12:25\n */\n\n@Controller\n@RequestMapping(\"/novel/friendLink\")\npublic class FriendLinkController {\n\n    @Autowired\n    private FriendLinkService friendLinkService;\n    @Autowired\n    private RedisTemplate<Object, Object> redisTemplate;\n\n    @GetMapping()\n    @RequiresPermissions(\"novel:friendLink:friendLink\")\n    String FriendLink() {\n        return \"novel/friendLink/friendLink\";\n    }\n\n    @ApiOperation(value = \"\u83b7\u53d6\u5217\u8868\", notes = \"\u83b7\u53d6\u5217\u8868\")\n    @ResponseBody\n    @GetMapping(\"/list\")\n    @RequiresPermissions(\"novel:friendLink:friendLink\")\n    public R list(@RequestParam Map<String, Object> params) {\n        //\u67e5\u8be2\u5217\u8868\u6570\u636e\n        Query query = new Query(params);\n        List<FriendLinkDO> friendLinkList = friendLinkService.list(query);\n        int total = friendLinkService.count(query);\n        PageBean pageBean = new PageBean(friendLinkList, total);\n        return R.ok().put(\"data\", pageBean);\n    }\n\n    @ApiOperation(value = \"\u65b0\u589e\u9875\u9762\", notes = \"\u65b0\u589e\u9875\u9762\")\n    @GetMapping(\"/add\")\n    @RequiresPermissions(\"novel:friendLink:add\")\n    String add() {\n        return \"novel/friendLink/add\";\n    }\n\n    @ApiOperation(value = \"\u4fee\u6539\u9875\u9762\", notes = \"\u4fee\u6539\u9875\u9762\")\n    @GetMapping(\"/edit/{id}\")\n    @RequiresPermissions(\"novel:friendLink:edit\")\n    String edit(@PathVariable(\"id\") Integer id, Model model) {\n        FriendLinkDO friendLink = friendLinkService.get(id);\n        model.addAttribute(\"friendLink\", friendLink);\n        return \"novel/friendLink/edit\";\n    }\n\n    @ApiOperation(value = \"\u67e5\u770b\u9875\u9762\", notes = \"\u67e5\u770b\u9875\u9762\")\n    @GetMapping(\"/detail/{id}\")\n    @RequiresPermissions(\"novel:friendLink:detail\")\n    String detail(@PathVariable(\"id\") Integer id, Model model) {\n        FriendLinkDO friendLink = friendLinkService.get(id);\n        model.addAttribute(\"friendLink\", friendLink);\n        return \"novel/friendLink/detail\";\n    }\n\n    /**\n     * \u4fdd\u5b58\n     */\n    @ApiOperation(value = \"\u65b0\u589e\", notes = \"\u65b0\u589e\")\n    @ResponseBody\n    @PostMapping(\"/save\")\n    @RequiresPermissions(\"novel:friendLink:add\")\n    public R save(@Validated FriendLinkDO friendLink) {\n        if (friendLinkService.save(friendLink) > 0) {\n            redisTemplate.delete(CacheKey.INDEX_LINK_KEY);\n            return R.ok();\n        }\n        return R.error();\n    }\n\n    /**\n     * \u4fee\u6539\n     */\n    @ApiOperation(value = \"\u4fee\u6539\", notes = \"\u4fee\u6539\")\n    @ResponseBody\n    @RequestMapping(\"/update\")\n    @RequiresPermissions(\"novel:friendLink:edit\")\n    public R update(@Validated FriendLinkDO friendLink) {\n        friendLinkService.update(friendLink);\n        redisTemplate.delete(CacheKey.INDEX_LINK_KEY);\n        return R.ok();\n    }\n\n    /**\n     * \u5220\u9664\n     */\n    @ApiOperation(value = \"\u5220\u9664\", notes = \"\u5220\u9664\")\n    @PostMapping(\"/remove\")\n    @ResponseBody\n    @RequiresPermissions(\"novel:friendLink:remove\")\n    public R remove(Integer id) {\n        if (friendLinkService.remove(id) > 0) {\n            redisTemplate.delete(CacheKey.INDEX_LINK_KEY);\n            return R.ok();\n        }\n        return R.error();\n    }\n\n    /**\n     * \u5220\u9664\n     */\n    @ApiOperation(value = \"\u6279\u91cf\u5220\u9664\", notes = \"\u6279\u91cf\u5220\u9664\")\n    @PostMapping(\"/batchRemove\")\n    @ResponseBody\n    @RequiresPermissions(\"novel:friendLink:batchRemove\")\n    public R remove(@RequestParam(\"ids[]\") Integer[] ids) {\n        friendLinkService.batchRemove(ids);\n        redisTemplate.delete(CacheKey.INDEX_LINK_KEY);\n        return R.ok();\n    }\n\n}\n", "package com.java2nb.novel.domain;\n\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.java2nb.common.jsonserializer.LongToStringSerializer;\nimport org.hibernate.validator.constraints.URL;\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport java.io.Serializable;\nimport java.util.Date;\n\n\n/**\n * @author xiongxy\n * @email 1179705413@qq.com\n * @date 2023-04-14 15:12:25\n */\npublic class FriendLinkDO implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n\n    //\u4e3b\u952e\n    private Integer id;\n    //\u94fe\u63a5\u540d\n    private String linkName;\n    //\u94fe\u63a5url\n    @URL\n    private String linkUrl;\n    //\u6392\u5e8f\u53f7\n    private Integer sort;\n    //\u662f\u5426\u5f00\u542f\uff0c0\uff1a\u4e0d\u5f00\u542f\uff0c1\uff1a\u5f00\u542f\n    private Integer isOpen;\n    //\u521b\u5efa\u4ebaid\n    //java\u4e2d\u7684long\u80fd\u8868\u793a\u7684\u8303\u56f4\u6bd4js\u4e2dnumber\u5927,\u4e5f\u5c31\u610f\u5473\u7740\u90e8\u5206\u6570\u503c\u5728js\u4e2d\u5b58\u4e0d\u4e0b(\u53d8\u6210\u4e0d\u51c6\u786e\u7684\u503c)\n    //\u6240\u4ee5\u901a\u8fc7\u5e8f\u5217\u5316\u6210\u5b57\u7b26\u4e32\u6765\u89e3\u51b3\n    @JsonSerialize(using = LongToStringSerializer.class)\n    private Long createUserId;\n    //\u521b\u5efa\u65f6\u95f4\n    @DateTimeFormat(pattern = \"yyyy-MM-dd HH:mm:ss\")\n    private Date createTime;\n    //\u66f4\u65b0\u8005\u7528\u6237id\n    //java\u4e2d\u7684long\u80fd\u8868\u793a\u7684\u8303\u56f4\u6bd4js\u4e2dnumber\u5927,\u4e5f\u5c31\u610f\u5473\u7740\u90e8\u5206\u6570\u503c\u5728js\u4e2d\u5b58\u4e0d\u4e0b(\u53d8\u6210\u4e0d\u51c6\u786e\u7684\u503c)\n    //\u6240\u4ee5\u901a\u8fc7\u5e8f\u5217\u5316\u6210\u5b57\u7b26\u4e32\u6765\u89e3\u51b3\n    @JsonSerialize(using = LongToStringSerializer.class)\n    private Long updateUserId;\n    //\u66f4\u65b0\u65f6\u95f4\n    @DateTimeFormat(pattern = \"yyyy-MM-dd HH:mm:ss\")\n    private Date updateTime;\n\n    /**\n     * \u8bbe\u7f6e\uff1a\u4e3b\u952e\n     */\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    /**\n     * \u83b7\u53d6\uff1a\u4e3b\u952e\n     */\n    public Integer getId() {\n        return id;\n    }\n\n    /**\n     * \u8bbe\u7f6e\uff1a\u94fe\u63a5\u540d\n     */\n    public void setLinkName(String linkName) {\n        this.linkName = linkName;\n    }\n\n    /**\n     * \u83b7\u53d6\uff1a\u94fe\u63a5\u540d\n     */\n    public String getLinkName() {\n        return linkName;\n    }\n\n    /**\n     * \u8bbe\u7f6e\uff1a\u94fe\u63a5url\n     */\n    public void setLinkUrl(String linkUrl) {\n        this.linkUrl = linkUrl;\n    }\n\n    /**\n     * \u83b7\u53d6\uff1a\u94fe\u63a5url\n     */\n    public String getLinkUrl() {\n        return linkUrl;\n    }\n\n    /**\n     * \u8bbe\u7f6e\uff1a\u6392\u5e8f\u53f7\n     */\n    public void setSort(Integer sort) {\n        this.sort = sort;\n    }\n\n    /**\n     * \u83b7\u53d6\uff1a\u6392\u5e8f\u53f7\n     */\n    public Integer getSort() {\n        return sort;\n    }\n\n    /**\n     * \u8bbe\u7f6e\uff1a\u662f\u5426\u5f00\u542f\uff0c0\uff1a\u4e0d\u5f00\u542f\uff0c1\uff1a\u5f00\u542f\n     */\n    public void setIsOpen(Integer isOpen) {\n        this.isOpen = isOpen;\n    }\n\n    /**\n     * \u83b7\u53d6\uff1a\u662f\u5426\u5f00\u542f\uff0c0\uff1a\u4e0d\u5f00\u542f\uff0c1\uff1a\u5f00\u542f\n     */\n    public Integer getIsOpen() {\n        return isOpen;\n    }\n\n    /**\n     * \u8bbe\u7f6e\uff1a\u521b\u5efa\u4ebaid\n     */\n    public void setCreateUserId(Long createUserId) {\n        this.createUserId = createUserId;\n    }\n\n    /**\n     * \u83b7\u53d6\uff1a\u521b\u5efa\u4ebaid\n     */\n    public Long getCreateUserId() {\n        return createUserId;\n    }\n\n    /**\n     * \u8bbe\u7f6e\uff1a\u521b\u5efa\u65f6\u95f4\n     */\n    public void setCreateTime(Date createTime) {\n        this.createTime = createTime;\n    }\n\n    /**\n     * \u83b7\u53d6\uff1a\u521b\u5efa\u65f6\u95f4\n     */\n    public Date getCreateTime() {\n        return createTime;\n    }\n\n    /**\n     * \u8bbe\u7f6e\uff1a\u66f4\u65b0\u8005\u7528\u6237id\n     */\n    public void setUpdateUserId(Long updateUserId) {\n        this.updateUserId = updateUserId;\n    }\n\n    /**\n     * \u83b7\u53d6\uff1a\u66f4\u65b0\u8005\u7528\u6237id\n     */\n    public Long getUpdateUserId() {\n        return updateUserId;\n    }\n\n    /**\n     * \u8bbe\u7f6e\uff1a\u66f4\u65b0\u65f6\u95f4\n     */\n    public void setUpdateTime(Date updateTime) {\n        this.updateTime = updateTime;\n    }\n\n    /**\n     * \u83b7\u53d6\uff1a\u66f4\u65b0\u65f6\u95f4\n     */\n    public Date getUpdateTime() {\n        return updateTime;\n    }\n}\n", "<!DOCTYPE html>\n<html>\n<meta charset=\"utf-8\">\n<head th:include=\"include :: header\"></head>\n<body class=\"gray-bg\">\n<div class=\"wrapper wrapper-content \">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"ibox float-e-margins\">\n                <div class=\"ibox-content\">\n                    <form class=\"form-horizontal m-t\" id=\"signupForm\">\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u94fe\u63a5\u540d\uff1a</label>\n                            <div class=\"col-sm-8\">\n                                <input id=\"linkName\" name=\"linkName\"\n                                       class=\"form-control\"\n                                       type=\"text\" required>\n\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u94fe\u63a5url\uff1a</label>\n                            <div class=\"col-sm-8\">\n                                <input id=\"linkUrl\" name=\"linkUrl\"\n                                       class=\"form-control\"\n                                       type=\"url\" required>\n\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u6392\u5e8f\u53f7\uff1a</label>\n                            <div class=\"col-sm-8\">\n                                <input id=\"sort\" name=\"sort\"\n                                       class=\"form-control\"\n                                       type=\"number\" required>\n\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u662f\u5426\u5f00\u542f\uff1a</label>\n                            <div class=\"col-sm-8\">\n\n                                <select data-placeholder=\"--\u9009\u62e9--\" id=\"isOpen\"\n                                        name=\"isOpen\"\n                                        class=\"form-control chosen-select\" tabindex=\"2\"\n                                        dict-type=\"yes_no\" required>\n                                </select>\n\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <div class=\"col-sm-8 col-sm-offset-3\">\n                                <button type=\"submit\" class=\"btn btn-primary\">\u63d0\u4ea4</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div th:include=\"include::footer\"></div>\n<script type=\"text/javascript\" src=\"/wangEditor/release/wangEditor.js\"></script>\n<script type=\"text/javascript\" src=\"/js/appjs/novel/friendLink/add.js\">\n</script>\n</body>\n</html>\n", "<!DOCTYPE html>\n<html>\n<meta charset=\"utf-8\">\n<head th:include=\"include :: header\"></head>\n<body class=\"gray-bg\">\n<div class=\"wrapper wrapper-content \">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"ibox float-e-margins\">\n                <div class=\"ibox-content\">\n                    <form class=\"form-horizontal m-t\" id=\"signupForm\">\n                        <input id=\"id\" name=\"id\" th:value=\"${friendLink.id}\"\n                               type=\"hidden\">\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u94fe\u63a5\u540d\uff1a</label>\n                            <div class=\"col-sm-8\">\n                                <input id=\"linkName\" name=\"linkName\"\n                                       th:value=\"${friendLink.linkName}\"\n                                       class=\"form-control\"\n                                       type=\"text\" required>\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u94fe\u63a5url\uff1a</label>\n                            <div class=\"col-sm-8\">\n                                <input id=\"linkUrl\" name=\"linkUrl\"\n                                       th:value=\"${friendLink.linkUrl}\"\n                                       class=\"form-control\"\n                                       type=\"url\" required>\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u6392\u5e8f\u53f7\uff1a</label>\n                            <div class=\"col-sm-8\">\n                                <input id=\"sort\" name=\"sort\"\n                                       th:value=\"${friendLink.sort}\"\n                                       class=\"form-control\"\n                                       type=\"number\" required>\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"col-sm-3 control-label\">\u662f\u5426\u5f00\u542f\uff1a</label>\n                            <div class=\"col-sm-8\">\n\n                                <select data-placeholder=\"--\u9009\u62e9--\" id=\"isOpen\"\n                                        name=\"isOpen\"\n                                        class=\"form-control chosen-select\" tabindex=\"2\"\n                                        dict-type=\"yes_no\"\n                                        th:attr=\"dict-value=${friendLink.isOpen}\" required>\n                                </select>\n                            </div>\n                        </div>\n                        <div class=\"form-group\">\n                            <div class=\"col-sm-8 col-sm-offset-3\">\n                                <button type=\"submit\" class=\"btn btn-primary\">\u63d0\u4ea4</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div th:include=\"include::footer\"></div>\n<script type=\"text/javascript\" src=\"/wangEditor/release/wangEditor.js\"></script>\n<script type=\"text/javascript\" src=\"/js/appjs/novel/friendLink/edit.js\">\n</script>\n</body>\n</html>\n"], "filenames": ["novel-admin/src/main/java/com/java2nb/novel/controller/FriendLinkController.java", "novel-admin/src/main/java/com/java2nb/novel/domain/FriendLinkDO.java", "novel-admin/src/main/resources/templates/novel/friendLink/add.html", "novel-admin/src/main/resources/templates/novel/friendLink/edit.html"], "buggy_code_start_loc": [14, 2, 26, 29], "buggy_code_end_loc": [102, 163, 27, 30], "fixing_code_start_loc": [15, 1, 26, 29], "fixing_code_end_loc": [103, 175, 27, 30], "type": "CWE-79", "message": "A vulnerability was found in Novel-Plus up to 4.2.0. It has been declared as problematic. Affected by this vulnerability is an unknown functionality of the file novel-admin/src/main/java/com/java2nb/novel/controller/FriendLinkController.java of the component Friendly Link Handler. The manipulation leads to cross site scripting. The attack can be launched remotely. The exploit has been disclosed to the public and may be used. The patch is named d6093d8182362422370d7eaf6c53afde9ee45215. It is recommended to apply a patch to fix this issue. The associated identifier of this vulnerability is VDB-249307.", "other": {"cve": {"id": "CVE-2023-7171", "sourceIdentifier": "cna@vuldb.com", "published": "2023-12-29T18:15:39.517", "lastModified": "2024-02-29T01:42:58.070", "vulnStatus": "Modified", "descriptions": [{"lang": "en", "value": "A vulnerability was found in Novel-Plus up to 4.2.0. It has been declared as problematic. Affected by this vulnerability is an unknown functionality of the file novel-admin/src/main/java/com/java2nb/novel/controller/FriendLinkController.java of the component Friendly Link Handler. The manipulation leads to cross site scripting. The attack can be launched remotely. The exploit has been disclosed to the public and may be used. The patch is named d6093d8182362422370d7eaf6c53afde9ee45215. It is recommended to apply a patch to fix this issue. The associated identifier of this vulnerability is VDB-249307."}, {"lang": "es", "value": "Se encontr\u00f3 una vulnerabilidad en Novel-Plus hasta 4.2.0. Ha sido declarada problem\u00e1tica. Una funci\u00f3n desconocida del archivo novel-admin/src/main/java/com/java2nb/novel/controller/FriendLinkController.java del componente Friendly Link Handler es afectada por esta vulnerabilidad. La manipulaci\u00f3n conduce a cross site scripting. El ataque se puede lanzar de forma remota. La explotaci\u00f3n ha sido divulgada al p\u00fablico y puede utilizarse. El parche se llama d6093d8182362422370d7eaf6c53afde9ee45215. Se recomienda aplicar un parche para solucionar este problema. El identificador asociado de esta vulnerabilidad es VDB-249307."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:H/UI:R/S:C/C:L/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "HIGH", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 4.8, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 1.7, "impactScore": 2.7}, {"source": "cna@vuldb.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:H/UI:R/S:U/C:N/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "HIGH", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 2.4, "baseSeverity": "LOW"}, "exploitabilityScore": 0.9, "impactScore": 1.4}], "cvssMetricV2": [{"source": "cna@vuldb.com", "type": "Secondary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:M/C:N/I:P/A:N", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "MULTIPLE", "confidentialityImpact": "NONE", "integrityImpact": "PARTIAL", "availabilityImpact": "NONE", "baseScore": 3.3}, "baseSeverity": "LOW", "exploitabilityScore": 6.4, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "cna@vuldb.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-79"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:xxyopen:novel-plus:*:*:*:*:*:*:*:*", "versionEndIncluding": "4.2.0", "matchCriteriaId": "87014C48-21C3-4855-9141-8F5FD17B5C0D"}]}]}], "references": [{"url": "https://github.com/201206030/novel-plus/commit/d6093d8182362422370d7eaf6c53afde9ee45215", "source": "cna@vuldb.com", "tags": ["Patch"]}, {"url": "https://github.com/JTZ-a/SRC/blob/master/novel-plus/storedXSS2/en-us.md", "source": "cna@vuldb.com", "tags": ["Exploit"]}, {"url": "https://vuldb.com/?ctiid.249307", "source": "cna@vuldb.com", "tags": ["Permissions Required", "Third Party Advisory"]}, {"url": "https://vuldb.com/?id.249307", "source": "cna@vuldb.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/201206030/novel-plus/commit/d6093d8182362422370d7eaf6c53afde9ee45215"}}