{"buggy_code": ["## 29.1.0\n\n### Enhancements\n- **Gem Changes**\n  - Update to Ruby 3.1.2\n\n## 29.0.0 (April 19, 2022)\n\n### Enhancements\n- **General Changes**\n  - Updated landing page based on new design\n  - The research page is now fixed with for the public facing view\n  - Improved consistency of styling across various public pages\n  - Added Fathom Analytics to website and removed Google Analytics\n  - Updated internal dashboard pages to match new theme\n- **Resource Page Changes**\n  - Resources now have a slug that can act as a short link to the resource\n  - Resources can now be configured to open in a new tab\n- **Gem Changes**\n  - Update to ruby 3.0.2\n\n## 28.0.0 (November 7, 2021)\n\n### Enhancements\n- **Gem Changes**\n  - Update to rails 6.1.4.1\n\n### Bug Fix\n- Fixed a bug that prevented posts from posting correctly\n- Fixed an issue where mobile safari would play the globe video when clicking\n  on the MyApnea menu item\n- Fixed a bug that would generate excessive notifications for users who chose to\n  be auto-subscribed to new forum posts\n\n## 27.0.0 (October 9, 2021)\n\n### Enhancements\n- **Forum Changes**\n  - Email notifications for replies to forum topics have been re-added\n    - Notifications are only sent to users who have subscribed to the forum\n      topic and who have emails enabled\n  - Old topics are now auto-locked after 100 years (and not 2 months)\n\n### Bug Fix\n- Fixed a bug that prevented a nested reply from being linked\n- Fixed a bug that caused remote forms from correctly rendering the response\n- Fixed video not playing on landing page\n\n## 26.0.0 (April 18, 2021)\n\n### Enhancements\n- **General Changes**\n  - Privacy policy now redirects to https://www.massgeneralbrigham.org/notices/web-privacy-policy\n  - Added Google Analytics\n- **Resource Page Changes**\n  - Images on resources now also link to the resource URL\n\n### Bug Fix\n- Fixed a bug that prevented new articles from reusing a URL slug from a\n  previously deleted article\n\n## 25.0.0 (April 11, 2021)\n\n### Enhancements\n- **Admin Changes**\n  - Add a Slice Subject ID export task\n  - Topics marked as spam are no longer listed on the index for admins\n- **General Changes**\n  - A new resources page was added that allows admins to create and list\n    resources for general visitors of the website\n  - Added note to the MyApnea contact page that MyApnea is not affiliated with\n    MyAir or Resmed\n- **Forum Changes**\n  - Existing replies to locked topics now be edited or deleted after the topic\n    has been locked\n- **Gem Changes**\n  - Update to ruby 3.0.1\n  - Update to rails 6.1.3.1\n  - Update to pg 1.2.3\n  - Update to bootstrap 4.4.1\n  - Update to carrierwave 2.2.1\n  - Update to devise 4.7.3\n  - Update to figaro 1.2.0\n  - Update to font-awesome-sass 5.12.0\n  - Update to haml 5.2.1\n  - Update to kaminari 1.2.1\n  - Update to pg_search 2.3.2\n  - Update to redcarpet 3.5.1\n  - Update to rubyzip 2.3.0\n  - Update to coffee-rails 5.0\n  - Update to jquery-rails 4.3.5\n\n### Bug Fixes\n- Dashboard forum activity no longer displays replies to deleted topics\n\n## 24.0.1 (May 28, 2019)\n\n### Enhancements\n- **Article Changes**\n  - Articles in draft mode now display category for editors\n- **Gem Changes**\n  - Update to haml 5.1.1\n  - Update to jbuilder 2.9\n  - Update to pg_search 2.2.0\n  - Update to rubyzip 1.2.3\n\n### Bug Fix\n- Fix an issue displaying topics without last reply at timestamp\n\n## 24.0.0 (May 10, 2019)\n\n### Enhancements\n- **Admin Changes**\n  - Include \"Email confirmed\" in user export\n- **Gem Changes**\n  - Update to ruby 2.6.3\n  - Update to devise 4.6.2\n\n## 23.0.0 (April 10, 2019)\n\n### Enhancements\n- **Gem Changes**\n  - Update to ruby 2.6.2\n  - Update to rails 6.0.0.beta3\n  - Update to font-awesome-sass 5.8.1\n\n## 22.0.0 (February 26, 2019)\n\n### Enhancements\n- **General Changes**\n  - Landing page survey count now includes newly completed surveys from Slice\n    along with original survey count\n  - Tabs now display better on smaller screens\n- **Project Changes**\n  - A primary project can now be specified that determines the consent displayed\n    on the root consent URL\n- **Survey Changes**\n  - Dashboard now displays next survey question\n- **Gem Changes**\n  - Update to ruby 2.6.1\n  - Update to rails 6.0.0.beta1\n  - Update to pg 1.1.4\n  - Update to bootstrap 4.3.1\n  - Update to carrierwave 1.3.1\n  - Update to devise 4.6.1\n  - Update to hashids 1.0.5\n  - Update to mini_magick 4.9.3\n  - Update to pg_search 2.1.4\n  - Update to sitemap_generator 6.0.2\n\n## 21.1.0 (January 2, 2019)\n\n### Enhancements\n- **General Changes**\n  - Contact page support email information moved above support email\n- **Gem Changes**\n  - Update to ruby 2.6.0\n  - Update to rails 5.2.2\n  - Update to bootstrap 4.2.1\n  - Update to font-awesome-sass 5.6.1\n\n### Bug Fix\n- Fixed styling of sunset decoration on admin pages\n- Fixed issue caused by replying to restored forum topics that had no slug\n\n## 21.0.0 (November 29, 2018)\n\n### Enhancements\n- **Forum Changes**\n  - Improved spam filters\n- **Survey Changes**\n  - Improved process of leaving and rejoining a research study\n  - Overview reports and project consents are now generated in temporary\n    folders that are deleted after generating the PDFs\n- **Gem Changes**\n  - Update to rails 5.2.1.1\n  - Update to font-awesome-sass 5.5.0\n\n### Bug Fix\n- Fixed missing gradient on landing page \"Community Power\" section\n\n## 20.0.0 (November 5, 2018)\n\n### Enhancements\n- **Survey Changes**\n  - Improve survey stability and submission of responses to Slice API\n\n## 19.0.0 (October 25, 2018)\n\n### Enhancements\n- **General Changes**\n  - Add updated Privacy Policy\n  - Clarify purpose of support email on contact page\n- **Forum Changes**\n  - Locked topics now provide information on why they are locked\n  - Forum badges are now more visible\n  - Original Poster added as a more prominent forum badge\n  - Add customizable forum badges\n    - Examples: Support Team, Researcher, and Sleep Professional\n  - Generic \"Secret Man\" forum placeholder photo replaced with more\n    gender-neutral user icon\n- **Gem Changes**\n  - Update to ruby 2.5.3\n  - Update to font-awesome-sass 5.4.1\n\n### Refactoring\n- Remove legacy JavaScript polyfills and code\n\n### Bug Fix\n- Fixed \"Write a Reply\" redirection on topics with interleaved deleted replies\n\n## 18.1.0 (October 10, 2018)\n\n### Enhancements\n- **General Changes**\n  - External research projects can be added to research page\n- **Admin Changes**\n  - Paginated results are no longer counted in admin report for Help Center\n    searches\n- **Gem Changes**\n  - Update to rails 5.2.1\n  - Update to pg 1.1.3\n  - Update to bootstrap 4.1.3\n  - Update to carrierwave 1.2.3\n  - Update to devise 4.5.0\n  - Update to jquery-rails 4.3.3\n  - Update to mini_magick 4.9.2\n  - Update to rubyzip 1.2.2\n  - Update to sitemap_generator 6.0.1\n\n## 18.0.1 (September 4, 2018)\n\n### Bug Fix\n- Admin exports now complete successfully\n\n## 18.0.0 (August 7, 2018)\n\n### Enhancements\n- **General Changes**\n  - Added tagline to forum and research pages to better describe the website for\n    users visiting from search engine results\n  - Updated the team page\n  - Added terms and conditions and privacy policy links to footer\n  - Added cookie notification to footer\n  - Updated framework files to resemble Rails 5.2 defaults more closely\n- **Admin Changes**\n  - Team members can now be reordered using drag-and-drop\n  - Updated exports interface\n  - Improved navigation between admin pages\n  - Added admin report for Help Center searches\n- **Blog Changes**\n  - Simplified navigation between live blog and unpublished (draft) articles\n  - Blogs can now have a cover image\n- **Dashboard Changes**\n  - Added navigational tabs to dashboard to simplify navigating between\n    dashboard, profile, research, and the forum\n- **Email Changes**\n  - Account confirmation and password reset emails now address the recipient by\n    first name if present instead of using username to reduce confusion for\n    users revisiting the site after several years\n- **Export Changes**\n  - Simplified user export\n- **Forum Changes**\n  - Added a prominent forum search to the forum index\n  - Topics now auto-lock after two months of inactivity\n  - Improved bolding and italicizing selected text\n- **Search Changes**\n  - Member profile previews are displayed when searching usernames\n  - Added customized search results\n- **Survey Changes**\n  - Updated events and designs to match new Slice survey API format\n  - Consent flow has been improved for logged out new and existing users\n- **Report Changes**\n  - Reports now correctly render markdown in graph titles\n  - Graphs that display time of day that default to PM are now shifted by 12\n    hours to better display responses over the midnight time range\n\n### Testing\n- Removed dependency on rails-controller-testing gem\n- Added tests to check friendly forwarding\n\n## 17.5.2 (June 12, 2018)\n\n### Bug Fix\n- Fixed an issue sorting forum topics by number of replies\n\n## 17.5.1 (May 18, 2018)\n\n### Bug Fix\n- Fixed an issue downloading consent PDFs and survey overview report PDFs\n\n## 17.5.0 (May 15, 2018)\n\n### Enhancements\n- **Survey Changes**\n  - Survey questions can now include markup for underline, italic, highlight, as\n    well as bold\n\n## 17.4.0 (May 9, 2018)\n\n### Enhancements\n- **Admin Changes**\n  - Admins can now review profile changes\n- **Survey Changes**\n  - Survey completeness is no longer affected by changes to survey event and\n    design slug changes\n\n## 17.3.0 (May 3, 2018)\n\n### Enhancements\n- **General Changes**\n  - Removed Google Analytics\n  - Improved password autocomplete\n- **Forum Changes**\n  - Improved spam filters\n- **Gem Changes**\n  - Updated to bootstrap 4.1.1\n\n## 17.2.0 (April 19, 2018)\n\n### Enhancments\n- **Survey Changes**\n  - Updated text on the MyApnea core survey report\n- **Gem Changes**\n  - Updated to ruby 2.5.1\n  - Updated to rails 5.2.0\n  - Updated to bootstrap 4.1.0\n  - Updated to devise 4.4.3\n  - Updated to simplecov 0.16.1\n  - Updated to capybara 3.0\n\n### Bug Fix\n- Fixed a bug that prevented study overview report from loading when referencing\n  a subject that no longer existed\n\n## 17.1.0 (March 14, 2018)\n\n### Enhancements\n- **Admin Changes**\n  - Added an admin spam report\n  - Admins can flag accounts as spam from users index\n- **Email Changes**\n  - Email confirmation is now required for all accounts\n  - Added detection of disposable email addresses\n- **Survey Changes**\n  - Updated \"Insomnia Scale\" text on summary report\n\n## 17.0.0 (March 8, 2018)\n\n### Enhancements\n- **General Changes**\n  - Updated styling of Terms of Access and Terms and Conditions\n- **Admin Changes**\n  - Admins can now perma-delete replies on blog posts and forum topics\n- **Blog Changes**\n  - Reduced display of deleted replies without replies of their own on the blog\n- **Email Changes**\n  - Started testing conditional email confirmation requirements\n  - Changing account email now requires reconfirming the change via email\n- **Forum Changes**\n  - Forum posts now show link text instead of URL in preview on dashboard\n- **Survey Changes**\n  - Added the MyApnea core survey report\n  - Updated interface to account for surveys that were completed with skipped\n    questions\n  - Users can now review their survey responses before advancing to the next\n    survey\n- **Gem Changes**\n  - Updated to rails 5.2.0.rc1\n  - Updated to pg 1.0.0\n\n### Refactoring\n- Removed deprecated survey module\n- Removed deprecated broadcast comments\n\n### Bug Fix\n- Fixed a bug that prevented blog post and forum topic previews and image\n  uploads from working correctly\n\n## 16.1.2 (February 13, 2018)\n\n### Bug Fix\n- Fixed error loading notifications when an associated topic had been deleted\n\n## 16.1.1 (January 31, 2018)\n\n### Bug Fix\n- Fixed `sitemap.xml.gz` file not being accessible\n\n## 16.1.0 (January 30, 2018)\n\n### Enhancements\n- **Dashboard Changes**\n  - Decreased size of user profile pictgure on the dashboard on mobile\n- **Forum Changes**\n  - Users can disable being auto-subscribed after replying to forum topics in\n    their settings\n  - Improved contrast of usernames on forum index\n  - Replies now link the bio for users that have completed a public profile\n  - Improved loading speed of the forum index\n  - Adjusted spacing of \"Back to Forum\" button on mobile\n- **Research Changes**\n  - Minor update to \"surveys being updated\" text\n\n### Bug Fix\n- Education articles are now correctly listed in the Help Center\n\n## 16.0.0 (January 29, 2018)\n\n### Enhancements\n- **General Changes**\n  - Improved the user interface to better focus on the forum, research studies\n    and surveys, and articles/blog\n  - The landing page has been simplified to create a better starting point for\n    future updates\n  - The help center has been added which integrates site FAQs and site-wide\n    search\n  - Registration and signing in now makes better use of friendly forwarding\n  - The dashboard now shows user replies from the blog and from the forum\n  - The research page has been redesigned to support multiple research studies\n    and also highlights recent research articles\n- **Profile Changes**\n  - Updated design of member profiles\n  - A user's \"Top\" and \"Recent\" topics are now listed on the member profile\n  - A user can provide a optional bio and location that displays on the member\n    profile\n  - Simplified the registration process\n    - Users are now asked to provide their own username as opposed to an\n      automatically generated one\n    - Users are no longer asked for age and full name on registration, this\n      has been moved to the research portal of the site when a user goes through\n      the consent process for a research study\n    - This allows users to more easily sign up and get started on the forum\n- **Admin Changes**\n  - Major revamp of the administrative interface\n  - Admin image pages list replies and broadcasts that reference the image\n  - Added a report manager role\n  - Admins can manage projects that link to Slice research studies\n- **Blog Changes**\n  - Added content manager role to streamline creation of articles for\n    \"Education\", \"FAQs\", and other static pages\n  - FAQs now exist as blog pages, however the \"FAQs\" category does not show up\n    on the blog roll, and is styled differently than regular blog posts\n  - FAQs can be rated and ranked in terms of helpfulness\n  - FAQs will also show up in search results on the help center\n- **Forum Changes**\n  - Adjusted how the forum index displays on mobile devices\n  - Forum usernames are now set at sign up by the user, however a pre-generated\n    username is provided as an example to the user\n  - Improved the display of images in posts on the forum\n  - Users can now subscribe to forum topics\n    - Creating a new topic automatically subscribes the author to the topic\n    - Replying to a topic automatically subscribes a user to the topic, unless\n      the user has previously unsubscribed from the topic\n    - In-app notifications are sent to topic subscribers\n  - Users can now auto-subscribe to new forum topics in their settings\n- **Projects Added**\n  - A project represents a research study in MyApnea, and provides a link to\n    the associated Slice project surveys and database records\n  - Sets of surveys are now grouped by project, the initial set of surveys on\n    MyApnea are going into the MyApnea Core project\n  - Users now have to go through the consent process for each research study\n    they wish to join\n- **Survey Changes**\n  - Surveys now leverage the Slice API\n  - The internal survey data model for MyApnea has been removed and replaced\n    with the more robust Slice data model\n  - The Slice API provides study event timelines, conditional surveys, survey\n    completion, branching logic, data validation, and a number of other\n    features: https://tryslice.io/docs\n- **Gem Changes**\n  - Updated to ruby 2.5.0\n  - Updated to rails 5.2.0.beta2\n  - Updated to bootstrap 4.0.0\n  - Updated to carrierwave 1.2.2\n  - Updated to devise 4.4.1\n  - Updated to hashids 1.0.4\n  - Updated to pg_search 2.1.2\n\n### Tests\n- Added tests to assure user passwords can be reset\n- Added system tests to track changes to user interface\n\n### Bug Fix\n- Welcome email should no longer be sent twice\n\n### Refactoring\n- Removed typeahead library\n- Combined blog post replies and forum topic replies into one model\n- Renamed internal forum chapters to topics\n\n## 15.1.2 (December 18, 2017)\n\n### Bug Fix\n- Added missing page title to HTML head\n\n## 15.1.1 (December 15, 2017)\n\n### Enhancements\n- **General Changes**\n  - Minor changes to wording on about page\n\n## 15.1.0 (December 15, 2017)\n\n### Enhancements\n- **Forum Changes**\n  - Improved management of spam accounts\n- **Gem Changes**\n  - Updated to ruby 2.4.3\n  - Updated `Gemfile` to `gems.rb`\n  - Updated to rails 5.1.4\n  - Updated to carrierwave 1.2.1\n  - Updated to devise 4.3.0\n  - Updated to haml 5.0.4\n  - Updated to jquery-rails 4.3.1\n  - Updated to kaminari 1.1.1\n  - Updated to pg_search 2.1.1\n  - Updated to rubyzip 1.2.1\n  - Updated to sitemap_generator 6.0.0\n  - Updated to simplecov 0.15.1\n\n## 15.0.5 (November 27, 2017)\n\n### Enhancements\n- **Forum Changes**\n  - Improvements to spam detection\n\n## 15.0.4 (November 16, 2017)\n\n### Enhancements\n- **Admin Changes**\n  - Admins can now empty spam from the spam inbox\n- **Forum Changes**\n  - Improved spam detection heuristics\n  - Spammers no longer affect topic view counts\n- **Gem Changes**\n  - Updated to pg 0.21.0\n\n## 15.0.3 (May 11, 2017)\n\n### Enhancements\n- **General Changes**\n  - Login cookies are now cross subdomain and work between www and non-www URLs\n  - Changed human verification from \"Invisible\" to \"I'm not a robot\" ReCAPTCHA\n- **Gem Changes**\n  - Updated to Ruby 2.4.1\n  - Updated to rails 5.0.2\n  - Updated to pg 0.20.0\n  - Updated to carrierwave 1.1.0\n  - Updated to haml 5.0.1\n  - Updated to simplecov 0.14.1\n  - Updated to sitemap_generator 5.3.1\n\n## 15.0.2 (January 23, 2017)\n\n### Enhancements\n- **Admin Changes**\n  - Improved user management for admins on user index\n\n## 15.0.1 (January 23, 2017)\n\n### Enhancements\n- **General Changes**\n  - Added an invisible reCAPTCHA to sign up page\n  - Contact Us link is now visible in footer on mobile devices\n- **Blog Changes**\n  - Improved language when creating and publishing blog posts\n- **Forum Changes**\n  - Badges for engaged forum users have been added:\n    - Sleep Commentator: Over 100 posts\n    - Sleep Enthusiast: Over 500 posts\n    - Sleep Innovater: Over 1,000 posts\n    - Sleep Patron: Over 2,000 posts\n    - Sleep Champion: Over 5,000 posts\n- **Profile Changes**\n  - Improved photo caching to correctly update photo on settings page when using\n    drag-and-drop\n- **Gem Changes**\n  - Added autoprefixer-rails\n  - Updated to kaminari 1.0.1\n  - Updated to hashids 1.0.3\n\n### Bug Fix\n- Fixed maps not displaying on community page\n- Fixed a bug that incorrectly loaded some pages at a lower scroll position\n\n## 15.0.0 (January 9, 2017)\n\n### Enhancements\n- **Gem Changes**\n  - Updated to Ruby 2.4.0\n  - Updated to rails 5.0.1\n  - Updated to carrierwave 1.0.0\n  - Updated to jquery-rails 4.2.2\n  - Updated to redcarpet 3.4.0\n  - Updated to pg_search 2.0.1\n  - Updated to jquery-ui-rails 6.0.1\n\n## 14.2.5 (November 30, 2016)\n\n### Enhancements\n- **Gem Changes**\n  - Dropped support for Ruby 2.2\n  - Updated to Ruby 2.3.3\n  - Updated to pg 0.19.0\n  - Updated to jquery-rails 4.2.1\n  - Updated to sitemap_generator 5.2.0\n\n### Bug Fix\n- Fixed a bug that prevented \"Skip this question\" from being selected when\n  filling out About Me survey during the sign up process\n\n## 14.2.4 (September 6, 2016)\n\n### Bug Fix\n- Fixed an issue clicking \"I acknowledge these changes\" after privacy policy and\n  consent updates that would make the button appear unresponsive\n\n## 14.2.3 (August 17, 2016)\n\n### Bug Fix\n- The admin user index now displays the correct total number of users\n\n## 14.2.2 (August 16, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Linking exports is now more consistent\n\n## 14.2.1 (August 16, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Change default sort direction to descending for user reply and sign in count\n\n## 14.2.0 (August 16, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Added another column to user export\n  - Added sortable columns to users index\n\n## 14.1.0 (August 16, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Improved information provided in user exports\n\n## 14.0.1 (August 12, 2016)\n\n### Enhancements\n- **Gem Changes**\n  - Updated to rails 5.0.0.1\n\n### Bug Fix\n- Mobile devices no longer need to click twice to vote\n- Rails model errors are now again correctly styled using Bootstrap CSS classes\n\n## 14.0.0 (August 9, 2016)\n\n### Enhancements\n- **General Changes**\n  - Updated styling across several pages to be more consistent\n  - Simplified styling on consent and terms and condition pages\n  - Users can now permanently delete their account from the settings page\n- **Admin Changes**\n  - Added a link to Admin Dashboard in mobile dropdown menu\n  - Improved forum post management\n  - Removed extraneous icon from CSV export button\n- **Blog Changes**\n  - Rich text editor buttons have been added to the blog editor\n- **Forum Changes**\n  - Upvote and downvote buttons have changed and also provide a link to learn\n    how to vote\n- **Gem Changes**\n  - Updated to rails 5.0.0\n  - Updated to coffee-rails 4.2\n  - Updated to jbuilder 2.5\n  - Updated to jquery-rails 4.1.1\n  - Updated to turbolinks 5\n  - Added rails-controller-testing\n\n### Refactoring\n- **General Cleanup**\n  - Rank the Research functionality has been removed\n    - Accepted research articles are available on the blog, and suggested research\n      topics can now be discussed on the forum\n  - Removed unused enagements functionality\n  - Removed old lottery code\n  - All emails are now sent in a background process\n- **Configuration Cleanup**\n  - Simplified configuration options\n  - Updated configuration of google analytics file\n  - Cleaned up existing migration files\n- **Forum Cleanup**\n  - Removed old forum backend files\n  - Removed forum name autocomplete as users are now emailed if they are\n    subscribed to a topic instead of sending emails for mentions\n- **Registration Cleanup**\n  - Started work on simplifying registration process\n  - Removed unused user contact information\n- **Survey Cleanup**\n  - Removed deprecated `display_type` column from questions\n  - Removed deprecated `data_type column` from answer_templates\n  - Removed deprecated `allow_multiple column` from answer_templates\n  - Removed Groupable concern as it is no longer need with PG 9.5\n  - Cleaned up unused survey JavaScript\n\n### Bug Fix\n- Fixed a bug that allowed users to be assigned the same survey multiple times\n  after switching roles\n- Child age range restriction now matches age listed in consent\n- Fixed a bug sorting replies on a member's profile page\n\n## 13.2.1 (July 26, 2016)\n\n### Bug Fix\n- Fixed an issue rendering an incorrect layout on the dashbaord\n\n## 13.2.0 (July 26, 2016)\n\n### Enhancements\n- **Survey Changes**\n  - The survey interface has been slightly adjusted to better match other pages\n    across the website\n  - The child survey interface dashboard has been improved\n- **Forum Changes**\n  - Users are now redirected back to the forum if signing in after visiting a\n    forum page\n- **Gem Changes**\n  - Updated to devise 4.2.0\n  - Updated to simplecov 0.12.0\n  - Updated to colorize 0.8.1\n\n## 13.1.0 (July 20, 2016)\n\n### Enhancements\n- **Blog Changes**\n  - Added menu item to allow community contributors to view blog drafts\n- **Forum Changes**\n  - Made changes to reduce the overall number of spam posts\n\n## 13.0.3 (July 1, 2016)\n\n### Bug Fix\n- Restricted version of Turbolinks to 2.5.3\n\n## 13.0.2 (June 24, 2016)\n\n### Enhancements\n- **Forum Changes**\n  - Replies can no longer be nested under the first comment in a topic\n  - The Rich Text Editor \"Link\" button now provides better details on formatting\n    a link with corresponding link text\n  - Added a unique index to chapter slugs\n  - Posts on member profile page are now sorted chronologically\n  - Posts on deleted topics are no longer counted towards a member's total post\n    count\n  - Deleted users posts no longer appear on the dashboard\n  - Forum topic views is now displayed using abbreviations for large numbers\n\n### Refactoring\n- Simplified group by clause for replies and topics for newer PG 9.5\n\n### Bug Fixes\n- The site now properly redirects to the forum index when a deleted reply is\n  visited\n\n## 13.0.1 (June 6, 2016)\n\n### Bug Fixes\n- Fixed location of sitemap reported to Bing and Google\n- Fixed an issue loading forum caused by missing group by clause required by PG\n- Fixed an issue loading topic replies and blog comments for admins\n\n## 13.0.0 (June 6, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Admins can now review blog comments and forum replies and sort by points and\n    creation time\n- **Forum Changes**\n  - The forums have been simplified into a single forum\n  - Users can jump to the last post on a topic from the forum index\n  - Forum post and reply interface has been updated\n  - Search now also includes forum topics and replies\n  - Topics now track how far a user has read, and will display and link to new\n    unread replies to the topic from the forum index\n  - Rich text editing buttons added to forum replies and blog comments\n- **General Changes**\n  - Simplified user interface and styling across site\n  - Site-wide search is now available in the top navigation bar\n  - Removed integration with UserVoice in favor of our support email address\n  - Improved generation of the sitemap\n- **Menu Changes**\n  - The menu has been slimmed down to take up less space\n- **Notifications Added**\n  - In-app notifications are now generated when someone comments on a blog post\n    or replies to another user's comment\n- **Research Topic Changes**\n  - Reduced emphasis across site on submitting research topics\n  - Accepted research topics now redirect to the associated blog post\n- **Gem Changes**\n  - Updated to kaminari 0.17.0\n  - Removed better_errors\n\n## 12.0.0 (May 12, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Removed highlights as these have been replaced by the community-driven blog\n  - Added a new page that allows admins to review all blog comments\n- **Blog Changes**\n  - Improved how blog posts are displayed on the blog index\n  - Improved URL structure for filtering blog posts by category and by author\n  - Added better HTML page titles for blog index and blog posts\n  - A count of total blog posts, and blog posts by category is now displayed in\n    the blog menu\n  - The blog is now searchable using full text search\n  - Links to blog posts now also display the first image present from the blog\n    post if one exists\n- **Landing Page Changes**\n  - Blog posts are now viewable on the landing page\n- **Research Topics**\n  - Removed requirement to do a research tutorial before casting votes\n- **Survey Changes**\n  - Detailed survey report now correctly sorts answer options by position\n  - Minor UI fix to speech bubbles on detailed survey report\n- **Gem Changes**\n  - Updated to Ruby 2.3.1\n  - Updated to devise 4.1.0\n\n### Bug Fixes\n- Fixed a bug that prevented the Submit Survey button from responding for\n  certain browsers\n- Provider infinite scroll no longer activates on every page\n\n## 11.0.0 (April 29, 2016)\n\n### Enhancements\n- **Blog Added**\n  - A new blog has been added to allow community contributors and researchers to\n    discuss sleep apnea and other topics related to MyApnea.Org\n  - Blog posts can be filtered by category\n  - Blog posts have a discussion section that is sorted by best or new comments\n  - Comments on blog posts can be up- and down-voted\n  - Comments can be ordered by highest ranked or newest\n\n## 10.4.0 (April 25, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Survey completion totals no longer count users excluded from exports and\n    reports\n- **Survey Builder Changes**\n  - Improved survey builder user interface\n  - Question slugs are now generated automatically\n  - Answer template names must now follow variable naming conventions\n\n\n### Refactoring\n- Cleaned up how survey questions, answer templates, and answer options are\n  ordered on surveys\n\n### Bug Fix\n- Fixed a bug computing the percentage \"Percentage of Members who think they\n  have sleep apnea for over 2 years:\"\n- Fixed a bug that prevented cancel button from working when adding a survey\n  editor\n- Fixed a bug that displayed duplicate surveys to survey builders\n\n## 10.3.0 (April 21, 2016)\n\n### Enhancements\n- **Email Changes**\n  - Unlock instructions are no longer sent to deleted accounts\n- **General Changes**\n  - Improved the styling for the footer to make it stick to the bottom of the\n    page\n- **Survey Builder Changes**\n  - Survey builders can now invite other builders to view and build surveys\n    together\n  - Survey questions, answer templates, and answer options can now be reordered\n    using drag and drop in the survey builder\n  - Survey builders can now preview surveys as they are being built\n- **Gem Changes**\n  - Updated to rails 4.2.6\n  - Updated to carrierwave 0.11.0\n  - Updated to devise 4.0.0\n\n### Bug Fix\n- Fixed a bug that prevented My Sleep Apnea custom report from generating\n  correct percentage for \"Percentage of Members who think they have sleep apnea\n  for over 2 years:\"\n\n## 10.2.0 (March 15, 2016)\n\n### Enhancements\n- **Map Changes**\n  - Map location is now pulled using a local database lookup\n- **Gem Changes**\n  - Added maxminddb gem\n\n## 10.1.1 (March 3, 2016)\n\n### Enhancements\n- **Email Changes**\n  - Improved the responsiveness and display of emails on smaller devices\n- **Gem Changes**\n  - Updated to rails 4.2.5.2\n  - Updated to simplecov 0.11.2\n\n## 10.1.0 (February 29, 2016)\n\n### Enhancements\n- **Dashboard Changes**\n  - Renamed \"Research Highlights\" to \"Highlights\"\n- **Learn Page Changes**\n  - Added Complex Sleep Apnea to the learn page\n  - Added better navigation between learn pages\n  - Updated styling of PAP device pages\n- **Password Reset Changes**\n  - Password reset emails are no longer sent to deleted users\n  - Provided better message if the email address was not found\n- **Survey Changes**\n  - Updated pediatric consent language\n- **Research Article Changes**\n  - Research articles can now be edited to not include a link to a research topic\n- **About Page Changes**\n  - Updated to indicate the international scope of the research project\n- **Gem Changes**\n  - Updated rubyzip to 1.2.0\n\n### Bug Fixes\n- Fixed a bug that prevented answering questions if a previous question with the same name had been deleted\n\n## 10.0.1 (January 26, 2016)\n\n### Enhancements\n- **Co-enrollment Changes**\n  - Updated styling on \"Welcome Health eHeart Members\" page\n\n## 10.0.0 (January 26, 2016)\n\n### Enhancements\n- **Co-enrollment Changes**\n  - MyApnea.Org members can now coenroll with Health eHeart and vice versa\n- **Research Article Changes**\n  - Admins can now associate a research article to any proposed research topic\n  - Admins can now set SEO keywords for research articles\n- **Gem Changes**\n  - Updated to rails 4.2.5.1\n\n### Refactoring\n- Cleaned up references to page partials\n\n## 9.2.3 (January 13, 2016)\n\n### Bug Fix\n- Fixed a bug that allowed users to set their usernames to existing usernames by changing the letter casing\n\n## 9.2.2 (January 11, 2016)\n\n### Enhancements\n- **Marketing Materials**\n  - Added a marketing materials page with a list of flyers and cards in English and Spanish\n\n## 9.2.1 (January 6, 2016)\n\n### Enhancements\n- **Survey Changes**\n  - New \"CPAP Adherence\" survey added\n  - \"My Risk Profile\" survey has been updated\n  - \"My Sleep Apnea\" survey has been updated\n  - \"My Sleep Apnea Treatment\" survey has been updated\n  - Changed report for sleep apnea symptom stats to match new answer options\n- **Gem Changes**\n  - Updated to Ruby 2.3.0\n  - Updated to web-console 3.0\n\n## 9.2.0 (December 17, 2015)\n\n### Enhancements\n- **Admin Changes**\n  - Added ability to flag industry sponsored clinical trials from admin interface\n  - Added order option for clinical trials\n  - Added interface to create new research articles\n    - Added ability to link approved research topic to research article\n  - Improved dynamic social media content creation\n- **Survey Changes**\n  - Fixed bug where dropdowns were showing two arrow options\n  - Fixed bug that only allowed surveys with <10 questions\n  - Birthdays can be listed as after 1997 to account for children\n  - Improved layout of radio style questions\n  - Added flow for completing multiple pediatric surveys\n  - Pediatric surveys can now be assigned specifically to diagnosed children\n  - Minor wording changes to custom report for sleep apnea symptoms\n  - **Builder Changes**\n    - Added ability to add/edit survey description\n    - Added ability to archive questions\n- **Provider Changes**\n  - Updated and simplified loading of provider index\n  - Added membership count and callout to dashboard\n- **Other Changes**\n  - Added PEP corner\n  - Improved display and usability of risk assessment tool\n  - Added address to user settings\n\n### Refactoring\n- Cleaned out unused javascript files\n- Removed deprecated research topic columns\n\n## 9.1.0 (December 7, 2015)\n\n### Enhancements\n- **Forum Changes**\n  - Improved layout of forum index\n    - Mobile view includes more information\n    - View count is visible to all members\n    - Recent activity is included\n  - Reintroduced easy moderation links for forum posts\n- **Research Changes**\n  - Reintroduced links to propose new research topics and contextual overview to research topic index\n  - Included more information about clinical trials\n    - Added industry sponsor flag\n  - Increase number of highlights displayed on dashboard and research index\n    - Added quick link to view all\n- **Admin Changes**\n  - Improved usability of admin content organization\n    - Can more simply reorder team member list\n    - Able to delete team members from admin dashboard\n  - Added provider column to data export\n- **Survey Changes**\n  - Added ability to archive answer templates in surveys\n- **SEO Improvements**\n  - Included expansive sitemap in txt/xml formats\n- **Gem Changes**\n  - Started testing Ruby 2.3.0-preview1\n  - Updated to simplecov 0.11.1\n\n## 9.0.1 (November 23, 2015)\n\n### Bug Fixes\n- Fixed dashboard to welcome current user by correct name\n- Fixed forum show page to highlight popular topics\n\n## 9.0.0 (November 23, 2015)\n\n### Enhancements\n- **Design Changes**\n  - Switched to fixed-width version of site\n  - Minor updates to landing page\n- **Engagment Changes**\n  - More dynamic widgets located on the dashboard\n    - Update social profile field\n    - Vote on new research topics\n  - Module added to ask free response questions to different user groups\n    - For example, ask diagnosed patients about their diagnostic experience\n  - Users are able to like posts\n  - Users are able to request expert advice for posts\n  - Users are able to comment on individual posts\n- **Provider Changes**\n  - Provider dashboard shows posts sorted by advice requests\n  - Fixed issue with possible redirect loop during consent procedure\n- **Research Changes**\n  - Research topic restructuring for enhanced usability\n- **Admin Changes**\n  - Replaced engagement report with reaction heatmap\n  - Heatmaps added to individual engagements\n  - Moderators receive alert emails for new forum replies\n- **Other**\n  - Added Groupable concern for compatibility with PostgreSQL 8.3\n  - Added list of clinical trials\n  - Improved purpose and navigation between invites\n\n### Refactoring\n- Refactored stylesheets to make better use of SCSS variables\n- Simplified forum views and actions\n\n## 8.5.0 (November 18, 2015)\n\n### Enhancement\n- **Admin Changes**\n  - Updated the location report to provide a summary of the previous week's signups\n- **Gem Changes**\n  - Updated to rails 4.2.5\n  - Updated to pg 0.18.4\n\n## 8.4.1 (October 22, 2015)\n\n### Bug Fixes\n- Removed deprecated calls to `AnswerValue.current` that caused the 'My Sleep Pattern' report to error\n\n## 8.4.0 (October 19, 2015)\n\n### Enhancements\n- **Admin Changes**\n  - Added a data dictionary and data export task for admins\n- **General Changes**\n  - Improved display of uploaded user, highlight, partner, and team member photos\n  - Members page now redirects to forums\n\n## 8.3.0 (October 13, 2015)\n\n### Enhancements\n- **General Changes**\n  - Fixed some minor typos across the website\n  - Added article on sleep apnea and atrial fibrillation\n- **Admin Changes**\n  - Team members can be modified from the admin dashboard\n  - Partners can be modified from the admin dashboard\n  - Clinical trials can be modified from the admin dashboard\n- **Gem Changes**\n  - Added better_errors\n\n## 8.2.2 (September 28, 2015)\n\n### Enhancements\n- **General Changes**\n  - Updated professional titles on research pages\n  - Corrected style of login button to match style used in 8.2.0\n- **Research Highlight Changes**\n  - Improved visibility of accepted research topics link on main Research page\n  - Fixed layout of multiple research highlights on research index\n  - Accepted research highlights are now arranged with the most recent at the top\n\n## 8.2.1 (September 23, 2015)\n\n### Enhancements\n- **Forum Changes**\n  - Temporarily disabled automatic forum reply emails\n- **General Changes**\n  - Updated and added Forgot my Email and Login links\n- **Gem Changes**\n  - Removed minitest-reporters\n\n## 8.2.0 (September 15, 2015)\n\n### Enhancements\n- **General Changes**\n  - Added PEP Chair to Steering Committee list\n  - Temporarily removed advisory council\n  - Added UW to Partners page\n- **Gem Changes**\n  - Updated to pg 0.18.3\n\n## 8.1.0 (September 11, 2015)\n\n### Enhancements\n- **General Changes**\n  - Minor spelling fixes\n  - Added a Code Climate configuration file\n  - Removed lottery language\n  - Fixed changing color of navigation bar\n  - Updated partnerships and relationships\n  - Added hypoglossal nerve stimulation research highlight\n  - Added women comorbidity (sleep apnea/heart disease) research highlight\n- **Gem Changes**\n  - Updated to rails 4.2.4\n  - Set minitest-reporters to use '~> 1.0.20'\n\n### Refactoring\n- Removed helper methods used to transition answer_template to newer format\n- Removed deleted columns from answers and answer_values\n- Removed dependency on report view\n- Improved test coverage for surveys controller\n- Improved test coverage for account controller\n- Improved test coverage for invites controller\n- Improved test coverage for research topics controller\n- Removed deprecated JavaScript and associated views\n\n### API Development\n- Surveys\n  - Now limit survey show response to questions that haven't been answered\n  - Survey description loading from database\n- Old, test version of API removed\n\n## 8.0.0 (August 31, 2015)\n\n### Enhancements\n- **Survey Changes**\n  - Longitudinal surveys can be launched and assigned to users, ex:\n    - `s = Survey.find_by(slug: 'about-me')`\n    - `s.launch_single(user, '6month')`\n  - Followup surveys are launched automatically based on encounter conditions\n    - Email are sent to alert users of new available surveys\n  - Pediatric survey functionality has been added\n    - Caregivers of children can fill out surveys about their children\n    - Baseline surveys are immediately assigned when a child in the proper age range is added by a caregiver of a child\n    - Data export excludes pediatric surveys\n  - Reports are now additionally scoped by encounter (ex: baseline, followup)\n  - Reports that do not have custom reports now redirect to the detailed report view\n  - Minor UI updates to completion display\n- **Online Survey Builder**\n  - Started work on an online survey builder for researchers and team members\n  - The online survey builder will let survey builders specify the following:\n    - The target audience (ex: diagnosed, at risk)\n    - The age range for pediatric surveys (ex: 2..8, 4..10)\n    - The number of encounters and spacing between surveys (ex: baseline, 6 month followup)\n  - Questions can be added to surveys in online builder\n    - Question text and slug can be modified\n    - Answer Templates can be added to questions\n    - Answer Options can be added to answer templates\n    - Question `display_type` and AnswerTemplate `data_type` and `allow_multiple` are no longer used to determine how to display questions on surveys\n    - AnswerTemplates now allow a `template_name` to be specified of the following types:\n      - \"date\", \"radio\", \"checkbox\", \"string\", \"height\", \"number\"\n    - Conditional AnswerTemplates now require a valid parent AnswerTemplate as well as a valid value\n  - Encounters can be added to surveys in online builder\n    - An encounter specifies when the survey is launched, in days after sign up\n- **Onboarding Changes**\n  - Reduced consent and privacy into one step in the process\n  - Removed progress indicators (due to shorter process) and switched to simple layout (without sidebar)\n- **General Changes**\n  - Minor updates to layout of forums, specifically in the headers\n  - Minor updates to layout of highlights to keep consistency with other internal links\n  - Account settings layout updated with improved, less intrusive navigation\n  - Terms and conditions forums displayed in scroll container\n- **Admin Changes**\n  - Administrators can now unlock surveys for users from the user show page\n  - Updated the Version Stats report to be monthly, and renamed to it to the Timeline Report\n  - Admins receive survey followup digest emails when new surveys are assigned to users\n  - All admin pages now use fullscreen layout\n- **Gem Changes**\n  - Updated to Ruby 2.2.3\n  - Only run `web-console` in development mode\n\n### API Development\n- **API**\n  - Users\n    - Added capability to create new users and login existing users via JSON request\n      - Cookies are passed back to allow use of devise user authentication\n      - Home added to test for current session\n    - Photo URL passed for created posts and research topics, if available\n    - Allows capturing of information during onboarding process\n      - Includes consent, user_type, and basic demographic information\n  - Research Topics\n    - Added capability to create new research topics as user\n    - Added capability to cast vote as user\n    - Index page lists all posts\n  - Votes\n    - Added votes, scopable by relevant fields and ratings\n  - Forums\n    - Added capability to get viewable topic index, ordered by activity, and topic show data\n    - Added capability to create new forum topics\n    - Added capability to create new posts\n  - Surveys\n    - Added getter for user's answer sessions\n    - Added survey show page to allow dynamic building on app side\n    - Survey submission will automatically lock surveys if complete\n\n### Bug Fix\n- Fixed and simplified date input parsing to better handle consistency issues across browsers and devices\n- Surveys are now correctly reassigned when a user changes their user type\n  - Unstarted surveys that are no longer applicable are discarded, and started surveys are kept\n- Fixed a bug that could cause users to have above 100% completion on surveys\n- Fixed a bug where new users weren't always marked as ready for research due to consent update dates\n- Flash notices are now being rendered on every page, to ensure they appear at the proper time\n- Fixed an issue displaying pie charts for My Quality of Life survey report\n\n### Refactoring\n- Simplified processing single answers for surveys\n- Reduced JavaScript footprint by removing unused JavaScript files\n- Overwriting views are no longer stored in myapnea subfolder\n- Restructured tests for surveys and improved overall test speed\n- Refactored Survey class in favor of an AnswerSession-centric model\n- Removed unused methods from the User model\n- Removed unused views and partials\n- Health Conditions report no longer relies on extra server JSON request\n- Removed old registration views and methods\n- Removed unused attributes from AnswerSession model\n- Removed unused attributes from Survey model\n\n## 7.5.1 (August 20, 2015)\n\n### Enhancements\n- Changed the copy for the join message on the landing page\n\n## 7.5.0 (August 14, 2015)\n\n### Enhancements\n- **Team Page Changes**\n  - Added additional bios and images to team page\n- **Research Page**\n  - Updated layout to allow for more space\n  - Added current clinical studies\n  - Added display of all highlights listed as research topics\n\n### Bug Fix\n- Removed deprecated configuration option previously used by devise\n\n## 7.4.0 (August 7, 2015)\n\n### Enhancements\n- **Learn Page Changes**\n  - Added educational pages\n    - What is Sleep Apnea\n    - Obstructive Sleep Apnea\n    - Central Sleep Apnea\n    - Causes\n    - Symptoms\n    - Risk Factors\n    - Diagnosis\n    - Treatment\n  - Updated About PAP Therapy section\n- **Landing Page Changes**\n  - Reduced font weight of subheaders\n  - Made white space more consistent\n- **Team Page Changes**\n  - Added first group of PEP members to the team page\n  - Added first round of internal team members to the team page\n  - Autoscrolling used to accomodate for longer list\n- **Minor Changes**\n  - Altered color of navigation bar and removed its drop shadow\n\n## 7.3.2 (July 7, 2015)\n\n### Bug Fix\n- Restructured logic syntax for loading google analytics A/B testing script\n\n## 7.3.1 (July 7, 2015)\n\n### Bug Fix\n- Relocated of google analytics A/B testing script to top of landing page header\n\n## 7.3.0 (July 7, 2015)\n\n### Enhancements\n- **Landing Page Changes**\n  - Implemented framework for A/B testing\n  - Testing video above the fold versus subtitle\n  - Add event tracking for video views\n  - Removed privacy blurb from bottom of landing page, since it's in the privacy policy\n- **General Changes**\n  - Updated styling on unlock account page\n  - Fixed styling of error message on login page when entering an incorrect password\n  - Added json index of research topics for integration with mobile application\n  - Academics are properly forwarded to terms of access when trying to review survey data\n  - Minor stlyistic changes to dashboard layout, including headers for widgets\n  - Added image of didgeridoos to didgeridoo research highlight\n  - Centered waveform image on Learn page\n  - Added bottom padding to sidebar to look more balanced\n- **Admin Changes**\n  - Admins can now disable user emails when deactivating accounts\n  - Fixed daily/weekly count from user index\n  - Added display tooltips for daily engagement points\n  - Added demographic breakdown by time period\n    - Daily engagement report now only available to admins\n  - User sign in count and last session are visible from admin view\n- **Gem Changes**\n  - Updated to redcarpet 3.3.2\n\n### Bug Fix\n- Fixed average satisfaction percentage calculation on My Sleep Apnea Treatment report\n- Adjusted size of large image in about me report that caused screen to stretch\n- Fixed OpenSans font not loading in Internet Explorer by adding `woff` format\n\n## 7.2.2 (June 25, 2015)\n\n### Enhancements\n- **Gem Changes**\n  - Updated to rails 4.2.3\n\n### Bug Fix\n- Posts on forum now correctly display when a user uses the `<` symbol\n\n## 7.2.1 (June 24, 2015)\n\n### Enhancements\n- **Copy Changes**\n  - Changed word 'awesome' to 'dynamic' on landing page\n  - Clarified possible treatment outcomes on learn page\n\n## 7.2.0 (June 24, 2015)\n\n### Enhancements\n- **Landing Page Changes**\n  - Sign up form above the fold\n  - Better use of white space throughout\n  - Allows for easy integration of other elements in the future\n  - Minor updates to styling of provider landing page, including new video\n  - Link to risk assessment added above the fold\n- **Layout Changes**\n  - Navigation has been greatly simplified, and dropdowns mostly removed\n  - Mobile navigation uses modern dropdown with basic navigation\n  - Sidebar includes next steps, to help new members integrate with the community\n  - Public sidebar better explains the features gained as a member\n  - Extra content (including learn pages) are available in the footer\n  - All major pages now have a callout encouraging people to join the site\n    - Tracking established to see which area drives the most conversions\n    - Custom messages developed for different sections of the site\n  - Learn page now acts as a landing page for other content\n    - Infographic type display, with quick links to other learn content\n  - Increased font size for forum index pages\n  - Minor spacing updates for bmi tool on mobile devices\n- **General Changes**\n  - Minor changes to display of large numbers on Community page\n  - Survey index is viewable for logged out users\n  - Successful password change styled to clearly be a success\n  - Added custom page titles and descriptions for search engine optimization\n  - Moved ISSS from learn page to partners page\n  - Updated link to MyApnea.Org welcome video\n  - Added didgeridoo research highlight\n  - Added ability for users to invite new members via email\n  - Added ability for users to invite their personal care provider via email\n  - FAQ research links now link to surveys index, which is publicly viewable\n  - Updates to Privacy Policy to include section on cookies and retargeting\n- **Survey Exports**\n  - Added a data dictionary export task to export all surveys into CSV format\n  - Added a data export task that matches the data dictionary format and is exported into CSV format\n- **Administrative Changes**\n  - Research topic admin dashboard shows total topic and vote counts\n  - Users index can easily highlight who has joined recently, along with daily counts\n  - Added engagement report, to track how many members are completing the sidebar next steps\n  - Changed date format to \"%-m/%-d/%Y\" for submitted research topics in admin view\n  - Added a daily engagement tracker\n    - See post creation, user registration, and survey completion over time\n    - See all activity over the past week\n- **Forum Changes**\n  - Posts that are deleted by users are now marked as hidden, and also track who deleted the post\n- **Gem Changes**\n  - Updated to rails 4.2.3.rc1\n  - Updated to redcarpet 3.3.1\n  - Updated to kaminari 0.16.3\n\n### Refactoring\n- Simplified get started process\n  - Allows the process to easily integrate new user roles in the future\n  - Gives a unified three step process, regardless of consent status\n- Unified code for consent process\n\n### Bug Fix\n- Fixed a bug on the forums that caused email links to be formatted incorrectly\n- Fixed a bug where users editing their comments on research topics redirected them to the forums terms and conditions\n\n## 7.1.4 (June 19, 2015)\n\n### Bug Fix\n- Fixed unlock URL generated by Devise mailer email\n\n## 7.1.3 (June 9, 2015)\n\n### Bug Fix\n- Fixed an issue displaying the landing page on iOS 7 devices\n\n## 7.1.2 (June 8, 2015)\n\n### Bug Fix\n- The landing page now displays better on iPhones in landscape mode\n\n## 7.1.1 (June 4, 2015)\n\n### Bug Fixes\n- Fixed issue with large play video overspilling on mobile landing page\n- The home page no longer shows posts that have been deleted\n\n## 7.1.0 (June 3, 2015)\n\n### Enhancements\n- **Landing Page Changes**\n  - Added the new MyApnea.Org video to the landing page\n  - Minor stylistic changes and user interface enhancements\n  - Videos on landing and learns page now have controls enabled\n  - Shortened and enhanced the intro text above the fold\n  - Better explained our mission below the fold\n  - Added indicator to encourage users to scroll and learn more about MyApnea\n  - Moved community counter closer to the testimonial and signup form\n  - Updated testimonial\n- **Profile Changes**\n  - Posts on member profiles now link to the exact post instead of just the topic\n- **Forum Moderation Changes**\n  - Forum moderators can no longer delete topics and posts\n  - Spam and hidden posts now are displayed in a more consistent way for moderators\n  - Site admins can now delete topics and posts\n  - Moderators can now see the total number of spam topics and posts on the member's profile\n- **Dashboard Changes**\n  - Posts on home page now link directly to post instead of just to the topic\n  - Posts on home page and on member profile pages are shown in full\n  - Posts by current user will now appear on the dashboard\n- **Learn Page Changes**\n  - Hovering over the carousel pictures now changes the mouse pointer to a cursor to indicate that they are clickable\n  - Updated YouTube link to BWH video\n- **Administrative Changes**\n  - Cross tabs report now displays percentages in a cleaner manner\n  - Improved links back to main admin dashboard\n  - Easily access social profile from user profile\n  - Research topics now include links and vote count\n  - Research topics can be edited\n- **General Changes**\n  - Updated styling for flash notification messages\n  - Added standard \"Open Sans\" font family to ensure font consistency across devices and operating systems\n- **Rank the Research Changes**\n  - Voting from member profiles will not dynamically update\n  - Rank the research is now publicly viewable\n  - Research Highlights are now publicly viewable\n\n### Bug Fixes\n- Fixed an issue getting counts for age categories on administrative progress report\n- Users cannot vote from member pages unless they have already completed the Rank the Research tutorial\n- Fixed an issue with styling that allowed unwanted left/right scrolling on landing pages\n- Fixed a bug where topic update notifications were sent even after a user had unsubscribed from a topic\n\n### Refactoring\n- Simplified internal role structure for setting admins and moderators\n\n## 7.0.2 (June 2, 2015)\n\n### Bug Fix\n- Fixed URL links in password reset and account unlock emails\n\n## 7.0.1 (June 1, 2015)\n\n### Bug Fix\n- Fixed an issue with the URL structure for Facebook and Twitter share links\n\n## 7.0.0 (June 1, 2015)\n\n### New Features\n- **Rank the Research Overhaul**\n  - Requires users to go through an intro process\n    - Users will see a dedicated page that introduces and explains the feature\n    - Users will then go through ten dedicated questions, one at a time\n    - Users will finally be able to see the full index, which has been restyled\n      - The most popular topic will be pulled above the fold to encourage further engagement\n      - Endorsed questions will be shown as visual links as a proof of deliverable\n      - Questions are binned by category (newest, most discussed)\n      - Users can submit a question on the index page\n  - Show page for each research topic includes the discussion\n    - Leverages backend functionality of forums, but with custom styling and unique feel\n    - Users are able to vote, and easily change their vote, from this page\n  - Added a 'My Research Topics' page\n    - Shows each research topic, along with its\n      - Status (approved, pending review, rejected)\n      - Endorsement rating\n  - Added Research Highlights\n    - Shows a list of approved research topics from the community\n    - Each accepted question has a write up on its own separate page with unique styling, as needed\n- **Dashboard**\n  - Added ability for admins to dynamically update dashboard highlights\n  - Added a stream of recent posts to the dashboard (continously loads all posts)\n- **Profile Changes**\n  - Members can drag and drop a new photo on the settings page\n  - Uploaded photos are now renamed to obscure any original filename\n  - Members can generate a random forum name, generated names are in the following format:\n    - `AdjectiveColorAnimal####`\n  - Each member has their own unique 'social profile' scoped by their forum name\n    - Displays their image and overall participation stats\n    - Displays all posts on the forum and approved research topics, chronologically\n\n### Enhancements\n- **Social Sharing**\n  - Forum topics can now be easily shared\n    - Each topic can auto generate a tweet, facebook post, and email for sharing\n  - Members are able to share that they have just completed a survey after submission\n- **Forum Changes**\n  - Unmoderated posts are visible to users with a visible flag that they are under review\n  - A disclaimer is included at the bottom of a topic with unmoderated posts\n  - Members are now assigned a forum name from a list of more than 14 billion possibilities\n    - Members may change their forum name in their account settings if they choose\n  - Topic subscribers are now notified immediately when a new post is created\n  - Editing a post now sets it back to under review for regular forum members\n  - Individual posts can now have links enabled\n    - Link become clickable once the post is approved\n    - Members editing their post sets the post back to under review, hence removing the clickable link\n  - Community member profiles have been added that show a member's popular posts and forum contributions\n  - Logging in while viewing a forum or topic page now keeps the member on that page and no longer redirects to the dashboard\n- **Administrative Changes**\n  - Forum moderators can now get in touch with forum participants to discuss posts that may require moderation or editing\n  - Added Provider Report\n    - Shows the number of members who have signed up with each provider\n    - Highlights the provider with the most members\n  - Added Progress Report\n  - Admin location report now better shows unmatched locations\n- **Provider Changes**\n  - Providers now receive an informational email after updating a completed provider profile\n  - Member welcome emails now list their provider if they signed up through a provider page\n  - The providers index can now be searched by provider name\n- **General Changes**\n  - Added a friendlier 404 page in case a member tries to visit a page that does not exist\n  - Added retargeting pixel from Connect360 to landing page\n  - Added 'Remember me' to login process to reduce landing page hits for already registered members\n- **Consent Changes**\n  - Updated the consent to latest approved revision\n- **User Interface**\n  - Updated to remove preset padding around each page\n    - Maximizes screen real estate\n    - Allows for more dynamic pages in the future\n  - Survey module still uses interface with padding, as the surveys were optimized for this\n  - Cleaned up the account page, and added easier jump-navigation\n  - Cleaned up admin dashboard\n\n### Refactoring\n- Trackable links on landing page now default to local paths if the trackable link is not present\n  - This allows better navigation in local and staging environments\n\n### Bug Fixes\n- Welcome modal that introduces research will only appear for nonacademic users\n- Answer session is no longer required to view survey reports\n- Login dropdown on top navigation optimized for internet explorer (text fields no longer spill over)\n- Fixed an issue for forum moderators where topics with hidden posts would no longer be viewable on forum index\n- Videos on learn page no longer cover the navigation bar when using Internet Explorer\n- Improved legibility of call-out text on the landing page\n\n## 6.1.3 (May 26, 2015)\n\n### Bug Fix\n- Fixed an issue where members could post images and links on forum without having explicit permission to post links or images\n\n## 6.1.2 (May 12, 2015)\n\n### Bug Fix\n- Added support for JavaScript functions that were not available in Firefox and Internet Explorer\n\n## 6.1.1 (May 1, 2015)\n\n### Enhancements\n- Temporarily removed the video from the landing page and moved to learn page\n- Updated a link on the learn page\n- Minor website copy changes\n- Email field now gets focus when clicking the Login button in the top navigation bar\n- Added bitly links to landing page for engagement tracking\n\n### Bug Fix\n- Fixed the Sleep Apnea and BMI tool not loading correctly in certain instances\n- About My Family Report now properly displays the member's selected country of birth\n\n## 6.1.0 (April 27, 2015)\n\n### New Features\n- New landing page redesign\n  - Removes 'walled garden' feel by showing top navigation immediately\n  - Better highlights 4 key values for possible MyApnea members\n\n### Enhancements\n- **Layout**\n  - PAP devices added to learn panel\n    - Minor updates to styling\n    - Improved navigation between these pages\n  - Navigation expanded to include distinct 'Learn' and 'Research' tabs\n- **Tool Updates**\n  - Updated layout of BMI calculation and graph for `Sleep Apnea and BMI` tool\n  - Minor edits to wording of results on `Risk Assessment` tool\n  - Minor edits to wording of results on `Sleep Apnea and BMI` tool\n  - Cleaned up layout on `Risk Assessment` tool\n  - Fixed minor issue with display labels for height on `Sleep Apnea and BMI` tool\n- **Survey Changes**\n  - Clarified wording of `family diagnostic` question in `About My Family` survey\n  - Fixed a typo in the `income` question in `About Me` survey\n  - Admins can now specify members to be excluded from data exports and reports\n- **Forum Changes**\n  - Posting on a multi-page topic now correctly loads the last topic page and post\n  - Non-square member photos now display better on the forums\n- **General Changes**\n  - Standardized text sizes on partners page\n  - ASA correctly listed as promotional partner\n  - Minor copy changes throughout the site\n  - Mailings that reference https://myapnea.org/bwh now forward to the BWH provider page\n  - Fixed margin and spacing on FAQs\n  - Privacy Policy URL now uses hyphen to be consistent with other links\n- **Gem Changes**\n  - Updated to Ruby 2.2.2\n  - Removed slow capybara test framework\n    - Tests will be handled by integration tests\n\n### Bug Fixes\n- Fixed issue with academic users not being able to see surveys\n- Fixed styling on button to accept the consent and privacy policy updates\n\n## 6.0.0 (April 15, 2015)\n\n### New Features\n- **Survey Updates**\n  - Survey reports restyled to be more easily digested, and appear as infographics\n    - All surveys except for 'My Interest in Research'\n    - Users are able to toggle and view the original detailed reports\n    - Researchers and providers are immediately shown the original reports, with option to see new reports\n    - Formatting and content based on feedback sourced from members via the forums\n  - System for adding custom validations for specific Survey questions\n    - Date of birth validation\n- **Administrative Changes**\n  - Cross-Tabs admin panel added\n    - Lists information about demographics of enrollment per type of referral source\n  - Location breakdown admin panel added\n    - Shows breakdown of member location by state and country\n- **Survey Exports**\n  - Common Data Model Version 2.0 exports implemented\n  - ESS export task added for reporting purposes\n  - PROMIS export task added for reporting purposes\n  - Location Report added that shows membership by country and state\n- **Public facing tools**\n  - Sleep apnea risk assessment tool added\n    - Based on the STOPBang survey\n    - Social sharing of results added for social media\n  - Sleep apnea and BMI assessment tool added\n    - Transformed from BMI/AHI calculator\n    - Relates sleep apnea severity to BMI category\n\n### Enhancements\n- **Gem Changes**\n  - Updated to rails 4.2.1\n  - Updated to redcarpet 3.2.3\n- **Documentation Changes**\n  - Consent and Privacy Policy updated based on need in order to do coenrollment\n  - Method for users to accept this update added\n    - This acceptance is required to for users to complete new surveys\n    - New users will automatically accept the update when they accept the consent\n  - Governance policies added to footer\n- Added American Sleep Association as a partner\n\n### Bug Fixes\n- Date of birth bug fix addressed now from the backend for better handling\n- Partner ISSS link updated\n\n## 5.2.0 (March 25, 2015)\n\n### Enhancements\n- **Forum Changes**\n  - Submitting a post on a topic now disables the button to prevent double-posting\n  - Images in forum posts now scale correctly\n- **Survey Changes**\n  - Users can now toggle a simple survey display if they have trouble inputting answers\n\n## 5.1.0 (March 13, 2015)\n\n### New Features\n- **Administrative Changes**\n  - A user registration and survey completion report added\n    - The report provides comparison across different MyApnea.Org releases\n- **Forum Changes**\n  - Posts can include mentions of other users by their social profile names\n  - Topics can be searched by authors of posts within that forum\n  - Moderators can now move topics between forums\n- **Content Additions**\n  - About Sleep Apnea\n  - About PAP Therapy\n  - PAP Quick Setup Guide\n  - PAP Troubleshooting Guide\n  - PAP Care and Maintenance\n  - PAP Masks and Equipment\n  - Traveling with PAP\n  - Side Effects of PAP\n  - Sleep Tips\n\n### Enhancements\n- Fixed some minor typos\n- Social profile information is now automatically displayed after being added by member\n- Providers index now properly paginates, with 12 providers listed on each page\n- Forums slightly restructured\n  - Introductions -> General\n  - Rank the Research -> Research\n  - Removed Daytime Sleepiness and Performance Outcomes\n  - Removed Network Member Feedback Regarding Proposed Studies and Clinical Trials\n\n### Bug Fixes\n- Fixed a survey bug where users had incomplete multiple radio button questions locked\n- Fixed a minor error generating a lottery winner\n- Added redirect for deprecated 'research_surveys' to 'surveys'\n- Fixed survey error when all options for a checkbox question were unselected\n- Fixed incorrect answer option migration mapping for the `my-sleep-apnea` survey\n- Hotkeys disabled for locked questions\n- Topics with slug `new` cannot be created\n- Google Analytics compatibility with Turbolinks\n\n## 5.0.0 (March 4, 2015)\n\n### New Features\n- **Major Survey Updates**\n  - Surveys have received a major update and have been restructured.\n    - The three existing surveys have been split across 11 smaller surveys\n  - New surveys have an exciting new interface!\n    - Users are able to scroll through survey by using keystrokes\n    - Answer options now have hotkeys and values\n    - Animated scrolling now used to move between questions\n    - Survey urls have been simplified\n    - Surveys can display nested questions\n    - On submission, surveys are locked, but can be reviewed when revisited\n    - Surveys are assigned based on user role selected during the registration process\n- **Member Roles**\n  - Members are able to define one or more of the following roles:\n    - Adult who has been diagnosed with sleep apnea\n    - Adult who is at-risk of sleep apnea\n    - Caregiver of adult diagnosed with or at-risk of sleep apnea\n    - Caregiver of child(ren) diagnosed with or at-risk of sleep apnea\n    - Professional care provider\n    - Research professional\n- **Registration Process**\n  - Upon registration, users are asked to describe their role on the site\n  - Upon registration, users are automatically sent through consent process\n    - For providers:\n      1. Privacy Policy\n      2. Terms of Access\n      3. Provider Profile\n    - For researchers who only identify as a researcher:\n      1. Privacy Policy\n      2. Terms of Access\n      3. Social Profile\n    - For all other members:\n      1. Privacy Policy\n      2. Consent\n      3. About Me Survey\n- **Terms of Access (ToA)**\n  - ToA will now be shown to the following groups, in place of the consent:\n    - Members who identify as a provider, but not any patient or caregiver role\n    - Members who identify as a researcher, but not any patient or caregiver role\n    - Still visible by other members of the community for transparency\n\n### Enhancements\n- **Administrative Changes**\n  - Added an admin dashboard to provide a central place to reach reports and research topic moderation\n- **Research Study Changes**\n  - Clicking \"Leave Research Study\" on the Consent or Privacy Policy pages now removes the member from the study\n    - In the past, the member would be redirected to the account page where this question would be asked one more time\n- **Forum Changes**\n  - Added indication of additional posts on forum index and pagination on individual forums\n  - Forum post anchors now correctly offset based on the top navigation bar\n  - Forum markdown has been improved and examples are provided under the Markup tab\n    - Blockquotes: `> This is quote`\n    - Highlight: `==This is highlighted==`\n    - Underline: `_This is underlined_`\n    - Superscript: `This is the 2^(nd) time`\n    - Strikethrough: `This is ~~removed~~`\n- **Community Page Changes**\n  - Removed state labels from USA map to provide cleaner overview\n- **Lottery Updates**\n  - Lottery random drawing code has been added, and can be run using `Lottery.draw_winner`\n- **Search Engine Optimization**\n  - Added `sitemap_generator` gem for dynamic SEO via sitemap creation\n  - Added unique meta descriptions to several key pages\n  - Added unique page titles to several key pages\n- **Gem Changes**\n  - Updated to Ruby 2.2.1\n\n### Bug Fixes\n- Password fields now display correctly in IE9\n- Topic slugs are now generated correctly for topics with titles that start with numbers\n- User dashboard displays correctly even without the presence of the forum\n\n### Refactoring\n- Centralized application configuration further by using figaro environment variables\n- Beta UI pages are now set as the default\n- Several OpenPPRN features have been disabled or removed\n  - Removed OODT and Validic integration\n  - Removed blog controller and views, this functionality is currently being handled by the \"News Forum\"\n  - Removed unused `pprn.rb` initializer file\n- Several survey model simplifications have been made:\n  - Renamed `QuestionFlow` to `Survey`\n  - Simplified survey load files\n  - Answer sessions are only created when surveys are launched, and encounter identifiers\n- The Forums Terms and Conditions now uses the new layout\n- Reduced dependency on `authority` gem\n- Cleaned up the account controller and updated tests\n- Cleaned up the static controller and added appropriate tests\n  - Moved `views/myapnea/static` files into `views/static` folder\n\n## 4.2.0 (January 29, 2015)\n\n### Enhancements\n- **Provider Changes**\n  - The provider sign up page now better indicates what users can do who are already signed in\n    - Allows users to contact support to become a provider\n    - Allows providers a link to their account settings to set up their custom pages\n- **Rank the Research**\n  - New UI/UX built and is now enabled for all members regardless of beta opt in status\n  - Statistic shown is now percentage of voters, rather than vote count\n  - Reduced complexity by displaying all data on one page (with possible need for pagination)\n  - Users are able to see statistic for any questions, but will be alerted if they have used all of their votes already\n- **General Changes**\n  - The Privacy Policy popup now uses the identical text to the Privacy Policy page\n  - Shortened the length of news posts description shown in the right hand side bar\n  - Added The Health eHeart Study under Promotional Partners\n  - The Partners page now uses the new layout exclusively\n\n### Bug Fixes\n- Fixed the providers \"Create Your Page\" button not working for logged in users\n- Fixed a bug that prevented linking a provider to a newly registered user if the user ran into other registration validation errors during the sign up process\n- Fixed link to CMB Solutions\n- Removed link from Recent News in old layout as the page no longer exists\n- Advisory member bios now open correctly on mobile devices\n\n## 4.1.0 (January 21, 2015)\n\n### Enhancements\n- **Consent and Privacy Policy Changes**\n  - **The Consent and Privacy Policy were updated to reflect the latest IRB-approved documents**\n- **General Changes**\n  - Minor changes to UI (links, text, sizing)\n  - Fixed display of personal provider page to have fullscreen/landing layout\n  - Fixed display of video and added autoplay/autopause features\n  - Recent News posts now link directly back to the topics\n  - Started work on allowing members to identify themselves as one of the following:\n    - Diagnosed With Sleep Apnea\n    - Concern That I May Have Sleep Apnea\n    - Family Member of an Adult with Sleep Apnea\n    - Family Member of a Child with Sleep Apnea\n    - Provider\n    - Researcher\n- **Forum Changes**\n  - Topics with posts that are pending review now show up as well when a moderator filters by topics that are pending review\n  - Topics are now sorted by their last visible post, and the last post by field is also filtered by the last visible post for the user\n    - Moderators will see the last post made that's pending moderation\n    - Regular members will see the last approved post in the forums index\n  - Moderator posts are now automatically approved\n  - Post links in emails now directly reference the post and are the server will redirect these links to the correct topic page\n  - Post Approval and Reply emails now reference the title of the topic so that email clients can group these together more naturally\n  - Topic and Post status has been simplified to include `hidden` status, along with `approved`, `pending_review`, and `spam`\n- **Community Page**\n  - Added quick link to change your account settings to be included in the map\n  - Community map now displays US and World membership counts\n- **User Interface Changes**\n  - Added user stats to side navigation bar (beta version)\n  - Administrative link added into the new UI menu (beta version)\n  - The terms of service, privacy policy, and consent pages have been updated to match the new UI (beta version)\n  - Learn page added as a quick link beneath the 'About Us' dropdown, and updated to fit new UI (beta version)\n    - Added 'additional resources' to learn page\n  - SAPCON Advisory Council added as a separate page\n  - Partners and promotional partners added as a separate page (removed from Our Team)\n    - Industry relation text added\n- **Email Changes**\n  - Updated styling on Password Reset and Account Unlock emails to match new MyApnea.Org themed email layout\n  - Added a new member welcome email\n- **Administrative Changes**\n  - Member management page has been updated and now proplery paginates members\n  - Moderators can now create approved Research Topics\n- **Provider Changes**\n  - Providers are able to sign up with minimal information\n    - Only require name, email, and password to create account\n    - Will input slug, provider name, location, etc. in provider_profile page\n\n### Bug Fixes\n- Reformatted beta alerts so they would be dismissable on mobile devices\n- Fixed sidebar on mobile devices\n  - Now only relying on JavaScript for class changes (instead of framed animations)\n  - Only using fixed-positioning for the user sidebar on medium and large screens\n- Removed provider name as a field on the member registration page\n- Fixed a bug that prevented topic replies from being sent out to email subscribers\n- Clicking Leave the Research Study now properly reflects the member's choice on the account page\n\n### Refactoring\n- Removed all remaining `forem` gem code\n\n## 4.0.0 (January 15, 2015)\n\n### Enhancements\n- **PCORNET Updates**\n  - Added script that extracts data into the PCORNET Common Data Model 2.0\n- **Forum Updates**\n  - Redesigned internal forums engine\n  - Posts can now be previewed before being submitted\n  - Added a forum digest email\n  - Members can now subscribe and unsubscribe to forum topics\n    - Members receive email when a reply is made to one of their subscribed topics\n  - Members can opt out of receiving forum emails in their account settings\n- **General Changes**\n  - Changed image sizes to speed up loading on mobile browsers\n  - Members of MyApnea.Org may opt into upcoming design changes and provide feedback directly to the MyApnea.Org team\n  - Readded the MyApnea.Org favicon to quickly identify the website when it is pinned in the browser\n  - The new UI better handles text sizes on mobile devices\n  - Links are now easier to distinguish in the new UI\n- **Administrative Changes**\n  - Admin Survey overview now correctly shows the number of completed surveys\n  - Website roles have been simplified\n- **Provider Updates**\n  - Providers can now sign up and create a unique URL that they can share with their members\n  - Members of MyApnea.Org can visit existing provider pages and add themselves as one of the provider members\n- **Survey Changes**\n  - The new UI redesign includes a new survey report overview to better display a member's survey answers compared with others\n\n### Bug Fixes\n- Confirmation boxes now properly display when deleting or removing posts\n\n### Refactoring\n- Internal `post` model changed to `notification`\n  - Old `Post` class has to do with **Site Notifications** and **Blog Posts**\n  - New `Post` class will be specific to **Forum Topics**\n\n## 3.2.1 (January 8, 2015)\n\n### Bug Fixes\n- Fixed report view bug for reports with no answers\n- Removed dependency on schema_plus gem\n\n## 3.2.0 (January 8, 2015)\n\n### Enhancements\n- **Survey Changes**\n  - Improved the performance and speed of surveys and survey reports\n\n### Bug Fixes\n- Fixed a bug that prevented users from progressing past question 12 in the About Me survey\n- Fixed a bug preventing users from entering a date using older browsers in the About Me survey\n\n## 3.1.0 (January 2, 2015)\n\n### Enhancements\n- **Home Page Changes**\n  - New landing page added that shows total member count\n    - The new landing page is the first in a series of parts of the website that will receive a user interface update\n    - Landing page now loads for non-logged in users\n  - Surveys linked on the home page have been updated to better show a member's progress through the available surveys\n- **Registration Changes**\n  - Year of Birth is now a drop down list to avoid confusion between entering Birth Date instead of Year of Birth\n- **Forum Changes**\n  - Forum index no longer shows quoted text in forum replies\n  - Improved the user interface for the forum index and the forum widget on the home page\n  - Forum topics now have an updated interface that focuses on easier readability\n- **General Changes**\n  - Minor text and content updates throughout the site\n  - Fixed an issue where long links and title would run into the page from the Recent News bar\n  - Updated timezone for forum to use Eastern Time Zone\n  - Session timeout was increased to allow members to be logged out less frequently\n- **Administrative Changes**\n  - Administrators can export users to update MailChimp lists and segments\n  - Blog posts link now correctly goes to the news forum\n- **Gem Changes**\n  - Updated to rails 4.2.0\n  - Updated to Ruby 2.2.0\n\n### Upcoming Changes\n- Added redesign preview of the following pages:\n  - Forum index page\n  - About Team page\n  - Survey Report page\n  - Rank the Research page\n  - Community Map page\n  - Providers Sign Up page\n\n### Bug Fixes\n- Fixed a survey question being select one, instead of select any\n- Fixed some minor spelling errors in survey questions\n\n## 3.0.0 (December 16, 2014)\n\n### Enhancements\n- **General Changes**\n  - Added lottery language to the Informed Consent to Question 14.\n  - Split existing survey into three smaller surveys\n  - Added new landing page prototype\n\n## 2.1.0 (December 10, 2014)\n\n### Enhancements\n- **General Changes**\n  - **In the News** integrates Facebook and forum news posts\n  - Some minor text and content changes\n  - Reduced size of header image to load more quickly\n\n- **Gem Changes**\n  - Updated to rails 4.2.0.rc1\n  - Updated to Ruby 2.1.5\n\n### Refactoring\n- Updated production environment initialization, including integration with Figaro gem.\n- The forem gem now uses the default configured email address\n\n### Bug Fixes\n- Surveys cannot be reset now without explicit permission from user.\n- Added fix for Google Analytics to correctly track page views.\n- Surveys with 0 answers completed can be resumed.\n\n## 2.0.0 (November 14, 2014)\n\n### Enhancements\n- **General Changes**\n  - Revamped the navigation flow.\n  - Synchronized vision with OpenPPRN.\n  - Cleaned up overall style.\n  - Added community and personal contributions\n  - Revamped forums\n  - Improved mobile navigation design\n  - Added new landing page based of introduction page\n\n## 1.1.0 (October 17, 2014)\n\n### Enhancements\n- **Research Surveys**\n  - Added survey question about sleep care institutions\n  - Added ASAA as a choice for how a user heard about MyApnea.\n  - Implemented new question type, based on `typeahead.js`.\n\n### Bug Fixes\n- Fixed research topic voting problems encountered on Firefox browsers.\n- Fixed erroneous 'true' flash message after session expiration.\n\n## 1.0.1 (October 15, 2014)\n\n### Enhancements\n- **Sidebar Navigation**\n  - Implemented collapsing sidebar for mobile users.\n\n### Bug Fixes\n- **Social Profile**\n  - Fixed problem where social profile update did not save all fields.\n  - Added validation for negative age values.\n  - Fixed crash when uploading photo on production.\n- **Research Surveys**\n  - Fixed survey stability issues.\n  - Cleaned up and fixed issues with survey completion report.\n- **Forum**\n  - Made entry into forums more obvious for users.\n\n## 1.0.0 (October 3, 2014)\n\n### Major Features\n\n- **Social Profile**\n  - Users can create a social profile to brand themselves on MyApnea.Org\n    - Users can choose a nickname and profile picture, and choose to share their sex and age\n  - Users can interact on the MyApnea.Org forums by creating new topics and posting to other users topics\n  - Users can see a map of fellow users who have shared their city location\n\n- **Research Survey**\n  - Users who fill out the Research Consent form are able to fill out \"About Me and My Sleep\"\n  - Users are provided a survey report that shows them aggregate results from others who have taken the survey\n\n- **Rating Research Questions**\n  - Users who register are able to cast votes on prominent research questions\n  - Users can submit their own research questions\n\n- **Learning about Sleep Apnea**\n  - MyApnea.Org provides a \"Sleep In the News\" corner that allows users to read more about sleep apnea and related subjects\n  - MyApnea.Org links the American Sleep Apnea Association Facebook feed to provide another resource for learning about sleep apnea\n\n- **Administrative**\n  - Administrators can assign roles to other users\n  - Administrators can moderate forum posts\n  - Administrators can add new blog posts for the \"Sleep In the News\" corner\n", "!!!\n%html{ lang: \"en\" }\n  %head\n    %meta{ charset: \"utf-8\" }\n    %meta{ content: \"IE=Edge,chrome=1\", http: { equiv: \"X-UA-Compatible\" } }\n    %meta{ name: \"viewport\", content: \"width=device-width, initial-scale=1, shrink-to-fit=no\" }\n    = render \"layouts/meta/general\"\n    = render \"layouts/meta/facebook\"\n    = render \"layouts/meta/google\"\n    -# Don't cache any pages\n    %meta{ name: \"turbolinks-cache-control\", content: \"no-cache\" }\n    %title= [@title, \"MyApnea\"].compact.join(\" - \").html_safe\n    = favicon_link_tag\n    = auto_discovery_link_tag(:rss, \"#{ENV[\"website_url\"]}/blog.atom\")\n    = csrf_meta_tags\n    = render \"layouts/fathom_analytics\" if Rails.env.production?\n    = stylesheet_link_tag \"application\", media: \"all\", data: { turbolinks_track: \"reload\" }\n    = javascript_include_tag \"application\", data: { turbolinks_track: \"reload\" }\n    = javascript_tag \"var root_url=\\\"#{request.script_name + \"/\"}\\\";\"\n  - @random_theme ? render(\"themes/random\") : render(\"themes/theme\") unless @theme\n  %body#top.full-page.theme-bg{ class: \"theme-#{@theme.presence || \"default\"}-bg\", data: { theme: @theme } }\n    = render \"layouts/service_announcement\", container: defined?(container) ? container : nil\n    = render \"layouts/flash_bar\"\n    = render \"layouts/logo_bar\", container: defined?(container) ? container : nil\n    #top-menu.top-menu= render \"layouts/menu\"\n    - if content_for?(:white_header)\n      .white-header-container{ class: defined?(container) && container.present? ? container : \"container\" }\n        %h1.white-title-uppercase.mb-0\n          = yield :white_header\n    - if content_for?(:header)\n      .header-container{ class: content_for?(:tabs) || content_for?(:progress_bar) ? \"header-container-no-border\" : nil }\n        %div{ class: defined?(container) && container.present? ? container : \"container\" }\n          %h1.page-heading\n            = yield :header\n    = yield :header_append\n    - if content_for?(:tabs)\n      .header-tabs{ class: \"#{\"header-tabs-no-breadcrumbs\" unless content_for?(:breadcrumbs)}\" }\n        %div{ class: defined?(container) && container.present? ? container : \"container\" }\n          = yield :tabs\n    = yield :progress_bar\n    - if content_for?(:breadcrumbs)\n      .breadcrumb-container\n        %div{ class: defined?(container) && container.present? ? container : \"container\" }\n          = yield :breadcrumbs\n    .theme-custom-spacing\n      .py-3\n        .container.remove-last-margin= yield\n    = yield :footer\n    = render \"layouts/footer\"\n", "!!!\n%html{ lang: \"en\" }\n  %head\n    %meta{ charset: \"utf-8\" }\n    %meta{ content: \"IE=Edge,chrome=1\", http: { equiv: \"X-UA-Compatible\" } }\n    %meta{ name: \"viewport\", content: \"width=device-width, initial-scale=1, shrink-to-fit=no\" }\n    = render \"layouts/meta/general\"\n    = render \"layouts/meta/facebook\"\n    = render \"layouts/meta/google\"\n    -# Don't cache any pages\n    %meta{ name: \"turbolinks-cache-control\", content: \"no-cache\" }\n    %title= [@title, \"MyApnea\"].compact.join(\" - \").html_safe\n    = favicon_link_tag\n    = auto_discovery_link_tag(:rss, \"#{ENV[\"website_url\"]}/blog.atom\")\n    = csrf_meta_tags\n    = render \"layouts/fathom_analytics\" if Rails.env.production?\n    = stylesheet_link_tag \"application\", media: \"all\", data: { turbolinks_track: \"reload\" }\n    = javascript_include_tag \"application\", data: { turbolinks_track: \"reload\" }\n    = javascript_tag \"var root_url=\\\"#{request.script_name + \"/\"}\\\";\"\n  - @random_theme ? render(\"themes/random\") : render(\"themes/theme\") unless @theme\n  %body#top.full-page.theme-bg{ class: \"theme-#{@theme.presence || \"default\"}-bg\", data: { theme: @theme } }\n    = render \"layouts/service_announcement\", container: @container.presence\n    = render \"layouts/flash_bar\"\n    = render \"layouts/logo_bar\", container: @container.presence\n    #top-menu.top-menu= render \"layouts/menu\", container: @container.presence\n    - if content_for?(:white_header)\n      .white-header-container{ class: defined?(container) && container.present? ? container : \"container\" }\n        %h1.white-title-uppercase.mb-0\n          = yield :white_header\n    - if content_for?(:header)\n      .header-container{ class: content_for?(:tabs) ? \"header-container-no-border\" : nil }\n        %div{ class: @container.presence || \"container\" }\n          %h1.page-heading\n            = yield :header\n    = yield :header_append\n    = yield\n    = yield :footer\n    = render \"layouts/footer\", container: @container.presence\n", "!!!\n%html{ lang: \"en\" }\n  %head\n    %meta{ charset: \"utf-8\" }\n    %meta{ content: \"IE=Edge,chrome=1\", http: { equiv: \"X-UA-Compatible\" } }\n    %meta{ name: \"viewport\", content: \"width=device-width, initial-scale=1, shrink-to-fit=no\" }\n    = render \"layouts/meta/general\"\n    = render \"layouts/meta/facebook\"\n    = render \"layouts/meta/google\"\n    -# Don't cache any pages\n    %meta{ name: \"turbolinks-cache-control\", content: \"no-cache\" }\n    %title= [@title, \"MyApnea\"].compact.join(\" - \").html_safe\n    = favicon_link_tag\n    = auto_discovery_link_tag(:rss, \"#{ENV[\"website_url\"]}/blog.atom\")\n    = csrf_meta_tags\n    = render \"layouts/fathom_analytics\" if Rails.env.production?\n    = stylesheet_link_tag \"application\", media: \"all\", data: { turbolinks_track: \"reload\" }\n    = javascript_include_tag \"application\", data: { turbolinks_track: \"reload\" }\n    = javascript_tag \"var root_url=\\\"#{request.script_name + \"/\"}\\\";\"\n  %body#top.full-page.theme-bg{ class: \"theme-#{@theme.presence || \"default\"}-bg\", data: { theme: @theme } }\n    = render \"layouts/service_announcement\", container: \"container-fluid\"\n    = render \"layouts/flash_bar\"\n    = yield :header\n    = yield\n    = yield :footer\n    = render \"layouts/footer\", container: \"container-fluid\"\n", "!!!\n%html{ lang: \"en\" }\n  %head\n    %meta{ charset: \"utf-8\" }\n    %meta{ content: \"IE=Edge,chrome=1\", http: { equiv: \"X-UA-Compatible\" } }\n    %meta{ name: \"viewport\", content: \"width=device-width, initial-scale=1, shrink-to-fit=no\" }\n    = render \"layouts/meta/general\"\n    = render \"layouts/meta/facebook\"\n    = render \"layouts/meta/google\"\n    -# Don't cache any pages\n    %meta{ name: \"turbolinks-cache-control\", content: \"no-cache\" }\n    %title= [@title, \"MyApnea\"].compact.join(\" - \").html_safe\n    = favicon_link_tag\n    = auto_discovery_link_tag(:rss, \"#{ENV[\"website_url\"]}/blog.atom\")\n    = csrf_meta_tags\n    = render \"layouts/fathom_analytics\" if Rails.env.production?\n    = stylesheet_link_tag \"application\", media: \"all\", data: { turbolinks_track: \"reload\" }\n    = javascript_include_tag \"application\", data: { turbolinks_track: \"reload\" }\n    = javascript_tag \"var root_url=\\\"#{request.script_name + \"/\"}\\\";\"\n  %body#top.full-page-no-header.theme-bg{ class: \"theme-#{@theme.presence || \"default\"}-bg\", data: { theme: @theme } }\n    = render \"layouts/service_announcement\", container: \"container-fluid\"\n    = render \"layouts/flash_bar\"\n    = yield :header\n    = yield\n    = yield :footer\n    = render \"layouts/footer\", container: \"container-fluid\"\n", "!!!\n%html{ lang: \"en\" }\n  %head\n    %meta{ charset: \"utf-8\" }\n    %meta{ content: \"IE=Edge,chrome=1\", http: { equiv: \"X-UA-Compatible\" } }\n    %meta{ name: \"viewport\", content: \"width=device-width, initial-scale=1, shrink-to-fit=no\" }\n    = render \"layouts/meta/general\"\n    = render \"layouts/meta/facebook\"\n    = render \"layouts/meta/google\"\n    -# Don't cache any pages\n    %meta{ name: \"turbolinks-cache-control\", content: \"no-cache\" }\n    %title= [@title, \"MyApnea\"].compact.join(\" - \").html_safe\n    = favicon_link_tag\n    = auto_discovery_link_tag(:rss, \"#{ENV[\"website_url\"]}/blog.atom\")\n    = csrf_meta_tags\n    = render \"layouts/fathom_analytics\" if Rails.env.production?\n    = stylesheet_link_tag \"application\", media: \"all\", data: { turbolinks_track: \"reload\" }\n    = javascript_include_tag \"application\", data: { turbolinks_track: \"reload\" }\n    = javascript_tag \"var root_url=\\\"#{request.script_name + \"/\"}\\\";\"\n  %body#top.full-page.theme-bg{ class: \"theme-#{@theme.presence || \"default\"}-bg\", data: { theme: @theme } }\n    = render \"layouts/service_announcement\", container: \"container-fluid\"\n    = render \"layouts/flash_bar\"\n    = render \"layouts/logo_bar\", container: \"container-fluid\"\n    #top-menu.top-menu= render \"layouts/menu\", nocontainer: true\n    - if content_for?(:white_header)\n      .white-header-container.container-fluid\n        %h1.white-title-uppercase.mb-0\n          = yield :white_header\n    - if content_for?(:header)\n      .header-container{ class: content_for?(:tabs) || content_for?(:progress_bar) ? \"header-container-no-border\" : nil }\n        .container-fluid\n          %h1.page-heading\n            = yield :header\n    = yield :header_append\n    - if content_for?(:tabs)\n      .header-tabs{ class: \"#{\"header-tabs-no-breadcrumbs\" unless content_for?(:breadcrumbs)}\" }\n        .container-fluid\n          = yield :tabs\n    = yield :progress_bar\n    - if content_for?(:breadcrumbs)\n      .breadcrumb-container\n        .container-fluid\n          .px-1= yield :breadcrumbs\n    .row.no-gutters.flex-md-nowrap.theme-custom-spacing\n      = render \"sidebar/mini\"\n      = yield(:sidebar)\n      %main.col.p-3.remove-last-margin{ role: \"main\" }\n        = yield\n    = yield :footer\n    = render \"layouts/footer\", container: \"container-fluid\"\n"], "fixing_code": ["## 29.1.0\n\n### Enhancements\n- **Security Changes**\n  - Fixed a Cross Site Scripting (XSS) issue\n- **Gem Changes**\n  - Update to Ruby 3.1.2\n\n## 29.0.0 (April 19, 2022)\n\n### Enhancements\n- **General Changes**\n  - Updated landing page based on new design\n  - The research page is now fixed with for the public facing view\n  - Improved consistency of styling across various public pages\n  - Added Fathom Analytics to website and removed Google Analytics\n  - Updated internal dashboard pages to match new theme\n- **Resource Page Changes**\n  - Resources now have a slug that can act as a short link to the resource\n  - Resources can now be configured to open in a new tab\n- **Gem Changes**\n  - Update to ruby 3.0.2\n\n## 28.0.0 (November 7, 2021)\n\n### Enhancements\n- **Gem Changes**\n  - Update to rails 6.1.4.1\n\n### Bug Fix\n- Fixed a bug that prevented posts from posting correctly\n- Fixed an issue where mobile safari would play the globe video when clicking\n  on the MyApnea menu item\n- Fixed a bug that would generate excessive notifications for users who chose to\n  be auto-subscribed to new forum posts\n\n## 27.0.0 (October 9, 2021)\n\n### Enhancements\n- **Forum Changes**\n  - Email notifications for replies to forum topics have been re-added\n    - Notifications are only sent to users who have subscribed to the forum\n      topic and who have emails enabled\n  - Old topics are now auto-locked after 100 years (and not 2 months)\n\n### Bug Fix\n- Fixed a bug that prevented a nested reply from being linked\n- Fixed a bug that caused remote forms from correctly rendering the response\n- Fixed video not playing on landing page\n\n## 26.0.0 (April 18, 2021)\n\n### Enhancements\n- **General Changes**\n  - Privacy policy now redirects to https://www.massgeneralbrigham.org/notices/web-privacy-policy\n  - Added Google Analytics\n- **Resource Page Changes**\n  - Images on resources now also link to the resource URL\n\n### Bug Fix\n- Fixed a bug that prevented new articles from reusing a URL slug from a\n  previously deleted article\n\n## 25.0.0 (April 11, 2021)\n\n### Enhancements\n- **Admin Changes**\n  - Add a Slice Subject ID export task\n  - Topics marked as spam are no longer listed on the index for admins\n- **General Changes**\n  - A new resources page was added that allows admins to create and list\n    resources for general visitors of the website\n  - Added note to the MyApnea contact page that MyApnea is not affiliated with\n    MyAir or Resmed\n- **Forum Changes**\n  - Existing replies to locked topics now be edited or deleted after the topic\n    has been locked\n- **Gem Changes**\n  - Update to ruby 3.0.1\n  - Update to rails 6.1.3.1\n  - Update to pg 1.2.3\n  - Update to bootstrap 4.4.1\n  - Update to carrierwave 2.2.1\n  - Update to devise 4.7.3\n  - Update to figaro 1.2.0\n  - Update to font-awesome-sass 5.12.0\n  - Update to haml 5.2.1\n  - Update to kaminari 1.2.1\n  - Update to pg_search 2.3.2\n  - Update to redcarpet 3.5.1\n  - Update to rubyzip 2.3.0\n  - Update to coffee-rails 5.0\n  - Update to jquery-rails 4.3.5\n\n### Bug Fixes\n- Dashboard forum activity no longer displays replies to deleted topics\n\n## 24.0.1 (May 28, 2019)\n\n### Enhancements\n- **Article Changes**\n  - Articles in draft mode now display category for editors\n- **Gem Changes**\n  - Update to haml 5.1.1\n  - Update to jbuilder 2.9\n  - Update to pg_search 2.2.0\n  - Update to rubyzip 1.2.3\n\n### Bug Fix\n- Fix an issue displaying topics without last reply at timestamp\n\n## 24.0.0 (May 10, 2019)\n\n### Enhancements\n- **Admin Changes**\n  - Include \"Email confirmed\" in user export\n- **Gem Changes**\n  - Update to ruby 2.6.3\n  - Update to devise 4.6.2\n\n## 23.0.0 (April 10, 2019)\n\n### Enhancements\n- **Gem Changes**\n  - Update to ruby 2.6.2\n  - Update to rails 6.0.0.beta3\n  - Update to font-awesome-sass 5.8.1\n\n## 22.0.0 (February 26, 2019)\n\n### Enhancements\n- **General Changes**\n  - Landing page survey count now includes newly completed surveys from Slice\n    along with original survey count\n  - Tabs now display better on smaller screens\n- **Project Changes**\n  - A primary project can now be specified that determines the consent displayed\n    on the root consent URL\n- **Survey Changes**\n  - Dashboard now displays next survey question\n- **Gem Changes**\n  - Update to ruby 2.6.1\n  - Update to rails 6.0.0.beta1\n  - Update to pg 1.1.4\n  - Update to bootstrap 4.3.1\n  - Update to carrierwave 1.3.1\n  - Update to devise 4.6.1\n  - Update to hashids 1.0.5\n  - Update to mini_magick 4.9.3\n  - Update to pg_search 2.1.4\n  - Update to sitemap_generator 6.0.2\n\n## 21.1.0 (January 2, 2019)\n\n### Enhancements\n- **General Changes**\n  - Contact page support email information moved above support email\n- **Gem Changes**\n  - Update to ruby 2.6.0\n  - Update to rails 5.2.2\n  - Update to bootstrap 4.2.1\n  - Update to font-awesome-sass 5.6.1\n\n### Bug Fix\n- Fixed styling of sunset decoration on admin pages\n- Fixed issue caused by replying to restored forum topics that had no slug\n\n## 21.0.0 (November 29, 2018)\n\n### Enhancements\n- **Forum Changes**\n  - Improved spam filters\n- **Survey Changes**\n  - Improved process of leaving and rejoining a research study\n  - Overview reports and project consents are now generated in temporary\n    folders that are deleted after generating the PDFs\n- **Gem Changes**\n  - Update to rails 5.2.1.1\n  - Update to font-awesome-sass 5.5.0\n\n### Bug Fix\n- Fixed missing gradient on landing page \"Community Power\" section\n\n## 20.0.0 (November 5, 2018)\n\n### Enhancements\n- **Survey Changes**\n  - Improve survey stability and submission of responses to Slice API\n\n## 19.0.0 (October 25, 2018)\n\n### Enhancements\n- **General Changes**\n  - Add updated Privacy Policy\n  - Clarify purpose of support email on contact page\n- **Forum Changes**\n  - Locked topics now provide information on why they are locked\n  - Forum badges are now more visible\n  - Original Poster added as a more prominent forum badge\n  - Add customizable forum badges\n    - Examples: Support Team, Researcher, and Sleep Professional\n  - Generic \"Secret Man\" forum placeholder photo replaced with more\n    gender-neutral user icon\n- **Gem Changes**\n  - Update to ruby 2.5.3\n  - Update to font-awesome-sass 5.4.1\n\n### Refactoring\n- Remove legacy JavaScript polyfills and code\n\n### Bug Fix\n- Fixed \"Write a Reply\" redirection on topics with interleaved deleted replies\n\n## 18.1.0 (October 10, 2018)\n\n### Enhancements\n- **General Changes**\n  - External research projects can be added to research page\n- **Admin Changes**\n  - Paginated results are no longer counted in admin report for Help Center\n    searches\n- **Gem Changes**\n  - Update to rails 5.2.1\n  - Update to pg 1.1.3\n  - Update to bootstrap 4.1.3\n  - Update to carrierwave 1.2.3\n  - Update to devise 4.5.0\n  - Update to jquery-rails 4.3.3\n  - Update to mini_magick 4.9.2\n  - Update to rubyzip 1.2.2\n  - Update to sitemap_generator 6.0.1\n\n## 18.0.1 (September 4, 2018)\n\n### Bug Fix\n- Admin exports now complete successfully\n\n## 18.0.0 (August 7, 2018)\n\n### Enhancements\n- **General Changes**\n  - Added tagline to forum and research pages to better describe the website for\n    users visiting from search engine results\n  - Updated the team page\n  - Added terms and conditions and privacy policy links to footer\n  - Added cookie notification to footer\n  - Updated framework files to resemble Rails 5.2 defaults more closely\n- **Admin Changes**\n  - Team members can now be reordered using drag-and-drop\n  - Updated exports interface\n  - Improved navigation between admin pages\n  - Added admin report for Help Center searches\n- **Blog Changes**\n  - Simplified navigation between live blog and unpublished (draft) articles\n  - Blogs can now have a cover image\n- **Dashboard Changes**\n  - Added navigational tabs to dashboard to simplify navigating between\n    dashboard, profile, research, and the forum\n- **Email Changes**\n  - Account confirmation and password reset emails now address the recipient by\n    first name if present instead of using username to reduce confusion for\n    users revisiting the site after several years\n- **Export Changes**\n  - Simplified user export\n- **Forum Changes**\n  - Added a prominent forum search to the forum index\n  - Topics now auto-lock after two months of inactivity\n  - Improved bolding and italicizing selected text\n- **Search Changes**\n  - Member profile previews are displayed when searching usernames\n  - Added customized search results\n- **Survey Changes**\n  - Updated events and designs to match new Slice survey API format\n  - Consent flow has been improved for logged out new and existing users\n- **Report Changes**\n  - Reports now correctly render markdown in graph titles\n  - Graphs that display time of day that default to PM are now shifted by 12\n    hours to better display responses over the midnight time range\n\n### Testing\n- Removed dependency on rails-controller-testing gem\n- Added tests to check friendly forwarding\n\n## 17.5.2 (June 12, 2018)\n\n### Bug Fix\n- Fixed an issue sorting forum topics by number of replies\n\n## 17.5.1 (May 18, 2018)\n\n### Bug Fix\n- Fixed an issue downloading consent PDFs and survey overview report PDFs\n\n## 17.5.0 (May 15, 2018)\n\n### Enhancements\n- **Survey Changes**\n  - Survey questions can now include markup for underline, italic, highlight, as\n    well as bold\n\n## 17.4.0 (May 9, 2018)\n\n### Enhancements\n- **Admin Changes**\n  - Admins can now review profile changes\n- **Survey Changes**\n  - Survey completeness is no longer affected by changes to survey event and\n    design slug changes\n\n## 17.3.0 (May 3, 2018)\n\n### Enhancements\n- **General Changes**\n  - Removed Google Analytics\n  - Improved password autocomplete\n- **Forum Changes**\n  - Improved spam filters\n- **Gem Changes**\n  - Updated to bootstrap 4.1.1\n\n## 17.2.0 (April 19, 2018)\n\n### Enhancments\n- **Survey Changes**\n  - Updated text on the MyApnea core survey report\n- **Gem Changes**\n  - Updated to ruby 2.5.1\n  - Updated to rails 5.2.0\n  - Updated to bootstrap 4.1.0\n  - Updated to devise 4.4.3\n  - Updated to simplecov 0.16.1\n  - Updated to capybara 3.0\n\n### Bug Fix\n- Fixed a bug that prevented study overview report from loading when referencing\n  a subject that no longer existed\n\n## 17.1.0 (March 14, 2018)\n\n### Enhancements\n- **Admin Changes**\n  - Added an admin spam report\n  - Admins can flag accounts as spam from users index\n- **Email Changes**\n  - Email confirmation is now required for all accounts\n  - Added detection of disposable email addresses\n- **Survey Changes**\n  - Updated \"Insomnia Scale\" text on summary report\n\n## 17.0.0 (March 8, 2018)\n\n### Enhancements\n- **General Changes**\n  - Updated styling of Terms of Access and Terms and Conditions\n- **Admin Changes**\n  - Admins can now perma-delete replies on blog posts and forum topics\n- **Blog Changes**\n  - Reduced display of deleted replies without replies of their own on the blog\n- **Email Changes**\n  - Started testing conditional email confirmation requirements\n  - Changing account email now requires reconfirming the change via email\n- **Forum Changes**\n  - Forum posts now show link text instead of URL in preview on dashboard\n- **Survey Changes**\n  - Added the MyApnea core survey report\n  - Updated interface to account for surveys that were completed with skipped\n    questions\n  - Users can now review their survey responses before advancing to the next\n    survey\n- **Gem Changes**\n  - Updated to rails 5.2.0.rc1\n  - Updated to pg 1.0.0\n\n### Refactoring\n- Removed deprecated survey module\n- Removed deprecated broadcast comments\n\n### Bug Fix\n- Fixed a bug that prevented blog post and forum topic previews and image\n  uploads from working correctly\n\n## 16.1.2 (February 13, 2018)\n\n### Bug Fix\n- Fixed error loading notifications when an associated topic had been deleted\n\n## 16.1.1 (January 31, 2018)\n\n### Bug Fix\n- Fixed `sitemap.xml.gz` file not being accessible\n\n## 16.1.0 (January 30, 2018)\n\n### Enhancements\n- **Dashboard Changes**\n  - Decreased size of user profile pictgure on the dashboard on mobile\n- **Forum Changes**\n  - Users can disable being auto-subscribed after replying to forum topics in\n    their settings\n  - Improved contrast of usernames on forum index\n  - Replies now link the bio for users that have completed a public profile\n  - Improved loading speed of the forum index\n  - Adjusted spacing of \"Back to Forum\" button on mobile\n- **Research Changes**\n  - Minor update to \"surveys being updated\" text\n\n### Bug Fix\n- Education articles are now correctly listed in the Help Center\n\n## 16.0.0 (January 29, 2018)\n\n### Enhancements\n- **General Changes**\n  - Improved the user interface to better focus on the forum, research studies\n    and surveys, and articles/blog\n  - The landing page has been simplified to create a better starting point for\n    future updates\n  - The help center has been added which integrates site FAQs and site-wide\n    search\n  - Registration and signing in now makes better use of friendly forwarding\n  - The dashboard now shows user replies from the blog and from the forum\n  - The research page has been redesigned to support multiple research studies\n    and also highlights recent research articles\n- **Profile Changes**\n  - Updated design of member profiles\n  - A user's \"Top\" and \"Recent\" topics are now listed on the member profile\n  - A user can provide a optional bio and location that displays on the member\n    profile\n  - Simplified the registration process\n    - Users are now asked to provide their own username as opposed to an\n      automatically generated one\n    - Users are no longer asked for age and full name on registration, this\n      has been moved to the research portal of the site when a user goes through\n      the consent process for a research study\n    - This allows users to more easily sign up and get started on the forum\n- **Admin Changes**\n  - Major revamp of the administrative interface\n  - Admin image pages list replies and broadcasts that reference the image\n  - Added a report manager role\n  - Admins can manage projects that link to Slice research studies\n- **Blog Changes**\n  - Added content manager role to streamline creation of articles for\n    \"Education\", \"FAQs\", and other static pages\n  - FAQs now exist as blog pages, however the \"FAQs\" category does not show up\n    on the blog roll, and is styled differently than regular blog posts\n  - FAQs can be rated and ranked in terms of helpfulness\n  - FAQs will also show up in search results on the help center\n- **Forum Changes**\n  - Adjusted how the forum index displays on mobile devices\n  - Forum usernames are now set at sign up by the user, however a pre-generated\n    username is provided as an example to the user\n  - Improved the display of images in posts on the forum\n  - Users can now subscribe to forum topics\n    - Creating a new topic automatically subscribes the author to the topic\n    - Replying to a topic automatically subscribes a user to the topic, unless\n      the user has previously unsubscribed from the topic\n    - In-app notifications are sent to topic subscribers\n  - Users can now auto-subscribe to new forum topics in their settings\n- **Projects Added**\n  - A project represents a research study in MyApnea, and provides a link to\n    the associated Slice project surveys and database records\n  - Sets of surveys are now grouped by project, the initial set of surveys on\n    MyApnea are going into the MyApnea Core project\n  - Users now have to go through the consent process for each research study\n    they wish to join\n- **Survey Changes**\n  - Surveys now leverage the Slice API\n  - The internal survey data model for MyApnea has been removed and replaced\n    with the more robust Slice data model\n  - The Slice API provides study event timelines, conditional surveys, survey\n    completion, branching logic, data validation, and a number of other\n    features: https://tryslice.io/docs\n- **Gem Changes**\n  - Updated to ruby 2.5.0\n  - Updated to rails 5.2.0.beta2\n  - Updated to bootstrap 4.0.0\n  - Updated to carrierwave 1.2.2\n  - Updated to devise 4.4.1\n  - Updated to hashids 1.0.4\n  - Updated to pg_search 2.1.2\n\n### Tests\n- Added tests to assure user passwords can be reset\n- Added system tests to track changes to user interface\n\n### Bug Fix\n- Welcome email should no longer be sent twice\n\n### Refactoring\n- Removed typeahead library\n- Combined blog post replies and forum topic replies into one model\n- Renamed internal forum chapters to topics\n\n## 15.1.2 (December 18, 2017)\n\n### Bug Fix\n- Added missing page title to HTML head\n\n## 15.1.1 (December 15, 2017)\n\n### Enhancements\n- **General Changes**\n  - Minor changes to wording on about page\n\n## 15.1.0 (December 15, 2017)\n\n### Enhancements\n- **Forum Changes**\n  - Improved management of spam accounts\n- **Gem Changes**\n  - Updated to ruby 2.4.3\n  - Updated `Gemfile` to `gems.rb`\n  - Updated to rails 5.1.4\n  - Updated to carrierwave 1.2.1\n  - Updated to devise 4.3.0\n  - Updated to haml 5.0.4\n  - Updated to jquery-rails 4.3.1\n  - Updated to kaminari 1.1.1\n  - Updated to pg_search 2.1.1\n  - Updated to rubyzip 1.2.1\n  - Updated to sitemap_generator 6.0.0\n  - Updated to simplecov 0.15.1\n\n## 15.0.5 (November 27, 2017)\n\n### Enhancements\n- **Forum Changes**\n  - Improvements to spam detection\n\n## 15.0.4 (November 16, 2017)\n\n### Enhancements\n- **Admin Changes**\n  - Admins can now empty spam from the spam inbox\n- **Forum Changes**\n  - Improved spam detection heuristics\n  - Spammers no longer affect topic view counts\n- **Gem Changes**\n  - Updated to pg 0.21.0\n\n## 15.0.3 (May 11, 2017)\n\n### Enhancements\n- **General Changes**\n  - Login cookies are now cross subdomain and work between www and non-www URLs\n  - Changed human verification from \"Invisible\" to \"I'm not a robot\" ReCAPTCHA\n- **Gem Changes**\n  - Updated to Ruby 2.4.1\n  - Updated to rails 5.0.2\n  - Updated to pg 0.20.0\n  - Updated to carrierwave 1.1.0\n  - Updated to haml 5.0.1\n  - Updated to simplecov 0.14.1\n  - Updated to sitemap_generator 5.3.1\n\n## 15.0.2 (January 23, 2017)\n\n### Enhancements\n- **Admin Changes**\n  - Improved user management for admins on user index\n\n## 15.0.1 (January 23, 2017)\n\n### Enhancements\n- **General Changes**\n  - Added an invisible reCAPTCHA to sign up page\n  - Contact Us link is now visible in footer on mobile devices\n- **Blog Changes**\n  - Improved language when creating and publishing blog posts\n- **Forum Changes**\n  - Badges for engaged forum users have been added:\n    - Sleep Commentator: Over 100 posts\n    - Sleep Enthusiast: Over 500 posts\n    - Sleep Innovater: Over 1,000 posts\n    - Sleep Patron: Over 2,000 posts\n    - Sleep Champion: Over 5,000 posts\n- **Profile Changes**\n  - Improved photo caching to correctly update photo on settings page when using\n    drag-and-drop\n- **Gem Changes**\n  - Added autoprefixer-rails\n  - Updated to kaminari 1.0.1\n  - Updated to hashids 1.0.3\n\n### Bug Fix\n- Fixed maps not displaying on community page\n- Fixed a bug that incorrectly loaded some pages at a lower scroll position\n\n## 15.0.0 (January 9, 2017)\n\n### Enhancements\n- **Gem Changes**\n  - Updated to Ruby 2.4.0\n  - Updated to rails 5.0.1\n  - Updated to carrierwave 1.0.0\n  - Updated to jquery-rails 4.2.2\n  - Updated to redcarpet 3.4.0\n  - Updated to pg_search 2.0.1\n  - Updated to jquery-ui-rails 6.0.1\n\n## 14.2.5 (November 30, 2016)\n\n### Enhancements\n- **Gem Changes**\n  - Dropped support for Ruby 2.2\n  - Updated to Ruby 2.3.3\n  - Updated to pg 0.19.0\n  - Updated to jquery-rails 4.2.1\n  - Updated to sitemap_generator 5.2.0\n\n### Bug Fix\n- Fixed a bug that prevented \"Skip this question\" from being selected when\n  filling out About Me survey during the sign up process\n\n## 14.2.4 (September 6, 2016)\n\n### Bug Fix\n- Fixed an issue clicking \"I acknowledge these changes\" after privacy policy and\n  consent updates that would make the button appear unresponsive\n\n## 14.2.3 (August 17, 2016)\n\n### Bug Fix\n- The admin user index now displays the correct total number of users\n\n## 14.2.2 (August 16, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Linking exports is now more consistent\n\n## 14.2.1 (August 16, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Change default sort direction to descending for user reply and sign in count\n\n## 14.2.0 (August 16, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Added another column to user export\n  - Added sortable columns to users index\n\n## 14.1.0 (August 16, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Improved information provided in user exports\n\n## 14.0.1 (August 12, 2016)\n\n### Enhancements\n- **Gem Changes**\n  - Updated to rails 5.0.0.1\n\n### Bug Fix\n- Mobile devices no longer need to click twice to vote\n- Rails model errors are now again correctly styled using Bootstrap CSS classes\n\n## 14.0.0 (August 9, 2016)\n\n### Enhancements\n- **General Changes**\n  - Updated styling across several pages to be more consistent\n  - Simplified styling on consent and terms and condition pages\n  - Users can now permanently delete their account from the settings page\n- **Admin Changes**\n  - Added a link to Admin Dashboard in mobile dropdown menu\n  - Improved forum post management\n  - Removed extraneous icon from CSV export button\n- **Blog Changes**\n  - Rich text editor buttons have been added to the blog editor\n- **Forum Changes**\n  - Upvote and downvote buttons have changed and also provide a link to learn\n    how to vote\n- **Gem Changes**\n  - Updated to rails 5.0.0\n  - Updated to coffee-rails 4.2\n  - Updated to jbuilder 2.5\n  - Updated to jquery-rails 4.1.1\n  - Updated to turbolinks 5\n  - Added rails-controller-testing\n\n### Refactoring\n- **General Cleanup**\n  - Rank the Research functionality has been removed\n    - Accepted research articles are available on the blog, and suggested research\n      topics can now be discussed on the forum\n  - Removed unused enagements functionality\n  - Removed old lottery code\n  - All emails are now sent in a background process\n- **Configuration Cleanup**\n  - Simplified configuration options\n  - Updated configuration of google analytics file\n  - Cleaned up existing migration files\n- **Forum Cleanup**\n  - Removed old forum backend files\n  - Removed forum name autocomplete as users are now emailed if they are\n    subscribed to a topic instead of sending emails for mentions\n- **Registration Cleanup**\n  - Started work on simplifying registration process\n  - Removed unused user contact information\n- **Survey Cleanup**\n  - Removed deprecated `display_type` column from questions\n  - Removed deprecated `data_type column` from answer_templates\n  - Removed deprecated `allow_multiple column` from answer_templates\n  - Removed Groupable concern as it is no longer need with PG 9.5\n  - Cleaned up unused survey JavaScript\n\n### Bug Fix\n- Fixed a bug that allowed users to be assigned the same survey multiple times\n  after switching roles\n- Child age range restriction now matches age listed in consent\n- Fixed a bug sorting replies on a member's profile page\n\n## 13.2.1 (July 26, 2016)\n\n### Bug Fix\n- Fixed an issue rendering an incorrect layout on the dashbaord\n\n## 13.2.0 (July 26, 2016)\n\n### Enhancements\n- **Survey Changes**\n  - The survey interface has been slightly adjusted to better match other pages\n    across the website\n  - The child survey interface dashboard has been improved\n- **Forum Changes**\n  - Users are now redirected back to the forum if signing in after visiting a\n    forum page\n- **Gem Changes**\n  - Updated to devise 4.2.0\n  - Updated to simplecov 0.12.0\n  - Updated to colorize 0.8.1\n\n## 13.1.0 (July 20, 2016)\n\n### Enhancements\n- **Blog Changes**\n  - Added menu item to allow community contributors to view blog drafts\n- **Forum Changes**\n  - Made changes to reduce the overall number of spam posts\n\n## 13.0.3 (July 1, 2016)\n\n### Bug Fix\n- Restricted version of Turbolinks to 2.5.3\n\n## 13.0.2 (June 24, 2016)\n\n### Enhancements\n- **Forum Changes**\n  - Replies can no longer be nested under the first comment in a topic\n  - The Rich Text Editor \"Link\" button now provides better details on formatting\n    a link with corresponding link text\n  - Added a unique index to chapter slugs\n  - Posts on member profile page are now sorted chronologically\n  - Posts on deleted topics are no longer counted towards a member's total post\n    count\n  - Deleted users posts no longer appear on the dashboard\n  - Forum topic views is now displayed using abbreviations for large numbers\n\n### Refactoring\n- Simplified group by clause for replies and topics for newer PG 9.5\n\n### Bug Fixes\n- The site now properly redirects to the forum index when a deleted reply is\n  visited\n\n## 13.0.1 (June 6, 2016)\n\n### Bug Fixes\n- Fixed location of sitemap reported to Bing and Google\n- Fixed an issue loading forum caused by missing group by clause required by PG\n- Fixed an issue loading topic replies and blog comments for admins\n\n## 13.0.0 (June 6, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Admins can now review blog comments and forum replies and sort by points and\n    creation time\n- **Forum Changes**\n  - The forums have been simplified into a single forum\n  - Users can jump to the last post on a topic from the forum index\n  - Forum post and reply interface has been updated\n  - Search now also includes forum topics and replies\n  - Topics now track how far a user has read, and will display and link to new\n    unread replies to the topic from the forum index\n  - Rich text editing buttons added to forum replies and blog comments\n- **General Changes**\n  - Simplified user interface and styling across site\n  - Site-wide search is now available in the top navigation bar\n  - Removed integration with UserVoice in favor of our support email address\n  - Improved generation of the sitemap\n- **Menu Changes**\n  - The menu has been slimmed down to take up less space\n- **Notifications Added**\n  - In-app notifications are now generated when someone comments on a blog post\n    or replies to another user's comment\n- **Research Topic Changes**\n  - Reduced emphasis across site on submitting research topics\n  - Accepted research topics now redirect to the associated blog post\n- **Gem Changes**\n  - Updated to kaminari 0.17.0\n  - Removed better_errors\n\n## 12.0.0 (May 12, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Removed highlights as these have been replaced by the community-driven blog\n  - Added a new page that allows admins to review all blog comments\n- **Blog Changes**\n  - Improved how blog posts are displayed on the blog index\n  - Improved URL structure for filtering blog posts by category and by author\n  - Added better HTML page titles for blog index and blog posts\n  - A count of total blog posts, and blog posts by category is now displayed in\n    the blog menu\n  - The blog is now searchable using full text search\n  - Links to blog posts now also display the first image present from the blog\n    post if one exists\n- **Landing Page Changes**\n  - Blog posts are now viewable on the landing page\n- **Research Topics**\n  - Removed requirement to do a research tutorial before casting votes\n- **Survey Changes**\n  - Detailed survey report now correctly sorts answer options by position\n  - Minor UI fix to speech bubbles on detailed survey report\n- **Gem Changes**\n  - Updated to Ruby 2.3.1\n  - Updated to devise 4.1.0\n\n### Bug Fixes\n- Fixed a bug that prevented the Submit Survey button from responding for\n  certain browsers\n- Provider infinite scroll no longer activates on every page\n\n## 11.0.0 (April 29, 2016)\n\n### Enhancements\n- **Blog Added**\n  - A new blog has been added to allow community contributors and researchers to\n    discuss sleep apnea and other topics related to MyApnea.Org\n  - Blog posts can be filtered by category\n  - Blog posts have a discussion section that is sorted by best or new comments\n  - Comments on blog posts can be up- and down-voted\n  - Comments can be ordered by highest ranked or newest\n\n## 10.4.0 (April 25, 2016)\n\n### Enhancements\n- **Admin Changes**\n  - Survey completion totals no longer count users excluded from exports and\n    reports\n- **Survey Builder Changes**\n  - Improved survey builder user interface\n  - Question slugs are now generated automatically\n  - Answer template names must now follow variable naming conventions\n\n\n### Refactoring\n- Cleaned up how survey questions, answer templates, and answer options are\n  ordered on surveys\n\n### Bug Fix\n- Fixed a bug computing the percentage \"Percentage of Members who think they\n  have sleep apnea for over 2 years:\"\n- Fixed a bug that prevented cancel button from working when adding a survey\n  editor\n- Fixed a bug that displayed duplicate surveys to survey builders\n\n## 10.3.0 (April 21, 2016)\n\n### Enhancements\n- **Email Changes**\n  - Unlock instructions are no longer sent to deleted accounts\n- **General Changes**\n  - Improved the styling for the footer to make it stick to the bottom of the\n    page\n- **Survey Builder Changes**\n  - Survey builders can now invite other builders to view and build surveys\n    together\n  - Survey questions, answer templates, and answer options can now be reordered\n    using drag and drop in the survey builder\n  - Survey builders can now preview surveys as they are being built\n- **Gem Changes**\n  - Updated to rails 4.2.6\n  - Updated to carrierwave 0.11.0\n  - Updated to devise 4.0.0\n\n### Bug Fix\n- Fixed a bug that prevented My Sleep Apnea custom report from generating\n  correct percentage for \"Percentage of Members who think they have sleep apnea\n  for over 2 years:\"\n\n## 10.2.0 (March 15, 2016)\n\n### Enhancements\n- **Map Changes**\n  - Map location is now pulled using a local database lookup\n- **Gem Changes**\n  - Added maxminddb gem\n\n## 10.1.1 (March 3, 2016)\n\n### Enhancements\n- **Email Changes**\n  - Improved the responsiveness and display of emails on smaller devices\n- **Gem Changes**\n  - Updated to rails 4.2.5.2\n  - Updated to simplecov 0.11.2\n\n## 10.1.0 (February 29, 2016)\n\n### Enhancements\n- **Dashboard Changes**\n  - Renamed \"Research Highlights\" to \"Highlights\"\n- **Learn Page Changes**\n  - Added Complex Sleep Apnea to the learn page\n  - Added better navigation between learn pages\n  - Updated styling of PAP device pages\n- **Password Reset Changes**\n  - Password reset emails are no longer sent to deleted users\n  - Provided better message if the email address was not found\n- **Survey Changes**\n  - Updated pediatric consent language\n- **Research Article Changes**\n  - Research articles can now be edited to not include a link to a research topic\n- **About Page Changes**\n  - Updated to indicate the international scope of the research project\n- **Gem Changes**\n  - Updated rubyzip to 1.2.0\n\n### Bug Fixes\n- Fixed a bug that prevented answering questions if a previous question with the same name had been deleted\n\n## 10.0.1 (January 26, 2016)\n\n### Enhancements\n- **Co-enrollment Changes**\n  - Updated styling on \"Welcome Health eHeart Members\" page\n\n## 10.0.0 (January 26, 2016)\n\n### Enhancements\n- **Co-enrollment Changes**\n  - MyApnea.Org members can now coenroll with Health eHeart and vice versa\n- **Research Article Changes**\n  - Admins can now associate a research article to any proposed research topic\n  - Admins can now set SEO keywords for research articles\n- **Gem Changes**\n  - Updated to rails 4.2.5.1\n\n### Refactoring\n- Cleaned up references to page partials\n\n## 9.2.3 (January 13, 2016)\n\n### Bug Fix\n- Fixed a bug that allowed users to set their usernames to existing usernames by changing the letter casing\n\n## 9.2.2 (January 11, 2016)\n\n### Enhancements\n- **Marketing Materials**\n  - Added a marketing materials page with a list of flyers and cards in English and Spanish\n\n## 9.2.1 (January 6, 2016)\n\n### Enhancements\n- **Survey Changes**\n  - New \"CPAP Adherence\" survey added\n  - \"My Risk Profile\" survey has been updated\n  - \"My Sleep Apnea\" survey has been updated\n  - \"My Sleep Apnea Treatment\" survey has been updated\n  - Changed report for sleep apnea symptom stats to match new answer options\n- **Gem Changes**\n  - Updated to Ruby 2.3.0\n  - Updated to web-console 3.0\n\n## 9.2.0 (December 17, 2015)\n\n### Enhancements\n- **Admin Changes**\n  - Added ability to flag industry sponsored clinical trials from admin interface\n  - Added order option for clinical trials\n  - Added interface to create new research articles\n    - Added ability to link approved research topic to research article\n  - Improved dynamic social media content creation\n- **Survey Changes**\n  - Fixed bug where dropdowns were showing two arrow options\n  - Fixed bug that only allowed surveys with <10 questions\n  - Birthdays can be listed as after 1997 to account for children\n  - Improved layout of radio style questions\n  - Added flow for completing multiple pediatric surveys\n  - Pediatric surveys can now be assigned specifically to diagnosed children\n  - Minor wording changes to custom report for sleep apnea symptoms\n  - **Builder Changes**\n    - Added ability to add/edit survey description\n    - Added ability to archive questions\n- **Provider Changes**\n  - Updated and simplified loading of provider index\n  - Added membership count and callout to dashboard\n- **Other Changes**\n  - Added PEP corner\n  - Improved display and usability of risk assessment tool\n  - Added address to user settings\n\n### Refactoring\n- Cleaned out unused javascript files\n- Removed deprecated research topic columns\n\n## 9.1.0 (December 7, 2015)\n\n### Enhancements\n- **Forum Changes**\n  - Improved layout of forum index\n    - Mobile view includes more information\n    - View count is visible to all members\n    - Recent activity is included\n  - Reintroduced easy moderation links for forum posts\n- **Research Changes**\n  - Reintroduced links to propose new research topics and contextual overview to research topic index\n  - Included more information about clinical trials\n    - Added industry sponsor flag\n  - Increase number of highlights displayed on dashboard and research index\n    - Added quick link to view all\n- **Admin Changes**\n  - Improved usability of admin content organization\n    - Can more simply reorder team member list\n    - Able to delete team members from admin dashboard\n  - Added provider column to data export\n- **Survey Changes**\n  - Added ability to archive answer templates in surveys\n- **SEO Improvements**\n  - Included expansive sitemap in txt/xml formats\n- **Gem Changes**\n  - Started testing Ruby 2.3.0-preview1\n  - Updated to simplecov 0.11.1\n\n## 9.0.1 (November 23, 2015)\n\n### Bug Fixes\n- Fixed dashboard to welcome current user by correct name\n- Fixed forum show page to highlight popular topics\n\n## 9.0.0 (November 23, 2015)\n\n### Enhancements\n- **Design Changes**\n  - Switched to fixed-width version of site\n  - Minor updates to landing page\n- **Engagment Changes**\n  - More dynamic widgets located on the dashboard\n    - Update social profile field\n    - Vote on new research topics\n  - Module added to ask free response questions to different user groups\n    - For example, ask diagnosed patients about their diagnostic experience\n  - Users are able to like posts\n  - Users are able to request expert advice for posts\n  - Users are able to comment on individual posts\n- **Provider Changes**\n  - Provider dashboard shows posts sorted by advice requests\n  - Fixed issue with possible redirect loop during consent procedure\n- **Research Changes**\n  - Research topic restructuring for enhanced usability\n- **Admin Changes**\n  - Replaced engagement report with reaction heatmap\n  - Heatmaps added to individual engagements\n  - Moderators receive alert emails for new forum replies\n- **Other**\n  - Added Groupable concern for compatibility with PostgreSQL 8.3\n  - Added list of clinical trials\n  - Improved purpose and navigation between invites\n\n### Refactoring\n- Refactored stylesheets to make better use of SCSS variables\n- Simplified forum views and actions\n\n## 8.5.0 (November 18, 2015)\n\n### Enhancement\n- **Admin Changes**\n  - Updated the location report to provide a summary of the previous week's signups\n- **Gem Changes**\n  - Updated to rails 4.2.5\n  - Updated to pg 0.18.4\n\n## 8.4.1 (October 22, 2015)\n\n### Bug Fixes\n- Removed deprecated calls to `AnswerValue.current` that caused the 'My Sleep Pattern' report to error\n\n## 8.4.0 (October 19, 2015)\n\n### Enhancements\n- **Admin Changes**\n  - Added a data dictionary and data export task for admins\n- **General Changes**\n  - Improved display of uploaded user, highlight, partner, and team member photos\n  - Members page now redirects to forums\n\n## 8.3.0 (October 13, 2015)\n\n### Enhancements\n- **General Changes**\n  - Fixed some minor typos across the website\n  - Added article on sleep apnea and atrial fibrillation\n- **Admin Changes**\n  - Team members can be modified from the admin dashboard\n  - Partners can be modified from the admin dashboard\n  - Clinical trials can be modified from the admin dashboard\n- **Gem Changes**\n  - Added better_errors\n\n## 8.2.2 (September 28, 2015)\n\n### Enhancements\n- **General Changes**\n  - Updated professional titles on research pages\n  - Corrected style of login button to match style used in 8.2.0\n- **Research Highlight Changes**\n  - Improved visibility of accepted research topics link on main Research page\n  - Fixed layout of multiple research highlights on research index\n  - Accepted research highlights are now arranged with the most recent at the top\n\n## 8.2.1 (September 23, 2015)\n\n### Enhancements\n- **Forum Changes**\n  - Temporarily disabled automatic forum reply emails\n- **General Changes**\n  - Updated and added Forgot my Email and Login links\n- **Gem Changes**\n  - Removed minitest-reporters\n\n## 8.2.0 (September 15, 2015)\n\n### Enhancements\n- **General Changes**\n  - Added PEP Chair to Steering Committee list\n  - Temporarily removed advisory council\n  - Added UW to Partners page\n- **Gem Changes**\n  - Updated to pg 0.18.3\n\n## 8.1.0 (September 11, 2015)\n\n### Enhancements\n- **General Changes**\n  - Minor spelling fixes\n  - Added a Code Climate configuration file\n  - Removed lottery language\n  - Fixed changing color of navigation bar\n  - Updated partnerships and relationships\n  - Added hypoglossal nerve stimulation research highlight\n  - Added women comorbidity (sleep apnea/heart disease) research highlight\n- **Gem Changes**\n  - Updated to rails 4.2.4\n  - Set minitest-reporters to use '~> 1.0.20'\n\n### Refactoring\n- Removed helper methods used to transition answer_template to newer format\n- Removed deleted columns from answers and answer_values\n- Removed dependency on report view\n- Improved test coverage for surveys controller\n- Improved test coverage for account controller\n- Improved test coverage for invites controller\n- Improved test coverage for research topics controller\n- Removed deprecated JavaScript and associated views\n\n### API Development\n- Surveys\n  - Now limit survey show response to questions that haven't been answered\n  - Survey description loading from database\n- Old, test version of API removed\n\n## 8.0.0 (August 31, 2015)\n\n### Enhancements\n- **Survey Changes**\n  - Longitudinal surveys can be launched and assigned to users, ex:\n    - `s = Survey.find_by(slug: 'about-me')`\n    - `s.launch_single(user, '6month')`\n  - Followup surveys are launched automatically based on encounter conditions\n    - Email are sent to alert users of new available surveys\n  - Pediatric survey functionality has been added\n    - Caregivers of children can fill out surveys about their children\n    - Baseline surveys are immediately assigned when a child in the proper age range is added by a caregiver of a child\n    - Data export excludes pediatric surveys\n  - Reports are now additionally scoped by encounter (ex: baseline, followup)\n  - Reports that do not have custom reports now redirect to the detailed report view\n  - Minor UI updates to completion display\n- **Online Survey Builder**\n  - Started work on an online survey builder for researchers and team members\n  - The online survey builder will let survey builders specify the following:\n    - The target audience (ex: diagnosed, at risk)\n    - The age range for pediatric surveys (ex: 2..8, 4..10)\n    - The number of encounters and spacing between surveys (ex: baseline, 6 month followup)\n  - Questions can be added to surveys in online builder\n    - Question text and slug can be modified\n    - Answer Templates can be added to questions\n    - Answer Options can be added to answer templates\n    - Question `display_type` and AnswerTemplate `data_type` and `allow_multiple` are no longer used to determine how to display questions on surveys\n    - AnswerTemplates now allow a `template_name` to be specified of the following types:\n      - \"date\", \"radio\", \"checkbox\", \"string\", \"height\", \"number\"\n    - Conditional AnswerTemplates now require a valid parent AnswerTemplate as well as a valid value\n  - Encounters can be added to surveys in online builder\n    - An encounter specifies when the survey is launched, in days after sign up\n- **Onboarding Changes**\n  - Reduced consent and privacy into one step in the process\n  - Removed progress indicators (due to shorter process) and switched to simple layout (without sidebar)\n- **General Changes**\n  - Minor updates to layout of forums, specifically in the headers\n  - Minor updates to layout of highlights to keep consistency with other internal links\n  - Account settings layout updated with improved, less intrusive navigation\n  - Terms and conditions forums displayed in scroll container\n- **Admin Changes**\n  - Administrators can now unlock surveys for users from the user show page\n  - Updated the Version Stats report to be monthly, and renamed to it to the Timeline Report\n  - Admins receive survey followup digest emails when new surveys are assigned to users\n  - All admin pages now use fullscreen layout\n- **Gem Changes**\n  - Updated to Ruby 2.2.3\n  - Only run `web-console` in development mode\n\n### API Development\n- **API**\n  - Users\n    - Added capability to create new users and login existing users via JSON request\n      - Cookies are passed back to allow use of devise user authentication\n      - Home added to test for current session\n    - Photo URL passed for created posts and research topics, if available\n    - Allows capturing of information during onboarding process\n      - Includes consent, user_type, and basic demographic information\n  - Research Topics\n    - Added capability to create new research topics as user\n    - Added capability to cast vote as user\n    - Index page lists all posts\n  - Votes\n    - Added votes, scopable by relevant fields and ratings\n  - Forums\n    - Added capability to get viewable topic index, ordered by activity, and topic show data\n    - Added capability to create new forum topics\n    - Added capability to create new posts\n  - Surveys\n    - Added getter for user's answer sessions\n    - Added survey show page to allow dynamic building on app side\n    - Survey submission will automatically lock surveys if complete\n\n### Bug Fix\n- Fixed and simplified date input parsing to better handle consistency issues across browsers and devices\n- Surveys are now correctly reassigned when a user changes their user type\n  - Unstarted surveys that are no longer applicable are discarded, and started surveys are kept\n- Fixed a bug that could cause users to have above 100% completion on surveys\n- Fixed a bug where new users weren't always marked as ready for research due to consent update dates\n- Flash notices are now being rendered on every page, to ensure they appear at the proper time\n- Fixed an issue displaying pie charts for My Quality of Life survey report\n\n### Refactoring\n- Simplified processing single answers for surveys\n- Reduced JavaScript footprint by removing unused JavaScript files\n- Overwriting views are no longer stored in myapnea subfolder\n- Restructured tests for surveys and improved overall test speed\n- Refactored Survey class in favor of an AnswerSession-centric model\n- Removed unused methods from the User model\n- Removed unused views and partials\n- Health Conditions report no longer relies on extra server JSON request\n- Removed old registration views and methods\n- Removed unused attributes from AnswerSession model\n- Removed unused attributes from Survey model\n\n## 7.5.1 (August 20, 2015)\n\n### Enhancements\n- Changed the copy for the join message on the landing page\n\n## 7.5.0 (August 14, 2015)\n\n### Enhancements\n- **Team Page Changes**\n  - Added additional bios and images to team page\n- **Research Page**\n  - Updated layout to allow for more space\n  - Added current clinical studies\n  - Added display of all highlights listed as research topics\n\n### Bug Fix\n- Removed deprecated configuration option previously used by devise\n\n## 7.4.0 (August 7, 2015)\n\n### Enhancements\n- **Learn Page Changes**\n  - Added educational pages\n    - What is Sleep Apnea\n    - Obstructive Sleep Apnea\n    - Central Sleep Apnea\n    - Causes\n    - Symptoms\n    - Risk Factors\n    - Diagnosis\n    - Treatment\n  - Updated About PAP Therapy section\n- **Landing Page Changes**\n  - Reduced font weight of subheaders\n  - Made white space more consistent\n- **Team Page Changes**\n  - Added first group of PEP members to the team page\n  - Added first round of internal team members to the team page\n  - Autoscrolling used to accomodate for longer list\n- **Minor Changes**\n  - Altered color of navigation bar and removed its drop shadow\n\n## 7.3.2 (July 7, 2015)\n\n### Bug Fix\n- Restructured logic syntax for loading google analytics A/B testing script\n\n## 7.3.1 (July 7, 2015)\n\n### Bug Fix\n- Relocated of google analytics A/B testing script to top of landing page header\n\n## 7.3.0 (July 7, 2015)\n\n### Enhancements\n- **Landing Page Changes**\n  - Implemented framework for A/B testing\n  - Testing video above the fold versus subtitle\n  - Add event tracking for video views\n  - Removed privacy blurb from bottom of landing page, since it's in the privacy policy\n- **General Changes**\n  - Updated styling on unlock account page\n  - Fixed styling of error message on login page when entering an incorrect password\n  - Added json index of research topics for integration with mobile application\n  - Academics are properly forwarded to terms of access when trying to review survey data\n  - Minor stlyistic changes to dashboard layout, including headers for widgets\n  - Added image of didgeridoos to didgeridoo research highlight\n  - Centered waveform image on Learn page\n  - Added bottom padding to sidebar to look more balanced\n- **Admin Changes**\n  - Admins can now disable user emails when deactivating accounts\n  - Fixed daily/weekly count from user index\n  - Added display tooltips for daily engagement points\n  - Added demographic breakdown by time period\n    - Daily engagement report now only available to admins\n  - User sign in count and last session are visible from admin view\n- **Gem Changes**\n  - Updated to redcarpet 3.3.2\n\n### Bug Fix\n- Fixed average satisfaction percentage calculation on My Sleep Apnea Treatment report\n- Adjusted size of large image in about me report that caused screen to stretch\n- Fixed OpenSans font not loading in Internet Explorer by adding `woff` format\n\n## 7.2.2 (June 25, 2015)\n\n### Enhancements\n- **Gem Changes**\n  - Updated to rails 4.2.3\n\n### Bug Fix\n- Posts on forum now correctly display when a user uses the `<` symbol\n\n## 7.2.1 (June 24, 2015)\n\n### Enhancements\n- **Copy Changes**\n  - Changed word 'awesome' to 'dynamic' on landing page\n  - Clarified possible treatment outcomes on learn page\n\n## 7.2.0 (June 24, 2015)\n\n### Enhancements\n- **Landing Page Changes**\n  - Sign up form above the fold\n  - Better use of white space throughout\n  - Allows for easy integration of other elements in the future\n  - Minor updates to styling of provider landing page, including new video\n  - Link to risk assessment added above the fold\n- **Layout Changes**\n  - Navigation has been greatly simplified, and dropdowns mostly removed\n  - Mobile navigation uses modern dropdown with basic navigation\n  - Sidebar includes next steps, to help new members integrate with the community\n  - Public sidebar better explains the features gained as a member\n  - Extra content (including learn pages) are available in the footer\n  - All major pages now have a callout encouraging people to join the site\n    - Tracking established to see which area drives the most conversions\n    - Custom messages developed for different sections of the site\n  - Learn page now acts as a landing page for other content\n    - Infographic type display, with quick links to other learn content\n  - Increased font size for forum index pages\n  - Minor spacing updates for bmi tool on mobile devices\n- **General Changes**\n  - Minor changes to display of large numbers on Community page\n  - Survey index is viewable for logged out users\n  - Successful password change styled to clearly be a success\n  - Added custom page titles and descriptions for search engine optimization\n  - Moved ISSS from learn page to partners page\n  - Updated link to MyApnea.Org welcome video\n  - Added didgeridoo research highlight\n  - Added ability for users to invite new members via email\n  - Added ability for users to invite their personal care provider via email\n  - FAQ research links now link to surveys index, which is publicly viewable\n  - Updates to Privacy Policy to include section on cookies and retargeting\n- **Survey Exports**\n  - Added a data dictionary export task to export all surveys into CSV format\n  - Added a data export task that matches the data dictionary format and is exported into CSV format\n- **Administrative Changes**\n  - Research topic admin dashboard shows total topic and vote counts\n  - Users index can easily highlight who has joined recently, along with daily counts\n  - Added engagement report, to track how many members are completing the sidebar next steps\n  - Changed date format to \"%-m/%-d/%Y\" for submitted research topics in admin view\n  - Added a daily engagement tracker\n    - See post creation, user registration, and survey completion over time\n    - See all activity over the past week\n- **Forum Changes**\n  - Posts that are deleted by users are now marked as hidden, and also track who deleted the post\n- **Gem Changes**\n  - Updated to rails 4.2.3.rc1\n  - Updated to redcarpet 3.3.1\n  - Updated to kaminari 0.16.3\n\n### Refactoring\n- Simplified get started process\n  - Allows the process to easily integrate new user roles in the future\n  - Gives a unified three step process, regardless of consent status\n- Unified code for consent process\n\n### Bug Fix\n- Fixed a bug on the forums that caused email links to be formatted incorrectly\n- Fixed a bug where users editing their comments on research topics redirected them to the forums terms and conditions\n\n## 7.1.4 (June 19, 2015)\n\n### Bug Fix\n- Fixed unlock URL generated by Devise mailer email\n\n## 7.1.3 (June 9, 2015)\n\n### Bug Fix\n- Fixed an issue displaying the landing page on iOS 7 devices\n\n## 7.1.2 (June 8, 2015)\n\n### Bug Fix\n- The landing page now displays better on iPhones in landscape mode\n\n## 7.1.1 (June 4, 2015)\n\n### Bug Fixes\n- Fixed issue with large play video overspilling on mobile landing page\n- The home page no longer shows posts that have been deleted\n\n## 7.1.0 (June 3, 2015)\n\n### Enhancements\n- **Landing Page Changes**\n  - Added the new MyApnea.Org video to the landing page\n  - Minor stylistic changes and user interface enhancements\n  - Videos on landing and learns page now have controls enabled\n  - Shortened and enhanced the intro text above the fold\n  - Better explained our mission below the fold\n  - Added indicator to encourage users to scroll and learn more about MyApnea\n  - Moved community counter closer to the testimonial and signup form\n  - Updated testimonial\n- **Profile Changes**\n  - Posts on member profiles now link to the exact post instead of just the topic\n- **Forum Moderation Changes**\n  - Forum moderators can no longer delete topics and posts\n  - Spam and hidden posts now are displayed in a more consistent way for moderators\n  - Site admins can now delete topics and posts\n  - Moderators can now see the total number of spam topics and posts on the member's profile\n- **Dashboard Changes**\n  - Posts on home page now link directly to post instead of just to the topic\n  - Posts on home page and on member profile pages are shown in full\n  - Posts by current user will now appear on the dashboard\n- **Learn Page Changes**\n  - Hovering over the carousel pictures now changes the mouse pointer to a cursor to indicate that they are clickable\n  - Updated YouTube link to BWH video\n- **Administrative Changes**\n  - Cross tabs report now displays percentages in a cleaner manner\n  - Improved links back to main admin dashboard\n  - Easily access social profile from user profile\n  - Research topics now include links and vote count\n  - Research topics can be edited\n- **General Changes**\n  - Updated styling for flash notification messages\n  - Added standard \"Open Sans\" font family to ensure font consistency across devices and operating systems\n- **Rank the Research Changes**\n  - Voting from member profiles will not dynamically update\n  - Rank the research is now publicly viewable\n  - Research Highlights are now publicly viewable\n\n### Bug Fixes\n- Fixed an issue getting counts for age categories on administrative progress report\n- Users cannot vote from member pages unless they have already completed the Rank the Research tutorial\n- Fixed an issue with styling that allowed unwanted left/right scrolling on landing pages\n- Fixed a bug where topic update notifications were sent even after a user had unsubscribed from a topic\n\n### Refactoring\n- Simplified internal role structure for setting admins and moderators\n\n## 7.0.2 (June 2, 2015)\n\n### Bug Fix\n- Fixed URL links in password reset and account unlock emails\n\n## 7.0.1 (June 1, 2015)\n\n### Bug Fix\n- Fixed an issue with the URL structure for Facebook and Twitter share links\n\n## 7.0.0 (June 1, 2015)\n\n### New Features\n- **Rank the Research Overhaul**\n  - Requires users to go through an intro process\n    - Users will see a dedicated page that introduces and explains the feature\n    - Users will then go through ten dedicated questions, one at a time\n    - Users will finally be able to see the full index, which has been restyled\n      - The most popular topic will be pulled above the fold to encourage further engagement\n      - Endorsed questions will be shown as visual links as a proof of deliverable\n      - Questions are binned by category (newest, most discussed)\n      - Users can submit a question on the index page\n  - Show page for each research topic includes the discussion\n    - Leverages backend functionality of forums, but with custom styling and unique feel\n    - Users are able to vote, and easily change their vote, from this page\n  - Added a 'My Research Topics' page\n    - Shows each research topic, along with its\n      - Status (approved, pending review, rejected)\n      - Endorsement rating\n  - Added Research Highlights\n    - Shows a list of approved research topics from the community\n    - Each accepted question has a write up on its own separate page with unique styling, as needed\n- **Dashboard**\n  - Added ability for admins to dynamically update dashboard highlights\n  - Added a stream of recent posts to the dashboard (continously loads all posts)\n- **Profile Changes**\n  - Members can drag and drop a new photo on the settings page\n  - Uploaded photos are now renamed to obscure any original filename\n  - Members can generate a random forum name, generated names are in the following format:\n    - `AdjectiveColorAnimal####`\n  - Each member has their own unique 'social profile' scoped by their forum name\n    - Displays their image and overall participation stats\n    - Displays all posts on the forum and approved research topics, chronologically\n\n### Enhancements\n- **Social Sharing**\n  - Forum topics can now be easily shared\n    - Each topic can auto generate a tweet, facebook post, and email for sharing\n  - Members are able to share that they have just completed a survey after submission\n- **Forum Changes**\n  - Unmoderated posts are visible to users with a visible flag that they are under review\n  - A disclaimer is included at the bottom of a topic with unmoderated posts\n  - Members are now assigned a forum name from a list of more than 14 billion possibilities\n    - Members may change their forum name in their account settings if they choose\n  - Topic subscribers are now notified immediately when a new post is created\n  - Editing a post now sets it back to under review for regular forum members\n  - Individual posts can now have links enabled\n    - Link become clickable once the post is approved\n    - Members editing their post sets the post back to under review, hence removing the clickable link\n  - Community member profiles have been added that show a member's popular posts and forum contributions\n  - Logging in while viewing a forum or topic page now keeps the member on that page and no longer redirects to the dashboard\n- **Administrative Changes**\n  - Forum moderators can now get in touch with forum participants to discuss posts that may require moderation or editing\n  - Added Provider Report\n    - Shows the number of members who have signed up with each provider\n    - Highlights the provider with the most members\n  - Added Progress Report\n  - Admin location report now better shows unmatched locations\n- **Provider Changes**\n  - Providers now receive an informational email after updating a completed provider profile\n  - Member welcome emails now list their provider if they signed up through a provider page\n  - The providers index can now be searched by provider name\n- **General Changes**\n  - Added a friendlier 404 page in case a member tries to visit a page that does not exist\n  - Added retargeting pixel from Connect360 to landing page\n  - Added 'Remember me' to login process to reduce landing page hits for already registered members\n- **Consent Changes**\n  - Updated the consent to latest approved revision\n- **User Interface**\n  - Updated to remove preset padding around each page\n    - Maximizes screen real estate\n    - Allows for more dynamic pages in the future\n  - Survey module still uses interface with padding, as the surveys were optimized for this\n  - Cleaned up the account page, and added easier jump-navigation\n  - Cleaned up admin dashboard\n\n### Refactoring\n- Trackable links on landing page now default to local paths if the trackable link is not present\n  - This allows better navigation in local and staging environments\n\n### Bug Fixes\n- Welcome modal that introduces research will only appear for nonacademic users\n- Answer session is no longer required to view survey reports\n- Login dropdown on top navigation optimized for internet explorer (text fields no longer spill over)\n- Fixed an issue for forum moderators where topics with hidden posts would no longer be viewable on forum index\n- Videos on learn page no longer cover the navigation bar when using Internet Explorer\n- Improved legibility of call-out text on the landing page\n\n## 6.1.3 (May 26, 2015)\n\n### Bug Fix\n- Fixed an issue where members could post images and links on forum without having explicit permission to post links or images\n\n## 6.1.2 (May 12, 2015)\n\n### Bug Fix\n- Added support for JavaScript functions that were not available in Firefox and Internet Explorer\n\n## 6.1.1 (May 1, 2015)\n\n### Enhancements\n- Temporarily removed the video from the landing page and moved to learn page\n- Updated a link on the learn page\n- Minor website copy changes\n- Email field now gets focus when clicking the Login button in the top navigation bar\n- Added bitly links to landing page for engagement tracking\n\n### Bug Fix\n- Fixed the Sleep Apnea and BMI tool not loading correctly in certain instances\n- About My Family Report now properly displays the member's selected country of birth\n\n## 6.1.0 (April 27, 2015)\n\n### New Features\n- New landing page redesign\n  - Removes 'walled garden' feel by showing top navigation immediately\n  - Better highlights 4 key values for possible MyApnea members\n\n### Enhancements\n- **Layout**\n  - PAP devices added to learn panel\n    - Minor updates to styling\n    - Improved navigation between these pages\n  - Navigation expanded to include distinct 'Learn' and 'Research' tabs\n- **Tool Updates**\n  - Updated layout of BMI calculation and graph for `Sleep Apnea and BMI` tool\n  - Minor edits to wording of results on `Risk Assessment` tool\n  - Minor edits to wording of results on `Sleep Apnea and BMI` tool\n  - Cleaned up layout on `Risk Assessment` tool\n  - Fixed minor issue with display labels for height on `Sleep Apnea and BMI` tool\n- **Survey Changes**\n  - Clarified wording of `family diagnostic` question in `About My Family` survey\n  - Fixed a typo in the `income` question in `About Me` survey\n  - Admins can now specify members to be excluded from data exports and reports\n- **Forum Changes**\n  - Posting on a multi-page topic now correctly loads the last topic page and post\n  - Non-square member photos now display better on the forums\n- **General Changes**\n  - Standardized text sizes on partners page\n  - ASA correctly listed as promotional partner\n  - Minor copy changes throughout the site\n  - Mailings that reference https://myapnea.org/bwh now forward to the BWH provider page\n  - Fixed margin and spacing on FAQs\n  - Privacy Policy URL now uses hyphen to be consistent with other links\n- **Gem Changes**\n  - Updated to Ruby 2.2.2\n  - Removed slow capybara test framework\n    - Tests will be handled by integration tests\n\n### Bug Fixes\n- Fixed issue with academic users not being able to see surveys\n- Fixed styling on button to accept the consent and privacy policy updates\n\n## 6.0.0 (April 15, 2015)\n\n### New Features\n- **Survey Updates**\n  - Survey reports restyled to be more easily digested, and appear as infographics\n    - All surveys except for 'My Interest in Research'\n    - Users are able to toggle and view the original detailed reports\n    - Researchers and providers are immediately shown the original reports, with option to see new reports\n    - Formatting and content based on feedback sourced from members via the forums\n  - System for adding custom validations for specific Survey questions\n    - Date of birth validation\n- **Administrative Changes**\n  - Cross-Tabs admin panel added\n    - Lists information about demographics of enrollment per type of referral source\n  - Location breakdown admin panel added\n    - Shows breakdown of member location by state and country\n- **Survey Exports**\n  - Common Data Model Version 2.0 exports implemented\n  - ESS export task added for reporting purposes\n  - PROMIS export task added for reporting purposes\n  - Location Report added that shows membership by country and state\n- **Public facing tools**\n  - Sleep apnea risk assessment tool added\n    - Based on the STOPBang survey\n    - Social sharing of results added for social media\n  - Sleep apnea and BMI assessment tool added\n    - Transformed from BMI/AHI calculator\n    - Relates sleep apnea severity to BMI category\n\n### Enhancements\n- **Gem Changes**\n  - Updated to rails 4.2.1\n  - Updated to redcarpet 3.2.3\n- **Documentation Changes**\n  - Consent and Privacy Policy updated based on need in order to do coenrollment\n  - Method for users to accept this update added\n    - This acceptance is required to for users to complete new surveys\n    - New users will automatically accept the update when they accept the consent\n  - Governance policies added to footer\n- Added American Sleep Association as a partner\n\n### Bug Fixes\n- Date of birth bug fix addressed now from the backend for better handling\n- Partner ISSS link updated\n\n## 5.2.0 (March 25, 2015)\n\n### Enhancements\n- **Forum Changes**\n  - Submitting a post on a topic now disables the button to prevent double-posting\n  - Images in forum posts now scale correctly\n- **Survey Changes**\n  - Users can now toggle a simple survey display if they have trouble inputting answers\n\n## 5.1.0 (March 13, 2015)\n\n### New Features\n- **Administrative Changes**\n  - A user registration and survey completion report added\n    - The report provides comparison across different MyApnea.Org releases\n- **Forum Changes**\n  - Posts can include mentions of other users by their social profile names\n  - Topics can be searched by authors of posts within that forum\n  - Moderators can now move topics between forums\n- **Content Additions**\n  - About Sleep Apnea\n  - About PAP Therapy\n  - PAP Quick Setup Guide\n  - PAP Troubleshooting Guide\n  - PAP Care and Maintenance\n  - PAP Masks and Equipment\n  - Traveling with PAP\n  - Side Effects of PAP\n  - Sleep Tips\n\n### Enhancements\n- Fixed some minor typos\n- Social profile information is now automatically displayed after being added by member\n- Providers index now properly paginates, with 12 providers listed on each page\n- Forums slightly restructured\n  - Introductions -> General\n  - Rank the Research -> Research\n  - Removed Daytime Sleepiness and Performance Outcomes\n  - Removed Network Member Feedback Regarding Proposed Studies and Clinical Trials\n\n### Bug Fixes\n- Fixed a survey bug where users had incomplete multiple radio button questions locked\n- Fixed a minor error generating a lottery winner\n- Added redirect for deprecated 'research_surveys' to 'surveys'\n- Fixed survey error when all options for a checkbox question were unselected\n- Fixed incorrect answer option migration mapping for the `my-sleep-apnea` survey\n- Hotkeys disabled for locked questions\n- Topics with slug `new` cannot be created\n- Google Analytics compatibility with Turbolinks\n\n## 5.0.0 (March 4, 2015)\n\n### New Features\n- **Major Survey Updates**\n  - Surveys have received a major update and have been restructured.\n    - The three existing surveys have been split across 11 smaller surveys\n  - New surveys have an exciting new interface!\n    - Users are able to scroll through survey by using keystrokes\n    - Answer options now have hotkeys and values\n    - Animated scrolling now used to move between questions\n    - Survey urls have been simplified\n    - Surveys can display nested questions\n    - On submission, surveys are locked, but can be reviewed when revisited\n    - Surveys are assigned based on user role selected during the registration process\n- **Member Roles**\n  - Members are able to define one or more of the following roles:\n    - Adult who has been diagnosed with sleep apnea\n    - Adult who is at-risk of sleep apnea\n    - Caregiver of adult diagnosed with or at-risk of sleep apnea\n    - Caregiver of child(ren) diagnosed with or at-risk of sleep apnea\n    - Professional care provider\n    - Research professional\n- **Registration Process**\n  - Upon registration, users are asked to describe their role on the site\n  - Upon registration, users are automatically sent through consent process\n    - For providers:\n      1. Privacy Policy\n      2. Terms of Access\n      3. Provider Profile\n    - For researchers who only identify as a researcher:\n      1. Privacy Policy\n      2. Terms of Access\n      3. Social Profile\n    - For all other members:\n      1. Privacy Policy\n      2. Consent\n      3. About Me Survey\n- **Terms of Access (ToA)**\n  - ToA will now be shown to the following groups, in place of the consent:\n    - Members who identify as a provider, but not any patient or caregiver role\n    - Members who identify as a researcher, but not any patient or caregiver role\n    - Still visible by other members of the community for transparency\n\n### Enhancements\n- **Administrative Changes**\n  - Added an admin dashboard to provide a central place to reach reports and research topic moderation\n- **Research Study Changes**\n  - Clicking \"Leave Research Study\" on the Consent or Privacy Policy pages now removes the member from the study\n    - In the past, the member would be redirected to the account page where this question would be asked one more time\n- **Forum Changes**\n  - Added indication of additional posts on forum index and pagination on individual forums\n  - Forum post anchors now correctly offset based on the top navigation bar\n  - Forum markdown has been improved and examples are provided under the Markup tab\n    - Blockquotes: `> This is quote`\n    - Highlight: `==This is highlighted==`\n    - Underline: `_This is underlined_`\n    - Superscript: `This is the 2^(nd) time`\n    - Strikethrough: `This is ~~removed~~`\n- **Community Page Changes**\n  - Removed state labels from USA map to provide cleaner overview\n- **Lottery Updates**\n  - Lottery random drawing code has been added, and can be run using `Lottery.draw_winner`\n- **Search Engine Optimization**\n  - Added `sitemap_generator` gem for dynamic SEO via sitemap creation\n  - Added unique meta descriptions to several key pages\n  - Added unique page titles to several key pages\n- **Gem Changes**\n  - Updated to Ruby 2.2.1\n\n### Bug Fixes\n- Password fields now display correctly in IE9\n- Topic slugs are now generated correctly for topics with titles that start with numbers\n- User dashboard displays correctly even without the presence of the forum\n\n### Refactoring\n- Centralized application configuration further by using figaro environment variables\n- Beta UI pages are now set as the default\n- Several OpenPPRN features have been disabled or removed\n  - Removed OODT and Validic integration\n  - Removed blog controller and views, this functionality is currently being handled by the \"News Forum\"\n  - Removed unused `pprn.rb` initializer file\n- Several survey model simplifications have been made:\n  - Renamed `QuestionFlow` to `Survey`\n  - Simplified survey load files\n  - Answer sessions are only created when surveys are launched, and encounter identifiers\n- The Forums Terms and Conditions now uses the new layout\n- Reduced dependency on `authority` gem\n- Cleaned up the account controller and updated tests\n- Cleaned up the static controller and added appropriate tests\n  - Moved `views/myapnea/static` files into `views/static` folder\n\n## 4.2.0 (January 29, 2015)\n\n### Enhancements\n- **Provider Changes**\n  - The provider sign up page now better indicates what users can do who are already signed in\n    - Allows users to contact support to become a provider\n    - Allows providers a link to their account settings to set up their custom pages\n- **Rank the Research**\n  - New UI/UX built and is now enabled for all members regardless of beta opt in status\n  - Statistic shown is now percentage of voters, rather than vote count\n  - Reduced complexity by displaying all data on one page (with possible need for pagination)\n  - Users are able to see statistic for any questions, but will be alerted if they have used all of their votes already\n- **General Changes**\n  - The Privacy Policy popup now uses the identical text to the Privacy Policy page\n  - Shortened the length of news posts description shown in the right hand side bar\n  - Added The Health eHeart Study under Promotional Partners\n  - The Partners page now uses the new layout exclusively\n\n### Bug Fixes\n- Fixed the providers \"Create Your Page\" button not working for logged in users\n- Fixed a bug that prevented linking a provider to a newly registered user if the user ran into other registration validation errors during the sign up process\n- Fixed link to CMB Solutions\n- Removed link from Recent News in old layout as the page no longer exists\n- Advisory member bios now open correctly on mobile devices\n\n## 4.1.0 (January 21, 2015)\n\n### Enhancements\n- **Consent and Privacy Policy Changes**\n  - **The Consent and Privacy Policy were updated to reflect the latest IRB-approved documents**\n- **General Changes**\n  - Minor changes to UI (links, text, sizing)\n  - Fixed display of personal provider page to have fullscreen/landing layout\n  - Fixed display of video and added autoplay/autopause features\n  - Recent News posts now link directly back to the topics\n  - Started work on allowing members to identify themselves as one of the following:\n    - Diagnosed With Sleep Apnea\n    - Concern That I May Have Sleep Apnea\n    - Family Member of an Adult with Sleep Apnea\n    - Family Member of a Child with Sleep Apnea\n    - Provider\n    - Researcher\n- **Forum Changes**\n  - Topics with posts that are pending review now show up as well when a moderator filters by topics that are pending review\n  - Topics are now sorted by their last visible post, and the last post by field is also filtered by the last visible post for the user\n    - Moderators will see the last post made that's pending moderation\n    - Regular members will see the last approved post in the forums index\n  - Moderator posts are now automatically approved\n  - Post links in emails now directly reference the post and are the server will redirect these links to the correct topic page\n  - Post Approval and Reply emails now reference the title of the topic so that email clients can group these together more naturally\n  - Topic and Post status has been simplified to include `hidden` status, along with `approved`, `pending_review`, and `spam`\n- **Community Page**\n  - Added quick link to change your account settings to be included in the map\n  - Community map now displays US and World membership counts\n- **User Interface Changes**\n  - Added user stats to side navigation bar (beta version)\n  - Administrative link added into the new UI menu (beta version)\n  - The terms of service, privacy policy, and consent pages have been updated to match the new UI (beta version)\n  - Learn page added as a quick link beneath the 'About Us' dropdown, and updated to fit new UI (beta version)\n    - Added 'additional resources' to learn page\n  - SAPCON Advisory Council added as a separate page\n  - Partners and promotional partners added as a separate page (removed from Our Team)\n    - Industry relation text added\n- **Email Changes**\n  - Updated styling on Password Reset and Account Unlock emails to match new MyApnea.Org themed email layout\n  - Added a new member welcome email\n- **Administrative Changes**\n  - Member management page has been updated and now proplery paginates members\n  - Moderators can now create approved Research Topics\n- **Provider Changes**\n  - Providers are able to sign up with minimal information\n    - Only require name, email, and password to create account\n    - Will input slug, provider name, location, etc. in provider_profile page\n\n### Bug Fixes\n- Reformatted beta alerts so they would be dismissable on mobile devices\n- Fixed sidebar on mobile devices\n  - Now only relying on JavaScript for class changes (instead of framed animations)\n  - Only using fixed-positioning for the user sidebar on medium and large screens\n- Removed provider name as a field on the member registration page\n- Fixed a bug that prevented topic replies from being sent out to email subscribers\n- Clicking Leave the Research Study now properly reflects the member's choice on the account page\n\n### Refactoring\n- Removed all remaining `forem` gem code\n\n## 4.0.0 (January 15, 2015)\n\n### Enhancements\n- **PCORNET Updates**\n  - Added script that extracts data into the PCORNET Common Data Model 2.0\n- **Forum Updates**\n  - Redesigned internal forums engine\n  - Posts can now be previewed before being submitted\n  - Added a forum digest email\n  - Members can now subscribe and unsubscribe to forum topics\n    - Members receive email when a reply is made to one of their subscribed topics\n  - Members can opt out of receiving forum emails in their account settings\n- **General Changes**\n  - Changed image sizes to speed up loading on mobile browsers\n  - Members of MyApnea.Org may opt into upcoming design changes and provide feedback directly to the MyApnea.Org team\n  - Readded the MyApnea.Org favicon to quickly identify the website when it is pinned in the browser\n  - The new UI better handles text sizes on mobile devices\n  - Links are now easier to distinguish in the new UI\n- **Administrative Changes**\n  - Admin Survey overview now correctly shows the number of completed surveys\n  - Website roles have been simplified\n- **Provider Updates**\n  - Providers can now sign up and create a unique URL that they can share with their members\n  - Members of MyApnea.Org can visit existing provider pages and add themselves as one of the provider members\n- **Survey Changes**\n  - The new UI redesign includes a new survey report overview to better display a member's survey answers compared with others\n\n### Bug Fixes\n- Confirmation boxes now properly display when deleting or removing posts\n\n### Refactoring\n- Internal `post` model changed to `notification`\n  - Old `Post` class has to do with **Site Notifications** and **Blog Posts**\n  - New `Post` class will be specific to **Forum Topics**\n\n## 3.2.1 (January 8, 2015)\n\n### Bug Fixes\n- Fixed report view bug for reports with no answers\n- Removed dependency on schema_plus gem\n\n## 3.2.0 (January 8, 2015)\n\n### Enhancements\n- **Survey Changes**\n  - Improved the performance and speed of surveys and survey reports\n\n### Bug Fixes\n- Fixed a bug that prevented users from progressing past question 12 in the About Me survey\n- Fixed a bug preventing users from entering a date using older browsers in the About Me survey\n\n## 3.1.0 (January 2, 2015)\n\n### Enhancements\n- **Home Page Changes**\n  - New landing page added that shows total member count\n    - The new landing page is the first in a series of parts of the website that will receive a user interface update\n    - Landing page now loads for non-logged in users\n  - Surveys linked on the home page have been updated to better show a member's progress through the available surveys\n- **Registration Changes**\n  - Year of Birth is now a drop down list to avoid confusion between entering Birth Date instead of Year of Birth\n- **Forum Changes**\n  - Forum index no longer shows quoted text in forum replies\n  - Improved the user interface for the forum index and the forum widget on the home page\n  - Forum topics now have an updated interface that focuses on easier readability\n- **General Changes**\n  - Minor text and content updates throughout the site\n  - Fixed an issue where long links and title would run into the page from the Recent News bar\n  - Updated timezone for forum to use Eastern Time Zone\n  - Session timeout was increased to allow members to be logged out less frequently\n- **Administrative Changes**\n  - Administrators can export users to update MailChimp lists and segments\n  - Blog posts link now correctly goes to the news forum\n- **Gem Changes**\n  - Updated to rails 4.2.0\n  - Updated to Ruby 2.2.0\n\n### Upcoming Changes\n- Added redesign preview of the following pages:\n  - Forum index page\n  - About Team page\n  - Survey Report page\n  - Rank the Research page\n  - Community Map page\n  - Providers Sign Up page\n\n### Bug Fixes\n- Fixed a survey question being select one, instead of select any\n- Fixed some minor spelling errors in survey questions\n\n## 3.0.0 (December 16, 2014)\n\n### Enhancements\n- **General Changes**\n  - Added lottery language to the Informed Consent to Question 14.\n  - Split existing survey into three smaller surveys\n  - Added new landing page prototype\n\n## 2.1.0 (December 10, 2014)\n\n### Enhancements\n- **General Changes**\n  - **In the News** integrates Facebook and forum news posts\n  - Some minor text and content changes\n  - Reduced size of header image to load more quickly\n\n- **Gem Changes**\n  - Updated to rails 4.2.0.rc1\n  - Updated to Ruby 2.1.5\n\n### Refactoring\n- Updated production environment initialization, including integration with Figaro gem.\n- The forem gem now uses the default configured email address\n\n### Bug Fixes\n- Surveys cannot be reset now without explicit permission from user.\n- Added fix for Google Analytics to correctly track page views.\n- Surveys with 0 answers completed can be resumed.\n\n## 2.0.0 (November 14, 2014)\n\n### Enhancements\n- **General Changes**\n  - Revamped the navigation flow.\n  - Synchronized vision with OpenPPRN.\n  - Cleaned up overall style.\n  - Added community and personal contributions\n  - Revamped forums\n  - Improved mobile navigation design\n  - Added new landing page based of introduction page\n\n## 1.1.0 (October 17, 2014)\n\n### Enhancements\n- **Research Surveys**\n  - Added survey question about sleep care institutions\n  - Added ASAA as a choice for how a user heard about MyApnea.\n  - Implemented new question type, based on `typeahead.js`.\n\n### Bug Fixes\n- Fixed research topic voting problems encountered on Firefox browsers.\n- Fixed erroneous 'true' flash message after session expiration.\n\n## 1.0.1 (October 15, 2014)\n\n### Enhancements\n- **Sidebar Navigation**\n  - Implemented collapsing sidebar for mobile users.\n\n### Bug Fixes\n- **Social Profile**\n  - Fixed problem where social profile update did not save all fields.\n  - Added validation for negative age values.\n  - Fixed crash when uploading photo on production.\n- **Research Surveys**\n  - Fixed survey stability issues.\n  - Cleaned up and fixed issues with survey completion report.\n- **Forum**\n  - Made entry into forums more obvious for users.\n\n## 1.0.0 (October 3, 2014)\n\n### Major Features\n\n- **Social Profile**\n  - Users can create a social profile to brand themselves on MyApnea.Org\n    - Users can choose a nickname and profile picture, and choose to share their sex and age\n  - Users can interact on the MyApnea.Org forums by creating new topics and posting to other users topics\n  - Users can see a map of fellow users who have shared their city location\n\n- **Research Survey**\n  - Users who fill out the Research Consent form are able to fill out \"About Me and My Sleep\"\n  - Users are provided a survey report that shows them aggregate results from others who have taken the survey\n\n- **Rating Research Questions**\n  - Users who register are able to cast votes on prominent research questions\n  - Users can submit their own research questions\n\n- **Learning about Sleep Apnea**\n  - MyApnea.Org provides a \"Sleep In the News\" corner that allows users to read more about sleep apnea and related subjects\n  - MyApnea.Org links the American Sleep Apnea Association Facebook feed to provide another resource for learning about sleep apnea\n\n- **Administrative**\n  - Administrators can assign roles to other users\n  - Administrators can moderate forum posts\n  - Administrators can add new blog posts for the \"Sleep In the News\" corner\n", "!!!\n%html{ lang: \"en\" }\n  %head\n    %meta{ charset: \"utf-8\" }\n    %meta{ content: \"IE=Edge,chrome=1\", http: { equiv: \"X-UA-Compatible\" } }\n    %meta{ name: \"viewport\", content: \"width=device-width, initial-scale=1, shrink-to-fit=no\" }\n    = render \"layouts/meta/general\"\n    = render \"layouts/meta/facebook\"\n    = render \"layouts/meta/google\"\n    -# Don't cache any pages\n    %meta{ name: \"turbolinks-cache-control\", content: \"no-cache\" }\n    %title= [@title, \"MyApnea\"].compact.join(\" - \")\n    = favicon_link_tag\n    = auto_discovery_link_tag(:rss, \"#{ENV[\"website_url\"]}/blog.atom\")\n    = csrf_meta_tags\n    = render \"layouts/fathom_analytics\" if Rails.env.production?\n    = stylesheet_link_tag \"application\", media: \"all\", data: { turbolinks_track: \"reload\" }\n    = javascript_include_tag \"application\", data: { turbolinks_track: \"reload\" }\n    = javascript_tag \"var root_url=\\\"#{request.script_name + \"/\"}\\\";\"\n  - @random_theme ? render(\"themes/random\") : render(\"themes/theme\") unless @theme\n  %body#top.full-page.theme-bg{ class: \"theme-#{@theme.presence || \"default\"}-bg\", data: { theme: @theme } }\n    = render \"layouts/service_announcement\", container: defined?(container) ? container : nil\n    = render \"layouts/flash_bar\"\n    = render \"layouts/logo_bar\", container: defined?(container) ? container : nil\n    #top-menu.top-menu= render \"layouts/menu\"\n    - if content_for?(:white_header)\n      .white-header-container{ class: defined?(container) && container.present? ? container : \"container\" }\n        %h1.white-title-uppercase.mb-0\n          = yield :white_header\n    - if content_for?(:header)\n      .header-container{ class: content_for?(:tabs) || content_for?(:progress_bar) ? \"header-container-no-border\" : nil }\n        %div{ class: defined?(container) && container.present? ? container : \"container\" }\n          %h1.page-heading\n            = yield :header\n    = yield :header_append\n    - if content_for?(:tabs)\n      .header-tabs{ class: \"#{\"header-tabs-no-breadcrumbs\" unless content_for?(:breadcrumbs)}\" }\n        %div{ class: defined?(container) && container.present? ? container : \"container\" }\n          = yield :tabs\n    = yield :progress_bar\n    - if content_for?(:breadcrumbs)\n      .breadcrumb-container\n        %div{ class: defined?(container) && container.present? ? container : \"container\" }\n          = yield :breadcrumbs\n    .theme-custom-spacing\n      .py-3\n        .container.remove-last-margin= yield\n    = yield :footer\n    = render \"layouts/footer\"\n", "!!!\n%html{ lang: \"en\" }\n  %head\n    %meta{ charset: \"utf-8\" }\n    %meta{ content: \"IE=Edge,chrome=1\", http: { equiv: \"X-UA-Compatible\" } }\n    %meta{ name: \"viewport\", content: \"width=device-width, initial-scale=1, shrink-to-fit=no\" }\n    = render \"layouts/meta/general\"\n    = render \"layouts/meta/facebook\"\n    = render \"layouts/meta/google\"\n    -# Don't cache any pages\n    %meta{ name: \"turbolinks-cache-control\", content: \"no-cache\" }\n    %title= [@title, \"MyApnea\"].compact.join(\" - \")\n    = favicon_link_tag\n    = auto_discovery_link_tag(:rss, \"#{ENV[\"website_url\"]}/blog.atom\")\n    = csrf_meta_tags\n    = render \"layouts/fathom_analytics\" if Rails.env.production?\n    = stylesheet_link_tag \"application\", media: \"all\", data: { turbolinks_track: \"reload\" }\n    = javascript_include_tag \"application\", data: { turbolinks_track: \"reload\" }\n    = javascript_tag \"var root_url=\\\"#{request.script_name + \"/\"}\\\";\"\n  - @random_theme ? render(\"themes/random\") : render(\"themes/theme\") unless @theme\n  %body#top.full-page.theme-bg{ class: \"theme-#{@theme.presence || \"default\"}-bg\", data: { theme: @theme } }\n    = render \"layouts/service_announcement\", container: @container.presence\n    = render \"layouts/flash_bar\"\n    = render \"layouts/logo_bar\", container: @container.presence\n    #top-menu.top-menu= render \"layouts/menu\", container: @container.presence\n    - if content_for?(:white_header)\n      .white-header-container{ class: defined?(container) && container.present? ? container : \"container\" }\n        %h1.white-title-uppercase.mb-0\n          = yield :white_header\n    - if content_for?(:header)\n      .header-container{ class: content_for?(:tabs) ? \"header-container-no-border\" : nil }\n        %div{ class: @container.presence || \"container\" }\n          %h1.page-heading\n            = yield :header\n    = yield :header_append\n    = yield\n    = yield :footer\n    = render \"layouts/footer\", container: @container.presence\n", "!!!\n%html{ lang: \"en\" }\n  %head\n    %meta{ charset: \"utf-8\" }\n    %meta{ content: \"IE=Edge,chrome=1\", http: { equiv: \"X-UA-Compatible\" } }\n    %meta{ name: \"viewport\", content: \"width=device-width, initial-scale=1, shrink-to-fit=no\" }\n    = render \"layouts/meta/general\"\n    = render \"layouts/meta/facebook\"\n    = render \"layouts/meta/google\"\n    -# Don't cache any pages\n    %meta{ name: \"turbolinks-cache-control\", content: \"no-cache\" }\n    %title= [@title, \"MyApnea\"].compact.join(\" - \")\n    = favicon_link_tag\n    = auto_discovery_link_tag(:rss, \"#{ENV[\"website_url\"]}/blog.atom\")\n    = csrf_meta_tags\n    = render \"layouts/fathom_analytics\" if Rails.env.production?\n    = stylesheet_link_tag \"application\", media: \"all\", data: { turbolinks_track: \"reload\" }\n    = javascript_include_tag \"application\", data: { turbolinks_track: \"reload\" }\n    = javascript_tag \"var root_url=\\\"#{request.script_name + \"/\"}\\\";\"\n  %body#top.full-page.theme-bg{ class: \"theme-#{@theme.presence || \"default\"}-bg\", data: { theme: @theme } }\n    = render \"layouts/service_announcement\", container: \"container-fluid\"\n    = render \"layouts/flash_bar\"\n    = yield :header\n    = yield\n    = yield :footer\n    = render \"layouts/footer\", container: \"container-fluid\"\n", "!!!\n%html{ lang: \"en\" }\n  %head\n    %meta{ charset: \"utf-8\" }\n    %meta{ content: \"IE=Edge,chrome=1\", http: { equiv: \"X-UA-Compatible\" } }\n    %meta{ name: \"viewport\", content: \"width=device-width, initial-scale=1, shrink-to-fit=no\" }\n    = render \"layouts/meta/general\"\n    = render \"layouts/meta/facebook\"\n    = render \"layouts/meta/google\"\n    -# Don't cache any pages\n    %meta{ name: \"turbolinks-cache-control\", content: \"no-cache\" }\n    %title= [@title, \"MyApnea\"].compact.join(\" - \")\n    = favicon_link_tag\n    = auto_discovery_link_tag(:rss, \"#{ENV[\"website_url\"]}/blog.atom\")\n    = csrf_meta_tags\n    = render \"layouts/fathom_analytics\" if Rails.env.production?\n    = stylesheet_link_tag \"application\", media: \"all\", data: { turbolinks_track: \"reload\" }\n    = javascript_include_tag \"application\", data: { turbolinks_track: \"reload\" }\n    = javascript_tag \"var root_url=\\\"#{request.script_name + \"/\"}\\\";\"\n  %body#top.full-page-no-header.theme-bg{ class: \"theme-#{@theme.presence || \"default\"}-bg\", data: { theme: @theme } }\n    = render \"layouts/service_announcement\", container: \"container-fluid\"\n    = render \"layouts/flash_bar\"\n    = yield :header\n    = yield\n    = yield :footer\n    = render \"layouts/footer\", container: \"container-fluid\"\n", "!!!\n%html{ lang: \"en\" }\n  %head\n    %meta{ charset: \"utf-8\" }\n    %meta{ content: \"IE=Edge,chrome=1\", http: { equiv: \"X-UA-Compatible\" } }\n    %meta{ name: \"viewport\", content: \"width=device-width, initial-scale=1, shrink-to-fit=no\" }\n    = render \"layouts/meta/general\"\n    = render \"layouts/meta/facebook\"\n    = render \"layouts/meta/google\"\n    -# Don't cache any pages\n    %meta{ name: \"turbolinks-cache-control\", content: \"no-cache\" }\n    %title= [@title, \"MyApnea\"].compact.join(\" - \")\n    = favicon_link_tag\n    = auto_discovery_link_tag(:rss, \"#{ENV[\"website_url\"]}/blog.atom\")\n    = csrf_meta_tags\n    = render \"layouts/fathom_analytics\" if Rails.env.production?\n    = stylesheet_link_tag \"application\", media: \"all\", data: { turbolinks_track: \"reload\" }\n    = javascript_include_tag \"application\", data: { turbolinks_track: \"reload\" }\n    = javascript_tag \"var root_url=\\\"#{request.script_name + \"/\"}\\\";\"\n  %body#top.full-page.theme-bg{ class: \"theme-#{@theme.presence || \"default\"}-bg\", data: { theme: @theme } }\n    = render \"layouts/service_announcement\", container: \"container-fluid\"\n    = render \"layouts/flash_bar\"\n    = render \"layouts/logo_bar\", container: \"container-fluid\"\n    #top-menu.top-menu= render \"layouts/menu\", nocontainer: true\n    - if content_for?(:white_header)\n      .white-header-container.container-fluid\n        %h1.white-title-uppercase.mb-0\n          = yield :white_header\n    - if content_for?(:header)\n      .header-container{ class: content_for?(:tabs) || content_for?(:progress_bar) ? \"header-container-no-border\" : nil }\n        .container-fluid\n          %h1.page-heading\n            = yield :header\n    = yield :header_append\n    - if content_for?(:tabs)\n      .header-tabs{ class: \"#{\"header-tabs-no-breadcrumbs\" unless content_for?(:breadcrumbs)}\" }\n        .container-fluid\n          = yield :tabs\n    = yield :progress_bar\n    - if content_for?(:breadcrumbs)\n      .breadcrumb-container\n        .container-fluid\n          .px-1= yield :breadcrumbs\n    .row.no-gutters.flex-md-nowrap.theme-custom-spacing\n      = render \"sidebar/mini\"\n      = yield(:sidebar)\n      %main.col.p-3.remove-last-margin{ role: \"main\" }\n        = yield\n    = yield :footer\n    = render \"layouts/footer\", container: \"container-fluid\"\n"], "filenames": ["CHANGELOG.md", "app/views/layouts/application.html.haml", "app/views/layouts/full_page.html.haml", "app/views/layouts/full_page_custom_header.html.haml", "app/views/layouts/full_page_no_header.haml", "app/views/layouts/full_page_sidebar.html.haml"], "buggy_code_start_loc": [3, 12, 12, 12, 12, 12], "buggy_code_end_loc": [3, 13, 13, 13, 13, 13], "fixing_code_start_loc": [4, 12, 12, 12, 12, 12], "fixing_code_end_loc": [6, 13, 13, 13, 13, 13], "type": "CWE-79", "message": "A vulnerability, which was classified as problematic, was found in myapnea up to 29.0.x. Affected is an unknown function of the component Title Handler. The manipulation leads to cross site scripting. It is possible to launch the attack remotely. Upgrading to version 29.1.0 is able to address this issue. The name of the patch is 99934258530d761bd5d09809bfa6c14b598f8d18. It is recommended to upgrade the affected component. VDB-216750 is the identifier assigned to this vulnerability.", "other": {"cve": {"id": "CVE-2022-4731", "sourceIdentifier": "cna@vuldb.com", "published": "2022-12-25T11:15:11.113", "lastModified": "2023-01-04T20:26:21.893", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "A vulnerability, which was classified as problematic, was found in myapnea up to 29.0.x. Affected is an unknown function of the component Title Handler. The manipulation leads to cross site scripting. It is possible to launch the attack remotely. Upgrading to version 29.1.0 is able to address this issue. The name of the patch is 99934258530d761bd5d09809bfa6c14b598f8d18. It is recommended to upgrade the affected component. VDB-216750 is the identifier assigned to this vulnerability."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:C/C:L/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 5.4, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.3, "impactScore": 2.7}], "cvssMetricV30": [{"source": "cna@vuldb.com", "type": "Secondary", "cvssData": {"version": "3.0", "vectorString": "CVSS:3.0/AV:N/AC:L/PR:H/UI:R/S:U/C:N/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "HIGH", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 2.4, "baseSeverity": "LOW"}, "exploitabilityScore": 0.9, "impactScore": 1.4}]}, "weaknesses": [{"source": "cna@vuldb.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-79"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:myapnea:myapnea:*:*:*:*:*:*:*:*", "versionEndExcluding": "29.1.0", "matchCriteriaId": "F5BEB3B1-F9F6-414F-833F-505B7910077B"}]}]}], "references": [{"url": "https://github.com/myapnea/myapnea.org/commit/99934258530d761bd5d09809bfa6c14b598f8d18", "source": "cna@vuldb.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/myapnea/myapnea.org/releases/tag/v29.1.0", "source": "cna@vuldb.com", "tags": ["Release Notes", "Third Party Advisory"]}, {"url": "https://vuldb.com/?ctiid.216750", "source": "cna@vuldb.com", "tags": ["Third Party Advisory"]}, {"url": "https://vuldb.com/?id.216750", "source": "cna@vuldb.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/myapnea/myapnea.org/commit/99934258530d761bd5d09809bfa6c14b598f8d18"}}