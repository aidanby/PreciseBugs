{"buggy_code": ["<?php\n$translate = $this->plugin('translate');\n$this->htmlElement('html')->setAttribute('lang', $this->lang());\n$this->headMeta()->setCharset('utf-8');\n$this->headMeta()->appendName('viewport', 'width=device-width, initial-scale=1');\n$this->headTitle($this->setting('installation_title', 'Omeka S'))->setSeparator(' \u00b7 ');\n$this->headLink()->prependStylesheet($this->assetUrl('css/style.css', 'Omeka'));\n$this->headLink()->prependStylesheet($this->assetUrl('css/iconfonts.css', 'Omeka'));\n$this->headLink()->prependStylesheet($this->assetUrl('vendor/chosen-js/chosen.css', 'Omeka'));\n$this->headLink()->prependStylesheet($this->assetUrl('vendor/tablesaw/tablesaw.stackonly.css', 'Omeka'));\n$this->headLink()->prependStylesheet('//fonts.googleapis.com/css?family=Source+Code+Pro|Lato:400,400italic,700,700italic');\n$this->headScript()->prependFile($this->assetUrl('js/admin.js', 'Omeka'));\n$this->headScript()->prependFile($this->assetUrl('js/global.js', 'Omeka'));\n$this->headScript()->prependFile($this->assetUrl('js/chosen-options.js', 'Omeka'));\n$this->headScript()->prependFile($this->assetUrl('vendor/chosen-js/chosen.jquery.js', 'Omeka'));\n$this->headScript()->prependFile($this->assetUrl('vendor/tablesaw/tablesaw.stackonly.jquery.js', 'Omeka'));\n$this->headScript()->prependFile($this->assetUrl('vendor/jquery/jquery.min.js', 'Omeka'));\n$this->jsTranslate();\n\n$escape = $this->plugin('escapeHtml');\n$siteNav = (string) $this->navigation('Laminas\\Navigation\\AdminSite')->menu();\n$resourceNav = (string) $this->navigation('Laminas\\Navigation\\AdminResource')->menu();\n$adminNav = (string) $this->navigation('Laminas\\Navigation\\AdminGlobal')->menu();\n$moduleNav = (string) $this->navigation('Laminas\\Navigation\\AdminModule')->menu();\n$this->trigger('view.layout');\n?>\n<?php echo $this->doctype(); ?>\n<?php echo $this->htmlElement('html'); ?>\n    <head>\n        <?php echo $this->headMeta(); ?>\n        <?php echo $this->headTitle(); ?>\n        <?php echo $this->headLink(); ?>\n        <?php echo $this->headStyle(); ?>\n        <?php echo $this->headScript(); ?>\n    </head>\n    <?php echo $this->htmlElement('body'); ?>\n        <a href=\"#content\" class=\"skip\"><?php echo $translate('Skip to main content'); ?></a>\n        <div class=\"flex\">\n            <header>\n                <div class=\"logo\"><a href=\"<?php echo $this->url('admin'); ?>\"><?php echo $this->setting('installation_title', 'Omeka S'); ?></a></div>\n                <div id=\"mobile-nav\">\n                    <a href=\"#\" class=\"o-icon-menu button\"><span class=\"screen-reader-text\"><?php echo $translate('Navigation menu'); ?></span></a>\n                    <a href=\"#\" class=\"o-icon-search button\"><span class=\"screen-reader-text\"><?php echo $translate('Search site'); ?></span></a>\n                    <a href=\"#\" class=\"o-icon-user button\"><span class=\"screen-reader-text\"><?php echo $translate('User menu'); ?></span></a>\n                </div>\n                <div id=\"user\">\n                    <?php if ($this->identity()): ?>\n                    <p class=\"user-id\"><?php echo sprintf($translate('Signed in as %s'),  '<a href=\"' . $this->url('admin/id', [\n                        'controller' => 'user',\n                        'id' => $this->identity()->getId(),\n                    ]) . '\">' . $escape($this->identity()->getName()) . '</a>'); ?></p>\n                    <p class=\"logout\"><a href=\"<?php echo $this->url('logout'); ?>\"><?php echo $translate('Logout'); ?></a></p>\n                    <?php else: ?>\n                    <p><?php echo $translate('not logged in'); ?></p>\n                    <?php endif; ?>\n                </div>\n                <div id=\"search\">\n                    <form action=\"\" id=\"search-form\">\n                        <?php $searchValue = isset($_GET['fulltext_search']) ? $_GET['fulltext_search'] : ''; ?>\n                        <input type=\"text\" name=\"fulltext_search\" value=\"<?php echo $escape($searchValue); ?>\">\n                        <button type=\"button\" id=\"advanced\"><?php echo $translate('Advanced options'); ?></button>\n                        <button type=\"submit\"><?php echo $translate('Search'); ?></button>\n                        <fieldset id=\"advanced-options\">\n                            <legend><?php echo $translate('Resource type'); ?></legend>\n                            <input type=\"radio\" name=\"resource-type\" id=\"search-items\" value=\"item\" checked=\"checked\"\n                                data-input-placeholder=\"<?php echo $escape($translate('Search items')); ?>\"\n                                data-action=\"<?php echo $escape($this->url('admin/default', ['controller' => 'item', 'action' => 'browse'])); ?>\">\n                            <label for=\"search-items\"><?php echo $translate('Items'); ?></label>\n                            <input type=\"radio\" name=\"resource-type\" id=\"search-item-sets\" value=\"item-set\"\n                                data-input-placeholder=\"<?php echo $escape($translate('Search item sets')); ?>\"\n                                data-action=\"<?php echo $escape($this->url('admin/default', ['controller' => 'item-set', 'action' => 'browse'])); ?>\">\n                            <label for=\"search-item-sets\"><?php echo $translate('Item sets'); ?></label>\n                            <input type=\"radio\" name=\"resource-type\" id=\"search-media\" value=\"media\"\n                                data-input-placeholder=\"<?php echo $escape($translate('Search media')); ?>\"\n                                data-action=\"<?php echo $escape($this->url('admin/default', ['controller' => 'media', 'action' => 'browse'])); ?>\">\n                            <label for=\"search-media\"><?php echo $translate('Media'); ?></label>\n                        </fieldset>\n                    </form>\n                </div>\n                <nav id=\"menu\" role=\"navigation\">\n                    <?php echo $siteNav; ?>\n                    <?php if (isset($site)): ?>\n                    <nav id=\"site-nav\">\n                        <h5><?php echo $site->link($site->title(), 'show'); ?></h5>\n                        <?php echo $this->hyperlink('', $site->siteUrl(), ['class' => 'o-icon-external public', 'target' => '_blank', 'title' => $translate('View public site')]); ?>\n                    <?php echo $site->adminNav()->menu(); ?>\n                    </nav>\n                    <?php endif; ?>\n                    <h5><?php echo $translate('Resources') ?></h5>\n                    <?php echo $resourceNav; ?>\n                    <?php if ($adminNav): ?>\n                    <h5><?php echo $translate('Admin') ?></h5>\n                    <?php echo $adminNav ?>\n                    <?php endif; ?>\n                    <?php if ($moduleNav): ?>\n                    <h5><?php echo $translate('Modules') ?></h5>\n                    <?php echo $moduleNav ?>\n                    <?php endif; ?>\n                </nav>\n            </header>\n            <script>\n                $('#advanced').click(function(event) {\n                    event.preventDefault();\n                    $('#advanced-options').slideToggle('slow');\n                });\n            </script>\n\n            <div id=\"content\" role=\"main\">\n                <?php echo $this->messages(); ?>\n                <?php echo $this->content; ?>\n            </div>\n        </div>\n        <footer>\n            <p class=\"site-version\"><a href=\"https://omeka.org/s\"><?php echo $translate('Omeka S'); ?></a> <span class=\"version-number\"><?php echo sprintf($translate('version %s'), Omeka\\Module::VERSION)?></span></p>\n            <a href=\"<?php echo $this->url('admin/default', ['controller' => 'system-info']); ?>\"><?php echo $translate('System information'); ?></a>\n            <a href=\"https://omeka.org/s/docs/user-manual\"><?php echo $translate('User manual'); ?></a>\n            <a href=\"https://forum.omeka.org/\"><?php echo $translate('Support forums'); ?></a>\n        </footer>\n    </body>\n</html>\n", "<?php\n$translate = $this->plugin('translate');\n$title = $this->setting('installation_title', 'Omeka S');\necho $this->pageTitle($translate('Admin dashboard'));\n?>\n\n<div id=\"dashboard\">\n    <?php echo $this->partial('common/version-notification'); ?>\n    <p><?php echo sprintf($translate('Welcome to the %s admin dashboard!'), $title); ?></p>\n    <?php $this->trigger('view.browse.before'); ?>\n    <div id=\"manage-resources\" class=\"panel\">\n        <h2><?php echo $translate('Manage resources'); ?></h2>\n        <?php $this->trigger('view.manage_resources.before'); ?>\n        <div class=\"items resource row\">\n            <?php echo $this->hyperlink(sprintf($translate('Items (%s)'), $itemCount), $this->url('admin/default', ['controller' => 'item', 'action' => 'browse'])); ?>\n            <?php if ($this->userIsAllowed('Omeka\\Api\\Adapter\\ItemAdapter', 'create')): ?>\n            <?php echo $this->hyperlink('', $this->url('admin/default', ['controller' => 'item', 'action' => 'add']), ['class' => 'add button', 'title' => $translate('Add new item')]); ?>\n            <?php endif; ?>\n        </div>\n        <div class=\"item-sets resource row\">\n            <?php echo $this->hyperlink(sprintf($translate('Item sets (%s)'), $itemSetCount), $this->url('admin/default', ['controller' => 'item-set', 'action' => 'browse'])); ?>\n            <?php if ($this->userIsAllowed('Omeka\\Api\\Adapter\\ItemSetAdapter', 'create')): ?>\n            <?php echo $this->hyperlink('', $this->url('admin/default', ['controller' => 'item-set', 'action' => 'add']), ['class' => 'add button', 'title' => $translate('Add new item set')]); ?>\n            <?php endif; ?>\n        </div>\n        <div class=\"vocabularies resource row\">\n            <?php echo $this->hyperlink(sprintf($translate('Vocabularies (%s)'), $vocabularyCount), $this->url('admin/default', ['controller' => 'vocabulary', 'action' => 'browse'])); ?>\n            <?php if ($this->userIsAllowed('Omeka\\Api\\Adapter\\VocabularyAdapter', 'create')): ?>\n            <?php echo $this->hyperlink('', $this->url('admin/default', ['controller' => 'vocabulary', 'action' => 'import']), ['class' => 'add button', 'title' => $translate('Import new vocabulary')]); ?>\n            <?php endif; ?>\n        </div>\n        <div class=\"resource-templates resource row\">\n            <?php echo $this->hyperlink(sprintf($translate('Resource templates (%s)'), $resourceTemplateCount), $this->url('admin/default', ['controller' => 'resource-template', 'action' => 'browse'])); ?>\n            <?php if ($this->userIsAllowed('Omeka\\Api\\Adapter\\VocabularyAdapter', 'create')): ?>\n            <?php echo $this->hyperlink('', $this->url('admin/default', ['controller' => 'resource-template', 'action' => 'add']), ['class' => 'add button', 'title' => $translate('Add new resource template')]); ?>\n            <?php endif; ?>\n        </div>\n        <?php $this->trigger('view.manage_resources.after'); ?>\n    </div>\n\n    <div id=\"manage-sites\" class=\"panel\">\n        <h2><?php echo $translate('Manage sites'); ?></h2>\n        <?php $this->trigger('view.manage_sites.before'); ?>\n        <?php foreach ($sites as $site): ?>\n        <div class=\"site row\">\n            <span class=\"site-name\"><?php echo $site->link($site->title(), 'show'); ?></span>\n            <?php echo $this->hyperlink('', $site->siteUrl(), [\n                'target' => '_blank',\n                'class' => 'o-icon-external public button',\n                'title' => $translate('View public site'),\n            ]); ?>\n        </div>\n        <?php endforeach; ?>\n        <?php if ($this->userIsAllowed('Omeka\\Entity\\Site', 'create')): ?>\n        <?php echo $this->hyperlink($translate('Add site'), $this->url('admin/site/add'), ['class' => 'add button']); ?>\n        <?php endif; ?>\n    <?php $this->trigger('view.manage_sites.after'); ?>\n    </div>\n<?php $this->trigger('view.browse.after'); ?>\n</div>\n\n\n", "<?php\n$translate = $this->plugin('translate');\n\n$this->htmlElement('body')->appendAttribute('class', 'site browse front');\n$title = $this->setting('installation_title', 'Omeka S');\n$subtitle = $translate('Sites');\n$this->headTitle($subtitle);\n?>\n<h1><?php echo $this->hyperlink($title, $this->url('top', ['action' => 'index'])); ?></h1>\n\n<?php if ($sites): ?>\n\n<?php echo $this->partial(\n    'common/cross-site-search/fulltext-form.phtml',\n    ['action' => $this->url('search', ['action' => 'results'], true)]\n); ?>\n\n<h2 class=\"site-list-heading\"><?php echo $subtitle; ?></h2>\n\n<div class=\"site-list\">\n<?php\nforeach ($sites as $site):\n    echo $this->partial('common/site-list-entry', ['site' => $site, 'showSummary' => true, 'showThumbnail' => true]);\nendforeach;\n?>\n</div>\n\n<?php echo $this->pagination(); ?>\n\n<?php endif; ?>\n<p><?php echo sprintf(\n    $translate('Go to the %1$s to start working with %2$s.'),\n    $this->hyperlink($translate('Admin dashboard'), $this->url('admin')),\n    $title\n); ?></p>\n"], "fixing_code": ["<?php\n$translate = $this->plugin('translate');\n$this->htmlElement('html')->setAttribute('lang', $this->lang());\n$this->headMeta()->setCharset('utf-8');\n$this->headMeta()->appendName('viewport', 'width=device-width, initial-scale=1');\n$this->headTitle($this->setting('installation_title', 'Omeka S'))->setSeparator(' \u00b7 ');\n$this->headLink()->prependStylesheet($this->assetUrl('css/style.css', 'Omeka'));\n$this->headLink()->prependStylesheet($this->assetUrl('css/iconfonts.css', 'Omeka'));\n$this->headLink()->prependStylesheet($this->assetUrl('vendor/chosen-js/chosen.css', 'Omeka'));\n$this->headLink()->prependStylesheet($this->assetUrl('vendor/tablesaw/tablesaw.stackonly.css', 'Omeka'));\n$this->headLink()->prependStylesheet('//fonts.googleapis.com/css?family=Source+Code+Pro|Lato:400,400italic,700,700italic');\n$this->headScript()->prependFile($this->assetUrl('js/admin.js', 'Omeka'));\n$this->headScript()->prependFile($this->assetUrl('js/global.js', 'Omeka'));\n$this->headScript()->prependFile($this->assetUrl('js/chosen-options.js', 'Omeka'));\n$this->headScript()->prependFile($this->assetUrl('vendor/chosen-js/chosen.jquery.js', 'Omeka'));\n$this->headScript()->prependFile($this->assetUrl('vendor/tablesaw/tablesaw.stackonly.jquery.js', 'Omeka'));\n$this->headScript()->prependFile($this->assetUrl('vendor/jquery/jquery.min.js', 'Omeka'));\n$this->jsTranslate();\n\n$escape = $this->plugin('escapeHtml');\n$siteNav = (string) $this->navigation('Laminas\\Navigation\\AdminSite')->menu();\n$resourceNav = (string) $this->navigation('Laminas\\Navigation\\AdminResource')->menu();\n$adminNav = (string) $this->navigation('Laminas\\Navigation\\AdminGlobal')->menu();\n$moduleNav = (string) $this->navigation('Laminas\\Navigation\\AdminModule')->menu();\n$this->trigger('view.layout');\n?>\n<?php echo $this->doctype(); ?>\n<?php echo $this->htmlElement('html'); ?>\n    <head>\n        <?php echo $this->headMeta(); ?>\n        <?php echo $this->headTitle(); ?>\n        <?php echo $this->headLink(); ?>\n        <?php echo $this->headStyle(); ?>\n        <?php echo $this->headScript(); ?>\n    </head>\n    <?php echo $this->htmlElement('body'); ?>\n        <a href=\"#content\" class=\"skip\"><?php echo $translate('Skip to main content'); ?></a>\n        <div class=\"flex\">\n            <header>\n                <div class=\"logo\"><a href=\"<?php echo $this->url('admin'); ?>\"><?php echo $escape($this->setting('installation_title', 'Omeka S')); ?></a></div>\n                <div id=\"mobile-nav\">\n                    <a href=\"#\" class=\"o-icon-menu button\"><span class=\"screen-reader-text\"><?php echo $translate('Navigation menu'); ?></span></a>\n                    <a href=\"#\" class=\"o-icon-search button\"><span class=\"screen-reader-text\"><?php echo $translate('Search site'); ?></span></a>\n                    <a href=\"#\" class=\"o-icon-user button\"><span class=\"screen-reader-text\"><?php echo $translate('User menu'); ?></span></a>\n                </div>\n                <div id=\"user\">\n                    <?php if ($this->identity()): ?>\n                    <p class=\"user-id\"><?php echo sprintf($translate('Signed in as %s'),  '<a href=\"' . $this->url('admin/id', [\n                        'controller' => 'user',\n                        'id' => $this->identity()->getId(),\n                    ]) . '\">' . $escape($this->identity()->getName()) . '</a>'); ?></p>\n                    <p class=\"logout\"><a href=\"<?php echo $this->url('logout'); ?>\"><?php echo $translate('Logout'); ?></a></p>\n                    <?php else: ?>\n                    <p><?php echo $translate('not logged in'); ?></p>\n                    <?php endif; ?>\n                </div>\n                <div id=\"search\">\n                    <form action=\"\" id=\"search-form\">\n                        <?php $searchValue = isset($_GET['fulltext_search']) ? $_GET['fulltext_search'] : ''; ?>\n                        <input type=\"text\" name=\"fulltext_search\" value=\"<?php echo $escape($searchValue); ?>\">\n                        <button type=\"button\" id=\"advanced\"><?php echo $translate('Advanced options'); ?></button>\n                        <button type=\"submit\"><?php echo $translate('Search'); ?></button>\n                        <fieldset id=\"advanced-options\">\n                            <legend><?php echo $translate('Resource type'); ?></legend>\n                            <input type=\"radio\" name=\"resource-type\" id=\"search-items\" value=\"item\" checked=\"checked\"\n                                data-input-placeholder=\"<?php echo $escape($translate('Search items')); ?>\"\n                                data-action=\"<?php echo $escape($this->url('admin/default', ['controller' => 'item', 'action' => 'browse'])); ?>\">\n                            <label for=\"search-items\"><?php echo $translate('Items'); ?></label>\n                            <input type=\"radio\" name=\"resource-type\" id=\"search-item-sets\" value=\"item-set\"\n                                data-input-placeholder=\"<?php echo $escape($translate('Search item sets')); ?>\"\n                                data-action=\"<?php echo $escape($this->url('admin/default', ['controller' => 'item-set', 'action' => 'browse'])); ?>\">\n                            <label for=\"search-item-sets\"><?php echo $translate('Item sets'); ?></label>\n                            <input type=\"radio\" name=\"resource-type\" id=\"search-media\" value=\"media\"\n                                data-input-placeholder=\"<?php echo $escape($translate('Search media')); ?>\"\n                                data-action=\"<?php echo $escape($this->url('admin/default', ['controller' => 'media', 'action' => 'browse'])); ?>\">\n                            <label for=\"search-media\"><?php echo $translate('Media'); ?></label>\n                        </fieldset>\n                    </form>\n                </div>\n                <nav id=\"menu\" role=\"navigation\">\n                    <?php echo $siteNav; ?>\n                    <?php if (isset($site)): ?>\n                    <nav id=\"site-nav\">\n                        <h5><?php echo $site->link($site->title(), 'show'); ?></h5>\n                        <?php echo $this->hyperlink('', $site->siteUrl(), ['class' => 'o-icon-external public', 'target' => '_blank', 'title' => $translate('View public site')]); ?>\n                    <?php echo $site->adminNav()->menu(); ?>\n                    </nav>\n                    <?php endif; ?>\n                    <h5><?php echo $translate('Resources') ?></h5>\n                    <?php echo $resourceNav; ?>\n                    <?php if ($adminNav): ?>\n                    <h5><?php echo $translate('Admin') ?></h5>\n                    <?php echo $adminNav ?>\n                    <?php endif; ?>\n                    <?php if ($moduleNav): ?>\n                    <h5><?php echo $translate('Modules') ?></h5>\n                    <?php echo $moduleNav ?>\n                    <?php endif; ?>\n                </nav>\n            </header>\n            <script>\n                $('#advanced').click(function(event) {\n                    event.preventDefault();\n                    $('#advanced-options').slideToggle('slow');\n                });\n            </script>\n\n            <div id=\"content\" role=\"main\">\n                <?php echo $this->messages(); ?>\n                <?php echo $this->content; ?>\n            </div>\n        </div>\n        <footer>\n            <p class=\"site-version\"><a href=\"https://omeka.org/s\"><?php echo $translate('Omeka S'); ?></a> <span class=\"version-number\"><?php echo sprintf($translate('version %s'), Omeka\\Module::VERSION)?></span></p>\n            <a href=\"<?php echo $this->url('admin/default', ['controller' => 'system-info']); ?>\"><?php echo $translate('System information'); ?></a>\n            <a href=\"https://omeka.org/s/docs/user-manual\"><?php echo $translate('User manual'); ?></a>\n            <a href=\"https://forum.omeka.org/\"><?php echo $translate('Support forums'); ?></a>\n        </footer>\n    </body>\n</html>\n", "<?php\n$translate = $this->plugin('translate');\n$title = $this->setting('installation_title', 'Omeka S');\necho $this->pageTitle($translate('Admin dashboard'));\n?>\n\n<div id=\"dashboard\">\n    <?php echo $this->partial('common/version-notification'); ?>\n    <p><?php echo sprintf($translate('Welcome to the %s admin dashboard!'), $this->escapeHtml($title)); ?></p>\n    <?php $this->trigger('view.browse.before'); ?>\n    <div id=\"manage-resources\" class=\"panel\">\n        <h2><?php echo $translate('Manage resources'); ?></h2>\n        <?php $this->trigger('view.manage_resources.before'); ?>\n        <div class=\"items resource row\">\n            <?php echo $this->hyperlink(sprintf($translate('Items (%s)'), $itemCount), $this->url('admin/default', ['controller' => 'item', 'action' => 'browse'])); ?>\n            <?php if ($this->userIsAllowed('Omeka\\Api\\Adapter\\ItemAdapter', 'create')): ?>\n            <?php echo $this->hyperlink('', $this->url('admin/default', ['controller' => 'item', 'action' => 'add']), ['class' => 'add button', 'title' => $translate('Add new item')]); ?>\n            <?php endif; ?>\n        </div>\n        <div class=\"item-sets resource row\">\n            <?php echo $this->hyperlink(sprintf($translate('Item sets (%s)'), $itemSetCount), $this->url('admin/default', ['controller' => 'item-set', 'action' => 'browse'])); ?>\n            <?php if ($this->userIsAllowed('Omeka\\Api\\Adapter\\ItemSetAdapter', 'create')): ?>\n            <?php echo $this->hyperlink('', $this->url('admin/default', ['controller' => 'item-set', 'action' => 'add']), ['class' => 'add button', 'title' => $translate('Add new item set')]); ?>\n            <?php endif; ?>\n        </div>\n        <div class=\"vocabularies resource row\">\n            <?php echo $this->hyperlink(sprintf($translate('Vocabularies (%s)'), $vocabularyCount), $this->url('admin/default', ['controller' => 'vocabulary', 'action' => 'browse'])); ?>\n            <?php if ($this->userIsAllowed('Omeka\\Api\\Adapter\\VocabularyAdapter', 'create')): ?>\n            <?php echo $this->hyperlink('', $this->url('admin/default', ['controller' => 'vocabulary', 'action' => 'import']), ['class' => 'add button', 'title' => $translate('Import new vocabulary')]); ?>\n            <?php endif; ?>\n        </div>\n        <div class=\"resource-templates resource row\">\n            <?php echo $this->hyperlink(sprintf($translate('Resource templates (%s)'), $resourceTemplateCount), $this->url('admin/default', ['controller' => 'resource-template', 'action' => 'browse'])); ?>\n            <?php if ($this->userIsAllowed('Omeka\\Api\\Adapter\\VocabularyAdapter', 'create')): ?>\n            <?php echo $this->hyperlink('', $this->url('admin/default', ['controller' => 'resource-template', 'action' => 'add']), ['class' => 'add button', 'title' => $translate('Add new resource template')]); ?>\n            <?php endif; ?>\n        </div>\n        <?php $this->trigger('view.manage_resources.after'); ?>\n    </div>\n\n    <div id=\"manage-sites\" class=\"panel\">\n        <h2><?php echo $translate('Manage sites'); ?></h2>\n        <?php $this->trigger('view.manage_sites.before'); ?>\n        <?php foreach ($sites as $site): ?>\n        <div class=\"site row\">\n            <span class=\"site-name\"><?php echo $site->link($site->title(), 'show'); ?></span>\n            <?php echo $this->hyperlink('', $site->siteUrl(), [\n                'target' => '_blank',\n                'class' => 'o-icon-external public button',\n                'title' => $translate('View public site'),\n            ]); ?>\n        </div>\n        <?php endforeach; ?>\n        <?php if ($this->userIsAllowed('Omeka\\Entity\\Site', 'create')): ?>\n        <?php echo $this->hyperlink($translate('Add site'), $this->url('admin/site/add'), ['class' => 'add button']); ?>\n        <?php endif; ?>\n    <?php $this->trigger('view.manage_sites.after'); ?>\n    </div>\n<?php $this->trigger('view.browse.after'); ?>\n</div>\n\n\n", "<?php\n$translate = $this->plugin('translate');\n\n$this->htmlElement('body')->appendAttribute('class', 'site browse front');\n$title = $this->setting('installation_title', 'Omeka S');\n$subtitle = $translate('Sites');\n$this->headTitle($subtitle);\n?>\n<h1><?php echo $this->hyperlink($title, $this->url('top', ['action' => 'index'])); ?></h1>\n\n<?php if ($sites): ?>\n\n<?php echo $this->partial(\n    'common/cross-site-search/fulltext-form.phtml',\n    ['action' => $this->url('search', ['action' => 'results'], true)]\n); ?>\n\n<h2 class=\"site-list-heading\"><?php echo $subtitle; ?></h2>\n\n<div class=\"site-list\">\n<?php\nforeach ($sites as $site):\n    echo $this->partial('common/site-list-entry', ['site' => $site, 'showSummary' => true, 'showThumbnail' => true]);\nendforeach;\n?>\n</div>\n\n<?php echo $this->pagination(); ?>\n\n<?php endif; ?>\n<p><?php echo sprintf(\n    $translate('Go to the %1$s to start working with %2$s.'),\n    $this->hyperlink($translate('Admin dashboard'), $this->url('admin')),\n    $this->escapeHtml($title)\n); ?></p>\n"], "filenames": ["application/view/layout/layout-admin.phtml", "application/view/omeka/admin/index/browse.phtml", "application/view/omeka/index/index.phtml"], "buggy_code_start_loc": [40, 9, 34], "buggy_code_end_loc": [41, 10, 35], "fixing_code_start_loc": [40, 9, 34], "fixing_code_end_loc": [41, 10, 35], "type": "CWE-74", "message": "CWE-74 Improper Neutralization of Special Elements in Output Used by a Downstream Component ('Injection') in GitHub repository omeka/omeka-s prior to version 4.0.3.\n", "other": {"cve": {"id": "CVE-2023-4157", "sourceIdentifier": "security@huntr.dev", "published": "2023-08-04T18:15:17.547", "lastModified": "2023-11-04T02:39:05.593", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "CWE-74 Improper Neutralization of Special Elements in Output Used by a Downstream Component ('Injection') in GitHub repository omeka/omeka-s prior to version 4.0.3.\n"}, {"lang": "es", "value": "CWE-74 Neutralizaci\u00f3n incorrecta de elementos especiales en la salida utilizada por un componente descendente ('Inyecci\u00f3n') en el repositorio de GitHub omeka/omeka-s anterior a la versi\u00f3n 4.0.3."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:H/UI:R/S:C/C:L/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "HIGH", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 4.8, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 1.7, "impactScore": 2.7}, {"source": "security@huntr.dev", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:H/UI:R/S:U/C:H/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "HIGH", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 5.2, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 0.9, "impactScore": 4.2}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-74"}]}, {"source": "security@huntr.dev", "type": "Secondary", "description": [{"lang": "en", "value": "CWE-74"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:omeka:omeka_s:*:*:*:*:*:*:*:*", "versionEndExcluding": "4.0.3", "matchCriteriaId": "B619F3B7-C1D9-4056-9C23-8E39B1185F3D"}]}]}], "references": [{"url": "https://github.com/omeka/omeka-s/commit/8b72619d9731b32dd21ab6dcaa01ccc3bbf0db63", "source": "security@huntr.dev", "tags": ["Patch"]}, {"url": "https://huntr.dev/bounties/abc3521b-1238-4c4e-97f1-2957db670014", "source": "security@huntr.dev", "tags": ["Exploit", "Patch", "Third Party Advisory"]}]}, "github_commit_url": "https://github.com/omeka/omeka-s/commit/8b72619d9731b32dd21ab6dcaa01ccc3bbf0db63"}}