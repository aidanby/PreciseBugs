{"buggy_code": ["{\n    \"name\": \"yiisoft/yii2-dev\",\n    \"description\": \"Yii PHP Framework Version 2 - Development Package\",\n    \"keywords\": [\n        \"yii2\",\n        \"framework\"\n    ],\n    \"homepage\": \"https://www.yiiframework.com/\",\n    \"type\": \"yii2-extension\",\n    \"license\": \"BSD-3-Clause\",\n    \"authors\": [\n        {\n            \"name\": \"Qiang Xue\",\n            \"email\": \"qiang.xue@gmail.com\",\n            \"homepage\": \"https://www.yiiframework.com/\",\n            \"role\": \"Founder and project lead\"\n        },\n        {\n            \"name\": \"Alexander Makarov\",\n            \"email\": \"sam@rmcreative.ru\",\n            \"homepage\": \"https://rmcreative.ru/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Maurizio Domba\",\n            \"homepage\": \"http://mdomba.info/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Carsten Brandt\",\n            \"email\": \"mail@cebe.cc\",\n            \"homepage\": \"https://www.cebe.cc/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Timur Ruziev\",\n            \"email\": \"resurtm@gmail.com\",\n            \"homepage\": \"http://resurtm.com/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Paul Klimov\",\n            \"email\": \"klimov.paul@gmail.com\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Dmitry Naumenko\",\n            \"email\": \"d.naumenko.a@gmail.com\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Boudewijn Vahrmeijer\",\n            \"email\": \"info@dynasource.eu\",\n            \"homepage\": \"http://dynasource.eu\",\n            \"role\": \"Core framework development\"\n        }\n    ],\n    \"support\": {\n        \"issues\": \"https://github.com/yiisoft/yii2/issues?state=open\",\n        \"forum\": \"https://forum.yiiframework.com/\",\n        \"wiki\": \"https://www.yiiframework.com/wiki\",\n        \"irc\": \"irc://irc.libera.chat:6697/yii\",\n        \"source\": \"https://github.com/yiisoft/yii2\"\n    },\n    \"minimum-stability\": \"dev\",\n    \"prefer-stable\": true,\n    \"replace\": {\n        \"yiisoft/yii2\": \"self.version\"\n    },\n    \"require\": {\n        \"php\": \">=5.4.0\",\n        \"ext-mbstring\": \"*\",\n        \"ext-ctype\": \"*\",\n        \"lib-pcre\": \"*\",\n        \"yiisoft/yii2-composer\": \"~2.0.4\",\n        \"ezyang/htmlpurifier\": \"~4.6\",\n        \"cebe/markdown\": \"~1.0.0 | ~1.1.0 | ~1.2.0\",\n        \"bower-asset/jquery\": \"3.6.*@stable | 3.5.*@stable | 3.4.*@stable | 3.3.*@stable | 3.2.*@stable | 3.1.*@stable | 2.2.*@stable | 2.1.*@stable | 1.11.*@stable | 1.12.*@stable\",\n        \"bower-asset/inputmask\": \"~3.2.2 | ~3.3.5\",\n        \"bower-asset/punycode\": \"1.3.*\",\n        \"bower-asset/yii2-pjax\": \"~2.0.1\"\n    },\n    \"require-dev\": {\n        \"cweagans/composer-patches\": \"^1.7\",\n        \"phpunit/phpunit\": \"4.8.34\",\n        \"cebe/indent\": \"~1.0.2\",\n        \"friendsofphp/php-cs-fixer\": \"~2.2.3\",\n        \"johnkary/phpunit-speedtrap\": \"^1.0\"\n    },\n    \"repositories\": [\n        {\n            \"type\": \"composer\",\n            \"url\": \"https://asset-packagist.org\"\n        }\n    ],\n    \"suggest\": {\n        \"yiisoft/yii2-coding-standards\": \"you can use this package to check for code style issues when contributing to yii\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\n            \"yii\\\\\": \"framework/\",\n            \"yii\\\\cs\\\\\": \"cs/src/\"\n        }\n    },\n    \"autoload-dev\": {\n        \"files\": [\n            \"tests/bootstrap.php\"\n        ]\n    },\n    \"config\": {\n        \"platform\": {\"php\": \"5.4\"}\n    },\n    \"bin\": [\n        \"framework/yii\"\n    ],\n    \"extra\": {\n        \"branch-alias\": {\n            \"dev-master\": \"2.0.x-dev\"\n        },\n        \"composer-exit-on-patch-failure\": true,\n        \"patches\": {\n            \"phpunit/phpunit-mock-objects\": {\n                \"Fix PHP 7 and 8 compatibility\": \"https://yiisoft.github.io/phpunit-patches/phpunit_mock_objects.patch\"\n            },\n            \"phpunit/phpunit\": {\n                \"Fix PHP 7 compatibility\": \"https://yiisoft.github.io/phpunit-patches/phpunit_php7.patch\",\n                \"Fix PHP 8 compatibility\": \"https://yiisoft.github.io/phpunit-patches/phpunit_php8.patch\"\n            }\n        }\n    }\n}\n", "{\n    \"_readme\": [\n        \"This file locks the dependencies of your project to a known state\",\n        \"Read more about it at https://getcomposer.org/doc/01-basic-usage.md#installing-dependencies\",\n        \"This file is @generated automatically\"\n    ],\n    \"content-hash\": \"7e41c6fc0175fd049e0e52c4e8b25e5c\",\n    \"packages\": [\n        {\n            \"name\": \"bower-asset/inputmask\",\n            \"version\": \"3.3.11\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"git@github.com:RobinHerbots/Inputmask.git\",\n                \"reference\": \"5e670ad62f50c738388d4dcec78d2888505ad77b\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/RobinHerbots/Inputmask/zipball/5e670ad62f50c738388d4dcec78d2888505ad77b\",\n                \"reference\": \"5e670ad62f50c738388d4dcec78d2888505ad77b\"\n            },\n            \"require\": {\n                \"bower-asset/jquery\": \">=1.7\"\n            },\n            \"type\": \"bower-asset\",\n            \"license\": [\n                \"http://opensource.org/licenses/mit-license.php\"\n            ]\n        },\n        {\n            \"name\": \"bower-asset/jquery\",\n            \"version\": \"3.5.1\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/jquery/jquery-dist.git\",\n                \"reference\": \"4c0e4becb8263bb5b3e6dadc448d8e7305ef8215\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/jquery/jquery-dist/zipball/4c0e4becb8263bb5b3e6dadc448d8e7305ef8215\",\n                \"reference\": \"4c0e4becb8263bb5b3e6dadc448d8e7305ef8215\"\n            },\n            \"type\": \"bower-asset\",\n            \"license\": [\n                \"MIT\"\n            ]\n        },\n        {\n            \"name\": \"bower-asset/punycode\",\n            \"version\": \"v1.3.2\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/bestiejs/punycode.js.git\",\n                \"reference\": \"38c8d3131a82567bfef18da09f7f4db68c84f8a3\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/bestiejs/punycode.js/zipball/38c8d3131a82567bfef18da09f7f4db68c84f8a3\",\n                \"reference\": \"38c8d3131a82567bfef18da09f7f4db68c84f8a3\"\n            },\n            \"type\": \"bower-asset\"\n        },\n        {\n            \"name\": \"bower-asset/yii2-pjax\",\n            \"version\": \"2.0.7.1\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/yiisoft/jquery-pjax.git\",\n                \"reference\": \"aef7b953107264f00234902a3880eb50dafc48be\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/yiisoft/jquery-pjax/zipball/aef7b953107264f00234902a3880eb50dafc48be\",\n                \"reference\": \"aef7b953107264f00234902a3880eb50dafc48be\"\n            },\n            \"require\": {\n                \"bower-asset/jquery\": \">=1.8\"\n            },\n            \"type\": \"bower-asset\",\n            \"license\": [\n                \"MIT\"\n            ]\n        },\n        {\n            \"name\": \"cebe/markdown\",\n            \"version\": \"1.2.1\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/cebe/markdown.git\",\n                \"reference\": \"9bac5e971dd391e2802dca5400bbeacbaea9eb86\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/cebe/markdown/zipball/9bac5e971dd391e2802dca5400bbeacbaea9eb86\",\n                \"reference\": \"9bac5e971dd391e2802dca5400bbeacbaea9eb86\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"lib-pcre\": \"*\",\n                \"php\": \">=5.4.0\"\n            },\n            \"require-dev\": {\n                \"cebe/indent\": \"*\",\n                \"facebook/xhprof\": \"*@dev\",\n                \"phpunit/phpunit\": \"4.1.*\"\n            },\n            \"bin\": [\n                \"bin/markdown\"\n            ],\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.2.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"cebe\\\\markdown\\\\\": \"\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Carsten Brandt\",\n                    \"email\": \"mail@cebe.cc\",\n                    \"homepage\": \"http://cebe.cc/\",\n                    \"role\": \"Creator\"\n                }\n            ],\n            \"description\": \"A super fast, highly extensible markdown parser for PHP\",\n            \"homepage\": \"https://github.com/cebe/markdown#readme\",\n            \"keywords\": [\n                \"extensible\",\n                \"fast\",\n                \"gfm\",\n                \"markdown\",\n                \"markdown-extra\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/cebe/markdown/issues\",\n                \"source\": \"https://github.com/cebe/markdown\"\n            },\n            \"time\": \"2018-03-26T11:24:36+00:00\"\n        },\n        {\n            \"name\": \"ezyang/htmlpurifier\",\n            \"version\": \"v4.13.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/ezyang/htmlpurifier.git\",\n                \"reference\": \"08e27c97e4c6ed02f37c5b2b20488046c8d90d75\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/ezyang/htmlpurifier/zipball/08e27c97e4c6ed02f37c5b2b20488046c8d90d75\",\n                \"reference\": \"08e27c97e4c6ed02f37c5b2b20488046c8d90d75\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.2\"\n            },\n            \"require-dev\": {\n                \"simpletest/simpletest\": \"dev-master#72de02a7b80c6bb8864ef9bf66d41d2f58f826bd\"\n            },\n            \"type\": \"library\",\n            \"autoload\": {\n                \"psr-0\": {\n                    \"HTMLPurifier\": \"library/\"\n                },\n                \"files\": [\n                    \"library/HTMLPurifier.composer.php\"\n                ],\n                \"exclude-from-classmap\": [\n                    \"/library/HTMLPurifier/Language/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"LGPL-2.1-or-later\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Edward Z. Yang\",\n                    \"email\": \"admin@htmlpurifier.org\",\n                    \"homepage\": \"http://ezyang.com\"\n                }\n            ],\n            \"description\": \"Standards compliant HTML filter written in PHP\",\n            \"homepage\": \"http://htmlpurifier.org/\",\n            \"keywords\": [\n                \"html\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/ezyang/htmlpurifier/issues\",\n                \"source\": \"https://github.com/ezyang/htmlpurifier/tree/master\"\n            },\n            \"time\": \"2020-06-29T00:56:53+00:00\"\n        },\n        {\n            \"name\": \"yiisoft/yii2-composer\",\n            \"version\": \"2.0.10\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/yiisoft/yii2-composer.git\",\n                \"reference\": \"94bb3f66e779e2774f8776d6e1bdeab402940510\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/yiisoft/yii2-composer/zipball/94bb3f66e779e2774f8776d6e1bdeab402940510\",\n                \"reference\": \"94bb3f66e779e2774f8776d6e1bdeab402940510\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"composer-plugin-api\": \"^1.0 | ^2.0\"\n            },\n            \"require-dev\": {\n                \"composer/composer\": \"^1.0 | ^2.0@dev\",\n                \"phpunit/phpunit\": \"<7\"\n            },\n            \"type\": \"composer-plugin\",\n            \"extra\": {\n                \"class\": \"yii\\\\composer\\\\Plugin\",\n                \"branch-alias\": {\n                    \"dev-master\": \"2.0.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"yii\\\\composer\\\\\": \"\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Qiang Xue\",\n                    \"email\": \"qiang.xue@gmail.com\"\n                },\n                {\n                    \"name\": \"Carsten Brandt\",\n                    \"email\": \"mail@cebe.cc\"\n                }\n            ],\n            \"description\": \"The composer plugin for Yii extension installer\",\n            \"keywords\": [\n                \"composer\",\n                \"extension installer\",\n                \"yii2\"\n            ],\n            \"support\": {\n                \"forum\": \"http://www.yiiframework.com/forum/\",\n                \"irc\": \"irc://irc.freenode.net/yii\",\n                \"issues\": \"https://github.com/yiisoft/yii2-composer/issues\",\n                \"source\": \"https://github.com/yiisoft/yii2-composer\",\n                \"wiki\": \"http://www.yiiframework.com/wiki/\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://github.com/yiisoft\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://opencollective.com/yiisoft\",\n                    \"type\": \"open_collective\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/yiisoft/yii2-composer\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-06-24T00:04:01+00:00\"\n        }\n    ],\n    \"packages-dev\": [\n        {\n            \"name\": \"cebe/indent\",\n            \"version\": \"1.0.2\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/cebe/indent.git\",\n                \"reference\": \"c500ed74d30ed2d7e085f9cf07f8092d32d70776\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/cebe/indent/zipball/c500ed74d30ed2d7e085f9cf07f8092d32d70776\",\n                \"reference\": \"c500ed74d30ed2d7e085f9cf07f8092d32d70776\",\n                \"shasum\": \"\"\n            },\n            \"bin\": [\n                \"indent\"\n            ],\n            \"type\": \"library\",\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Carsten Brandt\",\n                    \"email\": \"mail@cebe.cc\",\n                    \"homepage\": \"http://cebe.cc/\",\n                    \"role\": \"Core framework development\"\n                }\n            ],\n            \"description\": \"a small tool to convert text file indentation\",\n            \"support\": {\n                \"issues\": \"https://github.com/cebe/indent/issues\",\n                \"source\": \"https://github.com/cebe/indent/tree/master\"\n            },\n            \"time\": \"2014-05-23T14:40:08+00:00\"\n        },\n        {\n            \"name\": \"composer/semver\",\n            \"version\": \"1.7.2\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/composer/semver.git\",\n                \"reference\": \"647490bbcaf7fc4891c58f47b825eb99d19c377a\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/composer/semver/zipball/647490bbcaf7fc4891c58f47b825eb99d19c377a\",\n                \"reference\": \"647490bbcaf7fc4891c58f47b825eb99d19c377a\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \"^5.3.2 || ^7.0 || ^8.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"^4.5 || ^5.0.5\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Composer\\\\Semver\\\\\": \"src\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Nils Adermann\",\n                    \"email\": \"naderman@naderman.de\",\n                    \"homepage\": \"http://www.naderman.de\"\n                },\n                {\n                    \"name\": \"Jordi Boggiano\",\n                    \"email\": \"j.boggiano@seld.be\",\n                    \"homepage\": \"http://seld.be\"\n                },\n                {\n                    \"name\": \"Rob Bast\",\n                    \"email\": \"rob.bast@gmail.com\",\n                    \"homepage\": \"http://robbast.nl\"\n                }\n            ],\n            \"description\": \"Semver library that offers utilities, version constraint parsing and validation.\",\n            \"keywords\": [\n                \"semantic\",\n                \"semver\",\n                \"validation\",\n                \"versioning\"\n            ],\n            \"support\": {\n                \"irc\": \"irc://irc.freenode.org/composer\",\n                \"issues\": \"https://github.com/composer/semver/issues\",\n                \"source\": \"https://github.com/composer/semver/tree/1.7.2\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://packagist.com\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/composer\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/composer/composer\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-12-03T15:47:16+00:00\"\n        },\n        {\n            \"name\": \"composer/xdebug-handler\",\n            \"version\": \"1.4.6\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/composer/xdebug-handler.git\",\n                \"reference\": \"f27e06cd9675801df441b3656569b328e04aa37c\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/composer/xdebug-handler/zipball/f27e06cd9675801df441b3656569b328e04aa37c\",\n                \"reference\": \"f27e06cd9675801df441b3656569b328e04aa37c\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \"^5.3.2 || ^7.0 || ^8.0\",\n                \"psr/log\": \"^1.0\"\n            },\n            \"require-dev\": {\n                \"phpstan/phpstan\": \"^0.12.55\",\n                \"symfony/phpunit-bridge\": \"^4.2 || ^5\"\n            },\n            \"type\": \"library\",\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Composer\\\\XdebugHandler\\\\\": \"src\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"John Stevenson\",\n                    \"email\": \"john-stevenson@blueyonder.co.uk\"\n                }\n            ],\n            \"description\": \"Restarts a process without Xdebug.\",\n            \"keywords\": [\n                \"Xdebug\",\n                \"performance\"\n            ],\n            \"support\": {\n                \"irc\": \"irc://irc.freenode.org/composer\",\n                \"issues\": \"https://github.com/composer/xdebug-handler/issues\",\n                \"source\": \"https://github.com/composer/xdebug-handler/tree/1.4.6\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://packagist.com\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/composer\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/composer/composer\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2021-03-25T17:01:18+00:00\"\n        },\n        {\n            \"name\": \"cweagans/composer-patches\",\n            \"version\": \"1.7.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/cweagans/composer-patches.git\",\n                \"reference\": \"ae02121445ad75f4eaff800cc532b5e6233e2ddf\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/cweagans/composer-patches/zipball/ae02121445ad75f4eaff800cc532b5e6233e2ddf\",\n                \"reference\": \"ae02121445ad75f4eaff800cc532b5e6233e2ddf\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"composer-plugin-api\": \"^1.0 || ^2.0\",\n                \"php\": \">=5.3.0\"\n            },\n            \"require-dev\": {\n                \"composer/composer\": \"~1.0 || ~2.0\",\n                \"phpunit/phpunit\": \"~4.6\"\n            },\n            \"type\": \"composer-plugin\",\n            \"extra\": {\n                \"class\": \"cweagans\\\\Composer\\\\Patches\"\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"cweagans\\\\Composer\\\\\": \"src\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Cameron Eagans\",\n                    \"email\": \"me@cweagans.net\"\n                }\n            ],\n            \"description\": \"Provides a way to patch Composer packages.\",\n            \"support\": {\n                \"issues\": \"https://github.com/cweagans/composer-patches/issues\",\n                \"source\": \"https://github.com/cweagans/composer-patches/tree/1.7.0\"\n            },\n            \"time\": \"2020-09-30T17:56:20+00:00\"\n        },\n        {\n            \"name\": \"doctrine/annotations\",\n            \"version\": \"v1.2.7\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/doctrine/annotations.git\",\n                \"reference\": \"f25c8aab83e0c3e976fd7d19875f198ccf2f7535\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/doctrine/annotations/zipball/f25c8aab83e0c3e976fd7d19875f198ccf2f7535\",\n                \"reference\": \"f25c8aab83e0c3e976fd7d19875f198ccf2f7535\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"doctrine/lexer\": \"1.*\",\n                \"php\": \">=5.3.2\"\n            },\n            \"require-dev\": {\n                \"doctrine/cache\": \"1.*\",\n                \"phpunit/phpunit\": \"4.*\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.3.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-0\": {\n                    \"Doctrine\\\\Common\\\\Annotations\\\\\": \"lib/\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Roman Borschel\",\n                    \"email\": \"roman@code-factory.org\"\n                },\n                {\n                    \"name\": \"Benjamin Eberlei\",\n                    \"email\": \"kontakt@beberlei.de\"\n                },\n                {\n                    \"name\": \"Guilherme Blanco\",\n                    \"email\": \"guilhermeblanco@gmail.com\"\n                },\n                {\n                    \"name\": \"Jonathan Wage\",\n                    \"email\": \"jonwage@gmail.com\"\n                },\n                {\n                    \"name\": \"Johannes Schmitt\",\n                    \"email\": \"schmittjoh@gmail.com\"\n                }\n            ],\n            \"description\": \"Docblock Annotations Parser\",\n            \"homepage\": \"http://www.doctrine-project.org\",\n            \"keywords\": [\n                \"annotations\",\n                \"docblock\",\n                \"parser\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/doctrine/annotations/tree/master\"\n            },\n            \"time\": \"2015-08-31T12:32:49+00:00\"\n        },\n        {\n            \"name\": \"doctrine/instantiator\",\n            \"version\": \"1.0.5\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/doctrine/instantiator.git\",\n                \"reference\": \"8e884e78f9f0eb1329e445619e04456e64d8051d\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/doctrine/instantiator/zipball/8e884e78f9f0eb1329e445619e04456e64d8051d\",\n                \"reference\": \"8e884e78f9f0eb1329e445619e04456e64d8051d\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3,<8.0-DEV\"\n            },\n            \"require-dev\": {\n                \"athletic/athletic\": \"~0.1.8\",\n                \"ext-pdo\": \"*\",\n                \"ext-phar\": \"*\",\n                \"phpunit/phpunit\": \"~4.0\",\n                \"squizlabs/php_codesniffer\": \"~2.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.0.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Doctrine\\\\Instantiator\\\\\": \"src/Doctrine/Instantiator/\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Marco Pivetta\",\n                    \"email\": \"ocramius@gmail.com\",\n                    \"homepage\": \"http://ocramius.github.com/\"\n                }\n            ],\n            \"description\": \"A small, lightweight utility to instantiate objects in PHP without invoking their constructors\",\n            \"homepage\": \"https://github.com/doctrine/instantiator\",\n            \"keywords\": [\n                \"constructor\",\n                \"instantiate\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/doctrine/instantiator/issues\",\n                \"source\": \"https://github.com/doctrine/instantiator/tree/master\"\n            },\n            \"time\": \"2015-06-14T21:17:01+00:00\"\n        },\n        {\n            \"name\": \"doctrine/lexer\",\n            \"version\": \"1.0.2\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/doctrine/lexer.git\",\n                \"reference\": \"1febd6c3ef84253d7c815bed85fc622ad207a9f8\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/doctrine/lexer/zipball/1febd6c3ef84253d7c815bed85fc622ad207a9f8\",\n                \"reference\": \"1febd6c3ef84253d7c815bed85fc622ad207a9f8\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.2\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"^4.5\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.0.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Doctrine\\\\Common\\\\Lexer\\\\\": \"lib/Doctrine/Common/Lexer\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Roman Borschel\",\n                    \"email\": \"roman@code-factory.org\"\n                },\n                {\n                    \"name\": \"Guilherme Blanco\",\n                    \"email\": \"guilhermeblanco@gmail.com\"\n                },\n                {\n                    \"name\": \"Johannes Schmitt\",\n                    \"email\": \"schmittjoh@gmail.com\"\n                }\n            ],\n            \"description\": \"PHP Doctrine Lexer parser library that can be used in Top-Down, Recursive Descent Parsers.\",\n            \"homepage\": \"https://www.doctrine-project.org/projects/lexer.html\",\n            \"keywords\": [\n                \"annotations\",\n                \"docblock\",\n                \"lexer\",\n                \"parser\",\n                \"php\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/doctrine/lexer/issues\",\n                \"source\": \"https://github.com/doctrine/lexer/tree/1.0.2\"\n            },\n            \"time\": \"2019-06-08T11:03:04+00:00\"\n        },\n        {\n            \"name\": \"friendsofphp/php-cs-fixer\",\n            \"version\": \"v2.2.20\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/FriendsOfPHP/PHP-CS-Fixer.git\",\n                \"reference\": \"f1631f0747ad2a9dd3de8d7873b71f6573f8d0c2\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/FriendsOfPHP/PHP-CS-Fixer/zipball/f1631f0747ad2a9dd3de8d7873b71f6573f8d0c2\",\n                \"reference\": \"f1631f0747ad2a9dd3de8d7873b71f6573f8d0c2\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"composer/semver\": \"^1.4\",\n                \"composer/xdebug-handler\": \"^1.0\",\n                \"doctrine/annotations\": \"^1.2\",\n                \"ext-json\": \"*\",\n                \"ext-tokenizer\": \"*\",\n                \"php\": \"^5.3.6 || >=7.0 <7.3\",\n                \"sebastian/diff\": \"^1.4\",\n                \"symfony/console\": \"^2.4 || ^3.0 || ^4.0\",\n                \"symfony/event-dispatcher\": \"^2.1 || ^3.0 || ^4.0\",\n                \"symfony/filesystem\": \"^2.4 || ^3.0 || ^4.0\",\n                \"symfony/finder\": \"^2.2 || ^3.0 || ^4.0\",\n                \"symfony/options-resolver\": \"^2.6 || ^3.0 || ^4.0\",\n                \"symfony/polyfill-php54\": \"^1.0\",\n                \"symfony/polyfill-php55\": \"^1.3\",\n                \"symfony/polyfill-php70\": \"^1.0\",\n                \"symfony/polyfill-php72\": \"^1.4\",\n                \"symfony/process\": \"^2.3 || ^3.0 || ^4.0\",\n                \"symfony/stopwatch\": \"^2.5 || ^3.0 || ^4.0\"\n            },\n            \"conflict\": {\n                \"hhvm\": \"<3.18\"\n            },\n            \"require-dev\": {\n                \"johnkary/phpunit-speedtrap\": \"^1.0.1 || ^2.0 || ^3.0\",\n                \"justinrainbow/json-schema\": \"^5.0\",\n                \"keradus/cli-executor\": \"^1.1\",\n                \"mikey179/vfsstream\": \"^1.6\",\n                \"php-coveralls/php-coveralls\": \"^1.0.2\",\n                \"phpunit/phpunit\": \"^4.8.35 || ^5.4.3\",\n                \"symfony/phpunit-bridge\": \"^3.2.2 || ^4.0\"\n            },\n            \"suggest\": {\n                \"ext-mbstring\": \"For handling non-UTF8 characters in cache signature.\",\n                \"php-cs-fixer/phpunit-constraint-isidenticalstring\": \"For IsIdenticalString constraint.\",\n                \"php-cs-fixer/phpunit-constraint-xmlmatchesxsd\": \"For XmlMatchesXsd constraint.\",\n                \"symfony/polyfill-mbstring\": \"When enabling `ext-mbstring` is not possible.\"\n            },\n            \"bin\": [\n                \"php-cs-fixer\"\n            ],\n            \"type\": \"application\",\n            \"autoload\": {\n                \"psr-4\": {\n                    \"PhpCsFixer\\\\\": \"src/\"\n                },\n                \"classmap\": [\n                    \"tests/Test/AbstractFixerTestCase.php\",\n                    \"tests/Test/AbstractIntegrationCaseFactory.php\",\n                    \"tests/Test/AbstractIntegrationTestCase.php\",\n                    \"tests/Test/IntegrationCase.php\",\n                    \"tests/Test/IntegrationCaseFactory.php\",\n                    \"tests/Test/IntegrationCaseFactoryInterface.php\",\n                    \"tests/Test/InternalIntegrationCaseFactory.php\",\n                    \"tests/TestCase.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Dariusz Rumi\u0144ski\",\n                    \"email\": \"dariusz.ruminski@gmail.com\"\n                },\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                }\n            ],\n            \"description\": \"A tool to automatically fix PHP code style\",\n            \"support\": {\n                \"issues\": \"https://github.com/FriendsOfPHP/PHP-CS-Fixer/issues\",\n                \"source\": \"https://github.com/FriendsOfPHP/PHP-CS-Fixer/tree/2.2\"\n            },\n            \"time\": \"2018-06-02T17:26:04+00:00\"\n        },\n        {\n            \"name\": \"ircmaxell/password-compat\",\n            \"version\": \"v1.0.4\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/ircmaxell/password_compat.git\",\n                \"reference\": \"5c5cde8822a69545767f7c7f3058cb15ff84614c\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/ircmaxell/password_compat/zipball/5c5cde8822a69545767f7c7f3058cb15ff84614c\",\n                \"reference\": \"5c5cde8822a69545767f7c7f3058cb15ff84614c\",\n                \"shasum\": \"\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"4.*\"\n            },\n            \"type\": \"library\",\n            \"autoload\": {\n                \"files\": [\n                    \"lib/password.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Anthony Ferrara\",\n                    \"email\": \"ircmaxell@php.net\",\n                    \"homepage\": \"http://blog.ircmaxell.com\"\n                }\n            ],\n            \"description\": \"A compatibility library for the proposed simplified password hashing algorithm: https://wiki.php.net/rfc/password_hash\",\n            \"homepage\": \"https://github.com/ircmaxell/password_compat\",\n            \"keywords\": [\n                \"hashing\",\n                \"password\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/ircmaxell/password_compat/issues\",\n                \"source\": \"https://github.com/ircmaxell/password_compat/tree/v1.0\"\n            },\n            \"time\": \"2014-11-20T16:49:30+00:00\"\n        },\n        {\n            \"name\": \"johnkary/phpunit-speedtrap\",\n            \"version\": \"v1.0.1\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/johnkary/phpunit-speedtrap.git\",\n                \"reference\": \"76a26f8a903a9434608cdad2b41c40cd134ea326\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/johnkary/phpunit-speedtrap/zipball/76a26f8a903a9434608cdad2b41c40cd134ea326\",\n                \"reference\": \"76a26f8a903a9434608cdad2b41c40cd134ea326\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"3.7.*|~4.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.0-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-0\": {\n                    \"JohnKary\": \"src/\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"John Kary\",\n                    \"email\": \"john@johnkary.net\"\n                }\n            ],\n            \"description\": \"Find slow tests in your PHPUnit test suite\",\n            \"homepage\": \"https://github.com/johnkary/phpunit-speedtrap\",\n            \"keywords\": [\n                \"phpunit\",\n                \"profile\",\n                \"slow\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/johnkary/phpunit-speedtrap/issues\",\n                \"source\": \"https://github.com/johnkary/phpunit-speedtrap/tree/master\"\n            },\n            \"time\": \"2015-09-13T19:01:00+00:00\"\n        },\n        {\n            \"name\": \"paragonie/random_compat\",\n            \"version\": \"v2.0.20\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/paragonie/random_compat.git\",\n                \"reference\": \"0f1f60250fccffeaf5dda91eea1c018aed1adc2a\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/paragonie/random_compat/zipball/0f1f60250fccffeaf5dda91eea1c018aed1adc2a\",\n                \"reference\": \"0f1f60250fccffeaf5dda91eea1c018aed1adc2a\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.2.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"4.*|5.*\"\n            },\n            \"suggest\": {\n                \"ext-libsodium\": \"Provides a modern crypto API that can be used to generate random bytes.\"\n            },\n            \"type\": \"library\",\n            \"autoload\": {\n                \"files\": [\n                    \"lib/random.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Paragon Initiative Enterprises\",\n                    \"email\": \"security@paragonie.com\",\n                    \"homepage\": \"https://paragonie.com\"\n                }\n            ],\n            \"description\": \"PHP 5.x polyfill for random_bytes() and random_int() from PHP 7\",\n            \"keywords\": [\n                \"csprng\",\n                \"polyfill\",\n                \"pseudorandom\",\n                \"random\"\n            ],\n            \"support\": {\n                \"email\": \"info@paragonie.com\",\n                \"issues\": \"https://github.com/paragonie/random_compat/issues\",\n                \"source\": \"https://github.com/paragonie/random_compat\"\n            },\n            \"time\": \"2021-04-17T09:33:01+00:00\"\n        },\n        {\n            \"name\": \"phpdocumentor/reflection-docblock\",\n            \"version\": \"2.0.5\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/phpDocumentor/ReflectionDocBlock.git\",\n                \"reference\": \"e6a969a640b00d8daa3c66518b0405fb41ae0c4b\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/phpDocumentor/ReflectionDocBlock/zipball/e6a969a640b00d8daa3c66518b0405fb41ae0c4b\",\n                \"reference\": \"e6a969a640b00d8daa3c66518b0405fb41ae0c4b\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"~4.0\"\n            },\n            \"suggest\": {\n                \"dflydev/markdown\": \"~1.0\",\n                \"erusev/parsedown\": \"~1.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.0.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-0\": {\n                    \"phpDocumentor\": [\n                        \"src/\"\n                    ]\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Mike van Riel\",\n                    \"email\": \"mike.vanriel@naenius.com\"\n                }\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/phpDocumentor/ReflectionDocBlock/issues\",\n                \"source\": \"https://github.com/phpDocumentor/ReflectionDocBlock/tree/release/2.x\"\n            },\n            \"time\": \"2016-01-25T08:17:30+00:00\"\n        },\n        {\n            \"name\": \"phpspec/prophecy\",\n            \"version\": \"v1.10.3\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/phpspec/prophecy.git\",\n                \"reference\": \"451c3cd1418cf640de218914901e51b064abb093\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/phpspec/prophecy/zipball/451c3cd1418cf640de218914901e51b064abb093\",\n                \"reference\": \"451c3cd1418cf640de218914901e51b064abb093\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"doctrine/instantiator\": \"^1.0.2\",\n                \"php\": \"^5.3|^7.0\",\n                \"phpdocumentor/reflection-docblock\": \"^2.0|^3.0.2|^4.0|^5.0\",\n                \"sebastian/comparator\": \"^1.2.3|^2.0|^3.0|^4.0\",\n                \"sebastian/recursion-context\": \"^1.0|^2.0|^3.0|^4.0\"\n            },\n            \"require-dev\": {\n                \"phpspec/phpspec\": \"^2.5 || ^3.2\",\n                \"phpunit/phpunit\": \"^4.8.35 || ^5.7 || ^6.5 || ^7.1\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.10.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Prophecy\\\\\": \"src/Prophecy\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Konstantin Kudryashov\",\n                    \"email\": \"ever.zet@gmail.com\",\n                    \"homepage\": \"http://everzet.com\"\n                },\n                {\n                    \"name\": \"Marcello Duarte\",\n                    \"email\": \"marcello.duarte@gmail.com\"\n                }\n            ],\n            \"description\": \"Highly opinionated mocking framework for PHP 5.3+\",\n            \"homepage\": \"https://github.com/phpspec/prophecy\",\n            \"keywords\": [\n                \"Double\",\n                \"Dummy\",\n                \"fake\",\n                \"mock\",\n                \"spy\",\n                \"stub\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/phpspec/prophecy/issues\",\n                \"source\": \"https://github.com/phpspec/prophecy/tree/v1.10.3\"\n            },\n            \"time\": \"2020-03-05T15:02:03+00:00\"\n        },\n        {\n            \"name\": \"phpunit/php-code-coverage\",\n            \"version\": \"2.2.4\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/php-code-coverage.git\",\n                \"reference\": \"eabf68b476ac7d0f73793aada060f1c1a9bf8979\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/php-code-coverage/zipball/eabf68b476ac7d0f73793aada060f1c1a9bf8979\",\n                \"reference\": \"eabf68b476ac7d0f73793aada060f1c1a9bf8979\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\",\n                \"phpunit/php-file-iterator\": \"~1.3\",\n                \"phpunit/php-text-template\": \"~1.2\",\n                \"phpunit/php-token-stream\": \"~1.3\",\n                \"sebastian/environment\": \"^1.3.2\",\n                \"sebastian/version\": \"~1.0\"\n            },\n            \"require-dev\": {\n                \"ext-xdebug\": \">=2.1.4\",\n                \"phpunit/phpunit\": \"~4\"\n            },\n            \"suggest\": {\n                \"ext-dom\": \"*\",\n                \"ext-xdebug\": \">=2.2.1\",\n                \"ext-xmlwriter\": \"*\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.2.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sb@sebastian-bergmann.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"Library that provides collection, processing, and rendering functionality for PHP code coverage information.\",\n            \"homepage\": \"https://github.com/sebastianbergmann/php-code-coverage\",\n            \"keywords\": [\n                \"coverage\",\n                \"testing\",\n                \"xunit\"\n            ],\n            \"support\": {\n                \"irc\": \"irc://irc.freenode.net/phpunit\",\n                \"issues\": \"https://github.com/sebastianbergmann/php-code-coverage/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/php-code-coverage/tree/2.2\"\n            },\n            \"time\": \"2015-10-06T15:47:00+00:00\"\n        },\n        {\n            \"name\": \"phpunit/php-file-iterator\",\n            \"version\": \"1.4.5\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/php-file-iterator.git\",\n                \"reference\": \"730b01bc3e867237eaac355e06a36b85dd93a8b4\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/php-file-iterator/zipball/730b01bc3e867237eaac355e06a36b85dd93a8b4\",\n                \"reference\": \"730b01bc3e867237eaac355e06a36b85dd93a8b4\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.4.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sb@sebastian-bergmann.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"FilterIterator implementation that filters files based on a list of suffixes.\",\n            \"homepage\": \"https://github.com/sebastianbergmann/php-file-iterator/\",\n            \"keywords\": [\n                \"filesystem\",\n                \"iterator\"\n            ],\n            \"support\": {\n                \"irc\": \"irc://irc.freenode.net/phpunit\",\n                \"issues\": \"https://github.com/sebastianbergmann/php-file-iterator/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/php-file-iterator/tree/1.4.5\"\n            },\n            \"time\": \"2017-11-27T13:52:08+00:00\"\n        },\n        {\n            \"name\": \"phpunit/php-text-template\",\n            \"version\": \"1.2.1\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/php-text-template.git\",\n                \"reference\": \"31f8b717e51d9a2afca6c9f046f5d69fc27c8686\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/php-text-template/zipball/31f8b717e51d9a2afca6c9f046f5d69fc27c8686\",\n                \"reference\": \"31f8b717e51d9a2afca6c9f046f5d69fc27c8686\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"type\": \"library\",\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"Simple template engine.\",\n            \"homepage\": \"https://github.com/sebastianbergmann/php-text-template/\",\n            \"keywords\": [\n                \"template\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/php-text-template/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/php-text-template/tree/1.2.1\"\n            },\n            \"time\": \"2015-06-21T13:50:34+00:00\"\n        },\n        {\n            \"name\": \"phpunit/php-timer\",\n            \"version\": \"1.0.9\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/php-timer.git\",\n                \"reference\": \"3dcf38ca72b158baf0bc245e9184d3fdffa9c46f\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/php-timer/zipball/3dcf38ca72b158baf0bc245e9184d3fdffa9c46f\",\n                \"reference\": \"3dcf38ca72b158baf0bc245e9184d3fdffa9c46f\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \"^5.3.3 || ^7.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"^4.8.35 || ^5.7 || ^6.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.0-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sb@sebastian-bergmann.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"Utility class for timing\",\n            \"homepage\": \"https://github.com/sebastianbergmann/php-timer/\",\n            \"keywords\": [\n                \"timer\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/php-timer/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/php-timer/tree/master\"\n            },\n            \"time\": \"2017-02-26T11:10:40+00:00\"\n        },\n        {\n            \"name\": \"phpunit/php-token-stream\",\n            \"version\": \"1.4.12\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/php-token-stream.git\",\n                \"reference\": \"1ce90ba27c42e4e44e6d8458241466380b51fa16\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/php-token-stream/zipball/1ce90ba27c42e4e44e6d8458241466380b51fa16\",\n                \"reference\": \"1ce90ba27c42e4e44e6d8458241466380b51fa16\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"ext-tokenizer\": \"*\",\n                \"php\": \">=5.3.3\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"~4.2\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.4-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                }\n            ],\n            \"description\": \"Wrapper around PHP's tokenizer extension.\",\n            \"homepage\": \"https://github.com/sebastianbergmann/php-token-stream/\",\n            \"keywords\": [\n                \"tokenizer\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/php-token-stream/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/php-token-stream/tree/1.4\"\n            },\n            \"abandoned\": true,\n            \"time\": \"2017-12-04T08:55:13+00:00\"\n        },\n        {\n            \"name\": \"phpunit/phpunit\",\n            \"version\": \"4.8.34\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/phpunit.git\",\n                \"reference\": \"7eb45205d27edd94bd2b3614085ea158bd1e2bca\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/phpunit/zipball/7eb45205d27edd94bd2b3614085ea158bd1e2bca\",\n                \"reference\": \"7eb45205d27edd94bd2b3614085ea158bd1e2bca\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"ext-dom\": \"*\",\n                \"ext-json\": \"*\",\n                \"ext-pcre\": \"*\",\n                \"ext-reflection\": \"*\",\n                \"ext-spl\": \"*\",\n                \"php\": \">=5.3.3\",\n                \"phpspec/prophecy\": \"^1.3.1\",\n                \"phpunit/php-code-coverage\": \"~2.1\",\n                \"phpunit/php-file-iterator\": \"~1.4\",\n                \"phpunit/php-text-template\": \"~1.2\",\n                \"phpunit/php-timer\": \"^1.0.6\",\n                \"phpunit/phpunit-mock-objects\": \"~2.3\",\n                \"sebastian/comparator\": \"~1.2.2\",\n                \"sebastian/diff\": \"~1.2\",\n                \"sebastian/environment\": \"~1.3\",\n                \"sebastian/exporter\": \"~1.2\",\n                \"sebastian/global-state\": \"~1.0\",\n                \"sebastian/version\": \"~1.0\",\n                \"symfony/yaml\": \"~2.1|~3.0\"\n            },\n            \"suggest\": {\n                \"phpunit/php-invoker\": \"~1.1\"\n            },\n            \"bin\": [\n                \"phpunit\"\n            ],\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"4.8.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"The PHP Unit Testing framework.\",\n            \"homepage\": \"https://phpunit.de/\",\n            \"keywords\": [\n                \"phpunit\",\n                \"testing\",\n                \"xunit\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/phpunit/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/phpunit/tree/4.8.34\"\n            },\n            \"time\": \"2017-01-26T16:15:36+00:00\"\n        },\n        {\n            \"name\": \"phpunit/phpunit-mock-objects\",\n            \"version\": \"2.3.8\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/phpunit-mock-objects.git\",\n                \"reference\": \"ac8e7a3db35738d56ee9a76e78a4e03d97628983\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/phpunit-mock-objects/zipball/ac8e7a3db35738d56ee9a76e78a4e03d97628983\",\n                \"reference\": \"ac8e7a3db35738d56ee9a76e78a4e03d97628983\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"doctrine/instantiator\": \"^1.0.2\",\n                \"php\": \">=5.3.3\",\n                \"phpunit/php-text-template\": \"~1.2\",\n                \"sebastian/exporter\": \"~1.2\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"~4.4\"\n            },\n            \"suggest\": {\n                \"ext-soap\": \"*\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.3.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sb@sebastian-bergmann.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"Mock Object library for PHPUnit\",\n            \"homepage\": \"https://github.com/sebastianbergmann/phpunit-mock-objects/\",\n            \"keywords\": [\n                \"mock\",\n                \"xunit\"\n            ],\n            \"support\": {\n                \"irc\": \"irc://irc.freenode.net/phpunit\",\n                \"issues\": \"https://github.com/sebastianbergmann/phpunit-mock-objects/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/phpunit-mock-objects/tree/2.3\"\n            },\n            \"abandoned\": true,\n            \"time\": \"2015-10-02T06:51:40+00:00\"\n        },\n        {\n            \"name\": \"psr/log\",\n            \"version\": \"1.1.3\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/php-fig/log.git\",\n                \"reference\": \"0f73288fd15629204f9d42b7055f72dacbe811fc\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/php-fig/log/zipball/0f73288fd15629204f9d42b7055f72dacbe811fc\",\n                \"reference\": \"0f73288fd15629204f9d42b7055f72dacbe811fc\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.1.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Psr\\\\Log\\\\\": \"Psr/Log/\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"PHP-FIG\",\n                    \"homepage\": \"http://www.php-fig.org/\"\n                }\n            ],\n            \"description\": \"Common interface for logging libraries\",\n            \"homepage\": \"https://github.com/php-fig/log\",\n            \"keywords\": [\n                \"log\",\n                \"psr\",\n                \"psr-3\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/php-fig/log/tree/1.1.3\"\n            },\n            \"time\": \"2020-03-23T09:12:05+00:00\"\n        },\n        {\n            \"name\": \"sebastian/comparator\",\n            \"version\": \"1.2.4\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/comparator.git\",\n                \"reference\": \"2b7424b55f5047b47ac6e5ccb20b2aea4011d9be\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/comparator/zipball/2b7424b55f5047b47ac6e5ccb20b2aea4011d9be\",\n                \"reference\": \"2b7424b55f5047b47ac6e5ccb20b2aea4011d9be\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\",\n                \"sebastian/diff\": \"~1.2\",\n                \"sebastian/exporter\": \"~1.2 || ~2.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"~4.4\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.2.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Jeff Welch\",\n                    \"email\": \"whatthejeff@gmail.com\"\n                },\n                {\n                    \"name\": \"Volker Dusch\",\n                    \"email\": \"github@wallbash.com\"\n                },\n                {\n                    \"name\": \"Bernhard Schussek\",\n                    \"email\": \"bschussek@2bepublished.at\"\n                },\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                }\n            ],\n            \"description\": \"Provides the functionality to compare PHP values for equality\",\n            \"homepage\": \"http://www.github.com/sebastianbergmann/comparator\",\n            \"keywords\": [\n                \"comparator\",\n                \"compare\",\n                \"equality\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/comparator/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/comparator/tree/1.2\"\n            },\n            \"time\": \"2017-01-29T09:50:25+00:00\"\n        },\n        {\n            \"name\": \"sebastian/diff\",\n            \"version\": \"1.4.3\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/diff.git\",\n                \"reference\": \"7f066a26a962dbe58ddea9f72a4e82874a3975a4\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/diff/zipball/7f066a26a962dbe58ddea9f72a4e82874a3975a4\",\n                \"reference\": \"7f066a26a962dbe58ddea9f72a4e82874a3975a4\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \"^5.3.3 || ^7.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"^4.8.35 || ^5.7 || ^6.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.4-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Kore Nordmann\",\n                    \"email\": \"mail@kore-nordmann.de\"\n                },\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                }\n            ],\n            \"description\": \"Diff implementation\",\n            \"homepage\": \"https://github.com/sebastianbergmann/diff\",\n            \"keywords\": [\n                \"diff\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/diff/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/diff/tree/1.4\"\n            },\n            \"time\": \"2017-05-22T07:24:03+00:00\"\n        },\n        {\n            \"name\": \"sebastian/environment\",\n            \"version\": \"1.3.8\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/environment.git\",\n                \"reference\": \"be2c607e43ce4c89ecd60e75c6a85c126e754aea\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/environment/zipball/be2c607e43ce4c89ecd60e75c6a85c126e754aea\",\n                \"reference\": \"be2c607e43ce4c89ecd60e75c6a85c126e754aea\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \"^5.3.3 || ^7.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"^4.8 || ^5.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.3.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                }\n            ],\n            \"description\": \"Provides functionality to handle HHVM/PHP environments\",\n            \"homepage\": \"http://www.github.com/sebastianbergmann/environment\",\n            \"keywords\": [\n                \"Xdebug\",\n                \"environment\",\n                \"hhvm\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/environment/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/environment/tree/1.3\"\n            },\n            \"time\": \"2016-08-18T05:49:44+00:00\"\n        },\n        {\n            \"name\": \"sebastian/exporter\",\n            \"version\": \"1.2.2\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/exporter.git\",\n                \"reference\": \"42c4c2eec485ee3e159ec9884f95b431287edde4\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/exporter/zipball/42c4c2eec485ee3e159ec9884f95b431287edde4\",\n                \"reference\": \"42c4c2eec485ee3e159ec9884f95b431287edde4\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\",\n                \"sebastian/recursion-context\": \"~1.0\"\n            },\n            \"require-dev\": {\n                \"ext-mbstring\": \"*\",\n                \"phpunit/phpunit\": \"~4.4\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.3.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Jeff Welch\",\n                    \"email\": \"whatthejeff@gmail.com\"\n                },\n                {\n                    \"name\": \"Volker Dusch\",\n                    \"email\": \"github@wallbash.com\"\n                },\n                {\n                    \"name\": \"Bernhard Schussek\",\n                    \"email\": \"bschussek@2bepublished.at\"\n                },\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                },\n                {\n                    \"name\": \"Adam Harvey\",\n                    \"email\": \"aharvey@php.net\"\n                }\n            ],\n            \"description\": \"Provides the functionality to export PHP variables for visualization\",\n            \"homepage\": \"http://www.github.com/sebastianbergmann/exporter\",\n            \"keywords\": [\n                \"export\",\n                \"exporter\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/exporter/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/exporter/tree/master\"\n            },\n            \"time\": \"2016-06-17T09:04:28+00:00\"\n        },\n        {\n            \"name\": \"sebastian/global-state\",\n            \"version\": \"1.1.1\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/global-state.git\",\n                \"reference\": \"bc37d50fea7d017d3d340f230811c9f1d7280af4\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/global-state/zipball/bc37d50fea7d017d3d340f230811c9f1d7280af4\",\n                \"reference\": \"bc37d50fea7d017d3d340f230811c9f1d7280af4\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"~4.2\"\n            },\n            \"suggest\": {\n                \"ext-uopz\": \"*\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.0-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                }\n            ],\n            \"description\": \"Snapshotting of global state\",\n            \"homepage\": \"http://www.github.com/sebastianbergmann/global-state\",\n            \"keywords\": [\n                \"global state\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/global-state/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/global-state/tree/1.1.1\"\n            },\n            \"time\": \"2015-10-12T03:26:01+00:00\"\n        },\n        {\n            \"name\": \"sebastian/recursion-context\",\n            \"version\": \"1.0.5\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/recursion-context.git\",\n                \"reference\": \"b19cc3298482a335a95f3016d2f8a6950f0fbcd7\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/recursion-context/zipball/b19cc3298482a335a95f3016d2f8a6950f0fbcd7\",\n                \"reference\": \"b19cc3298482a335a95f3016d2f8a6950f0fbcd7\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"~4.4\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.0.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Jeff Welch\",\n                    \"email\": \"whatthejeff@gmail.com\"\n                },\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                },\n                {\n                    \"name\": \"Adam Harvey\",\n                    \"email\": \"aharvey@php.net\"\n                }\n            ],\n            \"description\": \"Provides functionality to recursively process PHP variables\",\n            \"homepage\": \"http://www.github.com/sebastianbergmann/recursion-context\",\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/recursion-context/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/recursion-context/tree/master\"\n            },\n            \"time\": \"2016-10-03T07:41:43+00:00\"\n        },\n        {\n            \"name\": \"sebastian/version\",\n            \"version\": \"1.0.6\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/version.git\",\n                \"reference\": \"58b3a85e7999757d6ad81c787a1fbf5ff6c628c6\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/version/zipball/58b3a85e7999757d6ad81c787a1fbf5ff6c628c6\",\n                \"reference\": \"58b3a85e7999757d6ad81c787a1fbf5ff6c628c6\",\n                \"shasum\": \"\"\n            },\n            \"type\": \"library\",\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"Library that helps with managing the version number of Git-hosted PHP projects\",\n            \"homepage\": \"https://github.com/sebastianbergmann/version\",\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/version/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/version/tree/1.0.6\"\n            },\n            \"time\": \"2015-06-21T13:59:46+00:00\"\n        },\n        {\n            \"name\": \"symfony/console\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/console.git\",\n                \"reference\": \"cbcf4b5e233af15cd2bbd50dee1ccc9b7927dc12\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/console/zipball/cbcf4b5e233af15cd2bbd50dee1ccc9b7927dc12\",\n                \"reference\": \"cbcf4b5e233af15cd2bbd50dee1ccc9b7927dc12\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\",\n                \"symfony/debug\": \"^2.7.2|~3.0.0\",\n                \"symfony/polyfill-mbstring\": \"~1.0\"\n            },\n            \"require-dev\": {\n                \"psr/log\": \"~1.0\",\n                \"symfony/event-dispatcher\": \"~2.1|~3.0.0\",\n                \"symfony/process\": \"~2.1|~3.0.0\"\n            },\n            \"suggest\": {\n                \"psr/log-implementation\": \"For using the console logger\",\n                \"symfony/event-dispatcher\": \"\",\n                \"symfony/process\": \"\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Console\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Console Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/console/tree/v2.8.52\"\n            },\n            \"time\": \"2018-11-20T15:55:20+00:00\"\n        },\n        {\n            \"name\": \"symfony/debug\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/debug.git\",\n                \"reference\": \"74251c8d50dd3be7c4ce0c7b862497cdc641a5d0\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/debug/zipball/74251c8d50dd3be7c4ce0c7b862497cdc641a5d0\",\n                \"reference\": \"74251c8d50dd3be7c4ce0c7b862497cdc641a5d0\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\",\n                \"psr/log\": \"~1.0\"\n            },\n            \"conflict\": {\n                \"symfony/http-kernel\": \">=2.3,<2.3.24|~2.4.0|>=2.5,<2.5.9|>=2.6,<2.6.2\"\n            },\n            \"require-dev\": {\n                \"symfony/class-loader\": \"~2.2|~3.0.0\",\n                \"symfony/http-kernel\": \"~2.3.24|~2.5.9|^2.6.2|~3.0.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Debug\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Debug Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/debug/tree/v2.8.50\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        },\n        {\n            \"name\": \"symfony/event-dispatcher\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/event-dispatcher.git\",\n                \"reference\": \"a77e974a5fecb4398833b0709210e3d5e334ffb0\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/event-dispatcher/zipball/a77e974a5fecb4398833b0709210e3d5e334ffb0\",\n                \"reference\": \"a77e974a5fecb4398833b0709210e3d5e334ffb0\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\"\n            },\n            \"require-dev\": {\n                \"psr/log\": \"~1.0\",\n                \"symfony/config\": \"^2.0.5|~3.0.0\",\n                \"symfony/dependency-injection\": \"~2.6|~3.0.0\",\n                \"symfony/expression-language\": \"~2.6|~3.0.0\",\n                \"symfony/stopwatch\": \"~2.3|~3.0.0\"\n            },\n            \"suggest\": {\n                \"symfony/dependency-injection\": \"\",\n                \"symfony/http-kernel\": \"\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\EventDispatcher\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony EventDispatcher Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/event-dispatcher/tree/v2.8.50\"\n            },\n            \"time\": \"2018-11-21T14:20:20+00:00\"\n        },\n        {\n            \"name\": \"symfony/filesystem\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/filesystem.git\",\n                \"reference\": \"7ae46872dad09dffb7fe1e93a0937097339d0080\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/filesystem/zipball/7ae46872dad09dffb7fe1e93a0937097339d0080\",\n                \"reference\": \"7ae46872dad09dffb7fe1e93a0937097339d0080\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\",\n                \"symfony/polyfill-ctype\": \"~1.8\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Filesystem\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Filesystem Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/filesystem/tree/v2.8.52\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        },\n        {\n            \"name\": \"symfony/finder\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/finder.git\",\n                \"reference\": \"1444eac52273e345d9b95129bf914639305a9ba4\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/finder/zipball/1444eac52273e345d9b95129bf914639305a9ba4\",\n                \"reference\": \"1444eac52273e345d9b95129bf914639305a9ba4\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Finder\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Finder Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/finder/tree/v2.8.50\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        },\n        {\n            \"name\": \"symfony/options-resolver\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/options-resolver.git\",\n                \"reference\": \"7aaab725bb58f0e18aa12c61bdadd4793ab4c32b\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/options-resolver/zipball/7aaab725bb58f0e18aa12c61bdadd4793ab4c32b\",\n                \"reference\": \"7aaab725bb58f0e18aa12c61bdadd4793ab4c32b\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\OptionsResolver\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony OptionsResolver Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"config\",\n                \"configuration\",\n                \"options\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/options-resolver/tree/v2.8.50\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        },\n        {\n            \"name\": \"symfony/polyfill-ctype\",\n            \"version\": \"v1.19.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/polyfill-ctype.git\",\n                \"reference\": \"aed596913b70fae57be53d86faa2e9ef85a2297b\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/polyfill-ctype/zipball/aed596913b70fae57be53d86faa2e9ef85a2297b\",\n                \"reference\": \"aed596913b70fae57be53d86faa2e9ef85a2297b\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"suggest\": {\n                \"ext-ctype\": \"For best performance\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-main\": \"1.19-dev\"\n                },\n                \"thanks\": {\n                    \"name\": \"symfony/polyfill\",\n                    \"url\": \"https://github.com/symfony/polyfill\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Polyfill\\\\Ctype\\\\\": \"\"\n                },\n                \"files\": [\n                    \"bootstrap.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Gert de Pagter\",\n                    \"email\": \"BackEndTea@gmail.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony polyfill for ctype functions\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"compatibility\",\n                \"ctype\",\n                \"polyfill\",\n                \"portable\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/polyfill-ctype/tree/v1.19.0\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://symfony.com/sponsor\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/fabpot\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/symfony/symfony\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-10-23T09:01:57+00:00\"\n        },\n        {\n            \"name\": \"symfony/polyfill-mbstring\",\n            \"version\": \"v1.19.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/polyfill-mbstring.git\",\n                \"reference\": \"b5f7b932ee6fa802fc792eabd77c4c88084517ce\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/polyfill-mbstring/zipball/b5f7b932ee6fa802fc792eabd77c4c88084517ce\",\n                \"reference\": \"b5f7b932ee6fa802fc792eabd77c4c88084517ce\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"suggest\": {\n                \"ext-mbstring\": \"For best performance\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-main\": \"1.19-dev\"\n                },\n                \"thanks\": {\n                    \"name\": \"symfony/polyfill\",\n                    \"url\": \"https://github.com/symfony/polyfill\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Polyfill\\\\Mbstring\\\\\": \"\"\n                },\n                \"files\": [\n                    \"bootstrap.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Nicolas Grekas\",\n                    \"email\": \"p@tchwork.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony polyfill for the Mbstring extension\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"compatibility\",\n                \"mbstring\",\n                \"polyfill\",\n                \"portable\",\n                \"shim\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/polyfill-mbstring/tree/v1.19.0\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://symfony.com/sponsor\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/fabpot\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/symfony/symfony\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-10-23T09:01:57+00:00\"\n        },\n        {\n            \"name\": \"symfony/polyfill-php54\",\n            \"version\": \"v1.19.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/polyfill-php54.git\",\n                \"reference\": \"c248bab30dad46a5f3917e7d92907e148bdc50c6\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/polyfill-php54/zipball/c248bab30dad46a5f3917e7d92907e148bdc50c6\",\n                \"reference\": \"c248bab30dad46a5f3917e7d92907e148bdc50c6\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-main\": \"1.19-dev\"\n                },\n                \"thanks\": {\n                    \"name\": \"symfony/polyfill\",\n                    \"url\": \"https://github.com/symfony/polyfill\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Polyfill\\\\Php54\\\\\": \"\"\n                },\n                \"files\": [\n                    \"bootstrap.php\"\n                ],\n                \"classmap\": [\n                    \"Resources/stubs\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Nicolas Grekas\",\n                    \"email\": \"p@tchwork.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony polyfill backporting some PHP 5.4+ features to lower PHP versions\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"compatibility\",\n                \"polyfill\",\n                \"portable\",\n                \"shim\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/polyfill-php54/tree/v1.19.0\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://symfony.com/sponsor\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/fabpot\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/symfony/symfony\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-10-23T09:01:57+00:00\"\n        },\n        {\n            \"name\": \"symfony/polyfill-php55\",\n            \"version\": \"v1.19.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/polyfill-php55.git\",\n                \"reference\": \"248a5c9877b126493abb661e4fb47792e418035b\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/polyfill-php55/zipball/248a5c9877b126493abb661e4fb47792e418035b\",\n                \"reference\": \"248a5c9877b126493abb661e4fb47792e418035b\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"ircmaxell/password-compat\": \"~1.0\",\n                \"php\": \">=5.3.3\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-main\": \"1.19-dev\"\n                },\n                \"thanks\": {\n                    \"name\": \"symfony/polyfill\",\n                    \"url\": \"https://github.com/symfony/polyfill\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Polyfill\\\\Php55\\\\\": \"\"\n                },\n                \"files\": [\n                    \"bootstrap.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Nicolas Grekas\",\n                    \"email\": \"p@tchwork.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony polyfill backporting some PHP 5.5+ features to lower PHP versions\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"compatibility\",\n                \"polyfill\",\n                \"portable\",\n                \"shim\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/polyfill-php55/tree/v1.19.0\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://symfony.com/sponsor\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/fabpot\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/symfony/symfony\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-10-23T09:01:57+00:00\"\n        },\n        {\n            \"name\": \"symfony/polyfill-php70\",\n            \"version\": \"v1.19.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/polyfill-php70.git\",\n                \"reference\": \"3fe414077251a81a1b15b1c709faf5c2fbae3d4e\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/polyfill-php70/zipball/3fe414077251a81a1b15b1c709faf5c2fbae3d4e\",\n                \"reference\": \"3fe414077251a81a1b15b1c709faf5c2fbae3d4e\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"paragonie/random_compat\": \"~1.0|~2.0|~9.99\",\n                \"php\": \">=5.3.3\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-main\": \"1.19-dev\"\n                },\n                \"thanks\": {\n                    \"name\": \"symfony/polyfill\",\n                    \"url\": \"https://github.com/symfony/polyfill\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Polyfill\\\\Php70\\\\\": \"\"\n                },\n                \"files\": [\n                    \"bootstrap.php\"\n                ],\n                \"classmap\": [\n                    \"Resources/stubs\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Nicolas Grekas\",\n                    \"email\": \"p@tchwork.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony polyfill backporting some PHP 7.0+ features to lower PHP versions\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"compatibility\",\n                \"polyfill\",\n                \"portable\",\n                \"shim\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/polyfill-php70/tree/v1.19.0\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://symfony.com/sponsor\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/fabpot\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/symfony/symfony\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-10-23T09:01:57+00:00\"\n        },\n        {\n            \"name\": \"symfony/polyfill-php72\",\n            \"version\": \"v1.19.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/polyfill-php72.git\",\n                \"reference\": \"beecef6b463b06954638f02378f52496cb84bacc\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/polyfill-php72/zipball/beecef6b463b06954638f02378f52496cb84bacc\",\n                \"reference\": \"beecef6b463b06954638f02378f52496cb84bacc\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-main\": \"1.19-dev\"\n                },\n                \"thanks\": {\n                    \"name\": \"symfony/polyfill\",\n                    \"url\": \"https://github.com/symfony/polyfill\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Polyfill\\\\Php72\\\\\": \"\"\n                },\n                \"files\": [\n                    \"bootstrap.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Nicolas Grekas\",\n                    \"email\": \"p@tchwork.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony polyfill backporting some PHP 7.2+ features to lower PHP versions\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"compatibility\",\n                \"polyfill\",\n                \"portable\",\n                \"shim\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/polyfill-php72/tree/v1.19.0\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://symfony.com/sponsor\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/fabpot\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/symfony/symfony\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-10-23T09:01:57+00:00\"\n        },\n        {\n            \"name\": \"symfony/process\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/process.git\",\n                \"reference\": \"c3591a09c78639822b0b290d44edb69bf9f05dc8\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/process/zipball/c3591a09c78639822b0b290d44edb69bf9f05dc8\",\n                \"reference\": \"c3591a09c78639822b0b290d44edb69bf9f05dc8\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Process\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Process Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/process/tree/v2.8.50\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        },\n        {\n            \"name\": \"symfony/stopwatch\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/stopwatch.git\",\n                \"reference\": \"752586c80af8a85aeb74d1ae8202411c68836663\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/stopwatch/zipball/752586c80af8a85aeb74d1ae8202411c68836663\",\n                \"reference\": \"752586c80af8a85aeb74d1ae8202411c68836663\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Stopwatch\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Stopwatch Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/stopwatch/tree/v2.8.52\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        },\n        {\n            \"name\": \"symfony/yaml\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/yaml.git\",\n                \"reference\": \"02c1859112aa779d9ab394ae4f3381911d84052b\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/yaml/zipball/02c1859112aa779d9ab394ae4f3381911d84052b\",\n                \"reference\": \"02c1859112aa779d9ab394ae4f3381911d84052b\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\",\n                \"symfony/polyfill-ctype\": \"~1.8\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Yaml\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Yaml Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/yaml/tree/v2.8.52\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        }\n    ],\n    \"aliases\": [],\n    \"minimum-stability\": \"dev\",\n    \"stability-flags\": {\n        \"bower-asset/jquery\": 0\n    },\n    \"prefer-stable\": true,\n    \"prefer-lowest\": false,\n    \"platform\": {\n        \"php\": \">=5.4.0\",\n        \"ext-mbstring\": \"*\",\n        \"ext-ctype\": \"*\",\n        \"lib-pcre\": \"*\"\n    },\n    \"platform-dev\": [],\n    \"platform-overrides\": {\n        \"php\": \"5.4\"\n    },\n    \"plugin-api-version\": \"2.0.0\"\n}\n", "Yii Framework 2 Change Log\n==========================\n\n2.0.43 under development\n------------------------\n\n- Bug #14663: Do not convert int to string if database type of a column is numeric (egorrishe)\n- Bug #18650: Refactor `framework/assets/yii.activeForm.js` arrow function into traditional function for IE11 compatibility (marcovtwout)\n- Bug #18749: Fix `yii\\web\\ErrorHandler::encodeHtml()` to support strings with invalid UTF symbols (vjik)\n- Enh #18724: Allow jQuery 3.6 to be installed (marcovtwout)\n- Enh #18628: Added strings \"software\", and \"hardware\" to `$specials` array in `yii\\helpers\\BaseInflector` (kjusupov)\n- Enh #18653: Added method `yii\\helpers\\BaseHtml::getInputIdByName()` (WinterSilence)\n- Enh #18669: Changed visibility of `yii\\web\\User::checkRedirectAcceptable()` to `public` (rhertogh)\n- Enh #18676: Added method `yii\\helpers\\BaseFileHelper::changeOwnership()` and properties `newFileMode`/`newFileOwnership` in `yii\\console\\controllers\\BaseMigrateController` (rhertogh)\n- Bug #18678: Fix `yii\\caching\\DbCache` to use configured cache table name instead of the default one in case of MSSQL varbinary column type detection (aidanbek)\n- Enh #18695: Added `yii\\web\\Cookie::SAME_SITE_NONE` constant (rhertogh)\n- Enh #18712: Added `scheme` option for `$options` argument for `yii\\i18n\\Formatter::asUrl()` (bizley)\n- Enh #18707: Changed the base error handler to not expose `$_SERVER` details unless `YII_DEBUG` is enabled (coolgoose)\n- Bug #18648: Fix `yii\\web\\Request` to properly handle HTTP Basic Auth headers (olegbaturin)\n- Enh #18726: Added `yii\\helpers\\Json::$prettyPrint` (rhertogh)\n- Enh #18734: Added `yii\\validators\\EmailValidator::$enableLocalIDN` (brandonkelly)\n- Bug #18756: Fix `\\yii\\validators\\ExistValidator::queryValueExists` to validate against an array of unique values (DrDeath72)\n- Enh #18656: Added ability for `yii serve`'s `--router` param to take an alias (markhuot)\n- Enh #18274: Added `profilingAware` option to `yii\\log\\Logger` to prevent breaking the profiling block messages pair when flushing them (bizley)\n- Enh #18789: Added JSONP support in `yii\\web\\JsonParser::parse()` (WinterSilence)\n- Bug #18274: Fix `yii\\log\\Logger` to calculate profile timings no matter the value of the flush interval (bizley)\n- Bug #18807: Fix replacing source whitespaces and optimize code of `yii\\helpers\\BaseStringHelper::mb_ucwords()` (WinterSilence)\n\n\n2.0.42.1 May 06, 2021\n---------------------\n\n- Bug #18634: Fix `yii\\db\\BaseActiveRecord::unlink()` and `unlinkAll()` to omit condition for `on` property when it doesn't exist (bizley)\n\n\n2.0.42 May 05, 2021\n-------------------\n\n- Bug #14343: Fix `yii\\test\\ActiveFixture` to use model's DB connection instead of the default one (margori, bizley)\n- Bug #17174: Fix `yii\\db\\BaseActiveRecord::unlink()` to not ignore `on` conditions in `via` relations (bizley)\n- Bug #17203: Fix `yii\\db\\Connection` to persist customized `queryBuilder` configuration after the `close()` \u2192 `open()` cycle (silverfire)\n- Bug #17479: Fix `yii\\grid\\ActionColumn` to render icons when no glyphicons are available (simialbi)\n- Bug #17631: Fix `yii\\widgets\\BaseListView` to properly render custom summary (sjaakp, bizley)\n- Bug #18323: Fix client validation of RadioList when there are disabled items (toir427)\n- Bug #18325: Fix `yii\\db\\pgsql\\Schema` to respect non-default PgSQL schema name for data types (theonedemon, silverfire)\n- Bug #18526: Fix `yii\\caching\\DbCache` to work with MSSQL, add `normalizeTableRowData()` to `yii\\db\\mssql\\QueryBuilder::upsert()` (darkdef)\n- Bug #18544: Fix `yii\\validators\\NumberValidator` to disallow values with whitespaces (bizley)\n- Bug #18552: Fix `yii\\data\\SqlDataProvider` to properly handle SQL with `ORDER BY` clause (bizley)\n- Bug #18557: Fix `yii\\data\\ActiveDataProvider` to handle DB connection configuration of different type than just `yii\\db\\Connection` (bizley)\n- Bug #18574: Fix `yii\\web\\DbSession` to use the correct db if strict mode is used (Mignar)\n- Bug #18585: Fix `yii\\validators\\EmailValidator` to handle an edge case where `IDN` is enabled, but fails ascii conversion for valid email addresses (ihitbuttons)\n- Bug #18590: Fix `yii\\web\\UrlManager` to instantiate cache only when it's actually needed (bizley)\n- Bug #18592: Fix `yii\\db\\Command::getRawSql()` to not replace query params in invalid places (sartor)\n- Bug #18593: Fix setting the `maxlength` attribute for `Html::activeInput()` and `Html::activeTextArea()` based on `length` parameter of validator (BSCheshir)\n- Bug #18604: Function alterColumn for MSSQL build incorrect query with default values `NULL` and other expressions (darkdef)\n- Bug #18613: Do not call static methods non-statically in `BaseActiveRecord` (samdark)\n- Bug #18619: Do not modify `yii\\web\\Cookie::$path` on `yii\\web\\Response::sendCookies()` (mikk150)\n- Bug #18624: Fix `yii\\di\\Container` to properly resolve dependencies in case of PHP 8 union types (bizley)\n- Enh #18534: Add `prepareSearchQuery` property in `yii\\rest\\IndexAction` (programmis)\n- Enh #18566: Throw the original exception when `yii\\web\\Controller::bindInjectedParams()` catches HttpException (pigochu)\n- Enh #18569: Add `NumberValidator::$allowArray` (raidkon)\n\n\n2.0.41.1 March 04, 2021\n-----------------------\n\n- Bug #18545: Reversed changes made to the `yii\\db\\Query::all()` and `indexBy` handling (bizley)\n- Bug #18548: Fix bug with REST rules with prefixes containing tokens not being parsed properly (bizley)\n\n\n2.0.41 March 03, 2021\n---------------------\n\n- Bug #8750: Fix MySQL support when running in `ANSI`/`ANSI_QUOTES` modes (brandonkelly)\n- Bug #9718: Fix user staying authorized despite authKey change (kidol, Charlie Jack, Kunal Mhaske, samdark)\n- Bug #18448: Fix issues in queries and tests for older MSSQL versions (darkdef)\n- Bug #18450: Allow empty string to be passed as a nullable typed argument to a controller's action (dicrtarasov, bizley)\n- Bug #18464: Fix bug with processing fallback messages when translation language is set to `null` (bizley)\n- Bug #18472: Fix initializing `db` component configuration in `yii\\data\\ActiveDataProvider` (bizley)\n- Bug #18477: Fix detecting availability of Xdebug's stack trace in `yii\\base\\ErrorException` (bizley)\n- Bug #18479: Fix invalid argument type for `preg_split()` in `\\yii\\console\\Controller` (gazooz)\n- Bug #18480: Transactions are not committed using the dblib driver (bbrunekreeft)\n- Bug #18505: Fix `yii\\helpers\\ArrayHelper::getValue()` for ArrayAccess objects with explicitly defined properties (samdark)\n- Bug #18508: Fix Postgres SQL query for load table indexes with correct column order (insolita)\n- Bug #18529: Fix asset files path with `appendTimestamp` option for non-root-relative base URLs (bizley)\n- Bug #18535: Set Cookie SameSite to Lax by default (samdark)\n- Bug #18539: Fix \"driver does not support quoting\" when using the driver pdo_odbc (xpohoc69)\n- Enh #18447: Do not use `getLastInsertID()` to get PK from insert query to lower collision probability for concurrent inserts (darkdef)\n- Enh #18455: Add ability to use separate attributes for data model and filter model of `yii\\grid\\GridView` in `yii\\grid\\DataColumn` (PowerGamer1)\n- Enh #18457: Add `EVENT_RESET` and `EVENT_FINISH` events to `yii\\db\\BatchQueryResult` (brandonkelly)\n- Enh #18460: `compareValue` in `CompareValidator` can now take a closure returning a value (mmonem)\n- Enh #18483: Add `yii\\log\\Logger::$dbEventNames` that allows specifying event names used to get statistical results (profiling) of DB queries (atiline)\n- Enh #18487: Allow creating URLs for non-GET-verb rules (bizley)\n- Enh #18493: Faster request parsing for REST UrlRule with prefix handling (bizley)\n- Enh #18499: When using `yii\\db\\Query::all()` and `yii\\db\\Query::$indexBy`, the `yii\\db\\Query::$indexBy` is auto inserted into `yii\\db\\Query::$select` - the same as in `yii\\db\\Query::column()` (OndrejVasicek, samdark, bizley)\n- Enh #18518: Add support for ngrok\u2019s `X-Original-Host` header (brandonkelly)\n\n\n2.0.40 December 23, 2020\n------------------------\n\n- Bug #16492: Fix eager loading Active Record relations when relation key is a subject to a type-casting behavior (bizley)\n- Bug #18199: Fix content body response on 304 HTTP status code, according to RFC 7232 (rad8329)\n- Bug #18287: Fix the OUTPUT got SQL syntax error if the column name is MSSQL keyword e.g. key (darkdef)\n- Bug #18339: Fix migrate controller actions to return exit codes (haohetao, bizley)\n- Bug #18365: Move quoting of table names to upper level to function `getSchemaMetadata()` in MSSQL driver to get clean names from the schema (darkdef)\n- Bug #18383: RBAC's generated file made PSR-12 compliant (perlexed)\n- Bug #18386: Fix `assets/yii.activeForm.js` incorrect target selector for `validatingCssClass` (brussens)\n- Bug #18393: Fix `ActiveRecord::refresh()` to load data from the database even if cache is enabled (hooman-mirghasemi)\n- Bug #18395: Fix regression in `yii\\helpers\\BaseArrayHelper::filter()` (allowing filtering arrays with numeric keys) (bizley)\n- Bug #18400: Set parent module of the newly attached child module by `Module::setModule()` and `Module::setModules()` (sup-ham)\n- Bug #18406: Fix PDO exception when committing or rolling back an autocommitted transaction in PHP 8 (brandonkelly)\n- Bug #18414: Fix `AssetManager::appendTimestamp()` not appending timestamp for website root in sub-directory (Isitar)\n- Bug #18426: Fix check for route's leading slash in `yii\\widgets\\Menu` (stevekr)\n- Bug #18435: Fix ensuring Active Record relation links' keys to be strings (bizley)\n- Bug #18437: Change the check order whether an object is an implementation of `Arrayable` or `JsonSerializable` in `\\yii\\base\\ArrayableTrait::toArray()` and `\\yii\\rest\\Serializer::serialize()` (spell6inder)\n- Bug #18442: Fix calls with array access to string (bizley)\n- Enh #18381: The `yii\\web\\AssetManager` `$basePath` readable and writeable check has been moved to the `checkBasePathPermission()`. This check will run once before `publishFile()` and `publishDirectory()` (nadar)\n- Enh #18394: Add support for setting `yii\\web\\Response::$stream` to a callable (brandonkelly)\n\n\n2.0.39.3 November 23, 2020\n--------------------------\n\n- Bug #18396: Fix not throw `InvalidConfigException` when failed to instantiate class via DI container in some cases (vjik)\n- Enh #18200: Add `maxlength` attribute by default to the input text when it is an active field within a `yii\\grid\\DataColumn` (rad8329)\n\n\n2.0.39.2 November 13, 2020\n--------------------------\n\n- Bug #18378: Fix not taking default value when unable to resolve abstract class via DI container (vjik)\n\n\n2.0.39.1 November 10, 2020\n--------------------------\n\n- Bug #18373: Fix not taking default value when unable to resolve non-existing class via DI container (vjik)\n- Enh #18370: Add option to provide a string replacement for `null` value in `yii\\data\\DataFilter` (bizley)\n\n\n2.0.39 November 10, 2020\n------------------------\n\n- Bug #16418: Fix `yii\\data\\Pagination::getLinks()` to return links to the first and the last pages regardless of the current page (ptz-nerf, bizley)\n- Bug #16831: Fix console Table widget does not render correctly in combination with ANSI formatting (issidorov, cebe)\n- Bug #18160, #18192: Fix `registerFile` with set argument `depends` does not take `position` and `appendTimestamp` into account (baleeny)\n- Bug #18263: Fix writing `\\yii\\caching\\FileCache` files to the same directory when `keyPrefix` is set (githubjeka)\n- Bug #18287: Fix for `OUTPUT INSERTED` and computed columns. Add flag to mark computed values in table schema (darkdef)\n- Bug #18290: Fix response with non-seekable streams (schmunk42)\n- Bug #18297: Replace usage of deprecated `ReflectionParameter::isArray()` method in PHP8 (baletskyi)\n- Bug #18303: Fix creating migration for column methods used after `defaultValues` (wsaid)\n- Bug #18308: Fix `\\yii\\base\\Model::getErrorSummary()` reverse order (DrDeath72)\n- Bug #18313: Fix multipart form data parsing with double quotes (wsaid)\n- Bug #18317: Additional PHP 8 compatibility fixes (samdark, bizley)\n- Enh #18247: Add support for the 'session.use_strict_mode' ini directive in `yii\\web\\Session` (rhertogh)\n- Enh #18285: Enhanced DI container to allow passing parameters by name in a constructor (vjik)\n- Enh #18304: Add support of constructor parameters with default values to DI container (vjik)\n- Enh #18351: Add option to change default timezone for parsing formats without time part in `yii\\validators\\DateValidator` (bizley)\n\n\n2.0.38 September 14, 2020\n-------------------------\n\n- Bug #13973: Correct alterColumn for MSSQL & drop constraints before dropping a column (darkdef)\n- Bug #15265: PostgreSQL > 10.0 is not pass tests with default value of timestamp CURRENT_TIMESTAMP (terabytesoftw)\n- Bug #16892: Validation error class was not applied to checkbox and radio when validationStateOn = self::VALIDATION_STATE_ON_INPUT (dan-szabo, samdark)\n- Bug #18040: Display width specification for integer data types was deprecated in MySQL 8.0.19 (terabytesoftw)\n- Bug #18066: Fix `yii\\db\\Query::create()` wasn't using all info from `withQuery()` (maximkou)\n- Bug #18229: Add a flag to specify SyBase database when used with pdo_dblib (darkdef)\n- Bug #18232: Fail tests pgsql v-10.14, v-11.9, v-12-latest (terabytesoftw)\n- Bug #18233: Add PHP 8 support (samdark)\n- Bug #18239: Fix support of no-extension files for `FileValidator::validateExtension()` (darkdef)\n- Bug #18245: Make resolving DI references inside of arrays in dependencies optional (SamMousa, samdark, hiqsol)\n- Bug #18248: Render only one stack trace on a console for chained exceptions (mikehaertl)\n- Bug #18269: Fix integer safe attribute to work properly in `yii\\base\\Model` (Ladone)\n- Bug: (CVE-2020-15148): Disable unserialization of `yii\\db\\BatchQueryResult` to prevent remote code execution in case application calls unserialize() on user input containing specially crafted string (samdark, russtone)\n- Enh #18196: `yii\\rbac\\DbManager::$checkAccessAssignments` is now `protected` (alex-code)\n- Enh #18213: Do not load fixtures with circular dependencies twice instead of throwing an exception (JesseHines0)\n- Enh #18236: Allow `yii\\filters\\RateLimiter` to accept a closure function for the `$user` property in order to assign values on runtime (nadar)\n\n\n2.0.37 August 07, 2020\n----------------------\n\n- Bug #17147: Fix form attribute validations for empty select inputs (kartik-v)\n- Bug #18156: Fix `yii\\db\\Schema::quoteSimpleTableName()` was checking incorrect quote character (M4tho, samdark)\n- Bug #18170: Fix 2.0.36 regression in passing extra console command arguments to the action (darkdef)\n- Bug #18171: Change case of column names in SQL query for `findConstraints` to fix MySQL 8 compatibility (darkdef)\n- Bug #18182: `yii\\db\\Expression` was not supported as condition in `ActiveRecord::findOne()` and `ActiveRecord::findAll()` (rhertogh)\n- Bug #18189: Fix \"Invalid parameter number\" in `yii\\rbac\\DbManager::removeItem()` (samdark)\n- Bug #18198: Fix saving tables with trigger by outputting inserted data from insert query with usage of temporary table (darkdef)\n- Bug #18203: PDO exception code was not properly passed to `yii\\db\\Exception` (samdark)\n- Bug #18204: Fix 2.0.36 regression in inline validator and JS validation (samdark)\n- Enh #18205: Add `.phpstorm.meta.php` file for better auto-completion in PhpStorm (vjik)\n- Enh #18210: Allow strict comparison for multi-select inputs (alex-code)\n- Enh #18217: Make `yii\\console\\ErrorHandler` render chained exceptions in debug mode (mikehaertl)\n\n\n2.0.36 July 07, 2020\n--------------------\n\n- Bug #13828: Fix retrieving inserted data for a primary key of type uniqueidentifier for SQL Server 2005 or later (darkdef)\n- Bug #17474: Fix retrieving inserted data for a primary key of type trigger for SQL Server 2005 or later (darkdef)\n- Bug #17985: Convert migrationNamespaces to array if needed (darkdef)\n- Bug #18001: Fix getting table metadata for tables `(` in their name (floor12)\n- Bug #18026: Fix `ArrayHelper::getValue()` did not work with `ArrayAccess` objects (mikk150)\n- Bug #18028: Fix division by zero exception in console `Table::calculateRowHeight()` (fourhundredfour)\n- Bug #18031: `HttpBasicAuth` with auth callback now triggers login events same was as other authentication methods (samdark)\n- Bug #18041: Fix RBAC migration for MSSQL (darkdef)\n- Bug #18047: Fix colorization markers output in console `Table` (cheeseq)\n- Bug #18051: Fix missing support for custom validation method in EachValidator (bizley)\n- Bug #18051: Fix using `EachValidator` with custom validation function (bizley)\n- Bug #18081: Fix for PDO_DBLIB/MSSQL. Set flag `ANSI_NULL_DFLT_ON` to ON for current DB connection (darkdef)\n- Bug #18086: Fix accessing public properties of `ArrayAccess` via `ArrayHelper::getValue()` (samdark)\n- Bug #18094: Add support for composite file extension validation (darkdef)\n- Bug #18096: Fix `InlineValidator` with anonymous inline function not working well from `EachValidator` (trombipeti)\n- Bug #18101: Fix behavior of `OUTPUT INSERTED.*` for SQL Server query: \"insert default values\"; correct MSSQL unit tests; turn off profiling echo message in migration test (darkdef)\n- Bug #18105: Fix for old trigger in RBAC migration with/without `prefixTable` (darkdef)\n- Bug #18110: Add quotes to return value of viewName in MSSQL schema. It is `[someView]` now (darkdef)\n- Bug #18127: Resolve DI references inside of arrays in dependencies (hiqsol)\n- Bug #18134: `Expression` as `columnName` should not be quoted in `likeCondition` (darkdef)\n- Bug #18147: Fix parameters binding for MySQL when prepare emulation is off (rskrzypczak)\n- Enh #15202: Add optional param `--silent-exit-on-exception` in `yii\\console\\Controller` (egorrishe)\n- Enh #17722: Add action injection support (SamMousa, samdark, erickskrauch)\n- Enh #18019: Allow jQuery 3.5.0 to be installed (wouter90)\n- Enh #18048: Use `Instance::ensure()` to set `User::$accessChecker` (lav45)\n- Enh #18083: Add `Controller::$request` and `$response` (brandonkelly)\n- Enh #18120: Include the path to the log file into error message if `FileTarget::export` fails (uaoleg)\n- Enh #18151: Add `Mutex::isAcquired()` to check if lock is currently acquired (rhertogh)\n\n\n2.0.35 May 02, 2020\n-------------------\n\n- Bug #16481: Fix RBAC MSSQL trigger (achretien)\n- Bug #17653: Fix `TypeError: pair[1] is undefined` when query param doesn't have `=` sign (baso10)\n- Bug #17810: Fix `EachValidator` crashing with uninitialized typed properties (ricardomm85)\n- Bug #17942: Fix for `DbCache` loop in MySQL `QueryBuilder` (alex-code)\n- Bug #17948: Ignore errors caused by `set_time_limit(0)` (brandonkelly)\n- Bug #17960: Fix unsigned primary key type mapping for SQLite (bizley)\n- Bug #17961: Fix pagination `pageSizeLimit` ignored if set as array with more then 2 elements (tsvetiligo)\n- Bug #17974: Fix `ActiveRelationTrait` compatibility with PHP 7.4 (Ximich)\n- Bug #17975: Fix deleting unused messages with console command if message tables were created manually (auerswald, cebe)\n- Bug #17991: Improve `yii\\db\\Connection` master and slave failover, no connection attempt was made when all servers are marked as unavailable  (cebe)\n- Bug #18000: PK value of Oracle ActiveRecord is missing after save (mankwok)\n- Bug #18010: Allow upper or lower case operators in `InCondition` and `LikeCondition` (alex-code)\n- Bug #18011: Add attribute labels support for `DynamicModel`, fixed `EachValidator` to pass the attribute label to the underlying `DynamicModel` (storch)\n- Enh #17758: `Query::withQuery()` can now be used for CTE (sartor)\n- Enh #17993: Add `yii\\i18n\\Formatter::$currencyDecimalSeparator` to allow setting custom symbols for currency decimal in `IntlNumberFormatter` (XPOHOC269)\n- Enh #18006: Allow `SameSite` cookie pre PHP 7.3 (scottix)\n\n\n2.0.34 March 26, 2020\n---------------------\n\n- Bug #17932: Fix regression in detection of AJAX requests (samdark)\n- Bug #17933: Log warning instead of erroring when URLManager is unable to initialize cache (samdark)\n- Bug #17934: Fix regression in Oracle when binding several string parameters (fen1xpv, samdark)\n- Bug #17935: Reset DB quoted table/column name caches when the connection is closed (brandonkelly)\n\n\n2.0.33 March 24, 2020\n---------------------\n\n- Bug #11945: Fix Schema Builder MySQL column definition order (simialbi)\n- Bug #13749: Fix Yii opens db connection even when hits query cache (shushenghong)\n- Bug #16092: Fix duplicate joins in usage of `joinWith` (germanow)\n- Bug #16145: Fix `Html` helper `checkboxList()`, `radioList()`, `renderSelectOptions()`, `dropDownList()`, `listBox()` methods to work properly with traversable selection (samdark)\n- Bug #16334: Add `\\JsonSerializable` support to `ArrayableTrait` (germanow)\n- Bug #17667: Fix `CREATE INDEX` failure on SQLite when specifying schema (santilin, samdark)\n- Bug #17679: Fix Oracle exception \"ORA-01461: can bind a LONG value only for insert into a LONG column\" when inserting 4k+ string (vinpel, 243083df)\n- Bug #17797: Fix for `activeListInput` options (alex-code)\n- Bug #17798: Avoid creating directory for stream log targets in `FileTarget` (wapmorgan)\n- Bug #17828: Fix `yii\\web\\UploadedFile::saveAs()` failing when error value in `$_FILES` entry is a string (haveyaseen)\n- Bug #17829: `yii\\helpers\\ArrayHelper::filter` now correctly filters data when passing a filter with more than 2 levels (rhertogh)\n- Bug #17843: Fix `yii\\web\\Session::setCookieParamsInternal` checked \"samesite\" parameter incorrectly (schevgeny)\n- Bug #17850: Update to `ReplaceArrayValue` config exception message (alex-code)\n- Bug #17859: Fix loading fixtures under Windows (samdark)\n- Bug #17863: `\\yii\\helpers\\BaseInflector::slug()` doesn't work with an empty string as a replacement argument (haruatari)\n- Bug #17875: Use `move_uploaded_file()` function instead of `copy()` and `unlink()` for saving uploaded files in case of POST request (sup-ham)\n- Bug #17878: Detect CORS AJAX requests without `X-Requested-With` in `Request::getIsAjax()` (dicrtarasov, samdark)\n- Bug #17881: `yii\\db\\Query::queryScalar()` wasn\u2019t reverting the `select`, `orderBy`, `limit`, and `offset` params if an exception occurred (brandonkelly)\n- Bug #17884: Fix 0 values in console Table rendered as empty string (mikehaertl)\n- Bug #17886: Fix `yii\\rest\\Serializer` to serialize arrays (patacca)\n- Bug #17909: Reset DB schema, transaction, and driver name when the connection is closed (brandonkelly)\n- Bug #17920: Fix quoting for `Command::getRawSql` having `Expression` in params (alex-code)\n- Enh #7622: Allow `yii\\data\\ArrayDataProvider` to control the sort flags for `sortModels` through `yii\\data\\Sort::sortFlags` property (askobara)\n- Enh #16721: Use `Instance::ensure()` to initialize `UrlManager::$cache` (rob006)\n- Enh #17827: Add `StringValidator::$strict` that can be turned off to allow any scalars (adhayward, samdark)\n- Enh #17929: Actions can now have bool typed params bound (alex-code)\n\n\n2.0.32 January 21, 2020\n-----------------------\n\n- Bug #12539: `yii\\filters\\ContentNegotiator` now generates 406 'Not Acceptable' instead of 415 'Unsupported Media Type' on content-type negotiation fail (PowerGamer1)\n- Bug #17037: Fix uploaded file saving method when data came from `MultipartFormDataParser` (sup-ham)\n- Bug #17300: Fix class-level event handling with wildcards (Toma91)\n- Bug #17635: Fix varbinary data handling for MSSQL (toatall)\n- Bug #17744: Fix a bug with setting incorrect `defaultValue` to AR column with `CURRENT_TIMESTAMP(x)` as default expression (MySQL >= 5.6.4) (bizley)\n- Bug #17749: Fix logger dispatcher behavior when target crashes in PHP 7.0+ (kamarton)\n- Bug #17755: Fix a bug for web request with `trustedHosts` set to format `['10.0.0.1' => ['X-Forwarded-For']]` (shushenghong)\n- Bug #17760: Fix `JSON::encode()` for `\\DateTimeInterface` under PHP 7.4 (samdark)\n- Bug #17762: PHP 7.4: Remove special condition for converting PHP errors to exceptions if they occurred inside of `__toString()` call (rob006)\n- Bug #17766: Remove previous PJAX event binding before registering new one (samdark)\n- Bug #17767: Make `Formatter::formatNumber` method protected (TheCodeholic)\n- Bug #17771: migrate/fresh was not returning exit code (samdark)\n- Bug #17793: Fix inconsistent handling of null `data` attribute values in `yii\\helpers\\BaseHtml::renderTagAttributes()` (brandonkelly)\n- Bug #17803: Fix `ErrorHandler` unregister and register to only change global state when applicable (SamMousa)\n- Enh #17729: Path alias support was added to `yii\\web\\UploadedFile::saveAs()` (sup-ham)\n- Enh #17792: Add support for `aria` attributes to `yii\\helpers\\BaseHtml::renderTagAttributes()` (brandonkelly)\n\n2.0.31 December 18, 2019\n------------------------\n\n- Bug #17661: Fix query builder incorrect IN/NOT IN condition handling for null values (strychu)\n- Bug #17685: Fix invalid db component in `m180523_151638_rbac_updates_indexes_without_prefix` (rvkulikov)\n- Bug #17687: `Query::indexBy` can now include a table alias (brandonkelly)\n- Bug #17694: Fixed Error Handler to clear registered view tags, scripts, and files when rendering error view through action view (bizley)\n- Bug #17701: Throw `BadRequestHttpException` when request params can\u2019t be bound to `int` and `float` controller action arguments (brandonkelly)\n- Bug #17710: Fix MemCache duration normalization to avoid memcached/system timestamp mismatch (samdark)\n- Bug #17723: Fix `Model::activeAttributes()` to access array offset on value of non-string (samdark)\n- Bug #17723: Fix incorrect decoding of default binary value for PostgreSQL (samdark)\n- Bug #17723: Fix incorrect type-casting of reflection type to string (samdark)\n- Bug #17725: Ensure we do not use external polyfills for pbkdf2() as these may be implemented incorrectly (samdark)\n- Bug #17740: `yii\\helpers\\BaseInflector::slug()` doesn't replace multiple replacement string occurrences to single one (batyrmastyr)\n- Bug #17745: Fix PostgreSQL query builder drops default value when it is empty (xepozz)\n- Enh #17665: Implement RFC 7239 `Forwarded` header parsing in Request (mikk150, kamarton)\n- Enh #17720: DI 3 support for application core components and default object configurations (sup-ham)\n\n\n2.0.30 November 19, 2019\n------------------------\n\n- Bug #17434: IE Ajax redirect fix for non 11.0 versions (kamarton)\n- Bug #17632: Unicode file name was not correctly parsed in multipart forms (AlexRas007, samdark)\n- Bug #17648: Handle empty column arrays in console `Table` widget (alex-code)\n- Bug #17657: Fix migration errors from missing `$schema` in RBAC init file when using MSSQL (PoohOka)\n- Bug #17670: Fix overriding core component class using `__class` (sup-ham, samdark)\n\n\n2.0.29 October 22, 2019\n-----------------------\n\n- Bug #8225: Fixed AJAX validation with checkboxList was only triggered on first select (execut)\n- Bug #17597: PostgreSQL 12 and partitioned tables support (batyrmastyr)\n- Bug #17602: `EmailValidator` with `checkDNS=true` throws `ErrorException` on bad domains on Alpine (batyrmastyr)\n- Bug #17606: Fix error in `AssetBundle` when a disabled bundle with custom init() was still published (onmotion)\n- Bug #17625: Fix boolean `data` attributes from subkeys rendering in `Html::renderTagAttributes()` (brandonkelly)\n- Enh #17607: Added Yii version 3 DI config compatibility (hiqsol)\n\n\n2.0.28 October 08, 2019\n-----------------------\n\n- Bug #17573: `Request::getUserIP()` security fix for the case when `Request::$trustedHost` and `Request::$ipHeaders` are used (kamarton)\n- Bug #17585: Fix `yii\\i18n\\Formatter` including the `@calendar` locale param in `Yii::t()` calls (brandonkelly)\n- Bug #17853: Fix errors in ActiveField to be properly caught when PHP 7 is used (My6UoT9)\n\n\n2.0.27 September 18, 2019\n-------------------------\n\n- Bug #16610: ErrorException trace was cut when using XDebug (Izumi-kun)\n- Bug #16671: Logging in `Connection::open()` was not respecting `Connection::$enableLogging` (samdark)\n- Bug #16855: Ignore console commands that have no actions (alexeevdv)\n- Bug #17434: Fix regular expression illegal character; Repeated fix for Internet Explorer 11 AJAX redirect bug in case of 301 and 302 response codes (`XMLHttpRequest: Network Error 0x800c0008`) (kamarton)\n- Bug #17539: Fixed error when using `batch()` with `indexBy()` with MSSQL (alexkart)\n- Bug #17549: Fix `yii\\db\\ExpressionInterface` not supported in `yii\\db\\conditions\\SimpleConditionBuilder` (razvanphp)\n- Enh #15526: Show valid aliases and options on invalid input in console application (samdark)\n- Enh #16826: `appendTimestamp` support was added to `View` methods `registerCssFile()` and `registerJsFile()` (onmotion)\n\n\n2.0.26 September 03, 2019\n-------------------------\n\n- Bug #16305: Fix `FileValidator` mime-type validation failure because of case sensitivity (kamarton)\n- Bug #16531: Fix error in `Response::sendContent()` when `set_time_limit()` is disabled (brandonkelly)\n- Bug #17355: Fix incorrect sequence of `EVENT_AFTER_REQUEST` when using Pjax (kamarton)\n- Bug #17434: Fix Internet Explorer 11 AJAX redirect bug in case of 301 and 302 response codes (`XMLHttpRequest: Network Error 0x800c0008`) (kamarton)\n- Bug #17449: Ensure `CHECK` statement goes after `COMMENT` in MySQL `QueryBuilder::addCommentOnColumn()` (Manu311)\n- Bug #17504: Fix upsert when `$updateColumns` is `true` but there are no columns to update in the table (alexkart)\n- Bug #17507: Fix regular expression escaping and simplify condition in `Controller::createAction()` (kamarton)\n- Bug #17511: Fix IPv6 subnets matching in `IpHelper::inRange()` (kamarton)\n- Bug #17522: `DbManager::isEmptyUserId()` is now protected (samdark)\n\n\n2.0.25 August 13, 2019\n----------------------\n\n- Bug #15779: If directory path is passed to `FileHelper::unlink()` and directory has files it will not delete files in this directory on Windows now (alexkart)\n- Bug #17223: Fixed detaching a behavior event when it is a Closure instance (GHopperMSK, rob006)\n- Bug #17473: Fixed `SimpleConditionBuilder::build()` when column is not a string (alexkart)\n- Bug #17485: Reverted #17477 (samdark)\n- Bug #17486: Fixed error when using `batch()` without `$db` parameter with MSSQL (alexkart)\n\n\n2.0.24 July 30, 2019\n--------------------\n\n- Bug #10020: Fixed quoting of column names with dots in MSSQL (alexkart)\n- Bug #16796: Fixed addition and removal of table and column comments in MSSQL (sdlins)\n- Bug #17219: Fixed quoting of table names with spaces in MSSQL (alexkart)\n- Bug #17424: Subdomain support for `User::loginRequired` (alex-code)\n- Bug #17437: Fixed generating namespaced migrations (bizley)\n- Bug #17449: Fixed order of SQL column build syntax for MySQL migration (choken)\n- Bug #17457: Fixed `phpTypecast()` for MSSQL (alexkart)\n- Bug #17469: Fixed updating `Yii` logger instance when setting new logger via configuration (samdark)\n\n\n2.0.23 July 16, 2019\n--------------------\n\n- Bug #10023: Fixed MSSQL \"There are no more rows in the active result set\" exception when using `each()` and `batch()` (alexkart)\n- Bug #17395: Fixed issues with actions that contain underscores in their names (alexkart)\n- Bug #17413, #17418, #17426, #17431: Fixed MSSQL tests (alexkart)\n- Bug #17420: Fixed loading of column default values for MSSQL (alexkart)\n- Bug #17435: Fixed `i18n_init` migration for MSSQL (alexkart)\n\n\n2.0.22 July 02, 2019\n--------------------\n\n- Bug #16394: Fixed issues in `migrate/create` when specifying default values with colons and adding multiple columns (alexkart)\n- Bug #17057: Fixed issues with table names that contain special characters or keywords in MSSQL (alexkart)\n- Bug #17325: Fixed \"Cannot drop view\" for MySQL while `migrate/fresh` (alexkart)\n- Bug #17341: Re-added fix for error from yii.activeForm.js in strict mode (mikehaertl)\n- Bug #17384: Fixed SQL error when passing `DISTINCT ON` queries (brandonkelly)\n- Bug #17389: Fixed `UniqueValidator` to work with Active Record having `joinWith()` in its `find()` (garthpmurray)\n- Enh #17382: Added `\\yii\\validators\\DateValidator::$strictDateFormat` to enable strict validation (alexkart)\n- Enh #17396: Added 'invoked by controller' to the debug log message when `\\yii\\base\\Action` is used (alexkart)\n\n\n2.0.21 June 18, 2019\n--------------------\n\n- Bug #16565: Added missing parts of the context message in `\\yii\\log\\Target::collect` (alexkart)\n- Bug #17070: Striped invalid character from fallback file name in `Content-Disposition` header when using `\\yii\\web\\Response::sendFile` (alexkart)\n- Bug #17332: Trigger 'change' for checkboxes in GridView (andrii-borysov-me)\n- Bug #17341: Fixed error from yii.activeForm.js in strict mode (mikehaertl)\n- Bug #17341: Allowed callable objects to be set to `\\yii\\filters\\AccessRule::$roleParams` (alexkart)\n- Bug #17356: MSSQL Schema was not detecting string field size (ricarnevale, sdlins)\n- Enh #17344: Improved performance of `yii\\db\\Connection::addSelect()` (brandonkelly)\n- Enh #17345: Improved performance of `yii\\db\\Connection::quoteColumnName()` (brandonkelly)\n- Enh #17348: Improved performance of `yii\\db\\Connection::quoteTableName()` (brandonkelly)\n- Enh #17353: Added `sameSite` support for `yii\\web\\Cookie` and `yii\\web\\Session::cookieParams` (rhertogh)\n\n\n2.0.20 June 04, 2019\n--------------------\n\n- Bug #16509: Fixed console command help text wordwrap for multi-byte strings (alexkart)\n- Bug #17299: Fixed adding of input error class in `\\yii\\widgets\\ActiveField::widget` (alexkart)\n- Bug #17328: Added mime aliases for BMP and SVG files (cmoeke)\n- Bug #17336: Fixed wildcard matching in Event::hasHandlers() (samdark)\n- Bug #12080: Fixed afterValidate triggering when any validation occurs (czzplnm)\n\n\n2.0.19 May 21, 2019\n-------------------\n\n- Bug #12077, #12135, #17263: Fixed PostgreSQL version of `alterColumn()` to accept properly `ColumnSchemaBuilder` definition of column (bizley)\n- Bug #16918: Console Table widget variables visibility was changed to protected to allow extending it (samdark)\n- Bug #17233: Fixed bug with integer model attribute names in Validator class (nadar)\n- Bug #17306: Added \".mjs\" extensions to mimetypes meta (samdark)\n- Bug #17313: Support jQuery 3.4 (samdark)\n\n\n2.0.18 April 23, 2019\n---------------------\n\n- Bug #16589: Fixed not using `defaultValue` in `BlameableBehavior` for console app (evil1)\n- Bug #16820: `yii\\filters\\Cors::prepareHeaders()` now accepts Access-Control-Allow-Headers in preflight response (georgezim85)\n- Bug #17220: Fixed error when using non-InputWidget in active form field (s1lver)\n- Bug #17235: `yii\\helpers\\FileHelper::normalizePath()` now accepts stream wrappers (razvanphp)\n- Bug #17268: Fixed Formatter didn't take power into account (samdark)\n\n\n2.0.17 March 22, 2019\n---------------------\n\n- Bug #9438, #13740, #15037: Handle DB session callback custom fields before session closed (lubosdz)\n- Bug #16158: Fix multiple select validation was trigged on other fields blur event (GHopperMSK)\n- Bug #16335: Fixed in `yii\\filters\\AccessRule::matchIP()` user IP validation with netmask in rule (omentes)\n- Bug #16681: `ActiveField::inputOptions` were not used during some widgets rendering (GHopperMSK)\n- Bug #17083: Fixed `yii\\validators\\EmailValidator::$checkDNS` tells that every domain is correct on alpine linux (mikk150)\n- Bug #17124: Fixed ErrorException when run `./yii fixture/unload` without arguments (ricpelo)\n- Bug #17127: `yii\\db\\ActiveRecord::findOne()` now accepts table aliases (albertborsos)\n- Bug #17133: Fixed aliases rendering during help generation for a console command (GHopperMSK)\n- Bug #17152: Fixed error page when using traceline option (asamats)\n- Bug #17156: Fixes PHP 7.2 warning when a data provider has no data as a parameter for a GridView (evilito)\n- Bug #17180: Do not populate `yii\\web\\Response::$response` when response code is 204 (mikk150)\n- Bug #17185: Fixed `AssetManager` timestamp appending when a file is published manually (GHopperMSK)\n- Bug #17215: Improved security for servers running PHP 7.0.0+ (brandonkelly)\n\n\n2.0.16.1 February 28, 2019\n--------------------------\n\n- Bug #17089: Fixed caching of related records when `via()` using with callable (rugabarbo)\n- Bug #17094: Fixed response on 204 status. Now it is empty (GHopperMSK)\n- Bug #17098: Fixed message/extract when using message params returned from method calls (rugabarbo)\n- Bug #17150: Fixed `yii\\helpers\\BaseInflector::camel2words()` splitting `ALLCAPS` words on each letter (brandonkelly)\n- Bug #17093: Fixed regression in `DataProvider::totalCount` (samdark)\n\n\n2.0.16 January 30, 2019\n-----------------------\n\n- Bug #5341: HasMany via two relations (shirase, cebe)\n- Bug #10843: Additional hidden input rendered by `yii\\helpers\\BaseHtml` methods inherits `disabled` HTML option if provided and set to `true` (bizley)\n- Bug #11960: Fixed `checked` option ignore in `yii\\helpers\\BaseHtml::checkbox()` (misantron)\n- Bug #13932: Fix number validator attributes comparison (uaoleg, s1lver)\n- Bug #13977: Skip validation if file input does not exist (RobinKamps, s1lver)\n- Bug #14039, #16636: Fixed validation for disabled inputs (s1lver, omzy83)\n- Bug #14230: Fixed `itemsOptions` ignored in `checkBoxList` and `radioList` (s1lver)\n- Bug #14230: Fixed `itemsOptions` ignored in `checkBoxList` (s1lver)\n- Bug #14368: Added `role` attribute for active radio list (s1lver)\n- Bug #14636: Views can now use relative paths even when using themed views (sammousa)\n- Bug #14660: Fixed `yii\\caching\\DbCache` concurrency issue when set values with the same key (rugabarbo)\n- Bug #14759: Fixed `yii\\web\\JsonResponseFormatter` output for `null` data (misantron)\n- Bug #14901: Fixed trim validation for radio/checkbox button (s1lver)\n- Bug #14950: Fixed `yii\\i18n\\Formatter` methods `asInteger`, `asDecimal`, `asPercent`, and `asCurrency` outputs for very big numbers (bizley)\n- Bug #15117: Fixed `yii\\db\\Schema::getTableMetadata` cache refreshing (boboldehampsink)\n- Bug #15167: Fixed loading of default value `current_timestamp()` for MariaDB >= 10.2.3 (rugabarbo, bloodrain777, Skinka)\n- Bug #15204: `yii\\helpers\\BaseInflector::slug()` is not removing substrings matching provided replacement from given string anymore (bizley)\n- Bug #15286: Fixed incorrect formatting of time with timezone information (rugabarbo)\n- Bug #15482: AR::find()->with() missing data when using string identifiers for relations (rugabarbo)\n- Bug #15528: Fix timestamp formatting to always use decimal notation in `yii\\log\\Target::getTime()` (rob006)\n- Bug #15548: Fixed index names collision in RBAC (gonimar)\n- Bug #15683: Fixed file as array uploading in MultipartFormDataParser (Groonya)\n- Bug #15791: Added a warning when the form names conflict (s1lver, rustamwin)\n- Bug #15798: Fixed render `yii\\grid\\RadioButtonColumn::$content` and `yii\\grid\\CheckboxColumn::$content` (lesha724)\n- Bug #15802: Fixed exception class in yii\\di\\Container (vuchastyi, developeruz)\n- Bug #15826: Fixed JavaScript compareValidator in `yii.validation.js` for attributes not in rules (mgrechanik)\n- Bug #15850: check basePath is writable on publish in AssetManager (Groonya)\n- Bug #15875: afterSave for new models flushes unsaved data (shirase)\n- Bug #15876: `yii\\db\\ActiveQuery::viaTable()` now throws `InvalidConfigException`, if query is not prepared correctly (silverfire)\n- Bug #15889: Fixed override `yii\\helpers\\Html::setActivePlaceholder` (lesha724)\n- Bug #15931: `yii\\db\\ActiveRecord::findOne()` now accepts quoted table and column names using curly and square braces respectively (silverfire)\n- Bug #15988: Fixed bash completion (alekciy)\n- Bug #16006: Handle case when `X-Forwarded-Host` header have multiple hosts separated with a comma (pgaultier)\n- Bug #16010: Fixed `yii\\filters\\ContentNegotiator` behavior when GET parameters contain an array (rugabarbo)\n- Bug #16022: Fix UniqueValidator for PostgreSQL. Checks the uniqueness of keys in `jsonb` field (lav45)\n- Bug #16028: Fix serialization of complex cache keys that contain non-UTF sequences (rugabarbo)\n- Bug #16039: Fixed implicit conversion from `char` to `varbinnary` in MSSQL (vsivsivsi)\n- Bug #16068: Fixed `yii\\web\\CookieCollection::has` when an expiration param is set to 'until the browser is closed' (OndrejVasicek)\n- Bug #16073: Fixed regression in Oracle `IN` condition builder for more than 1000 items (cebe)\n- Bug #16081: Fixed composite IN using just one column (rugabarbo)\n- Bug #16091: Make `yii\\test\\InitDbFixture` work with non-SQL DBMS (cebe)\n- Bug #16101: Fixed Error Handler to clear registered meta tags, link tags, css/js scripts and files in error view (bizley)\n- Bug #16104: Fixed `yii\\db\\pgsql\\QueryBuilder::dropIndex()` to prepend index name with schema name (wapmorgan)\n- Bug #16120: FileCache: rebuild cache file before touch when different file owner (Slamdunk)\n- Bug #16183: Fixed when `yii\\helpers\\BaseFileHelper` sometimes returned wrong value (samdark, SilverFire, OndrejVasicek)\n- Bug #16184: Fixed `yii\\base\\Widget` to access `stack` property with `self` instead of `static` (yanggs07)\n- Bug #16193: Fixed `yii\\filters\\Cors` to not reflect origin header value when configured to wildcard origins (Jianjun Chen)\n- Bug #16217: Fixed `yii\\console\\controllers\\HelpController` to work well in Windows environment (samdark)\n- Bug #16245: Fixed `__isset()` in `BaseActiveRecord` not catching errors (sammousa)\n- Bug #16252: Fixed `yii\\base\\DynamicModel` for checking exist property (vuongxuongminh)\n- Bug #16253: Fixed empty checkboxlist validation (GHopperMSK)\n- Bug #16266: Fixed `yii\\helpers\\BaseStringHelper` where explode would not allow 0 as trim string (Thoulah)\n- Bug #16277: Fixed `yii\\db\\Query::from()` to respect `yii\\db\\ExpressionInterface` (noname007)\n- Bug #16278: Fixed drop existing views when console `migrate/fresh` command runs (developeruz)\n- Bug #16280: Fixed `yii\\base\\Model::getActiveValidators()` to return correct validators for attribute on scenario (paweljankowiak06)\n- Bug #16292: Fixed misconfigured CORS filter exception throwing. Now it throws `InvalidConfigException` in Debug mode (khvalov)\n- Bug #16301: Fixed `yii\\web\\User::setIdentity()` to clear access check cache while setting identity object to `null` (Izumi-kun)\n- Bug #16322: Fixed strings were not were not compared using timing attack resistant approach while CSRF token validation (samdark, Felix Wiedemann)\n- Bug #16331: Fixed console table without headers (rhertogh)\n- Bug #16377: Fixed `yii\\base\\Event:off()` undefined index error when event handler does not match (razvanphp)\n- Bug #16424: `yii\\db\\Transaction::begin()` throws now `NotSupportedException` for nested transaction and DBMS not supporting savepoints (bizley)\n- Bug #16425: Check for additional values for disabled confirm dialog (Alex-Code, s1lver)\n- Bug #16469: Allow cache to be specified as interface and to be configured in DI container (alexeevdv)\n- Bug #16490: Fix schema on rbac init (marcelodeandrade)\n- Bug #16514: Fixed `yii\\di\\Container::resolveCallableDependencies` to support callable object (wi1dcard)\n- Bug #16527: Fixed return content for `\\yii\\widgets\\ActiveForm::run()` (carono)\n- Bug #16552: Added check in `yii\\db\\ActiveQuery::prepare()` to prevent populating already populated relation when another relation is requested with `via` (drlibra)\n- Bug #16558: Added cloning `yii\\data\\ActiveDataProvider::query` property when ActiveDataProvider object is cloned (mgrechanik)\n- Bug #16580: Delete unused php message files in MessageController if `$removeUnused` option is on (Groonya)\n- Bug #16648: Html::strtolower() was corrupting UTF-8 strings (Kolyunya)\n- Bug #16657: Ensure widgets after run event result contains the result of the rendered widget (AdeAttwood)\n- Bug #16666: Fixed `yii\\helpers\\ArrayHelper::merge` (rustamwin)\n- Bug #16680: Fixed ActiveField 'text' input with maxlength (s1lver)\n- Bug #16687: Add missing translations for `nl-NL` durations used in `yii\\i18n\\Formatter::asDuration()` (alexeevdv)\n- Bug #16716: The ability to filter by pressing the Enter key when the option `$filterOnFocusOut` off (s1lver)\n- Bug #16748: Fixed params when normalize data (marcelodeandrade)\n- Bug #16752: Fix rotating files under Windows (samdark, nadirvishun)\n- Bug #16766: `yii\\filters\\ContentNegotiator` was not setting `Vary` header to inform cache recipients (koteq, cebe, samdark)\n- Bug #16822: Create config dir recursively in message/config (Groonya)\n- Bug #16828: `yii\\console\\controllers\\MessageController::translator` recognized object' methods and functions calls as identical sets of tokens (erickskrauch)\n- Bug #16836: Fix `yii\\mutex\\MysqlMutex` to handle locks with names longer than 64 characters (rob006)\n- Bug #16838: `yii\\mutex\\Mutex::acquire()` no longer returns `true` if lock is already acquired by the same component in the same process (rob006)\n- Bug #16858: Allow `\\yii\\console\\widgets\\Table` to render empty table when headers provided but no columns (damiandziaduch)\n- Bug #16891: Fixed Pagination::totalCount initialized incorrectly (taobig)\n- Bug #16897: Fixed `yii\\db\\sqlite\\Schema` missing primary key constraint detection in case of `INTEGER PRIMARY KEY` (bizley)\n- Bug #16903: Fixed 'yii\\validators\\NumberValidator' method 'isNotNumber' returns false for true/false value (annechko)\n- Bug #16910: Fix messages sorting on extract (Groonya)\n- Bug #16945: Fixed RBAC DbManager ruleName fetching on the case of PDO::ATTR_ORACLE_NULLS => PDO::NULL_TO_STRING (razonyang)\n- Bug #16959: Fixed typo in if condition inside `yii\\web\\DbSession::typecastFields()` that caused problems with session overwriting (silverfire)\n- Bug #16966: Fix ArrayExpression support in related tables (GHopperMSK)\n- Bug #16969: Fix `yii\\filters\\PageCache` incorrectly storing empty data in some cases (sammousa)\n- Bug #16974: Regular Expression Validator to include support for 'u' (UTF-8) modifier (Dzhuneyt)\n- Bug #16991: Removed usage of `utf8_encode()` from `Request::resolvePathInfo()` (GHopperMSK)\n- Bug #17021: Fix to do not remove existing message category files in a subfolder (albertborsos)\n- Bug: Fixed bad instanceof check in `yii\\db\\Schema::getTableMetadata()` (samdark)\n- Bug: (CVE-2018-14578): Fixed CSRF token check bypassing in `\\yii\\web\\Request::getMethod()` (silverfire)\n- Bug: (CVE-2018-19454): Fixed excess logging of sensitive information in `\\yii\\log\\Target` (silverfire)\n- Enh #9133: Added `yii\\behaviors\\OptimisticLockBehavior` (tunecino)\n- Enh #14289: Added `yii\\db\\Command::executeResetSequence()` to work with Oracle (CedricYii)\n- Enh #14367: In `yii\\db\\mysql\\QueryBuilder` added support fractional seconds for time types for MySQL >= 5.6.4 (konstantin-vl)\n- Enh #16151: `ActiveQuery::getTableNameAndAlias()` is now protected (s1lver)\n- Enh #16151: Change of scope for method `getTableNameAndAlias()` (s1lver)\n- Enh #16191: Enhanced `yii\\helpers\\Inflector` to work correctly with UTF-8 (silverfire)\n- Enh #16365: Added $filterOnFocusOut option for GridView (s1lver)\n- Enh #16522: Allow jQuery 3.3 (Slamdunk)\n- Enh #16603: Added `yii\\mutex\\FileMutex::$isWindows` for Windows file shares on Unix guest machines (brandonkelly)\n- Enh #16839: Increase frequency of lock tries for `yii\\mutex\\FileMutex::acquireLock()` when $timeout is provided (rob006)\n- Enh #16839: Add support for `$timeout` in  `yii\\mutex\\PgsqlMutex::acquire()` (rob006)\n- Enh: `yii\\helpers\\UnsetArrayValue`, `yii\\helpers\\ReplaceArrayValue` object now can be restored after serialization using `var_export()` function (silvefire)\n- Chg #16192: `yii\\db\\Command::logQuery()` is now protected, extracted `getCacheKey()` from `queryInternal()` (drlibra)\n- Chg #16941: Set `yii\\console\\controllers\\MigrateController::useTablePrefix` to true as default value (GHopperMSK)\n\n\n2.0.15.1 March 21, 2018\n-----------------------\n\n- Bug #15931: `yii\\db\\ActiveRecord::findOne()` now accepts column names prefixed with table name (cebe)\n\n\n2.0.15 March 20, 2018\n---------------------\n\n- Bug #15688: (CVE-2018-7269): Fixed possible SQL injection through `yii\\db\\ActiveRecord::findOne()`, `::findAll()` (analitic1983, silverfire, cebe)\n- Bug #15878: Fixed migration with a comment containing an apostrophe (MarcoMoreno)\n\n\n2.0.14.2 March 13, 2018\n-----------------------\n\n- Bug #15776: Fixed slow MySQL constraints retrieving (MartijnHols, berosoboy, sergeymakinen)\n- Bug #15783: Regenerate CSRF token only when logging in directly (samdark)\n- Bug #15792: Added missing `yii\\db\\QueryBuilder::conditionClasses` setter (silverfire)\n- Bug #15801: Fixed `has-error` CSS class assignment in `yii\\widgets\\ActiveField` when attribute name is prefixed with tabular index (FabrizioCaldarelli)\n- Bug #15804: Fixed `null` values handling for PostgresSQL arrays (silverfire)\n- Bug #15817: Fixed support of deprecated array format type casting in `yii\\db\\Command::bindValues()` (silverfire)\n- Bug #15822: Fixed `yii\\base\\Component::off()` not to throw an exception when handler does not exist (silverfire)\n- Bug #15829: Fixed JSONB support in PostgreSQL 9.4 (silverfire)\n- Bug #15836: Fixed nesting of `yii\\db\\ArrayExpression`, `yii\\db\\JsonExpression` (silverfire)\n- Bug #15839: Fixed `yii\\db\\mysql\\JsonExpressionBuilder` to cast JSON explicitly (silverfire)\n- Bug #15840: Fixed regression on load fixture data file (leandrogehlen)\n- Bug #15858: Fixed `Undefined offset` error calling `yii\\helpers\\Html::errorSummary()` with the same error messages for different model attributes (FabrizioCaldarelli, silverfire)\n- Bug #15863: Fixed saving of `null` attribute value for JSON and Array columns in MySQL and PostgreSQL (silverfire)\n- Bug: Fixed encoding of empty `yii\\db\\ArrayExpression` for PostgreSQL (silverfire)\n- Bug: Fixed table schema retrieving for PostgreSQL when the table name was wrapped in quotes (silverfire)\n\n\n2.0.14.1 February 24, 2018\n--------------------------\n\n- Bug #15318: Fixed `session_name(): Cannot change session name when session is active` errors (bscheshirwork, samdark)\n- Bug #15678: Fixed `resetForm()` method in `yii.activeForm.js` which used an undefined variable (Izumi-kun)\n- Bug #15692: Fix `yii\\validators\\ExistValidator` to respect filter when `targetRelation` is used (developeruz)\n- Bug #15693: Fixed `yii\\filters\\auth\\HttpHeaderAuth` to work correctly when pattern is set but was not matched (bboure)\n- Bug #15696: Fix magic getter for `yii\\db\\ActiveRecord` (developeruz)\n- Bug #15707: Fixed JSON retrieving from MySQL (silverfire)\n- Bug #15708: Fixed `yii\\db\\Command::upsert()` for Cubrid/MSSQL/Oracle (sergeymakinen)\n- Bug #15724: Changed shortcut in `yii\\console\\controllers\\BaseMigrateController` for `comment` option from `-c` to `-C` due to conflict (Izumi-kun)\n- Bug #15726: Fix ExistValidator is broken for NOSQL (developeruz)\n- Bug #15728, #15731: Fixed BC break in `Query::select()` method (silverfire)\n- Bug #15742: Updated `yii\\helpers\\BaseHtml::setActivePlaceholder()` to be consistent with `activeLabel()` (edwards-sj)\n- Enh #15716: Added `disableJsonSupport` to MySQL and PgSQL `ColumnSchema`, `disableArraySupport` and `deserializeArrayColumnToArrayExpression` to PgSQL `ColumnSchema` (silverfire)\n- Enh #15716: Implemented `\\Traversable` in `yii\\db\\ArrayExpression` (silverfire)\n- Enh #15760: Added `ArrayAccess` support as validated value in `yii\\validators\\EachValidator` (silverfire)\n\n\n2.0.14 February 18, 2018\n------------------------\n\n- Bug #8983: Only truncate the original log file for rotation (matthewyang, developeruz)\n- Bug #9342: Fixed `yii\\db\\ActiveQueryTrait` to apply `indexBy` after relations population in order to prevent excess queries (sammousa, silverfire)\n- Bug #11401: Fixed `yii\\web\\DbSession` concurrency issues when writing and regenerating IDs (samdark, andreasanta, cebe)\n- Bug #13034: Fixed `normalizePath` for windows network shares that start with two backslashes (developeruz)\n- Bug #14135: Fixed `yii\\web\\Request::getBodyParam()` crashes on object type body params (klimov-paul)\n- Bug #14157: Add support for loading default value `CURRENT_TIMESTAMP` of MySQL `datetime` field (rossoneri)\n- Bug #14276: Fixed I18N format with dotted parameters (developeruz)\n- Bug #14296: Fixed log targets to throw exception in case log can not be properly exported (bizley)\n- Bug #14484: Fixed `yii\\validators\\UniqueValidator` for target classes with a default scope (laszlovl, developeruz)\n- Bug #14604: Fixed `yii\\validators\\CompareValidator` `compareAttribute` does not work if `compareAttribute` form ID has been changed (mikk150)\n- Bug #14711: (CVE-2018-6010): Fixed `yii\\web\\ErrorHandler` displaying exception message in non-debug mode (samdark)\n- Bug #14811: Fixed `yii\\filters\\HttpCache` to work with PHP 7.2 (samdark)\n- Bug #14859: Fixed OCI DB `defaultSchema` failure when `masterConfig` is used (lovezhl456)\n- Bug #14903: Fixed route with extra dashes is executed controller while it should not (developeruz)\n- Bug #14916: Fixed `yii\\db\\Query::each()` iterator key starts from 1 instead of 0 (Vovan-VE)\n- Bug #14980: Fix looping in `yii\\i18n\\MessageFormatter` tokenize pattern if pattern is invalid (uaoleg, developeruz)\n- Bug #15031: Fixed incorrect string type length detection for OCI DB schema (Murolike)\n- Bug #15046: Throw an `yii\\web\\HeadersAlreadySentException` if headers were sent before web response (dmirogin)\n- Bug #15122: Fixed `yii\\db\\Command::getRawSql()` to properly replace expressions (hiscaler, samdark)\n- Bug #15142: Fixed array params replacing in `yii\\helpers\\BaseUrl::current()` (IceJOKER)\n- Bug #15169: Fixed translating a string when NULL parameter is passed (developeruz)\n- Bug #15194: Fixed `yii\\db\\QueryBuilder::insert()` to preserve passed params when building a `INSERT INTO ... SELECT` query for MSSQL, PostgreSQL and SQLite (sergeymakinen)\n- Bug #15229: Fixed `yii\\console\\widgets\\Table` default value for `getScreenWidth()`, when `Console::getScreenSize()` can't determine screen size (webleaf)\n- Bug #15234: Fixed `\\yii\\widgets\\LinkPager` removed `tag` from `disabledListItemSubTagOptions` (SDKiller)\n- Bug #15249: Controllers in subdirectories were not visible in commands list (IceJOKER)\n- Bug #15270: Resolved potential race conditions when writing generated php-files (kalessil)\n- Bug #15300: Fixed \"Cannot read property 'style' of undefined\" error at the error screen (vitorarantes)\n- Bug #15301: Fixed `ArrayHelper::filter()` to work properly with `0` in values (hhniao)\n- Bug #15302: Fixed `yii\\caching\\DbCache` so that `getValues` now behaves the same as `getValue` with regards to streams (edwards-sj)\n- Bug #15317: Regenerate CSRF token if an empty value is given (sammousa)\n- Bug #15320: Fixed special role checks in `yii\\filters\\AccessRule::matchRole()` (Izumi-kun)\n- Bug #15322: Fixed PHP 7.2 compatibility of `FileHelper::getExtensionsByMimeType()` (samdark)\n- Bug #15353: Remove side effect of ActiveQuery::getTablesUsedInFrom() introduced in 2.0.13 (terales)\n- Bug #15355: Fixed `yii\\db\\Query::from()` does not work with `yii\\db\\Expression` (vladis84, silverfire, samdark)\n- Bug #15356: Fixed multiple bugs in `yii\\db\\Query::getTablesUsedInFrom()` (vladis84, samdark)\n- Bug #15380: `FormatConverter::convertDateIcuToPhp()` now converts `a` ICU symbols to `A` (brandonkelly)\n- Bug #15407: Fixed rendering rows with associative arrays in `yii\\console\\widgets\\Table` (dmrogin)\n- Bug #15432: Fixed wrong value being set in `yii\\filters\\RateLimiter::checkRateLimit()` resulting in wrong `X-Rate-Limit-Reset` header value (bizley)\n- Bug #15440: Fixed `yii\\behaviors\\AttributeTypecastBehavior::$attributeTypes` auto-detection fails for rule, which specify attribute with '!' prefix (klimov-paul)\n- Bug #15462: Fixed `accessChecker` configuration error (developeruz)\n- Bug #15494: Fixed missing `WWW-Authenticate` header (developeruz)\n- Bug #15522: Fixed `yii\\db\\ActiveRecord::refresh()` method does not use an alias in the condition (vladis84)\n- Bug #15523: `yii\\web\\Session` settings could now be configured after session is started (StalkAlex, rob006, daniel1302, samdark)\n- Bug #15536: Fixed `yii\\widgets\\ActiveForm::init()` for call `parent::init()` (panchenkodv)\n- Bug #15540: Fixed `yii\\db\\ActiveRecord::with()` unable to use relation defined via attached behavior in case `asArray` is enabled (klimov-paul)\n- Bug #15553: Fixed `yii\\validators\\NumberValidator` incorrectly validate resource (developeruz)\n- Bug #15621: Fixed `yii\\web\\User::getIdentity()` returning `null` if an exception had been thrown when it was called previously (brandonkelly)\n- Bug #15628: Fixed `yii\\validators\\DateValidator` to respect time when the `format` property is set to UNIX Epoch format (silverfire, gayHacker)\n- Bug #15644: Avoid wrong default selection on a dropdown, checkbox list, and radio list, when a option has a key equals to zero (berosoboy)\n- Bug #15658: Fixed `yii\\filters\\auth\\HttpBasicAuth` not to switch identity, when user is already authenticated and identity does not get changed (silverfire)\n- Bug #15662: Fixed `yii\\log\\FileTarget` not to create log directory during init process (alexeevdv)\n- Enh #3087: Added `yii\\helpers\\BaseHtml::error()` \"errorSource\" option to be able to customize errors display (yanggs07, developeruz, silverfire)\n- Enh #3250: Added support for events partial wildcard matching (klimov-paul)\n- Enh #5515: Added default value for `yii\\behaviors\\BlameableBehavior` for cases when the user is guest (dmirogin)\n- Enh #6844: `yii\\base\\ArrayableTrait::toArray()` now allows recursive `$fields` and `$expand` (bboure)\n- Enh #7640: Implemented custom data types support. Added JSON support for MySQL and PostgreSQL, array support for PostgreSQL (silverfire, cebe)\n- Enh #7988: Added `\\yii\\helpers\\Console::errorSummary()` and `\\yii\\helpers\\Json::errorSummary()` (developeruz)\n- Enh #7996: Short syntax for verb in GroupUrlRule (schojniak, developeruz)\n- Enh #8092: ExistValidator for relations (developeruz)\n- Enh #8527: Added `yii\\i18n\\Locale` component having `getCurrencySymbol()` method (amarox, samdark)\n- Enh #8752: Allow specify `$attributeNames` as a string for `yii\\base\\Model` `validate()` method (developeruz)\n- Enh #9137: Added `Access-Control-Allow-Method` header for the OPTIONS request (developeruz)\n- Enh #9253: Allow `variations` to be a string for `yii\\filters\\PageCache` and `yii\\widgets\\FragmentCache` (schojniak, developeruz)\n- Enh #9771: Assign hidden input with its own set of HTML options via `$hiddenOptions` in activeFileInput `$options` (HanafiAhmat)\n- Enh #10186: Use native `hash_equals` in `yii\\base\\Security::compareString()` if available, throw exception if non-strings are compared (aotd1, samdark)\n- Enh #11611: Added `BetweenColumnsCondition` to build SQL condition like `value BETWEEN col1 and col2` (silverfire)\n- Enh #12623: Added `yii\\helpers\\StringHelper::matchWildcard()` replacing usage of `fnmatch()`, which may be unreliable (klimov-paul)\n- Enh #13019: Support JSON in SchemaBuilderTrait (zhukovra, undefinedor)\n- Enh #13425: Added caching of dynamically added URL rules with `yii\\web\\UrlManager::addRules()` (scriptcube, silverfire)\n- Enh #13465: Added `yii\\helpers\\FileHelper::findDirectories()` method (ArsSirek, developeruz)\n- Enh #13618: Active Record now resets related models after corresponding attributes updates (Kolyunya, rob006)\n- Enh #13679: Added `yii\\behaviors\\CacheableWidgetBehavior` (Kolyunya)\n- Enh #13814: MySQL unique index names can now contain spaces (df2)\n- Enh #13879: Added upsert support for `yii\\db\\QueryBuilder`, `yii\\db\\Command`, and `yii\\db\\Migration` (sergeymakinen)\n- Enh #13919: Added option to add comment for created table to migration console command (mixartemev, developeruz)\n- Enh #13996: Added `yii\\web\\View::registerJsVar()` method that allows registering JavaScript variables (Eseperio, samdark)\n- Enh #14043: Added `yii\\helpers\\IpHelper` (silverfire, cebe)\n- Enh #14254: add an option to specify whether validator is forced to always use master DB for `yii\\validators\\UniqueValidator` and `yii\\validators\\ExistValidator` (rossoneri, samdark)\n- Enh #14355: Added ability to pass an empty array as a parameter in console command (developeruz)\n- Enh #14488: Added support for X-Forwarded-Host to `yii\\web\\Request`, fixed `getServerPort()` usage (si294r, samdark)\n- Enh #14538: Added `yii\\behaviors\\AttributeTypecastBehavior::typecastAfterSave` property (littlefuntik, silverfire)\n- Enh #14546: Added `dataDirectory` property into `BaseActiveFixture` (leandrogehlen)\n- Enh #14568: Refactored migration templates to use `safeUp()` and `safeDown()` methods (Kolyunya)\n- Enh #14638: Added `yii\\db\\SchemaBuilderTrait::tinyInteger()` (rob006)\n- Enh #14643: Added `yii\\web\\ErrorAction::$layout` property to conveniently set layout from error action config (swods, cebe, samdark)\n- Enh #14662: Added support for custom `Content-Type` specification to `yii\\web\\JsonResponseFormatter` (Kolyunya)\n- Enh #14732, #11218, #14810, #10855: It is now possible to pass `yii\\db\\Query` anywhere, where `yii\\db\\Expression` was supported (silverfire)\n- Enh #14806: Added $placeFooterAfterBody option for GridView (terehru)\n- Enh #15024: `yii\\web\\Pjax` widget does not prevent CSS files from sending anymore because they are handled by client-side plugin correctly (onmotion)\n- Enh #15047: `yii\\db\\Query::select()` and `yii\\db\\Query::addSelect()` now check for duplicate column names (wapmorgan)\n- Enh #15076: Improve `yii\\db\\QueryBuilder::buildColumns()` to throw exception on invalid input (hiscaler)\n- Enh #15120: Refactored dynamic caching introducing `DynamicContentAwareInterface` and `DynamicContentAwareTrait` (sergeymakinen)\n- Enh #15135: Automatic completion for help in bash and zsh (Valkeru)\n- Enh #15216: Added `yii\\web\\ErrorHandler::$traceLine` to allow opening file at line clicked in IDE (vladis84)\n- Enh #15219: Added `yii\\filters\\auth\\HttpHeaderAuth` (bboure)\n- Enh #15221: Added support for specifying `--camelCase` console options in `--kebab-case` (brandonkelly)\n- Enh #15221: Added support for the `--<option> <value>` console option syntax (brandonkelly)\n- Enh #15221: Improved the `help/list-action-options` console command output for command options without a description (brandonkelly)\n- Enh #15226: Auto generate placeholder from fields (vladis84)\n- Enh #15272: Removed type attribute from script tag (aleksbelic)\n- Enh #15332: Always check for availability of `openssl_pseudo_random_bytes`, even if LibreSSL is available (sammousa)\n- Enh #15335: Added `FileHelper::unlink()` that works well under all OSes (samdark)\n- Enh #15340: Test CHANGELOG.md for valid format (sammousa)\n- Enh #15347: Add `Instance` support for object property in DI container (kojit2009)\n- Enh #15357: Added multi statement support for `yii\\db\\sqlite\\Command` (sergeymakinen)\n- Enh #15360: Refactored `BaseConsole::updateProgress()` (developeruz)\n- Enh #15398: Added `yii\\db\\Query::cache()` (hubeiwei, silverfire)\n- Enh #15415: Added transaction/retry support for `yii\\db\\Command` (sergeymakinen)\n- Enh #15417: Added `yii\\validators\\FileValidator::$minFiles` (vladis84)\n- Enh #15422: Added default roles dynamic definition support via closure for `yii\\rbac\\BaseManager` (deltacube)\n- Enh #15426: Added abilitiy to create and drop database views (igravity, vladis84)\n- Enh #15476: Added `\\yii\\widgets\\ActiveForm::$validationStateOn` to be able to specify where to add class for invalid fields (samdark)\n- Enh #15496: (CVE-2018-6009): CSRF token is now regenerated on changing identity (samdark, rhertogh)\n- Enh #15595: `yii\\data\\DataFilter` can now handle `lt`,`gt`,`lte` and `gte` on `yii\\validators\\DateValidator` (mikk150)\n- Enh #15661: Added `yii\\db\\ExpressionInterface` support to `yii\\db\\Command::batchInsert()` (silverfire)\n- Enh: Added check to `yii\\base\\Model::formName()` to prevent source path disclosure when form is represented by an anonymous class (silverfire)\n- Chg #15420: Handle OPTIONS request in `yii\\filter\\Cors` so the preflight check isn't passed trough authentication filters (michaelarnauts, leandrogehlen)\n- Chg #15625: `yii\\grid\\DataColumn` boolean filter dropdown list values are now in reversed order (bizley)\n- Chg #15633: Deprecated `yii\\base\\BaseObject::className()` in favor of native PHP syntax `::class`, which does not trigger autoloading (brandonkelly)\n- Chg #15633: Deprecated XCache and Zend data cache support as caching backends (brandonkelly)\n- Chg #15633: Deprecated `yii\\BaseYii::powered()` method (brandonkelly)\n- Chg #15633: Added `yii\\base\\InvalidArgumentException` and deprecated `yii\\base\\InvalidParamException` (brandonkelly)\n- Chg #15633: Added `yii\\BaseYii::debug()` and deprecated `yii\\BaseYii::trace()` (brandonkelly)\n\n\n2.0.13.1 November 14, 2017\n--------------------------\n\n- Bug #15081: Fixed \"Undefined offset: 1\" in log Target (ischenko)\n- Bug #15086: Fixed jQuery onLoad event handling (alexantr)\n- Bug #15108: Fixed `yii\\db\\Schema::getSchemaNames()` for MSSQL and added tests for all DBMSes (sergeymakinen)\n- Bug #15117: Fixed DB schema cache did not honor table prefixes (sergeymakinen)\n\n\n2.0.13 November 03, 2017\n------------------------\n\n- Bug #6226: Fix fatal symlink error during assets publishing in multi threaded environment (dynasource)\n- Bug #6526: Fixed `yii\\db\\Command::batchInsert()` casting of double values correctly independent of the locale (cebe, leammas)\n- Bug #6588: Fixed changing array keys after validation of multiple files in `yii\\validators\\FileValidator` (developeruz)\n- Bug #7890: Allow `migrate/mark` to mark history at the point of the base migration (cebe)\n- Bug #11242: Fixed excess escaping in `yii\\db\\Command::batchInsert()` (silverfire)\n- Bug #11825: User can login by cookie only once when `autoRenewCookie` is set to false (shirase, silverfire)\n- Bug #12860: Fixed possible race conditions in `yii\\mutex\\FileMutex` (kidol)\n- Bug #13258: Fixed `yii\\mutex\\FileMutex::$autoRelease` having no effect due to missing base class initialization (kidol)\n- Bug #13436: Fixed migration for MSSQL DbSession (silverfire)\n- Bug #13564: Fixed `yii\\web\\Request::getAuthUser()`, `getAuthPassword()` to respect `HTTP_AUTHORIZATION` request header (silverfire)\n- Bug #13720: Improve `yii\\helpers\\FormatConverter::convertDatePhpToIcu()` to handle escaped chars correctly (rob006)\n- Bug #13757: Fixed ambiguous column error in `BaseActiveRecord::refresh()` when the query adds a JOIN by default (cebe, ivankff)\n- Bug #13779: Fixed `yii\\db\\ActiveRecord::joinWith()` unable to use relation defined via attached behavior (ElisDN, klimov-paul)\n- Bug #13859: Fixed ambiguous column error in `Query::column()` when `$indexBy` is used with a JOIN (cebe)\n- Bug #13969: Fixed a bug in a `yii\\console\\controllers\\CacheController` when caches defined via a closure were not detected (Kolyunya)\n- Bug #14016: Fixed empty messages marked as unused in PHP and PO sources when extracted with message command when `markUnused` is `false` (samdark)\n- Bug #14129: Fixed console help to properly work with tricky camelcased controller names (samdark, silverfire)\n- Bug #14134: Fixed multiple `validateAttribute()` calls when `scenarios()` returns duplicate attributes (krukru)\n- Bug #14165: Set `_slave` of `Connection` to `false` instead of `null` in `close` method (rossoneri)\n- Bug #14186: Forced validation in `yiiActiveForm` do not trigger `afterValidate` event (arogachev)\n- Bug #14192: Fixed wrong default null value for TIMESTAMP when using PostgreSQL (Tigrov)\n- Bug #14202: Fixed current time in (UTC) `\\Yii::$app->formatter` if time not set (bscheshirwork)\n- Bug #14206: `MySqlMutex`, `PgsqlMutex` and `OracleMutex` now use `useMaster()` to ensure lock is aquired on the same DB server (cebe, ryusoft)\n- Bug #14248: `yii\\console\\controllers\\MessageController` no longer outputs colorized filenames when console does not support text colorization (PowerGamer1)\n- Bug #14264: Fixed a bug where `yii\\log\\Logger::calculateTimings()` was not accepting messages with array tokens (bizley)\n- Bug #14269: Fixed broken error page when calling an undefined method (cebe)\n- Bug #14304: Fixed `yii\\validators\\UniqueValidator` and `yii\\validators\\ExistValidator` to skip prefixes in case expressions are used (samdark)\n- Bug #14307: Fixed PHP warning when `yii\\console\\UnknownCommandException` is thrown for empty command (rob006)\n- Bug #14318: Trigger `yiiActiveForm.events.afterValidateAttribute` after updating attribute  (dmirogin)\n- Bug #14334: Fixed `\\yii\\db\\QueryBuilder::buildNotCondition` loses params when operand is `\\yii\\db\\Expression` (Ni-san)\n- Bug #14341: Fixed regression in error handling introduced by fixing #14264 (samdark)\n- Bug #14370: Fixed creating built-in validator in model with same function name (dmirogin)\n- Bug #14406: Fixed caching rules in `yii\\web\\UrlManager` with different ruleConfig configuration (dmirogin)\n- Bug #14423: Fixed `ArrayHelper::merge` behavior with null values for integer-keyed elements (dmirogin)\n- Bug #14449: Fix PHP 7.2 compatibility bugs and add explicit closure support in `yii\\base\\Application` (dynasource)\n- Bug #14471: `ContentNegotiator` will always set one of the configured server response formats even if the client does not accept any of them (PowerGamer1)\n- Bug #14492: Fixed error handler not escaping error info in debug mode, see CVE-2017-11516 (samdark)\n- Bug #14493: Fixed getting permissions in `yii\\rbac\\Dbmanger::getPermissionsByUser` by user with id equals 0 (dmirogin)\n- Bug #14510: The state of a form is always \"not validated\" when using forced validation in `yiiActiveForm` (arogachev)\n- Bug #14523: Added `yii\\web\\MultipartFormDataParser::$force` option allowing to enforce parsing even on 'POST' request (klimov-paul)\n- Bug #14525: Fixed 2.0.12 regression of loading of global fixtures trough `yii fixture/load` (michaelarnauts)\n- Bug #14533: Fixed `yii\\validators\\ExistValidator` and `yii\\validators\\UniqueValidator` throw exception in case they are set for `yii\\db\\ActiveRecord` with `$targetClass` pointing to NOSQL ActiveRecord (klimov-paul)\n- Bug #14542: Ensured only ASCII characters are in CSRF cookie value since binary data causes issues with ModSecurity and some browsers (samdark)\n- Bug #14543: Throw exception when trying to create migration longer than 180 symbols (dmirogin, cebe)\n- Bug #14596: Fix event call on init in `yii\\widgets\\BaseListView` (panchenkodv)\n- Bug #14697: Fixed `console\\widgets\\Table` rendering when there's no data supplied (bscheshirwork)\n- Bug #14723: Fixed serialization of `yii\\db\\Connection` instance closes database connection (klimov-paul)\n- Bug #14773: Fixed `yii\\widgets\\ActiveField::$options` does not support 'class' option in array format (klimov-paul)\n- Bug #14902: Fixed PHP notice in `yii\\web\\MultipartFormDataParser` (olimsaidov)\n- Bug #14921: Fixed bug with replacing numeric keys in `yii\\helpers\\Url::current()` (rob006)\n- Enh #4479: Implemented REST filters (klimov-paul)\n- Enh #4495:  Added closure support in `yii\\i18n\\Formatter` (developeruz)\n- Enh #5786: Allowed to use custom constructors in ActiveRecord-based classes (ElisDN, klimov-paul)\n- Enh #6644: Added `yii\\helpers\\ArrayHelper::setValue()` (LAV45)\n- Enh #7823: Added `yii\\filters\\AjaxFilter` filter (dmirogin)\n- Enh #9438: `yii\\web\\DbSession` now relies on error handler to display errors (samdark)\n- Enh #9703, #9709: Added `yii\\i18n\\Formatter::asWeight()` and `::asLength()` formatters (nineinchnick, silverfire)\n- Enh #11415: Added `yii\\console\\widgets\\Table` to draw tables in console apps (pana1990, rob006, samdark, tonykor)\n- Enh #13254: Made `yii\\helpers\\StringHelper` and `yii\\validators\\StringValidator` independent of `Yii::$app` instance (cebe)\n- Enh #13378: Added `yii\\behaviors\\SluggableBehaviour::skipOnEmpty` option (andrewnester)\n- Enh #13403: Added 'permissions' additionally to 'roles' in `yii\\filters\\AccessRule` in order to be able to specify these separately (thyseus)\n- Enh #13486: Use DI container to instantiate cookies in order to be able to set defaults (samdark)\n- Enh #13586: Added `$preserveNonEmptyValues` property to the `yii\\behaviors\\AttributeBehavior` (Kolyunya)\n- Enh #13780: Added support for trusted proxies in `yii\\web\\Request` (sammousa, cebe, silverfire)\n- Enh #13787: Added `yii\\db\\Migration::$maxSqlOutputLength` that allows limiting number of characters for outputting SQL (thiagotalma)\n- Enh #13824: Support extracting concatenated strings in `yii message` (developeruz)\n- Enh #13835: Added `yii\\web\\Request::getOrigin()` method that returns `HTTP_ORIGIN` of current CORS request (yyxx9988)\n- Enh #13853: Added `yii\\db\\Migration::$compact` as well as `yii\\console\\controllers\\BaseMigrateController::$compact` to allow making the migration console output more compact (francislavoie)\n- Enh #14022: `yii\\web\\UrlManager::setBaseUrl()` now supports aliases (dmirogin)\n- Enh #14061: Added request scope assignments cache to `yii\\rbac\\DbManager::checkAccess()` to avoid duplicate queries for user assignments (leandrogehlen, cebe, nineinchnick, ryusoft)\n- Enh #14081: Added `yii\\caching\\CacheInterface` to make custom cache extensions adoption easier (silverfire)\n- Enh #14087: Added `yii\\web\\View::registerCsrfMetaTags()` method that registers CSRF tags dynamically ensuring that caching doesn't interfere (RobinKamps)\n- Enh #14089: Added tests for `yii\\base\\Theme` (vladis84)\n- Enh #14105: Implemented a solution for retrieving DBMS constraints in `yii\\db\\Schema` (sergeymakinen)\n- Enh #14126: Added variadic parameters support to DI container (SamMousa)\n- Enh #14151: Added `yii\\behaviors\\AttributesBehavior` that assigns values specified to one or multiple attributes of an AR object when certain events happen (bscheshirwork)\n- Enh #14184: Module service locator now falls back to its parent module service locator in case component isn't found (SamMousa)\n- Enh #14188: Add constants and function for sysexits(3) to `ConsoleHelper` (tom--, samdark, cebe)\n- Enh #14273: `yii\\log\\Target::$enabled` now supports callable value (dmirogin)\n- Enh #14294: Added `InputWidget::renderInput()` to move behavior described in `InputWidget` class docs to the class itself (cebe)\n- Enh #14298: The default response formatter configs defined by `yii\\web\\Response::defaultFormatters()` now use the array syntax (brandonkelly)\n- Enh #14363: Added `yii\\widgets\\LinkPager::$linkContainerOptions` and possibility to override tag in `yii\\widgets\\LinkPager::$options` (dmirogin)\n- Enh #14389: Optimize `Validator::validateAttributes()` by calling `attributeNames()` only once (nicdnep)\n- Enh #14417: Added configuration for headers in PHP files generated by `message/extract` command (rob006)\n- Enh #14431: Moved `ActiveQuery::getTablesUsedInFrom()` to `Query` to make the functionality available on the lower layer (cebe)\n- Enh #14620: Updated `yii.activeForm.js` and `yii\\web\\View` to jQuery 3.0 compatible API (silverfire)\n- Enh #14633: Add miliseconds to log time in `\\yii\\log\\Target` (Ni-san)\n- Enh #14664: Add migrate/fresh command to truncate database and apply migrations again (thyseus)\n- Enh #14765: RBAC: add index on `user_id` column in `auth_assignment` table for performance reasons (bicf)\n- Enh #14864: Ability to use dependencies in constructor of migrations (vtvz)\n- Enh #14877: Disabled profiling on connection opening when profiling is disabled (njasm)\n- Enh #14913: Assset hashing now takes asset linking into account to improve cache busting (schmunk42)\n- Enh #14929: Ensure trailing `;` on combining files with `asset` command to fix compiler failures (tanakahisateru)\n- Enh #14958: Added options to copy stacktrace and search for error message to the exception page (cebe)\n- Enh #14967: Added Armenian Translations (gevorgmansuryan)\n- Enh #15015: Added `StringHelper::floatToString()` to safely cast float values independent of the locale, also fixes some places in the framework that use it now (cebe)\n- Chg #7936: Deprecate `yii\\base\\Object` in favor of `yii\\base\\BaseObject` for compatibility with PHP 7.2 (rob006, cebe, klimov-paul)\n- Chg #14201: `yii\\console\\controllers\\MessageController::extractMessagesFromTokens()` is now protected (faenir)\n- Chg #14286: Used primary inputmask package name instead of an alias (samdark)\n- Chg #14321: `yii\\widgets\\MaskedInput` is now registering its JavaScript `clientOptions` initialization code in head section (DaveFerger)\n- Chg #14487: Changed i18n message error to warning (dmirogin)\n\n\n2.0.12 June 05, 2017\n--------------------\n\n- Bug #4408: Add support for unicode word characters and `+` character in attribute names (sammousa, kmindi)\n- Bug #5442: Fixed problem on load fixture dependencies with database related tests (leandrogehlen)\n- Bug #7946: Fixed a bug when the `form` attribute was not propagated to the hidden input of the checkbox (Kolyunya)\n- Bug #8120: Fixes LIKE special characters escaping for Cubrid/MSSQL/Oracle/SQLite in `yii\\db\\QueryBuilder` (sergeymakinen)\n- Bug #9669: AssetManager and `FileHelper::copyDirectory()` were copying empty directories when using `only` or `except` options. Added an option to disable this (cebe)\n- Bug #10305: Oracle SQL queries with `IN` condition and more than 1000 parameters are working now (silverfire)\n- Bug #10346: Fixed \"DOMException: Invalid Character Error\" in `yii\\web\\XmlResponseFormatter::buildXml()` (sasha-ch)\n- Bug #10372: Fixed console controller including complex typed arguments in help (sammousa)\n- Bug #11230: Include `defaultRoles` in `yii\\rbac\\DbManager->getRolesByUser()` results (developeruz)\n- Bug #11404: `yii\\base\\Model::loadMultiple()` returns true even if `yii\\base\\Model::load()` returns false (zvook)\n- Bug #11719: Fixed `yii\\db\\Connection::$enableQueryCache` caused infinite loop when the same connection was used for `yii\\caching\\DbCache` (michaelarnauts)\n- Bug #12715: Exception `SAVEPOINT LEVEL1 does not exist` instead of deadlock exception (Vovan-VE)\n- Bug #13058: Fixed caught exception thrown during view file rendering produces wrong output (klimov-paul)\n- Bug #13086, #13656: Fixed bug with optional parameters at the beginning of pattern in `yii\\web\\UrlRule` (rob006)\n- Bug #13087: Fixed getting active validators for safe attribute (developeruz, klimov-paul)\n- Bug #13306: Wildcard in `reloadableScripts` in `yii.js` allows 0 characters (arogachev)\n- Bug #13340: Fixed `yii\\db\\Connection::useMaster()` - exception within callback completely disables slaves (Vovan-VE)\n- Bug #13343: Fixed `yii\\i18n\\Formatter::asTime()` to process time-only values without time zone conversion (bizley)\n- Bug #13350: Fixed bug with incorrect caching of `yii\\web\\UrlRule::createUrl()` results in `yii\\web\\UrlManager` (rob006)\n- Bug #13362: Fixed return value of `yii\\caching\\MemCache::setValues()`  (masterklavi)\n- Bug #13379: Fixed `applyFilter()` function in `yii.gridView.js` to work correctly when params in `filterUrl` are indexed (SilverFire, arogachev)\n- Bug #13418: Fixed `QueryBuilder::batchInsert()` if `$rows` is `\\Generator` (lav45)\n- Bug #13494: Fixed `yii\\console\\controllers\\MessageConstroller::saveMessagesToDb()` to work on different DBMS correctly (silverfire)\n- Bug #13513: Fixed RBAC migration to work correctly on Oracle DBMS (silverfire)\n- Bug #13537: Fixed `yii\\web\\CacheSession::destroySession()` to work correctly when session is not written yet (silverfire, papalapa)\n- Bug #13538: Fixed `yii\\db\\BaseActiveRecord::deleteAll()` changes method signature declared by `yii\\db\\ActiveRecordInterface::deleteAll()` (klimov-paul)\n- Bug #13551: Fixed `FixtureController` to load fixtures from subdirectories (d1rtyf1ng3rs, silverfire)\n- Bug #13571: Fix `yii\\db\\mssql\\QueryBuilder::checkIntegrity` for all tables (boboldehampsink)\n- Bug #13577: `yii\\db\\QueryBuilder::truncateTable` should work consistent over all databases (boboldehampsink)\n- Bug #13582: PK column in `yii\\db\\pgsql\\QueryBuilder::resetSequence()` was not quoted properly (boboldehampsink)\n- Bug #13592: Fixes `yii\\db\\oci\\Schema::setTransactionIsolationLevel()` in Oracle (sergeymakinen)\n- Bug #13594: Fixes insufficient quoting in `yii\\db\\QueryBuilder::prepareInsertSelectSubQuery()` (sergeymakinen)\n- Bug #13649: Fixes issue where `['uncheck' => false]` and `['label' => false]` options for `ActiveRadio` and `ActiveCheckbox` were ignored (Alex-Code)\n- Bug #13657: Fixed `yii\\helpers\\StringHelper::truncateHtml()` skip extra tags at the end (sam002)\n- Bug #13670: Fixed alias option from console when it includes `-` or `_` in option name (pana1990)\n- Bug #13671: Fixed error handler trace to work correctly with XDebug (samdark)\n- Bug #13689: Fixed handling of errors in closures (mikehaertl)\n- Bug #13694: `yii\\widgets\\Pjax` now sends `X-Pjax-Url` header with response to fix redirect (wleona3, Faryshta)\n- Bug #13704: Fixed `yii\\validators\\UniqueValidator` to prefix attribute name with model's database table name (vladis84)\n- Bug #13707: Fixed `yii\\web\\ErrorHandler` and `yii\\web\\ErrorAction` not setting correct response code to response object before rendering error view (samdark)\n- Bug #13728: Fixed the bug when `yii\\behaviors\\SluggableBehavior` wasn't preserving immutable slug values (Kolyunya)\n- Bug #13738: Fixed `getQueryParams()` method in `yii.js` to correctly parse URL with question mark and no query parameters (vladdnepr)\n- Bug #13776: Fixed setting precision and scale for decimal columns in MSSQL (arturf)\n- Bug #13790: Fixed error in `\\yii\\widgets\\MaskedInput` JavaScript by raising version required (samdark)\n- Bug #13807: Fixed `yii\\db\\QueryBuilder` to inherit subquery params when building a `INSERT INTO ... SELECT` query (sergeymakinen)\n- Bug #13842: Fixed ambiguous table SQL error while using `yii\\validators\\ExistValidator` and `yii\\validators\\UniqueValidator` (vladis84, samdark)\n- Bug #13846: Fixed `Query::count()` issue with `orderBy` (Alex-Code)\n- Bug #13848: `yii\\di\\Instance::ensure()` wasn't throwing an exception when `$type` is specified and `$reference` object isn't instance of `$type` (c-jonua)\n- Bug #13890: `yii\\log\\DbTarget` log messages where not written when a database transaction was rolled back, added support for cloning a `yii\\db\\Connection` (shirase, cebe)\n- Bug #13901: Fixed passing unused parameter to `formatMessage()` call in `\\yii\\validators\\IpValidator` (Kolyunya)\n- Bug #13961: Fixed `unserialize()` error during RBAC rule retrieving from PostgreSQL DBMS (vsguts, nanodesu88, cebe)\n- Bug #14012: `yii\\db\\pgsql\\Schema::findViewNames()` was skipping materialized views (insolita)\n- Bug #14033: Fixed `yii\\filters\\AccessRule::matchIp()` erroring in case IP is not defined under HHVM (Kolyunya)\n- Bug #14042: Fixed ambiguous column name in SELECT in UniqueValidator (cebe)\n- Bug #14052: Fixed processing parse errors on PHP 7 since these are instances of `\\ParseError` (samdark)\n- Bug #14072: Fixed a bug where `\\yii\\db\\Command::createTable()`, `addForeignKey()`, `dropForeignKey()`, `addCommentOnColumn()`, and `dropCommentFromColumn()` weren't refreshing the table cache on `yii\\db\\Schema` (brandonkelly)\n- Bug #14074: Fixed default value of `yii\\console\\controllers\\FixtureController::$globalFixtures` to contain valid class name (lynicidn)\n- Bug #14094: Fixed bug when single `yii\\web\\UrlManager::createUrl()` call my result multiple calls of `yii\\web\\UrlRule::createUrl()` for the same rule (rossoneri)\n- Bug #14133: Fixed bug when calculating timings with mixed nested profile begin and end in `yii\\log\\Logger::calculateTimings()` (bizley)\n- Enh #4793: `yii\\filters\\AccessControl` now can be used without `user` component (bizley)\n- Enh #4999: Added support for wildcards at `yii\\filters\\AccessRule::$controllers` (klimov-paul)\n- Enh #5108: `yii\\validators\\DateValidator` now resets `$timestampAttribute` value on empty validated attribute value (klimov-paul)\n- Enh #8426: `yii\\filters\\AccessRule` now allows passing parameters to the role checking function (fsateler, cebe, Faryshta)\n- Enh #8641: Enhanced `yii\\console\\Request::resolve()` to prevent passing parameters, that begin from digits (silverfire)\n- Enh #11288: Added support for caching of `yii\\web\\UrlRule::createUrl()` results in `yii\\web\\UrlManager` for rules with defaults (rob006)\n- Enh #12528: Added option to disable query logging and profiling in DB command (cebe)\n- Enh #13144: Refactored `yii\\db\\Query::queryScalar()` (Alex-Code)\n- Enh #13179: Added `yii\\data\\Sort::parseSortParam` allowing to customize sort param in descendant class (leandrogehlen)\n- Enh #13221: Make `\\yii\\db\\QueryTrait::limit()` and `\\yii\\db\\QueryTrait::offset()` methods work with `\\yii\\db\\Expression` (Ni-san)\n- Enh #13226: `yii cache` command now warns about the fact that it's not able to flush APC cache from console (samdark)\n- Enh #13240: Client scripts registration in `yii\\widgets\\ActiverForm` was moved to the separate `registerClientScript()` method (uaoleg, silverfire)\n- Enh #13243: Added support for unicode attribute names in `yii\\widgets\\DetailView` (arogachev)\n- Enh #13254: Core validators no longer require `Yii::$app` to be set (sammousa)\n- Enh #13260: Added support for sorting by expression to `\\yii\\data\\Sort` (LAV45, klimov-paul)\n- Enh #13278: `yii\\caching\\DbQueryDependency` created allowing specification of the cache dependency via `yii\\db\\QueryInterface` (klimov-paul)\n- Enh #13352: Added option to not render empty row in `yii\\grid\\GridView` when data is empty and `emptyText` set to `false` (arogachev)\n- Enh #13356: Support multiple paths in `MigrateController::$migrationPath` to load non-namespaced migrations for BC with existing applications and extensions (schmunk42, cebe)\n- Enh #13360: Added Dockerized test setup for the framework tests (schmunk42)\n- Enh #13369: Added ability to render current `yii\\widgets\\LinkPager` page disabled (aquy)\n- Enh #13376: Data provider now automatically sets an ID so there is no need to set it manually in case multiple data providers are used with pagination (SamMousa)\n- Enh #13407: Added URL-safe base64 encode/decode methods to `StringHelper` (andrewnester)\n- Enh #13467: `yii\\data\\ActiveDataProvider` no longer queries models if models count is zero (kLkA, Kolyunya)\n- Enh #13523: Fixed pluralization and singularization for words `pasta`, `currency` (developeruz, silverfire)\n- Enh #13550: Refactored `unset()` call order in `yii\\di\\ServiceLocator::set()` (Lanrik)\n- Enh #13560: Refactored `\\yii\\widgets\\FragmentCache::getCachedContent()`, added tests (Kolyunya)\n- Enh #13576: Added support of `srcset` to `yii\\helpers\\Html::img()` (Kolyunya)\n- Enh #13577: Implemented `yii\\db\\mssql\\QueryBuilder::resetSequence()` (boboldehampsink)\n- Enh #13582: Added tests for all `yii\\db\\QueryBuilder::resetSequence()` implementations, fixed SQLite implementation (boboldehampsink)\n- Enh #13642: Allow overriding the function for creating related queries in ActiveRecord by adding `createRelationQuery()` (leandrogehlen)\n- Enh #13650: Improved `yii\\base\\Security::hkdf()` to take advantage of native `hash_hkdf()` implementation in PHP >= 7.1.2  (charlesportwoodii)\n- Enh #13695: `yii\\web\\Response::setStatusCode()` method now returns the Response object itself (kyle-mccarthy)\n- Enh #13698: `yii\\grid\\DataColumn` filter is automatically generated as dropdown list in case of `format` set to `boolean` (bizley)\n- Enh #13770: Added support for `yii\\widgets\\Menu` item classes definition in the form of an array (Kolyunya)\n- Enh #13820: Add new HTTP status code 451 (yyxx9988)\n- Enh #13823: Refactored migrations template (Kolyunya)\n- Enh #13837: Refactored masking of CSRF tokens (sammousa)\n- Enh #13845: `mt_rand()` is used instead of `rand()` in `yii\\captcha\\CaptchaAction` (kalessil)\n- Enh #13883: `yii\\data\\SqlDataProvider` now provides automatic fallback for the case when `totalCount` is not specified (SamMousa)\n- Enh #13911: Significantly enhanced MSSQL schema reading performance (paulzi, WebdevMerlion)\n- Enh #13945: Removed Courier New from error page fonts list since it looks bad on Linux (samdark)\n- Enh #13963: Added tests for `yii\\behaviors\\TimestampBehavior` (vladis84)\n- Enh #13976: Disabled IPv6 check on `\\yii\\validators\\IpValidator` as it turns out it is not needed for `inet_*` methods to work (mikk150)\n- Enh #13981: `yii\\caching\\Cache::getOrSet()` now supports both `Closure` and `callable` (silverfire)\n- Enh #13994: Refactored `yii\\filters\\RateLimiter`. Added tests (vladis84)\n- Enh #14059: Removed unused AR instantiating for calling of static methods (ElisDN)\n- Enh #14067: `yii\\web\\View::clear()` sets populated arrays to empty arrays instead of null, also changed default values to empty array (craiglondon)\n- Enh #14098: `yii\\helpers\\BaseFileHelper::normalizeOptions()` is now protected (brandonkelly)\n- Enh: Added `yii\\di\\Instance::__set_state()` method to restore object after serialization using `var_export()` function (silvefire)\n\n\n2.0.11.2 February 08, 2017\n--------------------------\n\n- Bug #13501: Fixed `yii\\rbac\\DbManager::getRule()` and `yii\\rbac\\DbManager::getRules()` to properly handle resource data came from Rule table when using PostgreSQL (StalkAlex)\n- Bug #13508: Fixed duplicate attachment of behavior BC break (cebe)\n- Bug #13522: Issue with UrlRule, which created duplicate slashes when a default value was used (cebe)\n- Bug #13533: Fixed BC break in `yii\\validators\\ExistValidator::$targetAttribute` (developeruz)\n\n\n2.0.11.1 February 02, 2017\n------------------------\n\n- Bug #11502: Fixed `yii\\console\\controllers\\MessageController` to properly populate missing languages in case of extraction with \"db\" format (bizley)\n- Bug #13489: Fixed button names in ActionColumn to contain proper `Yii::t()` tags and restored missing translations for `el`, `fa`, `ja`, `ru`, and `sk` (cebe, softark)\n\n\n2.0.11 February 01, 2017\n------------------------\n\n- Bug #4113: Error page stacktrace was generating links to private methods which are not part of the API docs (samdark)\n- Bug #7727: Fixed `yii\\helpers\\StringHelper::truncateHtml()` leaving extra tags (developeruz)\n- Bug #9305: Fixed MSSQL `Schema::TYPE_TIMESTAMP` to be 'datetime' instead of 'timestamp', which is just an incremental number (nkovacs)\n- Bug #9616: Fixed mysql\\Schema::loadColumnSchema to set enumValues attribute correctly if enum definition contains commas (fphammerle)\n- Bug #9796: Initialization of not existing `yii\\grid\\ActionColumn` default buttons (arogachev)\n- Bug #10488: Fixed incorrect behavior of `yii\\validation\\NumberValidator` when used with locales where decimal separator is comma (quantum13, samdark, rob006)\n- Bug #11122: Fixed can not use `orderBy` with aggregate functions like `count` (Ni-san)\n- Bug #11771: Fixed semantics of `yii\\di\\ServiceLocator::__isset()` to match the behavior of `__get()` which fixes inconsistent behavior on newer PHP versions (cebe)\n- Bug #12133: Fixed `getDbTargets()` function in `yii\\log\\migrations\\m141106_185632_log_init` that would create a log table correctly (bumstik)\n- Bug #12213: Fixed `yii\\db\\ActiveRecord::unlinkAll()` to respect `onCondition()` of the relational query (silverfire)\n- Bug #12345: Fixed `Formatter::asCurrency()` for proper decimal formatting (Oxyaction)\n- Bug #12599: Fixed MSSQL fail to work with `nvarbinary`. Enhanced SQL scripts compatibility with older versions (samdark)\n- Bug #12681: Changed `data` column type from `text` to `blob` to handle null-byte (`\\0`) in serialized RBAC rule properly (silverfire)\n- Bug #12703: Fixed `StringHelper::truncateHtml()` non functional when dom PHP extension is disabled (samdark)\n- Bug #12713: Fixed `yii\\caching\\FileDependency` to clear stat cache before reading filemtime (SG5)\n- Bug #12714: Fixed `yii\\validation\\EmailValidator` to prevent false-positives checks when property `checkDns` is set to `true` (silverfire)\n- Bug #12735: Fixed `yii\\console\\controllers\\MigrateController` creating multiple primary keys for field `bigPrimaryKey:unsigned` (SG5)\n- Bug #12791: Fixed `yii\\behaviors\\AttributeTypecastBehavior` unable to automatically detect `attributeTypes`, triggering PHP Fatal Error (klimov-paul)\n- Bug #12795: Fixed inconsistency, `Yii::$app->controller` is available after handling the request since 2.0.10, this is now also the case for `Yii::$app->controller->action` (cebe)\n- Bug #12803, #12921: Fixed BC break in `yii.activeForm.js` introduced in #11999. Reverted commit 3ba72da (silverfire)\n- Bug #12810: Fixed `yii\\rbac\\DbManager::getChildRoles()` and `yii\\rbac\\PhpManager::getChildRoles()` throws an exception when role has no child roles (mysterydragon)\n- Bug #12822: Fixed `yii\\i18n\\Formatter::asTimestamp()` to process timestamp with miliseconds correctly (h311ion)\n- Bug #12824: Enabled usage of `yii\\mutex\\FileMutex` on Windows systems (davidsonalencar)\n- Bug #12828: Fixed handling of nested arrays, objects in `\\yii\\grid\\GridView::guessColumns` (githubjeka)\n- Bug #12836: Fixed `yii\\widgets\\GridView::filterUrl` to not ignore `#` part of filter URL (cebe, arogachev)\n- Bug #12856: Fixed `yii\\web\\XmlResponseFormatter` to use `true` and `false` to represent booleans (samdark)\n- Bug #12879: Console progress bar was not working properly in Windows terminals (samdark, kids-return)\n- Bug #12880: Fixed `yii\\behaviors\\AttributeTypecastBehavior` marks attributes with `null` value as 'dirty' (klimov-paul)\n- Bug #12904: Fixed lowercase table name in migrations (zlakomanoff)\n- Bug #12939: Hard coded table names for MSSQL in RBAC migration (arogachev)\n- Bug #12969: Improved unique ID generation for `yii\\widgets\\Pjax` widgets (dynasource, samdark, rob006)\n- Bug #12974: Fixed incorrect order of migrations history in case `yii\\console\\controllers\\MigrateController::$migrationNamespaces` is in use (evgen-d, klimov-paul)\n- Bug #13071: Help option for commands was not working in modules (arogachev, haimanman)\n- Bug #13089: Fixed `yii\\console\\controllers\\AssetController::adjustCssUrl()` breaks URL reference specification (`url(#id)`) (vitalyzhakov)\n- Bug #13105: Fixed `validate()` method in `yii.activeForm.js` to prevent unexpected form submit when `forceValidate` set to `true` (silverfire)\n- Bug #13108: Fix execute command with negative integer parameter (pana1990, uaoleg)\n- Bug #13118: Fixed `handleAction()` function in `yii.js` to handle attribute `data-pjax=0` as disabled PJAX (silverfire, arisk)\n- Bug #13128: Fixed incorrect position of {pos} string in ColumnSchemaBuilder `__toString` (df2)\n- Bug #13159: Fixed `destroy` method in `yii.captcha.js` which did not work as expected (arogachev)\n- Bug #13198: Fixed order of checks in `yii\\validators\\IpValidator` that sometimes caused wrong error message (silverfire)\n- Bug #13200: Creating URLs for routes specified in `yii\\rest\\UrlRule::$extraPatterns` did not work if no HTTP verb was specified (cebe)\n- Bug #13212: Fixed `DbSession::regenerateID()` failure when `session_regenerate_id()` fails (andrewnester)\n- Bug #13229: Fix fetching schema information for `pgsql` when `PDO::ATTR_CASE` is set (klimov-paul)\n- Bug #13231: Fixed `destroy` method in `yii.gridView.js` which did not work as expected (arogachev)\n- Bug #13232: Event handlers were not detached with changed selector in `yii.gridView.js` (arogachev)\n- Bug #13277: Fixed invalid parsing of `--` (\"End of Options\" special argument) in CLI (rugabarbo)\n- Bug #13287: Fixed translating \"and\" separator in `UniqueValidator` error message (jetexe)\n- Bug #13300: Allow pjax with \"data-pjax\" with no value in `yii.js` (arogachev)\n- Bug #13307: Preventing of race conditions in script filter in `yii.js` works incorrectly (arogachev)\n- Bug #13309: Fixes incorrect console width/height detecting with using Stty on Mac (nowm)\n- Bug #13310: Handle relative and absolute URLs coincidence in CSS filter in `yii.js` (arogachev)\n- Bug #13312: `skipOuterContainers` option was incorrectly passed to pjax in `handleAction` in `yii.js` (arogachev)\n- Bug #13326: Fixed wrong background color generation in `BaseConsole::renderColoredString()` (nowm, silverfire)\n- Bug #13401: Fixed lack of escaping of request dump at exception screens (samdark)\n- Bug #13416: Fixed `yii\\web\\MultipartFormDataParser` adds an extra newline to every value (klimov-paul)\n- Enh #475: Added Bash and Zsh completion support for the `./yii` command (cebe, silverfire)\n- Enh #6242: Access to validator in inline validation (arogachev)\n- Enh #6373: Introduce `yii\\db\\Query::emulateExecution()` to force returning an empty result for a query (klimov-paul)\n- Enh #6809: Added `yii\\caching\\Cache::$defaultDuration` property, allowing to set custom default cache duration (sdkiller)\n- Enh #7333: Improved error message for `yii\\di\\Instance::ensure()` when a component does not exist (cebe)\n- Enh #7420: Attributes for prompt generated with `renderSelectOptions` of `\\yii\\helpers\\Html` helper (arogachev)\n- Enh #7435: Added `EVENT_BEFORE_RUN`, `EVENT_AFTER_RUN` and corresponding methods to `yii\\base\\Widget` (petrabarus)\n- Enh #7820: Add `or` relation for `targetAttribute` in `yii\\validators\\UniqueValidator` (developeruz)\n- Enh #8293: `yii\\db\\Query` can be passed to `insert` method in `yii\\db\\QueryBuilder` (voroks)\n- Enh #9053: Added`yii\\grid\\RadioButtonColumn` (darwinisgod)\n- Enh #9162: Added support of closures in `value` for attributes in `yii\\widgets\\DetailView` (arogachev)\n- Enh #10970: Allow omit specifying empty default params on URL creation (rob006)\n- Enh #11037: `yii.js` and `yii.validation.js` use `Regexp.test()` instead of `String.match()` (arogachev, nkovacs)\n- Enh #11163: Added separate method for client-side validation options `yii\\validators\\Validator::getClientOptions()` (arogachev)\n- Enh #11464: Populate foreign key names from schema (joaoppereira)\n- Enh #11697: Added `filterHaving()`, `andFilterHaving()` and `orFilterHaving()` to `yii\\db\\Query` (nicdnepr, samdark)\n- Enh #11756: Added type mapping for `varbinary` data type in MySQL DBMS (silverfire)\n- Enh #11758: Implemented Dependency Injection Container configuration using Application configuration array (silverfire)\n- Enh #11929: Changed `type` column type from `int` to `smallInt` in RBAC migrations (silverfire)\n- Enh #11959: Added `yii\\caching\\Cache::getOrSet()` method (silverfire)\n- Enh #12000: Added EVENT_INIT to widget (user57376)\n- Enh #12015: Changed visibility `yii\\db\\ActiveQueryTrait::createModels()` from private to protected (ArekX, dynasource)\n- Enh #12145: Added `beforeCacheResponse` and `afterRestoreResponse` to `yii\\filters\\PageCache` to be more easily extendable (sergeymakinen)\n- Enh #12390: Avoid creating queries with false where condition (`0=1`) when fetching relational data (klimov-paul)\n- Enh #12399: Added `ActiveField::addAriaAttributes` property for `aria-required` and `aria-invalid` attributes rendering (Oxyaction, samdark)\n- Enh #12419: Added ability to remove root tag and object tags for `yii\\web\\XmlResponseFormatter` (mhthnz, samdark)\n- Enh #12612: Query conditions added with `yii\\db\\Query::andWhere()` now get appended to the existing conditions if they were already being joined with the `and` operator (brandonkelly)\n- Enh #12619: Added catch `Throwable` in `yii\\base\\ErrorHandler::handleException()`, transactions and simlar places where consistency must be kept after exception (rob006, cebe)\n- Enh #12659: Suggest alternatives when console command was not found (mdmunir, cebe)\n- Enh #12691: Added support for protocol-relative URLs in `yii\\web\\UrlRule::$pattern` (erickskrauch)\n- Enh #12710: Added `beforeItem` and `afterItem` to `yii\\widgets\\ListView` (mdmunir, silverfire)\n- Enh #12725: Enhanced `yii\\widgets\\Menu` to allow item option `active` be a Closure (voskobovich, silverfire)\n- Enh #12726: `yii\\base\\Application::$version` converted to `yii\\base\\Module::$version` virtual property, allowing to specify version as a PHP callback (klimov-paul)\n- Enh #12732: Added `is_dir()` validation to `yii\\helpers\\BaseFileHelper::findFiles()` method (zalatov, silverfire)\n- Enh #12738: Added support for creating protocol-relative URLs in `UrlManager::createAbsoluteUrl()` and `Url` helper methods (rob006)\n- Enh #12748: Migration generator now tries to fetch reference column name for foreignKey from schema if it's not set explicitly (MKiselev)\n- Enh #12750: `yii\\widgets\\ListView::itemOptions` can be a closure now (webdevsega, silverfire)\n- Enh #12758: Added the ability to use instances of `\\yii\\db\\Query` class as values in the `\\yii\\db\\QueryBuilder::insert()` method (PowerGamer1)\n- Enh #12771: Skip \\yii\\rbac\\PhpManager::checkAccessRecursive and \\yii\\rbac\\DbManager::checkAccessRecursive if role assignments are empty (Ni-san)\n- Enh #12790: Added `scrollToErrorOffset` option for `yii\\widgets\\ActiveForm` which adds ability to specify offset in pixels when scrolling to error (mg-code)\n- Enh #12798: Changed `yii\\cache\\Dependency::getHasChanged()` (deprecated, to be removed in 2.1) to `yii\\cache\\Dependency::isChanged()` (dynasource)\n- Enh #12807: Added console controller checks for `yii\\console\\controllers\\HelpController` (schmunk42)\n- Enh #12816: Added `columnSchemaClass` option for `yii\\db\\Schema` which adds ability to specify custom `yii\\db\\ColumnSchema` class (nanodesu88)\n- Enh #12854: Added `RangeNotSatisfiableHttpException` to cover HTTP error 416 file request exceptions (zalatov)\n- Enh #12881: Added `removeValue` method to `yii\\helpers\\BaseArrayHelper` (nilsburg)\n- Enh #12901: Added `getDefaultHelpHeader` method to the `yii\\console\\controllers\\HelpController` class to be able to override default help header in a class heir (diezztsk)\n- Enh #12988: Changed `textarea` method within the `yii\\helpers\\BaseHtml` class to allow users to control whether HTML entities found within `$value` will be double-encoded or not (cyphix333)\n- Enh #13020: Added `disabledListItemSubTagOptions` attribute for `yii\\widgets\\LinkPager` in order to customize the disabled list item sub tag element (nadar)\n- Enh #13035: Use ArrayHelper::getValue() in SluggableBehavior::getValue() (thyseus)\n- Enh #13036: Added shortcut methods `asJson()` and `asXml()` for returning JSON and XML data in web controller actions (cebe)\n- Enh #13050: Added `yii\\filters\\HostControl` allowing protection against 'host header' attacks (klimov-paul, rob006)\n- Enh #13074: Improved `yii\\log\\SyslogTarget` with `$options` to be able to change the default `openlog` options (timbeks)\n- Enh #13122: Optimized query for information about foreign keys in `yii\\db\\oci` (zlakomanoff)\n- Enh #13134: Added logging URL rules (bashkarev)\n- Enh #13202: Refactor validateAttribute method in UniqueValidator (developeruz)\n- Enh #13219: Enhancements for `yii\\db\\Connection` (Vovan-VE)\n  - Added `shuffleMasters` option which adds ability to disable shuffling of masters connections.\n  - Added `getMaster()` getter and `master` property for getting currently active master connection.\n  - Extracted `openFromPoolSequentially()` protected method from `openFromPool()` protected method.\n- Enh #13264: Added `yii\\widgets\\InputWidget::$field` field, allowing access to the related `yii\\widget\\ActiveField` instance (klimov-paul)\n- Enh #13266: Added `yii\\validators\\EachValidator::$stopOnFirstError` allowing addition of more than one error (klimov-paul)\n- Enh #13268: Added logging of memory usage (bashkarev)\n- Enh #13417: Allow customizing `yii\\data\\ActiveDataProvider` in `yii\\rest\\IndexAction` (leandrogehlen)\n- Enh #13453: Select only primary key when counting records in UniqueValidator (developeruz)\n- Enh: Added constants for specifying `yii\\validators\\CompareValidator::$type` (cebe)\n- Enh: Refactored `yii\\web\\ErrorAction` to make it reusable (silverfire)\n- Enh: Added support for field `yii\\console\\controllers\\BaseMigrateController::$migrationNamespaces` setup from CLI (schmunk42)\n- Chg #11906: Updated `yii\\widgets\\MaskedInput` inputmask dependency to `~3.3.3` (samdark)\n\n2.0.10 October 20, 2016\n-----------------------\n\n- Bug #7670: Added `yii\\web\\UrlNormalizer` for normalizing requests with and without trailing slashes (rob006, cronfy, klimov-paul)\n- Bug #7670: Added `UrlNormalizer` for normalizing requests with and without trailing slashes (rob006, cronfy, klimov-paul)\n- Bug #9027: Fixed descendant class of `yii\\web\\UploadedFile` returns parent instances in case invoked after it (andrewnester)\n- Bug #9277: Fixed `yii\\console\\controllers\\AssetController` looses custom options of 'target' bundles (petrabarus, klimov-paul)\n- Bug #9561: Fixed `canGetProperty()` and `canSetProperty()` returns `false` for `yii\\db\\BaseActiveRecord` attributes (klimov-paul, Ni-san)\n- Bug #10358: Fixed race condition in `yii.js` AJAX prefilter (silverfire)\n- Bug #10563: Fixed forming `Content-Disposition` header for file downloads (samdark)\n- Bug #10567: Fixed `yii\\console\\controllers\\AssetController` looses bundle override configuration, which makes it external one (klimov-paul)\n- Bug #10587: Latest used controller instance was not available in `Response::EVENT_AFTER_SEND` handler (samdark, andrewnester)\n- Bug #10681: Reverted fix of beforeValidate event calling in `yii.activeForm.js` (silverfire)\n- Bug #11347: Fixed `yii\\widgets\\Pjax::registerClientScript()` to pass custom `container` to the PJAX JS plugin (silverfire)\n- Bug #11352: Fixed `updateInputs()` method in `yii.activeForm.js` to prevent reading property of undefined (silverfire)\n- Bug #11461: Fixed migration tool error when create migrate with comma in `defaultValue` (pana1990, s-o-f)\n- Bug #11541: Fixed default MySQL integer display width for unsigned primary key (h311ion, rob006, cebe)\n- Bug #11715: Fixed JS validation when the same model's attribute file input is listed more than once on the same page (uaoleg)\n- Bug #11726: `yii\\web\\DbSession` was echoing database errors in production mode (samdark, pastuhov, deadkrolik)\n- Bug #11907: Fixed `yii\\helpers\\Console::getScreenSize()` on Windows was giving out width and height swapped (Spell6inder, samdark, cebe)\n- Bug #11912: Fixed PostgreSQL Schema to support negative default values for integer/float/decimal columns (nsknewbie)\n- Bug #11921: Fixed URL decoding in `yii.getQueryParams()` to handle `+` (plus) character properly (silverfire)\n- Bug #11922: Fixed `yii\\log\\FileTarget` does not apply `fileMode` for rotated via copy files (klimov-paul)\n- Bug #11947: Fixed `gridData` initialization in `yii.gridView.js` (pavlm)\n- Bug #11949: Fixed `yii\\widgets\\ActiveField::end()` generates close tag when it's `option['tag']` is `null` (egorio)\n- Bug #11977: Fixed `yii\\rest\\Serializer::serialize()` serializes DataProvider incorrectly, if models keys do not compose integer sequence (dcb9, klimov-paul)\n- Bug #11990: Fixed `yii\\db\\BaseActiveRecord::refresh()` may set incorrect `oldAttributes` values at some cases (only-victor)\n- Bug #12009: Do not render `for` field label attribute for active form `RadioList` and `CheckboxList` (shevchik87, samdark)\n- Bug #12030: Fixed `yii\\base\\Model::offsetExists()` throws an exception on un-existing field (klimov-paul)\n- Bug #12037: Fixed 2.0.7 regression in memcahe/memcached cache backend (samdark)\n- Bug #12043: Fixed `yii\\helpers\\Json::encode()` encodes empty array returned by `JsonSerializable::jsonSerialize()` as object (klimov-paul)\n- Bug #12053: `./yii migrate/create` was generating wrong code when using `bigPrimaryKey` (VojtechH, samdark)\n- Bug #12068: Added missing `LEVEL_PROFILE` for the syslog target (Mak-Di)\n- Bug #12100: Fixed `yii\\filters\\HttpCache` was sending an empty Pragma header (sergeymakinen)\n- Bug #12107: Fixed REST Serializer to validate input for 'expand' and 'fields' parameter, which crashed on array input (njspok, cebe)\n- Bug #12143: Fixed `yii\\db\\BaseActiveRecord::updateAttributes()` change `isNewRecord` state for the new model (klimov-paul)\n- Bug #12152: Fixed BC break for `yii\\validators\\UniqueValidator` custom message when validating multiple attributes (rob006)\n- Bug #12293: Fixed MSSQL `yii\\db\\mssql\\Schema::resolveTableNames()` when using linked database tables (hAppywAy)\n- Bug #12331: Fixed bug with incorrect currency formatter output, when `$thousandSeparator` was explicitly set (cebe)\n- Bug #12423: Fixed migration tool problem of creating fields with brackets in comment (pana1990)\n- Bug #12428: Fixed `yii\\db\\mysql\\QueryBuilder` causes warning when insert default rows into a table without primary key (DrmagicE)\n- Bug #12431: Fix bug when lock file was not removed after `yii\\mutex\\FileMutex::release()` (rob006)\n- Bug #12446: Disable slaves when execute migrations to resolve master-slave replication no-sync (lichunqiang)\n- Bug #12463: Fixed `yii\\web\\Request::getBodyParams()` does not pass full 'content-type' value to `yii\\web\\RequestParserInterface::parse()` (klimov-paul)\n- Bug #12537: Fixes issues with spaces in `StringHelper:truncateHtml` (Alex-Code)\n- Bug #12554: Fixed `yii\\validators\\UniqueValidator` error of getting first model indexed by field (DrDeath72)\n- Bug #12599: Fixed casting of `binary()` type for MSSQL (silverfire)\n- Bug #12605: Make 'safe' validator work on write-only properties (arthibald, CeBe)\n- Bug #12629: Fixed `yii\\widgets\\ActiveField::widget()` to call `adjustLabelFor()` for `InputWidget` descendants (coderlex)\n- Bug #12649: Fixed consistency of `indexBy` handling for `yii\\db\\Query::column()` (silverfire)\n- Enh #384: Added ability to run migration from several locations via `yii\\console\\controllers\\BaseMigrateController::$migrationNamespaces` (klimov-paul)\n- Enh #6996: Added `yii\\web\\MultipartFormDataParser`, which allows proper processing of 'multipart/form-data' encoded non POST requests (klimov-paul)\n- Enh #8719: Add support for HTML5 attributes on submitbutton (formaction/formmethod...) for ActiveForm (VirtualRJ)\n- Enh #9469: Added support for namespaced migrations via `yii\\console\\controllers\\BaseMigrateController::migrationNamespaces` (klimov-paul)\n- Enh #9708: Added `yii\\console\\controllers\\AssetController::deleteSource` option allowing deletion of the source asset files after compression (pana1990, klimov-paul)\n- Enh #9989: ActiveForm now respects formtarget, formmethod and formenctype attributes of submit button (AnatolyRugalev)\n- Enh #10243: Added `yii\\data\\Sort::setAttributeOrders()` method allowing manual setup of current sort (klimov-paul)\n- Enh #10583: Do not silence session errors in debug mode (samdark)\n- Enh #11096: Added support for PSR-2 style migration naming for namespaced migrations (klimov-paul)\n- Enh #11245: Added `yii\\rbac\\ManagerInterface::getChildRoles()` method, allowing finding child roles for the given one (githubjeka)\n- Enh #11275: Added possibility of unset or force replace former value in `yii\\helpers\\ArrayHelper::merge()` (mdmunir, rob006)\n- Enh #11309: Added `yii\\web\\Request::getHostName()` method that returns hostname of current request (rob006)\n- Enh #11494: `yii.reloadableScripts` now support wildcards with `*` character (silverfire)\n- Enh #11658: Added argument to `yii\\grid\\ActionColumn::urlCreator` callback, which holds reference to the column instance (klimov-paul)\n- Enh #11804: Added `yii\\behaviors\\AttributeTypecastBehavior` for maintaining of strict ActiveRecord attribute types (klimov-paul)\n- Enh #11835: Fixed `\\yii\\db\\mssql\\QueryBuilder::$typeMap[TYPE_TEXT]` - `NTEXT` data type was deprecated in MSSQL (githubjeka)\n- Enh #11844: Added the ability to customize HTML attributes of label and value tags in `\\yii\\widgets\\DetailView` (githubjeka)\n- Enh #11950: Improve `yii\\helpers\\BaseArrayHelper::keyExists()` speed (egorio)\n- Enh #11979: Added `yii\\mutex\\OracleMutex` which implements mutex \"lock\" mechanism via Oracle locks (zlakomanoff)\n- Enh #12028: Add -h|--help option to console command to display help information (pana1990)\n- Enh #12038: Introduced `yii\\base\\ViewNotFoundException` which is thrown when views file doesn't exists, used it in `ViewAction` (samdark)\n- Enh #12048: Improved message extraction command performance (samdark)\n- Enh #12073: Added the ability to suppress the generation of input hint when it is specified through `yii\\base\\Model::attributeHints()` (PowerGamer1)\n- Enh #12082: Used `jQuery.on(` instead of event method to ensure forwards compatibility (newerton)\n- Enh #12099: `yii\\filters\\HttpCache` no longer returns 304 HTTP code when callbacks return null (sergeymakinen)\n- Enh #12193: Added the ability to suppress the generation of duplicate error messages in `yii\\helpers\\Html::errorSummary()`. Added the ability to display error messages beyond the first error for each model attribute (PowerGamer1)\n- Enh #12198: Added `time` and `datetime` validator short names (nkovacs)\n- Enh #12230: Allows BaseHtml::activeListInput to override the field value (RangelReale)\n- Enh #12296: Added value validation to `yii\\log\\Target::setLevels()` (Mak-Di)\n- Enh #12376: Added parameter to `yii.activeForm.js` `validate()` method to be able to force validation (DrDeath72)\n- Enh #12382: Changed `yii\\widgets\\MaskedInput` to use `jQuery` instead of `$` to prevent conflicts (samdark)\n- Enh #12440: Added `yii\\base\\Event::offAll()` method allowing clear all registered class-level event handlers (klimov-paul)\n- Enh #12499: When AJAX validation in enabled, `yii.activeForm.js` will run it forcefully on form submit to display all possible errors (silverfire)\n- Enh #12580: Make `yii.js` comply with strict and non-strict javascript mode to allow concatenation with external code (mikehaertl)\n- Enh #12664: Added support for wildcards for `optional` at `yii\\filters\\auth\\AuthMethod` (mg-code)\n- Enh #12744: Added `afterInit` event to `yii.activeForm.js` (werew01f)\n- Enh: Method `yii\\console\\controllers\\AssetController::getAssetManager()` automatically enables `yii\\web\\AssetManager::forceCopy` in case it is not explicitly specified (pana1990, klimov-paul)\n\n\n2.0.9 July 11, 2016\n-------------------\n\n- Bug #6347: `inverseOf()` not working for dynamic relational queries (laszlovl)\n- Bug #8644: Fixed trying to ENABLE/DISABLE TRIGGER ALL on a view in PostgreSQL (ricpelo)\n- Bug #9950: Updated `yii\\grid\\DataColumn::getHeaderCellLabel()` to extract attribute label from the `filterModel` of Grid (silverfire)\n- Bug #10613: Fixed PostgreSQL Schema to return correct column names for unique indexes that have mixed case column names (cebe)\n- Bug #10681: Fixed active form `beforeValidate` wasn't triggered in some cases (lynicidn)\n- Bug #11252: Use strict comparison on `ActiveRecord::hasAttribute()` to avoid cases where it returns true when a number is passed to it (Faryshta)\n- Bug #11322: Fixed incorrect error message in `yii\\validators\\UniqueValidator` for composite `targetAttribute` (PowerGamer1, silverfire, cebe)\n- Bug #11429: Fixed `yii\\i18n\\PhpMessageSource::loadFallbackMessages()` not to log error when source and language is same, but locales are different (silverfire)\n- Bug #11459: Fixed flash messages not destroyed when `session.auto_start = 1` set in php.ini (cartmanchen)\n- Bug #11498: Fixed inability to save serialized object into PostgreSQL binary column (klimov-paul)\n- Bug #11507: Fixed `yii\\validators\\EachValidator::validateAttribute()` does not respect `skipOnEmpty` rule parameter (webdevsega)\n- Bug #11523: Fixed `yii\\web\\User::checkRedirectAcceptable()` to treat acceptable content type `*/*` as `*` (silverfire)\n- Bug #11527: Fixed `bigPrimaryKey()` for SQLite (dynasource)\n- Bug #11528: Fixed `yii\\i18n\\MessageFormatter` construction exception caught for PHP 7 compatibility (subdee, cebe)\n- Bug #11532: Fixed casting of empty char value to `null` resulting in integrity constraint violation for not null columns (samdark)\n- Bug #11536: Fixed regression introduced in 2.0.8, where scalar value was not allowed in `QueryBuilder` `IN` condition anymore (cebe)\n- Bug #11549: Fixed `yii\\helpers\\ArrayHelper::getValue()` to work properly with float keys (zsounder, AnikanovD)\n- Bug #11561: Fixed DI container throwing exceptions for optional dependencies (SamMousa)\n- Bug #11571: Fixed `yii\\db\\ColumnSchemaBuilder` to work with custom column types (andrey-mokhov, silverfire)\n- Bug #11662: Fixed `schema-oci.sql` for RBAC (jonny7)\n- Bug #11672: Fixed `yii\\validators\\NumberValidator` erroring when value is an object without `__toString()` method (SamMousa)\n- Bug #11686: `yii\\helpers\\ArrayHelper::isIn()` comparison did not work in strict mode (taobig)\n- Bug #11693: Handle `yii\\db\\QueryBuilder::batchInsert()` calls with no data to insert (rob006)\n- Bug #11723: Fixed PHP 7 + XDebug error handling displaying \"Expected array for frame 0\" (tanakahisateru)\n- Bug #11735: Fixed `yii\\web\\UploadedFile` to return `null` when there's no file uploaded (brummm)\n- Bug #11739: Fixed `yii\\helpers\\ArrayHelper::index()` losing precision for float keys (AnikanovD)\n- Bug #11774: Fixed incorrect recusuive symlinks check in `yii\\helpers\\FileHelper` (AnikanovD)\n- Bug #11822: Fixed exception on non-string value provided as CSRF token (cebe)\n- Bug #11847: Fixed `yii\\widgets\\Pjax` to properly respond with partials when custom selector is used for container (pigochu, samdark)\n- Bug #11863: Fixed usage of `mb_substr()` with PHP < 5.4.8 where length of NULL was treated the same as 0 (samdark)\n- Bug #11865: Fixed setting `selected` for dropdown list using options (samdark)\n- Bug #11878: Fixed i18n gettext fallback language message loading (stevekr)\n- Bug #11896: Fix for DROP TRIGGER in migrations from RBAC. (barradas-alberto)\n- Enh #8795: Refactored `yii\\web\\User::loginByCookie()` in order to make it easier to override (maine-mike, silverfire)\n- Enh #9574: Implicit run `yii\\db\\ColumnSchemaBuilder::null()` when default value is set to `null`. (rob006)\n- Enh #9948: `yii\\rbac\\PhpManager` now invalidates script file cache performed by 'OPCache' or 'APC' on file saving (klimov-paul)\n- Enh #10422: Added `null` method on `yii\\db\\ColumnSchemaBuilder` to explicitly set column nullability (nevermnd)\n- Enh #11168: `yii\\helpers\\BaseHtml` now uses abstracted `booleanInput()` and `activeBooleanInput()` methods to render `radio()`, `checkbox()`, `activeRadio()` and `activeCheckbox()` (cesarnicola)\n- Enh #11195: Added ability to append custom string to schema builder column definition (df2, samdark)\n- Enh #11212: Added headers to PO file in `yii\\i18n\\GettextPoFile::save()` (stevekr)\n- Enh #11414: Files specified as `null` in `yii\\web\\AssetBundle` won't be registered (Razzwan)\n- Enh #11428: Speedup SQL query in `yii\\db\\oci\\Schema::findColumns()` (SSiwek)\n- Enh #11432: Added HTTP status 421 \"Misdirected Request\" to list of statuses in `yii\\web\\Response` (dasmfm)\n- Enh #11438: Configurable `yii\\helpers\\Markdown` default flavor (mdmunir)\n- Enh #11462: Added support of filtering rules to `yii\\log\\Target::logVar` (HaruAtari)\n- Enh #11462: Added `yii\\helpers\\BaseArrayHelper::filter()` method (HaruAtari)\n- Enh #11484: Speed up `yii\\db\\oci\\Schema::loadTableSchema()` for Oracle DBMS (SSiwek)\n- Enh #11490: Added `yii\\data\\ArrayDataProvider::$modelClass` property to specify a model used to provide column labels even when data array is empty (PowerGamer1)\n- Enh #11591: Added support for wildcards for `only` and `except` at `yii\\base\\ActionFilter` (klimov-paul)\n- Enh #11679: Extracted `yii\\rbac\\CheckAccessInterface` from `yii\\rbac\\ManagerInterface` (SamMousa, samdark, mdomba)\n- Enh #11725: Added indexes on message tables (OndrejVasicek)\n- Enh #11729: Added `yii\\grid\\CheckboxColumn::$cssClass` property to specify a class added to checkbox input (thiagotalma)\n- Enh #11808: `_table` and `_column` suffixes are now required when generating migration (rob006)\n- Enh #11850: Introduced `yii\\widgets\\Pjax::$submitEvent` to be able to customize event triggering PJAX form submit (Bvanleeuwen)\n- Enh #11857: `yii\\filters\\AccessRule::$verbs` can now be configured in upper and lowercase (DrDeath72, samdark)\n- Chg #11364: Updated jQuery dependency to include versions `1.12.*` (cebe)\n- Chg #11683: Fixed fixture command to work with short syntax. `yii fixture \"*, -User\"` should be used instead of `yii fixture \"*\" -User` (Faryshta, samdark)\n\n\n2.0.8 April 28, 2016\n--------------------\n\n- Bug #7627: Fixed `yii\\widgets\\ActiveField` to handle inputs AJAX validation with changed ID properly (dizeee)\n- Bug #7717: Fixed the bug that `$properties` parameter in `ArrayHelper::toArray()` was not passed to recursive calls (quantum13)\n- Bug #9074: Fixed JS call `$('#grid').yiiGridView('getSelectedRows')` when `GridView::$showHeader` is set to false (NekitoSP, silverfire)\n- Bug #9851: Fixed partial commit / rollback in nested transactions (sammousa)\n- Bug #9935: Fixed `yii\\validators\\EachValidator` does not invoke `validateAttribute()` method of the embedded validator (klimov-paul)\n- Bug #10201: Fixed bug in ActiveRecord, where relational data could not be fetched in case with composite key and join with IN condition (PaulVanSchayck, airmoi, joe-meyer, cebe)\n- Bug #10235: Fixed `yii\\console\\Application::runAction()` to not to corrupt response object (hiqsol)\n- Bug #10480: Fixed removing old identity cookie when loggin in as another user without logging out first (maine-mike)\n- Bug #10617: Fixed `yii\\web\\Request::getBodyParams()` returned `null` instead of empty array if request body is empty and content type is application/json (samdark)\n- Bug #10784: Fixed `yii\\grid\\CheckboxColumn` to set correct value when `yii\\grid\\CheckboxColumn::$checkboxOptions` closure is used (nukkumatti)\n- Bug #10850: Fixed unable to use 'definitions' and 'aliases' at `yii\\widgets\\MaskedInput` (rahimov, klimov-paul)\n- Bug #10884: Fixed `yii\\i18n\\MessageFormatter` for formatting messages when not all parameters are given (laxity7, cebe)\n- Bug #10935: Fixed cache key collision in `yii\\web\\UrlManager::createUrl()` (sammousa)\n- Bug #10946: Fixed parameters binding to the SQL query in `yii\\db\\mysqlSchema::findConstraints()` (silverfire)\n- Bug #10969: Fixed generator migration tool with decimal params in column (pana1990)\n- Bug #10974: `yii.js` - fixed error in ajaxPrefilter event handler, caused by blocked frame (maximal)\n- Bug #11012: Fixed `yii\\web\\UploadedFile::getBaseName()` to work with UTF-8 file names (hiscaler, silverfire)\n- Bug #11026: Fixed `yii\\helpers\\StringHelper::truncateWords()` to count words properly for non-English text (samdark, tol17)\n- Bug #11038: Fixed handling of intervals of 0 seconds in `yii\\i18n\\Formatter::asDuration()` (VirtualRJ)\n- Bug #11040: Check parameter 'recursive' and disable recursive copying with option 'recursive' => false in method BaseFileHelper::copyDirectory (Ni-san)\n- Bug #11052: Fixed `HtmlPurifier` configuration sequence (samdark)\n- Bug #11066: `yii.js` - fixed `getQueryParams()` function to handle URLs with anchors correctly (DrDeath72)\n- Bug #11088: Fixed bug with column name not being quoted correctly, when a quoted table name or a table name in prefix syntax was used (cebe, edgardmessias, Ni-san)\n- Bug #11093: Fixed `yii\\db\\QueryBuilder::buildAndCondition()` to add query params passed directly by `yii\\db\\Expression` (CedricYii, silverfire)\n- Bug #11125: Fixed `JSON_ERROR_SYNTAX` for `json_decode(null)` in PHP 7 (fps01)\n- Bug #11132: Fixed `yii\\widgets\\FragmentCache` not handling empty content correctly in all cases (kidol)\n- Bug #11188: Fixed wrong index usage in `CaptchaAction` when calling `imagefilledrectangle` (alsopub)\n- Bug #11196: Fixed VarDumper throws PHP Fatal when dumping `__PHP_Incomplete_Class` (DamianZ)\n- Bug #11220: NumberValidator now handles objects properly (samdark)\n- Bug #11221: Boolean validator generates incorrect error message (azaikin, githubjeka)\n- Bug #11223: Fixed returning an empty array when DbManager::getRolesByUser() was called on a user with user id 0 (VirtualRJ)\n- Bug #11228: `yii.activeForm.js` - AJAX validation will not be triggered if client side validation failed (silverfire)\n- Bug #11262: Enabled use of yii2 inside of PHAR packaged console applications (hiqsol)\n- Bug #11270: Fixed `yii\\db\\BaseActiveRecord::link()` method in order to support closure in `indexBy` for relations declaration (iushev)\n- Bug #11280: Descendants of `yii\\console\\controllers\\BaseMigrateController`, like the one for MongoDB, unable to create new migration (klimov-paul)\n- Bug #11333: Avoid serializing PHP 7 errors (zuozp8)\n- Bug #11425: Fixed namespace conflict with Markdown helper and Console helper (cebe, mdmunir)\n- Bug: SQlite querybuilder did not create primary key with bigint for `TYPE_BIGPK` (cebe)\n- Enh #5469: Add mimetype validation by mask in FileValidator (kirsenn, samdark, silverfire)\n- Enh #7177, #10165: Added support for validating datetime and time values using intl short format to `DateValidator` (VirtualRJ, cebe)\n- Enh #8145, #8139, #10234 #11153: `yii\\validators\\Validator::$attributes` property now supports `!attribute` notation to validate attribute, but do not mark it as safe (mdmunir)\n- Enh #8148: Implemented ability to add comment on table and column in migration (vaseninm, silverfire)\n- Enh #8505: `yii\\db\\Query` now contains a andFilterCompare() method that allows filtering using operators in the query value (lennartvdd)\n- Enh #8602: `yii\\validators\\DateValidator` skip validation for `timestampAttribute`, if it is already in correct format (klimov-paul)\n- Enh #8639: Improve ActiveRecord to not create new instances of classes when objects are available (cebe)\n- Enh #8779: Automatically set `enctype` form option when using file input field (pana1990, arogachev)\n- Enh #9340: Adds `after()` and `first()` column schema builder modifiers (df2)\n- Enh #9425: `yii\\db\\Query::exists()` now uses SQL standard `EXISTS()` query via new `yii\\db\\QueryBuilder::selectExists()` method to improving performance in some cases (PowerGamer1)\n- Enh #9562: Adds `char` datatype to framework (df2)\n- Enh #9604: `yii\\db\\BaseActiveRecord` now triggers event `EVENT_AFTER_REFRESH` after a record is refreshed (raoul2000)\n- Enh #9893: `yii.js` handleAction enhanced to support for data-form attribute, so links can trigger specific forms (SamMousa)\n- Enh #10309: Extracted `yii\\web\\UrlManager` rule cache key into `$cacheKey` protected property (lordthorzonus)\n- Enh #10322: ActiveForm now respects `formtarget` attribute of submit button (AnatolyRugalev)\n- Enh #10451: Check of existence of `$_SERVER` in `yii\\web\\Request` before using it (quantum13)\n- Enh #10475: Extracted `getUrlFromCache()` and `setRuleToCache()` protected methods from `yii\\web\\UrlManager::createUrl()` (dmdark)\n- Enh #10487: `yii\\helpers\\BaseArrayHelper::index()` got a third parameter `$groupBy` to group the input array by the key in one or more dimensions (quantum13, silverfire, samdark)\n- Enh #10610: Added `BaseUrl::$urlManager` to be able to set URL manager used for creating URLs (samdark)\n- Enh #10631: Split getting label and rendering cell in `yii\\grid\\DataColumn::renderHeaderCellContent()` to make code simpler (t-kanstantsin, samdark)\n- Enh #10710: `yii\\helpers\\FileHelper::copyDirectory()` is now throwing exception when trying to copy a directory to itself or a subdirectory (wallysalami, cebe, samdark)\n- Enh #10764: `yii\\helpers\\Html::tag()` and `::beginTag()` return content without any HTML when the `$tag` attribute is `false` or `null` (pana1990)\n- Enh #10840: Added `yii\\console\\Controller::optionAliases()` method to support aliases for commands (pana1990)\n- Enh #10889: Allows unsigned primary key column definitions (df2)\n- Enh #10908: Added Dependency Injection for Closure configuration (SamMousa)\n- Enh #10910: Fixed Captcha client side validation after image refresh, when controller is under module (silverfire)\n- Enh #10921: `__toString()` of column schema builder now adapts to column types (df2)\n- Enh #10931: Removed hard dependency of `yii\\di\\Container` on `Yii::$app` (SamMousa)\n- Enh #10937: `yii\\web\\User` will now confirm the request accepts an HTML response before redirecting to the login page. Added optional `$checkAcceptHeader` to `yii\\web\\User::loginRequired()` (sammousa)\n- Enh #10941: Added `yii\\helpers\\ArrayHelper::isTraversable()`, added support for traversable selections for dropdownList, radioList and checkboxList in `yii\\helpers\\Html` (sammousa)\n- Enh #10954: `yii\\db\\QueryBuilder` now accepts `Traversable` objects for `in` condition (SamMousa, silverfire)\n- Enh #10967: Simplified Javascript on the exception debug page (SamMousa)\n- Enh #10976: `yii\\helpers\\Inflector::transliterate()` now uses `strtr` instead of `str_replace` (DrDeath72)\n- Enh #11002: `yii\\behaviors\\AttributeBehavior::$skipUpdateOnClean` which determines whether to skip a behavior when the behavior owner has not been modified (Faryshta)\n- Enh #11056: Allow setting a custom logger configuration for `yii\\log\\Dispatcher` in configuration (bionoren, cebe)\n- Enh #11058: `yii\\web\\User::loginRequired()` now does not set return URL when request method is not GET (dawei101, silverfire)\n- Enh #11110: Added migrations for DB session (mdmunir)\n- Enh #11137: Added weak ETag support to `yii\\filters\\HttpCache`. It could be turned on via setting `$weakEtag` to `true` (particleflux)\n- Enh #11139: `yii\\validators\\EachValidator` injects specific attribute value in error message parameters (silverfire)\n- Enh #11166: migrate command new option `useTablePrefix` (Faryshta)\n- Enh #11187: migrate command now generates PHPDoc for table migrations (Faryshta)\n- Enh #11207: migrate command can create foreign keys. (Faryshta)\n- Enh #11254: Added ability to attach RBAC rule using class name (mdmunir)\n- Enh #11285: `yii\\base\\Security` enhancements (tom--, samdark)\n  - Avoid reading more bytes than needed from `/dev/urandom` and `/dev/random`.\n  - Pefer `/dev/random` to `/dev/urandom` when running on FreeBSD.\n  - Better RNG performance.\n- Enh #11336: Allow resettting `$hostInfo`, `$scriptUrl`, and `$pathInfo` in `yii\\web\\Request` and `$baseUrl`, and `$hostInfo` in `yii\\web\\UrlManager` to `null`, to make Yii determine the value again (cebe)\n- Enh: Added `yii\\helpers\\StringHelper::countWords()` that given a string returns number of words in it (samdark)\n- Chg #9854: Added `ActiveRecordInterface::populateRelation()` to respect the methods called by the implementation (SamMousa)\n- Chg #10726: Added `yii\\rbac\\ManagerInterface::canAddChild()` (dkhlystov, samdark)\n- Chg #10921: Inverts responsibility of database specific column schema builder classes (df2)\n- Chg #11071: `yii\\helpers\\BaseArrayHelper::isIn()` and `isTraversable()` since now throw `yii\\base\\InvalidParamException` instead of `InvalidArgumentException` (nukkumatti)\n- Chg #11283: `yii\\db\\ActiveRecord::unlink()` is not setting FK to `null` before deleting itself anymore (samdark)\n- Chg: HTMLPurifier dependency updated to `~4.6` (samdark)\n- New #8920: Added `yii\\mutex\\PgsqlMutex` which implements mutex \"lock\" mechanism via PgSQL locks (nineinchnick, CSharpRU)\n\n\n2.0.7 February 14, 2016\n-----------------------\n\n- Bug #6351: Find MySQL FK constraints from `information_schema` tables instead of `SHOW CREATE TABLE` to improve reliability (nineinchnick)\n- Bug #6363, #8301, #8582, #9566: Fixed data methods and PJAX issues when used together (derekisbusy)\n- Bug #6876: Fixed RBAC migration MSSQL cascade problem (thejahweh)\n- Bug #7627: Fixed `yii\\widgets\\ActiveField` to handle inputs validation with changed ID properly (dynasource, cebe)\n- Bug #7806: Fixed `yii\\grid\\CheckboxColumn` fixed `_all` checkbox column name generation (cebe, silverfire)\n- Bug #7964: Fixed i18n message sources to load fallback messages in a smarter way (silverfire)\n- Bug #8348: Fixed `yii\\helpers\\BaseArrayHelper` fixed PHP Fatal Error: Nesting level too deep - recursive dependency? (andrewnester)\n- Bug #8466: Fixed `yii\\validators\\FileValidator` to display error for `tooBig` and `tooSmall` with formatted unit (silverfire)\n- Bug #8573: Fixed incorrect data type mapping for NUMBER to INTEGER or DECIMAL in Oracle (vbelogai)\n- Bug #8723: Fixed `yii\\helpers\\VarDumper::export()` unable to export circle referenced objects with `Closure` (klimov-paul)\n- Bug #9061: Fixed `yii.activeForm.js`: input onBlur event forces field validation (githubjeka)\n- Bug #9108: Negative number resulted in no formatting when using `yii\\i18n\\Formatter::asSize()` or `yii\\i18n\\Formatter::asShortSize()` (nxnx, cebe)\n- Bug #9288: Fixed `yii\\helpers\\FileHelper::createDirectory()` directory creation to be concurrency friendly (dynasource)\n- Bug #9314: Fixed `yii\\rbac\\DbManager::getPermissionsByUser()` not returning permissions directly assigned to a user (hesna)\n- Bug #9323: Fixed `yii\\console\\controllers\\MessageController` not using database connection specified in config (raccoon69, samdark)\n- Bug #9333: Fixed `yii\\web\\AssetManager` to publish bundles using symlink with nested directories in `hash` (silverfire)\n- Bug #9415: Fixed regression in 2.0.6 where on Oracle DB `PDO::ATTR_CASE = PDO::CASE_LOWER` did not work anymore (cebe)\n- Bug #9442: Fixed `yii\\db\\Migration::renameTable()` caused fatal error when using SQLite driver (fetus-hina)\n- Bug #9452: Fixed `yii\\db\\Query::where()` does not add params from directly passed `yii\\db\\Expression` (klimov-paul)\n- Bug #9454: Fixed MSSQL MARS wasn't working with transactions (daliran)\n- Bug #9583: Server response on invalid JSON request included a wrong message about \"Internal Server Error\" with status 500 (cebe)\n- Bug #9591: Fixed `yii.validation.js` code so it is compressable by YUICompressor (samdark, hofrob)\n- Bug #9596: Fixed `yii\\web\\UrlManager::createAbsoluteUrl(['site/index', '#' => 'testHash'])` losing hash (alchimik, samdark)\n- Bug #9670: Fixed PJAX redirect in IE. `yii\\web\\Response::redirect()` - added check for `X-Ie-Redirect-Compatibility` header (silverfire)\n- Bug #9678: `yii\\i18n\\I18N::format()` wasn't able to handle named placeholder in \"selectordinal\" (samdark)\n- Bug #9681: `yii\\helpers\\Json::encode()` was erroring under CYGWIN (samdark)\n- Bug #9689: Hidden input on `Html::activeFileInput()` had the wrong name if a name was explicitly given (graphcon, cebe)\n- Bug #9707: Fixed Memcache duration which exceeds 30 days (vernik91)\n- Bug #9714: Fixed `yii\\rbac\\PhpManager::updateItem()` unable to save users assignments (rezident1307)\n- Bug #9754: Fixed `yii\\web\\Request` error when path info is empty (dynasource)\n- Bug #9790: Fixed `yii\\db\\sqlite\\QueryBuilder` to generate proper SQL for UNION (romeOz, samdark)\n- Bug #9791: Fixed endless loop on file creation for non-existing device letters on windows (lukos, cebe)\n- Bug #9874: Fixed outputting exception stacktrace in non-debug mode when `Response::FORMAT_RAW` is used (nainoon)\n- Bug #9883: Passing a single `yii\\db\\Expression` to `Query::select()` or `::addSelect()` was not handled correctly in all cases (cebe)\n- Bug #9911: Fixed `yii\\helpers\\BaseStringHelper::explode()` code so it doesn't remove items equal to 0 when `skip_empty` is true (silverfire, kidol)\n- Bug #9924: Fixed `yii.js` handleAction corrupted parameter values containing quote (\") character (silverfire)\n- Bug #9984: Fixed wrong captcha color in case Imagick is used (DrDeath72)\n- Bug #9999: Fixed `yii\\web\\UrlRule` to allow route parameter names with `-`, `_`, `.`characters (silverfire)\n- Bug #10029: Fixed `yii\\widgets\\MaskedInput` not working with PJAX (martrix78, samdark)\n- Bug #10052: Fixed `yii\\i18n\\Formatter` to work with huge numbers on 32-bit arch (necrox87, silverfire)\n- Bug #10101: Fixed assignments saving on role removing in `yii\\rbac\\PhpManager` (rezident1307)\n- Bug #10142: Fixed `yii\\validators\\EmailValidator` to check the length of email properly (silverfire)\n- Bug #10218: Fixed Flash messages not showing after logging out a user (andrewnester)\n- Bug #10263: Fixed `yii\\validators\\UniqueValidator` to work properly when model is not instance of `targetClass` (bupy7, githubjeka, silverfire)\n- Bug #10278: Fixed `yii\\helpers\\BaseJson` support \\SimpleXMLElement data (SilverFire, LAV45)\n- Bug #10302: Fixed JS function `yii.getQueryParams`, which parsed array variables incorrectly (servocoder, silverfire)\n- Bug #10363: Fixed fallback float and integer formatting (AnatolyRugalev, silverfire)\n- Bug #10385: Fixed `yii\\validators\\CaptchaValidator` passed incorrect hashKey to JS validator when `captchaAction` begins with `/` (silverfire)\n- Bug #10467: Fixed `yii\\di\\Instance::ensure()` to work with minimum settings (LAV45)\n- Bug #10541: Fixed division by zero issue in `Console` helper progress bar (youmad)\n- Bug #10580: Fixed `yii\\grid\\GridView::guessColumns()` to work with numeric column names (silverfire)\n- Bug #10625: Fixed `activeForm.js` - when submit doesn't reload page, submit button value simulation with hidden input did not work (andrewnester)\n- Bug #10629: Fixed `yii\\helpers\\BaseStringHelper` - BaseStringHelper::truncateHtml adds suffix regardless of the string length (andrewnester)\n- Bug #10692: Fixed default value extraction in PostgreSQL Schema for null values (wallysalami, gabrielhomsi)\n- Bug #10739: Fixed `yii\\web\\UrlManager::parseRequest()` to treat request URL with more than one slash at the end as invalid (andrewnester)\n- Bug #10751: Fixed `yii\\validators\\UrlValidator` pattern to improve matching (silverfire)\n- Bug #10760: `yii\\widgets\\DetailView::normalizeAttributes()` fixed for arrayable models (boehsermoe)\n- Bug #10825: Fixed `yii\\validators\\EachValidator` does not respect `skipOnEmpty` rule parameter (klimov-paul)\n- Bug: Fixed generation of canonical URLs for `ViewAction` pages (samdark)\n- Bug: Fixed `mb_*` functions calls to use `UTF-8` or `Yii::$app->charset` (silverfire)\n- Enh #2377: Allow specifying a table alias when joining relations via `joinWith()` (cebe, nainoon)\n- Enh #3506: Added `yii\\validators\\IpValidator` to perform validation of IP addresses and subnets (SilverFire, samdark)\n- Enh #4972: Added `yii\\db\\ActiveQuery::alias()` to allow specifying a table alias for the model table without having to know the name (cebe, stepanselyuk)\n- Enh #5146: Added `yii\\i18n\\Formatter::asDuration()` method (nineinchnick, SilverFire)\n- Enh #5902: `yii\\widgets\\Pjax::options` now support special option `tag` to specify tag of container (Alex-Code)\n- Enh #6162, #9198: Added parameter visibleButtons for `yii\\grid\\ActionColumn` (fornit1917, silverfire)\n- Enh #7341: Client validation now skips disabled inputs (SamMousa)\n- Enh #7405: Added `yii\\filters\\auth\\AuthMethod::optional` for optional authentification in all child classes (SilverFire)\n- Enh #7566: Improved `yii\\validators\\CompareValidator` default messages (slinstj)\n- Enh #7581: Added ability to specify range using anonymous function in `RangeValidator` (RomeroMsk)\n- Enh #7674: Added `yii\\db\\Connection::commandClass` to configure a command class that will be used by the connection (sammousa, silverfire, cebe)\n- Enh #8284: Added `yii\\captcha\\CaptchaAction::$imageLibrary` property allowing to set image rendering library (AnatolyRugalev)\n- Enh #8329: Added support of options for `message` console command (vchenin)\n- Enh #8613: `yii\\widgets\\FragmentCache` will not store empty content anymore which fixes some problems related to `yii\\filters\\PageCache` (kidol)\n- Enh #8649: Added total applied migrations to final report (vernik91)\n- Enh #8687: Added support for non-gregorian calendars, e.g. persian, taiwan, islamic to `yii\\i18n\\Formatter` (cebe, z-avanes, hooman-mirghasemi)\n- Enh #8824: Allow passing a `yii\\db\\Expression` to `Query::groupBy()` (cebe)\n- Enh #8995: `yii\\validators\\FileValidator::maxFiles` can be set to `0` to allow unlimited count of files (PowerGamer1, silverfire)\n- Enh #9282: Improved JSON error handling to support PHP 5.5 error codes (freezy-sk)\n- Enh #9337: Added `yii\\db\\ColumnSchemaBuilder::defaultExpression()` to support DB Expression as default value (kotchuprik)\n- Enh #9412: `yii\\web\\Response::sendHeaders()` does now set the status header last which negates certain magic PHP behavior regarding the `header()` function (nd4c, kidol)\n- Enh #9443: Added `unsigned()` to `ColumnSchemaBuilder` (samdark)\n- Enh #9465: ./yii migrate/create now generates code based on migration name and --fields (pana1990)\n- Enh #9573: Added `yii\\rbac\\ManagerInterface::getUserIdsByRole()` and implementations (samdark)\n- Enh #9635: Added default CSS class for `yii\\grid\\ActionColumn` header (arogachev, dynasource)\n- Enh #9643: Added migrations for DB cache (mdmunir)\n- Enh #9711: Added `yii\\widgets\\LinkPager::$pageCssClass` that allows to set default page class (ShNURoK42)\n- Enh #9733: Added Unprocessable Entity HTTP Exception (janfrs)\n- Enh #9762: Added `yii\\web\\JsonResponseFormatter::$encodeOptions` and `::$prettyPrint` for better JSON output formatting (cebe)\n- Enh #9783: jQuery inputmask dependency updated to `~3.2.2` (samdark)\n- Enh #9785: Added ability to invoke callback with dependency resolution to DI container (mdmunir, SamMousa)\n- Enh #9869: Allow path alias for SQLite database files in DSN config (ASlatius)\n- Enh #9901: Default `Cache.SerializerPermissions` configuration option for `HTMLPurifier` is set to `0775` (klimov-paul)\n- Enh #10056: Allowed any callable to be passed to `yii\\grid\\ActionColumn::$urlCreator` (freezy-sk)\n- Enh #10061: `yii\\helpers\\BaseInflector::transliterate()` is now public. Introduced different levels of transliteration strictness (silverfire)\n- Enh #10078: Added `csrf` option to `Html::beginForm()` to allow disabling the hidden csrf field generation (machour)\n- Enh #10086: `yii\\base\\Controller::viewPath` is now configurable (Sibilino)\n- Enh #10098: Changed `yii.confirm` context to the event's target DOM element which is triggered by clickable or changeable elements (lichunqiang)\n- Enh #10108: Added support for events in interfaces (omnilight)\n- Enh #10118: Allow easy extension of slug generation in `yii\\behaviors\\SluggableBehavior` (cebe, hesna, silverfire)\n- Enh #10149: Made `yii\\db\\Connection` serializable (Sam Mousa)\n- Enh #10154: Implemented support of traversable objects in `RangeValidator::ranges`, added `ArrayHelper::isIn()` and `ArrayHelper::isSubset()` (Sam Mousa)\n- Enh #10158: Added the possibility to specify CSS and Javascript options per file in `yii\\web\\AssetBundle` (machour)\n- Enh #10170: `Yii::powered()` now uses `Yii::t()` (SamMousa)\n- Enh #10217: Support for selecting multiple filter values with the same name was added to `yii.gridView.js` (omnilight, silverfire)\n- Enh #10255: Added Yii warning to session initialization if session was already started (AnatolyRugalev)\n- Enh #10264: Generation of HTML tags in Yii's JavaScript now uses jQuery style (silverfire)\n- Enh #10267: `yii.js` - added original event passing to `pjaxOptions` for links with `data-method` and `data-pjax` (servocoder, silverfire)\n- Enh #10319: `yii\\helpers\\VarDumper::dump()` now respects PHP magic method `__debugInfo()` (klimov-paul)\n- Enh #10359: Support wildcard category name in `yii/console/controllers/MessageController` (rmrevin)\n- Enh #10390: Added ability to disable outer tag for `yii\\helpers\\BaseHtml::radiolist()`, `::checkboxList()` (TianJinRong, githubjeka, silverfire)\n- Enh #10535: Allow passing a `yii\\db\\Expression` to `yii\\db\\Query::orderBy()` and `yii\\db\\Query::groupBy()` (andrewnester, cebe)\n- Enh #10545: `yii\\web\\XMLResponseFormatter` changed to format models in a proper way (andrewnester)\n- Enh #10783: Added migration and unit-tests for `yii\\i18n\\DbMessageSource` (silverfire)\n- Enh #10797: Cleaned up requirements checker CSS (muhammadcahya)\n- Enh: Added last resort measure for `yii\\helpers\\FileHelper::removeDirectory()` fail to unlink symlinks under Windows (samdark)\n- Enh: `yii\\behaviors\\AttributeBehavior::getValue()` now respects the callable in array format (silverfire)\n- Chg #6419: Added `yii\\web\\ErrorHandler::displayVars` make list of displayed vars customizable. `$_ENV` and `$_SERVER` are not displayed by default anymore (silverfire)\n- Chg #9369: `Yii::$app->user->can()` now returns `false` instead of erroring in case `authManager` component is not configured (creocoder)\n- Chg #9411: `DetailView` now automatically sets container tag ID in case it's not specified (samdark)\n- Chg #9528: `Traversable` objects are now formatted as arrays in `yii\\web\\XmlResponseFormatter` to support SPL objects and Generators (MaXL-ru)\n- Chg #9878, #9879, #9880: Make `yii\\base\\Security` use `random_bytes()`, LibreSSL, mcrypt, limit OpenSSL to Windows, and to prefer `password_hash()` over `crypt()` (tom--)\n- Chg #9953: `yii\\behaviors\\TimestampBehavior::getValue()` changed to make value processing consistent with `AttributeBehavior::getValue()` (silverfire)\n- Chg #10296: Methods mset, mget and madd of `yii\\caching\\Cache` have been marked as deprecated (trejder, githubjeka)\n- Chg: ApcCache is now able to handle PHP 7 APCu (samdark)\n- Chg: `yii\\behaviors\\BlameableBehavior::getValue()` changed to make value processing consistent with `yii\\behaviors\\AttributeBehavior::getValue()` (silverfire)\n- New #10083: Added wrapper for PHP webserver (samdark)\n- New: Added new requirement: ICU Data version >= 49.1 (SilverFire)\n\n\n2.0.6 August 05, 2015\n---------------------\n\n- Bug #4763: Fixed display issue with overlapping call stack item on exception display page (cebe)\n- Bug #7305: Logging of Exception objects resulted in failure of the logger i.e. no logs being written (cebe)\n- Bug #7374: Use proper INSERT syntax with default values when no values are specified (nineinchnick)\n- Bug #7707: Client-side `trim` validator now passes the trimmed value to subsequent validators (nkovacs)\n- Bug #7764: `yii\\helpers\\ArrayHelper::toArray()` wasn't passing `$recursive` to `yii\\base\\Arrayable::toArray()` (brandonkelly)\n- Bug #8161: Fixed active form `data-method` submit bug when client validation is used (vbelogai)\n- Bug #8322: `yii\\behaviors\\TimestampBehavior::touch()` now throws an exception if owner is new record (klimov-paul)\n- Bug #8451: `yii\\i18n\\Formatter` did not allow negative unix timestamps as input for date formatting (cebe)\n- Bug #8483: Sequence name in `Schema::getLastInsertId()` was not properly quoted (nineinchnick)\n- Bug #8506: Cleaning of output buffer in `Widget::run()` conflicts with `Pjax` widget which did the cleanup itself (cebe, joester89)\n- Bug #8544: Fixed `yii\\db\\ActiveRecord` does not update attribute specified at `optimisticLock()` after save (klimov-paul)\n- Bug #8549: Fixed `yii\\caching\\FileCache` doesn't lock cache files when reading (iworker)\n- Bug #8551: `yii\\pgsql\\QueryBuilder::batchInsert()` may cause \"undefined index\" error (arkhamvm)\n- Bug #8585: Fixed `yii\\helpers\\Html::activeTextarea()` does not allow value overriding via options (klimov-paul)\n- Bug #8592: Fixed `yii\\db\\Command::getRawSql()` unable to parse params specified without colon (':') (klimov-paul)\n- Bug #8593: Fixed `yii\\db\\ActiveQuery` produces incorrect SQL for aggregations, when `sql` field is set (klimov-paul)\n- Bug #8595: Fixed `yii\\rbac\\DbManager::checkAccessFromCache()` to check against auth items loaded in cache recursively (achretien, qiangxue)\n- Bug #8606: Fixed `yii\\web\\Response::xSendFile()` does not reset format (vyants)\n- Bug #8627: Fixed `yii\\db\\Migration` produces incorrect results due to table schema caching (klimov-paul)\n- Bug #8661: Fixed `yii.activeForm.js` scrolling to top (nkovacs)\n- Bug #8684: Formatter ignored explicit decimal number settings when a default value is configured (leandrogehlen, cebe)\n- Bug #8772: `yii\\db\\ActiveQuery` failed removing duplicate records after join when the resultset did not contain the pk values e.g. after grouping (cebe)\n- Bug #8844: Added a workaround for an oracle bug when fetching information about table constraints and filtering by `CONSTRAINT_TYPE` (nidgetgod)\n- Bug #8900: Fixed determining active menu item with URL-alias in route `yii\\widgets\\Menu::isItemActive()` (demi)\n- Bug #9006: Fixed bit column always returning true using certain version of PDO MySQL (stratoss, RusAlex, mj4444ru, samdark)\n- Bug #9046: Fixed problem with endless error loop when an error occurred after sending a stream or file download response to the user (cebe)\n- Bug #9059: Fixed PHP Notice in error handler view (dynasource, andrewnester, samdark)\n- Bug #9063: Workaround for MySQL losing table case when adding index (sebathi)\n- Bug #9076: Fixed `yii\\filters\\PageCache` not using the configured duration and dependency when caching the response data (kidol)\n- Bug #9091: `yii\\web\\UrlManager::createUrl()` did not create correct URL when defaults were used, internal cache is now skipped in certain situations (cebe)\n- Bug #9127, #9128: Fixed MSSQL `yii\\helpers\\mssql\\QueryBuilder::renameColumn()` and `yii\\helpers\\mssql\\QueryBuilder::renameTable()` escaping (sitawit)\n- Bug #9161: Fixed `yii\\web\\Request` ignore `queryParams` when resolve request (zetamen)\n- Bug: Fixed string comparison in `yii\\db\\BaseActiveRecord::unlink()` which may result in wrong comparison result for hash valued primary keys starting with `0e` (cebe)\n- Bug: Pass correct action name to `yii\\console\\Controller::options()` when default action was requested (cebe)\n- Bug: Automatic garbage collection in `yii\\caching\\FileCache` was not triggered (kidol)\n- Bug: Fixed missing stacktrace items on PHP syntax errors of \"unexpected end of file\" type (samdark)\n- Enh #3335: Implemented `yii\\db\\ColumnSchemaBuilder` (pana1990, vaseninm, samdark, cebe)\n- Enh #5991: Added `updateMessages()` to `yii.activeForm.js` to support manually updating ActiveForm messages (nkovacs)\n- Enh #6043: Specification for 'class' and 'style' in array format added to `yii\\helpers\\Html` (klimov-paul)\n- Enh #6853: Console application will now register PHP constants for `STDIN`, `STDOUT`, and `STDERR` itself if they are not defined (cebe)\n- Enh #7169: `yii\\widgets\\ActiveField` now uses corresponding methods for default parts rendering (klimov-paul)\n- Enh #7259: Added `errorAttributes` parameter to ActiveForm `afterValidate` event. Made scrolling to first error optional (nkovacs)\n- Enh #8070: `yii\\console\\controllers\\MessageController` now sorts created messages, even if there is no new one, while saving to PHP file (klimov-paul)\n- Enh #8286: `yii\\console\\controllers\\MessageController` improved allowing extraction of nested translator calls (klimov-paul)\n- Enh #8373: Check also `post_max_size` parameter in `yii\\validators\\FileValidator::getSizeLimit()` (maxxer)\n- Enh #8415: `yii\\helpers\\Html` allows correct rendering of conditional comments containing `!IE` (salaros, klimov-paul)\n- Enh #8444: Added `yii\\widgets\\LinkPager::$linkOptions` to allow configuring HTML attributes of the `a` tags (zinzinday)\n- Enh #8486: Added support to automatically set the `maxlength` attribute for `Html::activeTextArea()` and `Html::activePassword()` (klimov-paul)\n- Enh #8566: Added support for 'only' and 'except' options for `yii\\web\\AssetManager::publish()` (klimov-paul)\n- Enh #8574: Added `yii\\console\\controllers\\MessageController` support .pot file creation (pgaultier)\n- Enh #8625: Added `markUnused` option to `yii\\console\\controllers\\MessageController` (marius7383)\n- Enh #8670: Added support for saving extra fields in session table for `yii\\web\\DbSession` (klimov-paul)\n- Enh #8671: Extracted `yii\\helpers\\Html::escapeJsRegularExpression()` method from `yii\\validators\\RegularExpressionValidator` (silverfire, klimov-paul, samdark, qiangxue)\n- Enh #8903: PostgreSQL `yii\\db\\pgsql\\QueryBuilder::createIndex()` can now specify the index method to use (LAV45)\n- Enh #8933: Yii is now able to properly handle HHVM fatal errors (dieend, samdark)\n- Enh #9011: Allow `yii\\widgets\\MaskedInput` to produce an input tag of a custom type (TriAnMan)\n- Enh #9038: Write warning to log in case `FileCache` fails to write into file (foccy)\n- Enh #9072: `yii\\web\\ErrorAction` displays 404 error instead of blank page on direct access (klimov-paul)\n- Enh #9149: Print directory migrationPath in a `yii migrate` command error. (RusAlex)\n- Enh #9177: Added password hash cost setting to Security component (freezy-sk)\n- Enh #9239: Better handling of `Json` errors (grzegorzkurtyka, samdark)\n- Enh #9246: Added `yii\\web\\UrlRule::getParamRules()` (df2)\n- Enh #9249: Added `hashCallback` in `yii\\web\\AssetManager` to allow custom hash generation for asset directory (petrabarus)\n- Enh #9263: Avoid extra DB query in RBAC DbManager in case auth item name is empty (samdark)\n- Enh #9268: Improved display of boolean parameters in logged SQL queries (arkhamvm, samdark)\n- Enh: Improved Console helper progress bar ETA time estimation, updated only once per second to avoid flapping (cebe)\n- Chg #6354: `yii\\base\\ErrorHandler::logException()` will now log the whole exception object instead of only its string representation (cebe)\n- Chg #8556: Extracted `yii\\web\\User::getAuthManager()` method (samdark)\n- Chg #9181: `yii\\helpers\\BaseStringHelper::truncateHtml()` is now using `runtime` directory for `HTMLPurifier` cache (webdevsega)\n\n\n2.0.5 July 11, 2015\n-------------------\n\n- Bug #9070 (CVE-2015-5467): Fixed `ViewAction::resolveViewName()` not to accept `/../` and `/./` (thejahweh, samdark)\n\n\n2.0.4 May 10, 2015\n------------------\n\n- Bug #5042: Use `RETURNING` for inserts for pgsql and oci to support PKs with a custom default value expression (nineinchnick, klimov-paul)\n- Bug #6234: Fixed wrong table schema information for MSSQL when using multiple schemas (nineinchnick)\n- Bug #6642: Fixed the bug that using confirmation dialog via `data-confirm` in an `yii\\widgets\\ActiveForm` may cause the dialog to appear twice (pana1990, qiangxue)\n- Bug #6871: Fixed the bug that using defaults and hostnames in URL rules may cause an out-of-range index issue (qiangxue)\n- Bug #7036: Fixed `yii\\helpers\\Html::dropDownList()` overrides label specified at 'groups' option (aktec, klimov-paul)\n- Bug #7473: Fixed `yii\\console\\controllers\\AssetController` does not create missing folders for the target bundles (schmunk42, klimov-paul)\n- Bug #7894: Fixed incorrect URL config processing at `yii\\web\\Application::handleRequest()` and `yii\\widgets\\Menu::items` if route element is not a first one (nkovacs, klimov-paul)\n- Bug #7529: Fixed `yii\\web\\Response::sendContentAsFile()` that was broken in 2.0.3 (samdark)\n- Bug #7603: Fixed escape characters in `FormatConverter` to work with unicode characters (maddoger, cebe)\n- Bug #7656: Fixed `yii\\rbac\\DbManager::getRolesByUser()` and `yii\\rbac\\PhpManager::getRolesByUser()` to return roles only (samdark)\n- Bug #7757: Fix fetching tables schema for oci and mysql when `PDO::ATTR_CASE` is set (nineinchnick)\n- Bug #7761: Fixed formatting one digit month in date formatter using ICU format `L` (nkovacs)\n- Bug #7775: Added more strict check on controller IDs when they are being used to create controller instances on Windows (Bhoft, qiangxue)\n- Bug #7831: Add order when fetching database table names and constraints (nineinchnick)\n- Bug #7846: Fixed `yii\\base\\Model` does not recognize scenario declared by rules using 'except' (klimov-paul)\n- Bug #7847: `yii\\db\\ColumnSchema` was typecasting numerics to strings with incorrect decimal separator for some locales (nineinchnick)\n- Bug #7861: Fixed `yii\\helpers\\VarDumper::export()` fails to export object containing `Closure` (klimov-paul)\n- Bug #7867: Fixed `findUniqueIndexes()` not to perform any processing on unique index on function for pgsql (nineinchnick)\n- Bug #7868: Fixed fetching columns definition and composite foreign keys for oci (nineinchnick)\n- Bug #7868: Removed column's autoIncrement detection from oci (nineinchnick)\n- Bug #7868: Fixed creating raw SQL (for logging) by skipping object and resource params (nineinchnick)\n- Bug #7868: Fixed `yii\\db\\Schema::getLastInsertID()`` by quoting sequence name (nineinchnick)\n- Bug #7957: Removed extra `parseFloat()` call for the `compare` js validator (CthulhuDen)\n- Bug #8012: Fixed fetching multiple relations between two tables for pgsql (nineinchnick)\n- Bug #8014: Fixed setting incorrect form \"action\" property after submitting a form using a link with \"data-method\" and containing \"action\" among \"data-params\" (samdark)\n- Bug #8032: `yii\\rbac\\PhpManager::updateItem()` was unable to rename item updated (ChristopheBrun, samdark)\n- Bug #8036: Fixed `yii\\log\\Logger` unable to export session id (klimov-paul)\n- Bug #8068: Fixed `yii\\db\\Query::count()` fails for query containing 'having' without 'group by' (klimov-paul)\n- Bug #8073: Fixed `yii\\data\\ArrayDataProvider::getKeys()` return wrong when `yii\\data\\ArrayDataProvider::$allModels` contain integer key (mdmunir, klimov-paul)\n- Bug #8082: Fixed `yii\\db\\BaseActiveRecord::getAttributeLabel()` return wrong label for related attribute, if several relations in chain share same name (klimov-paul)\n- Bug #8149: Fixed `yii\\db\\BaseActiveRecord::updateCounters()` fails for new record saved with counter attribute not set (klimov-paul)\n- Bug #8158: Avoid exception when detecting console screen size fails on windows (EliasZ)\n- Bug #8165: Fixed `yii\\db\\ActiveRelationTrait::populateRelation()` fails when `link` refers to string convertable object attribute, like `MongoId` (klimov-paul)\n- Bug #8231: Configuration of GridView and DetailView where not preserved when used multiple times (cebe, idMolotov)\n- Bug #8273: Fixed `yii\\widgets\\FragmentCache` when `enabled` is false (nkovacs)\n- Bug #8291: Fixed numeric keys in `$_GET` transformed to 0-based, if 'pretty URL' enabled (quantum13, klimov-paul)\n- Bug #5053: DateValidator is now more robust against different timezone settings (cebe)\n- Bug (CVE-2015-3397): Added `yii\\helpers\\Json::htmlEncode()` to support safer JSON data encoding in HTML code (samdark, Wojciech Janusz, Tomasz Tokarski)\n- Enh #1468: Added ability to specify hints for model attributes via `attributeHints()` method (klimov-paul)\n- Enh #3376: Added `yii\\validators\\EachValidator`, which allows validation of the array attributes (klimov-paul)\n- Enh #5053: Added possibility to specify a format and time zone for the `timestampAttribute` of date validator making it fully usable for validating complete timestamps (cebe)\n- Enh #6442: Improved error message on `yii\\helpers\\FileHelper::createDirectory()` to include the path name of the directory (cebe)\n- Enh #6895: Added `ignoreCategories` config option for message command to ignore categories specified (samdark)\n- Enh #6975: Pressing arrows while focused in inputs of Active Form with `validateOnType` enabled no longer triggers validation (slinstj)\n- Enh #7409: Allow `yii\\filters\\auth\\CompositeAuth::authMethods` to take authentication objects (fernandezekiel, qiangxue)\n- Enh #7443: Allow specification of the `$key` as an array at `yii\\helpers\\ArrayHelper::getValue()` (Alex-Code)\n- Enh #7488: Added `yii\\helpers\\StringHelper::explode()` to perform explode with trimming and skipping of empty elements (SilverFire, nineinchnick, creocoder, samdark)\n- Enh #7514: Added min/max validation to `yii\\validators\\DateValidator` (nkovacs)\n- Enh #7515: Added support to use `indexBy()` together with `column()` in query builder (qiangxue)\n- Enh #7530: Improved default values for `yii\\data\\Sort` link labels in a `ListView` when used with an `ActiveDataProvider` (cebe)\n- Enh #7539: `yii\\console\\controllers\\AssetController` provides dependency trace in case bundle circular dependency detected (klimov-paul)\n- Enh #7562: `yii help` now lists all sub-commands by default (callmez)\n- Enh #7571: HTTP status 500 and \"An internal server error occurred.\" are now returned in case there was an exception in layout and `YII_DEBUG` is false (samdark)\n- Enh #7636: `yii\\web\\Session::getHasSessionId()` uses a more lenient way to check if session ID is provided in URL (robsch)\n- Enh #7637: Allow `yii\\web\\Request::validateCsrfToken()` to validate a manually provided token (miraage, qiangxue)\n- Enh #7808: Adjusted Masked input to correctly generate the hash variable to store the plugin options (wbraganca)\n- Enh #7833: Support (materialized) views and foreign tables along normal tables when fetching table schema (nineinchnick)\n- Enh #7850: Added `yii\\filters\\PageCache::cacheCookies` and `cacheHeaders` to allow selectively caching cookies and HTTP headers (qiangxue)\n- Enh #7867: Implemented findUniqueIndexes for oci and mssql (nineinchnick)\n- Enh #7912: Added `aria-label` to ActionColumn buttons (LAV45, samdark)\n- Enh #7915: Added `yii\\i18n\\Formatter::$numberFormatterSymbols` to allow setting custom symbols for the internally used IntlNumberFormatter, e.g. currency signs (cebe)\n- Enh #7918: `yii\\widgets\\Pjax` got ability to avoid registering link/form handler via setting `false` to `$linkSelector`/`$formSelector` (usualdesigner, Alex-Code, samdark)\n- Enh #7973: Added `yii\\db\\Schema::getSchemaNames()` method (nineinchnick)\n- Enh #8027: Added support for using sub queries in simple Query WHERE conditions (cebe)\n- Enh #8055: `yii\\rest\\UrlRule::extraPatterns` should take precedence over `patterns` (Agrumas)\n- Enh #8064: Added ability to remove containing menu tag by setting `yii\\widgets\\Menu::$options['tag']` to `false` (kirsenn, samdark)\n- Enh #8078: 'links' and 'meta' envelope names are now configurable at `yii\\rest\\Serializer` (arturf)\n- Enh #8171: Allow the user to enforce the fileSize to allow sending files which are not seekable. Needed when using S3 Stream Wrapper (pgaultier)\n- Enh #8179: Added parameter to define whether the comparison of `yii\\db\\BaseActiveRecord::isAttributeChanged()` method will be made as identical (thiagotalma)\n- Enh #8194: Caching of the matched rules added to `yii\\web\\UrlManager::createUrl()` (laszlovl, klimov-paul)\n- Enh #8268: Allow `yii\\db\\QueryBuilder` to recognize more variations of `limit` and `offset` values (tino415, qiangxue)\n- Enh: `yii\\i18n\\Formatter` now shows more information about errors which occured when formatting values (cebe)\n- Enh: Added `yii\\helper\\Console::wrapText()` method to wrap indented text by console window width and used it in `yii help` command (cebe)\n- Enh: Implement batchInsert for oci (nineinchnick)\n- Enh: Detecting `yii\\db\\IntegrityException` for oci (nineinchnick)\n- Enh: `yii\\widgets\\LinkPager::$firstPageLabel` and `yii\\widgets\\LinkPager::$lastPageLabel` now could be set to true in order to use page number as label (samdark)\n- Chg #7924: Migrations in history are now ordered by time applied allowing to roll back in reverse order no matter how these were applied (samdark)\n- Chg: Updated dependency to `cebe/markdown` to version `1.1.x` (cebe)\n\n\n2.0.3 March 01, 2015\n--------------------\n\n- Bug #5457: `yii\\web\\Cors` should handle `Access-Control-Request-Headers` in a case-insensitive manner (qiangxue)\n- Bug #6553: `yii\\validators\\DateValidator` returned valid for date \"2012-12-12foo\" with intl extension enabled (gajahlemu)\n- Bug #6919: Fixed wrong namespaces under advanced application's `TestCase` classes (ivokund)\n- Bug #6940: `yii\\web\\Response::sendContentAsFile()` may not send correct `content-length` header (sadgnome)\n- Bug #6969: `yii\\helpers\\ArrayHelper::htmlEncode()` and `htmlDecode()` should not remove non-string data (qiangxue)\n- Bug #7037: `yii\\console\\controllers\\AssetController` now correctly handles relative image URLs if source and target CSS are under same directory (klimov-paul)\n- Bug #7055: composite IN condition was not generated correctly for certain DBMS (nineinchnick)\n- Bug #7074: `yii\\data\\ArrayDataProvider` did not correctly handle the case `Pagination::pageSize = 0` (kirsenn, qiangxue)\n- Bug #7172: Fixed problem with EmailValidator which did not extract domain correctly for DNS check (nbogol)\n- Bug #7209: `yii\\helpers\\Html::getInputId()`` now also replaces `.` with `-` to ensure a valid ID is generated (omnilight)\n- Bug #7211: Query caching should properly deal with the case when query result is false (qiangxue)\n- Bug #7218: `yii\\captcha\\CaptchaAction` should send response in JSON format (InteLigent, qiangxue)\n- Bug #7226: `yii\\web\\Request::getEtag()` should strip off `-gzip` which may be added by Apache (mcd-php)\n- Bug #7227: Query builder should respect column alias setting when `yii\\db\\Expression` is being selected (mdmunir, qiangxue)\n- Bug #7271: `yii\\db\\ActiveRecord::populateRecord()` should be called in late binding approach (jlorente)\n- Bug #7258: Response was sending HTML content type when formatter was set to JSON or XML, nulls were handled wrong (slavcodev, samdark)\n- Bug #7358: Fix trimming PHPDoc prefix with TAB indent in `yii\\console\\Controller::parseDocCommentSummary()` (gugglegum)\n- Bug #7384: Fix precision loss in log timestamps when using `yii\\log\\DBTarget` (samdark)\n- Bug #7425: `yii\\widgets\\ActiveField::radio()` should not generate the label twice (justinvoelker)\n- Enh #3168: Improved the performance of `yii\\rbac\\DbManager::checkAccess()` by caching mechanism (qiangxue)\n- Enh #3723: `yii\\filters\\PageCache` now supports caching response headers as well as non-HTML response content (qiangxue)\n- Enh #4710: Added `yii\\web\\AssetManager::appendTimestamp` to support cache busting for assets  (qiangxue)\n- Enh #5663: Added support for using `data-params` to specify additional form data to be submitted via the `data-method` approach (usualdesigner, qiangxue)\n- Enh #5681: Allow customization of Menu::submenuTemplate in menu items (RobertBoes, otsec)\n- Enh #6106: Added ability to specify `encode` for each item of `yii\\widgets\\Breadcrumbs` (samdark, aleksanderd)\n- Enh #6361: Added `validateAttribute()` to `yii.activeForm.js` to support manually triggering data validation of an input (Alex-Code, qiang)\n- Enh #6493: Added support for the `Access-Control-Expose-Headers` header by `yii\\filters\\Cors` (usualdesigner)\n- Enh #6697: Added `yii\\helpers\\Url::current()` method that allows adding or removing parameters from current URL (samdark, callmez)\n- Enh #6852: Added `yii\\helpers\\BaseHtmlPurifier::helpers()` in order to be able to configure `HtmlPurifier` helper globally via subclassing (Alex-Code)\n- Enh #6882: Added `yii\\web\\ErrorHandler::getTypeUrl()` in order to allow providing custom types/classes/methods URLs for subclasses (brandonkelly)\n- Enh #6883: `yii\\base\\ErrorHandler::logException()` is now public (samdark)\n- Enh #6896: Added `yii\\log\\FileTarget::$enableRotation` to allow disabling log rotation when external tools are configured for this (cebe)\n- Enh #7008: Removed extra white space in GridView filter cell (uran1980)\n- Enh #7051: Added support for preventing swapping values between different cookies (pavimus, qiangxue)\n- Enh #7150: FormatConverter for date formats now supports single quote escaping (brandonkelly)\n- Enh #7255: Added support to allow widgets that use text input to specify input types (qiangxue)\n- Enh #7269: `yii\\console\\controllers\\BaseMigrateController` now throws exception if directory specified doesn't exist and action isn't `create` (lynicidn, samdark)\n- Enh #7301: Added checking for ICU version in requirements warning about plural problems when it is lower than 49 (sidtj)\n- Enh #7332: Added ability to remove `yii\\widgets\\Menu` container tag by setting `options['tag']` to `false` (dynasource, samdark)\n- Enh #7350: Added `yii\\helpers\\Html::$dataAttributes` to support customizing data attributes (Faryshta, qiangxue)\n- Enh #7357: Refactored `yii\\db\\ColumnSchema` by adding `typecast()` method to decouple `phpTypecast()` from `dbTypecast()` (mcd-php, qiangxue)\n- Enh #7361: The `trim` validator now works on the client side too (qiangxue)\n- Enh #7440: Added support to automatically set the `maxlength` attribute for `Html::activeTextInput()` (llfm)\n- Enh #7446: Added `Schema::TYPE_DOUBLE` to represent ANSI SQL Double Precision type (samdark)\n- Enh #7449: Added `encode` option to allow not encoding select options for `Html::dropDownList()` and `Html::listBox()` (yapi68, qiangxue)\n- Enh: Added support to `yii\\di\\Container` to instantiate and configure an object that implements `yii\\base\\Configurable` (qiangxue)\n- Chg #5690: adjusted paths in message config generated by `yii message/config` to reflect directory structure better (mikehaertl, samdark)\n- Chg #6661: Hyperlinks that are enclosed within an exist form will use the same form for submission if they specify both of the `href` and `data-method` attributes (qiangxue)\n- Chg #7094: Console confirmation must be answered correctly. To return `true`: `y` or `yes`. To return `false`: `n` or `no`. Any other input the question will be asked again (thiagotalma)\n- Chg #7130: Changed the signature of `ActiveRecord::findByCondition()` to simplify the implementation and usage (Faryshta)\n- Chg #7215: Uses OpenSSL crypto lib instead of Mcrypt. Added testing of encrypted data compatibility, both backward and forward (tom--)\n\n\n### Apidoc Extension (yii2-apidoc)\n\n- no changes in this release.\n\n\n### Authclient Extension (yii2-authclient)\n\n- Enh #6892: Default value of `yii\\authclient\\clients\\Twitter::$authUrl` changed to 'authenticate', allowing usage of previous logged user without request an access (kotchuprik)\n\n\n### Bootstrap Extension (yii2-bootstrap)\n\n- no changes in this release.\n\n\n### Codeception Extension (yii2-codeception)\n\n- Bug #6978: DI Container is not reset when destroying application in functional tests (ivokund)\n\n\n### Composer Extension (yii2-composer)\n\n- no changes in this release.\n\n\n### Debug Extension (yii2-debug)\n\n- Bug #6903: Fixed display issue with phpinfo() table (kalayda, cebe)\n- Bug #7222: Debug toolbar wasn't displayed properly in rtl pages (mohammadhosain, johonunu, samdark)\n- Enh #6890: Added ability to filter by query type (pana1990)\n\n\n### Elasticsearch Extension (yii2-elasticsearch)\n\n- no changes in this release.\n\n\n### Faker Extension (yii2-faker)\n\n- no changes in this release.\n\n\n### Gii Extension (yii2-gii)\n\n- Chg #7328: Changed the way CRUD generator translates \"Create X\". Now it's a whole string because of translation difficulties (samdark)\n\n\n### Imagine Extension (yii2-imagine)\n\n- no changes in this release.\n\n\n### Jui Extension (yii2-jui)\n\n- Enh #7127: `name` or `model` and `attribute` are no longer required properties of `yii\\jui\\InputWidget` (nirvana-msu, cebe)\n\n\n### Mongodb Extension (yii2-mongodb)\n\n- Bug #7010: Fixed `yii\\mongodb\\Query::select` now allows excluding fields (Sammaye, klimov-paul)\n\n\n### Redis Extension (yii2-redis)\n\n- no changes in this release.\n\n\n### Smarty Extension (yii2-smarty)\n\n- Bug #6845: Fixed incorrect implementation of `{registerCssFile` and `{registerJsFile` (TomassunGitHub, samdark)\n- Bug #6991: Fixed exception when using `{use class='yii\\bootstrap\\Nav' type='function'}` (ivanlemeshev)\n\n\n### Sphinx Extension (yii2-sphinx)\n\n- Bug #7198: `yii\\sphinx\\Query` no longer attempts to call snippets for the empty query result set (Hrumpa)\n\n\n### Swiftmailer Extension (yii2-swiftmailer)\n\n- no changes in this release.\n\n\n### Twig Extension (yii2-twig)\n\n- no changes in this release.\n\n\n2.0.2 January 11, 2015\n----------------------\n\n- Bug #5577: formatting date and time values for years >=2038 or <=1901 on 32bit systems will not use intl extension but fall back to the PHP implementation (cebe)\n- Bug #6080: Oracle DB schema did not load column types correctly (wenbin1989)\n- Bug #6404: advanced project template `Alert` widget was generating duplicate IDs in case of multiple flashes (SDKiller)\n- Bug #6557: Link URLs generated by `yii\\widgets\\Menu` are not encoded (qiangxue)\n- Bug #6632: `yii\\di\\Container::get()` did not handle config parameter correctly when it is passed as a constructor parameter (qiangxue)\n- Bug #6648: Added explicit type casting to avoid dblib issues on SQL Server 2014 (o-rey)\n- Bug #6691: Fixed console help description parsing with UTF8 characters (cebe)\n- Bug #6717: Fixed issue with UrlManager not matching a route on URL creation when it was prefixed with `/` and pattern was empty (cebe)\n- Bug #6736: Removed `Content-Transfer-Encoding` from the list of default download headers (DaSourcerer)\n- Enh #4502: Added alias support to URL route when calling `yii\\helpers\\Url::toRoute()` and `yii\\helpers\\Url::to()` (qiangxue, lynicidn)\n- Enh #5194: `yii\\console\\controllers\\AssetController` now handles bundle files from external resources properly (klimov-paul)\n- Enh #6247: Logger and error handler are now using slightly less memory (stepanselyuk, samdark)\n- Enh #6398: Added support for specifying dependent component in terms of a configuration array for classes such as `DbCache` (qiangxue)\n- Enh #6434: Added `yii\\behaviors\\SluggableBehavior::immutable` to support keeping the generated slug unchanged (trntv)\n- Enh #6467: `yii\\widgets\\ActiveForm` will scroll to the nearest visible element when the first error input is hidden (newartix)\n- Enh #6488: Support changing `yii\\base\\Theme::basePath` during runtime (qiangxue)\n- Enh #6618: Added Model::addErrors() (slavcodev, pana1990)\n- Enh #6739: Log `Target` now works also when there is no `Yii::$app` instance available, no message prefix will be added in this case (schmunk42)\n- Enh #6748: Improved HTML to Text converter in BaseMailer to generate more readable and correct text version of emails (cebe)\n- Chg #6427: In case of invalid route web application now throws exception with \"Page not found\" instead of \"Invalid Route\" (cebe, samdark)\n- Chg #6641: removed zero padding from ETag strings (DaSourcerer)\n- Chg #6678: `yii\\behaviors\\SluggableBehavior` will generate a new slug only when the slug attribute is empty or the source attribute is changed (qiangxue)\n\n\n### Authclient Extension (yii2-authclient)\n\n- Bug #6502: Fixed `yii\\authclient\\OAuth2::refreshAccessToken()` does not save fetched token (sebathi)\n- Bug #6510: Fixed infinite redirect loop using default `yii\\authclient\\AuthAction::cancelUrl` (klimov-paul)\n\n\n### Bootstrap Extension (yii2-bootstrap)\n\n- Bug #6672: `yii\\bootstrap\\Dropdown` should register client event handlers (qiangxue)\n\n\n### Debug Extension (yii2-debug)\n\n- Bug #4820: Fixed reading incomplete debug index data in case of high request concurrency (martingeorg, samdark)\n- Chg #6572: Allow panels to stay even if they do not receive any debug data (qiangxue)\n\n\n### Elasticsearch Extension (yii2-elasticsearch)\n\n- Enh: Added `ActiveFixture` class for testing fixture support for elasticsearch (cebe, viilveer)\n\n\n### Gii Extension (yii2-gii)\n\n- Bug #6463: The Gii controller generator generates incorrect controller namespace (pana1990)\n- Enh #3665: Better default behavior for ModelSearch generated by the crud generator (qiangxue, mdmunir)\n\n\n### Jui Extension (yii2-jui)\n\n- Enh #6570: Datepicker now uses fallback to find language files, e.g. application language is `de-DE` and the translation files does not exists, it will use `de` instead (cebe)\n- Enh #6471: Datepicker will now show an empty field when value is an empty string (cebe)\n\n\n### Mongodb Extension (yii2-mongodb)\n\n- Bug #6376: Fixed lazy load of relations to `yii\\mongodb\\file\\ActiveRecord` (klimov-paul)\n\n\n### Redis Extension (yii2-redis)\n\n- Bug #6547: Fixed redis connection to deal with large data in combination with `mget()` (pyurin)\n\n\n### Sphinx Extension (yii2-sphinx)\n\n- Bug #6621: Creating sub query at `yii\\sphinx\\Query::queryScalar()` fixed (klimov-paul)\n\n\n### Twig Extension (yii2-twig)\n\n- Bug #6464: `path` and `url` weren't resolving aliases (samdark, lynicidn)\n\n\n2.0.1 December 07, 2014\n-----------------------\n\n- Bug #4471: `yii\\caching\\ApcCache::getValues()` now returns array in case of APC is installed but not enabled in CLI mode (samdark, cebe)\n- Bug #4823: `yii message` accuracy and error handling were improved (samdark)\n- Bug #4889: Application was getting into redirect loop when user wasn't allowed accessing login page. Now shows 403 (samdark)\n- Bug #5070: Gii controller generator should use controller class name instead of controller ID to specify new controller (qiangxue)\n- Bug #5402: Debugger was not loading when there were closures in asset classes (samdark)\n- Bug #5448: Date formatter was doing timezone conversion on date only values resulting in different date displayed than provided (cebe)\n- Bug #5452: Errors occurring after the response is sent are not displayed (qiangxue)\n- Bug #5521: Fixed `yii\\console\\controllers\\AssetController` breaks CSS URLs, which start from '/' (klimov-paul)\n- Bug #5570: `yii\\bootstrap\\Tabs` would throw an exception if `content` is not set for one of its `items` (RomeroMsk)\n- Bug #5584: `yii\\rbac\\DbRbacManager` should not delete items when deleting a rule on a database not supporting cascade update (mdmunir)\n- Bug #5601: Simple conditions in Query::where() and ActiveQuery::where() did not allow `yii\\db\\Expression` to be used as the value (cebe, stevekr)\n- Bug #5619: `yii\\log\\Target` should not attempt to start session when there is none (klimov-paul, qiangxue)\n- Bug #5657: `yii\\caching\\ApcCache::mset()` and `madd()` may cause warning in some APC setup (LAV45)\n- Bug #5665: The `currentPage` meta data in the RESTful result should be 1-based, similar to that in HTTP headers (qiangxue)\n- Bug #5682: The `asset` command would incorrectly combine CSS files when `yii\\web\\AssetManager::linkAssets` is true (dmvslv)\n- Bug #5702: Parenthesis should be automatically added to `yii\\validators\\Validator::whenClient` to avoid js error (mdmunir, qiangxue)\n- Bug #5745: Gii and debug modules may cause 404 exception when the route contains dashes (qiangxue)\n- Bug #5748: Smarty `{path` was generating absolute URLs instead of relative ones (samdark, motzel)\n- Bug #5768: When setting `data-confirm` attribute to a submit button, clicking on the button would not trigger form submission (qiangxue)\n- Bug #5780: `QueryBuilder::batchInsert()` may cause \"undefined index\" error (qiangxue)\n- Bug #5833: The `message` command fails with a FK constraint error when trying to update messages (qiangxue)\n- Bug #5863: Selecting all individual `yii\\grid\\CheckboxColumn` checkboxes in grid view wasn't resulting in \"all\" checkbox selected (samdark)\n- Bug #5893: `yii\\helpers\\ArrayHelper::toArray()` now applies `$properties` parameter for converting descending objects in recursive calls (otsec)\n- Bug #5925: `yii\\helpers\\ArrayHelper::htmlEncode()` does not work properly when the value being encoded is a nested array (tebazil)\n- Bug #5962: DateValidator was throwing a warning on invalid dates using the ICU format on Windows, Yii now works around this [PHP Bug](https://bugs.php.net/bug.php?id=68528) (cebe)\n- Bug #5997: The same message may be exported twice to log targets (klimov-paul)\n- Bug #6018: When setting the `encode` option via `yii\\widgets\\ActiveRecord::errorOptions`, it works the other way around (stanishevsky, qiangxue)\n- Bug #6049: `yii\\db\\Connection::getSchema()` for Oracle should return false when the table does not exist. Oracle does not support `ON UPDATE` clause. (wenbin1989)\n- Bug #6081: `yii\\rbac\\DbManager::getChildren()` was not quoting column name properly (wenbin1989)\n- Bug #6107: `yii message` was emptying existing translations in .po in case of multiple categories (samdark)\n- Bug #6112: `yii message` was incorrectly writing not yet translated strings in .po in case of multiple categories (samdark)\n- Bug #6172: `yii\\rbac\\DbManager` should properly quote table and column names (qiangxue)\n- Bug #6164: Added missing support for `yii\\db\\Expression` to `yii\\db\\QueryBuilder` `BETWEEN` and `LIKE` conditions (cebe)\n- Bug #6236: No JS scripts should be registered when `yii\\widgets\\ActiveForm::enableClientScript` is false (qiangxue)\n- Bug #6150: `yii\\bootstrap\\Tabs` dropdown IDs were generated incorrectly (samdark)\n- Bug #6266: Clicking on reset button does not hide error summary when using ` (InteLigent, qiangxue)\n- Bug #6271: Query caching returns the same data when running the same SQL with `yii\\widgets\\ActiveForm` different fetch modes (grachov)\n- Bug #6279: `yii\\db\\Schema::getLastInsertID()` was passing wrong default schema name to PDO (samdark)\n- Bug #6305: `yii\\i18n\\Formatter::asParagraphs()` was not unicode-aware (samdark)\n- Bug #6311: Optimistic lock for ActiveRecord does not work as expected (qiangxue)\n- Bug #6367: Added `yii\\gii\\generators\\crud\\Generator` to support customizing view path for the generated CRUD controller (qiangxue)\n- Bug #6381: Client-side file validation should be disabled if the browser does not support it (Skysplit)\n- Bug: Gii console command help information does not contain global options (qiangxue)\n- Bug: `yii\\web\\UrlRule` was unable to create URLs for rules containing unicode characters (samdark)\n- Bug: `yii\\web\\AssetManager` should not publish disabled asset bundles (qiangxue)\n- Enh #608: Added `yii\\web\\AssetConverter::$forceConvert` (klimov-paul)\n- Enh #4146: Added `yii\\bootstrap\\ButtonDropdown::$containerOptions` (samdark)\n- Enh #4181: Added `yii\\bootstrap\\Modal::$headerOptions` and `yii\\bootstrap\\Modal::$footerOptions` (tuxoff, samdark)\n- Enh #4263: Added migration and SQL schema files for `yii\\log\\DbTarget` (samdark)\n- Enh #4395: Added `$checkAjax` parameter to `yii\\web\\Response::redirect()` to support default redirection behavior for AJAX/PJAX requests (qiangxue)\n- Enh #4450: Added `yii\\bootstrap\\Nav::renderDropdown()` (qiangxue)\n- Enh #4457: Added support for using noscript for css files registered through asset bundles and Html helper (samdark)\n- Enh #4492: Support PostgreSQL-specific syntax for `yii\\db\\QueryBuilder::alterColumn()` (qiangxue)\n- Enh #4643: Extra options specified in `yii\\widgets\\Breadcrumbs::links` will be treated as HTML attributes for the generated hyperlinks (qiangxue)\n- Enh #4739: Better display of exceptions when the response format is set as \"raw\" format (qiangxue)\n- Enh #4791: Added console output support and more colors for console commands (6pblcb, samdark, klimov-paul, Ragazzo)\n- Enh #5005: Added support to suppress loading the same CSS files in AJAX responses (tof06, qiangxue)\n- Enh #5223: Query builder now supports selecting sub-queries as columns (qiangxue)\n- Enh #5367: Added `yii\\grid\\DataColumn::encodeLabel` (SDKiller)\n- Enh #5480: Added defensive code to `yii\\web\\User::getIdentity()` to avoid potential infinite recursion (qiangxue)\n- Enh #5494: Added support for specifying a menu header as a configuration array in `yii\\bootstrap\\Dropdown` (hiltonjanfield, qiangxue)\n- Enh #5503: Added support for `DateTimeImmutable` to `yii\\i18n\\Formatter` (olegtsvetkov, cebe)\n- Enh #5587: `json_encode` is now used with `JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE` where it makes sense, also\n  it is now default for `yii\\helpers\\Json::encode()` (samdark)\n- Enh #5600: Allow configuring debug panels in `yii\\debug\\Module::panels` as panel class name strings (qiangxue)\n- Enh #5613: Added `--overwrite` option to Gii console command to support overwriting all files (motin, qiangxue)\n- Enh #5627: Added `yii cache/flush-schema` console command to flush DB schema cache of a given database connection (6pblcb, samdark)\n- Enh #5646: Call `yii\\base\\ErrorHandler::unregister()` instead of `restore_*_handlers` directly (aivus)\n- Enh #5683: Added `yii\\i18n\\Formatter::defaultTimeZone` for specifying the default time zone to use for datetime values stored in the database (cebe)\n- Enh #5688: Added optional `$formName` to `Model::loadMultiple()` to support customizing form name directly (qiangxue)\n- Enh #5735: Added `yii\\bootstrap\\Tabs::renderTabContent` to support manually rendering tab contents (RomeroMsk)\n- Enh #5770: Added more PHP error names for `ErrorException` (mongosoft)\n- Enh #5799: `yii\\bootstrap\\ButtonGroup::buttons` can take all options that are supported by `yii\\bootstrap\\Button` (aleksanderd)\n- Enh #5806: Allow `Html::encode()` to be used when the application is not started (qiangxue)\n- Enh #5954: `yii message` command now shows user friendly error if it's not able to parse source file (samdark)\n- Enh #5983: Added `yii\\helpers\\Inflector::sentence()` (pana1990, qiangxue)\n- Enh #6113: Improved debugger configuration and request UI (schmunk42)\n- Enh #6207: Added support for truncating HTML strings using `StringHelper::truncate()` and `StringHelper::truncateWords()` (Alex-Code)\n- Enh #6318: Made widgets more error-tolerant and user-friendly when certain option values are null (qiangxue)\n- Enh: `Console::confirm()` now uses `Console::stdout()` instead of `echo` to be consistent with all other functions (cebe)\n- Enh: `yii\\rbac\\DbManager` migration now uses database component specified in component settings instead of always using default `db` (samdark)\n- Enh: Added `yii\\base\\Controller::renderContent()` (qiangxue)\n- Enh: `yii fixture` command now offers help if no arguments are provided instead of crashing (samdark)\n- Chg #3630: `yii\\db\\Command::queryInternal()` is now protected (samdark)\n- Chg #4277: `yii\\grid\\GridView` is no longer throwing an exception when results are empty and `columns` aren't defined (samdark)\n- Chg #5508: Dropped the support for the `--append` option for the `fixture` command (qiangxue)\n- Chg #5874: Upgraded Twitter Bootstrap to 3.3.x (samdark)\n\n\n### Apidoc Extension (yii2-apidoc)\n\n- Bug #5623: Fixed crash when a class contains a setter that has no arguments e.g. `setXyz()` (cebe)\n- Bug #5899: Incorrect class listed as `definedBy` reference for properties (cebe)\n- Bug: Guide and API renderer now work with relative paths/URLs (cebe)\n- Enh: Guide generator now skips `images` directory if it does not exist instead of throwing an error (cebe)\n- Enh: Made `--guidePrefix` option available as a command line option (cebe)\n\n\n### Authclient Extension (yii2-authclient)\n\n- Bug #6000: Fixed CCS for `yii\\authclient\\widgets\\AuthChoice` does not loaded if `popupMode` disabled (klimov-paul)\n\n\n### Bootstrap Extension (yii2-bootstrap)\n\n- Bug #5570: `yii\\bootstrap\\Tabs` would throw an exception if `content` is not set for one of its `items` (RomeroMsk)\n- Bug #6150: `yii\\bootstrap\\Tabs` dropdown IDs were generated incorrectly (samdark)\n- Enh #4146: Added `yii\\bootstrap\\ButtonDropdown::$containerOptions` (samdark)\n- Enh #4181: Added `yii\\bootstrap\\Modal::$headerOptions` and `yii\\bootstrap\\Modal::$footerOptions` (tuxoff, samdark)\n- Enh #4450: Added `yii\\bootstrap\\Nav::renderDropdown()` (qiangxue)\n- Enh #5494: Added support for specifying a menu header as a configuration array in `yii\\bootstrap\\Dropdown` (hiltonjanfield, qiangxue)\n- Enh #5735: Added `yii\\bootstrap\\Tabs::renderTabContent` to support manually rendering tab contents (RomeroMsk)\n- Enh #5799: `yii\\bootstrap\\ButtonGroup::buttons` can take all options that are supported by `yii\\bootstrap\\Button` (aleksanderd)\n- Chg #5874: Upgraded Twitter Bootstrap to 3.3.x (samdark)\n\n\n### Debug Extension (yii2-debug)\n\n- Bug #5402: Debugger was not loading when there were closures in asset classes (samdark)\n- Bug #5745: Gii and debug modules may cause 404 exception when the route contains dashes (qiangxue)\n- Enh #5600: Allow configuring debug panels in `yii\\debug\\Module::panels` as panel class name strings (qiangxue)\n- Enh #6113: Improved configuration and request UI (schmunk42)\n- Enh: Made `DefaultController::getManifest()` more robust against corrupt files (cebe)\n\n\n### Elasticsearch Extension (yii2-elasticsearch)\n\n- Bug #5662: Elasticsearch AR updateCounters() now uses explicitly `groovy` script for updating making it compatible with ES >1.3.0 (cebe)\n- Bug #6065: `ActiveRecord::unlink()` was failing in some situations when working with relations via array valued attributes (cebe)\n- Enh #5758: Allow passing custom options to `ActiveRecord::update()` and `::delete()` including support for routing needed for updating records with parent relation (cebe)\n- Enh: Add support for optimistic locking (cebe)\n\n\n### Gii Extension (yii2-gii)\n\n- Bug #5070: Gii controller generator should use controller class name instead of controller ID to specify new controller (qiangxue)\n- Bug #5745: Gii and debug modules may cause 404 exception when the route contains dashes (qiangxue)\n- Bug #6367: Added `yii\\gii\\generators\\crud\\Generator` to support customizing view path for the generated CRUD controller (qiangxue)\n- Bug: Gii console command help information does not contain global options (qiangxue)\n- Enh #5613: Added `--overwrite` option to Gii console command to support overwriting all files (motin, qiangxue)\n\n\n### Mongodb Extension (yii2-mongodb)\n\n- Bug #6026: Fixed `yii\\mongodb\\ActiveRecord` saves `null` as `_id`, if attributes are empty (klimov-paul)\n- Enh #3855: Added debug toolbar panel for MongoDB (klimov-paul)\n- Enh #5592: Added support for 'findAndModify' operation at `yii\\mongodb\\Query` and `yii\\mongodb\\ActiveQuery` (klimov-paul)\n\n\n### Redis Extension (yii2-redis)\n\n- Bug #4745: value of simple string returns was ignored by redis client and `true` is returned instead, now only `OK` will result in a `true` while all other values are returned as is (cebe)\n- Enh #3714: Added support for connecting to redis server using a unix socket (savvot, robregonm)\n\n\n### Smarty Extension (yii2-smarty)\n\n- Bug #5748: `{path` was generating absolute URLs instead of relative ones (samdark, motzel)\n\n\n### Sphinx Extension (yii2-sphinx)\n\n- Bug #5601: Simple conditions in `yii\\sphinx\\Query::where()`` and `yii\\sphinx\\ActiveQuery::where()` did not allow `yii\\db\\Expression` to be used as the value (cebe, stevekr)\n- Bug #5634: Fixed `yii\\sphinx\\QueryBuilder` does not support comparison operators (>,<,>= etc) in where specification (klimov-paul)\n- Bug #6164: Added missing support for `yii\\db\\Exression` to QueryBuilder `LIKE` conditions (cebe)\n- Enh #5223: Query builder now supports selecting sub-queries as columns (qiangxue)\n\n\n2.0.0 October 12, 2014\n----------------------\n\n- Bug #4881: Fixed `yii\\console\\controllers\\AssetController` breaks CSS URLs on Windows (klimov-paul)\n- Bug #5171: Fixed the bug that ActiveForm + Pjax submit event is only triggered once (qiangxue)\n- Bug #5242: Fixed `yii\\console\\controllers\\AssetController` breaks CSS URLs in case target file localed at `yii\\web\\AssetManager::basePath` root (klimov-paul)\n- Bug #5252: Null values are not properly handled by `RangeValidator` (githubjeka, qiangxue)\n- Bug #5260: `yii\\i18n\\Formatter::decimalSeparator` and `yii\\i18n\\Formatter::thousandSeparator` where not configurable when intl is not installed (execut, cebe)\n- Bug #5314: Fixed typo in the implementation of `yii\\web\\Session::getHasSessionId()` (qiangxue)\n- Bug #5323: Nested dropdown does not work for `yii\\bootstrap\\DropDown` (aryraditya)\n- Bug #5336: `yii\\bootstrap\\DropDown` should register bootstrap plugin asset (zelenin)\n- Bug #5379: `yii\\base\\Module::afterAction()` was called even when `beforeAction()` returned false (cebe)\n- Bug #5408: Gii console command incorrectly reports errors when there is actually no error (qiangxue)\n- Bug #5423: `yii\\behaviors\\Cors` causes \"undefined index\" error when its `cors` is configured (qiangxue)\n- Bug #5424: `yii\\helpers\\Html::addCssStyle()` wasn't correctly setting style passed in array (kartik-v, samdark)\n- Bug #5435: Added extra checks to `yii\\rbac\\DbManager` to prevent database exceptions when `$userId` is empty (samdark)\n- Bug #5484: Fixed potential string suffix detection failure on 5.5.11 (qiangxue)\n- Bug: Date and time formatting now assumes UTC as the timezone for input dates unless a timezone is explicitly given (cebe)\n- Enh #4040: Added `$viewFile` and `$params` to the `EVENT_BEFORE_RENDER` and `EVENT_AFTER_RENDER` events for `View` (qiangxue)\n- Enh #4275: Added `removeChildren()` to `yii\\rbac\\ManagerInterface` and implementations (samdark)\n- Enh: Added `yii\\base\\Application::loadedModules` (qiangxue)\n- Enh #5316: Added `startsWith()` and `endsWith()` to `yii\\helpers\\StringHelper`. Methods are binary-safe, multibyte-safe and optionally case-insensitive (armab)\n- Enh #5467: Added ability to pass HTML tag options to `asEmail()`, `asImage()` and `asUrl()` methods of `yii\\i18n\\Formatter` (alxkolm, samdark)\n- Chg #2037: Dropped the support for using `yii\\base\\Module` as concrete module classes (qiangxue)\n- Chg: Updated cebe/markdown to 1.0.0 which includes breaking changes in its internal API (cebe)\n- Chg: If you are using CUBRID DBMS, make sure to use at least version 9.3.0 because quoting is broken in prior versions and Yii has no reliable way to work around this issue (cebe)\n\n\n2.0.0-rc September 27, 2014\n---------------------------\n\n- Bug #1263: Fixed the issue that Gii and Debug modules might be affected by incompatible asset manager configuration (qiangxue)\n- Bug #2314: Gii model generator does not generate correct relation type in some special case (qiangxue)\n- Bug #2563: Theming is not working if the path map of the theme contains \"..\" or \".\" in the paths (qiangxue)\n- Bug #2801: Fixed the issue that GridView gets footer content before data cells content (ElisDN)\n- Bug #2821: Console help command incorrectly lists non-console controllers as available commands (qiangxue)\n- Bug #2853: ActiveRecord did not handle resource-typed columns well (chris68, qiangxue)\n- Bug #3042: `yii\\widgets\\Pjax` should end application right after it finishes responding to a pjax request (qiangxue)\n- Bug #3066: `yii\\db\\mssql\\Schema::getTableSchema()` should return null when the table does not exist (qiangxue)\n- Bug #3091: Fixed inconsistent treatment of `Widget::run()` when a widget is used as a container and as a self-contained object (qiangxue)\n- Bug #3118: Ensure client validation has the same behavior as server side validation for number validator (cebe)\n- Bug #3121: `yii\\base\\Application::bootstrap` may fail to load some components if they are specified as class names (qiangxue)\n- Bug #3125: `yii\\console\\controllers\\AssetController` now respects data URL resources (klimov-paul)\n- Bug #3128: Fixed the bug that `defaultRoles` set in RBAC manager was not working as specified (qiangxue)\n- Bug #3153: Fixed the bug that using \"between\" operator to build a SQL query will cause a PHP notice (gonimar)\n- Bug #3184: Fixed the bug that client validation for string length comparison did not set error message correctly (Sergeygithub)\n- Bug #3194: Date formatter works only for timestamps in the year range 1970 to 2038 (kartik-v)\n- Bug #3197: Using `yii\\db\\ActiveQuery::indexBy()` may cause relational AR queries to generate incorrect relational results (qiangxue)\n- Bug #3204: `yii\\di\\Container` did not handle the `$config` parameter well in case when it does not have a default value (qiangxue)\n- Bug #3216: Fixed the bug that `yii.activeForm.destroy()` did not remove `submit` event handlers (qiangxue)\n- Bug #3233: Ensure consistent behavior in `yii\\db\\ActiveRecord::afterSave()`` (cebe, qiangxue)\n- Bug #3236: Return value for `DateTime->format('U')`` casted to double to allow correct date formatting (pgaultier)\n- Bug #3268: Fixed the bug that the schema name in a table name was not respected by `yii\\db\\mysql\\Schema` (terazoid, qiangxue)\n- Bug #3311: Fixed the bug that `yii\\di\\Container::has()` did not return correct value (mgrechanik, qiangxue)\n- Bug #3327: Fixed \"Unable to find debug data\" when logging objects with circular references (jarekkozak, samdark)\n- Bug #3368: Fix for comparing numeric attributes in JavaScript (technixp)\n- Bug #3393: Fix `yii\\helpers\\FileHelper::copyDirectory()` pattern not working (klimov-paul)\n- Bug #3431: Allow using extended `yii\\base\\ErrorHandler` class from the app namespace (cebe)\n- Bug #3436: Fixed the issue that `yii\\di\\ServiceLocator` still returns the old component after calling `set()` with a new definition (qiangxue)\n- Bug #3458: Fixed the bug that the image rendered by `CaptchaAction` was using a wrong content type (MDMunir, qiangxue)\n- Bug #3473: Allow postgreSQL to specify timestamp precision via abstract types in `yii\\db\\QueryBuilder` (cebe)\n- Bug #3478: Fixed `yii\\console\\Controller::select()` accept empty input as '0' value (lynicidn)\n- Bug #3522: Fixed `yii\\helpers\\FileHelper::normalizePath()` to allow a (.) for the current path. (skotos)\n- Bug #3548: Fixed the bug that X-Rate-Limit-Remaining header is always zero when using RateLimiter (qiangxue)\n- Bug #3559: Use native support for batchInsert in SQLite versions >= 3.7.11 and avoid limitations of the fallback (cebe)\n- Bug #3564: Fixed the bug that primary key columns should not take default values from schema (qiangxue)\n- Bug #3567: Fixed the bug that smallint was treated as string for PostgreSQL (qiangxue)\n- Bug #3568: When the primary query sets `asArray`, it is not respected by the `via` relational query (qiangxue)\n- Bug #3578: Fixed postgreSQL column type detection, added missing types (MDMunir, cebe)\n- Bug #3583: Added typecast to auto value of primary key on insert of SQL Active Record (cebe)\n- Bug #3591: Fixed incomplete obsolete filling in i18n `MessageController::saveMessagesToDb()` (advsm)\n- Bug #3601: Fixed the bug that the refresh URL was not generated correctly by `Captcha` (qiangxue, klevron)\n- Bug #3638: `yii\\filters\\HttpCache` does not work as expected when session is started before the filter (qiangxue)\n- Bug #3681: Fixed problem with AR::findOne() when a default scope joins another table so that PK name becomes ambigous (cebe)\n- Bug #3715: Fixed the bug that using a custom pager/sorter with `GridView` may generate two different pagers/sorters if the layout configures two pagers/sorters (qiangxue)\n- Bug #3716: `yii\\base\\DynamicModel::validateData()` does not call `validate()` if the `$rules` parameter is empty (qiangxue)\n- Bug #3725: Fixed the bug that the filtering condition used in relation definition was ignored when calling `ActiveRecord::unlinkAll()`. (qiangxue, cebe)\n- Bug #3738: `yii\\widgets\\ActiveField` custom error selector not functioning (qiangxue)\n- Bug #3751: Fixed postgreSQL schema data for enum values, do not add values if there are none (makroxyz)\n- Bug #3752: `QueryBuilder::batchInsert()` does not typecast input values (qiangxue)\n- Bug #3756: Fix number formatting error for `yii\\base\\Formatter` by converting strings to float (kartik-v)\n- Bug #3772: Behaviors adding validation rules do not work as expected (qiangxue)\n- Bug #3817: `yii\\rbac\\PhpManager::getChildren()` returns null instead of expected empty array (qiangxue)\n- Bug #3843: Fixed Menu bug when using `template` with `encodeLabel` => false (creocoder, umneeq)\n- Bug #3863: Fixed incorrect js selector for `yii\\widgets\\ActiveForm::errorSummaryCssClass` when it contains multiple classes (creocoder, umneeq)\n- Bug #3893: Headers did not overwrite default setting by webserver (cebe)\n- Bug #3909: `yii\\helpers\\Html::to()` should not prefix base URL to URLs that already contain scheme (qiangxue)\n- Bug #3920: Fixed issue with loading default values of PostgreSQL boolean columns (cebe)\n- Bug #3934: `yii.handleAction()` in `yii.js` does not correctly detect if a hyperlink contains useful URL or not (joni-jones, qiangxue)\n- Bug #3968: Messages logged in shutdown functions are not handled (qiangxue)\n- Bug #3989: Fixed `yii\\log\\FileTarget::rotateByCopy` to avoid any rename (cebe)\n- Bug #3996: Traversing `Yii::$app->session` may cause a PHP error (qiangxue)\n- Bug #4020: OCI column detection did not work so gii and other things failed (Sanya1991)\n- Bug #4105: `yii\\helpers\\Html::dropDownlist()` options encodeSpaces was not applied to subgroups (MDMunir)\n- Bug #4123: Trace level in logger had no effect in Targets, traces where not logged (cebe)\n- Bug #4127: `yii\\captcha\\CaptchaValidator` clientside error message wasn't formed properly (samdark)\n- Bug #4162: Fixed bug where schema name was not used in `SHOW CREATE TABLE` query in `yii\\db\\mysql\\Schema` (stevekr)\n- Bug #4241: `yii\\widgets\\Pjax` was incorrectly setting container id (mitalcoi)\n- Bug #4254: `SqlDataProvider` does not work with Oracle and SQL Server (qiangxue, miramir)\n- Bug #4276: Added check for UPLOAD_ERR_NO_FILE in `yii\\web\\UploadedFile` and return null if no file was uploaded (OmgDef)\n- Bug #4342: mssql (dblib) driver does not support getting attributes (tof06)\n- Bug #4371: Active form client validation wasn't working in case of two models having same named fields (abrahamy)\n- Bug #4409: Upper case letters in subdirectory prefixes of controller IDs were not properly handled (qiangxue)\n- Bug #4412: Formatter used SI Prefixes for base 1024, now uses binary prefixes (kmindi)\n- Bug #4427: Formatter could do one division too much (kmindi)\n- Bug #4453: `yii message/extract` wasn't properly writing to po files in case of multiple categories (samdark)\n- Bug #4469: Make `yii\\base\\Security::compareString()` timing depend only on length of `$actual` input and add unit test. (tom--)\n- Bug #4470: Avoid endless loop when exporting logs with low values of flushInterval and eportInterval (cebe)\n- Bug #4497: Fixed `yii\\helpers\\StringHelper::byteSubstr()`` returning empty string on null $length param (mbman)\n- Bug #4514: Fixed Request class crashing when empty CSRF token value is sent in cookie (cebe)\n- Bug #4519: `yii\\base\\Model::isAttributeRequired()` should check if the `when` option of the validator is set (thiagotalma)\n- Bug #4592: Fixed `yii help` command was listing incorrect action names for methods like `actionSayNO` (samdark)\n- Bug #4654: Fixed issue with PostgreSQL and inserting boolean values with batch insert (cebe)\n- Bug #4672: Fixed issue with PostgreSQL handling of boolean values in queries, dropped support for using boolean value for integer columns (cebe)\n- Bug #4727: Fixed wrong Stylus definition in `yii\\web\\AssetConverter` (samdark)\n- Bug #4755: `yii\\test\\BaseActiveFixture::unload()` does not clean up the internal cached data (qiangxue)\n- Bug #4813: Fixed MSSQL schema that was getting incorrect info about constraints (samdark, SerjRamone, o-rey)\n- Bug #4880: Return value of yii\\web\\Request::getPrefferedLanguage() was a normalized value instead of a valid language value from the input array (cebe)\n- Bug #4905: ActiveForm::$validationDelay doesn't delay after keyrelease when $validateOnType=true (qiangxue)\n- Bug #4920: `yii\\filters\\auth\\CompositeAuth` should not trigger error as long as one of the methods succeeds (qiangxue)\n- Bug #4926: Fixed `yii\\console\\controllers\\MessageController` handles category name containing dot incorrectly (klimov-paul)\n- Bug #4938: When `yii\\db\\ActiveQuery` is used to build sub-queries, its WHERE clause is not correctly generated (qiangxue)\n- Bug #4954: MSSQL column comments are not retrieved correctly (SerjRamone)\n- Bug #4970: `joinWith()` called by a relation was ignored by `yii\\db\\ActiveQuery` (stepanselyuk)\n- Bug #5001: `yii\\rest\\CreateAction`, `yii\\rest\\UpdateAction` and `yii\\rest\\DeleteAction` should throw 500 error if the model operation returns false without validation errors (qiangxue)\n- Bug #5039: `UniqueValidator` and `ExistValidator` did not respect query conditions added by default scope (qiangxue)\n- Bug #5049: `yii\\widgets\\ActiveForm::validationDelay` should be applied to user types only (qiangxue)\n- Bug #5055: Fixed `yii\\console\\controllers\\CacheController` does not check if cache component instance of 'yii\\caching\\Cache' (klimov-paul)\n- Bug #5126: Fixed text body and charset not being set for multipart mail (nkovacs)\n- Bug: Fixed inconsistent return of `yii\\console\\Application::runAction()` (samdark)\n- Bug: URL encoding for the route parameter added to `yii\\web\\UrlManager` (klimov-paul)\n- Bug: Fixed the bug that requesting protected or private action methods would cause 500 error instead of 404 (qiangxue)\n- Bug: Fixed Object of class Imagick could not be converted to string in `yii\\captcha\\CaptchaAction` (eXprojects, cebe)\n- Bug: Fixed wrong behavior of `yii\\helpers\\StringHelper::byteSubstr()` in some edge cases (cebe)\n- Enh #87: Helper `yii\\helpers\\Security` converted into application component, cryptographic strength improved (klimov-paul)\n- Enh #422: Added Support for BIT(M) data type default values in Schema (cebe)\n- Enh #1160: Added $strict parameter to `yii\\helpers\\Inflector::camel2id()` to handle consecutive uppercase chars (schmunk)\n- Enh #1249: Added support for Active Record relation via array attributes (klimov-paul, cebe)\n- Enh #1388: Added mapping from physical types to abstract types for OCI DB driver (qiangxue)\n- Enh #1452: Added `yii\\base\\Module::getInstance()` to allow accessing the module instance from anywhere within the module (qiangxue)\n- Enh #2264: `yii\\web\\CookieCollection::has()` will return false for expired or removed cookies (qiangxue)\n- Enh #2315: Any operator now could be used with `yii\\db\\Query::where()` operand format (samdark)\n- Ehn #2380: Added `yii\\widgets\\ActiveForm::enableClientScript` to support turning on and off client side script generation (qiangxue)\n- Enh #2435: `yii\\db\\IntegrityException` is now thrown on database integrity errors instead of general `yii\\db\\Exception` (samdark)\n- Enh #2558: Enhanced support for memcached by adding `yii\\caching\\MemCache::persistentId` and `yii\\caching\\MemCache::options` (qiangxue)\n- Enh #2837: Error page now shows arguments in stack trace method calls (samdark)\n- Enh #2906: Added support for using conditional comments for js and css files registered through asset bundles and `yii\\helpers\\Html` helper (exromany, qiangxue)\n- Enh #2942: Added truncate and truncateWord methods (Alex-Code, samdark)\n- Enh #3008: Added `yii\\helpers\\Html::errorSummary()` (qiangxue)\n- Enh #3088: The debug and gii modules will manage their own URL rules now (hiltonjanfield, qiangxue)\n- Enh #3101: Improved handling of log target failures. It will now skip target and log reason instead of going into infinite cycle (samdark)\n- Enh #3103: debugger panel is now not displayed when printing a page (githubjeka)\n- Enh #3108: Added `yii\\debug\\Module::enableDebugLogs` to disable logging debug logs by default (qiangxue)\n- Enh #3132: `yii\\rbac\\PhpManager` now supports more compact data file format (qiangxue)\n- Enh #3154: Added validation error display for `GridView` filters (ivan-kolmychek)\n- Enh #3177: `yii\\filters\\auth\\CompositeAuth` will send out challenges from all auth methods (qiangxue)\n- Enh #3196: Masked input upgraded to use jquery.inputmask plugin with more features. (kartik-v)\n- Enh #3220: Added support for setting transaction isolation levels (cebe)\n- Enh #3221: Added events for DB transaction commit/rollback (drcypher, qiangxue)\n- Enh #3222: Added `useTablePrefix` option to the model generator for Gii (horizons2)\n- Enh #3230: Added `yii\\filters\\AccessControl::user` to support access control with different actors (qiangxue)\n- Enh #3232: Added `export()` and `exportAsString()` methods to `yii\\helpers\\BaseVarDumper` (klimov-paul)\n- Enh #3240: Added support for assigning an anonymous function to `yii\\widgets\\ActiveForm::fieldConfig` (qiangxue)\n- Enh #3244: Allow logging complex data such as arrays and object via the log system (cebe)\n- Enh #3252: Added support for case insensitive matching using ILIKE to PostgreSQL QueryBuilder (cebe)\n- Enh #3280: Support dynamically attaching anonymous behaviors (qiangxue)\n- Enh #3283: Added `$checkAjax` to `yii\\web\\User::loginRequired()` (qiangxue)\n- Enh #3284: Added support for checking multiple ETags by `yii\\filters\\HttpCache` (qiangxue)\n- Enh #3298: Supported configuring `View::theme` using a class name (netyum, qiangxue)\n- Enh #3328: `yii\\mail\\BaseMailer` generates better text body from html body (armab)\n- Enh #3380: Allow `value` in `defaultValueValidator` to be a closure (Alex-Code)\n- Enh #3384: Added callback-style transactions (leandrogehlen, Ragazzo, samdark)\n- Enh #3399, #3241: Added support for MS SQL Server older than 2012 (fourteenmeister, samdark)\n- Enh #3410: `yii.activeForm.js` now supports adding/removing fields dynamically (qiangxue)\n- Enh #3459: Added logging of errors, which may occur at `yii\\caching\\FileCache::gc()` (klimov-paul)\n- Enh #3472: Added configurable option to encode spaces in dropDownLists and listBoxes (kartik-v)\n- Enh #3518: `yii\\helpers\\Html::encode()` now replaces invalid code sequences with \"\ufffd\" (DaSourcerer)\n- Enh #3520: Added `unlinkAll()` method to Active Record to remove all records of a model relation (NmDimas, samdark, cebe)\n- Enh #3521: Added `yii\\filters\\HttpCache::sessionCacheLimiter` (qiangxue)\n- Enh #3542: Removed requirement to specify `extensions` in application config (samdark)\n- Enh #3562: Adding rotateByCopy to `yii\\log\\FileTarget` (pawzar)\n- Enh #3574: Add integrity check support for SQLite (zeeke)\n- Enh #3581: Added `yii\\validators\\CompareValidator::type` to support type conversion before comparing values (qiangxue)\n- Enh #3597: Nested array support for HTML5 custom `data-*` attributes (armab)\n- Enh #3607: Added support for limit in migrations actions: history, new, redo (Ragazzo)\n- Enh #3631: Added property `currencyCode` to `yii\\i18n\\Formatter` (leandrogehlen)\n- Enh #3636: Hide menu container tag with empty items in `yii\\widgets\\Menu` (arturf)\n- Enh #3643: Improved Mime-Type detection by using the `mime.types` file from apache http project to dected mime types by file extension (cebe, pavel-voronin, trejder)\n- Enh #3765: Added `yii\\web\\User::enableSession` to support authentication without using session (qiangxue)\n- Enh #3708: Added database replication and automatic read-write splitting support for `yii\\db\\Connection` (qiangxue)\n- Enh #3773: Added `yii\\validators\\FileValidator::mimeTypes` to support validating MIME types of files (Ragazzo)\n- Enh #3774: Added `yii\\validators\\FileValidator::checkExtensionByMimeType` to support validating file types against file mime-types (Ragazzo)\n- Enh #3801: Base migration controller `yii\\console\\controllers\\BaseMigrateController` extracted (klimov-paul)\n- Enh #3811: Now Gii model generator makes autocomplete for model class field (mitalcoi)\n- Enh #3926: `yii\\widgets\\Breadcrumbs::$links`. Allows individual link to have its own `template` (creocoder, umneeq)\n- Enh #3939: `yii\\helpers\\Inflector::slug()` improvements (samdark)\n    - Added protected `yii\\helpers\\Inflector::transliterate()` that could be replaced with custom translit implementation.\n    - Added proper tests for both intl-based slug and PHP fallback.\n    - Removed character maps for non-latin languages.\n    - Improved overall slug results.\n    - Added note about the fact that intl is required for non-latin languages to requirements checker.\n- Enh #3957: Added more straightforward configurable properties to `yii\\behaviors\\BlameableBehavior`, `yii\\behaviors\\SluggableBehavior` and `yii\\behaviors\\TimestampBehavior` (creocoder)\n- Enh #3992: In mail layouts you can now access the message object via `$message` variable (qiangxue)\n- Enh #4028: Added ability to `yii\\widgets\\Menu` to encode each item's label separately (creocoder, umneeq)\n- Enh #4048: Added `init` event to `yii\\bd\\ActiveQuery` classes (qiangxue)\n- Enh #4072: `yii\\rbac\\PhpManager` adjustments (samdark)\n    - Data is now stored in three separate files for items, assignments and rules. File format is simpler.\n    - Removed `authFile`. Added `itemFile`, `assignmentFile` and `ruleFile`.\n    - `createdAt` and `updatedAt` are now properly filled with corresponding file modification time.\n    - `save()` and `load()` are now protected instead of public.\n    - Added unit test for saving and loading data.\n- Enh #4080: Added proper handling and support of the symlinked directories in `yii\\helpers\\FileHelper`, added $options parameter in `yii\\helpers\\FileHelper::removeDirectory()` (resurtm)\n- Enh #4086: `changedAttributes` of `afterSave` Event now contain old values (dizews)\n- Enh #4114: Added `yii\\helpers\\Security::generateRandomBytes()`, improved tests (samdark)\n- Enh #4122: `yii\\helpers\\Html::error()` and `yii\\helpers\\Html::errorSummary()` are now accepting `encode` option. If set to false it prevents encoding of error messages (samdark)\n- Enh #4131: Security adjustments (tom--)\n     - Added HKDF to `yii\\base\\Security`.\n     - Reverted auto fallback to PHP PBKDF2.\n     - Fixed PBKDF2 key truncation.\n     - Adjusted API.\n- Enh #4209: Added `beforeCopy`, `afterCopy`, `forceCopy` properties to `yii\\web\\AssetManager` (cebe)\n- Enh #4225: Added `yii\\widgets\\ActiveForm::validateOnBlur` and `yii\\widgets\\ActiveField::validateOnBlur` (qiangxue)\n- Enh #4297: Added check for DOM extension to requirements (samdark)\n- Enh #4317: Added `absoluteAuthTimeout` to `yii\\web\\User` (ivokund, nkovacs)\n- Enh #4360: Added client validation support for file validator (Skysplit)\n- Enh #4372: `yii\\filters\\HttpCache` failed to comply to RFC 7232 (DaSourcerer)\n- Enh #4424: Added `inline` parameter to `yii\\web\\Response::xSendFile()` (klimov-paul)\n- Enh #4436: Added callback functions to AJAX-based form validation (thiagotalma)\n- Enh #4485: Added support for deferred validation in `yii\\widgets\\ActiveForm` (Alex-Code)\n- Enh #4520: Added sasl support to `yii\\caching\\MemCache` (xjflyttp)\n- Enh #4566: Added client validation support for image validator (Skysplit, qiangxue)\n- Enh #4581: Added ability to disable URL encoding in `yii\\web\\UrlRule` (tadaszelvys)\n- Enh #4602: Added $key param in `yii\\grid\\ActionColumn` buttons Closure call (disem)\n- Enh #4607: AR model will throw an exception if it does not have a primary key to avoid updating/deleting data massively (qiangxue)\n- Enh #4630: Added automatic generating of unique slug value to `yii\\behaviors\\Sluggable` (klimov-paul)\n- Enh #4636: Added `yii\\web\\Response::setDownloadHeaders()` (pawzar)\n- Enh #4644: Added `yii\\db\\Schema::createColumnSchema()` to be able to customize column schema used (mcd-php)\n- Enh #4656: HtmlPurifier helper config can now be a closure to change the purifier config object after it was created (Alex-Code)\n- Enh #4062: Added 'caseSensitive' option to `yii\\helpers\\BaseFileHelper::findFiles()` (klimov-paul)\n- Enh #4691: Encoding on `yii\\widgets\\ActiveForm` and `yii\\widgets\\ActiveField` validation errors is now configurable (Alex-Code)\n- Enh #4740: Added `yii\\web\\Session::addFlash()` (restyler)\n- Enh #4897: Added `yii\\helpers\\FileHelper::mimeMagicFile` (qiangxue)\n- Enh #5058: Added `$pageSize` parameter to `yii\\data\\Pagination::createUrl()` to allow creating URLs with arbitrary page sizes (cdcchen, qiangxue)\n- Enh #5089: Added asset debugger panel (arturf, qiangxue)\n- Enh #5117: Added `beforeFilter` and `afterFilter` JS events to `GridView` (kartik-v)\n- Enh #5124: Added support to prevent duplicated form submission when using `yii\\widgets\\ActiveForm` (qiangxue)\n- Enh #5131: Added `$autoRenew` parameter to `yii\\web\\User::getIdentity()` (qiangxue)\n- Enh #5164: Added `yii\\helpers\\Inlfector::$transliterator` that can be used to customize intl transliteration (zinzinday)\n- Enh: Added support for using sub-queries when building a DB query with `IN` condition (qiangxue)\n- Enh: Supported adding a new response formatter without the need to reconfigure existing formatters (qiangxue)\n- Enh: Added `yii\\web\\UrlManager::addRules()` to simplify adding new URL rules (qiangxue)\n- Enh: Added support to insert an event handler at the beginning of class-level event handler queue (qiangxue)\n- Enh: Added `yii\\console\\Controller::EXIT_CODE_NORMAL` and `yii\\console\\Controller::EXIT_CODE_ERROR` constants (samdark)\n- Enh: `yii\\console\\MigrateController` now returns `yii\\console\\Controller::EXIT_CODE_ERROR` in case of failed migration (samdark)\n- Enh: Added method `yii\\base\\ErrorHandler::unregister()`` for unregistering the ErrorHandler (cebe)\n- Enh: Added `all` option to `yii\\console\\controllers\\MigrateController::actionDown()` action (creocoder, umneeq)\n- Enh: Added support for array attributes in `exist` validator (creocoder)\n- Enh: Added support for using path alias with `FileDependency::fileName` (qiangxue)\n- Enh: Added param `hideOnSinglePage` to `yii\\widgets\\LinkPager` (arturf)\n- Enh: Added support for array attributes in `in` validator (creocoder)\n- Enh: Improved `yii\\helpers\\Inflector::slug()` to support more cases for Russian, Hebrew and special characters (samdark)\n- Enh: ListView now uses the widget ID in the base tag, consistent to gridview (cebe)\n- Enh: Added `yii\\web\\Response::enableCsrfCookie` to support storing CSRF tokens in session (qiangxue)\n- Chg #2287: Split `yii\\db\\ColumnSchema::typecast()` into two methods `phpTypecast()` and `dbTypecast()` to allow specifying PDO type explicitly (cebe)\n- Chg #2359: Refactored formatter class. One class with or without intl extension and PHP format pattern as standard (Erik_r, cebe)\n   - `yii\\base\\Formatter` functionality has been merged into `yii\\i18n\\Formatter`\n   - removed the `yii\\base\\Formatter` class\n- Chg #1551: Refactored `yii\\validators\\DateValidator `to support ICU date format and use the format defined in `yii\\i18n\\Formatter` by default (cebe)\n- Chg #2898: `yii\\console\\controllers\\AssetController` is now using hashes instead of timestamps (samdark)\n- Chg #2913: RBAC `yii\\rbac\\DbManager` is now initialized via migration (samdark)\n- Chg #2914: `yii\\widgets\\ActiveForm::fieldConfig` will be merged recursively with the `$options` parameter in `yii\\widgets\\ActiveForm::field()` (qiangxue)\n- Chg #3036: Upgraded Twitter Bootstrap to 3.1.x (qiangxue)\n- Chg #3175: `yii\\base\\InvalidCallException`, `yii\\base\\InvalidParamException`, `yii\\base\\UnknownMethodException` are now extended from SPL `BadMethodCallException` (samdark)\n- Chg #3358: Removed automatic CSRF meta tag generation by `View`. Added `yii\\helpers\\Html::csrfMetaTags()` and its call to main layout files (qiangxue)\n- Chg #3383: Added `$type` parameter to `IdentityInterface::findIdentityByAccessToken()` (qiangxue)\n- Chg #3511: Dropped `yii.allowAction()` and modified `yii.confirm()` in `yii.js` to support callbacks (tanakahisateru)\n- Chg #3531: `yii\\grid\\GridView` now allows any character (except \":\") in the attribute part of the shorthand syntax for columns (rawtaz)\n- Chg #3544: Added `$key` as a parameter to the callable specified via `yii\\grid\\DataColumn::value` (mdmunir)\n- Chg #3611: Query caching is refactored. (qiangxue)\n    - `yii\\db\\Connection::beginCache()` and `endCache()` are removed.\n    - Added `yii\\db\\Connection::cache()` and `noCache()`.\n    - Added `Command::cache()` and `noCache()`.\n    - `yii\\db\\Connection::queryCacheDuration` is now used as a default cache duration parameter.\n- Chg #3640: All cookies are now httpOnly by default in order to increase overall security (samdark)\n- Chg #3687: Default `sourceLanguage` and `language` are now `en-US` in order for i18n formatter to work correctly (samdark)\n- Chg #3804: Added `fileinfo` PHP extension to the basic requirement of Yii (Ragazzo)\n- Chg #3866: The `yii\\validators\\FileValidator::types` property is renamed to `yii\\validators\\FileValidator::extensions` (Ragazzo)\n- Chg #3897: Raised visibility of `yii\\web\\View::registerAssetFiles()` to protected (samdark)\n- Chg #3899: Moved `MailEvent` class to `yii\\mail` namespace (cebe)\n- Chg #3910: Removed the `container` option from `yii\\helpers\\Html::checkbox()` and `yii\\helpers\\Html::radio()` (creocoder)\n- Chg #3956: Flash messages set via `Yii::$app->session->setFlash()` will be removed only if they are accessed (qiangxue)\n- Chg #3989: The default value for `yii\\log\\FileTarget::$rotateByCopy` now defaults to true to work on windows by default (cebe)\n- Chg #4051: Renamed `yii\\caching\\GroupDependency` to `TagDependency` and added support for associating multiple tags to a single cached data item (qiangxue)\n- Chg #4071: `mail` component renamed to `mailer`, `yii\\log\\EmailTarget::$mail` renamed to `yii\\log\\EmailTarget::$mailer` (samdark)\n- Chg #4147: `yii\\mail\\BaseMailer::compose()` will not overwrite the `message` parameter if it is explicitly provided (qiangxue)\n- Chg #4188: API exceptions are now exposing less data when YII_DEBUG is false (samdark)\n- Chg #4201: change default value of `SyslogTarget::facility` from `LOG_SYSLOG` to `LOG_USER` (dizews)\n- Chg #4211: `yii\\db\\BaseActiveRecord::populateRecord()` now silently hide selected columns that are not defined in AR instead of failing with an error (miramir)\n- Chg #4227: `yii\\widgets\\LinkPager::hideOnSinglePage` is now `true` by default (samdark)\n- Chg #4310: Removed `$data` from signature of `yii\\rbac\\ManagerInterface` (samdark)\n- Chg #4318: `yii\\helpers\\Html::ul()` and `ol()` will return an empty list tag if an empty item array is given (qiangxue)\n- Chg #4331: `yii\\helpers\\Url` now uses `UrlManager` to determine base URL when generating URLs (qiangxue)\n- Chg #4424: Added `inline` and `mimeType` options to all file downloading methods provided in `yii\\web\\Response` (qiangxue)\n- Chg #4454: Improved asset bundle managed and used composer-asset-plugin to manage the dependencies on 3rd-party JS libraries (qiangxue)\n- Chg #4501: Renamed the constant `YII_PATH` to `YII2_PATH` (qiangxue)\n- Chg #4586: Signed bigint and unsigned int will be converted into integers when they are loaded from DB by AR (qiangxue)\n- Chg #4591: `yii\\helpers\\Url::to()` will no longer prefix relative URLs with the base URL (qiangxue)\n- Chg #4595: `yii\\widgets\\LinkPager`'s `nextPageLabel`, `prevPageLabel`, `firstPageLabel`, `lastPageLabel` are now taking `false` instead of `null` for \"no label\" (samdark)\n- Chg #4911: Changed callback signature used in `yii\\base\\ArrayableTrait::fields()` from `function ($field, $model) {` to `function ($model, $field) {` (samdark)\n- Chg #4955: Replaced callbacks with events for `yii\\widgets\\ActiveForm` (qiangxue)\n    - Removed `beforeValidate()`, `beforeValidateAll()`, `afterValidate()`, `afterValidateAll()`, `ajaxBeforeSend()` and `ajaxComplete()` from `yii\\widgets\\ActiveForm`.\n    - Added `beforeValidate`, `afterValidate`, `beforeValidateAttribute`, `afterValidateAttribute`, `beforeSubmit`, `ajaxBeforeSend` and `ajaxComplete` events to `yii.activeForm` jQuery plugin.\n- Chg #5176: `ActiveFixture` will reset table in its `load()` method instead of `unload()` (qiangxue)\n- Chg: Replaced `clearAll()` and `clearAllAssignments()` in `yii\\rbac\\ManagerInterface` with `removeAll()`, `removeAllRoles()`, `removeAllPermissions()`, `removeAllRules()` and `removeAllAssignments()` (qiangxue)\n- Chg: Added `$user` as the first parameter of `yii\\rbac\\Rule::execute()` (qiangxue)\n- Chg: `yii\\grid\\DataColumn::getDataCellValue()` visibility is now `public` to allow accessing the value from a GridView directly (cebe)\n- Chg: `yii\\data\\ActiveDataProvider::$query` will not be modified directly with pagination and sorting anymore so it will be reuseable (cebe)\n- Chg: Removed `yii\\rest\\ActiveController::$transactional` property and connected functionality (samdark)\n- Chg: Changed the default value of the `keyPrefix` property of cache components to be null (qiangxue)\n- Chg: Added `prefix` column to `yii\\log\\DbTarget` to have the same amount of information logged as in files and emails (cebe)\n- Chg: Use `limit(null)` instead of `limit(-1)` in migration controller to be compatible to more backends (cebe)\n- Chg: `yii\\web\\Request::cookieValidationKey` must be explicitly specified for each application that wants to use cookie validation (qiangxue)\n- Chg: Added `yii\\composer\\Installer::postCreateProject()` and modified the syntax of calling installer methods in composer.json (qiangxue)\n- Chg: When an ID is found to be in both `Application::controllerMap` and `Application::modules`, the former will take precedence (qiangxue)\n- Chg: `yii\\helpers\\Html::activeCheckbox()` and `activeRadio()` will generate labels by default using the corresponding attribute labels (qiangxue)\n- New #1280: Gii can now be run from command line (schmunk42, cebe, qiangxue)\n- New #3911: Added `yii\\behaviors\\SluggableBehavior` that fills the specified model attribute with the transliterated and adjusted version to use in URLs (creocoder)\n- New #4193: Added `yii\\filters\\Cors` CORS filter to allow Cross Origin Resource Sharing (pgaultier)\n- New #4945: Added `yii\\test\\ArrayFixture` (Ragazzo)\n- New: Added `yii\\base\\InvalidValueException` (qiangxue)\n- New: Added `yii\\caching\\ArrayCache` (cebe)\n\n\n2.0.0-beta April 13, 2014\n-------------------------\n\n- Bug #1265: `yii\\console\\controllers\\AssetController` does not override 'js' and 'css' for compressed bundles (klimov-paul)\n- Bug #1326: The `visible` setting for `yii\\widgets\\DetailView` doesn't work as expected (qiangxue)\n- Bug #1412: `yii\\validators\\FileValidator` and `yii\\validators\\ImageValidator` still trigger `uploadRequired` error in some case when `skipOnEmpty` is true and no upload is provided (qiangxue)\n- Bug #1446: Logging while logs are processed causes infinite loop (qiangxue)\n- Bug #1497: Localized view files are not correctly returned (mintao)\n- Bug #1500: Log messages exported to files are not separated by newlines (omnilight, qiangxue)\n- Bug #1504: Debug toolbar isn't loaded successfully in some environments when xdebug is enabled (qiangxue)\n- Bug #1509: The SQL for creating Postgres RBAC tables is incorrect (qiangxue)\n- Bug #1545: It was not possible to execute DB Query twice, params where missing (cebe)\n- Bug #1550: fixed the issue that JUI input widgets did not property input IDs.\n- Bug #1654: Fixed the issue that a new message source object is generated for every new message being translated (qiangxue)\n- Bug #1582: Error messages shown via client-side validation should not be double encoded (qiangxue)\n- Bug #1591: `yii\\validators\\StringValidator` is accessing undefined property (qiangxue)\n- Bug #1597: Added `enableAutoLogin` to basic and advanced project templates so \"remember me\" now works properly (samdark)\n- Bug #1631: Charset is now explicitly set to UTF-8 when serving JSON (samdark)\n- Bug #1635: `yii\\jui\\SliderInput` wasn't properly initialized (samdark)\n- Bug #1659: MSSQL doesn't support limit (Ana1oliy)\n- Bug #1686: `yii\\widgets\\ActiveForm` is creating duplicated messages in error summary (qiangxue)\n- Bug #1704: Incorrect regexp is used in `yii\\helpers\\Inflector::camelize()` (qiangxue)\n- Bug #1710: OpenId auth client does not request required attributes correctly (klimov-paul)\n- Bug #1798: Fixed label attributes for array fields (zhuravljov)\n- Bug #1800: Better check for `$_SERVER['HTTPS']` in `yii\\web\\Request::getIsSecureConnection()` (ginus, samdark)\n- Bug #1812: Hide potential warning message due to race condition occurring to `Session::regenerateID()` call (qiangxue)\n- Bug #1827: Debugger toolbar is loaded twice if an action is calling `run()` to execute another action (qiangxue)\n- Bug #1868: Added ability to exclude tables from `yii\\console\\controllers\\FixtureController` apply/clear actions. (Ragazzo)\n- Bug #1869: Fixed tables clearing. `TRUNCATE` changed to `DELETE` to avoid PostgreSQL tables checks (and truncating all tables) (Ragazzo)\n- Bug #1870: Validation errors weren't properly translated when using clientside validation (samdark)\n- Bug #1930: Fixed domain based URL matching for website root (samdark)\n- Bug #1937: Fixed wrong behavior or advanced app's `init --env` when called without parameter actually specified (samdark)\n- Bug #1959: `yii\\helpers\\Html::activeCheckbox()` wasn't respecting custom values for checked/unchecked state (klevron, samdark)\n- Bug #1965: `yii\\base\\Controller::findLayoutFile()` returns incorrect file path when layout name starts with a slash (qiangxue)\n- Bug #1992: In module scenario that use 'site/captcha' will get wrong refreshUrl (callmez)\n- Bug #1993: afterFind event in AR is now called after relations have been populated (cebe, creocoder)\n- Bug #1998: Unchecked required checkbox never pass client validation (klevron)\n- Bug #2084: AssetController adjusting CSS URLs declared at same line fixed (klimov-paul)\n- Bug #2091: `yii\\db\\QueryBuilder::buildInCondition()` fails to handle array not starting with index 0 (qiangxue)\n- Bug #2160: SphinxQL does not support OFFSET (qiangxue, romeo7)\n- Bug #2209: When I18N message translation is missing source language is now used for formatting (samdark)\n- Bug #2212: `yii\\gridview\\DataColumn` generates incorrect labels when used with nosql DB and there is no data (qiangxue)\n- Bug #2298: Fixed the bug that Gii controller generator did not allow digit in the controller ID (qiangxue)\n- Bug #2303: Fixed the bug that `yii\\base\\Theme::pathMap` did not support dynamic update with path aliases (qiangxue)\n- Bug #2324: Fixed QueryBuilder bug when building a query with \"query\" option (mintao)\n- Bug #2399: Fixed the bug that AssetBundle did not handle relative URLs correctly (qiangxue)\n- Bug #2502: Unclear error message when `$_SERVER['DOCUMENT_ROOT']` is empty (samdark)\n- Bug #2519: MessageSource removed translation messages when event handler was bound to `missingTranslation`-event (cebe)\n- Bug #2527: Source language for `app` message category was always `en` no matter which application `sourceLanguage` was used (samdark)\n- Bug #2559: Going back on browser history breaks `yii\\widgets\\GridView` filtering with `Pjax` (tonydspaniard)\n- Bug #2571: Fixed the bug that batchInsert will fail for SQLite if the values contain null or boolean false (qiangxue)\n- Bug #2607: `yii message` tool wasn't updating `message` table (mitalcoi)\n- Bug #2624: `yii\\helpers\\Html::textArea()`` should respect `name` option. (qiangxue)\n- Bug #2653: Fixed the bug that unsetting an unpopulated AR relation would trigger exception (qiangxue)\n- Bug #2681: Fixed the bug of php build-in server `https://bugs.php.net/bug.php?id=66606` (dizews)\n- Bug #2683: Fixed the bug that batchInsert will fail for MySQL if the values contain boolean false (qiangxue)\n- Bug #2695: Fixed the issue that `yii\\validators\\FileValidator::isEmpty()` always returns true for validate multiple files (ZhandosKz)\n- Bug #2739: Fixed the issue that `yii\\rest\\CreateAction::run()` was using obsolete `yii\\web\\Controller::createAbsoluteUrl()` method (tonydspaniard)\n- Bug #2740: Fixed the issue that `yii\\captcha\\CaptchaAction::run()` was using obsolete `yii\\web\\Controller::createUrl()` method (tonydspaniard)\n- Bug #2760: Fixed `yii\\grid\\GridView` `filterUrl` parameters (qiangxue, AlexGx)\n- Bug #2834: When overriding i18n translation sources from config using `app*` or `yii*` default `app` and `yii` sources were not removed (samdark)\n- Bug #2848: Individual queries should be enclosed within parenthesis in a UNION query (qiangxue)\n- Bug #2862: Using `yii\\cache\\DbCache` while enabling schema caching may cause infinite loops (qiangxue)\n- Bug #3052: Fixed the issue that cache dependency data is not reused when `reusable` is set true (qiangxue)\n- Bug #3443: Fixed `yii\\bootstrap\\Nav` and `yii\\bootstrap\\Dropdown` were generating wrong ids for submenus (arturf)\n- Bug #3691: Fixed the issue that `yii\\web\\CookieCollection::has()` always returns false for cookies from browser (sonicgd)\n- Bug #4212: MSSQL query builder should not generate the `ORDER BY` clause when it is not needed (qiangxue)\n- Bug #4232: `yii\\db\\TableSchema::sequenceName` for PostgreSQL should remove the enclosing quotes (katzz0, qiangxue)\n- Bug #4697: MSSQL query builder does not work for newer MSSQL versions when LIMIT is used without ORDER BY (qiangxue)\n- Bug: Fixed `Call to a member function `registerAssetFiles()` on a non-object` in case of wrong `sourcePath` for an asset bundle (samdark)\n- Bug: Fixed incorrect event name for `yii\\jui\\Spinner` (samdark)\n- Bug: `yii\\helpers\\Json::encode()`` did not handle objects that implement `JsonSerializable` interface correctly (cebe)\n- Bug: Fixed issue with tabular input on `yii\\widgets\\ActiveField::radio()` and `yii\\widgets\\ActiveField::checkbox()` (jom)\n- Bug: Fixed the issue that query cache returns the same data for the same SQL but different query methods (qiangxue)\n- Bug: Fixed URL parsing so it's now properly giving 404 for URLs like `http://example.com//////site/about` (samdark)\n- Bug: Fixed `yii\\console\\controllers\\HelpController::getModuleCommands()` issue where it attempts to scan a module's controller directory when it doesn't exist (jom)\n- Bug: Fixed an issue with FileHelper and not accessible directories which resulted in endless loop (cebe)\n- Bug: Fixed `yii\\base\\Model::load()` returned `true` if `$data` and `formName` were empty (samdark)\n- Bug: Fixed issue with `yii\\db\\ActiveRelationTrait` preventing `yii\\db\\ActiveQuery` from clearing events and behaviors on clone (jom)\n- Bug: `yii\\db\\Query::queryScalar()` wasn't making `SELECT DISTINCT` queries subqueries (jom)\n- Bug: Fixed use `$files` instead of `self::$_files[$key]` to allow inheritance (pgaultier)\n- Enh #46: Added Image extension based on [Imagine library](http://imagine.readthedocs.org) (tonydspaniard)\n- Enh #364: Improve `yii\\helpers\\Inflector::slug()` with `intl` transliteration. Improved transliteration char map. (tonydspaniard)\n- Enh #497: Removed `yii\\log\\Target::logUser` and added `yii\\log\\Target::prefix` to support customizing message prefix (qiangxue)\n- Enh #499: Decoupled `Rule` from RBAC `Item` (samdark, qiangxue)\n- Enh #797: Added support for validating multiple columns by `yii\\validators\\UniqueValidator` and `yii\\validators\\ExistValidator` (qiangxue)\n- Enh #802: Added support for retrieving sub-array element or child object property through `ArrayHelper::getValue()` (qiangxue, cebe)\n- Enh #938: Added `yii\\web\\View::renderAjax()` and `yii\\web\\Controller::renderAjax()` (qiangxue)\n- Enh #1293: Replaced `yii\\helpers\\Console::showProgress()` with a better approach. See `yii\\helpers\\Console::startProgress()` for details (cebe)\n- Enh #1406: DB Schema support for Oracle Database (p0larbeer, qiangxue)\n- Enh #1437: Added `yii\\widgets\\ListView::viewParams` (qiangxue)\n- Enh #1467: Added support for organizing controllers in subdirectories (qiangxue)\n- Enh #1469: yii\\db\\ActiveRecord::find()` now works with default conditions (default scope) applied by createQuery (cebe)\n- Enh #1476: Add `yii\\web\\Session::handler` property (nineinchnick)\n- Enh #1499: Added `yii\\grid\\ActionColumn::controller` property to support customizing the controller for handling GridView actions (qiangxue)\n- Enh #1523: Query conditions now allow to use the NOT operator (cebe)\n- Enh #1535: Improved `yii\\web\\User` to start session only when needed. Also prepared it for use without session. (qiangxue)\n- Enh #1562: Added `yii\\bootstrap\\Tabs::linkOptions` (kartik-v)\n- Enh #1572: Added `yii\\web\\Controller::createAbsoluteUrl()` (samdark)\n- Enh #1579: throw exception when the given AR relation name does not match in a case sensitive manner (qiangxue)\n- Enh #1581: Added `yii\\db\\ActiveQuery::joinWith()` and `yii\\db\\ActiveQuery::innerJoinWith()` to support joining with relations (qiangxue)\n- Enh #1585: added schema parameter to `createAbsoluteUrl()` to force 'http' or 'https' (cebe)\n- Enh #1601: Added support for tagName and encodeLabel parameters in ButtonDropdown (omnilight)\n- Enh #1611: Added `yii\\db\\BaseActiveRecord::markAttributeDirty()` (qiangxue)\n- Enh #1633: Advanced project template now works with MongoDB by default (samdark)\n- Enh #1634: Use masked CSRF tokens to prevent BREACH exploits (qiangxue)\n- Enh #1641: Added `BaseActiveRecord::updateAttributes()` (qiangxue)\n- Enh #1646: Added PostgreSQL `yii\\db\\QueryBuilder::checkIntegrity()` and `yii\\db\\QueryBuilder::resetSequence()` (Ragazzo)\n- Enh #1645: Added `yii\\db\\Connection::$pdoClass` property (Ragazzo)\n- Enh #1645: Added support for nested DB transactions (qiangxue)\n- Enh #1681: Added support for automatically adjusting the \"for\" attribute of label generated by `yii\\widgets\\ActiveField::label()` (qiangxue)\n- Enh #1706: Added support for registering a single JS/CSS file with dependency (qiangxue)\n- Enh #1773: keyPrefix property of Cache is not restricted to alnum characters anymore, however it is still recommended (cebe)\n- Enh #1809: Added support for building \"EXISTS\" and \"NOT EXISTS\" query conditions (abdrasulov)\n- Enh #1839: Added support for getting file extension and basename from uploaded file (anfrantic)\n- Enh #1852: `yii\\db\\ActiveRecord::tableName()` now returns table name using `yii\\db\\Connection::tablePrefix` (creocoder)\n- Enh #1881: Improved `yii\\bootstrap\\NavBar` with `containerOptions`, `innerContainerOptions` and `renderInnerContainer` (creocoder)\n- Enh #1894: The path aliases `@webroot` and `@web` are now available right after the application is initialized (qiangxue)\n- Enh #1921: Grid view `yii\\grid\\ActionColumn` now allow to name buttons like `{controller/action}` (creocoder)\n- Enh #1973: `yii message/extract` is now able to generate `.po` files (SergeiKutanov, samdark)\n- Enh #1984: `yii\\base\\ActionFilter` will now mark event as handled when action run is aborted (cebe)\n- Enh #2002: Added `filterWhere()` method to yii\\db\\Query to allow easy addition of search filter conditions by ignoring empty search fields (samdark, cebe)\n- Enh #2003: Added `filter` property to `yii\\validators\\ExistValidator` and `yii\\validators\\UniqueValidator` to support adding additional filtering conditions (qiangxue)\n- Enh #2008: `yii message/extract` is now able to save translation strings to database (kate-kate, samdark)\n- Enh #2043: Added support for custom request body parsers (danschmidt5189, cebe)\n- Enh #2051: Do not save null data into database when using RBAC (qiangxue)\n- Enh #2054: Added support for using custom application configuration with the console command runner (qiangxue)\n- Enh #2079:\n    - i18n now falls back to `en` from `en-US` if message translation isn't found (samdark)\n    - View now falls back to `en` from `en-US` if file not found (samdark)\n    - Default `sourceLanguage` and `language` are now `en` (samdark)\n- Enh #2101: Gii is now using model labels when generating search (thiagotalma)\n- Enh #2102: `yii\\widgets\\DetailView` now allow use `category.name` as attribute name (creocoder)\n- Enh #2102: `yii\\widgets\\DetailView` now allow use custom label in string format like `name:format:label` (creocoder)\n- Enh #2103: Renamed `yii\\web\\AccessDeniedHttpException` to `yii\\web\\ForbiddenHttpException`, added new commonly used HTTP exception classes (danschmidt5189)\n- Enh #2124: Added support for UNION ALL queries (Ivan Pomortsev, iworker)\n- Enh #2132: Allow URL of CSS and JS files registered in yii\\web\\View to be URL alias (cebe)\n- Enh #2144: `Html` helper now supports rendering \"data\" attributes (qiangxue)\n- Enh #2156: `yii migrate` now automatically creates `migrations` directory if it does not exist (samdark)\n- Enh #2211: Added typecast database types into php types (dizews)\n- Enh #2240: Improved `yii\\web\\AssetManager::publish()`, `yii\\web\\AssetManager::getPublishedPath()` and `yii\\web\\AssetManager::getPublishedUrl()` to support aliases (vova07)\n- Enh #2325: Adding support for the `X-HTTP-Method-Override` header in `yii\\web\\Request::getMethod()` (pawzar)\n- Enh #2364: Take into account current error reporting level in error handler (gureedo)\n- Enh #2387: Added support for fetching data from database in batches (nineinchnick, qiangxue)\n- Enh #2392: Added `addCssStyle()`, `removeCssStyle()`, `cssStyleFromArray()` and `cssStyleToArray()` to `yii\\helpers\\Html` (qiangxue, kartik-v, Alex-Code)\n- Enh #2406: Added support for conditional validation (drenty, cebe, qiangxue)\n- Enh #2411: Added Gii extension generator (schmunk42)\n- Enh #2415: Added support for inverse relations (qiangxue)\n- Enh #2417: Added possibility to set `dataType` for `$.ajax` call in yii.activeForm.js (Borales)\n- Enh #2436: Label of the attribute, which looks like `relatedModel.attribute`, will be received from the related model if it available (djagya)\n- Enh #2490: `yii\\db\\Query::count()` and other query scalar methods now properly handle queries with GROUP BY clause (qiangxue)\n- Enh #2491: Added support for using the same base class name of search model and data model in Gii (qiangxue)\n- Enh #2499: Added ability to downgrade migrations by their absolute apply time (resurtm, gorcer)\n- Enh #2525: Added support for formatting file sizes with `yii\\base\\Formatter` (VinceG)\n- Enh #2526: Allow for null values in batchInsert (skotos)\n- Enh #2646: Added support for specifying hostinfo in the pattern of a URL rule (qiangxue)\n- Enh #2661: Added boolean column type support for SQLite (qiangxue)\n- Enh #2670: Changed `yii\\console\\Controller::globalOptions()` to `options($actionID)` to (make it possible to) differentiate options per action (hqx)\n- Enh #2714: Added support for formatting time intervals relative to the current time with `yii\\base\\Formatter` (drenty)\n- Enh #2726: Added `yii\\db\\ActiveRecord::loadDefaultValues()` that fills default values from DB schema (samdark)\n- Enh #2729: Added `yii\\validators\\FilterValidator::skipOnArray` so that filters like `trim` will not fail for array inputs (qiangxue)\n- Enh #2735: Added support for `DateTimeInterface` in `yii\\i18n\\Formatter` (ivokund)\n- Enh #2756: Added support for injecting custom `isEmpty` check for all validators (qiangxue)\n- Enh #2775: Added `yii\\base\\Application::bootstrap` and `yii\\base\\BootstrapInterface` to support running bootstrap classes when starting an application (qiangxue)\n- Enh #2892: ActiveRecord dirty attributes are now reset after call to `afterSave()` so information about changed attributes is available in `afterSave`-event (cebe)\n- Enh #2910: Added `yii\\base\\Application::end()` (qiangxue)\n- Enh: Added support for using arrays as option values for console commands (qiangxue)\n- Enh: Added `favicon.ico` and `robots.txt` to default project templates (samdark)\n- Enh: Added `yii\\base\\Widget::autoIdPrefix` to support prefixing automatically generated widget IDs (qiangxue)\n- Enh: Support for file aliases in console command 'message' (omnilight)\n- Enh: Sort and Pagination can now create absolute URLs (cebe)\n- Enh: Added support for using array-typed arguments for console commands (qiangxue)\n- Enh: Added support for installing packages conforming to PSR-4 standard (qiangxue)\n- Enh: Better exception message when class cannot be loaded (samdark)\n- Enh: `init` of advanced application now allows to specify answer for overwriting files via `init --overwrite=n` (samdark)\n- Enh: Added `yii\\db\\TableSchema::fullName` property (qiangxue)\n- Enh: `yii\\codeception\\TestCase` now supports loading and using fixtures via Yii fixture framework (qiangxue)\n- Enh: Added ability to get incoming headers (dizews)\n- Enh: Added `beforeRun()` and `afterRun()` to `yii\\base\\Action` (qiangxue)\n- Enh: Added support for using timeZone with `yii\\base\\Formatter` (dizews)\n- Enh: Added `yii\\web\\View::POS_LOAD` (qiangxue)\n- Enh: Added `yii\\web\\Response::clearOutputBuffers()` (qiangxue)\n- Enh: Improved `yii\\db\\QueryBuilder::buildLimit()` to support big numbers (qiangxue)\n- Enh: Added support for building SQLs with sub-queries (qiangxue)\n- Enh: Added `yii\\data\\Pagination::getLinks()` (qiangxue)\n- Enh: Added support for reading page size from query parameters by `yii\\data\\Pagination` (qiangxue)\n- Enh: LinkPager can now register relational link tags in the html header for prev, next, first and last page (cebe)\n- Enh: Added `yii\\web\\UrlRuleInterface` and `yii\\web\\CompositeUrlRule` (qiangxue)\n- Enh: Added `yii\\web\\Request::getAuthUser()` and `getAuthPassword()` (qiangxue)\n- Enh: Added summaryOptions and emptyTextOptions to `yii\\widgets\\BaseListView` (johonunu)\n- Enh: Implemented Oracle column comment reading from another schema (gureedo, samdark)\n- Enh: Added support to allow an event handler to be inserted at the beginning of the existing event handler list (qiangxue)\n- Enh: Improved action filter and action execution flow by supporting installing action filters at controller, module and application levels (qiangxue)\n- Enh: Added `isAssociative()` and `isIndexed()` to `yii\\helpers\\ArrayHelper` (qiangxue)\n- Enh: Added `addSelect` to `yii\\db\\Query` (Alex-Code)\n- Enh: Added ODBC support in `yii\\db\\Connection` (nineinchnick, resurtm)\n- Chg #47: Changed Markdown library to cebe/markdown and adjusted Markdown helper API (cebe)\n- Chg #735: Added back `yii\\widgets\\ActiveField::hiddenInput()` (qiangxue)\n- Chg #1186: Changed `Sort` to use comma to separate multiple sort fields and use negative sign to indicate descending sort (qiangxue)\n- Chg #1519: `yii\\web\\User::loginRequired()` now returns the `Response` object instead of exiting the application (qiangxue)\n- Chg #1564: Removed `yii\\web\\Session::autoStart` and added `hasSessionId`. Session will be automatically started when accessing session data (qiangxue)\n- Chg #1586: `yii\\db\\QueryBuilder::buildLikeCondition()` will now escape special characters and use percentage characters by default (qiangxue)\n- Chg #1610: `yii\\helpers\\Html::activeCheckboxList()` and `Html::activeRadioList()` will submit an empty string if no checkbox/radio is selected (qiangxue)\n- Chg #1643: Added default value for `yii\\captcha\\Captcha::options` (qiangxue)\n- Chg #1796: Removed `yii\\base\\Controller::getActionParams()` (samdark)\n- Chg #1835: `yii\\grid\\CheckboxColumn` now renders checkboxes whose values are the corresponding data key values (qiangxue)\n- Chg #1821: Changed default values for yii\\db\\Connection username and password to null (cebe)\n- Chg #1844: `yii\\web\\Response::sendFile()` and other file sending methods will not send the response (qiangxue)\n- Chg #1852: `yii\\db\\Connection::tablePrefix` default value now `tbl_` (creocoder)\n- Chg #1958: `beforeSubmit` in `yii.activeform` is now executed after validation and before form submission (6pblcb)\n- Chg #2025: Removed ability to declare scopes in ActiveRecord (samdark)\n- Chg #2043:\n    - Renamed `yii\\web\\Request::acceptedLanguages` to `acceptableLanguages` (qiangxue)\n    - Removed `yii\\web\\Request::getPost()`, `getPut()`, `getDelete()`, `getPatch()` in favor of `getBodyParam()` (cebe)\n    - Renamed `yii\\web\\Request::get()` to `getQueryParams()` and `getRestParams()` to `getBodyParams()` (cebe)\n    - Added `yii\\web\\Request::get($name = null, $defaultValue = null)` and `yii\\web\\Request::post($name = null, $defaultValue = null)` (samdark)\n- Chg #2059: Implemented git-flavored file excluding/filtering for `yii\\helpers\\FileHelper` (nineinchnick)\n- Chg #2063: Removed `yii\\web\\Request::acceptTypes` and renamed `yii\\web\\Request::acceptedContentTypes` to `acceptableContentTypes` (qiangxue)\n- Chg #2103: Renamed `yii\\web\\AccessDeniedHttpException` to `yii\\web\\ForbiddenHttpException` (danschmidt5189)\n- Chg #2146: Removed `yii\\db\\ActiveRelation` class and `yii\\db\\ActiveRelationInterface`, moved the functionality to `yii\\db\\ActiveQuery`.\n             All relational queries are now directly served by `ActiveQuery` allowing to use custom scopes in relations\n             and also to declare arbitrary queries as relations.\n             Also removed `yii\\db\\ActiveRecordInterface::createActiveRelation()` (cebe)\n- Chg #2157: The `*` category pattern will match all categories that do not match any other patterns listed in `yii\\i18n\\I18N::translations` (qiangxue, Ragazzo)\n- Chg #2161: Added ability to use `return` in `Widget::run` (samdark)\n- Chg #2173: Removed `yii\\helpers\\StringHelper::diff()`, Moved `phpspec/php-diff` dependency from `yiisoft/yii2` to `yiisoft/yii2-gii` (samdark)\n- Chg #2175: `yii\\db\\QueryBuilder` will now append UNION statements at the end of the primary SQL (qiangxue)\n- Chg #2210: MySQL driver will now treat `tinyint(1)` as integer instead of boolean (qiangxue)\n- Chg #2248: Renamed `yii\\base\\Model::DEFAULT_SCENARIO` to `yii\\base\\Model::SCENARIO_DEFAULT` (samdark)\n- Chg #2281: Renamed `yii\\db\\ActiveRecord::create()` to `populateRecord()` and changed signature. This method will not call instantiate() anymore (cebe)\n- Chg #2405: The CSS class of `yii\\widgets\\MaskedInput` now defaults to `form-control` (qiangxue)\n- Chg #2426: Changed URL creation method signatures to be consistent (samdark)\n- Chg #2516: Moved error handling from application to ErrorHandler class and fixed problems with HTTP Exception response code (cebe)\n    - `Yii::$app->exception` has now moved to `Yii::$app->errorHandler->exception`\n    - `yii\\base\\ErrorHandler` was split into `yii\\web\\ErrorHandler` and `yii\\console\\ErrorHandler`\n- Chg #2544: Changed `yii\\widgets\\DetailView`'s `name:format:label` to `attribute:format:label` to match `GridView` (samdark)\n- Chg #2603: `yii\\base\\ErrorException` now extends `\\ErrorException` (samdark)\n- Chg #2629: `yii\\base\\Module::controllerPath` is now read only, and all controller classes must be namespaced under `Module::controllerNamespace`. (qiangxue)\n- Chg #2630: API changes for URLs generation (samdark, qiangxue, cebe)\n    - Added `yii\\helpers\\Url`.\n    - Removed `yii\\helpers\\Html::url()`, use `yii\\helpers\\Url::to()` instead.\n    - Removed `yii\\web\\Controller::createUrl()` and `yii\\web\\Controller::createAbsoluteUrl()`, use `yii\\helpers\\Url::toRoute()` instead.\n    - Removed `yii\\web\\Controller::getCanonicalUrl()`, use `yii\\helpers\\Url::canonical()` instead.\n- Chg #2691: Null parameters will not be included in the generated URLs by `UrlManager` (gonimar, qiangxue)\n- Chg #2734: `FileCache::keyPrefix` defaults to empty string now (qiangxue)\n- Chg #2796: Removed `Application::preload` in favor of `Application::bootstrap` (qiangxue)\n- Chg #2816: Changed default date and time format of `yii\\base\\Formatter` to `Y-m-d` and `H:i:s` (qiangxue)\n- Chg #2911: Removed `tbl_` default for table prefix (samdark)\n- Chg #2912: Relative view files will be looked for under the directory containing the view currently being rendered (qiangxue)\n- Chg #2955: Changed the signature of ActiveQuery constructors and replaced `yii\\db\\ActiveRecord::createQuery()` with `find()` to simplify customizing `yii\\db\\ActiveQuery` classes (qiangxue)\n- Chg #2999: Added `findOne()` and `findAll()` to replace the usage of `yii\\db\\ActiveRecord::find($condition)`. (samdark, qiangxue)\n- Chg #4204: `yii\\web\\Request::getUserIP()` will return null if it cannot detect user IP address (qiangxue)\n- Chg #4622: Simplified the way of creating a Faker fixture template file (qiangxue)\n- Chg: Renamed `yii\\jui\\Widget::clientEventsMap` to `clientEventMap` (qiangxue)\n- Chg: Renamed `ActiveRecord::getPopulatedRelations()` to `getRelatedRecords()` (qiangxue)\n- Chg: Renamed `attributeName` and `className` to `targetAttribute` and `targetClass` for `UniqueValidator` and `ExistValidator` (qiangxue)\n- Chg: Added `yii\\widgets\\InputWidget::options` (qiangxue)\n- Chg: Changed the signature of `urlCreator` and button creators for `yii\\gridview\\ActionColumn` (qiangxue)\n- Chg: Updated HTMLPurified dependency to `4.6.*`.\n- Chg: Changed Yii autoloader to support loading PSR-4 classes only (i.e. PEAR-styled classes not supported anymore) (qiangxue)\n- Chg: Changed the directory structure according to PSR-4. You have to update your application `index.php`,\n       `index-test.php` and `yii` files to point to the new location of `Yii.php` (qiangxue, cebe)\n- Chg: Advanced app template: moved database connection DSN, login and password to `-local` config not to expose it to VCS (samdark)\n- Chg: Renamed `yii\\web\\Request::acceptedLanguages` to `acceptableLanguages` (qiangxue)\n- Chg: Removed implementation of `yii\\base\\Arrayable` from `yii\\base\\Object` (qiangxue)\n- Chg: The scripts in asset bundles are now registered in `View` at the end of `endBody()`. It was done in `endPage()` previously (qiangxue)\n- Chg: Renamed `csrf-var` to `csrf-param` for CSRF header name (Dilip)\n- Chg: The directory holding email templates is renamed from `mails` to `mail` (qiangxue)\n- Chg: Renamed properties `fooVar` to `fooParam` for various classes (qiangxue)\n    - Renamed `yii\\widgets\\ActiveForm::ajaxVar` to `ajaxParam`\n    - Renamed `yii\\data\\Pagination::pageVar` to `pageParam`\n    - Renamed `yii\\data\\Sort::sortVar` to `sortParam`\n    - Renamed `yii\\web\\Request::csrfVar` to `csrfParam`\n    - Renamed `yii\\web\\Request::methodVar` to `methodParam`\n    - Renamed `yii\\web\\UrlManager::routeVar` to `routeParam`\n    - Renamed `yii\\web\\Session::flashVar` to `flashParam`\n    - Renamed `yii\\web\\User::idVar` to `idParam`\n    - Renamed `yii\\web\\User::authTimeoutVar` to `authTimeoutParam`\n    - Renamed `yii\\web\\User::returnUrlVar` to `returnUrlParam`\n- Chg: Added `yii\\base\\View::viewFile` and removed `yii\\base\\ViewEvent::viewFile` (qiangxue)\n- Chg: Changed `yii\\base\\Controller::afterAction()`, `yii\\base\\Module::afterAction()` and `yii\\base\\ActionFilter::afterAction()` to pass `$result` by value instead of reference (qiangxue)\n- Chg: `yii\\base\\Extension::init()` is renamed to `bootstrap()` (qiangxue)\n- Chg: `getComponent()` and `setComponent()` in `yii\\base\\Application` and `yii\\base\\Module` are renamed to `get()` and `set()` respectively. (qiangxue)\n- Chg: The signature of `Yii::createObject()` is changed. Constructor parameters must be passed as the second parameter. (qiangxue)\n- Chg: `Yii::$objectConfig` is removed. You should use `Yii::$container->set()` to configure default settings of classes. (qiangxue)\n- Chg: Removed `yii\\grid\\Column::getDataCellContent()` and renamed `yii\\grid\\DataColumn::getDataCellContent()` to `yii\\grid\\DataColumn::getDataCellValue()` (cebe)\n- Chg: `yii\\log\\Logger` is split into `yii\\log\\Logger` and `yii\\log\\Dispatcher`. (qiangxue)\n- Chg: Moved all filter classes to namespace `yii\\filters` (qiangxue)\n- Chg: Re-implemented RBAC by following more closely to the original NIST RBAC model. Dropped `yii\\rbac\\PhpManager`. (qiangxue)\n- Chg: Renamed `yii\\web\\User::checkAccess()` to `yii\\web\\User::can()` (qiangxue)\n- New #66: [Auth client library](https://github.com/yiisoft/yii2-authclient) OpenId, OAuth1, OAuth2 clients (klimov-paul)\n- New #303: Added built-in support for REST API (qiangxue)\n- New #503: Added `yii\\di\\Container` and `yii\\di\\ServiceLocator` (qiangxue)\n- New #706: Added `yii\\widgets\\Pjax` and enhanced `yii\\grid\\GridView` to work with `Pjax` to support AJAX-update (qiangxue)\n- New #1393: [Codeception testing framework integration](https://github.com/yiisoft/yii2-codeception) (Ragazzo)\n- New #1438: [MongoDB integration](https://github.com/yiisoft/yii2-mongodb) ActiveRecord and Query (klimov-paul)\n- New #1956: Implemented test fixture framework (qiangxue)\n- New #2034: Added `yii\\filters\\ContentNegotiator` to support response format and language negotiation (qiangxue)\n- New #2149: Added `yii\\base\\DynamicModel` to support ad-hoc data validation (qiangxue)\n- New #2360: Added `AttributeBehavior` and `BlameableBehavior`, and renamed `AutoTimestamp` to `TimestampBehavior` (lucianobaraglia, qiangxue)\n- New #2932: Added `yii\\web\\ViewAction` that allow you to render views based on GET parameter (samdark)\n- New #2998: Added `yii\\log\\SyslogTarget` that is able to write log to syslog (miramir, samdark)\n- New #3029: Added `yii\\bootstrap\\ActiveForm` and `yii\\bootstrap\\ActiveField` (mikehaertl)\n- New #4640: Added `yii\\widgets\\ActiveForm::beginField()` and `endField()` (qiangxue)\n- New: Yii framework now comes with core messages translated into 26 languages, many thanks to all our translators!\n- New: Added `yii\\codeception\\DbTestCase` (qiangxue)\n- New: Added `yii\\web\\GroupUrlRule` (qiangxue)\n- New: Added `yii\\filters\\RateLimiter` (qiangxue)\n- New: Added various authentication methods, including `HttpBasicAuth`, `HttpBearerAuth`, `QueryParamAuth`, and `CompositeAuth` (qiangxue)\n- New: Added `yii\\web\\HtmlResponseFormatter` and `yii\\web\\JsonResponseFormatter` (qiangxue)\n\n\n2.0.0-alpha December 1, 2013\n-----------------------------\n\n- Initial release.\n- Official extensions released in this version:\n  - [Twitter bootstrap 3.0](https://github.com/yiisoft/yii2-bootstrap)\n  - [Jquery UI](https://github.com/yiisoft/yii2-jui)\n\n  - [Debug Toolbar](https://github.com/yiisoft/yii2-debug)\n  - [Gii code generator](https://github.com/yiisoft/yii2-gii)\n\n  - [Elasticsearch integration](https://github.com/yiisoft/yii2-elasticsearch): ActiveRecord and Query\n  - [Redis integration](https://github.com/yiisoft/yii2-redis): ActiveRecord, Cache and Session\n  - [Sphinx integration](https://github.com/yiisoft/yii2-sphinx): ActiveRecord and Query\n\n  - [Swiftmailer](https://github.com/yiisoft/yii2-swiftmailer)\n\n  - [Smarty View Renderer](https://github.com/yiisoft/yii2-smarty)\n  - [Twig View Renderer](https://github.com/yiisoft/yii2-twig)\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yii\\base;\n\nuse Yii;\nuse yii\\helpers\\StringHelper;\n\n/**\n * Security provides a set of methods to handle common security-related tasks.\n *\n * In particular, Security supports the following features:\n *\n * - Encryption/decryption: [[encryptByKey()]], [[decryptByKey()]], [[encryptByPassword()]] and [[decryptByPassword()]]\n * - Key derivation using standard algorithms: [[pbkdf2()]] and [[hkdf()]]\n * - Data tampering prevention: [[hashData()]] and [[validateData()]]\n * - Password validation: [[generatePasswordHash()]] and [[validatePassword()]]\n *\n * > Note: this class requires 'OpenSSL' PHP extension for random key/string generation on Windows and\n * for encryption/decryption on all platforms. For the highest security level PHP version >= 5.5.0 is recommended.\n *\n * For more details and usage information on Security, see the [guide article on security](guide:security-overview).\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @author Tom Worster <fsb@thefsb.org>\n * @author Klimov Paul <klimov.paul@gmail.com>\n * @since 2.0\n */\nclass Security extends Component\n{\n    /**\n     * @var string The cipher to use for encryption and decryption.\n     */\n    public $cipher = 'AES-128-CBC';\n    /**\n     * @var array[] Look-up table of block sizes and key sizes for each supported OpenSSL cipher.\n     *\n     * In each element, the key is one of the ciphers supported by OpenSSL (@see openssl_get_cipher_methods()).\n     * The value is an array of two integers, the first is the cipher's block size in bytes and the second is\n     * the key size in bytes.\n     *\n     * > Warning: All OpenSSL ciphers that we recommend are in the default value, i.e. AES in CBC mode.\n     *\n     * > Note: Yii's encryption protocol uses the same size for cipher key, HMAC signature key and key\n     * derivation salt.\n     */\n    public $allowedCiphers = [\n        'AES-128-CBC' => [16, 16],\n        'AES-192-CBC' => [16, 24],\n        'AES-256-CBC' => [16, 32],\n    ];\n    /**\n     * @var string Hash algorithm for key derivation. Recommend sha256, sha384 or sha512.\n     * @see [hash_algos()](https://secure.php.net/manual/en/function.hash-algos.php)\n     */\n    public $kdfHash = 'sha256';\n    /**\n     * @var string Hash algorithm for message authentication. Recommend sha256, sha384 or sha512.\n     * @see [hash_algos()](https://secure.php.net/manual/en/function.hash-algos.php)\n     */\n    public $macHash = 'sha256';\n    /**\n     * @var string HKDF info value for derivation of message authentication key.\n     * @see hkdf()\n     */\n    public $authKeyInfo = 'AuthorizationKey';\n    /**\n     * @var int derivation iterations count.\n     * Set as high as possible to hinder dictionary password attacks.\n     */\n    public $derivationIterations = 100000;\n    /**\n     * @var string strategy, which should be used to generate password hash.\n     * Available strategies:\n     * - 'password_hash' - use of PHP `password_hash()` function with PASSWORD_DEFAULT algorithm.\n     *   This option is recommended, but it requires PHP version >= 5.5.0\n     * - 'crypt' - use PHP `crypt()` function.\n     * @deprecated since version 2.0.7, [[generatePasswordHash()]] ignores [[passwordHashStrategy]] and\n     * uses `password_hash()` when available or `crypt()` when not.\n     */\n    public $passwordHashStrategy;\n    /**\n     * @var int Default cost used for password hashing.\n     * Allowed value is between 4 and 31.\n     * @see generatePasswordHash()\n     * @since 2.0.6\n     */\n    public $passwordHashCost = 13;\n\n    /**\n     * @var boolean if LibreSSL should be used.\n     * The recent (> 2.1.5) LibreSSL RNGs are faster and likely better than /dev/urandom.\n     */\n    private $_useLibreSSL;\n\n\n    /**\n     * @return bool if LibreSSL should be used\n     * Use version is 2.1.5 or higher.\n     * @since 2.0.36\n     */\n    protected function shouldUseLibreSSL()\n    {\n        if ($this->_useLibreSSL === null) {\n            // Parse OPENSSL_VERSION_TEXT because OPENSSL_VERSION_NUMBER is no use for LibreSSL.\n            // https://bugs.php.net/bug.php?id=71143\n            $this->_useLibreSSL = defined('OPENSSL_VERSION_TEXT')\n                && preg_match('{^LibreSSL (\\d\\d?)\\.(\\d\\d?)\\.(\\d\\d?)$}', OPENSSL_VERSION_TEXT, $matches)\n                && (10000 * $matches[1]) + (100 * $matches[2]) + $matches[3] >= 20105;\n        }\n\n        return $this->_useLibreSSL;\n    }\n\n    /**\n     * @return bool if operating system is Windows\n     */\n    private function isWindows()\n    {\n        return DIRECTORY_SEPARATOR !== '/';\n    }\n\n    /**\n     * Encrypts data using a password.\n     * Derives keys for encryption and authentication from the password using PBKDF2 and a random salt,\n     * which is deliberately slow to protect against dictionary attacks. Use [[encryptByKey()]] to\n     * encrypt fast using a cryptographic key rather than a password. Key derivation time is\n     * determined by [[$derivationIterations]], which should be set as high as possible.\n     * The encrypted data includes a keyed message authentication code (MAC) so there is no need\n     * to hash input or output data.\n     * > Note: Avoid encrypting with passwords wherever possible. Nothing can protect against\n     * poor-quality or compromised passwords.\n     * @param string $data the data to encrypt\n     * @param string $password the password to use for encryption\n     * @return string the encrypted data as byte string\n     * @see decryptByPassword()\n     * @see encryptByKey()\n     */\n    public function encryptByPassword($data, $password)\n    {\n        return $this->encrypt($data, true, $password, null);\n    }\n\n    /**\n     * Encrypts data using a cryptographic key.\n     * Derives keys for encryption and authentication from the input key using HKDF and a random salt,\n     * which is very fast relative to [[encryptByPassword()]]. The input key must be properly\n     * random -- use [[generateRandomKey()]] to generate keys.\n     * The encrypted data includes a keyed message authentication code (MAC) so there is no need\n     * to hash input or output data.\n     * @param string $data the data to encrypt\n     * @param string $inputKey the input to use for encryption and authentication\n     * @param string $info optional context and application specific information, see [[hkdf()]]\n     * @return string the encrypted data as byte string\n     * @see decryptByKey()\n     * @see encryptByPassword()\n     */\n    public function encryptByKey($data, $inputKey, $info = null)\n    {\n        return $this->encrypt($data, false, $inputKey, $info);\n    }\n\n    /**\n     * Verifies and decrypts data encrypted with [[encryptByPassword()]].\n     * @param string $data the encrypted data to decrypt\n     * @param string $password the password to use for decryption\n     * @return bool|string the decrypted data or false on authentication failure\n     * @see encryptByPassword()\n     */\n    public function decryptByPassword($data, $password)\n    {\n        return $this->decrypt($data, true, $password, null);\n    }\n\n    /**\n     * Verifies and decrypts data encrypted with [[encryptByKey()]].\n     * @param string $data the encrypted data to decrypt\n     * @param string $inputKey the input to use for encryption and authentication\n     * @param string $info optional context and application specific information, see [[hkdf()]]\n     * @return bool|string the decrypted data or false on authentication failure\n     * @see encryptByKey()\n     */\n    public function decryptByKey($data, $inputKey, $info = null)\n    {\n        return $this->decrypt($data, false, $inputKey, $info);\n    }\n\n    /**\n     * Encrypts data.\n     *\n     * @param string $data data to be encrypted\n     * @param bool $passwordBased set true to use password-based key derivation\n     * @param string $secret the encryption password or key\n     * @param string|null $info context/application specific information, e.g. a user ID\n     * See [RFC 5869 Section 3.2](https://tools.ietf.org/html/rfc5869#section-3.2) for more details.\n     *\n     * @return string the encrypted data as byte string\n     * @throws InvalidConfigException on OpenSSL not loaded\n     * @throws Exception on OpenSSL error\n     * @see decrypt()\n     */\n    protected function encrypt($data, $passwordBased, $secret, $info)\n    {\n        if (!extension_loaded('openssl')) {\n            throw new InvalidConfigException('Encryption requires the OpenSSL PHP extension');\n        }\n        if (!isset($this->allowedCiphers[$this->cipher][0], $this->allowedCiphers[$this->cipher][1])) {\n            throw new InvalidConfigException($this->cipher . ' is not an allowed cipher');\n        }\n\n        list($blockSize, $keySize) = $this->allowedCiphers[$this->cipher];\n\n        $keySalt = $this->generateRandomKey($keySize);\n        if ($passwordBased) {\n            $key = $this->pbkdf2($this->kdfHash, $secret, $keySalt, $this->derivationIterations, $keySize);\n        } else {\n            $key = $this->hkdf($this->kdfHash, $secret, $keySalt, $info, $keySize);\n        }\n\n        $iv = $this->generateRandomKey($blockSize);\n\n        $encrypted = openssl_encrypt($data, $this->cipher, $key, OPENSSL_RAW_DATA, $iv);\n        if ($encrypted === false) {\n            throw new \\yii\\base\\Exception('OpenSSL failure on encryption: ' . openssl_error_string());\n        }\n\n        $authKey = $this->hkdf($this->kdfHash, $key, null, $this->authKeyInfo, $keySize);\n        $hashed = $this->hashData($iv . $encrypted, $authKey);\n\n        /*\n         * Output: [keySalt][MAC][IV][ciphertext]\n         * - keySalt is KEY_SIZE bytes long\n         * - MAC: message authentication code, length same as the output of MAC_HASH\n         * - IV: initialization vector, length $blockSize\n         */\n        return $keySalt . $hashed;\n    }\n\n    /**\n     * Decrypts data.\n     *\n     * @param string $data encrypted data to be decrypted.\n     * @param bool $passwordBased set true to use password-based key derivation\n     * @param string $secret the decryption password or key\n     * @param string|null $info context/application specific information, @see encrypt()\n     *\n     * @return bool|string the decrypted data or false on authentication failure\n     * @throws InvalidConfigException on OpenSSL not loaded\n     * @throws Exception on OpenSSL error\n     * @see encrypt()\n     */\n    protected function decrypt($data, $passwordBased, $secret, $info)\n    {\n        if (!extension_loaded('openssl')) {\n            throw new InvalidConfigException('Encryption requires the OpenSSL PHP extension');\n        }\n        if (!isset($this->allowedCiphers[$this->cipher][0], $this->allowedCiphers[$this->cipher][1])) {\n            throw new InvalidConfigException($this->cipher . ' is not an allowed cipher');\n        }\n\n        list($blockSize, $keySize) = $this->allowedCiphers[$this->cipher];\n\n        $keySalt = StringHelper::byteSubstr($data, 0, $keySize);\n        if ($passwordBased) {\n            $key = $this->pbkdf2($this->kdfHash, $secret, $keySalt, $this->derivationIterations, $keySize);\n        } else {\n            $key = $this->hkdf($this->kdfHash, $secret, $keySalt, $info, $keySize);\n        }\n\n        $authKey = $this->hkdf($this->kdfHash, $key, null, $this->authKeyInfo, $keySize);\n        $data = $this->validateData(StringHelper::byteSubstr($data, $keySize, null), $authKey);\n        if ($data === false) {\n            return false;\n        }\n\n        $iv = StringHelper::byteSubstr($data, 0, $blockSize);\n        $encrypted = StringHelper::byteSubstr($data, $blockSize, null);\n\n        $decrypted = openssl_decrypt($encrypted, $this->cipher, $key, OPENSSL_RAW_DATA, $iv);\n        if ($decrypted === false) {\n            throw new \\yii\\base\\Exception('OpenSSL failure on decryption: ' . openssl_error_string());\n        }\n\n        return $decrypted;\n    }\n\n    /**\n     * Derives a key from the given input key using the standard HKDF algorithm.\n     * Implements HKDF specified in [RFC 5869](https://tools.ietf.org/html/rfc5869).\n     * Recommend use one of the SHA-2 hash algorithms: sha224, sha256, sha384 or sha512.\n     * @param string $algo a hash algorithm supported by `hash_hmac()`, e.g. 'SHA-256'\n     * @param string $inputKey the source key\n     * @param string $salt the random salt\n     * @param string $info optional info to bind the derived key material to application-\n     * and context-specific information, e.g. a user ID or API version, see\n     * [RFC 5869](https://tools.ietf.org/html/rfc5869)\n     * @param int $length length of the output key in bytes. If 0, the output key is\n     * the length of the hash algorithm output.\n     * @throws InvalidArgumentException when HMAC generation fails.\n     * @return string the derived key\n     */\n    public function hkdf($algo, $inputKey, $salt = null, $info = null, $length = 0)\n    {\n        if (function_exists('hash_hkdf')) {\n            $outputKey = hash_hkdf($algo, $inputKey, $length, $info, $salt);\n            if ($outputKey === false) {\n                throw new InvalidArgumentException('Invalid parameters to hash_hkdf()');\n            }\n\n            return $outputKey;\n        }\n\n        $test = @hash_hmac($algo, '', '', true);\n        if (!$test) {\n            throw new InvalidArgumentException('Failed to generate HMAC with hash algorithm: ' . $algo);\n        }\n        $hashLength = StringHelper::byteLength($test);\n        if (is_string($length) && preg_match('{^\\d{1,16}$}', $length)) {\n            $length = (int) $length;\n        }\n        if (!is_int($length) || $length < 0 || $length > 255 * $hashLength) {\n            throw new InvalidArgumentException('Invalid length');\n        }\n        $blocks = $length !== 0 ? ceil($length / $hashLength) : 1;\n\n        if ($salt === null) {\n            $salt = str_repeat(\"\\0\", $hashLength);\n        }\n        $prKey = hash_hmac($algo, $inputKey, $salt, true);\n\n        $hmac = '';\n        $outputKey = '';\n        for ($i = 1; $i <= $blocks; $i++) {\n            $hmac = hash_hmac($algo, $hmac . $info . chr($i), $prKey, true);\n            $outputKey .= $hmac;\n        }\n\n        if ($length !== 0) {\n            $outputKey = StringHelper::byteSubstr($outputKey, 0, $length);\n        }\n\n        return $outputKey;\n    }\n\n    /**\n     * Derives a key from the given password using the standard PBKDF2 algorithm.\n     * Implements HKDF2 specified in [RFC 2898](http://tools.ietf.org/html/rfc2898#section-5.2)\n     * Recommend use one of the SHA-2 hash algorithms: sha224, sha256, sha384 or sha512.\n     * @param string $algo a hash algorithm supported by `hash_hmac()`, e.g. 'SHA-256'\n     * @param string $password the source password\n     * @param string $salt the random salt\n     * @param int $iterations the number of iterations of the hash algorithm. Set as high as\n     * possible to hinder dictionary password attacks.\n     * @param int $length length of the output key in bytes. If 0, the output key is\n     * the length of the hash algorithm output.\n     * @return string the derived key\n     * @throws InvalidArgumentException when hash generation fails due to invalid params given.\n     */\n    public function pbkdf2($algo, $password, $salt, $iterations, $length = 0)\n    {\n        if (function_exists('hash_pbkdf2') && PHP_VERSION_ID >= 50500) {\n            $outputKey = hash_pbkdf2($algo, $password, $salt, $iterations, $length, true);\n            if ($outputKey === false) {\n                throw new InvalidArgumentException('Invalid parameters to hash_pbkdf2()');\n            }\n\n            return $outputKey;\n        }\n\n        // todo: is there a nice way to reduce the code repetition in hkdf() and pbkdf2()?\n        $test = @hash_hmac($algo, '', '', true);\n        if (!$test) {\n            throw new InvalidArgumentException('Failed to generate HMAC with hash algorithm: ' . $algo);\n        }\n        if (is_string($iterations) && preg_match('{^\\d{1,16}$}', $iterations)) {\n            $iterations = (int) $iterations;\n        }\n        if (!is_int($iterations) || $iterations < 1) {\n            throw new InvalidArgumentException('Invalid iterations');\n        }\n        if (is_string($length) && preg_match('{^\\d{1,16}$}', $length)) {\n            $length = (int) $length;\n        }\n        if (!is_int($length) || $length < 0) {\n            throw new InvalidArgumentException('Invalid length');\n        }\n        $hashLength = StringHelper::byteLength($test);\n        $blocks = $length !== 0 ? ceil($length / $hashLength) : 1;\n\n        $outputKey = '';\n        for ($j = 1; $j <= $blocks; $j++) {\n            $hmac = hash_hmac($algo, $salt . pack('N', $j), $password, true);\n            $xorsum = $hmac;\n            for ($i = 1; $i < $iterations; $i++) {\n                $hmac = hash_hmac($algo, $hmac, $password, true);\n                $xorsum ^= $hmac;\n            }\n            $outputKey .= $xorsum;\n        }\n\n        if ($length !== 0) {\n            $outputKey = StringHelper::byteSubstr($outputKey, 0, $length);\n        }\n\n        return $outputKey;\n    }\n\n    /**\n     * Prefixes data with a keyed hash value so that it can later be detected if it is tampered.\n     * There is no need to hash inputs or outputs of [[encryptByKey()]] or [[encryptByPassword()]]\n     * as those methods perform the task.\n     * @param string $data the data to be protected\n     * @param string $key the secret key to be used for generating hash. Should be a secure\n     * cryptographic key.\n     * @param bool $rawHash whether the generated hash value is in raw binary format. If false, lowercase\n     * hex digits will be generated.\n     * @return string the data prefixed with the keyed hash\n     * @throws InvalidConfigException when HMAC generation fails.\n     * @see validateData()\n     * @see generateRandomKey()\n     * @see hkdf()\n     * @see pbkdf2()\n     */\n    public function hashData($data, $key, $rawHash = false)\n    {\n        $hash = hash_hmac($this->macHash, $data, $key, $rawHash);\n        if (!$hash) {\n            throw new InvalidConfigException('Failed to generate HMAC with hash algorithm: ' . $this->macHash);\n        }\n\n        return $hash . $data;\n    }\n\n    /**\n     * Validates if the given data is tampered.\n     * @param string $data the data to be validated. The data must be previously\n     * generated by [[hashData()]].\n     * @param string $key the secret key that was previously used to generate the hash for the data in [[hashData()]].\n     * function to see the supported hashing algorithms on your system. This must be the same\n     * as the value passed to [[hashData()]] when generating the hash for the data.\n     * @param bool $rawHash this should take the same value as when you generate the data using [[hashData()]].\n     * It indicates whether the hash value in the data is in binary format. If false, it means the hash value consists\n     * of lowercase hex digits only.\n     * hex digits will be generated.\n     * @return string|false the real data with the hash stripped off. False if the data is tampered.\n     * @throws InvalidConfigException when HMAC generation fails.\n     * @see hashData()\n     */\n    public function validateData($data, $key, $rawHash = false)\n    {\n        $test = @hash_hmac($this->macHash, '', '', $rawHash);\n        if (!$test) {\n            throw new InvalidConfigException('Failed to generate HMAC with hash algorithm: ' . $this->macHash);\n        }\n        $hashLength = StringHelper::byteLength($test);\n        if (StringHelper::byteLength($data) >= $hashLength) {\n            $hash = StringHelper::byteSubstr($data, 0, $hashLength);\n            $pureData = StringHelper::byteSubstr($data, $hashLength, null);\n\n            $calculatedHash = hash_hmac($this->macHash, $pureData, $key, $rawHash);\n\n            if ($this->compareString($hash, $calculatedHash)) {\n                return $pureData;\n            }\n        }\n\n        return false;\n    }\n\n    private $_randomFile;\n\n    /**\n     * Generates specified number of random bytes.\n     * Note that output may not be ASCII.\n     * @see generateRandomString() if you need a string.\n     *\n     * @param int $length the number of bytes to generate\n     * @return string the generated random bytes\n     * @throws InvalidArgumentException if wrong length is specified\n     * @throws Exception on failure.\n     */\n    public function generateRandomKey($length = 32)\n    {\n        if (!is_int($length)) {\n            throw new InvalidArgumentException('First parameter ($length) must be an integer');\n        }\n\n        if ($length < 1) {\n            throw new InvalidArgumentException('First parameter ($length) must be greater than 0');\n        }\n\n        // always use random_bytes() if it is available\n        if (function_exists('random_bytes')) {\n            return random_bytes($length);\n        }\n\n        // The recent LibreSSL RNGs are faster and likely better than /dev/urandom.\n        // Since 5.4.0, openssl_random_pseudo_bytes() reads from CryptGenRandom on Windows instead\n        // of using OpenSSL library. LibreSSL is OK everywhere but don't use OpenSSL on non-Windows.\n        if (function_exists('openssl_random_pseudo_bytes')\n            && ($this->shouldUseLibreSSL() || $this->isWindows())\n        ) {\n            $key = openssl_random_pseudo_bytes($length, $cryptoStrong);\n            if ($cryptoStrong === false) {\n                throw new Exception(\n                    'openssl_random_pseudo_bytes() set $crypto_strong false. Your PHP setup is insecure.'\n                );\n            }\n            if ($key !== false && StringHelper::byteLength($key) === $length) {\n                return $key;\n            }\n        }\n\n        // mcrypt_create_iv() does not use libmcrypt. Since PHP 5.3.7 it directly reads\n        // CryptGenRandom on Windows. Elsewhere it directly reads /dev/urandom.\n        if (function_exists('mcrypt_create_iv')) {\n            $key = mcrypt_create_iv($length, MCRYPT_DEV_URANDOM);\n            if (StringHelper::byteLength($key) === $length) {\n                return $key;\n            }\n        }\n\n        // If not on Windows, try to open a random device.\n        if ($this->_randomFile === null && !$this->isWindows()) {\n            // urandom is a symlink to random on FreeBSD.\n            $device = PHP_OS === 'FreeBSD' ? '/dev/random' : '/dev/urandom';\n            // Check random device for special character device protection mode. Use lstat()\n            // instead of stat() in case an attacker arranges a symlink to a fake device.\n            $lstat = @lstat($device);\n            if ($lstat !== false && ($lstat['mode'] & 0170000) === 020000) {\n                $this->_randomFile = fopen($device, 'rb') ?: null;\n\n                if (is_resource($this->_randomFile)) {\n                    // Reduce PHP stream buffer from default 8192 bytes to optimize data\n                    // transfer from the random device for smaller values of $length.\n                    // This also helps to keep future randoms out of user memory space.\n                    $bufferSize = 8;\n\n                    if (function_exists('stream_set_read_buffer')) {\n                        stream_set_read_buffer($this->_randomFile, $bufferSize);\n                    }\n                    // stream_set_read_buffer() isn't implemented on HHVM\n                    if (function_exists('stream_set_chunk_size')) {\n                        stream_set_chunk_size($this->_randomFile, $bufferSize);\n                    }\n                }\n            }\n        }\n\n        if (is_resource($this->_randomFile)) {\n            $buffer = '';\n            $stillNeed = $length;\n            while ($stillNeed > 0) {\n                $someBytes = fread($this->_randomFile, $stillNeed);\n                if ($someBytes === false) {\n                    break;\n                }\n                $buffer .= $someBytes;\n                $stillNeed -= StringHelper::byteLength($someBytes);\n                if ($stillNeed === 0) {\n                    // Leaving file pointer open in order to make next generation faster by reusing it.\n                    return $buffer;\n                }\n            }\n            fclose($this->_randomFile);\n            $this->_randomFile = null;\n        }\n\n        throw new Exception('Unable to generate a random key');\n    }\n\n    /**\n     * Generates a random string of specified length.\n     * The string generated matches [A-Za-z0-9_-]+ and is transparent to URL-encoding.\n     *\n     * @param int $length the length of the key in characters\n     * @return string the generated random key\n     * @throws Exception on failure.\n     */\n    public function generateRandomString($length = 32)\n    {\n        if (!is_int($length)) {\n            throw new InvalidArgumentException('First parameter ($length) must be an integer');\n        }\n\n        if ($length < 1) {\n            throw new InvalidArgumentException('First parameter ($length) must be greater than 0');\n        }\n\n        $bytes = $this->generateRandomKey($length);\n        return substr(StringHelper::base64UrlEncode($bytes), 0, $length);\n    }\n\n    /**\n     * Generates a secure hash from a password and a random salt.\n     *\n     * The generated hash can be stored in database.\n     * Later when a password needs to be validated, the hash can be fetched and passed\n     * to [[validatePassword()]]. For example,\n     *\n     * ```php\n     * // generates the hash (usually done during user registration or when the password is changed)\n     * $hash = Yii::$app->getSecurity()->generatePasswordHash($password);\n     * // ...save $hash in database...\n     *\n     * // during login, validate if the password entered is correct using $hash fetched from database\n     * if (Yii::$app->getSecurity()->validatePassword($password, $hash)) {\n     *     // password is good\n     * } else {\n     *     // password is bad\n     * }\n     * ```\n     *\n     * @param string $password The password to be hashed.\n     * @param int $cost Cost parameter used by the Blowfish hash algorithm.\n     * The higher the value of cost,\n     * the longer it takes to generate the hash and to verify a password against it. Higher cost\n     * therefore slows down a brute-force attack. For best protection against brute-force attacks,\n     * set it to the highest value that is tolerable on production servers. The time taken to\n     * compute the hash doubles for every increment by one of $cost.\n     * @return string The password hash string. When [[passwordHashStrategy]] is set to 'crypt',\n     * the output is always 60 ASCII characters, when set to 'password_hash' the output length\n     * might increase in future versions of PHP (https://secure.php.net/manual/en/function.password-hash.php)\n     * @throws Exception on bad password parameter or cost parameter.\n     * @see validatePassword()\n     */\n    public function generatePasswordHash($password, $cost = null)\n    {\n        if ($cost === null) {\n            $cost = $this->passwordHashCost;\n        }\n\n        if (function_exists('password_hash')) {\n            /* @noinspection PhpUndefinedConstantInspection */\n            return password_hash($password, PASSWORD_DEFAULT, ['cost' => $cost]);\n        }\n\n        $salt = $this->generateSalt($cost);\n        $hash = crypt($password, $salt);\n        // strlen() is safe since crypt() returns only ascii\n        if (!is_string($hash) || strlen($hash) !== 60) {\n            throw new Exception('Unknown error occurred while generating hash.');\n        }\n\n        return $hash;\n    }\n\n    /**\n     * Verifies a password against a hash.\n     * @param string $password The password to verify.\n     * @param string $hash The hash to verify the password against.\n     * @return bool whether the password is correct.\n     * @throws InvalidArgumentException on bad password/hash parameters or if crypt() with Blowfish hash is not available.\n     * @see generatePasswordHash()\n     */\n    public function validatePassword($password, $hash)\n    {\n        if (!is_string($password) || $password === '') {\n            throw new InvalidArgumentException('Password must be a string and cannot be empty.');\n        }\n\n        if (!preg_match('/^\\$2[axy]\\$(\\d\\d)\\$[\\.\\/0-9A-Za-z]{22}/', $hash, $matches)\n            || $matches[1] < 4\n            || $matches[1] > 30\n        ) {\n            throw new InvalidArgumentException('Hash is invalid.');\n        }\n\n        if (function_exists('password_verify')) {\n            return password_verify($password, $hash);\n        }\n\n        $test = crypt($password, $hash);\n        $n = strlen($test);\n        if ($n !== 60) {\n            return false;\n        }\n\n        return $this->compareString($test, $hash);\n    }\n\n    /**\n     * Generates a salt that can be used to generate a password hash.\n     *\n     * The PHP [crypt()](https://secure.php.net/manual/en/function.crypt.php) built-in function\n     * requires, for the Blowfish hash algorithm, a salt string in a specific format:\n     * \"$2a$\", \"$2x$\" or \"$2y$\", a two digit cost parameter, \"$\", and 22 characters\n     * from the alphabet \"./0-9A-Za-z\".\n     *\n     * @param int $cost the cost parameter\n     * @return string the random salt value.\n     * @throws InvalidArgumentException if the cost parameter is out of the range of 4 to 31.\n     */\n    protected function generateSalt($cost = 13)\n    {\n        $cost = (int) $cost;\n        if ($cost < 4 || $cost > 31) {\n            throw new InvalidArgumentException('Cost must be between 4 and 31.');\n        }\n\n        // Get a 20-byte random string\n        $rand = $this->generateRandomKey(20);\n        // Form the prefix that specifies Blowfish (bcrypt) algorithm and cost parameter.\n        $salt = sprintf('$2y$%02d$', $cost);\n        // Append the random salt data in the required base64 format.\n        $salt .= str_replace('+', '.', substr(base64_encode($rand), 0, 22));\n\n        return $salt;\n    }\n\n    /**\n     * Performs string comparison using timing attack resistant approach.\n     * @see http://codereview.stackexchange.com/questions/13512\n     * @param string $expected string to compare.\n     * @param string $actual user-supplied string.\n     * @return bool whether strings are equal.\n     */\n    public function compareString($expected, $actual)\n    {\n        if (!is_string($expected)) {\n            throw new InvalidArgumentException('Expected expected value to be a string, ' . gettype($expected) . ' given.');\n        }\n\n        if (!is_string($actual)) {\n            throw new InvalidArgumentException('Expected actual value to be a string, ' . gettype($actual) . ' given.');\n        }\n\n        if (function_exists('hash_equals')) {\n            return hash_equals($expected, $actual);\n        }\n\n        $expected .= \"\\0\";\n        $actual .= \"\\0\";\n        $expectedLength = StringHelper::byteLength($expected);\n        $actualLength = StringHelper::byteLength($actual);\n        $diff = $expectedLength - $actualLength;\n        for ($i = 0; $i < $actualLength; $i++) {\n            $diff |= (ord($actual[$i]) ^ ord($expected[$i % $expectedLength]));\n        }\n\n        return $diff === 0;\n    }\n\n    /**\n     * Masks a token to make it uncompressible.\n     * Applies a random mask to the token and prepends the mask used to the result making the string always unique.\n     * Used to mitigate BREACH attack by randomizing how token is outputted on each request.\n     * @param string $token An unmasked token.\n     * @return string A masked token.\n     * @since 2.0.12\n     */\n    public function maskToken($token)\n    {\n        // The number of bytes in a mask is always equal to the number of bytes in a token.\n        $mask = $this->generateRandomKey(StringHelper::byteLength($token));\n        return StringHelper::base64UrlEncode($mask . ($mask ^ $token));\n    }\n\n    /**\n     * Unmasks a token previously masked by `maskToken`.\n     * @param string $maskedToken A masked token.\n     * @return string An unmasked token, or an empty string in case of token format is invalid.\n     * @since 2.0.12\n     */\n    public function unmaskToken($maskedToken)\n    {\n        $decoded = StringHelper::base64UrlDecode($maskedToken);\n        $length = StringHelper::byteLength($decoded) / 2;\n        // Check if the masked token has an even length.\n        if (!is_int($length)) {\n            return '';\n        }\n\n        return StringHelper::byteSubstr($decoded, $length, $length) ^ StringHelper::byteSubstr($decoded, 0, $length);\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yii\\caching;\n\nuse Yii;\nuse yii\\base\\InvalidConfigException;\nuse yii\\db\\Connection;\nuse yii\\db\\PdoValue;\nuse yii\\db\\Query;\nuse yii\\di\\Instance;\n\n/**\n * DbCache implements a cache application component by storing cached data in a database.\n *\n * By default, DbCache stores session data in a DB table named 'cache'. This table\n * must be pre-created. The table name can be changed by setting [[cacheTable]].\n *\n * Please refer to [[Cache]] for common cache operations that are supported by DbCache.\n *\n * The following example shows how you can configure the application to use DbCache:\n *\n * ```php\n * 'cache' => [\n *     'class' => 'yii\\caching\\DbCache',\n *     // 'db' => 'mydb',\n *     // 'cacheTable' => 'my_cache',\n * ]\n * ```\n *\n * For more details and usage information on Cache, see the [guide article on caching](guide:caching-overview).\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n */\nclass DbCache extends Cache\n{\n    /**\n     * @var Connection|array|string the DB connection object or the application component ID of the DB connection.\n     * After the DbCache object is created, if you want to change this property, you should only assign it\n     * with a DB connection object.\n     * Starting from version 2.0.2, this can also be a configuration array for creating the object.\n     */\n    public $db = 'db';\n    /**\n     * @var string name of the DB table to store cache content.\n     * The table should be pre-created as follows:\n     *\n     * ```php\n     * CREATE TABLE cache (\n     *     id char(128) NOT NULL PRIMARY KEY,\n     *     expire int(11),\n     *     data BLOB\n     * );\n     * ```\n     *\n     * For MSSQL:\n     * ```php\n     * CREATE TABLE cache (\n     *     id VARCHAR(128) NOT NULL PRIMARY KEY,\n     *     expire INT(11),\n     *     data VARBINARY(MAX)\n     * );\n     * ```\n     *\n     * where 'BLOB' refers to the BLOB-type of your preferred DBMS. Below are the BLOB type\n     * that can be used for some popular DBMS:\n     *\n     * - MySQL: LONGBLOB\n     * - PostgreSQL: BYTEA\n     *\n     * When using DbCache in a production server, we recommend you create a DB index for the 'expire'\n     * column in the cache table to improve the performance.\n     */\n    public $cacheTable = '{{%cache}}';\n    /**\n     * @var int the probability (parts per million) that garbage collection (GC) should be performed\n     * when storing a piece of data in the cache. Defaults to 100, meaning 0.01% chance.\n     * This number should be between 0 and 1000000. A value 0 meaning no GC will be performed at all.\n     */\n    public $gcProbability = 100;\n\n    protected $isVarbinaryDataField;\n\n\n    /**\n     * Initializes the DbCache component.\n     * This method will initialize the [[db]] property to make sure it refers to a valid DB connection.\n     * @throws InvalidConfigException if [[db]] is invalid.\n     */\n    public function init()\n    {\n        parent::init();\n        $this->db = Instance::ensure($this->db, Connection::className());\n    }\n\n    /**\n     * Checks whether a specified key exists in the cache.\n     * This can be faster than getting the value from the cache if the data is big.\n     * Note that this method does not check whether the dependency associated\n     * with the cached data, if there is any, has changed. So a call to [[get]]\n     * may return false while exists returns true.\n     * @param mixed $key a key identifying the cached value. This can be a simple string or\n     * a complex data structure consisting of factors representing the key.\n     * @return bool true if a value exists in cache, false if the value is not in the cache or expired.\n     */\n    public function exists($key)\n    {\n        $key = $this->buildKey($key);\n\n        $query = new Query();\n        $query->select(['COUNT(*)'])\n            ->from($this->cacheTable)\n            ->where('[[id]] = :id AND ([[expire]] = 0 OR [[expire]] >' . time() . ')', [':id' => $key]);\n        if ($this->db->enableQueryCache) {\n            // temporarily disable and re-enable query caching\n            $this->db->enableQueryCache = false;\n            $result = $query->createCommand($this->db)->queryScalar();\n            $this->db->enableQueryCache = true;\n        } else {\n            $result = $query->createCommand($this->db)->queryScalar();\n        }\n\n        return $result > 0;\n    }\n\n    /**\n     * Retrieves a value from cache with a specified key.\n     * This is the implementation of the method declared in the parent class.\n     * @param string $key a unique key identifying the cached value\n     * @return string|false the value stored in cache, false if the value is not in the cache or expired.\n     */\n    protected function getValue($key)\n    {\n        $query = new Query();\n        $query->select([$this->getDataFieldName()])\n            ->from($this->cacheTable)\n            ->where('[[id]] = :id AND ([[expire]] = 0 OR [[expire]] >' . time() . ')', [':id' => $key]);\n        if ($this->db->enableQueryCache) {\n            // temporarily disable and re-enable query caching\n            $this->db->enableQueryCache = false;\n            $result = $query->createCommand($this->db)->queryScalar();\n            $this->db->enableQueryCache = true;\n\n            return $result;\n        }\n\n        return $query->createCommand($this->db)->queryScalar();\n    }\n\n    /**\n     * Retrieves multiple values from cache with the specified keys.\n     * @param array $keys a list of keys identifying the cached values\n     * @return array a list of cached values indexed by the keys\n     */\n    protected function getValues($keys)\n    {\n        if (empty($keys)) {\n            return [];\n        }\n        $query = new Query();\n        $query->select(['id', $this->getDataFieldName()])\n            ->from($this->cacheTable)\n            ->where(['id' => $keys])\n            ->andWhere('([[expire]] = 0 OR [[expire]] > ' . time() . ')');\n\n        if ($this->db->enableQueryCache) {\n            $this->db->enableQueryCache = false;\n            $rows = $query->createCommand($this->db)->queryAll();\n            $this->db->enableQueryCache = true;\n        } else {\n            $rows = $query->createCommand($this->db)->queryAll();\n        }\n\n        $results = [];\n        foreach ($keys as $key) {\n            $results[$key] = false;\n        }\n        foreach ($rows as $row) {\n            if (is_resource($row['data']) && get_resource_type($row['data']) === 'stream') {\n                $results[$row['id']] = stream_get_contents($row['data']);\n            } else {\n                $results[$row['id']] = $row['data'];\n            }\n        }\n\n        return $results;\n    }\n\n    /**\n     * Stores a value identified by a key in cache.\n     * This is the implementation of the method declared in the parent class.\n     *\n     * @param string $key the key identifying the value to be cached\n     * @param string $value the value to be cached. Other types (if you have disabled [[serializer]]) cannot be saved.\n     * @param int $duration the number of seconds in which the cached value will expire. 0 means never expire.\n     * @return bool true if the value is successfully stored into cache, false otherwise\n     */\n    protected function setValue($key, $value, $duration)\n    {\n        try {\n            $this->db->noCache(function (Connection $db) use ($key, $value, $duration) {\n                $db->createCommand()->upsert($this->cacheTable, [\n                    'id' => $key,\n                    'expire' => $duration > 0 ? $duration + time() : 0,\n                    'data' => $this->getDataFieldValue($value),\n                ])->execute();\n            });\n\n            $this->gc();\n\n            return true;\n        } catch (\\Exception $e) {\n            Yii::warning(\"Unable to update or insert cache data: {$e->getMessage()}\", __METHOD__);\n\n            return false;\n        }\n    }\n\n    /**\n     * Stores a value identified by a key into cache if the cache does not contain this key.\n     * This is the implementation of the method declared in the parent class.\n     *\n     * @param string $key the key identifying the value to be cached\n     * @param string $value the value to be cached. Other types (if you have disabled [[serializer]]) cannot be saved.\n     * @param int $duration the number of seconds in which the cached value will expire. 0 means never expire.\n     * @return bool true if the value is successfully stored into cache, false otherwise\n     */\n    protected function addValue($key, $value, $duration)\n    {\n        $this->gc();\n\n        try {\n            $this->db->noCache(function (Connection $db) use ($key, $value, $duration) {\n                $db->createCommand()\n                    ->insert($this->cacheTable, [\n                        'id' => $key,\n                        'expire' => $duration > 0 ? $duration + time() : 0,\n                        'data' => $this->getDataFieldValue($value),\n                    ])->execute();\n            });\n\n            return true;\n        } catch (\\Exception $e) {\n            Yii::warning(\"Unable to insert cache data: {$e->getMessage()}\", __METHOD__);\n\n            return false;\n        }\n    }\n\n    /**\n     * Deletes a value with the specified key from cache\n     * This is the implementation of the method declared in the parent class.\n     * @param string $key the key of the value to be deleted\n     * @return bool if no error happens during deletion\n     */\n    protected function deleteValue($key)\n    {\n        $this->db->noCache(function (Connection $db) use ($key) {\n            $db->createCommand()\n                ->delete($this->cacheTable, ['id' => $key])\n                ->execute();\n        });\n\n        return true;\n    }\n\n    /**\n     * Removes the expired data values.\n     * @param bool $force whether to enforce the garbage collection regardless of [[gcProbability]].\n     * Defaults to false, meaning the actual deletion happens with the probability as specified by [[gcProbability]].\n     */\n    public function gc($force = false)\n    {\n        if ($force || mt_rand(0, 1000000) < $this->gcProbability) {\n            $this->db->createCommand()\n                ->delete($this->cacheTable, '[[expire]] > 0 AND [[expire]] < ' . time())\n                ->execute();\n        }\n    }\n\n    /**\n     * Deletes all values from cache.\n     * This is the implementation of the method declared in the parent class.\n     * @return bool whether the flush operation was successful.\n     */\n    protected function flushValues()\n    {\n        $this->db->createCommand()\n            ->delete($this->cacheTable)\n            ->execute();\n\n        return true;\n    }\n\n    /**\n     * @return bool whether field is MSSQL varbinary\n     * @since 2.0.42\n     */\n    protected function isVarbinaryDataField()\n    {\n        if ($this->isVarbinaryDataField === null) {\n            $this->isVarbinaryDataField = in_array($this->db->getDriverName(), ['sqlsrv', 'dblib']) &&\n                $this->db->getTableSchema($this->cacheTable)->columns['data']->dbType === 'varbinary';\n        }\n        return $this->isVarbinaryDataField;\n    }\n\n    /**\n     * @return string `data` field name converted for usage in MSSQL (if needed)\n     * @since 2.0.42\n     */\n    protected function getDataFieldName()\n    {\n        return $this->isVarbinaryDataField() ? 'convert(nvarchar(max),[data]) data' : 'data';\n    }\n\n    /**\n     * @return PdoValue PdoValue or direct $value for usage in MSSQL\n     * @since 2.0.42\n     */\n    protected function getDataFieldValue($value)\n    {\n        return $this->isVarbinaryDataField() ? $value : new PdoValue($value, \\PDO::PARAM_LOB);\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yii\\caching;\n\nuse Yii;\nuse yii\\helpers\\FileHelper;\n\n/**\n * FileCache implements a cache component using files.\n *\n * For each data value being cached, FileCache will store it in a separate file.\n * The cache files are placed under [[cachePath]]. FileCache will perform garbage collection\n * automatically to remove expired cache files.\n *\n * Please refer to [[Cache]] for common cache operations that are supported by FileCache.\n *\n * For more details and usage information on Cache, see the [guide article on caching](guide:caching-overview).\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n */\nclass FileCache extends Cache\n{\n    /**\n     * @var string a string prefixed to every cache key. This is needed when you store\n     * cache data under the same [[cachePath]] for different applications to avoid\n     * conflict.\n     *\n     * To ensure interoperability, only alphanumeric characters should be used.\n     */\n    public $keyPrefix = '';\n    /**\n     * @var string the directory to store cache files. You may use [path alias](guide:concept-aliases) here.\n     * If not set, it will use the \"cache\" subdirectory under the application runtime path.\n     */\n    public $cachePath = '@runtime/cache';\n    /**\n     * @var string cache file suffix. Defaults to '.bin'.\n     */\n    public $cacheFileSuffix = '.bin';\n    /**\n     * @var int the level of sub-directories to store cache files. Defaults to 1.\n     * If the system has huge number of cache files (e.g. one million), you may use a bigger value\n     * (usually no bigger than 3). Using sub-directories is mainly to ensure the file system\n     * is not over burdened with a single directory having too many files.\n     */\n    public $directoryLevel = 1;\n    /**\n     * @var int the probability (parts per million) that garbage collection (GC) should be performed\n     * when storing a piece of data in the cache. Defaults to 10, meaning 0.001% chance.\n     * This number should be between 0 and 1000000. A value 0 means no GC will be performed at all.\n     */\n    public $gcProbability = 10;\n    /**\n     * @var int the permission to be set for newly created cache files.\n     * This value will be used by PHP chmod() function. No umask will be applied.\n     * If not set, the permission will be determined by the current environment.\n     */\n    public $fileMode;\n    /**\n     * @var int the permission to be set for newly created directories.\n     * This value will be used by PHP chmod() function. No umask will be applied.\n     * Defaults to 0775, meaning the directory is read-writable by owner and group,\n     * but read-only for other users.\n     */\n    public $dirMode = 0775;\n\n\n    /**\n     * Initializes this component by ensuring the existence of the cache path.\n     */\n    public function init()\n    {\n        parent::init();\n        $this->cachePath = Yii::getAlias($this->cachePath);\n        if (!is_dir($this->cachePath)) {\n            FileHelper::createDirectory($this->cachePath, $this->dirMode, true);\n        }\n    }\n\n    /**\n     * Checks whether a specified key exists in the cache.\n     * This can be faster than getting the value from the cache if the data is big.\n     * Note that this method does not check whether the dependency associated\n     * with the cached data, if there is any, has changed. So a call to [[get]]\n     * may return false while exists returns true.\n     * @param mixed $key a key identifying the cached value. This can be a simple string or\n     * a complex data structure consisting of factors representing the key.\n     * @return bool true if a value exists in cache, false if the value is not in the cache or expired.\n     */\n    public function exists($key)\n    {\n        $cacheFile = $this->getCacheFile($this->buildKey($key));\n\n        return @filemtime($cacheFile) > time();\n    }\n\n    /**\n     * Retrieves a value from cache with a specified key.\n     * This is the implementation of the method declared in the parent class.\n     * @param string $key a unique key identifying the cached value\n     * @return string|false the value stored in cache, false if the value is not in the cache or expired.\n     */\n    protected function getValue($key)\n    {\n        $cacheFile = $this->getCacheFile($key);\n\n        if (@filemtime($cacheFile) > time()) {\n            $fp = @fopen($cacheFile, 'r');\n            if ($fp !== false) {\n                @flock($fp, LOCK_SH);\n                $cacheValue = @stream_get_contents($fp);\n                @flock($fp, LOCK_UN);\n                @fclose($fp);\n                return $cacheValue;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Stores a value identified by a key in cache.\n     * This is the implementation of the method declared in the parent class.\n     *\n     * @param string $key the key identifying the value to be cached\n     * @param string $value the value to be cached. Other types (If you have disabled [[serializer]]) unable to get is\n     * correct in [[getValue()]].\n     * @param int $duration the number of seconds in which the cached value will expire. 0 means never expire.\n     * @return bool true if the value is successfully stored into cache, false otherwise\n     */\n    protected function setValue($key, $value, $duration)\n    {\n        $this->gc();\n        $cacheFile = $this->getCacheFile($key);\n        if ($this->directoryLevel > 0) {\n            @FileHelper::createDirectory(dirname($cacheFile), $this->dirMode, true);\n        }\n        // If ownership differs the touch call will fail, so we try to\n        // rebuild the file from scratch by deleting it first\n        // https://github.com/yiisoft/yii2/pull/16120\n        if (is_file($cacheFile) && function_exists('posix_geteuid') && fileowner($cacheFile) !== posix_geteuid()) {\n            @unlink($cacheFile);\n        }\n        if (@file_put_contents($cacheFile, $value, LOCK_EX) !== false) {\n            if ($this->fileMode !== null) {\n                @chmod($cacheFile, $this->fileMode);\n            }\n            if ($duration <= 0) {\n                $duration = 31536000; // 1 year\n            }\n\n            return @touch($cacheFile, $duration + time());\n        }\n\n        $error = error_get_last();\n        Yii::warning(\"Unable to write cache file '{$cacheFile}': {$error['message']}\", __METHOD__);\n        return false;\n    }\n\n    /**\n     * Stores a value identified by a key into cache if the cache does not contain this key.\n     * This is the implementation of the method declared in the parent class.\n     *\n     * @param string $key the key identifying the value to be cached\n     * @param string $value the value to be cached. Other types (if you have disabled [[serializer]]) unable to get is\n     * correct in [[getValue()]].\n     * @param int $duration the number of seconds in which the cached value will expire. 0 means never expire.\n     * @return bool true if the value is successfully stored into cache, false otherwise\n     */\n    protected function addValue($key, $value, $duration)\n    {\n        $cacheFile = $this->getCacheFile($key);\n        if (@filemtime($cacheFile) > time()) {\n            return false;\n        }\n\n        return $this->setValue($key, $value, $duration);\n    }\n\n    /**\n     * Deletes a value with the specified key from cache\n     * This is the implementation of the method declared in the parent class.\n     * @param string $key the key of the value to be deleted\n     * @return bool if no error happens during deletion\n     */\n    protected function deleteValue($key)\n    {\n        $cacheFile = $this->getCacheFile($key);\n\n        return @unlink($cacheFile);\n    }\n\n    /**\n     * Returns the cache file path given the normalized cache key.\n     * @param string $normalizedKey normalized cache key by [[buildKey]] method\n     * @return string the cache file path\n     */\n    protected function getCacheFile($normalizedKey)\n    {\n        $cacheKey = $normalizedKey;\n\n        if ($this->keyPrefix !== '') {\n            // Remove key prefix to avoid generating constant directory levels\n            $lenKeyPrefix = strlen($this->keyPrefix);\n            $cacheKey = substr_replace($normalizedKey, '', 0, $lenKeyPrefix);\n        }\n\n        $cachePath = $this->cachePath;\n\n        if ($this->directoryLevel > 0) {\n            for ($i = 0; $i < $this->directoryLevel; ++$i) {\n                if (($subDirectory = substr($cacheKey, $i + $i, 2)) !== false) {\n                    $cachePath .= DIRECTORY_SEPARATOR . $subDirectory;\n                }\n            }\n        }\n\n        return $cachePath . DIRECTORY_SEPARATOR . $normalizedKey . $this->cacheFileSuffix;\n    }\n\n    /**\n     * Deletes all values from cache.\n     * This is the implementation of the method declared in the parent class.\n     * @return bool whether the flush operation was successful.\n     */\n    protected function flushValues()\n    {\n        $this->gc(true, false);\n\n        return true;\n    }\n\n    /**\n     * Removes expired cache files.\n     * @param bool $force whether to enforce the garbage collection regardless of [[gcProbability]].\n     * Defaults to false, meaning the actual deletion happens with the probability as specified by [[gcProbability]].\n     * @param bool $expiredOnly whether to removed expired cache files only.\n     * If false, all cache files under [[cachePath]] will be removed.\n     */\n    public function gc($force = false, $expiredOnly = true)\n    {\n        if ($force || mt_rand(0, 1000000) < $this->gcProbability) {\n            $this->gcRecursive($this->cachePath, $expiredOnly);\n        }\n    }\n\n    /**\n     * Recursively removing expired cache files under a directory.\n     * This method is mainly used by [[gc()]].\n     * @param string $path the directory under which expired cache files are removed.\n     * @param bool $expiredOnly whether to only remove expired cache files. If false, all files\n     * under `$path` will be removed.\n     */\n    protected function gcRecursive($path, $expiredOnly)\n    {\n        if (($handle = opendir($path)) !== false) {\n            while (($file = readdir($handle)) !== false) {\n                if (strpos($file, '.') === 0) {\n                    continue;\n                }\n                $fullPath = $path . DIRECTORY_SEPARATOR . $file;\n                if (is_dir($fullPath)) {\n                    $this->gcRecursive($fullPath, $expiredOnly);\n                    if (!$expiredOnly) {\n                        if (!@rmdir($fullPath)) {\n                            $error = error_get_last();\n                            Yii::warning(\"Unable to remove directory '{$fullPath}': {$error['message']}\", __METHOD__);\n                        }\n                    }\n                } elseif (!$expiredOnly || $expiredOnly && @filemtime($fullPath) < time()) {\n                    if (!@unlink($fullPath)) {\n                        $error = error_get_last();\n                        Yii::warning(\"Unable to remove file '{$fullPath}': {$error['message']}\", __METHOD__);\n                    }\n                }\n            }\n            closedir($handle);\n        }\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yii\\captcha;\n\nuse Yii;\nuse yii\\base\\Action;\nuse yii\\base\\InvalidConfigException;\nuse yii\\helpers\\Url;\nuse yii\\web\\Response;\n\n/**\n * CaptchaAction renders a CAPTCHA image.\n *\n * CaptchaAction is used together with [[Captcha]] and [[\\yii\\captcha\\CaptchaValidator]]\n * to provide the [CAPTCHA](http://en.wikipedia.org/wiki/Captcha) feature.\n *\n * By configuring the properties of CaptchaAction, you may customize the appearance of\n * the generated CAPTCHA images, such as the font color, the background color, etc.\n *\n * Note that CaptchaAction requires either GD2 extension or ImageMagick PHP extension.\n *\n * Using CAPTCHA involves the following steps:\n *\n * 1. Override [[\\yii\\web\\Controller::actions()]] and register an action of class CaptchaAction with ID 'captcha'\n * 2. In the form model, declare an attribute to store user-entered verification code, and declare the attribute\n *    to be validated by the 'captcha' validator.\n * 3. In the controller view, insert a [[Captcha]] widget in the form.\n *\n * @property-read string $verifyCode The verification code. This property is read-only.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n */\nclass CaptchaAction extends Action\n{\n    /**\n     * The name of the GET parameter indicating whether the CAPTCHA image should be regenerated.\n     */\n    const REFRESH_GET_VAR = 'refresh';\n\n    /**\n     * @var int how many times should the same CAPTCHA be displayed. Defaults to 3.\n     * A value less than or equal to 0 means the test is unlimited (available since version 1.1.2).\n     */\n    public $testLimit = 3;\n    /**\n     * @var int the width of the generated CAPTCHA image. Defaults to 120.\n     */\n    public $width = 120;\n    /**\n     * @var int the height of the generated CAPTCHA image. Defaults to 50.\n     */\n    public $height = 50;\n    /**\n     * @var int padding around the text. Defaults to 2.\n     */\n    public $padding = 2;\n    /**\n     * @var int the background color. For example, 0x55FF00.\n     * Defaults to 0xFFFFFF, meaning white color.\n     */\n    public $backColor = 0xFFFFFF;\n    /**\n     * @var int the font color. For example, 0x55FF00. Defaults to 0x2040A0 (blue color).\n     */\n    public $foreColor = 0x2040A0;\n    /**\n     * @var bool whether to use transparent background. Defaults to false.\n     */\n    public $transparent = false;\n    /**\n     * @var int the minimum length for randomly generated word. Defaults to 6.\n     */\n    public $minLength = 6;\n    /**\n     * @var int the maximum length for randomly generated word. Defaults to 7.\n     */\n    public $maxLength = 7;\n    /**\n     * @var int the offset between characters. Defaults to -2. You can adjust this property\n     * in order to decrease or increase the readability of the captcha.\n     */\n    public $offset = -2;\n    /**\n     * @var string the TrueType font file. This can be either a file path or [path alias](guide:concept-aliases).\n     */\n    public $fontFile = '@yii/captcha/SpicyRice.ttf';\n    /**\n     * @var string the fixed verification code. When this property is set,\n     * [[getVerifyCode()]] will always return the value of this property.\n     * This is mainly used in automated tests where we want to be able to reproduce\n     * the same verification code each time we run the tests.\n     * If not set, it means the verification code will be randomly generated.\n     */\n    public $fixedVerifyCode;\n    /**\n     * @var string the rendering library to use. Currently supported only 'gd' and 'imagick'.\n     * If not set, library will be determined automatically.\n     * @since 2.0.7\n     */\n    public $imageLibrary;\n\n\n    /**\n     * Initializes the action.\n     * @throws InvalidConfigException if the font file does not exist.\n     */\n    public function init()\n    {\n        $this->fontFile = Yii::getAlias($this->fontFile);\n        if (!is_file($this->fontFile)) {\n            throw new InvalidConfigException(\"The font file does not exist: {$this->fontFile}\");\n        }\n    }\n\n    /**\n     * Runs the action.\n     */\n    public function run()\n    {\n        if (Yii::$app->request->getQueryParam(self::REFRESH_GET_VAR) !== null) {\n            // AJAX request for regenerating code\n            $code = $this->getVerifyCode(true);\n            Yii::$app->response->format = Response::FORMAT_JSON;\n            return [\n                'hash1' => $this->generateValidationHash($code),\n                'hash2' => $this->generateValidationHash(strtolower($code)),\n                // we add a random 'v' parameter so that FireFox can refresh the image\n                // when src attribute of image tag is changed\n                'url' => Url::to([$this->id, 'v' => uniqid('', true)]),\n            ];\n        }\n\n        $this->setHttpHeaders();\n        Yii::$app->response->format = Response::FORMAT_RAW;\n\n        return $this->renderImage($this->getVerifyCode());\n    }\n\n    /**\n     * Generates a hash code that can be used for client-side validation.\n     * @param string $code the CAPTCHA code\n     * @return string a hash code generated from the CAPTCHA code\n     */\n    public function generateValidationHash($code)\n    {\n        for ($h = 0, $i = strlen($code) - 1; $i >= 0; --$i) {\n            $h += ord($code[$i]);\n        }\n\n        return $h;\n    }\n\n    /**\n     * Gets the verification code.\n     * @param bool $regenerate whether the verification code should be regenerated.\n     * @return string the verification code.\n     */\n    public function getVerifyCode($regenerate = false)\n    {\n        if ($this->fixedVerifyCode !== null) {\n            return $this->fixedVerifyCode;\n        }\n\n        $session = Yii::$app->getSession();\n        $session->open();\n        $name = $this->getSessionKey();\n        if ($session[$name] === null || $regenerate) {\n            $session[$name] = $this->generateVerifyCode();\n            $session[$name . 'count'] = 1;\n        }\n\n        return $session[$name];\n    }\n\n    /**\n     * Validates the input to see if it matches the generated code.\n     * @param string $input user input\n     * @param bool $caseSensitive whether the comparison should be case-sensitive\n     * @return bool whether the input is valid\n     */\n    public function validate($input, $caseSensitive)\n    {\n        $code = $this->getVerifyCode();\n        $valid = $caseSensitive ? ($input === $code) : strcasecmp($input, $code) === 0;\n        $session = Yii::$app->getSession();\n        $session->open();\n        $name = $this->getSessionKey() . 'count';\n        $session[$name] += 1;\n        if ($valid || $session[$name] > $this->testLimit && $this->testLimit > 0) {\n            $this->getVerifyCode(true);\n        }\n\n        return $valid;\n    }\n\n    /**\n     * Generates a new verification code.\n     * @return string the generated verification code\n     */\n    protected function generateVerifyCode()\n    {\n        if ($this->minLength > $this->maxLength) {\n            $this->maxLength = $this->minLength;\n        }\n        if ($this->minLength < 3) {\n            $this->minLength = 3;\n        }\n        if ($this->maxLength > 20) {\n            $this->maxLength = 20;\n        }\n        $length = mt_rand($this->minLength, $this->maxLength);\n\n        $letters = 'bcdfghjklmnpqrstvwxyz';\n        $vowels = 'aeiou';\n        $code = '';\n        for ($i = 0; $i < $length; ++$i) {\n            if ($i % 2 && mt_rand(0, 10) > 2 || !($i % 2) && mt_rand(0, 10) > 9) {\n                $code .= $vowels[mt_rand(0, 4)];\n            } else {\n                $code .= $letters[mt_rand(0, 20)];\n            }\n        }\n\n        return $code;\n    }\n\n    /**\n     * Returns the session variable name used to store verification code.\n     * @return string the session variable name\n     */\n    protected function getSessionKey()\n    {\n        return '__captcha/' . $this->getUniqueId();\n    }\n\n    /**\n     * Renders the CAPTCHA image.\n     * @param string $code the verification code\n     * @return string image contents\n     * @throws InvalidConfigException if imageLibrary is not supported\n     */\n    protected function renderImage($code)\n    {\n        if (isset($this->imageLibrary)) {\n            $imageLibrary = $this->imageLibrary;\n        } else {\n            $imageLibrary = Captcha::checkRequirements();\n        }\n        if ($imageLibrary === 'gd') {\n            return $this->renderImageByGD($code);\n        } elseif ($imageLibrary === 'imagick') {\n            return $this->renderImageByImagick($code);\n        }\n\n        throw new InvalidConfigException(\"Defined library '{$imageLibrary}' is not supported\");\n    }\n\n    /**\n     * Renders the CAPTCHA image based on the code using GD library.\n     * @param string $code the verification code\n     * @return string image contents in PNG format.\n     */\n    protected function renderImageByGD($code)\n    {\n        $image = imagecreatetruecolor($this->width, $this->height);\n\n        $backColor = imagecolorallocate(\n            $image,\n            (int) ($this->backColor % 0x1000000 / 0x10000),\n            (int) ($this->backColor % 0x10000 / 0x100),\n            $this->backColor % 0x100\n        );\n        imagefilledrectangle($image, 0, 0, $this->width - 1, $this->height - 1, $backColor);\n        imagecolordeallocate($image, $backColor);\n\n        if ($this->transparent) {\n            imagecolortransparent($image, $backColor);\n        }\n\n        $foreColor = imagecolorallocate(\n            $image,\n            (int) ($this->foreColor % 0x1000000 / 0x10000),\n            (int) ($this->foreColor % 0x10000 / 0x100),\n            $this->foreColor % 0x100\n        );\n\n        $length = strlen($code);\n        $box = imagettfbbox(30, 0, $this->fontFile, $code);\n        $w = $box[4] - $box[0] + $this->offset * ($length - 1);\n        $h = $box[1] - $box[5];\n        $scale = min(($this->width - $this->padding * 2) / $w, ($this->height - $this->padding * 2) / $h);\n        $x = 10;\n        $y = round($this->height * 27 / 40);\n        for ($i = 0; $i < $length; ++$i) {\n            $fontSize = (int) (mt_rand(26, 32) * $scale * 0.8);\n            $angle = mt_rand(-10, 10);\n            $letter = $code[$i];\n            $box = imagettftext($image, $fontSize, $angle, $x, $y, $foreColor, $this->fontFile, $letter);\n            $x = $box[2] + $this->offset;\n        }\n\n        imagecolordeallocate($image, $foreColor);\n\n        ob_start();\n        imagepng($image);\n        imagedestroy($image);\n\n        return ob_get_clean();\n    }\n\n    /**\n     * Renders the CAPTCHA image based on the code using ImageMagick library.\n     * @param string $code the verification code\n     * @return string image contents in PNG format.\n     */\n    protected function renderImageByImagick($code)\n    {\n        $backColor = $this->transparent ? new \\ImagickPixel('transparent') : new \\ImagickPixel('#' . str_pad(dechex($this->backColor), 6, 0, STR_PAD_LEFT));\n        $foreColor = new \\ImagickPixel('#' . str_pad(dechex($this->foreColor), 6, 0, STR_PAD_LEFT));\n\n        $image = new \\Imagick();\n        $image->newImage($this->width, $this->height, $backColor);\n\n        $draw = new \\ImagickDraw();\n        $draw->setFont($this->fontFile);\n        $draw->setFontSize(30);\n        $fontMetrics = $image->queryFontMetrics($draw, $code);\n\n        $length = strlen($code);\n        $w = (int) $fontMetrics['textWidth'] - 8 + $this->offset * ($length - 1);\n        $h = (int) $fontMetrics['textHeight'] - 8;\n        $scale = min(($this->width - $this->padding * 2) / $w, ($this->height - $this->padding * 2) / $h);\n        $x = 10;\n        $y = round($this->height * 27 / 40);\n        for ($i = 0; $i < $length; ++$i) {\n            $draw = new \\ImagickDraw();\n            $draw->setFont($this->fontFile);\n            $draw->setFontSize((int) (mt_rand(26, 32) * $scale * 0.8));\n            $draw->setFillColor($foreColor);\n            $image->annotateImage($draw, $x, $y, mt_rand(-10, 10), $code[$i]);\n            $fontMetrics = $image->queryFontMetrics($draw, $code[$i]);\n            $x += (int) $fontMetrics['textWidth'] + $this->offset;\n        }\n\n        $image->setImageFormat('png');\n        return $image->getImageBlob();\n    }\n\n    /**\n     * Sets the HTTP headers needed by image response.\n     */\n    protected function setHttpHeaders()\n    {\n        Yii::$app->getResponse()->getHeaders()\n            ->set('Pragma', 'public')\n            ->set('Expires', '0')\n            ->set('Cache-Control', 'must-revalidate, post-check=0, pre-check=0')\n            ->set('Content-Transfer-Encoding', 'binary')\n            ->set('Content-type', 'image/png');\n    }\n}\n", "{\n    \"name\": \"yiisoft/yii2\",\n    \"description\": \"Yii PHP Framework Version 2\",\n    \"keywords\": [\n        \"yii2\",\n        \"framework\"\n    ],\n    \"homepage\": \"https://www.yiiframework.com/\",\n    \"type\": \"library\",\n    \"license\": \"BSD-3-Clause\",\n    \"authors\": [\n        {\n            \"name\": \"Qiang Xue\",\n            \"email\": \"qiang.xue@gmail.com\",\n            \"homepage\": \"https://www.yiiframework.com/\",\n            \"role\": \"Founder and project lead\"\n        },\n        {\n            \"name\": \"Alexander Makarov\",\n            \"email\": \"sam@rmcreative.ru\",\n            \"homepage\": \"https://rmcreative.ru/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Maurizio Domba\",\n            \"homepage\": \"http://mdomba.info/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Carsten Brandt\",\n            \"email\": \"mail@cebe.cc\",\n            \"homepage\": \"https://cebe.cc/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Timur Ruziev\",\n            \"email\": \"resurtm@gmail.com\",\n            \"homepage\": \"http://resurtm.com/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Paul Klimov\",\n            \"email\": \"klimov.paul@gmail.com\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Dmitry Naumenko\",\n            \"email\": \"d.naumenko.a@gmail.com\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Boudewijn Vahrmeijer\",\n            \"email\": \"info@dynasource.eu\",\n            \"homepage\": \"http://dynasource.eu\",\n            \"role\": \"Core framework development\"\n        }\n    ],\n    \"support\": {\n        \"issues\": \"https://github.com/yiisoft/yii2/issues?state=open\",\n        \"forum\": \"http://www.yiiframework.com/forum/\",\n        \"wiki\": \"http://www.yiiframework.com/wiki/\",\n        \"irc\": \"irc://irc.libera.chat:6697/yii\",\n        \"source\": \"https://github.com/yiisoft/yii2\"\n    },\n    \"require\": {\n        \"php\": \">=5.4.0\",\n        \"ext-mbstring\": \"*\",\n        \"ext-ctype\": \"*\",\n        \"lib-pcre\": \"*\",\n        \"yiisoft/yii2-composer\": \"~2.0.4\",\n        \"ezyang/htmlpurifier\": \"~4.6\",\n        \"cebe/markdown\": \"~1.0.0 | ~1.1.0 | ~1.2.0\",\n        \"bower-asset/jquery\": \"3.6.*@stable | 3.5.*@stable | 3.4.*@stable | 3.3.*@stable | 3.2.*@stable | 3.1.*@stable | 2.2.*@stable | 2.1.*@stable | 1.11.*@stable | 1.12.*@stable\",\n        \"bower-asset/inputmask\": \"~3.2.2 | ~3.3.5\",\n        \"bower-asset/punycode\": \"1.3.*\",\n        \"bower-asset/yii2-pjax\": \"~2.0.1\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\"yii\\\\\": \"\"}\n    },\n    \"bin\": [\n        \"yii\"\n    ],\n    \"extra\": {\n        \"branch-alias\": {\n            \"dev-master\": \"2.0.x-dev\"\n        }\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yii\\mail;\n\nuse Yii;\nuse yii\\base\\Component;\nuse yii\\base\\InvalidConfigException;\nuse yii\\base\\ViewContextInterface;\nuse yii\\web\\View;\n\n/**\n * BaseMailer serves as a base class that implements the basic functions required by [[MailerInterface]].\n *\n * Concrete child classes should may focus on implementing the [[sendMessage()]] method.\n *\n * @see BaseMessage\n *\n * For more details and usage information on BaseMailer, see the [guide article on mailing](guide:tutorial-mailing).\n *\n * @property View $view View instance. Note that the type of this property differs in getter and setter. See\n * [[getView()]] and [[setView()]] for details.\n * @property string $viewPath The directory that contains the view files for composing mail messages Defaults\n * to '@app/mail'.\n *\n * @author Paul Klimov <klimov.paul@gmail.com>\n * @since 2.0\n */\nabstract class BaseMailer extends Component implements MailerInterface, ViewContextInterface\n{\n    /**\n     * @event MailEvent an event raised right before send.\n     * You may set [[MailEvent::isValid]] to be false to cancel the send.\n     */\n    const EVENT_BEFORE_SEND = 'beforeSend';\n    /**\n     * @event MailEvent an event raised right after send.\n     */\n    const EVENT_AFTER_SEND = 'afterSend';\n\n    /**\n     * @var string|bool HTML layout view name. This is the layout used to render HTML mail body.\n     * The property can take the following values:\n     *\n     * - a relative view name: a view file relative to [[viewPath]], e.g., 'layouts/html'.\n     * - a [path alias](guide:concept-aliases): an absolute view file path specified as a path alias, e.g., '@app/mail/html'.\n     * - a boolean false: the layout is disabled.\n     */\n    public $htmlLayout = 'layouts/html';\n    /**\n     * @var string|bool text layout view name. This is the layout used to render TEXT mail body.\n     * Please refer to [[htmlLayout]] for possible values that this property can take.\n     */\n    public $textLayout = 'layouts/text';\n    /**\n     * @var array the configuration that should be applied to any newly created\n     * email message instance by [[createMessage()]] or [[compose()]]. Any valid property defined\n     * by [[MessageInterface]] can be configured, such as `from`, `to`, `subject`, `textBody`, `htmlBody`, etc.\n     *\n     * For example:\n     *\n     * ```php\n     * [\n     *     'charset' => 'UTF-8',\n     *     'from' => 'noreply@mydomain.com',\n     *     'bcc' => 'developer@mydomain.com',\n     * ]\n     * ```\n     */\n    public $messageConfig = [];\n    /**\n     * @var string the default class name of the new message instances created by [[createMessage()]]\n     */\n    public $messageClass = 'yii\\mail\\BaseMessage';\n    /**\n     * @var bool whether to save email messages as files under [[fileTransportPath]] instead of sending them\n     * to the actual recipients. This is usually used during development for debugging purpose.\n     * @see fileTransportPath\n     */\n    public $useFileTransport = false;\n    /**\n     * @var string the directory where the email messages are saved when [[useFileTransport]] is true.\n     */\n    public $fileTransportPath = '@runtime/mail';\n    /**\n     * @var callable a PHP callback that will be called by [[send()]] when [[useFileTransport]] is true.\n     * The callback should return a file name which will be used to save the email message.\n     * If not set, the file name will be generated based on the current timestamp.\n     *\n     * The signature of the callback is:\n     *\n     * ```php\n     * function ($mailer, $message)\n     * ```\n     */\n    public $fileTransportCallback;\n\n    /**\n     * @var \\yii\\base\\View|array view instance or its array configuration.\n     */\n    private $_view = [];\n    /**\n     * @var string the directory containing view files for composing mail messages.\n     */\n    private $_viewPath;\n\n\n    /**\n     * @param array|View $view view instance or its array configuration that will be used to\n     * render message bodies.\n     * @throws InvalidConfigException on invalid argument.\n     */\n    public function setView($view)\n    {\n        if (!is_array($view) && !is_object($view)) {\n            throw new InvalidConfigException('\"' . get_class($this) . '::view\" should be either object or configuration array, \"' . gettype($view) . '\" given.');\n        }\n        $this->_view = $view;\n    }\n\n    /**\n     * @return View view instance.\n     */\n    public function getView()\n    {\n        if (!is_object($this->_view)) {\n            $this->_view = $this->createView($this->_view);\n        }\n\n        return $this->_view;\n    }\n\n    /**\n     * Creates view instance from given configuration.\n     * @param array $config view configuration.\n     * @return View view instance.\n     */\n    protected function createView(array $config)\n    {\n        if (!array_key_exists('class', $config)) {\n            $config['class'] = View::className();\n        }\n\n        return Yii::createObject($config);\n    }\n\n    private $_message;\n\n    /**\n     * Creates a new message instance and optionally composes its body content via view rendering.\n     *\n     * @param string|array|null $view the view to be used for rendering the message body. This can be:\n     *\n     * - a string, which represents the view name or [path alias](guide:concept-aliases) for rendering the HTML body of the email.\n     *   In this case, the text body will be generated by applying `strip_tags()` to the HTML body.\n     * - an array with 'html' and/or 'text' elements. The 'html' element refers to the view name or path alias\n     *   for rendering the HTML body, while 'text' element is for rendering the text body. For example,\n     *   `['html' => 'contact-html', 'text' => 'contact-text']`.\n     * - null, meaning the message instance will be returned without body content.\n     *\n     * The view to be rendered can be specified in one of the following formats:\n     *\n     * - path alias (e.g. \"@app/mail/contact\");\n     * - a relative view name (e.g. \"contact\") located under [[viewPath]].\n     *\n     * @param array $params the parameters (name-value pairs) that will be extracted and made available in the view file.\n     * @return MessageInterface message instance.\n     */\n    public function compose($view = null, array $params = [])\n    {\n        $message = $this->createMessage();\n        if ($view === null) {\n            return $message;\n        }\n\n        if (!array_key_exists('message', $params)) {\n            $params['message'] = $message;\n        }\n\n        $this->_message = $message;\n\n        if (is_array($view)) {\n            if (isset($view['html'])) {\n                $html = $this->render($view['html'], $params, $this->htmlLayout);\n            }\n            if (isset($view['text'])) {\n                $text = $this->render($view['text'], $params, $this->textLayout);\n            }\n        } else {\n            $html = $this->render($view, $params, $this->htmlLayout);\n        }\n\n\n        $this->_message = null;\n\n        if (isset($html)) {\n            $message->setHtmlBody($html);\n        }\n        if (isset($text)) {\n            $message->setTextBody($text);\n        } elseif (isset($html)) {\n            if (preg_match('~<body[^>]*>(.*?)</body>~is', $html, $match)) {\n                $html = $match[1];\n            }\n            // remove style and script\n            $html = preg_replace('~<((style|script))[^>]*>(.*?)</\\1>~is', '', $html);\n            // strip all HTML tags and decoded HTML entities\n            $text = html_entity_decode(strip_tags($html), ENT_QUOTES | ENT_HTML5, Yii::$app ? Yii::$app->charset : 'UTF-8');\n            // improve whitespace\n            $text = preg_replace(\"~^[ \\t]+~m\", '', trim($text));\n            $text = preg_replace('~\\R\\R+~mu', \"\\n\\n\", $text);\n            $message->setTextBody($text);\n        }\n\n        return $message;\n    }\n\n    /**\n     * Creates a new message instance.\n     * The newly created instance will be initialized with the configuration specified by [[messageConfig]].\n     * If the configuration does not specify a 'class', the [[messageClass]] will be used as the class\n     * of the new message instance.\n     * @return MessageInterface message instance.\n     */\n    protected function createMessage()\n    {\n        $config = $this->messageConfig;\n        if (!array_key_exists('class', $config)) {\n            $config['class'] = $this->messageClass;\n        }\n        $config['mailer'] = $this;\n        return Yii::createObject($config);\n    }\n\n    /**\n     * Sends the given email message.\n     * This method will log a message about the email being sent.\n     * If [[useFileTransport]] is true, it will save the email as a file under [[fileTransportPath]].\n     * Otherwise, it will call [[sendMessage()]] to send the email to its recipient(s).\n     * Child classes should implement [[sendMessage()]] with the actual email sending logic.\n     * @param MessageInterface $message email message instance to be sent\n     * @return bool whether the message has been sent successfully\n     */\n    public function send($message)\n    {\n        if (!$this->beforeSend($message)) {\n            return false;\n        }\n\n        $address = $message->getTo();\n        if (is_array($address)) {\n            $address = implode(', ', array_keys($address));\n        }\n        Yii::info('Sending email \"' . $message->getSubject() . '\" to \"' . $address . '\"', __METHOD__);\n\n        if ($this->useFileTransport) {\n            $isSuccessful = $this->saveMessage($message);\n        } else {\n            $isSuccessful = $this->sendMessage($message);\n        }\n        $this->afterSend($message, $isSuccessful);\n\n        return $isSuccessful;\n    }\n\n    /**\n     * Sends multiple messages at once.\n     *\n     * The default implementation simply calls [[send()]] multiple times.\n     * Child classes may override this method to implement more efficient way of\n     * sending multiple messages.\n     *\n     * @param array $messages list of email messages, which should be sent.\n     * @return int number of messages that are successfully sent.\n     */\n    public function sendMultiple(array $messages)\n    {\n        $successCount = 0;\n        foreach ($messages as $message) {\n            if ($this->send($message)) {\n                $successCount++;\n            }\n        }\n\n        return $successCount;\n    }\n\n    /**\n     * Renders the specified view with optional parameters and layout.\n     * The view will be rendered using the [[view]] component.\n     * @param string $view the view name or the [path alias](guide:concept-aliases) of the view file.\n     * @param array $params the parameters (name-value pairs) that will be extracted and made available in the view file.\n     * @param string|bool $layout layout view name or [path alias](guide:concept-aliases). If false, no layout will be applied.\n     * @return string the rendering result.\n     */\n    public function render($view, $params = [], $layout = false)\n    {\n        $output = $this->getView()->render($view, $params, $this);\n        if ($layout !== false) {\n            return $this->getView()->render($layout, ['content' => $output, 'message' => $this->_message], $this);\n        }\n\n        return $output;\n    }\n\n    /**\n     * Sends the specified message.\n     * This method should be implemented by child classes with the actual email sending logic.\n     * @param MessageInterface $message the message to be sent\n     * @return bool whether the message is sent successfully\n     */\n    abstract protected function sendMessage($message);\n\n    /**\n     * Saves the message as a file under [[fileTransportPath]].\n     * @param MessageInterface $message\n     * @return bool whether the message is saved successfully\n     */\n    protected function saveMessage($message)\n    {\n        $path = Yii::getAlias($this->fileTransportPath);\n        if (!is_dir($path)) {\n            mkdir($path, 0777, true);\n        }\n        if ($this->fileTransportCallback !== null) {\n            $file = $path . '/' . call_user_func($this->fileTransportCallback, $this, $message);\n        } else {\n            $file = $path . '/' . $this->generateMessageFileName();\n        }\n        file_put_contents($file, $message->toString());\n\n        return true;\n    }\n\n    /**\n     * @return string the file name for saving the message when [[useFileTransport]] is true.\n     */\n    public function generateMessageFileName()\n    {\n        $time = microtime(true);\n\n        return date('Ymd-His-', $time) . sprintf('%04d', (int) (($time - (int) $time) * 10000)) . '-' . sprintf('%04d', mt_rand(0, 10000)) . '.eml';\n    }\n\n    /**\n     * @return string the directory that contains the view files for composing mail messages\n     * Defaults to '@app/mail'.\n     */\n    public function getViewPath()\n    {\n        if ($this->_viewPath === null) {\n            $this->setViewPath('@app/mail');\n        }\n\n        return $this->_viewPath;\n    }\n\n    /**\n     * @param string $path the directory that contains the view files for composing mail messages\n     * This can be specified as an absolute path or a [path alias](guide:concept-aliases).\n     */\n    public function setViewPath($path)\n    {\n        $this->_viewPath = Yii::getAlias($path);\n    }\n\n    /**\n     * This method is invoked right before mail send.\n     * You may override this method to do last-minute preparation for the message.\n     * If you override this method, please make sure you call the parent implementation first.\n     * @param MessageInterface $message\n     * @return bool whether to continue sending an email.\n     */\n    public function beforeSend($message)\n    {\n        $event = new MailEvent(['message' => $message]);\n        $this->trigger(self::EVENT_BEFORE_SEND, $event);\n\n        return $event->isValid;\n    }\n\n    /**\n     * This method is invoked right after mail was send.\n     * You may override this method to do some postprocessing or logging based on mail send status.\n     * If you override this method, please make sure you call the parent implementation first.\n     * @param MessageInterface $message\n     * @param bool $isSuccessful\n     */\n    public function afterSend($message, $isSuccessful)\n    {\n        $event = new MailEvent(['message' => $message, 'isSuccessful' => $isSuccessful]);\n        $this->trigger(self::EVENT_AFTER_SEND, $event);\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yii\\base {\n\n    /**\n     * emulate availability of functions, to test different branches of Security class\n     * where different execution paths are chosen based on calling function_exists.\n     *\n     * This function overrides function_exists from the root namespace in yii\\base.\n     * @param string $name\n     */\n    function function_exists($name)\n    {\n        if (isset(\\yiiunit\\framework\\base\\SecurityTest::$functions[$name])) {\n            return \\yiiunit\\framework\\base\\SecurityTest::$functions[$name];\n        }\n\n        return \\function_exists($name);\n    }\n    /**\n     * Emulate chunked reading of fread(), to test different branches of Security class\n     * where different execution paths are chosen based on the return value of fopen/fread.\n     *\n     * This function overrides fopen and fread from the root namespace in yii\\base.\n     * @param string $filename\n     * @param mixed $mode\n     */\n    function fopen($filename, $mode)\n    {\n        if (\\yiiunit\\framework\\base\\SecurityTest::$fopen !== null) {\n            return \\yiiunit\\framework\\base\\SecurityTest::$fopen;\n        }\n\n        return \\fopen($filename, $mode);\n    }\n    function fread($handle, $length)\n    {\n        if (\\yiiunit\\framework\\base\\SecurityTest::$fread !== null) {\n            return \\yiiunit\\framework\\base\\SecurityTest::$fread;\n        }\n        if (\\yiiunit\\framework\\base\\SecurityTest::$fopen !== null) {\n            return $length < 8 ? \\str_repeat('s', $length) : 'test1234';\n        }\n\n        return \\fread($handle, $length);\n    }\n} // closing namespace yii\\base;\n\nnamespace yiiunit\\framework\\base {\n\nuse yii\\base\\Security;\nuse yiiunit\\TestCase;\n\n/**\n * @group base\n */\nclass SecurityTest extends TestCase\n{\n    const CRYPT_VECTORS = 'old';\n\n    /**\n     * @var array set of functions for which a fake return value for `function_exists()` is provided.\n     */\n    public static $functions = [];\n    /**\n     * @var resource|false|null fake return value for fopen() in \\yii\\base namespace. Normal behavior if this is null.\n     */\n    public static $fopen;\n    public static $fread;\n\n    /**\n     * @var ExposedSecurity\n     */\n    protected $security;\n\n    protected function setUp()\n    {\n        static::$functions = [];\n        static::$fopen = null;\n        static::$fread = null;\n        parent::setUp();\n        $this->security = new ExposedSecurity();\n        $this->security->derivationIterations = 1000; // speed up test running\n    }\n\n    protected function tearDown()\n    {\n        static::$functions = [];\n        static::$fopen = null;\n        static::$fread = null;\n        parent::tearDown();\n    }\n\n    private function isWindows()\n    {\n        return DIRECTORY_SEPARATOR !== '/';\n    }\n\n    // Tests :\n\n    public function testHashData()\n    {\n        $data = 'known data';\n        $key = 'secret';\n        $hashedData = $this->security->hashData($data, $key);\n        $this->assertNotSame($data, $hashedData);\n        $this->assertEquals($data, $this->security->validateData($hashedData, $key));\n        $hashedData[strlen($hashedData) - 1] = 'A';\n        $this->assertFalse($this->security->validateData($hashedData, $key));\n    }\n\n    public function testPasswordHash()\n    {\n        $this->security->passwordHashCost = 4;  // minimum blowfish's value is enough for tests\n\n        $password = 'secret';\n        $hash = $this->security->generatePasswordHash($password);\n        $this->assertTrue($this->security->validatePassword($password, $hash));\n        $this->assertFalse($this->security->validatePassword('test', $hash));\n    }\n\n    public function testEncryptByPassword()\n    {\n        $data = 'known data';\n        $key = 'secret';\n\n        $encryptedData = $this->security->encryptByPassword($data, $key);\n        $this->assertNotSame($data, $encryptedData);\n        $decryptedData = $this->security->decryptByPassword($encryptedData, $key);\n        $this->assertEquals($data, $decryptedData);\n\n        $tampered = $encryptedData;\n        $tampered[20] = ~$tampered[20];\n        $decryptedData = $this->security->decryptByPassword($tampered, $key);\n        $this->assertFalse($decryptedData);\n    }\n\n    public function testEncryptByKey()\n    {\n        $data = 'known data';\n        $key = $this->security->generateRandomKey(80);\n\n        $encryptedData = $this->security->encryptByKey($data, $key);\n        $this->assertNotSame($data, $encryptedData);\n        $decryptedData = $this->security->decryptByKey($encryptedData, $key);\n        $this->assertEquals($data, $decryptedData);\n\n        $encryptedData = $this->security->encryptByKey($data, $key, $key);\n        $decryptedData = $this->security->decryptByKey($encryptedData, $key, $key);\n        $this->assertEquals($data, $decryptedData);\n\n        $tampered = $encryptedData;\n        $tampered[20] = ~$tampered[20];\n        $decryptedData = $this->security->decryptByKey($tampered, $key);\n        $this->assertFalse($decryptedData);\n\n        $decryptedData = $this->security->decryptByKey($encryptedData, $key, $key . \"\\0\");\n        $this->assertFalse($decryptedData);\n    }\n\n    /**\n     * Generates test vectors like this: `[key/password, plaintext, ciphertext]`.\n     *\n     * The output can then be used for testing compatibility of data encrypted in one\n     * version of Yii and decrypted in another.\n     */\n    public function notestGenerateVectors()\n    {\n        $bin1024 =\n            'badec0c7d9ca734e161a1df6ca4daa8cdbf6b3bbb60ec404b47a23226ec266b1\n            3837ffc969e9c23e2bbba72facb491a6a3271193a35026a9ebc93698d689bf7b\n            84fc384f544cc5d71c2945c8c48ae6348c753322fcaf75171b7d8f1e178e8545\n            3d5c79f03bae6d9705cabbe7004ec81e188812a66313297fcf5d4c61a48614d2\n            1b5379fae60736f88bc737257bc1cfbef7016108dd1f3a537aaa681544f5bb20\n            c2d352212d6a2e460311ab7b93b611218b30c7402709bff89ecf814310c2db97\n            81f4142a54d6d41f82c33208c188a023c70befd697b496efb7c7b8569474a9d5\n            025a8ea8311c831b3de2b81800f28589b6aef537f6ada2e3d92a1ddd39cfd6b4\n            8113c8b36be890b099ca4e08655db0e9b5c211e706af052b776924233321412c\n            b1b540f08d88acd664c55854b05e31a15d4b0dc93b4514f62a88c3d4a451fe34\n            74d2fbaee742f232959b5f6c2b71a8b6ad95a0d5362f39309aca710f37a4dae2\n            228e27d35f4d3fc87ee6ece4538587fad7835f9803f5ca64dfd856ae767a3482\n            c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c04\n            0f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed9273644463b\n            1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334aa4\n            d998a599053cd477f54fc0af62a8ef75eb91096b153751b201b8374c4956508c\n            6c82ea2ceb0265e74c96032787fe01139b578c3a14fd4e32a85195375b25da60\n            4f21187ee01df6042971d7c2b9dd8b611527377f28f933559f6b2edfe7bd8896\n            00627830bcdffcb884989013585cc6da726c7cc57c69e8664a244d234465f2a5\n            e736512a65e563a2a726915b50247aff165190c75d151139f2b31211a3acf94e\n            236d27b441fe64e88a443778359d57ba0fed8edbb01cc60a116f9599da4e47bf\n            e96850ac12d1199a080f1b591c60eae613fba444f9fe31fd42ee333678532556\n            07fbfeef02cdbb2d0a8d2329adc7fba22aa4cd124c6e66e0b0aca796ba6aeb69\n            f8e76a9d1aaabe351bc42fefa6054977859b51158ba7143980d76db5b2cc6aec\n            9f83eac5edf79357632fb60cb4811e71892436e582375860faf8d8c518ee33ca\n            e08b18af7faa227d97196d7b041bcb366118751fbeaa92d80f86324ce8711cfd\n            65005cad0ce30878f508eb1ea2735e212ef3e42a78467d4f31b483087c3c63a3\n            2fa62f2ae92e2acdfc3cf21b3419acc347ff51ccb17161e829cc4a24965fd930\n            b983d63153b9c13dd85340d7184bf01734d4357c1aabfbdc9711193ffa974832\n            4f88cf801f35708db0901ffaa55415ca4334678633dda763b5fbfba7cfd51dc5\n            79149ec9284a4db2349dbc5264d5fca7a72034261716d90a996cb57ba09f7d07\n            29a2f10cc58eec98d86e9306a3fbf2e711046e86b5a86cc0eed7625be1a01ebf';\n        $bin1024 = hex2bin(preg_replace('{\\s+}', '', $bin1024));\n\n        $inputs = [\n            '0',\n            '0123456789',\n            '0123456789abcde',\n            '0123456789abcdef',\n            '0123456789abcdef0',\n            mb_substr($bin1024, 7, 5, '8bit'),\n            base64_encode(mb_substr($bin1024, 269, 11, '8bit')),\n            mb_substr($bin1024, 383, 97, '8bit'),\n            $bin1024,\n        ];\n\n        foreach (['Key', 'Password'] as $method) {\n            $keygen = 'generateRandom' . ($method === 'Key' ? 'Key' : 'String');\n            $encrypt = 'encryptBy' . $method;\n            $decrypt = 'decryptBy' . $method;\n\n            foreach ($inputs as $data) {\n                $key = $this->security->$keygen(16);\n                $encrypted = $this->security->$encrypt($data, $key);\n\n                $keyHex = $method === 'Key' ? bin2hex($key) : $key;\n                $dataHex = trim(chunk_split(bin2hex($data), 64, \"\\n\\t\"));\n                $encryptedHex = trim(chunk_split(bin2hex($encrypted), 64, \"\\n\\t\"));\n\n                echo <<<TEXT\n[\n    '$keyHex',\n    '$dataHex',\n    '$encryptedHex',\n],\n\nTEXT;\n\n                $key2 = $method === 'Key' ? hex2bin(preg_replace('{\\s+}', '', $keyHex)) : $key;\n                $data2 = hex2bin(preg_replace('{\\s+}', '', $dataHex));\n                $encrypted2 = hex2bin(preg_replace('{\\s+}', '', $encryptedHex));\n\n                $this->assertEquals($data, $this->security->$decrypt($encrypted2, $key2));\n                $this->assertEquals($data2, $this->security->$decrypt($encrypted2, $key));\n            }\n        }\n    }\n\n    public function dataProviderEncryptByKeyCompat()\n    {\n        // these ciphertexts generated using Yii 2.0.2 which is based on mcrypt.\n        $mcrypt = [\n            [\n                'b86b7529a525d148cc73798da528d8a0',\n                '30',\n                '4fb4765bea6beb208ba9395bf6d7497f37626463323730396362366338376536\n                3236656535613035373835323061343031613764393062353439623834353135\n                376435383635393065393636656663378807b00020ea10101bbfc2ef0dfee082\n                fcbc1927daee7e6d061bc7a7c8d8e877',\n            ],\n            [\n                '7e214bb6b27108918c007c0f9e1bdd8a',\n                '30313233343536373839',\n                '98981d39f0c985aca577e2eb9472059339623332343335646634613630616335\n                6133323639663336633533313032353164393562303434623533326331653561\n                6566346561643066643331393437623366e93fe0ef0a220ef1228be9f9195475\n                eb303b841b6371841126c13ed419d931',\n            ],\n            [\n                'c139f67915206b7296bc6ab383a2786c',\n                '303132333435363738396162636465',\n                '5773028f2be0df720cb3be2cb989e9e161616430393538363437623862326264\n                6436336133643738333866353339393932326432356433306630663062613331\n                386666313033626661333065313031623d5e980deacb6369592c90e7afca6e6b\n                06736654378cc93b2d238e6360969956',\n            ],\n            [\n                '910c052157953194d552e3a3f0061ab7',\n                '30313233343536373839616263646566',\n                '3141c48cc0b73ee43d5cd9ae5c8a153f66343039333638396632653239623434\n                3162616664636331316238336265626536336231653764663732396638336138\n                34636438616265376138613539656164b004dd4ebddba049ae068936643dd475\n                c07696b0cc173c2eb4c2d7bc3364845e6e3656b463b04e2271cb10824f1365ec',\n            ],\n            [\n                '28d0ad09ce367ca8e0772bbeeea6c40d',\n                '3031323334353637383961626364656630',\n                '1f19013959a0985cf0235c4ff46a20c135626235633437383532343736613963\n                3765646334666263323832643438663361323266303264383337613736363133\n                666432373632343236313331656362354de2203149f8b4f348c06ea4e2eb94e5\n                de4deaf1d198e14e7c448421002bdfa9ed979502d86750d70aebaa1c727ae79e',\n            ],\n            [\n                'b658ac4b9fa13c3c1d40699aba886b7b',\n                '4e161a1df6',\n                '154015ebb822a55869721a0b1c22497762653266663264333631373938653539\n                3465316466396535343966373738666663646232656163383733633739323334\n                316363623562353462363133623134643d118216985ac7e3f6888a95552b6a67\n                6ff70daf8dfb65b4d5f62a936b7f64d7',\n            ],\n            [\n                'baeb43072f20af0f85c6252aa9f0d472',\n                '5862447074634952357761764253733d',\n                'beb6dcd0fb444cbf759a241bd0ea26e537336135333532656136653262303736\n                3061656635326136376230333132663839626431366265363565643064616362\n                39633830313066356330653466613232dd9cfe4f4495f34a971a25d881dd48a3\n                12093a6307a87e4544e217cf9d39dd536a5882d2b9867abefef5c1dad127447e',\n            ],\n            [\n                'd527f854e8f37c49c71b82c48d8b4775',\n                '82c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c\n                040f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed927364446\n                3b1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334a\n                a4',\n                'baa84c2c05b2ac8efd9fc8f9824efb5d63306366393939626532323532646433\n                6539346265383936336262303339336635333164383339326436376631353366\n                6433616639653638393063376137626574bd7aa8c5f313e2d8b7a4ca4af35090\n                9695845c9d62cd91c486307d3ae0701e4abd1fa69a255aab1e6ac2874fa1bc0a\n                065340418a6669427bcdec751300ce7666a38d17d850f7dae4ea9567045356e8\n                f347941226bf7b2d4dd3a21c8aa0b381f8ad06c3a55a7d2cb967ad148142c287\n                f12a563f9cd2c6224e7efb8fdd130bb9',\n            ],\n            [\n                '01025bfec21dda4342809cf20382de29',\n                'badec0c7d9ca734e161a1df6ca4daa8cdbf6b3bbb60ec404b47a23226ec266b1\n                3837ffc969e9c23e2bbba72facb491a6a3271193a35026a9ebc93698d689bf7b\n                84fc384f544cc5d71c2945c8c48ae6348c753322fcaf75171b7d8f1e178e8545\n                3d5c79f03bae6d9705cabbe7004ec81e188812a66313297fcf5d4c61a48614d2\n                1b5379fae60736f88bc737257bc1cfbef7016108dd1f3a537aaa681544f5bb20\n                c2d352212d6a2e460311ab7b93b611218b30c7402709bff89ecf814310c2db97\n                81f4142a54d6d41f82c33208c188a023c70befd697b496efb7c7b8569474a9d5\n                025a8ea8311c831b3de2b81800f28589b6aef537f6ada2e3d92a1ddd39cfd6b4\n                8113c8b36be890b099ca4e08655db0e9b5c211e706af052b776924233321412c\n                b1b540f08d88acd664c55854b05e31a15d4b0dc93b4514f62a88c3d4a451fe34\n                74d2fbaee742f232959b5f6c2b71a8b6ad95a0d5362f39309aca710f37a4dae2\n                228e27d35f4d3fc87ee6ece4538587fad7835f9803f5ca64dfd856ae767a3482\n                c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c04\n                0f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed9273644463b\n                1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334aa4\n                d998a599053cd477f54fc0af62a8ef75eb91096b153751b201b8374c4956508c\n                6c82ea2ceb0265e74c96032787fe01139b578c3a14fd4e32a85195375b25da60\n                4f21187ee01df6042971d7c2b9dd8b611527377f28f933559f6b2edfe7bd8896\n                00627830bcdffcb884989013585cc6da726c7cc57c69e8664a244d234465f2a5\n                e736512a65e563a2a726915b50247aff165190c75d151139f2b31211a3acf94e\n                236d27b441fe64e88a443778359d57ba0fed8edbb01cc60a116f9599da4e47bf\n                e96850ac12d1199a080f1b591c60eae613fba444f9fe31fd42ee333678532556\n                07fbfeef02cdbb2d0a8d2329adc7fba22aa4cd124c6e66e0b0aca796ba6aeb69\n                f8e76a9d1aaabe351bc42fefa6054977859b51158ba7143980d76db5b2cc6aec\n                9f83eac5edf79357632fb60cb4811e71892436e582375860faf8d8c518ee33ca\n                e08b18af7faa227d97196d7b041bcb366118751fbeaa92d80f86324ce8711cfd\n                65005cad0ce30878f508eb1ea2735e212ef3e42a78467d4f31b483087c3c63a3\n                2fa62f2ae92e2acdfc3cf21b3419acc347ff51ccb17161e829cc4a24965fd930\n                b983d63153b9c13dd85340d7184bf01734d4357c1aabfbdc9711193ffa974832\n                4f88cf801f35708db0901ffaa55415ca4334678633dda763b5fbfba7cfd51dc5\n                79149ec9284a4db2349dbc5264d5fca7a72034261716d90a996cb57ba09f7d07\n                29a2f10cc58eec98d86e9306a3fbf2e711046e86b5a86cc0eed7625be1a01ebf',\n                '08ad33a166a9b39ba7522ccf5414123062643565356136373131666663323763\n                3636343466313761356339656234343064626331343366346432343062626634\n                3264393630336535353431613338653717747da97dd4d63e215dc8bb9ce231d5\n                b3cc9c287dfadb1b5acce0d4da2816de16114665271204188d91b642cdfdb494\n                66a89caa29a9139354f69c4c188d76d88d36d14004268f327c98f4736ba31728\n                a46d8f50d1665bcf157e3164d756286eceac4ce81ba3ffd1b79ff0862f5f529b\n                d44f0e2fbcb88c388095cb894fd4ce059ba8f5436f0a15b2fa9a40acd6645ad1\n                c6f16365250715cb0552dcfc220e844ba67e2a1206b1725a6bbb8f0e87b7067f\n                b51fc0226cd963bddf549227d5eaf5f996061d9c3b7e3306bd9be1114aed6199\n                6e44ee1144bebfca9a1064d40419837e54006f54161dd028b2702faa5cde214c\n                bc11ed1c77d4042b333e772473f4764fcdfcabdd0319f33d96ad0ab904cd2620\n                31683afc4c96dc27fde0570aaedc922a552d46687a606bb579b6ab8050f418f8\n                f6a3fc33ef5eeba8dbf54b5a90a1034ff8a68d9ea691d9a1d6b8f41376735bec\n                6c0f541f927cf107f2184f96235a6fca6d1db013966d8527389f8a79f4afd7bb\n                297c85d56f74faaa069679edc78b16b17ab8d72de3788f2ac2fe8a2e15ddfb3f\n                14ffd9ef18c95acf340f702a974b580cac93928417650b8f9e7409619774e483\n                af66b18ec7547f744099e2bb4125905e5dd553beca90d03fa7d7bba201ab97ac\n                92506c305ff79afe9c99a73cb20b9048464beeb100df0ecfb40161f95dd8708a\n                6fd09e1b166f1e27429b1ca50f990a45425dec25b2a29dcde4fd1c23b0d660ba\n                10241bc20cdc59c3609a7d6b094538d56b878c62dca3a54fbc53d815ae0549f6\n                978ea37a644add2bd2720b37a3502d683b0a8b9ce269bb3db8a44f3e8c3ba507\n                7759de171e1d040dfe5c9a610e21e3b41d95403654122ed7b75111622f14bb50\n                fd7a3e637bba73fc8c4e22702b52329c224860a9e04b38b8c23527c732a281dc\n                f92103d71decf673b3fa83feab2c1937811e0b41163019e1b45e664d4acc570c\n                2d4b24dc138285478c3898b0567c026a1651bbada0fb62ab5ce0d96e3601aec1\n                c6f04ecb1b53f1d852893edb971703dcd919c2dd883d0851e2fc491cf9abf1b7\n                c1652bac73a5a9e9bdbf164db948cc5b8299fd7f5535fa927130dc4e183ef35e\n                bb08723625e4cf62f253111e6f016e6cfba2e9cec30e273e4b2dcefa80d1c528\n                82c91609acf5989eec18afbefc25c898763c50d2a5cc54250d2672a39758f948\n                1866c26d260bf774db05280697d2b1a95b0481afa2b80bb205186ac290bc3770\n                b19a652dc2f5d6611363cd851d921edad36851d64f4cac6ff67299455e120cee\n                65a0d9471d1c952d7e81ba5e67e0a8a41a9a68f50d88a2b62151b564ffc2e435\n                8373e55df6cad337589a89054c050f93b4b252aa65466029313bf7311ae735a5\n                26cd2bac41af846c069ed614485cf62bd66c939dfeb27ecaaa197aa344a5488b\n                b3a2dca884c7fdc4ac08816b2b5ba3b7414f7ff7a06a3a6fe75e20c9eb97a881\n                ac130616f176d1f26ae24bf4392e0a0e',\n            ],\n        ];\n\n        // these ciphertexts generated using my branch 7215-replace-mcrypt which is based on openssl.\n        $openssl = [\n            [\n                '67ae7370e4a144523543f1e3edf35b26',\n                '30',\n                '706e1670ec6beb91c565299710e4f43231336530323838313435653933623539\n                3238313639623066323530646630653236313832333361346664623132393436\n                34326131663964636634366665306439e6142bf3d0e6a5952231d8bfabbacd83\n                ff04c61400529385d63a4b8f8696982d',\n            ],\n            [\n                '5d4bae62bea3c8f4c49dd1a38a4e1b2a',\n                '30313233343536373839',\n                '4c9a34e1977dd656fd3e18d4bc2b00c762353830326262373135396530643235\n                3332643937653632353331626532373336653761643866646233336365323233\n                30633138663034313665653038306161eb77ac98344a0bf946f98e892e6e15db\n                b9e221a7c25135a36562c3ecb2981fcd',\n            ],\n            [\n                '6832851af3c63a1e303bdf1bca38dd9c',\n                '303132333435363738396162636465',\n                'd09d2faa163e774abd020bf8cd623f8962646233313330626133613964353834\n                3436663631383139653438326563623537373830663962303531366130383130\n                3333303531613337386534626136636415db7a6885b67f69d9974f5879ae7497\n                08811fc036508f23f55f3f9d16b9ff9d',\n            ],\n            [\n                'e8a9799f4254b26484ea447918dcaad4',\n                '30313233343536373839616263646566',\n                '1a76a05af572abe9b4e7a67d7f64baff39666636363332323133373034386531\n                3761353236333263643965313139303666636535343862363737333032323331\n                313136366562336535663033316231303811542783f13798b17d40aa7ec9b489\n                34404ab50784ad1722f5f4d4462f702d3a625ef712635b274a970a47b516b137',\n            ],\n            [\n                '27cbf5a7c4327582393b2ec277cfe957',\n                '3031323334353637383961626364656630',\n                '60e2e14b404c5bd55b192ef2f1c7131c32356261636361313131336265323534\n                3439623033346337346133346239363337633736663831343632626638303038\n                64653361396366356165633061666538d2137b2defca383668827b6983f86254\n                bd849c3e8c9a44b6e1ed203491d73b4cb0cb83658240a89baa9261755d707879',\n            ],\n            [\n                '7b157beb08e8a8ac7d74f789ccbacae5',\n                '4e161a1df6',\n                'a17ca346c4a88404b8a345b1d075173a66356137326335343137393136353762\n                3930636535636466336534316438376437376639366535666636313235653262\n                38393464663134313430333633343232b319ce688676fde03d092d73df75705f\n                bde594d9b2bfe41580a458555982dc70',\n            ],\n            [\n                '88704df5b4881d2246388dc7c68066cc',\n                '5862447074634952357761764253733d',\n                '9069fbdd47ee81faf34eff40f8fee94333393037333936333439653537636132\n                6561613863336165333336323562353161636330366438633264376461626563\n                3836363462646536323261333034643070e4b0a3d196f36a4afb92a7ae4ef7b8\n                eb44e9db29638fa32140e379ae7aa6b7e68f454635ade137165383fd3a5c049b',\n            ],\n            [\n                '1d203fba1cd2a7b92abb8f40eb985538',\n                '82c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c\n                040f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed927364446\n                3b1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334a\n                a4',\n                'fade5d841aa10a29a2ef5236371ffc2964343165383664636264393666383364\n                6165646139316438666531633230306537343364336166666463656466306564\n                63326239653938303332656464346463136bd6dd0b7530490b91024ed944bc3e\n                3fc4050d20ce05a9ed992ede75f62bdd2523d0cbc93493baf07ef98c895a353b\n                5baaf26200572aa2e5bd22508db227556c5ee9eb7425418e9852c595e6ac0e61\n                37c186e04a3f19d855d8c4b8a8e6ad1be179ea5c816fe461a4cec212297873c8\n                5f96ee5c024cd88d1c32975fd95acd73',\n            ],\n            [\n                '1f93719d7a66a724c3841835fbcb33fd',\n                'badec0c7d9ca734e161a1df6ca4daa8cdbf6b3bbb60ec404b47a23226ec266b1\n                3837ffc969e9c23e2bbba72facb491a6a3271193a35026a9ebc93698d689bf7b\n                84fc384f544cc5d71c2945c8c48ae6348c753322fcaf75171b7d8f1e178e8545\n                3d5c79f03bae6d9705cabbe7004ec81e188812a66313297fcf5d4c61a48614d2\n                1b5379fae60736f88bc737257bc1cfbef7016108dd1f3a537aaa681544f5bb20\n                c2d352212d6a2e460311ab7b93b611218b30c7402709bff89ecf814310c2db97\n                81f4142a54d6d41f82c33208c188a023c70befd697b496efb7c7b8569474a9d5\n                025a8ea8311c831b3de2b81800f28589b6aef537f6ada2e3d92a1ddd39cfd6b4\n                8113c8b36be890b099ca4e08655db0e9b5c211e706af052b776924233321412c\n                b1b540f08d88acd664c55854b05e31a15d4b0dc93b4514f62a88c3d4a451fe34\n                74d2fbaee742f232959b5f6c2b71a8b6ad95a0d5362f39309aca710f37a4dae2\n                228e27d35f4d3fc87ee6ece4538587fad7835f9803f5ca64dfd856ae767a3482\n                c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c04\n                0f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed9273644463b\n                1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334aa4\n                d998a599053cd477f54fc0af62a8ef75eb91096b153751b201b8374c4956508c\n                6c82ea2ceb0265e74c96032787fe01139b578c3a14fd4e32a85195375b25da60\n                4f21187ee01df6042971d7c2b9dd8b611527377f28f933559f6b2edfe7bd8896\n                00627830bcdffcb884989013585cc6da726c7cc57c69e8664a244d234465f2a5\n                e736512a65e563a2a726915b50247aff165190c75d151139f2b31211a3acf94e\n                236d27b441fe64e88a443778359d57ba0fed8edbb01cc60a116f9599da4e47bf\n                e96850ac12d1199a080f1b591c60eae613fba444f9fe31fd42ee333678532556\n                07fbfeef02cdbb2d0a8d2329adc7fba22aa4cd124c6e66e0b0aca796ba6aeb69\n                f8e76a9d1aaabe351bc42fefa6054977859b51158ba7143980d76db5b2cc6aec\n                9f83eac5edf79357632fb60cb4811e71892436e582375860faf8d8c518ee33ca\n                e08b18af7faa227d97196d7b041bcb366118751fbeaa92d80f86324ce8711cfd\n                65005cad0ce30878f508eb1ea2735e212ef3e42a78467d4f31b483087c3c63a3\n                2fa62f2ae92e2acdfc3cf21b3419acc347ff51ccb17161e829cc4a24965fd930\n                b983d63153b9c13dd85340d7184bf01734d4357c1aabfbdc9711193ffa974832\n                4f88cf801f35708db0901ffaa55415ca4334678633dda763b5fbfba7cfd51dc5\n                79149ec9284a4db2349dbc5264d5fca7a72034261716d90a996cb57ba09f7d07\n                29a2f10cc58eec98d86e9306a3fbf2e711046e86b5a86cc0eed7625be1a01ebf',\n                '712929635f5be013159aec81296b96ec36333734373565366166383031313734\n                3331623863663837343237633863376539643865643339383531363139396566\n                34313731633765393462663264316130de90698e64fa4abc91639e72baee83bc\n                2caf85f91318e0cbd0db5fa08c4ffb582ec55ca43de53a43f2844af35d5f87b9\n                8faa623107aee2e083f1c7aeedcb0472c93bb9eacbd39d839d5bf94c44658d7f\n                d70817f5d6b120f91ef86880f93e99151bc1ed13ed263a3ccc7243e5ea97f39f\n                1ce2ce6b05a2b78f05c5d72041e35466068f52fb3d2ba3afa7594d7bc0981c54\n                8b31ae7e5b7e7e0e6f2fac9a336e6516d7e4b5cc658e1fe634daf9ad097715be\n                14d54ef19adc381db31db78714a09e997dc7732853d39885566e41a2c0ecb08d\n                ef8ab56359a0e312446d9f1555539ad29e13080d438d6817280d4dbfe6cd4ab9\n                4a357dbddcea1bc90e0d0fa6d556b1ba75c23a1d3818ea91e0fa5b8005b8020e\n                f7a80ed2ee60aa8ee588e101dbf3b64bf6a3dca5b1d5bcb96eed5c594bab1dcf\n                c1f61d74ad3ff0f5fdf176a327e8de33d123cdd61c6c4dc946429c566ac0f77f\n                48215d5889365fa664a879babd4758fb4d824cfb9e4bf6500ffec0e4ebefe4f6\n                2e521a7cd563fc954a9161047461e4054f324c5cf4f9e949566c9ac17c45aac1\n                abf98caed42242c51aa0d81d732c538e437c4024e8f04eeeab6619aed46599e7\n                f66c2041e0c346affab1f79cd7352a66686fac2b38615f8fc172ab0967fd4435\n                9dea9f41b57ba5a752e20456f2254e8eef576867ebda0f48fe47a2e91fc8d8af\n                dc1bf98a8d3530b4b02996fe4b05ec3dab200f9e79a4261c233caa9a33762f1f\n                4b3482ab6f16f5dbd7bd87ed17e21c30140ce61fc2468c054ce51dded2683d7c\n                375d69d662729d6fb8629b8dc25dcc5596f87f627a2138a3ef368a2a1591902f\n                84ffc457bd556a346815986f153fd3a99ef169444436ac81853b318c0908cb33\n                cf332edadfb870cab419365312c18aeda418b8b571783a6b2d8c397c33a22b31\n                55958cef153f4d9cfc3a1c6288ff17bfdd92132e1f1e5fe8041e30a383084811\n                fe892d7fc33abff10dd20db07277677b16e7f90137adfc3cb36dd85de3618769\n                bf8f3ce13642f9ea430f455d388281208190b335915e256320274a904ecd0938\n                d3c34d99c88e3186a132777fc7b74b43efab1a08376035061de56a4fb6de611c\n                41d2139c77a516c4f8144b123696356b4b9a752a9cd857630af4ef02339172e6\n                361a2fd6a18e3baaf8a3f7e9811ad5fb61abba7ae893b1e7748df2c5b7704eb9\n                65606b0253cba6a0561b0e70593c724f99e07d3e9a857aef894a64a35969b354\n                4726d35504d7b8c0c06cbf9106c5d504674daa879b39328d2c83e0f4e5622ea1\n                4fb742458214b410e2736d8cefabfb125c4769701711c15ab870b5ff192d4c71\n                e805ac5100352e33227b162ebae123e20c477719c52c59e192c2e3731806404d\n                d4359f840b11ad495357210e259e6b9e8fe5e8f600e8746fe1a483d45b694324\n                0809649ed7320b0022a5ef7b414635933d6d18ec7218f829121d12dcb573ed77\n                79ab0519d2df17dbd8988b32ac0711ef',\n            ],\n        ];\n\n        return static::CRYPT_VECTORS === 'new' ? $openssl : $mcrypt;\n    }\n\n    /**\n     * @dataProvider dataProviderEncryptByKeyCompat\n     *\n     * @param string $key encryption key hex string\n     * @param string $data plaintext hex string\n     * @param string $encrypted ciphertext hex string\n     */\n    public function testEncryptByKeyCompat($key, $data, $encrypted)\n    {\n        $key = hex2bin(preg_replace('{\\s+}', '', $key));\n        $data = hex2bin(preg_replace('{\\s+}', '', $data));\n        $encrypted = hex2bin(preg_replace('{\\s+}', '', $encrypted));\n\n        $this->assertEquals($data, $this->security->decryptByKey($encrypted, $key));\n    }\n\n    public function dataProviderEncryptByPasswordCompat()\n    {\n        // these ciphertexts generated using Yii 2.0.2 which is based on mcrypt.\n        $mcrypt = [\n            [\n                'LtogIEhy59ve0Huy',\n                '30',\n                '83325c8abe8dc0afd801acb7785dc29c32393439653930663266396466653862\n                3965303964653935326238343065363734346264633932376364376430653933\n                37303963376232336634306339396136e6f4e7dc3e2fd23be186f037e4caa6d0\n                4ae8cb894d80c08bb790417af9cc176f',\n            ],\n            [\n                '1_VTumNNc7VV463t',\n                '30313233343536373839',\n                'a247ac24f3aa60e894904f58954ce8bf39386530366165343538336132616231\n                6532353066663430646432383531333465373336646333386437323733633763\n                646665346232623635393962626162323a44a150a556addd97addfb43a32f600\n                aa2c479664682a308e6cdd523967cb4a',\n            ],\n            [\n                'DBpoIPndKRm2Rfem',\n                '303132333435363738396162636465',\n                '9ed20f30824312032e5e34e2c5ab61e333313930616634396137623261363863\n                3334323832333664626265663435643633323033383862613865633961356261\n                30353634393536636465643833633531b62ce156f34b92790b2d26312f3fd7d0\n                0a646da4d636f6998f1b0d859f255dc6',\n            ],\n            [\n                's1e1oRE1iM_oortb',\n                '30313233343536373839616263646566',\n                '5b03427dba481b5af8760edc3788fa0e66666663623539353163346466663761\n                6434663337383566366265663931303662366530653633663235303532373763\n                37346330393537646630616535373230c98134da00d77753741c1f0bb483f109\n                622a889f950310cd51d7d48d63202b20d378eac85f7d0c851fc9905d322aef96',\n            ],\n            [\n                'i1E7JvOQaESAKoeH',\n                '3031323334353637383961626364656630',\n                '7cf2ed4612d07de3ecfd54ac0e576e8539613861656439333965623533626238\n                3361653764663438643330383130313462613961636462383836383862313962\n                346439313666343336313766366538637bd566b1eecb0b1e0896eb1fd0fd11d9\n                dcb9eee5cc3d90c4046a6849e8ad152caf85e8f96de3b24b4d523a2d60533e0b',\n            ],\n            [\n                'QUN24gpNGodXurMM',\n                '4e161a1df6',\n                '49fc2d51b3e6325d86334ea8872699ef31613661333031373065373834643033\n                3863343734366435343035316562643438636133306233373431323066333330\n                32613330623364326162326434306637042f9b4a005ed3b9532181d020378800\n                deefcfa36d77ed4abdf35546c0bb4aec',\n            ],\n            [\n                '1COt9D8ZsfclCic2',\n                '5862447074634952357761764253733d',\n                'c4d5f90054faf3699d983795f44bdb1430643734643832343265323064323434\n                6535346565323733323764376266646539366431353266666639386231626438\n                653237646165393461626435656332332b4244fccb47ad8cdea56109c7d5a417\n                13b3844d9857507db59d0000037b169f7b67cf0ea793c0254bffc55342d8e4c7',\n            ],\n            [\n                'eUqmv4chMnO1H5cq',\n                '82c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c\n                040f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed927364446\n                3b1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334a\n                a4',\n                '31435e0bf8c0be9a395791288f6d058839336130623938343839626436636433\n                6664373131666361383739633163373130323936653730306331663836373263\n                656135303466323439326564626162378298df437dab821e8b2f7086962ffeb1\n                7a674022ee498470e5e8fdff8905aed39e424588ecee69965bb6856f0356860e\n                aa978ffa42ccfef6d4fb00026014e107736f3ee9b2206a2cd52b18e3068cf6aa\n                077c7304128a3cd92d4fc29dfa7c180eaf85feec791618db1ed01695536cf8ec\n                7923c0b3fb974fd0ff92faa62723e94f',\n            ],\n            [\n                '3Cl5v2Lmn61PiQ3H',\n                'badec0c7d9ca734e161a1df6ca4daa8cdbf6b3bbb60ec404b47a23226ec266b1\n                3837ffc969e9c23e2bbba72facb491a6a3271193a35026a9ebc93698d689bf7b\n                84fc384f544cc5d71c2945c8c48ae6348c753322fcaf75171b7d8f1e178e8545\n                3d5c79f03bae6d9705cabbe7004ec81e188812a66313297fcf5d4c61a48614d2\n                1b5379fae60736f88bc737257bc1cfbef7016108dd1f3a537aaa681544f5bb20\n                c2d352212d6a2e460311ab7b93b611218b30c7402709bff89ecf814310c2db97\n                81f4142a54d6d41f82c33208c188a023c70befd697b496efb7c7b8569474a9d5\n                025a8ea8311c831b3de2b81800f28589b6aef537f6ada2e3d92a1ddd39cfd6b4\n                8113c8b36be890b099ca4e08655db0e9b5c211e706af052b776924233321412c\n                b1b540f08d88acd664c55854b05e31a15d4b0dc93b4514f62a88c3d4a451fe34\n                74d2fbaee742f232959b5f6c2b71a8b6ad95a0d5362f39309aca710f37a4dae2\n                228e27d35f4d3fc87ee6ece4538587fad7835f9803f5ca64dfd856ae767a3482\n                c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c04\n                0f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed9273644463b\n                1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334aa4\n                d998a599053cd477f54fc0af62a8ef75eb91096b153751b201b8374c4956508c\n                6c82ea2ceb0265e74c96032787fe01139b578c3a14fd4e32a85195375b25da60\n                4f21187ee01df6042971d7c2b9dd8b611527377f28f933559f6b2edfe7bd8896\n                00627830bcdffcb884989013585cc6da726c7cc57c69e8664a244d234465f2a5\n                e736512a65e563a2a726915b50247aff165190c75d151139f2b31211a3acf94e\n                236d27b441fe64e88a443778359d57ba0fed8edbb01cc60a116f9599da4e47bf\n                e96850ac12d1199a080f1b591c60eae613fba444f9fe31fd42ee333678532556\n                07fbfeef02cdbb2d0a8d2329adc7fba22aa4cd124c6e66e0b0aca796ba6aeb69\n                f8e76a9d1aaabe351bc42fefa6054977859b51158ba7143980d76db5b2cc6aec\n                9f83eac5edf79357632fb60cb4811e71892436e582375860faf8d8c518ee33ca\n                e08b18af7faa227d97196d7b041bcb366118751fbeaa92d80f86324ce8711cfd\n                65005cad0ce30878f508eb1ea2735e212ef3e42a78467d4f31b483087c3c63a3\n                2fa62f2ae92e2acdfc3cf21b3419acc347ff51ccb17161e829cc4a24965fd930\n                b983d63153b9c13dd85340d7184bf01734d4357c1aabfbdc9711193ffa974832\n                4f88cf801f35708db0901ffaa55415ca4334678633dda763b5fbfba7cfd51dc5\n                79149ec9284a4db2349dbc5264d5fca7a72034261716d90a996cb57ba09f7d07\n                29a2f10cc58eec98d86e9306a3fbf2e711046e86b5a86cc0eed7625be1a01ebf',\n                '0c5164ead7f48c5d95f5907399c146a261353462323734323738656231323164\n                3962333166373062373734636630623932616638626236393339363861646366\n                35643933393537303331343436303330a927c7a879272f81e1032d57530b5e69\n                60f70e14b7607e8e17583aa8197f547e375e07b7a9d6c11be406f5e01aac59e2\n                7e54bb3c33662ea294cfbd0e7bb8e5eb886edee341509a752fc3b9706807a948\n                00edd0bff8e624275420bff50995de70d2692a052e1710a0b9135f9f44abcb02\n                24a189f1bb414e4d73fb539728d40b47ebc34fdb5ec2fa61848bb828de5179a1\n                e799eb09367bda9b59b3bdc51d3f92c1bd7dacf751b9324059869bf6adc3d88d\n                226a153a75cae1a2426ea187ef62c97bbd35e97450da87d4da9aed08ebf30a3c\n                a3369cc65a17acebb8a6ff8ff698743a3782990bc5e8cd03a6882c0f7c50868c\n                6b3ce967c9ea317555eb972e9bb7beb7b3215160a0bcca8c7f92a085beca256e\n                4484b1cdcaee495917d8aa4dbf7675806f7f57e77a770ea7db6e080150b43f56\n                15709b371a303e89b032eac7fec3ee954ea52940a2e59343fd0fd59ac2d4f095\n                74d2863eed13774c63a94e87f7ccdbf0741a56074a7210e2f022809ca48637d8\n                057d80fb190f339ddee2b6f7aaef3f2c1848026bd33e377ac554e2b29dede4fc\n                11e040b3837c24e6cd93430c2f9c19138cd1b505681958a09f223f65e6d7b123\n                43e426e204ee32411b1590133d58fbc4806ff784db93cd0205a7b4a1f4b96ee4\n                02b06ac00520118c89a7c4f1dfb4ac941a3d6f839e9312ee8cd9c3c02ef5cf2a\n                29d266fcfd29c24b994bcd3c67000999486bad6b060f87d5c843f3f132be5a7c\n                6ab2aab2091a83f0673efc4bf658e6c181c800a2eab5272c9cc8e9bdcf4ee061\n                de613989f107f1755385697ad64cd1c613f1f742a980c48e27638b8423b82eba\n                555c59020ee5794099377e816e8983a7579fc97178e5ac0f98bdda6dbf3f38f1\n                3f8b2d12cc792e729468a8408482985ac73e831a6ca5f67176f68bf216b77147\n                fe4743ae60f628defa590b0b0b7d8c39d24ef6980ffc0c47882fa0e3f04ed3e5\n                6d8654e11a0f25a2b3dd03e900e3d59922fa7ccd544f98a04828a34826fd9bfe\n                e8c841ca6146cc96443ab2cbed3f846f5241d27b15f81df80e2b35219044e933\n                4967334529fe949604a19f7cad76842a16928066a01fb9ec750e78ae68ddcb4f\n                833b5e89377ea31c7c87666c300f36f7583383f783f979cedbd05585c50caade\n                73f9f38dfcc5f915106573694ce497a0787ce3fecf9678a75b62f258aea300e8\n                2176e5c51009ea1fbdf266606cfb93cc62f9abd6c056625df053da8d9e175d63\n                ca716f148365a41796889e6d24e6c9a6ee6ac57bf7c35b45d4000ec638d191e5\n                54fe6b031f87b82f6076e9672f7162de1dafedb9fed9d38adeb999c7fc46f801\n                cd546342404315b06faff51d549b2eb94390d40a9ad826c1595add3f11afb909\n                16dc20173f13010008bc12a6355d582205897e7eb885f526a08bee072dabbb15\n                3b1777d8e7d96b31db8b64d64404ae82b3506f10ef198fad6321aa8cf04b5f54\n                d5236014d4b5ce20fbfba77f090d3573',\n            ],\n        ];\n\n        // these ciphertexts generated using my branch 7215-replace-mcrypt which is based on openssl.\n        $openssl = [\n            [\n                '3DZsVH4gt5xBueho',\n                '30',\n                'e19edc37d284b77a5a4600334b67317662393266323434393038666330653031\n                3730313664646137663830626366383363336239313664336637653133313933\n                306133613836363563643538396163642b6c12f20e7e1ae97422ee659914cc57\n                e99c7c97c7a4957e78ab957b18be4551',\n            ],\n            [\n                'CVALyUpDdMOSaxJN',\n                '30313233343536373839',\n                'a2535797ac0c83932fd9a2b8d6b2602662663439623337616631623434333233\n                3033343439313063656162373231666330333261383561356632393932386462\n                3631666364313236303962373636316296930828e0e154a0e8d262846835f242\n                e42de861cba81df69fe6fe5a5970fdf7',\n            ],\n            [\n                'wBZcBIhNSFiaCWE8',\n                '303132333435363738396162636465',\n                'd77b5d334d2820b5b5a54c5f71fce21130373832656561636661623564383766\n                6338343636626662346566623035333461653566353366656438303063376561\n                32643033343166376162376333373166c6cf828b68ff940e8de977e3471d1d51\n                2e51bab7ee0f976dd6d87727b508f7cf',\n            ],\n            [\n                'PYeAhK5nWPIxGD2F',\n                '30313233343536373839616263646566',\n                '0c2b35c26794c55b94228af98ba7378133326361353835323130363730333039\n                3531343463653763663366386462363733666537646466326339303439373730\n                64343038313234393232313362653639dbec4d9abb2dcffbf186366476df34d2\n                500744fd27eda1e0ea0e54280b091d32ebd1e786402507cb3c591503e27f195b',\n            ],\n            [\n                'B9u8Tl9tRBgmnSHk',\n                '3031323334353637383961626364656630',\n                '8401d45dbce698cf9342152c75cd8f5164356231643534643561646636316462\n                6331373265623831373165363336616165343432383161633962646333373932\n                3139323034393665303863356331363743e5873d38758489b9d5800aabf31f3e\n                cf36e1e47955f5c96acdf8dc6cc7280c825949d46546796ec5a114985f5fe598',\n            ],\n            [\n                'cLHX5BvVQcdlozS6',\n                '4e161a1df6',\n                'e04aed1dc385788c3c777bc7b3cfa20c32656633363730393363366138643831\n                3866303330613461666664623039326437623739613236333566353762333461\n                34653132366163653031303134353161eefebead8d190e854c05f598adfb8d7b\n                ef30c86c7cc7003f261b8ce26c62da55',\n            ],\n            [\n                'r8EZMeBVex-LC3c5',\n                '5862447074634952357761764253733d',\n                'ae03ee587e7df6407a17d43e3381b76563616366633165613463383063353930\n                6163613736656635663234613263323833393131363661333737333133356366\n                3963313236356663373035323264623224b4aa1536a8deba1dfa026efa614fb9\n                4915763a2629a00fe5ff8f1afc894f1b644f9b08ebc7baefc06229f177b5e446',\n            ],\n            [\n                'TRS5GvlQ2WCoEzHY',\n                '82c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c\n                040f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed927364446\n                3b1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334a\n                a4',\n                'f05611e02a2cccbfea4679e8110087a061396332303030396562663732626138\n                3530363534313362373731316330363964393564653831636566646261363265\n                38323536366666633438396566323939bce309f535fca3d1fb23e8503f8cf3b8\n                bca4c4bcfb4021592268f88070b5203f5023a6a39034e34048bc944c22e037fd\n                e6ca8ca17e2bdc8169d1e714830de6932cfe0dcdd1728e8bf848a6f4f7154d1c\n                0f8c650e0ef650ba3b90372eb6d13e93e3c79610291a523a3967a3049b04f1d4\n                c899e1554b04f906c2e6408a16702d19',\n            ],\n            [\n                'x_a2LHnyqH8WAwkZ',\n                'badec0c7d9ca734e161a1df6ca4daa8cdbf6b3bbb60ec404b47a23226ec266b1\n                3837ffc969e9c23e2bbba72facb491a6a3271193a35026a9ebc93698d689bf7b\n                84fc384f544cc5d71c2945c8c48ae6348c753322fcaf75171b7d8f1e178e8545\n                3d5c79f03bae6d9705cabbe7004ec81e188812a66313297fcf5d4c61a48614d2\n                1b5379fae60736f88bc737257bc1cfbef7016108dd1f3a537aaa681544f5bb20\n                c2d352212d6a2e460311ab7b93b611218b30c7402709bff89ecf814310c2db97\n                81f4142a54d6d41f82c33208c188a023c70befd697b496efb7c7b8569474a9d5\n                025a8ea8311c831b3de2b81800f28589b6aef537f6ada2e3d92a1ddd39cfd6b4\n                8113c8b36be890b099ca4e08655db0e9b5c211e706af052b776924233321412c\n                b1b540f08d88acd664c55854b05e31a15d4b0dc93b4514f62a88c3d4a451fe34\n                74d2fbaee742f232959b5f6c2b71a8b6ad95a0d5362f39309aca710f37a4dae2\n                228e27d35f4d3fc87ee6ece4538587fad7835f9803f5ca64dfd856ae767a3482\n                c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c04\n                0f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed9273644463b\n                1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334aa4\n                d998a599053cd477f54fc0af62a8ef75eb91096b153751b201b8374c4956508c\n                6c82ea2ceb0265e74c96032787fe01139b578c3a14fd4e32a85195375b25da60\n                4f21187ee01df6042971d7c2b9dd8b611527377f28f933559f6b2edfe7bd8896\n                00627830bcdffcb884989013585cc6da726c7cc57c69e8664a244d234465f2a5\n                e736512a65e563a2a726915b50247aff165190c75d151139f2b31211a3acf94e\n                236d27b441fe64e88a443778359d57ba0fed8edbb01cc60a116f9599da4e47bf\n                e96850ac12d1199a080f1b591c60eae613fba444f9fe31fd42ee333678532556\n                07fbfeef02cdbb2d0a8d2329adc7fba22aa4cd124c6e66e0b0aca796ba6aeb69\n                f8e76a9d1aaabe351bc42fefa6054977859b51158ba7143980d76db5b2cc6aec\n                9f83eac5edf79357632fb60cb4811e71892436e582375860faf8d8c518ee33ca\n                e08b18af7faa227d97196d7b041bcb366118751fbeaa92d80f86324ce8711cfd\n                65005cad0ce30878f508eb1ea2735e212ef3e42a78467d4f31b483087c3c63a3\n                2fa62f2ae92e2acdfc3cf21b3419acc347ff51ccb17161e829cc4a24965fd930\n                b983d63153b9c13dd85340d7184bf01734d4357c1aabfbdc9711193ffa974832\n                4f88cf801f35708db0901ffaa55415ca4334678633dda763b5fbfba7cfd51dc5\n                79149ec9284a4db2349dbc5264d5fca7a72034261716d90a996cb57ba09f7d07\n                29a2f10cc58eec98d86e9306a3fbf2e711046e86b5a86cc0eed7625be1a01ebf',\n                '5d841d0cb575fdb8c7e2cc48be47021d38646237366663323933346163643933\n                3861336335396666356139383066663033336333303731336263663262626136\n                643635333333393362306631333266320d73812258a45d90f8240d59c4e39e87\n                8d4d999f36403a6f0b1d69ab9416792c5e8f2cf427af8423c8213a885fde488c\n                db95217c64c542f5e2be6b4375ff82e5c72a9f165049546b38295006f50665b1\n                354350de4a68b5f16a18f7df53e0999f4f7ba5ba0676e416a0444d5b7accda8b\n                093ae31a23e3cb63b6f404c437071435b8143f282c4cb4403a2b538af5a0d94f\n                1e582c3bb9d5379ba5d576643854c232d74f303dcac91a711bf440fb24e7ab2a\n                70ef69008ffb59ad2455d4f1482e77114489a3b5a250384b24062f546f86073a\n                91fdd85d34bd7814b4ce70ec8d6ea34f98067d7101050f3800f9f1fd92003856\n                223f8ca142749c2ef4c8d1991a62b0ff86623bf9afce65d55fb5efe80089cee4\n                e4f12e94e1748c5740f075a94a2290ba2dc892fdfde516ebc190a4db63e77f93\n                54a3bec5ef695572dddcc9d7c43609724c73bc5bfe79d5f322890e4f39a31e6b\n                3fb9388c78e133c58e395ca03eca2e8ab9520e4d2e5421e0d9a1f781a564dda7\n                720d56f413312762da078e0226053672983ecf5bdf18086a6f617071814d61e4\n                27e6f02167b8d38e381607e4238f21c0b6e6d9222f1cc6348b9f7d6fb084cc3b\n                306b7acbb94f4b3ab6b66fe539865fb804899d3f64c8bca6bd02ee5509022a50\n                03d63e259bb414391fc10ae9b2e42c68a2be743488b69ca77c70741820aaeeb0\n                da2ff00c07787a39ec613e665d78c30b5f57a14fcbe24f00cf55eeb174e23dac\n                a9eb3587bc8dc8fdf5ef062b7f1659b45c48246055fda699b6ae8b9fcc46a380\n                ebc6b648662ef5fed1a4fe16c9aa310cc16f5ad642b80549262f5c77335f5435\n                a43d30459297b754350a9dd635b0ca5342fc798d369225f6d692eea0c901eb72\n                fd10af1199b7847ffc1a0c5915902fe339772183727c31497c752e3beb1cf010\n                2c97ab270def6628bdae630172d73a9fc0afed1d893870003828f64518512886\n                57d62ba52c8d325aa8409b0a40754dc3f84d1c8898e01e20c03464b83d2dae5d\n                3d9f279778fb1161ac5d8f9c466fd0c6bdd6a21553ea9252ff018ae99b0d4425\n                0e55d177fb1e0275da97474ea052d85d96b7432c1be840e5994b127b147d1a0c\n                64f1cea9115a37225c8b49960e0693680ee5593c81784c850811e1f10ce4f9a3\n                365e3d2d240e0eef8da6404d5a93ebd000a98d5d33dd5a238327e88dfdad2744\n                ed0c4321a543c1a3231e53550e816c531b73bafec21e32daeecd199c7a2be75f\n                450ce4d39e10ad81a7ca74877e1661376d7cce557a1d4dde53b503e1512efef6\n                d607d5074ca8ba29db067454e529aec867907c6eded03ce90835d72974cddcc5\n                83628bd2948a78a2d666ed89889f59b1dd5b05704b7e68a801ad9f93809e0d8a\n                ae72a72923883d4de81d867bf639eb5dc581429041ca78763235fe11251254c8\n                cca8bfe10e8810035e4cce023b6527744d0ea839bb035db99adc3ce742a5491d\n                c446220a6cb416a0bd3362b424dcdf3e',\n            ],\n        ];\n\n        return static::CRYPT_VECTORS === 'new' ? $openssl : $mcrypt;\n    }\n\n    /**\n     * @dataProvider dataProviderEncryptByPasswordCompat\n     *\n     * @param string $password encryption password\n     * @param string $data plaintext hex string\n     * @param string $encrypted ciphertext hex string\n     */\n    public function testEncryptByPasswordCompat($password, $data, $encrypted)\n    {\n        $data = hex2bin(preg_replace('{\\s+}', '', $data));\n        $encrypted = hex2bin(preg_replace('{\\s+}', '', $encrypted));\n\n        $this->assertEquals($data, $this->security->decryptByPassword($encrypted, $password));\n    }\n\n\n    public function randomKeyInvalidInputs()\n    {\n        return [\n            [0],\n            [-1],\n            ['0'],\n            ['34'],\n            [[]],\n        ];\n    }\n\n    /**\n     * @dataProvider randomKeyInvalidInputs\n     * @expectedException \\yii\\base\\InvalidParamException\n     * @param mixed $input\n     */\n    public function testRandomKeyInvalidInput($input)\n    {\n        $key1 = $this->security->generateRandomKey($input);\n    }\n\n    /**\n     * Test the case where opening /dev/urandom fails.\n     */\n    public function testRandomKeyNoOptions()\n    {\n        static::$functions = ['random_bytes' => false, 'openssl_random_pseudo_bytes' => false, 'mcrypt_create_iv' => false];\n        static::$fopen = false;\n        $this->expectException('yii\\base\\Exception');\n        $this->expectExceptionMessage('Unable to generate a random key');\n\n        $this->security->generateRandomKey(42);\n    }\n\n    /**\n     * Test the case where reading from /dev/urandom fails.\n     */\n    public function testRandomKeyFreadFailure()\n    {\n        static::$functions = ['random_bytes' => false, 'openssl_random_pseudo_bytes' => false, 'mcrypt_create_iv' => false];\n        static::$fread = false;\n        $this->expectException('yii\\base\\Exception');\n        $this->expectExceptionMessage('Unable to generate a random key');\n\n        $this->security->generateRandomKey(42);\n    }\n\n    /**\n     * returns a set of different combinations of functions available.\n     */\n    public function randomKeyVariants()\n    {\n        return [\n            [['random_bytes' => true,  'openssl_random_pseudo_bytes' => true,  'mcrypt_create_iv' => true]],\n            [['random_bytes' => true,  'openssl_random_pseudo_bytes' => true,  'mcrypt_create_iv' => false]],\n            [['random_bytes' => true,  'openssl_random_pseudo_bytes' => false, 'mcrypt_create_iv' => true]],\n            [['random_bytes' => true,  'openssl_random_pseudo_bytes' => false, 'mcrypt_create_iv' => false]],\n            [['random_bytes' => false, 'openssl_random_pseudo_bytes' => true,  'mcrypt_create_iv' => true]],\n            [['random_bytes' => false, 'openssl_random_pseudo_bytes' => true,  'mcrypt_create_iv' => false]],\n            [['random_bytes' => false, 'openssl_random_pseudo_bytes' => false, 'mcrypt_create_iv' => true]],\n            [['random_bytes' => false, 'openssl_random_pseudo_bytes' => false, 'mcrypt_create_iv' => false]],\n        ];\n    }\n\n    /**\n     * @dataProvider randomKeyVariants\n     * @param array $functions\n     */\n    public function testGenerateRandomKey($functions)\n    {\n        foreach ($functions as $fun => $available) {\n            if ($available && !\\function_exists($fun)) {\n                $this->markTestSkipped(\"Can not test generateRandomKey() branch that includes $fun, because it is not available on your system.\");\n            }\n        }\n        // there is no /dev/urandom on windows so we expect this to fail\n        if ($this->isWindows() && $functions['random_bytes'] === false && $functions['openssl_random_pseudo_bytes'] === false && $functions['mcrypt_create_iv'] === false) {\n            $this->expectException('yii\\base\\Exception');\n            $this->expectExceptionMessage('Unable to generate a random key');\n        }\n        // Function mcrypt_create_iv() is deprecated since PHP 7.1\n        if (version_compare(PHP_VERSION, '7.1.0alpha', '>=') && $functions['random_bytes'] === false && $functions['mcrypt_create_iv'] === true) {\n            if ($functions['openssl_random_pseudo_bytes'] === false) {\n                $this->markTestSkipped('Function mcrypt_create_iv() is deprecated as of PHP 7.1');\n            } elseif (!$this->security->shouldUseLibreSSL() && !$this->isWindows()) {\n                $this->markTestSkipped('Function openssl_random_pseudo_bytes need LibreSSL version >=2.1.5 or Windows system on server');\n            }\n        }\n\n        static::$functions = $functions;\n\n        // test various string lengths\n        for ($length = 1; $length < 64; $length++) {\n            $key1 = $this->security->generateRandomKey($length);\n            $this->assertInternalType('string', $key1);\n            $this->assertEquals($length, strlen($key1));\n            $key2 = $this->security->generateRandomKey($length);\n            $this->assertInternalType('string', $key2);\n            $this->assertEquals($length, strlen($key2));\n            if ($length >= 7) { // avoid random test failure, short strings are likely to collide\n                $this->assertNotEquals($key1, $key2);\n            }\n        }\n\n        // test for /dev/urandom, reading larger data to see if loop works properly\n        $length = 1024 * 1024;\n        $key1 = $this->security->generateRandomKey($length);\n        $this->assertInternalType('string', $key1);\n        $this->assertEquals($length, strlen($key1));\n        $key2 = $this->security->generateRandomKey($length);\n        $this->assertInternalType('string', $key2);\n        $this->assertEquals($length, strlen($key2));\n        $this->assertNotEquals($key1, $key2);\n\n        // force /dev/urandom reading loop to deal with chunked data\n        // the above test may have read everything in one run.\n        // not sure if this can happen in real life but if it does\n        // we should be prepared\n        static::$fopen = fopen('php://memory', 'rwb');\n        $length = 1024 * 1024;\n        $key1 = $this->security->generateRandomKey($length);\n        $this->assertInternalType('string', $key1);\n        $this->assertEquals($length, strlen($key1));\n    }\n\n    protected function randTime(Security $security, $count, $length, $message)\n    {\n        $t = microtime(true);\n        for ($i = 0; $i < $count; $i += 1) {\n            $key = $security->generateRandomKey($length);\n        }\n        $t = microtime(true) - $t;\n        $nbytes = number_format($count * $length, 0);\n        $milisec = number_format(1000 * ($t), 3);\n        $rate = number_format($count * $length / $t / 1000000, 3);\n        fwrite(STDERR, \"$message: $count x $length B = $nbytes B in $milisec ms => $rate MB/s\\n\");\n    }\n\n    public function testGenerateRandomKeySpeed()\n    {\n        self::markTestSkipped('Comment markTestSkipped in testGenerateRandomKeySpeed() in order to get RNG benchmark.');\n        $tests = [\n            \"function_exists('random_bytes')\",\n            \"defined('OPENSSL_VERSION_TEXT') ? OPENSSL_VERSION_TEXT : null\",\n            'PHP_VERSION_ID',\n            'PHP_OS',\n            \"function_exists('mcrypt_create_iv') ? bin2hex(mcrypt_create_iv(4, MCRYPT_DEV_URANDOM)) : null\",\n            'DIRECTORY_SEPARATOR',\n            \"ini_get('open_basedir')\",\n        ];\n        if ($this->isWindows()) {\n            $tests[] = \"sprintf('%o', lstat(PHP_OS === 'FreeBSD' ? '/dev/random' : '/dev/urandom')['mode'] & 0170000)\";\n            $tests[] = \"bin2hex(file_get_contents(PHP_OS === 'FreeBSD' ? '/dev/random' : '/dev/urandom', false, null, 0, 8))\";\n        }\n        foreach ($tests as $i => $test) {\n            $result = eval('return ' . $test . ';');\n            fwrite(STDERR, sprintf(\"%2d %s ==> %s\\n\", $i + 1, $test, var_export($result, true)));\n        }\n\n        foreach ([16, 2000, 262144] as $block) {\n            $security = new Security();\n            foreach (range(1, 10) as $nth) {\n                $this->randTime($security, 1, $block, \"Call $nth\");\n            }\n            unset($security);\n        }\n\n        $security = new Security();\n        $this->randTime($security, 10000, 16, 'Rate test');\n\n        $security = new Security();\n        $this->randTime($security, 10000, 5000, 'Rate test');\n    }\n\n    public function testGenerateRandomString()\n    {\n        $length = 21;\n        $key = $this->security->generateRandomString($length);\n        $this->assertEquals($length, strlen($key));\n        $this->assertEquals(1, preg_match('/[A-Za-z0-9_-]+/', $key));\n    }\n\n    public function dataProviderPbkdf2()\n    {\n        return array_filter([\n            [\n                'sha1',\n                'password',\n                'salt',\n                1,\n                20,\n                '0c60c80f961f0e71f3a9b524af6012062fe037a6',\n            ],\n            [\n                'sha1',\n                'password',\n                'salt',\n                2,\n                20,\n                'ea6c014dc72d6f8ccd1ed92ace1d41f0d8de8957',\n            ],\n            [\n                'sha1',\n                'password',\n                'salt',\n                4096,\n                20,\n                '4b007901b765489abead49d926f721d065a429c1',\n            ],\n            getenv('GITHUB_ACTIONS') == true ? [\n                'sha1',\n                'password',\n                'salt',\n                16777216,\n                20,\n                'eefe3d61cd4da4e4e9945b3d6ba2158c2634e984',\n            ] : null,\n            [\n                'sha1',\n                'passwordPASSWORDpassword',\n                'saltSALTsaltSALTsaltSALTsaltSALTsalt',\n                4096,\n                25,\n                '3d2eec4fe41c849b80c8d83662c0e44a8b291a964cf2f07038',\n            ],\n            [\n                'sha1',\n                \"pass\\0word\",\n                \"sa\\0lt\",\n                4096,\n                16,\n                '56fa6aa75548099dcc37d7f03425e0c3',\n            ],\n            [\n                'sha256',\n                'password',\n                'salt',\n                1,\n                20,\n                '120fb6cffcf8b32c43e7225256c4f837a86548c9',\n            ],\n            [\n                'sha256',\n                \"pass\\0word\",\n                \"sa\\0lt\",\n                4096,\n                32,\n                '89b69d0516f829893c696226650a86878c029ac13ee276509d5ae58b6466a724',\n            ],\n            [\n                'sha256',\n                'passwordPASSWORDpassword',\n                'saltSALTsaltSALTsaltSALTsaltSALTsalt',\n                4096,\n                40,\n                '348c89dbcbd32b2f32d814b8116e84cf2b17347ebc1800181c4e2a1fb8dd53e1c635518c7dac47e9',\n            ],\n        ]);\n    }\n\n    /**\n     * @dataProvider dataProviderPbkdf2\n     *\n     * @param string $hash\n     * @param string $password\n     * @param string $salt\n     * @param int $iterations\n     * @param int $length\n     * @param string $okm\n     */\n    public function testPbkdf2($hash, $password, $salt, $iterations, $length, $okm)\n    {\n        $this->security->derivationIterations = $iterations;\n        $DK = $this->security->pbkdf2($hash, $password, $salt, $iterations, $length);\n        $this->assertEquals($okm, bin2hex($DK));\n    }\n\n    public function dataProviderDeriveKey()\n    {\n        // See Appendix A in https://tools.ietf.org/html/rfc5869\n        return [\n            [\n                'Hash' => 'sha256',\n                'IKM' => '0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b',\n                'salt' => '000102030405060708090a0b0c',\n                'info' => 'f0f1f2f3f4f5f6f7f8f9',\n                'L' => 42,\n                'PRK' => '077709362c2e32df0ddc3f0dc47bba6390b6c73bb50f9c3122ec844ad7c2b3e5',\n                'OKM' => '3cb25f25faacd57a90434f64d0362f2a2d2d0a90cf1a5a4c5db02d56ecc4c5bf34007208d5b887185865',\n            ],\n            [\n                'Hash' => 'sha256',\n                'IKM' => '000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f',\n                'salt' => '606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f808182838485868788898a8b8c8d8e8f909192939495969798999a9b9c9d9e9fa0a1a2a3a4a5a6a7a8a9aaabacadaeaf',\n                'info' => 'b0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff',\n                'L' => 82,\n                'PRK' => '06a6b88c5853361a06104c9ceb35b45cef760014904671014a193f40c15fc244',\n                'OKM' => 'b11e398dc80327a1c8e7f78c596a49344f012eda2d4efad8a050cc4c19afa97c59045a99cac7827271cb41c65e590e09da3275600c2f09b8367793a9aca3db71cc30c58179ec3e87c14c01d5c1f3434f1d87',\n            ],\n            [\n                'Hash' => 'sha256',\n                'IKM' => '0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b',\n                'salt' => '',\n                'info' => '',\n                'L' => 42,\n                'PRK' => '19ef24a32c717b167f33a91d6f648bdf96596776afdb6377ac434c1c293ccb04',\n                'OKM' => '8da4e775a563c18f715f802a063c5a31b8a11f5c5ee1879ec3454e5f3c738d2d9d201395faa4b61a96c8',\n            ],\n            [\n                'Hash' => 'sha1',\n                'IKM' => '0b0b0b0b0b0b0b0b0b0b0b',\n                'salt' => '000102030405060708090a0b0c',\n                'info' => 'f0f1f2f3f4f5f6f7f8f9',\n                'L' => 42,\n                'PRK' => '9b6c18c432a7bf8f0e71c8eb88f4b30baa2ba243',\n                'OKM' => '085a01ea1b10f36933068b56efa5ad81a4f14b822f5b091568a9cdd4f155fda2c22e422478d305f3f896',\n            ],\n            [\n                'Hash' => 'sha1',\n                'IKM' => '000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f',\n                'salt' => '606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f808182838485868788898a8b8c8d8e8f909192939495969798999a9b9c9d9e9fa0a1a2a3a4a5a6a7a8a9aaabacadaeaf',\n                'info' => 'b0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff',\n                'L' => 82,\n                'PRK' => '8adae09a2a307059478d309b26c4115a224cfaf6',\n                'OKM' => '0bd770a74d1160f7c9f12cd5912a06ebff6adcae899d92191fe4305673ba2ffe8fa3f1a4e5ad79f3f334b3b202b2173c486ea37ce3d397ed034c7f9dfeb15c5e927336d0441f4c4300e2cff0d0900b52d3b4',\n            ],\n            [\n                'Hash' => 'sha1',\n                'IKM' => '0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b',\n                'salt' => '',\n                'info' => '',\n                'L' => 42,\n                'PRK' => 'da8c8a73c7fa77288ec6f5e7c297786aa0d32d01',\n                'OKM' => '0ac1af7002b3d761d1e55298da9d0506b9ae52057220a306e07b6b87e8df21d0ea00033de03984d34918',\n            ],\n            [\n                'Hash' => 'sha1',\n                'IKM' => '0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c',\n                'salt' => null,\n                'info' => '',\n                'L' => 42,\n                'PRK' => '2adccada18779e7c2077ad2eb19d3f3e731385dd',\n                'OKM' => '2c91117204d745f3500d636a62f64f0ab3bae548aa53d423b0d1f27ebba6f5e5673a081d70cce7acfc48',\n            ],\n        ];\n    }\n\n    /**\n     * @dataProvider dataProviderDeriveKey\n     *\n     * @param string $hash\n     * @param string $ikm\n     * @param string $salt\n     * @param string $info\n     * @param int $l\n     * @param string $prk\n     * @param string $okm\n     */\n    public function testHkdf($hash, $ikm, $salt, $info, $l, $prk, $okm)\n    {\n        $dk = $this->security->hkdf($hash, hex2bin($ikm), hex2bin($salt), hex2bin($info), $l);\n        $this->assertEquals($okm, bin2hex($dk));\n    }\n\n    public function dataProviderCompareStrings()\n    {\n        return [\n            ['', ''],\n            ['0', ''],\n            ['0.00', ''],\n            ['', \"\\0\"],\n            [\"\\0\", ''],\n            [\"\\0\", \"\\0\"],\n            ['0', \"\\0\"],\n            ['user', 'User'],\n            ['password', 'password'],\n            ['password', 'passwordpassword'],\n            ['password1', 'password'],\n            ['password', 'password2'],\n            ['', 'password'],\n            ['password', ''],\n        ];\n    }\n\n    /**\n     * @dataProvider dataProviderCompareStrings\n     *\n     * @param $expected\n     * @param $actual\n     */\n    public function testCompareStrings($expected, $actual)\n    {\n        $this->assertEquals(strcmp($expected, $actual) === 0, $this->security->compareString($expected, $actual));\n    }\n\n    /**\n     * @dataProvider maskProvider\n     * @param mixed $unmaskedToken\n     */\n    public function testMasking($unmaskedToken)\n    {\n        $maskedToken = $this->security->maskToken($unmaskedToken);\n        $this->assertGreaterThan(mb_strlen($unmaskedToken, '8bit') * 2, mb_strlen($maskedToken, '8bit'));\n        $this->assertEquals($unmaskedToken, $this->security->unmaskToken($maskedToken));\n    }\n\n    public function testUnMaskingInvalidStrings()\n    {\n        $this->assertEquals('', $this->security->unmaskToken(''));\n        $this->assertEquals('', $this->security->unmaskToken('1'));\n    }\n\n    /**\n     * @expectedException \\yii\\base\\InvalidParamException\n     */\n    public function testMaskingInvalidStrings()\n    {\n        $this->security->maskToken('');\n    }\n\n    /**\n     * @return array\n     */\n    public function maskProvider()\n    {\n        return [\n            ['1'],\n            ['SimpleToken'],\n            ['Token with special characters: %d1    5\"'],\n            ['Token with UTF8 character: \u2020'],\n        ];\n    }\n}\n} // closing namespace yiiunit\\framework\\base;\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yiiunit\\framework\\validators;\n\nuse Yii;\nuse yii\\helpers\\FileHelper;\nuse yii\\validators\\FileValidator;\nuse yii\\web\\UploadedFile;\nuse yiiunit\\data\\validators\\models\\FakedValidationModel;\nuse yiiunit\\TestCase;\n\n/**\n * @group validators\n */\nclass FileValidatorTest extends TestCase\n{\n    protected function setUp()\n    {\n        parent::setUp();\n        $this->mockApplication();\n    }\n\n    public function testAssureMessagesSetOnInit()\n    {\n        $val = new FileValidator();\n        foreach (['message', 'uploadRequired', 'tooMany', 'wrongExtension', 'tooBig', 'tooSmall', 'wrongMimeType'] as $attr) {\n            $this->assertInternalType('string', $val->$attr);\n        }\n    }\n\n    public function testTypeSplitOnInit()\n    {\n        $val = new FileValidator(['extensions' => 'jpeg, jpg, gif']);\n        $this->assertEquals(['jpeg', 'jpg', 'gif'], $val->extensions);\n\n        $val = new FileValidator(['extensions' => 'jpeg']);\n        $this->assertEquals(['jpeg'], $val->extensions);\n\n        $val = new FileValidator(['extensions' => '']);\n        $this->assertEquals([], $val->extensions);\n\n        $val = new FileValidator(['extensions' => []]);\n        $this->assertEquals([], $val->extensions);\n\n        $val = new FileValidator();\n        $this->assertEquals([], $val->extensions);\n\n        $val = new FileValidator(['extensions' => ['jpeg', 'exe']]);\n        $this->assertEquals(['jpeg', 'exe'], $val->extensions);\n    }\n\n    public function testMimeTypeSplitOnInit()\n    {\n        $val = new FileValidator(['mimeTypes' => 'text/plain, image/png']);\n        $this->assertEquals(['text/plain', 'image/png'], $val->mimeTypes);\n\n        $val = new FileValidator(['mimeTypes' => 'text/plain']);\n        $this->assertEquals(['text/plain'], $val->mimeTypes);\n\n        $val = new FileValidator(['mimeTypes' => '']);\n        $this->assertEquals([], $val->mimeTypes);\n\n        $val = new FileValidator(['mimeTypes' => []]);\n        $this->assertEquals([], $val->mimeTypes);\n\n        $val = new FileValidator();\n        $this->assertEquals([], $val->mimeTypes);\n\n        $val = new FileValidator(['mimeTypes' => ['text/plain', 'image/png']]);\n        $this->assertEquals(['text/plain', 'image/png'], $val->mimeTypes);\n    }\n\n    public function testGetSizeLimit()\n    {\n        $size = min($this->sizeToBytes(ini_get('upload_max_filesize')), $this->sizeToBytes(ini_get('post_max_size')));\n        $val = new FileValidator();\n        $this->assertEquals($size, $val->getSizeLimit());\n        $val->maxSize = $size + 1; // set and test if value is overridden\n        $this->assertEquals($size, $val->getSizeLimit());\n        $val->maxSize = abs($size - 1);\n        $this->assertEquals($size - 1, $val->getSizeLimit());\n        $_POST['MAX_FILE_SIZE'] = $size + 1;\n        $this->assertEquals($size - 1, $val->getSizeLimit());\n        $_POST['MAX_FILE_SIZE'] = abs($size - 2);\n        $this->assertSame($_POST['MAX_FILE_SIZE'], $val->getSizeLimit());\n    }\n\n    protected function sizeToBytes($sizeStr)\n    {\n        switch (substr($sizeStr, -1)) {\n            case 'M':\n            case 'm':\n                return (int) $sizeStr * 1048576;\n            case 'K':\n            case 'k':\n                return (int) $sizeStr * 1024;\n            case 'G':\n            case 'g':\n                return (int) $sizeStr * 1073741824;\n            default:\n                return (int) $sizeStr;\n        }\n    }\n\n    public function testValidateAttributeMultiple()\n    {\n        $val = new FileValidator([\n            'maxFiles' => 2,\n        ]);\n        $m = FakedValidationModel::createWithAttributes(['attr_files' => 'path']);\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertTrue($m->hasErrors('attr_files'));\n        $m = FakedValidationModel::createWithAttributes(['attr_files' => []]);\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertTrue($m->hasErrors('attr_files'));\n        $this->assertSame($val->uploadRequired, current($m->getErrors('attr_files')));\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_files' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'test_up_1.txt',\n                            'size' => 1024,\n                        ],\n                        [\n                            'error' => UPLOAD_ERR_NO_FILE,\n                        ],\n                    ]\n                ),\n            ]\n        );\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertFalse($m->hasErrors('attr_files'));\n        $m = FakedValidationModel::createWithAttributes([\n            'attr_files' => $this->createTestFiles([\n                [''], [''], [''],\n            ]),\n        ]);\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertTrue($m->hasErrors());\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_files')), 'you can upload at most'));\n\n        $files = [\n            'file_1' => [\n                'name' => 'test_up_1.txt',\n                'size' => 1024,\n            ],\n            'file_2' => [\n                'name' => 'test_up_2.txt',\n                'size' => 1024,\n            ]\n        ];\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_files' => $this->createTestFiles(\n                    $files\n                ),\n            ]\n        );\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertFalse($m->hasErrors());\n        $this->assertEquals(array_keys($m->attr_files), array_keys($files));\n\n        $val->maxFiles = 0;\n        $m->clearErrors();\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertFalse($m->hasErrors());\n\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_images' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                        [\n                            'name' => 'text.txt',\n                            'size' => 1024,\n                        ],\n                    ]\n                ),\n            ]\n        );\n        $m->setScenario('validateMultipleFiles');\n        $this->assertFalse($m->validate());\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_images')),\n            'Only files with these extensions are allowed'));\n\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_images' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                    ]\n                ),\n            ]\n        );\n        $m->setScenario('validateMultipleFiles');\n        $this->assertTrue($m->validate());\n\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_image' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'text.txt',\n                            'size' => 1024,\n                        ],\n                    ]\n                ),\n            ]\n        );\n        $m->setScenario('validateFile');\n        $this->assertFalse($m->validate());\n    }\n\n    public function testValidateAttribute_minFilesGreaterThanOneMaxFilesUnlimited_notError()\n    {\n        $validator = new FileValidator(['minFiles' => 2, 'maxFiles' => 0]);\n        $model = FakedValidationModel::createWithAttributes(\n            [\n                'attr_images' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                    ]\n                )\n            ]\n        );\n\n        $validator->validateAttribute($model, 'attr_images');\n\n        $this->assertFalse($model->hasErrors('attr_images'));\n    }\n\n    public function testValidateAttribute_minFilesTwoMaxFilesFour_notError()\n    {\n        $validator = new FileValidator(['minFiles' => 2, 'maxFiles' => 4]);\n        $model = FakedValidationModel::createWithAttributes(\n            [\n                'attr_images' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                    ]\n                )\n            ]\n        );\n\n        $validator->validateAttribute($model, 'attr_images');\n\n        $this->assertFalse($model->hasErrors('attr_images'));\n    }\n\n    public function testValidateAttribute_minFilesTwoMaxFilesUnlimited_hasError()\n    {\n        $validator = new FileValidator(['minFiles' => 2, 'maxFiles' => 0]);\n        $model = FakedValidationModel::createWithAttributes(\n            [\n                'attr_images' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                        [\n                            'error' => UPLOAD_ERR_NO_FILE,\n                        ],\n                    ]\n                )\n            ]\n        );\n\n        $validator->validateAttribute($model, 'attr_images');\n\n        $this->assertTrue($model->hasErrors('attr_images'));\n    }\n\n    /**\n     * @param  array          $params\n     * @return UploadedFile[]\n     */\n    protected function createTestFiles($params = [])\n    {\n        $rndString = function ($len = 10) {\n            $characters = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n            $randomString = '';\n            for ($i = 0; $i < $len; $i++) {\n                $randomString .= $characters[rand(0, strlen($characters) - 1)];\n            }\n\n            return $randomString;\n        };\n        $files = [];\n        foreach ($params as $key => $param) {\n            if (empty($param) && count($params) != 1) {\n                $files[$key] = ['no instance of UploadedFile'];\n                continue;\n            }\n            $name = isset($param['name']) ? $param['name'] : $rndString();\n            $tempName = \\Yii::getAlias('@yiiunit/runtime/validators/file/tmp/') . $name;\n            if (is_readable($tempName)) {\n                $size = filesize($tempName);\n            } else {\n                $size = isset($param['size']) ? $param['size'] : rand(\n                    1,\n                    $this->sizeToBytes(ini_get('upload_max_filesize'))\n                );\n            }\n            $type = isset($param['type']) ? $param['type'] : 'text/plain';\n            $error = isset($param['error']) ? $param['error'] : UPLOAD_ERR_OK;\n            if (count($params) == 1) {\n                $error = empty($param) ? UPLOAD_ERR_NO_FILE : $error;\n\n                return new UploadedFile([\n                    'name' => $name,\n                    'tempName' => $tempName,\n                    'type' => $type,\n                    'size' => $size,\n                    'error' => $error,\n                ]);\n            }\n            $files[$key] = new UploadedFile([\n                'name' => $name,\n                'tempName' => $tempName,\n                'type' => $type,\n                'size' => $size,\n                'error' => $error,\n            ]);\n        }\n\n        return $files;\n    }\n\n    /**\n     * @param $fileName\n     * @return UploadedFile\n     */\n    protected function getRealTestFile($fileName)\n    {\n        $filePath = \\Yii::getAlias('@yiiunit/framework/validators/data/mimeType/') . $fileName;\n\n        return new UploadedFile([\n            'name' => $fileName,\n            'tempName' => $filePath,\n            'type' => FileHelper::getMimeType($filePath),\n            'size' => filesize($filePath),\n            'error' => UPLOAD_ERR_OK,\n        ]);\n    }\n\n    public function testValidateAttribute()\n    {\n        // single File\n        $val = new FileValidator();\n        $m = $this->createModelForAttributeTest();\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertFalse($m->hasErrors());\n        $val->validateAttribute($m, 'attr_files_empty');\n        $this->assertTrue($m->hasErrors('attr_files_empty'));\n        $this->assertSame($val->uploadRequired, current($m->getErrors('attr_files_empty')));\n\n        // single File with skipOnEmpty = false\n        $val = new FileValidator(['skipOnEmpty' => false]);\n        $m = $this->createModelForAttributeTest();\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertFalse($m->hasErrors());\n        $val->validateAttribute($m, 'attr_files_empty');\n        $this->assertTrue($m->hasErrors('attr_files_empty'));\n        $this->assertSame($val->uploadRequired, current($m->getErrors('attr_files_empty')));\n        $m = $this->createModelForAttributeTest();\n\n        // too big\n        $val = new FileValidator(['maxSize' => 128]);\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertTrue($m->hasErrors('attr_files'));\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_files')), 'too big'));\n        // to Small\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator(['minSize' => 2048]);\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertTrue($m->hasErrors('attr_files'));\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_files')), 'too small'));\n        // UPLOAD_ERR_INI_SIZE/UPLOAD_ERR_FORM_SIZE\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator();\n        $val->validateAttribute($m, 'attr_err_ini');\n        $this->assertTrue($m->hasErrors('attr_err_ini'));\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_err_ini')), 'too big'));\n        // UPLOAD_ERR_PARTIAL\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator();\n        $val->validateAttribute($m, 'attr_err_part');\n        $this->assertTrue($m->hasErrors('attr_err_part'));\n        $this->assertSame(Yii::t('yii', 'File upload failed.'), current($m->getErrors('attr_err_part')));\n    }\n\n    public function testValidateAttributeType()\n    {\n        $val = new FileValidator([\n            'extensions' => 'jpeg, jpg',\n            'checkExtensionByMimeType' => false,\n        ]);\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_jpg' => $this->createTestFiles([['name' => 'one.jpeg']]),\n                'attr_exe' => $this->createTestFiles([['name' => 'bad.exe']]),\n            ]\n        );\n        $val->validateAttribute($m, 'attr_jpg');\n        $this->assertFalse($m->hasErrors('attr_jpg'));\n        $val->validateAttribute($m, 'attr_exe');\n        $this->assertTrue($m->hasErrors('attr_exe'));\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_exe')), 'Only files with these extensions '));\n    }\n\n    public function testValidateEmptyExtension()\n    {\n        $val = new FileValidator([\n            'extensions' => ['txt', ''],\n            'checkExtensionByMimeType' => false,\n        ]);\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_txt' => $this->createTestFiles([['name' => 'one.txt']]),\n                'attr_empty' => $this->createTestFiles([['name' => 'bad.']]),\n                'attr_empty2' => $this->createTestFiles([['name' => 'bad']]),\n            ]\n        );\n        $val->validateAttribute($m, 'attr_txt');\n        $this->assertFalse($m->hasErrors('attr_txt'));\n        $val->validateAttribute($m, 'attr_empty');\n        $this->assertFalse($m->hasErrors('attr_empty'));\n        $val->validateAttribute($m, 'attr_empty2');\n        $this->assertFalse($m->hasErrors('attr_empty2'));\n    }\n\n    public function testValidateAttributeDoubleType()\n    {\n        $val = new FileValidator([\n            'extensions' => 'tar.gz, tar.xz',\n            'checkExtensionByMimeType' => false,\n        ]);\n\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_tar' => $this->createTestFiles([['name' => 'one.tar.gz']]),\n                'attr_bar' => $this->createTestFiles([['name' => 'bad.bar.xz']]),\n                'attr_badtar' => $this->createTestFiles([['name' => 'badtar.xz']]),\n            ]\n        );\n        $val->validateAttribute($m, 'attr_tar');\n        $this->assertFalse($m->hasErrors('attr_tar'));\n\n        $val->validateAttribute($m, 'attr_bar');\n        $this->assertTrue($m->hasErrors('attr_bar'));\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_bar')), 'Only files with these extensions '));\n\n        $val->validateAttribute($m, 'attr_badtar');\n        $this->assertTrue($m->hasErrors('attr_badtar'));\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_badtar')), 'Only files with these extensions '));\n    }\n\n    public function testIssue11012()\n    {\n        $baseName = '\u98db\u5152\u6a02\u5718\u5149\u832b';\n        /** @var UploadedFile $file */\n        $file = $this->createTestFiles([\n            ['name' => $baseName . '.txt'],\n        ]);\n        $this->assertEquals($baseName, $file->getBaseName());\n    }\n\n    /**\n     * @param string $fileName\n     * @param string $mask\n     * @dataProvider validMimeTypes\n     */\n    public function testValidateMimeTypeMaskValid($fileName, $mask)\n    {\n        $validator = new FileValidator(['mimeTypes' => $mask]);\n        $file = $this->getRealTestFile($fileName);\n        $this->assertTrue($validator->validate($file));\n    }\n\n    /**\n     * @param string $fileName\n     * @param string $mask\n     * @dataProvider invalidMimeTypes\n     */\n    public function testValidateMimeTypeMaskInvalid($fileName, $mask)\n    {\n        $validator = new FileValidator(['mimeTypes' => $mask]);\n        $file = $this->getRealTestFile($fileName);\n        $this->assertFalse($validator->validate($file));\n    }\n\n    public function validMimeTypes()\n    {\n        return array_filter([\n            ['test.svg', 'image/*', 'svg'],\n            ['test.jpg', 'image/*', 'jpg'],\n            ['test.png', 'image/*', 'png'],\n            ['test.png', 'IMAGE/*', 'png'],\n            ['test.txt', 'text/*', 'txt'],\n            ['test.xml', '*/xml', 'xml'],\n            ['test.odt', 'application/vnd*', 'odt'],\n            ['test.tar.xz', 'application/x-xz', 'tar.xz'],\n        ]);\n    }\n\n    public function invalidMimeTypes()\n    {\n        return [\n            ['test.txt', 'image/*', 'png, jpg'],\n            ['test.odt', 'text/*', 'txt'],\n            ['test.xml', '*/svg+xml', 'svg'],\n            ['test.png', 'image/x-iso9660-image', 'bmp'],\n            ['test.svg', 'application/*', 'jpg'],\n        ];\n    }\n\n    /**\n     * @param string $fileName\n     * @param mixed $_\n     * @param string|array $allowedExtensions\n     * @dataProvider validMimeTypes\n     */\n    public function testValidateFileByExtensionUsingMimeType($fileName, $_, $allowedExtensions)\n    {\n        $validator = new FileValidator(['extensions' => (array) $allowedExtensions]);\n        $file = $this->getRealTestFile($fileName);\n        $detectedMimeType = FileHelper::getMimeType($file->tempName, null, false);\n        $this->assertTrue($validator->validate($file), \"Mime type detected was \\\"$detectedMimeType\\\". Consider adding it to MimeTypeController::\\$aliases.\");\n    }\n\n    /**\n     * @param string $fileName\n     * @param mixed $_\n     * @param string|array $allowedExtensions\n     * @dataProvider invalidMimeTypes\n     */\n    public function testValidateFileByExtensionUsingMimeTypeInvalid($fileName, $_, $allowedExtensions)\n    {\n        $validator = new FileValidator(['extensions' => (array) $allowedExtensions]);\n        $file = $this->getRealTestFile($fileName);\n        $this->assertFalse($validator->validate($file));\n    }\n\n    protected function createModelForAttributeTest()\n    {\n        return FakedValidationModel::createWithAttributes(\n            [\n                'attr_files' => $this->createTestFiles([\n                    ['name' => 'abc.jpg', 'size' => 1024, 'type' => 'image/jpeg'],\n                ]),\n                'attr_files_empty' => $this->createTestFiles([[]]),\n                'attr_err_ini' => $this->createTestFiles([['error' => UPLOAD_ERR_INI_SIZE]]),\n                'attr_err_part' => $this->createTestFiles([['error' => UPLOAD_ERR_PARTIAL]]),\n                'attr_err_tmp' => $this->createTestFiles([['error' => UPLOAD_ERR_NO_TMP_DIR]]),\n                'attr_err_write' => $this->createTestFiles([['error' => UPLOAD_ERR_CANT_WRITE]]),\n                'attr_err_ext' => $this->createTestFiles([['error' => UPLOAD_ERR_EXTENSION]]),\n            ]\n        );\n    }\n\n    public function testValidateAttributeErrPartial()\n    {\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator();\n        $val->validateAttribute($m, 'attr_err_part');\n        $this->assertTrue($m->hasErrors('attr_err_part'));\n        $this->assertSame(Yii::t('yii', 'File upload failed.'), current($m->getErrors('attr_err_part')));\n    }\n\n    public function testValidateAttributeErrCantWrite()\n    {\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator();\n        $val->validateAttribute($m, 'attr_err_write');\n        $this->assertTrue($m->hasErrors('attr_err_write'));\n        $this->assertSame(Yii::t('yii', 'File upload failed.'), current($m->getErrors('attr_err_write')));\n    }\n\n    public function testValidateAttributeErrExtension()\n    {\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator();\n        $val->validateAttribute($m, 'attr_err_ext');\n        $this->assertTrue($m->hasErrors('attr_err_ext'));\n        $this->assertSame(Yii::t('yii', 'File upload failed.'), current($m->getErrors('attr_err_ext')));\n    }\n\n    public function testValidateAttributeErrNoTmpDir()\n    {\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator();\n        $val->validateAttribute($m, 'attr_err_tmp');\n        $this->assertTrue($m->hasErrors('attr_err_tmp'));\n        $this->assertSame(Yii::t('yii', 'File upload failed.'), current($m->getErrors('attr_err_tmp')));\n    }\n\n    /**\n     * @param string $mask\n     * @param string $fileMimeType\n     * @param bool   $expected\n     * @dataProvider mimeTypeCaseInsensitive\n     */\n    public function testValidateMimeTypeCaseInsensitive($mask, $fileMimeType, $expected) {\n        $validator = $this->getMock('\\yii\\validators\\FileValidator', ['getMimeTypeByFile']);\n        $validator->method('getMimeTypeByFile')->willReturn($fileMimeType);\n        $validator->mimeTypes = [$mask];\n\n        $file = $this->getRealTestFile('test.txt');\n        $this->assertEquals($expected, $validator->validate($file), sprintf('Mime type validate fail: \"%s\" / \"%s\"', $mask, $fileMimeType));\n    }\n\n    public function mimeTypeCaseInsensitive() {\n        return [\n            ['Image/*', 'image/jp2', true],\n            ['image/*', 'Image/jp2', true],\n            ['application/vnd.ms-word.document.macroEnabled.12', 'application/vnd.ms-word.document.macroenabled.12', true],\n            ['image/jxra', 'image/jxrA', true],\n        ];\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yiiunit\\framework\\web;\n\nuse yii\\web\\UploadedFile;\nuse yiiunit\\framework\\web\\mocks\\UploadedFileMock;\nuse yiiunit\\framework\\web\\stubs\\ModelStub;\nuse yiiunit\\framework\\web\\stubs\\VendorImage;\nuse yiiunit\\TestCase;\n\n/**\n * @group web\n */\nclass UploadedFileTest extends TestCase\n{\n    protected function setUp()\n    {\n        parent::setUp();\n        $this->mockApplication();\n        $this->generateFakeFiles();\n    }\n\n    private function generateFakeFileData()\n    {\n        return [\n            'name' => md5(mt_rand()),\n            'tmp_name' => md5(mt_rand()),\n            'type' => 'image/jpeg',\n            'size' => mt_rand(1000, 10000),\n            'error' => '0',\n        ];\n    }\n\n    private function generateTempFileData()\n    {\n        return [\n            'name' => md5(mt_rand()),\n            'tmp_name' => tempnam(sys_get_temp_dir(), ''),\n            'type' => 'image/jpeg',\n            'size' => mt_rand(1000, 10000),\n            'error' => '0',\n        ];\n    }\n\n    private function generateFakeFiles()\n    {\n        $_FILES['ModelStub[prod_image]'] = $this->generateFakeFileData();\n        $_FILES['ModelStub[prod_images][]'] = $this->generateFakeFileData();\n        $_FILES['ModelStub[prod_images][]'] = $this->generateFakeFileData();\n        $_FILES['ModelStub[prod_images][]'] = $this->generateFakeFileData();\n\n        $_FILES['ModelStub[vendor_image]'] = $this->generateFakeFileData();\n        $_FILES['ModelStub[vendor_images][]'] = $this->generateFakeFileData();\n        $_FILES['ModelStub[vendor_images][]'] = $this->generateFakeFileData();\n        $_FILES['ModelStub[vendor_images][]'] = $this->generateFakeFileData();\n\n        $_FILES['ModelStub[temp_image]'] = $this->generateTempFileData();\n    }\n\n    // Tests :\n\n    public function testGetInstance()\n    {\n        $productImage = UploadedFile::getInstance(new ModelStub(), 'prod_image');\n        $vendorImage = VendorImage::getInstance(new ModelStub(), 'vendor_image');\n\n        $this->assertInstanceOf(UploadedFile::className(), $productImage);\n        $this->assertInstanceOf(VendorImage::className(), $vendorImage);\n    }\n\n    public function testGetInstances()\n    {\n        $productImages = UploadedFile::getInstances(new ModelStub(), 'prod_images');\n        $vendorImages = VendorImage::getInstances(new ModelStub(), 'vendor_images');\n\n        foreach ($productImages as $productImage) {\n            $this->assertInstanceOf(UploadedFile::className(), $productImage);\n        }\n\n        foreach ($vendorImages as $vendorImage) {\n            $this->assertInstanceOf(VendorImage::className(), $vendorImage);\n        }\n    }\n\n    public function testSaveAs()\n    {\n        $tmpImage = UploadedFile::getInstance(new ModelStub(), 'temp_image');\n        $targetFile = '@runtime/test_saved_uploaded_file_' . time();\n\n        $this->assertEquals(true, $tmpImage->saveAs($targetFile, $deleteTempFile = false));\n        $this->markTestIncomplete(\"`$deleteTempFile` flag simply uses php's move_uploaded_file() method, so this not work in test\");\n\n        @unlink($targetFile);\n    }\n\n    public function testSaveFileFromMultipartFormDataParser()\n    {\n        $_FILES = [];\n        UploadedFile::reset();\n        $model = new ModelStub();\n        $targetFile = '@runtime/test_saved_uploaded_file_' . time();\n\n        (new MultipartFormDataParserTest)->testParse();\n        $_FILES['ModelStub'] = $_FILES['Item']; // $_FILES[Item] here from testParse() above\n        $tmpFile = UploadedFile::getInstance($model, 'file');\n\n        $this->assertEquals($tmpFile->saveAs($targetFile, $deleteTempFile = false), true);\n        $this->assertEquals($tmpFile->saveAs($targetFile), true);\n\n        $this->assertEquals($tmpFile->saveAs($targetFile), false); // has deleted before\n\n        @unlink($targetFile);\n    }\n}\n"], "fixing_code": ["{\n    \"name\": \"yiisoft/yii2-dev\",\n    \"description\": \"Yii PHP Framework Version 2 - Development Package\",\n    \"keywords\": [\n        \"yii2\",\n        \"framework\"\n    ],\n    \"homepage\": \"https://www.yiiframework.com/\",\n    \"type\": \"yii2-extension\",\n    \"license\": \"BSD-3-Clause\",\n    \"authors\": [\n        {\n            \"name\": \"Qiang Xue\",\n            \"email\": \"qiang.xue@gmail.com\",\n            \"homepage\": \"https://www.yiiframework.com/\",\n            \"role\": \"Founder and project lead\"\n        },\n        {\n            \"name\": \"Alexander Makarov\",\n            \"email\": \"sam@rmcreative.ru\",\n            \"homepage\": \"https://rmcreative.ru/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Maurizio Domba\",\n            \"homepage\": \"http://mdomba.info/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Carsten Brandt\",\n            \"email\": \"mail@cebe.cc\",\n            \"homepage\": \"https://www.cebe.cc/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Timur Ruziev\",\n            \"email\": \"resurtm@gmail.com\",\n            \"homepage\": \"http://resurtm.com/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Paul Klimov\",\n            \"email\": \"klimov.paul@gmail.com\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Dmitry Naumenko\",\n            \"email\": \"d.naumenko.a@gmail.com\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Boudewijn Vahrmeijer\",\n            \"email\": \"info@dynasource.eu\",\n            \"homepage\": \"http://dynasource.eu\",\n            \"role\": \"Core framework development\"\n        }\n    ],\n    \"support\": {\n        \"issues\": \"https://github.com/yiisoft/yii2/issues?state=open\",\n        \"forum\": \"https://forum.yiiframework.com/\",\n        \"wiki\": \"https://www.yiiframework.com/wiki\",\n        \"irc\": \"irc://irc.libera.chat:6697/yii\",\n        \"source\": \"https://github.com/yiisoft/yii2\"\n    },\n    \"minimum-stability\": \"dev\",\n    \"prefer-stable\": true,\n    \"replace\": {\n        \"yiisoft/yii2\": \"self.version\"\n    },\n    \"require\": {\n        \"php\": \">=5.4.0\",\n        \"ext-mbstring\": \"*\",\n        \"ext-ctype\": \"*\",\n        \"lib-pcre\": \"*\",\n        \"yiisoft/yii2-composer\": \"~2.0.4\",\n        \"ezyang/htmlpurifier\": \"~4.6\",\n        \"cebe/markdown\": \"~1.0.0 | ~1.1.0 | ~1.2.0\",\n        \"bower-asset/jquery\": \"3.6.*@stable | 3.5.*@stable | 3.4.*@stable | 3.3.*@stable | 3.2.*@stable | 3.1.*@stable | 2.2.*@stable | 2.1.*@stable | 1.11.*@stable | 1.12.*@stable\",\n        \"bower-asset/inputmask\": \"~3.2.2 | ~3.3.5\",\n        \"bower-asset/punycode\": \"1.3.*\",\n        \"bower-asset/yii2-pjax\": \"~2.0.1\",\n        \"paragonie/random_compat\": \">=1\"\n    },\n    \"require-dev\": {\n        \"cweagans/composer-patches\": \"^1.7\",\n        \"phpunit/phpunit\": \"4.8.34\",\n        \"cebe/indent\": \"~1.0.2\",\n        \"friendsofphp/php-cs-fixer\": \"~2.2.3\",\n        \"johnkary/phpunit-speedtrap\": \"^1.0\"\n    },\n    \"repositories\": [\n        {\n            \"type\": \"composer\",\n            \"url\": \"https://asset-packagist.org\"\n        }\n    ],\n    \"suggest\": {\n        \"yiisoft/yii2-coding-standards\": \"you can use this package to check for code style issues when contributing to yii\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\n            \"yii\\\\\": \"framework/\",\n            \"yii\\\\cs\\\\\": \"cs/src/\"\n        }\n    },\n    \"autoload-dev\": {\n        \"files\": [\n            \"tests/bootstrap.php\"\n        ]\n    },\n    \"config\": {\n        \"platform\": {\"php\": \"5.4\"}\n    },\n    \"bin\": [\n        \"framework/yii\"\n    ],\n    \"extra\": {\n        \"branch-alias\": {\n            \"dev-master\": \"2.0.x-dev\"\n        },\n        \"composer-exit-on-patch-failure\": true,\n        \"patches\": {\n            \"phpunit/phpunit-mock-objects\": {\n                \"Fix PHP 7 and 8 compatibility\": \"https://yiisoft.github.io/phpunit-patches/phpunit_mock_objects.patch\"\n            },\n            \"phpunit/phpunit\": {\n                \"Fix PHP 7 compatibility\": \"https://yiisoft.github.io/phpunit-patches/phpunit_php7.patch\",\n                \"Fix PHP 8 compatibility\": \"https://yiisoft.github.io/phpunit-patches/phpunit_php8.patch\"\n            }\n        }\n    }\n}\n", "{\n    \"_readme\": [\n        \"This file locks the dependencies of your project to a known state\",\n        \"Read more about it at https://getcomposer.org/doc/01-basic-usage.md#installing-dependencies\",\n        \"This file is @generated automatically\"\n    ],\n    \"content-hash\": \"8f9a4d7e645592f806605d32d676f54e\",\n    \"packages\": [\n        {\n            \"name\": \"bower-asset/inputmask\",\n            \"version\": \"3.3.11\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"git@github.com:RobinHerbots/Inputmask.git\",\n                \"reference\": \"5e670ad62f50c738388d4dcec78d2888505ad77b\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/RobinHerbots/Inputmask/zipball/5e670ad62f50c738388d4dcec78d2888505ad77b\",\n                \"reference\": \"5e670ad62f50c738388d4dcec78d2888505ad77b\"\n            },\n            \"require\": {\n                \"bower-asset/jquery\": \">=1.7\"\n            },\n            \"type\": \"bower-asset\",\n            \"license\": [\n                \"http://opensource.org/licenses/mit-license.php\"\n            ]\n        },\n        {\n            \"name\": \"bower-asset/jquery\",\n            \"version\": \"3.5.1\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/jquery/jquery-dist.git\",\n                \"reference\": \"4c0e4becb8263bb5b3e6dadc448d8e7305ef8215\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/jquery/jquery-dist/zipball/4c0e4becb8263bb5b3e6dadc448d8e7305ef8215\",\n                \"reference\": \"4c0e4becb8263bb5b3e6dadc448d8e7305ef8215\"\n            },\n            \"type\": \"bower-asset\",\n            \"license\": [\n                \"MIT\"\n            ]\n        },\n        {\n            \"name\": \"bower-asset/punycode\",\n            \"version\": \"v1.3.2\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/bestiejs/punycode.js.git\",\n                \"reference\": \"38c8d3131a82567bfef18da09f7f4db68c84f8a3\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/bestiejs/punycode.js/zipball/38c8d3131a82567bfef18da09f7f4db68c84f8a3\",\n                \"reference\": \"38c8d3131a82567bfef18da09f7f4db68c84f8a3\"\n            },\n            \"type\": \"bower-asset\"\n        },\n        {\n            \"name\": \"bower-asset/yii2-pjax\",\n            \"version\": \"2.0.7.1\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/yiisoft/jquery-pjax.git\",\n                \"reference\": \"aef7b953107264f00234902a3880eb50dafc48be\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/yiisoft/jquery-pjax/zipball/aef7b953107264f00234902a3880eb50dafc48be\",\n                \"reference\": \"aef7b953107264f00234902a3880eb50dafc48be\"\n            },\n            \"require\": {\n                \"bower-asset/jquery\": \">=1.8\"\n            },\n            \"type\": \"bower-asset\",\n            \"license\": [\n                \"MIT\"\n            ]\n        },\n        {\n            \"name\": \"cebe/markdown\",\n            \"version\": \"1.2.1\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/cebe/markdown.git\",\n                \"reference\": \"9bac5e971dd391e2802dca5400bbeacbaea9eb86\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/cebe/markdown/zipball/9bac5e971dd391e2802dca5400bbeacbaea9eb86\",\n                \"reference\": \"9bac5e971dd391e2802dca5400bbeacbaea9eb86\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"lib-pcre\": \"*\",\n                \"php\": \">=5.4.0\"\n            },\n            \"require-dev\": {\n                \"cebe/indent\": \"*\",\n                \"facebook/xhprof\": \"*@dev\",\n                \"phpunit/phpunit\": \"4.1.*\"\n            },\n            \"bin\": [\n                \"bin/markdown\"\n            ],\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.2.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"cebe\\\\markdown\\\\\": \"\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Carsten Brandt\",\n                    \"email\": \"mail@cebe.cc\",\n                    \"homepage\": \"http://cebe.cc/\",\n                    \"role\": \"Creator\"\n                }\n            ],\n            \"description\": \"A super fast, highly extensible markdown parser for PHP\",\n            \"homepage\": \"https://github.com/cebe/markdown#readme\",\n            \"keywords\": [\n                \"extensible\",\n                \"fast\",\n                \"gfm\",\n                \"markdown\",\n                \"markdown-extra\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/cebe/markdown/issues\",\n                \"source\": \"https://github.com/cebe/markdown\"\n            },\n            \"time\": \"2018-03-26T11:24:36+00:00\"\n        },\n        {\n            \"name\": \"ezyang/htmlpurifier\",\n            \"version\": \"v4.13.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/ezyang/htmlpurifier.git\",\n                \"reference\": \"08e27c97e4c6ed02f37c5b2b20488046c8d90d75\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/ezyang/htmlpurifier/zipball/08e27c97e4c6ed02f37c5b2b20488046c8d90d75\",\n                \"reference\": \"08e27c97e4c6ed02f37c5b2b20488046c8d90d75\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.2\"\n            },\n            \"require-dev\": {\n                \"simpletest/simpletest\": \"dev-master#72de02a7b80c6bb8864ef9bf66d41d2f58f826bd\"\n            },\n            \"type\": \"library\",\n            \"autoload\": {\n                \"psr-0\": {\n                    \"HTMLPurifier\": \"library/\"\n                },\n                \"files\": [\n                    \"library/HTMLPurifier.composer.php\"\n                ],\n                \"exclude-from-classmap\": [\n                    \"/library/HTMLPurifier/Language/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"LGPL-2.1-or-later\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Edward Z. Yang\",\n                    \"email\": \"admin@htmlpurifier.org\",\n                    \"homepage\": \"http://ezyang.com\"\n                }\n            ],\n            \"description\": \"Standards compliant HTML filter written in PHP\",\n            \"homepage\": \"http://htmlpurifier.org/\",\n            \"keywords\": [\n                \"html\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/ezyang/htmlpurifier/issues\",\n                \"source\": \"https://github.com/ezyang/htmlpurifier/tree/master\"\n            },\n            \"time\": \"2020-06-29T00:56:53+00:00\"\n        },\n        {\n            \"name\": \"paragonie/random_compat\",\n            \"version\": \"v2.0.20\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/paragonie/random_compat.git\",\n                \"reference\": \"0f1f60250fccffeaf5dda91eea1c018aed1adc2a\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/paragonie/random_compat/zipball/0f1f60250fccffeaf5dda91eea1c018aed1adc2a\",\n                \"reference\": \"0f1f60250fccffeaf5dda91eea1c018aed1adc2a\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.2.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"4.*|5.*\"\n            },\n            \"suggest\": {\n                \"ext-libsodium\": \"Provides a modern crypto API that can be used to generate random bytes.\"\n            },\n            \"type\": \"library\",\n            \"autoload\": {\n                \"files\": [\n                    \"lib/random.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Paragon Initiative Enterprises\",\n                    \"email\": \"security@paragonie.com\",\n                    \"homepage\": \"https://paragonie.com\"\n                }\n            ],\n            \"description\": \"PHP 5.x polyfill for random_bytes() and random_int() from PHP 7\",\n            \"keywords\": [\n                \"csprng\",\n                \"polyfill\",\n                \"pseudorandom\",\n                \"random\"\n            ],\n            \"support\": {\n                \"email\": \"info@paragonie.com\",\n                \"issues\": \"https://github.com/paragonie/random_compat/issues\",\n                \"source\": \"https://github.com/paragonie/random_compat\"\n            },\n            \"time\": \"2021-04-17T09:33:01+00:00\"\n        },\n        {\n            \"name\": \"yiisoft/yii2-composer\",\n            \"version\": \"2.0.10\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/yiisoft/yii2-composer.git\",\n                \"reference\": \"94bb3f66e779e2774f8776d6e1bdeab402940510\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/yiisoft/yii2-composer/zipball/94bb3f66e779e2774f8776d6e1bdeab402940510\",\n                \"reference\": \"94bb3f66e779e2774f8776d6e1bdeab402940510\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"composer-plugin-api\": \"^1.0 | ^2.0\"\n            },\n            \"require-dev\": {\n                \"composer/composer\": \"^1.0 | ^2.0@dev\",\n                \"phpunit/phpunit\": \"<7\"\n            },\n            \"type\": \"composer-plugin\",\n            \"extra\": {\n                \"class\": \"yii\\\\composer\\\\Plugin\",\n                \"branch-alias\": {\n                    \"dev-master\": \"2.0.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"yii\\\\composer\\\\\": \"\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Qiang Xue\",\n                    \"email\": \"qiang.xue@gmail.com\"\n                },\n                {\n                    \"name\": \"Carsten Brandt\",\n                    \"email\": \"mail@cebe.cc\"\n                }\n            ],\n            \"description\": \"The composer plugin for Yii extension installer\",\n            \"keywords\": [\n                \"composer\",\n                \"extension installer\",\n                \"yii2\"\n            ],\n            \"support\": {\n                \"forum\": \"http://www.yiiframework.com/forum/\",\n                \"irc\": \"irc://irc.freenode.net/yii\",\n                \"issues\": \"https://github.com/yiisoft/yii2-composer/issues\",\n                \"source\": \"https://github.com/yiisoft/yii2-composer\",\n                \"wiki\": \"http://www.yiiframework.com/wiki/\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://github.com/yiisoft\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://opencollective.com/yiisoft\",\n                    \"type\": \"open_collective\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/yiisoft/yii2-composer\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-06-24T00:04:01+00:00\"\n        }\n    ],\n    \"packages-dev\": [\n        {\n            \"name\": \"cebe/indent\",\n            \"version\": \"1.0.2\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/cebe/indent.git\",\n                \"reference\": \"c500ed74d30ed2d7e085f9cf07f8092d32d70776\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/cebe/indent/zipball/c500ed74d30ed2d7e085f9cf07f8092d32d70776\",\n                \"reference\": \"c500ed74d30ed2d7e085f9cf07f8092d32d70776\",\n                \"shasum\": \"\"\n            },\n            \"bin\": [\n                \"indent\"\n            ],\n            \"type\": \"library\",\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Carsten Brandt\",\n                    \"email\": \"mail@cebe.cc\",\n                    \"homepage\": \"http://cebe.cc/\",\n                    \"role\": \"Core framework development\"\n                }\n            ],\n            \"description\": \"a small tool to convert text file indentation\",\n            \"support\": {\n                \"issues\": \"https://github.com/cebe/indent/issues\",\n                \"source\": \"https://github.com/cebe/indent/tree/master\"\n            },\n            \"time\": \"2014-05-23T14:40:08+00:00\"\n        },\n        {\n            \"name\": \"composer/semver\",\n            \"version\": \"1.7.2\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/composer/semver.git\",\n                \"reference\": \"647490bbcaf7fc4891c58f47b825eb99d19c377a\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/composer/semver/zipball/647490bbcaf7fc4891c58f47b825eb99d19c377a\",\n                \"reference\": \"647490bbcaf7fc4891c58f47b825eb99d19c377a\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \"^5.3.2 || ^7.0 || ^8.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"^4.5 || ^5.0.5\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Composer\\\\Semver\\\\\": \"src\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Nils Adermann\",\n                    \"email\": \"naderman@naderman.de\",\n                    \"homepage\": \"http://www.naderman.de\"\n                },\n                {\n                    \"name\": \"Jordi Boggiano\",\n                    \"email\": \"j.boggiano@seld.be\",\n                    \"homepage\": \"http://seld.be\"\n                },\n                {\n                    \"name\": \"Rob Bast\",\n                    \"email\": \"rob.bast@gmail.com\",\n                    \"homepage\": \"http://robbast.nl\"\n                }\n            ],\n            \"description\": \"Semver library that offers utilities, version constraint parsing and validation.\",\n            \"keywords\": [\n                \"semantic\",\n                \"semver\",\n                \"validation\",\n                \"versioning\"\n            ],\n            \"support\": {\n                \"irc\": \"irc://irc.freenode.org/composer\",\n                \"issues\": \"https://github.com/composer/semver/issues\",\n                \"source\": \"https://github.com/composer/semver/tree/1.7.2\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://packagist.com\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/composer\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/composer/composer\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-12-03T15:47:16+00:00\"\n        },\n        {\n            \"name\": \"composer/xdebug-handler\",\n            \"version\": \"1.4.6\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/composer/xdebug-handler.git\",\n                \"reference\": \"f27e06cd9675801df441b3656569b328e04aa37c\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/composer/xdebug-handler/zipball/f27e06cd9675801df441b3656569b328e04aa37c\",\n                \"reference\": \"f27e06cd9675801df441b3656569b328e04aa37c\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \"^5.3.2 || ^7.0 || ^8.0\",\n                \"psr/log\": \"^1.0\"\n            },\n            \"require-dev\": {\n                \"phpstan/phpstan\": \"^0.12.55\",\n                \"symfony/phpunit-bridge\": \"^4.2 || ^5\"\n            },\n            \"type\": \"library\",\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Composer\\\\XdebugHandler\\\\\": \"src\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"John Stevenson\",\n                    \"email\": \"john-stevenson@blueyonder.co.uk\"\n                }\n            ],\n            \"description\": \"Restarts a process without Xdebug.\",\n            \"keywords\": [\n                \"Xdebug\",\n                \"performance\"\n            ],\n            \"support\": {\n                \"irc\": \"irc://irc.freenode.org/composer\",\n                \"issues\": \"https://github.com/composer/xdebug-handler/issues\",\n                \"source\": \"https://github.com/composer/xdebug-handler/tree/1.4.6\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://packagist.com\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/composer\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/composer/composer\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2021-03-25T17:01:18+00:00\"\n        },\n        {\n            \"name\": \"cweagans/composer-patches\",\n            \"version\": \"1.7.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/cweagans/composer-patches.git\",\n                \"reference\": \"ae02121445ad75f4eaff800cc532b5e6233e2ddf\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/cweagans/composer-patches/zipball/ae02121445ad75f4eaff800cc532b5e6233e2ddf\",\n                \"reference\": \"ae02121445ad75f4eaff800cc532b5e6233e2ddf\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"composer-plugin-api\": \"^1.0 || ^2.0\",\n                \"php\": \">=5.3.0\"\n            },\n            \"require-dev\": {\n                \"composer/composer\": \"~1.0 || ~2.0\",\n                \"phpunit/phpunit\": \"~4.6\"\n            },\n            \"type\": \"composer-plugin\",\n            \"extra\": {\n                \"class\": \"cweagans\\\\Composer\\\\Patches\"\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"cweagans\\\\Composer\\\\\": \"src\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Cameron Eagans\",\n                    \"email\": \"me@cweagans.net\"\n                }\n            ],\n            \"description\": \"Provides a way to patch Composer packages.\",\n            \"support\": {\n                \"issues\": \"https://github.com/cweagans/composer-patches/issues\",\n                \"source\": \"https://github.com/cweagans/composer-patches/tree/1.7.0\"\n            },\n            \"time\": \"2020-09-30T17:56:20+00:00\"\n        },\n        {\n            \"name\": \"doctrine/annotations\",\n            \"version\": \"v1.2.7\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/doctrine/annotations.git\",\n                \"reference\": \"f25c8aab83e0c3e976fd7d19875f198ccf2f7535\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/doctrine/annotations/zipball/f25c8aab83e0c3e976fd7d19875f198ccf2f7535\",\n                \"reference\": \"f25c8aab83e0c3e976fd7d19875f198ccf2f7535\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"doctrine/lexer\": \"1.*\",\n                \"php\": \">=5.3.2\"\n            },\n            \"require-dev\": {\n                \"doctrine/cache\": \"1.*\",\n                \"phpunit/phpunit\": \"4.*\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.3.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-0\": {\n                    \"Doctrine\\\\Common\\\\Annotations\\\\\": \"lib/\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Roman Borschel\",\n                    \"email\": \"roman@code-factory.org\"\n                },\n                {\n                    \"name\": \"Benjamin Eberlei\",\n                    \"email\": \"kontakt@beberlei.de\"\n                },\n                {\n                    \"name\": \"Guilherme Blanco\",\n                    \"email\": \"guilhermeblanco@gmail.com\"\n                },\n                {\n                    \"name\": \"Jonathan Wage\",\n                    \"email\": \"jonwage@gmail.com\"\n                },\n                {\n                    \"name\": \"Johannes Schmitt\",\n                    \"email\": \"schmittjoh@gmail.com\"\n                }\n            ],\n            \"description\": \"Docblock Annotations Parser\",\n            \"homepage\": \"http://www.doctrine-project.org\",\n            \"keywords\": [\n                \"annotations\",\n                \"docblock\",\n                \"parser\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/doctrine/annotations/tree/master\"\n            },\n            \"time\": \"2015-08-31T12:32:49+00:00\"\n        },\n        {\n            \"name\": \"doctrine/instantiator\",\n            \"version\": \"1.0.5\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/doctrine/instantiator.git\",\n                \"reference\": \"8e884e78f9f0eb1329e445619e04456e64d8051d\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/doctrine/instantiator/zipball/8e884e78f9f0eb1329e445619e04456e64d8051d\",\n                \"reference\": \"8e884e78f9f0eb1329e445619e04456e64d8051d\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3,<8.0-DEV\"\n            },\n            \"require-dev\": {\n                \"athletic/athletic\": \"~0.1.8\",\n                \"ext-pdo\": \"*\",\n                \"ext-phar\": \"*\",\n                \"phpunit/phpunit\": \"~4.0\",\n                \"squizlabs/php_codesniffer\": \"~2.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.0.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Doctrine\\\\Instantiator\\\\\": \"src/Doctrine/Instantiator/\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Marco Pivetta\",\n                    \"email\": \"ocramius@gmail.com\",\n                    \"homepage\": \"http://ocramius.github.com/\"\n                }\n            ],\n            \"description\": \"A small, lightweight utility to instantiate objects in PHP without invoking their constructors\",\n            \"homepage\": \"https://github.com/doctrine/instantiator\",\n            \"keywords\": [\n                \"constructor\",\n                \"instantiate\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/doctrine/instantiator/issues\",\n                \"source\": \"https://github.com/doctrine/instantiator/tree/master\"\n            },\n            \"time\": \"2015-06-14T21:17:01+00:00\"\n        },\n        {\n            \"name\": \"doctrine/lexer\",\n            \"version\": \"1.0.2\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/doctrine/lexer.git\",\n                \"reference\": \"1febd6c3ef84253d7c815bed85fc622ad207a9f8\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/doctrine/lexer/zipball/1febd6c3ef84253d7c815bed85fc622ad207a9f8\",\n                \"reference\": \"1febd6c3ef84253d7c815bed85fc622ad207a9f8\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.2\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"^4.5\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.0.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Doctrine\\\\Common\\\\Lexer\\\\\": \"lib/Doctrine/Common/Lexer\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Roman Borschel\",\n                    \"email\": \"roman@code-factory.org\"\n                },\n                {\n                    \"name\": \"Guilherme Blanco\",\n                    \"email\": \"guilhermeblanco@gmail.com\"\n                },\n                {\n                    \"name\": \"Johannes Schmitt\",\n                    \"email\": \"schmittjoh@gmail.com\"\n                }\n            ],\n            \"description\": \"PHP Doctrine Lexer parser library that can be used in Top-Down, Recursive Descent Parsers.\",\n            \"homepage\": \"https://www.doctrine-project.org/projects/lexer.html\",\n            \"keywords\": [\n                \"annotations\",\n                \"docblock\",\n                \"lexer\",\n                \"parser\",\n                \"php\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/doctrine/lexer/issues\",\n                \"source\": \"https://github.com/doctrine/lexer/tree/1.0.2\"\n            },\n            \"time\": \"2019-06-08T11:03:04+00:00\"\n        },\n        {\n            \"name\": \"friendsofphp/php-cs-fixer\",\n            \"version\": \"v2.2.20\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/FriendsOfPHP/PHP-CS-Fixer.git\",\n                \"reference\": \"f1631f0747ad2a9dd3de8d7873b71f6573f8d0c2\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/FriendsOfPHP/PHP-CS-Fixer/zipball/f1631f0747ad2a9dd3de8d7873b71f6573f8d0c2\",\n                \"reference\": \"f1631f0747ad2a9dd3de8d7873b71f6573f8d0c2\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"composer/semver\": \"^1.4\",\n                \"composer/xdebug-handler\": \"^1.0\",\n                \"doctrine/annotations\": \"^1.2\",\n                \"ext-json\": \"*\",\n                \"ext-tokenizer\": \"*\",\n                \"php\": \"^5.3.6 || >=7.0 <7.3\",\n                \"sebastian/diff\": \"^1.4\",\n                \"symfony/console\": \"^2.4 || ^3.0 || ^4.0\",\n                \"symfony/event-dispatcher\": \"^2.1 || ^3.0 || ^4.0\",\n                \"symfony/filesystem\": \"^2.4 || ^3.0 || ^4.0\",\n                \"symfony/finder\": \"^2.2 || ^3.0 || ^4.0\",\n                \"symfony/options-resolver\": \"^2.6 || ^3.0 || ^4.0\",\n                \"symfony/polyfill-php54\": \"^1.0\",\n                \"symfony/polyfill-php55\": \"^1.3\",\n                \"symfony/polyfill-php70\": \"^1.0\",\n                \"symfony/polyfill-php72\": \"^1.4\",\n                \"symfony/process\": \"^2.3 || ^3.0 || ^4.0\",\n                \"symfony/stopwatch\": \"^2.5 || ^3.0 || ^4.0\"\n            },\n            \"conflict\": {\n                \"hhvm\": \"<3.18\"\n            },\n            \"require-dev\": {\n                \"johnkary/phpunit-speedtrap\": \"^1.0.1 || ^2.0 || ^3.0\",\n                \"justinrainbow/json-schema\": \"^5.0\",\n                \"keradus/cli-executor\": \"^1.1\",\n                \"mikey179/vfsstream\": \"^1.6\",\n                \"php-coveralls/php-coveralls\": \"^1.0.2\",\n                \"phpunit/phpunit\": \"^4.8.35 || ^5.4.3\",\n                \"symfony/phpunit-bridge\": \"^3.2.2 || ^4.0\"\n            },\n            \"suggest\": {\n                \"ext-mbstring\": \"For handling non-UTF8 characters in cache signature.\",\n                \"php-cs-fixer/phpunit-constraint-isidenticalstring\": \"For IsIdenticalString constraint.\",\n                \"php-cs-fixer/phpunit-constraint-xmlmatchesxsd\": \"For XmlMatchesXsd constraint.\",\n                \"symfony/polyfill-mbstring\": \"When enabling `ext-mbstring` is not possible.\"\n            },\n            \"bin\": [\n                \"php-cs-fixer\"\n            ],\n            \"type\": \"application\",\n            \"autoload\": {\n                \"psr-4\": {\n                    \"PhpCsFixer\\\\\": \"src/\"\n                },\n                \"classmap\": [\n                    \"tests/Test/AbstractFixerTestCase.php\",\n                    \"tests/Test/AbstractIntegrationCaseFactory.php\",\n                    \"tests/Test/AbstractIntegrationTestCase.php\",\n                    \"tests/Test/IntegrationCase.php\",\n                    \"tests/Test/IntegrationCaseFactory.php\",\n                    \"tests/Test/IntegrationCaseFactoryInterface.php\",\n                    \"tests/Test/InternalIntegrationCaseFactory.php\",\n                    \"tests/TestCase.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Dariusz Rumi\u0144ski\",\n                    \"email\": \"dariusz.ruminski@gmail.com\"\n                },\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                }\n            ],\n            \"description\": \"A tool to automatically fix PHP code style\",\n            \"support\": {\n                \"issues\": \"https://github.com/FriendsOfPHP/PHP-CS-Fixer/issues\",\n                \"source\": \"https://github.com/FriendsOfPHP/PHP-CS-Fixer/tree/2.2\"\n            },\n            \"time\": \"2018-06-02T17:26:04+00:00\"\n        },\n        {\n            \"name\": \"ircmaxell/password-compat\",\n            \"version\": \"v1.0.4\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/ircmaxell/password_compat.git\",\n                \"reference\": \"5c5cde8822a69545767f7c7f3058cb15ff84614c\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/ircmaxell/password_compat/zipball/5c5cde8822a69545767f7c7f3058cb15ff84614c\",\n                \"reference\": \"5c5cde8822a69545767f7c7f3058cb15ff84614c\",\n                \"shasum\": \"\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"4.*\"\n            },\n            \"type\": \"library\",\n            \"autoload\": {\n                \"files\": [\n                    \"lib/password.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Anthony Ferrara\",\n                    \"email\": \"ircmaxell@php.net\",\n                    \"homepage\": \"http://blog.ircmaxell.com\"\n                }\n            ],\n            \"description\": \"A compatibility library for the proposed simplified password hashing algorithm: https://wiki.php.net/rfc/password_hash\",\n            \"homepage\": \"https://github.com/ircmaxell/password_compat\",\n            \"keywords\": [\n                \"hashing\",\n                \"password\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/ircmaxell/password_compat/issues\",\n                \"source\": \"https://github.com/ircmaxell/password_compat/tree/v1.0\"\n            },\n            \"time\": \"2014-11-20T16:49:30+00:00\"\n        },\n        {\n            \"name\": \"johnkary/phpunit-speedtrap\",\n            \"version\": \"v1.0.1\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/johnkary/phpunit-speedtrap.git\",\n                \"reference\": \"76a26f8a903a9434608cdad2b41c40cd134ea326\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/johnkary/phpunit-speedtrap/zipball/76a26f8a903a9434608cdad2b41c40cd134ea326\",\n                \"reference\": \"76a26f8a903a9434608cdad2b41c40cd134ea326\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"3.7.*|~4.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.0-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-0\": {\n                    \"JohnKary\": \"src/\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"John Kary\",\n                    \"email\": \"john@johnkary.net\"\n                }\n            ],\n            \"description\": \"Find slow tests in your PHPUnit test suite\",\n            \"homepage\": \"https://github.com/johnkary/phpunit-speedtrap\",\n            \"keywords\": [\n                \"phpunit\",\n                \"profile\",\n                \"slow\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/johnkary/phpunit-speedtrap/issues\",\n                \"source\": \"https://github.com/johnkary/phpunit-speedtrap/tree/master\"\n            },\n            \"time\": \"2015-09-13T19:01:00+00:00\"\n        },\n        {\n            \"name\": \"phpdocumentor/reflection-docblock\",\n            \"version\": \"2.0.5\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/phpDocumentor/ReflectionDocBlock.git\",\n                \"reference\": \"e6a969a640b00d8daa3c66518b0405fb41ae0c4b\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/phpDocumentor/ReflectionDocBlock/zipball/e6a969a640b00d8daa3c66518b0405fb41ae0c4b\",\n                \"reference\": \"e6a969a640b00d8daa3c66518b0405fb41ae0c4b\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"~4.0\"\n            },\n            \"suggest\": {\n                \"dflydev/markdown\": \"~1.0\",\n                \"erusev/parsedown\": \"~1.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.0.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-0\": {\n                    \"phpDocumentor\": [\n                        \"src/\"\n                    ]\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Mike van Riel\",\n                    \"email\": \"mike.vanriel@naenius.com\"\n                }\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/phpDocumentor/ReflectionDocBlock/issues\",\n                \"source\": \"https://github.com/phpDocumentor/ReflectionDocBlock/tree/release/2.x\"\n            },\n            \"time\": \"2016-01-25T08:17:30+00:00\"\n        },\n        {\n            \"name\": \"phpspec/prophecy\",\n            \"version\": \"v1.10.3\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/phpspec/prophecy.git\",\n                \"reference\": \"451c3cd1418cf640de218914901e51b064abb093\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/phpspec/prophecy/zipball/451c3cd1418cf640de218914901e51b064abb093\",\n                \"reference\": \"451c3cd1418cf640de218914901e51b064abb093\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"doctrine/instantiator\": \"^1.0.2\",\n                \"php\": \"^5.3|^7.0\",\n                \"phpdocumentor/reflection-docblock\": \"^2.0|^3.0.2|^4.0|^5.0\",\n                \"sebastian/comparator\": \"^1.2.3|^2.0|^3.0|^4.0\",\n                \"sebastian/recursion-context\": \"^1.0|^2.0|^3.0|^4.0\"\n            },\n            \"require-dev\": {\n                \"phpspec/phpspec\": \"^2.5 || ^3.2\",\n                \"phpunit/phpunit\": \"^4.8.35 || ^5.7 || ^6.5 || ^7.1\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.10.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Prophecy\\\\\": \"src/Prophecy\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Konstantin Kudryashov\",\n                    \"email\": \"ever.zet@gmail.com\",\n                    \"homepage\": \"http://everzet.com\"\n                },\n                {\n                    \"name\": \"Marcello Duarte\",\n                    \"email\": \"marcello.duarte@gmail.com\"\n                }\n            ],\n            \"description\": \"Highly opinionated mocking framework for PHP 5.3+\",\n            \"homepage\": \"https://github.com/phpspec/prophecy\",\n            \"keywords\": [\n                \"Double\",\n                \"Dummy\",\n                \"fake\",\n                \"mock\",\n                \"spy\",\n                \"stub\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/phpspec/prophecy/issues\",\n                \"source\": \"https://github.com/phpspec/prophecy/tree/v1.10.3\"\n            },\n            \"time\": \"2020-03-05T15:02:03+00:00\"\n        },\n        {\n            \"name\": \"phpunit/php-code-coverage\",\n            \"version\": \"2.2.4\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/php-code-coverage.git\",\n                \"reference\": \"eabf68b476ac7d0f73793aada060f1c1a9bf8979\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/php-code-coverage/zipball/eabf68b476ac7d0f73793aada060f1c1a9bf8979\",\n                \"reference\": \"eabf68b476ac7d0f73793aada060f1c1a9bf8979\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\",\n                \"phpunit/php-file-iterator\": \"~1.3\",\n                \"phpunit/php-text-template\": \"~1.2\",\n                \"phpunit/php-token-stream\": \"~1.3\",\n                \"sebastian/environment\": \"^1.3.2\",\n                \"sebastian/version\": \"~1.0\"\n            },\n            \"require-dev\": {\n                \"ext-xdebug\": \">=2.1.4\",\n                \"phpunit/phpunit\": \"~4\"\n            },\n            \"suggest\": {\n                \"ext-dom\": \"*\",\n                \"ext-xdebug\": \">=2.2.1\",\n                \"ext-xmlwriter\": \"*\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.2.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sb@sebastian-bergmann.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"Library that provides collection, processing, and rendering functionality for PHP code coverage information.\",\n            \"homepage\": \"https://github.com/sebastianbergmann/php-code-coverage\",\n            \"keywords\": [\n                \"coverage\",\n                \"testing\",\n                \"xunit\"\n            ],\n            \"support\": {\n                \"irc\": \"irc://irc.freenode.net/phpunit\",\n                \"issues\": \"https://github.com/sebastianbergmann/php-code-coverage/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/php-code-coverage/tree/2.2\"\n            },\n            \"time\": \"2015-10-06T15:47:00+00:00\"\n        },\n        {\n            \"name\": \"phpunit/php-file-iterator\",\n            \"version\": \"1.4.5\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/php-file-iterator.git\",\n                \"reference\": \"730b01bc3e867237eaac355e06a36b85dd93a8b4\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/php-file-iterator/zipball/730b01bc3e867237eaac355e06a36b85dd93a8b4\",\n                \"reference\": \"730b01bc3e867237eaac355e06a36b85dd93a8b4\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.4.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sb@sebastian-bergmann.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"FilterIterator implementation that filters files based on a list of suffixes.\",\n            \"homepage\": \"https://github.com/sebastianbergmann/php-file-iterator/\",\n            \"keywords\": [\n                \"filesystem\",\n                \"iterator\"\n            ],\n            \"support\": {\n                \"irc\": \"irc://irc.freenode.net/phpunit\",\n                \"issues\": \"https://github.com/sebastianbergmann/php-file-iterator/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/php-file-iterator/tree/1.4.5\"\n            },\n            \"time\": \"2017-11-27T13:52:08+00:00\"\n        },\n        {\n            \"name\": \"phpunit/php-text-template\",\n            \"version\": \"1.2.1\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/php-text-template.git\",\n                \"reference\": \"31f8b717e51d9a2afca6c9f046f5d69fc27c8686\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/php-text-template/zipball/31f8b717e51d9a2afca6c9f046f5d69fc27c8686\",\n                \"reference\": \"31f8b717e51d9a2afca6c9f046f5d69fc27c8686\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"type\": \"library\",\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"Simple template engine.\",\n            \"homepage\": \"https://github.com/sebastianbergmann/php-text-template/\",\n            \"keywords\": [\n                \"template\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/php-text-template/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/php-text-template/tree/1.2.1\"\n            },\n            \"time\": \"2015-06-21T13:50:34+00:00\"\n        },\n        {\n            \"name\": \"phpunit/php-timer\",\n            \"version\": \"1.0.9\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/php-timer.git\",\n                \"reference\": \"3dcf38ca72b158baf0bc245e9184d3fdffa9c46f\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/php-timer/zipball/3dcf38ca72b158baf0bc245e9184d3fdffa9c46f\",\n                \"reference\": \"3dcf38ca72b158baf0bc245e9184d3fdffa9c46f\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \"^5.3.3 || ^7.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"^4.8.35 || ^5.7 || ^6.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.0-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sb@sebastian-bergmann.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"Utility class for timing\",\n            \"homepage\": \"https://github.com/sebastianbergmann/php-timer/\",\n            \"keywords\": [\n                \"timer\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/php-timer/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/php-timer/tree/master\"\n            },\n            \"time\": \"2017-02-26T11:10:40+00:00\"\n        },\n        {\n            \"name\": \"phpunit/php-token-stream\",\n            \"version\": \"1.4.12\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/php-token-stream.git\",\n                \"reference\": \"1ce90ba27c42e4e44e6d8458241466380b51fa16\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/php-token-stream/zipball/1ce90ba27c42e4e44e6d8458241466380b51fa16\",\n                \"reference\": \"1ce90ba27c42e4e44e6d8458241466380b51fa16\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"ext-tokenizer\": \"*\",\n                \"php\": \">=5.3.3\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"~4.2\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.4-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                }\n            ],\n            \"description\": \"Wrapper around PHP's tokenizer extension.\",\n            \"homepage\": \"https://github.com/sebastianbergmann/php-token-stream/\",\n            \"keywords\": [\n                \"tokenizer\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/php-token-stream/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/php-token-stream/tree/1.4\"\n            },\n            \"abandoned\": true,\n            \"time\": \"2017-12-04T08:55:13+00:00\"\n        },\n        {\n            \"name\": \"phpunit/phpunit\",\n            \"version\": \"4.8.34\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/phpunit.git\",\n                \"reference\": \"7eb45205d27edd94bd2b3614085ea158bd1e2bca\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/phpunit/zipball/7eb45205d27edd94bd2b3614085ea158bd1e2bca\",\n                \"reference\": \"7eb45205d27edd94bd2b3614085ea158bd1e2bca\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"ext-dom\": \"*\",\n                \"ext-json\": \"*\",\n                \"ext-pcre\": \"*\",\n                \"ext-reflection\": \"*\",\n                \"ext-spl\": \"*\",\n                \"php\": \">=5.3.3\",\n                \"phpspec/prophecy\": \"^1.3.1\",\n                \"phpunit/php-code-coverage\": \"~2.1\",\n                \"phpunit/php-file-iterator\": \"~1.4\",\n                \"phpunit/php-text-template\": \"~1.2\",\n                \"phpunit/php-timer\": \"^1.0.6\",\n                \"phpunit/phpunit-mock-objects\": \"~2.3\",\n                \"sebastian/comparator\": \"~1.2.2\",\n                \"sebastian/diff\": \"~1.2\",\n                \"sebastian/environment\": \"~1.3\",\n                \"sebastian/exporter\": \"~1.2\",\n                \"sebastian/global-state\": \"~1.0\",\n                \"sebastian/version\": \"~1.0\",\n                \"symfony/yaml\": \"~2.1|~3.0\"\n            },\n            \"suggest\": {\n                \"phpunit/php-invoker\": \"~1.1\"\n            },\n            \"bin\": [\n                \"phpunit\"\n            ],\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"4.8.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"The PHP Unit Testing framework.\",\n            \"homepage\": \"https://phpunit.de/\",\n            \"keywords\": [\n                \"phpunit\",\n                \"testing\",\n                \"xunit\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/phpunit/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/phpunit/tree/4.8.34\"\n            },\n            \"time\": \"2017-01-26T16:15:36+00:00\"\n        },\n        {\n            \"name\": \"phpunit/phpunit-mock-objects\",\n            \"version\": \"2.3.8\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/phpunit-mock-objects.git\",\n                \"reference\": \"ac8e7a3db35738d56ee9a76e78a4e03d97628983\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/phpunit-mock-objects/zipball/ac8e7a3db35738d56ee9a76e78a4e03d97628983\",\n                \"reference\": \"ac8e7a3db35738d56ee9a76e78a4e03d97628983\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"doctrine/instantiator\": \"^1.0.2\",\n                \"php\": \">=5.3.3\",\n                \"phpunit/php-text-template\": \"~1.2\",\n                \"sebastian/exporter\": \"~1.2\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"~4.4\"\n            },\n            \"suggest\": {\n                \"ext-soap\": \"*\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.3.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sb@sebastian-bergmann.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"Mock Object library for PHPUnit\",\n            \"homepage\": \"https://github.com/sebastianbergmann/phpunit-mock-objects/\",\n            \"keywords\": [\n                \"mock\",\n                \"xunit\"\n            ],\n            \"support\": {\n                \"irc\": \"irc://irc.freenode.net/phpunit\",\n                \"issues\": \"https://github.com/sebastianbergmann/phpunit-mock-objects/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/phpunit-mock-objects/tree/2.3\"\n            },\n            \"abandoned\": true,\n            \"time\": \"2015-10-02T06:51:40+00:00\"\n        },\n        {\n            \"name\": \"psr/log\",\n            \"version\": \"1.1.3\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/php-fig/log.git\",\n                \"reference\": \"0f73288fd15629204f9d42b7055f72dacbe811fc\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/php-fig/log/zipball/0f73288fd15629204f9d42b7055f72dacbe811fc\",\n                \"reference\": \"0f73288fd15629204f9d42b7055f72dacbe811fc\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.1.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Psr\\\\Log\\\\\": \"Psr/Log/\"\n                }\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"PHP-FIG\",\n                    \"homepage\": \"http://www.php-fig.org/\"\n                }\n            ],\n            \"description\": \"Common interface for logging libraries\",\n            \"homepage\": \"https://github.com/php-fig/log\",\n            \"keywords\": [\n                \"log\",\n                \"psr\",\n                \"psr-3\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/php-fig/log/tree/1.1.3\"\n            },\n            \"time\": \"2020-03-23T09:12:05+00:00\"\n        },\n        {\n            \"name\": \"sebastian/comparator\",\n            \"version\": \"1.2.4\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/comparator.git\",\n                \"reference\": \"2b7424b55f5047b47ac6e5ccb20b2aea4011d9be\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/comparator/zipball/2b7424b55f5047b47ac6e5ccb20b2aea4011d9be\",\n                \"reference\": \"2b7424b55f5047b47ac6e5ccb20b2aea4011d9be\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\",\n                \"sebastian/diff\": \"~1.2\",\n                \"sebastian/exporter\": \"~1.2 || ~2.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"~4.4\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.2.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Jeff Welch\",\n                    \"email\": \"whatthejeff@gmail.com\"\n                },\n                {\n                    \"name\": \"Volker Dusch\",\n                    \"email\": \"github@wallbash.com\"\n                },\n                {\n                    \"name\": \"Bernhard Schussek\",\n                    \"email\": \"bschussek@2bepublished.at\"\n                },\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                }\n            ],\n            \"description\": \"Provides the functionality to compare PHP values for equality\",\n            \"homepage\": \"http://www.github.com/sebastianbergmann/comparator\",\n            \"keywords\": [\n                \"comparator\",\n                \"compare\",\n                \"equality\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/comparator/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/comparator/tree/1.2\"\n            },\n            \"time\": \"2017-01-29T09:50:25+00:00\"\n        },\n        {\n            \"name\": \"sebastian/diff\",\n            \"version\": \"1.4.3\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/diff.git\",\n                \"reference\": \"7f066a26a962dbe58ddea9f72a4e82874a3975a4\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/diff/zipball/7f066a26a962dbe58ddea9f72a4e82874a3975a4\",\n                \"reference\": \"7f066a26a962dbe58ddea9f72a4e82874a3975a4\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \"^5.3.3 || ^7.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"^4.8.35 || ^5.7 || ^6.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.4-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Kore Nordmann\",\n                    \"email\": \"mail@kore-nordmann.de\"\n                },\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                }\n            ],\n            \"description\": \"Diff implementation\",\n            \"homepage\": \"https://github.com/sebastianbergmann/diff\",\n            \"keywords\": [\n                \"diff\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/diff/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/diff/tree/1.4\"\n            },\n            \"time\": \"2017-05-22T07:24:03+00:00\"\n        },\n        {\n            \"name\": \"sebastian/environment\",\n            \"version\": \"1.3.8\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/environment.git\",\n                \"reference\": \"be2c607e43ce4c89ecd60e75c6a85c126e754aea\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/environment/zipball/be2c607e43ce4c89ecd60e75c6a85c126e754aea\",\n                \"reference\": \"be2c607e43ce4c89ecd60e75c6a85c126e754aea\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \"^5.3.3 || ^7.0\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"^4.8 || ^5.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.3.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                }\n            ],\n            \"description\": \"Provides functionality to handle HHVM/PHP environments\",\n            \"homepage\": \"http://www.github.com/sebastianbergmann/environment\",\n            \"keywords\": [\n                \"Xdebug\",\n                \"environment\",\n                \"hhvm\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/environment/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/environment/tree/1.3\"\n            },\n            \"time\": \"2016-08-18T05:49:44+00:00\"\n        },\n        {\n            \"name\": \"sebastian/exporter\",\n            \"version\": \"1.2.2\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/exporter.git\",\n                \"reference\": \"42c4c2eec485ee3e159ec9884f95b431287edde4\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/exporter/zipball/42c4c2eec485ee3e159ec9884f95b431287edde4\",\n                \"reference\": \"42c4c2eec485ee3e159ec9884f95b431287edde4\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\",\n                \"sebastian/recursion-context\": \"~1.0\"\n            },\n            \"require-dev\": {\n                \"ext-mbstring\": \"*\",\n                \"phpunit/phpunit\": \"~4.4\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.3.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Jeff Welch\",\n                    \"email\": \"whatthejeff@gmail.com\"\n                },\n                {\n                    \"name\": \"Volker Dusch\",\n                    \"email\": \"github@wallbash.com\"\n                },\n                {\n                    \"name\": \"Bernhard Schussek\",\n                    \"email\": \"bschussek@2bepublished.at\"\n                },\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                },\n                {\n                    \"name\": \"Adam Harvey\",\n                    \"email\": \"aharvey@php.net\"\n                }\n            ],\n            \"description\": \"Provides the functionality to export PHP variables for visualization\",\n            \"homepage\": \"http://www.github.com/sebastianbergmann/exporter\",\n            \"keywords\": [\n                \"export\",\n                \"exporter\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/exporter/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/exporter/tree/master\"\n            },\n            \"time\": \"2016-06-17T09:04:28+00:00\"\n        },\n        {\n            \"name\": \"sebastian/global-state\",\n            \"version\": \"1.1.1\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/global-state.git\",\n                \"reference\": \"bc37d50fea7d017d3d340f230811c9f1d7280af4\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/global-state/zipball/bc37d50fea7d017d3d340f230811c9f1d7280af4\",\n                \"reference\": \"bc37d50fea7d017d3d340f230811c9f1d7280af4\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"~4.2\"\n            },\n            \"suggest\": {\n                \"ext-uopz\": \"*\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.0-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                }\n            ],\n            \"description\": \"Snapshotting of global state\",\n            \"homepage\": \"http://www.github.com/sebastianbergmann/global-state\",\n            \"keywords\": [\n                \"global state\"\n            ],\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/global-state/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/global-state/tree/1.1.1\"\n            },\n            \"time\": \"2015-10-12T03:26:01+00:00\"\n        },\n        {\n            \"name\": \"sebastian/recursion-context\",\n            \"version\": \"1.0.5\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/recursion-context.git\",\n                \"reference\": \"b19cc3298482a335a95f3016d2f8a6950f0fbcd7\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/recursion-context/zipball/b19cc3298482a335a95f3016d2f8a6950f0fbcd7\",\n                \"reference\": \"b19cc3298482a335a95f3016d2f8a6950f0fbcd7\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"require-dev\": {\n                \"phpunit/phpunit\": \"~4.4\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"1.0.x-dev\"\n                }\n            },\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Jeff Welch\",\n                    \"email\": \"whatthejeff@gmail.com\"\n                },\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\"\n                },\n                {\n                    \"name\": \"Adam Harvey\",\n                    \"email\": \"aharvey@php.net\"\n                }\n            ],\n            \"description\": \"Provides functionality to recursively process PHP variables\",\n            \"homepage\": \"http://www.github.com/sebastianbergmann/recursion-context\",\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/recursion-context/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/recursion-context/tree/master\"\n            },\n            \"time\": \"2016-10-03T07:41:43+00:00\"\n        },\n        {\n            \"name\": \"sebastian/version\",\n            \"version\": \"1.0.6\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/sebastianbergmann/version.git\",\n                \"reference\": \"58b3a85e7999757d6ad81c787a1fbf5ff6c628c6\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/sebastianbergmann/version/zipball/58b3a85e7999757d6ad81c787a1fbf5ff6c628c6\",\n                \"reference\": \"58b3a85e7999757d6ad81c787a1fbf5ff6c628c6\",\n                \"shasum\": \"\"\n            },\n            \"type\": \"library\",\n            \"autoload\": {\n                \"classmap\": [\n                    \"src/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"BSD-3-Clause\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Sebastian Bergmann\",\n                    \"email\": \"sebastian@phpunit.de\",\n                    \"role\": \"lead\"\n                }\n            ],\n            \"description\": \"Library that helps with managing the version number of Git-hosted PHP projects\",\n            \"homepage\": \"https://github.com/sebastianbergmann/version\",\n            \"support\": {\n                \"issues\": \"https://github.com/sebastianbergmann/version/issues\",\n                \"source\": \"https://github.com/sebastianbergmann/version/tree/1.0.6\"\n            },\n            \"time\": \"2015-06-21T13:59:46+00:00\"\n        },\n        {\n            \"name\": \"symfony/console\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/console.git\",\n                \"reference\": \"cbcf4b5e233af15cd2bbd50dee1ccc9b7927dc12\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/console/zipball/cbcf4b5e233af15cd2bbd50dee1ccc9b7927dc12\",\n                \"reference\": \"cbcf4b5e233af15cd2bbd50dee1ccc9b7927dc12\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\",\n                \"symfony/debug\": \"^2.7.2|~3.0.0\",\n                \"symfony/polyfill-mbstring\": \"~1.0\"\n            },\n            \"require-dev\": {\n                \"psr/log\": \"~1.0\",\n                \"symfony/event-dispatcher\": \"~2.1|~3.0.0\",\n                \"symfony/process\": \"~2.1|~3.0.0\"\n            },\n            \"suggest\": {\n                \"psr/log-implementation\": \"For using the console logger\",\n                \"symfony/event-dispatcher\": \"\",\n                \"symfony/process\": \"\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Console\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Console Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/console/tree/v2.8.52\"\n            },\n            \"time\": \"2018-11-20T15:55:20+00:00\"\n        },\n        {\n            \"name\": \"symfony/debug\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/debug.git\",\n                \"reference\": \"74251c8d50dd3be7c4ce0c7b862497cdc641a5d0\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/debug/zipball/74251c8d50dd3be7c4ce0c7b862497cdc641a5d0\",\n                \"reference\": \"74251c8d50dd3be7c4ce0c7b862497cdc641a5d0\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\",\n                \"psr/log\": \"~1.0\"\n            },\n            \"conflict\": {\n                \"symfony/http-kernel\": \">=2.3,<2.3.24|~2.4.0|>=2.5,<2.5.9|>=2.6,<2.6.2\"\n            },\n            \"require-dev\": {\n                \"symfony/class-loader\": \"~2.2|~3.0.0\",\n                \"symfony/http-kernel\": \"~2.3.24|~2.5.9|^2.6.2|~3.0.0\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Debug\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Debug Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/debug/tree/v2.8.50\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        },\n        {\n            \"name\": \"symfony/event-dispatcher\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/event-dispatcher.git\",\n                \"reference\": \"a77e974a5fecb4398833b0709210e3d5e334ffb0\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/event-dispatcher/zipball/a77e974a5fecb4398833b0709210e3d5e334ffb0\",\n                \"reference\": \"a77e974a5fecb4398833b0709210e3d5e334ffb0\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\"\n            },\n            \"require-dev\": {\n                \"psr/log\": \"~1.0\",\n                \"symfony/config\": \"^2.0.5|~3.0.0\",\n                \"symfony/dependency-injection\": \"~2.6|~3.0.0\",\n                \"symfony/expression-language\": \"~2.6|~3.0.0\",\n                \"symfony/stopwatch\": \"~2.3|~3.0.0\"\n            },\n            \"suggest\": {\n                \"symfony/dependency-injection\": \"\",\n                \"symfony/http-kernel\": \"\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\EventDispatcher\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony EventDispatcher Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/event-dispatcher/tree/v2.8.50\"\n            },\n            \"time\": \"2018-11-21T14:20:20+00:00\"\n        },\n        {\n            \"name\": \"symfony/filesystem\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/filesystem.git\",\n                \"reference\": \"7ae46872dad09dffb7fe1e93a0937097339d0080\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/filesystem/zipball/7ae46872dad09dffb7fe1e93a0937097339d0080\",\n                \"reference\": \"7ae46872dad09dffb7fe1e93a0937097339d0080\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\",\n                \"symfony/polyfill-ctype\": \"~1.8\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Filesystem\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Filesystem Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/filesystem/tree/v2.8.52\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        },\n        {\n            \"name\": \"symfony/finder\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/finder.git\",\n                \"reference\": \"1444eac52273e345d9b95129bf914639305a9ba4\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/finder/zipball/1444eac52273e345d9b95129bf914639305a9ba4\",\n                \"reference\": \"1444eac52273e345d9b95129bf914639305a9ba4\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Finder\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Finder Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/finder/tree/v2.8.50\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        },\n        {\n            \"name\": \"symfony/options-resolver\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/options-resolver.git\",\n                \"reference\": \"7aaab725bb58f0e18aa12c61bdadd4793ab4c32b\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/options-resolver/zipball/7aaab725bb58f0e18aa12c61bdadd4793ab4c32b\",\n                \"reference\": \"7aaab725bb58f0e18aa12c61bdadd4793ab4c32b\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\OptionsResolver\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony OptionsResolver Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"config\",\n                \"configuration\",\n                \"options\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/options-resolver/tree/v2.8.50\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        },\n        {\n            \"name\": \"symfony/polyfill-ctype\",\n            \"version\": \"v1.19.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/polyfill-ctype.git\",\n                \"reference\": \"aed596913b70fae57be53d86faa2e9ef85a2297b\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/polyfill-ctype/zipball/aed596913b70fae57be53d86faa2e9ef85a2297b\",\n                \"reference\": \"aed596913b70fae57be53d86faa2e9ef85a2297b\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"suggest\": {\n                \"ext-ctype\": \"For best performance\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-main\": \"1.19-dev\"\n                },\n                \"thanks\": {\n                    \"name\": \"symfony/polyfill\",\n                    \"url\": \"https://github.com/symfony/polyfill\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Polyfill\\\\Ctype\\\\\": \"\"\n                },\n                \"files\": [\n                    \"bootstrap.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Gert de Pagter\",\n                    \"email\": \"BackEndTea@gmail.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony polyfill for ctype functions\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"compatibility\",\n                \"ctype\",\n                \"polyfill\",\n                \"portable\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/polyfill-ctype/tree/v1.19.0\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://symfony.com/sponsor\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/fabpot\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/symfony/symfony\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-10-23T09:01:57+00:00\"\n        },\n        {\n            \"name\": \"symfony/polyfill-mbstring\",\n            \"version\": \"v1.19.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/polyfill-mbstring.git\",\n                \"reference\": \"b5f7b932ee6fa802fc792eabd77c4c88084517ce\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/polyfill-mbstring/zipball/b5f7b932ee6fa802fc792eabd77c4c88084517ce\",\n                \"reference\": \"b5f7b932ee6fa802fc792eabd77c4c88084517ce\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"suggest\": {\n                \"ext-mbstring\": \"For best performance\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-main\": \"1.19-dev\"\n                },\n                \"thanks\": {\n                    \"name\": \"symfony/polyfill\",\n                    \"url\": \"https://github.com/symfony/polyfill\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Polyfill\\\\Mbstring\\\\\": \"\"\n                },\n                \"files\": [\n                    \"bootstrap.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Nicolas Grekas\",\n                    \"email\": \"p@tchwork.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony polyfill for the Mbstring extension\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"compatibility\",\n                \"mbstring\",\n                \"polyfill\",\n                \"portable\",\n                \"shim\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/polyfill-mbstring/tree/v1.19.0\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://symfony.com/sponsor\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/fabpot\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/symfony/symfony\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-10-23T09:01:57+00:00\"\n        },\n        {\n            \"name\": \"symfony/polyfill-php54\",\n            \"version\": \"v1.19.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/polyfill-php54.git\",\n                \"reference\": \"c248bab30dad46a5f3917e7d92907e148bdc50c6\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/polyfill-php54/zipball/c248bab30dad46a5f3917e7d92907e148bdc50c6\",\n                \"reference\": \"c248bab30dad46a5f3917e7d92907e148bdc50c6\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-main\": \"1.19-dev\"\n                },\n                \"thanks\": {\n                    \"name\": \"symfony/polyfill\",\n                    \"url\": \"https://github.com/symfony/polyfill\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Polyfill\\\\Php54\\\\\": \"\"\n                },\n                \"files\": [\n                    \"bootstrap.php\"\n                ],\n                \"classmap\": [\n                    \"Resources/stubs\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Nicolas Grekas\",\n                    \"email\": \"p@tchwork.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony polyfill backporting some PHP 5.4+ features to lower PHP versions\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"compatibility\",\n                \"polyfill\",\n                \"portable\",\n                \"shim\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/polyfill-php54/tree/v1.19.0\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://symfony.com/sponsor\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/fabpot\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/symfony/symfony\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-10-23T09:01:57+00:00\"\n        },\n        {\n            \"name\": \"symfony/polyfill-php55\",\n            \"version\": \"v1.19.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/polyfill-php55.git\",\n                \"reference\": \"248a5c9877b126493abb661e4fb47792e418035b\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/polyfill-php55/zipball/248a5c9877b126493abb661e4fb47792e418035b\",\n                \"reference\": \"248a5c9877b126493abb661e4fb47792e418035b\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"ircmaxell/password-compat\": \"~1.0\",\n                \"php\": \">=5.3.3\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-main\": \"1.19-dev\"\n                },\n                \"thanks\": {\n                    \"name\": \"symfony/polyfill\",\n                    \"url\": \"https://github.com/symfony/polyfill\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Polyfill\\\\Php55\\\\\": \"\"\n                },\n                \"files\": [\n                    \"bootstrap.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Nicolas Grekas\",\n                    \"email\": \"p@tchwork.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony polyfill backporting some PHP 5.5+ features to lower PHP versions\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"compatibility\",\n                \"polyfill\",\n                \"portable\",\n                \"shim\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/polyfill-php55/tree/v1.19.0\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://symfony.com/sponsor\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/fabpot\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/symfony/symfony\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-10-23T09:01:57+00:00\"\n        },\n        {\n            \"name\": \"symfony/polyfill-php70\",\n            \"version\": \"v1.19.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/polyfill-php70.git\",\n                \"reference\": \"3fe414077251a81a1b15b1c709faf5c2fbae3d4e\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/polyfill-php70/zipball/3fe414077251a81a1b15b1c709faf5c2fbae3d4e\",\n                \"reference\": \"3fe414077251a81a1b15b1c709faf5c2fbae3d4e\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"paragonie/random_compat\": \"~1.0|~2.0|~9.99\",\n                \"php\": \">=5.3.3\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-main\": \"1.19-dev\"\n                },\n                \"thanks\": {\n                    \"name\": \"symfony/polyfill\",\n                    \"url\": \"https://github.com/symfony/polyfill\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Polyfill\\\\Php70\\\\\": \"\"\n                },\n                \"files\": [\n                    \"bootstrap.php\"\n                ],\n                \"classmap\": [\n                    \"Resources/stubs\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Nicolas Grekas\",\n                    \"email\": \"p@tchwork.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony polyfill backporting some PHP 7.0+ features to lower PHP versions\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"compatibility\",\n                \"polyfill\",\n                \"portable\",\n                \"shim\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/polyfill-php70/tree/v1.19.0\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://symfony.com/sponsor\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/fabpot\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/symfony/symfony\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-10-23T09:01:57+00:00\"\n        },\n        {\n            \"name\": \"symfony/polyfill-php72\",\n            \"version\": \"v1.19.0\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/polyfill-php72.git\",\n                \"reference\": \"beecef6b463b06954638f02378f52496cb84bacc\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/polyfill-php72/zipball/beecef6b463b06954638f02378f52496cb84bacc\",\n                \"reference\": \"beecef6b463b06954638f02378f52496cb84bacc\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.3\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-main\": \"1.19-dev\"\n                },\n                \"thanks\": {\n                    \"name\": \"symfony/polyfill\",\n                    \"url\": \"https://github.com/symfony/polyfill\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Polyfill\\\\Php72\\\\\": \"\"\n                },\n                \"files\": [\n                    \"bootstrap.php\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Nicolas Grekas\",\n                    \"email\": \"p@tchwork.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony polyfill backporting some PHP 7.2+ features to lower PHP versions\",\n            \"homepage\": \"https://symfony.com\",\n            \"keywords\": [\n                \"compatibility\",\n                \"polyfill\",\n                \"portable\",\n                \"shim\"\n            ],\n            \"support\": {\n                \"source\": \"https://github.com/symfony/polyfill-php72/tree/v1.19.0\"\n            },\n            \"funding\": [\n                {\n                    \"url\": \"https://symfony.com/sponsor\",\n                    \"type\": \"custom\"\n                },\n                {\n                    \"url\": \"https://github.com/fabpot\",\n                    \"type\": \"github\"\n                },\n                {\n                    \"url\": \"https://tidelift.com/funding/github/packagist/symfony/symfony\",\n                    \"type\": \"tidelift\"\n                }\n            ],\n            \"time\": \"2020-10-23T09:01:57+00:00\"\n        },\n        {\n            \"name\": \"symfony/process\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/process.git\",\n                \"reference\": \"c3591a09c78639822b0b290d44edb69bf9f05dc8\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/process/zipball/c3591a09c78639822b0b290d44edb69bf9f05dc8\",\n                \"reference\": \"c3591a09c78639822b0b290d44edb69bf9f05dc8\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Process\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Process Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/process/tree/v2.8.50\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        },\n        {\n            \"name\": \"symfony/stopwatch\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/stopwatch.git\",\n                \"reference\": \"752586c80af8a85aeb74d1ae8202411c68836663\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/stopwatch/zipball/752586c80af8a85aeb74d1ae8202411c68836663\",\n                \"reference\": \"752586c80af8a85aeb74d1ae8202411c68836663\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Stopwatch\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Stopwatch Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/stopwatch/tree/v2.8.52\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        },\n        {\n            \"name\": \"symfony/yaml\",\n            \"version\": \"v2.8.52\",\n            \"source\": {\n                \"type\": \"git\",\n                \"url\": \"https://github.com/symfony/yaml.git\",\n                \"reference\": \"02c1859112aa779d9ab394ae4f3381911d84052b\"\n            },\n            \"dist\": {\n                \"type\": \"zip\",\n                \"url\": \"https://api.github.com/repos/symfony/yaml/zipball/02c1859112aa779d9ab394ae4f3381911d84052b\",\n                \"reference\": \"02c1859112aa779d9ab394ae4f3381911d84052b\",\n                \"shasum\": \"\"\n            },\n            \"require\": {\n                \"php\": \">=5.3.9\",\n                \"symfony/polyfill-ctype\": \"~1.8\"\n            },\n            \"type\": \"library\",\n            \"extra\": {\n                \"branch-alias\": {\n                    \"dev-master\": \"2.8-dev\"\n                }\n            },\n            \"autoload\": {\n                \"psr-4\": {\n                    \"Symfony\\\\Component\\\\Yaml\\\\\": \"\"\n                },\n                \"exclude-from-classmap\": [\n                    \"/Tests/\"\n                ]\n            },\n            \"notification-url\": \"https://packagist.org/downloads/\",\n            \"license\": [\n                \"MIT\"\n            ],\n            \"authors\": [\n                {\n                    \"name\": \"Fabien Potencier\",\n                    \"email\": \"fabien@symfony.com\"\n                },\n                {\n                    \"name\": \"Symfony Community\",\n                    \"homepage\": \"https://symfony.com/contributors\"\n                }\n            ],\n            \"description\": \"Symfony Yaml Component\",\n            \"homepage\": \"https://symfony.com\",\n            \"support\": {\n                \"source\": \"https://github.com/symfony/yaml/tree/v2.8.52\"\n            },\n            \"time\": \"2018-11-11T11:18:13+00:00\"\n        }\n    ],\n    \"aliases\": [],\n    \"minimum-stability\": \"dev\",\n    \"stability-flags\": {\n        \"bower-asset/jquery\": 0\n    },\n    \"prefer-stable\": true,\n    \"prefer-lowest\": false,\n    \"platform\": {\n        \"php\": \">=5.4.0\",\n        \"ext-mbstring\": \"*\",\n        \"ext-ctype\": \"*\",\n        \"lib-pcre\": \"*\"\n    },\n    \"platform-dev\": [],\n    \"platform-overrides\": {\n        \"php\": \"5.4\"\n    },\n    \"plugin-api-version\": \"2.1.0\"\n}\n", "Yii Framework 2 Change Log\n==========================\n\n2.0.43 under development\n------------------------\n\n- Enh #18817: Use `paragonie/random_compat` for random bytes and int generation (samdark)\n- Bug #14663: Do not convert int to string if database type of a column is numeric (egorrishe)\n- Bug #18650: Refactor `framework/assets/yii.activeForm.js` arrow function into traditional function for IE11 compatibility (marcovtwout)\n- Bug #18749: Fix `yii\\web\\ErrorHandler::encodeHtml()` to support strings with invalid UTF symbols (vjik)\n- Enh #18724: Allow jQuery 3.6 to be installed (marcovtwout)\n- Enh #18628: Added strings \"software\", and \"hardware\" to `$specials` array in `yii\\helpers\\BaseInflector` (kjusupov)\n- Enh #18653: Added method `yii\\helpers\\BaseHtml::getInputIdByName()` (WinterSilence)\n- Enh #18669: Changed visibility of `yii\\web\\User::checkRedirectAcceptable()` to `public` (rhertogh)\n- Enh #18676: Added method `yii\\helpers\\BaseFileHelper::changeOwnership()` and properties `newFileMode`/`newFileOwnership` in `yii\\console\\controllers\\BaseMigrateController` (rhertogh)\n- Bug #18678: Fix `yii\\caching\\DbCache` to use configured cache table name instead of the default one in case of MSSQL varbinary column type detection (aidanbek)\n- Enh #18695: Added `yii\\web\\Cookie::SAME_SITE_NONE` constant (rhertogh)\n- Enh #18712: Added `scheme` option for `$options` argument for `yii\\i18n\\Formatter::asUrl()` (bizley)\n- Enh #18707: Changed the base error handler to not expose `$_SERVER` details unless `YII_DEBUG` is enabled (coolgoose)\n- Bug #18648: Fix `yii\\web\\Request` to properly handle HTTP Basic Auth headers (olegbaturin)\n- Enh #18726: Added `yii\\helpers\\Json::$prettyPrint` (rhertogh)\n- Enh #18734: Added `yii\\validators\\EmailValidator::$enableLocalIDN` (brandonkelly)\n- Bug #18756: Fix `\\yii\\validators\\ExistValidator::queryValueExists` to validate against an array of unique values (DrDeath72)\n- Enh #18656: Added ability for `yii serve`'s `--router` param to take an alias (markhuot)\n- Enh #18274: Added `profilingAware` option to `yii\\log\\Logger` to prevent breaking the profiling block messages pair when flushing them (bizley)\n- Enh #18789: Added JSONP support in `yii\\web\\JsonParser::parse()` (WinterSilence)\n- Bug #18274: Fix `yii\\log\\Logger` to calculate profile timings no matter the value of the flush interval (bizley)\n- Bug #18807: Fix replacing source whitespaces and optimize code of `yii\\helpers\\BaseStringHelper::mb_ucwords()` (WinterSilence)\n\n\n2.0.42.1 May 06, 2021\n---------------------\n\n- Bug #18634: Fix `yii\\db\\BaseActiveRecord::unlink()` and `unlinkAll()` to omit condition for `on` property when it doesn't exist (bizley)\n\n\n2.0.42 May 05, 2021\n-------------------\n\n- Bug #14343: Fix `yii\\test\\ActiveFixture` to use model's DB connection instead of the default one (margori, bizley)\n- Bug #17174: Fix `yii\\db\\BaseActiveRecord::unlink()` to not ignore `on` conditions in `via` relations (bizley)\n- Bug #17203: Fix `yii\\db\\Connection` to persist customized `queryBuilder` configuration after the `close()` \u2192 `open()` cycle (silverfire)\n- Bug #17479: Fix `yii\\grid\\ActionColumn` to render icons when no glyphicons are available (simialbi)\n- Bug #17631: Fix `yii\\widgets\\BaseListView` to properly render custom summary (sjaakp, bizley)\n- Bug #18323: Fix client validation of RadioList when there are disabled items (toir427)\n- Bug #18325: Fix `yii\\db\\pgsql\\Schema` to respect non-default PgSQL schema name for data types (theonedemon, silverfire)\n- Bug #18526: Fix `yii\\caching\\DbCache` to work with MSSQL, add `normalizeTableRowData()` to `yii\\db\\mssql\\QueryBuilder::upsert()` (darkdef)\n- Bug #18544: Fix `yii\\validators\\NumberValidator` to disallow values with whitespaces (bizley)\n- Bug #18552: Fix `yii\\data\\SqlDataProvider` to properly handle SQL with `ORDER BY` clause (bizley)\n- Bug #18557: Fix `yii\\data\\ActiveDataProvider` to handle DB connection configuration of different type than just `yii\\db\\Connection` (bizley)\n- Bug #18574: Fix `yii\\web\\DbSession` to use the correct db if strict mode is used (Mignar)\n- Bug #18585: Fix `yii\\validators\\EmailValidator` to handle an edge case where `IDN` is enabled, but fails ascii conversion for valid email addresses (ihitbuttons)\n- Bug #18590: Fix `yii\\web\\UrlManager` to instantiate cache only when it's actually needed (bizley)\n- Bug #18592: Fix `yii\\db\\Command::getRawSql()` to not replace query params in invalid places (sartor)\n- Bug #18593: Fix setting the `maxlength` attribute for `Html::activeInput()` and `Html::activeTextArea()` based on `length` parameter of validator (BSCheshir)\n- Bug #18604: Function alterColumn for MSSQL build incorrect query with default values `NULL` and other expressions (darkdef)\n- Bug #18613: Do not call static methods non-statically in `BaseActiveRecord` (samdark)\n- Bug #18619: Do not modify `yii\\web\\Cookie::$path` on `yii\\web\\Response::sendCookies()` (mikk150)\n- Bug #18624: Fix `yii\\di\\Container` to properly resolve dependencies in case of PHP 8 union types (bizley)\n- Enh #18534: Add `prepareSearchQuery` property in `yii\\rest\\IndexAction` (programmis)\n- Enh #18566: Throw the original exception when `yii\\web\\Controller::bindInjectedParams()` catches HttpException (pigochu)\n- Enh #18569: Add `NumberValidator::$allowArray` (raidkon)\n\n\n2.0.41.1 March 04, 2021\n-----------------------\n\n- Bug #18545: Reversed changes made to the `yii\\db\\Query::all()` and `indexBy` handling (bizley)\n- Bug #18548: Fix bug with REST rules with prefixes containing tokens not being parsed properly (bizley)\n\n\n2.0.41 March 03, 2021\n---------------------\n\n- Bug #8750: Fix MySQL support when running in `ANSI`/`ANSI_QUOTES` modes (brandonkelly)\n- Bug #9718: Fix user staying authorized despite authKey change (kidol, Charlie Jack, Kunal Mhaske, samdark)\n- Bug #18448: Fix issues in queries and tests for older MSSQL versions (darkdef)\n- Bug #18450: Allow empty string to be passed as a nullable typed argument to a controller's action (dicrtarasov, bizley)\n- Bug #18464: Fix bug with processing fallback messages when translation language is set to `null` (bizley)\n- Bug #18472: Fix initializing `db` component configuration in `yii\\data\\ActiveDataProvider` (bizley)\n- Bug #18477: Fix detecting availability of Xdebug's stack trace in `yii\\base\\ErrorException` (bizley)\n- Bug #18479: Fix invalid argument type for `preg_split()` in `\\yii\\console\\Controller` (gazooz)\n- Bug #18480: Transactions are not committed using the dblib driver (bbrunekreeft)\n- Bug #18505: Fix `yii\\helpers\\ArrayHelper::getValue()` for ArrayAccess objects with explicitly defined properties (samdark)\n- Bug #18508: Fix Postgres SQL query for load table indexes with correct column order (insolita)\n- Bug #18529: Fix asset files path with `appendTimestamp` option for non-root-relative base URLs (bizley)\n- Bug #18535: Set Cookie SameSite to Lax by default (samdark)\n- Bug #18539: Fix \"driver does not support quoting\" when using the driver pdo_odbc (xpohoc69)\n- Enh #18447: Do not use `getLastInsertID()` to get PK from insert query to lower collision probability for concurrent inserts (darkdef)\n- Enh #18455: Add ability to use separate attributes for data model and filter model of `yii\\grid\\GridView` in `yii\\grid\\DataColumn` (PowerGamer1)\n- Enh #18457: Add `EVENT_RESET` and `EVENT_FINISH` events to `yii\\db\\BatchQueryResult` (brandonkelly)\n- Enh #18460: `compareValue` in `CompareValidator` can now take a closure returning a value (mmonem)\n- Enh #18483: Add `yii\\log\\Logger::$dbEventNames` that allows specifying event names used to get statistical results (profiling) of DB queries (atiline)\n- Enh #18487: Allow creating URLs for non-GET-verb rules (bizley)\n- Enh #18493: Faster request parsing for REST UrlRule with prefix handling (bizley)\n- Enh #18499: When using `yii\\db\\Query::all()` and `yii\\db\\Query::$indexBy`, the `yii\\db\\Query::$indexBy` is auto inserted into `yii\\db\\Query::$select` - the same as in `yii\\db\\Query::column()` (OndrejVasicek, samdark, bizley)\n- Enh #18518: Add support for ngrok\u2019s `X-Original-Host` header (brandonkelly)\n\n\n2.0.40 December 23, 2020\n------------------------\n\n- Bug #16492: Fix eager loading Active Record relations when relation key is a subject to a type-casting behavior (bizley)\n- Bug #18199: Fix content body response on 304 HTTP status code, according to RFC 7232 (rad8329)\n- Bug #18287: Fix the OUTPUT got SQL syntax error if the column name is MSSQL keyword e.g. key (darkdef)\n- Bug #18339: Fix migrate controller actions to return exit codes (haohetao, bizley)\n- Bug #18365: Move quoting of table names to upper level to function `getSchemaMetadata()` in MSSQL driver to get clean names from the schema (darkdef)\n- Bug #18383: RBAC's generated file made PSR-12 compliant (perlexed)\n- Bug #18386: Fix `assets/yii.activeForm.js` incorrect target selector for `validatingCssClass` (brussens)\n- Bug #18393: Fix `ActiveRecord::refresh()` to load data from the database even if cache is enabled (hooman-mirghasemi)\n- Bug #18395: Fix regression in `yii\\helpers\\BaseArrayHelper::filter()` (allowing filtering arrays with numeric keys) (bizley)\n- Bug #18400: Set parent module of the newly attached child module by `Module::setModule()` and `Module::setModules()` (sup-ham)\n- Bug #18406: Fix PDO exception when committing or rolling back an autocommitted transaction in PHP 8 (brandonkelly)\n- Bug #18414: Fix `AssetManager::appendTimestamp()` not appending timestamp for website root in sub-directory (Isitar)\n- Bug #18426: Fix check for route's leading slash in `yii\\widgets\\Menu` (stevekr)\n- Bug #18435: Fix ensuring Active Record relation links' keys to be strings (bizley)\n- Bug #18437: Change the check order whether an object is an implementation of `Arrayable` or `JsonSerializable` in `\\yii\\base\\ArrayableTrait::toArray()` and `\\yii\\rest\\Serializer::serialize()` (spell6inder)\n- Bug #18442: Fix calls with array access to string (bizley)\n- Enh #18381: The `yii\\web\\AssetManager` `$basePath` readable and writeable check has been moved to the `checkBasePathPermission()`. This check will run once before `publishFile()` and `publishDirectory()` (nadar)\n- Enh #18394: Add support for setting `yii\\web\\Response::$stream` to a callable (brandonkelly)\n\n\n2.0.39.3 November 23, 2020\n--------------------------\n\n- Bug #18396: Fix not throw `InvalidConfigException` when failed to instantiate class via DI container in some cases (vjik)\n- Enh #18200: Add `maxlength` attribute by default to the input text when it is an active field within a `yii\\grid\\DataColumn` (rad8329)\n\n\n2.0.39.2 November 13, 2020\n--------------------------\n\n- Bug #18378: Fix not taking default value when unable to resolve abstract class via DI container (vjik)\n\n\n2.0.39.1 November 10, 2020\n--------------------------\n\n- Bug #18373: Fix not taking default value when unable to resolve non-existing class via DI container (vjik)\n- Enh #18370: Add option to provide a string replacement for `null` value in `yii\\data\\DataFilter` (bizley)\n\n\n2.0.39 November 10, 2020\n------------------------\n\n- Bug #16418: Fix `yii\\data\\Pagination::getLinks()` to return links to the first and the last pages regardless of the current page (ptz-nerf, bizley)\n- Bug #16831: Fix console Table widget does not render correctly in combination with ANSI formatting (issidorov, cebe)\n- Bug #18160, #18192: Fix `registerFile` with set argument `depends` does not take `position` and `appendTimestamp` into account (baleeny)\n- Bug #18263: Fix writing `\\yii\\caching\\FileCache` files to the same directory when `keyPrefix` is set (githubjeka)\n- Bug #18287: Fix for `OUTPUT INSERTED` and computed columns. Add flag to mark computed values in table schema (darkdef)\n- Bug #18290: Fix response with non-seekable streams (schmunk42)\n- Bug #18297: Replace usage of deprecated `ReflectionParameter::isArray()` method in PHP8 (baletskyi)\n- Bug #18303: Fix creating migration for column methods used after `defaultValues` (wsaid)\n- Bug #18308: Fix `\\yii\\base\\Model::getErrorSummary()` reverse order (DrDeath72)\n- Bug #18313: Fix multipart form data parsing with double quotes (wsaid)\n- Bug #18317: Additional PHP 8 compatibility fixes (samdark, bizley)\n- Enh #18247: Add support for the 'session.use_strict_mode' ini directive in `yii\\web\\Session` (rhertogh)\n- Enh #18285: Enhanced DI container to allow passing parameters by name in a constructor (vjik)\n- Enh #18304: Add support of constructor parameters with default values to DI container (vjik)\n- Enh #18351: Add option to change default timezone for parsing formats without time part in `yii\\validators\\DateValidator` (bizley)\n\n\n2.0.38 September 14, 2020\n-------------------------\n\n- Bug #13973: Correct alterColumn for MSSQL & drop constraints before dropping a column (darkdef)\n- Bug #15265: PostgreSQL > 10.0 is not pass tests with default value of timestamp CURRENT_TIMESTAMP (terabytesoftw)\n- Bug #16892: Validation error class was not applied to checkbox and radio when validationStateOn = self::VALIDATION_STATE_ON_INPUT (dan-szabo, samdark)\n- Bug #18040: Display width specification for integer data types was deprecated in MySQL 8.0.19 (terabytesoftw)\n- Bug #18066: Fix `yii\\db\\Query::create()` wasn't using all info from `withQuery()` (maximkou)\n- Bug #18229: Add a flag to specify SyBase database when used with pdo_dblib (darkdef)\n- Bug #18232: Fail tests pgsql v-10.14, v-11.9, v-12-latest (terabytesoftw)\n- Bug #18233: Add PHP 8 support (samdark)\n- Bug #18239: Fix support of no-extension files for `FileValidator::validateExtension()` (darkdef)\n- Bug #18245: Make resolving DI references inside of arrays in dependencies optional (SamMousa, samdark, hiqsol)\n- Bug #18248: Render only one stack trace on a console for chained exceptions (mikehaertl)\n- Bug #18269: Fix integer safe attribute to work properly in `yii\\base\\Model` (Ladone)\n- Bug: (CVE-2020-15148): Disable unserialization of `yii\\db\\BatchQueryResult` to prevent remote code execution in case application calls unserialize() on user input containing specially crafted string (samdark, russtone)\n- Enh #18196: `yii\\rbac\\DbManager::$checkAccessAssignments` is now `protected` (alex-code)\n- Enh #18213: Do not load fixtures with circular dependencies twice instead of throwing an exception (JesseHines0)\n- Enh #18236: Allow `yii\\filters\\RateLimiter` to accept a closure function for the `$user` property in order to assign values on runtime (nadar)\n\n\n2.0.37 August 07, 2020\n----------------------\n\n- Bug #17147: Fix form attribute validations for empty select inputs (kartik-v)\n- Bug #18156: Fix `yii\\db\\Schema::quoteSimpleTableName()` was checking incorrect quote character (M4tho, samdark)\n- Bug #18170: Fix 2.0.36 regression in passing extra console command arguments to the action (darkdef)\n- Bug #18171: Change case of column names in SQL query for `findConstraints` to fix MySQL 8 compatibility (darkdef)\n- Bug #18182: `yii\\db\\Expression` was not supported as condition in `ActiveRecord::findOne()` and `ActiveRecord::findAll()` (rhertogh)\n- Bug #18189: Fix \"Invalid parameter number\" in `yii\\rbac\\DbManager::removeItem()` (samdark)\n- Bug #18198: Fix saving tables with trigger by outputting inserted data from insert query with usage of temporary table (darkdef)\n- Bug #18203: PDO exception code was not properly passed to `yii\\db\\Exception` (samdark)\n- Bug #18204: Fix 2.0.36 regression in inline validator and JS validation (samdark)\n- Enh #18205: Add `.phpstorm.meta.php` file for better auto-completion in PhpStorm (vjik)\n- Enh #18210: Allow strict comparison for multi-select inputs (alex-code)\n- Enh #18217: Make `yii\\console\\ErrorHandler` render chained exceptions in debug mode (mikehaertl)\n\n\n2.0.36 July 07, 2020\n--------------------\n\n- Bug #13828: Fix retrieving inserted data for a primary key of type uniqueidentifier for SQL Server 2005 or later (darkdef)\n- Bug #17474: Fix retrieving inserted data for a primary key of type trigger for SQL Server 2005 or later (darkdef)\n- Bug #17985: Convert migrationNamespaces to array if needed (darkdef)\n- Bug #18001: Fix getting table metadata for tables `(` in their name (floor12)\n- Bug #18026: Fix `ArrayHelper::getValue()` did not work with `ArrayAccess` objects (mikk150)\n- Bug #18028: Fix division by zero exception in console `Table::calculateRowHeight()` (fourhundredfour)\n- Bug #18031: `HttpBasicAuth` with auth callback now triggers login events same was as other authentication methods (samdark)\n- Bug #18041: Fix RBAC migration for MSSQL (darkdef)\n- Bug #18047: Fix colorization markers output in console `Table` (cheeseq)\n- Bug #18051: Fix missing support for custom validation method in EachValidator (bizley)\n- Bug #18051: Fix using `EachValidator` with custom validation function (bizley)\n- Bug #18081: Fix for PDO_DBLIB/MSSQL. Set flag `ANSI_NULL_DFLT_ON` to ON for current DB connection (darkdef)\n- Bug #18086: Fix accessing public properties of `ArrayAccess` via `ArrayHelper::getValue()` (samdark)\n- Bug #18094: Add support for composite file extension validation (darkdef)\n- Bug #18096: Fix `InlineValidator` with anonymous inline function not working well from `EachValidator` (trombipeti)\n- Bug #18101: Fix behavior of `OUTPUT INSERTED.*` for SQL Server query: \"insert default values\"; correct MSSQL unit tests; turn off profiling echo message in migration test (darkdef)\n- Bug #18105: Fix for old trigger in RBAC migration with/without `prefixTable` (darkdef)\n- Bug #18110: Add quotes to return value of viewName in MSSQL schema. It is `[someView]` now (darkdef)\n- Bug #18127: Resolve DI references inside of arrays in dependencies (hiqsol)\n- Bug #18134: `Expression` as `columnName` should not be quoted in `likeCondition` (darkdef)\n- Bug #18147: Fix parameters binding for MySQL when prepare emulation is off (rskrzypczak)\n- Enh #15202: Add optional param `--silent-exit-on-exception` in `yii\\console\\Controller` (egorrishe)\n- Enh #17722: Add action injection support (SamMousa, samdark, erickskrauch)\n- Enh #18019: Allow jQuery 3.5.0 to be installed (wouter90)\n- Enh #18048: Use `Instance::ensure()` to set `User::$accessChecker` (lav45)\n- Enh #18083: Add `Controller::$request` and `$response` (brandonkelly)\n- Enh #18120: Include the path to the log file into error message if `FileTarget::export` fails (uaoleg)\n- Enh #18151: Add `Mutex::isAcquired()` to check if lock is currently acquired (rhertogh)\n\n\n2.0.35 May 02, 2020\n-------------------\n\n- Bug #16481: Fix RBAC MSSQL trigger (achretien)\n- Bug #17653: Fix `TypeError: pair[1] is undefined` when query param doesn't have `=` sign (baso10)\n- Bug #17810: Fix `EachValidator` crashing with uninitialized typed properties (ricardomm85)\n- Bug #17942: Fix for `DbCache` loop in MySQL `QueryBuilder` (alex-code)\n- Bug #17948: Ignore errors caused by `set_time_limit(0)` (brandonkelly)\n- Bug #17960: Fix unsigned primary key type mapping for SQLite (bizley)\n- Bug #17961: Fix pagination `pageSizeLimit` ignored if set as array with more then 2 elements (tsvetiligo)\n- Bug #17974: Fix `ActiveRelationTrait` compatibility with PHP 7.4 (Ximich)\n- Bug #17975: Fix deleting unused messages with console command if message tables were created manually (auerswald, cebe)\n- Bug #17991: Improve `yii\\db\\Connection` master and slave failover, no connection attempt was made when all servers are marked as unavailable  (cebe)\n- Bug #18000: PK value of Oracle ActiveRecord is missing after save (mankwok)\n- Bug #18010: Allow upper or lower case operators in `InCondition` and `LikeCondition` (alex-code)\n- Bug #18011: Add attribute labels support for `DynamicModel`, fixed `EachValidator` to pass the attribute label to the underlying `DynamicModel` (storch)\n- Enh #17758: `Query::withQuery()` can now be used for CTE (sartor)\n- Enh #17993: Add `yii\\i18n\\Formatter::$currencyDecimalSeparator` to allow setting custom symbols for currency decimal in `IntlNumberFormatter` (XPOHOC269)\n- Enh #18006: Allow `SameSite` cookie pre PHP 7.3 (scottix)\n\n\n2.0.34 March 26, 2020\n---------------------\n\n- Bug #17932: Fix regression in detection of AJAX requests (samdark)\n- Bug #17933: Log warning instead of erroring when URLManager is unable to initialize cache (samdark)\n- Bug #17934: Fix regression in Oracle when binding several string parameters (fen1xpv, samdark)\n- Bug #17935: Reset DB quoted table/column name caches when the connection is closed (brandonkelly)\n\n\n2.0.33 March 24, 2020\n---------------------\n\n- Bug #11945: Fix Schema Builder MySQL column definition order (simialbi)\n- Bug #13749: Fix Yii opens db connection even when hits query cache (shushenghong)\n- Bug #16092: Fix duplicate joins in usage of `joinWith` (germanow)\n- Bug #16145: Fix `Html` helper `checkboxList()`, `radioList()`, `renderSelectOptions()`, `dropDownList()`, `listBox()` methods to work properly with traversable selection (samdark)\n- Bug #16334: Add `\\JsonSerializable` support to `ArrayableTrait` (germanow)\n- Bug #17667: Fix `CREATE INDEX` failure on SQLite when specifying schema (santilin, samdark)\n- Bug #17679: Fix Oracle exception \"ORA-01461: can bind a LONG value only for insert into a LONG column\" when inserting 4k+ string (vinpel, 243083df)\n- Bug #17797: Fix for `activeListInput` options (alex-code)\n- Bug #17798: Avoid creating directory for stream log targets in `FileTarget` (wapmorgan)\n- Bug #17828: Fix `yii\\web\\UploadedFile::saveAs()` failing when error value in `$_FILES` entry is a string (haveyaseen)\n- Bug #17829: `yii\\helpers\\ArrayHelper::filter` now correctly filters data when passing a filter with more than 2 levels (rhertogh)\n- Bug #17843: Fix `yii\\web\\Session::setCookieParamsInternal` checked \"samesite\" parameter incorrectly (schevgeny)\n- Bug #17850: Update to `ReplaceArrayValue` config exception message (alex-code)\n- Bug #17859: Fix loading fixtures under Windows (samdark)\n- Bug #17863: `\\yii\\helpers\\BaseInflector::slug()` doesn't work with an empty string as a replacement argument (haruatari)\n- Bug #17875: Use `move_uploaded_file()` function instead of `copy()` and `unlink()` for saving uploaded files in case of POST request (sup-ham)\n- Bug #17878: Detect CORS AJAX requests without `X-Requested-With` in `Request::getIsAjax()` (dicrtarasov, samdark)\n- Bug #17881: `yii\\db\\Query::queryScalar()` wasn\u2019t reverting the `select`, `orderBy`, `limit`, and `offset` params if an exception occurred (brandonkelly)\n- Bug #17884: Fix 0 values in console Table rendered as empty string (mikehaertl)\n- Bug #17886: Fix `yii\\rest\\Serializer` to serialize arrays (patacca)\n- Bug #17909: Reset DB schema, transaction, and driver name when the connection is closed (brandonkelly)\n- Bug #17920: Fix quoting for `Command::getRawSql` having `Expression` in params (alex-code)\n- Enh #7622: Allow `yii\\data\\ArrayDataProvider` to control the sort flags for `sortModels` through `yii\\data\\Sort::sortFlags` property (askobara)\n- Enh #16721: Use `Instance::ensure()` to initialize `UrlManager::$cache` (rob006)\n- Enh #17827: Add `StringValidator::$strict` that can be turned off to allow any scalars (adhayward, samdark)\n- Enh #17929: Actions can now have bool typed params bound (alex-code)\n\n\n2.0.32 January 21, 2020\n-----------------------\n\n- Bug #12539: `yii\\filters\\ContentNegotiator` now generates 406 'Not Acceptable' instead of 415 'Unsupported Media Type' on content-type negotiation fail (PowerGamer1)\n- Bug #17037: Fix uploaded file saving method when data came from `MultipartFormDataParser` (sup-ham)\n- Bug #17300: Fix class-level event handling with wildcards (Toma91)\n- Bug #17635: Fix varbinary data handling for MSSQL (toatall)\n- Bug #17744: Fix a bug with setting incorrect `defaultValue` to AR column with `CURRENT_TIMESTAMP(x)` as default expression (MySQL >= 5.6.4) (bizley)\n- Bug #17749: Fix logger dispatcher behavior when target crashes in PHP 7.0+ (kamarton)\n- Bug #17755: Fix a bug for web request with `trustedHosts` set to format `['10.0.0.1' => ['X-Forwarded-For']]` (shushenghong)\n- Bug #17760: Fix `JSON::encode()` for `\\DateTimeInterface` under PHP 7.4 (samdark)\n- Bug #17762: PHP 7.4: Remove special condition for converting PHP errors to exceptions if they occurred inside of `__toString()` call (rob006)\n- Bug #17766: Remove previous PJAX event binding before registering new one (samdark)\n- Bug #17767: Make `Formatter::formatNumber` method protected (TheCodeholic)\n- Bug #17771: migrate/fresh was not returning exit code (samdark)\n- Bug #17793: Fix inconsistent handling of null `data` attribute values in `yii\\helpers\\BaseHtml::renderTagAttributes()` (brandonkelly)\n- Bug #17803: Fix `ErrorHandler` unregister and register to only change global state when applicable (SamMousa)\n- Enh #17729: Path alias support was added to `yii\\web\\UploadedFile::saveAs()` (sup-ham)\n- Enh #17792: Add support for `aria` attributes to `yii\\helpers\\BaseHtml::renderTagAttributes()` (brandonkelly)\n\n2.0.31 December 18, 2019\n------------------------\n\n- Bug #17661: Fix query builder incorrect IN/NOT IN condition handling for null values (strychu)\n- Bug #17685: Fix invalid db component in `m180523_151638_rbac_updates_indexes_without_prefix` (rvkulikov)\n- Bug #17687: `Query::indexBy` can now include a table alias (brandonkelly)\n- Bug #17694: Fixed Error Handler to clear registered view tags, scripts, and files when rendering error view through action view (bizley)\n- Bug #17701: Throw `BadRequestHttpException` when request params can\u2019t be bound to `int` and `float` controller action arguments (brandonkelly)\n- Bug #17710: Fix MemCache duration normalization to avoid memcached/system timestamp mismatch (samdark)\n- Bug #17723: Fix `Model::activeAttributes()` to access array offset on value of non-string (samdark)\n- Bug #17723: Fix incorrect decoding of default binary value for PostgreSQL (samdark)\n- Bug #17723: Fix incorrect type-casting of reflection type to string (samdark)\n- Bug #17725: Ensure we do not use external polyfills for pbkdf2() as these may be implemented incorrectly (samdark)\n- Bug #17740: `yii\\helpers\\BaseInflector::slug()` doesn't replace multiple replacement string occurrences to single one (batyrmastyr)\n- Bug #17745: Fix PostgreSQL query builder drops default value when it is empty (xepozz)\n- Enh #17665: Implement RFC 7239 `Forwarded` header parsing in Request (mikk150, kamarton)\n- Enh #17720: DI 3 support for application core components and default object configurations (sup-ham)\n\n\n2.0.30 November 19, 2019\n------------------------\n\n- Bug #17434: IE Ajax redirect fix for non 11.0 versions (kamarton)\n- Bug #17632: Unicode file name was not correctly parsed in multipart forms (AlexRas007, samdark)\n- Bug #17648: Handle empty column arrays in console `Table` widget (alex-code)\n- Bug #17657: Fix migration errors from missing `$schema` in RBAC init file when using MSSQL (PoohOka)\n- Bug #17670: Fix overriding core component class using `__class` (sup-ham, samdark)\n\n\n2.0.29 October 22, 2019\n-----------------------\n\n- Bug #8225: Fixed AJAX validation with checkboxList was only triggered on first select (execut)\n- Bug #17597: PostgreSQL 12 and partitioned tables support (batyrmastyr)\n- Bug #17602: `EmailValidator` with `checkDNS=true` throws `ErrorException` on bad domains on Alpine (batyrmastyr)\n- Bug #17606: Fix error in `AssetBundle` when a disabled bundle with custom init() was still published (onmotion)\n- Bug #17625: Fix boolean `data` attributes from subkeys rendering in `Html::renderTagAttributes()` (brandonkelly)\n- Enh #17607: Added Yii version 3 DI config compatibility (hiqsol)\n\n\n2.0.28 October 08, 2019\n-----------------------\n\n- Bug #17573: `Request::getUserIP()` security fix for the case when `Request::$trustedHost` and `Request::$ipHeaders` are used (kamarton)\n- Bug #17585: Fix `yii\\i18n\\Formatter` including the `@calendar` locale param in `Yii::t()` calls (brandonkelly)\n- Bug #17853: Fix errors in ActiveField to be properly caught when PHP 7 is used (My6UoT9)\n\n\n2.0.27 September 18, 2019\n-------------------------\n\n- Bug #16610: ErrorException trace was cut when using XDebug (Izumi-kun)\n- Bug #16671: Logging in `Connection::open()` was not respecting `Connection::$enableLogging` (samdark)\n- Bug #16855: Ignore console commands that have no actions (alexeevdv)\n- Bug #17434: Fix regular expression illegal character; Repeated fix for Internet Explorer 11 AJAX redirect bug in case of 301 and 302 response codes (`XMLHttpRequest: Network Error 0x800c0008`) (kamarton)\n- Bug #17539: Fixed error when using `batch()` with `indexBy()` with MSSQL (alexkart)\n- Bug #17549: Fix `yii\\db\\ExpressionInterface` not supported in `yii\\db\\conditions\\SimpleConditionBuilder` (razvanphp)\n- Enh #15526: Show valid aliases and options on invalid input in console application (samdark)\n- Enh #16826: `appendTimestamp` support was added to `View` methods `registerCssFile()` and `registerJsFile()` (onmotion)\n\n\n2.0.26 September 03, 2019\n-------------------------\n\n- Bug #16305: Fix `FileValidator` mime-type validation failure because of case sensitivity (kamarton)\n- Bug #16531: Fix error in `Response::sendContent()` when `set_time_limit()` is disabled (brandonkelly)\n- Bug #17355: Fix incorrect sequence of `EVENT_AFTER_REQUEST` when using Pjax (kamarton)\n- Bug #17434: Fix Internet Explorer 11 AJAX redirect bug in case of 301 and 302 response codes (`XMLHttpRequest: Network Error 0x800c0008`) (kamarton)\n- Bug #17449: Ensure `CHECK` statement goes after `COMMENT` in MySQL `QueryBuilder::addCommentOnColumn()` (Manu311)\n- Bug #17504: Fix upsert when `$updateColumns` is `true` but there are no columns to update in the table (alexkart)\n- Bug #17507: Fix regular expression escaping and simplify condition in `Controller::createAction()` (kamarton)\n- Bug #17511: Fix IPv6 subnets matching in `IpHelper::inRange()` (kamarton)\n- Bug #17522: `DbManager::isEmptyUserId()` is now protected (samdark)\n\n\n2.0.25 August 13, 2019\n----------------------\n\n- Bug #15779: If directory path is passed to `FileHelper::unlink()` and directory has files it will not delete files in this directory on Windows now (alexkart)\n- Bug #17223: Fixed detaching a behavior event when it is a Closure instance (GHopperMSK, rob006)\n- Bug #17473: Fixed `SimpleConditionBuilder::build()` when column is not a string (alexkart)\n- Bug #17485: Reverted #17477 (samdark)\n- Bug #17486: Fixed error when using `batch()` without `$db` parameter with MSSQL (alexkart)\n\n\n2.0.24 July 30, 2019\n--------------------\n\n- Bug #10020: Fixed quoting of column names with dots in MSSQL (alexkart)\n- Bug #16796: Fixed addition and removal of table and column comments in MSSQL (sdlins)\n- Bug #17219: Fixed quoting of table names with spaces in MSSQL (alexkart)\n- Bug #17424: Subdomain support for `User::loginRequired` (alex-code)\n- Bug #17437: Fixed generating namespaced migrations (bizley)\n- Bug #17449: Fixed order of SQL column build syntax for MySQL migration (choken)\n- Bug #17457: Fixed `phpTypecast()` for MSSQL (alexkart)\n- Bug #17469: Fixed updating `Yii` logger instance when setting new logger via configuration (samdark)\n\n\n2.0.23 July 16, 2019\n--------------------\n\n- Bug #10023: Fixed MSSQL \"There are no more rows in the active result set\" exception when using `each()` and `batch()` (alexkart)\n- Bug #17395: Fixed issues with actions that contain underscores in their names (alexkart)\n- Bug #17413, #17418, #17426, #17431: Fixed MSSQL tests (alexkart)\n- Bug #17420: Fixed loading of column default values for MSSQL (alexkart)\n- Bug #17435: Fixed `i18n_init` migration for MSSQL (alexkart)\n\n\n2.0.22 July 02, 2019\n--------------------\n\n- Bug #16394: Fixed issues in `migrate/create` when specifying default values with colons and adding multiple columns (alexkart)\n- Bug #17057: Fixed issues with table names that contain special characters or keywords in MSSQL (alexkart)\n- Bug #17325: Fixed \"Cannot drop view\" for MySQL while `migrate/fresh` (alexkart)\n- Bug #17341: Re-added fix for error from yii.activeForm.js in strict mode (mikehaertl)\n- Bug #17384: Fixed SQL error when passing `DISTINCT ON` queries (brandonkelly)\n- Bug #17389: Fixed `UniqueValidator` to work with Active Record having `joinWith()` in its `find()` (garthpmurray)\n- Enh #17382: Added `\\yii\\validators\\DateValidator::$strictDateFormat` to enable strict validation (alexkart)\n- Enh #17396: Added 'invoked by controller' to the debug log message when `\\yii\\base\\Action` is used (alexkart)\n\n\n2.0.21 June 18, 2019\n--------------------\n\n- Bug #16565: Added missing parts of the context message in `\\yii\\log\\Target::collect` (alexkart)\n- Bug #17070: Striped invalid character from fallback file name in `Content-Disposition` header when using `\\yii\\web\\Response::sendFile` (alexkart)\n- Bug #17332: Trigger 'change' for checkboxes in GridView (andrii-borysov-me)\n- Bug #17341: Fixed error from yii.activeForm.js in strict mode (mikehaertl)\n- Bug #17341: Allowed callable objects to be set to `\\yii\\filters\\AccessRule::$roleParams` (alexkart)\n- Bug #17356: MSSQL Schema was not detecting string field size (ricarnevale, sdlins)\n- Enh #17344: Improved performance of `yii\\db\\Connection::addSelect()` (brandonkelly)\n- Enh #17345: Improved performance of `yii\\db\\Connection::quoteColumnName()` (brandonkelly)\n- Enh #17348: Improved performance of `yii\\db\\Connection::quoteTableName()` (brandonkelly)\n- Enh #17353: Added `sameSite` support for `yii\\web\\Cookie` and `yii\\web\\Session::cookieParams` (rhertogh)\n\n\n2.0.20 June 04, 2019\n--------------------\n\n- Bug #16509: Fixed console command help text wordwrap for multi-byte strings (alexkart)\n- Bug #17299: Fixed adding of input error class in `\\yii\\widgets\\ActiveField::widget` (alexkart)\n- Bug #17328: Added mime aliases for BMP and SVG files (cmoeke)\n- Bug #17336: Fixed wildcard matching in Event::hasHandlers() (samdark)\n- Bug #12080: Fixed afterValidate triggering when any validation occurs (czzplnm)\n\n\n2.0.19 May 21, 2019\n-------------------\n\n- Bug #12077, #12135, #17263: Fixed PostgreSQL version of `alterColumn()` to accept properly `ColumnSchemaBuilder` definition of column (bizley)\n- Bug #16918: Console Table widget variables visibility was changed to protected to allow extending it (samdark)\n- Bug #17233: Fixed bug with integer model attribute names in Validator class (nadar)\n- Bug #17306: Added \".mjs\" extensions to mimetypes meta (samdark)\n- Bug #17313: Support jQuery 3.4 (samdark)\n\n\n2.0.18 April 23, 2019\n---------------------\n\n- Bug #16589: Fixed not using `defaultValue` in `BlameableBehavior` for console app (evil1)\n- Bug #16820: `yii\\filters\\Cors::prepareHeaders()` now accepts Access-Control-Allow-Headers in preflight response (georgezim85)\n- Bug #17220: Fixed error when using non-InputWidget in active form field (s1lver)\n- Bug #17235: `yii\\helpers\\FileHelper::normalizePath()` now accepts stream wrappers (razvanphp)\n- Bug #17268: Fixed Formatter didn't take power into account (samdark)\n\n\n2.0.17 March 22, 2019\n---------------------\n\n- Bug #9438, #13740, #15037: Handle DB session callback custom fields before session closed (lubosdz)\n- Bug #16158: Fix multiple select validation was trigged on other fields blur event (GHopperMSK)\n- Bug #16335: Fixed in `yii\\filters\\AccessRule::matchIP()` user IP validation with netmask in rule (omentes)\n- Bug #16681: `ActiveField::inputOptions` were not used during some widgets rendering (GHopperMSK)\n- Bug #17083: Fixed `yii\\validators\\EmailValidator::$checkDNS` tells that every domain is correct on alpine linux (mikk150)\n- Bug #17124: Fixed ErrorException when run `./yii fixture/unload` without arguments (ricpelo)\n- Bug #17127: `yii\\db\\ActiveRecord::findOne()` now accepts table aliases (albertborsos)\n- Bug #17133: Fixed aliases rendering during help generation for a console command (GHopperMSK)\n- Bug #17152: Fixed error page when using traceline option (asamats)\n- Bug #17156: Fixes PHP 7.2 warning when a data provider has no data as a parameter for a GridView (evilito)\n- Bug #17180: Do not populate `yii\\web\\Response::$response` when response code is 204 (mikk150)\n- Bug #17185: Fixed `AssetManager` timestamp appending when a file is published manually (GHopperMSK)\n- Bug #17215: Improved security for servers running PHP 7.0.0+ (brandonkelly)\n\n\n2.0.16.1 February 28, 2019\n--------------------------\n\n- Bug #17089: Fixed caching of related records when `via()` using with callable (rugabarbo)\n- Bug #17094: Fixed response on 204 status. Now it is empty (GHopperMSK)\n- Bug #17098: Fixed message/extract when using message params returned from method calls (rugabarbo)\n- Bug #17150: Fixed `yii\\helpers\\BaseInflector::camel2words()` splitting `ALLCAPS` words on each letter (brandonkelly)\n- Bug #17093: Fixed regression in `DataProvider::totalCount` (samdark)\n\n\n2.0.16 January 30, 2019\n-----------------------\n\n- Bug #5341: HasMany via two relations (shirase, cebe)\n- Bug #10843: Additional hidden input rendered by `yii\\helpers\\BaseHtml` methods inherits `disabled` HTML option if provided and set to `true` (bizley)\n- Bug #11960: Fixed `checked` option ignore in `yii\\helpers\\BaseHtml::checkbox()` (misantron)\n- Bug #13932: Fix number validator attributes comparison (uaoleg, s1lver)\n- Bug #13977: Skip validation if file input does not exist (RobinKamps, s1lver)\n- Bug #14039, #16636: Fixed validation for disabled inputs (s1lver, omzy83)\n- Bug #14230: Fixed `itemsOptions` ignored in `checkBoxList` and `radioList` (s1lver)\n- Bug #14230: Fixed `itemsOptions` ignored in `checkBoxList` (s1lver)\n- Bug #14368: Added `role` attribute for active radio list (s1lver)\n- Bug #14636: Views can now use relative paths even when using themed views (sammousa)\n- Bug #14660: Fixed `yii\\caching\\DbCache` concurrency issue when set values with the same key (rugabarbo)\n- Bug #14759: Fixed `yii\\web\\JsonResponseFormatter` output for `null` data (misantron)\n- Bug #14901: Fixed trim validation for radio/checkbox button (s1lver)\n- Bug #14950: Fixed `yii\\i18n\\Formatter` methods `asInteger`, `asDecimal`, `asPercent`, and `asCurrency` outputs for very big numbers (bizley)\n- Bug #15117: Fixed `yii\\db\\Schema::getTableMetadata` cache refreshing (boboldehampsink)\n- Bug #15167: Fixed loading of default value `current_timestamp()` for MariaDB >= 10.2.3 (rugabarbo, bloodrain777, Skinka)\n- Bug #15204: `yii\\helpers\\BaseInflector::slug()` is not removing substrings matching provided replacement from given string anymore (bizley)\n- Bug #15286: Fixed incorrect formatting of time with timezone information (rugabarbo)\n- Bug #15482: AR::find()->with() missing data when using string identifiers for relations (rugabarbo)\n- Bug #15528: Fix timestamp formatting to always use decimal notation in `yii\\log\\Target::getTime()` (rob006)\n- Bug #15548: Fixed index names collision in RBAC (gonimar)\n- Bug #15683: Fixed file as array uploading in MultipartFormDataParser (Groonya)\n- Bug #15791: Added a warning when the form names conflict (s1lver, rustamwin)\n- Bug #15798: Fixed render `yii\\grid\\RadioButtonColumn::$content` and `yii\\grid\\CheckboxColumn::$content` (lesha724)\n- Bug #15802: Fixed exception class in yii\\di\\Container (vuchastyi, developeruz)\n- Bug #15826: Fixed JavaScript compareValidator in `yii.validation.js` for attributes not in rules (mgrechanik)\n- Bug #15850: check basePath is writable on publish in AssetManager (Groonya)\n- Bug #15875: afterSave for new models flushes unsaved data (shirase)\n- Bug #15876: `yii\\db\\ActiveQuery::viaTable()` now throws `InvalidConfigException`, if query is not prepared correctly (silverfire)\n- Bug #15889: Fixed override `yii\\helpers\\Html::setActivePlaceholder` (lesha724)\n- Bug #15931: `yii\\db\\ActiveRecord::findOne()` now accepts quoted table and column names using curly and square braces respectively (silverfire)\n- Bug #15988: Fixed bash completion (alekciy)\n- Bug #16006: Handle case when `X-Forwarded-Host` header have multiple hosts separated with a comma (pgaultier)\n- Bug #16010: Fixed `yii\\filters\\ContentNegotiator` behavior when GET parameters contain an array (rugabarbo)\n- Bug #16022: Fix UniqueValidator for PostgreSQL. Checks the uniqueness of keys in `jsonb` field (lav45)\n- Bug #16028: Fix serialization of complex cache keys that contain non-UTF sequences (rugabarbo)\n- Bug #16039: Fixed implicit conversion from `char` to `varbinnary` in MSSQL (vsivsivsi)\n- Bug #16068: Fixed `yii\\web\\CookieCollection::has` when an expiration param is set to 'until the browser is closed' (OndrejVasicek)\n- Bug #16073: Fixed regression in Oracle `IN` condition builder for more than 1000 items (cebe)\n- Bug #16081: Fixed composite IN using just one column (rugabarbo)\n- Bug #16091: Make `yii\\test\\InitDbFixture` work with non-SQL DBMS (cebe)\n- Bug #16101: Fixed Error Handler to clear registered meta tags, link tags, css/js scripts and files in error view (bizley)\n- Bug #16104: Fixed `yii\\db\\pgsql\\QueryBuilder::dropIndex()` to prepend index name with schema name (wapmorgan)\n- Bug #16120: FileCache: rebuild cache file before touch when different file owner (Slamdunk)\n- Bug #16183: Fixed when `yii\\helpers\\BaseFileHelper` sometimes returned wrong value (samdark, SilverFire, OndrejVasicek)\n- Bug #16184: Fixed `yii\\base\\Widget` to access `stack` property with `self` instead of `static` (yanggs07)\n- Bug #16193: Fixed `yii\\filters\\Cors` to not reflect origin header value when configured to wildcard origins (Jianjun Chen)\n- Bug #16217: Fixed `yii\\console\\controllers\\HelpController` to work well in Windows environment (samdark)\n- Bug #16245: Fixed `__isset()` in `BaseActiveRecord` not catching errors (sammousa)\n- Bug #16252: Fixed `yii\\base\\DynamicModel` for checking exist property (vuongxuongminh)\n- Bug #16253: Fixed empty checkboxlist validation (GHopperMSK)\n- Bug #16266: Fixed `yii\\helpers\\BaseStringHelper` where explode would not allow 0 as trim string (Thoulah)\n- Bug #16277: Fixed `yii\\db\\Query::from()` to respect `yii\\db\\ExpressionInterface` (noname007)\n- Bug #16278: Fixed drop existing views when console `migrate/fresh` command runs (developeruz)\n- Bug #16280: Fixed `yii\\base\\Model::getActiveValidators()` to return correct validators for attribute on scenario (paweljankowiak06)\n- Bug #16292: Fixed misconfigured CORS filter exception throwing. Now it throws `InvalidConfigException` in Debug mode (khvalov)\n- Bug #16301: Fixed `yii\\web\\User::setIdentity()` to clear access check cache while setting identity object to `null` (Izumi-kun)\n- Bug #16322: Fixed strings were not were not compared using timing attack resistant approach while CSRF token validation (samdark, Felix Wiedemann)\n- Bug #16331: Fixed console table without headers (rhertogh)\n- Bug #16377: Fixed `yii\\base\\Event:off()` undefined index error when event handler does not match (razvanphp)\n- Bug #16424: `yii\\db\\Transaction::begin()` throws now `NotSupportedException` for nested transaction and DBMS not supporting savepoints (bizley)\n- Bug #16425: Check for additional values for disabled confirm dialog (Alex-Code, s1lver)\n- Bug #16469: Allow cache to be specified as interface and to be configured in DI container (alexeevdv)\n- Bug #16490: Fix schema on rbac init (marcelodeandrade)\n- Bug #16514: Fixed `yii\\di\\Container::resolveCallableDependencies` to support callable object (wi1dcard)\n- Bug #16527: Fixed return content for `\\yii\\widgets\\ActiveForm::run()` (carono)\n- Bug #16552: Added check in `yii\\db\\ActiveQuery::prepare()` to prevent populating already populated relation when another relation is requested with `via` (drlibra)\n- Bug #16558: Added cloning `yii\\data\\ActiveDataProvider::query` property when ActiveDataProvider object is cloned (mgrechanik)\n- Bug #16580: Delete unused php message files in MessageController if `$removeUnused` option is on (Groonya)\n- Bug #16648: Html::strtolower() was corrupting UTF-8 strings (Kolyunya)\n- Bug #16657: Ensure widgets after run event result contains the result of the rendered widget (AdeAttwood)\n- Bug #16666: Fixed `yii\\helpers\\ArrayHelper::merge` (rustamwin)\n- Bug #16680: Fixed ActiveField 'text' input with maxlength (s1lver)\n- Bug #16687: Add missing translations for `nl-NL` durations used in `yii\\i18n\\Formatter::asDuration()` (alexeevdv)\n- Bug #16716: The ability to filter by pressing the Enter key when the option `$filterOnFocusOut` off (s1lver)\n- Bug #16748: Fixed params when normalize data (marcelodeandrade)\n- Bug #16752: Fix rotating files under Windows (samdark, nadirvishun)\n- Bug #16766: `yii\\filters\\ContentNegotiator` was not setting `Vary` header to inform cache recipients (koteq, cebe, samdark)\n- Bug #16822: Create config dir recursively in message/config (Groonya)\n- Bug #16828: `yii\\console\\controllers\\MessageController::translator` recognized object' methods and functions calls as identical sets of tokens (erickskrauch)\n- Bug #16836: Fix `yii\\mutex\\MysqlMutex` to handle locks with names longer than 64 characters (rob006)\n- Bug #16838: `yii\\mutex\\Mutex::acquire()` no longer returns `true` if lock is already acquired by the same component in the same process (rob006)\n- Bug #16858: Allow `\\yii\\console\\widgets\\Table` to render empty table when headers provided but no columns (damiandziaduch)\n- Bug #16891: Fixed Pagination::totalCount initialized incorrectly (taobig)\n- Bug #16897: Fixed `yii\\db\\sqlite\\Schema` missing primary key constraint detection in case of `INTEGER PRIMARY KEY` (bizley)\n- Bug #16903: Fixed 'yii\\validators\\NumberValidator' method 'isNotNumber' returns false for true/false value (annechko)\n- Bug #16910: Fix messages sorting on extract (Groonya)\n- Bug #16945: Fixed RBAC DbManager ruleName fetching on the case of PDO::ATTR_ORACLE_NULLS => PDO::NULL_TO_STRING (razonyang)\n- Bug #16959: Fixed typo in if condition inside `yii\\web\\DbSession::typecastFields()` that caused problems with session overwriting (silverfire)\n- Bug #16966: Fix ArrayExpression support in related tables (GHopperMSK)\n- Bug #16969: Fix `yii\\filters\\PageCache` incorrectly storing empty data in some cases (sammousa)\n- Bug #16974: Regular Expression Validator to include support for 'u' (UTF-8) modifier (Dzhuneyt)\n- Bug #16991: Removed usage of `utf8_encode()` from `Request::resolvePathInfo()` (GHopperMSK)\n- Bug #17021: Fix to do not remove existing message category files in a subfolder (albertborsos)\n- Bug: Fixed bad instanceof check in `yii\\db\\Schema::getTableMetadata()` (samdark)\n- Bug: (CVE-2018-14578): Fixed CSRF token check bypassing in `\\yii\\web\\Request::getMethod()` (silverfire)\n- Bug: (CVE-2018-19454): Fixed excess logging of sensitive information in `\\yii\\log\\Target` (silverfire)\n- Enh #9133: Added `yii\\behaviors\\OptimisticLockBehavior` (tunecino)\n- Enh #14289: Added `yii\\db\\Command::executeResetSequence()` to work with Oracle (CedricYii)\n- Enh #14367: In `yii\\db\\mysql\\QueryBuilder` added support fractional seconds for time types for MySQL >= 5.6.4 (konstantin-vl)\n- Enh #16151: `ActiveQuery::getTableNameAndAlias()` is now protected (s1lver)\n- Enh #16151: Change of scope for method `getTableNameAndAlias()` (s1lver)\n- Enh #16191: Enhanced `yii\\helpers\\Inflector` to work correctly with UTF-8 (silverfire)\n- Enh #16365: Added $filterOnFocusOut option for GridView (s1lver)\n- Enh #16522: Allow jQuery 3.3 (Slamdunk)\n- Enh #16603: Added `yii\\mutex\\FileMutex::$isWindows` for Windows file shares on Unix guest machines (brandonkelly)\n- Enh #16839: Increase frequency of lock tries for `yii\\mutex\\FileMutex::acquireLock()` when $timeout is provided (rob006)\n- Enh #16839: Add support for `$timeout` in  `yii\\mutex\\PgsqlMutex::acquire()` (rob006)\n- Enh: `yii\\helpers\\UnsetArrayValue`, `yii\\helpers\\ReplaceArrayValue` object now can be restored after serialization using `var_export()` function (silvefire)\n- Chg #16192: `yii\\db\\Command::logQuery()` is now protected, extracted `getCacheKey()` from `queryInternal()` (drlibra)\n- Chg #16941: Set `yii\\console\\controllers\\MigrateController::useTablePrefix` to true as default value (GHopperMSK)\n\n\n2.0.15.1 March 21, 2018\n-----------------------\n\n- Bug #15931: `yii\\db\\ActiveRecord::findOne()` now accepts column names prefixed with table name (cebe)\n\n\n2.0.15 March 20, 2018\n---------------------\n\n- Bug #15688: (CVE-2018-7269): Fixed possible SQL injection through `yii\\db\\ActiveRecord::findOne()`, `::findAll()` (analitic1983, silverfire, cebe)\n- Bug #15878: Fixed migration with a comment containing an apostrophe (MarcoMoreno)\n\n\n2.0.14.2 March 13, 2018\n-----------------------\n\n- Bug #15776: Fixed slow MySQL constraints retrieving (MartijnHols, berosoboy, sergeymakinen)\n- Bug #15783: Regenerate CSRF token only when logging in directly (samdark)\n- Bug #15792: Added missing `yii\\db\\QueryBuilder::conditionClasses` setter (silverfire)\n- Bug #15801: Fixed `has-error` CSS class assignment in `yii\\widgets\\ActiveField` when attribute name is prefixed with tabular index (FabrizioCaldarelli)\n- Bug #15804: Fixed `null` values handling for PostgresSQL arrays (silverfire)\n- Bug #15817: Fixed support of deprecated array format type casting in `yii\\db\\Command::bindValues()` (silverfire)\n- Bug #15822: Fixed `yii\\base\\Component::off()` not to throw an exception when handler does not exist (silverfire)\n- Bug #15829: Fixed JSONB support in PostgreSQL 9.4 (silverfire)\n- Bug #15836: Fixed nesting of `yii\\db\\ArrayExpression`, `yii\\db\\JsonExpression` (silverfire)\n- Bug #15839: Fixed `yii\\db\\mysql\\JsonExpressionBuilder` to cast JSON explicitly (silverfire)\n- Bug #15840: Fixed regression on load fixture data file (leandrogehlen)\n- Bug #15858: Fixed `Undefined offset` error calling `yii\\helpers\\Html::errorSummary()` with the same error messages for different model attributes (FabrizioCaldarelli, silverfire)\n- Bug #15863: Fixed saving of `null` attribute value for JSON and Array columns in MySQL and PostgreSQL (silverfire)\n- Bug: Fixed encoding of empty `yii\\db\\ArrayExpression` for PostgreSQL (silverfire)\n- Bug: Fixed table schema retrieving for PostgreSQL when the table name was wrapped in quotes (silverfire)\n\n\n2.0.14.1 February 24, 2018\n--------------------------\n\n- Bug #15318: Fixed `session_name(): Cannot change session name when session is active` errors (bscheshirwork, samdark)\n- Bug #15678: Fixed `resetForm()` method in `yii.activeForm.js` which used an undefined variable (Izumi-kun)\n- Bug #15692: Fix `yii\\validators\\ExistValidator` to respect filter when `targetRelation` is used (developeruz)\n- Bug #15693: Fixed `yii\\filters\\auth\\HttpHeaderAuth` to work correctly when pattern is set but was not matched (bboure)\n- Bug #15696: Fix magic getter for `yii\\db\\ActiveRecord` (developeruz)\n- Bug #15707: Fixed JSON retrieving from MySQL (silverfire)\n- Bug #15708: Fixed `yii\\db\\Command::upsert()` for Cubrid/MSSQL/Oracle (sergeymakinen)\n- Bug #15724: Changed shortcut in `yii\\console\\controllers\\BaseMigrateController` for `comment` option from `-c` to `-C` due to conflict (Izumi-kun)\n- Bug #15726: Fix ExistValidator is broken for NOSQL (developeruz)\n- Bug #15728, #15731: Fixed BC break in `Query::select()` method (silverfire)\n- Bug #15742: Updated `yii\\helpers\\BaseHtml::setActivePlaceholder()` to be consistent with `activeLabel()` (edwards-sj)\n- Enh #15716: Added `disableJsonSupport` to MySQL and PgSQL `ColumnSchema`, `disableArraySupport` and `deserializeArrayColumnToArrayExpression` to PgSQL `ColumnSchema` (silverfire)\n- Enh #15716: Implemented `\\Traversable` in `yii\\db\\ArrayExpression` (silverfire)\n- Enh #15760: Added `ArrayAccess` support as validated value in `yii\\validators\\EachValidator` (silverfire)\n\n\n2.0.14 February 18, 2018\n------------------------\n\n- Bug #8983: Only truncate the original log file for rotation (matthewyang, developeruz)\n- Bug #9342: Fixed `yii\\db\\ActiveQueryTrait` to apply `indexBy` after relations population in order to prevent excess queries (sammousa, silverfire)\n- Bug #11401: Fixed `yii\\web\\DbSession` concurrency issues when writing and regenerating IDs (samdark, andreasanta, cebe)\n- Bug #13034: Fixed `normalizePath` for windows network shares that start with two backslashes (developeruz)\n- Bug #14135: Fixed `yii\\web\\Request::getBodyParam()` crashes on object type body params (klimov-paul)\n- Bug #14157: Add support for loading default value `CURRENT_TIMESTAMP` of MySQL `datetime` field (rossoneri)\n- Bug #14276: Fixed I18N format with dotted parameters (developeruz)\n- Bug #14296: Fixed log targets to throw exception in case log can not be properly exported (bizley)\n- Bug #14484: Fixed `yii\\validators\\UniqueValidator` for target classes with a default scope (laszlovl, developeruz)\n- Bug #14604: Fixed `yii\\validators\\CompareValidator` `compareAttribute` does not work if `compareAttribute` form ID has been changed (mikk150)\n- Bug #14711: (CVE-2018-6010): Fixed `yii\\web\\ErrorHandler` displaying exception message in non-debug mode (samdark)\n- Bug #14811: Fixed `yii\\filters\\HttpCache` to work with PHP 7.2 (samdark)\n- Bug #14859: Fixed OCI DB `defaultSchema` failure when `masterConfig` is used (lovezhl456)\n- Bug #14903: Fixed route with extra dashes is executed controller while it should not (developeruz)\n- Bug #14916: Fixed `yii\\db\\Query::each()` iterator key starts from 1 instead of 0 (Vovan-VE)\n- Bug #14980: Fix looping in `yii\\i18n\\MessageFormatter` tokenize pattern if pattern is invalid (uaoleg, developeruz)\n- Bug #15031: Fixed incorrect string type length detection for OCI DB schema (Murolike)\n- Bug #15046: Throw an `yii\\web\\HeadersAlreadySentException` if headers were sent before web response (dmirogin)\n- Bug #15122: Fixed `yii\\db\\Command::getRawSql()` to properly replace expressions (hiscaler, samdark)\n- Bug #15142: Fixed array params replacing in `yii\\helpers\\BaseUrl::current()` (IceJOKER)\n- Bug #15169: Fixed translating a string when NULL parameter is passed (developeruz)\n- Bug #15194: Fixed `yii\\db\\QueryBuilder::insert()` to preserve passed params when building a `INSERT INTO ... SELECT` query for MSSQL, PostgreSQL and SQLite (sergeymakinen)\n- Bug #15229: Fixed `yii\\console\\widgets\\Table` default value for `getScreenWidth()`, when `Console::getScreenSize()` can't determine screen size (webleaf)\n- Bug #15234: Fixed `\\yii\\widgets\\LinkPager` removed `tag` from `disabledListItemSubTagOptions` (SDKiller)\n- Bug #15249: Controllers in subdirectories were not visible in commands list (IceJOKER)\n- Bug #15270: Resolved potential race conditions when writing generated php-files (kalessil)\n- Bug #15300: Fixed \"Cannot read property 'style' of undefined\" error at the error screen (vitorarantes)\n- Bug #15301: Fixed `ArrayHelper::filter()` to work properly with `0` in values (hhniao)\n- Bug #15302: Fixed `yii\\caching\\DbCache` so that `getValues` now behaves the same as `getValue` with regards to streams (edwards-sj)\n- Bug #15317: Regenerate CSRF token if an empty value is given (sammousa)\n- Bug #15320: Fixed special role checks in `yii\\filters\\AccessRule::matchRole()` (Izumi-kun)\n- Bug #15322: Fixed PHP 7.2 compatibility of `FileHelper::getExtensionsByMimeType()` (samdark)\n- Bug #15353: Remove side effect of ActiveQuery::getTablesUsedInFrom() introduced in 2.0.13 (terales)\n- Bug #15355: Fixed `yii\\db\\Query::from()` does not work with `yii\\db\\Expression` (vladis84, silverfire, samdark)\n- Bug #15356: Fixed multiple bugs in `yii\\db\\Query::getTablesUsedInFrom()` (vladis84, samdark)\n- Bug #15380: `FormatConverter::convertDateIcuToPhp()` now converts `a` ICU symbols to `A` (brandonkelly)\n- Bug #15407: Fixed rendering rows with associative arrays in `yii\\console\\widgets\\Table` (dmrogin)\n- Bug #15432: Fixed wrong value being set in `yii\\filters\\RateLimiter::checkRateLimit()` resulting in wrong `X-Rate-Limit-Reset` header value (bizley)\n- Bug #15440: Fixed `yii\\behaviors\\AttributeTypecastBehavior::$attributeTypes` auto-detection fails for rule, which specify attribute with '!' prefix (klimov-paul)\n- Bug #15462: Fixed `accessChecker` configuration error (developeruz)\n- Bug #15494: Fixed missing `WWW-Authenticate` header (developeruz)\n- Bug #15522: Fixed `yii\\db\\ActiveRecord::refresh()` method does not use an alias in the condition (vladis84)\n- Bug #15523: `yii\\web\\Session` settings could now be configured after session is started (StalkAlex, rob006, daniel1302, samdark)\n- Bug #15536: Fixed `yii\\widgets\\ActiveForm::init()` for call `parent::init()` (panchenkodv)\n- Bug #15540: Fixed `yii\\db\\ActiveRecord::with()` unable to use relation defined via attached behavior in case `asArray` is enabled (klimov-paul)\n- Bug #15553: Fixed `yii\\validators\\NumberValidator` incorrectly validate resource (developeruz)\n- Bug #15621: Fixed `yii\\web\\User::getIdentity()` returning `null` if an exception had been thrown when it was called previously (brandonkelly)\n- Bug #15628: Fixed `yii\\validators\\DateValidator` to respect time when the `format` property is set to UNIX Epoch format (silverfire, gayHacker)\n- Bug #15644: Avoid wrong default selection on a dropdown, checkbox list, and radio list, when a option has a key equals to zero (berosoboy)\n- Bug #15658: Fixed `yii\\filters\\auth\\HttpBasicAuth` not to switch identity, when user is already authenticated and identity does not get changed (silverfire)\n- Bug #15662: Fixed `yii\\log\\FileTarget` not to create log directory during init process (alexeevdv)\n- Enh #3087: Added `yii\\helpers\\BaseHtml::error()` \"errorSource\" option to be able to customize errors display (yanggs07, developeruz, silverfire)\n- Enh #3250: Added support for events partial wildcard matching (klimov-paul)\n- Enh #5515: Added default value for `yii\\behaviors\\BlameableBehavior` for cases when the user is guest (dmirogin)\n- Enh #6844: `yii\\base\\ArrayableTrait::toArray()` now allows recursive `$fields` and `$expand` (bboure)\n- Enh #7640: Implemented custom data types support. Added JSON support for MySQL and PostgreSQL, array support for PostgreSQL (silverfire, cebe)\n- Enh #7988: Added `\\yii\\helpers\\Console::errorSummary()` and `\\yii\\helpers\\Json::errorSummary()` (developeruz)\n- Enh #7996: Short syntax for verb in GroupUrlRule (schojniak, developeruz)\n- Enh #8092: ExistValidator for relations (developeruz)\n- Enh #8527: Added `yii\\i18n\\Locale` component having `getCurrencySymbol()` method (amarox, samdark)\n- Enh #8752: Allow specify `$attributeNames` as a string for `yii\\base\\Model` `validate()` method (developeruz)\n- Enh #9137: Added `Access-Control-Allow-Method` header for the OPTIONS request (developeruz)\n- Enh #9253: Allow `variations` to be a string for `yii\\filters\\PageCache` and `yii\\widgets\\FragmentCache` (schojniak, developeruz)\n- Enh #9771: Assign hidden input with its own set of HTML options via `$hiddenOptions` in activeFileInput `$options` (HanafiAhmat)\n- Enh #10186: Use native `hash_equals` in `yii\\base\\Security::compareString()` if available, throw exception if non-strings are compared (aotd1, samdark)\n- Enh #11611: Added `BetweenColumnsCondition` to build SQL condition like `value BETWEEN col1 and col2` (silverfire)\n- Enh #12623: Added `yii\\helpers\\StringHelper::matchWildcard()` replacing usage of `fnmatch()`, which may be unreliable (klimov-paul)\n- Enh #13019: Support JSON in SchemaBuilderTrait (zhukovra, undefinedor)\n- Enh #13425: Added caching of dynamically added URL rules with `yii\\web\\UrlManager::addRules()` (scriptcube, silverfire)\n- Enh #13465: Added `yii\\helpers\\FileHelper::findDirectories()` method (ArsSirek, developeruz)\n- Enh #13618: Active Record now resets related models after corresponding attributes updates (Kolyunya, rob006)\n- Enh #13679: Added `yii\\behaviors\\CacheableWidgetBehavior` (Kolyunya)\n- Enh #13814: MySQL unique index names can now contain spaces (df2)\n- Enh #13879: Added upsert support for `yii\\db\\QueryBuilder`, `yii\\db\\Command`, and `yii\\db\\Migration` (sergeymakinen)\n- Enh #13919: Added option to add comment for created table to migration console command (mixartemev, developeruz)\n- Enh #13996: Added `yii\\web\\View::registerJsVar()` method that allows registering JavaScript variables (Eseperio, samdark)\n- Enh #14043: Added `yii\\helpers\\IpHelper` (silverfire, cebe)\n- Enh #14254: add an option to specify whether validator is forced to always use master DB for `yii\\validators\\UniqueValidator` and `yii\\validators\\ExistValidator` (rossoneri, samdark)\n- Enh #14355: Added ability to pass an empty array as a parameter in console command (developeruz)\n- Enh #14488: Added support for X-Forwarded-Host to `yii\\web\\Request`, fixed `getServerPort()` usage (si294r, samdark)\n- Enh #14538: Added `yii\\behaviors\\AttributeTypecastBehavior::typecastAfterSave` property (littlefuntik, silverfire)\n- Enh #14546: Added `dataDirectory` property into `BaseActiveFixture` (leandrogehlen)\n- Enh #14568: Refactored migration templates to use `safeUp()` and `safeDown()` methods (Kolyunya)\n- Enh #14638: Added `yii\\db\\SchemaBuilderTrait::tinyInteger()` (rob006)\n- Enh #14643: Added `yii\\web\\ErrorAction::$layout` property to conveniently set layout from error action config (swods, cebe, samdark)\n- Enh #14662: Added support for custom `Content-Type` specification to `yii\\web\\JsonResponseFormatter` (Kolyunya)\n- Enh #14732, #11218, #14810, #10855: It is now possible to pass `yii\\db\\Query` anywhere, where `yii\\db\\Expression` was supported (silverfire)\n- Enh #14806: Added $placeFooterAfterBody option for GridView (terehru)\n- Enh #15024: `yii\\web\\Pjax` widget does not prevent CSS files from sending anymore because they are handled by client-side plugin correctly (onmotion)\n- Enh #15047: `yii\\db\\Query::select()` and `yii\\db\\Query::addSelect()` now check for duplicate column names (wapmorgan)\n- Enh #15076: Improve `yii\\db\\QueryBuilder::buildColumns()` to throw exception on invalid input (hiscaler)\n- Enh #15120: Refactored dynamic caching introducing `DynamicContentAwareInterface` and `DynamicContentAwareTrait` (sergeymakinen)\n- Enh #15135: Automatic completion for help in bash and zsh (Valkeru)\n- Enh #15216: Added `yii\\web\\ErrorHandler::$traceLine` to allow opening file at line clicked in IDE (vladis84)\n- Enh #15219: Added `yii\\filters\\auth\\HttpHeaderAuth` (bboure)\n- Enh #15221: Added support for specifying `--camelCase` console options in `--kebab-case` (brandonkelly)\n- Enh #15221: Added support for the `--<option> <value>` console option syntax (brandonkelly)\n- Enh #15221: Improved the `help/list-action-options` console command output for command options without a description (brandonkelly)\n- Enh #15226: Auto generate placeholder from fields (vladis84)\n- Enh #15272: Removed type attribute from script tag (aleksbelic)\n- Enh #15332: Always check for availability of `openssl_pseudo_random_bytes`, even if LibreSSL is available (sammousa)\n- Enh #15335: Added `FileHelper::unlink()` that works well under all OSes (samdark)\n- Enh #15340: Test CHANGELOG.md for valid format (sammousa)\n- Enh #15347: Add `Instance` support for object property in DI container (kojit2009)\n- Enh #15357: Added multi statement support for `yii\\db\\sqlite\\Command` (sergeymakinen)\n- Enh #15360: Refactored `BaseConsole::updateProgress()` (developeruz)\n- Enh #15398: Added `yii\\db\\Query::cache()` (hubeiwei, silverfire)\n- Enh #15415: Added transaction/retry support for `yii\\db\\Command` (sergeymakinen)\n- Enh #15417: Added `yii\\validators\\FileValidator::$minFiles` (vladis84)\n- Enh #15422: Added default roles dynamic definition support via closure for `yii\\rbac\\BaseManager` (deltacube)\n- Enh #15426: Added abilitiy to create and drop database views (igravity, vladis84)\n- Enh #15476: Added `\\yii\\widgets\\ActiveForm::$validationStateOn` to be able to specify where to add class for invalid fields (samdark)\n- Enh #15496: (CVE-2018-6009): CSRF token is now regenerated on changing identity (samdark, rhertogh)\n- Enh #15595: `yii\\data\\DataFilter` can now handle `lt`,`gt`,`lte` and `gte` on `yii\\validators\\DateValidator` (mikk150)\n- Enh #15661: Added `yii\\db\\ExpressionInterface` support to `yii\\db\\Command::batchInsert()` (silverfire)\n- Enh: Added check to `yii\\base\\Model::formName()` to prevent source path disclosure when form is represented by an anonymous class (silverfire)\n- Chg #15420: Handle OPTIONS request in `yii\\filter\\Cors` so the preflight check isn't passed trough authentication filters (michaelarnauts, leandrogehlen)\n- Chg #15625: `yii\\grid\\DataColumn` boolean filter dropdown list values are now in reversed order (bizley)\n- Chg #15633: Deprecated `yii\\base\\BaseObject::className()` in favor of native PHP syntax `::class`, which does not trigger autoloading (brandonkelly)\n- Chg #15633: Deprecated XCache and Zend data cache support as caching backends (brandonkelly)\n- Chg #15633: Deprecated `yii\\BaseYii::powered()` method (brandonkelly)\n- Chg #15633: Added `yii\\base\\InvalidArgumentException` and deprecated `yii\\base\\InvalidParamException` (brandonkelly)\n- Chg #15633: Added `yii\\BaseYii::debug()` and deprecated `yii\\BaseYii::trace()` (brandonkelly)\n\n\n2.0.13.1 November 14, 2017\n--------------------------\n\n- Bug #15081: Fixed \"Undefined offset: 1\" in log Target (ischenko)\n- Bug #15086: Fixed jQuery onLoad event handling (alexantr)\n- Bug #15108: Fixed `yii\\db\\Schema::getSchemaNames()` for MSSQL and added tests for all DBMSes (sergeymakinen)\n- Bug #15117: Fixed DB schema cache did not honor table prefixes (sergeymakinen)\n\n\n2.0.13 November 03, 2017\n------------------------\n\n- Bug #6226: Fix fatal symlink error during assets publishing in multi threaded environment (dynasource)\n- Bug #6526: Fixed `yii\\db\\Command::batchInsert()` casting of double values correctly independent of the locale (cebe, leammas)\n- Bug #6588: Fixed changing array keys after validation of multiple files in `yii\\validators\\FileValidator` (developeruz)\n- Bug #7890: Allow `migrate/mark` to mark history at the point of the base migration (cebe)\n- Bug #11242: Fixed excess escaping in `yii\\db\\Command::batchInsert()` (silverfire)\n- Bug #11825: User can login by cookie only once when `autoRenewCookie` is set to false (shirase, silverfire)\n- Bug #12860: Fixed possible race conditions in `yii\\mutex\\FileMutex` (kidol)\n- Bug #13258: Fixed `yii\\mutex\\FileMutex::$autoRelease` having no effect due to missing base class initialization (kidol)\n- Bug #13436: Fixed migration for MSSQL DbSession (silverfire)\n- Bug #13564: Fixed `yii\\web\\Request::getAuthUser()`, `getAuthPassword()` to respect `HTTP_AUTHORIZATION` request header (silverfire)\n- Bug #13720: Improve `yii\\helpers\\FormatConverter::convertDatePhpToIcu()` to handle escaped chars correctly (rob006)\n- Bug #13757: Fixed ambiguous column error in `BaseActiveRecord::refresh()` when the query adds a JOIN by default (cebe, ivankff)\n- Bug #13779: Fixed `yii\\db\\ActiveRecord::joinWith()` unable to use relation defined via attached behavior (ElisDN, klimov-paul)\n- Bug #13859: Fixed ambiguous column error in `Query::column()` when `$indexBy` is used with a JOIN (cebe)\n- Bug #13969: Fixed a bug in a `yii\\console\\controllers\\CacheController` when caches defined via a closure were not detected (Kolyunya)\n- Bug #14016: Fixed empty messages marked as unused in PHP and PO sources when extracted with message command when `markUnused` is `false` (samdark)\n- Bug #14129: Fixed console help to properly work with tricky camelcased controller names (samdark, silverfire)\n- Bug #14134: Fixed multiple `validateAttribute()` calls when `scenarios()` returns duplicate attributes (krukru)\n- Bug #14165: Set `_slave` of `Connection` to `false` instead of `null` in `close` method (rossoneri)\n- Bug #14186: Forced validation in `yiiActiveForm` do not trigger `afterValidate` event (arogachev)\n- Bug #14192: Fixed wrong default null value for TIMESTAMP when using PostgreSQL (Tigrov)\n- Bug #14202: Fixed current time in (UTC) `\\Yii::$app->formatter` if time not set (bscheshirwork)\n- Bug #14206: `MySqlMutex`, `PgsqlMutex` and `OracleMutex` now use `useMaster()` to ensure lock is aquired on the same DB server (cebe, ryusoft)\n- Bug #14248: `yii\\console\\controllers\\MessageController` no longer outputs colorized filenames when console does not support text colorization (PowerGamer1)\n- Bug #14264: Fixed a bug where `yii\\log\\Logger::calculateTimings()` was not accepting messages with array tokens (bizley)\n- Bug #14269: Fixed broken error page when calling an undefined method (cebe)\n- Bug #14304: Fixed `yii\\validators\\UniqueValidator` and `yii\\validators\\ExistValidator` to skip prefixes in case expressions are used (samdark)\n- Bug #14307: Fixed PHP warning when `yii\\console\\UnknownCommandException` is thrown for empty command (rob006)\n- Bug #14318: Trigger `yiiActiveForm.events.afterValidateAttribute` after updating attribute  (dmirogin)\n- Bug #14334: Fixed `\\yii\\db\\QueryBuilder::buildNotCondition` loses params when operand is `\\yii\\db\\Expression` (Ni-san)\n- Bug #14341: Fixed regression in error handling introduced by fixing #14264 (samdark)\n- Bug #14370: Fixed creating built-in validator in model with same function name (dmirogin)\n- Bug #14406: Fixed caching rules in `yii\\web\\UrlManager` with different ruleConfig configuration (dmirogin)\n- Bug #14423: Fixed `ArrayHelper::merge` behavior with null values for integer-keyed elements (dmirogin)\n- Bug #14449: Fix PHP 7.2 compatibility bugs and add explicit closure support in `yii\\base\\Application` (dynasource)\n- Bug #14471: `ContentNegotiator` will always set one of the configured server response formats even if the client does not accept any of them (PowerGamer1)\n- Bug #14492: Fixed error handler not escaping error info in debug mode, see CVE-2017-11516 (samdark)\n- Bug #14493: Fixed getting permissions in `yii\\rbac\\Dbmanger::getPermissionsByUser` by user with id equals 0 (dmirogin)\n- Bug #14510: The state of a form is always \"not validated\" when using forced validation in `yiiActiveForm` (arogachev)\n- Bug #14523: Added `yii\\web\\MultipartFormDataParser::$force` option allowing to enforce parsing even on 'POST' request (klimov-paul)\n- Bug #14525: Fixed 2.0.12 regression of loading of global fixtures trough `yii fixture/load` (michaelarnauts)\n- Bug #14533: Fixed `yii\\validators\\ExistValidator` and `yii\\validators\\UniqueValidator` throw exception in case they are set for `yii\\db\\ActiveRecord` with `$targetClass` pointing to NOSQL ActiveRecord (klimov-paul)\n- Bug #14542: Ensured only ASCII characters are in CSRF cookie value since binary data causes issues with ModSecurity and some browsers (samdark)\n- Bug #14543: Throw exception when trying to create migration longer than 180 symbols (dmirogin, cebe)\n- Bug #14596: Fix event call on init in `yii\\widgets\\BaseListView` (panchenkodv)\n- Bug #14697: Fixed `console\\widgets\\Table` rendering when there's no data supplied (bscheshirwork)\n- Bug #14723: Fixed serialization of `yii\\db\\Connection` instance closes database connection (klimov-paul)\n- Bug #14773: Fixed `yii\\widgets\\ActiveField::$options` does not support 'class' option in array format (klimov-paul)\n- Bug #14902: Fixed PHP notice in `yii\\web\\MultipartFormDataParser` (olimsaidov)\n- Bug #14921: Fixed bug with replacing numeric keys in `yii\\helpers\\Url::current()` (rob006)\n- Enh #4479: Implemented REST filters (klimov-paul)\n- Enh #4495:  Added closure support in `yii\\i18n\\Formatter` (developeruz)\n- Enh #5786: Allowed to use custom constructors in ActiveRecord-based classes (ElisDN, klimov-paul)\n- Enh #6644: Added `yii\\helpers\\ArrayHelper::setValue()` (LAV45)\n- Enh #7823: Added `yii\\filters\\AjaxFilter` filter (dmirogin)\n- Enh #9438: `yii\\web\\DbSession` now relies on error handler to display errors (samdark)\n- Enh #9703, #9709: Added `yii\\i18n\\Formatter::asWeight()` and `::asLength()` formatters (nineinchnick, silverfire)\n- Enh #11415: Added `yii\\console\\widgets\\Table` to draw tables in console apps (pana1990, rob006, samdark, tonykor)\n- Enh #13254: Made `yii\\helpers\\StringHelper` and `yii\\validators\\StringValidator` independent of `Yii::$app` instance (cebe)\n- Enh #13378: Added `yii\\behaviors\\SluggableBehaviour::skipOnEmpty` option (andrewnester)\n- Enh #13403: Added 'permissions' additionally to 'roles' in `yii\\filters\\AccessRule` in order to be able to specify these separately (thyseus)\n- Enh #13486: Use DI container to instantiate cookies in order to be able to set defaults (samdark)\n- Enh #13586: Added `$preserveNonEmptyValues` property to the `yii\\behaviors\\AttributeBehavior` (Kolyunya)\n- Enh #13780: Added support for trusted proxies in `yii\\web\\Request` (sammousa, cebe, silverfire)\n- Enh #13787: Added `yii\\db\\Migration::$maxSqlOutputLength` that allows limiting number of characters for outputting SQL (thiagotalma)\n- Enh #13824: Support extracting concatenated strings in `yii message` (developeruz)\n- Enh #13835: Added `yii\\web\\Request::getOrigin()` method that returns `HTTP_ORIGIN` of current CORS request (yyxx9988)\n- Enh #13853: Added `yii\\db\\Migration::$compact` as well as `yii\\console\\controllers\\BaseMigrateController::$compact` to allow making the migration console output more compact (francislavoie)\n- Enh #14022: `yii\\web\\UrlManager::setBaseUrl()` now supports aliases (dmirogin)\n- Enh #14061: Added request scope assignments cache to `yii\\rbac\\DbManager::checkAccess()` to avoid duplicate queries for user assignments (leandrogehlen, cebe, nineinchnick, ryusoft)\n- Enh #14081: Added `yii\\caching\\CacheInterface` to make custom cache extensions adoption easier (silverfire)\n- Enh #14087: Added `yii\\web\\View::registerCsrfMetaTags()` method that registers CSRF tags dynamically ensuring that caching doesn't interfere (RobinKamps)\n- Enh #14089: Added tests for `yii\\base\\Theme` (vladis84)\n- Enh #14105: Implemented a solution for retrieving DBMS constraints in `yii\\db\\Schema` (sergeymakinen)\n- Enh #14126: Added variadic parameters support to DI container (SamMousa)\n- Enh #14151: Added `yii\\behaviors\\AttributesBehavior` that assigns values specified to one or multiple attributes of an AR object when certain events happen (bscheshirwork)\n- Enh #14184: Module service locator now falls back to its parent module service locator in case component isn't found (SamMousa)\n- Enh #14188: Add constants and function for sysexits(3) to `ConsoleHelper` (tom--, samdark, cebe)\n- Enh #14273: `yii\\log\\Target::$enabled` now supports callable value (dmirogin)\n- Enh #14294: Added `InputWidget::renderInput()` to move behavior described in `InputWidget` class docs to the class itself (cebe)\n- Enh #14298: The default response formatter configs defined by `yii\\web\\Response::defaultFormatters()` now use the array syntax (brandonkelly)\n- Enh #14363: Added `yii\\widgets\\LinkPager::$linkContainerOptions` and possibility to override tag in `yii\\widgets\\LinkPager::$options` (dmirogin)\n- Enh #14389: Optimize `Validator::validateAttributes()` by calling `attributeNames()` only once (nicdnep)\n- Enh #14417: Added configuration for headers in PHP files generated by `message/extract` command (rob006)\n- Enh #14431: Moved `ActiveQuery::getTablesUsedInFrom()` to `Query` to make the functionality available on the lower layer (cebe)\n- Enh #14620: Updated `yii.activeForm.js` and `yii\\web\\View` to jQuery 3.0 compatible API (silverfire)\n- Enh #14633: Add miliseconds to log time in `\\yii\\log\\Target` (Ni-san)\n- Enh #14664: Add migrate/fresh command to truncate database and apply migrations again (thyseus)\n- Enh #14765: RBAC: add index on `user_id` column in `auth_assignment` table for performance reasons (bicf)\n- Enh #14864: Ability to use dependencies in constructor of migrations (vtvz)\n- Enh #14877: Disabled profiling on connection opening when profiling is disabled (njasm)\n- Enh #14913: Assset hashing now takes asset linking into account to improve cache busting (schmunk42)\n- Enh #14929: Ensure trailing `;` on combining files with `asset` command to fix compiler failures (tanakahisateru)\n- Enh #14958: Added options to copy stacktrace and search for error message to the exception page (cebe)\n- Enh #14967: Added Armenian Translations (gevorgmansuryan)\n- Enh #15015: Added `StringHelper::floatToString()` to safely cast float values independent of the locale, also fixes some places in the framework that use it now (cebe)\n- Chg #7936: Deprecate `yii\\base\\Object` in favor of `yii\\base\\BaseObject` for compatibility with PHP 7.2 (rob006, cebe, klimov-paul)\n- Chg #14201: `yii\\console\\controllers\\MessageController::extractMessagesFromTokens()` is now protected (faenir)\n- Chg #14286: Used primary inputmask package name instead of an alias (samdark)\n- Chg #14321: `yii\\widgets\\MaskedInput` is now registering its JavaScript `clientOptions` initialization code in head section (DaveFerger)\n- Chg #14487: Changed i18n message error to warning (dmirogin)\n\n\n2.0.12 June 05, 2017\n--------------------\n\n- Bug #4408: Add support for unicode word characters and `+` character in attribute names (sammousa, kmindi)\n- Bug #5442: Fixed problem on load fixture dependencies with database related tests (leandrogehlen)\n- Bug #7946: Fixed a bug when the `form` attribute was not propagated to the hidden input of the checkbox (Kolyunya)\n- Bug #8120: Fixes LIKE special characters escaping for Cubrid/MSSQL/Oracle/SQLite in `yii\\db\\QueryBuilder` (sergeymakinen)\n- Bug #9669: AssetManager and `FileHelper::copyDirectory()` were copying empty directories when using `only` or `except` options. Added an option to disable this (cebe)\n- Bug #10305: Oracle SQL queries with `IN` condition and more than 1000 parameters are working now (silverfire)\n- Bug #10346: Fixed \"DOMException: Invalid Character Error\" in `yii\\web\\XmlResponseFormatter::buildXml()` (sasha-ch)\n- Bug #10372: Fixed console controller including complex typed arguments in help (sammousa)\n- Bug #11230: Include `defaultRoles` in `yii\\rbac\\DbManager->getRolesByUser()` results (developeruz)\n- Bug #11404: `yii\\base\\Model::loadMultiple()` returns true even if `yii\\base\\Model::load()` returns false (zvook)\n- Bug #11719: Fixed `yii\\db\\Connection::$enableQueryCache` caused infinite loop when the same connection was used for `yii\\caching\\DbCache` (michaelarnauts)\n- Bug #12715: Exception `SAVEPOINT LEVEL1 does not exist` instead of deadlock exception (Vovan-VE)\n- Bug #13058: Fixed caught exception thrown during view file rendering produces wrong output (klimov-paul)\n- Bug #13086, #13656: Fixed bug with optional parameters at the beginning of pattern in `yii\\web\\UrlRule` (rob006)\n- Bug #13087: Fixed getting active validators for safe attribute (developeruz, klimov-paul)\n- Bug #13306: Wildcard in `reloadableScripts` in `yii.js` allows 0 characters (arogachev)\n- Bug #13340: Fixed `yii\\db\\Connection::useMaster()` - exception within callback completely disables slaves (Vovan-VE)\n- Bug #13343: Fixed `yii\\i18n\\Formatter::asTime()` to process time-only values without time zone conversion (bizley)\n- Bug #13350: Fixed bug with incorrect caching of `yii\\web\\UrlRule::createUrl()` results in `yii\\web\\UrlManager` (rob006)\n- Bug #13362: Fixed return value of `yii\\caching\\MemCache::setValues()`  (masterklavi)\n- Bug #13379: Fixed `applyFilter()` function in `yii.gridView.js` to work correctly when params in `filterUrl` are indexed (SilverFire, arogachev)\n- Bug #13418: Fixed `QueryBuilder::batchInsert()` if `$rows` is `\\Generator` (lav45)\n- Bug #13494: Fixed `yii\\console\\controllers\\MessageConstroller::saveMessagesToDb()` to work on different DBMS correctly (silverfire)\n- Bug #13513: Fixed RBAC migration to work correctly on Oracle DBMS (silverfire)\n- Bug #13537: Fixed `yii\\web\\CacheSession::destroySession()` to work correctly when session is not written yet (silverfire, papalapa)\n- Bug #13538: Fixed `yii\\db\\BaseActiveRecord::deleteAll()` changes method signature declared by `yii\\db\\ActiveRecordInterface::deleteAll()` (klimov-paul)\n- Bug #13551: Fixed `FixtureController` to load fixtures from subdirectories (d1rtyf1ng3rs, silverfire)\n- Bug #13571: Fix `yii\\db\\mssql\\QueryBuilder::checkIntegrity` for all tables (boboldehampsink)\n- Bug #13577: `yii\\db\\QueryBuilder::truncateTable` should work consistent over all databases (boboldehampsink)\n- Bug #13582: PK column in `yii\\db\\pgsql\\QueryBuilder::resetSequence()` was not quoted properly (boboldehampsink)\n- Bug #13592: Fixes `yii\\db\\oci\\Schema::setTransactionIsolationLevel()` in Oracle (sergeymakinen)\n- Bug #13594: Fixes insufficient quoting in `yii\\db\\QueryBuilder::prepareInsertSelectSubQuery()` (sergeymakinen)\n- Bug #13649: Fixes issue where `['uncheck' => false]` and `['label' => false]` options for `ActiveRadio` and `ActiveCheckbox` were ignored (Alex-Code)\n- Bug #13657: Fixed `yii\\helpers\\StringHelper::truncateHtml()` skip extra tags at the end (sam002)\n- Bug #13670: Fixed alias option from console when it includes `-` or `_` in option name (pana1990)\n- Bug #13671: Fixed error handler trace to work correctly with XDebug (samdark)\n- Bug #13689: Fixed handling of errors in closures (mikehaertl)\n- Bug #13694: `yii\\widgets\\Pjax` now sends `X-Pjax-Url` header with response to fix redirect (wleona3, Faryshta)\n- Bug #13704: Fixed `yii\\validators\\UniqueValidator` to prefix attribute name with model's database table name (vladis84)\n- Bug #13707: Fixed `yii\\web\\ErrorHandler` and `yii\\web\\ErrorAction` not setting correct response code to response object before rendering error view (samdark)\n- Bug #13728: Fixed the bug when `yii\\behaviors\\SluggableBehavior` wasn't preserving immutable slug values (Kolyunya)\n- Bug #13738: Fixed `getQueryParams()` method in `yii.js` to correctly parse URL with question mark and no query parameters (vladdnepr)\n- Bug #13776: Fixed setting precision and scale for decimal columns in MSSQL (arturf)\n- Bug #13790: Fixed error in `\\yii\\widgets\\MaskedInput` JavaScript by raising version required (samdark)\n- Bug #13807: Fixed `yii\\db\\QueryBuilder` to inherit subquery params when building a `INSERT INTO ... SELECT` query (sergeymakinen)\n- Bug #13842: Fixed ambiguous table SQL error while using `yii\\validators\\ExistValidator` and `yii\\validators\\UniqueValidator` (vladis84, samdark)\n- Bug #13846: Fixed `Query::count()` issue with `orderBy` (Alex-Code)\n- Bug #13848: `yii\\di\\Instance::ensure()` wasn't throwing an exception when `$type` is specified and `$reference` object isn't instance of `$type` (c-jonua)\n- Bug #13890: `yii\\log\\DbTarget` log messages where not written when a database transaction was rolled back, added support for cloning a `yii\\db\\Connection` (shirase, cebe)\n- Bug #13901: Fixed passing unused parameter to `formatMessage()` call in `\\yii\\validators\\IpValidator` (Kolyunya)\n- Bug #13961: Fixed `unserialize()` error during RBAC rule retrieving from PostgreSQL DBMS (vsguts, nanodesu88, cebe)\n- Bug #14012: `yii\\db\\pgsql\\Schema::findViewNames()` was skipping materialized views (insolita)\n- Bug #14033: Fixed `yii\\filters\\AccessRule::matchIp()` erroring in case IP is not defined under HHVM (Kolyunya)\n- Bug #14042: Fixed ambiguous column name in SELECT in UniqueValidator (cebe)\n- Bug #14052: Fixed processing parse errors on PHP 7 since these are instances of `\\ParseError` (samdark)\n- Bug #14072: Fixed a bug where `\\yii\\db\\Command::createTable()`, `addForeignKey()`, `dropForeignKey()`, `addCommentOnColumn()`, and `dropCommentFromColumn()` weren't refreshing the table cache on `yii\\db\\Schema` (brandonkelly)\n- Bug #14074: Fixed default value of `yii\\console\\controllers\\FixtureController::$globalFixtures` to contain valid class name (lynicidn)\n- Bug #14094: Fixed bug when single `yii\\web\\UrlManager::createUrl()` call my result multiple calls of `yii\\web\\UrlRule::createUrl()` for the same rule (rossoneri)\n- Bug #14133: Fixed bug when calculating timings with mixed nested profile begin and end in `yii\\log\\Logger::calculateTimings()` (bizley)\n- Enh #4793: `yii\\filters\\AccessControl` now can be used without `user` component (bizley)\n- Enh #4999: Added support for wildcards at `yii\\filters\\AccessRule::$controllers` (klimov-paul)\n- Enh #5108: `yii\\validators\\DateValidator` now resets `$timestampAttribute` value on empty validated attribute value (klimov-paul)\n- Enh #8426: `yii\\filters\\AccessRule` now allows passing parameters to the role checking function (fsateler, cebe, Faryshta)\n- Enh #8641: Enhanced `yii\\console\\Request::resolve()` to prevent passing parameters, that begin from digits (silverfire)\n- Enh #11288: Added support for caching of `yii\\web\\UrlRule::createUrl()` results in `yii\\web\\UrlManager` for rules with defaults (rob006)\n- Enh #12528: Added option to disable query logging and profiling in DB command (cebe)\n- Enh #13144: Refactored `yii\\db\\Query::queryScalar()` (Alex-Code)\n- Enh #13179: Added `yii\\data\\Sort::parseSortParam` allowing to customize sort param in descendant class (leandrogehlen)\n- Enh #13221: Make `\\yii\\db\\QueryTrait::limit()` and `\\yii\\db\\QueryTrait::offset()` methods work with `\\yii\\db\\Expression` (Ni-san)\n- Enh #13226: `yii cache` command now warns about the fact that it's not able to flush APC cache from console (samdark)\n- Enh #13240: Client scripts registration in `yii\\widgets\\ActiverForm` was moved to the separate `registerClientScript()` method (uaoleg, silverfire)\n- Enh #13243: Added support for unicode attribute names in `yii\\widgets\\DetailView` (arogachev)\n- Enh #13254: Core validators no longer require `Yii::$app` to be set (sammousa)\n- Enh #13260: Added support for sorting by expression to `\\yii\\data\\Sort` (LAV45, klimov-paul)\n- Enh #13278: `yii\\caching\\DbQueryDependency` created allowing specification of the cache dependency via `yii\\db\\QueryInterface` (klimov-paul)\n- Enh #13352: Added option to not render empty row in `yii\\grid\\GridView` when data is empty and `emptyText` set to `false` (arogachev)\n- Enh #13356: Support multiple paths in `MigrateController::$migrationPath` to load non-namespaced migrations for BC with existing applications and extensions (schmunk42, cebe)\n- Enh #13360: Added Dockerized test setup for the framework tests (schmunk42)\n- Enh #13369: Added ability to render current `yii\\widgets\\LinkPager` page disabled (aquy)\n- Enh #13376: Data provider now automatically sets an ID so there is no need to set it manually in case multiple data providers are used with pagination (SamMousa)\n- Enh #13407: Added URL-safe base64 encode/decode methods to `StringHelper` (andrewnester)\n- Enh #13467: `yii\\data\\ActiveDataProvider` no longer queries models if models count is zero (kLkA, Kolyunya)\n- Enh #13523: Fixed pluralization and singularization for words `pasta`, `currency` (developeruz, silverfire)\n- Enh #13550: Refactored `unset()` call order in `yii\\di\\ServiceLocator::set()` (Lanrik)\n- Enh #13560: Refactored `\\yii\\widgets\\FragmentCache::getCachedContent()`, added tests (Kolyunya)\n- Enh #13576: Added support of `srcset` to `yii\\helpers\\Html::img()` (Kolyunya)\n- Enh #13577: Implemented `yii\\db\\mssql\\QueryBuilder::resetSequence()` (boboldehampsink)\n- Enh #13582: Added tests for all `yii\\db\\QueryBuilder::resetSequence()` implementations, fixed SQLite implementation (boboldehampsink)\n- Enh #13642: Allow overriding the function for creating related queries in ActiveRecord by adding `createRelationQuery()` (leandrogehlen)\n- Enh #13650: Improved `yii\\base\\Security::hkdf()` to take advantage of native `hash_hkdf()` implementation in PHP >= 7.1.2  (charlesportwoodii)\n- Enh #13695: `yii\\web\\Response::setStatusCode()` method now returns the Response object itself (kyle-mccarthy)\n- Enh #13698: `yii\\grid\\DataColumn` filter is automatically generated as dropdown list in case of `format` set to `boolean` (bizley)\n- Enh #13770: Added support for `yii\\widgets\\Menu` item classes definition in the form of an array (Kolyunya)\n- Enh #13820: Add new HTTP status code 451 (yyxx9988)\n- Enh #13823: Refactored migrations template (Kolyunya)\n- Enh #13837: Refactored masking of CSRF tokens (sammousa)\n- Enh #13845: `mt_rand()` is used instead of `rand()` in `yii\\captcha\\CaptchaAction` (kalessil)\n- Enh #13883: `yii\\data\\SqlDataProvider` now provides automatic fallback for the case when `totalCount` is not specified (SamMousa)\n- Enh #13911: Significantly enhanced MSSQL schema reading performance (paulzi, WebdevMerlion)\n- Enh #13945: Removed Courier New from error page fonts list since it looks bad on Linux (samdark)\n- Enh #13963: Added tests for `yii\\behaviors\\TimestampBehavior` (vladis84)\n- Enh #13976: Disabled IPv6 check on `\\yii\\validators\\IpValidator` as it turns out it is not needed for `inet_*` methods to work (mikk150)\n- Enh #13981: `yii\\caching\\Cache::getOrSet()` now supports both `Closure` and `callable` (silverfire)\n- Enh #13994: Refactored `yii\\filters\\RateLimiter`. Added tests (vladis84)\n- Enh #14059: Removed unused AR instantiating for calling of static methods (ElisDN)\n- Enh #14067: `yii\\web\\View::clear()` sets populated arrays to empty arrays instead of null, also changed default values to empty array (craiglondon)\n- Enh #14098: `yii\\helpers\\BaseFileHelper::normalizeOptions()` is now protected (brandonkelly)\n- Enh: Added `yii\\di\\Instance::__set_state()` method to restore object after serialization using `var_export()` function (silvefire)\n\n\n2.0.11.2 February 08, 2017\n--------------------------\n\n- Bug #13501: Fixed `yii\\rbac\\DbManager::getRule()` and `yii\\rbac\\DbManager::getRules()` to properly handle resource data came from Rule table when using PostgreSQL (StalkAlex)\n- Bug #13508: Fixed duplicate attachment of behavior BC break (cebe)\n- Bug #13522: Issue with UrlRule, which created duplicate slashes when a default value was used (cebe)\n- Bug #13533: Fixed BC break in `yii\\validators\\ExistValidator::$targetAttribute` (developeruz)\n\n\n2.0.11.1 February 02, 2017\n------------------------\n\n- Bug #11502: Fixed `yii\\console\\controllers\\MessageController` to properly populate missing languages in case of extraction with \"db\" format (bizley)\n- Bug #13489: Fixed button names in ActionColumn to contain proper `Yii::t()` tags and restored missing translations for `el`, `fa`, `ja`, `ru`, and `sk` (cebe, softark)\n\n\n2.0.11 February 01, 2017\n------------------------\n\n- Bug #4113: Error page stacktrace was generating links to private methods which are not part of the API docs (samdark)\n- Bug #7727: Fixed `yii\\helpers\\StringHelper::truncateHtml()` leaving extra tags (developeruz)\n- Bug #9305: Fixed MSSQL `Schema::TYPE_TIMESTAMP` to be 'datetime' instead of 'timestamp', which is just an incremental number (nkovacs)\n- Bug #9616: Fixed mysql\\Schema::loadColumnSchema to set enumValues attribute correctly if enum definition contains commas (fphammerle)\n- Bug #9796: Initialization of not existing `yii\\grid\\ActionColumn` default buttons (arogachev)\n- Bug #10488: Fixed incorrect behavior of `yii\\validation\\NumberValidator` when used with locales where decimal separator is comma (quantum13, samdark, rob006)\n- Bug #11122: Fixed can not use `orderBy` with aggregate functions like `count` (Ni-san)\n- Bug #11771: Fixed semantics of `yii\\di\\ServiceLocator::__isset()` to match the behavior of `__get()` which fixes inconsistent behavior on newer PHP versions (cebe)\n- Bug #12133: Fixed `getDbTargets()` function in `yii\\log\\migrations\\m141106_185632_log_init` that would create a log table correctly (bumstik)\n- Bug #12213: Fixed `yii\\db\\ActiveRecord::unlinkAll()` to respect `onCondition()` of the relational query (silverfire)\n- Bug #12345: Fixed `Formatter::asCurrency()` for proper decimal formatting (Oxyaction)\n- Bug #12599: Fixed MSSQL fail to work with `nvarbinary`. Enhanced SQL scripts compatibility with older versions (samdark)\n- Bug #12681: Changed `data` column type from `text` to `blob` to handle null-byte (`\\0`) in serialized RBAC rule properly (silverfire)\n- Bug #12703: Fixed `StringHelper::truncateHtml()` non functional when dom PHP extension is disabled (samdark)\n- Bug #12713: Fixed `yii\\caching\\FileDependency` to clear stat cache before reading filemtime (SG5)\n- Bug #12714: Fixed `yii\\validation\\EmailValidator` to prevent false-positives checks when property `checkDns` is set to `true` (silverfire)\n- Bug #12735: Fixed `yii\\console\\controllers\\MigrateController` creating multiple primary keys for field `bigPrimaryKey:unsigned` (SG5)\n- Bug #12791: Fixed `yii\\behaviors\\AttributeTypecastBehavior` unable to automatically detect `attributeTypes`, triggering PHP Fatal Error (klimov-paul)\n- Bug #12795: Fixed inconsistency, `Yii::$app->controller` is available after handling the request since 2.0.10, this is now also the case for `Yii::$app->controller->action` (cebe)\n- Bug #12803, #12921: Fixed BC break in `yii.activeForm.js` introduced in #11999. Reverted commit 3ba72da (silverfire)\n- Bug #12810: Fixed `yii\\rbac\\DbManager::getChildRoles()` and `yii\\rbac\\PhpManager::getChildRoles()` throws an exception when role has no child roles (mysterydragon)\n- Bug #12822: Fixed `yii\\i18n\\Formatter::asTimestamp()` to process timestamp with miliseconds correctly (h311ion)\n- Bug #12824: Enabled usage of `yii\\mutex\\FileMutex` on Windows systems (davidsonalencar)\n- Bug #12828: Fixed handling of nested arrays, objects in `\\yii\\grid\\GridView::guessColumns` (githubjeka)\n- Bug #12836: Fixed `yii\\widgets\\GridView::filterUrl` to not ignore `#` part of filter URL (cebe, arogachev)\n- Bug #12856: Fixed `yii\\web\\XmlResponseFormatter` to use `true` and `false` to represent booleans (samdark)\n- Bug #12879: Console progress bar was not working properly in Windows terminals (samdark, kids-return)\n- Bug #12880: Fixed `yii\\behaviors\\AttributeTypecastBehavior` marks attributes with `null` value as 'dirty' (klimov-paul)\n- Bug #12904: Fixed lowercase table name in migrations (zlakomanoff)\n- Bug #12939: Hard coded table names for MSSQL in RBAC migration (arogachev)\n- Bug #12969: Improved unique ID generation for `yii\\widgets\\Pjax` widgets (dynasource, samdark, rob006)\n- Bug #12974: Fixed incorrect order of migrations history in case `yii\\console\\controllers\\MigrateController::$migrationNamespaces` is in use (evgen-d, klimov-paul)\n- Bug #13071: Help option for commands was not working in modules (arogachev, haimanman)\n- Bug #13089: Fixed `yii\\console\\controllers\\AssetController::adjustCssUrl()` breaks URL reference specification (`url(#id)`) (vitalyzhakov)\n- Bug #13105: Fixed `validate()` method in `yii.activeForm.js` to prevent unexpected form submit when `forceValidate` set to `true` (silverfire)\n- Bug #13108: Fix execute command with negative integer parameter (pana1990, uaoleg)\n- Bug #13118: Fixed `handleAction()` function in `yii.js` to handle attribute `data-pjax=0` as disabled PJAX (silverfire, arisk)\n- Bug #13128: Fixed incorrect position of {pos} string in ColumnSchemaBuilder `__toString` (df2)\n- Bug #13159: Fixed `destroy` method in `yii.captcha.js` which did not work as expected (arogachev)\n- Bug #13198: Fixed order of checks in `yii\\validators\\IpValidator` that sometimes caused wrong error message (silverfire)\n- Bug #13200: Creating URLs for routes specified in `yii\\rest\\UrlRule::$extraPatterns` did not work if no HTTP verb was specified (cebe)\n- Bug #13212: Fixed `DbSession::regenerateID()` failure when `session_regenerate_id()` fails (andrewnester)\n- Bug #13229: Fix fetching schema information for `pgsql` when `PDO::ATTR_CASE` is set (klimov-paul)\n- Bug #13231: Fixed `destroy` method in `yii.gridView.js` which did not work as expected (arogachev)\n- Bug #13232: Event handlers were not detached with changed selector in `yii.gridView.js` (arogachev)\n- Bug #13277: Fixed invalid parsing of `--` (\"End of Options\" special argument) in CLI (rugabarbo)\n- Bug #13287: Fixed translating \"and\" separator in `UniqueValidator` error message (jetexe)\n- Bug #13300: Allow pjax with \"data-pjax\" with no value in `yii.js` (arogachev)\n- Bug #13307: Preventing of race conditions in script filter in `yii.js` works incorrectly (arogachev)\n- Bug #13309: Fixes incorrect console width/height detecting with using Stty on Mac (nowm)\n- Bug #13310: Handle relative and absolute URLs coincidence in CSS filter in `yii.js` (arogachev)\n- Bug #13312: `skipOuterContainers` option was incorrectly passed to pjax in `handleAction` in `yii.js` (arogachev)\n- Bug #13326: Fixed wrong background color generation in `BaseConsole::renderColoredString()` (nowm, silverfire)\n- Bug #13401: Fixed lack of escaping of request dump at exception screens (samdark)\n- Bug #13416: Fixed `yii\\web\\MultipartFormDataParser` adds an extra newline to every value (klimov-paul)\n- Enh #475: Added Bash and Zsh completion support for the `./yii` command (cebe, silverfire)\n- Enh #6242: Access to validator in inline validation (arogachev)\n- Enh #6373: Introduce `yii\\db\\Query::emulateExecution()` to force returning an empty result for a query (klimov-paul)\n- Enh #6809: Added `yii\\caching\\Cache::$defaultDuration` property, allowing to set custom default cache duration (sdkiller)\n- Enh #7333: Improved error message for `yii\\di\\Instance::ensure()` when a component does not exist (cebe)\n- Enh #7420: Attributes for prompt generated with `renderSelectOptions` of `\\yii\\helpers\\Html` helper (arogachev)\n- Enh #7435: Added `EVENT_BEFORE_RUN`, `EVENT_AFTER_RUN` and corresponding methods to `yii\\base\\Widget` (petrabarus)\n- Enh #7820: Add `or` relation for `targetAttribute` in `yii\\validators\\UniqueValidator` (developeruz)\n- Enh #8293: `yii\\db\\Query` can be passed to `insert` method in `yii\\db\\QueryBuilder` (voroks)\n- Enh #9053: Added`yii\\grid\\RadioButtonColumn` (darwinisgod)\n- Enh #9162: Added support of closures in `value` for attributes in `yii\\widgets\\DetailView` (arogachev)\n- Enh #10970: Allow omit specifying empty default params on URL creation (rob006)\n- Enh #11037: `yii.js` and `yii.validation.js` use `Regexp.test()` instead of `String.match()` (arogachev, nkovacs)\n- Enh #11163: Added separate method for client-side validation options `yii\\validators\\Validator::getClientOptions()` (arogachev)\n- Enh #11464: Populate foreign key names from schema (joaoppereira)\n- Enh #11697: Added `filterHaving()`, `andFilterHaving()` and `orFilterHaving()` to `yii\\db\\Query` (nicdnepr, samdark)\n- Enh #11756: Added type mapping for `varbinary` data type in MySQL DBMS (silverfire)\n- Enh #11758: Implemented Dependency Injection Container configuration using Application configuration array (silverfire)\n- Enh #11929: Changed `type` column type from `int` to `smallInt` in RBAC migrations (silverfire)\n- Enh #11959: Added `yii\\caching\\Cache::getOrSet()` method (silverfire)\n- Enh #12000: Added EVENT_INIT to widget (user57376)\n- Enh #12015: Changed visibility `yii\\db\\ActiveQueryTrait::createModels()` from private to protected (ArekX, dynasource)\n- Enh #12145: Added `beforeCacheResponse` and `afterRestoreResponse` to `yii\\filters\\PageCache` to be more easily extendable (sergeymakinen)\n- Enh #12390: Avoid creating queries with false where condition (`0=1`) when fetching relational data (klimov-paul)\n- Enh #12399: Added `ActiveField::addAriaAttributes` property for `aria-required` and `aria-invalid` attributes rendering (Oxyaction, samdark)\n- Enh #12419: Added ability to remove root tag and object tags for `yii\\web\\XmlResponseFormatter` (mhthnz, samdark)\n- Enh #12612: Query conditions added with `yii\\db\\Query::andWhere()` now get appended to the existing conditions if they were already being joined with the `and` operator (brandonkelly)\n- Enh #12619: Added catch `Throwable` in `yii\\base\\ErrorHandler::handleException()`, transactions and simlar places where consistency must be kept after exception (rob006, cebe)\n- Enh #12659: Suggest alternatives when console command was not found (mdmunir, cebe)\n- Enh #12691: Added support for protocol-relative URLs in `yii\\web\\UrlRule::$pattern` (erickskrauch)\n- Enh #12710: Added `beforeItem` and `afterItem` to `yii\\widgets\\ListView` (mdmunir, silverfire)\n- Enh #12725: Enhanced `yii\\widgets\\Menu` to allow item option `active` be a Closure (voskobovich, silverfire)\n- Enh #12726: `yii\\base\\Application::$version` converted to `yii\\base\\Module::$version` virtual property, allowing to specify version as a PHP callback (klimov-paul)\n- Enh #12732: Added `is_dir()` validation to `yii\\helpers\\BaseFileHelper::findFiles()` method (zalatov, silverfire)\n- Enh #12738: Added support for creating protocol-relative URLs in `UrlManager::createAbsoluteUrl()` and `Url` helper methods (rob006)\n- Enh #12748: Migration generator now tries to fetch reference column name for foreignKey from schema if it's not set explicitly (MKiselev)\n- Enh #12750: `yii\\widgets\\ListView::itemOptions` can be a closure now (webdevsega, silverfire)\n- Enh #12758: Added the ability to use instances of `\\yii\\db\\Query` class as values in the `\\yii\\db\\QueryBuilder::insert()` method (PowerGamer1)\n- Enh #12771: Skip \\yii\\rbac\\PhpManager::checkAccessRecursive and \\yii\\rbac\\DbManager::checkAccessRecursive if role assignments are empty (Ni-san)\n- Enh #12790: Added `scrollToErrorOffset` option for `yii\\widgets\\ActiveForm` which adds ability to specify offset in pixels when scrolling to error (mg-code)\n- Enh #12798: Changed `yii\\cache\\Dependency::getHasChanged()` (deprecated, to be removed in 2.1) to `yii\\cache\\Dependency::isChanged()` (dynasource)\n- Enh #12807: Added console controller checks for `yii\\console\\controllers\\HelpController` (schmunk42)\n- Enh #12816: Added `columnSchemaClass` option for `yii\\db\\Schema` which adds ability to specify custom `yii\\db\\ColumnSchema` class (nanodesu88)\n- Enh #12854: Added `RangeNotSatisfiableHttpException` to cover HTTP error 416 file request exceptions (zalatov)\n- Enh #12881: Added `removeValue` method to `yii\\helpers\\BaseArrayHelper` (nilsburg)\n- Enh #12901: Added `getDefaultHelpHeader` method to the `yii\\console\\controllers\\HelpController` class to be able to override default help header in a class heir (diezztsk)\n- Enh #12988: Changed `textarea` method within the `yii\\helpers\\BaseHtml` class to allow users to control whether HTML entities found within `$value` will be double-encoded or not (cyphix333)\n- Enh #13020: Added `disabledListItemSubTagOptions` attribute for `yii\\widgets\\LinkPager` in order to customize the disabled list item sub tag element (nadar)\n- Enh #13035: Use ArrayHelper::getValue() in SluggableBehavior::getValue() (thyseus)\n- Enh #13036: Added shortcut methods `asJson()` and `asXml()` for returning JSON and XML data in web controller actions (cebe)\n- Enh #13050: Added `yii\\filters\\HostControl` allowing protection against 'host header' attacks (klimov-paul, rob006)\n- Enh #13074: Improved `yii\\log\\SyslogTarget` with `$options` to be able to change the default `openlog` options (timbeks)\n- Enh #13122: Optimized query for information about foreign keys in `yii\\db\\oci` (zlakomanoff)\n- Enh #13134: Added logging URL rules (bashkarev)\n- Enh #13202: Refactor validateAttribute method in UniqueValidator (developeruz)\n- Enh #13219: Enhancements for `yii\\db\\Connection` (Vovan-VE)\n  - Added `shuffleMasters` option which adds ability to disable shuffling of masters connections.\n  - Added `getMaster()` getter and `master` property for getting currently active master connection.\n  - Extracted `openFromPoolSequentially()` protected method from `openFromPool()` protected method.\n- Enh #13264: Added `yii\\widgets\\InputWidget::$field` field, allowing access to the related `yii\\widget\\ActiveField` instance (klimov-paul)\n- Enh #13266: Added `yii\\validators\\EachValidator::$stopOnFirstError` allowing addition of more than one error (klimov-paul)\n- Enh #13268: Added logging of memory usage (bashkarev)\n- Enh #13417: Allow customizing `yii\\data\\ActiveDataProvider` in `yii\\rest\\IndexAction` (leandrogehlen)\n- Enh #13453: Select only primary key when counting records in UniqueValidator (developeruz)\n- Enh: Added constants for specifying `yii\\validators\\CompareValidator::$type` (cebe)\n- Enh: Refactored `yii\\web\\ErrorAction` to make it reusable (silverfire)\n- Enh: Added support for field `yii\\console\\controllers\\BaseMigrateController::$migrationNamespaces` setup from CLI (schmunk42)\n- Chg #11906: Updated `yii\\widgets\\MaskedInput` inputmask dependency to `~3.3.3` (samdark)\n\n2.0.10 October 20, 2016\n-----------------------\n\n- Bug #7670: Added `yii\\web\\UrlNormalizer` for normalizing requests with and without trailing slashes (rob006, cronfy, klimov-paul)\n- Bug #7670: Added `UrlNormalizer` for normalizing requests with and without trailing slashes (rob006, cronfy, klimov-paul)\n- Bug #9027: Fixed descendant class of `yii\\web\\UploadedFile` returns parent instances in case invoked after it (andrewnester)\n- Bug #9277: Fixed `yii\\console\\controllers\\AssetController` looses custom options of 'target' bundles (petrabarus, klimov-paul)\n- Bug #9561: Fixed `canGetProperty()` and `canSetProperty()` returns `false` for `yii\\db\\BaseActiveRecord` attributes (klimov-paul, Ni-san)\n- Bug #10358: Fixed race condition in `yii.js` AJAX prefilter (silverfire)\n- Bug #10563: Fixed forming `Content-Disposition` header for file downloads (samdark)\n- Bug #10567: Fixed `yii\\console\\controllers\\AssetController` looses bundle override configuration, which makes it external one (klimov-paul)\n- Bug #10587: Latest used controller instance was not available in `Response::EVENT_AFTER_SEND` handler (samdark, andrewnester)\n- Bug #10681: Reverted fix of beforeValidate event calling in `yii.activeForm.js` (silverfire)\n- Bug #11347: Fixed `yii\\widgets\\Pjax::registerClientScript()` to pass custom `container` to the PJAX JS plugin (silverfire)\n- Bug #11352: Fixed `updateInputs()` method in `yii.activeForm.js` to prevent reading property of undefined (silverfire)\n- Bug #11461: Fixed migration tool error when create migrate with comma in `defaultValue` (pana1990, s-o-f)\n- Bug #11541: Fixed default MySQL integer display width for unsigned primary key (h311ion, rob006, cebe)\n- Bug #11715: Fixed JS validation when the same model's attribute file input is listed more than once on the same page (uaoleg)\n- Bug #11726: `yii\\web\\DbSession` was echoing database errors in production mode (samdark, pastuhov, deadkrolik)\n- Bug #11907: Fixed `yii\\helpers\\Console::getScreenSize()` on Windows was giving out width and height swapped (Spell6inder, samdark, cebe)\n- Bug #11912: Fixed PostgreSQL Schema to support negative default values for integer/float/decimal columns (nsknewbie)\n- Bug #11921: Fixed URL decoding in `yii.getQueryParams()` to handle `+` (plus) character properly (silverfire)\n- Bug #11922: Fixed `yii\\log\\FileTarget` does not apply `fileMode` for rotated via copy files (klimov-paul)\n- Bug #11947: Fixed `gridData` initialization in `yii.gridView.js` (pavlm)\n- Bug #11949: Fixed `yii\\widgets\\ActiveField::end()` generates close tag when it's `option['tag']` is `null` (egorio)\n- Bug #11977: Fixed `yii\\rest\\Serializer::serialize()` serializes DataProvider incorrectly, if models keys do not compose integer sequence (dcb9, klimov-paul)\n- Bug #11990: Fixed `yii\\db\\BaseActiveRecord::refresh()` may set incorrect `oldAttributes` values at some cases (only-victor)\n- Bug #12009: Do not render `for` field label attribute for active form `RadioList` and `CheckboxList` (shevchik87, samdark)\n- Bug #12030: Fixed `yii\\base\\Model::offsetExists()` throws an exception on un-existing field (klimov-paul)\n- Bug #12037: Fixed 2.0.7 regression in memcahe/memcached cache backend (samdark)\n- Bug #12043: Fixed `yii\\helpers\\Json::encode()` encodes empty array returned by `JsonSerializable::jsonSerialize()` as object (klimov-paul)\n- Bug #12053: `./yii migrate/create` was generating wrong code when using `bigPrimaryKey` (VojtechH, samdark)\n- Bug #12068: Added missing `LEVEL_PROFILE` for the syslog target (Mak-Di)\n- Bug #12100: Fixed `yii\\filters\\HttpCache` was sending an empty Pragma header (sergeymakinen)\n- Bug #12107: Fixed REST Serializer to validate input for 'expand' and 'fields' parameter, which crashed on array input (njspok, cebe)\n- Bug #12143: Fixed `yii\\db\\BaseActiveRecord::updateAttributes()` change `isNewRecord` state for the new model (klimov-paul)\n- Bug #12152: Fixed BC break for `yii\\validators\\UniqueValidator` custom message when validating multiple attributes (rob006)\n- Bug #12293: Fixed MSSQL `yii\\db\\mssql\\Schema::resolveTableNames()` when using linked database tables (hAppywAy)\n- Bug #12331: Fixed bug with incorrect currency formatter output, when `$thousandSeparator` was explicitly set (cebe)\n- Bug #12423: Fixed migration tool problem of creating fields with brackets in comment (pana1990)\n- Bug #12428: Fixed `yii\\db\\mysql\\QueryBuilder` causes warning when insert default rows into a table without primary key (DrmagicE)\n- Bug #12431: Fix bug when lock file was not removed after `yii\\mutex\\FileMutex::release()` (rob006)\n- Bug #12446: Disable slaves when execute migrations to resolve master-slave replication no-sync (lichunqiang)\n- Bug #12463: Fixed `yii\\web\\Request::getBodyParams()` does not pass full 'content-type' value to `yii\\web\\RequestParserInterface::parse()` (klimov-paul)\n- Bug #12537: Fixes issues with spaces in `StringHelper:truncateHtml` (Alex-Code)\n- Bug #12554: Fixed `yii\\validators\\UniqueValidator` error of getting first model indexed by field (DrDeath72)\n- Bug #12599: Fixed casting of `binary()` type for MSSQL (silverfire)\n- Bug #12605: Make 'safe' validator work on write-only properties (arthibald, CeBe)\n- Bug #12629: Fixed `yii\\widgets\\ActiveField::widget()` to call `adjustLabelFor()` for `InputWidget` descendants (coderlex)\n- Bug #12649: Fixed consistency of `indexBy` handling for `yii\\db\\Query::column()` (silverfire)\n- Enh #384: Added ability to run migration from several locations via `yii\\console\\controllers\\BaseMigrateController::$migrationNamespaces` (klimov-paul)\n- Enh #6996: Added `yii\\web\\MultipartFormDataParser`, which allows proper processing of 'multipart/form-data' encoded non POST requests (klimov-paul)\n- Enh #8719: Add support for HTML5 attributes on submitbutton (formaction/formmethod...) for ActiveForm (VirtualRJ)\n- Enh #9469: Added support for namespaced migrations via `yii\\console\\controllers\\BaseMigrateController::migrationNamespaces` (klimov-paul)\n- Enh #9708: Added `yii\\console\\controllers\\AssetController::deleteSource` option allowing deletion of the source asset files after compression (pana1990, klimov-paul)\n- Enh #9989: ActiveForm now respects formtarget, formmethod and formenctype attributes of submit button (AnatolyRugalev)\n- Enh #10243: Added `yii\\data\\Sort::setAttributeOrders()` method allowing manual setup of current sort (klimov-paul)\n- Enh #10583: Do not silence session errors in debug mode (samdark)\n- Enh #11096: Added support for PSR-2 style migration naming for namespaced migrations (klimov-paul)\n- Enh #11245: Added `yii\\rbac\\ManagerInterface::getChildRoles()` method, allowing finding child roles for the given one (githubjeka)\n- Enh #11275: Added possibility of unset or force replace former value in `yii\\helpers\\ArrayHelper::merge()` (mdmunir, rob006)\n- Enh #11309: Added `yii\\web\\Request::getHostName()` method that returns hostname of current request (rob006)\n- Enh #11494: `yii.reloadableScripts` now support wildcards with `*` character (silverfire)\n- Enh #11658: Added argument to `yii\\grid\\ActionColumn::urlCreator` callback, which holds reference to the column instance (klimov-paul)\n- Enh #11804: Added `yii\\behaviors\\AttributeTypecastBehavior` for maintaining of strict ActiveRecord attribute types (klimov-paul)\n- Enh #11835: Fixed `\\yii\\db\\mssql\\QueryBuilder::$typeMap[TYPE_TEXT]` - `NTEXT` data type was deprecated in MSSQL (githubjeka)\n- Enh #11844: Added the ability to customize HTML attributes of label and value tags in `\\yii\\widgets\\DetailView` (githubjeka)\n- Enh #11950: Improve `yii\\helpers\\BaseArrayHelper::keyExists()` speed (egorio)\n- Enh #11979: Added `yii\\mutex\\OracleMutex` which implements mutex \"lock\" mechanism via Oracle locks (zlakomanoff)\n- Enh #12028: Add -h|--help option to console command to display help information (pana1990)\n- Enh #12038: Introduced `yii\\base\\ViewNotFoundException` which is thrown when views file doesn't exists, used it in `ViewAction` (samdark)\n- Enh #12048: Improved message extraction command performance (samdark)\n- Enh #12073: Added the ability to suppress the generation of input hint when it is specified through `yii\\base\\Model::attributeHints()` (PowerGamer1)\n- Enh #12082: Used `jQuery.on(` instead of event method to ensure forwards compatibility (newerton)\n- Enh #12099: `yii\\filters\\HttpCache` no longer returns 304 HTTP code when callbacks return null (sergeymakinen)\n- Enh #12193: Added the ability to suppress the generation of duplicate error messages in `yii\\helpers\\Html::errorSummary()`. Added the ability to display error messages beyond the first error for each model attribute (PowerGamer1)\n- Enh #12198: Added `time` and `datetime` validator short names (nkovacs)\n- Enh #12230: Allows BaseHtml::activeListInput to override the field value (RangelReale)\n- Enh #12296: Added value validation to `yii\\log\\Target::setLevels()` (Mak-Di)\n- Enh #12376: Added parameter to `yii.activeForm.js` `validate()` method to be able to force validation (DrDeath72)\n- Enh #12382: Changed `yii\\widgets\\MaskedInput` to use `jQuery` instead of `$` to prevent conflicts (samdark)\n- Enh #12440: Added `yii\\base\\Event::offAll()` method allowing clear all registered class-level event handlers (klimov-paul)\n- Enh #12499: When AJAX validation in enabled, `yii.activeForm.js` will run it forcefully on form submit to display all possible errors (silverfire)\n- Enh #12580: Make `yii.js` comply with strict and non-strict javascript mode to allow concatenation with external code (mikehaertl)\n- Enh #12664: Added support for wildcards for `optional` at `yii\\filters\\auth\\AuthMethod` (mg-code)\n- Enh #12744: Added `afterInit` event to `yii.activeForm.js` (werew01f)\n- Enh: Method `yii\\console\\controllers\\AssetController::getAssetManager()` automatically enables `yii\\web\\AssetManager::forceCopy` in case it is not explicitly specified (pana1990, klimov-paul)\n\n\n2.0.9 July 11, 2016\n-------------------\n\n- Bug #6347: `inverseOf()` not working for dynamic relational queries (laszlovl)\n- Bug #8644: Fixed trying to ENABLE/DISABLE TRIGGER ALL on a view in PostgreSQL (ricpelo)\n- Bug #9950: Updated `yii\\grid\\DataColumn::getHeaderCellLabel()` to extract attribute label from the `filterModel` of Grid (silverfire)\n- Bug #10613: Fixed PostgreSQL Schema to return correct column names for unique indexes that have mixed case column names (cebe)\n- Bug #10681: Fixed active form `beforeValidate` wasn't triggered in some cases (lynicidn)\n- Bug #11252: Use strict comparison on `ActiveRecord::hasAttribute()` to avoid cases where it returns true when a number is passed to it (Faryshta)\n- Bug #11322: Fixed incorrect error message in `yii\\validators\\UniqueValidator` for composite `targetAttribute` (PowerGamer1, silverfire, cebe)\n- Bug #11429: Fixed `yii\\i18n\\PhpMessageSource::loadFallbackMessages()` not to log error when source and language is same, but locales are different (silverfire)\n- Bug #11459: Fixed flash messages not destroyed when `session.auto_start = 1` set in php.ini (cartmanchen)\n- Bug #11498: Fixed inability to save serialized object into PostgreSQL binary column (klimov-paul)\n- Bug #11507: Fixed `yii\\validators\\EachValidator::validateAttribute()` does not respect `skipOnEmpty` rule parameter (webdevsega)\n- Bug #11523: Fixed `yii\\web\\User::checkRedirectAcceptable()` to treat acceptable content type `*/*` as `*` (silverfire)\n- Bug #11527: Fixed `bigPrimaryKey()` for SQLite (dynasource)\n- Bug #11528: Fixed `yii\\i18n\\MessageFormatter` construction exception caught for PHP 7 compatibility (subdee, cebe)\n- Bug #11532: Fixed casting of empty char value to `null` resulting in integrity constraint violation for not null columns (samdark)\n- Bug #11536: Fixed regression introduced in 2.0.8, where scalar value was not allowed in `QueryBuilder` `IN` condition anymore (cebe)\n- Bug #11549: Fixed `yii\\helpers\\ArrayHelper::getValue()` to work properly with float keys (zsounder, AnikanovD)\n- Bug #11561: Fixed DI container throwing exceptions for optional dependencies (SamMousa)\n- Bug #11571: Fixed `yii\\db\\ColumnSchemaBuilder` to work with custom column types (andrey-mokhov, silverfire)\n- Bug #11662: Fixed `schema-oci.sql` for RBAC (jonny7)\n- Bug #11672: Fixed `yii\\validators\\NumberValidator` erroring when value is an object without `__toString()` method (SamMousa)\n- Bug #11686: `yii\\helpers\\ArrayHelper::isIn()` comparison did not work in strict mode (taobig)\n- Bug #11693: Handle `yii\\db\\QueryBuilder::batchInsert()` calls with no data to insert (rob006)\n- Bug #11723: Fixed PHP 7 + XDebug error handling displaying \"Expected array for frame 0\" (tanakahisateru)\n- Bug #11735: Fixed `yii\\web\\UploadedFile` to return `null` when there's no file uploaded (brummm)\n- Bug #11739: Fixed `yii\\helpers\\ArrayHelper::index()` losing precision for float keys (AnikanovD)\n- Bug #11774: Fixed incorrect recusuive symlinks check in `yii\\helpers\\FileHelper` (AnikanovD)\n- Bug #11822: Fixed exception on non-string value provided as CSRF token (cebe)\n- Bug #11847: Fixed `yii\\widgets\\Pjax` to properly respond with partials when custom selector is used for container (pigochu, samdark)\n- Bug #11863: Fixed usage of `mb_substr()` with PHP < 5.4.8 where length of NULL was treated the same as 0 (samdark)\n- Bug #11865: Fixed setting `selected` for dropdown list using options (samdark)\n- Bug #11878: Fixed i18n gettext fallback language message loading (stevekr)\n- Bug #11896: Fix for DROP TRIGGER in migrations from RBAC. (barradas-alberto)\n- Enh #8795: Refactored `yii\\web\\User::loginByCookie()` in order to make it easier to override (maine-mike, silverfire)\n- Enh #9574: Implicit run `yii\\db\\ColumnSchemaBuilder::null()` when default value is set to `null`. (rob006)\n- Enh #9948: `yii\\rbac\\PhpManager` now invalidates script file cache performed by 'OPCache' or 'APC' on file saving (klimov-paul)\n- Enh #10422: Added `null` method on `yii\\db\\ColumnSchemaBuilder` to explicitly set column nullability (nevermnd)\n- Enh #11168: `yii\\helpers\\BaseHtml` now uses abstracted `booleanInput()` and `activeBooleanInput()` methods to render `radio()`, `checkbox()`, `activeRadio()` and `activeCheckbox()` (cesarnicola)\n- Enh #11195: Added ability to append custom string to schema builder column definition (df2, samdark)\n- Enh #11212: Added headers to PO file in `yii\\i18n\\GettextPoFile::save()` (stevekr)\n- Enh #11414: Files specified as `null` in `yii\\web\\AssetBundle` won't be registered (Razzwan)\n- Enh #11428: Speedup SQL query in `yii\\db\\oci\\Schema::findColumns()` (SSiwek)\n- Enh #11432: Added HTTP status 421 \"Misdirected Request\" to list of statuses in `yii\\web\\Response` (dasmfm)\n- Enh #11438: Configurable `yii\\helpers\\Markdown` default flavor (mdmunir)\n- Enh #11462: Added support of filtering rules to `yii\\log\\Target::logVar` (HaruAtari)\n- Enh #11462: Added `yii\\helpers\\BaseArrayHelper::filter()` method (HaruAtari)\n- Enh #11484: Speed up `yii\\db\\oci\\Schema::loadTableSchema()` for Oracle DBMS (SSiwek)\n- Enh #11490: Added `yii\\data\\ArrayDataProvider::$modelClass` property to specify a model used to provide column labels even when data array is empty (PowerGamer1)\n- Enh #11591: Added support for wildcards for `only` and `except` at `yii\\base\\ActionFilter` (klimov-paul)\n- Enh #11679: Extracted `yii\\rbac\\CheckAccessInterface` from `yii\\rbac\\ManagerInterface` (SamMousa, samdark, mdomba)\n- Enh #11725: Added indexes on message tables (OndrejVasicek)\n- Enh #11729: Added `yii\\grid\\CheckboxColumn::$cssClass` property to specify a class added to checkbox input (thiagotalma)\n- Enh #11808: `_table` and `_column` suffixes are now required when generating migration (rob006)\n- Enh #11850: Introduced `yii\\widgets\\Pjax::$submitEvent` to be able to customize event triggering PJAX form submit (Bvanleeuwen)\n- Enh #11857: `yii\\filters\\AccessRule::$verbs` can now be configured in upper and lowercase (DrDeath72, samdark)\n- Chg #11364: Updated jQuery dependency to include versions `1.12.*` (cebe)\n- Chg #11683: Fixed fixture command to work with short syntax. `yii fixture \"*, -User\"` should be used instead of `yii fixture \"*\" -User` (Faryshta, samdark)\n\n\n2.0.8 April 28, 2016\n--------------------\n\n- Bug #7627: Fixed `yii\\widgets\\ActiveField` to handle inputs AJAX validation with changed ID properly (dizeee)\n- Bug #7717: Fixed the bug that `$properties` parameter in `ArrayHelper::toArray()` was not passed to recursive calls (quantum13)\n- Bug #9074: Fixed JS call `$('#grid').yiiGridView('getSelectedRows')` when `GridView::$showHeader` is set to false (NekitoSP, silverfire)\n- Bug #9851: Fixed partial commit / rollback in nested transactions (sammousa)\n- Bug #9935: Fixed `yii\\validators\\EachValidator` does not invoke `validateAttribute()` method of the embedded validator (klimov-paul)\n- Bug #10201: Fixed bug in ActiveRecord, where relational data could not be fetched in case with composite key and join with IN condition (PaulVanSchayck, airmoi, joe-meyer, cebe)\n- Bug #10235: Fixed `yii\\console\\Application::runAction()` to not to corrupt response object (hiqsol)\n- Bug #10480: Fixed removing old identity cookie when loggin in as another user without logging out first (maine-mike)\n- Bug #10617: Fixed `yii\\web\\Request::getBodyParams()` returned `null` instead of empty array if request body is empty and content type is application/json (samdark)\n- Bug #10784: Fixed `yii\\grid\\CheckboxColumn` to set correct value when `yii\\grid\\CheckboxColumn::$checkboxOptions` closure is used (nukkumatti)\n- Bug #10850: Fixed unable to use 'definitions' and 'aliases' at `yii\\widgets\\MaskedInput` (rahimov, klimov-paul)\n- Bug #10884: Fixed `yii\\i18n\\MessageFormatter` for formatting messages when not all parameters are given (laxity7, cebe)\n- Bug #10935: Fixed cache key collision in `yii\\web\\UrlManager::createUrl()` (sammousa)\n- Bug #10946: Fixed parameters binding to the SQL query in `yii\\db\\mysqlSchema::findConstraints()` (silverfire)\n- Bug #10969: Fixed generator migration tool with decimal params in column (pana1990)\n- Bug #10974: `yii.js` - fixed error in ajaxPrefilter event handler, caused by blocked frame (maximal)\n- Bug #11012: Fixed `yii\\web\\UploadedFile::getBaseName()` to work with UTF-8 file names (hiscaler, silverfire)\n- Bug #11026: Fixed `yii\\helpers\\StringHelper::truncateWords()` to count words properly for non-English text (samdark, tol17)\n- Bug #11038: Fixed handling of intervals of 0 seconds in `yii\\i18n\\Formatter::asDuration()` (VirtualRJ)\n- Bug #11040: Check parameter 'recursive' and disable recursive copying with option 'recursive' => false in method BaseFileHelper::copyDirectory (Ni-san)\n- Bug #11052: Fixed `HtmlPurifier` configuration sequence (samdark)\n- Bug #11066: `yii.js` - fixed `getQueryParams()` function to handle URLs with anchors correctly (DrDeath72)\n- Bug #11088: Fixed bug with column name not being quoted correctly, when a quoted table name or a table name in prefix syntax was used (cebe, edgardmessias, Ni-san)\n- Bug #11093: Fixed `yii\\db\\QueryBuilder::buildAndCondition()` to add query params passed directly by `yii\\db\\Expression` (CedricYii, silverfire)\n- Bug #11125: Fixed `JSON_ERROR_SYNTAX` for `json_decode(null)` in PHP 7 (fps01)\n- Bug #11132: Fixed `yii\\widgets\\FragmentCache` not handling empty content correctly in all cases (kidol)\n- Bug #11188: Fixed wrong index usage in `CaptchaAction` when calling `imagefilledrectangle` (alsopub)\n- Bug #11196: Fixed VarDumper throws PHP Fatal when dumping `__PHP_Incomplete_Class` (DamianZ)\n- Bug #11220: NumberValidator now handles objects properly (samdark)\n- Bug #11221: Boolean validator generates incorrect error message (azaikin, githubjeka)\n- Bug #11223: Fixed returning an empty array when DbManager::getRolesByUser() was called on a user with user id 0 (VirtualRJ)\n- Bug #11228: `yii.activeForm.js` - AJAX validation will not be triggered if client side validation failed (silverfire)\n- Bug #11262: Enabled use of yii2 inside of PHAR packaged console applications (hiqsol)\n- Bug #11270: Fixed `yii\\db\\BaseActiveRecord::link()` method in order to support closure in `indexBy` for relations declaration (iushev)\n- Bug #11280: Descendants of `yii\\console\\controllers\\BaseMigrateController`, like the one for MongoDB, unable to create new migration (klimov-paul)\n- Bug #11333: Avoid serializing PHP 7 errors (zuozp8)\n- Bug #11425: Fixed namespace conflict with Markdown helper and Console helper (cebe, mdmunir)\n- Bug: SQlite querybuilder did not create primary key with bigint for `TYPE_BIGPK` (cebe)\n- Enh #5469: Add mimetype validation by mask in FileValidator (kirsenn, samdark, silverfire)\n- Enh #7177, #10165: Added support for validating datetime and time values using intl short format to `DateValidator` (VirtualRJ, cebe)\n- Enh #8145, #8139, #10234 #11153: `yii\\validators\\Validator::$attributes` property now supports `!attribute` notation to validate attribute, but do not mark it as safe (mdmunir)\n- Enh #8148: Implemented ability to add comment on table and column in migration (vaseninm, silverfire)\n- Enh #8505: `yii\\db\\Query` now contains a andFilterCompare() method that allows filtering using operators in the query value (lennartvdd)\n- Enh #8602: `yii\\validators\\DateValidator` skip validation for `timestampAttribute`, if it is already in correct format (klimov-paul)\n- Enh #8639: Improve ActiveRecord to not create new instances of classes when objects are available (cebe)\n- Enh #8779: Automatically set `enctype` form option when using file input field (pana1990, arogachev)\n- Enh #9340: Adds `after()` and `first()` column schema builder modifiers (df2)\n- Enh #9425: `yii\\db\\Query::exists()` now uses SQL standard `EXISTS()` query via new `yii\\db\\QueryBuilder::selectExists()` method to improving performance in some cases (PowerGamer1)\n- Enh #9562: Adds `char` datatype to framework (df2)\n- Enh #9604: `yii\\db\\BaseActiveRecord` now triggers event `EVENT_AFTER_REFRESH` after a record is refreshed (raoul2000)\n- Enh #9893: `yii.js` handleAction enhanced to support for data-form attribute, so links can trigger specific forms (SamMousa)\n- Enh #10309: Extracted `yii\\web\\UrlManager` rule cache key into `$cacheKey` protected property (lordthorzonus)\n- Enh #10322: ActiveForm now respects `formtarget` attribute of submit button (AnatolyRugalev)\n- Enh #10451: Check of existence of `$_SERVER` in `yii\\web\\Request` before using it (quantum13)\n- Enh #10475: Extracted `getUrlFromCache()` and `setRuleToCache()` protected methods from `yii\\web\\UrlManager::createUrl()` (dmdark)\n- Enh #10487: `yii\\helpers\\BaseArrayHelper::index()` got a third parameter `$groupBy` to group the input array by the key in one or more dimensions (quantum13, silverfire, samdark)\n- Enh #10610: Added `BaseUrl::$urlManager` to be able to set URL manager used for creating URLs (samdark)\n- Enh #10631: Split getting label and rendering cell in `yii\\grid\\DataColumn::renderHeaderCellContent()` to make code simpler (t-kanstantsin, samdark)\n- Enh #10710: `yii\\helpers\\FileHelper::copyDirectory()` is now throwing exception when trying to copy a directory to itself or a subdirectory (wallysalami, cebe, samdark)\n- Enh #10764: `yii\\helpers\\Html::tag()` and `::beginTag()` return content without any HTML when the `$tag` attribute is `false` or `null` (pana1990)\n- Enh #10840: Added `yii\\console\\Controller::optionAliases()` method to support aliases for commands (pana1990)\n- Enh #10889: Allows unsigned primary key column definitions (df2)\n- Enh #10908: Added Dependency Injection for Closure configuration (SamMousa)\n- Enh #10910: Fixed Captcha client side validation after image refresh, when controller is under module (silverfire)\n- Enh #10921: `__toString()` of column schema builder now adapts to column types (df2)\n- Enh #10931: Removed hard dependency of `yii\\di\\Container` on `Yii::$app` (SamMousa)\n- Enh #10937: `yii\\web\\User` will now confirm the request accepts an HTML response before redirecting to the login page. Added optional `$checkAcceptHeader` to `yii\\web\\User::loginRequired()` (sammousa)\n- Enh #10941: Added `yii\\helpers\\ArrayHelper::isTraversable()`, added support for traversable selections for dropdownList, radioList and checkboxList in `yii\\helpers\\Html` (sammousa)\n- Enh #10954: `yii\\db\\QueryBuilder` now accepts `Traversable` objects for `in` condition (SamMousa, silverfire)\n- Enh #10967: Simplified Javascript on the exception debug page (SamMousa)\n- Enh #10976: `yii\\helpers\\Inflector::transliterate()` now uses `strtr` instead of `str_replace` (DrDeath72)\n- Enh #11002: `yii\\behaviors\\AttributeBehavior::$skipUpdateOnClean` which determines whether to skip a behavior when the behavior owner has not been modified (Faryshta)\n- Enh #11056: Allow setting a custom logger configuration for `yii\\log\\Dispatcher` in configuration (bionoren, cebe)\n- Enh #11058: `yii\\web\\User::loginRequired()` now does not set return URL when request method is not GET (dawei101, silverfire)\n- Enh #11110: Added migrations for DB session (mdmunir)\n- Enh #11137: Added weak ETag support to `yii\\filters\\HttpCache`. It could be turned on via setting `$weakEtag` to `true` (particleflux)\n- Enh #11139: `yii\\validators\\EachValidator` injects specific attribute value in error message parameters (silverfire)\n- Enh #11166: migrate command new option `useTablePrefix` (Faryshta)\n- Enh #11187: migrate command now generates PHPDoc for table migrations (Faryshta)\n- Enh #11207: migrate command can create foreign keys. (Faryshta)\n- Enh #11254: Added ability to attach RBAC rule using class name (mdmunir)\n- Enh #11285: `yii\\base\\Security` enhancements (tom--, samdark)\n  - Avoid reading more bytes than needed from `/dev/urandom` and `/dev/random`.\n  - Pefer `/dev/random` to `/dev/urandom` when running on FreeBSD.\n  - Better RNG performance.\n- Enh #11336: Allow resettting `$hostInfo`, `$scriptUrl`, and `$pathInfo` in `yii\\web\\Request` and `$baseUrl`, and `$hostInfo` in `yii\\web\\UrlManager` to `null`, to make Yii determine the value again (cebe)\n- Enh: Added `yii\\helpers\\StringHelper::countWords()` that given a string returns number of words in it (samdark)\n- Chg #9854: Added `ActiveRecordInterface::populateRelation()` to respect the methods called by the implementation (SamMousa)\n- Chg #10726: Added `yii\\rbac\\ManagerInterface::canAddChild()` (dkhlystov, samdark)\n- Chg #10921: Inverts responsibility of database specific column schema builder classes (df2)\n- Chg #11071: `yii\\helpers\\BaseArrayHelper::isIn()` and `isTraversable()` since now throw `yii\\base\\InvalidParamException` instead of `InvalidArgumentException` (nukkumatti)\n- Chg #11283: `yii\\db\\ActiveRecord::unlink()` is not setting FK to `null` before deleting itself anymore (samdark)\n- Chg: HTMLPurifier dependency updated to `~4.6` (samdark)\n- New #8920: Added `yii\\mutex\\PgsqlMutex` which implements mutex \"lock\" mechanism via PgSQL locks (nineinchnick, CSharpRU)\n\n\n2.0.7 February 14, 2016\n-----------------------\n\n- Bug #6351: Find MySQL FK constraints from `information_schema` tables instead of `SHOW CREATE TABLE` to improve reliability (nineinchnick)\n- Bug #6363, #8301, #8582, #9566: Fixed data methods and PJAX issues when used together (derekisbusy)\n- Bug #6876: Fixed RBAC migration MSSQL cascade problem (thejahweh)\n- Bug #7627: Fixed `yii\\widgets\\ActiveField` to handle inputs validation with changed ID properly (dynasource, cebe)\n- Bug #7806: Fixed `yii\\grid\\CheckboxColumn` fixed `_all` checkbox column name generation (cebe, silverfire)\n- Bug #7964: Fixed i18n message sources to load fallback messages in a smarter way (silverfire)\n- Bug #8348: Fixed `yii\\helpers\\BaseArrayHelper` fixed PHP Fatal Error: Nesting level too deep - recursive dependency? (andrewnester)\n- Bug #8466: Fixed `yii\\validators\\FileValidator` to display error for `tooBig` and `tooSmall` with formatted unit (silverfire)\n- Bug #8573: Fixed incorrect data type mapping for NUMBER to INTEGER or DECIMAL in Oracle (vbelogai)\n- Bug #8723: Fixed `yii\\helpers\\VarDumper::export()` unable to export circle referenced objects with `Closure` (klimov-paul)\n- Bug #9061: Fixed `yii.activeForm.js`: input onBlur event forces field validation (githubjeka)\n- Bug #9108: Negative number resulted in no formatting when using `yii\\i18n\\Formatter::asSize()` or `yii\\i18n\\Formatter::asShortSize()` (nxnx, cebe)\n- Bug #9288: Fixed `yii\\helpers\\FileHelper::createDirectory()` directory creation to be concurrency friendly (dynasource)\n- Bug #9314: Fixed `yii\\rbac\\DbManager::getPermissionsByUser()` not returning permissions directly assigned to a user (hesna)\n- Bug #9323: Fixed `yii\\console\\controllers\\MessageController` not using database connection specified in config (raccoon69, samdark)\n- Bug #9333: Fixed `yii\\web\\AssetManager` to publish bundles using symlink with nested directories in `hash` (silverfire)\n- Bug #9415: Fixed regression in 2.0.6 where on Oracle DB `PDO::ATTR_CASE = PDO::CASE_LOWER` did not work anymore (cebe)\n- Bug #9442: Fixed `yii\\db\\Migration::renameTable()` caused fatal error when using SQLite driver (fetus-hina)\n- Bug #9452: Fixed `yii\\db\\Query::where()` does not add params from directly passed `yii\\db\\Expression` (klimov-paul)\n- Bug #9454: Fixed MSSQL MARS wasn't working with transactions (daliran)\n- Bug #9583: Server response on invalid JSON request included a wrong message about \"Internal Server Error\" with status 500 (cebe)\n- Bug #9591: Fixed `yii.validation.js` code so it is compressable by YUICompressor (samdark, hofrob)\n- Bug #9596: Fixed `yii\\web\\UrlManager::createAbsoluteUrl(['site/index', '#' => 'testHash'])` losing hash (alchimik, samdark)\n- Bug #9670: Fixed PJAX redirect in IE. `yii\\web\\Response::redirect()` - added check for `X-Ie-Redirect-Compatibility` header (silverfire)\n- Bug #9678: `yii\\i18n\\I18N::format()` wasn't able to handle named placeholder in \"selectordinal\" (samdark)\n- Bug #9681: `yii\\helpers\\Json::encode()` was erroring under CYGWIN (samdark)\n- Bug #9689: Hidden input on `Html::activeFileInput()` had the wrong name if a name was explicitly given (graphcon, cebe)\n- Bug #9707: Fixed Memcache duration which exceeds 30 days (vernik91)\n- Bug #9714: Fixed `yii\\rbac\\PhpManager::updateItem()` unable to save users assignments (rezident1307)\n- Bug #9754: Fixed `yii\\web\\Request` error when path info is empty (dynasource)\n- Bug #9790: Fixed `yii\\db\\sqlite\\QueryBuilder` to generate proper SQL for UNION (romeOz, samdark)\n- Bug #9791: Fixed endless loop on file creation for non-existing device letters on windows (lukos, cebe)\n- Bug #9874: Fixed outputting exception stacktrace in non-debug mode when `Response::FORMAT_RAW` is used (nainoon)\n- Bug #9883: Passing a single `yii\\db\\Expression` to `Query::select()` or `::addSelect()` was not handled correctly in all cases (cebe)\n- Bug #9911: Fixed `yii\\helpers\\BaseStringHelper::explode()` code so it doesn't remove items equal to 0 when `skip_empty` is true (silverfire, kidol)\n- Bug #9924: Fixed `yii.js` handleAction corrupted parameter values containing quote (\") character (silverfire)\n- Bug #9984: Fixed wrong captcha color in case Imagick is used (DrDeath72)\n- Bug #9999: Fixed `yii\\web\\UrlRule` to allow route parameter names with `-`, `_`, `.`characters (silverfire)\n- Bug #10029: Fixed `yii\\widgets\\MaskedInput` not working with PJAX (martrix78, samdark)\n- Bug #10052: Fixed `yii\\i18n\\Formatter` to work with huge numbers on 32-bit arch (necrox87, silverfire)\n- Bug #10101: Fixed assignments saving on role removing in `yii\\rbac\\PhpManager` (rezident1307)\n- Bug #10142: Fixed `yii\\validators\\EmailValidator` to check the length of email properly (silverfire)\n- Bug #10218: Fixed Flash messages not showing after logging out a user (andrewnester)\n- Bug #10263: Fixed `yii\\validators\\UniqueValidator` to work properly when model is not instance of `targetClass` (bupy7, githubjeka, silverfire)\n- Bug #10278: Fixed `yii\\helpers\\BaseJson` support \\SimpleXMLElement data (SilverFire, LAV45)\n- Bug #10302: Fixed JS function `yii.getQueryParams`, which parsed array variables incorrectly (servocoder, silverfire)\n- Bug #10363: Fixed fallback float and integer formatting (AnatolyRugalev, silverfire)\n- Bug #10385: Fixed `yii\\validators\\CaptchaValidator` passed incorrect hashKey to JS validator when `captchaAction` begins with `/` (silverfire)\n- Bug #10467: Fixed `yii\\di\\Instance::ensure()` to work with minimum settings (LAV45)\n- Bug #10541: Fixed division by zero issue in `Console` helper progress bar (youmad)\n- Bug #10580: Fixed `yii\\grid\\GridView::guessColumns()` to work with numeric column names (silverfire)\n- Bug #10625: Fixed `activeForm.js` - when submit doesn't reload page, submit button value simulation with hidden input did not work (andrewnester)\n- Bug #10629: Fixed `yii\\helpers\\BaseStringHelper` - BaseStringHelper::truncateHtml adds suffix regardless of the string length (andrewnester)\n- Bug #10692: Fixed default value extraction in PostgreSQL Schema for null values (wallysalami, gabrielhomsi)\n- Bug #10739: Fixed `yii\\web\\UrlManager::parseRequest()` to treat request URL with more than one slash at the end as invalid (andrewnester)\n- Bug #10751: Fixed `yii\\validators\\UrlValidator` pattern to improve matching (silverfire)\n- Bug #10760: `yii\\widgets\\DetailView::normalizeAttributes()` fixed for arrayable models (boehsermoe)\n- Bug #10825: Fixed `yii\\validators\\EachValidator` does not respect `skipOnEmpty` rule parameter (klimov-paul)\n- Bug: Fixed generation of canonical URLs for `ViewAction` pages (samdark)\n- Bug: Fixed `mb_*` functions calls to use `UTF-8` or `Yii::$app->charset` (silverfire)\n- Enh #2377: Allow specifying a table alias when joining relations via `joinWith()` (cebe, nainoon)\n- Enh #3506: Added `yii\\validators\\IpValidator` to perform validation of IP addresses and subnets (SilverFire, samdark)\n- Enh #4972: Added `yii\\db\\ActiveQuery::alias()` to allow specifying a table alias for the model table without having to know the name (cebe, stepanselyuk)\n- Enh #5146: Added `yii\\i18n\\Formatter::asDuration()` method (nineinchnick, SilverFire)\n- Enh #5902: `yii\\widgets\\Pjax::options` now support special option `tag` to specify tag of container (Alex-Code)\n- Enh #6162, #9198: Added parameter visibleButtons for `yii\\grid\\ActionColumn` (fornit1917, silverfire)\n- Enh #7341: Client validation now skips disabled inputs (SamMousa)\n- Enh #7405: Added `yii\\filters\\auth\\AuthMethod::optional` for optional authentification in all child classes (SilverFire)\n- Enh #7566: Improved `yii\\validators\\CompareValidator` default messages (slinstj)\n- Enh #7581: Added ability to specify range using anonymous function in `RangeValidator` (RomeroMsk)\n- Enh #7674: Added `yii\\db\\Connection::commandClass` to configure a command class that will be used by the connection (sammousa, silverfire, cebe)\n- Enh #8284: Added `yii\\captcha\\CaptchaAction::$imageLibrary` property allowing to set image rendering library (AnatolyRugalev)\n- Enh #8329: Added support of options for `message` console command (vchenin)\n- Enh #8613: `yii\\widgets\\FragmentCache` will not store empty content anymore which fixes some problems related to `yii\\filters\\PageCache` (kidol)\n- Enh #8649: Added total applied migrations to final report (vernik91)\n- Enh #8687: Added support for non-gregorian calendars, e.g. persian, taiwan, islamic to `yii\\i18n\\Formatter` (cebe, z-avanes, hooman-mirghasemi)\n- Enh #8824: Allow passing a `yii\\db\\Expression` to `Query::groupBy()` (cebe)\n- Enh #8995: `yii\\validators\\FileValidator::maxFiles` can be set to `0` to allow unlimited count of files (PowerGamer1, silverfire)\n- Enh #9282: Improved JSON error handling to support PHP 5.5 error codes (freezy-sk)\n- Enh #9337: Added `yii\\db\\ColumnSchemaBuilder::defaultExpression()` to support DB Expression as default value (kotchuprik)\n- Enh #9412: `yii\\web\\Response::sendHeaders()` does now set the status header last which negates certain magic PHP behavior regarding the `header()` function (nd4c, kidol)\n- Enh #9443: Added `unsigned()` to `ColumnSchemaBuilder` (samdark)\n- Enh #9465: ./yii migrate/create now generates code based on migration name and --fields (pana1990)\n- Enh #9573: Added `yii\\rbac\\ManagerInterface::getUserIdsByRole()` and implementations (samdark)\n- Enh #9635: Added default CSS class for `yii\\grid\\ActionColumn` header (arogachev, dynasource)\n- Enh #9643: Added migrations for DB cache (mdmunir)\n- Enh #9711: Added `yii\\widgets\\LinkPager::$pageCssClass` that allows to set default page class (ShNURoK42)\n- Enh #9733: Added Unprocessable Entity HTTP Exception (janfrs)\n- Enh #9762: Added `yii\\web\\JsonResponseFormatter::$encodeOptions` and `::$prettyPrint` for better JSON output formatting (cebe)\n- Enh #9783: jQuery inputmask dependency updated to `~3.2.2` (samdark)\n- Enh #9785: Added ability to invoke callback with dependency resolution to DI container (mdmunir, SamMousa)\n- Enh #9869: Allow path alias for SQLite database files in DSN config (ASlatius)\n- Enh #9901: Default `Cache.SerializerPermissions` configuration option for `HTMLPurifier` is set to `0775` (klimov-paul)\n- Enh #10056: Allowed any callable to be passed to `yii\\grid\\ActionColumn::$urlCreator` (freezy-sk)\n- Enh #10061: `yii\\helpers\\BaseInflector::transliterate()` is now public. Introduced different levels of transliteration strictness (silverfire)\n- Enh #10078: Added `csrf` option to `Html::beginForm()` to allow disabling the hidden csrf field generation (machour)\n- Enh #10086: `yii\\base\\Controller::viewPath` is now configurable (Sibilino)\n- Enh #10098: Changed `yii.confirm` context to the event's target DOM element which is triggered by clickable or changeable elements (lichunqiang)\n- Enh #10108: Added support for events in interfaces (omnilight)\n- Enh #10118: Allow easy extension of slug generation in `yii\\behaviors\\SluggableBehavior` (cebe, hesna, silverfire)\n- Enh #10149: Made `yii\\db\\Connection` serializable (Sam Mousa)\n- Enh #10154: Implemented support of traversable objects in `RangeValidator::ranges`, added `ArrayHelper::isIn()` and `ArrayHelper::isSubset()` (Sam Mousa)\n- Enh #10158: Added the possibility to specify CSS and Javascript options per file in `yii\\web\\AssetBundle` (machour)\n- Enh #10170: `Yii::powered()` now uses `Yii::t()` (SamMousa)\n- Enh #10217: Support for selecting multiple filter values with the same name was added to `yii.gridView.js` (omnilight, silverfire)\n- Enh #10255: Added Yii warning to session initialization if session was already started (AnatolyRugalev)\n- Enh #10264: Generation of HTML tags in Yii's JavaScript now uses jQuery style (silverfire)\n- Enh #10267: `yii.js` - added original event passing to `pjaxOptions` for links with `data-method` and `data-pjax` (servocoder, silverfire)\n- Enh #10319: `yii\\helpers\\VarDumper::dump()` now respects PHP magic method `__debugInfo()` (klimov-paul)\n- Enh #10359: Support wildcard category name in `yii/console/controllers/MessageController` (rmrevin)\n- Enh #10390: Added ability to disable outer tag for `yii\\helpers\\BaseHtml::radiolist()`, `::checkboxList()` (TianJinRong, githubjeka, silverfire)\n- Enh #10535: Allow passing a `yii\\db\\Expression` to `yii\\db\\Query::orderBy()` and `yii\\db\\Query::groupBy()` (andrewnester, cebe)\n- Enh #10545: `yii\\web\\XMLResponseFormatter` changed to format models in a proper way (andrewnester)\n- Enh #10783: Added migration and unit-tests for `yii\\i18n\\DbMessageSource` (silverfire)\n- Enh #10797: Cleaned up requirements checker CSS (muhammadcahya)\n- Enh: Added last resort measure for `yii\\helpers\\FileHelper::removeDirectory()` fail to unlink symlinks under Windows (samdark)\n- Enh: `yii\\behaviors\\AttributeBehavior::getValue()` now respects the callable in array format (silverfire)\n- Chg #6419: Added `yii\\web\\ErrorHandler::displayVars` make list of displayed vars customizable. `$_ENV` and `$_SERVER` are not displayed by default anymore (silverfire)\n- Chg #9369: `Yii::$app->user->can()` now returns `false` instead of erroring in case `authManager` component is not configured (creocoder)\n- Chg #9411: `DetailView` now automatically sets container tag ID in case it's not specified (samdark)\n- Chg #9528: `Traversable` objects are now formatted as arrays in `yii\\web\\XmlResponseFormatter` to support SPL objects and Generators (MaXL-ru)\n- Chg #9878, #9879, #9880: Make `yii\\base\\Security` use `random_bytes()`, LibreSSL, mcrypt, limit OpenSSL to Windows, and to prefer `password_hash()` over `crypt()` (tom--)\n- Chg #9953: `yii\\behaviors\\TimestampBehavior::getValue()` changed to make value processing consistent with `AttributeBehavior::getValue()` (silverfire)\n- Chg #10296: Methods mset, mget and madd of `yii\\caching\\Cache` have been marked as deprecated (trejder, githubjeka)\n- Chg: ApcCache is now able to handle PHP 7 APCu (samdark)\n- Chg: `yii\\behaviors\\BlameableBehavior::getValue()` changed to make value processing consistent with `yii\\behaviors\\AttributeBehavior::getValue()` (silverfire)\n- New #10083: Added wrapper for PHP webserver (samdark)\n- New: Added new requirement: ICU Data version >= 49.1 (SilverFire)\n\n\n2.0.6 August 05, 2015\n---------------------\n\n- Bug #4763: Fixed display issue with overlapping call stack item on exception display page (cebe)\n- Bug #7305: Logging of Exception objects resulted in failure of the logger i.e. no logs being written (cebe)\n- Bug #7374: Use proper INSERT syntax with default values when no values are specified (nineinchnick)\n- Bug #7707: Client-side `trim` validator now passes the trimmed value to subsequent validators (nkovacs)\n- Bug #7764: `yii\\helpers\\ArrayHelper::toArray()` wasn't passing `$recursive` to `yii\\base\\Arrayable::toArray()` (brandonkelly)\n- Bug #8161: Fixed active form `data-method` submit bug when client validation is used (vbelogai)\n- Bug #8322: `yii\\behaviors\\TimestampBehavior::touch()` now throws an exception if owner is new record (klimov-paul)\n- Bug #8451: `yii\\i18n\\Formatter` did not allow negative unix timestamps as input for date formatting (cebe)\n- Bug #8483: Sequence name in `Schema::getLastInsertId()` was not properly quoted (nineinchnick)\n- Bug #8506: Cleaning of output buffer in `Widget::run()` conflicts with `Pjax` widget which did the cleanup itself (cebe, joester89)\n- Bug #8544: Fixed `yii\\db\\ActiveRecord` does not update attribute specified at `optimisticLock()` after save (klimov-paul)\n- Bug #8549: Fixed `yii\\caching\\FileCache` doesn't lock cache files when reading (iworker)\n- Bug #8551: `yii\\pgsql\\QueryBuilder::batchInsert()` may cause \"undefined index\" error (arkhamvm)\n- Bug #8585: Fixed `yii\\helpers\\Html::activeTextarea()` does not allow value overriding via options (klimov-paul)\n- Bug #8592: Fixed `yii\\db\\Command::getRawSql()` unable to parse params specified without colon (':') (klimov-paul)\n- Bug #8593: Fixed `yii\\db\\ActiveQuery` produces incorrect SQL for aggregations, when `sql` field is set (klimov-paul)\n- Bug #8595: Fixed `yii\\rbac\\DbManager::checkAccessFromCache()` to check against auth items loaded in cache recursively (achretien, qiangxue)\n- Bug #8606: Fixed `yii\\web\\Response::xSendFile()` does not reset format (vyants)\n- Bug #8627: Fixed `yii\\db\\Migration` produces incorrect results due to table schema caching (klimov-paul)\n- Bug #8661: Fixed `yii.activeForm.js` scrolling to top (nkovacs)\n- Bug #8684: Formatter ignored explicit decimal number settings when a default value is configured (leandrogehlen, cebe)\n- Bug #8772: `yii\\db\\ActiveQuery` failed removing duplicate records after join when the resultset did not contain the pk values e.g. after grouping (cebe)\n- Bug #8844: Added a workaround for an oracle bug when fetching information about table constraints and filtering by `CONSTRAINT_TYPE` (nidgetgod)\n- Bug #8900: Fixed determining active menu item with URL-alias in route `yii\\widgets\\Menu::isItemActive()` (demi)\n- Bug #9006: Fixed bit column always returning true using certain version of PDO MySQL (stratoss, RusAlex, mj4444ru, samdark)\n- Bug #9046: Fixed problem with endless error loop when an error occurred after sending a stream or file download response to the user (cebe)\n- Bug #9059: Fixed PHP Notice in error handler view (dynasource, andrewnester, samdark)\n- Bug #9063: Workaround for MySQL losing table case when adding index (sebathi)\n- Bug #9076: Fixed `yii\\filters\\PageCache` not using the configured duration and dependency when caching the response data (kidol)\n- Bug #9091: `yii\\web\\UrlManager::createUrl()` did not create correct URL when defaults were used, internal cache is now skipped in certain situations (cebe)\n- Bug #9127, #9128: Fixed MSSQL `yii\\helpers\\mssql\\QueryBuilder::renameColumn()` and `yii\\helpers\\mssql\\QueryBuilder::renameTable()` escaping (sitawit)\n- Bug #9161: Fixed `yii\\web\\Request` ignore `queryParams` when resolve request (zetamen)\n- Bug: Fixed string comparison in `yii\\db\\BaseActiveRecord::unlink()` which may result in wrong comparison result for hash valued primary keys starting with `0e` (cebe)\n- Bug: Pass correct action name to `yii\\console\\Controller::options()` when default action was requested (cebe)\n- Bug: Automatic garbage collection in `yii\\caching\\FileCache` was not triggered (kidol)\n- Bug: Fixed missing stacktrace items on PHP syntax errors of \"unexpected end of file\" type (samdark)\n- Enh #3335: Implemented `yii\\db\\ColumnSchemaBuilder` (pana1990, vaseninm, samdark, cebe)\n- Enh #5991: Added `updateMessages()` to `yii.activeForm.js` to support manually updating ActiveForm messages (nkovacs)\n- Enh #6043: Specification for 'class' and 'style' in array format added to `yii\\helpers\\Html` (klimov-paul)\n- Enh #6853: Console application will now register PHP constants for `STDIN`, `STDOUT`, and `STDERR` itself if they are not defined (cebe)\n- Enh #7169: `yii\\widgets\\ActiveField` now uses corresponding methods for default parts rendering (klimov-paul)\n- Enh #7259: Added `errorAttributes` parameter to ActiveForm `afterValidate` event. Made scrolling to first error optional (nkovacs)\n- Enh #8070: `yii\\console\\controllers\\MessageController` now sorts created messages, even if there is no new one, while saving to PHP file (klimov-paul)\n- Enh #8286: `yii\\console\\controllers\\MessageController` improved allowing extraction of nested translator calls (klimov-paul)\n- Enh #8373: Check also `post_max_size` parameter in `yii\\validators\\FileValidator::getSizeLimit()` (maxxer)\n- Enh #8415: `yii\\helpers\\Html` allows correct rendering of conditional comments containing `!IE` (salaros, klimov-paul)\n- Enh #8444: Added `yii\\widgets\\LinkPager::$linkOptions` to allow configuring HTML attributes of the `a` tags (zinzinday)\n- Enh #8486: Added support to automatically set the `maxlength` attribute for `Html::activeTextArea()` and `Html::activePassword()` (klimov-paul)\n- Enh #8566: Added support for 'only' and 'except' options for `yii\\web\\AssetManager::publish()` (klimov-paul)\n- Enh #8574: Added `yii\\console\\controllers\\MessageController` support .pot file creation (pgaultier)\n- Enh #8625: Added `markUnused` option to `yii\\console\\controllers\\MessageController` (marius7383)\n- Enh #8670: Added support for saving extra fields in session table for `yii\\web\\DbSession` (klimov-paul)\n- Enh #8671: Extracted `yii\\helpers\\Html::escapeJsRegularExpression()` method from `yii\\validators\\RegularExpressionValidator` (silverfire, klimov-paul, samdark, qiangxue)\n- Enh #8903: PostgreSQL `yii\\db\\pgsql\\QueryBuilder::createIndex()` can now specify the index method to use (LAV45)\n- Enh #8933: Yii is now able to properly handle HHVM fatal errors (dieend, samdark)\n- Enh #9011: Allow `yii\\widgets\\MaskedInput` to produce an input tag of a custom type (TriAnMan)\n- Enh #9038: Write warning to log in case `FileCache` fails to write into file (foccy)\n- Enh #9072: `yii\\web\\ErrorAction` displays 404 error instead of blank page on direct access (klimov-paul)\n- Enh #9149: Print directory migrationPath in a `yii migrate` command error. (RusAlex)\n- Enh #9177: Added password hash cost setting to Security component (freezy-sk)\n- Enh #9239: Better handling of `Json` errors (grzegorzkurtyka, samdark)\n- Enh #9246: Added `yii\\web\\UrlRule::getParamRules()` (df2)\n- Enh #9249: Added `hashCallback` in `yii\\web\\AssetManager` to allow custom hash generation for asset directory (petrabarus)\n- Enh #9263: Avoid extra DB query in RBAC DbManager in case auth item name is empty (samdark)\n- Enh #9268: Improved display of boolean parameters in logged SQL queries (arkhamvm, samdark)\n- Enh: Improved Console helper progress bar ETA time estimation, updated only once per second to avoid flapping (cebe)\n- Chg #6354: `yii\\base\\ErrorHandler::logException()` will now log the whole exception object instead of only its string representation (cebe)\n- Chg #8556: Extracted `yii\\web\\User::getAuthManager()` method (samdark)\n- Chg #9181: `yii\\helpers\\BaseStringHelper::truncateHtml()` is now using `runtime` directory for `HTMLPurifier` cache (webdevsega)\n\n\n2.0.5 July 11, 2015\n-------------------\n\n- Bug #9070 (CVE-2015-5467): Fixed `ViewAction::resolveViewName()` not to accept `/../` and `/./` (thejahweh, samdark)\n\n\n2.0.4 May 10, 2015\n------------------\n\n- Bug #5042: Use `RETURNING` for inserts for pgsql and oci to support PKs with a custom default value expression (nineinchnick, klimov-paul)\n- Bug #6234: Fixed wrong table schema information for MSSQL when using multiple schemas (nineinchnick)\n- Bug #6642: Fixed the bug that using confirmation dialog via `data-confirm` in an `yii\\widgets\\ActiveForm` may cause the dialog to appear twice (pana1990, qiangxue)\n- Bug #6871: Fixed the bug that using defaults and hostnames in URL rules may cause an out-of-range index issue (qiangxue)\n- Bug #7036: Fixed `yii\\helpers\\Html::dropDownList()` overrides label specified at 'groups' option (aktec, klimov-paul)\n- Bug #7473: Fixed `yii\\console\\controllers\\AssetController` does not create missing folders for the target bundles (schmunk42, klimov-paul)\n- Bug #7894: Fixed incorrect URL config processing at `yii\\web\\Application::handleRequest()` and `yii\\widgets\\Menu::items` if route element is not a first one (nkovacs, klimov-paul)\n- Bug #7529: Fixed `yii\\web\\Response::sendContentAsFile()` that was broken in 2.0.3 (samdark)\n- Bug #7603: Fixed escape characters in `FormatConverter` to work with unicode characters (maddoger, cebe)\n- Bug #7656: Fixed `yii\\rbac\\DbManager::getRolesByUser()` and `yii\\rbac\\PhpManager::getRolesByUser()` to return roles only (samdark)\n- Bug #7757: Fix fetching tables schema for oci and mysql when `PDO::ATTR_CASE` is set (nineinchnick)\n- Bug #7761: Fixed formatting one digit month in date formatter using ICU format `L` (nkovacs)\n- Bug #7775: Added more strict check on controller IDs when they are being used to create controller instances on Windows (Bhoft, qiangxue)\n- Bug #7831: Add order when fetching database table names and constraints (nineinchnick)\n- Bug #7846: Fixed `yii\\base\\Model` does not recognize scenario declared by rules using 'except' (klimov-paul)\n- Bug #7847: `yii\\db\\ColumnSchema` was typecasting numerics to strings with incorrect decimal separator for some locales (nineinchnick)\n- Bug #7861: Fixed `yii\\helpers\\VarDumper::export()` fails to export object containing `Closure` (klimov-paul)\n- Bug #7867: Fixed `findUniqueIndexes()` not to perform any processing on unique index on function for pgsql (nineinchnick)\n- Bug #7868: Fixed fetching columns definition and composite foreign keys for oci (nineinchnick)\n- Bug #7868: Removed column's autoIncrement detection from oci (nineinchnick)\n- Bug #7868: Fixed creating raw SQL (for logging) by skipping object and resource params (nineinchnick)\n- Bug #7868: Fixed `yii\\db\\Schema::getLastInsertID()`` by quoting sequence name (nineinchnick)\n- Bug #7957: Removed extra `parseFloat()` call for the `compare` js validator (CthulhuDen)\n- Bug #8012: Fixed fetching multiple relations between two tables for pgsql (nineinchnick)\n- Bug #8014: Fixed setting incorrect form \"action\" property after submitting a form using a link with \"data-method\" and containing \"action\" among \"data-params\" (samdark)\n- Bug #8032: `yii\\rbac\\PhpManager::updateItem()` was unable to rename item updated (ChristopheBrun, samdark)\n- Bug #8036: Fixed `yii\\log\\Logger` unable to export session id (klimov-paul)\n- Bug #8068: Fixed `yii\\db\\Query::count()` fails for query containing 'having' without 'group by' (klimov-paul)\n- Bug #8073: Fixed `yii\\data\\ArrayDataProvider::getKeys()` return wrong when `yii\\data\\ArrayDataProvider::$allModels` contain integer key (mdmunir, klimov-paul)\n- Bug #8082: Fixed `yii\\db\\BaseActiveRecord::getAttributeLabel()` return wrong label for related attribute, if several relations in chain share same name (klimov-paul)\n- Bug #8149: Fixed `yii\\db\\BaseActiveRecord::updateCounters()` fails for new record saved with counter attribute not set (klimov-paul)\n- Bug #8158: Avoid exception when detecting console screen size fails on windows (EliasZ)\n- Bug #8165: Fixed `yii\\db\\ActiveRelationTrait::populateRelation()` fails when `link` refers to string convertable object attribute, like `MongoId` (klimov-paul)\n- Bug #8231: Configuration of GridView and DetailView where not preserved when used multiple times (cebe, idMolotov)\n- Bug #8273: Fixed `yii\\widgets\\FragmentCache` when `enabled` is false (nkovacs)\n- Bug #8291: Fixed numeric keys in `$_GET` transformed to 0-based, if 'pretty URL' enabled (quantum13, klimov-paul)\n- Bug #5053: DateValidator is now more robust against different timezone settings (cebe)\n- Bug (CVE-2015-3397): Added `yii\\helpers\\Json::htmlEncode()` to support safer JSON data encoding in HTML code (samdark, Wojciech Janusz, Tomasz Tokarski)\n- Enh #1468: Added ability to specify hints for model attributes via `attributeHints()` method (klimov-paul)\n- Enh #3376: Added `yii\\validators\\EachValidator`, which allows validation of the array attributes (klimov-paul)\n- Enh #5053: Added possibility to specify a format and time zone for the `timestampAttribute` of date validator making it fully usable for validating complete timestamps (cebe)\n- Enh #6442: Improved error message on `yii\\helpers\\FileHelper::createDirectory()` to include the path name of the directory (cebe)\n- Enh #6895: Added `ignoreCategories` config option for message command to ignore categories specified (samdark)\n- Enh #6975: Pressing arrows while focused in inputs of Active Form with `validateOnType` enabled no longer triggers validation (slinstj)\n- Enh #7409: Allow `yii\\filters\\auth\\CompositeAuth::authMethods` to take authentication objects (fernandezekiel, qiangxue)\n- Enh #7443: Allow specification of the `$key` as an array at `yii\\helpers\\ArrayHelper::getValue()` (Alex-Code)\n- Enh #7488: Added `yii\\helpers\\StringHelper::explode()` to perform explode with trimming and skipping of empty elements (SilverFire, nineinchnick, creocoder, samdark)\n- Enh #7514: Added min/max validation to `yii\\validators\\DateValidator` (nkovacs)\n- Enh #7515: Added support to use `indexBy()` together with `column()` in query builder (qiangxue)\n- Enh #7530: Improved default values for `yii\\data\\Sort` link labels in a `ListView` when used with an `ActiveDataProvider` (cebe)\n- Enh #7539: `yii\\console\\controllers\\AssetController` provides dependency trace in case bundle circular dependency detected (klimov-paul)\n- Enh #7562: `yii help` now lists all sub-commands by default (callmez)\n- Enh #7571: HTTP status 500 and \"An internal server error occurred.\" are now returned in case there was an exception in layout and `YII_DEBUG` is false (samdark)\n- Enh #7636: `yii\\web\\Session::getHasSessionId()` uses a more lenient way to check if session ID is provided in URL (robsch)\n- Enh #7637: Allow `yii\\web\\Request::validateCsrfToken()` to validate a manually provided token (miraage, qiangxue)\n- Enh #7808: Adjusted Masked input to correctly generate the hash variable to store the plugin options (wbraganca)\n- Enh #7833: Support (materialized) views and foreign tables along normal tables when fetching table schema (nineinchnick)\n- Enh #7850: Added `yii\\filters\\PageCache::cacheCookies` and `cacheHeaders` to allow selectively caching cookies and HTTP headers (qiangxue)\n- Enh #7867: Implemented findUniqueIndexes for oci and mssql (nineinchnick)\n- Enh #7912: Added `aria-label` to ActionColumn buttons (LAV45, samdark)\n- Enh #7915: Added `yii\\i18n\\Formatter::$numberFormatterSymbols` to allow setting custom symbols for the internally used IntlNumberFormatter, e.g. currency signs (cebe)\n- Enh #7918: `yii\\widgets\\Pjax` got ability to avoid registering link/form handler via setting `false` to `$linkSelector`/`$formSelector` (usualdesigner, Alex-Code, samdark)\n- Enh #7973: Added `yii\\db\\Schema::getSchemaNames()` method (nineinchnick)\n- Enh #8027: Added support for using sub queries in simple Query WHERE conditions (cebe)\n- Enh #8055: `yii\\rest\\UrlRule::extraPatterns` should take precedence over `patterns` (Agrumas)\n- Enh #8064: Added ability to remove containing menu tag by setting `yii\\widgets\\Menu::$options['tag']` to `false` (kirsenn, samdark)\n- Enh #8078: 'links' and 'meta' envelope names are now configurable at `yii\\rest\\Serializer` (arturf)\n- Enh #8171: Allow the user to enforce the fileSize to allow sending files which are not seekable. Needed when using S3 Stream Wrapper (pgaultier)\n- Enh #8179: Added parameter to define whether the comparison of `yii\\db\\BaseActiveRecord::isAttributeChanged()` method will be made as identical (thiagotalma)\n- Enh #8194: Caching of the matched rules added to `yii\\web\\UrlManager::createUrl()` (laszlovl, klimov-paul)\n- Enh #8268: Allow `yii\\db\\QueryBuilder` to recognize more variations of `limit` and `offset` values (tino415, qiangxue)\n- Enh: `yii\\i18n\\Formatter` now shows more information about errors which occured when formatting values (cebe)\n- Enh: Added `yii\\helper\\Console::wrapText()` method to wrap indented text by console window width and used it in `yii help` command (cebe)\n- Enh: Implement batchInsert for oci (nineinchnick)\n- Enh: Detecting `yii\\db\\IntegrityException` for oci (nineinchnick)\n- Enh: `yii\\widgets\\LinkPager::$firstPageLabel` and `yii\\widgets\\LinkPager::$lastPageLabel` now could be set to true in order to use page number as label (samdark)\n- Chg #7924: Migrations in history are now ordered by time applied allowing to roll back in reverse order no matter how these were applied (samdark)\n- Chg: Updated dependency to `cebe/markdown` to version `1.1.x` (cebe)\n\n\n2.0.3 March 01, 2015\n--------------------\n\n- Bug #5457: `yii\\web\\Cors` should handle `Access-Control-Request-Headers` in a case-insensitive manner (qiangxue)\n- Bug #6553: `yii\\validators\\DateValidator` returned valid for date \"2012-12-12foo\" with intl extension enabled (gajahlemu)\n- Bug #6919: Fixed wrong namespaces under advanced application's `TestCase` classes (ivokund)\n- Bug #6940: `yii\\web\\Response::sendContentAsFile()` may not send correct `content-length` header (sadgnome)\n- Bug #6969: `yii\\helpers\\ArrayHelper::htmlEncode()` and `htmlDecode()` should not remove non-string data (qiangxue)\n- Bug #7037: `yii\\console\\controllers\\AssetController` now correctly handles relative image URLs if source and target CSS are under same directory (klimov-paul)\n- Bug #7055: composite IN condition was not generated correctly for certain DBMS (nineinchnick)\n- Bug #7074: `yii\\data\\ArrayDataProvider` did not correctly handle the case `Pagination::pageSize = 0` (kirsenn, qiangxue)\n- Bug #7172: Fixed problem with EmailValidator which did not extract domain correctly for DNS check (nbogol)\n- Bug #7209: `yii\\helpers\\Html::getInputId()`` now also replaces `.` with `-` to ensure a valid ID is generated (omnilight)\n- Bug #7211: Query caching should properly deal with the case when query result is false (qiangxue)\n- Bug #7218: `yii\\captcha\\CaptchaAction` should send response in JSON format (InteLigent, qiangxue)\n- Bug #7226: `yii\\web\\Request::getEtag()` should strip off `-gzip` which may be added by Apache (mcd-php)\n- Bug #7227: Query builder should respect column alias setting when `yii\\db\\Expression` is being selected (mdmunir, qiangxue)\n- Bug #7271: `yii\\db\\ActiveRecord::populateRecord()` should be called in late binding approach (jlorente)\n- Bug #7258: Response was sending HTML content type when formatter was set to JSON or XML, nulls were handled wrong (slavcodev, samdark)\n- Bug #7358: Fix trimming PHPDoc prefix with TAB indent in `yii\\console\\Controller::parseDocCommentSummary()` (gugglegum)\n- Bug #7384: Fix precision loss in log timestamps when using `yii\\log\\DBTarget` (samdark)\n- Bug #7425: `yii\\widgets\\ActiveField::radio()` should not generate the label twice (justinvoelker)\n- Enh #3168: Improved the performance of `yii\\rbac\\DbManager::checkAccess()` by caching mechanism (qiangxue)\n- Enh #3723: `yii\\filters\\PageCache` now supports caching response headers as well as non-HTML response content (qiangxue)\n- Enh #4710: Added `yii\\web\\AssetManager::appendTimestamp` to support cache busting for assets  (qiangxue)\n- Enh #5663: Added support for using `data-params` to specify additional form data to be submitted via the `data-method` approach (usualdesigner, qiangxue)\n- Enh #5681: Allow customization of Menu::submenuTemplate in menu items (RobertBoes, otsec)\n- Enh #6106: Added ability to specify `encode` for each item of `yii\\widgets\\Breadcrumbs` (samdark, aleksanderd)\n- Enh #6361: Added `validateAttribute()` to `yii.activeForm.js` to support manually triggering data validation of an input (Alex-Code, qiang)\n- Enh #6493: Added support for the `Access-Control-Expose-Headers` header by `yii\\filters\\Cors` (usualdesigner)\n- Enh #6697: Added `yii\\helpers\\Url::current()` method that allows adding or removing parameters from current URL (samdark, callmez)\n- Enh #6852: Added `yii\\helpers\\BaseHtmlPurifier::helpers()` in order to be able to configure `HtmlPurifier` helper globally via subclassing (Alex-Code)\n- Enh #6882: Added `yii\\web\\ErrorHandler::getTypeUrl()` in order to allow providing custom types/classes/methods URLs for subclasses (brandonkelly)\n- Enh #6883: `yii\\base\\ErrorHandler::logException()` is now public (samdark)\n- Enh #6896: Added `yii\\log\\FileTarget::$enableRotation` to allow disabling log rotation when external tools are configured for this (cebe)\n- Enh #7008: Removed extra white space in GridView filter cell (uran1980)\n- Enh #7051: Added support for preventing swapping values between different cookies (pavimus, qiangxue)\n- Enh #7150: FormatConverter for date formats now supports single quote escaping (brandonkelly)\n- Enh #7255: Added support to allow widgets that use text input to specify input types (qiangxue)\n- Enh #7269: `yii\\console\\controllers\\BaseMigrateController` now throws exception if directory specified doesn't exist and action isn't `create` (lynicidn, samdark)\n- Enh #7301: Added checking for ICU version in requirements warning about plural problems when it is lower than 49 (sidtj)\n- Enh #7332: Added ability to remove `yii\\widgets\\Menu` container tag by setting `options['tag']` to `false` (dynasource, samdark)\n- Enh #7350: Added `yii\\helpers\\Html::$dataAttributes` to support customizing data attributes (Faryshta, qiangxue)\n- Enh #7357: Refactored `yii\\db\\ColumnSchema` by adding `typecast()` method to decouple `phpTypecast()` from `dbTypecast()` (mcd-php, qiangxue)\n- Enh #7361: The `trim` validator now works on the client side too (qiangxue)\n- Enh #7440: Added support to automatically set the `maxlength` attribute for `Html::activeTextInput()` (llfm)\n- Enh #7446: Added `Schema::TYPE_DOUBLE` to represent ANSI SQL Double Precision type (samdark)\n- Enh #7449: Added `encode` option to allow not encoding select options for `Html::dropDownList()` and `Html::listBox()` (yapi68, qiangxue)\n- Enh: Added support to `yii\\di\\Container` to instantiate and configure an object that implements `yii\\base\\Configurable` (qiangxue)\n- Chg #5690: adjusted paths in message config generated by `yii message/config` to reflect directory structure better (mikehaertl, samdark)\n- Chg #6661: Hyperlinks that are enclosed within an exist form will use the same form for submission if they specify both of the `href` and `data-method` attributes (qiangxue)\n- Chg #7094: Console confirmation must be answered correctly. To return `true`: `y` or `yes`. To return `false`: `n` or `no`. Any other input the question will be asked again (thiagotalma)\n- Chg #7130: Changed the signature of `ActiveRecord::findByCondition()` to simplify the implementation and usage (Faryshta)\n- Chg #7215: Uses OpenSSL crypto lib instead of Mcrypt. Added testing of encrypted data compatibility, both backward and forward (tom--)\n\n\n### Apidoc Extension (yii2-apidoc)\n\n- no changes in this release.\n\n\n### Authclient Extension (yii2-authclient)\n\n- Enh #6892: Default value of `yii\\authclient\\clients\\Twitter::$authUrl` changed to 'authenticate', allowing usage of previous logged user without request an access (kotchuprik)\n\n\n### Bootstrap Extension (yii2-bootstrap)\n\n- no changes in this release.\n\n\n### Codeception Extension (yii2-codeception)\n\n- Bug #6978: DI Container is not reset when destroying application in functional tests (ivokund)\n\n\n### Composer Extension (yii2-composer)\n\n- no changes in this release.\n\n\n### Debug Extension (yii2-debug)\n\n- Bug #6903: Fixed display issue with phpinfo() table (kalayda, cebe)\n- Bug #7222: Debug toolbar wasn't displayed properly in rtl pages (mohammadhosain, johonunu, samdark)\n- Enh #6890: Added ability to filter by query type (pana1990)\n\n\n### Elasticsearch Extension (yii2-elasticsearch)\n\n- no changes in this release.\n\n\n### Faker Extension (yii2-faker)\n\n- no changes in this release.\n\n\n### Gii Extension (yii2-gii)\n\n- Chg #7328: Changed the way CRUD generator translates \"Create X\". Now it's a whole string because of translation difficulties (samdark)\n\n\n### Imagine Extension (yii2-imagine)\n\n- no changes in this release.\n\n\n### Jui Extension (yii2-jui)\n\n- Enh #7127: `name` or `model` and `attribute` are no longer required properties of `yii\\jui\\InputWidget` (nirvana-msu, cebe)\n\n\n### Mongodb Extension (yii2-mongodb)\n\n- Bug #7010: Fixed `yii\\mongodb\\Query::select` now allows excluding fields (Sammaye, klimov-paul)\n\n\n### Redis Extension (yii2-redis)\n\n- no changes in this release.\n\n\n### Smarty Extension (yii2-smarty)\n\n- Bug #6845: Fixed incorrect implementation of `{registerCssFile` and `{registerJsFile` (TomassunGitHub, samdark)\n- Bug #6991: Fixed exception when using `{use class='yii\\bootstrap\\Nav' type='function'}` (ivanlemeshev)\n\n\n### Sphinx Extension (yii2-sphinx)\n\n- Bug #7198: `yii\\sphinx\\Query` no longer attempts to call snippets for the empty query result set (Hrumpa)\n\n\n### Swiftmailer Extension (yii2-swiftmailer)\n\n- no changes in this release.\n\n\n### Twig Extension (yii2-twig)\n\n- no changes in this release.\n\n\n2.0.2 January 11, 2015\n----------------------\n\n- Bug #5577: formatting date and time values for years >=2038 or <=1901 on 32bit systems will not use intl extension but fall back to the PHP implementation (cebe)\n- Bug #6080: Oracle DB schema did not load column types correctly (wenbin1989)\n- Bug #6404: advanced project template `Alert` widget was generating duplicate IDs in case of multiple flashes (SDKiller)\n- Bug #6557: Link URLs generated by `yii\\widgets\\Menu` are not encoded (qiangxue)\n- Bug #6632: `yii\\di\\Container::get()` did not handle config parameter correctly when it is passed as a constructor parameter (qiangxue)\n- Bug #6648: Added explicit type casting to avoid dblib issues on SQL Server 2014 (o-rey)\n- Bug #6691: Fixed console help description parsing with UTF8 characters (cebe)\n- Bug #6717: Fixed issue with UrlManager not matching a route on URL creation when it was prefixed with `/` and pattern was empty (cebe)\n- Bug #6736: Removed `Content-Transfer-Encoding` from the list of default download headers (DaSourcerer)\n- Enh #4502: Added alias support to URL route when calling `yii\\helpers\\Url::toRoute()` and `yii\\helpers\\Url::to()` (qiangxue, lynicidn)\n- Enh #5194: `yii\\console\\controllers\\AssetController` now handles bundle files from external resources properly (klimov-paul)\n- Enh #6247: Logger and error handler are now using slightly less memory (stepanselyuk, samdark)\n- Enh #6398: Added support for specifying dependent component in terms of a configuration array for classes such as `DbCache` (qiangxue)\n- Enh #6434: Added `yii\\behaviors\\SluggableBehavior::immutable` to support keeping the generated slug unchanged (trntv)\n- Enh #6467: `yii\\widgets\\ActiveForm` will scroll to the nearest visible element when the first error input is hidden (newartix)\n- Enh #6488: Support changing `yii\\base\\Theme::basePath` during runtime (qiangxue)\n- Enh #6618: Added Model::addErrors() (slavcodev, pana1990)\n- Enh #6739: Log `Target` now works also when there is no `Yii::$app` instance available, no message prefix will be added in this case (schmunk42)\n- Enh #6748: Improved HTML to Text converter in BaseMailer to generate more readable and correct text version of emails (cebe)\n- Chg #6427: In case of invalid route web application now throws exception with \"Page not found\" instead of \"Invalid Route\" (cebe, samdark)\n- Chg #6641: removed zero padding from ETag strings (DaSourcerer)\n- Chg #6678: `yii\\behaviors\\SluggableBehavior` will generate a new slug only when the slug attribute is empty or the source attribute is changed (qiangxue)\n\n\n### Authclient Extension (yii2-authclient)\n\n- Bug #6502: Fixed `yii\\authclient\\OAuth2::refreshAccessToken()` does not save fetched token (sebathi)\n- Bug #6510: Fixed infinite redirect loop using default `yii\\authclient\\AuthAction::cancelUrl` (klimov-paul)\n\n\n### Bootstrap Extension (yii2-bootstrap)\n\n- Bug #6672: `yii\\bootstrap\\Dropdown` should register client event handlers (qiangxue)\n\n\n### Debug Extension (yii2-debug)\n\n- Bug #4820: Fixed reading incomplete debug index data in case of high request concurrency (martingeorg, samdark)\n- Chg #6572: Allow panels to stay even if they do not receive any debug data (qiangxue)\n\n\n### Elasticsearch Extension (yii2-elasticsearch)\n\n- Enh: Added `ActiveFixture` class for testing fixture support for elasticsearch (cebe, viilveer)\n\n\n### Gii Extension (yii2-gii)\n\n- Bug #6463: The Gii controller generator generates incorrect controller namespace (pana1990)\n- Enh #3665: Better default behavior for ModelSearch generated by the crud generator (qiangxue, mdmunir)\n\n\n### Jui Extension (yii2-jui)\n\n- Enh #6570: Datepicker now uses fallback to find language files, e.g. application language is `de-DE` and the translation files does not exists, it will use `de` instead (cebe)\n- Enh #6471: Datepicker will now show an empty field when value is an empty string (cebe)\n\n\n### Mongodb Extension (yii2-mongodb)\n\n- Bug #6376: Fixed lazy load of relations to `yii\\mongodb\\file\\ActiveRecord` (klimov-paul)\n\n\n### Redis Extension (yii2-redis)\n\n- Bug #6547: Fixed redis connection to deal with large data in combination with `mget()` (pyurin)\n\n\n### Sphinx Extension (yii2-sphinx)\n\n- Bug #6621: Creating sub query at `yii\\sphinx\\Query::queryScalar()` fixed (klimov-paul)\n\n\n### Twig Extension (yii2-twig)\n\n- Bug #6464: `path` and `url` weren't resolving aliases (samdark, lynicidn)\n\n\n2.0.1 December 07, 2014\n-----------------------\n\n- Bug #4471: `yii\\caching\\ApcCache::getValues()` now returns array in case of APC is installed but not enabled in CLI mode (samdark, cebe)\n- Bug #4823: `yii message` accuracy and error handling were improved (samdark)\n- Bug #4889: Application was getting into redirect loop when user wasn't allowed accessing login page. Now shows 403 (samdark)\n- Bug #5070: Gii controller generator should use controller class name instead of controller ID to specify new controller (qiangxue)\n- Bug #5402: Debugger was not loading when there were closures in asset classes (samdark)\n- Bug #5448: Date formatter was doing timezone conversion on date only values resulting in different date displayed than provided (cebe)\n- Bug #5452: Errors occurring after the response is sent are not displayed (qiangxue)\n- Bug #5521: Fixed `yii\\console\\controllers\\AssetController` breaks CSS URLs, which start from '/' (klimov-paul)\n- Bug #5570: `yii\\bootstrap\\Tabs` would throw an exception if `content` is not set for one of its `items` (RomeroMsk)\n- Bug #5584: `yii\\rbac\\DbRbacManager` should not delete items when deleting a rule on a database not supporting cascade update (mdmunir)\n- Bug #5601: Simple conditions in Query::where() and ActiveQuery::where() did not allow `yii\\db\\Expression` to be used as the value (cebe, stevekr)\n- Bug #5619: `yii\\log\\Target` should not attempt to start session when there is none (klimov-paul, qiangxue)\n- Bug #5657: `yii\\caching\\ApcCache::mset()` and `madd()` may cause warning in some APC setup (LAV45)\n- Bug #5665: The `currentPage` meta data in the RESTful result should be 1-based, similar to that in HTTP headers (qiangxue)\n- Bug #5682: The `asset` command would incorrectly combine CSS files when `yii\\web\\AssetManager::linkAssets` is true (dmvslv)\n- Bug #5702: Parenthesis should be automatically added to `yii\\validators\\Validator::whenClient` to avoid js error (mdmunir, qiangxue)\n- Bug #5745: Gii and debug modules may cause 404 exception when the route contains dashes (qiangxue)\n- Bug #5748: Smarty `{path` was generating absolute URLs instead of relative ones (samdark, motzel)\n- Bug #5768: When setting `data-confirm` attribute to a submit button, clicking on the button would not trigger form submission (qiangxue)\n- Bug #5780: `QueryBuilder::batchInsert()` may cause \"undefined index\" error (qiangxue)\n- Bug #5833: The `message` command fails with a FK constraint error when trying to update messages (qiangxue)\n- Bug #5863: Selecting all individual `yii\\grid\\CheckboxColumn` checkboxes in grid view wasn't resulting in \"all\" checkbox selected (samdark)\n- Bug #5893: `yii\\helpers\\ArrayHelper::toArray()` now applies `$properties` parameter for converting descending objects in recursive calls (otsec)\n- Bug #5925: `yii\\helpers\\ArrayHelper::htmlEncode()` does not work properly when the value being encoded is a nested array (tebazil)\n- Bug #5962: DateValidator was throwing a warning on invalid dates using the ICU format on Windows, Yii now works around this [PHP Bug](https://bugs.php.net/bug.php?id=68528) (cebe)\n- Bug #5997: The same message may be exported twice to log targets (klimov-paul)\n- Bug #6018: When setting the `encode` option via `yii\\widgets\\ActiveRecord::errorOptions`, it works the other way around (stanishevsky, qiangxue)\n- Bug #6049: `yii\\db\\Connection::getSchema()` for Oracle should return false when the table does not exist. Oracle does not support `ON UPDATE` clause. (wenbin1989)\n- Bug #6081: `yii\\rbac\\DbManager::getChildren()` was not quoting column name properly (wenbin1989)\n- Bug #6107: `yii message` was emptying existing translations in .po in case of multiple categories (samdark)\n- Bug #6112: `yii message` was incorrectly writing not yet translated strings in .po in case of multiple categories (samdark)\n- Bug #6172: `yii\\rbac\\DbManager` should properly quote table and column names (qiangxue)\n- Bug #6164: Added missing support for `yii\\db\\Expression` to `yii\\db\\QueryBuilder` `BETWEEN` and `LIKE` conditions (cebe)\n- Bug #6236: No JS scripts should be registered when `yii\\widgets\\ActiveForm::enableClientScript` is false (qiangxue)\n- Bug #6150: `yii\\bootstrap\\Tabs` dropdown IDs were generated incorrectly (samdark)\n- Bug #6266: Clicking on reset button does not hide error summary when using ` (InteLigent, qiangxue)\n- Bug #6271: Query caching returns the same data when running the same SQL with `yii\\widgets\\ActiveForm` different fetch modes (grachov)\n- Bug #6279: `yii\\db\\Schema::getLastInsertID()` was passing wrong default schema name to PDO (samdark)\n- Bug #6305: `yii\\i18n\\Formatter::asParagraphs()` was not unicode-aware (samdark)\n- Bug #6311: Optimistic lock for ActiveRecord does not work as expected (qiangxue)\n- Bug #6367: Added `yii\\gii\\generators\\crud\\Generator` to support customizing view path for the generated CRUD controller (qiangxue)\n- Bug #6381: Client-side file validation should be disabled if the browser does not support it (Skysplit)\n- Bug: Gii console command help information does not contain global options (qiangxue)\n- Bug: `yii\\web\\UrlRule` was unable to create URLs for rules containing unicode characters (samdark)\n- Bug: `yii\\web\\AssetManager` should not publish disabled asset bundles (qiangxue)\n- Enh #608: Added `yii\\web\\AssetConverter::$forceConvert` (klimov-paul)\n- Enh #4146: Added `yii\\bootstrap\\ButtonDropdown::$containerOptions` (samdark)\n- Enh #4181: Added `yii\\bootstrap\\Modal::$headerOptions` and `yii\\bootstrap\\Modal::$footerOptions` (tuxoff, samdark)\n- Enh #4263: Added migration and SQL schema files for `yii\\log\\DbTarget` (samdark)\n- Enh #4395: Added `$checkAjax` parameter to `yii\\web\\Response::redirect()` to support default redirection behavior for AJAX/PJAX requests (qiangxue)\n- Enh #4450: Added `yii\\bootstrap\\Nav::renderDropdown()` (qiangxue)\n- Enh #4457: Added support for using noscript for css files registered through asset bundles and Html helper (samdark)\n- Enh #4492: Support PostgreSQL-specific syntax for `yii\\db\\QueryBuilder::alterColumn()` (qiangxue)\n- Enh #4643: Extra options specified in `yii\\widgets\\Breadcrumbs::links` will be treated as HTML attributes for the generated hyperlinks (qiangxue)\n- Enh #4739: Better display of exceptions when the response format is set as \"raw\" format (qiangxue)\n- Enh #4791: Added console output support and more colors for console commands (6pblcb, samdark, klimov-paul, Ragazzo)\n- Enh #5005: Added support to suppress loading the same CSS files in AJAX responses (tof06, qiangxue)\n- Enh #5223: Query builder now supports selecting sub-queries as columns (qiangxue)\n- Enh #5367: Added `yii\\grid\\DataColumn::encodeLabel` (SDKiller)\n- Enh #5480: Added defensive code to `yii\\web\\User::getIdentity()` to avoid potential infinite recursion (qiangxue)\n- Enh #5494: Added support for specifying a menu header as a configuration array in `yii\\bootstrap\\Dropdown` (hiltonjanfield, qiangxue)\n- Enh #5503: Added support for `DateTimeImmutable` to `yii\\i18n\\Formatter` (olegtsvetkov, cebe)\n- Enh #5587: `json_encode` is now used with `JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE` where it makes sense, also\n  it is now default for `yii\\helpers\\Json::encode()` (samdark)\n- Enh #5600: Allow configuring debug panels in `yii\\debug\\Module::panels` as panel class name strings (qiangxue)\n- Enh #5613: Added `--overwrite` option to Gii console command to support overwriting all files (motin, qiangxue)\n- Enh #5627: Added `yii cache/flush-schema` console command to flush DB schema cache of a given database connection (6pblcb, samdark)\n- Enh #5646: Call `yii\\base\\ErrorHandler::unregister()` instead of `restore_*_handlers` directly (aivus)\n- Enh #5683: Added `yii\\i18n\\Formatter::defaultTimeZone` for specifying the default time zone to use for datetime values stored in the database (cebe)\n- Enh #5688: Added optional `$formName` to `Model::loadMultiple()` to support customizing form name directly (qiangxue)\n- Enh #5735: Added `yii\\bootstrap\\Tabs::renderTabContent` to support manually rendering tab contents (RomeroMsk)\n- Enh #5770: Added more PHP error names for `ErrorException` (mongosoft)\n- Enh #5799: `yii\\bootstrap\\ButtonGroup::buttons` can take all options that are supported by `yii\\bootstrap\\Button` (aleksanderd)\n- Enh #5806: Allow `Html::encode()` to be used when the application is not started (qiangxue)\n- Enh #5954: `yii message` command now shows user friendly error if it's not able to parse source file (samdark)\n- Enh #5983: Added `yii\\helpers\\Inflector::sentence()` (pana1990, qiangxue)\n- Enh #6113: Improved debugger configuration and request UI (schmunk42)\n- Enh #6207: Added support for truncating HTML strings using `StringHelper::truncate()` and `StringHelper::truncateWords()` (Alex-Code)\n- Enh #6318: Made widgets more error-tolerant and user-friendly when certain option values are null (qiangxue)\n- Enh: `Console::confirm()` now uses `Console::stdout()` instead of `echo` to be consistent with all other functions (cebe)\n- Enh: `yii\\rbac\\DbManager` migration now uses database component specified in component settings instead of always using default `db` (samdark)\n- Enh: Added `yii\\base\\Controller::renderContent()` (qiangxue)\n- Enh: `yii fixture` command now offers help if no arguments are provided instead of crashing (samdark)\n- Chg #3630: `yii\\db\\Command::queryInternal()` is now protected (samdark)\n- Chg #4277: `yii\\grid\\GridView` is no longer throwing an exception when results are empty and `columns` aren't defined (samdark)\n- Chg #5508: Dropped the support for the `--append` option for the `fixture` command (qiangxue)\n- Chg #5874: Upgraded Twitter Bootstrap to 3.3.x (samdark)\n\n\n### Apidoc Extension (yii2-apidoc)\n\n- Bug #5623: Fixed crash when a class contains a setter that has no arguments e.g. `setXyz()` (cebe)\n- Bug #5899: Incorrect class listed as `definedBy` reference for properties (cebe)\n- Bug: Guide and API renderer now work with relative paths/URLs (cebe)\n- Enh: Guide generator now skips `images` directory if it does not exist instead of throwing an error (cebe)\n- Enh: Made `--guidePrefix` option available as a command line option (cebe)\n\n\n### Authclient Extension (yii2-authclient)\n\n- Bug #6000: Fixed CCS for `yii\\authclient\\widgets\\AuthChoice` does not loaded if `popupMode` disabled (klimov-paul)\n\n\n### Bootstrap Extension (yii2-bootstrap)\n\n- Bug #5570: `yii\\bootstrap\\Tabs` would throw an exception if `content` is not set for one of its `items` (RomeroMsk)\n- Bug #6150: `yii\\bootstrap\\Tabs` dropdown IDs were generated incorrectly (samdark)\n- Enh #4146: Added `yii\\bootstrap\\ButtonDropdown::$containerOptions` (samdark)\n- Enh #4181: Added `yii\\bootstrap\\Modal::$headerOptions` and `yii\\bootstrap\\Modal::$footerOptions` (tuxoff, samdark)\n- Enh #4450: Added `yii\\bootstrap\\Nav::renderDropdown()` (qiangxue)\n- Enh #5494: Added support for specifying a menu header as a configuration array in `yii\\bootstrap\\Dropdown` (hiltonjanfield, qiangxue)\n- Enh #5735: Added `yii\\bootstrap\\Tabs::renderTabContent` to support manually rendering tab contents (RomeroMsk)\n- Enh #5799: `yii\\bootstrap\\ButtonGroup::buttons` can take all options that are supported by `yii\\bootstrap\\Button` (aleksanderd)\n- Chg #5874: Upgraded Twitter Bootstrap to 3.3.x (samdark)\n\n\n### Debug Extension (yii2-debug)\n\n- Bug #5402: Debugger was not loading when there were closures in asset classes (samdark)\n- Bug #5745: Gii and debug modules may cause 404 exception when the route contains dashes (qiangxue)\n- Enh #5600: Allow configuring debug panels in `yii\\debug\\Module::panels` as panel class name strings (qiangxue)\n- Enh #6113: Improved configuration and request UI (schmunk42)\n- Enh: Made `DefaultController::getManifest()` more robust against corrupt files (cebe)\n\n\n### Elasticsearch Extension (yii2-elasticsearch)\n\n- Bug #5662: Elasticsearch AR updateCounters() now uses explicitly `groovy` script for updating making it compatible with ES >1.3.0 (cebe)\n- Bug #6065: `ActiveRecord::unlink()` was failing in some situations when working with relations via array valued attributes (cebe)\n- Enh #5758: Allow passing custom options to `ActiveRecord::update()` and `::delete()` including support for routing needed for updating records with parent relation (cebe)\n- Enh: Add support for optimistic locking (cebe)\n\n\n### Gii Extension (yii2-gii)\n\n- Bug #5070: Gii controller generator should use controller class name instead of controller ID to specify new controller (qiangxue)\n- Bug #5745: Gii and debug modules may cause 404 exception when the route contains dashes (qiangxue)\n- Bug #6367: Added `yii\\gii\\generators\\crud\\Generator` to support customizing view path for the generated CRUD controller (qiangxue)\n- Bug: Gii console command help information does not contain global options (qiangxue)\n- Enh #5613: Added `--overwrite` option to Gii console command to support overwriting all files (motin, qiangxue)\n\n\n### Mongodb Extension (yii2-mongodb)\n\n- Bug #6026: Fixed `yii\\mongodb\\ActiveRecord` saves `null` as `_id`, if attributes are empty (klimov-paul)\n- Enh #3855: Added debug toolbar panel for MongoDB (klimov-paul)\n- Enh #5592: Added support for 'findAndModify' operation at `yii\\mongodb\\Query` and `yii\\mongodb\\ActiveQuery` (klimov-paul)\n\n\n### Redis Extension (yii2-redis)\n\n- Bug #4745: value of simple string returns was ignored by redis client and `true` is returned instead, now only `OK` will result in a `true` while all other values are returned as is (cebe)\n- Enh #3714: Added support for connecting to redis server using a unix socket (savvot, robregonm)\n\n\n### Smarty Extension (yii2-smarty)\n\n- Bug #5748: `{path` was generating absolute URLs instead of relative ones (samdark, motzel)\n\n\n### Sphinx Extension (yii2-sphinx)\n\n- Bug #5601: Simple conditions in `yii\\sphinx\\Query::where()`` and `yii\\sphinx\\ActiveQuery::where()` did not allow `yii\\db\\Expression` to be used as the value (cebe, stevekr)\n- Bug #5634: Fixed `yii\\sphinx\\QueryBuilder` does not support comparison operators (>,<,>= etc) in where specification (klimov-paul)\n- Bug #6164: Added missing support for `yii\\db\\Exression` to QueryBuilder `LIKE` conditions (cebe)\n- Enh #5223: Query builder now supports selecting sub-queries as columns (qiangxue)\n\n\n2.0.0 October 12, 2014\n----------------------\n\n- Bug #4881: Fixed `yii\\console\\controllers\\AssetController` breaks CSS URLs on Windows (klimov-paul)\n- Bug #5171: Fixed the bug that ActiveForm + Pjax submit event is only triggered once (qiangxue)\n- Bug #5242: Fixed `yii\\console\\controllers\\AssetController` breaks CSS URLs in case target file localed at `yii\\web\\AssetManager::basePath` root (klimov-paul)\n- Bug #5252: Null values are not properly handled by `RangeValidator` (githubjeka, qiangxue)\n- Bug #5260: `yii\\i18n\\Formatter::decimalSeparator` and `yii\\i18n\\Formatter::thousandSeparator` where not configurable when intl is not installed (execut, cebe)\n- Bug #5314: Fixed typo in the implementation of `yii\\web\\Session::getHasSessionId()` (qiangxue)\n- Bug #5323: Nested dropdown does not work for `yii\\bootstrap\\DropDown` (aryraditya)\n- Bug #5336: `yii\\bootstrap\\DropDown` should register bootstrap plugin asset (zelenin)\n- Bug #5379: `yii\\base\\Module::afterAction()` was called even when `beforeAction()` returned false (cebe)\n- Bug #5408: Gii console command incorrectly reports errors when there is actually no error (qiangxue)\n- Bug #5423: `yii\\behaviors\\Cors` causes \"undefined index\" error when its `cors` is configured (qiangxue)\n- Bug #5424: `yii\\helpers\\Html::addCssStyle()` wasn't correctly setting style passed in array (kartik-v, samdark)\n- Bug #5435: Added extra checks to `yii\\rbac\\DbManager` to prevent database exceptions when `$userId` is empty (samdark)\n- Bug #5484: Fixed potential string suffix detection failure on 5.5.11 (qiangxue)\n- Bug: Date and time formatting now assumes UTC as the timezone for input dates unless a timezone is explicitly given (cebe)\n- Enh #4040: Added `$viewFile` and `$params` to the `EVENT_BEFORE_RENDER` and `EVENT_AFTER_RENDER` events for `View` (qiangxue)\n- Enh #4275: Added `removeChildren()` to `yii\\rbac\\ManagerInterface` and implementations (samdark)\n- Enh: Added `yii\\base\\Application::loadedModules` (qiangxue)\n- Enh #5316: Added `startsWith()` and `endsWith()` to `yii\\helpers\\StringHelper`. Methods are binary-safe, multibyte-safe and optionally case-insensitive (armab)\n- Enh #5467: Added ability to pass HTML tag options to `asEmail()`, `asImage()` and `asUrl()` methods of `yii\\i18n\\Formatter` (alxkolm, samdark)\n- Chg #2037: Dropped the support for using `yii\\base\\Module` as concrete module classes (qiangxue)\n- Chg: Updated cebe/markdown to 1.0.0 which includes breaking changes in its internal API (cebe)\n- Chg: If you are using CUBRID DBMS, make sure to use at least version 9.3.0 because quoting is broken in prior versions and Yii has no reliable way to work around this issue (cebe)\n\n\n2.0.0-rc September 27, 2014\n---------------------------\n\n- Bug #1263: Fixed the issue that Gii and Debug modules might be affected by incompatible asset manager configuration (qiangxue)\n- Bug #2314: Gii model generator does not generate correct relation type in some special case (qiangxue)\n- Bug #2563: Theming is not working if the path map of the theme contains \"..\" or \".\" in the paths (qiangxue)\n- Bug #2801: Fixed the issue that GridView gets footer content before data cells content (ElisDN)\n- Bug #2821: Console help command incorrectly lists non-console controllers as available commands (qiangxue)\n- Bug #2853: ActiveRecord did not handle resource-typed columns well (chris68, qiangxue)\n- Bug #3042: `yii\\widgets\\Pjax` should end application right after it finishes responding to a pjax request (qiangxue)\n- Bug #3066: `yii\\db\\mssql\\Schema::getTableSchema()` should return null when the table does not exist (qiangxue)\n- Bug #3091: Fixed inconsistent treatment of `Widget::run()` when a widget is used as a container and as a self-contained object (qiangxue)\n- Bug #3118: Ensure client validation has the same behavior as server side validation for number validator (cebe)\n- Bug #3121: `yii\\base\\Application::bootstrap` may fail to load some components if they are specified as class names (qiangxue)\n- Bug #3125: `yii\\console\\controllers\\AssetController` now respects data URL resources (klimov-paul)\n- Bug #3128: Fixed the bug that `defaultRoles` set in RBAC manager was not working as specified (qiangxue)\n- Bug #3153: Fixed the bug that using \"between\" operator to build a SQL query will cause a PHP notice (gonimar)\n- Bug #3184: Fixed the bug that client validation for string length comparison did not set error message correctly (Sergeygithub)\n- Bug #3194: Date formatter works only for timestamps in the year range 1970 to 2038 (kartik-v)\n- Bug #3197: Using `yii\\db\\ActiveQuery::indexBy()` may cause relational AR queries to generate incorrect relational results (qiangxue)\n- Bug #3204: `yii\\di\\Container` did not handle the `$config` parameter well in case when it does not have a default value (qiangxue)\n- Bug #3216: Fixed the bug that `yii.activeForm.destroy()` did not remove `submit` event handlers (qiangxue)\n- Bug #3233: Ensure consistent behavior in `yii\\db\\ActiveRecord::afterSave()`` (cebe, qiangxue)\n- Bug #3236: Return value for `DateTime->format('U')`` casted to double to allow correct date formatting (pgaultier)\n- Bug #3268: Fixed the bug that the schema name in a table name was not respected by `yii\\db\\mysql\\Schema` (terazoid, qiangxue)\n- Bug #3311: Fixed the bug that `yii\\di\\Container::has()` did not return correct value (mgrechanik, qiangxue)\n- Bug #3327: Fixed \"Unable to find debug data\" when logging objects with circular references (jarekkozak, samdark)\n- Bug #3368: Fix for comparing numeric attributes in JavaScript (technixp)\n- Bug #3393: Fix `yii\\helpers\\FileHelper::copyDirectory()` pattern not working (klimov-paul)\n- Bug #3431: Allow using extended `yii\\base\\ErrorHandler` class from the app namespace (cebe)\n- Bug #3436: Fixed the issue that `yii\\di\\ServiceLocator` still returns the old component after calling `set()` with a new definition (qiangxue)\n- Bug #3458: Fixed the bug that the image rendered by `CaptchaAction` was using a wrong content type (MDMunir, qiangxue)\n- Bug #3473: Allow postgreSQL to specify timestamp precision via abstract types in `yii\\db\\QueryBuilder` (cebe)\n- Bug #3478: Fixed `yii\\console\\Controller::select()` accept empty input as '0' value (lynicidn)\n- Bug #3522: Fixed `yii\\helpers\\FileHelper::normalizePath()` to allow a (.) for the current path. (skotos)\n- Bug #3548: Fixed the bug that X-Rate-Limit-Remaining header is always zero when using RateLimiter (qiangxue)\n- Bug #3559: Use native support for batchInsert in SQLite versions >= 3.7.11 and avoid limitations of the fallback (cebe)\n- Bug #3564: Fixed the bug that primary key columns should not take default values from schema (qiangxue)\n- Bug #3567: Fixed the bug that smallint was treated as string for PostgreSQL (qiangxue)\n- Bug #3568: When the primary query sets `asArray`, it is not respected by the `via` relational query (qiangxue)\n- Bug #3578: Fixed postgreSQL column type detection, added missing types (MDMunir, cebe)\n- Bug #3583: Added typecast to auto value of primary key on insert of SQL Active Record (cebe)\n- Bug #3591: Fixed incomplete obsolete filling in i18n `MessageController::saveMessagesToDb()` (advsm)\n- Bug #3601: Fixed the bug that the refresh URL was not generated correctly by `Captcha` (qiangxue, klevron)\n- Bug #3638: `yii\\filters\\HttpCache` does not work as expected when session is started before the filter (qiangxue)\n- Bug #3681: Fixed problem with AR::findOne() when a default scope joins another table so that PK name becomes ambigous (cebe)\n- Bug #3715: Fixed the bug that using a custom pager/sorter with `GridView` may generate two different pagers/sorters if the layout configures two pagers/sorters (qiangxue)\n- Bug #3716: `yii\\base\\DynamicModel::validateData()` does not call `validate()` if the `$rules` parameter is empty (qiangxue)\n- Bug #3725: Fixed the bug that the filtering condition used in relation definition was ignored when calling `ActiveRecord::unlinkAll()`. (qiangxue, cebe)\n- Bug #3738: `yii\\widgets\\ActiveField` custom error selector not functioning (qiangxue)\n- Bug #3751: Fixed postgreSQL schema data for enum values, do not add values if there are none (makroxyz)\n- Bug #3752: `QueryBuilder::batchInsert()` does not typecast input values (qiangxue)\n- Bug #3756: Fix number formatting error for `yii\\base\\Formatter` by converting strings to float (kartik-v)\n- Bug #3772: Behaviors adding validation rules do not work as expected (qiangxue)\n- Bug #3817: `yii\\rbac\\PhpManager::getChildren()` returns null instead of expected empty array (qiangxue)\n- Bug #3843: Fixed Menu bug when using `template` with `encodeLabel` => false (creocoder, umneeq)\n- Bug #3863: Fixed incorrect js selector for `yii\\widgets\\ActiveForm::errorSummaryCssClass` when it contains multiple classes (creocoder, umneeq)\n- Bug #3893: Headers did not overwrite default setting by webserver (cebe)\n- Bug #3909: `yii\\helpers\\Html::to()` should not prefix base URL to URLs that already contain scheme (qiangxue)\n- Bug #3920: Fixed issue with loading default values of PostgreSQL boolean columns (cebe)\n- Bug #3934: `yii.handleAction()` in `yii.js` does not correctly detect if a hyperlink contains useful URL or not (joni-jones, qiangxue)\n- Bug #3968: Messages logged in shutdown functions are not handled (qiangxue)\n- Bug #3989: Fixed `yii\\log\\FileTarget::rotateByCopy` to avoid any rename (cebe)\n- Bug #3996: Traversing `Yii::$app->session` may cause a PHP error (qiangxue)\n- Bug #4020: OCI column detection did not work so gii and other things failed (Sanya1991)\n- Bug #4105: `yii\\helpers\\Html::dropDownlist()` options encodeSpaces was not applied to subgroups (MDMunir)\n- Bug #4123: Trace level in logger had no effect in Targets, traces where not logged (cebe)\n- Bug #4127: `yii\\captcha\\CaptchaValidator` clientside error message wasn't formed properly (samdark)\n- Bug #4162: Fixed bug where schema name was not used in `SHOW CREATE TABLE` query in `yii\\db\\mysql\\Schema` (stevekr)\n- Bug #4241: `yii\\widgets\\Pjax` was incorrectly setting container id (mitalcoi)\n- Bug #4254: `SqlDataProvider` does not work with Oracle and SQL Server (qiangxue, miramir)\n- Bug #4276: Added check for UPLOAD_ERR_NO_FILE in `yii\\web\\UploadedFile` and return null if no file was uploaded (OmgDef)\n- Bug #4342: mssql (dblib) driver does not support getting attributes (tof06)\n- Bug #4371: Active form client validation wasn't working in case of two models having same named fields (abrahamy)\n- Bug #4409: Upper case letters in subdirectory prefixes of controller IDs were not properly handled (qiangxue)\n- Bug #4412: Formatter used SI Prefixes for base 1024, now uses binary prefixes (kmindi)\n- Bug #4427: Formatter could do one division too much (kmindi)\n- Bug #4453: `yii message/extract` wasn't properly writing to po files in case of multiple categories (samdark)\n- Bug #4469: Make `yii\\base\\Security::compareString()` timing depend only on length of `$actual` input and add unit test. (tom--)\n- Bug #4470: Avoid endless loop when exporting logs with low values of flushInterval and eportInterval (cebe)\n- Bug #4497: Fixed `yii\\helpers\\StringHelper::byteSubstr()`` returning empty string on null $length param (mbman)\n- Bug #4514: Fixed Request class crashing when empty CSRF token value is sent in cookie (cebe)\n- Bug #4519: `yii\\base\\Model::isAttributeRequired()` should check if the `when` option of the validator is set (thiagotalma)\n- Bug #4592: Fixed `yii help` command was listing incorrect action names for methods like `actionSayNO` (samdark)\n- Bug #4654: Fixed issue with PostgreSQL and inserting boolean values with batch insert (cebe)\n- Bug #4672: Fixed issue with PostgreSQL handling of boolean values in queries, dropped support for using boolean value for integer columns (cebe)\n- Bug #4727: Fixed wrong Stylus definition in `yii\\web\\AssetConverter` (samdark)\n- Bug #4755: `yii\\test\\BaseActiveFixture::unload()` does not clean up the internal cached data (qiangxue)\n- Bug #4813: Fixed MSSQL schema that was getting incorrect info about constraints (samdark, SerjRamone, o-rey)\n- Bug #4880: Return value of yii\\web\\Request::getPrefferedLanguage() was a normalized value instead of a valid language value from the input array (cebe)\n- Bug #4905: ActiveForm::$validationDelay doesn't delay after keyrelease when $validateOnType=true (qiangxue)\n- Bug #4920: `yii\\filters\\auth\\CompositeAuth` should not trigger error as long as one of the methods succeeds (qiangxue)\n- Bug #4926: Fixed `yii\\console\\controllers\\MessageController` handles category name containing dot incorrectly (klimov-paul)\n- Bug #4938: When `yii\\db\\ActiveQuery` is used to build sub-queries, its WHERE clause is not correctly generated (qiangxue)\n- Bug #4954: MSSQL column comments are not retrieved correctly (SerjRamone)\n- Bug #4970: `joinWith()` called by a relation was ignored by `yii\\db\\ActiveQuery` (stepanselyuk)\n- Bug #5001: `yii\\rest\\CreateAction`, `yii\\rest\\UpdateAction` and `yii\\rest\\DeleteAction` should throw 500 error if the model operation returns false without validation errors (qiangxue)\n- Bug #5039: `UniqueValidator` and `ExistValidator` did not respect query conditions added by default scope (qiangxue)\n- Bug #5049: `yii\\widgets\\ActiveForm::validationDelay` should be applied to user types only (qiangxue)\n- Bug #5055: Fixed `yii\\console\\controllers\\CacheController` does not check if cache component instance of 'yii\\caching\\Cache' (klimov-paul)\n- Bug #5126: Fixed text body and charset not being set for multipart mail (nkovacs)\n- Bug: Fixed inconsistent return of `yii\\console\\Application::runAction()` (samdark)\n- Bug: URL encoding for the route parameter added to `yii\\web\\UrlManager` (klimov-paul)\n- Bug: Fixed the bug that requesting protected or private action methods would cause 500 error instead of 404 (qiangxue)\n- Bug: Fixed Object of class Imagick could not be converted to string in `yii\\captcha\\CaptchaAction` (eXprojects, cebe)\n- Bug: Fixed wrong behavior of `yii\\helpers\\StringHelper::byteSubstr()` in some edge cases (cebe)\n- Enh #87: Helper `yii\\helpers\\Security` converted into application component, cryptographic strength improved (klimov-paul)\n- Enh #422: Added Support for BIT(M) data type default values in Schema (cebe)\n- Enh #1160: Added $strict parameter to `yii\\helpers\\Inflector::camel2id()` to handle consecutive uppercase chars (schmunk)\n- Enh #1249: Added support for Active Record relation via array attributes (klimov-paul, cebe)\n- Enh #1388: Added mapping from physical types to abstract types for OCI DB driver (qiangxue)\n- Enh #1452: Added `yii\\base\\Module::getInstance()` to allow accessing the module instance from anywhere within the module (qiangxue)\n- Enh #2264: `yii\\web\\CookieCollection::has()` will return false for expired or removed cookies (qiangxue)\n- Enh #2315: Any operator now could be used with `yii\\db\\Query::where()` operand format (samdark)\n- Ehn #2380: Added `yii\\widgets\\ActiveForm::enableClientScript` to support turning on and off client side script generation (qiangxue)\n- Enh #2435: `yii\\db\\IntegrityException` is now thrown on database integrity errors instead of general `yii\\db\\Exception` (samdark)\n- Enh #2558: Enhanced support for memcached by adding `yii\\caching\\MemCache::persistentId` and `yii\\caching\\MemCache::options` (qiangxue)\n- Enh #2837: Error page now shows arguments in stack trace method calls (samdark)\n- Enh #2906: Added support for using conditional comments for js and css files registered through asset bundles and `yii\\helpers\\Html` helper (exromany, qiangxue)\n- Enh #2942: Added truncate and truncateWord methods (Alex-Code, samdark)\n- Enh #3008: Added `yii\\helpers\\Html::errorSummary()` (qiangxue)\n- Enh #3088: The debug and gii modules will manage their own URL rules now (hiltonjanfield, qiangxue)\n- Enh #3101: Improved handling of log target failures. It will now skip target and log reason instead of going into infinite cycle (samdark)\n- Enh #3103: debugger panel is now not displayed when printing a page (githubjeka)\n- Enh #3108: Added `yii\\debug\\Module::enableDebugLogs` to disable logging debug logs by default (qiangxue)\n- Enh #3132: `yii\\rbac\\PhpManager` now supports more compact data file format (qiangxue)\n- Enh #3154: Added validation error display for `GridView` filters (ivan-kolmychek)\n- Enh #3177: `yii\\filters\\auth\\CompositeAuth` will send out challenges from all auth methods (qiangxue)\n- Enh #3196: Masked input upgraded to use jquery.inputmask plugin with more features. (kartik-v)\n- Enh #3220: Added support for setting transaction isolation levels (cebe)\n- Enh #3221: Added events for DB transaction commit/rollback (drcypher, qiangxue)\n- Enh #3222: Added `useTablePrefix` option to the model generator for Gii (horizons2)\n- Enh #3230: Added `yii\\filters\\AccessControl::user` to support access control with different actors (qiangxue)\n- Enh #3232: Added `export()` and `exportAsString()` methods to `yii\\helpers\\BaseVarDumper` (klimov-paul)\n- Enh #3240: Added support for assigning an anonymous function to `yii\\widgets\\ActiveForm::fieldConfig` (qiangxue)\n- Enh #3244: Allow logging complex data such as arrays and object via the log system (cebe)\n- Enh #3252: Added support for case insensitive matching using ILIKE to PostgreSQL QueryBuilder (cebe)\n- Enh #3280: Support dynamically attaching anonymous behaviors (qiangxue)\n- Enh #3283: Added `$checkAjax` to `yii\\web\\User::loginRequired()` (qiangxue)\n- Enh #3284: Added support for checking multiple ETags by `yii\\filters\\HttpCache` (qiangxue)\n- Enh #3298: Supported configuring `View::theme` using a class name (netyum, qiangxue)\n- Enh #3328: `yii\\mail\\BaseMailer` generates better text body from html body (armab)\n- Enh #3380: Allow `value` in `defaultValueValidator` to be a closure (Alex-Code)\n- Enh #3384: Added callback-style transactions (leandrogehlen, Ragazzo, samdark)\n- Enh #3399, #3241: Added support for MS SQL Server older than 2012 (fourteenmeister, samdark)\n- Enh #3410: `yii.activeForm.js` now supports adding/removing fields dynamically (qiangxue)\n- Enh #3459: Added logging of errors, which may occur at `yii\\caching\\FileCache::gc()` (klimov-paul)\n- Enh #3472: Added configurable option to encode spaces in dropDownLists and listBoxes (kartik-v)\n- Enh #3518: `yii\\helpers\\Html::encode()` now replaces invalid code sequences with \"\ufffd\" (DaSourcerer)\n- Enh #3520: Added `unlinkAll()` method to Active Record to remove all records of a model relation (NmDimas, samdark, cebe)\n- Enh #3521: Added `yii\\filters\\HttpCache::sessionCacheLimiter` (qiangxue)\n- Enh #3542: Removed requirement to specify `extensions` in application config (samdark)\n- Enh #3562: Adding rotateByCopy to `yii\\log\\FileTarget` (pawzar)\n- Enh #3574: Add integrity check support for SQLite (zeeke)\n- Enh #3581: Added `yii\\validators\\CompareValidator::type` to support type conversion before comparing values (qiangxue)\n- Enh #3597: Nested array support for HTML5 custom `data-*` attributes (armab)\n- Enh #3607: Added support for limit in migrations actions: history, new, redo (Ragazzo)\n- Enh #3631: Added property `currencyCode` to `yii\\i18n\\Formatter` (leandrogehlen)\n- Enh #3636: Hide menu container tag with empty items in `yii\\widgets\\Menu` (arturf)\n- Enh #3643: Improved Mime-Type detection by using the `mime.types` file from apache http project to dected mime types by file extension (cebe, pavel-voronin, trejder)\n- Enh #3765: Added `yii\\web\\User::enableSession` to support authentication without using session (qiangxue)\n- Enh #3708: Added database replication and automatic read-write splitting support for `yii\\db\\Connection` (qiangxue)\n- Enh #3773: Added `yii\\validators\\FileValidator::mimeTypes` to support validating MIME types of files (Ragazzo)\n- Enh #3774: Added `yii\\validators\\FileValidator::checkExtensionByMimeType` to support validating file types against file mime-types (Ragazzo)\n- Enh #3801: Base migration controller `yii\\console\\controllers\\BaseMigrateController` extracted (klimov-paul)\n- Enh #3811: Now Gii model generator makes autocomplete for model class field (mitalcoi)\n- Enh #3926: `yii\\widgets\\Breadcrumbs::$links`. Allows individual link to have its own `template` (creocoder, umneeq)\n- Enh #3939: `yii\\helpers\\Inflector::slug()` improvements (samdark)\n    - Added protected `yii\\helpers\\Inflector::transliterate()` that could be replaced with custom translit implementation.\n    - Added proper tests for both intl-based slug and PHP fallback.\n    - Removed character maps for non-latin languages.\n    - Improved overall slug results.\n    - Added note about the fact that intl is required for non-latin languages to requirements checker.\n- Enh #3957: Added more straightforward configurable properties to `yii\\behaviors\\BlameableBehavior`, `yii\\behaviors\\SluggableBehavior` and `yii\\behaviors\\TimestampBehavior` (creocoder)\n- Enh #3992: In mail layouts you can now access the message object via `$message` variable (qiangxue)\n- Enh #4028: Added ability to `yii\\widgets\\Menu` to encode each item's label separately (creocoder, umneeq)\n- Enh #4048: Added `init` event to `yii\\bd\\ActiveQuery` classes (qiangxue)\n- Enh #4072: `yii\\rbac\\PhpManager` adjustments (samdark)\n    - Data is now stored in three separate files for items, assignments and rules. File format is simpler.\n    - Removed `authFile`. Added `itemFile`, `assignmentFile` and `ruleFile`.\n    - `createdAt` and `updatedAt` are now properly filled with corresponding file modification time.\n    - `save()` and `load()` are now protected instead of public.\n    - Added unit test for saving and loading data.\n- Enh #4080: Added proper handling and support of the symlinked directories in `yii\\helpers\\FileHelper`, added $options parameter in `yii\\helpers\\FileHelper::removeDirectory()` (resurtm)\n- Enh #4086: `changedAttributes` of `afterSave` Event now contain old values (dizews)\n- Enh #4114: Added `yii\\helpers\\Security::generateRandomBytes()`, improved tests (samdark)\n- Enh #4122: `yii\\helpers\\Html::error()` and `yii\\helpers\\Html::errorSummary()` are now accepting `encode` option. If set to false it prevents encoding of error messages (samdark)\n- Enh #4131: Security adjustments (tom--)\n     - Added HKDF to `yii\\base\\Security`.\n     - Reverted auto fallback to PHP PBKDF2.\n     - Fixed PBKDF2 key truncation.\n     - Adjusted API.\n- Enh #4209: Added `beforeCopy`, `afterCopy`, `forceCopy` properties to `yii\\web\\AssetManager` (cebe)\n- Enh #4225: Added `yii\\widgets\\ActiveForm::validateOnBlur` and `yii\\widgets\\ActiveField::validateOnBlur` (qiangxue)\n- Enh #4297: Added check for DOM extension to requirements (samdark)\n- Enh #4317: Added `absoluteAuthTimeout` to `yii\\web\\User` (ivokund, nkovacs)\n- Enh #4360: Added client validation support for file validator (Skysplit)\n- Enh #4372: `yii\\filters\\HttpCache` failed to comply to RFC 7232 (DaSourcerer)\n- Enh #4424: Added `inline` parameter to `yii\\web\\Response::xSendFile()` (klimov-paul)\n- Enh #4436: Added callback functions to AJAX-based form validation (thiagotalma)\n- Enh #4485: Added support for deferred validation in `yii\\widgets\\ActiveForm` (Alex-Code)\n- Enh #4520: Added sasl support to `yii\\caching\\MemCache` (xjflyttp)\n- Enh #4566: Added client validation support for image validator (Skysplit, qiangxue)\n- Enh #4581: Added ability to disable URL encoding in `yii\\web\\UrlRule` (tadaszelvys)\n- Enh #4602: Added $key param in `yii\\grid\\ActionColumn` buttons Closure call (disem)\n- Enh #4607: AR model will throw an exception if it does not have a primary key to avoid updating/deleting data massively (qiangxue)\n- Enh #4630: Added automatic generating of unique slug value to `yii\\behaviors\\Sluggable` (klimov-paul)\n- Enh #4636: Added `yii\\web\\Response::setDownloadHeaders()` (pawzar)\n- Enh #4644: Added `yii\\db\\Schema::createColumnSchema()` to be able to customize column schema used (mcd-php)\n- Enh #4656: HtmlPurifier helper config can now be a closure to change the purifier config object after it was created (Alex-Code)\n- Enh #4062: Added 'caseSensitive' option to `yii\\helpers\\BaseFileHelper::findFiles()` (klimov-paul)\n- Enh #4691: Encoding on `yii\\widgets\\ActiveForm` and `yii\\widgets\\ActiveField` validation errors is now configurable (Alex-Code)\n- Enh #4740: Added `yii\\web\\Session::addFlash()` (restyler)\n- Enh #4897: Added `yii\\helpers\\FileHelper::mimeMagicFile` (qiangxue)\n- Enh #5058: Added `$pageSize` parameter to `yii\\data\\Pagination::createUrl()` to allow creating URLs with arbitrary page sizes (cdcchen, qiangxue)\n- Enh #5089: Added asset debugger panel (arturf, qiangxue)\n- Enh #5117: Added `beforeFilter` and `afterFilter` JS events to `GridView` (kartik-v)\n- Enh #5124: Added support to prevent duplicated form submission when using `yii\\widgets\\ActiveForm` (qiangxue)\n- Enh #5131: Added `$autoRenew` parameter to `yii\\web\\User::getIdentity()` (qiangxue)\n- Enh #5164: Added `yii\\helpers\\Inlfector::$transliterator` that can be used to customize intl transliteration (zinzinday)\n- Enh: Added support for using sub-queries when building a DB query with `IN` condition (qiangxue)\n- Enh: Supported adding a new response formatter without the need to reconfigure existing formatters (qiangxue)\n- Enh: Added `yii\\web\\UrlManager::addRules()` to simplify adding new URL rules (qiangxue)\n- Enh: Added support to insert an event handler at the beginning of class-level event handler queue (qiangxue)\n- Enh: Added `yii\\console\\Controller::EXIT_CODE_NORMAL` and `yii\\console\\Controller::EXIT_CODE_ERROR` constants (samdark)\n- Enh: `yii\\console\\MigrateController` now returns `yii\\console\\Controller::EXIT_CODE_ERROR` in case of failed migration (samdark)\n- Enh: Added method `yii\\base\\ErrorHandler::unregister()`` for unregistering the ErrorHandler (cebe)\n- Enh: Added `all` option to `yii\\console\\controllers\\MigrateController::actionDown()` action (creocoder, umneeq)\n- Enh: Added support for array attributes in `exist` validator (creocoder)\n- Enh: Added support for using path alias with `FileDependency::fileName` (qiangxue)\n- Enh: Added param `hideOnSinglePage` to `yii\\widgets\\LinkPager` (arturf)\n- Enh: Added support for array attributes in `in` validator (creocoder)\n- Enh: Improved `yii\\helpers\\Inflector::slug()` to support more cases for Russian, Hebrew and special characters (samdark)\n- Enh: ListView now uses the widget ID in the base tag, consistent to gridview (cebe)\n- Enh: Added `yii\\web\\Response::enableCsrfCookie` to support storing CSRF tokens in session (qiangxue)\n- Chg #2287: Split `yii\\db\\ColumnSchema::typecast()` into two methods `phpTypecast()` and `dbTypecast()` to allow specifying PDO type explicitly (cebe)\n- Chg #2359: Refactored formatter class. One class with or without intl extension and PHP format pattern as standard (Erik_r, cebe)\n   - `yii\\base\\Formatter` functionality has been merged into `yii\\i18n\\Formatter`\n   - removed the `yii\\base\\Formatter` class\n- Chg #1551: Refactored `yii\\validators\\DateValidator `to support ICU date format and use the format defined in `yii\\i18n\\Formatter` by default (cebe)\n- Chg #2898: `yii\\console\\controllers\\AssetController` is now using hashes instead of timestamps (samdark)\n- Chg #2913: RBAC `yii\\rbac\\DbManager` is now initialized via migration (samdark)\n- Chg #2914: `yii\\widgets\\ActiveForm::fieldConfig` will be merged recursively with the `$options` parameter in `yii\\widgets\\ActiveForm::field()` (qiangxue)\n- Chg #3036: Upgraded Twitter Bootstrap to 3.1.x (qiangxue)\n- Chg #3175: `yii\\base\\InvalidCallException`, `yii\\base\\InvalidParamException`, `yii\\base\\UnknownMethodException` are now extended from SPL `BadMethodCallException` (samdark)\n- Chg #3358: Removed automatic CSRF meta tag generation by `View`. Added `yii\\helpers\\Html::csrfMetaTags()` and its call to main layout files (qiangxue)\n- Chg #3383: Added `$type` parameter to `IdentityInterface::findIdentityByAccessToken()` (qiangxue)\n- Chg #3511: Dropped `yii.allowAction()` and modified `yii.confirm()` in `yii.js` to support callbacks (tanakahisateru)\n- Chg #3531: `yii\\grid\\GridView` now allows any character (except \":\") in the attribute part of the shorthand syntax for columns (rawtaz)\n- Chg #3544: Added `$key` as a parameter to the callable specified via `yii\\grid\\DataColumn::value` (mdmunir)\n- Chg #3611: Query caching is refactored. (qiangxue)\n    - `yii\\db\\Connection::beginCache()` and `endCache()` are removed.\n    - Added `yii\\db\\Connection::cache()` and `noCache()`.\n    - Added `Command::cache()` and `noCache()`.\n    - `yii\\db\\Connection::queryCacheDuration` is now used as a default cache duration parameter.\n- Chg #3640: All cookies are now httpOnly by default in order to increase overall security (samdark)\n- Chg #3687: Default `sourceLanguage` and `language` are now `en-US` in order for i18n formatter to work correctly (samdark)\n- Chg #3804: Added `fileinfo` PHP extension to the basic requirement of Yii (Ragazzo)\n- Chg #3866: The `yii\\validators\\FileValidator::types` property is renamed to `yii\\validators\\FileValidator::extensions` (Ragazzo)\n- Chg #3897: Raised visibility of `yii\\web\\View::registerAssetFiles()` to protected (samdark)\n- Chg #3899: Moved `MailEvent` class to `yii\\mail` namespace (cebe)\n- Chg #3910: Removed the `container` option from `yii\\helpers\\Html::checkbox()` and `yii\\helpers\\Html::radio()` (creocoder)\n- Chg #3956: Flash messages set via `Yii::$app->session->setFlash()` will be removed only if they are accessed (qiangxue)\n- Chg #3989: The default value for `yii\\log\\FileTarget::$rotateByCopy` now defaults to true to work on windows by default (cebe)\n- Chg #4051: Renamed `yii\\caching\\GroupDependency` to `TagDependency` and added support for associating multiple tags to a single cached data item (qiangxue)\n- Chg #4071: `mail` component renamed to `mailer`, `yii\\log\\EmailTarget::$mail` renamed to `yii\\log\\EmailTarget::$mailer` (samdark)\n- Chg #4147: `yii\\mail\\BaseMailer::compose()` will not overwrite the `message` parameter if it is explicitly provided (qiangxue)\n- Chg #4188: API exceptions are now exposing less data when YII_DEBUG is false (samdark)\n- Chg #4201: change default value of `SyslogTarget::facility` from `LOG_SYSLOG` to `LOG_USER` (dizews)\n- Chg #4211: `yii\\db\\BaseActiveRecord::populateRecord()` now silently hide selected columns that are not defined in AR instead of failing with an error (miramir)\n- Chg #4227: `yii\\widgets\\LinkPager::hideOnSinglePage` is now `true` by default (samdark)\n- Chg #4310: Removed `$data` from signature of `yii\\rbac\\ManagerInterface` (samdark)\n- Chg #4318: `yii\\helpers\\Html::ul()` and `ol()` will return an empty list tag if an empty item array is given (qiangxue)\n- Chg #4331: `yii\\helpers\\Url` now uses `UrlManager` to determine base URL when generating URLs (qiangxue)\n- Chg #4424: Added `inline` and `mimeType` options to all file downloading methods provided in `yii\\web\\Response` (qiangxue)\n- Chg #4454: Improved asset bundle managed and used composer-asset-plugin to manage the dependencies on 3rd-party JS libraries (qiangxue)\n- Chg #4501: Renamed the constant `YII_PATH` to `YII2_PATH` (qiangxue)\n- Chg #4586: Signed bigint and unsigned int will be converted into integers when they are loaded from DB by AR (qiangxue)\n- Chg #4591: `yii\\helpers\\Url::to()` will no longer prefix relative URLs with the base URL (qiangxue)\n- Chg #4595: `yii\\widgets\\LinkPager`'s `nextPageLabel`, `prevPageLabel`, `firstPageLabel`, `lastPageLabel` are now taking `false` instead of `null` for \"no label\" (samdark)\n- Chg #4911: Changed callback signature used in `yii\\base\\ArrayableTrait::fields()` from `function ($field, $model) {` to `function ($model, $field) {` (samdark)\n- Chg #4955: Replaced callbacks with events for `yii\\widgets\\ActiveForm` (qiangxue)\n    - Removed `beforeValidate()`, `beforeValidateAll()`, `afterValidate()`, `afterValidateAll()`, `ajaxBeforeSend()` and `ajaxComplete()` from `yii\\widgets\\ActiveForm`.\n    - Added `beforeValidate`, `afterValidate`, `beforeValidateAttribute`, `afterValidateAttribute`, `beforeSubmit`, `ajaxBeforeSend` and `ajaxComplete` events to `yii.activeForm` jQuery plugin.\n- Chg #5176: `ActiveFixture` will reset table in its `load()` method instead of `unload()` (qiangxue)\n- Chg: Replaced `clearAll()` and `clearAllAssignments()` in `yii\\rbac\\ManagerInterface` with `removeAll()`, `removeAllRoles()`, `removeAllPermissions()`, `removeAllRules()` and `removeAllAssignments()` (qiangxue)\n- Chg: Added `$user` as the first parameter of `yii\\rbac\\Rule::execute()` (qiangxue)\n- Chg: `yii\\grid\\DataColumn::getDataCellValue()` visibility is now `public` to allow accessing the value from a GridView directly (cebe)\n- Chg: `yii\\data\\ActiveDataProvider::$query` will not be modified directly with pagination and sorting anymore so it will be reuseable (cebe)\n- Chg: Removed `yii\\rest\\ActiveController::$transactional` property and connected functionality (samdark)\n- Chg: Changed the default value of the `keyPrefix` property of cache components to be null (qiangxue)\n- Chg: Added `prefix` column to `yii\\log\\DbTarget` to have the same amount of information logged as in files and emails (cebe)\n- Chg: Use `limit(null)` instead of `limit(-1)` in migration controller to be compatible to more backends (cebe)\n- Chg: `yii\\web\\Request::cookieValidationKey` must be explicitly specified for each application that wants to use cookie validation (qiangxue)\n- Chg: Added `yii\\composer\\Installer::postCreateProject()` and modified the syntax of calling installer methods in composer.json (qiangxue)\n- Chg: When an ID is found to be in both `Application::controllerMap` and `Application::modules`, the former will take precedence (qiangxue)\n- Chg: `yii\\helpers\\Html::activeCheckbox()` and `activeRadio()` will generate labels by default using the corresponding attribute labels (qiangxue)\n- New #1280: Gii can now be run from command line (schmunk42, cebe, qiangxue)\n- New #3911: Added `yii\\behaviors\\SluggableBehavior` that fills the specified model attribute with the transliterated and adjusted version to use in URLs (creocoder)\n- New #4193: Added `yii\\filters\\Cors` CORS filter to allow Cross Origin Resource Sharing (pgaultier)\n- New #4945: Added `yii\\test\\ArrayFixture` (Ragazzo)\n- New: Added `yii\\base\\InvalidValueException` (qiangxue)\n- New: Added `yii\\caching\\ArrayCache` (cebe)\n\n\n2.0.0-beta April 13, 2014\n-------------------------\n\n- Bug #1265: `yii\\console\\controllers\\AssetController` does not override 'js' and 'css' for compressed bundles (klimov-paul)\n- Bug #1326: The `visible` setting for `yii\\widgets\\DetailView` doesn't work as expected (qiangxue)\n- Bug #1412: `yii\\validators\\FileValidator` and `yii\\validators\\ImageValidator` still trigger `uploadRequired` error in some case when `skipOnEmpty` is true and no upload is provided (qiangxue)\n- Bug #1446: Logging while logs are processed causes infinite loop (qiangxue)\n- Bug #1497: Localized view files are not correctly returned (mintao)\n- Bug #1500: Log messages exported to files are not separated by newlines (omnilight, qiangxue)\n- Bug #1504: Debug toolbar isn't loaded successfully in some environments when xdebug is enabled (qiangxue)\n- Bug #1509: The SQL for creating Postgres RBAC tables is incorrect (qiangxue)\n- Bug #1545: It was not possible to execute DB Query twice, params where missing (cebe)\n- Bug #1550: fixed the issue that JUI input widgets did not property input IDs.\n- Bug #1654: Fixed the issue that a new message source object is generated for every new message being translated (qiangxue)\n- Bug #1582: Error messages shown via client-side validation should not be double encoded (qiangxue)\n- Bug #1591: `yii\\validators\\StringValidator` is accessing undefined property (qiangxue)\n- Bug #1597: Added `enableAutoLogin` to basic and advanced project templates so \"remember me\" now works properly (samdark)\n- Bug #1631: Charset is now explicitly set to UTF-8 when serving JSON (samdark)\n- Bug #1635: `yii\\jui\\SliderInput` wasn't properly initialized (samdark)\n- Bug #1659: MSSQL doesn't support limit (Ana1oliy)\n- Bug #1686: `yii\\widgets\\ActiveForm` is creating duplicated messages in error summary (qiangxue)\n- Bug #1704: Incorrect regexp is used in `yii\\helpers\\Inflector::camelize()` (qiangxue)\n- Bug #1710: OpenId auth client does not request required attributes correctly (klimov-paul)\n- Bug #1798: Fixed label attributes for array fields (zhuravljov)\n- Bug #1800: Better check for `$_SERVER['HTTPS']` in `yii\\web\\Request::getIsSecureConnection()` (ginus, samdark)\n- Bug #1812: Hide potential warning message due to race condition occurring to `Session::regenerateID()` call (qiangxue)\n- Bug #1827: Debugger toolbar is loaded twice if an action is calling `run()` to execute another action (qiangxue)\n- Bug #1868: Added ability to exclude tables from `yii\\console\\controllers\\FixtureController` apply/clear actions. (Ragazzo)\n- Bug #1869: Fixed tables clearing. `TRUNCATE` changed to `DELETE` to avoid PostgreSQL tables checks (and truncating all tables) (Ragazzo)\n- Bug #1870: Validation errors weren't properly translated when using clientside validation (samdark)\n- Bug #1930: Fixed domain based URL matching for website root (samdark)\n- Bug #1937: Fixed wrong behavior or advanced app's `init --env` when called without parameter actually specified (samdark)\n- Bug #1959: `yii\\helpers\\Html::activeCheckbox()` wasn't respecting custom values for checked/unchecked state (klevron, samdark)\n- Bug #1965: `yii\\base\\Controller::findLayoutFile()` returns incorrect file path when layout name starts with a slash (qiangxue)\n- Bug #1992: In module scenario that use 'site/captcha' will get wrong refreshUrl (callmez)\n- Bug #1993: afterFind event in AR is now called after relations have been populated (cebe, creocoder)\n- Bug #1998: Unchecked required checkbox never pass client validation (klevron)\n- Bug #2084: AssetController adjusting CSS URLs declared at same line fixed (klimov-paul)\n- Bug #2091: `yii\\db\\QueryBuilder::buildInCondition()` fails to handle array not starting with index 0 (qiangxue)\n- Bug #2160: SphinxQL does not support OFFSET (qiangxue, romeo7)\n- Bug #2209: When I18N message translation is missing source language is now used for formatting (samdark)\n- Bug #2212: `yii\\gridview\\DataColumn` generates incorrect labels when used with nosql DB and there is no data (qiangxue)\n- Bug #2298: Fixed the bug that Gii controller generator did not allow digit in the controller ID (qiangxue)\n- Bug #2303: Fixed the bug that `yii\\base\\Theme::pathMap` did not support dynamic update with path aliases (qiangxue)\n- Bug #2324: Fixed QueryBuilder bug when building a query with \"query\" option (mintao)\n- Bug #2399: Fixed the bug that AssetBundle did not handle relative URLs correctly (qiangxue)\n- Bug #2502: Unclear error message when `$_SERVER['DOCUMENT_ROOT']` is empty (samdark)\n- Bug #2519: MessageSource removed translation messages when event handler was bound to `missingTranslation`-event (cebe)\n- Bug #2527: Source language for `app` message category was always `en` no matter which application `sourceLanguage` was used (samdark)\n- Bug #2559: Going back on browser history breaks `yii\\widgets\\GridView` filtering with `Pjax` (tonydspaniard)\n- Bug #2571: Fixed the bug that batchInsert will fail for SQLite if the values contain null or boolean false (qiangxue)\n- Bug #2607: `yii message` tool wasn't updating `message` table (mitalcoi)\n- Bug #2624: `yii\\helpers\\Html::textArea()`` should respect `name` option. (qiangxue)\n- Bug #2653: Fixed the bug that unsetting an unpopulated AR relation would trigger exception (qiangxue)\n- Bug #2681: Fixed the bug of php build-in server `https://bugs.php.net/bug.php?id=66606` (dizews)\n- Bug #2683: Fixed the bug that batchInsert will fail for MySQL if the values contain boolean false (qiangxue)\n- Bug #2695: Fixed the issue that `yii\\validators\\FileValidator::isEmpty()` always returns true for validate multiple files (ZhandosKz)\n- Bug #2739: Fixed the issue that `yii\\rest\\CreateAction::run()` was using obsolete `yii\\web\\Controller::createAbsoluteUrl()` method (tonydspaniard)\n- Bug #2740: Fixed the issue that `yii\\captcha\\CaptchaAction::run()` was using obsolete `yii\\web\\Controller::createUrl()` method (tonydspaniard)\n- Bug #2760: Fixed `yii\\grid\\GridView` `filterUrl` parameters (qiangxue, AlexGx)\n- Bug #2834: When overriding i18n translation sources from config using `app*` or `yii*` default `app` and `yii` sources were not removed (samdark)\n- Bug #2848: Individual queries should be enclosed within parenthesis in a UNION query (qiangxue)\n- Bug #2862: Using `yii\\cache\\DbCache` while enabling schema caching may cause infinite loops (qiangxue)\n- Bug #3052: Fixed the issue that cache dependency data is not reused when `reusable` is set true (qiangxue)\n- Bug #3443: Fixed `yii\\bootstrap\\Nav` and `yii\\bootstrap\\Dropdown` were generating wrong ids for submenus (arturf)\n- Bug #3691: Fixed the issue that `yii\\web\\CookieCollection::has()` always returns false for cookies from browser (sonicgd)\n- Bug #4212: MSSQL query builder should not generate the `ORDER BY` clause when it is not needed (qiangxue)\n- Bug #4232: `yii\\db\\TableSchema::sequenceName` for PostgreSQL should remove the enclosing quotes (katzz0, qiangxue)\n- Bug #4697: MSSQL query builder does not work for newer MSSQL versions when LIMIT is used without ORDER BY (qiangxue)\n- Bug: Fixed `Call to a member function `registerAssetFiles()` on a non-object` in case of wrong `sourcePath` for an asset bundle (samdark)\n- Bug: Fixed incorrect event name for `yii\\jui\\Spinner` (samdark)\n- Bug: `yii\\helpers\\Json::encode()`` did not handle objects that implement `JsonSerializable` interface correctly (cebe)\n- Bug: Fixed issue with tabular input on `yii\\widgets\\ActiveField::radio()` and `yii\\widgets\\ActiveField::checkbox()` (jom)\n- Bug: Fixed the issue that query cache returns the same data for the same SQL but different query methods (qiangxue)\n- Bug: Fixed URL parsing so it's now properly giving 404 for URLs like `http://example.com//////site/about` (samdark)\n- Bug: Fixed `yii\\console\\controllers\\HelpController::getModuleCommands()` issue where it attempts to scan a module's controller directory when it doesn't exist (jom)\n- Bug: Fixed an issue with FileHelper and not accessible directories which resulted in endless loop (cebe)\n- Bug: Fixed `yii\\base\\Model::load()` returned `true` if `$data` and `formName` were empty (samdark)\n- Bug: Fixed issue with `yii\\db\\ActiveRelationTrait` preventing `yii\\db\\ActiveQuery` from clearing events and behaviors on clone (jom)\n- Bug: `yii\\db\\Query::queryScalar()` wasn't making `SELECT DISTINCT` queries subqueries (jom)\n- Bug: Fixed use `$files` instead of `self::$_files[$key]` to allow inheritance (pgaultier)\n- Enh #46: Added Image extension based on [Imagine library](http://imagine.readthedocs.org) (tonydspaniard)\n- Enh #364: Improve `yii\\helpers\\Inflector::slug()` with `intl` transliteration. Improved transliteration char map. (tonydspaniard)\n- Enh #497: Removed `yii\\log\\Target::logUser` and added `yii\\log\\Target::prefix` to support customizing message prefix (qiangxue)\n- Enh #499: Decoupled `Rule` from RBAC `Item` (samdark, qiangxue)\n- Enh #797: Added support for validating multiple columns by `yii\\validators\\UniqueValidator` and `yii\\validators\\ExistValidator` (qiangxue)\n- Enh #802: Added support for retrieving sub-array element or child object property through `ArrayHelper::getValue()` (qiangxue, cebe)\n- Enh #938: Added `yii\\web\\View::renderAjax()` and `yii\\web\\Controller::renderAjax()` (qiangxue)\n- Enh #1293: Replaced `yii\\helpers\\Console::showProgress()` with a better approach. See `yii\\helpers\\Console::startProgress()` for details (cebe)\n- Enh #1406: DB Schema support for Oracle Database (p0larbeer, qiangxue)\n- Enh #1437: Added `yii\\widgets\\ListView::viewParams` (qiangxue)\n- Enh #1467: Added support for organizing controllers in subdirectories (qiangxue)\n- Enh #1469: yii\\db\\ActiveRecord::find()` now works with default conditions (default scope) applied by createQuery (cebe)\n- Enh #1476: Add `yii\\web\\Session::handler` property (nineinchnick)\n- Enh #1499: Added `yii\\grid\\ActionColumn::controller` property to support customizing the controller for handling GridView actions (qiangxue)\n- Enh #1523: Query conditions now allow to use the NOT operator (cebe)\n- Enh #1535: Improved `yii\\web\\User` to start session only when needed. Also prepared it for use without session. (qiangxue)\n- Enh #1562: Added `yii\\bootstrap\\Tabs::linkOptions` (kartik-v)\n- Enh #1572: Added `yii\\web\\Controller::createAbsoluteUrl()` (samdark)\n- Enh #1579: throw exception when the given AR relation name does not match in a case sensitive manner (qiangxue)\n- Enh #1581: Added `yii\\db\\ActiveQuery::joinWith()` and `yii\\db\\ActiveQuery::innerJoinWith()` to support joining with relations (qiangxue)\n- Enh #1585: added schema parameter to `createAbsoluteUrl()` to force 'http' or 'https' (cebe)\n- Enh #1601: Added support for tagName and encodeLabel parameters in ButtonDropdown (omnilight)\n- Enh #1611: Added `yii\\db\\BaseActiveRecord::markAttributeDirty()` (qiangxue)\n- Enh #1633: Advanced project template now works with MongoDB by default (samdark)\n- Enh #1634: Use masked CSRF tokens to prevent BREACH exploits (qiangxue)\n- Enh #1641: Added `BaseActiveRecord::updateAttributes()` (qiangxue)\n- Enh #1646: Added PostgreSQL `yii\\db\\QueryBuilder::checkIntegrity()` and `yii\\db\\QueryBuilder::resetSequence()` (Ragazzo)\n- Enh #1645: Added `yii\\db\\Connection::$pdoClass` property (Ragazzo)\n- Enh #1645: Added support for nested DB transactions (qiangxue)\n- Enh #1681: Added support for automatically adjusting the \"for\" attribute of label generated by `yii\\widgets\\ActiveField::label()` (qiangxue)\n- Enh #1706: Added support for registering a single JS/CSS file with dependency (qiangxue)\n- Enh #1773: keyPrefix property of Cache is not restricted to alnum characters anymore, however it is still recommended (cebe)\n- Enh #1809: Added support for building \"EXISTS\" and \"NOT EXISTS\" query conditions (abdrasulov)\n- Enh #1839: Added support for getting file extension and basename from uploaded file (anfrantic)\n- Enh #1852: `yii\\db\\ActiveRecord::tableName()` now returns table name using `yii\\db\\Connection::tablePrefix` (creocoder)\n- Enh #1881: Improved `yii\\bootstrap\\NavBar` with `containerOptions`, `innerContainerOptions` and `renderInnerContainer` (creocoder)\n- Enh #1894: The path aliases `@webroot` and `@web` are now available right after the application is initialized (qiangxue)\n- Enh #1921: Grid view `yii\\grid\\ActionColumn` now allow to name buttons like `{controller/action}` (creocoder)\n- Enh #1973: `yii message/extract` is now able to generate `.po` files (SergeiKutanov, samdark)\n- Enh #1984: `yii\\base\\ActionFilter` will now mark event as handled when action run is aborted (cebe)\n- Enh #2002: Added `filterWhere()` method to yii\\db\\Query to allow easy addition of search filter conditions by ignoring empty search fields (samdark, cebe)\n- Enh #2003: Added `filter` property to `yii\\validators\\ExistValidator` and `yii\\validators\\UniqueValidator` to support adding additional filtering conditions (qiangxue)\n- Enh #2008: `yii message/extract` is now able to save translation strings to database (kate-kate, samdark)\n- Enh #2043: Added support for custom request body parsers (danschmidt5189, cebe)\n- Enh #2051: Do not save null data into database when using RBAC (qiangxue)\n- Enh #2054: Added support for using custom application configuration with the console command runner (qiangxue)\n- Enh #2079:\n    - i18n now falls back to `en` from `en-US` if message translation isn't found (samdark)\n    - View now falls back to `en` from `en-US` if file not found (samdark)\n    - Default `sourceLanguage` and `language` are now `en` (samdark)\n- Enh #2101: Gii is now using model labels when generating search (thiagotalma)\n- Enh #2102: `yii\\widgets\\DetailView` now allow use `category.name` as attribute name (creocoder)\n- Enh #2102: `yii\\widgets\\DetailView` now allow use custom label in string format like `name:format:label` (creocoder)\n- Enh #2103: Renamed `yii\\web\\AccessDeniedHttpException` to `yii\\web\\ForbiddenHttpException`, added new commonly used HTTP exception classes (danschmidt5189)\n- Enh #2124: Added support for UNION ALL queries (Ivan Pomortsev, iworker)\n- Enh #2132: Allow URL of CSS and JS files registered in yii\\web\\View to be URL alias (cebe)\n- Enh #2144: `Html` helper now supports rendering \"data\" attributes (qiangxue)\n- Enh #2156: `yii migrate` now automatically creates `migrations` directory if it does not exist (samdark)\n- Enh #2211: Added typecast database types into php types (dizews)\n- Enh #2240: Improved `yii\\web\\AssetManager::publish()`, `yii\\web\\AssetManager::getPublishedPath()` and `yii\\web\\AssetManager::getPublishedUrl()` to support aliases (vova07)\n- Enh #2325: Adding support for the `X-HTTP-Method-Override` header in `yii\\web\\Request::getMethod()` (pawzar)\n- Enh #2364: Take into account current error reporting level in error handler (gureedo)\n- Enh #2387: Added support for fetching data from database in batches (nineinchnick, qiangxue)\n- Enh #2392: Added `addCssStyle()`, `removeCssStyle()`, `cssStyleFromArray()` and `cssStyleToArray()` to `yii\\helpers\\Html` (qiangxue, kartik-v, Alex-Code)\n- Enh #2406: Added support for conditional validation (drenty, cebe, qiangxue)\n- Enh #2411: Added Gii extension generator (schmunk42)\n- Enh #2415: Added support for inverse relations (qiangxue)\n- Enh #2417: Added possibility to set `dataType` for `$.ajax` call in yii.activeForm.js (Borales)\n- Enh #2436: Label of the attribute, which looks like `relatedModel.attribute`, will be received from the related model if it available (djagya)\n- Enh #2490: `yii\\db\\Query::count()` and other query scalar methods now properly handle queries with GROUP BY clause (qiangxue)\n- Enh #2491: Added support for using the same base class name of search model and data model in Gii (qiangxue)\n- Enh #2499: Added ability to downgrade migrations by their absolute apply time (resurtm, gorcer)\n- Enh #2525: Added support for formatting file sizes with `yii\\base\\Formatter` (VinceG)\n- Enh #2526: Allow for null values in batchInsert (skotos)\n- Enh #2646: Added support for specifying hostinfo in the pattern of a URL rule (qiangxue)\n- Enh #2661: Added boolean column type support for SQLite (qiangxue)\n- Enh #2670: Changed `yii\\console\\Controller::globalOptions()` to `options($actionID)` to (make it possible to) differentiate options per action (hqx)\n- Enh #2714: Added support for formatting time intervals relative to the current time with `yii\\base\\Formatter` (drenty)\n- Enh #2726: Added `yii\\db\\ActiveRecord::loadDefaultValues()` that fills default values from DB schema (samdark)\n- Enh #2729: Added `yii\\validators\\FilterValidator::skipOnArray` so that filters like `trim` will not fail for array inputs (qiangxue)\n- Enh #2735: Added support for `DateTimeInterface` in `yii\\i18n\\Formatter` (ivokund)\n- Enh #2756: Added support for injecting custom `isEmpty` check for all validators (qiangxue)\n- Enh #2775: Added `yii\\base\\Application::bootstrap` and `yii\\base\\BootstrapInterface` to support running bootstrap classes when starting an application (qiangxue)\n- Enh #2892: ActiveRecord dirty attributes are now reset after call to `afterSave()` so information about changed attributes is available in `afterSave`-event (cebe)\n- Enh #2910: Added `yii\\base\\Application::end()` (qiangxue)\n- Enh: Added support for using arrays as option values for console commands (qiangxue)\n- Enh: Added `favicon.ico` and `robots.txt` to default project templates (samdark)\n- Enh: Added `yii\\base\\Widget::autoIdPrefix` to support prefixing automatically generated widget IDs (qiangxue)\n- Enh: Support for file aliases in console command 'message' (omnilight)\n- Enh: Sort and Pagination can now create absolute URLs (cebe)\n- Enh: Added support for using array-typed arguments for console commands (qiangxue)\n- Enh: Added support for installing packages conforming to PSR-4 standard (qiangxue)\n- Enh: Better exception message when class cannot be loaded (samdark)\n- Enh: `init` of advanced application now allows to specify answer for overwriting files via `init --overwrite=n` (samdark)\n- Enh: Added `yii\\db\\TableSchema::fullName` property (qiangxue)\n- Enh: `yii\\codeception\\TestCase` now supports loading and using fixtures via Yii fixture framework (qiangxue)\n- Enh: Added ability to get incoming headers (dizews)\n- Enh: Added `beforeRun()` and `afterRun()` to `yii\\base\\Action` (qiangxue)\n- Enh: Added support for using timeZone with `yii\\base\\Formatter` (dizews)\n- Enh: Added `yii\\web\\View::POS_LOAD` (qiangxue)\n- Enh: Added `yii\\web\\Response::clearOutputBuffers()` (qiangxue)\n- Enh: Improved `yii\\db\\QueryBuilder::buildLimit()` to support big numbers (qiangxue)\n- Enh: Added support for building SQLs with sub-queries (qiangxue)\n- Enh: Added `yii\\data\\Pagination::getLinks()` (qiangxue)\n- Enh: Added support for reading page size from query parameters by `yii\\data\\Pagination` (qiangxue)\n- Enh: LinkPager can now register relational link tags in the html header for prev, next, first and last page (cebe)\n- Enh: Added `yii\\web\\UrlRuleInterface` and `yii\\web\\CompositeUrlRule` (qiangxue)\n- Enh: Added `yii\\web\\Request::getAuthUser()` and `getAuthPassword()` (qiangxue)\n- Enh: Added summaryOptions and emptyTextOptions to `yii\\widgets\\BaseListView` (johonunu)\n- Enh: Implemented Oracle column comment reading from another schema (gureedo, samdark)\n- Enh: Added support to allow an event handler to be inserted at the beginning of the existing event handler list (qiangxue)\n- Enh: Improved action filter and action execution flow by supporting installing action filters at controller, module and application levels (qiangxue)\n- Enh: Added `isAssociative()` and `isIndexed()` to `yii\\helpers\\ArrayHelper` (qiangxue)\n- Enh: Added `addSelect` to `yii\\db\\Query` (Alex-Code)\n- Enh: Added ODBC support in `yii\\db\\Connection` (nineinchnick, resurtm)\n- Chg #47: Changed Markdown library to cebe/markdown and adjusted Markdown helper API (cebe)\n- Chg #735: Added back `yii\\widgets\\ActiveField::hiddenInput()` (qiangxue)\n- Chg #1186: Changed `Sort` to use comma to separate multiple sort fields and use negative sign to indicate descending sort (qiangxue)\n- Chg #1519: `yii\\web\\User::loginRequired()` now returns the `Response` object instead of exiting the application (qiangxue)\n- Chg #1564: Removed `yii\\web\\Session::autoStart` and added `hasSessionId`. Session will be automatically started when accessing session data (qiangxue)\n- Chg #1586: `yii\\db\\QueryBuilder::buildLikeCondition()` will now escape special characters and use percentage characters by default (qiangxue)\n- Chg #1610: `yii\\helpers\\Html::activeCheckboxList()` and `Html::activeRadioList()` will submit an empty string if no checkbox/radio is selected (qiangxue)\n- Chg #1643: Added default value for `yii\\captcha\\Captcha::options` (qiangxue)\n- Chg #1796: Removed `yii\\base\\Controller::getActionParams()` (samdark)\n- Chg #1835: `yii\\grid\\CheckboxColumn` now renders checkboxes whose values are the corresponding data key values (qiangxue)\n- Chg #1821: Changed default values for yii\\db\\Connection username and password to null (cebe)\n- Chg #1844: `yii\\web\\Response::sendFile()` and other file sending methods will not send the response (qiangxue)\n- Chg #1852: `yii\\db\\Connection::tablePrefix` default value now `tbl_` (creocoder)\n- Chg #1958: `beforeSubmit` in `yii.activeform` is now executed after validation and before form submission (6pblcb)\n- Chg #2025: Removed ability to declare scopes in ActiveRecord (samdark)\n- Chg #2043:\n    - Renamed `yii\\web\\Request::acceptedLanguages` to `acceptableLanguages` (qiangxue)\n    - Removed `yii\\web\\Request::getPost()`, `getPut()`, `getDelete()`, `getPatch()` in favor of `getBodyParam()` (cebe)\n    - Renamed `yii\\web\\Request::get()` to `getQueryParams()` and `getRestParams()` to `getBodyParams()` (cebe)\n    - Added `yii\\web\\Request::get($name = null, $defaultValue = null)` and `yii\\web\\Request::post($name = null, $defaultValue = null)` (samdark)\n- Chg #2059: Implemented git-flavored file excluding/filtering for `yii\\helpers\\FileHelper` (nineinchnick)\n- Chg #2063: Removed `yii\\web\\Request::acceptTypes` and renamed `yii\\web\\Request::acceptedContentTypes` to `acceptableContentTypes` (qiangxue)\n- Chg #2103: Renamed `yii\\web\\AccessDeniedHttpException` to `yii\\web\\ForbiddenHttpException` (danschmidt5189)\n- Chg #2146: Removed `yii\\db\\ActiveRelation` class and `yii\\db\\ActiveRelationInterface`, moved the functionality to `yii\\db\\ActiveQuery`.\n             All relational queries are now directly served by `ActiveQuery` allowing to use custom scopes in relations\n             and also to declare arbitrary queries as relations.\n             Also removed `yii\\db\\ActiveRecordInterface::createActiveRelation()` (cebe)\n- Chg #2157: The `*` category pattern will match all categories that do not match any other patterns listed in `yii\\i18n\\I18N::translations` (qiangxue, Ragazzo)\n- Chg #2161: Added ability to use `return` in `Widget::run` (samdark)\n- Chg #2173: Removed `yii\\helpers\\StringHelper::diff()`, Moved `phpspec/php-diff` dependency from `yiisoft/yii2` to `yiisoft/yii2-gii` (samdark)\n- Chg #2175: `yii\\db\\QueryBuilder` will now append UNION statements at the end of the primary SQL (qiangxue)\n- Chg #2210: MySQL driver will now treat `tinyint(1)` as integer instead of boolean (qiangxue)\n- Chg #2248: Renamed `yii\\base\\Model::DEFAULT_SCENARIO` to `yii\\base\\Model::SCENARIO_DEFAULT` (samdark)\n- Chg #2281: Renamed `yii\\db\\ActiveRecord::create()` to `populateRecord()` and changed signature. This method will not call instantiate() anymore (cebe)\n- Chg #2405: The CSS class of `yii\\widgets\\MaskedInput` now defaults to `form-control` (qiangxue)\n- Chg #2426: Changed URL creation method signatures to be consistent (samdark)\n- Chg #2516: Moved error handling from application to ErrorHandler class and fixed problems with HTTP Exception response code (cebe)\n    - `Yii::$app->exception` has now moved to `Yii::$app->errorHandler->exception`\n    - `yii\\base\\ErrorHandler` was split into `yii\\web\\ErrorHandler` and `yii\\console\\ErrorHandler`\n- Chg #2544: Changed `yii\\widgets\\DetailView`'s `name:format:label` to `attribute:format:label` to match `GridView` (samdark)\n- Chg #2603: `yii\\base\\ErrorException` now extends `\\ErrorException` (samdark)\n- Chg #2629: `yii\\base\\Module::controllerPath` is now read only, and all controller classes must be namespaced under `Module::controllerNamespace`. (qiangxue)\n- Chg #2630: API changes for URLs generation (samdark, qiangxue, cebe)\n    - Added `yii\\helpers\\Url`.\n    - Removed `yii\\helpers\\Html::url()`, use `yii\\helpers\\Url::to()` instead.\n    - Removed `yii\\web\\Controller::createUrl()` and `yii\\web\\Controller::createAbsoluteUrl()`, use `yii\\helpers\\Url::toRoute()` instead.\n    - Removed `yii\\web\\Controller::getCanonicalUrl()`, use `yii\\helpers\\Url::canonical()` instead.\n- Chg #2691: Null parameters will not be included in the generated URLs by `UrlManager` (gonimar, qiangxue)\n- Chg #2734: `FileCache::keyPrefix` defaults to empty string now (qiangxue)\n- Chg #2796: Removed `Application::preload` in favor of `Application::bootstrap` (qiangxue)\n- Chg #2816: Changed default date and time format of `yii\\base\\Formatter` to `Y-m-d` and `H:i:s` (qiangxue)\n- Chg #2911: Removed `tbl_` default for table prefix (samdark)\n- Chg #2912: Relative view files will be looked for under the directory containing the view currently being rendered (qiangxue)\n- Chg #2955: Changed the signature of ActiveQuery constructors and replaced `yii\\db\\ActiveRecord::createQuery()` with `find()` to simplify customizing `yii\\db\\ActiveQuery` classes (qiangxue)\n- Chg #2999: Added `findOne()` and `findAll()` to replace the usage of `yii\\db\\ActiveRecord::find($condition)`. (samdark, qiangxue)\n- Chg #4204: `yii\\web\\Request::getUserIP()` will return null if it cannot detect user IP address (qiangxue)\n- Chg #4622: Simplified the way of creating a Faker fixture template file (qiangxue)\n- Chg: Renamed `yii\\jui\\Widget::clientEventsMap` to `clientEventMap` (qiangxue)\n- Chg: Renamed `ActiveRecord::getPopulatedRelations()` to `getRelatedRecords()` (qiangxue)\n- Chg: Renamed `attributeName` and `className` to `targetAttribute` and `targetClass` for `UniqueValidator` and `ExistValidator` (qiangxue)\n- Chg: Added `yii\\widgets\\InputWidget::options` (qiangxue)\n- Chg: Changed the signature of `urlCreator` and button creators for `yii\\gridview\\ActionColumn` (qiangxue)\n- Chg: Updated HTMLPurified dependency to `4.6.*`.\n- Chg: Changed Yii autoloader to support loading PSR-4 classes only (i.e. PEAR-styled classes not supported anymore) (qiangxue)\n- Chg: Changed the directory structure according to PSR-4. You have to update your application `index.php`,\n       `index-test.php` and `yii` files to point to the new location of `Yii.php` (qiangxue, cebe)\n- Chg: Advanced app template: moved database connection DSN, login and password to `-local` config not to expose it to VCS (samdark)\n- Chg: Renamed `yii\\web\\Request::acceptedLanguages` to `acceptableLanguages` (qiangxue)\n- Chg: Removed implementation of `yii\\base\\Arrayable` from `yii\\base\\Object` (qiangxue)\n- Chg: The scripts in asset bundles are now registered in `View` at the end of `endBody()`. It was done in `endPage()` previously (qiangxue)\n- Chg: Renamed `csrf-var` to `csrf-param` for CSRF header name (Dilip)\n- Chg: The directory holding email templates is renamed from `mails` to `mail` (qiangxue)\n- Chg: Renamed properties `fooVar` to `fooParam` for various classes (qiangxue)\n    - Renamed `yii\\widgets\\ActiveForm::ajaxVar` to `ajaxParam`\n    - Renamed `yii\\data\\Pagination::pageVar` to `pageParam`\n    - Renamed `yii\\data\\Sort::sortVar` to `sortParam`\n    - Renamed `yii\\web\\Request::csrfVar` to `csrfParam`\n    - Renamed `yii\\web\\Request::methodVar` to `methodParam`\n    - Renamed `yii\\web\\UrlManager::routeVar` to `routeParam`\n    - Renamed `yii\\web\\Session::flashVar` to `flashParam`\n    - Renamed `yii\\web\\User::idVar` to `idParam`\n    - Renamed `yii\\web\\User::authTimeoutVar` to `authTimeoutParam`\n    - Renamed `yii\\web\\User::returnUrlVar` to `returnUrlParam`\n- Chg: Added `yii\\base\\View::viewFile` and removed `yii\\base\\ViewEvent::viewFile` (qiangxue)\n- Chg: Changed `yii\\base\\Controller::afterAction()`, `yii\\base\\Module::afterAction()` and `yii\\base\\ActionFilter::afterAction()` to pass `$result` by value instead of reference (qiangxue)\n- Chg: `yii\\base\\Extension::init()` is renamed to `bootstrap()` (qiangxue)\n- Chg: `getComponent()` and `setComponent()` in `yii\\base\\Application` and `yii\\base\\Module` are renamed to `get()` and `set()` respectively. (qiangxue)\n- Chg: The signature of `Yii::createObject()` is changed. Constructor parameters must be passed as the second parameter. (qiangxue)\n- Chg: `Yii::$objectConfig` is removed. You should use `Yii::$container->set()` to configure default settings of classes. (qiangxue)\n- Chg: Removed `yii\\grid\\Column::getDataCellContent()` and renamed `yii\\grid\\DataColumn::getDataCellContent()` to `yii\\grid\\DataColumn::getDataCellValue()` (cebe)\n- Chg: `yii\\log\\Logger` is split into `yii\\log\\Logger` and `yii\\log\\Dispatcher`. (qiangxue)\n- Chg: Moved all filter classes to namespace `yii\\filters` (qiangxue)\n- Chg: Re-implemented RBAC by following more closely to the original NIST RBAC model. Dropped `yii\\rbac\\PhpManager`. (qiangxue)\n- Chg: Renamed `yii\\web\\User::checkAccess()` to `yii\\web\\User::can()` (qiangxue)\n- New #66: [Auth client library](https://github.com/yiisoft/yii2-authclient) OpenId, OAuth1, OAuth2 clients (klimov-paul)\n- New #303: Added built-in support for REST API (qiangxue)\n- New #503: Added `yii\\di\\Container` and `yii\\di\\ServiceLocator` (qiangxue)\n- New #706: Added `yii\\widgets\\Pjax` and enhanced `yii\\grid\\GridView` to work with `Pjax` to support AJAX-update (qiangxue)\n- New #1393: [Codeception testing framework integration](https://github.com/yiisoft/yii2-codeception) (Ragazzo)\n- New #1438: [MongoDB integration](https://github.com/yiisoft/yii2-mongodb) ActiveRecord and Query (klimov-paul)\n- New #1956: Implemented test fixture framework (qiangxue)\n- New #2034: Added `yii\\filters\\ContentNegotiator` to support response format and language negotiation (qiangxue)\n- New #2149: Added `yii\\base\\DynamicModel` to support ad-hoc data validation (qiangxue)\n- New #2360: Added `AttributeBehavior` and `BlameableBehavior`, and renamed `AutoTimestamp` to `TimestampBehavior` (lucianobaraglia, qiangxue)\n- New #2932: Added `yii\\web\\ViewAction` that allow you to render views based on GET parameter (samdark)\n- New #2998: Added `yii\\log\\SyslogTarget` that is able to write log to syslog (miramir, samdark)\n- New #3029: Added `yii\\bootstrap\\ActiveForm` and `yii\\bootstrap\\ActiveField` (mikehaertl)\n- New #4640: Added `yii\\widgets\\ActiveForm::beginField()` and `endField()` (qiangxue)\n- New: Yii framework now comes with core messages translated into 26 languages, many thanks to all our translators!\n- New: Added `yii\\codeception\\DbTestCase` (qiangxue)\n- New: Added `yii\\web\\GroupUrlRule` (qiangxue)\n- New: Added `yii\\filters\\RateLimiter` (qiangxue)\n- New: Added various authentication methods, including `HttpBasicAuth`, `HttpBearerAuth`, `QueryParamAuth`, and `CompositeAuth` (qiangxue)\n- New: Added `yii\\web\\HtmlResponseFormatter` and `yii\\web\\JsonResponseFormatter` (qiangxue)\n\n\n2.0.0-alpha December 1, 2013\n-----------------------------\n\n- Initial release.\n- Official extensions released in this version:\n  - [Twitter bootstrap 3.0](https://github.com/yiisoft/yii2-bootstrap)\n  - [Jquery UI](https://github.com/yiisoft/yii2-jui)\n\n  - [Debug Toolbar](https://github.com/yiisoft/yii2-debug)\n  - [Gii code generator](https://github.com/yiisoft/yii2-gii)\n\n  - [Elasticsearch integration](https://github.com/yiisoft/yii2-elasticsearch): ActiveRecord and Query\n  - [Redis integration](https://github.com/yiisoft/yii2-redis): ActiveRecord, Cache and Session\n  - [Sphinx integration](https://github.com/yiisoft/yii2-sphinx): ActiveRecord and Query\n\n  - [Swiftmailer](https://github.com/yiisoft/yii2-swiftmailer)\n\n  - [Smarty View Renderer](https://github.com/yiisoft/yii2-smarty)\n  - [Twig View Renderer](https://github.com/yiisoft/yii2-twig)\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yii\\base;\n\nuse Yii;\nuse yii\\helpers\\StringHelper;\n\n/**\n * Security provides a set of methods to handle common security-related tasks.\n *\n * In particular, Security supports the following features:\n *\n * - Encryption/decryption: [[encryptByKey()]], [[decryptByKey()]], [[encryptByPassword()]] and [[decryptByPassword()]]\n * - Key derivation using standard algorithms: [[pbkdf2()]] and [[hkdf()]]\n * - Data tampering prevention: [[hashData()]] and [[validateData()]]\n * - Password validation: [[generatePasswordHash()]] and [[validatePassword()]]\n *\n * > Note: this class requires 'OpenSSL' PHP extension for random key/string generation on Windows and\n * for encryption/decryption on all platforms. For the highest security level PHP version >= 5.5.0 is recommended.\n *\n * For more details and usage information on Security, see the [guide article on security](guide:security-overview).\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @author Tom Worster <fsb@thefsb.org>\n * @author Klimov Paul <klimov.paul@gmail.com>\n * @since 2.0\n */\nclass Security extends Component\n{\n    /**\n     * @var string The cipher to use for encryption and decryption.\n     */\n    public $cipher = 'AES-128-CBC';\n    /**\n     * @var array[] Look-up table of block sizes and key sizes for each supported OpenSSL cipher.\n     *\n     * In each element, the key is one of the ciphers supported by OpenSSL (@see openssl_get_cipher_methods()).\n     * The value is an array of two integers, the first is the cipher's block size in bytes and the second is\n     * the key size in bytes.\n     *\n     * > Warning: All OpenSSL ciphers that we recommend are in the default value, i.e. AES in CBC mode.\n     *\n     * > Note: Yii's encryption protocol uses the same size for cipher key, HMAC signature key and key\n     * derivation salt.\n     */\n    public $allowedCiphers = [\n        'AES-128-CBC' => [16, 16],\n        'AES-192-CBC' => [16, 24],\n        'AES-256-CBC' => [16, 32],\n    ];\n    /**\n     * @var string Hash algorithm for key derivation. Recommend sha256, sha384 or sha512.\n     * @see [hash_algos()](https://secure.php.net/manual/en/function.hash-algos.php)\n     */\n    public $kdfHash = 'sha256';\n    /**\n     * @var string Hash algorithm for message authentication. Recommend sha256, sha384 or sha512.\n     * @see [hash_algos()](https://secure.php.net/manual/en/function.hash-algos.php)\n     */\n    public $macHash = 'sha256';\n    /**\n     * @var string HKDF info value for derivation of message authentication key.\n     * @see hkdf()\n     */\n    public $authKeyInfo = 'AuthorizationKey';\n    /**\n     * @var int derivation iterations count.\n     * Set as high as possible to hinder dictionary password attacks.\n     */\n    public $derivationIterations = 100000;\n    /**\n     * @var string strategy, which should be used to generate password hash.\n     * Available strategies:\n     * - 'password_hash' - use of PHP `password_hash()` function with PASSWORD_DEFAULT algorithm.\n     *   This option is recommended, but it requires PHP version >= 5.5.0\n     * - 'crypt' - use PHP `crypt()` function.\n     * @deprecated since version 2.0.7, [[generatePasswordHash()]] ignores [[passwordHashStrategy]] and\n     * uses `password_hash()` when available or `crypt()` when not.\n     */\n    public $passwordHashStrategy;\n    /**\n     * @var int Default cost used for password hashing.\n     * Allowed value is between 4 and 31.\n     * @see generatePasswordHash()\n     * @since 2.0.6\n     */\n    public $passwordHashCost = 13;\n\n    /**\n     * @var boolean if LibreSSL should be used.\n     * The recent (> 2.1.5) LibreSSL RNGs are faster and likely better than /dev/urandom.\n     */\n    private $_useLibreSSL;\n\n\n    /**\n     * @return bool if LibreSSL should be used\n     * Use version is 2.1.5 or higher.\n     * @since 2.0.36\n     */\n    protected function shouldUseLibreSSL()\n    {\n        if ($this->_useLibreSSL === null) {\n            // Parse OPENSSL_VERSION_TEXT because OPENSSL_VERSION_NUMBER is no use for LibreSSL.\n            // https://bugs.php.net/bug.php?id=71143\n            $this->_useLibreSSL = defined('OPENSSL_VERSION_TEXT')\n                && preg_match('{^LibreSSL (\\d\\d?)\\.(\\d\\d?)\\.(\\d\\d?)$}', OPENSSL_VERSION_TEXT, $matches)\n                && (10000 * $matches[1]) + (100 * $matches[2]) + $matches[3] >= 20105;\n        }\n\n        return $this->_useLibreSSL;\n    }\n\n    /**\n     * Encrypts data using a password.\n     * Derives keys for encryption and authentication from the password using PBKDF2 and a random salt,\n     * which is deliberately slow to protect against dictionary attacks. Use [[encryptByKey()]] to\n     * encrypt fast using a cryptographic key rather than a password. Key derivation time is\n     * determined by [[$derivationIterations]], which should be set as high as possible.\n     * The encrypted data includes a keyed message authentication code (MAC) so there is no need\n     * to hash input or output data.\n     * > Note: Avoid encrypting with passwords wherever possible. Nothing can protect against\n     * poor-quality or compromised passwords.\n     * @param string $data the data to encrypt\n     * @param string $password the password to use for encryption\n     * @return string the encrypted data as byte string\n     * @see decryptByPassword()\n     * @see encryptByKey()\n     */\n    public function encryptByPassword($data, $password)\n    {\n        return $this->encrypt($data, true, $password, null);\n    }\n\n    /**\n     * Encrypts data using a cryptographic key.\n     * Derives keys for encryption and authentication from the input key using HKDF and a random salt,\n     * which is very fast relative to [[encryptByPassword()]]. The input key must be properly\n     * random -- use [[generateRandomKey()]] to generate keys.\n     * The encrypted data includes a keyed message authentication code (MAC) so there is no need\n     * to hash input or output data.\n     * @param string $data the data to encrypt\n     * @param string $inputKey the input to use for encryption and authentication\n     * @param string $info optional context and application specific information, see [[hkdf()]]\n     * @return string the encrypted data as byte string\n     * @see decryptByKey()\n     * @see encryptByPassword()\n     */\n    public function encryptByKey($data, $inputKey, $info = null)\n    {\n        return $this->encrypt($data, false, $inputKey, $info);\n    }\n\n    /**\n     * Verifies and decrypts data encrypted with [[encryptByPassword()]].\n     * @param string $data the encrypted data to decrypt\n     * @param string $password the password to use for decryption\n     * @return bool|string the decrypted data or false on authentication failure\n     * @see encryptByPassword()\n     */\n    public function decryptByPassword($data, $password)\n    {\n        return $this->decrypt($data, true, $password, null);\n    }\n\n    /**\n     * Verifies and decrypts data encrypted with [[encryptByKey()]].\n     * @param string $data the encrypted data to decrypt\n     * @param string $inputKey the input to use for encryption and authentication\n     * @param string $info optional context and application specific information, see [[hkdf()]]\n     * @return bool|string the decrypted data or false on authentication failure\n     * @see encryptByKey()\n     */\n    public function decryptByKey($data, $inputKey, $info = null)\n    {\n        return $this->decrypt($data, false, $inputKey, $info);\n    }\n\n    /**\n     * Encrypts data.\n     *\n     * @param string $data data to be encrypted\n     * @param bool $passwordBased set true to use password-based key derivation\n     * @param string $secret the encryption password or key\n     * @param string|null $info context/application specific information, e.g. a user ID\n     * See [RFC 5869 Section 3.2](https://tools.ietf.org/html/rfc5869#section-3.2) for more details.\n     *\n     * @return string the encrypted data as byte string\n     * @throws InvalidConfigException on OpenSSL not loaded\n     * @throws Exception on OpenSSL error\n     * @see decrypt()\n     */\n    protected function encrypt($data, $passwordBased, $secret, $info)\n    {\n        if (!extension_loaded('openssl')) {\n            throw new InvalidConfigException('Encryption requires the OpenSSL PHP extension');\n        }\n        if (!isset($this->allowedCiphers[$this->cipher][0], $this->allowedCiphers[$this->cipher][1])) {\n            throw new InvalidConfigException($this->cipher . ' is not an allowed cipher');\n        }\n\n        list($blockSize, $keySize) = $this->allowedCiphers[$this->cipher];\n\n        $keySalt = $this->generateRandomKey($keySize);\n        if ($passwordBased) {\n            $key = $this->pbkdf2($this->kdfHash, $secret, $keySalt, $this->derivationIterations, $keySize);\n        } else {\n            $key = $this->hkdf($this->kdfHash, $secret, $keySalt, $info, $keySize);\n        }\n\n        $iv = $this->generateRandomKey($blockSize);\n\n        $encrypted = openssl_encrypt($data, $this->cipher, $key, OPENSSL_RAW_DATA, $iv);\n        if ($encrypted === false) {\n            throw new \\yii\\base\\Exception('OpenSSL failure on encryption: ' . openssl_error_string());\n        }\n\n        $authKey = $this->hkdf($this->kdfHash, $key, null, $this->authKeyInfo, $keySize);\n        $hashed = $this->hashData($iv . $encrypted, $authKey);\n\n        /*\n         * Output: [keySalt][MAC][IV][ciphertext]\n         * - keySalt is KEY_SIZE bytes long\n         * - MAC: message authentication code, length same as the output of MAC_HASH\n         * - IV: initialization vector, length $blockSize\n         */\n        return $keySalt . $hashed;\n    }\n\n    /**\n     * Decrypts data.\n     *\n     * @param string $data encrypted data to be decrypted.\n     * @param bool $passwordBased set true to use password-based key derivation\n     * @param string $secret the decryption password or key\n     * @param string|null $info context/application specific information, @see encrypt()\n     *\n     * @return bool|string the decrypted data or false on authentication failure\n     * @throws InvalidConfigException on OpenSSL not loaded\n     * @throws Exception on OpenSSL error\n     * @see encrypt()\n     */\n    protected function decrypt($data, $passwordBased, $secret, $info)\n    {\n        if (!extension_loaded('openssl')) {\n            throw new InvalidConfigException('Encryption requires the OpenSSL PHP extension');\n        }\n        if (!isset($this->allowedCiphers[$this->cipher][0], $this->allowedCiphers[$this->cipher][1])) {\n            throw new InvalidConfigException($this->cipher . ' is not an allowed cipher');\n        }\n\n        list($blockSize, $keySize) = $this->allowedCiphers[$this->cipher];\n\n        $keySalt = StringHelper::byteSubstr($data, 0, $keySize);\n        if ($passwordBased) {\n            $key = $this->pbkdf2($this->kdfHash, $secret, $keySalt, $this->derivationIterations, $keySize);\n        } else {\n            $key = $this->hkdf($this->kdfHash, $secret, $keySalt, $info, $keySize);\n        }\n\n        $authKey = $this->hkdf($this->kdfHash, $key, null, $this->authKeyInfo, $keySize);\n        $data = $this->validateData(StringHelper::byteSubstr($data, $keySize, null), $authKey);\n        if ($data === false) {\n            return false;\n        }\n\n        $iv = StringHelper::byteSubstr($data, 0, $blockSize);\n        $encrypted = StringHelper::byteSubstr($data, $blockSize, null);\n\n        $decrypted = openssl_decrypt($encrypted, $this->cipher, $key, OPENSSL_RAW_DATA, $iv);\n        if ($decrypted === false) {\n            throw new \\yii\\base\\Exception('OpenSSL failure on decryption: ' . openssl_error_string());\n        }\n\n        return $decrypted;\n    }\n\n    /**\n     * Derives a key from the given input key using the standard HKDF algorithm.\n     * Implements HKDF specified in [RFC 5869](https://tools.ietf.org/html/rfc5869).\n     * Recommend use one of the SHA-2 hash algorithms: sha224, sha256, sha384 or sha512.\n     * @param string $algo a hash algorithm supported by `hash_hmac()`, e.g. 'SHA-256'\n     * @param string $inputKey the source key\n     * @param string $salt the random salt\n     * @param string $info optional info to bind the derived key material to application-\n     * and context-specific information, e.g. a user ID or API version, see\n     * [RFC 5869](https://tools.ietf.org/html/rfc5869)\n     * @param int $length length of the output key in bytes. If 0, the output key is\n     * the length of the hash algorithm output.\n     * @throws InvalidArgumentException when HMAC generation fails.\n     * @return string the derived key\n     */\n    public function hkdf($algo, $inputKey, $salt = null, $info = null, $length = 0)\n    {\n        if (function_exists('hash_hkdf')) {\n            $outputKey = hash_hkdf($algo, $inputKey, $length, $info, $salt);\n            if ($outputKey === false) {\n                throw new InvalidArgumentException('Invalid parameters to hash_hkdf()');\n            }\n\n            return $outputKey;\n        }\n\n        $test = @hash_hmac($algo, '', '', true);\n        if (!$test) {\n            throw new InvalidArgumentException('Failed to generate HMAC with hash algorithm: ' . $algo);\n        }\n        $hashLength = StringHelper::byteLength($test);\n        if (is_string($length) && preg_match('{^\\d{1,16}$}', $length)) {\n            $length = (int) $length;\n        }\n        if (!is_int($length) || $length < 0 || $length > 255 * $hashLength) {\n            throw new InvalidArgumentException('Invalid length');\n        }\n        $blocks = $length !== 0 ? ceil($length / $hashLength) : 1;\n\n        if ($salt === null) {\n            $salt = str_repeat(\"\\0\", $hashLength);\n        }\n        $prKey = hash_hmac($algo, $inputKey, $salt, true);\n\n        $hmac = '';\n        $outputKey = '';\n        for ($i = 1; $i <= $blocks; $i++) {\n            $hmac = hash_hmac($algo, $hmac . $info . chr($i), $prKey, true);\n            $outputKey .= $hmac;\n        }\n\n        if ($length !== 0) {\n            $outputKey = StringHelper::byteSubstr($outputKey, 0, $length);\n        }\n\n        return $outputKey;\n    }\n\n    /**\n     * Derives a key from the given password using the standard PBKDF2 algorithm.\n     * Implements HKDF2 specified in [RFC 2898](http://tools.ietf.org/html/rfc2898#section-5.2)\n     * Recommend use one of the SHA-2 hash algorithms: sha224, sha256, sha384 or sha512.\n     * @param string $algo a hash algorithm supported by `hash_hmac()`, e.g. 'SHA-256'\n     * @param string $password the source password\n     * @param string $salt the random salt\n     * @param int $iterations the number of iterations of the hash algorithm. Set as high as\n     * possible to hinder dictionary password attacks.\n     * @param int $length length of the output key in bytes. If 0, the output key is\n     * the length of the hash algorithm output.\n     * @return string the derived key\n     * @throws InvalidArgumentException when hash generation fails due to invalid params given.\n     */\n    public function pbkdf2($algo, $password, $salt, $iterations, $length = 0)\n    {\n        if (function_exists('hash_pbkdf2') && PHP_VERSION_ID >= 50500) {\n            $outputKey = hash_pbkdf2($algo, $password, $salt, $iterations, $length, true);\n            if ($outputKey === false) {\n                throw new InvalidArgumentException('Invalid parameters to hash_pbkdf2()');\n            }\n\n            return $outputKey;\n        }\n\n        // todo: is there a nice way to reduce the code repetition in hkdf() and pbkdf2()?\n        $test = @hash_hmac($algo, '', '', true);\n        if (!$test) {\n            throw new InvalidArgumentException('Failed to generate HMAC with hash algorithm: ' . $algo);\n        }\n        if (is_string($iterations) && preg_match('{^\\d{1,16}$}', $iterations)) {\n            $iterations = (int) $iterations;\n        }\n        if (!is_int($iterations) || $iterations < 1) {\n            throw new InvalidArgumentException('Invalid iterations');\n        }\n        if (is_string($length) && preg_match('{^\\d{1,16}$}', $length)) {\n            $length = (int) $length;\n        }\n        if (!is_int($length) || $length < 0) {\n            throw new InvalidArgumentException('Invalid length');\n        }\n        $hashLength = StringHelper::byteLength($test);\n        $blocks = $length !== 0 ? ceil($length / $hashLength) : 1;\n\n        $outputKey = '';\n        for ($j = 1; $j <= $blocks; $j++) {\n            $hmac = hash_hmac($algo, $salt . pack('N', $j), $password, true);\n            $xorsum = $hmac;\n            for ($i = 1; $i < $iterations; $i++) {\n                $hmac = hash_hmac($algo, $hmac, $password, true);\n                $xorsum ^= $hmac;\n            }\n            $outputKey .= $xorsum;\n        }\n\n        if ($length !== 0) {\n            $outputKey = StringHelper::byteSubstr($outputKey, 0, $length);\n        }\n\n        return $outputKey;\n    }\n\n    /**\n     * Prefixes data with a keyed hash value so that it can later be detected if it is tampered.\n     * There is no need to hash inputs or outputs of [[encryptByKey()]] or [[encryptByPassword()]]\n     * as those methods perform the task.\n     * @param string $data the data to be protected\n     * @param string $key the secret key to be used for generating hash. Should be a secure\n     * cryptographic key.\n     * @param bool $rawHash whether the generated hash value is in raw binary format. If false, lowercase\n     * hex digits will be generated.\n     * @return string the data prefixed with the keyed hash\n     * @throws InvalidConfigException when HMAC generation fails.\n     * @see validateData()\n     * @see generateRandomKey()\n     * @see hkdf()\n     * @see pbkdf2()\n     */\n    public function hashData($data, $key, $rawHash = false)\n    {\n        $hash = hash_hmac($this->macHash, $data, $key, $rawHash);\n        if (!$hash) {\n            throw new InvalidConfigException('Failed to generate HMAC with hash algorithm: ' . $this->macHash);\n        }\n\n        return $hash . $data;\n    }\n\n    /**\n     * Validates if the given data is tampered.\n     * @param string $data the data to be validated. The data must be previously\n     * generated by [[hashData()]].\n     * @param string $key the secret key that was previously used to generate the hash for the data in [[hashData()]].\n     * function to see the supported hashing algorithms on your system. This must be the same\n     * as the value passed to [[hashData()]] when generating the hash for the data.\n     * @param bool $rawHash this should take the same value as when you generate the data using [[hashData()]].\n     * It indicates whether the hash value in the data is in binary format. If false, it means the hash value consists\n     * of lowercase hex digits only.\n     * hex digits will be generated.\n     * @return string|false the real data with the hash stripped off. False if the data is tampered.\n     * @throws InvalidConfigException when HMAC generation fails.\n     * @see hashData()\n     */\n    public function validateData($data, $key, $rawHash = false)\n    {\n        $test = @hash_hmac($this->macHash, '', '', $rawHash);\n        if (!$test) {\n            throw new InvalidConfigException('Failed to generate HMAC with hash algorithm: ' . $this->macHash);\n        }\n        $hashLength = StringHelper::byteLength($test);\n        if (StringHelper::byteLength($data) >= $hashLength) {\n            $hash = StringHelper::byteSubstr($data, 0, $hashLength);\n            $pureData = StringHelper::byteSubstr($data, $hashLength, null);\n\n            $calculatedHash = hash_hmac($this->macHash, $pureData, $key, $rawHash);\n\n            if ($this->compareString($hash, $calculatedHash)) {\n                return $pureData;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Generates specified number of random bytes.\n     * Note that output may not be ASCII.\n     * @see generateRandomString() if you need a string.\n     *\n     * @param int $length the number of bytes to generate\n     * @return string the generated random bytes\n     * @throws InvalidArgumentException if wrong length is specified\n     * @throws Exception on failure.\n     */\n    public function generateRandomKey($length = 32)\n    {\n        if (!is_int($length)) {\n            throw new InvalidArgumentException('First parameter ($length) must be an integer');\n        }\n\n        if ($length < 1) {\n            throw new InvalidArgumentException('First parameter ($length) must be greater than 0');\n        }\n\n        return random_bytes($length);\n    }\n\n    /**\n     * Generates a random string of specified length.\n     * The string generated matches [A-Za-z0-9_-]+ and is transparent to URL-encoding.\n     *\n     * @param int $length the length of the key in characters\n     * @return string the generated random key\n     * @throws Exception on failure.\n     */\n    public function generateRandomString($length = 32)\n    {\n        if (!is_int($length)) {\n            throw new InvalidArgumentException('First parameter ($length) must be an integer');\n        }\n\n        if ($length < 1) {\n            throw new InvalidArgumentException('First parameter ($length) must be greater than 0');\n        }\n\n        $bytes = $this->generateRandomKey($length);\n        return substr(StringHelper::base64UrlEncode($bytes), 0, $length);\n    }\n\n    /**\n     * Generates a secure hash from a password and a random salt.\n     *\n     * The generated hash can be stored in database.\n     * Later when a password needs to be validated, the hash can be fetched and passed\n     * to [[validatePassword()]]. For example,\n     *\n     * ```php\n     * // generates the hash (usually done during user registration or when the password is changed)\n     * $hash = Yii::$app->getSecurity()->generatePasswordHash($password);\n     * // ...save $hash in database...\n     *\n     * // during login, validate if the password entered is correct using $hash fetched from database\n     * if (Yii::$app->getSecurity()->validatePassword($password, $hash)) {\n     *     // password is good\n     * } else {\n     *     // password is bad\n     * }\n     * ```\n     *\n     * @param string $password The password to be hashed.\n     * @param int $cost Cost parameter used by the Blowfish hash algorithm.\n     * The higher the value of cost,\n     * the longer it takes to generate the hash and to verify a password against it. Higher cost\n     * therefore slows down a brute-force attack. For best protection against brute-force attacks,\n     * set it to the highest value that is tolerable on production servers. The time taken to\n     * compute the hash doubles for every increment by one of $cost.\n     * @return string The password hash string. When [[passwordHashStrategy]] is set to 'crypt',\n     * the output is always 60 ASCII characters, when set to 'password_hash' the output length\n     * might increase in future versions of PHP (https://secure.php.net/manual/en/function.password-hash.php)\n     * @throws Exception on bad password parameter or cost parameter.\n     * @see validatePassword()\n     */\n    public function generatePasswordHash($password, $cost = null)\n    {\n        if ($cost === null) {\n            $cost = $this->passwordHashCost;\n        }\n\n        if (function_exists('password_hash')) {\n            /* @noinspection PhpUndefinedConstantInspection */\n            return password_hash($password, PASSWORD_DEFAULT, ['cost' => $cost]);\n        }\n\n        $salt = $this->generateSalt($cost);\n        $hash = crypt($password, $salt);\n        // strlen() is safe since crypt() returns only ascii\n        if (!is_string($hash) || strlen($hash) !== 60) {\n            throw new Exception('Unknown error occurred while generating hash.');\n        }\n\n        return $hash;\n    }\n\n    /**\n     * Verifies a password against a hash.\n     * @param string $password The password to verify.\n     * @param string $hash The hash to verify the password against.\n     * @return bool whether the password is correct.\n     * @throws InvalidArgumentException on bad password/hash parameters or if crypt() with Blowfish hash is not available.\n     * @see generatePasswordHash()\n     */\n    public function validatePassword($password, $hash)\n    {\n        if (!is_string($password) || $password === '') {\n            throw new InvalidArgumentException('Password must be a string and cannot be empty.');\n        }\n\n        if (!preg_match('/^\\$2[axy]\\$(\\d\\d)\\$[\\.\\/0-9A-Za-z]{22}/', $hash, $matches)\n            || $matches[1] < 4\n            || $matches[1] > 30\n        ) {\n            throw new InvalidArgumentException('Hash is invalid.');\n        }\n\n        if (function_exists('password_verify')) {\n            return password_verify($password, $hash);\n        }\n\n        $test = crypt($password, $hash);\n        $n = strlen($test);\n        if ($n !== 60) {\n            return false;\n        }\n\n        return $this->compareString($test, $hash);\n    }\n\n    /**\n     * Generates a salt that can be used to generate a password hash.\n     *\n     * The PHP [crypt()](https://secure.php.net/manual/en/function.crypt.php) built-in function\n     * requires, for the Blowfish hash algorithm, a salt string in a specific format:\n     * \"$2a$\", \"$2x$\" or \"$2y$\", a two digit cost parameter, \"$\", and 22 characters\n     * from the alphabet \"./0-9A-Za-z\".\n     *\n     * @param int $cost the cost parameter\n     * @return string the random salt value.\n     * @throws InvalidArgumentException if the cost parameter is out of the range of 4 to 31.\n     */\n    protected function generateSalt($cost = 13)\n    {\n        $cost = (int) $cost;\n        if ($cost < 4 || $cost > 31) {\n            throw new InvalidArgumentException('Cost must be between 4 and 31.');\n        }\n\n        // Get a 20-byte random string\n        $rand = $this->generateRandomKey(20);\n        // Form the prefix that specifies Blowfish (bcrypt) algorithm and cost parameter.\n        $salt = sprintf('$2y$%02d$', $cost);\n        // Append the random salt data in the required base64 format.\n        $salt .= str_replace('+', '.', substr(base64_encode($rand), 0, 22));\n\n        return $salt;\n    }\n\n    /**\n     * Performs string comparison using timing attack resistant approach.\n     * @see http://codereview.stackexchange.com/questions/13512\n     * @param string $expected string to compare.\n     * @param string $actual user-supplied string.\n     * @return bool whether strings are equal.\n     */\n    public function compareString($expected, $actual)\n    {\n        if (!is_string($expected)) {\n            throw new InvalidArgumentException('Expected expected value to be a string, ' . gettype($expected) . ' given.');\n        }\n\n        if (!is_string($actual)) {\n            throw new InvalidArgumentException('Expected actual value to be a string, ' . gettype($actual) . ' given.');\n        }\n\n        if (function_exists('hash_equals')) {\n            return hash_equals($expected, $actual);\n        }\n\n        $expected .= \"\\0\";\n        $actual .= \"\\0\";\n        $expectedLength = StringHelper::byteLength($expected);\n        $actualLength = StringHelper::byteLength($actual);\n        $diff = $expectedLength - $actualLength;\n        for ($i = 0; $i < $actualLength; $i++) {\n            $diff |= (ord($actual[$i]) ^ ord($expected[$i % $expectedLength]));\n        }\n\n        return $diff === 0;\n    }\n\n    /**\n     * Masks a token to make it uncompressible.\n     * Applies a random mask to the token and prepends the mask used to the result making the string always unique.\n     * Used to mitigate BREACH attack by randomizing how token is outputted on each request.\n     * @param string $token An unmasked token.\n     * @return string A masked token.\n     * @since 2.0.12\n     */\n    public function maskToken($token)\n    {\n        // The number of bytes in a mask is always equal to the number of bytes in a token.\n        $mask = $this->generateRandomKey(StringHelper::byteLength($token));\n        return StringHelper::base64UrlEncode($mask . ($mask ^ $token));\n    }\n\n    /**\n     * Unmasks a token previously masked by `maskToken`.\n     * @param string $maskedToken A masked token.\n     * @return string An unmasked token, or an empty string in case of token format is invalid.\n     * @since 2.0.12\n     */\n    public function unmaskToken($maskedToken)\n    {\n        $decoded = StringHelper::base64UrlDecode($maskedToken);\n        $length = StringHelper::byteLength($decoded) / 2;\n        // Check if the masked token has an even length.\n        if (!is_int($length)) {\n            return '';\n        }\n\n        return StringHelper::byteSubstr($decoded, $length, $length) ^ StringHelper::byteSubstr($decoded, 0, $length);\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yii\\caching;\n\nuse Yii;\nuse yii\\base\\InvalidConfigException;\nuse yii\\db\\Connection;\nuse yii\\db\\PdoValue;\nuse yii\\db\\Query;\nuse yii\\di\\Instance;\n\n/**\n * DbCache implements a cache application component by storing cached data in a database.\n *\n * By default, DbCache stores session data in a DB table named 'cache'. This table\n * must be pre-created. The table name can be changed by setting [[cacheTable]].\n *\n * Please refer to [[Cache]] for common cache operations that are supported by DbCache.\n *\n * The following example shows how you can configure the application to use DbCache:\n *\n * ```php\n * 'cache' => [\n *     'class' => 'yii\\caching\\DbCache',\n *     // 'db' => 'mydb',\n *     // 'cacheTable' => 'my_cache',\n * ]\n * ```\n *\n * For more details and usage information on Cache, see the [guide article on caching](guide:caching-overview).\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n */\nclass DbCache extends Cache\n{\n    /**\n     * @var Connection|array|string the DB connection object or the application component ID of the DB connection.\n     * After the DbCache object is created, if you want to change this property, you should only assign it\n     * with a DB connection object.\n     * Starting from version 2.0.2, this can also be a configuration array for creating the object.\n     */\n    public $db = 'db';\n    /**\n     * @var string name of the DB table to store cache content.\n     * The table should be pre-created as follows:\n     *\n     * ```php\n     * CREATE TABLE cache (\n     *     id char(128) NOT NULL PRIMARY KEY,\n     *     expire int(11),\n     *     data BLOB\n     * );\n     * ```\n     *\n     * For MSSQL:\n     * ```php\n     * CREATE TABLE cache (\n     *     id VARCHAR(128) NOT NULL PRIMARY KEY,\n     *     expire INT(11),\n     *     data VARBINARY(MAX)\n     * );\n     * ```\n     *\n     * where 'BLOB' refers to the BLOB-type of your preferred DBMS. Below are the BLOB type\n     * that can be used for some popular DBMS:\n     *\n     * - MySQL: LONGBLOB\n     * - PostgreSQL: BYTEA\n     *\n     * When using DbCache in a production server, we recommend you create a DB index for the 'expire'\n     * column in the cache table to improve the performance.\n     */\n    public $cacheTable = '{{%cache}}';\n    /**\n     * @var int the probability (parts per million) that garbage collection (GC) should be performed\n     * when storing a piece of data in the cache. Defaults to 100, meaning 0.01% chance.\n     * This number should be between 0 and 1000000. A value 0 meaning no GC will be performed at all.\n     */\n    public $gcProbability = 100;\n\n    protected $isVarbinaryDataField;\n\n\n    /**\n     * Initializes the DbCache component.\n     * This method will initialize the [[db]] property to make sure it refers to a valid DB connection.\n     * @throws InvalidConfigException if [[db]] is invalid.\n     */\n    public function init()\n    {\n        parent::init();\n        $this->db = Instance::ensure($this->db, Connection::className());\n    }\n\n    /**\n     * Checks whether a specified key exists in the cache.\n     * This can be faster than getting the value from the cache if the data is big.\n     * Note that this method does not check whether the dependency associated\n     * with the cached data, if there is any, has changed. So a call to [[get]]\n     * may return false while exists returns true.\n     * @param mixed $key a key identifying the cached value. This can be a simple string or\n     * a complex data structure consisting of factors representing the key.\n     * @return bool true if a value exists in cache, false if the value is not in the cache or expired.\n     */\n    public function exists($key)\n    {\n        $key = $this->buildKey($key);\n\n        $query = new Query();\n        $query->select(['COUNT(*)'])\n            ->from($this->cacheTable)\n            ->where('[[id]] = :id AND ([[expire]] = 0 OR [[expire]] >' . time() . ')', [':id' => $key]);\n        if ($this->db->enableQueryCache) {\n            // temporarily disable and re-enable query caching\n            $this->db->enableQueryCache = false;\n            $result = $query->createCommand($this->db)->queryScalar();\n            $this->db->enableQueryCache = true;\n        } else {\n            $result = $query->createCommand($this->db)->queryScalar();\n        }\n\n        return $result > 0;\n    }\n\n    /**\n     * Retrieves a value from cache with a specified key.\n     * This is the implementation of the method declared in the parent class.\n     * @param string $key a unique key identifying the cached value\n     * @return string|false the value stored in cache, false if the value is not in the cache or expired.\n     */\n    protected function getValue($key)\n    {\n        $query = new Query();\n        $query->select([$this->getDataFieldName()])\n            ->from($this->cacheTable)\n            ->where('[[id]] = :id AND ([[expire]] = 0 OR [[expire]] >' . time() . ')', [':id' => $key]);\n        if ($this->db->enableQueryCache) {\n            // temporarily disable and re-enable query caching\n            $this->db->enableQueryCache = false;\n            $result = $query->createCommand($this->db)->queryScalar();\n            $this->db->enableQueryCache = true;\n\n            return $result;\n        }\n\n        return $query->createCommand($this->db)->queryScalar();\n    }\n\n    /**\n     * Retrieves multiple values from cache with the specified keys.\n     * @param array $keys a list of keys identifying the cached values\n     * @return array a list of cached values indexed by the keys\n     */\n    protected function getValues($keys)\n    {\n        if (empty($keys)) {\n            return [];\n        }\n        $query = new Query();\n        $query->select(['id', $this->getDataFieldName()])\n            ->from($this->cacheTable)\n            ->where(['id' => $keys])\n            ->andWhere('([[expire]] = 0 OR [[expire]] > ' . time() . ')');\n\n        if ($this->db->enableQueryCache) {\n            $this->db->enableQueryCache = false;\n            $rows = $query->createCommand($this->db)->queryAll();\n            $this->db->enableQueryCache = true;\n        } else {\n            $rows = $query->createCommand($this->db)->queryAll();\n        }\n\n        $results = [];\n        foreach ($keys as $key) {\n            $results[$key] = false;\n        }\n        foreach ($rows as $row) {\n            if (is_resource($row['data']) && get_resource_type($row['data']) === 'stream') {\n                $results[$row['id']] = stream_get_contents($row['data']);\n            } else {\n                $results[$row['id']] = $row['data'];\n            }\n        }\n\n        return $results;\n    }\n\n    /**\n     * Stores a value identified by a key in cache.\n     * This is the implementation of the method declared in the parent class.\n     *\n     * @param string $key the key identifying the value to be cached\n     * @param string $value the value to be cached. Other types (if you have disabled [[serializer]]) cannot be saved.\n     * @param int $duration the number of seconds in which the cached value will expire. 0 means never expire.\n     * @return bool true if the value is successfully stored into cache, false otherwise\n     */\n    protected function setValue($key, $value, $duration)\n    {\n        try {\n            $this->db->noCache(function (Connection $db) use ($key, $value, $duration) {\n                $db->createCommand()->upsert($this->cacheTable, [\n                    'id' => $key,\n                    'expire' => $duration > 0 ? $duration + time() : 0,\n                    'data' => $this->getDataFieldValue($value),\n                ])->execute();\n            });\n\n            $this->gc();\n\n            return true;\n        } catch (\\Exception $e) {\n            Yii::warning(\"Unable to update or insert cache data: {$e->getMessage()}\", __METHOD__);\n\n            return false;\n        }\n    }\n\n    /**\n     * Stores a value identified by a key into cache if the cache does not contain this key.\n     * This is the implementation of the method declared in the parent class.\n     *\n     * @param string $key the key identifying the value to be cached\n     * @param string $value the value to be cached. Other types (if you have disabled [[serializer]]) cannot be saved.\n     * @param int $duration the number of seconds in which the cached value will expire. 0 means never expire.\n     * @return bool true if the value is successfully stored into cache, false otherwise\n     */\n    protected function addValue($key, $value, $duration)\n    {\n        $this->gc();\n\n        try {\n            $this->db->noCache(function (Connection $db) use ($key, $value, $duration) {\n                $db->createCommand()\n                    ->insert($this->cacheTable, [\n                        'id' => $key,\n                        'expire' => $duration > 0 ? $duration + time() : 0,\n                        'data' => $this->getDataFieldValue($value),\n                    ])->execute();\n            });\n\n            return true;\n        } catch (\\Exception $e) {\n            Yii::warning(\"Unable to insert cache data: {$e->getMessage()}\", __METHOD__);\n\n            return false;\n        }\n    }\n\n    /**\n     * Deletes a value with the specified key from cache\n     * This is the implementation of the method declared in the parent class.\n     * @param string $key the key of the value to be deleted\n     * @return bool if no error happens during deletion\n     */\n    protected function deleteValue($key)\n    {\n        $this->db->noCache(function (Connection $db) use ($key) {\n            $db->createCommand()\n                ->delete($this->cacheTable, ['id' => $key])\n                ->execute();\n        });\n\n        return true;\n    }\n\n    /**\n     * Removes the expired data values.\n     * @param bool $force whether to enforce the garbage collection regardless of [[gcProbability]].\n     * Defaults to false, meaning the actual deletion happens with the probability as specified by [[gcProbability]].\n     */\n    public function gc($force = false)\n    {\n\n        if ($force || random_int(0, 1000000) < $this->gcProbability) {\n            $this->db->createCommand()\n                ->delete($this->cacheTable, '[[expire]] > 0 AND [[expire]] < ' . time())\n                ->execute();\n        }\n    }\n\n    /**\n     * Deletes all values from cache.\n     * This is the implementation of the method declared in the parent class.\n     * @return bool whether the flush operation was successful.\n     */\n    protected function flushValues()\n    {\n        $this->db->createCommand()\n            ->delete($this->cacheTable)\n            ->execute();\n\n        return true;\n    }\n\n    /**\n     * @return bool whether field is MSSQL varbinary\n     * @since 2.0.42\n     */\n    protected function isVarbinaryDataField()\n    {\n        if ($this->isVarbinaryDataField === null) {\n            $this->isVarbinaryDataField = in_array($this->db->getDriverName(), ['sqlsrv', 'dblib']) &&\n                $this->db->getTableSchema($this->cacheTable)->columns['data']->dbType === 'varbinary';\n        }\n        return $this->isVarbinaryDataField;\n    }\n\n    /**\n     * @return string `data` field name converted for usage in MSSQL (if needed)\n     * @since 2.0.42\n     */\n    protected function getDataFieldName()\n    {\n        return $this->isVarbinaryDataField() ? 'convert(nvarchar(max),[data]) data' : 'data';\n    }\n\n    /**\n     * @return PdoValue PdoValue or direct $value for usage in MSSQL\n     * @since 2.0.42\n     */\n    protected function getDataFieldValue($value)\n    {\n        return $this->isVarbinaryDataField() ? $value : new PdoValue($value, \\PDO::PARAM_LOB);\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yii\\caching;\n\nuse Yii;\nuse yii\\helpers\\FileHelper;\n\n/**\n * FileCache implements a cache component using files.\n *\n * For each data value being cached, FileCache will store it in a separate file.\n * The cache files are placed under [[cachePath]]. FileCache will perform garbage collection\n * automatically to remove expired cache files.\n *\n * Please refer to [[Cache]] for common cache operations that are supported by FileCache.\n *\n * For more details and usage information on Cache, see the [guide article on caching](guide:caching-overview).\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n */\nclass FileCache extends Cache\n{\n    /**\n     * @var string a string prefixed to every cache key. This is needed when you store\n     * cache data under the same [[cachePath]] for different applications to avoid\n     * conflict.\n     *\n     * To ensure interoperability, only alphanumeric characters should be used.\n     */\n    public $keyPrefix = '';\n    /**\n     * @var string the directory to store cache files. You may use [path alias](guide:concept-aliases) here.\n     * If not set, it will use the \"cache\" subdirectory under the application runtime path.\n     */\n    public $cachePath = '@runtime/cache';\n    /**\n     * @var string cache file suffix. Defaults to '.bin'.\n     */\n    public $cacheFileSuffix = '.bin';\n    /**\n     * @var int the level of sub-directories to store cache files. Defaults to 1.\n     * If the system has huge number of cache files (e.g. one million), you may use a bigger value\n     * (usually no bigger than 3). Using sub-directories is mainly to ensure the file system\n     * is not over burdened with a single directory having too many files.\n     */\n    public $directoryLevel = 1;\n    /**\n     * @var int the probability (parts per million) that garbage collection (GC) should be performed\n     * when storing a piece of data in the cache. Defaults to 10, meaning 0.001% chance.\n     * This number should be between 0 and 1000000. A value 0 means no GC will be performed at all.\n     */\n    public $gcProbability = 10;\n    /**\n     * @var int the permission to be set for newly created cache files.\n     * This value will be used by PHP chmod() function. No umask will be applied.\n     * If not set, the permission will be determined by the current environment.\n     */\n    public $fileMode;\n    /**\n     * @var int the permission to be set for newly created directories.\n     * This value will be used by PHP chmod() function. No umask will be applied.\n     * Defaults to 0775, meaning the directory is read-writable by owner and group,\n     * but read-only for other users.\n     */\n    public $dirMode = 0775;\n\n\n    /**\n     * Initializes this component by ensuring the existence of the cache path.\n     */\n    public function init()\n    {\n        parent::init();\n        $this->cachePath = Yii::getAlias($this->cachePath);\n        if (!is_dir($this->cachePath)) {\n            FileHelper::createDirectory($this->cachePath, $this->dirMode, true);\n        }\n    }\n\n    /**\n     * Checks whether a specified key exists in the cache.\n     * This can be faster than getting the value from the cache if the data is big.\n     * Note that this method does not check whether the dependency associated\n     * with the cached data, if there is any, has changed. So a call to [[get]]\n     * may return false while exists returns true.\n     * @param mixed $key a key identifying the cached value. This can be a simple string or\n     * a complex data structure consisting of factors representing the key.\n     * @return bool true if a value exists in cache, false if the value is not in the cache or expired.\n     */\n    public function exists($key)\n    {\n        $cacheFile = $this->getCacheFile($this->buildKey($key));\n\n        return @filemtime($cacheFile) > time();\n    }\n\n    /**\n     * Retrieves a value from cache with a specified key.\n     * This is the implementation of the method declared in the parent class.\n     * @param string $key a unique key identifying the cached value\n     * @return string|false the value stored in cache, false if the value is not in the cache or expired.\n     */\n    protected function getValue($key)\n    {\n        $cacheFile = $this->getCacheFile($key);\n\n        if (@filemtime($cacheFile) > time()) {\n            $fp = @fopen($cacheFile, 'r');\n            if ($fp !== false) {\n                @flock($fp, LOCK_SH);\n                $cacheValue = @stream_get_contents($fp);\n                @flock($fp, LOCK_UN);\n                @fclose($fp);\n                return $cacheValue;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Stores a value identified by a key in cache.\n     * This is the implementation of the method declared in the parent class.\n     *\n     * @param string $key the key identifying the value to be cached\n     * @param string $value the value to be cached. Other types (If you have disabled [[serializer]]) unable to get is\n     * correct in [[getValue()]].\n     * @param int $duration the number of seconds in which the cached value will expire. 0 means never expire.\n     * @return bool true if the value is successfully stored into cache, false otherwise\n     */\n    protected function setValue($key, $value, $duration)\n    {\n        $this->gc();\n        $cacheFile = $this->getCacheFile($key);\n        if ($this->directoryLevel > 0) {\n            @FileHelper::createDirectory(dirname($cacheFile), $this->dirMode, true);\n        }\n        // If ownership differs the touch call will fail, so we try to\n        // rebuild the file from scratch by deleting it first\n        // https://github.com/yiisoft/yii2/pull/16120\n        if (is_file($cacheFile) && function_exists('posix_geteuid') && fileowner($cacheFile) !== posix_geteuid()) {\n            @unlink($cacheFile);\n        }\n        if (@file_put_contents($cacheFile, $value, LOCK_EX) !== false) {\n            if ($this->fileMode !== null) {\n                @chmod($cacheFile, $this->fileMode);\n            }\n            if ($duration <= 0) {\n                $duration = 31536000; // 1 year\n            }\n\n            return @touch($cacheFile, $duration + time());\n        }\n\n        $error = error_get_last();\n        Yii::warning(\"Unable to write cache file '{$cacheFile}': {$error['message']}\", __METHOD__);\n        return false;\n    }\n\n    /**\n     * Stores a value identified by a key into cache if the cache does not contain this key.\n     * This is the implementation of the method declared in the parent class.\n     *\n     * @param string $key the key identifying the value to be cached\n     * @param string $value the value to be cached. Other types (if you have disabled [[serializer]]) unable to get is\n     * correct in [[getValue()]].\n     * @param int $duration the number of seconds in which the cached value will expire. 0 means never expire.\n     * @return bool true if the value is successfully stored into cache, false otherwise\n     */\n    protected function addValue($key, $value, $duration)\n    {\n        $cacheFile = $this->getCacheFile($key);\n        if (@filemtime($cacheFile) > time()) {\n            return false;\n        }\n\n        return $this->setValue($key, $value, $duration);\n    }\n\n    /**\n     * Deletes a value with the specified key from cache\n     * This is the implementation of the method declared in the parent class.\n     * @param string $key the key of the value to be deleted\n     * @return bool if no error happens during deletion\n     */\n    protected function deleteValue($key)\n    {\n        $cacheFile = $this->getCacheFile($key);\n\n        return @unlink($cacheFile);\n    }\n\n    /**\n     * Returns the cache file path given the normalized cache key.\n     * @param string $normalizedKey normalized cache key by [[buildKey]] method\n     * @return string the cache file path\n     */\n    protected function getCacheFile($normalizedKey)\n    {\n        $cacheKey = $normalizedKey;\n\n        if ($this->keyPrefix !== '') {\n            // Remove key prefix to avoid generating constant directory levels\n            $lenKeyPrefix = strlen($this->keyPrefix);\n            $cacheKey = substr_replace($normalizedKey, '', 0, $lenKeyPrefix);\n        }\n\n        $cachePath = $this->cachePath;\n\n        if ($this->directoryLevel > 0) {\n            for ($i = 0; $i < $this->directoryLevel; ++$i) {\n                if (($subDirectory = substr($cacheKey, $i + $i, 2)) !== false) {\n                    $cachePath .= DIRECTORY_SEPARATOR . $subDirectory;\n                }\n            }\n        }\n\n        return $cachePath . DIRECTORY_SEPARATOR . $normalizedKey . $this->cacheFileSuffix;\n    }\n\n    /**\n     * Deletes all values from cache.\n     * This is the implementation of the method declared in the parent class.\n     * @return bool whether the flush operation was successful.\n     */\n    protected function flushValues()\n    {\n        $this->gc(true, false);\n\n        return true;\n    }\n\n    /**\n     * Removes expired cache files.\n     * @param bool $force whether to enforce the garbage collection regardless of [[gcProbability]].\n     * Defaults to false, meaning the actual deletion happens with the probability as specified by [[gcProbability]].\n     * @param bool $expiredOnly whether to removed expired cache files only.\n     * If false, all cache files under [[cachePath]] will be removed.\n     */\n    public function gc($force = false, $expiredOnly = true)\n    {\n        if ($force || random_int(0, 1000000) < $this->gcProbability) {\n            $this->gcRecursive($this->cachePath, $expiredOnly);\n        }\n    }\n\n    /**\n     * Recursively removing expired cache files under a directory.\n     * This method is mainly used by [[gc()]].\n     * @param string $path the directory under which expired cache files are removed.\n     * @param bool $expiredOnly whether to only remove expired cache files. If false, all files\n     * under `$path` will be removed.\n     */\n    protected function gcRecursive($path, $expiredOnly)\n    {\n        if (($handle = opendir($path)) !== false) {\n            while (($file = readdir($handle)) !== false) {\n                if (strpos($file, '.') === 0) {\n                    continue;\n                }\n                $fullPath = $path . DIRECTORY_SEPARATOR . $file;\n                if (is_dir($fullPath)) {\n                    $this->gcRecursive($fullPath, $expiredOnly);\n                    if (!$expiredOnly) {\n                        if (!@rmdir($fullPath)) {\n                            $error = error_get_last();\n                            Yii::warning(\"Unable to remove directory '{$fullPath}': {$error['message']}\", __METHOD__);\n                        }\n                    }\n                } elseif (!$expiredOnly || $expiredOnly && @filemtime($fullPath) < time()) {\n                    if (!@unlink($fullPath)) {\n                        $error = error_get_last();\n                        Yii::warning(\"Unable to remove file '{$fullPath}': {$error['message']}\", __METHOD__);\n                    }\n                }\n            }\n            closedir($handle);\n        }\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yii\\captcha;\n\nuse Yii;\nuse yii\\base\\Action;\nuse yii\\base\\InvalidConfigException;\nuse yii\\helpers\\Url;\nuse yii\\web\\Response;\n\n/**\n * CaptchaAction renders a CAPTCHA image.\n *\n * CaptchaAction is used together with [[Captcha]] and [[\\yii\\captcha\\CaptchaValidator]]\n * to provide the [CAPTCHA](http://en.wikipedia.org/wiki/Captcha) feature.\n *\n * By configuring the properties of CaptchaAction, you may customize the appearance of\n * the generated CAPTCHA images, such as the font color, the background color, etc.\n *\n * Note that CaptchaAction requires either GD2 extension or ImageMagick PHP extension.\n *\n * Using CAPTCHA involves the following steps:\n *\n * 1. Override [[\\yii\\web\\Controller::actions()]] and register an action of class CaptchaAction with ID 'captcha'\n * 2. In the form model, declare an attribute to store user-entered verification code, and declare the attribute\n *    to be validated by the 'captcha' validator.\n * 3. In the controller view, insert a [[Captcha]] widget in the form.\n *\n * @property-read string $verifyCode The verification code. This property is read-only.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n */\nclass CaptchaAction extends Action\n{\n    /**\n     * The name of the GET parameter indicating whether the CAPTCHA image should be regenerated.\n     */\n    const REFRESH_GET_VAR = 'refresh';\n\n    /**\n     * @var int how many times should the same CAPTCHA be displayed. Defaults to 3.\n     * A value less than or equal to 0 means the test is unlimited (available since version 1.1.2).\n     */\n    public $testLimit = 3;\n    /**\n     * @var int the width of the generated CAPTCHA image. Defaults to 120.\n     */\n    public $width = 120;\n    /**\n     * @var int the height of the generated CAPTCHA image. Defaults to 50.\n     */\n    public $height = 50;\n    /**\n     * @var int padding around the text. Defaults to 2.\n     */\n    public $padding = 2;\n    /**\n     * @var int the background color. For example, 0x55FF00.\n     * Defaults to 0xFFFFFF, meaning white color.\n     */\n    public $backColor = 0xFFFFFF;\n    /**\n     * @var int the font color. For example, 0x55FF00. Defaults to 0x2040A0 (blue color).\n     */\n    public $foreColor = 0x2040A0;\n    /**\n     * @var bool whether to use transparent background. Defaults to false.\n     */\n    public $transparent = false;\n    /**\n     * @var int the minimum length for randomly generated word. Defaults to 6.\n     */\n    public $minLength = 6;\n    /**\n     * @var int the maximum length for randomly generated word. Defaults to 7.\n     */\n    public $maxLength = 7;\n    /**\n     * @var int the offset between characters. Defaults to -2. You can adjust this property\n     * in order to decrease or increase the readability of the captcha.\n     */\n    public $offset = -2;\n    /**\n     * @var string the TrueType font file. This can be either a file path or [path alias](guide:concept-aliases).\n     */\n    public $fontFile = '@yii/captcha/SpicyRice.ttf';\n    /**\n     * @var string the fixed verification code. When this property is set,\n     * [[getVerifyCode()]] will always return the value of this property.\n     * This is mainly used in automated tests where we want to be able to reproduce\n     * the same verification code each time we run the tests.\n     * If not set, it means the verification code will be randomly generated.\n     */\n    public $fixedVerifyCode;\n    /**\n     * @var string the rendering library to use. Currently supported only 'gd' and 'imagick'.\n     * If not set, library will be determined automatically.\n     * @since 2.0.7\n     */\n    public $imageLibrary;\n\n\n    /**\n     * Initializes the action.\n     * @throws InvalidConfigException if the font file does not exist.\n     */\n    public function init()\n    {\n        $this->fontFile = Yii::getAlias($this->fontFile);\n        if (!is_file($this->fontFile)) {\n            throw new InvalidConfigException(\"The font file does not exist: {$this->fontFile}\");\n        }\n    }\n\n    /**\n     * Runs the action.\n     */\n    public function run()\n    {\n        if (Yii::$app->request->getQueryParam(self::REFRESH_GET_VAR) !== null) {\n            // AJAX request for regenerating code\n            $code = $this->getVerifyCode(true);\n            Yii::$app->response->format = Response::FORMAT_JSON;\n            return [\n                'hash1' => $this->generateValidationHash($code),\n                'hash2' => $this->generateValidationHash(strtolower($code)),\n                // we add a random 'v' parameter so that FireFox can refresh the image\n                // when src attribute of image tag is changed\n                'url' => Url::to([$this->id, 'v' => uniqid('', true)]),\n            ];\n        }\n\n        $this->setHttpHeaders();\n        Yii::$app->response->format = Response::FORMAT_RAW;\n\n        return $this->renderImage($this->getVerifyCode());\n    }\n\n    /**\n     * Generates a hash code that can be used for client-side validation.\n     * @param string $code the CAPTCHA code\n     * @return string a hash code generated from the CAPTCHA code\n     */\n    public function generateValidationHash($code)\n    {\n        for ($h = 0, $i = strlen($code) - 1; $i >= 0; --$i) {\n            $h += ord($code[$i]);\n        }\n\n        return $h;\n    }\n\n    /**\n     * Gets the verification code.\n     * @param bool $regenerate whether the verification code should be regenerated.\n     * @return string the verification code.\n     */\n    public function getVerifyCode($regenerate = false)\n    {\n        if ($this->fixedVerifyCode !== null) {\n            return $this->fixedVerifyCode;\n        }\n\n        $session = Yii::$app->getSession();\n        $session->open();\n        $name = $this->getSessionKey();\n        if ($session[$name] === null || $regenerate) {\n            $session[$name] = $this->generateVerifyCode();\n            $session[$name . 'count'] = 1;\n        }\n\n        return $session[$name];\n    }\n\n    /**\n     * Validates the input to see if it matches the generated code.\n     * @param string $input user input\n     * @param bool $caseSensitive whether the comparison should be case-sensitive\n     * @return bool whether the input is valid\n     */\n    public function validate($input, $caseSensitive)\n    {\n        $code = $this->getVerifyCode();\n        $valid = $caseSensitive ? ($input === $code) : strcasecmp($input, $code) === 0;\n        $session = Yii::$app->getSession();\n        $session->open();\n        $name = $this->getSessionKey() . 'count';\n        $session[$name] += 1;\n        if ($valid || $session[$name] > $this->testLimit && $this->testLimit > 0) {\n            $this->getVerifyCode(true);\n        }\n\n        return $valid;\n    }\n\n    /**\n     * Generates a new verification code.\n     * @return string the generated verification code\n     */\n    protected function generateVerifyCode()\n    {\n        if ($this->minLength > $this->maxLength) {\n            $this->maxLength = $this->minLength;\n        }\n        if ($this->minLength < 3) {\n            $this->minLength = 3;\n        }\n        if ($this->maxLength > 20) {\n            $this->maxLength = 20;\n        }\n\n        $length = random_int($this->minLength, $this->maxLength);\n\n        $letters = 'bcdfghjklmnpqrstvwxyz';\n        $vowels = 'aeiou';\n        $code = '';\n        for ($i = 0; $i < $length; ++$i) {\n            if ($i % 2 && random_int(0, 10) > 2 || !($i % 2) && random_int(0, 10) > 9) {\n                $code .= $vowels[random_int(0, 4)];\n            } else {\n                $code .= $letters[random_int(0, 20)];\n            }\n        }\n\n        return $code;\n    }\n\n    /**\n     * Returns the session variable name used to store verification code.\n     * @return string the session variable name\n     */\n    protected function getSessionKey()\n    {\n        return '__captcha/' . $this->getUniqueId();\n    }\n\n    /**\n     * Renders the CAPTCHA image.\n     * @param string $code the verification code\n     * @return string image contents\n     * @throws InvalidConfigException if imageLibrary is not supported\n     */\n    protected function renderImage($code)\n    {\n        if (isset($this->imageLibrary)) {\n            $imageLibrary = $this->imageLibrary;\n        } else {\n            $imageLibrary = Captcha::checkRequirements();\n        }\n        if ($imageLibrary === 'gd') {\n            return $this->renderImageByGD($code);\n        } elseif ($imageLibrary === 'imagick') {\n            return $this->renderImageByImagick($code);\n        }\n\n        throw new InvalidConfigException(\"Defined library '{$imageLibrary}' is not supported\");\n    }\n\n    /**\n     * Renders the CAPTCHA image based on the code using GD library.\n     * @param string $code the verification code\n     * @return string image contents in PNG format.\n     */\n    protected function renderImageByGD($code)\n    {\n        $image = imagecreatetruecolor($this->width, $this->height);\n\n        $backColor = imagecolorallocate(\n            $image,\n            (int) ($this->backColor % 0x1000000 / 0x10000),\n            (int) ($this->backColor % 0x10000 / 0x100),\n            $this->backColor % 0x100\n        );\n        imagefilledrectangle($image, 0, 0, $this->width - 1, $this->height - 1, $backColor);\n        imagecolordeallocate($image, $backColor);\n\n        if ($this->transparent) {\n            imagecolortransparent($image, $backColor);\n        }\n\n        $foreColor = imagecolorallocate(\n            $image,\n            (int) ($this->foreColor % 0x1000000 / 0x10000),\n            (int) ($this->foreColor % 0x10000 / 0x100),\n            $this->foreColor % 0x100\n        );\n\n        $length = strlen($code);\n        $box = imagettfbbox(30, 0, $this->fontFile, $code);\n        $w = $box[4] - $box[0] + $this->offset * ($length - 1);\n        $h = $box[1] - $box[5];\n        $scale = min(($this->width - $this->padding * 2) / $w, ($this->height - $this->padding * 2) / $h);\n        $x = 10;\n        $y = round($this->height * 27 / 40);\n        for ($i = 0; $i < $length; ++$i) {\n            $fontSize = (int) (random_int(26, 32) * $scale * 0.8);\n            $angle = random_int(-10, 10);\n            $letter = $code[$i];\n            $box = imagettftext($image, $fontSize, $angle, $x, $y, $foreColor, $this->fontFile, $letter);\n            $x = $box[2] + $this->offset;\n        }\n\n        imagecolordeallocate($image, $foreColor);\n\n        ob_start();\n        imagepng($image);\n        imagedestroy($image);\n\n        return ob_get_clean();\n    }\n\n    /**\n     * Renders the CAPTCHA image based on the code using ImageMagick library.\n     * @param string $code the verification code\n     * @return string image contents in PNG format.\n     */\n    protected function renderImageByImagick($code)\n    {\n        $backColor = $this->transparent ? new \\ImagickPixel('transparent') : new \\ImagickPixel('#' . str_pad(dechex($this->backColor), 6, 0, STR_PAD_LEFT));\n        $foreColor = new \\ImagickPixel('#' . str_pad(dechex($this->foreColor), 6, 0, STR_PAD_LEFT));\n\n        $image = new \\Imagick();\n        $image->newImage($this->width, $this->height, $backColor);\n\n        $draw = new \\ImagickDraw();\n        $draw->setFont($this->fontFile);\n        $draw->setFontSize(30);\n        $fontMetrics = $image->queryFontMetrics($draw, $code);\n\n        $length = strlen($code);\n        $w = (int) $fontMetrics['textWidth'] - 8 + $this->offset * ($length - 1);\n        $h = (int) $fontMetrics['textHeight'] - 8;\n        $scale = min(($this->width - $this->padding * 2) / $w, ($this->height - $this->padding * 2) / $h);\n        $x = 10;\n        $y = round($this->height * 27 / 40);\n        for ($i = 0; $i < $length; ++$i) {\n            $draw = new \\ImagickDraw();\n            $draw->setFont($this->fontFile);\n            $draw->setFontSize((int) (random_int(26, 32) * $scale * 0.8));\n            $draw->setFillColor($foreColor);\n            $image->annotateImage($draw, $x, $y, random_int(-10, 10), $code[$i]);\n            $fontMetrics = $image->queryFontMetrics($draw, $code[$i]);\n            $x += (int) $fontMetrics['textWidth'] + $this->offset;\n        }\n\n        $image->setImageFormat('png');\n        return $image->getImageBlob();\n    }\n\n    /**\n     * Sets the HTTP headers needed by image response.\n     */\n    protected function setHttpHeaders()\n    {\n        Yii::$app->getResponse()->getHeaders()\n            ->set('Pragma', 'public')\n            ->set('Expires', '0')\n            ->set('Cache-Control', 'must-revalidate, post-check=0, pre-check=0')\n            ->set('Content-Transfer-Encoding', 'binary')\n            ->set('Content-type', 'image/png');\n    }\n}\n", "{\n    \"name\": \"yiisoft/yii2\",\n    \"description\": \"Yii PHP Framework Version 2\",\n    \"keywords\": [\n        \"yii2\",\n        \"framework\"\n    ],\n    \"homepage\": \"https://www.yiiframework.com/\",\n    \"type\": \"library\",\n    \"license\": \"BSD-3-Clause\",\n    \"authors\": [\n        {\n            \"name\": \"Qiang Xue\",\n            \"email\": \"qiang.xue@gmail.com\",\n            \"homepage\": \"https://www.yiiframework.com/\",\n            \"role\": \"Founder and project lead\"\n        },\n        {\n            \"name\": \"Alexander Makarov\",\n            \"email\": \"sam@rmcreative.ru\",\n            \"homepage\": \"https://rmcreative.ru/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Maurizio Domba\",\n            \"homepage\": \"http://mdomba.info/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Carsten Brandt\",\n            \"email\": \"mail@cebe.cc\",\n            \"homepage\": \"https://cebe.cc/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Timur Ruziev\",\n            \"email\": \"resurtm@gmail.com\",\n            \"homepage\": \"http://resurtm.com/\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Paul Klimov\",\n            \"email\": \"klimov.paul@gmail.com\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Dmitry Naumenko\",\n            \"email\": \"d.naumenko.a@gmail.com\",\n            \"role\": \"Core framework development\"\n        },\n        {\n            \"name\": \"Boudewijn Vahrmeijer\",\n            \"email\": \"info@dynasource.eu\",\n            \"homepage\": \"http://dynasource.eu\",\n            \"role\": \"Core framework development\"\n        }\n    ],\n    \"support\": {\n        \"issues\": \"https://github.com/yiisoft/yii2/issues?state=open\",\n        \"forum\": \"http://www.yiiframework.com/forum/\",\n        \"wiki\": \"http://www.yiiframework.com/wiki/\",\n        \"irc\": \"irc://irc.libera.chat:6697/yii\",\n        \"source\": \"https://github.com/yiisoft/yii2\"\n    },\n    \"require\": {\n        \"php\": \">=5.4.0\",\n        \"ext-mbstring\": \"*\",\n        \"ext-ctype\": \"*\",\n        \"lib-pcre\": \"*\",\n        \"yiisoft/yii2-composer\": \"~2.0.4\",\n        \"ezyang/htmlpurifier\": \"~4.6\",\n        \"cebe/markdown\": \"~1.0.0 | ~1.1.0 | ~1.2.0\",\n        \"bower-asset/jquery\": \"3.6.*@stable | 3.5.*@stable | 3.4.*@stable | 3.3.*@stable | 3.2.*@stable | 3.1.*@stable | 2.2.*@stable | 2.1.*@stable | 1.11.*@stable | 1.12.*@stable\",\n        \"bower-asset/inputmask\": \"~3.2.2 | ~3.3.5\",\n        \"bower-asset/punycode\": \"1.3.*\",\n        \"bower-asset/yii2-pjax\": \"~2.0.1\",\n        \"paragonie/random_compat\": \">=1\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\"yii\\\\\": \"\"}\n    },\n    \"bin\": [\n        \"yii\"\n    ],\n    \"extra\": {\n        \"branch-alias\": {\n            \"dev-master\": \"2.0.x-dev\"\n        }\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yii\\mail;\n\nuse Yii;\nuse yii\\base\\Component;\nuse yii\\base\\InvalidConfigException;\nuse yii\\base\\ViewContextInterface;\nuse yii\\web\\View;\n\n/**\n * BaseMailer serves as a base class that implements the basic functions required by [[MailerInterface]].\n *\n * Concrete child classes should may focus on implementing the [[sendMessage()]] method.\n *\n * @see BaseMessage\n *\n * For more details and usage information on BaseMailer, see the [guide article on mailing](guide:tutorial-mailing).\n *\n * @property View $view View instance. Note that the type of this property differs in getter and setter. See\n * [[getView()]] and [[setView()]] for details.\n * @property string $viewPath The directory that contains the view files for composing mail messages Defaults\n * to '@app/mail'.\n *\n * @author Paul Klimov <klimov.paul@gmail.com>\n * @since 2.0\n */\nabstract class BaseMailer extends Component implements MailerInterface, ViewContextInterface\n{\n    /**\n     * @event MailEvent an event raised right before send.\n     * You may set [[MailEvent::isValid]] to be false to cancel the send.\n     */\n    const EVENT_BEFORE_SEND = 'beforeSend';\n    /**\n     * @event MailEvent an event raised right after send.\n     */\n    const EVENT_AFTER_SEND = 'afterSend';\n\n    /**\n     * @var string|bool HTML layout view name. This is the layout used to render HTML mail body.\n     * The property can take the following values:\n     *\n     * - a relative view name: a view file relative to [[viewPath]], e.g., 'layouts/html'.\n     * - a [path alias](guide:concept-aliases): an absolute view file path specified as a path alias, e.g., '@app/mail/html'.\n     * - a boolean false: the layout is disabled.\n     */\n    public $htmlLayout = 'layouts/html';\n    /**\n     * @var string|bool text layout view name. This is the layout used to render TEXT mail body.\n     * Please refer to [[htmlLayout]] for possible values that this property can take.\n     */\n    public $textLayout = 'layouts/text';\n    /**\n     * @var array the configuration that should be applied to any newly created\n     * email message instance by [[createMessage()]] or [[compose()]]. Any valid property defined\n     * by [[MessageInterface]] can be configured, such as `from`, `to`, `subject`, `textBody`, `htmlBody`, etc.\n     *\n     * For example:\n     *\n     * ```php\n     * [\n     *     'charset' => 'UTF-8',\n     *     'from' => 'noreply@mydomain.com',\n     *     'bcc' => 'developer@mydomain.com',\n     * ]\n     * ```\n     */\n    public $messageConfig = [];\n    /**\n     * @var string the default class name of the new message instances created by [[createMessage()]]\n     */\n    public $messageClass = 'yii\\mail\\BaseMessage';\n    /**\n     * @var bool whether to save email messages as files under [[fileTransportPath]] instead of sending them\n     * to the actual recipients. This is usually used during development for debugging purpose.\n     * @see fileTransportPath\n     */\n    public $useFileTransport = false;\n    /**\n     * @var string the directory where the email messages are saved when [[useFileTransport]] is true.\n     */\n    public $fileTransportPath = '@runtime/mail';\n    /**\n     * @var callable a PHP callback that will be called by [[send()]] when [[useFileTransport]] is true.\n     * The callback should return a file name which will be used to save the email message.\n     * If not set, the file name will be generated based on the current timestamp.\n     *\n     * The signature of the callback is:\n     *\n     * ```php\n     * function ($mailer, $message)\n     * ```\n     */\n    public $fileTransportCallback;\n\n    /**\n     * @var \\yii\\base\\View|array view instance or its array configuration.\n     */\n    private $_view = [];\n    /**\n     * @var string the directory containing view files for composing mail messages.\n     */\n    private $_viewPath;\n\n\n    /**\n     * @param array|View $view view instance or its array configuration that will be used to\n     * render message bodies.\n     * @throws InvalidConfigException on invalid argument.\n     */\n    public function setView($view)\n    {\n        if (!is_array($view) && !is_object($view)) {\n            throw new InvalidConfigException('\"' . get_class($this) . '::view\" should be either object or configuration array, \"' . gettype($view) . '\" given.');\n        }\n        $this->_view = $view;\n    }\n\n    /**\n     * @return View view instance.\n     */\n    public function getView()\n    {\n        if (!is_object($this->_view)) {\n            $this->_view = $this->createView($this->_view);\n        }\n\n        return $this->_view;\n    }\n\n    /**\n     * Creates view instance from given configuration.\n     * @param array $config view configuration.\n     * @return View view instance.\n     */\n    protected function createView(array $config)\n    {\n        if (!array_key_exists('class', $config)) {\n            $config['class'] = View::className();\n        }\n\n        return Yii::createObject($config);\n    }\n\n    private $_message;\n\n    /**\n     * Creates a new message instance and optionally composes its body content via view rendering.\n     *\n     * @param string|array|null $view the view to be used for rendering the message body. This can be:\n     *\n     * - a string, which represents the view name or [path alias](guide:concept-aliases) for rendering the HTML body of the email.\n     *   In this case, the text body will be generated by applying `strip_tags()` to the HTML body.\n     * - an array with 'html' and/or 'text' elements. The 'html' element refers to the view name or path alias\n     *   for rendering the HTML body, while 'text' element is for rendering the text body. For example,\n     *   `['html' => 'contact-html', 'text' => 'contact-text']`.\n     * - null, meaning the message instance will be returned without body content.\n     *\n     * The view to be rendered can be specified in one of the following formats:\n     *\n     * - path alias (e.g. \"@app/mail/contact\");\n     * - a relative view name (e.g. \"contact\") located under [[viewPath]].\n     *\n     * @param array $params the parameters (name-value pairs) that will be extracted and made available in the view file.\n     * @return MessageInterface message instance.\n     */\n    public function compose($view = null, array $params = [])\n    {\n        $message = $this->createMessage();\n        if ($view === null) {\n            return $message;\n        }\n\n        if (!array_key_exists('message', $params)) {\n            $params['message'] = $message;\n        }\n\n        $this->_message = $message;\n\n        if (is_array($view)) {\n            if (isset($view['html'])) {\n                $html = $this->render($view['html'], $params, $this->htmlLayout);\n            }\n            if (isset($view['text'])) {\n                $text = $this->render($view['text'], $params, $this->textLayout);\n            }\n        } else {\n            $html = $this->render($view, $params, $this->htmlLayout);\n        }\n\n\n        $this->_message = null;\n\n        if (isset($html)) {\n            $message->setHtmlBody($html);\n        }\n        if (isset($text)) {\n            $message->setTextBody($text);\n        } elseif (isset($html)) {\n            if (preg_match('~<body[^>]*>(.*?)</body>~is', $html, $match)) {\n                $html = $match[1];\n            }\n            // remove style and script\n            $html = preg_replace('~<((style|script))[^>]*>(.*?)</\\1>~is', '', $html);\n            // strip all HTML tags and decoded HTML entities\n            $text = html_entity_decode(strip_tags($html), ENT_QUOTES | ENT_HTML5, Yii::$app ? Yii::$app->charset : 'UTF-8');\n            // improve whitespace\n            $text = preg_replace(\"~^[ \\t]+~m\", '', trim($text));\n            $text = preg_replace('~\\R\\R+~mu', \"\\n\\n\", $text);\n            $message->setTextBody($text);\n        }\n\n        return $message;\n    }\n\n    /**\n     * Creates a new message instance.\n     * The newly created instance will be initialized with the configuration specified by [[messageConfig]].\n     * If the configuration does not specify a 'class', the [[messageClass]] will be used as the class\n     * of the new message instance.\n     * @return MessageInterface message instance.\n     */\n    protected function createMessage()\n    {\n        $config = $this->messageConfig;\n        if (!array_key_exists('class', $config)) {\n            $config['class'] = $this->messageClass;\n        }\n        $config['mailer'] = $this;\n        return Yii::createObject($config);\n    }\n\n    /**\n     * Sends the given email message.\n     * This method will log a message about the email being sent.\n     * If [[useFileTransport]] is true, it will save the email as a file under [[fileTransportPath]].\n     * Otherwise, it will call [[sendMessage()]] to send the email to its recipient(s).\n     * Child classes should implement [[sendMessage()]] with the actual email sending logic.\n     * @param MessageInterface $message email message instance to be sent\n     * @return bool whether the message has been sent successfully\n     */\n    public function send($message)\n    {\n        if (!$this->beforeSend($message)) {\n            return false;\n        }\n\n        $address = $message->getTo();\n        if (is_array($address)) {\n            $address = implode(', ', array_keys($address));\n        }\n        Yii::info('Sending email \"' . $message->getSubject() . '\" to \"' . $address . '\"', __METHOD__);\n\n        if ($this->useFileTransport) {\n            $isSuccessful = $this->saveMessage($message);\n        } else {\n            $isSuccessful = $this->sendMessage($message);\n        }\n        $this->afterSend($message, $isSuccessful);\n\n        return $isSuccessful;\n    }\n\n    /**\n     * Sends multiple messages at once.\n     *\n     * The default implementation simply calls [[send()]] multiple times.\n     * Child classes may override this method to implement more efficient way of\n     * sending multiple messages.\n     *\n     * @param array $messages list of email messages, which should be sent.\n     * @return int number of messages that are successfully sent.\n     */\n    public function sendMultiple(array $messages)\n    {\n        $successCount = 0;\n        foreach ($messages as $message) {\n            if ($this->send($message)) {\n                $successCount++;\n            }\n        }\n\n        return $successCount;\n    }\n\n    /**\n     * Renders the specified view with optional parameters and layout.\n     * The view will be rendered using the [[view]] component.\n     * @param string $view the view name or the [path alias](guide:concept-aliases) of the view file.\n     * @param array $params the parameters (name-value pairs) that will be extracted and made available in the view file.\n     * @param string|bool $layout layout view name or [path alias](guide:concept-aliases). If false, no layout will be applied.\n     * @return string the rendering result.\n     */\n    public function render($view, $params = [], $layout = false)\n    {\n        $output = $this->getView()->render($view, $params, $this);\n        if ($layout !== false) {\n            return $this->getView()->render($layout, ['content' => $output, 'message' => $this->_message], $this);\n        }\n\n        return $output;\n    }\n\n    /**\n     * Sends the specified message.\n     * This method should be implemented by child classes with the actual email sending logic.\n     * @param MessageInterface $message the message to be sent\n     * @return bool whether the message is sent successfully\n     */\n    abstract protected function sendMessage($message);\n\n    /**\n     * Saves the message as a file under [[fileTransportPath]].\n     * @param MessageInterface $message\n     * @return bool whether the message is saved successfully\n     */\n    protected function saveMessage($message)\n    {\n        $path = Yii::getAlias($this->fileTransportPath);\n        if (!is_dir($path)) {\n            mkdir($path, 0777, true);\n        }\n        if ($this->fileTransportCallback !== null) {\n            $file = $path . '/' . call_user_func($this->fileTransportCallback, $this, $message);\n        } else {\n            $file = $path . '/' . $this->generateMessageFileName();\n        }\n        file_put_contents($file, $message->toString());\n\n        return true;\n    }\n\n    /**\n     * @return string the file name for saving the message when [[useFileTransport]] is true.\n     */\n    public function generateMessageFileName()\n    {\n        $time = microtime(true);\n\n        return date('Ymd-His-', $time) . sprintf('%04d', (int) (($time - (int) $time) * 10000)) . '-' . sprintf('%04d', random_int(0, 10000)) . '.eml';\n    }\n\n    /**\n     * @return string the directory that contains the view files for composing mail messages\n     * Defaults to '@app/mail'.\n     */\n    public function getViewPath()\n    {\n        if ($this->_viewPath === null) {\n            $this->setViewPath('@app/mail');\n        }\n\n        return $this->_viewPath;\n    }\n\n    /**\n     * @param string $path the directory that contains the view files for composing mail messages\n     * This can be specified as an absolute path or a [path alias](guide:concept-aliases).\n     */\n    public function setViewPath($path)\n    {\n        $this->_viewPath = Yii::getAlias($path);\n    }\n\n    /**\n     * This method is invoked right before mail send.\n     * You may override this method to do last-minute preparation for the message.\n     * If you override this method, please make sure you call the parent implementation first.\n     * @param MessageInterface $message\n     * @return bool whether to continue sending an email.\n     */\n    public function beforeSend($message)\n    {\n        $event = new MailEvent(['message' => $message]);\n        $this->trigger(self::EVENT_BEFORE_SEND, $event);\n\n        return $event->isValid;\n    }\n\n    /**\n     * This method is invoked right after mail was send.\n     * You may override this method to do some postprocessing or logging based on mail send status.\n     * If you override this method, please make sure you call the parent implementation first.\n     * @param MessageInterface $message\n     * @param bool $isSuccessful\n     */\n    public function afterSend($message, $isSuccessful)\n    {\n        $event = new MailEvent(['message' => $message, 'isSuccessful' => $isSuccessful]);\n        $this->trigger(self::EVENT_AFTER_SEND, $event);\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yiiunit\\framework\\base;\n\nuse yii\\base\\Security;\nuse yiiunit\\TestCase;\n\n/**\n * @group base\n */\nclass SecurityTest extends TestCase\n{\n    const CRYPT_VECTORS = 'old';\n\n    /**\n     * @var ExposedSecurity\n     */\n    protected $security;\n\n    protected function setUp()\n    {\n        parent::setUp();\n        $this->security = new ExposedSecurity();\n        $this->security->derivationIterations = 1000; // speed up test running\n    }\n\n    // Tests :\n\n    public function testHashData()\n    {\n        $data = 'known data';\n        $key = 'secret';\n        $hashedData = $this->security->hashData($data, $key);\n        $this->assertNotSame($data, $hashedData);\n        $this->assertEquals($data, $this->security->validateData($hashedData, $key));\n        $hashedData[strlen($hashedData) - 1] = 'A';\n        $this->assertFalse($this->security->validateData($hashedData, $key));\n    }\n\n    public function testPasswordHash()\n    {\n        $this->security->passwordHashCost = 4;  // minimum blowfish's value is enough for tests\n\n        $password = 'secret';\n        $hash = $this->security->generatePasswordHash($password);\n        $this->assertTrue($this->security->validatePassword($password, $hash));\n        $this->assertFalse($this->security->validatePassword('test', $hash));\n    }\n\n    public function testEncryptByPassword()\n    {\n        $data = 'known data';\n        $key = 'secret';\n\n        $encryptedData = $this->security->encryptByPassword($data, $key);\n        $this->assertNotSame($data, $encryptedData);\n        $decryptedData = $this->security->decryptByPassword($encryptedData, $key);\n        $this->assertEquals($data, $decryptedData);\n\n        $tampered = $encryptedData;\n        $tampered[20] = ~$tampered[20];\n        $decryptedData = $this->security->decryptByPassword($tampered, $key);\n        $this->assertFalse($decryptedData);\n    }\n\n    public function testEncryptByKey()\n    {\n        $data = 'known data';\n        $key = $this->security->generateRandomKey(80);\n\n        $encryptedData = $this->security->encryptByKey($data, $key);\n        $this->assertNotSame($data, $encryptedData);\n        $decryptedData = $this->security->decryptByKey($encryptedData, $key);\n        $this->assertEquals($data, $decryptedData);\n\n        $encryptedData = $this->security->encryptByKey($data, $key, $key);\n        $decryptedData = $this->security->decryptByKey($encryptedData, $key, $key);\n        $this->assertEquals($data, $decryptedData);\n\n        $tampered = $encryptedData;\n        $tampered[20] = ~$tampered[20];\n        $decryptedData = $this->security->decryptByKey($tampered, $key);\n        $this->assertFalse($decryptedData);\n\n        $decryptedData = $this->security->decryptByKey($encryptedData, $key, $key . \"\\0\");\n        $this->assertFalse($decryptedData);\n    }\n\n    /**\n     * Generates test vectors like this: `[key/password, plaintext, ciphertext]`.\n     *\n     * The output can then be used for testing compatibility of data encrypted in one\n     * version of Yii and decrypted in another.\n     */\n    public function notestGenerateVectors()\n    {\n        $bin1024 =\n            'badec0c7d9ca734e161a1df6ca4daa8cdbf6b3bbb60ec404b47a23226ec266b1\n            3837ffc969e9c23e2bbba72facb491a6a3271193a35026a9ebc93698d689bf7b\n            84fc384f544cc5d71c2945c8c48ae6348c753322fcaf75171b7d8f1e178e8545\n            3d5c79f03bae6d9705cabbe7004ec81e188812a66313297fcf5d4c61a48614d2\n            1b5379fae60736f88bc737257bc1cfbef7016108dd1f3a537aaa681544f5bb20\n            c2d352212d6a2e460311ab7b93b611218b30c7402709bff89ecf814310c2db97\n            81f4142a54d6d41f82c33208c188a023c70befd697b496efb7c7b8569474a9d5\n            025a8ea8311c831b3de2b81800f28589b6aef537f6ada2e3d92a1ddd39cfd6b4\n            8113c8b36be890b099ca4e08655db0e9b5c211e706af052b776924233321412c\n            b1b540f08d88acd664c55854b05e31a15d4b0dc93b4514f62a88c3d4a451fe34\n            74d2fbaee742f232959b5f6c2b71a8b6ad95a0d5362f39309aca710f37a4dae2\n            228e27d35f4d3fc87ee6ece4538587fad7835f9803f5ca64dfd856ae767a3482\n            c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c04\n            0f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed9273644463b\n            1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334aa4\n            d998a599053cd477f54fc0af62a8ef75eb91096b153751b201b8374c4956508c\n            6c82ea2ceb0265e74c96032787fe01139b578c3a14fd4e32a85195375b25da60\n            4f21187ee01df6042971d7c2b9dd8b611527377f28f933559f6b2edfe7bd8896\n            00627830bcdffcb884989013585cc6da726c7cc57c69e8664a244d234465f2a5\n            e736512a65e563a2a726915b50247aff165190c75d151139f2b31211a3acf94e\n            236d27b441fe64e88a443778359d57ba0fed8edbb01cc60a116f9599da4e47bf\n            e96850ac12d1199a080f1b591c60eae613fba444f9fe31fd42ee333678532556\n            07fbfeef02cdbb2d0a8d2329adc7fba22aa4cd124c6e66e0b0aca796ba6aeb69\n            f8e76a9d1aaabe351bc42fefa6054977859b51158ba7143980d76db5b2cc6aec\n            9f83eac5edf79357632fb60cb4811e71892436e582375860faf8d8c518ee33ca\n            e08b18af7faa227d97196d7b041bcb366118751fbeaa92d80f86324ce8711cfd\n            65005cad0ce30878f508eb1ea2735e212ef3e42a78467d4f31b483087c3c63a3\n            2fa62f2ae92e2acdfc3cf21b3419acc347ff51ccb17161e829cc4a24965fd930\n            b983d63153b9c13dd85340d7184bf01734d4357c1aabfbdc9711193ffa974832\n            4f88cf801f35708db0901ffaa55415ca4334678633dda763b5fbfba7cfd51dc5\n            79149ec9284a4db2349dbc5264d5fca7a72034261716d90a996cb57ba09f7d07\n            29a2f10cc58eec98d86e9306a3fbf2e711046e86b5a86cc0eed7625be1a01ebf';\n        $bin1024 = hex2bin(preg_replace('{\\s+}', '', $bin1024));\n\n        $inputs = [\n            '0',\n            '0123456789',\n            '0123456789abcde',\n            '0123456789abcdef',\n            '0123456789abcdef0',\n            mb_substr($bin1024, 7, 5, '8bit'),\n            base64_encode(mb_substr($bin1024, 269, 11, '8bit')),\n            mb_substr($bin1024, 383, 97, '8bit'),\n            $bin1024,\n        ];\n\n        foreach (['Key', 'Password'] as $method) {\n            $keygen = 'generateRandom' . ($method === 'Key' ? 'Key' : 'String');\n            $encrypt = 'encryptBy' . $method;\n            $decrypt = 'decryptBy' . $method;\n\n            foreach ($inputs as $data) {\n                $key = $this->security->$keygen(16);\n                $encrypted = $this->security->$encrypt($data, $key);\n\n                $keyHex = $method === 'Key' ? bin2hex($key) : $key;\n                $dataHex = trim(chunk_split(bin2hex($data), 64, \"\\n\\t\"));\n                $encryptedHex = trim(chunk_split(bin2hex($encrypted), 64, \"\\n\\t\"));\n\n                echo <<<TEXT\n[\n    '$keyHex',\n    '$dataHex',\n    '$encryptedHex',\n],\n\nTEXT;\n\n                $key2 = $method === 'Key' ? hex2bin(preg_replace('{\\s+}', '', $keyHex)) : $key;\n                $data2 = hex2bin(preg_replace('{\\s+}', '', $dataHex));\n                $encrypted2 = hex2bin(preg_replace('{\\s+}', '', $encryptedHex));\n\n                $this->assertEquals($data, $this->security->$decrypt($encrypted2, $key2));\n                $this->assertEquals($data2, $this->security->$decrypt($encrypted2, $key));\n            }\n        }\n    }\n\n    public function dataProviderEncryptByKeyCompat()\n    {\n        // these ciphertexts generated using Yii 2.0.2 which is based on mcrypt.\n        $mcrypt = [\n            [\n                'b86b7529a525d148cc73798da528d8a0',\n                '30',\n                '4fb4765bea6beb208ba9395bf6d7497f37626463323730396362366338376536\n                3236656535613035373835323061343031613764393062353439623834353135\n                376435383635393065393636656663378807b00020ea10101bbfc2ef0dfee082\n                fcbc1927daee7e6d061bc7a7c8d8e877',\n            ],\n            [\n                '7e214bb6b27108918c007c0f9e1bdd8a',\n                '30313233343536373839',\n                '98981d39f0c985aca577e2eb9472059339623332343335646634613630616335\n                6133323639663336633533313032353164393562303434623533326331653561\n                6566346561643066643331393437623366e93fe0ef0a220ef1228be9f9195475\n                eb303b841b6371841126c13ed419d931',\n            ],\n            [\n                'c139f67915206b7296bc6ab383a2786c',\n                '303132333435363738396162636465',\n                '5773028f2be0df720cb3be2cb989e9e161616430393538363437623862326264\n                6436336133643738333866353339393932326432356433306630663062613331\n                386666313033626661333065313031623d5e980deacb6369592c90e7afca6e6b\n                06736654378cc93b2d238e6360969956',\n            ],\n            [\n                '910c052157953194d552e3a3f0061ab7',\n                '30313233343536373839616263646566',\n                '3141c48cc0b73ee43d5cd9ae5c8a153f66343039333638396632653239623434\n                3162616664636331316238336265626536336231653764663732396638336138\n                34636438616265376138613539656164b004dd4ebddba049ae068936643dd475\n                c07696b0cc173c2eb4c2d7bc3364845e6e3656b463b04e2271cb10824f1365ec',\n            ],\n            [\n                '28d0ad09ce367ca8e0772bbeeea6c40d',\n                '3031323334353637383961626364656630',\n                '1f19013959a0985cf0235c4ff46a20c135626235633437383532343736613963\n                3765646334666263323832643438663361323266303264383337613736363133\n                666432373632343236313331656362354de2203149f8b4f348c06ea4e2eb94e5\n                de4deaf1d198e14e7c448421002bdfa9ed979502d86750d70aebaa1c727ae79e',\n            ],\n            [\n                'b658ac4b9fa13c3c1d40699aba886b7b',\n                '4e161a1df6',\n                '154015ebb822a55869721a0b1c22497762653266663264333631373938653539\n                3465316466396535343966373738666663646232656163383733633739323334\n                316363623562353462363133623134643d118216985ac7e3f6888a95552b6a67\n                6ff70daf8dfb65b4d5f62a936b7f64d7',\n            ],\n            [\n                'baeb43072f20af0f85c6252aa9f0d472',\n                '5862447074634952357761764253733d',\n                'beb6dcd0fb444cbf759a241bd0ea26e537336135333532656136653262303736\n                3061656635326136376230333132663839626431366265363565643064616362\n                39633830313066356330653466613232dd9cfe4f4495f34a971a25d881dd48a3\n                12093a6307a87e4544e217cf9d39dd536a5882d2b9867abefef5c1dad127447e',\n            ],\n            [\n                'd527f854e8f37c49c71b82c48d8b4775',\n                '82c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c\n                040f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed927364446\n                3b1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334a\n                a4',\n                'baa84c2c05b2ac8efd9fc8f9824efb5d63306366393939626532323532646433\n                6539346265383936336262303339336635333164383339326436376631353366\n                6433616639653638393063376137626574bd7aa8c5f313e2d8b7a4ca4af35090\n                9695845c9d62cd91c486307d3ae0701e4abd1fa69a255aab1e6ac2874fa1bc0a\n                065340418a6669427bcdec751300ce7666a38d17d850f7dae4ea9567045356e8\n                f347941226bf7b2d4dd3a21c8aa0b381f8ad06c3a55a7d2cb967ad148142c287\n                f12a563f9cd2c6224e7efb8fdd130bb9',\n            ],\n            [\n                '01025bfec21dda4342809cf20382de29',\n                'badec0c7d9ca734e161a1df6ca4daa8cdbf6b3bbb60ec404b47a23226ec266b1\n                3837ffc969e9c23e2bbba72facb491a6a3271193a35026a9ebc93698d689bf7b\n                84fc384f544cc5d71c2945c8c48ae6348c753322fcaf75171b7d8f1e178e8545\n                3d5c79f03bae6d9705cabbe7004ec81e188812a66313297fcf5d4c61a48614d2\n                1b5379fae60736f88bc737257bc1cfbef7016108dd1f3a537aaa681544f5bb20\n                c2d352212d6a2e460311ab7b93b611218b30c7402709bff89ecf814310c2db97\n                81f4142a54d6d41f82c33208c188a023c70befd697b496efb7c7b8569474a9d5\n                025a8ea8311c831b3de2b81800f28589b6aef537f6ada2e3d92a1ddd39cfd6b4\n                8113c8b36be890b099ca4e08655db0e9b5c211e706af052b776924233321412c\n                b1b540f08d88acd664c55854b05e31a15d4b0dc93b4514f62a88c3d4a451fe34\n                74d2fbaee742f232959b5f6c2b71a8b6ad95a0d5362f39309aca710f37a4dae2\n                228e27d35f4d3fc87ee6ece4538587fad7835f9803f5ca64dfd856ae767a3482\n                c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c04\n                0f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed9273644463b\n                1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334aa4\n                d998a599053cd477f54fc0af62a8ef75eb91096b153751b201b8374c4956508c\n                6c82ea2ceb0265e74c96032787fe01139b578c3a14fd4e32a85195375b25da60\n                4f21187ee01df6042971d7c2b9dd8b611527377f28f933559f6b2edfe7bd8896\n                00627830bcdffcb884989013585cc6da726c7cc57c69e8664a244d234465f2a5\n                e736512a65e563a2a726915b50247aff165190c75d151139f2b31211a3acf94e\n                236d27b441fe64e88a443778359d57ba0fed8edbb01cc60a116f9599da4e47bf\n                e96850ac12d1199a080f1b591c60eae613fba444f9fe31fd42ee333678532556\n                07fbfeef02cdbb2d0a8d2329adc7fba22aa4cd124c6e66e0b0aca796ba6aeb69\n                f8e76a9d1aaabe351bc42fefa6054977859b51158ba7143980d76db5b2cc6aec\n                9f83eac5edf79357632fb60cb4811e71892436e582375860faf8d8c518ee33ca\n                e08b18af7faa227d97196d7b041bcb366118751fbeaa92d80f86324ce8711cfd\n                65005cad0ce30878f508eb1ea2735e212ef3e42a78467d4f31b483087c3c63a3\n                2fa62f2ae92e2acdfc3cf21b3419acc347ff51ccb17161e829cc4a24965fd930\n                b983d63153b9c13dd85340d7184bf01734d4357c1aabfbdc9711193ffa974832\n                4f88cf801f35708db0901ffaa55415ca4334678633dda763b5fbfba7cfd51dc5\n                79149ec9284a4db2349dbc5264d5fca7a72034261716d90a996cb57ba09f7d07\n                29a2f10cc58eec98d86e9306a3fbf2e711046e86b5a86cc0eed7625be1a01ebf',\n                '08ad33a166a9b39ba7522ccf5414123062643565356136373131666663323763\n                3636343466313761356339656234343064626331343366346432343062626634\n                3264393630336535353431613338653717747da97dd4d63e215dc8bb9ce231d5\n                b3cc9c287dfadb1b5acce0d4da2816de16114665271204188d91b642cdfdb494\n                66a89caa29a9139354f69c4c188d76d88d36d14004268f327c98f4736ba31728\n                a46d8f50d1665bcf157e3164d756286eceac4ce81ba3ffd1b79ff0862f5f529b\n                d44f0e2fbcb88c388095cb894fd4ce059ba8f5436f0a15b2fa9a40acd6645ad1\n                c6f16365250715cb0552dcfc220e844ba67e2a1206b1725a6bbb8f0e87b7067f\n                b51fc0226cd963bddf549227d5eaf5f996061d9c3b7e3306bd9be1114aed6199\n                6e44ee1144bebfca9a1064d40419837e54006f54161dd028b2702faa5cde214c\n                bc11ed1c77d4042b333e772473f4764fcdfcabdd0319f33d96ad0ab904cd2620\n                31683afc4c96dc27fde0570aaedc922a552d46687a606bb579b6ab8050f418f8\n                f6a3fc33ef5eeba8dbf54b5a90a1034ff8a68d9ea691d9a1d6b8f41376735bec\n                6c0f541f927cf107f2184f96235a6fca6d1db013966d8527389f8a79f4afd7bb\n                297c85d56f74faaa069679edc78b16b17ab8d72de3788f2ac2fe8a2e15ddfb3f\n                14ffd9ef18c95acf340f702a974b580cac93928417650b8f9e7409619774e483\n                af66b18ec7547f744099e2bb4125905e5dd553beca90d03fa7d7bba201ab97ac\n                92506c305ff79afe9c99a73cb20b9048464beeb100df0ecfb40161f95dd8708a\n                6fd09e1b166f1e27429b1ca50f990a45425dec25b2a29dcde4fd1c23b0d660ba\n                10241bc20cdc59c3609a7d6b094538d56b878c62dca3a54fbc53d815ae0549f6\n                978ea37a644add2bd2720b37a3502d683b0a8b9ce269bb3db8a44f3e8c3ba507\n                7759de171e1d040dfe5c9a610e21e3b41d95403654122ed7b75111622f14bb50\n                fd7a3e637bba73fc8c4e22702b52329c224860a9e04b38b8c23527c732a281dc\n                f92103d71decf673b3fa83feab2c1937811e0b41163019e1b45e664d4acc570c\n                2d4b24dc138285478c3898b0567c026a1651bbada0fb62ab5ce0d96e3601aec1\n                c6f04ecb1b53f1d852893edb971703dcd919c2dd883d0851e2fc491cf9abf1b7\n                c1652bac73a5a9e9bdbf164db948cc5b8299fd7f5535fa927130dc4e183ef35e\n                bb08723625e4cf62f253111e6f016e6cfba2e9cec30e273e4b2dcefa80d1c528\n                82c91609acf5989eec18afbefc25c898763c50d2a5cc54250d2672a39758f948\n                1866c26d260bf774db05280697d2b1a95b0481afa2b80bb205186ac290bc3770\n                b19a652dc2f5d6611363cd851d921edad36851d64f4cac6ff67299455e120cee\n                65a0d9471d1c952d7e81ba5e67e0a8a41a9a68f50d88a2b62151b564ffc2e435\n                8373e55df6cad337589a89054c050f93b4b252aa65466029313bf7311ae735a5\n                26cd2bac41af846c069ed614485cf62bd66c939dfeb27ecaaa197aa344a5488b\n                b3a2dca884c7fdc4ac08816b2b5ba3b7414f7ff7a06a3a6fe75e20c9eb97a881\n                ac130616f176d1f26ae24bf4392e0a0e',\n            ],\n        ];\n\n        // these ciphertexts generated using my branch 7215-replace-mcrypt which is based on openssl.\n        $openssl = [\n            [\n                '67ae7370e4a144523543f1e3edf35b26',\n                '30',\n                '706e1670ec6beb91c565299710e4f43231336530323838313435653933623539\n                3238313639623066323530646630653236313832333361346664623132393436\n                34326131663964636634366665306439e6142bf3d0e6a5952231d8bfabbacd83\n                ff04c61400529385d63a4b8f8696982d',\n            ],\n            [\n                '5d4bae62bea3c8f4c49dd1a38a4e1b2a',\n                '30313233343536373839',\n                '4c9a34e1977dd656fd3e18d4bc2b00c762353830326262373135396530643235\n                3332643937653632353331626532373336653761643866646233336365323233\n                30633138663034313665653038306161eb77ac98344a0bf946f98e892e6e15db\n                b9e221a7c25135a36562c3ecb2981fcd',\n            ],\n            [\n                '6832851af3c63a1e303bdf1bca38dd9c',\n                '303132333435363738396162636465',\n                'd09d2faa163e774abd020bf8cd623f8962646233313330626133613964353834\n                3436663631383139653438326563623537373830663962303531366130383130\n                3333303531613337386534626136636415db7a6885b67f69d9974f5879ae7497\n                08811fc036508f23f55f3f9d16b9ff9d',\n            ],\n            [\n                'e8a9799f4254b26484ea447918dcaad4',\n                '30313233343536373839616263646566',\n                '1a76a05af572abe9b4e7a67d7f64baff39666636363332323133373034386531\n                3761353236333263643965313139303666636535343862363737333032323331\n                313136366562336535663033316231303811542783f13798b17d40aa7ec9b489\n                34404ab50784ad1722f5f4d4462f702d3a625ef712635b274a970a47b516b137',\n            ],\n            [\n                '27cbf5a7c4327582393b2ec277cfe957',\n                '3031323334353637383961626364656630',\n                '60e2e14b404c5bd55b192ef2f1c7131c32356261636361313131336265323534\n                3439623033346337346133346239363337633736663831343632626638303038\n                64653361396366356165633061666538d2137b2defca383668827b6983f86254\n                bd849c3e8c9a44b6e1ed203491d73b4cb0cb83658240a89baa9261755d707879',\n            ],\n            [\n                '7b157beb08e8a8ac7d74f789ccbacae5',\n                '4e161a1df6',\n                'a17ca346c4a88404b8a345b1d075173a66356137326335343137393136353762\n                3930636535636466336534316438376437376639366535666636313235653262\n                38393464663134313430333633343232b319ce688676fde03d092d73df75705f\n                bde594d9b2bfe41580a458555982dc70',\n            ],\n            [\n                '88704df5b4881d2246388dc7c68066cc',\n                '5862447074634952357761764253733d',\n                '9069fbdd47ee81faf34eff40f8fee94333393037333936333439653537636132\n                6561613863336165333336323562353161636330366438633264376461626563\n                3836363462646536323261333034643070e4b0a3d196f36a4afb92a7ae4ef7b8\n                eb44e9db29638fa32140e379ae7aa6b7e68f454635ade137165383fd3a5c049b',\n            ],\n            [\n                '1d203fba1cd2a7b92abb8f40eb985538',\n                '82c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c\n                040f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed927364446\n                3b1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334a\n                a4',\n                'fade5d841aa10a29a2ef5236371ffc2964343165383664636264393666383364\n                6165646139316438666531633230306537343364336166666463656466306564\n                63326239653938303332656464346463136bd6dd0b7530490b91024ed944bc3e\n                3fc4050d20ce05a9ed992ede75f62bdd2523d0cbc93493baf07ef98c895a353b\n                5baaf26200572aa2e5bd22508db227556c5ee9eb7425418e9852c595e6ac0e61\n                37c186e04a3f19d855d8c4b8a8e6ad1be179ea5c816fe461a4cec212297873c8\n                5f96ee5c024cd88d1c32975fd95acd73',\n            ],\n            [\n                '1f93719d7a66a724c3841835fbcb33fd',\n                'badec0c7d9ca734e161a1df6ca4daa8cdbf6b3bbb60ec404b47a23226ec266b1\n                3837ffc969e9c23e2bbba72facb491a6a3271193a35026a9ebc93698d689bf7b\n                84fc384f544cc5d71c2945c8c48ae6348c753322fcaf75171b7d8f1e178e8545\n                3d5c79f03bae6d9705cabbe7004ec81e188812a66313297fcf5d4c61a48614d2\n                1b5379fae60736f88bc737257bc1cfbef7016108dd1f3a537aaa681544f5bb20\n                c2d352212d6a2e460311ab7b93b611218b30c7402709bff89ecf814310c2db97\n                81f4142a54d6d41f82c33208c188a023c70befd697b496efb7c7b8569474a9d5\n                025a8ea8311c831b3de2b81800f28589b6aef537f6ada2e3d92a1ddd39cfd6b4\n                8113c8b36be890b099ca4e08655db0e9b5c211e706af052b776924233321412c\n                b1b540f08d88acd664c55854b05e31a15d4b0dc93b4514f62a88c3d4a451fe34\n                74d2fbaee742f232959b5f6c2b71a8b6ad95a0d5362f39309aca710f37a4dae2\n                228e27d35f4d3fc87ee6ece4538587fad7835f9803f5ca64dfd856ae767a3482\n                c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c04\n                0f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed9273644463b\n                1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334aa4\n                d998a599053cd477f54fc0af62a8ef75eb91096b153751b201b8374c4956508c\n                6c82ea2ceb0265e74c96032787fe01139b578c3a14fd4e32a85195375b25da60\n                4f21187ee01df6042971d7c2b9dd8b611527377f28f933559f6b2edfe7bd8896\n                00627830bcdffcb884989013585cc6da726c7cc57c69e8664a244d234465f2a5\n                e736512a65e563a2a726915b50247aff165190c75d151139f2b31211a3acf94e\n                236d27b441fe64e88a443778359d57ba0fed8edbb01cc60a116f9599da4e47bf\n                e96850ac12d1199a080f1b591c60eae613fba444f9fe31fd42ee333678532556\n                07fbfeef02cdbb2d0a8d2329adc7fba22aa4cd124c6e66e0b0aca796ba6aeb69\n                f8e76a9d1aaabe351bc42fefa6054977859b51158ba7143980d76db5b2cc6aec\n                9f83eac5edf79357632fb60cb4811e71892436e582375860faf8d8c518ee33ca\n                e08b18af7faa227d97196d7b041bcb366118751fbeaa92d80f86324ce8711cfd\n                65005cad0ce30878f508eb1ea2735e212ef3e42a78467d4f31b483087c3c63a3\n                2fa62f2ae92e2acdfc3cf21b3419acc347ff51ccb17161e829cc4a24965fd930\n                b983d63153b9c13dd85340d7184bf01734d4357c1aabfbdc9711193ffa974832\n                4f88cf801f35708db0901ffaa55415ca4334678633dda763b5fbfba7cfd51dc5\n                79149ec9284a4db2349dbc5264d5fca7a72034261716d90a996cb57ba09f7d07\n                29a2f10cc58eec98d86e9306a3fbf2e711046e86b5a86cc0eed7625be1a01ebf',\n                '712929635f5be013159aec81296b96ec36333734373565366166383031313734\n                3331623863663837343237633863376539643865643339383531363139396566\n                34313731633765393462663264316130de90698e64fa4abc91639e72baee83bc\n                2caf85f91318e0cbd0db5fa08c4ffb582ec55ca43de53a43f2844af35d5f87b9\n                8faa623107aee2e083f1c7aeedcb0472c93bb9eacbd39d839d5bf94c44658d7f\n                d70817f5d6b120f91ef86880f93e99151bc1ed13ed263a3ccc7243e5ea97f39f\n                1ce2ce6b05a2b78f05c5d72041e35466068f52fb3d2ba3afa7594d7bc0981c54\n                8b31ae7e5b7e7e0e6f2fac9a336e6516d7e4b5cc658e1fe634daf9ad097715be\n                14d54ef19adc381db31db78714a09e997dc7732853d39885566e41a2c0ecb08d\n                ef8ab56359a0e312446d9f1555539ad29e13080d438d6817280d4dbfe6cd4ab9\n                4a357dbddcea1bc90e0d0fa6d556b1ba75c23a1d3818ea91e0fa5b8005b8020e\n                f7a80ed2ee60aa8ee588e101dbf3b64bf6a3dca5b1d5bcb96eed5c594bab1dcf\n                c1f61d74ad3ff0f5fdf176a327e8de33d123cdd61c6c4dc946429c566ac0f77f\n                48215d5889365fa664a879babd4758fb4d824cfb9e4bf6500ffec0e4ebefe4f6\n                2e521a7cd563fc954a9161047461e4054f324c5cf4f9e949566c9ac17c45aac1\n                abf98caed42242c51aa0d81d732c538e437c4024e8f04eeeab6619aed46599e7\n                f66c2041e0c346affab1f79cd7352a66686fac2b38615f8fc172ab0967fd4435\n                9dea9f41b57ba5a752e20456f2254e8eef576867ebda0f48fe47a2e91fc8d8af\n                dc1bf98a8d3530b4b02996fe4b05ec3dab200f9e79a4261c233caa9a33762f1f\n                4b3482ab6f16f5dbd7bd87ed17e21c30140ce61fc2468c054ce51dded2683d7c\n                375d69d662729d6fb8629b8dc25dcc5596f87f627a2138a3ef368a2a1591902f\n                84ffc457bd556a346815986f153fd3a99ef169444436ac81853b318c0908cb33\n                cf332edadfb870cab419365312c18aeda418b8b571783a6b2d8c397c33a22b31\n                55958cef153f4d9cfc3a1c6288ff17bfdd92132e1f1e5fe8041e30a383084811\n                fe892d7fc33abff10dd20db07277677b16e7f90137adfc3cb36dd85de3618769\n                bf8f3ce13642f9ea430f455d388281208190b335915e256320274a904ecd0938\n                d3c34d99c88e3186a132777fc7b74b43efab1a08376035061de56a4fb6de611c\n                41d2139c77a516c4f8144b123696356b4b9a752a9cd857630af4ef02339172e6\n                361a2fd6a18e3baaf8a3f7e9811ad5fb61abba7ae893b1e7748df2c5b7704eb9\n                65606b0253cba6a0561b0e70593c724f99e07d3e9a857aef894a64a35969b354\n                4726d35504d7b8c0c06cbf9106c5d504674daa879b39328d2c83e0f4e5622ea1\n                4fb742458214b410e2736d8cefabfb125c4769701711c15ab870b5ff192d4c71\n                e805ac5100352e33227b162ebae123e20c477719c52c59e192c2e3731806404d\n                d4359f840b11ad495357210e259e6b9e8fe5e8f600e8746fe1a483d45b694324\n                0809649ed7320b0022a5ef7b414635933d6d18ec7218f829121d12dcb573ed77\n                79ab0519d2df17dbd8988b32ac0711ef',\n            ],\n        ];\n\n        return static::CRYPT_VECTORS === 'new' ? $openssl : $mcrypt;\n    }\n\n    /**\n     * @dataProvider dataProviderEncryptByKeyCompat\n     *\n     * @param string $key encryption key hex string\n     * @param string $data plaintext hex string\n     * @param string $encrypted ciphertext hex string\n     */\n    public function testEncryptByKeyCompat($key, $data, $encrypted)\n    {\n        $key = hex2bin(preg_replace('{\\s+}', '', $key));\n        $data = hex2bin(preg_replace('{\\s+}', '', $data));\n        $encrypted = hex2bin(preg_replace('{\\s+}', '', $encrypted));\n\n        $this->assertEquals($data, $this->security->decryptByKey($encrypted, $key));\n    }\n\n    public function dataProviderEncryptByPasswordCompat()\n    {\n        // these ciphertexts generated using Yii 2.0.2 which is based on mcrypt.\n        $mcrypt = [\n            [\n                'LtogIEhy59ve0Huy',\n                '30',\n                '83325c8abe8dc0afd801acb7785dc29c32393439653930663266396466653862\n                3965303964653935326238343065363734346264633932376364376430653933\n                37303963376232336634306339396136e6f4e7dc3e2fd23be186f037e4caa6d0\n                4ae8cb894d80c08bb790417af9cc176f',\n            ],\n            [\n                '1_VTumNNc7VV463t',\n                '30313233343536373839',\n                'a247ac24f3aa60e894904f58954ce8bf39386530366165343538336132616231\n                6532353066663430646432383531333465373336646333386437323733633763\n                646665346232623635393962626162323a44a150a556addd97addfb43a32f600\n                aa2c479664682a308e6cdd523967cb4a',\n            ],\n            [\n                'DBpoIPndKRm2Rfem',\n                '303132333435363738396162636465',\n                '9ed20f30824312032e5e34e2c5ab61e333313930616634396137623261363863\n                3334323832333664626265663435643633323033383862613865633961356261\n                30353634393536636465643833633531b62ce156f34b92790b2d26312f3fd7d0\n                0a646da4d636f6998f1b0d859f255dc6',\n            ],\n            [\n                's1e1oRE1iM_oortb',\n                '30313233343536373839616263646566',\n                '5b03427dba481b5af8760edc3788fa0e66666663623539353163346466663761\n                6434663337383566366265663931303662366530653633663235303532373763\n                37346330393537646630616535373230c98134da00d77753741c1f0bb483f109\n                622a889f950310cd51d7d48d63202b20d378eac85f7d0c851fc9905d322aef96',\n            ],\n            [\n                'i1E7JvOQaESAKoeH',\n                '3031323334353637383961626364656630',\n                '7cf2ed4612d07de3ecfd54ac0e576e8539613861656439333965623533626238\n                3361653764663438643330383130313462613961636462383836383862313962\n                346439313666343336313766366538637bd566b1eecb0b1e0896eb1fd0fd11d9\n                dcb9eee5cc3d90c4046a6849e8ad152caf85e8f96de3b24b4d523a2d60533e0b',\n            ],\n            [\n                'QUN24gpNGodXurMM',\n                '4e161a1df6',\n                '49fc2d51b3e6325d86334ea8872699ef31613661333031373065373834643033\n                3863343734366435343035316562643438636133306233373431323066333330\n                32613330623364326162326434306637042f9b4a005ed3b9532181d020378800\n                deefcfa36d77ed4abdf35546c0bb4aec',\n            ],\n            [\n                '1COt9D8ZsfclCic2',\n                '5862447074634952357761764253733d',\n                'c4d5f90054faf3699d983795f44bdb1430643734643832343265323064323434\n                6535346565323733323764376266646539366431353266666639386231626438\n                653237646165393461626435656332332b4244fccb47ad8cdea56109c7d5a417\n                13b3844d9857507db59d0000037b169f7b67cf0ea793c0254bffc55342d8e4c7',\n            ],\n            [\n                'eUqmv4chMnO1H5cq',\n                '82c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c\n                040f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed927364446\n                3b1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334a\n                a4',\n                '31435e0bf8c0be9a395791288f6d058839336130623938343839626436636433\n                6664373131666361383739633163373130323936653730306331663836373263\n                656135303466323439326564626162378298df437dab821e8b2f7086962ffeb1\n                7a674022ee498470e5e8fdff8905aed39e424588ecee69965bb6856f0356860e\n                aa978ffa42ccfef6d4fb00026014e107736f3ee9b2206a2cd52b18e3068cf6aa\n                077c7304128a3cd92d4fc29dfa7c180eaf85feec791618db1ed01695536cf8ec\n                7923c0b3fb974fd0ff92faa62723e94f',\n            ],\n            [\n                '3Cl5v2Lmn61PiQ3H',\n                'badec0c7d9ca734e161a1df6ca4daa8cdbf6b3bbb60ec404b47a23226ec266b1\n                3837ffc969e9c23e2bbba72facb491a6a3271193a35026a9ebc93698d689bf7b\n                84fc384f544cc5d71c2945c8c48ae6348c753322fcaf75171b7d8f1e178e8545\n                3d5c79f03bae6d9705cabbe7004ec81e188812a66313297fcf5d4c61a48614d2\n                1b5379fae60736f88bc737257bc1cfbef7016108dd1f3a537aaa681544f5bb20\n                c2d352212d6a2e460311ab7b93b611218b30c7402709bff89ecf814310c2db97\n                81f4142a54d6d41f82c33208c188a023c70befd697b496efb7c7b8569474a9d5\n                025a8ea8311c831b3de2b81800f28589b6aef537f6ada2e3d92a1ddd39cfd6b4\n                8113c8b36be890b099ca4e08655db0e9b5c211e706af052b776924233321412c\n                b1b540f08d88acd664c55854b05e31a15d4b0dc93b4514f62a88c3d4a451fe34\n                74d2fbaee742f232959b5f6c2b71a8b6ad95a0d5362f39309aca710f37a4dae2\n                228e27d35f4d3fc87ee6ece4538587fad7835f9803f5ca64dfd856ae767a3482\n                c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c04\n                0f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed9273644463b\n                1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334aa4\n                d998a599053cd477f54fc0af62a8ef75eb91096b153751b201b8374c4956508c\n                6c82ea2ceb0265e74c96032787fe01139b578c3a14fd4e32a85195375b25da60\n                4f21187ee01df6042971d7c2b9dd8b611527377f28f933559f6b2edfe7bd8896\n                00627830bcdffcb884989013585cc6da726c7cc57c69e8664a244d234465f2a5\n                e736512a65e563a2a726915b50247aff165190c75d151139f2b31211a3acf94e\n                236d27b441fe64e88a443778359d57ba0fed8edbb01cc60a116f9599da4e47bf\n                e96850ac12d1199a080f1b591c60eae613fba444f9fe31fd42ee333678532556\n                07fbfeef02cdbb2d0a8d2329adc7fba22aa4cd124c6e66e0b0aca796ba6aeb69\n                f8e76a9d1aaabe351bc42fefa6054977859b51158ba7143980d76db5b2cc6aec\n                9f83eac5edf79357632fb60cb4811e71892436e582375860faf8d8c518ee33ca\n                e08b18af7faa227d97196d7b041bcb366118751fbeaa92d80f86324ce8711cfd\n                65005cad0ce30878f508eb1ea2735e212ef3e42a78467d4f31b483087c3c63a3\n                2fa62f2ae92e2acdfc3cf21b3419acc347ff51ccb17161e829cc4a24965fd930\n                b983d63153b9c13dd85340d7184bf01734d4357c1aabfbdc9711193ffa974832\n                4f88cf801f35708db0901ffaa55415ca4334678633dda763b5fbfba7cfd51dc5\n                79149ec9284a4db2349dbc5264d5fca7a72034261716d90a996cb57ba09f7d07\n                29a2f10cc58eec98d86e9306a3fbf2e711046e86b5a86cc0eed7625be1a01ebf',\n                '0c5164ead7f48c5d95f5907399c146a261353462323734323738656231323164\n                3962333166373062373734636630623932616638626236393339363861646366\n                35643933393537303331343436303330a927c7a879272f81e1032d57530b5e69\n                60f70e14b7607e8e17583aa8197f547e375e07b7a9d6c11be406f5e01aac59e2\n                7e54bb3c33662ea294cfbd0e7bb8e5eb886edee341509a752fc3b9706807a948\n                00edd0bff8e624275420bff50995de70d2692a052e1710a0b9135f9f44abcb02\n                24a189f1bb414e4d73fb539728d40b47ebc34fdb5ec2fa61848bb828de5179a1\n                e799eb09367bda9b59b3bdc51d3f92c1bd7dacf751b9324059869bf6adc3d88d\n                226a153a75cae1a2426ea187ef62c97bbd35e97450da87d4da9aed08ebf30a3c\n                a3369cc65a17acebb8a6ff8ff698743a3782990bc5e8cd03a6882c0f7c50868c\n                6b3ce967c9ea317555eb972e9bb7beb7b3215160a0bcca8c7f92a085beca256e\n                4484b1cdcaee495917d8aa4dbf7675806f7f57e77a770ea7db6e080150b43f56\n                15709b371a303e89b032eac7fec3ee954ea52940a2e59343fd0fd59ac2d4f095\n                74d2863eed13774c63a94e87f7ccdbf0741a56074a7210e2f022809ca48637d8\n                057d80fb190f339ddee2b6f7aaef3f2c1848026bd33e377ac554e2b29dede4fc\n                11e040b3837c24e6cd93430c2f9c19138cd1b505681958a09f223f65e6d7b123\n                43e426e204ee32411b1590133d58fbc4806ff784db93cd0205a7b4a1f4b96ee4\n                02b06ac00520118c89a7c4f1dfb4ac941a3d6f839e9312ee8cd9c3c02ef5cf2a\n                29d266fcfd29c24b994bcd3c67000999486bad6b060f87d5c843f3f132be5a7c\n                6ab2aab2091a83f0673efc4bf658e6c181c800a2eab5272c9cc8e9bdcf4ee061\n                de613989f107f1755385697ad64cd1c613f1f742a980c48e27638b8423b82eba\n                555c59020ee5794099377e816e8983a7579fc97178e5ac0f98bdda6dbf3f38f1\n                3f8b2d12cc792e729468a8408482985ac73e831a6ca5f67176f68bf216b77147\n                fe4743ae60f628defa590b0b0b7d8c39d24ef6980ffc0c47882fa0e3f04ed3e5\n                6d8654e11a0f25a2b3dd03e900e3d59922fa7ccd544f98a04828a34826fd9bfe\n                e8c841ca6146cc96443ab2cbed3f846f5241d27b15f81df80e2b35219044e933\n                4967334529fe949604a19f7cad76842a16928066a01fb9ec750e78ae68ddcb4f\n                833b5e89377ea31c7c87666c300f36f7583383f783f979cedbd05585c50caade\n                73f9f38dfcc5f915106573694ce497a0787ce3fecf9678a75b62f258aea300e8\n                2176e5c51009ea1fbdf266606cfb93cc62f9abd6c056625df053da8d9e175d63\n                ca716f148365a41796889e6d24e6c9a6ee6ac57bf7c35b45d4000ec638d191e5\n                54fe6b031f87b82f6076e9672f7162de1dafedb9fed9d38adeb999c7fc46f801\n                cd546342404315b06faff51d549b2eb94390d40a9ad826c1595add3f11afb909\n                16dc20173f13010008bc12a6355d582205897e7eb885f526a08bee072dabbb15\n                3b1777d8e7d96b31db8b64d64404ae82b3506f10ef198fad6321aa8cf04b5f54\n                d5236014d4b5ce20fbfba77f090d3573',\n            ],\n        ];\n\n        // these ciphertexts generated using my branch 7215-replace-mcrypt which is based on openssl.\n        $openssl = [\n            [\n                '3DZsVH4gt5xBueho',\n                '30',\n                'e19edc37d284b77a5a4600334b67317662393266323434393038666330653031\n                3730313664646137663830626366383363336239313664336637653133313933\n                306133613836363563643538396163642b6c12f20e7e1ae97422ee659914cc57\n                e99c7c97c7a4957e78ab957b18be4551',\n            ],\n            [\n                'CVALyUpDdMOSaxJN',\n                '30313233343536373839',\n                'a2535797ac0c83932fd9a2b8d6b2602662663439623337616631623434333233\n                3033343439313063656162373231666330333261383561356632393932386462\n                3631666364313236303962373636316296930828e0e154a0e8d262846835f242\n                e42de861cba81df69fe6fe5a5970fdf7',\n            ],\n            [\n                'wBZcBIhNSFiaCWE8',\n                '303132333435363738396162636465',\n                'd77b5d334d2820b5b5a54c5f71fce21130373832656561636661623564383766\n                6338343636626662346566623035333461653566353366656438303063376561\n                32643033343166376162376333373166c6cf828b68ff940e8de977e3471d1d51\n                2e51bab7ee0f976dd6d87727b508f7cf',\n            ],\n            [\n                'PYeAhK5nWPIxGD2F',\n                '30313233343536373839616263646566',\n                '0c2b35c26794c55b94228af98ba7378133326361353835323130363730333039\n                3531343463653763663366386462363733666537646466326339303439373730\n                64343038313234393232313362653639dbec4d9abb2dcffbf186366476df34d2\n                500744fd27eda1e0ea0e54280b091d32ebd1e786402507cb3c591503e27f195b',\n            ],\n            [\n                'B9u8Tl9tRBgmnSHk',\n                '3031323334353637383961626364656630',\n                '8401d45dbce698cf9342152c75cd8f5164356231643534643561646636316462\n                6331373265623831373165363336616165343432383161633962646333373932\n                3139323034393665303863356331363743e5873d38758489b9d5800aabf31f3e\n                cf36e1e47955f5c96acdf8dc6cc7280c825949d46546796ec5a114985f5fe598',\n            ],\n            [\n                'cLHX5BvVQcdlozS6',\n                '4e161a1df6',\n                'e04aed1dc385788c3c777bc7b3cfa20c32656633363730393363366138643831\n                3866303330613461666664623039326437623739613236333566353762333461\n                34653132366163653031303134353161eefebead8d190e854c05f598adfb8d7b\n                ef30c86c7cc7003f261b8ce26c62da55',\n            ],\n            [\n                'r8EZMeBVex-LC3c5',\n                '5862447074634952357761764253733d',\n                'ae03ee587e7df6407a17d43e3381b76563616366633165613463383063353930\n                6163613736656635663234613263323833393131363661333737333133356366\n                3963313236356663373035323264623224b4aa1536a8deba1dfa026efa614fb9\n                4915763a2629a00fe5ff8f1afc894f1b644f9b08ebc7baefc06229f177b5e446',\n            ],\n            [\n                'TRS5GvlQ2WCoEzHY',\n                '82c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c\n                040f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed927364446\n                3b1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334a\n                a4',\n                'f05611e02a2cccbfea4679e8110087a061396332303030396562663732626138\n                3530363534313362373731316330363964393564653831636566646261363265\n                38323536366666633438396566323939bce309f535fca3d1fb23e8503f8cf3b8\n                bca4c4bcfb4021592268f88070b5203f5023a6a39034e34048bc944c22e037fd\n                e6ca8ca17e2bdc8169d1e714830de6932cfe0dcdd1728e8bf848a6f4f7154d1c\n                0f8c650e0ef650ba3b90372eb6d13e93e3c79610291a523a3967a3049b04f1d4\n                c899e1554b04f906c2e6408a16702d19',\n            ],\n            [\n                'x_a2LHnyqH8WAwkZ',\n                'badec0c7d9ca734e161a1df6ca4daa8cdbf6b3bbb60ec404b47a23226ec266b1\n                3837ffc969e9c23e2bbba72facb491a6a3271193a35026a9ebc93698d689bf7b\n                84fc384f544cc5d71c2945c8c48ae6348c753322fcaf75171b7d8f1e178e8545\n                3d5c79f03bae6d9705cabbe7004ec81e188812a66313297fcf5d4c61a48614d2\n                1b5379fae60736f88bc737257bc1cfbef7016108dd1f3a537aaa681544f5bb20\n                c2d352212d6a2e460311ab7b93b611218b30c7402709bff89ecf814310c2db97\n                81f4142a54d6d41f82c33208c188a023c70befd697b496efb7c7b8569474a9d5\n                025a8ea8311c831b3de2b81800f28589b6aef537f6ada2e3d92a1ddd39cfd6b4\n                8113c8b36be890b099ca4e08655db0e9b5c211e706af052b776924233321412c\n                b1b540f08d88acd664c55854b05e31a15d4b0dc93b4514f62a88c3d4a451fe34\n                74d2fbaee742f232959b5f6c2b71a8b6ad95a0d5362f39309aca710f37a4dae2\n                228e27d35f4d3fc87ee6ece4538587fad7835f9803f5ca64dfd856ae767a3482\n                c2f315c69f20ec7ae391fc6c2de85281d54c97f74981b4efec0f5e4606765c04\n                0f1f45386bed4fdb9f998b0e7027c7414bea667b1205027c55eed9273644463b\n                1832bc5338e3a7e10bf24d8e69f167b94551b6240f65b416feebd28599334aa4\n                d998a599053cd477f54fc0af62a8ef75eb91096b153751b201b8374c4956508c\n                6c82ea2ceb0265e74c96032787fe01139b578c3a14fd4e32a85195375b25da60\n                4f21187ee01df6042971d7c2b9dd8b611527377f28f933559f6b2edfe7bd8896\n                00627830bcdffcb884989013585cc6da726c7cc57c69e8664a244d234465f2a5\n                e736512a65e563a2a726915b50247aff165190c75d151139f2b31211a3acf94e\n                236d27b441fe64e88a443778359d57ba0fed8edbb01cc60a116f9599da4e47bf\n                e96850ac12d1199a080f1b591c60eae613fba444f9fe31fd42ee333678532556\n                07fbfeef02cdbb2d0a8d2329adc7fba22aa4cd124c6e66e0b0aca796ba6aeb69\n                f8e76a9d1aaabe351bc42fefa6054977859b51158ba7143980d76db5b2cc6aec\n                9f83eac5edf79357632fb60cb4811e71892436e582375860faf8d8c518ee33ca\n                e08b18af7faa227d97196d7b041bcb366118751fbeaa92d80f86324ce8711cfd\n                65005cad0ce30878f508eb1ea2735e212ef3e42a78467d4f31b483087c3c63a3\n                2fa62f2ae92e2acdfc3cf21b3419acc347ff51ccb17161e829cc4a24965fd930\n                b983d63153b9c13dd85340d7184bf01734d4357c1aabfbdc9711193ffa974832\n                4f88cf801f35708db0901ffaa55415ca4334678633dda763b5fbfba7cfd51dc5\n                79149ec9284a4db2349dbc5264d5fca7a72034261716d90a996cb57ba09f7d07\n                29a2f10cc58eec98d86e9306a3fbf2e711046e86b5a86cc0eed7625be1a01ebf',\n                '5d841d0cb575fdb8c7e2cc48be47021d38646237366663323933346163643933\n                3861336335396666356139383066663033336333303731336263663262626136\n                643635333333393362306631333266320d73812258a45d90f8240d59c4e39e87\n                8d4d999f36403a6f0b1d69ab9416792c5e8f2cf427af8423c8213a885fde488c\n                db95217c64c542f5e2be6b4375ff82e5c72a9f165049546b38295006f50665b1\n                354350de4a68b5f16a18f7df53e0999f4f7ba5ba0676e416a0444d5b7accda8b\n                093ae31a23e3cb63b6f404c437071435b8143f282c4cb4403a2b538af5a0d94f\n                1e582c3bb9d5379ba5d576643854c232d74f303dcac91a711bf440fb24e7ab2a\n                70ef69008ffb59ad2455d4f1482e77114489a3b5a250384b24062f546f86073a\n                91fdd85d34bd7814b4ce70ec8d6ea34f98067d7101050f3800f9f1fd92003856\n                223f8ca142749c2ef4c8d1991a62b0ff86623bf9afce65d55fb5efe80089cee4\n                e4f12e94e1748c5740f075a94a2290ba2dc892fdfde516ebc190a4db63e77f93\n                54a3bec5ef695572dddcc9d7c43609724c73bc5bfe79d5f322890e4f39a31e6b\n                3fb9388c78e133c58e395ca03eca2e8ab9520e4d2e5421e0d9a1f781a564dda7\n                720d56f413312762da078e0226053672983ecf5bdf18086a6f617071814d61e4\n                27e6f02167b8d38e381607e4238f21c0b6e6d9222f1cc6348b9f7d6fb084cc3b\n                306b7acbb94f4b3ab6b66fe539865fb804899d3f64c8bca6bd02ee5509022a50\n                03d63e259bb414391fc10ae9b2e42c68a2be743488b69ca77c70741820aaeeb0\n                da2ff00c07787a39ec613e665d78c30b5f57a14fcbe24f00cf55eeb174e23dac\n                a9eb3587bc8dc8fdf5ef062b7f1659b45c48246055fda699b6ae8b9fcc46a380\n                ebc6b648662ef5fed1a4fe16c9aa310cc16f5ad642b80549262f5c77335f5435\n                a43d30459297b754350a9dd635b0ca5342fc798d369225f6d692eea0c901eb72\n                fd10af1199b7847ffc1a0c5915902fe339772183727c31497c752e3beb1cf010\n                2c97ab270def6628bdae630172d73a9fc0afed1d893870003828f64518512886\n                57d62ba52c8d325aa8409b0a40754dc3f84d1c8898e01e20c03464b83d2dae5d\n                3d9f279778fb1161ac5d8f9c466fd0c6bdd6a21553ea9252ff018ae99b0d4425\n                0e55d177fb1e0275da97474ea052d85d96b7432c1be840e5994b127b147d1a0c\n                64f1cea9115a37225c8b49960e0693680ee5593c81784c850811e1f10ce4f9a3\n                365e3d2d240e0eef8da6404d5a93ebd000a98d5d33dd5a238327e88dfdad2744\n                ed0c4321a543c1a3231e53550e816c531b73bafec21e32daeecd199c7a2be75f\n                450ce4d39e10ad81a7ca74877e1661376d7cce557a1d4dde53b503e1512efef6\n                d607d5074ca8ba29db067454e529aec867907c6eded03ce90835d72974cddcc5\n                83628bd2948a78a2d666ed89889f59b1dd5b05704b7e68a801ad9f93809e0d8a\n                ae72a72923883d4de81d867bf639eb5dc581429041ca78763235fe11251254c8\n                cca8bfe10e8810035e4cce023b6527744d0ea839bb035db99adc3ce742a5491d\n                c446220a6cb416a0bd3362b424dcdf3e',\n            ],\n        ];\n\n        return static::CRYPT_VECTORS === 'new' ? $openssl : $mcrypt;\n    }\n\n    /**\n     * @dataProvider dataProviderEncryptByPasswordCompat\n     *\n     * @param string $password encryption password\n     * @param string $data plaintext hex string\n     * @param string $encrypted ciphertext hex string\n     */\n    public function testEncryptByPasswordCompat($password, $data, $encrypted)\n    {\n        $data = hex2bin(preg_replace('{\\s+}', '', $data));\n        $encrypted = hex2bin(preg_replace('{\\s+}', '', $encrypted));\n\n        $this->assertEquals($data, $this->security->decryptByPassword($encrypted, $password));\n    }\n\n\n    public function randomKeyInvalidInputs()\n    {\n        return [\n            [0],\n            [-1],\n            ['0'],\n            ['34'],\n            [[]],\n        ];\n    }\n\n    /**\n     * @dataProvider randomKeyInvalidInputs\n     * @expectedException \\yii\\base\\InvalidParamException\n     * @param mixed $input\n     */\n    public function testRandomKeyInvalidInput($input)\n    {\n        $key1 = $this->security->generateRandomKey($input);\n    }\n\n    public function testGenerateRandomKey()\n    {\n        // test various string lengths\n        for ($length = 1; $length < 64; $length++) {\n            $key1 = $this->security->generateRandomKey($length);\n            $this->assertInternalType('string', $key1);\n            $this->assertEquals($length, strlen($key1));\n            $key2 = $this->security->generateRandomKey($length);\n            $this->assertInternalType('string', $key2);\n            $this->assertEquals($length, strlen($key2));\n            if ($length >= 7) { // avoid random test failure, short strings are likely to collide\n                $this->assertNotEquals($key1, $key2);\n            }\n        }\n\n        // test for /dev/urandom, reading larger data to see if loop works properly\n        $length = 1024 * 1024;\n        $key1 = $this->security->generateRandomKey($length);\n        $this->assertInternalType('string', $key1);\n        $this->assertEquals($length, strlen($key1));\n        $key2 = $this->security->generateRandomKey($length);\n        $this->assertInternalType('string', $key2);\n        $this->assertEquals($length, strlen($key2));\n        $this->assertNotEquals($key1, $key2);\n    }\n\n    protected function randTime(Security $security, $count, $length, $message)\n    {\n        $t = microtime(true);\n        for ($i = 0; $i < $count; $i += 1) {\n            $key = $security->generateRandomKey($length);\n        }\n        $t = microtime(true) - $t;\n        $nbytes = number_format($count * $length, 0);\n        $milisec = number_format(1000 * ($t), 3);\n        $rate = number_format($count * $length / $t / 1000000, 3);\n        fwrite(STDERR, \"$message: $count x $length B = $nbytes B in $milisec ms => $rate MB/s\\n\");\n    }\n\n    public function testGenerateRandomString()\n    {\n        $length = 21;\n        $key = $this->security->generateRandomString($length);\n        $this->assertEquals($length, strlen($key));\n        $this->assertEquals(1, preg_match('/[A-Za-z0-9_-]+/', $key));\n    }\n\n    public function dataProviderPbkdf2()\n    {\n        return array_filter([\n            [\n                'sha1',\n                'password',\n                'salt',\n                1,\n                20,\n                '0c60c80f961f0e71f3a9b524af6012062fe037a6',\n            ],\n            [\n                'sha1',\n                'password',\n                'salt',\n                2,\n                20,\n                'ea6c014dc72d6f8ccd1ed92ace1d41f0d8de8957',\n            ],\n            [\n                'sha1',\n                'password',\n                'salt',\n                4096,\n                20,\n                '4b007901b765489abead49d926f721d065a429c1',\n            ],\n            getenv('GITHUB_ACTIONS') == true ? [\n                'sha1',\n                'password',\n                'salt',\n                16777216,\n                20,\n                'eefe3d61cd4da4e4e9945b3d6ba2158c2634e984',\n            ] : null,\n            [\n                'sha1',\n                'passwordPASSWORDpassword',\n                'saltSALTsaltSALTsaltSALTsaltSALTsalt',\n                4096,\n                25,\n                '3d2eec4fe41c849b80c8d83662c0e44a8b291a964cf2f07038',\n            ],\n            [\n                'sha1',\n                \"pass\\0word\",\n                \"sa\\0lt\",\n                4096,\n                16,\n                '56fa6aa75548099dcc37d7f03425e0c3',\n            ],\n            [\n                'sha256',\n                'password',\n                'salt',\n                1,\n                20,\n                '120fb6cffcf8b32c43e7225256c4f837a86548c9',\n            ],\n            [\n                'sha256',\n                \"pass\\0word\",\n                \"sa\\0lt\",\n                4096,\n                32,\n                '89b69d0516f829893c696226650a86878c029ac13ee276509d5ae58b6466a724',\n            ],\n            [\n                'sha256',\n                'passwordPASSWORDpassword',\n                'saltSALTsaltSALTsaltSALTsaltSALTsalt',\n                4096,\n                40,\n                '348c89dbcbd32b2f32d814b8116e84cf2b17347ebc1800181c4e2a1fb8dd53e1c635518c7dac47e9',\n            ],\n        ]);\n    }\n\n    /**\n     * @dataProvider dataProviderPbkdf2\n     *\n     * @param string $hash\n     * @param string $password\n     * @param string $salt\n     * @param int $iterations\n     * @param int $length\n     * @param string $okm\n     */\n    public function testPbkdf2($hash, $password, $salt, $iterations, $length, $okm)\n    {\n        $this->security->derivationIterations = $iterations;\n        $DK = $this->security->pbkdf2($hash, $password, $salt, $iterations, $length);\n        $this->assertEquals($okm, bin2hex($DK));\n    }\n\n    public function dataProviderDeriveKey()\n    {\n        // See Appendix A in https://tools.ietf.org/html/rfc5869\n        return [\n            [\n                'Hash' => 'sha256',\n                'IKM' => '0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b',\n                'salt' => '000102030405060708090a0b0c',\n                'info' => 'f0f1f2f3f4f5f6f7f8f9',\n                'L' => 42,\n                'PRK' => '077709362c2e32df0ddc3f0dc47bba6390b6c73bb50f9c3122ec844ad7c2b3e5',\n                'OKM' => '3cb25f25faacd57a90434f64d0362f2a2d2d0a90cf1a5a4c5db02d56ecc4c5bf34007208d5b887185865',\n            ],\n            [\n                'Hash' => 'sha256',\n                'IKM' => '000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f',\n                'salt' => '606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f808182838485868788898a8b8c8d8e8f909192939495969798999a9b9c9d9e9fa0a1a2a3a4a5a6a7a8a9aaabacadaeaf',\n                'info' => 'b0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff',\n                'L' => 82,\n                'PRK' => '06a6b88c5853361a06104c9ceb35b45cef760014904671014a193f40c15fc244',\n                'OKM' => 'b11e398dc80327a1c8e7f78c596a49344f012eda2d4efad8a050cc4c19afa97c59045a99cac7827271cb41c65e590e09da3275600c2f09b8367793a9aca3db71cc30c58179ec3e87c14c01d5c1f3434f1d87',\n            ],\n            [\n                'Hash' => 'sha256',\n                'IKM' => '0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b',\n                'salt' => '',\n                'info' => '',\n                'L' => 42,\n                'PRK' => '19ef24a32c717b167f33a91d6f648bdf96596776afdb6377ac434c1c293ccb04',\n                'OKM' => '8da4e775a563c18f715f802a063c5a31b8a11f5c5ee1879ec3454e5f3c738d2d9d201395faa4b61a96c8',\n            ],\n            [\n                'Hash' => 'sha1',\n                'IKM' => '0b0b0b0b0b0b0b0b0b0b0b',\n                'salt' => '000102030405060708090a0b0c',\n                'info' => 'f0f1f2f3f4f5f6f7f8f9',\n                'L' => 42,\n                'PRK' => '9b6c18c432a7bf8f0e71c8eb88f4b30baa2ba243',\n                'OKM' => '085a01ea1b10f36933068b56efa5ad81a4f14b822f5b091568a9cdd4f155fda2c22e422478d305f3f896',\n            ],\n            [\n                'Hash' => 'sha1',\n                'IKM' => '000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f',\n                'salt' => '606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f808182838485868788898a8b8c8d8e8f909192939495969798999a9b9c9d9e9fa0a1a2a3a4a5a6a7a8a9aaabacadaeaf',\n                'info' => 'b0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff',\n                'L' => 82,\n                'PRK' => '8adae09a2a307059478d309b26c4115a224cfaf6',\n                'OKM' => '0bd770a74d1160f7c9f12cd5912a06ebff6adcae899d92191fe4305673ba2ffe8fa3f1a4e5ad79f3f334b3b202b2173c486ea37ce3d397ed034c7f9dfeb15c5e927336d0441f4c4300e2cff0d0900b52d3b4',\n            ],\n            [\n                'Hash' => 'sha1',\n                'IKM' => '0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b',\n                'salt' => '',\n                'info' => '',\n                'L' => 42,\n                'PRK' => 'da8c8a73c7fa77288ec6f5e7c297786aa0d32d01',\n                'OKM' => '0ac1af7002b3d761d1e55298da9d0506b9ae52057220a306e07b6b87e8df21d0ea00033de03984d34918',\n            ],\n            [\n                'Hash' => 'sha1',\n                'IKM' => '0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c',\n                'salt' => null,\n                'info' => '',\n                'L' => 42,\n                'PRK' => '2adccada18779e7c2077ad2eb19d3f3e731385dd',\n                'OKM' => '2c91117204d745f3500d636a62f64f0ab3bae548aa53d423b0d1f27ebba6f5e5673a081d70cce7acfc48',\n            ],\n        ];\n    }\n\n    /**\n     * @dataProvider dataProviderDeriveKey\n     *\n     * @param string $hash\n     * @param string $ikm\n     * @param string $salt\n     * @param string $info\n     * @param int $l\n     * @param string $prk\n     * @param string $okm\n     */\n    public function testHkdf($hash, $ikm, $salt, $info, $l, $prk, $okm)\n    {\n        $dk = $this->security->hkdf($hash, hex2bin($ikm), hex2bin($salt), hex2bin($info), $l);\n        $this->assertEquals($okm, bin2hex($dk));\n    }\n\n    public function dataProviderCompareStrings()\n    {\n        return [\n            ['', ''],\n            ['0', ''],\n            ['0.00', ''],\n            ['', \"\\0\"],\n            [\"\\0\", ''],\n            [\"\\0\", \"\\0\"],\n            ['0', \"\\0\"],\n            ['user', 'User'],\n            ['password', 'password'],\n            ['password', 'passwordpassword'],\n            ['password1', 'password'],\n            ['password', 'password2'],\n            ['', 'password'],\n            ['password', ''],\n        ];\n    }\n\n    /**\n     * @dataProvider dataProviderCompareStrings\n     *\n     * @param $expected\n     * @param $actual\n     */\n    public function testCompareStrings($expected, $actual)\n    {\n        $this->assertEquals(strcmp($expected, $actual) === 0, $this->security->compareString($expected, $actual));\n    }\n\n    /**\n     * @dataProvider maskProvider\n     * @param mixed $unmaskedToken\n     */\n    public function testMasking($unmaskedToken)\n    {\n        $maskedToken = $this->security->maskToken($unmaskedToken);\n        $this->assertGreaterThan(mb_strlen($unmaskedToken, '8bit') * 2, mb_strlen($maskedToken, '8bit'));\n        $this->assertEquals($unmaskedToken, $this->security->unmaskToken($maskedToken));\n    }\n\n    public function testUnMaskingInvalidStrings()\n    {\n        $this->assertEquals('', $this->security->unmaskToken(''));\n        $this->assertEquals('', $this->security->unmaskToken('1'));\n    }\n\n    /**\n     * @expectedException \\yii\\base\\InvalidParamException\n     */\n    public function testMaskingInvalidStrings()\n    {\n        $this->security->maskToken('');\n    }\n\n    /**\n     * @return array\n     */\n    public function maskProvider()\n    {\n        return [\n            ['1'],\n            ['SimpleToken'],\n            ['Token with special characters: %d1    5\"'],\n            ['Token with UTF8 character: \u2020'],\n        ];\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yiiunit\\framework\\validators;\n\nuse Yii;\nuse yii\\helpers\\FileHelper;\nuse yii\\validators\\FileValidator;\nuse yii\\web\\UploadedFile;\nuse yiiunit\\data\\validators\\models\\FakedValidationModel;\nuse yiiunit\\TestCase;\n\n/**\n * @group validators\n */\nclass FileValidatorTest extends TestCase\n{\n    protected function setUp()\n    {\n        parent::setUp();\n        $this->mockApplication();\n    }\n\n    public function testAssureMessagesSetOnInit()\n    {\n        $val = new FileValidator();\n        foreach (['message', 'uploadRequired', 'tooMany', 'wrongExtension', 'tooBig', 'tooSmall', 'wrongMimeType'] as $attr) {\n            $this->assertInternalType('string', $val->$attr);\n        }\n    }\n\n    public function testTypeSplitOnInit()\n    {\n        $val = new FileValidator(['extensions' => 'jpeg, jpg, gif']);\n        $this->assertEquals(['jpeg', 'jpg', 'gif'], $val->extensions);\n\n        $val = new FileValidator(['extensions' => 'jpeg']);\n        $this->assertEquals(['jpeg'], $val->extensions);\n\n        $val = new FileValidator(['extensions' => '']);\n        $this->assertEquals([], $val->extensions);\n\n        $val = new FileValidator(['extensions' => []]);\n        $this->assertEquals([], $val->extensions);\n\n        $val = new FileValidator();\n        $this->assertEquals([], $val->extensions);\n\n        $val = new FileValidator(['extensions' => ['jpeg', 'exe']]);\n        $this->assertEquals(['jpeg', 'exe'], $val->extensions);\n    }\n\n    public function testMimeTypeSplitOnInit()\n    {\n        $val = new FileValidator(['mimeTypes' => 'text/plain, image/png']);\n        $this->assertEquals(['text/plain', 'image/png'], $val->mimeTypes);\n\n        $val = new FileValidator(['mimeTypes' => 'text/plain']);\n        $this->assertEquals(['text/plain'], $val->mimeTypes);\n\n        $val = new FileValidator(['mimeTypes' => '']);\n        $this->assertEquals([], $val->mimeTypes);\n\n        $val = new FileValidator(['mimeTypes' => []]);\n        $this->assertEquals([], $val->mimeTypes);\n\n        $val = new FileValidator();\n        $this->assertEquals([], $val->mimeTypes);\n\n        $val = new FileValidator(['mimeTypes' => ['text/plain', 'image/png']]);\n        $this->assertEquals(['text/plain', 'image/png'], $val->mimeTypes);\n    }\n\n    public function testGetSizeLimit()\n    {\n        $size = min($this->sizeToBytes(ini_get('upload_max_filesize')), $this->sizeToBytes(ini_get('post_max_size')));\n        $val = new FileValidator();\n        $this->assertEquals($size, $val->getSizeLimit());\n        $val->maxSize = $size + 1; // set and test if value is overridden\n        $this->assertEquals($size, $val->getSizeLimit());\n        $val->maxSize = abs($size - 1);\n        $this->assertEquals($size - 1, $val->getSizeLimit());\n        $_POST['MAX_FILE_SIZE'] = $size + 1;\n        $this->assertEquals($size - 1, $val->getSizeLimit());\n        $_POST['MAX_FILE_SIZE'] = abs($size - 2);\n        $this->assertSame($_POST['MAX_FILE_SIZE'], $val->getSizeLimit());\n    }\n\n    protected function sizeToBytes($sizeStr)\n    {\n        switch (substr($sizeStr, -1)) {\n            case 'M':\n            case 'm':\n                return (int) $sizeStr * 1048576;\n            case 'K':\n            case 'k':\n                return (int) $sizeStr * 1024;\n            case 'G':\n            case 'g':\n                return (int) $sizeStr * 1073741824;\n            default:\n                return (int) $sizeStr;\n        }\n    }\n\n    public function testValidateAttributeMultiple()\n    {\n        $val = new FileValidator([\n            'maxFiles' => 2,\n        ]);\n        $m = FakedValidationModel::createWithAttributes(['attr_files' => 'path']);\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertTrue($m->hasErrors('attr_files'));\n        $m = FakedValidationModel::createWithAttributes(['attr_files' => []]);\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertTrue($m->hasErrors('attr_files'));\n        $this->assertSame($val->uploadRequired, current($m->getErrors('attr_files')));\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_files' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'test_up_1.txt',\n                            'size' => 1024,\n                        ],\n                        [\n                            'error' => UPLOAD_ERR_NO_FILE,\n                        ],\n                    ]\n                ),\n            ]\n        );\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertFalse($m->hasErrors('attr_files'));\n        $m = FakedValidationModel::createWithAttributes([\n            'attr_files' => $this->createTestFiles([\n                [''], [''], [''],\n            ]),\n        ]);\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertTrue($m->hasErrors());\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_files')), 'you can upload at most'));\n\n        $files = [\n            'file_1' => [\n                'name' => 'test_up_1.txt',\n                'size' => 1024,\n            ],\n            'file_2' => [\n                'name' => 'test_up_2.txt',\n                'size' => 1024,\n            ]\n        ];\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_files' => $this->createTestFiles(\n                    $files\n                ),\n            ]\n        );\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertFalse($m->hasErrors());\n        $this->assertEquals(array_keys($m->attr_files), array_keys($files));\n\n        $val->maxFiles = 0;\n        $m->clearErrors();\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertFalse($m->hasErrors());\n\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_images' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                        [\n                            'name' => 'text.txt',\n                            'size' => 1024,\n                        ],\n                    ]\n                ),\n            ]\n        );\n        $m->setScenario('validateMultipleFiles');\n        $this->assertFalse($m->validate());\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_images')),\n            'Only files with these extensions are allowed'));\n\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_images' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                    ]\n                ),\n            ]\n        );\n        $m->setScenario('validateMultipleFiles');\n        $this->assertTrue($m->validate());\n\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_image' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'text.txt',\n                            'size' => 1024,\n                        ],\n                    ]\n                ),\n            ]\n        );\n        $m->setScenario('validateFile');\n        $this->assertFalse($m->validate());\n    }\n\n    public function testValidateAttribute_minFilesGreaterThanOneMaxFilesUnlimited_notError()\n    {\n        $validator = new FileValidator(['minFiles' => 2, 'maxFiles' => 0]);\n        $model = FakedValidationModel::createWithAttributes(\n            [\n                'attr_images' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                    ]\n                )\n            ]\n        );\n\n        $validator->validateAttribute($model, 'attr_images');\n\n        $this->assertFalse($model->hasErrors('attr_images'));\n    }\n\n    public function testValidateAttribute_minFilesTwoMaxFilesFour_notError()\n    {\n        $validator = new FileValidator(['minFiles' => 2, 'maxFiles' => 4]);\n        $model = FakedValidationModel::createWithAttributes(\n            [\n                'attr_images' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                    ]\n                )\n            ]\n        );\n\n        $validator->validateAttribute($model, 'attr_images');\n\n        $this->assertFalse($model->hasErrors('attr_images'));\n    }\n\n    public function testValidateAttribute_minFilesTwoMaxFilesUnlimited_hasError()\n    {\n        $validator = new FileValidator(['minFiles' => 2, 'maxFiles' => 0]);\n        $model = FakedValidationModel::createWithAttributes(\n            [\n                'attr_images' => $this->createTestFiles(\n                    [\n                        [\n                            'name' => 'image.png',\n                            'size' => 1024,\n                            'type' => 'image/png',\n                        ],\n                        [\n                            'error' => UPLOAD_ERR_NO_FILE,\n                        ],\n                    ]\n                )\n            ]\n        );\n\n        $validator->validateAttribute($model, 'attr_images');\n\n        $this->assertTrue($model->hasErrors('attr_images'));\n    }\n\n    /**\n     * @param  array          $params\n     * @return UploadedFile[]\n     */\n    protected function createTestFiles($params = [])\n    {\n        $rndString = function ($len = 10) {\n            $characters = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n            $randomString = '';\n            for ($i = 0; $i < $len; $i++) {\n                $randomString .= $characters[random_int(0, strlen($characters) - 1)];\n            }\n\n            return $randomString;\n        };\n        $files = [];\n        foreach ($params as $key => $param) {\n            if (empty($param) && count($params) != 1) {\n                $files[$key] = ['no instance of UploadedFile'];\n                continue;\n            }\n            $name = isset($param['name']) ? $param['name'] : $rndString();\n            $tempName = \\Yii::getAlias('@yiiunit/runtime/validators/file/tmp/') . $name;\n            if (is_readable($tempName)) {\n                $size = filesize($tempName);\n            } else {\n                $size = isset($param['size']) ? $param['size'] : random_int(\n                    1,\n                    $this->sizeToBytes(ini_get('upload_max_filesize'))\n                );\n            }\n            $type = isset($param['type']) ? $param['type'] : 'text/plain';\n            $error = isset($param['error']) ? $param['error'] : UPLOAD_ERR_OK;\n            if (count($params) == 1) {\n                $error = empty($param) ? UPLOAD_ERR_NO_FILE : $error;\n\n                return new UploadedFile([\n                    'name' => $name,\n                    'tempName' => $tempName,\n                    'type' => $type,\n                    'size' => $size,\n                    'error' => $error,\n                ]);\n            }\n            $files[$key] = new UploadedFile([\n                'name' => $name,\n                'tempName' => $tempName,\n                'type' => $type,\n                'size' => $size,\n                'error' => $error,\n            ]);\n        }\n\n        return $files;\n    }\n\n    /**\n     * @param $fileName\n     * @return UploadedFile\n     */\n    protected function getRealTestFile($fileName)\n    {\n        $filePath = \\Yii::getAlias('@yiiunit/framework/validators/data/mimeType/') . $fileName;\n\n        return new UploadedFile([\n            'name' => $fileName,\n            'tempName' => $filePath,\n            'type' => FileHelper::getMimeType($filePath),\n            'size' => filesize($filePath),\n            'error' => UPLOAD_ERR_OK,\n        ]);\n    }\n\n    public function testValidateAttribute()\n    {\n        // single File\n        $val = new FileValidator();\n        $m = $this->createModelForAttributeTest();\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertFalse($m->hasErrors());\n        $val->validateAttribute($m, 'attr_files_empty');\n        $this->assertTrue($m->hasErrors('attr_files_empty'));\n        $this->assertSame($val->uploadRequired, current($m->getErrors('attr_files_empty')));\n\n        // single File with skipOnEmpty = false\n        $val = new FileValidator(['skipOnEmpty' => false]);\n        $m = $this->createModelForAttributeTest();\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertFalse($m->hasErrors());\n        $val->validateAttribute($m, 'attr_files_empty');\n        $this->assertTrue($m->hasErrors('attr_files_empty'));\n        $this->assertSame($val->uploadRequired, current($m->getErrors('attr_files_empty')));\n        $m = $this->createModelForAttributeTest();\n\n        // too big\n        $val = new FileValidator(['maxSize' => 128]);\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertTrue($m->hasErrors('attr_files'));\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_files')), 'too big'));\n        // to Small\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator(['minSize' => 2048]);\n        $val->validateAttribute($m, 'attr_files');\n        $this->assertTrue($m->hasErrors('attr_files'));\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_files')), 'too small'));\n        // UPLOAD_ERR_INI_SIZE/UPLOAD_ERR_FORM_SIZE\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator();\n        $val->validateAttribute($m, 'attr_err_ini');\n        $this->assertTrue($m->hasErrors('attr_err_ini'));\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_err_ini')), 'too big'));\n        // UPLOAD_ERR_PARTIAL\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator();\n        $val->validateAttribute($m, 'attr_err_part');\n        $this->assertTrue($m->hasErrors('attr_err_part'));\n        $this->assertSame(Yii::t('yii', 'File upload failed.'), current($m->getErrors('attr_err_part')));\n    }\n\n    public function testValidateAttributeType()\n    {\n        $val = new FileValidator([\n            'extensions' => 'jpeg, jpg',\n            'checkExtensionByMimeType' => false,\n        ]);\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_jpg' => $this->createTestFiles([['name' => 'one.jpeg']]),\n                'attr_exe' => $this->createTestFiles([['name' => 'bad.exe']]),\n            ]\n        );\n        $val->validateAttribute($m, 'attr_jpg');\n        $this->assertFalse($m->hasErrors('attr_jpg'));\n        $val->validateAttribute($m, 'attr_exe');\n        $this->assertTrue($m->hasErrors('attr_exe'));\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_exe')), 'Only files with these extensions '));\n    }\n\n    public function testValidateEmptyExtension()\n    {\n        $val = new FileValidator([\n            'extensions' => ['txt', ''],\n            'checkExtensionByMimeType' => false,\n        ]);\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_txt' => $this->createTestFiles([['name' => 'one.txt']]),\n                'attr_empty' => $this->createTestFiles([['name' => 'bad.']]),\n                'attr_empty2' => $this->createTestFiles([['name' => 'bad']]),\n            ]\n        );\n        $val->validateAttribute($m, 'attr_txt');\n        $this->assertFalse($m->hasErrors('attr_txt'));\n        $val->validateAttribute($m, 'attr_empty');\n        $this->assertFalse($m->hasErrors('attr_empty'));\n        $val->validateAttribute($m, 'attr_empty2');\n        $this->assertFalse($m->hasErrors('attr_empty2'));\n    }\n\n    public function testValidateAttributeDoubleType()\n    {\n        $val = new FileValidator([\n            'extensions' => 'tar.gz, tar.xz',\n            'checkExtensionByMimeType' => false,\n        ]);\n\n        $m = FakedValidationModel::createWithAttributes(\n            [\n                'attr_tar' => $this->createTestFiles([['name' => 'one.tar.gz']]),\n                'attr_bar' => $this->createTestFiles([['name' => 'bad.bar.xz']]),\n                'attr_badtar' => $this->createTestFiles([['name' => 'badtar.xz']]),\n            ]\n        );\n        $val->validateAttribute($m, 'attr_tar');\n        $this->assertFalse($m->hasErrors('attr_tar'));\n\n        $val->validateAttribute($m, 'attr_bar');\n        $this->assertTrue($m->hasErrors('attr_bar'));\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_bar')), 'Only files with these extensions '));\n\n        $val->validateAttribute($m, 'attr_badtar');\n        $this->assertTrue($m->hasErrors('attr_badtar'));\n        $this->assertNotFalse(stripos(current($m->getErrors('attr_badtar')), 'Only files with these extensions '));\n    }\n\n    public function testIssue11012()\n    {\n        $baseName = '\u98db\u5152\u6a02\u5718\u5149\u832b';\n        /** @var UploadedFile $file */\n        $file = $this->createTestFiles([\n            ['name' => $baseName . '.txt'],\n        ]);\n        $this->assertEquals($baseName, $file->getBaseName());\n    }\n\n    /**\n     * @param string $fileName\n     * @param string $mask\n     * @dataProvider validMimeTypes\n     */\n    public function testValidateMimeTypeMaskValid($fileName, $mask)\n    {\n        $validator = new FileValidator(['mimeTypes' => $mask]);\n        $file = $this->getRealTestFile($fileName);\n        $this->assertTrue($validator->validate($file));\n    }\n\n    /**\n     * @param string $fileName\n     * @param string $mask\n     * @dataProvider invalidMimeTypes\n     */\n    public function testValidateMimeTypeMaskInvalid($fileName, $mask)\n    {\n        $validator = new FileValidator(['mimeTypes' => $mask]);\n        $file = $this->getRealTestFile($fileName);\n        $this->assertFalse($validator->validate($file));\n    }\n\n    public function validMimeTypes()\n    {\n        return array_filter([\n            ['test.svg', 'image/*', 'svg'],\n            ['test.jpg', 'image/*', 'jpg'],\n            ['test.png', 'image/*', 'png'],\n            ['test.png', 'IMAGE/*', 'png'],\n            ['test.txt', 'text/*', 'txt'],\n            ['test.xml', '*/xml', 'xml'],\n            ['test.odt', 'application/vnd*', 'odt'],\n            ['test.tar.xz', 'application/x-xz', 'tar.xz'],\n        ]);\n    }\n\n    public function invalidMimeTypes()\n    {\n        return [\n            ['test.txt', 'image/*', 'png, jpg'],\n            ['test.odt', 'text/*', 'txt'],\n            ['test.xml', '*/svg+xml', 'svg'],\n            ['test.png', 'image/x-iso9660-image', 'bmp'],\n            ['test.svg', 'application/*', 'jpg'],\n        ];\n    }\n\n    /**\n     * @param string $fileName\n     * @param mixed $_\n     * @param string|array $allowedExtensions\n     * @dataProvider validMimeTypes\n     */\n    public function testValidateFileByExtensionUsingMimeType($fileName, $_, $allowedExtensions)\n    {\n        $validator = new FileValidator(['extensions' => (array) $allowedExtensions]);\n        $file = $this->getRealTestFile($fileName);\n        $detectedMimeType = FileHelper::getMimeType($file->tempName, null, false);\n        $this->assertTrue($validator->validate($file), \"Mime type detected was \\\"$detectedMimeType\\\". Consider adding it to MimeTypeController::\\$aliases.\");\n    }\n\n    /**\n     * @param string $fileName\n     * @param mixed $_\n     * @param string|array $allowedExtensions\n     * @dataProvider invalidMimeTypes\n     */\n    public function testValidateFileByExtensionUsingMimeTypeInvalid($fileName, $_, $allowedExtensions)\n    {\n        $validator = new FileValidator(['extensions' => (array) $allowedExtensions]);\n        $file = $this->getRealTestFile($fileName);\n        $this->assertFalse($validator->validate($file));\n    }\n\n    protected function createModelForAttributeTest()\n    {\n        return FakedValidationModel::createWithAttributes(\n            [\n                'attr_files' => $this->createTestFiles([\n                    ['name' => 'abc.jpg', 'size' => 1024, 'type' => 'image/jpeg'],\n                ]),\n                'attr_files_empty' => $this->createTestFiles([[]]),\n                'attr_err_ini' => $this->createTestFiles([['error' => UPLOAD_ERR_INI_SIZE]]),\n                'attr_err_part' => $this->createTestFiles([['error' => UPLOAD_ERR_PARTIAL]]),\n                'attr_err_tmp' => $this->createTestFiles([['error' => UPLOAD_ERR_NO_TMP_DIR]]),\n                'attr_err_write' => $this->createTestFiles([['error' => UPLOAD_ERR_CANT_WRITE]]),\n                'attr_err_ext' => $this->createTestFiles([['error' => UPLOAD_ERR_EXTENSION]]),\n            ]\n        );\n    }\n\n    public function testValidateAttributeErrPartial()\n    {\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator();\n        $val->validateAttribute($m, 'attr_err_part');\n        $this->assertTrue($m->hasErrors('attr_err_part'));\n        $this->assertSame(Yii::t('yii', 'File upload failed.'), current($m->getErrors('attr_err_part')));\n    }\n\n    public function testValidateAttributeErrCantWrite()\n    {\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator();\n        $val->validateAttribute($m, 'attr_err_write');\n        $this->assertTrue($m->hasErrors('attr_err_write'));\n        $this->assertSame(Yii::t('yii', 'File upload failed.'), current($m->getErrors('attr_err_write')));\n    }\n\n    public function testValidateAttributeErrExtension()\n    {\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator();\n        $val->validateAttribute($m, 'attr_err_ext');\n        $this->assertTrue($m->hasErrors('attr_err_ext'));\n        $this->assertSame(Yii::t('yii', 'File upload failed.'), current($m->getErrors('attr_err_ext')));\n    }\n\n    public function testValidateAttributeErrNoTmpDir()\n    {\n        $m = $this->createModelForAttributeTest();\n        $val = new FileValidator();\n        $val->validateAttribute($m, 'attr_err_tmp');\n        $this->assertTrue($m->hasErrors('attr_err_tmp'));\n        $this->assertSame(Yii::t('yii', 'File upload failed.'), current($m->getErrors('attr_err_tmp')));\n    }\n\n    /**\n     * @param string $mask\n     * @param string $fileMimeType\n     * @param bool   $expected\n     * @dataProvider mimeTypeCaseInsensitive\n     */\n    public function testValidateMimeTypeCaseInsensitive($mask, $fileMimeType, $expected) {\n        $validator = $this->getMock('\\yii\\validators\\FileValidator', ['getMimeTypeByFile']);\n        $validator->method('getMimeTypeByFile')->willReturn($fileMimeType);\n        $validator->mimeTypes = [$mask];\n\n        $file = $this->getRealTestFile('test.txt');\n        $this->assertEquals($expected, $validator->validate($file), sprintf('Mime type validate fail: \"%s\" / \"%s\"', $mask, $fileMimeType));\n    }\n\n    public function mimeTypeCaseInsensitive() {\n        return [\n            ['Image/*', 'image/jp2', true],\n            ['image/*', 'Image/jp2', true],\n            ['application/vnd.ms-word.document.macroEnabled.12', 'application/vnd.ms-word.document.macroenabled.12', true],\n            ['image/jxra', 'image/jxrA', true],\n        ];\n    }\n}\n", "<?php\n/**\n * @link http://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license http://www.yiiframework.com/license/\n */\n\nnamespace yiiunit\\framework\\web;\n\nuse Yii;\nuse yii\\web\\UploadedFile;\nuse yiiunit\\framework\\web\\mocks\\UploadedFileMock;\nuse yiiunit\\framework\\web\\stubs\\ModelStub;\nuse yiiunit\\framework\\web\\stubs\\VendorImage;\nuse yiiunit\\TestCase;\n\n/**\n * @group web\n */\nclass UploadedFileTest extends TestCase\n{\n    protected function setUp()\n    {\n        parent::setUp();\n        $this->mockApplication();\n        $this->generateFakeFiles();\n    }\n\n    private function generateFakeFileData()\n    {\n        return [\n            'name' => md5(random_int(0, PHP_INT_MAX)),\n            'tmp_name' => md5(random_int(0, PHP_INT_MAX)),\n            'type' => 'image/jpeg',\n            'size' => random_int(1000, 10000),\n            'error' => '0',\n        ];\n    }\n\n    private function generateTempFileData()\n    {\n        return [\n            'name' => md5(random_int(0, PHP_INT_MAX)),\n            'tmp_name' => tempnam(sys_get_temp_dir(), ''),\n            'type' => 'image/jpeg',\n            'size' => random_int(1000, 10000),\n            'error' => '0',\n        ];\n    }\n\n    private function generateFakeFiles()\n    {\n        $_FILES['ModelStub[prod_image]'] = $this->generateFakeFileData();\n        $_FILES['ModelStub[prod_images][]'] = $this->generateFakeFileData();\n        $_FILES['ModelStub[prod_images][]'] = $this->generateFakeFileData();\n        $_FILES['ModelStub[prod_images][]'] = $this->generateFakeFileData();\n\n        $_FILES['ModelStub[vendor_image]'] = $this->generateFakeFileData();\n        $_FILES['ModelStub[vendor_images][]'] = $this->generateFakeFileData();\n        $_FILES['ModelStub[vendor_images][]'] = $this->generateFakeFileData();\n        $_FILES['ModelStub[vendor_images][]'] = $this->generateFakeFileData();\n\n        $_FILES['ModelStub[temp_image]'] = $this->generateTempFileData();\n    }\n\n    // Tests :\n\n    public function testGetInstance()\n    {\n        $productImage = UploadedFile::getInstance(new ModelStub(), 'prod_image');\n        $vendorImage = VendorImage::getInstance(new ModelStub(), 'vendor_image');\n\n        $this->assertInstanceOf(UploadedFile::className(), $productImage);\n        $this->assertInstanceOf(VendorImage::className(), $vendorImage);\n    }\n\n    public function testGetInstances()\n    {\n        $productImages = UploadedFile::getInstances(new ModelStub(), 'prod_images');\n        $vendorImages = VendorImage::getInstances(new ModelStub(), 'vendor_images');\n\n        foreach ($productImages as $productImage) {\n            $this->assertInstanceOf(UploadedFile::className(), $productImage);\n        }\n\n        foreach ($vendorImages as $vendorImage) {\n            $this->assertInstanceOf(VendorImage::className(), $vendorImage);\n        }\n    }\n\n    public function testSaveAs()\n    {\n        $tmpImage = UploadedFile::getInstance(new ModelStub(), 'temp_image');\n        $targetFile = '@runtime/test_saved_uploaded_file_' . time();\n\n        $this->assertEquals(true, $tmpImage->saveAs($targetFile, $deleteTempFile = false));\n        $this->markTestIncomplete(\"`$deleteTempFile` flag simply uses php's move_uploaded_file() method, so this not work in test\");\n\n        @unlink($targetFile);\n    }\n\n    public function testSaveFileFromMultipartFormDataParser()\n    {\n        $_FILES = [];\n        UploadedFile::reset();\n        $model = new ModelStub();\n        $targetFile = '@runtime/test_saved_uploaded_file_' . time();\n\n        (new MultipartFormDataParserTest)->testParse();\n        $_FILES['ModelStub'] = $_FILES['Item']; // $_FILES[Item] here from testParse() above\n        $tmpFile = UploadedFile::getInstance($model, 'file');\n\n        $this->assertEquals($tmpFile->saveAs($targetFile, $deleteTempFile = false), true);\n        $this->assertEquals($tmpFile->saveAs($targetFile), true);\n\n        $this->assertEquals($tmpFile->saveAs($targetFile), false); // has deleted before\n\n        @unlink($targetFile);\n    }\n}\n"], "filenames": ["composer.json", "composer.lock", "framework/CHANGELOG.md", "framework/base/Security.php", "framework/caching/DbCache.php", "framework/caching/FileCache.php", "framework/captcha/CaptchaAction.php", "framework/composer.json", "framework/mail/BaseMailer.php", "tests/framework/base/SecurityTest.php", "tests/framework/validators/FileValidatorTest.php", "tests/framework/web/UploadedFileTest.php"], "buggy_code_start_loc": [81, 7, 6, 120, 279, 248, 217, 76, 346, 8, 327, 9], "buggy_code_end_loc": [82, 2923, 6, 574, 280, 249, 347, 77, 347, 1309, 344, 46], "fixing_code_start_loc": [81, 7, 7, 119, 279, 248, 217, 76, 346, 8, 327, 10], "fixing_code_end_loc": [83, 2923, 8, 487, 281, 249, 348, 78, 347, 1121, 344, 47], "type": "CWE-330", "message": "yii2 is vulnerable to Use of Predictable Algorithm in Random Number Generator", "other": {"cve": {"id": "CVE-2021-3689", "sourceIdentifier": "security@huntr.dev", "published": "2021-08-10T11:15:09.640", "lastModified": "2022-04-25T19:59:14.533", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "yii2 is vulnerable to Use of Predictable Algorithm in Random Number Generator"}, {"lang": "es", "value": "yii2 es vulnerable al Uso de un Algoritmo Predecible en el Generador de N\u00fameros Aleatorios"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:H/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "HIGH", "availabilityImpact": "NONE", "baseScore": 7.5, "baseSeverity": "HIGH"}, "exploitabilityScore": 3.9, "impactScore": 3.6}], "cvssMetricV30": [{"source": "security@huntr.dev", "type": "Secondary", "cvssData": {"version": "3.0", "vectorString": "CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H", "attackVector": "NETWORK", "attackComplexity": "HIGH", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "HIGH", "baseScore": 8.1, "baseSeverity": "HIGH"}, "exploitabilityScore": 2.2, "impactScore": 5.9}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:N/C:N/I:P/A:N", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "NONE", "confidentialityImpact": "NONE", "integrityImpact": "PARTIAL", "availabilityImpact": "NONE", "baseScore": 5.0}, "baseSeverity": "MEDIUM", "exploitabilityScore": 10.0, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-330"}]}, {"source": "security@huntr.dev", "type": "Secondary", "description": [{"lang": "en", "value": "CWE-1241"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:yiiframework:yii:*:*:*:*:*:*:*:*", "versionStartIncluding": "2.0.0", "versionEndExcluding": "2.0.43", "matchCriteriaId": "FA5E094A-FAE0-4879-95C6-2DDBD9A29730"}]}]}], "references": [{"url": "https://github.com/yiisoft/yii2/commit/13f27e4d920a05d53236139e8b07007acd046a46", "source": "security@huntr.dev", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://huntr.dev/bounties/50aad1d4-eb00-4573-b8a4-dbe38e2c229f", "source": "security@huntr.dev", "tags": ["Exploit", "Third Party Advisory"]}]}, "github_commit_url": "https://github.com/yiisoft/yii2/commit/13f27e4d920a05d53236139e8b07007acd046a46"}}