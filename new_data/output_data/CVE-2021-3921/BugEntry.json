{"buggy_code": ["{% extends \"./v1/layout/guest\" %}\n{% block content %}\n    {% if IS_DEMO_SITE %}\n        <div class=\"row\">\n            <div class=\"col-lg-12\">\n                <p class=\"well\">\n                    Welcome to the Firefly III demonstration website!<br/>\n                    <br/>\n                    To log in, please use email address <strong>{{ DEMO_USERNAME }}</strong> with password <strong>{{ DEMO_PASSWORD }}</strong>\n                </p>\n            </div>\n        </div>\n    {% endif %}\n\n    {# SUCCESS MESSAGE (ALWAYS SINGULAR) #}\n    {% if Session.has('success') %}\n        <div class=\"alert alert-success alert-dismissible\" role=\"alert\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"alert\">\n                <span>&times;</span><span class=\"sr-only\">{{ 'close'|_ }}</span>\n            </button>\n            <strong>{{ 'flash_success'|_ }}</strong> {{ session('success') }}\n        </div>\n    {% endif %}\n\n\n    {% if errors.count > 0 %}\n        <div class=\"row\">\n            <div class=\"col-lg-12\">\n                <div class=\"alert alert-danger alert-dismissible\" role=\"alert\">\n                    <button type=\"button\" class=\"close\" data-dismiss=\"alert\"><span>&times;</span><span class=\"sr-only\">{{ 'close'|_ }}</span>\n                    </button>\n                    <strong>{{ 'flash_error'|_ }}</strong> {{ errors.first }}\n                </div>\n            </div>\n        </div>\n    {% endif %}\n\n    {% if session('logoutMessage') %}\n        <div class=\"row\">\n            <div class=\"col-lg-12\">\n                <div class=\"alert alert-info alert-dismissible\" role=\"alert\">\n                    <button type=\"button\" class=\"close\" data-dismiss=\"alert\"><span>&times;</span><span class=\"sr-only\">{{ 'close'|_ }}</span>\n                    </button>\n                    {{ session('logoutMessage') }}\n                </div>\n            </div>\n        </div>\n    {% endif %}\n\n    {# LDAP warning #}\n    {% if ldapWarning %}\n    <div class=\"row\">\n        <div class=\"col-lg-12\">\n            <div class=\"alert alert-danger alert-dismissible\" role=\"alert\">\n                <a target=\"_blank\" href=\"https://docs.firefly-iii.org/firefly-iii/advanced-installation/authentication/#ldap\">Please upgrade LDAP configuration</a>\n            </div>\n        </div>\n    </div>\n    {% endif %}\n\n    <div class=\"login-box-body\">\n        <p class=\"login-box-msg\">{{ 'sign_in_to_start'|_ }}</p>\n\n        <form action=\"{{ URL.to('/login') }}\" method=\"post\">\n            <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\"/>\n\n            <div class=\"form-group has-feedback\">\n                {% if config('firefly.authentication_guard') == 'web' %}\n                    <input type=\"email\" autocomplete=\"email\" name=\"email\" value=\"{% if not IS_DEMO_SITE %}{{ email }}{% else %}{{ DEMO_USERNAME }}{% endif %}\" class=\"form-control\" placeholder=\"{{ trans('form.email') }}\"/>\n                {% else %}\n                    <input type=\"text\" autocomplete=\"username\" name=\"{{ usernameField }}\" value=\"{{ email }}\" class=\"form-control\" placeholder=\"{{ trans('form.login_name') }}\"/>\n                {% endif %}\n            </div>\n            <div class=\"form-group has-feedback\">\n                <input type=\"password\" name=\"password\" autocomplete=\"current-password\" {% if IS_DEMO_SITE %}value=\"{{ DEMO_PASSWORD }}\"{% endif%} class=\"form-control\" placeholder=\"{{ trans('form.password') }}\"/>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-xs-6\">\n                    <div class=\"checkbox\">\n                        <label>\n                            <input type=\"checkbox\" name=\"remember\" {% if remember %}checked=\"checked\"{% endif %} value=\"1\"> {{ trans('form.remember_me') }}\n                        </label>\n                    </div>\n                </div>\n                <div class=\"col-xs-6\">\n                    <button type=\"submit\" class=\"btn btn-primary btn-block btn-flat\">{{ 'sign_in'|_ }}</button>\n                </div>\n            </div>\n        </form>\n        {% if allowRegistration %}\n            <a href=\"{{ URL.to('/register') }}\" class=\"text-center\">{{ 'register_new_account'|_ }}</a><br>\n        {% endif %}\n        {% if allowReset %}\n            <a href=\"{{ URL.to('/password/reset') }}\">{{ 'forgot_my_password'|_ }}</a>\n        {% endif %}\n    </div>\n{% endblock %}\n\n", "{% extends \"./v1/layout/guest\" %}\n\n{% block content %}\n\n\n    {% if session.status %}\n        <div class=\"alert alert-success\">\n            {{ session.status }}\n        </div>\n    {% endif %}\n\n    {% if errors|length > 0 %}\n        <div class=\"alert alert-danger\">\n            <strong>{{ 'flash_error'|_ }}</strong> {{ 'problems_with_input'|_ }}<br><br>\n            <ul>\n                {% for error in errors.all %}\n                    <li>{{ error }}</li>\n                {% endfor %}\n            </ul>\n        </div>\n    {% endif %}\n    <div class=\"login-box-body\">\n        {% if session('status') %}\n            <p class=\"login-box-msg text-success\">\n                {{ session('status') }}\n            </p>\n        {% else %}\n            <p class=\"login-box-msg\">{{ 'reset_password'|_ }}</p>\n\n            <form role=\"form\" method=\"POST\" action=\"{{ URL.to('/password/email') }}\">\n                <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\"/>\n\n                <div class=\"form-group has-feedback\">\n                    <input type=\"email\" class=\"form-control\" name=\"email\" placeholder=\"{{ trans('form.email') }}\"/>\n                </div>\n\n                <div class=\"row\">\n                    <div class=\"col-xs-12\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-flat pull-right\">{{ 'reset_button'|_ }}</button>\n                    </div>\n                </div>\n\n            </form>\n\n        {% endif %}\n        <a href=\"{{ URL.to('/login') }}\">{{ 'want_to_login'|_ }}</a><br>\n        {% if allowRegistration %}\n            <a href=\"{{ route('register') }}\" class=\"text-center\">{{ 'register_new_account'|_ }}</a><br>\n        {% endif %}\n\n    </div>\n\n{% endblock %}\n", "{% extends \"./v1/layout/guest\" %}\n\n{% block content %}\n\n    {% if errors|length > 0 %}\n        <div class=\"alert alert-danger\">\n            <strong>{{ 'flash_error'|_ }}</strong> {{ 'problems_with_input'|_ }}<br><br>\n            <ul>\n                {% for error in errors.all %}\n                    <li>{{ error }}</li>\n                {% endfor %}\n            </ul>\n        </div>\n    {% endif %}\n\n    <div class=\"register-box-body\">\n        <p class=\"login-box-msg\">{{ 'reset_password'|_ }}</p>\n        <form method=\"POST\" action=\"{{ url('/password/reset') }}\">\n            <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\">\n            <input type=\"hidden\" name=\"token\" value=\"{{ token }}\">\n\n            <div class=\"form-group has-feedback\">\n                <input type=\"email\" name=\"email\" class=\"form-control\" value=\"{{ old('email') }}\" placeholder=\"{{ trans('form.email') }}\"/>\n            </div>\n\n            <div class=\"form-group has-feedback\">\n                <input type=\"password\" class=\"form-control\" placeholder=\"{{ trans('form.password') }}\" name=\"password\"/>\n            </div>\n\n            <div class=\"form-group has-feedback\">\n                <input type=\"password\" class=\"form-control\" placeholder=\"{{ trans('form.password_confirmation') }}\" name=\"password_confirmation\"/>\n            </div>\n\n\n            <div class=\"row\">\n                <div class=\"col-xs-12\">\n                    <button type=\"submit\" class=\"btn btn-primary pull-right btn-flat\">{{ 'button_reset_password'|_ }}</button>\n                </div>\n            </div>\n\n        </form>\n\n        <a href=\"{{ URL.to('/login') }}\">{{ 'want_to_login'|_ }}</a><br>\n        {% if allowRegistration %}\n            <a href=\"{{ route('register') }}\" class=\"text-center\">{{ 'register_new_account'|_ }}</a><br>\n        {% endif %}\n    </div>\n\n{% endblock %}\n", "{% extends \"./v1/layout/guest\" %}\n\n{% block content %}\n\n    {% if errors|length > 0 %}\n        <div class=\"alert alert-danger\">\n            <strong>{{ 'flash_error'|_ }}</strong> {{ 'problems_with_input'|_ }}<br><br>\n            <ul>\n                {% for error in errors.all %}\n                    <li>{{ error }}</li>\n                {% endfor %}\n            </ul>\n        </div>\n    {% endif %}\n    <div class=\"register-box-body\">\n        <p class=\"login-box-msg\">{{ 'register_new_account'|_ }}</p>\n\n        <form id=\"register\" method=\"POST\" action=\"{{ URL.to('/register') }}\">\n            <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\">\n\n            <div class=\"form-group has-feedback\">\n                <input type=\"email\" name=\"email\" value=\"{{ email }}\" class=\"form-control\" placeholder=\"{{ trans('form.email') }}\"/>\n            </div>\n            <div class=\"form-group has-feedback\">\n                <input type=\"password\" autocomplete=\"new-password\" class=\"form-control\" placeholder=\"{{ trans('form.password') }}\" name=\"password\"/>\n            </div>\n            <div class=\"form-group has-feedback\">\n                <input type=\"password\" autocomplete=\"new-password\" class=\"form-control\" placeholder=\"{{ trans('form.password_confirmation') }}\" name=\"password_confirmation\"/>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-xs-8\">\n                    <div class=\"checkbox\">\n                        <label>\n                            <input type=\"checkbox\" checked name=\"verify_password\" value=\"1\"> {{ trans('form.verify_password') }} <a data-toggle=\"modal\" data-target=\"#passwordModal\" href=\"#passwordModal\"><span class=\"fa fa-fw fa-question-circle\"></span></a>\n                        </label>\n                    </div>\n                </div>\n                <div class=\"col-xs-4\">\n                    <button class=\"btn btn-primary pull-right btn-flat\">{{ 'button_register'|_ }}</button>\n                </div>\n            </div>\n        </form>\n\n        <a href=\"{{ URL.to('/login') }}\">{{ 'want_to_login'|_ }}</a><br>\n        <a href=\"{{ URL.to('/password/reset') }}\">{{ 'forgot_my_password'|_ }}</a>\n    </div>\n\n    {% include 'v1.partials.password-modal' %}\n\n{% endblock %}\n", "<ul class=\"sidebar-menu\" data-widget=\"tree\">\n    <li class=\"{{ activeRouteStrict('index') }}\">\n        <a href=\"{{ route('index') }}\">\n            <span class=\"fa fa-dashboard fa-fw\"></span>\n            <span>{{ 'dashboard'|_ }}</span>\n        </a>\n    </li>\n\n    <li class=\"header text-uppercase\">{{ 'financial_control'|_ }}</li>\n\n    <li class=\"{{ activeRoutePartial('budgets') }}\" id=\"budget-menu\">\n        <a href=\"{{ route('budgets.index') }}\">\n            <span class=\"fa fa-pie-chart fa-fw\"></span>\n            <span>{{ 'budgets'|_ }}</span>\n        </a>\n    </li>\n\n    <li class=\"{{ activeRoutePartial('bills') }}\">\n        <a href=\"{{ route('bills.index') }}\">\n            <span class=\"fa fa-calendar-o fa-fw\"></span>\n            <span>{{ 'bills'|_ }}</span>\n        </a>\n    </li>\n\n    <li class=\"{{ activeRoutePartial('piggy-banks') }}\">\n        <a href=\"{{ route('piggy-banks.index') }}\">\n            <span class=\"fa fa-bullseye fa-fw\"></span>\n            <span>{{ 'piggyBanks'|_ }}</span>\n        </a>\n    </li>\n\n    <li class=\"header text-uppercase\">{{ 'accounting'|_ }}</li>\n\n    <li class=\"{{ activeRoutePartial('transactions') }} treeview\" id=\"transaction-menu\">\n        <a href=\"#\">\n            <span class=\"fa fa-exchange fa-fw\"></span>\n            <span>{{ 'transactions'|_ }}</span>\n            <span class=\"pull-right-container\">\n        <span class=\"fa fa-angle-left pull-right\"></span>\n      </span>\n        </a>\n\n        <ul class=\"treeview-menu\">\n            <li class=\"{{ activeRoutePartialObjectType('transactions', 'withdrawal') }}\">\n                <a href=\"{{ route('transactions.index', 'withdrawal') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'expenses'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartialObjectType('transactions', 'deposit') }}\">\n                <a href=\"{{ route('transactions.index', 'deposit') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'income'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartialObjectType('transactions', 'transfers') }}\">\n                <a href=\"{{ route('transactions.index', 'transfers') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'transfers'|_ }}</span>\n                </a>\n            </li>\n        </ul>\n    </li>\n\n    <li class=\"{{ activeRoutePartial('recurring') }} {{ activeRoutePartial('rules') }} treeview\">\n        <a href=\"#\">\n            <span class=\"fa fa-microchip fa-fw\"></span>\n            <span>{{ 'automation'|_ }}</span>\n            <span class=\"pull-right-container\">\n        <span class=\"fa fa-angle-left pull-right\"></span>\n      </span>\n        </a>\n\n        <ul class=\"treeview-menu\">\n            <li class=\"{{ activeRoutePartial('rules') }}\">\n                <a href=\"{{ route('rules.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'rules'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartial('recurring') }}\">\n                <a href=\"{{ route('recurring.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'recurrences'|_ }}</span>\n                </a>\n            </li>\n        </ul>\n    </li>\n\n    <li class=\"header text-uppercase\">{{ 'others'|_ }}</li>\n\n    <li class=\"{{ activeRoutePartial('accounts') }} treeview\" id=\"account-menu\">\n        <a href=\"#\">\n            <span class=\"fa fa-credit-card fa-fw\"></span>\n            <span>{{ 'accounts'|_ }}</span>\n            <span class=\"pull-right-container\">\n        <span class=\"fa fa-angle-left pull-right\"></span>\n      </span>\n        </a>\n\n        <ul class=\"treeview-menu\">\n            <li class=\"{{ activeRoutePartialObjectType('accounts', 'asset') }}\">\n                <a href=\"{{ route('accounts.index', 'asset') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'asset_accounts'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartialObjectType('accounts', 'expense') }}\">\n                <a href=\"{{ route('accounts.index', 'expense') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'expense_accounts'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartialObjectType('accounts', 'revenue') }}\">\n                <a href=\"{{ route('accounts.index', 'revenue') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'revenue_accounts'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartialObjectType('accounts', 'liabilities') }}\">\n                <a href=\"{{ route('accounts.index', 'liabilities') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'liabilities_accounts'|_ }}</span>\n                </a>\n            </li>\n        </ul>\n    </li>\n\n    <li class=\"{{ activeRoutePartial('categories') }} {{ activeRoutePartial('tags') }} {{ activeRoutePartial('groups') }} treeview\">\n        <a href=\"#\">\n            <span class=\"fa fa-tags fa-fw\"></span>\n            <span>{{ 'classification'|_ }}</span>\n            <span class=\"pull-right-container\">\n        <span class=\"fa fa-angle-left pull-right\"></span>\n      </span>\n        </a>\n\n        <ul class=\"treeview-menu\">\n            <li class=\"{{ activeRoutePartial('categories') }}\">\n                <a href=\"{{ route('categories.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'categories'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartial('tags') }}\">\n                <a href=\"{{ route('tags.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'tags'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartial('object-groups') }}\">\n                <a href=\"{{ route('object-groups.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'object_groups_menu_bar'|_ }}</span>\n                </a>\n            </li>\n        </ul>\n    </li>\n\n    <li class=\"{{ activeRoutePartial('reports') }}\" id=\"report-menu\">\n        <a href=\"{{ route('reports.index') }}\">\n            <span class=\"fa fa-bar-chart fa-fw\"></span>\n            <span>{{ 'reports'|_ }}</span>\n        </a>\n    </li>\n\n\n    {% if config('firefly.feature_flags.export') %}\n        <li class=\"{{ activeRoutePartial('export') }}\" id=\"report-menu\">\n            <a href=\"{{ route('export.index') }}\">\n                <span class=\"fa fa-upload fa-fw\"></span>\n                <span>{{ 'export_data_menu'|_ }}</span>\n            </a>\n        </li>\n    {% endif %}\n\n    <li class=\"{{ activeRoutePartial('admin') }} {{ activeRoutePartial('profile') }} {{ activeRoutePartial('preferences') }} {{ activeRoutePartial('currencies') }} treeview\"\n        id=\"option-menu\">\n        <a href=\"#\">\n            <span class=\"fa fa-sliders fa-fw\"></span>\n            <span>{{ 'options'|_ }}</span>\n            <span class=\"pull-right-container\">\n        <span class=\"fa fa-angle-left pull-right\"></span>\n      </span>\n        </a>\n\n        <ul class=\"treeview-menu\">\n            <li class=\"{{ activeRoutePartial('profile') }}\">\n                <a class=\"{{ activeRouteStrict('profile.index') }}\" href=\"{{ route('profile.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'profile'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartial('preferences') }}\">\n                <a class=\"{{ activeRouteStrict('preferences.index') }}\" href=\"{{ route('preferences.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'preferences'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartial('currencies') }}\">\n                <a class=\"{{ activeRoutePartial('currencies') }}\" href=\"{{ route('currencies.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'currencies'|_ }}</span>\n                </a>\n            </li>\n            {% if true == featuringWebhooks %}\n                <li class=\"{{ activeRoutePartial('webhooks') }}\">\n                    <a class=\"{{ activeRoutePartial('webhooks') }}\" href=\"{{ route('webhooks.index') }}\">\n                        <span class=\"fa fa-angle-right fa-fw\"></span>\n                        <span>{{ 'webhooks'|_ }}</span>\n                    </a>\n                </li>\n            {% endif %}\n            {% if hasRole('owner') %}\n                <li class=\"{{ activeRoutePartial('admin') }}\">\n                    <a class=\"{{ activeRoutePartial('admin') }}\" href=\"{{ route('admin.index') }}\">\n                        <span class=\"fa fa-angle-right fa-fw\"></span>\n                        <span>{{ 'administration'|_ }}</span>\n                    </a>\n                </li>\n            {% endif %}\n        </ul>\n    </li>\n    {% if 'remote_user_guard' != authGuard or '' != logoutUri %}\n        <li>\n            <a href=\"{{ route('logout') }}\">\n                <span class=\"fa fa-sign-out fa-fw\"></span>\n                <span>{{ 'logout'|_ }}</span>\n            </a>\n        </li>\n    {% endif %}\n</ul>\n", "{% set VUE_SCRIPT_NAME = 'profile' %}\n{% extends './v1/layout/default' %}\n\n{% block breadcrumbs %}\n    {{ Breadcrumbs.render(Route.getCurrentRoute.getName) }}\n{% endblock %}\n\n{% block content %}\n\n    <div class=\"row\">\n        <div class=\"col-lg-8 col-lg-offset-2 col-md-12 col-sm-12\">\n\n            <!-- Nav tabs -->\n            <ul class=\"nav nav-tabs\" role=\"tablist\">\n                <li role=\"presentation\" class=\"active\">\n                    <a href=\"{{ route('profile.index') }}#options\" aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\">{{ 'options'|_ }}</a>\n                </li>\n                <li role=\"presentation\">\n                    <a href=\"#cmd\" aria-controls=\"profile\" role=\"tab\" data-toggle=\"tab\">{{ 'command_line_token'|_ }}</a>\n                </li>\n                <li role=\"presentation\">\n                    <a href=\"#oauth\" aria-controls=\"messages\" role=\"tab\" data-toggle=\"tab\">{{ 'oauth'|_ }}</a>\n                </li>\n                {% if true == isInternalAuth and true == isInternalIdentity %}\n                <li role=\"presentation\">\n                    <a href=\"#mfa\" aria-controls=\"settings\" role=\"tab\" data-toggle=\"tab\">{{ 'pref_two_factor_auth'|_ }}</a>\n                </li>\n                {% endif %}\n                {% if true == isInternalAuth and true == isInternalIdentity %}\n                <li role=\"presentation\">\n                    <a href=\"#delete\" aria-controls=\"settings\" role=\"tab\" data-toggle=\"tab\">{{ 'delete_stuff_header'|_ }}</a>\n                </li>\n                {% endif %}\n            </ul>\n            <div class=\"tab-content\">\n\n                <!-- main options -->\n                <div role=\"tabpanel\" class=\"tab-pane active\" id=\"options\">\n                    <div class=\"box box-default\">\n                        <div class=\"box-body\">\n                            <p>\n                                {{ trans('firefly.user_id_is',{user: userId})|raw }}\n                            </p>\n                            <div class=\"row\">\n                                <div class=\"col-lg-6\">\n                                    <ul>\n                                        {% if true == isInternalAuth and true == isInternalIdentity %}\n                                        <li>\n                                            <a href=\"{{ route('profile.change-email') }}\">{{ 'change_your_email'|_ }}</a>\n                                        </li>\n                                        <li>\n                                            <a href=\"{{ route('profile.change-password') }}\">{{ 'change_your_password'|_ }}</a>\n                                        </li>\n                                        {% endif %}\n                                        <li><a href=\"{{ route('logout') }}\">{{ 'logout'|_ }}</a></li>\n\n                                        {% if true == isInternalAuth and true == isInternalIdentity %}\n                                        <li>\n                                            <a href=\"{{ route('profile.logout-others') }}\">{{ 'logout_other_sessions'|_ }}</a>\n                                        </li>\n                                        <li><a class=\"text-danger\"\n                                               href=\"{{ route('profile.delete-account') }}\">{{ 'delete_account'|_ }}</a>\n                                        </li>\n                                        {% endif %}\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- command line options -->\n                <div role=\"tabpanel\" class=\"tab-pane\" id=\"cmd\">\n                    <div class=\"box box-default\">\n                        <div class=\"box-body\">\n                            <p>\n                                {{ 'explain_command_line_token'|_ }}\n                            </p>\n                            <p>\n                                <input id=\"token\" type=\"text\" class=\"form-control\" name=\"token\"\n                                       value=\"{{ accessToken.data }}\"\n                                       size=\"32\" maxlength=\"32\" readonly/>\n\n                            </p>\n                            <form action=\"{{ route('profile.regenerate') }}\" method=\"post\">\n                                <p>\n\n                                    <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\"/>\n                                    <button type=\"submit\" class=\"btn btn-danger btn-xs\"><span\n                                                class=\"fa fa-refresh\"></span> {{ 'regenerate_command_line_token'|_ }}\n                                    </button>\n                                </p>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- OAuth -->\n                <div role=\"tabpanel\" class=\"tab-pane\" id=\"oauth\">\n                    <div id=\"passport_clients\"></div>\n                </div>\n\n                {% if true == isInternalAuth and true == isInternalIdentity %}\n                <!-- MFA -->\n                <div role=\"tabpanel\" class=\"tab-pane\" id=\"mfa\">\n                    <div class=\"box box-default\">\n                        <div class=\"box-body\">\n                            <p class=\"text-info\">{{ 'pref_two_factor_auth_help'|_ }}</p>\n                            {% if enabled2FA == true %}\n                                <p class=\"text-info\">\n                                    {{ trans_choice('firefly.pref_two_factor_backup_code_count', mfaBackupCount) }}\n                                </p>\n\n                                <div class=\"btn-group\">\n                                    <a class=\"btn btn-info\" href=\"{{ route('profile.code') }}\">\n                                        <span class=\"fa fa-recycle\"></span>\n                                        {{ 'pref_two_factor_auth_reset_code'|_ }}</a>\n                                    <a class=\"btn btn-default\" href=\"{{ route('profile.new-backup-codes') }}\">\n                                        <span class=\"fa fa-star\"></span>\n                                        {{ 'pref_two_factor_new_backup_codes'|_ }}</a>\n                                    <a class=\"btn btn-danger\" href=\"{{ route('profile.delete-code') }}\">\n                                        <span class=\"fa fa-trash\"></span>\n                                        {{ 'pref_two_factor_auth_disable_2fa'|_ }}</a>\n                                </div>\n                            {% else %}\n                                <p>\n                                <form action=\"{{ route('profile.enable2FA') }}\" method=\"post\">\n                                    <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\"/>\n                                    <button type=\"submit\" class=\"btn btn-info\"><span\n                                                class=\"fa fa-lock\"></span> {{ 'pref_enable_two_factor_auth'|_ }}</button>\n                                </form>\n                                </p>\n                            {% endif %}\n                        </div>\n                    </div>\n                </div>\n                {% endif %}\n\n                <!-- delete stuff -->\n                <div role=\"tabpanel\" class=\"tab-pane\" id=\"delete\">\n                    <div class=\"box box-default\">\n                        <div class=\"box-body with-border\">\n                            <div class=\"col-lg-12\">\n                                <p>\n                                    {{ 'permanent_delete_stuff'|_ }}\n                                </p>\n                                <h4>{{ 'financial_control'|_ }}</h4>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_budgets')|escape('html') }}\"\n                                            data-type=\"budgets\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-pie-chart\"></span> {{ 'delete_all_budgets'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_bills')|escape('html') }}\"\n                                            data-type=\"bills\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-calendar-o\"></span> {{ 'delete_all_bills'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_piggy_banks')|escape('html') }}\"\n                                            data-type=\"piggy_banks\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-bullseye\"></span> {{ 'delete_all_piggy_banks'|_ }}</button>\n                                </p>\n                                <h4>{{ 'automation'|_ }}</h4>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_rules')|escape('html') }}\"\n                                            data-type=\"rules\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-random\"></span> {{ 'delete_all_rules'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_recurring')|escape('html') }}\"\n                                            data-type=\"recurring\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-paint-brush\"></span> {{ 'delete_all_recurring'|_ }}</button>\n                                </p>\n\n                                <h4>{{ 'classification'|_ }}</h4>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_categories')|escape('html') }}\"\n                                            data-type=\"categories\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-bookmark\"></span> {{ 'delete_all_categories'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_tags')|escape('html') }}\"\n                                            data-type=\"tags\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-tag\"></span> {{ 'delete_all_tags'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_object_groups')|escape('html') }}\"\n                                            data-type=\"object_groups\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-envelope-o\"></span> {{ 'delete_all_object_groups'|_ }}</button>\n                                </p>\n\n                                <h4>{{ 'accounts'|_ }}</h4>\n                                <p>\n                                    <em class=\"text-danger\">{{ 'also_delete_transactions'|_ }}</em>\n                                </p>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_accounts')|escape('html') }}\"\n                                            data-type=\"accounts\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-credit-card\"></span> {{ 'delete_all_accounts'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_asset_accounts')|escape('html') }}\"\n                                            data-type=\"asset_accounts\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-money\"></span> {{ 'delete_all_asset_accounts'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_expense_accounts')|escape('html') }}\"\n                                            data-type=\"expense_accounts\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-shopping-cart\"></span> {{ 'delete_all_expense_accounts'|_ }}</button>\n                                </p>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_revenue_accounts')|escape('html') }}\"\n                                            data-type=\"revenue_accounts\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-download\"></span> {{ 'delete_all_revenue_accounts'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_liabilities')|escape('html') }}\"\n                                            data-type=\"liabilities\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-ticket\"></span> {{ 'delete_all_liabilities'|_ }}</button>\n                                </p>\n                                <h4>{{ 'transactions'|_ }}</h4>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_transactions')|escape('html') }}\"\n                                            data-type=\"transactions\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-exchange\"></span> {{ 'delete_all_transactions'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_withdrawals')|escape('html') }}\"\n                                            data-type=\"withdrawals\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-long-arrow-left\"></span> {{ 'delete_all_withdrawals'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_deposits')|escape('html') }}\"\n                                            data-type=\"deposits\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-long-arrow-right\"></span> {{ 'delete_all_deposits'|_ }}</button>\n\n\n                                </p>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_transfers')|escape('html') }}\"\n                                            data-type=\"transfers\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-exchange\"></span> {{ 'delete_all_transfers'|_ }}</button>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n\n        </div>\n    </div>\n{% endblock %}\n{% block scripts %}\n    <script type=\"text/javascript\" nonce=\"{{ JS_NONCE }}\">\n        var deleteAPIRoute = '{{ route('api.v1.data.destroy') }}';\n        var confirmText = '{{ trans('firefly.are_you_sure')|escape('js') }}';\n        $(document).ready(function () {\n            $('.confirm').on('click', function (e) {\n                var link = $(e.currentTarget);\n                var classes = link.find('i').attr('class');\n\n                // replace icon with loading thing\n                link.prop('disabled', true);\n                link.find('i').removeClass().addClass('fa fa-spin fa-spinner');\n\n                // call API:\n                $.ajax({\n                    method: 'DELETE',\n                    url: deleteAPIRoute + '?objects=' + link.data('type'),\n                }).done(\n                    function () {\n                        // enable button again:\n                        link.prop('disabled', false);\n                        link.find('i').removeClass().addClass(classes);\n                        alert(link.data('success'));\n                    }\n                ).fail(function () {\n                    link.find('i').removeClass().addClass('fa fa-exclamation-triangle');\n                    alert('Could not delete. Sorry.');\n                });\n                return false;\n            });\n        });\n    </script>\n{% endblock %}\n", "{% extends './v2/layout/auth' %}\n{% block content %}\n\n    {# errors during registration: #}\n    {% if errors|length > 0 %}\n        <div class=\"row\">\n            <div class=\"alert alert-info alert-dismissible\">\n                <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">\u00d7</button>\n                <h5><span class=\"icon fas fa-info\"></span> {{ 'problems_with_input'|_ }}</h5>\n                <ul class=\"list-unstyled\">\n                    {% for error in errors.all %}\n                        <li>{{ error }}</li>\n                    {% endfor %}\n                </ul>\n            </div>\n        </div>\n\n    {% endif %}\n    {# default header #}\n    <div class=\"login-box\">\n        <div class=\"login-logo\">\n            <img src=\"v2/images/firefly-iii-logo-new.png\" alt=\"Firefly III\" width=\"90\"/><br />\n        </div>\n\n        <!-- /.login-logo -->\n        <div class=\"card\">\n            <div class=\"card-body login-card-body\">\n                <p class=\"login-box-msg\">{{ 'register_new_account'|_ }}</p>\n\n                <form action=\"{{ route('register') }}\" method=\"post\">\n                    <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\"/>\n                    <div class=\"input-group mb-3\">\n                        <input type=\"email\" required autocomplete=\"email\" name=\"email\" value=\"{{ email }}\" class=\"form-control\"\n                               placeholder=\"{{ trans('form.email') }}\"/>\n                        <div class=\"input-group-append\">\n                            <div class=\"input-group-text\">\n                                <span class=\"fas fa-envelope\"></span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"input-group mb-3\">\n                        <input type=\"password\" name=\"password\" required autocomplete=\"new-password\" class=\"form-control\"\n                               placeholder=\"{{ trans('form.password') }}\"/>\n                        <div class=\"input-group-append\">\n                            <div class=\"input-group-text\">\n                                <span class=\"fas fa-lock\"></span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"input-group mb-3\">\n                        <input type=\"password\" name=\"password_confirmation\" required autocomplete=\"new-password\" class=\"form-control\"\n                               placeholder=\"{{ trans('form.password_confirmation') }}\"/>\n                        <div class=\"input-group-append\">\n                            <div class=\"input-group-text\">\n                                <span class=\"fas fa-lock\"></span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"row\">\n                        <div class=\"col-12\">\n                            <div class=\"icheck-primary\">\n                                <input id=\"verify_password\" checked type=\"checkbox\" name=\"verify_password\" value=\"1\">\n                                <label for=\"verify_password\">\n                                    {{ trans('form.verify_password') }}\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"row\">\n                        <!-- /.col -->\n                        <div class=\"col-12\">\n                            <button type=\"submit\" class=\"btn btn-primary btn-block\">{{ 'button_register'|_ }}</button>\n                        </div>\n                        <!-- /.col -->\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                            <ul class=\"list-unstyled small\">\n                                <li>\n                                    <a data-toggle=\"modal\" data-target=\"#passwordModal\" href=\"#passwordModal\">\n                                        {{ 'what_is_pw_security'|_ }}\n                                    </a>\n                                </li>\n                                <li>\n                                    <a href=\"{{ URL.to('/login') }}\">{{ 'want_to_login'|_ }}</a>\n                                </li>\n                                <li>\n                                    <a href=\"{{ route('password.reset.request') }}\">{{ 'forgot_my_password'|_ }}</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </form>\n\n            </div>\n            <!-- /.login-card-body -->\n        </div>\n    </div>\n\n    {% include 'v2.partials.auth.password-modal' %}\n\n    <!-- /.login-box -->\n{% endblock %}\n{% block scripts %}\n    <script src=\"v2/js/manifest.js?v={{ FF_VERSION }}\" nonce=\"{{ JS_NONCE }}\"></script>\n    <script src=\"v2/js/vendor.js?v={{ FF_VERSION }}\" nonce=\"{{ JS_NONCE }}\"></script>\n    <script src=\"v2/js/register.js?v={{ FF_VERSION }}\" nonce=\"{{ JS_NONCE }}\"></script>\n{% endblock %}\n", "<nav class=\"main-header navbar navbar-expand navbar-white navbar-light\">\n    <!-- Left navbar links -->\n    <ul class=\"navbar-nav\">\n        <li class=\"nav-item\">\n            <a class=\"nav-link\" data-widget=\"pushmenu\" href=\"#\" role=\"button\"><span class=\"fas fa-bars\"></span></a>\n        </li>\n    </ul>\n\n    <!-- SEARCH FORM -->\n    <form class=\"form-inline ml-3\" action=\"{{ route('search.index') }}\" method=\"get\">\n        <div class=\"input-group input-group-sm\">\n            <input class=\"form-control form-control-navbar\" name=\"search\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\n            <div class=\"input-group-append\">\n                <button class=\"btn btn-navbar\" type=\"submit\">\n                    <span class=\"fas fa-search\"></span>\n                </button>\n            </div>\n        </div>\n    </form>\n\n    <!-- Right navbar links -->\n    <ul class=\"navbar-nav ml-auto\">\n        <!-- Messages Dropdown Menu -->\n        {# calendar thing, removed #}\n        <li class=\"nav-item dropdown\">\n            <a class=\"nav-link\" data-toggle=\"dropdown\" href=\"#\">\n                <span class=\"fas fa-cogs\"></span>\n            </a>\n            <div class=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n                <a href=\"{{ route('preferences.index') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-cogs mr-2\"></span> {{ 'preferences'|_ }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('currencies.index') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-euro-sign mr-2\"></span> {{ 'currencies'|_ }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('admin.index') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-envelope mr-2\"></span> {{ 'administration'|_ }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"#\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-globe mr-2\"></span> {{ 'webhooks'|_ }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('export.index') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-upload mr-2\"></span> {{ 'export_data_menu'|_ }}\n                </a>\n            </div>\n        </li>\n        <!-- Notifications Dropdown Menu -->\n        <li class=\"nav-item dropdown\">\n            <a class=\"nav-link\" data-toggle=\"dropdown\" href=\"#\">\n                <span class=\"far fa-user\"></span>\n            </a>\n            <div class=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n                <a href=\"{{ route('profile.index') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-user mr-2\"></span> {{ 'profile'|_ }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('preferences.index') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-cogs mr-2\"></span> {{ 'preferences'|_ }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('logout') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-sign-out-alt mr-2\"></span> {{ 'logout'|_ }}\n                </a>\n            </div>\n        </li>\n        <li class=\"nav-item dropdown\">\n            <a class=\"nav-link\" data-toggle=\"dropdown\" href=\"#\">\n                <span class=\"far fa-plus-square\"></span>\n            </a>\n            <div class=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n                <a href=\"{{ route('transactions.create', 'withdrawal') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-long-arrow-alt-left nav-icon\"></span> {{ 'new_withdrawal'|_ }}\n                </a>\n                <a href=\"{{ route('transactions.create', 'deposit') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-long-arrow-alt-right nav-icon\"></span> {{ 'new_deposit'|_ }}\n                </a>\n                <a href=\"{{ route('transactions.create', 'transfer') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-exchange-alt nav-icon\"></span> {{ 'new_transfer'|_ }}\n                </a>\n\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('budgets.create') }}\" class=\"dropdown-item\">\n                    <span class=\"nav-icon fas fa-chart-pie\"></span> {{ 'new_budget'|_ }}\n                </a>\n                <a href=\"{{ route('bills.create') }}\" class=\"dropdown-item\">\n                    <span class=\"nav-icon far fa-calendar-alt\"></span> {{ 'new_bill'|_ }}\n                </a>\n                <a href=\"{{ route('piggy-banks.create') }}\" class=\"dropdown-item\">\n                    <span class=\"nav-icon fas fa-piggy-bank\"></span> {{ 'new_piggy_bank'|_ }}\n                </a>\n\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('rules.create') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-random nav-icon\"></span> {{ 'new_rule'|_ }}\n                </a>\n                <a href=\"{{ route('recurring.create') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-magic nav-icon\"></span> {{ 'new_recurring_transaction'|_ }}\n                </a>\n\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('accounts.create', 'asset') }}\" class=\"dropdown-item\">\n                    <span class=\"far fa-money-bill-alt nav-icon\"></span> {{ 'new_asset_account'|_ }}\n                </a>\n                <a href=\"{{ route('accounts.create', 'liabilities') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-funnel-dollar nav-icon\"></span> {{ 'new_liabilities_account'|_ }}\n                </a>\n            </div>\n        </li>\n        <!-- here be dragons -->\n        <li class=\"nav-item\">\n            <a class=\"nav-link\" data-widget=\"control-sidebar\" data-slide=\"true\" href=\"#\" role=\"button\" title=\"{{ 'here_be_dragons'|_ }}\">\n                <span class=\"fas fa-dragon\"></span>\n            </a>\n        </li>\n    </ul>\n</nav>\n<!-- /.navbar -->\n", "<?php\n/**\n * web.php\n * Copyright (c) 2019 james@firefly-iii.org.\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\ndeclare(strict_types=1);\n\nRoute::group(\n    ['namespace' => 'FireflyIII\\Http\\Controllers\\System',\n     'as'        => 'installer.', 'prefix' => 'install',],\n    static function () {\n        Route::get('', ['uses' => 'InstallController@index', 'as' => 'index']);\n        Route::post('runCommand', ['uses' => 'InstallController@runCommand', 'as' => 'runCommand']);\n    }\n);\n\nRoute::group(\n    ['middleware' => 'binders-only', 'namespace' => 'FireflyIII\\Http\\Controllers\\System', 'as' => 'cron.', 'prefix' => 'cron'],\n    static function () {\n        Route::get('run/{cliToken}', ['uses' => 'CronController@cron', 'as' => 'cron']);\n    }\n);\n\nRoute::group(\n    ['middleware' => 'binders-only',  'namespace' => 'FireflyIII\\Http\\Controllers\\System'],\n    static function () {\n        Route::get('offline', fn () => view('errors.offline'));\n        Route::get('health', ['uses' => 'HealthcheckController@check', 'as' => 'healthcheck']);\n    }\n);\n\n/**\n * These routes only work when the user is NOT logged in.\n */\nRoute::group(\n    ['middleware' => 'user-not-logged-in', 'namespace' => 'FireflyIII\\Http\\Controllers'],\n    static function () {\n\n    // Authentication Routes...\n        Route::get('login', ['uses' => 'Auth\\LoginController@showLoginForm', 'as' => 'login']);\n        Route::post('login', ['uses' => 'Auth\\LoginController@login', 'as' => 'login.post']);\n\n        // Registration Routes...\n        Route::get('register', ['uses' => 'Auth\\RegisterController@showRegistrationForm', 'as' => 'register']);\n        Route::post('register', 'Auth\\RegisterController@register');\n\n        // Password Reset Routes...\n        Route::get('password/reset/{token}', ['uses' => 'Auth\\ResetPasswordController@showResetForm', 'as' => 'password.reset']);\n        Route::post('password/email', ['uses' => 'Auth\\ForgotPasswordController@sendResetLinkEmail', 'as' => 'password.email']);\n        Route::post('password/reset', ['uses' => 'Auth\\ResetPasswordController@reset', 'as' => 'password.reset.post']);\n        Route::get('password/reset', ['uses' => 'Auth\\ForgotPasswordController@showLinkRequestForm', 'as' => 'password.reset.request']);\n\n        // Change email routes:\n        Route::get('profile/confirm-email-change/{token}', ['uses' => 'ProfileController@confirmEmailChange', 'as' => 'profile.confirm-email-change']);\n        Route::get('profile/undo-email-change/{token}/{oldAddressHash}', ['uses' => 'ProfileController@undoEmailChange', 'as' => 'profile.undo-email-change']);\n\n\n    }\n);\n\n/**\n * For some other routes, it is only relevant that the user is authenticated.\n */\nRoute::group(\n    ['middleware' => 'user-simple-auth', 'namespace' => 'FireflyIII\\Http\\Controllers'],\n    static function () {\n        Route::get('error', ['uses' => 'DebugController@displayError', 'as' => 'error']);\n        Route::any('logout', ['uses' => 'Auth\\LoginController@logout', 'as' => 'logout']);\n        Route::get('flush', ['uses' => 'DebugController@flush', 'as' => 'flush']);\n        //Route::get('routes', ['uses' => 'DebugController@routes', 'as' => 'routes']);\n        Route::get('debug', 'DebugController@index')->name('debug');\n    }\n);\n\n/**\n * For the two factor routes, the user must be logged in, but NOT 2FA. Account confirmation does not matter here.\n *\n */\nRoute::group(\n    ['middleware' => 'user-logged-in-no-2fa', 'prefix' => 'two-factor', 'as' => 'two-factor.', 'namespace' => 'FireflyIII\\Http\\Controllers\\Auth'],\n    static function () {\n        Route::post('submit', ['uses' => 'TwoFactorController@submitMFA', 'as' => 'submit']);\n        Route::get('lost', ['uses' => 'TwoFactorController@lostTwoFactor', 'as' => 'lost']); // can be removed when v2 is live.\n    }\n);\n\n/**\n * For all other routes, the user must be fully authenticated and have an activated account.\n */\n\n/**\n * Home Controller.\n */\nRoute::group(\n    ['middleware' => ['user-full-auth'], 'namespace' => 'FireflyIII\\Http\\Controllers'],\n    static function () {\n        Route::get('/', ['uses' => 'HomeController@index', 'as' => 'index']);\n        Route::get('/flash', ['uses' => 'DebugController@testFlash', 'as' => 'test-flash']);\n        Route::get('/home', ['uses' => 'HomeController@index', 'as' => 'home']);\n        Route::post('/daterange', ['uses' => 'HomeController@dateRange', 'as' => 'daterange']);\n    }\n);\n\n// show inactive\n\n/**\n * Account Controller.\n * DROP ME WHEN v2 hits\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'inactive-accounts', 'as' => 'accounts.'],\n    static function () {\n        Route::get('{objectType}', ['uses' => 'Account\\IndexController@inactive', 'as' => 'inactive.index'])->where(\n            'objectType',\n            'revenue|asset|expense|liabilities'\n        );\n    }\n);\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'accounts', 'as' => 'accounts.'],\n    static function () {\n\n        // show:\n        Route::get('{objectType}', ['uses' => 'Account\\IndexController@index', 'as' => 'index'])->where('objectType', 'revenue|asset|expense|liabilities');\n\n        // create\n        Route::get('create/{objectType}', ['uses' => 'Account\\CreateController@create', 'as' => 'create'])->where(\n            'objectType',\n            'revenue|asset|expense|liabilities'\n        );\n        Route::post('store', ['uses' => 'Account\\CreateController@store', 'as' => 'store']);\n\n        // edit\n        Route::get('edit/{account}', ['uses' => 'Account\\EditController@edit', 'as' => 'edit']);\n        Route::post('update/{account}', ['uses' => 'Account\\EditController@update', 'as' => 'update']);\n\n        // delete\n        Route::get('delete/{account}', ['uses' => 'Account\\DeleteController@delete', 'as' => 'delete']);\n        Route::post('destroy/{account}', ['uses' => 'Account\\DeleteController@destroy', 'as' => 'destroy']);\n\n        // show\n        Route::get('show/{account}/all', ['uses' => 'Account\\ShowController@showAll', 'as' => 'show.all']);\n        Route::get('show/{account}/{start_date?}/{end_date?}', ['uses' => 'Account\\ShowController@show', 'as' => 'show']);\n\n        // reconcile routes:\n        Route::get('reconcile/{account}/index/{start_date?}/{end_date?}', ['uses' => 'Account\\ReconcileController@reconcile', 'as' => 'reconcile']);\n        Route::post('reconcile/{account}/submit/{start_date?}/{end_date?}', ['uses' => 'Account\\ReconcileController@submit', 'as' => 'reconcile.submit']);\n\n        // reconcile JSON routes\n        Route::get('reconcile/{account}/overview/{start_date?}/{end_date?}', ['uses' => 'Json\\ReconcileController@overview', 'as' => 'reconcile.overview']);\n        Route::get(\n            'reconcile/{account}/transactions/{start_date?}/{end_date?}',\n            ['uses' => 'Json\\ReconcileController@transactions', 'as' => 'reconcile.transactions']\n        );\n    }\n);\n\n/**\n * Attachment Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'attachments', 'as' => 'attachments.'],\n    static function () {\n        Route::get('', ['uses' => 'AttachmentController@index', 'as' => 'index']);\n        Route::get('edit/{attachment}', ['uses' => 'AttachmentController@edit', 'as' => 'edit']);\n        Route::get('delete/{attachment}', ['uses' => 'AttachmentController@delete', 'as' => 'delete']);\n        Route::get('download/{attachment}', ['uses' => 'AttachmentController@download', 'as' => 'download']);\n        Route::get('view/{attachment}', ['uses' => 'AttachmentController@view', 'as' => 'view']);\n\n        Route::post('update/{attachment}', ['uses' => 'AttachmentController@update', 'as' => 'update']);\n        Route::post('destroy/{attachment}', ['uses' => 'AttachmentController@destroy', 'as' => 'destroy']);\n    }\n);\n\n/**\n * Bills Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'bills', 'as' => 'bills.'],\n    static function () {\n        Route::get('', ['uses' => 'Bill\\IndexController@index', 'as' => 'index']);\n        Route::post('rescan/{bill}', ['uses' => 'Bill\\ShowController@rescan', 'as' => 'rescan']);\n        Route::get('create', ['uses' => 'Bill\\CreateController@create', 'as' => 'create']);\n        Route::get('edit/{bill}', ['uses' => 'Bill\\EditController@edit', 'as' => 'edit']);\n        Route::get('delete/{bill}', ['uses' => 'Bill\\DeleteController@delete', 'as' => 'delete']);\n        Route::get('show/{bill}', ['uses' => 'Bill\\ShowController@show', 'as' => 'show']);\n\n        Route::post('store', ['uses' => 'Bill\\CreateController@store', 'as' => 'store']);\n        Route::post('update/{bill}', ['uses' => 'Bill\\EditController@update', 'as' => 'update']);\n        Route::post('destroy/{bill}', ['uses' => 'Bill\\DeleteController@destroy', 'as' => 'destroy']);\n\n        Route::post('set-order/{bill}', ['uses' => 'Bill\\IndexController@setOrder', 'as' => 'set-order']);\n    }\n);\n\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'subscriptions', 'as' => 'subscriptions.'],\n    static function () {\n        Route::get('', ['uses' => 'Bill\\IndexController@index', 'as' => 'index']);\n        Route::get('rescan/{bill}', ['uses' => 'Bill\\ShowController@rescan', 'as' => 'rescan']);\n        Route::get('create', ['uses' => 'Bill\\CreateController@create', 'as' => 'create']);\n        Route::get('edit/{bill}', ['uses' => 'Bill\\EditController@edit', 'as' => 'edit']);\n        Route::get('delete/{bill}', ['uses' => 'Bill\\DeleteController@delete', 'as' => 'delete']);\n        Route::get('show/{bill}', ['uses' => 'Bill\\ShowController@show', 'as' => 'show']);\n\n        Route::post('store', ['uses' => 'Bill\\CreateController@store', 'as' => 'store']);\n        Route::post('update/{bill}', ['uses' => 'Bill\\EditController@update', 'as' => 'update']);\n        Route::post('destroy/{bill}', ['uses' => 'Bill\\DeleteController@destroy', 'as' => 'destroy']);\n\n        Route::post('set-order/{bill}', ['uses' => 'Bill\\IndexController@setOrder', 'as' => 'set-order']);\n    }\n);\n\n/**\n * Budget Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'budgets', 'as' => 'budgets.'],\n    static function () {\n\n    // delete\n        Route::get('delete/{budget}', ['uses' => 'Budget\\DeleteController@delete', 'as' => 'delete']);\n        Route::post('destroy/{budget}', ['uses' => 'Budget\\DeleteController@destroy', 'as' => 'destroy']);\n\n        // create\n        Route::get('create', ['uses' => 'Budget\\CreateController@create', 'as' => 'create']);\n        Route::post('store', ['uses' => 'Budget\\CreateController@store', 'as' => 'store']);\n\n        // edit\n        Route::get('edit/{budget}', ['uses' => 'Budget\\EditController@edit', 'as' => 'edit']);\n        Route::post('update/{budget}', ['uses' => 'Budget\\EditController@update', 'as' => 'update']);\n\n        // show\n        Route::get('show/{budget}', ['uses' => 'Budget\\ShowController@show', 'as' => 'show']);\n        Route::get('show/{budget}/{budgetLimit}', ['uses' => 'Budget\\ShowController@showByBudgetLimit', 'as' => 'show.limit']);\n        Route::get('list/no-budget/all', ['uses' => 'Budget\\ShowController@noBudgetAll', 'as' => 'no-budget-all']);\n        Route::get('list/no-budget/{start_date?}/{end_date?}', ['uses' => 'Budget\\ShowController@noBudget', 'as' => 'no-budget']);\n\n        // reorder budgets\n        Route::post('reorder', ['uses' => 'Budget\\IndexController@reorder', 'as' => 'reorder']);\n\n        // index\n        Route::get('{start_date?}/{end_date?}', ['uses' => 'Budget\\IndexController@index', 'as' => 'index']);\n    }\n);\n\n/**\n * Available Budget Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'available-budgets', 'as' => 'available-budgets.'],\n    static function () {\n\n        // create\n        Route::get('create/{start_date}/{end_date}/{currency?}', ['uses' => 'Budget\\AvailableBudgetController@create', 'as' => 'create']);\n        Route::get(\n            'create-alternative/{start_date}/{end_date}',\n            ['uses' => 'Budget\\AvailableBudgetController@createAlternative', 'as' => 'create-alternative']\n        );\n        Route::post('store', ['uses' => 'Budget\\AvailableBudgetController@store', 'as' => 'store']);\n\n        // edit\n        Route::get('edit/{availableBudget}/{start_date}/{end_date}', ['uses' => 'Budget\\AvailableBudgetController@edit', 'as' => 'edit']);\n        Route::post('update/{availableBudget}/{start_date}/{end_date}', ['uses' => 'Budget\\AvailableBudgetController@update', 'as' => 'update']);\n\n        Route::post('delete', ['uses' => 'Budget\\AvailableBudgetController@delete', 'as' => 'delete']);\n    }\n);\n\n/**\n * Budget Limit Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'budget-limits', 'as' => 'budget-limits.'],\n    static function () {\n        Route::get('create/{budget}/{start_date}/{end_date}', ['uses' => 'Budget\\BudgetLimitController@create', 'as' => 'create']);\n        Route::post('store', ['uses' => 'Budget\\BudgetLimitController@store', 'as' => 'store']);\n\n        Route::post('delete/{budgetLimit}', ['uses' => 'Budget\\BudgetLimitController@delete', 'as' => 'delete']);\n\n        Route::post('update/{budgetLimit}', ['uses' => 'Budget\\BudgetLimitController@update', 'as' => 'update']);\n    }\n);\n\n/**\n * Category Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'categories', 'as' => 'categories.'],\n    static function () {\n\n    // index:\n        Route::get('', ['uses' => 'Category\\IndexController@index', 'as' => 'index']);\n\n        // create\n        Route::get('create', ['uses' => 'Category\\CreateController@create', 'as' => 'create']);\n        Route::post('store', ['uses' => 'Category\\CreateController@store', 'as' => 'store']);\n\n        // edit\n        Route::get('edit/{category}', ['uses' => 'Category\\EditController@edit', 'as' => 'edit']);\n        Route::post('update/{category}', ['uses' => 'Category\\EditController@update', 'as' => 'update']);\n\n        // delete\n        Route::get('delete/{category}', ['uses' => 'Category\\DeleteController@delete', 'as' => 'delete']);\n        Route::post('destroy/{category}', ['uses' => 'Category\\DeleteController@destroy', 'as' => 'destroy']);\n\n        // show category:\n        Route::get('show/{category}/all', ['uses' => 'Category\\ShowController@showAll', 'as' => 'show.all']);\n        Route::get('show/{category}/{start_date?}/{end_date?}', ['uses' => 'Category\\ShowController@show', 'as' => 'show']);\n\n        // no category controller:\n        Route::get('list/no-category/all', ['uses' => 'Category\\NoCategoryController@showAll', 'as' => 'no-category.all']);\n        Route::get('list/no-category/{start_date?}/{end_date?}', ['uses' => 'Category\\NoCategoryController@show', 'as' => 'no-category']);\n    }\n);\n\n/**\n * Currency Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'currencies', 'as' => 'currencies.'],\n    static function () {\n        Route::get('', ['uses' => 'CurrencyController@index', 'as' => 'index']);\n        Route::get('create', ['uses' => 'CurrencyController@create', 'as' => 'create']);\n        Route::get('edit/{currency}', ['uses' => 'CurrencyController@edit', 'as' => 'edit']);\n        Route::get('delete/{currency}', ['uses' => 'CurrencyController@delete', 'as' => 'delete']);\n        Route::post('default', ['uses' => 'CurrencyController@defaultCurrency', 'as' => 'default']);\n        Route::post('enable', ['uses' => 'CurrencyController@enableCurrency', 'as' => 'enable']);\n        Route::post('disable', ['uses' => 'CurrencyController@disableCurrency', 'as' => 'disable']);\n\n        Route::post('store', ['uses' => 'CurrencyController@store', 'as' => 'store']);\n        Route::post('update/{currency}', ['uses' => 'CurrencyController@update', 'as' => 'update']);\n        Route::post('destroy/{currency}', ['uses' => 'CurrencyController@destroy', 'as' => 'destroy']);\n    }\n);\n\n/**\n * Chart\\Account Controller (default report).\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/account', 'as' => 'chart.account.'],\n    static function () {\n        Route::get('frontpage', ['uses' => 'AccountController@frontpage', 'as' => 'frontpage']);\n        Route::get('expense', ['uses' => 'AccountController@expenseAccounts', 'as' => 'expense']);\n        Route::get('revenue', ['uses' => 'AccountController@revenueAccounts', 'as' => 'revenue']);\n        Route::get('report/{accountList}/{start_date}/{end_date}', ['uses' => 'AccountController@report', 'as' => 'report']);\n        Route::get('period/{account}/{start_date}/{end_date}', ['uses' => 'AccountController@period', 'as' => 'period']);\n\n        Route::get('income-category/{account}/all/all', ['uses' => 'AccountController@incomeCategoryAll', 'as' => 'income-category-all']);\n        Route::get('expense-category/{account}/all/all', ['uses' => 'AccountController@expenseCategoryAll', 'as' => 'expense-category-all']);\n        Route::get('expense-budget/{account}/all/all', ['uses' => 'AccountController@expenseBudgetAll', 'as' => 'expense-budget-all']);\n\n        Route::get('income-category/{account}/{start_date}/{end_date}', ['uses' => 'AccountController@incomeCategory', 'as' => 'income-category']);\n        Route::get('expense-category/{account}/{start_date}/{end_date}', ['uses' => 'AccountController@expenseCategory', 'as' => 'expense-category']);\n        Route::get('expense-budget/{account}/{start_date}/{end_date}', ['uses' => 'AccountController@expenseBudget', 'as' => 'expense-budget']);\n    }\n);\n\n/**\n * Chart\\Bill Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/bill', 'as' => 'chart.bill.'],\n    static function () {\n        Route::get('frontpage', ['uses' => 'BillController@frontpage', 'as' => 'frontpage']);\n        Route::get('single/{bill}', ['uses' => 'BillController@single', 'as' => 'single']);\n    }\n);\n\n/**\n * Chart\\Budget Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/budget', 'as' => 'chart.budget.'],\n    static function () {\n        Route::get('frontpage', ['uses' => 'BudgetController@frontpage', 'as' => 'frontpage']);\n        Route::get('period/0/{currency}/{accountList}/{start_date}/{end_date}', ['uses' => 'BudgetController@periodNoBudget', 'as' => 'period.no-budget']);\n        Route::get('period/{budget}/{currency}/{accountList}/{start_date}/{end_date}', ['uses' => 'BudgetController@period', 'as' => 'period']);\n        Route::get('budget/{budget}/{budgetLimit}', ['uses' => 'BudgetController@budgetLimit', 'as' => 'budget-limit']);\n        Route::get('budget/{budget}', ['uses' => 'BudgetController@budget', 'as' => 'budget']);\n\n        // these charts are used in budget/show:\n        Route::get('expense-category/{budget}/{budgetLimit?}', ['uses' => 'BudgetController@expenseCategory', 'as' => 'expense-category']);\n        Route::get('expense-asset/{budget}/{budgetLimit?}', ['uses' => 'BudgetController@expenseAsset', 'as' => 'expense-asset']);\n        Route::get('expense-expense/{budget}/{budgetLimit?}', ['uses' => 'BudgetController@expenseExpense', 'as' => 'expense-expense']);\n\n        // these charts are used in reports (category reports):\n        Route::get(\n            'category/expense/{accountList}/{budgetList}/{start_date}/{end_date}',\n            ['uses' => 'BudgetReportController@categoryExpense', 'as' => 'category-expense']\n        );\n        Route::get(\n            'budget/expense/{accountList}/{budgetList}/{start_date}/{end_date}',\n            ['uses' => 'BudgetReportController@budgetExpense', 'as' => 'budget-expense']\n        );\n        Route::get(\n            'source-account/expense/{accountList}/{budgetList}/{start_date}/{end_date}',\n            ['uses' => 'BudgetReportController@sourceAccountExpense', 'as' => 'source-account-expense']\n        );\n        Route::get(\n            'destination-account/expense/{accountList}/{budgetList}/{start_date}/{end_date}',\n            ['uses' => 'BudgetReportController@destinationAccountExpense', 'as' => 'destination-account-expense']\n        );\n        Route::get('operations/{accountList}/{budget}/{start_date}/{end_date}', ['uses' => 'BudgetReportController@mainChart', 'as' => 'main']);\n    }\n);\n\n/**\n * Chart\\Category Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/category', 'as' => 'chart.category.'],\n    static function () {\n        Route::get('frontpage', ['uses' => 'CategoryController@frontPage', 'as' => 'frontpage']);\n        Route::get('period/{category}', ['uses' => 'CategoryController@currentPeriod', 'as' => 'current']);\n        Route::get('period/{category}/{date}', ['uses' => 'CategoryController@specificPeriod', 'as' => 'specific']);\n        Route::get('all/{category}', ['uses' => 'CategoryController@all', 'as' => 'all']);\n        Route::get(\n            'report-period/0/{accountList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryController@reportPeriodNoCategory', 'as' => 'period.no-category']\n        );\n        Route::get('report-period/{category}/{accountList}/{start_date}/{end_date}', ['uses' => 'CategoryController@reportPeriod', 'as' => 'period']);\n\n        Route::get(\n            'category/expense/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@categoryExpense', 'as' => 'category-expense']\n        );\n        Route::get(\n            'category/income/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@categoryIncome', 'as' => 'category-income']\n        );\n        Route::get(\n            'budget/expense/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@budgetExpense', 'as' => 'budget-expense']\n        );\n        Route::get(\n            'source/expense/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@sourceExpense', 'as' => 'source-expense']\n        );\n        Route::get(\n            'source/income/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@sourceIncome', 'as' => 'source-income']\n        );\n        Route::get(\n            'dest/expense/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@destinationExpense', 'as' => 'dest-expense']\n        );\n        Route::get(\n            'dest/income/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@destinationIncome', 'as' => 'dest-income']\n        );\n        Route::get('operations/{accountList}/{category}/{start_date}/{end_date}', ['uses' => 'CategoryReportController@mainChart', 'as' => 'main']);\n    }\n);\n\n/**\n * Chart\\Tag Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/tag', 'as' => 'chart.tag.'],\n    static function () {\n        Route::get('tag/expense/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@tagExpense', 'as' => 'tag-expense']);\n        Route::get('tag/income/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@tagIncome', 'as' => 'tag-income']);\n        Route::get(\n            'category/expense/{accountList}/{tagList}/{start_date}/{end_date}',\n            ['uses' => 'TagReportController@categoryExpense', 'as' => 'category-expense']\n        );\n        Route::get('category/income/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@categoryIncome', 'as' => 'category-income']);\n        Route::get('budget/expense/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@budgetExpense', 'as' => 'budget-expense']);\n        Route::get('source/expense/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@sourceExpense', 'as' => 'source-expense']);\n        Route::get('source/income/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@sourceIncome', 'as' => 'source-income']);\n        Route::get('dest/expense/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@destinationExpense', 'as' => 'dest-expense']);\n        Route::get('dest/income/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@destinationIncome', 'as' => 'dest-income']);\n\n        Route::get('operations/{accountList}/{tag}/{start_date}/{end_date}', ['uses' => 'TagReportController@mainChart', 'as' => 'main']);\n    }\n);\n\n/**\n * Chart\\Double Controller (for expense/revenue report).\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/double', 'as' => 'chart.double.'],\n    static function () {\n        Route::get('main/{accountList}/{account}/{start_date}/{end_date}', ['uses' => 'DoubleReportController@mainChart', 'as' => 'main']);\n\n        Route::get(\n            'category/expense/{accountList}/{doubleList}/{start_date}/{end_date}',\n            ['uses' => 'DoubleReportController@categoryExpense', 'as' => 'category-expense']\n        );\n        Route::get(\n            'category/income/{accountList}/{doubleList}/{start_date}/{end_date}',\n            ['uses' => 'DoubleReportController@categoryIncome', 'as' => 'category-income']\n        );\n        Route::get(\n            'budget/expense/{accountList}/{doubleList}/{start_date}/{end_date}',\n            ['uses' => 'DoubleReportController@budgetExpense', 'as' => 'budget-expense']\n        );\n\n        Route::get('tag/expense/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleReportController@tagExpense', 'as' => 'tag-expense']);\n        Route::get('tag/income/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleReportController@tagIncome', 'as' => 'tag-income']);\n    }\n);\n\n/**\n * Chart\\PiggyBank Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/piggy-bank', 'as' => 'chart.piggy-bank.'],\n    static function () {\n        Route::get('{piggyBank}', ['uses' => 'PiggyBankController@history', 'as' => 'history']);\n    }\n);\n\n/**\n * Chart\\Report Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/report', 'as' => 'chart.report.'],\n    static function () {\n        Route::get('operations/{accountList}/{start_date}/{end_date}', ['uses' => 'ReportController@operations', 'as' => 'operations']);\n        Route::get('net-worth/{accountList}/{start_date}/{end_date}/', ['uses' => 'ReportController@netWorth', 'as' => 'net-worth']);\n    }\n);\n\n/**\n * Chart\\Transactions Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/transactions', 'as' => 'chart.transactions.'],\n    static function () {\n        Route::get('categories/{objectType}/{start_date}/{end_date}', ['uses' => 'TransactionController@categories', 'as' => 'categories']);\n        Route::get('budgets/{start_date}/{end_date}', ['uses' => 'TransactionController@budgets', 'as' => 'budgets']);\n        Route::get(\n            'destinationAccounts/{objectType}/{start_date}/{end_date}',\n            ['uses' => 'TransactionController@destinationAccounts', 'as' => 'destinationAccounts']\n        );\n        Route::get('sourceAccounts/{objectType}/{start_date}/{end_date}', ['uses' => 'TransactionController@sourceAccounts', 'as' => 'sourceAccounts']);\n        //\n    }\n);\n\n/**\n * Export controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'export', 'as' => 'export.'],\n    static function () {\n\n    // index\n        Route::get('', ['uses' => 'Export\\IndexController@index', 'as' => 'index']);\n        Route::post('export', ['uses' => 'Export\\IndexController@export', 'as' => 'export']);\n    }\n);\n/**\n * Object group controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'groups', 'as' => 'object-groups.'],\n    static function () {\n\n        // index\n        Route::get('', ['uses' => 'ObjectGroup\\IndexController@index', 'as' => 'index']);\n        Route::post('set-order/{objectGroup}', ['uses' => 'ObjectGroup\\IndexController@setOrder', 'as' => 'set-order']);\n\n        // edit\n        Route::get('edit/{objectGroup}', ['uses' => 'ObjectGroup\\EditController@edit', 'as' => 'edit']);\n        Route::post('update/{objectGroup}', ['uses' => 'ObjectGroup\\EditController@update', 'as' => 'update']);\n\n        // delete\n        Route::get('delete/{objectGroup}', ['uses' => 'ObjectGroup\\DeleteController@delete', 'as' => 'delete']);\n        Route::post('destroy/{objectGroup}', ['uses' => 'ObjectGroup\\DeleteController@destroy', 'as' => 'destroy']);\n    }\n);\n\n/**\n * Help Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'help', 'as' => 'help.'],\n    static function () {\n        Route::get('{route}', ['uses' => 'HelpController@show', 'as' => 'show']);\n    }\n);\n\n/**\n * JScript Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'v1/jscript', 'as' => 'javascript.'],\n    static function () {\n        Route::get('variables', ['uses' => 'JavascriptController@variables', 'as' => 'variables']);\n        Route::get('accounts', ['uses' => 'JavascriptController@accounts', 'as' => 'accounts']);\n        Route::get('currencies', ['uses' => 'JavascriptController@currencies', 'as' => 'currencies']);\n    }\n);\n\n/**\n * JScript Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'v2/jscript', 'as' => 'javascript.v2.'],\n    static function () {\n        Route::get('variables', ['uses' => 'JavascriptController@variablesV2', 'as' => 'variables']);\n    }\n);\n\n/**\n * JSON Controller(s).\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'json', 'as' => 'json.'],\n    static function () {\n\n        // budgets:\n        Route::get(\n            'budget/total-budgeted/{currency}/{start_date}/{end_date}',\n            ['uses' => 'Json\\BudgetController@getBudgetInformation', 'as' => 'budget.total-budgeted']\n        );\n        // boxes\n        Route::get('box/balance', ['uses' => 'Json\\BoxController@balance', 'as' => 'box.balance']);\n        Route::get('box/available', ['uses' => 'Json\\BoxController@available', 'as' => 'box.available']);\n        Route::get('box/net-worth', ['uses' => 'Json\\BoxController@netWorth', 'as' => 'box.net-worth']);\n\n        // rules\n        Route::get('trigger', ['uses' => 'Json\\RuleController@trigger', 'as' => 'trigger']);\n        Route::get('action', ['uses' => 'Json\\RuleController@action', 'as' => 'action']);\n\n        // front page\n        Route::get('frontpage/piggy-banks', ['uses' => 'Json\\FrontpageController@piggyBanks', 'as' => 'fp.piggy-banks']);\n\n        // currency conversion:\n        Route::get('rate/{fromCurrencyCode}/{toCurrencyCode}/{date}', ['uses' => 'Json\\ExchangeController@getRate', 'as' => 'rate']);\n\n        // intro things:\n        Route::any('intro/finished/{route}/{specificPage?}', ['uses' => 'Json\\IntroController@postFinished', 'as' => 'intro.finished']);\n        Route::post('intro/enable/{route}/{specificPage?}', ['uses' => 'Json\\IntroController@postEnable', 'as' => 'intro.enable']);\n        Route::get('intro/{route}/{specificPage?}', ['uses' => 'Json\\IntroController@getIntroSteps', 'as' => 'intro']);\n    }\n);\n\n/**\n * NewUser Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'new-user', 'as' => 'new-user.'],\n    static function () {\n        Route::get('', ['uses' => 'NewUserController@index', 'as' => 'index']);\n        Route::post('submit', ['uses' => 'NewUserController@submit', 'as' => 'submit']);\n    }\n);\n\n/**\n * Piggy Bank Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'piggy-banks', 'as' => 'piggy-banks.'],\n    static function () {\n\n        Route::get('', ['uses' => 'PiggyBank\\IndexController@index', 'as' => 'index']);\n        Route::get('add/{piggyBank}', ['uses' => 'PiggyBank\\AmountController@add', 'as' => 'add-money']);\n        Route::get('remove/{piggyBank}', ['uses' => 'PiggyBank\\AmountController@remove', 'as' => 'remove-money']);\n        Route::get('add-money/{piggyBank}', ['uses' => 'PiggyBank\\AmountController@addMobile', 'as' => 'add-money-mobile']);\n        Route::get('remove-money/{piggyBank}', ['uses' => 'PiggyBank\\AmountController@removeMobile', 'as' => 'remove-money-mobile']);\n        Route::get('create', ['uses' => 'PiggyBank\\CreateController@create', 'as' => 'create']);\n        Route::get('edit/{piggyBank}', ['uses' => 'PiggyBank\\EditController@edit', 'as' => 'edit']);\n        Route::get('delete/{piggyBank}', ['uses' => 'PiggyBank\\DeleteController@delete', 'as' => 'delete']);\n        Route::get('show/{piggyBank}', ['uses' => 'PiggyBank\\ShowController@show', 'as' => 'show']);\n        Route::post('store', ['uses' => 'PiggyBank\\CreateController@store', 'as' => 'store']);\n        Route::post('update/{piggyBank}', ['uses' => 'PiggyBank\\EditController@update', 'as' => 'update']);\n        Route::post('destroy/{piggyBank}', ['uses' => 'PiggyBank\\DeleteController@destroy', 'as' => 'destroy']);\n        Route::post('add/{piggyBank}', ['uses' => 'PiggyBank\\AmountController@postAdd', 'as' => 'add']);\n        Route::post('remove/{piggyBank}', ['uses' => 'PiggyBank\\AmountController@postRemove', 'as' => 'remove']);\n\n        Route::post('set-order/{piggyBank}', ['uses' => 'PiggyBank\\IndexController@setOrder', 'as' => 'set-order']);\n    }\n);\n\n/**\n * Preferences Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'preferences', 'as' => 'preferences.'],\n    static function () {\n        Route::get('', ['uses' => 'PreferencesController@index', 'as' => 'index']);\n        Route::post('', ['uses' => 'PreferencesController@postIndex', 'as' => 'update']);\n    }\n);\n\n/**\n * Profile Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'profile', 'as' => 'profile.'],\n    static function () {\n        Route::get('', ['uses' => 'ProfileController@index', 'as' => 'index']);\n        Route::get('change-email', ['uses' => 'ProfileController@changeEmail', 'as' => 'change-email']);\n        Route::get('change-password', ['uses' => 'ProfileController@changePassword', 'as' => 'change-password']);\n        Route::get('delete-account', ['uses' => 'ProfileController@deleteAccount', 'as' => 'delete-account']);\n\n        Route::post('delete-account', ['uses' => 'ProfileController@postDeleteAccount', 'as' => 'delete-account.post']);\n        Route::post('change-password', ['uses' => 'ProfileController@postChangePassword', 'as' => 'change-password.post']);\n        Route::post('change-email', ['uses' => 'ProfileController@postChangeEmail', 'as' => 'change-email.post']);\n        Route::post('regenerate', ['uses' => 'ProfileController@regenerate', 'as' => 'regenerate']);\n\n        Route::get('logout-others', ['uses' => 'ProfileController@logoutOtherSessions', 'as' => 'logout-others']);\n        Route::post('logout-others', ['uses' => 'ProfileController@postLogoutOtherSessions', 'as' => 'logout-others.post']);\n\n        // new 2FA routes\n        Route::post('enable2FA', ['uses' => 'ProfileController@enable2FA', 'as' => 'enable2FA']);\n        Route::get('2fa/code', ['uses' => 'ProfileController@code', 'as' => 'code']);\n        Route::post('2fa/code', ['uses' => 'ProfileController@postCode', 'as' => 'code.store']);\n        Route::get('/delete-code', ['uses' => 'ProfileController@deleteCode', 'as' => 'delete-code']);\n        Route::get('2fa/new-codes', ['uses' => 'ProfileController@newBackupCodes', 'as' => 'new-backup-codes']);\n\n    }\n);\n\n/**\n * Recurring Transactions Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'recurring', 'as' => 'recurring.'],\n    static function () {\n        Route::get('', ['uses' => 'Recurring\\IndexController@index', 'as' => 'index']);\n\n        Route::get('show/{recurrence}', ['uses' => 'Recurring\\ShowController@show', 'as' => 'show']);\n        Route::get('create', ['uses' => 'Recurring\\CreateController@create', 'as' => 'create']);\n        Route::get('create-from-transaction/{tj}', ['uses' => 'Recurring\\CreateController@createFromJournal', 'as' => 'create-from-journal']);\n        Route::get('edit/{recurrence}', ['uses' => 'Recurring\\EditController@edit', 'as' => 'edit']);\n        Route::get('delete/{recurrence}', ['uses' => 'Recurring\\DeleteController@delete', 'as' => 'delete']);\n\n        Route::post('store', ['uses' => 'Recurring\\CreateController@store', 'as' => 'store']);\n        Route::post('update/{recurrence}', ['uses' => 'Recurring\\EditController@update', 'as' => 'update']);\n        Route::post('destroy/{recurrence}', ['uses' => 'Recurring\\DeleteController@destroy', 'as' => 'destroy']);\n\n        // JSON routes:\n        Route::get('events', ['uses' => 'Json\\RecurrenceController@events', 'as' => 'events']);\n        Route::get('suggest', ['uses' => 'Json\\RecurrenceController@suggest', 'as' => 'suggest']);\n    }\n);\n\n/**\n * Report Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'reports', 'as' => 'reports.'],\n    static function () {\n        Route::get('', ['uses' => 'ReportController@index', 'as' => 'index']);\n        Route::get('options/{reportType}', ['uses' => 'ReportController@options', 'as' => 'options']);\n        Route::get('default/{accountList}/{start_date}/{end_date}', ['uses' => 'ReportController@defaultReport', 'as' => 'report.default']);\n        Route::get('audit/{accountList}/{start_date}/{end_date}', ['uses' => 'ReportController@auditReport', 'as' => 'report.audit']);\n        Route::get('category/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'ReportController@categoryReport', 'as' => 'report.category']);\n        Route::get('budget/{accountList}/{budgetList}/{start_date}/{end_date}', ['uses' => 'ReportController@budgetReport', 'as' => 'report.budget']);\n        Route::get('tag/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'ReportController@tagReport', 'as' => 'report.tag']);\n        Route::get('double/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'ReportController@doubleReport', 'as' => 'report.double']);\n\n        Route::post('', ['uses' => 'ReportController@postIndex', 'as' => 'index.post']);\n    }\n);\n\n/**\n * Report Data AccountController.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/account', 'as' => 'report-data.account.'],\n    static function () {\n        Route::get('general/{accountList}/{start_date}/{end_date}', ['uses' => 'AccountController@general', 'as' => 'general']);\n    }\n);\n\n/**\n * Report Data Bill Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/bill', 'as' => 'report-data.bills.'],\n    static function () {\n        Route::get('overview/{accountList}/{start_date}/{end_date}', ['uses' => 'BillController@overview', 'as' => 'overview']);\n    }\n);\n\n/**\n * Report Double Data Expense / Revenue Account Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/double', 'as' => 'report-data.double.'],\n    static function () {\n\n        // spent + earned per combination.\n        Route::get('operations/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleController@operations', 'as' => 'operations']);\n        Route::get('ops-asset/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleController@operationsPerAsset', 'as' => 'ops-asset']);\n\n        Route::get('top-expenses/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleController@topExpenses', 'as' => 'top-expenses']);\n        Route::get('avg-expenses/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleController@avgExpenses', 'as' => 'avg-expenses']);\n\n        Route::get('top-income/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleController@topIncome', 'as' => 'top-income']);\n        Route::get('avg-income/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleController@avgIncome', 'as' => 'avg-income']);\n    }\n);\n\n/**\n * Report Data Income/Expenses Controller (called financial operations).\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/operations',\n     'as'         => 'report-data.operations.',],\n    static function () {\n        Route::get('operations/{accountList}/{start_date}/{end_date}', ['uses' => 'OperationsController@operations', 'as' => 'operations']);\n        Route::get('income/{accountList}/{start_date}/{end_date}', ['uses' => 'OperationsController@income', 'as' => 'income']);\n        Route::get('expenses/{accountList}/{start_date}/{end_date}', ['uses' => 'OperationsController@expenses', 'as' => 'expenses']);\n    }\n);\n\n/**\n * Report Data Category Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/category',\n     'as'         => 'report-data.category.',],\n    static function () {\n\n// See reference nr. 3\n        Route::get('operations/{accountList}/{start_date}/{end_date}', ['uses' => 'CategoryController@operations', 'as' => 'operations']);\n        Route::get('income/{accountList}/{start_date}/{end_date}', ['uses' => 'CategoryController@income', 'as' => 'income']);\n        Route::get('expenses/{accountList}/{start_date}/{end_date}', ['uses' => 'CategoryController@expenses', 'as' => 'expenses']);\n\n        Route::get('accounts/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'CategoryController@accounts', 'as' => 'accounts']);\n        Route::get('categories/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'CategoryController@categories', 'as' => 'categories']);\n        Route::get(\n            'account-per-category/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryController@accountPerCategory', 'as' => 'account-per-category']\n        );\n\n        Route::get('top-expenses/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'CategoryController@topExpenses', 'as' => 'top-expenses']);\n        Route::get('avg-expenses/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'CategoryController@avgExpenses', 'as' => 'avg-expenses']);\n\n        Route::get('top-income/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'CategoryController@topIncome', 'as' => 'top-income']);\n        Route::get('avg-income/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'CategoryController@avgIncome', 'as' => 'avg-income']);\n    }\n);\n\n/**\n * Report Data TAG Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/tag',\n     'as'         => 'report-data.tag.',],\n    static function () {\n        Route::get('accounts/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@accounts', 'as' => 'accounts']);\n        Route::get('tags/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@tags', 'as' => 'tags']);\n        Route::get('account-per-tag/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@accountPerTag', 'as' => 'account-per-tag']);\n\n        Route::get('top-expenses/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@topExpenses', 'as' => 'top-expenses']);\n        Route::get('avg-expenses/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@avgExpenses', 'as' => 'avg-expenses']);\n\n        Route::get('top-income/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@topIncome', 'as' => 'top-income']);\n        Route::get('avg-income/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@avgIncome', 'as' => 'avg-income']);\n    }\n);\n\n/**\n * Report Data Balance Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/balance', 'as' => 'report-data.balance.'],\n    static function () {\n        Route::get('general/{accountList}/{start_date}/{end_date}', ['uses' => 'BalanceController@general', 'as' => 'general']);\n    }\n);\n\n/**\n * Report Data Budget Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/budget', 'as' => 'report-data.budget.'],\n    static function () {\n        Route::get('general/{accountList}/{start_date}/{end_date}/', ['uses' => 'BudgetController@general', 'as' => 'general']);\n// See reference nr. 4\n        Route::get('period/{accountList}/{start_date}/{end_date}', ['uses' => 'BudgetController@period', 'as' => 'period']);\n\n        Route::get('accounts/{accountList}/{budgetList}/{start_date}/{end_date}', ['uses' => 'BudgetController@accounts', 'as' => 'accounts']);\n        Route::get('budgets/{accountList}/{budgetList}/{start_date}/{end_date}', ['uses' => 'BudgetController@budgets', 'as' => 'budgets']);\n        Route::get(\n            'account-per-budget/{accountList}/{budgetList}/{start_date}/{end_date}',\n            ['uses' => 'BudgetController@accountPerBudget', 'as' => 'account-per-budget']\n        );\n        Route::get('top-expenses/{accountList}/{budgetList}/{start_date}/{end_date}', ['uses' => 'BudgetController@topExpenses', 'as' => 'top-expenses']);\n        Route::get('avg-expenses/{accountList}/{budgetList}/{start_date}/{end_date}', ['uses' => 'BudgetController@avgExpenses', 'as' => 'avg-expenses']);\n    }\n);\n\n/**\n * Rules Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'rules', 'as' => 'rules.'],\n    static function () {\n\n    // create controller\n        Route::get('create/{ruleGroup?}', ['uses' => 'Rule\\CreateController@create', 'as' => 'create']);\n        Route::get('create-from-bill/{bill}', ['uses' => 'Rule\\CreateController@createFromBill', 'as' => 'create-from-bill']);\n        Route::get('create-from-journal/{tj}', ['uses' => 'Rule\\CreateController@createFromJournal', 'as' => 'create-from-journal']);\n        Route::post('store', ['uses' => 'Rule\\CreateController@store', 'as' => 'store']);\n        Route::post('duplicate', ['uses' => 'Rule\\CreateController@duplicate', 'as' => 'duplicate']);\n\n        // delete controller\n        Route::get('delete/{rule}', ['uses' => 'Rule\\DeleteController@delete', 'as' => 'delete']);\n        Route::post('destroy/{rule}', ['uses' => 'Rule\\DeleteController@destroy', 'as' => 'destroy']);\n\n        // index controller\n        Route::get('', ['uses' => 'Rule\\IndexController@index', 'as' => 'index']);\n\n        Route::post('move-rule/{rule}/{ruleGroup}', ['uses' => 'Rule\\IndexController@moveRule', 'as' => 'move-rule']);\n        // select controller\n        Route::get('test', ['uses' => 'Rule\\SelectController@testTriggers', 'as' => 'test-triggers']);\n        Route::get('test-rule/{rule}', ['uses' => 'Rule\\SelectController@testTriggersByRule', 'as' => 'test-triggers-rule']);\n        Route::get('search/{rule}', ['uses' => 'Rule\\IndexController@search', 'as' => 'search']);\n        Route::get('select/{rule}', ['uses' => 'Rule\\SelectController@selectTransactions', 'as' => 'select-transactions']);\n        Route::post('execute/{rule}', ['uses' => 'Rule\\SelectController@execute', 'as' => 'execute']);\n\n        // edit controller\n        Route::get('edit/{rule}', ['uses' => 'Rule\\EditController@edit', 'as' => 'edit']);\n        Route::post('update/{rule}', ['uses' => 'Rule\\EditController@update', 'as' => 'update']);\n    }\n);\n\n/**\n * Rule Groups Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'rule-groups', 'as' => 'rule-groups.'],\n    static function () {\n        Route::get('create', ['uses' => 'RuleGroup\\CreateController@create', 'as' => 'create']);\n        Route::get('edit/{ruleGroup}', ['uses' => 'RuleGroup\\EditController@edit', 'as' => 'edit']);\n        Route::get('delete/{ruleGroup}', ['uses' => 'RuleGroup\\DeleteController@delete', 'as' => 'delete']);\n\n        // new route to move rule groups:\n        Route::post('move', ['uses' => 'RuleGroup\\EditController@moveGroup', 'as' => 'move']);\n\n        Route::get('select/{ruleGroup}', ['uses' => 'RuleGroup\\ExecutionController@selectTransactions', 'as' => 'select-transactions']);\n        Route::post('store', ['uses' => 'RuleGroup\\CreateController@store', 'as' => 'store']);\n        Route::post('update/{ruleGroup}', ['uses' => 'RuleGroup\\EditController@update', 'as' => 'update']);\n        Route::post('destroy/{ruleGroup}', ['uses' => 'RuleGroup\\DeleteController@destroy', 'as' => 'destroy']);\n        Route::post('execute/{ruleGroup}', ['uses' => 'RuleGroup\\ExecutionController@execute', 'as' => 'execute']);\n    }\n);\n\n/**\n * Search Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'search', 'as' => 'search.'],\n    static function () {\n        Route::get('', ['uses' => 'SearchController@index', 'as' => 'index']);\n        Route::any('search', ['uses' => 'SearchController@search', 'as' => 'search']);\n    }\n);\n\n/**\n * Tag Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'tags', 'as' => 'tags.'],\n    static function () {\n        Route::get('', ['uses' => 'TagController@index', 'as' => 'index']);\n        Route::get('create', ['uses' => 'TagController@create', 'as' => 'create']);\n\n        Route::get('show/{tagOrId}/all', ['uses' => 'TagController@showAll', 'as' => 'show.all']);\n        Route::get('show/{tagOrId}/{start_date?}/{end_date?}', ['uses' => 'TagController@show', 'as' => 'show']);\n\n        Route::get('edit/{tag}', ['uses' => 'TagController@edit', 'as' => 'edit']);\n        Route::get('delete/{tag}', ['uses' => 'TagController@delete', 'as' => 'delete']);\n\n        Route::post('store', ['uses' => 'TagController@store', 'as' => 'store']);\n        Route::post('update/{tag}', ['uses' => 'TagController@update', 'as' => 'update']);\n        Route::post('destroy/{tag}', ['uses' => 'TagController@destroy', 'as' => 'destroy']);\n        Route::post('mass-destroy', ['uses' => 'TagController@massDestroy', 'as' => 'mass-destroy']);\n    }\n);\n\n/**\n * Transaction Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'transactions', 'as' => 'transactions.'],\n    static function () {\n\n    // show groups:\n// See reference nr. 5\n        Route::get('{what}/all', ['uses' => 'Transaction\\IndexController@indexAll', 'as' => 'index.all'])->where(\n            ['what' => 'withdrawal|deposit|transfers|transfer']\n        );\n\n        Route::get('{what}/{start_date?}/{end_date?}', ['uses' => 'Transaction\\IndexController@index', 'as' => 'index'])->where(\n            ['what' => 'withdrawal|deposit|transfers|transfer']\n        );\n\n        // create group:\n        Route::get('create/{objectType}', ['uses' => 'Transaction\\CreateController@create', 'as' => 'create']);\n        Route::post('store', ['uses' => 'Transaction\\CreateController@store', 'as' => 'store']);\n\n        // clone group\n        Route::post('clone', ['uses' => 'Transaction\\CreateController@cloneGroup', 'as' => 'clone']);\n\n        // edit group\n        Route::get('edit/{transactionGroup}', ['uses' => 'Transaction\\EditController@edit', 'as' => 'edit']);\n        Route::post('update', ['uses' => 'Transaction\\EditController@update', 'as' => 'update']);\n\n        // delete group\n        Route::get('delete/{transactionGroup}', ['uses' => 'Transaction\\DeleteController@delete', 'as' => 'delete']);\n        Route::post('destroy/{transactionGroup}', ['uses' => 'Transaction\\DeleteController@destroy', 'as' => 'destroy']);\n\n        Route::get('show/{transactionGroup}', ['uses' => 'Transaction\\ShowController@show', 'as' => 'show']);\n        Route::get('debug/{transactionGroup}', ['uses' => 'Transaction\\ShowController@debugShow', 'as' => 'debug']);\n    }\n);\n\n/**\n * Transaction Mass Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Transaction', 'prefix' => 'transactions/mass', 'as' => 'transactions.mass.'],\n    static function () {\n        Route::get('edit/{journalList}', ['uses' => 'MassController@edit', 'as' => 'edit']);\n        Route::get('delete/{journalList}', ['uses' => 'MassController@delete', 'as' => 'delete']);\n        Route::post('update', ['uses' => 'MassController@update', 'as' => 'update']);\n        Route::post('destroy', ['uses' => 'MassController@destroy', 'as' => 'destroy']);\n    }\n);\n\n/**\n * Transaction Bulk Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Transaction', 'prefix' => 'transactions/bulk', 'as' => 'transactions.bulk.'],\n    static function () {\n        Route::get('edit/{journalList}', ['uses' => 'BulkController@edit', 'as' => 'edit']);\n        Route::post('update', ['uses' => 'BulkController@update', 'as' => 'update']);\n    }\n);\n\n/**\n * Transaction Convert Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Transaction', 'prefix' => 'transactions/convert',\n     'as'         => 'transactions.convert.',],\n    static function () {\n        Route::get('{transactionType}/{transactionGroup}', ['uses' => 'ConvertController@index', 'as' => 'index']);\n        Route::post('{transactionType}/{transactionGroup}', ['uses' => 'ConvertController@postIndex', 'as' => 'index.post']);\n    }\n);\n\n/**\n * Transaction Link Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Transaction', 'prefix' => 'transactions/link', 'as' => 'transactions.link.'],\n    static function () {\n        Route::get('modal/{tj}', ['uses' => 'LinkController@modal', 'as' => 'modal']);\n\n// See reference nr. 6\n        Route::post('store/{tj}', ['uses' => 'LinkController@store', 'as' => 'store']);\n        Route::get('delete/{journalLink}', ['uses' => 'LinkController@delete', 'as' => 'delete']);\n        Route::get('switch/{journalLink}', ['uses' => 'LinkController@switchLink', 'as' => 'switch']);\n\n        Route::post('destroy/{journalLink}', ['uses' => 'LinkController@destroy', 'as' => 'destroy']);\n    }\n);\n\n/**\n * Report Popup Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Popup', 'prefix' => 'popup', 'as' => 'popup.'],\n    static function () {\n        Route::get('general', ['uses' => 'ReportController@general', 'as' => 'general']);\n    }\n);\n\n/*\n * Webhooks management\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Webhooks', 'prefix' => 'webhooks', 'as' => 'webhooks.'],\n    static function () {\n        Route::get('index', ['uses' => 'IndexController@index', 'as' => 'index']);\n    }\n);\n\n/**\n * For the admin routes, the user must be logged in and have the role of 'owner'.\n */\nRoute::group(\n    ['middleware' => 'admin', 'namespace' => 'FireflyIII\\Http\\Controllers\\Admin', 'prefix' => 'admin', 'as' => 'admin.'],\n    static function () {\n\n    // admin home\n        Route::get('', ['uses' => 'HomeController@index', 'as' => 'index']);\n        Route::post('test-message', ['uses' => 'HomeController@testMessage', 'as' => 'test-message']);\n\n        // check for updates?\n        Route::get('update-check', ['uses' => 'UpdateController@index', 'as' => 'update-check']);\n        Route::any('update-check/manual', ['uses' => 'UpdateController@updateCheck', 'as' => 'update-check.manual']);\n        Route::post('update-check', ['uses' => 'UpdateController@post', 'as' => 'update-check.post']);\n\n        // user manager\n        Route::get('users', ['uses' => 'UserController@index', 'as' => 'users']);\n        Route::get('users/edit/{user}', ['uses' => 'UserController@edit', 'as' => 'users.edit']);\n        Route::get('users/delete/{user}', ['uses' => 'UserController@delete', 'as' => 'users.delete']);\n        Route::get('users/show/{user}', ['uses' => 'UserController@show', 'as' => 'users.show']);\n\n        Route::post('users/update/{user}', ['uses' => 'UserController@update', 'as' => 'users.update']);\n        Route::post('users/destroy/{user}', ['uses' => 'UserController@destroy', 'as' => 'users.destroy']);\n\n        // journal links manager\n        Route::get('links', ['uses' => 'LinkController@index', 'as' => 'links.index']);\n        Route::get('links/create', ['uses' => 'LinkController@create', 'as' => 'links.create']);\n        Route::get('links/show/{linkType}', ['uses' => 'LinkController@show', 'as' => 'links.show']);\n        Route::get('links/edit/{linkType}', ['uses' => 'LinkController@edit', 'as' => 'links.edit']);\n        Route::get('links/delete/{linkType}', ['uses' => 'LinkController@delete', 'as' => 'links.delete']);\n\n        Route::post('links/store', ['uses' => 'LinkController@store', 'as' => 'links.store']);\n        Route::post('links/update/{linkType}', ['uses' => 'LinkController@update', 'as' => 'links.update']);\n        Route::post('links/destroy/{linkType}', ['uses' => 'LinkController@destroy', 'as' => 'links.destroy']);\n\n        // FF configuration:\n        Route::get('configuration', ['uses' => 'ConfigurationController@index', 'as' => 'configuration.index']);\n        Route::post('configuration', ['uses' => 'ConfigurationController@postIndex', 'as' => 'configuration.index.post']);\n    }\n);\n"], "fixing_code": ["{% extends \"./v1/layout/guest\" %}\n{% block content %}\n    {% if IS_DEMO_SITE %}\n        <div class=\"row\">\n            <div class=\"col-lg-12\">\n                <p class=\"well\">\n                    Welcome to the Firefly III demonstration website!<br/>\n                    <br/>\n                    To log in, please use email address <strong>{{ DEMO_USERNAME }}</strong> with password <strong>{{ DEMO_PASSWORD }}</strong>\n                </p>\n            </div>\n        </div>\n    {% endif %}\n\n    {# SUCCESS MESSAGE (ALWAYS SINGULAR) #}\n    {% if Session.has('success') %}\n        <div class=\"alert alert-success alert-dismissible\" role=\"alert\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"alert\">\n                <span>&times;</span><span class=\"sr-only\">{{ 'close'|_ }}</span>\n            </button>\n            <strong>{{ 'flash_success'|_ }}</strong> {{ session('success') }}\n        </div>\n    {% endif %}\n\n\n    {% if errors.count > 0 %}\n        <div class=\"row\">\n            <div class=\"col-lg-12\">\n                <div class=\"alert alert-danger alert-dismissible\" role=\"alert\">\n                    <button type=\"button\" class=\"close\" data-dismiss=\"alert\"><span>&times;</span><span class=\"sr-only\">{{ 'close'|_ }}</span>\n                    </button>\n                    <strong>{{ 'flash_error'|_ }}</strong> {{ errors.first }}\n                </div>\n            </div>\n        </div>\n    {% endif %}\n\n    {% if session('logoutMessage') %}\n        <div class=\"row\">\n            <div class=\"col-lg-12\">\n                <div class=\"alert alert-info alert-dismissible\" role=\"alert\">\n                    <button type=\"button\" class=\"close\" data-dismiss=\"alert\"><span>&times;</span><span class=\"sr-only\">{{ 'close'|_ }}</span>\n                    </button>\n                    {{ session('logoutMessage') }}\n                </div>\n            </div>\n        </div>\n    {% endif %}\n\n    {# LDAP warning #}\n    {% if ldapWarning %}\n    <div class=\"row\">\n        <div class=\"col-lg-12\">\n            <div class=\"alert alert-danger alert-dismissible\" role=\"alert\">\n                <a target=\"_blank\" href=\"https://docs.firefly-iii.org/firefly-iii/advanced-installation/authentication/#ldap\">Please upgrade LDAP configuration</a>\n            </div>\n        </div>\n    </div>\n    {% endif %}\n\n    <div class=\"login-box-body\">\n        <p class=\"login-box-msg\">{{ 'sign_in_to_start'|_ }}</p>\n\n        <form action=\"{{ route('login') }}\" method=\"post\">\n            <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\"/>\n\n            <div class=\"form-group has-feedback\">\n                {% if config('firefly.authentication_guard') == 'web' %}\n                    <input type=\"email\" autocomplete=\"email\" name=\"email\" value=\"{% if not IS_DEMO_SITE %}{{ email }}{% else %}{{ DEMO_USERNAME }}{% endif %}\" class=\"form-control\" placeholder=\"{{ trans('form.email') }}\"/>\n                {% else %}\n                    <input type=\"text\" autocomplete=\"username\" name=\"{{ usernameField }}\" value=\"{{ email }}\" class=\"form-control\" placeholder=\"{{ trans('form.login_name') }}\"/>\n                {% endif %}\n            </div>\n            <div class=\"form-group has-feedback\">\n                <input type=\"password\" name=\"password\" autocomplete=\"current-password\" {% if IS_DEMO_SITE %}value=\"{{ DEMO_PASSWORD }}\"{% endif%} class=\"form-control\" placeholder=\"{{ trans('form.password') }}\"/>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-xs-6\">\n                    <div class=\"checkbox\">\n                        <label>\n                            <input type=\"checkbox\" name=\"remember\" {% if remember %}checked=\"checked\"{% endif %} value=\"1\"> {{ trans('form.remember_me') }}\n                        </label>\n                    </div>\n                </div>\n                <div class=\"col-xs-6\">\n                    <button type=\"submit\" class=\"btn btn-primary btn-block btn-flat\">{{ 'sign_in'|_ }}</button>\n                </div>\n            </div>\n        </form>\n        {% if allowRegistration %}\n            <a href=\"{{ route('register') }}\" class=\"text-center\">{{ 'register_new_account'|_ }}</a><br>\n        {% endif %}\n        {% if allowReset %}\n            <a href=\"{{ route('password.reset.request') }}\">{{ 'forgot_my_password'|_ }}</a>\n        {% endif %}\n    </div>\n{% endblock %}\n\n", "{% extends \"./v1/layout/guest\" %}\n\n{% block content %}\n\n\n    {% if session.status %}\n        <div class=\"alert alert-success\">\n            {{ session.status }}\n        </div>\n    {% endif %}\n\n    {% if errors|length > 0 %}\n        <div class=\"alert alert-danger\">\n            <strong>{{ 'flash_error'|_ }}</strong> {{ 'problems_with_input'|_ }}<br><br>\n            <ul>\n                {% for error in errors.all %}\n                    <li>{{ error }}</li>\n                {% endfor %}\n            </ul>\n        </div>\n    {% endif %}\n    <div class=\"login-box-body\">\n        {% if session('status') %}\n            <p class=\"login-box-msg text-success\">\n                {{ session('status') }}\n            </p>\n        {% else %}\n            <p class=\"login-box-msg\">{{ 'reset_password'|_ }}</p>\n\n            <form role=\"form\" method=\"POST\" action=\"{{ route('password.email') }}\">\n                <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\"/>\n\n                <div class=\"form-group has-feedback\">\n                    <input type=\"email\" class=\"form-control\" name=\"email\" placeholder=\"{{ trans('form.email') }}\"/>\n                </div>\n\n                <div class=\"row\">\n                    <div class=\"col-xs-12\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-flat pull-right\">{{ 'reset_button'|_ }}</button>\n                    </div>\n                </div>\n\n            </form>\n\n        {% endif %}\n        <a href=\"{{ route('login') }}\">{{ 'want_to_login'|_ }}</a><br>\n        {% if allowRegistration %}\n            <a href=\"{{ route('register') }}\" class=\"text-center\">{{ 'register_new_account'|_ }}</a><br>\n        {% endif %}\n\n    </div>\n\n{% endblock %}\n", "{% extends \"./v1/layout/guest\" %}\n\n{% block content %}\n\n    {% if errors|length > 0 %}\n        <div class=\"alert alert-danger\">\n            <strong>{{ 'flash_error'|_ }}</strong> {{ 'problems_with_input'|_ }}<br><br>\n            <ul>\n                {% for error in errors.all %}\n                    <li>{{ error }}</li>\n                {% endfor %}\n            </ul>\n        </div>\n    {% endif %}\n\n    <div class=\"register-box-body\">\n        <p class=\"login-box-msg\">{{ 'reset_password'|_ }}</p>\n        <form method=\"POST\" action=\"{{ url('/password/reset') }}\">\n            <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\">\n            <input type=\"hidden\" name=\"token\" value=\"{{ token }}\">\n\n            <div class=\"form-group has-feedback\">\n                <input type=\"email\" name=\"email\" class=\"form-control\" value=\"{{ old('email') }}\" placeholder=\"{{ trans('form.email') }}\"/>\n            </div>\n\n            <div class=\"form-group has-feedback\">\n                <input type=\"password\" class=\"form-control\" placeholder=\"{{ trans('form.password') }}\" name=\"password\"/>\n            </div>\n\n            <div class=\"form-group has-feedback\">\n                <input type=\"password\" class=\"form-control\" placeholder=\"{{ trans('form.password_confirmation') }}\" name=\"password_confirmation\"/>\n            </div>\n\n\n            <div class=\"row\">\n                <div class=\"col-xs-12\">\n                    <button type=\"submit\" class=\"btn btn-primary pull-right btn-flat\">{{ 'button_reset_password'|_ }}</button>\n                </div>\n            </div>\n\n        </form>\n\n        <a href=\"{{ route('login') }}\">{{ 'want_to_login'|_ }}</a><br>\n        {% if allowRegistration %}\n            <a href=\"{{ route('register') }}\" class=\"text-center\">{{ 'register_new_account'|_ }}</a><br>\n        {% endif %}\n    </div>\n\n{% endblock %}\n", "{% extends \"./v1/layout/guest\" %}\n\n{% block content %}\n\n    {% if errors|length > 0 %}\n        <div class=\"alert alert-danger\">\n            <strong>{{ 'flash_error'|_ }}</strong> {{ 'problems_with_input'|_ }}<br><br>\n            <ul>\n                {% for error in errors.all %}\n                    <li>{{ error }}</li>\n                {% endfor %}\n            </ul>\n        </div>\n    {% endif %}\n    <div class=\"register-box-body\">\n        <p class=\"login-box-msg\">{{ 'register_new_account'|_ }}</p>\n\n        <form id=\"register\" method=\"POST\" action=\"{{ route('register') }}\">\n            <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\">\n\n            <div class=\"form-group has-feedback\">\n                <input type=\"email\" name=\"email\" value=\"{{ email }}\" class=\"form-control\" placeholder=\"{{ trans('form.email') }}\"/>\n            </div>\n            <div class=\"form-group has-feedback\">\n                <input type=\"password\" autocomplete=\"new-password\" class=\"form-control\" placeholder=\"{{ trans('form.password') }}\" name=\"password\"/>\n            </div>\n            <div class=\"form-group has-feedback\">\n                <input type=\"password\" autocomplete=\"new-password\" class=\"form-control\" placeholder=\"{{ trans('form.password_confirmation') }}\" name=\"password_confirmation\"/>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-xs-8\">\n                    <div class=\"checkbox\">\n                        <label>\n                            <input type=\"checkbox\" checked name=\"verify_password\" value=\"1\"> {{ trans('form.verify_password') }} <a data-toggle=\"modal\" data-target=\"#passwordModal\" href=\"#passwordModal\"><span class=\"fa fa-fw fa-question-circle\"></span></a>\n                        </label>\n                    </div>\n                </div>\n                <div class=\"col-xs-4\">\n                    <button class=\"btn btn-primary pull-right btn-flat\">{{ 'button_register'|_ }}</button>\n                </div>\n            </div>\n        </form>\n\n        <a href=\"{{ route('login') }}\">{{ 'want_to_login'|_ }}</a><br>\n        <a href=\"{{ route('password.reset.request') }}\">{{ 'forgot_my_password'|_ }}</a>\n    </div>\n\n    {% include 'v1.partials.password-modal' %}\n\n{% endblock %}\n", "<ul class=\"sidebar-menu\" data-widget=\"tree\">\n    <li class=\"{{ activeRouteStrict('index') }}\">\n        <a href=\"{{ route('index') }}\">\n            <span class=\"fa fa-dashboard fa-fw\"></span>\n            <span>{{ 'dashboard'|_ }}</span>\n        </a>\n    </li>\n\n    <li class=\"header text-uppercase\">{{ 'financial_control'|_ }}</li>\n\n    <li class=\"{{ activeRoutePartial('budgets') }}\" id=\"budget-menu\">\n        <a href=\"{{ route('budgets.index') }}\">\n            <span class=\"fa fa-pie-chart fa-fw\"></span>\n            <span>{{ 'budgets'|_ }}</span>\n        </a>\n    </li>\n\n    <li class=\"{{ activeRoutePartial('bills') }}\">\n        <a href=\"{{ route('bills.index') }}\">\n            <span class=\"fa fa-calendar-o fa-fw\"></span>\n            <span>{{ 'bills'|_ }}</span>\n        </a>\n    </li>\n\n    <li class=\"{{ activeRoutePartial('piggy-banks') }}\">\n        <a href=\"{{ route('piggy-banks.index') }}\">\n            <span class=\"fa fa-bullseye fa-fw\"></span>\n            <span>{{ 'piggyBanks'|_ }}</span>\n        </a>\n    </li>\n\n    <li class=\"header text-uppercase\">{{ 'accounting'|_ }}</li>\n\n    <li class=\"{{ activeRoutePartial('transactions') }} treeview\" id=\"transaction-menu\">\n        <a href=\"#\">\n            <span class=\"fa fa-exchange fa-fw\"></span>\n            <span>{{ 'transactions'|_ }}</span>\n            <span class=\"pull-right-container\">\n        <span class=\"fa fa-angle-left pull-right\"></span>\n      </span>\n        </a>\n\n        <ul class=\"treeview-menu\">\n            <li class=\"{{ activeRoutePartialObjectType('transactions', 'withdrawal') }}\">\n                <a href=\"{{ route('transactions.index', 'withdrawal') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'expenses'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartialObjectType('transactions', 'deposit') }}\">\n                <a href=\"{{ route('transactions.index', 'deposit') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'income'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartialObjectType('transactions', 'transfers') }}\">\n                <a href=\"{{ route('transactions.index', 'transfers') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'transfers'|_ }}</span>\n                </a>\n            </li>\n        </ul>\n    </li>\n\n    <li class=\"{{ activeRoutePartial('recurring') }} {{ activeRoutePartial('rules') }} treeview\">\n        <a href=\"#\">\n            <span class=\"fa fa-microchip fa-fw\"></span>\n            <span>{{ 'automation'|_ }}</span>\n            <span class=\"pull-right-container\">\n        <span class=\"fa fa-angle-left pull-right\"></span>\n      </span>\n        </a>\n\n        <ul class=\"treeview-menu\">\n            <li class=\"{{ activeRoutePartial('rules') }}\">\n                <a href=\"{{ route('rules.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'rules'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartial('recurring') }}\">\n                <a href=\"{{ route('recurring.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'recurrences'|_ }}</span>\n                </a>\n            </li>\n        </ul>\n    </li>\n\n    <li class=\"header text-uppercase\">{{ 'others'|_ }}</li>\n\n    <li class=\"{{ activeRoutePartial('accounts') }} treeview\" id=\"account-menu\">\n        <a href=\"#\">\n            <span class=\"fa fa-credit-card fa-fw\"></span>\n            <span>{{ 'accounts'|_ }}</span>\n            <span class=\"pull-right-container\">\n        <span class=\"fa fa-angle-left pull-right\"></span>\n      </span>\n        </a>\n\n        <ul class=\"treeview-menu\">\n            <li class=\"{{ activeRoutePartialObjectType('accounts', 'asset') }}\">\n                <a href=\"{{ route('accounts.index', 'asset') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'asset_accounts'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartialObjectType('accounts', 'expense') }}\">\n                <a href=\"{{ route('accounts.index', 'expense') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'expense_accounts'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartialObjectType('accounts', 'revenue') }}\">\n                <a href=\"{{ route('accounts.index', 'revenue') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'revenue_accounts'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartialObjectType('accounts', 'liabilities') }}\">\n                <a href=\"{{ route('accounts.index', 'liabilities') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'liabilities_accounts'|_ }}</span>\n                </a>\n            </li>\n        </ul>\n    </li>\n\n    <li class=\"{{ activeRoutePartial('categories') }} {{ activeRoutePartial('tags') }} {{ activeRoutePartial('groups') }} treeview\">\n        <a href=\"#\">\n            <span class=\"fa fa-tags fa-fw\"></span>\n            <span>{{ 'classification'|_ }}</span>\n            <span class=\"pull-right-container\">\n        <span class=\"fa fa-angle-left pull-right\"></span>\n      </span>\n        </a>\n\n        <ul class=\"treeview-menu\">\n            <li class=\"{{ activeRoutePartial('categories') }}\">\n                <a href=\"{{ route('categories.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'categories'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartial('tags') }}\">\n                <a href=\"{{ route('tags.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'tags'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartial('object-groups') }}\">\n                <a href=\"{{ route('object-groups.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'object_groups_menu_bar'|_ }}</span>\n                </a>\n            </li>\n        </ul>\n    </li>\n\n    <li class=\"{{ activeRoutePartial('reports') }}\" id=\"report-menu\">\n        <a href=\"{{ route('reports.index') }}\">\n            <span class=\"fa fa-bar-chart fa-fw\"></span>\n            <span>{{ 'reports'|_ }}</span>\n        </a>\n    </li>\n\n\n    {% if config('firefly.feature_flags.export') %}\n        <li class=\"{{ activeRoutePartial('export') }}\" id=\"report-menu\">\n            <a href=\"{{ route('export.index') }}\">\n                <span class=\"fa fa-upload fa-fw\"></span>\n                <span>{{ 'export_data_menu'|_ }}</span>\n            </a>\n        </li>\n    {% endif %}\n\n    <li class=\"{{ activeRoutePartial('admin') }} {{ activeRoutePartial('profile') }} {{ activeRoutePartial('preferences') }} {{ activeRoutePartial('currencies') }} treeview\"\n        id=\"option-menu\">\n        <a href=\"#\">\n            <span class=\"fa fa-sliders fa-fw\"></span>\n            <span>{{ 'options'|_ }}</span>\n            <span class=\"pull-right-container\">\n        <span class=\"fa fa-angle-left pull-right\"></span>\n      </span>\n        </a>\n\n        <ul class=\"treeview-menu\">\n            <li class=\"{{ activeRoutePartial('profile') }}\">\n                <a class=\"{{ activeRouteStrict('profile.index') }}\" href=\"{{ route('profile.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'profile'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartial('preferences') }}\">\n                <a class=\"{{ activeRouteStrict('preferences.index') }}\" href=\"{{ route('preferences.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'preferences'|_ }}</span>\n                </a>\n            </li>\n            <li class=\"{{ activeRoutePartial('currencies') }}\">\n                <a class=\"{{ activeRoutePartial('currencies') }}\" href=\"{{ route('currencies.index') }}\">\n                    <span class=\"fa fa-angle-right fa-fw\"></span>\n                    <span>{{ 'currencies'|_ }}</span>\n                </a>\n            </li>\n            {% if true == featuringWebhooks %}\n                <li class=\"{{ activeRoutePartial('webhooks') }}\">\n                    <a class=\"{{ activeRoutePartial('webhooks') }}\" href=\"{{ route('webhooks.index') }}\">\n                        <span class=\"fa fa-angle-right fa-fw\"></span>\n                        <span>{{ 'webhooks'|_ }}</span>\n                    </a>\n                </li>\n            {% endif %}\n            {% if hasRole('owner') %}\n                <li class=\"{{ activeRoutePartial('admin') }}\">\n                    <a class=\"{{ activeRoutePartial('admin') }}\" href=\"{{ route('admin.index') }}\">\n                        <span class=\"fa fa-angle-right fa-fw\"></span>\n                        <span>{{ 'administration'|_ }}</span>\n                    </a>\n                </li>\n            {% endif %}\n        </ul>\n    </li>\n\n\n    {% if 'remote_user_guard' != authGuard or '' != logoutUri %}\n        <form id=\"logout-form\" action=\"{{ route('logout') }}\" method=\"POST\" style=\"display: none;\">\n            <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\" />\n        </form>\n        <li>\n            <a href=\"{{ route('logout') }}\" onclick=\"event.preventDefault();document.getElementById('logout-form').submit();\">\n                <span class=\"fa fa-sign-out fa-fw\"></span>\n                <span>{{ 'logout'|_ }}</span>\n            </a>\n        </li>\n    {% endif %}\n</ul>\n", "{% set VUE_SCRIPT_NAME = 'profile' %}\n{% extends './v1/layout/default' %}\n\n{% block breadcrumbs %}\n    {{ Breadcrumbs.render(Route.getCurrentRoute.getName) }}\n{% endblock %}\n\n{% block content %}\n\n    <div class=\"row\">\n        <div class=\"col-lg-8 col-lg-offset-2 col-md-12 col-sm-12\">\n\n            <!-- Nav tabs -->\n            <ul class=\"nav nav-tabs\" role=\"tablist\">\n                <li role=\"presentation\" class=\"active\">\n                    <a href=\"{{ route('profile.index') }}#options\" aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\">{{ 'options'|_ }}</a>\n                </li>\n                <li role=\"presentation\">\n                    <a href=\"#cmd\" aria-controls=\"profile\" role=\"tab\" data-toggle=\"tab\">{{ 'command_line_token'|_ }}</a>\n                </li>\n                <li role=\"presentation\">\n                    <a href=\"#oauth\" aria-controls=\"messages\" role=\"tab\" data-toggle=\"tab\">{{ 'oauth'|_ }}</a>\n                </li>\n                {% if true == isInternalAuth and true == isInternalIdentity %}\n                <li role=\"presentation\">\n                    <a href=\"#mfa\" aria-controls=\"settings\" role=\"tab\" data-toggle=\"tab\">{{ 'pref_two_factor_auth'|_ }}</a>\n                </li>\n                {% endif %}\n                {% if true == isInternalAuth and true == isInternalIdentity %}\n                <li role=\"presentation\">\n                    <a href=\"#delete\" aria-controls=\"settings\" role=\"tab\" data-toggle=\"tab\">{{ 'delete_stuff_header'|_ }}</a>\n                </li>\n                {% endif %}\n            </ul>\n            <div class=\"tab-content\">\n\n                <!-- main options -->\n                <div role=\"tabpanel\" class=\"tab-pane active\" id=\"options\">\n                    <div class=\"box box-default\">\n                        <div class=\"box-body\">\n                            <p>\n                                {{ trans('firefly.user_id_is',{user: userId})|raw }}\n                            </p>\n                            <div class=\"row\">\n                                <div class=\"col-lg-6\">\n                                    <ul>\n                                        {% if true == isInternalAuth and true == isInternalIdentity %}\n                                        <li>\n                                            <a href=\"{{ route('profile.change-email') }}\">{{ 'change_your_email'|_ }}</a>\n                                        </li>\n                                        <li>\n                                            <a href=\"{{ route('profile.change-password') }}\">{{ 'change_your_password'|_ }}</a>\n                                        </li>\n                                        {% endif %}\n\n                                        <form id=\"logout-form\" action=\"{{ route('logout') }}\" method=\"POST\" style=\"display: none;\">\n                                            <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\" />\n                                        </form>\n\n                                        <li><a href=\"{{ route('logout') }}\" onclick=\"event.preventDefault();document.getElementById('logout-form').submit();\">{{ 'logout'|_ }}</a></li>\n\n                                        {% if true == isInternalAuth and true == isInternalIdentity %}\n                                        <li>\n                                            <a href=\"{{ route('profile.logout-others') }}\">{{ 'logout_other_sessions'|_ }}</a>\n                                        </li>\n                                        <li><a class=\"text-danger\"\n                                               href=\"{{ route('profile.delete-account') }}\">{{ 'delete_account'|_ }}</a>\n                                        </li>\n                                        {% endif %}\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- command line options -->\n                <div role=\"tabpanel\" class=\"tab-pane\" id=\"cmd\">\n                    <div class=\"box box-default\">\n                        <div class=\"box-body\">\n                            <p>\n                                {{ 'explain_command_line_token'|_ }}\n                            </p>\n                            <p>\n                                <input id=\"token\" type=\"text\" class=\"form-control\" name=\"token\"\n                                       value=\"{{ accessToken.data }}\"\n                                       size=\"32\" maxlength=\"32\" readonly/>\n\n                            </p>\n                            <form action=\"{{ route('profile.regenerate') }}\" method=\"post\">\n                                <p>\n\n                                    <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\"/>\n                                    <button type=\"submit\" class=\"btn btn-danger btn-xs\"><span\n                                                class=\"fa fa-refresh\"></span> {{ 'regenerate_command_line_token'|_ }}\n                                    </button>\n                                </p>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- OAuth -->\n                <div role=\"tabpanel\" class=\"tab-pane\" id=\"oauth\">\n                    <div id=\"passport_clients\"></div>\n                </div>\n\n                {% if true == isInternalAuth and true == isInternalIdentity %}\n                <!-- MFA -->\n                <div role=\"tabpanel\" class=\"tab-pane\" id=\"mfa\">\n                    <div class=\"box box-default\">\n                        <div class=\"box-body\">\n                            <p class=\"text-info\">{{ 'pref_two_factor_auth_help'|_ }}</p>\n                            {% if enabled2FA == true %}\n                                <p class=\"text-info\">\n                                    {{ trans_choice('firefly.pref_two_factor_backup_code_count', mfaBackupCount) }}\n                                </p>\n\n                                <div class=\"btn-group\">\n                                    <a class=\"btn btn-info\" href=\"{{ route('profile.code') }}\">\n                                        <span class=\"fa fa-recycle\"></span>\n                                        {{ 'pref_two_factor_auth_reset_code'|_ }}</a>\n                                    <a class=\"btn btn-default\" href=\"{{ route('profile.new-backup-codes') }}\">\n                                        <span class=\"fa fa-star\"></span>\n                                        {{ 'pref_two_factor_new_backup_codes'|_ }}</a>\n                                    <a class=\"btn btn-danger\" href=\"{{ route('profile.delete-code') }}\">\n                                        <span class=\"fa fa-trash\"></span>\n                                        {{ 'pref_two_factor_auth_disable_2fa'|_ }}</a>\n                                </div>\n                            {% else %}\n                                <p>\n                                <form action=\"{{ route('profile.enable2FA') }}\" method=\"post\">\n                                    <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\"/>\n                                    <button type=\"submit\" class=\"btn btn-info\"><span\n                                                class=\"fa fa-lock\"></span> {{ 'pref_enable_two_factor_auth'|_ }}</button>\n                                </form>\n                                </p>\n                            {% endif %}\n                        </div>\n                    </div>\n                </div>\n                {% endif %}\n\n                <!-- delete stuff -->\n                <div role=\"tabpanel\" class=\"tab-pane\" id=\"delete\">\n                    <div class=\"box box-default\">\n                        <div class=\"box-body with-border\">\n                            <div class=\"col-lg-12\">\n                                <p>\n                                    {{ 'permanent_delete_stuff'|_ }}\n                                </p>\n                                <h4>{{ 'financial_control'|_ }}</h4>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_budgets')|escape('html') }}\"\n                                            data-type=\"budgets\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-pie-chart\"></span> {{ 'delete_all_budgets'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_bills')|escape('html') }}\"\n                                            data-type=\"bills\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-calendar-o\"></span> {{ 'delete_all_bills'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_piggy_banks')|escape('html') }}\"\n                                            data-type=\"piggy_banks\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-bullseye\"></span> {{ 'delete_all_piggy_banks'|_ }}</button>\n                                </p>\n                                <h4>{{ 'automation'|_ }}</h4>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_rules')|escape('html') }}\"\n                                            data-type=\"rules\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-random\"></span> {{ 'delete_all_rules'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_recurring')|escape('html') }}\"\n                                            data-type=\"recurring\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-paint-brush\"></span> {{ 'delete_all_recurring'|_ }}</button>\n                                </p>\n\n                                <h4>{{ 'classification'|_ }}</h4>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_categories')|escape('html') }}\"\n                                            data-type=\"categories\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-bookmark\"></span> {{ 'delete_all_categories'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_tags')|escape('html') }}\"\n                                            data-type=\"tags\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-tag\"></span> {{ 'delete_all_tags'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_object_groups')|escape('html') }}\"\n                                            data-type=\"object_groups\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-envelope-o\"></span> {{ 'delete_all_object_groups'|_ }}</button>\n                                </p>\n\n                                <h4>{{ 'accounts'|_ }}</h4>\n                                <p>\n                                    <em class=\"text-danger\">{{ 'also_delete_transactions'|_ }}</em>\n                                </p>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_accounts')|escape('html') }}\"\n                                            data-type=\"accounts\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-credit-card\"></span> {{ 'delete_all_accounts'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_asset_accounts')|escape('html') }}\"\n                                            data-type=\"asset_accounts\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-money\"></span> {{ 'delete_all_asset_accounts'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_expense_accounts')|escape('html') }}\"\n                                            data-type=\"expense_accounts\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-shopping-cart\"></span> {{ 'delete_all_expense_accounts'|_ }}</button>\n                                </p>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_revenue_accounts')|escape('html') }}\"\n                                            data-type=\"revenue_accounts\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-download\"></span> {{ 'delete_all_revenue_accounts'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_liabilities')|escape('html') }}\"\n                                            data-type=\"liabilities\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-ticket\"></span> {{ 'delete_all_liabilities'|_ }}</button>\n                                </p>\n                                <h4>{{ 'transactions'|_ }}</h4>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_transactions')|escape('html') }}\"\n                                            data-type=\"transactions\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-exchange\"></span> {{ 'delete_all_transactions'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_withdrawals')|escape('html') }}\"\n                                            data-type=\"withdrawals\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-long-arrow-left\"></span> {{ 'delete_all_withdrawals'|_ }}</button>\n\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_deposits')|escape('html') }}\"\n                                            data-type=\"deposits\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-long-arrow-right\"></span> {{ 'delete_all_deposits'|_ }}</button>\n\n\n                                </p>\n                                <p>\n                                    <button type=\"button\"\n                                            data-success=\"{{ trans('firefly.deleted_all_transfers')|escape('html') }}\"\n                                            data-type=\"transfers\" class=\"confirm btn btn-danger btn-sm\"><span\n                                                class=\"fa fa-exchange\"></span> {{ 'delete_all_transfers'|_ }}</button>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n\n        </div>\n    </div>\n{% endblock %}\n{% block scripts %}\n    <script type=\"text/javascript\" nonce=\"{{ JS_NONCE }}\">\n        var deleteAPIRoute = '{{ route('api.v1.data.destroy') }}';\n        var confirmText = '{{ trans('firefly.are_you_sure')|escape('js') }}';\n        $(document).ready(function () {\n            $('.confirm').on('click', function (e) {\n                var link = $(e.currentTarget);\n                var classes = link.find('i').attr('class');\n\n                // replace icon with loading thing\n                link.prop('disabled', true);\n                link.find('i').removeClass().addClass('fa fa-spin fa-spinner');\n\n                // call API:\n                $.ajax({\n                    method: 'DELETE',\n                    url: deleteAPIRoute + '?objects=' + link.data('type'),\n                }).done(\n                    function () {\n                        // enable button again:\n                        link.prop('disabled', false);\n                        link.find('i').removeClass().addClass(classes);\n                        alert(link.data('success'));\n                    }\n                ).fail(function () {\n                    link.find('i').removeClass().addClass('fa fa-exclamation-triangle');\n                    alert('Could not delete. Sorry.');\n                });\n                return false;\n            });\n        });\n    </script>\n{% endblock %}\n", "{% extends './v2/layout/auth' %}\n{% block content %}\n\n    {# errors during registration: #}\n    {% if errors|length > 0 %}\n        <div class=\"row\">\n            <div class=\"alert alert-info alert-dismissible\">\n                <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">\u00d7</button>\n                <h5><span class=\"icon fas fa-info\"></span> {{ 'problems_with_input'|_ }}</h5>\n                <ul class=\"list-unstyled\">\n                    {% for error in errors.all %}\n                        <li>{{ error }}</li>\n                    {% endfor %}\n                </ul>\n            </div>\n        </div>\n\n    {% endif %}\n    {# default header #}\n    <div class=\"login-box\">\n        <div class=\"login-logo\">\n            <img src=\"v2/images/firefly-iii-logo-new.png\" alt=\"Firefly III\" width=\"90\"/><br />\n        </div>\n\n        <!-- /.login-logo -->\n        <div class=\"card\">\n            <div class=\"card-body login-card-body\">\n                <p class=\"login-box-msg\">{{ 'register_new_account'|_ }}</p>\n\n                <form action=\"{{ route('register') }}\" method=\"post\">\n                    <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\"/>\n                    <div class=\"input-group mb-3\">\n                        <input type=\"email\" required autocomplete=\"email\" name=\"email\" value=\"{{ email }}\" class=\"form-control\"\n                               placeholder=\"{{ trans('form.email') }}\"/>\n                        <div class=\"input-group-append\">\n                            <div class=\"input-group-text\">\n                                <span class=\"fas fa-envelope\"></span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"input-group mb-3\">\n                        <input type=\"password\" name=\"password\" required autocomplete=\"new-password\" class=\"form-control\"\n                               placeholder=\"{{ trans('form.password') }}\"/>\n                        <div class=\"input-group-append\">\n                            <div class=\"input-group-text\">\n                                <span class=\"fas fa-lock\"></span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"input-group mb-3\">\n                        <input type=\"password\" name=\"password_confirmation\" required autocomplete=\"new-password\" class=\"form-control\"\n                               placeholder=\"{{ trans('form.password_confirmation') }}\"/>\n                        <div class=\"input-group-append\">\n                            <div class=\"input-group-text\">\n                                <span class=\"fas fa-lock\"></span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"row\">\n                        <div class=\"col-12\">\n                            <div class=\"icheck-primary\">\n                                <input id=\"verify_password\" checked type=\"checkbox\" name=\"verify_password\" value=\"1\">\n                                <label for=\"verify_password\">\n                                    {{ trans('form.verify_password') }}\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"row\">\n                        <!-- /.col -->\n                        <div class=\"col-12\">\n                            <button type=\"submit\" class=\"btn btn-primary btn-block\">{{ 'button_register'|_ }}</button>\n                        </div>\n                        <!-- /.col -->\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                            <ul class=\"list-unstyled small\">\n                                <li>\n                                    <a data-toggle=\"modal\" data-target=\"#passwordModal\" href=\"#passwordModal\">\n                                        {{ 'what_is_pw_security'|_ }}\n                                    </a>\n                                </li>\n                                <li>\n                                    <a href=\"{{ route('login') }}\">{{ 'want_to_login'|_ }}</a>\n                                </li>\n                                <li>\n                                    <a href=\"{{ route('password.reset.request') }}\">{{ 'forgot_my_password'|_ }}</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </form>\n\n            </div>\n            <!-- /.login-card-body -->\n        </div>\n    </div>\n\n    {% include 'v2.partials.auth.password-modal' %}\n\n    <!-- /.login-box -->\n{% endblock %}\n{% block scripts %}\n    <script src=\"v2/js/manifest.js?v={{ FF_VERSION }}\" nonce=\"{{ JS_NONCE }}\"></script>\n    <script src=\"v2/js/vendor.js?v={{ FF_VERSION }}\" nonce=\"{{ JS_NONCE }}\"></script>\n    <script src=\"v2/js/register.js?v={{ FF_VERSION }}\" nonce=\"{{ JS_NONCE }}\"></script>\n{% endblock %}\n", "<nav class=\"main-header navbar navbar-expand navbar-white navbar-light\">\n    <!-- Left navbar links -->\n    <ul class=\"navbar-nav\">\n        <li class=\"nav-item\">\n            <a class=\"nav-link\" data-widget=\"pushmenu\" href=\"#\" role=\"button\"><span class=\"fas fa-bars\"></span></a>\n        </li>\n    </ul>\n\n    <!-- SEARCH FORM -->\n    <form class=\"form-inline ml-3\" action=\"{{ route('search.index') }}\" method=\"get\">\n        <div class=\"input-group input-group-sm\">\n            <input class=\"form-control form-control-navbar\" name=\"search\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\n            <div class=\"input-group-append\">\n                <button class=\"btn btn-navbar\" type=\"submit\">\n                    <span class=\"fas fa-search\"></span>\n                </button>\n            </div>\n        </div>\n    </form>\n\n    <!-- Right navbar links -->\n    <ul class=\"navbar-nav ml-auto\">\n        <!-- Messages Dropdown Menu -->\n        {# calendar thing, removed #}\n        <li class=\"nav-item dropdown\">\n            <a class=\"nav-link\" data-toggle=\"dropdown\" href=\"#\">\n                <span class=\"fas fa-cogs\"></span>\n            </a>\n            <div class=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n                <a href=\"{{ route('preferences.index') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-cogs mr-2\"></span> {{ 'preferences'|_ }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('currencies.index') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-euro-sign mr-2\"></span> {{ 'currencies'|_ }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('admin.index') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-envelope mr-2\"></span> {{ 'administration'|_ }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"#\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-globe mr-2\"></span> {{ 'webhooks'|_ }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('export.index') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-upload mr-2\"></span> {{ 'export_data_menu'|_ }}\n                </a>\n            </div>\n        </li>\n        <!-- Notifications Dropdown Menu -->\n        <li class=\"nav-item dropdown\">\n            <form id=\"logout-form\" action=\"{{ route('logout') }}\" method=\"POST\" style=\"display: none;\">\n                <input type=\"hidden\" name=\"_token\" value=\"{{ csrf_token() }}\" />\n            </form>\n            <a class=\"nav-link\" data-toggle=\"dropdown\" href=\"#\">\n                <span class=\"far fa-user\"></span>\n            </a>\n            <div class=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n                <a href=\"{{ route('profile.index') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-user mr-2\"></span> {{ 'profile'|_ }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('preferences.index') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-fw fa-cogs mr-2\"></span> {{ 'preferences'|_ }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('logout') }}\" class=\"dropdown-item\" onclick=\"event.preventDefault();document.getElementById('logout-form').submit();\">\n                    <span class=\"fas fa-sign-out-alt mr-2\"></span> {{ 'logout'|_ }}\n                </a>\n            </div>\n        </li>\n        <li class=\"nav-item dropdown\">\n            <a class=\"nav-link\" data-toggle=\"dropdown\" href=\"#\">\n                <span class=\"far fa-plus-square\"></span>\n            </a>\n            <div class=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n                <a href=\"{{ route('transactions.create', 'withdrawal') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-long-arrow-alt-left nav-icon\"></span> {{ 'new_withdrawal'|_ }}\n                </a>\n                <a href=\"{{ route('transactions.create', 'deposit') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-long-arrow-alt-right nav-icon\"></span> {{ 'new_deposit'|_ }}\n                </a>\n                <a href=\"{{ route('transactions.create', 'transfer') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-exchange-alt nav-icon\"></span> {{ 'new_transfer'|_ }}\n                </a>\n\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('budgets.create') }}\" class=\"dropdown-item\">\n                    <span class=\"nav-icon fas fa-chart-pie\"></span> {{ 'new_budget'|_ }}\n                </a>\n                <a href=\"{{ route('bills.create') }}\" class=\"dropdown-item\">\n                    <span class=\"nav-icon far fa-calendar-alt\"></span> {{ 'new_bill'|_ }}\n                </a>\n                <a href=\"{{ route('piggy-banks.create') }}\" class=\"dropdown-item\">\n                    <span class=\"nav-icon fas fa-piggy-bank\"></span> {{ 'new_piggy_bank'|_ }}\n                </a>\n\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('rules.create') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-random nav-icon\"></span> {{ 'new_rule'|_ }}\n                </a>\n                <a href=\"{{ route('recurring.create') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-magic nav-icon\"></span> {{ 'new_recurring_transaction'|_ }}\n                </a>\n\n                <div class=\"dropdown-divider\"></div>\n                <a href=\"{{ route('accounts.create', 'asset') }}\" class=\"dropdown-item\">\n                    <span class=\"far fa-money-bill-alt nav-icon\"></span> {{ 'new_asset_account'|_ }}\n                </a>\n                <a href=\"{{ route('accounts.create', 'liabilities') }}\" class=\"dropdown-item\">\n                    <span class=\"fas fa-funnel-dollar nav-icon\"></span> {{ 'new_liabilities_account'|_ }}\n                </a>\n            </div>\n        </li>\n        <!-- here be dragons -->\n        <li class=\"nav-item\">\n            <a class=\"nav-link\" data-widget=\"control-sidebar\" data-slide=\"true\" href=\"#\" role=\"button\" title=\"{{ 'here_be_dragons'|_ }}\">\n                <span class=\"fas fa-dragon\"></span>\n            </a>\n        </li>\n    </ul>\n</nav>\n<!-- /.navbar -->\n", "<?php\n/**\n * web.php\n * Copyright (c) 2019 james@firefly-iii.org.\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\ndeclare(strict_types=1);\n\nRoute::group(\n    ['namespace' => 'FireflyIII\\Http\\Controllers\\System',\n     'as'        => 'installer.', 'prefix' => 'install',],\n    static function () {\n        Route::get('', ['uses' => 'InstallController@index', 'as' => 'index']);\n        Route::post('runCommand', ['uses' => 'InstallController@runCommand', 'as' => 'runCommand']);\n    }\n);\n\nRoute::group(\n    ['middleware' => 'binders-only', 'namespace' => 'FireflyIII\\Http\\Controllers\\System', 'as' => 'cron.', 'prefix' => 'cron'],\n    static function () {\n        Route::get('run/{cliToken}', ['uses' => 'CronController@cron', 'as' => 'cron']);\n    }\n);\n\nRoute::group(\n    ['middleware' => 'binders-only',  'namespace' => 'FireflyIII\\Http\\Controllers\\System'],\n    static function () {\n        Route::get('offline', fn () => view('errors.offline'));\n        Route::get('health', ['uses' => 'HealthcheckController@check', 'as' => 'healthcheck']);\n    }\n);\n\n/**\n * These routes only work when the user is NOT logged in.\n */\nRoute::group(\n    ['middleware' => 'user-not-logged-in', 'namespace' => 'FireflyIII\\Http\\Controllers'],\n    static function () {\n\n    // Authentication Routes...\n        Route::get('login', ['uses' => 'Auth\\LoginController@showLoginForm', 'as' => 'login']);\n        Route::post('login', ['uses' => 'Auth\\LoginController@login', 'as' => 'login.post']);\n\n        // Registration Routes...\n        Route::get('register', ['uses' => 'Auth\\RegisterController@showRegistrationForm', 'as' => 'register']);\n        Route::post('register', 'Auth\\RegisterController@register');\n\n        // Password Reset Routes...\n        Route::get('password/reset/{token}', ['uses' => 'Auth\\ResetPasswordController@showResetForm', 'as' => 'password.reset']);\n        Route::post('password/email', ['uses' => 'Auth\\ForgotPasswordController@sendResetLinkEmail', 'as' => 'password.email']);\n        Route::post('password/reset', ['uses' => 'Auth\\ResetPasswordController@reset', 'as' => 'password.reset.post']);\n        Route::get('password/reset', ['uses' => 'Auth\\ForgotPasswordController@showLinkRequestForm', 'as' => 'password.reset.request']);\n\n        // Change email routes:\n        Route::get('profile/confirm-email-change/{token}', ['uses' => 'ProfileController@confirmEmailChange', 'as' => 'profile.confirm-email-change']);\n        Route::get('profile/undo-email-change/{token}/{oldAddressHash}', ['uses' => 'ProfileController@undoEmailChange', 'as' => 'profile.undo-email-change']);\n\n\n    }\n);\n\n/**\n * For some other routes, it is only relevant that the user is authenticated.\n */\nRoute::group(\n    ['middleware' => 'user-simple-auth', 'namespace' => 'FireflyIII\\Http\\Controllers'],\n    static function () {\n        Route::get('error', ['uses' => 'DebugController@displayError', 'as' => 'error']);\n        Route::post('logout', ['uses' => 'Auth\\LoginController@logout', 'as' => 'logout']);\n        Route::get('flush', ['uses' => 'DebugController@flush', 'as' => 'flush']);\n        //Route::get('routes', ['uses' => 'DebugController@routes', 'as' => 'routes']);\n        Route::get('debug', 'DebugController@index')->name('debug');\n    }\n);\n\n/**\n * For the two factor routes, the user must be logged in, but NOT 2FA. Account confirmation does not matter here.\n *\n */\nRoute::group(\n    ['middleware' => 'user-logged-in-no-2fa', 'prefix' => 'two-factor', 'as' => 'two-factor.', 'namespace' => 'FireflyIII\\Http\\Controllers\\Auth'],\n    static function () {\n        Route::post('submit', ['uses' => 'TwoFactorController@submitMFA', 'as' => 'submit']);\n        Route::get('lost', ['uses' => 'TwoFactorController@lostTwoFactor', 'as' => 'lost']); // can be removed when v2 is live.\n    }\n);\n\n/**\n * For all other routes, the user must be fully authenticated and have an activated account.\n */\n\n/**\n * Home Controller.\n */\nRoute::group(\n    ['middleware' => ['user-full-auth'], 'namespace' => 'FireflyIII\\Http\\Controllers'],\n    static function () {\n        Route::get('/', ['uses' => 'HomeController@index', 'as' => 'index']);\n        Route::get('/flash', ['uses' => 'DebugController@testFlash', 'as' => 'test-flash']);\n        Route::get('/home', ['uses' => 'HomeController@index', 'as' => 'home']);\n        Route::post('/daterange', ['uses' => 'HomeController@dateRange', 'as' => 'daterange']);\n    }\n);\n\n// show inactive\n\n/**\n * Account Controller.\n * DROP ME WHEN v2 hits\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'inactive-accounts', 'as' => 'accounts.'],\n    static function () {\n        Route::get('{objectType}', ['uses' => 'Account\\IndexController@inactive', 'as' => 'inactive.index'])->where(\n            'objectType',\n            'revenue|asset|expense|liabilities'\n        );\n    }\n);\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'accounts', 'as' => 'accounts.'],\n    static function () {\n\n        // show:\n        Route::get('{objectType}', ['uses' => 'Account\\IndexController@index', 'as' => 'index'])->where('objectType', 'revenue|asset|expense|liabilities');\n\n        // create\n        Route::get('create/{objectType}', ['uses' => 'Account\\CreateController@create', 'as' => 'create'])->where(\n            'objectType',\n            'revenue|asset|expense|liabilities'\n        );\n        Route::post('store', ['uses' => 'Account\\CreateController@store', 'as' => 'store']);\n\n        // edit\n        Route::get('edit/{account}', ['uses' => 'Account\\EditController@edit', 'as' => 'edit']);\n        Route::post('update/{account}', ['uses' => 'Account\\EditController@update', 'as' => 'update']);\n\n        // delete\n        Route::get('delete/{account}', ['uses' => 'Account\\DeleteController@delete', 'as' => 'delete']);\n        Route::post('destroy/{account}', ['uses' => 'Account\\DeleteController@destroy', 'as' => 'destroy']);\n\n        // show\n        Route::get('show/{account}/all', ['uses' => 'Account\\ShowController@showAll', 'as' => 'show.all']);\n        Route::get('show/{account}/{start_date?}/{end_date?}', ['uses' => 'Account\\ShowController@show', 'as' => 'show']);\n\n        // reconcile routes:\n        Route::get('reconcile/{account}/index/{start_date?}/{end_date?}', ['uses' => 'Account\\ReconcileController@reconcile', 'as' => 'reconcile']);\n        Route::post('reconcile/{account}/submit/{start_date?}/{end_date?}', ['uses' => 'Account\\ReconcileController@submit', 'as' => 'reconcile.submit']);\n\n        // reconcile JSON routes\n        Route::get('reconcile/{account}/overview/{start_date?}/{end_date?}', ['uses' => 'Json\\ReconcileController@overview', 'as' => 'reconcile.overview']);\n        Route::get(\n            'reconcile/{account}/transactions/{start_date?}/{end_date?}',\n            ['uses' => 'Json\\ReconcileController@transactions', 'as' => 'reconcile.transactions']\n        );\n    }\n);\n\n/**\n * Attachment Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'attachments', 'as' => 'attachments.'],\n    static function () {\n        Route::get('', ['uses' => 'AttachmentController@index', 'as' => 'index']);\n        Route::get('edit/{attachment}', ['uses' => 'AttachmentController@edit', 'as' => 'edit']);\n        Route::get('delete/{attachment}', ['uses' => 'AttachmentController@delete', 'as' => 'delete']);\n        Route::get('download/{attachment}', ['uses' => 'AttachmentController@download', 'as' => 'download']);\n        Route::get('view/{attachment}', ['uses' => 'AttachmentController@view', 'as' => 'view']);\n\n        Route::post('update/{attachment}', ['uses' => 'AttachmentController@update', 'as' => 'update']);\n        Route::post('destroy/{attachment}', ['uses' => 'AttachmentController@destroy', 'as' => 'destroy']);\n    }\n);\n\n/**\n * Bills Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'bills', 'as' => 'bills.'],\n    static function () {\n        Route::get('', ['uses' => 'Bill\\IndexController@index', 'as' => 'index']);\n        Route::post('rescan/{bill}', ['uses' => 'Bill\\ShowController@rescan', 'as' => 'rescan']);\n        Route::get('create', ['uses' => 'Bill\\CreateController@create', 'as' => 'create']);\n        Route::get('edit/{bill}', ['uses' => 'Bill\\EditController@edit', 'as' => 'edit']);\n        Route::get('delete/{bill}', ['uses' => 'Bill\\DeleteController@delete', 'as' => 'delete']);\n        Route::get('show/{bill}', ['uses' => 'Bill\\ShowController@show', 'as' => 'show']);\n\n        Route::post('store', ['uses' => 'Bill\\CreateController@store', 'as' => 'store']);\n        Route::post('update/{bill}', ['uses' => 'Bill\\EditController@update', 'as' => 'update']);\n        Route::post('destroy/{bill}', ['uses' => 'Bill\\DeleteController@destroy', 'as' => 'destroy']);\n\n        Route::post('set-order/{bill}', ['uses' => 'Bill\\IndexController@setOrder', 'as' => 'set-order']);\n    }\n);\n\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'subscriptions', 'as' => 'subscriptions.'],\n    static function () {\n        Route::get('', ['uses' => 'Bill\\IndexController@index', 'as' => 'index']);\n        Route::get('rescan/{bill}', ['uses' => 'Bill\\ShowController@rescan', 'as' => 'rescan']);\n        Route::get('create', ['uses' => 'Bill\\CreateController@create', 'as' => 'create']);\n        Route::get('edit/{bill}', ['uses' => 'Bill\\EditController@edit', 'as' => 'edit']);\n        Route::get('delete/{bill}', ['uses' => 'Bill\\DeleteController@delete', 'as' => 'delete']);\n        Route::get('show/{bill}', ['uses' => 'Bill\\ShowController@show', 'as' => 'show']);\n\n        Route::post('store', ['uses' => 'Bill\\CreateController@store', 'as' => 'store']);\n        Route::post('update/{bill}', ['uses' => 'Bill\\EditController@update', 'as' => 'update']);\n        Route::post('destroy/{bill}', ['uses' => 'Bill\\DeleteController@destroy', 'as' => 'destroy']);\n\n        Route::post('set-order/{bill}', ['uses' => 'Bill\\IndexController@setOrder', 'as' => 'set-order']);\n    }\n);\n\n/**\n * Budget Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'budgets', 'as' => 'budgets.'],\n    static function () {\n\n    // delete\n        Route::get('delete/{budget}', ['uses' => 'Budget\\DeleteController@delete', 'as' => 'delete']);\n        Route::post('destroy/{budget}', ['uses' => 'Budget\\DeleteController@destroy', 'as' => 'destroy']);\n\n        // create\n        Route::get('create', ['uses' => 'Budget\\CreateController@create', 'as' => 'create']);\n        Route::post('store', ['uses' => 'Budget\\CreateController@store', 'as' => 'store']);\n\n        // edit\n        Route::get('edit/{budget}', ['uses' => 'Budget\\EditController@edit', 'as' => 'edit']);\n        Route::post('update/{budget}', ['uses' => 'Budget\\EditController@update', 'as' => 'update']);\n\n        // show\n        Route::get('show/{budget}', ['uses' => 'Budget\\ShowController@show', 'as' => 'show']);\n        Route::get('show/{budget}/{budgetLimit}', ['uses' => 'Budget\\ShowController@showByBudgetLimit', 'as' => 'show.limit']);\n        Route::get('list/no-budget/all', ['uses' => 'Budget\\ShowController@noBudgetAll', 'as' => 'no-budget-all']);\n        Route::get('list/no-budget/{start_date?}/{end_date?}', ['uses' => 'Budget\\ShowController@noBudget', 'as' => 'no-budget']);\n\n        // reorder budgets\n        Route::post('reorder', ['uses' => 'Budget\\IndexController@reorder', 'as' => 'reorder']);\n\n        // index\n        Route::get('{start_date?}/{end_date?}', ['uses' => 'Budget\\IndexController@index', 'as' => 'index']);\n    }\n);\n\n/**\n * Available Budget Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'available-budgets', 'as' => 'available-budgets.'],\n    static function () {\n\n        // create\n        Route::get('create/{start_date}/{end_date}/{currency?}', ['uses' => 'Budget\\AvailableBudgetController@create', 'as' => 'create']);\n        Route::get(\n            'create-alternative/{start_date}/{end_date}',\n            ['uses' => 'Budget\\AvailableBudgetController@createAlternative', 'as' => 'create-alternative']\n        );\n        Route::post('store', ['uses' => 'Budget\\AvailableBudgetController@store', 'as' => 'store']);\n\n        // edit\n        Route::get('edit/{availableBudget}/{start_date}/{end_date}', ['uses' => 'Budget\\AvailableBudgetController@edit', 'as' => 'edit']);\n        Route::post('update/{availableBudget}/{start_date}/{end_date}', ['uses' => 'Budget\\AvailableBudgetController@update', 'as' => 'update']);\n\n        Route::post('delete', ['uses' => 'Budget\\AvailableBudgetController@delete', 'as' => 'delete']);\n    }\n);\n\n/**\n * Budget Limit Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'budget-limits', 'as' => 'budget-limits.'],\n    static function () {\n        Route::get('create/{budget}/{start_date}/{end_date}', ['uses' => 'Budget\\BudgetLimitController@create', 'as' => 'create']);\n        Route::post('store', ['uses' => 'Budget\\BudgetLimitController@store', 'as' => 'store']);\n\n        Route::post('delete/{budgetLimit}', ['uses' => 'Budget\\BudgetLimitController@delete', 'as' => 'delete']);\n\n        Route::post('update/{budgetLimit}', ['uses' => 'Budget\\BudgetLimitController@update', 'as' => 'update']);\n    }\n);\n\n/**\n * Category Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'categories', 'as' => 'categories.'],\n    static function () {\n\n    // index:\n        Route::get('', ['uses' => 'Category\\IndexController@index', 'as' => 'index']);\n\n        // create\n        Route::get('create', ['uses' => 'Category\\CreateController@create', 'as' => 'create']);\n        Route::post('store', ['uses' => 'Category\\CreateController@store', 'as' => 'store']);\n\n        // edit\n        Route::get('edit/{category}', ['uses' => 'Category\\EditController@edit', 'as' => 'edit']);\n        Route::post('update/{category}', ['uses' => 'Category\\EditController@update', 'as' => 'update']);\n\n        // delete\n        Route::get('delete/{category}', ['uses' => 'Category\\DeleteController@delete', 'as' => 'delete']);\n        Route::post('destroy/{category}', ['uses' => 'Category\\DeleteController@destroy', 'as' => 'destroy']);\n\n        // show category:\n        Route::get('show/{category}/all', ['uses' => 'Category\\ShowController@showAll', 'as' => 'show.all']);\n        Route::get('show/{category}/{start_date?}/{end_date?}', ['uses' => 'Category\\ShowController@show', 'as' => 'show']);\n\n        // no category controller:\n        Route::get('list/no-category/all', ['uses' => 'Category\\NoCategoryController@showAll', 'as' => 'no-category.all']);\n        Route::get('list/no-category/{start_date?}/{end_date?}', ['uses' => 'Category\\NoCategoryController@show', 'as' => 'no-category']);\n    }\n);\n\n/**\n * Currency Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'currencies', 'as' => 'currencies.'],\n    static function () {\n        Route::get('', ['uses' => 'CurrencyController@index', 'as' => 'index']);\n        Route::get('create', ['uses' => 'CurrencyController@create', 'as' => 'create']);\n        Route::get('edit/{currency}', ['uses' => 'CurrencyController@edit', 'as' => 'edit']);\n        Route::get('delete/{currency}', ['uses' => 'CurrencyController@delete', 'as' => 'delete']);\n        Route::post('default', ['uses' => 'CurrencyController@defaultCurrency', 'as' => 'default']);\n        Route::post('enable', ['uses' => 'CurrencyController@enableCurrency', 'as' => 'enable']);\n        Route::post('disable', ['uses' => 'CurrencyController@disableCurrency', 'as' => 'disable']);\n\n        Route::post('store', ['uses' => 'CurrencyController@store', 'as' => 'store']);\n        Route::post('update/{currency}', ['uses' => 'CurrencyController@update', 'as' => 'update']);\n        Route::post('destroy/{currency}', ['uses' => 'CurrencyController@destroy', 'as' => 'destroy']);\n    }\n);\n\n/**\n * Chart\\Account Controller (default report).\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/account', 'as' => 'chart.account.'],\n    static function () {\n        Route::get('frontpage', ['uses' => 'AccountController@frontpage', 'as' => 'frontpage']);\n        Route::get('expense', ['uses' => 'AccountController@expenseAccounts', 'as' => 'expense']);\n        Route::get('revenue', ['uses' => 'AccountController@revenueAccounts', 'as' => 'revenue']);\n        Route::get('report/{accountList}/{start_date}/{end_date}', ['uses' => 'AccountController@report', 'as' => 'report']);\n        Route::get('period/{account}/{start_date}/{end_date}', ['uses' => 'AccountController@period', 'as' => 'period']);\n\n        Route::get('income-category/{account}/all/all', ['uses' => 'AccountController@incomeCategoryAll', 'as' => 'income-category-all']);\n        Route::get('expense-category/{account}/all/all', ['uses' => 'AccountController@expenseCategoryAll', 'as' => 'expense-category-all']);\n        Route::get('expense-budget/{account}/all/all', ['uses' => 'AccountController@expenseBudgetAll', 'as' => 'expense-budget-all']);\n\n        Route::get('income-category/{account}/{start_date}/{end_date}', ['uses' => 'AccountController@incomeCategory', 'as' => 'income-category']);\n        Route::get('expense-category/{account}/{start_date}/{end_date}', ['uses' => 'AccountController@expenseCategory', 'as' => 'expense-category']);\n        Route::get('expense-budget/{account}/{start_date}/{end_date}', ['uses' => 'AccountController@expenseBudget', 'as' => 'expense-budget']);\n    }\n);\n\n/**\n * Chart\\Bill Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/bill', 'as' => 'chart.bill.'],\n    static function () {\n        Route::get('frontpage', ['uses' => 'BillController@frontpage', 'as' => 'frontpage']);\n        Route::get('single/{bill}', ['uses' => 'BillController@single', 'as' => 'single']);\n    }\n);\n\n/**\n * Chart\\Budget Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/budget', 'as' => 'chart.budget.'],\n    static function () {\n        Route::get('frontpage', ['uses' => 'BudgetController@frontpage', 'as' => 'frontpage']);\n        Route::get('period/0/{currency}/{accountList}/{start_date}/{end_date}', ['uses' => 'BudgetController@periodNoBudget', 'as' => 'period.no-budget']);\n        Route::get('period/{budget}/{currency}/{accountList}/{start_date}/{end_date}', ['uses' => 'BudgetController@period', 'as' => 'period']);\n        Route::get('budget/{budget}/{budgetLimit}', ['uses' => 'BudgetController@budgetLimit', 'as' => 'budget-limit']);\n        Route::get('budget/{budget}', ['uses' => 'BudgetController@budget', 'as' => 'budget']);\n\n        // these charts are used in budget/show:\n        Route::get('expense-category/{budget}/{budgetLimit?}', ['uses' => 'BudgetController@expenseCategory', 'as' => 'expense-category']);\n        Route::get('expense-asset/{budget}/{budgetLimit?}', ['uses' => 'BudgetController@expenseAsset', 'as' => 'expense-asset']);\n        Route::get('expense-expense/{budget}/{budgetLimit?}', ['uses' => 'BudgetController@expenseExpense', 'as' => 'expense-expense']);\n\n        // these charts are used in reports (category reports):\n        Route::get(\n            'category/expense/{accountList}/{budgetList}/{start_date}/{end_date}',\n            ['uses' => 'BudgetReportController@categoryExpense', 'as' => 'category-expense']\n        );\n        Route::get(\n            'budget/expense/{accountList}/{budgetList}/{start_date}/{end_date}',\n            ['uses' => 'BudgetReportController@budgetExpense', 'as' => 'budget-expense']\n        );\n        Route::get(\n            'source-account/expense/{accountList}/{budgetList}/{start_date}/{end_date}',\n            ['uses' => 'BudgetReportController@sourceAccountExpense', 'as' => 'source-account-expense']\n        );\n        Route::get(\n            'destination-account/expense/{accountList}/{budgetList}/{start_date}/{end_date}',\n            ['uses' => 'BudgetReportController@destinationAccountExpense', 'as' => 'destination-account-expense']\n        );\n        Route::get('operations/{accountList}/{budget}/{start_date}/{end_date}', ['uses' => 'BudgetReportController@mainChart', 'as' => 'main']);\n    }\n);\n\n/**\n * Chart\\Category Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/category', 'as' => 'chart.category.'],\n    static function () {\n        Route::get('frontpage', ['uses' => 'CategoryController@frontPage', 'as' => 'frontpage']);\n        Route::get('period/{category}', ['uses' => 'CategoryController@currentPeriod', 'as' => 'current']);\n        Route::get('period/{category}/{date}', ['uses' => 'CategoryController@specificPeriod', 'as' => 'specific']);\n        Route::get('all/{category}', ['uses' => 'CategoryController@all', 'as' => 'all']);\n        Route::get(\n            'report-period/0/{accountList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryController@reportPeriodNoCategory', 'as' => 'period.no-category']\n        );\n        Route::get('report-period/{category}/{accountList}/{start_date}/{end_date}', ['uses' => 'CategoryController@reportPeriod', 'as' => 'period']);\n\n        Route::get(\n            'category/expense/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@categoryExpense', 'as' => 'category-expense']\n        );\n        Route::get(\n            'category/income/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@categoryIncome', 'as' => 'category-income']\n        );\n        Route::get(\n            'budget/expense/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@budgetExpense', 'as' => 'budget-expense']\n        );\n        Route::get(\n            'source/expense/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@sourceExpense', 'as' => 'source-expense']\n        );\n        Route::get(\n            'source/income/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@sourceIncome', 'as' => 'source-income']\n        );\n        Route::get(\n            'dest/expense/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@destinationExpense', 'as' => 'dest-expense']\n        );\n        Route::get(\n            'dest/income/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryReportController@destinationIncome', 'as' => 'dest-income']\n        );\n        Route::get('operations/{accountList}/{category}/{start_date}/{end_date}', ['uses' => 'CategoryReportController@mainChart', 'as' => 'main']);\n    }\n);\n\n/**\n * Chart\\Tag Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/tag', 'as' => 'chart.tag.'],\n    static function () {\n        Route::get('tag/expense/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@tagExpense', 'as' => 'tag-expense']);\n        Route::get('tag/income/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@tagIncome', 'as' => 'tag-income']);\n        Route::get(\n            'category/expense/{accountList}/{tagList}/{start_date}/{end_date}',\n            ['uses' => 'TagReportController@categoryExpense', 'as' => 'category-expense']\n        );\n        Route::get('category/income/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@categoryIncome', 'as' => 'category-income']);\n        Route::get('budget/expense/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@budgetExpense', 'as' => 'budget-expense']);\n        Route::get('source/expense/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@sourceExpense', 'as' => 'source-expense']);\n        Route::get('source/income/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@sourceIncome', 'as' => 'source-income']);\n        Route::get('dest/expense/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@destinationExpense', 'as' => 'dest-expense']);\n        Route::get('dest/income/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagReportController@destinationIncome', 'as' => 'dest-income']);\n\n        Route::get('operations/{accountList}/{tag}/{start_date}/{end_date}', ['uses' => 'TagReportController@mainChart', 'as' => 'main']);\n    }\n);\n\n/**\n * Chart\\Double Controller (for expense/revenue report).\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/double', 'as' => 'chart.double.'],\n    static function () {\n        Route::get('main/{accountList}/{account}/{start_date}/{end_date}', ['uses' => 'DoubleReportController@mainChart', 'as' => 'main']);\n\n        Route::get(\n            'category/expense/{accountList}/{doubleList}/{start_date}/{end_date}',\n            ['uses' => 'DoubleReportController@categoryExpense', 'as' => 'category-expense']\n        );\n        Route::get(\n            'category/income/{accountList}/{doubleList}/{start_date}/{end_date}',\n            ['uses' => 'DoubleReportController@categoryIncome', 'as' => 'category-income']\n        );\n        Route::get(\n            'budget/expense/{accountList}/{doubleList}/{start_date}/{end_date}',\n            ['uses' => 'DoubleReportController@budgetExpense', 'as' => 'budget-expense']\n        );\n\n        Route::get('tag/expense/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleReportController@tagExpense', 'as' => 'tag-expense']);\n        Route::get('tag/income/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleReportController@tagIncome', 'as' => 'tag-income']);\n    }\n);\n\n/**\n * Chart\\PiggyBank Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/piggy-bank', 'as' => 'chart.piggy-bank.'],\n    static function () {\n        Route::get('{piggyBank}', ['uses' => 'PiggyBankController@history', 'as' => 'history']);\n    }\n);\n\n/**\n * Chart\\Report Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/report', 'as' => 'chart.report.'],\n    static function () {\n        Route::get('operations/{accountList}/{start_date}/{end_date}', ['uses' => 'ReportController@operations', 'as' => 'operations']);\n        Route::get('net-worth/{accountList}/{start_date}/{end_date}/', ['uses' => 'ReportController@netWorth', 'as' => 'net-worth']);\n    }\n);\n\n/**\n * Chart\\Transactions Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Chart', 'prefix' => 'chart/transactions', 'as' => 'chart.transactions.'],\n    static function () {\n        Route::get('categories/{objectType}/{start_date}/{end_date}', ['uses' => 'TransactionController@categories', 'as' => 'categories']);\n        Route::get('budgets/{start_date}/{end_date}', ['uses' => 'TransactionController@budgets', 'as' => 'budgets']);\n        Route::get(\n            'destinationAccounts/{objectType}/{start_date}/{end_date}',\n            ['uses' => 'TransactionController@destinationAccounts', 'as' => 'destinationAccounts']\n        );\n        Route::get('sourceAccounts/{objectType}/{start_date}/{end_date}', ['uses' => 'TransactionController@sourceAccounts', 'as' => 'sourceAccounts']);\n        //\n    }\n);\n\n/**\n * Export controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'export', 'as' => 'export.'],\n    static function () {\n\n    // index\n        Route::get('', ['uses' => 'Export\\IndexController@index', 'as' => 'index']);\n        Route::post('export', ['uses' => 'Export\\IndexController@export', 'as' => 'export']);\n    }\n);\n/**\n * Object group controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'groups', 'as' => 'object-groups.'],\n    static function () {\n\n        // index\n        Route::get('', ['uses' => 'ObjectGroup\\IndexController@index', 'as' => 'index']);\n        Route::post('set-order/{objectGroup}', ['uses' => 'ObjectGroup\\IndexController@setOrder', 'as' => 'set-order']);\n\n        // edit\n        Route::get('edit/{objectGroup}', ['uses' => 'ObjectGroup\\EditController@edit', 'as' => 'edit']);\n        Route::post('update/{objectGroup}', ['uses' => 'ObjectGroup\\EditController@update', 'as' => 'update']);\n\n        // delete\n        Route::get('delete/{objectGroup}', ['uses' => 'ObjectGroup\\DeleteController@delete', 'as' => 'delete']);\n        Route::post('destroy/{objectGroup}', ['uses' => 'ObjectGroup\\DeleteController@destroy', 'as' => 'destroy']);\n    }\n);\n\n/**\n * Help Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'help', 'as' => 'help.'],\n    static function () {\n        Route::get('{route}', ['uses' => 'HelpController@show', 'as' => 'show']);\n    }\n);\n\n/**\n * JScript Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'v1/jscript', 'as' => 'javascript.'],\n    static function () {\n        Route::get('variables', ['uses' => 'JavascriptController@variables', 'as' => 'variables']);\n        Route::get('accounts', ['uses' => 'JavascriptController@accounts', 'as' => 'accounts']);\n        Route::get('currencies', ['uses' => 'JavascriptController@currencies', 'as' => 'currencies']);\n    }\n);\n\n/**\n * JScript Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'v2/jscript', 'as' => 'javascript.v2.'],\n    static function () {\n        Route::get('variables', ['uses' => 'JavascriptController@variablesV2', 'as' => 'variables']);\n    }\n);\n\n/**\n * JSON Controller(s).\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'json', 'as' => 'json.'],\n    static function () {\n\n        // budgets:\n        Route::get(\n            'budget/total-budgeted/{currency}/{start_date}/{end_date}',\n            ['uses' => 'Json\\BudgetController@getBudgetInformation', 'as' => 'budget.total-budgeted']\n        );\n        // boxes\n        Route::get('box/balance', ['uses' => 'Json\\BoxController@balance', 'as' => 'box.balance']);\n        Route::get('box/available', ['uses' => 'Json\\BoxController@available', 'as' => 'box.available']);\n        Route::get('box/net-worth', ['uses' => 'Json\\BoxController@netWorth', 'as' => 'box.net-worth']);\n\n        // rules\n        Route::get('trigger', ['uses' => 'Json\\RuleController@trigger', 'as' => 'trigger']);\n        Route::get('action', ['uses' => 'Json\\RuleController@action', 'as' => 'action']);\n\n        // front page\n        Route::get('frontpage/piggy-banks', ['uses' => 'Json\\FrontpageController@piggyBanks', 'as' => 'fp.piggy-banks']);\n\n        // currency conversion:\n        Route::get('rate/{fromCurrencyCode}/{toCurrencyCode}/{date}', ['uses' => 'Json\\ExchangeController@getRate', 'as' => 'rate']);\n\n        // intro things:\n        Route::any('intro/finished/{route}/{specificPage?}', ['uses' => 'Json\\IntroController@postFinished', 'as' => 'intro.finished']);\n        Route::post('intro/enable/{route}/{specificPage?}', ['uses' => 'Json\\IntroController@postEnable', 'as' => 'intro.enable']);\n        Route::get('intro/{route}/{specificPage?}', ['uses' => 'Json\\IntroController@getIntroSteps', 'as' => 'intro']);\n    }\n);\n\n/**\n * NewUser Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'new-user', 'as' => 'new-user.'],\n    static function () {\n        Route::get('', ['uses' => 'NewUserController@index', 'as' => 'index']);\n        Route::post('submit', ['uses' => 'NewUserController@submit', 'as' => 'submit']);\n    }\n);\n\n/**\n * Piggy Bank Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'piggy-banks', 'as' => 'piggy-banks.'],\n    static function () {\n\n        Route::get('', ['uses' => 'PiggyBank\\IndexController@index', 'as' => 'index']);\n        Route::get('add/{piggyBank}', ['uses' => 'PiggyBank\\AmountController@add', 'as' => 'add-money']);\n        Route::get('remove/{piggyBank}', ['uses' => 'PiggyBank\\AmountController@remove', 'as' => 'remove-money']);\n        Route::get('add-money/{piggyBank}', ['uses' => 'PiggyBank\\AmountController@addMobile', 'as' => 'add-money-mobile']);\n        Route::get('remove-money/{piggyBank}', ['uses' => 'PiggyBank\\AmountController@removeMobile', 'as' => 'remove-money-mobile']);\n        Route::get('create', ['uses' => 'PiggyBank\\CreateController@create', 'as' => 'create']);\n        Route::get('edit/{piggyBank}', ['uses' => 'PiggyBank\\EditController@edit', 'as' => 'edit']);\n        Route::get('delete/{piggyBank}', ['uses' => 'PiggyBank\\DeleteController@delete', 'as' => 'delete']);\n        Route::get('show/{piggyBank}', ['uses' => 'PiggyBank\\ShowController@show', 'as' => 'show']);\n        Route::post('store', ['uses' => 'PiggyBank\\CreateController@store', 'as' => 'store']);\n        Route::post('update/{piggyBank}', ['uses' => 'PiggyBank\\EditController@update', 'as' => 'update']);\n        Route::post('destroy/{piggyBank}', ['uses' => 'PiggyBank\\DeleteController@destroy', 'as' => 'destroy']);\n        Route::post('add/{piggyBank}', ['uses' => 'PiggyBank\\AmountController@postAdd', 'as' => 'add']);\n        Route::post('remove/{piggyBank}', ['uses' => 'PiggyBank\\AmountController@postRemove', 'as' => 'remove']);\n\n        Route::post('set-order/{piggyBank}', ['uses' => 'PiggyBank\\IndexController@setOrder', 'as' => 'set-order']);\n    }\n);\n\n/**\n * Preferences Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'preferences', 'as' => 'preferences.'],\n    static function () {\n        Route::get('', ['uses' => 'PreferencesController@index', 'as' => 'index']);\n        Route::post('', ['uses' => 'PreferencesController@postIndex', 'as' => 'update']);\n    }\n);\n\n/**\n * Profile Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'profile', 'as' => 'profile.'],\n    static function () {\n        Route::get('', ['uses' => 'ProfileController@index', 'as' => 'index']);\n        Route::get('change-email', ['uses' => 'ProfileController@changeEmail', 'as' => 'change-email']);\n        Route::get('change-password', ['uses' => 'ProfileController@changePassword', 'as' => 'change-password']);\n        Route::get('delete-account', ['uses' => 'ProfileController@deleteAccount', 'as' => 'delete-account']);\n\n        Route::post('delete-account', ['uses' => 'ProfileController@postDeleteAccount', 'as' => 'delete-account.post']);\n        Route::post('change-password', ['uses' => 'ProfileController@postChangePassword', 'as' => 'change-password.post']);\n        Route::post('change-email', ['uses' => 'ProfileController@postChangeEmail', 'as' => 'change-email.post']);\n        Route::post('regenerate', ['uses' => 'ProfileController@regenerate', 'as' => 'regenerate']);\n\n        Route::get('logout-others', ['uses' => 'ProfileController@logoutOtherSessions', 'as' => 'logout-others']);\n        Route::post('logout-others', ['uses' => 'ProfileController@postLogoutOtherSessions', 'as' => 'logout-others.post']);\n\n        // new 2FA routes\n        Route::post('enable2FA', ['uses' => 'ProfileController@enable2FA', 'as' => 'enable2FA']);\n        Route::get('2fa/code', ['uses' => 'ProfileController@code', 'as' => 'code']);\n        Route::post('2fa/code', ['uses' => 'ProfileController@postCode', 'as' => 'code.store']);\n        Route::get('/delete-code', ['uses' => 'ProfileController@deleteCode', 'as' => 'delete-code']);\n        Route::get('2fa/new-codes', ['uses' => 'ProfileController@newBackupCodes', 'as' => 'new-backup-codes']);\n\n    }\n);\n\n/**\n * Recurring Transactions Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'recurring', 'as' => 'recurring.'],\n    static function () {\n        Route::get('', ['uses' => 'Recurring\\IndexController@index', 'as' => 'index']);\n\n        Route::get('show/{recurrence}', ['uses' => 'Recurring\\ShowController@show', 'as' => 'show']);\n        Route::get('create', ['uses' => 'Recurring\\CreateController@create', 'as' => 'create']);\n        Route::get('create-from-transaction/{tj}', ['uses' => 'Recurring\\CreateController@createFromJournal', 'as' => 'create-from-journal']);\n        Route::get('edit/{recurrence}', ['uses' => 'Recurring\\EditController@edit', 'as' => 'edit']);\n        Route::get('delete/{recurrence}', ['uses' => 'Recurring\\DeleteController@delete', 'as' => 'delete']);\n\n        Route::post('store', ['uses' => 'Recurring\\CreateController@store', 'as' => 'store']);\n        Route::post('update/{recurrence}', ['uses' => 'Recurring\\EditController@update', 'as' => 'update']);\n        Route::post('destroy/{recurrence}', ['uses' => 'Recurring\\DeleteController@destroy', 'as' => 'destroy']);\n\n        // JSON routes:\n        Route::get('events', ['uses' => 'Json\\RecurrenceController@events', 'as' => 'events']);\n        Route::get('suggest', ['uses' => 'Json\\RecurrenceController@suggest', 'as' => 'suggest']);\n    }\n);\n\n/**\n * Report Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'reports', 'as' => 'reports.'],\n    static function () {\n        Route::get('', ['uses' => 'ReportController@index', 'as' => 'index']);\n        Route::get('options/{reportType}', ['uses' => 'ReportController@options', 'as' => 'options']);\n        Route::get('default/{accountList}/{start_date}/{end_date}', ['uses' => 'ReportController@defaultReport', 'as' => 'report.default']);\n        Route::get('audit/{accountList}/{start_date}/{end_date}', ['uses' => 'ReportController@auditReport', 'as' => 'report.audit']);\n        Route::get('category/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'ReportController@categoryReport', 'as' => 'report.category']);\n        Route::get('budget/{accountList}/{budgetList}/{start_date}/{end_date}', ['uses' => 'ReportController@budgetReport', 'as' => 'report.budget']);\n        Route::get('tag/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'ReportController@tagReport', 'as' => 'report.tag']);\n        Route::get('double/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'ReportController@doubleReport', 'as' => 'report.double']);\n\n        Route::post('', ['uses' => 'ReportController@postIndex', 'as' => 'index.post']);\n    }\n);\n\n/**\n * Report Data AccountController.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/account', 'as' => 'report-data.account.'],\n    static function () {\n        Route::get('general/{accountList}/{start_date}/{end_date}', ['uses' => 'AccountController@general', 'as' => 'general']);\n    }\n);\n\n/**\n * Report Data Bill Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/bill', 'as' => 'report-data.bills.'],\n    static function () {\n        Route::get('overview/{accountList}/{start_date}/{end_date}', ['uses' => 'BillController@overview', 'as' => 'overview']);\n    }\n);\n\n/**\n * Report Double Data Expense / Revenue Account Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/double', 'as' => 'report-data.double.'],\n    static function () {\n\n        // spent + earned per combination.\n        Route::get('operations/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleController@operations', 'as' => 'operations']);\n        Route::get('ops-asset/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleController@operationsPerAsset', 'as' => 'ops-asset']);\n\n        Route::get('top-expenses/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleController@topExpenses', 'as' => 'top-expenses']);\n        Route::get('avg-expenses/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleController@avgExpenses', 'as' => 'avg-expenses']);\n\n        Route::get('top-income/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleController@topIncome', 'as' => 'top-income']);\n        Route::get('avg-income/{accountList}/{doubleList}/{start_date}/{end_date}', ['uses' => 'DoubleController@avgIncome', 'as' => 'avg-income']);\n    }\n);\n\n/**\n * Report Data Income/Expenses Controller (called financial operations).\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/operations',\n     'as'         => 'report-data.operations.',],\n    static function () {\n        Route::get('operations/{accountList}/{start_date}/{end_date}', ['uses' => 'OperationsController@operations', 'as' => 'operations']);\n        Route::get('income/{accountList}/{start_date}/{end_date}', ['uses' => 'OperationsController@income', 'as' => 'income']);\n        Route::get('expenses/{accountList}/{start_date}/{end_date}', ['uses' => 'OperationsController@expenses', 'as' => 'expenses']);\n    }\n);\n\n/**\n * Report Data Category Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/category',\n     'as'         => 'report-data.category.',],\n    static function () {\n\n// See reference nr. 3\n        Route::get('operations/{accountList}/{start_date}/{end_date}', ['uses' => 'CategoryController@operations', 'as' => 'operations']);\n        Route::get('income/{accountList}/{start_date}/{end_date}', ['uses' => 'CategoryController@income', 'as' => 'income']);\n        Route::get('expenses/{accountList}/{start_date}/{end_date}', ['uses' => 'CategoryController@expenses', 'as' => 'expenses']);\n\n        Route::get('accounts/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'CategoryController@accounts', 'as' => 'accounts']);\n        Route::get('categories/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'CategoryController@categories', 'as' => 'categories']);\n        Route::get(\n            'account-per-category/{accountList}/{categoryList}/{start_date}/{end_date}',\n            ['uses' => 'CategoryController@accountPerCategory', 'as' => 'account-per-category']\n        );\n\n        Route::get('top-expenses/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'CategoryController@topExpenses', 'as' => 'top-expenses']);\n        Route::get('avg-expenses/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'CategoryController@avgExpenses', 'as' => 'avg-expenses']);\n\n        Route::get('top-income/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'CategoryController@topIncome', 'as' => 'top-income']);\n        Route::get('avg-income/{accountList}/{categoryList}/{start_date}/{end_date}', ['uses' => 'CategoryController@avgIncome', 'as' => 'avg-income']);\n    }\n);\n\n/**\n * Report Data TAG Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/tag',\n     'as'         => 'report-data.tag.',],\n    static function () {\n        Route::get('accounts/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@accounts', 'as' => 'accounts']);\n        Route::get('tags/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@tags', 'as' => 'tags']);\n        Route::get('account-per-tag/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@accountPerTag', 'as' => 'account-per-tag']);\n\n        Route::get('top-expenses/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@topExpenses', 'as' => 'top-expenses']);\n        Route::get('avg-expenses/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@avgExpenses', 'as' => 'avg-expenses']);\n\n        Route::get('top-income/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@topIncome', 'as' => 'top-income']);\n        Route::get('avg-income/{accountList}/{tagList}/{start_date}/{end_date}', ['uses' => 'TagController@avgIncome', 'as' => 'avg-income']);\n    }\n);\n\n/**\n * Report Data Balance Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/balance', 'as' => 'report-data.balance.'],\n    static function () {\n        Route::get('general/{accountList}/{start_date}/{end_date}', ['uses' => 'BalanceController@general', 'as' => 'general']);\n    }\n);\n\n/**\n * Report Data Budget Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Report', 'prefix' => 'report-data/budget', 'as' => 'report-data.budget.'],\n    static function () {\n        Route::get('general/{accountList}/{start_date}/{end_date}/', ['uses' => 'BudgetController@general', 'as' => 'general']);\n// See reference nr. 4\n        Route::get('period/{accountList}/{start_date}/{end_date}', ['uses' => 'BudgetController@period', 'as' => 'period']);\n\n        Route::get('accounts/{accountList}/{budgetList}/{start_date}/{end_date}', ['uses' => 'BudgetController@accounts', 'as' => 'accounts']);\n        Route::get('budgets/{accountList}/{budgetList}/{start_date}/{end_date}', ['uses' => 'BudgetController@budgets', 'as' => 'budgets']);\n        Route::get(\n            'account-per-budget/{accountList}/{budgetList}/{start_date}/{end_date}',\n            ['uses' => 'BudgetController@accountPerBudget', 'as' => 'account-per-budget']\n        );\n        Route::get('top-expenses/{accountList}/{budgetList}/{start_date}/{end_date}', ['uses' => 'BudgetController@topExpenses', 'as' => 'top-expenses']);\n        Route::get('avg-expenses/{accountList}/{budgetList}/{start_date}/{end_date}', ['uses' => 'BudgetController@avgExpenses', 'as' => 'avg-expenses']);\n    }\n);\n\n/**\n * Rules Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'rules', 'as' => 'rules.'],\n    static function () {\n\n    // create controller\n        Route::get('create/{ruleGroup?}', ['uses' => 'Rule\\CreateController@create', 'as' => 'create']);\n        Route::get('create-from-bill/{bill}', ['uses' => 'Rule\\CreateController@createFromBill', 'as' => 'create-from-bill']);\n        Route::get('create-from-journal/{tj}', ['uses' => 'Rule\\CreateController@createFromJournal', 'as' => 'create-from-journal']);\n        Route::post('store', ['uses' => 'Rule\\CreateController@store', 'as' => 'store']);\n        Route::post('duplicate', ['uses' => 'Rule\\CreateController@duplicate', 'as' => 'duplicate']);\n\n        // delete controller\n        Route::get('delete/{rule}', ['uses' => 'Rule\\DeleteController@delete', 'as' => 'delete']);\n        Route::post('destroy/{rule}', ['uses' => 'Rule\\DeleteController@destroy', 'as' => 'destroy']);\n\n        // index controller\n        Route::get('', ['uses' => 'Rule\\IndexController@index', 'as' => 'index']);\n\n        Route::post('move-rule/{rule}/{ruleGroup}', ['uses' => 'Rule\\IndexController@moveRule', 'as' => 'move-rule']);\n        // select controller\n        Route::get('test', ['uses' => 'Rule\\SelectController@testTriggers', 'as' => 'test-triggers']);\n        Route::get('test-rule/{rule}', ['uses' => 'Rule\\SelectController@testTriggersByRule', 'as' => 'test-triggers-rule']);\n        Route::get('search/{rule}', ['uses' => 'Rule\\IndexController@search', 'as' => 'search']);\n        Route::get('select/{rule}', ['uses' => 'Rule\\SelectController@selectTransactions', 'as' => 'select-transactions']);\n        Route::post('execute/{rule}', ['uses' => 'Rule\\SelectController@execute', 'as' => 'execute']);\n\n        // edit controller\n        Route::get('edit/{rule}', ['uses' => 'Rule\\EditController@edit', 'as' => 'edit']);\n        Route::post('update/{rule}', ['uses' => 'Rule\\EditController@update', 'as' => 'update']);\n    }\n);\n\n/**\n * Rule Groups Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'rule-groups', 'as' => 'rule-groups.'],\n    static function () {\n        Route::get('create', ['uses' => 'RuleGroup\\CreateController@create', 'as' => 'create']);\n        Route::get('edit/{ruleGroup}', ['uses' => 'RuleGroup\\EditController@edit', 'as' => 'edit']);\n        Route::get('delete/{ruleGroup}', ['uses' => 'RuleGroup\\DeleteController@delete', 'as' => 'delete']);\n\n        // new route to move rule groups:\n        Route::post('move', ['uses' => 'RuleGroup\\EditController@moveGroup', 'as' => 'move']);\n\n        Route::get('select/{ruleGroup}', ['uses' => 'RuleGroup\\ExecutionController@selectTransactions', 'as' => 'select-transactions']);\n        Route::post('store', ['uses' => 'RuleGroup\\CreateController@store', 'as' => 'store']);\n        Route::post('update/{ruleGroup}', ['uses' => 'RuleGroup\\EditController@update', 'as' => 'update']);\n        Route::post('destroy/{ruleGroup}', ['uses' => 'RuleGroup\\DeleteController@destroy', 'as' => 'destroy']);\n        Route::post('execute/{ruleGroup}', ['uses' => 'RuleGroup\\ExecutionController@execute', 'as' => 'execute']);\n    }\n);\n\n/**\n * Search Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'search', 'as' => 'search.'],\n    static function () {\n        Route::get('', ['uses' => 'SearchController@index', 'as' => 'index']);\n        Route::any('search', ['uses' => 'SearchController@search', 'as' => 'search']);\n    }\n);\n\n/**\n * Tag Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'tags', 'as' => 'tags.'],\n    static function () {\n        Route::get('', ['uses' => 'TagController@index', 'as' => 'index']);\n        Route::get('create', ['uses' => 'TagController@create', 'as' => 'create']);\n\n        Route::get('show/{tagOrId}/all', ['uses' => 'TagController@showAll', 'as' => 'show.all']);\n        Route::get('show/{tagOrId}/{start_date?}/{end_date?}', ['uses' => 'TagController@show', 'as' => 'show']);\n\n        Route::get('edit/{tag}', ['uses' => 'TagController@edit', 'as' => 'edit']);\n        Route::get('delete/{tag}', ['uses' => 'TagController@delete', 'as' => 'delete']);\n\n        Route::post('store', ['uses' => 'TagController@store', 'as' => 'store']);\n        Route::post('update/{tag}', ['uses' => 'TagController@update', 'as' => 'update']);\n        Route::post('destroy/{tag}', ['uses' => 'TagController@destroy', 'as' => 'destroy']);\n        Route::post('mass-destroy', ['uses' => 'TagController@massDestroy', 'as' => 'mass-destroy']);\n    }\n);\n\n/**\n * Transaction Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers', 'prefix' => 'transactions', 'as' => 'transactions.'],\n    static function () {\n\n    // show groups:\n// See reference nr. 5\n        Route::get('{what}/all', ['uses' => 'Transaction\\IndexController@indexAll', 'as' => 'index.all'])->where(\n            ['what' => 'withdrawal|deposit|transfers|transfer']\n        );\n\n        Route::get('{what}/{start_date?}/{end_date?}', ['uses' => 'Transaction\\IndexController@index', 'as' => 'index'])->where(\n            ['what' => 'withdrawal|deposit|transfers|transfer']\n        );\n\n        // create group:\n        Route::get('create/{objectType}', ['uses' => 'Transaction\\CreateController@create', 'as' => 'create']);\n        Route::post('store', ['uses' => 'Transaction\\CreateController@store', 'as' => 'store']);\n\n        // clone group\n        Route::post('clone', ['uses' => 'Transaction\\CreateController@cloneGroup', 'as' => 'clone']);\n\n        // edit group\n        Route::get('edit/{transactionGroup}', ['uses' => 'Transaction\\EditController@edit', 'as' => 'edit']);\n        Route::post('update', ['uses' => 'Transaction\\EditController@update', 'as' => 'update']);\n\n        // delete group\n        Route::get('delete/{transactionGroup}', ['uses' => 'Transaction\\DeleteController@delete', 'as' => 'delete']);\n        Route::post('destroy/{transactionGroup}', ['uses' => 'Transaction\\DeleteController@destroy', 'as' => 'destroy']);\n\n        Route::get('show/{transactionGroup}', ['uses' => 'Transaction\\ShowController@show', 'as' => 'show']);\n        Route::get('debug/{transactionGroup}', ['uses' => 'Transaction\\ShowController@debugShow', 'as' => 'debug']);\n    }\n);\n\n/**\n * Transaction Mass Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Transaction', 'prefix' => 'transactions/mass', 'as' => 'transactions.mass.'],\n    static function () {\n        Route::get('edit/{journalList}', ['uses' => 'MassController@edit', 'as' => 'edit']);\n        Route::get('delete/{journalList}', ['uses' => 'MassController@delete', 'as' => 'delete']);\n        Route::post('update', ['uses' => 'MassController@update', 'as' => 'update']);\n        Route::post('destroy', ['uses' => 'MassController@destroy', 'as' => 'destroy']);\n    }\n);\n\n/**\n * Transaction Bulk Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Transaction', 'prefix' => 'transactions/bulk', 'as' => 'transactions.bulk.'],\n    static function () {\n        Route::get('edit/{journalList}', ['uses' => 'BulkController@edit', 'as' => 'edit']);\n        Route::post('update', ['uses' => 'BulkController@update', 'as' => 'update']);\n    }\n);\n\n/**\n * Transaction Convert Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Transaction', 'prefix' => 'transactions/convert',\n     'as'         => 'transactions.convert.',],\n    static function () {\n        Route::get('{transactionType}/{transactionGroup}', ['uses' => 'ConvertController@index', 'as' => 'index']);\n        Route::post('{transactionType}/{transactionGroup}', ['uses' => 'ConvertController@postIndex', 'as' => 'index.post']);\n    }\n);\n\n/**\n * Transaction Link Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Transaction', 'prefix' => 'transactions/link', 'as' => 'transactions.link.'],\n    static function () {\n        Route::get('modal/{tj}', ['uses' => 'LinkController@modal', 'as' => 'modal']);\n\n// See reference nr. 6\n        Route::post('store/{tj}', ['uses' => 'LinkController@store', 'as' => 'store']);\n        Route::get('delete/{journalLink}', ['uses' => 'LinkController@delete', 'as' => 'delete']);\n        Route::get('switch/{journalLink}', ['uses' => 'LinkController@switchLink', 'as' => 'switch']);\n\n        Route::post('destroy/{journalLink}', ['uses' => 'LinkController@destroy', 'as' => 'destroy']);\n    }\n);\n\n/**\n * Report Popup Controller.\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Popup', 'prefix' => 'popup', 'as' => 'popup.'],\n    static function () {\n        Route::get('general', ['uses' => 'ReportController@general', 'as' => 'general']);\n    }\n);\n\n/*\n * Webhooks management\n */\nRoute::group(\n    ['middleware' => 'user-full-auth', 'namespace' => 'FireflyIII\\Http\\Controllers\\Webhooks', 'prefix' => 'webhooks', 'as' => 'webhooks.'],\n    static function () {\n        Route::get('index', ['uses' => 'IndexController@index', 'as' => 'index']);\n    }\n);\n\n/**\n * For the admin routes, the user must be logged in and have the role of 'owner'.\n */\nRoute::group(\n    ['middleware' => 'admin', 'namespace' => 'FireflyIII\\Http\\Controllers\\Admin', 'prefix' => 'admin', 'as' => 'admin.'],\n    static function () {\n\n    // admin home\n        Route::get('', ['uses' => 'HomeController@index', 'as' => 'index']);\n        Route::post('test-message', ['uses' => 'HomeController@testMessage', 'as' => 'test-message']);\n\n        // check for updates?\n        Route::get('update-check', ['uses' => 'UpdateController@index', 'as' => 'update-check']);\n        Route::any('update-check/manual', ['uses' => 'UpdateController@updateCheck', 'as' => 'update-check.manual']);\n        Route::post('update-check', ['uses' => 'UpdateController@post', 'as' => 'update-check.post']);\n\n        // user manager\n        Route::get('users', ['uses' => 'UserController@index', 'as' => 'users']);\n        Route::get('users/edit/{user}', ['uses' => 'UserController@edit', 'as' => 'users.edit']);\n        Route::get('users/delete/{user}', ['uses' => 'UserController@delete', 'as' => 'users.delete']);\n        Route::get('users/show/{user}', ['uses' => 'UserController@show', 'as' => 'users.show']);\n\n        Route::post('users/update/{user}', ['uses' => 'UserController@update', 'as' => 'users.update']);\n        Route::post('users/destroy/{user}', ['uses' => 'UserController@destroy', 'as' => 'users.destroy']);\n\n        // journal links manager\n        Route::get('links', ['uses' => 'LinkController@index', 'as' => 'links.index']);\n        Route::get('links/create', ['uses' => 'LinkController@create', 'as' => 'links.create']);\n        Route::get('links/show/{linkType}', ['uses' => 'LinkController@show', 'as' => 'links.show']);\n        Route::get('links/edit/{linkType}', ['uses' => 'LinkController@edit', 'as' => 'links.edit']);\n        Route::get('links/delete/{linkType}', ['uses' => 'LinkController@delete', 'as' => 'links.delete']);\n\n        Route::post('links/store', ['uses' => 'LinkController@store', 'as' => 'links.store']);\n        Route::post('links/update/{linkType}', ['uses' => 'LinkController@update', 'as' => 'links.update']);\n        Route::post('links/destroy/{linkType}', ['uses' => 'LinkController@destroy', 'as' => 'links.destroy']);\n\n        // FF configuration:\n        Route::get('configuration', ['uses' => 'ConfigurationController@index', 'as' => 'configuration.index']);\n        Route::post('configuration', ['uses' => 'ConfigurationController@postIndex', 'as' => 'configuration.index.post']);\n    }\n);\n"], "filenames": ["resources/views/v1/auth/login.twig", "resources/views/v1/auth/passwords/email.twig", "resources/views/v1/auth/passwords/reset.twig", "resources/views/v1/auth/register.twig", "resources/views/v1/partials/menu-sidebar.twig", "resources/views/v1/profile/index.twig", "resources/views/v2/auth/register.twig", "resources/views/v2/partials/layout/navbar.twig", "routes/web.php"], "buggy_code_start_loc": [64, 30, 43, 18, 223, 55, 89, 52, 84], "buggy_code_end_loc": [95, 47, 44, 46, 227, 56, 90, 66, 85], "fixing_code_start_loc": [64, 30, 43, 18, 224, 55, 89, 53, 84], "fixing_code_end_loc": [95, 47, 44, 46, 232, 61, 90, 69, 85], "type": "CWE-352", "message": "firefly-iii is vulnerable to Cross-Site Request Forgery (CSRF)", "other": {"cve": {"id": "CVE-2021-3921", "sourceIdentifier": "security@huntr.dev", "published": "2021-11-13T09:15:06.893", "lastModified": "2021-11-16T19:31:01.310", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "firefly-iii is vulnerable to Cross-Site Request Forgery (CSRF)"}, {"lang": "es", "value": "firefly-iii es vulnerable a un ataque de tipo Cross-Site Request Forgery (CSRF)"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 4.3, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 1.4}], "cvssMetricV30": [{"source": "security@huntr.dev", "type": "Secondary", "cvssData": {"version": "3.0", "vectorString": "CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:L", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "LOW", "availabilityImpact": "LOW", "baseScore": 5.4, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 2.5}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:M/Au:N/C:N/I:P/A:N", "accessVector": "NETWORK", "accessComplexity": "MEDIUM", "authentication": "NONE", "confidentialityImpact": "NONE", "integrityImpact": "PARTIAL", "availabilityImpact": "NONE", "baseScore": 4.3}, "baseSeverity": "MEDIUM", "exploitabilityScore": 8.6, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": true}]}, "weaknesses": [{"source": "security@huntr.dev", "type": "Primary", "description": [{"lang": "en", "value": "CWE-352"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:firefly-iii:firefly_iii:*:*:*:*:*:*:*:*", "versionEndExcluding": "5.6.3", "matchCriteriaId": "2634A5FB-9141-4E74-8F1C-A6D787C0B6EF"}]}]}], "references": [{"url": "https://github.com/firefly-iii/firefly-iii/commit/47fa9e39561a9ec9e210e4023d090a7b33381684", "source": "security@huntr.dev", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://huntr.dev/bounties/724d3fd5-9f04-45c4-98d6-35a7d15468f5", "source": "security@huntr.dev", "tags": ["Exploit", "Patch", "Third Party Advisory"]}]}, "github_commit_url": "https://github.com/firefly-iii/firefly-iii/commit/47fa9e39561a9ec9e210e4023d090a7b33381684"}}