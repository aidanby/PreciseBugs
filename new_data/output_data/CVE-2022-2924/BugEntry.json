{"buggy_code": ["<?php\n\nreturn [\n\t'appVersion' => '6.4.0',\n\t'patchVersion' => '2022.08.19',\n\t'lib_roundcube' => '0.3.0',\n];\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t{assign var=ACCESSIBLE_USERS value=\\App\\Fields\\Owner::getInstance()->getAccessibleUsers()}\n\t{assign var=ACCESSIBLE_GROUPS value=\\App\\Fields\\Owner::getInstance()->getAccessibleGroups()}\n\t{assign var=CURRENTUSERID value=$CURRENTUSER->getId()}\n\t<div class=\"tpl-dashboards-Calendar\">\n\t\t<div class=\"dashboardWidgetHeader\">\n\t\t\t<div class=\"d-flex flex-row flex-nowrap no-gutters justify-content-between\">\n\t\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/WidgetHeaderTitle.tpl', $MODULE_NAME)}\n\t\t\t\t<div class=\"d-inline-flex\">\n\t\t\t\t\t{if \\App\\Privilege::isPermitted($SOURCE_MODULE, 'CreateView')}\n\t\t\t\t\t\t<button class=\"btn btn-sm btn-light js-widget-quick-create\" data-js=\"click\" type=\"button\"\n\t\t\t\t\t\t\tdata-module-name=\"{$SOURCE_MODULE}\"\n\t\t\t\t\t\t\t<span class='fas fa-plus' title=\"{\\App\\Language::translate('LBL_ADD_RECORD')}\"></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/DashboardHeaderIcons.tpl', $MODULE_NAME)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<hr class=\"widgetHr\" />\n\t\t\t<div class=\"row no-gutters\">\n\t\t\t\t<div class=\"col-ceq-xsm-6\">\n\t\t\t\t\t{assign var=WIDGET_DATA value=\\App\\Json::decode(html_entity_decode($WIDGET->get('data')))}\n\t\t\t\t\t{if App\\Config::module('Calendar','DASHBOARD_CALENDAR_WIDGET_FILTER_TYPE') == 'list'}\n\t\t\t\t\t\t<div class=\"input-group input-group-sm\">\n\t\t\t\t\t\t\t<span class=\"input-group-prepend\">\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\">\n\t\t\t\t\t\t\t\t\t<span class=\"fas fa-filter iconMiddle margintop3\"></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<select class=\"widgetFilter select2 form-control customFilter\" name=\"customFilter\"\n\t\t\t\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_CUSTOM_FILTER')}\">\n\t\t\t\t\t\t\t\t{assign var=CUSTOM_VIEWS value=CustomView_Record_Model::getAllByGroup('Calendar')}\n\t\t\t\t\t\t\t\t{foreach key=GROUP_LABEL item=GROUP_CUSTOM_VIEWS from=$CUSTOM_VIEWS}\n\t\t\t\t\t\t\t\t\t<optgroup\n\t\t\t\t\t\t\t\t\t\tlabel='{\\App\\Language::translate('LBL_CV_GROUP_'|cat:strtoupper($GROUP_LABEL))}'>\n\t\t\t\t\t\t\t\t\t\t{foreach item=\"CUSTOM_VIEW\" from=$GROUP_CUSTOM_VIEWS}\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"{$CUSTOM_VIEW->get('cvid')}\" {if !empty($DATA['customFilter']) && $DATA['customFilter'] eq $CUSTOM_VIEW->get('cvid')} selected {elseif empty($DATA['customFilter']) && !empty($WIDGET_DATA['defaultFilter']) && $WIDGET_DATA['defaultFilter'] eq $CUSTOM_VIEW->get('cvid')} selected {/if}>{\\App\\Language::translate($CUSTOM_VIEW->get('viewname'), 'Calendar')}</option>\n\t\t\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{if App\\Config::module('Calendar','DASHBOARD_CALENDAR_WIDGET_FILTER_TYPE') == 'switch'}\n\t\t\t\t\t\t{assign var=CURRENT_STATUS value=Calendar_Module_Model::getComponentActivityStateLabel('current')}\n\t\t\t\t\t\t{assign var=HISTORY_STATUS value=Calendar_Module_Model::getComponentActivityStateLabel('history')}\n\t\t\t\t\t\t<div class=\"btn-group btn-group-toggle\" data-toggle=\"buttons\">\n\t\t\t\t\t\t\t<label class=\"btn btn-sm btn-outline-primary active\">\n\t\t\t\t\t\t\t\t<input class=\"js-switch--calendar\" type=\"radio\" name=\"options\" id=\"options-option1\"\n\t\t\t\t\t\t\t\t\tdata-js=\"change\"\n\t\t\t\t\t\t\t\t\tdata-on-text=\"{\\App\\Language::translate('LBL_TO_REALIZE')}\" autocomplete=\"\n\t\t\t\t\t\t\t   off\" checked> {\\App\\Language::translate('LBL_TO_REALIZE')}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label class=\"btn btn-sm btn-outline-primary\">\n\t\t\t\t\t\t\t\t<input class=\"js-switch--calendar\" type=\"radio\" name=\"options\" id=\"options-option2\"\n\t\t\t\t\t\t\t\t\tdata-js=\"change\"\n\t\t\t\t\t\t\t\t\tdata-off-text=\"{\\App\\Language::translate('History')}\" autocomplete=\"\n\t\t\t\t\t\t\t   off\"> {\\App\\Language::translate('History')}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"hidden\" value=\"current\" data-current=\"{implode('##',$CURRENT_STATUS)}\"\n\t\t\t\t\t\t\tdata-history=\"{implode(',',$HISTORY_STATUS)}\" class=\"widgetFilterSwitch\" {if !empty($WIDGET_DATA['defaultFilter'])} data-default-filter=\"{$WIDGET_DATA['defaultFilter']}\" {/if}>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-ceq-xsm-6\">\n\t\t\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/SelectAccessibleTemplate.tpl', $MODULE_NAME)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"row marginTop2\">\n\t\t\t\t<div class=\"col-sm-12\">\n\t\t\t\t\t<div class=\"headerCalendar pinUnpinShortCut row\">\n\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t<button class=\"btn btn-light btn-sm\" data-type=\"fc-prev-button\">\n\t\t\t\t\t\t\t\t<span class=\"fas fa-chevron-left\"\n\t\t\t\t\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_PREVIOUS')}\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-8 month textAlignCenter paddingRightZero\"></div>\n\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t<button class=\"btn btn-light btn-sm  float-right\" data-type=\"fc-next-button\">\n\t\t\t\t\t\t\t\t<span class=\"fas fa-chevron-right\"\n\t\t\t\t\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_NEXT')}\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"dashboardWidgetContent dashboardWidgetCalendar\">\n\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/CalendarContents.tpl', $MODULE_NAME) WIDGET=$WIDGET}\n\t\t</div>\n\t</div>\n{/strip}\n", "{*<!--\n/*********************************************************************************\n** The contents of this file are subject to the vtiger CRM Public License Version 1.0\n* (\"License\"); You may not use this file except in compliance with the License\n* The Original Code is:  vtiger CRM Open Source\n* The Initial Developer of the Original Code is vtiger.\n* Portions created by vtiger are Copyright (C) vtiger.\n* All Rights Reserved.\n*\n********************************************************************************/\n-->*}\n{strip}\n\t<style type=\"text/css\">\n\t\tsmall.small-a {\n\t\t\tfont-size: 75%;\n\t\t}\n\t</style>\n\t<div>\n\t\t{foreach from=$ACTIVITIES key=INDEX item=ACTIVITY}\n\t\t\t<div class=\"changeActivity u-cursor-pointer\" data-url=\"{$ACTIVITY->getActivityStateModalUrl()}\" accesskey=\"\">\n\t\t\t\t<div class=\"rowActivities\">\n\t\t\t\t\t<div class=\"d-flex mb-1\">\n\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t{assign var=ACTIVITY_TYPE value=$ACTIVITY->get('activitytype')}\n\t\t\t\t\t\t\t{assign var=ACTIVITY_UPPERCASE value=$ACTIVITY_TYPE|upper}\n\t\t\t\t\t\t\t<i class=\"\n\t\t\t\t\t\t\t   {if $ACTIVITY_TYPE eq 'Task'}\n\t\t\t\t\t\t\t\t   far fa-check-square\n\t\t\t\t\t\t\t   {elseif $ACTIVITY_TYPE eq 'Call'}\n\t\t\t\t\t\t\t\t   fas fa-phone\n\t\t\t\t\t\t\t   {else}\n\t\t\t\t\t\t\t\t   fas fa-user\n\t\t\t\t\t\t\t   {/if}\n\t\t\t\t\t\t\t   {' '}fa-lg fa-fw\"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{if $DATE_TYPE === 'DUE'}\n\t\t\t\t\t\t\t{assign var=ACTIVITY_DATE value=$ACTIVITY->get('due_date')}\n\t\t\t\t\t\t\t{assign var=ACTIVITY_TIME value=$ACTIVITY->get('time_end')}\n\t\t\t\t\t\t{else}\n\t\t\t\t\t\t\t{assign var=ACTIVITY_DATE value=$ACTIVITY->get('date_start')}\n\t\t\t\t\t\t\t{assign var=ACTIVITY_TIME value=$ACTIVITY->get('time_start')}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{assign var=LINK value=$ACTIVITY->get('link')}\n\t\t\t\t\t\t{assign var=PROCESS value=$ACTIVITY->get('process')}\n\t\t\t\t\t\t{assign var=SUBPROCESS value=$ACTIVITY->get('subprocess')}\n\t\t\t\t\t\t{assign var=CONTRACTOR value=$ACTIVITY->get('contractor')}\n\t\t\t\t\t\t<div class=\"w-100 mx-1\">\n\t\t\t\t\t\t\t{\\App\\TextUtils::textTruncate($ACTIVITY->getDisplayName(), $NAMELENGTH)}\n\t\t\t\t\t\t\t{if $CONTRACTOR}\n\t\t\t\t\t\t\t\t<br /><small class=\"small-a\">{\\App\\Language::translate('LBL_FOR')}&nbsp;<strong>{$ACTIVITY->getDisplayValue('contractor')}</strong></small>, <strong><small class='small-a'><a href=\"{$CONTRACTOR->getDetailViewUrl()}\">{\\App\\TextUtils::textTruncate($CONTRACTOR->getDisplayName(), $HREFNAMELENGTH)}</a></small></strong>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{if $LINK}\n\t\t\t\t\t\t\t\t<br /><small class=\"small-a\">{\\App\\Language::translate('LBL_FOR')}&nbsp;<strong>{$ACTIVITY->getDisplayValue('link')}</strong></small>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{if $PROCESS}\n\t\t\t\t\t\t\t\t<br /><small class=\"small-a\">{\\App\\Language::translate('LBL_FOR')}&nbsp;<strong>{$ACTIVITY->getDisplayValue('process')}</strong></small>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{if $SUBPROCESS}\n\t\t\t\t\t\t\t\t<br /><small class=\"small-a\">{\\App\\Language::translate('LBL_FOR')}&nbsp;<strong>{$ACTIVITY->getDisplayValue('subprocess')}</strong></small>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{$ACTIVITY->getDisplayValue('taskpriority')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{if $ACTIVITY->get('location') neq '' }\n\t\t\t\t\t\t\t<div class=\"ml-1\">\n\t\t\t\t\t\t\t\t<a target=\"_blank\" rel=\"noreferrer noopener\" href=\"https://www.google.com/maps/search/{urlencode ($ACTIVITY->getDisplayValue('location'))}\" class=\"float-right\" title=\"{\\App\\Language::translate('Location', 'Calendar')}: {$ACTIVITY->getDisplayValue('location')}\">\n\t\t\t\t\t\t\t\t\t<span class=\"fas fa-globe\"></span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t<div class=\"ml-1\">\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t{\\App\\Fields\\DateTime::formatToViewDate(\"$ACTIVITY_DATE $ACTIVITY_TIME\")}\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{foreachelse}\n\t\t\t<span class=\"noDataMsg\">\n\t\t\t\t{\\App\\Language::translate($NODATAMSGLABLE, $MODULE_NAME)}\n\t\t\t</span>\n\t\t{/foreach}\n\t\t{if $PAGING_MODEL->get('nextPageExists') eq 'true'}\n\t\t\t<div class=\"float-right padding5\">\n\t\t\t\t<button type=\"button\" class=\"btn btn-sm btn-primary showMoreHistory\" data-url=\"{$WIDGET->getUrl()}&page={$PAGING_MODEL->getNextPage()}\">\n\t\t\t\t\t{\\App\\Language::translate('LBL_MORE')}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<input type=\"hidden\" id=\"currentView\" value=\"{$VIEW}\" />\n\t<input type=\"hidden\" id=\"activity_view\" value=\"{$CURRENT_USER->getDetail('activity_view')}\" />\n\t<input type=\"hidden\" id=\"date_format\" value=\"{$CURRENT_USER->getDetail('date_format')}\" />\n\t<input type=\"hidden\" id=\"defaultDate\" value=\"{$DEFAULTDATE}\" />\n\t<div class=\"js-calendar__container\" data-js=\"fullcalendar\"></div>\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<!-- tpl-dashboards-ChartFilter -->\n\t{assign \"COL_LBL\" \"col-sm-12 col-md-4 col-lg-3 col-form-label\"}\n\t{assign \"COL_CTRL\" \"col-sm-12 col-md-8 col-lg-9\"}\n\t{if $WIZARD_STEP eq 'step1'}\n\t\t<form class=\"validateForm u-word-break\" method=\"post\" action=\"javascript:;\">\n\t\t\t{if $WIDGET_MODEL->getId()}\n\t\t\t\t<input type=\"hidden\" name=\"templateId\" class=\"js-widget-id\" value=\"{$WIDGET_MODEL->getId()}\">\n\t\t\t{/if}\n\t\t\t<input type=\"hidden\" name=\"linkId\" class=\"js-link-id\" value=\"{$WIDGET_MODEL->get('linkid')}\">\n\t\t\t<div class=\"modal-body\">\n\t\t\t\t<div class=\"container-fluid pt-3\">\n\t\t\t\t\t<input type=\"hidden\" id=\"widgetStep\" value=\"\" />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t\t\t\t<label class=\"{$COL_LBL}\">{\\App\\Language::translate('LBL_WIDGET_NAME','Home')}</label>\n\t\t\t\t\t\t\t<div class=\"{$COL_CTRL}\"><input type=\"text\" class=\"form-control\" name=\"title\" value=\"{$WIDGET_MODEL->getValueForEditView('title')}\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t\t\t\t<label class=\"{$COL_LBL}\"><span class=\"redColor\">*</span>{\\App\\Language::translate('LBL_SELECT_CHART','Home')}</label>\n\t\t\t\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t\t\t\t{assign \"VALUE_CHART_TYPE\" $WIDGET_MODEL->getValueForEditView('chartType')}\n\t\t\t\t\t\t\t\t<select class=\"form-control select2 saveParam\" name=\"chartType\">\n\t\t\t\t\t\t\t\t\t{foreach from=$CHART_TYPES item=TYPE key=VALUE}\n\t\t\t\t\t\t\t\t\t\t<option value=\"{$VALUE}\" {if $VALUE === $VALUE_CHART_TYPE} selected{/if}>{\\App\\Language::translate($TYPE, $MODULE_NAME)}</option>\n\t\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"step1\">\n\t\t\t\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t\t\t\t<label class=\"{$COL_LBL}\"><span class=\"redColor\">*</span>{\\App\\Language::translate('LBL_SELECT_MODULE')}</label>\n\t\t\t\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t\t\t\t{assign \"VALUE_MODULE\" $WIDGET_MODEL->getValueForEditView('module')}\n\t\t\t\t\t\t\t\t<select class=\"form-control saveParam\" name=\"module\">\n\t\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t\t{foreach from=$MODULES item=MODULE_MODEL key=MODULE_THIS_NAME}\n\t\t\t\t\t\t\t\t\t\t<option value=\"{$MODULE_MODEL['name']}\" {if $MODULE_MODEL['name'] === $VALUE_MODULE} selected{/if}>{\\App\\Language::translate($MODULE_MODEL['name'], $MODULE_MODEL['name'])}</option>\n\t\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"step2\"></div>\n\t\t\t\t\t<div class=\"step3\"></div>\n\t\t\t\t\t<div class=\"step4\"></div>\n\t\t\t\t\t<div class=\"step5\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"js-chart-footer\" style=\"display: none;\">\n\t\t\t\t{include file=\\App\\Layout::getTemplatePath('Modals/Footer.tpl', $MODULE_NAME) BTN_SUCCESS='LBL_SAVE' BTN_DANGER='LBL_CANCEL' MODULE=$MODULE_NAME}\n\t\t\t</div>\n\t\t</form>\n\t{elseif $WIZARD_STEP eq 'step2'}\n\t\t<div class=\"form-group row mb-2\">\n\t\t\t<label class=\"{$COL_LBL}\"><span class=\"redColor\">*</span>{\\App\\Language::translate('LBL_FILTER')}</label>\n\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t{assign \"VALUE_FILTER\" $WIDGET_MODEL->getValueForEditView('filterid')}\n\t\t\t\t<select class=\"form-control filtersId\" {if $CHART_TYPE!=='Funnel' && $CHART_TYPE!=='Table' }name=\"filtersId\"\n\t\t\t\t\tmultiple=\"multiple\" {else}name=\"filtersId[]\" \n\t\t\t\t\t{/if}\n\t\t\t\t\tdata-validation-engine=\"validate[required]\" data-maximum-selection-length=\"{\\App\\Config::performance('CHART_MULTI_FILTER_LIMIT')}\">\n\t\t\t\t\t<option></option>\n\t\t\t\t\t{foreach from=$ALLFILTERS item=FILTERS key=FILTERGROUP}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate($FILTERGROUP,$SELECTED_MODULE)}\">\n\t\t\t\t\t\t\t{foreach from=$FILTERS item=FILTER key=FILTERNAME}\n\t\t\t\t\t\t\t\t{if $FILTER->get('setmetrics') eq 1}\n\t\t\t\t\t\t\t\t\t<option value=\"{$FILTER->getId()}\" {if in_array($FILTER->getId(), $VALUE_FILTER)} selected{/if}>{\\App\\Language::translate($FILTER->get('viewname'),$SELECTED_MODULE)}</option>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/foreach}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"form-group row mb-2\">\n\t\t\t<label class=\"{$COL_LBL}\"><span class=\"redColor\">*</span>{\\App\\Language::translate('LBL_VALUE_TYPE', 'Home')}</label>\n\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t{assign \"VALUE_TYPE\" $WIDGET_MODEL->getValueForEditView('valueType')}\n\t\t\t\t<select class=\"form-control valueType saveParam\" name=\"valueType\" size=\"2\">\n\t\t\t\t\t<option value=\"count\" {if 'count' === $VALUE_TYPE} selected{/if}>{\\App\\Language::translate('LBL_NUMBER_OF_RECORDS','Home')}</option>\n\t\t\t\t\t{if $IS_NUMERAL_VALUE}\n\t\t\t\t\t\t<option value=\"sum\" {if 'sum' === $VALUE_TYPE} selected{/if}>{\\App\\Language::translate('LBL_SUM','Home')}</option>\n\t\t\t\t\t\t<option value=\"avg\" {if 'avg' === $VALUE_TYPE} selected{/if}>{\\App\\Language::translate('LBL_AVG','Home')}</option>\n\t\t\t\t\t{/if}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t{elseif $WIZARD_STEP eq 'step3'}\n\t\t<div class=\"form-group row mb-2\">\n\t\t\t<div class=\"{$COL_LBL}\"><label><span class=\"redColor\">*</span>{\\App\\Language::translate('LBL_GROUP_FIELD','Home')}</label></div>\n\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t{assign \"VALUE_GROUP_FIELD\" $WIDGET_MODEL->getValueForEditView('groupField')}\n\t\t\t\t<select class=\"form-control groupField saveParam\" name=\"groupField\" size=\"2\" data-validation-engine=\"validate[required]\">\n\t\t\t\t\t{foreach from=$MODULE_FIELDS item=FIELDS key=BLOCK_NAME}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate($BLOCK_NAME,$SELECTED_MODULE)}\">\n\t\t\t\t\t\t\t{foreach from=$FIELDS item=FIELD key=FIELD_NAME}\n\t\t\t\t\t\t\t\t<option value=\"{$FIELD_NAME}\"\n\t\t\t\t\t\t\t\t\tdata-field-type=\"{$FIELD->getFieldDataType()}\"\n\t\t\t\t\t\t\t\t\t{if $FIELD_NAME === $VALUE_GROUP_FIELD} selected{/if}>{\\App\\Language::translate($FIELD->getFieldLabel(),$SELECTED_MODULE)}</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/foreach}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t\t{if $VALUE_TYPE !== 'count'}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t<div class=\"{$COL_LBL}\"><label><span class=\"redColor\">*</span>{\\App\\Language::translate('LBL_VALUE_FIELD','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t{assign \"VALUE_FIELD\" $WIDGET_MODEL->getValueForEditView('valueField')}\n\t\t\t\t\t<select class=\"form-control saveParam valueField\" name=\"valueField\" size=\"2\" data-validation-engine=\"validate[required]\">\n\t\t\t\t\t\t{foreach from=$MODULE_FIELDS item=FIELDS key=BLOCK_NAME}\n\t\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate($BLOCK_NAME,$SELECTED_MODULE)}\">\n\t\t\t\t\t\t\t\t{foreach from=$FIELDS item=FIELD key=FIELD_NAME}\n\t\t\t\t\t\t\t\t\t{if in_array($FIELD->getFieldDataType(), $REQUIRED_FIELD_TYPE)}\n\t\t\t\t\t\t\t\t\t\t<option value=\"{$FIELD_NAME}\" data-field-type=\"{$FIELD->getFieldDataType()}\" {if $FIELD_NAME === $VALUE_FIELD} selected{/if}>{\\App\\Language::translate($FIELD->getFieldLabel(),$SELECTED_MODULE)}</option>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t{elseif $WIZARD_STEP eq 'step4'}\n\t\t{if $SHOW_GROUP_VALUES}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_GROUP_VALUES','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t{assign \"VALUE_SECTOR_FIELD\" $WIDGET_MODEL->getValueForEditView('sectorField')}\n\t\t\t\t\t<select class=\"form-control select saveParam\" data-select=\"tags\" name=\"sectorField\">\n\t\t\t\t\t\t<optgroup class=\"p-0\">\n\t\t\t\t\t\t\t<option value=\"\">{\\App\\Language::translate('LBL_SELECT_OPTION')}</option>\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t{foreach from=$GROUP_VALUES item=LABEL key=KEY}\n\t\t\t\t\t\t\t<option value=\"{$KEY}\" {if $KEY === $VALUE_SECTOR_FIELD} selected{/if}>{\\App\\Language::translate($LABEL, $MODULE_NAME)}</option>\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{elseif in_array($CHART_TYPE,['Bar','Line','Pie','LinePlain','Donut','Horizontal', 'Table']) && count($FILTERS)<=1}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_DIVIDING_FIELD','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t{assign \"VALUE_DIVIDING_FIELD\" $WIDGET_MODEL->getValueForEditView('dividingField')}\n\t\t\t\t\t<select class=\"form-control saveParam\" name=\"dividingField\" size=\"2\" data-allow-clear=\"true\">\n\t\t\t\t\t\t{foreach from=$MODULE_FIELDS item=FIELDS key=BLOCK_NAME}\n\t\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate($BLOCK_NAME,$SELECTED_MODULE)}\">\n\t\t\t\t\t\t\t\t{foreach from=$FIELDS item=FIELD key=FIELD_NAME}\n\t\t\t\t\t\t\t\t\t<option value=\"{$FIELD_NAME}\"\n\t\t\t\t\t\t\t\t\t\tdata-field-type=\"{$FIELD->getFieldDataType()}\"\n\t\t\t\t\t\t\t\t\t\t{if $FIELD_NAME === $VALUE_DIVIDING_FIELD} selected{/if}>{\\App\\Language::translate($FIELD->getFieldLabel(),$SELECTED_MODULE)}</option>\n\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"form-group row d-none js-sector-container mb-2\">\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_GROUP_VALUES','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t{assign \"VALUE_SECTOR_FIELD\" $WIDGET_MODEL->getValueForEditView('sectorField')}\n\t\t\t\t\t<select class=\"form-control select saveParam\" data-select=\"tags\" name=\"sectorField\" disabled>\n\t\t\t\t\t\t<optgroup class=\"p-0\">\n\t\t\t\t\t\t\t<option value=\"\">{\\App\\Language::translate('LBL_SELECT_OPTION')}</option>\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t{foreach from=$GROUP_VALUES item=LABEL key=KEY}\n\t\t\t\t\t\t\t<option value=\"{$KEY}\" {if $KEY === $VALUE_SECTOR_FIELD} selected{/if}>{\\App\\Language::translate($LABEL, $MODULE_NAME)}</option>\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{if $CHART_TYPE neq 'Table'}\n\t\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t\t{assign \"VALUE_COLORS\" $WIDGET_MODEL->getValueForEditView('colorsFromDividingField')}\n\t\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_COLORS_FROM_DIVIDING_FIELD','Home')}</label></div>\n\t\t\t\t\t<div class=\"{$COL_CTRL} m-auto\">\n\t\t\t\t\t\t<input type=\"hidden\" name=\"colorsFromDividingField\" value=\"0\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"form-control saveParam\" name=\"colorsFromDividingField\" value=\"1\" {if $VALUE_COLORS} checked{/if}>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t{/if}\n\t\t{if in_array($CHART_TYPE,['Bar','Horizontal','Line','LinePlain'])}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t{assign \"VALUE_STACKED\" $WIDGET_MODEL->getValueForEditView('stacked')}\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_CHART_STACKED','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL} m-auto\">\n\t\t\t\t\t<input type=\"hidden\" name=\"stacked\" value=\"0\">\n\t\t\t\t\t<input type=\"checkbox\" class=\"form-control saveParam\" name=\"stacked\" value=\"1\" {if $VALUE_STACKED} checked{/if}>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t\t{if count($FILTERS)>1}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t{assign \"VALUE_COLORS\" $WIDGET_MODEL->getValueForEditView('colorsFromFilter')}\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_CHART_COLORS_FROM_FILTER','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL} m-auto\">\n\t\t\t\t\t<input type=\"hidden\" name=\"colorsFromFilter\" value=\"0\">\n\t\t\t\t\t<input type=\"checkbox\" class=\"form-control saveParam\" name=\"colorsFromFilter\" value=\"1\" {if $VALUE_COLORS} checked{/if}>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t\t<div class=\"form-group row mb-2\">\n\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_ADDITIONAL_FILTERS','Home')}</label></div>\n\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t{assign \"VALUE_ADDITIONAL_FIELD\" $WIDGET_MODEL->getValueForEditView('additionalFiltersFields')}\n\t\t\t\t<select class=\"form-control saveParam\" name=\"additionalFiltersFields\" size=\"2\" multiple data-maximum-selection-length=\"{\\App\\Config::performance('CHART_ADDITIONAL_FILTERS_LIMIT')}\">\n\t\t\t\t\t{foreach from=$MODULE_FIELDS item=FIELDS key=BLOCK_NAME}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate($BLOCK_NAME,$SELECTED_MODULE)}\">\n\t\t\t\t\t\t\t{foreach from=$FIELDS item=FIELD key=FIELD_NAME}\n\t\t\t\t\t\t\t\t<option value=\"{$FIELD_NAME}\" data-field-type=\"{$FIELD->getFieldDataType()}\" {if in_array($FIELD_NAME, $VALUE_ADDITIONAL_FIELD)} selected{/if}>{\\App\\Language::translate($FIELD->getFieldLabel(),$SELECTED_MODULE)}</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/foreach}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t\t{if $CHART_TYPE eq 'Table'}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t{assign \"VALUE_SUMMARY\" $WIDGET_MODEL->getValueForEditView('summary')}\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_WIDGET_SHOW_SUMMARY','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL} m-auto\">\n\t\t\t\t\t<input type=\"hidden\" name=\"summary\" value=\"0\">\n\t\t\t\t\t<input type=\"checkbox\" class=\"form-control saveParam\" name=\"summary\" value=\"1\" {if $VALUE_SUMMARY} checked{/if}>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t{elseif $WIZARD_STEP eq 'step5' }\n\t\t{if in_array($CHART_TYPE,['Bar','Horizontal','Line','LinePlain']) && !$DIVIDING_FIELD && !$STACKED && !$SECTOR_FIELD && count($FILTERS)<=1}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_SORTING_SETTINGS')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t{assign \"VALUE_SORT\" $WIDGET_MODEL->getValueForEditView('sortOrder')}\n\t\t\t\t\t<select class=\"form-control select saveParam\" name=\"sortOrder\">\n\t\t\t\t\t\t<optgroup class=\"p-0\">\n\t\t\t\t\t\t\t<option value=\"\">{\\App\\Language::translate('LBL_SELECT_OPTION')}</option>\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t<option value=\"{\\App\\Db::DESC}\" {if \\App\\Db::DESC === $VALUE_SORT} selected{/if}>{\\App\\Language::translate('LBL_SORT_DESCENDING')}</option>\n\t\t\t\t\t\t<option value=\"{\\App\\Db::ASC}\" {if \\App\\Db::ASC === $VALUE_SORT} selected{/if}>{\\App\\Language::translate('LBL_SORT_ASCENDING')}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t{/if}\n\t<!-- /tpl-dashboards-ChartFilter -->\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<input type=\"hidden\" name=\"typeChart\" value=\"{$CHART_MODEL->getType()}\">\n\t<input type=\"hidden\" name=\"stacked\" value=\"{$CHART_STACKED}\">\n\t<input type=\"hidden\" name=\"colorsFromDividingField\" value=\"{$CHART_COLORS_FROM_DIVIDING_FIELD}\">\n\t<input type=\"hidden\" name=\"colorsFromFilters\" value=\"{$CHART_COLORS_FROM_FILTERS}\">\n\t<input type=\"hidden\" name=\"filterIds\"\n\t\tvalue=\"{\\App\\Purifier::encodeHtml(App\\Json::encode($CHART_MODEL->getFilterIds()))}\">\n\t{if $CHART_MODEL->getType() === 'Table' && $CHART_DATA}\n\t\t{assign var=FIRST_ROW value=current($CHART_DATA)}\n\t\t{assign var=HEADERS value=array_keys($CHART_DATA)}\n\t\t{assign var=IS_SUMMARY value=$CHART_MODEL->getExtraData('summary')}\n\t\t{assign var=SUMMARY value=[]}\n\t\t<div style=\"margin: -5px; line-height: 1;\">\n\t\t\t<div class=\"table-responsive\">\n\t\t\t\t<table class=\"config-table table u-word-break-all\">\n\t\t\t\t\t{if $CHART_MODEL->isDividedByField()}\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<th class=\"u-white-space-nowrap\"></th>\n\t\t\t\t\t\t\t{foreach from=$HEADERS item=HEADER}\n\t\t\t\t\t\t\t\t{if $HEADER === 0}\n\t\t\t\t\t\t\t\t\t{assign \"HEADER\" \"\"}\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t<th class=\"u-white-space-nowrap text-center p-1\">\n\t\t\t\t\t\t\t\t\t<div class=\"mt-1\">\n\t\t\t\t\t\t\t\t\t\t{$HEADER}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t{/if}\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{assign var=GROUPS value=array_keys($FIRST_ROW)}\n\t\t\t\t\t\t{assign var=VALUE_TYPE value=$CHART_MODEL->getValueType()}\n\t\t\t\t\t\t{foreach from=$GROUPS item=GROUP_HEADER}\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"u-white-space-nowrap pr-0\">\n\t\t\t\t\t\t\t\t\t{$GROUP_HEADER}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t{foreach from=$HEADERS item=HEADER}\n\t\t\t\t\t\t\t\t\t<td class=\"text-center noWrap listButtons narrow\">\n\t\t\t\t\t\t\t\t\t\t{if $IS_SUMMARY} {$SUMMARY[$HEADER][] = $CHART_DATA.$HEADER.$GROUP_HEADER.$VALUE_TYPE} {/if}\n\t\t\t\t\t\t\t\t\t\t{assign var=VALUE value=$CHART_MODEL->convertToUserFormat($CHART_DATA.$HEADER.$GROUP_HEADER.$VALUE_TYPE)}\n\t\t\t\t\t\t\t\t\t\t{if !empty($CHART_DATA.$HEADER.$GROUP_HEADER.link)}\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"{$CHART_DATA.$HEADER.$GROUP_HEADER.link}\">{$VALUE}</a>\n\t\t\t\t\t\t\t\t\t\t{else}\n\t\t\t\t\t\t\t\t\t\t\t{$VALUE}\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t{if $IS_SUMMARY}\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"u-white-space-nowrap pr-0 border-secondary\">\n\t\t\t\t\t\t\t\t\t<b>{\\App\\Language::translate('LBL_SUMMARY')}</b>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t{foreach from=$HEADERS item=HEADER}\n\t\t\t\t\t\t\t\t\t<td class=\"text-center noWrap listButtons narrow border-secondary\">\n\t\t\t\t\t\t\t\t\t\t{assign var=HEADER_SUM value=array_sum($SUMMARY[$HEADER])}\n\t\t\t\t\t\t\t\t\t\t<b>{$CHART_MODEL->convertToUserFormat($HEADER_SUM)}</b>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t{elseif !empty($CHART_DATA['show_chart']) }\n\t\t<input class=\"widgetData\" name=\"data\" type=\"hidden\" value=\"{\\App\\Purifier::encodeHtml(\\App\\Json::encode($CHART_DATA))}\" />\n\t\t<div class=\"widgetChartContainer chartcontent\">\n\t\t\t<canvas></canvas>\n\t\t</div>\n\t{else}\n\t\t<span class=\"noDataMsg\">\n\t\t\t{\\App\\Language::translate('LBL_NO_RECORDS_MATCHED_THIS_CRITERIA')}\n\t\t</span>\n\t{/if}\n{/strip}\n", "{*<!--\n/************************************************************************************\n* The contents of this file are subject to the vtiger CRM Public License Version 1.1\n* (\"License\"); You may not use this file except in compliance with the License\n* The Original Code is:  vtiger CRM Open Source\n* The Initial Developer of the Original Code is vtiger.\n* Portions created by vtiger are Copyright (C) vtiger.\n* All Rights Reserved.\n* Contributor(s): YetiForce S.A.\n************************************************************************************/\n-->*}\n{strip}\n\t<div class=\"tpl-DashBoardContents px-sm-1 d-flex flex-row\">\n\t\t<div class=\"grid-stack\">\n\t\t\t{assign var=COLUMNS value=3}\n\t\t\t{assign var=ROW value=0}\n\t\t\t{assign var=COLCOUNT value=0}\n\t\t\t{assign var=SPECIAL_WIDTGETS value=Vtiger_DashBoard_Model::getWidgetSpecial()}\n\t\t\t{foreach from=$WIDGETS item=WIDGET name=count}\n\t\t\t\t{if $WIDGET->get('active') eq 0}\n\t\t\t\t\t{continue}\n\t\t\t\t{/if}\n\t\t\t\t{assign var=WIDGETDOMID value=$WIDGET->get('linkid')}\n\t\t\t\t{if in_array($WIDGET->getName(), $SPECIAL_WIDTGETS)}\n\t\t\t\t\t{assign var=WIDGETDOMID value=$WIDGET->get('linkid')|cat:'-':$WIDGET->get('widgetid')}\n\t\t\t\t{/if}\n\t\t\t\t{if $smarty.foreach.count.index > 2}\n\t\t\t\t\t{assign var=ROW value=4}\n\t\t\t\t{elseif $smarty.foreach.count.index > 5}\n\t\t\t\t\t{assign var=ROW value=8}\n\t\t\t\t{elseif $smarty.foreach.count.index > 8}\n\t\t\t\t\t{assign var=ROW value=12}\n\t\t\t\t{/if}\n\t\t\t\t{if $smarty.foreach.count.index == 1 || $smarty.foreach.count.index == 4|| $smarty.foreach.count.index == 7}\n\t\t\t\t\t{assign var=COLCOUNT value=4}\n\t\t\t\t{elseif $smarty.foreach.count.index == 2 || $smarty.foreach.count.index == 5|| $smarty.foreach.count.index == 8}\n\t\t\t\t\t{assign var=COLCOUNT value=8}\n\t\t\t\t{elseif $smarty.foreach.count.index % 3 == 0}\n\t\t\t\t\t{assign var=COLCOUNT value=0}\n\t\t\t\t{/if}\n\t\t\t\t<div class=\"grid-stack-item js-css-element-queries\"\n\t\t\t\t\tgs-y=\"{$WIDGET->getPosition($ROW, 'row')}\" gs-x=\"{$WIDGET->getPosition($COLCOUNT, 'col')}\"\n\t\t\t\t\tgs-w=\"{$WIDGET->getWidth()}\" gs-h=\"{$WIDGET->getHeight()}\"\n\t\t\t\t\tdata-js=\"css-element-queries\">\n\t\t\t\t\t<div id=\"{$WIDGETDOMID}\" {if $smarty.foreach.count.index % $COLUMNS == 0 and $smarty.foreach.count.index != 0} {/if}\n\t\t\t\t\t\tclass=\"grid-stack-item-content dashboardWidget dashboardWidget_{$smarty.foreach.count.index}\"\n\t\t\t\t\t\tdata-url=\"{$WIDGET->getUrl()}\"\n\t\t\t\t\t\tdata-mode=\"open\" data-name=\"{$WIDGET->getName()}\" data-cache=\"{$WIDGET->get('cache')}\"\n\t\t\t\t\t\tdata-loader=\"widgetLoader\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/foreach}\n\t\t\t<div class=\"alert alert-info {if count($WIDGETS) > 0} d-none {/if} js-dashboards-alert\" role=\"alert\" data-js=\u201dcontainer\u201d>\n\t\t\t\t<p>\n\t\t\t\t\t<span class=\"fas fa-exclamation-circle fa-3x vertical-middle\"></span>&nbsp;&nbsp;\n\t\t\t\t\t{\\App\\Language::translate('LBL_EMPTY_DASHBOARD','Dashboard')}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<input type=\"hidden\" id=\"row\" value=\"{$ROW}\" />\n\t\t\t<input type=\"hidden\" id=\"col\" value=\"{$COLCOUNT}\" />\n\t\t</div>\n\t\t<div class=\"o-tablet-scroll__container mx-1 d-none\" data-js=\"class: d-none\">\n\t\t\t<div class=\"o-tablet-scroll__content js-tablet-scroll position-fixed u-hide-underneath border\" data-js=\"scroll | parent\">\n\t\t\t\t<div class=\"o-tablet-scroll__icons d-flex flex-column u-hide-underneath px-1\">\n\t\t\t\t\t<span class=\"fas fa-arrow-up\"></span>\n\t\t\t\t\t<span class=\"far fa-hand-pointer my-2\"></span>\n\t\t\t\t\t<span class=\"fas fa-arrow-down\"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t</div> {*dashboardViewContainer closing tag*}\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<div class=\"tpl-Base-dashboards-DashBoardPreProcessAjax mt-2 mb-2\">\n\t\t<ul class=\"nav nav-tabs massEditTabs selectDashboard{if count($DASHBOARD_TYPES) === 1} d-none{/if} ml-sm-2\">\n\t\t\t{foreach from=$DASHBOARD_TYPES item=DASHBOARD}\n\t\t\t\t<li class=\"nav-item\" data-id=\"{$DASHBOARD['dashboard_id']}\" data-js=\"data-id\">\n\t\t\t\t\t<a class=\"nav-link {if $CURRENT_DASHBOARD eq $DASHBOARD['dashboard_id']} active {/if}\"\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\tdata-toggle=\"tab\">\n\t\t\t\t\t\t<strong>{\\App\\Language::translate($DASHBOARD['name'])}</strong>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t{/foreach}\n\t\t</ul>\n\t\t{if $MODULES_WITH_WIDGET}\n\t\t\t{assign var=COUNT value=count($MODULES_WITH_WIDGET)}\n\t\t\t<ul class=\"nav nav-inverted-tabs massEditTabs selectDashboradView ml-sm-2\">\n\t\t\t\t{foreach from=$MODULES_WITH_WIDGET item=MODULE_WIDGET}\n\t\t\t\t\t<li class=\"nav-item\" data-module=\"{$MODULE_WIDGET}\">\n\t\t\t\t\t\t<a class=\"nav-link pt-1 pb-1 {if $MODULE_NAME eq $MODULE_WIDGET} active {/if}{if $COUNT === 1} d-none{/if}\"\n\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\tdata-toggle=\"tab\">\n\t\t\t\t\t\t\t<span class=\"yfm-{$MODULE_WIDGET} mx-1\"></span>\n\t\t\t\t\t\t\t{\\App\\Language::translate($MODULE_WIDGET, $MODULE_WIDGET)}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t{/foreach}\n\t\t\t</ul>\n\t\t{/if}\n\t</div>\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<!-- tpl-dashboards-DashBoardWidgetsList -->\n\t<button class=\"js-widget-predefined btn btn-outline-dark c-btn-block-xs-down addButton dropdown-toggle u-remove-dropdown-icon {if !$WIDGETS|count gt 0}d-none{/if}\" data-toggle=\"dropdown\" data-js=\"class: d-none\">\n\t\t<span class=\"c-icon--tripple\">\n\t\t\t<span class=\"c-icon--tripple__top fas fa-chart-pie\"></span>\n\t\t\t<span class=\"c-icon--tripple__left fas fa-chart-line\"></span>\n\t\t\t<span class=\"c-icon--tripple__right fas fa-chart-area\"></span>\n\t\t</span>\n\t\t<span class=\"d-none d-md-inline\">{\\App\\Language::translate('LBL_PREDEFINED_WIDGETS','Dashboard')}</span>\n\t</button>\n\t<div class=\"js-widget-list dropdown-menu widgetsList addWidgetDropDown\" data-js=\"container\">\n\t\t{assign var=\"WIDGET\" value=\"\"}\n\t\t{foreach from=$WIDGETS item=WIDGET}\n\t\t\t<a class=\"js-widget-list__item dropdown-item d-flex\" href=\"#\" data-name=\"{$WIDGET->getName()}\" data-id=\"{$WIDGET->get('widgetid')}\"\n\t\t\t\tdata-widget-url=\"{$WIDGET->getUrl()}\" data-linkid=\"{$WIDGET->get('linkid')}\"\n\t\t\t\tdata-width=\"{$WIDGET->getWidth()}\" data-height=\"{$WIDGET->getHeight()}\" data-js=\"remove | click\">\n\t\t\t\t{\\App\\Language::translate($WIDGET->getTitle(), $MODULE_NAME, null, true, 'Dashboard')}\n\t\t\t\t{if $WIDGET->isDeletable()}\n\t\t\t\t\t<span class=\"text-danger pl-5 ml-auto\">\n\t\t\t\t\t\t<span class=\"fas fa-trash-alt removeWidgetFromList u-hover-opacity\" data-widget-id=\"{$WIDGET->get('widgetid')}\" data-js=\"click\"></span>\n\t\t\t\t\t</span>\n\t\t\t\t{/if}\n\t\t\t</a>\n\t\t{/foreach}\n\t</div>\n\t<!-- /tpl-dashboards-DashBoardWidgetsList -->\n{/strip}\n", "{*<!--\n/*********************************************************************************\n** The contents of this file are subject to the vtiger CRM Public License Version 1.0\n* (\"License\"); You may not use this file except in compliance with the License\n* The Original Code is:  vtiger CRM Open Source\n* The Initial Developer of the Original Code is vtiger.\n* Portions created by vtiger are Copyright (C) vtiger.\n* All Rights Reserved.\n* Contributor(s): YetiForce S.A.\n********************************************************************************/\n-->*}\n{strip}\n\t{if isset($SETTING_EXIST)}\n\t\t<a class=\"btn btn-sm btn-light\" name=\"dfilter\">\n\t\t\t<span class='icon-cog' title=\"{\\App\\Language::translate('LBL_FILTER')}\"></span>\n\t\t</a>\n\t\t&nbsp;\n\t{/if}\n\t<button class=\"btn btn-sm btn-light js-widget-refresh\" title=\"{\\App\\Language::translate('LBL_REFRESH')}\" data-url=\"{$WIDGET->getUrl()}&content=data\" data-js=\"click\">\n\t\t<span class=\"fas fa-sync-alt\"></span>\n\t</button>\n\t{if !$WIDGET->isDefault()}\n\t\t<button class=\"btn btn-sm btn-light js-widget-remove\" title=\"{\\App\\Language::translate('LBL_CLOSE')}\" data-url=\"{$WIDGET->getDeleteUrl()}\" data-js=\"click\">\n\t\t\t<span class=\"fas fa-times\"></span>\n\t\t</button>\n\t{/if}\n{/strip}\n", "{*<!--\n/*********************************************************************************\n** The contents of this file are subject to the vtiger CRM Public License Version 1.0\n* (\"License\"); You may not use this file except in compliance with the License\n* The Original Code is:  vtiger CRM Open Source\n* The Initial Developer of the Original Code is vtiger.\n* Portions created by vtiger are Copyright (C) vtiger.\n* All Rights Reserved.\n* Contributor(s): YetiForce S.A.\n********************************************************************************/\n-->*}\n{strip}\n\t{if $LIST neq false}\n\t\t<table class=\"table table-bordered table-sm\">\n\t\t\t<tr>\n\t\t\t\t{foreach from=$COLUMN_LIST item=col key=col_key}\n\t\t\t\t\t<th>\n\t\t\t\t\t\t{\\App\\Language::translate($col_key, 'Vtiger')}\n\t\t\t\t\t</th>\n\t\t\t\t{/foreach}\n\t\t\t</tr>\n\t\t\t{foreach key=$index item=record from=$LIST}\n\t\t\t\t<tr>\n\t\t\t\t\t{foreach from=$record item=item key=key}\n\t\t\t\t\t\t<td>{$item}</td>\n\t\t\t\t\t{/foreach}\n\t\t\t\t</tr>\n\t\t\t{/foreach}\n\t\t</table>\n\t{else}\n\t\t<span class=\"noDataMsg\">\n\t\t\t{\\App\\Language::translate('LBL_NO_MOD_RECORDS', $MODULE_NAME)}\n\t\t</span>\n\t{/if}\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<div class=\"dashboardWidgetHeader\">\n\t\t{foreach key=index item=cssModel from=$STYLES}\n\t\t\t<link rel=\"{$cssModel->getRel()}\" href=\"{$cssModel->getHref()}\" type=\"{$cssModel->getType()}\" media=\"{$cssModel->getMedia()}\" />\n\t\t{/foreach}\n\t\t{foreach key=index item=jsModel from=$SCRIPTS}\n\t\t\t<script type=\"{$jsModel->getType()}\" src=\"{$jsModel->getSrc()}\"></script>\n\t\t{/foreach}\n\t\t<div class=\"d-flex flex-row flex-nowrap no-gutters justify-content-between\">\n\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/WidgetHeaderTitle.tpl', $MODULE_NAME)}\n\t\t\t<div class=\"d-inline-flex\">\n\t\t\t\t<button class=\"btn btn-sm btn-light js-widget-refresh\" title=\"{\\App\\Language::translate('LBL_REFRESH')}\" data-url=\"{$WIDGET->getUrl()}&content=data\" data-js=\"click\">\n\t\t\t\t\t<span class=\"fas fa-sync-alt\"></span>\n\t\t\t\t</button>\n\t\t\t\t{if !$WIDGET->isDefault()}\n\t\t\t\t\t<button class=\"btn btn-sm btn-light js-widget-remove\" title=\"{\\App\\Language::translate('LBL_CLOSE')}\" data-url=\"{$WIDGET->getDeleteUrl()}\" data-js=\"click\">\n\t\t\t\t\t\t<span class=\"fas fa-times\"></span>\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t\t<hr class=\"widgetHr\" />\n\t\t<div class=\"row no-gutters\">\n\t\t\t<div class=\"col\">\n\t\t\t\t<div class=\"input-group input-group-sm\">\n\t\t\t\t\t<div class=\"input-group-prepend\">\n\t\t\t\t\t\t<span class=\"input-group-text\">\n\t\t\t\t\t\t\t<span class=\"fas fa-envelope\"></span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<select class=\"form-control select2noactive widgetFilter\" name=\"mailAccount\" aria-describedby=\"inputGroup-sizing-sm\" id=\"mailUserList\" title=\"{\\App\\Language::translate('LBL_MAIL_USERS_LIST')}\">\n\t\t\t\t\t\t{if count($ACCOUNTSLIST) eq 0}\n\t\t\t\t\t\t\t<option value=\"-\">{\\App\\Language::translate('--None--', $MODULE_NAME)}</option>\n\t\t\t\t\t\t{else}\n\t\t\t\t\t\t\t{foreach from=$ACCOUNTSLIST item=item key=key}\n\t\t\t\t\t\t\t\t<option title=\"{$item['username']}\" value=\"{$item['user_id']}\" {if $USER == $item['user_id']}selected{/if}>{$item['username']}</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"dashboardWidgetContent\">\n\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/MailsListContents.tpl', $MODULE_NAME)}\n\t</div>\n{/strip}\n", "{*<!--\n/*********************************************************************************\n** The contents of this file are subject to the vtiger CRM Public License Version 1.0\n* (\"License\"); You may not use this file except in compliance with the License\n* The Original Code is:  vtiger CRM Open Source\n* The Initial Developer of the Original Code is vtiger.\n* Portions created by vtiger are Copyright (C) vtiger.\n* All Rights Reserved.\n* Contributor(s): YetiForce S.A.\n********************************************************************************/\n-->*}\n{strip}\n\t<!-- tpl-Base-Dashboards-MiniListWizard -->\n\t{if $WIZARD_STEP eq 'step1'}\n\t\t<div id=\"minilistWizardContainer\" class='modelContainer modal fade' tabindex=\"-1\">\n\t\t\t<div class=\"modal-dialog\">\n\t\t\t\t<div class=\"modal-content\">\n\t\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t\t<h5 class=\"modal-title\" id=\"massEditHeader\">\n\t\t\t\t\t\t\t<span class=\"fas fa-filter mr-1\"></span>\n\t\t\t\t\t\t\t{\\App\\Language::translate('LBL_MINI_LIST','Home')} {\\App\\Language::translate($MODULE_NAME, $MODULE_NAME)}\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n\t\t\t\t\t\t\t<span aria-hidden=\"true\">&times;</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form class=\"form-horizontal\" method=\"post\" action=\"javascript:;\">\n\t\t\t\t\t\t<div class=\"modal-body\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"module\" value=\"{$MODULE_NAME}\" />\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"action\" value=\"MassSave\" />\n\t\t\t\t\t\t\t<table class=\"table table-bordered\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldLabel alignMiddle textAlignCenter\"\n\t\t\t\t\t\t\t\t\t\t\tnowrap>{App\\Language::translate('LBL_WIDGET_NAME','Home')}</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldValue position-relative\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"widgetTitle\" value=\"{$WIDGET_MODEL->getValueForEditView('title')}\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-validation-engine=\"validate[required]\" {if $WIDGET_ID} disabled{/if}>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldLabel alignMiddle textAlignCenter\"\n\t\t\t\t\t\t\t\t\t\t\tnowrap>{App\\Language::translate('LBL_SELECT_MODULE')}</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldValue\">\n\t\t\t\t\t\t\t\t\t\t\t{assign \"VALUE_FIELD\" $WIDGET_MODEL->getValueForEditView('module')}\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control select2\" name=\"module\" {if $WIDGET_ID} disabled{/if}>\n\t\t\t\t\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t\t\t\t\t{foreach from=$MODULES item=MODULE_MODEL key=MODULE_THIS_NAME}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"{$MODULE_MODEL['name']}\" {if $MODULE_MODEL['name'] === $VALUE_FIELD} selected{/if}>{App\\Language::translate($MODULE_MODEL['name'], $MODULE_MODEL['name'])}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldLabel alignMiddle textAlignCenter\"\n\t\t\t\t\t\t\t\t\t\t\tnowrap>{App\\Language::translate('LBL_FILTER')}</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldValue\">\n\t\t\t\t\t\t\t\t\t\t\t{assign \"VALUE_FIELD\" $WIDGET_MODEL->getValueForEditView('filterid')}\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control\" name=\"filterid\" {if $WIDGET_ID} disabled{/if}>\n\t\t\t\t\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t\t\t\t\t{if $VALUE_FIELD}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{assign \"CV_DETAIL\" \\App\\CustomView::getCVDetails($VALUE_FIELD)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"{$VALUE_FIELD}\" selected>{App\\Language::translate($CV_DETAIL['viewname'])}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldLabel alignMiddle textAlignCenter\"\n\t\t\t\t\t\t\t\t\t\t\tnowrap>{App\\Language::translate('LBL_FIELDS')}</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldValue\">\n\t\t\t\t\t\t\t\t\t\t\t{assign \"VALUE_FIELD\" $WIDGET_MODEL->getValueForEditView('fields')}\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control{if $WIDGET_ID} select2{/if}\" name=\"fields\" size=\"2\" multiple=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-validation-engine=\"validate[required]\" {if $WIDGET_ID} disabled{/if}>\n\t\t\t\t\t\t\t\t\t\t\t\t{if $VALUE_FIELD}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{assign \"WIDGET_MODULE_MODEL\" Vtiger_Module_Model::getInstance($WIDGET_MODEL->getValueForEditView('module'))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{foreach from=$VALUE_FIELD item=FIELD_NAME}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{assign \"FIELD_MODEL\" $WIDGET_MODULE_MODEL->getFieldByName($FIELD_NAME)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{if $FIELD_MODEL}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"{$FIELD_NAME}\" selected>{$FIELD_MODEL->getFullLabelTranslation()}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t\t\t\t\t\t{else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldLabel alignMiddle textAlignCenter\" nowrap>\n\t\t\t\t\t\t\t\t\t\t\t{App\\Language::translate('LBL_FIELD_HREF')}&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"js-popover-tooltip u-cursor-pointer\" data-js=\"popover\" data-placement=\"top\" data-content=\"{\\App\\Language::translate('LBL_FIELD_HREF_TOOLTIP')}\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"fas fa-question-circle\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldValue\">\n\t\t\t\t\t\t\t\t\t\t\t{assign \"VALUE_FIELD\" $WIDGET_MODEL->getValueForEditView('fieldHref')}\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control{if $WIDGET_ID} select2{/if}\" name=\"field_href\" size=\"2\" {if $WIDGET_ID} disabled{/if}>\n\t\t\t\t\t\t\t\t\t\t\t\t{if $VALUE_FIELD}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{assign \"WIDGET_MODULE_MODEL\" Vtiger_Module_Model::getInstance($WIDGET_MODEL->getValueForEditView('module'))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{assign \"FIELD_MODEL\" $WIDGET_MODULE_MODEL->getFieldByName($VALUE_FIELD)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{if $FIELD_MODEL}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"{$VALUE_FIELD}\" selected>{$FIELD_MODEL->getFullLabelTranslation()}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t{else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldLabel alignMiddle textAlignCenter\"\n\t\t\t\t\t\t\t\t\t\t\tnowrap>{App\\Language::translate('LBL_FILTER_FIELD')}</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldValue\">\n\t\t\t\t\t\t\t\t\t\t\t{assign \"VALUE_FIELD\" $WIDGET_MODEL->getValueForEditView('filterFields')}\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control{if $WIDGET_ID} select2{/if}\" name=\"filter_fields\" {if $WIDGET_ID} disabled{/if}>\n\t\t\t\t\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t\t\t\t\t{if $VALUE_FIELD}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{assign \"FIELD_MODEL\" Vtiger_Field_Model::getInstanceFromFieldId($VALUE_FIELD)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{if $FIELD_MODEL}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"{$VALUE_FIELD}\" selected>{$FIELD_MODEL->getFullLabelTranslation()}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{assign \"BTN_SUCCESS\" 'LBL_SAVE'}\n\t\t\t\t\t\t{if $WIDGET_ID}\n\t\t\t\t\t\t\t{assign \"BTN_SUCCESS\" ''}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{include file=\\App\\Layout::getTemplatePath('Modals/Footer.tpl', $MODULE_NAME) BTN_SUCCESS=$BTN_SUCCESS BTN_DANGER='LBL_CANCEL' MODULE=$MODULE_NAME}\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t{elseif $WIZARD_STEP eq 'step2'}\n\t\t<option></option>\n\t\t{foreach from=$ALLFILTERS item=FILTERS key=FILTERGROUP}\n\t\t\t<optgroup label=\"{\\App\\Language::translate($FILTERGROUP,$SELECTED_MODULE)}\">\n\t\t\t\t{foreach from=$FILTERS item=FILTER key=FILTERNAME}\n\t\t\t\t\t{if $FILTER->get('setmetrics') eq 1}\n\t\t\t\t\t\t<option value=\"{$FILTER->getId()}\">{\\App\\Language::translate($FILTER->get('viewname'),$SELECTED_MODULE)}</option>\n\t\t\t\t\t{/if}\n\t\t\t\t{/foreach}\n\t\t\t</optgroup>\n\t\t{/foreach}\n\t{elseif $WIZARD_STEP eq 'step3'}\n\t\t<div>\n\t\t\t<select class=\"form-control\" name=\"fields\" size=\"2\" multiple=\"true\">\n\t\t\t\t<option></option>\n\t\t\t\t{foreach from=$LIST_VIEW_FIELDS item=FIELD key=FIELD_NAME}\n\t\t\t\t\t<option value=\"{$FIELD_NAME}\">{\\App\\Language::translate($FIELD->getFieldLabel(),$SELECTED_MODULE)}</option>\n\t\t\t\t{/foreach}\n\t\t\t</select>\n\t\t\t<select class=\"form-control\" name=\"filter_fields\">\n\t\t\t\t<option></option>\n\t\t\t\t{foreach from=$FIELDS_BY_BLOCK item=FIELDS key=BLOCK_NAME}\n\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate($BLOCK_NAME,$SELECTED_MODULE)}\">\n\t\t\t\t\t\t{foreach from=$FIELDS item=FIELD}\n\t\t\t\t\t\t\t{if $FIELD->isActiveSearchView()}\n\t\t\t\t\t\t\t\t<option value=\"{$FIELD->getId()}\">{\\App\\Language::translate($FIELD->getFieldLabel(),$SELECTED_MODULE)}</option>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t</optgroup>\n\t\t\t\t{/foreach}\n\t\t\t</select>\n\t\t</div>\n\t{/if}\n\t<!-- /tpl-Base-Dashboards-MiniListWizard -->\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t{assign var=ACCESSIBLE_USERS value=\\App\\Fields\\Owner::getInstance()->getAccessibleUsers()}\n\t{assign var=ACCESSIBLE_GROUPS value=\\App\\Fields\\Owner::getInstance()->getAccessibleGroups()}\n\t{assign var=CURRENTUSERID value=$CURRENTUSER->getId()}\n\t<div class=\"dashboardWidgetHeader\">\n\t\t<div class=\"d-flex flex-row flex-nowrap no-gutters justify-content-between\">\n\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/WidgetHeaderTitle.tpl', $MODULE_NAME)}\n\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/WidgetHeaderButtons.tpl', $MODULE_NAME)}\n\t\t</div>\n\t\t<hr class=\"widgetHr\" />\n\t\t<div class=\"row no-gutters\">\n\t\t\t<div class=\"col-ceq-xsm-6 input-group input-group-sm\">\n\t\t\t\t<div class=\"input-group-prepend\">\n\t\t\t\t\t<span class=\"input-group-text u-cursor-pointer changeRecordSort\"\n\t\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_SORT_DESCENDING', $MODULE_NAME)}\"\n\t\t\t\t\t\talt=\"{\\App\\Language::translate('LBL_SORT_DESCENDING', $MODULE_NAME)}\"\n\t\t\t\t\t\tdata-sort=\"{if $DATA['sortorder'] eq 'desc'}asc{else}desc{/if}\"\n\t\t\t\t\t\tdata-asc=\"{\\App\\Language::translate('LBL_SORT_ASCENDING', $MODULE_NAME)}\"\n\t\t\t\t\t\tdata-desc=\"{\\App\\Language::translate('LBL_SORT_DESCENDING', $MODULE_NAME)}\">\n\t\t\t\t\t\t<span class=\"fas fa-sort-amount-down\"></span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<select class=\"widgetFilter select2 form-control orderby\" aria-label=\"Small\"\n\t\t\t\t\taria-describedby=\"inputGroup-sizing-sm\" name=\"orderby\"\n\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_CUSTOM_FILTER')}\">\n\t\t\t\t\t{foreach item=FIELD from=$WIDGET_MODEL->getHeaders()}\n\t\t\t\t\t\t{assign var=\"FIELD_VALUE\" value=$FIELD->get('name')}\n\t\t\t\t\t\t<option value=\"{$FIELD_VALUE}\" {if $DATA['orderby'] eq $FIELD_VALUE} selected {/if}>{\\App\\Language::translate($FIELD->get('label'),$BASE_MODULE)}</option>\n\t\t\t\t\t{/foreach}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class=\"col-ceq-xsm-6\">\n\t\t\t\t<div class=\"float-right\">\n\t\t\t\t\t<button class=\"btn btn-light btn-sm ml-1 goToListView\"\n\t\t\t\t\t\tdata-url=\"{$WIDGET_MODEL->getUrl()}\"\n\t\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_GO_TO_RECORDS_LIST', $MODULE_NAME)}\">\n\t\t\t\t\t\t<span class=\"fas fa-th-list\"></span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"dashboardWidgetContent\">\n\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/ProductsSoldToRenewContents.tpl', $MODULE_NAME)}\n\t</div>\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<!-- tpl-Base-Dashboards-ProductsSoldToRenewContents -->\n\t{assign var=\"SPANSIZE\" value=12}\n\t{if $WIDGET_MODEL->getHeaderCount()}\n\t\t{assign var=\"SPANSIZE\" value=12/$WIDGET_MODEL->getHeaderCount()}\n\t{/if}\n\t<div class=\"row\">\n\t\t{foreach item=FIELD from=$WIDGET_MODEL->getHeaders()}\n\t\t\t<div class=\"col-sm-{$SPANSIZE}\">\n\t\t\t\t<strong>{\\App\\Language::translate($FIELD->get('label'),$BASE_MODULE)} </strong>\n\t\t\t</div>\n\t\t{/foreach}\n\t</div>\n\t{assign var=\"WIDGET_RECORDS\" value=$WIDGET_MODEL->getRecords()}\n\t{foreach item=RECORD from=$WIDGET_RECORDS}\n\t\t<div class=\"row rowAction u-cursor-pointer\">\n\t\t\t{foreach item=FIELD from=$WIDGET_MODEL->getHeaders()}\n\t\t\t\t<div class=\"col-sm-{$SPANSIZE} u-text-ellipsis--no-hover\" title=\"{\\App\\Purifier::encodeHtml($RECORD->get($FIELD->get('name')))}\">\n\t\t\t\t\t{if $RECORD->get($FIELD->get('name'))}\n\t\t\t\t\t\t<span>{$RECORD->getListViewDisplayValue($FIELD->get('name'))}</span>\n\t\t\t\t\t{else}\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t{/foreach}\n\t\t</div>\n\t{/foreach}\n\t{if count($WIDGET_RECORDS) >= $WIDGET_MODEL->getRecordLimit()}\n\t\t<button class=\"btn btn-light float-right btn-sm goToListView\"\n\t\t\tdata-url=\"{$WIDGET_MODEL->getUrl()}\"\n\t\t\ttitle=\"{\\App\\Language::translate('LBL_MORE', $MODULE_NAME)}\">\n\t\t\t<span>{\\App\\Language::translate('LBL_MORE', $MODULE_NAME)}</span>\n\t\t</button>\n\t{/if}\n\t<!-- /tpl-Base-Dashboards-ProductsSoldToRenewContents -->\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<!-- tpl-Base-dashboards-SelectAccessibleTemplate -->\n\t{assign var=ACCESS_OPTIONS value=\\App\\Json::decode(html_entity_decode($WIDGET->get('owners')))}\n\t{if !is_array($ACCESS_OPTIONS.available)}\n\t\t{$ACCESS_OPTIONS.available = array($ACCESS_OPTIONS.available)}\n\t{/if}\n\t{if !isset($OWNER)}\n\t\t{assign var=OWNER value=''}\n\t{/if}\n\t{if empty($SOURCE_MODULE) && $MODULE_NAME != 'Home'}\n\t\t{assign var=SOURCE_MODULE value=$MODULE_NAME}\n\t{/if}\n\t{if !empty($SOURCE_MODULE) && App\\Config::performance('SEARCH_SHOW_OWNER_ONLY_IN_LIST') && !\\App\\Config::module($SOURCE_MODULE, 'DISABLED_SHOW_OWNER_ONLY_IN_LIST', false)}\n\t\t{if !empty($USER_CONDITIONS)}\n\t\t\t{assign var=USERS_GROUP_LIST value=\\App\\Fields\\Owner::getInstance($SOURCE_MODULE)->getUsersAndGroupForModuleList(false,$USER_CONDITIONS)}\n\t\t{/if}\n\t\t{if !empty($USERS_GROUP_LIST['users'])}\n\t\t\t{assign var=ACCESSIBLE_USERS value=$USERS_GROUP_LIST['users']}\n\t\t{/if}\n\t\t{if !empty($USERS_GROUP_LIST['group'])}\n\t\t\t{assign var=ACCESSIBLE_GROUPS value=$USERS_GROUP_LIST['group']}\n\t\t{/if}\n\t{/if}\n\t<div class=\"input-group input-group-sm\">\n\t\t<span class=\"input-group-prepend\">\n\t\t\t<span class=\"input-group-text\">\n\t\t\t\t<span class=\"fas fa-user iconMiddle\" title=\"{\\App\\Language::translate('Assigned To', $MODULE_NAME)}\"></span>\n\t\t\t</span>\n\t\t</span>\n\t\t<select class=\"widgetFilter select2 owner form-control\" aria-label=\"{\\App\\Language::translate('LBL_OWNER')}\"\n\t\t\tname=\"owner\" title=\"{\\App\\Language::translate('LBL_OWNER')}\"\n\t\t\t{if App\\Config::performance('SEARCH_OWNERS_BY_AJAX') && (in_array('groups', $ACCESS_OPTIONS['available']) || in_array('users', $ACCESS_OPTIONS['available']))}\n\t\t\t\t{assign var=AJAX_URL value=\"index.php?module={$SOURCE_MODULE}&action=Fields&mode=getOwners&fieldName=assigned_user_id\"}\n\t\t\t\t{if in_array('groups', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t{assign var=AJAX_URL value=$AJAX_URL|cat:\"&result[]=groups\"}\n\t\t\t\t{/if}\n\t\t\t\t{if in_array('users', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t{assign var=AJAX_URL value=$AJAX_URL|cat:\"&result[]=users\"}\n\t\t\t\t{/if}\n\t\t\t\tdata-ajax-search=\"1\" data-ajax-url=\"{$AJAX_URL}\" data-minimum-input=\"{App\\Config::performance('OWNER_MINIMUM_INPUT_LENGTH')}\"\n\t\t\t{/if}>\n\n\t\t\t{if in_array('mine', $ACCESS_OPTIONS.available)}\n\t\t\t\t<option value=\"{$USER_MODEL->getId()}\" data-name=\"{$USER_MODEL->getName()}\"\n\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_MINE')}\" {if $OWNER eq $USER_MODEL->getId()} selected {/if}>{\\App\\Language::translate('LBL_MINE')}</option>\n\t\t\t{/if}\n\t\t\t{if in_array('all', $ACCESS_OPTIONS.available)}\n\t\t\t\t<option value=\"all\" {if $OWNER eq 'all' || $ACCESS_OPTIONS['default'] eq 'all'} data-name=\"\" title=\"{\\App\\Language::translate('LBL_ALL')}\" selected {/if}>{\\App\\Language::translate('LBL_ALL')}</option>\n\t\t\t{/if}\n\t\t\t{if !App\\Config::performance('SEARCH_OWNERS_BY_AJAX')}\n\t\t\t\t{if !empty($ACCESSIBLE_USERS)}\n\t\t\t\t\t{assign var=ACCESSIBLE_USERS value=array_diff_key($ACCESSIBLE_USERS, array_flip([$USER_MODEL->getId()]))}\n\t\t\t\t\t{if !empty($ACCESSIBLE_USERS) && in_array('users', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate('LBL_USERS')}\">\n\t\t\t\t\t\t\t{foreach key=OWNER_ID item=OWNER_NAME from=$ACCESSIBLE_USERS}\n\t\t\t\t\t\t\t\t<option title=\"{$OWNER_NAME}\" data-name=\"{$OWNER_NAME}\"\n\t\t\t\t\t\t\t\t\tvalue=\"{$OWNER_ID}\" {if $OWNER eq $OWNER_ID} selected{/if}>{$OWNER_NAME}</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\t\t\t\t{if !empty($ACCESSIBLE_GROUPS) && in_array('groups', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate('LBL_GROUPS')}\">\n\t\t\t\t\t\t{foreach key=OWNER_ID item=OWNER_NAME from=$ACCESSIBLE_GROUPS}\n\t\t\t\t\t\t\t<option title=\"{$OWNER_NAME}\" data-name=\"{$OWNER_NAME}\"\n\t\t\t\t\t\t\t\tvalue=\"{$OWNER_ID}\" {if $OWNER eq $OWNER_ID} selected{/if}>{$OWNER_NAME}</option>\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t</optgroup>\n\t\t\t\t{/if}\n\t\t\t\t{if in_array('groupUsers', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t{assign var=ALL_GROUPS value=\\App\\Fields\\Owner::getInstance($SOURCE_MODULE)->getGroups(false)}\n\t\t\t\t\t{if $ALL_GROUPS}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate('LBL_GROUP_USERS')}\">\n\t\t\t\t\t\t\t{foreach key=OWNER_ID item=OWNER_NAME from=$ALL_GROUPS}\n\t\t\t\t\t\t\t\t{assign var=\"MEMBER_ID\" value=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_GROUPS}:{$OWNER_ID}\"}\n\t\t\t\t\t\t\t\t<option class=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_GROUPS}\" value=\"{$MEMBER_ID}\"\n\t\t\t\t\t\t\t\t\tdata-member-type=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_GROUPS}\"\n\t\t\t\t\t\t\t\t\t{if $OWNER eq $MEMBER_ID} selected {/if}>\n\t\t\t\t\t\t\t\t\t{$OWNER_NAME}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\t\t\t\t{if array_intersect(['roleUsers', 'rsUsers'], $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t{assign var=ALL_ROLES value=\\Settings_Roles_Record_Model::getAll()}\n\t\t\t\t\t{if in_array('roleUsers', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate('LBL_ROLE_USERS', $QUALIFIED_MODULE)}\">\n\t\t\t\t\t\t\t{foreach from=$ALL_ROLES item=MEMBER}\n\t\t\t\t\t\t\t\t{assign var=\"MEMBER_ID\" value=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_ROLES}:{$MEMBER->getId()}\"}\n\t\t\t\t\t\t\t\t<option class=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_ROLES}\" value=\"{$MEMBER_ID}\"\n\t\t\t\t\t\t\t\t\tdata-member-type=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_ROLES}\"\n\t\t\t\t\t\t\t\t\t{if $OWNER eq $MEMBER_ID} selected {/if}>\n\t\t\t\t\t\t\t\t\t{\\App\\Language::translate($MEMBER->getName(), $QUALIFIED_MODULE)}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{if in_array('rsUsers', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate('LBL_ROLE_AND_SUBORDINATES_USERS', $QUALIFIED_MODULE)}\">\n\t\t\t\t\t\t\t{foreach from=$ALL_ROLES item=MEMBER}\n\t\t\t\t\t\t\t\t{assign var=\"MEMBER_ID\" value=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_ROLE_AND_SUBORDINATES}:{$MEMBER->getId()}\"}\n\t\t\t\t\t\t\t\t<option class=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_ROLE_AND_SUBORDINATES}\" value=\"{$MEMBER_ID}\"\n\t\t\t\t\t\t\t\t\tdata-member-type=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_ROLE_AND_SUBORDINATES}\"\n\t\t\t\t\t\t\t\t\t{if $OWNER eq $MEMBER_ID} selected {/if}>\n\t\t\t\t\t\t\t\t\t{\\App\\Language::translate($MEMBER->getName(), $QUALIFIED_MODULE)}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\t\t\t{/if}\n\t\t</select>\n\t</div>\n\t<!-- /tpl-Base-dashboards-SelectAccessibleTemplate -->\n{/strip}\n"], "fixing_code": ["<?php\n\nreturn [\n\t'appVersion' => '6.4.1',\n\t'patchVersion' => '2022.08.22',\n\t'lib_roundcube' => '0.3.0',\n];\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t{assign var=ACCESSIBLE_USERS value=\\App\\Fields\\Owner::getInstance()->getAccessibleUsers()}\n\t{assign var=ACCESSIBLE_GROUPS value=\\App\\Fields\\Owner::getInstance()->getAccessibleGroups()}\n\t{assign var=CURRENTUSERID value=$CURRENTUSER->getId()}\n\t<div class=\"tpl-dashboards-Calendar\">\n\t\t<div class=\"dashboardWidgetHeader\">\n\t\t\t<div class=\"d-flex flex-row flex-nowrap no-gutters justify-content-between\">\n\t\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/WidgetHeaderTitle.tpl', $MODULE_NAME)}\n\t\t\t\t<div class=\"d-inline-flex\">\n\t\t\t\t\t{if \\App\\Privilege::isPermitted($SOURCE_MODULE, 'CreateView')}\n\t\t\t\t\t\t<button class=\"btn btn-sm btn-light js-widget-quick-create\" data-js=\"click\" type=\"button\"\n\t\t\t\t\t\t\tdata-module-name=\"{$SOURCE_MODULE}\"\n\t\t\t\t\t\t\t<span class='fas fa-plus' title=\"{\\App\\Language::translate('LBL_ADD_RECORD')}\"></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/DashboardHeaderIcons.tpl', $MODULE_NAME)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<hr class=\"widgetHr\" />\n\t\t\t<div class=\"row no-gutters\">\n\t\t\t\t<div class=\"col-ceq-xsm-6\">\n\t\t\t\t\t{assign var=WIDGET_DATA value=\\App\\Json::decode(html_entity_decode($WIDGET->get('data')))}\n\t\t\t\t\t{if App\\Config::module('Calendar','DASHBOARD_CALENDAR_WIDGET_FILTER_TYPE') == 'list'}\n\t\t\t\t\t\t<div class=\"input-group input-group-sm\">\n\t\t\t\t\t\t\t<span class=\"input-group-prepend\">\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\">\n\t\t\t\t\t\t\t\t\t<span class=\"fas fa-filter iconMiddle margintop3\"></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<select class=\"widgetFilter select2 form-control customFilter\" name=\"customFilter\"\n\t\t\t\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_CUSTOM_FILTER')}\">\n\t\t\t\t\t\t\t\t{assign var=CUSTOM_VIEWS value=CustomView_Record_Model::getAllByGroup('Calendar')}\n\t\t\t\t\t\t\t\t{foreach key=GROUP_LABEL item=GROUP_CUSTOM_VIEWS from=$CUSTOM_VIEWS}\n\t\t\t\t\t\t\t\t\t<optgroup\n\t\t\t\t\t\t\t\t\t\tlabel='{\\App\\Language::translate('LBL_CV_GROUP_'|cat:strtoupper($GROUP_LABEL))}'>\n\t\t\t\t\t\t\t\t\t\t{foreach item=\"CUSTOM_VIEW\" from=$GROUP_CUSTOM_VIEWS}\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"{$CUSTOM_VIEW->get('cvid')}\" {if !empty($DATA['customFilter']) && $DATA['customFilter'] eq $CUSTOM_VIEW->get('cvid')} selected {elseif empty($DATA['customFilter']) && !empty($WIDGET_DATA['defaultFilter']) && $WIDGET_DATA['defaultFilter'] eq $CUSTOM_VIEW->get('cvid')} selected {/if}>{\\App\\Language::translate($CUSTOM_VIEW->get('viewname'), 'Calendar')}</option>\n\t\t\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{if App\\Config::module('Calendar','DASHBOARD_CALENDAR_WIDGET_FILTER_TYPE') == 'switch'}\n\t\t\t\t\t\t{assign var=CURRENT_STATUS value=Calendar_Module_Model::getComponentActivityStateLabel('current')}\n\t\t\t\t\t\t{assign var=HISTORY_STATUS value=Calendar_Module_Model::getComponentActivityStateLabel('history')}\n\t\t\t\t\t\t<div class=\"btn-group btn-group-toggle\" data-toggle=\"buttons\">\n\t\t\t\t\t\t\t<label class=\"btn btn-sm btn-outline-primary active\">\n\t\t\t\t\t\t\t\t<input class=\"js-switch--calendar\" type=\"radio\" name=\"options\" id=\"options-option1\"\n\t\t\t\t\t\t\t\t\tdata-js=\"change\"\n\t\t\t\t\t\t\t\t\tdata-on-text=\"{\\App\\Language::translate('LBL_TO_REALIZE')}\" autocomplete=\"\n\t\t\t\t\t\t\t   off\" checked> {\\App\\Language::translate('LBL_TO_REALIZE')}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label class=\"btn btn-sm btn-outline-primary\">\n\t\t\t\t\t\t\t\t<input class=\"js-switch--calendar\" type=\"radio\" name=\"options\" id=\"options-option2\"\n\t\t\t\t\t\t\t\t\tdata-js=\"change\"\n\t\t\t\t\t\t\t\t\tdata-off-text=\"{\\App\\Language::translate('History')}\" autocomplete=\"\n\t\t\t\t\t\t\t   off\"> {\\App\\Language::translate('History')}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"hidden\" value=\"current\" data-current=\"{implode('##',$CURRENT_STATUS)}\"\n\t\t\t\t\t\t\tdata-history=\"{implode(',',$HISTORY_STATUS)|escape}\" class=\"widgetFilterSwitch\" {if !empty($WIDGET_DATA['defaultFilter'])} data-default-filter=\"{$WIDGET_DATA['defaultFilter']|escape}\" {/if}>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-ceq-xsm-6\">\n\t\t\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/SelectAccessibleTemplate.tpl', $MODULE_NAME)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"row marginTop2\">\n\t\t\t\t<div class=\"col-sm-12\">\n\t\t\t\t\t<div class=\"headerCalendar pinUnpinShortCut row\">\n\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t<button class=\"btn btn-light btn-sm\" data-type=\"fc-prev-button\">\n\t\t\t\t\t\t\t\t<span class=\"fas fa-chevron-left\"\n\t\t\t\t\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_PREVIOUS')}\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-8 month textAlignCenter paddingRightZero\"></div>\n\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t<button class=\"btn btn-light btn-sm  float-right\" data-type=\"fc-next-button\">\n\t\t\t\t\t\t\t\t<span class=\"fas fa-chevron-right\"\n\t\t\t\t\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_NEXT')}\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"dashboardWidgetContent dashboardWidgetCalendar\">\n\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/CalendarContents.tpl', $MODULE_NAME) WIDGET=$WIDGET}\n\t\t</div>\n\t</div>\n{/strip}\n", "{*<!--\n/*********************************************************************************\n** The contents of this file are subject to the vtiger CRM Public License Version 1.0\n* (\"License\"); You may not use this file except in compliance with the License\n* The Original Code is:  vtiger CRM Open Source\n* The Initial Developer of the Original Code is vtiger.\n* Portions created by vtiger are Copyright (C) vtiger.\n* All Rights Reserved.\n*\n********************************************************************************/\n-->*}\n{strip}\n\t<style type=\"text/css\">\n\t\tsmall.small-a {\n\t\t\tfont-size: 75%;\n\t\t}\n\t</style>\n\t<div>\n\t\t{foreach from=$ACTIVITIES key=INDEX item=ACTIVITY}\n\t\t\t<div class=\"changeActivity u-cursor-pointer\" data-url=\"{$ACTIVITY->getActivityStateModalUrl()|escape}\" accesskey=\"\">\n\t\t\t\t<div class=\"rowActivities\">\n\t\t\t\t\t<div class=\"d-flex mb-1\">\n\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t{assign var=ACTIVITY_TYPE value=$ACTIVITY->get('activitytype')}\n\t\t\t\t\t\t\t{assign var=ACTIVITY_UPPERCASE value=$ACTIVITY_TYPE|upper}\n\t\t\t\t\t\t\t<i class=\"\n\t\t\t\t\t\t\t   {if $ACTIVITY_TYPE eq 'Task'}\n\t\t\t\t\t\t\t\t   far fa-check-square\n\t\t\t\t\t\t\t   {elseif $ACTIVITY_TYPE eq 'Call'}\n\t\t\t\t\t\t\t\t   fas fa-phone\n\t\t\t\t\t\t\t   {else}\n\t\t\t\t\t\t\t\t   fas fa-user\n\t\t\t\t\t\t\t   {/if}\n\t\t\t\t\t\t\t   {' '}fa-lg fa-fw\"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{if $DATE_TYPE === 'DUE'}\n\t\t\t\t\t\t\t{assign var=ACTIVITY_DATE value=$ACTIVITY->get('due_date')}\n\t\t\t\t\t\t\t{assign var=ACTIVITY_TIME value=$ACTIVITY->get('time_end')}\n\t\t\t\t\t\t{else}\n\t\t\t\t\t\t\t{assign var=ACTIVITY_DATE value=$ACTIVITY->get('date_start')}\n\t\t\t\t\t\t\t{assign var=ACTIVITY_TIME value=$ACTIVITY->get('time_start')}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{assign var=LINK value=$ACTIVITY->get('link')}\n\t\t\t\t\t\t{assign var=PROCESS value=$ACTIVITY->get('process')}\n\t\t\t\t\t\t{assign var=SUBPROCESS value=$ACTIVITY->get('subprocess')}\n\t\t\t\t\t\t{assign var=CONTRACTOR value=$ACTIVITY->get('contractor')}\n\t\t\t\t\t\t<div class=\"w-100 mx-1\">\n\t\t\t\t\t\t\t{\\App\\TextUtils::textTruncate($ACTIVITY->getDisplayName(), $NAMELENGTH)}\n\t\t\t\t\t\t\t{if $CONTRACTOR}\n\t\t\t\t\t\t\t\t<br /><small class=\"small-a\">{\\App\\Language::translate('LBL_FOR')}&nbsp;<strong>{$ACTIVITY->getDisplayValue('contractor')}</strong></small>, <strong><small class='small-a'><a href=\"{$CONTRACTOR->getDetailViewUrl()|escape}\">{\\App\\TextUtils::textTruncate($CONTRACTOR->getDisplayName(), $HREFNAMELENGTH)}</a></small></strong>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{if $LINK}\n\t\t\t\t\t\t\t\t<br /><small class=\"small-a\">{\\App\\Language::translate('LBL_FOR')}&nbsp;<strong>{$ACTIVITY->getDisplayValue('link')}</strong></small>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{if $PROCESS}\n\t\t\t\t\t\t\t\t<br /><small class=\"small-a\">{\\App\\Language::translate('LBL_FOR')}&nbsp;<strong>{$ACTIVITY->getDisplayValue('process')}</strong></small>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{if $SUBPROCESS}\n\t\t\t\t\t\t\t\t<br /><small class=\"small-a\">{\\App\\Language::translate('LBL_FOR')}&nbsp;<strong>{$ACTIVITY->getDisplayValue('subprocess')}</strong></small>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{$ACTIVITY->getDisplayValue('taskpriority')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{if $ACTIVITY->get('location') neq '' }\n\t\t\t\t\t\t\t<div class=\"ml-1\">\n\t\t\t\t\t\t\t\t<a target=\"_blank\" rel=\"noreferrer noopener\" href=\"https://www.google.com/maps/search/{urlencode ($ACTIVITY->getDisplayValue('location'))}\" class=\"float-right\" title=\"{\\App\\Language::translate('Location', 'Calendar')}: {$ACTIVITY->getDisplayValue('location')}\">\n\t\t\t\t\t\t\t\t\t<span class=\"fas fa-globe\"></span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t<div class=\"ml-1\">\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t{\\App\\Fields\\DateTime::formatToViewDate(\"$ACTIVITY_DATE $ACTIVITY_TIME\")}\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{foreachelse}\n\t\t\t<span class=\"noDataMsg\">\n\t\t\t\t{\\App\\Language::translate($NODATAMSGLABLE, $MODULE_NAME)}\n\t\t\t</span>\n\t\t{/foreach}\n\t\t{if $PAGING_MODEL->get('nextPageExists') eq 'true'}\n\t\t\t<div class=\"float-right padding5\">\n\t\t\t\t<button type=\"button\" class=\"btn btn-sm btn-primary showMoreHistory\" data-url=\"{$WIDGET->getUrl()|escape}&page={$PAGING_MODEL->getNextPage()}\">\n\t\t\t\t\t{\\App\\Language::translate('LBL_MORE')}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<input type=\"hidden\" id=\"currentView\" value=\"{$VIEW}\" />\n\t<input type=\"hidden\" id=\"activity_view\" value=\"{$CURRENT_USER->getDetail('activity_view')|escape}\" />\n\t<input type=\"hidden\" id=\"date_format\" value=\"{$CURRENT_USER->getDetail('date_format')|escape}\" />\n\t<input type=\"hidden\" id=\"defaultDate\" value=\"{$DEFAULTDATE}\" />\n\t<div class=\"js-calendar__container\" data-js=\"fullcalendar\"></div>\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<!-- tpl-dashboards-ChartFilter -->\n\t{assign \"COL_LBL\" \"col-sm-12 col-md-4 col-lg-3 col-form-label\"}\n\t{assign \"COL_CTRL\" \"col-sm-12 col-md-8 col-lg-9\"}\n\t{if $WIZARD_STEP eq 'step1'}\n\t\t<form class=\"validateForm u-word-break\" method=\"post\" action=\"javascript:;\">\n\t\t\t{if $WIDGET_MODEL->getId()}\n\t\t\t\t<input type=\"hidden\" name=\"templateId\" class=\"js-widget-id\" value=\"{$WIDGET_MODEL->getId()}\">\n\t\t\t{/if}\n\t\t\t<input type=\"hidden\" name=\"linkId\" class=\"js-link-id\" value=\"{$WIDGET_MODEL->get('linkid')}\">\n\t\t\t<div class=\"modal-body\">\n\t\t\t\t<div class=\"container-fluid pt-3\">\n\t\t\t\t\t<input type=\"hidden\" id=\"widgetStep\" value=\"\" />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t\t\t\t<label class=\"{$COL_LBL}\">{\\App\\Language::translate('LBL_WIDGET_NAME','Home')}</label>\n\t\t\t\t\t\t\t<div class=\"{$COL_CTRL}\"><input type=\"text\" class=\"form-control\" name=\"title\" value=\"{\\App\\Purifier::encodeHtml($WIDGET_MODEL->getValueForEditView('title'))}\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t\t\t\t<label class=\"{$COL_LBL}\"><span class=\"redColor\">*</span>{\\App\\Language::translate('LBL_SELECT_CHART','Home')}</label>\n\t\t\t\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t\t\t\t{assign \"VALUE_CHART_TYPE\" $WIDGET_MODEL->getValueForEditView('chartType')}\n\t\t\t\t\t\t\t\t<select class=\"form-control select2 saveParam\" name=\"chartType\">\n\t\t\t\t\t\t\t\t\t{foreach from=$CHART_TYPES item=TYPE key=VALUE}\n\t\t\t\t\t\t\t\t\t\t<option value=\"{$VALUE}\" {if $VALUE === $VALUE_CHART_TYPE} selected{/if}>{\\App\\Language::translate($TYPE, $MODULE_NAME)}</option>\n\t\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"step1\">\n\t\t\t\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t\t\t\t<label class=\"{$COL_LBL}\"><span class=\"redColor\">*</span>{\\App\\Language::translate('LBL_SELECT_MODULE')}</label>\n\t\t\t\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t\t\t\t{assign \"VALUE_MODULE\" $WIDGET_MODEL->getValueForEditView('module')}\n\t\t\t\t\t\t\t\t<select class=\"form-control saveParam\" name=\"module\">\n\t\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t\t{foreach from=$MODULES item=MODULE_MODEL key=MODULE_THIS_NAME}\n\t\t\t\t\t\t\t\t\t\t<option value=\"{$MODULE_MODEL['name']}\" {if $MODULE_MODEL['name'] === $VALUE_MODULE} selected{/if}>{\\App\\Language::translate($MODULE_MODEL['name'], $MODULE_MODEL['name'])}</option>\n\t\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"step2\"></div>\n\t\t\t\t\t<div class=\"step3\"></div>\n\t\t\t\t\t<div class=\"step4\"></div>\n\t\t\t\t\t<div class=\"step5\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"js-chart-footer\" style=\"display: none;\">\n\t\t\t\t{include file=\\App\\Layout::getTemplatePath('Modals/Footer.tpl', $MODULE_NAME) BTN_SUCCESS='LBL_SAVE' BTN_DANGER='LBL_CANCEL' MODULE=$MODULE_NAME}\n\t\t\t</div>\n\t\t</form>\n\t{elseif $WIZARD_STEP eq 'step2'}\n\t\t<div class=\"form-group row mb-2\">\n\t\t\t<label class=\"{$COL_LBL}\"><span class=\"redColor\">*</span>{\\App\\Language::translate('LBL_FILTER')}</label>\n\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t{assign \"VALUE_FILTER\" $WIDGET_MODEL->getValueForEditView('filterid')}\n\t\t\t\t<select class=\"form-control filtersId\" {if $CHART_TYPE!=='Funnel' && $CHART_TYPE!=='Table' }name=\"filtersId\"\n\t\t\t\t\tmultiple=\"multiple\" {else}name=\"filtersId[]\"\n\t\t\t\t\t{/if}\n\t\t\t\t\tdata-validation-engine=\"validate[required]\" data-maximum-selection-length=\"{\\App\\Config::performance('CHART_MULTI_FILTER_LIMIT')}\">\n\t\t\t\t\t<option></option>\n\t\t\t\t\t{foreach from=$ALLFILTERS item=FILTERS key=FILTERGROUP}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate($FILTERGROUP,$SELECTED_MODULE)}\">\n\t\t\t\t\t\t\t{foreach from=$FILTERS item=FILTER key=FILTERNAME}\n\t\t\t\t\t\t\t\t{if $FILTER->get('setmetrics') eq 1}\n\t\t\t\t\t\t\t\t\t<option value=\"{$FILTER->getId()}\" {if in_array($FILTER->getId(), $VALUE_FILTER)} selected{/if}>{\\App\\Language::translate($FILTER->get('viewname'),$SELECTED_MODULE)}</option>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/foreach}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"form-group row mb-2\">\n\t\t\t<label class=\"{$COL_LBL}\"><span class=\"redColor\">*</span>{\\App\\Language::translate('LBL_VALUE_TYPE', 'Home')}</label>\n\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t{assign \"VALUE_TYPE\" $WIDGET_MODEL->getValueForEditView('valueType')}\n\t\t\t\t<select class=\"form-control valueType saveParam\" name=\"valueType\" size=\"2\">\n\t\t\t\t\t<option value=\"count\" {if 'count' === $VALUE_TYPE} selected{/if}>{\\App\\Language::translate('LBL_NUMBER_OF_RECORDS','Home')}</option>\n\t\t\t\t\t{if $IS_NUMERAL_VALUE}\n\t\t\t\t\t\t<option value=\"sum\" {if 'sum' === $VALUE_TYPE} selected{/if}>{\\App\\Language::translate('LBL_SUM','Home')}</option>\n\t\t\t\t\t\t<option value=\"avg\" {if 'avg' === $VALUE_TYPE} selected{/if}>{\\App\\Language::translate('LBL_AVG','Home')}</option>\n\t\t\t\t\t{/if}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t{elseif $WIZARD_STEP eq 'step3'}\n\t\t<div class=\"form-group row mb-2\">\n\t\t\t<div class=\"{$COL_LBL}\"><label><span class=\"redColor\">*</span>{\\App\\Language::translate('LBL_GROUP_FIELD','Home')}</label></div>\n\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t{assign \"VALUE_GROUP_FIELD\" $WIDGET_MODEL->getValueForEditView('groupField')}\n\t\t\t\t<select class=\"form-control groupField saveParam\" name=\"groupField\" size=\"2\" data-validation-engine=\"validate[required]\">\n\t\t\t\t\t{foreach from=$MODULE_FIELDS item=FIELDS key=BLOCK_NAME}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate($BLOCK_NAME,$SELECTED_MODULE)}\">\n\t\t\t\t\t\t\t{foreach from=$FIELDS item=FIELD key=FIELD_NAME}\n\t\t\t\t\t\t\t\t<option value=\"{$FIELD_NAME}\"\n\t\t\t\t\t\t\t\t\tdata-field-type=\"{$FIELD->getFieldDataType()}\"\n\t\t\t\t\t\t\t\t\t{if $FIELD_NAME === $VALUE_GROUP_FIELD} selected{/if}>{\\App\\Language::translate($FIELD->getFieldLabel(),$SELECTED_MODULE)}</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/foreach}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t\t{if $VALUE_TYPE !== 'count'}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t<div class=\"{$COL_LBL}\"><label><span class=\"redColor\">*</span>{\\App\\Language::translate('LBL_VALUE_FIELD','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t{assign \"VALUE_FIELD\" $WIDGET_MODEL->getValueForEditView('valueField')}\n\t\t\t\t\t<select class=\"form-control saveParam valueField\" name=\"valueField\" size=\"2\" data-validation-engine=\"validate[required]\">\n\t\t\t\t\t\t{foreach from=$MODULE_FIELDS item=FIELDS key=BLOCK_NAME}\n\t\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate($BLOCK_NAME,$SELECTED_MODULE)}\">\n\t\t\t\t\t\t\t\t{foreach from=$FIELDS item=FIELD key=FIELD_NAME}\n\t\t\t\t\t\t\t\t\t{if in_array($FIELD->getFieldDataType(), $REQUIRED_FIELD_TYPE)}\n\t\t\t\t\t\t\t\t\t\t<option value=\"{$FIELD_NAME}\" data-field-type=\"{$FIELD->getFieldDataType()}\" {if $FIELD_NAME === $VALUE_FIELD} selected{/if}>{\\App\\Language::translate($FIELD->getFieldLabel(),$SELECTED_MODULE)}</option>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t{elseif $WIZARD_STEP eq 'step4'}\n\t\t{if $SHOW_GROUP_VALUES}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_GROUP_VALUES','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t{assign \"VALUE_SECTOR_FIELD\" $WIDGET_MODEL->getValueForEditView('sectorField')}\n\t\t\t\t\t<select class=\"form-control select saveParam\" data-select=\"tags\" name=\"sectorField\">\n\t\t\t\t\t\t<optgroup class=\"p-0\">\n\t\t\t\t\t\t\t<option value=\"\">{\\App\\Language::translate('LBL_SELECT_OPTION')}</option>\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t{foreach from=$GROUP_VALUES item=LABEL key=KEY}\n\t\t\t\t\t\t\t<option value=\"{$KEY}\" {if $KEY === $VALUE_SECTOR_FIELD} selected{/if}>{\\App\\Language::translate($LABEL, $MODULE_NAME)}</option>\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{elseif in_array($CHART_TYPE,['Bar','Line','Pie','LinePlain','Donut','Horizontal', 'Table']) && count($FILTERS)<=1}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_DIVIDING_FIELD','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t{assign \"VALUE_DIVIDING_FIELD\" $WIDGET_MODEL->getValueForEditView('dividingField')}\n\t\t\t\t\t<select class=\"form-control saveParam\" name=\"dividingField\" size=\"2\" data-allow-clear=\"true\">\n\t\t\t\t\t\t{foreach from=$MODULE_FIELDS item=FIELDS key=BLOCK_NAME}\n\t\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate($BLOCK_NAME,$SELECTED_MODULE)}\">\n\t\t\t\t\t\t\t\t{foreach from=$FIELDS item=FIELD key=FIELD_NAME}\n\t\t\t\t\t\t\t\t\t<option value=\"{$FIELD_NAME}\"\n\t\t\t\t\t\t\t\t\t\tdata-field-type=\"{$FIELD->getFieldDataType()}\"\n\t\t\t\t\t\t\t\t\t\t{if $FIELD_NAME === $VALUE_DIVIDING_FIELD} selected{/if}>{\\App\\Language::translate($FIELD->getFieldLabel(),$SELECTED_MODULE)}</option>\n\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"form-group row d-none js-sector-container mb-2\">\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_GROUP_VALUES','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t{assign \"VALUE_SECTOR_FIELD\" $WIDGET_MODEL->getValueForEditView('sectorField')}\n\t\t\t\t\t<select class=\"form-control select saveParam\" data-select=\"tags\" name=\"sectorField\" disabled>\n\t\t\t\t\t\t<optgroup class=\"p-0\">\n\t\t\t\t\t\t\t<option value=\"\">{\\App\\Language::translate('LBL_SELECT_OPTION')}</option>\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t{foreach from=$GROUP_VALUES item=LABEL key=KEY}\n\t\t\t\t\t\t\t<option value=\"{$KEY}\" {if $KEY === $VALUE_SECTOR_FIELD} selected{/if}>{\\App\\Language::translate($LABEL, $MODULE_NAME)}</option>\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{if $CHART_TYPE neq 'Table'}\n\t\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t\t{assign \"VALUE_COLORS\" $WIDGET_MODEL->getValueForEditView('colorsFromDividingField')}\n\t\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_COLORS_FROM_DIVIDING_FIELD','Home')}</label></div>\n\t\t\t\t\t<div class=\"{$COL_CTRL} m-auto\">\n\t\t\t\t\t\t<input type=\"hidden\" name=\"colorsFromDividingField\" value=\"0\">\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"form-control saveParam\" name=\"colorsFromDividingField\" value=\"1\" {if $VALUE_COLORS} checked{/if}>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t{/if}\n\t\t{if in_array($CHART_TYPE,['Bar','Horizontal','Line','LinePlain'])}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t{assign \"VALUE_STACKED\" $WIDGET_MODEL->getValueForEditView('stacked')}\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_CHART_STACKED','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL} m-auto\">\n\t\t\t\t\t<input type=\"hidden\" name=\"stacked\" value=\"0\">\n\t\t\t\t\t<input type=\"checkbox\" class=\"form-control saveParam\" name=\"stacked\" value=\"1\" {if $VALUE_STACKED} checked{/if}>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t\t{if count($FILTERS)>1}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t{assign \"VALUE_COLORS\" $WIDGET_MODEL->getValueForEditView('colorsFromFilter')}\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_CHART_COLORS_FROM_FILTER','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL} m-auto\">\n\t\t\t\t\t<input type=\"hidden\" name=\"colorsFromFilter\" value=\"0\">\n\t\t\t\t\t<input type=\"checkbox\" class=\"form-control saveParam\" name=\"colorsFromFilter\" value=\"1\" {if $VALUE_COLORS} checked{/if}>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t\t<div class=\"form-group row mb-2\">\n\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_ADDITIONAL_FILTERS','Home')}</label></div>\n\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t{assign \"VALUE_ADDITIONAL_FIELD\" $WIDGET_MODEL->getValueForEditView('additionalFiltersFields')}\n\t\t\t\t<select class=\"form-control saveParam\" name=\"additionalFiltersFields\" size=\"2\" multiple data-maximum-selection-length=\"{\\App\\Config::performance('CHART_ADDITIONAL_FILTERS_LIMIT')}\">\n\t\t\t\t\t{foreach from=$MODULE_FIELDS item=FIELDS key=BLOCK_NAME}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate($BLOCK_NAME,$SELECTED_MODULE)}\">\n\t\t\t\t\t\t\t{foreach from=$FIELDS item=FIELD key=FIELD_NAME}\n\t\t\t\t\t\t\t\t<option value=\"{$FIELD_NAME}\" data-field-type=\"{$FIELD->getFieldDataType()}\" {if in_array($FIELD_NAME, $VALUE_ADDITIONAL_FIELD)} selected{/if}>{\\App\\Language::translate($FIELD->getFieldLabel(),$SELECTED_MODULE)}</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/foreach}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t\t{if $CHART_TYPE eq 'Table'}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t{assign \"VALUE_SUMMARY\" $WIDGET_MODEL->getValueForEditView('summary')}\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_WIDGET_SHOW_SUMMARY','Home')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL} m-auto\">\n\t\t\t\t\t<input type=\"hidden\" name=\"summary\" value=\"0\">\n\t\t\t\t\t<input type=\"checkbox\" class=\"form-control saveParam\" name=\"summary\" value=\"1\" {if $VALUE_SUMMARY} checked{/if}>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t{elseif $WIZARD_STEP eq 'step5' }\n\t\t{if in_array($CHART_TYPE,['Bar','Horizontal','Line','LinePlain']) && !$DIVIDING_FIELD && !$STACKED && !$SECTOR_FIELD && count($FILTERS)<=1}\n\t\t\t<div class=\"form-group row mb-2\">\n\t\t\t\t<div class=\"{$COL_LBL}\"><label>{\\App\\Language::translate('LBL_SORTING_SETTINGS')}</label></div>\n\t\t\t\t<div class=\"{$COL_CTRL}\">\n\t\t\t\t\t{assign \"VALUE_SORT\" $WIDGET_MODEL->getValueForEditView('sortOrder')}\n\t\t\t\t\t<select class=\"form-control select saveParam\" name=\"sortOrder\">\n\t\t\t\t\t\t<optgroup class=\"p-0\">\n\t\t\t\t\t\t\t<option value=\"\">{\\App\\Language::translate('LBL_SELECT_OPTION')}</option>\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t<option value=\"{\\App\\Db::DESC}\" {if \\App\\Db::DESC === $VALUE_SORT} selected{/if}>{\\App\\Language::translate('LBL_SORT_DESCENDING')}</option>\n\t\t\t\t\t\t<option value=\"{\\App\\Db::ASC}\" {if \\App\\Db::ASC === $VALUE_SORT} selected{/if}>{\\App\\Language::translate('LBL_SORT_ASCENDING')}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t{/if}\n\t<!-- /tpl-dashboards-ChartFilter -->\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<input type=\"hidden\" name=\"typeChart\" value=\"{$CHART_MODEL->getType()}\">\n\t<input type=\"hidden\" name=\"stacked\" value=\"{$CHART_STACKED}\">\n\t<input type=\"hidden\" name=\"colorsFromDividingField\" value=\"{$CHART_COLORS_FROM_DIVIDING_FIELD}\">\n\t<input type=\"hidden\" name=\"colorsFromFilters\" value=\"{$CHART_COLORS_FROM_FILTERS}\">\n\t<input type=\"hidden\" name=\"filterIds\"\n\t\tvalue=\"{\\App\\Purifier::encodeHtml(App\\Json::encode($CHART_MODEL->getFilterIds()))}\">\n\t{if $CHART_MODEL->getType() === 'Table' && $CHART_DATA}\n\t\t{assign var=FIRST_ROW value=current($CHART_DATA)}\n\t\t{assign var=HEADERS value=array_keys($CHART_DATA)}\n\t\t{assign var=IS_SUMMARY value=$CHART_MODEL->getExtraData('summary')}\n\t\t{assign var=SUMMARY value=[]}\n\t\t<div style=\"margin: -5px; line-height: 1;\">\n\t\t\t<div class=\"table-responsive\">\n\t\t\t\t<table class=\"config-table table u-word-break-all\">\n\t\t\t\t\t{if $CHART_MODEL->isDividedByField()}\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<th class=\"u-white-space-nowrap\"></th>\n\t\t\t\t\t\t\t{foreach from=$HEADERS item=HEADER}\n\t\t\t\t\t\t\t\t{if $HEADER === 0}\n\t\t\t\t\t\t\t\t\t{assign \"HEADER\" \"\"}\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t<th class=\"u-white-space-nowrap text-center p-1\">\n\t\t\t\t\t\t\t\t\t<div class=\"mt-1\">\n\t\t\t\t\t\t\t\t\t\t{$HEADER}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t{/if}\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{assign var=GROUPS value=array_keys($FIRST_ROW)}\n\t\t\t\t\t\t{assign var=VALUE_TYPE value=$CHART_MODEL->getValueType()}\n\t\t\t\t\t\t{foreach from=$GROUPS item=GROUP_HEADER}\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"u-white-space-nowrap pr-0\">\n\t\t\t\t\t\t\t\t\t{$GROUP_HEADER}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t{foreach from=$HEADERS item=HEADER}\n\t\t\t\t\t\t\t\t\t<td class=\"text-center noWrap listButtons narrow\">\n\t\t\t\t\t\t\t\t\t\t{if $IS_SUMMARY} {$SUMMARY[$HEADER][] = $CHART_DATA.$HEADER.$GROUP_HEADER.$VALUE_TYPE} {/if}\n\t\t\t\t\t\t\t\t\t\t{assign var=VALUE value=$CHART_MODEL->convertToUserFormat($CHART_DATA.$HEADER.$GROUP_HEADER.$VALUE_TYPE)}\n\t\t\t\t\t\t\t\t\t\t{if !empty($CHART_DATA.$HEADER.$GROUP_HEADER.link)}\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"{$CHART_DATA.$HEADER.$GROUP_HEADER.link|escape}\">{$VALUE}</a>\n\t\t\t\t\t\t\t\t\t\t{else}\n\t\t\t\t\t\t\t\t\t\t\t{$VALUE}\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t{if $IS_SUMMARY}\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"u-white-space-nowrap pr-0 border-secondary\">\n\t\t\t\t\t\t\t\t\t<b>{\\App\\Language::translate('LBL_SUMMARY')}</b>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t{foreach from=$HEADERS item=HEADER}\n\t\t\t\t\t\t\t\t\t<td class=\"text-center noWrap listButtons narrow border-secondary\">\n\t\t\t\t\t\t\t\t\t\t{assign var=HEADER_SUM value=array_sum($SUMMARY[$HEADER])}\n\t\t\t\t\t\t\t\t\t\t<b>{$CHART_MODEL->convertToUserFormat($HEADER_SUM)}</b>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t{elseif !empty($CHART_DATA['show_chart']) }\n\t\t<input class=\"widgetData\" name=\"data\" type=\"hidden\" value=\"{\\App\\Purifier::encodeHtml(\\App\\Json::encode($CHART_DATA))}\" />\n\t\t<div class=\"widgetChartContainer chartcontent\">\n\t\t\t<canvas></canvas>\n\t\t</div>\n\t{else}\n\t\t<span class=\"noDataMsg\">\n\t\t\t{\\App\\Language::translate('LBL_NO_RECORDS_MATCHED_THIS_CRITERIA')}\n\t\t</span>\n\t{/if}\n{/strip}\n", "{*<!--\n/************************************************************************************\n* The contents of this file are subject to the vtiger CRM Public License Version 1.1\n* (\"License\"); You may not use this file except in compliance with the License\n* The Original Code is:  vtiger CRM Open Source\n* The Initial Developer of the Original Code is vtiger.\n* Portions created by vtiger are Copyright (C) vtiger.\n* All Rights Reserved.\n* Contributor(s): YetiForce S.A.\n************************************************************************************/\n-->*}\n{strip}\n\t<div class=\"tpl-DashBoardContents px-sm-1 d-flex flex-row\">\n\t\t<div class=\"grid-stack\">\n\t\t\t{assign var=COLUMNS value=3}\n\t\t\t{assign var=ROW value=0}\n\t\t\t{assign var=COLCOUNT value=0}\n\t\t\t{assign var=SPECIAL_WIDTGETS value=Vtiger_DashBoard_Model::getWidgetSpecial()}\n\t\t\t{foreach from=$WIDGETS item=WIDGET name=count}\n\t\t\t\t{if $WIDGET->get('active') eq 0}\n\t\t\t\t\t{continue}\n\t\t\t\t{/if}\n\t\t\t\t{assign var=WIDGETDOMID value=$WIDGET->get('linkid')}\n\t\t\t\t{if in_array($WIDGET->getName(), $SPECIAL_WIDTGETS)}\n\t\t\t\t\t{assign var=WIDGETDOMID value=$WIDGET->get('linkid')|cat:'-':$WIDGET->get('widgetid')}\n\t\t\t\t{/if}\n\t\t\t\t{if $smarty.foreach.count.index > 2}\n\t\t\t\t\t{assign var=ROW value=4}\n\t\t\t\t{elseif $smarty.foreach.count.index > 5}\n\t\t\t\t\t{assign var=ROW value=8}\n\t\t\t\t{elseif $smarty.foreach.count.index > 8}\n\t\t\t\t\t{assign var=ROW value=12}\n\t\t\t\t{/if}\n\t\t\t\t{if $smarty.foreach.count.index == 1 || $smarty.foreach.count.index == 4|| $smarty.foreach.count.index == 7}\n\t\t\t\t\t{assign var=COLCOUNT value=4}\n\t\t\t\t{elseif $smarty.foreach.count.index == 2 || $smarty.foreach.count.index == 5|| $smarty.foreach.count.index == 8}\n\t\t\t\t\t{assign var=COLCOUNT value=8}\n\t\t\t\t{elseif $smarty.foreach.count.index % 3 == 0}\n\t\t\t\t\t{assign var=COLCOUNT value=0}\n\t\t\t\t{/if}\n\t\t\t\t<div class=\"grid-stack-item js-css-element-queries\"\n\t\t\t\t\tgs-y=\"{$WIDGET->getPosition($ROW, 'row')}\" gs-x=\"{$WIDGET->getPosition($COLCOUNT, 'col')}\"\n\t\t\t\t\tgs-w=\"{$WIDGET->getWidth()}\" gs-h=\"{$WIDGET->getHeight()}\"\n\t\t\t\t\tdata-js=\"css-element-queries\">\n\t\t\t\t\t<div id=\"{$WIDGETDOMID}\" {if $smarty.foreach.count.index % $COLUMNS == 0 and $smarty.foreach.count.index != 0} {/if}\n\t\t\t\t\t\tclass=\"grid-stack-item-content dashboardWidget dashboardWidget_{$smarty.foreach.count.index}\"\n\t\t\t\t\t\tdata-url=\"{$WIDGET->getUrl()|escape}\"\n\t\t\t\t\t\tdata-mode=\"open\" data-name=\"{\\App\\Purifier::encodeHtml($WIDGET->getName())}\" data-cache=\"{$WIDGET->get('cache')|escape}\"\n\t\t\t\t\t\tdata-loader=\"widgetLoader\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/foreach}\n\t\t\t<div class=\"alert alert-info {if count($WIDGETS) > 0} d-none {/if} js-dashboards-alert\" role=\"alert\" data-js=\u201dcontainer\u201d>\n\t\t\t\t<p>\n\t\t\t\t\t<span class=\"fas fa-exclamation-circle fa-3x vertical-middle\"></span>&nbsp;&nbsp;\n\t\t\t\t\t{\\App\\Language::translate('LBL_EMPTY_DASHBOARD','Dashboard')}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<input type=\"hidden\" id=\"row\" value=\"{$ROW}\" />\n\t\t\t<input type=\"hidden\" id=\"col\" value=\"{$COLCOUNT}\" />\n\t\t</div>\n\t\t<div class=\"o-tablet-scroll__container mx-1 d-none\" data-js=\"class: d-none\">\n\t\t\t<div class=\"o-tablet-scroll__content js-tablet-scroll position-fixed u-hide-underneath border\" data-js=\"scroll | parent\">\n\t\t\t\t<div class=\"o-tablet-scroll__icons d-flex flex-column u-hide-underneath px-1\">\n\t\t\t\t\t<span class=\"fas fa-arrow-up\"></span>\n\t\t\t\t\t<span class=\"far fa-hand-pointer my-2\"></span>\n\t\t\t\t\t<span class=\"fas fa-arrow-down\"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t</div> {*dashboardViewContainer closing tag*}\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<div class=\"tpl-Base-dashboards-DashBoardPreProcessAjax mt-2 mb-2\">\n\t\t<ul class=\"nav nav-tabs massEditTabs selectDashboard{if count($DASHBOARD_TYPES) === 1} d-none{/if} ml-sm-2\">\n\t\t\t{foreach from=$DASHBOARD_TYPES item=DASHBOARD}\n\t\t\t\t<li class=\"nav-item\" data-id=\"{$DASHBOARD['dashboard_id']}\" data-js=\"data-id\">\n\t\t\t\t\t<a class=\"nav-link {if $CURRENT_DASHBOARD eq $DASHBOARD['dashboard_id']} active {/if}\"\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\tdata-toggle=\"tab\">\n\t\t\t\t\t\t<strong>{\\App\\Language::translate($DASHBOARD['name'])}</strong>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t{/foreach}\n\t\t</ul>\n\t\t{if $MODULES_WITH_WIDGET}\n\t\t\t{assign var=COUNT value=count($MODULES_WITH_WIDGET)}\n\t\t\t<ul class=\"nav nav-inverted-tabs massEditTabs selectDashboradView ml-sm-2\">\n\t\t\t\t{foreach from=$MODULES_WITH_WIDGET item=MODULE_WIDGET}\n\t\t\t\t\t<li class=\"nav-item\" data-module=\"{$MODULE_WIDGET|escape}\">\n\t\t\t\t\t\t<a class=\"nav-link pt-1 pb-1 {if $MODULE_NAME eq $MODULE_WIDGET} active {/if}{if $COUNT === 1} d-none{/if}\"\n\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\tdata-toggle=\"tab\">\n\t\t\t\t\t\t\t<span class=\"yfm-{$MODULE_WIDGET|escape} mx-1\"></span>\n\t\t\t\t\t\t\t{\\App\\Language::translate($MODULE_WIDGET, $MODULE_WIDGET)}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t{/foreach}\n\t\t\t</ul>\n\t\t{/if}\n\t</div>\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<!-- tpl-dashboards-DashBoardWidgetsList -->\n\t<button class=\"js-widget-predefined btn btn-outline-dark c-btn-block-xs-down addButton dropdown-toggle u-remove-dropdown-icon {if !$WIDGETS|count gt 0}d-none{/if}\" data-toggle=\"dropdown\" data-js=\"class: d-none\">\n\t\t<span class=\"c-icon--tripple\">\n\t\t\t<span class=\"c-icon--tripple__top fas fa-chart-pie\"></span>\n\t\t\t<span class=\"c-icon--tripple__left fas fa-chart-line\"></span>\n\t\t\t<span class=\"c-icon--tripple__right fas fa-chart-area\"></span>\n\t\t</span>\n\t\t<span class=\"d-none d-md-inline\">{\\App\\Language::translate('LBL_PREDEFINED_WIDGETS','Dashboard')}</span>\n\t</button>\n\t<div class=\"js-widget-list dropdown-menu widgetsList addWidgetDropDown\" data-js=\"container\">\n\t\t{assign var=\"WIDGET\" value=\"\"}\n\t\t{foreach from=$WIDGETS item=WIDGET}\n\t\t\t<a class=\"js-widget-list__item dropdown-item d-flex\" href=\"#\" data-name=\"{\\App\\Purifier::encodeHtml($WIDGET->getName())}\" data-id=\"{$WIDGET->get('widgetid')}\"\n\t\t\t\tdata-widget-url=\"{$WIDGET->getUrl()|escape}\" data-linkid=\"{$WIDGET->get('linkid')}\"\n\t\t\t\tdata-width=\"{$WIDGET->getWidth()}\" data-height=\"{$WIDGET->getHeight()}\" data-js=\"remove | click\">\n\t\t\t\t{\\App\\Language::translate($WIDGET->getTitle(), $MODULE_NAME, null, true, 'Dashboard')}\n\t\t\t\t{if $WIDGET->isDeletable()}\n\t\t\t\t\t<span class=\"text-danger pl-5 ml-auto\">\n\t\t\t\t\t\t<span class=\"fas fa-trash-alt removeWidgetFromList u-hover-opacity\" data-widget-id=\"{$WIDGET->get('widgetid')}\" data-js=\"click\"></span>\n\t\t\t\t\t</span>\n\t\t\t\t{/if}\n\t\t\t</a>\n\t\t{/foreach}\n\t</div>\n\t<!-- /tpl-dashboards-DashBoardWidgetsList -->\n{/strip}\n", "{*<!--\n/*********************************************************************************\n** The contents of this file are subject to the vtiger CRM Public License Version 1.0\n* (\"License\"); You may not use this file except in compliance with the License\n* The Original Code is:  vtiger CRM Open Source\n* The Initial Developer of the Original Code is vtiger.\n* Portions created by vtiger are Copyright (C) vtiger.\n* All Rights Reserved.\n* Contributor(s): YetiForce S.A.\n********************************************************************************/\n-->*}\n{strip}\n\t{if isset($SETTING_EXIST)}\n\t\t<a class=\"btn btn-sm btn-light\" name=\"dfilter\">\n\t\t\t<span class='icon-cog' title=\"{\\App\\Language::translate('LBL_FILTER')}\"></span>\n\t\t</a>\n\t\t&nbsp;\n\t{/if}\n\t<button class=\"btn btn-sm btn-light js-widget-refresh\" title=\"{\\App\\Language::translate('LBL_REFRESH')}\" data-url=\"{$WIDGET->getUrl()|escape}&content=data\" data-js=\"click\">\n\t\t<span class=\"fas fa-sync-alt\"></span>\n\t</button>\n\t{if !$WIDGET->isDefault()}\n\t\t<button class=\"btn btn-sm btn-light js-widget-remove\" title=\"{\\App\\Language::translate('LBL_CLOSE')}\" data-url=\"{$WIDGET->getDeleteUrl()|escape}\" data-js=\"click\">\n\t\t\t<span class=\"fas fa-times\"></span>\n\t\t</button>\n\t{/if}\n{/strip}\n", "{*<!--\n/*********************************************************************************\n** The contents of this file are subject to the vtiger CRM Public License Version 1.0\n* (\"License\"); You may not use this file except in compliance with the License\n* The Original Code is:  vtiger CRM Open Source\n* The Initial Developer of the Original Code is vtiger.\n* Portions created by vtiger are Copyright (C) vtiger.\n* All Rights Reserved.\n* Contributor(s): YetiForce S.A.\n********************************************************************************/\n-->*}\n{strip}\n\t{if $LIST neq false}\n\t\t<table class=\"table table-bordered table-sm\">\n\t\t\t<tr>\n\t\t\t\t{foreach from=$COLUMN_LIST item=col key=col_key}\n\t\t\t\t\t<th>\n\t\t\t\t\t\t{\\App\\Language::translate($col_key, 'Vtiger')}\n\t\t\t\t\t</th>\n\t\t\t\t{/foreach}\n\t\t\t</tr>\n\t\t\t{foreach key=$index item=record from=$LIST}\n\t\t\t\t<tr>\n\t\t\t\t\t{foreach from=$record item=item key=key}\n\t\t\t\t\t\t<td>{\\App\\Purifier::encodeHtml($item)}</td>\n\t\t\t\t\t{/foreach}\n\t\t\t\t</tr>\n\t\t\t{/foreach}\n\t\t</table>\n\t{else}\n\t\t<span class=\"noDataMsg\">\n\t\t\t{\\App\\Language::translate('LBL_NO_MOD_RECORDS', $MODULE_NAME)}\n\t\t</span>\n\t{/if}\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<div class=\"dashboardWidgetHeader\">\n\t\t{foreach key=index item=cssModel from=$STYLES}\n\t\t\t<link rel=\"{$cssModel->getRel()}\" href=\"{$cssModel->getHref()}\" type=\"{$cssModel->getType()}\" media=\"{$cssModel->getMedia()}\" />\n\t\t{/foreach}\n\t\t{foreach key=index item=jsModel from=$SCRIPTS}\n\t\t\t<script type=\"{$jsModel->getType()}\" src=\"{$jsModel->getSrc()}\"></script>\n\t\t{/foreach}\n\t\t<div class=\"d-flex flex-row flex-nowrap no-gutters justify-content-between\">\n\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/WidgetHeaderTitle.tpl', $MODULE_NAME)}\n\t\t\t<div class=\"d-inline-flex\">\n\t\t\t\t<button class=\"btn btn-sm btn-light js-widget-refresh\" title=\"{\\App\\Language::translate('LBL_REFRESH')}\" data-url=\"{$WIDGET->getUrl()|escape}&content=data\" data-js=\"click\">\n\t\t\t\t\t<span class=\"fas fa-sync-alt\"></span>\n\t\t\t\t</button>\n\t\t\t\t{if !$WIDGET->isDefault()}\n\t\t\t\t\t<button class=\"btn btn-sm btn-light js-widget-remove\" title=\"{\\App\\Language::translate('LBL_CLOSE')}\" data-url=\"{$WIDGET->getDeleteUrl()|escape}\" data-js=\"click\">\n\t\t\t\t\t\t<span class=\"fas fa-times\"></span>\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t\t<hr class=\"widgetHr\" />\n\t\t<div class=\"row no-gutters\">\n\t\t\t<div class=\"col\">\n\t\t\t\t<div class=\"input-group input-group-sm\">\n\t\t\t\t\t<div class=\"input-group-prepend\">\n\t\t\t\t\t\t<span class=\"input-group-text\">\n\t\t\t\t\t\t\t<span class=\"fas fa-envelope\"></span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<select class=\"form-control select2noactive widgetFilter\" name=\"mailAccount\" aria-describedby=\"inputGroup-sizing-sm\" id=\"mailUserList\" title=\"{\\App\\Language::translate('LBL_MAIL_USERS_LIST')}\">\n\t\t\t\t\t\t{if count($ACCOUNTSLIST) eq 0}\n\t\t\t\t\t\t\t<option value=\"-\">{\\App\\Language::translate('--None--', $MODULE_NAME)}</option>\n\t\t\t\t\t\t{else}\n\t\t\t\t\t\t\t{foreach from=$ACCOUNTSLIST item=item key=key}\n\t\t\t\t\t\t\t\t<option title=\"{\\App\\Purifier::encodeHtml($item['username'])}\" value=\"{$item['user_id']}\" {if $USER == $item['user_id']}selected{/if}>{\\App\\Purifier::encodeHtml($item['username'])}</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"dashboardWidgetContent\">\n\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/MailsListContents.tpl', $MODULE_NAME)}\n\t</div>\n{/strip}\n", "{*<!--\n/*********************************************************************************\n** The contents of this file are subject to the vtiger CRM Public License Version 1.0\n* (\"License\"); You may not use this file except in compliance with the License\n* The Original Code is:  vtiger CRM Open Source\n* The Initial Developer of the Original Code is vtiger.\n* Portions created by vtiger are Copyright (C) vtiger.\n* All Rights Reserved.\n* Contributor(s): YetiForce S.A.\n********************************************************************************/\n-->*}\n{strip}\n\t<!-- tpl-Base-Dashboards-MiniListWizard -->\n\t{if $WIZARD_STEP eq 'step1'}\n\t\t<div id=\"minilistWizardContainer\" class='modelContainer modal fade' tabindex=\"-1\">\n\t\t\t<div class=\"modal-dialog\">\n\t\t\t\t<div class=\"modal-content\">\n\t\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t\t<h5 class=\"modal-title\" id=\"massEditHeader\">\n\t\t\t\t\t\t\t<span class=\"fas fa-filter mr-1\"></span>\n\t\t\t\t\t\t\t{\\App\\Language::translate('LBL_MINI_LIST','Home')} {\\App\\Language::translate($MODULE_NAME, $MODULE_NAME)}\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n\t\t\t\t\t\t\t<span aria-hidden=\"true\">&times;</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form class=\"form-horizontal\" method=\"post\" action=\"javascript:;\">\n\t\t\t\t\t\t<div class=\"modal-body\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"module\" value=\"{$MODULE_NAME}\" />\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"action\" value=\"MassSave\" />\n\t\t\t\t\t\t\t<table class=\"table table-bordered\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldLabel alignMiddle textAlignCenter\"\n\t\t\t\t\t\t\t\t\t\t\tnowrap>{App\\Language::translate('LBL_WIDGET_NAME','Home')}</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldValue position-relative\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"widgetTitle\" value=\"{\\App\\Purifier::encodeHtml($WIDGET_MODEL->getValueForEditView('title'))}\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-validation-engine=\"validate[required]\" {if $WIDGET_ID} disabled{/if}>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldLabel alignMiddle textAlignCenter\"\n\t\t\t\t\t\t\t\t\t\t\tnowrap>{App\\Language::translate('LBL_SELECT_MODULE')}</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldValue\">\n\t\t\t\t\t\t\t\t\t\t\t{assign \"VALUE_FIELD\" $WIDGET_MODEL->getValueForEditView('module')}\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control select2\" name=\"module\" {if $WIDGET_ID} disabled{/if}>\n\t\t\t\t\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t\t\t\t\t{foreach from=$MODULES item=MODULE_MODEL key=MODULE_THIS_NAME}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"{$MODULE_MODEL['name']|escape}\" {if $MODULE_MODEL['name'] === $VALUE_FIELD} selected{/if}>{App\\Language::translate($MODULE_MODEL['name'], $MODULE_MODEL['name'])}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldLabel alignMiddle textAlignCenter\"\n\t\t\t\t\t\t\t\t\t\t\tnowrap>{App\\Language::translate('LBL_FILTER')}</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldValue\">\n\t\t\t\t\t\t\t\t\t\t\t{assign \"VALUE_FIELD\" $WIDGET_MODEL->getValueForEditView('filterid')}\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control\" name=\"filterid\" {if $WIDGET_ID} disabled{/if}>\n\t\t\t\t\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t\t\t\t\t{if $VALUE_FIELD}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{assign \"CV_DETAIL\" \\App\\CustomView::getCVDetails($VALUE_FIELD)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"{$VALUE_FIELD}\" selected>{App\\Language::translate($CV_DETAIL['viewname'])}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldLabel alignMiddle textAlignCenter\"\n\t\t\t\t\t\t\t\t\t\t\tnowrap>{App\\Language::translate('LBL_FIELDS')}</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldValue\">\n\t\t\t\t\t\t\t\t\t\t\t{assign \"VALUE_FIELD\" $WIDGET_MODEL->getValueForEditView('fields')}\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control{if $WIDGET_ID} select2{/if}\" name=\"fields\" size=\"2\" multiple=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-validation-engine=\"validate[required]\" {if $WIDGET_ID} disabled{/if}>\n\t\t\t\t\t\t\t\t\t\t\t\t{if $VALUE_FIELD}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{assign \"WIDGET_MODULE_MODEL\" Vtiger_Module_Model::getInstance($WIDGET_MODEL->getValueForEditView('module'))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{foreach from=$VALUE_FIELD item=FIELD_NAME}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{assign \"FIELD_MODEL\" $WIDGET_MODULE_MODEL->getFieldByName($FIELD_NAME)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{if $FIELD_MODEL}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"{$FIELD_NAME}\" selected>{$FIELD_MODEL->getFullLabelTranslation()}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t\t\t\t\t\t\t{else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldLabel alignMiddle textAlignCenter\" nowrap>\n\t\t\t\t\t\t\t\t\t\t\t{App\\Language::translate('LBL_FIELD_HREF')}&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"js-popover-tooltip u-cursor-pointer\" data-js=\"popover\" data-placement=\"top\" data-content=\"{\\App\\Language::translate('LBL_FIELD_HREF_TOOLTIP')}\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"fas fa-question-circle\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldValue\">\n\t\t\t\t\t\t\t\t\t\t\t{assign \"VALUE_FIELD\" $WIDGET_MODEL->getValueForEditView('fieldHref')}\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control{if $WIDGET_ID} select2{/if}\" name=\"field_href\" size=\"2\" {if $WIDGET_ID} disabled{/if}>\n\t\t\t\t\t\t\t\t\t\t\t\t{if $VALUE_FIELD}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{assign \"WIDGET_MODULE_MODEL\" Vtiger_Module_Model::getInstance($WIDGET_MODEL->getValueForEditView('module'))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{assign \"FIELD_MODEL\" $WIDGET_MODULE_MODEL->getFieldByName($VALUE_FIELD)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{if $FIELD_MODEL}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"{$VALUE_FIELD}\" selected>{$FIELD_MODEL->getFullLabelTranslation()}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t{else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldLabel alignMiddle textAlignCenter\"\n\t\t\t\t\t\t\t\t\t\t\tnowrap>{App\\Language::translate('LBL_FILTER_FIELD')}</td>\n\t\t\t\t\t\t\t\t\t\t<td class=\"fieldValue\">\n\t\t\t\t\t\t\t\t\t\t\t{assign \"VALUE_FIELD\" $WIDGET_MODEL->getValueForEditView('filterFields')}\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"form-control{if $WIDGET_ID} select2{/if}\" name=\"filter_fields\" {if $WIDGET_ID} disabled{/if}>\n\t\t\t\t\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t\t\t\t\t{if $VALUE_FIELD}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{assign \"FIELD_MODEL\" Vtiger_Field_Model::getInstanceFromFieldId($VALUE_FIELD)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{if $FIELD_MODEL}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"{$VALUE_FIELD}\" selected>{$FIELD_MODEL->getFullLabelTranslation()}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{assign \"BTN_SUCCESS\" 'LBL_SAVE'}\n\t\t\t\t\t\t{if $WIDGET_ID}\n\t\t\t\t\t\t\t{assign \"BTN_SUCCESS\" ''}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{include file=\\App\\Layout::getTemplatePath('Modals/Footer.tpl', $MODULE_NAME) BTN_SUCCESS=$BTN_SUCCESS BTN_DANGER='LBL_CANCEL' MODULE=$MODULE_NAME}\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t{elseif $WIZARD_STEP eq 'step2'}\n\t\t<option></option>\n\t\t{foreach from=$ALLFILTERS item=FILTERS key=FILTERGROUP}\n\t\t\t<optgroup label=\"{\\App\\Language::translate($FILTERGROUP,$SELECTED_MODULE)}\">\n\t\t\t\t{foreach from=$FILTERS item=FILTER key=FILTERNAME}\n\t\t\t\t\t{if $FILTER->get('setmetrics') eq 1}\n\t\t\t\t\t\t<option value=\"{$FILTER->getId()}\">{\\App\\Language::translate($FILTER->get('viewname'),$SELECTED_MODULE)}</option>\n\t\t\t\t\t{/if}\n\t\t\t\t{/foreach}\n\t\t\t</optgroup>\n\t\t{/foreach}\n\t{elseif $WIZARD_STEP eq 'step3'}\n\t\t<div>\n\t\t\t<select class=\"form-control\" name=\"fields\" size=\"2\" multiple=\"true\">\n\t\t\t\t<option></option>\n\t\t\t\t{foreach from=$LIST_VIEW_FIELDS item=FIELD key=FIELD_NAME}\n\t\t\t\t\t<option value=\"{$FIELD_NAME|escape}\">{\\App\\Language::translate($FIELD->getFieldLabel(),$SELECTED_MODULE)}</option>\n\t\t\t\t{/foreach}\n\t\t\t</select>\n\t\t\t<select class=\"form-control\" name=\"filter_fields\">\n\t\t\t\t<option></option>\n\t\t\t\t{foreach from=$FIELDS_BY_BLOCK item=FIELDS key=BLOCK_NAME}\n\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate($BLOCK_NAME,$SELECTED_MODULE)}\">\n\t\t\t\t\t\t{foreach from=$FIELDS item=FIELD}\n\t\t\t\t\t\t\t{if $FIELD->isActiveSearchView()}\n\t\t\t\t\t\t\t\t<option value=\"{$FIELD->getId()}\">{\\App\\Language::translate($FIELD->getFieldLabel(),$SELECTED_MODULE)}</option>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t</optgroup>\n\t\t\t\t{/foreach}\n\t\t\t</select>\n\t\t</div>\n\t{/if}\n\t<!-- /tpl-Base-Dashboards-MiniListWizard -->\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t{assign var=ACCESSIBLE_USERS value=\\App\\Fields\\Owner::getInstance()->getAccessibleUsers()}\n\t{assign var=ACCESSIBLE_GROUPS value=\\App\\Fields\\Owner::getInstance()->getAccessibleGroups()}\n\t{assign var=CURRENTUSERID value=$CURRENTUSER->getId()}\n\t<div class=\"dashboardWidgetHeader\">\n\t\t<div class=\"d-flex flex-row flex-nowrap no-gutters justify-content-between\">\n\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/WidgetHeaderTitle.tpl', $MODULE_NAME)}\n\t\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/WidgetHeaderButtons.tpl', $MODULE_NAME)}\n\t\t</div>\n\t\t<hr class=\"widgetHr\" />\n\t\t<div class=\"row no-gutters\">\n\t\t\t<div class=\"col-ceq-xsm-6 input-group input-group-sm\">\n\t\t\t\t<div class=\"input-group-prepend\">\n\t\t\t\t\t<span class=\"input-group-text u-cursor-pointer changeRecordSort\"\n\t\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_SORT_DESCENDING', $MODULE_NAME)}\"\n\t\t\t\t\t\talt=\"{\\App\\Language::translate('LBL_SORT_DESCENDING', $MODULE_NAME)}\"\n\t\t\t\t\t\tdata-sort=\"{if $DATA['sortorder'] eq 'desc'}asc{else}desc{/if}\"\n\t\t\t\t\t\tdata-asc=\"{\\App\\Language::translate('LBL_SORT_ASCENDING', $MODULE_NAME)}\"\n\t\t\t\t\t\tdata-desc=\"{\\App\\Language::translate('LBL_SORT_DESCENDING', $MODULE_NAME)}\">\n\t\t\t\t\t\t<span class=\"fas fa-sort-amount-down\"></span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<select class=\"widgetFilter select2 form-control orderby\" aria-label=\"Small\"\n\t\t\t\t\taria-describedby=\"inputGroup-sizing-sm\" name=\"orderby\"\n\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_CUSTOM_FILTER')}\">\n\t\t\t\t\t{foreach item=FIELD from=$WIDGET_MODEL->getHeaders()}\n\t\t\t\t\t\t{assign var=\"FIELD_VALUE\" value=$FIELD->get('name')}\n\t\t\t\t\t\t<option value=\"{$FIELD_VALUE}\" {if $DATA['orderby'] eq $FIELD_VALUE} selected {/if}>{\\App\\Language::translate($FIELD->get('label'),$BASE_MODULE)}</option>\n\t\t\t\t\t{/foreach}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class=\"col-ceq-xsm-6\">\n\t\t\t\t<div class=\"float-right\">\n\t\t\t\t\t<button class=\"btn btn-light btn-sm ml-1 goToListView\"\n\t\t\t\t\t\tdata-url=\"{$WIDGET_MODEL->getUrl()|escape}\"\n\t\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_GO_TO_RECORDS_LIST', $MODULE_NAME)}\">\n\t\t\t\t\t\t<span class=\"fas fa-th-list\"></span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"dashboardWidgetContent\">\n\t\t{include file=\\App\\Layout::getTemplatePath('dashboards/ProductsSoldToRenewContents.tpl', $MODULE_NAME)}\n\t</div>\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<!-- tpl-Base-Dashboards-ProductsSoldToRenewContents -->\n\t{assign var=\"SPANSIZE\" value=12}\n\t{if $WIDGET_MODEL->getHeaderCount()}\n\t\t{assign var=\"SPANSIZE\" value=12/$WIDGET_MODEL->getHeaderCount()}\n\t{/if}\n\t<div class=\"row\">\n\t\t{foreach item=FIELD from=$WIDGET_MODEL->getHeaders()}\n\t\t\t<div class=\"col-sm-{$SPANSIZE}\">\n\t\t\t\t<strong>{\\App\\Language::translate($FIELD->get('label'),$BASE_MODULE)} </strong>\n\t\t\t</div>\n\t\t{/foreach}\n\t</div>\n\t{assign var=\"WIDGET_RECORDS\" value=$WIDGET_MODEL->getRecords()}\n\t{foreach item=RECORD from=$WIDGET_RECORDS}\n\t\t<div class=\"row rowAction u-cursor-pointer\">\n\t\t\t{foreach item=FIELD from=$WIDGET_MODEL->getHeaders()}\n\t\t\t\t<div class=\"col-sm-{$SPANSIZE} u-text-ellipsis--no-hover\" title=\"{\\App\\Purifier::encodeHtml($RECORD->get($FIELD->get('name')))}\">\n\t\t\t\t\t{if $RECORD->get($FIELD->get('name'))}\n\t\t\t\t\t\t<span>{$RECORD->getListViewDisplayValue($FIELD->get('name'))}</span>\n\t\t\t\t\t{else}\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t{/foreach}\n\t\t</div>\n\t{/foreach}\n\t{if count($WIDGET_RECORDS) >= $WIDGET_MODEL->getRecordLimit()}\n\t\t<button class=\"btn btn-light float-right btn-sm goToListView\"\n\t\t\tdata-url=\"{$WIDGET_MODEL->getUrl()|escape}\"\n\t\t\ttitle=\"{\\App\\Language::translate('LBL_MORE', $MODULE_NAME)}\">\n\t\t\t<span>{\\App\\Language::translate('LBL_MORE', $MODULE_NAME)}</span>\n\t\t</button>\n\t{/if}\n\t<!-- /tpl-Base-Dashboards-ProductsSoldToRenewContents -->\n{/strip}\n", "{*<!-- {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} -->*}\n{strip}\n\t<!-- tpl-Base-dashboards-SelectAccessibleTemplate -->\n\t{assign var=ACCESS_OPTIONS value=\\App\\Json::decode(html_entity_decode($WIDGET->get('owners')))}\n\t{if !is_array($ACCESS_OPTIONS.available)}\n\t\t{$ACCESS_OPTIONS.available = array($ACCESS_OPTIONS.available)}\n\t{/if}\n\t{if !isset($OWNER)}\n\t\t{assign var=OWNER value=''}\n\t{/if}\n\t{if empty($SOURCE_MODULE) && $MODULE_NAME != 'Home'}\n\t\t{assign var=SOURCE_MODULE value=$MODULE_NAME}\n\t{/if}\n\t{if !empty($SOURCE_MODULE) && App\\Config::performance('SEARCH_SHOW_OWNER_ONLY_IN_LIST') && !\\App\\Config::module($SOURCE_MODULE, 'DISABLED_SHOW_OWNER_ONLY_IN_LIST', false)}\n\t\t{if !empty($USER_CONDITIONS)}\n\t\t\t{assign var=USERS_GROUP_LIST value=\\App\\Fields\\Owner::getInstance($SOURCE_MODULE)->getUsersAndGroupForModuleList(false,$USER_CONDITIONS)}\n\t\t{/if}\n\t\t{if !empty($USERS_GROUP_LIST['users'])}\n\t\t\t{assign var=ACCESSIBLE_USERS value=$USERS_GROUP_LIST['users']}\n\t\t{/if}\n\t\t{if !empty($USERS_GROUP_LIST['group'])}\n\t\t\t{assign var=ACCESSIBLE_GROUPS value=$USERS_GROUP_LIST['group']}\n\t\t{/if}\n\t{/if}\n\t<div class=\"input-group input-group-sm\">\n\t\t<span class=\"input-group-prepend\">\n\t\t\t<span class=\"input-group-text\">\n\t\t\t\t<span class=\"fas fa-user iconMiddle\" title=\"{\\App\\Language::translate('Assigned To', $MODULE_NAME)}\"></span>\n\t\t\t</span>\n\t\t</span>\n\t\t<select class=\"widgetFilter select2 owner form-control\" aria-label=\"{\\App\\Language::translate('LBL_OWNER')}\"\n\t\t\tname=\"owner\" title=\"{\\App\\Language::translate('LBL_OWNER')}\"\n\t\t\t{if App\\Config::performance('SEARCH_OWNERS_BY_AJAX') && (in_array('groups', $ACCESS_OPTIONS['available']) || in_array('users', $ACCESS_OPTIONS['available']))}\n\t\t\t\t{assign var=AJAX_URL value=\"index.php?module={$SOURCE_MODULE}&action=Fields&mode=getOwners&fieldName=assigned_user_id\"}\n\t\t\t\t{if in_array('groups', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t{assign var=AJAX_URL value=$AJAX_URL|cat:\"&result[]=groups\"}\n\t\t\t\t{/if}\n\t\t\t\t{if in_array('users', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t{assign var=AJAX_URL value=$AJAX_URL|cat:\"&result[]=users\"}\n\t\t\t\t{/if}\n\t\t\t\tdata-ajax-search=\"1\" data-ajax-url=\"{$AJAX_URL|escape}\" data-minimum-input=\"{App\\Config::performance('OWNER_MINIMUM_INPUT_LENGTH')}\"\n\t\t\t{/if}>\n\n\t\t\t{if in_array('mine', $ACCESS_OPTIONS.available)}\n\t\t\t\t<option value=\"{$USER_MODEL->getId()}\" data-name=\"{$USER_MODEL->getName()|escape}\"\n\t\t\t\t\ttitle=\"{\\App\\Language::translate('LBL_MINE')}\" {if $OWNER eq $USER_MODEL->getId()} selected {/if}>{\\App\\Language::translate('LBL_MINE')}</option>\n\t\t\t{/if}\n\t\t\t{if in_array('all', $ACCESS_OPTIONS.available)}\n\t\t\t\t<option value=\"all\" {if $OWNER eq 'all' || $ACCESS_OPTIONS['default'] eq 'all'} data-name=\"\" title=\"{\\App\\Language::translate('LBL_ALL')}\" selected {/if}>{\\App\\Language::translate('LBL_ALL')}</option>\n\t\t\t{/if}\n\t\t\t{if !App\\Config::performance('SEARCH_OWNERS_BY_AJAX')}\n\t\t\t\t{if !empty($ACCESSIBLE_USERS)}\n\t\t\t\t\t{assign var=ACCESSIBLE_USERS value=array_diff_key($ACCESSIBLE_USERS, array_flip([$USER_MODEL->getId()]))}\n\t\t\t\t\t{if !empty($ACCESSIBLE_USERS) && in_array('users', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate('LBL_USERS')}\">\n\t\t\t\t\t\t\t{foreach key=OWNER_ID item=OWNER_NAME from=$ACCESSIBLE_USERS}\n\t\t\t\t\t\t\t\t<option title=\"{$OWNER_NAME}\" data-name=\"{$OWNER_NAME}\"\n\t\t\t\t\t\t\t\t\tvalue=\"{$OWNER_ID}\" {if $OWNER eq $OWNER_ID} selected{/if}>{$OWNER_NAME}</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\t\t\t\t{if !empty($ACCESSIBLE_GROUPS) && in_array('groups', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate('LBL_GROUPS')}\">\n\t\t\t\t\t\t{foreach key=OWNER_ID item=OWNER_NAME from=$ACCESSIBLE_GROUPS}\n\t\t\t\t\t\t\t<option title=\"{$OWNER_NAME}\" data-name=\"{$OWNER_NAME}\"\n\t\t\t\t\t\t\t\tvalue=\"{$OWNER_ID}\" {if $OWNER eq $OWNER_ID} selected{/if}>{$OWNER_NAME}</option>\n\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t</optgroup>\n\t\t\t\t{/if}\n\t\t\t\t{if in_array('groupUsers', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t{assign var=ALL_GROUPS value=\\App\\Fields\\Owner::getInstance($SOURCE_MODULE)->getGroups(false)}\n\t\t\t\t\t{if $ALL_GROUPS}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate('LBL_GROUP_USERS')}\">\n\t\t\t\t\t\t\t{foreach key=OWNER_ID item=OWNER_NAME from=$ALL_GROUPS}\n\t\t\t\t\t\t\t\t{assign var=\"MEMBER_ID\" value=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_GROUPS}:{$OWNER_ID}\"}\n\t\t\t\t\t\t\t\t<option class=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_GROUPS}\" value=\"{$MEMBER_ID}\"\n\t\t\t\t\t\t\t\t\tdata-member-type=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_GROUPS}\"\n\t\t\t\t\t\t\t\t\t{if $OWNER eq $MEMBER_ID} selected {/if}>\n\t\t\t\t\t\t\t\t\t{$OWNER_NAME}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\t\t\t\t{if array_intersect(['roleUsers', 'rsUsers'], $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t{assign var=ALL_ROLES value=\\Settings_Roles_Record_Model::getAll()}\n\t\t\t\t\t{if in_array('roleUsers', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate('LBL_ROLE_USERS', $QUALIFIED_MODULE)}\">\n\t\t\t\t\t\t\t{foreach from=$ALL_ROLES item=MEMBER}\n\t\t\t\t\t\t\t\t{assign var=\"MEMBER_ID\" value=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_ROLES}:{$MEMBER->getId()}\"}\n\t\t\t\t\t\t\t\t<option class=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_ROLES}\" value=\"{$MEMBER_ID}\"\n\t\t\t\t\t\t\t\t\tdata-member-type=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_ROLES}\"\n\t\t\t\t\t\t\t\t\t{if $OWNER eq $MEMBER_ID} selected {/if}>\n\t\t\t\t\t\t\t\t\t{\\App\\Language::translate($MEMBER->getName(), $QUALIFIED_MODULE)}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{if in_array('rsUsers', $ACCESS_OPTIONS['available'])}\n\t\t\t\t\t\t<optgroup label=\"{\\App\\Language::translate('LBL_ROLE_AND_SUBORDINATES_USERS', $QUALIFIED_MODULE)}\">\n\t\t\t\t\t\t\t{foreach from=$ALL_ROLES item=MEMBER}\n\t\t\t\t\t\t\t\t{assign var=\"MEMBER_ID\" value=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_ROLE_AND_SUBORDINATES}:{$MEMBER->getId()}\"}\n\t\t\t\t\t\t\t\t<option class=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_ROLE_AND_SUBORDINATES}\" value=\"{$MEMBER_ID}\"\n\t\t\t\t\t\t\t\t\tdata-member-type=\"{\\App\\PrivilegeUtil::MEMBER_TYPE_ROLE_AND_SUBORDINATES}\"\n\t\t\t\t\t\t\t\t\t{if $OWNER eq $MEMBER_ID} selected {/if}>\n\t\t\t\t\t\t\t\t\t{\\App\\Language::translate($MEMBER->getName(), $QUALIFIED_MODULE)}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t{/foreach}\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\t\t\t{/if}\n\t\t</select>\n\t</div>\n\t<!-- /tpl-Base-dashboards-SelectAccessibleTemplate -->\n{/strip}\n"], "filenames": ["config/version.php", "layouts/basic/modules/Vtiger/dashboards/Calendar.tpl", "layouts/basic/modules/Vtiger/dashboards/CalendarActivitiesContents.tpl", "layouts/basic/modules/Vtiger/dashboards/CalendarContents.tpl", "layouts/basic/modules/Vtiger/dashboards/ChartFilter.tpl", "layouts/basic/modules/Vtiger/dashboards/ChartFilterContents.tpl", "layouts/basic/modules/Vtiger/dashboards/DashBoardContents.tpl", "layouts/basic/modules/Vtiger/dashboards/DashBoardPreProcessAjax.tpl", "layouts/basic/modules/Vtiger/dashboards/DashBoardWidgetsList.tpl", "layouts/basic/modules/Vtiger/dashboards/DashboardHeaderIcons.tpl", "layouts/basic/modules/Vtiger/dashboards/ListUpdatedRecordContents.tpl", "layouts/basic/modules/Vtiger/dashboards/MailsList.tpl", "layouts/basic/modules/Vtiger/dashboards/MiniListWizard.tpl", "layouts/basic/modules/Vtiger/dashboards/ProductsSoldToRenew.tpl", "layouts/basic/modules/Vtiger/dashboards/ProductsSoldToRenewContents.tpl", "layouts/basic/modules/Vtiger/dashboards/SelectAccessibleTemplate.tpl"], "buggy_code_start_loc": [4, 63, 20, 4, 18, 45, 47, 19, 15, 19, 25, 13, 37, 36, 31, 41], "buggy_code_end_loc": [6, 64, 88, 6, 63, 46, 49, 24, 17, 24, 26, 38, 156, 37, 32, 46], "fixing_code_start_loc": [4, 63, 20, 4, 18, 45, 47, 19, 15, 19, 25, 13, 37, 36, 31, 41], "fixing_code_end_loc": [6, 64, 88, 6, 63, 46, 49, 24, 17, 24, 26, 38, 156, 37, 32, 46], "type": "CWE-79", "message": "Cross-site Scripting (XSS) - Stored in GitHub repository yetiforcecompany/yetiforcecrm prior to 6.3.", "other": {"cve": {"id": "CVE-2022-2924", "sourceIdentifier": "security@huntr.dev", "published": "2022-09-20T06:15:08.687", "lastModified": "2022-09-21T16:35:13.360", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "Cross-site Scripting (XSS) - Stored in GitHub repository yetiforcecompany/yetiforcecrm prior to 6.3."}, {"lang": "es", "value": "Una vulnerabilidad de tipo Cross-site Scripting (XSS) - Almacenado en el repositorio GitHub yetiforcecompany/yetiforcecrm versiones anteriores a 6.3"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:C/C:L/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 5.4, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.3, "impactScore": 2.7}], "cvssMetricV30": [{"source": "security@huntr.dev", "type": "Secondary", "cvssData": {"version": "3.0", "vectorString": "CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:H/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "LOW", "integrityImpact": "HIGH", "availabilityImpact": "NONE", "baseScore": 7.1, "baseSeverity": "HIGH"}, "exploitabilityScore": 2.8, "impactScore": 4.2}]}, "weaknesses": [{"source": "security@huntr.dev", "type": "Primary", "description": [{"lang": "en", "value": "CWE-79"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:yetiforce:yetiforce_customer_relationship_management:*:*:*:*:*:*:*:*", "versionEndExcluding": "6.3.0", "matchCriteriaId": "BA4FB254-9FF3-45E9-AD54-096B3B65F3D8"}]}]}], "references": [{"url": "https://github.com/yetiforcecompany/yetiforcecrm/commit/b716ecea340783b842498425faa029800bd30420", "source": "security@huntr.dev", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://huntr.dev/bounties/f0f3aded-6e97-4cf2-980a-c90f2c6ca0e0", "source": "security@huntr.dev", "tags": ["Exploit", "Patch", "Third Party Advisory"]}]}, "github_commit_url": "https://github.com/yetiforcecompany/yetiforcecrm/commit/b716ecea340783b842498425faa029800bd30420"}}