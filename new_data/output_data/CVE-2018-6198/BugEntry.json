{"buggy_code": ["/*\n * Configuration for w3m\n * This is sample.  ./configure will generate config.h for you.\n */\n\n#ifndef _CONFIGURED_\n#define _CONFIGURED_\n\n/* User Configuration */\n\n/* \n   If you define USE_DICT, you can use dictionary look-up function\n   in w3m. See README.dict for detail.\n*/\n#define USE_DICT\n\n/*\n   If you want to load and save URL history.\n */\n#define USE_HISTORY\n\n/*\n   USE_BG_COLOR enables w3m to set background color.\n */\n#define USE_BG_COLOR\n\n/*\n * Do word fill\n */\n#undef FORMAT_NICE\n\n/*\n * Enable id attribute\n */\n#define ID_EXT\n\n/*\n * Save Current-buffer Information\n */\n#undef BUFINFO\n\n/*\n * Support EGD (Entropy Gathering Daemon)\n */\n#undef USE_EGD\n\n/*\n * Remove line trailing spaces in html buffer.\n */\n#undef ENABLE_REMOVE_TRAILINGSPACES\n\n/*\n * thin chars for menu frame\n */\n#undef MENU_THIN_FRAME\n\n/*\n * Use raw scroll\n */\n#undef USE_RAW_SCROLL\n\n/*\n */\n#undef TABLE_EXPAND\n#undef TABLE_NO_COMPACT\n#define NOWRAP\n#define MATRIX\n\n/**********************************************************/\n#ifdef makefile_parameter\n\nBIN_DIR = /usr/local/bin\nAUXBIN_DIR = /usr/local/lib/w3m\nCGIBIN_DIR = /usr/local/lib/w3m/cgi-bin\nHELP_DIR = /usr/local/share/w3m\nMAN_DIR = /usr/local/man\nMAN1_DIR = $(MAN_DIR)/man1\nMAN1_JA_DIR = $(MAN_DIR)/ja/man1\nETC_DIR = /usr/local/etc/w3m\nRC_DIR = ~/.w3m\nHELP_FILE = w3mhelp-w3m_ja.html\nRC_DIR = ~/.w3m/\nSYS_LIBRARIES = -lgpm  -lbsd -lnsl -lncurses  -L/usr/lib -L/usr/lib -L/usr/local/ssl/lib -L/usr/local/ssl/lib -lssl -lcrypto \nLOCAL_LIBRARIES = \nCC = gcc\nMYCFLAGS = -O -I./gc/include  -I/usr/local/ssl/include/openssl -I/usr/local/ssl/include\nGCCFLAGS = -O -I./gc/include -I./$(srcdir)/include -DATOMIC_UNCOLLECTABLE -DNO_SIGNALS -DNO_EXECUTE_PERMISSION -DSILENT -DALL_INTERIOR_POINTERS\nKEYBIND_SRC = keybind.c\nKEYBIND_OBJ = keybind.o\nEXT=\nMATHLIB=-lm\nZ_CFLAGS=-I/usr/include\nZLIB=-L/usr/lib -lz\nAUXBIN_TARGETS=$(INFLATE)\nLIB_TARGETS=$(BOOKMARKER) $(HELPER)\nIMGCFLAGS=\nIMGLDFLAGS=\nIMGX11CFLAGS=\nIMGFBCFLAGS=\nIMGOBJS=\nGC_CFLAGS=\nGCLIB=gc/gc.a\nGCTARGET=gc/gc.a\nRANLIB=ranlib\nMKDIR=mkdir -p\nPERL=/usr/local/bin/perl\nVERSION=0.2.2\nMODEL=Linux.i686-monster-ja\nINSTALL_W3MIMGDISPLAY=$(INSTALL_PROGRAM)\n#else\n\n\n#define DISPLAY_CODE 'E'\n#define SYSTEM_CODE 'E'\n\n#define JA 0\n#define EN 1\n#define LANG JA\n#define KANJI_SYMBOLS\n#define USE_COLOR\n#undef USE_ANSI_COLOR\n#undef USE_MIGEMO\n#undef USE_MARK\n#define USE_MOUSE\n#define USE_GPM\n#undef USE_SYSMOUSE\n#define USE_MENU\n#define USE_COOKIE\n#define USE_DIGEST_AUTH\n#define USE_SSL\n#undef USE_SSL_VERIFY\n#undef USE_NNTP\n#undef USE_GOPHER\n#define USE_EXTERNAL_URI_LOADER\n#undef USE_ALARM\n#undef USE_IMAGE\n#undef USE_W3MIMG_X11\n#undef USE_W3MIMG_FB\n#undef USE_IMLIB\n#undef USE_GDKPIXBUF\n#undef USE_IMLIB2\n#define USE_HELP_CGI\n#undef USE_XFACE\n\n#define DEF_EDITOR \"/bin/vi\"\n#define DEF_MAILER \"/bin/mail\"\n#define DEF_EXT_BROWSER \"/usr/bin/netscape\"\n\n/* fallback viewer. mailcap override these configuration */\n#define DEF_IMAGE_VIEWER\t\"xv\"\n#define DEF_AUDIO_PLAYER\t\"showaudio\"\n\n/* for USE_MIGEMO */\n#define DEF_MIGEMO_COMMAND\t\"migemo -t egrep /usr/share/migemo/migemo-dict\"\n\n#define AUXBIN_DIR   \"/usr/local/lib/w3m\"\n#define CGIBIN_DIR      \"/usr/local/lib/w3m/cgi-bin\"\n#define HELP_DIR     \"/usr/local/lib/w3m\"\n#define ETC_DIR\t     \"/usr/local/etc/w3m\"\n#define HELP_FILE    \"w3mhelp.html\"\n#define HELP_CGI     \"w3mhelp\"\n#define W3MCONFIG    \"w3mconfig\"\n#define IMGDISPLAY   \"w3mimgdisplay\"\n#define XFACE2XPM    \"xface2xpm\"\n\n#define RC_DIR       \"~/.w3m\"\n#define BOOKMARK     \"bookmark.html\"\n#define CONFIG_FILE  \"config\"\n#define KEYMAP_FILE  \"keymap\"\n#define MENU_FILE    \"menu\"\n#define COOKIE_FILE  \"cookie\"\n#define HISTORY_FILE \"history\"\n\n#define PASSWD_FILE RC_DIR \"/passwd\"\n#define PRE_FORM_FILE RC_DIR \"/pre_form\"\n#define USER_MAILCAP RC_DIR \"/mailcap\"\n#define SYS_MAILCAP  \"/etc/mailcap\"\n#define USER_MIMETYPES \"~/.mime.types\"\n#define SYS_MIMETYPES \"/usr/local/lib/mime.types\"\n#define USER_URIMETHODMAP RC_DIR \"/urimethodmap\"\n#define SYS_URIMETHODMAP  ETC_DIR \"/urimethodmap\"\n\n#define DEF_SAVE_FILE \"index.html\"\n\n#undef USE_BINMODE_STREAM\n#define HAVE_TERMIOS_H\n#define HAVE_DIRENT_H\ntypedef long clen_t;\n#undef HAVE_STRTOLL\n#undef HAVE_STRTOQ\n#undef HAVE_ATOLL\n#undef HAVE_ATOQ\n#define HAVE_STRCASECMP\n#define HAVE_STRCASESTR\n#define HAVE_STRCHR\n#define HAVE_STRERROR\n#define HAVE_SYS_ERRLIST\n#define HAVE_BCOPY\n#define HAVE_WAITPID\n#define HAVE_WAIT3\n#define HAVE_STRFTIME\n#define HAVE_GETCWD\n#define HAVE_GETWD\n#define HAVE_SYMLINK\n#define HAVE_READLINK\n#define HAVE_LSTAT\n#define HAVE_SETENV\n#define HAVE_PUTENV\n#define HAVE_SRAND48\n#define HAVE_SRANDOM\n#undef HAVE_GETPASSPHRASE\n#define HAVE_CHDIR\n\n\n#define SETJMP(env) sigsetjmp(env,1)\n#define LONGJMP(env,val) siglongjmp(env,val)\n#define JMP_BUF sigjmp_buf\n#define HAVE_FLOAT_H\n#define HAVE_SYS_SELECT_H\n\ntypedef void MySignalHandler;\n#define SIGNAL_ARG int _dummy\n#define SIGNAL_ARGLIST 0\n#define SIGNAL_RETURN return\n#define HAVE_SETPGRP\n\n/*\n   If you want to use IPv6, define this symbol.\n */\n#undef INET6\n\n/** dont edit below **/\n#ifndef HAVE_SRAND48\n#ifdef HAVE_SRANDOM\n#define srand48 srandom\n#define lrand48 random\n#else /* HAVE_SRANDOM */\n#define USE_INCLUDED_SRAND48\n#endif /* HAVE_SRANDOM */\n#endif\n\n#ifndef HAVE_LSTAT\n#define lstat stat\n#endif\n\n#if defined( __CYGWIN32__ ) && !defined( __CYGWIN__ )\n#define __CYGWIN__\n#endif\n\n#if defined( __CYGWIN__ ) || defined( __EMX__ )\n#define SUPPORT_DOS_DRIVE_PREFIX 1\n#endif\n\n#if defined( __CYGWIN__ )\n#define SUPPORT_NETBIOS_SHARE 1\n#endif\n\n#if defined(__DJGPP__)\n#define DEFAULT_TERM\t\"dosansi\"\n#else\n#define DEFAULT_TERM\t0\t/* XXX */\n#endif\n\n#if defined(__EMX__) /* use $extension? */\n#define GUNZIP_CMDNAME  \"gzip\"\n#define BUNZIP2_CMDNAME \"bzip2\"\n#define INFLATE_CMDNAME  \"inflate.exe\"\n#define W3MBOOKMARK_CMDNAME\t\"w3mbookmark.exe\"\n#define W3MHELPERPANEL_CMDNAME\t\"w3mhelperpanel.exe\"\n#define DEV_NULL_PATH\t\"nul\"\n#define DEV_TTY_PATH\t\"con\"\n#define CGI_EXTENSION\t\".cmd\"\n#else\n#define GUNZIP_CMDNAME  \"gunzip\"\n#define BUNZIP2_CMDNAME \"bunzip2\"\n#define INFLATE_CMDNAME  \"inflate\"\n#define W3MBOOKMARK_CMDNAME\t\"w3mbookmark\"\n#define W3MHELPERPANEL_CMDNAME\t\"w3mhelperpanel\"\n#define DEV_NULL_PATH\t\"/dev/null\"\n#define DEV_TTY_PATH\t\"/dev/tty\"\n#define CGI_EXTENSION\t\".cgi\"\n#endif\n\n#define PATH_SEPARATOR\t':'\n#define GUNZIP_NAME  \"gunzip\"\n#define BUNZIP2_NAME \"bunzip2\"\n#define INFLATE_NAME \"inflate\"\n\n#endif /* makefile_parameter */\n#endif /* _CONFIGURED_ */\n\n", "#ifndef CONFIG_H_SEEN\n#define CONFIG_H_SEEN\n/*\n * Configuration for w3m\n */\n#define JA 0\n#define EN 1\n\n/* Name of package */\n#undef PACKAGE\n\n#define HELP_FILE    \"w3mhelp.html\"\n#define HELP_CGI     \"w3mhelp\"\n#define W3MCONFIG    \"w3mconfig\"\n#define IMGDISPLAY   \"w3mimgdisplay\"\n#define XFACE2XPM    \"xface2xpm\"\n\n#define BOOKMARK     \"bookmark.html\"\n#define CONFIG_FILE  \"config\"\n#define KEYMAP_FILE  \"keymap\"\n#define MENU_FILE    \"menu\"\n#define MOUSE_FILE   \"mouse\"\n#define COOKIE_FILE  \"cookie\"\n#define HISTORY_FILE \"history\"\n\n#define PASSWD_FILE\tRC_DIR \"/passwd\"\n#define PRE_FORM_FILE\tRC_DIR \"/pre_form\"\n#define SITECONF_FILE\tRC_DIR \"/siteconf\"\n#define USER_MAILCAP\tRC_DIR \"/mailcap\"\n#define SYS_MAILCAP\tCONF_DIR \"/mailcap\"\n#define USER_MIMETYPES\t\"~/.mime.types\"\n#define SYS_MIMETYPES\tETC_DIR \"/mime.types\"\n#define USER_URIMETHODMAP\tRC_DIR \"/urimethodmap\"\n#define SYS_URIMETHODMAP\tCONF_DIR \"/urimethodmap\"\n\n#define DEF_SAVE_FILE \"index.html\"\n\n/* User Configuration */\n#define DISPLAY_CHARSET @DISPLAY_CHARSET@\n#define SYSTEM_CHARSET @SYSTEM_CHARSET@\n#define DOCUMENT_CHARSET @DOCUMENT_CHARSET@\n#undef USE_M17N\n#undef USE_UNICODE\n#define W3M_LANG @W3M_LANG@\n#define LANG W3M_LANG\n\n/* Define to 1 if translation of program messages to the user's\n   native language is requested. */\n#undef ENABLE_NLS\n\n#undef USE_COLOR\n#undef USE_ANSI_COLOR\n#undef USE_BG_COLOR\n#undef USE_MIGEMO\n#define USE_MARK\n#undef USE_MOUSE\n#undef USE_GPM\n#undef USE_SYSMOUSE\n#undef USE_MENU\n#undef USE_COOKIE\n#undef USE_DIGEST_AUTH\n#undef USE_SSL\n#undef USE_SSL_VERIFY\n#undef USE_HELP_CGI\n#undef USE_EXTERNAL_URI_LOADER\n#undef USE_W3MMAILER\n#undef USE_NNTP\n#undef USE_GOPHER\n#undef USE_ALARM\n#undef USE_IMAGE\n#undef USE_W3MIMG_X11\n#undef USE_W3MIMG_FB\n#undef USE_W3MIMG_WIN\n#undef W3MIMGDISPLAY_SETUID\n#undef USE_IMLIB\n#undef USE_GDKPIXBUF\n#undef USE_GTK2\n#undef USE_IMLIB2\n#undef USE_XFACE\n#undef USE_DICT\n#undef USE_HISTORY\n#undef FORMAT_NICE\n#define ID_EXT\n#undef CLEAR_BUF\n#undef INET6\n#undef HAVE_SOCKLEN_T\n#undef HAVE_OLD_SS_FAMILY\n#undef USE_EGD\n#define ENABLE_REMOVE_TRAILINGSPACES\n#undef MENU_THIN_FRAME\n#undef USE_RAW_SCROLL\n#undef TABLE_EXPAND\n#undef TABLE_NO_COMPACT\n#define NOWRAP\n#define MATRIX\n\n#define DEF_EDITOR \"@DEF_EDITOR@\"\n#define DEF_MAILER \"@DEF_MAILER@\n#define DEF_EXT_BROWSER \"@DEF_EXT_BROWSER@\"\n\n/* fallback viewer. mailcap override these configuration */\n#define DEF_IMAGE_VIEWER\t\"display\"\n#define DEF_AUDIO_PLAYER\t\"showaudio\"\n\n/* for USE_MIGEMO */\n#define DEF_MIGEMO_COMMAND\t\"@DEF_MIGEMO_COMMAND@\"\n\n#undef USE_BINMODE_STREAM\n#undef HAVE_TERMIOS_H\n#undef HAVE_TERMIO_H\n#undef HAVE_SGTTY_H\n#undef HAVE_DIRENT_H\n#undef HAVE_LOCALE_H\n#undef HAVE_STDINT_H\n#undef HAVE_INTTYPES_H\n#define SIZEOF_LONG_LONG 8\n#if SIZEOF_LONG_LONG > 0\ntypedef long long clen_t;\n#else\ntypedef long clen_t;\n#endif\n#undef HAVE_STRTOLL\n#undef HAVE_STROQ\n#undef HAVE_ATOLL\n#undef HAVE_ATOQ\n#undef HAVE_STRCASECMP\n#undef HAVE_STRCASESTR\n#undef HAVE_STRCHR\n#undef HAVE_STRERROR\n#undef HAVE_SYS_ERRLIST\n#undef HAVE_BCOPY\n#undef HAVE_WAITPID\n#undef HAVE_WAIT3\n#undef HAVE_STRFTIME\n#undef HAVE_GETCWD\n#undef HAVE_GETWD\n#undef HAVE_SYMLINK\n#undef HAVE_READLINK\n#undef HAVE_LSTAT\n#undef HAVE_SETENV\n#undef HAVE_PUTENV\n#undef HAVE_SRAND48\n#undef HAVE_SRANDOM\n#undef HAVE_GETPASSPHRASE\n#undef HAVE_CHDIR\n#undef HAVE_SETPGRP\n#undef HAVE_SETLOCALE\n#undef HAVE_LANGINFO_CODESET\n\n#undef SETPGRP_VOID\n#ifdef HAVE_SETPGRP\n#ifdef SETPGRP_VOID\n#define SETPGRP() setpgrp()\n#else\n#define SETPGRP() setpgrp(0,0)\n#endif\n#else /* no HAVE_SETPGRP; OS/2 EMX */\n#define SETPGRP() setpgid(0, 0)\n#endif\n#undef HAVE_FLOAT_H\n#undef HAVE_SYS_SELECT_H\n\n#undef HAVE_SIGSETJMP\n\n#define RETSIGTYPE @RETSIGTYPE@\ntypedef RETSIGTYPE MySignalHandler;\n#define SIGNAL_ARG int _dummy\t/* XXX */\n#define SIGNAL_ARGLIST 0\t/* XXX */\n#define SIGNAL_RETURN @SIGNAL_RETURN@\n\n#ifdef HAVE_SIGSETJMP\n#ifdef __MINGW32_VERSION\n# define SETJMP(env) setjmp(env)\n# define LONGJMP(env,val) longjmp(env, val)\n# define JMP_BUF jmp_buf\n#else\n# define SETJMP(env) sigsetjmp(env,1)\n# define LONGJMP(env,val) siglongjmp(env,val)\n# define JMP_BUF sigjmp_buf\n#endif /* __MINGW32_VERSION */\n#else\n# define SETJMP(env) setjmp(env)\n# define LONGJMP(env,val) longjmp(env)\n# define JMP_BUF jmp_buf\n#endif\n\n#ifndef HAVE_SRAND48\n#ifdef HAVE_SRANDOM\n#define srand48 srandom\n#define lrand48 random\n#else /* HAVE_SRANDOM */\n#define USE_INCLUDED_SRAND48\n#endif /* HAVE_SRANDOM */\n#endif\n\n#ifndef HAVE_LSTAT\n#define lstat stat\n#endif\n\n#if defined( __CYGWIN32__ ) && !defined( __CYGWIN__ )\n#define __CYGWIN__\n#endif\n\n#if defined( __CYGWIN__ ) || defined( __EMX__ )\n#define SUPPORT_DOS_DRIVE_PREFIX 1\n#endif\n\n#if defined( __CYGWIN__ )\n#define SUPPORT_NETBIOS_SHARE 1\n#define SUPPORT_WIN9X_CONSOLE_MBCS 1\n#endif\n\n#if defined(__CYGWIN__) && defined(__x86_64__)\n#define DONT_CALL_GC_AFTER_FORK\n#endif\n\n#if defined(__DJGPP__)\n#define DEFAULT_TERM\t\"dosansi\"\n#else\n#define DEFAULT_TERM\t0\t/* XXX */\n#endif\n\n#if defined(__EMX__) /* use $extension? */\n#define GUNZIP_CMDNAME  \"gzip\"\n#define BUNZIP2_CMDNAME \"bzip2\"\n#define INFLATE_CMDNAME  \"inflate.exe\"\n#define W3MBOOKMARK_CMDNAME\t\"w3mbookmark.exe\"\n#define W3MHELPERPANEL_CMDNAME\t\"w3mhelperpanel.exe\"\n#define DEV_NULL_PATH\t\"nul\"\n#define DEV_TTY_PATH\t\"con\"\n#define CGI_EXTENSION\t\".cmd\"\n#define USE_PATH_ENVVAR\n#else\n#define GUNZIP_CMDNAME  \"gunzip\"\n#define BUNZIP2_CMDNAME \"bunzip2\"\n#define INFLATE_CMDNAME\t\"inflate\"\n#define W3MBOOKMARK_CMDNAME\t\"w3mbookmark\"\n#define W3MHELPERPANEL_CMDNAME\t\"w3mhelperpanel\"\n#define DEV_NULL_PATH\t\"/dev/null\"\n#define DEV_TTY_PATH\t\"/dev/tty\"\n#define CGI_EXTENSION\t\".cgi\"\n#endif\n\n#define PATH_SEPARATOR\t':'\n#define GUNZIP_NAME  \"gunzip\"\n#define BUNZIP2_NAME \"bunzip2\"\n#define INFLATE_NAME \"inflate\"\n\n#ifdef __MINGW32_VERSION\n#define SIGKILL SIGTERM\n#define S_IXGRP 0\n#define S_IXOTH 0\n#define S_IRWXG 0\n#define S_IRWXO 0\n#endif /* __MINGW32_VERSION */\n\n#endif /* CONFIG_H_SEEN */\n", "#! /bin/sh\n# Guess values for system-dependent variables and create Makefiles.\n# Generated by GNU Autoconf 2.67 for w3m 0.5.3.\n#\n# Report bugs to <satodai@w3m.jp>.\n#\n#\n# Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,\n# 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 Free Software\n# Foundation, Inc.\n#\n#\n# This configure script is free software; the Free Software Foundation\n# gives unlimited permission to copy, distribute and modify it.\n## -------------------- ##\n## M4sh Initialization. ##\n## -------------------- ##\n\n# Be more Bourne compatible\nDUALCASE=1; export DUALCASE # for MKS sh\nif test -n \"${ZSH_VERSION+set}\" && (emulate sh) >/dev/null 2>&1; then :\n  emulate sh\n  NULLCMD=:\n  # Pre-4.2 versions of Zsh do word splitting on ${1+\"$@\"}, which\n  # is contrary to our usage.  Disable this feature.\n  alias -g '${1+\"$@\"}'='\"$@\"'\n  setopt NO_GLOB_SUBST\nelse\n  case `(set -o) 2>/dev/null` in #(\n  *posix*) :\n    set -o posix ;; #(\n  *) :\n     ;;\nesac\nfi\n\n\nas_nl='\n'\nexport as_nl\n# Printing a long string crashes Solaris 7 /usr/bin/printf.\nas_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'\nas_echo=$as_echo$as_echo$as_echo$as_echo$as_echo\nas_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo\n# Prefer a ksh shell builtin over an external printf program on Solaris,\n# but without wasting forks for bash or zsh.\nif test -z \"$BASH_VERSION$ZSH_VERSION\" \\\n    && (test \"X`print -r -- $as_echo`\" = \"X$as_echo\") 2>/dev/null; then\n  as_echo='print -r --'\n  as_echo_n='print -rn --'\nelif (test \"X`printf %s $as_echo`\" = \"X$as_echo\") 2>/dev/null; then\n  as_echo='printf %s\\n'\n  as_echo_n='printf %s'\nelse\n  if test \"X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`\" = \"X-n $as_echo\"; then\n    as_echo_body='eval /usr/ucb/echo -n \"$1$as_nl\"'\n    as_echo_n='/usr/ucb/echo -n'\n  else\n    as_echo_body='eval expr \"X$1\" : \"X\\\\(.*\\\\)\"'\n    as_echo_n_body='eval\n      arg=$1;\n      case $arg in #(\n      *\"$as_nl\"*)\n\texpr \"X$arg\" : \"X\\\\(.*\\\\)$as_nl\";\n\targ=`expr \"X$arg\" : \".*$as_nl\\\\(.*\\\\)\"`;;\n      esac;\n      expr \"X$arg\" : \"X\\\\(.*\\\\)\" | tr -d \"$as_nl\"\n    '\n    export as_echo_n_body\n    as_echo_n='sh -c $as_echo_n_body as_echo'\n  fi\n  export as_echo_body\n  as_echo='sh -c $as_echo_body as_echo'\nfi\n\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  PATH_SEPARATOR=:\n  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {\n    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||\n      PATH_SEPARATOR=';'\n  }\nfi\n\n\n# IFS\n# We need space, tab and new line, in precisely that order.  Quoting is\n# there to prevent editors from complaining about space-tab.\n# (If _AS_PATH_WALK were called with IFS unset, it would disable word\n# splitting by setting IFS to empty value.)\nIFS=\" \"\"\t$as_nl\"\n\n# Find who we are.  Look in the path if we contain no directory separator.\ncase $0 in #((\n  *[\\\\/]* ) as_myself=$0 ;;\n  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    test -r \"$as_dir/$0\" && as_myself=$as_dir/$0 && break\n  done\nIFS=$as_save_IFS\n\n     ;;\nesac\n# We did not find ourselves, most probably we were run as `sh COMMAND'\n# in which case we are not to be found in the path.\nif test \"x$as_myself\" = x; then\n  as_myself=$0\nfi\nif test ! -f \"$as_myself\"; then\n  $as_echo \"$as_myself: error: cannot find myself; rerun with an absolute file name\" >&2\n  exit 1\nfi\n\n# Unset variables that we do not need and which cause bugs (e.g. in\n# pre-3.0 UWIN ksh).  But do not cause bugs in bash 2.01; the \"|| exit 1\"\n# suppresses any \"Segmentation fault\" message there.  '((' could\n# trigger a bug in pdksh 5.2.14.\nfor as_var in BASH_ENV ENV MAIL MAILPATH\ndo eval test x\\${$as_var+set} = xset \\\n  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :\ndone\nPS1='$ '\nPS2='> '\nPS4='+ '\n\n# NLS nuisances.\nLC_ALL=C\nexport LC_ALL\nLANGUAGE=C\nexport LANGUAGE\n\n# CDPATH.\n(unset CDPATH) >/dev/null 2>&1 && unset CDPATH\n\nif test \"x$CONFIG_SHELL\" = x; then\n  as_bourne_compatible=\"if test -n \\\"\\${ZSH_VERSION+set}\\\" && (emulate sh) >/dev/null 2>&1; then :\n  emulate sh\n  NULLCMD=:\n  # Pre-4.2 versions of Zsh do word splitting on \\${1+\\\"\\$@\\\"}, which\n  # is contrary to our usage.  Disable this feature.\n  alias -g '\\${1+\\\"\\$@\\\"}'='\\\"\\$@\\\"'\n  setopt NO_GLOB_SUBST\nelse\n  case \\`(set -o) 2>/dev/null\\` in #(\n  *posix*) :\n    set -o posix ;; #(\n  *) :\n     ;;\nesac\nfi\n\"\n  as_required=\"as_fn_return () { (exit \\$1); }\nas_fn_success () { as_fn_return 0; }\nas_fn_failure () { as_fn_return 1; }\nas_fn_ret_success () { return 0; }\nas_fn_ret_failure () { return 1; }\n\nexitcode=0\nas_fn_success || { exitcode=1; echo as_fn_success failed.; }\nas_fn_failure && { exitcode=1; echo as_fn_failure succeeded.; }\nas_fn_ret_success || { exitcode=1; echo as_fn_ret_success failed.; }\nas_fn_ret_failure && { exitcode=1; echo as_fn_ret_failure succeeded.; }\nif ( set x; as_fn_ret_success y && test x = \\\"\\$1\\\" ); then :\n\nelse\n  exitcode=1; echo positional parameters were not saved.\nfi\ntest x\\$exitcode = x0 || exit 1\"\n  as_suggested=\"  as_lineno_1=\";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested\" as_lineno_1a=\\$LINENO\n  as_lineno_2=\";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested\" as_lineno_2a=\\$LINENO\n  eval 'test \\\"x\\$as_lineno_1'\\$as_run'\\\" != \\\"x\\$as_lineno_2'\\$as_run'\\\" &&\n  test \\\"x\\`expr \\$as_lineno_1'\\$as_run' + 1\\`\\\" = \\\"x\\$as_lineno_2'\\$as_run'\\\"' || exit 1\ntest \\$(( 1 + 1 )) = 2 || exit 1\"\n  if (eval \"$as_required\") 2>/dev/null; then :\n  as_have_required=yes\nelse\n  as_have_required=no\nfi\n  if test x$as_have_required = xyes && (eval \"$as_suggested\") 2>/dev/null; then :\n\nelse\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nas_found=false\nfor as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n  as_found=:\n  case $as_dir in #(\n\t /*)\n\t   for as_base in sh bash ksh sh5; do\n\t     # Try only shells that exist, to save several forks.\n\t     as_shell=$as_dir/$as_base\n\t     if { test -f \"$as_shell\" || test -f \"$as_shell.exe\"; } &&\n\t\t    { $as_echo \"$as_bourne_compatible\"\"$as_required\" | as_run=a \"$as_shell\"; } 2>/dev/null; then :\n  CONFIG_SHELL=$as_shell as_have_required=yes\n\t\t   if { $as_echo \"$as_bourne_compatible\"\"$as_suggested\" | as_run=a \"$as_shell\"; } 2>/dev/null; then :\n  break 2\nfi\nfi\n\t   done;;\n       esac\n  as_found=false\ndone\n$as_found || { if { test -f \"$SHELL\" || test -f \"$SHELL.exe\"; } &&\n\t      { $as_echo \"$as_bourne_compatible\"\"$as_required\" | as_run=a \"$SHELL\"; } 2>/dev/null; then :\n  CONFIG_SHELL=$SHELL as_have_required=yes\nfi; }\nIFS=$as_save_IFS\n\n\n      if test \"x$CONFIG_SHELL\" != x; then :\n  # We cannot yet assume a decent shell, so we have to provide a\n\t# neutralization value for shells without unset; and this also\n\t# works around shells that cannot unset nonexistent variables.\n\tBASH_ENV=/dev/null\n\tENV=/dev/null\n\t(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV\n\texport CONFIG_SHELL\n\texec \"$CONFIG_SHELL\" \"$as_myself\" ${1+\"$@\"}\nfi\n\n    if test x$as_have_required = xno; then :\n  $as_echo \"$0: This script requires a shell more modern than all\"\n  $as_echo \"$0: the shells that I found on your system.\"\n  if test x${ZSH_VERSION+set} = xset ; then\n    $as_echo \"$0: In particular, zsh $ZSH_VERSION has bugs and should\"\n    $as_echo \"$0: be upgraded to zsh 4.3.4 or later.\"\n  else\n    $as_echo \"$0: Please tell bug-autoconf@gnu.org and satodai@w3m.jp\n$0: about your system, including any error possibly output\n$0: before this message. Then install a modern shell, or\n$0: manually run the script under such a shell if you do\n$0: have one.\"\n  fi\n  exit 1\nfi\nfi\nfi\nSHELL=${CONFIG_SHELL-/bin/sh}\nexport SHELL\n# Unset more variables known to interfere with behavior of common tools.\nCLICOLOR_FORCE= GREP_OPTIONS=\nunset CLICOLOR_FORCE GREP_OPTIONS\n\n## --------------------- ##\n## M4sh Shell Functions. ##\n## --------------------- ##\n# as_fn_unset VAR\n# ---------------\n# Portably unset VAR.\nas_fn_unset ()\n{\n  { eval $1=; unset $1;}\n}\nas_unset=as_fn_unset\n\n# as_fn_set_status STATUS\n# -----------------------\n# Set $? to STATUS, without forking.\nas_fn_set_status ()\n{\n  return $1\n} # as_fn_set_status\n\n# as_fn_exit STATUS\n# -----------------\n# Exit the shell with STATUS, even in a \"trap 0\" or \"set -e\" context.\nas_fn_exit ()\n{\n  set +e\n  as_fn_set_status $1\n  exit $1\n} # as_fn_exit\n\n# as_fn_mkdir_p\n# -------------\n# Create \"$as_dir\" as a directory, including parents if necessary.\nas_fn_mkdir_p ()\n{\n\n  case $as_dir in #(\n  -*) as_dir=./$as_dir;;\n  esac\n  test -d \"$as_dir\" || eval $as_mkdir_p || {\n    as_dirs=\n    while :; do\n      case $as_dir in #(\n      *\\'*) as_qdir=`$as_echo \"$as_dir\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"`;; #'(\n      *) as_qdir=$as_dir;;\n      esac\n      as_dirs=\"'$as_qdir' $as_dirs\"\n      as_dir=`$as_dirname -- \"$as_dir\" ||\n$as_expr X\"$as_dir\" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n\t X\"$as_dir\" : 'X\\(//\\)[^/]' \\| \\\n\t X\"$as_dir\" : 'X\\(//\\)$' \\| \\\n\t X\"$as_dir\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n$as_echo X\"$as_dir\" |\n    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)[^/].*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\).*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  s/.*/./; q'`\n      test -d \"$as_dir\" && break\n    done\n    test -z \"$as_dirs\" || eval \"mkdir $as_dirs\"\n  } || test -d \"$as_dir\" || as_fn_error $? \"cannot create directory $as_dir\"\n\n\n} # as_fn_mkdir_p\n# as_fn_append VAR VALUE\n# ----------------------\n# Append the text in VALUE to the end of the definition contained in VAR. Take\n# advantage of any shell optimizations that allow amortized linear growth over\n# repeated appends, instead of the typical quadratic growth present in naive\n# implementations.\nif (eval \"as_var=1; as_var+=2; test x\\$as_var = x12\") 2>/dev/null; then :\n  eval 'as_fn_append ()\n  {\n    eval $1+=\\$2\n  }'\nelse\n  as_fn_append ()\n  {\n    eval $1=\\$$1\\$2\n  }\nfi # as_fn_append\n\n# as_fn_arith ARG...\n# ------------------\n# Perform arithmetic evaluation on the ARGs, and store the result in the\n# global $as_val. Take advantage of shells that can avoid forks. The arguments\n# must be portable across $(()) and expr.\nif (eval \"test \\$(( 1 + 1 )) = 2\") 2>/dev/null; then :\n  eval 'as_fn_arith ()\n  {\n    as_val=$(( $* ))\n  }'\nelse\n  as_fn_arith ()\n  {\n    as_val=`expr \"$@\" || test $? -eq 1`\n  }\nfi # as_fn_arith\n\n\n# as_fn_error STATUS ERROR [LINENO LOG_FD]\n# ----------------------------------------\n# Output \"`basename $0`: error: ERROR\" to stderr. If LINENO and LOG_FD are\n# provided, also output the error to LOG_FD, referencing LINENO. Then exit the\n# script with STATUS, using 1 if that was 0.\nas_fn_error ()\n{\n  as_status=$1; test $as_status -eq 0 && as_status=1\n  if test \"$4\"; then\n    as_lineno=${as_lineno-\"$3\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n    $as_echo \"$as_me:${as_lineno-$LINENO}: error: $2\" >&$4\n  fi\n  $as_echo \"$as_me: error: $2\" >&2\n  as_fn_exit $as_status\n} # as_fn_error\n\nif expr a : '\\(a\\)' >/dev/null 2>&1 &&\n   test \"X`expr 00001 : '.*\\(...\\)'`\" = X001; then\n  as_expr=expr\nelse\n  as_expr=false\nfi\n\nif (basename -- /) >/dev/null 2>&1 && test \"X`basename -- / 2>&1`\" = \"X/\"; then\n  as_basename=basename\nelse\n  as_basename=false\nfi\n\nif (as_dir=`dirname -- /` && test \"X$as_dir\" = X/) >/dev/null 2>&1; then\n  as_dirname=dirname\nelse\n  as_dirname=false\nfi\n\nas_me=`$as_basename -- \"$0\" ||\n$as_expr X/\"$0\" : '.*/\\([^/][^/]*\\)/*$' \\| \\\n\t X\"$0\" : 'X\\(//\\)$' \\| \\\n\t X\"$0\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n$as_echo X/\"$0\" |\n    sed '/^.*\\/\\([^/][^/]*\\)\\/*$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\/\\(\\/\\/\\)$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\/\\(\\/\\).*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  s/.*/./; q'`\n\n# Avoid depending upon Character Ranges.\nas_cr_letters='abcdefghijklmnopqrstuvwxyz'\nas_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'\nas_cr_Letters=$as_cr_letters$as_cr_LETTERS\nas_cr_digits='0123456789'\nas_cr_alnum=$as_cr_Letters$as_cr_digits\n\n\n  as_lineno_1=$LINENO as_lineno_1a=$LINENO\n  as_lineno_2=$LINENO as_lineno_2a=$LINENO\n  eval 'test \"x$as_lineno_1'$as_run'\" != \"x$as_lineno_2'$as_run'\" &&\n  test \"x`expr $as_lineno_1'$as_run' + 1`\" = \"x$as_lineno_2'$as_run'\"' || {\n  # Blame Lee E. McMahon (1931-1989) for sed's syntax.  :-)\n  sed -n '\n    p\n    /[$]LINENO/=\n  ' <$as_myself |\n    sed '\n      s/[$]LINENO.*/&-/\n      t lineno\n      b\n      :lineno\n      N\n      :loop\n      s/[$]LINENO\\([^'$as_cr_alnum'_].*\\n\\)\\(.*\\)/\\2\\1\\2/\n      t loop\n      s/-\\n.*//\n    ' >$as_me.lineno &&\n  chmod +x \"$as_me.lineno\" ||\n    { $as_echo \"$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell\" >&2; as_fn_exit 1; }\n\n  # Don't try to exec as it changes $[0], causing all sort of problems\n  # (the dirname of $[0] is not the place where we might find the\n  # original and so on.  Autoconf is especially sensitive to this).\n  . \"./$as_me.lineno\"\n  # Exit status is that of the last command.\n  exit\n}\n\nECHO_C= ECHO_N= ECHO_T=\ncase `echo -n x` in #(((((\n-n*)\n  case `echo 'xy\\c'` in\n  *c*) ECHO_T='\t';;\t# ECHO_T is single tab character.\n  xy)  ECHO_C='\\c';;\n  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null\n       ECHO_T='\t';;\n  esac;;\n*)\n  ECHO_N='-n';;\nesac\n\nrm -f conf$$ conf$$.exe conf$$.file\nif test -d conf$$.dir; then\n  rm -f conf$$.dir/conf$$.file\nelse\n  rm -f conf$$.dir\n  mkdir conf$$.dir 2>/dev/null\nfi\nif (echo >conf$$.file) 2>/dev/null; then\n  if ln -s conf$$.file conf$$ 2>/dev/null; then\n    as_ln_s='ln -s'\n    # ... but there are two gotchas:\n    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.\n    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.\n    # In both cases, we have to default to `cp -p'.\n    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||\n      as_ln_s='cp -p'\n  elif ln conf$$.file conf$$ 2>/dev/null; then\n    as_ln_s=ln\n  else\n    as_ln_s='cp -p'\n  fi\nelse\n  as_ln_s='cp -p'\nfi\nrm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file\nrmdir conf$$.dir 2>/dev/null\n\nif mkdir -p . 2>/dev/null; then\n  as_mkdir_p='mkdir -p \"$as_dir\"'\nelse\n  test -d ./-p && rmdir ./-p\n  as_mkdir_p=false\nfi\n\nif test -x / >/dev/null 2>&1; then\n  as_test_x='test -x'\nelse\n  if ls -dL / >/dev/null 2>&1; then\n    as_ls_L_option=L\n  else\n    as_ls_L_option=\n  fi\n  as_test_x='\n    eval sh -c '\\''\n      if test -d \"$1\"; then\n\ttest -d \"$1/.\";\n      else\n\tcase $1 in #(\n\t-*)set \"./$1\";;\n\tesac;\n\tcase `ls -ld'$as_ls_L_option' \"$1\" 2>/dev/null` in #((\n\t???[sx]*):;;*)false;;esac;fi\n    '\\'' sh\n  '\nfi\nas_executable_p=$as_test_x\n\n# Sed expression to map a string onto a valid CPP name.\nas_tr_cpp=\"eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'\"\n\n# Sed expression to map a string onto a valid variable name.\nas_tr_sh=\"eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'\"\n\n\ntest -n \"$DJDIR\" || exec 7<&0 </dev/null\nexec 6>&1\n\n# Name of the host.\n# hostname on some systems (SVR3.2, old GNU/Linux) returns a bogus exit status,\n# so uname gets run too.\nac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`\n\n#\n# Initializations.\n#\nac_default_prefix=/usr/local\nac_clean_files=\nac_config_libobj_dir=.\nLIBOBJS=\ncross_compiling=no\nsubdirs=\nMFLAGS=\nMAKEFLAGS=\n\n# Identity of this package.\nPACKAGE_NAME='w3m'\nPACKAGE_TARNAME='w3m'\nPACKAGE_VERSION='0.5.3'\nPACKAGE_STRING='w3m 0.5.3'\nPACKAGE_BUGREPORT='satodai@w3m.jp'\nPACKAGE_URL=''\n\ngt_needs=\n# Factoring default headers for most tests.\nac_includes_default=\"\\\n#include <stdio.h>\n#ifdef HAVE_SYS_TYPES_H\n# include <sys/types.h>\n#endif\n#ifdef HAVE_SYS_STAT_H\n# include <sys/stat.h>\n#endif\n#ifdef STDC_HEADERS\n# include <stdlib.h>\n# include <stddef.h>\n#else\n# ifdef HAVE_STDLIB_H\n#  include <stdlib.h>\n# endif\n#endif\n#ifdef HAVE_STRING_H\n# if !defined STDC_HEADERS && defined HAVE_MEMORY_H\n#  include <memory.h>\n# endif\n# include <string.h>\n#endif\n#ifdef HAVE_STRINGS_H\n# include <strings.h>\n#endif\n#ifdef HAVE_INTTYPES_H\n# include <inttypes.h>\n#endif\n#ifdef HAVE_STDINT_H\n# include <stdint.h>\n#endif\n#ifdef HAVE_UNISTD_H\n# include <unistd.h>\n#endif\"\n\nac_subst_vars='LTLIBOBJS\nLIBOBJS\nCURRENT_VERSION\nDOCDIRS\nRC_DIR\nHELP_DIR\nSIGNAL_RETURN\nRETSIGTYPE\nHAVE_SIGSETJMP\nHAVE_SYS_ERRLIST\nUSE_BINMODE_STREAM\nLIBGC\nAUXBIN_TARGETS\nUSE_SYSMOUSE\nUSE_W3M\nUSE_DIGEST_AUTH\nSSL_LIBS\nSSL_CFLAGS\nPKG_CONFIG_LIBDIR\nPKG_CONFIG_PATH\nPKG_CONFIG\nUSE_SSL_VERIFY\nUSE_SSL\nHAVE_OLD_SS_FAMILY\nINET6\nDEF_EXT_BROWSER\nDEF_MAILER\nDEF_EDITOR\nDEF_MIGEMO_COMMAND\nUSE_MIGEMO\nUSE_W3MMAILER\nUSE_EXTERNAL_URI_LOADER\nUSE_HELP_CGI\nUSE_DICT\nUSE_GOPHER\nUSE_NNTP\nUSE_COOKIE\nUSE_ALARM\nUSE_HISTORY\nUSE_MOUSE\nUSE_MENU\nKEYBIND\nHELP_FILE\nKEYMAP_FILE\nuncompface\nUSE_XFACE\nIMGWINLDFLAGS\nIMGWINCFLAGS\nIMGFBLDFLAGS\nIMGFBCFLAGS\nIMGX11LDFLAGS\nIMGX11CFLAGS\nIMGOBJS\nIMGTARGETS\nUSE_IMLIB2\nUSE_IMLIB\nUSE_GTK2\nUSE_GDKPIXBUF\nINSTALL_W3MIMGDISPLAY\nW3MIMGDISPLAY_SETUID\nIMGLINK\nUSE_W3MIMG_WIN\nUSE_W3MIMG_FB\nUSE_W3MIMG_X11\nUSE_IMAGE\nUSE_BG_COLOR\nUSE_ANSI_COLOR\nUSE_COLOR\nNLSTARGET\nINTLTARGET\nPOSUB\nLTLIBINTL\nLIBINTL\nINTLLIBS\nLTLIBICONV\nLIBICONV\nINTL_MACOSX_LIBS\nEGREP\nGREP\nXGETTEXT_EXTRA_OPTIONS\nMSGMERGE\nXGETTEXT_015\nXGETTEXT\nGMSGFMT_015\nMSGFMT_015\nGMSGFMT\nMSGFMT\nGETTEXT_MACRO_VERSION\nUSE_NLS\nmkdir_p\nMKDIR_P\nPOLANG\nPOSUBST\nDOCUMENT_CHARSET\nSYSTEM_CHARSET\nDISPLAY_CHARSET\nWCCFLAGS\nWCTARGET\nUSE_UNICODE\nUSE_M17N\nW3M_LIBS\nW3M_TARGET\nhost_os\nhost_vendor\nhost_cpu\nhost\nbuild_os\nbuild_vendor\nbuild_cpu\nbuild\nMAN\nNKF\nPERL\nRANLIB\nSET_MAKE\nLN_S\nINSTALL_DATA\nINSTALL_SCRIPT\nINSTALL_PROGRAM\nCPP\nac_ct_CC\nCFLAGS\nCC\nAWK\nOBJEXT\nEXEEXT\nac_ct_CXX\nCPPFLAGS\nLDFLAGS\nCXXFLAGS\nCXX\nW3M_LANG\nW3M\nVERSION\nPACKAGE\ntarget_alias\nhost_alias\nbuild_alias\nLIBS\nECHO_T\nECHO_N\nECHO_C\nDEFS\nmandir\nlocaledir\nlibdir\npsdir\npdfdir\ndvidir\nhtmldir\ninfodir\ndocdir\noldincludedir\nincludedir\nlocalstatedir\nsharedstatedir\nsysconfdir\ndatadir\ndatarootdir\nlibexecdir\nsbindir\nbindir\nprogram_transform_name\nprefix\nexec_prefix\nPACKAGE_URL\nPACKAGE_BUGREPORT\nPACKAGE_STRING\nPACKAGE_VERSION\nPACKAGE_TARNAME\nPACKAGE_NAME\nPATH_SEPARATOR\nSHELL'\nac_subst_files=''\nac_user_opts='\nenable_option_checking\nenable_m17n\nenable_unicode\nenable_messagel10n\nenable_japanese\nwith_charset\nenable_nls\nwith_gnu_ld\nenable_rpath\nwith_libiconv_prefix\nwith_libintl_prefix\nenable_color\nenable_ansi_color\nenable_bgcolor\nenable_image\nwith_imagelib\nenable_xface\nenable_keymap\nenable_menu\nenable_mouse\nenable_history\nenable_alarm\nenable_cookie\nenable_nntp\nenable_gopher\nenable_dict\nenable_help_cgi\nenable_external_uri_loader\nenable_w3mmailer\nwith_migemo\nwith_editor\nwith_mailer\nwith_browser\nenable_ipv6\nwith_ssl\nenable_sslverify\nenable_digest_auth\nwith_termlib\nwith_gc\n'\n      ac_precious_vars='build_alias\nhost_alias\ntarget_alias\nCXX\nCXXFLAGS\nLDFLAGS\nLIBS\nCPPFLAGS\nCCC\nCC\nCFLAGS\nCPP\nPKG_CONFIG\nPKG_CONFIG_PATH\nPKG_CONFIG_LIBDIR\nSSL_CFLAGS\nSSL_LIBS'\n\n\n# Initialize some variables set by options.\nac_init_help=\nac_init_version=false\nac_unrecognized_opts=\nac_unrecognized_sep=\n# The variables have the same names as the options, with\n# dashes changed to underlines.\ncache_file=/dev/null\nexec_prefix=NONE\nno_create=\nno_recursion=\nprefix=NONE\nprogram_prefix=NONE\nprogram_suffix=NONE\nprogram_transform_name=s,x,x,\nsilent=\nsite=\nsrcdir=\nverbose=\nx_includes=NONE\nx_libraries=NONE\n\n# Installation directory options.\n# These are left unexpanded so users can \"make install exec_prefix=/foo\"\n# and all the variables that are supposed to be based on exec_prefix\n# by default will actually change.\n# Use braces instead of parens because sh, perl, etc. also accept them.\n# (The list follows the same order as the GNU Coding Standards.)\nbindir='${exec_prefix}/bin'\nsbindir='${exec_prefix}/sbin'\nlibexecdir='${exec_prefix}/libexec'\ndatarootdir='${prefix}/share'\ndatadir='${datarootdir}'\nsysconfdir='${prefix}/etc'\nsharedstatedir='${prefix}/com'\nlocalstatedir='${prefix}/var'\nincludedir='${prefix}/include'\noldincludedir='/usr/include'\ndocdir='${datarootdir}/doc/${PACKAGE_TARNAME}'\ninfodir='${datarootdir}/info'\nhtmldir='${docdir}'\ndvidir='${docdir}'\npdfdir='${docdir}'\npsdir='${docdir}'\nlibdir='${exec_prefix}/lib'\nlocaledir='${datarootdir}/locale'\nmandir='${datarootdir}/man'\n\nac_prev=\nac_dashdash=\nfor ac_option\ndo\n  # If the previous option needs an argument, assign it.\n  if test -n \"$ac_prev\"; then\n    eval $ac_prev=\\$ac_option\n    ac_prev=\n    continue\n  fi\n\n  case $ac_option in\n  *=?*) ac_optarg=`expr \"X$ac_option\" : '[^=]*=\\(.*\\)'` ;;\n  *=)   ac_optarg= ;;\n  *)    ac_optarg=yes ;;\n  esac\n\n  # Accept the important Cygnus configure options, so we can diagnose typos.\n\n  case $ac_dashdash$ac_option in\n  --)\n    ac_dashdash=yes ;;\n\n  -bindir | --bindir | --bindi | --bind | --bin | --bi)\n    ac_prev=bindir ;;\n  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)\n    bindir=$ac_optarg ;;\n\n  -build | --build | --buil | --bui | --bu)\n    ac_prev=build_alias ;;\n  -build=* | --build=* | --buil=* | --bui=* | --bu=*)\n    build_alias=$ac_optarg ;;\n\n  -cache-file | --cache-file | --cache-fil | --cache-fi \\\n  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)\n    ac_prev=cache_file ;;\n  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \\\n  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)\n    cache_file=$ac_optarg ;;\n\n  --config-cache | -C)\n    cache_file=config.cache ;;\n\n  -datadir | --datadir | --datadi | --datad)\n    ac_prev=datadir ;;\n  -datadir=* | --datadir=* | --datadi=* | --datad=*)\n    datadir=$ac_optarg ;;\n\n  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \\\n  | --dataroo | --dataro | --datar)\n    ac_prev=datarootdir ;;\n  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \\\n  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)\n    datarootdir=$ac_optarg ;;\n\n  -disable-* | --disable-*)\n    ac_useropt=`expr \"x$ac_option\" : 'x-*disable-\\(.*\\)'`\n    # Reject names that are not valid shell variable names.\n    expr \"x$ac_useropt\" : \".*[^-+._$as_cr_alnum]\" >/dev/null &&\n      as_fn_error $? \"invalid feature name: $ac_useropt\"\n    ac_useropt_orig=$ac_useropt\n    ac_useropt=`$as_echo \"$ac_useropt\" | sed 's/[-+.]/_/g'`\n    case $ac_user_opts in\n      *\"\n\"enable_$ac_useropt\"\n\"*) ;;\n      *) ac_unrecognized_opts=\"$ac_unrecognized_opts$ac_unrecognized_sep--disable-$ac_useropt_orig\"\n\t ac_unrecognized_sep=', ';;\n    esac\n    eval enable_$ac_useropt=no ;;\n\n  -docdir | --docdir | --docdi | --doc | --do)\n    ac_prev=docdir ;;\n  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)\n    docdir=$ac_optarg ;;\n\n  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)\n    ac_prev=dvidir ;;\n  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)\n    dvidir=$ac_optarg ;;\n\n  -enable-* | --enable-*)\n    ac_useropt=`expr \"x$ac_option\" : 'x-*enable-\\([^=]*\\)'`\n    # Reject names that are not valid shell variable names.\n    expr \"x$ac_useropt\" : \".*[^-+._$as_cr_alnum]\" >/dev/null &&\n      as_fn_error $? \"invalid feature name: $ac_useropt\"\n    ac_useropt_orig=$ac_useropt\n    ac_useropt=`$as_echo \"$ac_useropt\" | sed 's/[-+.]/_/g'`\n    case $ac_user_opts in\n      *\"\n\"enable_$ac_useropt\"\n\"*) ;;\n      *) ac_unrecognized_opts=\"$ac_unrecognized_opts$ac_unrecognized_sep--enable-$ac_useropt_orig\"\n\t ac_unrecognized_sep=', ';;\n    esac\n    eval enable_$ac_useropt=\\$ac_optarg ;;\n\n  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \\\n  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \\\n  | --exec | --exe | --ex)\n    ac_prev=exec_prefix ;;\n  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \\\n  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \\\n  | --exec=* | --exe=* | --ex=*)\n    exec_prefix=$ac_optarg ;;\n\n  -gas | --gas | --ga | --g)\n    # Obsolete; use --with-gas.\n    with_gas=yes ;;\n\n  -help | --help | --hel | --he | -h)\n    ac_init_help=long ;;\n  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)\n    ac_init_help=recursive ;;\n  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)\n    ac_init_help=short ;;\n\n  -host | --host | --hos | --ho)\n    ac_prev=host_alias ;;\n  -host=* | --host=* | --hos=* | --ho=*)\n    host_alias=$ac_optarg ;;\n\n  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)\n    ac_prev=htmldir ;;\n  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \\\n  | --ht=*)\n    htmldir=$ac_optarg ;;\n\n  -includedir | --includedir | --includedi | --included | --include \\\n  | --includ | --inclu | --incl | --inc)\n    ac_prev=includedir ;;\n  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \\\n  | --includ=* | --inclu=* | --incl=* | --inc=*)\n    includedir=$ac_optarg ;;\n\n  -infodir | --infodir | --infodi | --infod | --info | --inf)\n    ac_prev=infodir ;;\n  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)\n    infodir=$ac_optarg ;;\n\n  -libdir | --libdir | --libdi | --libd)\n    ac_prev=libdir ;;\n  -libdir=* | --libdir=* | --libdi=* | --libd=*)\n    libdir=$ac_optarg ;;\n\n  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \\\n  | --libexe | --libex | --libe)\n    ac_prev=libexecdir ;;\n  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \\\n  | --libexe=* | --libex=* | --libe=*)\n    libexecdir=$ac_optarg ;;\n\n  -localedir | --localedir | --localedi | --localed | --locale)\n    ac_prev=localedir ;;\n  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)\n    localedir=$ac_optarg ;;\n\n  -localstatedir | --localstatedir | --localstatedi | --localstated \\\n  | --localstate | --localstat | --localsta | --localst | --locals)\n    ac_prev=localstatedir ;;\n  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \\\n  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)\n    localstatedir=$ac_optarg ;;\n\n  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)\n    ac_prev=mandir ;;\n  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)\n    mandir=$ac_optarg ;;\n\n  -nfp | --nfp | --nf)\n    # Obsolete; use --without-fp.\n    with_fp=no ;;\n\n  -no-create | --no-create | --no-creat | --no-crea | --no-cre \\\n  | --no-cr | --no-c | -n)\n    no_create=yes ;;\n\n  -no-recursion | --no-recursion | --no-recursio | --no-recursi \\\n  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)\n    no_recursion=yes ;;\n\n  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \\\n  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \\\n  | --oldin | --oldi | --old | --ol | --o)\n    ac_prev=oldincludedir ;;\n  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \\\n  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \\\n  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)\n    oldincludedir=$ac_optarg ;;\n\n  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)\n    ac_prev=prefix ;;\n  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)\n    prefix=$ac_optarg ;;\n\n  -program-prefix | --program-prefix | --program-prefi | --program-pref \\\n  | --program-pre | --program-pr | --program-p)\n    ac_prev=program_prefix ;;\n  -program-prefix=* | --program-prefix=* | --program-prefi=* \\\n  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)\n    program_prefix=$ac_optarg ;;\n\n  -program-suffix | --program-suffix | --program-suffi | --program-suff \\\n  | --program-suf | --program-su | --program-s)\n    ac_prev=program_suffix ;;\n  -program-suffix=* | --program-suffix=* | --program-suffi=* \\\n  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)\n    program_suffix=$ac_optarg ;;\n\n  -program-transform-name | --program-transform-name \\\n  | --program-transform-nam | --program-transform-na \\\n  | --program-transform-n | --program-transform- \\\n  | --program-transform | --program-transfor \\\n  | --program-transfo | --program-transf \\\n  | --program-trans | --program-tran \\\n  | --progr-tra | --program-tr | --program-t)\n    ac_prev=program_transform_name ;;\n  -program-transform-name=* | --program-transform-name=* \\\n  | --program-transform-nam=* | --program-transform-na=* \\\n  | --program-transform-n=* | --program-transform-=* \\\n  | --program-transform=* | --program-transfor=* \\\n  | --program-transfo=* | --program-transf=* \\\n  | --program-trans=* | --program-tran=* \\\n  | --progr-tra=* | --program-tr=* | --program-t=*)\n    program_transform_name=$ac_optarg ;;\n\n  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)\n    ac_prev=pdfdir ;;\n  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)\n    pdfdir=$ac_optarg ;;\n\n  -psdir | --psdir | --psdi | --psd | --ps)\n    ac_prev=psdir ;;\n  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)\n    psdir=$ac_optarg ;;\n\n  -q | -quiet | --quiet | --quie | --qui | --qu | --q \\\n  | -silent | --silent | --silen | --sile | --sil)\n    silent=yes ;;\n\n  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)\n    ac_prev=sbindir ;;\n  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \\\n  | --sbi=* | --sb=*)\n    sbindir=$ac_optarg ;;\n\n  -sharedstatedir | --sharedstatedir | --sharedstatedi \\\n  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \\\n  | --sharedst | --shareds | --shared | --share | --shar \\\n  | --sha | --sh)\n    ac_prev=sharedstatedir ;;\n  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \\\n  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \\\n  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \\\n  | --sha=* | --sh=*)\n    sharedstatedir=$ac_optarg ;;\n\n  -site | --site | --sit)\n    ac_prev=site ;;\n  -site=* | --site=* | --sit=*)\n    site=$ac_optarg ;;\n\n  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)\n    ac_prev=srcdir ;;\n  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)\n    srcdir=$ac_optarg ;;\n\n  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \\\n  | --syscon | --sysco | --sysc | --sys | --sy)\n    ac_prev=sysconfdir ;;\n  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \\\n  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)\n    sysconfdir=$ac_optarg ;;\n\n  -target | --target | --targe | --targ | --tar | --ta | --t)\n    ac_prev=target_alias ;;\n  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)\n    target_alias=$ac_optarg ;;\n\n  -v | -verbose | --verbose | --verbos | --verbo | --verb)\n    verbose=yes ;;\n\n  -version | --version | --versio | --versi | --vers | -V)\n    ac_init_version=: ;;\n\n  -with-* | --with-*)\n    ac_useropt=`expr \"x$ac_option\" : 'x-*with-\\([^=]*\\)'`\n    # Reject names that are not valid shell variable names.\n    expr \"x$ac_useropt\" : \".*[^-+._$as_cr_alnum]\" >/dev/null &&\n      as_fn_error $? \"invalid package name: $ac_useropt\"\n    ac_useropt_orig=$ac_useropt\n    ac_useropt=`$as_echo \"$ac_useropt\" | sed 's/[-+.]/_/g'`\n    case $ac_user_opts in\n      *\"\n\"with_$ac_useropt\"\n\"*) ;;\n      *) ac_unrecognized_opts=\"$ac_unrecognized_opts$ac_unrecognized_sep--with-$ac_useropt_orig\"\n\t ac_unrecognized_sep=', ';;\n    esac\n    eval with_$ac_useropt=\\$ac_optarg ;;\n\n  -without-* | --without-*)\n    ac_useropt=`expr \"x$ac_option\" : 'x-*without-\\(.*\\)'`\n    # Reject names that are not valid shell variable names.\n    expr \"x$ac_useropt\" : \".*[^-+._$as_cr_alnum]\" >/dev/null &&\n      as_fn_error $? \"invalid package name: $ac_useropt\"\n    ac_useropt_orig=$ac_useropt\n    ac_useropt=`$as_echo \"$ac_useropt\" | sed 's/[-+.]/_/g'`\n    case $ac_user_opts in\n      *\"\n\"with_$ac_useropt\"\n\"*) ;;\n      *) ac_unrecognized_opts=\"$ac_unrecognized_opts$ac_unrecognized_sep--without-$ac_useropt_orig\"\n\t ac_unrecognized_sep=', ';;\n    esac\n    eval with_$ac_useropt=no ;;\n\n  --x)\n    # Obsolete; use --with-x.\n    with_x=yes ;;\n\n  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \\\n  | --x-incl | --x-inc | --x-in | --x-i)\n    ac_prev=x_includes ;;\n  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \\\n  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)\n    x_includes=$ac_optarg ;;\n\n  -x-libraries | --x-libraries | --x-librarie | --x-librari \\\n  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)\n    ac_prev=x_libraries ;;\n  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \\\n  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)\n    x_libraries=$ac_optarg ;;\n\n  -*) as_fn_error $? \"unrecognized option: \\`$ac_option'\nTry \\`$0 --help' for more information\"\n    ;;\n\n  *=*)\n    ac_envvar=`expr \"x$ac_option\" : 'x\\([^=]*\\)='`\n    # Reject names that are not valid shell variable names.\n    case $ac_envvar in #(\n      '' | [0-9]* | *[!_$as_cr_alnum]* )\n      as_fn_error $? \"invalid variable name: \\`$ac_envvar'\" ;;\n    esac\n    eval $ac_envvar=\\$ac_optarg\n    export $ac_envvar ;;\n\n  *)\n    # FIXME: should be removed in autoconf 3.0.\n    $as_echo \"$as_me: WARNING: you should use --build, --host, --target\" >&2\n    expr \"x$ac_option\" : \".*[^-._$as_cr_alnum]\" >/dev/null &&\n      $as_echo \"$as_me: WARNING: invalid host type: $ac_option\" >&2\n    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}\n    ;;\n\n  esac\ndone\n\nif test -n \"$ac_prev\"; then\n  ac_option=--`echo $ac_prev | sed 's/_/-/g'`\n  as_fn_error $? \"missing argument to $ac_option\"\nfi\n\nif test -n \"$ac_unrecognized_opts\"; then\n  case $enable_option_checking in\n    no) ;;\n    fatal) as_fn_error $? \"unrecognized options: $ac_unrecognized_opts\" ;;\n    *)     $as_echo \"$as_me: WARNING: unrecognized options: $ac_unrecognized_opts\" >&2 ;;\n  esac\nfi\n\n# Check all directory arguments for consistency.\nfor ac_var in\texec_prefix prefix bindir sbindir libexecdir datarootdir \\\n\t\tdatadir sysconfdir sharedstatedir localstatedir includedir \\\n\t\toldincludedir docdir infodir htmldir dvidir pdfdir psdir \\\n\t\tlibdir localedir mandir\ndo\n  eval ac_val=\\$$ac_var\n  # Remove trailing slashes.\n  case $ac_val in\n    */ )\n      ac_val=`expr \"X$ac_val\" : 'X\\(.*[^/]\\)' \\| \"X$ac_val\" : 'X\\(.*\\)'`\n      eval $ac_var=\\$ac_val;;\n  esac\n  # Be sure to have absolute directory names.\n  case $ac_val in\n    [\\\\/$]* | ?:[\\\\/]* )  continue;;\n    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;\n  esac\n  as_fn_error $? \"expected an absolute directory name for --$ac_var: $ac_val\"\ndone\n\n# There might be people who depend on the old broken behavior: `$host'\n# used to hold the argument of --host etc.\n# FIXME: To remove some day.\nbuild=$build_alias\nhost=$host_alias\ntarget=$target_alias\n\n# FIXME: To remove some day.\nif test \"x$host_alias\" != x; then\n  if test \"x$build_alias\" = x; then\n    cross_compiling=maybe\n    $as_echo \"$as_me: WARNING: if you wanted to set the --build type, don't use --host.\n    If a cross compiler is detected then cross compile mode will be used\" >&2\n  elif test \"x$build_alias\" != \"x$host_alias\"; then\n    cross_compiling=yes\n  fi\nfi\n\nac_tool_prefix=\ntest -n \"$host_alias\" && ac_tool_prefix=$host_alias-\n\ntest \"$silent\" = yes && exec 6>/dev/null\n\n\nac_pwd=`pwd` && test -n \"$ac_pwd\" &&\nac_ls_di=`ls -di .` &&\nac_pwd_ls_di=`cd \"$ac_pwd\" && ls -di .` ||\n  as_fn_error $? \"working directory cannot be determined\"\ntest \"X$ac_ls_di\" = \"X$ac_pwd_ls_di\" ||\n  as_fn_error $? \"pwd does not report name of working directory\"\n\n\n# Find the source files, if location was not specified.\nif test -z \"$srcdir\"; then\n  ac_srcdir_defaulted=yes\n  # Try the directory containing this script, then the parent directory.\n  ac_confdir=`$as_dirname -- \"$as_myself\" ||\n$as_expr X\"$as_myself\" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n\t X\"$as_myself\" : 'X\\(//\\)[^/]' \\| \\\n\t X\"$as_myself\" : 'X\\(//\\)$' \\| \\\n\t X\"$as_myself\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n$as_echo X\"$as_myself\" |\n    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)[^/].*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\).*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  s/.*/./; q'`\n  srcdir=$ac_confdir\n  if test ! -r \"$srcdir/$ac_unique_file\"; then\n    srcdir=..\n  fi\nelse\n  ac_srcdir_defaulted=no\nfi\nif test ! -r \"$srcdir/$ac_unique_file\"; then\n  test \"$ac_srcdir_defaulted\" = yes && srcdir=\"$ac_confdir or ..\"\n  as_fn_error $? \"cannot find sources ($ac_unique_file) in $srcdir\"\nfi\nac_msg=\"sources are in $srcdir, but \\`cd $srcdir' does not work\"\nac_abs_confdir=`(\n\tcd \"$srcdir\" && test -r \"./$ac_unique_file\" || as_fn_error $? \"$ac_msg\"\n\tpwd)`\n# When building in place, set srcdir=.\nif test \"$ac_abs_confdir\" = \"$ac_pwd\"; then\n  srcdir=.\nfi\n# Remove unnecessary trailing slashes from srcdir.\n# Double slashes in file names in object file debugging info\n# mess up M-x gdb in Emacs.\ncase $srcdir in\n*/) srcdir=`expr \"X$srcdir\" : 'X\\(.*[^/]\\)' \\| \"X$srcdir\" : 'X\\(.*\\)'`;;\nesac\nfor ac_var in $ac_precious_vars; do\n  eval ac_env_${ac_var}_set=\\${${ac_var}+set}\n  eval ac_env_${ac_var}_value=\\$${ac_var}\n  eval ac_cv_env_${ac_var}_set=\\${${ac_var}+set}\n  eval ac_cv_env_${ac_var}_value=\\$${ac_var}\ndone\n\n#\n# Report the --help message.\n#\nif test \"$ac_init_help\" = \"long\"; then\n  # Omit some internal or obsolete options to make the list less imposing.\n  # This message is too long to be a string in the A/UX 3.1 sh.\n  cat <<_ACEOF\n\\`configure' configures w3m 0.5.3 to adapt to many kinds of systems.\n\nUsage: $0 [OPTION]... [VAR=VALUE]...\n\nTo assign environment variables (e.g., CC, CFLAGS...), specify them as\nVAR=VALUE.  See below for descriptions of some of the useful variables.\n\nDefaults for the options are specified in brackets.\n\nConfiguration:\n  -h, --help              display this help and exit\n      --help=short        display options specific to this package\n      --help=recursive    display the short help of all the included packages\n  -V, --version           display version information and exit\n  -q, --quiet, --silent   do not print \\`checking ...' messages\n      --cache-file=FILE   cache test results in FILE [disabled]\n  -C, --config-cache      alias for \\`--cache-file=config.cache'\n  -n, --no-create         do not create output files\n      --srcdir=DIR        find the sources in DIR [configure dir or \\`..']\n\nInstallation directories:\n  --prefix=PREFIX         install architecture-independent files in PREFIX\n                          [$ac_default_prefix]\n  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX\n                          [PREFIX]\n\nBy default, \\`make install' will install all the files in\n\\`$ac_default_prefix/bin', \\`$ac_default_prefix/lib' etc.  You can specify\nan installation prefix other than \\`$ac_default_prefix' using \\`--prefix',\nfor instance \\`--prefix=\\$HOME'.\n\nFor better control, use the options below.\n\nFine tuning of the installation directories:\n  --bindir=DIR            user executables [EPREFIX/bin]\n  --sbindir=DIR           system admin executables [EPREFIX/sbin]\n  --libexecdir=DIR        program executables [EPREFIX/libexec]\n  --sysconfdir=DIR        read-only single-machine data [PREFIX/etc]\n  --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]\n  --localstatedir=DIR     modifiable single-machine data [PREFIX/var]\n  --libdir=DIR            object code libraries [EPREFIX/lib]\n  --includedir=DIR        C header files [PREFIX/include]\n  --oldincludedir=DIR     C header files for non-gcc [/usr/include]\n  --datarootdir=DIR       read-only arch.-independent data root [PREFIX/share]\n  --datadir=DIR           read-only architecture-independent data [DATAROOTDIR]\n  --infodir=DIR           info documentation [DATAROOTDIR/info]\n  --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]\n  --mandir=DIR            man documentation [DATAROOTDIR/man]\n  --docdir=DIR            documentation root [DATAROOTDIR/doc/w3m]\n  --htmldir=DIR           html documentation [DOCDIR]\n  --dvidir=DIR            dvi documentation [DOCDIR]\n  --pdfdir=DIR            pdf documentation [DOCDIR]\n  --psdir=DIR             ps documentation [DOCDIR]\n_ACEOF\n\n  cat <<\\_ACEOF\n\nSystem types:\n  --build=BUILD     configure for building on BUILD [guessed]\n  --host=HOST       cross-compile to build programs to run on HOST [BUILD]\n_ACEOF\nfi\n\nif test -n \"$ac_init_help\"; then\n  case $ac_init_help in\n     short | recursive ) echo \"Configuration of w3m 0.5.3:\";;\n   esac\n  cat <<\\_ACEOF\n\nOptional Features:\n  --disable-option-checking  ignore unrecognized --enable/--with options\n  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n  --disable-m17n\t\tdo not use m17n\n   --disable-unicode\t\tdo not use unicode\n   --enable-messagel10n=LL\tmessage l10n instead of NLS\n   --enable-japanese=CODE\tsupport Japanese CODE=(S|E|J|U)\n  --disable-nls           do not use Native Language Support\n  --disable-rpath         do not hardcode runtime library paths\n  --disable-color\t\tdisable color for vt100 terminal\n   --disable-ansi-color\t\tdisable ansi color escape sequence\n   --disable-bgcolor\t\tdisable to set background color\n  --enable-image=DEVS\t\tenable inline image handler for DEVS\n\t\t\t\t DEVS may be comma separeted: x11,fb,fb+s,win\n\t\t\t\t default: autodetected.\n\t\t\t\t 'no' means disable inline image\n   --disable-xface\t\tdisable xface support\n  --enable-keymap=w3m|lynx\tdefault keybind style(w3m or lynx)\n  --disable-menu\t\tdisable popup menu\n  --disable-mouse\t\tdisable mouse operation\n  --disable-history\t\tdisable URL history\n  --disable-alarm\t\tdisable alarm\n  --disable-cookie\t\tdisable cookie\n  --disable-nntp\t\tdisable NNTP\n  --enable-gopher\t\tenable GOPHER\n  --disable-dict\t\tdisable dictionary lookup (see README.dict)\n  --disable-help-cgi\t\tdisable help cgi\n  --disable-external-uri-loader\tdisable external URI loader\n   --disable-w3mmailer\t\tdisable w3mmailer\n  --disable-ipv6\t\tdisable IPv6\n   --disable-sslverify\t\tverify SSL certificate\n  --disable-digest-auth\t\tdisable digest auth\n\nOptional Packages:\n  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]\n  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)\n  --with-charset=CHARSET\n  --with-gnu-ld           assume the C compiler uses GNU ld default=no\n  --with-libiconv-prefix[=DIR]  search for libiconv in DIR/include and DIR/lib\n  --without-libiconv-prefix     don't search for libiconv in includedir and libdir\n  --with-libintl-prefix[=DIR]  search for libintl in DIR/include and DIR/lib\n  --without-libintl-prefix     don't search for libintl in includedir and libdir\n  --with-imagelib=IMAGELIBS\t\timage library\n\t\t\t\t IMAGELIBS may be space separeted list of:\n\t\t\t\t    gtk2 gdk-pixbuf imlib imlib2\n  --with-migemo=MIGEMO_COMMAND\tmigemo command\n  --with-editor=EDITOR\t\tdefault editor (/usr/bin/vi)\n  --with-mailer=MAILER\t\tdefault mailer (/usr/bin/mail)\n  --with-browser=BROWSER\tdefault browser (/usr/bin/firefox)\n  --with-ssl=PREFIX\t\tsupport https protocol\n  --with-termlib=LIBS\t\tterminal library\n\t\t\t\tLIBS is space separated list of:\n\t\t\t\t  terminfo mytinfo termcap tinfo ncurses curses\n  --with-gc=PREFIX\t  \tlibgc PREFIX\n\nSome influential environment variables:\n  CXX         C++ compiler command\n  CXXFLAGS    C++ compiler flags\n  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a\n              nonstandard directory <lib dir>\n  LIBS        libraries to pass to the linker, e.g. -l<library>\n  CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if\n              you have headers in a nonstandard directory <include dir>\n  CC          C compiler command\n  CFLAGS      C compiler flags\n  CPP         C preprocessor\n  PKG_CONFIG  path to pkg-config utility\n  PKG_CONFIG_PATH\n              directories to add to pkg-config's search path\n  PKG_CONFIG_LIBDIR\n              path overriding pkg-config's built-in search path\n  SSL_CFLAGS  C compiler flags for SSL, overriding pkg-config\n  SSL_LIBS    linker flags for SSL, overriding pkg-config\n\nUse these variables to override the choices made by `configure' or to help\nit to find libraries and programs with nonstandard names/locations.\n\nReport bugs to <satodai@w3m.jp>.\n_ACEOF\nac_status=$?\nfi\n\nif test \"$ac_init_help\" = \"recursive\"; then\n  # If there are subdirs, report their specific --help.\n  for ac_dir in : $ac_subdirs_all; do test \"x$ac_dir\" = x: && continue\n    test -d \"$ac_dir\" ||\n      { cd \"$srcdir\" && ac_pwd=`pwd` && srcdir=. && test -d \"$ac_dir\"; } ||\n      continue\n    ac_builddir=.\n\ncase \"$ac_dir\" in\n.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;\n*)\n  ac_dir_suffix=/`$as_echo \"$ac_dir\" | sed 's|^\\.[\\\\/]||'`\n  # A \"..\" for each directory in $ac_dir_suffix.\n  ac_top_builddir_sub=`$as_echo \"$ac_dir_suffix\" | sed 's|/[^\\\\/]*|/..|g;s|/||'`\n  case $ac_top_builddir_sub in\n  \"\") ac_top_builddir_sub=. ac_top_build_prefix= ;;\n  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;\n  esac ;;\nesac\nac_abs_top_builddir=$ac_pwd\nac_abs_builddir=$ac_pwd$ac_dir_suffix\n# for backward compatibility:\nac_top_builddir=$ac_top_build_prefix\n\ncase $srcdir in\n  .)  # We are building in place.\n    ac_srcdir=.\n    ac_top_srcdir=$ac_top_builddir_sub\n    ac_abs_top_srcdir=$ac_pwd ;;\n  [\\\\/]* | ?:[\\\\/]* )  # Absolute name.\n    ac_srcdir=$srcdir$ac_dir_suffix;\n    ac_top_srcdir=$srcdir\n    ac_abs_top_srcdir=$srcdir ;;\n  *) # Relative name.\n    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix\n    ac_top_srcdir=$ac_top_build_prefix$srcdir\n    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;\nesac\nac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix\n\n    cd \"$ac_dir\" || { ac_status=$?; continue; }\n    # Check for guested configure.\n    if test -f \"$ac_srcdir/configure.gnu\"; then\n      echo &&\n      $SHELL \"$ac_srcdir/configure.gnu\" --help=recursive\n    elif test -f \"$ac_srcdir/configure\"; then\n      echo &&\n      $SHELL \"$ac_srcdir/configure\" --help=recursive\n    else\n      $as_echo \"$as_me: WARNING: no configuration information is in $ac_dir\" >&2\n    fi || ac_status=$?\n    cd \"$ac_pwd\" || { ac_status=$?; break; }\n  done\nfi\n\ntest -n \"$ac_init_help\" && exit $ac_status\nif $ac_init_version; then\n  cat <<\\_ACEOF\nw3m configure 0.5.3\ngenerated by GNU Autoconf 2.67\n\nCopyright (C) 2010 Free Software Foundation, Inc.\nThis configure script is free software; the Free Software Foundation\ngives unlimited permission to copy, distribute and modify it.\n_ACEOF\n  exit\nfi\n\n## ------------------------ ##\n## Autoconf initialization. ##\n## ------------------------ ##\n\n# ac_fn_cxx_try_compile LINENO\n# ----------------------------\n# Try to compile conftest.$ac_ext, and return whether this succeeded.\nac_fn_cxx_try_compile ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  rm -f conftest.$ac_objext\n  if { { ac_try=\"$ac_compile\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_compile\") 2>conftest.err\n  ac_status=$?\n  if test -s conftest.err; then\n    grep -v '^ *+' conftest.err >conftest.er1\n    cat conftest.er1 >&5\n    mv -f conftest.er1 conftest.err\n  fi\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; } && {\n\t test -z \"$ac_cxx_werror_flag\" ||\n\t test ! -s conftest.err\n       } && test -s conftest.$ac_objext; then :\n  ac_retval=0\nelse\n  $as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n\tac_retval=1\nfi\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n  as_fn_set_status $ac_retval\n\n} # ac_fn_cxx_try_compile\n\n# ac_fn_c_try_compile LINENO\n# --------------------------\n# Try to compile conftest.$ac_ext, and return whether this succeeded.\nac_fn_c_try_compile ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  rm -f conftest.$ac_objext\n  if { { ac_try=\"$ac_compile\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_compile\") 2>conftest.err\n  ac_status=$?\n  if test -s conftest.err; then\n    grep -v '^ *+' conftest.err >conftest.er1\n    cat conftest.er1 >&5\n    mv -f conftest.er1 conftest.err\n  fi\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; } && {\n\t test -z \"$ac_c_werror_flag\" ||\n\t test ! -s conftest.err\n       } && test -s conftest.$ac_objext; then :\n  ac_retval=0\nelse\n  $as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n\tac_retval=1\nfi\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n  as_fn_set_status $ac_retval\n\n} # ac_fn_c_try_compile\n\n# ac_fn_c_try_cpp LINENO\n# ----------------------\n# Try to preprocess conftest.$ac_ext, and return whether this succeeded.\nac_fn_c_try_cpp ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  if { { ac_try=\"$ac_cpp conftest.$ac_ext\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_cpp conftest.$ac_ext\") 2>conftest.err\n  ac_status=$?\n  if test -s conftest.err; then\n    grep -v '^ *+' conftest.err >conftest.er1\n    cat conftest.er1 >&5\n    mv -f conftest.er1 conftest.err\n  fi\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; } > conftest.i && {\n\t test -z \"$ac_c_preproc_warn_flag$ac_c_werror_flag\" ||\n\t test ! -s conftest.err\n       }; then :\n  ac_retval=0\nelse\n  $as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n    ac_retval=1\nfi\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n  as_fn_set_status $ac_retval\n\n} # ac_fn_c_try_cpp\n\n# ac_fn_c_try_link LINENO\n# -----------------------\n# Try to link conftest.$ac_ext, and return whether this succeeded.\nac_fn_c_try_link ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  rm -f conftest.$ac_objext conftest$ac_exeext\n  if { { ac_try=\"$ac_link\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_link\") 2>conftest.err\n  ac_status=$?\n  if test -s conftest.err; then\n    grep -v '^ *+' conftest.err >conftest.er1\n    cat conftest.er1 >&5\n    mv -f conftest.er1 conftest.err\n  fi\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; } && {\n\t test -z \"$ac_c_werror_flag\" ||\n\t test ! -s conftest.err\n       } && test -s conftest$ac_exeext && {\n\t test \"$cross_compiling\" = yes ||\n\t $as_test_x conftest$ac_exeext\n       }; then :\n  ac_retval=0\nelse\n  $as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n\tac_retval=1\nfi\n  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information\n  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would\n  # interfere with the next link command; also delete a directory that is\n  # left behind by Apple's compiler.  We do this before executing the actions.\n  rm -rf conftest.dSYM conftest_ipa8_conftest.oo\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n  as_fn_set_status $ac_retval\n\n} # ac_fn_c_try_link\n\n# ac_fn_c_try_run LINENO\n# ----------------------\n# Try to link conftest.$ac_ext, and return whether this succeeded. Assumes\n# that executables *can* be run.\nac_fn_c_try_run ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  if { { ac_try=\"$ac_link\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_link\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'\n  { { case \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_try\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; }; then :\n  ac_retval=0\nelse\n  $as_echo \"$as_me: program exited with status $ac_status\" >&5\n       $as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n       ac_retval=$ac_status\nfi\n  rm -rf conftest.dSYM conftest_ipa8_conftest.oo\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n  as_fn_set_status $ac_retval\n\n} # ac_fn_c_try_run\n\n# ac_fn_c_check_func LINENO FUNC VAR\n# ----------------------------------\n# Tests whether FUNC exists, setting the cache variable VAR accordingly\nac_fn_c_check_func ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n$as_echo_n \"checking for $2... \" >&6; }\nif eval \"test \\\"\\${$3+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n/* Define $2 to an innocuous variant, in case <limits.h> declares $2.\n   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n#define $2 innocuous_$2\n\n/* System header to define __stub macros and hopefully few prototypes,\n    which can conflict with char $2 (); below.\n    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n    <limits.h> exists even on freestanding compilers.  */\n\n#ifdef __STDC__\n# include <limits.h>\n#else\n# include <assert.h>\n#endif\n\n#undef $2\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar $2 ();\n/* The GNU C library defines this for functions which it implements\n    to always fail with ENOSYS.  Some functions are actually named\n    something starting with __ and the normal name is an alias.  */\n#if defined __stub_$2 || defined __stub___$2\nchoke me\n#endif\n\nint\nmain ()\n{\nreturn $2 ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  eval \"$3=yes\"\nelse\n  eval \"$3=no\"\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nfi\neval ac_res=\\$$3\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n\n} # ac_fn_c_check_func\n\n# ac_fn_c_check_header_mongrel LINENO HEADER VAR INCLUDES\n# -------------------------------------------------------\n# Tests whether HEADER exists, giving a warning if it cannot be compiled using\n# the include files in INCLUDES and setting the cache variable VAR\n# accordingly.\nac_fn_c_check_header_mongrel ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  if eval \"test \\\"\\${$3+set}\\\"\" = set; then :\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n$as_echo_n \"checking for $2... \" >&6; }\nif eval \"test \\\"\\${$3+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nfi\neval ac_res=\\$$3\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\nelse\n  # Is the header compilable?\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking $2 usability\" >&5\n$as_echo_n \"checking $2 usability... \" >&6; }\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\n#include <$2>\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_header_compiler=yes\nelse\n  ac_header_compiler=no\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_header_compiler\" >&5\n$as_echo \"$ac_header_compiler\" >&6; }\n\n# Is the header present?\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking $2 presence\" >&5\n$as_echo_n \"checking $2 presence... \" >&6; }\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <$2>\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n  ac_header_preproc=yes\nelse\n  ac_header_preproc=no\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_header_preproc\" >&5\n$as_echo \"$ac_header_preproc\" >&6; }\n\n# So?  What about this header?\ncase $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in #((\n  yes:no: )\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2: accepted by the compiler, rejected by the preprocessor!\" >&5\n$as_echo \"$as_me: WARNING: $2: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result\" >&5\n$as_echo \"$as_me: WARNING: $2: proceeding with the compiler's result\" >&2;}\n    ;;\n  no:yes:* )\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2: present but cannot be compiled\" >&5\n$as_echo \"$as_me: WARNING: $2: present but cannot be compiled\" >&2;}\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2:     check for missing prerequisite headers?\" >&5\n$as_echo \"$as_me: WARNING: $2:     check for missing prerequisite headers?\" >&2;}\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2: see the Autoconf documentation\" >&5\n$as_echo \"$as_me: WARNING: $2: see the Autoconf documentation\" >&2;}\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n$as_echo \"$as_me: WARNING: $2:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result\" >&5\n$as_echo \"$as_me: WARNING: $2: proceeding with the compiler's result\" >&2;}\n( $as_echo \"## ----------------------------- ##\n## Report this to satodai@w3m.jp ##\n## ----------------------------- ##\"\n     ) | sed \"s/^/$as_me: WARNING:     /\" >&2\n    ;;\nesac\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n$as_echo_n \"checking for $2... \" >&6; }\nif eval \"test \\\"\\${$3+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  eval \"$3=\\$ac_header_compiler\"\nfi\neval ac_res=\\$$3\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\nfi\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n\n} # ac_fn_c_check_header_mongrel\n\n# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES\n# -------------------------------------------------------\n# Tests whether HEADER exists and can be compiled using the include files in\n# INCLUDES, setting the cache variable VAR accordingly.\nac_fn_c_check_header_compile ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n$as_echo_n \"checking for $2... \" >&6; }\nif eval \"test \\\"\\${$3+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\n#include <$2>\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  eval \"$3=yes\"\nelse\n  eval \"$3=no\"\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\neval ac_res=\\$$3\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n\n} # ac_fn_c_check_header_compile\n\n# ac_fn_c_check_type LINENO TYPE VAR INCLUDES\n# -------------------------------------------\n# Tests whether TYPE exists after having included INCLUDES, setting cache\n# variable VAR accordingly.\nac_fn_c_check_type ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n$as_echo_n \"checking for $2... \" >&6; }\nif eval \"test \\\"\\${$3+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  eval \"$3=no\"\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nif (sizeof ($2))\n\t return 0;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nif (sizeof (($2)))\n\t    return 0;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n\nelse\n  eval \"$3=yes\"\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\neval ac_res=\\$$3\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n\n} # ac_fn_c_check_type\n\n# ac_fn_c_compute_int LINENO EXPR VAR INCLUDES\n# --------------------------------------------\n# Tries to find the compile-time value of EXPR in a program that includes\n# INCLUDES, setting VAR accordingly. Returns whether the value could be\n# computed\nac_fn_c_compute_int ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  if test \"$cross_compiling\" = yes; then\n    # Depending upon the size, compute the lo and hi bounds.\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nstatic int test_array [1 - 2 * !(($2) >= 0)];\ntest_array [0] = 0\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_lo=0 ac_mid=0\n  while :; do\n    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nstatic int test_array [1 - 2 * !(($2) <= $ac_mid)];\ntest_array [0] = 0\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_hi=$ac_mid; break\nelse\n  as_fn_arith $ac_mid + 1 && ac_lo=$as_val\n\t\t\tif test $ac_lo -le $ac_mid; then\n\t\t\t  ac_lo= ac_hi=\n\t\t\t  break\n\t\t\tfi\n\t\t\tas_fn_arith 2 '*' $ac_mid + 1 && ac_mid=$as_val\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n  done\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nstatic int test_array [1 - 2 * !(($2) < 0)];\ntest_array [0] = 0\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_hi=-1 ac_mid=-1\n  while :; do\n    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nstatic int test_array [1 - 2 * !(($2) >= $ac_mid)];\ntest_array [0] = 0\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_lo=$ac_mid; break\nelse\n  as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val\n\t\t\tif test $ac_mid -le $ac_hi; then\n\t\t\t  ac_lo= ac_hi=\n\t\t\t  break\n\t\t\tfi\n\t\t\tas_fn_arith 2 '*' $ac_mid && ac_mid=$as_val\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n  done\nelse\n  ac_lo= ac_hi=\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n# Binary search between lo and hi bounds.\nwhile test \"x$ac_lo\" != \"x$ac_hi\"; do\n  as_fn_arith '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo && ac_mid=$as_val\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nstatic int test_array [1 - 2 * !(($2) <= $ac_mid)];\ntest_array [0] = 0\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_hi=$ac_mid\nelse\n  as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\ndone\ncase $ac_lo in #((\n?*) eval \"$3=\\$ac_lo\"; ac_retval=0 ;;\n'') ac_retval=1 ;;\nesac\n  else\n    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nstatic long int longval () { return $2; }\nstatic unsigned long int ulongval () { return $2; }\n#include <stdio.h>\n#include <stdlib.h>\nint\nmain ()\n{\n\n  FILE *f = fopen (\"conftest.val\", \"w\");\n  if (! f)\n    return 1;\n  if (($2) < 0)\n    {\n      long int i = longval ();\n      if (i != ($2))\n\treturn 1;\n      fprintf (f, \"%ld\", i);\n    }\n  else\n    {\n      unsigned long int i = ulongval ();\n      if (i != ($2))\n\treturn 1;\n      fprintf (f, \"%lu\", i);\n    }\n  /* Do not output a trailing newline, as this causes \\r\\n confusion\n     on some platforms.  */\n  return ferror (f) || fclose (f) != 0;\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_run \"$LINENO\"; then :\n  echo >>conftest.val; read $3 <conftest.val; ac_retval=0\nelse\n  ac_retval=1\nfi\nrm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n  conftest.$ac_objext conftest.beam conftest.$ac_ext\nrm -f conftest.val\n\n  fi\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n  as_fn_set_status $ac_retval\n\n} # ac_fn_c_compute_int\ncat >config.log <<_ACEOF\nThis file contains any messages produced by compilers while\nrunning configure, to aid debugging if configure makes a mistake.\n\nIt was created by w3m $as_me 0.5.3, which was\ngenerated by GNU Autoconf 2.67.  Invocation command line was\n\n  $ $0 $@\n\n_ACEOF\nexec 5>>config.log\n{\ncat <<_ASUNAME\n## --------- ##\n## Platform. ##\n## --------- ##\n\nhostname = `(hostname || uname -n) 2>/dev/null | sed 1q`\nuname -m = `(uname -m) 2>/dev/null || echo unknown`\nuname -r = `(uname -r) 2>/dev/null || echo unknown`\nuname -s = `(uname -s) 2>/dev/null || echo unknown`\nuname -v = `(uname -v) 2>/dev/null || echo unknown`\n\n/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`\n/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`\n\n/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`\n/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`\n/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`\n/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`\n/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`\n/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`\n/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`\n\n_ASUNAME\n\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    $as_echo \"PATH: $as_dir\"\n  done\nIFS=$as_save_IFS\n\n} >&5\n\ncat >&5 <<_ACEOF\n\n\n## ----------- ##\n## Core tests. ##\n## ----------- ##\n\n_ACEOF\n\n\n# Keep a trace of the command line.\n# Strip out --no-create and --no-recursion so they do not pile up.\n# Strip out --silent because we don't want to record it for future runs.\n# Also quote any args containing shell meta-characters.\n# Make two passes to allow for proper duplicate-argument suppression.\nac_configure_args=\nac_configure_args0=\nac_configure_args1=\nac_must_keep_next=false\nfor ac_pass in 1 2\ndo\n  for ac_arg\n  do\n    case $ac_arg in\n    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;\n    -q | -quiet | --quiet | --quie | --qui | --qu | --q \\\n    | -silent | --silent | --silen | --sile | --sil)\n      continue ;;\n    *\\'*)\n      ac_arg=`$as_echo \"$ac_arg\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"` ;;\n    esac\n    case $ac_pass in\n    1) as_fn_append ac_configure_args0 \" '$ac_arg'\" ;;\n    2)\n      as_fn_append ac_configure_args1 \" '$ac_arg'\"\n      if test $ac_must_keep_next = true; then\n\tac_must_keep_next=false # Got value, back to normal.\n      else\n\tcase $ac_arg in\n\t  *=* | --config-cache | -C | -disable-* | --disable-* \\\n\t  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \\\n\t  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \\\n\t  | -with-* | --with-* | -without-* | --without-* | --x)\n\t    case \"$ac_configure_args0 \" in\n\t      \"$ac_configure_args1\"*\" '$ac_arg' \"* ) continue ;;\n\t    esac\n\t    ;;\n\t  -* ) ac_must_keep_next=true ;;\n\tesac\n      fi\n      as_fn_append ac_configure_args \" '$ac_arg'\"\n      ;;\n    esac\n  done\ndone\n{ ac_configure_args0=; unset ac_configure_args0;}\n{ ac_configure_args1=; unset ac_configure_args1;}\n\n# When interrupted or exit'd, cleanup temporary files, and complete\n# config.log.  We remove comments because anyway the quotes in there\n# would cause problems or look ugly.\n# WARNING: Use '\\'' to represent an apostrophe within the trap.\n# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.\ntrap 'exit_status=$?\n  # Save into config.log some information that might help in debugging.\n  {\n    echo\n\n    $as_echo \"## ---------------- ##\n## Cache variables. ##\n## ---------------- ##\"\n    echo\n    # The following way of writing the cache mishandles newlines in values,\n(\n  for ac_var in `(set) 2>&1 | sed -n '\\''s/^\\([a-zA-Z_][a-zA-Z0-9_]*\\)=.*/\\1/p'\\''`; do\n    eval ac_val=\\$$ac_var\n    case $ac_val in #(\n    *${as_nl}*)\n      case $ac_var in #(\n      *_cv_*) { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline\" >&5\n$as_echo \"$as_me: WARNING: cache variable $ac_var contains a newline\" >&2;} ;;\n      esac\n      case $ac_var in #(\n      _ | IFS | as_nl) ;; #(\n      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(\n      *) { eval $ac_var=; unset $ac_var;} ;;\n      esac ;;\n    esac\n  done\n  (set) 2>&1 |\n    case $as_nl`(ac_space='\\'' '\\''; set) 2>&1` in #(\n    *${as_nl}ac_space=\\ *)\n      sed -n \\\n\t\"s/'\\''/'\\''\\\\\\\\'\\'''\\''/g;\n\t  s/^\\\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\\\)=\\\\(.*\\\\)/\\\\1='\\''\\\\2'\\''/p\"\n      ;; #(\n    *)\n      sed -n \"/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p\"\n      ;;\n    esac |\n    sort\n)\n    echo\n\n    $as_echo \"## ----------------- ##\n## Output variables. ##\n## ----------------- ##\"\n    echo\n    for ac_var in $ac_subst_vars\n    do\n      eval ac_val=\\$$ac_var\n      case $ac_val in\n      *\\'\\''*) ac_val=`$as_echo \"$ac_val\" | sed \"s/'\\''/'\\''\\\\\\\\\\\\\\\\'\\'''\\''/g\"`;;\n      esac\n      $as_echo \"$ac_var='\\''$ac_val'\\''\"\n    done | sort\n    echo\n\n    if test -n \"$ac_subst_files\"; then\n      $as_echo \"## ------------------- ##\n## File substitutions. ##\n## ------------------- ##\"\n      echo\n      for ac_var in $ac_subst_files\n      do\n\teval ac_val=\\$$ac_var\n\tcase $ac_val in\n\t*\\'\\''*) ac_val=`$as_echo \"$ac_val\" | sed \"s/'\\''/'\\''\\\\\\\\\\\\\\\\'\\'''\\''/g\"`;;\n\tesac\n\t$as_echo \"$ac_var='\\''$ac_val'\\''\"\n      done | sort\n      echo\n    fi\n\n    if test -s confdefs.h; then\n      $as_echo \"## ----------- ##\n## confdefs.h. ##\n## ----------- ##\"\n      echo\n      cat confdefs.h\n      echo\n    fi\n    test \"$ac_signal\" != 0 &&\n      $as_echo \"$as_me: caught signal $ac_signal\"\n    $as_echo \"$as_me: exit $exit_status\"\n  } >&5\n  rm -f core *.core core.conftest.* &&\n    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&\n    exit $exit_status\n' 0\nfor ac_signal in 1 2 13 15; do\n  trap 'ac_signal='$ac_signal'; as_fn_exit 1' $ac_signal\ndone\nac_signal=0\n\n# confdefs.h avoids OS command line length limits that DEFS can exceed.\nrm -f -r conftest* confdefs.h\n\n$as_echo \"/* confdefs.h */\" > confdefs.h\n\n# Predefined preprocessor variables.\n\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE_NAME \"$PACKAGE_NAME\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE_TARNAME \"$PACKAGE_TARNAME\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE_VERSION \"$PACKAGE_VERSION\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE_STRING \"$PACKAGE_STRING\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE_BUGREPORT \"$PACKAGE_BUGREPORT\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE_URL \"$PACKAGE_URL\"\n_ACEOF\n\n\n# Let the site file select an alternate cache file if it wants to.\n# Prefer an explicitly selected file to automatically selected ones.\nac_site_file1=NONE\nac_site_file2=NONE\nif test -n \"$CONFIG_SITE\"; then\n  # We do not want a PATH search for config.site.\n  case $CONFIG_SITE in #((\n    -*)  ac_site_file1=./$CONFIG_SITE;;\n    */*) ac_site_file1=$CONFIG_SITE;;\n    *)   ac_site_file1=./$CONFIG_SITE;;\n  esac\nelif test \"x$prefix\" != xNONE; then\n  ac_site_file1=$prefix/share/config.site\n  ac_site_file2=$prefix/etc/config.site\nelse\n  ac_site_file1=$ac_default_prefix/share/config.site\n  ac_site_file2=$ac_default_prefix/etc/config.site\nfi\nfor ac_site_file in \"$ac_site_file1\" \"$ac_site_file2\"\ndo\n  test \"x$ac_site_file\" = xNONE && continue\n  if test /dev/null != \"$ac_site_file\" && test -r \"$ac_site_file\"; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: loading site script $ac_site_file\" >&5\n$as_echo \"$as_me: loading site script $ac_site_file\" >&6;}\n    sed 's/^/| /' \"$ac_site_file\" >&5\n    . \"$ac_site_file\" \\\n      || { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error $? \"failed to load site script $ac_site_file\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\n  fi\ndone\n\nif test -r \"$cache_file\"; then\n  # Some versions of bash will fail to source /dev/null (special files\n  # actually), so we avoid doing that.  DJGPP emulates it as a regular file.\n  if test /dev/null != \"$cache_file\" && test -f \"$cache_file\"; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: loading cache $cache_file\" >&5\n$as_echo \"$as_me: loading cache $cache_file\" >&6;}\n    case $cache_file in\n      [\\\\/]* | ?:[\\\\/]* ) . \"$cache_file\";;\n      *)                      . \"./$cache_file\";;\n    esac\n  fi\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: creating cache $cache_file\" >&5\n$as_echo \"$as_me: creating cache $cache_file\" >&6;}\n  >$cache_file\nfi\n\ngt_needs=\"$gt_needs \"\n# Check that the precious variables saved in the cache have kept the same\n# value.\nac_cache_corrupted=false\nfor ac_var in $ac_precious_vars; do\n  eval ac_old_set=\\$ac_cv_env_${ac_var}_set\n  eval ac_new_set=\\$ac_env_${ac_var}_set\n  eval ac_old_val=\\$ac_cv_env_${ac_var}_value\n  eval ac_new_val=\\$ac_env_${ac_var}_value\n  case $ac_old_set,$ac_new_set in\n    set,)\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: error: \\`$ac_var' was set to \\`$ac_old_val' in the previous run\" >&5\n$as_echo \"$as_me: error: \\`$ac_var' was set to \\`$ac_old_val' in the previous run\" >&2;}\n      ac_cache_corrupted=: ;;\n    ,set)\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: error: \\`$ac_var' was not set in the previous run\" >&5\n$as_echo \"$as_me: error: \\`$ac_var' was not set in the previous run\" >&2;}\n      ac_cache_corrupted=: ;;\n    ,);;\n    *)\n      if test \"x$ac_old_val\" != \"x$ac_new_val\"; then\n\t# differences in whitespace do not lead to failure.\n\tac_old_val_w=`echo x $ac_old_val`\n\tac_new_val_w=`echo x $ac_new_val`\n\tif test \"$ac_old_val_w\" != \"$ac_new_val_w\"; then\n\t  { $as_echo \"$as_me:${as_lineno-$LINENO}: error: \\`$ac_var' has changed since the previous run:\" >&5\n$as_echo \"$as_me: error: \\`$ac_var' has changed since the previous run:\" >&2;}\n\t  ac_cache_corrupted=:\n\telse\n\t  { $as_echo \"$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in \\`$ac_var' since the previous run:\" >&5\n$as_echo \"$as_me: warning: ignoring whitespace changes in \\`$ac_var' since the previous run:\" >&2;}\n\t  eval $ac_var=\\$ac_old_val\n\tfi\n\t{ $as_echo \"$as_me:${as_lineno-$LINENO}:   former value:  \\`$ac_old_val'\" >&5\n$as_echo \"$as_me:   former value:  \\`$ac_old_val'\" >&2;}\n\t{ $as_echo \"$as_me:${as_lineno-$LINENO}:   current value: \\`$ac_new_val'\" >&5\n$as_echo \"$as_me:   current value: \\`$ac_new_val'\" >&2;}\n      fi;;\n  esac\n  # Pass precious variables to config.status.\n  if test \"$ac_new_set\" = set; then\n    case $ac_new_val in\n    *\\'*) ac_arg=$ac_var=`$as_echo \"$ac_new_val\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"` ;;\n    *) ac_arg=$ac_var=$ac_new_val ;;\n    esac\n    case \" $ac_configure_args \" in\n      *\" '$ac_arg' \"*) ;; # Avoid dups.  Use of quotes ensures accuracy.\n      *) as_fn_append ac_configure_args \" '$ac_arg'\" ;;\n    esac\n  fi\ndone\nif $ac_cache_corrupted; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build\" >&5\n$as_echo \"$as_me: error: changes in the environment can compromise the build\" >&2;}\n  as_fn_error $? \"run \\`make distclean' and/or \\`rm $cache_file' and start over\" \"$LINENO\" 5\nfi\n## -------------------- ##\n## Main body of script. ##\n## -------------------- ##\n\nac_ext=c\nac_cpp='$CPP $CPPFLAGS'\nac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_c_compiler_gnu\n\n\nPACKAGE=w3m\nVERSION=0.5.3\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE \"$PACKAGE\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define VERSION \"$VERSION\"\n_ACEOF\n\n\n\n\n\nW3M=w3m\n$as_echo \"#define W3M w3m\" >>confdefs.h\n\n\n\nW3M_LANG=${LC_ALL:-$LANG}\nac_config_headers=\"$ac_config_headers config.h\"\n\nac_ext=cpp\nac_cpp='$CXXCPP $CPPFLAGS'\nac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_cxx_compiler_gnu\nif test -z \"$CXX\"; then\n  if test -n \"$CCC\"; then\n    CXX=$CCC\n  else\n    if test -n \"$ac_tool_prefix\"; then\n  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC\n  do\n    # Extract the first word of \"$ac_tool_prefix$ac_prog\", so it can be a program name with args.\nset dummy $ac_tool_prefix$ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_CXX+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$CXX\"; then\n  ac_cv_prog_CXX=\"$CXX\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_CXX=\"$ac_tool_prefix$ac_prog\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nCXX=$ac_cv_prog_CXX\nif test -n \"$CXX\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CXX\" >&5\n$as_echo \"$CXX\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n    test -n \"$CXX\" && break\n  done\nfi\nif test -z \"$CXX\"; then\n  ac_ct_CXX=$CXX\n  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC\ndo\n  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\nset dummy $ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_ac_ct_CXX+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$ac_ct_CXX\"; then\n  ac_cv_prog_ac_ct_CXX=\"$ac_ct_CXX\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_ac_ct_CXX=\"$ac_prog\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nac_ct_CXX=$ac_cv_prog_ac_ct_CXX\nif test -n \"$ac_ct_CXX\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_CXX\" >&5\n$as_echo \"$ac_ct_CXX\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  test -n \"$ac_ct_CXX\" && break\ndone\n\n  if test \"x$ac_ct_CXX\" = x; then\n    CXX=\"g++\"\n  else\n    case $cross_compiling:$ac_tool_warned in\nyes:)\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\nac_tool_warned=yes ;;\nesac\n    CXX=$ac_ct_CXX\n  fi\nfi\n\n  fi\nfi\n# Provide some information about the compiler.\n$as_echo \"$as_me:${as_lineno-$LINENO}: checking for C++ compiler version\" >&5\nset X $ac_compile\nac_compiler=$2\nfor ac_option in --version -v -V -qversion; do\n  { { ac_try=\"$ac_compiler $ac_option >&5\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_compiler $ac_option >&5\") 2>conftest.err\n  ac_status=$?\n  if test -s conftest.err; then\n    sed '10a\\\n... rest of stderr output deleted ...\n         10q' conftest.err >conftest.er1\n    cat conftest.er1 >&5\n  fi\n  rm -f conftest.er1 conftest.err\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }\ndone\n\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nac_clean_files_save=$ac_clean_files\nac_clean_files=\"$ac_clean_files a.out a.out.dSYM a.exe b.out\"\n# Try to create an executable without -o first, disregard a.out.\n# It will help us diagnose broken compilers, and finding out an intuition\n# of exeext.\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether the C++ compiler works\" >&5\n$as_echo_n \"checking whether the C++ compiler works... \" >&6; }\nac_link_default=`$as_echo \"$ac_link\" | sed 's/ -o *conftest[^ ]*//'`\n\n# The possible output files:\nac_files=\"a.out conftest.exe conftest a.exe a_out.exe b.out conftest.*\"\n\nac_rmfiles=\nfor ac_file in $ac_files\ndo\n  case $ac_file in\n    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;\n    * ) ac_rmfiles=\"$ac_rmfiles $ac_file\";;\n  esac\ndone\nrm -f $ac_rmfiles\n\nif { { ac_try=\"$ac_link_default\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_link_default\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; then :\n  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.\n# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'\n# in a Makefile.  We should not override ac_cv_exeext if it was cached,\n# so that the user can short-circuit this test for compilers unknown to\n# Autoconf.\nfor ac_file in $ac_files ''\ndo\n  test -f \"$ac_file\" || continue\n  case $ac_file in\n    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj )\n\t;;\n    [ab].out )\n\t# We found the default executable, but exeext='' is most\n\t# certainly right.\n\tbreak;;\n    *.* )\n\tif test \"${ac_cv_exeext+set}\" = set && test \"$ac_cv_exeext\" != no;\n\tthen :; else\n\t   ac_cv_exeext=`expr \"$ac_file\" : '[^.]*\\(\\..*\\)'`\n\tfi\n\t# We set ac_cv_exeext here because the later test for it is not\n\t# safe: cross compilers may not add the suffix if given an `-o'\n\t# argument, so we may need to know it at that point already.\n\t# Even if this section looks crufty: it has the advantage of\n\t# actually working.\n\tbreak;;\n    * )\n\tbreak;;\n  esac\ndone\ntest \"$ac_cv_exeext\" = no && ac_cv_exeext=\n\nelse\n  ac_file=''\nfi\nif test -z \"$ac_file\"; then :\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n$as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n{ { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error 77 \"C++ compiler cannot create executables\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n$as_echo \"yes\" >&6; }\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for C++ compiler default output file name\" >&5\n$as_echo_n \"checking for C++ compiler default output file name... \" >&6; }\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_file\" >&5\n$as_echo \"$ac_file\" >&6; }\nac_exeext=$ac_cv_exeext\n\nrm -f -r a.out a.out.dSYM a.exe conftest$ac_cv_exeext b.out\nac_clean_files=$ac_clean_files_save\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for suffix of executables\" >&5\n$as_echo_n \"checking for suffix of executables... \" >&6; }\nif { { ac_try=\"$ac_link\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_link\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; then :\n  # If both `conftest.exe' and `conftest' are `present' (well, observable)\n# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will\n# work properly (i.e., refer to `conftest.exe'), while it won't with\n# `rm'.\nfor ac_file in conftest.exe conftest conftest.*; do\n  test -f \"$ac_file\" || continue\n  case $ac_file in\n    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;\n    *.* ) ac_cv_exeext=`expr \"$ac_file\" : '[^.]*\\(\\..*\\)'`\n\t  break;;\n    * ) break;;\n  esac\ndone\nelse\n  { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error $? \"cannot compute suffix of executables: cannot compile and link\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\nfi\nrm -f conftest conftest$ac_cv_exeext\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext\" >&5\n$as_echo \"$ac_cv_exeext\" >&6; }\n\nrm -f conftest.$ac_ext\nEXEEXT=$ac_cv_exeext\nac_exeext=$EXEEXT\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdio.h>\nint\nmain ()\n{\nFILE *f = fopen (\"conftest.out\", \"w\");\n return ferror (f) || fclose (f) != 0;\n\n  ;\n  return 0;\n}\n_ACEOF\nac_clean_files=\"$ac_clean_files conftest.out\"\n# Check that the compiler produces executables we can run.  If not, either\n# the compiler is broken, or we cross compile.\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether we are cross compiling\" >&5\n$as_echo_n \"checking whether we are cross compiling... \" >&6; }\nif test \"$cross_compiling\" != yes; then\n  { { ac_try=\"$ac_link\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_link\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }\n  if { ac_try='./conftest$ac_cv_exeext'\n  { { case \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_try\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; }; then\n    cross_compiling=no\n  else\n    if test \"$cross_compiling\" = maybe; then\n\tcross_compiling=yes\n    else\n\t{ { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error $? \"cannot run C++ compiled programs.\nIf you meant to cross compile, use \\`--host'.\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\n    fi\n  fi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $cross_compiling\" >&5\n$as_echo \"$cross_compiling\" >&6; }\n\nrm -f conftest.$ac_ext conftest$ac_cv_exeext conftest.out\nac_clean_files=$ac_clean_files_save\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for suffix of object files\" >&5\n$as_echo_n \"checking for suffix of object files... \" >&6; }\nif test \"${ac_cv_objext+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nrm -f conftest.o conftest.obj\nif { { ac_try=\"$ac_compile\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_compile\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; then :\n  for ac_file in conftest.o conftest.obj conftest.*; do\n  test -f \"$ac_file\" || continue;\n  case $ac_file in\n    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM ) ;;\n    *) ac_cv_objext=`expr \"$ac_file\" : '.*\\.\\(.*\\)'`\n       break;;\n  esac\ndone\nelse\n  $as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n{ { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error $? \"cannot compute suffix of object files: cannot compile\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\nfi\nrm -f conftest.$ac_cv_objext conftest.$ac_ext\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext\" >&5\n$as_echo \"$ac_cv_objext\" >&6; }\nOBJEXT=$ac_cv_objext\nac_objext=$OBJEXT\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C++ compiler\" >&5\n$as_echo_n \"checking whether we are using the GNU C++ compiler... \" >&6; }\nif test \"${ac_cv_cxx_compiler_gnu+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n#ifndef __GNUC__\n       choke me\n#endif\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_cxx_try_compile \"$LINENO\"; then :\n  ac_compiler_gnu=yes\nelse\n  ac_compiler_gnu=no\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nac_cv_cxx_compiler_gnu=$ac_compiler_gnu\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_cxx_compiler_gnu\" >&5\n$as_echo \"$ac_cv_cxx_compiler_gnu\" >&6; }\nif test $ac_compiler_gnu = yes; then\n  GXX=yes\nelse\n  GXX=\nfi\nac_test_CXXFLAGS=${CXXFLAGS+set}\nac_save_CXXFLAGS=$CXXFLAGS\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $CXX accepts -g\" >&5\n$as_echo_n \"checking whether $CXX accepts -g... \" >&6; }\nif test \"${ac_cv_prog_cxx_g+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_save_cxx_werror_flag=$ac_cxx_werror_flag\n   ac_cxx_werror_flag=yes\n   ac_cv_prog_cxx_g=no\n   CXXFLAGS=\"-g\"\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_cxx_try_compile \"$LINENO\"; then :\n  ac_cv_prog_cxx_g=yes\nelse\n  CXXFLAGS=\"\"\n      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_cxx_try_compile \"$LINENO\"; then :\n\nelse\n  ac_cxx_werror_flag=$ac_save_cxx_werror_flag\n\t CXXFLAGS=\"-g\"\n\t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_cxx_try_compile \"$LINENO\"; then :\n  ac_cv_prog_cxx_g=yes\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n   ac_cxx_werror_flag=$ac_save_cxx_werror_flag\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_g\" >&5\n$as_echo \"$ac_cv_prog_cxx_g\" >&6; }\nif test \"$ac_test_CXXFLAGS\" = set; then\n  CXXFLAGS=$ac_save_CXXFLAGS\nelif test $ac_cv_prog_cxx_g = yes; then\n  if test \"$GXX\" = yes; then\n    CXXFLAGS=\"-g -O2\"\n  else\n    CXXFLAGS=\"-g\"\n  fi\nelse\n  if test \"$GXX\" = yes; then\n    CXXFLAGS=\"-O2\"\n  else\n    CXXFLAGS=\n  fi\nfi\nac_ext=c\nac_cpp='$CPP $CPPFLAGS'\nac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_c_compiler_gnu\n\nfor ac_prog in gawk mawk nawk awk\ndo\n  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\nset dummy $ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_AWK+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$AWK\"; then\n  ac_cv_prog_AWK=\"$AWK\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_AWK=\"$ac_prog\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nAWK=$ac_cv_prog_AWK\nif test -n \"$AWK\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $AWK\" >&5\n$as_echo \"$AWK\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  test -n \"$AWK\" && break\ndone\n\nac_ext=c\nac_cpp='$CPP $CPPFLAGS'\nac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_c_compiler_gnu\nif test -n \"$ac_tool_prefix\"; then\n  # Extract the first word of \"${ac_tool_prefix}gcc\", so it can be a program name with args.\nset dummy ${ac_tool_prefix}gcc; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_CC+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$CC\"; then\n  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_CC=\"${ac_tool_prefix}gcc\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nCC=$ac_cv_prog_CC\nif test -n \"$CC\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n$as_echo \"$CC\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\nfi\nif test -z \"$ac_cv_prog_CC\"; then\n  ac_ct_CC=$CC\n  # Extract the first word of \"gcc\", so it can be a program name with args.\nset dummy gcc; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_ac_ct_CC+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$ac_ct_CC\"; then\n  ac_cv_prog_ac_ct_CC=\"$ac_ct_CC\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_ac_ct_CC=\"gcc\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nac_ct_CC=$ac_cv_prog_ac_ct_CC\nif test -n \"$ac_ct_CC\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC\" >&5\n$as_echo \"$ac_ct_CC\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n  if test \"x$ac_ct_CC\" = x; then\n    CC=\"\"\n  else\n    case $cross_compiling:$ac_tool_warned in\nyes:)\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\nac_tool_warned=yes ;;\nesac\n    CC=$ac_ct_CC\n  fi\nelse\n  CC=\"$ac_cv_prog_CC\"\nfi\n\nif test -z \"$CC\"; then\n          if test -n \"$ac_tool_prefix\"; then\n    # Extract the first word of \"${ac_tool_prefix}cc\", so it can be a program name with args.\nset dummy ${ac_tool_prefix}cc; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_CC+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$CC\"; then\n  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_CC=\"${ac_tool_prefix}cc\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nCC=$ac_cv_prog_CC\nif test -n \"$CC\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n$as_echo \"$CC\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  fi\nfi\nif test -z \"$CC\"; then\n  # Extract the first word of \"cc\", so it can be a program name with args.\nset dummy cc; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_CC+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$CC\"; then\n  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\nelse\n  ac_prog_rejected=no\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    if test \"$as_dir/$ac_word$ac_exec_ext\" = \"/usr/ucb/cc\"; then\n       ac_prog_rejected=yes\n       continue\n     fi\n    ac_cv_prog_CC=\"cc\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nif test $ac_prog_rejected = yes; then\n  # We found a bogon in the path, so make sure we never use it.\n  set dummy $ac_cv_prog_CC\n  shift\n  if test $# != 0; then\n    # We chose a different compiler from the bogus one.\n    # However, it has the same basename, so the bogon will be chosen\n    # first if we set CC to just the basename; use the full file name.\n    shift\n    ac_cv_prog_CC=\"$as_dir/$ac_word${1+' '}$@\"\n  fi\nfi\nfi\nfi\nCC=$ac_cv_prog_CC\nif test -n \"$CC\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n$as_echo \"$CC\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\nfi\nif test -z \"$CC\"; then\n  if test -n \"$ac_tool_prefix\"; then\n  for ac_prog in cl.exe\n  do\n    # Extract the first word of \"$ac_tool_prefix$ac_prog\", so it can be a program name with args.\nset dummy $ac_tool_prefix$ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_CC+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$CC\"; then\n  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_CC=\"$ac_tool_prefix$ac_prog\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nCC=$ac_cv_prog_CC\nif test -n \"$CC\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n$as_echo \"$CC\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n    test -n \"$CC\" && break\n  done\nfi\nif test -z \"$CC\"; then\n  ac_ct_CC=$CC\n  for ac_prog in cl.exe\ndo\n  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\nset dummy $ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_ac_ct_CC+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$ac_ct_CC\"; then\n  ac_cv_prog_ac_ct_CC=\"$ac_ct_CC\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_ac_ct_CC=\"$ac_prog\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nac_ct_CC=$ac_cv_prog_ac_ct_CC\nif test -n \"$ac_ct_CC\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC\" >&5\n$as_echo \"$ac_ct_CC\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  test -n \"$ac_ct_CC\" && break\ndone\n\n  if test \"x$ac_ct_CC\" = x; then\n    CC=\"\"\n  else\n    case $cross_compiling:$ac_tool_warned in\nyes:)\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\nac_tool_warned=yes ;;\nesac\n    CC=$ac_ct_CC\n  fi\nfi\n\nfi\n\n\ntest -z \"$CC\" && { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error $? \"no acceptable C compiler found in \\$PATH\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\n\n# Provide some information about the compiler.\n$as_echo \"$as_me:${as_lineno-$LINENO}: checking for C compiler version\" >&5\nset X $ac_compile\nac_compiler=$2\nfor ac_option in --version -v -V -qversion; do\n  { { ac_try=\"$ac_compiler $ac_option >&5\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_compiler $ac_option >&5\") 2>conftest.err\n  ac_status=$?\n  if test -s conftest.err; then\n    sed '10a\\\n... rest of stderr output deleted ...\n         10q' conftest.err >conftest.er1\n    cat conftest.er1 >&5\n  fi\n  rm -f conftest.er1 conftest.err\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }\ndone\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C compiler\" >&5\n$as_echo_n \"checking whether we are using the GNU C compiler... \" >&6; }\nif test \"${ac_cv_c_compiler_gnu+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n#ifndef __GNUC__\n       choke me\n#endif\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_compiler_gnu=yes\nelse\n  ac_compiler_gnu=no\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nac_cv_c_compiler_gnu=$ac_compiler_gnu\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu\" >&5\n$as_echo \"$ac_cv_c_compiler_gnu\" >&6; }\nif test $ac_compiler_gnu = yes; then\n  GCC=yes\nelse\n  GCC=\nfi\nac_test_CFLAGS=${CFLAGS+set}\nac_save_CFLAGS=$CFLAGS\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g\" >&5\n$as_echo_n \"checking whether $CC accepts -g... \" >&6; }\nif test \"${ac_cv_prog_cc_g+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_save_c_werror_flag=$ac_c_werror_flag\n   ac_c_werror_flag=yes\n   ac_cv_prog_cc_g=no\n   CFLAGS=\"-g\"\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_prog_cc_g=yes\nelse\n  CFLAGS=\"\"\n      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n\nelse\n  ac_c_werror_flag=$ac_save_c_werror_flag\n\t CFLAGS=\"-g\"\n\t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_prog_cc_g=yes\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n   ac_c_werror_flag=$ac_save_c_werror_flag\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g\" >&5\n$as_echo \"$ac_cv_prog_cc_g\" >&6; }\nif test \"$ac_test_CFLAGS\" = set; then\n  CFLAGS=$ac_save_CFLAGS\nelif test $ac_cv_prog_cc_g = yes; then\n  if test \"$GCC\" = yes; then\n    CFLAGS=\"-g -O2\"\n  else\n    CFLAGS=\"-g\"\n  fi\nelse\n  if test \"$GCC\" = yes; then\n    CFLAGS=\"-O2\"\n  else\n    CFLAGS=\n  fi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $CC option to accept ISO C89\" >&5\n$as_echo_n \"checking for $CC option to accept ISO C89... \" >&6; }\nif test \"${ac_cv_prog_cc_c89+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_cv_prog_cc_c89=no\nac_save_CC=$CC\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdarg.h>\n#include <stdio.h>\n#include <sys/types.h>\n#include <sys/stat.h>\n/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */\nstruct buf { int x; };\nFILE * (*rcsopen) (struct buf *, struct stat *, int);\nstatic char *e (p, i)\n     char **p;\n     int i;\n{\n  return p[i];\n}\nstatic char *f (char * (*g) (char **, int), char **p, ...)\n{\n  char *s;\n  va_list v;\n  va_start (v,p);\n  s = g (p, va_arg (v,int));\n  va_end (v);\n  return s;\n}\n\n/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has\n   function prototypes and stuff, but not '\\xHH' hex character constants.\n   These don't provoke an error unfortunately, instead are silently treated\n   as 'x'.  The following induces an error, until -std is added to get\n   proper ANSI mode.  Curiously '\\x00'!='x' always comes out true, for an\n   array size at least.  It's necessary to write '\\x00'==0 to get something\n   that's true only with -std.  */\nint osf4_cc_array ['\\x00' == 0 ? 1 : -1];\n\n/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters\n   inside strings and character constants.  */\n#define FOO(x) 'x'\nint xlc6_cc_array[FOO(a) == 'x' ? 1 : -1];\n\nint test (int i, double x);\nstruct s1 {int (*f) (int a);};\nstruct s2 {int (*f) (double a);};\nint pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);\nint argc;\nchar **argv;\nint\nmain ()\n{\nreturn f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];\n  ;\n  return 0;\n}\n_ACEOF\nfor ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std \\\n\t-Ae \"-Aa -D_HPUX_SOURCE\" \"-Xc -D__EXTENSIONS__\"\ndo\n  CC=\"$ac_save_CC $ac_arg\"\n  if ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_prog_cc_c89=$ac_arg\nfi\nrm -f core conftest.err conftest.$ac_objext\n  test \"x$ac_cv_prog_cc_c89\" != \"xno\" && break\ndone\nrm -f conftest.$ac_ext\nCC=$ac_save_CC\n\nfi\n# AC_CACHE_VAL\ncase \"x$ac_cv_prog_cc_c89\" in\n  x)\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: none needed\" >&5\n$as_echo \"none needed\" >&6; } ;;\n  xno)\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: unsupported\" >&5\n$as_echo \"unsupported\" >&6; } ;;\n  *)\n    CC=\"$CC $ac_cv_prog_cc_c89\"\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89\" >&5\n$as_echo \"$ac_cv_prog_cc_c89\" >&6; } ;;\nesac\nif test \"x$ac_cv_prog_cc_c89\" != xno; then :\n\nfi\n\nac_ext=c\nac_cpp='$CPP $CPPFLAGS'\nac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_c_compiler_gnu\n\nac_ext=c\nac_cpp='$CPP $CPPFLAGS'\nac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_c_compiler_gnu\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor\" >&5\n$as_echo_n \"checking how to run the C preprocessor... \" >&6; }\n# On Suns, sometimes $CPP names a directory.\nif test -n \"$CPP\" && test -d \"$CPP\"; then\n  CPP=\nfi\nif test -z \"$CPP\"; then\n  if test \"${ac_cv_prog_CPP+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n      # Double quotes because CPP needs to be expanded\n    for CPP in \"$CC -E\" \"$CC -E -traditional-cpp\" \"/lib/cpp\"\n    do\n      ac_preproc_ok=false\nfor ac_c_preproc_warn_flag in '' yes\ndo\n  # Use a header file that comes with gcc, so configuring glibc\n  # with a fresh cross-compiler works.\n  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n  # <limits.h> exists even on freestanding compilers.\n  # On the NeXT, cc -E runs the code through the compiler's parser,\n  # not just through cpp. \"Syntax error\" is here to catch this case.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#ifdef __STDC__\n# include <limits.h>\n#else\n# include <assert.h>\n#endif\n\t\t     Syntax error\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n\nelse\n  # Broken: fails on valid input.\ncontinue\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\n\n  # OK, works on sane cases.  Now check whether nonexistent headers\n  # can be detected and how.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <ac_nonexistent.h>\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n  # Broken: success on invalid input.\ncontinue\nelse\n  # Passes both tests.\nac_preproc_ok=:\nbreak\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\n\ndone\n# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.\nrm -f conftest.i conftest.err conftest.$ac_ext\nif $ac_preproc_ok; then :\n  break\nfi\n\n    done\n    ac_cv_prog_CPP=$CPP\n\nfi\n  CPP=$ac_cv_prog_CPP\nelse\n  ac_cv_prog_CPP=$CPP\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CPP\" >&5\n$as_echo \"$CPP\" >&6; }\nac_preproc_ok=false\nfor ac_c_preproc_warn_flag in '' yes\ndo\n  # Use a header file that comes with gcc, so configuring glibc\n  # with a fresh cross-compiler works.\n  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n  # <limits.h> exists even on freestanding compilers.\n  # On the NeXT, cc -E runs the code through the compiler's parser,\n  # not just through cpp. \"Syntax error\" is here to catch this case.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#ifdef __STDC__\n# include <limits.h>\n#else\n# include <assert.h>\n#endif\n\t\t     Syntax error\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n\nelse\n  # Broken: fails on valid input.\ncontinue\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\n\n  # OK, works on sane cases.  Now check whether nonexistent headers\n  # can be detected and how.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <ac_nonexistent.h>\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n  # Broken: success on invalid input.\ncontinue\nelse\n  # Passes both tests.\nac_preproc_ok=:\nbreak\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\n\ndone\n# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.\nrm -f conftest.i conftest.err conftest.$ac_ext\nif $ac_preproc_ok; then :\n\nelse\n  { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error $? \"C preprocessor \\\"$CPP\\\" fails sanity check\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\nfi\n\nac_ext=c\nac_cpp='$CPP $CPPFLAGS'\nac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_c_compiler_gnu\n\nac_aux_dir=\nfor ac_dir in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"; do\n  if test -f \"$ac_dir/install-sh\"; then\n    ac_aux_dir=$ac_dir\n    ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n    break\n  elif test -f \"$ac_dir/install.sh\"; then\n    ac_aux_dir=$ac_dir\n    ac_install_sh=\"$ac_aux_dir/install.sh -c\"\n    break\n  elif test -f \"$ac_dir/shtool\"; then\n    ac_aux_dir=$ac_dir\n    ac_install_sh=\"$ac_aux_dir/shtool install -c\"\n    break\n  fi\ndone\nif test -z \"$ac_aux_dir\"; then\n  as_fn_error $? \"cannot find install-sh, install.sh, or shtool in \\\"$srcdir\\\" \\\"$srcdir/..\\\" \\\"$srcdir/../..\\\"\" \"$LINENO\" 5\nfi\n\n# These three variables are undocumented and unsupported,\n# and are intended to be withdrawn in a future Autoconf release.\n# They can cause serious problems if a builder's source tree is in a directory\n# whose full name contains unusual characters.\nac_config_guess=\"$SHELL $ac_aux_dir/config.guess\"  # Please don't use this var.\nac_config_sub=\"$SHELL $ac_aux_dir/config.sub\"  # Please don't use this var.\nac_configure=\"$SHELL $ac_aux_dir/configure\"  # Please don't use this var.\n\n\n# Find a good install program.  We prefer a C program (faster),\n# so one script is as good as another.  But avoid the broken or\n# incompatible versions:\n# SysV /etc/install, /usr/sbin/install\n# SunOS /usr/etc/install\n# IRIX /sbin/install\n# AIX /bin/install\n# AmigaOS /C/install, which installs bootblocks on floppy discs\n# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag\n# AFS /usr/afsws/bin/install, which mishandles nonexistent args\n# SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n# OS/2's system install, which has a completely different semantic\n# ./install, which can be erroneously created by make from ./install.sh.\n# Reject install programs that cannot install multiple files.\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for a BSD-compatible install\" >&5\n$as_echo_n \"checking for a BSD-compatible install... \" >&6; }\nif test -z \"$INSTALL\"; then\nif test \"${ac_cv_path_install+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    # Account for people who put trailing slashes in PATH elements.\ncase $as_dir/ in #((\n  ./ | .// | /[cC]/* | \\\n  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \\\n  ?:[\\\\/]os2[\\\\/]install[\\\\/]* | ?:[\\\\/]OS2[\\\\/]INSTALL[\\\\/]* | \\\n  /usr/ucb/* ) ;;\n  *)\n    # OSF1 and SCO ODT 3.0 have their own names for install.\n    # Don't use installbsd from OSF since it installs stuff as root\n    # by default.\n    for ac_prog in ginstall scoinst install; do\n      for ac_exec_ext in '' $ac_executable_extensions; do\n\tif { test -f \"$as_dir/$ac_prog$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_prog$ac_exec_ext\"; }; then\n\t  if test $ac_prog = install &&\n\t    grep dspmsg \"$as_dir/$ac_prog$ac_exec_ext\" >/dev/null 2>&1; then\n\t    # AIX install.  It has an incompatible calling convention.\n\t    :\n\t  elif test $ac_prog = install &&\n\t    grep pwplus \"$as_dir/$ac_prog$ac_exec_ext\" >/dev/null 2>&1; then\n\t    # program-specific install script used by HP pwplus--don't use.\n\t    :\n\t  else\n\t    rm -rf conftest.one conftest.two conftest.dir\n\t    echo one > conftest.one\n\t    echo two > conftest.two\n\t    mkdir conftest.dir\n\t    if \"$as_dir/$ac_prog$ac_exec_ext\" -c conftest.one conftest.two \"`pwd`/conftest.dir\" &&\n\t      test -s conftest.one && test -s conftest.two &&\n\t      test -s conftest.dir/conftest.one &&\n\t      test -s conftest.dir/conftest.two\n\t    then\n\t      ac_cv_path_install=\"$as_dir/$ac_prog$ac_exec_ext -c\"\n\t      break 3\n\t    fi\n\t  fi\n\tfi\n      done\n    done\n    ;;\nesac\n\n  done\nIFS=$as_save_IFS\n\nrm -rf conftest.one conftest.two conftest.dir\n\nfi\n  if test \"${ac_cv_path_install+set}\" = set; then\n    INSTALL=$ac_cv_path_install\n  else\n    # As a last resort, use the slow shell script.  Don't cache a\n    # value for INSTALL within a source directory, because that will\n    # break other packages using the cache if that directory is\n    # removed, or if the value is a relative name.\n    INSTALL=$ac_install_sh\n  fi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $INSTALL\" >&5\n$as_echo \"$INSTALL\" >&6; }\n\n# Use test -z because SunOS4 sh mishandles braces in ${var-val}.\n# It thinks the first close brace ends the variable substitution.\ntest -z \"$INSTALL_PROGRAM\" && INSTALL_PROGRAM='${INSTALL}'\n\ntest -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL}'\n\ntest -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether ln -s works\" >&5\n$as_echo_n \"checking whether ln -s works... \" >&6; }\nLN_S=$as_ln_s\nif test \"$LN_S\" = \"ln -s\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n$as_echo \"yes\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no, using $LN_S\" >&5\n$as_echo \"no, using $LN_S\" >&6; }\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} sets \\$(MAKE)\" >&5\n$as_echo_n \"checking whether ${MAKE-make} sets \\$(MAKE)... \" >&6; }\nset x ${MAKE-make}\nac_make=`$as_echo \"$2\" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`\nif eval \"test \\\"\\${ac_cv_prog_make_${ac_make}_set+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat >conftest.make <<\\_ACEOF\nSHELL = /bin/sh\nall:\n\t@echo '@@@%%%=$(MAKE)=@@@%%%'\n_ACEOF\n# GNU make sometimes prints \"make[1]: Entering ...\", which would confuse us.\ncase `${MAKE-make} -f conftest.make 2>/dev/null` in\n  *@@@%%%=?*=@@@%%%*)\n    eval ac_cv_prog_make_${ac_make}_set=yes;;\n  *)\n    eval ac_cv_prog_make_${ac_make}_set=no;;\nesac\nrm -f conftest.make\nfi\nif eval test \\$ac_cv_prog_make_${ac_make}_set = yes; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n$as_echo \"yes\" >&6; }\n  SET_MAKE=\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n  SET_MAKE=\"MAKE=${MAKE-make}\"\nfi\n\nif test -n \"$ac_tool_prefix\"; then\n  # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\nset dummy ${ac_tool_prefix}ranlib; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_RANLIB+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$RANLIB\"; then\n  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_RANLIB=\"${ac_tool_prefix}ranlib\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nRANLIB=$ac_cv_prog_RANLIB\nif test -n \"$RANLIB\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $RANLIB\" >&5\n$as_echo \"$RANLIB\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\nfi\nif test -z \"$ac_cv_prog_RANLIB\"; then\n  ac_ct_RANLIB=$RANLIB\n  # Extract the first word of \"ranlib\", so it can be a program name with args.\nset dummy ranlib; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_ac_ct_RANLIB+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$ac_ct_RANLIB\"; then\n  ac_cv_prog_ac_ct_RANLIB=\"$ac_ct_RANLIB\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_ac_ct_RANLIB=\"ranlib\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB\nif test -n \"$ac_ct_RANLIB\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_RANLIB\" >&5\n$as_echo \"$ac_ct_RANLIB\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n  if test \"x$ac_ct_RANLIB\" = x; then\n    RANLIB=\":\"\n  else\n    case $cross_compiling:$ac_tool_warned in\nyes:)\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\nac_tool_warned=yes ;;\nesac\n    RANLIB=$ac_ct_RANLIB\n  fi\nelse\n  RANLIB=\"$ac_cv_prog_RANLIB\"\nfi\n\nfor ac_prog in perl\ndo\n  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\nset dummy $ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_PERL+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case $PERL in\n  [\\\\/]* | ?:[\\\\/]*)\n  ac_cv_path_PERL=\"$PERL\" # Let the user override the test with a path.\n  ;;\n  *)\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_path_PERL=\"$as_dir/$ac_word$ac_exec_ext\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  ;;\nesac\nfi\nPERL=$ac_cv_path_PERL\nif test -n \"$PERL\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $PERL\" >&5\n$as_echo \"$PERL\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  test -n \"$PERL\" && break\ndone\ntest -n \"$PERL\" || PERL=\"/usr/local/bin/perl\"\n\nfor ac_prog in nkf\ndo\n  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\nset dummy $ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_NKF+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case $NKF in\n  [\\\\/]* | ?:[\\\\/]*)\n  ac_cv_path_NKF=\"$NKF\" # Let the user override the test with a path.\n  ;;\n  *)\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_path_NKF=\"$as_dir/$ac_word$ac_exec_ext\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  ;;\nesac\nfi\nNKF=$ac_cv_path_NKF\nif test -n \"$NKF\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $NKF\" >&5\n$as_echo \"$NKF\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  test -n \"$NKF\" && break\ndone\ntest -n \"$NKF\" || NKF=\"/usr/local/bin/nkf\"\n\nfor ac_prog in man\ndo\n  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\nset dummy $ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_MAN+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case $MAN in\n  [\\\\/]* | ?:[\\\\/]*)\n  ac_cv_path_MAN=\"$MAN\" # Let the user override the test with a path.\n  ;;\n  *)\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_path_MAN=\"$as_dir/$ac_word$ac_exec_ext\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  ;;\nesac\nfi\nMAN=$ac_cv_path_MAN\nif test -n \"$MAN\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $MAN\" >&5\n$as_echo \"$MAN\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  test -n \"$MAN\" && break\ndone\ntest -n \"$MAN\" || MAN=\"/usr/bin/man\"\n\n# Make sure we can run config.sub.\n$SHELL \"$ac_aux_dir/config.sub\" sun4 >/dev/null 2>&1 ||\n  as_fn_error $? \"cannot run $SHELL $ac_aux_dir/config.sub\" \"$LINENO\" 5\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking build system type\" >&5\n$as_echo_n \"checking build system type... \" >&6; }\nif test \"${ac_cv_build+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_build_alias=$build_alias\ntest \"x$ac_build_alias\" = x &&\n  ac_build_alias=`$SHELL \"$ac_aux_dir/config.guess\"`\ntest \"x$ac_build_alias\" = x &&\n  as_fn_error $? \"cannot guess build type; you must specify one\" \"$LINENO\" 5\nac_cv_build=`$SHELL \"$ac_aux_dir/config.sub\" $ac_build_alias` ||\n  as_fn_error $? \"$SHELL $ac_aux_dir/config.sub $ac_build_alias failed\" \"$LINENO\" 5\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_build\" >&5\n$as_echo \"$ac_cv_build\" >&6; }\ncase $ac_cv_build in\n*-*-*) ;;\n*) as_fn_error $? \"invalid value of canonical build\" \"$LINENO\" 5 ;;\nesac\nbuild=$ac_cv_build\nac_save_IFS=$IFS; IFS='-'\nset x $ac_cv_build\nshift\nbuild_cpu=$1\nbuild_vendor=$2\nshift; shift\n# Remember, the first character of IFS is used to create $*,\n# except with old shells:\nbuild_os=$*\nIFS=$ac_save_IFS\ncase $build_os in *\\ *) build_os=`echo \"$build_os\" | sed 's/ /-/g'`;; esac\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking host system type\" >&5\n$as_echo_n \"checking host system type... \" >&6; }\nif test \"${ac_cv_host+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test \"x$host_alias\" = x; then\n  ac_cv_host=$ac_cv_build\nelse\n  ac_cv_host=`$SHELL \"$ac_aux_dir/config.sub\" $host_alias` ||\n    as_fn_error $? \"$SHELL $ac_aux_dir/config.sub $host_alias failed\" \"$LINENO\" 5\nfi\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_host\" >&5\n$as_echo \"$ac_cv_host\" >&6; }\ncase $ac_cv_host in\n*-*-*) ;;\n*) as_fn_error $? \"invalid value of canonical host\" \"$LINENO\" 5 ;;\nesac\nhost=$ac_cv_host\nac_save_IFS=$IFS; IFS='-'\nset x $ac_cv_host\nshift\nhost_cpu=$1\nhost_vendor=$2\nshift; shift\n# Remember, the first character of IFS is used to create $*,\n# except with old shells:\nhost_os=$*\nIFS=$ac_save_IFS\ncase $host_os in *\\ *) host_os=`echo \"$host_os\" | sed 's/ /-/g'`;; esac\n\n\n\n\n\n\nAUXBIN_TARGETS=\n\n\n\nW3M_TARGET=$target\ncat >>confdefs.h <<_ACEOF\n#define W3M_TARGET $W3M_TARGET\n_ACEOF\n\n\n\n\n\n\n\n\n\n\n\nWCTARGET=\"\"; WCCFLAGS=\"\"; wcinclude=\"\"; wclib=\"\"\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if m17n support is enabled\" >&5\n$as_echo_n \"checking if m17n support is enabled... \" >&6; }\n# Check whether --enable-m17n was given.\nif test \"${enable_m17n+set}\" = set; then :\n  enableval=$enable_m17n;\nelse\n  enable_m17n=\"yes\"\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_m17n\" >&5\n$as_echo \"$enable_m17n\" >&6; }\nif test x\"$enable_m17n\" = xno; then\n  w3m_lang=\"en\"\n  WCTARGET=\"\"\n  WCCFLAGS=\"\"\n  wcinclude=\"\"\n  wclib=\"\"\n  display_charset='WC_CES_US_ASCII'\n  system_charset='WC_CES_US_ASCII'\n  document_charset='WC_CES_US_ASCII'\nelse\n $as_echo \"#define USE_M17N 1\" >>confdefs.h\n\n WCTARGET=\"libwc/libwc.a\"\n WCCFLAGS='-I$(srcdir) -I$(srcdir)/..'\n wcinclude='-I$(srcdir)/libwc'\n wclib=\"-L./libwc -lwc\"\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if unicode support is enabled\" >&5\n$as_echo_n \"checking if unicode support is enabled... \" >&6; }\n # Check whether --enable-unicode was given.\nif test \"${enable_unicode+set}\" = set; then :\n  enableval=$enable_unicode;\nelse\n  enable_unicode=\"yes\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_unicode\" >&5\n$as_echo \"$enable_unicode\" >&6; }\n if test x\"$enable_m17n\" = xyes; then\n  charset=US-ASCII\n else\n  charset=$enable_m17n\n fi\n if test x\"$enable_unicode\" = xyes; then\n    WCCFLAGS=\"-DUSE_UNICODE $WCCFLAGS\"\n    if test x\"$charset\" = xUS-ASCII; then\n     charset=UTF-8\n    fi\n    $as_echo \"#define USE_UNICODE 1\" >>confdefs.h\n\n fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if message l10n\" >&5\n$as_echo_n \"checking if message l10n... \" >&6; }\n # Check whether --enable-messagel10n was given.\nif test \"${enable_messagel10n+set}\" = set; then :\n  enableval=$enable_messagel10n;\nelse\n  enable_messagel10n=\"no\"\nfi\n\n if test x$enable_messagel10n = xyes; then\n  enable_messagel10n=\"ja\";\n fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_messagel10n\" >&5\n$as_echo \"$enable_messagel10n\" >&6; }\n if test x$enable_messagel10n = xno; then\n    :\n else\n    POSUBST=\"\\$(top_srcdir)/posubst\"\n    POLANG=\"$enable_messagel10n\"\n fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if japanese support is enabled\" >&5\n$as_echo_n \"checking if japanese support is enabled... \" >&6; }\n # Check whether --enable-japanese was given.\nif test \"${enable_japanese+set}\" = set; then :\n  enableval=$enable_japanese;\nelse\n  enable_japanese=\"no\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_japanese\" >&5\n$as_echo \"$enable_japanese\" >&6; }\n if test x\"$enable_japanese\" = xno; then\n   w3m_lang=\"en\"\n else\n   w3m_lang=\"ja\"\n   case \"$enable_japanese\" in\n   E*) charset=EUC-JP;;\n   S*) charset=Shift_JIS;;\n   J*) charset=ISO-2022-JP;;\n   U*) charset=UTF-8;;\n   esac\n fi\n display_charset=$charset\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking which charset is used for display\" >&5\n$as_echo_n \"checking which charset is used for display... \" >&6; }\n\n# Check whether --with-charset was given.\nif test \"${with_charset+set}\" = set; then :\n  withval=$with_charset; test x\"with_charset\" = xyes || display_charset=\"$with_charset\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $display_charset\" >&5\n$as_echo \"$display_charset\" >&6; }\n display_charset=`awk '$1 == \"'$display_charset'\" {print $2}' $srcdir/charset-list`\n case \"$display_charset\" in\n   WC_CES_ISO_2022_JP*)\n     system_charset=WC_CES_EUC_JP\n     document_charset=WC_CES_EUC_JP\n     ;;\n   WC_CES_SHIFT_JIS)\n     system_charset=$display_charset\n     # for auto-detect\n     document_charset=WC_CES_EUC_JP\n     ;;\n   WC_CES_ISO_2022_CN|WC_CES_HZ_GB_2312)\n     system_charset=WC_CES_EUC_CN\n     document_charset=WC_CES_EUC_CN\n     ;;\n   WC_CES_BIG5)\n     system_charset=$display_charset\n     # for auto-detect\n     document_charset=WC_CES_EUC_TW\n     ;;\n  WC_CES_ISO_2022_KR)\n     system_charset=WC_CES_EUC_KR\n     document_charset=WC_CES_EUC_KR\n     ;;\n  *)\n     system_charset=$display_charset\n     document_charset=$display_charset\n     ;;\n esac\nfi\nW3M_LANGDEF=`echo $w3m_lang | tr 'a-z' 'A-Z'`\nW3M_LANG=$W3M_LANGDEF\ncat >>confdefs.h <<_ACEOF\n#define W3M_LANG $W3M_LANG\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define WCTARGET \"$WCTARGET\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define WCCFLAGS \"$WCCFLAGS\"\n_ACEOF\n\nCFLAGS=\"$CFLAGS $wcinclude\"\nW3M_LIBS=\"$W3M_LIBS $wclib\"\ncat >>confdefs.h <<_ACEOF\n#define DISPLAY_CHARSET $display_charset\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define SYSTEM_CHARSET $system_charset\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define DOCUMENT_CHARSET $document_charset\n_ACEOF\n\nif test x$enable_messagel10n = xno; then\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for a thread-safe mkdir -p\" >&5\n$as_echo_n \"checking for a thread-safe mkdir -p... \" >&6; }\nif test -z \"$MKDIR_P\"; then\n  if test \"${ac_cv_path_mkdir+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH$PATH_SEPARATOR/opt/sfw/bin\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_prog in mkdir gmkdir; do\n\t for ac_exec_ext in '' $ac_executable_extensions; do\n\t   { test -f \"$as_dir/$ac_prog$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_prog$ac_exec_ext\"; } || continue\n\t   case `\"$as_dir/$ac_prog$ac_exec_ext\" --version 2>&1` in #(\n\t     'mkdir (GNU coreutils) '* | \\\n\t     'mkdir (coreutils) '* | \\\n\t     'mkdir (fileutils) '4.1*)\n\t       ac_cv_path_mkdir=$as_dir/$ac_prog$ac_exec_ext\n\t       break 3;;\n\t   esac\n\t done\n       done\n  done\nIFS=$as_save_IFS\n\nfi\n\n  test -d ./--version && rmdir ./--version\n  if test \"${ac_cv_path_mkdir+set}\" = set; then\n    MKDIR_P=\"$ac_cv_path_mkdir -p\"\n  else\n    # As a last resort, use the slow shell script.  Don't cache a\n    # value for MKDIR_P within a source directory, because that will\n    # break other packages using the cache if that directory is\n    # removed, or if the value is a relative name.\n    MKDIR_P=\"$ac_install_sh -d\"\n  fi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $MKDIR_P\" >&5\n$as_echo \"$MKDIR_P\" >&6; }\n\nmkdir_p=\"$MKDIR_P\"\ncase $mkdir_p in\n  [\\\\/$]* | ?:[\\\\/]*) ;;\n  */*) mkdir_p=\"\\$(top_builddir)/$mkdir_p\" ;;\nesac\n\n\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether NLS is requested\" >&5\n$as_echo_n \"checking whether NLS is requested... \" >&6; }\n    # Check whether --enable-nls was given.\nif test \"${enable_nls+set}\" = set; then :\n  enableval=$enable_nls; USE_NLS=$enableval\nelse\n  USE_NLS=yes\nfi\n\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $USE_NLS\" >&5\n$as_echo \"$USE_NLS\" >&6; }\n\n\n\n\n      GETTEXT_MACRO_VERSION=0.18\n\n\n\n\n# Prepare PATH_SEPARATOR.\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  echo \"#! /bin/sh\" >conf$$.sh\n  echo  \"exit 0\"   >>conf$$.sh\n  chmod +x conf$$.sh\n  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n    PATH_SEPARATOR=';'\n  else\n    PATH_SEPARATOR=:\n  fi\n  rm -f conf$$.sh\nfi\n\n# Find out how to test for executable files. Don't use a zero-byte file,\n# as systems may use methods other than mode bits to determine executability.\ncat >conf$$.file <<_ASEOF\n#! /bin/sh\nexit 0\n_ASEOF\nchmod +x conf$$.file\nif test -x conf$$.file >/dev/null 2>&1; then\n  ac_executable_p=\"test -x\"\nelse\n  ac_executable_p=\"test -f\"\nfi\nrm -f conf$$.file\n\n# Extract the first word of \"msgfmt\", so it can be a program name with args.\nset dummy msgfmt; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_MSGFMT+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case \"$MSGFMT\" in\n  [\\\\/]* | ?:[\\\\/]*)\n    ac_cv_path_MSGFMT=\"$MSGFMT\" # Let the user override the test with a path.\n    ;;\n  *)\n    ac_save_IFS=\"$IFS\"; IFS=$PATH_SEPARATOR\n    for ac_dir in $PATH; do\n      IFS=\"$ac_save_IFS\"\n      test -z \"$ac_dir\" && ac_dir=.\n      for ac_exec_ext in '' $ac_executable_extensions; do\n        if $ac_executable_p \"$ac_dir/$ac_word$ac_exec_ext\"; then\n          echo \"$as_me: trying $ac_dir/$ac_word...\" >&5\n          if $ac_dir/$ac_word --statistics /dev/null >&5 2>&1 &&\n     (if $ac_dir/$ac_word --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then\n            ac_cv_path_MSGFMT=\"$ac_dir/$ac_word$ac_exec_ext\"\n            break 2\n          fi\n        fi\n      done\n    done\n    IFS=\"$ac_save_IFS\"\n  test -z \"$ac_cv_path_MSGFMT\" && ac_cv_path_MSGFMT=\":\"\n    ;;\nesac\nfi\nMSGFMT=\"$ac_cv_path_MSGFMT\"\nif test \"$MSGFMT\" != \":\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $MSGFMT\" >&5\n$as_echo \"$MSGFMT\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n  # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\nset dummy gmsgfmt; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_GMSGFMT+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case $GMSGFMT in\n  [\\\\/]* | ?:[\\\\/]*)\n  ac_cv_path_GMSGFMT=\"$GMSGFMT\" # Let the user override the test with a path.\n  ;;\n  *)\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_path_GMSGFMT=\"$as_dir/$ac_word$ac_exec_ext\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  test -z \"$ac_cv_path_GMSGFMT\" && ac_cv_path_GMSGFMT=\"$MSGFMT\"\n  ;;\nesac\nfi\nGMSGFMT=$ac_cv_path_GMSGFMT\nif test -n \"$GMSGFMT\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $GMSGFMT\" >&5\n$as_echo \"$GMSGFMT\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n\n    case `$MSGFMT --version | sed 1q | sed -e 's,^[^0-9]*,,'` in\n    '' | 0.[0-9] | 0.[0-9].* | 0.1[0-4] | 0.1[0-4].*) MSGFMT_015=: ;;\n    *) MSGFMT_015=$MSGFMT ;;\n  esac\n\n  case `$GMSGFMT --version | sed 1q | sed -e 's,^[^0-9]*,,'` in\n    '' | 0.[0-9] | 0.[0-9].* | 0.1[0-4] | 0.1[0-4].*) GMSGFMT_015=: ;;\n    *) GMSGFMT_015=$GMSGFMT ;;\n  esac\n\n\n\n# Prepare PATH_SEPARATOR.\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  echo \"#! /bin/sh\" >conf$$.sh\n  echo  \"exit 0\"   >>conf$$.sh\n  chmod +x conf$$.sh\n  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n    PATH_SEPARATOR=';'\n  else\n    PATH_SEPARATOR=:\n  fi\n  rm -f conf$$.sh\nfi\n\n# Find out how to test for executable files. Don't use a zero-byte file,\n# as systems may use methods other than mode bits to determine executability.\ncat >conf$$.file <<_ASEOF\n#! /bin/sh\nexit 0\n_ASEOF\nchmod +x conf$$.file\nif test -x conf$$.file >/dev/null 2>&1; then\n  ac_executable_p=\"test -x\"\nelse\n  ac_executable_p=\"test -f\"\nfi\nrm -f conf$$.file\n\n# Extract the first word of \"xgettext\", so it can be a program name with args.\nset dummy xgettext; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_XGETTEXT+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case \"$XGETTEXT\" in\n  [\\\\/]* | ?:[\\\\/]*)\n    ac_cv_path_XGETTEXT=\"$XGETTEXT\" # Let the user override the test with a path.\n    ;;\n  *)\n    ac_save_IFS=\"$IFS\"; IFS=$PATH_SEPARATOR\n    for ac_dir in $PATH; do\n      IFS=\"$ac_save_IFS\"\n      test -z \"$ac_dir\" && ac_dir=.\n      for ac_exec_ext in '' $ac_executable_extensions; do\n        if $ac_executable_p \"$ac_dir/$ac_word$ac_exec_ext\"; then\n          echo \"$as_me: trying $ac_dir/$ac_word...\" >&5\n          if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >&5 2>&1 &&\n     (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then\n            ac_cv_path_XGETTEXT=\"$ac_dir/$ac_word$ac_exec_ext\"\n            break 2\n          fi\n        fi\n      done\n    done\n    IFS=\"$ac_save_IFS\"\n  test -z \"$ac_cv_path_XGETTEXT\" && ac_cv_path_XGETTEXT=\":\"\n    ;;\nesac\nfi\nXGETTEXT=\"$ac_cv_path_XGETTEXT\"\nif test \"$XGETTEXT\" != \":\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $XGETTEXT\" >&5\n$as_echo \"$XGETTEXT\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n    rm -f messages.po\n\n    case `$XGETTEXT --version | sed 1q | sed -e 's,^[^0-9]*,,'` in\n    '' | 0.[0-9] | 0.[0-9].* | 0.1[0-4] | 0.1[0-4].*) XGETTEXT_015=: ;;\n    *) XGETTEXT_015=$XGETTEXT ;;\n  esac\n\n\n\n# Prepare PATH_SEPARATOR.\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  echo \"#! /bin/sh\" >conf$$.sh\n  echo  \"exit 0\"   >>conf$$.sh\n  chmod +x conf$$.sh\n  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n    PATH_SEPARATOR=';'\n  else\n    PATH_SEPARATOR=:\n  fi\n  rm -f conf$$.sh\nfi\n\n# Find out how to test for executable files. Don't use a zero-byte file,\n# as systems may use methods other than mode bits to determine executability.\ncat >conf$$.file <<_ASEOF\n#! /bin/sh\nexit 0\n_ASEOF\nchmod +x conf$$.file\nif test -x conf$$.file >/dev/null 2>&1; then\n  ac_executable_p=\"test -x\"\nelse\n  ac_executable_p=\"test -f\"\nfi\nrm -f conf$$.file\n\n# Extract the first word of \"msgmerge\", so it can be a program name with args.\nset dummy msgmerge; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_MSGMERGE+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case \"$MSGMERGE\" in\n  [\\\\/]* | ?:[\\\\/]*)\n    ac_cv_path_MSGMERGE=\"$MSGMERGE\" # Let the user override the test with a path.\n    ;;\n  *)\n    ac_save_IFS=\"$IFS\"; IFS=$PATH_SEPARATOR\n    for ac_dir in $PATH; do\n      IFS=\"$ac_save_IFS\"\n      test -z \"$ac_dir\" && ac_dir=.\n      for ac_exec_ext in '' $ac_executable_extensions; do\n        if $ac_executable_p \"$ac_dir/$ac_word$ac_exec_ext\"; then\n          echo \"$as_me: trying $ac_dir/$ac_word...\" >&5\n          if $ac_dir/$ac_word --update -q /dev/null /dev/null >&5 2>&1; then\n            ac_cv_path_MSGMERGE=\"$ac_dir/$ac_word$ac_exec_ext\"\n            break 2\n          fi\n        fi\n      done\n    done\n    IFS=\"$ac_save_IFS\"\n  test -z \"$ac_cv_path_MSGMERGE\" && ac_cv_path_MSGMERGE=\":\"\n    ;;\nesac\nfi\nMSGMERGE=\"$ac_cv_path_MSGMERGE\"\nif test \"$MSGMERGE\" != \":\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $MSGMERGE\" >&5\n$as_echo \"$MSGMERGE\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n        test -n \"$localedir\" || localedir='${datadir}/locale'\n\n\n    test -n \"${XGETTEXT_EXTRA_OPTIONS+set}\" || XGETTEXT_EXTRA_OPTIONS=\n\n\n  ac_config_commands=\"$ac_config_commands po-directories\"\n\n\n\n      if test \"X$prefix\" = \"XNONE\"; then\n    acl_final_prefix=\"$ac_default_prefix\"\n  else\n    acl_final_prefix=\"$prefix\"\n  fi\n  if test \"X$exec_prefix\" = \"XNONE\"; then\n    acl_final_exec_prefix='${prefix}'\n  else\n    acl_final_exec_prefix=\"$exec_prefix\"\n  fi\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  eval acl_final_exec_prefix=\\\"$acl_final_exec_prefix\\\"\n  prefix=\"$acl_save_prefix\"\n\n\n# Check whether --with-gnu-ld was given.\nif test \"${with_gnu_ld+set}\" = set; then :\n  withval=$with_gnu_ld; test \"$withval\" = no || with_gnu_ld=yes\nelse\n  with_gnu_ld=no\nfi\n\n# Prepare PATH_SEPARATOR.\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  echo \"#! /bin/sh\" >conf$$.sh\n  echo  \"exit 0\"   >>conf$$.sh\n  chmod +x conf$$.sh\n  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n    PATH_SEPARATOR=';'\n  else\n    PATH_SEPARATOR=:\n  fi\n  rm -f conf$$.sh\nfi\nac_prog=ld\nif test \"$GCC\" = yes; then\n  # Check if gcc -print-prog-name=ld gives a path.\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ld used by GCC\" >&5\n$as_echo_n \"checking for ld used by GCC... \" >&6; }\n  case $host in\n  *-*-mingw*)\n    # gcc leaves a trailing carriage return which upsets mingw\n    ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\\015'` ;;\n  *)\n    ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;\n  esac\n  case $ac_prog in\n    # Accept absolute paths.\n    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n      re_direlt='/[^/][^/]*/\\.\\./'\n      # Canonicalize the path of ld\n      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n        ac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n      done\n      test -z \"$LD\" && LD=\"$ac_prog\"\n      ;;\n  \"\")\n    # If it fails, then pretend we aren't using GCC.\n    ac_prog=ld\n    ;;\n  *)\n    # If it is relative, then search for the first ld in PATH.\n    with_gnu_ld=unknown\n    ;;\n  esac\nelif test \"$with_gnu_ld\" = yes; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for GNU ld\" >&5\n$as_echo_n \"checking for GNU ld... \" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for non-GNU ld\" >&5\n$as_echo_n \"checking for non-GNU ld... \" >&6; }\nfi\nif test \"${acl_cv_path_LD+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -z \"$LD\"; then\n  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n  for ac_dir in $PATH; do\n    test -z \"$ac_dir\" && ac_dir=.\n    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n      acl_cv_path_LD=\"$ac_dir/$ac_prog\"\n      # Check to see if the program is GNU ld.  I'd rather use --version,\n      # but apparently some GNU ld's only accept -v.\n      # Break only if it was the GNU/non-GNU ld that we prefer.\n      case `\"$acl_cv_path_LD\" -v 2>&1 < /dev/null` in\n      *GNU* | *'with BFD'*)\n        test \"$with_gnu_ld\" != no && break ;;\n      *)\n        test \"$with_gnu_ld\" != yes && break ;;\n      esac\n    fi\n  done\n  IFS=\"$ac_save_ifs\"\nelse\n  acl_cv_path_LD=\"$LD\" # Let the user override the test with a path.\nfi\nfi\n\nLD=\"$acl_cv_path_LD\"\nif test -n \"$LD\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $LD\" >&5\n$as_echo \"$LD\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\ntest -z \"$LD\" && as_fn_error $? \"no acceptable ld found in \\$PATH\" \"$LINENO\" 5\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if the linker ($LD) is GNU ld\" >&5\n$as_echo_n \"checking if the linker ($LD) is GNU ld... \" >&6; }\nif test \"${acl_cv_prog_gnu_ld+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  # I'd rather use --version here, but apparently some GNU ld's only accept -v.\ncase `$LD -v 2>&1 </dev/null` in\n*GNU* | *'with BFD'*)\n  acl_cv_prog_gnu_ld=yes ;;\n*)\n  acl_cv_prog_gnu_ld=no ;;\nesac\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acl_cv_prog_gnu_ld\" >&5\n$as_echo \"$acl_cv_prog_gnu_ld\" >&6; }\nwith_gnu_ld=$acl_cv_prog_gnu_ld\n\n\n\n\n                                                { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for shared library run path origin\" >&5\n$as_echo_n \"checking for shared library run path origin... \" >&6; }\nif test \"${acl_cv_rpath+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n\n    CC=\"$CC\" GCC=\"$GCC\" LDFLAGS=\"$LDFLAGS\" LD=\"$LD\" with_gnu_ld=\"$with_gnu_ld\" \\\n    ${CONFIG_SHELL-/bin/sh} \"$ac_aux_dir/config.rpath\" \"$host\" > conftest.sh\n    . ./conftest.sh\n    rm -f ./conftest.sh\n    acl_cv_rpath=done\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acl_cv_rpath\" >&5\n$as_echo \"$acl_cv_rpath\" >&6; }\n  wl=\"$acl_cv_wl\"\n  acl_libext=\"$acl_cv_libext\"\n  acl_shlibext=\"$acl_cv_shlibext\"\n  acl_libname_spec=\"$acl_cv_libname_spec\"\n  acl_library_names_spec=\"$acl_cv_library_names_spec\"\n  acl_hardcode_libdir_flag_spec=\"$acl_cv_hardcode_libdir_flag_spec\"\n  acl_hardcode_libdir_separator=\"$acl_cv_hardcode_libdir_separator\"\n  acl_hardcode_direct=\"$acl_cv_hardcode_direct\"\n  acl_hardcode_minus_L=\"$acl_cv_hardcode_minus_L\"\n    # Check whether --enable-rpath was given.\nif test \"${enable_rpath+set}\" = set; then :\n  enableval=$enable_rpath; :\nelse\n  enable_rpath=yes\nfi\n\n\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e\" >&5\n$as_echo_n \"checking for grep that handles long lines and -e... \" >&6; }\nif test \"${ac_cv_path_GREP+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -z \"$GREP\"; then\n  ac_path_GREP_found=false\n  # Loop through the user's path and test for each of PROGNAME-LIST\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_prog in grep ggrep; do\n    for ac_exec_ext in '' $ac_executable_extensions; do\n      ac_path_GREP=\"$as_dir/$ac_prog$ac_exec_ext\"\n      { test -f \"$ac_path_GREP\" && $as_test_x \"$ac_path_GREP\"; } || continue\n# Check for GNU ac_path_GREP and select it if it is found.\n  # Check for GNU $ac_path_GREP\ncase `\"$ac_path_GREP\" --version 2>&1` in\n*GNU*)\n  ac_cv_path_GREP=\"$ac_path_GREP\" ac_path_GREP_found=:;;\n*)\n  ac_count=0\n  $as_echo_n 0123456789 >\"conftest.in\"\n  while :\n  do\n    cat \"conftest.in\" \"conftest.in\" >\"conftest.tmp\"\n    mv \"conftest.tmp\" \"conftest.in\"\n    cp \"conftest.in\" \"conftest.nl\"\n    $as_echo 'GREP' >> \"conftest.nl\"\n    \"$ac_path_GREP\" -e 'GREP$' -e '-(cannot match)-' < \"conftest.nl\" >\"conftest.out\" 2>/dev/null || break\n    diff \"conftest.out\" \"conftest.nl\" >/dev/null 2>&1 || break\n    as_fn_arith $ac_count + 1 && ac_count=$as_val\n    if test $ac_count -gt ${ac_path_GREP_max-0}; then\n      # Best one so far, save it but keep looking for a better one\n      ac_cv_path_GREP=\"$ac_path_GREP\"\n      ac_path_GREP_max=$ac_count\n    fi\n    # 10*(2^10) chars as input seems more than enough\n    test $ac_count -gt 10 && break\n  done\n  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\nesac\n\n      $ac_path_GREP_found && break 3\n    done\n  done\n  done\nIFS=$as_save_IFS\n  if test -z \"$ac_cv_path_GREP\"; then\n    as_fn_error $? \"no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\" \"$LINENO\" 5\n  fi\nelse\n  ac_cv_path_GREP=$GREP\nfi\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP\" >&5\n$as_echo \"$ac_cv_path_GREP\" >&6; }\n GREP=\"$ac_cv_path_GREP\"\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for egrep\" >&5\n$as_echo_n \"checking for egrep... \" >&6; }\nif test \"${ac_cv_path_EGREP+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1\n   then ac_cv_path_EGREP=\"$GREP -E\"\n   else\n     if test -z \"$EGREP\"; then\n  ac_path_EGREP_found=false\n  # Loop through the user's path and test for each of PROGNAME-LIST\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_prog in egrep; do\n    for ac_exec_ext in '' $ac_executable_extensions; do\n      ac_path_EGREP=\"$as_dir/$ac_prog$ac_exec_ext\"\n      { test -f \"$ac_path_EGREP\" && $as_test_x \"$ac_path_EGREP\"; } || continue\n# Check for GNU ac_path_EGREP and select it if it is found.\n  # Check for GNU $ac_path_EGREP\ncase `\"$ac_path_EGREP\" --version 2>&1` in\n*GNU*)\n  ac_cv_path_EGREP=\"$ac_path_EGREP\" ac_path_EGREP_found=:;;\n*)\n  ac_count=0\n  $as_echo_n 0123456789 >\"conftest.in\"\n  while :\n  do\n    cat \"conftest.in\" \"conftest.in\" >\"conftest.tmp\"\n    mv \"conftest.tmp\" \"conftest.in\"\n    cp \"conftest.in\" \"conftest.nl\"\n    $as_echo 'EGREP' >> \"conftest.nl\"\n    \"$ac_path_EGREP\" 'EGREP$' < \"conftest.nl\" >\"conftest.out\" 2>/dev/null || break\n    diff \"conftest.out\" \"conftest.nl\" >/dev/null 2>&1 || break\n    as_fn_arith $ac_count + 1 && ac_count=$as_val\n    if test $ac_count -gt ${ac_path_EGREP_max-0}; then\n      # Best one so far, save it but keep looking for a better one\n      ac_cv_path_EGREP=\"$ac_path_EGREP\"\n      ac_path_EGREP_max=$ac_count\n    fi\n    # 10*(2^10) chars as input seems more than enough\n    test $ac_count -gt 10 && break\n  done\n  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\nesac\n\n      $ac_path_EGREP_found && break 3\n    done\n  done\n  done\nIFS=$as_save_IFS\n  if test -z \"$ac_cv_path_EGREP\"; then\n    as_fn_error $? \"no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\" \"$LINENO\" 5\n  fi\nelse\n  ac_cv_path_EGREP=$EGREP\nfi\n\n   fi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP\" >&5\n$as_echo \"$ac_cv_path_EGREP\" >&6; }\n EGREP=\"$ac_cv_path_EGREP\"\n\n\n\n\n  acl_libdirstem=lib\n  acl_libdirstem2=\n  case \"$host_os\" in\n    solaris*)\n                                    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for 64-bit host\" >&5\n$as_echo_n \"checking for 64-bit host... \" >&6; }\nif test \"${gl_cv_solaris_64bit+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n#ifdef _LP64\nsixtyfour bits\n#endif\n\n_ACEOF\nif (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n  $EGREP \"sixtyfour bits\" >/dev/null 2>&1; then :\n  gl_cv_solaris_64bit=yes\nelse\n  gl_cv_solaris_64bit=no\nfi\nrm -f conftest*\n\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $gl_cv_solaris_64bit\" >&5\n$as_echo \"$gl_cv_solaris_64bit\" >&6; }\n      if test $gl_cv_solaris_64bit = yes; then\n        acl_libdirstem=lib/64\n        case \"$host_cpu\" in\n          sparc*)        acl_libdirstem2=lib/sparcv9 ;;\n          i*86 | x86_64) acl_libdirstem2=lib/amd64 ;;\n        esac\n      fi\n      ;;\n    *)\n      searchpath=`(LC_ALL=C $CC -print-search-dirs) 2>/dev/null | sed -n -e 's,^libraries: ,,p' | sed -e 's,^=,,'`\n      if test -n \"$searchpath\"; then\n        acl_save_IFS=\"${IFS= \t}\"; IFS=\":\"\n        for searchdir in $searchpath; do\n          if test -d \"$searchdir\"; then\n            case \"$searchdir\" in\n              */lib64/ | */lib64 ) acl_libdirstem=lib64 ;;\n              */../ | */.. )\n                # Better ignore directories of this form. They are misleading.\n                ;;\n              *) searchdir=`cd \"$searchdir\" && pwd`\n                 case \"$searchdir\" in\n                   */lib64 ) acl_libdirstem=lib64 ;;\n                 esac ;;\n            esac\n          fi\n        done\n        IFS=\"$acl_save_IFS\"\n      fi\n      ;;\n  esac\n  test -n \"$acl_libdirstem2\" || acl_libdirstem2=\"$acl_libdirstem\"\n\n\n\n\n\n\n\n\n\n\n\n\n    use_additional=yes\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n\n    eval additional_includedir=\\\"$includedir\\\"\n    eval additional_libdir=\\\"$libdir\\\"\n\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n\n# Check whether --with-libiconv-prefix was given.\nif test \"${with_libiconv_prefix+set}\" = set; then :\n  withval=$with_libiconv_prefix;\n    if test \"X$withval\" = \"Xno\"; then\n      use_additional=no\n    else\n      if test \"X$withval\" = \"X\"; then\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n\n          eval additional_includedir=\\\"$includedir\\\"\n          eval additional_libdir=\\\"$libdir\\\"\n\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n      else\n        additional_includedir=\"$withval/include\"\n        additional_libdir=\"$withval/$acl_libdirstem\"\n        if test \"$acl_libdirstem2\" != \"$acl_libdirstem\" \\\n           && ! test -d \"$withval/$acl_libdirstem\"; then\n          additional_libdir=\"$withval/$acl_libdirstem2\"\n        fi\n      fi\n    fi\n\nfi\n\n      LIBICONV=\n  LTLIBICONV=\n  INCICONV=\n  LIBICONV_PREFIX=\n      HAVE_LIBICONV=\n  rpathdirs=\n  ltrpathdirs=\n  names_already_handled=\n  names_next_round='iconv '\n  while test -n \"$names_next_round\"; do\n    names_this_round=\"$names_next_round\"\n    names_next_round=\n    for name in $names_this_round; do\n      already_handled=\n      for n in $names_already_handled; do\n        if test \"$n\" = \"$name\"; then\n          already_handled=yes\n          break\n        fi\n      done\n      if test -z \"$already_handled\"; then\n        names_already_handled=\"$names_already_handled $name\"\n                        uppername=`echo \"$name\" | sed -e 'y|abcdefghijklmnopqrstuvwxyz./-|ABCDEFGHIJKLMNOPQRSTUVWXYZ___|'`\n        eval value=\\\"\\$HAVE_LIB$uppername\\\"\n        if test -n \"$value\"; then\n          if test \"$value\" = yes; then\n            eval value=\\\"\\$LIB$uppername\\\"\n            test -z \"$value\" || LIBICONV=\"${LIBICONV}${LIBICONV:+ }$value\"\n            eval value=\\\"\\$LTLIB$uppername\\\"\n            test -z \"$value\" || LTLIBICONV=\"${LTLIBICONV}${LTLIBICONV:+ }$value\"\n          else\n                                    :\n          fi\n        else\n                              found_dir=\n          found_la=\n          found_so=\n          found_a=\n          eval libname=\\\"$acl_libname_spec\\\"    # typically: libname=lib$name\n          if test -n \"$acl_shlibext\"; then\n            shrext=\".$acl_shlibext\"             # typically: shrext=.so\n          else\n            shrext=\n          fi\n          if test $use_additional = yes; then\n            dir=\"$additional_libdir\"\n                                    if test -n \"$acl_shlibext\"; then\n              if test -f \"$dir/$libname$shrext\"; then\n                found_dir=\"$dir\"\n                found_so=\"$dir/$libname$shrext\"\n              else\n                if test \"$acl_library_names_spec\" = '$libname$shrext$versuffix'; then\n                  ver=`(cd \"$dir\" && \\\n                        for f in \"$libname$shrext\".*; do echo \"$f\"; done \\\n                        | sed -e \"s,^$libname$shrext\\\\\\\\.,,\" \\\n                        | sort -t '.' -n -r -k1,1 -k2,2 -k3,3 -k4,4 -k5,5 \\\n                        | sed 1q ) 2>/dev/null`\n                  if test -n \"$ver\" && test -f \"$dir/$libname$shrext.$ver\"; then\n                    found_dir=\"$dir\"\n                    found_so=\"$dir/$libname$shrext.$ver\"\n                  fi\n                else\n                  eval library_names=\\\"$acl_library_names_spec\\\"\n                  for f in $library_names; do\n                    if test -f \"$dir/$f\"; then\n                      found_dir=\"$dir\"\n                      found_so=\"$dir/$f\"\n                      break\n                    fi\n                  done\n                fi\n              fi\n            fi\n                        if test \"X$found_dir\" = \"X\"; then\n              if test -f \"$dir/$libname.$acl_libext\"; then\n                found_dir=\"$dir\"\n                found_a=\"$dir/$libname.$acl_libext\"\n              fi\n            fi\n            if test \"X$found_dir\" != \"X\"; then\n              if test -f \"$dir/$libname.la\"; then\n                found_la=\"$dir/$libname.la\"\n              fi\n            fi\n          fi\n          if test \"X$found_dir\" = \"X\"; then\n            for x in $LDFLAGS $LTLIBICONV; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n              case \"$x\" in\n                -L*)\n                  dir=`echo \"X$x\" | sed -e 's/^X-L//'`\n                                    if test -n \"$acl_shlibext\"; then\n                    if test -f \"$dir/$libname$shrext\"; then\n                      found_dir=\"$dir\"\n                      found_so=\"$dir/$libname$shrext\"\n                    else\n                      if test \"$acl_library_names_spec\" = '$libname$shrext$versuffix'; then\n                        ver=`(cd \"$dir\" && \\\n                              for f in \"$libname$shrext\".*; do echo \"$f\"; done \\\n                              | sed -e \"s,^$libname$shrext\\\\\\\\.,,\" \\\n                              | sort -t '.' -n -r -k1,1 -k2,2 -k3,3 -k4,4 -k5,5 \\\n                              | sed 1q ) 2>/dev/null`\n                        if test -n \"$ver\" && test -f \"$dir/$libname$shrext.$ver\"; then\n                          found_dir=\"$dir\"\n                          found_so=\"$dir/$libname$shrext.$ver\"\n                        fi\n                      else\n                        eval library_names=\\\"$acl_library_names_spec\\\"\n                        for f in $library_names; do\n                          if test -f \"$dir/$f\"; then\n                            found_dir=\"$dir\"\n                            found_so=\"$dir/$f\"\n                            break\n                          fi\n                        done\n                      fi\n                    fi\n                  fi\n                                    if test \"X$found_dir\" = \"X\"; then\n                    if test -f \"$dir/$libname.$acl_libext\"; then\n                      found_dir=\"$dir\"\n                      found_a=\"$dir/$libname.$acl_libext\"\n                    fi\n                  fi\n                  if test \"X$found_dir\" != \"X\"; then\n                    if test -f \"$dir/$libname.la\"; then\n                      found_la=\"$dir/$libname.la\"\n                    fi\n                  fi\n                  ;;\n              esac\n              if test \"X$found_dir\" != \"X\"; then\n                break\n              fi\n            done\n          fi\n          if test \"X$found_dir\" != \"X\"; then\n                        LTLIBICONV=\"${LTLIBICONV}${LTLIBICONV:+ }-L$found_dir -l$name\"\n            if test \"X$found_so\" != \"X\"; then\n                                                        if test \"$enable_rpath\" = no \\\n                 || test \"X$found_dir\" = \"X/usr/$acl_libdirstem\" \\\n                 || test \"X$found_dir\" = \"X/usr/$acl_libdirstem2\"; then\n                                LIBICONV=\"${LIBICONV}${LIBICONV:+ }$found_so\"\n              else\n                                                                                haveit=\n                for x in $ltrpathdirs; do\n                  if test \"X$x\" = \"X$found_dir\"; then\n                    haveit=yes\n                    break\n                  fi\n                done\n                if test -z \"$haveit\"; then\n                  ltrpathdirs=\"$ltrpathdirs $found_dir\"\n                fi\n                                if test \"$acl_hardcode_direct\" = yes; then\n                                                      LIBICONV=\"${LIBICONV}${LIBICONV:+ }$found_so\"\n                else\n                  if test -n \"$acl_hardcode_libdir_flag_spec\" && test \"$acl_hardcode_minus_L\" = no; then\n                                                            LIBICONV=\"${LIBICONV}${LIBICONV:+ }$found_so\"\n                                                            haveit=\n                    for x in $rpathdirs; do\n                      if test \"X$x\" = \"X$found_dir\"; then\n                        haveit=yes\n                        break\n                      fi\n                    done\n                    if test -z \"$haveit\"; then\n                      rpathdirs=\"$rpathdirs $found_dir\"\n                    fi\n                  else\n                                                                                haveit=\n                    for x in $LDFLAGS $LIBICONV; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                      if test \"X$x\" = \"X-L$found_dir\"; then\n                        haveit=yes\n                        break\n                      fi\n                    done\n                    if test -z \"$haveit\"; then\n                      LIBICONV=\"${LIBICONV}${LIBICONV:+ }-L$found_dir\"\n                    fi\n                    if test \"$acl_hardcode_minus_L\" != no; then\n                                                                                        LIBICONV=\"${LIBICONV}${LIBICONV:+ }$found_so\"\n                    else\n                                                                                                                                                                                LIBICONV=\"${LIBICONV}${LIBICONV:+ }-l$name\"\n                    fi\n                  fi\n                fi\n              fi\n            else\n              if test \"X$found_a\" != \"X\"; then\n                                LIBICONV=\"${LIBICONV}${LIBICONV:+ }$found_a\"\n              else\n                                                LIBICONV=\"${LIBICONV}${LIBICONV:+ }-L$found_dir -l$name\"\n              fi\n            fi\n                        additional_includedir=\n            case \"$found_dir\" in\n              */$acl_libdirstem | */$acl_libdirstem/)\n                basedir=`echo \"X$found_dir\" | sed -e 's,^X,,' -e \"s,/$acl_libdirstem/\"'*$,,'`\n                if test \"$name\" = 'iconv'; then\n                  LIBICONV_PREFIX=\"$basedir\"\n                fi\n                additional_includedir=\"$basedir/include\"\n                ;;\n              */$acl_libdirstem2 | */$acl_libdirstem2/)\n                basedir=`echo \"X$found_dir\" | sed -e 's,^X,,' -e \"s,/$acl_libdirstem2/\"'*$,,'`\n                if test \"$name\" = 'iconv'; then\n                  LIBICONV_PREFIX=\"$basedir\"\n                fi\n                additional_includedir=\"$basedir/include\"\n                ;;\n            esac\n            if test \"X$additional_includedir\" != \"X\"; then\n                                                                                                                if test \"X$additional_includedir\" != \"X/usr/include\"; then\n                haveit=\n                if test \"X$additional_includedir\" = \"X/usr/local/include\"; then\n                  if test -n \"$GCC\"; then\n                    case $host_os in\n                      linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n                    esac\n                  fi\n                fi\n                if test -z \"$haveit\"; then\n                  for x in $CPPFLAGS $INCICONV; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                    if test \"X$x\" = \"X-I$additional_includedir\"; then\n                      haveit=yes\n                      break\n                    fi\n                  done\n                  if test -z \"$haveit\"; then\n                    if test -d \"$additional_includedir\"; then\n                                            INCICONV=\"${INCICONV}${INCICONV:+ }-I$additional_includedir\"\n                    fi\n                  fi\n                fi\n              fi\n            fi\n                        if test -n \"$found_la\"; then\n                                                        save_libdir=\"$libdir\"\n              case \"$found_la\" in\n                */* | *\\\\*) . \"$found_la\" ;;\n                *) . \"./$found_la\" ;;\n              esac\n              libdir=\"$save_libdir\"\n                            for dep in $dependency_libs; do\n                case \"$dep\" in\n                  -L*)\n                    additional_libdir=`echo \"X$dep\" | sed -e 's/^X-L//'`\n                                                                                                                                                                if test \"X$additional_libdir\" != \"X/usr/$acl_libdirstem\" \\\n                       && test \"X$additional_libdir\" != \"X/usr/$acl_libdirstem2\"; then\n                      haveit=\n                      if test \"X$additional_libdir\" = \"X/usr/local/$acl_libdirstem\" \\\n                         || test \"X$additional_libdir\" = \"X/usr/local/$acl_libdirstem2\"; then\n                        if test -n \"$GCC\"; then\n                          case $host_os in\n                            linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n                          esac\n                        fi\n                      fi\n                      if test -z \"$haveit\"; then\n                        haveit=\n                        for x in $LDFLAGS $LIBICONV; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n                            haveit=yes\n                            break\n                          fi\n                        done\n                        if test -z \"$haveit\"; then\n                          if test -d \"$additional_libdir\"; then\n                                                        LIBICONV=\"${LIBICONV}${LIBICONV:+ }-L$additional_libdir\"\n                          fi\n                        fi\n                        haveit=\n                        for x in $LDFLAGS $LTLIBICONV; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n                            haveit=yes\n                            break\n                          fi\n                        done\n                        if test -z \"$haveit\"; then\n                          if test -d \"$additional_libdir\"; then\n                                                        LTLIBICONV=\"${LTLIBICONV}${LTLIBICONV:+ }-L$additional_libdir\"\n                          fi\n                        fi\n                      fi\n                    fi\n                    ;;\n                  -R*)\n                    dir=`echo \"X$dep\" | sed -e 's/^X-R//'`\n                    if test \"$enable_rpath\" != no; then\n                                                                  haveit=\n                      for x in $rpathdirs; do\n                        if test \"X$x\" = \"X$dir\"; then\n                          haveit=yes\n                          break\n                        fi\n                      done\n                      if test -z \"$haveit\"; then\n                        rpathdirs=\"$rpathdirs $dir\"\n                      fi\n                                                                  haveit=\n                      for x in $ltrpathdirs; do\n                        if test \"X$x\" = \"X$dir\"; then\n                          haveit=yes\n                          break\n                        fi\n                      done\n                      if test -z \"$haveit\"; then\n                        ltrpathdirs=\"$ltrpathdirs $dir\"\n                      fi\n                    fi\n                    ;;\n                  -l*)\n                                        names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's/^X-l//'`\n                    ;;\n                  *.la)\n                                                                                names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's,^X.*/,,' -e 's,^lib,,' -e 's,\\.la$,,'`\n                    ;;\n                  *)\n                                        LIBICONV=\"${LIBICONV}${LIBICONV:+ }$dep\"\n                    LTLIBICONV=\"${LTLIBICONV}${LTLIBICONV:+ }$dep\"\n                    ;;\n                esac\n              done\n            fi\n          else\n                                                            LIBICONV=\"${LIBICONV}${LIBICONV:+ }-l$name\"\n            LTLIBICONV=\"${LTLIBICONV}${LTLIBICONV:+ }-l$name\"\n          fi\n        fi\n      fi\n    done\n  done\n  if test \"X$rpathdirs\" != \"X\"; then\n    if test -n \"$acl_hardcode_libdir_separator\"; then\n                        alldirs=\n      for found_dir in $rpathdirs; do\n        alldirs=\"${alldirs}${alldirs:+$acl_hardcode_libdir_separator}$found_dir\"\n      done\n            acl_save_libdir=\"$libdir\"\n      libdir=\"$alldirs\"\n      eval flag=\\\"$acl_hardcode_libdir_flag_spec\\\"\n      libdir=\"$acl_save_libdir\"\n      LIBICONV=\"${LIBICONV}${LIBICONV:+ }$flag\"\n    else\n            for found_dir in $rpathdirs; do\n        acl_save_libdir=\"$libdir\"\n        libdir=\"$found_dir\"\n        eval flag=\\\"$acl_hardcode_libdir_flag_spec\\\"\n        libdir=\"$acl_save_libdir\"\n        LIBICONV=\"${LIBICONV}${LIBICONV:+ }$flag\"\n      done\n    fi\n  fi\n  if test \"X$ltrpathdirs\" != \"X\"; then\n            for found_dir in $ltrpathdirs; do\n      LTLIBICONV=\"${LTLIBICONV}${LTLIBICONV:+ }-R$found_dir\"\n    done\n  fi\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for CFPreferencesCopyAppValue\" >&5\n$as_echo_n \"checking for CFPreferencesCopyAppValue... \" >&6; }\nif test \"${gt_cv_func_CFPreferencesCopyAppValue+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  gt_save_LIBS=\"$LIBS\"\n     LIBS=\"$LIBS -Wl,-framework -Wl,CoreFoundation\"\n     cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <CoreFoundation/CFPreferences.h>\nint\nmain ()\n{\nCFPreferencesCopyAppValue(NULL, NULL)\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  gt_cv_func_CFPreferencesCopyAppValue=yes\nelse\n  gt_cv_func_CFPreferencesCopyAppValue=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n     LIBS=\"$gt_save_LIBS\"\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_CFPreferencesCopyAppValue\" >&5\n$as_echo \"$gt_cv_func_CFPreferencesCopyAppValue\" >&6; }\n  if test $gt_cv_func_CFPreferencesCopyAppValue = yes; then\n\n$as_echo \"#define HAVE_CFPREFERENCESCOPYAPPVALUE 1\" >>confdefs.h\n\n  fi\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for CFLocaleCopyCurrent\" >&5\n$as_echo_n \"checking for CFLocaleCopyCurrent... \" >&6; }\nif test \"${gt_cv_func_CFLocaleCopyCurrent+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  gt_save_LIBS=\"$LIBS\"\n     LIBS=\"$LIBS -Wl,-framework -Wl,CoreFoundation\"\n     cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <CoreFoundation/CFLocale.h>\nint\nmain ()\n{\nCFLocaleCopyCurrent();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  gt_cv_func_CFLocaleCopyCurrent=yes\nelse\n  gt_cv_func_CFLocaleCopyCurrent=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n     LIBS=\"$gt_save_LIBS\"\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_CFLocaleCopyCurrent\" >&5\n$as_echo \"$gt_cv_func_CFLocaleCopyCurrent\" >&6; }\n  if test $gt_cv_func_CFLocaleCopyCurrent = yes; then\n\n$as_echo \"#define HAVE_CFLOCALECOPYCURRENT 1\" >>confdefs.h\n\n  fi\n  INTL_MACOSX_LIBS=\n  if test $gt_cv_func_CFPreferencesCopyAppValue = yes || test $gt_cv_func_CFLocaleCopyCurrent = yes; then\n    INTL_MACOSX_LIBS=\"-Wl,-framework -Wl,CoreFoundation\"\n  fi\n\n\n\n\n\n\n  LIBINTL=\n  LTLIBINTL=\n  POSUB=\n\n    case \" $gt_needs \" in\n    *\" need-formatstring-macros \"*) gt_api_version=3 ;;\n    *\" need-ngettext \"*) gt_api_version=2 ;;\n    *) gt_api_version=1 ;;\n  esac\n  gt_func_gnugettext_libc=\"gt_cv_func_gnugettext${gt_api_version}_libc\"\n  gt_func_gnugettext_libintl=\"gt_cv_func_gnugettext${gt_api_version}_libintl\"\n\n    if test \"$USE_NLS\" = \"yes\"; then\n    gt_use_preinstalled_gnugettext=no\n\n\n        if test $gt_api_version -ge 3; then\n          gt_revision_test_code='\n#ifndef __GNU_GETTEXT_SUPPORTED_REVISION\n#define __GNU_GETTEXT_SUPPORTED_REVISION(major) ((major) == 0 ? 0 : -1)\n#endif\ntypedef int array [2 * (__GNU_GETTEXT_SUPPORTED_REVISION(0) >= 1) - 1];\n'\n        else\n          gt_revision_test_code=\n        fi\n        if test $gt_api_version -ge 2; then\n          gt_expression_test_code=' + * ngettext (\"\", \"\", 0)'\n        else\n          gt_expression_test_code=\n        fi\n\n        { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for GNU gettext in libc\" >&5\n$as_echo_n \"checking for GNU gettext in libc... \" >&6; }\nif eval \"test \\\"\\${$gt_func_gnugettext_libc+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <libintl.h>\n$gt_revision_test_code\nextern int _nl_msg_cat_cntr;\nextern int *_nl_domain_bindings;\nint\nmain ()\n{\nbindtextdomain (\"\", \"\");\nreturn * gettext (\"\")$gt_expression_test_code + _nl_msg_cat_cntr + *_nl_domain_bindings\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  eval \"$gt_func_gnugettext_libc=yes\"\nelse\n  eval \"$gt_func_gnugettext_libc=no\"\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nfi\neval ac_res=\\$$gt_func_gnugettext_libc\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\n\n        if { eval \"gt_val=\\$$gt_func_gnugettext_libc\"; test \"$gt_val\" != \"yes\"; }; then\n\n\n\n\n\n          am_save_CPPFLAGS=\"$CPPFLAGS\"\n\n  for element in $INCICONV; do\n    haveit=\n    for x in $CPPFLAGS; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n      if test \"X$x\" = \"X$element\"; then\n        haveit=yes\n        break\n      fi\n    done\n    if test -z \"$haveit\"; then\n      CPPFLAGS=\"${CPPFLAGS}${CPPFLAGS:+ }$element\"\n    fi\n  done\n\n\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for iconv\" >&5\n$as_echo_n \"checking for iconv... \" >&6; }\nif test \"${am_cv_func_iconv+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n\n    am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n    am_cv_lib_iconv=no\n    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdlib.h>\n#include <iconv.h>\nint\nmain ()\n{\niconv_t cd = iconv_open(\"\",\"\");\n       iconv(cd,NULL,NULL,NULL,NULL);\n       iconv_close(cd);\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  am_cv_func_iconv=yes\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n    if test \"$am_cv_func_iconv\" != yes; then\n      am_save_LIBS=\"$LIBS\"\n      LIBS=\"$LIBS $LIBICONV\"\n      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdlib.h>\n#include <iconv.h>\nint\nmain ()\n{\niconv_t cd = iconv_open(\"\",\"\");\n         iconv(cd,NULL,NULL,NULL,NULL);\n         iconv_close(cd);\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  am_cv_lib_iconv=yes\n        am_cv_func_iconv=yes\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n      LIBS=\"$am_save_LIBS\"\n    fi\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $am_cv_func_iconv\" >&5\n$as_echo \"$am_cv_func_iconv\" >&6; }\n  if test \"$am_cv_func_iconv\" = yes; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for working iconv\" >&5\n$as_echo_n \"checking for working iconv... \" >&6; }\nif test \"${am_cv_func_iconv_works+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n\n            am_save_LIBS=\"$LIBS\"\n      if test $am_cv_lib_iconv = yes; then\n        LIBS=\"$LIBS $LIBICONV\"\n      fi\n      if test \"$cross_compiling\" = yes; then :\n  case \"$host_os\" in\n           aix* | hpux*) am_cv_func_iconv_works=\"guessing no\" ;;\n           *)            am_cv_func_iconv_works=\"guessing yes\" ;;\n         esac\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n#include <iconv.h>\n#include <string.h>\nint main ()\n{\n  /* Test against AIX 5.1 bug: Failures are not distinguishable from successful\n     returns.  */\n  {\n    iconv_t cd_utf8_to_88591 = iconv_open (\"ISO8859-1\", \"UTF-8\");\n    if (cd_utf8_to_88591 != (iconv_t)(-1))\n      {\n        static const char input[] = \"\\342\\202\\254\"; /* EURO SIGN */\n        char buf[10];\n        const char *inptr = input;\n        size_t inbytesleft = strlen (input);\n        char *outptr = buf;\n        size_t outbytesleft = sizeof (buf);\n        size_t res = iconv (cd_utf8_to_88591,\n                            (char **) &inptr, &inbytesleft,\n                            &outptr, &outbytesleft);\n        if (res == 0)\n          return 1;\n      }\n  }\n  /* Test against Solaris 10 bug: Failures are not distinguishable from\n     successful returns.  */\n  {\n    iconv_t cd_ascii_to_88591 = iconv_open (\"ISO8859-1\", \"646\");\n    if (cd_ascii_to_88591 != (iconv_t)(-1))\n      {\n        static const char input[] = \"\\263\";\n        char buf[10];\n        const char *inptr = input;\n        size_t inbytesleft = strlen (input);\n        char *outptr = buf;\n        size_t outbytesleft = sizeof (buf);\n        size_t res = iconv (cd_ascii_to_88591,\n                            (char **) &inptr, &inbytesleft,\n                            &outptr, &outbytesleft);\n        if (res == 0)\n          return 1;\n      }\n  }\n#if 0 /* This bug could be worked around by the caller.  */\n  /* Test against HP-UX 11.11 bug: Positive return value instead of 0.  */\n  {\n    iconv_t cd_88591_to_utf8 = iconv_open (\"utf8\", \"iso88591\");\n    if (cd_88591_to_utf8 != (iconv_t)(-1))\n      {\n        static const char input[] = \"\\304rger mit b\\366sen B\\374bchen ohne Augenma\\337\";\n        char buf[50];\n        const char *inptr = input;\n        size_t inbytesleft = strlen (input);\n        char *outptr = buf;\n        size_t outbytesleft = sizeof (buf);\n        size_t res = iconv (cd_88591_to_utf8,\n                            (char **) &inptr, &inbytesleft,\n                            &outptr, &outbytesleft);\n        if ((int)res > 0)\n          return 1;\n      }\n  }\n#endif\n  /* Test against HP-UX 11.11 bug: No converter from EUC-JP to UTF-8 is\n     provided.  */\n  if (/* Try standardized names.  */\n      iconv_open (\"UTF-8\", \"EUC-JP\") == (iconv_t)(-1)\n      /* Try IRIX, OSF/1 names.  */\n      && iconv_open (\"UTF-8\", \"eucJP\") == (iconv_t)(-1)\n      /* Try AIX names.  */\n      && iconv_open (\"UTF-8\", \"IBM-eucJP\") == (iconv_t)(-1)\n      /* Try HP-UX names.  */\n      && iconv_open (\"utf8\", \"eucJP\") == (iconv_t)(-1))\n    return 1;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_run \"$LINENO\"; then :\n  am_cv_func_iconv_works=yes\nelse\n  am_cv_func_iconv_works=no\nfi\nrm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n  conftest.$ac_objext conftest.beam conftest.$ac_ext\nfi\n\n      LIBS=\"$am_save_LIBS\"\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $am_cv_func_iconv_works\" >&5\n$as_echo \"$am_cv_func_iconv_works\" >&6; }\n    case \"$am_cv_func_iconv_works\" in\n      *no) am_func_iconv=no am_cv_lib_iconv=no ;;\n      *)   am_func_iconv=yes ;;\n    esac\n  else\n    am_func_iconv=no am_cv_lib_iconv=no\n  fi\n  if test \"$am_func_iconv\" = yes; then\n\n$as_echo \"#define HAVE_ICONV 1\" >>confdefs.h\n\n  fi\n  if test \"$am_cv_lib_iconv\" = yes; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to link with libiconv\" >&5\n$as_echo_n \"checking how to link with libiconv... \" >&6; }\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $LIBICONV\" >&5\n$as_echo \"$LIBICONV\" >&6; }\n  else\n            CPPFLAGS=\"$am_save_CPPFLAGS\"\n    LIBICONV=\n    LTLIBICONV=\n  fi\n\n\n\n\n\n\n\n\n\n\n\n    use_additional=yes\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n\n    eval additional_includedir=\\\"$includedir\\\"\n    eval additional_libdir=\\\"$libdir\\\"\n\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n\n# Check whether --with-libintl-prefix was given.\nif test \"${with_libintl_prefix+set}\" = set; then :\n  withval=$with_libintl_prefix;\n    if test \"X$withval\" = \"Xno\"; then\n      use_additional=no\n    else\n      if test \"X$withval\" = \"X\"; then\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n\n          eval additional_includedir=\\\"$includedir\\\"\n          eval additional_libdir=\\\"$libdir\\\"\n\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n      else\n        additional_includedir=\"$withval/include\"\n        additional_libdir=\"$withval/$acl_libdirstem\"\n        if test \"$acl_libdirstem2\" != \"$acl_libdirstem\" \\\n           && ! test -d \"$withval/$acl_libdirstem\"; then\n          additional_libdir=\"$withval/$acl_libdirstem2\"\n        fi\n      fi\n    fi\n\nfi\n\n      LIBINTL=\n  LTLIBINTL=\n  INCINTL=\n  LIBINTL_PREFIX=\n      HAVE_LIBINTL=\n  rpathdirs=\n  ltrpathdirs=\n  names_already_handled=\n  names_next_round='intl '\n  while test -n \"$names_next_round\"; do\n    names_this_round=\"$names_next_round\"\n    names_next_round=\n    for name in $names_this_round; do\n      already_handled=\n      for n in $names_already_handled; do\n        if test \"$n\" = \"$name\"; then\n          already_handled=yes\n          break\n        fi\n      done\n      if test -z \"$already_handled\"; then\n        names_already_handled=\"$names_already_handled $name\"\n                        uppername=`echo \"$name\" | sed -e 'y|abcdefghijklmnopqrstuvwxyz./-|ABCDEFGHIJKLMNOPQRSTUVWXYZ___|'`\n        eval value=\\\"\\$HAVE_LIB$uppername\\\"\n        if test -n \"$value\"; then\n          if test \"$value\" = yes; then\n            eval value=\\\"\\$LIB$uppername\\\"\n            test -z \"$value\" || LIBINTL=\"${LIBINTL}${LIBINTL:+ }$value\"\n            eval value=\\\"\\$LTLIB$uppername\\\"\n            test -z \"$value\" || LTLIBINTL=\"${LTLIBINTL}${LTLIBINTL:+ }$value\"\n          else\n                                    :\n          fi\n        else\n                              found_dir=\n          found_la=\n          found_so=\n          found_a=\n          eval libname=\\\"$acl_libname_spec\\\"    # typically: libname=lib$name\n          if test -n \"$acl_shlibext\"; then\n            shrext=\".$acl_shlibext\"             # typically: shrext=.so\n          else\n            shrext=\n          fi\n          if test $use_additional = yes; then\n            dir=\"$additional_libdir\"\n                                    if test -n \"$acl_shlibext\"; then\n              if test -f \"$dir/$libname$shrext\"; then\n                found_dir=\"$dir\"\n                found_so=\"$dir/$libname$shrext\"\n              else\n                if test \"$acl_library_names_spec\" = '$libname$shrext$versuffix'; then\n                  ver=`(cd \"$dir\" && \\\n                        for f in \"$libname$shrext\".*; do echo \"$f\"; done \\\n                        | sed -e \"s,^$libname$shrext\\\\\\\\.,,\" \\\n                        | sort -t '.' -n -r -k1,1 -k2,2 -k3,3 -k4,4 -k5,5 \\\n                        | sed 1q ) 2>/dev/null`\n                  if test -n \"$ver\" && test -f \"$dir/$libname$shrext.$ver\"; then\n                    found_dir=\"$dir\"\n                    found_so=\"$dir/$libname$shrext.$ver\"\n                  fi\n                else\n                  eval library_names=\\\"$acl_library_names_spec\\\"\n                  for f in $library_names; do\n                    if test -f \"$dir/$f\"; then\n                      found_dir=\"$dir\"\n                      found_so=\"$dir/$f\"\n                      break\n                    fi\n                  done\n                fi\n              fi\n            fi\n                        if test \"X$found_dir\" = \"X\"; then\n              if test -f \"$dir/$libname.$acl_libext\"; then\n                found_dir=\"$dir\"\n                found_a=\"$dir/$libname.$acl_libext\"\n              fi\n            fi\n            if test \"X$found_dir\" != \"X\"; then\n              if test -f \"$dir/$libname.la\"; then\n                found_la=\"$dir/$libname.la\"\n              fi\n            fi\n          fi\n          if test \"X$found_dir\" = \"X\"; then\n            for x in $LDFLAGS $LTLIBINTL; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n              case \"$x\" in\n                -L*)\n                  dir=`echo \"X$x\" | sed -e 's/^X-L//'`\n                                    if test -n \"$acl_shlibext\"; then\n                    if test -f \"$dir/$libname$shrext\"; then\n                      found_dir=\"$dir\"\n                      found_so=\"$dir/$libname$shrext\"\n                    else\n                      if test \"$acl_library_names_spec\" = '$libname$shrext$versuffix'; then\n                        ver=`(cd \"$dir\" && \\\n                              for f in \"$libname$shrext\".*; do echo \"$f\"; done \\\n                              | sed -e \"s,^$libname$shrext\\\\\\\\.,,\" \\\n                              | sort -t '.' -n -r -k1,1 -k2,2 -k3,3 -k4,4 -k5,5 \\\n                              | sed 1q ) 2>/dev/null`\n                        if test -n \"$ver\" && test -f \"$dir/$libname$shrext.$ver\"; then\n                          found_dir=\"$dir\"\n                          found_so=\"$dir/$libname$shrext.$ver\"\n                        fi\n                      else\n                        eval library_names=\\\"$acl_library_names_spec\\\"\n                        for f in $library_names; do\n                          if test -f \"$dir/$f\"; then\n                            found_dir=\"$dir\"\n                            found_so=\"$dir/$f\"\n                            break\n                          fi\n                        done\n                      fi\n                    fi\n                  fi\n                                    if test \"X$found_dir\" = \"X\"; then\n                    if test -f \"$dir/$libname.$acl_libext\"; then\n                      found_dir=\"$dir\"\n                      found_a=\"$dir/$libname.$acl_libext\"\n                    fi\n                  fi\n                  if test \"X$found_dir\" != \"X\"; then\n                    if test -f \"$dir/$libname.la\"; then\n                      found_la=\"$dir/$libname.la\"\n                    fi\n                  fi\n                  ;;\n              esac\n              if test \"X$found_dir\" != \"X\"; then\n                break\n              fi\n            done\n          fi\n          if test \"X$found_dir\" != \"X\"; then\n                        LTLIBINTL=\"${LTLIBINTL}${LTLIBINTL:+ }-L$found_dir -l$name\"\n            if test \"X$found_so\" != \"X\"; then\n                                                        if test \"$enable_rpath\" = no \\\n                 || test \"X$found_dir\" = \"X/usr/$acl_libdirstem\" \\\n                 || test \"X$found_dir\" = \"X/usr/$acl_libdirstem2\"; then\n                                LIBINTL=\"${LIBINTL}${LIBINTL:+ }$found_so\"\n              else\n                                                                                haveit=\n                for x in $ltrpathdirs; do\n                  if test \"X$x\" = \"X$found_dir\"; then\n                    haveit=yes\n                    break\n                  fi\n                done\n                if test -z \"$haveit\"; then\n                  ltrpathdirs=\"$ltrpathdirs $found_dir\"\n                fi\n                                if test \"$acl_hardcode_direct\" = yes; then\n                                                      LIBINTL=\"${LIBINTL}${LIBINTL:+ }$found_so\"\n                else\n                  if test -n \"$acl_hardcode_libdir_flag_spec\" && test \"$acl_hardcode_minus_L\" = no; then\n                                                            LIBINTL=\"${LIBINTL}${LIBINTL:+ }$found_so\"\n                                                            haveit=\n                    for x in $rpathdirs; do\n                      if test \"X$x\" = \"X$found_dir\"; then\n                        haveit=yes\n                        break\n                      fi\n                    done\n                    if test -z \"$haveit\"; then\n                      rpathdirs=\"$rpathdirs $found_dir\"\n                    fi\n                  else\n                                                                                haveit=\n                    for x in $LDFLAGS $LIBINTL; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                      if test \"X$x\" = \"X-L$found_dir\"; then\n                        haveit=yes\n                        break\n                      fi\n                    done\n                    if test -z \"$haveit\"; then\n                      LIBINTL=\"${LIBINTL}${LIBINTL:+ }-L$found_dir\"\n                    fi\n                    if test \"$acl_hardcode_minus_L\" != no; then\n                                                                                        LIBINTL=\"${LIBINTL}${LIBINTL:+ }$found_so\"\n                    else\n                                                                                                                                                                                LIBINTL=\"${LIBINTL}${LIBINTL:+ }-l$name\"\n                    fi\n                  fi\n                fi\n              fi\n            else\n              if test \"X$found_a\" != \"X\"; then\n                                LIBINTL=\"${LIBINTL}${LIBINTL:+ }$found_a\"\n              else\n                                                LIBINTL=\"${LIBINTL}${LIBINTL:+ }-L$found_dir -l$name\"\n              fi\n            fi\n                        additional_includedir=\n            case \"$found_dir\" in\n              */$acl_libdirstem | */$acl_libdirstem/)\n                basedir=`echo \"X$found_dir\" | sed -e 's,^X,,' -e \"s,/$acl_libdirstem/\"'*$,,'`\n                if test \"$name\" = 'intl'; then\n                  LIBINTL_PREFIX=\"$basedir\"\n                fi\n                additional_includedir=\"$basedir/include\"\n                ;;\n              */$acl_libdirstem2 | */$acl_libdirstem2/)\n                basedir=`echo \"X$found_dir\" | sed -e 's,^X,,' -e \"s,/$acl_libdirstem2/\"'*$,,'`\n                if test \"$name\" = 'intl'; then\n                  LIBINTL_PREFIX=\"$basedir\"\n                fi\n                additional_includedir=\"$basedir/include\"\n                ;;\n            esac\n            if test \"X$additional_includedir\" != \"X\"; then\n                                                                                                                if test \"X$additional_includedir\" != \"X/usr/include\"; then\n                haveit=\n                if test \"X$additional_includedir\" = \"X/usr/local/include\"; then\n                  if test -n \"$GCC\"; then\n                    case $host_os in\n                      linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n                    esac\n                  fi\n                fi\n                if test -z \"$haveit\"; then\n                  for x in $CPPFLAGS $INCINTL; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                    if test \"X$x\" = \"X-I$additional_includedir\"; then\n                      haveit=yes\n                      break\n                    fi\n                  done\n                  if test -z \"$haveit\"; then\n                    if test -d \"$additional_includedir\"; then\n                                            INCINTL=\"${INCINTL}${INCINTL:+ }-I$additional_includedir\"\n                    fi\n                  fi\n                fi\n              fi\n            fi\n                        if test -n \"$found_la\"; then\n                                                        save_libdir=\"$libdir\"\n              case \"$found_la\" in\n                */* | *\\\\*) . \"$found_la\" ;;\n                *) . \"./$found_la\" ;;\n              esac\n              libdir=\"$save_libdir\"\n                            for dep in $dependency_libs; do\n                case \"$dep\" in\n                  -L*)\n                    additional_libdir=`echo \"X$dep\" | sed -e 's/^X-L//'`\n                                                                                                                                                                if test \"X$additional_libdir\" != \"X/usr/$acl_libdirstem\" \\\n                       && test \"X$additional_libdir\" != \"X/usr/$acl_libdirstem2\"; then\n                      haveit=\n                      if test \"X$additional_libdir\" = \"X/usr/local/$acl_libdirstem\" \\\n                         || test \"X$additional_libdir\" = \"X/usr/local/$acl_libdirstem2\"; then\n                        if test -n \"$GCC\"; then\n                          case $host_os in\n                            linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n                          esac\n                        fi\n                      fi\n                      if test -z \"$haveit\"; then\n                        haveit=\n                        for x in $LDFLAGS $LIBINTL; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n                            haveit=yes\n                            break\n                          fi\n                        done\n                        if test -z \"$haveit\"; then\n                          if test -d \"$additional_libdir\"; then\n                                                        LIBINTL=\"${LIBINTL}${LIBINTL:+ }-L$additional_libdir\"\n                          fi\n                        fi\n                        haveit=\n                        for x in $LDFLAGS $LTLIBINTL; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n                            haveit=yes\n                            break\n                          fi\n                        done\n                        if test -z \"$haveit\"; then\n                          if test -d \"$additional_libdir\"; then\n                                                        LTLIBINTL=\"${LTLIBINTL}${LTLIBINTL:+ }-L$additional_libdir\"\n                          fi\n                        fi\n                      fi\n                    fi\n                    ;;\n                  -R*)\n                    dir=`echo \"X$dep\" | sed -e 's/^X-R//'`\n                    if test \"$enable_rpath\" != no; then\n                                                                  haveit=\n                      for x in $rpathdirs; do\n                        if test \"X$x\" = \"X$dir\"; then\n                          haveit=yes\n                          break\n                        fi\n                      done\n                      if test -z \"$haveit\"; then\n                        rpathdirs=\"$rpathdirs $dir\"\n                      fi\n                                                                  haveit=\n                      for x in $ltrpathdirs; do\n                        if test \"X$x\" = \"X$dir\"; then\n                          haveit=yes\n                          break\n                        fi\n                      done\n                      if test -z \"$haveit\"; then\n                        ltrpathdirs=\"$ltrpathdirs $dir\"\n                      fi\n                    fi\n                    ;;\n                  -l*)\n                                        names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's/^X-l//'`\n                    ;;\n                  *.la)\n                                                                                names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's,^X.*/,,' -e 's,^lib,,' -e 's,\\.la$,,'`\n                    ;;\n                  *)\n                                        LIBINTL=\"${LIBINTL}${LIBINTL:+ }$dep\"\n                    LTLIBINTL=\"${LTLIBINTL}${LTLIBINTL:+ }$dep\"\n                    ;;\n                esac\n              done\n            fi\n          else\n                                                            LIBINTL=\"${LIBINTL}${LIBINTL:+ }-l$name\"\n            LTLIBINTL=\"${LTLIBINTL}${LTLIBINTL:+ }-l$name\"\n          fi\n        fi\n      fi\n    done\n  done\n  if test \"X$rpathdirs\" != \"X\"; then\n    if test -n \"$acl_hardcode_libdir_separator\"; then\n                        alldirs=\n      for found_dir in $rpathdirs; do\n        alldirs=\"${alldirs}${alldirs:+$acl_hardcode_libdir_separator}$found_dir\"\n      done\n            acl_save_libdir=\"$libdir\"\n      libdir=\"$alldirs\"\n      eval flag=\\\"$acl_hardcode_libdir_flag_spec\\\"\n      libdir=\"$acl_save_libdir\"\n      LIBINTL=\"${LIBINTL}${LIBINTL:+ }$flag\"\n    else\n            for found_dir in $rpathdirs; do\n        acl_save_libdir=\"$libdir\"\n        libdir=\"$found_dir\"\n        eval flag=\\\"$acl_hardcode_libdir_flag_spec\\\"\n        libdir=\"$acl_save_libdir\"\n        LIBINTL=\"${LIBINTL}${LIBINTL:+ }$flag\"\n      done\n    fi\n  fi\n  if test \"X$ltrpathdirs\" != \"X\"; then\n            for found_dir in $ltrpathdirs; do\n      LTLIBINTL=\"${LTLIBINTL}${LTLIBINTL:+ }-R$found_dir\"\n    done\n  fi\n\n\n\n\n\n\n          { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for GNU gettext in libintl\" >&5\n$as_echo_n \"checking for GNU gettext in libintl... \" >&6; }\nif eval \"test \\\"\\${$gt_func_gnugettext_libintl+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  gt_save_CPPFLAGS=\"$CPPFLAGS\"\n            CPPFLAGS=\"$CPPFLAGS $INCINTL\"\n            gt_save_LIBS=\"$LIBS\"\n            LIBS=\"$LIBS $LIBINTL\"\n                        cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <libintl.h>\n$gt_revision_test_code\nextern int _nl_msg_cat_cntr;\nextern\n#ifdef __cplusplus\n\"C\"\n#endif\nconst char *_nl_expand_alias (const char *);\nint\nmain ()\n{\nbindtextdomain (\"\", \"\");\nreturn * gettext (\"\")$gt_expression_test_code + _nl_msg_cat_cntr + *_nl_expand_alias (\"\")\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  eval \"$gt_func_gnugettext_libintl=yes\"\nelse\n  eval \"$gt_func_gnugettext_libintl=no\"\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n                        if { eval \"gt_val=\\$$gt_func_gnugettext_libintl\"; test \"$gt_val\" != yes; } && test -n \"$LIBICONV\"; then\n              LIBS=\"$LIBS $LIBICONV\"\n              cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <libintl.h>\n$gt_revision_test_code\nextern int _nl_msg_cat_cntr;\nextern\n#ifdef __cplusplus\n\"C\"\n#endif\nconst char *_nl_expand_alias (const char *);\nint\nmain ()\n{\nbindtextdomain (\"\", \"\");\nreturn * gettext (\"\")$gt_expression_test_code + _nl_msg_cat_cntr + *_nl_expand_alias (\"\")\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  LIBINTL=\"$LIBINTL $LIBICONV\"\n                LTLIBINTL=\"$LTLIBINTL $LTLIBICONV\"\n                eval \"$gt_func_gnugettext_libintl=yes\"\n\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n            fi\n            CPPFLAGS=\"$gt_save_CPPFLAGS\"\n            LIBS=\"$gt_save_LIBS\"\nfi\neval ac_res=\\$$gt_func_gnugettext_libintl\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\n        fi\n\n                                        if { eval \"gt_val=\\$$gt_func_gnugettext_libc\"; test \"$gt_val\" = \"yes\"; } \\\n           || { { eval \"gt_val=\\$$gt_func_gnugettext_libintl\"; test \"$gt_val\" = \"yes\"; } \\\n                && test \"$PACKAGE\" != gettext-runtime \\\n                && test \"$PACKAGE\" != gettext-tools; }; then\n          gt_use_preinstalled_gnugettext=yes\n        else\n                    LIBINTL=\n          LTLIBINTL=\n          INCINTL=\n        fi\n\n\n\n    if test -n \"$INTL_MACOSX_LIBS\"; then\n      if test \"$gt_use_preinstalled_gnugettext\" = \"yes\" \\\n         || test \"$nls_cv_use_gnu_gettext\" = \"yes\"; then\n                LIBINTL=\"$LIBINTL $INTL_MACOSX_LIBS\"\n        LTLIBINTL=\"$LTLIBINTL $INTL_MACOSX_LIBS\"\n      fi\n    fi\n\n    if test \"$gt_use_preinstalled_gnugettext\" = \"yes\" \\\n       || test \"$nls_cv_use_gnu_gettext\" = \"yes\"; then\n\n$as_echo \"#define ENABLE_NLS 1\" >>confdefs.h\n\n    else\n      USE_NLS=no\n    fi\n  fi\n\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether to use NLS\" >&5\n$as_echo_n \"checking whether to use NLS... \" >&6; }\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $USE_NLS\" >&5\n$as_echo \"$USE_NLS\" >&6; }\n  if test \"$USE_NLS\" = \"yes\"; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking where the gettext function comes from\" >&5\n$as_echo_n \"checking where the gettext function comes from... \" >&6; }\n    if test \"$gt_use_preinstalled_gnugettext\" = \"yes\"; then\n      if { eval \"gt_val=\\$$gt_func_gnugettext_libintl\"; test \"$gt_val\" = \"yes\"; }; then\n        gt_source=\"external libintl\"\n      else\n        gt_source=\"libc\"\n      fi\n    else\n      gt_source=\"included intl directory\"\n    fi\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $gt_source\" >&5\n$as_echo \"$gt_source\" >&6; }\n  fi\n\n  if test \"$USE_NLS\" = \"yes\"; then\n\n    if test \"$gt_use_preinstalled_gnugettext\" = \"yes\"; then\n      if { eval \"gt_val=\\$$gt_func_gnugettext_libintl\"; test \"$gt_val\" = \"yes\"; }; then\n        { $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to link with libintl\" >&5\n$as_echo_n \"checking how to link with libintl... \" >&6; }\n        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $LIBINTL\" >&5\n$as_echo \"$LIBINTL\" >&6; }\n\n  for element in $INCINTL; do\n    haveit=\n    for x in $CPPFLAGS; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n      if test \"X$x\" = \"X$element\"; then\n        haveit=yes\n        break\n      fi\n    done\n    if test -z \"$haveit\"; then\n      CPPFLAGS=\"${CPPFLAGS}${CPPFLAGS:+ }$element\"\n    fi\n  done\n\n      fi\n\n\n$as_echo \"#define HAVE_GETTEXT 1\" >>confdefs.h\n\n\n$as_echo \"#define HAVE_DCGETTEXT 1\" >>confdefs.h\n\n    fi\n\n        POSUB=po\n  fi\n\n\n\n    INTLLIBS=\"$LIBINTL\"\n\n\n\n\n\n\nfi\n\nNLSTARGET=\"\"\nif test x\"$USE_NLS\" = xyes; then\n  NLSTARGET=\"po\"\nfi\n\n\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if color escape sequence for kterm/pxvt is enabled\" >&5\n$as_echo_n \"checking if color escape sequence for kterm/pxvt is enabled... \" >&6; }\n# Check whether --enable-color was given.\nif test \"${enable_color+set}\" = set; then :\n  enableval=$enable_color;\nelse\n  enable_color=\"yes\"\nfi\n\ntest x\"$enable_color\" = xyes && $as_echo \"#define USE_COLOR 1\" >>confdefs.h\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_color\" >&5\n$as_echo \"$enable_color\" >&6; }\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if ansi color escape sequence support is enabled\" >&5\n$as_echo_n \"checking if ansi color escape sequence support is enabled... \" >&6; }\n# Check whether --enable-ansi_color was given.\nif test \"${enable_ansi_color+set}\" = set; then :\n  enableval=$enable_ansi_color;\nelse\n  enable_ansi_color=\"$enable_color\"\nfi\n\n test x\"$enable_ansi_color\" = xyes && $as_echo \"#define USE_ANSI_COLOR 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_ansi_color\" >&5\n$as_echo \"$enable_ansi_color\" >&6; }\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if background color support is enabled\" >&5\n$as_echo_n \"checking if background color support is enabled... \" >&6; }\n# Check whether --enable-bgcolor was given.\nif test \"${enable_bgcolor+set}\" = set; then :\n  enableval=$enable_bgcolor;\nelse\n  enable_bgcolor=\"$enable_color\"\nfi\n\n test x\"$enable_bgcolor\" = xyes && $as_echo \"#define USE_BG_COLOR 1\" >>confdefs.h\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_bgcolor\" >&5\n$as_echo \"$enable_bgcolor\" >&6; }\n\n\n\n\n\n\n\n\n INSTALL_W3MIMGDISPLAY='${INSTALL_PROGRAM}'\n $as_echo \"#define INSTALL_W3MIMGDISPLAY \\$INSTALL_W3MIMGDISPLAY\" >>confdefs.h\n\n\n\n\n\n\n\n\n\n\n\n\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if image is enabled\" >&5\n$as_echo_n \"checking if image is enabled... \" >&6; }\n # Check whether --enable-image was given.\nif test \"${enable_image+set}\" = set; then :\n  enableval=$enable_image;\nelse\n  enable_image=\"yes\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_image\" >&5\n$as_echo \"$enable_image\" >&6; }\n if test x\"$enable_image\" != xno; then\n  IMGOBJS=w3mimg.o\n  if test x\"$enable_image\" = xyes; then\n    enable_image=x11\n    case \"`uname -s`\" in\n    Linux|linux|LINUX|FreeBSD|freebsd|FREEBSD)\n\tif test -c /dev/fb0; then\n\t  enable_image=x11,fb\n        fi;;\n    CYGWIN*)\n\tenable_image=x11,win;;\n    esac\n  fi\n  save_ifs=\"$IFS\"; IFS=\",\";\n  set x $enable_image; shift\n  IFS=\"$save_ifs\"\n  for img in \"$@\"; do\n    case $img in\n      x11) x11=yes;;\n      fb)  fb=yes;;\n      fb+s) fb=yes\n           $as_echo \"#define W3MIMGDISPLAY_SETUID 1\" >>confdefs.h\n\n           INSTALL_W3MIMGDISPLAY='${INSTALL} -o root -m 4755 -s'\n           $as_echo \"#define INSTALL_W3MIMGDISPLAY \\$INSTALL_W3MIMGDISPLAY\" >>confdefs.h\n;;\n      win) win=yes;;\n    esac\n  done\n  enable_image=yes\n  $as_echo \"#define USE_IMAGE 1\" >>confdefs.h\n\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking image library\" >&5\n$as_echo_n \"checking image library... \" >&6; }\n\n# Check whether --with-imagelib was given.\nif test \"${with_imagelib+set}\" = set; then :\n  withval=$with_imagelib;\nelse\n  with_imagelib=\"yes\"\nfi\n\n  if test x\"$with_imagelib\" = xyes; then\n    with_imagelib=\"gtk2 gdk-pixbuf imlib imlib2\"\n  fi\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_imagelib\" >&5\n$as_echo \"$with_imagelib\" >&6; }\n  with_imlib=no\n  with_imlib2=no\n  with_gdkpixbuf=no\n  with_gtk2=no\n  for imagelib in $with_imagelib\n  do\n   case \"$imagelib\" in\n   imlib)\n     with_imlib=\"yes\"\n     if test x\"$IMLIB_CONFIG\" = x; then\n       IMLIB_CONFIG=imlib-config\n     fi;;\n   imlib2)\n     with_imlib2=\"yes\"\n     if test x\"$PKG_CONFIG\" = x; then\n       PKG_CONFIG=pkg-config\n     fi\n     if test x\"$IMLIB2_CONFIG\" = x; then\n       IMLIB2_CONFIG=imlib2-config\n     fi;;\n   gdk-pixbuf)\n     with_gdkpixbuf=\"yes\"\n     if test x\"$GDKPIXBUF_CONFIG\" = x; then\n       GDKPIXBUF_CONFIG=gdk-pixbuf-config\n     fi;;\n   gtk2)\n     with_gtk2=\"yes\"\n     if test x\"$PKG_CONFIG\" = x; then\n       PKG_CONFIG=pkg-config\n     fi;;\n   esac\n  done\n  IMGTARGETS=\"\"\n  IMGLINK='$(CC)'\n  if test x\"$with_gtk2\" = xyes; then\n   version=\"`$PKG_CONFIG --modversion gdk-pixbuf-2.0 2>/dev/null`\"\n if test x\"$version\" != x; then\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking GdkPixbuf version\" >&5\n$as_echo_n \"checking GdkPixbuf version... \" >&6; }\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $version\" >&5\n$as_echo \"$version\" >&6; }\n   set -- `echo \"$version\" | sed 's/[^0-9]/ /g'`\n   if test \"$1\" -ne \"2\" -o \"$2\" -lt \"0\" || test \"$2\" -eq \"0\" -a \"$3\" -lt \"0\"; then\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: GdkPixbuf is too old. Install GdkPixbuf (version >= 2.0.0)\" >&5\n$as_echo \"$as_me: WARNING: GdkPixbuf is too old. Install GdkPixbuf (version >= 2.0.0)\" >&2;}\n     have_gdkpixbuf=\"no\"; have_gtk2=\"no\"\n   else\n     have_gdkpixbuf=\"yes\"; have_gtk2=\"yes\"\n   fi\n else\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: GdkPixbuf is not installed.  Install GdkPixbuf (version >= 2.0.0)\" >&5\n$as_echo \"$as_me: WARNING: GdkPixbuf is not installed.  Install GdkPixbuf (version >= 2.0.0)\" >&2;}\n   have_gdkpixbuf=\"no\"; have_gtk2=\"no\"\n fi\n  fi\n  if test x\"$with_gdkpixbuf\" = xyes; then\n   if test x\"$have_gdkpixbuf\" != xyes; then\n    version=\"`$GDKPIXBUF_CONFIG --version 2>/dev/null`\"\n if test x\"$version\" != x; then\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking GdkPixbuf version\" >&5\n$as_echo_n \"checking GdkPixbuf version... \" >&6; }\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $version\" >&5\n$as_echo \"$version\" >&6; }\n   set -- `echo \"$version\" | sed 's/[^0-9]/ /g'`\n   if test \"$1\" -ne \"0\" -o \"$2\" -lt \"16\" || test \"$2\" -eq \"16\" -a \"$3\" -lt \"0\"; then\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: GdkPixbuf is too old. Install GdkPixbuf (version >= 0.16.0)\" >&5\n$as_echo \"$as_me: WARNING: GdkPixbuf is too old. Install GdkPixbuf (version >= 0.16.0)\" >&2;}\n     have_gdkpixbuf=\"no\"\n   else\n     have_gdkpixbuf=\"yes\"\n   fi\n else\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: GdkPixbuf is not installed.  Install GdkPixbuf (version >= 0.16.0)\" >&5\n$as_echo \"$as_me: WARNING: GdkPixbuf is not installed.  Install GdkPixbuf (version >= 0.16.0)\" >&2;}\n   have_gdkpixbuf=\"no\"\n fi\n   fi\n  fi\n  if test x\"$with_imlib\" = xyes; then\n   version=\"`$IMLIB_CONFIG --version 2>/dev/null`\"\n if test x\"$version\" != x; then\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking Imlib version\" >&5\n$as_echo_n \"checking Imlib version... \" >&6; }\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $version\" >&5\n$as_echo \"$version\" >&6; }\n   set -- `echo \"$version\" | sed 's/[^0-9]/ /g'`\n   if test \"$1\" -ne \"1\" -o \"$2\" -lt \"9\" || test \"$2\" -eq \"9\" -a \"$3\" -lt \"8\"; then\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: Imlib is too old. Install Imlib (version >= 1.9.8)\" >&5\n$as_echo \"$as_me: WARNING: Imlib is too old. Install Imlib (version >= 1.9.8)\" >&2;}\n     have_imlib=\"no\"\n   else\n     have_imlib=\"yes\"\n   fi\n else\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: Imlib is not installed.  Install Imlib (version >= 1.9.8)\" >&5\n$as_echo \"$as_me: WARNING: Imlib is not installed.  Install Imlib (version >= 1.9.8)\" >&2;}\n   have_imlib=\"no\"\n fi\n  fi\n  if test x\"$with_imlib2\" = xyes; then\n   version=\"`$IMLIB2_CONFIG --version 2>/dev/null`\"\n if test x\"$version\" != x; then\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking Imlib2 version\" >&5\n$as_echo_n \"checking Imlib2 version... \" >&6; }\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $version\" >&5\n$as_echo \"$version\" >&6; }\n   set -- `echo \"$version\" | sed 's/[^0-9]/ /g'`\n   if test \"$1\" -ne \"1\" -o \"$2\" -lt \"0\" || test \"$2\" -eq \"0\" -a \"$3\" -lt \"5\"; then\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: Imlib2 is too old. Install Imlib2 (version >= 1.0.5)\" >&5\n$as_echo \"$as_me: WARNING: Imlib2 is too old. Install Imlib2 (version >= 1.0.5)\" >&2;}\n     have_imlib2=\"no\"\n   else\n     have_imlib2=\"yes\"\n   fi\n else\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: Imlib2 is not installed.  Install Imlib2 (version >= 1.0.5)\" >&5\n$as_echo \"$as_me: WARNING: Imlib2 is not installed.  Install Imlib2 (version >= 1.0.5)\" >&2;}\n   have_imlib2=\"no\"\n fi\n  fi\n  if test x\"$x11\" = xyes; then\n   if test x\"$have_gtk2\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_X11 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS x11/x11_w3mimg.o\"\n     IMGTARGETS=\"x11\"\n     $as_echo \"#define USE_GDKPIXBUF 1\" >>confdefs.h\n\n     $as_echo \"#define USE_GTK2 1\" >>confdefs.h\n\n     IMGX11CFLAGS=\"`${PKG_CONFIG} --cflags gdk-pixbuf-2.0 gdk-pixbuf-xlib-2.0`\"\n     IMGX11LDFLAGS=\"-lX11 `${PKG_CONFIG} --libs gdk-pixbuf-2.0 gdk-pixbuf-xlib-2.0`\"\n   elif test x\"$have_gdkpixbuf\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_X11 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS x11/x11_w3mimg.o\"\n     IMGTARGETS=\"x11\"\n     $as_echo \"#define USE_GDKPIXBUF 1\" >>confdefs.h\n\n     IMGX11CFLAGS=\"`${GDKPIXBUF_CONFIG} --cflags`\"\n     IMGX11LDFLAGS=\"`${GDKPIXBUF_CONFIG} --libs` -lgdk_pixbuf_xlib\"\n   elif test x\"$have_imlib\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_X11 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS x11/x11_w3mimg.o\"\n     IMGTARGETS=\"x11\"\n     $as_echo \"#define USE_IMLIB 1\" >>confdefs.h\n\n     IMGX11CFLAGS=\"`${IMLIB_CONFIG} --cflags`\"\n     IMGX11LDFLAGS=\"`${IMLIB_CONFIG} --libs`\"\n     IMGTARGETS=\"x11\"\n   elif test x\"$have_imlib2\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_X11 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS x11/x11_w3mimg.o\"\n     IMGTARGETS=\"x11\"\n     $as_echo \"#define USE_IMLIB2 1\" >>confdefs.h\n\n     IMGX11CFLAGS=\"`${IMLIB2_CONFIG} --cflags`\"\n     IMGX11LDFLAGS=\"-lX11 `${PKG_CONFIG} --libs imlib2`\"\n   else\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: unable to build w3mimgdisplay with X11 support\" >&5\n$as_echo \"$as_me: WARNING: unable to build w3mimgdisplay with X11 support\" >&2;}\n   fi\n  fi\n  if test x\"$fb\" = xyes; then\n   if test x\"$have_gtk2\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_FB 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS fb/fb_w3mimg.o fb/fb.o fb/fb_img.o\"\n     IMGTARGETS=\"${IMGTARGETS} fb\"\n     $as_echo \"#define USE_GDKPIXBUF 1\" >>confdefs.h\n\n     $as_echo \"#define USE_GTK2 1\" >>confdefs.h\n\n     IMGFBCFLAGS=\"`${PKG_CONFIG} --cflags gdk-pixbuf-2.0`\"\n     IMGFBLDFLAGS=\"`${PKG_CONFIG} --libs gdk-pixbuf-2.0`\"\n   elif test x\"$have_gdkpixbuf\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_FB 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS fb/fb_w3mimg.o fb/fb.o fb/fb_img.o\"\n     IMGTARGETS=\"${IMGTARGETS} fb\"\n     $as_echo \"#define USE_GDKPIXBUF 1\" >>confdefs.h\n\n     IMGFBCFLAGS=\"`${GDKPIXBUF_CONFIG} --cflags`\"\n     IMGFBLDFLAGS=\"`${GDKPIXBUF_CONFIG} --libs`\"\n   elif test x\"$have_imlib2\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_FB 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS fb/fb_w3mimg.o fb/fb.o fb/fb_img.o\"\n     IMGTARGETS=\"${IMGTARGETS} fb\"\n     $as_echo \"#define USE_IMLIB2 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS fb/fb_w3mimg.o fb/fb.o fb/fb_img.o\"\n     IMGFBCFLAGS=\"`${IMLIB2_CONFIG} --cflags`\"\n     IMGFBLDFLAGS=\"`${PKG_CONFIG} --libs imlib2`\"\n   else\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: unable to build w3mimgdisplay with FB support\" >&5\n$as_echo \"$as_me: WARNING: unable to build w3mimgdisplay with FB support\" >&2;}\n   fi\n  fi\n  if test x\"$win\" = xyes; then\n    $as_echo \"#define USE_W3MIMG_WIN 1\" >>confdefs.h\n\n    IMGOBJS=\"$IMGOBJS win/win_w3mimg.o\"\n    IMGTARGETS=\"${IMGTARGETS} win\"\n    IMGWINCFLAGS=\"-I/usr/include/w32api\"\n    IMGWINLDFLAGS=\"-lgdiplus -lgdi32 -luser32\"\n    IMGLINK='$(CXX)'\n  fi\n  $as_echo \"#define IMGTARGETS \\\"\\$IMGTARGETS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGOBJS \\\"\\$IMGOBJS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGX11CFLAGS \\\"\\$IMGX11CFLAGS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGX11LDFLAGS \\\"\\$IMGX11LDFLAGS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGFBCFLAGS \\\"\\$IMGFBCFLAGS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGFBLDFLAGS \\\"\\$IMGFBLDFLAGS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGLINK \\\"\\$IMGLINK\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGWINCFLAGS \\\"\\$IMGWINCFLAGS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGWINLDFLAGS \\\"\\$IMGWINLDFLAGS\\\"\" >>confdefs.h\n\n fi\nif test x\"$enable_image\" != xno; then\n AUXBIN_TARGETS=\"$AUXBIN_TARGETS w3mimgdisplay\\$(EXT)\"\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if xface is enabled\" >&5\n$as_echo_n \"checking if xface is enabled... \" >&6; }\n # Check whether --enable-xface was given.\nif test \"${enable_xface+set}\" = set; then :\n  enableval=$enable_xface;\nelse\n  enable_xface=\"$enable_image\"\nfi\n\n test x\"$enable_xface\" = xyes && $as_echo \"#define USE_XFACE 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_xface\" >&5\n$as_echo \"$enable_xface\" >&6; }\n # Extract the first word of \"uncompface\", so it can be a program name with args.\nset dummy uncompface; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_uncompface+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$uncompface\"; then\n  ac_cv_prog_uncompface=\"$uncompface\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_uncompface=\"\"yes\"\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  test -z \"$ac_cv_prog_uncompface\" && ac_cv_prog_uncompface=\"\"no\"\"\nfi\nfi\nuncompface=$ac_cv_prog_uncompface\nif test -n \"$uncompface\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $uncompface\" >&5\n$as_echo \"$uncompface\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n test \"$uncompface\" = \"no\" && { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: uncompface is not installed.\" >&5\n$as_echo \"$as_me: WARNING: uncompface is not installed.\" >&2;}\n\nfi\n\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking default keymap\" >&5\n$as_echo_n \"checking default keymap... \" >&6; }\n # Check whether --enable-keymap was given.\nif test \"${enable_keymap+set}\" = set; then :\n  enableval=$enable_keymap;\nelse\n  enable_keymap=\"w3m\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_keymap\" >&5\n$as_echo \"$enable_keymap\" >&6; }\n case x\"$enable_keymap\" in\n xw3m)\n  KEYMAP_FILE=\"keybind\";;\n xlynx)\n  KEYMAP_FILE=\"keybind_lynx\";;\n *)\n  as_fn_error $? \"keymap should be either w3m or lynx.\" \"$LINENO\" 5 ;;\n esac\n\n HELP_FILE=w3mhelp-${enable_keymap}_$w3m_lang.html\n cat >>confdefs.h <<_ACEOF\n#define HELP_FILE \"$HELP_FILE\"\n_ACEOF\n\n\n cat >>confdefs.h <<_ACEOF\n#define KEYBIND $enable_keymap\n_ACEOF\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if popup menu is enabled\" >&5\n$as_echo_n \"checking if popup menu is enabled... \" >&6; }\n# Check whether --enable-menu was given.\nif test \"${enable_menu+set}\" = set; then :\n  enableval=$enable_menu;\nelse\n  enable_menu=\"yes\"\nfi\n\n test x\"$enable_menu\" = xyes && $as_echo \"#define USE_MENU 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_menu\" >&5\n$as_echo \"$enable_menu\" >&6; }\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if mouse operation enabled\" >&5\n$as_echo_n \"checking if mouse operation enabled... \" >&6; }\n# Check whether --enable-mouse was given.\nif test \"${enable_mouse+set}\" = set; then :\n  enableval=$enable_mouse;\nelse\n  enable_mouse=\"yes\"\nfi\n\ntest x\"$enable_mouse\" = xyes && $as_echo \"#define USE_MOUSE 1\" >>confdefs.h\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_mouse\" >&5\n$as_echo \"$enable_mouse\" >&6; }\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if URL history is enabled\" >&5\n$as_echo_n \"checking if URL history is enabled... \" >&6; }\n# Check whether --enable-history was given.\nif test \"${enable_history+set}\" = set; then :\n  enableval=$enable_history;\nelse\n  enable_history=\"yes\"\nfi\n\n test x\"$enable_history\" = xyes && $as_echo \"#define USE_HISTORY 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_history\" >&5\n$as_echo \"$enable_history\" >&6; }\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if alarm is enabled\" >&5\n$as_echo_n \"checking if alarm is enabled... \" >&6; }\n # Check whether --enable-alarm was given.\nif test \"${enable_alarm+set}\" = set; then :\n  enableval=$enable_alarm;\nelse\n  enable_alarm=\"yes\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_alarm\" >&5\n$as_echo \"$enable_alarm\" >&6; }\n if test x\"$enable_alarm\" = xyes; then\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <unistd.h>\n#include <signal.h>\nint\nmain ()\n{\nint sa = SIGALRM;\n     void (*a) = alarm;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  $as_echo \"#define USE_ALARM 1\" >>confdefs.h\n\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n fi\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if cookie is enabled\" >&5\n$as_echo_n \"checking if cookie is enabled... \" >&6; }\n# Check whether --enable-cookie was given.\nif test \"${enable_cookie+set}\" = set; then :\n  enableval=$enable_cookie;\nelse\n  enable_cookie=\"yes\"\nfi\n\ntest x\"$enable_cookie\" = xyes && $as_echo \"#define USE_COOKIE 1\" >>confdefs.h\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_cookie\" >&5\n$as_echo \"$enable_cookie\" >&6; }\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if nntp is enabled\" >&5\n$as_echo_n \"checking if nntp is enabled... \" >&6; }\n # Check whether --enable-nntp was given.\nif test \"${enable_nntp+set}\" = set; then :\n  enableval=$enable_nntp;\nelse\n  enable_nntp=\"yes\"\nfi\n\n test x\"$enable_nntp\" = xyes && $as_echo \"#define USE_NNTP 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_nntp\" >&5\n$as_echo \"$enable_nntp\" >&6; }\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if gopher is enabled\" >&5\n$as_echo_n \"checking if gopher is enabled... \" >&6; }\n # Check whether --enable-gopher was given.\nif test \"${enable_gopher+set}\" = set; then :\n  enableval=$enable_gopher;\nelse\n  enable_gopher=\"no\"\nfi\n\n test x\"$enable_gopher\" = xyes &&  $as_echo \"#define USE_GOPHER 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_gopher\" >&5\n$as_echo \"$enable_gopher\" >&6; }\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if dictionary lookup is enabled\" >&5\n$as_echo_n \"checking if dictionary lookup is enabled... \" >&6; }\n# Check whether --enable-dict was given.\nif test \"${enable_dict+set}\" = set; then :\n  enableval=$enable_dict;\nelse\n  enable_dict=\"yes\"\nfi\n\n test x\"$enable_dict\" = xyes && $as_echo \"#define USE_DICT 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_dict\" >&5\n$as_echo \"$enable_dict\" >&6; }\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if help cgi is enabled\" >&5\n$as_echo_n \"checking if help cgi is enabled... \" >&6; }\n # Check whether --enable-help_cgi was given.\nif test \"${enable_help_cgi+set}\" = set; then :\n  enableval=$enable_help_cgi;\nelse\n  enable_help_cgi=\"yes\"\nfi\n\n test x\"$enable_help_cgi\" = xyes && $as_echo \"#define USE_HELP_CGI 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_help_cgi\" >&5\n$as_echo \"$enable_help_cgi\" >&6; }\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if external URI loader is enabled\" >&5\n$as_echo_n \"checking if external URI loader is enabled... \" >&6; }\n # Check whether --enable-external_uri_loader was given.\nif test \"${enable_external_uri_loader+set}\" = set; then :\n  enableval=$enable_external_uri_loader;\nelse\n  enable_external_uri_loader=\"yes\"\nfi\n\n test x\"$enable_external_uri_loader\" = xyes && $as_echo \"#define USE_EXTERNAL_URI_LOADER 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_external_uri_loader\" >&5\n$as_echo \"$enable_external_uri_loader\" >&6; }\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if w3mmail is used\" >&5\n$as_echo_n \"checking if w3mmail is used... \" >&6; }\n # Check whether --enable-w3mmailer was given.\nif test \"${enable_w3mmailer+set}\" = set; then :\n  enableval=$enable_w3mmailer;\nelse\n  enable_w3mmailer=\"$enable_external_uri_loader\"\nfi\n\n test x\"$enable_external_uri_loader\" = xno && enable_w3mmailer=no\n test x\"$enable_w3mmailer\" = xyes && $as_echo \"#define USE_W3MMAILER 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_w3mmailer\" >&5\n$as_echo \"$enable_w3mmailer\" >&6; }\n\n\n migemo_command=\"migemo -t egrep /usr/local/share/migemo/migemo-dict\"\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if migemo is supported with\" >&5\n$as_echo_n \"checking if migemo is supported with... \" >&6; }\n\n# Check whether --with-migemo was given.\nif test \"${with_migemo+set}\" = set; then :\n  withval=$with_migemo; test x\"$with_migemo\" = xyes || migemo_command=\"$with_migemo\"\nfi\n\n if test \"${with_migemo+set}\" = set -a \"$with_migemo\" != \"no\"; then\n   $as_echo \"#define USE_MIGEMO 1\" >>confdefs.h\n\n fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $migemo_command\" >&5\n$as_echo \"$migemo_command\" >&6; }\n cat >>confdefs.h <<_ACEOF\n#define DEF_MIGEMO_COMMAND \"$migemo_command\"\n_ACEOF\n\n\nw3m_editor=\"/usr/bin/vi\"\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking which editor is used by default\" >&5\n$as_echo_n \"checking which editor is used by default... \" >&6; }\n\n# Check whether --with-editor was given.\nif test \"${with_editor+set}\" = set; then :\n  withval=$with_editor; w3m_editor=\"$with_editor\"\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $w3m_editor\" >&5\n$as_echo \"$w3m_editor\" >&6; }\ncat >>confdefs.h <<_ACEOF\n#define DEF_EDITOR \"$w3m_editor\"\n_ACEOF\n\n\nw3m_mailer=\"/usr/bin/mail\"\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking which mailer is used by default\" >&5\n$as_echo_n \"checking which mailer is used by default... \" >&6; }\n\n# Check whether --with-mailer was given.\nif test \"${with_mailer+set}\" = set; then :\n  withval=$with_mailer; w3m_mailer=\"$with_mailer\"\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $w3m_mailer\" >&5\n$as_echo \"$w3m_mailer\" >&6; }\ncat >>confdefs.h <<_ACEOF\n#define DEF_MAILER \"$w3m_mailer\"\n_ACEOF\n\n\nw3m_browser=\"/usr/bin/firefox\"\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking which external browser is used by default\" >&5\n$as_echo_n \"checking which external browser is used by default... \" >&6; }\n\n# Check whether --with-browser was given.\nif test \"${with_browser+set}\" = set; then :\n  withval=$with_browser; w3m_browser=\"$with_browser\"\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $w3m_browser\" >&5\n$as_echo \"$w3m_browser\" >&6; }\ncat >>confdefs.h <<_ACEOF\n#define DEF_EXT_BROWSER \"$w3m_browser\"\n_ACEOF\n\n\nfor lib in bsd BSD 44bsd socket nsl dld dl\ndo\n lib=$lib\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for -l$lib\" >&5\n$as_echo_n \"checking for -l$lib... \" >&6; }\n extlib=\"not found\"\n for dir in /lib /usr/lib /usr/local/lib /usr/ucblib /usr/ccslib /usr/ccs/lib /lib64 /usr/lib64\n do\n   if test -f $dir/lib$lib.a -o -f $dir/lib$lib.so ; then\n    LIBS=\"$LIBS -l$lib\"\n    extlib=\"found at $dir\"\n    break\n   fi\n done\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $extlib\" >&5\n$as_echo \"$extlib\" >&6; }\ndone\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if IPv6 support is enabled\" >&5\n$as_echo_n \"checking if IPv6 support is enabled... \" >&6; }\n# Check whether --enable-ipv6 was given.\nif test \"${enable_ipv6+set}\" = set; then :\n  enableval=$enable_ipv6;\nelse\n  enable_ipv6=\"yes\"\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_ipv6\" >&5\n$as_echo \"$enable_ipv6\" >&6; }\n\nif test x\"$enable_ipv6\" = xyes; then\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if IPv6 API available\" >&5\n$as_echo_n \"checking if IPv6 API available... \" >&6; }\n\n ac_fn_c_check_func \"$LINENO\" \"getaddrinfo\" \"ac_cv_func_getaddrinfo\"\nif test \"x$ac_cv_func_getaddrinfo\" = x\"\"yes; then :\n  enable_ipv6=\"yes\"\nelse\n  enable_ipv6=\"no\"\nfi\n\n if test x\"$enable_ipv6\" = xno; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for libinet6\" >&5\n$as_echo_n \"checking for libinet6... \" >&6; }\n    for dir in /usr/local/v6/lib /usr/local/lib /usr/lib\n    do\n\tif test -f $dir/libinet6.a; then\n\t  if test $dir != \"/usr/lib\"; then\n\t\tW3M_LIBS=\"$W3M_LIBS -L$dir\"\n\t  fi\n\t  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for getaddrinfo in -linet6\" >&5\n$as_echo_n \"checking for getaddrinfo in -linet6... \" >&6; }\nif test \"${ac_cv_lib_inet6_getaddrinfo+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-linet6  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar getaddrinfo ();\nint\nmain ()\n{\nreturn getaddrinfo ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_inet6_getaddrinfo=yes\nelse\n  ac_cv_lib_inet6_getaddrinfo=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_inet6_getaddrinfo\" >&5\n$as_echo \"$ac_cv_lib_inet6_getaddrinfo\" >&6; }\nif test \"x$ac_cv_lib_inet6_getaddrinfo\" = x\"\"yes; then :\n  enable_ipv6=\"yes\"\n\t         use_libinet6=\"found\"; W3M_LIBS=\"$W3M_LIBS -linet6\"; break\nelse\n  use_libinet6=\"not found\"\nfi\n\n\tfi\n    done\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $use_libinet6\" >&5\n$as_echo \"$use_libinet6\" >&6; }\n fi\n if test x\"$enable_ipv6\" = xyes; then\n\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if struct sockaddr_storage has an ss_family member\" >&5\n$as_echo_n \"checking if struct sockaddr_storage has an ss_family member... \" >&6; }\n    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n#include <sys/types.h>\n#include <sys/socket.h>\n\nint\nmain ()\n{\n\n\tstruct sockaddr_storage ss;\n\tint i = ss.ss_family;\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n$as_echo \"yes\" >&6; }\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n#include <sys/types.h>\n#include <sys/socket.h>\n\nint\nmain ()\n{\n\n\tstruct sockaddr_storage ss;\n\tint i = ss.__ss_family;\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n\t $as_echo \"#define HAVE_OLD_SS_FAMILY 1\" >>confdefs.h\n\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n\t { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: IPv6 support is disabled\" >&5\n$as_echo \"$as_me: WARNING: IPv6 support is disabled\" >&2;}\n\t enable_ipv6=\"no\"\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n fi\n if test x\"$enable_ipv6\" = xyes; then\n    $as_echo \"#define INET6 1\" >>confdefs.h\n\n fi\nfi\n\n\n\n\n\n\nif test \"x$ac_cv_env_PKG_CONFIG_set\" != \"xset\"; then\n\tif test -n \"$ac_tool_prefix\"; then\n  # Extract the first word of \"${ac_tool_prefix}pkg-config\", so it can be a program name with args.\nset dummy ${ac_tool_prefix}pkg-config; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_PKG_CONFIG+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case $PKG_CONFIG in\n  [\\\\/]* | ?:[\\\\/]*)\n  ac_cv_path_PKG_CONFIG=\"$PKG_CONFIG\" # Let the user override the test with a path.\n  ;;\n  *)\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_path_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  ;;\nesac\nfi\nPKG_CONFIG=$ac_cv_path_PKG_CONFIG\nif test -n \"$PKG_CONFIG\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $PKG_CONFIG\" >&5\n$as_echo \"$PKG_CONFIG\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\nfi\nif test -z \"$ac_cv_path_PKG_CONFIG\"; then\n  ac_pt_PKG_CONFIG=$PKG_CONFIG\n  # Extract the first word of \"pkg-config\", so it can be a program name with args.\nset dummy pkg-config; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_ac_pt_PKG_CONFIG+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case $ac_pt_PKG_CONFIG in\n  [\\\\/]* | ?:[\\\\/]*)\n  ac_cv_path_ac_pt_PKG_CONFIG=\"$ac_pt_PKG_CONFIG\" # Let the user override the test with a path.\n  ;;\n  *)\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_path_ac_pt_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  ;;\nesac\nfi\nac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG\nif test -n \"$ac_pt_PKG_CONFIG\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_pt_PKG_CONFIG\" >&5\n$as_echo \"$ac_pt_PKG_CONFIG\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n  if test \"x$ac_pt_PKG_CONFIG\" = x; then\n    PKG_CONFIG=\"\"\n  else\n    case $cross_compiling:$ac_tool_warned in\nyes:)\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\nac_tool_warned=yes ;;\nesac\n    PKG_CONFIG=$ac_pt_PKG_CONFIG\n  fi\nelse\n  PKG_CONFIG=\"$ac_cv_path_PKG_CONFIG\"\nfi\n\nfi\nif test -n \"$PKG_CONFIG\"; then\n\t_pkg_min_version=0.9.0\n\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking pkg-config is at least version $_pkg_min_version\" >&5\n$as_echo_n \"checking pkg-config is at least version $_pkg_min_version... \" >&6; }\n\tif $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then\n\t\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n$as_echo \"yes\" >&6; }\n\telse\n\t\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n\t\tPKG_CONFIG=\"\"\n\tfi\nfi\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if SSL is suported\" >&5\n$as_echo_n \"checking if SSL is suported... \" >&6; }\n\n# Check whether --with-ssl was given.\nif test \"${with_ssl+set}\" = set; then :\n  withval=$with_ssl;\nelse\n  with_ssl=\"yes\"\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_ssl\" >&5\n$as_echo \"$with_ssl\" >&6; }\nif test x\"$with_ssl\" != xno; then\n\npkg_failed=no\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for SSL\" >&5\n$as_echo_n \"checking for SSL... \" >&6; }\n\nif test -n \"$SSL_CFLAGS\"; then\n    pkg_cv_SSL_CFLAGS=\"$SSL_CFLAGS\"\n elif test -n \"$PKG_CONFIG\"; then\n    if test -n \"$PKG_CONFIG\" && \\\n    { { $as_echo \"$as_me:${as_lineno-$LINENO}: \\$PKG_CONFIG --exists --print-errors \\\"openssl\\\"\"; } >&5\n  ($PKG_CONFIG --exists --print-errors \"openssl\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; then\n  pkg_cv_SSL_CFLAGS=`$PKG_CONFIG --cflags \"openssl\" 2>/dev/null`\nelse\n  pkg_failed=yes\nfi\n else\n    pkg_failed=untried\nfi\nif test -n \"$SSL_LIBS\"; then\n    pkg_cv_SSL_LIBS=\"$SSL_LIBS\"\n elif test -n \"$PKG_CONFIG\"; then\n    if test -n \"$PKG_CONFIG\" && \\\n    { { $as_echo \"$as_me:${as_lineno-$LINENO}: \\$PKG_CONFIG --exists --print-errors \\\"openssl\\\"\"; } >&5\n  ($PKG_CONFIG --exists --print-errors \"openssl\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; then\n  pkg_cv_SSL_LIBS=`$PKG_CONFIG --libs \"openssl\" 2>/dev/null`\nelse\n  pkg_failed=yes\nfi\n else\n    pkg_failed=untried\nfi\n\n\n\nif test $pkg_failed = yes; then\n   \t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n\nif $PKG_CONFIG --atleast-pkgconfig-version 0.20; then\n        _pkg_short_errors_supported=yes\nelse\n        _pkg_short_errors_supported=no\nfi\n        if test $_pkg_short_errors_supported = yes; then\n\t        SSL_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors \"openssl\" 2>&1`\n        else\n\t        SSL_PKG_ERRORS=`$PKG_CONFIG --print-errors \"openssl\" 2>&1`\n        fi\n\t# Put the nasty error message in config.log where it belongs\n\techo \"$SSL_PKG_ERRORS\" >&5\n\n\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for SSL library/header\" >&5\n$as_echo_n \"checking for SSL library/header... \" >&6; }\n    test x\"$with_ssl\" = xyes && with_ssl=\"/usr/openssl /usr/ssl /usr /usr/local/openssl /usr/local/ssl /usr/local\"\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_ssl\" >&5\n$as_echo \"$with_ssl\" >&6; }\n    for dir in $with_ssl\n    do\n       if test -f \"$dir/include/openssl/ssl.h\"; then\n          SSL_CFLAGS=\"$SSL_CFLAGS -I$dir/include/openssl\"\n          if test \"$dir\" != \"/usr\"; then\n             SSL_CFLAGS=\"$SSL_CFLAGS -I$dir/include\"\n          fi\n       elif test \"$dir\" != \"/usr\" -a -f \"$dir/include/ssl.h\"; then\n          SSL_CFLAGS=\"$SSL_CFLAGS -I$dir/include\"\n       fi\n       if test \"$dir\" != \"/usr\" -a -f \"$dir/lib/libssl.a\"; then\n\t  SSL_LIBS=\"$SSL_LIBS -L$dir/lib\"\n       fi\n    done\n\nelif test $pkg_failed = untried; then\n     \t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for SSL library/header\" >&5\n$as_echo_n \"checking for SSL library/header... \" >&6; }\n    test x\"$with_ssl\" = xyes && with_ssl=\"/usr/openssl /usr/ssl /usr /usr/local/openssl /usr/local/ssl /usr/local\"\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_ssl\" >&5\n$as_echo \"$with_ssl\" >&6; }\n    for dir in $with_ssl\n    do\n       if test -f \"$dir/include/openssl/ssl.h\"; then\n          SSL_CFLAGS=\"$SSL_CFLAGS -I$dir/include/openssl\"\n          if test \"$dir\" != \"/usr\"; then\n             SSL_CFLAGS=\"$SSL_CFLAGS -I$dir/include\"\n          fi\n       elif test \"$dir\" != \"/usr\" -a -f \"$dir/include/ssl.h\"; then\n          SSL_CFLAGS=\"$SSL_CFLAGS -I$dir/include\"\n       fi\n       if test \"$dir\" != \"/usr\" -a -f \"$dir/lib/libssl.a\"; then\n\t  SSL_LIBS=\"$SSL_LIBS -L$dir/lib\"\n       fi\n    done\n\nelse\n\tSSL_CFLAGS=$pkg_cv_SSL_CFLAGS\n\tSSL_LIBS=$pkg_cv_SSL_LIBS\n        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n$as_echo \"yes\" >&6; }\n\nfi\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for SSL_new in -lssl\" >&5\n$as_echo_n \"checking for SSL_new in -lssl... \" >&6; }\nif test \"${ac_cv_lib_ssl_SSL_new+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lssl $SSL_LIBS -lcrypto $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar SSL_new ();\nint\nmain ()\n{\nreturn SSL_new ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_ssl_SSL_new=yes\nelse\n  ac_cv_lib_ssl_SSL_new=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ssl_SSL_new\" >&5\n$as_echo \"$ac_cv_lib_ssl_SSL_new\" >&6; }\nif test \"x$ac_cv_lib_ssl_SSL_new\" = x\"\"yes; then :\n  w3m_ssl=\"found\"; CFLAGS=\"$CFLAGS $SSL_CFLAGS\" W3M_LIBS=\"$W3M_LIBS $SSL_LIBS -lssl -lcrypto\"\nelse\n  w3m_ssl=\"not found\"\nfi\n\n\n  if test x\"$w3m_ssl\" = xfound; then\n    $as_echo \"#define USE_SSL 1\" >>confdefs.h\n\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if SSL certificate verify is enabled\" >&5\n$as_echo_n \"checking if SSL certificate verify is enabled... \" >&6; }\n    # Check whether --enable-sslverify was given.\nif test \"${enable_sslverify+set}\" = set; then :\n  enableval=$enable_sslverify;\nelse\n  enable_sslverify=\"yes\"\nfi\n\n    test x\"$enable_sslverify\" = xyes && $as_echo \"#define USE_SSL_VERIFY 1\" >>confdefs.h\n\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_sslverify\" >&5\n$as_echo \"$enable_sslverify\" >&6; }\n  fi\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if digest auth is enabled\" >&5\n$as_echo_n \"checking if digest auth is enabled... \" >&6; }\n# Check whether --enable-digest_auth was given.\nif test \"${enable_digest_auth+set}\" = set; then :\n  enableval=$enable_digest_auth;\nelse\n  enable_digest_auth=\"yes\"\nfi\n\nif test x\"$enable_digest_auth\" = xyes -a x\"$w3m_ssl\" = xfound; then\n  $as_echo \"#define USE_DIGEST_AUTH 1\" >>confdefs.h\n\nelse\n  enable_digest_auth=\"no\"\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_digest_auth\" >&5\n$as_echo \"$enable_digest_auth\" >&6; }\n\n\nac_fn_c_check_func \"$LINENO\" \"sqrt\" \"ac_cv_func_sqrt\"\nif test \"x$ac_cv_func_sqrt\" = x\"\"yes; then :\n\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for sqrt in -lm\" >&5\n$as_echo_n \"checking for sqrt in -lm... \" >&6; }\nif test \"${ac_cv_lib_m_sqrt+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lm  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar sqrt ();\nint\nmain ()\n{\nreturn sqrt ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_m_sqrt=yes\nelse\n  ac_cv_lib_m_sqrt=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_m_sqrt\" >&5\n$as_echo \"$ac_cv_lib_m_sqrt\" >&6; }\nif test \"x$ac_cv_lib_m_sqrt\" = x\"\"yes; then :\n  cat >>confdefs.h <<_ACEOF\n#define HAVE_LIBM 1\n_ACEOF\n\n  LIBS=\"-lm $LIBS\"\n\nfi\n\nfi\n\nif test x\"$enable_mouse\" = xyes; then\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for Gpm_Open in -lgpm\" >&5\n$as_echo_n \"checking for Gpm_Open in -lgpm... \" >&6; }\nif test \"${ac_cv_lib_gpm_Gpm_Open+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lgpm  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar Gpm_Open ();\nint\nmain ()\n{\nreturn Gpm_Open ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_gpm_Gpm_Open=yes\nelse\n  ac_cv_lib_gpm_Gpm_Open=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gpm_Gpm_Open\" >&5\n$as_echo \"$ac_cv_lib_gpm_Gpm_Open\" >&6; }\nif test \"x$ac_cv_lib_gpm_Gpm_Open\" = x\"\"yes; then :\n  $as_echo \"#define USE_GPM 1\" >>confdefs.h\n\n   \t\tW3M_LIBS=\"$W3M_LIBS -lgpm\"\nfi\n\n\n cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <sys/consio.h>\n   MOUSE_GETINFO\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n  $as_echo \"#define USE_SYSMOUSE 1\" >>confdefs.h\n\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <machine/console.h>\n      MOUSE_GETINFO\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n  $as_echo \"#define USE_SYSMOUSE 1\" >>confdefs.h\n\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking terminal library\" >&5\n$as_echo_n \"checking terminal library... \" >&6; }\n\n# Check whether --with-termlib was given.\nif test \"${with_termlib+set}\" = set; then :\n  withval=$with_termlib;\nelse\n  with_termlib=\"yes\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_termlib\" >&5\n$as_echo \"$with_termlib\" >&6; }\n test x\"$with_termlib\" = xyes && with_termlib=\"terminfo mytinfo termlib termcap tinfo ncurses curses\"\n for lib in $with_termlib; do\n   as_ac_Lib=`$as_echo \"ac_cv_lib_$lib''_tgetent\" | $as_tr_sh`\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for tgetent in -l$lib\" >&5\n$as_echo_n \"checking for tgetent in -l$lib... \" >&6; }\nif eval \"test \\\"\\${$as_ac_Lib+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-l$lib  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar tgetent ();\nint\nmain ()\n{\nreturn tgetent ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  eval \"$as_ac_Lib=yes\"\nelse\n  eval \"$as_ac_Lib=no\"\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\neval ac_res=\\$$as_ac_Lib\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\nif eval test \\\"x\\$\"$as_ac_Lib\"\\\" = x\"yes\"; then :\n  W3M_LIBS=\"$W3M_LIBS -l$lib\"; break\nfi\n\n done\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ANSI C header files\" >&5\n$as_echo_n \"checking for ANSI C header files... \" >&6; }\nif test \"${ac_cv_header_stdc+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdlib.h>\n#include <stdarg.h>\n#include <string.h>\n#include <float.h>\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_header_stdc=yes\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n\nif test $ac_cv_header_stdc = yes; then\n  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <string.h>\n\n_ACEOF\nif (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n  $EGREP \"memchr\" >/dev/null 2>&1; then :\n\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f conftest*\n\nfi\n\nif test $ac_cv_header_stdc = yes; then\n  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdlib.h>\n\n_ACEOF\nif (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n  $EGREP \"free\" >/dev/null 2>&1; then :\n\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f conftest*\n\nfi\n\nif test $ac_cv_header_stdc = yes; then\n  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n  if test \"$cross_compiling\" = yes; then :\n  :\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <ctype.h>\n#include <stdlib.h>\n#if ((' ' & 0x0FF) == 0x020)\n# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n#else\n# define ISLOWER(c) \\\n\t\t   (('a' <= (c) && (c) <= 'i') \\\n\t\t     || ('j' <= (c) && (c) <= 'r') \\\n\t\t     || ('s' <= (c) && (c) <= 'z'))\n# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))\n#endif\n\n#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\nint\nmain ()\n{\n  int i;\n  for (i = 0; i < 256; i++)\n    if (XOR (islower (i), ISLOWER (i))\n\t|| toupper (i) != TOUPPER (i))\n      return 2;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_run \"$LINENO\"; then :\n\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n  conftest.$ac_objext conftest.beam conftest.$ac_ext\nfi\n\nfi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc\" >&5\n$as_echo \"$ac_cv_header_stdc\" >&6; }\nif test $ac_cv_header_stdc = yes; then\n\n$as_echo \"#define STDC_HEADERS 1\" >>confdefs.h\n\nfi\n\n# On IRIX 5.3, sys/types and inttypes.h are conflicting.\nfor ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \\\n\t\t  inttypes.h stdint.h unistd.h\ndo :\n  as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\nac_fn_c_check_header_compile \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\n\"\nif eval test \\\"x\\$\"$as_ac_Header\"\\\" = x\"yes\"; then :\n  cat >>confdefs.h <<_ACEOF\n#define `$as_echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n_ACEOF\n\nfi\n\ndone\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking GC library exists\" >&5\n$as_echo_n \"checking GC library exists... \" >&6; }\n\n\n# Check whether --with-gc was given.\nif test \"${with_gc+set}\" = set; then :\n  withval=$with_gc; test x\"$with_gc\" = xno && as_fn_error $? \"You can not build w3m without gc\" \"$LINENO\" 5\nelse\n  with_gc=\"yes\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_gc\" >&5\n$as_echo \"$with_gc\" >&6; }\n test x\"$with_gc\" = xyes && with_gc=\"/usr /usr/local ${HOME}\"\n unset ac_cv_header_gc_h\n ac_fn_c_check_header_mongrel \"$LINENO\" \"gc.h\" \"ac_cv_header_gc_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_gc_h\" = x\"\"yes; then :\n\nfi\n\n\n if test x\"$ac_cv_header_gc_h\" = xno; then\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking GC header location\" >&5\n$as_echo_n \"checking GC header location... \" >&6; }\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_gc\" >&5\n$as_echo \"$with_gc\" >&6; }\n   gcincludedir=no\n   for dir in $with_gc; do\n     for inc in include include/gc; do\n       cppflags=\"$CPPFLAGS\"\n       CPPFLAGS=\"$CPPFLAGS -I$dir/$inc\"\n       { $as_echo \"$as_me:${as_lineno-$LINENO}: checking $dir/$inc\" >&5\n$as_echo_n \"checking $dir/$inc... \" >&6; }\n       unset ac_cv_header_gc_h\n       ac_fn_c_check_header_mongrel \"$LINENO\" \"gc.h\" \"ac_cv_header_gc_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_gc_h\" = x\"\"yes; then :\n  gcincludedir=\"$dir/$inc\"; CFLAGS=\"$CFLAGS -I$dir/$inc\"; break\nfi\n\n\n       CPPFLAGS=\"$cppflags\"\n     done\n     if test x\"$gcincludedir\" != xno; then\n       break;\n     fi\n   done\n   if test x\"$gcincludedir\" = xno; then\n     as_fn_error $? \"gc.h not found\" \"$LINENO\" 5\n   fi\n fi\n unset ac_cv_lib_gc_GC_init\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for GC_init in -lgc\" >&5\n$as_echo_n \"checking for GC_init in -lgc... \" >&6; }\nif test \"${ac_cv_lib_gc_GC_init+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lgc  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar GC_init ();\nint\nmain ()\n{\nreturn GC_init ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_gc_GC_init=yes\nelse\n  ac_cv_lib_gc_GC_init=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gc_GC_init\" >&5\n$as_echo \"$ac_cv_lib_gc_GC_init\" >&6; }\nif test \"x$ac_cv_lib_gc_GC_init\" = x\"\"yes; then :\n  LIBGC=\"-lgc\"\nfi\n\n if test x\"$ac_cv_lib_gc_GC_init\" = xno; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking GC library location\" >&5\n$as_echo_n \"checking GC library location... \" >&6; }\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_gc\" >&5\n$as_echo \"$with_gc\" >&6; }\n    gclibdir=no\n    for dir in $with_gc; do\n      ldflags=\"$LDFLAGS\"\n      LDFLAGS=\"$LDFLAGS -L$dir/lib\"\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: checking $dir\" >&5\n$as_echo_n \"checking $dir... \" >&6; }\n      unset ac_cv_lib_gc_GC_init\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for GC_init in -lgc\" >&5\n$as_echo_n \"checking for GC_init in -lgc... \" >&6; }\nif test \"${ac_cv_lib_gc_GC_init+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lgc  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar GC_init ();\nint\nmain ()\n{\nreturn GC_init ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_gc_GC_init=yes\nelse\n  ac_cv_lib_gc_GC_init=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gc_GC_init\" >&5\n$as_echo \"$ac_cv_lib_gc_GC_init\" >&6; }\nif test \"x$ac_cv_lib_gc_GC_init\" = x\"\"yes; then :\n  gclibdir=\"$dir/lib\"; LIBGC=\"-L$dir/lib -lgc\"; break\nfi\n\n      LDFLAGS=\"$ldflags\"\n    done\n    if test x\"$gclibdir\" = xno; then\n      as_fn_error $? \"libgc not found\" \"$LINENO\" 5\n    fi\n fi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for zError in -lz\" >&5\n$as_echo_n \"checking for zError in -lz... \" >&6; }\nif test \"${ac_cv_lib_z_zError+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lz  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar zError ();\nint\nmain ()\n{\nreturn zError ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_z_zError=yes\nelse\n  ac_cv_lib_z_zError=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_z_zError\" >&5\n$as_echo \"$ac_cv_lib_z_zError\" >&6; }\nif test \"x$ac_cv_lib_z_zError\" = x\"\"yes; then :\n  AUXBIN_TARGETS=\"$AUXBIN_TARGETS inflate\\$(EXT)\"\nfi\n\n\nac_fn_c_check_type \"$LINENO\" \"socklen_t\" \"ac_cv_type_socklen_t\" \"#include <sys/types.h>\n\t  #include <sys/socket.h>\n\"\nif test \"x$ac_cv_type_socklen_t\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_SOCKLEN_T 1\" >>confdefs.h\n\nfi\n\n\n$as_echo \"#define AUXBIN_TARGETS \\\"\\$AUXBIN_TARGETS\\\"\" >>confdefs.h\n\n\n\ncase \"$host_os\" in\n  *cygwin*|*os2-emx*|*mingw*)\n    $as_echo \"#define USE_BINMODE_STREAM 1\" >>confdefs.h\n\n    ;;\nesac\n\nac_header_dirent=no\nfor ac_hdr in dirent.h sys/ndir.h sys/dir.h ndir.h; do\n  as_ac_Header=`$as_echo \"ac_cv_header_dirent_$ac_hdr\" | $as_tr_sh`\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_hdr that defines DIR\" >&5\n$as_echo_n \"checking for $ac_hdr that defines DIR... \" >&6; }\nif eval \"test \\\"\\${$as_ac_Header+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <sys/types.h>\n#include <$ac_hdr>\n\nint\nmain ()\n{\nif ((DIR *) 0)\nreturn 0;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  eval \"$as_ac_Header=yes\"\nelse\n  eval \"$as_ac_Header=no\"\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\neval ac_res=\\$$as_ac_Header\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\nif eval test \\\"x\\$\"$as_ac_Header\"\\\" = x\"yes\"; then :\n  cat >>confdefs.h <<_ACEOF\n#define `$as_echo \"HAVE_$ac_hdr\" | $as_tr_cpp` 1\n_ACEOF\n\nac_header_dirent=$ac_hdr; break\nfi\n\ndone\n# Two versions of opendir et al. are in -ldir and -lx on SCO Xenix.\nif test $ac_header_dirent = dirent.h; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for library containing opendir\" >&5\n$as_echo_n \"checking for library containing opendir... \" >&6; }\nif test \"${ac_cv_search_opendir+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_func_search_save_LIBS=$LIBS\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar opendir ();\nint\nmain ()\n{\nreturn opendir ();\n  ;\n  return 0;\n}\n_ACEOF\nfor ac_lib in '' dir; do\n  if test -z \"$ac_lib\"; then\n    ac_res=\"none required\"\n  else\n    ac_res=-l$ac_lib\n    LIBS=\"-l$ac_lib  $ac_func_search_save_LIBS\"\n  fi\n  if ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_search_opendir=$ac_res\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext\n  if test \"${ac_cv_search_opendir+set}\" = set; then :\n  break\nfi\ndone\nif test \"${ac_cv_search_opendir+set}\" = set; then :\n\nelse\n  ac_cv_search_opendir=no\nfi\nrm conftest.$ac_ext\nLIBS=$ac_func_search_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_opendir\" >&5\n$as_echo \"$ac_cv_search_opendir\" >&6; }\nac_res=$ac_cv_search_opendir\nif test \"$ac_res\" != no; then :\n  test \"$ac_res\" = \"none required\" || LIBS=\"$ac_res $LIBS\"\n\nfi\n\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for library containing opendir\" >&5\n$as_echo_n \"checking for library containing opendir... \" >&6; }\nif test \"${ac_cv_search_opendir+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_func_search_save_LIBS=$LIBS\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar opendir ();\nint\nmain ()\n{\nreturn opendir ();\n  ;\n  return 0;\n}\n_ACEOF\nfor ac_lib in '' x; do\n  if test -z \"$ac_lib\"; then\n    ac_res=\"none required\"\n  else\n    ac_res=-l$ac_lib\n    LIBS=\"-l$ac_lib  $ac_func_search_save_LIBS\"\n  fi\n  if ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_search_opendir=$ac_res\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext\n  if test \"${ac_cv_search_opendir+set}\" = set; then :\n  break\nfi\ndone\nif test \"${ac_cv_search_opendir+set}\" = set; then :\n\nelse\n  ac_cv_search_opendir=no\nfi\nrm conftest.$ac_ext\nLIBS=$ac_func_search_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_opendir\" >&5\n$as_echo \"$ac_cv_search_opendir\" >&6; }\nac_res=$ac_cv_search_opendir\nif test \"$ac_res\" != no; then :\n  test \"$ac_res\" = \"none required\" || LIBS=\"$ac_res $LIBS\"\n\nfi\n\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ANSI C header files\" >&5\n$as_echo_n \"checking for ANSI C header files... \" >&6; }\nif test \"${ac_cv_header_stdc+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdlib.h>\n#include <stdarg.h>\n#include <string.h>\n#include <float.h>\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_header_stdc=yes\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n\nif test $ac_cv_header_stdc = yes; then\n  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <string.h>\n\n_ACEOF\nif (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n  $EGREP \"memchr\" >/dev/null 2>&1; then :\n\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f conftest*\n\nfi\n\nif test $ac_cv_header_stdc = yes; then\n  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdlib.h>\n\n_ACEOF\nif (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n  $EGREP \"free\" >/dev/null 2>&1; then :\n\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f conftest*\n\nfi\n\nif test $ac_cv_header_stdc = yes; then\n  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n  if test \"$cross_compiling\" = yes; then :\n  :\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <ctype.h>\n#include <stdlib.h>\n#if ((' ' & 0x0FF) == 0x020)\n# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n#else\n# define ISLOWER(c) \\\n\t\t   (('a' <= (c) && (c) <= 'i') \\\n\t\t     || ('j' <= (c) && (c) <= 'r') \\\n\t\t     || ('s' <= (c) && (c) <= 'z'))\n# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))\n#endif\n\n#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\nint\nmain ()\n{\n  int i;\n  for (i = 0; i < 256; i++)\n    if (XOR (islower (i), ISLOWER (i))\n\t|| toupper (i) != TOUPPER (i))\n      return 2;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_run \"$LINENO\"; then :\n\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n  conftest.$ac_objext conftest.beam conftest.$ac_ext\nfi\n\nfi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc\" >&5\n$as_echo \"$ac_cv_header_stdc\" >&6; }\nif test $ac_cv_header_stdc = yes; then\n\n$as_echo \"#define STDC_HEADERS 1\" >>confdefs.h\n\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n$as_echo_n \"checking for sys/wait.h that is POSIX.1 compatible... \" >&6; }\nif test \"${ac_cv_header_sys_wait_h+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <sys/types.h>\n#include <sys/wait.h>\n#ifndef WEXITSTATUS\n# define WEXITSTATUS(stat_val) ((unsigned int) (stat_val) >> 8)\n#endif\n#ifndef WIFEXITED\n# define WIFEXITED(stat_val) (((stat_val) & 255) == 0)\n#endif\n\nint\nmain ()\n{\n  int s;\n  wait (&s);\n  s = WIFEXITED (s) ? WEXITSTATUS (s) : 1;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_header_sys_wait_h=yes\nelse\n  ac_cv_header_sys_wait_h=no\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_sys_wait_h\" >&5\n$as_echo \"$ac_cv_header_sys_wait_h\" >&6; }\nif test $ac_cv_header_sys_wait_h = yes; then\n\n$as_echo \"#define HAVE_SYS_WAIT_H 1\" >>confdefs.h\n\nfi\n\nac_fn_c_check_header_mongrel \"$LINENO\" \"termios.h\" \"ac_cv_header_termios_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_termios_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_TERMIOS_H 1\" >>confdefs.h\n\nelse\n  ac_fn_c_check_header_mongrel \"$LINENO\" \"termio.h\" \"ac_cv_header_termio_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_termio_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_TERMIO_H 1\" >>confdefs.h\n\nelse\n  ac_fn_c_check_header_mongrel \"$LINENO\" \"sgtty.h\" \"ac_cv_header_sgtty_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_sgtty_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_SGTTY_H 1\" >>confdefs.h\n\nfi\n\n\nfi\n\n\nfi\n\n\nac_fn_c_check_header_mongrel \"$LINENO\" \"float.h\" \"ac_cv_header_float_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_float_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_FLOAT_H 1\" >>confdefs.h\n\nfi\n\n\nac_fn_c_check_header_mongrel \"$LINENO\" \"sys/select.h\" \"ac_cv_header_sys_select_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_sys_select_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_SYS_SELECT_H 1\" >>confdefs.h\n\nfi\n\n\nac_fn_c_check_header_mongrel \"$LINENO\" \"locale.h\" \"ac_cv_header_locale_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_locale_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_LOCALE_H 1\" >>confdefs.h\n\nfi\n\n\nac_fn_c_check_header_mongrel \"$LINENO\" \"stdint.h\" \"ac_cv_header_stdint_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_stdint_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_STDINT_H 1\" >>confdefs.h\n\nfi\n\n\nac_fn_c_check_header_mongrel \"$LINENO\" \"inttypes.h\" \"ac_cv_header_inttypes_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_inttypes_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_INTTYPES_H 1\" >>confdefs.h\n\nfi\n\n\n\n# The cast to long int works around a bug in the HP C Compiler\n# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.\n# This bug is HP SR number 8606223364.\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking size of long long\" >&5\n$as_echo_n \"checking size of long long... \" >&6; }\nif test \"${ac_cv_sizeof_long_long+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (long long))\" \"ac_cv_sizeof_long_long\"        \"$ac_includes_default\"; then :\n\nelse\n  if test \"$ac_cv_type_long_long\" = yes; then\n     { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error 77 \"cannot compute sizeof (long long)\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\n   else\n     ac_cv_sizeof_long_long=0\n   fi\nfi\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long_long\" >&5\n$as_echo \"$ac_cv_sizeof_long_long\" >&6; }\n\n\n\ncat >>confdefs.h <<_ACEOF\n#define SIZEOF_LONG_LONG $ac_cv_sizeof_long_long\n_ACEOF\n\n\n\nfor ac_func in strcasecmp strcasestr strchr memcpy strerror bcopy setpgrp chdir getcwd getwd readlink setenv putenv strtoll stroq atoll atoq symlink readlink lstat srand48 srandom getpassphrase waitpid setlocale\ndo :\n  as_ac_var=`$as_echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\nac_fn_c_check_func \"$LINENO\" \"$ac_func\" \"$as_ac_var\"\nif eval test \\\"x\\$\"$as_ac_var\"\\\" = x\"yes\"; then :\n  cat >>confdefs.h <<_ACEOF\n#define `$as_echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n_ACEOF\n\nfi\ndone\n\nfor ac_func in strftime\ndo :\n  ac_fn_c_check_func \"$LINENO\" \"strftime\" \"ac_cv_func_strftime\"\nif test \"x$ac_cv_func_strftime\" = x\"\"yes; then :\n  cat >>confdefs.h <<_ACEOF\n#define HAVE_STRFTIME 1\n_ACEOF\n\nelse\n  # strftime is in -lintl on SCO UNIX.\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for strftime in -lintl\" >&5\n$as_echo_n \"checking for strftime in -lintl... \" >&6; }\nif test \"${ac_cv_lib_intl_strftime+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lintl  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar strftime ();\nint\nmain ()\n{\nreturn strftime ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_intl_strftime=yes\nelse\n  ac_cv_lib_intl_strftime=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_intl_strftime\" >&5\n$as_echo \"$ac_cv_lib_intl_strftime\" >&6; }\nif test \"x$ac_cv_lib_intl_strftime\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_STRFTIME 1\" >>confdefs.h\n\nLIBS=\"-lintl $LIBS\"\nfi\n\nfi\ndone\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for wait3 that fills in rusage\" >&5\n$as_echo_n \"checking for wait3 that fills in rusage... \" >&6; }\nif test \"${ac_cv_func_wait3_rusage+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test \"$cross_compiling\" = yes; then :\n  ac_cv_func_wait3_rusage=no\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$ac_includes_default\n#include <sys/time.h>\n#include <sys/resource.h>\n#include <sys/wait.h>\n/* HP-UX has wait3 but does not fill in rusage at all.  */\nint\nmain ()\n{\n  struct rusage r;\n  int i;\n  /* Use a field that we can force nonzero --\n     voluntary context switches.\n     For systems like NeXT and OSF/1 that don't set it,\n     also use the system CPU time.  And page faults (I/O) for Linux.  */\n  r.ru_nvcsw = 0;\n  r.ru_stime.tv_sec = 0;\n  r.ru_stime.tv_usec = 0;\n  r.ru_majflt = r.ru_minflt = 0;\n  switch (fork ())\n    {\n    case 0: /* Child.  */\n      sleep(1); /* Give up the CPU.  */\n      _exit(0);\n      break;\n    case -1: /* What can we do?  */\n      _exit(0);\n      break;\n    default: /* Parent.  */\n      wait3(&i, 0, &r);\n      /* Avoid \"text file busy\" from rm on fast HP-UX machines.  */\n      sleep(2);\n      return (r.ru_nvcsw == 0 && r.ru_majflt == 0 && r.ru_minflt == 0\n\t      && r.ru_stime.tv_sec == 0 && r.ru_stime.tv_usec == 0);\n    }\n}\n_ACEOF\nif ac_fn_c_try_run \"$LINENO\"; then :\n  ac_cv_func_wait3_rusage=yes\nelse\n  ac_cv_func_wait3_rusage=no\nfi\nrm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n  conftest.$ac_objext conftest.beam conftest.$ac_ext\nfi\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_wait3_rusage\" >&5\n$as_echo \"$ac_cv_func_wait3_rusage\" >&6; }\nif test $ac_cv_func_wait3_rusage = yes; then\n\n$as_echo \"#define HAVE_WAIT3 1\" >>confdefs.h\n\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether setpgrp takes no argument\" >&5\n$as_echo_n \"checking whether setpgrp takes no argument... \" >&6; }\nif test \"${ac_cv_func_setpgrp_void+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test \"$cross_compiling\" = yes; then :\n  as_fn_error $? \"cannot check setpgrp when cross compiling\" \"$LINENO\" 5\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$ac_includes_default\nint\nmain ()\n{\n/* If this system has a BSD-style setpgrp which takes arguments,\n  setpgrp(1, 1) will fail with ESRCH and return -1, in that case\n  exit successfully. */\n  return setpgrp (1,1) != -1;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_run \"$LINENO\"; then :\n  ac_cv_func_setpgrp_void=no\nelse\n  ac_cv_func_setpgrp_void=yes\nfi\nrm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n  conftest.$ac_objext conftest.beam conftest.$ac_ext\nfi\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_setpgrp_void\" >&5\n$as_echo \"$ac_cv_func_setpgrp_void\" >&6; }\nif test $ac_cv_func_setpgrp_void = yes; then\n\n$as_echo \"#define SETPGRP_VOID 1\" >>confdefs.h\n\nfi\n\ncase \"$host_os\" in\n  *cygwin*)\n    ;;\n  *)\n\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for nl_langinfo and CODESET\" >&5\n$as_echo_n \"checking for nl_langinfo and CODESET... \" >&6; }\nif test \"${am_cv_langinfo_codeset+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <langinfo.h>\nint\nmain ()\n{\nchar* cs = nl_langinfo(CODESET); return !cs;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  am_cv_langinfo_codeset=yes\nelse\n  am_cv_langinfo_codeset=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $am_cv_langinfo_codeset\" >&5\n$as_echo \"$am_cv_langinfo_codeset\" >&6; }\n  if test $am_cv_langinfo_codeset = yes; then\n\n$as_echo \"#define HAVE_LANGINFO_CODESET 1\" >>confdefs.h\n\n  fi\n\n    ;;\nesac\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for sys_errlist\" >&5\n$as_echo_n \"checking for sys_errlist... \" >&6; }\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\nextern char *sys_errlist[];\nint\nmain ()\n{\nprintf(\"%s\", sys_errlist[0]);\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  have_sys_errlist=\"yes\"; $as_echo \"#define HAVE_SYS_ERRLIST 1\" >>confdefs.h\n\nelse\n  have_sys_errlist=\"no\"\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $have_sys_errlist\" >&5\n$as_echo \"$have_sys_errlist\" >&6; }\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for sigsetjmp\" >&5\n$as_echo_n \"checking for sigsetjmp... \" >&6; }\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <setjmp.h>\nint\nmain ()\n{\n jmp_buf env;\n   if (sigsetjmp(env, 1) != 0) { exit(0); } siglongjmp(env, 1);\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  have_sigsetjmp=\"yes\"; $as_echo \"#define HAVE_SIGSETJMP 1\" >>confdefs.h\n\nelse\n  have_sigsetjmp=\"no\"\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $have_sigsetjmp\" >&5\n$as_echo \"$have_sigsetjmp\" >&6; }\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking return type of signal handlers\" >&5\n$as_echo_n \"checking return type of signal handlers... \" >&6; }\nif test \"${ac_cv_type_signal+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <sys/types.h>\n#include <signal.h>\n\nint\nmain ()\n{\nreturn *(signal (0, 0)) (0) == 1;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_type_signal=int\nelse\n  ac_cv_type_signal=void\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_signal\" >&5\n$as_echo \"$ac_cv_type_signal\" >&6; }\n\ncat >>confdefs.h <<_ACEOF\n#define RETSIGTYPE $ac_cv_type_signal\n_ACEOF\n\n\n\n\n if test x\"$ac_cv_type_signal\" = xvoid; then\n  $as_echo \"#define SIGNAL_RETURN return\" >>confdefs.h\n\n else\n  $as_echo \"#define SIGNAL_RETURN return 0\" >>confdefs.h\n\n fi\n\n\nHELP_DIR=\"$datadir/$PACKAGE\"\n$as_echo \"#define HELP_DIR \\\"\\$HELP_DIR\\\"\" >>confdefs.h\n\n\nRC_DIR=\"~/.$PACKAGE\"\n$as_echo \"#define RC_DIR \\\"\\$RC_DIR\\\"\" >>confdefs.h\n\n\nDOCDIRS=\"doc:en_English doc-jp:ja_Japanese doc-de:de_German\"\ncat >>confdefs.h <<_ACEOF\n#define DOCDIRS \"$DOCDIRS\"\n_ACEOF\n\n\n\n cvsver=`$AWK '\\$1 ~ /Id:/ { print \\$3}' $srcdir/ChangeLog`\n ymdver=`sed -e 's/ .*//;s/-//g;q' $srcdir/ChangeLog`\n sed -e 's/define CURRENT_VERSION \"\\(.*\\)YYYYMMDD/define CURRENT_VERSION \"\\1'$ymdver'/;s/define CURRENT_VERSION \"\\(.*\\)+cvs/define CURRENT_VERSION \"\\1+cvs-'$cvsver'/' $srcdir/version.c.in > version.c\n CURRENT_VERSION=`sed -n 's/.*define CURRENT_VERSION *\"w3m\\/\\(.*\\)\".*$/\\1/p' version.c`\nac_config_files=\"$ac_config_files Makefile posubst po/Makefile.in scripts/Makefile scripts/dirlist.cgi scripts/w3mhelp.cgi scripts/w3mmail.cgi scripts/xface2xpm scripts/multipart/Makefile scripts/multipart/multipart.cgi scripts/w3mman/Makefile scripts/w3mman/w3mman scripts/w3mman/w3mman.1 scripts/w3mman/w3mman.de.1 scripts/w3mman/w3mman2html.cgi libwc/Makefile w3mimg/Makefile w3mimg/fb/Makefile w3mimg/x11/Makefile w3mimg/win/Makefile w3mhelp-w3m_en.html w3mhelp-w3m_ja.html w3mhelp-lynx_en.html w3mhelp-lynx_ja.html\"\n\ncat >confcache <<\\_ACEOF\n# This file is a shell script that caches the results of configure\n# tests run on this system so they can be shared between configure\n# scripts and configure runs, see configure's option --config-cache.\n# It is not useful on other systems.  If it contains results you don't\n# want to keep, you may remove or edit it.\n#\n# config.status only pays attention to the cache file if you give it\n# the --recheck option to rerun configure.\n#\n# `ac_cv_env_foo' variables (set or unset) will be overridden when\n# loading this file, other *unset* `ac_cv_foo' will be assigned the\n# following values.\n\n_ACEOF\n\n# The following way of writing the cache mishandles newlines in values,\n# but we know of no workaround that is simple, portable, and efficient.\n# So, we kill variables containing newlines.\n# Ultrix sh set writes to stderr and can't be redirected directly,\n# and sets the high bit in the cache file unless we assign to the vars.\n(\n  for ac_var in `(set) 2>&1 | sed -n 's/^\\([a-zA-Z_][a-zA-Z0-9_]*\\)=.*/\\1/p'`; do\n    eval ac_val=\\$$ac_var\n    case $ac_val in #(\n    *${as_nl}*)\n      case $ac_var in #(\n      *_cv_*) { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline\" >&5\n$as_echo \"$as_me: WARNING: cache variable $ac_var contains a newline\" >&2;} ;;\n      esac\n      case $ac_var in #(\n      _ | IFS | as_nl) ;; #(\n      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(\n      *) { eval $ac_var=; unset $ac_var;} ;;\n      esac ;;\n    esac\n  done\n\n  (set) 2>&1 |\n    case $as_nl`(ac_space=' '; set) 2>&1` in #(\n    *${as_nl}ac_space=\\ *)\n      # `set' does not quote correctly, so add quotes: double-quote\n      # substitution turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\.\n      sed -n \\\n\t\"s/'/'\\\\\\\\''/g;\n\t  s/^\\\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\\\)=\\\\(.*\\\\)/\\\\1='\\\\2'/p\"\n      ;; #(\n    *)\n      # `set' quotes correctly as required by POSIX, so do not add quotes.\n      sed -n \"/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p\"\n      ;;\n    esac |\n    sort\n) |\n  sed '\n     /^ac_cv_env_/b end\n     t clear\n     :clear\n     s/^\\([^=]*\\)=\\(.*[{}].*\\)$/test \"${\\1+set}\" = set || &/\n     t end\n     s/^\\([^=]*\\)=\\(.*\\)$/\\1=${\\1=\\2}/\n     :end' >>confcache\nif diff \"$cache_file\" confcache >/dev/null 2>&1; then :; else\n  if test -w \"$cache_file\"; then\n    test \"x$cache_file\" != \"x/dev/null\" &&\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: updating cache $cache_file\" >&5\n$as_echo \"$as_me: updating cache $cache_file\" >&6;}\n    cat confcache >$cache_file\n  else\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: not updating unwritable cache $cache_file\" >&5\n$as_echo \"$as_me: not updating unwritable cache $cache_file\" >&6;}\n  fi\nfi\nrm -f confcache\n\ntest \"x$prefix\" = xNONE && prefix=$ac_default_prefix\n# Let make expand exec_prefix.\ntest \"x$exec_prefix\" = xNONE && exec_prefix='${prefix}'\n\nDEFS=-DHAVE_CONFIG_H\n\nac_libobjs=\nac_ltlibobjs=\nU=\nfor ac_i in : $LIBOBJS; do test \"x$ac_i\" = x: && continue\n  # 1. Remove the extension, and $U if already installed.\n  ac_script='s/\\$U\\././;s/\\.o$//;s/\\.obj$//'\n  ac_i=`$as_echo \"$ac_i\" | sed \"$ac_script\"`\n  # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR\n  #    will be set to the directory where LIBOBJS objects are built.\n  as_fn_append ac_libobjs \" \\${LIBOBJDIR}$ac_i\\$U.$ac_objext\"\n  as_fn_append ac_ltlibobjs \" \\${LIBOBJDIR}$ac_i\"'$U.lo'\ndone\nLIBOBJS=$ac_libobjs\n\nLTLIBOBJS=$ac_ltlibobjs\n\n\n\n: ${CONFIG_STATUS=./config.status}\nac_write_fail=0\nac_clean_files_save=$ac_clean_files\nac_clean_files=\"$ac_clean_files $CONFIG_STATUS\"\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: creating $CONFIG_STATUS\" >&5\n$as_echo \"$as_me: creating $CONFIG_STATUS\" >&6;}\nas_write_fail=0\ncat >$CONFIG_STATUS <<_ASEOF || as_write_fail=1\n#! $SHELL\n# Generated by $as_me.\n# Run this file to recreate the current configuration.\n# Compiler output produced by configure, useful for debugging\n# configure, is in config.log if it exists.\n\ndebug=false\nac_cs_recheck=false\nac_cs_silent=false\n\nSHELL=\\${CONFIG_SHELL-$SHELL}\nexport SHELL\n_ASEOF\ncat >>$CONFIG_STATUS <<\\_ASEOF || as_write_fail=1\n## -------------------- ##\n## M4sh Initialization. ##\n## -------------------- ##\n\n# Be more Bourne compatible\nDUALCASE=1; export DUALCASE # for MKS sh\nif test -n \"${ZSH_VERSION+set}\" && (emulate sh) >/dev/null 2>&1; then :\n  emulate sh\n  NULLCMD=:\n  # Pre-4.2 versions of Zsh do word splitting on ${1+\"$@\"}, which\n  # is contrary to our usage.  Disable this feature.\n  alias -g '${1+\"$@\"}'='\"$@\"'\n  setopt NO_GLOB_SUBST\nelse\n  case `(set -o) 2>/dev/null` in #(\n  *posix*) :\n    set -o posix ;; #(\n  *) :\n     ;;\nesac\nfi\n\n\nas_nl='\n'\nexport as_nl\n# Printing a long string crashes Solaris 7 /usr/bin/printf.\nas_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'\nas_echo=$as_echo$as_echo$as_echo$as_echo$as_echo\nas_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo\n# Prefer a ksh shell builtin over an external printf program on Solaris,\n# but without wasting forks for bash or zsh.\nif test -z \"$BASH_VERSION$ZSH_VERSION\" \\\n    && (test \"X`print -r -- $as_echo`\" = \"X$as_echo\") 2>/dev/null; then\n  as_echo='print -r --'\n  as_echo_n='print -rn --'\nelif (test \"X`printf %s $as_echo`\" = \"X$as_echo\") 2>/dev/null; then\n  as_echo='printf %s\\n'\n  as_echo_n='printf %s'\nelse\n  if test \"X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`\" = \"X-n $as_echo\"; then\n    as_echo_body='eval /usr/ucb/echo -n \"$1$as_nl\"'\n    as_echo_n='/usr/ucb/echo -n'\n  else\n    as_echo_body='eval expr \"X$1\" : \"X\\\\(.*\\\\)\"'\n    as_echo_n_body='eval\n      arg=$1;\n      case $arg in #(\n      *\"$as_nl\"*)\n\texpr \"X$arg\" : \"X\\\\(.*\\\\)$as_nl\";\n\targ=`expr \"X$arg\" : \".*$as_nl\\\\(.*\\\\)\"`;;\n      esac;\n      expr \"X$arg\" : \"X\\\\(.*\\\\)\" | tr -d \"$as_nl\"\n    '\n    export as_echo_n_body\n    as_echo_n='sh -c $as_echo_n_body as_echo'\n  fi\n  export as_echo_body\n  as_echo='sh -c $as_echo_body as_echo'\nfi\n\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  PATH_SEPARATOR=:\n  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {\n    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||\n      PATH_SEPARATOR=';'\n  }\nfi\n\n\n# IFS\n# We need space, tab and new line, in precisely that order.  Quoting is\n# there to prevent editors from complaining about space-tab.\n# (If _AS_PATH_WALK were called with IFS unset, it would disable word\n# splitting by setting IFS to empty value.)\nIFS=\" \"\"\t$as_nl\"\n\n# Find who we are.  Look in the path if we contain no directory separator.\ncase $0 in #((\n  *[\\\\/]* ) as_myself=$0 ;;\n  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    test -r \"$as_dir/$0\" && as_myself=$as_dir/$0 && break\n  done\nIFS=$as_save_IFS\n\n     ;;\nesac\n# We did not find ourselves, most probably we were run as `sh COMMAND'\n# in which case we are not to be found in the path.\nif test \"x$as_myself\" = x; then\n  as_myself=$0\nfi\nif test ! -f \"$as_myself\"; then\n  $as_echo \"$as_myself: error: cannot find myself; rerun with an absolute file name\" >&2\n  exit 1\nfi\n\n# Unset variables that we do not need and which cause bugs (e.g. in\n# pre-3.0 UWIN ksh).  But do not cause bugs in bash 2.01; the \"|| exit 1\"\n# suppresses any \"Segmentation fault\" message there.  '((' could\n# trigger a bug in pdksh 5.2.14.\nfor as_var in BASH_ENV ENV MAIL MAILPATH\ndo eval test x\\${$as_var+set} = xset \\\n  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :\ndone\nPS1='$ '\nPS2='> '\nPS4='+ '\n\n# NLS nuisances.\nLC_ALL=C\nexport LC_ALL\nLANGUAGE=C\nexport LANGUAGE\n\n# CDPATH.\n(unset CDPATH) >/dev/null 2>&1 && unset CDPATH\n\n\n# as_fn_error STATUS ERROR [LINENO LOG_FD]\n# ----------------------------------------\n# Output \"`basename $0`: error: ERROR\" to stderr. If LINENO and LOG_FD are\n# provided, also output the error to LOG_FD, referencing LINENO. Then exit the\n# script with STATUS, using 1 if that was 0.\nas_fn_error ()\n{\n  as_status=$1; test $as_status -eq 0 && as_status=1\n  if test \"$4\"; then\n    as_lineno=${as_lineno-\"$3\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n    $as_echo \"$as_me:${as_lineno-$LINENO}: error: $2\" >&$4\n  fi\n  $as_echo \"$as_me: error: $2\" >&2\n  as_fn_exit $as_status\n} # as_fn_error\n\n\n# as_fn_set_status STATUS\n# -----------------------\n# Set $? to STATUS, without forking.\nas_fn_set_status ()\n{\n  return $1\n} # as_fn_set_status\n\n# as_fn_exit STATUS\n# -----------------\n# Exit the shell with STATUS, even in a \"trap 0\" or \"set -e\" context.\nas_fn_exit ()\n{\n  set +e\n  as_fn_set_status $1\n  exit $1\n} # as_fn_exit\n\n# as_fn_unset VAR\n# ---------------\n# Portably unset VAR.\nas_fn_unset ()\n{\n  { eval $1=; unset $1;}\n}\nas_unset=as_fn_unset\n# as_fn_append VAR VALUE\n# ----------------------\n# Append the text in VALUE to the end of the definition contained in VAR. Take\n# advantage of any shell optimizations that allow amortized linear growth over\n# repeated appends, instead of the typical quadratic growth present in naive\n# implementations.\nif (eval \"as_var=1; as_var+=2; test x\\$as_var = x12\") 2>/dev/null; then :\n  eval 'as_fn_append ()\n  {\n    eval $1+=\\$2\n  }'\nelse\n  as_fn_append ()\n  {\n    eval $1=\\$$1\\$2\n  }\nfi # as_fn_append\n\n# as_fn_arith ARG...\n# ------------------\n# Perform arithmetic evaluation on the ARGs, and store the result in the\n# global $as_val. Take advantage of shells that can avoid forks. The arguments\n# must be portable across $(()) and expr.\nif (eval \"test \\$(( 1 + 1 )) = 2\") 2>/dev/null; then :\n  eval 'as_fn_arith ()\n  {\n    as_val=$(( $* ))\n  }'\nelse\n  as_fn_arith ()\n  {\n    as_val=`expr \"$@\" || test $? -eq 1`\n  }\nfi # as_fn_arith\n\n\nif expr a : '\\(a\\)' >/dev/null 2>&1 &&\n   test \"X`expr 00001 : '.*\\(...\\)'`\" = X001; then\n  as_expr=expr\nelse\n  as_expr=false\nfi\n\nif (basename -- /) >/dev/null 2>&1 && test \"X`basename -- / 2>&1`\" = \"X/\"; then\n  as_basename=basename\nelse\n  as_basename=false\nfi\n\nif (as_dir=`dirname -- /` && test \"X$as_dir\" = X/) >/dev/null 2>&1; then\n  as_dirname=dirname\nelse\n  as_dirname=false\nfi\n\nas_me=`$as_basename -- \"$0\" ||\n$as_expr X/\"$0\" : '.*/\\([^/][^/]*\\)/*$' \\| \\\n\t X\"$0\" : 'X\\(//\\)$' \\| \\\n\t X\"$0\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n$as_echo X/\"$0\" |\n    sed '/^.*\\/\\([^/][^/]*\\)\\/*$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\/\\(\\/\\/\\)$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\/\\(\\/\\).*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  s/.*/./; q'`\n\n# Avoid depending upon Character Ranges.\nas_cr_letters='abcdefghijklmnopqrstuvwxyz'\nas_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'\nas_cr_Letters=$as_cr_letters$as_cr_LETTERS\nas_cr_digits='0123456789'\nas_cr_alnum=$as_cr_Letters$as_cr_digits\n\nECHO_C= ECHO_N= ECHO_T=\ncase `echo -n x` in #(((((\n-n*)\n  case `echo 'xy\\c'` in\n  *c*) ECHO_T='\t';;\t# ECHO_T is single tab character.\n  xy)  ECHO_C='\\c';;\n  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null\n       ECHO_T='\t';;\n  esac;;\n*)\n  ECHO_N='-n';;\nesac\n\nrm -f conf$$ conf$$.exe conf$$.file\nif test -d conf$$.dir; then\n  rm -f conf$$.dir/conf$$.file\nelse\n  rm -f conf$$.dir\n  mkdir conf$$.dir 2>/dev/null\nfi\nif (echo >conf$$.file) 2>/dev/null; then\n  if ln -s conf$$.file conf$$ 2>/dev/null; then\n    as_ln_s='ln -s'\n    # ... but there are two gotchas:\n    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.\n    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.\n    # In both cases, we have to default to `cp -p'.\n    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||\n      as_ln_s='cp -p'\n  elif ln conf$$.file conf$$ 2>/dev/null; then\n    as_ln_s=ln\n  else\n    as_ln_s='cp -p'\n  fi\nelse\n  as_ln_s='cp -p'\nfi\nrm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file\nrmdir conf$$.dir 2>/dev/null\n\n\n# as_fn_mkdir_p\n# -------------\n# Create \"$as_dir\" as a directory, including parents if necessary.\nas_fn_mkdir_p ()\n{\n\n  case $as_dir in #(\n  -*) as_dir=./$as_dir;;\n  esac\n  test -d \"$as_dir\" || eval $as_mkdir_p || {\n    as_dirs=\n    while :; do\n      case $as_dir in #(\n      *\\'*) as_qdir=`$as_echo \"$as_dir\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"`;; #'(\n      *) as_qdir=$as_dir;;\n      esac\n      as_dirs=\"'$as_qdir' $as_dirs\"\n      as_dir=`$as_dirname -- \"$as_dir\" ||\n$as_expr X\"$as_dir\" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n\t X\"$as_dir\" : 'X\\(//\\)[^/]' \\| \\\n\t X\"$as_dir\" : 'X\\(//\\)$' \\| \\\n\t X\"$as_dir\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n$as_echo X\"$as_dir\" |\n    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)[^/].*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\).*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  s/.*/./; q'`\n      test -d \"$as_dir\" && break\n    done\n    test -z \"$as_dirs\" || eval \"mkdir $as_dirs\"\n  } || test -d \"$as_dir\" || as_fn_error $? \"cannot create directory $as_dir\"\n\n\n} # as_fn_mkdir_p\nif mkdir -p . 2>/dev/null; then\n  as_mkdir_p='mkdir -p \"$as_dir\"'\nelse\n  test -d ./-p && rmdir ./-p\n  as_mkdir_p=false\nfi\n\nif test -x / >/dev/null 2>&1; then\n  as_test_x='test -x'\nelse\n  if ls -dL / >/dev/null 2>&1; then\n    as_ls_L_option=L\n  else\n    as_ls_L_option=\n  fi\n  as_test_x='\n    eval sh -c '\\''\n      if test -d \"$1\"; then\n\ttest -d \"$1/.\";\n      else\n\tcase $1 in #(\n\t-*)set \"./$1\";;\n\tesac;\n\tcase `ls -ld'$as_ls_L_option' \"$1\" 2>/dev/null` in #((\n\t???[sx]*):;;*)false;;esac;fi\n    '\\'' sh\n  '\nfi\nas_executable_p=$as_test_x\n\n# Sed expression to map a string onto a valid CPP name.\nas_tr_cpp=\"eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'\"\n\n# Sed expression to map a string onto a valid variable name.\nas_tr_sh=\"eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'\"\n\n\nexec 6>&1\n## ----------------------------------- ##\n## Main body of $CONFIG_STATUS script. ##\n## ----------------------------------- ##\n_ASEOF\ntest $as_write_fail = 0 && chmod +x $CONFIG_STATUS || ac_write_fail=1\n\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n# Save the log message, to keep $0 and so on meaningful, and to\n# report actual input values of CONFIG_FILES etc. instead of their\n# values after options handling.\nac_log=\"\nThis file was extended by w3m $as_me 0.5.3, which was\ngenerated by GNU Autoconf 2.67.  Invocation command line was\n\n  CONFIG_FILES    = $CONFIG_FILES\n  CONFIG_HEADERS  = $CONFIG_HEADERS\n  CONFIG_LINKS    = $CONFIG_LINKS\n  CONFIG_COMMANDS = $CONFIG_COMMANDS\n  $ $0 $@\n\non `(hostname || uname -n) 2>/dev/null | sed 1q`\n\"\n\n_ACEOF\n\ncase $ac_config_files in *\"\n\"*) set x $ac_config_files; shift; ac_config_files=$*;;\nesac\n\ncase $ac_config_headers in *\"\n\"*) set x $ac_config_headers; shift; ac_config_headers=$*;;\nesac\n\n\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n# Files that config.status was made for.\nconfig_files=\"$ac_config_files\"\nconfig_headers=\"$ac_config_headers\"\nconfig_commands=\"$ac_config_commands\"\n\n_ACEOF\n\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\nac_cs_usage=\"\\\n\\`$as_me' instantiates files and other configuration actions\nfrom templates according to the current configuration.  Unless the files\nand actions are specified as TAGs, all are instantiated by default.\n\nUsage: $0 [OPTION]... [TAG]...\n\n  -h, --help       print this help, then exit\n  -V, --version    print version number and configuration settings, then exit\n      --config     print configuration, then exit\n  -q, --quiet, --silent\n                   do not print progress messages\n  -d, --debug      don't remove temporary files\n      --recheck    update $as_me by reconfiguring in the same conditions\n      --file=FILE[:TEMPLATE]\n                   instantiate the configuration file FILE\n      --header=FILE[:TEMPLATE]\n                   instantiate the configuration header FILE\n\nConfiguration files:\n$config_files\n\nConfiguration headers:\n$config_headers\n\nConfiguration commands:\n$config_commands\n\nReport bugs to <satodai@w3m.jp>.\"\n\n_ACEOF\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\nac_cs_config=\"`$as_echo \"$ac_configure_args\" | sed 's/^ //; s/[\\\\\"\"\\`\\$]/\\\\\\\\&/g'`\"\nac_cs_version=\"\\\\\nw3m config.status 0.5.3\nconfigured by $0, generated by GNU Autoconf 2.67,\n  with options \\\\\"\\$ac_cs_config\\\\\"\n\nCopyright (C) 2010 Free Software Foundation, Inc.\nThis config.status script is free software; the Free Software Foundation\ngives unlimited permission to copy, distribute and modify it.\"\n\nac_pwd='$ac_pwd'\nsrcdir='$srcdir'\nINSTALL='$INSTALL'\nMKDIR_P='$MKDIR_P'\nAWK='$AWK'\ntest -n \"\\$AWK\" || AWK=awk\n_ACEOF\n\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n# The default lists apply if the user does not specify any file.\nac_need_defaults=:\nwhile test $# != 0\ndo\n  case $1 in\n  --*=?*)\n    ac_option=`expr \"X$1\" : 'X\\([^=]*\\)='`\n    ac_optarg=`expr \"X$1\" : 'X[^=]*=\\(.*\\)'`\n    ac_shift=:\n    ;;\n  --*=)\n    ac_option=`expr \"X$1\" : 'X\\([^=]*\\)='`\n    ac_optarg=\n    ac_shift=:\n    ;;\n  *)\n    ac_option=$1\n    ac_optarg=$2\n    ac_shift=shift\n    ;;\n  esac\n\n  case $ac_option in\n  # Handling of the options.\n  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)\n    ac_cs_recheck=: ;;\n  --version | --versio | --versi | --vers | --ver | --ve | --v | -V )\n    $as_echo \"$ac_cs_version\"; exit ;;\n  --config | --confi | --conf | --con | --co | --c )\n    $as_echo \"$ac_cs_config\"; exit ;;\n  --debug | --debu | --deb | --de | --d | -d )\n    debug=: ;;\n  --file | --fil | --fi | --f )\n    $ac_shift\n    case $ac_optarg in\n    *\\'*) ac_optarg=`$as_echo \"$ac_optarg\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"` ;;\n    '') as_fn_error $? \"missing file argument\" ;;\n    esac\n    as_fn_append CONFIG_FILES \" '$ac_optarg'\"\n    ac_need_defaults=false;;\n  --header | --heade | --head | --hea )\n    $ac_shift\n    case $ac_optarg in\n    *\\'*) ac_optarg=`$as_echo \"$ac_optarg\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"` ;;\n    esac\n    as_fn_append CONFIG_HEADERS \" '$ac_optarg'\"\n    ac_need_defaults=false;;\n  --he | --h)\n    # Conflict between --help and --header\n    as_fn_error $? \"ambiguous option: \\`$1'\nTry \\`$0 --help' for more information.\";;\n  --help | --hel | -h )\n    $as_echo \"$ac_cs_usage\"; exit ;;\n  -q | -quiet | --quiet | --quie | --qui | --qu | --q \\\n  | -silent | --silent | --silen | --sile | --sil | --si | --s)\n    ac_cs_silent=: ;;\n\n  # This is an error.\n  -*) as_fn_error $? \"unrecognized option: \\`$1'\nTry \\`$0 --help' for more information.\" ;;\n\n  *) as_fn_append ac_config_targets \" $1\"\n     ac_need_defaults=false ;;\n\n  esac\n  shift\ndone\n\nac_configure_extra_args=\n\nif $ac_cs_silent; then\n  exec 6>/dev/null\n  ac_configure_extra_args=\"$ac_configure_extra_args --silent\"\nfi\n\n_ACEOF\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\nif \\$ac_cs_recheck; then\n  set X '$SHELL' '$0' $ac_configure_args \\$ac_configure_extra_args --no-create --no-recursion\n  shift\n  \\$as_echo \"running CONFIG_SHELL=$SHELL \\$*\" >&6\n  CONFIG_SHELL='$SHELL'\n  export CONFIG_SHELL\n  exec \"\\$@\"\nfi\n\n_ACEOF\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\nexec 5>>config.log\n{\n  echo\n  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX\n## Running $as_me. ##\n_ASBOX\n  $as_echo \"$ac_log\"\n} >&5\n\n_ACEOF\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n#\n# INIT-COMMANDS\n#\n# Capture the value of obsolete ALL_LINGUAS because we need it to compute\n    # POFILES, UPDATEPOFILES, DUMMYPOFILES, GMOFILES, CATALOGS. But hide it\n    # from automake < 1.5.\n    eval 'OBSOLETE_ALL_LINGUAS''=\"$ALL_LINGUAS\"'\n    # Capture the value of LINGUAS because we need it to compute CATALOGS.\n    LINGUAS=\"${LINGUAS-%UNSET%}\"\n\n\n_ACEOF\n\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n\n# Handling of arguments.\nfor ac_config_target in $ac_config_targets\ndo\n  case $ac_config_target in\n    \"config.h\") CONFIG_HEADERS=\"$CONFIG_HEADERS config.h\" ;;\n    \"po-directories\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS po-directories\" ;;\n    \"Makefile\") CONFIG_FILES=\"$CONFIG_FILES Makefile\" ;;\n    \"posubst\") CONFIG_FILES=\"$CONFIG_FILES posubst\" ;;\n    \"po/Makefile.in\") CONFIG_FILES=\"$CONFIG_FILES po/Makefile.in\" ;;\n    \"scripts/Makefile\") CONFIG_FILES=\"$CONFIG_FILES scripts/Makefile\" ;;\n    \"scripts/dirlist.cgi\") CONFIG_FILES=\"$CONFIG_FILES scripts/dirlist.cgi\" ;;\n    \"scripts/w3mhelp.cgi\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mhelp.cgi\" ;;\n    \"scripts/w3mmail.cgi\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mmail.cgi\" ;;\n    \"scripts/xface2xpm\") CONFIG_FILES=\"$CONFIG_FILES scripts/xface2xpm\" ;;\n    \"scripts/multipart/Makefile\") CONFIG_FILES=\"$CONFIG_FILES scripts/multipart/Makefile\" ;;\n    \"scripts/multipart/multipart.cgi\") CONFIG_FILES=\"$CONFIG_FILES scripts/multipart/multipart.cgi\" ;;\n    \"scripts/w3mman/Makefile\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mman/Makefile\" ;;\n    \"scripts/w3mman/w3mman\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mman/w3mman\" ;;\n    \"scripts/w3mman/w3mman.1\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mman/w3mman.1\" ;;\n    \"scripts/w3mman/w3mman.de.1\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mman/w3mman.de.1\" ;;\n    \"scripts/w3mman/w3mman2html.cgi\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mman/w3mman2html.cgi\" ;;\n    \"libwc/Makefile\") CONFIG_FILES=\"$CONFIG_FILES libwc/Makefile\" ;;\n    \"w3mimg/Makefile\") CONFIG_FILES=\"$CONFIG_FILES w3mimg/Makefile\" ;;\n    \"w3mimg/fb/Makefile\") CONFIG_FILES=\"$CONFIG_FILES w3mimg/fb/Makefile\" ;;\n    \"w3mimg/x11/Makefile\") CONFIG_FILES=\"$CONFIG_FILES w3mimg/x11/Makefile\" ;;\n    \"w3mimg/win/Makefile\") CONFIG_FILES=\"$CONFIG_FILES w3mimg/win/Makefile\" ;;\n    \"w3mhelp-w3m_en.html\") CONFIG_FILES=\"$CONFIG_FILES w3mhelp-w3m_en.html\" ;;\n    \"w3mhelp-w3m_ja.html\") CONFIG_FILES=\"$CONFIG_FILES w3mhelp-w3m_ja.html\" ;;\n    \"w3mhelp-lynx_en.html\") CONFIG_FILES=\"$CONFIG_FILES w3mhelp-lynx_en.html\" ;;\n    \"w3mhelp-lynx_ja.html\") CONFIG_FILES=\"$CONFIG_FILES w3mhelp-lynx_ja.html\" ;;\n\n  *) as_fn_error $? \"invalid argument: \\`$ac_config_target'\" \"$LINENO\" 5 ;;\n  esac\ndone\n\n\n# If the user did not use the arguments to specify the items to instantiate,\n# then the envvar interface is used.  Set only those that are not.\n# We use the long form for the default assignment because of an extremely\n# bizarre bug on SunOS 4.1.3.\nif $ac_need_defaults; then\n  test \"${CONFIG_FILES+set}\" = set || CONFIG_FILES=$config_files\n  test \"${CONFIG_HEADERS+set}\" = set || CONFIG_HEADERS=$config_headers\n  test \"${CONFIG_COMMANDS+set}\" = set || CONFIG_COMMANDS=$config_commands\nfi\n\n# Have a temporary directory for convenience.  Make it in the build tree\n# simply because there is no reason against having it here, and in addition,\n# creating and moving files from /tmp can sometimes cause problems.\n# Hook for its removal unless debugging.\n# Note that there is a small window in which the directory will not be cleaned:\n# after its creation but before its name has been assigned to `$tmp'.\n$debug ||\n{\n  tmp=\n  trap 'exit_status=$?\n  { test -z \"$tmp\" || test ! -d \"$tmp\" || rm -fr \"$tmp\"; } && exit $exit_status\n' 0\n  trap 'as_fn_exit 1' 1 2 13 15\n}\n# Create a (secure) tmp directory for tmp files.\n\n{\n  tmp=`(umask 077 && mktemp -d \"./confXXXXXX\") 2>/dev/null` &&\n  test -n \"$tmp\" && test -d \"$tmp\"\n}  ||\n{\n  tmp=./conf$$-$RANDOM\n  (umask 077 && mkdir \"$tmp\")\n} || as_fn_error $? \"cannot create a temporary directory in .\" \"$LINENO\" 5\n\n# Set up the scripts for CONFIG_FILES section.\n# No need to generate them if there are no CONFIG_FILES.\n# This happens for instance with `./config.status config.h'.\nif test -n \"$CONFIG_FILES\"; then\n\n\nac_cr=`echo X | tr X '\\015'`\n# On cygwin, bash can eat \\r inside `` if the user requested igncr.\n# But we know of no other shell where ac_cr would be empty at this\n# point, so we can use a bashism as a fallback.\nif test \"x$ac_cr\" = x; then\n  eval ac_cr=\\$\\'\\\\r\\'\nfi\nac_cs_awk_cr=`$AWK 'BEGIN { print \"a\\rb\" }' </dev/null 2>/dev/null`\nif test \"$ac_cs_awk_cr\" = \"a${ac_cr}b\"; then\n  ac_cs_awk_cr='\\\\r'\nelse\n  ac_cs_awk_cr=$ac_cr\nfi\n\necho 'BEGIN {' >\"$tmp/subs1.awk\" &&\n_ACEOF\n\n\n{\n  echo \"cat >conf$$subs.awk <<_ACEOF\" &&\n  echo \"$ac_subst_vars\" | sed 's/.*/&!$&$ac_delim/' &&\n  echo \"_ACEOF\"\n} >conf$$subs.sh ||\n  as_fn_error $? \"could not make $CONFIG_STATUS\" \"$LINENO\" 5\nac_delim_num=`echo \"$ac_subst_vars\" | grep -c '^'`\nac_delim='%!_!# '\nfor ac_last_try in false false false false false :; do\n  . ./conf$$subs.sh ||\n    as_fn_error $? \"could not make $CONFIG_STATUS\" \"$LINENO\" 5\n\n  ac_delim_n=`sed -n \"s/.*$ac_delim\\$/X/p\" conf$$subs.awk | grep -c X`\n  if test $ac_delim_n = $ac_delim_num; then\n    break\n  elif $ac_last_try; then\n    as_fn_error $? \"could not make $CONFIG_STATUS\" \"$LINENO\" 5\n  else\n    ac_delim=\"$ac_delim!$ac_delim _$ac_delim!! \"\n  fi\ndone\nrm -f conf$$subs.sh\n\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\ncat >>\"\\$tmp/subs1.awk\" <<\\\\_ACAWK &&\n_ACEOF\nsed -n '\nh\ns/^/S[\"/; s/!.*/\"]=/\np\ng\ns/^[^!]*!//\n:repl\nt repl\ns/'\"$ac_delim\"'$//\nt delim\n:nl\nh\ns/\\(.\\{148\\}\\)..*/\\1/\nt more1\ns/[\"\\\\]/\\\\&/g; s/^/\"/; s/$/\\\\n\"\\\\/\np\nn\nb repl\n:more1\ns/[\"\\\\]/\\\\&/g; s/^/\"/; s/$/\"\\\\/\np\ng\ns/.\\{148\\}//\nt nl\n:delim\nh\ns/\\(.\\{148\\}\\)..*/\\1/\nt more2\ns/[\"\\\\]/\\\\&/g; s/^/\"/; s/$/\"/\np\nb\n:more2\ns/[\"\\\\]/\\\\&/g; s/^/\"/; s/$/\"\\\\/\np\ng\ns/.\\{148\\}//\nt delim\n' <conf$$subs.awk | sed '\n/^[^\"\"]/{\n  N\n  s/\\n//\n}\n' >>$CONFIG_STATUS || ac_write_fail=1\nrm -f conf$$subs.awk\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n_ACAWK\ncat >>\"\\$tmp/subs1.awk\" <<_ACAWK &&\n  for (key in S) S_is_set[key] = 1\n  FS = \"\u0007\"\n\n}\n{\n  line = $ 0\n  nfields = split(line, field, \"@\")\n  substed = 0\n  len = length(field[1])\n  for (i = 2; i < nfields; i++) {\n    key = field[i]\n    keylen = length(key)\n    if (S_is_set[key]) {\n      value = S[key]\n      line = substr(line, 1, len) \"\" value \"\" substr(line, len + keylen + 3)\n      len += length(value) + length(field[++i])\n      substed = 1\n    } else\n      len += 1 + keylen\n  }\n\n  print line\n}\n\n_ACAWK\n_ACEOF\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\nif sed \"s/$ac_cr//\" < /dev/null > /dev/null 2>&1; then\n  sed \"s/$ac_cr\\$//; s/$ac_cr/$ac_cs_awk_cr/g\"\nelse\n  cat\nfi < \"$tmp/subs1.awk\" > \"$tmp/subs.awk\" \\\n  || as_fn_error $? \"could not setup config files machinery\" \"$LINENO\" 5\n_ACEOF\n\n# VPATH may cause trouble with some makes, so we remove sole $(srcdir),\n# ${srcdir} and @srcdir@ entries from VPATH if srcdir is \".\", strip leading and\n# trailing colons and then remove the whole line if VPATH becomes empty\n# (actually we leave an empty line to preserve line numbers).\nif test \"x$srcdir\" = x.; then\n  ac_vpsub='/^[\t ]*VPATH[\t ]*=[\t ]*/{\nh\ns///\ns/^/:/\ns/[\t ]*$/:/\ns/:\\$(srcdir):/:/g\ns/:\\${srcdir}:/:/g\ns/:@srcdir@:/:/g\ns/^:*//\ns/:*$//\nx\ns/\\(=[\t ]*\\).*/\\1/\nG\ns/\\n//\ns/^[^=]*=[\t ]*$//\n}'\nfi\n\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\nfi # test -n \"$CONFIG_FILES\"\n\n# Set up the scripts for CONFIG_HEADERS section.\n# No need to generate them if there are no CONFIG_HEADERS.\n# This happens for instance with `./config.status Makefile'.\nif test -n \"$CONFIG_HEADERS\"; then\ncat >\"$tmp/defines.awk\" <<\\_ACAWK ||\nBEGIN {\n_ACEOF\n\n# Transform confdefs.h into an awk script `defines.awk', embedded as\n# here-document in config.status, that substitutes the proper values into\n# config.h.in to produce config.h.\n\n# Create a delimiter string that does not exist in confdefs.h, to ease\n# handling of long lines.\nac_delim='%!_!# '\nfor ac_last_try in false false :; do\n  ac_t=`sed -n \"/$ac_delim/p\" confdefs.h`\n  if test -z \"$ac_t\"; then\n    break\n  elif $ac_last_try; then\n    as_fn_error $? \"could not make $CONFIG_HEADERS\" \"$LINENO\" 5\n  else\n    ac_delim=\"$ac_delim!$ac_delim _$ac_delim!! \"\n  fi\ndone\n\n# For the awk script, D is an array of macro values keyed by name,\n# likewise P contains macro parameters if any.  Preserve backslash\n# newline sequences.\n\nac_word_re=[_$as_cr_Letters][_$as_cr_alnum]*\nsed -n '\ns/.\\{148\\}/&'\"$ac_delim\"'/g\nt rset\n:rset\ns/^[\t ]*#[\t ]*define[\t ][\t ]*/ /\nt def\nd\n:def\ns/\\\\$//\nt bsnl\ns/[\"\\\\]/\\\\&/g\ns/^ \\('\"$ac_word_re\"'\\)\\(([^()]*)\\)[\t ]*\\(.*\\)/P[\"\\1\"]=\"\\2\"\\\nD[\"\\1\"]=\" \\3\"/p\ns/^ \\('\"$ac_word_re\"'\\)[\t ]*\\(.*\\)/D[\"\\1\"]=\" \\2\"/p\nd\n:bsnl\ns/[\"\\\\]/\\\\&/g\ns/^ \\('\"$ac_word_re\"'\\)\\(([^()]*)\\)[\t ]*\\(.*\\)/P[\"\\1\"]=\"\\2\"\\\nD[\"\\1\"]=\" \\3\\\\\\\\\\\\n\"\\\\/p\nt cont\ns/^ \\('\"$ac_word_re\"'\\)[\t ]*\\(.*\\)/D[\"\\1\"]=\" \\2\\\\\\\\\\\\n\"\\\\/p\nt cont\nd\n:cont\nn\ns/.\\{148\\}/&'\"$ac_delim\"'/g\nt clear\n:clear\ns/\\\\$//\nt bsnlc\ns/[\"\\\\]/\\\\&/g; s/^/\"/; s/$/\"/p\nd\n:bsnlc\ns/[\"\\\\]/\\\\&/g; s/^/\"/; s/$/\\\\\\\\\\\\n\"\\\\/p\nb cont\n' <confdefs.h | sed '\ns/'\"$ac_delim\"'/\"\\\\\\\n\"/g' >>$CONFIG_STATUS || ac_write_fail=1\n\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n  for (key in D) D_is_set[key] = 1\n  FS = \"\u0007\"\n}\n/^[\\t ]*#[\\t ]*(define|undef)[\\t ]+$ac_word_re([\\t (]|\\$)/ {\n  line = \\$ 0\n  split(line, arg, \" \")\n  if (arg[1] == \"#\") {\n    defundef = arg[2]\n    mac1 = arg[3]\n  } else {\n    defundef = substr(arg[1], 2)\n    mac1 = arg[2]\n  }\n  split(mac1, mac2, \"(\") #)\n  macro = mac2[1]\n  prefix = substr(line, 1, index(line, defundef) - 1)\n  if (D_is_set[macro]) {\n    # Preserve the white space surrounding the \"#\".\n    print prefix \"define\", macro P[macro] D[macro]\n    next\n  } else {\n    # Replace #undef with comments.  This is necessary, for example,\n    # in the case of _POSIX_SOURCE, which is predefined and required\n    # on some systems where configure will not decide to define it.\n    if (defundef == \"undef\") {\n      print \"/*\", prefix defundef, macro, \"*/\"\n      next\n    }\n  }\n}\n{ print }\n_ACAWK\n_ACEOF\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n  as_fn_error $? \"could not setup config headers machinery\" \"$LINENO\" 5\nfi # test -n \"$CONFIG_HEADERS\"\n\n\neval set X \"  :F $CONFIG_FILES  :H $CONFIG_HEADERS    :C $CONFIG_COMMANDS\"\nshift\nfor ac_tag\ndo\n  case $ac_tag in\n  :[FHLC]) ac_mode=$ac_tag; continue;;\n  esac\n  case $ac_mode$ac_tag in\n  :[FHL]*:*);;\n  :L* | :C*:*) as_fn_error $? \"invalid tag \\`$ac_tag'\" \"$LINENO\" 5 ;;\n  :[FH]-) ac_tag=-:-;;\n  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;\n  esac\n  ac_save_IFS=$IFS\n  IFS=:\n  set x $ac_tag\n  IFS=$ac_save_IFS\n  shift\n  ac_file=$1\n  shift\n\n  case $ac_mode in\n  :L) ac_source=$1;;\n  :[FH])\n    ac_file_inputs=\n    for ac_f\n    do\n      case $ac_f in\n      -) ac_f=\"$tmp/stdin\";;\n      *) # Look for the file first in the build tree, then in the source tree\n\t # (if the path is not absolute).  The absolute path cannot be DOS-style,\n\t # because $ac_f cannot contain `:'.\n\t test -f \"$ac_f\" ||\n\t   case $ac_f in\n\t   [\\\\/$]*) false;;\n\t   *) test -f \"$srcdir/$ac_f\" && ac_f=\"$srcdir/$ac_f\";;\n\t   esac ||\n\t   as_fn_error 1 \"cannot find input file: \\`$ac_f'\" \"$LINENO\" 5 ;;\n      esac\n      case $ac_f in *\\'*) ac_f=`$as_echo \"$ac_f\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"`;; esac\n      as_fn_append ac_file_inputs \" '$ac_f'\"\n    done\n\n    # Let's still pretend it is `configure' which instantiates (i.e., don't\n    # use $as_me), people would be surprised to read:\n    #    /* config.h.  Generated by config.status.  */\n    configure_input='Generated from '`\n\t  $as_echo \"$*\" | sed 's|^[^:]*/||;s|:[^:]*/|, |g'\n\t`' by configure.'\n    if test x\"$ac_file\" != x-; then\n      configure_input=\"$ac_file.  $configure_input\"\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: creating $ac_file\" >&5\n$as_echo \"$as_me: creating $ac_file\" >&6;}\n    fi\n    # Neutralize special characters interpreted by sed in replacement strings.\n    case $configure_input in #(\n    *\\&* | *\\|* | *\\\\* )\n       ac_sed_conf_input=`$as_echo \"$configure_input\" |\n       sed 's/[\\\\\\\\&|]/\\\\\\\\&/g'`;; #(\n    *) ac_sed_conf_input=$configure_input;;\n    esac\n\n    case $ac_tag in\n    *:-:* | *:-) cat >\"$tmp/stdin\" \\\n      || as_fn_error $? \"could not create $ac_file\" \"$LINENO\" 5  ;;\n    esac\n    ;;\n  esac\n\n  ac_dir=`$as_dirname -- \"$ac_file\" ||\n$as_expr X\"$ac_file\" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n\t X\"$ac_file\" : 'X\\(//\\)[^/]' \\| \\\n\t X\"$ac_file\" : 'X\\(//\\)$' \\| \\\n\t X\"$ac_file\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n$as_echo X\"$ac_file\" |\n    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)[^/].*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\).*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  s/.*/./; q'`\n  as_dir=\"$ac_dir\"; as_fn_mkdir_p\n  ac_builddir=.\n\ncase \"$ac_dir\" in\n.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;\n*)\n  ac_dir_suffix=/`$as_echo \"$ac_dir\" | sed 's|^\\.[\\\\/]||'`\n  # A \"..\" for each directory in $ac_dir_suffix.\n  ac_top_builddir_sub=`$as_echo \"$ac_dir_suffix\" | sed 's|/[^\\\\/]*|/..|g;s|/||'`\n  case $ac_top_builddir_sub in\n  \"\") ac_top_builddir_sub=. ac_top_build_prefix= ;;\n  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;\n  esac ;;\nesac\nac_abs_top_builddir=$ac_pwd\nac_abs_builddir=$ac_pwd$ac_dir_suffix\n# for backward compatibility:\nac_top_builddir=$ac_top_build_prefix\n\ncase $srcdir in\n  .)  # We are building in place.\n    ac_srcdir=.\n    ac_top_srcdir=$ac_top_builddir_sub\n    ac_abs_top_srcdir=$ac_pwd ;;\n  [\\\\/]* | ?:[\\\\/]* )  # Absolute name.\n    ac_srcdir=$srcdir$ac_dir_suffix;\n    ac_top_srcdir=$srcdir\n    ac_abs_top_srcdir=$srcdir ;;\n  *) # Relative name.\n    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix\n    ac_top_srcdir=$ac_top_build_prefix$srcdir\n    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;\nesac\nac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix\n\n\n  case $ac_mode in\n  :F)\n  #\n  # CONFIG_FILE\n  #\n\n  case $INSTALL in\n  [\\\\/$]* | ?:[\\\\/]* ) ac_INSTALL=$INSTALL ;;\n  *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;\n  esac\n  ac_MKDIR_P=$MKDIR_P\n  case $MKDIR_P in\n  [\\\\/$]* | ?:[\\\\/]* ) ;;\n  */*) ac_MKDIR_P=$ac_top_build_prefix$MKDIR_P ;;\n  esac\n_ACEOF\n\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n# If the template does not know about datarootdir, expand it.\n# FIXME: This hack should be removed a few years after 2.60.\nac_datarootdir_hack=; ac_datarootdir_seen=\nac_sed_dataroot='\n/datarootdir/ {\n  p\n  q\n}\n/@datadir@/p\n/@docdir@/p\n/@infodir@/p\n/@localedir@/p\n/@mandir@/p'\ncase `eval \"sed -n \\\"\\$ac_sed_dataroot\\\" $ac_file_inputs\"` in\n*datarootdir*) ac_datarootdir_seen=yes;;\n*@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting\" >&5\n$as_echo \"$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting\" >&2;}\n_ACEOF\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n  ac_datarootdir_hack='\n  s&@datadir@&$datadir&g\n  s&@docdir@&$docdir&g\n  s&@infodir@&$infodir&g\n  s&@localedir@&$localedir&g\n  s&@mandir@&$mandir&g\n  s&\\\\\\${datarootdir}&$datarootdir&g' ;;\nesac\n_ACEOF\n\n# Neutralize VPATH when `$srcdir' = `.'.\n# Shell code in configure.ac might set extrasub.\n# FIXME: do we really want to maintain this feature?\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\nac_sed_extra=\"$ac_vpsub\n$extrasub\n_ACEOF\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n:t\n/@[a-zA-Z_][a-zA-Z_0-9]*@/!b\ns|@configure_input@|$ac_sed_conf_input|;t t\ns&@top_builddir@&$ac_top_builddir_sub&;t t\ns&@top_build_prefix@&$ac_top_build_prefix&;t t\ns&@srcdir@&$ac_srcdir&;t t\ns&@abs_srcdir@&$ac_abs_srcdir&;t t\ns&@top_srcdir@&$ac_top_srcdir&;t t\ns&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t\ns&@builddir@&$ac_builddir&;t t\ns&@abs_builddir@&$ac_abs_builddir&;t t\ns&@abs_top_builddir@&$ac_abs_top_builddir&;t t\ns&@INSTALL@&$ac_INSTALL&;t t\ns&@MKDIR_P@&$ac_MKDIR_P&;t t\n$ac_datarootdir_hack\n\"\neval sed \\\"\\$ac_sed_extra\\\" \"$ac_file_inputs\" | $AWK -f \"$tmp/subs.awk\" >$tmp/out \\\n  || as_fn_error $? \"could not create $ac_file\" \"$LINENO\" 5\n\ntest -z \"$ac_datarootdir_hack$ac_datarootdir_seen\" &&\n  { ac_out=`sed -n '/\\${datarootdir}/p' \"$tmp/out\"`; test -n \"$ac_out\"; } &&\n  { ac_out=`sed -n '/^[\t ]*datarootdir[\t ]*:*=/p' \"$tmp/out\"`; test -z \"$ac_out\"; } &&\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \\`datarootdir'\nwhich seems to be undefined.  Please make sure it is defined\" >&5\n$as_echo \"$as_me: WARNING: $ac_file contains a reference to the variable \\`datarootdir'\nwhich seems to be undefined.  Please make sure it is defined\" >&2;}\n\n  rm -f \"$tmp/stdin\"\n  case $ac_file in\n  -) cat \"$tmp/out\" && rm -f \"$tmp/out\";;\n  *) rm -f \"$ac_file\" && mv \"$tmp/out\" \"$ac_file\";;\n  esac \\\n  || as_fn_error $? \"could not create $ac_file\" \"$LINENO\" 5\n ;;\n  :H)\n  #\n  # CONFIG_HEADER\n  #\n  if test x\"$ac_file\" != x-; then\n    {\n      $as_echo \"/* $configure_input  */\" \\\n      && eval '$AWK -f \"$tmp/defines.awk\"' \"$ac_file_inputs\"\n    } >\"$tmp/config.h\" \\\n      || as_fn_error $? \"could not create $ac_file\" \"$LINENO\" 5\n    if diff \"$ac_file\" \"$tmp/config.h\" >/dev/null 2>&1; then\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: $ac_file is unchanged\" >&5\n$as_echo \"$as_me: $ac_file is unchanged\" >&6;}\n    else\n      rm -f \"$ac_file\"\n      mv \"$tmp/config.h\" \"$ac_file\" \\\n\t|| as_fn_error $? \"could not create $ac_file\" \"$LINENO\" 5\n    fi\n  else\n    $as_echo \"/* $configure_input  */\" \\\n      && eval '$AWK -f \"$tmp/defines.awk\"' \"$ac_file_inputs\" \\\n      || as_fn_error $? \"could not create -\" \"$LINENO\" 5\n  fi\n ;;\n\n  :C)  { $as_echo \"$as_me:${as_lineno-$LINENO}: executing $ac_file commands\" >&5\n$as_echo \"$as_me: executing $ac_file commands\" >&6;}\n ;;\n  esac\n\n\n  case $ac_file$ac_mode in\n    \"po-directories\":C)\n    for ac_file in $CONFIG_FILES; do\n      # Support \"outfile[:infile[:infile...]]\"\n      case \"$ac_file\" in\n        *:*) ac_file=`echo \"$ac_file\"|sed 's%:.*%%'` ;;\n      esac\n      # PO directories have a Makefile.in generated from Makefile.in.in.\n      case \"$ac_file\" in */Makefile.in)\n        # Adjust a relative srcdir.\n        ac_dir=`echo \"$ac_file\"|sed 's%/[^/][^/]*$%%'`\n        ac_dir_suffix=\"/`echo \"$ac_dir\"|sed 's%^\\./%%'`\"\n        ac_dots=`echo \"$ac_dir_suffix\"|sed 's%/[^/]*%../%g'`\n        # In autoconf-2.13 it is called $ac_given_srcdir.\n        # In autoconf-2.50 it is called $srcdir.\n        test -n \"$ac_given_srcdir\" || ac_given_srcdir=\"$srcdir\"\n        case \"$ac_given_srcdir\" in\n          .)  top_srcdir=`echo $ac_dots|sed 's%/$%%'` ;;\n          /*) top_srcdir=\"$ac_given_srcdir\" ;;\n          *)  top_srcdir=\"$ac_dots$ac_given_srcdir\" ;;\n        esac\n        # Treat a directory as a PO directory if and only if it has a\n        # POTFILES.in file. This allows packages to have multiple PO\n        # directories under different names or in different locations.\n        if test -f \"$ac_given_srcdir/$ac_dir/POTFILES.in\"; then\n          rm -f \"$ac_dir/POTFILES\"\n          test -n \"$as_me\" && echo \"$as_me: creating $ac_dir/POTFILES\" || echo \"creating $ac_dir/POTFILES\"\n          cat \"$ac_given_srcdir/$ac_dir/POTFILES.in\" | sed -e \"/^#/d\" -e \"/^[ \t]*\\$/d\" -e \"s,.*,     $top_srcdir/& \\\\\\\\,\" | sed -e \"\\$s/\\(.*\\) \\\\\\\\/\\1/\" > \"$ac_dir/POTFILES\"\n          POMAKEFILEDEPS=\"POTFILES.in\"\n          # ALL_LINGUAS, POFILES, UPDATEPOFILES, DUMMYPOFILES, GMOFILES depend\n          # on $ac_dir but don't depend on user-specified configuration\n          # parameters.\n          if test -f \"$ac_given_srcdir/$ac_dir/LINGUAS\"; then\n            # The LINGUAS file contains the set of available languages.\n            if test -n \"$OBSOLETE_ALL_LINGUAS\"; then\n              test -n \"$as_me\" && echo \"$as_me: setting ALL_LINGUAS in configure.in is obsolete\" || echo \"setting ALL_LINGUAS in configure.in is obsolete\"\n            fi\n            ALL_LINGUAS_=`sed -e \"/^#/d\" -e \"s/#.*//\" \"$ac_given_srcdir/$ac_dir/LINGUAS\"`\n            # Hide the ALL_LINGUAS assigment from automake < 1.5.\n            eval 'ALL_LINGUAS''=$ALL_LINGUAS_'\n            POMAKEFILEDEPS=\"$POMAKEFILEDEPS LINGUAS\"\n          else\n            # The set of available languages was given in configure.in.\n            # Hide the ALL_LINGUAS assigment from automake < 1.5.\n            eval 'ALL_LINGUAS''=$OBSOLETE_ALL_LINGUAS'\n          fi\n          # Compute POFILES\n          # as      $(foreach lang, $(ALL_LINGUAS), $(srcdir)/$(lang).po)\n          # Compute UPDATEPOFILES\n          # as      $(foreach lang, $(ALL_LINGUAS), $(lang).po-update)\n          # Compute DUMMYPOFILES\n          # as      $(foreach lang, $(ALL_LINGUAS), $(lang).nop)\n          # Compute GMOFILES\n          # as      $(foreach lang, $(ALL_LINGUAS), $(srcdir)/$(lang).gmo)\n          case \"$ac_given_srcdir\" in\n            .) srcdirpre= ;;\n            *) srcdirpre='$(srcdir)/' ;;\n          esac\n          POFILES=\n          UPDATEPOFILES=\n          DUMMYPOFILES=\n          GMOFILES=\n          for lang in $ALL_LINGUAS; do\n            POFILES=\"$POFILES $srcdirpre$lang.po\"\n            UPDATEPOFILES=\"$UPDATEPOFILES $lang.po-update\"\n            DUMMYPOFILES=\"$DUMMYPOFILES $lang.nop\"\n            GMOFILES=\"$GMOFILES $srcdirpre$lang.gmo\"\n          done\n          # CATALOGS depends on both $ac_dir and the user's LINGUAS\n          # environment variable.\n          INST_LINGUAS=\n          if test -n \"$ALL_LINGUAS\"; then\n            for presentlang in $ALL_LINGUAS; do\n              useit=no\n              if test \"%UNSET%\" != \"$LINGUAS\"; then\n                desiredlanguages=\"$LINGUAS\"\n              else\n                desiredlanguages=\"$ALL_LINGUAS\"\n              fi\n              for desiredlang in $desiredlanguages; do\n                # Use the presentlang catalog if desiredlang is\n                #   a. equal to presentlang, or\n                #   b. a variant of presentlang (because in this case,\n                #      presentlang can be used as a fallback for messages\n                #      which are not translated in the desiredlang catalog).\n                case \"$desiredlang\" in\n                  \"$presentlang\"*) useit=yes;;\n                esac\n              done\n              if test $useit = yes; then\n                INST_LINGUAS=\"$INST_LINGUAS $presentlang\"\n              fi\n            done\n          fi\n          CATALOGS=\n          if test -n \"$INST_LINGUAS\"; then\n            for lang in $INST_LINGUAS; do\n              CATALOGS=\"$CATALOGS $lang.gmo\"\n            done\n          fi\n          test -n \"$as_me\" && echo \"$as_me: creating $ac_dir/Makefile\" || echo \"creating $ac_dir/Makefile\"\n          sed -e \"/^POTFILES =/r $ac_dir/POTFILES\" -e \"/^# Makevars/r $ac_given_srcdir/$ac_dir/Makevars\" -e \"s|@POFILES@|$POFILES|g\" -e \"s|@UPDATEPOFILES@|$UPDATEPOFILES|g\" -e \"s|@DUMMYPOFILES@|$DUMMYPOFILES|g\" -e \"s|@GMOFILES@|$GMOFILES|g\" -e \"s|@CATALOGS@|$CATALOGS|g\" -e \"s|@POMAKEFILEDEPS@|$POMAKEFILEDEPS|g\" \"$ac_dir/Makefile.in\" > \"$ac_dir/Makefile\"\n          for f in \"$ac_given_srcdir/$ac_dir\"/Rules-*; do\n            if test -f \"$f\"; then\n              case \"$f\" in\n                *.orig | *.bak | *~) ;;\n                *) cat \"$f\" >> \"$ac_dir/Makefile\" ;;\n              esac\n            fi\n          done\n        fi\n        ;;\n      esac\n    done ;;\n\n  esac\ndone # for ac_tag\n\n\nas_fn_exit 0\n_ACEOF\nac_clean_files=$ac_clean_files_save\n\ntest $ac_write_fail = 0 ||\n  as_fn_error $? \"write failure creating $CONFIG_STATUS\" \"$LINENO\" 5\n\n\n# configure is writing to config.log, and then calls config.status.\n# config.status does its own redirection, appending to config.log.\n# Unfortunately, on DOS this fails, as config.log is still kept open\n# by configure, so config.status won't be able to write to it; its\n# output is simply discarded.  So we exec the FD to /dev/null,\n# effectively closing config.log, so it can be properly (re)opened and\n# appended to by config.status.  When coming back to configure, we\n# need to make the FD available again.\nif test \"$no_create\" != yes; then\n  ac_cs_success=:\n  ac_config_status_args=\n  test \"$silent\" = yes &&\n    ac_config_status_args=\"$ac_config_status_args --quiet\"\n  exec 5>/dev/null\n  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false\n  exec 5>>config.log\n  # Use ||, not &&, to avoid exiting from the if with $? = 1, which\n  # would make configure fail if this is the last instruction.\n  $ac_cs_success || as_fn_exit 1\nfi\nif test -n \"$ac_unrecognized_opts\" && test \"$enable_option_checking\" != no; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: unrecognized options: $ac_unrecognized_opts\" >&5\n$as_echo \"$as_me: WARNING: unrecognized options: $ac_unrecognized_opts\" >&2;}\nfi\n\n\nchmod +x posubst\n", "dnl w3m autoconf\ndnl Process this file with autoconf to produce a configure script.\nAC_INIT(w3m, 0.5.3, satodai@w3m.jp)\nPACKAGE=w3m\nVERSION=0.5.3\nAC_DEFINE_UNQUOTED(PACKAGE, \"$PACKAGE\")\nAC_DEFINE_UNQUOTED(VERSION, \"$VERSION\")\nAC_SUBST(PACKAGE)\nAC_SUBST(VERSION)\n\nAC_SUBST(W3M)\nW3M=w3m\nAC_DEFINE(W3M, w3m)\n\nAC_SUBST(W3M_LANG)\nW3M_LANG=${LC_ALL:-$LANG}\ndnl AM_INIT_AUTOMAKE(w3m, 0.4)\nAC_CONFIG_HEADER(config.h)\ndnl Checks for programs.\nAC_PROG_CXX\nAC_PROG_AWK\nAC_PROG_CC\nAC_PROG_CPP\nAC_PROG_INSTALL\nAC_PROG_LN_S\nAC_PROG_MAKE_SET\nAC_PROG_RANLIB\nAC_PATH_PROGS(PERL, perl, /usr/local/bin/perl)\nAC_PATH_PROGS(NKF, nkf, /usr/local/bin/nkf)\nAC_PATH_PROGS(MAN, man, /usr/bin/man)\nAC_CANONICAL_HOST\n\nAC_EXEEXT\nAC_SUBST(EXEEXT)\n\nAUXBIN_TARGETS=\n\nAC_SUBST(W3M_TARGET)\nAC_SUBST(W3M_LIBS)\nW3M_TARGET=$target\nAC_DEFINE_UNQUOTED(W3M_TARGET, $W3M_TARGET)\n\nAC_W3M_M17N\nif test x$enable_messagel10n = xno; then\n AM_GNU_GETTEXT([external])\nfi\n\nNLSTARGET=\"\"\nif test x\"$USE_NLS\" = xyes; then\n  NLSTARGET=\"po\"\nfi\nAC_SUBST(INTLTARGET)\nAC_SUBST(NLSTARGET)\n\nAC_W3M_COLOR\nAC_W3M_ANSI_COLOR\nAC_W3M_BG_COLOR\n\nAC_W3M_IMAGE\nif test x\"$enable_image\" != xno; then\n AUXBIN_TARGETS=\"$AUXBIN_TARGETS w3mimgdisplay\\$(EXT)\"\n AC_W3M_XFACE\nfi\n\nAC_W3M_KEYMAP\nAC_W3M_MENU\nAC_W3M_MOUSE\nAC_W3M_HISTORY\nAC_W3M_ALARM\n\nAC_W3M_COOKIE\nAC_W3M_NNTP\nAC_W3M_GOPHER\n\nAC_W3M_DICT\nAC_W3M_HELP_CGI\nAC_W3M_EXTERNAL_URI_LOADER\nAC_W3M_W3MMAILER\nAC_W3M_MIGEMO\nAC_W3M_EDITOR\nAC_W3M_MAILER\nAC_W3M_EXT_BROWSER\n\ndnl Checks for ext libs\nfor lib in bsd BSD 44bsd socket nsl dld dl\ndo\n AC_W3M_EXTLIBS($lib)\ndone\n\nAC_W3M_IPv6\nAC_W3M_SSL_DIGEST_AUTH\n\ndnl Checks for libraries.\nAC_CHECK_FUNC(sqrt,,[AC_CHECK_LIB(m, sqrt)])\nif test x\"$enable_mouse\" = xyes; then\n AC_SUBST(USE_W3M)\n AC_CHECK_LIB(gpm, Gpm_Open, [AC_DEFINE(USE_GPM)\n   \t\tW3M_LIBS=\"$W3M_LIBS -lgpm\"])\n AC_SUBST(USE_SYSMOUSE)\n AC_TRY_CPP([#include <sys/consio.h>\n   MOUSE_GETINFO], [AC_DEFINE(USE_SYSMOUSE)],\n   [AC_TRY_CPP([#include <machine/console.h>\n      MOUSE_GETINFO], [AC_DEFINE(USE_SYSMOUSE)])])\nfi\nAC_SUBST(AUXBIN_TARGETS)\nAC_W3M_TERMLIB\nAC_W3M_GC\nAC_CHECK_LIB(z, zError, [AUXBIN_TARGETS=\"$AUXBIN_TARGETS inflate\\$(EXT)\"])\n\nAC_CHECK_TYPE([socklen_t],\n\t [AC_DEFINE(HAVE_SOCKLEN_T)], ,\n\t [#include <sys/types.h>\n\t  #include <sys/socket.h>])\n\nAC_DEFINE(AUXBIN_TARGETS, \"$AUXBIN_TARGETS\")\n\nAC_SUBST(USE_BINMODE_STREAM)\ncase \"$host_os\" in\n  *cygwin*|*os2-emx*|*mingw*)\n    AC_DEFINE(USE_BINMODE_STREAM)\n    ;;\nesac\n\nAC_HEADER_DIRENT\nAC_HEADER_STDC\nAC_HEADER_SYS_WAIT\ndnl AC_CHECK_HEADERS(fcntl.h malloc.h sgtty.h strings.h sys/ioctl.h sys/time.h termio.h unistd.h setjmp.h)\nAC_CHECK_HEADER(termios.h, [AC_DEFINE(HAVE_TERMIOS_H)],\n\t [AC_CHECK_HEADER(termio.h, [AC_DEFINE(HAVE_TERMIO_H)],\n\t  [AC_CHECK_HEADER(sgtty.h, [AC_DEFINE(HAVE_SGTTY_H)])])])\nAC_CHECK_HEADER([float.h], [AC_DEFINE(HAVE_FLOAT_H)])\nAC_CHECK_HEADER([sys/select.h], [AC_DEFINE(HAVE_SYS_SELECT_H)])\nAC_CHECK_HEADER([locale.h], [AC_DEFINE(HAVE_LOCALE_H)])\nAC_CHECK_HEADER([stdint.h], [AC_DEFINE(HAVE_STDINT_H)])\nAC_CHECK_HEADER([inttypes.h], [AC_DEFINE(HAVE_INTTYPES_H)])\n\ndnl Checks for typedefs, structures, and compiler characteristics.\ndnl AC_C_CONST\ndnl AC_C_INLINE\ndnl AC_TYPE_PID_T\ndnl AC_TYPE_SIZE_T\ndnl AC_HEADER_TIME\ndnl AC_STRUCT_TM\nAC_CHECK_SIZEOF(long long, 0)\n\ndnl Checks for library functions.\ndnl AC_FUNC_ALLOCA\ndnl AC_PROG_GCC_TRADITIONAL\ndnl AC_FUNC_MEMCMP\ndnl AC_FUNC_MMAP\ndnl AC_FUNC_SETVBUF_REVERSED\ndnl AC_FUNC_VPRINTF\nAC_CHECK_FUNCS(strcasecmp strcasestr strchr memcpy strerror bcopy setpgrp chdir getcwd getwd readlink setenv putenv strtoll stroq atoll atoq symlink readlink lstat srand48 srandom getpassphrase waitpid setlocale)\nAC_FUNC_STRFTIME\nAC_FUNC_WAIT3\nAC_FUNC_SETPGRP\ncase \"$host_os\" in\n  *cygwin*)\n    ;;\n  *)\n    AM_LANGINFO_CODESET\n    ;;\nesac\nAC_W3M_SYS_ERRLIST\nAC_W3M_SIGSETJMP\nAC_W3M_SIGNAL\n\nAC_SUBST(HELP_DIR)\nHELP_DIR=\"$datadir/$PACKAGE\"\nAC_DEFINE(HELP_DIR, \"$HELP_DIR\")\nAC_SUBST(RC_DIR)\nRC_DIR=\"~/.$PACKAGE\"\nAC_DEFINE(RC_DIR, \"$RC_DIR\")\nAC_SUBST(DOCDIRS)\nDOCDIRS=\"doc:en_English doc-jp:ja_Japanese doc-de:de_German\"\nAC_DEFINE_UNQUOTED(DOCDIRS, \"$DOCDIRS\")\n\nAC_W3M_VERSION\nAC_OUTPUT([Makefile posubst po/Makefile.in \\\nscripts/Makefile scripts/dirlist.cgi \\\nscripts/w3mhelp.cgi \\\nscripts/w3mmail.cgi scripts/xface2xpm \\\nscripts/multipart/Makefile scripts/multipart/multipart.cgi \\\nscripts/w3mman/Makefile scripts/w3mman/w3mman \\\nscripts/w3mman/w3mman.1 scripts/w3mman/w3mman.de.1 \\\nscripts/w3mman/w3mman2html.cgi \\\nlibwc/Makefile \\\nw3mimg/Makefile w3mimg/fb/Makefile w3mimg/x11/Makefile w3mimg/win/Makefile \\\nw3mhelp-w3m_en.html w3mhelp-w3m_ja.html \\\nw3mhelp-lynx_en.html w3mhelp-lynx_ja.html])\n\nchmod +x posubst\n", "/* $Id: main.c,v 1.270 2010/08/24 10:11:51 htrb Exp $ */\n#define MAINPROGRAM\n#include \"fm.h\"\n#include <stdio.h>\n#include <signal.h>\n#include <setjmp.h>\n#include <sys/stat.h>\n#include <sys/types.h>\n#include <unistd.h>\n#include <fcntl.h>\n#if defined(HAVE_WAITPID) || defined(HAVE_WAIT3)\n#include <sys/wait.h>\n#endif\n#include <time.h>\n#if defined(__CYGWIN__) && defined(USE_BINMODE_STREAM)\n#include <io.h>\n#endif\n#include \"terms.h\"\n#include \"myctype.h\"\n#include \"regex.h\"\n#ifdef USE_M17N\n#include \"wc.h\"\n#include \"wtf.h\"\n#ifdef USE_UNICODE\n#include \"ucs.h\"\n#endif\n#endif\n#ifdef USE_MOUSE\n#ifdef USE_GPM\n#include <gpm.h>\n#endif\t\t\t\t/* USE_GPM */\n#if defined(USE_GPM) || defined(USE_SYSMOUSE)\nextern int do_getch();\n#define getch()\tdo_getch()\n#endif\t\t\t\t/* defined(USE_GPM) || defined(USE_SYSMOUSE) */\n#endif\n\n#ifdef __MINGW32_VERSION\n#include <winsock.h>\n\nWSADATA WSAData;\n#endif\n\n#define DSTR_LEN\t256\n\nHist *LoadHist;\nHist *SaveHist;\nHist *URLHist;\nHist *ShellHist;\nHist *TextHist;\n\ntypedef struct _Event {\n    int cmd;\n    void *data;\n    struct _Event *next;\n} Event;\nstatic Event *CurrentEvent = NULL;\nstatic Event *LastEvent = NULL;\n\n#ifdef USE_ALARM\nstatic AlarmEvent DefaultAlarm = {\n    0, AL_UNSET, FUNCNAME_nulcmd, NULL\n};\nstatic AlarmEvent *CurrentAlarm = &DefaultAlarm;\nstatic MySignalHandler SigAlarm(SIGNAL_ARG);\n#endif\n\n#ifdef SIGWINCH\nstatic int need_resize_screen = FALSE;\nstatic MySignalHandler resize_hook(SIGNAL_ARG);\nstatic void resize_screen(void);\n#endif\n\n#ifdef SIGPIPE\nstatic MySignalHandler SigPipe(SIGNAL_ARG);\n#endif\n\n#ifdef USE_MARK\nstatic char *MarkString = NULL;\n#endif\nstatic char *SearchString = NULL;\nint (*searchRoutine) (Buffer *, char *);\n\n#ifndef __MINGW32_VERSION\nJMP_BUF IntReturn;\n#else\n_JBTYPE IntReturn[_JBLEN];\n#endif /* __MINGW32_VERSION */\n\nstatic void delBuffer(Buffer *buf);\nstatic void cmd_loadfile(char *path);\nstatic void cmd_loadURL(char *url, ParsedURL *current, char *referer,\n\t\t\tFormList *request);\nstatic void cmd_loadBuffer(Buffer *buf, int prop, int linkid);\nstatic void keyPressEventProc(int c);\nint show_params_p = 0;\nvoid show_params(FILE * fp);\n\nstatic char *getCurWord(Buffer *buf, int *spos, int *epos);\n\nstatic int display_ok = FALSE;\nstatic void do_dump(Buffer *);\nint prec_num = 0;\nint prev_key = -1;\nint on_target = 1;\nstatic int add_download_list = FALSE;\n\nvoid set_buffer_environ(Buffer *);\nstatic void save_buffer_position(Buffer *buf);\n\nstatic void _followForm(int);\nstatic void _goLine(char *);\nstatic void _newT(void);\nstatic void followTab(TabBuffer * tab);\nstatic void moveTab(TabBuffer * t, TabBuffer * t2, int right);\nstatic void _nextA(int);\nstatic void _prevA(int);\nstatic int check_target = TRUE;\n#define PREC_NUM (prec_num ? prec_num : 1)\n#define PREC_LIMIT 10000\nstatic int searchKeyNum(void);\n\n#define help() fusage(stdout, 0)\n#define usage() fusage(stderr, 1)\n\nint enable_inline_image;\t/* 1 == mlterm OSC 5379, 2 == sixel */\n\nstatic void\nfversion(FILE * f)\n{\n    fprintf(f, \"w3m version %s, options %s\\n\", w3m_version,\n#if LANG == JA\n\t    \"lang=ja\"\n#else\n\t    \"lang=en\"\n#endif\n#ifdef USE_M17N\n\t    \",m17n\"\n#endif\n#ifdef USE_IMAGE\n\t    \",image\"\n#endif\n#ifdef USE_COLOR\n\t    \",color\"\n#ifdef USE_ANSI_COLOR\n\t    \",ansi-color\"\n#endif\n#endif\n#ifdef USE_MOUSE\n\t    \",mouse\"\n#ifdef USE_GPM\n\t    \",gpm\"\n#endif\n#ifdef USE_SYSMOUSE\n\t    \",sysmouse\"\n#endif\n#endif\n#ifdef USE_MENU\n\t    \",menu\"\n#endif\n#ifdef USE_COOKIE\n\t    \",cookie\"\n#endif\n#ifdef USE_SSL\n\t    \",ssl\"\n#ifdef USE_SSL_VERIFY\n\t    \",ssl-verify\"\n#endif\n#endif\n#ifdef USE_EXTERNAL_URI_LOADER\n\t    \",external-uri-loader\"\n#endif\n#ifdef USE_W3MMAILER\n\t    \",w3mmailer\"\n#endif\n#ifdef USE_NNTP\n\t    \",nntp\"\n#endif\n#ifdef USE_GOPHER\n\t    \",gopher\"\n#endif\n#ifdef INET6\n\t    \",ipv6\"\n#endif\n#ifdef USE_ALARM\n\t    \",alarm\"\n#endif\n#ifdef USE_MARK\n\t    \",mark\"\n#endif\n#ifdef USE_MIGEMO\n\t    \",migemo\"\n#endif\n\t);\n}\n\nstatic void\nfusage(FILE * f, int err)\n{\n    fversion(f);\n    /* FIXME: gettextize? */\n    fprintf(f, \"usage: w3m [options] [URL or filename]\\noptions:\\n\");\n    fprintf(f, \"    -t tab           set tab width\\n\");\n    fprintf(f, \"    -r               ignore backspace effect\\n\");\n    fprintf(f, \"    -l line          # of preserved line (default 10000)\\n\");\n#ifdef USE_M17N\n    fprintf(f, \"    -I charset       document charset\\n\");\n    fprintf(f, \"    -O charset       display/output charset\\n\");\n#if 0\t\t\t\t/* use -O{s|j|e} instead */\n    fprintf(f, \"    -e               EUC-JP\\n\");\n    fprintf(f, \"    -s               Shift_JIS\\n\");\n    fprintf(f, \"    -j               JIS\\n\");\n#endif\n#endif\n    fprintf(f, \"    -B               load bookmark\\n\");\n    fprintf(f, \"    -bookmark file   specify bookmark file\\n\");\n    fprintf(f, \"    -T type          specify content-type\\n\");\n    fprintf(f, \"    -m               internet message mode\\n\");\n    fprintf(f, \"    -v               visual startup mode\\n\");\n#ifdef USE_COLOR\n    fprintf(f, \"    -M               monochrome display\\n\");\n#endif\t\t\t\t/* USE_COLOR */\n    fprintf(f,\n\t    \"    -N               open URL of command line on each new tab\\n\");\n    fprintf(f, \"    -F               automatically render frames\\n\");\n    fprintf(f,\n\t    \"    -cols width      specify column width (used with -dump)\\n\");\n    fprintf(f,\n\t    \"    -ppc count       specify the number of pixels per character (4.0...32.0)\\n\");\n#ifdef USE_IMAGE\n    fprintf(f,\n\t    \"    -ppl count       specify the number of pixels per line (4.0...64.0)\\n\");\n#endif\n    fprintf(f, \"    -dump            dump formatted page into stdout\\n\");\n    fprintf(f,\n\t    \"    -dump_head       dump response of HEAD request into stdout\\n\");\n    fprintf(f, \"    -dump_source     dump page source into stdout\\n\");\n    fprintf(f, \"    -dump_both       dump HEAD and source into stdout\\n\");\n    fprintf(f,\n\t    \"    -dump_extra      dump HEAD, source, and extra information into stdout\\n\");\n    fprintf(f, \"    -post file       use POST method with file content\\n\");\n    fprintf(f, \"    -header string   insert string as a header\\n\");\n    fprintf(f, \"    +<num>           goto <num> line\\n\");\n    fprintf(f, \"    -num             show line number\\n\");\n    fprintf(f, \"    -no-proxy        don't use proxy\\n\");\n#ifdef INET6\n    fprintf(f, \"    -4               IPv4 only (-o dns_order=4)\\n\");\n    fprintf(f, \"    -6               IPv6 only (-o dns_order=6)\\n\");\n#endif\n#ifdef USE_MOUSE\n    fprintf(f, \"    -no-mouse        don't use mouse\\n\");\n#endif\t\t\t\t/* USE_MOUSE */\n#ifdef USE_COOKIE\n    fprintf(f,\n\t    \"    -cookie          use cookie (-no-cookie: don't use cookie)\\n\");\n#endif\t\t\t\t/* USE_COOKIE */\n    fprintf(f, \"    -graph           use DEC special graphics for border of table and menu\\n\");\n    fprintf(f, \"    -no-graph        use ASCII character for border of table and menu\\n\");\n#if 1\t\t\t\t/* pager requires -s */\n    fprintf(f, \"    -s               squeeze multiple blank lines\\n\");\n#else\n    fprintf(f, \"    -S               squeeze multiple blank lines\\n\");\n#endif\n    fprintf(f, \"    -W               toggle search wrap mode\\n\");\n    fprintf(f, \"    -X               don't use termcap init/deinit\\n\");\n    fprintf(f,\n\t    \"    -title[=TERM]    set buffer name to terminal title string\\n\");\n    fprintf(f, \"    -o opt=value     assign value to config option\\n\");\n    fprintf(f, \"    -show-option     print all config options\\n\");\n    fprintf(f, \"    -config file     specify config file\\n\");\n    fprintf(f, \"    -help            print this usage message\\n\");\n    fprintf(f, \"    -version         print w3m version\\n\");\n    fprintf(f, \"    -reqlog          write request logfile\\n\");\n    fprintf(f, \"    -debug           DO NOT USE\\n\");\n    if (show_params_p)\n\tshow_params(f);\n    exit(err);\n}\n\n#ifdef USE_M17N\n#ifdef __EMX__\nstatic char *getCodePage(void);\n#endif\n#endif\n\nstatic GC_warn_proc orig_GC_warn_proc = NULL;\n#define GC_WARN_KEEP_MAX (20)\n\nstatic void\nwrap_GC_warn_proc(char *msg, GC_word arg)\n{\n    if (fmInitialized) {\n\t/* *INDENT-OFF* */\n\tstatic struct {\n\t    char *msg;\n\t    GC_word arg;\n\t} msg_ring[GC_WARN_KEEP_MAX];\n\t/* *INDENT-ON* */\n\tstatic int i = 0;\n\tstatic int n = 0;\n\tstatic int lock = 0;\n\tint j;\n\n\tj = (i + n) % (sizeof(msg_ring) / sizeof(msg_ring[0]));\n\tmsg_ring[j].msg = msg;\n\tmsg_ring[j].arg = arg;\n\n\tif (n < sizeof(msg_ring) / sizeof(msg_ring[0]))\n\t    ++n;\n\telse\n\t    ++i;\n\n\tif (!lock) {\n\t    lock = 1;\n\n\t    for (; n > 0; --n, ++i) {\n\t\ti %= sizeof(msg_ring) / sizeof(msg_ring[0]);\n\n\t\tprintf(msg_ring[i].msg,\t(unsigned long)msg_ring[i].arg);\n\t\tsleep_till_anykey(1, 1);\n\t    }\n\n\t    lock = 0;\n\t}\n    }\n    else if (orig_GC_warn_proc)\n\torig_GC_warn_proc(msg, arg);\n    else\n\tfprintf(stderr, msg, (unsigned long)arg);\n}\n\n#ifdef SIGCHLD\nstatic void\nsig_chld(int signo)\n{\n    int p_stat;\n    pid_t pid;\n\n#ifdef HAVE_WAITPID\n    while ((pid = waitpid(-1, &p_stat, WNOHANG)) > 0)\n#elif HAVE_WAIT3\n    while ((pid = wait3(&p_stat, WNOHANG, NULL)) > 0)\n#else\n    if ((pid = wait(&p_stat)) > 0)\n#endif\n    {\n\tDownloadList *d;\n\n\tif (WIFEXITED(p_stat)) {\n\t    for (d = FirstDL; d != NULL; d = d->next) {\n\t\tif (d->pid == pid) {\n\t\t    d->err = WEXITSTATUS(p_stat);\n\t\t    break;\n\t\t}\n\t    }\n\t}\n    }\n    mySignal(SIGCHLD, sig_chld);\n    return;\n}\n#endif\n\nStr\nmake_optional_header_string(char *s)\n{\n    char *p;\n    Str hs;\n\n    if (strchr(s, '\\n') || strchr(s, '\\r'))\n\treturn NULL;\n    for (p = s; *p && *p != ':'; p++) ;\n    if (*p != ':' || p == s)\n\treturn NULL;\n    hs = Strnew_size(strlen(s) + 3);\n    Strcopy_charp_n(hs, s, p - s);\n    if (!Strcasecmp_charp(hs, \"content-type\"))\n\toverride_content_type = TRUE;\n    Strcat_charp(hs, \": \");\n    if (*(++p)) {\t\t/* not null header */\n\tSKIP_BLANKS(p);\t\t/* skip white spaces */\n\tStrcat_charp(hs, p);\n    }\n    Strcat_charp(hs, \"\\r\\n\");\n    return hs;\n}\n\nstatic void *\ndie_oom(size_t bytes)\n{\n    fprintf(stderr, \"Out of memory: %lu bytes unavailable!\\n\", (unsigned long)bytes);\n    exit(1);\n}\n\nint\nmain(int argc, char **argv, char **envp)\n{\n    Buffer *newbuf = NULL;\n    char *p, c;\n    int i;\n    InputStream redin;\n    char *line_str = NULL;\n    char **load_argv;\n    FormList *request;\n    int load_argc = 0;\n    int load_bookmark = FALSE;\n    int visual_start = FALSE;\n    int open_new_tab = FALSE;\n    char search_header = FALSE;\n    char *default_type = NULL;\n    char *post_file = NULL;\n    Str err_msg;\n#ifdef USE_M17N\n    char *Locale = NULL;\n    wc_uint8 auto_detect;\n#ifdef __EMX__\n    wc_ces CodePage;\n#endif\n#endif\n#if defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE)\n    char **getimage_args = NULL;\n#endif /* defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE) */\n    GC_INIT();\n#if (GC_VERSION_MAJOR>7) || ((GC_VERSION_MAJOR==7) && (GC_VERSION_MINOR>=2))\n    GC_set_oom_fn(die_oom);\n#else\n    GC_oom_fn = die_oom;\n#endif\n#if defined(ENABLE_NLS) || (defined(USE_M17N) && defined(HAVE_LANGINFO_CODESET))\n    setlocale(LC_ALL, \"\");\n#endif\n#ifdef ENABLE_NLS\n    bindtextdomain(PACKAGE, LOCALEDIR);\n    textdomain(PACKAGE);\n#endif\n\n#ifndef HAVE_SYS_ERRLIST\n    prepare_sys_errlist();\n#endif\t\t\t\t/* not HAVE_SYS_ERRLIST */\n\n    NO_proxy_domains = newTextList();\n    fileToDelete = newTextList();\n\n    load_argv = New_N(char *, argc - 1);\n    load_argc = 0;\n\n    CurrentDir = currentdir();\n    CurrentPid = (int)getpid();\n#if defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE)\n    if (argv[0] && *argv[0])\n\tMyProgramName = argv[0];\n#endif /* defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE) */\n    BookmarkFile = NULL;\n    config_file = NULL;\n\n    /* argument search 1 */\n    for (i = 1; i < argc; i++) {\n\tif (*argv[i] == '-') {\n\t    if (!strcmp(\"-config\", argv[i])) {\n\t\targv[i] = \"-dummy\";\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tconfig_file = argv[i];\n\t\targv[i] = \"-dummy\";\n\t    }\n\t    else if (!strcmp(\"-h\", argv[i]) || !strcmp(\"-help\", argv[i]))\n\t\thelp();\n\t    else if (!strcmp(\"-V\", argv[i]) || !strcmp(\"-version\", argv[i])) {\n\t\tfversion(stdout);\n\t\texit(0);\n\t    }\n\t}\n    }\n\n#ifdef USE_M17N\n    if (non_null(Locale = getenv(\"LC_ALL\")) ||\n\tnon_null(Locale = getenv(\"LC_CTYPE\")) ||\n\tnon_null(Locale = getenv(\"LANG\"))) {\n\tDisplayCharset = wc_guess_locale_charset(Locale, DisplayCharset);\n\tDocumentCharset = wc_guess_locale_charset(Locale, DocumentCharset);\n\tSystemCharset = wc_guess_locale_charset(Locale, SystemCharset);\n    }\n#ifdef __EMX__\n    CodePage = wc_guess_charset(getCodePage(), 0);\n    if (CodePage)\n\tDisplayCharset = DocumentCharset = SystemCharset = CodePage;\n#endif\n#endif\n\n    /* initializations */\n    init_rc();\n\n    LoadHist = newHist();\n    SaveHist = newHist();\n    ShellHist = newHist();\n    TextHist = newHist();\n    URLHist = newHist();\n\n#ifdef USE_M17N\n    if (FollowLocale && Locale) {\n\tDisplayCharset = wc_guess_locale_charset(Locale, DisplayCharset);\n\tSystemCharset = wc_guess_locale_charset(Locale, SystemCharset);\n    }\n    auto_detect = WcOption.auto_detect;\n    BookmarkCharset = DocumentCharset;\n#endif\n\n    if (!non_null(HTTP_proxy) &&\n\t((p = getenv(\"HTTP_PROXY\")) ||\n\t (p = getenv(\"http_proxy\")) || (p = getenv(\"HTTP_proxy\"))))\n\tHTTP_proxy = p;\n#ifdef USE_SSL\n    if (!non_null(HTTPS_proxy) &&\n\t((p = getenv(\"HTTPS_PROXY\")) ||\n\t (p = getenv(\"https_proxy\")) || (p = getenv(\"HTTPS_proxy\"))))\n\tHTTPS_proxy = p;\n    if (HTTPS_proxy == NULL && non_null(HTTP_proxy))\n\tHTTPS_proxy = HTTP_proxy;\n#endif\t\t\t\t/* USE_SSL */\n#ifdef USE_GOPHER\n    if (!non_null(GOPHER_proxy) &&\n\t((p = getenv(\"GOPHER_PROXY\")) ||\n\t (p = getenv(\"gopher_proxy\")) || (p = getenv(\"GOPHER_proxy\"))))\n\tGOPHER_proxy = p;\n#endif\t\t\t\t/* USE_GOPHER */\n    if (!non_null(FTP_proxy) &&\n\t((p = getenv(\"FTP_PROXY\")) ||\n\t (p = getenv(\"ftp_proxy\")) || (p = getenv(\"FTP_proxy\"))))\n\tFTP_proxy = p;\n    if (!non_null(NO_proxy) &&\n\t((p = getenv(\"NO_PROXY\")) ||\n\t (p = getenv(\"no_proxy\")) || (p = getenv(\"NO_proxy\"))))\n\tNO_proxy = p;\n#ifdef USE_NNTP\n    if (!non_null(NNTP_server) && (p = getenv(\"NNTPSERVER\")) != NULL)\n\tNNTP_server = p;\n    if (!non_null(NNTP_mode) && (p = getenv(\"NNTPMODE\")) != NULL)\n\tNNTP_mode = p;\n#endif\n\n    if (!non_null(Editor) && (p = getenv(\"EDITOR\")) != NULL)\n\tEditor = p;\n    if (!non_null(Mailer) && (p = getenv(\"MAILER\")) != NULL)\n\tMailer = p;\n\n    /* argument search 2 */\n    i = 1;\n    while (i < argc) {\n\tif (*argv[i] == '-') {\n\t    if (!strcmp(\"-t\", argv[i])) {\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tif (atoi(argv[i]) > 0)\n\t\t    Tabstop = atoi(argv[i]);\n\t    }\n\t    else if (!strcmp(\"-r\", argv[i]))\n\t\tShowEffect = FALSE;\n\t    else if (!strcmp(\"-l\", argv[i])) {\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tif (atoi(argv[i]) > 0)\n\t\t    PagerMax = atoi(argv[i]);\n\t    }\n#ifdef USE_M17N\n#if 0\t\t\t\t/* use -O{s|j|e} instead */\n\t    else if (!strcmp(\"-s\", argv[i]))\n\t\tDisplayCharset = WC_CES_SHIFT_JIS;\n\t    else if (!strcmp(\"-j\", argv[i]))\n\t\tDisplayCharset = WC_CES_ISO_2022_JP;\n\t    else if (!strcmp(\"-e\", argv[i]))\n\t\tDisplayCharset = WC_CES_EUC_JP;\n#endif\n\t    else if (!strncmp(\"-I\", argv[i], 2)) {\n\t\tif (argv[i][2] != '\\0')\n\t\t    p = argv[i] + 2;\n\t\telse {\n\t\t    if (++i >= argc)\n\t\t\tusage();\n\t\t    p = argv[i];\n\t\t}\n\t\tDocumentCharset = wc_guess_charset_short(p, DocumentCharset);\n\t\tWcOption.auto_detect = WC_OPT_DETECT_OFF;\n\t\tUseContentCharset = FALSE;\n\t    }\n\t    else if (!strncmp(\"-O\", argv[i], 2)) {\n\t\tif (argv[i][2] != '\\0')\n\t\t    p = argv[i] + 2;\n\t\telse {\n\t\t    if (++i >= argc)\n\t\t\tusage();\n\t\t    p = argv[i];\n\t\t}\n\t\tDisplayCharset = wc_guess_charset_short(p, DisplayCharset);\n\t    }\n#endif\n\t    else if (!strcmp(\"-graph\", argv[i]))\n\t\tUseGraphicChar = GRAPHIC_CHAR_DEC;\n\t    else if (!strcmp(\"-no-graph\", argv[i]))\n\t\tUseGraphicChar = GRAPHIC_CHAR_ASCII;\n\t    else if (!strcmp(\"-T\", argv[i])) {\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tDefaultType = default_type = argv[i];\n\t    }\n\t    else if (!strcmp(\"-m\", argv[i]))\n\t\tSearchHeader = search_header = TRUE;\n\t    else if (!strcmp(\"-v\", argv[i]))\n\t\tvisual_start = TRUE;\n\t    else if (!strcmp(\"-N\", argv[i]))\n\t\topen_new_tab = TRUE;\n#ifdef USE_COLOR\n\t    else if (!strcmp(\"-M\", argv[i]))\n\t\tuseColor = FALSE;\n#endif\t\t\t\t/* USE_COLOR */\n\t    else if (!strcmp(\"-B\", argv[i]))\n\t\tload_bookmark = TRUE;\n\t    else if (!strcmp(\"-bookmark\", argv[i])) {\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tBookmarkFile = argv[i];\n\t\tif (BookmarkFile[0] != '~' && BookmarkFile[0] != '/') {\n\t\t    Str tmp = Strnew_charp(CurrentDir);\n\t\t    if (Strlastchar(tmp) != '/')\n\t\t\tStrcat_char(tmp, '/');\n\t\t    Strcat_charp(tmp, BookmarkFile);\n\t\t    BookmarkFile = cleanupName(tmp->ptr);\n\t\t}\n\t    }\n\t    else if (!strcmp(\"-F\", argv[i]))\n\t\tRenderFrame = TRUE;\n\t    else if (!strcmp(\"-W\", argv[i])) {\n\t\tif (WrapDefault)\n\t\t    WrapDefault = FALSE;\n\t\telse\n\t\t    WrapDefault = TRUE;\n\t    }\n\t    else if (!strcmp(\"-dump\", argv[i]))\n\t\tw3m_dump = DUMP_BUFFER;\n\t    else if (!strcmp(\"-dump_source\", argv[i]))\n\t\tw3m_dump = DUMP_SOURCE;\n\t    else if (!strcmp(\"-dump_head\", argv[i]))\n\t\tw3m_dump = DUMP_HEAD;\n\t    else if (!strcmp(\"-dump_both\", argv[i]))\n\t\tw3m_dump = (DUMP_HEAD | DUMP_SOURCE);\n\t    else if (!strcmp(\"-dump_extra\", argv[i]))\n\t\tw3m_dump = (DUMP_HEAD | DUMP_SOURCE | DUMP_EXTRA);\n\t    else if (!strcmp(\"-halfdump\", argv[i]))\n\t\tw3m_dump = DUMP_HALFDUMP;\n\t    else if (!strcmp(\"-halfload\", argv[i])) {\n\t\tw3m_dump = 0;\n\t\tw3m_halfload = TRUE;\n\t\tDefaultType = default_type = \"text/html\";\n\t    }\n\t    else if (!strcmp(\"-backend\", argv[i])) {\n\t\tw3m_backend = TRUE;\n\t    }\n\t    else if (!strcmp(\"-backend_batch\", argv[i])) {\n\t\tw3m_backend = TRUE;\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tif (!backend_batch_commands)\n\t\t    backend_batch_commands = newTextList();\n\t\tpushText(backend_batch_commands, argv[i]);\n\t    }\n\t    else if (!strcmp(\"-cols\", argv[i])) {\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tCOLS = atoi(argv[i]);\n\t\tif (COLS > MAXIMUM_COLS) {\n\t\t    COLS = MAXIMUM_COLS;\n\t\t}\n\t    }\n\t    else if (!strcmp(\"-ppc\", argv[i])) {\n\t\tdouble ppc;\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tppc = atof(argv[i]);\n\t\tif (ppc >= MINIMUM_PIXEL_PER_CHAR &&\n\t\t    ppc <= MAXIMUM_PIXEL_PER_CHAR) {\n\t\t    pixel_per_char = ppc;\n\t\t    set_pixel_per_char = TRUE;\n\t\t}\n\t    }\n#ifdef USE_IMAGE\n\t    else if (!strcmp(\"-ppl\", argv[i])) {\n\t\tdouble ppc;\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tppc = atof(argv[i]);\n\t\tif (ppc >= MINIMUM_PIXEL_PER_CHAR &&\n\t\t    ppc <= MAXIMUM_PIXEL_PER_CHAR * 2) {\n\t\t    pixel_per_line = ppc;\n\t\t    set_pixel_per_line = TRUE;\n\t\t}\n\t    }\n#endif\n\t    else if (!strcmp(\"-ri\", argv[i])) {\n\t        enable_inline_image = 1;\n\t    }\n\t    else if (!strcmp(\"-sixel\", argv[i])) {\n\t\tenable_inline_image = 2;\n\t    }\n\t    else if (!strcmp(\"-num\", argv[i]))\n\t\tshowLineNum = TRUE;\n\t    else if (!strcmp(\"-no-proxy\", argv[i]))\n\t\tuse_proxy = FALSE;\n#ifdef INET6\n\t    else if (!strcmp(\"-4\", argv[i]) || !strcmp(\"-6\", argv[i]))\n\t\tset_param_option(Sprintf(\"dns_order=%c\", argv[i][1])->ptr);\n#endif\n\t    else if (!strcmp(\"-post\", argv[i])) {\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tpost_file = argv[i];\n\t    }\n\t    else if (!strcmp(\"-header\", argv[i])) {\n\t\tStr hs;\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tif ((hs = make_optional_header_string(argv[i])) != NULL) {\n\t\t    if (header_string == NULL)\n\t\t\theader_string = hs;\n\t\t    else\n\t\t\tStrcat(header_string, hs);\n\t\t}\n\t\twhile (argv[i][0]) {\n\t\t    argv[i][0] = '\\0';\n\t\t    argv[i]++;\n\t\t}\n\t    }\n#ifdef USE_MOUSE\n\t    else if (!strcmp(\"-no-mouse\", argv[i])) {\n\t\tuse_mouse = FALSE;\n\t    }\n#endif\t\t\t\t/* USE_MOUSE */\n#ifdef USE_COOKIE\n\t    else if (!strcmp(\"-no-cookie\", argv[i])) {\n\t\tuse_cookie = FALSE;\n\t\taccept_cookie = FALSE;\n\t    }\n\t    else if (!strcmp(\"-cookie\", argv[i])) {\n\t\tuse_cookie = TRUE;\n\t\taccept_cookie = TRUE;\n\t    }\n#endif\t\t\t\t/* USE_COOKIE */\n#if 1\t\t\t\t/* pager requires -s */\n\t    else if (!strcmp(\"-s\", argv[i]))\n#else\n\t    else if (!strcmp(\"-S\", argv[i]))\n#endif\n\t\tsqueezeBlankLine = TRUE;\n\t    else if (!strcmp(\"-X\", argv[i]))\n\t\tDo_not_use_ti_te = TRUE;\n\t    else if (!strcmp(\"-title\", argv[i]))\n\t\tdisplayTitleTerm = getenv(\"TERM\");\n\t    else if (!strncmp(\"-title=\", argv[i], 7))\n\t\tdisplayTitleTerm = argv[i] + 7;\n\t    else if (!strcmp(\"-o\", argv[i]) ||\n\t\t     !strcmp(\"-show-option\", argv[i])) {\n\t\tif (!strcmp(\"-show-option\", argv[i]) || ++i >= argc ||\n\t\t    !strcmp(argv[i], \"?\")) {\n\t\t    show_params(stdout);\n\t\t    exit(0);\n\t\t}\n\t\tif (!set_param_option(argv[i])) {\n\t\t    /* option set failed */\n\t\t    /* FIXME: gettextize? */\n\t\t    fprintf(stderr, \"%s: bad option\\n\", argv[i]);\n\t\t    show_params_p = 1;\n\t\t    usage();\n\t\t}\n\t    }\n\t    else if (!strcmp(\"-dummy\", argv[i])) {\n\t\t/* do nothing */\n\t    }\n\t    else if (!strcmp(\"-debug\", argv[i])) {\n\t\tw3m_debug = TRUE;\n\t    }\n\t    else if (!strcmp(\"-reqlog\",argv[i])) {\n\t\tw3m_reqlog=rcFile(\"request.log\");\n\t    }\n#if defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE)\n\t    else if (!strcmp(\"-$$getimage\", argv[i])) {\n\t\t++i;\n\t\tgetimage_args = argv + i;\n\t\ti += 4;\n\t\tif (i > argc)\n\t\t    usage();\n\t    }\n#endif /* defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE) */\n\t    else {\n\t\tusage();\n\t    }\n\t}\n\telse if (*argv[i] == '+') {\n\t    line_str = argv[i] + 1;\n\t}\n\telse {\n\t    load_argv[load_argc++] = argv[i];\n\t}\n\ti++;\n    }\n\n#ifdef\t__WATT32__\n    if (w3m_debug)\n\tdbug_init();\n    sock_init();\n#endif\n\n#ifdef __MINGW32_VERSION\n    {\n      int err;\n      WORD wVerReq;\n\n      wVerReq = MAKEWORD(1, 1);\n\n      err = WSAStartup(wVerReq, &WSAData);\n      if (err != 0)\n        {\n\t  fprintf(stderr, \"Can't find winsock\\n\");\n\t  return 1;\n        }\n      _fmode = _O_BINARY;\n    }\n#endif\n\n    FirstTab = NULL;\n    LastTab = NULL;\n    nTab = 0;\n    CurrentTab = NULL;\n    CurrentKey = -1;\n    if (BookmarkFile == NULL)\n\tBookmarkFile = rcFile(BOOKMARK);\n\n    if (!isatty(1) && !w3m_dump) {\n\t/* redirected output */\n\tw3m_dump = DUMP_BUFFER;\n    }\n    if (w3m_dump) {\n\tif (COLS == 0)\n\t    COLS = DEFAULT_COLS;\n    }\n\n#ifdef USE_BINMODE_STREAM\n    setmode(fileno(stdout), O_BINARY);\n#endif\n    if (!w3m_dump && !w3m_backend) {\n\tfmInit();\n#ifdef SIGWINCH\n\tmySignal(SIGWINCH, resize_hook);\n#else\t\t\t\t/* not SIGWINCH */\n\tsetlinescols();\n\tsetupscreen();\n#endif\t\t\t\t/* not SIGWINCH */\n    }\n#ifdef USE_IMAGE\n    else if (w3m_halfdump && displayImage)\n\tactiveImage = TRUE;\n#endif\n\n    sync_with_option();\n#ifdef USE_COOKIE\n    initCookie();\n#endif\t\t\t\t/* USE_COOKIE */\n#ifdef USE_HISTORY\n    if (UseHistory)\n\tloadHistory(URLHist);\n#endif\t\t\t\t/* not USE_HISTORY */\n\n#ifdef USE_M17N\n    wtf_init(DocumentCharset, DisplayCharset);\n    /*  if (w3m_dump)\n     *    WcOption.pre_conv = WC_TRUE; \n     */\n#endif\n\n    if (w3m_backend)\n\tbackend();\n#if defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE)\n    if (getimage_args) {\n\tchar *image_url = conv_from_system(getimage_args[0]);\n\tchar *base_url = conv_from_system(getimage_args[1]);\n\tParsedURL base_pu;\n\t\n\tparseURL2(base_url, &base_pu, NULL);\n\timage_source = getimage_args[2];\n\tnewbuf = loadGeneralFile(image_url, &base_pu, NULL, 0, NULL);\n\tif (!newbuf || !newbuf->real_type ||\n\t    strncasecmp(newbuf->real_type, \"image/\", 6))\n\t    unlink(getimage_args[2]);\n#if defined(HAVE_SYMLINK) && defined(HAVE_LSTAT)\n\tsymlink(getimage_args[2], getimage_args[3]);\n#else\n\t{\n\t    FILE *f = fopen(getimage_args[3], \"w\");\n\t    if (f)\n\t\tfclose(f);\n\t}\n#endif\n\tw3m_exit(0);\n    }\n#endif /* defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE) */\n\n    if (w3m_dump)\n\tmySignal(SIGINT, SIG_IGN);\n#ifdef SIGCHLD\n    mySignal(SIGCHLD, sig_chld);\n#endif\n#ifdef SIGPIPE\n    mySignal(SIGPIPE, SigPipe);\n#endif\n\n#if (GC_VERSION_MAJOR>7) || ((GC_VERSION_MAJOR==7) && (GC_VERSION_MINOR>=2))\n    orig_GC_warn_proc = GC_get_warn_proc();\n    GC_set_warn_proc(wrap_GC_warn_proc);\n#else\n    orig_GC_warn_proc = GC_set_warn_proc(wrap_GC_warn_proc);\n#endif\n    err_msg = Strnew();\n    if (load_argc == 0) {\n\t/* no URL specified */\n\tif (!isatty(0)) {\n\t    redin = newFileStream(fdopen(dup(0), \"rb\"), (void (*)())pclose);\n\t    newbuf = openGeneralPagerBuffer(redin);\n\t    dup2(1, 0);\n\t}\n\telse if (load_bookmark) {\n\t    newbuf = loadGeneralFile(BookmarkFile, NULL, NO_REFERER, 0, NULL);\n\t    if (newbuf == NULL)\n\t\tStrcat_charp(err_msg, \"w3m: Can't load bookmark.\\n\");\n\t}\n\telse if (visual_start) {\n\t    /* FIXME: gettextize? */\n\t    Str s_page;\n\t    s_page =\n\t\tStrnew_charp\n\t\t(\"<title>W3M startup page</title><center><b>Welcome to \");\n\t    Strcat_charp(s_page, \"<a href='http://w3m.sourceforge.net/'>\");\n\t    Strcat_m_charp(s_page,\n\t\t\t   \"w3m</a>!<p><p>This is w3m version \",\n\t\t\t   w3m_version,\n\t\t\t   \"<br>Written by <a href='mailto:aito@fw.ipsj.or.jp'>Akinori Ito</a>\",\n\t\t\t   NULL);\n\t    newbuf = loadHTMLString(s_page);\n\t    if (newbuf == NULL)\n\t\tStrcat_charp(err_msg, \"w3m: Can't load string.\\n\");\n\t    else if (newbuf != NO_BUFFER)\n\t\tnewbuf->bufferprop |= (BP_INTERNAL | BP_NO_URL);\n\t}\n\telse if ((p = getenv(\"HTTP_HOME\")) != NULL ||\n\t\t (p = getenv(\"WWW_HOME\")) != NULL) {\n\t    newbuf = loadGeneralFile(p, NULL, NO_REFERER, 0, NULL);\n\t    if (newbuf == NULL)\n\t\tStrcat(err_msg, Sprintf(\"w3m: Can't load %s.\\n\", p));\n\t    else if (newbuf != NO_BUFFER)\n\t\tpushHashHist(URLHist, parsedURL2Str(&newbuf->currentURL)->ptr);\n\t}\n\telse {\n\t    if (fmInitialized)\n\t\tfmTerm();\n\t    usage();\n\t}\n\tif (newbuf == NULL) {\n\t    if (fmInitialized)\n\t\tfmTerm();\n\t    if (err_msg->length)\n\t\tfprintf(stderr, \"%s\", err_msg->ptr);\n\t    w3m_exit(2);\n\t}\n\ti = -1;\n    }\n    else {\n\ti = 0;\n    }\n    for (; i < load_argc; i++) {\n\tif (i >= 0) {\n\t    SearchHeader = search_header;\n\t    DefaultType = default_type;\n\t    char *url;\n\t    \n\t    url = load_argv[i];\n\t    if (getURLScheme(&url) == SCM_MISSING && !ArgvIsURL)\n\t\turl = file_to_url(load_argv[i]);\n\t    else\n\t\turl = url_encode(conv_from_system(load_argv[i]), NULL, 0);\n\t    if (w3m_dump == DUMP_HEAD) {\n\t\trequest = New(FormList);\n\t\trequest->method = FORM_METHOD_HEAD;\n\t\tnewbuf = loadGeneralFile(url, NULL, NO_REFERER, 0, request);\n\t    }\n\t    else {\n\t\tif (post_file && i == 0) {\n\t\t    FILE *fp;\n\t\t    Str body;\n\t\t    if (!strcmp(post_file, \"-\"))\n\t\t\tfp = stdin;\n\t\t    else\n\t\t\tfp = fopen(post_file, \"r\");\n\t\t    if (fp == NULL) {\n\t\t\t/* FIXME: gettextize? */\n\t\t\tStrcat(err_msg,\n\t\t\t       Sprintf(\"w3m: Can't open %s.\\n\", post_file));\n\t\t\tcontinue;\n\t\t    }\n\t\t    body = Strfgetall(fp);\n\t\t    if (fp != stdin)\n\t\t\tfclose(fp);\n\t\t    request =\n\t\t\tnewFormList(NULL, \"post\", NULL, NULL, NULL, NULL,\n\t\t\t\t    NULL);\n\t\t    request->body = body->ptr;\n\t\t    request->boundary = NULL;\n\t\t    request->length = body->length;\n\t\t}\n\t\telse {\n\t\t    request = NULL;\n\t\t}\n\t\tnewbuf = loadGeneralFile(url, NULL, NO_REFERER, 0, request);\n\t    }\n\t    if (newbuf == NULL) {\n\t\t/* FIXME: gettextize? */\n\t\tStrcat(err_msg,\n\t\t       Sprintf(\"w3m: Can't load %s.\\n\", load_argv[i]));\n\t\tcontinue;\n\t    }\n\t    else if (newbuf == NO_BUFFER)\n\t\tcontinue;\n\t    switch (newbuf->real_scheme) {\n\t    case SCM_MAILTO:\n\t\tbreak;\n\t    case SCM_LOCAL:\n\t    case SCM_LOCAL_CGI:\n\t\tunshiftHist(LoadHist, url);\n\t    default:\n\t\tpushHashHist(URLHist, parsedURL2Str(&newbuf->currentURL)->ptr);\n\t\tbreak;\n\t    }\n\t}\n\telse if (newbuf == NO_BUFFER)\n\t    continue;\n\tif (newbuf->pagerSource ||\n\t    (newbuf->real_scheme == SCM_LOCAL && newbuf->header_source &&\n\t     newbuf->currentURL.file && strcmp(newbuf->currentURL.file, \"-\")))\n\t    newbuf->search_header = search_header;\n\tif (CurrentTab == NULL) {\n\t    FirstTab = LastTab = CurrentTab = newTab();\n\t    nTab = 1;\n\t    Firstbuf = Currentbuf = newbuf;\n\t}\n\telse if (open_new_tab) {\n\t    _newT();\n\t    Currentbuf->nextBuffer = newbuf;\n\t    delBuffer(Currentbuf);\n\t}\n\telse {\n\t    Currentbuf->nextBuffer = newbuf;\n\t    Currentbuf = newbuf;\n\t}\n\tif (!w3m_dump || w3m_dump == DUMP_BUFFER) {\n\t    if (Currentbuf->frameset != NULL && RenderFrame)\n\t\trFrame();\n\t}\n\tif (w3m_dump)\n\t    do_dump(Currentbuf);\n\telse {\n\t    Currentbuf = newbuf;\n#ifdef USE_BUFINFO\n\t    saveBufferInfo();\n#endif\n\t}\n    }\n    if (w3m_dump) {\n\tif (err_msg->length)\n\t    fprintf(stderr, \"%s\", err_msg->ptr);\n#ifdef USE_COOKIE\n\tsave_cookies();\n#endif\t\t\t\t/* USE_COOKIE */\n\tw3m_exit(0);\n    }\n\n    if (add_download_list) {\n\tadd_download_list = FALSE;\n\tCurrentTab = LastTab;\n\tif (!FirstTab) {\n\t    FirstTab = LastTab = CurrentTab = newTab();\n\t    nTab = 1;\n\t}\n\tif (!Firstbuf || Firstbuf == NO_BUFFER) {\n\t    Firstbuf = Currentbuf = newBuffer(INIT_BUFFER_WIDTH);\n\t    Currentbuf->bufferprop = BP_INTERNAL | BP_NO_URL;\n\t    Currentbuf->buffername = DOWNLOAD_LIST_TITLE;\n\t}\n\telse\n\t    Currentbuf = Firstbuf;\n\tldDL();\n    }\n    else\n\tCurrentTab = FirstTab;\n    if (!FirstTab || !Firstbuf || Firstbuf == NO_BUFFER) {\n\tif (newbuf == NO_BUFFER) {\n\t    if (fmInitialized)\n\t\t/* FIXME: gettextize? */\n\t\tinputChar(\"Hit any key to quit w3m:\");\n\t}\n\tif (fmInitialized)\n\t    fmTerm();\n\tif (err_msg->length)\n\t    fprintf(stderr, \"%s\", err_msg->ptr);\n\tif (newbuf == NO_BUFFER) {\n#ifdef USE_COOKIE\n\t    save_cookies();\n#endif\t\t\t\t/* USE_COOKIE */\n\t    if (!err_msg->length)\n\t\tw3m_exit(0);\n\t}\n\tw3m_exit(2);\n    }\n    if (err_msg->length)\n\tdisp_message_nsec(err_msg->ptr, FALSE, 1, TRUE, FALSE);\n\n    SearchHeader = FALSE;\n    DefaultType = NULL;\n#ifdef USE_M17N\n    UseContentCharset = TRUE;\n    WcOption.auto_detect = auto_detect;\n#endif\n\n    Currentbuf = Firstbuf;\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n    if (line_str) {\n\t_goLine(line_str);\n    }\n    for (;;) {\n\tif (add_download_list) {\n\t    add_download_list = FALSE;\n\t    ldDL();\n\t}\n\tif (Currentbuf->submit) {\n\t    Anchor *a = Currentbuf->submit;\n\t    Currentbuf->submit = NULL;\n\t    gotoLine(Currentbuf, a->start.line);\n\t    Currentbuf->pos = a->start.pos;\n\t    _followForm(TRUE);\n\t    continue;\n\t}\n\t/* event processing */\n\tif (CurrentEvent) {\n\t    CurrentKey = -1;\n\t    CurrentKeyData = NULL;\n\t    CurrentCmdData = (char *)CurrentEvent->data;\n\t    w3mFuncList[CurrentEvent->cmd].func();\n\t    CurrentCmdData = NULL;\n\t    CurrentEvent = CurrentEvent->next;\n\t    continue;\n\t}\n\t/* get keypress event */\n#ifdef USE_ALARM\n\tif (Currentbuf->event) {\n\t    if (Currentbuf->event->status != AL_UNSET) {\n\t\tCurrentAlarm = Currentbuf->event;\n\t\tif (CurrentAlarm->sec == 0) {\t/* refresh (0sec) */\n\t\t    Currentbuf->event = NULL;\n\t\t    CurrentKey = -1;\n\t\t    CurrentKeyData = NULL;\n\t\t    CurrentCmdData = (char *)CurrentAlarm->data;\n\t\t    w3mFuncList[CurrentAlarm->cmd].func();\n\t\t    CurrentCmdData = NULL;\n\t\t    continue;\n\t\t}\n\t    }\n\t    else\n\t\tCurrentbuf->event = NULL;\n\t}\n\tif (!Currentbuf->event)\n\t    CurrentAlarm = &DefaultAlarm;\n#endif\n#ifdef USE_MOUSE\n\tmouse_action.in_action = FALSE;\n\tif (use_mouse)\n\t    mouse_active();\n#endif\t\t\t\t/* USE_MOUSE */\n#ifdef USE_ALARM\n\tif (CurrentAlarm->sec > 0) {\n\t    mySignal(SIGALRM, SigAlarm);\n\t    alarm(CurrentAlarm->sec);\n\t}\n#endif\n#ifdef SIGWINCH\n\tmySignal(SIGWINCH, resize_hook);\n#endif\n#ifdef USE_IMAGE\n\tif (activeImage && displayImage && Currentbuf->img &&\n\t    !Currentbuf->image_loaded) {\n\t    do {\n#ifdef SIGWINCH\n\t\tif (need_resize_screen)\n\t\t    resize_screen();\n#endif\n\t\tloadImage(Currentbuf, IMG_FLAG_NEXT);\n\t    } while (sleep_till_anykey(1, 0) <= 0);\n\t}\n#ifdef SIGWINCH\n\telse\n#endif\n#endif\n#ifdef SIGWINCH\n\t{\n\t    do {\n\t\tif (need_resize_screen)\n\t\t    resize_screen();\n\t    } while (sleep_till_anykey(1, 0) <= 0);\n\t}\n#endif\n\tc = getch();\n#ifdef USE_ALARM\n\tif (CurrentAlarm->sec > 0) {\n\t    alarm(0);\n\t}\n#endif\n#ifdef USE_MOUSE\n\tif (use_mouse)\n\t    mouse_inactive();\n#endif\t\t\t\t/* USE_MOUSE */\n\tif (IS_ASCII(c)) {\t/* Ascii */\n\t    if (('0' <= c) && (c <= '9') &&\n\t\t(prec_num || (GlobalKeymap[c] == FUNCNAME_nulcmd))) {\n\t\tprec_num = prec_num * 10 + (int)(c - '0');\n\t\tif (prec_num > PREC_LIMIT)\n\t\t   prec_num = PREC_LIMIT;\n\t    }\n\t    else {\n\t\tset_buffer_environ(Currentbuf);\n\t\tsave_buffer_position(Currentbuf);\n\t\tkeyPressEventProc((int)c);\n\t\tprec_num = 0;\n\t    }\n\t}\n\tprev_key = CurrentKey;\n\tCurrentKey = -1;\n\tCurrentKeyData = NULL;\n    }\n}\n\nstatic void\nkeyPressEventProc(int c)\n{\n    CurrentKey = c;\n    w3mFuncList[(int)GlobalKeymap[c]].func();\n}\n\nvoid\npushEvent(int cmd, void *data)\n{\n    Event *event;\n\n    event = New(Event);\n    event->cmd = cmd;\n    event->data = data;\n    event->next = NULL;\n    if (CurrentEvent)\n\tLastEvent->next = event;\n    else\n\tCurrentEvent = event;\n    LastEvent = event;\n}\n\nstatic void\ndump_source(Buffer *buf)\n{\n    FILE *f;\n    int c;\n    if (buf->sourcefile == NULL)\n\treturn;\n    f = fopen(buf->sourcefile, \"r\");\n    if (f == NULL)\n\treturn;\n    while ((c = fgetc(f)) != EOF) {\n\tputchar(c);\n    }\n    fclose(f);\n}\n\nstatic void\ndump_head(Buffer *buf)\n{\n    TextListItem *ti;\n\n    if (buf->document_header == NULL) {\n\tif (w3m_dump & DUMP_EXTRA)\n\t    printf(\"\\n\");\n\treturn;\n    }\n    for (ti = buf->document_header->first; ti; ti = ti->next) {\n#ifdef USE_M17N\n\tprintf(\"%s\",\n\t       wc_conv_strict(ti->ptr, InnerCharset,\n\t\t\t      buf->document_charset)->ptr);\n#else\n\tprintf(\"%s\", ti->ptr);\n#endif\n    }\n    puts(\"\");\n}\n\nstatic void\ndump_extra(Buffer *buf)\n{\n    printf(\"W3m-current-url: %s\\n\", parsedURL2Str(&buf->currentURL)->ptr);\n    if (buf->baseURL)\n\tprintf(\"W3m-base-url: %s\\n\", parsedURL2Str(buf->baseURL)->ptr);\n#ifdef USE_M17N\n    printf(\"W3m-document-charset: %s\\n\",\n\t   wc_ces_to_charset(buf->document_charset));\n#endif\n#ifdef USE_SSL\n    if (buf->ssl_certificate) {\n\tStr tmp = Strnew();\n\tchar *p;\n\tfor (p = buf->ssl_certificate; *p; p++) {\n\t    Strcat_char(tmp, *p);\n\t    if (*p == '\\n') {\n\t\tfor (; *(p + 1) == '\\n'; p++) ;\n\t\tif (*(p + 1))\n\t\t    Strcat_char(tmp, '\\t');\n\t    }\n\t}\n\tif (Strlastchar(tmp) != '\\n')\n\t    Strcat_char(tmp, '\\n');\n\tprintf(\"W3m-ssl-certificate: %s\", tmp->ptr);\n    }\n#endif\n}\n\nstatic int\ncmp_anchor_hseq(const void *a, const void *b)\n{\n    return (*((const Anchor **) a))->hseq - (*((const Anchor **) b))->hseq;\n}\n\nstatic void\ndo_dump(Buffer *buf)\n{\n    MySignalHandler(*volatile prevtrap) (SIGNAL_ARG) = NULL;\n\n    prevtrap = mySignal(SIGINT, intTrap);\n    if (SETJMP(IntReturn) != 0) {\n\tmySignal(SIGINT, prevtrap);\n\treturn;\n    }\n    if (w3m_dump & DUMP_EXTRA)\n\tdump_extra(buf);\n    if (w3m_dump & DUMP_HEAD)\n\tdump_head(buf);\n    if (w3m_dump & DUMP_SOURCE)\n\tdump_source(buf);\n    if (w3m_dump == DUMP_BUFFER) {\n\tint i;\n\tsaveBuffer(buf, stdout, FALSE);\n\tif (displayLinkNumber && buf->href) {\n\t    int nanchor = buf->href->nanchor;\n\t    printf(\"\\nReferences:\\n\\n\");\n\t    Anchor **in_order = New_N(Anchor *, buf->href->nanchor);\n\t    for (i = 0; i < nanchor; i++)\n\t\tin_order[i] = buf->href->anchors + i;\n\t    qsort(in_order, nanchor, sizeof(Anchor *), cmp_anchor_hseq);\n\t    for (i = 0; i < nanchor; i++) {\n\t\tParsedURL pu;\n\t\tchar *url;\n\t\tif (in_order[i]->slave)\n\t\t    continue;\n\t\tparseURL2(in_order[i]->url, &pu, baseURL(buf));\n\t\turl = url_decode2(parsedURL2Str(&pu)->ptr, Currentbuf);\n\t\tprintf(\"[%d] %s\\n\", in_order[i]->hseq + 1, url);\n\t    }\n\t}\n    }\n    mySignal(SIGINT, prevtrap);\n}\n\nDEFUN(nulcmd, NOTHING NULL @@@, \"Do nothing\")\n{\t\t\t\t/* do nothing */\n}\n\n#ifdef __EMX__\nDEFUN(pcmap, PCMAP, \"pcmap\")\n{\n    w3mFuncList[(int)PcKeymap[(int)getch()]].func();\n}\n#else\t\t\t\t/* not __EMX__ */\nvoid\npcmap(void)\n{\n}\n#endif\n\nstatic void\nescKeyProc(int c, int esc, unsigned char *map)\n{\n    if (CurrentKey >= 0 && CurrentKey & K_MULTI) {\n\tunsigned char **mmap;\n\tmmap = (unsigned char **)getKeyData(MULTI_KEY(CurrentKey));\n\tif (!mmap)\n\t    return;\n\tswitch (esc) {\n\tcase K_ESCD:\n\t    map = mmap[3];\n\t    break;\n\tcase K_ESCB:\n\t    map = mmap[2];\n\t    break;\n\tcase K_ESC:\n\t    map = mmap[1];\n\t    break;\n\tdefault:\n\t    map = mmap[0];\n\t    break;\n\t}\n\tesc |= (CurrentKey & ~0xFFFF);\n    }\n    CurrentKey = esc | c;\n    w3mFuncList[(int)map[c]].func();\n}\n\nDEFUN(escmap, ESCMAP, \"ESC map\")\n{\n    char c;\n    c = getch();\n    if (IS_ASCII(c))\n\tescKeyProc((int)c, K_ESC, EscKeymap);\n}\n\nDEFUN(escbmap, ESCBMAP, \"ESC [ map\")\n{\n    char c;\n    c = getch();\n    if (IS_DIGIT(c)) {\n\tescdmap(c);\n\treturn;\n    }\n    if (IS_ASCII(c))\n\tescKeyProc((int)c, K_ESCB, EscBKeymap);\n}\n\nvoid\nescdmap(char c)\n{\n    int d;\n    d = (int)c - (int)'0';\n    c = getch();\n    if (IS_DIGIT(c)) {\n\td = d * 10 + (int)c - (int)'0';\n\tc = getch();\n    }\n    if (c == '~')\n\tescKeyProc((int)d, K_ESCD, EscDKeymap);\n}\n\nDEFUN(multimap, MULTIMAP, \"multimap\")\n{\n    char c;\n    c = getch();\n    if (IS_ASCII(c)) {\n\tCurrentKey = K_MULTI | (CurrentKey << 16) | c;\n\tescKeyProc((int)c, 0, NULL);\n    }\n}\n\nvoid\ntmpClearBuffer(Buffer *buf)\n{\n    if (buf->pagerSource == NULL && writeBufferCache(buf) == 0) {\n\tbuf->firstLine = NULL;\n\tbuf->topLine = NULL;\n\tbuf->currentLine = NULL;\n\tbuf->lastLine = NULL;\n    }\n}\n\nstatic Str currentURL(void);\n\n#ifdef USE_BUFINFO\nvoid\nsaveBufferInfo()\n{\n    FILE *fp;\n\n    if (w3m_dump)\n\treturn;\n    if ((fp = fopen(rcFile(\"bufinfo\"), \"w\")) == NULL) {\n\treturn;\n    }\n    fprintf(fp, \"%s\\n\", currentURL()->ptr);\n    fclose(fp);\n}\n#endif\n\nstatic void\npushBuffer(Buffer *buf)\n{\n    Buffer *b;\n\n#ifdef USE_IMAGE\n    deleteImage(Currentbuf);\n#endif\n    if (clear_buffer)\n\ttmpClearBuffer(Currentbuf);\n    if (Firstbuf == Currentbuf) {\n\tbuf->nextBuffer = Firstbuf;\n\tFirstbuf = Currentbuf = buf;\n    }\n    else if ((b = prevBuffer(Firstbuf, Currentbuf)) != NULL) {\n\tb->nextBuffer = buf;\n\tbuf->nextBuffer = Currentbuf;\n\tCurrentbuf = buf;\n    }\n#ifdef USE_BUFINFO\n    saveBufferInfo();\n#endif\n\n}\n\nstatic void\ndelBuffer(Buffer *buf)\n{\n    if (buf == NULL)\n\treturn;\n    if (Currentbuf == buf)\n\tCurrentbuf = buf->nextBuffer;\n    Firstbuf = deleteBuffer(Firstbuf, buf);\n    if (!Currentbuf)\n\tCurrentbuf = Firstbuf;\n}\n\nstatic void\nrepBuffer(Buffer *oldbuf, Buffer *buf)\n{\n    Firstbuf = replaceBuffer(Firstbuf, oldbuf, buf);\n    Currentbuf = buf;\n}\n\n\nMySignalHandler\nintTrap(SIGNAL_ARG)\n{\t\t\t\t/* Interrupt catcher */\n    LONGJMP(IntReturn, 0);\n    SIGNAL_RETURN;\n}\n\n#ifdef SIGWINCH\nstatic MySignalHandler\nresize_hook(SIGNAL_ARG)\n{\n    need_resize_screen = TRUE;\n    mySignal(SIGWINCH, resize_hook);\n    SIGNAL_RETURN;\n}\n\nstatic void\nresize_screen(void)\n{\n    need_resize_screen = FALSE;\n    setlinescols();\n    setupscreen();\n    if (CurrentTab)\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n#endif\t\t\t\t/* SIGWINCH */\n\n#ifdef SIGPIPE\nstatic MySignalHandler\nSigPipe(SIGNAL_ARG)\n{\n#ifdef USE_MIGEMO\n    init_migemo();\n#endif\n    mySignal(SIGPIPE, SigPipe);\n    SIGNAL_RETURN;\n}\n#endif\n\n/* \n * Command functions: These functions are called with a keystroke.\n */\n\nstatic void\nnscroll(int n, int mode)\n{\n    Buffer *buf = Currentbuf;\n    Line *top = buf->topLine, *cur = buf->currentLine;\n    int lnum, tlnum, llnum, diff_n;\n\n    if (buf->firstLine == NULL)\n\treturn;\n    lnum = cur->linenumber;\n    buf->topLine = lineSkip(buf, top, n, FALSE);\n    if (buf->topLine == top) {\n\tlnum += n;\n\tif (lnum < buf->topLine->linenumber)\n\t    lnum = buf->topLine->linenumber;\n\telse if (lnum > buf->lastLine->linenumber)\n\t    lnum = buf->lastLine->linenumber;\n    }\n    else {\n\ttlnum = buf->topLine->linenumber;\n\tllnum = buf->topLine->linenumber + buf->LINES - 1;\n\tif (nextpage_topline)\n\t    diff_n = 0;\n\telse\n\t    diff_n = n - (tlnum - top->linenumber);\n\tif (lnum < tlnum)\n\t    lnum = tlnum + diff_n;\n\tif (lnum > llnum)\n\t    lnum = llnum + diff_n;\n    }\n    gotoLine(buf, lnum);\n    arrangeLine(buf);\n    if (n > 0) {\n\tif (buf->currentLine->bpos &&\n\t    buf->currentLine->bwidth >= buf->currentColumn + buf->visualpos)\n\t    cursorDown(buf, 1);\n\telse {\n\t    while (buf->currentLine->next && buf->currentLine->next->bpos &&\n\t\t   buf->currentLine->bwidth + buf->currentLine->width <\n\t\t   buf->currentColumn + buf->visualpos)\n\t\tcursorDown0(buf, 1);\n\t}\n    }\n    else {\n\tif (buf->currentLine->bwidth + buf->currentLine->width <\n\t    buf->currentColumn + buf->visualpos)\n\t    cursorUp(buf, 1);\n\telse {\n\t    while (buf->currentLine->prev && buf->currentLine->bpos &&\n\t\t   buf->currentLine->bwidth >=\n\t\t   buf->currentColumn + buf->visualpos)\n\t\tcursorUp0(buf, 1);\n\t}\n    }\n    displayBuffer(buf, mode);\n}\n\n/* Move page forward */\nDEFUN(pgFore, NEXT_PAGE, \"Scroll down one page\")\n{\n    if (vi_prec_num)\n\tnscroll(searchKeyNum() * (Currentbuf->LINES - 1), B_NORMAL);\n    else\n\tnscroll(prec_num ? searchKeyNum() : searchKeyNum()\n\t\t* (Currentbuf->LINES - 1), prec_num ? B_SCROLL : B_NORMAL);\n}\n\n/* Move page backward */\nDEFUN(pgBack, PREV_PAGE, \"Scroll up one page\")\n{\n    if (vi_prec_num)\n\tnscroll(-searchKeyNum() * (Currentbuf->LINES - 1), B_NORMAL);\n    else\n\tnscroll(-(prec_num ? searchKeyNum() : searchKeyNum()\n\t\t  * (Currentbuf->LINES - 1)), prec_num ? B_SCROLL : B_NORMAL);\n}\n\n/* Move half page forward */\nDEFUN(hpgFore, NEXT_HALF_PAGE, \"Scroll down half a page\")\n{\n\tnscroll(searchKeyNum() * (Currentbuf->LINES / 2 - 1), B_NORMAL);\n}\n\n/* Move half page backward */\nDEFUN(hpgBack, PREV_HALF_PAGE, \"Scroll up half a page\")\n{\n\tnscroll(-searchKeyNum() * (Currentbuf->LINES / 2 - 1), B_NORMAL);\n}\n\n/* 1 line up */\nDEFUN(lup1, UP, \"Scroll the screen up one line\")\n{\n    nscroll(searchKeyNum(), B_SCROLL);\n}\n\n/* 1 line down */\nDEFUN(ldown1, DOWN, \"Scroll the screen down one line\")\n{\n    nscroll(-searchKeyNum(), B_SCROLL);\n}\n\n/* move cursor position to the center of screen */\nDEFUN(ctrCsrV, CENTER_V, \"Center on cursor line\")\n{\n    int offsety;\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    offsety = Currentbuf->LINES / 2 - Currentbuf->cursorY;\n    if (offsety != 0) {\n#if 0\n\tCurrentbuf->currentLine = lineSkip(Currentbuf,\n\t\t\t\t\t   Currentbuf->currentLine, offsety,\n\t\t\t\t\t   FALSE);\n#endif\n\tCurrentbuf->topLine =\n\t    lineSkip(Currentbuf, Currentbuf->topLine, -offsety, FALSE);\n\tarrangeLine(Currentbuf);\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n    }\n}\n\nDEFUN(ctrCsrH, CENTER_H, \"Center on cursor column\")\n{\n    int offsetx;\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    offsetx = Currentbuf->cursorX - Currentbuf->COLS / 2;\n    if (offsetx != 0) {\n\tcolumnSkip(Currentbuf, offsetx);\n\tarrangeCursor(Currentbuf);\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n    }\n}\n\n/* Redraw screen */\nDEFUN(rdrwSc, REDRAW, \"Draw the screen anew\")\n{\n    clear();\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nstatic void\nclear_mark(Line *l)\n{\n    int pos;\n    if (!l)\n\treturn;\n    for (pos = 0; pos < l->size; pos++)\n\tl->propBuf[pos] &= ~PE_MARK;\n}\n\n/* search by regular expression */\nstatic int\nsrchcore(char *volatile str, int (*func) (Buffer *, char *))\n{\n    MySignalHandler(*prevtrap) ();\n    volatile int i, result = SR_NOTFOUND;\n\n    if (str != NULL && str != SearchString)\n\tSearchString = str;\n    if (SearchString == NULL || *SearchString == '\\0')\n\treturn SR_NOTFOUND;\n\n    str = conv_search_string(SearchString, DisplayCharset);\n    prevtrap = mySignal(SIGINT, intTrap);\n    crmode();\n    if (SETJMP(IntReturn) == 0) {\n\tfor (i = 0; i < PREC_NUM; i++) {\n\t    result = func(Currentbuf, str);\n\t    if (i < PREC_NUM - 1 && result & SR_FOUND)\n\t\tclear_mark(Currentbuf->currentLine);\n\t}\n    }\n    mySignal(SIGINT, prevtrap);\n    term_raw();\n    return result;\n}\n\nstatic void\ndisp_srchresult(int result, char *prompt, char *str)\n{\n    if (str == NULL)\n\tstr = \"\";\n    if (result & SR_NOTFOUND)\n\tdisp_message(Sprintf(\"Not found: %s\", str)->ptr, TRUE);\n    else if (result & SR_WRAPPED)\n\tdisp_message(Sprintf(\"Search wrapped: %s\", str)->ptr, TRUE);\n    else if (show_srch_str)\n\tdisp_message(Sprintf(\"%s%s\", prompt, str)->ptr, TRUE);\n}\n\nstatic int\ndispincsrch(int ch, Str buf, Lineprop *prop)\n{\n    static Buffer sbuf;\n    static Line *currentLine;\n    static int pos;\n    char *str;\n    int do_next_search = FALSE;\n\n    if (ch == 0 && buf == NULL) {\n\tSAVE_BUFPOSITION(&sbuf);\t/* search starting point */\n\tcurrentLine = sbuf.currentLine;\n\tpos = sbuf.pos;\n\treturn -1;\n    }\n\n    str = buf->ptr;\n    switch (ch) {\n    case 022:\t\t\t/* C-r */\n\tsearchRoutine = backwardSearch;\n\tdo_next_search = TRUE;\n\tbreak;\n    case 023:\t\t\t/* C-s */\n\tsearchRoutine = forwardSearch;\n\tdo_next_search = TRUE;\n\tbreak;\n\n#ifdef USE_MIGEMO\n    case 034:\n\tmigemo_active = -migemo_active;\n\tgoto done;\n#endif\n\n    default:\n\tif (ch >= 0)\n\t    return ch;\t\t/* use InputKeymap */\n    }\n\n    if (do_next_search) {\n\tif (*str) {\n\t    if (searchRoutine == forwardSearch)\n\t\tCurrentbuf->pos += 1;\n\t    SAVE_BUFPOSITION(&sbuf);\n\t    if (srchcore(str, searchRoutine) == SR_NOTFOUND\n\t\t&& searchRoutine == forwardSearch) {\n\t\tCurrentbuf->pos -= 1;\n\t\tSAVE_BUFPOSITION(&sbuf);\n\t    }\n\t    arrangeCursor(Currentbuf);\n\t    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n\t    clear_mark(Currentbuf->currentLine);\n\t    return -1;\n\t}\n\telse\n\t    return 020;\t\t/* _prev completion for C-s C-s */\n    }\n    else if (*str) {\n\tRESTORE_BUFPOSITION(&sbuf);\n\tarrangeCursor(Currentbuf);\n\tsrchcore(str, searchRoutine);\n\tarrangeCursor(Currentbuf);\n\tcurrentLine = Currentbuf->currentLine;\n\tpos = Currentbuf->pos;\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n    clear_mark(Currentbuf->currentLine);\n#ifdef USE_MIGEMO\n  done:\n    while (*str++ != '\\0') {\n\tif (migemo_active > 0)\n\t    *prop++ |= PE_UNDER;\n\telse\n\t    *prop++ &= ~PE_UNDER;\n    }\n#endif\n    return -1;\n}\n\nvoid\nisrch(int (*func) (Buffer *, char *), char *prompt)\n{\n    char *str;\n    Buffer sbuf;\n    SAVE_BUFPOSITION(&sbuf);\n    dispincsrch(0, NULL, NULL);\t/* initialize incremental search state */\n\n    searchRoutine = func;\n    str = inputLineHistSearch(prompt, NULL, IN_STRING, TextHist, dispincsrch);\n    if (str == NULL) {\n\tRESTORE_BUFPOSITION(&sbuf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nvoid\nsrch(int (*func) (Buffer *, char *), char *prompt)\n{\n    char *str;\n    int result;\n    int disp = FALSE;\n    int pos;\n\n    str = searchKeyData();\n    if (str == NULL || *str == '\\0') {\n\tstr = inputStrHist(prompt, NULL, TextHist);\n\tif (str != NULL && *str == '\\0')\n\t    str = SearchString;\n\tif (str == NULL) {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n\tdisp = TRUE;\n    }\n    pos = Currentbuf->pos;\n    if (func == forwardSearch)\n\tCurrentbuf->pos += 1;\n    result = srchcore(str, func);\n    if (result & SR_FOUND)\n\tclear_mark(Currentbuf->currentLine);\n    else\n\tCurrentbuf->pos = pos;\n    displayBuffer(Currentbuf, B_NORMAL);\n    if (disp)\n\tdisp_srchresult(result, prompt, str);\n    searchRoutine = func;\n}\n\n/* Search regular expression forward */\n\nDEFUN(srchfor, SEARCH SEARCH_FORE WHEREIS, \"Search forward\")\n{\n    srch(forwardSearch, \"Forward: \");\n}\n\nDEFUN(isrchfor, ISEARCH, \"Incremental search forward\")\n{\n    isrch(forwardSearch, \"I-search: \");\n}\n\n/* Search regular expression backward */\n\nDEFUN(srchbak, SEARCH_BACK, \"Search backward\")\n{\n    srch(backwardSearch, \"Backward: \");\n}\n\nDEFUN(isrchbak, ISEARCH_BACK, \"Incremental search backward\")\n{\n    isrch(backwardSearch, \"I-search backward: \");\n}\n\nstatic void\nsrch_nxtprv(int reverse)\n{\n    int result;\n    /* *INDENT-OFF* */\n    static int (*routine[2]) (Buffer *, char *) = {\n\tforwardSearch, backwardSearch\n    };\n    /* *INDENT-ON* */\n\n    if (searchRoutine == NULL) {\n\t/* FIXME: gettextize? */\n\tdisp_message(\"No previous regular expression\", TRUE);\n\treturn;\n    }\n    if (reverse != 0)\n\treverse = 1;\n    if (searchRoutine == backwardSearch)\n\treverse ^= 1;\n    if (reverse == 0)\n\tCurrentbuf->pos += 1;\n    result = srchcore(SearchString, routine[reverse]);\n    if (result & SR_FOUND)\n\tclear_mark(Currentbuf->currentLine);\n    else {\n\tif (reverse == 0)\n\t    Currentbuf->pos -= 1;\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n    disp_srchresult(result, (reverse ? \"Backward: \" : \"Forward: \"),\n\t\t    SearchString);\n}\n\n/* Search next matching */\nDEFUN(srchnxt, SEARCH_NEXT, \"Continue search forward\")\n{\n    srch_nxtprv(0);\n}\n\n/* Search previous matching */\nDEFUN(srchprv, SEARCH_PREV, \"Continue search backward\")\n{\n    srch_nxtprv(1);\n}\n\nstatic void\nshiftvisualpos(Buffer *buf, int shift)\n{\n    Line *l = buf->currentLine;\n    buf->visualpos -= shift;\n    if (buf->visualpos - l->bwidth >= buf->COLS)\n\tbuf->visualpos = l->bwidth + buf->COLS - 1;\n    else if (buf->visualpos - l->bwidth < 0)\n\tbuf->visualpos = l->bwidth;\n    arrangeLine(buf);\n    if (buf->visualpos - l->bwidth == -shift && buf->cursorX == 0)\n\tbuf->visualpos = l->bwidth;\n}\n\n/* Shift screen left */\nDEFUN(shiftl, SHIFT_LEFT, \"Shift screen left\")\n{\n    int column;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    column = Currentbuf->currentColumn;\n    columnSkip(Currentbuf, searchKeyNum() * (-Currentbuf->COLS + 1) + 1);\n    shiftvisualpos(Currentbuf, Currentbuf->currentColumn - column);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* Shift screen right */\nDEFUN(shiftr, SHIFT_RIGHT, \"Shift screen right\")\n{\n    int column;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    column = Currentbuf->currentColumn;\n    columnSkip(Currentbuf, searchKeyNum() * (Currentbuf->COLS - 1) - 1);\n    shiftvisualpos(Currentbuf, Currentbuf->currentColumn - column);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(col1R, RIGHT, \"Shift screen one column right\")\n{\n    Buffer *buf = Currentbuf;\n    Line *l = buf->currentLine;\n    int j, column, n = searchKeyNum();\n\n    if (l == NULL)\n\treturn;\n    for (j = 0; j < n; j++) {\n\tcolumn = buf->currentColumn;\n\tcolumnSkip(Currentbuf, 1);\n\tif (column == buf->currentColumn)\n\t    break;\n\tshiftvisualpos(Currentbuf, 1);\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(col1L, LEFT, \"Shift screen one column left\")\n{\n    Buffer *buf = Currentbuf;\n    Line *l = buf->currentLine;\n    int j, n = searchKeyNum();\n\n    if (l == NULL)\n\treturn;\n    for (j = 0; j < n; j++) {\n\tif (buf->currentColumn == 0)\n\t    break;\n\tcolumnSkip(Currentbuf, -1);\n\tshiftvisualpos(Currentbuf, -1);\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(setEnv, SETENV, \"Set environment variable\")\n{\n    char *env;\n    char *var, *value;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    env = searchKeyData();\n    if (env == NULL || *env == '\\0' || strchr(env, '=') == NULL) {\n\tif (env != NULL && *env != '\\0')\n\t    env = Sprintf(\"%s=\", env)->ptr;\n\tenv = inputStrHist(\"Set environ: \", env, TextHist);\n\tif (env == NULL || *env == '\\0') {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    if ((value = strchr(env, '=')) != NULL && value > env) {\n\tvar = allocStr(env, value - env);\n\tvalue++;\n\tset_environ(var, value);\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(pipeBuf, PIPE_BUF, \"Pipe current buffer through a shell command and display output\")\n{\n    Buffer *buf;\n    char *cmd, *tmpf;\n    FILE *f;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    cmd = searchKeyData();\n    if (cmd == NULL || *cmd == '\\0') {\n\t/* FIXME: gettextize? */\n\tcmd = inputLineHist(\"Pipe buffer to: \", \"\", IN_COMMAND, ShellHist);\n    }\n    if (cmd != NULL)\n\tcmd = conv_to_system(cmd);\n    if (cmd == NULL || *cmd == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    tmpf = tmpfname(TMPF_DFL, NULL)->ptr;\n    f = fopen(tmpf, \"w\");\n    if (f == NULL) {\n\t/* FIXME: gettextize? */\n\tdisp_message(Sprintf(\"Can't save buffer to %s\", cmd)->ptr, TRUE);\n\treturn;\n    }\n    saveBuffer(Currentbuf, f, TRUE);\n    fclose(f);\n    buf = getpipe(myExtCommand(cmd, shell_quote(tmpf), TRUE)->ptr);\n    if (buf == NULL) {\n\tdisp_message(\"Execution failed\", TRUE);\n\treturn;\n    }\n    else {\n\tbuf->filename = cmd;\n\tbuf->buffername = Sprintf(\"%s %s\", PIPEBUFFERNAME,\n\t\t\t\t  conv_from_system(cmd))->ptr;\n\tbuf->bufferprop |= (BP_INTERNAL | BP_NO_URL);\n\tif (buf->type == NULL)\n\t    buf->type = \"text/plain\";\n\tbuf->currentURL.file = \"-\";\n\tpushBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Execute shell command and read output ac pipe. */\nDEFUN(pipesh, PIPE_SHELL, \"Execute shell command and display output\")\n{\n    Buffer *buf;\n    char *cmd;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    cmd = searchKeyData();\n    if (cmd == NULL || *cmd == '\\0') {\n\tcmd = inputLineHist(\"(read shell[pipe])!\", \"\", IN_COMMAND, ShellHist);\n    }\n    if (cmd != NULL)\n\tcmd = conv_to_system(cmd);\n    if (cmd == NULL || *cmd == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    buf = getpipe(cmd);\n    if (buf == NULL) {\n\tdisp_message(\"Execution failed\", TRUE);\n\treturn;\n    }\n    else {\n\tbuf->bufferprop |= (BP_INTERNAL | BP_NO_URL);\n\tif (buf->type == NULL)\n\t    buf->type = \"text/plain\";\n\tpushBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Execute shell command and load entire output to buffer */\nDEFUN(readsh, READ_SHELL, \"Execute shell command and display output\")\n{\n    Buffer *buf;\n    MySignalHandler(*prevtrap) ();\n    char *cmd;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    cmd = searchKeyData();\n    if (cmd == NULL || *cmd == '\\0') {\n\tcmd = inputLineHist(\"(read shell)!\", \"\", IN_COMMAND, ShellHist);\n    }\n    if (cmd != NULL)\n\tcmd = conv_to_system(cmd);\n    if (cmd == NULL || *cmd == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    prevtrap = mySignal(SIGINT, intTrap);\n    crmode();\n    buf = getshell(cmd);\n    mySignal(SIGINT, prevtrap);\n    term_raw();\n    if (buf == NULL) {\n\t/* FIXME: gettextize? */\n\tdisp_message(\"Execution failed\", TRUE);\n\treturn;\n    }\n    else {\n\tbuf->bufferprop |= (BP_INTERNAL | BP_NO_URL);\n\tif (buf->type == NULL)\n\t    buf->type = \"text/plain\";\n\tpushBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Execute shell command */\nDEFUN(execsh, EXEC_SHELL SHELL, \"Execute shell command and display output\")\n{\n    char *cmd;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    cmd = searchKeyData();\n    if (cmd == NULL || *cmd == '\\0') {\n\tcmd = inputLineHist(\"(exec shell)!\", \"\", IN_COMMAND, ShellHist);\n    }\n    if (cmd != NULL)\n\tcmd = conv_to_system(cmd);\n    if (cmd != NULL && *cmd != '\\0') {\n\tfmTerm();\n\tprintf(\"\\n\");\n\tsystem(cmd);\n\t/* FIXME: gettextize? */\n\tprintf(\"\\n[Hit any key]\");\n\tfflush(stdout);\n\tfmInit();\n\tgetch();\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Load file */\nDEFUN(ldfile, LOAD, \"Open local file in a new buffer\")\n{\n    char *fn;\n\n    fn = searchKeyData();\n    if (fn == NULL || *fn == '\\0') {\n\t/* FIXME: gettextize? */\n\tfn = inputFilenameHist(\"(Load)Filename? \", NULL, LoadHist);\n    }\n    if (fn != NULL)\n\tfn = conv_to_system(fn);\n    if (fn == NULL || *fn == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    cmd_loadfile(fn);\n}\n\n/* Load help file */\nDEFUN(ldhelp, HELP, \"Show help panel\")\n{\n#ifdef USE_HELP_CGI\n    char *lang;\n    int n;\n    Str tmp;\n\n    lang = AcceptLang;\n    n = strcspn(lang, \";, \\t\");\n    tmp = Sprintf(\"file:///$LIB/\" HELP_CGI CGI_EXTENSION \"?version=%s&lang=%s\",\n\t\t  Str_form_quote(Strnew_charp(w3m_version))->ptr,\n\t\t  Str_form_quote(Strnew_charp_n(lang, n))->ptr);\n    cmd_loadURL(tmp->ptr, NULL, NO_REFERER, NULL);\n#else\n    cmd_loadURL(helpFile(HELP_FILE), NULL, NO_REFERER, NULL);\n#endif\n}\n\nstatic void\ncmd_loadfile(char *fn)\n{\n    Buffer *buf;\n\n    buf = loadGeneralFile(file_to_url(fn), NULL, NO_REFERER, 0, NULL);\n    if (buf == NULL) {\n\t/* FIXME: gettextize? */\n\tchar *emsg = Sprintf(\"%s not found\", conv_from_system(fn))->ptr;\n\tdisp_err_message(emsg, FALSE);\n    }\n    else if (buf != NO_BUFFER) {\n\tpushBuffer(buf);\n\tif (RenderFrame && Currentbuf->frameset != NULL)\n\t    rFrame();\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* Move cursor left */\nstatic void\n_movL(int n)\n{\n    int i, m = searchKeyNum();\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    for (i = 0; i < m; i++)\n\tcursorLeft(Currentbuf, n);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(movL, MOVE_LEFT, \"Cursor left\")\n{\n    _movL(Currentbuf->COLS / 2);\n}\n\nDEFUN(movL1, MOVE_LEFT1, \"Cursor left. With edge touched, slide\")\n{\n    _movL(1);\n}\n\n/* Move cursor downward */\nstatic void\n_movD(int n)\n{\n    int i, m = searchKeyNum();\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    for (i = 0; i < m; i++)\n\tcursorDown(Currentbuf, n);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(movD, MOVE_DOWN, \"Cursor down\")\n{\n    _movD((Currentbuf->LINES + 1) / 2);\n}\n\nDEFUN(movD1, MOVE_DOWN1, \"Cursor down. With edge touched, slide\")\n{\n    _movD(1);\n}\n\n/* move cursor upward */\nstatic void\n_movU(int n)\n{\n    int i, m = searchKeyNum();\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    for (i = 0; i < m; i++)\n\tcursorUp(Currentbuf, n);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(movU, MOVE_UP, \"Cursor up\")\n{\n    _movU((Currentbuf->LINES + 1) / 2);\n}\n\nDEFUN(movU1, MOVE_UP1, \"Cursor up. With edge touched, slide\")\n{\n    _movU(1);\n}\n\n/* Move cursor right */\nstatic void\n_movR(int n)\n{\n    int i, m = searchKeyNum();\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    for (i = 0; i < m; i++)\n\tcursorRight(Currentbuf, n);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(movR, MOVE_RIGHT, \"Cursor right\")\n{\n    _movR(Currentbuf->COLS / 2);\n}\n\nDEFUN(movR1, MOVE_RIGHT1, \"Cursor right. With edge touched, slide\")\n{\n    _movR(1);\n}\n\n/* movLW, movRW */\n/* \n * From: Takashi Nishimoto <g96p0935@mse.waseda.ac.jp> Date: Mon, 14 Jun\n * 1999 09:29:56 +0900 \n */\n#if defined(USE_M17N) && defined(USE_UNICODE)\n#define nextChar(s, l)\tdo { (s)++; } while ((s) < (l)->len && (l)->propBuf[s] & PC_WCHAR2)\n#define prevChar(s, l)\tdo { (s)--; } while ((s) > 0 && (l)->propBuf[s] & PC_WCHAR2)\n\nstatic wc_uint32\ngetChar(char *p)\n{\n    return wc_any_to_ucs(wtf_parse1((wc_uchar **)&p));\n}\n\nstatic int\nis_wordchar(wc_uint32 c)\n{\n    return wc_is_ucs_alnum(c);\n}\n#else \n#define nextChar(s, l)\t(s)++\n#define prevChar(s, l)\t(s)--\n#define getChar(p)\t((int)*(p))\n\nstatic int\nis_wordchar(int c)\n{\n    return IS_ALNUM(c);\n}\n#endif\n\nstatic int\nprev_nonnull_line(Line *line)\n{\n    Line *l;\n\n    for (l = line; l != NULL && l->len == 0; l = l->prev) ;\n    if (l == NULL || l->len == 0)\n\treturn -1;\n\n    Currentbuf->currentLine = l;\n    if (l != line)\n\tCurrentbuf->pos = Currentbuf->currentLine->len;\n    return 0;\n}\n\nDEFUN(movLW, PREV_WORD, \"Move to the previous word\")\n{\n    char *lb;\n    Line *pline, *l;\n    int ppos;\n    int i, n = searchKeyNum();\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n\n    for (i = 0; i < n; i++) {\n\tpline = Currentbuf->currentLine;\n\tppos = Currentbuf->pos;\n\n\tif (prev_nonnull_line(Currentbuf->currentLine) < 0)\n\t    goto end;\n\n\twhile (1) {\n\t    l = Currentbuf->currentLine;\n\t    lb = l->lineBuf;\n\t    while (Currentbuf->pos > 0) {\n\t\tint tmp = Currentbuf->pos;\n\t\tprevChar(tmp, l);\n\t\tif (is_wordchar(getChar(&lb[tmp])))\n\t\t    break;\n\t\tCurrentbuf->pos = tmp;\n\t    }\n\t    if (Currentbuf->pos > 0)\n\t\tbreak;\n\t    if (prev_nonnull_line(Currentbuf->currentLine->prev) < 0) {\n\t\tCurrentbuf->currentLine = pline;\n\t\tCurrentbuf->pos = ppos;\n\t\tgoto end;\n\t    }\n\t    Currentbuf->pos = Currentbuf->currentLine->len;\n\t}\n\n\tl = Currentbuf->currentLine;\n\tlb = l->lineBuf;\n\twhile (Currentbuf->pos > 0) {\n\t    int tmp = Currentbuf->pos;\n\t    prevChar(tmp, l);\n\t    if (!is_wordchar(getChar(&lb[tmp])))\n\t\tbreak;\n\t    Currentbuf->pos = tmp;\n\t}\n    }\n  end:\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nstatic int\nnext_nonnull_line(Line *line)\n{\n    Line *l;\n\n    for (l = line; l != NULL && l->len == 0; l = l->next) ;\n\n    if (l == NULL || l->len == 0)\n\treturn -1;\n\n    Currentbuf->currentLine = l;\n    if (l != line)\n\tCurrentbuf->pos = 0;\n    return 0;\n}\n\nDEFUN(movRW, NEXT_WORD, \"Move to the next word\")\n{\n    char *lb;\n    Line *pline, *l;\n    int ppos;\n    int i, n = searchKeyNum();\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n\n    for (i = 0; i < n; i++) {\n\tpline = Currentbuf->currentLine;\n\tppos = Currentbuf->pos;\n\n\tif (next_nonnull_line(Currentbuf->currentLine) < 0)\n\t    goto end;\n\n\tl = Currentbuf->currentLine;\n\tlb = l->lineBuf;\n\twhile (Currentbuf->pos < l->len &&\n\t       is_wordchar(getChar(&lb[Currentbuf->pos])))\n\t    nextChar(Currentbuf->pos, l);\n\n\twhile (1) {\n\t    while (Currentbuf->pos < l->len &&\n\t\t   !is_wordchar(getChar(&lb[Currentbuf->pos])))\n\t\tnextChar(Currentbuf->pos, l);\n\t    if (Currentbuf->pos < l->len)\n\t\tbreak;\n\t    if (next_nonnull_line(Currentbuf->currentLine->next) < 0) {\n\t\tCurrentbuf->currentLine = pline;\n\t\tCurrentbuf->pos = ppos;\n\t\tgoto end;\n\t    }\n\t    Currentbuf->pos = 0;\n\t    l = Currentbuf->currentLine;\n\t    lb = l->lineBuf;\n\t}\n    }\n  end:\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nstatic void\n_quitfm(int confirm)\n{\n    char *ans = \"y\";\n\n    if (checkDownloadList())\n\t/* FIXME: gettextize? */\n\tans = inputChar(\"Download process retains. \"\n\t\t\t\"Do you want to exit w3m? (y/n)\");\n    else if (confirm)\n\t/* FIXME: gettextize? */\n\tans = inputChar(\"Do you want to exit w3m? (y/n)\");\n    if (!(ans && TOLOWER(*ans) == 'y')) {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n\n    term_title(\"\");\t\t/* XXX */\n#ifdef USE_IMAGE\n    if (activeImage)\n\ttermImage();\n#endif\n    fmTerm();\n#ifdef USE_COOKIE\n    save_cookies();\n#endif\t\t\t\t/* USE_COOKIE */\n#ifdef USE_HISTORY\n    if (UseHistory && SaveURLHist)\n\tsaveHistory(URLHist, URLHistSize);\n#endif\t\t\t\t/* USE_HISTORY */\n    w3m_exit(0);\n}\n\n/* Quit */\nDEFUN(quitfm, ABORT EXIT, \"Quit at once\")\n{\n    _quitfm(FALSE);\n}\n\n/* Question and Quit */\nDEFUN(qquitfm, QUIT, \"Quit with confirmation request\")\n{\n    _quitfm(confirm_on_quit);\n}\n\n/* Select buffer */\nDEFUN(selBuf, SELECT, \"Display buffer-stack panel\")\n{\n    Buffer *buf;\n    int ok;\n    char cmd;\n\n    ok = FALSE;\n    do {\n\tbuf = selectBuffer(Firstbuf, Currentbuf, &cmd);\n\tswitch (cmd) {\n\tcase 'B':\n\t    ok = TRUE;\n\t    break;\n\tcase '\\n':\n\tcase ' ':\n\t    Currentbuf = buf;\n\t    ok = TRUE;\n\t    break;\n\tcase 'D':\n\t    delBuffer(buf);\n\t    if (Firstbuf == NULL) {\n\t\t/* No more buffer */\n\t\tFirstbuf = nullBuffer();\n\t\tCurrentbuf = Firstbuf;\n\t    }\n\t    break;\n\tcase 'q':\n\t    qquitfm();\n\t    break;\n\tcase 'Q':\n\t    quitfm();\n\t    break;\n\t}\n    } while (!ok);\n\n    for (buf = Firstbuf; buf != NULL; buf = buf->nextBuffer) {\n\tif (buf == Currentbuf)\n\t    continue;\n#ifdef USE_IMAGE\n\tdeleteImage(buf);\n#endif\n\tif (clear_buffer)\n\t    tmpClearBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Suspend (on BSD), or run interactive shell (on SysV) */\nDEFUN(susp, INTERRUPT SUSPEND, \"Suspend w3m to background\")\n{\n#ifndef SIGSTOP\n    char *shell;\n#endif\t\t\t\t/* not SIGSTOP */\n    move(LASTLINE, 0);\n    clrtoeolx();\n    refresh();\n    fmTerm();\n#ifndef SIGSTOP\n    shell = getenv(\"SHELL\");\n    if (shell == NULL)\n\tshell = \"/bin/sh\";\n    system(shell);\n#else\t\t\t\t/* SIGSTOP */\n#ifdef SIGTSTP\n    signal(SIGTSTP, SIG_DFL);  /* just in case */\n    /*\n     * Note: If susp() was called from SIGTSTP handler,\n     * unblocking SIGTSTP would be required here.\n     * Currently not.\n     */\n    kill(0, SIGTSTP);  /* stop whole job, not a single process */\n#else\n    kill((pid_t) 0, SIGSTOP);\n#endif\n#endif\t\t\t\t/* SIGSTOP */\n    fmInit();\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Go to specified line */\nstatic void\n_goLine(char *l)\n{\n    if (l == NULL || *l == '\\0' || Currentbuf->currentLine == NULL) {\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n\treturn;\n    }\n    Currentbuf->pos = 0;\n    if (((*l == '^') || (*l == '$')) && prec_num) {\n\tgotoRealLine(Currentbuf, prec_num);\n    }\n    else if (*l == '^') {\n\tCurrentbuf->topLine = Currentbuf->currentLine = Currentbuf->firstLine;\n    }\n    else if (*l == '$') {\n\tCurrentbuf->topLine =\n\t    lineSkip(Currentbuf, Currentbuf->lastLine,\n\t\t     -(Currentbuf->LINES + 1) / 2, TRUE);\n\tCurrentbuf->currentLine = Currentbuf->lastLine;\n    }\n    else\n\tgotoRealLine(Currentbuf, atoi(l));\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(goLine, GOTO_LINE, \"Go to the specified line\")\n{\n\n    char *str = searchKeyData();\n    if (prec_num)\n\t_goLine(\"^\");\n    else if (str)\n\t_goLine(str);\n    else\n\t/* FIXME: gettextize? */\n\t_goLine(inputStr(\"Goto line: \", \"\"));\n}\n\n\nDEFUN(goLineF, BEGIN, \"Go to the first line\")\n{\n    _goLine(\"^\");\n}\n\nDEFUN(goLineL, END, \"Go to the last line\")\n{\n    _goLine(\"$\");\n}\n\n/* Go to the beginning of the line */\nDEFUN(linbeg, LINE_BEGIN, \"Go to the beginning of the line\")\n{\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    while (Currentbuf->currentLine->prev && Currentbuf->currentLine->bpos)\n\tcursorUp0(Currentbuf, 1);\n    Currentbuf->pos = 0;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* Go to the bottom of the line */\nDEFUN(linend, LINE_END, \"Go to the end of the line\")\n{\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    while (Currentbuf->currentLine->next\n\t   && Currentbuf->currentLine->next->bpos)\n\tcursorDown0(Currentbuf, 1);\n    Currentbuf->pos = Currentbuf->currentLine->len - 1;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nstatic int\ncur_real_linenumber(Buffer *buf)\n{\n    Line *l, *cur = buf->currentLine;\n    int n;\n\n    if (!cur)\n\treturn 1;\n    n = cur->real_linenumber ? cur->real_linenumber : 1;\n    for (l = buf->firstLine; l && l != cur && l->real_linenumber == 0; l = l->next) {\t/* header */\n\tif (l->bpos == 0)\n\t    n++;\n    }\n    return n;\n}\n\n/* Run editor on the current buffer */\nDEFUN(editBf, EDIT, \"Edit local source\")\n{\n    char *fn = Currentbuf->filename;\n    Str cmd;\n\n    if (fn == NULL || Currentbuf->pagerSource != NULL ||\t/* Behaving as a pager */\n\t(Currentbuf->type == NULL && Currentbuf->edit == NULL) ||\t/* Reading shell */\n\tCurrentbuf->real_scheme != SCM_LOCAL || !strcmp(Currentbuf->currentURL.file, \"-\") ||\t/* file is std input  */\n\tCurrentbuf->bufferprop & BP_FRAME) {\t/* Frame */\n\tdisp_err_message(\"Can't edit other than local file\", TRUE);\n\treturn;\n    }\n    if (Currentbuf->edit)\n\tcmd = unquote_mailcap(Currentbuf->edit, Currentbuf->real_type, fn,\n\t\t\t      checkHeader(Currentbuf, \"Content-Type:\"), NULL);\n    else\n\tcmd = myEditor(Editor, shell_quote(fn),\n\t\t       cur_real_linenumber(Currentbuf));\n    fmTerm();\n    system(cmd->ptr);\n    fmInit();\n\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n    reload();\n}\n\n/* Run editor on the current screen */\nDEFUN(editScr, EDIT_SCREEN, \"Edit rendered copy of document\")\n{\n    char *tmpf;\n    FILE *f;\n\n    tmpf = tmpfname(TMPF_DFL, NULL)->ptr;\n    f = fopen(tmpf, \"w\");\n    if (f == NULL) {\n\t/* FIXME: gettextize? */\n\tdisp_err_message(Sprintf(\"Can't open %s\", tmpf)->ptr, TRUE);\n\treturn;\n    }\n    saveBuffer(Currentbuf, f, TRUE);\n    fclose(f);\n    fmTerm();\n    system(myEditor(Editor, shell_quote(tmpf),\n\t\t    cur_real_linenumber(Currentbuf))->ptr);\n    fmInit();\n    unlink(tmpf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n#ifdef USE_MARK\n\n/* Set / unset mark */\nDEFUN(_mark, MARK, \"Set/unset mark\")\n{\n    Line *l;\n    if (!use_mark)\n\treturn;\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    l = Currentbuf->currentLine;\n    l->propBuf[Currentbuf->pos] ^= PE_MARK;\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Go to next mark */\nDEFUN(nextMk, NEXT_MARK, \"Go to the next mark\")\n{\n    Line *l;\n    int i;\n\n    if (!use_mark)\n\treturn;\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    i = Currentbuf->pos + 1;\n    l = Currentbuf->currentLine;\n    if (i >= l->len) {\n\ti = 0;\n\tl = l->next;\n    }\n    while (l != NULL) {\n\tfor (; i < l->len; i++) {\n\t    if (l->propBuf[i] & PE_MARK) {\n\t\tCurrentbuf->currentLine = l;\n\t\tCurrentbuf->pos = i;\n\t\tarrangeCursor(Currentbuf);\n\t\tdisplayBuffer(Currentbuf, B_NORMAL);\n\t\treturn;\n\t    }\n\t}\n\tl = l->next;\n\ti = 0;\n    }\n    /* FIXME: gettextize? */\n    disp_message(\"No mark exist after here\", TRUE);\n}\n\n/* Go to previous mark */\nDEFUN(prevMk, PREV_MARK, \"Go to the previous mark\")\n{\n    Line *l;\n    int i;\n\n    if (!use_mark)\n\treturn;\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    i = Currentbuf->pos - 1;\n    l = Currentbuf->currentLine;\n    if (i < 0) {\n\tl = l->prev;\n\tif (l != NULL)\n\t    i = l->len - 1;\n    }\n    while (l != NULL) {\n\tfor (; i >= 0; i--) {\n\t    if (l->propBuf[i] & PE_MARK) {\n\t\tCurrentbuf->currentLine = l;\n\t\tCurrentbuf->pos = i;\n\t\tarrangeCursor(Currentbuf);\n\t\tdisplayBuffer(Currentbuf, B_NORMAL);\n\t\treturn;\n\t    }\n\t}\n\tl = l->prev;\n\tif (l != NULL)\n\t    i = l->len - 1;\n    }\n    /* FIXME: gettextize? */\n    disp_message(\"No mark exist before here\", TRUE);\n}\n\n/* Mark place to which the regular expression matches */\nDEFUN(reMark, REG_MARK, \"Mark all occurences of a pattern\")\n{\n    Line *l;\n    char *str;\n    char *p, *p1, *p2;\n\n    if (!use_mark)\n\treturn;\n    str = searchKeyData();\n    if (str == NULL || *str == '\\0') {\n\tstr = inputStrHist(\"(Mark)Regexp: \", MarkString, TextHist);\n\tif (str == NULL || *str == '\\0') {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    str = conv_search_string(str, DisplayCharset);\n    if ((str = regexCompile(str, 1)) != NULL) {\n\tdisp_message(str, TRUE);\n\treturn;\n    }\n    MarkString = str;\n    for (l = Currentbuf->firstLine; l != NULL; l = l->next) {\n\tp = l->lineBuf;\n\tfor (;;) {\n\t    if (regexMatch(p, &l->lineBuf[l->len] - p, p == l->lineBuf) == 1) {\n\t\tmatchedPosition(&p1, &p2);\n\t\tl->propBuf[p1 - l->lineBuf] |= PE_MARK;\n\t\tp = p2;\n\t    }\n\t    else\n\t\tbreak;\n\t}\n    }\n\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n#endif\t\t\t\t/* USE_MARK */\n\nstatic Buffer *\nloadNormalBuf(Buffer *buf, int renderframe)\n{\n    pushBuffer(buf);\n    if (renderframe && RenderFrame && Currentbuf->frameset != NULL)\n\trFrame();\n    return buf;\n}\n\nstatic Buffer *\nloadLink(char *url, char *target, char *referer, FormList *request)\n{\n    Buffer *buf, *nfbuf;\n    union frameset_element *f_element = NULL;\n    int flag = 0;\n    ParsedURL *base, pu;\n    const int *no_referer_ptr;\n\n    message(Sprintf(\"loading %s\", url)->ptr, 0, 0);\n    refresh();\n\n    no_referer_ptr = query_SCONF_NO_REFERER_FROM(&Currentbuf->currentURL);\n    base = baseURL(Currentbuf);\n    if ((no_referer_ptr && *no_referer_ptr) ||\n\tbase == NULL ||\n\tbase->scheme == SCM_LOCAL || base->scheme == SCM_LOCAL_CGI)\n\treferer = NO_REFERER;\n    if (referer == NULL)\n\treferer = parsedURL2Str(&Currentbuf->currentURL)->ptr;\n    buf = loadGeneralFile(url, baseURL(Currentbuf), referer, flag, request);\n    if (buf == NULL) {\n\tchar *emsg = Sprintf(\"Can't load %s\", url)->ptr;\n\tdisp_err_message(emsg, FALSE);\n\treturn NULL;\n    }\n\n    parseURL2(url, &pu, base);\n    pushHashHist(URLHist, parsedURL2Str(&pu)->ptr);\n\n    if (buf == NO_BUFFER) {\n\treturn NULL;\n    }\n    if (!on_target)\t\t/* open link as an indivisual page */\n\treturn loadNormalBuf(buf, TRUE);\n\n    if (do_download)\t\t/* download (thus no need to render frames) */\n\treturn loadNormalBuf(buf, FALSE);\n\n    if (target == NULL ||\t/* no target specified (that means this page is not a frame page) */\n\t!strcmp(target, \"_top\") ||\t/* this link is specified to be opened as an indivisual * page */\n\t!(Currentbuf->bufferprop & BP_FRAME)\t/* This page is not a frame page */\n\t) {\n\treturn loadNormalBuf(buf, TRUE);\n    }\n    nfbuf = Currentbuf->linkBuffer[LB_N_FRAME];\n    if (nfbuf == NULL) {\n\t/* original page (that contains <frameset> tag) doesn't exist */\n\treturn loadNormalBuf(buf, TRUE);\n    }\n\n    f_element = search_frame(nfbuf->frameset, target);\n    if (f_element == NULL) {\n\t/* specified target doesn't exist in this frameset */\n\treturn loadNormalBuf(buf, TRUE);\n    }\n\n    /* frame page */\n\n    /* stack current frameset */\n    pushFrameTree(&(nfbuf->frameQ), copyFrameSet(nfbuf->frameset), Currentbuf);\n    /* delete frame view buffer */\n    delBuffer(Currentbuf);\n    Currentbuf = nfbuf;\n    /* nfbuf->frameset = copyFrameSet(nfbuf->frameset); */\n    resetFrameElement(f_element, buf, referer, request);\n    discardBuffer(buf);\n    rFrame();\n    {\n\tAnchor *al = NULL;\n\tchar *label = pu.label;\n\n\tif (label && f_element->element->attr == F_BODY) {\n\t    al = searchAnchor(f_element->body->nameList, label);\n\t}\n\tif (!al) {\n\t    label = Strnew_m_charp(\"_\", target, NULL)->ptr;\n\t    al = searchURLLabel(Currentbuf, label);\n\t}\n\tif (al) {\n\t    gotoLine(Currentbuf, al->start.line);\n\t    if (label_topline)\n\t\tCurrentbuf->topLine = lineSkip(Currentbuf, Currentbuf->topLine,\n\t\t\t\t\t       Currentbuf->currentLine->\n\t\t\t\t\t       linenumber -\n\t\t\t\t\t       Currentbuf->topLine->linenumber,\n\t\t\t\t\t       FALSE);\n\t    Currentbuf->pos = al->start.pos;\n\t    arrangeCursor(Currentbuf);\n\t}\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n    return buf;\n}\n\nstatic void\ngotoLabel(char *label)\n{\n    Buffer *buf;\n    Anchor *al;\n    int i;\n\n    al = searchURLLabel(Currentbuf, label);\n    if (al == NULL) {\n\t/* FIXME: gettextize? */\n\tdisp_message(Sprintf(\"%s is not found\", label)->ptr, TRUE);\n\treturn;\n    }\n    buf = newBuffer(Currentbuf->width);\n    copyBuffer(buf, Currentbuf);\n    for (i = 0; i < MAX_LB; i++)\n\tbuf->linkBuffer[i] = NULL;\n    buf->currentURL.label = allocStr(label, -1);\n    pushHashHist(URLHist, parsedURL2Str(&buf->currentURL)->ptr);\n    (*buf->clone)++;\n    pushBuffer(buf);\n    gotoLine(Currentbuf, al->start.line);\n    if (label_topline)\n\tCurrentbuf->topLine = lineSkip(Currentbuf, Currentbuf->topLine,\n\t\t\t\t       Currentbuf->currentLine->linenumber\n\t\t\t\t       - Currentbuf->topLine->linenumber,\n\t\t\t\t       FALSE);\n    Currentbuf->pos = al->start.pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n    return;\n}\n\nstatic int\nhandleMailto(char *url)\n{\n    Str to;\n    char *pos;\n\n    if (strncasecmp(url, \"mailto:\", 7))\n\treturn 0;\n#ifdef USE_W3MMAILER\n    if (! non_null(Mailer) || MailtoOptions == MAILTO_OPTIONS_USE_W3MMAILER)\n\treturn 0;\n#else\n    if (!non_null(Mailer)) {\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"no mailer is specified\", TRUE);\n\treturn 1;\n    }\n#endif\n\t\n    /* invoke external mailer */\n    if (MailtoOptions == MAILTO_OPTIONS_USE_MAILTO_URL) {\n\tto = Strnew_charp(html_unquote(url));\n    } else {\n\tto = Strnew_charp(url + 7);\n\tif ((pos = strchr(to->ptr, '?')) != NULL)\n\t    Strtruncate(to, pos - to->ptr);\n    }\n    fmTerm();\n    system(myExtCommand(Mailer, shell_quote(file_unquote(to->ptr)),\n\t\t\tFALSE)->ptr);\n    fmInit();\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n    pushHashHist(URLHist, url);\n    return 1;\n}\n\n/* follow HREF link */\nDEFUN(followA, GOTO_LINK, \"Follow current hyperlink in a new buffer\")\n{\n    Anchor *a;\n    ParsedURL u;\n#ifdef USE_IMAGE\n    int x = 0, y = 0, map = 0;\n#endif\n    char *url;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n\n#ifdef USE_IMAGE\n    a = retrieveCurrentImg(Currentbuf);\n    if (a && a->image && a->image->map) {\n\t_followForm(FALSE);\n\treturn;\n    }\n    if (a && a->image && a->image->ismap) {\n\tgetMapXY(Currentbuf, a, &x, &y);\n\tmap = 1;\n    }\n#else\n    a = retrieveCurrentMap(Currentbuf);\n    if (a) {\n\t_followForm(FALSE);\n\treturn;\n    }\n#endif\n    a = retrieveCurrentAnchor(Currentbuf);\n    if (a == NULL) {\n\t_followForm(FALSE);\n\treturn;\n    }\n    if (*a->url == '#') {\t/* index within this buffer */\n\tgotoLabel(a->url + 1);\n\treturn;\n    }\n    parseURL2(a->url, &u, baseURL(Currentbuf));\n    if (Strcmp(parsedURL2Str(&u), parsedURL2Str(&Currentbuf->currentURL)) == 0) {\n\t/* index within this buffer */\n\tif (u.label) {\n\t    gotoLabel(u.label);\n\t    return;\n\t}\n    }\n    if (handleMailto(a->url))\n\treturn;\n#if 0\n    else if (!strncasecmp(a->url, \"news:\", 5) && strchr(a->url, '@') == NULL) {\n\t/* news:newsgroup is not supported */\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"news:newsgroup_name is not supported\", TRUE);\n\treturn;\n    }\n#endif\t\t\t\t/* USE_NNTP */\n    url = a->url;\n#ifdef USE_IMAGE\n    if (map)\n\turl = Sprintf(\"%s?%d,%d\", a->url, x, y)->ptr;\n#endif\n\n    if (check_target && open_tab_blank && a->target &&\n\t(!strcasecmp(a->target, \"_new\") || !strcasecmp(a->target, \"_blank\"))) {\n\tBuffer *buf;\n\n\t_newT();\n\tbuf = Currentbuf;\n\tloadLink(url, a->target, a->referer, NULL);\n\tif (buf != Currentbuf)\n\t    delBuffer(buf);\n\telse\n\t    deleteTab(CurrentTab);\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n\treturn;\n    }\n    loadLink(url, a->target, a->referer, NULL);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* follow HREF link in the buffer */\nvoid\nbufferA(void)\n{\n    on_target = FALSE;\n    followA();\n    on_target = TRUE;\n}\n\n/* view inline image */\nDEFUN(followI, VIEW_IMAGE, \"Display image in viewer\")\n{\n    Anchor *a;\n    Buffer *buf;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n\n    a = retrieveCurrentImg(Currentbuf);\n    if (a == NULL)\n\treturn;\n    /* FIXME: gettextize? */\n    message(Sprintf(\"loading %s\", a->url)->ptr, 0, 0);\n    refresh();\n    buf = loadGeneralFile(a->url, baseURL(Currentbuf), NULL, 0, NULL);\n    if (buf == NULL) {\n\t/* FIXME: gettextize? */\n\tchar *emsg = Sprintf(\"Can't load %s\", a->url)->ptr;\n\tdisp_err_message(emsg, FALSE);\n    }\n    else if (buf != NO_BUFFER) {\n\tpushBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nstatic FormItemList *\nsave_submit_formlist(FormItemList *src)\n{\n    FormList *list;\n    FormList *srclist;\n    FormItemList *srcitem;\n    FormItemList *item;\n    FormItemList *ret = NULL;\n#ifdef MENU_SELECT\n    FormSelectOptionItem *opt;\n    FormSelectOptionItem *curopt;\n    FormSelectOptionItem *srcopt;\n#endif\t\t\t\t/* MENU_SELECT */\n\n    if (src == NULL)\n\treturn NULL;\n    srclist = src->parent;\n    list = New(FormList);\n    list->method = srclist->method;\n    list->action = Strdup(srclist->action);\n#ifdef USE_M17N\n    list->charset = srclist->charset;\n#endif\n    list->enctype = srclist->enctype;\n    list->nitems = srclist->nitems;\n    list->body = srclist->body;\n    list->boundary = srclist->boundary;\n    list->length = srclist->length;\n\n    for (srcitem = srclist->item; srcitem; srcitem = srcitem->next) {\n\titem = New(FormItemList);\n\titem->type = srcitem->type;\n\titem->name = Strdup(srcitem->name);\n\titem->value = Strdup(srcitem->value);\n\titem->checked = srcitem->checked;\n\titem->accept = srcitem->accept;\n\titem->size = srcitem->size;\n\titem->rows = srcitem->rows;\n\titem->maxlength = srcitem->maxlength;\n\titem->readonly = srcitem->readonly;\n#ifdef MENU_SELECT\n\topt = curopt = NULL;\n\tfor (srcopt = srcitem->select_option; srcopt; srcopt = srcopt->next) {\n\t    if (!srcopt->checked)\n\t\tcontinue;\n\t    opt = New(FormSelectOptionItem);\n\t    opt->value = Strdup(srcopt->value);\n\t    opt->label = Strdup(srcopt->label);\n\t    opt->checked = srcopt->checked;\n\t    if (item->select_option == NULL) {\n\t\titem->select_option = curopt = opt;\n\t    }\n\t    else {\n\t\tcuropt->next = opt;\n\t\tcuropt = curopt->next;\n\t    }\n\t}\n\titem->select_option = opt;\n\tif (srcitem->label)\n\t    item->label = Strdup(srcitem->label);\n#endif\t\t\t\t/* MENU_SELECT */\n\titem->parent = list;\n\titem->next = NULL;\n\n\tif (list->lastitem == NULL) {\n\t    list->item = list->lastitem = item;\n\t}\n\telse {\n\t    list->lastitem->next = item;\n\t    list->lastitem = item;\n\t}\n\n\tif (srcitem == src)\n\t    ret = item;\n    }\n\n    return ret;\n}\n\n#ifdef USE_M17N\nstatic Str\nconv_form_encoding(Str val, FormItemList *fi, Buffer *buf)\n{\n    wc_ces charset = SystemCharset;\n\n    if (fi->parent->charset)\n\tcharset = fi->parent->charset;\n    else if (buf->document_charset && buf->document_charset != WC_CES_US_ASCII)\n\tcharset = buf->document_charset;\n    return wc_Str_conv_strict(val, InnerCharset, charset);\n}\n#else\n#define conv_form_encoding(val, fi, buf) (val)\n#endif\n\nstatic void\nquery_from_followform(Str *query, FormItemList *fi, int multipart)\n{\n    FormItemList *f2;\n    FILE *body = NULL;\n\n    if (multipart) {\n\t*query = tmpfname(TMPF_DFL, NULL);\n\tbody = fopen((*query)->ptr, \"w\");\n\tif (body == NULL) {\n\t    return;\n\t}\n\tfi->parent->body = (*query)->ptr;\n\tfi->parent->boundary =\n\t    Sprintf(\"------------------------------%d%ld%ld%ld\", CurrentPid,\n\t\t    fi->parent, fi->parent->body, fi->parent->boundary)->ptr;\n    }\n    *query = Strnew();\n    for (f2 = fi->parent->item; f2; f2 = f2->next) {\n\tif (f2->name == NULL)\n\t    continue;\n\t/* <ISINDEX> is translated into single text form */\n\tif (f2->name->length == 0 &&\n\t    (multipart || f2->type != FORM_INPUT_TEXT))\n\t    continue;\n\tswitch (f2->type) {\n\tcase FORM_INPUT_RESET:\n\t    /* do nothing */\n\t    continue;\n\tcase FORM_INPUT_SUBMIT:\n\tcase FORM_INPUT_IMAGE:\n\t    if (f2 != fi || f2->value == NULL)\n\t\tcontinue;\n\t    break;\n\tcase FORM_INPUT_RADIO:\n\tcase FORM_INPUT_CHECKBOX:\n\t    if (!f2->checked)\n\t\tcontinue;\n\t}\n\tif (multipart) {\n\t    if (f2->type == FORM_INPUT_IMAGE) {\n\t\tint x = 0, y = 0;\n#ifdef USE_IMAGE\n\t\tgetMapXY(Currentbuf, retrieveCurrentImg(Currentbuf), &x, &y);\n#endif\n\t\t*query = Strdup(conv_form_encoding(f2->name, fi, Currentbuf));\n\t\tStrcat_charp(*query, \".x\");\n\t\tform_write_data(body, fi->parent->boundary, (*query)->ptr,\n\t\t\t\tSprintf(\"%d\", x)->ptr);\n\t\t*query = Strdup(conv_form_encoding(f2->name, fi, Currentbuf));\n\t\tStrcat_charp(*query, \".y\");\n\t\tform_write_data(body, fi->parent->boundary, (*query)->ptr,\n\t\t\t\tSprintf(\"%d\", y)->ptr);\n\t    }\n\t    else if (f2->name && f2->name->length > 0 && f2->value != NULL) {\n\t\t/* not IMAGE */\n\t\t*query = conv_form_encoding(f2->value, fi, Currentbuf);\n\t\tif (f2->type == FORM_INPUT_FILE)\n\t\t    form_write_from_file(body, fi->parent->boundary,\n\t\t\t\t\t conv_form_encoding(f2->name, fi,\n\t\t\t\t\t\t\t    Currentbuf)->ptr,\n\t\t\t\t\t (*query)->ptr,\n\t\t\t\t\t Str_conv_to_system(f2->value)->ptr);\n\t\telse\n\t\t    form_write_data(body, fi->parent->boundary,\n\t\t\t\t    conv_form_encoding(f2->name, fi,\n\t\t\t\t\t\t       Currentbuf)->ptr,\n\t\t\t\t    (*query)->ptr);\n\t    }\n\t}\n\telse {\n\t    /* not multipart */\n\t    if (f2->type == FORM_INPUT_IMAGE) {\n\t\tint x = 0, y = 0;\n#ifdef USE_IMAGE\n\t\tgetMapXY(Currentbuf, retrieveCurrentImg(Currentbuf), &x, &y);\n#endif\n\t\tStrcat(*query,\n\t\t       Str_form_quote(conv_form_encoding\n\t\t\t\t      (f2->name, fi, Currentbuf)));\n\t\tStrcat(*query, Sprintf(\".x=%d&\", x));\n\t\tStrcat(*query,\n\t\t       Str_form_quote(conv_form_encoding\n\t\t\t\t      (f2->name, fi, Currentbuf)));\n\t\tStrcat(*query, Sprintf(\".y=%d\", y));\n\t    }\n\t    else {\n\t\t/* not IMAGE */\n\t\tif (f2->name && f2->name->length > 0) {\n\t\t    Strcat(*query,\n\t\t\t   Str_form_quote(conv_form_encoding\n\t\t\t\t\t  (f2->name, fi, Currentbuf)));\n\t\t    Strcat_char(*query, '=');\n\t\t}\n\t\tif (f2->value != NULL) {\n\t\t    if (fi->parent->method == FORM_METHOD_INTERNAL)\n\t\t\tStrcat(*query, Str_form_quote(f2->value));\n\t\t    else {\n\t\t\tStrcat(*query,\n\t\t\t       Str_form_quote(conv_form_encoding\n\t\t\t\t\t      (f2->value, fi, Currentbuf)));\n\t\t    }\n\t\t}\n\t    }\n\t    if (f2->next)\n\t\tStrcat_char(*query, '&');\n\t}\n    }\n    if (multipart) {\n\tfprintf(body, \"--%s--\\r\\n\", fi->parent->boundary);\n\tfclose(body);\n    }\n    else {\n\t/* remove trailing & */\n\twhile (Strlastchar(*query) == '&')\n\t    Strshrink(*query, 1);\n    }\n}\n\n/* submit form */\nDEFUN(submitForm, SUBMIT, \"Submit form\")\n{\n    _followForm(TRUE);\n}\n\n/* process form */\nvoid\nfollowForm(void)\n{\n    _followForm(FALSE);\n}\n\nstatic void\n_followForm(int submit)\n{\n    Anchor *a, *a2;\n    char *p;\n    FormItemList *fi, *f2;\n    Str tmp, tmp2;\n    int multipart = 0, i;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n\n    a = retrieveCurrentForm(Currentbuf);\n    if (a == NULL)\n\treturn;\n    fi = (FormItemList *)a->url;\n    switch (fi->type) {\n    case FORM_INPUT_TEXT:\n\tif (submit)\n\t    goto do_submit;\n\tif (fi->readonly)\n\t    /* FIXME: gettextize? */\n\t    disp_message_nsec(\"Read only field!\", FALSE, 1, TRUE, FALSE);\n\t/* FIXME: gettextize? */\n\tp = inputStrHist(\"TEXT:\", fi->value ? fi->value->ptr : NULL, TextHist);\n\tif (p == NULL || fi->readonly)\n\t    break;\n\tfi->value = Strnew_charp(p);\n\tformUpdateBuffer(a, Currentbuf, fi);\n\tif (fi->accept || fi->parent->nitems == 1)\n\t    goto do_submit;\n\tbreak;\n    case FORM_INPUT_FILE:\n\tif (submit)\n\t    goto do_submit;\n\tif (fi->readonly)\n\t    /* FIXME: gettextize? */\n\t    disp_message_nsec(\"Read only field!\", FALSE, 1, TRUE, FALSE);\n\t/* FIXME: gettextize? */\n\tp = inputFilenameHist(\"Filename:\", fi->value ? fi->value->ptr : NULL,\n\t\t\t      NULL);\n\tif (p == NULL || fi->readonly)\n\t    break;\n\tfi->value = Strnew_charp(p);\n\tformUpdateBuffer(a, Currentbuf, fi);\n\tif (fi->accept || fi->parent->nitems == 1)\n\t    goto do_submit;\n\tbreak;\n    case FORM_INPUT_PASSWORD:\n\tif (submit)\n\t    goto do_submit;\n\tif (fi->readonly) {\n\t    /* FIXME: gettextize? */\n\t    disp_message_nsec(\"Read only field!\", FALSE, 1, TRUE, FALSE);\n\t    break;\n\t}\n\t/* FIXME: gettextize? */\n\tp = inputLine(\"Password:\", fi->value ? fi->value->ptr : NULL,\n\t\t      IN_PASSWORD);\n\tif (p == NULL)\n\t    break;\n\tfi->value = Strnew_charp(p);\n\tformUpdateBuffer(a, Currentbuf, fi);\n\tif (fi->accept)\n\t    goto do_submit;\n\tbreak;\n    case FORM_TEXTAREA:\n\tif (submit)\n\t    goto do_submit;\n\tif (fi->readonly)\n\t    /* FIXME: gettextize? */\n\t    disp_message_nsec(\"Read only field!\", FALSE, 1, TRUE, FALSE);\n\tinput_textarea(fi);\n\tformUpdateBuffer(a, Currentbuf, fi);\n\tbreak;\n    case FORM_INPUT_RADIO:\n\tif (submit)\n\t    goto do_submit;\n\tif (fi->readonly) {\n\t    /* FIXME: gettextize? */\n\t    disp_message_nsec(\"Read only field!\", FALSE, 1, TRUE, FALSE);\n\t    break;\n\t}\n\tformRecheckRadio(a, Currentbuf, fi);\n\tbreak;\n    case FORM_INPUT_CHECKBOX:\n\tif (submit)\n\t    goto do_submit;\n\tif (fi->readonly) {\n\t    /* FIXME: gettextize? */\n\t    disp_message_nsec(\"Read only field!\", FALSE, 1, TRUE, FALSE);\n\t    break;\n\t}\n\tfi->checked = !fi->checked;\n\tformUpdateBuffer(a, Currentbuf, fi);\n\tbreak;\n#ifdef MENU_SELECT\n    case FORM_SELECT:\n\tif (submit)\n\t    goto do_submit;\n\tif (!formChooseOptionByMenu(fi,\n\t\t\t\t    Currentbuf->cursorX - Currentbuf->pos +\n\t\t\t\t    a->start.pos + Currentbuf->rootX,\n\t\t\t\t    Currentbuf->cursorY + Currentbuf->rootY))\n\t    break;\n\tformUpdateBuffer(a, Currentbuf, fi);\n\tif (fi->parent->nitems == 1)\n\t    goto do_submit;\n\tbreak;\n#endif\t\t\t\t/* MENU_SELECT */\n    case FORM_INPUT_IMAGE:\n    case FORM_INPUT_SUBMIT:\n    case FORM_INPUT_BUTTON:\n      do_submit:\n\ttmp = Strnew();\n\tmultipart = (fi->parent->method == FORM_METHOD_POST &&\n\t\t     fi->parent->enctype == FORM_ENCTYPE_MULTIPART);\n\tquery_from_followform(&tmp, fi, multipart);\n\n\ttmp2 = Strdup(fi->parent->action);\n\tif (!Strcmp_charp(tmp2, \"!CURRENT_URL!\")) {\n\t    /* It means \"current URL\" */\n\t    tmp2 = parsedURL2Str(&Currentbuf->currentURL);\n\t    if ((p = strchr(tmp2->ptr, '?')) != NULL)\n\t\tStrshrink(tmp2, (tmp2->ptr + tmp2->length) - p);\n\t}\n\n\tif (fi->parent->method == FORM_METHOD_GET) {\n\t    if ((p = strchr(tmp2->ptr, '?')) != NULL)\n\t\tStrshrink(tmp2, (tmp2->ptr + tmp2->length) - p);\n\t    Strcat_charp(tmp2, \"?\");\n\t    Strcat(tmp2, tmp);\n\t    loadLink(tmp2->ptr, a->target, NULL, NULL);\n\t}\n\telse if (fi->parent->method == FORM_METHOD_POST) {\n\t    Buffer *buf;\n\t    if (multipart) {\n\t\tstruct stat st;\n\t\tstat(fi->parent->body, &st);\n\t\tfi->parent->length = st.st_size;\n\t    }\n\t    else {\n\t\tfi->parent->body = tmp->ptr;\n\t\tfi->parent->length = tmp->length;\n\t    }\n\t    buf = loadLink(tmp2->ptr, a->target, NULL, fi->parent);\n\t    if (multipart) {\n\t\tunlink(fi->parent->body);\n\t    }\n\t    if (buf && !(buf->bufferprop & BP_REDIRECTED)) {\t/* buf must be Currentbuf */\n\t\t/* BP_REDIRECTED means that the buffer is obtained through\n\t\t * Location: header. In this case, buf->form_submit must not be set\n\t\t * because the page is not loaded by POST method but GET method.\n\t\t */\n\t\tbuf->form_submit = save_submit_formlist(fi);\n\t    }\n\t}\n\telse if ((fi->parent->method == FORM_METHOD_INTERNAL && (!Strcmp_charp(fi->parent->action, \"map\") || !Strcmp_charp(fi->parent->action, \"none\"))) || Currentbuf->bufferprop & BP_INTERNAL) {\t/* internal */\n\t    do_internal(tmp2->ptr, tmp->ptr);\n\t}\n\telse {\n\t    disp_err_message(\"Can't send form because of illegal method.\",\n\t\t\t     FALSE);\n\t}\n\tbreak;\n    case FORM_INPUT_RESET:\n\tfor (i = 0; i < Currentbuf->formitem->nanchor; i++) {\n\t    a2 = &Currentbuf->formitem->anchors[i];\n\t    f2 = (FormItemList *)a2->url;\n\t    if (f2->parent == fi->parent &&\n\t\tf2->name && f2->value &&\n\t\tf2->type != FORM_INPUT_SUBMIT &&\n\t\tf2->type != FORM_INPUT_HIDDEN &&\n\t\tf2->type != FORM_INPUT_RESET) {\n\t\tf2->value = f2->init_value;\n\t\tf2->checked = f2->init_checked;\n#ifdef MENU_SELECT\n\t\tf2->label = f2->init_label;\n\t\tf2->selected = f2->init_selected;\n#endif\t\t\t\t/* MENU_SELECT */\n\t\tformUpdateBuffer(a2, Currentbuf, f2);\n\t    }\n\t}\n\tbreak;\n    case FORM_INPUT_HIDDEN:\n    default:\n\tbreak;\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* go to the top anchor */\nDEFUN(topA, LINK_BEGIN, \"Move to the first hyperlink\")\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n    BufferPoint *po;\n    Anchor *an;\n    int hseq = 0;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (!hl || hl->nmark == 0)\n\treturn;\n\n    if (prec_num > hl->nmark)\n\thseq = hl->nmark - 1;\n    else if (prec_num > 0)\n\thseq = prec_num - 1;\n    do {\n\tif (hseq >= hl->nmark)\n\t    return;\n\tpo = hl->marks + hseq;\n\tan = retrieveAnchor(Currentbuf->href, po->line, po->pos);\n\tif (an == NULL)\n\t    an = retrieveAnchor(Currentbuf->formitem, po->line, po->pos);\n\thseq++;\n    } while (an == NULL);\n\n    gotoLine(Currentbuf, po->line);\n    Currentbuf->pos = po->pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the last anchor */\nDEFUN(lastA, LINK_END, \"Move to the last hyperlink\")\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n    BufferPoint *po;\n    Anchor *an;\n    int hseq;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (!hl || hl->nmark == 0)\n\treturn;\n\n    if (prec_num >= hl->nmark)\n\thseq = 0;\n    else if (prec_num > 0)\n\thseq = hl->nmark - prec_num;\n    else\n\thseq = hl->nmark - 1;\n    do {\n\tif (hseq < 0)\n\t    return;\n\tpo = hl->marks + hseq;\n\tan = retrieveAnchor(Currentbuf->href, po->line, po->pos);\n\tif (an == NULL)\n\t    an = retrieveAnchor(Currentbuf->formitem, po->line, po->pos);\n\thseq--;\n    } while (an == NULL);\n\n    gotoLine(Currentbuf, po->line);\n    Currentbuf->pos = po->pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the nth anchor */\nDEFUN(nthA, LINK_N, \"Go to the nth link\")\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n\tBufferPoint *po;\n\tAnchor *an;\n\n\tint n = searchKeyNum();\n\tif (n < 0 || n > hl->nmark) return;\n\n\tif (Currentbuf->firstLine == NULL)\n\t\treturn;\n    if (!hl || hl->nmark == 0)\n\t\treturn;\n\n\tpo = hl->marks + n-1;\n\tan = retrieveAnchor(Currentbuf->href, po->line, po->pos);\n\tif (an == NULL)\n\t\tan = retrieveAnchor(Currentbuf->formitem, po->line, po->pos);\n\tif (an == NULL) return;\n\n    gotoLine(Currentbuf, po->line);\n    Currentbuf->pos = po->pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the next anchor */\nDEFUN(nextA, NEXT_LINK, \"Move to the next hyperlink\")\n{\n    _nextA(FALSE);\n}\n\n/* go to the previous anchor */\nDEFUN(prevA, PREV_LINK, \"Move to the previous hyperlink\")\n{\n    _prevA(FALSE);\n}\n\n/* go to the next visited anchor */\nDEFUN(nextVA, NEXT_VISITED, \"Move to the next visited hyperlink\")\n{\n    _nextA(TRUE);\n}\n\n/* go to the previous visited anchor */\nDEFUN(prevVA, PREV_VISITED, \"Move to the previous visited hyperlink\")\n{\n    _prevA(TRUE);\n}\n\n/* go to the next [visited] anchor */\nstatic void\n_nextA(int visited)\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n    BufferPoint *po;\n    Anchor *an, *pan;\n    int i, x, y, n = searchKeyNum();\n    ParsedURL url;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (!hl || hl->nmark == 0)\n\treturn;\n\n    an = retrieveCurrentAnchor(Currentbuf);\n    if (visited != TRUE && an == NULL)\n\tan = retrieveCurrentForm(Currentbuf);\n\n    y = Currentbuf->currentLine->linenumber;\n    x = Currentbuf->pos;\n\n    if (visited == TRUE) {\n\tn = hl->nmark;\n    }\n\n    for (i = 0; i < n; i++) {\n\tpan = an;\n\tif (an && an->hseq >= 0) {\n\t    int hseq = an->hseq + 1;\n\t    do {\n\t\tif (hseq >= hl->nmark) {\n\t\t    if (visited == TRUE)\n\t\t\treturn;\n\t\t    an = pan;\n\t\t    goto _end;\n\t\t}\n\t\tpo = &hl->marks[hseq];\n\t\tan = retrieveAnchor(Currentbuf->href, po->line, po->pos);\n\t\tif (visited != TRUE && an == NULL)\n\t\t    an = retrieveAnchor(Currentbuf->formitem, po->line,\n\t\t\t\t\tpo->pos);\n\t\thseq++;\n\t\tif (visited == TRUE && an) {\n\t\t    parseURL2(an->url, &url, baseURL(Currentbuf));\n\t\t    if (getHashHist(URLHist, parsedURL2Str(&url)->ptr)) {\n\t\t\tgoto _end;\n\t\t    }\n\t\t}\n\t    } while (an == NULL || an == pan);\n\t}\n\telse {\n\t    an = closest_next_anchor(Currentbuf->href, NULL, x, y);\n\t    if (visited != TRUE)\n\t\tan = closest_next_anchor(Currentbuf->formitem, an, x, y);\n\t    if (an == NULL) {\n\t\tif (visited == TRUE)\n\t\t    return;\n\t\tan = pan;\n\t\tbreak;\n\t    }\n\t    x = an->start.pos;\n\t    y = an->start.line;\n\t    if (visited == TRUE) {\n\t\tparseURL2(an->url, &url, baseURL(Currentbuf));\n\t\tif (getHashHist(URLHist, parsedURL2Str(&url)->ptr)) {\n\t\t    goto _end;\n\t\t}\n\t    }\n\t}\n    }\n    if (visited == TRUE)\n\treturn;\n\n  _end:\n    if (an == NULL || an->hseq < 0)\n\treturn;\n    po = &hl->marks[an->hseq];\n    gotoLine(Currentbuf, po->line);\n    Currentbuf->pos = po->pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the previous anchor */\nstatic void\n_prevA(int visited)\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n    BufferPoint *po;\n    Anchor *an, *pan;\n    int i, x, y, n = searchKeyNum();\n    ParsedURL url;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (!hl || hl->nmark == 0)\n\treturn;\n\n    an = retrieveCurrentAnchor(Currentbuf);\n    if (visited != TRUE && an == NULL)\n\tan = retrieveCurrentForm(Currentbuf);\n\n    y = Currentbuf->currentLine->linenumber;\n    x = Currentbuf->pos;\n\n    if (visited == TRUE) {\n\tn = hl->nmark;\n    }\n\n    for (i = 0; i < n; i++) {\n\tpan = an;\n\tif (an && an->hseq >= 0) {\n\t    int hseq = an->hseq - 1;\n\t    do {\n\t\tif (hseq < 0) {\n\t\t    if (visited == TRUE)\n\t\t\treturn;\n\t\t    an = pan;\n\t\t    goto _end;\n\t\t}\n\t\tpo = hl->marks + hseq;\n\t\tan = retrieveAnchor(Currentbuf->href, po->line, po->pos);\n\t\tif (visited != TRUE && an == NULL)\n\t\t    an = retrieveAnchor(Currentbuf->formitem, po->line,\n\t\t\t\t\tpo->pos);\n\t\thseq--;\n\t\tif (visited == TRUE && an) {\n\t\t    parseURL2(an->url, &url, baseURL(Currentbuf));\n\t\t    if (getHashHist(URLHist, parsedURL2Str(&url)->ptr)) {\n\t\t\tgoto _end;\n\t\t    }\n\t\t}\n\t    } while (an == NULL || an == pan);\n\t}\n\telse {\n\t    an = closest_prev_anchor(Currentbuf->href, NULL, x, y);\n\t    if (visited != TRUE)\n\t\tan = closest_prev_anchor(Currentbuf->formitem, an, x, y);\n\t    if (an == NULL) {\n\t\tif (visited == TRUE)\n\t\t    return;\n\t\tan = pan;\n\t\tbreak;\n\t    }\n\t    x = an->start.pos;\n\t    y = an->start.line;\n\t    if (visited == TRUE && an) {\n\t\tparseURL2(an->url, &url, baseURL(Currentbuf));\n\t\tif (getHashHist(URLHist, parsedURL2Str(&url)->ptr)) {\n\t\t    goto _end;\n\t\t}\n\t    }\n\t}\n    }\n    if (visited == TRUE)\n\treturn;\n\n  _end:\n    if (an == NULL || an->hseq < 0)\n\treturn;\n    po = hl->marks + an->hseq;\n    gotoLine(Currentbuf, po->line);\n    Currentbuf->pos = po->pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the next left/right anchor */\nstatic void\nnextX(int d, int dy)\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n    Anchor *an, *pan;\n    Line *l;\n    int i, x, y, n = searchKeyNum();\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (!hl || hl->nmark == 0)\n\treturn;\n\n    an = retrieveCurrentAnchor(Currentbuf);\n    if (an == NULL)\n\tan = retrieveCurrentForm(Currentbuf);\n\n    l = Currentbuf->currentLine;\n    x = Currentbuf->pos;\n    y = l->linenumber;\n    pan = NULL;\n    for (i = 0; i < n; i++) {\n\tif (an)\n\t    x = (d > 0) ? an->end.pos : an->start.pos - 1;\n\tan = NULL;\n\twhile (1) {\n\t    for (; x >= 0 && x < l->len; x += d) {\n\t\tan = retrieveAnchor(Currentbuf->href, y, x);\n\t\tif (!an)\n\t\t    an = retrieveAnchor(Currentbuf->formitem, y, x);\n\t\tif (an) {\n\t\t    pan = an;\n\t\t    break;\n\t\t}\n\t    }\n\t    if (!dy || an)\n\t\tbreak;\n\t    l = (dy > 0) ? l->next : l->prev;\n\t    if (!l)\n\t\tbreak;\n\t    x = (d > 0) ? 0 : l->len - 1;\n\t    y = l->linenumber;\n\t}\n\tif (!an)\n\t    break;\n    }\n\n    if (pan == NULL)\n\treturn;\n    gotoLine(Currentbuf, y);\n    Currentbuf->pos = pan->start.pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the next downward/upward anchor */\nstatic void\nnextY(int d)\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n    Anchor *an, *pan;\n    int i, x, y, n = searchKeyNum();\n    int hseq;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (!hl || hl->nmark == 0)\n\treturn;\n\n    an = retrieveCurrentAnchor(Currentbuf);\n    if (an == NULL)\n\tan = retrieveCurrentForm(Currentbuf);\n\n    x = Currentbuf->pos;\n    y = Currentbuf->currentLine->linenumber + d;\n    pan = NULL;\n    hseq = -1;\n    for (i = 0; i < n; i++) {\n\tif (an)\n\t    hseq = abs(an->hseq);\n\tan = NULL;\n\tfor (; y >= 0 && y <= Currentbuf->lastLine->linenumber; y += d) {\n\t    an = retrieveAnchor(Currentbuf->href, y, x);\n\t    if (!an)\n\t\tan = retrieveAnchor(Currentbuf->formitem, y, x);\n\t    if (an && hseq != abs(an->hseq)) {\n\t\tpan = an;\n\t\tbreak;\n\t    }\n\t}\n\tif (!an)\n\t    break;\n    }\n\n    if (pan == NULL)\n\treturn;\n    gotoLine(Currentbuf, pan->start.line);\n    arrangeLine(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the next left anchor */\nDEFUN(nextL, NEXT_LEFT, \"Move left to the next hyperlink\")\n{\n    nextX(-1, 0);\n}\n\n/* go to the next left-up anchor */\nDEFUN(nextLU, NEXT_LEFT_UP, \"Move left or upward to the next hyperlink\")\n{\n    nextX(-1, -1);\n}\n\n/* go to the next right anchor */\nDEFUN(nextR, NEXT_RIGHT, \"Move right to the next hyperlink\")\n{\n    nextX(1, 0);\n}\n\n/* go to the next right-down anchor */\nDEFUN(nextRD, NEXT_RIGHT_DOWN, \"Move right or downward to the next hyperlink\")\n{\n    nextX(1, 1);\n}\n\n/* go to the next downward anchor */\nDEFUN(nextD, NEXT_DOWN, \"Move downward to the next hyperlink\")\n{\n    nextY(1);\n}\n\n/* go to the next upward anchor */\nDEFUN(nextU, NEXT_UP, \"Move upward to the next hyperlink\")\n{\n    nextY(-1);\n}\n\n/* go to the next bufferr */\nDEFUN(nextBf, NEXT, \"Switch to the next buffer\")\n{\n    Buffer *buf;\n    int i;\n\n    for (i = 0; i < PREC_NUM; i++) {\n\tbuf = prevBuffer(Firstbuf, Currentbuf);\n\tif (!buf) {\n\t    if (i == 0)\n\t\treturn;\n\t    break;\n\t}\n\tCurrentbuf = buf;\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* go to the previous bufferr */\nDEFUN(prevBf, PREV, \"Switch to the previous buffer\")\n{\n    Buffer *buf;\n    int i;\n\n    for (i = 0; i < PREC_NUM; i++) {\n\tbuf = Currentbuf->nextBuffer;\n\tif (!buf) {\n\t    if (i == 0)\n\t\treturn;\n\t    break;\n\t}\n\tCurrentbuf = buf;\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nstatic int\ncheckBackBuffer(Buffer *buf)\n{\n    Buffer *fbuf = buf->linkBuffer[LB_N_FRAME];\n\n    if (fbuf) {\n\tif (fbuf->frameQ)\n\t    return TRUE;\t/* Currentbuf has stacked frames */\n\t/* when no frames stacked and next is frame source, try next's\n\t * nextBuffer */\n\tif (RenderFrame && fbuf == buf->nextBuffer) {\n\t    if (fbuf->nextBuffer != NULL)\n\t\treturn TRUE;\n\t    else\n\t\treturn FALSE;\n\t}\n    }\n\n    if (buf->nextBuffer)\n\treturn TRUE;\n\n    return FALSE;\n}\n\n/* delete current buffer and back to the previous buffer */\nDEFUN(backBf, BACK, \"Close current buffer and return to the one below in stack\")\n{\n    Buffer *buf = Currentbuf->linkBuffer[LB_N_FRAME];\n\n    if (!checkBackBuffer(Currentbuf)) {\n\tif (close_tab_back && nTab >= 1) {\n\t    deleteTab(CurrentTab);\n\t    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n\t}\n\telse\n\t    /* FIXME: gettextize? */\n\t    disp_message(\"Can't go back...\", TRUE);\n\treturn;\n    }\n\n    delBuffer(Currentbuf);\n\n    if (buf) {\n\tif (buf->frameQ) {\n\t    struct frameset *fs;\n\t    long linenumber = buf->frameQ->linenumber;\n\t    long top = buf->frameQ->top_linenumber;\n\t    int pos = buf->frameQ->pos;\n\t    int currentColumn = buf->frameQ->currentColumn;\n\t    AnchorList *formitem = buf->frameQ->formitem;\n\n\t    fs = popFrameTree(&(buf->frameQ));\n\t    deleteFrameSet(buf->frameset);\n\t    buf->frameset = fs;\n\n\t    if (buf == Currentbuf) {\n\t\trFrame();\n\t\tCurrentbuf->topLine = lineSkip(Currentbuf,\n\t\t\t\t\t       Currentbuf->firstLine, top - 1,\n\t\t\t\t\t       FALSE);\n\t\tgotoLine(Currentbuf, linenumber);\n\t\tCurrentbuf->pos = pos;\n\t\tCurrentbuf->currentColumn = currentColumn;\n\t\tarrangeCursor(Currentbuf);\n\t\tformResetBuffer(Currentbuf, formitem);\n\t    }\n\t}\n\telse if (RenderFrame && buf == Currentbuf) {\n\t    delBuffer(Currentbuf);\n\t}\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(deletePrevBuf, DELETE_PREVBUF, \"Delete previous buffer (mainly for local CGI-scripts)\")\n{\n    Buffer *buf = Currentbuf->nextBuffer;\n    if (buf)\n\tdelBuffer(buf);\n}\n\nstatic void\ncmd_loadURL(char *url, ParsedURL *current, char *referer, FormList *request)\n{\n    Buffer *buf;\n\n    if (handleMailto(url))\n\treturn;\n#if 0\n    if (!strncasecmp(url, \"news:\", 5) && strchr(url, '@') == NULL) {\n\t/* news:newsgroup is not supported */\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"news:newsgroup_name is not supported\", TRUE);\n\treturn;\n    }\n#endif\t\t\t\t/* USE_NNTP */\n\n    refresh();\n    buf = loadGeneralFile(url, current, referer, 0, request);\n    if (buf == NULL) {\n\t/* FIXME: gettextize? */\n\tchar *emsg = Sprintf(\"Can't load %s\", conv_from_system(url))->ptr;\n\tdisp_err_message(emsg, FALSE);\n    }\n    else if (buf != NO_BUFFER) {\n\tpushBuffer(buf);\n\tif (RenderFrame && Currentbuf->frameset != NULL)\n\t    rFrame();\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n\n/* go to specified URL */\nstatic void\ngoURL0(char *prompt, int relative)\n{\n    char *url, *referer;\n    ParsedURL p_url, *current;\n    Buffer *cur_buf = Currentbuf;\n    const int *no_referer_ptr;\n\n    url = searchKeyData();\n    if (url == NULL) {\n\tHist *hist = copyHist(URLHist);\n\tAnchor *a;\n\n\tcurrent = baseURL(Currentbuf);\n\tif (current) {\n\t    char *c_url = parsedURL2Str(current)->ptr;\n\t    if (DefaultURLString == DEFAULT_URL_CURRENT)\n\t\turl = url_decode2(c_url, NULL);\n\t    else\n\t\tpushHist(hist, c_url);\n\t}\n\ta = retrieveCurrentAnchor(Currentbuf);\n\tif (a) {\n\t    char *a_url;\n\t    parseURL2(a->url, &p_url, current);\n\t    a_url = parsedURL2Str(&p_url)->ptr;\n\t    if (DefaultURLString == DEFAULT_URL_LINK)\n\t\turl = url_decode2(a_url, Currentbuf);\n\t    else\n\t\tpushHist(hist, a_url);\n\t}\n\turl = inputLineHist(prompt, url, IN_URL, hist);\n\tif (url != NULL)\n\t    SKIP_BLANKS(url);\n    }\n    if (relative) {\n\tno_referer_ptr = query_SCONF_NO_REFERER_FROM(&Currentbuf->currentURL);\n\tcurrent = baseURL(Currentbuf);\n\tif ((no_referer_ptr && *no_referer_ptr) ||\n\t    current == NULL ||\n\t    current->scheme == SCM_LOCAL || current->scheme == SCM_LOCAL_CGI)\n\t    referer = NO_REFERER;\n\telse\n\t    referer = parsedURL2Str(&Currentbuf->currentURL)->ptr;\n\turl = url_encode(url, current, Currentbuf->document_charset);\n    }\n    else {\n\tcurrent = NULL;\n\treferer = NULL;\n\turl = url_encode(url, NULL, 0);\n    }\n    if (url == NULL || *url == '\\0') {\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n\treturn;\n    }\n    if (*url == '#') {\n\tgotoLabel(url + 1);\n\treturn;\n    }\n    parseURL2(url, &p_url, current);\n    pushHashHist(URLHist, parsedURL2Str(&p_url)->ptr);\n    cmd_loadURL(url, current, referer, NULL);\n    if (Currentbuf != cur_buf)\t/* success */\n\tpushHashHist(URLHist, parsedURL2Str(&Currentbuf->currentURL)->ptr);\n}\n\nDEFUN(goURL, GOTO, \"Open specified document in a new buffer\")\n{\n    goURL0(\"Goto URL: \", FALSE);\n}\n\nDEFUN(gorURL, GOTO_RELATIVE, \"Go to relative address\")\n{\n    goURL0(\"Goto relative URL: \", TRUE);\n}\n\nstatic void\ncmd_loadBuffer(Buffer *buf, int prop, int linkid)\n{\n    if (buf == NULL) {\n\tdisp_err_message(\"Can't load string\", FALSE);\n    }\n    else if (buf != NO_BUFFER) {\n\tbuf->bufferprop |= (BP_INTERNAL | prop);\n\tif (!(buf->bufferprop & BP_NO_URL))\n\t    copyParsedURL(&buf->currentURL, &Currentbuf->currentURL);\n\tif (linkid != LB_NOLINK) {\n\t    buf->linkBuffer[REV_LB[linkid]] = Currentbuf;\n\t    Currentbuf->linkBuffer[linkid] = buf;\n\t}\n\tpushBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* load bookmark */\nDEFUN(ldBmark, BOOKMARK VIEW_BOOKMARK, \"View bookmarks\")\n{\n    cmd_loadURL(BookmarkFile, NULL, NO_REFERER, NULL);\n}\n\n\n/* Add current to bookmark */\nDEFUN(adBmark, ADD_BOOKMARK, \"Add current page to bookmarks\")\n{\n    Str tmp;\n    FormList *request;\n\n    tmp = Sprintf(\"mode=panel&cookie=%s&bmark=%s&url=%s&title=%s\"\n#ifdef USE_M17N\n\t\t    \"&charset=%s\"\n#endif\n\t\t    ,\n\t\t  (Str_form_quote(localCookie()))->ptr,\n\t\t  (Str_form_quote(Strnew_charp(BookmarkFile)))->ptr,\n\t\t  (Str_form_quote(parsedURL2Str(&Currentbuf->currentURL)))->\n\t\t  ptr,\n#ifdef USE_M17N\n\t\t  (Str_form_quote(wc_conv_strict(Currentbuf->buffername,\n\t\t\t\t\t\t InnerCharset,\n\t\t\t\t\t\t BookmarkCharset)))->ptr,\n\t\t  wc_ces_to_charset(BookmarkCharset));\n#else\n\t\t  (Str_form_quote(Strnew_charp(Currentbuf->buffername)))->ptr);\n#endif\n    request = newFormList(NULL, \"post\", NULL, NULL, NULL, NULL, NULL);\n    request->body = tmp->ptr;\n    request->length = tmp->length;\n    cmd_loadURL(\"file:///$LIB/\" W3MBOOKMARK_CMDNAME, NULL, NO_REFERER,\n\t\trequest);\n}\n\n/* option setting */\nDEFUN(ldOpt, OPTIONS, \"Display options setting panel\")\n{\n    cmd_loadBuffer(load_option_panel(), BP_NO_URL, LB_NOLINK);\n}\n\n/* set an option */\nDEFUN(setOpt, SET_OPTION, \"Set option\")\n{\n    char *opt;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    opt = searchKeyData();\n    if (opt == NULL || *opt == '\\0' || strchr(opt, '=') == NULL) {\n\tif (opt != NULL && *opt != '\\0') {\n\t    char *v = get_param_option(opt);\n\t    opt = Sprintf(\"%s=%s\", opt, v ? v : \"\")->ptr;\n\t}\n\topt = inputStrHist(\"Set option: \", opt, TextHist);\n\tif (opt == NULL || *opt == '\\0') {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    if (set_param_option(opt))\n\tsync_with_option();\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n\n/* error message list */\nDEFUN(msgs, MSGS, \"Display error messages\")\n{\n    cmd_loadBuffer(message_list_panel(), BP_NO_URL, LB_NOLINK);\n}\n\n/* page info */\nDEFUN(pginfo, INFO, \"Display information about the current document\")\n{\n    Buffer *buf;\n\n    if ((buf = Currentbuf->linkBuffer[LB_N_INFO]) != NULL) {\n\tCurrentbuf = buf;\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    if ((buf = Currentbuf->linkBuffer[LB_INFO]) != NULL)\n\tdelBuffer(buf);\n    buf = page_info_panel(Currentbuf);\n    cmd_loadBuffer(buf, BP_NORMAL, LB_INFO);\n}\n\nvoid\nfollow_map(struct parsed_tagarg *arg)\n{\n    char *name = tag_get_value(arg, \"link\");\n#if defined(MENU_MAP) || defined(USE_IMAGE)\n    Anchor *an;\n    MapArea *a;\n    int x, y;\n    ParsedURL p_url;\n\n    an = retrieveCurrentImg(Currentbuf);\n    x = Currentbuf->cursorX + Currentbuf->rootX;\n    y = Currentbuf->cursorY + Currentbuf->rootY;\n    a = follow_map_menu(Currentbuf, name, an, x, y);\n    if (a == NULL || a->url == NULL || *(a->url) == '\\0') {\n#endif\n#ifndef MENU_MAP\n\tBuffer *buf = follow_map_panel(Currentbuf, name);\n\n\tif (buf != NULL)\n\t    cmd_loadBuffer(buf, BP_NORMAL, LB_NOLINK);\n#endif\n#if defined(MENU_MAP) || defined(USE_IMAGE)\n\treturn;\n    }\n    if (*(a->url) == '#') {\n\tgotoLabel(a->url + 1);\n\treturn;\n    }\n    parseURL2(a->url, &p_url, baseURL(Currentbuf));\n    pushHashHist(URLHist, parsedURL2Str(&p_url)->ptr);\n    if (check_target && open_tab_blank && a->target &&\n\t(!strcasecmp(a->target, \"_new\") || !strcasecmp(a->target, \"_blank\"))) {\n\tBuffer *buf;\n\n\t_newT();\n\tbuf = Currentbuf;\n\tcmd_loadURL(a->url, baseURL(Currentbuf),\n\t\t    parsedURL2Str(&Currentbuf->currentURL)->ptr, NULL);\n\tif (buf != Currentbuf)\n\t    delBuffer(buf);\n\telse\n\t    deleteTab(CurrentTab);\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n\treturn;\n    }\n    cmd_loadURL(a->url, baseURL(Currentbuf),\n\t\tparsedURL2Str(&Currentbuf->currentURL)->ptr, NULL);\n#endif\n}\n\n#ifdef USE_MENU\n/* link menu */\nDEFUN(linkMn, LINK_MENU, \"Pop up link element menu\")\n{\n    LinkList *l = link_menu(Currentbuf);\n    ParsedURL p_url;\n\n    if (!l || !l->url)\n\treturn;\n    if (*(l->url) == '#') {\n\tgotoLabel(l->url + 1);\n\treturn;\n    }\n    parseURL2(l->url, &p_url, baseURL(Currentbuf));\n    pushHashHist(URLHist, parsedURL2Str(&p_url)->ptr);\n    cmd_loadURL(l->url, baseURL(Currentbuf),\n\t\tparsedURL2Str(&Currentbuf->currentURL)->ptr, NULL);\n}\n\nstatic void\nanchorMn(Anchor *(*menu_func) (Buffer *), int go)\n{\n    Anchor *a;\n    BufferPoint *po;\n\n    if (!Currentbuf->href || !Currentbuf->hmarklist)\n\treturn;\n    a = menu_func(Currentbuf);\n    if (!a || a->hseq < 0)\n\treturn;\n    po = &Currentbuf->hmarklist->marks[a->hseq];\n    gotoLine(Currentbuf, po->line);\n    Currentbuf->pos = po->pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n    if (go)\n\tfollowA();\n}\n\n/* accesskey */\nDEFUN(accessKey, ACCESSKEY, \"Pop up accesskey menu\")\n{\n    anchorMn(accesskey_menu, TRUE);\n}\n\n/* list menu */\nDEFUN(listMn, LIST_MENU, \"Pop up menu for hyperlinks to browse to\")\n{\n    anchorMn(list_menu, TRUE);\n}\n\nDEFUN(movlistMn, MOVE_LIST_MENU, \"Pop up menu to navigate between hyperlinks\")\n{\n    anchorMn(list_menu, FALSE);\n}\n#endif\n\n/* link,anchor,image list */\nDEFUN(linkLst, LIST, \"Show all URLs referenced\")\n{\n    Buffer *buf;\n\n    buf = link_list_panel(Currentbuf);\n    if (buf != NULL) {\n#ifdef USE_M17N\n\tbuf->document_charset = Currentbuf->document_charset;\n#endif\n\tcmd_loadBuffer(buf, BP_NORMAL, LB_NOLINK);\n    }\n}\n\n#ifdef USE_COOKIE\n/* cookie list */\nDEFUN(cooLst, COOKIE, \"View cookie list\")\n{\n    Buffer *buf;\n\n    buf = cookie_list_panel();\n    if (buf != NULL)\n\tcmd_loadBuffer(buf, BP_NO_URL, LB_NOLINK);\n}\n#endif\t\t\t\t/* USE_COOKIE */\n\n#ifdef USE_HISTORY\n/* History page */\nDEFUN(ldHist, HISTORY, \"Show browsing history\")\n{\n    cmd_loadBuffer(historyBuffer(URLHist), BP_NO_URL, LB_NOLINK);\n}\n#endif\t\t\t\t/* USE_HISTORY */\n\n/* download HREF link */\nDEFUN(svA, SAVE_LINK, \"Save hyperlink target\")\n{\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    do_download = TRUE;\n    followA();\n    do_download = FALSE;\n}\n\n/* download IMG link */\nDEFUN(svI, SAVE_IMAGE, \"Save inline image\")\n{\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    do_download = TRUE;\n    followI();\n    do_download = FALSE;\n}\n\n/* save buffer */\nDEFUN(svBuf, PRINT SAVE_SCREEN, \"Save rendered document\")\n{\n    char *qfile = NULL, *file;\n    FILE *f;\n    int is_pipe;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    file = searchKeyData();\n    if (file == NULL || *file == '\\0') {\n\t/* FIXME: gettextize? */\n\tqfile = inputLineHist(\"Save buffer to: \", NULL, IN_COMMAND, SaveHist);\n\tif (qfile == NULL || *qfile == '\\0') {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    file = conv_to_system(qfile ? qfile : file);\n    if (*file == '|') {\n\tis_pipe = TRUE;\n\tf = popen(file + 1, \"w\");\n    }\n    else {\n\tif (qfile) {\n\t    file = unescape_spaces(Strnew_charp(qfile))->ptr;\n\t    file = conv_to_system(file);\n\t}\n\tfile = expandPath(file);\n\tif (checkOverWrite(file) < 0) {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n\tf = fopen(file, \"w\");\n\tis_pipe = FALSE;\n    }\n    if (f == NULL) {\n\t/* FIXME: gettextize? */\n\tchar *emsg = Sprintf(\"Can't open %s\", conv_from_system(file))->ptr;\n\tdisp_err_message(emsg, TRUE);\n\treturn;\n    }\n    saveBuffer(Currentbuf, f, TRUE);\n    if (is_pipe)\n\tpclose(f);\n    else\n\tfclose(f);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* save source */\nDEFUN(svSrc, DOWNLOAD SAVE, \"Save document source\")\n{\n    char *file;\n\n    if (Currentbuf->sourcefile == NULL)\n\treturn;\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    PermitSaveToPipe = TRUE;\n    if (Currentbuf->real_scheme == SCM_LOCAL)\n\tfile = conv_from_system(guess_save_name(NULL,\n\t\t\t\t\t\tCurrentbuf->currentURL.\n\t\t\t\t\t\treal_file));\n    else\n\tfile = guess_save_name(Currentbuf, Currentbuf->currentURL.file);\n    doFileCopy(Currentbuf->sourcefile, file);\n    PermitSaveToPipe = FALSE;\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nstatic void\n_peekURL(int only_img)\n{\n\n    Anchor *a;\n    ParsedURL pu;\n    static Str s = NULL;\n#ifdef USE_M17N\n    static Lineprop *p = NULL;\n    Lineprop *pp;\n#endif\n    static int offset = 0, n;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (CurrentKey == prev_key && s != NULL) {\n\tif (s->length - offset >= COLS)\n\t    offset++;\n\telse if (s->length <= offset)\t/* bug ? */\n\t    offset = 0;\n\tgoto disp;\n    }\n    else {\n\toffset = 0;\n    }\n    s = NULL;\n    a = (only_img ? NULL : retrieveCurrentAnchor(Currentbuf));\n    if (a == NULL) {\n\ta = (only_img ? NULL : retrieveCurrentForm(Currentbuf));\n\tif (a == NULL) {\n\t    a = retrieveCurrentImg(Currentbuf);\n\t    if (a == NULL)\n\t\treturn;\n\t}\n\telse\n\t    s = Strnew_charp(form2str((FormItemList *)a->url));\n    }\n    if (s == NULL) {\n\tparseURL2(a->url, &pu, baseURL(Currentbuf));\n\ts = parsedURL2Str(&pu);\n    }\n    if (DecodeURL)\n\ts = Strnew_charp(url_decode2(s->ptr, Currentbuf));\n#ifdef USE_M17N\n    s = checkType(s, &pp, NULL);\n    p = NewAtom_N(Lineprop, s->length);\n    bcopy((void *)pp, (void *)p, s->length * sizeof(Lineprop));\n#endif\n  disp:\n    n = searchKeyNum();\n    if (n > 1 && s->length > (n - 1) * (COLS - 1))\n\toffset = (n - 1) * (COLS - 1);\n#ifdef USE_M17N\n    while (offset < s->length && p[offset] & PC_WCHAR2)\n\toffset++;\n#endif\n    disp_message_nomouse(&s->ptr[offset], TRUE);\n}\n\n/* peek URL */\nDEFUN(peekURL, PEEK_LINK, \"Show target address\")\n{\n    _peekURL(0);\n}\n\n/* peek URL of image */\nDEFUN(peekIMG, PEEK_IMG, \"Show image address\")\n{\n    _peekURL(1);\n}\n\n/* show current URL */\nstatic Str\ncurrentURL(void)\n{\n    if (Currentbuf->bufferprop & BP_INTERNAL)\n\treturn Strnew_size(0);\n    return parsedURL2Str(&Currentbuf->currentURL);\n}\n\nDEFUN(curURL, PEEK, \"Show current address\")\n{\n    static Str s = NULL;\n#ifdef USE_M17N\n    static Lineprop *p = NULL;\n    Lineprop *pp;\n#endif\n    static int offset = 0, n;\n\n    if (Currentbuf->bufferprop & BP_INTERNAL)\n\treturn;\n    if (CurrentKey == prev_key && s != NULL) {\n\tif (s->length - offset >= COLS)\n\t    offset++;\n\telse if (s->length <= offset)\t/* bug ? */\n\t    offset = 0;\n    }\n    else {\n\toffset = 0;\n\ts = currentURL();\n\tif (DecodeURL)\n\t    s = Strnew_charp(url_decode2(s->ptr, NULL));\n#ifdef USE_M17N\n\ts = checkType(s, &pp, NULL);\n\tp = NewAtom_N(Lineprop, s->length);\n\tbcopy((void *)pp, (void *)p, s->length * sizeof(Lineprop));\n#endif\n    }\n    n = searchKeyNum();\n    if (n > 1 && s->length > (n - 1) * (COLS - 1))\n\toffset = (n - 1) * (COLS - 1);\n#ifdef USE_M17N\n    while (offset < s->length && p[offset] & PC_WCHAR2)\n\toffset++;\n#endif\n    disp_message_nomouse(&s->ptr[offset], TRUE);\n}\n/* view HTML source */\n\nDEFUN(vwSrc, SOURCE VIEW, \"Toggle between HTML shown or processed\")\n{\n    Buffer *buf;\n\n    if (Currentbuf->type == NULL || Currentbuf->bufferprop & BP_FRAME)\n\treturn;\n    if ((buf = Currentbuf->linkBuffer[LB_SOURCE]) != NULL ||\n\t(buf = Currentbuf->linkBuffer[LB_N_SOURCE]) != NULL) {\n\tCurrentbuf = buf;\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    if (Currentbuf->sourcefile == NULL) {\n\tif (Currentbuf->pagerSource &&\n\t    !strcasecmp(Currentbuf->type, \"text/plain\")) {\n#ifdef USE_M17N\n\t    wc_ces old_charset;\n\t    wc_bool old_fix_width_conv;\n#endif\n\t    FILE *f;\n\t    Str tmpf = tmpfname(TMPF_SRC, NULL);\n\t    f = fopen(tmpf->ptr, \"w\");\n\t    if (f == NULL)\n\t\treturn;\n#ifdef USE_M17N\n\t    old_charset = DisplayCharset;\n\t    old_fix_width_conv = WcOption.fix_width_conv;\n\t    DisplayCharset = (Currentbuf->document_charset != WC_CES_US_ASCII)\n\t\t? Currentbuf->document_charset : 0;\n\t    WcOption.fix_width_conv = WC_FALSE;\n#endif\n\t    saveBufferBody(Currentbuf, f, TRUE);\n#ifdef USE_M17N\n\t    DisplayCharset = old_charset;\n\t    WcOption.fix_width_conv = old_fix_width_conv;\n#endif\n\t    fclose(f);\n\t    Currentbuf->sourcefile = tmpf->ptr;\n\t}\n\telse {\n\t    return;\n\t}\n    }\n\n    buf = newBuffer(INIT_BUFFER_WIDTH);\n\n    if (is_html_type(Currentbuf->type)) {\n\tbuf->type = \"text/plain\";\n\tif (Currentbuf->real_type &&\n\t    is_html_type(Currentbuf->real_type))\n\t    buf->real_type = \"text/plain\";\n\telse\n\t    buf->real_type = Currentbuf->real_type;\n\tbuf->buffername = Sprintf(\"source of %s\", Currentbuf->buffername)->ptr;\n\tbuf->linkBuffer[LB_N_SOURCE] = Currentbuf;\n\tCurrentbuf->linkBuffer[LB_SOURCE] = buf;\n    }\n    else if (!strcasecmp(Currentbuf->type, \"text/plain\")) {\n\tbuf->type = \"text/html\";\n\tif (Currentbuf->real_type &&\n\t    !strcasecmp(Currentbuf->real_type, \"text/plain\"))\n\t    buf->real_type = \"text/html\";\n\telse\n\t    buf->real_type = Currentbuf->real_type;\n\tbuf->buffername = Sprintf(\"HTML view of %s\",\n\t\t\t\t  Currentbuf->buffername)->ptr;\n\tbuf->linkBuffer[LB_SOURCE] = Currentbuf;\n\tCurrentbuf->linkBuffer[LB_N_SOURCE] = buf;\n    }\n    else {\n\treturn;\n    }\n    buf->currentURL = Currentbuf->currentURL;\n    buf->real_scheme = Currentbuf->real_scheme;\n    buf->filename = Currentbuf->filename;\n    buf->sourcefile = Currentbuf->sourcefile;\n    buf->header_source = Currentbuf->header_source;\n    buf->search_header = Currentbuf->search_header;\n#ifdef USE_M17N\n    buf->document_charset = Currentbuf->document_charset;\n#endif\n    buf->clone = Currentbuf->clone;\n    (*buf->clone)++;\n\n    buf->need_reshape = TRUE;\n    reshapeBuffer(buf);\n    pushBuffer(buf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* reload */\nDEFUN(reload, RELOAD, \"Load current document anew\")\n{\n    Buffer *buf, *fbuf = NULL, sbuf;\n#ifdef USE_M17N\n    wc_ces old_charset;\n#endif\n    Str url;\n    FormList *request;\n    int multipart;\n\n    if (Currentbuf->bufferprop & BP_INTERNAL) {\n\tif (!strcmp(Currentbuf->buffername, DOWNLOAD_LIST_TITLE)) {\n\t    ldDL();\n\t    return;\n\t}\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"Can't reload...\", TRUE);\n\treturn;\n    }\n    if (Currentbuf->currentURL.scheme == SCM_LOCAL &&\n\t!strcmp(Currentbuf->currentURL.file, \"-\")) {\n\t/* file is std input */\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"Can't reload stdin\", TRUE);\n\treturn;\n    }\n    copyBuffer(&sbuf, Currentbuf);\n    if (Currentbuf->bufferprop & BP_FRAME &&\n\t(fbuf = Currentbuf->linkBuffer[LB_N_FRAME])) {\n\tif (fmInitialized) {\n\t    message(\"Rendering frame\", 0, 0);\n\t    refresh();\n\t}\n\tif (!(buf = renderFrame(fbuf, 1))) {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n\tif (fbuf->linkBuffer[LB_FRAME]) {\n\t    if (buf->sourcefile &&\n\t\tfbuf->linkBuffer[LB_FRAME]->sourcefile &&\n\t\t!strcmp(buf->sourcefile,\n\t\t\tfbuf->linkBuffer[LB_FRAME]->sourcefile))\n\t\tfbuf->linkBuffer[LB_FRAME]->sourcefile = NULL;\n\t    delBuffer(fbuf->linkBuffer[LB_FRAME]);\n\t}\n\tfbuf->linkBuffer[LB_FRAME] = buf;\n\tbuf->linkBuffer[LB_N_FRAME] = fbuf;\n\tpushBuffer(buf);\n\tCurrentbuf = buf;\n\tif (Currentbuf->firstLine) {\n\t    COPY_BUFROOT(Currentbuf, &sbuf);\n\t    restorePosition(Currentbuf, &sbuf);\n\t}\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n\treturn;\n    }\n    else if (Currentbuf->frameset != NULL)\n\tfbuf = Currentbuf->linkBuffer[LB_FRAME];\n    multipart = 0;\n    if (Currentbuf->form_submit) {\n\trequest = Currentbuf->form_submit->parent;\n\tif (request->method == FORM_METHOD_POST\n\t    && request->enctype == FORM_ENCTYPE_MULTIPART) {\n\t    Str query;\n\t    struct stat st;\n\t    multipart = 1;\n\t    query_from_followform(&query, Currentbuf->form_submit, multipart);\n\t    stat(request->body, &st);\n\t    request->length = st.st_size;\n\t}\n    }\n    else {\n\trequest = NULL;\n    }\n    url = parsedURL2Str(&Currentbuf->currentURL);\n    /* FIXME: gettextize? */\n    message(\"Reloading...\", 0, 0);\n    refresh();\n#ifdef USE_M17N\n    old_charset = DocumentCharset;\n    if (Currentbuf->document_charset != WC_CES_US_ASCII)\n\tDocumentCharset = Currentbuf->document_charset;\n#endif\n    SearchHeader = Currentbuf->search_header;\n    DefaultType = Currentbuf->real_type;\n    buf = loadGeneralFile(url->ptr, NULL, NO_REFERER, RG_NOCACHE, request);\n#ifdef USE_M17N\n    DocumentCharset = old_charset;\n#endif\n    SearchHeader = FALSE;\n    DefaultType = NULL;\n\n    if (multipart)\n\tunlink(request->body);\n    if (buf == NULL) {\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"Can't reload...\", TRUE);\n\treturn;\n    }\n    else if (buf == NO_BUFFER) {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    if (fbuf != NULL)\n\tFirstbuf = deleteBuffer(Firstbuf, fbuf);\n    repBuffer(Currentbuf, buf);\n    if ((buf->type != NULL) && (sbuf.type != NULL) &&\n\t((!strcasecmp(buf->type, \"text/plain\") &&\n\t  is_html_type(sbuf.type)) ||\n\t (is_html_type(buf->type) &&\n\t  !strcasecmp(sbuf.type, \"text/plain\")))) {\n\tvwSrc();\n\tif (Currentbuf != buf)\n\t    Firstbuf = deleteBuffer(Firstbuf, buf);\n    }\n    Currentbuf->search_header = sbuf.search_header;\n    Currentbuf->form_submit = sbuf.form_submit;\n    if (Currentbuf->firstLine) {\n\tCOPY_BUFROOT(Currentbuf, &sbuf);\n\trestorePosition(Currentbuf, &sbuf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* reshape */\nDEFUN(reshape, RESHAPE, \"Re-render document\")\n{\n    Currentbuf->need_reshape = TRUE;\n    reshapeBuffer(Currentbuf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n#ifdef USE_M17N\nstatic void\n_docCSet(wc_ces charset)\n{\n    if (Currentbuf->bufferprop & BP_INTERNAL)\n\treturn;\n    if (Currentbuf->sourcefile == NULL) {\n\tdisp_message(\"Can't reload...\", FALSE);\n\treturn;\n    }\n    Currentbuf->document_charset = charset;\n    Currentbuf->need_reshape = TRUE;\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nvoid\nchange_charset(struct parsed_tagarg *arg)\n{\n    Buffer *buf = Currentbuf->linkBuffer[LB_N_INFO];\n    wc_ces charset;\n\n    if (buf == NULL)\n\treturn;\n    delBuffer(Currentbuf);\n    Currentbuf = buf;\n    if (Currentbuf->bufferprop & BP_INTERNAL)\n\treturn;\n    charset = Currentbuf->document_charset;\n    for (; arg; arg = arg->next) {\n\tif (!strcmp(arg->arg, \"charset\"))\n\t    charset = atoi(arg->value);\n    }\n    _docCSet(charset);\n}\n\nDEFUN(docCSet, CHARSET, \"Change the character encoding for the current document\")\n{\n    char *cs;\n    wc_ces charset;\n\n    cs = searchKeyData();\n    if (cs == NULL || *cs == '\\0')\n\t/* FIXME: gettextize? */\n\tcs = inputStr(\"Document charset: \",\n\t\t      wc_ces_to_charset(Currentbuf->document_charset));\n    charset = wc_guess_charset_short(cs, 0);\n    if (charset == 0) {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    _docCSet(charset);\n}\n\nDEFUN(defCSet, DEFAULT_CHARSET, \"Change the default character encoding\")\n{\n    char *cs;\n    wc_ces charset;\n\n    cs = searchKeyData();\n    if (cs == NULL || *cs == '\\0')\n\t/* FIXME: gettextize? */\n\tcs = inputStr(\"Default document charset: \",\n\t\t      wc_ces_to_charset(DocumentCharset));\n    charset = wc_guess_charset_short(cs, 0);\n    if (charset != 0)\n\tDocumentCharset = charset;\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n#endif\n\n/* mark URL-like patterns as anchors */\nvoid\nchkURLBuffer(Buffer *buf)\n{\n    static char *url_like_pat[] = {\n\t\"https?://[a-zA-Z0-9][a-zA-Z0-9:%\\\\-\\\\./?=~_\\\\&+@#,\\\\$;]*[a-zA-Z0-9_/=\\\\-]\",\n\t\"file:/[a-zA-Z0-9:%\\\\-\\\\./=_\\\\+@#,\\\\$;]*\",\n#ifdef USE_GOPHER\n\t\"gopher://[a-zA-Z0-9][a-zA-Z0-9:%\\\\-\\\\./_]*\",\n#endif\t\t\t\t/* USE_GOPHER */\n\t\"ftp://[a-zA-Z0-9][a-zA-Z0-9:%\\\\-\\\\./=_+@#,\\\\$]*[a-zA-Z0-9_/]\",\n#ifdef USE_NNTP\n\t\"news:[^<> \t][^<> \t]*\",\n\t\"nntp://[a-zA-Z0-9][a-zA-Z0-9:%\\\\-\\\\./_]*\",\n#endif\t\t\t\t/* USE_NNTP */\n#ifndef USE_W3MMAILER\t\t/* see also chkExternalURIBuffer() */\n\t\"mailto:[^<> \t][^<> \t]*@[a-zA-Z0-9][a-zA-Z0-9\\\\-\\\\._]*[a-zA-Z0-9]\",\n#endif\n#ifdef INET6\n\t\"https?://[a-zA-Z0-9:%\\\\-\\\\./_@]*\\\\[[a-fA-F0-9:][a-fA-F0-9:\\\\.]*\\\\][a-zA-Z0-9:%\\\\-\\\\./?=~_\\\\&+@#,\\\\$;]*\",\n\t\"ftp://[a-zA-Z0-9:%\\\\-\\\\./_@]*\\\\[[a-fA-F0-9:][a-fA-F0-9:\\\\.]*\\\\][a-zA-Z0-9:%\\\\-\\\\./=_+@#,\\\\$]*\",\n#endif\t\t\t\t/* INET6 */\n\tNULL\n    };\n    int i;\n    for (i = 0; url_like_pat[i]; i++) {\n\treAnchor(buf, url_like_pat[i]);\n    }\n#ifdef USE_EXTERNAL_URI_LOADER\n    chkExternalURIBuffer(buf);\n#endif\n    buf->check_url |= CHK_URL;\n}\n\nDEFUN(chkURL, MARK_URL, \"Turn URL-like strings into hyperlinks\")\n{\n    chkURLBuffer(Currentbuf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(chkWORD, MARK_WORD, \"Turn current word into hyperlink\")\n{\n    char *p;\n    int spos, epos;\n    p = getCurWord(Currentbuf, &spos, &epos);\n    if (p == NULL)\n\treturn;\n    reAnchorWord(Currentbuf, Currentbuf->currentLine, spos, epos);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n#ifdef USE_NNTP\n/* mark Message-ID-like patterns as NEWS anchors */\nvoid\nchkNMIDBuffer(Buffer *buf)\n{\n    static char *url_like_pat[] = {\n\t\"<[!-;=?-~]+@[a-zA-Z0-9\\\\.\\\\-_]+>\",\n\tNULL,\n    };\n    int i;\n    for (i = 0; url_like_pat[i]; i++) {\n\treAnchorNews(buf, url_like_pat[i]);\n    }\n    buf->check_url |= CHK_NMID;\n}\n\nDEFUN(chkNMID, MARK_MID, \"Turn Message-ID-like strings into hyperlinks\")\n{\n    chkNMIDBuffer(Currentbuf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n#endif\t\t\t\t/* USE_NNTP */\n\n/* render frames */\nDEFUN(rFrame, FRAME, \"Toggle rendering HTML frames\")\n{\n    Buffer *buf;\n\n    if ((buf = Currentbuf->linkBuffer[LB_FRAME]) != NULL) {\n\tCurrentbuf = buf;\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    if (Currentbuf->frameset == NULL) {\n\tif ((buf = Currentbuf->linkBuffer[LB_N_FRAME]) != NULL) {\n\t    Currentbuf = buf;\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t}\n\treturn;\n    }\n    if (fmInitialized) {\n\tmessage(\"Rendering frame\", 0, 0);\n\trefresh();\n    }\n    buf = renderFrame(Currentbuf, 0);\n    if (buf == NULL) {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    buf->linkBuffer[LB_N_FRAME] = Currentbuf;\n    Currentbuf->linkBuffer[LB_FRAME] = buf;\n    pushBuffer(buf);\n    if (fmInitialized && display_ok)\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* spawn external browser */\nstatic void\ninvoke_browser(char *url)\n{\n    Str cmd;\n    char *browser = NULL;\n    int bg = 0, len;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    browser = searchKeyData();\n    if (browser == NULL || *browser == '\\0') {\n\tswitch (prec_num) {\n\tcase 0:\n\tcase 1:\n\t    browser = ExtBrowser;\n\t    break;\n\tcase 2:\n\t    browser = ExtBrowser2;\n\t    break;\n\tcase 3:\n\t    browser = ExtBrowser3;\n\t    break;\n\tcase 4:\n\t    browser = ExtBrowser4;\n\t    break;\n\tcase 5:\n\t    browser = ExtBrowser5;\n\t    break;\n\tcase 6:\n\t    browser = ExtBrowser6;\n\t    break;\n\tcase 7:\n\t    browser = ExtBrowser7;\n\t    break;\n\tcase 8:\n\t    browser = ExtBrowser8;\n\t    break;\n\tcase 9:\n\t    browser = ExtBrowser9;\n\t    break;\n\t}\n\tif (browser == NULL || *browser == '\\0') {\n\t    browser = inputStr(\"Browse command: \", NULL);\n\t    if (browser != NULL)\n\t\tbrowser = conv_to_system(browser);\n\t}\n    }\n    else {\n\tbrowser = conv_to_system(browser);\n    }\n    if (browser == NULL || *browser == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n\n    if ((len = strlen(browser)) >= 2 && browser[len - 1] == '&' &&\n\tbrowser[len - 2] != '\\\\') {\n\tbrowser = allocStr(browser, len - 2);\n\tbg = 1;\n    }\n    cmd = myExtCommand(browser, shell_quote(url), FALSE);\n    Strremovetrailingspaces(cmd);\n    fmTerm();\n    mySystem(cmd->ptr, bg);\n    fmInit();\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(extbrz, EXTERN, \"Display using an external browser\")\n{\n    if (Currentbuf->bufferprop & BP_INTERNAL) {\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"Can't browse...\", TRUE);\n\treturn;\n    }\n    if (Currentbuf->currentURL.scheme == SCM_LOCAL &&\n\t!strcmp(Currentbuf->currentURL.file, \"-\")) {\n\t/* file is std input */\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"Can't browse stdin\", TRUE);\n\treturn;\n    }\n    invoke_browser(parsedURL2Str(&Currentbuf->currentURL)->ptr);\n}\n\nDEFUN(linkbrz, EXTERN_LINK, \"Display target using an external browser\")\n{\n    Anchor *a;\n    ParsedURL pu;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    a = retrieveCurrentAnchor(Currentbuf);\n    if (a == NULL)\n\treturn;\n    parseURL2(a->url, &pu, baseURL(Currentbuf));\n    invoke_browser(parsedURL2Str(&pu)->ptr);\n}\n\n/* show current line number and number of lines in the entire document */\nDEFUN(curlno, LINE_INFO, \"Display current position in document\")\n{\n    Line *l = Currentbuf->currentLine;\n    Str tmp;\n    int cur = 0, all = 0, col = 0, len = 0;\n\n    if (l != NULL) {\n\tcur = l->real_linenumber;\n\tcol = l->bwidth + Currentbuf->currentColumn + Currentbuf->cursorX + 1;\n\twhile (l->next && l->next->bpos)\n\t    l = l->next;\n\tif (l->width < 0)\n\t    l->width = COLPOS(l, l->len);\n\tlen = l->bwidth + l->width;\n    }\n    if (Currentbuf->lastLine)\n\tall = Currentbuf->lastLine->real_linenumber;\n    if (Currentbuf->pagerSource && !(Currentbuf->bufferprop & BP_CLOSE))\n\ttmp = Sprintf(\"line %d col %d/%d\", cur, col, len);\n    else\n\ttmp = Sprintf(\"line %d/%d (%d%%) col %d/%d\", cur, all,\n\t\t      (int)((double)cur * 100.0 / (double)(all ? all : 1)\n\t\t\t    + 0.5), col, len);\n#ifdef USE_M17N\n    Strcat_charp(tmp, \"  \");\n    Strcat_charp(tmp, wc_ces_to_charset_desc(Currentbuf->document_charset));\n#endif\n\n    disp_message(tmp->ptr, FALSE);\n}\n\n#ifdef USE_IMAGE\nDEFUN(dispI, DISPLAY_IMAGE, \"Restart loading and drawing of images\")\n{\n    if (!displayImage)\n\tinitImage();\n    if (!activeImage)\n\treturn;\n    displayImage = TRUE;\n    /*\n     * if (!(Currentbuf->type && is_html_type(Currentbuf->type)))\n     * return;\n     */\n    Currentbuf->image_flag = IMG_FLAG_AUTO;\n    Currentbuf->need_reshape = TRUE;\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n\nDEFUN(stopI, STOP_IMAGE, \"Stop loading and drawing of images\")\n{\n    if (!activeImage)\n\treturn;\n    /*\n     * if (!(Currentbuf->type && is_html_type(Currentbuf->type)))\n     * return;\n     */\n    Currentbuf->image_flag = IMG_FLAG_SKIP;\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n#endif\n\n#ifdef USE_MOUSE\n\nstatic int\nmouse_scroll_line(void)\n{\n    if (relative_wheel_scroll)\n\treturn (relative_wheel_scroll_ratio * LASTLINE + 99) / 100;\n    else\n\treturn fixed_wheel_scroll_count;\n}\n\nstatic TabBuffer *\nposTab(int x, int y)\n{\n    TabBuffer *tab;\n\n    if (mouse_action.menu_str && x < mouse_action.menu_width && y == 0)\n\treturn NO_TABBUFFER;\n    if (y > LastTab->y)\n\treturn NULL;\n    for (tab = FirstTab; tab; tab = tab->nextTab) {\n\tif (tab->x1 <= x && x <= tab->x2 && tab->y == y)\n\t    return tab;\n    }\n    return NULL;\n}\n\nstatic void\ndo_mouse_action(int btn, int x, int y)\n{\n    MouseActionMap *map = NULL;\n    int ny = -1;\n\n    if (nTab > 1 || mouse_action.menu_str)\n\tny = LastTab->y + 1;\n\n    switch (btn) {\n    case MOUSE_BTN1_DOWN:\n\tbtn = 0;\n\tbreak;\n    case MOUSE_BTN2_DOWN:\n\tbtn = 1;\n\tbreak;\n    case MOUSE_BTN3_DOWN:\n\tbtn = 2;\n\tbreak;\n    default:\n\treturn;\n    }\n    if (y < ny) {\n\tif (mouse_action.menu_str && x >= 0 && x < mouse_action.menu_width) {\n\t    if (mouse_action.menu_map[btn])\n\t\tmap = &mouse_action.menu_map[btn][x];\n\t}\n\telse\n\t    map = &mouse_action.tab_map[btn];\n    }\n    else if (y == LASTLINE) {\n\tif (mouse_action.lastline_str && x >= 0 &&\n\t    x < mouse_action.lastline_width) {\n\t    if (mouse_action.lastline_map[btn])\n\t\tmap = &mouse_action.lastline_map[btn][x];\n\t}\n    }\n    else if (y > ny) {\n\tif (y == Currentbuf->cursorY + Currentbuf->rootY &&\n\t    (x == Currentbuf->cursorX + Currentbuf->rootX\n#ifdef USE_M17N\n\t     || (WcOption.use_wide && Currentbuf->currentLine != NULL &&\n\t\t (CharType(Currentbuf->currentLine->propBuf[Currentbuf->pos])\n\t\t  == PC_KANJI1)\n\t\t && x == Currentbuf->cursorX + Currentbuf->rootX + 1)\n#endif\n\t    )) {\n\t    if (retrieveCurrentAnchor(Currentbuf) ||\n\t\tretrieveCurrentForm(Currentbuf)) {\n\t\tmap = &mouse_action.active_map[btn];\n\t\tif (!(map && map->func))\n\t\t    map = &mouse_action.anchor_map[btn];\n\t    }\n\t}\n\telse {\n\t    int cx = Currentbuf->cursorX, cy = Currentbuf->cursorY;\n\t    cursorXY(Currentbuf, x - Currentbuf->rootX, y - Currentbuf->rootY);\n\t    if (y == Currentbuf->cursorY + Currentbuf->rootY &&\n\t\t(x == Currentbuf->cursorX + Currentbuf->rootX\n#ifdef USE_M17N\n\t\t || (WcOption.use_wide && Currentbuf->currentLine != NULL &&\n\t\t     (CharType(Currentbuf->currentLine->\n\t\t\t       propBuf[Currentbuf->pos]) == PC_KANJI1)\n\t\t     && x == Currentbuf->cursorX + Currentbuf->rootX + 1)\n#endif\n\t\t) &&\n\t\t(retrieveCurrentAnchor(Currentbuf) ||\n\t\t retrieveCurrentForm(Currentbuf)))\n\t\tmap = &mouse_action.anchor_map[btn];\n\t    cursorXY(Currentbuf, cx, cy);\n\t}\n    }\n    else {\n\treturn;\n    }\n    if (!(map && map->func))\n\tmap = &mouse_action.default_map[btn];\n    if (map && map->func) {\n\tmouse_action.in_action = TRUE;\n\tmouse_action.cursorX = x;\n\tmouse_action.cursorY = y;\n\tCurrentKey = -1;\n\tCurrentKeyData = NULL;\n\tCurrentCmdData = map->data;\n\t(*map->func) ();\n\tCurrentCmdData = NULL;\n    }\n}\n\nstatic void\nprocess_mouse(int btn, int x, int y)\n{\n    int delta_x, delta_y, i;\n    static int press_btn = MOUSE_BTN_RESET, press_x, press_y;\n    TabBuffer *t;\n    int ny = -1;\n\n    if (nTab > 1 || mouse_action.menu_str)\n\tny = LastTab->y + 1;\n    if (btn == MOUSE_BTN_UP) {\n\tswitch (press_btn) {\n\tcase MOUSE_BTN1_DOWN:\n\t    if (press_y == y && press_x == x)\n\t\tdo_mouse_action(press_btn, x, y);\n\t    else if (ny > 0 && y < ny) {\n\t\tif (press_y < ny) {\n\t\t    moveTab(posTab(press_x, press_y), posTab(x, y),\n\t\t\t    (press_y == y) ? (press_x < x) : (press_y < y));\n\t\t    return;\n\t\t}\n\t\telse if (press_x >= Currentbuf->rootX) {\n\t\t    Buffer *buf = Currentbuf;\n\t\t    int cx = Currentbuf->cursorX, cy = Currentbuf->cursorY;\n\n\t\t    t = posTab(x, y);\n\t\t    if (t == NULL)\n\t\t\treturn;\n\t\t    if (t == NO_TABBUFFER)\n\t\t\tt = NULL;\t/* open new tab */\n\t\t    cursorXY(Currentbuf, press_x - Currentbuf->rootX,\n\t\t\t     press_y - Currentbuf->rootY);\n\t\t    if (Currentbuf->cursorY == press_y - Currentbuf->rootY &&\n\t\t\t(Currentbuf->cursorX == press_x - Currentbuf->rootX\n#ifdef USE_M17N\n\t\t\t || (WcOption.use_wide &&\n\t\t\t     Currentbuf->currentLine != NULL &&\n\t\t\t     (CharType(Currentbuf->currentLine->\n\t\t\t\t       propBuf[Currentbuf->pos]) == PC_KANJI1)\n\t\t\t     && Currentbuf->cursorX == press_x\n\t\t\t     - Currentbuf->rootX - 1)\n#endif\n\t\t\t)) {\n\t\t\tdisplayBuffer(Currentbuf, B_NORMAL);\n\t\t\tfollowTab(t);\n\t\t    }\n\t\t    if (buf == Currentbuf)\n\t\t\tcursorXY(Currentbuf, cx, cy);\n\t\t}\n\t\treturn;\n\t    }\n\t    else {\n\t\tdelta_x = x - press_x;\n\t\tdelta_y = y - press_y;\n\n\t\tif (abs(delta_x) < abs(delta_y) / 3)\n\t\t    delta_x = 0;\n\t\tif (abs(delta_y) < abs(delta_x) / 3)\n\t\t    delta_y = 0;\n\t\tif (reverse_mouse) {\n\t\t    delta_y = -delta_y;\n\t\t    delta_x = -delta_x;\n\t\t}\n\t\tif (delta_y > 0) {\n\t\t    prec_num = delta_y;\n\t\t    ldown1();\n\t\t}\n\t\telse if (delta_y < 0) {\n\t\t    prec_num = -delta_y;\n\t\t    lup1();\n\t\t}\n\t\tif (delta_x > 0) {\n\t\t    prec_num = delta_x;\n\t\t    col1L();\n\t\t}\n\t\telse if (delta_x < 0) {\n\t\t    prec_num = -delta_x;\n\t\t    col1R();\n\t\t}\n\t    }\n\t    break;\n\tcase MOUSE_BTN2_DOWN:\n\tcase MOUSE_BTN3_DOWN:\n\t    if (press_y == y && press_x == x)\n\t\tdo_mouse_action(press_btn, x, y);\n\t    break;\n\tcase MOUSE_BTN4_DOWN_RXVT:\n\t    for (i = 0; i < mouse_scroll_line(); i++)\n\t\tldown1();\n\t    break;\n\tcase MOUSE_BTN5_DOWN_RXVT:\n\t    for (i = 0; i < mouse_scroll_line(); i++)\n\t\tlup1();\n\t    break;\n\t}\n    }\n    else if (btn == MOUSE_BTN4_DOWN_XTERM) {\n\tfor (i = 0; i < mouse_scroll_line(); i++)\n\t    ldown1();\n    }\n    else if (btn == MOUSE_BTN5_DOWN_XTERM) {\n\tfor (i = 0; i < mouse_scroll_line(); i++)\n\t    lup1();\n    }\n\n    if (btn != MOUSE_BTN4_DOWN_RXVT || press_btn == MOUSE_BTN_RESET) {\n\tpress_btn = btn;\n\tpress_x = x;\n\tpress_y = y;\n    }\n    else {\n\tpress_btn = MOUSE_BTN_RESET;\n    }\n}\n\nDEFUN(msToggle, MOUSE_TOGGLE, \"Toggle mouse support\")\n{\n    if (use_mouse) {\n\tuse_mouse = FALSE;\n    }\n    else {\n\tuse_mouse = TRUE;\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(mouse, MOUSE, \"mouse operation\")\n{\n    int btn, x, y;\n\n    btn = (unsigned char)getch() - 32;\n#if defined(__CYGWIN__) && CYGWIN_VERSION_DLL_MAJOR < 1005\n    if (cygwin_mouse_btn_swapped) {\n\tif (btn == MOUSE_BTN2_DOWN)\n\t    btn = MOUSE_BTN3_DOWN;\n\telse if (btn == MOUSE_BTN3_DOWN)\n\t    btn = MOUSE_BTN2_DOWN;\n    }\n#endif\n    x = (unsigned char)getch() - 33;\n    if (x < 0)\n\tx += 0x100;\n    y = (unsigned char)getch() - 33;\n    if (y < 0)\n\ty += 0x100;\n\n    if (x < 0 || x >= COLS || y < 0 || y > LASTLINE)\n\treturn;\n    process_mouse(btn, x, y);\n}\n\nDEFUN(sgrmouse, SGRMOUSE, \"SGR 1006 mouse operation\")\n{\n    int btn = 0, x = 0, y = 0;\n    unsigned char c;\n\n    do {\n\tc = getch();\n\tif (IS_DIGIT(c))\n\t    btn = btn * 10 + c - '0';\n\telse if (c == ';')\n\t    break;\n\telse\n\t    return;\n    } while (1);\n\n#if defined(__CYGWIN__) && CYGWIN_VERSION_DLL_MAJOR < 1005\n    if (cygwin_mouse_btn_swapped) {\n\tif (btn == MOUSE_BTN2_DOWN)\n\t    btn = MOUSE_BTN3_DOWN;\n\telse if (btn == MOUSE_BTN3_DOWN)\n\t    btn = MOUSE_BTN2_DOWN;\n    };\n#endif\n\n    do {\n\tc = getch();\n\tif (IS_DIGIT(c))\n\t    x = x * 10 + c - '0';\n\telse if (c == ';')\n\t    break;\n\telse\n\t  return;\n    } while (1);\n    if (x>0) x--;\n\n    do {\n\tc = getch();\n\tif (IS_DIGIT(c))\n\t    y = y * 10 + c - '0';\n\telse if (c == 'M')\n\t    break;\n\telse if (c == 'm') {\n\t    btn |= 3;\n\t    break;\n\t} else\n    return;\n    } while (1);\n    if (y>0) y--;\n\n    if (x < 0 || x >= COLS || y < 0 || y > LASTLINE)\n\treturn;\n    process_mouse(btn, x, y);\n}\n\n#ifdef USE_GPM\nint\ngpm_process_mouse(Gpm_Event * event, void *data)\n{\n    int btn = MOUSE_BTN_RESET, x, y;\n    if (event->type & GPM_UP)\n\tbtn = MOUSE_BTN_UP;\n    else if (event->type & GPM_DOWN) {\n\tswitch (event->buttons) {\n\tcase GPM_B_LEFT:\n\t    btn = MOUSE_BTN1_DOWN;\n\t    break;\n\tcase GPM_B_MIDDLE:\n\t    btn = MOUSE_BTN2_DOWN;\n\t    break;\n\tcase GPM_B_RIGHT:\n\t    btn = MOUSE_BTN3_DOWN;\n\t    break;\n\t}\n    }\n    else {\n\tGPM_DRAWPOINTER(event);\n\treturn 0;\n    }\n    x = event->x;\n    y = event->y;\n    process_mouse(btn, x - 1, y - 1);\n    return 0;\n}\n#endif\t\t\t\t/* USE_GPM */\n\n#ifdef USE_SYSMOUSE\nint\nsysm_process_mouse(int x, int y, int nbs, int obs)\n{\n    int btn;\n    int bits;\n\n    if (obs & ~nbs)\n\tbtn = MOUSE_BTN_UP;\n    else if (nbs & ~obs) {\n\tbits = nbs & ~obs;\n\tbtn = bits & 0x1 ? MOUSE_BTN1_DOWN :\n\t    (bits & 0x2 ? MOUSE_BTN2_DOWN :\n\t     (bits & 0x4 ? MOUSE_BTN3_DOWN : 0));\n    }\n    else\t\t\t/* nbs == obs */\n\treturn 0;\n    process_mouse(btn, x, y);\n    return 0;\n}\n#endif\t\t\t\t/* USE_SYSMOUSE */\n\nDEFUN(movMs, MOVE_MOUSE, \"Move cursor to mouse pointer\")\n{\n    if (!mouse_action.in_action)\n\treturn;\n    if ((nTab > 1 || mouse_action.menu_str) &&\n\tmouse_action.cursorY < LastTab->y + 1)\n\treturn;\n    else if (mouse_action.cursorX >= Currentbuf->rootX &&\n\t     mouse_action.cursorY < LASTLINE) {\n\tcursorXY(Currentbuf, mouse_action.cursorX - Currentbuf->rootX,\n\t\t mouse_action.cursorY - Currentbuf->rootY);\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n#ifdef USE_MENU\n#ifdef KANJI_SYMBOLS\n#define FRAME_WIDTH 2\n#else\n#define FRAME_WIDTH 1\n#endif\n\nDEFUN(menuMs, MENU_MOUSE, \"Pop up menu at mouse pointer\")\n{\n    if (!mouse_action.in_action)\n\treturn;\n    if ((nTab > 1 || mouse_action.menu_str) &&\n\tmouse_action.cursorY < LastTab->y + 1)\n\tmouse_action.cursorX -= FRAME_WIDTH + 1;\n    else if (mouse_action.cursorX >= Currentbuf->rootX &&\n\t     mouse_action.cursorY < LASTLINE) {\n\tcursorXY(Currentbuf, mouse_action.cursorX - Currentbuf->rootX,\n\t\t mouse_action.cursorY - Currentbuf->rootY);\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n    }\n    mainMn();\n}\n#endif\n\nDEFUN(tabMs, TAB_MOUSE, \"Select tab by mouse action\")\n{\n    TabBuffer *tab;\n\n    if (!mouse_action.in_action)\n\treturn;\n    tab = posTab(mouse_action.cursorX, mouse_action.cursorY);\n    if (!tab || tab == NO_TABBUFFER)\n\treturn;\n    CurrentTab = tab;\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(closeTMs, CLOSE_TAB_MOUSE, \"Close tab at mouse pointer\")\n{\n    TabBuffer *tab;\n\n    if (!mouse_action.in_action)\n\treturn;\n    tab = posTab(mouse_action.cursorX, mouse_action.cursorY);\n    if (!tab || tab == NO_TABBUFFER)\n\treturn;\n    deleteTab(tab);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n#endif\t\t\t\t/* USE_MOUSE */\n\nDEFUN(dispVer, VERSION, \"Display the version of w3m\")\n{\n    disp_message(Sprintf(\"w3m version %s\", w3m_version)->ptr, TRUE);\n}\n\nDEFUN(wrapToggle, WRAP_TOGGLE, \"Toggle wrapping mode in searches\")\n{\n    if (WrapSearch) {\n\tWrapSearch = FALSE;\n\t/* FIXME: gettextize? */\n\tdisp_message(\"Wrap search off\", TRUE);\n    }\n    else {\n\tWrapSearch = TRUE;\n\t/* FIXME: gettextize? */\n\tdisp_message(\"Wrap search on\", TRUE);\n    }\n}\n\nstatic char *\ngetCurWord(Buffer *buf, int *spos, int *epos)\n{\n    char *p;\n    Line *l = buf->currentLine;\n    int b, e;\n\n    *spos = 0;\n    *epos = 0;\n    if (l == NULL)\n\treturn NULL;\n    p = l->lineBuf;\n    e = buf->pos;\n    while (e > 0 && !is_wordchar(getChar(&p[e])))\n\tprevChar(e, l);\n    if (!is_wordchar(getChar(&p[e])))\n\treturn NULL;\n    b = e;\n    while (b > 0) {\n\tint tmp = b;\n\tprevChar(tmp, l);\n\tif (!is_wordchar(getChar(&p[tmp])))\n\t    break;\n\tb = tmp;\n    }\n    while (e < l->len && is_wordchar(getChar(&p[e])))\n\tnextChar(e, l);\n    *spos = b;\n    *epos = e;\n    return &p[b];\n}\n\nstatic char *\nGetWord(Buffer *buf)\n{\n    int b, e;\n    char *p;\n\n    if ((p = getCurWord(buf, &b, &e)) != NULL) {\n\treturn Strnew_charp_n(p, e - b)->ptr;\n    }\n    return NULL;\n}\n\n#ifdef USE_DICT\nstatic void\nexecdict(char *word)\n{\n    char *w, *dictcmd;\n    Buffer *buf;\n\n    if (!UseDictCommand || word == NULL || *word == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    w = conv_to_system(word);\n    if (*w == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    dictcmd = Sprintf(\"%s?%s\", DictCommand,\n\t\t      Str_form_quote(Strnew_charp(w))->ptr)->ptr;\n    buf = loadGeneralFile(dictcmd, NULL, NO_REFERER, 0, NULL);\n    if (buf == NULL) {\n\tdisp_message(\"Execution failed\", TRUE);\n\treturn;\n    }\n    else if (buf != NO_BUFFER) {\n\tbuf->filename = w;\n\tbuf->buffername = Sprintf(\"%s %s\", DICTBUFFERNAME, word)->ptr;\n\tif (buf->type == NULL)\n\t    buf->type = \"text/plain\";\n\tpushBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(dictword, DICT_WORD, \"Execute dictionary command (see README.dict)\")\n{\n    execdict(inputStr(\"(dictionary)!\", \"\"));\n}\n\nDEFUN(dictwordat, DICT_WORD_AT,\n      \"Execute dictionary command for word at cursor\")\n{\n    execdict(GetWord(Currentbuf));\n}\n#endif\t\t\t\t/* USE_DICT */\n\nvoid\nset_buffer_environ(Buffer *buf)\n{\n    static Buffer *prev_buf = NULL;\n    static Line *prev_line = NULL;\n    static int prev_pos = -1;\n    Line *l;\n\n    if (buf == NULL)\n\treturn;\n    if (buf != prev_buf) {\n\tset_environ(\"W3M_SOURCEFILE\", buf->sourcefile);\n\tset_environ(\"W3M_FILENAME\", buf->filename);\n\tset_environ(\"W3M_TITLE\", buf->buffername);\n\tset_environ(\"W3M_URL\", parsedURL2Str(&buf->currentURL)->ptr);\n\tset_environ(\"W3M_TYPE\", buf->real_type ? buf->real_type : \"unknown\");\n#ifdef USE_M17N\n\tset_environ(\"W3M_CHARSET\", wc_ces_to_charset(buf->document_charset));\n#endif\n    }\n    l = buf->currentLine;\n    if (l && (buf != prev_buf || l != prev_line || buf->pos != prev_pos)) {\n\tAnchor *a;\n\tParsedURL pu;\n\tchar *s = GetWord(buf);\n\tset_environ(\"W3M_CURRENT_WORD\", s ? s : \"\");\n\ta = retrieveCurrentAnchor(buf);\n\tif (a) {\n\t    parseURL2(a->url, &pu, baseURL(buf));\n\t    set_environ(\"W3M_CURRENT_LINK\", parsedURL2Str(&pu)->ptr);\n\t}\n\telse\n\t    set_environ(\"W3M_CURRENT_LINK\", \"\");\n\ta = retrieveCurrentImg(buf);\n\tif (a) {\n\t    parseURL2(a->url, &pu, baseURL(buf));\n\t    set_environ(\"W3M_CURRENT_IMG\", parsedURL2Str(&pu)->ptr);\n\t}\n\telse\n\t    set_environ(\"W3M_CURRENT_IMG\", \"\");\n\ta = retrieveCurrentForm(buf);\n\tif (a)\n\t    set_environ(\"W3M_CURRENT_FORM\", form2str((FormItemList *)a->url));\n\telse\n\t    set_environ(\"W3M_CURRENT_FORM\", \"\");\n\tset_environ(\"W3M_CURRENT_LINE\", Sprintf(\"%ld\",\n\t\t\t\t\t\tl->real_linenumber)->ptr);\n\tset_environ(\"W3M_CURRENT_COLUMN\", Sprintf(\"%d\",\n\t\t\t\t\t\t  buf->currentColumn +\n\t\t\t\t\t\t  buf->cursorX + 1)->ptr);\n    }\n    else if (!l) {\n\tset_environ(\"W3M_CURRENT_WORD\", \"\");\n\tset_environ(\"W3M_CURRENT_LINK\", \"\");\n\tset_environ(\"W3M_CURRENT_IMG\", \"\");\n\tset_environ(\"W3M_CURRENT_FORM\", \"\");\n\tset_environ(\"W3M_CURRENT_LINE\", \"0\");\n\tset_environ(\"W3M_CURRENT_COLUMN\", \"0\");\n    }\n    prev_buf = buf;\n    prev_line = l;\n    prev_pos = buf->pos;\n}\n\nchar *\nsearchKeyData(void)\n{\n    char *data = NULL;\n\n    if (CurrentKeyData != NULL && *CurrentKeyData != '\\0')\n\tdata = CurrentKeyData;\n    else if (CurrentCmdData != NULL && *CurrentCmdData != '\\0')\n\tdata = CurrentCmdData;\n    else if (CurrentKey >= 0)\n\tdata = getKeyData(CurrentKey);\n    CurrentKeyData = NULL;\n    CurrentCmdData = NULL;\n    if (data == NULL || *data == '\\0')\n\treturn NULL;\n    return allocStr(data, -1);\n}\n\nstatic int\nsearchKeyNum(void)\n{\n    char *d;\n    int n = 1;\n\n    d = searchKeyData();\n    if (d != NULL)\n\tn = atoi(d);\n    return n * PREC_NUM;\n}\n\n#ifdef __EMX__\n#ifdef USE_M17N\nstatic char *\ngetCodePage(void)\n{\n    unsigned long CpList[8], CpSize;\n\n    if (!getenv(\"WINDOWID\") && !DosQueryCp(sizeof(CpList), CpList, &CpSize))\n\treturn Sprintf(\"CP%d\", *CpList)->ptr;\n    return NULL;\n}\n#endif\n#endif\n\nvoid\ndeleteFiles()\n{\n    Buffer *buf;\n    char *f;\n\n    for (CurrentTab = FirstTab; CurrentTab; CurrentTab = CurrentTab->nextTab) {\n\twhile (Firstbuf && Firstbuf != NO_BUFFER) {\n\t    buf = Firstbuf->nextBuffer;\n\t    discardBuffer(Firstbuf);\n\t    Firstbuf = buf;\n\t}\n    }\n    while ((f = popText(fileToDelete)) != NULL) {\n\tunlink(f);\n\tif (enable_inline_image == 2 && strcmp(f+strlen(f)-4, \".gif\") == 0) {\n\t    Str firstframe = Strnew_charp(f);\n\t    Strcat_charp(firstframe, \"-1\");\n\t    unlink(firstframe->ptr);\n        }\n    }\n}\n\nvoid\nw3m_exit(int i)\n{\n#ifdef USE_MIGEMO\n    init_migemo();\t\t/* close pipe to migemo */\n#endif\n    stopDownload();\n    deleteFiles();\n#ifdef USE_SSL\n    free_ssl_ctx();\n#endif\n    disconnectFTP();\n#ifdef USE_NNTP\n    disconnectNews();\n#endif\n#ifdef __MINGW32_VERSION\n    WSACleanup();\n#endif\n    exit(i);\n}\n\nDEFUN(execCmd, COMMAND, \"Invoke w3m function(s)\")\n{\n    char *data, *p;\n    int cmd;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    data = searchKeyData();\n    if (data == NULL || *data == '\\0') {\n\tdata = inputStrHist(\"command [; ...]: \", \"\", TextHist);\n\tif (data == NULL) {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    /* data: FUNC [DATA] [; FUNC [DATA] ...] */\n    while (*data) {\n\tSKIP_BLANKS(data);\n\tif (*data == ';') {\n\t    data++;\n\t    continue;\n\t}\n\tp = getWord(&data);\n\tcmd = getFuncList(p);\n\tif (cmd < 0)\n\t    break;\n\tp = getQWord(&data);\n\tCurrentKey = -1;\n\tCurrentKeyData = NULL;\n\tCurrentCmdData = *p ? p : NULL;\n#ifdef USE_MOUSE\n\tif (use_mouse)\n\t    mouse_inactive();\n#endif\n\tw3mFuncList[cmd].func();\n#ifdef USE_MOUSE\n\tif (use_mouse)\n\t    mouse_active();\n#endif\n\tCurrentCmdData = NULL;\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n#ifdef USE_ALARM\nstatic MySignalHandler\nSigAlarm(SIGNAL_ARG)\n{\n    char *data;\n\n    if (CurrentAlarm->sec > 0) {\n\tCurrentKey = -1;\n\tCurrentKeyData = NULL;\n\tCurrentCmdData = data = (char *)CurrentAlarm->data;\n#ifdef USE_MOUSE\n\tif (use_mouse)\n\t    mouse_inactive();\n#endif\n\tw3mFuncList[CurrentAlarm->cmd].func();\n#ifdef USE_MOUSE\n\tif (use_mouse)\n\t    mouse_active();\n#endif\n\tCurrentCmdData = NULL;\n\tif (CurrentAlarm->status == AL_IMPLICIT_ONCE) {\n\t    CurrentAlarm->sec = 0;\n\t    CurrentAlarm->status = AL_UNSET;\n\t}\n\tif (Currentbuf->event) {\n\t    if (Currentbuf->event->status != AL_UNSET)\n\t\tCurrentAlarm = Currentbuf->event;\n\t    else\n\t\tCurrentbuf->event = NULL;\n\t}\n\tif (!Currentbuf->event)\n\t    CurrentAlarm = &DefaultAlarm;\n\tif (CurrentAlarm->sec > 0) {\n\t    mySignal(SIGALRM, SigAlarm);\n\t    alarm(CurrentAlarm->sec);\n\t}\n    }\n    SIGNAL_RETURN;\n}\n\n\nDEFUN(setAlarm, ALARM, \"Set alarm\")\n{\n    char *data;\n    int sec = 0, cmd = -1;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    data = searchKeyData();\n    if (data == NULL || *data == '\\0') {\n\tdata = inputStrHist(\"(Alarm)sec command: \", \"\", TextHist);\n\tif (data == NULL) {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    if (*data != '\\0') {\n\tsec = atoi(getWord(&data));\n\tif (sec > 0)\n\t    cmd = getFuncList(getWord(&data));\n    }\n    if (cmd >= 0) {\n\tdata = getQWord(&data);\n\tsetAlarmEvent(&DefaultAlarm, sec, AL_EXPLICIT, cmd, data);\n\tdisp_message_nsec(Sprintf(\"%dsec %s %s\", sec, w3mFuncList[cmd].id,\n\t\t\t\t  data)->ptr, FALSE, 1, FALSE, TRUE);\n    }\n    else {\n\tsetAlarmEvent(&DefaultAlarm, 0, AL_UNSET, FUNCNAME_nulcmd, NULL);\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nAlarmEvent *\nsetAlarmEvent(AlarmEvent * event, int sec, short status, int cmd, void *data)\n{\n    if (event == NULL)\n\tevent = New(AlarmEvent);\n    event->sec = sec;\n    event->status = status;\n    event->cmd = cmd;\n    event->data = data;\n    return event;\n}\n#endif\n\nDEFUN(reinit, REINIT, \"Reload configuration file\")\n{\n    char *resource = searchKeyData();\n\n    if (resource == NULL) {\n\tinit_rc();\n\tsync_with_option();\n#ifdef USE_COOKIE\n\tinitCookie();\n#endif\n\tdisplayBuffer(Currentbuf, B_REDRAW_IMAGE);\n\treturn;\n    }\n\n    if (!strcasecmp(resource, \"CONFIG\") || !strcasecmp(resource, \"RC\")) {\n\tinit_rc();\n\tsync_with_option();\n\tdisplayBuffer(Currentbuf, B_REDRAW_IMAGE);\n\treturn;\n    }\n\n#ifdef USE_COOKIE\n    if (!strcasecmp(resource, \"COOKIE\")) {\n\tinitCookie();\n\treturn;\n    }\n#endif\n\n    if (!strcasecmp(resource, \"KEYMAP\")) {\n\tinitKeymap(TRUE);\n\treturn;\n    }\n\n    if (!strcasecmp(resource, \"MAILCAP\")) {\n\tinitMailcap();\n\treturn;\n    }\n\n#ifdef USE_MOUSE\n    if (!strcasecmp(resource, \"MOUSE\")) {\n\tinitMouseAction();\n\tdisplayBuffer(Currentbuf, B_REDRAW_IMAGE);\n\treturn;\n    }\n#endif\n\n#ifdef USE_MENU\n    if (!strcasecmp(resource, \"MENU\")) {\n\tinitMenu();\n\treturn;\n    }\n#endif\n\n    if (!strcasecmp(resource, \"MIMETYPES\")) {\n\tinitMimeTypes();\n\treturn;\n    }\n\n#ifdef USE_EXTERNAL_URI_LOADER\n    if (!strcasecmp(resource, \"URIMETHODS\")) {\n\tinitURIMethods();\n\treturn;\n    }\n#endif\n\n    disp_err_message(Sprintf(\"Don't know how to reinitialize '%s'\", resource)->\n\t\t     ptr, FALSE);\n}\n\nDEFUN(defKey, DEFINE_KEY, \"Define a binding between a key stroke combination and a command\")\n{\n    char *data;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    data = searchKeyData();\n    if (data == NULL || *data == '\\0') {\n\tdata = inputStrHist(\"Key definition: \", \"\", TextHist);\n\tif (data == NULL || *data == '\\0') {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    setKeymap(allocStr(data, -1), -1, TRUE);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nTabBuffer *\nnewTab(void)\n{\n    TabBuffer *n;\n\n    n = New(TabBuffer);\n    if (n == NULL)\n\treturn NULL;\n    n->nextTab = NULL;\n    n->currentBuffer = NULL;\n    n->firstBuffer = NULL;\n    return n;\n}\n\nstatic void\n_newT(void)\n{\n    TabBuffer *tag;\n    Buffer *buf;\n    int i;\n\n    tag = newTab();\n    if (!tag)\n\treturn;\n\n    buf = newBuffer(Currentbuf->width);\n    copyBuffer(buf, Currentbuf);\n    buf->nextBuffer = NULL;\n    for (i = 0; i < MAX_LB; i++)\n\tbuf->linkBuffer[i] = NULL;\n    (*buf->clone)++;\n    tag->firstBuffer = tag->currentBuffer = buf;\n\n    tag->nextTab = CurrentTab->nextTab;\n    tag->prevTab = CurrentTab;\n    if (CurrentTab->nextTab)\n\tCurrentTab->nextTab->prevTab = tag;\n    else\n\tLastTab = tag;\n    CurrentTab->nextTab = tag;\n    CurrentTab = tag;\n    nTab++;\n}\n\nDEFUN(newT, NEW_TAB, \"Open a new tab (with current document)\")\n{\n    _newT();\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n\nstatic TabBuffer *\nnumTab(int n)\n{\n    TabBuffer *tab;\n    int i;\n\n    if (n == 0)\n\treturn CurrentTab;\n    if (n == 1)\n\treturn FirstTab;\n    if (nTab <= 1)\n\treturn NULL;\n    for (tab = FirstTab, i = 1; tab && i < n; tab = tab->nextTab, i++) ;\n    return tab;\n}\n\nvoid\ncalcTabPos(void)\n{\n    TabBuffer *tab;\n#if 0\n    int lcol = 0, rcol = 2, col;\n#else\n    int lcol = 0, rcol = 0, col;\n#endif\n    int n1, n2, na, nx, ny, ix, iy;\n\n#ifdef USE_MOUSE\n    lcol = mouse_action.menu_str ? mouse_action.menu_width : 0;\n#endif\n\n    if (nTab <= 0)\n\treturn;\n    n1 = (COLS - rcol - lcol) / TabCols;\n    if (n1 >= nTab) {\n\tn2 = 1;\n\tny = 1;\n    }\n    else {\n\tif (n1 < 0)\n\t    n1 = 0;\n\tn2 = COLS / TabCols;\n\tif (n2 == 0)\n\t    n2 = 1;\n\tny = (nTab - n1 - 1) / n2 + 2;\n    }\n    na = n1 + n2 * (ny - 1);\n    n1 -= (na - nTab) / ny;\n    if (n1 < 0)\n\tn1 = 0;\n    na = n1 + n2 * (ny - 1);\n    tab = FirstTab;\n    for (iy = 0; iy < ny && tab; iy++) {\n\tif (iy == 0) {\n\t    nx = n1;\n\t    col = COLS - rcol - lcol;\n\t}\n\telse {\n\t    nx = n2 - (na - nTab + (iy - 1)) / (ny - 1);\n\t    col = COLS;\n\t}\n\tfor (ix = 0; ix < nx && tab; ix++, tab = tab->nextTab) {\n\t    tab->x1 = col * ix / nx;\n\t    tab->x2 = col * (ix + 1) / nx - 1;\n\t    tab->y = iy;\n\t    if (iy == 0) {\n\t\ttab->x1 += lcol;\n\t\ttab->x2 += lcol;\n\t    }\n\t}\n    }\n}\n\nTabBuffer *\ndeleteTab(TabBuffer * tab)\n{\n    Buffer *buf, *next;\n\n    if (nTab <= 1)\n\treturn FirstTab;\n    if (tab->prevTab) {\n\tif (tab->nextTab)\n\t    tab->nextTab->prevTab = tab->prevTab;\n\telse\n\t    LastTab = tab->prevTab;\n\ttab->prevTab->nextTab = tab->nextTab;\n\tif (tab == CurrentTab)\n\t    CurrentTab = tab->prevTab;\n    }\n    else {\t\t\t/* tab == FirstTab */\n\ttab->nextTab->prevTab = NULL;\n\tFirstTab = tab->nextTab;\n\tif (tab == CurrentTab)\n\t    CurrentTab = tab->nextTab;\n    }\n    nTab--;\n    buf = tab->firstBuffer;\n    while (buf && buf != NO_BUFFER) {\n\tnext = buf->nextBuffer;\n\tdiscardBuffer(buf);\n\tbuf = next;\n    }\n    return FirstTab;\n}\n\nDEFUN(closeT, CLOSE_TAB, \"Close tab\")\n{\n    TabBuffer *tab;\n\n    if (nTab <= 1)\n\treturn;\n    if (prec_num)\n\ttab = numTab(PREC_NUM);\n    else\n\ttab = CurrentTab;\n    if (tab)\n\tdeleteTab(tab);\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n\nDEFUN(nextT, NEXT_TAB, \"Switch to the next tab\")\n{\n    int i;\n\n    if (nTab <= 1)\n\treturn;\n    for (i = 0; i < PREC_NUM; i++) {\n\tif (CurrentTab->nextTab)\n\t    CurrentTab = CurrentTab->nextTab;\n\telse\n\t    CurrentTab = FirstTab;\n    }\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n\nDEFUN(prevT, PREV_TAB, \"Switch to the previous tab\")\n{\n    int i;\n\n    if (nTab <= 1)\n\treturn;\n    for (i = 0; i < PREC_NUM; i++) {\n\tif (CurrentTab->prevTab)\n\t    CurrentTab = CurrentTab->prevTab;\n\telse\n\t    CurrentTab = LastTab;\n    }\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n\nstatic void\nfollowTab(TabBuffer * tab)\n{\n    Buffer *buf;\n    Anchor *a;\n\n#ifdef USE_IMAGE\n    a = retrieveCurrentImg(Currentbuf);\n    if (!(a && a->image && a->image->map))\n#endif\n\ta = retrieveCurrentAnchor(Currentbuf);\n    if (a == NULL)\n\treturn;\n\n    if (tab == CurrentTab) {\n\tcheck_target = FALSE;\n\tfollowA();\n\tcheck_target = TRUE;\n\treturn;\n    }\n    _newT();\n    buf = Currentbuf;\n    check_target = FALSE;\n    followA();\n    check_target = TRUE;\n    if (tab == NULL) {\n\tif (buf != Currentbuf)\n\t    delBuffer(buf);\n\telse\n\t    deleteTab(CurrentTab);\n    }\n    else if (buf != Currentbuf) {\n\t/* buf <- p <- ... <- Currentbuf = c */\n\tBuffer *c, *p;\n\n\tc = Currentbuf;\n\tp = prevBuffer(c, buf);\n\tp->nextBuffer = NULL;\n\tFirstbuf = buf;\n\tdeleteTab(CurrentTab);\n\tCurrentTab = tab;\n\tfor (buf = p; buf; buf = p) {\n\t    p = prevBuffer(c, buf);\n\t    pushBuffer(buf);\n\t}\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(tabA, TAB_LINK, \"Follow current hyperlink in a new tab\")\n{\n    followTab(prec_num ? numTab(PREC_NUM) : NULL);\n}\n\nstatic void\ntabURL0(TabBuffer * tab, char *prompt, int relative)\n{\n    Buffer *buf;\n\n    if (tab == CurrentTab) {\n\tgoURL0(prompt, relative);\n\treturn;\n    }\n    _newT();\n    buf = Currentbuf;\n    goURL0(prompt, relative);\n    if (tab == NULL) {\n\tif (buf != Currentbuf)\n\t    delBuffer(buf);\n\telse\n\t    deleteTab(CurrentTab);\n    }\n    else if (buf != Currentbuf) {\n\t/* buf <- p <- ... <- Currentbuf = c */\n\tBuffer *c, *p;\n\n\tc = Currentbuf;\n\tp = prevBuffer(c, buf);\n\tp->nextBuffer = NULL;\n\tFirstbuf = buf;\n\tdeleteTab(CurrentTab);\n\tCurrentTab = tab;\n\tfor (buf = p; buf; buf = p) {\n\t    p = prevBuffer(c, buf);\n\t    pushBuffer(buf);\n\t}\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(tabURL, TAB_GOTO, \"Open specified document in a new tab\")\n{\n    tabURL0(prec_num ? numTab(PREC_NUM) : NULL,\n\t    \"Goto URL on new tab: \", FALSE);\n}\n\nDEFUN(tabrURL, TAB_GOTO_RELATIVE, \"Open relative address in a new tab\")\n{\n    tabURL0(prec_num ? numTab(PREC_NUM) : NULL,\n\t    \"Goto relative URL on new tab: \", TRUE);\n}\n\nstatic void\nmoveTab(TabBuffer * t, TabBuffer * t2, int right)\n{\n    if (t2 == NO_TABBUFFER)\n\tt2 = FirstTab;\n    if (!t || !t2 || t == t2 || t == NO_TABBUFFER)\n\treturn;\n    if (t->prevTab) {\n\tif (t->nextTab)\n\t    t->nextTab->prevTab = t->prevTab;\n\telse\n\t    LastTab = t->prevTab;\n\tt->prevTab->nextTab = t->nextTab;\n    }\n    else {\n\tt->nextTab->prevTab = NULL;\n\tFirstTab = t->nextTab;\n    }\n    if (right) {\n\tt->nextTab = t2->nextTab;\n\tt->prevTab = t2;\n\tif (t2->nextTab)\n\t    t2->nextTab->prevTab = t;\n\telse\n\t    LastTab = t;\n\tt2->nextTab = t;\n    }\n    else {\n\tt->prevTab = t2->prevTab;\n\tt->nextTab = t2;\n\tif (t2->prevTab)\n\t    t2->prevTab->nextTab = t;\n\telse\n\t    FirstTab = t;\n\tt2->prevTab = t;\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(tabR, TAB_RIGHT, \"Move right along the tab bar\")\n{\n    TabBuffer *tab;\n    int i;\n\n    for (tab = CurrentTab, i = 0; tab && i < PREC_NUM;\n\t tab = tab->nextTab, i++) ;\n    moveTab(CurrentTab, tab ? tab : LastTab, TRUE);\n}\n\nDEFUN(tabL, TAB_LEFT, \"Move left along the tab bar\")\n{\n    TabBuffer *tab;\n    int i;\n\n    for (tab = CurrentTab, i = 0; tab && i < PREC_NUM;\n\t tab = tab->prevTab, i++) ;\n    moveTab(CurrentTab, tab ? tab : FirstTab, FALSE);\n}\n\nvoid\naddDownloadList(pid_t pid, char *url, char *save, char *lock, clen_t size)\n{\n    DownloadList *d;\n\n    d = New(DownloadList);\n    d->pid = pid;\n    d->url = url;\n    if (save[0] != '/' && save[0] != '~')\n\tsave = Strnew_m_charp(CurrentDir, \"/\", save, NULL)->ptr;\n    d->save = expandPath(save);\n    d->lock = lock;\n    d->size = size;\n    d->time = time(0);\n    d->running = TRUE;\n    d->err = 0;\n    d->next = NULL;\n    d->prev = LastDL;\n    if (LastDL)\n\tLastDL->next = d;\n    else\n\tFirstDL = d;\n    LastDL = d;\n    add_download_list = TRUE;\n}\n\nint\ncheckDownloadList(void)\n{\n    DownloadList *d;\n    struct stat st;\n\n    if (!FirstDL)\n\treturn FALSE;\n    for (d = FirstDL; d != NULL; d = d->next) {\n\tif (d->running && !lstat(d->lock, &st))\n\t    return TRUE;\n    }\n    return FALSE;\n}\n\nstatic char *\nconvert_size3(clen_t size)\n{\n    Str tmp = Strnew();\n    int n;\n\n    do {\n\tn = size % 1000;\n\tsize /= 1000;\n\ttmp = Sprintf(size ? \",%.3d%s\" : \"%d%s\", n, tmp->ptr);\n    } while (size);\n    return tmp->ptr;\n}\n\nstatic Buffer *\nDownloadListBuffer(void)\n{\n    DownloadList *d;\n    Str src = NULL;\n    struct stat st;\n    time_t cur_time;\n    int duration, rate, eta;\n    size_t size;\n\n    if (!FirstDL)\n\treturn NULL;\n    cur_time = time(0);\n    /* FIXME: gettextize? */\n    src = Strnew_charp(\"<html><head><title>\" DOWNLOAD_LIST_TITLE\n\t\t       \"</title></head>\\n<body><h1 align=center>\"\n\t\t       DOWNLOAD_LIST_TITLE \"</h1>\\n\"\n\t\t       \"<form method=internal action=download><hr>\\n\");\n    for (d = LastDL; d != NULL; d = d->prev) {\n\tif (lstat(d->lock, &st))\n\t    d->running = FALSE;\n\tStrcat_charp(src, \"<pre>\\n\");\n\tStrcat(src, Sprintf(\"%s\\n  --&gt; %s\\n  \", html_quote(d->url),\n\t\t\t    html_quote(conv_from_system(d->save))));\n\tduration = cur_time - d->time;\n\tif (!stat(d->save, &st)) {\n\t    size = st.st_size;\n\t    if (!d->running) {\n\t\tif (!d->err)\n\t\t    d->size = size;\n\t\tduration = st.st_mtime - d->time;\n\t    }\n\t}\n\telse\n\t    size = 0;\n\tif (d->size) {\n\t    int i, l = COLS - 6;\n\t    if (size < d->size)\n\t\ti = 1.0 * l * size / d->size;\n\t    else\n\t\ti = l;\n\t    l -= i;\n\t    while (i-- > 0)\n\t\tStrcat_char(src, '#');\n\t    while (l-- > 0)\n\t\tStrcat_char(src, '_');\n\t    Strcat_char(src, '\\n');\n\t}\n\tif ((d->running || d->err) && size < d->size)\n\t    Strcat(src, Sprintf(\"  %s / %s bytes (%d%%)\",\n\t\t\t\tconvert_size3(size), convert_size3(d->size),\n\t\t\t\t(int)(100.0 * size / d->size)));\n\telse\n\t    Strcat(src, Sprintf(\"  %s bytes loaded\", convert_size3(size)));\n\tif (duration > 0) {\n\t    rate = size / duration;\n\t    Strcat(src, Sprintf(\"  %02d:%02d:%02d  rate %s/sec\",\n\t\t\t\tduration / (60 * 60), (duration / 60) % 60,\n\t\t\t\tduration % 60, convert_size(rate, 1)));\n\t    if (d->running && size < d->size && rate) {\n\t\teta = (d->size - size) / rate;\n\t\tStrcat(src, Sprintf(\"  eta %02d:%02d:%02d\", eta / (60 * 60),\n\t\t\t\t    (eta / 60) % 60, eta % 60));\n\t    }\n\t}\n\tStrcat_char(src, '\\n');\n\tif (!d->running) {\n\t    Strcat(src, Sprintf(\"<input type=submit name=ok%d value=OK>\",\n\t\t\t\td->pid));\n\t    switch (d->err) {\n\t    case 0: if (size < d->size)\n\t\t\tStrcat_charp(src, \" Download ended but probably not complete\");\n\t\t    else\n\t\t\tStrcat_charp(src, \" Download complete\");\n\t\t    break;\n\t    case 1: Strcat_charp(src, \" Error: could not open destination file\");\n\t\t    break;\n\t    case 2: Strcat_charp(src, \" Error: could not write to file (disk full)\");\n\t\t    break;\n\t    default: Strcat_charp(src, \" Error: unknown reason\");\n\t    }\n\t}\n\telse\n\t    Strcat(src, Sprintf(\"<input type=submit name=stop%d value=STOP>\",\n\t\t\t\td->pid));\n\tStrcat_charp(src, \"\\n</pre><hr>\\n\");\n    }\n    Strcat_charp(src, \"</form></body></html>\");\n    return loadHTMLString(src);\n}\n\nvoid\ndownload_action(struct parsed_tagarg *arg)\n{\n    DownloadList *d;\n    pid_t pid;\n\n    for (; arg; arg = arg->next) {\n\tif (!strncmp(arg->arg, \"stop\", 4)) {\n\t    pid = (pid_t) atoi(&arg->arg[4]);\n#ifndef __MINGW32_VERSION\n\t    kill(pid, SIGKILL);\n#endif\n\t}\n\telse if (!strncmp(arg->arg, \"ok\", 2))\n\t    pid = (pid_t) atoi(&arg->arg[2]);\n\telse\n\t    continue;\n\tfor (d = FirstDL; d; d = d->next) {\n\t    if (d->pid == pid) {\n\t\tunlink(d->lock);\n\t\tif (d->prev)\n\t\t    d->prev->next = d->next;\n\t\telse\n\t\t    FirstDL = d->next;\n\t\tif (d->next)\n\t\t    d->next->prev = d->prev;\n\t\telse\n\t\t    LastDL = d->prev;\n\t\tbreak;\n\t    }\n\t}\n    }\n    ldDL();\n}\n\nvoid\nstopDownload(void)\n{\n    DownloadList *d;\n\n    if (!FirstDL)\n\treturn;\n    for (d = FirstDL; d != NULL; d = d->next) {\n\tif (!d->running)\n\t    continue;\n#ifndef __MINGW32_VERSION\n\tkill(d->pid, SIGKILL);\n#endif\n\tunlink(d->lock);\n    }\n}\n\n/* download panel */\nDEFUN(ldDL, DOWNLOAD_LIST, \"Display downloads panel\")\n{\n    Buffer *buf;\n    int replace = FALSE, new_tab = FALSE;\n#ifdef USE_ALARM\n    int reload;\n#endif\n\n    if (Currentbuf->bufferprop & BP_INTERNAL &&\n\t!strcmp(Currentbuf->buffername, DOWNLOAD_LIST_TITLE))\n\treplace = TRUE;\n    if (!FirstDL) {\n\tif (replace) {\n\t    if (Currentbuf == Firstbuf && Currentbuf->nextBuffer == NULL) {\n\t\tif (nTab > 1)\n\t\t    deleteTab(CurrentTab);\n\t    }\n\t    else\n\t\tdelBuffer(Currentbuf);\n\t    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n\t}\n\treturn;\n    }\n#ifdef USE_ALARM\n    reload = checkDownloadList();\n#endif\n    buf = DownloadListBuffer();\n    if (!buf) {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    buf->bufferprop |= (BP_INTERNAL | BP_NO_URL);\n    if (replace) {\n\tCOPY_BUFROOT(buf, Currentbuf);\n\trestorePosition(buf, Currentbuf);\n    }\n    if (!replace && open_tab_dl_list) {\n\t_newT();\n\tnew_tab = TRUE;\n    }\n    pushBuffer(buf);\n    if (replace || new_tab)\n\tdeletePrevBuf();\n#ifdef USE_ALARM\n    if (reload)\n\tCurrentbuf->event = setAlarmEvent(Currentbuf->event, 1, AL_IMPLICIT,\n\t\t\t\t\t  FUNCNAME_reload, NULL);\n#endif\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nstatic void\nsave_buffer_position(Buffer *buf)\n{\n    BufferPos *b = buf->undo;\n\n    if (!buf->firstLine)\n\treturn;\n    if (b && b->top_linenumber == TOP_LINENUMBER(buf) &&\n\tb->cur_linenumber == CUR_LINENUMBER(buf) &&\n\tb->currentColumn == buf->currentColumn && b->pos == buf->pos)\n\treturn;\n    b = New(BufferPos);\n    b->top_linenumber = TOP_LINENUMBER(buf);\n    b->cur_linenumber = CUR_LINENUMBER(buf);\n    b->currentColumn = buf->currentColumn;\n    b->pos = buf->pos;\n    b->bpos = buf->currentLine ? buf->currentLine->bpos : 0;\n    b->next = NULL;\n    b->prev = buf->undo;\n    if (buf->undo)\n\tbuf->undo->next = b;\n    buf->undo = b;\n}\n\nstatic void\nresetPos(BufferPos * b)\n{\n    Buffer buf;\n    Line top, cur;\n\n    top.linenumber = b->top_linenumber;\n    cur.linenumber = b->cur_linenumber;\n    cur.bpos = b->bpos;\n    buf.topLine = &top;\n    buf.currentLine = &cur;\n    buf.pos = b->pos;\n    buf.currentColumn = b->currentColumn;\n    restorePosition(Currentbuf, &buf);\n    Currentbuf->undo = b;\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(undoPos, UNDO, \"Cancel the last cursor movement\")\n{\n    BufferPos *b = Currentbuf->undo;\n    int i;\n\n    if (!Currentbuf->firstLine)\n\treturn;\n    if (!b || !b->prev)\n\treturn;\n    for (i = 0; i < PREC_NUM && b->prev; i++, b = b->prev) ;\n    resetPos(b);\n}\n\nDEFUN(redoPos, REDO, \"Cancel the last undo\")\n{\n    BufferPos *b = Currentbuf->undo;\n    int i;\n\n    if (!Currentbuf->firstLine)\n\treturn;\n    if (!b || !b->next)\n\treturn;\n    for (i = 0; i < PREC_NUM && b->next; i++, b = b->next) ;\n    resetPos(b);\n}\n", "/* $Id: rc.c,v 1.116 2010/08/20 09:47:09 htrb Exp $ */\n/* \n * Initialization file etc.\n */\n#include \"fm.h\"\n#include \"myctype.h\"\n#include \"proto.h\"\n#include <stdio.h>\n#include <errno.h>\n#include \"parsetag.h\"\n#include \"local.h\"\n#include \"regex.h\"\n#include <stdlib.h>\n#include <stddef.h>\n\nstruct param_ptr {\n    char *name;\n    int type;\n    int inputtype;\n    void *varptr;\n    char *comment;\n    void *select;\n};\n\nstruct param_section {\n    char *name;\n    struct param_ptr *params;\n};\n\nstruct rc_search_table {\n    struct param_ptr *param;\n    short uniq_pos;\n};\n\nstatic struct rc_search_table *RC_search_table;\nstatic int RC_table_size;\n\n#define P_INT      0\n#define P_SHORT    1\n#define P_CHARINT  2\n#define P_CHAR     3\n#define P_STRING   4\n#if defined(USE_SSL) && defined(USE_SSL_VERIFY)\n#define P_SSLPATH  5\n#endif\n#ifdef USE_COLOR\n#define P_COLOR    6\n#endif\n#ifdef USE_M17N\n#define P_CODE     7\n#endif\n#define P_PIXELS   8\n#define P_NZINT    9\n#define P_SCALE    10\n\n/* FIXME: gettextize here */\n#ifdef USE_M17N\nstatic wc_ces OptionCharset = WC_CES_US_ASCII;\t/* FIXME: charset of source code */\nstatic int OptionEncode = FALSE;\n#endif\n\n#define CMT_HELPER\t N_(\"External Viewer Setup\")\n#define CMT_TABSTOP      N_(\"Tab width in characters\")\n#define CMT_INDENT_INCR  N_(\"Indent for HTML rendering\")\n#define CMT_PIXEL_PER_CHAR N_(\"Number of pixels per character (4.0...32.0)\")\n#define CMT_PIXEL_PER_LINE N_(\"Number of pixels per line (4.0...64.0)\")\n#define CMT_PAGERLINE    N_(\"Number of remembered lines when used as a pager\")\n#define CMT_HISTORY\t N_(\"Use URL history\")\n#define CMT_HISTSIZE     N_(\"Number of remembered URL\")\n#define CMT_SAVEHIST     N_(\"Save URL history\")\n#define CMT_FRAME        N_(\"Render frames automatically\")\n#define CMT_ARGV_IS_URL  N_(\"Treat argument without scheme as URL\")\n#define CMT_TSELF        N_(\"Use _self as default target\")\n#define CMT_OPEN_TAB_BLANK N_(\"Open link on new tab if target is _blank or _new\")\n#define CMT_OPEN_TAB_DL_LIST N_(\"Open download list panel on new tab\")\n#define CMT_DISPLINK     N_(\"Display link URL automatically\")\n#define CMT_DISPLINKNUMBER N_(\"Display link numbers\")\n#define CMT_DECODE_URL   N_(\"Display decoded URL\")\n#define CMT_DISPLINEINFO N_(\"Display current line number\")\n#define CMT_DISP_IMAGE   N_(\"Display inline images\")\n#define CMT_PSEUDO_INLINES N_(\"Display pseudo-ALTs for inline images with no ALT or TITLE string\")\n#ifdef USE_IMAGE\n#define CMT_AUTO_IMAGE   N_(\"Load inline images automatically\")\n#define CMT_MAX_LOAD_IMAGE N_(\"Maximum processes for parallel image loading\")\n#define CMT_EXT_IMAGE_VIEWER   N_(\"Use external image viewer\")\n#define CMT_IMAGE_SCALE  N_(\"Scale of image (%)\")\n#define CMT_IMGDISPLAY   N_(\"External command to display image\")\n#define CMT_IMAGE_MAP_LIST N_(\"Use link list of image map\")\n#endif\n#define CMT_MULTICOL     N_(\"Display file names in multi-column format\")\n#define CMT_ALT_ENTITY   N_(\"Use ASCII equivalents to display entities\")\n#define CMT_GRAPHIC_CHAR N_(\"Character type for border of table and menu\")\n#define CMT_DISP_BORDERS N_(\"Display table borders, ignore value of BORDER\")\n#define CMT_FOLD_TEXTAREA N_(\"Fold lines in TEXTAREA\")\n#define CMT_DISP_INS_DEL N_(\"Display INS, DEL, S and STRIKE element\")\n#define CMT_COLOR        N_(\"Display with color\")\n#define CMT_B_COLOR      N_(\"Color of normal character\")\n#define CMT_A_COLOR      N_(\"Color of anchor\")\n#define CMT_I_COLOR      N_(\"Color of image link\")\n#define CMT_F_COLOR      N_(\"Color of form\")\n#define CMT_ACTIVE_STYLE N_(\"Enable coloring of active link\")\n#define CMT_C_COLOR\t N_(\"Color of currently active link\")\n#define CMT_VISITED_ANCHOR N_(\"Use visited link color\")\n#define CMT_V_COLOR\t N_(\"Color of visited link\")\n#define CMT_BG_COLOR     N_(\"Color of background\")\n#define CMT_MARK_COLOR   N_(\"Color of mark\")\n#define CMT_USE_PROXY    N_(\"Use proxy\")\n#define CMT_HTTP_PROXY   N_(\"URL of HTTP proxy host\")\n#ifdef USE_SSL\n#define CMT_HTTPS_PROXY  N_(\"URL of HTTPS proxy host\")\n#endif\t\t\t\t/* USE_SSL */\n#ifdef USE_GOPHER\n#define CMT_GOPHER_PROXY N_(\"URL of GOPHER proxy host\")\n#endif\t\t\t\t/* USE_GOPHER */\n#define CMT_FTP_PROXY    N_(\"URL of FTP proxy host\")\n#define CMT_NO_PROXY     N_(\"Domains to be accessed directly (no proxy)\")\n#define CMT_NOPROXY_NETADDR\tN_(\"Check noproxy by network address\")\n#define CMT_NO_CACHE     N_(\"Disable cache\")\n#ifdef USE_NNTP\n#define CMT_NNTP_SERVER  N_(\"News server\")\n#define CMT_NNTP_MODE    N_(\"Mode of news server\")\n#define CMT_MAX_NEWS     N_(\"Number of news messages\")\n#endif\n#define CMT_DNS_ORDER\tN_(\"Order of name resolution\")\n#define CMT_DROOT       N_(\"Directory corresponding to / (document root)\")\n#define CMT_PDROOT      N_(\"Directory corresponding to /~user\")\n#define CMT_CGIBIN      N_(\"Directory corresponding to /cgi-bin\")\n#define CMT_CONFIRM_QQ  N_(\"Confirm when quitting with q\")\n#define CMT_CLOSE_TAB_BACK N_(\"Close tab if buffer is last when back\")\n#ifdef USE_MARK\n#define CMT_USE_MARK\tN_(\"Enable mark operations\")\n#endif\n#define CMT_EMACS_LIKE_LINEEDIT\tN_(\"Enable Emacs-style line editing\")\n#define CMT_VI_PREC_NUM\t N_(\"Enable vi-like numeric prefix\")\n#define CMT_LABEL_TOPLINE N_(\"Move cursor to top line when going to label\")\n#define CMT_NEXTPAGE_TOPLINE N_(\"Move cursor to top line when moving to next page\")\n#define CMT_FOLD_LINE    N_(\"Fold lines of plain text file\")\n#define CMT_SHOW_NUM     N_(\"Show line numbers\")\n#define CMT_SHOW_SRCH_STR N_(\"Show search string\")\n#define CMT_MIMETYPES    N_(\"List of mime.types files\")\n#define CMT_MAILCAP      N_(\"List of mailcap files\")\n#define CMT_URIMETHODMAP N_(\"List of urimethodmap files\")\n#define CMT_EDITOR       N_(\"Editor\")\n#define CMT_MAILER       N_(\"Mailer\")\n#define CMT_MAILTO_OPTIONS N_(\"How to call Mailer for mailto URLs with options\")\n#define CMT_EXTBRZ       N_(\"External browser\")\n#define CMT_EXTBRZ2      N_(\"2nd external browser\")\n#define CMT_EXTBRZ3      N_(\"3rd external browser\")\n#define CMT_EXTBRZ4      N_(\"4th external browser\")\n#define CMT_EXTBRZ5      N_(\"5th external browser\")\n#define CMT_EXTBRZ6      N_(\"6th external browser\")\n#define CMT_EXTBRZ7      N_(\"7th external browser\")\n#define CMT_EXTBRZ8      N_(\"8th external browser\")\n#define CMT_EXTBRZ9      N_(\"9th external browser\")\n#define CMT_DISABLE_SECRET_SECURITY_CHECK\tN_(\"Disable secret file security check\")\n#define CMT_PASSWDFILE\t N_(\"Password file\")\n#define CMT_PRE_FORM_FILE\tN_(\"File for setting form on loading\")\n#define CMT_SITECONF_FILE\tN_(\"File for preferences for each site\")\n#define CMT_FTPPASS      N_(\"Password for anonymous FTP (your mail address)\")\n#define CMT_FTPPASS_HOSTNAMEGEN N_(\"Generate domain part of password for FTP\")\n#define CMT_USERAGENT    N_(\"User-Agent identification string\")\n#define CMT_ACCEPTENCODING\tN_(\"Accept-Encoding header\")\n#define CMT_ACCEPTMEDIA\t N_(\"Accept header\")\n#define CMT_ACCEPTLANG   N_(\"Accept-Language header\")\n#define CMT_MARK_ALL_PAGES N_(\"Treat URL-like strings as links in all pages\")\n#define CMT_WRAP         N_(\"Wrap search\")\n#define CMT_VIEW_UNSEENOBJECTS N_(\"Display unseen objects (e.g. bgimage tag)\")\n#define CMT_AUTO_UNCOMPRESS\tN_(\"Uncompress compressed data automatically when downloading\")\n#ifdef __EMX__\n#define CMT_BGEXTVIEW\t N_(\"Run external viewer in a separate session\")\n#else\n#define CMT_BGEXTVIEW    N_(\"Run external viewer in the background\")\n#endif\n#define CMT_EXT_DIRLIST  N_(\"Use external program for directory listing\")\n#define CMT_DIRLIST_CMD  N_(\"URL of directory listing command\")\n#ifdef USE_DICT\n#define CMT_USE_DICTCOMMAND  N_(\"Enable dictionary lookup through CGI\")\n#define CMT_DICTCOMMAND  N_(\"URL of dictionary lookup command\")\n#endif\t\t\t\t/* USE_DICT */\n#define CMT_IGNORE_NULL_IMG_ALT\tN_(\"Display link name for images lacking ALT\")\n#define CMT_IFILE        N_(\"Index file for directories\")\n#define CMT_RETRY_HTTP   N_(\"Prepend http:// to URL automatically\")\n#define CMT_DEFAULT_URL  N_(\"Default value for open-URL command\")\n#define CMT_DECODE_CTE   N_(\"Decode Content-Transfer-Encoding when saving\")\n#define CMT_PRESERVE_TIMESTAMP N_(\"Preserve timestamp when saving\")\n#ifdef USE_MOUSE\n#define CMT_MOUSE         N_(\"Enable mouse\")\n#define CMT_REVERSE_MOUSE N_(\"Scroll in reverse direction of mouse drag\")\n#define CMT_RELATIVE_WHEEL_SCROLL N_(\"Behavior of wheel scroll speed\")\n#define CMT_RELATIVE_WHEEL_SCROLL_RATIO N_(\"(A only)Scroll by # (%) of screen\")\n#define CMT_FIXED_WHEEL_SCROLL_COUNT N_(\"(B only)Scroll by # lines\")\n#endif\t\t\t\t/* USE_MOUSE */\n#define CMT_CLEAR_BUF     N_(\"Free memory of undisplayed buffers\")\n#define CMT_NOSENDREFERER N_(\"Suppress `Referer:' header\")\n#define CMT_IGNORE_CASE N_(\"Search case-insensitively\")\n#define CMT_USE_LESSOPEN N_(\"Use LESSOPEN\")\n#ifdef USE_SSL\n#ifdef USE_SSL_VERIFY\n#define CMT_SSL_VERIFY_SERVER N_(\"Perform SSL server verification\")\n#define CMT_SSL_CERT_FILE N_(\"PEM encoded certificate file of client\")\n#define CMT_SSL_KEY_FILE N_(\"PEM encoded private key file of client\")\n#define CMT_SSL_CA_PATH N_(\"Path to directory for PEM encoded certificates of CAs\")\n#define CMT_SSL_CA_FILE N_(\"File consisting of PEM encoded certificates of CAs\")\n#endif\t\t\t\t/* USE_SSL_VERIFY */\n#define CMT_SSL_FORBID_METHOD N_(\"List of forbidden SSL methods (2: SSLv2, 3: SSLv3, t: TLSv1.0, 5: TLSv1.1)\")\n#endif\t\t\t\t/* USE_SSL */\n#ifdef USE_COOKIE\n#define CMT_USECOOKIE   N_(\"Enable cookie processing\")\n#define CMT_SHOWCOOKIE  N_(\"Print a message when receiving a cookie\")\n#define CMT_ACCEPTCOOKIE N_(\"Accept cookies\")\n#define CMT_ACCEPTBADCOOKIE N_(\"Action to be taken on invalid cookie\")\n#define CMT_COOKIE_REJECT_DOMAINS N_(\"Domains to reject cookies from\")\n#define CMT_COOKIE_ACCEPT_DOMAINS N_(\"Domains to accept cookies from\")\n#define CMT_COOKIE_AVOID_WONG_NUMBER_OF_DOTS N_(\"Domains to avoid [wrong number of dots]\")\n#endif\n#define CMT_FOLLOW_REDIRECTION N_(\"Number of redirections to follow\")\n#define CMT_META_REFRESH N_(\"Enable processing of meta-refresh tag\")\n\n#ifdef USE_MIGEMO\n#define CMT_USE_MIGEMO N_(\"Enable Migemo (Roma-ji search)\")\n#define CMT_MIGEMO_COMMAND N_(\"Migemo command\")\n#endif\t\t\t\t/* USE_MIGEMO */\n\n#ifdef USE_M17N\n#define CMT_DISPLAY_CHARSET  N_(\"Display charset\")\n#define CMT_DOCUMENT_CHARSET N_(\"Default document charset\")\n#define CMT_AUTO_DETECT      N_(\"Automatic charset detect when loading\")\n#define CMT_SYSTEM_CHARSET   N_(\"System charset\")\n#define CMT_FOLLOW_LOCALE    N_(\"System charset follows locale(LC_CTYPE)\")\n#define CMT_EXT_HALFDUMP     N_(\"Output halfdump with display charset\")\n#define CMT_USE_WIDE         N_(\"Use multi column characters\")\n#define CMT_USE_COMBINING    N_(\"Use combining characters\")\n#define CMT_EAST_ASIAN_WIDTH N_(\"Use double width for some Unicode characters\")\n#define CMT_USE_LANGUAGE_TAG N_(\"Use Unicode language tags\")\n#define CMT_UCS_CONV         N_(\"Charset conversion using Unicode map\")\n#define CMT_PRE_CONV         N_(\"Charset conversion when loading\")\n#define CMT_SEARCH_CONV      N_(\"Adjust search string for document charset\")\n#define CMT_FIX_WIDTH_CONV   N_(\"Fix character width when conversion\")\n#define CMT_USE_GB12345_MAP  N_(\"Use GB 12345 Unicode map instead of GB 2312's\")\n#define CMT_USE_JISX0201     N_(\"Use JIS X 0201 Roman for ISO-2022-JP\")\n#define CMT_USE_JISC6226     N_(\"Use JIS C 6226:1978 for ISO-2022-JP\")\n#define CMT_USE_JISX0201K    N_(\"Use JIS X 0201 Katakana\")\n#define CMT_USE_JISX0212     N_(\"Use JIS X 0212:1990 (Supplemental Kanji)\")\n#define CMT_USE_JISX0213     N_(\"Use JIS X 0213:2000 (2000JIS)\")\n#define CMT_STRICT_ISO2022   N_(\"Strict ISO-2022-JP/KR/CN\")\n#define CMT_GB18030_AS_UCS   N_(\"Treat 4 bytes char. of GB18030 as Unicode\")\n#define CMT_SIMPLE_PRESERVE_SPACE N_(\"Simple Preserve space\")\n#endif\n\n#define CMT_KEYMAP_FILE N_(\"keymap file\")\n\n#define PI_TEXT    0\n#define PI_ONOFF   1\n#define PI_SEL_C   2\n#ifdef USE_M17N\n#define PI_CODE    3\n#endif\n\nstruct sel_c {\n    int value;\n    char *cvalue;\n    char *text;\n};\n\n#ifdef USE_COLOR\nstatic struct sel_c colorstr[] = {\n    {0, \"black\", N_(\"black\")},\n    {1, \"red\", N_(\"red\")},\n    {2, \"green\", N_(\"green\")},\n    {3, \"yellow\", N_(\"yellow\")},\n    {4, \"blue\", N_(\"blue\")},\n    {5, \"magenta\", N_(\"magenta\")},\n    {6, \"cyan\", N_(\"cyan\")},\n    {7, \"white\", N_(\"white\")},\n    {8, \"terminal\", N_(\"terminal\")},\n    {0, NULL, NULL}\n};\n#endif\t\t\t\t/* USE_COLOR */\n\n#if 1\t\t\t\t/* ANSI-C ? */\n#define N_STR(x)\t#x\n#define N_S(x)\t(x), N_STR(x)\n#else\t\t\t\t/* for traditional cpp? */\nstatic char n_s[][2] = {\n    {'0', 0},\n    {'1', 0},\n    {'2', 0},\n};\n#define N_S(x) (x), n_s[(x)]\n#endif\n\n\nstatic struct sel_c defaulturls[] = {\n    {N_S(DEFAULT_URL_EMPTY), N_(\"none\")},\n    {N_S(DEFAULT_URL_CURRENT), N_(\"current URL\")},\n    {N_S(DEFAULT_URL_LINK), N_(\"link URL\")},\n    {0, NULL, NULL}\n};\n\nstatic struct sel_c displayinsdel[] = {\n    {N_S(DISPLAY_INS_DEL_SIMPLE), N_(\"simple\")},\n    {N_S(DISPLAY_INS_DEL_NORMAL), N_(\"use tag\")},\n    {N_S(DISPLAY_INS_DEL_FONTIFY), N_(\"fontify\")},\n    {0, NULL, NULL}\n};\n\n#ifdef USE_MOUSE\nstatic struct sel_c wheelmode[] = {\n    {TRUE, \"1\", N_(\"A:relative to screen height\")},\n    {FALSE, \"0\", N_(\"B:fixed speed\")},\n    {0, NULL, NULL}\n};\n#endif\t\t\t\t/* MOUSE */\n\n#ifdef INET6\nstatic struct sel_c dnsorders[] = {\n    {N_S(DNS_ORDER_UNSPEC), N_(\"unspecified\")},\n    {N_S(DNS_ORDER_INET_INET6), N_(\"inet inet6\")},\n    {N_S(DNS_ORDER_INET6_INET), N_(\"inet6 inet\")},\n    {N_S(DNS_ORDER_INET_ONLY), N_(\"inet only\")},\n    {N_S(DNS_ORDER_INET6_ONLY), N_(\"inet6 only\")},\n    {0, NULL, NULL}\n};\n#endif\t\t\t\t/* INET6 */\n\n#ifdef USE_COOKIE\nstatic struct sel_c badcookiestr[] = {\n    {N_S(ACCEPT_BAD_COOKIE_DISCARD), N_(\"discard\")},\n#if 0\n    {N_S(ACCEPT_BAD_COOKIE_ACCEPT), N_(\"accept\")},\n#endif\n    {N_S(ACCEPT_BAD_COOKIE_ASK), N_(\"ask\")},\n    {0, NULL, NULL}\n};\n#endif\t\t\t\t/* USE_COOKIE */\n\nstatic struct sel_c mailtooptionsstr[] = {\n#ifdef USE_W3MMAILER\n    {N_S(MAILTO_OPTIONS_USE_W3MMAILER), N_(\"use internal mailer instead\")},\n#endif\n    {N_S(MAILTO_OPTIONS_IGNORE), N_(\"ignore options and use only the address\")},\n    {N_S(MAILTO_OPTIONS_USE_MAILTO_URL), N_(\"use full mailto URL\")},\n    {0, NULL, NULL}\n};\n\n#ifdef USE_M17N\nstatic wc_ces_list *display_charset_str = NULL;\nstatic wc_ces_list *document_charset_str = NULL;\nstatic wc_ces_list *system_charset_str = NULL;\nstatic struct sel_c auto_detect_str[] = {\n    {N_S(WC_OPT_DETECT_OFF), N_(\"OFF\")},\n    {N_S(WC_OPT_DETECT_ISO_2022), N_(\"Only ISO 2022\")},\n    {N_S(WC_OPT_DETECT_ON), N_(\"ON\")},\n    {0, NULL, NULL}\n};\n#endif\n\nstatic struct sel_c graphic_char_str[] = {\n    {N_S(GRAPHIC_CHAR_ASCII), N_(\"ASCII\")},\n    {N_S(GRAPHIC_CHAR_CHARSET), N_(\"charset specific\")},\n    {N_S(GRAPHIC_CHAR_DEC), N_(\"DEC special graphics\")},\n    {0, NULL, NULL}\n};\n\nstruct param_ptr params1[] = {\n    {\"tabstop\", P_NZINT, PI_TEXT, (void *)&Tabstop, CMT_TABSTOP, NULL},\n    {\"indent_incr\", P_NZINT, PI_TEXT, (void *)&IndentIncr, CMT_INDENT_INCR,\n     NULL},\n    {\"pixel_per_char\", P_PIXELS, PI_TEXT, (void *)&pixel_per_char,\n     CMT_PIXEL_PER_CHAR, NULL},\n#ifdef USE_IMAGE\n    {\"pixel_per_line\", P_PIXELS, PI_TEXT, (void *)&pixel_per_line,\n     CMT_PIXEL_PER_LINE, NULL},\n#endif\n    {\"frame\", P_CHARINT, PI_ONOFF, (void *)&RenderFrame, CMT_FRAME, NULL},\n    {\"target_self\", P_CHARINT, PI_ONOFF, (void *)&TargetSelf, CMT_TSELF, NULL},\n    {\"open_tab_blank\", P_INT, PI_ONOFF, (void *)&open_tab_blank,\n     CMT_OPEN_TAB_BLANK, NULL},\n    {\"open_tab_dl_list\", P_INT, PI_ONOFF, (void *)&open_tab_dl_list,\n     CMT_OPEN_TAB_DL_LIST, NULL},\n    {\"display_link\", P_INT, PI_ONOFF, (void *)&displayLink, CMT_DISPLINK,\n     NULL},\n    {\"display_link_number\", P_INT, PI_ONOFF, (void *)&displayLinkNumber,\n     CMT_DISPLINKNUMBER, NULL},\n    {\"decode_url\", P_INT, PI_ONOFF, (void *)&DecodeURL, CMT_DECODE_URL, NULL},\n    {\"display_lineinfo\", P_INT, PI_ONOFF, (void *)&displayLineInfo,\n     CMT_DISPLINEINFO, NULL},\n    {\"ext_dirlist\", P_INT, PI_ONOFF, (void *)&UseExternalDirBuffer,\n     CMT_EXT_DIRLIST, NULL},\n    {\"dirlist_cmd\", P_STRING, PI_TEXT, (void *)&DirBufferCommand,\n     CMT_DIRLIST_CMD, NULL},\n#ifdef USE_DICT\n    {\"use_dictcommand\", P_INT, PI_ONOFF, (void *)&UseDictCommand,\n     CMT_USE_DICTCOMMAND, NULL},\n    {\"dictcommand\", P_STRING, PI_TEXT, (void *)&DictCommand,\n     CMT_DICTCOMMAND, NULL},\n#endif\t\t\t\t/* USE_DICT */\n    {\"multicol\", P_INT, PI_ONOFF, (void *)&multicolList, CMT_MULTICOL, NULL},\n    {\"alt_entity\", P_CHARINT, PI_ONOFF, (void *)&UseAltEntity, CMT_ALT_ENTITY,\n     NULL},\n    {\"graphic_char\", P_CHARINT, PI_SEL_C, (void *)&UseGraphicChar,\n     CMT_GRAPHIC_CHAR, (void *)graphic_char_str},\n    {\"display_borders\", P_CHARINT, PI_ONOFF, (void *)&DisplayBorders,\n     CMT_DISP_BORDERS, NULL},\n    {\"fold_textarea\", P_CHARINT, PI_ONOFF, (void *)&FoldTextarea,\n     CMT_FOLD_TEXTAREA, NULL},\n    {\"display_ins_del\", P_INT, PI_SEL_C, (void *)&displayInsDel,\n     CMT_DISP_INS_DEL, displayinsdel},\n    {\"ignore_null_img_alt\", P_INT, PI_ONOFF, (void *)&ignore_null_img_alt,\n     CMT_IGNORE_NULL_IMG_ALT, NULL},\n    {\"view_unseenobject\", P_INT, PI_ONOFF, (void *)&view_unseenobject,\n     CMT_VIEW_UNSEENOBJECTS, NULL},\n    /* XXX: emacs-w3m force to off display_image even if image options off */\n    {\"display_image\", P_INT, PI_ONOFF, (void *)&displayImage, CMT_DISP_IMAGE,\n     NULL},\n    {\"pseudo_inlines\", P_INT, PI_ONOFF, (void *)&pseudoInlines,\n     CMT_PSEUDO_INLINES, NULL},\n#ifdef USE_IMAGE\n    {\"auto_image\", P_INT, PI_ONOFF, (void *)&autoImage, CMT_AUTO_IMAGE, NULL},\n    {\"max_load_image\", P_INT, PI_TEXT, (void *)&maxLoadImage,\n     CMT_MAX_LOAD_IMAGE, NULL},\n    {\"ext_image_viewer\", P_INT, PI_ONOFF, (void *)&useExtImageViewer,\n     CMT_EXT_IMAGE_VIEWER, NULL},\n    {\"image_scale\", P_SCALE, PI_TEXT, (void *)&image_scale, CMT_IMAGE_SCALE,\n     NULL},\n    {\"imgdisplay\", P_STRING, PI_TEXT, (void *)&Imgdisplay, CMT_IMGDISPLAY,\n     NULL},\n    {\"image_map_list\", P_INT, PI_ONOFF, (void *)&image_map_list,\n     CMT_IMAGE_MAP_LIST, NULL},\n#endif\n    {\"fold_line\", P_INT, PI_ONOFF, (void *)&FoldLine, CMT_FOLD_LINE, NULL},\n    {\"show_lnum\", P_INT, PI_ONOFF, (void *)&showLineNum, CMT_SHOW_NUM, NULL},\n    {\"show_srch_str\", P_INT, PI_ONOFF, (void *)&show_srch_str,\n     CMT_SHOW_SRCH_STR, NULL},\n    {\"label_topline\", P_INT, PI_ONOFF, (void *)&label_topline,\n     CMT_LABEL_TOPLINE, NULL},\n    {\"nextpage_topline\", P_INT, PI_ONOFF, (void *)&nextpage_topline,\n     CMT_NEXTPAGE_TOPLINE, NULL},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n\n#ifdef USE_COLOR\nstruct param_ptr params2[] = {\n    {\"color\", P_INT, PI_ONOFF, (void *)&useColor, CMT_COLOR, NULL},\n    {\"basic_color\", P_COLOR, PI_SEL_C, (void *)&basic_color, CMT_B_COLOR,\n     (void *)colorstr},\n    {\"anchor_color\", P_COLOR, PI_SEL_C, (void *)&anchor_color, CMT_A_COLOR,\n     (void *)colorstr},\n    {\"image_color\", P_COLOR, PI_SEL_C, (void *)&image_color, CMT_I_COLOR,\n     (void *)colorstr},\n    {\"form_color\", P_COLOR, PI_SEL_C, (void *)&form_color, CMT_F_COLOR,\n     (void *)colorstr},\n#ifdef USE_BG_COLOR\n    {\"mark_color\", P_COLOR, PI_SEL_C, (void *)&mark_color, CMT_MARK_COLOR,\n     (void *)colorstr},\n    {\"bg_color\", P_COLOR, PI_SEL_C, (void *)&bg_color, CMT_BG_COLOR,\n     (void *)colorstr},\n#endif\t\t\t\t/* USE_BG_COLOR */\n    {\"active_style\", P_INT, PI_ONOFF, (void *)&useActiveColor,\n     CMT_ACTIVE_STYLE, NULL},\n    {\"active_color\", P_COLOR, PI_SEL_C, (void *)&active_color, CMT_C_COLOR,\n     (void *)colorstr},\n    {\"visited_anchor\", P_INT, PI_ONOFF, (void *)&useVisitedColor,\n     CMT_VISITED_ANCHOR, NULL},\n    {\"visited_color\", P_COLOR, PI_SEL_C, (void *)&visited_color, CMT_V_COLOR,\n     (void *)colorstr},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n#endif\t\t\t\t/* USE_COLOR */\n\n\nstruct param_ptr params3[] = {\n    {\"pagerline\", P_NZINT, PI_TEXT, (void *)&PagerMax, CMT_PAGERLINE, NULL},\n#ifdef USE_HISTORY\n    {\"use_history\", P_INT, PI_ONOFF, (void *)&UseHistory, CMT_HISTORY, NULL},\n    {\"history\", P_INT, PI_TEXT, (void *)&URLHistSize, CMT_HISTSIZE, NULL},\n    {\"save_hist\", P_INT, PI_ONOFF, (void *)&SaveURLHist, CMT_SAVEHIST, NULL},\n#endif\t\t\t\t/* USE_HISTORY */\n    {\"confirm_qq\", P_INT, PI_ONOFF, (void *)&confirm_on_quit, CMT_CONFIRM_QQ,\n     NULL},\n    {\"close_tab_back\", P_INT, PI_ONOFF, (void *)&close_tab_back,\n     CMT_CLOSE_TAB_BACK, NULL},\n#ifdef USE_MARK\n    {\"mark\", P_INT, PI_ONOFF, (void *)&use_mark, CMT_USE_MARK, NULL},\n#endif\n    {\"emacs_like_lineedit\", P_INT, PI_ONOFF, (void *)&emacs_like_lineedit,\n     CMT_EMACS_LIKE_LINEEDIT, NULL},\n    {\"vi_prec_num\", P_INT, PI_ONOFF, (void *)&vi_prec_num, CMT_VI_PREC_NUM,\n     NULL},\n    {\"mark_all_pages\", P_INT, PI_ONOFF, (void *)&MarkAllPages,\n     CMT_MARK_ALL_PAGES, NULL},\n    {\"wrap_search\", P_INT, PI_ONOFF, (void *)&WrapDefault, CMT_WRAP, NULL},\n    {\"ignorecase_search\", P_INT, PI_ONOFF, (void *)&IgnoreCase,\n     CMT_IGNORE_CASE, NULL},\n#ifdef USE_MIGEMO\n    {\"use_migemo\", P_INT, PI_ONOFF, (void *)&use_migemo, CMT_USE_MIGEMO,\n     NULL},\n    {\"migemo_command\", P_STRING, PI_TEXT, (void *)&migemo_command,\n     CMT_MIGEMO_COMMAND, NULL},\n#endif\t\t\t\t/* USE_MIGEMO */\n#ifdef USE_MOUSE\n    {\"use_mouse\", P_INT, PI_ONOFF, (void *)&use_mouse, CMT_MOUSE, NULL},\n    {\"reverse_mouse\", P_INT, PI_ONOFF, (void *)&reverse_mouse,\n     CMT_REVERSE_MOUSE, NULL},\n    {\"relative_wheel_scroll\", P_INT, PI_SEL_C, (void *)&relative_wheel_scroll,\n     CMT_RELATIVE_WHEEL_SCROLL, (void *)wheelmode},\n    {\"relative_wheel_scroll_ratio\", P_INT, PI_TEXT,\n     (void *)&relative_wheel_scroll_ratio,\n     CMT_RELATIVE_WHEEL_SCROLL_RATIO, NULL},\n    {\"fixed_wheel_scroll_count\", P_INT, PI_TEXT,\n     (void *)&fixed_wheel_scroll_count,\n     CMT_FIXED_WHEEL_SCROLL_COUNT, NULL},\n#endif\t\t\t\t/* USE_MOUSE */\n    {\"clear_buffer\", P_INT, PI_ONOFF, (void *)&clear_buffer, CMT_CLEAR_BUF,\n     NULL},\n    {\"decode_cte\", P_CHARINT, PI_ONOFF, (void *)&DecodeCTE, CMT_DECODE_CTE,\n     NULL},\n    {\"auto_uncompress\", P_CHARINT, PI_ONOFF, (void *)&AutoUncompress,\n     CMT_AUTO_UNCOMPRESS, NULL},\n    {\"preserve_timestamp\", P_CHARINT, PI_ONOFF, (void *)&PreserveTimestamp,\n     CMT_PRESERVE_TIMESTAMP, NULL},\n    {\"keymap_file\", P_STRING, PI_TEXT, (void *)&keymap_file, CMT_KEYMAP_FILE,\n     NULL},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n\nstruct param_ptr params4[] = {\n    {\"use_proxy\", P_CHARINT, PI_ONOFF, (void *)&use_proxy, CMT_USE_PROXY,\n     NULL},\n    {\"http_proxy\", P_STRING, PI_TEXT, (void *)&HTTP_proxy, CMT_HTTP_PROXY,\n     NULL},\n#ifdef USE_SSL\n    {\"https_proxy\", P_STRING, PI_TEXT, (void *)&HTTPS_proxy, CMT_HTTPS_PROXY,\n     NULL},\n#endif\t\t\t\t/* USE_SSL */\n#ifdef USE_GOPHER\n    {\"gopher_proxy\", P_STRING, PI_TEXT, (void *)&GOPHER_proxy,\n     CMT_GOPHER_PROXY, NULL},\n#endif\t\t\t\t/* USE_GOPHER */\n    {\"ftp_proxy\", P_STRING, PI_TEXT, (void *)&FTP_proxy, CMT_FTP_PROXY, NULL},\n    {\"no_proxy\", P_STRING, PI_TEXT, (void *)&NO_proxy, CMT_NO_PROXY, NULL},\n    {\"noproxy_netaddr\", P_INT, PI_ONOFF, (void *)&NOproxy_netaddr,\n     CMT_NOPROXY_NETADDR, NULL},\n    {\"no_cache\", P_CHARINT, PI_ONOFF, (void *)&NoCache, CMT_NO_CACHE, NULL},\n\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n\nstruct param_ptr params5[] = {\n    {\"document_root\", P_STRING, PI_TEXT, (void *)&document_root, CMT_DROOT,\n     NULL},\n    {\"personal_document_root\", P_STRING, PI_TEXT,\n     (void *)&personal_document_root, CMT_PDROOT, NULL},\n    {\"cgi_bin\", P_STRING, PI_TEXT, (void *)&cgi_bin, CMT_CGIBIN, NULL},\n    {\"index_file\", P_STRING, PI_TEXT, (void *)&index_file, CMT_IFILE, NULL},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n\nstruct param_ptr params6[] = {\n    {\"mime_types\", P_STRING, PI_TEXT, (void *)&mimetypes_files, CMT_MIMETYPES,\n     NULL},\n    {\"mailcap\", P_STRING, PI_TEXT, (void *)&mailcap_files, CMT_MAILCAP, NULL},\n#ifdef USE_EXTERNAL_URI_LOADER\n    {\"urimethodmap\", P_STRING, PI_TEXT, (void *)&urimethodmap_files,\n     CMT_URIMETHODMAP, NULL},\n#endif\n    {\"editor\", P_STRING, PI_TEXT, (void *)&Editor, CMT_EDITOR, NULL},\n    {\"mailto_options\", P_INT, PI_SEL_C, (void *)&MailtoOptions,\n     CMT_MAILTO_OPTIONS, (void *)mailtooptionsstr},\n    {\"mailer\", P_STRING, PI_TEXT, (void *)&Mailer, CMT_MAILER, NULL},\n    {\"extbrowser\", P_STRING, PI_TEXT, (void *)&ExtBrowser, CMT_EXTBRZ, NULL},\n    {\"extbrowser2\", P_STRING, PI_TEXT, (void *)&ExtBrowser2, CMT_EXTBRZ2,\n     NULL},\n    {\"extbrowser3\", P_STRING, PI_TEXT, (void *)&ExtBrowser3, CMT_EXTBRZ3,\n     NULL},\n    {\"extbrowser4\", P_STRING, PI_TEXT, (void *)&ExtBrowser4, CMT_EXTBRZ4,\n     NULL},\n    {\"extbrowser5\", P_STRING, PI_TEXT, (void *)&ExtBrowser5, CMT_EXTBRZ5,\n     NULL},\n    {\"extbrowser6\", P_STRING, PI_TEXT, (void *)&ExtBrowser6, CMT_EXTBRZ6,\n     NULL},\n    {\"extbrowser7\", P_STRING, PI_TEXT, (void *)&ExtBrowser7, CMT_EXTBRZ7,\n     NULL},\n    {\"extbrowser8\", P_STRING, PI_TEXT, (void *)&ExtBrowser8, CMT_EXTBRZ8,\n     NULL},\n    {\"extbrowser9\", P_STRING, PI_TEXT, (void *)&ExtBrowser9, CMT_EXTBRZ9,\n     NULL},\n    {\"bgextviewer\", P_INT, PI_ONOFF, (void *)&BackgroundExtViewer,\n     CMT_BGEXTVIEW, NULL},\n    {\"use_lessopen\", P_INT, PI_ONOFF, (void *)&use_lessopen, CMT_USE_LESSOPEN,\n     NULL},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n\n#ifdef USE_SSL\nstruct param_ptr params7[] = {\n    {\"ssl_forbid_method\", P_STRING, PI_TEXT, (void *)&ssl_forbid_method,\n     CMT_SSL_FORBID_METHOD, NULL},\n#ifdef USE_SSL_VERIFY\n    {\"ssl_verify_server\", P_INT, PI_ONOFF, (void *)&ssl_verify_server,\n     CMT_SSL_VERIFY_SERVER, NULL},\n    {\"ssl_cert_file\", P_SSLPATH, PI_TEXT, (void *)&ssl_cert_file,\n     CMT_SSL_CERT_FILE, NULL},\n    {\"ssl_key_file\", P_SSLPATH, PI_TEXT, (void *)&ssl_key_file,\n     CMT_SSL_KEY_FILE, NULL},\n    {\"ssl_ca_path\", P_SSLPATH, PI_TEXT, (void *)&ssl_ca_path, CMT_SSL_CA_PATH,\n     NULL},\n    {\"ssl_ca_file\", P_SSLPATH, PI_TEXT, (void *)&ssl_ca_file, CMT_SSL_CA_FILE,\n     NULL},\n#endif\t\t\t\t/* USE_SSL_VERIFY */\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n#endif\t\t\t\t/* USE_SSL */\n\n#ifdef USE_COOKIE\nstruct param_ptr params8[] = {\n    {\"use_cookie\", P_INT, PI_ONOFF, (void *)&use_cookie, CMT_USECOOKIE, NULL},\n    {\"show_cookie\", P_INT, PI_ONOFF, (void *)&show_cookie,\n     CMT_SHOWCOOKIE, NULL},\n    {\"accept_cookie\", P_INT, PI_ONOFF, (void *)&accept_cookie,\n     CMT_ACCEPTCOOKIE, NULL},\n    {\"accept_bad_cookie\", P_INT, PI_SEL_C, (void *)&accept_bad_cookie,\n     CMT_ACCEPTBADCOOKIE, (void *)badcookiestr},\n    {\"cookie_reject_domains\", P_STRING, PI_TEXT,\n     (void *)&cookie_reject_domains, CMT_COOKIE_REJECT_DOMAINS, NULL},\n    {\"cookie_accept_domains\", P_STRING, PI_TEXT,\n     (void *)&cookie_accept_domains, CMT_COOKIE_ACCEPT_DOMAINS, NULL},\n    {\"cookie_avoid_wrong_number_of_dots\", P_STRING, PI_TEXT,\n     (void *)&cookie_avoid_wrong_number_of_dots,\n     CMT_COOKIE_AVOID_WONG_NUMBER_OF_DOTS, NULL},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n#endif\n\nstruct param_ptr params9[] = {\n    {\"passwd_file\", P_STRING, PI_TEXT, (void *)&passwd_file, CMT_PASSWDFILE,\n     NULL},\n    {\"disable_secret_security_check\", P_INT, PI_ONOFF,\n     (void *)&disable_secret_security_check, CMT_DISABLE_SECRET_SECURITY_CHECK,\n     NULL},\n    {\"ftppasswd\", P_STRING, PI_TEXT, (void *)&ftppasswd, CMT_FTPPASS, NULL},\n    {\"ftppass_hostnamegen\", P_INT, PI_ONOFF, (void *)&ftppass_hostnamegen,\n     CMT_FTPPASS_HOSTNAMEGEN, NULL},\n    {\"pre_form_file\", P_STRING, PI_TEXT, (void *)&pre_form_file,\n     CMT_PRE_FORM_FILE, NULL},\n    {\"siteconf_file\", P_STRING, PI_TEXT, (void *)&siteconf_file,\n     CMT_SITECONF_FILE, NULL},\n    {\"user_agent\", P_STRING, PI_TEXT, (void *)&UserAgent, CMT_USERAGENT, NULL},\n    {\"no_referer\", P_INT, PI_ONOFF, (void *)&NoSendReferer, CMT_NOSENDREFERER,\n     NULL},\n    {\"accept_language\", P_STRING, PI_TEXT, (void *)&AcceptLang, CMT_ACCEPTLANG,\n     NULL},\n    {\"accept_encoding\", P_STRING, PI_TEXT, (void *)&AcceptEncoding,\n     CMT_ACCEPTENCODING,\n     NULL},\n    {\"accept_media\", P_STRING, PI_TEXT, (void *)&AcceptMedia, CMT_ACCEPTMEDIA,\n     NULL},\n    {\"argv_is_url\", P_CHARINT, PI_ONOFF, (void *)&ArgvIsURL, CMT_ARGV_IS_URL,\n     NULL},\n    {\"retry_http\", P_INT, PI_ONOFF, (void *)&retryAsHttp, CMT_RETRY_HTTP,\n     NULL},\n    {\"default_url\", P_INT, PI_SEL_C, (void *)&DefaultURLString,\n     CMT_DEFAULT_URL, (void *)defaulturls},\n    {\"follow_redirection\", P_INT, PI_TEXT, &FollowRedirection,\n     CMT_FOLLOW_REDIRECTION, NULL},\n    {\"meta_refresh\", P_CHARINT, PI_ONOFF, (void *)&MetaRefresh,\n     CMT_META_REFRESH, NULL},\n#ifdef INET6\n    {\"dns_order\", P_INT, PI_SEL_C, (void *)&DNS_order, CMT_DNS_ORDER,\n     (void *)dnsorders},\n#endif\t\t\t\t/* INET6 */\n#ifdef USE_NNTP\n    {\"nntpserver\", P_STRING, PI_TEXT, (void *)&NNTP_server, CMT_NNTP_SERVER,\n     NULL},\n    {\"nntpmode\", P_STRING, PI_TEXT, (void *)&NNTP_mode, CMT_NNTP_MODE, NULL},\n    {\"max_news\", P_INT, PI_TEXT, (void *)&MaxNewsMessage, CMT_MAX_NEWS, NULL},\n#endif\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n\n#ifdef USE_M17N\nstruct param_ptr params10[] = {\n    {\"display_charset\", P_CODE, PI_CODE, (void *)&DisplayCharset,\n     CMT_DISPLAY_CHARSET, (void *)&display_charset_str},\n    {\"document_charset\", P_CODE, PI_CODE, (void *)&DocumentCharset,\n     CMT_DOCUMENT_CHARSET, (void *)&document_charset_str},\n    {\"auto_detect\", P_CHARINT, PI_SEL_C, (void *)&WcOption.auto_detect,\n     CMT_AUTO_DETECT, (void *)auto_detect_str},\n    {\"system_charset\", P_CODE, PI_CODE, (void *)&SystemCharset,\n     CMT_SYSTEM_CHARSET, (void *)&system_charset_str},\n    {\"follow_locale\", P_CHARINT, PI_ONOFF, (void *)&FollowLocale,\n     CMT_FOLLOW_LOCALE, NULL},\n    {\"ext_halfdump\", P_CHARINT, PI_ONOFF, (void *)&ExtHalfdump,\n     CMT_EXT_HALFDUMP, NULL},\n    {\"use_wide\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_wide, CMT_USE_WIDE,\n     NULL},\n    {\"use_combining\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_combining,\n     CMT_USE_COMBINING, NULL},\n#ifdef USE_UNICODE\n    {\"east_asian_width\", P_CHARINT, PI_ONOFF,\n     (void *)&WcOption.east_asian_width, CMT_EAST_ASIAN_WIDTH, NULL},\n    {\"use_language_tag\", P_CHARINT, PI_ONOFF,\n     (void *)&WcOption.use_language_tag, CMT_USE_LANGUAGE_TAG, NULL},\n    {\"ucs_conv\", P_CHARINT, PI_ONOFF, (void *)&WcOption.ucs_conv, CMT_UCS_CONV,\n     NULL},\n#endif\n    {\"pre_conv\", P_CHARINT, PI_ONOFF, (void *)&WcOption.pre_conv, CMT_PRE_CONV,\n     NULL},\n    {\"search_conv\", P_CHARINT, PI_ONOFF, (void *)&SearchConv, CMT_SEARCH_CONV,\n     NULL},\n    {\"fix_width_conv\", P_CHARINT, PI_ONOFF, (void *)&WcOption.fix_width_conv,\n     CMT_FIX_WIDTH_CONV, NULL},\n#ifdef USE_UNICODE\n    {\"use_gb12345_map\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_gb12345_map,\n     CMT_USE_GB12345_MAP, NULL},\n#endif\n    {\"use_jisx0201\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_jisx0201,\n     CMT_USE_JISX0201, NULL},\n    {\"use_jisc6226\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_jisc6226,\n     CMT_USE_JISC6226, NULL},\n    {\"use_jisx0201k\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_jisx0201k,\n     CMT_USE_JISX0201K, NULL},\n    {\"use_jisx0212\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_jisx0212,\n     CMT_USE_JISX0212, NULL},\n    {\"use_jisx0213\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_jisx0213,\n     CMT_USE_JISX0213, NULL},\n    {\"strict_iso2022\", P_CHARINT, PI_ONOFF, (void *)&WcOption.strict_iso2022,\n     CMT_STRICT_ISO2022, NULL},\n#ifdef USE_UNICODE\n    {\"gb18030_as_ucs\", P_CHARINT, PI_ONOFF, (void *)&WcOption.gb18030_as_ucs,\n     CMT_GB18030_AS_UCS, NULL},\n#endif\n    {\"simple_preserve_space\", P_CHARINT, PI_ONOFF, (void *)&SimplePreserveSpace,\n     CMT_SIMPLE_PRESERVE_SPACE, NULL},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n#endif\n\nstruct param_section sections[] = {\n    {N_(\"Display Settings\"), params1},\n#ifdef USE_COLOR\n    {N_(\"Color Settings\"), params2},\n#endif\t\t\t\t/* USE_COLOR */\n    {N_(\"Miscellaneous Settings\"), params3},\n    {N_(\"Directory Settings\"), params5},\n    {N_(\"External Program Settings\"), params6},\n    {N_(\"Network Settings\"), params9},\n    {N_(\"Proxy Settings\"), params4},\n#ifdef USE_SSL\n    {N_(\"SSL Settings\"), params7},\n#endif\n#ifdef USE_COOKIE\n    {N_(\"Cookie Settings\"), params8},\n#endif\n#ifdef USE_M17N\n    {N_(\"Charset Settings\"), params10},\n#endif\n    {NULL, NULL}\n};\n\nstatic Str to_str(struct param_ptr *p);\n\nstatic int\ncompare_table(struct rc_search_table *a, struct rc_search_table *b)\n{\n    return strcmp(a->param->name, b->param->name);\n}\n\nstatic void\ncreate_option_search_table()\n{\n    int i, j, k;\n    int diff1, diff2;\n    char *p, *q;\n\n    /* count table size */\n    RC_table_size = 0;\n    for (j = 0; sections[j].name != NULL; j++) {\n\ti = 0;\n\twhile (sections[j].params[i].name) {\n\t    i++;\n\t    RC_table_size++;\n\t}\n    }\n\n    RC_search_table = New_N(struct rc_search_table, RC_table_size);\n    k = 0;\n    for (j = 0; sections[j].name != NULL; j++) {\n\ti = 0;\n\twhile (sections[j].params[i].name) {\n\t    RC_search_table[k].param = &sections[j].params[i];\n\t    k++;\n\t    i++;\n\t}\n    }\n\n    qsort(RC_search_table, RC_table_size, sizeof(struct rc_search_table),\n\t  (int (*)(const void *, const void *))compare_table);\n\n    diff2 = 0;\n    for (i = 0; i < RC_table_size - 1; i++) {\n\tp = RC_search_table[i].param->name;\n\tq = RC_search_table[i + 1].param->name;\n\tfor (j = 0; p[j] != '\\0' && q[j] != '\\0' && p[j] == q[j]; j++) ;\n\tdiff1 = j;\n\tif (diff1 > diff2)\n\t    RC_search_table[i].uniq_pos = diff1 + 1;\n\telse\n\t    RC_search_table[i].uniq_pos = diff2 + 1;\n\tdiff2 = diff1;\n    }\n}\n\nstruct param_ptr *\nsearch_param(char *name)\n{\n    size_t b, e, i;\n    int cmp;\n    int len = strlen(name);\n\n    for (b = 0, e = RC_table_size - 1; b <= e;) {\n\ti = (b + e) / 2;\n\tcmp = strncmp(name, RC_search_table[i].param->name, len);\n\n\tif (!cmp) {\n\t    if (len >= RC_search_table[i].uniq_pos) {\n\t\treturn RC_search_table[i].param;\n\t    }\n\t    else {\n\t\twhile ((cmp =\n\t\t\tstrcmp(name, RC_search_table[i].param->name)) <= 0)\n\t\t    if (!cmp)\n\t\t\treturn RC_search_table[i].param;\n\t\t    else if (i == 0)\n\t\t\treturn NULL;\n\t\t    else\n\t\t\ti--;\n\t\t/* ambiguous */\n\t\treturn NULL;\n\t    }\n\t}\n\telse if (cmp < 0) {\n\t    if (i == 0)\n\t\treturn NULL;\n\t    e = i - 1;\n\t}\n\telse\n\t    b = i + 1;\n    }\n    return NULL;\n}\n\n/* show parameter with bad options invokation */\nvoid\nshow_params(FILE * fp)\n{\n    int i, j, l;\n    const char *t = \"\";\n    char *cmt;\n\n#ifdef USE_M17N\n#ifdef ENABLE_NLS\n    OptionCharset = SystemCharset;\t/* FIXME */\n#endif\n#endif\n\n    fputs(\"\\nconfiguration parameters\\n\", fp);\n    for (j = 0; sections[j].name != NULL; j++) {\n#ifdef USE_M17N\n\tif (!OptionEncode)\n\t    cmt =\n\t\twc_conv(_(sections[j].name), OptionCharset,\n\t\t\tInnerCharset)->ptr;\n\telse\n#endif\n\t    cmt = sections[j].name;\n\tfprintf(fp, \"  section[%d]: %s\\n\", j, conv_to_system(cmt));\n\ti = 0;\n\twhile (sections[j].params[i].name) {\n\t    switch (sections[j].params[i].type) {\n\t    case P_INT:\n\t    case P_SHORT:\n\t    case P_CHARINT:\n\t    case P_NZINT:\n\t\tt = (sections[j].params[i].inputtype ==\n\t\t     PI_ONOFF) ? \"bool\" : \"number\";\n\t\tbreak;\n\t    case P_CHAR:\n\t\tt = \"char\";\n\t\tbreak;\n\t    case P_STRING:\n\t\tt = \"string\";\n\t\tbreak;\n#if defined(USE_SSL) && defined(USE_SSL_VERIFY)\n\t    case P_SSLPATH:\n\t\tt = \"path\";\n\t\tbreak;\n#endif\n#ifdef USE_COLOR\n\t    case P_COLOR:\n\t\tt = \"color\";\n\t\tbreak;\n#endif\n#ifdef USE_M17N\n\t    case P_CODE:\n\t\tt = \"charset\";\n\t\tbreak;\n#endif\n\t    case P_PIXELS:\n\t\tt = \"number\";\n\t\tbreak;\n\t    case P_SCALE:\n\t\tt = \"percent\";\n\t\tbreak;\n\t    }\n#ifdef USE_M17N\n\t    if (!OptionEncode)\n\t\tcmt = wc_conv(_(sections[j].params[i].comment),\n\t\t\t      OptionCharset, InnerCharset)->ptr;\n\t    else\n#endif\n\t\tcmt = sections[j].params[i].comment;\n\t    l = 30 - (strlen(sections[j].params[i].name) + strlen(t));\n\t    if (l < 0)\n\t\tl = 1;\n\t    fprintf(fp, \"    -o %s=<%s>%*s%s\\n\",\n\t\t    sections[j].params[i].name, t, l, \" \",\n\t\t    conv_to_system(cmt));\n\t    i++;\n\t}\n    }\n}\n\nint\nstr_to_bool(char *value, int old)\n{\n    if (value == NULL)\n\treturn 1;\n    switch (TOLOWER(*value)) {\n    case '0':\n    case 'f':\t\t\t/* false */\n    case 'n':\t\t\t/* no */\n    case 'u':\t\t\t/* undef */\n\treturn 0;\n    case 'o':\n\tif (TOLOWER(value[1]) == 'f')\t/* off */\n\t    return 0;\n\treturn 1;\t\t/* on */\n    case 't':\n\tif (TOLOWER(value[1]) == 'o')\t/* toggle */\n\t    return !old;\n\treturn 1;\t\t/* true */\n    case '!':\n    case 'r':\t\t\t/* reverse */\n    case 'x':\t\t\t/* exchange */\n\treturn !old;\n    }\n    return 1;\n}\n\n#ifdef USE_COLOR\nstatic int\nstr_to_color(char *value)\n{\n    if (value == NULL)\n\treturn 8;\t\t/* terminal */\n    switch (TOLOWER(*value)) {\n    case '0':\n\treturn 0;\t\t/* black */\n    case '1':\n    case 'r':\n\treturn 1;\t\t/* red */\n    case '2':\n    case 'g':\n\treturn 2;\t\t/* green */\n    case '3':\n    case 'y':\n\treturn 3;\t\t/* yellow */\n    case '4':\n\treturn 4;\t\t/* blue */\n    case '5':\n    case 'm':\n\treturn 5;\t\t/* magenta */\n    case '6':\n    case 'c':\n\treturn 6;\t\t/* cyan */\n    case '7':\n    case 'w':\n\treturn 7;\t\t/* white */\n    case '8':\n    case 't':\n\treturn 8;\t\t/* terminal */\n    case 'b':\n\tif (!strncasecmp(value, \"blu\", 3))\n\t    return 4;\t\t/* blue */\n\telse\n\t    return 0;\t\t/* black */\n    }\n    return 8;\t\t\t/* terminal */\n}\n#endif\n\nstatic int\nset_param(char *name, char *value)\n{\n    struct param_ptr *p;\n    double ppc;\n\n    if (value == NULL)\n\treturn 0;\n    p = search_param(name);\n    if (p == NULL)\n\treturn 0;\n    switch (p->type) {\n    case P_INT:\n\tif (atoi(value) >= 0)\n\t    *(int *)p->varptr = (p->inputtype == PI_ONOFF)\n\t\t? str_to_bool(value, *(int *)p->varptr) : atoi(value);\n\tbreak;\n    case P_NZINT:\n\tif (atoi(value) > 0)\n\t    *(int *)p->varptr = atoi(value);\n\tbreak;\n    case P_SHORT:\n\t*(short *)p->varptr = (p->inputtype == PI_ONOFF)\n\t    ? str_to_bool(value, *(short *)p->varptr) : atoi(value);\n\tbreak;\n    case P_CHARINT:\n\t*(char *)p->varptr = (p->inputtype == PI_ONOFF)\n\t    ? str_to_bool(value, *(char *)p->varptr) : atoi(value);\n\tbreak;\n    case P_CHAR:\n\t*(char *)p->varptr = value[0];\n\tbreak;\n    case P_STRING:\n\t*(char **)p->varptr = value;\n\tbreak;\n#if defined(USE_SSL) && defined(USE_SSL_VERIFY)\n    case P_SSLPATH:\n\tif (value != NULL && value[0] != '\\0')\n\t    *(char **)p->varptr = rcFile(value);\n\telse\n\t    *(char **)p->varptr = NULL;\n\tssl_path_modified = 1;\n\tbreak;\n#endif\n#ifdef USE_COLOR\n    case P_COLOR:\n\t*(int *)p->varptr = str_to_color(value);\n\tbreak;\n#endif\n#ifdef USE_M17N\n    case P_CODE:\n\t*(wc_ces *) p->varptr =\n\t    wc_guess_charset_short(value, *(wc_ces *) p->varptr);\n\tbreak;\n#endif\n    case P_PIXELS:\n\tppc = atof(value);\n\tif (ppc >= MINIMUM_PIXEL_PER_CHAR && ppc <= MAXIMUM_PIXEL_PER_CHAR * 2)\n\t    *(double *)p->varptr = ppc;\n\tbreak;\n    case P_SCALE:\n\tppc = atof(value);\n\tif (ppc >= 10 && ppc <= 1000)\n\t    *(double *)p->varptr = ppc;\n\tbreak;\n    }\n    return 1;\n}\n\nint\nset_param_option(char *option)\n{\n    Str tmp = Strnew();\n    char *p = option, *q;\n\n    while (*p && !IS_SPACE(*p) && *p != '=')\n\tStrcat_char(tmp, *p++);\n    while (*p && IS_SPACE(*p))\n\tp++;\n    if (*p == '=') {\n\tp++;\n\twhile (*p && IS_SPACE(*p))\n\t    p++;\n    }\n    Strlower(tmp);\n    if (set_param(tmp->ptr, p))\n\tgoto option_assigned;\n    q = tmp->ptr;\n    if (!strncmp(q, \"no\", 2)) {\t/* -o noxxx, -o no-xxx, -o no_xxx */\n\tq += 2;\n\tif (*q == '-' || *q == '_')\n\t    q++;\n    }\n    else if (tmp->ptr[0] == '-')\t/* -o -xxx */\n\tq++;\n    else\n\treturn 0;\n    if (set_param(q, \"0\"))\n\tgoto option_assigned;\n    return 0;\n  option_assigned:\n    return 1;\n}\n\nchar *\nget_param_option(char *name)\n{\n    struct param_ptr *p;\n\n    p = search_param(name);\n    return p ? to_str(p)->ptr : NULL;\n}\n\nstatic void\ninterpret_rc(FILE * f)\n{\n    Str line;\n    Str tmp;\n    char *p;\n\n    for (;;) {\n\tline = Strfgets(f);\n\tif (line->length == 0)\t\t/* end of file */\n\t    break;\n\tStrchop(line);\n\tif (line->length == 0)\t\t/* blank line */\n\t    continue;\n\tStrremovefirstspaces(line);\n\tif (line->ptr[0] == '#')\t/* comment */\n\t    continue;\n\ttmp = Strnew();\n\tp = line->ptr;\n\twhile (*p && !IS_SPACE(*p))\n\t    Strcat_char(tmp, *p++);\n\twhile (*p && IS_SPACE(*p))\n\t    p++;\n\tStrlower(tmp);\n\tset_param(tmp->ptr, p);\n    }\n}\n\nvoid\nparse_proxy()\n{\n    if (non_null(HTTP_proxy))\n\tparseURL(HTTP_proxy, &HTTP_proxy_parsed, NULL);\n#ifdef USE_SSL\n    if (non_null(HTTPS_proxy))\n\tparseURL(HTTPS_proxy, &HTTPS_proxy_parsed, NULL);\n#endif\t\t\t\t/* USE_SSL */\n#ifdef USE_GOPHER\n    if (non_null(GOPHER_proxy))\n\tparseURL(GOPHER_proxy, &GOPHER_proxy_parsed, NULL);\n#endif\n    if (non_null(FTP_proxy))\n\tparseURL(FTP_proxy, &FTP_proxy_parsed, NULL);\n    if (non_null(NO_proxy))\n\tset_no_proxy(NO_proxy);\n}\n\n#ifdef USE_COOKIE\nvoid\nparse_cookie()\n{\n    if (non_null(cookie_reject_domains))\n\tCookie_reject_domains = make_domain_list(cookie_reject_domains);\n    if (non_null(cookie_accept_domains))\n\tCookie_accept_domains = make_domain_list(cookie_accept_domains);\n    if (non_null(cookie_avoid_wrong_number_of_dots))\n\tCookie_avoid_wrong_number_of_dots_domains\n\t       \t= make_domain_list(cookie_avoid_wrong_number_of_dots);\n}\n#endif\n\n#ifdef __EMX__\nstatic int\ndo_mkdir(const char *dir, long mode)\n{\n    char *r, abs[_MAX_PATH];\n    size_t n;\n\n    _abspath(abs, rc_dir, _MAX_PATH);\t/* Translate '\\\\' to '/' */\n\n    if (!(n = strlen(abs)))\n\treturn -1;\n\n    if (*(r = abs + n - 1) == '/')\t/* Ignore tailing slash if it is */\n\t*r = 0;\n\n    return mkdir(abs, mode);\n}\n#else\t\t\t\t/* not __EMX__ */\n#ifdef __MINGW32_VERSION\n#define do_mkdir(dir,mode) mkdir(dir)\n#else\n#define do_mkdir(dir,mode) mkdir(dir,mode)\n#endif\t\t\t\t/* not __MINW32_VERSION */\n#endif\t\t\t\t/* not __EMX__ */\n\nstatic void loadSiteconf(void);\n\nvoid\nsync_with_option(void)\n{\n    if (PagerMax < LINES)\n\tPagerMax = LINES;\n    WrapSearch = WrapDefault;\n    parse_proxy();\n#ifdef USE_COOKIE\n    parse_cookie();\n#endif\n    initMailcap();\n    initMimeTypes();\n#ifdef USE_EXTERNAL_URI_LOADER\n    initURIMethods();\n#endif\n#ifdef USE_MIGEMO\n    init_migemo();\n#endif\n#ifdef USE_IMAGE\n    if (fmInitialized && displayImage)\n\tinitImage();\n#else\n    displayImage = FALSE;\t/* XXX */\n#endif\n    loadPasswd();\n    loadPreForm();\n    loadSiteconf();\n\n    if (AcceptLang == NULL || *AcceptLang == '\\0') {\n\t/* TRANSLATORS: \n\t * AcceptLang default: this is used in Accept-Language: HTTP request \n\t * header. For example, ja.po should translate it as\n\t * \"ja;q=1.0, en;q=0.5\" like that.\n\t */\n\tAcceptLang = _(\"en;q=1.0\");\n    }\n    if (AcceptEncoding == NULL || *AcceptEncoding == '\\0')\n\tAcceptEncoding = acceptableEncoding();\n    if (AcceptMedia == NULL || *AcceptMedia == '\\0')\n\tAcceptMedia = acceptableMimeTypes();\n#ifdef USE_UNICODE\n    update_utf8_symbol();\n#endif\n    if (fmInitialized) {\n\tinitKeymap(FALSE);\n#ifdef USE_MOUSE\n\tinitMouseAction();\n#endif\t\t\t\t/* MOUSE */\n#ifdef USE_MENU\n\tinitMenu();\n#endif\t\t\t\t/* MENU */\n    }\n}\n\nvoid\ninit_rc(void)\n{\n    int i;\n    struct stat st;\n    FILE *f;\n\n    if (rc_dir != NULL)\n\tgoto open_rc;\n\n    rc_dir = expandPath(RC_DIR);\n    i = strlen(rc_dir);\n    if (i > 1 && rc_dir[i - 1] == '/')\n\trc_dir[i - 1] = '\\0';\n\n#ifdef USE_M17N\n    display_charset_str = wc_get_ces_list();\n    document_charset_str = display_charset_str;\n    system_charset_str = display_charset_str;\n#endif\n\n    if (stat(rc_dir, &st) < 0) {\n\tif (errno == ENOENT) {\t/* no directory */\n\t    if (do_mkdir(rc_dir, 0700) < 0) {\n\t\t/* fprintf(stderr, \"Can't create config directory (%s)!\\n\", rc_dir); */\n\t\tgoto rc_dir_err;\n\t    }\n\t    else {\n\t\tstat(rc_dir, &st);\n\t    }\n\t}\n\telse {\n\t    /* fprintf(stderr, \"Can't open config directory (%s)!\\n\", rc_dir); */\n\t    goto rc_dir_err;\n\t}\n    }\n    if (!S_ISDIR(st.st_mode)) {\n\t/* not a directory */\n\t/* fprintf(stderr, \"%s is not a directory!\\n\", rc_dir); */\n\tgoto rc_dir_err;\n    }\n    if (!(st.st_mode & S_IWUSR)) {\n\t/* fprintf(stderr, \"%s is not writable!\\n\", rc_dir); */\n\tgoto rc_dir_err;\n    }\n    no_rc_dir = FALSE;\n    tmp_dir = rc_dir;\n\n    if (config_file == NULL)\n\tconfig_file = rcFile(CONFIG_FILE);\n\n    create_option_search_table();\n\n  open_rc:\n    /* open config file */\n    if ((f = fopen(etcFile(W3MCONFIG), \"rt\")) != NULL) {\n\tinterpret_rc(f);\n\tfclose(f);\n    }\n    if ((f = fopen(confFile(CONFIG_FILE), \"rt\")) != NULL) {\n\tinterpret_rc(f);\n\tfclose(f);\n    }\n    if (config_file && (f = fopen(config_file, \"rt\")) != NULL) {\n\tinterpret_rc(f);\n\tfclose(f);\n    }\n    return;\n\n  rc_dir_err:\n    no_rc_dir = TRUE;\n    if (((tmp_dir = getenv(\"TMPDIR\")) == NULL || *tmp_dir == '\\0') &&\n\t((tmp_dir = getenv(\"TMP\")) == NULL || *tmp_dir == '\\0') &&\n\t((tmp_dir = getenv(\"TEMP\")) == NULL || *tmp_dir == '\\0'))\n\ttmp_dir = \"/tmp\";\n    create_option_search_table();\n    goto open_rc;\n}\n\n\nstatic char optionpanel_src1[] =\n    \"<html><head><title>Option Setting Panel</title></head><body>\\\n<h1 align=center>Option Setting Panel<br>(w3m version %s)</b></h1>\\\n<form method=post action=\\\"file:///$LIB/\" W3MHELPERPANEL_CMDNAME \"\\\">\\\n<input type=hidden name=mode value=panel>\\\n<input type=hidden name=cookie value=\\\"%s\\\">\\\n<input type=submit value=\\\"%s\\\">\\\n</form><br>\\\n<form method=internal action=option>\";\n\nstatic Str optionpanel_str = NULL;\n\nstatic Str\nto_str(struct param_ptr *p)\n{\n    switch (p->type) {\n    case P_INT:\n#ifdef USE_COLOR\n    case P_COLOR:\n#endif\n#ifdef USE_M17N\n    case P_CODE:\n\treturn Sprintf(\"%d\", (int)(*(wc_ces *) p->varptr));\n#endif\n    case P_NZINT:\n\treturn Sprintf(\"%d\", *(int *)p->varptr);\n    case P_SHORT:\n\treturn Sprintf(\"%d\", *(short *)p->varptr);\n    case P_CHARINT:\n\treturn Sprintf(\"%d\", *(char *)p->varptr);\n    case P_CHAR:\n\treturn Sprintf(\"%c\", *(char *)p->varptr);\n    case P_STRING:\n#if defined(USE_SSL) && defined(USE_SSL_VERIFY)\n    case P_SSLPATH:\n#endif\n\t/*  SystemCharset -> InnerCharset */\n\treturn Strnew_charp(conv_from_system(*(char **)p->varptr));\n    case P_PIXELS:\n    case P_SCALE:\n\treturn Sprintf(\"%g\", *(double *)p->varptr);\n    }\n    /* not reached */\n    return NULL;\n}\n\nBuffer *\nload_option_panel(void)\n{\n    Str src;\n    struct param_ptr *p;\n    struct sel_c *s;\n#ifdef USE_M17N\n    wc_ces_list *c;\n#endif\n    int x, i;\n    Str tmp;\n    Buffer *buf;\n\n    if (optionpanel_str == NULL)\n\toptionpanel_str = Sprintf(optionpanel_src1, w3m_version,\n\t\t\t      html_quote(localCookie()->ptr), _(CMT_HELPER));\n#ifdef USE_M17N\n#ifdef ENABLE_NLS\n    OptionCharset = SystemCharset;\t/* FIXME */\n#endif\n    if (!OptionEncode) {\n\toptionpanel_str =\n\t    wc_Str_conv(optionpanel_str, OptionCharset, InnerCharset);\n\tfor (i = 0; sections[i].name != NULL; i++) {\n\t    sections[i].name =\n\t\twc_conv(_(sections[i].name), OptionCharset,\n\t\t\tInnerCharset)->ptr;\n\t    for (p = sections[i].params; p->name; p++) {\n\t\tp->comment =\n\t\t    wc_conv(_(p->comment), OptionCharset,\n\t\t\t    InnerCharset)->ptr;\n\t\tif (p->inputtype == PI_SEL_C\n#ifdef USE_COLOR\n\t\t\t&& p->select != colorstr\n#endif\n\t\t\t) {\n\t\t    for (s = (struct sel_c *)p->select; s->text != NULL; s++) {\n\t\t\ts->text =\n\t\t\t    wc_conv(_(s->text), OptionCharset,\n\t\t\t\t    InnerCharset)->ptr;\n\t\t    }\n\t\t}\n\t    }\n\t}\n#ifdef USE_COLOR\n\tfor (s = colorstr; s->text; s++)\n\t    s->text = wc_conv(_(s->text), OptionCharset,\n\t\t\t      InnerCharset)->ptr;\n#endif\n\tOptionEncode = TRUE;\n    }\n#endif\n    src = Strdup(optionpanel_str);\n\n    Strcat_charp(src, \"<table><tr><td>\");\n    for (i = 0; sections[i].name != NULL; i++) {\n\tStrcat_m_charp(src, \"<h1>\", sections[i].name, \"</h1>\", NULL);\n\tp = sections[i].params;\n\tStrcat_charp(src, \"<table width=100% cellpadding=0>\");\n\twhile (p->name) {\n\t    Strcat_m_charp(src, \"<tr><td>\", p->comment, NULL);\n\t    Strcat(src, Sprintf(\"</td><td width=%d>\",\n\t\t\t\t(int)(28 * pixel_per_char)));\n\t    switch (p->inputtype) {\n\t    case PI_TEXT:\n\t\tStrcat_m_charp(src, \"<input type=text name=\",\n\t\t\t       p->name,\n\t\t\t       \" value=\\\"\",\n\t\t\t       html_quote(to_str(p)->ptr), \"\\\">\", NULL);\n\t\tbreak;\n\t    case PI_ONOFF:\n\t\tx = atoi(to_str(p)->ptr);\n\t\tStrcat_m_charp(src, \"<input type=radio name=\",\n\t\t\t       p->name,\n\t\t\t       \" value=1\",\n\t\t\t       (x ? \" checked\" : \"\"),\n\t\t\t       \">YES&nbsp;&nbsp;<input type=radio name=\",\n\t\t\t       p->name,\n\t\t\t       \" value=0\", (x ? \"\" : \" checked\"), \">NO\", NULL);\n\t\tbreak;\n\t    case PI_SEL_C:\n\t\ttmp = to_str(p);\n\t\tStrcat_m_charp(src, \"<select name=\", p->name, \">\", NULL);\n\t\tfor (s = (struct sel_c *)p->select; s->text != NULL; s++) {\n\t\t    Strcat_charp(src, \"<option value=\");\n\t\t    Strcat(src, Sprintf(\"%s\\n\", s->cvalue));\n\t\t    if ((p->type != P_CHAR && s->value == atoi(tmp->ptr)) ||\n\t\t\t(p->type == P_CHAR && (char)s->value == *(tmp->ptr)))\n\t\t\tStrcat_charp(src, \" selected\");\n\t\t    Strcat_char(src, '>');\n\t\t    Strcat_charp(src, s->text);\n\t\t}\n\t\tStrcat_charp(src, \"</select>\");\n\t\tbreak;\n#ifdef USE_M17N\n\t    case PI_CODE:\n\t\ttmp = to_str(p);\n\t\tStrcat_m_charp(src, \"<select name=\", p->name, \">\", NULL);\n\t\tfor (c = *(wc_ces_list **) p->select; c->desc != NULL; c++) {\n\t\t    Strcat_charp(src, \"<option value=\");\n\t\t    Strcat(src, Sprintf(\"%s\\n\", c->name));\n\t\t    if (c->id == atoi(tmp->ptr))\n\t\t\tStrcat_charp(src, \" selected\");\n\t\t    Strcat_char(src, '>');\n\t\t    Strcat_charp(src, c->desc);\n\t\t}\n\t\tStrcat_charp(src, \"</select>\");\n\t\tbreak;\n#endif\n\t    }\n\t    Strcat_charp(src, \"</td></tr>\\n\");\n\t    p++;\n\t}\n\tStrcat_charp(src,\n\t\t     \"<tr><td></td><td><p><input type=submit value=\\\"OK\\\"></td></tr>\");\n\tStrcat_charp(src, \"</table><hr width=50%>\");\n    }\n    Strcat_charp(src, \"</table></form></body></html>\");\n    buf = loadHTMLString(src);\n#ifdef USE_M17N\n    if (buf)\n\tbuf->document_charset = OptionCharset;\n#endif\n    return buf;\n}\n\nvoid\npanel_set_option(struct parsed_tagarg *arg)\n{\n    FILE *f = NULL;\n    char *p;\n    Str s = Strnew(), tmp;\n\n    if (config_file == NULL) {\n\tdisp_message(\"There's no config file... config not saved\", FALSE);\n    }\n    else {\n\tf = fopen(config_file, \"wt\");\n\tif (f == NULL) {\n\t    disp_message(\"Can't write option!\", FALSE);\n\t}\n    }\n    while (arg) {\n\t/*  InnerCharset -> SystemCharset */\n\tif (arg->value) {\n\t    p = conv_to_system(arg->value);\n\t    if (set_param(arg->arg, p)) {\n\t\ttmp = Sprintf(\"%s %s\\n\", arg->arg, p);\n\t\tStrcat(tmp, s);\n\t\ts = tmp;\n\t    }\n\t}\n\targ = arg->next;\n    }\n    if (f) {\n\tfputs(s->ptr, f);\n\tfclose(f);\n    }\n    sync_with_option();\n    backBf();\n}\n\nchar *\nrcFile(char *base)\n{\n    if (base &&\n\t(base[0] == '/' ||\n\t (base[0] == '.'\n\t  && (base[1] == '/' || (base[1] == '.' && base[2] == '/')))\n\t || (base[0] == '~' && base[1] == '/')))\n\t/* /file, ./file, ../file, ~/file */\n\treturn expandPath(base);\n    return expandPath(Strnew_m_charp(rc_dir, \"/\", base, NULL)->ptr);\n}\n\nchar *\nauxbinFile(char *base)\n{\n    return expandPath(Strnew_m_charp(w3m_auxbin_dir(), \"/\", base, NULL)->ptr);\n}\n\n#if 0\t\t\t\t/* not used */\nchar *\nlibFile(char *base)\n{\n    return expandPath(Strnew_m_charp(w3m_lib_dir(), \"/\", base, NULL)->ptr);\n}\n#endif\n\nchar *\netcFile(char *base)\n{\n    return expandPath(Strnew_m_charp(w3m_etc_dir(), \"/\", base, NULL)->ptr);\n}\n\nchar *\nconfFile(char *base)\n{\n    return expandPath(Strnew_m_charp(w3m_conf_dir(), \"/\", base, NULL)->ptr);\n}\n\n#ifndef USE_HELP_CGI\nchar *\nhelpFile(char *base)\n{\n    return expandPath(Strnew_m_charp(w3m_help_dir(), \"/\", base, NULL)->ptr);\n}\n#endif\n\n/* siteconf */\n/*\n * url \"<url>\"|/<re-url>/|m@<re-url>@i [exact]\n * substitute_url \"<destination-url>\"\n * url_charset <charset>\n * no_referer_from on|off\n * no_referer_to on|off\n * \n * The last match wins.\n */\n\nstruct siteconf_rec {\n    struct siteconf_rec *next;\n    char *url;\n    Regex *re_url;\n    int url_exact;\n    unsigned char mask[(SCONF_N_FIELD + 7) >> 3];\n\n    char *substitute_url;\n#ifdef USE_M17N\n    wc_ces url_charset;\n#endif\n    int no_referer_from;\n    int no_referer_to;\n};\n#define SCONF_TEST(ent, f) ((ent)->mask[(f)>>3] & (1U<<((f)&7)))\n#define SCONF_SET(ent, f) ((ent)->mask[(f)>>3] |= (1U<<((f)&7)))\n#define SCONF_CLEAR(ent, f) ((ent)->mask[(f)>>3] &= ~(1U<<((f)&7)))\n\nstatic struct siteconf_rec *siteconf_head = NULL;\nstatic struct siteconf_rec *newSiteconfRec(void);\n\nstatic struct siteconf_rec *\nnewSiteconfRec(void)\n{\n    struct siteconf_rec *ent;\n\n    ent = New(struct siteconf_rec);\n    ent->next = NULL;\n    ent->url = NULL;\n    ent->re_url = NULL;\n    ent->url_exact = FALSE;\n    memset(ent->mask, 0, sizeof(ent->mask));\n\n    ent->substitute_url = NULL;\n#ifdef USE_M17N\n    ent->url_charset = 0;\n#endif\n    return ent;\n}\n\nstatic void\nloadSiteconf(void)\n{\n    char *efname;\n    FILE *fp;\n    Str line;\n    struct siteconf_rec *ent = NULL;\n\n    siteconf_head = NULL;\n    if (!siteconf_file)\n\treturn;\n    if ((efname = expandPath(siteconf_file)) == NULL)\n\treturn;\n    fp = fopen(efname, \"r\");\n    if (fp == NULL)\n\treturn;\n    while (line = Strfgets(fp), line->length > 0) {\n\tchar *p, *s;\n\n\tStrchop(line);\n\tp = line->ptr;\n\tSKIP_BLANKS(p);\n\tif (*p == '#' || *p == '\\0')\n\t    continue;\n\ts = getWord(&p);\n\n\t/* The \"url\" begins a new record. */\n\tif (strcmp(s, \"url\") == 0) {\n\t    char *url, *opt;\n\t    struct siteconf_rec *newent;\n\n\t    /* First, register the current record. */\n\t    if (ent) {\n\t\tent->next = siteconf_head;\n\t\tsiteconf_head = ent;\n\t\tent = NULL;\n\t    }\n\n\t    /* Second, create a new record. */\n\t    newent = newSiteconfRec();\n\t    url = getRegexWord((const char **)&p, &newent->re_url);\n\t    opt = getWord(&p);\n\t    SKIP_BLANKS(p);\n\t    if (!newent->re_url) {\n\t\tParsedURL pu;\n\t\tif (!url || !*url)\n\t\t    continue;\n\t\tparseURL2(url, &pu, NULL);\n\t\tnewent->url = parsedURL2Str(&pu)->ptr;\n\t    }\n\t    /* If we have an extra or unknown option, ignore this record\n\t     * for future extensions. */\n\t    if (strcmp(opt, \"exact\") == 0) {\n\t\tnewent->url_exact = TRUE;\n\t    }\n\t    else if (*opt != 0)\n\t\t    continue;\n\t    if (*p)\n\t\tcontinue;\n\t    ent = newent;\n\t    continue;\n\t}\n\n\t/* If the current record is broken, skip to the next \"url\". */\n\tif (!ent)\n\t    continue;\n\n\t/* Fill the new record. */\n\tif (strcmp(s, \"substitute_url\") == 0) {\n\t    ent->substitute_url = getQWord(&p);\n\t    SCONF_SET(ent, SCONF_SUBSTITUTE_URL);\n\t}\n#ifdef USE_M17N\n\telse if (strcmp(s, \"url_charset\") == 0) {\n\t    char *charset = getWord(&p);\n\t    ent->url_charset = (charset && *charset) ?\n\t\twc_charset_to_ces(charset) : 0;\n\t    SCONF_SET(ent, SCONF_URL_CHARSET);\n\t}\n#endif /* USE_M17N */\n\telse if (strcmp(s, \"no_referer_from\") == 0) {\n\t    ent->no_referer_from = str_to_bool(getWord(&p), 0);\n\t    SCONF_SET(ent, SCONF_NO_REFERER_FROM);\n\t}\n\telse if (strcmp(s, \"no_referer_to\") == 0) {\n\t    ent->no_referer_to = str_to_bool(getWord(&p), 0);\n\t    SCONF_SET(ent, SCONF_NO_REFERER_TO);\n\t}\n    }\n    if (ent) {\n\tent->next = siteconf_head;\n\tsiteconf_head = ent;\n\tent = NULL;\n    }\n    fclose(fp);\n}\n\nconst void *\nquerySiteconf(const ParsedURL *query_pu, int field)\n{\n    const struct siteconf_rec *ent;\n    Str u;\n    char *firstp, *lastp;\n\n    if (field < 0 || field >= SCONF_N_FIELD)\n\treturn NULL;\n    if (!query_pu || IS_EMPTY_PARSED_URL(query_pu))\n\treturn NULL;\n    u = parsedURL2Str((ParsedURL *)query_pu);\n    if (u->length == 0)\n\treturn NULL;\n\n    for (ent = siteconf_head; ent; ent = ent->next) {\n\tif (!SCONF_TEST(ent, field))\n\t    continue;\n\tif (ent->re_url) {\n\t    if (RegexMatch(ent->re_url, u->ptr, u->length, 1)) {\n\t\tMatchedPosition(ent->re_url, &firstp, &lastp);\n\t\tif (!ent->url_exact)\n\t\t    goto url_found;\n\t\tif (firstp != u->ptr || lastp == firstp)\n\t\t    continue;\n\t\tif (*lastp == 0 || *lastp == '?' || *(lastp - 1) == '?' ||\n\t\t    *lastp == '#' || *(lastp - 1) == '#')\n\t\t    goto url_found;\n\t    }\n\t} else {\n\t    int matchlen = strmatchlen(ent->url, u->ptr, u->length);\n\t    if (matchlen == 0 || ent->url[matchlen] != 0)\n\t\tcontinue;\n\t    firstp = u->ptr;\n\t    lastp = u->ptr + matchlen;\n\t    if (*lastp == 0 || *lastp == '?' || *(lastp - 1) == '?' ||\n\t\t*lastp == '#' || *(lastp - 1) == '#')\n\t\tgoto url_found;\n\t    if (!ent->url_exact && (*lastp == '/' || *(lastp - 1) == '/'))\n\t\tgoto url_found;\n\t}\n    }\n    return NULL;\n\nurl_found:\n    switch (field) {\n    case SCONF_SUBSTITUTE_URL:\n\tif (ent->substitute_url && *ent->substitute_url) {\n\t    Str tmp = Strnew_charp_n(u->ptr, firstp - u->ptr);\n\t    Strcat_charp(tmp, ent->substitute_url);\n\t    Strcat_charp(tmp, lastp);\n\t    return tmp->ptr;\n\t}\n\treturn NULL;\n#ifdef USE_M17N\n    case SCONF_URL_CHARSET:\n\treturn &ent->url_charset;\n#endif\n    case SCONF_NO_REFERER_FROM:\n\treturn &ent->no_referer_from;\n    case SCONF_NO_REFERER_TO:\n\treturn &ent->no_referer_to;\n    }\n    return NULL;\n}\n"], "fixing_code": ["/*\n * Configuration for w3m\n * This is sample.  ./configure will generate config.h for you.\n */\n\n#ifndef _CONFIGURED_\n#define _CONFIGURED_\n\n/* User Configuration */\n\n/* \n   If you define USE_DICT, you can use dictionary look-up function\n   in w3m. See README.dict for detail.\n*/\n#define USE_DICT\n\n/*\n   If you want to load and save URL history.\n */\n#define USE_HISTORY\n\n/*\n   USE_BG_COLOR enables w3m to set background color.\n */\n#define USE_BG_COLOR\n\n/*\n * Do word fill\n */\n#undef FORMAT_NICE\n\n/*\n * Enable id attribute\n */\n#define ID_EXT\n\n/*\n * Save Current-buffer Information\n */\n#undef BUFINFO\n\n/*\n * Support EGD (Entropy Gathering Daemon)\n */\n#undef USE_EGD\n\n/*\n * Remove line trailing spaces in html buffer.\n */\n#undef ENABLE_REMOVE_TRAILINGSPACES\n\n/*\n * thin chars for menu frame\n */\n#undef MENU_THIN_FRAME\n\n/*\n * Use raw scroll\n */\n#undef USE_RAW_SCROLL\n\n/*\n */\n#undef TABLE_EXPAND\n#undef TABLE_NO_COMPACT\n#define NOWRAP\n#define MATRIX\n\n/**********************************************************/\n#ifdef makefile_parameter\n\nBIN_DIR = /usr/local/bin\nAUXBIN_DIR = /usr/local/lib/w3m\nCGIBIN_DIR = /usr/local/lib/w3m/cgi-bin\nHELP_DIR = /usr/local/share/w3m\nMAN_DIR = /usr/local/man\nMAN1_DIR = $(MAN_DIR)/man1\nMAN1_JA_DIR = $(MAN_DIR)/ja/man1\nETC_DIR = /usr/local/etc/w3m\nRC_DIR = ~/.w3m\nHELP_FILE = w3mhelp-w3m_ja.html\nRC_DIR = ~/.w3m/\nSYS_LIBRARIES = -lgpm  -lbsd -lnsl -lncurses  -L/usr/lib -L/usr/lib -L/usr/local/ssl/lib -L/usr/local/ssl/lib -lssl -lcrypto \nLOCAL_LIBRARIES = \nCC = gcc\nMYCFLAGS = -O -I./gc/include  -I/usr/local/ssl/include/openssl -I/usr/local/ssl/include\nGCCFLAGS = -O -I./gc/include -I./$(srcdir)/include -DATOMIC_UNCOLLECTABLE -DNO_SIGNALS -DNO_EXECUTE_PERMISSION -DSILENT -DALL_INTERIOR_POINTERS\nKEYBIND_SRC = keybind.c\nKEYBIND_OBJ = keybind.o\nEXT=\nMATHLIB=-lm\nZ_CFLAGS=-I/usr/include\nZLIB=-L/usr/lib -lz\nAUXBIN_TARGETS=$(INFLATE)\nLIB_TARGETS=$(BOOKMARKER) $(HELPER)\nIMGCFLAGS=\nIMGLDFLAGS=\nIMGX11CFLAGS=\nIMGFBCFLAGS=\nIMGOBJS=\nGC_CFLAGS=\nGCLIB=gc/gc.a\nGCTARGET=gc/gc.a\nRANLIB=ranlib\nMKDIR=mkdir -p\nPERL=/usr/local/bin/perl\nVERSION=0.2.2\nMODEL=Linux.i686-monster-ja\nINSTALL_W3MIMGDISPLAY=$(INSTALL_PROGRAM)\n#else\n\n\n#define DISPLAY_CODE 'E'\n#define SYSTEM_CODE 'E'\n\n#define JA 0\n#define EN 1\n#define LANG JA\n#define KANJI_SYMBOLS\n#define USE_COLOR\n#undef USE_ANSI_COLOR\n#undef USE_MIGEMO\n#undef USE_MARK\n#define USE_MOUSE\n#define USE_GPM\n#undef USE_SYSMOUSE\n#define USE_MENU\n#define USE_COOKIE\n#define USE_DIGEST_AUTH\n#define USE_SSL\n#undef USE_SSL_VERIFY\n#undef USE_NNTP\n#undef USE_GOPHER\n#define USE_EXTERNAL_URI_LOADER\n#undef USE_ALARM\n#undef USE_IMAGE\n#undef USE_W3MIMG_X11\n#undef USE_W3MIMG_FB\n#undef USE_IMLIB\n#undef USE_GDKPIXBUF\n#undef USE_IMLIB2\n#define USE_HELP_CGI\n#undef USE_XFACE\n\n#define DEF_EDITOR \"/bin/vi\"\n#define DEF_MAILER \"/bin/mail\"\n#define DEF_EXT_BROWSER \"/usr/bin/netscape\"\n\n/* fallback viewer. mailcap override these configuration */\n#define DEF_IMAGE_VIEWER\t\"xv\"\n#define DEF_AUDIO_PLAYER\t\"showaudio\"\n\n/* for USE_MIGEMO */\n#define DEF_MIGEMO_COMMAND\t\"migemo -t egrep /usr/share/migemo/migemo-dict\"\n\n#define AUXBIN_DIR   \"/usr/local/lib/w3m\"\n#define CGIBIN_DIR      \"/usr/local/lib/w3m/cgi-bin\"\n#define HELP_DIR     \"/usr/local/lib/w3m\"\n#define ETC_DIR\t     \"/usr/local/etc/w3m\"\n#define HELP_FILE    \"w3mhelp.html\"\n#define HELP_CGI     \"w3mhelp\"\n#define W3MCONFIG    \"w3mconfig\"\n#define IMGDISPLAY   \"w3mimgdisplay\"\n#define XFACE2XPM    \"xface2xpm\"\n\n#define RC_DIR       \"~/.w3m\"\n#define BOOKMARK     \"bookmark.html\"\n#define CONFIG_FILE  \"config\"\n#define KEYMAP_FILE  \"keymap\"\n#define MENU_FILE    \"menu\"\n#define COOKIE_FILE  \"cookie\"\n#define HISTORY_FILE \"history\"\n\n#define PASSWD_FILE RC_DIR \"/passwd\"\n#define PRE_FORM_FILE RC_DIR \"/pre_form\"\n#define USER_MAILCAP RC_DIR \"/mailcap\"\n#define SYS_MAILCAP  \"/etc/mailcap\"\n#define USER_MIMETYPES \"~/.mime.types\"\n#define SYS_MIMETYPES \"/usr/local/lib/mime.types\"\n#define USER_URIMETHODMAP RC_DIR \"/urimethodmap\"\n#define SYS_URIMETHODMAP  ETC_DIR \"/urimethodmap\"\n\n#define DEF_SAVE_FILE \"index.html\"\n\n#undef USE_BINMODE_STREAM\n#define HAVE_TERMIOS_H\n#define HAVE_DIRENT_H\ntypedef long clen_t;\n#undef HAVE_STRTOLL\n#undef HAVE_STRTOQ\n#undef HAVE_ATOLL\n#undef HAVE_ATOQ\n#define HAVE_STRCASECMP\n#define HAVE_STRCASESTR\n#define HAVE_STRCHR\n#define HAVE_STRERROR\n#define HAVE_SYS_ERRLIST\n#define HAVE_BCOPY\n#define HAVE_WAITPID\n#define HAVE_WAIT3\n#define HAVE_STRFTIME\n#define HAVE_GETCWD\n#define HAVE_GETWD\n#define HAVE_SYMLINK\n#define HAVE_READLINK\n#define HAVE_LSTAT\n#define HAVE_SETENV\n#define HAVE_PUTENV\n#define HAVE_SRAND48\n#define HAVE_SRANDOM\n#undef HAVE_GETPASSPHRASE\n#define HAVE_CHDIR\n#define HAVE_MKDTEMP\n\n\n#define SETJMP(env) sigsetjmp(env,1)\n#define LONGJMP(env,val) siglongjmp(env,val)\n#define JMP_BUF sigjmp_buf\n#define HAVE_FLOAT_H\n#define HAVE_SYS_SELECT_H\n\ntypedef void MySignalHandler;\n#define SIGNAL_ARG int _dummy\n#define SIGNAL_ARGLIST 0\n#define SIGNAL_RETURN return\n#define HAVE_SETPGRP\n\n/*\n   If you want to use IPv6, define this symbol.\n */\n#undef INET6\n\n/** dont edit below **/\n#ifndef HAVE_SRAND48\n#ifdef HAVE_SRANDOM\n#define srand48 srandom\n#define lrand48 random\n#else /* HAVE_SRANDOM */\n#define USE_INCLUDED_SRAND48\n#endif /* HAVE_SRANDOM */\n#endif\n\n#ifndef HAVE_LSTAT\n#define lstat stat\n#endif\n\n#if defined( __CYGWIN32__ ) && !defined( __CYGWIN__ )\n#define __CYGWIN__\n#endif\n\n#if defined( __CYGWIN__ ) || defined( __EMX__ )\n#define SUPPORT_DOS_DRIVE_PREFIX 1\n#endif\n\n#if defined( __CYGWIN__ )\n#define SUPPORT_NETBIOS_SHARE 1\n#endif\n\n#if defined(__DJGPP__)\n#define DEFAULT_TERM\t\"dosansi\"\n#else\n#define DEFAULT_TERM\t0\t/* XXX */\n#endif\n\n#if defined(__EMX__) /* use $extension? */\n#define GUNZIP_CMDNAME  \"gzip\"\n#define BUNZIP2_CMDNAME \"bzip2\"\n#define INFLATE_CMDNAME  \"inflate.exe\"\n#define W3MBOOKMARK_CMDNAME\t\"w3mbookmark.exe\"\n#define W3MHELPERPANEL_CMDNAME\t\"w3mhelperpanel.exe\"\n#define DEV_NULL_PATH\t\"nul\"\n#define DEV_TTY_PATH\t\"con\"\n#define CGI_EXTENSION\t\".cmd\"\n#else\n#define GUNZIP_CMDNAME  \"gunzip\"\n#define BUNZIP2_CMDNAME \"bunzip2\"\n#define INFLATE_CMDNAME  \"inflate\"\n#define W3MBOOKMARK_CMDNAME\t\"w3mbookmark\"\n#define W3MHELPERPANEL_CMDNAME\t\"w3mhelperpanel\"\n#define DEV_NULL_PATH\t\"/dev/null\"\n#define DEV_TTY_PATH\t\"/dev/tty\"\n#define CGI_EXTENSION\t\".cgi\"\n#endif\n\n#define PATH_SEPARATOR\t':'\n#define GUNZIP_NAME  \"gunzip\"\n#define BUNZIP2_NAME \"bunzip2\"\n#define INFLATE_NAME \"inflate\"\n\n#endif /* makefile_parameter */\n#endif /* _CONFIGURED_ */\n\n", "#ifndef CONFIG_H_SEEN\n#define CONFIG_H_SEEN\n/*\n * Configuration for w3m\n */\n#define JA 0\n#define EN 1\n\n/* Name of package */\n#undef PACKAGE\n\n#define HELP_FILE    \"w3mhelp.html\"\n#define HELP_CGI     \"w3mhelp\"\n#define W3MCONFIG    \"w3mconfig\"\n#define IMGDISPLAY   \"w3mimgdisplay\"\n#define XFACE2XPM    \"xface2xpm\"\n\n#define BOOKMARK     \"bookmark.html\"\n#define CONFIG_FILE  \"config\"\n#define KEYMAP_FILE  \"keymap\"\n#define MENU_FILE    \"menu\"\n#define MOUSE_FILE   \"mouse\"\n#define COOKIE_FILE  \"cookie\"\n#define HISTORY_FILE \"history\"\n\n#define PASSWD_FILE\tRC_DIR \"/passwd\"\n#define PRE_FORM_FILE\tRC_DIR \"/pre_form\"\n#define SITECONF_FILE\tRC_DIR \"/siteconf\"\n#define USER_MAILCAP\tRC_DIR \"/mailcap\"\n#define SYS_MAILCAP\tCONF_DIR \"/mailcap\"\n#define USER_MIMETYPES\t\"~/.mime.types\"\n#define SYS_MIMETYPES\tETC_DIR \"/mime.types\"\n#define USER_URIMETHODMAP\tRC_DIR \"/urimethodmap\"\n#define SYS_URIMETHODMAP\tCONF_DIR \"/urimethodmap\"\n\n#define DEF_SAVE_FILE \"index.html\"\n\n/* User Configuration */\n#define DISPLAY_CHARSET @DISPLAY_CHARSET@\n#define SYSTEM_CHARSET @SYSTEM_CHARSET@\n#define DOCUMENT_CHARSET @DOCUMENT_CHARSET@\n#undef USE_M17N\n#undef USE_UNICODE\n#define W3M_LANG @W3M_LANG@\n#define LANG W3M_LANG\n\n/* Define to 1 if translation of program messages to the user's\n   native language is requested. */\n#undef ENABLE_NLS\n\n#undef USE_COLOR\n#undef USE_ANSI_COLOR\n#undef USE_BG_COLOR\n#undef USE_MIGEMO\n#define USE_MARK\n#undef USE_MOUSE\n#undef USE_GPM\n#undef USE_SYSMOUSE\n#undef USE_MENU\n#undef USE_COOKIE\n#undef USE_DIGEST_AUTH\n#undef USE_SSL\n#undef USE_SSL_VERIFY\n#undef USE_HELP_CGI\n#undef USE_EXTERNAL_URI_LOADER\n#undef USE_W3MMAILER\n#undef USE_NNTP\n#undef USE_GOPHER\n#undef USE_ALARM\n#undef USE_IMAGE\n#undef USE_W3MIMG_X11\n#undef USE_W3MIMG_FB\n#undef USE_W3MIMG_WIN\n#undef W3MIMGDISPLAY_SETUID\n#undef USE_IMLIB\n#undef USE_GDKPIXBUF\n#undef USE_GTK2\n#undef USE_IMLIB2\n#undef USE_XFACE\n#undef USE_DICT\n#undef USE_HISTORY\n#undef FORMAT_NICE\n#define ID_EXT\n#undef CLEAR_BUF\n#undef INET6\n#undef HAVE_SOCKLEN_T\n#undef HAVE_OLD_SS_FAMILY\n#undef USE_EGD\n#define ENABLE_REMOVE_TRAILINGSPACES\n#undef MENU_THIN_FRAME\n#undef USE_RAW_SCROLL\n#undef TABLE_EXPAND\n#undef TABLE_NO_COMPACT\n#define NOWRAP\n#define MATRIX\n\n#define DEF_EDITOR \"@DEF_EDITOR@\"\n#define DEF_MAILER \"@DEF_MAILER@\n#define DEF_EXT_BROWSER \"@DEF_EXT_BROWSER@\"\n\n/* fallback viewer. mailcap override these configuration */\n#define DEF_IMAGE_VIEWER\t\"display\"\n#define DEF_AUDIO_PLAYER\t\"showaudio\"\n\n/* for USE_MIGEMO */\n#define DEF_MIGEMO_COMMAND\t\"@DEF_MIGEMO_COMMAND@\"\n\n#undef USE_BINMODE_STREAM\n#undef HAVE_TERMIOS_H\n#undef HAVE_TERMIO_H\n#undef HAVE_SGTTY_H\n#undef HAVE_DIRENT_H\n#undef HAVE_LOCALE_H\n#undef HAVE_STDINT_H\n#undef HAVE_INTTYPES_H\n#define SIZEOF_LONG_LONG 8\n#if SIZEOF_LONG_LONG > 0\ntypedef long long clen_t;\n#else\ntypedef long clen_t;\n#endif\n#undef HAVE_STRTOLL\n#undef HAVE_STROQ\n#undef HAVE_ATOLL\n#undef HAVE_ATOQ\n#undef HAVE_STRCASECMP\n#undef HAVE_STRCASESTR\n#undef HAVE_STRCHR\n#undef HAVE_STRERROR\n#undef HAVE_SYS_ERRLIST\n#undef HAVE_BCOPY\n#undef HAVE_WAITPID\n#undef HAVE_WAIT3\n#undef HAVE_STRFTIME\n#undef HAVE_GETCWD\n#undef HAVE_GETWD\n#undef HAVE_SYMLINK\n#undef HAVE_READLINK\n#undef HAVE_LSTAT\n#undef HAVE_SETENV\n#undef HAVE_PUTENV\n#undef HAVE_SRAND48\n#undef HAVE_SRANDOM\n#undef HAVE_GETPASSPHRASE\n#undef HAVE_CHDIR\n#undef HAVE_MKDTEMP\n#undef HAVE_SETPGRP\n#undef HAVE_SETLOCALE\n#undef HAVE_LANGINFO_CODESET\n\n#undef SETPGRP_VOID\n#ifdef HAVE_SETPGRP\n#ifdef SETPGRP_VOID\n#define SETPGRP() setpgrp()\n#else\n#define SETPGRP() setpgrp(0,0)\n#endif\n#else /* no HAVE_SETPGRP; OS/2 EMX */\n#define SETPGRP() setpgid(0, 0)\n#endif\n#undef HAVE_FLOAT_H\n#undef HAVE_SYS_SELECT_H\n\n#undef HAVE_SIGSETJMP\n\n#define RETSIGTYPE @RETSIGTYPE@\ntypedef RETSIGTYPE MySignalHandler;\n#define SIGNAL_ARG int _dummy\t/* XXX */\n#define SIGNAL_ARGLIST 0\t/* XXX */\n#define SIGNAL_RETURN @SIGNAL_RETURN@\n\n#ifdef HAVE_SIGSETJMP\n#ifdef __MINGW32_VERSION\n# define SETJMP(env) setjmp(env)\n# define LONGJMP(env,val) longjmp(env, val)\n# define JMP_BUF jmp_buf\n#else\n# define SETJMP(env) sigsetjmp(env,1)\n# define LONGJMP(env,val) siglongjmp(env,val)\n# define JMP_BUF sigjmp_buf\n#endif /* __MINGW32_VERSION */\n#else\n# define SETJMP(env) setjmp(env)\n# define LONGJMP(env,val) longjmp(env)\n# define JMP_BUF jmp_buf\n#endif\n\n#ifndef HAVE_SRAND48\n#ifdef HAVE_SRANDOM\n#define srand48 srandom\n#define lrand48 random\n#else /* HAVE_SRANDOM */\n#define USE_INCLUDED_SRAND48\n#endif /* HAVE_SRANDOM */\n#endif\n\n#ifndef HAVE_LSTAT\n#define lstat stat\n#endif\n\n#if defined( __CYGWIN32__ ) && !defined( __CYGWIN__ )\n#define __CYGWIN__\n#endif\n\n#if defined( __CYGWIN__ ) || defined( __EMX__ )\n#define SUPPORT_DOS_DRIVE_PREFIX 1\n#endif\n\n#if defined( __CYGWIN__ )\n#define SUPPORT_NETBIOS_SHARE 1\n#define SUPPORT_WIN9X_CONSOLE_MBCS 1\n#endif\n\n#if defined(__CYGWIN__) && defined(__x86_64__)\n#define DONT_CALL_GC_AFTER_FORK\n#endif\n\n#if defined(__DJGPP__)\n#define DEFAULT_TERM\t\"dosansi\"\n#else\n#define DEFAULT_TERM\t0\t/* XXX */\n#endif\n\n#if defined(__EMX__) /* use $extension? */\n#define GUNZIP_CMDNAME  \"gzip\"\n#define BUNZIP2_CMDNAME \"bzip2\"\n#define INFLATE_CMDNAME  \"inflate.exe\"\n#define W3MBOOKMARK_CMDNAME\t\"w3mbookmark.exe\"\n#define W3MHELPERPANEL_CMDNAME\t\"w3mhelperpanel.exe\"\n#define DEV_NULL_PATH\t\"nul\"\n#define DEV_TTY_PATH\t\"con\"\n#define CGI_EXTENSION\t\".cmd\"\n#define USE_PATH_ENVVAR\n#else\n#define GUNZIP_CMDNAME  \"gunzip\"\n#define BUNZIP2_CMDNAME \"bunzip2\"\n#define INFLATE_CMDNAME\t\"inflate\"\n#define W3MBOOKMARK_CMDNAME\t\"w3mbookmark\"\n#define W3MHELPERPANEL_CMDNAME\t\"w3mhelperpanel\"\n#define DEV_NULL_PATH\t\"/dev/null\"\n#define DEV_TTY_PATH\t\"/dev/tty\"\n#define CGI_EXTENSION\t\".cgi\"\n#endif\n\n#define PATH_SEPARATOR\t':'\n#define GUNZIP_NAME  \"gunzip\"\n#define BUNZIP2_NAME \"bunzip2\"\n#define INFLATE_NAME \"inflate\"\n\n#ifdef __MINGW32_VERSION\n#define SIGKILL SIGTERM\n#define S_IXGRP 0\n#define S_IXOTH 0\n#define S_IRWXG 0\n#define S_IRWXO 0\n#endif /* __MINGW32_VERSION */\n\n#endif /* CONFIG_H_SEEN */\n", "#! /bin/sh\n# Guess values for system-dependent variables and create Makefiles.\n# Generated by GNU Autoconf 2.67 for w3m 0.5.3.\n#\n# Report bugs to <satodai@w3m.jp>.\n#\n#\n# Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,\n# 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 Free Software\n# Foundation, Inc.\n#\n#\n# This configure script is free software; the Free Software Foundation\n# gives unlimited permission to copy, distribute and modify it.\n## -------------------- ##\n## M4sh Initialization. ##\n## -------------------- ##\n\n# Be more Bourne compatible\nDUALCASE=1; export DUALCASE # for MKS sh\nif test -n \"${ZSH_VERSION+set}\" && (emulate sh) >/dev/null 2>&1; then :\n  emulate sh\n  NULLCMD=:\n  # Pre-4.2 versions of Zsh do word splitting on ${1+\"$@\"}, which\n  # is contrary to our usage.  Disable this feature.\n  alias -g '${1+\"$@\"}'='\"$@\"'\n  setopt NO_GLOB_SUBST\nelse\n  case `(set -o) 2>/dev/null` in #(\n  *posix*) :\n    set -o posix ;; #(\n  *) :\n     ;;\nesac\nfi\n\n\nas_nl='\n'\nexport as_nl\n# Printing a long string crashes Solaris 7 /usr/bin/printf.\nas_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'\nas_echo=$as_echo$as_echo$as_echo$as_echo$as_echo\nas_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo\n# Prefer a ksh shell builtin over an external printf program on Solaris,\n# but without wasting forks for bash or zsh.\nif test -z \"$BASH_VERSION$ZSH_VERSION\" \\\n    && (test \"X`print -r -- $as_echo`\" = \"X$as_echo\") 2>/dev/null; then\n  as_echo='print -r --'\n  as_echo_n='print -rn --'\nelif (test \"X`printf %s $as_echo`\" = \"X$as_echo\") 2>/dev/null; then\n  as_echo='printf %s\\n'\n  as_echo_n='printf %s'\nelse\n  if test \"X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`\" = \"X-n $as_echo\"; then\n    as_echo_body='eval /usr/ucb/echo -n \"$1$as_nl\"'\n    as_echo_n='/usr/ucb/echo -n'\n  else\n    as_echo_body='eval expr \"X$1\" : \"X\\\\(.*\\\\)\"'\n    as_echo_n_body='eval\n      arg=$1;\n      case $arg in #(\n      *\"$as_nl\"*)\n\texpr \"X$arg\" : \"X\\\\(.*\\\\)$as_nl\";\n\targ=`expr \"X$arg\" : \".*$as_nl\\\\(.*\\\\)\"`;;\n      esac;\n      expr \"X$arg\" : \"X\\\\(.*\\\\)\" | tr -d \"$as_nl\"\n    '\n    export as_echo_n_body\n    as_echo_n='sh -c $as_echo_n_body as_echo'\n  fi\n  export as_echo_body\n  as_echo='sh -c $as_echo_body as_echo'\nfi\n\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  PATH_SEPARATOR=:\n  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {\n    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||\n      PATH_SEPARATOR=';'\n  }\nfi\n\n\n# IFS\n# We need space, tab and new line, in precisely that order.  Quoting is\n# there to prevent editors from complaining about space-tab.\n# (If _AS_PATH_WALK were called with IFS unset, it would disable word\n# splitting by setting IFS to empty value.)\nIFS=\" \"\"\t$as_nl\"\n\n# Find who we are.  Look in the path if we contain no directory separator.\ncase $0 in #((\n  *[\\\\/]* ) as_myself=$0 ;;\n  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    test -r \"$as_dir/$0\" && as_myself=$as_dir/$0 && break\n  done\nIFS=$as_save_IFS\n\n     ;;\nesac\n# We did not find ourselves, most probably we were run as `sh COMMAND'\n# in which case we are not to be found in the path.\nif test \"x$as_myself\" = x; then\n  as_myself=$0\nfi\nif test ! -f \"$as_myself\"; then\n  $as_echo \"$as_myself: error: cannot find myself; rerun with an absolute file name\" >&2\n  exit 1\nfi\n\n# Unset variables that we do not need and which cause bugs (e.g. in\n# pre-3.0 UWIN ksh).  But do not cause bugs in bash 2.01; the \"|| exit 1\"\n# suppresses any \"Segmentation fault\" message there.  '((' could\n# trigger a bug in pdksh 5.2.14.\nfor as_var in BASH_ENV ENV MAIL MAILPATH\ndo eval test x\\${$as_var+set} = xset \\\n  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :\ndone\nPS1='$ '\nPS2='> '\nPS4='+ '\n\n# NLS nuisances.\nLC_ALL=C\nexport LC_ALL\nLANGUAGE=C\nexport LANGUAGE\n\n# CDPATH.\n(unset CDPATH) >/dev/null 2>&1 && unset CDPATH\n\nif test \"x$CONFIG_SHELL\" = x; then\n  as_bourne_compatible=\"if test -n \\\"\\${ZSH_VERSION+set}\\\" && (emulate sh) >/dev/null 2>&1; then :\n  emulate sh\n  NULLCMD=:\n  # Pre-4.2 versions of Zsh do word splitting on \\${1+\\\"\\$@\\\"}, which\n  # is contrary to our usage.  Disable this feature.\n  alias -g '\\${1+\\\"\\$@\\\"}'='\\\"\\$@\\\"'\n  setopt NO_GLOB_SUBST\nelse\n  case \\`(set -o) 2>/dev/null\\` in #(\n  *posix*) :\n    set -o posix ;; #(\n  *) :\n     ;;\nesac\nfi\n\"\n  as_required=\"as_fn_return () { (exit \\$1); }\nas_fn_success () { as_fn_return 0; }\nas_fn_failure () { as_fn_return 1; }\nas_fn_ret_success () { return 0; }\nas_fn_ret_failure () { return 1; }\n\nexitcode=0\nas_fn_success || { exitcode=1; echo as_fn_success failed.; }\nas_fn_failure && { exitcode=1; echo as_fn_failure succeeded.; }\nas_fn_ret_success || { exitcode=1; echo as_fn_ret_success failed.; }\nas_fn_ret_failure && { exitcode=1; echo as_fn_ret_failure succeeded.; }\nif ( set x; as_fn_ret_success y && test x = \\\"\\$1\\\" ); then :\n\nelse\n  exitcode=1; echo positional parameters were not saved.\nfi\ntest x\\$exitcode = x0 || exit 1\"\n  as_suggested=\"  as_lineno_1=\";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested\" as_lineno_1a=\\$LINENO\n  as_lineno_2=\";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested\" as_lineno_2a=\\$LINENO\n  eval 'test \\\"x\\$as_lineno_1'\\$as_run'\\\" != \\\"x\\$as_lineno_2'\\$as_run'\\\" &&\n  test \\\"x\\`expr \\$as_lineno_1'\\$as_run' + 1\\`\\\" = \\\"x\\$as_lineno_2'\\$as_run'\\\"' || exit 1\ntest \\$(( 1 + 1 )) = 2 || exit 1\"\n  if (eval \"$as_required\") 2>/dev/null; then :\n  as_have_required=yes\nelse\n  as_have_required=no\nfi\n  if test x$as_have_required = xyes && (eval \"$as_suggested\") 2>/dev/null; then :\n\nelse\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nas_found=false\nfor as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n  as_found=:\n  case $as_dir in #(\n\t /*)\n\t   for as_base in sh bash ksh sh5; do\n\t     # Try only shells that exist, to save several forks.\n\t     as_shell=$as_dir/$as_base\n\t     if { test -f \"$as_shell\" || test -f \"$as_shell.exe\"; } &&\n\t\t    { $as_echo \"$as_bourne_compatible\"\"$as_required\" | as_run=a \"$as_shell\"; } 2>/dev/null; then :\n  CONFIG_SHELL=$as_shell as_have_required=yes\n\t\t   if { $as_echo \"$as_bourne_compatible\"\"$as_suggested\" | as_run=a \"$as_shell\"; } 2>/dev/null; then :\n  break 2\nfi\nfi\n\t   done;;\n       esac\n  as_found=false\ndone\n$as_found || { if { test -f \"$SHELL\" || test -f \"$SHELL.exe\"; } &&\n\t      { $as_echo \"$as_bourne_compatible\"\"$as_required\" | as_run=a \"$SHELL\"; } 2>/dev/null; then :\n  CONFIG_SHELL=$SHELL as_have_required=yes\nfi; }\nIFS=$as_save_IFS\n\n\n      if test \"x$CONFIG_SHELL\" != x; then :\n  # We cannot yet assume a decent shell, so we have to provide a\n\t# neutralization value for shells without unset; and this also\n\t# works around shells that cannot unset nonexistent variables.\n\tBASH_ENV=/dev/null\n\tENV=/dev/null\n\t(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV\n\texport CONFIG_SHELL\n\texec \"$CONFIG_SHELL\" \"$as_myself\" ${1+\"$@\"}\nfi\n\n    if test x$as_have_required = xno; then :\n  $as_echo \"$0: This script requires a shell more modern than all\"\n  $as_echo \"$0: the shells that I found on your system.\"\n  if test x${ZSH_VERSION+set} = xset ; then\n    $as_echo \"$0: In particular, zsh $ZSH_VERSION has bugs and should\"\n    $as_echo \"$0: be upgraded to zsh 4.3.4 or later.\"\n  else\n    $as_echo \"$0: Please tell bug-autoconf@gnu.org and satodai@w3m.jp\n$0: about your system, including any error possibly output\n$0: before this message. Then install a modern shell, or\n$0: manually run the script under such a shell if you do\n$0: have one.\"\n  fi\n  exit 1\nfi\nfi\nfi\nSHELL=${CONFIG_SHELL-/bin/sh}\nexport SHELL\n# Unset more variables known to interfere with behavior of common tools.\nCLICOLOR_FORCE= GREP_OPTIONS=\nunset CLICOLOR_FORCE GREP_OPTIONS\n\n## --------------------- ##\n## M4sh Shell Functions. ##\n## --------------------- ##\n# as_fn_unset VAR\n# ---------------\n# Portably unset VAR.\nas_fn_unset ()\n{\n  { eval $1=; unset $1;}\n}\nas_unset=as_fn_unset\n\n# as_fn_set_status STATUS\n# -----------------------\n# Set $? to STATUS, without forking.\nas_fn_set_status ()\n{\n  return $1\n} # as_fn_set_status\n\n# as_fn_exit STATUS\n# -----------------\n# Exit the shell with STATUS, even in a \"trap 0\" or \"set -e\" context.\nas_fn_exit ()\n{\n  set +e\n  as_fn_set_status $1\n  exit $1\n} # as_fn_exit\n\n# as_fn_mkdir_p\n# -------------\n# Create \"$as_dir\" as a directory, including parents if necessary.\nas_fn_mkdir_p ()\n{\n\n  case $as_dir in #(\n  -*) as_dir=./$as_dir;;\n  esac\n  test -d \"$as_dir\" || eval $as_mkdir_p || {\n    as_dirs=\n    while :; do\n      case $as_dir in #(\n      *\\'*) as_qdir=`$as_echo \"$as_dir\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"`;; #'(\n      *) as_qdir=$as_dir;;\n      esac\n      as_dirs=\"'$as_qdir' $as_dirs\"\n      as_dir=`$as_dirname -- \"$as_dir\" ||\n$as_expr X\"$as_dir\" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n\t X\"$as_dir\" : 'X\\(//\\)[^/]' \\| \\\n\t X\"$as_dir\" : 'X\\(//\\)$' \\| \\\n\t X\"$as_dir\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n$as_echo X\"$as_dir\" |\n    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)[^/].*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\).*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  s/.*/./; q'`\n      test -d \"$as_dir\" && break\n    done\n    test -z \"$as_dirs\" || eval \"mkdir $as_dirs\"\n  } || test -d \"$as_dir\" || as_fn_error $? \"cannot create directory $as_dir\"\n\n\n} # as_fn_mkdir_p\n# as_fn_append VAR VALUE\n# ----------------------\n# Append the text in VALUE to the end of the definition contained in VAR. Take\n# advantage of any shell optimizations that allow amortized linear growth over\n# repeated appends, instead of the typical quadratic growth present in naive\n# implementations.\nif (eval \"as_var=1; as_var+=2; test x\\$as_var = x12\") 2>/dev/null; then :\n  eval 'as_fn_append ()\n  {\n    eval $1+=\\$2\n  }'\nelse\n  as_fn_append ()\n  {\n    eval $1=\\$$1\\$2\n  }\nfi # as_fn_append\n\n# as_fn_arith ARG...\n# ------------------\n# Perform arithmetic evaluation on the ARGs, and store the result in the\n# global $as_val. Take advantage of shells that can avoid forks. The arguments\n# must be portable across $(()) and expr.\nif (eval \"test \\$(( 1 + 1 )) = 2\") 2>/dev/null; then :\n  eval 'as_fn_arith ()\n  {\n    as_val=$(( $* ))\n  }'\nelse\n  as_fn_arith ()\n  {\n    as_val=`expr \"$@\" || test $? -eq 1`\n  }\nfi # as_fn_arith\n\n\n# as_fn_error STATUS ERROR [LINENO LOG_FD]\n# ----------------------------------------\n# Output \"`basename $0`: error: ERROR\" to stderr. If LINENO and LOG_FD are\n# provided, also output the error to LOG_FD, referencing LINENO. Then exit the\n# script with STATUS, using 1 if that was 0.\nas_fn_error ()\n{\n  as_status=$1; test $as_status -eq 0 && as_status=1\n  if test \"$4\"; then\n    as_lineno=${as_lineno-\"$3\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n    $as_echo \"$as_me:${as_lineno-$LINENO}: error: $2\" >&$4\n  fi\n  $as_echo \"$as_me: error: $2\" >&2\n  as_fn_exit $as_status\n} # as_fn_error\n\nif expr a : '\\(a\\)' >/dev/null 2>&1 &&\n   test \"X`expr 00001 : '.*\\(...\\)'`\" = X001; then\n  as_expr=expr\nelse\n  as_expr=false\nfi\n\nif (basename -- /) >/dev/null 2>&1 && test \"X`basename -- / 2>&1`\" = \"X/\"; then\n  as_basename=basename\nelse\n  as_basename=false\nfi\n\nif (as_dir=`dirname -- /` && test \"X$as_dir\" = X/) >/dev/null 2>&1; then\n  as_dirname=dirname\nelse\n  as_dirname=false\nfi\n\nas_me=`$as_basename -- \"$0\" ||\n$as_expr X/\"$0\" : '.*/\\([^/][^/]*\\)/*$' \\| \\\n\t X\"$0\" : 'X\\(//\\)$' \\| \\\n\t X\"$0\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n$as_echo X/\"$0\" |\n    sed '/^.*\\/\\([^/][^/]*\\)\\/*$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\/\\(\\/\\/\\)$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\/\\(\\/\\).*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  s/.*/./; q'`\n\n# Avoid depending upon Character Ranges.\nas_cr_letters='abcdefghijklmnopqrstuvwxyz'\nas_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'\nas_cr_Letters=$as_cr_letters$as_cr_LETTERS\nas_cr_digits='0123456789'\nas_cr_alnum=$as_cr_Letters$as_cr_digits\n\n\n  as_lineno_1=$LINENO as_lineno_1a=$LINENO\n  as_lineno_2=$LINENO as_lineno_2a=$LINENO\n  eval 'test \"x$as_lineno_1'$as_run'\" != \"x$as_lineno_2'$as_run'\" &&\n  test \"x`expr $as_lineno_1'$as_run' + 1`\" = \"x$as_lineno_2'$as_run'\"' || {\n  # Blame Lee E. McMahon (1931-1989) for sed's syntax.  :-)\n  sed -n '\n    p\n    /[$]LINENO/=\n  ' <$as_myself |\n    sed '\n      s/[$]LINENO.*/&-/\n      t lineno\n      b\n      :lineno\n      N\n      :loop\n      s/[$]LINENO\\([^'$as_cr_alnum'_].*\\n\\)\\(.*\\)/\\2\\1\\2/\n      t loop\n      s/-\\n.*//\n    ' >$as_me.lineno &&\n  chmod +x \"$as_me.lineno\" ||\n    { $as_echo \"$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell\" >&2; as_fn_exit 1; }\n\n  # Don't try to exec as it changes $[0], causing all sort of problems\n  # (the dirname of $[0] is not the place where we might find the\n  # original and so on.  Autoconf is especially sensitive to this).\n  . \"./$as_me.lineno\"\n  # Exit status is that of the last command.\n  exit\n}\n\nECHO_C= ECHO_N= ECHO_T=\ncase `echo -n x` in #(((((\n-n*)\n  case `echo 'xy\\c'` in\n  *c*) ECHO_T='\t';;\t# ECHO_T is single tab character.\n  xy)  ECHO_C='\\c';;\n  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null\n       ECHO_T='\t';;\n  esac;;\n*)\n  ECHO_N='-n';;\nesac\n\nrm -f conf$$ conf$$.exe conf$$.file\nif test -d conf$$.dir; then\n  rm -f conf$$.dir/conf$$.file\nelse\n  rm -f conf$$.dir\n  mkdir conf$$.dir 2>/dev/null\nfi\nif (echo >conf$$.file) 2>/dev/null; then\n  if ln -s conf$$.file conf$$ 2>/dev/null; then\n    as_ln_s='ln -s'\n    # ... but there are two gotchas:\n    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.\n    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.\n    # In both cases, we have to default to `cp -p'.\n    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||\n      as_ln_s='cp -p'\n  elif ln conf$$.file conf$$ 2>/dev/null; then\n    as_ln_s=ln\n  else\n    as_ln_s='cp -p'\n  fi\nelse\n  as_ln_s='cp -p'\nfi\nrm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file\nrmdir conf$$.dir 2>/dev/null\n\nif mkdir -p . 2>/dev/null; then\n  as_mkdir_p='mkdir -p \"$as_dir\"'\nelse\n  test -d ./-p && rmdir ./-p\n  as_mkdir_p=false\nfi\n\nif test -x / >/dev/null 2>&1; then\n  as_test_x='test -x'\nelse\n  if ls -dL / >/dev/null 2>&1; then\n    as_ls_L_option=L\n  else\n    as_ls_L_option=\n  fi\n  as_test_x='\n    eval sh -c '\\''\n      if test -d \"$1\"; then\n\ttest -d \"$1/.\";\n      else\n\tcase $1 in #(\n\t-*)set \"./$1\";;\n\tesac;\n\tcase `ls -ld'$as_ls_L_option' \"$1\" 2>/dev/null` in #((\n\t???[sx]*):;;*)false;;esac;fi\n    '\\'' sh\n  '\nfi\nas_executable_p=$as_test_x\n\n# Sed expression to map a string onto a valid CPP name.\nas_tr_cpp=\"eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'\"\n\n# Sed expression to map a string onto a valid variable name.\nas_tr_sh=\"eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'\"\n\n\ntest -n \"$DJDIR\" || exec 7<&0 </dev/null\nexec 6>&1\n\n# Name of the host.\n# hostname on some systems (SVR3.2, old GNU/Linux) returns a bogus exit status,\n# so uname gets run too.\nac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`\n\n#\n# Initializations.\n#\nac_default_prefix=/usr/local\nac_clean_files=\nac_config_libobj_dir=.\nLIBOBJS=\ncross_compiling=no\nsubdirs=\nMFLAGS=\nMAKEFLAGS=\n\n# Identity of this package.\nPACKAGE_NAME='w3m'\nPACKAGE_TARNAME='w3m'\nPACKAGE_VERSION='0.5.3'\nPACKAGE_STRING='w3m 0.5.3'\nPACKAGE_BUGREPORT='satodai@w3m.jp'\nPACKAGE_URL=''\n\ngt_needs=\n# Factoring default headers for most tests.\nac_includes_default=\"\\\n#include <stdio.h>\n#ifdef HAVE_SYS_TYPES_H\n# include <sys/types.h>\n#endif\n#ifdef HAVE_SYS_STAT_H\n# include <sys/stat.h>\n#endif\n#ifdef STDC_HEADERS\n# include <stdlib.h>\n# include <stddef.h>\n#else\n# ifdef HAVE_STDLIB_H\n#  include <stdlib.h>\n# endif\n#endif\n#ifdef HAVE_STRING_H\n# if !defined STDC_HEADERS && defined HAVE_MEMORY_H\n#  include <memory.h>\n# endif\n# include <string.h>\n#endif\n#ifdef HAVE_STRINGS_H\n# include <strings.h>\n#endif\n#ifdef HAVE_INTTYPES_H\n# include <inttypes.h>\n#endif\n#ifdef HAVE_STDINT_H\n# include <stdint.h>\n#endif\n#ifdef HAVE_UNISTD_H\n# include <unistd.h>\n#endif\"\n\nac_subst_vars='LTLIBOBJS\nLIBOBJS\nCURRENT_VERSION\nDOCDIRS\nRC_DIR\nHELP_DIR\nSIGNAL_RETURN\nRETSIGTYPE\nHAVE_SIGSETJMP\nHAVE_SYS_ERRLIST\nUSE_BINMODE_STREAM\nLIBGC\nAUXBIN_TARGETS\nUSE_SYSMOUSE\nUSE_W3M\nUSE_DIGEST_AUTH\nSSL_LIBS\nSSL_CFLAGS\nPKG_CONFIG_LIBDIR\nPKG_CONFIG_PATH\nPKG_CONFIG\nUSE_SSL_VERIFY\nUSE_SSL\nHAVE_OLD_SS_FAMILY\nINET6\nDEF_EXT_BROWSER\nDEF_MAILER\nDEF_EDITOR\nDEF_MIGEMO_COMMAND\nUSE_MIGEMO\nUSE_W3MMAILER\nUSE_EXTERNAL_URI_LOADER\nUSE_HELP_CGI\nUSE_DICT\nUSE_GOPHER\nUSE_NNTP\nUSE_COOKIE\nUSE_ALARM\nUSE_HISTORY\nUSE_MOUSE\nUSE_MENU\nKEYBIND\nHELP_FILE\nKEYMAP_FILE\nuncompface\nUSE_XFACE\nIMGWINLDFLAGS\nIMGWINCFLAGS\nIMGFBLDFLAGS\nIMGFBCFLAGS\nIMGX11LDFLAGS\nIMGX11CFLAGS\nIMGOBJS\nIMGTARGETS\nUSE_IMLIB2\nUSE_IMLIB\nUSE_GTK2\nUSE_GDKPIXBUF\nINSTALL_W3MIMGDISPLAY\nW3MIMGDISPLAY_SETUID\nIMGLINK\nUSE_W3MIMG_WIN\nUSE_W3MIMG_FB\nUSE_W3MIMG_X11\nUSE_IMAGE\nUSE_BG_COLOR\nUSE_ANSI_COLOR\nUSE_COLOR\nNLSTARGET\nINTLTARGET\nPOSUB\nLTLIBINTL\nLIBINTL\nINTLLIBS\nLTLIBICONV\nLIBICONV\nINTL_MACOSX_LIBS\nEGREP\nGREP\nXGETTEXT_EXTRA_OPTIONS\nMSGMERGE\nXGETTEXT_015\nXGETTEXT\nGMSGFMT_015\nMSGFMT_015\nGMSGFMT\nMSGFMT\nGETTEXT_MACRO_VERSION\nUSE_NLS\nmkdir_p\nMKDIR_P\nPOLANG\nPOSUBST\nDOCUMENT_CHARSET\nSYSTEM_CHARSET\nDISPLAY_CHARSET\nWCCFLAGS\nWCTARGET\nUSE_UNICODE\nUSE_M17N\nW3M_LIBS\nW3M_TARGET\nhost_os\nhost_vendor\nhost_cpu\nhost\nbuild_os\nbuild_vendor\nbuild_cpu\nbuild\nMAN\nNKF\nPERL\nRANLIB\nSET_MAKE\nLN_S\nINSTALL_DATA\nINSTALL_SCRIPT\nINSTALL_PROGRAM\nCPP\nac_ct_CC\nCFLAGS\nCC\nAWK\nOBJEXT\nEXEEXT\nac_ct_CXX\nCPPFLAGS\nLDFLAGS\nCXXFLAGS\nCXX\nW3M_LANG\nW3M\nVERSION\nPACKAGE\ntarget_alias\nhost_alias\nbuild_alias\nLIBS\nECHO_T\nECHO_N\nECHO_C\nDEFS\nmandir\nlocaledir\nlibdir\npsdir\npdfdir\ndvidir\nhtmldir\ninfodir\ndocdir\noldincludedir\nincludedir\nlocalstatedir\nsharedstatedir\nsysconfdir\ndatadir\ndatarootdir\nlibexecdir\nsbindir\nbindir\nprogram_transform_name\nprefix\nexec_prefix\nPACKAGE_URL\nPACKAGE_BUGREPORT\nPACKAGE_STRING\nPACKAGE_VERSION\nPACKAGE_TARNAME\nPACKAGE_NAME\nPATH_SEPARATOR\nSHELL'\nac_subst_files=''\nac_user_opts='\nenable_option_checking\nenable_m17n\nenable_unicode\nenable_messagel10n\nenable_japanese\nwith_charset\nenable_nls\nwith_gnu_ld\nenable_rpath\nwith_libiconv_prefix\nwith_libintl_prefix\nenable_color\nenable_ansi_color\nenable_bgcolor\nenable_image\nwith_imagelib\nenable_xface\nenable_keymap\nenable_menu\nenable_mouse\nenable_history\nenable_alarm\nenable_cookie\nenable_nntp\nenable_gopher\nenable_dict\nenable_help_cgi\nenable_external_uri_loader\nenable_w3mmailer\nwith_migemo\nwith_editor\nwith_mailer\nwith_browser\nenable_ipv6\nwith_ssl\nenable_sslverify\nenable_digest_auth\nwith_termlib\nwith_gc\n'\n      ac_precious_vars='build_alias\nhost_alias\ntarget_alias\nCXX\nCXXFLAGS\nLDFLAGS\nLIBS\nCPPFLAGS\nCCC\nCC\nCFLAGS\nCPP\nPKG_CONFIG\nPKG_CONFIG_PATH\nPKG_CONFIG_LIBDIR\nSSL_CFLAGS\nSSL_LIBS'\n\n\n# Initialize some variables set by options.\nac_init_help=\nac_init_version=false\nac_unrecognized_opts=\nac_unrecognized_sep=\n# The variables have the same names as the options, with\n# dashes changed to underlines.\ncache_file=/dev/null\nexec_prefix=NONE\nno_create=\nno_recursion=\nprefix=NONE\nprogram_prefix=NONE\nprogram_suffix=NONE\nprogram_transform_name=s,x,x,\nsilent=\nsite=\nsrcdir=\nverbose=\nx_includes=NONE\nx_libraries=NONE\n\n# Installation directory options.\n# These are left unexpanded so users can \"make install exec_prefix=/foo\"\n# and all the variables that are supposed to be based on exec_prefix\n# by default will actually change.\n# Use braces instead of parens because sh, perl, etc. also accept them.\n# (The list follows the same order as the GNU Coding Standards.)\nbindir='${exec_prefix}/bin'\nsbindir='${exec_prefix}/sbin'\nlibexecdir='${exec_prefix}/libexec'\ndatarootdir='${prefix}/share'\ndatadir='${datarootdir}'\nsysconfdir='${prefix}/etc'\nsharedstatedir='${prefix}/com'\nlocalstatedir='${prefix}/var'\nincludedir='${prefix}/include'\noldincludedir='/usr/include'\ndocdir='${datarootdir}/doc/${PACKAGE_TARNAME}'\ninfodir='${datarootdir}/info'\nhtmldir='${docdir}'\ndvidir='${docdir}'\npdfdir='${docdir}'\npsdir='${docdir}'\nlibdir='${exec_prefix}/lib'\nlocaledir='${datarootdir}/locale'\nmandir='${datarootdir}/man'\n\nac_prev=\nac_dashdash=\nfor ac_option\ndo\n  # If the previous option needs an argument, assign it.\n  if test -n \"$ac_prev\"; then\n    eval $ac_prev=\\$ac_option\n    ac_prev=\n    continue\n  fi\n\n  case $ac_option in\n  *=?*) ac_optarg=`expr \"X$ac_option\" : '[^=]*=\\(.*\\)'` ;;\n  *=)   ac_optarg= ;;\n  *)    ac_optarg=yes ;;\n  esac\n\n  # Accept the important Cygnus configure options, so we can diagnose typos.\n\n  case $ac_dashdash$ac_option in\n  --)\n    ac_dashdash=yes ;;\n\n  -bindir | --bindir | --bindi | --bind | --bin | --bi)\n    ac_prev=bindir ;;\n  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)\n    bindir=$ac_optarg ;;\n\n  -build | --build | --buil | --bui | --bu)\n    ac_prev=build_alias ;;\n  -build=* | --build=* | --buil=* | --bui=* | --bu=*)\n    build_alias=$ac_optarg ;;\n\n  -cache-file | --cache-file | --cache-fil | --cache-fi \\\n  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)\n    ac_prev=cache_file ;;\n  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \\\n  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)\n    cache_file=$ac_optarg ;;\n\n  --config-cache | -C)\n    cache_file=config.cache ;;\n\n  -datadir | --datadir | --datadi | --datad)\n    ac_prev=datadir ;;\n  -datadir=* | --datadir=* | --datadi=* | --datad=*)\n    datadir=$ac_optarg ;;\n\n  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \\\n  | --dataroo | --dataro | --datar)\n    ac_prev=datarootdir ;;\n  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \\\n  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)\n    datarootdir=$ac_optarg ;;\n\n  -disable-* | --disable-*)\n    ac_useropt=`expr \"x$ac_option\" : 'x-*disable-\\(.*\\)'`\n    # Reject names that are not valid shell variable names.\n    expr \"x$ac_useropt\" : \".*[^-+._$as_cr_alnum]\" >/dev/null &&\n      as_fn_error $? \"invalid feature name: $ac_useropt\"\n    ac_useropt_orig=$ac_useropt\n    ac_useropt=`$as_echo \"$ac_useropt\" | sed 's/[-+.]/_/g'`\n    case $ac_user_opts in\n      *\"\n\"enable_$ac_useropt\"\n\"*) ;;\n      *) ac_unrecognized_opts=\"$ac_unrecognized_opts$ac_unrecognized_sep--disable-$ac_useropt_orig\"\n\t ac_unrecognized_sep=', ';;\n    esac\n    eval enable_$ac_useropt=no ;;\n\n  -docdir | --docdir | --docdi | --doc | --do)\n    ac_prev=docdir ;;\n  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)\n    docdir=$ac_optarg ;;\n\n  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)\n    ac_prev=dvidir ;;\n  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)\n    dvidir=$ac_optarg ;;\n\n  -enable-* | --enable-*)\n    ac_useropt=`expr \"x$ac_option\" : 'x-*enable-\\([^=]*\\)'`\n    # Reject names that are not valid shell variable names.\n    expr \"x$ac_useropt\" : \".*[^-+._$as_cr_alnum]\" >/dev/null &&\n      as_fn_error $? \"invalid feature name: $ac_useropt\"\n    ac_useropt_orig=$ac_useropt\n    ac_useropt=`$as_echo \"$ac_useropt\" | sed 's/[-+.]/_/g'`\n    case $ac_user_opts in\n      *\"\n\"enable_$ac_useropt\"\n\"*) ;;\n      *) ac_unrecognized_opts=\"$ac_unrecognized_opts$ac_unrecognized_sep--enable-$ac_useropt_orig\"\n\t ac_unrecognized_sep=', ';;\n    esac\n    eval enable_$ac_useropt=\\$ac_optarg ;;\n\n  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \\\n  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \\\n  | --exec | --exe | --ex)\n    ac_prev=exec_prefix ;;\n  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \\\n  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \\\n  | --exec=* | --exe=* | --ex=*)\n    exec_prefix=$ac_optarg ;;\n\n  -gas | --gas | --ga | --g)\n    # Obsolete; use --with-gas.\n    with_gas=yes ;;\n\n  -help | --help | --hel | --he | -h)\n    ac_init_help=long ;;\n  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)\n    ac_init_help=recursive ;;\n  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)\n    ac_init_help=short ;;\n\n  -host | --host | --hos | --ho)\n    ac_prev=host_alias ;;\n  -host=* | --host=* | --hos=* | --ho=*)\n    host_alias=$ac_optarg ;;\n\n  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)\n    ac_prev=htmldir ;;\n  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \\\n  | --ht=*)\n    htmldir=$ac_optarg ;;\n\n  -includedir | --includedir | --includedi | --included | --include \\\n  | --includ | --inclu | --incl | --inc)\n    ac_prev=includedir ;;\n  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \\\n  | --includ=* | --inclu=* | --incl=* | --inc=*)\n    includedir=$ac_optarg ;;\n\n  -infodir | --infodir | --infodi | --infod | --info | --inf)\n    ac_prev=infodir ;;\n  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)\n    infodir=$ac_optarg ;;\n\n  -libdir | --libdir | --libdi | --libd)\n    ac_prev=libdir ;;\n  -libdir=* | --libdir=* | --libdi=* | --libd=*)\n    libdir=$ac_optarg ;;\n\n  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \\\n  | --libexe | --libex | --libe)\n    ac_prev=libexecdir ;;\n  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \\\n  | --libexe=* | --libex=* | --libe=*)\n    libexecdir=$ac_optarg ;;\n\n  -localedir | --localedir | --localedi | --localed | --locale)\n    ac_prev=localedir ;;\n  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)\n    localedir=$ac_optarg ;;\n\n  -localstatedir | --localstatedir | --localstatedi | --localstated \\\n  | --localstate | --localstat | --localsta | --localst | --locals)\n    ac_prev=localstatedir ;;\n  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \\\n  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)\n    localstatedir=$ac_optarg ;;\n\n  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)\n    ac_prev=mandir ;;\n  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)\n    mandir=$ac_optarg ;;\n\n  -nfp | --nfp | --nf)\n    # Obsolete; use --without-fp.\n    with_fp=no ;;\n\n  -no-create | --no-create | --no-creat | --no-crea | --no-cre \\\n  | --no-cr | --no-c | -n)\n    no_create=yes ;;\n\n  -no-recursion | --no-recursion | --no-recursio | --no-recursi \\\n  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)\n    no_recursion=yes ;;\n\n  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \\\n  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \\\n  | --oldin | --oldi | --old | --ol | --o)\n    ac_prev=oldincludedir ;;\n  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \\\n  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \\\n  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)\n    oldincludedir=$ac_optarg ;;\n\n  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)\n    ac_prev=prefix ;;\n  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)\n    prefix=$ac_optarg ;;\n\n  -program-prefix | --program-prefix | --program-prefi | --program-pref \\\n  | --program-pre | --program-pr | --program-p)\n    ac_prev=program_prefix ;;\n  -program-prefix=* | --program-prefix=* | --program-prefi=* \\\n  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)\n    program_prefix=$ac_optarg ;;\n\n  -program-suffix | --program-suffix | --program-suffi | --program-suff \\\n  | --program-suf | --program-su | --program-s)\n    ac_prev=program_suffix ;;\n  -program-suffix=* | --program-suffix=* | --program-suffi=* \\\n  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)\n    program_suffix=$ac_optarg ;;\n\n  -program-transform-name | --program-transform-name \\\n  | --program-transform-nam | --program-transform-na \\\n  | --program-transform-n | --program-transform- \\\n  | --program-transform | --program-transfor \\\n  | --program-transfo | --program-transf \\\n  | --program-trans | --program-tran \\\n  | --progr-tra | --program-tr | --program-t)\n    ac_prev=program_transform_name ;;\n  -program-transform-name=* | --program-transform-name=* \\\n  | --program-transform-nam=* | --program-transform-na=* \\\n  | --program-transform-n=* | --program-transform-=* \\\n  | --program-transform=* | --program-transfor=* \\\n  | --program-transfo=* | --program-transf=* \\\n  | --program-trans=* | --program-tran=* \\\n  | --progr-tra=* | --program-tr=* | --program-t=*)\n    program_transform_name=$ac_optarg ;;\n\n  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)\n    ac_prev=pdfdir ;;\n  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)\n    pdfdir=$ac_optarg ;;\n\n  -psdir | --psdir | --psdi | --psd | --ps)\n    ac_prev=psdir ;;\n  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)\n    psdir=$ac_optarg ;;\n\n  -q | -quiet | --quiet | --quie | --qui | --qu | --q \\\n  | -silent | --silent | --silen | --sile | --sil)\n    silent=yes ;;\n\n  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)\n    ac_prev=sbindir ;;\n  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \\\n  | --sbi=* | --sb=*)\n    sbindir=$ac_optarg ;;\n\n  -sharedstatedir | --sharedstatedir | --sharedstatedi \\\n  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \\\n  | --sharedst | --shareds | --shared | --share | --shar \\\n  | --sha | --sh)\n    ac_prev=sharedstatedir ;;\n  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \\\n  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \\\n  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \\\n  | --sha=* | --sh=*)\n    sharedstatedir=$ac_optarg ;;\n\n  -site | --site | --sit)\n    ac_prev=site ;;\n  -site=* | --site=* | --sit=*)\n    site=$ac_optarg ;;\n\n  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)\n    ac_prev=srcdir ;;\n  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)\n    srcdir=$ac_optarg ;;\n\n  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \\\n  | --syscon | --sysco | --sysc | --sys | --sy)\n    ac_prev=sysconfdir ;;\n  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \\\n  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)\n    sysconfdir=$ac_optarg ;;\n\n  -target | --target | --targe | --targ | --tar | --ta | --t)\n    ac_prev=target_alias ;;\n  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)\n    target_alias=$ac_optarg ;;\n\n  -v | -verbose | --verbose | --verbos | --verbo | --verb)\n    verbose=yes ;;\n\n  -version | --version | --versio | --versi | --vers | -V)\n    ac_init_version=: ;;\n\n  -with-* | --with-*)\n    ac_useropt=`expr \"x$ac_option\" : 'x-*with-\\([^=]*\\)'`\n    # Reject names that are not valid shell variable names.\n    expr \"x$ac_useropt\" : \".*[^-+._$as_cr_alnum]\" >/dev/null &&\n      as_fn_error $? \"invalid package name: $ac_useropt\"\n    ac_useropt_orig=$ac_useropt\n    ac_useropt=`$as_echo \"$ac_useropt\" | sed 's/[-+.]/_/g'`\n    case $ac_user_opts in\n      *\"\n\"with_$ac_useropt\"\n\"*) ;;\n      *) ac_unrecognized_opts=\"$ac_unrecognized_opts$ac_unrecognized_sep--with-$ac_useropt_orig\"\n\t ac_unrecognized_sep=', ';;\n    esac\n    eval with_$ac_useropt=\\$ac_optarg ;;\n\n  -without-* | --without-*)\n    ac_useropt=`expr \"x$ac_option\" : 'x-*without-\\(.*\\)'`\n    # Reject names that are not valid shell variable names.\n    expr \"x$ac_useropt\" : \".*[^-+._$as_cr_alnum]\" >/dev/null &&\n      as_fn_error $? \"invalid package name: $ac_useropt\"\n    ac_useropt_orig=$ac_useropt\n    ac_useropt=`$as_echo \"$ac_useropt\" | sed 's/[-+.]/_/g'`\n    case $ac_user_opts in\n      *\"\n\"with_$ac_useropt\"\n\"*) ;;\n      *) ac_unrecognized_opts=\"$ac_unrecognized_opts$ac_unrecognized_sep--without-$ac_useropt_orig\"\n\t ac_unrecognized_sep=', ';;\n    esac\n    eval with_$ac_useropt=no ;;\n\n  --x)\n    # Obsolete; use --with-x.\n    with_x=yes ;;\n\n  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \\\n  | --x-incl | --x-inc | --x-in | --x-i)\n    ac_prev=x_includes ;;\n  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \\\n  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)\n    x_includes=$ac_optarg ;;\n\n  -x-libraries | --x-libraries | --x-librarie | --x-librari \\\n  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)\n    ac_prev=x_libraries ;;\n  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \\\n  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)\n    x_libraries=$ac_optarg ;;\n\n  -*) as_fn_error $? \"unrecognized option: \\`$ac_option'\nTry \\`$0 --help' for more information\"\n    ;;\n\n  *=*)\n    ac_envvar=`expr \"x$ac_option\" : 'x\\([^=]*\\)='`\n    # Reject names that are not valid shell variable names.\n    case $ac_envvar in #(\n      '' | [0-9]* | *[!_$as_cr_alnum]* )\n      as_fn_error $? \"invalid variable name: \\`$ac_envvar'\" ;;\n    esac\n    eval $ac_envvar=\\$ac_optarg\n    export $ac_envvar ;;\n\n  *)\n    # FIXME: should be removed in autoconf 3.0.\n    $as_echo \"$as_me: WARNING: you should use --build, --host, --target\" >&2\n    expr \"x$ac_option\" : \".*[^-._$as_cr_alnum]\" >/dev/null &&\n      $as_echo \"$as_me: WARNING: invalid host type: $ac_option\" >&2\n    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}\n    ;;\n\n  esac\ndone\n\nif test -n \"$ac_prev\"; then\n  ac_option=--`echo $ac_prev | sed 's/_/-/g'`\n  as_fn_error $? \"missing argument to $ac_option\"\nfi\n\nif test -n \"$ac_unrecognized_opts\"; then\n  case $enable_option_checking in\n    no) ;;\n    fatal) as_fn_error $? \"unrecognized options: $ac_unrecognized_opts\" ;;\n    *)     $as_echo \"$as_me: WARNING: unrecognized options: $ac_unrecognized_opts\" >&2 ;;\n  esac\nfi\n\n# Check all directory arguments for consistency.\nfor ac_var in\texec_prefix prefix bindir sbindir libexecdir datarootdir \\\n\t\tdatadir sysconfdir sharedstatedir localstatedir includedir \\\n\t\toldincludedir docdir infodir htmldir dvidir pdfdir psdir \\\n\t\tlibdir localedir mandir\ndo\n  eval ac_val=\\$$ac_var\n  # Remove trailing slashes.\n  case $ac_val in\n    */ )\n      ac_val=`expr \"X$ac_val\" : 'X\\(.*[^/]\\)' \\| \"X$ac_val\" : 'X\\(.*\\)'`\n      eval $ac_var=\\$ac_val;;\n  esac\n  # Be sure to have absolute directory names.\n  case $ac_val in\n    [\\\\/$]* | ?:[\\\\/]* )  continue;;\n    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;\n  esac\n  as_fn_error $? \"expected an absolute directory name for --$ac_var: $ac_val\"\ndone\n\n# There might be people who depend on the old broken behavior: `$host'\n# used to hold the argument of --host etc.\n# FIXME: To remove some day.\nbuild=$build_alias\nhost=$host_alias\ntarget=$target_alias\n\n# FIXME: To remove some day.\nif test \"x$host_alias\" != x; then\n  if test \"x$build_alias\" = x; then\n    cross_compiling=maybe\n    $as_echo \"$as_me: WARNING: if you wanted to set the --build type, don't use --host.\n    If a cross compiler is detected then cross compile mode will be used\" >&2\n  elif test \"x$build_alias\" != \"x$host_alias\"; then\n    cross_compiling=yes\n  fi\nfi\n\nac_tool_prefix=\ntest -n \"$host_alias\" && ac_tool_prefix=$host_alias-\n\ntest \"$silent\" = yes && exec 6>/dev/null\n\n\nac_pwd=`pwd` && test -n \"$ac_pwd\" &&\nac_ls_di=`ls -di .` &&\nac_pwd_ls_di=`cd \"$ac_pwd\" && ls -di .` ||\n  as_fn_error $? \"working directory cannot be determined\"\ntest \"X$ac_ls_di\" = \"X$ac_pwd_ls_di\" ||\n  as_fn_error $? \"pwd does not report name of working directory\"\n\n\n# Find the source files, if location was not specified.\nif test -z \"$srcdir\"; then\n  ac_srcdir_defaulted=yes\n  # Try the directory containing this script, then the parent directory.\n  ac_confdir=`$as_dirname -- \"$as_myself\" ||\n$as_expr X\"$as_myself\" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n\t X\"$as_myself\" : 'X\\(//\\)[^/]' \\| \\\n\t X\"$as_myself\" : 'X\\(//\\)$' \\| \\\n\t X\"$as_myself\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n$as_echo X\"$as_myself\" |\n    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)[^/].*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\).*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  s/.*/./; q'`\n  srcdir=$ac_confdir\n  if test ! -r \"$srcdir/$ac_unique_file\"; then\n    srcdir=..\n  fi\nelse\n  ac_srcdir_defaulted=no\nfi\nif test ! -r \"$srcdir/$ac_unique_file\"; then\n  test \"$ac_srcdir_defaulted\" = yes && srcdir=\"$ac_confdir or ..\"\n  as_fn_error $? \"cannot find sources ($ac_unique_file) in $srcdir\"\nfi\nac_msg=\"sources are in $srcdir, but \\`cd $srcdir' does not work\"\nac_abs_confdir=`(\n\tcd \"$srcdir\" && test -r \"./$ac_unique_file\" || as_fn_error $? \"$ac_msg\"\n\tpwd)`\n# When building in place, set srcdir=.\nif test \"$ac_abs_confdir\" = \"$ac_pwd\"; then\n  srcdir=.\nfi\n# Remove unnecessary trailing slashes from srcdir.\n# Double slashes in file names in object file debugging info\n# mess up M-x gdb in Emacs.\ncase $srcdir in\n*/) srcdir=`expr \"X$srcdir\" : 'X\\(.*[^/]\\)' \\| \"X$srcdir\" : 'X\\(.*\\)'`;;\nesac\nfor ac_var in $ac_precious_vars; do\n  eval ac_env_${ac_var}_set=\\${${ac_var}+set}\n  eval ac_env_${ac_var}_value=\\$${ac_var}\n  eval ac_cv_env_${ac_var}_set=\\${${ac_var}+set}\n  eval ac_cv_env_${ac_var}_value=\\$${ac_var}\ndone\n\n#\n# Report the --help message.\n#\nif test \"$ac_init_help\" = \"long\"; then\n  # Omit some internal or obsolete options to make the list less imposing.\n  # This message is too long to be a string in the A/UX 3.1 sh.\n  cat <<_ACEOF\n\\`configure' configures w3m 0.5.3 to adapt to many kinds of systems.\n\nUsage: $0 [OPTION]... [VAR=VALUE]...\n\nTo assign environment variables (e.g., CC, CFLAGS...), specify them as\nVAR=VALUE.  See below for descriptions of some of the useful variables.\n\nDefaults for the options are specified in brackets.\n\nConfiguration:\n  -h, --help              display this help and exit\n      --help=short        display options specific to this package\n      --help=recursive    display the short help of all the included packages\n  -V, --version           display version information and exit\n  -q, --quiet, --silent   do not print \\`checking ...' messages\n      --cache-file=FILE   cache test results in FILE [disabled]\n  -C, --config-cache      alias for \\`--cache-file=config.cache'\n  -n, --no-create         do not create output files\n      --srcdir=DIR        find the sources in DIR [configure dir or \\`..']\n\nInstallation directories:\n  --prefix=PREFIX         install architecture-independent files in PREFIX\n                          [$ac_default_prefix]\n  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX\n                          [PREFIX]\n\nBy default, \\`make install' will install all the files in\n\\`$ac_default_prefix/bin', \\`$ac_default_prefix/lib' etc.  You can specify\nan installation prefix other than \\`$ac_default_prefix' using \\`--prefix',\nfor instance \\`--prefix=\\$HOME'.\n\nFor better control, use the options below.\n\nFine tuning of the installation directories:\n  --bindir=DIR            user executables [EPREFIX/bin]\n  --sbindir=DIR           system admin executables [EPREFIX/sbin]\n  --libexecdir=DIR        program executables [EPREFIX/libexec]\n  --sysconfdir=DIR        read-only single-machine data [PREFIX/etc]\n  --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]\n  --localstatedir=DIR     modifiable single-machine data [PREFIX/var]\n  --libdir=DIR            object code libraries [EPREFIX/lib]\n  --includedir=DIR        C header files [PREFIX/include]\n  --oldincludedir=DIR     C header files for non-gcc [/usr/include]\n  --datarootdir=DIR       read-only arch.-independent data root [PREFIX/share]\n  --datadir=DIR           read-only architecture-independent data [DATAROOTDIR]\n  --infodir=DIR           info documentation [DATAROOTDIR/info]\n  --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]\n  --mandir=DIR            man documentation [DATAROOTDIR/man]\n  --docdir=DIR            documentation root [DATAROOTDIR/doc/w3m]\n  --htmldir=DIR           html documentation [DOCDIR]\n  --dvidir=DIR            dvi documentation [DOCDIR]\n  --pdfdir=DIR            pdf documentation [DOCDIR]\n  --psdir=DIR             ps documentation [DOCDIR]\n_ACEOF\n\n  cat <<\\_ACEOF\n\nSystem types:\n  --build=BUILD     configure for building on BUILD [guessed]\n  --host=HOST       cross-compile to build programs to run on HOST [BUILD]\n_ACEOF\nfi\n\nif test -n \"$ac_init_help\"; then\n  case $ac_init_help in\n     short | recursive ) echo \"Configuration of w3m 0.5.3:\";;\n   esac\n  cat <<\\_ACEOF\n\nOptional Features:\n  --disable-option-checking  ignore unrecognized --enable/--with options\n  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n  --disable-m17n\t\tdo not use m17n\n   --disable-unicode\t\tdo not use unicode\n   --enable-messagel10n=LL\tmessage l10n instead of NLS\n   --enable-japanese=CODE\tsupport Japanese CODE=(S|E|J|U)\n  --disable-nls           do not use Native Language Support\n  --disable-rpath         do not hardcode runtime library paths\n  --disable-color\t\tdisable color for vt100 terminal\n   --disable-ansi-color\t\tdisable ansi color escape sequence\n   --disable-bgcolor\t\tdisable to set background color\n  --enable-image=DEVS\t\tenable inline image handler for DEVS\n\t\t\t\t DEVS may be comma separeted: x11,fb,fb+s,win\n\t\t\t\t default: autodetected.\n\t\t\t\t 'no' means disable inline image\n   --disable-xface\t\tdisable xface support\n  --enable-keymap=w3m|lynx\tdefault keybind style(w3m or lynx)\n  --disable-menu\t\tdisable popup menu\n  --disable-mouse\t\tdisable mouse operation\n  --disable-history\t\tdisable URL history\n  --disable-alarm\t\tdisable alarm\n  --disable-cookie\t\tdisable cookie\n  --disable-nntp\t\tdisable NNTP\n  --enable-gopher\t\tenable GOPHER\n  --disable-dict\t\tdisable dictionary lookup (see README.dict)\n  --disable-help-cgi\t\tdisable help cgi\n  --disable-external-uri-loader\tdisable external URI loader\n   --disable-w3mmailer\t\tdisable w3mmailer\n  --disable-ipv6\t\tdisable IPv6\n   --disable-sslverify\t\tverify SSL certificate\n  --disable-digest-auth\t\tdisable digest auth\n\nOptional Packages:\n  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]\n  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)\n  --with-charset=CHARSET\n  --with-gnu-ld           assume the C compiler uses GNU ld default=no\n  --with-libiconv-prefix[=DIR]  search for libiconv in DIR/include and DIR/lib\n  --without-libiconv-prefix     don't search for libiconv in includedir and libdir\n  --with-libintl-prefix[=DIR]  search for libintl in DIR/include and DIR/lib\n  --without-libintl-prefix     don't search for libintl in includedir and libdir\n  --with-imagelib=IMAGELIBS\t\timage library\n\t\t\t\t IMAGELIBS may be space separeted list of:\n\t\t\t\t    gtk2 gdk-pixbuf imlib imlib2\n  --with-migemo=MIGEMO_COMMAND\tmigemo command\n  --with-editor=EDITOR\t\tdefault editor (/usr/bin/vi)\n  --with-mailer=MAILER\t\tdefault mailer (/usr/bin/mail)\n  --with-browser=BROWSER\tdefault browser (/usr/bin/firefox)\n  --with-ssl=PREFIX\t\tsupport https protocol\n  --with-termlib=LIBS\t\tterminal library\n\t\t\t\tLIBS is space separated list of:\n\t\t\t\t  terminfo mytinfo termcap tinfo ncurses curses\n  --with-gc=PREFIX\t  \tlibgc PREFIX\n\nSome influential environment variables:\n  CXX         C++ compiler command\n  CXXFLAGS    C++ compiler flags\n  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a\n              nonstandard directory <lib dir>\n  LIBS        libraries to pass to the linker, e.g. -l<library>\n  CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if\n              you have headers in a nonstandard directory <include dir>\n  CC          C compiler command\n  CFLAGS      C compiler flags\n  CPP         C preprocessor\n  PKG_CONFIG  path to pkg-config utility\n  PKG_CONFIG_PATH\n              directories to add to pkg-config's search path\n  PKG_CONFIG_LIBDIR\n              path overriding pkg-config's built-in search path\n  SSL_CFLAGS  C compiler flags for SSL, overriding pkg-config\n  SSL_LIBS    linker flags for SSL, overriding pkg-config\n\nUse these variables to override the choices made by `configure' or to help\nit to find libraries and programs with nonstandard names/locations.\n\nReport bugs to <satodai@w3m.jp>.\n_ACEOF\nac_status=$?\nfi\n\nif test \"$ac_init_help\" = \"recursive\"; then\n  # If there are subdirs, report their specific --help.\n  for ac_dir in : $ac_subdirs_all; do test \"x$ac_dir\" = x: && continue\n    test -d \"$ac_dir\" ||\n      { cd \"$srcdir\" && ac_pwd=`pwd` && srcdir=. && test -d \"$ac_dir\"; } ||\n      continue\n    ac_builddir=.\n\ncase \"$ac_dir\" in\n.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;\n*)\n  ac_dir_suffix=/`$as_echo \"$ac_dir\" | sed 's|^\\.[\\\\/]||'`\n  # A \"..\" for each directory in $ac_dir_suffix.\n  ac_top_builddir_sub=`$as_echo \"$ac_dir_suffix\" | sed 's|/[^\\\\/]*|/..|g;s|/||'`\n  case $ac_top_builddir_sub in\n  \"\") ac_top_builddir_sub=. ac_top_build_prefix= ;;\n  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;\n  esac ;;\nesac\nac_abs_top_builddir=$ac_pwd\nac_abs_builddir=$ac_pwd$ac_dir_suffix\n# for backward compatibility:\nac_top_builddir=$ac_top_build_prefix\n\ncase $srcdir in\n  .)  # We are building in place.\n    ac_srcdir=.\n    ac_top_srcdir=$ac_top_builddir_sub\n    ac_abs_top_srcdir=$ac_pwd ;;\n  [\\\\/]* | ?:[\\\\/]* )  # Absolute name.\n    ac_srcdir=$srcdir$ac_dir_suffix;\n    ac_top_srcdir=$srcdir\n    ac_abs_top_srcdir=$srcdir ;;\n  *) # Relative name.\n    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix\n    ac_top_srcdir=$ac_top_build_prefix$srcdir\n    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;\nesac\nac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix\n\n    cd \"$ac_dir\" || { ac_status=$?; continue; }\n    # Check for guested configure.\n    if test -f \"$ac_srcdir/configure.gnu\"; then\n      echo &&\n      $SHELL \"$ac_srcdir/configure.gnu\" --help=recursive\n    elif test -f \"$ac_srcdir/configure\"; then\n      echo &&\n      $SHELL \"$ac_srcdir/configure\" --help=recursive\n    else\n      $as_echo \"$as_me: WARNING: no configuration information is in $ac_dir\" >&2\n    fi || ac_status=$?\n    cd \"$ac_pwd\" || { ac_status=$?; break; }\n  done\nfi\n\ntest -n \"$ac_init_help\" && exit $ac_status\nif $ac_init_version; then\n  cat <<\\_ACEOF\nw3m configure 0.5.3\ngenerated by GNU Autoconf 2.67\n\nCopyright (C) 2010 Free Software Foundation, Inc.\nThis configure script is free software; the Free Software Foundation\ngives unlimited permission to copy, distribute and modify it.\n_ACEOF\n  exit\nfi\n\n## ------------------------ ##\n## Autoconf initialization. ##\n## ------------------------ ##\n\n# ac_fn_cxx_try_compile LINENO\n# ----------------------------\n# Try to compile conftest.$ac_ext, and return whether this succeeded.\nac_fn_cxx_try_compile ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  rm -f conftest.$ac_objext\n  if { { ac_try=\"$ac_compile\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_compile\") 2>conftest.err\n  ac_status=$?\n  if test -s conftest.err; then\n    grep -v '^ *+' conftest.err >conftest.er1\n    cat conftest.er1 >&5\n    mv -f conftest.er1 conftest.err\n  fi\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; } && {\n\t test -z \"$ac_cxx_werror_flag\" ||\n\t test ! -s conftest.err\n       } && test -s conftest.$ac_objext; then :\n  ac_retval=0\nelse\n  $as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n\tac_retval=1\nfi\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n  as_fn_set_status $ac_retval\n\n} # ac_fn_cxx_try_compile\n\n# ac_fn_c_try_compile LINENO\n# --------------------------\n# Try to compile conftest.$ac_ext, and return whether this succeeded.\nac_fn_c_try_compile ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  rm -f conftest.$ac_objext\n  if { { ac_try=\"$ac_compile\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_compile\") 2>conftest.err\n  ac_status=$?\n  if test -s conftest.err; then\n    grep -v '^ *+' conftest.err >conftest.er1\n    cat conftest.er1 >&5\n    mv -f conftest.er1 conftest.err\n  fi\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; } && {\n\t test -z \"$ac_c_werror_flag\" ||\n\t test ! -s conftest.err\n       } && test -s conftest.$ac_objext; then :\n  ac_retval=0\nelse\n  $as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n\tac_retval=1\nfi\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n  as_fn_set_status $ac_retval\n\n} # ac_fn_c_try_compile\n\n# ac_fn_c_try_cpp LINENO\n# ----------------------\n# Try to preprocess conftest.$ac_ext, and return whether this succeeded.\nac_fn_c_try_cpp ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  if { { ac_try=\"$ac_cpp conftest.$ac_ext\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_cpp conftest.$ac_ext\") 2>conftest.err\n  ac_status=$?\n  if test -s conftest.err; then\n    grep -v '^ *+' conftest.err >conftest.er1\n    cat conftest.er1 >&5\n    mv -f conftest.er1 conftest.err\n  fi\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; } > conftest.i && {\n\t test -z \"$ac_c_preproc_warn_flag$ac_c_werror_flag\" ||\n\t test ! -s conftest.err\n       }; then :\n  ac_retval=0\nelse\n  $as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n    ac_retval=1\nfi\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n  as_fn_set_status $ac_retval\n\n} # ac_fn_c_try_cpp\n\n# ac_fn_c_try_link LINENO\n# -----------------------\n# Try to link conftest.$ac_ext, and return whether this succeeded.\nac_fn_c_try_link ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  rm -f conftest.$ac_objext conftest$ac_exeext\n  if { { ac_try=\"$ac_link\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_link\") 2>conftest.err\n  ac_status=$?\n  if test -s conftest.err; then\n    grep -v '^ *+' conftest.err >conftest.er1\n    cat conftest.er1 >&5\n    mv -f conftest.er1 conftest.err\n  fi\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; } && {\n\t test -z \"$ac_c_werror_flag\" ||\n\t test ! -s conftest.err\n       } && test -s conftest$ac_exeext && {\n\t test \"$cross_compiling\" = yes ||\n\t $as_test_x conftest$ac_exeext\n       }; then :\n  ac_retval=0\nelse\n  $as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n\tac_retval=1\nfi\n  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information\n  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would\n  # interfere with the next link command; also delete a directory that is\n  # left behind by Apple's compiler.  We do this before executing the actions.\n  rm -rf conftest.dSYM conftest_ipa8_conftest.oo\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n  as_fn_set_status $ac_retval\n\n} # ac_fn_c_try_link\n\n# ac_fn_c_try_run LINENO\n# ----------------------\n# Try to link conftest.$ac_ext, and return whether this succeeded. Assumes\n# that executables *can* be run.\nac_fn_c_try_run ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  if { { ac_try=\"$ac_link\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_link\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'\n  { { case \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_try\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; }; then :\n  ac_retval=0\nelse\n  $as_echo \"$as_me: program exited with status $ac_status\" >&5\n       $as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n       ac_retval=$ac_status\nfi\n  rm -rf conftest.dSYM conftest_ipa8_conftest.oo\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n  as_fn_set_status $ac_retval\n\n} # ac_fn_c_try_run\n\n# ac_fn_c_check_func LINENO FUNC VAR\n# ----------------------------------\n# Tests whether FUNC exists, setting the cache variable VAR accordingly\nac_fn_c_check_func ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n$as_echo_n \"checking for $2... \" >&6; }\nif eval \"test \\\"\\${$3+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n/* Define $2 to an innocuous variant, in case <limits.h> declares $2.\n   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n#define $2 innocuous_$2\n\n/* System header to define __stub macros and hopefully few prototypes,\n    which can conflict with char $2 (); below.\n    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n    <limits.h> exists even on freestanding compilers.  */\n\n#ifdef __STDC__\n# include <limits.h>\n#else\n# include <assert.h>\n#endif\n\n#undef $2\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar $2 ();\n/* The GNU C library defines this for functions which it implements\n    to always fail with ENOSYS.  Some functions are actually named\n    something starting with __ and the normal name is an alias.  */\n#if defined __stub_$2 || defined __stub___$2\nchoke me\n#endif\n\nint\nmain ()\n{\nreturn $2 ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  eval \"$3=yes\"\nelse\n  eval \"$3=no\"\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nfi\neval ac_res=\\$$3\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n\n} # ac_fn_c_check_func\n\n# ac_fn_c_check_header_mongrel LINENO HEADER VAR INCLUDES\n# -------------------------------------------------------\n# Tests whether HEADER exists, giving a warning if it cannot be compiled using\n# the include files in INCLUDES and setting the cache variable VAR\n# accordingly.\nac_fn_c_check_header_mongrel ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  if eval \"test \\\"\\${$3+set}\\\"\" = set; then :\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n$as_echo_n \"checking for $2... \" >&6; }\nif eval \"test \\\"\\${$3+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nfi\neval ac_res=\\$$3\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\nelse\n  # Is the header compilable?\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking $2 usability\" >&5\n$as_echo_n \"checking $2 usability... \" >&6; }\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\n#include <$2>\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_header_compiler=yes\nelse\n  ac_header_compiler=no\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_header_compiler\" >&5\n$as_echo \"$ac_header_compiler\" >&6; }\n\n# Is the header present?\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking $2 presence\" >&5\n$as_echo_n \"checking $2 presence... \" >&6; }\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <$2>\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n  ac_header_preproc=yes\nelse\n  ac_header_preproc=no\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_header_preproc\" >&5\n$as_echo \"$ac_header_preproc\" >&6; }\n\n# So?  What about this header?\ncase $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in #((\n  yes:no: )\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2: accepted by the compiler, rejected by the preprocessor!\" >&5\n$as_echo \"$as_me: WARNING: $2: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result\" >&5\n$as_echo \"$as_me: WARNING: $2: proceeding with the compiler's result\" >&2;}\n    ;;\n  no:yes:* )\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2: present but cannot be compiled\" >&5\n$as_echo \"$as_me: WARNING: $2: present but cannot be compiled\" >&2;}\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2:     check for missing prerequisite headers?\" >&5\n$as_echo \"$as_me: WARNING: $2:     check for missing prerequisite headers?\" >&2;}\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2: see the Autoconf documentation\" >&5\n$as_echo \"$as_me: WARNING: $2: see the Autoconf documentation\" >&2;}\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n$as_echo \"$as_me: WARNING: $2:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result\" >&5\n$as_echo \"$as_me: WARNING: $2: proceeding with the compiler's result\" >&2;}\n( $as_echo \"## ----------------------------- ##\n## Report this to satodai@w3m.jp ##\n## ----------------------------- ##\"\n     ) | sed \"s/^/$as_me: WARNING:     /\" >&2\n    ;;\nesac\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n$as_echo_n \"checking for $2... \" >&6; }\nif eval \"test \\\"\\${$3+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  eval \"$3=\\$ac_header_compiler\"\nfi\neval ac_res=\\$$3\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\nfi\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n\n} # ac_fn_c_check_header_mongrel\n\n# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES\n# -------------------------------------------------------\n# Tests whether HEADER exists and can be compiled using the include files in\n# INCLUDES, setting the cache variable VAR accordingly.\nac_fn_c_check_header_compile ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n$as_echo_n \"checking for $2... \" >&6; }\nif eval \"test \\\"\\${$3+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\n#include <$2>\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  eval \"$3=yes\"\nelse\n  eval \"$3=no\"\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\neval ac_res=\\$$3\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n\n} # ac_fn_c_check_header_compile\n\n# ac_fn_c_check_type LINENO TYPE VAR INCLUDES\n# -------------------------------------------\n# Tests whether TYPE exists after having included INCLUDES, setting cache\n# variable VAR accordingly.\nac_fn_c_check_type ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n$as_echo_n \"checking for $2... \" >&6; }\nif eval \"test \\\"\\${$3+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  eval \"$3=no\"\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nif (sizeof ($2))\n\t return 0;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nif (sizeof (($2)))\n\t    return 0;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n\nelse\n  eval \"$3=yes\"\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\neval ac_res=\\$$3\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n\n} # ac_fn_c_check_type\n\n# ac_fn_c_compute_int LINENO EXPR VAR INCLUDES\n# --------------------------------------------\n# Tries to find the compile-time value of EXPR in a program that includes\n# INCLUDES, setting VAR accordingly. Returns whether the value could be\n# computed\nac_fn_c_compute_int ()\n{\n  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n  if test \"$cross_compiling\" = yes; then\n    # Depending upon the size, compute the lo and hi bounds.\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nstatic int test_array [1 - 2 * !(($2) >= 0)];\ntest_array [0] = 0\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_lo=0 ac_mid=0\n  while :; do\n    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nstatic int test_array [1 - 2 * !(($2) <= $ac_mid)];\ntest_array [0] = 0\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_hi=$ac_mid; break\nelse\n  as_fn_arith $ac_mid + 1 && ac_lo=$as_val\n\t\t\tif test $ac_lo -le $ac_mid; then\n\t\t\t  ac_lo= ac_hi=\n\t\t\t  break\n\t\t\tfi\n\t\t\tas_fn_arith 2 '*' $ac_mid + 1 && ac_mid=$as_val\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n  done\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nstatic int test_array [1 - 2 * !(($2) < 0)];\ntest_array [0] = 0\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_hi=-1 ac_mid=-1\n  while :; do\n    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nstatic int test_array [1 - 2 * !(($2) >= $ac_mid)];\ntest_array [0] = 0\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_lo=$ac_mid; break\nelse\n  as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val\n\t\t\tif test $ac_mid -le $ac_hi; then\n\t\t\t  ac_lo= ac_hi=\n\t\t\t  break\n\t\t\tfi\n\t\t\tas_fn_arith 2 '*' $ac_mid && ac_mid=$as_val\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n  done\nelse\n  ac_lo= ac_hi=\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n# Binary search between lo and hi bounds.\nwhile test \"x$ac_lo\" != \"x$ac_hi\"; do\n  as_fn_arith '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo && ac_mid=$as_val\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nint\nmain ()\n{\nstatic int test_array [1 - 2 * !(($2) <= $ac_mid)];\ntest_array [0] = 0\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_hi=$ac_mid\nelse\n  as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\ndone\ncase $ac_lo in #((\n?*) eval \"$3=\\$ac_lo\"; ac_retval=0 ;;\n'') ac_retval=1 ;;\nesac\n  else\n    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$4\nstatic long int longval () { return $2; }\nstatic unsigned long int ulongval () { return $2; }\n#include <stdio.h>\n#include <stdlib.h>\nint\nmain ()\n{\n\n  FILE *f = fopen (\"conftest.val\", \"w\");\n  if (! f)\n    return 1;\n  if (($2) < 0)\n    {\n      long int i = longval ();\n      if (i != ($2))\n\treturn 1;\n      fprintf (f, \"%ld\", i);\n    }\n  else\n    {\n      unsigned long int i = ulongval ();\n      if (i != ($2))\n\treturn 1;\n      fprintf (f, \"%lu\", i);\n    }\n  /* Do not output a trailing newline, as this causes \\r\\n confusion\n     on some platforms.  */\n  return ferror (f) || fclose (f) != 0;\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_run \"$LINENO\"; then :\n  echo >>conftest.val; read $3 <conftest.val; ac_retval=0\nelse\n  ac_retval=1\nfi\nrm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n  conftest.$ac_objext conftest.beam conftest.$ac_ext\nrm -f conftest.val\n\n  fi\n  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n  as_fn_set_status $ac_retval\n\n} # ac_fn_c_compute_int\ncat >config.log <<_ACEOF\nThis file contains any messages produced by compilers while\nrunning configure, to aid debugging if configure makes a mistake.\n\nIt was created by w3m $as_me 0.5.3, which was\ngenerated by GNU Autoconf 2.67.  Invocation command line was\n\n  $ $0 $@\n\n_ACEOF\nexec 5>>config.log\n{\ncat <<_ASUNAME\n## --------- ##\n## Platform. ##\n## --------- ##\n\nhostname = `(hostname || uname -n) 2>/dev/null | sed 1q`\nuname -m = `(uname -m) 2>/dev/null || echo unknown`\nuname -r = `(uname -r) 2>/dev/null || echo unknown`\nuname -s = `(uname -s) 2>/dev/null || echo unknown`\nuname -v = `(uname -v) 2>/dev/null || echo unknown`\n\n/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`\n/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`\n\n/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`\n/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`\n/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`\n/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`\n/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`\n/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`\n/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`\n\n_ASUNAME\n\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    $as_echo \"PATH: $as_dir\"\n  done\nIFS=$as_save_IFS\n\n} >&5\n\ncat >&5 <<_ACEOF\n\n\n## ----------- ##\n## Core tests. ##\n## ----------- ##\n\n_ACEOF\n\n\n# Keep a trace of the command line.\n# Strip out --no-create and --no-recursion so they do not pile up.\n# Strip out --silent because we don't want to record it for future runs.\n# Also quote any args containing shell meta-characters.\n# Make two passes to allow for proper duplicate-argument suppression.\nac_configure_args=\nac_configure_args0=\nac_configure_args1=\nac_must_keep_next=false\nfor ac_pass in 1 2\ndo\n  for ac_arg\n  do\n    case $ac_arg in\n    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;\n    -q | -quiet | --quiet | --quie | --qui | --qu | --q \\\n    | -silent | --silent | --silen | --sile | --sil)\n      continue ;;\n    *\\'*)\n      ac_arg=`$as_echo \"$ac_arg\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"` ;;\n    esac\n    case $ac_pass in\n    1) as_fn_append ac_configure_args0 \" '$ac_arg'\" ;;\n    2)\n      as_fn_append ac_configure_args1 \" '$ac_arg'\"\n      if test $ac_must_keep_next = true; then\n\tac_must_keep_next=false # Got value, back to normal.\n      else\n\tcase $ac_arg in\n\t  *=* | --config-cache | -C | -disable-* | --disable-* \\\n\t  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \\\n\t  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \\\n\t  | -with-* | --with-* | -without-* | --without-* | --x)\n\t    case \"$ac_configure_args0 \" in\n\t      \"$ac_configure_args1\"*\" '$ac_arg' \"* ) continue ;;\n\t    esac\n\t    ;;\n\t  -* ) ac_must_keep_next=true ;;\n\tesac\n      fi\n      as_fn_append ac_configure_args \" '$ac_arg'\"\n      ;;\n    esac\n  done\ndone\n{ ac_configure_args0=; unset ac_configure_args0;}\n{ ac_configure_args1=; unset ac_configure_args1;}\n\n# When interrupted or exit'd, cleanup temporary files, and complete\n# config.log.  We remove comments because anyway the quotes in there\n# would cause problems or look ugly.\n# WARNING: Use '\\'' to represent an apostrophe within the trap.\n# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.\ntrap 'exit_status=$?\n  # Save into config.log some information that might help in debugging.\n  {\n    echo\n\n    $as_echo \"## ---------------- ##\n## Cache variables. ##\n## ---------------- ##\"\n    echo\n    # The following way of writing the cache mishandles newlines in values,\n(\n  for ac_var in `(set) 2>&1 | sed -n '\\''s/^\\([a-zA-Z_][a-zA-Z0-9_]*\\)=.*/\\1/p'\\''`; do\n    eval ac_val=\\$$ac_var\n    case $ac_val in #(\n    *${as_nl}*)\n      case $ac_var in #(\n      *_cv_*) { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline\" >&5\n$as_echo \"$as_me: WARNING: cache variable $ac_var contains a newline\" >&2;} ;;\n      esac\n      case $ac_var in #(\n      _ | IFS | as_nl) ;; #(\n      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(\n      *) { eval $ac_var=; unset $ac_var;} ;;\n      esac ;;\n    esac\n  done\n  (set) 2>&1 |\n    case $as_nl`(ac_space='\\'' '\\''; set) 2>&1` in #(\n    *${as_nl}ac_space=\\ *)\n      sed -n \\\n\t\"s/'\\''/'\\''\\\\\\\\'\\'''\\''/g;\n\t  s/^\\\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\\\)=\\\\(.*\\\\)/\\\\1='\\''\\\\2'\\''/p\"\n      ;; #(\n    *)\n      sed -n \"/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p\"\n      ;;\n    esac |\n    sort\n)\n    echo\n\n    $as_echo \"## ----------------- ##\n## Output variables. ##\n## ----------------- ##\"\n    echo\n    for ac_var in $ac_subst_vars\n    do\n      eval ac_val=\\$$ac_var\n      case $ac_val in\n      *\\'\\''*) ac_val=`$as_echo \"$ac_val\" | sed \"s/'\\''/'\\''\\\\\\\\\\\\\\\\'\\'''\\''/g\"`;;\n      esac\n      $as_echo \"$ac_var='\\''$ac_val'\\''\"\n    done | sort\n    echo\n\n    if test -n \"$ac_subst_files\"; then\n      $as_echo \"## ------------------- ##\n## File substitutions. ##\n## ------------------- ##\"\n      echo\n      for ac_var in $ac_subst_files\n      do\n\teval ac_val=\\$$ac_var\n\tcase $ac_val in\n\t*\\'\\''*) ac_val=`$as_echo \"$ac_val\" | sed \"s/'\\''/'\\''\\\\\\\\\\\\\\\\'\\'''\\''/g\"`;;\n\tesac\n\t$as_echo \"$ac_var='\\''$ac_val'\\''\"\n      done | sort\n      echo\n    fi\n\n    if test -s confdefs.h; then\n      $as_echo \"## ----------- ##\n## confdefs.h. ##\n## ----------- ##\"\n      echo\n      cat confdefs.h\n      echo\n    fi\n    test \"$ac_signal\" != 0 &&\n      $as_echo \"$as_me: caught signal $ac_signal\"\n    $as_echo \"$as_me: exit $exit_status\"\n  } >&5\n  rm -f core *.core core.conftest.* &&\n    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&\n    exit $exit_status\n' 0\nfor ac_signal in 1 2 13 15; do\n  trap 'ac_signal='$ac_signal'; as_fn_exit 1' $ac_signal\ndone\nac_signal=0\n\n# confdefs.h avoids OS command line length limits that DEFS can exceed.\nrm -f -r conftest* confdefs.h\n\n$as_echo \"/* confdefs.h */\" > confdefs.h\n\n# Predefined preprocessor variables.\n\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE_NAME \"$PACKAGE_NAME\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE_TARNAME \"$PACKAGE_TARNAME\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE_VERSION \"$PACKAGE_VERSION\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE_STRING \"$PACKAGE_STRING\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE_BUGREPORT \"$PACKAGE_BUGREPORT\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE_URL \"$PACKAGE_URL\"\n_ACEOF\n\n\n# Let the site file select an alternate cache file if it wants to.\n# Prefer an explicitly selected file to automatically selected ones.\nac_site_file1=NONE\nac_site_file2=NONE\nif test -n \"$CONFIG_SITE\"; then\n  # We do not want a PATH search for config.site.\n  case $CONFIG_SITE in #((\n    -*)  ac_site_file1=./$CONFIG_SITE;;\n    */*) ac_site_file1=$CONFIG_SITE;;\n    *)   ac_site_file1=./$CONFIG_SITE;;\n  esac\nelif test \"x$prefix\" != xNONE; then\n  ac_site_file1=$prefix/share/config.site\n  ac_site_file2=$prefix/etc/config.site\nelse\n  ac_site_file1=$ac_default_prefix/share/config.site\n  ac_site_file2=$ac_default_prefix/etc/config.site\nfi\nfor ac_site_file in \"$ac_site_file1\" \"$ac_site_file2\"\ndo\n  test \"x$ac_site_file\" = xNONE && continue\n  if test /dev/null != \"$ac_site_file\" && test -r \"$ac_site_file\"; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: loading site script $ac_site_file\" >&5\n$as_echo \"$as_me: loading site script $ac_site_file\" >&6;}\n    sed 's/^/| /' \"$ac_site_file\" >&5\n    . \"$ac_site_file\" \\\n      || { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error $? \"failed to load site script $ac_site_file\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\n  fi\ndone\n\nif test -r \"$cache_file\"; then\n  # Some versions of bash will fail to source /dev/null (special files\n  # actually), so we avoid doing that.  DJGPP emulates it as a regular file.\n  if test /dev/null != \"$cache_file\" && test -f \"$cache_file\"; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: loading cache $cache_file\" >&5\n$as_echo \"$as_me: loading cache $cache_file\" >&6;}\n    case $cache_file in\n      [\\\\/]* | ?:[\\\\/]* ) . \"$cache_file\";;\n      *)                      . \"./$cache_file\";;\n    esac\n  fi\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: creating cache $cache_file\" >&5\n$as_echo \"$as_me: creating cache $cache_file\" >&6;}\n  >$cache_file\nfi\n\ngt_needs=\"$gt_needs \"\n# Check that the precious variables saved in the cache have kept the same\n# value.\nac_cache_corrupted=false\nfor ac_var in $ac_precious_vars; do\n  eval ac_old_set=\\$ac_cv_env_${ac_var}_set\n  eval ac_new_set=\\$ac_env_${ac_var}_set\n  eval ac_old_val=\\$ac_cv_env_${ac_var}_value\n  eval ac_new_val=\\$ac_env_${ac_var}_value\n  case $ac_old_set,$ac_new_set in\n    set,)\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: error: \\`$ac_var' was set to \\`$ac_old_val' in the previous run\" >&5\n$as_echo \"$as_me: error: \\`$ac_var' was set to \\`$ac_old_val' in the previous run\" >&2;}\n      ac_cache_corrupted=: ;;\n    ,set)\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: error: \\`$ac_var' was not set in the previous run\" >&5\n$as_echo \"$as_me: error: \\`$ac_var' was not set in the previous run\" >&2;}\n      ac_cache_corrupted=: ;;\n    ,);;\n    *)\n      if test \"x$ac_old_val\" != \"x$ac_new_val\"; then\n\t# differences in whitespace do not lead to failure.\n\tac_old_val_w=`echo x $ac_old_val`\n\tac_new_val_w=`echo x $ac_new_val`\n\tif test \"$ac_old_val_w\" != \"$ac_new_val_w\"; then\n\t  { $as_echo \"$as_me:${as_lineno-$LINENO}: error: \\`$ac_var' has changed since the previous run:\" >&5\n$as_echo \"$as_me: error: \\`$ac_var' has changed since the previous run:\" >&2;}\n\t  ac_cache_corrupted=:\n\telse\n\t  { $as_echo \"$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in \\`$ac_var' since the previous run:\" >&5\n$as_echo \"$as_me: warning: ignoring whitespace changes in \\`$ac_var' since the previous run:\" >&2;}\n\t  eval $ac_var=\\$ac_old_val\n\tfi\n\t{ $as_echo \"$as_me:${as_lineno-$LINENO}:   former value:  \\`$ac_old_val'\" >&5\n$as_echo \"$as_me:   former value:  \\`$ac_old_val'\" >&2;}\n\t{ $as_echo \"$as_me:${as_lineno-$LINENO}:   current value: \\`$ac_new_val'\" >&5\n$as_echo \"$as_me:   current value: \\`$ac_new_val'\" >&2;}\n      fi;;\n  esac\n  # Pass precious variables to config.status.\n  if test \"$ac_new_set\" = set; then\n    case $ac_new_val in\n    *\\'*) ac_arg=$ac_var=`$as_echo \"$ac_new_val\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"` ;;\n    *) ac_arg=$ac_var=$ac_new_val ;;\n    esac\n    case \" $ac_configure_args \" in\n      *\" '$ac_arg' \"*) ;; # Avoid dups.  Use of quotes ensures accuracy.\n      *) as_fn_append ac_configure_args \" '$ac_arg'\" ;;\n    esac\n  fi\ndone\nif $ac_cache_corrupted; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build\" >&5\n$as_echo \"$as_me: error: changes in the environment can compromise the build\" >&2;}\n  as_fn_error $? \"run \\`make distclean' and/or \\`rm $cache_file' and start over\" \"$LINENO\" 5\nfi\n## -------------------- ##\n## Main body of script. ##\n## -------------------- ##\n\nac_ext=c\nac_cpp='$CPP $CPPFLAGS'\nac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_c_compiler_gnu\n\n\nPACKAGE=w3m\nVERSION=0.5.3\ncat >>confdefs.h <<_ACEOF\n#define PACKAGE \"$PACKAGE\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define VERSION \"$VERSION\"\n_ACEOF\n\n\n\n\n\nW3M=w3m\n$as_echo \"#define W3M w3m\" >>confdefs.h\n\n\n\nW3M_LANG=${LC_ALL:-$LANG}\nac_config_headers=\"$ac_config_headers config.h\"\n\nac_ext=cpp\nac_cpp='$CXXCPP $CPPFLAGS'\nac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_cxx_compiler_gnu\nif test -z \"$CXX\"; then\n  if test -n \"$CCC\"; then\n    CXX=$CCC\n  else\n    if test -n \"$ac_tool_prefix\"; then\n  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC\n  do\n    # Extract the first word of \"$ac_tool_prefix$ac_prog\", so it can be a program name with args.\nset dummy $ac_tool_prefix$ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_CXX+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$CXX\"; then\n  ac_cv_prog_CXX=\"$CXX\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_CXX=\"$ac_tool_prefix$ac_prog\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nCXX=$ac_cv_prog_CXX\nif test -n \"$CXX\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CXX\" >&5\n$as_echo \"$CXX\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n    test -n \"$CXX\" && break\n  done\nfi\nif test -z \"$CXX\"; then\n  ac_ct_CXX=$CXX\n  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC\ndo\n  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\nset dummy $ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_ac_ct_CXX+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$ac_ct_CXX\"; then\n  ac_cv_prog_ac_ct_CXX=\"$ac_ct_CXX\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_ac_ct_CXX=\"$ac_prog\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nac_ct_CXX=$ac_cv_prog_ac_ct_CXX\nif test -n \"$ac_ct_CXX\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_CXX\" >&5\n$as_echo \"$ac_ct_CXX\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  test -n \"$ac_ct_CXX\" && break\ndone\n\n  if test \"x$ac_ct_CXX\" = x; then\n    CXX=\"g++\"\n  else\n    case $cross_compiling:$ac_tool_warned in\nyes:)\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\nac_tool_warned=yes ;;\nesac\n    CXX=$ac_ct_CXX\n  fi\nfi\n\n  fi\nfi\n# Provide some information about the compiler.\n$as_echo \"$as_me:${as_lineno-$LINENO}: checking for C++ compiler version\" >&5\nset X $ac_compile\nac_compiler=$2\nfor ac_option in --version -v -V -qversion; do\n  { { ac_try=\"$ac_compiler $ac_option >&5\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_compiler $ac_option >&5\") 2>conftest.err\n  ac_status=$?\n  if test -s conftest.err; then\n    sed '10a\\\n... rest of stderr output deleted ...\n         10q' conftest.err >conftest.er1\n    cat conftest.er1 >&5\n  fi\n  rm -f conftest.er1 conftest.err\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }\ndone\n\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nac_clean_files_save=$ac_clean_files\nac_clean_files=\"$ac_clean_files a.out a.out.dSYM a.exe b.out\"\n# Try to create an executable without -o first, disregard a.out.\n# It will help us diagnose broken compilers, and finding out an intuition\n# of exeext.\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether the C++ compiler works\" >&5\n$as_echo_n \"checking whether the C++ compiler works... \" >&6; }\nac_link_default=`$as_echo \"$ac_link\" | sed 's/ -o *conftest[^ ]*//'`\n\n# The possible output files:\nac_files=\"a.out conftest.exe conftest a.exe a_out.exe b.out conftest.*\"\n\nac_rmfiles=\nfor ac_file in $ac_files\ndo\n  case $ac_file in\n    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;\n    * ) ac_rmfiles=\"$ac_rmfiles $ac_file\";;\n  esac\ndone\nrm -f $ac_rmfiles\n\nif { { ac_try=\"$ac_link_default\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_link_default\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; then :\n  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.\n# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'\n# in a Makefile.  We should not override ac_cv_exeext if it was cached,\n# so that the user can short-circuit this test for compilers unknown to\n# Autoconf.\nfor ac_file in $ac_files ''\ndo\n  test -f \"$ac_file\" || continue\n  case $ac_file in\n    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj )\n\t;;\n    [ab].out )\n\t# We found the default executable, but exeext='' is most\n\t# certainly right.\n\tbreak;;\n    *.* )\n\tif test \"${ac_cv_exeext+set}\" = set && test \"$ac_cv_exeext\" != no;\n\tthen :; else\n\t   ac_cv_exeext=`expr \"$ac_file\" : '[^.]*\\(\\..*\\)'`\n\tfi\n\t# We set ac_cv_exeext here because the later test for it is not\n\t# safe: cross compilers may not add the suffix if given an `-o'\n\t# argument, so we may need to know it at that point already.\n\t# Even if this section looks crufty: it has the advantage of\n\t# actually working.\n\tbreak;;\n    * )\n\tbreak;;\n  esac\ndone\ntest \"$ac_cv_exeext\" = no && ac_cv_exeext=\n\nelse\n  ac_file=''\nfi\nif test -z \"$ac_file\"; then :\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n$as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n{ { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error 77 \"C++ compiler cannot create executables\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n$as_echo \"yes\" >&6; }\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for C++ compiler default output file name\" >&5\n$as_echo_n \"checking for C++ compiler default output file name... \" >&6; }\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_file\" >&5\n$as_echo \"$ac_file\" >&6; }\nac_exeext=$ac_cv_exeext\n\nrm -f -r a.out a.out.dSYM a.exe conftest$ac_cv_exeext b.out\nac_clean_files=$ac_clean_files_save\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for suffix of executables\" >&5\n$as_echo_n \"checking for suffix of executables... \" >&6; }\nif { { ac_try=\"$ac_link\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_link\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; then :\n  # If both `conftest.exe' and `conftest' are `present' (well, observable)\n# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will\n# work properly (i.e., refer to `conftest.exe'), while it won't with\n# `rm'.\nfor ac_file in conftest.exe conftest conftest.*; do\n  test -f \"$ac_file\" || continue\n  case $ac_file in\n    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;\n    *.* ) ac_cv_exeext=`expr \"$ac_file\" : '[^.]*\\(\\..*\\)'`\n\t  break;;\n    * ) break;;\n  esac\ndone\nelse\n  { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error $? \"cannot compute suffix of executables: cannot compile and link\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\nfi\nrm -f conftest conftest$ac_cv_exeext\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext\" >&5\n$as_echo \"$ac_cv_exeext\" >&6; }\n\nrm -f conftest.$ac_ext\nEXEEXT=$ac_cv_exeext\nac_exeext=$EXEEXT\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdio.h>\nint\nmain ()\n{\nFILE *f = fopen (\"conftest.out\", \"w\");\n return ferror (f) || fclose (f) != 0;\n\n  ;\n  return 0;\n}\n_ACEOF\nac_clean_files=\"$ac_clean_files conftest.out\"\n# Check that the compiler produces executables we can run.  If not, either\n# the compiler is broken, or we cross compile.\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether we are cross compiling\" >&5\n$as_echo_n \"checking whether we are cross compiling... \" >&6; }\nif test \"$cross_compiling\" != yes; then\n  { { ac_try=\"$ac_link\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_link\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }\n  if { ac_try='./conftest$ac_cv_exeext'\n  { { case \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_try\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; }; then\n    cross_compiling=no\n  else\n    if test \"$cross_compiling\" = maybe; then\n\tcross_compiling=yes\n    else\n\t{ { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error $? \"cannot run C++ compiled programs.\nIf you meant to cross compile, use \\`--host'.\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\n    fi\n  fi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $cross_compiling\" >&5\n$as_echo \"$cross_compiling\" >&6; }\n\nrm -f conftest.$ac_ext conftest$ac_cv_exeext conftest.out\nac_clean_files=$ac_clean_files_save\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for suffix of object files\" >&5\n$as_echo_n \"checking for suffix of object files... \" >&6; }\nif test \"${ac_cv_objext+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nrm -f conftest.o conftest.obj\nif { { ac_try=\"$ac_compile\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_compile\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; then :\n  for ac_file in conftest.o conftest.obj conftest.*; do\n  test -f \"$ac_file\" || continue;\n  case $ac_file in\n    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM ) ;;\n    *) ac_cv_objext=`expr \"$ac_file\" : '.*\\.\\(.*\\)'`\n       break;;\n  esac\ndone\nelse\n  $as_echo \"$as_me: failed program was:\" >&5\nsed 's/^/| /' conftest.$ac_ext >&5\n\n{ { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error $? \"cannot compute suffix of object files: cannot compile\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\nfi\nrm -f conftest.$ac_cv_objext conftest.$ac_ext\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext\" >&5\n$as_echo \"$ac_cv_objext\" >&6; }\nOBJEXT=$ac_cv_objext\nac_objext=$OBJEXT\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C++ compiler\" >&5\n$as_echo_n \"checking whether we are using the GNU C++ compiler... \" >&6; }\nif test \"${ac_cv_cxx_compiler_gnu+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n#ifndef __GNUC__\n       choke me\n#endif\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_cxx_try_compile \"$LINENO\"; then :\n  ac_compiler_gnu=yes\nelse\n  ac_compiler_gnu=no\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nac_cv_cxx_compiler_gnu=$ac_compiler_gnu\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_cxx_compiler_gnu\" >&5\n$as_echo \"$ac_cv_cxx_compiler_gnu\" >&6; }\nif test $ac_compiler_gnu = yes; then\n  GXX=yes\nelse\n  GXX=\nfi\nac_test_CXXFLAGS=${CXXFLAGS+set}\nac_save_CXXFLAGS=$CXXFLAGS\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $CXX accepts -g\" >&5\n$as_echo_n \"checking whether $CXX accepts -g... \" >&6; }\nif test \"${ac_cv_prog_cxx_g+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_save_cxx_werror_flag=$ac_cxx_werror_flag\n   ac_cxx_werror_flag=yes\n   ac_cv_prog_cxx_g=no\n   CXXFLAGS=\"-g\"\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_cxx_try_compile \"$LINENO\"; then :\n  ac_cv_prog_cxx_g=yes\nelse\n  CXXFLAGS=\"\"\n      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_cxx_try_compile \"$LINENO\"; then :\n\nelse\n  ac_cxx_werror_flag=$ac_save_cxx_werror_flag\n\t CXXFLAGS=\"-g\"\n\t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_cxx_try_compile \"$LINENO\"; then :\n  ac_cv_prog_cxx_g=yes\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n   ac_cxx_werror_flag=$ac_save_cxx_werror_flag\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_g\" >&5\n$as_echo \"$ac_cv_prog_cxx_g\" >&6; }\nif test \"$ac_test_CXXFLAGS\" = set; then\n  CXXFLAGS=$ac_save_CXXFLAGS\nelif test $ac_cv_prog_cxx_g = yes; then\n  if test \"$GXX\" = yes; then\n    CXXFLAGS=\"-g -O2\"\n  else\n    CXXFLAGS=\"-g\"\n  fi\nelse\n  if test \"$GXX\" = yes; then\n    CXXFLAGS=\"-O2\"\n  else\n    CXXFLAGS=\n  fi\nfi\nac_ext=c\nac_cpp='$CPP $CPPFLAGS'\nac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_c_compiler_gnu\n\nfor ac_prog in gawk mawk nawk awk\ndo\n  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\nset dummy $ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_AWK+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$AWK\"; then\n  ac_cv_prog_AWK=\"$AWK\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_AWK=\"$ac_prog\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nAWK=$ac_cv_prog_AWK\nif test -n \"$AWK\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $AWK\" >&5\n$as_echo \"$AWK\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  test -n \"$AWK\" && break\ndone\n\nac_ext=c\nac_cpp='$CPP $CPPFLAGS'\nac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_c_compiler_gnu\nif test -n \"$ac_tool_prefix\"; then\n  # Extract the first word of \"${ac_tool_prefix}gcc\", so it can be a program name with args.\nset dummy ${ac_tool_prefix}gcc; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_CC+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$CC\"; then\n  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_CC=\"${ac_tool_prefix}gcc\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nCC=$ac_cv_prog_CC\nif test -n \"$CC\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n$as_echo \"$CC\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\nfi\nif test -z \"$ac_cv_prog_CC\"; then\n  ac_ct_CC=$CC\n  # Extract the first word of \"gcc\", so it can be a program name with args.\nset dummy gcc; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_ac_ct_CC+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$ac_ct_CC\"; then\n  ac_cv_prog_ac_ct_CC=\"$ac_ct_CC\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_ac_ct_CC=\"gcc\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nac_ct_CC=$ac_cv_prog_ac_ct_CC\nif test -n \"$ac_ct_CC\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC\" >&5\n$as_echo \"$ac_ct_CC\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n  if test \"x$ac_ct_CC\" = x; then\n    CC=\"\"\n  else\n    case $cross_compiling:$ac_tool_warned in\nyes:)\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\nac_tool_warned=yes ;;\nesac\n    CC=$ac_ct_CC\n  fi\nelse\n  CC=\"$ac_cv_prog_CC\"\nfi\n\nif test -z \"$CC\"; then\n          if test -n \"$ac_tool_prefix\"; then\n    # Extract the first word of \"${ac_tool_prefix}cc\", so it can be a program name with args.\nset dummy ${ac_tool_prefix}cc; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_CC+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$CC\"; then\n  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_CC=\"${ac_tool_prefix}cc\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nCC=$ac_cv_prog_CC\nif test -n \"$CC\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n$as_echo \"$CC\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  fi\nfi\nif test -z \"$CC\"; then\n  # Extract the first word of \"cc\", so it can be a program name with args.\nset dummy cc; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_CC+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$CC\"; then\n  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\nelse\n  ac_prog_rejected=no\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    if test \"$as_dir/$ac_word$ac_exec_ext\" = \"/usr/ucb/cc\"; then\n       ac_prog_rejected=yes\n       continue\n     fi\n    ac_cv_prog_CC=\"cc\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nif test $ac_prog_rejected = yes; then\n  # We found a bogon in the path, so make sure we never use it.\n  set dummy $ac_cv_prog_CC\n  shift\n  if test $# != 0; then\n    # We chose a different compiler from the bogus one.\n    # However, it has the same basename, so the bogon will be chosen\n    # first if we set CC to just the basename; use the full file name.\n    shift\n    ac_cv_prog_CC=\"$as_dir/$ac_word${1+' '}$@\"\n  fi\nfi\nfi\nfi\nCC=$ac_cv_prog_CC\nif test -n \"$CC\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n$as_echo \"$CC\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\nfi\nif test -z \"$CC\"; then\n  if test -n \"$ac_tool_prefix\"; then\n  for ac_prog in cl.exe\n  do\n    # Extract the first word of \"$ac_tool_prefix$ac_prog\", so it can be a program name with args.\nset dummy $ac_tool_prefix$ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_CC+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$CC\"; then\n  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_CC=\"$ac_tool_prefix$ac_prog\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nCC=$ac_cv_prog_CC\nif test -n \"$CC\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n$as_echo \"$CC\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n    test -n \"$CC\" && break\n  done\nfi\nif test -z \"$CC\"; then\n  ac_ct_CC=$CC\n  for ac_prog in cl.exe\ndo\n  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\nset dummy $ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_ac_ct_CC+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$ac_ct_CC\"; then\n  ac_cv_prog_ac_ct_CC=\"$ac_ct_CC\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_ac_ct_CC=\"$ac_prog\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nac_ct_CC=$ac_cv_prog_ac_ct_CC\nif test -n \"$ac_ct_CC\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC\" >&5\n$as_echo \"$ac_ct_CC\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  test -n \"$ac_ct_CC\" && break\ndone\n\n  if test \"x$ac_ct_CC\" = x; then\n    CC=\"\"\n  else\n    case $cross_compiling:$ac_tool_warned in\nyes:)\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\nac_tool_warned=yes ;;\nesac\n    CC=$ac_ct_CC\n  fi\nfi\n\nfi\n\n\ntest -z \"$CC\" && { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error $? \"no acceptable C compiler found in \\$PATH\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\n\n# Provide some information about the compiler.\n$as_echo \"$as_me:${as_lineno-$LINENO}: checking for C compiler version\" >&5\nset X $ac_compile\nac_compiler=$2\nfor ac_option in --version -v -V -qversion; do\n  { { ac_try=\"$ac_compiler $ac_option >&5\"\ncase \"(($ac_try\" in\n  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n  *) ac_try_echo=$ac_try;;\nesac\neval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n$as_echo \"$ac_try_echo\"; } >&5\n  (eval \"$ac_compiler $ac_option >&5\") 2>conftest.err\n  ac_status=$?\n  if test -s conftest.err; then\n    sed '10a\\\n... rest of stderr output deleted ...\n         10q' conftest.err >conftest.er1\n    cat conftest.er1 >&5\n  fi\n  rm -f conftest.er1 conftest.err\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }\ndone\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C compiler\" >&5\n$as_echo_n \"checking whether we are using the GNU C compiler... \" >&6; }\nif test \"${ac_cv_c_compiler_gnu+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n#ifndef __GNUC__\n       choke me\n#endif\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_compiler_gnu=yes\nelse\n  ac_compiler_gnu=no\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nac_cv_c_compiler_gnu=$ac_compiler_gnu\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu\" >&5\n$as_echo \"$ac_cv_c_compiler_gnu\" >&6; }\nif test $ac_compiler_gnu = yes; then\n  GCC=yes\nelse\n  GCC=\nfi\nac_test_CFLAGS=${CFLAGS+set}\nac_save_CFLAGS=$CFLAGS\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g\" >&5\n$as_echo_n \"checking whether $CC accepts -g... \" >&6; }\nif test \"${ac_cv_prog_cc_g+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_save_c_werror_flag=$ac_c_werror_flag\n   ac_c_werror_flag=yes\n   ac_cv_prog_cc_g=no\n   CFLAGS=\"-g\"\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_prog_cc_g=yes\nelse\n  CFLAGS=\"\"\n      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n\nelse\n  ac_c_werror_flag=$ac_save_c_werror_flag\n\t CFLAGS=\"-g\"\n\t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_prog_cc_g=yes\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n   ac_c_werror_flag=$ac_save_c_werror_flag\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g\" >&5\n$as_echo \"$ac_cv_prog_cc_g\" >&6; }\nif test \"$ac_test_CFLAGS\" = set; then\n  CFLAGS=$ac_save_CFLAGS\nelif test $ac_cv_prog_cc_g = yes; then\n  if test \"$GCC\" = yes; then\n    CFLAGS=\"-g -O2\"\n  else\n    CFLAGS=\"-g\"\n  fi\nelse\n  if test \"$GCC\" = yes; then\n    CFLAGS=\"-O2\"\n  else\n    CFLAGS=\n  fi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $CC option to accept ISO C89\" >&5\n$as_echo_n \"checking for $CC option to accept ISO C89... \" >&6; }\nif test \"${ac_cv_prog_cc_c89+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_cv_prog_cc_c89=no\nac_save_CC=$CC\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdarg.h>\n#include <stdio.h>\n#include <sys/types.h>\n#include <sys/stat.h>\n/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */\nstruct buf { int x; };\nFILE * (*rcsopen) (struct buf *, struct stat *, int);\nstatic char *e (p, i)\n     char **p;\n     int i;\n{\n  return p[i];\n}\nstatic char *f (char * (*g) (char **, int), char **p, ...)\n{\n  char *s;\n  va_list v;\n  va_start (v,p);\n  s = g (p, va_arg (v,int));\n  va_end (v);\n  return s;\n}\n\n/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has\n   function prototypes and stuff, but not '\\xHH' hex character constants.\n   These don't provoke an error unfortunately, instead are silently treated\n   as 'x'.  The following induces an error, until -std is added to get\n   proper ANSI mode.  Curiously '\\x00'!='x' always comes out true, for an\n   array size at least.  It's necessary to write '\\x00'==0 to get something\n   that's true only with -std.  */\nint osf4_cc_array ['\\x00' == 0 ? 1 : -1];\n\n/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters\n   inside strings and character constants.  */\n#define FOO(x) 'x'\nint xlc6_cc_array[FOO(a) == 'x' ? 1 : -1];\n\nint test (int i, double x);\nstruct s1 {int (*f) (int a);};\nstruct s2 {int (*f) (double a);};\nint pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);\nint argc;\nchar **argv;\nint\nmain ()\n{\nreturn f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];\n  ;\n  return 0;\n}\n_ACEOF\nfor ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std \\\n\t-Ae \"-Aa -D_HPUX_SOURCE\" \"-Xc -D__EXTENSIONS__\"\ndo\n  CC=\"$ac_save_CC $ac_arg\"\n  if ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_prog_cc_c89=$ac_arg\nfi\nrm -f core conftest.err conftest.$ac_objext\n  test \"x$ac_cv_prog_cc_c89\" != \"xno\" && break\ndone\nrm -f conftest.$ac_ext\nCC=$ac_save_CC\n\nfi\n# AC_CACHE_VAL\ncase \"x$ac_cv_prog_cc_c89\" in\n  x)\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: none needed\" >&5\n$as_echo \"none needed\" >&6; } ;;\n  xno)\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: unsupported\" >&5\n$as_echo \"unsupported\" >&6; } ;;\n  *)\n    CC=\"$CC $ac_cv_prog_cc_c89\"\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89\" >&5\n$as_echo \"$ac_cv_prog_cc_c89\" >&6; } ;;\nesac\nif test \"x$ac_cv_prog_cc_c89\" != xno; then :\n\nfi\n\nac_ext=c\nac_cpp='$CPP $CPPFLAGS'\nac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_c_compiler_gnu\n\nac_ext=c\nac_cpp='$CPP $CPPFLAGS'\nac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_c_compiler_gnu\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor\" >&5\n$as_echo_n \"checking how to run the C preprocessor... \" >&6; }\n# On Suns, sometimes $CPP names a directory.\nif test -n \"$CPP\" && test -d \"$CPP\"; then\n  CPP=\nfi\nif test -z \"$CPP\"; then\n  if test \"${ac_cv_prog_CPP+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n      # Double quotes because CPP needs to be expanded\n    for CPP in \"$CC -E\" \"$CC -E -traditional-cpp\" \"/lib/cpp\"\n    do\n      ac_preproc_ok=false\nfor ac_c_preproc_warn_flag in '' yes\ndo\n  # Use a header file that comes with gcc, so configuring glibc\n  # with a fresh cross-compiler works.\n  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n  # <limits.h> exists even on freestanding compilers.\n  # On the NeXT, cc -E runs the code through the compiler's parser,\n  # not just through cpp. \"Syntax error\" is here to catch this case.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#ifdef __STDC__\n# include <limits.h>\n#else\n# include <assert.h>\n#endif\n\t\t     Syntax error\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n\nelse\n  # Broken: fails on valid input.\ncontinue\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\n\n  # OK, works on sane cases.  Now check whether nonexistent headers\n  # can be detected and how.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <ac_nonexistent.h>\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n  # Broken: success on invalid input.\ncontinue\nelse\n  # Passes both tests.\nac_preproc_ok=:\nbreak\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\n\ndone\n# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.\nrm -f conftest.i conftest.err conftest.$ac_ext\nif $ac_preproc_ok; then :\n  break\nfi\n\n    done\n    ac_cv_prog_CPP=$CPP\n\nfi\n  CPP=$ac_cv_prog_CPP\nelse\n  ac_cv_prog_CPP=$CPP\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CPP\" >&5\n$as_echo \"$CPP\" >&6; }\nac_preproc_ok=false\nfor ac_c_preproc_warn_flag in '' yes\ndo\n  # Use a header file that comes with gcc, so configuring glibc\n  # with a fresh cross-compiler works.\n  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n  # <limits.h> exists even on freestanding compilers.\n  # On the NeXT, cc -E runs the code through the compiler's parser,\n  # not just through cpp. \"Syntax error\" is here to catch this case.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#ifdef __STDC__\n# include <limits.h>\n#else\n# include <assert.h>\n#endif\n\t\t     Syntax error\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n\nelse\n  # Broken: fails on valid input.\ncontinue\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\n\n  # OK, works on sane cases.  Now check whether nonexistent headers\n  # can be detected and how.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <ac_nonexistent.h>\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n  # Broken: success on invalid input.\ncontinue\nelse\n  # Passes both tests.\nac_preproc_ok=:\nbreak\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\n\ndone\n# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.\nrm -f conftest.i conftest.err conftest.$ac_ext\nif $ac_preproc_ok; then :\n\nelse\n  { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error $? \"C preprocessor \\\"$CPP\\\" fails sanity check\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\nfi\n\nac_ext=c\nac_cpp='$CPP $CPPFLAGS'\nac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\nac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\nac_compiler_gnu=$ac_cv_c_compiler_gnu\n\nac_aux_dir=\nfor ac_dir in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"; do\n  if test -f \"$ac_dir/install-sh\"; then\n    ac_aux_dir=$ac_dir\n    ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n    break\n  elif test -f \"$ac_dir/install.sh\"; then\n    ac_aux_dir=$ac_dir\n    ac_install_sh=\"$ac_aux_dir/install.sh -c\"\n    break\n  elif test -f \"$ac_dir/shtool\"; then\n    ac_aux_dir=$ac_dir\n    ac_install_sh=\"$ac_aux_dir/shtool install -c\"\n    break\n  fi\ndone\nif test -z \"$ac_aux_dir\"; then\n  as_fn_error $? \"cannot find install-sh, install.sh, or shtool in \\\"$srcdir\\\" \\\"$srcdir/..\\\" \\\"$srcdir/../..\\\"\" \"$LINENO\" 5\nfi\n\n# These three variables are undocumented and unsupported,\n# and are intended to be withdrawn in a future Autoconf release.\n# They can cause serious problems if a builder's source tree is in a directory\n# whose full name contains unusual characters.\nac_config_guess=\"$SHELL $ac_aux_dir/config.guess\"  # Please don't use this var.\nac_config_sub=\"$SHELL $ac_aux_dir/config.sub\"  # Please don't use this var.\nac_configure=\"$SHELL $ac_aux_dir/configure\"  # Please don't use this var.\n\n\n# Find a good install program.  We prefer a C program (faster),\n# so one script is as good as another.  But avoid the broken or\n# incompatible versions:\n# SysV /etc/install, /usr/sbin/install\n# SunOS /usr/etc/install\n# IRIX /sbin/install\n# AIX /bin/install\n# AmigaOS /C/install, which installs bootblocks on floppy discs\n# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag\n# AFS /usr/afsws/bin/install, which mishandles nonexistent args\n# SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n# OS/2's system install, which has a completely different semantic\n# ./install, which can be erroneously created by make from ./install.sh.\n# Reject install programs that cannot install multiple files.\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for a BSD-compatible install\" >&5\n$as_echo_n \"checking for a BSD-compatible install... \" >&6; }\nif test -z \"$INSTALL\"; then\nif test \"${ac_cv_path_install+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    # Account for people who put trailing slashes in PATH elements.\ncase $as_dir/ in #((\n  ./ | .// | /[cC]/* | \\\n  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \\\n  ?:[\\\\/]os2[\\\\/]install[\\\\/]* | ?:[\\\\/]OS2[\\\\/]INSTALL[\\\\/]* | \\\n  /usr/ucb/* ) ;;\n  *)\n    # OSF1 and SCO ODT 3.0 have their own names for install.\n    # Don't use installbsd from OSF since it installs stuff as root\n    # by default.\n    for ac_prog in ginstall scoinst install; do\n      for ac_exec_ext in '' $ac_executable_extensions; do\n\tif { test -f \"$as_dir/$ac_prog$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_prog$ac_exec_ext\"; }; then\n\t  if test $ac_prog = install &&\n\t    grep dspmsg \"$as_dir/$ac_prog$ac_exec_ext\" >/dev/null 2>&1; then\n\t    # AIX install.  It has an incompatible calling convention.\n\t    :\n\t  elif test $ac_prog = install &&\n\t    grep pwplus \"$as_dir/$ac_prog$ac_exec_ext\" >/dev/null 2>&1; then\n\t    # program-specific install script used by HP pwplus--don't use.\n\t    :\n\t  else\n\t    rm -rf conftest.one conftest.two conftest.dir\n\t    echo one > conftest.one\n\t    echo two > conftest.two\n\t    mkdir conftest.dir\n\t    if \"$as_dir/$ac_prog$ac_exec_ext\" -c conftest.one conftest.two \"`pwd`/conftest.dir\" &&\n\t      test -s conftest.one && test -s conftest.two &&\n\t      test -s conftest.dir/conftest.one &&\n\t      test -s conftest.dir/conftest.two\n\t    then\n\t      ac_cv_path_install=\"$as_dir/$ac_prog$ac_exec_ext -c\"\n\t      break 3\n\t    fi\n\t  fi\n\tfi\n      done\n    done\n    ;;\nesac\n\n  done\nIFS=$as_save_IFS\n\nrm -rf conftest.one conftest.two conftest.dir\n\nfi\n  if test \"${ac_cv_path_install+set}\" = set; then\n    INSTALL=$ac_cv_path_install\n  else\n    # As a last resort, use the slow shell script.  Don't cache a\n    # value for INSTALL within a source directory, because that will\n    # break other packages using the cache if that directory is\n    # removed, or if the value is a relative name.\n    INSTALL=$ac_install_sh\n  fi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $INSTALL\" >&5\n$as_echo \"$INSTALL\" >&6; }\n\n# Use test -z because SunOS4 sh mishandles braces in ${var-val}.\n# It thinks the first close brace ends the variable substitution.\ntest -z \"$INSTALL_PROGRAM\" && INSTALL_PROGRAM='${INSTALL}'\n\ntest -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL}'\n\ntest -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether ln -s works\" >&5\n$as_echo_n \"checking whether ln -s works... \" >&6; }\nLN_S=$as_ln_s\nif test \"$LN_S\" = \"ln -s\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n$as_echo \"yes\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no, using $LN_S\" >&5\n$as_echo \"no, using $LN_S\" >&6; }\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} sets \\$(MAKE)\" >&5\n$as_echo_n \"checking whether ${MAKE-make} sets \\$(MAKE)... \" >&6; }\nset x ${MAKE-make}\nac_make=`$as_echo \"$2\" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`\nif eval \"test \\\"\\${ac_cv_prog_make_${ac_make}_set+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat >conftest.make <<\\_ACEOF\nSHELL = /bin/sh\nall:\n\t@echo '@@@%%%=$(MAKE)=@@@%%%'\n_ACEOF\n# GNU make sometimes prints \"make[1]: Entering ...\", which would confuse us.\ncase `${MAKE-make} -f conftest.make 2>/dev/null` in\n  *@@@%%%=?*=@@@%%%*)\n    eval ac_cv_prog_make_${ac_make}_set=yes;;\n  *)\n    eval ac_cv_prog_make_${ac_make}_set=no;;\nesac\nrm -f conftest.make\nfi\nif eval test \\$ac_cv_prog_make_${ac_make}_set = yes; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n$as_echo \"yes\" >&6; }\n  SET_MAKE=\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n  SET_MAKE=\"MAKE=${MAKE-make}\"\nfi\n\nif test -n \"$ac_tool_prefix\"; then\n  # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\nset dummy ${ac_tool_prefix}ranlib; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_RANLIB+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$RANLIB\"; then\n  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_RANLIB=\"${ac_tool_prefix}ranlib\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nRANLIB=$ac_cv_prog_RANLIB\nif test -n \"$RANLIB\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $RANLIB\" >&5\n$as_echo \"$RANLIB\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\nfi\nif test -z \"$ac_cv_prog_RANLIB\"; then\n  ac_ct_RANLIB=$RANLIB\n  # Extract the first word of \"ranlib\", so it can be a program name with args.\nset dummy ranlib; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_ac_ct_RANLIB+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$ac_ct_RANLIB\"; then\n  ac_cv_prog_ac_ct_RANLIB=\"$ac_ct_RANLIB\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_ac_ct_RANLIB=\"ranlib\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\nfi\nfi\nac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB\nif test -n \"$ac_ct_RANLIB\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_RANLIB\" >&5\n$as_echo \"$ac_ct_RANLIB\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n  if test \"x$ac_ct_RANLIB\" = x; then\n    RANLIB=\":\"\n  else\n    case $cross_compiling:$ac_tool_warned in\nyes:)\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\nac_tool_warned=yes ;;\nesac\n    RANLIB=$ac_ct_RANLIB\n  fi\nelse\n  RANLIB=\"$ac_cv_prog_RANLIB\"\nfi\n\nfor ac_prog in perl\ndo\n  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\nset dummy $ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_PERL+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case $PERL in\n  [\\\\/]* | ?:[\\\\/]*)\n  ac_cv_path_PERL=\"$PERL\" # Let the user override the test with a path.\n  ;;\n  *)\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_path_PERL=\"$as_dir/$ac_word$ac_exec_ext\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  ;;\nesac\nfi\nPERL=$ac_cv_path_PERL\nif test -n \"$PERL\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $PERL\" >&5\n$as_echo \"$PERL\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  test -n \"$PERL\" && break\ndone\ntest -n \"$PERL\" || PERL=\"/usr/local/bin/perl\"\n\nfor ac_prog in nkf\ndo\n  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\nset dummy $ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_NKF+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case $NKF in\n  [\\\\/]* | ?:[\\\\/]*)\n  ac_cv_path_NKF=\"$NKF\" # Let the user override the test with a path.\n  ;;\n  *)\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_path_NKF=\"$as_dir/$ac_word$ac_exec_ext\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  ;;\nesac\nfi\nNKF=$ac_cv_path_NKF\nif test -n \"$NKF\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $NKF\" >&5\n$as_echo \"$NKF\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  test -n \"$NKF\" && break\ndone\ntest -n \"$NKF\" || NKF=\"/usr/local/bin/nkf\"\n\nfor ac_prog in man\ndo\n  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\nset dummy $ac_prog; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_MAN+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case $MAN in\n  [\\\\/]* | ?:[\\\\/]*)\n  ac_cv_path_MAN=\"$MAN\" # Let the user override the test with a path.\n  ;;\n  *)\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_path_MAN=\"$as_dir/$ac_word$ac_exec_ext\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  ;;\nesac\nfi\nMAN=$ac_cv_path_MAN\nif test -n \"$MAN\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $MAN\" >&5\n$as_echo \"$MAN\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n  test -n \"$MAN\" && break\ndone\ntest -n \"$MAN\" || MAN=\"/usr/bin/man\"\n\n# Make sure we can run config.sub.\n$SHELL \"$ac_aux_dir/config.sub\" sun4 >/dev/null 2>&1 ||\n  as_fn_error $? \"cannot run $SHELL $ac_aux_dir/config.sub\" \"$LINENO\" 5\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking build system type\" >&5\n$as_echo_n \"checking build system type... \" >&6; }\nif test \"${ac_cv_build+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_build_alias=$build_alias\ntest \"x$ac_build_alias\" = x &&\n  ac_build_alias=`$SHELL \"$ac_aux_dir/config.guess\"`\ntest \"x$ac_build_alias\" = x &&\n  as_fn_error $? \"cannot guess build type; you must specify one\" \"$LINENO\" 5\nac_cv_build=`$SHELL \"$ac_aux_dir/config.sub\" $ac_build_alias` ||\n  as_fn_error $? \"$SHELL $ac_aux_dir/config.sub $ac_build_alias failed\" \"$LINENO\" 5\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_build\" >&5\n$as_echo \"$ac_cv_build\" >&6; }\ncase $ac_cv_build in\n*-*-*) ;;\n*) as_fn_error $? \"invalid value of canonical build\" \"$LINENO\" 5 ;;\nesac\nbuild=$ac_cv_build\nac_save_IFS=$IFS; IFS='-'\nset x $ac_cv_build\nshift\nbuild_cpu=$1\nbuild_vendor=$2\nshift; shift\n# Remember, the first character of IFS is used to create $*,\n# except with old shells:\nbuild_os=$*\nIFS=$ac_save_IFS\ncase $build_os in *\\ *) build_os=`echo \"$build_os\" | sed 's/ /-/g'`;; esac\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking host system type\" >&5\n$as_echo_n \"checking host system type... \" >&6; }\nif test \"${ac_cv_host+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test \"x$host_alias\" = x; then\n  ac_cv_host=$ac_cv_build\nelse\n  ac_cv_host=`$SHELL \"$ac_aux_dir/config.sub\" $host_alias` ||\n    as_fn_error $? \"$SHELL $ac_aux_dir/config.sub $host_alias failed\" \"$LINENO\" 5\nfi\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_host\" >&5\n$as_echo \"$ac_cv_host\" >&6; }\ncase $ac_cv_host in\n*-*-*) ;;\n*) as_fn_error $? \"invalid value of canonical host\" \"$LINENO\" 5 ;;\nesac\nhost=$ac_cv_host\nac_save_IFS=$IFS; IFS='-'\nset x $ac_cv_host\nshift\nhost_cpu=$1\nhost_vendor=$2\nshift; shift\n# Remember, the first character of IFS is used to create $*,\n# except with old shells:\nhost_os=$*\nIFS=$ac_save_IFS\ncase $host_os in *\\ *) host_os=`echo \"$host_os\" | sed 's/ /-/g'`;; esac\n\n\n\n\n\n\nAUXBIN_TARGETS=\n\n\n\nW3M_TARGET=$target\ncat >>confdefs.h <<_ACEOF\n#define W3M_TARGET $W3M_TARGET\n_ACEOF\n\n\n\n\n\n\n\n\n\n\n\nWCTARGET=\"\"; WCCFLAGS=\"\"; wcinclude=\"\"; wclib=\"\"\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if m17n support is enabled\" >&5\n$as_echo_n \"checking if m17n support is enabled... \" >&6; }\n# Check whether --enable-m17n was given.\nif test \"${enable_m17n+set}\" = set; then :\n  enableval=$enable_m17n;\nelse\n  enable_m17n=\"yes\"\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_m17n\" >&5\n$as_echo \"$enable_m17n\" >&6; }\nif test x\"$enable_m17n\" = xno; then\n  w3m_lang=\"en\"\n  WCTARGET=\"\"\n  WCCFLAGS=\"\"\n  wcinclude=\"\"\n  wclib=\"\"\n  display_charset='WC_CES_US_ASCII'\n  system_charset='WC_CES_US_ASCII'\n  document_charset='WC_CES_US_ASCII'\nelse\n $as_echo \"#define USE_M17N 1\" >>confdefs.h\n\n WCTARGET=\"libwc/libwc.a\"\n WCCFLAGS='-I$(srcdir) -I$(srcdir)/..'\n wcinclude='-I$(srcdir)/libwc'\n wclib=\"-L./libwc -lwc\"\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if unicode support is enabled\" >&5\n$as_echo_n \"checking if unicode support is enabled... \" >&6; }\n # Check whether --enable-unicode was given.\nif test \"${enable_unicode+set}\" = set; then :\n  enableval=$enable_unicode;\nelse\n  enable_unicode=\"yes\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_unicode\" >&5\n$as_echo \"$enable_unicode\" >&6; }\n if test x\"$enable_m17n\" = xyes; then\n  charset=US-ASCII\n else\n  charset=$enable_m17n\n fi\n if test x\"$enable_unicode\" = xyes; then\n    WCCFLAGS=\"-DUSE_UNICODE $WCCFLAGS\"\n    if test x\"$charset\" = xUS-ASCII; then\n     charset=UTF-8\n    fi\n    $as_echo \"#define USE_UNICODE 1\" >>confdefs.h\n\n fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if message l10n\" >&5\n$as_echo_n \"checking if message l10n... \" >&6; }\n # Check whether --enable-messagel10n was given.\nif test \"${enable_messagel10n+set}\" = set; then :\n  enableval=$enable_messagel10n;\nelse\n  enable_messagel10n=\"no\"\nfi\n\n if test x$enable_messagel10n = xyes; then\n  enable_messagel10n=\"ja\";\n fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_messagel10n\" >&5\n$as_echo \"$enable_messagel10n\" >&6; }\n if test x$enable_messagel10n = xno; then\n    :\n else\n    POSUBST=\"\\$(top_srcdir)/posubst\"\n    POLANG=\"$enable_messagel10n\"\n fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if japanese support is enabled\" >&5\n$as_echo_n \"checking if japanese support is enabled... \" >&6; }\n # Check whether --enable-japanese was given.\nif test \"${enable_japanese+set}\" = set; then :\n  enableval=$enable_japanese;\nelse\n  enable_japanese=\"no\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_japanese\" >&5\n$as_echo \"$enable_japanese\" >&6; }\n if test x\"$enable_japanese\" = xno; then\n   w3m_lang=\"en\"\n else\n   w3m_lang=\"ja\"\n   case \"$enable_japanese\" in\n   E*) charset=EUC-JP;;\n   S*) charset=Shift_JIS;;\n   J*) charset=ISO-2022-JP;;\n   U*) charset=UTF-8;;\n   esac\n fi\n display_charset=$charset\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking which charset is used for display\" >&5\n$as_echo_n \"checking which charset is used for display... \" >&6; }\n\n# Check whether --with-charset was given.\nif test \"${with_charset+set}\" = set; then :\n  withval=$with_charset; test x\"with_charset\" = xyes || display_charset=\"$with_charset\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $display_charset\" >&5\n$as_echo \"$display_charset\" >&6; }\n display_charset=`awk '$1 == \"'$display_charset'\" {print $2}' $srcdir/charset-list`\n case \"$display_charset\" in\n   WC_CES_ISO_2022_JP*)\n     system_charset=WC_CES_EUC_JP\n     document_charset=WC_CES_EUC_JP\n     ;;\n   WC_CES_SHIFT_JIS)\n     system_charset=$display_charset\n     # for auto-detect\n     document_charset=WC_CES_EUC_JP\n     ;;\n   WC_CES_ISO_2022_CN|WC_CES_HZ_GB_2312)\n     system_charset=WC_CES_EUC_CN\n     document_charset=WC_CES_EUC_CN\n     ;;\n   WC_CES_BIG5)\n     system_charset=$display_charset\n     # for auto-detect\n     document_charset=WC_CES_EUC_TW\n     ;;\n  WC_CES_ISO_2022_KR)\n     system_charset=WC_CES_EUC_KR\n     document_charset=WC_CES_EUC_KR\n     ;;\n  *)\n     system_charset=$display_charset\n     document_charset=$display_charset\n     ;;\n esac\nfi\nW3M_LANGDEF=`echo $w3m_lang | tr 'a-z' 'A-Z'`\nW3M_LANG=$W3M_LANGDEF\ncat >>confdefs.h <<_ACEOF\n#define W3M_LANG $W3M_LANG\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define WCTARGET \"$WCTARGET\"\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define WCCFLAGS \"$WCCFLAGS\"\n_ACEOF\n\nCFLAGS=\"$CFLAGS $wcinclude\"\nW3M_LIBS=\"$W3M_LIBS $wclib\"\ncat >>confdefs.h <<_ACEOF\n#define DISPLAY_CHARSET $display_charset\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define SYSTEM_CHARSET $system_charset\n_ACEOF\n\ncat >>confdefs.h <<_ACEOF\n#define DOCUMENT_CHARSET $document_charset\n_ACEOF\n\nif test x$enable_messagel10n = xno; then\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for a thread-safe mkdir -p\" >&5\n$as_echo_n \"checking for a thread-safe mkdir -p... \" >&6; }\nif test -z \"$MKDIR_P\"; then\n  if test \"${ac_cv_path_mkdir+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH$PATH_SEPARATOR/opt/sfw/bin\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_prog in mkdir gmkdir; do\n\t for ac_exec_ext in '' $ac_executable_extensions; do\n\t   { test -f \"$as_dir/$ac_prog$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_prog$ac_exec_ext\"; } || continue\n\t   case `\"$as_dir/$ac_prog$ac_exec_ext\" --version 2>&1` in #(\n\t     'mkdir (GNU coreutils) '* | \\\n\t     'mkdir (coreutils) '* | \\\n\t     'mkdir (fileutils) '4.1*)\n\t       ac_cv_path_mkdir=$as_dir/$ac_prog$ac_exec_ext\n\t       break 3;;\n\t   esac\n\t done\n       done\n  done\nIFS=$as_save_IFS\n\nfi\n\n  test -d ./--version && rmdir ./--version\n  if test \"${ac_cv_path_mkdir+set}\" = set; then\n    MKDIR_P=\"$ac_cv_path_mkdir -p\"\n  else\n    # As a last resort, use the slow shell script.  Don't cache a\n    # value for MKDIR_P within a source directory, because that will\n    # break other packages using the cache if that directory is\n    # removed, or if the value is a relative name.\n    MKDIR_P=\"$ac_install_sh -d\"\n  fi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $MKDIR_P\" >&5\n$as_echo \"$MKDIR_P\" >&6; }\n\nmkdir_p=\"$MKDIR_P\"\ncase $mkdir_p in\n  [\\\\/$]* | ?:[\\\\/]*) ;;\n  */*) mkdir_p=\"\\$(top_builddir)/$mkdir_p\" ;;\nesac\n\n\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether NLS is requested\" >&5\n$as_echo_n \"checking whether NLS is requested... \" >&6; }\n    # Check whether --enable-nls was given.\nif test \"${enable_nls+set}\" = set; then :\n  enableval=$enable_nls; USE_NLS=$enableval\nelse\n  USE_NLS=yes\nfi\n\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $USE_NLS\" >&5\n$as_echo \"$USE_NLS\" >&6; }\n\n\n\n\n      GETTEXT_MACRO_VERSION=0.18\n\n\n\n\n# Prepare PATH_SEPARATOR.\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  echo \"#! /bin/sh\" >conf$$.sh\n  echo  \"exit 0\"   >>conf$$.sh\n  chmod +x conf$$.sh\n  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n    PATH_SEPARATOR=';'\n  else\n    PATH_SEPARATOR=:\n  fi\n  rm -f conf$$.sh\nfi\n\n# Find out how to test for executable files. Don't use a zero-byte file,\n# as systems may use methods other than mode bits to determine executability.\ncat >conf$$.file <<_ASEOF\n#! /bin/sh\nexit 0\n_ASEOF\nchmod +x conf$$.file\nif test -x conf$$.file >/dev/null 2>&1; then\n  ac_executable_p=\"test -x\"\nelse\n  ac_executable_p=\"test -f\"\nfi\nrm -f conf$$.file\n\n# Extract the first word of \"msgfmt\", so it can be a program name with args.\nset dummy msgfmt; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_MSGFMT+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case \"$MSGFMT\" in\n  [\\\\/]* | ?:[\\\\/]*)\n    ac_cv_path_MSGFMT=\"$MSGFMT\" # Let the user override the test with a path.\n    ;;\n  *)\n    ac_save_IFS=\"$IFS\"; IFS=$PATH_SEPARATOR\n    for ac_dir in $PATH; do\n      IFS=\"$ac_save_IFS\"\n      test -z \"$ac_dir\" && ac_dir=.\n      for ac_exec_ext in '' $ac_executable_extensions; do\n        if $ac_executable_p \"$ac_dir/$ac_word$ac_exec_ext\"; then\n          echo \"$as_me: trying $ac_dir/$ac_word...\" >&5\n          if $ac_dir/$ac_word --statistics /dev/null >&5 2>&1 &&\n     (if $ac_dir/$ac_word --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then\n            ac_cv_path_MSGFMT=\"$ac_dir/$ac_word$ac_exec_ext\"\n            break 2\n          fi\n        fi\n      done\n    done\n    IFS=\"$ac_save_IFS\"\n  test -z \"$ac_cv_path_MSGFMT\" && ac_cv_path_MSGFMT=\":\"\n    ;;\nesac\nfi\nMSGFMT=\"$ac_cv_path_MSGFMT\"\nif test \"$MSGFMT\" != \":\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $MSGFMT\" >&5\n$as_echo \"$MSGFMT\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n  # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\nset dummy gmsgfmt; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_GMSGFMT+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case $GMSGFMT in\n  [\\\\/]* | ?:[\\\\/]*)\n  ac_cv_path_GMSGFMT=\"$GMSGFMT\" # Let the user override the test with a path.\n  ;;\n  *)\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_path_GMSGFMT=\"$as_dir/$ac_word$ac_exec_ext\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  test -z \"$ac_cv_path_GMSGFMT\" && ac_cv_path_GMSGFMT=\"$MSGFMT\"\n  ;;\nesac\nfi\nGMSGFMT=$ac_cv_path_GMSGFMT\nif test -n \"$GMSGFMT\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $GMSGFMT\" >&5\n$as_echo \"$GMSGFMT\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n\n    case `$MSGFMT --version | sed 1q | sed -e 's,^[^0-9]*,,'` in\n    '' | 0.[0-9] | 0.[0-9].* | 0.1[0-4] | 0.1[0-4].*) MSGFMT_015=: ;;\n    *) MSGFMT_015=$MSGFMT ;;\n  esac\n\n  case `$GMSGFMT --version | sed 1q | sed -e 's,^[^0-9]*,,'` in\n    '' | 0.[0-9] | 0.[0-9].* | 0.1[0-4] | 0.1[0-4].*) GMSGFMT_015=: ;;\n    *) GMSGFMT_015=$GMSGFMT ;;\n  esac\n\n\n\n# Prepare PATH_SEPARATOR.\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  echo \"#! /bin/sh\" >conf$$.sh\n  echo  \"exit 0\"   >>conf$$.sh\n  chmod +x conf$$.sh\n  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n    PATH_SEPARATOR=';'\n  else\n    PATH_SEPARATOR=:\n  fi\n  rm -f conf$$.sh\nfi\n\n# Find out how to test for executable files. Don't use a zero-byte file,\n# as systems may use methods other than mode bits to determine executability.\ncat >conf$$.file <<_ASEOF\n#! /bin/sh\nexit 0\n_ASEOF\nchmod +x conf$$.file\nif test -x conf$$.file >/dev/null 2>&1; then\n  ac_executable_p=\"test -x\"\nelse\n  ac_executable_p=\"test -f\"\nfi\nrm -f conf$$.file\n\n# Extract the first word of \"xgettext\", so it can be a program name with args.\nset dummy xgettext; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_XGETTEXT+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case \"$XGETTEXT\" in\n  [\\\\/]* | ?:[\\\\/]*)\n    ac_cv_path_XGETTEXT=\"$XGETTEXT\" # Let the user override the test with a path.\n    ;;\n  *)\n    ac_save_IFS=\"$IFS\"; IFS=$PATH_SEPARATOR\n    for ac_dir in $PATH; do\n      IFS=\"$ac_save_IFS\"\n      test -z \"$ac_dir\" && ac_dir=.\n      for ac_exec_ext in '' $ac_executable_extensions; do\n        if $ac_executable_p \"$ac_dir/$ac_word$ac_exec_ext\"; then\n          echo \"$as_me: trying $ac_dir/$ac_word...\" >&5\n          if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >&5 2>&1 &&\n     (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then\n            ac_cv_path_XGETTEXT=\"$ac_dir/$ac_word$ac_exec_ext\"\n            break 2\n          fi\n        fi\n      done\n    done\n    IFS=\"$ac_save_IFS\"\n  test -z \"$ac_cv_path_XGETTEXT\" && ac_cv_path_XGETTEXT=\":\"\n    ;;\nesac\nfi\nXGETTEXT=\"$ac_cv_path_XGETTEXT\"\nif test \"$XGETTEXT\" != \":\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $XGETTEXT\" >&5\n$as_echo \"$XGETTEXT\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n    rm -f messages.po\n\n    case `$XGETTEXT --version | sed 1q | sed -e 's,^[^0-9]*,,'` in\n    '' | 0.[0-9] | 0.[0-9].* | 0.1[0-4] | 0.1[0-4].*) XGETTEXT_015=: ;;\n    *) XGETTEXT_015=$XGETTEXT ;;\n  esac\n\n\n\n# Prepare PATH_SEPARATOR.\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  echo \"#! /bin/sh\" >conf$$.sh\n  echo  \"exit 0\"   >>conf$$.sh\n  chmod +x conf$$.sh\n  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n    PATH_SEPARATOR=';'\n  else\n    PATH_SEPARATOR=:\n  fi\n  rm -f conf$$.sh\nfi\n\n# Find out how to test for executable files. Don't use a zero-byte file,\n# as systems may use methods other than mode bits to determine executability.\ncat >conf$$.file <<_ASEOF\n#! /bin/sh\nexit 0\n_ASEOF\nchmod +x conf$$.file\nif test -x conf$$.file >/dev/null 2>&1; then\n  ac_executable_p=\"test -x\"\nelse\n  ac_executable_p=\"test -f\"\nfi\nrm -f conf$$.file\n\n# Extract the first word of \"msgmerge\", so it can be a program name with args.\nset dummy msgmerge; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_MSGMERGE+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case \"$MSGMERGE\" in\n  [\\\\/]* | ?:[\\\\/]*)\n    ac_cv_path_MSGMERGE=\"$MSGMERGE\" # Let the user override the test with a path.\n    ;;\n  *)\n    ac_save_IFS=\"$IFS\"; IFS=$PATH_SEPARATOR\n    for ac_dir in $PATH; do\n      IFS=\"$ac_save_IFS\"\n      test -z \"$ac_dir\" && ac_dir=.\n      for ac_exec_ext in '' $ac_executable_extensions; do\n        if $ac_executable_p \"$ac_dir/$ac_word$ac_exec_ext\"; then\n          echo \"$as_me: trying $ac_dir/$ac_word...\" >&5\n          if $ac_dir/$ac_word --update -q /dev/null /dev/null >&5 2>&1; then\n            ac_cv_path_MSGMERGE=\"$ac_dir/$ac_word$ac_exec_ext\"\n            break 2\n          fi\n        fi\n      done\n    done\n    IFS=\"$ac_save_IFS\"\n  test -z \"$ac_cv_path_MSGMERGE\" && ac_cv_path_MSGMERGE=\":\"\n    ;;\nesac\nfi\nMSGMERGE=\"$ac_cv_path_MSGMERGE\"\nif test \"$MSGMERGE\" != \":\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $MSGMERGE\" >&5\n$as_echo \"$MSGMERGE\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n        test -n \"$localedir\" || localedir='${datadir}/locale'\n\n\n    test -n \"${XGETTEXT_EXTRA_OPTIONS+set}\" || XGETTEXT_EXTRA_OPTIONS=\n\n\n  ac_config_commands=\"$ac_config_commands po-directories\"\n\n\n\n      if test \"X$prefix\" = \"XNONE\"; then\n    acl_final_prefix=\"$ac_default_prefix\"\n  else\n    acl_final_prefix=\"$prefix\"\n  fi\n  if test \"X$exec_prefix\" = \"XNONE\"; then\n    acl_final_exec_prefix='${prefix}'\n  else\n    acl_final_exec_prefix=\"$exec_prefix\"\n  fi\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  eval acl_final_exec_prefix=\\\"$acl_final_exec_prefix\\\"\n  prefix=\"$acl_save_prefix\"\n\n\n# Check whether --with-gnu-ld was given.\nif test \"${with_gnu_ld+set}\" = set; then :\n  withval=$with_gnu_ld; test \"$withval\" = no || with_gnu_ld=yes\nelse\n  with_gnu_ld=no\nfi\n\n# Prepare PATH_SEPARATOR.\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  echo \"#! /bin/sh\" >conf$$.sh\n  echo  \"exit 0\"   >>conf$$.sh\n  chmod +x conf$$.sh\n  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n    PATH_SEPARATOR=';'\n  else\n    PATH_SEPARATOR=:\n  fi\n  rm -f conf$$.sh\nfi\nac_prog=ld\nif test \"$GCC\" = yes; then\n  # Check if gcc -print-prog-name=ld gives a path.\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ld used by GCC\" >&5\n$as_echo_n \"checking for ld used by GCC... \" >&6; }\n  case $host in\n  *-*-mingw*)\n    # gcc leaves a trailing carriage return which upsets mingw\n    ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\\015'` ;;\n  *)\n    ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;\n  esac\n  case $ac_prog in\n    # Accept absolute paths.\n    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n      re_direlt='/[^/][^/]*/\\.\\./'\n      # Canonicalize the path of ld\n      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n        ac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n      done\n      test -z \"$LD\" && LD=\"$ac_prog\"\n      ;;\n  \"\")\n    # If it fails, then pretend we aren't using GCC.\n    ac_prog=ld\n    ;;\n  *)\n    # If it is relative, then search for the first ld in PATH.\n    with_gnu_ld=unknown\n    ;;\n  esac\nelif test \"$with_gnu_ld\" = yes; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for GNU ld\" >&5\n$as_echo_n \"checking for GNU ld... \" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for non-GNU ld\" >&5\n$as_echo_n \"checking for non-GNU ld... \" >&6; }\nfi\nif test \"${acl_cv_path_LD+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -z \"$LD\"; then\n  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n  for ac_dir in $PATH; do\n    test -z \"$ac_dir\" && ac_dir=.\n    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n      acl_cv_path_LD=\"$ac_dir/$ac_prog\"\n      # Check to see if the program is GNU ld.  I'd rather use --version,\n      # but apparently some GNU ld's only accept -v.\n      # Break only if it was the GNU/non-GNU ld that we prefer.\n      case `\"$acl_cv_path_LD\" -v 2>&1 < /dev/null` in\n      *GNU* | *'with BFD'*)\n        test \"$with_gnu_ld\" != no && break ;;\n      *)\n        test \"$with_gnu_ld\" != yes && break ;;\n      esac\n    fi\n  done\n  IFS=\"$ac_save_ifs\"\nelse\n  acl_cv_path_LD=\"$LD\" # Let the user override the test with a path.\nfi\nfi\n\nLD=\"$acl_cv_path_LD\"\nif test -n \"$LD\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $LD\" >&5\n$as_echo \"$LD\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\ntest -z \"$LD\" && as_fn_error $? \"no acceptable ld found in \\$PATH\" \"$LINENO\" 5\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if the linker ($LD) is GNU ld\" >&5\n$as_echo_n \"checking if the linker ($LD) is GNU ld... \" >&6; }\nif test \"${acl_cv_prog_gnu_ld+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  # I'd rather use --version here, but apparently some GNU ld's only accept -v.\ncase `$LD -v 2>&1 </dev/null` in\n*GNU* | *'with BFD'*)\n  acl_cv_prog_gnu_ld=yes ;;\n*)\n  acl_cv_prog_gnu_ld=no ;;\nesac\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acl_cv_prog_gnu_ld\" >&5\n$as_echo \"$acl_cv_prog_gnu_ld\" >&6; }\nwith_gnu_ld=$acl_cv_prog_gnu_ld\n\n\n\n\n                                                { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for shared library run path origin\" >&5\n$as_echo_n \"checking for shared library run path origin... \" >&6; }\nif test \"${acl_cv_rpath+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n\n    CC=\"$CC\" GCC=\"$GCC\" LDFLAGS=\"$LDFLAGS\" LD=\"$LD\" with_gnu_ld=\"$with_gnu_ld\" \\\n    ${CONFIG_SHELL-/bin/sh} \"$ac_aux_dir/config.rpath\" \"$host\" > conftest.sh\n    . ./conftest.sh\n    rm -f ./conftest.sh\n    acl_cv_rpath=done\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acl_cv_rpath\" >&5\n$as_echo \"$acl_cv_rpath\" >&6; }\n  wl=\"$acl_cv_wl\"\n  acl_libext=\"$acl_cv_libext\"\n  acl_shlibext=\"$acl_cv_shlibext\"\n  acl_libname_spec=\"$acl_cv_libname_spec\"\n  acl_library_names_spec=\"$acl_cv_library_names_spec\"\n  acl_hardcode_libdir_flag_spec=\"$acl_cv_hardcode_libdir_flag_spec\"\n  acl_hardcode_libdir_separator=\"$acl_cv_hardcode_libdir_separator\"\n  acl_hardcode_direct=\"$acl_cv_hardcode_direct\"\n  acl_hardcode_minus_L=\"$acl_cv_hardcode_minus_L\"\n    # Check whether --enable-rpath was given.\nif test \"${enable_rpath+set}\" = set; then :\n  enableval=$enable_rpath; :\nelse\n  enable_rpath=yes\nfi\n\n\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e\" >&5\n$as_echo_n \"checking for grep that handles long lines and -e... \" >&6; }\nif test \"${ac_cv_path_GREP+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -z \"$GREP\"; then\n  ac_path_GREP_found=false\n  # Loop through the user's path and test for each of PROGNAME-LIST\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_prog in grep ggrep; do\n    for ac_exec_ext in '' $ac_executable_extensions; do\n      ac_path_GREP=\"$as_dir/$ac_prog$ac_exec_ext\"\n      { test -f \"$ac_path_GREP\" && $as_test_x \"$ac_path_GREP\"; } || continue\n# Check for GNU ac_path_GREP and select it if it is found.\n  # Check for GNU $ac_path_GREP\ncase `\"$ac_path_GREP\" --version 2>&1` in\n*GNU*)\n  ac_cv_path_GREP=\"$ac_path_GREP\" ac_path_GREP_found=:;;\n*)\n  ac_count=0\n  $as_echo_n 0123456789 >\"conftest.in\"\n  while :\n  do\n    cat \"conftest.in\" \"conftest.in\" >\"conftest.tmp\"\n    mv \"conftest.tmp\" \"conftest.in\"\n    cp \"conftest.in\" \"conftest.nl\"\n    $as_echo 'GREP' >> \"conftest.nl\"\n    \"$ac_path_GREP\" -e 'GREP$' -e '-(cannot match)-' < \"conftest.nl\" >\"conftest.out\" 2>/dev/null || break\n    diff \"conftest.out\" \"conftest.nl\" >/dev/null 2>&1 || break\n    as_fn_arith $ac_count + 1 && ac_count=$as_val\n    if test $ac_count -gt ${ac_path_GREP_max-0}; then\n      # Best one so far, save it but keep looking for a better one\n      ac_cv_path_GREP=\"$ac_path_GREP\"\n      ac_path_GREP_max=$ac_count\n    fi\n    # 10*(2^10) chars as input seems more than enough\n    test $ac_count -gt 10 && break\n  done\n  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\nesac\n\n      $ac_path_GREP_found && break 3\n    done\n  done\n  done\nIFS=$as_save_IFS\n  if test -z \"$ac_cv_path_GREP\"; then\n    as_fn_error $? \"no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\" \"$LINENO\" 5\n  fi\nelse\n  ac_cv_path_GREP=$GREP\nfi\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP\" >&5\n$as_echo \"$ac_cv_path_GREP\" >&6; }\n GREP=\"$ac_cv_path_GREP\"\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for egrep\" >&5\n$as_echo_n \"checking for egrep... \" >&6; }\nif test \"${ac_cv_path_EGREP+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1\n   then ac_cv_path_EGREP=\"$GREP -E\"\n   else\n     if test -z \"$EGREP\"; then\n  ac_path_EGREP_found=false\n  # Loop through the user's path and test for each of PROGNAME-LIST\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_prog in egrep; do\n    for ac_exec_ext in '' $ac_executable_extensions; do\n      ac_path_EGREP=\"$as_dir/$ac_prog$ac_exec_ext\"\n      { test -f \"$ac_path_EGREP\" && $as_test_x \"$ac_path_EGREP\"; } || continue\n# Check for GNU ac_path_EGREP and select it if it is found.\n  # Check for GNU $ac_path_EGREP\ncase `\"$ac_path_EGREP\" --version 2>&1` in\n*GNU*)\n  ac_cv_path_EGREP=\"$ac_path_EGREP\" ac_path_EGREP_found=:;;\n*)\n  ac_count=0\n  $as_echo_n 0123456789 >\"conftest.in\"\n  while :\n  do\n    cat \"conftest.in\" \"conftest.in\" >\"conftest.tmp\"\n    mv \"conftest.tmp\" \"conftest.in\"\n    cp \"conftest.in\" \"conftest.nl\"\n    $as_echo 'EGREP' >> \"conftest.nl\"\n    \"$ac_path_EGREP\" 'EGREP$' < \"conftest.nl\" >\"conftest.out\" 2>/dev/null || break\n    diff \"conftest.out\" \"conftest.nl\" >/dev/null 2>&1 || break\n    as_fn_arith $ac_count + 1 && ac_count=$as_val\n    if test $ac_count -gt ${ac_path_EGREP_max-0}; then\n      # Best one so far, save it but keep looking for a better one\n      ac_cv_path_EGREP=\"$ac_path_EGREP\"\n      ac_path_EGREP_max=$ac_count\n    fi\n    # 10*(2^10) chars as input seems more than enough\n    test $ac_count -gt 10 && break\n  done\n  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\nesac\n\n      $ac_path_EGREP_found && break 3\n    done\n  done\n  done\nIFS=$as_save_IFS\n  if test -z \"$ac_cv_path_EGREP\"; then\n    as_fn_error $? \"no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\" \"$LINENO\" 5\n  fi\nelse\n  ac_cv_path_EGREP=$EGREP\nfi\n\n   fi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP\" >&5\n$as_echo \"$ac_cv_path_EGREP\" >&6; }\n EGREP=\"$ac_cv_path_EGREP\"\n\n\n\n\n  acl_libdirstem=lib\n  acl_libdirstem2=\n  case \"$host_os\" in\n    solaris*)\n                                    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for 64-bit host\" >&5\n$as_echo_n \"checking for 64-bit host... \" >&6; }\nif test \"${gl_cv_solaris_64bit+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n#ifdef _LP64\nsixtyfour bits\n#endif\n\n_ACEOF\nif (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n  $EGREP \"sixtyfour bits\" >/dev/null 2>&1; then :\n  gl_cv_solaris_64bit=yes\nelse\n  gl_cv_solaris_64bit=no\nfi\nrm -f conftest*\n\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $gl_cv_solaris_64bit\" >&5\n$as_echo \"$gl_cv_solaris_64bit\" >&6; }\n      if test $gl_cv_solaris_64bit = yes; then\n        acl_libdirstem=lib/64\n        case \"$host_cpu\" in\n          sparc*)        acl_libdirstem2=lib/sparcv9 ;;\n          i*86 | x86_64) acl_libdirstem2=lib/amd64 ;;\n        esac\n      fi\n      ;;\n    *)\n      searchpath=`(LC_ALL=C $CC -print-search-dirs) 2>/dev/null | sed -n -e 's,^libraries: ,,p' | sed -e 's,^=,,'`\n      if test -n \"$searchpath\"; then\n        acl_save_IFS=\"${IFS= \t}\"; IFS=\":\"\n        for searchdir in $searchpath; do\n          if test -d \"$searchdir\"; then\n            case \"$searchdir\" in\n              */lib64/ | */lib64 ) acl_libdirstem=lib64 ;;\n              */../ | */.. )\n                # Better ignore directories of this form. They are misleading.\n                ;;\n              *) searchdir=`cd \"$searchdir\" && pwd`\n                 case \"$searchdir\" in\n                   */lib64 ) acl_libdirstem=lib64 ;;\n                 esac ;;\n            esac\n          fi\n        done\n        IFS=\"$acl_save_IFS\"\n      fi\n      ;;\n  esac\n  test -n \"$acl_libdirstem2\" || acl_libdirstem2=\"$acl_libdirstem\"\n\n\n\n\n\n\n\n\n\n\n\n\n    use_additional=yes\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n\n    eval additional_includedir=\\\"$includedir\\\"\n    eval additional_libdir=\\\"$libdir\\\"\n\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n\n# Check whether --with-libiconv-prefix was given.\nif test \"${with_libiconv_prefix+set}\" = set; then :\n  withval=$with_libiconv_prefix;\n    if test \"X$withval\" = \"Xno\"; then\n      use_additional=no\n    else\n      if test \"X$withval\" = \"X\"; then\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n\n          eval additional_includedir=\\\"$includedir\\\"\n          eval additional_libdir=\\\"$libdir\\\"\n\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n      else\n        additional_includedir=\"$withval/include\"\n        additional_libdir=\"$withval/$acl_libdirstem\"\n        if test \"$acl_libdirstem2\" != \"$acl_libdirstem\" \\\n           && ! test -d \"$withval/$acl_libdirstem\"; then\n          additional_libdir=\"$withval/$acl_libdirstem2\"\n        fi\n      fi\n    fi\n\nfi\n\n      LIBICONV=\n  LTLIBICONV=\n  INCICONV=\n  LIBICONV_PREFIX=\n      HAVE_LIBICONV=\n  rpathdirs=\n  ltrpathdirs=\n  names_already_handled=\n  names_next_round='iconv '\n  while test -n \"$names_next_round\"; do\n    names_this_round=\"$names_next_round\"\n    names_next_round=\n    for name in $names_this_round; do\n      already_handled=\n      for n in $names_already_handled; do\n        if test \"$n\" = \"$name\"; then\n          already_handled=yes\n          break\n        fi\n      done\n      if test -z \"$already_handled\"; then\n        names_already_handled=\"$names_already_handled $name\"\n                        uppername=`echo \"$name\" | sed -e 'y|abcdefghijklmnopqrstuvwxyz./-|ABCDEFGHIJKLMNOPQRSTUVWXYZ___|'`\n        eval value=\\\"\\$HAVE_LIB$uppername\\\"\n        if test -n \"$value\"; then\n          if test \"$value\" = yes; then\n            eval value=\\\"\\$LIB$uppername\\\"\n            test -z \"$value\" || LIBICONV=\"${LIBICONV}${LIBICONV:+ }$value\"\n            eval value=\\\"\\$LTLIB$uppername\\\"\n            test -z \"$value\" || LTLIBICONV=\"${LTLIBICONV}${LTLIBICONV:+ }$value\"\n          else\n                                    :\n          fi\n        else\n                              found_dir=\n          found_la=\n          found_so=\n          found_a=\n          eval libname=\\\"$acl_libname_spec\\\"    # typically: libname=lib$name\n          if test -n \"$acl_shlibext\"; then\n            shrext=\".$acl_shlibext\"             # typically: shrext=.so\n          else\n            shrext=\n          fi\n          if test $use_additional = yes; then\n            dir=\"$additional_libdir\"\n                                    if test -n \"$acl_shlibext\"; then\n              if test -f \"$dir/$libname$shrext\"; then\n                found_dir=\"$dir\"\n                found_so=\"$dir/$libname$shrext\"\n              else\n                if test \"$acl_library_names_spec\" = '$libname$shrext$versuffix'; then\n                  ver=`(cd \"$dir\" && \\\n                        for f in \"$libname$shrext\".*; do echo \"$f\"; done \\\n                        | sed -e \"s,^$libname$shrext\\\\\\\\.,,\" \\\n                        | sort -t '.' -n -r -k1,1 -k2,2 -k3,3 -k4,4 -k5,5 \\\n                        | sed 1q ) 2>/dev/null`\n                  if test -n \"$ver\" && test -f \"$dir/$libname$shrext.$ver\"; then\n                    found_dir=\"$dir\"\n                    found_so=\"$dir/$libname$shrext.$ver\"\n                  fi\n                else\n                  eval library_names=\\\"$acl_library_names_spec\\\"\n                  for f in $library_names; do\n                    if test -f \"$dir/$f\"; then\n                      found_dir=\"$dir\"\n                      found_so=\"$dir/$f\"\n                      break\n                    fi\n                  done\n                fi\n              fi\n            fi\n                        if test \"X$found_dir\" = \"X\"; then\n              if test -f \"$dir/$libname.$acl_libext\"; then\n                found_dir=\"$dir\"\n                found_a=\"$dir/$libname.$acl_libext\"\n              fi\n            fi\n            if test \"X$found_dir\" != \"X\"; then\n              if test -f \"$dir/$libname.la\"; then\n                found_la=\"$dir/$libname.la\"\n              fi\n            fi\n          fi\n          if test \"X$found_dir\" = \"X\"; then\n            for x in $LDFLAGS $LTLIBICONV; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n              case \"$x\" in\n                -L*)\n                  dir=`echo \"X$x\" | sed -e 's/^X-L//'`\n                                    if test -n \"$acl_shlibext\"; then\n                    if test -f \"$dir/$libname$shrext\"; then\n                      found_dir=\"$dir\"\n                      found_so=\"$dir/$libname$shrext\"\n                    else\n                      if test \"$acl_library_names_spec\" = '$libname$shrext$versuffix'; then\n                        ver=`(cd \"$dir\" && \\\n                              for f in \"$libname$shrext\".*; do echo \"$f\"; done \\\n                              | sed -e \"s,^$libname$shrext\\\\\\\\.,,\" \\\n                              | sort -t '.' -n -r -k1,1 -k2,2 -k3,3 -k4,4 -k5,5 \\\n                              | sed 1q ) 2>/dev/null`\n                        if test -n \"$ver\" && test -f \"$dir/$libname$shrext.$ver\"; then\n                          found_dir=\"$dir\"\n                          found_so=\"$dir/$libname$shrext.$ver\"\n                        fi\n                      else\n                        eval library_names=\\\"$acl_library_names_spec\\\"\n                        for f in $library_names; do\n                          if test -f \"$dir/$f\"; then\n                            found_dir=\"$dir\"\n                            found_so=\"$dir/$f\"\n                            break\n                          fi\n                        done\n                      fi\n                    fi\n                  fi\n                                    if test \"X$found_dir\" = \"X\"; then\n                    if test -f \"$dir/$libname.$acl_libext\"; then\n                      found_dir=\"$dir\"\n                      found_a=\"$dir/$libname.$acl_libext\"\n                    fi\n                  fi\n                  if test \"X$found_dir\" != \"X\"; then\n                    if test -f \"$dir/$libname.la\"; then\n                      found_la=\"$dir/$libname.la\"\n                    fi\n                  fi\n                  ;;\n              esac\n              if test \"X$found_dir\" != \"X\"; then\n                break\n              fi\n            done\n          fi\n          if test \"X$found_dir\" != \"X\"; then\n                        LTLIBICONV=\"${LTLIBICONV}${LTLIBICONV:+ }-L$found_dir -l$name\"\n            if test \"X$found_so\" != \"X\"; then\n                                                        if test \"$enable_rpath\" = no \\\n                 || test \"X$found_dir\" = \"X/usr/$acl_libdirstem\" \\\n                 || test \"X$found_dir\" = \"X/usr/$acl_libdirstem2\"; then\n                                LIBICONV=\"${LIBICONV}${LIBICONV:+ }$found_so\"\n              else\n                                                                                haveit=\n                for x in $ltrpathdirs; do\n                  if test \"X$x\" = \"X$found_dir\"; then\n                    haveit=yes\n                    break\n                  fi\n                done\n                if test -z \"$haveit\"; then\n                  ltrpathdirs=\"$ltrpathdirs $found_dir\"\n                fi\n                                if test \"$acl_hardcode_direct\" = yes; then\n                                                      LIBICONV=\"${LIBICONV}${LIBICONV:+ }$found_so\"\n                else\n                  if test -n \"$acl_hardcode_libdir_flag_spec\" && test \"$acl_hardcode_minus_L\" = no; then\n                                                            LIBICONV=\"${LIBICONV}${LIBICONV:+ }$found_so\"\n                                                            haveit=\n                    for x in $rpathdirs; do\n                      if test \"X$x\" = \"X$found_dir\"; then\n                        haveit=yes\n                        break\n                      fi\n                    done\n                    if test -z \"$haveit\"; then\n                      rpathdirs=\"$rpathdirs $found_dir\"\n                    fi\n                  else\n                                                                                haveit=\n                    for x in $LDFLAGS $LIBICONV; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                      if test \"X$x\" = \"X-L$found_dir\"; then\n                        haveit=yes\n                        break\n                      fi\n                    done\n                    if test -z \"$haveit\"; then\n                      LIBICONV=\"${LIBICONV}${LIBICONV:+ }-L$found_dir\"\n                    fi\n                    if test \"$acl_hardcode_minus_L\" != no; then\n                                                                                        LIBICONV=\"${LIBICONV}${LIBICONV:+ }$found_so\"\n                    else\n                                                                                                                                                                                LIBICONV=\"${LIBICONV}${LIBICONV:+ }-l$name\"\n                    fi\n                  fi\n                fi\n              fi\n            else\n              if test \"X$found_a\" != \"X\"; then\n                                LIBICONV=\"${LIBICONV}${LIBICONV:+ }$found_a\"\n              else\n                                                LIBICONV=\"${LIBICONV}${LIBICONV:+ }-L$found_dir -l$name\"\n              fi\n            fi\n                        additional_includedir=\n            case \"$found_dir\" in\n              */$acl_libdirstem | */$acl_libdirstem/)\n                basedir=`echo \"X$found_dir\" | sed -e 's,^X,,' -e \"s,/$acl_libdirstem/\"'*$,,'`\n                if test \"$name\" = 'iconv'; then\n                  LIBICONV_PREFIX=\"$basedir\"\n                fi\n                additional_includedir=\"$basedir/include\"\n                ;;\n              */$acl_libdirstem2 | */$acl_libdirstem2/)\n                basedir=`echo \"X$found_dir\" | sed -e 's,^X,,' -e \"s,/$acl_libdirstem2/\"'*$,,'`\n                if test \"$name\" = 'iconv'; then\n                  LIBICONV_PREFIX=\"$basedir\"\n                fi\n                additional_includedir=\"$basedir/include\"\n                ;;\n            esac\n            if test \"X$additional_includedir\" != \"X\"; then\n                                                                                                                if test \"X$additional_includedir\" != \"X/usr/include\"; then\n                haveit=\n                if test \"X$additional_includedir\" = \"X/usr/local/include\"; then\n                  if test -n \"$GCC\"; then\n                    case $host_os in\n                      linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n                    esac\n                  fi\n                fi\n                if test -z \"$haveit\"; then\n                  for x in $CPPFLAGS $INCICONV; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                    if test \"X$x\" = \"X-I$additional_includedir\"; then\n                      haveit=yes\n                      break\n                    fi\n                  done\n                  if test -z \"$haveit\"; then\n                    if test -d \"$additional_includedir\"; then\n                                            INCICONV=\"${INCICONV}${INCICONV:+ }-I$additional_includedir\"\n                    fi\n                  fi\n                fi\n              fi\n            fi\n                        if test -n \"$found_la\"; then\n                                                        save_libdir=\"$libdir\"\n              case \"$found_la\" in\n                */* | *\\\\*) . \"$found_la\" ;;\n                *) . \"./$found_la\" ;;\n              esac\n              libdir=\"$save_libdir\"\n                            for dep in $dependency_libs; do\n                case \"$dep\" in\n                  -L*)\n                    additional_libdir=`echo \"X$dep\" | sed -e 's/^X-L//'`\n                                                                                                                                                                if test \"X$additional_libdir\" != \"X/usr/$acl_libdirstem\" \\\n                       && test \"X$additional_libdir\" != \"X/usr/$acl_libdirstem2\"; then\n                      haveit=\n                      if test \"X$additional_libdir\" = \"X/usr/local/$acl_libdirstem\" \\\n                         || test \"X$additional_libdir\" = \"X/usr/local/$acl_libdirstem2\"; then\n                        if test -n \"$GCC\"; then\n                          case $host_os in\n                            linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n                          esac\n                        fi\n                      fi\n                      if test -z \"$haveit\"; then\n                        haveit=\n                        for x in $LDFLAGS $LIBICONV; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n                            haveit=yes\n                            break\n                          fi\n                        done\n                        if test -z \"$haveit\"; then\n                          if test -d \"$additional_libdir\"; then\n                                                        LIBICONV=\"${LIBICONV}${LIBICONV:+ }-L$additional_libdir\"\n                          fi\n                        fi\n                        haveit=\n                        for x in $LDFLAGS $LTLIBICONV; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n                            haveit=yes\n                            break\n                          fi\n                        done\n                        if test -z \"$haveit\"; then\n                          if test -d \"$additional_libdir\"; then\n                                                        LTLIBICONV=\"${LTLIBICONV}${LTLIBICONV:+ }-L$additional_libdir\"\n                          fi\n                        fi\n                      fi\n                    fi\n                    ;;\n                  -R*)\n                    dir=`echo \"X$dep\" | sed -e 's/^X-R//'`\n                    if test \"$enable_rpath\" != no; then\n                                                                  haveit=\n                      for x in $rpathdirs; do\n                        if test \"X$x\" = \"X$dir\"; then\n                          haveit=yes\n                          break\n                        fi\n                      done\n                      if test -z \"$haveit\"; then\n                        rpathdirs=\"$rpathdirs $dir\"\n                      fi\n                                                                  haveit=\n                      for x in $ltrpathdirs; do\n                        if test \"X$x\" = \"X$dir\"; then\n                          haveit=yes\n                          break\n                        fi\n                      done\n                      if test -z \"$haveit\"; then\n                        ltrpathdirs=\"$ltrpathdirs $dir\"\n                      fi\n                    fi\n                    ;;\n                  -l*)\n                                        names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's/^X-l//'`\n                    ;;\n                  *.la)\n                                                                                names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's,^X.*/,,' -e 's,^lib,,' -e 's,\\.la$,,'`\n                    ;;\n                  *)\n                                        LIBICONV=\"${LIBICONV}${LIBICONV:+ }$dep\"\n                    LTLIBICONV=\"${LTLIBICONV}${LTLIBICONV:+ }$dep\"\n                    ;;\n                esac\n              done\n            fi\n          else\n                                                            LIBICONV=\"${LIBICONV}${LIBICONV:+ }-l$name\"\n            LTLIBICONV=\"${LTLIBICONV}${LTLIBICONV:+ }-l$name\"\n          fi\n        fi\n      fi\n    done\n  done\n  if test \"X$rpathdirs\" != \"X\"; then\n    if test -n \"$acl_hardcode_libdir_separator\"; then\n                        alldirs=\n      for found_dir in $rpathdirs; do\n        alldirs=\"${alldirs}${alldirs:+$acl_hardcode_libdir_separator}$found_dir\"\n      done\n            acl_save_libdir=\"$libdir\"\n      libdir=\"$alldirs\"\n      eval flag=\\\"$acl_hardcode_libdir_flag_spec\\\"\n      libdir=\"$acl_save_libdir\"\n      LIBICONV=\"${LIBICONV}${LIBICONV:+ }$flag\"\n    else\n            for found_dir in $rpathdirs; do\n        acl_save_libdir=\"$libdir\"\n        libdir=\"$found_dir\"\n        eval flag=\\\"$acl_hardcode_libdir_flag_spec\\\"\n        libdir=\"$acl_save_libdir\"\n        LIBICONV=\"${LIBICONV}${LIBICONV:+ }$flag\"\n      done\n    fi\n  fi\n  if test \"X$ltrpathdirs\" != \"X\"; then\n            for found_dir in $ltrpathdirs; do\n      LTLIBICONV=\"${LTLIBICONV}${LTLIBICONV:+ }-R$found_dir\"\n    done\n  fi\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for CFPreferencesCopyAppValue\" >&5\n$as_echo_n \"checking for CFPreferencesCopyAppValue... \" >&6; }\nif test \"${gt_cv_func_CFPreferencesCopyAppValue+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  gt_save_LIBS=\"$LIBS\"\n     LIBS=\"$LIBS -Wl,-framework -Wl,CoreFoundation\"\n     cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <CoreFoundation/CFPreferences.h>\nint\nmain ()\n{\nCFPreferencesCopyAppValue(NULL, NULL)\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  gt_cv_func_CFPreferencesCopyAppValue=yes\nelse\n  gt_cv_func_CFPreferencesCopyAppValue=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n     LIBS=\"$gt_save_LIBS\"\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_CFPreferencesCopyAppValue\" >&5\n$as_echo \"$gt_cv_func_CFPreferencesCopyAppValue\" >&6; }\n  if test $gt_cv_func_CFPreferencesCopyAppValue = yes; then\n\n$as_echo \"#define HAVE_CFPREFERENCESCOPYAPPVALUE 1\" >>confdefs.h\n\n  fi\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for CFLocaleCopyCurrent\" >&5\n$as_echo_n \"checking for CFLocaleCopyCurrent... \" >&6; }\nif test \"${gt_cv_func_CFLocaleCopyCurrent+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  gt_save_LIBS=\"$LIBS\"\n     LIBS=\"$LIBS -Wl,-framework -Wl,CoreFoundation\"\n     cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <CoreFoundation/CFLocale.h>\nint\nmain ()\n{\nCFLocaleCopyCurrent();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  gt_cv_func_CFLocaleCopyCurrent=yes\nelse\n  gt_cv_func_CFLocaleCopyCurrent=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n     LIBS=\"$gt_save_LIBS\"\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_CFLocaleCopyCurrent\" >&5\n$as_echo \"$gt_cv_func_CFLocaleCopyCurrent\" >&6; }\n  if test $gt_cv_func_CFLocaleCopyCurrent = yes; then\n\n$as_echo \"#define HAVE_CFLOCALECOPYCURRENT 1\" >>confdefs.h\n\n  fi\n  INTL_MACOSX_LIBS=\n  if test $gt_cv_func_CFPreferencesCopyAppValue = yes || test $gt_cv_func_CFLocaleCopyCurrent = yes; then\n    INTL_MACOSX_LIBS=\"-Wl,-framework -Wl,CoreFoundation\"\n  fi\n\n\n\n\n\n\n  LIBINTL=\n  LTLIBINTL=\n  POSUB=\n\n    case \" $gt_needs \" in\n    *\" need-formatstring-macros \"*) gt_api_version=3 ;;\n    *\" need-ngettext \"*) gt_api_version=2 ;;\n    *) gt_api_version=1 ;;\n  esac\n  gt_func_gnugettext_libc=\"gt_cv_func_gnugettext${gt_api_version}_libc\"\n  gt_func_gnugettext_libintl=\"gt_cv_func_gnugettext${gt_api_version}_libintl\"\n\n    if test \"$USE_NLS\" = \"yes\"; then\n    gt_use_preinstalled_gnugettext=no\n\n\n        if test $gt_api_version -ge 3; then\n          gt_revision_test_code='\n#ifndef __GNU_GETTEXT_SUPPORTED_REVISION\n#define __GNU_GETTEXT_SUPPORTED_REVISION(major) ((major) == 0 ? 0 : -1)\n#endif\ntypedef int array [2 * (__GNU_GETTEXT_SUPPORTED_REVISION(0) >= 1) - 1];\n'\n        else\n          gt_revision_test_code=\n        fi\n        if test $gt_api_version -ge 2; then\n          gt_expression_test_code=' + * ngettext (\"\", \"\", 0)'\n        else\n          gt_expression_test_code=\n        fi\n\n        { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for GNU gettext in libc\" >&5\n$as_echo_n \"checking for GNU gettext in libc... \" >&6; }\nif eval \"test \\\"\\${$gt_func_gnugettext_libc+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <libintl.h>\n$gt_revision_test_code\nextern int _nl_msg_cat_cntr;\nextern int *_nl_domain_bindings;\nint\nmain ()\n{\nbindtextdomain (\"\", \"\");\nreturn * gettext (\"\")$gt_expression_test_code + _nl_msg_cat_cntr + *_nl_domain_bindings\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  eval \"$gt_func_gnugettext_libc=yes\"\nelse\n  eval \"$gt_func_gnugettext_libc=no\"\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nfi\neval ac_res=\\$$gt_func_gnugettext_libc\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\n\n        if { eval \"gt_val=\\$$gt_func_gnugettext_libc\"; test \"$gt_val\" != \"yes\"; }; then\n\n\n\n\n\n          am_save_CPPFLAGS=\"$CPPFLAGS\"\n\n  for element in $INCICONV; do\n    haveit=\n    for x in $CPPFLAGS; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n      if test \"X$x\" = \"X$element\"; then\n        haveit=yes\n        break\n      fi\n    done\n    if test -z \"$haveit\"; then\n      CPPFLAGS=\"${CPPFLAGS}${CPPFLAGS:+ }$element\"\n    fi\n  done\n\n\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for iconv\" >&5\n$as_echo_n \"checking for iconv... \" >&6; }\nif test \"${am_cv_func_iconv+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n\n    am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n    am_cv_lib_iconv=no\n    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdlib.h>\n#include <iconv.h>\nint\nmain ()\n{\niconv_t cd = iconv_open(\"\",\"\");\n       iconv(cd,NULL,NULL,NULL,NULL);\n       iconv_close(cd);\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  am_cv_func_iconv=yes\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n    if test \"$am_cv_func_iconv\" != yes; then\n      am_save_LIBS=\"$LIBS\"\n      LIBS=\"$LIBS $LIBICONV\"\n      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdlib.h>\n#include <iconv.h>\nint\nmain ()\n{\niconv_t cd = iconv_open(\"\",\"\");\n         iconv(cd,NULL,NULL,NULL,NULL);\n         iconv_close(cd);\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  am_cv_lib_iconv=yes\n        am_cv_func_iconv=yes\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n      LIBS=\"$am_save_LIBS\"\n    fi\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $am_cv_func_iconv\" >&5\n$as_echo \"$am_cv_func_iconv\" >&6; }\n  if test \"$am_cv_func_iconv\" = yes; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for working iconv\" >&5\n$as_echo_n \"checking for working iconv... \" >&6; }\nif test \"${am_cv_func_iconv_works+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n\n            am_save_LIBS=\"$LIBS\"\n      if test $am_cv_lib_iconv = yes; then\n        LIBS=\"$LIBS $LIBICONV\"\n      fi\n      if test \"$cross_compiling\" = yes; then :\n  case \"$host_os\" in\n           aix* | hpux*) am_cv_func_iconv_works=\"guessing no\" ;;\n           *)            am_cv_func_iconv_works=\"guessing yes\" ;;\n         esac\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n#include <iconv.h>\n#include <string.h>\nint main ()\n{\n  /* Test against AIX 5.1 bug: Failures are not distinguishable from successful\n     returns.  */\n  {\n    iconv_t cd_utf8_to_88591 = iconv_open (\"ISO8859-1\", \"UTF-8\");\n    if (cd_utf8_to_88591 != (iconv_t)(-1))\n      {\n        static const char input[] = \"\\342\\202\\254\"; /* EURO SIGN */\n        char buf[10];\n        const char *inptr = input;\n        size_t inbytesleft = strlen (input);\n        char *outptr = buf;\n        size_t outbytesleft = sizeof (buf);\n        size_t res = iconv (cd_utf8_to_88591,\n                            (char **) &inptr, &inbytesleft,\n                            &outptr, &outbytesleft);\n        if (res == 0)\n          return 1;\n      }\n  }\n  /* Test against Solaris 10 bug: Failures are not distinguishable from\n     successful returns.  */\n  {\n    iconv_t cd_ascii_to_88591 = iconv_open (\"ISO8859-1\", \"646\");\n    if (cd_ascii_to_88591 != (iconv_t)(-1))\n      {\n        static const char input[] = \"\\263\";\n        char buf[10];\n        const char *inptr = input;\n        size_t inbytesleft = strlen (input);\n        char *outptr = buf;\n        size_t outbytesleft = sizeof (buf);\n        size_t res = iconv (cd_ascii_to_88591,\n                            (char **) &inptr, &inbytesleft,\n                            &outptr, &outbytesleft);\n        if (res == 0)\n          return 1;\n      }\n  }\n#if 0 /* This bug could be worked around by the caller.  */\n  /* Test against HP-UX 11.11 bug: Positive return value instead of 0.  */\n  {\n    iconv_t cd_88591_to_utf8 = iconv_open (\"utf8\", \"iso88591\");\n    if (cd_88591_to_utf8 != (iconv_t)(-1))\n      {\n        static const char input[] = \"\\304rger mit b\\366sen B\\374bchen ohne Augenma\\337\";\n        char buf[50];\n        const char *inptr = input;\n        size_t inbytesleft = strlen (input);\n        char *outptr = buf;\n        size_t outbytesleft = sizeof (buf);\n        size_t res = iconv (cd_88591_to_utf8,\n                            (char **) &inptr, &inbytesleft,\n                            &outptr, &outbytesleft);\n        if ((int)res > 0)\n          return 1;\n      }\n  }\n#endif\n  /* Test against HP-UX 11.11 bug: No converter from EUC-JP to UTF-8 is\n     provided.  */\n  if (/* Try standardized names.  */\n      iconv_open (\"UTF-8\", \"EUC-JP\") == (iconv_t)(-1)\n      /* Try IRIX, OSF/1 names.  */\n      && iconv_open (\"UTF-8\", \"eucJP\") == (iconv_t)(-1)\n      /* Try AIX names.  */\n      && iconv_open (\"UTF-8\", \"IBM-eucJP\") == (iconv_t)(-1)\n      /* Try HP-UX names.  */\n      && iconv_open (\"utf8\", \"eucJP\") == (iconv_t)(-1))\n    return 1;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_run \"$LINENO\"; then :\n  am_cv_func_iconv_works=yes\nelse\n  am_cv_func_iconv_works=no\nfi\nrm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n  conftest.$ac_objext conftest.beam conftest.$ac_ext\nfi\n\n      LIBS=\"$am_save_LIBS\"\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $am_cv_func_iconv_works\" >&5\n$as_echo \"$am_cv_func_iconv_works\" >&6; }\n    case \"$am_cv_func_iconv_works\" in\n      *no) am_func_iconv=no am_cv_lib_iconv=no ;;\n      *)   am_func_iconv=yes ;;\n    esac\n  else\n    am_func_iconv=no am_cv_lib_iconv=no\n  fi\n  if test \"$am_func_iconv\" = yes; then\n\n$as_echo \"#define HAVE_ICONV 1\" >>confdefs.h\n\n  fi\n  if test \"$am_cv_lib_iconv\" = yes; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to link with libiconv\" >&5\n$as_echo_n \"checking how to link with libiconv... \" >&6; }\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $LIBICONV\" >&5\n$as_echo \"$LIBICONV\" >&6; }\n  else\n            CPPFLAGS=\"$am_save_CPPFLAGS\"\n    LIBICONV=\n    LTLIBICONV=\n  fi\n\n\n\n\n\n\n\n\n\n\n\n    use_additional=yes\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n\n    eval additional_includedir=\\\"$includedir\\\"\n    eval additional_libdir=\\\"$libdir\\\"\n\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n\n# Check whether --with-libintl-prefix was given.\nif test \"${with_libintl_prefix+set}\" = set; then :\n  withval=$with_libintl_prefix;\n    if test \"X$withval\" = \"Xno\"; then\n      use_additional=no\n    else\n      if test \"X$withval\" = \"X\"; then\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n\n          eval additional_includedir=\\\"$includedir\\\"\n          eval additional_libdir=\\\"$libdir\\\"\n\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n      else\n        additional_includedir=\"$withval/include\"\n        additional_libdir=\"$withval/$acl_libdirstem\"\n        if test \"$acl_libdirstem2\" != \"$acl_libdirstem\" \\\n           && ! test -d \"$withval/$acl_libdirstem\"; then\n          additional_libdir=\"$withval/$acl_libdirstem2\"\n        fi\n      fi\n    fi\n\nfi\n\n      LIBINTL=\n  LTLIBINTL=\n  INCINTL=\n  LIBINTL_PREFIX=\n      HAVE_LIBINTL=\n  rpathdirs=\n  ltrpathdirs=\n  names_already_handled=\n  names_next_round='intl '\n  while test -n \"$names_next_round\"; do\n    names_this_round=\"$names_next_round\"\n    names_next_round=\n    for name in $names_this_round; do\n      already_handled=\n      for n in $names_already_handled; do\n        if test \"$n\" = \"$name\"; then\n          already_handled=yes\n          break\n        fi\n      done\n      if test -z \"$already_handled\"; then\n        names_already_handled=\"$names_already_handled $name\"\n                        uppername=`echo \"$name\" | sed -e 'y|abcdefghijklmnopqrstuvwxyz./-|ABCDEFGHIJKLMNOPQRSTUVWXYZ___|'`\n        eval value=\\\"\\$HAVE_LIB$uppername\\\"\n        if test -n \"$value\"; then\n          if test \"$value\" = yes; then\n            eval value=\\\"\\$LIB$uppername\\\"\n            test -z \"$value\" || LIBINTL=\"${LIBINTL}${LIBINTL:+ }$value\"\n            eval value=\\\"\\$LTLIB$uppername\\\"\n            test -z \"$value\" || LTLIBINTL=\"${LTLIBINTL}${LTLIBINTL:+ }$value\"\n          else\n                                    :\n          fi\n        else\n                              found_dir=\n          found_la=\n          found_so=\n          found_a=\n          eval libname=\\\"$acl_libname_spec\\\"    # typically: libname=lib$name\n          if test -n \"$acl_shlibext\"; then\n            shrext=\".$acl_shlibext\"             # typically: shrext=.so\n          else\n            shrext=\n          fi\n          if test $use_additional = yes; then\n            dir=\"$additional_libdir\"\n                                    if test -n \"$acl_shlibext\"; then\n              if test -f \"$dir/$libname$shrext\"; then\n                found_dir=\"$dir\"\n                found_so=\"$dir/$libname$shrext\"\n              else\n                if test \"$acl_library_names_spec\" = '$libname$shrext$versuffix'; then\n                  ver=`(cd \"$dir\" && \\\n                        for f in \"$libname$shrext\".*; do echo \"$f\"; done \\\n                        | sed -e \"s,^$libname$shrext\\\\\\\\.,,\" \\\n                        | sort -t '.' -n -r -k1,1 -k2,2 -k3,3 -k4,4 -k5,5 \\\n                        | sed 1q ) 2>/dev/null`\n                  if test -n \"$ver\" && test -f \"$dir/$libname$shrext.$ver\"; then\n                    found_dir=\"$dir\"\n                    found_so=\"$dir/$libname$shrext.$ver\"\n                  fi\n                else\n                  eval library_names=\\\"$acl_library_names_spec\\\"\n                  for f in $library_names; do\n                    if test -f \"$dir/$f\"; then\n                      found_dir=\"$dir\"\n                      found_so=\"$dir/$f\"\n                      break\n                    fi\n                  done\n                fi\n              fi\n            fi\n                        if test \"X$found_dir\" = \"X\"; then\n              if test -f \"$dir/$libname.$acl_libext\"; then\n                found_dir=\"$dir\"\n                found_a=\"$dir/$libname.$acl_libext\"\n              fi\n            fi\n            if test \"X$found_dir\" != \"X\"; then\n              if test -f \"$dir/$libname.la\"; then\n                found_la=\"$dir/$libname.la\"\n              fi\n            fi\n          fi\n          if test \"X$found_dir\" = \"X\"; then\n            for x in $LDFLAGS $LTLIBINTL; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n              case \"$x\" in\n                -L*)\n                  dir=`echo \"X$x\" | sed -e 's/^X-L//'`\n                                    if test -n \"$acl_shlibext\"; then\n                    if test -f \"$dir/$libname$shrext\"; then\n                      found_dir=\"$dir\"\n                      found_so=\"$dir/$libname$shrext\"\n                    else\n                      if test \"$acl_library_names_spec\" = '$libname$shrext$versuffix'; then\n                        ver=`(cd \"$dir\" && \\\n                              for f in \"$libname$shrext\".*; do echo \"$f\"; done \\\n                              | sed -e \"s,^$libname$shrext\\\\\\\\.,,\" \\\n                              | sort -t '.' -n -r -k1,1 -k2,2 -k3,3 -k4,4 -k5,5 \\\n                              | sed 1q ) 2>/dev/null`\n                        if test -n \"$ver\" && test -f \"$dir/$libname$shrext.$ver\"; then\n                          found_dir=\"$dir\"\n                          found_so=\"$dir/$libname$shrext.$ver\"\n                        fi\n                      else\n                        eval library_names=\\\"$acl_library_names_spec\\\"\n                        for f in $library_names; do\n                          if test -f \"$dir/$f\"; then\n                            found_dir=\"$dir\"\n                            found_so=\"$dir/$f\"\n                            break\n                          fi\n                        done\n                      fi\n                    fi\n                  fi\n                                    if test \"X$found_dir\" = \"X\"; then\n                    if test -f \"$dir/$libname.$acl_libext\"; then\n                      found_dir=\"$dir\"\n                      found_a=\"$dir/$libname.$acl_libext\"\n                    fi\n                  fi\n                  if test \"X$found_dir\" != \"X\"; then\n                    if test -f \"$dir/$libname.la\"; then\n                      found_la=\"$dir/$libname.la\"\n                    fi\n                  fi\n                  ;;\n              esac\n              if test \"X$found_dir\" != \"X\"; then\n                break\n              fi\n            done\n          fi\n          if test \"X$found_dir\" != \"X\"; then\n                        LTLIBINTL=\"${LTLIBINTL}${LTLIBINTL:+ }-L$found_dir -l$name\"\n            if test \"X$found_so\" != \"X\"; then\n                                                        if test \"$enable_rpath\" = no \\\n                 || test \"X$found_dir\" = \"X/usr/$acl_libdirstem\" \\\n                 || test \"X$found_dir\" = \"X/usr/$acl_libdirstem2\"; then\n                                LIBINTL=\"${LIBINTL}${LIBINTL:+ }$found_so\"\n              else\n                                                                                haveit=\n                for x in $ltrpathdirs; do\n                  if test \"X$x\" = \"X$found_dir\"; then\n                    haveit=yes\n                    break\n                  fi\n                done\n                if test -z \"$haveit\"; then\n                  ltrpathdirs=\"$ltrpathdirs $found_dir\"\n                fi\n                                if test \"$acl_hardcode_direct\" = yes; then\n                                                      LIBINTL=\"${LIBINTL}${LIBINTL:+ }$found_so\"\n                else\n                  if test -n \"$acl_hardcode_libdir_flag_spec\" && test \"$acl_hardcode_minus_L\" = no; then\n                                                            LIBINTL=\"${LIBINTL}${LIBINTL:+ }$found_so\"\n                                                            haveit=\n                    for x in $rpathdirs; do\n                      if test \"X$x\" = \"X$found_dir\"; then\n                        haveit=yes\n                        break\n                      fi\n                    done\n                    if test -z \"$haveit\"; then\n                      rpathdirs=\"$rpathdirs $found_dir\"\n                    fi\n                  else\n                                                                                haveit=\n                    for x in $LDFLAGS $LIBINTL; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                      if test \"X$x\" = \"X-L$found_dir\"; then\n                        haveit=yes\n                        break\n                      fi\n                    done\n                    if test -z \"$haveit\"; then\n                      LIBINTL=\"${LIBINTL}${LIBINTL:+ }-L$found_dir\"\n                    fi\n                    if test \"$acl_hardcode_minus_L\" != no; then\n                                                                                        LIBINTL=\"${LIBINTL}${LIBINTL:+ }$found_so\"\n                    else\n                                                                                                                                                                                LIBINTL=\"${LIBINTL}${LIBINTL:+ }-l$name\"\n                    fi\n                  fi\n                fi\n              fi\n            else\n              if test \"X$found_a\" != \"X\"; then\n                                LIBINTL=\"${LIBINTL}${LIBINTL:+ }$found_a\"\n              else\n                                                LIBINTL=\"${LIBINTL}${LIBINTL:+ }-L$found_dir -l$name\"\n              fi\n            fi\n                        additional_includedir=\n            case \"$found_dir\" in\n              */$acl_libdirstem | */$acl_libdirstem/)\n                basedir=`echo \"X$found_dir\" | sed -e 's,^X,,' -e \"s,/$acl_libdirstem/\"'*$,,'`\n                if test \"$name\" = 'intl'; then\n                  LIBINTL_PREFIX=\"$basedir\"\n                fi\n                additional_includedir=\"$basedir/include\"\n                ;;\n              */$acl_libdirstem2 | */$acl_libdirstem2/)\n                basedir=`echo \"X$found_dir\" | sed -e 's,^X,,' -e \"s,/$acl_libdirstem2/\"'*$,,'`\n                if test \"$name\" = 'intl'; then\n                  LIBINTL_PREFIX=\"$basedir\"\n                fi\n                additional_includedir=\"$basedir/include\"\n                ;;\n            esac\n            if test \"X$additional_includedir\" != \"X\"; then\n                                                                                                                if test \"X$additional_includedir\" != \"X/usr/include\"; then\n                haveit=\n                if test \"X$additional_includedir\" = \"X/usr/local/include\"; then\n                  if test -n \"$GCC\"; then\n                    case $host_os in\n                      linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n                    esac\n                  fi\n                fi\n                if test -z \"$haveit\"; then\n                  for x in $CPPFLAGS $INCINTL; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                    if test \"X$x\" = \"X-I$additional_includedir\"; then\n                      haveit=yes\n                      break\n                    fi\n                  done\n                  if test -z \"$haveit\"; then\n                    if test -d \"$additional_includedir\"; then\n                                            INCINTL=\"${INCINTL}${INCINTL:+ }-I$additional_includedir\"\n                    fi\n                  fi\n                fi\n              fi\n            fi\n                        if test -n \"$found_la\"; then\n                                                        save_libdir=\"$libdir\"\n              case \"$found_la\" in\n                */* | *\\\\*) . \"$found_la\" ;;\n                *) . \"./$found_la\" ;;\n              esac\n              libdir=\"$save_libdir\"\n                            for dep in $dependency_libs; do\n                case \"$dep\" in\n                  -L*)\n                    additional_libdir=`echo \"X$dep\" | sed -e 's/^X-L//'`\n                                                                                                                                                                if test \"X$additional_libdir\" != \"X/usr/$acl_libdirstem\" \\\n                       && test \"X$additional_libdir\" != \"X/usr/$acl_libdirstem2\"; then\n                      haveit=\n                      if test \"X$additional_libdir\" = \"X/usr/local/$acl_libdirstem\" \\\n                         || test \"X$additional_libdir\" = \"X/usr/local/$acl_libdirstem2\"; then\n                        if test -n \"$GCC\"; then\n                          case $host_os in\n                            linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n                          esac\n                        fi\n                      fi\n                      if test -z \"$haveit\"; then\n                        haveit=\n                        for x in $LDFLAGS $LIBINTL; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n                            haveit=yes\n                            break\n                          fi\n                        done\n                        if test -z \"$haveit\"; then\n                          if test -d \"$additional_libdir\"; then\n                                                        LIBINTL=\"${LIBINTL}${LIBINTL:+ }-L$additional_libdir\"\n                          fi\n                        fi\n                        haveit=\n                        for x in $LDFLAGS $LTLIBINTL; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n                          if test \"X$x\" = \"X-L$additional_libdir\"; then\n                            haveit=yes\n                            break\n                          fi\n                        done\n                        if test -z \"$haveit\"; then\n                          if test -d \"$additional_libdir\"; then\n                                                        LTLIBINTL=\"${LTLIBINTL}${LTLIBINTL:+ }-L$additional_libdir\"\n                          fi\n                        fi\n                      fi\n                    fi\n                    ;;\n                  -R*)\n                    dir=`echo \"X$dep\" | sed -e 's/^X-R//'`\n                    if test \"$enable_rpath\" != no; then\n                                                                  haveit=\n                      for x in $rpathdirs; do\n                        if test \"X$x\" = \"X$dir\"; then\n                          haveit=yes\n                          break\n                        fi\n                      done\n                      if test -z \"$haveit\"; then\n                        rpathdirs=\"$rpathdirs $dir\"\n                      fi\n                                                                  haveit=\n                      for x in $ltrpathdirs; do\n                        if test \"X$x\" = \"X$dir\"; then\n                          haveit=yes\n                          break\n                        fi\n                      done\n                      if test -z \"$haveit\"; then\n                        ltrpathdirs=\"$ltrpathdirs $dir\"\n                      fi\n                    fi\n                    ;;\n                  -l*)\n                                        names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's/^X-l//'`\n                    ;;\n                  *.la)\n                                                                                names_next_round=\"$names_next_round \"`echo \"X$dep\" | sed -e 's,^X.*/,,' -e 's,^lib,,' -e 's,\\.la$,,'`\n                    ;;\n                  *)\n                                        LIBINTL=\"${LIBINTL}${LIBINTL:+ }$dep\"\n                    LTLIBINTL=\"${LTLIBINTL}${LTLIBINTL:+ }$dep\"\n                    ;;\n                esac\n              done\n            fi\n          else\n                                                            LIBINTL=\"${LIBINTL}${LIBINTL:+ }-l$name\"\n            LTLIBINTL=\"${LTLIBINTL}${LTLIBINTL:+ }-l$name\"\n          fi\n        fi\n      fi\n    done\n  done\n  if test \"X$rpathdirs\" != \"X\"; then\n    if test -n \"$acl_hardcode_libdir_separator\"; then\n                        alldirs=\n      for found_dir in $rpathdirs; do\n        alldirs=\"${alldirs}${alldirs:+$acl_hardcode_libdir_separator}$found_dir\"\n      done\n            acl_save_libdir=\"$libdir\"\n      libdir=\"$alldirs\"\n      eval flag=\\\"$acl_hardcode_libdir_flag_spec\\\"\n      libdir=\"$acl_save_libdir\"\n      LIBINTL=\"${LIBINTL}${LIBINTL:+ }$flag\"\n    else\n            for found_dir in $rpathdirs; do\n        acl_save_libdir=\"$libdir\"\n        libdir=\"$found_dir\"\n        eval flag=\\\"$acl_hardcode_libdir_flag_spec\\\"\n        libdir=\"$acl_save_libdir\"\n        LIBINTL=\"${LIBINTL}${LIBINTL:+ }$flag\"\n      done\n    fi\n  fi\n  if test \"X$ltrpathdirs\" != \"X\"; then\n            for found_dir in $ltrpathdirs; do\n      LTLIBINTL=\"${LTLIBINTL}${LTLIBINTL:+ }-R$found_dir\"\n    done\n  fi\n\n\n\n\n\n\n          { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for GNU gettext in libintl\" >&5\n$as_echo_n \"checking for GNU gettext in libintl... \" >&6; }\nif eval \"test \\\"\\${$gt_func_gnugettext_libintl+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  gt_save_CPPFLAGS=\"$CPPFLAGS\"\n            CPPFLAGS=\"$CPPFLAGS $INCINTL\"\n            gt_save_LIBS=\"$LIBS\"\n            LIBS=\"$LIBS $LIBINTL\"\n                        cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <libintl.h>\n$gt_revision_test_code\nextern int _nl_msg_cat_cntr;\nextern\n#ifdef __cplusplus\n\"C\"\n#endif\nconst char *_nl_expand_alias (const char *);\nint\nmain ()\n{\nbindtextdomain (\"\", \"\");\nreturn * gettext (\"\")$gt_expression_test_code + _nl_msg_cat_cntr + *_nl_expand_alias (\"\")\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  eval \"$gt_func_gnugettext_libintl=yes\"\nelse\n  eval \"$gt_func_gnugettext_libintl=no\"\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n                        if { eval \"gt_val=\\$$gt_func_gnugettext_libintl\"; test \"$gt_val\" != yes; } && test -n \"$LIBICONV\"; then\n              LIBS=\"$LIBS $LIBICONV\"\n              cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <libintl.h>\n$gt_revision_test_code\nextern int _nl_msg_cat_cntr;\nextern\n#ifdef __cplusplus\n\"C\"\n#endif\nconst char *_nl_expand_alias (const char *);\nint\nmain ()\n{\nbindtextdomain (\"\", \"\");\nreturn * gettext (\"\")$gt_expression_test_code + _nl_msg_cat_cntr + *_nl_expand_alias (\"\")\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  LIBINTL=\"$LIBINTL $LIBICONV\"\n                LTLIBINTL=\"$LTLIBINTL $LTLIBICONV\"\n                eval \"$gt_func_gnugettext_libintl=yes\"\n\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n            fi\n            CPPFLAGS=\"$gt_save_CPPFLAGS\"\n            LIBS=\"$gt_save_LIBS\"\nfi\neval ac_res=\\$$gt_func_gnugettext_libintl\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\n        fi\n\n                                        if { eval \"gt_val=\\$$gt_func_gnugettext_libc\"; test \"$gt_val\" = \"yes\"; } \\\n           || { { eval \"gt_val=\\$$gt_func_gnugettext_libintl\"; test \"$gt_val\" = \"yes\"; } \\\n                && test \"$PACKAGE\" != gettext-runtime \\\n                && test \"$PACKAGE\" != gettext-tools; }; then\n          gt_use_preinstalled_gnugettext=yes\n        else\n                    LIBINTL=\n          LTLIBINTL=\n          INCINTL=\n        fi\n\n\n\n    if test -n \"$INTL_MACOSX_LIBS\"; then\n      if test \"$gt_use_preinstalled_gnugettext\" = \"yes\" \\\n         || test \"$nls_cv_use_gnu_gettext\" = \"yes\"; then\n                LIBINTL=\"$LIBINTL $INTL_MACOSX_LIBS\"\n        LTLIBINTL=\"$LTLIBINTL $INTL_MACOSX_LIBS\"\n      fi\n    fi\n\n    if test \"$gt_use_preinstalled_gnugettext\" = \"yes\" \\\n       || test \"$nls_cv_use_gnu_gettext\" = \"yes\"; then\n\n$as_echo \"#define ENABLE_NLS 1\" >>confdefs.h\n\n    else\n      USE_NLS=no\n    fi\n  fi\n\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether to use NLS\" >&5\n$as_echo_n \"checking whether to use NLS... \" >&6; }\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $USE_NLS\" >&5\n$as_echo \"$USE_NLS\" >&6; }\n  if test \"$USE_NLS\" = \"yes\"; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking where the gettext function comes from\" >&5\n$as_echo_n \"checking where the gettext function comes from... \" >&6; }\n    if test \"$gt_use_preinstalled_gnugettext\" = \"yes\"; then\n      if { eval \"gt_val=\\$$gt_func_gnugettext_libintl\"; test \"$gt_val\" = \"yes\"; }; then\n        gt_source=\"external libintl\"\n      else\n        gt_source=\"libc\"\n      fi\n    else\n      gt_source=\"included intl directory\"\n    fi\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $gt_source\" >&5\n$as_echo \"$gt_source\" >&6; }\n  fi\n\n  if test \"$USE_NLS\" = \"yes\"; then\n\n    if test \"$gt_use_preinstalled_gnugettext\" = \"yes\"; then\n      if { eval \"gt_val=\\$$gt_func_gnugettext_libintl\"; test \"$gt_val\" = \"yes\"; }; then\n        { $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to link with libintl\" >&5\n$as_echo_n \"checking how to link with libintl... \" >&6; }\n        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $LIBINTL\" >&5\n$as_echo \"$LIBINTL\" >&6; }\n\n  for element in $INCINTL; do\n    haveit=\n    for x in $CPPFLAGS; do\n\n  acl_save_prefix=\"$prefix\"\n  prefix=\"$acl_final_prefix\"\n  acl_save_exec_prefix=\"$exec_prefix\"\n  exec_prefix=\"$acl_final_exec_prefix\"\n  eval x=\\\"$x\\\"\n  exec_prefix=\"$acl_save_exec_prefix\"\n  prefix=\"$acl_save_prefix\"\n\n      if test \"X$x\" = \"X$element\"; then\n        haveit=yes\n        break\n      fi\n    done\n    if test -z \"$haveit\"; then\n      CPPFLAGS=\"${CPPFLAGS}${CPPFLAGS:+ }$element\"\n    fi\n  done\n\n      fi\n\n\n$as_echo \"#define HAVE_GETTEXT 1\" >>confdefs.h\n\n\n$as_echo \"#define HAVE_DCGETTEXT 1\" >>confdefs.h\n\n    fi\n\n        POSUB=po\n  fi\n\n\n\n    INTLLIBS=\"$LIBINTL\"\n\n\n\n\n\n\nfi\n\nNLSTARGET=\"\"\nif test x\"$USE_NLS\" = xyes; then\n  NLSTARGET=\"po\"\nfi\n\n\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if color escape sequence for kterm/pxvt is enabled\" >&5\n$as_echo_n \"checking if color escape sequence for kterm/pxvt is enabled... \" >&6; }\n# Check whether --enable-color was given.\nif test \"${enable_color+set}\" = set; then :\n  enableval=$enable_color;\nelse\n  enable_color=\"yes\"\nfi\n\ntest x\"$enable_color\" = xyes && $as_echo \"#define USE_COLOR 1\" >>confdefs.h\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_color\" >&5\n$as_echo \"$enable_color\" >&6; }\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if ansi color escape sequence support is enabled\" >&5\n$as_echo_n \"checking if ansi color escape sequence support is enabled... \" >&6; }\n# Check whether --enable-ansi_color was given.\nif test \"${enable_ansi_color+set}\" = set; then :\n  enableval=$enable_ansi_color;\nelse\n  enable_ansi_color=\"$enable_color\"\nfi\n\n test x\"$enable_ansi_color\" = xyes && $as_echo \"#define USE_ANSI_COLOR 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_ansi_color\" >&5\n$as_echo \"$enable_ansi_color\" >&6; }\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if background color support is enabled\" >&5\n$as_echo_n \"checking if background color support is enabled... \" >&6; }\n# Check whether --enable-bgcolor was given.\nif test \"${enable_bgcolor+set}\" = set; then :\n  enableval=$enable_bgcolor;\nelse\n  enable_bgcolor=\"$enable_color\"\nfi\n\n test x\"$enable_bgcolor\" = xyes && $as_echo \"#define USE_BG_COLOR 1\" >>confdefs.h\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_bgcolor\" >&5\n$as_echo \"$enable_bgcolor\" >&6; }\n\n\n\n\n\n\n\n\n INSTALL_W3MIMGDISPLAY='${INSTALL_PROGRAM}'\n $as_echo \"#define INSTALL_W3MIMGDISPLAY \\$INSTALL_W3MIMGDISPLAY\" >>confdefs.h\n\n\n\n\n\n\n\n\n\n\n\n\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if image is enabled\" >&5\n$as_echo_n \"checking if image is enabled... \" >&6; }\n # Check whether --enable-image was given.\nif test \"${enable_image+set}\" = set; then :\n  enableval=$enable_image;\nelse\n  enable_image=\"yes\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_image\" >&5\n$as_echo \"$enable_image\" >&6; }\n if test x\"$enable_image\" != xno; then\n  IMGOBJS=w3mimg.o\n  if test x\"$enable_image\" = xyes; then\n    enable_image=x11\n    case \"`uname -s`\" in\n    Linux|linux|LINUX|FreeBSD|freebsd|FREEBSD)\n\tif test -c /dev/fb0; then\n\t  enable_image=x11,fb\n        fi;;\n    CYGWIN*)\n\tenable_image=x11,win;;\n    esac\n  fi\n  save_ifs=\"$IFS\"; IFS=\",\";\n  set x $enable_image; shift\n  IFS=\"$save_ifs\"\n  for img in \"$@\"; do\n    case $img in\n      x11) x11=yes;;\n      fb)  fb=yes;;\n      fb+s) fb=yes\n           $as_echo \"#define W3MIMGDISPLAY_SETUID 1\" >>confdefs.h\n\n           INSTALL_W3MIMGDISPLAY='${INSTALL} -o root -m 4755 -s'\n           $as_echo \"#define INSTALL_W3MIMGDISPLAY \\$INSTALL_W3MIMGDISPLAY\" >>confdefs.h\n;;\n      win) win=yes;;\n    esac\n  done\n  enable_image=yes\n  $as_echo \"#define USE_IMAGE 1\" >>confdefs.h\n\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking image library\" >&5\n$as_echo_n \"checking image library... \" >&6; }\n\n# Check whether --with-imagelib was given.\nif test \"${with_imagelib+set}\" = set; then :\n  withval=$with_imagelib;\nelse\n  with_imagelib=\"yes\"\nfi\n\n  if test x\"$with_imagelib\" = xyes; then\n    with_imagelib=\"gtk2 gdk-pixbuf imlib imlib2\"\n  fi\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_imagelib\" >&5\n$as_echo \"$with_imagelib\" >&6; }\n  with_imlib=no\n  with_imlib2=no\n  with_gdkpixbuf=no\n  with_gtk2=no\n  for imagelib in $with_imagelib\n  do\n   case \"$imagelib\" in\n   imlib)\n     with_imlib=\"yes\"\n     if test x\"$IMLIB_CONFIG\" = x; then\n       IMLIB_CONFIG=imlib-config\n     fi;;\n   imlib2)\n     with_imlib2=\"yes\"\n     if test x\"$PKG_CONFIG\" = x; then\n       PKG_CONFIG=pkg-config\n     fi\n     if test x\"$IMLIB2_CONFIG\" = x; then\n       IMLIB2_CONFIG=imlib2-config\n     fi;;\n   gdk-pixbuf)\n     with_gdkpixbuf=\"yes\"\n     if test x\"$GDKPIXBUF_CONFIG\" = x; then\n       GDKPIXBUF_CONFIG=gdk-pixbuf-config\n     fi;;\n   gtk2)\n     with_gtk2=\"yes\"\n     if test x\"$PKG_CONFIG\" = x; then\n       PKG_CONFIG=pkg-config\n     fi;;\n   esac\n  done\n  IMGTARGETS=\"\"\n  IMGLINK='$(CC)'\n  if test x\"$with_gtk2\" = xyes; then\n   version=\"`$PKG_CONFIG --modversion gdk-pixbuf-2.0 2>/dev/null`\"\n if test x\"$version\" != x; then\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking GdkPixbuf version\" >&5\n$as_echo_n \"checking GdkPixbuf version... \" >&6; }\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $version\" >&5\n$as_echo \"$version\" >&6; }\n   set -- `echo \"$version\" | sed 's/[^0-9]/ /g'`\n   if test \"$1\" -ne \"2\" -o \"$2\" -lt \"0\" || test \"$2\" -eq \"0\" -a \"$3\" -lt \"0\"; then\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: GdkPixbuf is too old. Install GdkPixbuf (version >= 2.0.0)\" >&5\n$as_echo \"$as_me: WARNING: GdkPixbuf is too old. Install GdkPixbuf (version >= 2.0.0)\" >&2;}\n     have_gdkpixbuf=\"no\"; have_gtk2=\"no\"\n   else\n     have_gdkpixbuf=\"yes\"; have_gtk2=\"yes\"\n   fi\n else\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: GdkPixbuf is not installed.  Install GdkPixbuf (version >= 2.0.0)\" >&5\n$as_echo \"$as_me: WARNING: GdkPixbuf is not installed.  Install GdkPixbuf (version >= 2.0.0)\" >&2;}\n   have_gdkpixbuf=\"no\"; have_gtk2=\"no\"\n fi\n  fi\n  if test x\"$with_gdkpixbuf\" = xyes; then\n   if test x\"$have_gdkpixbuf\" != xyes; then\n    version=\"`$GDKPIXBUF_CONFIG --version 2>/dev/null`\"\n if test x\"$version\" != x; then\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking GdkPixbuf version\" >&5\n$as_echo_n \"checking GdkPixbuf version... \" >&6; }\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $version\" >&5\n$as_echo \"$version\" >&6; }\n   set -- `echo \"$version\" | sed 's/[^0-9]/ /g'`\n   if test \"$1\" -ne \"0\" -o \"$2\" -lt \"16\" || test \"$2\" -eq \"16\" -a \"$3\" -lt \"0\"; then\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: GdkPixbuf is too old. Install GdkPixbuf (version >= 0.16.0)\" >&5\n$as_echo \"$as_me: WARNING: GdkPixbuf is too old. Install GdkPixbuf (version >= 0.16.0)\" >&2;}\n     have_gdkpixbuf=\"no\"\n   else\n     have_gdkpixbuf=\"yes\"\n   fi\n else\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: GdkPixbuf is not installed.  Install GdkPixbuf (version >= 0.16.0)\" >&5\n$as_echo \"$as_me: WARNING: GdkPixbuf is not installed.  Install GdkPixbuf (version >= 0.16.0)\" >&2;}\n   have_gdkpixbuf=\"no\"\n fi\n   fi\n  fi\n  if test x\"$with_imlib\" = xyes; then\n   version=\"`$IMLIB_CONFIG --version 2>/dev/null`\"\n if test x\"$version\" != x; then\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking Imlib version\" >&5\n$as_echo_n \"checking Imlib version... \" >&6; }\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $version\" >&5\n$as_echo \"$version\" >&6; }\n   set -- `echo \"$version\" | sed 's/[^0-9]/ /g'`\n   if test \"$1\" -ne \"1\" -o \"$2\" -lt \"9\" || test \"$2\" -eq \"9\" -a \"$3\" -lt \"8\"; then\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: Imlib is too old. Install Imlib (version >= 1.9.8)\" >&5\n$as_echo \"$as_me: WARNING: Imlib is too old. Install Imlib (version >= 1.9.8)\" >&2;}\n     have_imlib=\"no\"\n   else\n     have_imlib=\"yes\"\n   fi\n else\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: Imlib is not installed.  Install Imlib (version >= 1.9.8)\" >&5\n$as_echo \"$as_me: WARNING: Imlib is not installed.  Install Imlib (version >= 1.9.8)\" >&2;}\n   have_imlib=\"no\"\n fi\n  fi\n  if test x\"$with_imlib2\" = xyes; then\n   version=\"`$IMLIB2_CONFIG --version 2>/dev/null`\"\n if test x\"$version\" != x; then\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking Imlib2 version\" >&5\n$as_echo_n \"checking Imlib2 version... \" >&6; }\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $version\" >&5\n$as_echo \"$version\" >&6; }\n   set -- `echo \"$version\" | sed 's/[^0-9]/ /g'`\n   if test \"$1\" -ne \"1\" -o \"$2\" -lt \"0\" || test \"$2\" -eq \"0\" -a \"$3\" -lt \"5\"; then\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: Imlib2 is too old. Install Imlib2 (version >= 1.0.5)\" >&5\n$as_echo \"$as_me: WARNING: Imlib2 is too old. Install Imlib2 (version >= 1.0.5)\" >&2;}\n     have_imlib2=\"no\"\n   else\n     have_imlib2=\"yes\"\n   fi\n else\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: Imlib2 is not installed.  Install Imlib2 (version >= 1.0.5)\" >&5\n$as_echo \"$as_me: WARNING: Imlib2 is not installed.  Install Imlib2 (version >= 1.0.5)\" >&2;}\n   have_imlib2=\"no\"\n fi\n  fi\n  if test x\"$x11\" = xyes; then\n   if test x\"$have_gtk2\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_X11 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS x11/x11_w3mimg.o\"\n     IMGTARGETS=\"x11\"\n     $as_echo \"#define USE_GDKPIXBUF 1\" >>confdefs.h\n\n     $as_echo \"#define USE_GTK2 1\" >>confdefs.h\n\n     IMGX11CFLAGS=\"`${PKG_CONFIG} --cflags gdk-pixbuf-2.0 gdk-pixbuf-xlib-2.0`\"\n     IMGX11LDFLAGS=\"-lX11 `${PKG_CONFIG} --libs gdk-pixbuf-2.0 gdk-pixbuf-xlib-2.0`\"\n   elif test x\"$have_gdkpixbuf\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_X11 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS x11/x11_w3mimg.o\"\n     IMGTARGETS=\"x11\"\n     $as_echo \"#define USE_GDKPIXBUF 1\" >>confdefs.h\n\n     IMGX11CFLAGS=\"`${GDKPIXBUF_CONFIG} --cflags`\"\n     IMGX11LDFLAGS=\"`${GDKPIXBUF_CONFIG} --libs` -lgdk_pixbuf_xlib\"\n   elif test x\"$have_imlib\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_X11 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS x11/x11_w3mimg.o\"\n     IMGTARGETS=\"x11\"\n     $as_echo \"#define USE_IMLIB 1\" >>confdefs.h\n\n     IMGX11CFLAGS=\"`${IMLIB_CONFIG} --cflags`\"\n     IMGX11LDFLAGS=\"`${IMLIB_CONFIG} --libs`\"\n     IMGTARGETS=\"x11\"\n   elif test x\"$have_imlib2\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_X11 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS x11/x11_w3mimg.o\"\n     IMGTARGETS=\"x11\"\n     $as_echo \"#define USE_IMLIB2 1\" >>confdefs.h\n\n     IMGX11CFLAGS=\"`${IMLIB2_CONFIG} --cflags`\"\n     IMGX11LDFLAGS=\"-lX11 `${PKG_CONFIG} --libs imlib2`\"\n   else\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: unable to build w3mimgdisplay with X11 support\" >&5\n$as_echo \"$as_me: WARNING: unable to build w3mimgdisplay with X11 support\" >&2;}\n   fi\n  fi\n  if test x\"$fb\" = xyes; then\n   if test x\"$have_gtk2\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_FB 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS fb/fb_w3mimg.o fb/fb.o fb/fb_img.o\"\n     IMGTARGETS=\"${IMGTARGETS} fb\"\n     $as_echo \"#define USE_GDKPIXBUF 1\" >>confdefs.h\n\n     $as_echo \"#define USE_GTK2 1\" >>confdefs.h\n\n     IMGFBCFLAGS=\"`${PKG_CONFIG} --cflags gdk-pixbuf-2.0`\"\n     IMGFBLDFLAGS=\"`${PKG_CONFIG} --libs gdk-pixbuf-2.0`\"\n   elif test x\"$have_gdkpixbuf\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_FB 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS fb/fb_w3mimg.o fb/fb.o fb/fb_img.o\"\n     IMGTARGETS=\"${IMGTARGETS} fb\"\n     $as_echo \"#define USE_GDKPIXBUF 1\" >>confdefs.h\n\n     IMGFBCFLAGS=\"`${GDKPIXBUF_CONFIG} --cflags`\"\n     IMGFBLDFLAGS=\"`${GDKPIXBUF_CONFIG} --libs`\"\n   elif test x\"$have_imlib2\" = xyes; then\n     $as_echo \"#define USE_W3MIMG_FB 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS fb/fb_w3mimg.o fb/fb.o fb/fb_img.o\"\n     IMGTARGETS=\"${IMGTARGETS} fb\"\n     $as_echo \"#define USE_IMLIB2 1\" >>confdefs.h\n\n     IMGOBJS=\"$IMGOBJS fb/fb_w3mimg.o fb/fb.o fb/fb_img.o\"\n     IMGFBCFLAGS=\"`${IMLIB2_CONFIG} --cflags`\"\n     IMGFBLDFLAGS=\"`${PKG_CONFIG} --libs imlib2`\"\n   else\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: unable to build w3mimgdisplay with FB support\" >&5\n$as_echo \"$as_me: WARNING: unable to build w3mimgdisplay with FB support\" >&2;}\n   fi\n  fi\n  if test x\"$win\" = xyes; then\n    $as_echo \"#define USE_W3MIMG_WIN 1\" >>confdefs.h\n\n    IMGOBJS=\"$IMGOBJS win/win_w3mimg.o\"\n    IMGTARGETS=\"${IMGTARGETS} win\"\n    IMGWINCFLAGS=\"-I/usr/include/w32api\"\n    IMGWINLDFLAGS=\"-lgdiplus -lgdi32 -luser32\"\n    IMGLINK='$(CXX)'\n  fi\n  $as_echo \"#define IMGTARGETS \\\"\\$IMGTARGETS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGOBJS \\\"\\$IMGOBJS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGX11CFLAGS \\\"\\$IMGX11CFLAGS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGX11LDFLAGS \\\"\\$IMGX11LDFLAGS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGFBCFLAGS \\\"\\$IMGFBCFLAGS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGFBLDFLAGS \\\"\\$IMGFBLDFLAGS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGLINK \\\"\\$IMGLINK\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGWINCFLAGS \\\"\\$IMGWINCFLAGS\\\"\" >>confdefs.h\n\n  $as_echo \"#define IMGWINLDFLAGS \\\"\\$IMGWINLDFLAGS\\\"\" >>confdefs.h\n\n fi\nif test x\"$enable_image\" != xno; then\n AUXBIN_TARGETS=\"$AUXBIN_TARGETS w3mimgdisplay\\$(EXT)\"\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if xface is enabled\" >&5\n$as_echo_n \"checking if xface is enabled... \" >&6; }\n # Check whether --enable-xface was given.\nif test \"${enable_xface+set}\" = set; then :\n  enableval=$enable_xface;\nelse\n  enable_xface=\"$enable_image\"\nfi\n\n test x\"$enable_xface\" = xyes && $as_echo \"#define USE_XFACE 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_xface\" >&5\n$as_echo \"$enable_xface\" >&6; }\n # Extract the first word of \"uncompface\", so it can be a program name with args.\nset dummy uncompface; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_prog_uncompface+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test -n \"$uncompface\"; then\n  ac_cv_prog_uncompface=\"$uncompface\" # Let the user override the test.\nelse\nas_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_prog_uncompface=\"\"yes\"\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  test -z \"$ac_cv_prog_uncompface\" && ac_cv_prog_uncompface=\"\"no\"\"\nfi\nfi\nuncompface=$ac_cv_prog_uncompface\nif test -n \"$uncompface\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $uncompface\" >&5\n$as_echo \"$uncompface\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\n test \"$uncompface\" = \"no\" && { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: uncompface is not installed.\" >&5\n$as_echo \"$as_me: WARNING: uncompface is not installed.\" >&2;}\n\nfi\n\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking default keymap\" >&5\n$as_echo_n \"checking default keymap... \" >&6; }\n # Check whether --enable-keymap was given.\nif test \"${enable_keymap+set}\" = set; then :\n  enableval=$enable_keymap;\nelse\n  enable_keymap=\"w3m\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_keymap\" >&5\n$as_echo \"$enable_keymap\" >&6; }\n case x\"$enable_keymap\" in\n xw3m)\n  KEYMAP_FILE=\"keybind\";;\n xlynx)\n  KEYMAP_FILE=\"keybind_lynx\";;\n *)\n  as_fn_error $? \"keymap should be either w3m or lynx.\" \"$LINENO\" 5 ;;\n esac\n\n HELP_FILE=w3mhelp-${enable_keymap}_$w3m_lang.html\n cat >>confdefs.h <<_ACEOF\n#define HELP_FILE \"$HELP_FILE\"\n_ACEOF\n\n\n cat >>confdefs.h <<_ACEOF\n#define KEYBIND $enable_keymap\n_ACEOF\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if popup menu is enabled\" >&5\n$as_echo_n \"checking if popup menu is enabled... \" >&6; }\n# Check whether --enable-menu was given.\nif test \"${enable_menu+set}\" = set; then :\n  enableval=$enable_menu;\nelse\n  enable_menu=\"yes\"\nfi\n\n test x\"$enable_menu\" = xyes && $as_echo \"#define USE_MENU 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_menu\" >&5\n$as_echo \"$enable_menu\" >&6; }\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if mouse operation enabled\" >&5\n$as_echo_n \"checking if mouse operation enabled... \" >&6; }\n# Check whether --enable-mouse was given.\nif test \"${enable_mouse+set}\" = set; then :\n  enableval=$enable_mouse;\nelse\n  enable_mouse=\"yes\"\nfi\n\ntest x\"$enable_mouse\" = xyes && $as_echo \"#define USE_MOUSE 1\" >>confdefs.h\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_mouse\" >&5\n$as_echo \"$enable_mouse\" >&6; }\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if URL history is enabled\" >&5\n$as_echo_n \"checking if URL history is enabled... \" >&6; }\n# Check whether --enable-history was given.\nif test \"${enable_history+set}\" = set; then :\n  enableval=$enable_history;\nelse\n  enable_history=\"yes\"\nfi\n\n test x\"$enable_history\" = xyes && $as_echo \"#define USE_HISTORY 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_history\" >&5\n$as_echo \"$enable_history\" >&6; }\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if alarm is enabled\" >&5\n$as_echo_n \"checking if alarm is enabled... \" >&6; }\n # Check whether --enable-alarm was given.\nif test \"${enable_alarm+set}\" = set; then :\n  enableval=$enable_alarm;\nelse\n  enable_alarm=\"yes\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_alarm\" >&5\n$as_echo \"$enable_alarm\" >&6; }\n if test x\"$enable_alarm\" = xyes; then\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <unistd.h>\n#include <signal.h>\nint\nmain ()\n{\nint sa = SIGALRM;\n     void (*a) = alarm;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  $as_echo \"#define USE_ALARM 1\" >>confdefs.h\n\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n fi\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if cookie is enabled\" >&5\n$as_echo_n \"checking if cookie is enabled... \" >&6; }\n# Check whether --enable-cookie was given.\nif test \"${enable_cookie+set}\" = set; then :\n  enableval=$enable_cookie;\nelse\n  enable_cookie=\"yes\"\nfi\n\ntest x\"$enable_cookie\" = xyes && $as_echo \"#define USE_COOKIE 1\" >>confdefs.h\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_cookie\" >&5\n$as_echo \"$enable_cookie\" >&6; }\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if nntp is enabled\" >&5\n$as_echo_n \"checking if nntp is enabled... \" >&6; }\n # Check whether --enable-nntp was given.\nif test \"${enable_nntp+set}\" = set; then :\n  enableval=$enable_nntp;\nelse\n  enable_nntp=\"yes\"\nfi\n\n test x\"$enable_nntp\" = xyes && $as_echo \"#define USE_NNTP 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_nntp\" >&5\n$as_echo \"$enable_nntp\" >&6; }\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if gopher is enabled\" >&5\n$as_echo_n \"checking if gopher is enabled... \" >&6; }\n # Check whether --enable-gopher was given.\nif test \"${enable_gopher+set}\" = set; then :\n  enableval=$enable_gopher;\nelse\n  enable_gopher=\"no\"\nfi\n\n test x\"$enable_gopher\" = xyes &&  $as_echo \"#define USE_GOPHER 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_gopher\" >&5\n$as_echo \"$enable_gopher\" >&6; }\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if dictionary lookup is enabled\" >&5\n$as_echo_n \"checking if dictionary lookup is enabled... \" >&6; }\n# Check whether --enable-dict was given.\nif test \"${enable_dict+set}\" = set; then :\n  enableval=$enable_dict;\nelse\n  enable_dict=\"yes\"\nfi\n\n test x\"$enable_dict\" = xyes && $as_echo \"#define USE_DICT 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_dict\" >&5\n$as_echo \"$enable_dict\" >&6; }\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if help cgi is enabled\" >&5\n$as_echo_n \"checking if help cgi is enabled... \" >&6; }\n # Check whether --enable-help_cgi was given.\nif test \"${enable_help_cgi+set}\" = set; then :\n  enableval=$enable_help_cgi;\nelse\n  enable_help_cgi=\"yes\"\nfi\n\n test x\"$enable_help_cgi\" = xyes && $as_echo \"#define USE_HELP_CGI 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_help_cgi\" >&5\n$as_echo \"$enable_help_cgi\" >&6; }\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if external URI loader is enabled\" >&5\n$as_echo_n \"checking if external URI loader is enabled... \" >&6; }\n # Check whether --enable-external_uri_loader was given.\nif test \"${enable_external_uri_loader+set}\" = set; then :\n  enableval=$enable_external_uri_loader;\nelse\n  enable_external_uri_loader=\"yes\"\nfi\n\n test x\"$enable_external_uri_loader\" = xyes && $as_echo \"#define USE_EXTERNAL_URI_LOADER 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_external_uri_loader\" >&5\n$as_echo \"$enable_external_uri_loader\" >&6; }\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if w3mmail is used\" >&5\n$as_echo_n \"checking if w3mmail is used... \" >&6; }\n # Check whether --enable-w3mmailer was given.\nif test \"${enable_w3mmailer+set}\" = set; then :\n  enableval=$enable_w3mmailer;\nelse\n  enable_w3mmailer=\"$enable_external_uri_loader\"\nfi\n\n test x\"$enable_external_uri_loader\" = xno && enable_w3mmailer=no\n test x\"$enable_w3mmailer\" = xyes && $as_echo \"#define USE_W3MMAILER 1\" >>confdefs.h\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_w3mmailer\" >&5\n$as_echo \"$enable_w3mmailer\" >&6; }\n\n\n migemo_command=\"migemo -t egrep /usr/local/share/migemo/migemo-dict\"\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if migemo is supported with\" >&5\n$as_echo_n \"checking if migemo is supported with... \" >&6; }\n\n# Check whether --with-migemo was given.\nif test \"${with_migemo+set}\" = set; then :\n  withval=$with_migemo; test x\"$with_migemo\" = xyes || migemo_command=\"$with_migemo\"\nfi\n\n if test \"${with_migemo+set}\" = set -a \"$with_migemo\" != \"no\"; then\n   $as_echo \"#define USE_MIGEMO 1\" >>confdefs.h\n\n fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $migemo_command\" >&5\n$as_echo \"$migemo_command\" >&6; }\n cat >>confdefs.h <<_ACEOF\n#define DEF_MIGEMO_COMMAND \"$migemo_command\"\n_ACEOF\n\n\nw3m_editor=\"/usr/bin/vi\"\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking which editor is used by default\" >&5\n$as_echo_n \"checking which editor is used by default... \" >&6; }\n\n# Check whether --with-editor was given.\nif test \"${with_editor+set}\" = set; then :\n  withval=$with_editor; w3m_editor=\"$with_editor\"\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $w3m_editor\" >&5\n$as_echo \"$w3m_editor\" >&6; }\ncat >>confdefs.h <<_ACEOF\n#define DEF_EDITOR \"$w3m_editor\"\n_ACEOF\n\n\nw3m_mailer=\"/usr/bin/mail\"\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking which mailer is used by default\" >&5\n$as_echo_n \"checking which mailer is used by default... \" >&6; }\n\n# Check whether --with-mailer was given.\nif test \"${with_mailer+set}\" = set; then :\n  withval=$with_mailer; w3m_mailer=\"$with_mailer\"\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $w3m_mailer\" >&5\n$as_echo \"$w3m_mailer\" >&6; }\ncat >>confdefs.h <<_ACEOF\n#define DEF_MAILER \"$w3m_mailer\"\n_ACEOF\n\n\nw3m_browser=\"/usr/bin/firefox\"\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking which external browser is used by default\" >&5\n$as_echo_n \"checking which external browser is used by default... \" >&6; }\n\n# Check whether --with-browser was given.\nif test \"${with_browser+set}\" = set; then :\n  withval=$with_browser; w3m_browser=\"$with_browser\"\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $w3m_browser\" >&5\n$as_echo \"$w3m_browser\" >&6; }\ncat >>confdefs.h <<_ACEOF\n#define DEF_EXT_BROWSER \"$w3m_browser\"\n_ACEOF\n\n\nfor lib in bsd BSD 44bsd socket nsl dld dl\ndo\n lib=$lib\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for -l$lib\" >&5\n$as_echo_n \"checking for -l$lib... \" >&6; }\n extlib=\"not found\"\n for dir in /lib /usr/lib /usr/local/lib /usr/ucblib /usr/ccslib /usr/ccs/lib /lib64 /usr/lib64\n do\n   if test -f $dir/lib$lib.a -o -f $dir/lib$lib.so ; then\n    LIBS=\"$LIBS -l$lib\"\n    extlib=\"found at $dir\"\n    break\n   fi\n done\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $extlib\" >&5\n$as_echo \"$extlib\" >&6; }\ndone\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if IPv6 support is enabled\" >&5\n$as_echo_n \"checking if IPv6 support is enabled... \" >&6; }\n# Check whether --enable-ipv6 was given.\nif test \"${enable_ipv6+set}\" = set; then :\n  enableval=$enable_ipv6;\nelse\n  enable_ipv6=\"yes\"\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_ipv6\" >&5\n$as_echo \"$enable_ipv6\" >&6; }\n\nif test x\"$enable_ipv6\" = xyes; then\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if IPv6 API available\" >&5\n$as_echo_n \"checking if IPv6 API available... \" >&6; }\n\n ac_fn_c_check_func \"$LINENO\" \"getaddrinfo\" \"ac_cv_func_getaddrinfo\"\nif test \"x$ac_cv_func_getaddrinfo\" = x\"\"yes; then :\n  enable_ipv6=\"yes\"\nelse\n  enable_ipv6=\"no\"\nfi\n\n if test x\"$enable_ipv6\" = xno; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for libinet6\" >&5\n$as_echo_n \"checking for libinet6... \" >&6; }\n    for dir in /usr/local/v6/lib /usr/local/lib /usr/lib\n    do\n\tif test -f $dir/libinet6.a; then\n\t  if test $dir != \"/usr/lib\"; then\n\t\tW3M_LIBS=\"$W3M_LIBS -L$dir\"\n\t  fi\n\t  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for getaddrinfo in -linet6\" >&5\n$as_echo_n \"checking for getaddrinfo in -linet6... \" >&6; }\nif test \"${ac_cv_lib_inet6_getaddrinfo+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-linet6  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar getaddrinfo ();\nint\nmain ()\n{\nreturn getaddrinfo ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_inet6_getaddrinfo=yes\nelse\n  ac_cv_lib_inet6_getaddrinfo=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_inet6_getaddrinfo\" >&5\n$as_echo \"$ac_cv_lib_inet6_getaddrinfo\" >&6; }\nif test \"x$ac_cv_lib_inet6_getaddrinfo\" = x\"\"yes; then :\n  enable_ipv6=\"yes\"\n\t         use_libinet6=\"found\"; W3M_LIBS=\"$W3M_LIBS -linet6\"; break\nelse\n  use_libinet6=\"not found\"\nfi\n\n\tfi\n    done\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $use_libinet6\" >&5\n$as_echo \"$use_libinet6\" >&6; }\n fi\n if test x\"$enable_ipv6\" = xyes; then\n\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if struct sockaddr_storage has an ss_family member\" >&5\n$as_echo_n \"checking if struct sockaddr_storage has an ss_family member... \" >&6; }\n    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n#include <sys/types.h>\n#include <sys/socket.h>\n\nint\nmain ()\n{\n\n\tstruct sockaddr_storage ss;\n\tint i = ss.ss_family;\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n$as_echo \"yes\" >&6; }\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n#include <sys/types.h>\n#include <sys/socket.h>\n\nint\nmain ()\n{\n\n\tstruct sockaddr_storage ss;\n\tint i = ss.__ss_family;\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n\t $as_echo \"#define HAVE_OLD_SS_FAMILY 1\" >>confdefs.h\n\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n\t { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: IPv6 support is disabled\" >&5\n$as_echo \"$as_me: WARNING: IPv6 support is disabled\" >&2;}\n\t enable_ipv6=\"no\"\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n fi\n if test x\"$enable_ipv6\" = xyes; then\n    $as_echo \"#define INET6 1\" >>confdefs.h\n\n fi\nfi\n\n\n\n\n\n\nif test \"x$ac_cv_env_PKG_CONFIG_set\" != \"xset\"; then\n\tif test -n \"$ac_tool_prefix\"; then\n  # Extract the first word of \"${ac_tool_prefix}pkg-config\", so it can be a program name with args.\nset dummy ${ac_tool_prefix}pkg-config; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_PKG_CONFIG+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case $PKG_CONFIG in\n  [\\\\/]* | ?:[\\\\/]*)\n  ac_cv_path_PKG_CONFIG=\"$PKG_CONFIG\" # Let the user override the test with a path.\n  ;;\n  *)\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_path_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  ;;\nesac\nfi\nPKG_CONFIG=$ac_cv_path_PKG_CONFIG\nif test -n \"$PKG_CONFIG\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $PKG_CONFIG\" >&5\n$as_echo \"$PKG_CONFIG\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n\nfi\nif test -z \"$ac_cv_path_PKG_CONFIG\"; then\n  ac_pt_PKG_CONFIG=$PKG_CONFIG\n  # Extract the first word of \"pkg-config\", so it can be a program name with args.\nset dummy pkg-config; ac_word=$2\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n$as_echo_n \"checking for $ac_word... \" >&6; }\nif test \"${ac_cv_path_ac_pt_PKG_CONFIG+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  case $ac_pt_PKG_CONFIG in\n  [\\\\/]* | ?:[\\\\/]*)\n  ac_cv_path_ac_pt_PKG_CONFIG=\"$ac_pt_PKG_CONFIG\" # Let the user override the test with a path.\n  ;;\n  *)\n  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    for ac_exec_ext in '' $ac_executable_extensions; do\n  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n    ac_cv_path_ac_pt_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n    break 2\n  fi\ndone\n  done\nIFS=$as_save_IFS\n\n  ;;\nesac\nfi\nac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG\nif test -n \"$ac_pt_PKG_CONFIG\"; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_pt_PKG_CONFIG\" >&5\n$as_echo \"$ac_pt_PKG_CONFIG\" >&6; }\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\nfi\n\n  if test \"x$ac_pt_PKG_CONFIG\" = x; then\n    PKG_CONFIG=\"\"\n  else\n    case $cross_compiling:$ac_tool_warned in\nyes:)\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\nac_tool_warned=yes ;;\nesac\n    PKG_CONFIG=$ac_pt_PKG_CONFIG\n  fi\nelse\n  PKG_CONFIG=\"$ac_cv_path_PKG_CONFIG\"\nfi\n\nfi\nif test -n \"$PKG_CONFIG\"; then\n\t_pkg_min_version=0.9.0\n\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking pkg-config is at least version $_pkg_min_version\" >&5\n$as_echo_n \"checking pkg-config is at least version $_pkg_min_version... \" >&6; }\n\tif $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then\n\t\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n$as_echo \"yes\" >&6; }\n\telse\n\t\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n\t\tPKG_CONFIG=\"\"\n\tfi\nfi\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if SSL is suported\" >&5\n$as_echo_n \"checking if SSL is suported... \" >&6; }\n\n# Check whether --with-ssl was given.\nif test \"${with_ssl+set}\" = set; then :\n  withval=$with_ssl;\nelse\n  with_ssl=\"yes\"\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_ssl\" >&5\n$as_echo \"$with_ssl\" >&6; }\nif test x\"$with_ssl\" != xno; then\n\npkg_failed=no\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for SSL\" >&5\n$as_echo_n \"checking for SSL... \" >&6; }\n\nif test -n \"$SSL_CFLAGS\"; then\n    pkg_cv_SSL_CFLAGS=\"$SSL_CFLAGS\"\n elif test -n \"$PKG_CONFIG\"; then\n    if test -n \"$PKG_CONFIG\" && \\\n    { { $as_echo \"$as_me:${as_lineno-$LINENO}: \\$PKG_CONFIG --exists --print-errors \\\"openssl\\\"\"; } >&5\n  ($PKG_CONFIG --exists --print-errors \"openssl\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; then\n  pkg_cv_SSL_CFLAGS=`$PKG_CONFIG --cflags \"openssl\" 2>/dev/null`\nelse\n  pkg_failed=yes\nfi\n else\n    pkg_failed=untried\nfi\nif test -n \"$SSL_LIBS\"; then\n    pkg_cv_SSL_LIBS=\"$SSL_LIBS\"\n elif test -n \"$PKG_CONFIG\"; then\n    if test -n \"$PKG_CONFIG\" && \\\n    { { $as_echo \"$as_me:${as_lineno-$LINENO}: \\$PKG_CONFIG --exists --print-errors \\\"openssl\\\"\"; } >&5\n  ($PKG_CONFIG --exists --print-errors \"openssl\") 2>&5\n  ac_status=$?\n  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n  test $ac_status = 0; }; then\n  pkg_cv_SSL_LIBS=`$PKG_CONFIG --libs \"openssl\" 2>/dev/null`\nelse\n  pkg_failed=yes\nfi\n else\n    pkg_failed=untried\nfi\n\n\n\nif test $pkg_failed = yes; then\n   \t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n\nif $PKG_CONFIG --atleast-pkgconfig-version 0.20; then\n        _pkg_short_errors_supported=yes\nelse\n        _pkg_short_errors_supported=no\nfi\n        if test $_pkg_short_errors_supported = yes; then\n\t        SSL_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors \"openssl\" 2>&1`\n        else\n\t        SSL_PKG_ERRORS=`$PKG_CONFIG --print-errors \"openssl\" 2>&1`\n        fi\n\t# Put the nasty error message in config.log where it belongs\n\techo \"$SSL_PKG_ERRORS\" >&5\n\n\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for SSL library/header\" >&5\n$as_echo_n \"checking for SSL library/header... \" >&6; }\n    test x\"$with_ssl\" = xyes && with_ssl=\"/usr/openssl /usr/ssl /usr /usr/local/openssl /usr/local/ssl /usr/local\"\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_ssl\" >&5\n$as_echo \"$with_ssl\" >&6; }\n    for dir in $with_ssl\n    do\n       if test -f \"$dir/include/openssl/ssl.h\"; then\n          SSL_CFLAGS=\"$SSL_CFLAGS -I$dir/include/openssl\"\n          if test \"$dir\" != \"/usr\"; then\n             SSL_CFLAGS=\"$SSL_CFLAGS -I$dir/include\"\n          fi\n       elif test \"$dir\" != \"/usr\" -a -f \"$dir/include/ssl.h\"; then\n          SSL_CFLAGS=\"$SSL_CFLAGS -I$dir/include\"\n       fi\n       if test \"$dir\" != \"/usr\" -a -f \"$dir/lib/libssl.a\"; then\n\t  SSL_LIBS=\"$SSL_LIBS -L$dir/lib\"\n       fi\n    done\n\nelif test $pkg_failed = untried; then\n     \t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n$as_echo \"no\" >&6; }\n\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for SSL library/header\" >&5\n$as_echo_n \"checking for SSL library/header... \" >&6; }\n    test x\"$with_ssl\" = xyes && with_ssl=\"/usr/openssl /usr/ssl /usr /usr/local/openssl /usr/local/ssl /usr/local\"\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_ssl\" >&5\n$as_echo \"$with_ssl\" >&6; }\n    for dir in $with_ssl\n    do\n       if test -f \"$dir/include/openssl/ssl.h\"; then\n          SSL_CFLAGS=\"$SSL_CFLAGS -I$dir/include/openssl\"\n          if test \"$dir\" != \"/usr\"; then\n             SSL_CFLAGS=\"$SSL_CFLAGS -I$dir/include\"\n          fi\n       elif test \"$dir\" != \"/usr\" -a -f \"$dir/include/ssl.h\"; then\n          SSL_CFLAGS=\"$SSL_CFLAGS -I$dir/include\"\n       fi\n       if test \"$dir\" != \"/usr\" -a -f \"$dir/lib/libssl.a\"; then\n\t  SSL_LIBS=\"$SSL_LIBS -L$dir/lib\"\n       fi\n    done\n\nelse\n\tSSL_CFLAGS=$pkg_cv_SSL_CFLAGS\n\tSSL_LIBS=$pkg_cv_SSL_LIBS\n        { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n$as_echo \"yes\" >&6; }\n\nfi\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for SSL_new in -lssl\" >&5\n$as_echo_n \"checking for SSL_new in -lssl... \" >&6; }\nif test \"${ac_cv_lib_ssl_SSL_new+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lssl $SSL_LIBS -lcrypto $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar SSL_new ();\nint\nmain ()\n{\nreturn SSL_new ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_ssl_SSL_new=yes\nelse\n  ac_cv_lib_ssl_SSL_new=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ssl_SSL_new\" >&5\n$as_echo \"$ac_cv_lib_ssl_SSL_new\" >&6; }\nif test \"x$ac_cv_lib_ssl_SSL_new\" = x\"\"yes; then :\n  w3m_ssl=\"found\"; CFLAGS=\"$CFLAGS $SSL_CFLAGS\" W3M_LIBS=\"$W3M_LIBS $SSL_LIBS -lssl -lcrypto\"\nelse\n  w3m_ssl=\"not found\"\nfi\n\n\n  if test x\"$w3m_ssl\" = xfound; then\n    $as_echo \"#define USE_SSL 1\" >>confdefs.h\n\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking if SSL certificate verify is enabled\" >&5\n$as_echo_n \"checking if SSL certificate verify is enabled... \" >&6; }\n    # Check whether --enable-sslverify was given.\nif test \"${enable_sslverify+set}\" = set; then :\n  enableval=$enable_sslverify;\nelse\n  enable_sslverify=\"yes\"\nfi\n\n    test x\"$enable_sslverify\" = xyes && $as_echo \"#define USE_SSL_VERIFY 1\" >>confdefs.h\n\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_sslverify\" >&5\n$as_echo \"$enable_sslverify\" >&6; }\n  fi\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking if digest auth is enabled\" >&5\n$as_echo_n \"checking if digest auth is enabled... \" >&6; }\n# Check whether --enable-digest_auth was given.\nif test \"${enable_digest_auth+set}\" = set; then :\n  enableval=$enable_digest_auth;\nelse\n  enable_digest_auth=\"yes\"\nfi\n\nif test x\"$enable_digest_auth\" = xyes -a x\"$w3m_ssl\" = xfound; then\n  $as_echo \"#define USE_DIGEST_AUTH 1\" >>confdefs.h\n\nelse\n  enable_digest_auth=\"no\"\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $enable_digest_auth\" >&5\n$as_echo \"$enable_digest_auth\" >&6; }\n\n\nac_fn_c_check_func \"$LINENO\" \"sqrt\" \"ac_cv_func_sqrt\"\nif test \"x$ac_cv_func_sqrt\" = x\"\"yes; then :\n\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for sqrt in -lm\" >&5\n$as_echo_n \"checking for sqrt in -lm... \" >&6; }\nif test \"${ac_cv_lib_m_sqrt+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lm  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar sqrt ();\nint\nmain ()\n{\nreturn sqrt ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_m_sqrt=yes\nelse\n  ac_cv_lib_m_sqrt=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_m_sqrt\" >&5\n$as_echo \"$ac_cv_lib_m_sqrt\" >&6; }\nif test \"x$ac_cv_lib_m_sqrt\" = x\"\"yes; then :\n  cat >>confdefs.h <<_ACEOF\n#define HAVE_LIBM 1\n_ACEOF\n\n  LIBS=\"-lm $LIBS\"\n\nfi\n\nfi\n\nif test x\"$enable_mouse\" = xyes; then\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for Gpm_Open in -lgpm\" >&5\n$as_echo_n \"checking for Gpm_Open in -lgpm... \" >&6; }\nif test \"${ac_cv_lib_gpm_Gpm_Open+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lgpm  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar Gpm_Open ();\nint\nmain ()\n{\nreturn Gpm_Open ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_gpm_Gpm_Open=yes\nelse\n  ac_cv_lib_gpm_Gpm_Open=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gpm_Gpm_Open\" >&5\n$as_echo \"$ac_cv_lib_gpm_Gpm_Open\" >&6; }\nif test \"x$ac_cv_lib_gpm_Gpm_Open\" = x\"\"yes; then :\n  $as_echo \"#define USE_GPM 1\" >>confdefs.h\n\n   \t\tW3M_LIBS=\"$W3M_LIBS -lgpm\"\nfi\n\n\n cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <sys/consio.h>\n   MOUSE_GETINFO\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n  $as_echo \"#define USE_SYSMOUSE 1\" >>confdefs.h\n\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <machine/console.h>\n      MOUSE_GETINFO\n_ACEOF\nif ac_fn_c_try_cpp \"$LINENO\"; then :\n  $as_echo \"#define USE_SYSMOUSE 1\" >>confdefs.h\n\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\nfi\nrm -f conftest.err conftest.i conftest.$ac_ext\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking terminal library\" >&5\n$as_echo_n \"checking terminal library... \" >&6; }\n\n# Check whether --with-termlib was given.\nif test \"${with_termlib+set}\" = set; then :\n  withval=$with_termlib;\nelse\n  with_termlib=\"yes\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_termlib\" >&5\n$as_echo \"$with_termlib\" >&6; }\n test x\"$with_termlib\" = xyes && with_termlib=\"terminfo mytinfo termlib termcap tinfo ncurses curses\"\n for lib in $with_termlib; do\n   as_ac_Lib=`$as_echo \"ac_cv_lib_$lib''_tgetent\" | $as_tr_sh`\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for tgetent in -l$lib\" >&5\n$as_echo_n \"checking for tgetent in -l$lib... \" >&6; }\nif eval \"test \\\"\\${$as_ac_Lib+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-l$lib  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar tgetent ();\nint\nmain ()\n{\nreturn tgetent ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  eval \"$as_ac_Lib=yes\"\nelse\n  eval \"$as_ac_Lib=no\"\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\neval ac_res=\\$$as_ac_Lib\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\nif eval test \\\"x\\$\"$as_ac_Lib\"\\\" = x\"yes\"; then :\n  W3M_LIBS=\"$W3M_LIBS -l$lib\"; break\nfi\n\n done\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ANSI C header files\" >&5\n$as_echo_n \"checking for ANSI C header files... \" >&6; }\nif test \"${ac_cv_header_stdc+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdlib.h>\n#include <stdarg.h>\n#include <string.h>\n#include <float.h>\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_header_stdc=yes\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n\nif test $ac_cv_header_stdc = yes; then\n  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <string.h>\n\n_ACEOF\nif (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n  $EGREP \"memchr\" >/dev/null 2>&1; then :\n\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f conftest*\n\nfi\n\nif test $ac_cv_header_stdc = yes; then\n  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdlib.h>\n\n_ACEOF\nif (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n  $EGREP \"free\" >/dev/null 2>&1; then :\n\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f conftest*\n\nfi\n\nif test $ac_cv_header_stdc = yes; then\n  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n  if test \"$cross_compiling\" = yes; then :\n  :\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <ctype.h>\n#include <stdlib.h>\n#if ((' ' & 0x0FF) == 0x020)\n# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n#else\n# define ISLOWER(c) \\\n\t\t   (('a' <= (c) && (c) <= 'i') \\\n\t\t     || ('j' <= (c) && (c) <= 'r') \\\n\t\t     || ('s' <= (c) && (c) <= 'z'))\n# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))\n#endif\n\n#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\nint\nmain ()\n{\n  int i;\n  for (i = 0; i < 256; i++)\n    if (XOR (islower (i), ISLOWER (i))\n\t|| toupper (i) != TOUPPER (i))\n      return 2;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_run \"$LINENO\"; then :\n\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n  conftest.$ac_objext conftest.beam conftest.$ac_ext\nfi\n\nfi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc\" >&5\n$as_echo \"$ac_cv_header_stdc\" >&6; }\nif test $ac_cv_header_stdc = yes; then\n\n$as_echo \"#define STDC_HEADERS 1\" >>confdefs.h\n\nfi\n\n# On IRIX 5.3, sys/types and inttypes.h are conflicting.\nfor ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \\\n\t\t  inttypes.h stdint.h unistd.h\ndo :\n  as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\nac_fn_c_check_header_compile \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\n\"\nif eval test \\\"x\\$\"$as_ac_Header\"\\\" = x\"yes\"; then :\n  cat >>confdefs.h <<_ACEOF\n#define `$as_echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n_ACEOF\n\nfi\n\ndone\n\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking GC library exists\" >&5\n$as_echo_n \"checking GC library exists... \" >&6; }\n\n\n# Check whether --with-gc was given.\nif test \"${with_gc+set}\" = set; then :\n  withval=$with_gc; test x\"$with_gc\" = xno && as_fn_error $? \"You can not build w3m without gc\" \"$LINENO\" 5\nelse\n  with_gc=\"yes\"\nfi\n\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_gc\" >&5\n$as_echo \"$with_gc\" >&6; }\n test x\"$with_gc\" = xyes && with_gc=\"/usr /usr/local ${HOME}\"\n unset ac_cv_header_gc_h\n ac_fn_c_check_header_mongrel \"$LINENO\" \"gc.h\" \"ac_cv_header_gc_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_gc_h\" = x\"\"yes; then :\n\nfi\n\n\n if test x\"$ac_cv_header_gc_h\" = xno; then\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking GC header location\" >&5\n$as_echo_n \"checking GC header location... \" >&6; }\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_gc\" >&5\n$as_echo \"$with_gc\" >&6; }\n   gcincludedir=no\n   for dir in $with_gc; do\n     for inc in include include/gc; do\n       cppflags=\"$CPPFLAGS\"\n       CPPFLAGS=\"$CPPFLAGS -I$dir/$inc\"\n       { $as_echo \"$as_me:${as_lineno-$LINENO}: checking $dir/$inc\" >&5\n$as_echo_n \"checking $dir/$inc... \" >&6; }\n       unset ac_cv_header_gc_h\n       ac_fn_c_check_header_mongrel \"$LINENO\" \"gc.h\" \"ac_cv_header_gc_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_gc_h\" = x\"\"yes; then :\n  gcincludedir=\"$dir/$inc\"; CFLAGS=\"$CFLAGS -I$dir/$inc\"; break\nfi\n\n\n       CPPFLAGS=\"$cppflags\"\n     done\n     if test x\"$gcincludedir\" != xno; then\n       break;\n     fi\n   done\n   if test x\"$gcincludedir\" = xno; then\n     as_fn_error $? \"gc.h not found\" \"$LINENO\" 5\n   fi\n fi\n unset ac_cv_lib_gc_GC_init\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for GC_init in -lgc\" >&5\n$as_echo_n \"checking for GC_init in -lgc... \" >&6; }\nif test \"${ac_cv_lib_gc_GC_init+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lgc  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar GC_init ();\nint\nmain ()\n{\nreturn GC_init ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_gc_GC_init=yes\nelse\n  ac_cv_lib_gc_GC_init=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gc_GC_init\" >&5\n$as_echo \"$ac_cv_lib_gc_GC_init\" >&6; }\nif test \"x$ac_cv_lib_gc_GC_init\" = x\"\"yes; then :\n  LIBGC=\"-lgc\"\nfi\n\n if test x\"$ac_cv_lib_gc_GC_init\" = xno; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking GC library location\" >&5\n$as_echo_n \"checking GC library location... \" >&6; }\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $with_gc\" >&5\n$as_echo \"$with_gc\" >&6; }\n    gclibdir=no\n    for dir in $with_gc; do\n      ldflags=\"$LDFLAGS\"\n      LDFLAGS=\"$LDFLAGS -L$dir/lib\"\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: checking $dir\" >&5\n$as_echo_n \"checking $dir... \" >&6; }\n      unset ac_cv_lib_gc_GC_init\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for GC_init in -lgc\" >&5\n$as_echo_n \"checking for GC_init in -lgc... \" >&6; }\nif test \"${ac_cv_lib_gc_GC_init+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lgc  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar GC_init ();\nint\nmain ()\n{\nreturn GC_init ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_gc_GC_init=yes\nelse\n  ac_cv_lib_gc_GC_init=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gc_GC_init\" >&5\n$as_echo \"$ac_cv_lib_gc_GC_init\" >&6; }\nif test \"x$ac_cv_lib_gc_GC_init\" = x\"\"yes; then :\n  gclibdir=\"$dir/lib\"; LIBGC=\"-L$dir/lib -lgc\"; break\nfi\n\n      LDFLAGS=\"$ldflags\"\n    done\n    if test x\"$gclibdir\" = xno; then\n      as_fn_error $? \"libgc not found\" \"$LINENO\" 5\n    fi\n fi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for zError in -lz\" >&5\n$as_echo_n \"checking for zError in -lz... \" >&6; }\nif test \"${ac_cv_lib_z_zError+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lz  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar zError ();\nint\nmain ()\n{\nreturn zError ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_z_zError=yes\nelse\n  ac_cv_lib_z_zError=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_z_zError\" >&5\n$as_echo \"$ac_cv_lib_z_zError\" >&6; }\nif test \"x$ac_cv_lib_z_zError\" = x\"\"yes; then :\n  AUXBIN_TARGETS=\"$AUXBIN_TARGETS inflate\\$(EXT)\"\nfi\n\n\nac_fn_c_check_type \"$LINENO\" \"socklen_t\" \"ac_cv_type_socklen_t\" \"#include <sys/types.h>\n\t  #include <sys/socket.h>\n\"\nif test \"x$ac_cv_type_socklen_t\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_SOCKLEN_T 1\" >>confdefs.h\n\nfi\n\n\n$as_echo \"#define AUXBIN_TARGETS \\\"\\$AUXBIN_TARGETS\\\"\" >>confdefs.h\n\n\n\ncase \"$host_os\" in\n  *cygwin*|*os2-emx*|*mingw*)\n    $as_echo \"#define USE_BINMODE_STREAM 1\" >>confdefs.h\n\n    ;;\nesac\n\nac_header_dirent=no\nfor ac_hdr in dirent.h sys/ndir.h sys/dir.h ndir.h; do\n  as_ac_Header=`$as_echo \"ac_cv_header_dirent_$ac_hdr\" | $as_tr_sh`\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_hdr that defines DIR\" >&5\n$as_echo_n \"checking for $ac_hdr that defines DIR... \" >&6; }\nif eval \"test \\\"\\${$as_ac_Header+set}\\\"\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <sys/types.h>\n#include <$ac_hdr>\n\nint\nmain ()\n{\nif ((DIR *) 0)\nreturn 0;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  eval \"$as_ac_Header=yes\"\nelse\n  eval \"$as_ac_Header=no\"\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\neval ac_res=\\$$as_ac_Header\n\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n$as_echo \"$ac_res\" >&6; }\nif eval test \\\"x\\$\"$as_ac_Header\"\\\" = x\"yes\"; then :\n  cat >>confdefs.h <<_ACEOF\n#define `$as_echo \"HAVE_$ac_hdr\" | $as_tr_cpp` 1\n_ACEOF\n\nac_header_dirent=$ac_hdr; break\nfi\n\ndone\n# Two versions of opendir et al. are in -ldir and -lx on SCO Xenix.\nif test $ac_header_dirent = dirent.h; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for library containing opendir\" >&5\n$as_echo_n \"checking for library containing opendir... \" >&6; }\nif test \"${ac_cv_search_opendir+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_func_search_save_LIBS=$LIBS\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar opendir ();\nint\nmain ()\n{\nreturn opendir ();\n  ;\n  return 0;\n}\n_ACEOF\nfor ac_lib in '' dir; do\n  if test -z \"$ac_lib\"; then\n    ac_res=\"none required\"\n  else\n    ac_res=-l$ac_lib\n    LIBS=\"-l$ac_lib  $ac_func_search_save_LIBS\"\n  fi\n  if ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_search_opendir=$ac_res\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext\n  if test \"${ac_cv_search_opendir+set}\" = set; then :\n  break\nfi\ndone\nif test \"${ac_cv_search_opendir+set}\" = set; then :\n\nelse\n  ac_cv_search_opendir=no\nfi\nrm conftest.$ac_ext\nLIBS=$ac_func_search_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_opendir\" >&5\n$as_echo \"$ac_cv_search_opendir\" >&6; }\nac_res=$ac_cv_search_opendir\nif test \"$ac_res\" != no; then :\n  test \"$ac_res\" = \"none required\" || LIBS=\"$ac_res $LIBS\"\n\nfi\n\nelse\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for library containing opendir\" >&5\n$as_echo_n \"checking for library containing opendir... \" >&6; }\nif test \"${ac_cv_search_opendir+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_func_search_save_LIBS=$LIBS\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar opendir ();\nint\nmain ()\n{\nreturn opendir ();\n  ;\n  return 0;\n}\n_ACEOF\nfor ac_lib in '' x; do\n  if test -z \"$ac_lib\"; then\n    ac_res=\"none required\"\n  else\n    ac_res=-l$ac_lib\n    LIBS=\"-l$ac_lib  $ac_func_search_save_LIBS\"\n  fi\n  if ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_search_opendir=$ac_res\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext\n  if test \"${ac_cv_search_opendir+set}\" = set; then :\n  break\nfi\ndone\nif test \"${ac_cv_search_opendir+set}\" = set; then :\n\nelse\n  ac_cv_search_opendir=no\nfi\nrm conftest.$ac_ext\nLIBS=$ac_func_search_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_opendir\" >&5\n$as_echo \"$ac_cv_search_opendir\" >&6; }\nac_res=$ac_cv_search_opendir\nif test \"$ac_res\" != no; then :\n  test \"$ac_res\" = \"none required\" || LIBS=\"$ac_res $LIBS\"\n\nfi\n\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ANSI C header files\" >&5\n$as_echo_n \"checking for ANSI C header files... \" >&6; }\nif test \"${ac_cv_header_stdc+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdlib.h>\n#include <stdarg.h>\n#include <string.h>\n#include <float.h>\n\nint\nmain ()\n{\n\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_header_stdc=yes\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n\nif test $ac_cv_header_stdc = yes; then\n  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <string.h>\n\n_ACEOF\nif (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n  $EGREP \"memchr\" >/dev/null 2>&1; then :\n\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f conftest*\n\nfi\n\nif test $ac_cv_header_stdc = yes; then\n  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <stdlib.h>\n\n_ACEOF\nif (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n  $EGREP \"free\" >/dev/null 2>&1; then :\n\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f conftest*\n\nfi\n\nif test $ac_cv_header_stdc = yes; then\n  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n  if test \"$cross_compiling\" = yes; then :\n  :\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <ctype.h>\n#include <stdlib.h>\n#if ((' ' & 0x0FF) == 0x020)\n# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n#else\n# define ISLOWER(c) \\\n\t\t   (('a' <= (c) && (c) <= 'i') \\\n\t\t     || ('j' <= (c) && (c) <= 'r') \\\n\t\t     || ('s' <= (c) && (c) <= 'z'))\n# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))\n#endif\n\n#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\nint\nmain ()\n{\n  int i;\n  for (i = 0; i < 256; i++)\n    if (XOR (islower (i), ISLOWER (i))\n\t|| toupper (i) != TOUPPER (i))\n      return 2;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_run \"$LINENO\"; then :\n\nelse\n  ac_cv_header_stdc=no\nfi\nrm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n  conftest.$ac_objext conftest.beam conftest.$ac_ext\nfi\n\nfi\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc\" >&5\n$as_echo \"$ac_cv_header_stdc\" >&6; }\nif test $ac_cv_header_stdc = yes; then\n\n$as_echo \"#define STDC_HEADERS 1\" >>confdefs.h\n\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n$as_echo_n \"checking for sys/wait.h that is POSIX.1 compatible... \" >&6; }\nif test \"${ac_cv_header_sys_wait_h+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <sys/types.h>\n#include <sys/wait.h>\n#ifndef WEXITSTATUS\n# define WEXITSTATUS(stat_val) ((unsigned int) (stat_val) >> 8)\n#endif\n#ifndef WIFEXITED\n# define WIFEXITED(stat_val) (((stat_val) & 255) == 0)\n#endif\n\nint\nmain ()\n{\n  int s;\n  wait (&s);\n  s = WIFEXITED (s) ? WEXITSTATUS (s) : 1;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_header_sys_wait_h=yes\nelse\n  ac_cv_header_sys_wait_h=no\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_sys_wait_h\" >&5\n$as_echo \"$ac_cv_header_sys_wait_h\" >&6; }\nif test $ac_cv_header_sys_wait_h = yes; then\n\n$as_echo \"#define HAVE_SYS_WAIT_H 1\" >>confdefs.h\n\nfi\n\nac_fn_c_check_header_mongrel \"$LINENO\" \"termios.h\" \"ac_cv_header_termios_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_termios_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_TERMIOS_H 1\" >>confdefs.h\n\nelse\n  ac_fn_c_check_header_mongrel \"$LINENO\" \"termio.h\" \"ac_cv_header_termio_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_termio_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_TERMIO_H 1\" >>confdefs.h\n\nelse\n  ac_fn_c_check_header_mongrel \"$LINENO\" \"sgtty.h\" \"ac_cv_header_sgtty_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_sgtty_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_SGTTY_H 1\" >>confdefs.h\n\nfi\n\n\nfi\n\n\nfi\n\n\nac_fn_c_check_header_mongrel \"$LINENO\" \"float.h\" \"ac_cv_header_float_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_float_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_FLOAT_H 1\" >>confdefs.h\n\nfi\n\n\nac_fn_c_check_header_mongrel \"$LINENO\" \"sys/select.h\" \"ac_cv_header_sys_select_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_sys_select_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_SYS_SELECT_H 1\" >>confdefs.h\n\nfi\n\n\nac_fn_c_check_header_mongrel \"$LINENO\" \"locale.h\" \"ac_cv_header_locale_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_locale_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_LOCALE_H 1\" >>confdefs.h\n\nfi\n\n\nac_fn_c_check_header_mongrel \"$LINENO\" \"stdint.h\" \"ac_cv_header_stdint_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_stdint_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_STDINT_H 1\" >>confdefs.h\n\nfi\n\n\nac_fn_c_check_header_mongrel \"$LINENO\" \"inttypes.h\" \"ac_cv_header_inttypes_h\" \"$ac_includes_default\"\nif test \"x$ac_cv_header_inttypes_h\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_INTTYPES_H 1\" >>confdefs.h\n\nfi\n\n\n\n# The cast to long int works around a bug in the HP C Compiler\n# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.\n# This bug is HP SR number 8606223364.\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking size of long long\" >&5\n$as_echo_n \"checking size of long long... \" >&6; }\nif test \"${ac_cv_sizeof_long_long+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (long long))\" \"ac_cv_sizeof_long_long\"        \"$ac_includes_default\"; then :\n\nelse\n  if test \"$ac_cv_type_long_long\" = yes; then\n     { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\nas_fn_error 77 \"cannot compute sizeof (long long)\nSee \\`config.log' for more details\" \"$LINENO\" 5 ; }\n   else\n     ac_cv_sizeof_long_long=0\n   fi\nfi\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long_long\" >&5\n$as_echo \"$ac_cv_sizeof_long_long\" >&6; }\n\n\n\ncat >>confdefs.h <<_ACEOF\n#define SIZEOF_LONG_LONG $ac_cv_sizeof_long_long\n_ACEOF\n\n\n\nfor ac_func in strcasecmp strcasestr strchr memcpy strerror bcopy setpgrp chdir mkdtemp getcwd getwd readlink setenv putenv strtoll stroq atoll atoq symlink readlink lstat srand48 srandom getpassphrase waitpid setlocale\ndo :\n  as_ac_var=`$as_echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\nac_fn_c_check_func \"$LINENO\" \"$ac_func\" \"$as_ac_var\"\nif eval test \\\"x\\$\"$as_ac_var\"\\\" = x\"yes\"; then :\n  cat >>confdefs.h <<_ACEOF\n#define `$as_echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n_ACEOF\n\nfi\ndone\n\nfor ac_func in strftime\ndo :\n  ac_fn_c_check_func \"$LINENO\" \"strftime\" \"ac_cv_func_strftime\"\nif test \"x$ac_cv_func_strftime\" = x\"\"yes; then :\n  cat >>confdefs.h <<_ACEOF\n#define HAVE_STRFTIME 1\n_ACEOF\n\nelse\n  # strftime is in -lintl on SCO UNIX.\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for strftime in -lintl\" >&5\n$as_echo_n \"checking for strftime in -lintl... \" >&6; }\nif test \"${ac_cv_lib_intl_strftime+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  ac_check_lib_save_LIBS=$LIBS\nLIBS=\"-lintl  $LIBS\"\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n\n/* Override any GCC internal prototype to avoid an error.\n   Use char because int might match the return type of a GCC\n   builtin and then its argument prototype would still apply.  */\n#ifdef __cplusplus\nextern \"C\"\n#endif\nchar strftime ();\nint\nmain ()\n{\nreturn strftime ();\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  ac_cv_lib_intl_strftime=yes\nelse\n  ac_cv_lib_intl_strftime=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\nLIBS=$ac_check_lib_save_LIBS\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_intl_strftime\" >&5\n$as_echo \"$ac_cv_lib_intl_strftime\" >&6; }\nif test \"x$ac_cv_lib_intl_strftime\" = x\"\"yes; then :\n  $as_echo \"#define HAVE_STRFTIME 1\" >>confdefs.h\n\nLIBS=\"-lintl $LIBS\"\nfi\n\nfi\ndone\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for wait3 that fills in rusage\" >&5\n$as_echo_n \"checking for wait3 that fills in rusage... \" >&6; }\nif test \"${ac_cv_func_wait3_rusage+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test \"$cross_compiling\" = yes; then :\n  ac_cv_func_wait3_rusage=no\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$ac_includes_default\n#include <sys/time.h>\n#include <sys/resource.h>\n#include <sys/wait.h>\n/* HP-UX has wait3 but does not fill in rusage at all.  */\nint\nmain ()\n{\n  struct rusage r;\n  int i;\n  /* Use a field that we can force nonzero --\n     voluntary context switches.\n     For systems like NeXT and OSF/1 that don't set it,\n     also use the system CPU time.  And page faults (I/O) for Linux.  */\n  r.ru_nvcsw = 0;\n  r.ru_stime.tv_sec = 0;\n  r.ru_stime.tv_usec = 0;\n  r.ru_majflt = r.ru_minflt = 0;\n  switch (fork ())\n    {\n    case 0: /* Child.  */\n      sleep(1); /* Give up the CPU.  */\n      _exit(0);\n      break;\n    case -1: /* What can we do?  */\n      _exit(0);\n      break;\n    default: /* Parent.  */\n      wait3(&i, 0, &r);\n      /* Avoid \"text file busy\" from rm on fast HP-UX machines.  */\n      sleep(2);\n      return (r.ru_nvcsw == 0 && r.ru_majflt == 0 && r.ru_minflt == 0\n\t      && r.ru_stime.tv_sec == 0 && r.ru_stime.tv_usec == 0);\n    }\n}\n_ACEOF\nif ac_fn_c_try_run \"$LINENO\"; then :\n  ac_cv_func_wait3_rusage=yes\nelse\n  ac_cv_func_wait3_rusage=no\nfi\nrm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n  conftest.$ac_objext conftest.beam conftest.$ac_ext\nfi\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_wait3_rusage\" >&5\n$as_echo \"$ac_cv_func_wait3_rusage\" >&6; }\nif test $ac_cv_func_wait3_rusage = yes; then\n\n$as_echo \"#define HAVE_WAIT3 1\" >>confdefs.h\n\nfi\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether setpgrp takes no argument\" >&5\n$as_echo_n \"checking whether setpgrp takes no argument... \" >&6; }\nif test \"${ac_cv_func_setpgrp_void+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  if test \"$cross_compiling\" = yes; then :\n  as_fn_error $? \"cannot check setpgrp when cross compiling\" \"$LINENO\" 5\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n$ac_includes_default\nint\nmain ()\n{\n/* If this system has a BSD-style setpgrp which takes arguments,\n  setpgrp(1, 1) will fail with ESRCH and return -1, in that case\n  exit successfully. */\n  return setpgrp (1,1) != -1;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_run \"$LINENO\"; then :\n  ac_cv_func_setpgrp_void=no\nelse\n  ac_cv_func_setpgrp_void=yes\nfi\nrm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n  conftest.$ac_objext conftest.beam conftest.$ac_ext\nfi\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_setpgrp_void\" >&5\n$as_echo \"$ac_cv_func_setpgrp_void\" >&6; }\nif test $ac_cv_func_setpgrp_void = yes; then\n\n$as_echo \"#define SETPGRP_VOID 1\" >>confdefs.h\n\nfi\n\ncase \"$host_os\" in\n  *cygwin*)\n    ;;\n  *)\n\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for nl_langinfo and CODESET\" >&5\n$as_echo_n \"checking for nl_langinfo and CODESET... \" >&6; }\nif test \"${am_cv_langinfo_codeset+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <langinfo.h>\nint\nmain ()\n{\nchar* cs = nl_langinfo(CODESET); return !cs;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_link \"$LINENO\"; then :\n  am_cv_langinfo_codeset=yes\nelse\n  am_cv_langinfo_codeset=no\nfi\nrm -f core conftest.err conftest.$ac_objext \\\n    conftest$ac_exeext conftest.$ac_ext\n\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $am_cv_langinfo_codeset\" >&5\n$as_echo \"$am_cv_langinfo_codeset\" >&6; }\n  if test $am_cv_langinfo_codeset = yes; then\n\n$as_echo \"#define HAVE_LANGINFO_CODESET 1\" >>confdefs.h\n\n  fi\n\n    ;;\nesac\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for sys_errlist\" >&5\n$as_echo_n \"checking for sys_errlist... \" >&6; }\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\nextern char *sys_errlist[];\nint\nmain ()\n{\nprintf(\"%s\", sys_errlist[0]);\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  have_sys_errlist=\"yes\"; $as_echo \"#define HAVE_SYS_ERRLIST 1\" >>confdefs.h\n\nelse\n  have_sys_errlist=\"no\"\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $have_sys_errlist\" >&5\n$as_echo \"$have_sys_errlist\" >&6; }\n\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for sigsetjmp\" >&5\n$as_echo_n \"checking for sigsetjmp... \" >&6; }\ncat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <setjmp.h>\nint\nmain ()\n{\n jmp_buf env;\n   if (sigsetjmp(env, 1) != 0) { exit(0); } siglongjmp(env, 1);\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  have_sigsetjmp=\"yes\"; $as_echo \"#define HAVE_SIGSETJMP 1\" >>confdefs.h\n\nelse\n  have_sigsetjmp=\"no\"\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $have_sigsetjmp\" >&5\n$as_echo \"$have_sigsetjmp\" >&6; }\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking return type of signal handlers\" >&5\n$as_echo_n \"checking return type of signal handlers... \" >&6; }\nif test \"${ac_cv_type_signal+set}\" = set; then :\n  $as_echo_n \"(cached) \" >&6\nelse\n  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n/* end confdefs.h.  */\n#include <sys/types.h>\n#include <signal.h>\n\nint\nmain ()\n{\nreturn *(signal (0, 0)) (0) == 1;\n  ;\n  return 0;\n}\n_ACEOF\nif ac_fn_c_try_compile \"$LINENO\"; then :\n  ac_cv_type_signal=int\nelse\n  ac_cv_type_signal=void\nfi\nrm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\nfi\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_signal\" >&5\n$as_echo \"$ac_cv_type_signal\" >&6; }\n\ncat >>confdefs.h <<_ACEOF\n#define RETSIGTYPE $ac_cv_type_signal\n_ACEOF\n\n\n\n\n if test x\"$ac_cv_type_signal\" = xvoid; then\n  $as_echo \"#define SIGNAL_RETURN return\" >>confdefs.h\n\n else\n  $as_echo \"#define SIGNAL_RETURN return 0\" >>confdefs.h\n\n fi\n\n\nHELP_DIR=\"$datadir/$PACKAGE\"\n$as_echo \"#define HELP_DIR \\\"\\$HELP_DIR\\\"\" >>confdefs.h\n\n\nRC_DIR=\"~/.$PACKAGE\"\n$as_echo \"#define RC_DIR \\\"\\$RC_DIR\\\"\" >>confdefs.h\n\n\nDOCDIRS=\"doc:en_English doc-jp:ja_Japanese doc-de:de_German\"\ncat >>confdefs.h <<_ACEOF\n#define DOCDIRS \"$DOCDIRS\"\n_ACEOF\n\n\n\n cvsver=`$AWK '\\$1 ~ /Id:/ { print \\$3}' $srcdir/ChangeLog`\n ymdver=`sed -e 's/ .*//;s/-//g;q' $srcdir/ChangeLog`\n sed -e 's/define CURRENT_VERSION \"\\(.*\\)YYYYMMDD/define CURRENT_VERSION \"\\1'$ymdver'/;s/define CURRENT_VERSION \"\\(.*\\)+cvs/define CURRENT_VERSION \"\\1+cvs-'$cvsver'/' $srcdir/version.c.in > version.c\n CURRENT_VERSION=`sed -n 's/.*define CURRENT_VERSION *\"w3m\\/\\(.*\\)\".*$/\\1/p' version.c`\nac_config_files=\"$ac_config_files Makefile posubst po/Makefile.in scripts/Makefile scripts/dirlist.cgi scripts/w3mhelp.cgi scripts/w3mmail.cgi scripts/xface2xpm scripts/multipart/Makefile scripts/multipart/multipart.cgi scripts/w3mman/Makefile scripts/w3mman/w3mman scripts/w3mman/w3mman.1 scripts/w3mman/w3mman.de.1 scripts/w3mman/w3mman2html.cgi libwc/Makefile w3mimg/Makefile w3mimg/fb/Makefile w3mimg/x11/Makefile w3mimg/win/Makefile w3mhelp-w3m_en.html w3mhelp-w3m_ja.html w3mhelp-lynx_en.html w3mhelp-lynx_ja.html\"\n\ncat >confcache <<\\_ACEOF\n# This file is a shell script that caches the results of configure\n# tests run on this system so they can be shared between configure\n# scripts and configure runs, see configure's option --config-cache.\n# It is not useful on other systems.  If it contains results you don't\n# want to keep, you may remove or edit it.\n#\n# config.status only pays attention to the cache file if you give it\n# the --recheck option to rerun configure.\n#\n# `ac_cv_env_foo' variables (set or unset) will be overridden when\n# loading this file, other *unset* `ac_cv_foo' will be assigned the\n# following values.\n\n_ACEOF\n\n# The following way of writing the cache mishandles newlines in values,\n# but we know of no workaround that is simple, portable, and efficient.\n# So, we kill variables containing newlines.\n# Ultrix sh set writes to stderr and can't be redirected directly,\n# and sets the high bit in the cache file unless we assign to the vars.\n(\n  for ac_var in `(set) 2>&1 | sed -n 's/^\\([a-zA-Z_][a-zA-Z0-9_]*\\)=.*/\\1/p'`; do\n    eval ac_val=\\$$ac_var\n    case $ac_val in #(\n    *${as_nl}*)\n      case $ac_var in #(\n      *_cv_*) { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline\" >&5\n$as_echo \"$as_me: WARNING: cache variable $ac_var contains a newline\" >&2;} ;;\n      esac\n      case $ac_var in #(\n      _ | IFS | as_nl) ;; #(\n      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(\n      *) { eval $ac_var=; unset $ac_var;} ;;\n      esac ;;\n    esac\n  done\n\n  (set) 2>&1 |\n    case $as_nl`(ac_space=' '; set) 2>&1` in #(\n    *${as_nl}ac_space=\\ *)\n      # `set' does not quote correctly, so add quotes: double-quote\n      # substitution turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\.\n      sed -n \\\n\t\"s/'/'\\\\\\\\''/g;\n\t  s/^\\\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\\\)=\\\\(.*\\\\)/\\\\1='\\\\2'/p\"\n      ;; #(\n    *)\n      # `set' quotes correctly as required by POSIX, so do not add quotes.\n      sed -n \"/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p\"\n      ;;\n    esac |\n    sort\n) |\n  sed '\n     /^ac_cv_env_/b end\n     t clear\n     :clear\n     s/^\\([^=]*\\)=\\(.*[{}].*\\)$/test \"${\\1+set}\" = set || &/\n     t end\n     s/^\\([^=]*\\)=\\(.*\\)$/\\1=${\\1=\\2}/\n     :end' >>confcache\nif diff \"$cache_file\" confcache >/dev/null 2>&1; then :; else\n  if test -w \"$cache_file\"; then\n    test \"x$cache_file\" != \"x/dev/null\" &&\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: updating cache $cache_file\" >&5\n$as_echo \"$as_me: updating cache $cache_file\" >&6;}\n    cat confcache >$cache_file\n  else\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: not updating unwritable cache $cache_file\" >&5\n$as_echo \"$as_me: not updating unwritable cache $cache_file\" >&6;}\n  fi\nfi\nrm -f confcache\n\ntest \"x$prefix\" = xNONE && prefix=$ac_default_prefix\n# Let make expand exec_prefix.\ntest \"x$exec_prefix\" = xNONE && exec_prefix='${prefix}'\n\nDEFS=-DHAVE_CONFIG_H\n\nac_libobjs=\nac_ltlibobjs=\nU=\nfor ac_i in : $LIBOBJS; do test \"x$ac_i\" = x: && continue\n  # 1. Remove the extension, and $U if already installed.\n  ac_script='s/\\$U\\././;s/\\.o$//;s/\\.obj$//'\n  ac_i=`$as_echo \"$ac_i\" | sed \"$ac_script\"`\n  # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR\n  #    will be set to the directory where LIBOBJS objects are built.\n  as_fn_append ac_libobjs \" \\${LIBOBJDIR}$ac_i\\$U.$ac_objext\"\n  as_fn_append ac_ltlibobjs \" \\${LIBOBJDIR}$ac_i\"'$U.lo'\ndone\nLIBOBJS=$ac_libobjs\n\nLTLIBOBJS=$ac_ltlibobjs\n\n\n\n: ${CONFIG_STATUS=./config.status}\nac_write_fail=0\nac_clean_files_save=$ac_clean_files\nac_clean_files=\"$ac_clean_files $CONFIG_STATUS\"\n{ $as_echo \"$as_me:${as_lineno-$LINENO}: creating $CONFIG_STATUS\" >&5\n$as_echo \"$as_me: creating $CONFIG_STATUS\" >&6;}\nas_write_fail=0\ncat >$CONFIG_STATUS <<_ASEOF || as_write_fail=1\n#! $SHELL\n# Generated by $as_me.\n# Run this file to recreate the current configuration.\n# Compiler output produced by configure, useful for debugging\n# configure, is in config.log if it exists.\n\ndebug=false\nac_cs_recheck=false\nac_cs_silent=false\n\nSHELL=\\${CONFIG_SHELL-$SHELL}\nexport SHELL\n_ASEOF\ncat >>$CONFIG_STATUS <<\\_ASEOF || as_write_fail=1\n## -------------------- ##\n## M4sh Initialization. ##\n## -------------------- ##\n\n# Be more Bourne compatible\nDUALCASE=1; export DUALCASE # for MKS sh\nif test -n \"${ZSH_VERSION+set}\" && (emulate sh) >/dev/null 2>&1; then :\n  emulate sh\n  NULLCMD=:\n  # Pre-4.2 versions of Zsh do word splitting on ${1+\"$@\"}, which\n  # is contrary to our usage.  Disable this feature.\n  alias -g '${1+\"$@\"}'='\"$@\"'\n  setopt NO_GLOB_SUBST\nelse\n  case `(set -o) 2>/dev/null` in #(\n  *posix*) :\n    set -o posix ;; #(\n  *) :\n     ;;\nesac\nfi\n\n\nas_nl='\n'\nexport as_nl\n# Printing a long string crashes Solaris 7 /usr/bin/printf.\nas_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'\nas_echo=$as_echo$as_echo$as_echo$as_echo$as_echo\nas_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo\n# Prefer a ksh shell builtin over an external printf program on Solaris,\n# but without wasting forks for bash or zsh.\nif test -z \"$BASH_VERSION$ZSH_VERSION\" \\\n    && (test \"X`print -r -- $as_echo`\" = \"X$as_echo\") 2>/dev/null; then\n  as_echo='print -r --'\n  as_echo_n='print -rn --'\nelif (test \"X`printf %s $as_echo`\" = \"X$as_echo\") 2>/dev/null; then\n  as_echo='printf %s\\n'\n  as_echo_n='printf %s'\nelse\n  if test \"X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`\" = \"X-n $as_echo\"; then\n    as_echo_body='eval /usr/ucb/echo -n \"$1$as_nl\"'\n    as_echo_n='/usr/ucb/echo -n'\n  else\n    as_echo_body='eval expr \"X$1\" : \"X\\\\(.*\\\\)\"'\n    as_echo_n_body='eval\n      arg=$1;\n      case $arg in #(\n      *\"$as_nl\"*)\n\texpr \"X$arg\" : \"X\\\\(.*\\\\)$as_nl\";\n\targ=`expr \"X$arg\" : \".*$as_nl\\\\(.*\\\\)\"`;;\n      esac;\n      expr \"X$arg\" : \"X\\\\(.*\\\\)\" | tr -d \"$as_nl\"\n    '\n    export as_echo_n_body\n    as_echo_n='sh -c $as_echo_n_body as_echo'\n  fi\n  export as_echo_body\n  as_echo='sh -c $as_echo_body as_echo'\nfi\n\n# The user is always right.\nif test \"${PATH_SEPARATOR+set}\" != set; then\n  PATH_SEPARATOR=:\n  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {\n    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||\n      PATH_SEPARATOR=';'\n  }\nfi\n\n\n# IFS\n# We need space, tab and new line, in precisely that order.  Quoting is\n# there to prevent editors from complaining about space-tab.\n# (If _AS_PATH_WALK were called with IFS unset, it would disable word\n# splitting by setting IFS to empty value.)\nIFS=\" \"\"\t$as_nl\"\n\n# Find who we are.  Look in the path if we contain no directory separator.\ncase $0 in #((\n  *[\\\\/]* ) as_myself=$0 ;;\n  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\nfor as_dir in $PATH\ndo\n  IFS=$as_save_IFS\n  test -z \"$as_dir\" && as_dir=.\n    test -r \"$as_dir/$0\" && as_myself=$as_dir/$0 && break\n  done\nIFS=$as_save_IFS\n\n     ;;\nesac\n# We did not find ourselves, most probably we were run as `sh COMMAND'\n# in which case we are not to be found in the path.\nif test \"x$as_myself\" = x; then\n  as_myself=$0\nfi\nif test ! -f \"$as_myself\"; then\n  $as_echo \"$as_myself: error: cannot find myself; rerun with an absolute file name\" >&2\n  exit 1\nfi\n\n# Unset variables that we do not need and which cause bugs (e.g. in\n# pre-3.0 UWIN ksh).  But do not cause bugs in bash 2.01; the \"|| exit 1\"\n# suppresses any \"Segmentation fault\" message there.  '((' could\n# trigger a bug in pdksh 5.2.14.\nfor as_var in BASH_ENV ENV MAIL MAILPATH\ndo eval test x\\${$as_var+set} = xset \\\n  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :\ndone\nPS1='$ '\nPS2='> '\nPS4='+ '\n\n# NLS nuisances.\nLC_ALL=C\nexport LC_ALL\nLANGUAGE=C\nexport LANGUAGE\n\n# CDPATH.\n(unset CDPATH) >/dev/null 2>&1 && unset CDPATH\n\n\n# as_fn_error STATUS ERROR [LINENO LOG_FD]\n# ----------------------------------------\n# Output \"`basename $0`: error: ERROR\" to stderr. If LINENO and LOG_FD are\n# provided, also output the error to LOG_FD, referencing LINENO. Then exit the\n# script with STATUS, using 1 if that was 0.\nas_fn_error ()\n{\n  as_status=$1; test $as_status -eq 0 && as_status=1\n  if test \"$4\"; then\n    as_lineno=${as_lineno-\"$3\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n    $as_echo \"$as_me:${as_lineno-$LINENO}: error: $2\" >&$4\n  fi\n  $as_echo \"$as_me: error: $2\" >&2\n  as_fn_exit $as_status\n} # as_fn_error\n\n\n# as_fn_set_status STATUS\n# -----------------------\n# Set $? to STATUS, without forking.\nas_fn_set_status ()\n{\n  return $1\n} # as_fn_set_status\n\n# as_fn_exit STATUS\n# -----------------\n# Exit the shell with STATUS, even in a \"trap 0\" or \"set -e\" context.\nas_fn_exit ()\n{\n  set +e\n  as_fn_set_status $1\n  exit $1\n} # as_fn_exit\n\n# as_fn_unset VAR\n# ---------------\n# Portably unset VAR.\nas_fn_unset ()\n{\n  { eval $1=; unset $1;}\n}\nas_unset=as_fn_unset\n# as_fn_append VAR VALUE\n# ----------------------\n# Append the text in VALUE to the end of the definition contained in VAR. Take\n# advantage of any shell optimizations that allow amortized linear growth over\n# repeated appends, instead of the typical quadratic growth present in naive\n# implementations.\nif (eval \"as_var=1; as_var+=2; test x\\$as_var = x12\") 2>/dev/null; then :\n  eval 'as_fn_append ()\n  {\n    eval $1+=\\$2\n  }'\nelse\n  as_fn_append ()\n  {\n    eval $1=\\$$1\\$2\n  }\nfi # as_fn_append\n\n# as_fn_arith ARG...\n# ------------------\n# Perform arithmetic evaluation on the ARGs, and store the result in the\n# global $as_val. Take advantage of shells that can avoid forks. The arguments\n# must be portable across $(()) and expr.\nif (eval \"test \\$(( 1 + 1 )) = 2\") 2>/dev/null; then :\n  eval 'as_fn_arith ()\n  {\n    as_val=$(( $* ))\n  }'\nelse\n  as_fn_arith ()\n  {\n    as_val=`expr \"$@\" || test $? -eq 1`\n  }\nfi # as_fn_arith\n\n\nif expr a : '\\(a\\)' >/dev/null 2>&1 &&\n   test \"X`expr 00001 : '.*\\(...\\)'`\" = X001; then\n  as_expr=expr\nelse\n  as_expr=false\nfi\n\nif (basename -- /) >/dev/null 2>&1 && test \"X`basename -- / 2>&1`\" = \"X/\"; then\n  as_basename=basename\nelse\n  as_basename=false\nfi\n\nif (as_dir=`dirname -- /` && test \"X$as_dir\" = X/) >/dev/null 2>&1; then\n  as_dirname=dirname\nelse\n  as_dirname=false\nfi\n\nas_me=`$as_basename -- \"$0\" ||\n$as_expr X/\"$0\" : '.*/\\([^/][^/]*\\)/*$' \\| \\\n\t X\"$0\" : 'X\\(//\\)$' \\| \\\n\t X\"$0\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n$as_echo X/\"$0\" |\n    sed '/^.*\\/\\([^/][^/]*\\)\\/*$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\/\\(\\/\\/\\)$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\/\\(\\/\\).*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  s/.*/./; q'`\n\n# Avoid depending upon Character Ranges.\nas_cr_letters='abcdefghijklmnopqrstuvwxyz'\nas_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'\nas_cr_Letters=$as_cr_letters$as_cr_LETTERS\nas_cr_digits='0123456789'\nas_cr_alnum=$as_cr_Letters$as_cr_digits\n\nECHO_C= ECHO_N= ECHO_T=\ncase `echo -n x` in #(((((\n-n*)\n  case `echo 'xy\\c'` in\n  *c*) ECHO_T='\t';;\t# ECHO_T is single tab character.\n  xy)  ECHO_C='\\c';;\n  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null\n       ECHO_T='\t';;\n  esac;;\n*)\n  ECHO_N='-n';;\nesac\n\nrm -f conf$$ conf$$.exe conf$$.file\nif test -d conf$$.dir; then\n  rm -f conf$$.dir/conf$$.file\nelse\n  rm -f conf$$.dir\n  mkdir conf$$.dir 2>/dev/null\nfi\nif (echo >conf$$.file) 2>/dev/null; then\n  if ln -s conf$$.file conf$$ 2>/dev/null; then\n    as_ln_s='ln -s'\n    # ... but there are two gotchas:\n    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.\n    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.\n    # In both cases, we have to default to `cp -p'.\n    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||\n      as_ln_s='cp -p'\n  elif ln conf$$.file conf$$ 2>/dev/null; then\n    as_ln_s=ln\n  else\n    as_ln_s='cp -p'\n  fi\nelse\n  as_ln_s='cp -p'\nfi\nrm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file\nrmdir conf$$.dir 2>/dev/null\n\n\n# as_fn_mkdir_p\n# -------------\n# Create \"$as_dir\" as a directory, including parents if necessary.\nas_fn_mkdir_p ()\n{\n\n  case $as_dir in #(\n  -*) as_dir=./$as_dir;;\n  esac\n  test -d \"$as_dir\" || eval $as_mkdir_p || {\n    as_dirs=\n    while :; do\n      case $as_dir in #(\n      *\\'*) as_qdir=`$as_echo \"$as_dir\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"`;; #'(\n      *) as_qdir=$as_dir;;\n      esac\n      as_dirs=\"'$as_qdir' $as_dirs\"\n      as_dir=`$as_dirname -- \"$as_dir\" ||\n$as_expr X\"$as_dir\" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n\t X\"$as_dir\" : 'X\\(//\\)[^/]' \\| \\\n\t X\"$as_dir\" : 'X\\(//\\)$' \\| \\\n\t X\"$as_dir\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n$as_echo X\"$as_dir\" |\n    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)[^/].*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\).*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  s/.*/./; q'`\n      test -d \"$as_dir\" && break\n    done\n    test -z \"$as_dirs\" || eval \"mkdir $as_dirs\"\n  } || test -d \"$as_dir\" || as_fn_error $? \"cannot create directory $as_dir\"\n\n\n} # as_fn_mkdir_p\nif mkdir -p . 2>/dev/null; then\n  as_mkdir_p='mkdir -p \"$as_dir\"'\nelse\n  test -d ./-p && rmdir ./-p\n  as_mkdir_p=false\nfi\n\nif test -x / >/dev/null 2>&1; then\n  as_test_x='test -x'\nelse\n  if ls -dL / >/dev/null 2>&1; then\n    as_ls_L_option=L\n  else\n    as_ls_L_option=\n  fi\n  as_test_x='\n    eval sh -c '\\''\n      if test -d \"$1\"; then\n\ttest -d \"$1/.\";\n      else\n\tcase $1 in #(\n\t-*)set \"./$1\";;\n\tesac;\n\tcase `ls -ld'$as_ls_L_option' \"$1\" 2>/dev/null` in #((\n\t???[sx]*):;;*)false;;esac;fi\n    '\\'' sh\n  '\nfi\nas_executable_p=$as_test_x\n\n# Sed expression to map a string onto a valid CPP name.\nas_tr_cpp=\"eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'\"\n\n# Sed expression to map a string onto a valid variable name.\nas_tr_sh=\"eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'\"\n\n\nexec 6>&1\n## ----------------------------------- ##\n## Main body of $CONFIG_STATUS script. ##\n## ----------------------------------- ##\n_ASEOF\ntest $as_write_fail = 0 && chmod +x $CONFIG_STATUS || ac_write_fail=1\n\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n# Save the log message, to keep $0 and so on meaningful, and to\n# report actual input values of CONFIG_FILES etc. instead of their\n# values after options handling.\nac_log=\"\nThis file was extended by w3m $as_me 0.5.3, which was\ngenerated by GNU Autoconf 2.67.  Invocation command line was\n\n  CONFIG_FILES    = $CONFIG_FILES\n  CONFIG_HEADERS  = $CONFIG_HEADERS\n  CONFIG_LINKS    = $CONFIG_LINKS\n  CONFIG_COMMANDS = $CONFIG_COMMANDS\n  $ $0 $@\n\non `(hostname || uname -n) 2>/dev/null | sed 1q`\n\"\n\n_ACEOF\n\ncase $ac_config_files in *\"\n\"*) set x $ac_config_files; shift; ac_config_files=$*;;\nesac\n\ncase $ac_config_headers in *\"\n\"*) set x $ac_config_headers; shift; ac_config_headers=$*;;\nesac\n\n\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n# Files that config.status was made for.\nconfig_files=\"$ac_config_files\"\nconfig_headers=\"$ac_config_headers\"\nconfig_commands=\"$ac_config_commands\"\n\n_ACEOF\n\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\nac_cs_usage=\"\\\n\\`$as_me' instantiates files and other configuration actions\nfrom templates according to the current configuration.  Unless the files\nand actions are specified as TAGs, all are instantiated by default.\n\nUsage: $0 [OPTION]... [TAG]...\n\n  -h, --help       print this help, then exit\n  -V, --version    print version number and configuration settings, then exit\n      --config     print configuration, then exit\n  -q, --quiet, --silent\n                   do not print progress messages\n  -d, --debug      don't remove temporary files\n      --recheck    update $as_me by reconfiguring in the same conditions\n      --file=FILE[:TEMPLATE]\n                   instantiate the configuration file FILE\n      --header=FILE[:TEMPLATE]\n                   instantiate the configuration header FILE\n\nConfiguration files:\n$config_files\n\nConfiguration headers:\n$config_headers\n\nConfiguration commands:\n$config_commands\n\nReport bugs to <satodai@w3m.jp>.\"\n\n_ACEOF\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\nac_cs_config=\"`$as_echo \"$ac_configure_args\" | sed 's/^ //; s/[\\\\\"\"\\`\\$]/\\\\\\\\&/g'`\"\nac_cs_version=\"\\\\\nw3m config.status 0.5.3\nconfigured by $0, generated by GNU Autoconf 2.67,\n  with options \\\\\"\\$ac_cs_config\\\\\"\n\nCopyright (C) 2010 Free Software Foundation, Inc.\nThis config.status script is free software; the Free Software Foundation\ngives unlimited permission to copy, distribute and modify it.\"\n\nac_pwd='$ac_pwd'\nsrcdir='$srcdir'\nINSTALL='$INSTALL'\nMKDIR_P='$MKDIR_P'\nAWK='$AWK'\ntest -n \"\\$AWK\" || AWK=awk\n_ACEOF\n\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n# The default lists apply if the user does not specify any file.\nac_need_defaults=:\nwhile test $# != 0\ndo\n  case $1 in\n  --*=?*)\n    ac_option=`expr \"X$1\" : 'X\\([^=]*\\)='`\n    ac_optarg=`expr \"X$1\" : 'X[^=]*=\\(.*\\)'`\n    ac_shift=:\n    ;;\n  --*=)\n    ac_option=`expr \"X$1\" : 'X\\([^=]*\\)='`\n    ac_optarg=\n    ac_shift=:\n    ;;\n  *)\n    ac_option=$1\n    ac_optarg=$2\n    ac_shift=shift\n    ;;\n  esac\n\n  case $ac_option in\n  # Handling of the options.\n  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)\n    ac_cs_recheck=: ;;\n  --version | --versio | --versi | --vers | --ver | --ve | --v | -V )\n    $as_echo \"$ac_cs_version\"; exit ;;\n  --config | --confi | --conf | --con | --co | --c )\n    $as_echo \"$ac_cs_config\"; exit ;;\n  --debug | --debu | --deb | --de | --d | -d )\n    debug=: ;;\n  --file | --fil | --fi | --f )\n    $ac_shift\n    case $ac_optarg in\n    *\\'*) ac_optarg=`$as_echo \"$ac_optarg\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"` ;;\n    '') as_fn_error $? \"missing file argument\" ;;\n    esac\n    as_fn_append CONFIG_FILES \" '$ac_optarg'\"\n    ac_need_defaults=false;;\n  --header | --heade | --head | --hea )\n    $ac_shift\n    case $ac_optarg in\n    *\\'*) ac_optarg=`$as_echo \"$ac_optarg\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"` ;;\n    esac\n    as_fn_append CONFIG_HEADERS \" '$ac_optarg'\"\n    ac_need_defaults=false;;\n  --he | --h)\n    # Conflict between --help and --header\n    as_fn_error $? \"ambiguous option: \\`$1'\nTry \\`$0 --help' for more information.\";;\n  --help | --hel | -h )\n    $as_echo \"$ac_cs_usage\"; exit ;;\n  -q | -quiet | --quiet | --quie | --qui | --qu | --q \\\n  | -silent | --silent | --silen | --sile | --sil | --si | --s)\n    ac_cs_silent=: ;;\n\n  # This is an error.\n  -*) as_fn_error $? \"unrecognized option: \\`$1'\nTry \\`$0 --help' for more information.\" ;;\n\n  *) as_fn_append ac_config_targets \" $1\"\n     ac_need_defaults=false ;;\n\n  esac\n  shift\ndone\n\nac_configure_extra_args=\n\nif $ac_cs_silent; then\n  exec 6>/dev/null\n  ac_configure_extra_args=\"$ac_configure_extra_args --silent\"\nfi\n\n_ACEOF\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\nif \\$ac_cs_recheck; then\n  set X '$SHELL' '$0' $ac_configure_args \\$ac_configure_extra_args --no-create --no-recursion\n  shift\n  \\$as_echo \"running CONFIG_SHELL=$SHELL \\$*\" >&6\n  CONFIG_SHELL='$SHELL'\n  export CONFIG_SHELL\n  exec \"\\$@\"\nfi\n\n_ACEOF\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\nexec 5>>config.log\n{\n  echo\n  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX\n## Running $as_me. ##\n_ASBOX\n  $as_echo \"$ac_log\"\n} >&5\n\n_ACEOF\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n#\n# INIT-COMMANDS\n#\n# Capture the value of obsolete ALL_LINGUAS because we need it to compute\n    # POFILES, UPDATEPOFILES, DUMMYPOFILES, GMOFILES, CATALOGS. But hide it\n    # from automake < 1.5.\n    eval 'OBSOLETE_ALL_LINGUAS''=\"$ALL_LINGUAS\"'\n    # Capture the value of LINGUAS because we need it to compute CATALOGS.\n    LINGUAS=\"${LINGUAS-%UNSET%}\"\n\n\n_ACEOF\n\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n\n# Handling of arguments.\nfor ac_config_target in $ac_config_targets\ndo\n  case $ac_config_target in\n    \"config.h\") CONFIG_HEADERS=\"$CONFIG_HEADERS config.h\" ;;\n    \"po-directories\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS po-directories\" ;;\n    \"Makefile\") CONFIG_FILES=\"$CONFIG_FILES Makefile\" ;;\n    \"posubst\") CONFIG_FILES=\"$CONFIG_FILES posubst\" ;;\n    \"po/Makefile.in\") CONFIG_FILES=\"$CONFIG_FILES po/Makefile.in\" ;;\n    \"scripts/Makefile\") CONFIG_FILES=\"$CONFIG_FILES scripts/Makefile\" ;;\n    \"scripts/dirlist.cgi\") CONFIG_FILES=\"$CONFIG_FILES scripts/dirlist.cgi\" ;;\n    \"scripts/w3mhelp.cgi\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mhelp.cgi\" ;;\n    \"scripts/w3mmail.cgi\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mmail.cgi\" ;;\n    \"scripts/xface2xpm\") CONFIG_FILES=\"$CONFIG_FILES scripts/xface2xpm\" ;;\n    \"scripts/multipart/Makefile\") CONFIG_FILES=\"$CONFIG_FILES scripts/multipart/Makefile\" ;;\n    \"scripts/multipart/multipart.cgi\") CONFIG_FILES=\"$CONFIG_FILES scripts/multipart/multipart.cgi\" ;;\n    \"scripts/w3mman/Makefile\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mman/Makefile\" ;;\n    \"scripts/w3mman/w3mman\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mman/w3mman\" ;;\n    \"scripts/w3mman/w3mman.1\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mman/w3mman.1\" ;;\n    \"scripts/w3mman/w3mman.de.1\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mman/w3mman.de.1\" ;;\n    \"scripts/w3mman/w3mman2html.cgi\") CONFIG_FILES=\"$CONFIG_FILES scripts/w3mman/w3mman2html.cgi\" ;;\n    \"libwc/Makefile\") CONFIG_FILES=\"$CONFIG_FILES libwc/Makefile\" ;;\n    \"w3mimg/Makefile\") CONFIG_FILES=\"$CONFIG_FILES w3mimg/Makefile\" ;;\n    \"w3mimg/fb/Makefile\") CONFIG_FILES=\"$CONFIG_FILES w3mimg/fb/Makefile\" ;;\n    \"w3mimg/x11/Makefile\") CONFIG_FILES=\"$CONFIG_FILES w3mimg/x11/Makefile\" ;;\n    \"w3mimg/win/Makefile\") CONFIG_FILES=\"$CONFIG_FILES w3mimg/win/Makefile\" ;;\n    \"w3mhelp-w3m_en.html\") CONFIG_FILES=\"$CONFIG_FILES w3mhelp-w3m_en.html\" ;;\n    \"w3mhelp-w3m_ja.html\") CONFIG_FILES=\"$CONFIG_FILES w3mhelp-w3m_ja.html\" ;;\n    \"w3mhelp-lynx_en.html\") CONFIG_FILES=\"$CONFIG_FILES w3mhelp-lynx_en.html\" ;;\n    \"w3mhelp-lynx_ja.html\") CONFIG_FILES=\"$CONFIG_FILES w3mhelp-lynx_ja.html\" ;;\n\n  *) as_fn_error $? \"invalid argument: \\`$ac_config_target'\" \"$LINENO\" 5 ;;\n  esac\ndone\n\n\n# If the user did not use the arguments to specify the items to instantiate,\n# then the envvar interface is used.  Set only those that are not.\n# We use the long form for the default assignment because of an extremely\n# bizarre bug on SunOS 4.1.3.\nif $ac_need_defaults; then\n  test \"${CONFIG_FILES+set}\" = set || CONFIG_FILES=$config_files\n  test \"${CONFIG_HEADERS+set}\" = set || CONFIG_HEADERS=$config_headers\n  test \"${CONFIG_COMMANDS+set}\" = set || CONFIG_COMMANDS=$config_commands\nfi\n\n# Have a temporary directory for convenience.  Make it in the build tree\n# simply because there is no reason against having it here, and in addition,\n# creating and moving files from /tmp can sometimes cause problems.\n# Hook for its removal unless debugging.\n# Note that there is a small window in which the directory will not be cleaned:\n# after its creation but before its name has been assigned to `$tmp'.\n$debug ||\n{\n  tmp=\n  trap 'exit_status=$?\n  { test -z \"$tmp\" || test ! -d \"$tmp\" || rm -fr \"$tmp\"; } && exit $exit_status\n' 0\n  trap 'as_fn_exit 1' 1 2 13 15\n}\n# Create a (secure) tmp directory for tmp files.\n\n{\n  tmp=`(umask 077 && mktemp -d \"./confXXXXXX\") 2>/dev/null` &&\n  test -n \"$tmp\" && test -d \"$tmp\"\n}  ||\n{\n  tmp=./conf$$-$RANDOM\n  (umask 077 && mkdir \"$tmp\")\n} || as_fn_error $? \"cannot create a temporary directory in .\" \"$LINENO\" 5\n\n# Set up the scripts for CONFIG_FILES section.\n# No need to generate them if there are no CONFIG_FILES.\n# This happens for instance with `./config.status config.h'.\nif test -n \"$CONFIG_FILES\"; then\n\n\nac_cr=`echo X | tr X '\\015'`\n# On cygwin, bash can eat \\r inside `` if the user requested igncr.\n# But we know of no other shell where ac_cr would be empty at this\n# point, so we can use a bashism as a fallback.\nif test \"x$ac_cr\" = x; then\n  eval ac_cr=\\$\\'\\\\r\\'\nfi\nac_cs_awk_cr=`$AWK 'BEGIN { print \"a\\rb\" }' </dev/null 2>/dev/null`\nif test \"$ac_cs_awk_cr\" = \"a${ac_cr}b\"; then\n  ac_cs_awk_cr='\\\\r'\nelse\n  ac_cs_awk_cr=$ac_cr\nfi\n\necho 'BEGIN {' >\"$tmp/subs1.awk\" &&\n_ACEOF\n\n\n{\n  echo \"cat >conf$$subs.awk <<_ACEOF\" &&\n  echo \"$ac_subst_vars\" | sed 's/.*/&!$&$ac_delim/' &&\n  echo \"_ACEOF\"\n} >conf$$subs.sh ||\n  as_fn_error $? \"could not make $CONFIG_STATUS\" \"$LINENO\" 5\nac_delim_num=`echo \"$ac_subst_vars\" | grep -c '^'`\nac_delim='%!_!# '\nfor ac_last_try in false false false false false :; do\n  . ./conf$$subs.sh ||\n    as_fn_error $? \"could not make $CONFIG_STATUS\" \"$LINENO\" 5\n\n  ac_delim_n=`sed -n \"s/.*$ac_delim\\$/X/p\" conf$$subs.awk | grep -c X`\n  if test $ac_delim_n = $ac_delim_num; then\n    break\n  elif $ac_last_try; then\n    as_fn_error $? \"could not make $CONFIG_STATUS\" \"$LINENO\" 5\n  else\n    ac_delim=\"$ac_delim!$ac_delim _$ac_delim!! \"\n  fi\ndone\nrm -f conf$$subs.sh\n\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\ncat >>\"\\$tmp/subs1.awk\" <<\\\\_ACAWK &&\n_ACEOF\nsed -n '\nh\ns/^/S[\"/; s/!.*/\"]=/\np\ng\ns/^[^!]*!//\n:repl\nt repl\ns/'\"$ac_delim\"'$//\nt delim\n:nl\nh\ns/\\(.\\{148\\}\\)..*/\\1/\nt more1\ns/[\"\\\\]/\\\\&/g; s/^/\"/; s/$/\\\\n\"\\\\/\np\nn\nb repl\n:more1\ns/[\"\\\\]/\\\\&/g; s/^/\"/; s/$/\"\\\\/\np\ng\ns/.\\{148\\}//\nt nl\n:delim\nh\ns/\\(.\\{148\\}\\)..*/\\1/\nt more2\ns/[\"\\\\]/\\\\&/g; s/^/\"/; s/$/\"/\np\nb\n:more2\ns/[\"\\\\]/\\\\&/g; s/^/\"/; s/$/\"\\\\/\np\ng\ns/.\\{148\\}//\nt delim\n' <conf$$subs.awk | sed '\n/^[^\"\"]/{\n  N\n  s/\\n//\n}\n' >>$CONFIG_STATUS || ac_write_fail=1\nrm -f conf$$subs.awk\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n_ACAWK\ncat >>\"\\$tmp/subs1.awk\" <<_ACAWK &&\n  for (key in S) S_is_set[key] = 1\n  FS = \"\u0007\"\n\n}\n{\n  line = $ 0\n  nfields = split(line, field, \"@\")\n  substed = 0\n  len = length(field[1])\n  for (i = 2; i < nfields; i++) {\n    key = field[i]\n    keylen = length(key)\n    if (S_is_set[key]) {\n      value = S[key]\n      line = substr(line, 1, len) \"\" value \"\" substr(line, len + keylen + 3)\n      len += length(value) + length(field[++i])\n      substed = 1\n    } else\n      len += 1 + keylen\n  }\n\n  print line\n}\n\n_ACAWK\n_ACEOF\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\nif sed \"s/$ac_cr//\" < /dev/null > /dev/null 2>&1; then\n  sed \"s/$ac_cr\\$//; s/$ac_cr/$ac_cs_awk_cr/g\"\nelse\n  cat\nfi < \"$tmp/subs1.awk\" > \"$tmp/subs.awk\" \\\n  || as_fn_error $? \"could not setup config files machinery\" \"$LINENO\" 5\n_ACEOF\n\n# VPATH may cause trouble with some makes, so we remove sole $(srcdir),\n# ${srcdir} and @srcdir@ entries from VPATH if srcdir is \".\", strip leading and\n# trailing colons and then remove the whole line if VPATH becomes empty\n# (actually we leave an empty line to preserve line numbers).\nif test \"x$srcdir\" = x.; then\n  ac_vpsub='/^[\t ]*VPATH[\t ]*=[\t ]*/{\nh\ns///\ns/^/:/\ns/[\t ]*$/:/\ns/:\\$(srcdir):/:/g\ns/:\\${srcdir}:/:/g\ns/:@srcdir@:/:/g\ns/^:*//\ns/:*$//\nx\ns/\\(=[\t ]*\\).*/\\1/\nG\ns/\\n//\ns/^[^=]*=[\t ]*$//\n}'\nfi\n\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\nfi # test -n \"$CONFIG_FILES\"\n\n# Set up the scripts for CONFIG_HEADERS section.\n# No need to generate them if there are no CONFIG_HEADERS.\n# This happens for instance with `./config.status Makefile'.\nif test -n \"$CONFIG_HEADERS\"; then\ncat >\"$tmp/defines.awk\" <<\\_ACAWK ||\nBEGIN {\n_ACEOF\n\n# Transform confdefs.h into an awk script `defines.awk', embedded as\n# here-document in config.status, that substitutes the proper values into\n# config.h.in to produce config.h.\n\n# Create a delimiter string that does not exist in confdefs.h, to ease\n# handling of long lines.\nac_delim='%!_!# '\nfor ac_last_try in false false :; do\n  ac_t=`sed -n \"/$ac_delim/p\" confdefs.h`\n  if test -z \"$ac_t\"; then\n    break\n  elif $ac_last_try; then\n    as_fn_error $? \"could not make $CONFIG_HEADERS\" \"$LINENO\" 5\n  else\n    ac_delim=\"$ac_delim!$ac_delim _$ac_delim!! \"\n  fi\ndone\n\n# For the awk script, D is an array of macro values keyed by name,\n# likewise P contains macro parameters if any.  Preserve backslash\n# newline sequences.\n\nac_word_re=[_$as_cr_Letters][_$as_cr_alnum]*\nsed -n '\ns/.\\{148\\}/&'\"$ac_delim\"'/g\nt rset\n:rset\ns/^[\t ]*#[\t ]*define[\t ][\t ]*/ /\nt def\nd\n:def\ns/\\\\$//\nt bsnl\ns/[\"\\\\]/\\\\&/g\ns/^ \\('\"$ac_word_re\"'\\)\\(([^()]*)\\)[\t ]*\\(.*\\)/P[\"\\1\"]=\"\\2\"\\\nD[\"\\1\"]=\" \\3\"/p\ns/^ \\('\"$ac_word_re\"'\\)[\t ]*\\(.*\\)/D[\"\\1\"]=\" \\2\"/p\nd\n:bsnl\ns/[\"\\\\]/\\\\&/g\ns/^ \\('\"$ac_word_re\"'\\)\\(([^()]*)\\)[\t ]*\\(.*\\)/P[\"\\1\"]=\"\\2\"\\\nD[\"\\1\"]=\" \\3\\\\\\\\\\\\n\"\\\\/p\nt cont\ns/^ \\('\"$ac_word_re\"'\\)[\t ]*\\(.*\\)/D[\"\\1\"]=\" \\2\\\\\\\\\\\\n\"\\\\/p\nt cont\nd\n:cont\nn\ns/.\\{148\\}/&'\"$ac_delim\"'/g\nt clear\n:clear\ns/\\\\$//\nt bsnlc\ns/[\"\\\\]/\\\\&/g; s/^/\"/; s/$/\"/p\nd\n:bsnlc\ns/[\"\\\\]/\\\\&/g; s/^/\"/; s/$/\\\\\\\\\\\\n\"\\\\/p\nb cont\n' <confdefs.h | sed '\ns/'\"$ac_delim\"'/\"\\\\\\\n\"/g' >>$CONFIG_STATUS || ac_write_fail=1\n\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n  for (key in D) D_is_set[key] = 1\n  FS = \"\u0007\"\n}\n/^[\\t ]*#[\\t ]*(define|undef)[\\t ]+$ac_word_re([\\t (]|\\$)/ {\n  line = \\$ 0\n  split(line, arg, \" \")\n  if (arg[1] == \"#\") {\n    defundef = arg[2]\n    mac1 = arg[3]\n  } else {\n    defundef = substr(arg[1], 2)\n    mac1 = arg[2]\n  }\n  split(mac1, mac2, \"(\") #)\n  macro = mac2[1]\n  prefix = substr(line, 1, index(line, defundef) - 1)\n  if (D_is_set[macro]) {\n    # Preserve the white space surrounding the \"#\".\n    print prefix \"define\", macro P[macro] D[macro]\n    next\n  } else {\n    # Replace #undef with comments.  This is necessary, for example,\n    # in the case of _POSIX_SOURCE, which is predefined and required\n    # on some systems where configure will not decide to define it.\n    if (defundef == \"undef\") {\n      print \"/*\", prefix defundef, macro, \"*/\"\n      next\n    }\n  }\n}\n{ print }\n_ACAWK\n_ACEOF\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n  as_fn_error $? \"could not setup config headers machinery\" \"$LINENO\" 5\nfi # test -n \"$CONFIG_HEADERS\"\n\n\neval set X \"  :F $CONFIG_FILES  :H $CONFIG_HEADERS    :C $CONFIG_COMMANDS\"\nshift\nfor ac_tag\ndo\n  case $ac_tag in\n  :[FHLC]) ac_mode=$ac_tag; continue;;\n  esac\n  case $ac_mode$ac_tag in\n  :[FHL]*:*);;\n  :L* | :C*:*) as_fn_error $? \"invalid tag \\`$ac_tag'\" \"$LINENO\" 5 ;;\n  :[FH]-) ac_tag=-:-;;\n  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;\n  esac\n  ac_save_IFS=$IFS\n  IFS=:\n  set x $ac_tag\n  IFS=$ac_save_IFS\n  shift\n  ac_file=$1\n  shift\n\n  case $ac_mode in\n  :L) ac_source=$1;;\n  :[FH])\n    ac_file_inputs=\n    for ac_f\n    do\n      case $ac_f in\n      -) ac_f=\"$tmp/stdin\";;\n      *) # Look for the file first in the build tree, then in the source tree\n\t # (if the path is not absolute).  The absolute path cannot be DOS-style,\n\t # because $ac_f cannot contain `:'.\n\t test -f \"$ac_f\" ||\n\t   case $ac_f in\n\t   [\\\\/$]*) false;;\n\t   *) test -f \"$srcdir/$ac_f\" && ac_f=\"$srcdir/$ac_f\";;\n\t   esac ||\n\t   as_fn_error 1 \"cannot find input file: \\`$ac_f'\" \"$LINENO\" 5 ;;\n      esac\n      case $ac_f in *\\'*) ac_f=`$as_echo \"$ac_f\" | sed \"s/'/'\\\\\\\\\\\\\\\\''/g\"`;; esac\n      as_fn_append ac_file_inputs \" '$ac_f'\"\n    done\n\n    # Let's still pretend it is `configure' which instantiates (i.e., don't\n    # use $as_me), people would be surprised to read:\n    #    /* config.h.  Generated by config.status.  */\n    configure_input='Generated from '`\n\t  $as_echo \"$*\" | sed 's|^[^:]*/||;s|:[^:]*/|, |g'\n\t`' by configure.'\n    if test x\"$ac_file\" != x-; then\n      configure_input=\"$ac_file.  $configure_input\"\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: creating $ac_file\" >&5\n$as_echo \"$as_me: creating $ac_file\" >&6;}\n    fi\n    # Neutralize special characters interpreted by sed in replacement strings.\n    case $configure_input in #(\n    *\\&* | *\\|* | *\\\\* )\n       ac_sed_conf_input=`$as_echo \"$configure_input\" |\n       sed 's/[\\\\\\\\&|]/\\\\\\\\&/g'`;; #(\n    *) ac_sed_conf_input=$configure_input;;\n    esac\n\n    case $ac_tag in\n    *:-:* | *:-) cat >\"$tmp/stdin\" \\\n      || as_fn_error $? \"could not create $ac_file\" \"$LINENO\" 5  ;;\n    esac\n    ;;\n  esac\n\n  ac_dir=`$as_dirname -- \"$ac_file\" ||\n$as_expr X\"$ac_file\" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n\t X\"$ac_file\" : 'X\\(//\\)[^/]' \\| \\\n\t X\"$ac_file\" : 'X\\(//\\)$' \\| \\\n\t X\"$ac_file\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n$as_echo X\"$ac_file\" |\n    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)[^/].*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\/\\)$/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  /^X\\(\\/\\).*/{\n\t    s//\\1/\n\t    q\n\t  }\n\t  s/.*/./; q'`\n  as_dir=\"$ac_dir\"; as_fn_mkdir_p\n  ac_builddir=.\n\ncase \"$ac_dir\" in\n.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;\n*)\n  ac_dir_suffix=/`$as_echo \"$ac_dir\" | sed 's|^\\.[\\\\/]||'`\n  # A \"..\" for each directory in $ac_dir_suffix.\n  ac_top_builddir_sub=`$as_echo \"$ac_dir_suffix\" | sed 's|/[^\\\\/]*|/..|g;s|/||'`\n  case $ac_top_builddir_sub in\n  \"\") ac_top_builddir_sub=. ac_top_build_prefix= ;;\n  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;\n  esac ;;\nesac\nac_abs_top_builddir=$ac_pwd\nac_abs_builddir=$ac_pwd$ac_dir_suffix\n# for backward compatibility:\nac_top_builddir=$ac_top_build_prefix\n\ncase $srcdir in\n  .)  # We are building in place.\n    ac_srcdir=.\n    ac_top_srcdir=$ac_top_builddir_sub\n    ac_abs_top_srcdir=$ac_pwd ;;\n  [\\\\/]* | ?:[\\\\/]* )  # Absolute name.\n    ac_srcdir=$srcdir$ac_dir_suffix;\n    ac_top_srcdir=$srcdir\n    ac_abs_top_srcdir=$srcdir ;;\n  *) # Relative name.\n    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix\n    ac_top_srcdir=$ac_top_build_prefix$srcdir\n    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;\nesac\nac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix\n\n\n  case $ac_mode in\n  :F)\n  #\n  # CONFIG_FILE\n  #\n\n  case $INSTALL in\n  [\\\\/$]* | ?:[\\\\/]* ) ac_INSTALL=$INSTALL ;;\n  *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;\n  esac\n  ac_MKDIR_P=$MKDIR_P\n  case $MKDIR_P in\n  [\\\\/$]* | ?:[\\\\/]* ) ;;\n  */*) ac_MKDIR_P=$ac_top_build_prefix$MKDIR_P ;;\n  esac\n_ACEOF\n\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n# If the template does not know about datarootdir, expand it.\n# FIXME: This hack should be removed a few years after 2.60.\nac_datarootdir_hack=; ac_datarootdir_seen=\nac_sed_dataroot='\n/datarootdir/ {\n  p\n  q\n}\n/@datadir@/p\n/@docdir@/p\n/@infodir@/p\n/@localedir@/p\n/@mandir@/p'\ncase `eval \"sed -n \\\"\\$ac_sed_dataroot\\\" $ac_file_inputs\"` in\n*datarootdir*) ac_datarootdir_seen=yes;;\n*@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting\" >&5\n$as_echo \"$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting\" >&2;}\n_ACEOF\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n  ac_datarootdir_hack='\n  s&@datadir@&$datadir&g\n  s&@docdir@&$docdir&g\n  s&@infodir@&$infodir&g\n  s&@localedir@&$localedir&g\n  s&@mandir@&$mandir&g\n  s&\\\\\\${datarootdir}&$datarootdir&g' ;;\nesac\n_ACEOF\n\n# Neutralize VPATH when `$srcdir' = `.'.\n# Shell code in configure.ac might set extrasub.\n# FIXME: do we really want to maintain this feature?\ncat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\nac_sed_extra=\"$ac_vpsub\n$extrasub\n_ACEOF\ncat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n:t\n/@[a-zA-Z_][a-zA-Z_0-9]*@/!b\ns|@configure_input@|$ac_sed_conf_input|;t t\ns&@top_builddir@&$ac_top_builddir_sub&;t t\ns&@top_build_prefix@&$ac_top_build_prefix&;t t\ns&@srcdir@&$ac_srcdir&;t t\ns&@abs_srcdir@&$ac_abs_srcdir&;t t\ns&@top_srcdir@&$ac_top_srcdir&;t t\ns&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t\ns&@builddir@&$ac_builddir&;t t\ns&@abs_builddir@&$ac_abs_builddir&;t t\ns&@abs_top_builddir@&$ac_abs_top_builddir&;t t\ns&@INSTALL@&$ac_INSTALL&;t t\ns&@MKDIR_P@&$ac_MKDIR_P&;t t\n$ac_datarootdir_hack\n\"\neval sed \\\"\\$ac_sed_extra\\\" \"$ac_file_inputs\" | $AWK -f \"$tmp/subs.awk\" >$tmp/out \\\n  || as_fn_error $? \"could not create $ac_file\" \"$LINENO\" 5\n\ntest -z \"$ac_datarootdir_hack$ac_datarootdir_seen\" &&\n  { ac_out=`sed -n '/\\${datarootdir}/p' \"$tmp/out\"`; test -n \"$ac_out\"; } &&\n  { ac_out=`sed -n '/^[\t ]*datarootdir[\t ]*:*=/p' \"$tmp/out\"`; test -z \"$ac_out\"; } &&\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \\`datarootdir'\nwhich seems to be undefined.  Please make sure it is defined\" >&5\n$as_echo \"$as_me: WARNING: $ac_file contains a reference to the variable \\`datarootdir'\nwhich seems to be undefined.  Please make sure it is defined\" >&2;}\n\n  rm -f \"$tmp/stdin\"\n  case $ac_file in\n  -) cat \"$tmp/out\" && rm -f \"$tmp/out\";;\n  *) rm -f \"$ac_file\" && mv \"$tmp/out\" \"$ac_file\";;\n  esac \\\n  || as_fn_error $? \"could not create $ac_file\" \"$LINENO\" 5\n ;;\n  :H)\n  #\n  # CONFIG_HEADER\n  #\n  if test x\"$ac_file\" != x-; then\n    {\n      $as_echo \"/* $configure_input  */\" \\\n      && eval '$AWK -f \"$tmp/defines.awk\"' \"$ac_file_inputs\"\n    } >\"$tmp/config.h\" \\\n      || as_fn_error $? \"could not create $ac_file\" \"$LINENO\" 5\n    if diff \"$ac_file\" \"$tmp/config.h\" >/dev/null 2>&1; then\n      { $as_echo \"$as_me:${as_lineno-$LINENO}: $ac_file is unchanged\" >&5\n$as_echo \"$as_me: $ac_file is unchanged\" >&6;}\n    else\n      rm -f \"$ac_file\"\n      mv \"$tmp/config.h\" \"$ac_file\" \\\n\t|| as_fn_error $? \"could not create $ac_file\" \"$LINENO\" 5\n    fi\n  else\n    $as_echo \"/* $configure_input  */\" \\\n      && eval '$AWK -f \"$tmp/defines.awk\"' \"$ac_file_inputs\" \\\n      || as_fn_error $? \"could not create -\" \"$LINENO\" 5\n  fi\n ;;\n\n  :C)  { $as_echo \"$as_me:${as_lineno-$LINENO}: executing $ac_file commands\" >&5\n$as_echo \"$as_me: executing $ac_file commands\" >&6;}\n ;;\n  esac\n\n\n  case $ac_file$ac_mode in\n    \"po-directories\":C)\n    for ac_file in $CONFIG_FILES; do\n      # Support \"outfile[:infile[:infile...]]\"\n      case \"$ac_file\" in\n        *:*) ac_file=`echo \"$ac_file\"|sed 's%:.*%%'` ;;\n      esac\n      # PO directories have a Makefile.in generated from Makefile.in.in.\n      case \"$ac_file\" in */Makefile.in)\n        # Adjust a relative srcdir.\n        ac_dir=`echo \"$ac_file\"|sed 's%/[^/][^/]*$%%'`\n        ac_dir_suffix=\"/`echo \"$ac_dir\"|sed 's%^\\./%%'`\"\n        ac_dots=`echo \"$ac_dir_suffix\"|sed 's%/[^/]*%../%g'`\n        # In autoconf-2.13 it is called $ac_given_srcdir.\n        # In autoconf-2.50 it is called $srcdir.\n        test -n \"$ac_given_srcdir\" || ac_given_srcdir=\"$srcdir\"\n        case \"$ac_given_srcdir\" in\n          .)  top_srcdir=`echo $ac_dots|sed 's%/$%%'` ;;\n          /*) top_srcdir=\"$ac_given_srcdir\" ;;\n          *)  top_srcdir=\"$ac_dots$ac_given_srcdir\" ;;\n        esac\n        # Treat a directory as a PO directory if and only if it has a\n        # POTFILES.in file. This allows packages to have multiple PO\n        # directories under different names or in different locations.\n        if test -f \"$ac_given_srcdir/$ac_dir/POTFILES.in\"; then\n          rm -f \"$ac_dir/POTFILES\"\n          test -n \"$as_me\" && echo \"$as_me: creating $ac_dir/POTFILES\" || echo \"creating $ac_dir/POTFILES\"\n          cat \"$ac_given_srcdir/$ac_dir/POTFILES.in\" | sed -e \"/^#/d\" -e \"/^[ \t]*\\$/d\" -e \"s,.*,     $top_srcdir/& \\\\\\\\,\" | sed -e \"\\$s/\\(.*\\) \\\\\\\\/\\1/\" > \"$ac_dir/POTFILES\"\n          POMAKEFILEDEPS=\"POTFILES.in\"\n          # ALL_LINGUAS, POFILES, UPDATEPOFILES, DUMMYPOFILES, GMOFILES depend\n          # on $ac_dir but don't depend on user-specified configuration\n          # parameters.\n          if test -f \"$ac_given_srcdir/$ac_dir/LINGUAS\"; then\n            # The LINGUAS file contains the set of available languages.\n            if test -n \"$OBSOLETE_ALL_LINGUAS\"; then\n              test -n \"$as_me\" && echo \"$as_me: setting ALL_LINGUAS in configure.in is obsolete\" || echo \"setting ALL_LINGUAS in configure.in is obsolete\"\n            fi\n            ALL_LINGUAS_=`sed -e \"/^#/d\" -e \"s/#.*//\" \"$ac_given_srcdir/$ac_dir/LINGUAS\"`\n            # Hide the ALL_LINGUAS assigment from automake < 1.5.\n            eval 'ALL_LINGUAS''=$ALL_LINGUAS_'\n            POMAKEFILEDEPS=\"$POMAKEFILEDEPS LINGUAS\"\n          else\n            # The set of available languages was given in configure.in.\n            # Hide the ALL_LINGUAS assigment from automake < 1.5.\n            eval 'ALL_LINGUAS''=$OBSOLETE_ALL_LINGUAS'\n          fi\n          # Compute POFILES\n          # as      $(foreach lang, $(ALL_LINGUAS), $(srcdir)/$(lang).po)\n          # Compute UPDATEPOFILES\n          # as      $(foreach lang, $(ALL_LINGUAS), $(lang).po-update)\n          # Compute DUMMYPOFILES\n          # as      $(foreach lang, $(ALL_LINGUAS), $(lang).nop)\n          # Compute GMOFILES\n          # as      $(foreach lang, $(ALL_LINGUAS), $(srcdir)/$(lang).gmo)\n          case \"$ac_given_srcdir\" in\n            .) srcdirpre= ;;\n            *) srcdirpre='$(srcdir)/' ;;\n          esac\n          POFILES=\n          UPDATEPOFILES=\n          DUMMYPOFILES=\n          GMOFILES=\n          for lang in $ALL_LINGUAS; do\n            POFILES=\"$POFILES $srcdirpre$lang.po\"\n            UPDATEPOFILES=\"$UPDATEPOFILES $lang.po-update\"\n            DUMMYPOFILES=\"$DUMMYPOFILES $lang.nop\"\n            GMOFILES=\"$GMOFILES $srcdirpre$lang.gmo\"\n          done\n          # CATALOGS depends on both $ac_dir and the user's LINGUAS\n          # environment variable.\n          INST_LINGUAS=\n          if test -n \"$ALL_LINGUAS\"; then\n            for presentlang in $ALL_LINGUAS; do\n              useit=no\n              if test \"%UNSET%\" != \"$LINGUAS\"; then\n                desiredlanguages=\"$LINGUAS\"\n              else\n                desiredlanguages=\"$ALL_LINGUAS\"\n              fi\n              for desiredlang in $desiredlanguages; do\n                # Use the presentlang catalog if desiredlang is\n                #   a. equal to presentlang, or\n                #   b. a variant of presentlang (because in this case,\n                #      presentlang can be used as a fallback for messages\n                #      which are not translated in the desiredlang catalog).\n                case \"$desiredlang\" in\n                  \"$presentlang\"*) useit=yes;;\n                esac\n              done\n              if test $useit = yes; then\n                INST_LINGUAS=\"$INST_LINGUAS $presentlang\"\n              fi\n            done\n          fi\n          CATALOGS=\n          if test -n \"$INST_LINGUAS\"; then\n            for lang in $INST_LINGUAS; do\n              CATALOGS=\"$CATALOGS $lang.gmo\"\n            done\n          fi\n          test -n \"$as_me\" && echo \"$as_me: creating $ac_dir/Makefile\" || echo \"creating $ac_dir/Makefile\"\n          sed -e \"/^POTFILES =/r $ac_dir/POTFILES\" -e \"/^# Makevars/r $ac_given_srcdir/$ac_dir/Makevars\" -e \"s|@POFILES@|$POFILES|g\" -e \"s|@UPDATEPOFILES@|$UPDATEPOFILES|g\" -e \"s|@DUMMYPOFILES@|$DUMMYPOFILES|g\" -e \"s|@GMOFILES@|$GMOFILES|g\" -e \"s|@CATALOGS@|$CATALOGS|g\" -e \"s|@POMAKEFILEDEPS@|$POMAKEFILEDEPS|g\" \"$ac_dir/Makefile.in\" > \"$ac_dir/Makefile\"\n          for f in \"$ac_given_srcdir/$ac_dir\"/Rules-*; do\n            if test -f \"$f\"; then\n              case \"$f\" in\n                *.orig | *.bak | *~) ;;\n                *) cat \"$f\" >> \"$ac_dir/Makefile\" ;;\n              esac\n            fi\n          done\n        fi\n        ;;\n      esac\n    done ;;\n\n  esac\ndone # for ac_tag\n\n\nas_fn_exit 0\n_ACEOF\nac_clean_files=$ac_clean_files_save\n\ntest $ac_write_fail = 0 ||\n  as_fn_error $? \"write failure creating $CONFIG_STATUS\" \"$LINENO\" 5\n\n\n# configure is writing to config.log, and then calls config.status.\n# config.status does its own redirection, appending to config.log.\n# Unfortunately, on DOS this fails, as config.log is still kept open\n# by configure, so config.status won't be able to write to it; its\n# output is simply discarded.  So we exec the FD to /dev/null,\n# effectively closing config.log, so it can be properly (re)opened and\n# appended to by config.status.  When coming back to configure, we\n# need to make the FD available again.\nif test \"$no_create\" != yes; then\n  ac_cs_success=:\n  ac_config_status_args=\n  test \"$silent\" = yes &&\n    ac_config_status_args=\"$ac_config_status_args --quiet\"\n  exec 5>/dev/null\n  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false\n  exec 5>>config.log\n  # Use ||, not &&, to avoid exiting from the if with $? = 1, which\n  # would make configure fail if this is the last instruction.\n  $ac_cs_success || as_fn_exit 1\nfi\nif test -n \"$ac_unrecognized_opts\" && test \"$enable_option_checking\" != no; then\n  { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: unrecognized options: $ac_unrecognized_opts\" >&5\n$as_echo \"$as_me: WARNING: unrecognized options: $ac_unrecognized_opts\" >&2;}\nfi\n\n\nchmod +x posubst\n", "dnl w3m autoconf\ndnl Process this file with autoconf to produce a configure script.\nAC_INIT(w3m, 0.5.3, satodai@w3m.jp)\nPACKAGE=w3m\nVERSION=0.5.3\nAC_DEFINE_UNQUOTED(PACKAGE, \"$PACKAGE\")\nAC_DEFINE_UNQUOTED(VERSION, \"$VERSION\")\nAC_SUBST(PACKAGE)\nAC_SUBST(VERSION)\n\nAC_SUBST(W3M)\nW3M=w3m\nAC_DEFINE(W3M, w3m)\n\nAC_SUBST(W3M_LANG)\nW3M_LANG=${LC_ALL:-$LANG}\ndnl AM_INIT_AUTOMAKE(w3m, 0.4)\nAC_CONFIG_HEADER(config.h)\ndnl Checks for programs.\nAC_PROG_CXX\nAC_PROG_AWK\nAC_PROG_CC\nAC_PROG_CPP\nAC_PROG_INSTALL\nAC_PROG_LN_S\nAC_PROG_MAKE_SET\nAC_PROG_RANLIB\nAC_PATH_PROGS(PERL, perl, /usr/local/bin/perl)\nAC_PATH_PROGS(NKF, nkf, /usr/local/bin/nkf)\nAC_PATH_PROGS(MAN, man, /usr/bin/man)\nAC_CANONICAL_HOST\n\nAC_EXEEXT\nAC_SUBST(EXEEXT)\n\nAUXBIN_TARGETS=\n\nAC_SUBST(W3M_TARGET)\nAC_SUBST(W3M_LIBS)\nW3M_TARGET=$target\nAC_DEFINE_UNQUOTED(W3M_TARGET, $W3M_TARGET)\n\nAC_W3M_M17N\nif test x$enable_messagel10n = xno; then\n AM_GNU_GETTEXT([external])\nfi\n\nNLSTARGET=\"\"\nif test x\"$USE_NLS\" = xyes; then\n  NLSTARGET=\"po\"\nfi\nAC_SUBST(INTLTARGET)\nAC_SUBST(NLSTARGET)\n\nAC_W3M_COLOR\nAC_W3M_ANSI_COLOR\nAC_W3M_BG_COLOR\n\nAC_W3M_IMAGE\nif test x\"$enable_image\" != xno; then\n AUXBIN_TARGETS=\"$AUXBIN_TARGETS w3mimgdisplay\\$(EXT)\"\n AC_W3M_XFACE\nfi\n\nAC_W3M_KEYMAP\nAC_W3M_MENU\nAC_W3M_MOUSE\nAC_W3M_HISTORY\nAC_W3M_ALARM\n\nAC_W3M_COOKIE\nAC_W3M_NNTP\nAC_W3M_GOPHER\n\nAC_W3M_DICT\nAC_W3M_HELP_CGI\nAC_W3M_EXTERNAL_URI_LOADER\nAC_W3M_W3MMAILER\nAC_W3M_MIGEMO\nAC_W3M_EDITOR\nAC_W3M_MAILER\nAC_W3M_EXT_BROWSER\n\ndnl Checks for ext libs\nfor lib in bsd BSD 44bsd socket nsl dld dl\ndo\n AC_W3M_EXTLIBS($lib)\ndone\n\nAC_W3M_IPv6\nAC_W3M_SSL_DIGEST_AUTH\n\ndnl Checks for libraries.\nAC_CHECK_FUNC(sqrt,,[AC_CHECK_LIB(m, sqrt)])\nif test x\"$enable_mouse\" = xyes; then\n AC_SUBST(USE_W3M)\n AC_CHECK_LIB(gpm, Gpm_Open, [AC_DEFINE(USE_GPM)\n   \t\tW3M_LIBS=\"$W3M_LIBS -lgpm\"])\n AC_SUBST(USE_SYSMOUSE)\n AC_TRY_CPP([#include <sys/consio.h>\n   MOUSE_GETINFO], [AC_DEFINE(USE_SYSMOUSE)],\n   [AC_TRY_CPP([#include <machine/console.h>\n      MOUSE_GETINFO], [AC_DEFINE(USE_SYSMOUSE)])])\nfi\nAC_SUBST(AUXBIN_TARGETS)\nAC_W3M_TERMLIB\nAC_W3M_GC\nAC_CHECK_LIB(z, zError, [AUXBIN_TARGETS=\"$AUXBIN_TARGETS inflate\\$(EXT)\"])\n\nAC_CHECK_TYPE([socklen_t],\n\t [AC_DEFINE(HAVE_SOCKLEN_T)], ,\n\t [#include <sys/types.h>\n\t  #include <sys/socket.h>])\n\nAC_DEFINE(AUXBIN_TARGETS, \"$AUXBIN_TARGETS\")\n\nAC_SUBST(USE_BINMODE_STREAM)\ncase \"$host_os\" in\n  *cygwin*|*os2-emx*|*mingw*)\n    AC_DEFINE(USE_BINMODE_STREAM)\n    ;;\nesac\n\nAC_HEADER_DIRENT\nAC_HEADER_STDC\nAC_HEADER_SYS_WAIT\ndnl AC_CHECK_HEADERS(fcntl.h malloc.h sgtty.h strings.h sys/ioctl.h sys/time.h termio.h unistd.h setjmp.h)\nAC_CHECK_HEADER(termios.h, [AC_DEFINE(HAVE_TERMIOS_H)],\n\t [AC_CHECK_HEADER(termio.h, [AC_DEFINE(HAVE_TERMIO_H)],\n\t  [AC_CHECK_HEADER(sgtty.h, [AC_DEFINE(HAVE_SGTTY_H)])])])\nAC_CHECK_HEADER([float.h], [AC_DEFINE(HAVE_FLOAT_H)])\nAC_CHECK_HEADER([sys/select.h], [AC_DEFINE(HAVE_SYS_SELECT_H)])\nAC_CHECK_HEADER([locale.h], [AC_DEFINE(HAVE_LOCALE_H)])\nAC_CHECK_HEADER([stdint.h], [AC_DEFINE(HAVE_STDINT_H)])\nAC_CHECK_HEADER([inttypes.h], [AC_DEFINE(HAVE_INTTYPES_H)])\n\ndnl Checks for typedefs, structures, and compiler characteristics.\ndnl AC_C_CONST\ndnl AC_C_INLINE\ndnl AC_TYPE_PID_T\ndnl AC_TYPE_SIZE_T\ndnl AC_HEADER_TIME\ndnl AC_STRUCT_TM\nAC_CHECK_SIZEOF(long long, 0)\n\ndnl Checks for library functions.\ndnl AC_FUNC_ALLOCA\ndnl AC_PROG_GCC_TRADITIONAL\ndnl AC_FUNC_MEMCMP\ndnl AC_FUNC_MMAP\ndnl AC_FUNC_SETVBUF_REVERSED\ndnl AC_FUNC_VPRINTF\nAC_CHECK_FUNCS(strcasecmp strcasestr strchr memcpy strerror bcopy setpgrp chdir mkdtemp getcwd getwd readlink setenv putenv strtoll stroq atoll atoq symlink readlink lstat srand48 srandom getpassphrase waitpid setlocale)\nAC_FUNC_STRFTIME\nAC_FUNC_WAIT3\nAC_FUNC_SETPGRP\ncase \"$host_os\" in\n  *cygwin*)\n    ;;\n  *)\n    AM_LANGINFO_CODESET\n    ;;\nesac\nAC_W3M_SYS_ERRLIST\nAC_W3M_SIGSETJMP\nAC_W3M_SIGNAL\n\nAC_SUBST(HELP_DIR)\nHELP_DIR=\"$datadir/$PACKAGE\"\nAC_DEFINE(HELP_DIR, \"$HELP_DIR\")\nAC_SUBST(RC_DIR)\nRC_DIR=\"~/.$PACKAGE\"\nAC_DEFINE(RC_DIR, \"$RC_DIR\")\nAC_SUBST(DOCDIRS)\nDOCDIRS=\"doc:en_English doc-jp:ja_Japanese doc-de:de_German\"\nAC_DEFINE_UNQUOTED(DOCDIRS, \"$DOCDIRS\")\n\nAC_W3M_VERSION\nAC_OUTPUT([Makefile posubst po/Makefile.in \\\nscripts/Makefile scripts/dirlist.cgi \\\nscripts/w3mhelp.cgi \\\nscripts/w3mmail.cgi scripts/xface2xpm \\\nscripts/multipart/Makefile scripts/multipart/multipart.cgi \\\nscripts/w3mman/Makefile scripts/w3mman/w3mman \\\nscripts/w3mman/w3mman.1 scripts/w3mman/w3mman.de.1 \\\nscripts/w3mman/w3mman2html.cgi \\\nlibwc/Makefile \\\nw3mimg/Makefile w3mimg/fb/Makefile w3mimg/x11/Makefile w3mimg/win/Makefile \\\nw3mhelp-w3m_en.html w3mhelp-w3m_ja.html \\\nw3mhelp-lynx_en.html w3mhelp-lynx_ja.html])\n\nchmod +x posubst\n", "/* $Id: main.c,v 1.270 2010/08/24 10:11:51 htrb Exp $ */\n#define MAINPROGRAM\n#include \"fm.h\"\n#include <stdio.h>\n#include <signal.h>\n#include <setjmp.h>\n#include <sys/stat.h>\n#include <sys/types.h>\n#include <unistd.h>\n#include <fcntl.h>\n#if defined(HAVE_WAITPID) || defined(HAVE_WAIT3)\n#include <sys/wait.h>\n#endif\n#include <time.h>\n#if defined(__CYGWIN__) && defined(USE_BINMODE_STREAM)\n#include <io.h>\n#endif\n#include \"terms.h\"\n#include \"myctype.h\"\n#include \"regex.h\"\n#ifdef USE_M17N\n#include \"wc.h\"\n#include \"wtf.h\"\n#ifdef USE_UNICODE\n#include \"ucs.h\"\n#endif\n#endif\n#ifdef USE_MOUSE\n#ifdef USE_GPM\n#include <gpm.h>\n#endif\t\t\t\t/* USE_GPM */\n#if defined(USE_GPM) || defined(USE_SYSMOUSE)\nextern int do_getch();\n#define getch()\tdo_getch()\n#endif\t\t\t\t/* defined(USE_GPM) || defined(USE_SYSMOUSE) */\n#endif\n\n#ifdef __MINGW32_VERSION\n#include <winsock.h>\n\nWSADATA WSAData;\n#endif\n\n#define DSTR_LEN\t256\n\nHist *LoadHist;\nHist *SaveHist;\nHist *URLHist;\nHist *ShellHist;\nHist *TextHist;\n\ntypedef struct _Event {\n    int cmd;\n    void *data;\n    struct _Event *next;\n} Event;\nstatic Event *CurrentEvent = NULL;\nstatic Event *LastEvent = NULL;\n\n#ifdef USE_ALARM\nstatic AlarmEvent DefaultAlarm = {\n    0, AL_UNSET, FUNCNAME_nulcmd, NULL\n};\nstatic AlarmEvent *CurrentAlarm = &DefaultAlarm;\nstatic MySignalHandler SigAlarm(SIGNAL_ARG);\n#endif\n\n#ifdef SIGWINCH\nstatic int need_resize_screen = FALSE;\nstatic MySignalHandler resize_hook(SIGNAL_ARG);\nstatic void resize_screen(void);\n#endif\n\n#ifdef SIGPIPE\nstatic MySignalHandler SigPipe(SIGNAL_ARG);\n#endif\n\n#ifdef USE_MARK\nstatic char *MarkString = NULL;\n#endif\nstatic char *SearchString = NULL;\nint (*searchRoutine) (Buffer *, char *);\n\n#ifndef __MINGW32_VERSION\nJMP_BUF IntReturn;\n#else\n_JBTYPE IntReturn[_JBLEN];\n#endif /* __MINGW32_VERSION */\n\nstatic void delBuffer(Buffer *buf);\nstatic void cmd_loadfile(char *path);\nstatic void cmd_loadURL(char *url, ParsedURL *current, char *referer,\n\t\t\tFormList *request);\nstatic void cmd_loadBuffer(Buffer *buf, int prop, int linkid);\nstatic void keyPressEventProc(int c);\nint show_params_p = 0;\nvoid show_params(FILE * fp);\n\nstatic char *getCurWord(Buffer *buf, int *spos, int *epos);\n\nstatic int display_ok = FALSE;\nstatic void do_dump(Buffer *);\nint prec_num = 0;\nint prev_key = -1;\nint on_target = 1;\nstatic int add_download_list = FALSE;\n\nvoid set_buffer_environ(Buffer *);\nstatic void save_buffer_position(Buffer *buf);\n\nstatic void _followForm(int);\nstatic void _goLine(char *);\nstatic void _newT(void);\nstatic void followTab(TabBuffer * tab);\nstatic void moveTab(TabBuffer * t, TabBuffer * t2, int right);\nstatic void _nextA(int);\nstatic void _prevA(int);\nstatic int check_target = TRUE;\n#define PREC_NUM (prec_num ? prec_num : 1)\n#define PREC_LIMIT 10000\nstatic int searchKeyNum(void);\n\n#define help() fusage(stdout, 0)\n#define usage() fusage(stderr, 1)\n\nint enable_inline_image;\t/* 1 == mlterm OSC 5379, 2 == sixel */\n\nstatic void\nfversion(FILE * f)\n{\n    fprintf(f, \"w3m version %s, options %s\\n\", w3m_version,\n#if LANG == JA\n\t    \"lang=ja\"\n#else\n\t    \"lang=en\"\n#endif\n#ifdef USE_M17N\n\t    \",m17n\"\n#endif\n#ifdef USE_IMAGE\n\t    \",image\"\n#endif\n#ifdef USE_COLOR\n\t    \",color\"\n#ifdef USE_ANSI_COLOR\n\t    \",ansi-color\"\n#endif\n#endif\n#ifdef USE_MOUSE\n\t    \",mouse\"\n#ifdef USE_GPM\n\t    \",gpm\"\n#endif\n#ifdef USE_SYSMOUSE\n\t    \",sysmouse\"\n#endif\n#endif\n#ifdef USE_MENU\n\t    \",menu\"\n#endif\n#ifdef USE_COOKIE\n\t    \",cookie\"\n#endif\n#ifdef USE_SSL\n\t    \",ssl\"\n#ifdef USE_SSL_VERIFY\n\t    \",ssl-verify\"\n#endif\n#endif\n#ifdef USE_EXTERNAL_URI_LOADER\n\t    \",external-uri-loader\"\n#endif\n#ifdef USE_W3MMAILER\n\t    \",w3mmailer\"\n#endif\n#ifdef USE_NNTP\n\t    \",nntp\"\n#endif\n#ifdef USE_GOPHER\n\t    \",gopher\"\n#endif\n#ifdef INET6\n\t    \",ipv6\"\n#endif\n#ifdef USE_ALARM\n\t    \",alarm\"\n#endif\n#ifdef USE_MARK\n\t    \",mark\"\n#endif\n#ifdef USE_MIGEMO\n\t    \",migemo\"\n#endif\n\t);\n}\n\nstatic void\nfusage(FILE * f, int err)\n{\n    fversion(f);\n    /* FIXME: gettextize? */\n    fprintf(f, \"usage: w3m [options] [URL or filename]\\noptions:\\n\");\n    fprintf(f, \"    -t tab           set tab width\\n\");\n    fprintf(f, \"    -r               ignore backspace effect\\n\");\n    fprintf(f, \"    -l line          # of preserved line (default 10000)\\n\");\n#ifdef USE_M17N\n    fprintf(f, \"    -I charset       document charset\\n\");\n    fprintf(f, \"    -O charset       display/output charset\\n\");\n#if 0\t\t\t\t/* use -O{s|j|e} instead */\n    fprintf(f, \"    -e               EUC-JP\\n\");\n    fprintf(f, \"    -s               Shift_JIS\\n\");\n    fprintf(f, \"    -j               JIS\\n\");\n#endif\n#endif\n    fprintf(f, \"    -B               load bookmark\\n\");\n    fprintf(f, \"    -bookmark file   specify bookmark file\\n\");\n    fprintf(f, \"    -T type          specify content-type\\n\");\n    fprintf(f, \"    -m               internet message mode\\n\");\n    fprintf(f, \"    -v               visual startup mode\\n\");\n#ifdef USE_COLOR\n    fprintf(f, \"    -M               monochrome display\\n\");\n#endif\t\t\t\t/* USE_COLOR */\n    fprintf(f,\n\t    \"    -N               open URL of command line on each new tab\\n\");\n    fprintf(f, \"    -F               automatically render frames\\n\");\n    fprintf(f,\n\t    \"    -cols width      specify column width (used with -dump)\\n\");\n    fprintf(f,\n\t    \"    -ppc count       specify the number of pixels per character (4.0...32.0)\\n\");\n#ifdef USE_IMAGE\n    fprintf(f,\n\t    \"    -ppl count       specify the number of pixels per line (4.0...64.0)\\n\");\n#endif\n    fprintf(f, \"    -dump            dump formatted page into stdout\\n\");\n    fprintf(f,\n\t    \"    -dump_head       dump response of HEAD request into stdout\\n\");\n    fprintf(f, \"    -dump_source     dump page source into stdout\\n\");\n    fprintf(f, \"    -dump_both       dump HEAD and source into stdout\\n\");\n    fprintf(f,\n\t    \"    -dump_extra      dump HEAD, source, and extra information into stdout\\n\");\n    fprintf(f, \"    -post file       use POST method with file content\\n\");\n    fprintf(f, \"    -header string   insert string as a header\\n\");\n    fprintf(f, \"    +<num>           goto <num> line\\n\");\n    fprintf(f, \"    -num             show line number\\n\");\n    fprintf(f, \"    -no-proxy        don't use proxy\\n\");\n#ifdef INET6\n    fprintf(f, \"    -4               IPv4 only (-o dns_order=4)\\n\");\n    fprintf(f, \"    -6               IPv6 only (-o dns_order=6)\\n\");\n#endif\n#ifdef USE_MOUSE\n    fprintf(f, \"    -no-mouse        don't use mouse\\n\");\n#endif\t\t\t\t/* USE_MOUSE */\n#ifdef USE_COOKIE\n    fprintf(f,\n\t    \"    -cookie          use cookie (-no-cookie: don't use cookie)\\n\");\n#endif\t\t\t\t/* USE_COOKIE */\n    fprintf(f, \"    -graph           use DEC special graphics for border of table and menu\\n\");\n    fprintf(f, \"    -no-graph        use ASCII character for border of table and menu\\n\");\n#if 1\t\t\t\t/* pager requires -s */\n    fprintf(f, \"    -s               squeeze multiple blank lines\\n\");\n#else\n    fprintf(f, \"    -S               squeeze multiple blank lines\\n\");\n#endif\n    fprintf(f, \"    -W               toggle search wrap mode\\n\");\n    fprintf(f, \"    -X               don't use termcap init/deinit\\n\");\n    fprintf(f,\n\t    \"    -title[=TERM]    set buffer name to terminal title string\\n\");\n    fprintf(f, \"    -o opt=value     assign value to config option\\n\");\n    fprintf(f, \"    -show-option     print all config options\\n\");\n    fprintf(f, \"    -config file     specify config file\\n\");\n    fprintf(f, \"    -help            print this usage message\\n\");\n    fprintf(f, \"    -version         print w3m version\\n\");\n    fprintf(f, \"    -reqlog          write request logfile\\n\");\n    fprintf(f, \"    -debug           DO NOT USE\\n\");\n    if (show_params_p)\n\tshow_params(f);\n    exit(err);\n}\n\n#ifdef USE_M17N\n#ifdef __EMX__\nstatic char *getCodePage(void);\n#endif\n#endif\n\nstatic GC_warn_proc orig_GC_warn_proc = NULL;\n#define GC_WARN_KEEP_MAX (20)\n\nstatic void\nwrap_GC_warn_proc(char *msg, GC_word arg)\n{\n    if (fmInitialized) {\n\t/* *INDENT-OFF* */\n\tstatic struct {\n\t    char *msg;\n\t    GC_word arg;\n\t} msg_ring[GC_WARN_KEEP_MAX];\n\t/* *INDENT-ON* */\n\tstatic int i = 0;\n\tstatic int n = 0;\n\tstatic int lock = 0;\n\tint j;\n\n\tj = (i + n) % (sizeof(msg_ring) / sizeof(msg_ring[0]));\n\tmsg_ring[j].msg = msg;\n\tmsg_ring[j].arg = arg;\n\n\tif (n < sizeof(msg_ring) / sizeof(msg_ring[0]))\n\t    ++n;\n\telse\n\t    ++i;\n\n\tif (!lock) {\n\t    lock = 1;\n\n\t    for (; n > 0; --n, ++i) {\n\t\ti %= sizeof(msg_ring) / sizeof(msg_ring[0]);\n\n\t\tprintf(msg_ring[i].msg,\t(unsigned long)msg_ring[i].arg);\n\t\tsleep_till_anykey(1, 1);\n\t    }\n\n\t    lock = 0;\n\t}\n    }\n    else if (orig_GC_warn_proc)\n\torig_GC_warn_proc(msg, arg);\n    else\n\tfprintf(stderr, msg, (unsigned long)arg);\n}\n\n#ifdef SIGCHLD\nstatic void\nsig_chld(int signo)\n{\n    int p_stat;\n    pid_t pid;\n\n#ifdef HAVE_WAITPID\n    while ((pid = waitpid(-1, &p_stat, WNOHANG)) > 0)\n#elif HAVE_WAIT3\n    while ((pid = wait3(&p_stat, WNOHANG, NULL)) > 0)\n#else\n    if ((pid = wait(&p_stat)) > 0)\n#endif\n    {\n\tDownloadList *d;\n\n\tif (WIFEXITED(p_stat)) {\n\t    for (d = FirstDL; d != NULL; d = d->next) {\n\t\tif (d->pid == pid) {\n\t\t    d->err = WEXITSTATUS(p_stat);\n\t\t    break;\n\t\t}\n\t    }\n\t}\n    }\n    mySignal(SIGCHLD, sig_chld);\n    return;\n}\n#endif\n\nStr\nmake_optional_header_string(char *s)\n{\n    char *p;\n    Str hs;\n\n    if (strchr(s, '\\n') || strchr(s, '\\r'))\n\treturn NULL;\n    for (p = s; *p && *p != ':'; p++) ;\n    if (*p != ':' || p == s)\n\treturn NULL;\n    hs = Strnew_size(strlen(s) + 3);\n    Strcopy_charp_n(hs, s, p - s);\n    if (!Strcasecmp_charp(hs, \"content-type\"))\n\toverride_content_type = TRUE;\n    Strcat_charp(hs, \": \");\n    if (*(++p)) {\t\t/* not null header */\n\tSKIP_BLANKS(p);\t\t/* skip white spaces */\n\tStrcat_charp(hs, p);\n    }\n    Strcat_charp(hs, \"\\r\\n\");\n    return hs;\n}\n\nstatic void *\ndie_oom(size_t bytes)\n{\n    fprintf(stderr, \"Out of memory: %lu bytes unavailable!\\n\", (unsigned long)bytes);\n    exit(1);\n}\n\nint\nmain(int argc, char **argv, char **envp)\n{\n    Buffer *newbuf = NULL;\n    char *p, c;\n    int i;\n    InputStream redin;\n    char *line_str = NULL;\n    char **load_argv;\n    FormList *request;\n    int load_argc = 0;\n    int load_bookmark = FALSE;\n    int visual_start = FALSE;\n    int open_new_tab = FALSE;\n    char search_header = FALSE;\n    char *default_type = NULL;\n    char *post_file = NULL;\n    Str err_msg;\n#ifdef USE_M17N\n    char *Locale = NULL;\n    wc_uint8 auto_detect;\n#ifdef __EMX__\n    wc_ces CodePage;\n#endif\n#endif\n#if defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE)\n    char **getimage_args = NULL;\n#endif /* defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE) */\n    GC_INIT();\n#if (GC_VERSION_MAJOR>7) || ((GC_VERSION_MAJOR==7) && (GC_VERSION_MINOR>=2))\n    GC_set_oom_fn(die_oom);\n#else\n    GC_oom_fn = die_oom;\n#endif\n#if defined(ENABLE_NLS) || (defined(USE_M17N) && defined(HAVE_LANGINFO_CODESET))\n    setlocale(LC_ALL, \"\");\n#endif\n#ifdef ENABLE_NLS\n    bindtextdomain(PACKAGE, LOCALEDIR);\n    textdomain(PACKAGE);\n#endif\n\n#ifndef HAVE_SYS_ERRLIST\n    prepare_sys_errlist();\n#endif\t\t\t\t/* not HAVE_SYS_ERRLIST */\n\n    NO_proxy_domains = newTextList();\n    fileToDelete = newTextList();\n\n    load_argv = New_N(char *, argc - 1);\n    load_argc = 0;\n\n    CurrentDir = currentdir();\n    CurrentPid = (int)getpid();\n#if defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE)\n    if (argv[0] && *argv[0])\n\tMyProgramName = argv[0];\n#endif /* defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE) */\n    BookmarkFile = NULL;\n    config_file = NULL;\n\n    /* argument search 1 */\n    for (i = 1; i < argc; i++) {\n\tif (*argv[i] == '-') {\n\t    if (!strcmp(\"-config\", argv[i])) {\n\t\targv[i] = \"-dummy\";\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tconfig_file = argv[i];\n\t\targv[i] = \"-dummy\";\n\t    }\n\t    else if (!strcmp(\"-h\", argv[i]) || !strcmp(\"-help\", argv[i]))\n\t\thelp();\n\t    else if (!strcmp(\"-V\", argv[i]) || !strcmp(\"-version\", argv[i])) {\n\t\tfversion(stdout);\n\t\texit(0);\n\t    }\n\t}\n    }\n\n#ifdef USE_M17N\n    if (non_null(Locale = getenv(\"LC_ALL\")) ||\n\tnon_null(Locale = getenv(\"LC_CTYPE\")) ||\n\tnon_null(Locale = getenv(\"LANG\"))) {\n\tDisplayCharset = wc_guess_locale_charset(Locale, DisplayCharset);\n\tDocumentCharset = wc_guess_locale_charset(Locale, DocumentCharset);\n\tSystemCharset = wc_guess_locale_charset(Locale, SystemCharset);\n    }\n#ifdef __EMX__\n    CodePage = wc_guess_charset(getCodePage(), 0);\n    if (CodePage)\n\tDisplayCharset = DocumentCharset = SystemCharset = CodePage;\n#endif\n#endif\n\n    /* initializations */\n    init_rc();\n\n    LoadHist = newHist();\n    SaveHist = newHist();\n    ShellHist = newHist();\n    TextHist = newHist();\n    URLHist = newHist();\n\n#ifdef USE_M17N\n    if (FollowLocale && Locale) {\n\tDisplayCharset = wc_guess_locale_charset(Locale, DisplayCharset);\n\tSystemCharset = wc_guess_locale_charset(Locale, SystemCharset);\n    }\n    auto_detect = WcOption.auto_detect;\n    BookmarkCharset = DocumentCharset;\n#endif\n\n    if (!non_null(HTTP_proxy) &&\n\t((p = getenv(\"HTTP_PROXY\")) ||\n\t (p = getenv(\"http_proxy\")) || (p = getenv(\"HTTP_proxy\"))))\n\tHTTP_proxy = p;\n#ifdef USE_SSL\n    if (!non_null(HTTPS_proxy) &&\n\t((p = getenv(\"HTTPS_PROXY\")) ||\n\t (p = getenv(\"https_proxy\")) || (p = getenv(\"HTTPS_proxy\"))))\n\tHTTPS_proxy = p;\n    if (HTTPS_proxy == NULL && non_null(HTTP_proxy))\n\tHTTPS_proxy = HTTP_proxy;\n#endif\t\t\t\t/* USE_SSL */\n#ifdef USE_GOPHER\n    if (!non_null(GOPHER_proxy) &&\n\t((p = getenv(\"GOPHER_PROXY\")) ||\n\t (p = getenv(\"gopher_proxy\")) || (p = getenv(\"GOPHER_proxy\"))))\n\tGOPHER_proxy = p;\n#endif\t\t\t\t/* USE_GOPHER */\n    if (!non_null(FTP_proxy) &&\n\t((p = getenv(\"FTP_PROXY\")) ||\n\t (p = getenv(\"ftp_proxy\")) || (p = getenv(\"FTP_proxy\"))))\n\tFTP_proxy = p;\n    if (!non_null(NO_proxy) &&\n\t((p = getenv(\"NO_PROXY\")) ||\n\t (p = getenv(\"no_proxy\")) || (p = getenv(\"NO_proxy\"))))\n\tNO_proxy = p;\n#ifdef USE_NNTP\n    if (!non_null(NNTP_server) && (p = getenv(\"NNTPSERVER\")) != NULL)\n\tNNTP_server = p;\n    if (!non_null(NNTP_mode) && (p = getenv(\"NNTPMODE\")) != NULL)\n\tNNTP_mode = p;\n#endif\n\n    if (!non_null(Editor) && (p = getenv(\"EDITOR\")) != NULL)\n\tEditor = p;\n    if (!non_null(Mailer) && (p = getenv(\"MAILER\")) != NULL)\n\tMailer = p;\n\n    /* argument search 2 */\n    i = 1;\n    while (i < argc) {\n\tif (*argv[i] == '-') {\n\t    if (!strcmp(\"-t\", argv[i])) {\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tif (atoi(argv[i]) > 0)\n\t\t    Tabstop = atoi(argv[i]);\n\t    }\n\t    else if (!strcmp(\"-r\", argv[i]))\n\t\tShowEffect = FALSE;\n\t    else if (!strcmp(\"-l\", argv[i])) {\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tif (atoi(argv[i]) > 0)\n\t\t    PagerMax = atoi(argv[i]);\n\t    }\n#ifdef USE_M17N\n#if 0\t\t\t\t/* use -O{s|j|e} instead */\n\t    else if (!strcmp(\"-s\", argv[i]))\n\t\tDisplayCharset = WC_CES_SHIFT_JIS;\n\t    else if (!strcmp(\"-j\", argv[i]))\n\t\tDisplayCharset = WC_CES_ISO_2022_JP;\n\t    else if (!strcmp(\"-e\", argv[i]))\n\t\tDisplayCharset = WC_CES_EUC_JP;\n#endif\n\t    else if (!strncmp(\"-I\", argv[i], 2)) {\n\t\tif (argv[i][2] != '\\0')\n\t\t    p = argv[i] + 2;\n\t\telse {\n\t\t    if (++i >= argc)\n\t\t\tusage();\n\t\t    p = argv[i];\n\t\t}\n\t\tDocumentCharset = wc_guess_charset_short(p, DocumentCharset);\n\t\tWcOption.auto_detect = WC_OPT_DETECT_OFF;\n\t\tUseContentCharset = FALSE;\n\t    }\n\t    else if (!strncmp(\"-O\", argv[i], 2)) {\n\t\tif (argv[i][2] != '\\0')\n\t\t    p = argv[i] + 2;\n\t\telse {\n\t\t    if (++i >= argc)\n\t\t\tusage();\n\t\t    p = argv[i];\n\t\t}\n\t\tDisplayCharset = wc_guess_charset_short(p, DisplayCharset);\n\t    }\n#endif\n\t    else if (!strcmp(\"-graph\", argv[i]))\n\t\tUseGraphicChar = GRAPHIC_CHAR_DEC;\n\t    else if (!strcmp(\"-no-graph\", argv[i]))\n\t\tUseGraphicChar = GRAPHIC_CHAR_ASCII;\n\t    else if (!strcmp(\"-T\", argv[i])) {\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tDefaultType = default_type = argv[i];\n\t    }\n\t    else if (!strcmp(\"-m\", argv[i]))\n\t\tSearchHeader = search_header = TRUE;\n\t    else if (!strcmp(\"-v\", argv[i]))\n\t\tvisual_start = TRUE;\n\t    else if (!strcmp(\"-N\", argv[i]))\n\t\topen_new_tab = TRUE;\n#ifdef USE_COLOR\n\t    else if (!strcmp(\"-M\", argv[i]))\n\t\tuseColor = FALSE;\n#endif\t\t\t\t/* USE_COLOR */\n\t    else if (!strcmp(\"-B\", argv[i]))\n\t\tload_bookmark = TRUE;\n\t    else if (!strcmp(\"-bookmark\", argv[i])) {\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tBookmarkFile = argv[i];\n\t\tif (BookmarkFile[0] != '~' && BookmarkFile[0] != '/') {\n\t\t    Str tmp = Strnew_charp(CurrentDir);\n\t\t    if (Strlastchar(tmp) != '/')\n\t\t\tStrcat_char(tmp, '/');\n\t\t    Strcat_charp(tmp, BookmarkFile);\n\t\t    BookmarkFile = cleanupName(tmp->ptr);\n\t\t}\n\t    }\n\t    else if (!strcmp(\"-F\", argv[i]))\n\t\tRenderFrame = TRUE;\n\t    else if (!strcmp(\"-W\", argv[i])) {\n\t\tif (WrapDefault)\n\t\t    WrapDefault = FALSE;\n\t\telse\n\t\t    WrapDefault = TRUE;\n\t    }\n\t    else if (!strcmp(\"-dump\", argv[i]))\n\t\tw3m_dump = DUMP_BUFFER;\n\t    else if (!strcmp(\"-dump_source\", argv[i]))\n\t\tw3m_dump = DUMP_SOURCE;\n\t    else if (!strcmp(\"-dump_head\", argv[i]))\n\t\tw3m_dump = DUMP_HEAD;\n\t    else if (!strcmp(\"-dump_both\", argv[i]))\n\t\tw3m_dump = (DUMP_HEAD | DUMP_SOURCE);\n\t    else if (!strcmp(\"-dump_extra\", argv[i]))\n\t\tw3m_dump = (DUMP_HEAD | DUMP_SOURCE | DUMP_EXTRA);\n\t    else if (!strcmp(\"-halfdump\", argv[i]))\n\t\tw3m_dump = DUMP_HALFDUMP;\n\t    else if (!strcmp(\"-halfload\", argv[i])) {\n\t\tw3m_dump = 0;\n\t\tw3m_halfload = TRUE;\n\t\tDefaultType = default_type = \"text/html\";\n\t    }\n\t    else if (!strcmp(\"-backend\", argv[i])) {\n\t\tw3m_backend = TRUE;\n\t    }\n\t    else if (!strcmp(\"-backend_batch\", argv[i])) {\n\t\tw3m_backend = TRUE;\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tif (!backend_batch_commands)\n\t\t    backend_batch_commands = newTextList();\n\t\tpushText(backend_batch_commands, argv[i]);\n\t    }\n\t    else if (!strcmp(\"-cols\", argv[i])) {\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tCOLS = atoi(argv[i]);\n\t\tif (COLS > MAXIMUM_COLS) {\n\t\t    COLS = MAXIMUM_COLS;\n\t\t}\n\t    }\n\t    else if (!strcmp(\"-ppc\", argv[i])) {\n\t\tdouble ppc;\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tppc = atof(argv[i]);\n\t\tif (ppc >= MINIMUM_PIXEL_PER_CHAR &&\n\t\t    ppc <= MAXIMUM_PIXEL_PER_CHAR) {\n\t\t    pixel_per_char = ppc;\n\t\t    set_pixel_per_char = TRUE;\n\t\t}\n\t    }\n#ifdef USE_IMAGE\n\t    else if (!strcmp(\"-ppl\", argv[i])) {\n\t\tdouble ppc;\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tppc = atof(argv[i]);\n\t\tif (ppc >= MINIMUM_PIXEL_PER_CHAR &&\n\t\t    ppc <= MAXIMUM_PIXEL_PER_CHAR * 2) {\n\t\t    pixel_per_line = ppc;\n\t\t    set_pixel_per_line = TRUE;\n\t\t}\n\t    }\n#endif\n\t    else if (!strcmp(\"-ri\", argv[i])) {\n\t        enable_inline_image = 1;\n\t    }\n\t    else if (!strcmp(\"-sixel\", argv[i])) {\n\t\tenable_inline_image = 2;\n\t    }\n\t    else if (!strcmp(\"-num\", argv[i]))\n\t\tshowLineNum = TRUE;\n\t    else if (!strcmp(\"-no-proxy\", argv[i]))\n\t\tuse_proxy = FALSE;\n#ifdef INET6\n\t    else if (!strcmp(\"-4\", argv[i]) || !strcmp(\"-6\", argv[i]))\n\t\tset_param_option(Sprintf(\"dns_order=%c\", argv[i][1])->ptr);\n#endif\n\t    else if (!strcmp(\"-post\", argv[i])) {\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tpost_file = argv[i];\n\t    }\n\t    else if (!strcmp(\"-header\", argv[i])) {\n\t\tStr hs;\n\t\tif (++i >= argc)\n\t\t    usage();\n\t\tif ((hs = make_optional_header_string(argv[i])) != NULL) {\n\t\t    if (header_string == NULL)\n\t\t\theader_string = hs;\n\t\t    else\n\t\t\tStrcat(header_string, hs);\n\t\t}\n\t\twhile (argv[i][0]) {\n\t\t    argv[i][0] = '\\0';\n\t\t    argv[i]++;\n\t\t}\n\t    }\n#ifdef USE_MOUSE\n\t    else if (!strcmp(\"-no-mouse\", argv[i])) {\n\t\tuse_mouse = FALSE;\n\t    }\n#endif\t\t\t\t/* USE_MOUSE */\n#ifdef USE_COOKIE\n\t    else if (!strcmp(\"-no-cookie\", argv[i])) {\n\t\tuse_cookie = FALSE;\n\t\taccept_cookie = FALSE;\n\t    }\n\t    else if (!strcmp(\"-cookie\", argv[i])) {\n\t\tuse_cookie = TRUE;\n\t\taccept_cookie = TRUE;\n\t    }\n#endif\t\t\t\t/* USE_COOKIE */\n#if 1\t\t\t\t/* pager requires -s */\n\t    else if (!strcmp(\"-s\", argv[i]))\n#else\n\t    else if (!strcmp(\"-S\", argv[i]))\n#endif\n\t\tsqueezeBlankLine = TRUE;\n\t    else if (!strcmp(\"-X\", argv[i]))\n\t\tDo_not_use_ti_te = TRUE;\n\t    else if (!strcmp(\"-title\", argv[i]))\n\t\tdisplayTitleTerm = getenv(\"TERM\");\n\t    else if (!strncmp(\"-title=\", argv[i], 7))\n\t\tdisplayTitleTerm = argv[i] + 7;\n\t    else if (!strcmp(\"-o\", argv[i]) ||\n\t\t     !strcmp(\"-show-option\", argv[i])) {\n\t\tif (!strcmp(\"-show-option\", argv[i]) || ++i >= argc ||\n\t\t    !strcmp(argv[i], \"?\")) {\n\t\t    show_params(stdout);\n\t\t    exit(0);\n\t\t}\n\t\tif (!set_param_option(argv[i])) {\n\t\t    /* option set failed */\n\t\t    /* FIXME: gettextize? */\n\t\t    fprintf(stderr, \"%s: bad option\\n\", argv[i]);\n\t\t    show_params_p = 1;\n\t\t    usage();\n\t\t}\n\t    }\n\t    else if (!strcmp(\"-dummy\", argv[i])) {\n\t\t/* do nothing */\n\t    }\n\t    else if (!strcmp(\"-debug\", argv[i])) {\n\t\tw3m_debug = TRUE;\n\t    }\n\t    else if (!strcmp(\"-reqlog\",argv[i])) {\n\t\tw3m_reqlog=rcFile(\"request.log\");\n\t    }\n#if defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE)\n\t    else if (!strcmp(\"-$$getimage\", argv[i])) {\n\t\t++i;\n\t\tgetimage_args = argv + i;\n\t\ti += 4;\n\t\tif (i > argc)\n\t\t    usage();\n\t    }\n#endif /* defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE) */\n\t    else {\n\t\tusage();\n\t    }\n\t}\n\telse if (*argv[i] == '+') {\n\t    line_str = argv[i] + 1;\n\t}\n\telse {\n\t    load_argv[load_argc++] = argv[i];\n\t}\n\ti++;\n    }\n\n#ifdef\t__WATT32__\n    if (w3m_debug)\n\tdbug_init();\n    sock_init();\n#endif\n\n#ifdef __MINGW32_VERSION\n    {\n      int err;\n      WORD wVerReq;\n\n      wVerReq = MAKEWORD(1, 1);\n\n      err = WSAStartup(wVerReq, &WSAData);\n      if (err != 0)\n        {\n\t  fprintf(stderr, \"Can't find winsock\\n\");\n\t  return 1;\n        }\n      _fmode = _O_BINARY;\n    }\n#endif\n\n    FirstTab = NULL;\n    LastTab = NULL;\n    nTab = 0;\n    CurrentTab = NULL;\n    CurrentKey = -1;\n    if (BookmarkFile == NULL)\n\tBookmarkFile = rcFile(BOOKMARK);\n\n    if (!isatty(1) && !w3m_dump) {\n\t/* redirected output */\n\tw3m_dump = DUMP_BUFFER;\n    }\n    if (w3m_dump) {\n\tif (COLS == 0)\n\t    COLS = DEFAULT_COLS;\n    }\n\n#ifdef USE_BINMODE_STREAM\n    setmode(fileno(stdout), O_BINARY);\n#endif\n    if (!w3m_dump && !w3m_backend) {\n\tfmInit();\n#ifdef SIGWINCH\n\tmySignal(SIGWINCH, resize_hook);\n#else\t\t\t\t/* not SIGWINCH */\n\tsetlinescols();\n\tsetupscreen();\n#endif\t\t\t\t/* not SIGWINCH */\n    }\n#ifdef USE_IMAGE\n    else if (w3m_halfdump && displayImage)\n\tactiveImage = TRUE;\n#endif\n\n    sync_with_option();\n#ifdef USE_COOKIE\n    initCookie();\n#endif\t\t\t\t/* USE_COOKIE */\n#ifdef USE_HISTORY\n    if (UseHistory)\n\tloadHistory(URLHist);\n#endif\t\t\t\t/* not USE_HISTORY */\n\n#ifdef USE_M17N\n    wtf_init(DocumentCharset, DisplayCharset);\n    /*  if (w3m_dump)\n     *    WcOption.pre_conv = WC_TRUE; \n     */\n#endif\n\n    if (w3m_backend)\n\tbackend();\n#if defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE)\n    if (getimage_args) {\n\tchar *image_url = conv_from_system(getimage_args[0]);\n\tchar *base_url = conv_from_system(getimage_args[1]);\n\tParsedURL base_pu;\n\t\n\tparseURL2(base_url, &base_pu, NULL);\n\timage_source = getimage_args[2];\n\tnewbuf = loadGeneralFile(image_url, &base_pu, NULL, 0, NULL);\n\tif (!newbuf || !newbuf->real_type ||\n\t    strncasecmp(newbuf->real_type, \"image/\", 6))\n\t    unlink(getimage_args[2]);\n#if defined(HAVE_SYMLINK) && defined(HAVE_LSTAT)\n\tsymlink(getimage_args[2], getimage_args[3]);\n#else\n\t{\n\t    FILE *f = fopen(getimage_args[3], \"w\");\n\t    if (f)\n\t\tfclose(f);\n\t}\n#endif\n\tw3m_exit(0);\n    }\n#endif /* defined(DONT_CALL_GC_AFTER_FORK) && defined(USE_IMAGE) */\n\n    if (w3m_dump)\n\tmySignal(SIGINT, SIG_IGN);\n#ifdef SIGCHLD\n    mySignal(SIGCHLD, sig_chld);\n#endif\n#ifdef SIGPIPE\n    mySignal(SIGPIPE, SigPipe);\n#endif\n\n#if (GC_VERSION_MAJOR>7) || ((GC_VERSION_MAJOR==7) && (GC_VERSION_MINOR>=2))\n    orig_GC_warn_proc = GC_get_warn_proc();\n    GC_set_warn_proc(wrap_GC_warn_proc);\n#else\n    orig_GC_warn_proc = GC_set_warn_proc(wrap_GC_warn_proc);\n#endif\n    err_msg = Strnew();\n    if (load_argc == 0) {\n\t/* no URL specified */\n\tif (!isatty(0)) {\n\t    redin = newFileStream(fdopen(dup(0), \"rb\"), (void (*)())pclose);\n\t    newbuf = openGeneralPagerBuffer(redin);\n\t    dup2(1, 0);\n\t}\n\telse if (load_bookmark) {\n\t    newbuf = loadGeneralFile(BookmarkFile, NULL, NO_REFERER, 0, NULL);\n\t    if (newbuf == NULL)\n\t\tStrcat_charp(err_msg, \"w3m: Can't load bookmark.\\n\");\n\t}\n\telse if (visual_start) {\n\t    /* FIXME: gettextize? */\n\t    Str s_page;\n\t    s_page =\n\t\tStrnew_charp\n\t\t(\"<title>W3M startup page</title><center><b>Welcome to \");\n\t    Strcat_charp(s_page, \"<a href='http://w3m.sourceforge.net/'>\");\n\t    Strcat_m_charp(s_page,\n\t\t\t   \"w3m</a>!<p><p>This is w3m version \",\n\t\t\t   w3m_version,\n\t\t\t   \"<br>Written by <a href='mailto:aito@fw.ipsj.or.jp'>Akinori Ito</a>\",\n\t\t\t   NULL);\n\t    newbuf = loadHTMLString(s_page);\n\t    if (newbuf == NULL)\n\t\tStrcat_charp(err_msg, \"w3m: Can't load string.\\n\");\n\t    else if (newbuf != NO_BUFFER)\n\t\tnewbuf->bufferprop |= (BP_INTERNAL | BP_NO_URL);\n\t}\n\telse if ((p = getenv(\"HTTP_HOME\")) != NULL ||\n\t\t (p = getenv(\"WWW_HOME\")) != NULL) {\n\t    newbuf = loadGeneralFile(p, NULL, NO_REFERER, 0, NULL);\n\t    if (newbuf == NULL)\n\t\tStrcat(err_msg, Sprintf(\"w3m: Can't load %s.\\n\", p));\n\t    else if (newbuf != NO_BUFFER)\n\t\tpushHashHist(URLHist, parsedURL2Str(&newbuf->currentURL)->ptr);\n\t}\n\telse {\n\t    if (fmInitialized)\n\t\tfmTerm();\n\t    usage();\n\t}\n\tif (newbuf == NULL) {\n\t    if (fmInitialized)\n\t\tfmTerm();\n\t    if (err_msg->length)\n\t\tfprintf(stderr, \"%s\", err_msg->ptr);\n\t    w3m_exit(2);\n\t}\n\ti = -1;\n    }\n    else {\n\ti = 0;\n    }\n    for (; i < load_argc; i++) {\n\tif (i >= 0) {\n\t    SearchHeader = search_header;\n\t    DefaultType = default_type;\n\t    char *url;\n\t    \n\t    url = load_argv[i];\n\t    if (getURLScheme(&url) == SCM_MISSING && !ArgvIsURL)\n\t\turl = file_to_url(load_argv[i]);\n\t    else\n\t\turl = url_encode(conv_from_system(load_argv[i]), NULL, 0);\n\t    if (w3m_dump == DUMP_HEAD) {\n\t\trequest = New(FormList);\n\t\trequest->method = FORM_METHOD_HEAD;\n\t\tnewbuf = loadGeneralFile(url, NULL, NO_REFERER, 0, request);\n\t    }\n\t    else {\n\t\tif (post_file && i == 0) {\n\t\t    FILE *fp;\n\t\t    Str body;\n\t\t    if (!strcmp(post_file, \"-\"))\n\t\t\tfp = stdin;\n\t\t    else\n\t\t\tfp = fopen(post_file, \"r\");\n\t\t    if (fp == NULL) {\n\t\t\t/* FIXME: gettextize? */\n\t\t\tStrcat(err_msg,\n\t\t\t       Sprintf(\"w3m: Can't open %s.\\n\", post_file));\n\t\t\tcontinue;\n\t\t    }\n\t\t    body = Strfgetall(fp);\n\t\t    if (fp != stdin)\n\t\t\tfclose(fp);\n\t\t    request =\n\t\t\tnewFormList(NULL, \"post\", NULL, NULL, NULL, NULL,\n\t\t\t\t    NULL);\n\t\t    request->body = body->ptr;\n\t\t    request->boundary = NULL;\n\t\t    request->length = body->length;\n\t\t}\n\t\telse {\n\t\t    request = NULL;\n\t\t}\n\t\tnewbuf = loadGeneralFile(url, NULL, NO_REFERER, 0, request);\n\t    }\n\t    if (newbuf == NULL) {\n\t\t/* FIXME: gettextize? */\n\t\tStrcat(err_msg,\n\t\t       Sprintf(\"w3m: Can't load %s.\\n\", load_argv[i]));\n\t\tcontinue;\n\t    }\n\t    else if (newbuf == NO_BUFFER)\n\t\tcontinue;\n\t    switch (newbuf->real_scheme) {\n\t    case SCM_MAILTO:\n\t\tbreak;\n\t    case SCM_LOCAL:\n\t    case SCM_LOCAL_CGI:\n\t\tunshiftHist(LoadHist, url);\n\t    default:\n\t\tpushHashHist(URLHist, parsedURL2Str(&newbuf->currentURL)->ptr);\n\t\tbreak;\n\t    }\n\t}\n\telse if (newbuf == NO_BUFFER)\n\t    continue;\n\tif (newbuf->pagerSource ||\n\t    (newbuf->real_scheme == SCM_LOCAL && newbuf->header_source &&\n\t     newbuf->currentURL.file && strcmp(newbuf->currentURL.file, \"-\")))\n\t    newbuf->search_header = search_header;\n\tif (CurrentTab == NULL) {\n\t    FirstTab = LastTab = CurrentTab = newTab();\n\t    nTab = 1;\n\t    Firstbuf = Currentbuf = newbuf;\n\t}\n\telse if (open_new_tab) {\n\t    _newT();\n\t    Currentbuf->nextBuffer = newbuf;\n\t    delBuffer(Currentbuf);\n\t}\n\telse {\n\t    Currentbuf->nextBuffer = newbuf;\n\t    Currentbuf = newbuf;\n\t}\n\tif (!w3m_dump || w3m_dump == DUMP_BUFFER) {\n\t    if (Currentbuf->frameset != NULL && RenderFrame)\n\t\trFrame();\n\t}\n\tif (w3m_dump)\n\t    do_dump(Currentbuf);\n\telse {\n\t    Currentbuf = newbuf;\n#ifdef USE_BUFINFO\n\t    saveBufferInfo();\n#endif\n\t}\n    }\n    if (w3m_dump) {\n\tif (err_msg->length)\n\t    fprintf(stderr, \"%s\", err_msg->ptr);\n#ifdef USE_COOKIE\n\tsave_cookies();\n#endif\t\t\t\t/* USE_COOKIE */\n\tw3m_exit(0);\n    }\n\n    if (add_download_list) {\n\tadd_download_list = FALSE;\n\tCurrentTab = LastTab;\n\tif (!FirstTab) {\n\t    FirstTab = LastTab = CurrentTab = newTab();\n\t    nTab = 1;\n\t}\n\tif (!Firstbuf || Firstbuf == NO_BUFFER) {\n\t    Firstbuf = Currentbuf = newBuffer(INIT_BUFFER_WIDTH);\n\t    Currentbuf->bufferprop = BP_INTERNAL | BP_NO_URL;\n\t    Currentbuf->buffername = DOWNLOAD_LIST_TITLE;\n\t}\n\telse\n\t    Currentbuf = Firstbuf;\n\tldDL();\n    }\n    else\n\tCurrentTab = FirstTab;\n    if (!FirstTab || !Firstbuf || Firstbuf == NO_BUFFER) {\n\tif (newbuf == NO_BUFFER) {\n\t    if (fmInitialized)\n\t\t/* FIXME: gettextize? */\n\t\tinputChar(\"Hit any key to quit w3m:\");\n\t}\n\tif (fmInitialized)\n\t    fmTerm();\n\tif (err_msg->length)\n\t    fprintf(stderr, \"%s\", err_msg->ptr);\n\tif (newbuf == NO_BUFFER) {\n#ifdef USE_COOKIE\n\t    save_cookies();\n#endif\t\t\t\t/* USE_COOKIE */\n\t    if (!err_msg->length)\n\t\tw3m_exit(0);\n\t}\n\tw3m_exit(2);\n    }\n    if (err_msg->length)\n\tdisp_message_nsec(err_msg->ptr, FALSE, 1, TRUE, FALSE);\n\n    SearchHeader = FALSE;\n    DefaultType = NULL;\n#ifdef USE_M17N\n    UseContentCharset = TRUE;\n    WcOption.auto_detect = auto_detect;\n#endif\n\n    Currentbuf = Firstbuf;\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n    if (line_str) {\n\t_goLine(line_str);\n    }\n    for (;;) {\n\tif (add_download_list) {\n\t    add_download_list = FALSE;\n\t    ldDL();\n\t}\n\tif (Currentbuf->submit) {\n\t    Anchor *a = Currentbuf->submit;\n\t    Currentbuf->submit = NULL;\n\t    gotoLine(Currentbuf, a->start.line);\n\t    Currentbuf->pos = a->start.pos;\n\t    _followForm(TRUE);\n\t    continue;\n\t}\n\t/* event processing */\n\tif (CurrentEvent) {\n\t    CurrentKey = -1;\n\t    CurrentKeyData = NULL;\n\t    CurrentCmdData = (char *)CurrentEvent->data;\n\t    w3mFuncList[CurrentEvent->cmd].func();\n\t    CurrentCmdData = NULL;\n\t    CurrentEvent = CurrentEvent->next;\n\t    continue;\n\t}\n\t/* get keypress event */\n#ifdef USE_ALARM\n\tif (Currentbuf->event) {\n\t    if (Currentbuf->event->status != AL_UNSET) {\n\t\tCurrentAlarm = Currentbuf->event;\n\t\tif (CurrentAlarm->sec == 0) {\t/* refresh (0sec) */\n\t\t    Currentbuf->event = NULL;\n\t\t    CurrentKey = -1;\n\t\t    CurrentKeyData = NULL;\n\t\t    CurrentCmdData = (char *)CurrentAlarm->data;\n\t\t    w3mFuncList[CurrentAlarm->cmd].func();\n\t\t    CurrentCmdData = NULL;\n\t\t    continue;\n\t\t}\n\t    }\n\t    else\n\t\tCurrentbuf->event = NULL;\n\t}\n\tif (!Currentbuf->event)\n\t    CurrentAlarm = &DefaultAlarm;\n#endif\n#ifdef USE_MOUSE\n\tmouse_action.in_action = FALSE;\n\tif (use_mouse)\n\t    mouse_active();\n#endif\t\t\t\t/* USE_MOUSE */\n#ifdef USE_ALARM\n\tif (CurrentAlarm->sec > 0) {\n\t    mySignal(SIGALRM, SigAlarm);\n\t    alarm(CurrentAlarm->sec);\n\t}\n#endif\n#ifdef SIGWINCH\n\tmySignal(SIGWINCH, resize_hook);\n#endif\n#ifdef USE_IMAGE\n\tif (activeImage && displayImage && Currentbuf->img &&\n\t    !Currentbuf->image_loaded) {\n\t    do {\n#ifdef SIGWINCH\n\t\tif (need_resize_screen)\n\t\t    resize_screen();\n#endif\n\t\tloadImage(Currentbuf, IMG_FLAG_NEXT);\n\t    } while (sleep_till_anykey(1, 0) <= 0);\n\t}\n#ifdef SIGWINCH\n\telse\n#endif\n#endif\n#ifdef SIGWINCH\n\t{\n\t    do {\n\t\tif (need_resize_screen)\n\t\t    resize_screen();\n\t    } while (sleep_till_anykey(1, 0) <= 0);\n\t}\n#endif\n\tc = getch();\n#ifdef USE_ALARM\n\tif (CurrentAlarm->sec > 0) {\n\t    alarm(0);\n\t}\n#endif\n#ifdef USE_MOUSE\n\tif (use_mouse)\n\t    mouse_inactive();\n#endif\t\t\t\t/* USE_MOUSE */\n\tif (IS_ASCII(c)) {\t/* Ascii */\n\t    if (('0' <= c) && (c <= '9') &&\n\t\t(prec_num || (GlobalKeymap[c] == FUNCNAME_nulcmd))) {\n\t\tprec_num = prec_num * 10 + (int)(c - '0');\n\t\tif (prec_num > PREC_LIMIT)\n\t\t   prec_num = PREC_LIMIT;\n\t    }\n\t    else {\n\t\tset_buffer_environ(Currentbuf);\n\t\tsave_buffer_position(Currentbuf);\n\t\tkeyPressEventProc((int)c);\n\t\tprec_num = 0;\n\t    }\n\t}\n\tprev_key = CurrentKey;\n\tCurrentKey = -1;\n\tCurrentKeyData = NULL;\n    }\n}\n\nstatic void\nkeyPressEventProc(int c)\n{\n    CurrentKey = c;\n    w3mFuncList[(int)GlobalKeymap[c]].func();\n}\n\nvoid\npushEvent(int cmd, void *data)\n{\n    Event *event;\n\n    event = New(Event);\n    event->cmd = cmd;\n    event->data = data;\n    event->next = NULL;\n    if (CurrentEvent)\n\tLastEvent->next = event;\n    else\n\tCurrentEvent = event;\n    LastEvent = event;\n}\n\nstatic void\ndump_source(Buffer *buf)\n{\n    FILE *f;\n    int c;\n    if (buf->sourcefile == NULL)\n\treturn;\n    f = fopen(buf->sourcefile, \"r\");\n    if (f == NULL)\n\treturn;\n    while ((c = fgetc(f)) != EOF) {\n\tputchar(c);\n    }\n    fclose(f);\n}\n\nstatic void\ndump_head(Buffer *buf)\n{\n    TextListItem *ti;\n\n    if (buf->document_header == NULL) {\n\tif (w3m_dump & DUMP_EXTRA)\n\t    printf(\"\\n\");\n\treturn;\n    }\n    for (ti = buf->document_header->first; ti; ti = ti->next) {\n#ifdef USE_M17N\n\tprintf(\"%s\",\n\t       wc_conv_strict(ti->ptr, InnerCharset,\n\t\t\t      buf->document_charset)->ptr);\n#else\n\tprintf(\"%s\", ti->ptr);\n#endif\n    }\n    puts(\"\");\n}\n\nstatic void\ndump_extra(Buffer *buf)\n{\n    printf(\"W3m-current-url: %s\\n\", parsedURL2Str(&buf->currentURL)->ptr);\n    if (buf->baseURL)\n\tprintf(\"W3m-base-url: %s\\n\", parsedURL2Str(buf->baseURL)->ptr);\n#ifdef USE_M17N\n    printf(\"W3m-document-charset: %s\\n\",\n\t   wc_ces_to_charset(buf->document_charset));\n#endif\n#ifdef USE_SSL\n    if (buf->ssl_certificate) {\n\tStr tmp = Strnew();\n\tchar *p;\n\tfor (p = buf->ssl_certificate; *p; p++) {\n\t    Strcat_char(tmp, *p);\n\t    if (*p == '\\n') {\n\t\tfor (; *(p + 1) == '\\n'; p++) ;\n\t\tif (*(p + 1))\n\t\t    Strcat_char(tmp, '\\t');\n\t    }\n\t}\n\tif (Strlastchar(tmp) != '\\n')\n\t    Strcat_char(tmp, '\\n');\n\tprintf(\"W3m-ssl-certificate: %s\", tmp->ptr);\n    }\n#endif\n}\n\nstatic int\ncmp_anchor_hseq(const void *a, const void *b)\n{\n    return (*((const Anchor **) a))->hseq - (*((const Anchor **) b))->hseq;\n}\n\nstatic void\ndo_dump(Buffer *buf)\n{\n    MySignalHandler(*volatile prevtrap) (SIGNAL_ARG) = NULL;\n\n    prevtrap = mySignal(SIGINT, intTrap);\n    if (SETJMP(IntReturn) != 0) {\n\tmySignal(SIGINT, prevtrap);\n\treturn;\n    }\n    if (w3m_dump & DUMP_EXTRA)\n\tdump_extra(buf);\n    if (w3m_dump & DUMP_HEAD)\n\tdump_head(buf);\n    if (w3m_dump & DUMP_SOURCE)\n\tdump_source(buf);\n    if (w3m_dump == DUMP_BUFFER) {\n\tint i;\n\tsaveBuffer(buf, stdout, FALSE);\n\tif (displayLinkNumber && buf->href) {\n\t    int nanchor = buf->href->nanchor;\n\t    printf(\"\\nReferences:\\n\\n\");\n\t    Anchor **in_order = New_N(Anchor *, buf->href->nanchor);\n\t    for (i = 0; i < nanchor; i++)\n\t\tin_order[i] = buf->href->anchors + i;\n\t    qsort(in_order, nanchor, sizeof(Anchor *), cmp_anchor_hseq);\n\t    for (i = 0; i < nanchor; i++) {\n\t\tParsedURL pu;\n\t\tchar *url;\n\t\tif (in_order[i]->slave)\n\t\t    continue;\n\t\tparseURL2(in_order[i]->url, &pu, baseURL(buf));\n\t\turl = url_decode2(parsedURL2Str(&pu)->ptr, Currentbuf);\n\t\tprintf(\"[%d] %s\\n\", in_order[i]->hseq + 1, url);\n\t    }\n\t}\n    }\n    mySignal(SIGINT, prevtrap);\n}\n\nDEFUN(nulcmd, NOTHING NULL @@@, \"Do nothing\")\n{\t\t\t\t/* do nothing */\n}\n\n#ifdef __EMX__\nDEFUN(pcmap, PCMAP, \"pcmap\")\n{\n    w3mFuncList[(int)PcKeymap[(int)getch()]].func();\n}\n#else\t\t\t\t/* not __EMX__ */\nvoid\npcmap(void)\n{\n}\n#endif\n\nstatic void\nescKeyProc(int c, int esc, unsigned char *map)\n{\n    if (CurrentKey >= 0 && CurrentKey & K_MULTI) {\n\tunsigned char **mmap;\n\tmmap = (unsigned char **)getKeyData(MULTI_KEY(CurrentKey));\n\tif (!mmap)\n\t    return;\n\tswitch (esc) {\n\tcase K_ESCD:\n\t    map = mmap[3];\n\t    break;\n\tcase K_ESCB:\n\t    map = mmap[2];\n\t    break;\n\tcase K_ESC:\n\t    map = mmap[1];\n\t    break;\n\tdefault:\n\t    map = mmap[0];\n\t    break;\n\t}\n\tesc |= (CurrentKey & ~0xFFFF);\n    }\n    CurrentKey = esc | c;\n    w3mFuncList[(int)map[c]].func();\n}\n\nDEFUN(escmap, ESCMAP, \"ESC map\")\n{\n    char c;\n    c = getch();\n    if (IS_ASCII(c))\n\tescKeyProc((int)c, K_ESC, EscKeymap);\n}\n\nDEFUN(escbmap, ESCBMAP, \"ESC [ map\")\n{\n    char c;\n    c = getch();\n    if (IS_DIGIT(c)) {\n\tescdmap(c);\n\treturn;\n    }\n    if (IS_ASCII(c))\n\tescKeyProc((int)c, K_ESCB, EscBKeymap);\n}\n\nvoid\nescdmap(char c)\n{\n    int d;\n    d = (int)c - (int)'0';\n    c = getch();\n    if (IS_DIGIT(c)) {\n\td = d * 10 + (int)c - (int)'0';\n\tc = getch();\n    }\n    if (c == '~')\n\tescKeyProc((int)d, K_ESCD, EscDKeymap);\n}\n\nDEFUN(multimap, MULTIMAP, \"multimap\")\n{\n    char c;\n    c = getch();\n    if (IS_ASCII(c)) {\n\tCurrentKey = K_MULTI | (CurrentKey << 16) | c;\n\tescKeyProc((int)c, 0, NULL);\n    }\n}\n\nvoid\ntmpClearBuffer(Buffer *buf)\n{\n    if (buf->pagerSource == NULL && writeBufferCache(buf) == 0) {\n\tbuf->firstLine = NULL;\n\tbuf->topLine = NULL;\n\tbuf->currentLine = NULL;\n\tbuf->lastLine = NULL;\n    }\n}\n\nstatic Str currentURL(void);\n\n#ifdef USE_BUFINFO\nvoid\nsaveBufferInfo()\n{\n    FILE *fp;\n\n    if (w3m_dump)\n\treturn;\n    if ((fp = fopen(rcFile(\"bufinfo\"), \"w\")) == NULL) {\n\treturn;\n    }\n    fprintf(fp, \"%s\\n\", currentURL()->ptr);\n    fclose(fp);\n}\n#endif\n\nstatic void\npushBuffer(Buffer *buf)\n{\n    Buffer *b;\n\n#ifdef USE_IMAGE\n    deleteImage(Currentbuf);\n#endif\n    if (clear_buffer)\n\ttmpClearBuffer(Currentbuf);\n    if (Firstbuf == Currentbuf) {\n\tbuf->nextBuffer = Firstbuf;\n\tFirstbuf = Currentbuf = buf;\n    }\n    else if ((b = prevBuffer(Firstbuf, Currentbuf)) != NULL) {\n\tb->nextBuffer = buf;\n\tbuf->nextBuffer = Currentbuf;\n\tCurrentbuf = buf;\n    }\n#ifdef USE_BUFINFO\n    saveBufferInfo();\n#endif\n\n}\n\nstatic void\ndelBuffer(Buffer *buf)\n{\n    if (buf == NULL)\n\treturn;\n    if (Currentbuf == buf)\n\tCurrentbuf = buf->nextBuffer;\n    Firstbuf = deleteBuffer(Firstbuf, buf);\n    if (!Currentbuf)\n\tCurrentbuf = Firstbuf;\n}\n\nstatic void\nrepBuffer(Buffer *oldbuf, Buffer *buf)\n{\n    Firstbuf = replaceBuffer(Firstbuf, oldbuf, buf);\n    Currentbuf = buf;\n}\n\n\nMySignalHandler\nintTrap(SIGNAL_ARG)\n{\t\t\t\t/* Interrupt catcher */\n    LONGJMP(IntReturn, 0);\n    SIGNAL_RETURN;\n}\n\n#ifdef SIGWINCH\nstatic MySignalHandler\nresize_hook(SIGNAL_ARG)\n{\n    need_resize_screen = TRUE;\n    mySignal(SIGWINCH, resize_hook);\n    SIGNAL_RETURN;\n}\n\nstatic void\nresize_screen(void)\n{\n    need_resize_screen = FALSE;\n    setlinescols();\n    setupscreen();\n    if (CurrentTab)\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n#endif\t\t\t\t/* SIGWINCH */\n\n#ifdef SIGPIPE\nstatic MySignalHandler\nSigPipe(SIGNAL_ARG)\n{\n#ifdef USE_MIGEMO\n    init_migemo();\n#endif\n    mySignal(SIGPIPE, SigPipe);\n    SIGNAL_RETURN;\n}\n#endif\n\n/* \n * Command functions: These functions are called with a keystroke.\n */\n\nstatic void\nnscroll(int n, int mode)\n{\n    Buffer *buf = Currentbuf;\n    Line *top = buf->topLine, *cur = buf->currentLine;\n    int lnum, tlnum, llnum, diff_n;\n\n    if (buf->firstLine == NULL)\n\treturn;\n    lnum = cur->linenumber;\n    buf->topLine = lineSkip(buf, top, n, FALSE);\n    if (buf->topLine == top) {\n\tlnum += n;\n\tif (lnum < buf->topLine->linenumber)\n\t    lnum = buf->topLine->linenumber;\n\telse if (lnum > buf->lastLine->linenumber)\n\t    lnum = buf->lastLine->linenumber;\n    }\n    else {\n\ttlnum = buf->topLine->linenumber;\n\tllnum = buf->topLine->linenumber + buf->LINES - 1;\n\tif (nextpage_topline)\n\t    diff_n = 0;\n\telse\n\t    diff_n = n - (tlnum - top->linenumber);\n\tif (lnum < tlnum)\n\t    lnum = tlnum + diff_n;\n\tif (lnum > llnum)\n\t    lnum = llnum + diff_n;\n    }\n    gotoLine(buf, lnum);\n    arrangeLine(buf);\n    if (n > 0) {\n\tif (buf->currentLine->bpos &&\n\t    buf->currentLine->bwidth >= buf->currentColumn + buf->visualpos)\n\t    cursorDown(buf, 1);\n\telse {\n\t    while (buf->currentLine->next && buf->currentLine->next->bpos &&\n\t\t   buf->currentLine->bwidth + buf->currentLine->width <\n\t\t   buf->currentColumn + buf->visualpos)\n\t\tcursorDown0(buf, 1);\n\t}\n    }\n    else {\n\tif (buf->currentLine->bwidth + buf->currentLine->width <\n\t    buf->currentColumn + buf->visualpos)\n\t    cursorUp(buf, 1);\n\telse {\n\t    while (buf->currentLine->prev && buf->currentLine->bpos &&\n\t\t   buf->currentLine->bwidth >=\n\t\t   buf->currentColumn + buf->visualpos)\n\t\tcursorUp0(buf, 1);\n\t}\n    }\n    displayBuffer(buf, mode);\n}\n\n/* Move page forward */\nDEFUN(pgFore, NEXT_PAGE, \"Scroll down one page\")\n{\n    if (vi_prec_num)\n\tnscroll(searchKeyNum() * (Currentbuf->LINES - 1), B_NORMAL);\n    else\n\tnscroll(prec_num ? searchKeyNum() : searchKeyNum()\n\t\t* (Currentbuf->LINES - 1), prec_num ? B_SCROLL : B_NORMAL);\n}\n\n/* Move page backward */\nDEFUN(pgBack, PREV_PAGE, \"Scroll up one page\")\n{\n    if (vi_prec_num)\n\tnscroll(-searchKeyNum() * (Currentbuf->LINES - 1), B_NORMAL);\n    else\n\tnscroll(-(prec_num ? searchKeyNum() : searchKeyNum()\n\t\t  * (Currentbuf->LINES - 1)), prec_num ? B_SCROLL : B_NORMAL);\n}\n\n/* Move half page forward */\nDEFUN(hpgFore, NEXT_HALF_PAGE, \"Scroll down half a page\")\n{\n\tnscroll(searchKeyNum() * (Currentbuf->LINES / 2 - 1), B_NORMAL);\n}\n\n/* Move half page backward */\nDEFUN(hpgBack, PREV_HALF_PAGE, \"Scroll up half a page\")\n{\n\tnscroll(-searchKeyNum() * (Currentbuf->LINES / 2 - 1), B_NORMAL);\n}\n\n/* 1 line up */\nDEFUN(lup1, UP, \"Scroll the screen up one line\")\n{\n    nscroll(searchKeyNum(), B_SCROLL);\n}\n\n/* 1 line down */\nDEFUN(ldown1, DOWN, \"Scroll the screen down one line\")\n{\n    nscroll(-searchKeyNum(), B_SCROLL);\n}\n\n/* move cursor position to the center of screen */\nDEFUN(ctrCsrV, CENTER_V, \"Center on cursor line\")\n{\n    int offsety;\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    offsety = Currentbuf->LINES / 2 - Currentbuf->cursorY;\n    if (offsety != 0) {\n#if 0\n\tCurrentbuf->currentLine = lineSkip(Currentbuf,\n\t\t\t\t\t   Currentbuf->currentLine, offsety,\n\t\t\t\t\t   FALSE);\n#endif\n\tCurrentbuf->topLine =\n\t    lineSkip(Currentbuf, Currentbuf->topLine, -offsety, FALSE);\n\tarrangeLine(Currentbuf);\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n    }\n}\n\nDEFUN(ctrCsrH, CENTER_H, \"Center on cursor column\")\n{\n    int offsetx;\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    offsetx = Currentbuf->cursorX - Currentbuf->COLS / 2;\n    if (offsetx != 0) {\n\tcolumnSkip(Currentbuf, offsetx);\n\tarrangeCursor(Currentbuf);\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n    }\n}\n\n/* Redraw screen */\nDEFUN(rdrwSc, REDRAW, \"Draw the screen anew\")\n{\n    clear();\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nstatic void\nclear_mark(Line *l)\n{\n    int pos;\n    if (!l)\n\treturn;\n    for (pos = 0; pos < l->size; pos++)\n\tl->propBuf[pos] &= ~PE_MARK;\n}\n\n/* search by regular expression */\nstatic int\nsrchcore(char *volatile str, int (*func) (Buffer *, char *))\n{\n    MySignalHandler(*prevtrap) ();\n    volatile int i, result = SR_NOTFOUND;\n\n    if (str != NULL && str != SearchString)\n\tSearchString = str;\n    if (SearchString == NULL || *SearchString == '\\0')\n\treturn SR_NOTFOUND;\n\n    str = conv_search_string(SearchString, DisplayCharset);\n    prevtrap = mySignal(SIGINT, intTrap);\n    crmode();\n    if (SETJMP(IntReturn) == 0) {\n\tfor (i = 0; i < PREC_NUM; i++) {\n\t    result = func(Currentbuf, str);\n\t    if (i < PREC_NUM - 1 && result & SR_FOUND)\n\t\tclear_mark(Currentbuf->currentLine);\n\t}\n    }\n    mySignal(SIGINT, prevtrap);\n    term_raw();\n    return result;\n}\n\nstatic void\ndisp_srchresult(int result, char *prompt, char *str)\n{\n    if (str == NULL)\n\tstr = \"\";\n    if (result & SR_NOTFOUND)\n\tdisp_message(Sprintf(\"Not found: %s\", str)->ptr, TRUE);\n    else if (result & SR_WRAPPED)\n\tdisp_message(Sprintf(\"Search wrapped: %s\", str)->ptr, TRUE);\n    else if (show_srch_str)\n\tdisp_message(Sprintf(\"%s%s\", prompt, str)->ptr, TRUE);\n}\n\nstatic int\ndispincsrch(int ch, Str buf, Lineprop *prop)\n{\n    static Buffer sbuf;\n    static Line *currentLine;\n    static int pos;\n    char *str;\n    int do_next_search = FALSE;\n\n    if (ch == 0 && buf == NULL) {\n\tSAVE_BUFPOSITION(&sbuf);\t/* search starting point */\n\tcurrentLine = sbuf.currentLine;\n\tpos = sbuf.pos;\n\treturn -1;\n    }\n\n    str = buf->ptr;\n    switch (ch) {\n    case 022:\t\t\t/* C-r */\n\tsearchRoutine = backwardSearch;\n\tdo_next_search = TRUE;\n\tbreak;\n    case 023:\t\t\t/* C-s */\n\tsearchRoutine = forwardSearch;\n\tdo_next_search = TRUE;\n\tbreak;\n\n#ifdef USE_MIGEMO\n    case 034:\n\tmigemo_active = -migemo_active;\n\tgoto done;\n#endif\n\n    default:\n\tif (ch >= 0)\n\t    return ch;\t\t/* use InputKeymap */\n    }\n\n    if (do_next_search) {\n\tif (*str) {\n\t    if (searchRoutine == forwardSearch)\n\t\tCurrentbuf->pos += 1;\n\t    SAVE_BUFPOSITION(&sbuf);\n\t    if (srchcore(str, searchRoutine) == SR_NOTFOUND\n\t\t&& searchRoutine == forwardSearch) {\n\t\tCurrentbuf->pos -= 1;\n\t\tSAVE_BUFPOSITION(&sbuf);\n\t    }\n\t    arrangeCursor(Currentbuf);\n\t    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n\t    clear_mark(Currentbuf->currentLine);\n\t    return -1;\n\t}\n\telse\n\t    return 020;\t\t/* _prev completion for C-s C-s */\n    }\n    else if (*str) {\n\tRESTORE_BUFPOSITION(&sbuf);\n\tarrangeCursor(Currentbuf);\n\tsrchcore(str, searchRoutine);\n\tarrangeCursor(Currentbuf);\n\tcurrentLine = Currentbuf->currentLine;\n\tpos = Currentbuf->pos;\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n    clear_mark(Currentbuf->currentLine);\n#ifdef USE_MIGEMO\n  done:\n    while (*str++ != '\\0') {\n\tif (migemo_active > 0)\n\t    *prop++ |= PE_UNDER;\n\telse\n\t    *prop++ &= ~PE_UNDER;\n    }\n#endif\n    return -1;\n}\n\nvoid\nisrch(int (*func) (Buffer *, char *), char *prompt)\n{\n    char *str;\n    Buffer sbuf;\n    SAVE_BUFPOSITION(&sbuf);\n    dispincsrch(0, NULL, NULL);\t/* initialize incremental search state */\n\n    searchRoutine = func;\n    str = inputLineHistSearch(prompt, NULL, IN_STRING, TextHist, dispincsrch);\n    if (str == NULL) {\n\tRESTORE_BUFPOSITION(&sbuf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nvoid\nsrch(int (*func) (Buffer *, char *), char *prompt)\n{\n    char *str;\n    int result;\n    int disp = FALSE;\n    int pos;\n\n    str = searchKeyData();\n    if (str == NULL || *str == '\\0') {\n\tstr = inputStrHist(prompt, NULL, TextHist);\n\tif (str != NULL && *str == '\\0')\n\t    str = SearchString;\n\tif (str == NULL) {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n\tdisp = TRUE;\n    }\n    pos = Currentbuf->pos;\n    if (func == forwardSearch)\n\tCurrentbuf->pos += 1;\n    result = srchcore(str, func);\n    if (result & SR_FOUND)\n\tclear_mark(Currentbuf->currentLine);\n    else\n\tCurrentbuf->pos = pos;\n    displayBuffer(Currentbuf, B_NORMAL);\n    if (disp)\n\tdisp_srchresult(result, prompt, str);\n    searchRoutine = func;\n}\n\n/* Search regular expression forward */\n\nDEFUN(srchfor, SEARCH SEARCH_FORE WHEREIS, \"Search forward\")\n{\n    srch(forwardSearch, \"Forward: \");\n}\n\nDEFUN(isrchfor, ISEARCH, \"Incremental search forward\")\n{\n    isrch(forwardSearch, \"I-search: \");\n}\n\n/* Search regular expression backward */\n\nDEFUN(srchbak, SEARCH_BACK, \"Search backward\")\n{\n    srch(backwardSearch, \"Backward: \");\n}\n\nDEFUN(isrchbak, ISEARCH_BACK, \"Incremental search backward\")\n{\n    isrch(backwardSearch, \"I-search backward: \");\n}\n\nstatic void\nsrch_nxtprv(int reverse)\n{\n    int result;\n    /* *INDENT-OFF* */\n    static int (*routine[2]) (Buffer *, char *) = {\n\tforwardSearch, backwardSearch\n    };\n    /* *INDENT-ON* */\n\n    if (searchRoutine == NULL) {\n\t/* FIXME: gettextize? */\n\tdisp_message(\"No previous regular expression\", TRUE);\n\treturn;\n    }\n    if (reverse != 0)\n\treverse = 1;\n    if (searchRoutine == backwardSearch)\n\treverse ^= 1;\n    if (reverse == 0)\n\tCurrentbuf->pos += 1;\n    result = srchcore(SearchString, routine[reverse]);\n    if (result & SR_FOUND)\n\tclear_mark(Currentbuf->currentLine);\n    else {\n\tif (reverse == 0)\n\t    Currentbuf->pos -= 1;\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n    disp_srchresult(result, (reverse ? \"Backward: \" : \"Forward: \"),\n\t\t    SearchString);\n}\n\n/* Search next matching */\nDEFUN(srchnxt, SEARCH_NEXT, \"Continue search forward\")\n{\n    srch_nxtprv(0);\n}\n\n/* Search previous matching */\nDEFUN(srchprv, SEARCH_PREV, \"Continue search backward\")\n{\n    srch_nxtprv(1);\n}\n\nstatic void\nshiftvisualpos(Buffer *buf, int shift)\n{\n    Line *l = buf->currentLine;\n    buf->visualpos -= shift;\n    if (buf->visualpos - l->bwidth >= buf->COLS)\n\tbuf->visualpos = l->bwidth + buf->COLS - 1;\n    else if (buf->visualpos - l->bwidth < 0)\n\tbuf->visualpos = l->bwidth;\n    arrangeLine(buf);\n    if (buf->visualpos - l->bwidth == -shift && buf->cursorX == 0)\n\tbuf->visualpos = l->bwidth;\n}\n\n/* Shift screen left */\nDEFUN(shiftl, SHIFT_LEFT, \"Shift screen left\")\n{\n    int column;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    column = Currentbuf->currentColumn;\n    columnSkip(Currentbuf, searchKeyNum() * (-Currentbuf->COLS + 1) + 1);\n    shiftvisualpos(Currentbuf, Currentbuf->currentColumn - column);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* Shift screen right */\nDEFUN(shiftr, SHIFT_RIGHT, \"Shift screen right\")\n{\n    int column;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    column = Currentbuf->currentColumn;\n    columnSkip(Currentbuf, searchKeyNum() * (Currentbuf->COLS - 1) - 1);\n    shiftvisualpos(Currentbuf, Currentbuf->currentColumn - column);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(col1R, RIGHT, \"Shift screen one column right\")\n{\n    Buffer *buf = Currentbuf;\n    Line *l = buf->currentLine;\n    int j, column, n = searchKeyNum();\n\n    if (l == NULL)\n\treturn;\n    for (j = 0; j < n; j++) {\n\tcolumn = buf->currentColumn;\n\tcolumnSkip(Currentbuf, 1);\n\tif (column == buf->currentColumn)\n\t    break;\n\tshiftvisualpos(Currentbuf, 1);\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(col1L, LEFT, \"Shift screen one column left\")\n{\n    Buffer *buf = Currentbuf;\n    Line *l = buf->currentLine;\n    int j, n = searchKeyNum();\n\n    if (l == NULL)\n\treturn;\n    for (j = 0; j < n; j++) {\n\tif (buf->currentColumn == 0)\n\t    break;\n\tcolumnSkip(Currentbuf, -1);\n\tshiftvisualpos(Currentbuf, -1);\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(setEnv, SETENV, \"Set environment variable\")\n{\n    char *env;\n    char *var, *value;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    env = searchKeyData();\n    if (env == NULL || *env == '\\0' || strchr(env, '=') == NULL) {\n\tif (env != NULL && *env != '\\0')\n\t    env = Sprintf(\"%s=\", env)->ptr;\n\tenv = inputStrHist(\"Set environ: \", env, TextHist);\n\tif (env == NULL || *env == '\\0') {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    if ((value = strchr(env, '=')) != NULL && value > env) {\n\tvar = allocStr(env, value - env);\n\tvalue++;\n\tset_environ(var, value);\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(pipeBuf, PIPE_BUF, \"Pipe current buffer through a shell command and display output\")\n{\n    Buffer *buf;\n    char *cmd, *tmpf;\n    FILE *f;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    cmd = searchKeyData();\n    if (cmd == NULL || *cmd == '\\0') {\n\t/* FIXME: gettextize? */\n\tcmd = inputLineHist(\"Pipe buffer to: \", \"\", IN_COMMAND, ShellHist);\n    }\n    if (cmd != NULL)\n\tcmd = conv_to_system(cmd);\n    if (cmd == NULL || *cmd == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    tmpf = tmpfname(TMPF_DFL, NULL)->ptr;\n    f = fopen(tmpf, \"w\");\n    if (f == NULL) {\n\t/* FIXME: gettextize? */\n\tdisp_message(Sprintf(\"Can't save buffer to %s\", cmd)->ptr, TRUE);\n\treturn;\n    }\n    saveBuffer(Currentbuf, f, TRUE);\n    fclose(f);\n    buf = getpipe(myExtCommand(cmd, shell_quote(tmpf), TRUE)->ptr);\n    if (buf == NULL) {\n\tdisp_message(\"Execution failed\", TRUE);\n\treturn;\n    }\n    else {\n\tbuf->filename = cmd;\n\tbuf->buffername = Sprintf(\"%s %s\", PIPEBUFFERNAME,\n\t\t\t\t  conv_from_system(cmd))->ptr;\n\tbuf->bufferprop |= (BP_INTERNAL | BP_NO_URL);\n\tif (buf->type == NULL)\n\t    buf->type = \"text/plain\";\n\tbuf->currentURL.file = \"-\";\n\tpushBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Execute shell command and read output ac pipe. */\nDEFUN(pipesh, PIPE_SHELL, \"Execute shell command and display output\")\n{\n    Buffer *buf;\n    char *cmd;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    cmd = searchKeyData();\n    if (cmd == NULL || *cmd == '\\0') {\n\tcmd = inputLineHist(\"(read shell[pipe])!\", \"\", IN_COMMAND, ShellHist);\n    }\n    if (cmd != NULL)\n\tcmd = conv_to_system(cmd);\n    if (cmd == NULL || *cmd == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    buf = getpipe(cmd);\n    if (buf == NULL) {\n\tdisp_message(\"Execution failed\", TRUE);\n\treturn;\n    }\n    else {\n\tbuf->bufferprop |= (BP_INTERNAL | BP_NO_URL);\n\tif (buf->type == NULL)\n\t    buf->type = \"text/plain\";\n\tpushBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Execute shell command and load entire output to buffer */\nDEFUN(readsh, READ_SHELL, \"Execute shell command and display output\")\n{\n    Buffer *buf;\n    MySignalHandler(*prevtrap) ();\n    char *cmd;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    cmd = searchKeyData();\n    if (cmd == NULL || *cmd == '\\0') {\n\tcmd = inputLineHist(\"(read shell)!\", \"\", IN_COMMAND, ShellHist);\n    }\n    if (cmd != NULL)\n\tcmd = conv_to_system(cmd);\n    if (cmd == NULL || *cmd == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    prevtrap = mySignal(SIGINT, intTrap);\n    crmode();\n    buf = getshell(cmd);\n    mySignal(SIGINT, prevtrap);\n    term_raw();\n    if (buf == NULL) {\n\t/* FIXME: gettextize? */\n\tdisp_message(\"Execution failed\", TRUE);\n\treturn;\n    }\n    else {\n\tbuf->bufferprop |= (BP_INTERNAL | BP_NO_URL);\n\tif (buf->type == NULL)\n\t    buf->type = \"text/plain\";\n\tpushBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Execute shell command */\nDEFUN(execsh, EXEC_SHELL SHELL, \"Execute shell command and display output\")\n{\n    char *cmd;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    cmd = searchKeyData();\n    if (cmd == NULL || *cmd == '\\0') {\n\tcmd = inputLineHist(\"(exec shell)!\", \"\", IN_COMMAND, ShellHist);\n    }\n    if (cmd != NULL)\n\tcmd = conv_to_system(cmd);\n    if (cmd != NULL && *cmd != '\\0') {\n\tfmTerm();\n\tprintf(\"\\n\");\n\tsystem(cmd);\n\t/* FIXME: gettextize? */\n\tprintf(\"\\n[Hit any key]\");\n\tfflush(stdout);\n\tfmInit();\n\tgetch();\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Load file */\nDEFUN(ldfile, LOAD, \"Open local file in a new buffer\")\n{\n    char *fn;\n\n    fn = searchKeyData();\n    if (fn == NULL || *fn == '\\0') {\n\t/* FIXME: gettextize? */\n\tfn = inputFilenameHist(\"(Load)Filename? \", NULL, LoadHist);\n    }\n    if (fn != NULL)\n\tfn = conv_to_system(fn);\n    if (fn == NULL || *fn == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    cmd_loadfile(fn);\n}\n\n/* Load help file */\nDEFUN(ldhelp, HELP, \"Show help panel\")\n{\n#ifdef USE_HELP_CGI\n    char *lang;\n    int n;\n    Str tmp;\n\n    lang = AcceptLang;\n    n = strcspn(lang, \";, \\t\");\n    tmp = Sprintf(\"file:///$LIB/\" HELP_CGI CGI_EXTENSION \"?version=%s&lang=%s\",\n\t\t  Str_form_quote(Strnew_charp(w3m_version))->ptr,\n\t\t  Str_form_quote(Strnew_charp_n(lang, n))->ptr);\n    cmd_loadURL(tmp->ptr, NULL, NO_REFERER, NULL);\n#else\n    cmd_loadURL(helpFile(HELP_FILE), NULL, NO_REFERER, NULL);\n#endif\n}\n\nstatic void\ncmd_loadfile(char *fn)\n{\n    Buffer *buf;\n\n    buf = loadGeneralFile(file_to_url(fn), NULL, NO_REFERER, 0, NULL);\n    if (buf == NULL) {\n\t/* FIXME: gettextize? */\n\tchar *emsg = Sprintf(\"%s not found\", conv_from_system(fn))->ptr;\n\tdisp_err_message(emsg, FALSE);\n    }\n    else if (buf != NO_BUFFER) {\n\tpushBuffer(buf);\n\tif (RenderFrame && Currentbuf->frameset != NULL)\n\t    rFrame();\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* Move cursor left */\nstatic void\n_movL(int n)\n{\n    int i, m = searchKeyNum();\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    for (i = 0; i < m; i++)\n\tcursorLeft(Currentbuf, n);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(movL, MOVE_LEFT, \"Cursor left\")\n{\n    _movL(Currentbuf->COLS / 2);\n}\n\nDEFUN(movL1, MOVE_LEFT1, \"Cursor left. With edge touched, slide\")\n{\n    _movL(1);\n}\n\n/* Move cursor downward */\nstatic void\n_movD(int n)\n{\n    int i, m = searchKeyNum();\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    for (i = 0; i < m; i++)\n\tcursorDown(Currentbuf, n);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(movD, MOVE_DOWN, \"Cursor down\")\n{\n    _movD((Currentbuf->LINES + 1) / 2);\n}\n\nDEFUN(movD1, MOVE_DOWN1, \"Cursor down. With edge touched, slide\")\n{\n    _movD(1);\n}\n\n/* move cursor upward */\nstatic void\n_movU(int n)\n{\n    int i, m = searchKeyNum();\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    for (i = 0; i < m; i++)\n\tcursorUp(Currentbuf, n);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(movU, MOVE_UP, \"Cursor up\")\n{\n    _movU((Currentbuf->LINES + 1) / 2);\n}\n\nDEFUN(movU1, MOVE_UP1, \"Cursor up. With edge touched, slide\")\n{\n    _movU(1);\n}\n\n/* Move cursor right */\nstatic void\n_movR(int n)\n{\n    int i, m = searchKeyNum();\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    for (i = 0; i < m; i++)\n\tcursorRight(Currentbuf, n);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nDEFUN(movR, MOVE_RIGHT, \"Cursor right\")\n{\n    _movR(Currentbuf->COLS / 2);\n}\n\nDEFUN(movR1, MOVE_RIGHT1, \"Cursor right. With edge touched, slide\")\n{\n    _movR(1);\n}\n\n/* movLW, movRW */\n/* \n * From: Takashi Nishimoto <g96p0935@mse.waseda.ac.jp> Date: Mon, 14 Jun\n * 1999 09:29:56 +0900 \n */\n#if defined(USE_M17N) && defined(USE_UNICODE)\n#define nextChar(s, l)\tdo { (s)++; } while ((s) < (l)->len && (l)->propBuf[s] & PC_WCHAR2)\n#define prevChar(s, l)\tdo { (s)--; } while ((s) > 0 && (l)->propBuf[s] & PC_WCHAR2)\n\nstatic wc_uint32\ngetChar(char *p)\n{\n    return wc_any_to_ucs(wtf_parse1((wc_uchar **)&p));\n}\n\nstatic int\nis_wordchar(wc_uint32 c)\n{\n    return wc_is_ucs_alnum(c);\n}\n#else \n#define nextChar(s, l)\t(s)++\n#define prevChar(s, l)\t(s)--\n#define getChar(p)\t((int)*(p))\n\nstatic int\nis_wordchar(int c)\n{\n    return IS_ALNUM(c);\n}\n#endif\n\nstatic int\nprev_nonnull_line(Line *line)\n{\n    Line *l;\n\n    for (l = line; l != NULL && l->len == 0; l = l->prev) ;\n    if (l == NULL || l->len == 0)\n\treturn -1;\n\n    Currentbuf->currentLine = l;\n    if (l != line)\n\tCurrentbuf->pos = Currentbuf->currentLine->len;\n    return 0;\n}\n\nDEFUN(movLW, PREV_WORD, \"Move to the previous word\")\n{\n    char *lb;\n    Line *pline, *l;\n    int ppos;\n    int i, n = searchKeyNum();\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n\n    for (i = 0; i < n; i++) {\n\tpline = Currentbuf->currentLine;\n\tppos = Currentbuf->pos;\n\n\tif (prev_nonnull_line(Currentbuf->currentLine) < 0)\n\t    goto end;\n\n\twhile (1) {\n\t    l = Currentbuf->currentLine;\n\t    lb = l->lineBuf;\n\t    while (Currentbuf->pos > 0) {\n\t\tint tmp = Currentbuf->pos;\n\t\tprevChar(tmp, l);\n\t\tif (is_wordchar(getChar(&lb[tmp])))\n\t\t    break;\n\t\tCurrentbuf->pos = tmp;\n\t    }\n\t    if (Currentbuf->pos > 0)\n\t\tbreak;\n\t    if (prev_nonnull_line(Currentbuf->currentLine->prev) < 0) {\n\t\tCurrentbuf->currentLine = pline;\n\t\tCurrentbuf->pos = ppos;\n\t\tgoto end;\n\t    }\n\t    Currentbuf->pos = Currentbuf->currentLine->len;\n\t}\n\n\tl = Currentbuf->currentLine;\n\tlb = l->lineBuf;\n\twhile (Currentbuf->pos > 0) {\n\t    int tmp = Currentbuf->pos;\n\t    prevChar(tmp, l);\n\t    if (!is_wordchar(getChar(&lb[tmp])))\n\t\tbreak;\n\t    Currentbuf->pos = tmp;\n\t}\n    }\n  end:\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nstatic int\nnext_nonnull_line(Line *line)\n{\n    Line *l;\n\n    for (l = line; l != NULL && l->len == 0; l = l->next) ;\n\n    if (l == NULL || l->len == 0)\n\treturn -1;\n\n    Currentbuf->currentLine = l;\n    if (l != line)\n\tCurrentbuf->pos = 0;\n    return 0;\n}\n\nDEFUN(movRW, NEXT_WORD, \"Move to the next word\")\n{\n    char *lb;\n    Line *pline, *l;\n    int ppos;\n    int i, n = searchKeyNum();\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n\n    for (i = 0; i < n; i++) {\n\tpline = Currentbuf->currentLine;\n\tppos = Currentbuf->pos;\n\n\tif (next_nonnull_line(Currentbuf->currentLine) < 0)\n\t    goto end;\n\n\tl = Currentbuf->currentLine;\n\tlb = l->lineBuf;\n\twhile (Currentbuf->pos < l->len &&\n\t       is_wordchar(getChar(&lb[Currentbuf->pos])))\n\t    nextChar(Currentbuf->pos, l);\n\n\twhile (1) {\n\t    while (Currentbuf->pos < l->len &&\n\t\t   !is_wordchar(getChar(&lb[Currentbuf->pos])))\n\t\tnextChar(Currentbuf->pos, l);\n\t    if (Currentbuf->pos < l->len)\n\t\tbreak;\n\t    if (next_nonnull_line(Currentbuf->currentLine->next) < 0) {\n\t\tCurrentbuf->currentLine = pline;\n\t\tCurrentbuf->pos = ppos;\n\t\tgoto end;\n\t    }\n\t    Currentbuf->pos = 0;\n\t    l = Currentbuf->currentLine;\n\t    lb = l->lineBuf;\n\t}\n    }\n  end:\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nstatic void\n_quitfm(int confirm)\n{\n    char *ans = \"y\";\n\n    if (checkDownloadList())\n\t/* FIXME: gettextize? */\n\tans = inputChar(\"Download process retains. \"\n\t\t\t\"Do you want to exit w3m? (y/n)\");\n    else if (confirm)\n\t/* FIXME: gettextize? */\n\tans = inputChar(\"Do you want to exit w3m? (y/n)\");\n    if (!(ans && TOLOWER(*ans) == 'y')) {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n\n    term_title(\"\");\t\t/* XXX */\n#ifdef USE_IMAGE\n    if (activeImage)\n\ttermImage();\n#endif\n    fmTerm();\n#ifdef USE_COOKIE\n    save_cookies();\n#endif\t\t\t\t/* USE_COOKIE */\n#ifdef USE_HISTORY\n    if (UseHistory && SaveURLHist)\n\tsaveHistory(URLHist, URLHistSize);\n#endif\t\t\t\t/* USE_HISTORY */\n    w3m_exit(0);\n}\n\n/* Quit */\nDEFUN(quitfm, ABORT EXIT, \"Quit at once\")\n{\n    _quitfm(FALSE);\n}\n\n/* Question and Quit */\nDEFUN(qquitfm, QUIT, \"Quit with confirmation request\")\n{\n    _quitfm(confirm_on_quit);\n}\n\n/* Select buffer */\nDEFUN(selBuf, SELECT, \"Display buffer-stack panel\")\n{\n    Buffer *buf;\n    int ok;\n    char cmd;\n\n    ok = FALSE;\n    do {\n\tbuf = selectBuffer(Firstbuf, Currentbuf, &cmd);\n\tswitch (cmd) {\n\tcase 'B':\n\t    ok = TRUE;\n\t    break;\n\tcase '\\n':\n\tcase ' ':\n\t    Currentbuf = buf;\n\t    ok = TRUE;\n\t    break;\n\tcase 'D':\n\t    delBuffer(buf);\n\t    if (Firstbuf == NULL) {\n\t\t/* No more buffer */\n\t\tFirstbuf = nullBuffer();\n\t\tCurrentbuf = Firstbuf;\n\t    }\n\t    break;\n\tcase 'q':\n\t    qquitfm();\n\t    break;\n\tcase 'Q':\n\t    quitfm();\n\t    break;\n\t}\n    } while (!ok);\n\n    for (buf = Firstbuf; buf != NULL; buf = buf->nextBuffer) {\n\tif (buf == Currentbuf)\n\t    continue;\n#ifdef USE_IMAGE\n\tdeleteImage(buf);\n#endif\n\tif (clear_buffer)\n\t    tmpClearBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Suspend (on BSD), or run interactive shell (on SysV) */\nDEFUN(susp, INTERRUPT SUSPEND, \"Suspend w3m to background\")\n{\n#ifndef SIGSTOP\n    char *shell;\n#endif\t\t\t\t/* not SIGSTOP */\n    move(LASTLINE, 0);\n    clrtoeolx();\n    refresh();\n    fmTerm();\n#ifndef SIGSTOP\n    shell = getenv(\"SHELL\");\n    if (shell == NULL)\n\tshell = \"/bin/sh\";\n    system(shell);\n#else\t\t\t\t/* SIGSTOP */\n#ifdef SIGTSTP\n    signal(SIGTSTP, SIG_DFL);  /* just in case */\n    /*\n     * Note: If susp() was called from SIGTSTP handler,\n     * unblocking SIGTSTP would be required here.\n     * Currently not.\n     */\n    kill(0, SIGTSTP);  /* stop whole job, not a single process */\n#else\n    kill((pid_t) 0, SIGSTOP);\n#endif\n#endif\t\t\t\t/* SIGSTOP */\n    fmInit();\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Go to specified line */\nstatic void\n_goLine(char *l)\n{\n    if (l == NULL || *l == '\\0' || Currentbuf->currentLine == NULL) {\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n\treturn;\n    }\n    Currentbuf->pos = 0;\n    if (((*l == '^') || (*l == '$')) && prec_num) {\n\tgotoRealLine(Currentbuf, prec_num);\n    }\n    else if (*l == '^') {\n\tCurrentbuf->topLine = Currentbuf->currentLine = Currentbuf->firstLine;\n    }\n    else if (*l == '$') {\n\tCurrentbuf->topLine =\n\t    lineSkip(Currentbuf, Currentbuf->lastLine,\n\t\t     -(Currentbuf->LINES + 1) / 2, TRUE);\n\tCurrentbuf->currentLine = Currentbuf->lastLine;\n    }\n    else\n\tgotoRealLine(Currentbuf, atoi(l));\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(goLine, GOTO_LINE, \"Go to the specified line\")\n{\n\n    char *str = searchKeyData();\n    if (prec_num)\n\t_goLine(\"^\");\n    else if (str)\n\t_goLine(str);\n    else\n\t/* FIXME: gettextize? */\n\t_goLine(inputStr(\"Goto line: \", \"\"));\n}\n\n\nDEFUN(goLineF, BEGIN, \"Go to the first line\")\n{\n    _goLine(\"^\");\n}\n\nDEFUN(goLineL, END, \"Go to the last line\")\n{\n    _goLine(\"$\");\n}\n\n/* Go to the beginning of the line */\nDEFUN(linbeg, LINE_BEGIN, \"Go to the beginning of the line\")\n{\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    while (Currentbuf->currentLine->prev && Currentbuf->currentLine->bpos)\n\tcursorUp0(Currentbuf, 1);\n    Currentbuf->pos = 0;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* Go to the bottom of the line */\nDEFUN(linend, LINE_END, \"Go to the end of the line\")\n{\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    while (Currentbuf->currentLine->next\n\t   && Currentbuf->currentLine->next->bpos)\n\tcursorDown0(Currentbuf, 1);\n    Currentbuf->pos = Currentbuf->currentLine->len - 1;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nstatic int\ncur_real_linenumber(Buffer *buf)\n{\n    Line *l, *cur = buf->currentLine;\n    int n;\n\n    if (!cur)\n\treturn 1;\n    n = cur->real_linenumber ? cur->real_linenumber : 1;\n    for (l = buf->firstLine; l && l != cur && l->real_linenumber == 0; l = l->next) {\t/* header */\n\tif (l->bpos == 0)\n\t    n++;\n    }\n    return n;\n}\n\n/* Run editor on the current buffer */\nDEFUN(editBf, EDIT, \"Edit local source\")\n{\n    char *fn = Currentbuf->filename;\n    Str cmd;\n\n    if (fn == NULL || Currentbuf->pagerSource != NULL ||\t/* Behaving as a pager */\n\t(Currentbuf->type == NULL && Currentbuf->edit == NULL) ||\t/* Reading shell */\n\tCurrentbuf->real_scheme != SCM_LOCAL || !strcmp(Currentbuf->currentURL.file, \"-\") ||\t/* file is std input  */\n\tCurrentbuf->bufferprop & BP_FRAME) {\t/* Frame */\n\tdisp_err_message(\"Can't edit other than local file\", TRUE);\n\treturn;\n    }\n    if (Currentbuf->edit)\n\tcmd = unquote_mailcap(Currentbuf->edit, Currentbuf->real_type, fn,\n\t\t\t      checkHeader(Currentbuf, \"Content-Type:\"), NULL);\n    else\n\tcmd = myEditor(Editor, shell_quote(fn),\n\t\t       cur_real_linenumber(Currentbuf));\n    fmTerm();\n    system(cmd->ptr);\n    fmInit();\n\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n    reload();\n}\n\n/* Run editor on the current screen */\nDEFUN(editScr, EDIT_SCREEN, \"Edit rendered copy of document\")\n{\n    char *tmpf;\n    FILE *f;\n\n    tmpf = tmpfname(TMPF_DFL, NULL)->ptr;\n    f = fopen(tmpf, \"w\");\n    if (f == NULL) {\n\t/* FIXME: gettextize? */\n\tdisp_err_message(Sprintf(\"Can't open %s\", tmpf)->ptr, TRUE);\n\treturn;\n    }\n    saveBuffer(Currentbuf, f, TRUE);\n    fclose(f);\n    fmTerm();\n    system(myEditor(Editor, shell_quote(tmpf),\n\t\t    cur_real_linenumber(Currentbuf))->ptr);\n    fmInit();\n    unlink(tmpf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n#ifdef USE_MARK\n\n/* Set / unset mark */\nDEFUN(_mark, MARK, \"Set/unset mark\")\n{\n    Line *l;\n    if (!use_mark)\n\treturn;\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    l = Currentbuf->currentLine;\n    l->propBuf[Currentbuf->pos] ^= PE_MARK;\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* Go to next mark */\nDEFUN(nextMk, NEXT_MARK, \"Go to the next mark\")\n{\n    Line *l;\n    int i;\n\n    if (!use_mark)\n\treturn;\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    i = Currentbuf->pos + 1;\n    l = Currentbuf->currentLine;\n    if (i >= l->len) {\n\ti = 0;\n\tl = l->next;\n    }\n    while (l != NULL) {\n\tfor (; i < l->len; i++) {\n\t    if (l->propBuf[i] & PE_MARK) {\n\t\tCurrentbuf->currentLine = l;\n\t\tCurrentbuf->pos = i;\n\t\tarrangeCursor(Currentbuf);\n\t\tdisplayBuffer(Currentbuf, B_NORMAL);\n\t\treturn;\n\t    }\n\t}\n\tl = l->next;\n\ti = 0;\n    }\n    /* FIXME: gettextize? */\n    disp_message(\"No mark exist after here\", TRUE);\n}\n\n/* Go to previous mark */\nDEFUN(prevMk, PREV_MARK, \"Go to the previous mark\")\n{\n    Line *l;\n    int i;\n\n    if (!use_mark)\n\treturn;\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    i = Currentbuf->pos - 1;\n    l = Currentbuf->currentLine;\n    if (i < 0) {\n\tl = l->prev;\n\tif (l != NULL)\n\t    i = l->len - 1;\n    }\n    while (l != NULL) {\n\tfor (; i >= 0; i--) {\n\t    if (l->propBuf[i] & PE_MARK) {\n\t\tCurrentbuf->currentLine = l;\n\t\tCurrentbuf->pos = i;\n\t\tarrangeCursor(Currentbuf);\n\t\tdisplayBuffer(Currentbuf, B_NORMAL);\n\t\treturn;\n\t    }\n\t}\n\tl = l->prev;\n\tif (l != NULL)\n\t    i = l->len - 1;\n    }\n    /* FIXME: gettextize? */\n    disp_message(\"No mark exist before here\", TRUE);\n}\n\n/* Mark place to which the regular expression matches */\nDEFUN(reMark, REG_MARK, \"Mark all occurences of a pattern\")\n{\n    Line *l;\n    char *str;\n    char *p, *p1, *p2;\n\n    if (!use_mark)\n\treturn;\n    str = searchKeyData();\n    if (str == NULL || *str == '\\0') {\n\tstr = inputStrHist(\"(Mark)Regexp: \", MarkString, TextHist);\n\tif (str == NULL || *str == '\\0') {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    str = conv_search_string(str, DisplayCharset);\n    if ((str = regexCompile(str, 1)) != NULL) {\n\tdisp_message(str, TRUE);\n\treturn;\n    }\n    MarkString = str;\n    for (l = Currentbuf->firstLine; l != NULL; l = l->next) {\n\tp = l->lineBuf;\n\tfor (;;) {\n\t    if (regexMatch(p, &l->lineBuf[l->len] - p, p == l->lineBuf) == 1) {\n\t\tmatchedPosition(&p1, &p2);\n\t\tl->propBuf[p1 - l->lineBuf] |= PE_MARK;\n\t\tp = p2;\n\t    }\n\t    else\n\t\tbreak;\n\t}\n    }\n\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n#endif\t\t\t\t/* USE_MARK */\n\nstatic Buffer *\nloadNormalBuf(Buffer *buf, int renderframe)\n{\n    pushBuffer(buf);\n    if (renderframe && RenderFrame && Currentbuf->frameset != NULL)\n\trFrame();\n    return buf;\n}\n\nstatic Buffer *\nloadLink(char *url, char *target, char *referer, FormList *request)\n{\n    Buffer *buf, *nfbuf;\n    union frameset_element *f_element = NULL;\n    int flag = 0;\n    ParsedURL *base, pu;\n    const int *no_referer_ptr;\n\n    message(Sprintf(\"loading %s\", url)->ptr, 0, 0);\n    refresh();\n\n    no_referer_ptr = query_SCONF_NO_REFERER_FROM(&Currentbuf->currentURL);\n    base = baseURL(Currentbuf);\n    if ((no_referer_ptr && *no_referer_ptr) ||\n\tbase == NULL ||\n\tbase->scheme == SCM_LOCAL || base->scheme == SCM_LOCAL_CGI)\n\treferer = NO_REFERER;\n    if (referer == NULL)\n\treferer = parsedURL2Str(&Currentbuf->currentURL)->ptr;\n    buf = loadGeneralFile(url, baseURL(Currentbuf), referer, flag, request);\n    if (buf == NULL) {\n\tchar *emsg = Sprintf(\"Can't load %s\", url)->ptr;\n\tdisp_err_message(emsg, FALSE);\n\treturn NULL;\n    }\n\n    parseURL2(url, &pu, base);\n    pushHashHist(URLHist, parsedURL2Str(&pu)->ptr);\n\n    if (buf == NO_BUFFER) {\n\treturn NULL;\n    }\n    if (!on_target)\t\t/* open link as an indivisual page */\n\treturn loadNormalBuf(buf, TRUE);\n\n    if (do_download)\t\t/* download (thus no need to render frames) */\n\treturn loadNormalBuf(buf, FALSE);\n\n    if (target == NULL ||\t/* no target specified (that means this page is not a frame page) */\n\t!strcmp(target, \"_top\") ||\t/* this link is specified to be opened as an indivisual * page */\n\t!(Currentbuf->bufferprop & BP_FRAME)\t/* This page is not a frame page */\n\t) {\n\treturn loadNormalBuf(buf, TRUE);\n    }\n    nfbuf = Currentbuf->linkBuffer[LB_N_FRAME];\n    if (nfbuf == NULL) {\n\t/* original page (that contains <frameset> tag) doesn't exist */\n\treturn loadNormalBuf(buf, TRUE);\n    }\n\n    f_element = search_frame(nfbuf->frameset, target);\n    if (f_element == NULL) {\n\t/* specified target doesn't exist in this frameset */\n\treturn loadNormalBuf(buf, TRUE);\n    }\n\n    /* frame page */\n\n    /* stack current frameset */\n    pushFrameTree(&(nfbuf->frameQ), copyFrameSet(nfbuf->frameset), Currentbuf);\n    /* delete frame view buffer */\n    delBuffer(Currentbuf);\n    Currentbuf = nfbuf;\n    /* nfbuf->frameset = copyFrameSet(nfbuf->frameset); */\n    resetFrameElement(f_element, buf, referer, request);\n    discardBuffer(buf);\n    rFrame();\n    {\n\tAnchor *al = NULL;\n\tchar *label = pu.label;\n\n\tif (label && f_element->element->attr == F_BODY) {\n\t    al = searchAnchor(f_element->body->nameList, label);\n\t}\n\tif (!al) {\n\t    label = Strnew_m_charp(\"_\", target, NULL)->ptr;\n\t    al = searchURLLabel(Currentbuf, label);\n\t}\n\tif (al) {\n\t    gotoLine(Currentbuf, al->start.line);\n\t    if (label_topline)\n\t\tCurrentbuf->topLine = lineSkip(Currentbuf, Currentbuf->topLine,\n\t\t\t\t\t       Currentbuf->currentLine->\n\t\t\t\t\t       linenumber -\n\t\t\t\t\t       Currentbuf->topLine->linenumber,\n\t\t\t\t\t       FALSE);\n\t    Currentbuf->pos = al->start.pos;\n\t    arrangeCursor(Currentbuf);\n\t}\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n    return buf;\n}\n\nstatic void\ngotoLabel(char *label)\n{\n    Buffer *buf;\n    Anchor *al;\n    int i;\n\n    al = searchURLLabel(Currentbuf, label);\n    if (al == NULL) {\n\t/* FIXME: gettextize? */\n\tdisp_message(Sprintf(\"%s is not found\", label)->ptr, TRUE);\n\treturn;\n    }\n    buf = newBuffer(Currentbuf->width);\n    copyBuffer(buf, Currentbuf);\n    for (i = 0; i < MAX_LB; i++)\n\tbuf->linkBuffer[i] = NULL;\n    buf->currentURL.label = allocStr(label, -1);\n    pushHashHist(URLHist, parsedURL2Str(&buf->currentURL)->ptr);\n    (*buf->clone)++;\n    pushBuffer(buf);\n    gotoLine(Currentbuf, al->start.line);\n    if (label_topline)\n\tCurrentbuf->topLine = lineSkip(Currentbuf, Currentbuf->topLine,\n\t\t\t\t       Currentbuf->currentLine->linenumber\n\t\t\t\t       - Currentbuf->topLine->linenumber,\n\t\t\t\t       FALSE);\n    Currentbuf->pos = al->start.pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n    return;\n}\n\nstatic int\nhandleMailto(char *url)\n{\n    Str to;\n    char *pos;\n\n    if (strncasecmp(url, \"mailto:\", 7))\n\treturn 0;\n#ifdef USE_W3MMAILER\n    if (! non_null(Mailer) || MailtoOptions == MAILTO_OPTIONS_USE_W3MMAILER)\n\treturn 0;\n#else\n    if (!non_null(Mailer)) {\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"no mailer is specified\", TRUE);\n\treturn 1;\n    }\n#endif\n\t\n    /* invoke external mailer */\n    if (MailtoOptions == MAILTO_OPTIONS_USE_MAILTO_URL) {\n\tto = Strnew_charp(html_unquote(url));\n    } else {\n\tto = Strnew_charp(url + 7);\n\tif ((pos = strchr(to->ptr, '?')) != NULL)\n\t    Strtruncate(to, pos - to->ptr);\n    }\n    fmTerm();\n    system(myExtCommand(Mailer, shell_quote(file_unquote(to->ptr)),\n\t\t\tFALSE)->ptr);\n    fmInit();\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n    pushHashHist(URLHist, url);\n    return 1;\n}\n\n/* follow HREF link */\nDEFUN(followA, GOTO_LINK, \"Follow current hyperlink in a new buffer\")\n{\n    Anchor *a;\n    ParsedURL u;\n#ifdef USE_IMAGE\n    int x = 0, y = 0, map = 0;\n#endif\n    char *url;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n\n#ifdef USE_IMAGE\n    a = retrieveCurrentImg(Currentbuf);\n    if (a && a->image && a->image->map) {\n\t_followForm(FALSE);\n\treturn;\n    }\n    if (a && a->image && a->image->ismap) {\n\tgetMapXY(Currentbuf, a, &x, &y);\n\tmap = 1;\n    }\n#else\n    a = retrieveCurrentMap(Currentbuf);\n    if (a) {\n\t_followForm(FALSE);\n\treturn;\n    }\n#endif\n    a = retrieveCurrentAnchor(Currentbuf);\n    if (a == NULL) {\n\t_followForm(FALSE);\n\treturn;\n    }\n    if (*a->url == '#') {\t/* index within this buffer */\n\tgotoLabel(a->url + 1);\n\treturn;\n    }\n    parseURL2(a->url, &u, baseURL(Currentbuf));\n    if (Strcmp(parsedURL2Str(&u), parsedURL2Str(&Currentbuf->currentURL)) == 0) {\n\t/* index within this buffer */\n\tif (u.label) {\n\t    gotoLabel(u.label);\n\t    return;\n\t}\n    }\n    if (handleMailto(a->url))\n\treturn;\n#if 0\n    else if (!strncasecmp(a->url, \"news:\", 5) && strchr(a->url, '@') == NULL) {\n\t/* news:newsgroup is not supported */\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"news:newsgroup_name is not supported\", TRUE);\n\treturn;\n    }\n#endif\t\t\t\t/* USE_NNTP */\n    url = a->url;\n#ifdef USE_IMAGE\n    if (map)\n\turl = Sprintf(\"%s?%d,%d\", a->url, x, y)->ptr;\n#endif\n\n    if (check_target && open_tab_blank && a->target &&\n\t(!strcasecmp(a->target, \"_new\") || !strcasecmp(a->target, \"_blank\"))) {\n\tBuffer *buf;\n\n\t_newT();\n\tbuf = Currentbuf;\n\tloadLink(url, a->target, a->referer, NULL);\n\tif (buf != Currentbuf)\n\t    delBuffer(buf);\n\telse\n\t    deleteTab(CurrentTab);\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n\treturn;\n    }\n    loadLink(url, a->target, a->referer, NULL);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* follow HREF link in the buffer */\nvoid\nbufferA(void)\n{\n    on_target = FALSE;\n    followA();\n    on_target = TRUE;\n}\n\n/* view inline image */\nDEFUN(followI, VIEW_IMAGE, \"Display image in viewer\")\n{\n    Anchor *a;\n    Buffer *buf;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n\n    a = retrieveCurrentImg(Currentbuf);\n    if (a == NULL)\n\treturn;\n    /* FIXME: gettextize? */\n    message(Sprintf(\"loading %s\", a->url)->ptr, 0, 0);\n    refresh();\n    buf = loadGeneralFile(a->url, baseURL(Currentbuf), NULL, 0, NULL);\n    if (buf == NULL) {\n\t/* FIXME: gettextize? */\n\tchar *emsg = Sprintf(\"Can't load %s\", a->url)->ptr;\n\tdisp_err_message(emsg, FALSE);\n    }\n    else if (buf != NO_BUFFER) {\n\tpushBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nstatic FormItemList *\nsave_submit_formlist(FormItemList *src)\n{\n    FormList *list;\n    FormList *srclist;\n    FormItemList *srcitem;\n    FormItemList *item;\n    FormItemList *ret = NULL;\n#ifdef MENU_SELECT\n    FormSelectOptionItem *opt;\n    FormSelectOptionItem *curopt;\n    FormSelectOptionItem *srcopt;\n#endif\t\t\t\t/* MENU_SELECT */\n\n    if (src == NULL)\n\treturn NULL;\n    srclist = src->parent;\n    list = New(FormList);\n    list->method = srclist->method;\n    list->action = Strdup(srclist->action);\n#ifdef USE_M17N\n    list->charset = srclist->charset;\n#endif\n    list->enctype = srclist->enctype;\n    list->nitems = srclist->nitems;\n    list->body = srclist->body;\n    list->boundary = srclist->boundary;\n    list->length = srclist->length;\n\n    for (srcitem = srclist->item; srcitem; srcitem = srcitem->next) {\n\titem = New(FormItemList);\n\titem->type = srcitem->type;\n\titem->name = Strdup(srcitem->name);\n\titem->value = Strdup(srcitem->value);\n\titem->checked = srcitem->checked;\n\titem->accept = srcitem->accept;\n\titem->size = srcitem->size;\n\titem->rows = srcitem->rows;\n\titem->maxlength = srcitem->maxlength;\n\titem->readonly = srcitem->readonly;\n#ifdef MENU_SELECT\n\topt = curopt = NULL;\n\tfor (srcopt = srcitem->select_option; srcopt; srcopt = srcopt->next) {\n\t    if (!srcopt->checked)\n\t\tcontinue;\n\t    opt = New(FormSelectOptionItem);\n\t    opt->value = Strdup(srcopt->value);\n\t    opt->label = Strdup(srcopt->label);\n\t    opt->checked = srcopt->checked;\n\t    if (item->select_option == NULL) {\n\t\titem->select_option = curopt = opt;\n\t    }\n\t    else {\n\t\tcuropt->next = opt;\n\t\tcuropt = curopt->next;\n\t    }\n\t}\n\titem->select_option = opt;\n\tif (srcitem->label)\n\t    item->label = Strdup(srcitem->label);\n#endif\t\t\t\t/* MENU_SELECT */\n\titem->parent = list;\n\titem->next = NULL;\n\n\tif (list->lastitem == NULL) {\n\t    list->item = list->lastitem = item;\n\t}\n\telse {\n\t    list->lastitem->next = item;\n\t    list->lastitem = item;\n\t}\n\n\tif (srcitem == src)\n\t    ret = item;\n    }\n\n    return ret;\n}\n\n#ifdef USE_M17N\nstatic Str\nconv_form_encoding(Str val, FormItemList *fi, Buffer *buf)\n{\n    wc_ces charset = SystemCharset;\n\n    if (fi->parent->charset)\n\tcharset = fi->parent->charset;\n    else if (buf->document_charset && buf->document_charset != WC_CES_US_ASCII)\n\tcharset = buf->document_charset;\n    return wc_Str_conv_strict(val, InnerCharset, charset);\n}\n#else\n#define conv_form_encoding(val, fi, buf) (val)\n#endif\n\nstatic void\nquery_from_followform(Str *query, FormItemList *fi, int multipart)\n{\n    FormItemList *f2;\n    FILE *body = NULL;\n\n    if (multipart) {\n\t*query = tmpfname(TMPF_DFL, NULL);\n\tbody = fopen((*query)->ptr, \"w\");\n\tif (body == NULL) {\n\t    return;\n\t}\n\tfi->parent->body = (*query)->ptr;\n\tfi->parent->boundary =\n\t    Sprintf(\"------------------------------%d%ld%ld%ld\", CurrentPid,\n\t\t    fi->parent, fi->parent->body, fi->parent->boundary)->ptr;\n    }\n    *query = Strnew();\n    for (f2 = fi->parent->item; f2; f2 = f2->next) {\n\tif (f2->name == NULL)\n\t    continue;\n\t/* <ISINDEX> is translated into single text form */\n\tif (f2->name->length == 0 &&\n\t    (multipart || f2->type != FORM_INPUT_TEXT))\n\t    continue;\n\tswitch (f2->type) {\n\tcase FORM_INPUT_RESET:\n\t    /* do nothing */\n\t    continue;\n\tcase FORM_INPUT_SUBMIT:\n\tcase FORM_INPUT_IMAGE:\n\t    if (f2 != fi || f2->value == NULL)\n\t\tcontinue;\n\t    break;\n\tcase FORM_INPUT_RADIO:\n\tcase FORM_INPUT_CHECKBOX:\n\t    if (!f2->checked)\n\t\tcontinue;\n\t}\n\tif (multipart) {\n\t    if (f2->type == FORM_INPUT_IMAGE) {\n\t\tint x = 0, y = 0;\n#ifdef USE_IMAGE\n\t\tgetMapXY(Currentbuf, retrieveCurrentImg(Currentbuf), &x, &y);\n#endif\n\t\t*query = Strdup(conv_form_encoding(f2->name, fi, Currentbuf));\n\t\tStrcat_charp(*query, \".x\");\n\t\tform_write_data(body, fi->parent->boundary, (*query)->ptr,\n\t\t\t\tSprintf(\"%d\", x)->ptr);\n\t\t*query = Strdup(conv_form_encoding(f2->name, fi, Currentbuf));\n\t\tStrcat_charp(*query, \".y\");\n\t\tform_write_data(body, fi->parent->boundary, (*query)->ptr,\n\t\t\t\tSprintf(\"%d\", y)->ptr);\n\t    }\n\t    else if (f2->name && f2->name->length > 0 && f2->value != NULL) {\n\t\t/* not IMAGE */\n\t\t*query = conv_form_encoding(f2->value, fi, Currentbuf);\n\t\tif (f2->type == FORM_INPUT_FILE)\n\t\t    form_write_from_file(body, fi->parent->boundary,\n\t\t\t\t\t conv_form_encoding(f2->name, fi,\n\t\t\t\t\t\t\t    Currentbuf)->ptr,\n\t\t\t\t\t (*query)->ptr,\n\t\t\t\t\t Str_conv_to_system(f2->value)->ptr);\n\t\telse\n\t\t    form_write_data(body, fi->parent->boundary,\n\t\t\t\t    conv_form_encoding(f2->name, fi,\n\t\t\t\t\t\t       Currentbuf)->ptr,\n\t\t\t\t    (*query)->ptr);\n\t    }\n\t}\n\telse {\n\t    /* not multipart */\n\t    if (f2->type == FORM_INPUT_IMAGE) {\n\t\tint x = 0, y = 0;\n#ifdef USE_IMAGE\n\t\tgetMapXY(Currentbuf, retrieveCurrentImg(Currentbuf), &x, &y);\n#endif\n\t\tStrcat(*query,\n\t\t       Str_form_quote(conv_form_encoding\n\t\t\t\t      (f2->name, fi, Currentbuf)));\n\t\tStrcat(*query, Sprintf(\".x=%d&\", x));\n\t\tStrcat(*query,\n\t\t       Str_form_quote(conv_form_encoding\n\t\t\t\t      (f2->name, fi, Currentbuf)));\n\t\tStrcat(*query, Sprintf(\".y=%d\", y));\n\t    }\n\t    else {\n\t\t/* not IMAGE */\n\t\tif (f2->name && f2->name->length > 0) {\n\t\t    Strcat(*query,\n\t\t\t   Str_form_quote(conv_form_encoding\n\t\t\t\t\t  (f2->name, fi, Currentbuf)));\n\t\t    Strcat_char(*query, '=');\n\t\t}\n\t\tif (f2->value != NULL) {\n\t\t    if (fi->parent->method == FORM_METHOD_INTERNAL)\n\t\t\tStrcat(*query, Str_form_quote(f2->value));\n\t\t    else {\n\t\t\tStrcat(*query,\n\t\t\t       Str_form_quote(conv_form_encoding\n\t\t\t\t\t      (f2->value, fi, Currentbuf)));\n\t\t    }\n\t\t}\n\t    }\n\t    if (f2->next)\n\t\tStrcat_char(*query, '&');\n\t}\n    }\n    if (multipart) {\n\tfprintf(body, \"--%s--\\r\\n\", fi->parent->boundary);\n\tfclose(body);\n    }\n    else {\n\t/* remove trailing & */\n\twhile (Strlastchar(*query) == '&')\n\t    Strshrink(*query, 1);\n    }\n}\n\n/* submit form */\nDEFUN(submitForm, SUBMIT, \"Submit form\")\n{\n    _followForm(TRUE);\n}\n\n/* process form */\nvoid\nfollowForm(void)\n{\n    _followForm(FALSE);\n}\n\nstatic void\n_followForm(int submit)\n{\n    Anchor *a, *a2;\n    char *p;\n    FormItemList *fi, *f2;\n    Str tmp, tmp2;\n    int multipart = 0, i;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n\n    a = retrieveCurrentForm(Currentbuf);\n    if (a == NULL)\n\treturn;\n    fi = (FormItemList *)a->url;\n    switch (fi->type) {\n    case FORM_INPUT_TEXT:\n\tif (submit)\n\t    goto do_submit;\n\tif (fi->readonly)\n\t    /* FIXME: gettextize? */\n\t    disp_message_nsec(\"Read only field!\", FALSE, 1, TRUE, FALSE);\n\t/* FIXME: gettextize? */\n\tp = inputStrHist(\"TEXT:\", fi->value ? fi->value->ptr : NULL, TextHist);\n\tif (p == NULL || fi->readonly)\n\t    break;\n\tfi->value = Strnew_charp(p);\n\tformUpdateBuffer(a, Currentbuf, fi);\n\tif (fi->accept || fi->parent->nitems == 1)\n\t    goto do_submit;\n\tbreak;\n    case FORM_INPUT_FILE:\n\tif (submit)\n\t    goto do_submit;\n\tif (fi->readonly)\n\t    /* FIXME: gettextize? */\n\t    disp_message_nsec(\"Read only field!\", FALSE, 1, TRUE, FALSE);\n\t/* FIXME: gettextize? */\n\tp = inputFilenameHist(\"Filename:\", fi->value ? fi->value->ptr : NULL,\n\t\t\t      NULL);\n\tif (p == NULL || fi->readonly)\n\t    break;\n\tfi->value = Strnew_charp(p);\n\tformUpdateBuffer(a, Currentbuf, fi);\n\tif (fi->accept || fi->parent->nitems == 1)\n\t    goto do_submit;\n\tbreak;\n    case FORM_INPUT_PASSWORD:\n\tif (submit)\n\t    goto do_submit;\n\tif (fi->readonly) {\n\t    /* FIXME: gettextize? */\n\t    disp_message_nsec(\"Read only field!\", FALSE, 1, TRUE, FALSE);\n\t    break;\n\t}\n\t/* FIXME: gettextize? */\n\tp = inputLine(\"Password:\", fi->value ? fi->value->ptr : NULL,\n\t\t      IN_PASSWORD);\n\tif (p == NULL)\n\t    break;\n\tfi->value = Strnew_charp(p);\n\tformUpdateBuffer(a, Currentbuf, fi);\n\tif (fi->accept)\n\t    goto do_submit;\n\tbreak;\n    case FORM_TEXTAREA:\n\tif (submit)\n\t    goto do_submit;\n\tif (fi->readonly)\n\t    /* FIXME: gettextize? */\n\t    disp_message_nsec(\"Read only field!\", FALSE, 1, TRUE, FALSE);\n\tinput_textarea(fi);\n\tformUpdateBuffer(a, Currentbuf, fi);\n\tbreak;\n    case FORM_INPUT_RADIO:\n\tif (submit)\n\t    goto do_submit;\n\tif (fi->readonly) {\n\t    /* FIXME: gettextize? */\n\t    disp_message_nsec(\"Read only field!\", FALSE, 1, TRUE, FALSE);\n\t    break;\n\t}\n\tformRecheckRadio(a, Currentbuf, fi);\n\tbreak;\n    case FORM_INPUT_CHECKBOX:\n\tif (submit)\n\t    goto do_submit;\n\tif (fi->readonly) {\n\t    /* FIXME: gettextize? */\n\t    disp_message_nsec(\"Read only field!\", FALSE, 1, TRUE, FALSE);\n\t    break;\n\t}\n\tfi->checked = !fi->checked;\n\tformUpdateBuffer(a, Currentbuf, fi);\n\tbreak;\n#ifdef MENU_SELECT\n    case FORM_SELECT:\n\tif (submit)\n\t    goto do_submit;\n\tif (!formChooseOptionByMenu(fi,\n\t\t\t\t    Currentbuf->cursorX - Currentbuf->pos +\n\t\t\t\t    a->start.pos + Currentbuf->rootX,\n\t\t\t\t    Currentbuf->cursorY + Currentbuf->rootY))\n\t    break;\n\tformUpdateBuffer(a, Currentbuf, fi);\n\tif (fi->parent->nitems == 1)\n\t    goto do_submit;\n\tbreak;\n#endif\t\t\t\t/* MENU_SELECT */\n    case FORM_INPUT_IMAGE:\n    case FORM_INPUT_SUBMIT:\n    case FORM_INPUT_BUTTON:\n      do_submit:\n\ttmp = Strnew();\n\tmultipart = (fi->parent->method == FORM_METHOD_POST &&\n\t\t     fi->parent->enctype == FORM_ENCTYPE_MULTIPART);\n\tquery_from_followform(&tmp, fi, multipart);\n\n\ttmp2 = Strdup(fi->parent->action);\n\tif (!Strcmp_charp(tmp2, \"!CURRENT_URL!\")) {\n\t    /* It means \"current URL\" */\n\t    tmp2 = parsedURL2Str(&Currentbuf->currentURL);\n\t    if ((p = strchr(tmp2->ptr, '?')) != NULL)\n\t\tStrshrink(tmp2, (tmp2->ptr + tmp2->length) - p);\n\t}\n\n\tif (fi->parent->method == FORM_METHOD_GET) {\n\t    if ((p = strchr(tmp2->ptr, '?')) != NULL)\n\t\tStrshrink(tmp2, (tmp2->ptr + tmp2->length) - p);\n\t    Strcat_charp(tmp2, \"?\");\n\t    Strcat(tmp2, tmp);\n\t    loadLink(tmp2->ptr, a->target, NULL, NULL);\n\t}\n\telse if (fi->parent->method == FORM_METHOD_POST) {\n\t    Buffer *buf;\n\t    if (multipart) {\n\t\tstruct stat st;\n\t\tstat(fi->parent->body, &st);\n\t\tfi->parent->length = st.st_size;\n\t    }\n\t    else {\n\t\tfi->parent->body = tmp->ptr;\n\t\tfi->parent->length = tmp->length;\n\t    }\n\t    buf = loadLink(tmp2->ptr, a->target, NULL, fi->parent);\n\t    if (multipart) {\n\t\tunlink(fi->parent->body);\n\t    }\n\t    if (buf && !(buf->bufferprop & BP_REDIRECTED)) {\t/* buf must be Currentbuf */\n\t\t/* BP_REDIRECTED means that the buffer is obtained through\n\t\t * Location: header. In this case, buf->form_submit must not be set\n\t\t * because the page is not loaded by POST method but GET method.\n\t\t */\n\t\tbuf->form_submit = save_submit_formlist(fi);\n\t    }\n\t}\n\telse if ((fi->parent->method == FORM_METHOD_INTERNAL && (!Strcmp_charp(fi->parent->action, \"map\") || !Strcmp_charp(fi->parent->action, \"none\"))) || Currentbuf->bufferprop & BP_INTERNAL) {\t/* internal */\n\t    do_internal(tmp2->ptr, tmp->ptr);\n\t}\n\telse {\n\t    disp_err_message(\"Can't send form because of illegal method.\",\n\t\t\t     FALSE);\n\t}\n\tbreak;\n    case FORM_INPUT_RESET:\n\tfor (i = 0; i < Currentbuf->formitem->nanchor; i++) {\n\t    a2 = &Currentbuf->formitem->anchors[i];\n\t    f2 = (FormItemList *)a2->url;\n\t    if (f2->parent == fi->parent &&\n\t\tf2->name && f2->value &&\n\t\tf2->type != FORM_INPUT_SUBMIT &&\n\t\tf2->type != FORM_INPUT_HIDDEN &&\n\t\tf2->type != FORM_INPUT_RESET) {\n\t\tf2->value = f2->init_value;\n\t\tf2->checked = f2->init_checked;\n#ifdef MENU_SELECT\n\t\tf2->label = f2->init_label;\n\t\tf2->selected = f2->init_selected;\n#endif\t\t\t\t/* MENU_SELECT */\n\t\tformUpdateBuffer(a2, Currentbuf, f2);\n\t    }\n\t}\n\tbreak;\n    case FORM_INPUT_HIDDEN:\n    default:\n\tbreak;\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* go to the top anchor */\nDEFUN(topA, LINK_BEGIN, \"Move to the first hyperlink\")\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n    BufferPoint *po;\n    Anchor *an;\n    int hseq = 0;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (!hl || hl->nmark == 0)\n\treturn;\n\n    if (prec_num > hl->nmark)\n\thseq = hl->nmark - 1;\n    else if (prec_num > 0)\n\thseq = prec_num - 1;\n    do {\n\tif (hseq >= hl->nmark)\n\t    return;\n\tpo = hl->marks + hseq;\n\tan = retrieveAnchor(Currentbuf->href, po->line, po->pos);\n\tif (an == NULL)\n\t    an = retrieveAnchor(Currentbuf->formitem, po->line, po->pos);\n\thseq++;\n    } while (an == NULL);\n\n    gotoLine(Currentbuf, po->line);\n    Currentbuf->pos = po->pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the last anchor */\nDEFUN(lastA, LINK_END, \"Move to the last hyperlink\")\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n    BufferPoint *po;\n    Anchor *an;\n    int hseq;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (!hl || hl->nmark == 0)\n\treturn;\n\n    if (prec_num >= hl->nmark)\n\thseq = 0;\n    else if (prec_num > 0)\n\thseq = hl->nmark - prec_num;\n    else\n\thseq = hl->nmark - 1;\n    do {\n\tif (hseq < 0)\n\t    return;\n\tpo = hl->marks + hseq;\n\tan = retrieveAnchor(Currentbuf->href, po->line, po->pos);\n\tif (an == NULL)\n\t    an = retrieveAnchor(Currentbuf->formitem, po->line, po->pos);\n\thseq--;\n    } while (an == NULL);\n\n    gotoLine(Currentbuf, po->line);\n    Currentbuf->pos = po->pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the nth anchor */\nDEFUN(nthA, LINK_N, \"Go to the nth link\")\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n\tBufferPoint *po;\n\tAnchor *an;\n\n\tint n = searchKeyNum();\n\tif (n < 0 || n > hl->nmark) return;\n\n\tif (Currentbuf->firstLine == NULL)\n\t\treturn;\n    if (!hl || hl->nmark == 0)\n\t\treturn;\n\n\tpo = hl->marks + n-1;\n\tan = retrieveAnchor(Currentbuf->href, po->line, po->pos);\n\tif (an == NULL)\n\t\tan = retrieveAnchor(Currentbuf->formitem, po->line, po->pos);\n\tif (an == NULL) return;\n\n    gotoLine(Currentbuf, po->line);\n    Currentbuf->pos = po->pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the next anchor */\nDEFUN(nextA, NEXT_LINK, \"Move to the next hyperlink\")\n{\n    _nextA(FALSE);\n}\n\n/* go to the previous anchor */\nDEFUN(prevA, PREV_LINK, \"Move to the previous hyperlink\")\n{\n    _prevA(FALSE);\n}\n\n/* go to the next visited anchor */\nDEFUN(nextVA, NEXT_VISITED, \"Move to the next visited hyperlink\")\n{\n    _nextA(TRUE);\n}\n\n/* go to the previous visited anchor */\nDEFUN(prevVA, PREV_VISITED, \"Move to the previous visited hyperlink\")\n{\n    _prevA(TRUE);\n}\n\n/* go to the next [visited] anchor */\nstatic void\n_nextA(int visited)\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n    BufferPoint *po;\n    Anchor *an, *pan;\n    int i, x, y, n = searchKeyNum();\n    ParsedURL url;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (!hl || hl->nmark == 0)\n\treturn;\n\n    an = retrieveCurrentAnchor(Currentbuf);\n    if (visited != TRUE && an == NULL)\n\tan = retrieveCurrentForm(Currentbuf);\n\n    y = Currentbuf->currentLine->linenumber;\n    x = Currentbuf->pos;\n\n    if (visited == TRUE) {\n\tn = hl->nmark;\n    }\n\n    for (i = 0; i < n; i++) {\n\tpan = an;\n\tif (an && an->hseq >= 0) {\n\t    int hseq = an->hseq + 1;\n\t    do {\n\t\tif (hseq >= hl->nmark) {\n\t\t    if (visited == TRUE)\n\t\t\treturn;\n\t\t    an = pan;\n\t\t    goto _end;\n\t\t}\n\t\tpo = &hl->marks[hseq];\n\t\tan = retrieveAnchor(Currentbuf->href, po->line, po->pos);\n\t\tif (visited != TRUE && an == NULL)\n\t\t    an = retrieveAnchor(Currentbuf->formitem, po->line,\n\t\t\t\t\tpo->pos);\n\t\thseq++;\n\t\tif (visited == TRUE && an) {\n\t\t    parseURL2(an->url, &url, baseURL(Currentbuf));\n\t\t    if (getHashHist(URLHist, parsedURL2Str(&url)->ptr)) {\n\t\t\tgoto _end;\n\t\t    }\n\t\t}\n\t    } while (an == NULL || an == pan);\n\t}\n\telse {\n\t    an = closest_next_anchor(Currentbuf->href, NULL, x, y);\n\t    if (visited != TRUE)\n\t\tan = closest_next_anchor(Currentbuf->formitem, an, x, y);\n\t    if (an == NULL) {\n\t\tif (visited == TRUE)\n\t\t    return;\n\t\tan = pan;\n\t\tbreak;\n\t    }\n\t    x = an->start.pos;\n\t    y = an->start.line;\n\t    if (visited == TRUE) {\n\t\tparseURL2(an->url, &url, baseURL(Currentbuf));\n\t\tif (getHashHist(URLHist, parsedURL2Str(&url)->ptr)) {\n\t\t    goto _end;\n\t\t}\n\t    }\n\t}\n    }\n    if (visited == TRUE)\n\treturn;\n\n  _end:\n    if (an == NULL || an->hseq < 0)\n\treturn;\n    po = &hl->marks[an->hseq];\n    gotoLine(Currentbuf, po->line);\n    Currentbuf->pos = po->pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the previous anchor */\nstatic void\n_prevA(int visited)\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n    BufferPoint *po;\n    Anchor *an, *pan;\n    int i, x, y, n = searchKeyNum();\n    ParsedURL url;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (!hl || hl->nmark == 0)\n\treturn;\n\n    an = retrieveCurrentAnchor(Currentbuf);\n    if (visited != TRUE && an == NULL)\n\tan = retrieveCurrentForm(Currentbuf);\n\n    y = Currentbuf->currentLine->linenumber;\n    x = Currentbuf->pos;\n\n    if (visited == TRUE) {\n\tn = hl->nmark;\n    }\n\n    for (i = 0; i < n; i++) {\n\tpan = an;\n\tif (an && an->hseq >= 0) {\n\t    int hseq = an->hseq - 1;\n\t    do {\n\t\tif (hseq < 0) {\n\t\t    if (visited == TRUE)\n\t\t\treturn;\n\t\t    an = pan;\n\t\t    goto _end;\n\t\t}\n\t\tpo = hl->marks + hseq;\n\t\tan = retrieveAnchor(Currentbuf->href, po->line, po->pos);\n\t\tif (visited != TRUE && an == NULL)\n\t\t    an = retrieveAnchor(Currentbuf->formitem, po->line,\n\t\t\t\t\tpo->pos);\n\t\thseq--;\n\t\tif (visited == TRUE && an) {\n\t\t    parseURL2(an->url, &url, baseURL(Currentbuf));\n\t\t    if (getHashHist(URLHist, parsedURL2Str(&url)->ptr)) {\n\t\t\tgoto _end;\n\t\t    }\n\t\t}\n\t    } while (an == NULL || an == pan);\n\t}\n\telse {\n\t    an = closest_prev_anchor(Currentbuf->href, NULL, x, y);\n\t    if (visited != TRUE)\n\t\tan = closest_prev_anchor(Currentbuf->formitem, an, x, y);\n\t    if (an == NULL) {\n\t\tif (visited == TRUE)\n\t\t    return;\n\t\tan = pan;\n\t\tbreak;\n\t    }\n\t    x = an->start.pos;\n\t    y = an->start.line;\n\t    if (visited == TRUE && an) {\n\t\tparseURL2(an->url, &url, baseURL(Currentbuf));\n\t\tif (getHashHist(URLHist, parsedURL2Str(&url)->ptr)) {\n\t\t    goto _end;\n\t\t}\n\t    }\n\t}\n    }\n    if (visited == TRUE)\n\treturn;\n\n  _end:\n    if (an == NULL || an->hseq < 0)\n\treturn;\n    po = hl->marks + an->hseq;\n    gotoLine(Currentbuf, po->line);\n    Currentbuf->pos = po->pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the next left/right anchor */\nstatic void\nnextX(int d, int dy)\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n    Anchor *an, *pan;\n    Line *l;\n    int i, x, y, n = searchKeyNum();\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (!hl || hl->nmark == 0)\n\treturn;\n\n    an = retrieveCurrentAnchor(Currentbuf);\n    if (an == NULL)\n\tan = retrieveCurrentForm(Currentbuf);\n\n    l = Currentbuf->currentLine;\n    x = Currentbuf->pos;\n    y = l->linenumber;\n    pan = NULL;\n    for (i = 0; i < n; i++) {\n\tif (an)\n\t    x = (d > 0) ? an->end.pos : an->start.pos - 1;\n\tan = NULL;\n\twhile (1) {\n\t    for (; x >= 0 && x < l->len; x += d) {\n\t\tan = retrieveAnchor(Currentbuf->href, y, x);\n\t\tif (!an)\n\t\t    an = retrieveAnchor(Currentbuf->formitem, y, x);\n\t\tif (an) {\n\t\t    pan = an;\n\t\t    break;\n\t\t}\n\t    }\n\t    if (!dy || an)\n\t\tbreak;\n\t    l = (dy > 0) ? l->next : l->prev;\n\t    if (!l)\n\t\tbreak;\n\t    x = (d > 0) ? 0 : l->len - 1;\n\t    y = l->linenumber;\n\t}\n\tif (!an)\n\t    break;\n    }\n\n    if (pan == NULL)\n\treturn;\n    gotoLine(Currentbuf, y);\n    Currentbuf->pos = pan->start.pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the next downward/upward anchor */\nstatic void\nnextY(int d)\n{\n    HmarkerList *hl = Currentbuf->hmarklist;\n    Anchor *an, *pan;\n    int i, x, y, n = searchKeyNum();\n    int hseq;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (!hl || hl->nmark == 0)\n\treturn;\n\n    an = retrieveCurrentAnchor(Currentbuf);\n    if (an == NULL)\n\tan = retrieveCurrentForm(Currentbuf);\n\n    x = Currentbuf->pos;\n    y = Currentbuf->currentLine->linenumber + d;\n    pan = NULL;\n    hseq = -1;\n    for (i = 0; i < n; i++) {\n\tif (an)\n\t    hseq = abs(an->hseq);\n\tan = NULL;\n\tfor (; y >= 0 && y <= Currentbuf->lastLine->linenumber; y += d) {\n\t    an = retrieveAnchor(Currentbuf->href, y, x);\n\t    if (!an)\n\t\tan = retrieveAnchor(Currentbuf->formitem, y, x);\n\t    if (an && hseq != abs(an->hseq)) {\n\t\tpan = an;\n\t\tbreak;\n\t    }\n\t}\n\tif (!an)\n\t    break;\n    }\n\n    if (pan == NULL)\n\treturn;\n    gotoLine(Currentbuf, pan->start.line);\n    arrangeLine(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* go to the next left anchor */\nDEFUN(nextL, NEXT_LEFT, \"Move left to the next hyperlink\")\n{\n    nextX(-1, 0);\n}\n\n/* go to the next left-up anchor */\nDEFUN(nextLU, NEXT_LEFT_UP, \"Move left or upward to the next hyperlink\")\n{\n    nextX(-1, -1);\n}\n\n/* go to the next right anchor */\nDEFUN(nextR, NEXT_RIGHT, \"Move right to the next hyperlink\")\n{\n    nextX(1, 0);\n}\n\n/* go to the next right-down anchor */\nDEFUN(nextRD, NEXT_RIGHT_DOWN, \"Move right or downward to the next hyperlink\")\n{\n    nextX(1, 1);\n}\n\n/* go to the next downward anchor */\nDEFUN(nextD, NEXT_DOWN, \"Move downward to the next hyperlink\")\n{\n    nextY(1);\n}\n\n/* go to the next upward anchor */\nDEFUN(nextU, NEXT_UP, \"Move upward to the next hyperlink\")\n{\n    nextY(-1);\n}\n\n/* go to the next bufferr */\nDEFUN(nextBf, NEXT, \"Switch to the next buffer\")\n{\n    Buffer *buf;\n    int i;\n\n    for (i = 0; i < PREC_NUM; i++) {\n\tbuf = prevBuffer(Firstbuf, Currentbuf);\n\tif (!buf) {\n\t    if (i == 0)\n\t\treturn;\n\t    break;\n\t}\n\tCurrentbuf = buf;\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* go to the previous bufferr */\nDEFUN(prevBf, PREV, \"Switch to the previous buffer\")\n{\n    Buffer *buf;\n    int i;\n\n    for (i = 0; i < PREC_NUM; i++) {\n\tbuf = Currentbuf->nextBuffer;\n\tif (!buf) {\n\t    if (i == 0)\n\t\treturn;\n\t    break;\n\t}\n\tCurrentbuf = buf;\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nstatic int\ncheckBackBuffer(Buffer *buf)\n{\n    Buffer *fbuf = buf->linkBuffer[LB_N_FRAME];\n\n    if (fbuf) {\n\tif (fbuf->frameQ)\n\t    return TRUE;\t/* Currentbuf has stacked frames */\n\t/* when no frames stacked and next is frame source, try next's\n\t * nextBuffer */\n\tif (RenderFrame && fbuf == buf->nextBuffer) {\n\t    if (fbuf->nextBuffer != NULL)\n\t\treturn TRUE;\n\t    else\n\t\treturn FALSE;\n\t}\n    }\n\n    if (buf->nextBuffer)\n\treturn TRUE;\n\n    return FALSE;\n}\n\n/* delete current buffer and back to the previous buffer */\nDEFUN(backBf, BACK, \"Close current buffer and return to the one below in stack\")\n{\n    Buffer *buf = Currentbuf->linkBuffer[LB_N_FRAME];\n\n    if (!checkBackBuffer(Currentbuf)) {\n\tif (close_tab_back && nTab >= 1) {\n\t    deleteTab(CurrentTab);\n\t    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n\t}\n\telse\n\t    /* FIXME: gettextize? */\n\t    disp_message(\"Can't go back...\", TRUE);\n\treturn;\n    }\n\n    delBuffer(Currentbuf);\n\n    if (buf) {\n\tif (buf->frameQ) {\n\t    struct frameset *fs;\n\t    long linenumber = buf->frameQ->linenumber;\n\t    long top = buf->frameQ->top_linenumber;\n\t    int pos = buf->frameQ->pos;\n\t    int currentColumn = buf->frameQ->currentColumn;\n\t    AnchorList *formitem = buf->frameQ->formitem;\n\n\t    fs = popFrameTree(&(buf->frameQ));\n\t    deleteFrameSet(buf->frameset);\n\t    buf->frameset = fs;\n\n\t    if (buf == Currentbuf) {\n\t\trFrame();\n\t\tCurrentbuf->topLine = lineSkip(Currentbuf,\n\t\t\t\t\t       Currentbuf->firstLine, top - 1,\n\t\t\t\t\t       FALSE);\n\t\tgotoLine(Currentbuf, linenumber);\n\t\tCurrentbuf->pos = pos;\n\t\tCurrentbuf->currentColumn = currentColumn;\n\t\tarrangeCursor(Currentbuf);\n\t\tformResetBuffer(Currentbuf, formitem);\n\t    }\n\t}\n\telse if (RenderFrame && buf == Currentbuf) {\n\t    delBuffer(Currentbuf);\n\t}\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(deletePrevBuf, DELETE_PREVBUF, \"Delete previous buffer (mainly for local CGI-scripts)\")\n{\n    Buffer *buf = Currentbuf->nextBuffer;\n    if (buf)\n\tdelBuffer(buf);\n}\n\nstatic void\ncmd_loadURL(char *url, ParsedURL *current, char *referer, FormList *request)\n{\n    Buffer *buf;\n\n    if (handleMailto(url))\n\treturn;\n#if 0\n    if (!strncasecmp(url, \"news:\", 5) && strchr(url, '@') == NULL) {\n\t/* news:newsgroup is not supported */\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"news:newsgroup_name is not supported\", TRUE);\n\treturn;\n    }\n#endif\t\t\t\t/* USE_NNTP */\n\n    refresh();\n    buf = loadGeneralFile(url, current, referer, 0, request);\n    if (buf == NULL) {\n\t/* FIXME: gettextize? */\n\tchar *emsg = Sprintf(\"Can't load %s\", conv_from_system(url))->ptr;\n\tdisp_err_message(emsg, FALSE);\n    }\n    else if (buf != NO_BUFFER) {\n\tpushBuffer(buf);\n\tif (RenderFrame && Currentbuf->frameset != NULL)\n\t    rFrame();\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n\n/* go to specified URL */\nstatic void\ngoURL0(char *prompt, int relative)\n{\n    char *url, *referer;\n    ParsedURL p_url, *current;\n    Buffer *cur_buf = Currentbuf;\n    const int *no_referer_ptr;\n\n    url = searchKeyData();\n    if (url == NULL) {\n\tHist *hist = copyHist(URLHist);\n\tAnchor *a;\n\n\tcurrent = baseURL(Currentbuf);\n\tif (current) {\n\t    char *c_url = parsedURL2Str(current)->ptr;\n\t    if (DefaultURLString == DEFAULT_URL_CURRENT)\n\t\turl = url_decode2(c_url, NULL);\n\t    else\n\t\tpushHist(hist, c_url);\n\t}\n\ta = retrieveCurrentAnchor(Currentbuf);\n\tif (a) {\n\t    char *a_url;\n\t    parseURL2(a->url, &p_url, current);\n\t    a_url = parsedURL2Str(&p_url)->ptr;\n\t    if (DefaultURLString == DEFAULT_URL_LINK)\n\t\turl = url_decode2(a_url, Currentbuf);\n\t    else\n\t\tpushHist(hist, a_url);\n\t}\n\turl = inputLineHist(prompt, url, IN_URL, hist);\n\tif (url != NULL)\n\t    SKIP_BLANKS(url);\n    }\n    if (relative) {\n\tno_referer_ptr = query_SCONF_NO_REFERER_FROM(&Currentbuf->currentURL);\n\tcurrent = baseURL(Currentbuf);\n\tif ((no_referer_ptr && *no_referer_ptr) ||\n\t    current == NULL ||\n\t    current->scheme == SCM_LOCAL || current->scheme == SCM_LOCAL_CGI)\n\t    referer = NO_REFERER;\n\telse\n\t    referer = parsedURL2Str(&Currentbuf->currentURL)->ptr;\n\turl = url_encode(url, current, Currentbuf->document_charset);\n    }\n    else {\n\tcurrent = NULL;\n\treferer = NULL;\n\turl = url_encode(url, NULL, 0);\n    }\n    if (url == NULL || *url == '\\0') {\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n\treturn;\n    }\n    if (*url == '#') {\n\tgotoLabel(url + 1);\n\treturn;\n    }\n    parseURL2(url, &p_url, current);\n    pushHashHist(URLHist, parsedURL2Str(&p_url)->ptr);\n    cmd_loadURL(url, current, referer, NULL);\n    if (Currentbuf != cur_buf)\t/* success */\n\tpushHashHist(URLHist, parsedURL2Str(&Currentbuf->currentURL)->ptr);\n}\n\nDEFUN(goURL, GOTO, \"Open specified document in a new buffer\")\n{\n    goURL0(\"Goto URL: \", FALSE);\n}\n\nDEFUN(gorURL, GOTO_RELATIVE, \"Go to relative address\")\n{\n    goURL0(\"Goto relative URL: \", TRUE);\n}\n\nstatic void\ncmd_loadBuffer(Buffer *buf, int prop, int linkid)\n{\n    if (buf == NULL) {\n\tdisp_err_message(\"Can't load string\", FALSE);\n    }\n    else if (buf != NO_BUFFER) {\n\tbuf->bufferprop |= (BP_INTERNAL | prop);\n\tif (!(buf->bufferprop & BP_NO_URL))\n\t    copyParsedURL(&buf->currentURL, &Currentbuf->currentURL);\n\tif (linkid != LB_NOLINK) {\n\t    buf->linkBuffer[REV_LB[linkid]] = Currentbuf;\n\t    Currentbuf->linkBuffer[linkid] = buf;\n\t}\n\tpushBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* load bookmark */\nDEFUN(ldBmark, BOOKMARK VIEW_BOOKMARK, \"View bookmarks\")\n{\n    cmd_loadURL(BookmarkFile, NULL, NO_REFERER, NULL);\n}\n\n\n/* Add current to bookmark */\nDEFUN(adBmark, ADD_BOOKMARK, \"Add current page to bookmarks\")\n{\n    Str tmp;\n    FormList *request;\n\n    tmp = Sprintf(\"mode=panel&cookie=%s&bmark=%s&url=%s&title=%s\"\n#ifdef USE_M17N\n\t\t    \"&charset=%s\"\n#endif\n\t\t    ,\n\t\t  (Str_form_quote(localCookie()))->ptr,\n\t\t  (Str_form_quote(Strnew_charp(BookmarkFile)))->ptr,\n\t\t  (Str_form_quote(parsedURL2Str(&Currentbuf->currentURL)))->\n\t\t  ptr,\n#ifdef USE_M17N\n\t\t  (Str_form_quote(wc_conv_strict(Currentbuf->buffername,\n\t\t\t\t\t\t InnerCharset,\n\t\t\t\t\t\t BookmarkCharset)))->ptr,\n\t\t  wc_ces_to_charset(BookmarkCharset));\n#else\n\t\t  (Str_form_quote(Strnew_charp(Currentbuf->buffername)))->ptr);\n#endif\n    request = newFormList(NULL, \"post\", NULL, NULL, NULL, NULL, NULL);\n    request->body = tmp->ptr;\n    request->length = tmp->length;\n    cmd_loadURL(\"file:///$LIB/\" W3MBOOKMARK_CMDNAME, NULL, NO_REFERER,\n\t\trequest);\n}\n\n/* option setting */\nDEFUN(ldOpt, OPTIONS, \"Display options setting panel\")\n{\n    cmd_loadBuffer(load_option_panel(), BP_NO_URL, LB_NOLINK);\n}\n\n/* set an option */\nDEFUN(setOpt, SET_OPTION, \"Set option\")\n{\n    char *opt;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    opt = searchKeyData();\n    if (opt == NULL || *opt == '\\0' || strchr(opt, '=') == NULL) {\n\tif (opt != NULL && *opt != '\\0') {\n\t    char *v = get_param_option(opt);\n\t    opt = Sprintf(\"%s=%s\", opt, v ? v : \"\")->ptr;\n\t}\n\topt = inputStrHist(\"Set option: \", opt, TextHist);\n\tif (opt == NULL || *opt == '\\0') {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    if (set_param_option(opt))\n\tsync_with_option();\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n\n/* error message list */\nDEFUN(msgs, MSGS, \"Display error messages\")\n{\n    cmd_loadBuffer(message_list_panel(), BP_NO_URL, LB_NOLINK);\n}\n\n/* page info */\nDEFUN(pginfo, INFO, \"Display information about the current document\")\n{\n    Buffer *buf;\n\n    if ((buf = Currentbuf->linkBuffer[LB_N_INFO]) != NULL) {\n\tCurrentbuf = buf;\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    if ((buf = Currentbuf->linkBuffer[LB_INFO]) != NULL)\n\tdelBuffer(buf);\n    buf = page_info_panel(Currentbuf);\n    cmd_loadBuffer(buf, BP_NORMAL, LB_INFO);\n}\n\nvoid\nfollow_map(struct parsed_tagarg *arg)\n{\n    char *name = tag_get_value(arg, \"link\");\n#if defined(MENU_MAP) || defined(USE_IMAGE)\n    Anchor *an;\n    MapArea *a;\n    int x, y;\n    ParsedURL p_url;\n\n    an = retrieveCurrentImg(Currentbuf);\n    x = Currentbuf->cursorX + Currentbuf->rootX;\n    y = Currentbuf->cursorY + Currentbuf->rootY;\n    a = follow_map_menu(Currentbuf, name, an, x, y);\n    if (a == NULL || a->url == NULL || *(a->url) == '\\0') {\n#endif\n#ifndef MENU_MAP\n\tBuffer *buf = follow_map_panel(Currentbuf, name);\n\n\tif (buf != NULL)\n\t    cmd_loadBuffer(buf, BP_NORMAL, LB_NOLINK);\n#endif\n#if defined(MENU_MAP) || defined(USE_IMAGE)\n\treturn;\n    }\n    if (*(a->url) == '#') {\n\tgotoLabel(a->url + 1);\n\treturn;\n    }\n    parseURL2(a->url, &p_url, baseURL(Currentbuf));\n    pushHashHist(URLHist, parsedURL2Str(&p_url)->ptr);\n    if (check_target && open_tab_blank && a->target &&\n\t(!strcasecmp(a->target, \"_new\") || !strcasecmp(a->target, \"_blank\"))) {\n\tBuffer *buf;\n\n\t_newT();\n\tbuf = Currentbuf;\n\tcmd_loadURL(a->url, baseURL(Currentbuf),\n\t\t    parsedURL2Str(&Currentbuf->currentURL)->ptr, NULL);\n\tif (buf != Currentbuf)\n\t    delBuffer(buf);\n\telse\n\t    deleteTab(CurrentTab);\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n\treturn;\n    }\n    cmd_loadURL(a->url, baseURL(Currentbuf),\n\t\tparsedURL2Str(&Currentbuf->currentURL)->ptr, NULL);\n#endif\n}\n\n#ifdef USE_MENU\n/* link menu */\nDEFUN(linkMn, LINK_MENU, \"Pop up link element menu\")\n{\n    LinkList *l = link_menu(Currentbuf);\n    ParsedURL p_url;\n\n    if (!l || !l->url)\n\treturn;\n    if (*(l->url) == '#') {\n\tgotoLabel(l->url + 1);\n\treturn;\n    }\n    parseURL2(l->url, &p_url, baseURL(Currentbuf));\n    pushHashHist(URLHist, parsedURL2Str(&p_url)->ptr);\n    cmd_loadURL(l->url, baseURL(Currentbuf),\n\t\tparsedURL2Str(&Currentbuf->currentURL)->ptr, NULL);\n}\n\nstatic void\nanchorMn(Anchor *(*menu_func) (Buffer *), int go)\n{\n    Anchor *a;\n    BufferPoint *po;\n\n    if (!Currentbuf->href || !Currentbuf->hmarklist)\n\treturn;\n    a = menu_func(Currentbuf);\n    if (!a || a->hseq < 0)\n\treturn;\n    po = &Currentbuf->hmarklist->marks[a->hseq];\n    gotoLine(Currentbuf, po->line);\n    Currentbuf->pos = po->pos;\n    arrangeCursor(Currentbuf);\n    displayBuffer(Currentbuf, B_NORMAL);\n    if (go)\n\tfollowA();\n}\n\n/* accesskey */\nDEFUN(accessKey, ACCESSKEY, \"Pop up accesskey menu\")\n{\n    anchorMn(accesskey_menu, TRUE);\n}\n\n/* list menu */\nDEFUN(listMn, LIST_MENU, \"Pop up menu for hyperlinks to browse to\")\n{\n    anchorMn(list_menu, TRUE);\n}\n\nDEFUN(movlistMn, MOVE_LIST_MENU, \"Pop up menu to navigate between hyperlinks\")\n{\n    anchorMn(list_menu, FALSE);\n}\n#endif\n\n/* link,anchor,image list */\nDEFUN(linkLst, LIST, \"Show all URLs referenced\")\n{\n    Buffer *buf;\n\n    buf = link_list_panel(Currentbuf);\n    if (buf != NULL) {\n#ifdef USE_M17N\n\tbuf->document_charset = Currentbuf->document_charset;\n#endif\n\tcmd_loadBuffer(buf, BP_NORMAL, LB_NOLINK);\n    }\n}\n\n#ifdef USE_COOKIE\n/* cookie list */\nDEFUN(cooLst, COOKIE, \"View cookie list\")\n{\n    Buffer *buf;\n\n    buf = cookie_list_panel();\n    if (buf != NULL)\n\tcmd_loadBuffer(buf, BP_NO_URL, LB_NOLINK);\n}\n#endif\t\t\t\t/* USE_COOKIE */\n\n#ifdef USE_HISTORY\n/* History page */\nDEFUN(ldHist, HISTORY, \"Show browsing history\")\n{\n    cmd_loadBuffer(historyBuffer(URLHist), BP_NO_URL, LB_NOLINK);\n}\n#endif\t\t\t\t/* USE_HISTORY */\n\n/* download HREF link */\nDEFUN(svA, SAVE_LINK, \"Save hyperlink target\")\n{\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    do_download = TRUE;\n    followA();\n    do_download = FALSE;\n}\n\n/* download IMG link */\nDEFUN(svI, SAVE_IMAGE, \"Save inline image\")\n{\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    do_download = TRUE;\n    followI();\n    do_download = FALSE;\n}\n\n/* save buffer */\nDEFUN(svBuf, PRINT SAVE_SCREEN, \"Save rendered document\")\n{\n    char *qfile = NULL, *file;\n    FILE *f;\n    int is_pipe;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    file = searchKeyData();\n    if (file == NULL || *file == '\\0') {\n\t/* FIXME: gettextize? */\n\tqfile = inputLineHist(\"Save buffer to: \", NULL, IN_COMMAND, SaveHist);\n\tif (qfile == NULL || *qfile == '\\0') {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    file = conv_to_system(qfile ? qfile : file);\n    if (*file == '|') {\n\tis_pipe = TRUE;\n\tf = popen(file + 1, \"w\");\n    }\n    else {\n\tif (qfile) {\n\t    file = unescape_spaces(Strnew_charp(qfile))->ptr;\n\t    file = conv_to_system(file);\n\t}\n\tfile = expandPath(file);\n\tif (checkOverWrite(file) < 0) {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n\tf = fopen(file, \"w\");\n\tis_pipe = FALSE;\n    }\n    if (f == NULL) {\n\t/* FIXME: gettextize? */\n\tchar *emsg = Sprintf(\"Can't open %s\", conv_from_system(file))->ptr;\n\tdisp_err_message(emsg, TRUE);\n\treturn;\n    }\n    saveBuffer(Currentbuf, f, TRUE);\n    if (is_pipe)\n\tpclose(f);\n    else\n\tfclose(f);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* save source */\nDEFUN(svSrc, DOWNLOAD SAVE, \"Save document source\")\n{\n    char *file;\n\n    if (Currentbuf->sourcefile == NULL)\n\treturn;\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    PermitSaveToPipe = TRUE;\n    if (Currentbuf->real_scheme == SCM_LOCAL)\n\tfile = conv_from_system(guess_save_name(NULL,\n\t\t\t\t\t\tCurrentbuf->currentURL.\n\t\t\t\t\t\treal_file));\n    else\n\tfile = guess_save_name(Currentbuf, Currentbuf->currentURL.file);\n    doFileCopy(Currentbuf->sourcefile, file);\n    PermitSaveToPipe = FALSE;\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nstatic void\n_peekURL(int only_img)\n{\n\n    Anchor *a;\n    ParsedURL pu;\n    static Str s = NULL;\n#ifdef USE_M17N\n    static Lineprop *p = NULL;\n    Lineprop *pp;\n#endif\n    static int offset = 0, n;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    if (CurrentKey == prev_key && s != NULL) {\n\tif (s->length - offset >= COLS)\n\t    offset++;\n\telse if (s->length <= offset)\t/* bug ? */\n\t    offset = 0;\n\tgoto disp;\n    }\n    else {\n\toffset = 0;\n    }\n    s = NULL;\n    a = (only_img ? NULL : retrieveCurrentAnchor(Currentbuf));\n    if (a == NULL) {\n\ta = (only_img ? NULL : retrieveCurrentForm(Currentbuf));\n\tif (a == NULL) {\n\t    a = retrieveCurrentImg(Currentbuf);\n\t    if (a == NULL)\n\t\treturn;\n\t}\n\telse\n\t    s = Strnew_charp(form2str((FormItemList *)a->url));\n    }\n    if (s == NULL) {\n\tparseURL2(a->url, &pu, baseURL(Currentbuf));\n\ts = parsedURL2Str(&pu);\n    }\n    if (DecodeURL)\n\ts = Strnew_charp(url_decode2(s->ptr, Currentbuf));\n#ifdef USE_M17N\n    s = checkType(s, &pp, NULL);\n    p = NewAtom_N(Lineprop, s->length);\n    bcopy((void *)pp, (void *)p, s->length * sizeof(Lineprop));\n#endif\n  disp:\n    n = searchKeyNum();\n    if (n > 1 && s->length > (n - 1) * (COLS - 1))\n\toffset = (n - 1) * (COLS - 1);\n#ifdef USE_M17N\n    while (offset < s->length && p[offset] & PC_WCHAR2)\n\toffset++;\n#endif\n    disp_message_nomouse(&s->ptr[offset], TRUE);\n}\n\n/* peek URL */\nDEFUN(peekURL, PEEK_LINK, \"Show target address\")\n{\n    _peekURL(0);\n}\n\n/* peek URL of image */\nDEFUN(peekIMG, PEEK_IMG, \"Show image address\")\n{\n    _peekURL(1);\n}\n\n/* show current URL */\nstatic Str\ncurrentURL(void)\n{\n    if (Currentbuf->bufferprop & BP_INTERNAL)\n\treturn Strnew_size(0);\n    return parsedURL2Str(&Currentbuf->currentURL);\n}\n\nDEFUN(curURL, PEEK, \"Show current address\")\n{\n    static Str s = NULL;\n#ifdef USE_M17N\n    static Lineprop *p = NULL;\n    Lineprop *pp;\n#endif\n    static int offset = 0, n;\n\n    if (Currentbuf->bufferprop & BP_INTERNAL)\n\treturn;\n    if (CurrentKey == prev_key && s != NULL) {\n\tif (s->length - offset >= COLS)\n\t    offset++;\n\telse if (s->length <= offset)\t/* bug ? */\n\t    offset = 0;\n    }\n    else {\n\toffset = 0;\n\ts = currentURL();\n\tif (DecodeURL)\n\t    s = Strnew_charp(url_decode2(s->ptr, NULL));\n#ifdef USE_M17N\n\ts = checkType(s, &pp, NULL);\n\tp = NewAtom_N(Lineprop, s->length);\n\tbcopy((void *)pp, (void *)p, s->length * sizeof(Lineprop));\n#endif\n    }\n    n = searchKeyNum();\n    if (n > 1 && s->length > (n - 1) * (COLS - 1))\n\toffset = (n - 1) * (COLS - 1);\n#ifdef USE_M17N\n    while (offset < s->length && p[offset] & PC_WCHAR2)\n\toffset++;\n#endif\n    disp_message_nomouse(&s->ptr[offset], TRUE);\n}\n/* view HTML source */\n\nDEFUN(vwSrc, SOURCE VIEW, \"Toggle between HTML shown or processed\")\n{\n    Buffer *buf;\n\n    if (Currentbuf->type == NULL || Currentbuf->bufferprop & BP_FRAME)\n\treturn;\n    if ((buf = Currentbuf->linkBuffer[LB_SOURCE]) != NULL ||\n\t(buf = Currentbuf->linkBuffer[LB_N_SOURCE]) != NULL) {\n\tCurrentbuf = buf;\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    if (Currentbuf->sourcefile == NULL) {\n\tif (Currentbuf->pagerSource &&\n\t    !strcasecmp(Currentbuf->type, \"text/plain\")) {\n#ifdef USE_M17N\n\t    wc_ces old_charset;\n\t    wc_bool old_fix_width_conv;\n#endif\n\t    FILE *f;\n\t    Str tmpf = tmpfname(TMPF_SRC, NULL);\n\t    f = fopen(tmpf->ptr, \"w\");\n\t    if (f == NULL)\n\t\treturn;\n#ifdef USE_M17N\n\t    old_charset = DisplayCharset;\n\t    old_fix_width_conv = WcOption.fix_width_conv;\n\t    DisplayCharset = (Currentbuf->document_charset != WC_CES_US_ASCII)\n\t\t? Currentbuf->document_charset : 0;\n\t    WcOption.fix_width_conv = WC_FALSE;\n#endif\n\t    saveBufferBody(Currentbuf, f, TRUE);\n#ifdef USE_M17N\n\t    DisplayCharset = old_charset;\n\t    WcOption.fix_width_conv = old_fix_width_conv;\n#endif\n\t    fclose(f);\n\t    Currentbuf->sourcefile = tmpf->ptr;\n\t}\n\telse {\n\t    return;\n\t}\n    }\n\n    buf = newBuffer(INIT_BUFFER_WIDTH);\n\n    if (is_html_type(Currentbuf->type)) {\n\tbuf->type = \"text/plain\";\n\tif (Currentbuf->real_type &&\n\t    is_html_type(Currentbuf->real_type))\n\t    buf->real_type = \"text/plain\";\n\telse\n\t    buf->real_type = Currentbuf->real_type;\n\tbuf->buffername = Sprintf(\"source of %s\", Currentbuf->buffername)->ptr;\n\tbuf->linkBuffer[LB_N_SOURCE] = Currentbuf;\n\tCurrentbuf->linkBuffer[LB_SOURCE] = buf;\n    }\n    else if (!strcasecmp(Currentbuf->type, \"text/plain\")) {\n\tbuf->type = \"text/html\";\n\tif (Currentbuf->real_type &&\n\t    !strcasecmp(Currentbuf->real_type, \"text/plain\"))\n\t    buf->real_type = \"text/html\";\n\telse\n\t    buf->real_type = Currentbuf->real_type;\n\tbuf->buffername = Sprintf(\"HTML view of %s\",\n\t\t\t\t  Currentbuf->buffername)->ptr;\n\tbuf->linkBuffer[LB_SOURCE] = Currentbuf;\n\tCurrentbuf->linkBuffer[LB_N_SOURCE] = buf;\n    }\n    else {\n\treturn;\n    }\n    buf->currentURL = Currentbuf->currentURL;\n    buf->real_scheme = Currentbuf->real_scheme;\n    buf->filename = Currentbuf->filename;\n    buf->sourcefile = Currentbuf->sourcefile;\n    buf->header_source = Currentbuf->header_source;\n    buf->search_header = Currentbuf->search_header;\n#ifdef USE_M17N\n    buf->document_charset = Currentbuf->document_charset;\n#endif\n    buf->clone = Currentbuf->clone;\n    (*buf->clone)++;\n\n    buf->need_reshape = TRUE;\n    reshapeBuffer(buf);\n    pushBuffer(buf);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n/* reload */\nDEFUN(reload, RELOAD, \"Load current document anew\")\n{\n    Buffer *buf, *fbuf = NULL, sbuf;\n#ifdef USE_M17N\n    wc_ces old_charset;\n#endif\n    Str url;\n    FormList *request;\n    int multipart;\n\n    if (Currentbuf->bufferprop & BP_INTERNAL) {\n\tif (!strcmp(Currentbuf->buffername, DOWNLOAD_LIST_TITLE)) {\n\t    ldDL();\n\t    return;\n\t}\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"Can't reload...\", TRUE);\n\treturn;\n    }\n    if (Currentbuf->currentURL.scheme == SCM_LOCAL &&\n\t!strcmp(Currentbuf->currentURL.file, \"-\")) {\n\t/* file is std input */\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"Can't reload stdin\", TRUE);\n\treturn;\n    }\n    copyBuffer(&sbuf, Currentbuf);\n    if (Currentbuf->bufferprop & BP_FRAME &&\n\t(fbuf = Currentbuf->linkBuffer[LB_N_FRAME])) {\n\tif (fmInitialized) {\n\t    message(\"Rendering frame\", 0, 0);\n\t    refresh();\n\t}\n\tif (!(buf = renderFrame(fbuf, 1))) {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n\tif (fbuf->linkBuffer[LB_FRAME]) {\n\t    if (buf->sourcefile &&\n\t\tfbuf->linkBuffer[LB_FRAME]->sourcefile &&\n\t\t!strcmp(buf->sourcefile,\n\t\t\tfbuf->linkBuffer[LB_FRAME]->sourcefile))\n\t\tfbuf->linkBuffer[LB_FRAME]->sourcefile = NULL;\n\t    delBuffer(fbuf->linkBuffer[LB_FRAME]);\n\t}\n\tfbuf->linkBuffer[LB_FRAME] = buf;\n\tbuf->linkBuffer[LB_N_FRAME] = fbuf;\n\tpushBuffer(buf);\n\tCurrentbuf = buf;\n\tif (Currentbuf->firstLine) {\n\t    COPY_BUFROOT(Currentbuf, &sbuf);\n\t    restorePosition(Currentbuf, &sbuf);\n\t}\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n\treturn;\n    }\n    else if (Currentbuf->frameset != NULL)\n\tfbuf = Currentbuf->linkBuffer[LB_FRAME];\n    multipart = 0;\n    if (Currentbuf->form_submit) {\n\trequest = Currentbuf->form_submit->parent;\n\tif (request->method == FORM_METHOD_POST\n\t    && request->enctype == FORM_ENCTYPE_MULTIPART) {\n\t    Str query;\n\t    struct stat st;\n\t    multipart = 1;\n\t    query_from_followform(&query, Currentbuf->form_submit, multipart);\n\t    stat(request->body, &st);\n\t    request->length = st.st_size;\n\t}\n    }\n    else {\n\trequest = NULL;\n    }\n    url = parsedURL2Str(&Currentbuf->currentURL);\n    /* FIXME: gettextize? */\n    message(\"Reloading...\", 0, 0);\n    refresh();\n#ifdef USE_M17N\n    old_charset = DocumentCharset;\n    if (Currentbuf->document_charset != WC_CES_US_ASCII)\n\tDocumentCharset = Currentbuf->document_charset;\n#endif\n    SearchHeader = Currentbuf->search_header;\n    DefaultType = Currentbuf->real_type;\n    buf = loadGeneralFile(url->ptr, NULL, NO_REFERER, RG_NOCACHE, request);\n#ifdef USE_M17N\n    DocumentCharset = old_charset;\n#endif\n    SearchHeader = FALSE;\n    DefaultType = NULL;\n\n    if (multipart)\n\tunlink(request->body);\n    if (buf == NULL) {\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"Can't reload...\", TRUE);\n\treturn;\n    }\n    else if (buf == NO_BUFFER) {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    if (fbuf != NULL)\n\tFirstbuf = deleteBuffer(Firstbuf, fbuf);\n    repBuffer(Currentbuf, buf);\n    if ((buf->type != NULL) && (sbuf.type != NULL) &&\n\t((!strcasecmp(buf->type, \"text/plain\") &&\n\t  is_html_type(sbuf.type)) ||\n\t (is_html_type(buf->type) &&\n\t  !strcasecmp(sbuf.type, \"text/plain\")))) {\n\tvwSrc();\n\tif (Currentbuf != buf)\n\t    Firstbuf = deleteBuffer(Firstbuf, buf);\n    }\n    Currentbuf->search_header = sbuf.search_header;\n    Currentbuf->form_submit = sbuf.form_submit;\n    if (Currentbuf->firstLine) {\n\tCOPY_BUFROOT(Currentbuf, &sbuf);\n\trestorePosition(Currentbuf, &sbuf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* reshape */\nDEFUN(reshape, RESHAPE, \"Re-render document\")\n{\n    Currentbuf->need_reshape = TRUE;\n    reshapeBuffer(Currentbuf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n#ifdef USE_M17N\nstatic void\n_docCSet(wc_ces charset)\n{\n    if (Currentbuf->bufferprop & BP_INTERNAL)\n\treturn;\n    if (Currentbuf->sourcefile == NULL) {\n\tdisp_message(\"Can't reload...\", FALSE);\n\treturn;\n    }\n    Currentbuf->document_charset = charset;\n    Currentbuf->need_reshape = TRUE;\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nvoid\nchange_charset(struct parsed_tagarg *arg)\n{\n    Buffer *buf = Currentbuf->linkBuffer[LB_N_INFO];\n    wc_ces charset;\n\n    if (buf == NULL)\n\treturn;\n    delBuffer(Currentbuf);\n    Currentbuf = buf;\n    if (Currentbuf->bufferprop & BP_INTERNAL)\n\treturn;\n    charset = Currentbuf->document_charset;\n    for (; arg; arg = arg->next) {\n\tif (!strcmp(arg->arg, \"charset\"))\n\t    charset = atoi(arg->value);\n    }\n    _docCSet(charset);\n}\n\nDEFUN(docCSet, CHARSET, \"Change the character encoding for the current document\")\n{\n    char *cs;\n    wc_ces charset;\n\n    cs = searchKeyData();\n    if (cs == NULL || *cs == '\\0')\n\t/* FIXME: gettextize? */\n\tcs = inputStr(\"Document charset: \",\n\t\t      wc_ces_to_charset(Currentbuf->document_charset));\n    charset = wc_guess_charset_short(cs, 0);\n    if (charset == 0) {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    _docCSet(charset);\n}\n\nDEFUN(defCSet, DEFAULT_CHARSET, \"Change the default character encoding\")\n{\n    char *cs;\n    wc_ces charset;\n\n    cs = searchKeyData();\n    if (cs == NULL || *cs == '\\0')\n\t/* FIXME: gettextize? */\n\tcs = inputStr(\"Default document charset: \",\n\t\t      wc_ces_to_charset(DocumentCharset));\n    charset = wc_guess_charset_short(cs, 0);\n    if (charset != 0)\n\tDocumentCharset = charset;\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n#endif\n\n/* mark URL-like patterns as anchors */\nvoid\nchkURLBuffer(Buffer *buf)\n{\n    static char *url_like_pat[] = {\n\t\"https?://[a-zA-Z0-9][a-zA-Z0-9:%\\\\-\\\\./?=~_\\\\&+@#,\\\\$;]*[a-zA-Z0-9_/=\\\\-]\",\n\t\"file:/[a-zA-Z0-9:%\\\\-\\\\./=_\\\\+@#,\\\\$;]*\",\n#ifdef USE_GOPHER\n\t\"gopher://[a-zA-Z0-9][a-zA-Z0-9:%\\\\-\\\\./_]*\",\n#endif\t\t\t\t/* USE_GOPHER */\n\t\"ftp://[a-zA-Z0-9][a-zA-Z0-9:%\\\\-\\\\./=_+@#,\\\\$]*[a-zA-Z0-9_/]\",\n#ifdef USE_NNTP\n\t\"news:[^<> \t][^<> \t]*\",\n\t\"nntp://[a-zA-Z0-9][a-zA-Z0-9:%\\\\-\\\\./_]*\",\n#endif\t\t\t\t/* USE_NNTP */\n#ifndef USE_W3MMAILER\t\t/* see also chkExternalURIBuffer() */\n\t\"mailto:[^<> \t][^<> \t]*@[a-zA-Z0-9][a-zA-Z0-9\\\\-\\\\._]*[a-zA-Z0-9]\",\n#endif\n#ifdef INET6\n\t\"https?://[a-zA-Z0-9:%\\\\-\\\\./_@]*\\\\[[a-fA-F0-9:][a-fA-F0-9:\\\\.]*\\\\][a-zA-Z0-9:%\\\\-\\\\./?=~_\\\\&+@#,\\\\$;]*\",\n\t\"ftp://[a-zA-Z0-9:%\\\\-\\\\./_@]*\\\\[[a-fA-F0-9:][a-fA-F0-9:\\\\.]*\\\\][a-zA-Z0-9:%\\\\-\\\\./=_+@#,\\\\$]*\",\n#endif\t\t\t\t/* INET6 */\n\tNULL\n    };\n    int i;\n    for (i = 0; url_like_pat[i]; i++) {\n\treAnchor(buf, url_like_pat[i]);\n    }\n#ifdef USE_EXTERNAL_URI_LOADER\n    chkExternalURIBuffer(buf);\n#endif\n    buf->check_url |= CHK_URL;\n}\n\nDEFUN(chkURL, MARK_URL, \"Turn URL-like strings into hyperlinks\")\n{\n    chkURLBuffer(Currentbuf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(chkWORD, MARK_WORD, \"Turn current word into hyperlink\")\n{\n    char *p;\n    int spos, epos;\n    p = getCurWord(Currentbuf, &spos, &epos);\n    if (p == NULL)\n\treturn;\n    reAnchorWord(Currentbuf, Currentbuf->currentLine, spos, epos);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n#ifdef USE_NNTP\n/* mark Message-ID-like patterns as NEWS anchors */\nvoid\nchkNMIDBuffer(Buffer *buf)\n{\n    static char *url_like_pat[] = {\n\t\"<[!-;=?-~]+@[a-zA-Z0-9\\\\.\\\\-_]+>\",\n\tNULL,\n    };\n    int i;\n    for (i = 0; url_like_pat[i]; i++) {\n\treAnchorNews(buf, url_like_pat[i]);\n    }\n    buf->check_url |= CHK_NMID;\n}\n\nDEFUN(chkNMID, MARK_MID, \"Turn Message-ID-like strings into hyperlinks\")\n{\n    chkNMIDBuffer(Currentbuf);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n#endif\t\t\t\t/* USE_NNTP */\n\n/* render frames */\nDEFUN(rFrame, FRAME, \"Toggle rendering HTML frames\")\n{\n    Buffer *buf;\n\n    if ((buf = Currentbuf->linkBuffer[LB_FRAME]) != NULL) {\n\tCurrentbuf = buf;\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    if (Currentbuf->frameset == NULL) {\n\tif ((buf = Currentbuf->linkBuffer[LB_N_FRAME]) != NULL) {\n\t    Currentbuf = buf;\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t}\n\treturn;\n    }\n    if (fmInitialized) {\n\tmessage(\"Rendering frame\", 0, 0);\n\trefresh();\n    }\n    buf = renderFrame(Currentbuf, 0);\n    if (buf == NULL) {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    buf->linkBuffer[LB_N_FRAME] = Currentbuf;\n    Currentbuf->linkBuffer[LB_FRAME] = buf;\n    pushBuffer(buf);\n    if (fmInitialized && display_ok)\n\tdisplayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\n/* spawn external browser */\nstatic void\ninvoke_browser(char *url)\n{\n    Str cmd;\n    char *browser = NULL;\n    int bg = 0, len;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    browser = searchKeyData();\n    if (browser == NULL || *browser == '\\0') {\n\tswitch (prec_num) {\n\tcase 0:\n\tcase 1:\n\t    browser = ExtBrowser;\n\t    break;\n\tcase 2:\n\t    browser = ExtBrowser2;\n\t    break;\n\tcase 3:\n\t    browser = ExtBrowser3;\n\t    break;\n\tcase 4:\n\t    browser = ExtBrowser4;\n\t    break;\n\tcase 5:\n\t    browser = ExtBrowser5;\n\t    break;\n\tcase 6:\n\t    browser = ExtBrowser6;\n\t    break;\n\tcase 7:\n\t    browser = ExtBrowser7;\n\t    break;\n\tcase 8:\n\t    browser = ExtBrowser8;\n\t    break;\n\tcase 9:\n\t    browser = ExtBrowser9;\n\t    break;\n\t}\n\tif (browser == NULL || *browser == '\\0') {\n\t    browser = inputStr(\"Browse command: \", NULL);\n\t    if (browser != NULL)\n\t\tbrowser = conv_to_system(browser);\n\t}\n    }\n    else {\n\tbrowser = conv_to_system(browser);\n    }\n    if (browser == NULL || *browser == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n\n    if ((len = strlen(browser)) >= 2 && browser[len - 1] == '&' &&\n\tbrowser[len - 2] != '\\\\') {\n\tbrowser = allocStr(browser, len - 2);\n\tbg = 1;\n    }\n    cmd = myExtCommand(browser, shell_quote(url), FALSE);\n    Strremovetrailingspaces(cmd);\n    fmTerm();\n    mySystem(cmd->ptr, bg);\n    fmInit();\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(extbrz, EXTERN, \"Display using an external browser\")\n{\n    if (Currentbuf->bufferprop & BP_INTERNAL) {\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"Can't browse...\", TRUE);\n\treturn;\n    }\n    if (Currentbuf->currentURL.scheme == SCM_LOCAL &&\n\t!strcmp(Currentbuf->currentURL.file, \"-\")) {\n\t/* file is std input */\n\t/* FIXME: gettextize? */\n\tdisp_err_message(\"Can't browse stdin\", TRUE);\n\treturn;\n    }\n    invoke_browser(parsedURL2Str(&Currentbuf->currentURL)->ptr);\n}\n\nDEFUN(linkbrz, EXTERN_LINK, \"Display target using an external browser\")\n{\n    Anchor *a;\n    ParsedURL pu;\n\n    if (Currentbuf->firstLine == NULL)\n\treturn;\n    a = retrieveCurrentAnchor(Currentbuf);\n    if (a == NULL)\n\treturn;\n    parseURL2(a->url, &pu, baseURL(Currentbuf));\n    invoke_browser(parsedURL2Str(&pu)->ptr);\n}\n\n/* show current line number and number of lines in the entire document */\nDEFUN(curlno, LINE_INFO, \"Display current position in document\")\n{\n    Line *l = Currentbuf->currentLine;\n    Str tmp;\n    int cur = 0, all = 0, col = 0, len = 0;\n\n    if (l != NULL) {\n\tcur = l->real_linenumber;\n\tcol = l->bwidth + Currentbuf->currentColumn + Currentbuf->cursorX + 1;\n\twhile (l->next && l->next->bpos)\n\t    l = l->next;\n\tif (l->width < 0)\n\t    l->width = COLPOS(l, l->len);\n\tlen = l->bwidth + l->width;\n    }\n    if (Currentbuf->lastLine)\n\tall = Currentbuf->lastLine->real_linenumber;\n    if (Currentbuf->pagerSource && !(Currentbuf->bufferprop & BP_CLOSE))\n\ttmp = Sprintf(\"line %d col %d/%d\", cur, col, len);\n    else\n\ttmp = Sprintf(\"line %d/%d (%d%%) col %d/%d\", cur, all,\n\t\t      (int)((double)cur * 100.0 / (double)(all ? all : 1)\n\t\t\t    + 0.5), col, len);\n#ifdef USE_M17N\n    Strcat_charp(tmp, \"  \");\n    Strcat_charp(tmp, wc_ces_to_charset_desc(Currentbuf->document_charset));\n#endif\n\n    disp_message(tmp->ptr, FALSE);\n}\n\n#ifdef USE_IMAGE\nDEFUN(dispI, DISPLAY_IMAGE, \"Restart loading and drawing of images\")\n{\n    if (!displayImage)\n\tinitImage();\n    if (!activeImage)\n\treturn;\n    displayImage = TRUE;\n    /*\n     * if (!(Currentbuf->type && is_html_type(Currentbuf->type)))\n     * return;\n     */\n    Currentbuf->image_flag = IMG_FLAG_AUTO;\n    Currentbuf->need_reshape = TRUE;\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n\nDEFUN(stopI, STOP_IMAGE, \"Stop loading and drawing of images\")\n{\n    if (!activeImage)\n\treturn;\n    /*\n     * if (!(Currentbuf->type && is_html_type(Currentbuf->type)))\n     * return;\n     */\n    Currentbuf->image_flag = IMG_FLAG_SKIP;\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n#endif\n\n#ifdef USE_MOUSE\n\nstatic int\nmouse_scroll_line(void)\n{\n    if (relative_wheel_scroll)\n\treturn (relative_wheel_scroll_ratio * LASTLINE + 99) / 100;\n    else\n\treturn fixed_wheel_scroll_count;\n}\n\nstatic TabBuffer *\nposTab(int x, int y)\n{\n    TabBuffer *tab;\n\n    if (mouse_action.menu_str && x < mouse_action.menu_width && y == 0)\n\treturn NO_TABBUFFER;\n    if (y > LastTab->y)\n\treturn NULL;\n    for (tab = FirstTab; tab; tab = tab->nextTab) {\n\tif (tab->x1 <= x && x <= tab->x2 && tab->y == y)\n\t    return tab;\n    }\n    return NULL;\n}\n\nstatic void\ndo_mouse_action(int btn, int x, int y)\n{\n    MouseActionMap *map = NULL;\n    int ny = -1;\n\n    if (nTab > 1 || mouse_action.menu_str)\n\tny = LastTab->y + 1;\n\n    switch (btn) {\n    case MOUSE_BTN1_DOWN:\n\tbtn = 0;\n\tbreak;\n    case MOUSE_BTN2_DOWN:\n\tbtn = 1;\n\tbreak;\n    case MOUSE_BTN3_DOWN:\n\tbtn = 2;\n\tbreak;\n    default:\n\treturn;\n    }\n    if (y < ny) {\n\tif (mouse_action.menu_str && x >= 0 && x < mouse_action.menu_width) {\n\t    if (mouse_action.menu_map[btn])\n\t\tmap = &mouse_action.menu_map[btn][x];\n\t}\n\telse\n\t    map = &mouse_action.tab_map[btn];\n    }\n    else if (y == LASTLINE) {\n\tif (mouse_action.lastline_str && x >= 0 &&\n\t    x < mouse_action.lastline_width) {\n\t    if (mouse_action.lastline_map[btn])\n\t\tmap = &mouse_action.lastline_map[btn][x];\n\t}\n    }\n    else if (y > ny) {\n\tif (y == Currentbuf->cursorY + Currentbuf->rootY &&\n\t    (x == Currentbuf->cursorX + Currentbuf->rootX\n#ifdef USE_M17N\n\t     || (WcOption.use_wide && Currentbuf->currentLine != NULL &&\n\t\t (CharType(Currentbuf->currentLine->propBuf[Currentbuf->pos])\n\t\t  == PC_KANJI1)\n\t\t && x == Currentbuf->cursorX + Currentbuf->rootX + 1)\n#endif\n\t    )) {\n\t    if (retrieveCurrentAnchor(Currentbuf) ||\n\t\tretrieveCurrentForm(Currentbuf)) {\n\t\tmap = &mouse_action.active_map[btn];\n\t\tif (!(map && map->func))\n\t\t    map = &mouse_action.anchor_map[btn];\n\t    }\n\t}\n\telse {\n\t    int cx = Currentbuf->cursorX, cy = Currentbuf->cursorY;\n\t    cursorXY(Currentbuf, x - Currentbuf->rootX, y - Currentbuf->rootY);\n\t    if (y == Currentbuf->cursorY + Currentbuf->rootY &&\n\t\t(x == Currentbuf->cursorX + Currentbuf->rootX\n#ifdef USE_M17N\n\t\t || (WcOption.use_wide && Currentbuf->currentLine != NULL &&\n\t\t     (CharType(Currentbuf->currentLine->\n\t\t\t       propBuf[Currentbuf->pos]) == PC_KANJI1)\n\t\t     && x == Currentbuf->cursorX + Currentbuf->rootX + 1)\n#endif\n\t\t) &&\n\t\t(retrieveCurrentAnchor(Currentbuf) ||\n\t\t retrieveCurrentForm(Currentbuf)))\n\t\tmap = &mouse_action.anchor_map[btn];\n\t    cursorXY(Currentbuf, cx, cy);\n\t}\n    }\n    else {\n\treturn;\n    }\n    if (!(map && map->func))\n\tmap = &mouse_action.default_map[btn];\n    if (map && map->func) {\n\tmouse_action.in_action = TRUE;\n\tmouse_action.cursorX = x;\n\tmouse_action.cursorY = y;\n\tCurrentKey = -1;\n\tCurrentKeyData = NULL;\n\tCurrentCmdData = map->data;\n\t(*map->func) ();\n\tCurrentCmdData = NULL;\n    }\n}\n\nstatic void\nprocess_mouse(int btn, int x, int y)\n{\n    int delta_x, delta_y, i;\n    static int press_btn = MOUSE_BTN_RESET, press_x, press_y;\n    TabBuffer *t;\n    int ny = -1;\n\n    if (nTab > 1 || mouse_action.menu_str)\n\tny = LastTab->y + 1;\n    if (btn == MOUSE_BTN_UP) {\n\tswitch (press_btn) {\n\tcase MOUSE_BTN1_DOWN:\n\t    if (press_y == y && press_x == x)\n\t\tdo_mouse_action(press_btn, x, y);\n\t    else if (ny > 0 && y < ny) {\n\t\tif (press_y < ny) {\n\t\t    moveTab(posTab(press_x, press_y), posTab(x, y),\n\t\t\t    (press_y == y) ? (press_x < x) : (press_y < y));\n\t\t    return;\n\t\t}\n\t\telse if (press_x >= Currentbuf->rootX) {\n\t\t    Buffer *buf = Currentbuf;\n\t\t    int cx = Currentbuf->cursorX, cy = Currentbuf->cursorY;\n\n\t\t    t = posTab(x, y);\n\t\t    if (t == NULL)\n\t\t\treturn;\n\t\t    if (t == NO_TABBUFFER)\n\t\t\tt = NULL;\t/* open new tab */\n\t\t    cursorXY(Currentbuf, press_x - Currentbuf->rootX,\n\t\t\t     press_y - Currentbuf->rootY);\n\t\t    if (Currentbuf->cursorY == press_y - Currentbuf->rootY &&\n\t\t\t(Currentbuf->cursorX == press_x - Currentbuf->rootX\n#ifdef USE_M17N\n\t\t\t || (WcOption.use_wide &&\n\t\t\t     Currentbuf->currentLine != NULL &&\n\t\t\t     (CharType(Currentbuf->currentLine->\n\t\t\t\t       propBuf[Currentbuf->pos]) == PC_KANJI1)\n\t\t\t     && Currentbuf->cursorX == press_x\n\t\t\t     - Currentbuf->rootX - 1)\n#endif\n\t\t\t)) {\n\t\t\tdisplayBuffer(Currentbuf, B_NORMAL);\n\t\t\tfollowTab(t);\n\t\t    }\n\t\t    if (buf == Currentbuf)\n\t\t\tcursorXY(Currentbuf, cx, cy);\n\t\t}\n\t\treturn;\n\t    }\n\t    else {\n\t\tdelta_x = x - press_x;\n\t\tdelta_y = y - press_y;\n\n\t\tif (abs(delta_x) < abs(delta_y) / 3)\n\t\t    delta_x = 0;\n\t\tif (abs(delta_y) < abs(delta_x) / 3)\n\t\t    delta_y = 0;\n\t\tif (reverse_mouse) {\n\t\t    delta_y = -delta_y;\n\t\t    delta_x = -delta_x;\n\t\t}\n\t\tif (delta_y > 0) {\n\t\t    prec_num = delta_y;\n\t\t    ldown1();\n\t\t}\n\t\telse if (delta_y < 0) {\n\t\t    prec_num = -delta_y;\n\t\t    lup1();\n\t\t}\n\t\tif (delta_x > 0) {\n\t\t    prec_num = delta_x;\n\t\t    col1L();\n\t\t}\n\t\telse if (delta_x < 0) {\n\t\t    prec_num = -delta_x;\n\t\t    col1R();\n\t\t}\n\t    }\n\t    break;\n\tcase MOUSE_BTN2_DOWN:\n\tcase MOUSE_BTN3_DOWN:\n\t    if (press_y == y && press_x == x)\n\t\tdo_mouse_action(press_btn, x, y);\n\t    break;\n\tcase MOUSE_BTN4_DOWN_RXVT:\n\t    for (i = 0; i < mouse_scroll_line(); i++)\n\t\tldown1();\n\t    break;\n\tcase MOUSE_BTN5_DOWN_RXVT:\n\t    for (i = 0; i < mouse_scroll_line(); i++)\n\t\tlup1();\n\t    break;\n\t}\n    }\n    else if (btn == MOUSE_BTN4_DOWN_XTERM) {\n\tfor (i = 0; i < mouse_scroll_line(); i++)\n\t    ldown1();\n    }\n    else if (btn == MOUSE_BTN5_DOWN_XTERM) {\n\tfor (i = 0; i < mouse_scroll_line(); i++)\n\t    lup1();\n    }\n\n    if (btn != MOUSE_BTN4_DOWN_RXVT || press_btn == MOUSE_BTN_RESET) {\n\tpress_btn = btn;\n\tpress_x = x;\n\tpress_y = y;\n    }\n    else {\n\tpress_btn = MOUSE_BTN_RESET;\n    }\n}\n\nDEFUN(msToggle, MOUSE_TOGGLE, \"Toggle mouse support\")\n{\n    if (use_mouse) {\n\tuse_mouse = FALSE;\n    }\n    else {\n\tuse_mouse = TRUE;\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(mouse, MOUSE, \"mouse operation\")\n{\n    int btn, x, y;\n\n    btn = (unsigned char)getch() - 32;\n#if defined(__CYGWIN__) && CYGWIN_VERSION_DLL_MAJOR < 1005\n    if (cygwin_mouse_btn_swapped) {\n\tif (btn == MOUSE_BTN2_DOWN)\n\t    btn = MOUSE_BTN3_DOWN;\n\telse if (btn == MOUSE_BTN3_DOWN)\n\t    btn = MOUSE_BTN2_DOWN;\n    }\n#endif\n    x = (unsigned char)getch() - 33;\n    if (x < 0)\n\tx += 0x100;\n    y = (unsigned char)getch() - 33;\n    if (y < 0)\n\ty += 0x100;\n\n    if (x < 0 || x >= COLS || y < 0 || y > LASTLINE)\n\treturn;\n    process_mouse(btn, x, y);\n}\n\nDEFUN(sgrmouse, SGRMOUSE, \"SGR 1006 mouse operation\")\n{\n    int btn = 0, x = 0, y = 0;\n    unsigned char c;\n\n    do {\n\tc = getch();\n\tif (IS_DIGIT(c))\n\t    btn = btn * 10 + c - '0';\n\telse if (c == ';')\n\t    break;\n\telse\n\t    return;\n    } while (1);\n\n#if defined(__CYGWIN__) && CYGWIN_VERSION_DLL_MAJOR < 1005\n    if (cygwin_mouse_btn_swapped) {\n\tif (btn == MOUSE_BTN2_DOWN)\n\t    btn = MOUSE_BTN3_DOWN;\n\telse if (btn == MOUSE_BTN3_DOWN)\n\t    btn = MOUSE_BTN2_DOWN;\n    };\n#endif\n\n    do {\n\tc = getch();\n\tif (IS_DIGIT(c))\n\t    x = x * 10 + c - '0';\n\telse if (c == ';')\n\t    break;\n\telse\n\t  return;\n    } while (1);\n    if (x>0) x--;\n\n    do {\n\tc = getch();\n\tif (IS_DIGIT(c))\n\t    y = y * 10 + c - '0';\n\telse if (c == 'M')\n\t    break;\n\telse if (c == 'm') {\n\t    btn |= 3;\n\t    break;\n\t} else\n    return;\n    } while (1);\n    if (y>0) y--;\n\n    if (x < 0 || x >= COLS || y < 0 || y > LASTLINE)\n\treturn;\n    process_mouse(btn, x, y);\n}\n\n#ifdef USE_GPM\nint\ngpm_process_mouse(Gpm_Event * event, void *data)\n{\n    int btn = MOUSE_BTN_RESET, x, y;\n    if (event->type & GPM_UP)\n\tbtn = MOUSE_BTN_UP;\n    else if (event->type & GPM_DOWN) {\n\tswitch (event->buttons) {\n\tcase GPM_B_LEFT:\n\t    btn = MOUSE_BTN1_DOWN;\n\t    break;\n\tcase GPM_B_MIDDLE:\n\t    btn = MOUSE_BTN2_DOWN;\n\t    break;\n\tcase GPM_B_RIGHT:\n\t    btn = MOUSE_BTN3_DOWN;\n\t    break;\n\t}\n    }\n    else {\n\tGPM_DRAWPOINTER(event);\n\treturn 0;\n    }\n    x = event->x;\n    y = event->y;\n    process_mouse(btn, x - 1, y - 1);\n    return 0;\n}\n#endif\t\t\t\t/* USE_GPM */\n\n#ifdef USE_SYSMOUSE\nint\nsysm_process_mouse(int x, int y, int nbs, int obs)\n{\n    int btn;\n    int bits;\n\n    if (obs & ~nbs)\n\tbtn = MOUSE_BTN_UP;\n    else if (nbs & ~obs) {\n\tbits = nbs & ~obs;\n\tbtn = bits & 0x1 ? MOUSE_BTN1_DOWN :\n\t    (bits & 0x2 ? MOUSE_BTN2_DOWN :\n\t     (bits & 0x4 ? MOUSE_BTN3_DOWN : 0));\n    }\n    else\t\t\t/* nbs == obs */\n\treturn 0;\n    process_mouse(btn, x, y);\n    return 0;\n}\n#endif\t\t\t\t/* USE_SYSMOUSE */\n\nDEFUN(movMs, MOVE_MOUSE, \"Move cursor to mouse pointer\")\n{\n    if (!mouse_action.in_action)\n\treturn;\n    if ((nTab > 1 || mouse_action.menu_str) &&\n\tmouse_action.cursorY < LastTab->y + 1)\n\treturn;\n    else if (mouse_action.cursorX >= Currentbuf->rootX &&\n\t     mouse_action.cursorY < LASTLINE) {\n\tcursorXY(Currentbuf, mouse_action.cursorX - Currentbuf->rootX,\n\t\t mouse_action.cursorY - Currentbuf->rootY);\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n#ifdef USE_MENU\n#ifdef KANJI_SYMBOLS\n#define FRAME_WIDTH 2\n#else\n#define FRAME_WIDTH 1\n#endif\n\nDEFUN(menuMs, MENU_MOUSE, \"Pop up menu at mouse pointer\")\n{\n    if (!mouse_action.in_action)\n\treturn;\n    if ((nTab > 1 || mouse_action.menu_str) &&\n\tmouse_action.cursorY < LastTab->y + 1)\n\tmouse_action.cursorX -= FRAME_WIDTH + 1;\n    else if (mouse_action.cursorX >= Currentbuf->rootX &&\n\t     mouse_action.cursorY < LASTLINE) {\n\tcursorXY(Currentbuf, mouse_action.cursorX - Currentbuf->rootX,\n\t\t mouse_action.cursorY - Currentbuf->rootY);\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n    }\n    mainMn();\n}\n#endif\n\nDEFUN(tabMs, TAB_MOUSE, \"Select tab by mouse action\")\n{\n    TabBuffer *tab;\n\n    if (!mouse_action.in_action)\n\treturn;\n    tab = posTab(mouse_action.cursorX, mouse_action.cursorY);\n    if (!tab || tab == NO_TABBUFFER)\n\treturn;\n    CurrentTab = tab;\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(closeTMs, CLOSE_TAB_MOUSE, \"Close tab at mouse pointer\")\n{\n    TabBuffer *tab;\n\n    if (!mouse_action.in_action)\n\treturn;\n    tab = posTab(mouse_action.cursorX, mouse_action.cursorY);\n    if (!tab || tab == NO_TABBUFFER)\n\treturn;\n    deleteTab(tab);\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n#endif\t\t\t\t/* USE_MOUSE */\n\nDEFUN(dispVer, VERSION, \"Display the version of w3m\")\n{\n    disp_message(Sprintf(\"w3m version %s\", w3m_version)->ptr, TRUE);\n}\n\nDEFUN(wrapToggle, WRAP_TOGGLE, \"Toggle wrapping mode in searches\")\n{\n    if (WrapSearch) {\n\tWrapSearch = FALSE;\n\t/* FIXME: gettextize? */\n\tdisp_message(\"Wrap search off\", TRUE);\n    }\n    else {\n\tWrapSearch = TRUE;\n\t/* FIXME: gettextize? */\n\tdisp_message(\"Wrap search on\", TRUE);\n    }\n}\n\nstatic char *\ngetCurWord(Buffer *buf, int *spos, int *epos)\n{\n    char *p;\n    Line *l = buf->currentLine;\n    int b, e;\n\n    *spos = 0;\n    *epos = 0;\n    if (l == NULL)\n\treturn NULL;\n    p = l->lineBuf;\n    e = buf->pos;\n    while (e > 0 && !is_wordchar(getChar(&p[e])))\n\tprevChar(e, l);\n    if (!is_wordchar(getChar(&p[e])))\n\treturn NULL;\n    b = e;\n    while (b > 0) {\n\tint tmp = b;\n\tprevChar(tmp, l);\n\tif (!is_wordchar(getChar(&p[tmp])))\n\t    break;\n\tb = tmp;\n    }\n    while (e < l->len && is_wordchar(getChar(&p[e])))\n\tnextChar(e, l);\n    *spos = b;\n    *epos = e;\n    return &p[b];\n}\n\nstatic char *\nGetWord(Buffer *buf)\n{\n    int b, e;\n    char *p;\n\n    if ((p = getCurWord(buf, &b, &e)) != NULL) {\n\treturn Strnew_charp_n(p, e - b)->ptr;\n    }\n    return NULL;\n}\n\n#ifdef USE_DICT\nstatic void\nexecdict(char *word)\n{\n    char *w, *dictcmd;\n    Buffer *buf;\n\n    if (!UseDictCommand || word == NULL || *word == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    w = conv_to_system(word);\n    if (*w == '\\0') {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    dictcmd = Sprintf(\"%s?%s\", DictCommand,\n\t\t      Str_form_quote(Strnew_charp(w))->ptr)->ptr;\n    buf = loadGeneralFile(dictcmd, NULL, NO_REFERER, 0, NULL);\n    if (buf == NULL) {\n\tdisp_message(\"Execution failed\", TRUE);\n\treturn;\n    }\n    else if (buf != NO_BUFFER) {\n\tbuf->filename = w;\n\tbuf->buffername = Sprintf(\"%s %s\", DICTBUFFERNAME, word)->ptr;\n\tif (buf->type == NULL)\n\t    buf->type = \"text/plain\";\n\tpushBuffer(buf);\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(dictword, DICT_WORD, \"Execute dictionary command (see README.dict)\")\n{\n    execdict(inputStr(\"(dictionary)!\", \"\"));\n}\n\nDEFUN(dictwordat, DICT_WORD_AT,\n      \"Execute dictionary command for word at cursor\")\n{\n    execdict(GetWord(Currentbuf));\n}\n#endif\t\t\t\t/* USE_DICT */\n\nvoid\nset_buffer_environ(Buffer *buf)\n{\n    static Buffer *prev_buf = NULL;\n    static Line *prev_line = NULL;\n    static int prev_pos = -1;\n    Line *l;\n\n    if (buf == NULL)\n\treturn;\n    if (buf != prev_buf) {\n\tset_environ(\"W3M_SOURCEFILE\", buf->sourcefile);\n\tset_environ(\"W3M_FILENAME\", buf->filename);\n\tset_environ(\"W3M_TITLE\", buf->buffername);\n\tset_environ(\"W3M_URL\", parsedURL2Str(&buf->currentURL)->ptr);\n\tset_environ(\"W3M_TYPE\", buf->real_type ? buf->real_type : \"unknown\");\n#ifdef USE_M17N\n\tset_environ(\"W3M_CHARSET\", wc_ces_to_charset(buf->document_charset));\n#endif\n    }\n    l = buf->currentLine;\n    if (l && (buf != prev_buf || l != prev_line || buf->pos != prev_pos)) {\n\tAnchor *a;\n\tParsedURL pu;\n\tchar *s = GetWord(buf);\n\tset_environ(\"W3M_CURRENT_WORD\", s ? s : \"\");\n\ta = retrieveCurrentAnchor(buf);\n\tif (a) {\n\t    parseURL2(a->url, &pu, baseURL(buf));\n\t    set_environ(\"W3M_CURRENT_LINK\", parsedURL2Str(&pu)->ptr);\n\t}\n\telse\n\t    set_environ(\"W3M_CURRENT_LINK\", \"\");\n\ta = retrieveCurrentImg(buf);\n\tif (a) {\n\t    parseURL2(a->url, &pu, baseURL(buf));\n\t    set_environ(\"W3M_CURRENT_IMG\", parsedURL2Str(&pu)->ptr);\n\t}\n\telse\n\t    set_environ(\"W3M_CURRENT_IMG\", \"\");\n\ta = retrieveCurrentForm(buf);\n\tif (a)\n\t    set_environ(\"W3M_CURRENT_FORM\", form2str((FormItemList *)a->url));\n\telse\n\t    set_environ(\"W3M_CURRENT_FORM\", \"\");\n\tset_environ(\"W3M_CURRENT_LINE\", Sprintf(\"%ld\",\n\t\t\t\t\t\tl->real_linenumber)->ptr);\n\tset_environ(\"W3M_CURRENT_COLUMN\", Sprintf(\"%d\",\n\t\t\t\t\t\t  buf->currentColumn +\n\t\t\t\t\t\t  buf->cursorX + 1)->ptr);\n    }\n    else if (!l) {\n\tset_environ(\"W3M_CURRENT_WORD\", \"\");\n\tset_environ(\"W3M_CURRENT_LINK\", \"\");\n\tset_environ(\"W3M_CURRENT_IMG\", \"\");\n\tset_environ(\"W3M_CURRENT_FORM\", \"\");\n\tset_environ(\"W3M_CURRENT_LINE\", \"0\");\n\tset_environ(\"W3M_CURRENT_COLUMN\", \"0\");\n    }\n    prev_buf = buf;\n    prev_line = l;\n    prev_pos = buf->pos;\n}\n\nchar *\nsearchKeyData(void)\n{\n    char *data = NULL;\n\n    if (CurrentKeyData != NULL && *CurrentKeyData != '\\0')\n\tdata = CurrentKeyData;\n    else if (CurrentCmdData != NULL && *CurrentCmdData != '\\0')\n\tdata = CurrentCmdData;\n    else if (CurrentKey >= 0)\n\tdata = getKeyData(CurrentKey);\n    CurrentKeyData = NULL;\n    CurrentCmdData = NULL;\n    if (data == NULL || *data == '\\0')\n\treturn NULL;\n    return allocStr(data, -1);\n}\n\nstatic int\nsearchKeyNum(void)\n{\n    char *d;\n    int n = 1;\n\n    d = searchKeyData();\n    if (d != NULL)\n\tn = atoi(d);\n    return n * PREC_NUM;\n}\n\n#ifdef __EMX__\n#ifdef USE_M17N\nstatic char *\ngetCodePage(void)\n{\n    unsigned long CpList[8], CpSize;\n\n    if (!getenv(\"WINDOWID\") && !DosQueryCp(sizeof(CpList), CpList, &CpSize))\n\treturn Sprintf(\"CP%d\", *CpList)->ptr;\n    return NULL;\n}\n#endif\n#endif\n\nvoid\ndeleteFiles()\n{\n    Buffer *buf;\n    char *f;\n\n    for (CurrentTab = FirstTab; CurrentTab; CurrentTab = CurrentTab->nextTab) {\n\twhile (Firstbuf && Firstbuf != NO_BUFFER) {\n\t    buf = Firstbuf->nextBuffer;\n\t    discardBuffer(Firstbuf);\n\t    Firstbuf = buf;\n\t}\n    }\n    while ((f = popText(fileToDelete)) != NULL) {\n\tunlink(f);\n\tif (enable_inline_image == 2 && strcmp(f+strlen(f)-4, \".gif\") == 0) {\n\t    Str firstframe = Strnew_charp(f);\n\t    Strcat_charp(firstframe, \"-1\");\n\t    unlink(firstframe->ptr);\n        }\n    }\n}\n\nvoid\nw3m_exit(int i)\n{\n#ifdef USE_MIGEMO\n    init_migemo();\t\t/* close pipe to migemo */\n#endif\n    stopDownload();\n    deleteFiles();\n#ifdef USE_SSL\n    free_ssl_ctx();\n#endif\n    disconnectFTP();\n#ifdef USE_NNTP\n    disconnectNews();\n#endif\n#ifdef __MINGW32_VERSION\n    WSACleanup();\n#endif\n#ifdef HAVE_MKDTEMP\n    if (no_rc_dir && tmp_dir != rc_dir)\n\tif (rmdir(tmp_dir) != 0) {\n\t    fprintf(stderr, \"Can't remove temporary directory (%s)!\\n\", tmp_dir);\n\t    exit(1);\n\t}\n#endif\n    exit(i);\n}\n\nDEFUN(execCmd, COMMAND, \"Invoke w3m function(s)\")\n{\n    char *data, *p;\n    int cmd;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    data = searchKeyData();\n    if (data == NULL || *data == '\\0') {\n\tdata = inputStrHist(\"command [; ...]: \", \"\", TextHist);\n\tif (data == NULL) {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    /* data: FUNC [DATA] [; FUNC [DATA] ...] */\n    while (*data) {\n\tSKIP_BLANKS(data);\n\tif (*data == ';') {\n\t    data++;\n\t    continue;\n\t}\n\tp = getWord(&data);\n\tcmd = getFuncList(p);\n\tif (cmd < 0)\n\t    break;\n\tp = getQWord(&data);\n\tCurrentKey = -1;\n\tCurrentKeyData = NULL;\n\tCurrentCmdData = *p ? p : NULL;\n#ifdef USE_MOUSE\n\tif (use_mouse)\n\t    mouse_inactive();\n#endif\n\tw3mFuncList[cmd].func();\n#ifdef USE_MOUSE\n\tif (use_mouse)\n\t    mouse_active();\n#endif\n\tCurrentCmdData = NULL;\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\n#ifdef USE_ALARM\nstatic MySignalHandler\nSigAlarm(SIGNAL_ARG)\n{\n    char *data;\n\n    if (CurrentAlarm->sec > 0) {\n\tCurrentKey = -1;\n\tCurrentKeyData = NULL;\n\tCurrentCmdData = data = (char *)CurrentAlarm->data;\n#ifdef USE_MOUSE\n\tif (use_mouse)\n\t    mouse_inactive();\n#endif\n\tw3mFuncList[CurrentAlarm->cmd].func();\n#ifdef USE_MOUSE\n\tif (use_mouse)\n\t    mouse_active();\n#endif\n\tCurrentCmdData = NULL;\n\tif (CurrentAlarm->status == AL_IMPLICIT_ONCE) {\n\t    CurrentAlarm->sec = 0;\n\t    CurrentAlarm->status = AL_UNSET;\n\t}\n\tif (Currentbuf->event) {\n\t    if (Currentbuf->event->status != AL_UNSET)\n\t\tCurrentAlarm = Currentbuf->event;\n\t    else\n\t\tCurrentbuf->event = NULL;\n\t}\n\tif (!Currentbuf->event)\n\t    CurrentAlarm = &DefaultAlarm;\n\tif (CurrentAlarm->sec > 0) {\n\t    mySignal(SIGALRM, SigAlarm);\n\t    alarm(CurrentAlarm->sec);\n\t}\n    }\n    SIGNAL_RETURN;\n}\n\n\nDEFUN(setAlarm, ALARM, \"Set alarm\")\n{\n    char *data;\n    int sec = 0, cmd = -1;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    data = searchKeyData();\n    if (data == NULL || *data == '\\0') {\n\tdata = inputStrHist(\"(Alarm)sec command: \", \"\", TextHist);\n\tif (data == NULL) {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    if (*data != '\\0') {\n\tsec = atoi(getWord(&data));\n\tif (sec > 0)\n\t    cmd = getFuncList(getWord(&data));\n    }\n    if (cmd >= 0) {\n\tdata = getQWord(&data);\n\tsetAlarmEvent(&DefaultAlarm, sec, AL_EXPLICIT, cmd, data);\n\tdisp_message_nsec(Sprintf(\"%dsec %s %s\", sec, w3mFuncList[cmd].id,\n\t\t\t\t  data)->ptr, FALSE, 1, FALSE, TRUE);\n    }\n    else {\n\tsetAlarmEvent(&DefaultAlarm, 0, AL_UNSET, FUNCNAME_nulcmd, NULL);\n    }\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nAlarmEvent *\nsetAlarmEvent(AlarmEvent * event, int sec, short status, int cmd, void *data)\n{\n    if (event == NULL)\n\tevent = New(AlarmEvent);\n    event->sec = sec;\n    event->status = status;\n    event->cmd = cmd;\n    event->data = data;\n    return event;\n}\n#endif\n\nDEFUN(reinit, REINIT, \"Reload configuration file\")\n{\n    char *resource = searchKeyData();\n\n    if (resource == NULL) {\n\tinit_rc();\n\tsync_with_option();\n#ifdef USE_COOKIE\n\tinitCookie();\n#endif\n\tdisplayBuffer(Currentbuf, B_REDRAW_IMAGE);\n\treturn;\n    }\n\n    if (!strcasecmp(resource, \"CONFIG\") || !strcasecmp(resource, \"RC\")) {\n\tinit_rc();\n\tsync_with_option();\n\tdisplayBuffer(Currentbuf, B_REDRAW_IMAGE);\n\treturn;\n    }\n\n#ifdef USE_COOKIE\n    if (!strcasecmp(resource, \"COOKIE\")) {\n\tinitCookie();\n\treturn;\n    }\n#endif\n\n    if (!strcasecmp(resource, \"KEYMAP\")) {\n\tinitKeymap(TRUE);\n\treturn;\n    }\n\n    if (!strcasecmp(resource, \"MAILCAP\")) {\n\tinitMailcap();\n\treturn;\n    }\n\n#ifdef USE_MOUSE\n    if (!strcasecmp(resource, \"MOUSE\")) {\n\tinitMouseAction();\n\tdisplayBuffer(Currentbuf, B_REDRAW_IMAGE);\n\treturn;\n    }\n#endif\n\n#ifdef USE_MENU\n    if (!strcasecmp(resource, \"MENU\")) {\n\tinitMenu();\n\treturn;\n    }\n#endif\n\n    if (!strcasecmp(resource, \"MIMETYPES\")) {\n\tinitMimeTypes();\n\treturn;\n    }\n\n#ifdef USE_EXTERNAL_URI_LOADER\n    if (!strcasecmp(resource, \"URIMETHODS\")) {\n\tinitURIMethods();\n\treturn;\n    }\n#endif\n\n    disp_err_message(Sprintf(\"Don't know how to reinitialize '%s'\", resource)->\n\t\t     ptr, FALSE);\n}\n\nDEFUN(defKey, DEFINE_KEY, \"Define a binding between a key stroke combination and a command\")\n{\n    char *data;\n\n    CurrentKeyData = NULL;\t/* not allowed in w3m-control: */\n    data = searchKeyData();\n    if (data == NULL || *data == '\\0') {\n\tdata = inputStrHist(\"Key definition: \", \"\", TextHist);\n\tif (data == NULL || *data == '\\0') {\n\t    displayBuffer(Currentbuf, B_NORMAL);\n\t    return;\n\t}\n    }\n    setKeymap(allocStr(data, -1), -1, TRUE);\n    displayBuffer(Currentbuf, B_NORMAL);\n}\n\nTabBuffer *\nnewTab(void)\n{\n    TabBuffer *n;\n\n    n = New(TabBuffer);\n    if (n == NULL)\n\treturn NULL;\n    n->nextTab = NULL;\n    n->currentBuffer = NULL;\n    n->firstBuffer = NULL;\n    return n;\n}\n\nstatic void\n_newT(void)\n{\n    TabBuffer *tag;\n    Buffer *buf;\n    int i;\n\n    tag = newTab();\n    if (!tag)\n\treturn;\n\n    buf = newBuffer(Currentbuf->width);\n    copyBuffer(buf, Currentbuf);\n    buf->nextBuffer = NULL;\n    for (i = 0; i < MAX_LB; i++)\n\tbuf->linkBuffer[i] = NULL;\n    (*buf->clone)++;\n    tag->firstBuffer = tag->currentBuffer = buf;\n\n    tag->nextTab = CurrentTab->nextTab;\n    tag->prevTab = CurrentTab;\n    if (CurrentTab->nextTab)\n\tCurrentTab->nextTab->prevTab = tag;\n    else\n\tLastTab = tag;\n    CurrentTab->nextTab = tag;\n    CurrentTab = tag;\n    nTab++;\n}\n\nDEFUN(newT, NEW_TAB, \"Open a new tab (with current document)\")\n{\n    _newT();\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n\nstatic TabBuffer *\nnumTab(int n)\n{\n    TabBuffer *tab;\n    int i;\n\n    if (n == 0)\n\treturn CurrentTab;\n    if (n == 1)\n\treturn FirstTab;\n    if (nTab <= 1)\n\treturn NULL;\n    for (tab = FirstTab, i = 1; tab && i < n; tab = tab->nextTab, i++) ;\n    return tab;\n}\n\nvoid\ncalcTabPos(void)\n{\n    TabBuffer *tab;\n#if 0\n    int lcol = 0, rcol = 2, col;\n#else\n    int lcol = 0, rcol = 0, col;\n#endif\n    int n1, n2, na, nx, ny, ix, iy;\n\n#ifdef USE_MOUSE\n    lcol = mouse_action.menu_str ? mouse_action.menu_width : 0;\n#endif\n\n    if (nTab <= 0)\n\treturn;\n    n1 = (COLS - rcol - lcol) / TabCols;\n    if (n1 >= nTab) {\n\tn2 = 1;\n\tny = 1;\n    }\n    else {\n\tif (n1 < 0)\n\t    n1 = 0;\n\tn2 = COLS / TabCols;\n\tif (n2 == 0)\n\t    n2 = 1;\n\tny = (nTab - n1 - 1) / n2 + 2;\n    }\n    na = n1 + n2 * (ny - 1);\n    n1 -= (na - nTab) / ny;\n    if (n1 < 0)\n\tn1 = 0;\n    na = n1 + n2 * (ny - 1);\n    tab = FirstTab;\n    for (iy = 0; iy < ny && tab; iy++) {\n\tif (iy == 0) {\n\t    nx = n1;\n\t    col = COLS - rcol - lcol;\n\t}\n\telse {\n\t    nx = n2 - (na - nTab + (iy - 1)) / (ny - 1);\n\t    col = COLS;\n\t}\n\tfor (ix = 0; ix < nx && tab; ix++, tab = tab->nextTab) {\n\t    tab->x1 = col * ix / nx;\n\t    tab->x2 = col * (ix + 1) / nx - 1;\n\t    tab->y = iy;\n\t    if (iy == 0) {\n\t\ttab->x1 += lcol;\n\t\ttab->x2 += lcol;\n\t    }\n\t}\n    }\n}\n\nTabBuffer *\ndeleteTab(TabBuffer * tab)\n{\n    Buffer *buf, *next;\n\n    if (nTab <= 1)\n\treturn FirstTab;\n    if (tab->prevTab) {\n\tif (tab->nextTab)\n\t    tab->nextTab->prevTab = tab->prevTab;\n\telse\n\t    LastTab = tab->prevTab;\n\ttab->prevTab->nextTab = tab->nextTab;\n\tif (tab == CurrentTab)\n\t    CurrentTab = tab->prevTab;\n    }\n    else {\t\t\t/* tab == FirstTab */\n\ttab->nextTab->prevTab = NULL;\n\tFirstTab = tab->nextTab;\n\tif (tab == CurrentTab)\n\t    CurrentTab = tab->nextTab;\n    }\n    nTab--;\n    buf = tab->firstBuffer;\n    while (buf && buf != NO_BUFFER) {\n\tnext = buf->nextBuffer;\n\tdiscardBuffer(buf);\n\tbuf = next;\n    }\n    return FirstTab;\n}\n\nDEFUN(closeT, CLOSE_TAB, \"Close tab\")\n{\n    TabBuffer *tab;\n\n    if (nTab <= 1)\n\treturn;\n    if (prec_num)\n\ttab = numTab(PREC_NUM);\n    else\n\ttab = CurrentTab;\n    if (tab)\n\tdeleteTab(tab);\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n\nDEFUN(nextT, NEXT_TAB, \"Switch to the next tab\")\n{\n    int i;\n\n    if (nTab <= 1)\n\treturn;\n    for (i = 0; i < PREC_NUM; i++) {\n\tif (CurrentTab->nextTab)\n\t    CurrentTab = CurrentTab->nextTab;\n\telse\n\t    CurrentTab = FirstTab;\n    }\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n\nDEFUN(prevT, PREV_TAB, \"Switch to the previous tab\")\n{\n    int i;\n\n    if (nTab <= 1)\n\treturn;\n    for (i = 0; i < PREC_NUM; i++) {\n\tif (CurrentTab->prevTab)\n\t    CurrentTab = CurrentTab->prevTab;\n\telse\n\t    CurrentTab = LastTab;\n    }\n    displayBuffer(Currentbuf, B_REDRAW_IMAGE);\n}\n\nstatic void\nfollowTab(TabBuffer * tab)\n{\n    Buffer *buf;\n    Anchor *a;\n\n#ifdef USE_IMAGE\n    a = retrieveCurrentImg(Currentbuf);\n    if (!(a && a->image && a->image->map))\n#endif\n\ta = retrieveCurrentAnchor(Currentbuf);\n    if (a == NULL)\n\treturn;\n\n    if (tab == CurrentTab) {\n\tcheck_target = FALSE;\n\tfollowA();\n\tcheck_target = TRUE;\n\treturn;\n    }\n    _newT();\n    buf = Currentbuf;\n    check_target = FALSE;\n    followA();\n    check_target = TRUE;\n    if (tab == NULL) {\n\tif (buf != Currentbuf)\n\t    delBuffer(buf);\n\telse\n\t    deleteTab(CurrentTab);\n    }\n    else if (buf != Currentbuf) {\n\t/* buf <- p <- ... <- Currentbuf = c */\n\tBuffer *c, *p;\n\n\tc = Currentbuf;\n\tp = prevBuffer(c, buf);\n\tp->nextBuffer = NULL;\n\tFirstbuf = buf;\n\tdeleteTab(CurrentTab);\n\tCurrentTab = tab;\n\tfor (buf = p; buf; buf = p) {\n\t    p = prevBuffer(c, buf);\n\t    pushBuffer(buf);\n\t}\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(tabA, TAB_LINK, \"Follow current hyperlink in a new tab\")\n{\n    followTab(prec_num ? numTab(PREC_NUM) : NULL);\n}\n\nstatic void\ntabURL0(TabBuffer * tab, char *prompt, int relative)\n{\n    Buffer *buf;\n\n    if (tab == CurrentTab) {\n\tgoURL0(prompt, relative);\n\treturn;\n    }\n    _newT();\n    buf = Currentbuf;\n    goURL0(prompt, relative);\n    if (tab == NULL) {\n\tif (buf != Currentbuf)\n\t    delBuffer(buf);\n\telse\n\t    deleteTab(CurrentTab);\n    }\n    else if (buf != Currentbuf) {\n\t/* buf <- p <- ... <- Currentbuf = c */\n\tBuffer *c, *p;\n\n\tc = Currentbuf;\n\tp = prevBuffer(c, buf);\n\tp->nextBuffer = NULL;\n\tFirstbuf = buf;\n\tdeleteTab(CurrentTab);\n\tCurrentTab = tab;\n\tfor (buf = p; buf; buf = p) {\n\t    p = prevBuffer(c, buf);\n\t    pushBuffer(buf);\n\t}\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(tabURL, TAB_GOTO, \"Open specified document in a new tab\")\n{\n    tabURL0(prec_num ? numTab(PREC_NUM) : NULL,\n\t    \"Goto URL on new tab: \", FALSE);\n}\n\nDEFUN(tabrURL, TAB_GOTO_RELATIVE, \"Open relative address in a new tab\")\n{\n    tabURL0(prec_num ? numTab(PREC_NUM) : NULL,\n\t    \"Goto relative URL on new tab: \", TRUE);\n}\n\nstatic void\nmoveTab(TabBuffer * t, TabBuffer * t2, int right)\n{\n    if (t2 == NO_TABBUFFER)\n\tt2 = FirstTab;\n    if (!t || !t2 || t == t2 || t == NO_TABBUFFER)\n\treturn;\n    if (t->prevTab) {\n\tif (t->nextTab)\n\t    t->nextTab->prevTab = t->prevTab;\n\telse\n\t    LastTab = t->prevTab;\n\tt->prevTab->nextTab = t->nextTab;\n    }\n    else {\n\tt->nextTab->prevTab = NULL;\n\tFirstTab = t->nextTab;\n    }\n    if (right) {\n\tt->nextTab = t2->nextTab;\n\tt->prevTab = t2;\n\tif (t2->nextTab)\n\t    t2->nextTab->prevTab = t;\n\telse\n\t    LastTab = t;\n\tt2->nextTab = t;\n    }\n    else {\n\tt->prevTab = t2->prevTab;\n\tt->nextTab = t2;\n\tif (t2->prevTab)\n\t    t2->prevTab->nextTab = t;\n\telse\n\t    FirstTab = t;\n\tt2->prevTab = t;\n    }\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(tabR, TAB_RIGHT, \"Move right along the tab bar\")\n{\n    TabBuffer *tab;\n    int i;\n\n    for (tab = CurrentTab, i = 0; tab && i < PREC_NUM;\n\t tab = tab->nextTab, i++) ;\n    moveTab(CurrentTab, tab ? tab : LastTab, TRUE);\n}\n\nDEFUN(tabL, TAB_LEFT, \"Move left along the tab bar\")\n{\n    TabBuffer *tab;\n    int i;\n\n    for (tab = CurrentTab, i = 0; tab && i < PREC_NUM;\n\t tab = tab->prevTab, i++) ;\n    moveTab(CurrentTab, tab ? tab : FirstTab, FALSE);\n}\n\nvoid\naddDownloadList(pid_t pid, char *url, char *save, char *lock, clen_t size)\n{\n    DownloadList *d;\n\n    d = New(DownloadList);\n    d->pid = pid;\n    d->url = url;\n    if (save[0] != '/' && save[0] != '~')\n\tsave = Strnew_m_charp(CurrentDir, \"/\", save, NULL)->ptr;\n    d->save = expandPath(save);\n    d->lock = lock;\n    d->size = size;\n    d->time = time(0);\n    d->running = TRUE;\n    d->err = 0;\n    d->next = NULL;\n    d->prev = LastDL;\n    if (LastDL)\n\tLastDL->next = d;\n    else\n\tFirstDL = d;\n    LastDL = d;\n    add_download_list = TRUE;\n}\n\nint\ncheckDownloadList(void)\n{\n    DownloadList *d;\n    struct stat st;\n\n    if (!FirstDL)\n\treturn FALSE;\n    for (d = FirstDL; d != NULL; d = d->next) {\n\tif (d->running && !lstat(d->lock, &st))\n\t    return TRUE;\n    }\n    return FALSE;\n}\n\nstatic char *\nconvert_size3(clen_t size)\n{\n    Str tmp = Strnew();\n    int n;\n\n    do {\n\tn = size % 1000;\n\tsize /= 1000;\n\ttmp = Sprintf(size ? \",%.3d%s\" : \"%d%s\", n, tmp->ptr);\n    } while (size);\n    return tmp->ptr;\n}\n\nstatic Buffer *\nDownloadListBuffer(void)\n{\n    DownloadList *d;\n    Str src = NULL;\n    struct stat st;\n    time_t cur_time;\n    int duration, rate, eta;\n    size_t size;\n\n    if (!FirstDL)\n\treturn NULL;\n    cur_time = time(0);\n    /* FIXME: gettextize? */\n    src = Strnew_charp(\"<html><head><title>\" DOWNLOAD_LIST_TITLE\n\t\t       \"</title></head>\\n<body><h1 align=center>\"\n\t\t       DOWNLOAD_LIST_TITLE \"</h1>\\n\"\n\t\t       \"<form method=internal action=download><hr>\\n\");\n    for (d = LastDL; d != NULL; d = d->prev) {\n\tif (lstat(d->lock, &st))\n\t    d->running = FALSE;\n\tStrcat_charp(src, \"<pre>\\n\");\n\tStrcat(src, Sprintf(\"%s\\n  --&gt; %s\\n  \", html_quote(d->url),\n\t\t\t    html_quote(conv_from_system(d->save))));\n\tduration = cur_time - d->time;\n\tif (!stat(d->save, &st)) {\n\t    size = st.st_size;\n\t    if (!d->running) {\n\t\tif (!d->err)\n\t\t    d->size = size;\n\t\tduration = st.st_mtime - d->time;\n\t    }\n\t}\n\telse\n\t    size = 0;\n\tif (d->size) {\n\t    int i, l = COLS - 6;\n\t    if (size < d->size)\n\t\ti = 1.0 * l * size / d->size;\n\t    else\n\t\ti = l;\n\t    l -= i;\n\t    while (i-- > 0)\n\t\tStrcat_char(src, '#');\n\t    while (l-- > 0)\n\t\tStrcat_char(src, '_');\n\t    Strcat_char(src, '\\n');\n\t}\n\tif ((d->running || d->err) && size < d->size)\n\t    Strcat(src, Sprintf(\"  %s / %s bytes (%d%%)\",\n\t\t\t\tconvert_size3(size), convert_size3(d->size),\n\t\t\t\t(int)(100.0 * size / d->size)));\n\telse\n\t    Strcat(src, Sprintf(\"  %s bytes loaded\", convert_size3(size)));\n\tif (duration > 0) {\n\t    rate = size / duration;\n\t    Strcat(src, Sprintf(\"  %02d:%02d:%02d  rate %s/sec\",\n\t\t\t\tduration / (60 * 60), (duration / 60) % 60,\n\t\t\t\tduration % 60, convert_size(rate, 1)));\n\t    if (d->running && size < d->size && rate) {\n\t\teta = (d->size - size) / rate;\n\t\tStrcat(src, Sprintf(\"  eta %02d:%02d:%02d\", eta / (60 * 60),\n\t\t\t\t    (eta / 60) % 60, eta % 60));\n\t    }\n\t}\n\tStrcat_char(src, '\\n');\n\tif (!d->running) {\n\t    Strcat(src, Sprintf(\"<input type=submit name=ok%d value=OK>\",\n\t\t\t\td->pid));\n\t    switch (d->err) {\n\t    case 0: if (size < d->size)\n\t\t\tStrcat_charp(src, \" Download ended but probably not complete\");\n\t\t    else\n\t\t\tStrcat_charp(src, \" Download complete\");\n\t\t    break;\n\t    case 1: Strcat_charp(src, \" Error: could not open destination file\");\n\t\t    break;\n\t    case 2: Strcat_charp(src, \" Error: could not write to file (disk full)\");\n\t\t    break;\n\t    default: Strcat_charp(src, \" Error: unknown reason\");\n\t    }\n\t}\n\telse\n\t    Strcat(src, Sprintf(\"<input type=submit name=stop%d value=STOP>\",\n\t\t\t\td->pid));\n\tStrcat_charp(src, \"\\n</pre><hr>\\n\");\n    }\n    Strcat_charp(src, \"</form></body></html>\");\n    return loadHTMLString(src);\n}\n\nvoid\ndownload_action(struct parsed_tagarg *arg)\n{\n    DownloadList *d;\n    pid_t pid;\n\n    for (; arg; arg = arg->next) {\n\tif (!strncmp(arg->arg, \"stop\", 4)) {\n\t    pid = (pid_t) atoi(&arg->arg[4]);\n#ifndef __MINGW32_VERSION\n\t    kill(pid, SIGKILL);\n#endif\n\t}\n\telse if (!strncmp(arg->arg, \"ok\", 2))\n\t    pid = (pid_t) atoi(&arg->arg[2]);\n\telse\n\t    continue;\n\tfor (d = FirstDL; d; d = d->next) {\n\t    if (d->pid == pid) {\n\t\tunlink(d->lock);\n\t\tif (d->prev)\n\t\t    d->prev->next = d->next;\n\t\telse\n\t\t    FirstDL = d->next;\n\t\tif (d->next)\n\t\t    d->next->prev = d->prev;\n\t\telse\n\t\t    LastDL = d->prev;\n\t\tbreak;\n\t    }\n\t}\n    }\n    ldDL();\n}\n\nvoid\nstopDownload(void)\n{\n    DownloadList *d;\n\n    if (!FirstDL)\n\treturn;\n    for (d = FirstDL; d != NULL; d = d->next) {\n\tif (!d->running)\n\t    continue;\n#ifndef __MINGW32_VERSION\n\tkill(d->pid, SIGKILL);\n#endif\n\tunlink(d->lock);\n    }\n}\n\n/* download panel */\nDEFUN(ldDL, DOWNLOAD_LIST, \"Display downloads panel\")\n{\n    Buffer *buf;\n    int replace = FALSE, new_tab = FALSE;\n#ifdef USE_ALARM\n    int reload;\n#endif\n\n    if (Currentbuf->bufferprop & BP_INTERNAL &&\n\t!strcmp(Currentbuf->buffername, DOWNLOAD_LIST_TITLE))\n\treplace = TRUE;\n    if (!FirstDL) {\n\tif (replace) {\n\t    if (Currentbuf == Firstbuf && Currentbuf->nextBuffer == NULL) {\n\t\tif (nTab > 1)\n\t\t    deleteTab(CurrentTab);\n\t    }\n\t    else\n\t\tdelBuffer(Currentbuf);\n\t    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n\t}\n\treturn;\n    }\n#ifdef USE_ALARM\n    reload = checkDownloadList();\n#endif\n    buf = DownloadListBuffer();\n    if (!buf) {\n\tdisplayBuffer(Currentbuf, B_NORMAL);\n\treturn;\n    }\n    buf->bufferprop |= (BP_INTERNAL | BP_NO_URL);\n    if (replace) {\n\tCOPY_BUFROOT(buf, Currentbuf);\n\trestorePosition(buf, Currentbuf);\n    }\n    if (!replace && open_tab_dl_list) {\n\t_newT();\n\tnew_tab = TRUE;\n    }\n    pushBuffer(buf);\n    if (replace || new_tab)\n\tdeletePrevBuf();\n#ifdef USE_ALARM\n    if (reload)\n\tCurrentbuf->event = setAlarmEvent(Currentbuf->event, 1, AL_IMPLICIT,\n\t\t\t\t\t  FUNCNAME_reload, NULL);\n#endif\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nstatic void\nsave_buffer_position(Buffer *buf)\n{\n    BufferPos *b = buf->undo;\n\n    if (!buf->firstLine)\n\treturn;\n    if (b && b->top_linenumber == TOP_LINENUMBER(buf) &&\n\tb->cur_linenumber == CUR_LINENUMBER(buf) &&\n\tb->currentColumn == buf->currentColumn && b->pos == buf->pos)\n\treturn;\n    b = New(BufferPos);\n    b->top_linenumber = TOP_LINENUMBER(buf);\n    b->cur_linenumber = CUR_LINENUMBER(buf);\n    b->currentColumn = buf->currentColumn;\n    b->pos = buf->pos;\n    b->bpos = buf->currentLine ? buf->currentLine->bpos : 0;\n    b->next = NULL;\n    b->prev = buf->undo;\n    if (buf->undo)\n\tbuf->undo->next = b;\n    buf->undo = b;\n}\n\nstatic void\nresetPos(BufferPos * b)\n{\n    Buffer buf;\n    Line top, cur;\n\n    top.linenumber = b->top_linenumber;\n    cur.linenumber = b->cur_linenumber;\n    cur.bpos = b->bpos;\n    buf.topLine = &top;\n    buf.currentLine = &cur;\n    buf.pos = b->pos;\n    buf.currentColumn = b->currentColumn;\n    restorePosition(Currentbuf, &buf);\n    Currentbuf->undo = b;\n    displayBuffer(Currentbuf, B_FORCE_REDRAW);\n}\n\nDEFUN(undoPos, UNDO, \"Cancel the last cursor movement\")\n{\n    BufferPos *b = Currentbuf->undo;\n    int i;\n\n    if (!Currentbuf->firstLine)\n\treturn;\n    if (!b || !b->prev)\n\treturn;\n    for (i = 0; i < PREC_NUM && b->prev; i++, b = b->prev) ;\n    resetPos(b);\n}\n\nDEFUN(redoPos, REDO, \"Cancel the last undo\")\n{\n    BufferPos *b = Currentbuf->undo;\n    int i;\n\n    if (!Currentbuf->firstLine)\n\treturn;\n    if (!b || !b->next)\n\treturn;\n    for (i = 0; i < PREC_NUM && b->next; i++, b = b->next) ;\n    resetPos(b);\n}\n", "/* $Id: rc.c,v 1.116 2010/08/20 09:47:09 htrb Exp $ */\n/* \n * Initialization file etc.\n */\n#include \"fm.h\"\n#include \"myctype.h\"\n#include \"proto.h\"\n#include <stdio.h>\n#include <errno.h>\n#include \"parsetag.h\"\n#include \"local.h\"\n#include \"regex.h\"\n#include <stdlib.h>\n#include <stddef.h>\n\nstruct param_ptr {\n    char *name;\n    int type;\n    int inputtype;\n    void *varptr;\n    char *comment;\n    void *select;\n};\n\nstruct param_section {\n    char *name;\n    struct param_ptr *params;\n};\n\nstruct rc_search_table {\n    struct param_ptr *param;\n    short uniq_pos;\n};\n\nstatic struct rc_search_table *RC_search_table;\nstatic int RC_table_size;\n\n#define P_INT      0\n#define P_SHORT    1\n#define P_CHARINT  2\n#define P_CHAR     3\n#define P_STRING   4\n#if defined(USE_SSL) && defined(USE_SSL_VERIFY)\n#define P_SSLPATH  5\n#endif\n#ifdef USE_COLOR\n#define P_COLOR    6\n#endif\n#ifdef USE_M17N\n#define P_CODE     7\n#endif\n#define P_PIXELS   8\n#define P_NZINT    9\n#define P_SCALE    10\n\n/* FIXME: gettextize here */\n#ifdef USE_M17N\nstatic wc_ces OptionCharset = WC_CES_US_ASCII;\t/* FIXME: charset of source code */\nstatic int OptionEncode = FALSE;\n#endif\n\n#define CMT_HELPER\t N_(\"External Viewer Setup\")\n#define CMT_TABSTOP      N_(\"Tab width in characters\")\n#define CMT_INDENT_INCR  N_(\"Indent for HTML rendering\")\n#define CMT_PIXEL_PER_CHAR N_(\"Number of pixels per character (4.0...32.0)\")\n#define CMT_PIXEL_PER_LINE N_(\"Number of pixels per line (4.0...64.0)\")\n#define CMT_PAGERLINE    N_(\"Number of remembered lines when used as a pager\")\n#define CMT_HISTORY\t N_(\"Use URL history\")\n#define CMT_HISTSIZE     N_(\"Number of remembered URL\")\n#define CMT_SAVEHIST     N_(\"Save URL history\")\n#define CMT_FRAME        N_(\"Render frames automatically\")\n#define CMT_ARGV_IS_URL  N_(\"Treat argument without scheme as URL\")\n#define CMT_TSELF        N_(\"Use _self as default target\")\n#define CMT_OPEN_TAB_BLANK N_(\"Open link on new tab if target is _blank or _new\")\n#define CMT_OPEN_TAB_DL_LIST N_(\"Open download list panel on new tab\")\n#define CMT_DISPLINK     N_(\"Display link URL automatically\")\n#define CMT_DISPLINKNUMBER N_(\"Display link numbers\")\n#define CMT_DECODE_URL   N_(\"Display decoded URL\")\n#define CMT_DISPLINEINFO N_(\"Display current line number\")\n#define CMT_DISP_IMAGE   N_(\"Display inline images\")\n#define CMT_PSEUDO_INLINES N_(\"Display pseudo-ALTs for inline images with no ALT or TITLE string\")\n#ifdef USE_IMAGE\n#define CMT_AUTO_IMAGE   N_(\"Load inline images automatically\")\n#define CMT_MAX_LOAD_IMAGE N_(\"Maximum processes for parallel image loading\")\n#define CMT_EXT_IMAGE_VIEWER   N_(\"Use external image viewer\")\n#define CMT_IMAGE_SCALE  N_(\"Scale of image (%)\")\n#define CMT_IMGDISPLAY   N_(\"External command to display image\")\n#define CMT_IMAGE_MAP_LIST N_(\"Use link list of image map\")\n#endif\n#define CMT_MULTICOL     N_(\"Display file names in multi-column format\")\n#define CMT_ALT_ENTITY   N_(\"Use ASCII equivalents to display entities\")\n#define CMT_GRAPHIC_CHAR N_(\"Character type for border of table and menu\")\n#define CMT_DISP_BORDERS N_(\"Display table borders, ignore value of BORDER\")\n#define CMT_FOLD_TEXTAREA N_(\"Fold lines in TEXTAREA\")\n#define CMT_DISP_INS_DEL N_(\"Display INS, DEL, S and STRIKE element\")\n#define CMT_COLOR        N_(\"Display with color\")\n#define CMT_B_COLOR      N_(\"Color of normal character\")\n#define CMT_A_COLOR      N_(\"Color of anchor\")\n#define CMT_I_COLOR      N_(\"Color of image link\")\n#define CMT_F_COLOR      N_(\"Color of form\")\n#define CMT_ACTIVE_STYLE N_(\"Enable coloring of active link\")\n#define CMT_C_COLOR\t N_(\"Color of currently active link\")\n#define CMT_VISITED_ANCHOR N_(\"Use visited link color\")\n#define CMT_V_COLOR\t N_(\"Color of visited link\")\n#define CMT_BG_COLOR     N_(\"Color of background\")\n#define CMT_MARK_COLOR   N_(\"Color of mark\")\n#define CMT_USE_PROXY    N_(\"Use proxy\")\n#define CMT_HTTP_PROXY   N_(\"URL of HTTP proxy host\")\n#ifdef USE_SSL\n#define CMT_HTTPS_PROXY  N_(\"URL of HTTPS proxy host\")\n#endif\t\t\t\t/* USE_SSL */\n#ifdef USE_GOPHER\n#define CMT_GOPHER_PROXY N_(\"URL of GOPHER proxy host\")\n#endif\t\t\t\t/* USE_GOPHER */\n#define CMT_FTP_PROXY    N_(\"URL of FTP proxy host\")\n#define CMT_NO_PROXY     N_(\"Domains to be accessed directly (no proxy)\")\n#define CMT_NOPROXY_NETADDR\tN_(\"Check noproxy by network address\")\n#define CMT_NO_CACHE     N_(\"Disable cache\")\n#ifdef USE_NNTP\n#define CMT_NNTP_SERVER  N_(\"News server\")\n#define CMT_NNTP_MODE    N_(\"Mode of news server\")\n#define CMT_MAX_NEWS     N_(\"Number of news messages\")\n#endif\n#define CMT_DNS_ORDER\tN_(\"Order of name resolution\")\n#define CMT_DROOT       N_(\"Directory corresponding to / (document root)\")\n#define CMT_PDROOT      N_(\"Directory corresponding to /~user\")\n#define CMT_CGIBIN      N_(\"Directory corresponding to /cgi-bin\")\n#define CMT_CONFIRM_QQ  N_(\"Confirm when quitting with q\")\n#define CMT_CLOSE_TAB_BACK N_(\"Close tab if buffer is last when back\")\n#ifdef USE_MARK\n#define CMT_USE_MARK\tN_(\"Enable mark operations\")\n#endif\n#define CMT_EMACS_LIKE_LINEEDIT\tN_(\"Enable Emacs-style line editing\")\n#define CMT_VI_PREC_NUM\t N_(\"Enable vi-like numeric prefix\")\n#define CMT_LABEL_TOPLINE N_(\"Move cursor to top line when going to label\")\n#define CMT_NEXTPAGE_TOPLINE N_(\"Move cursor to top line when moving to next page\")\n#define CMT_FOLD_LINE    N_(\"Fold lines of plain text file\")\n#define CMT_SHOW_NUM     N_(\"Show line numbers\")\n#define CMT_SHOW_SRCH_STR N_(\"Show search string\")\n#define CMT_MIMETYPES    N_(\"List of mime.types files\")\n#define CMT_MAILCAP      N_(\"List of mailcap files\")\n#define CMT_URIMETHODMAP N_(\"List of urimethodmap files\")\n#define CMT_EDITOR       N_(\"Editor\")\n#define CMT_MAILER       N_(\"Mailer\")\n#define CMT_MAILTO_OPTIONS N_(\"How to call Mailer for mailto URLs with options\")\n#define CMT_EXTBRZ       N_(\"External browser\")\n#define CMT_EXTBRZ2      N_(\"2nd external browser\")\n#define CMT_EXTBRZ3      N_(\"3rd external browser\")\n#define CMT_EXTBRZ4      N_(\"4th external browser\")\n#define CMT_EXTBRZ5      N_(\"5th external browser\")\n#define CMT_EXTBRZ6      N_(\"6th external browser\")\n#define CMT_EXTBRZ7      N_(\"7th external browser\")\n#define CMT_EXTBRZ8      N_(\"8th external browser\")\n#define CMT_EXTBRZ9      N_(\"9th external browser\")\n#define CMT_DISABLE_SECRET_SECURITY_CHECK\tN_(\"Disable secret file security check\")\n#define CMT_PASSWDFILE\t N_(\"Password file\")\n#define CMT_PRE_FORM_FILE\tN_(\"File for setting form on loading\")\n#define CMT_SITECONF_FILE\tN_(\"File for preferences for each site\")\n#define CMT_FTPPASS      N_(\"Password for anonymous FTP (your mail address)\")\n#define CMT_FTPPASS_HOSTNAMEGEN N_(\"Generate domain part of password for FTP\")\n#define CMT_USERAGENT    N_(\"User-Agent identification string\")\n#define CMT_ACCEPTENCODING\tN_(\"Accept-Encoding header\")\n#define CMT_ACCEPTMEDIA\t N_(\"Accept header\")\n#define CMT_ACCEPTLANG   N_(\"Accept-Language header\")\n#define CMT_MARK_ALL_PAGES N_(\"Treat URL-like strings as links in all pages\")\n#define CMT_WRAP         N_(\"Wrap search\")\n#define CMT_VIEW_UNSEENOBJECTS N_(\"Display unseen objects (e.g. bgimage tag)\")\n#define CMT_AUTO_UNCOMPRESS\tN_(\"Uncompress compressed data automatically when downloading\")\n#ifdef __EMX__\n#define CMT_BGEXTVIEW\t N_(\"Run external viewer in a separate session\")\n#else\n#define CMT_BGEXTVIEW    N_(\"Run external viewer in the background\")\n#endif\n#define CMT_EXT_DIRLIST  N_(\"Use external program for directory listing\")\n#define CMT_DIRLIST_CMD  N_(\"URL of directory listing command\")\n#ifdef USE_DICT\n#define CMT_USE_DICTCOMMAND  N_(\"Enable dictionary lookup through CGI\")\n#define CMT_DICTCOMMAND  N_(\"URL of dictionary lookup command\")\n#endif\t\t\t\t/* USE_DICT */\n#define CMT_IGNORE_NULL_IMG_ALT\tN_(\"Display link name for images lacking ALT\")\n#define CMT_IFILE        N_(\"Index file for directories\")\n#define CMT_RETRY_HTTP   N_(\"Prepend http:// to URL automatically\")\n#define CMT_DEFAULT_URL  N_(\"Default value for open-URL command\")\n#define CMT_DECODE_CTE   N_(\"Decode Content-Transfer-Encoding when saving\")\n#define CMT_PRESERVE_TIMESTAMP N_(\"Preserve timestamp when saving\")\n#ifdef USE_MOUSE\n#define CMT_MOUSE         N_(\"Enable mouse\")\n#define CMT_REVERSE_MOUSE N_(\"Scroll in reverse direction of mouse drag\")\n#define CMT_RELATIVE_WHEEL_SCROLL N_(\"Behavior of wheel scroll speed\")\n#define CMT_RELATIVE_WHEEL_SCROLL_RATIO N_(\"(A only)Scroll by # (%) of screen\")\n#define CMT_FIXED_WHEEL_SCROLL_COUNT N_(\"(B only)Scroll by # lines\")\n#endif\t\t\t\t/* USE_MOUSE */\n#define CMT_CLEAR_BUF     N_(\"Free memory of undisplayed buffers\")\n#define CMT_NOSENDREFERER N_(\"Suppress `Referer:' header\")\n#define CMT_IGNORE_CASE N_(\"Search case-insensitively\")\n#define CMT_USE_LESSOPEN N_(\"Use LESSOPEN\")\n#ifdef USE_SSL\n#ifdef USE_SSL_VERIFY\n#define CMT_SSL_VERIFY_SERVER N_(\"Perform SSL server verification\")\n#define CMT_SSL_CERT_FILE N_(\"PEM encoded certificate file of client\")\n#define CMT_SSL_KEY_FILE N_(\"PEM encoded private key file of client\")\n#define CMT_SSL_CA_PATH N_(\"Path to directory for PEM encoded certificates of CAs\")\n#define CMT_SSL_CA_FILE N_(\"File consisting of PEM encoded certificates of CAs\")\n#endif\t\t\t\t/* USE_SSL_VERIFY */\n#define CMT_SSL_FORBID_METHOD N_(\"List of forbidden SSL methods (2: SSLv2, 3: SSLv3, t: TLSv1.0, 5: TLSv1.1)\")\n#endif\t\t\t\t/* USE_SSL */\n#ifdef USE_COOKIE\n#define CMT_USECOOKIE   N_(\"Enable cookie processing\")\n#define CMT_SHOWCOOKIE  N_(\"Print a message when receiving a cookie\")\n#define CMT_ACCEPTCOOKIE N_(\"Accept cookies\")\n#define CMT_ACCEPTBADCOOKIE N_(\"Action to be taken on invalid cookie\")\n#define CMT_COOKIE_REJECT_DOMAINS N_(\"Domains to reject cookies from\")\n#define CMT_COOKIE_ACCEPT_DOMAINS N_(\"Domains to accept cookies from\")\n#define CMT_COOKIE_AVOID_WONG_NUMBER_OF_DOTS N_(\"Domains to avoid [wrong number of dots]\")\n#endif\n#define CMT_FOLLOW_REDIRECTION N_(\"Number of redirections to follow\")\n#define CMT_META_REFRESH N_(\"Enable processing of meta-refresh tag\")\n\n#ifdef USE_MIGEMO\n#define CMT_USE_MIGEMO N_(\"Enable Migemo (Roma-ji search)\")\n#define CMT_MIGEMO_COMMAND N_(\"Migemo command\")\n#endif\t\t\t\t/* USE_MIGEMO */\n\n#ifdef USE_M17N\n#define CMT_DISPLAY_CHARSET  N_(\"Display charset\")\n#define CMT_DOCUMENT_CHARSET N_(\"Default document charset\")\n#define CMT_AUTO_DETECT      N_(\"Automatic charset detect when loading\")\n#define CMT_SYSTEM_CHARSET   N_(\"System charset\")\n#define CMT_FOLLOW_LOCALE    N_(\"System charset follows locale(LC_CTYPE)\")\n#define CMT_EXT_HALFDUMP     N_(\"Output halfdump with display charset\")\n#define CMT_USE_WIDE         N_(\"Use multi column characters\")\n#define CMT_USE_COMBINING    N_(\"Use combining characters\")\n#define CMT_EAST_ASIAN_WIDTH N_(\"Use double width for some Unicode characters\")\n#define CMT_USE_LANGUAGE_TAG N_(\"Use Unicode language tags\")\n#define CMT_UCS_CONV         N_(\"Charset conversion using Unicode map\")\n#define CMT_PRE_CONV         N_(\"Charset conversion when loading\")\n#define CMT_SEARCH_CONV      N_(\"Adjust search string for document charset\")\n#define CMT_FIX_WIDTH_CONV   N_(\"Fix character width when conversion\")\n#define CMT_USE_GB12345_MAP  N_(\"Use GB 12345 Unicode map instead of GB 2312's\")\n#define CMT_USE_JISX0201     N_(\"Use JIS X 0201 Roman for ISO-2022-JP\")\n#define CMT_USE_JISC6226     N_(\"Use JIS C 6226:1978 for ISO-2022-JP\")\n#define CMT_USE_JISX0201K    N_(\"Use JIS X 0201 Katakana\")\n#define CMT_USE_JISX0212     N_(\"Use JIS X 0212:1990 (Supplemental Kanji)\")\n#define CMT_USE_JISX0213     N_(\"Use JIS X 0213:2000 (2000JIS)\")\n#define CMT_STRICT_ISO2022   N_(\"Strict ISO-2022-JP/KR/CN\")\n#define CMT_GB18030_AS_UCS   N_(\"Treat 4 bytes char. of GB18030 as Unicode\")\n#define CMT_SIMPLE_PRESERVE_SPACE N_(\"Simple Preserve space\")\n#endif\n\n#define CMT_KEYMAP_FILE N_(\"keymap file\")\n\n#define PI_TEXT    0\n#define PI_ONOFF   1\n#define PI_SEL_C   2\n#ifdef USE_M17N\n#define PI_CODE    3\n#endif\n\nstruct sel_c {\n    int value;\n    char *cvalue;\n    char *text;\n};\n\n#ifdef USE_COLOR\nstatic struct sel_c colorstr[] = {\n    {0, \"black\", N_(\"black\")},\n    {1, \"red\", N_(\"red\")},\n    {2, \"green\", N_(\"green\")},\n    {3, \"yellow\", N_(\"yellow\")},\n    {4, \"blue\", N_(\"blue\")},\n    {5, \"magenta\", N_(\"magenta\")},\n    {6, \"cyan\", N_(\"cyan\")},\n    {7, \"white\", N_(\"white\")},\n    {8, \"terminal\", N_(\"terminal\")},\n    {0, NULL, NULL}\n};\n#endif\t\t\t\t/* USE_COLOR */\n\n#if 1\t\t\t\t/* ANSI-C ? */\n#define N_STR(x)\t#x\n#define N_S(x)\t(x), N_STR(x)\n#else\t\t\t\t/* for traditional cpp? */\nstatic char n_s[][2] = {\n    {'0', 0},\n    {'1', 0},\n    {'2', 0},\n};\n#define N_S(x) (x), n_s[(x)]\n#endif\n\n\nstatic struct sel_c defaulturls[] = {\n    {N_S(DEFAULT_URL_EMPTY), N_(\"none\")},\n    {N_S(DEFAULT_URL_CURRENT), N_(\"current URL\")},\n    {N_S(DEFAULT_URL_LINK), N_(\"link URL\")},\n    {0, NULL, NULL}\n};\n\nstatic struct sel_c displayinsdel[] = {\n    {N_S(DISPLAY_INS_DEL_SIMPLE), N_(\"simple\")},\n    {N_S(DISPLAY_INS_DEL_NORMAL), N_(\"use tag\")},\n    {N_S(DISPLAY_INS_DEL_FONTIFY), N_(\"fontify\")},\n    {0, NULL, NULL}\n};\n\n#ifdef USE_MOUSE\nstatic struct sel_c wheelmode[] = {\n    {TRUE, \"1\", N_(\"A:relative to screen height\")},\n    {FALSE, \"0\", N_(\"B:fixed speed\")},\n    {0, NULL, NULL}\n};\n#endif\t\t\t\t/* MOUSE */\n\n#ifdef INET6\nstatic struct sel_c dnsorders[] = {\n    {N_S(DNS_ORDER_UNSPEC), N_(\"unspecified\")},\n    {N_S(DNS_ORDER_INET_INET6), N_(\"inet inet6\")},\n    {N_S(DNS_ORDER_INET6_INET), N_(\"inet6 inet\")},\n    {N_S(DNS_ORDER_INET_ONLY), N_(\"inet only\")},\n    {N_S(DNS_ORDER_INET6_ONLY), N_(\"inet6 only\")},\n    {0, NULL, NULL}\n};\n#endif\t\t\t\t/* INET6 */\n\n#ifdef USE_COOKIE\nstatic struct sel_c badcookiestr[] = {\n    {N_S(ACCEPT_BAD_COOKIE_DISCARD), N_(\"discard\")},\n#if 0\n    {N_S(ACCEPT_BAD_COOKIE_ACCEPT), N_(\"accept\")},\n#endif\n    {N_S(ACCEPT_BAD_COOKIE_ASK), N_(\"ask\")},\n    {0, NULL, NULL}\n};\n#endif\t\t\t\t/* USE_COOKIE */\n\nstatic struct sel_c mailtooptionsstr[] = {\n#ifdef USE_W3MMAILER\n    {N_S(MAILTO_OPTIONS_USE_W3MMAILER), N_(\"use internal mailer instead\")},\n#endif\n    {N_S(MAILTO_OPTIONS_IGNORE), N_(\"ignore options and use only the address\")},\n    {N_S(MAILTO_OPTIONS_USE_MAILTO_URL), N_(\"use full mailto URL\")},\n    {0, NULL, NULL}\n};\n\n#ifdef USE_M17N\nstatic wc_ces_list *display_charset_str = NULL;\nstatic wc_ces_list *document_charset_str = NULL;\nstatic wc_ces_list *system_charset_str = NULL;\nstatic struct sel_c auto_detect_str[] = {\n    {N_S(WC_OPT_DETECT_OFF), N_(\"OFF\")},\n    {N_S(WC_OPT_DETECT_ISO_2022), N_(\"Only ISO 2022\")},\n    {N_S(WC_OPT_DETECT_ON), N_(\"ON\")},\n    {0, NULL, NULL}\n};\n#endif\n\nstatic struct sel_c graphic_char_str[] = {\n    {N_S(GRAPHIC_CHAR_ASCII), N_(\"ASCII\")},\n    {N_S(GRAPHIC_CHAR_CHARSET), N_(\"charset specific\")},\n    {N_S(GRAPHIC_CHAR_DEC), N_(\"DEC special graphics\")},\n    {0, NULL, NULL}\n};\n\nstruct param_ptr params1[] = {\n    {\"tabstop\", P_NZINT, PI_TEXT, (void *)&Tabstop, CMT_TABSTOP, NULL},\n    {\"indent_incr\", P_NZINT, PI_TEXT, (void *)&IndentIncr, CMT_INDENT_INCR,\n     NULL},\n    {\"pixel_per_char\", P_PIXELS, PI_TEXT, (void *)&pixel_per_char,\n     CMT_PIXEL_PER_CHAR, NULL},\n#ifdef USE_IMAGE\n    {\"pixel_per_line\", P_PIXELS, PI_TEXT, (void *)&pixel_per_line,\n     CMT_PIXEL_PER_LINE, NULL},\n#endif\n    {\"frame\", P_CHARINT, PI_ONOFF, (void *)&RenderFrame, CMT_FRAME, NULL},\n    {\"target_self\", P_CHARINT, PI_ONOFF, (void *)&TargetSelf, CMT_TSELF, NULL},\n    {\"open_tab_blank\", P_INT, PI_ONOFF, (void *)&open_tab_blank,\n     CMT_OPEN_TAB_BLANK, NULL},\n    {\"open_tab_dl_list\", P_INT, PI_ONOFF, (void *)&open_tab_dl_list,\n     CMT_OPEN_TAB_DL_LIST, NULL},\n    {\"display_link\", P_INT, PI_ONOFF, (void *)&displayLink, CMT_DISPLINK,\n     NULL},\n    {\"display_link_number\", P_INT, PI_ONOFF, (void *)&displayLinkNumber,\n     CMT_DISPLINKNUMBER, NULL},\n    {\"decode_url\", P_INT, PI_ONOFF, (void *)&DecodeURL, CMT_DECODE_URL, NULL},\n    {\"display_lineinfo\", P_INT, PI_ONOFF, (void *)&displayLineInfo,\n     CMT_DISPLINEINFO, NULL},\n    {\"ext_dirlist\", P_INT, PI_ONOFF, (void *)&UseExternalDirBuffer,\n     CMT_EXT_DIRLIST, NULL},\n    {\"dirlist_cmd\", P_STRING, PI_TEXT, (void *)&DirBufferCommand,\n     CMT_DIRLIST_CMD, NULL},\n#ifdef USE_DICT\n    {\"use_dictcommand\", P_INT, PI_ONOFF, (void *)&UseDictCommand,\n     CMT_USE_DICTCOMMAND, NULL},\n    {\"dictcommand\", P_STRING, PI_TEXT, (void *)&DictCommand,\n     CMT_DICTCOMMAND, NULL},\n#endif\t\t\t\t/* USE_DICT */\n    {\"multicol\", P_INT, PI_ONOFF, (void *)&multicolList, CMT_MULTICOL, NULL},\n    {\"alt_entity\", P_CHARINT, PI_ONOFF, (void *)&UseAltEntity, CMT_ALT_ENTITY,\n     NULL},\n    {\"graphic_char\", P_CHARINT, PI_SEL_C, (void *)&UseGraphicChar,\n     CMT_GRAPHIC_CHAR, (void *)graphic_char_str},\n    {\"display_borders\", P_CHARINT, PI_ONOFF, (void *)&DisplayBorders,\n     CMT_DISP_BORDERS, NULL},\n    {\"fold_textarea\", P_CHARINT, PI_ONOFF, (void *)&FoldTextarea,\n     CMT_FOLD_TEXTAREA, NULL},\n    {\"display_ins_del\", P_INT, PI_SEL_C, (void *)&displayInsDel,\n     CMT_DISP_INS_DEL, displayinsdel},\n    {\"ignore_null_img_alt\", P_INT, PI_ONOFF, (void *)&ignore_null_img_alt,\n     CMT_IGNORE_NULL_IMG_ALT, NULL},\n    {\"view_unseenobject\", P_INT, PI_ONOFF, (void *)&view_unseenobject,\n     CMT_VIEW_UNSEENOBJECTS, NULL},\n    /* XXX: emacs-w3m force to off display_image even if image options off */\n    {\"display_image\", P_INT, PI_ONOFF, (void *)&displayImage, CMT_DISP_IMAGE,\n     NULL},\n    {\"pseudo_inlines\", P_INT, PI_ONOFF, (void *)&pseudoInlines,\n     CMT_PSEUDO_INLINES, NULL},\n#ifdef USE_IMAGE\n    {\"auto_image\", P_INT, PI_ONOFF, (void *)&autoImage, CMT_AUTO_IMAGE, NULL},\n    {\"max_load_image\", P_INT, PI_TEXT, (void *)&maxLoadImage,\n     CMT_MAX_LOAD_IMAGE, NULL},\n    {\"ext_image_viewer\", P_INT, PI_ONOFF, (void *)&useExtImageViewer,\n     CMT_EXT_IMAGE_VIEWER, NULL},\n    {\"image_scale\", P_SCALE, PI_TEXT, (void *)&image_scale, CMT_IMAGE_SCALE,\n     NULL},\n    {\"imgdisplay\", P_STRING, PI_TEXT, (void *)&Imgdisplay, CMT_IMGDISPLAY,\n     NULL},\n    {\"image_map_list\", P_INT, PI_ONOFF, (void *)&image_map_list,\n     CMT_IMAGE_MAP_LIST, NULL},\n#endif\n    {\"fold_line\", P_INT, PI_ONOFF, (void *)&FoldLine, CMT_FOLD_LINE, NULL},\n    {\"show_lnum\", P_INT, PI_ONOFF, (void *)&showLineNum, CMT_SHOW_NUM, NULL},\n    {\"show_srch_str\", P_INT, PI_ONOFF, (void *)&show_srch_str,\n     CMT_SHOW_SRCH_STR, NULL},\n    {\"label_topline\", P_INT, PI_ONOFF, (void *)&label_topline,\n     CMT_LABEL_TOPLINE, NULL},\n    {\"nextpage_topline\", P_INT, PI_ONOFF, (void *)&nextpage_topline,\n     CMT_NEXTPAGE_TOPLINE, NULL},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n\n#ifdef USE_COLOR\nstruct param_ptr params2[] = {\n    {\"color\", P_INT, PI_ONOFF, (void *)&useColor, CMT_COLOR, NULL},\n    {\"basic_color\", P_COLOR, PI_SEL_C, (void *)&basic_color, CMT_B_COLOR,\n     (void *)colorstr},\n    {\"anchor_color\", P_COLOR, PI_SEL_C, (void *)&anchor_color, CMT_A_COLOR,\n     (void *)colorstr},\n    {\"image_color\", P_COLOR, PI_SEL_C, (void *)&image_color, CMT_I_COLOR,\n     (void *)colorstr},\n    {\"form_color\", P_COLOR, PI_SEL_C, (void *)&form_color, CMT_F_COLOR,\n     (void *)colorstr},\n#ifdef USE_BG_COLOR\n    {\"mark_color\", P_COLOR, PI_SEL_C, (void *)&mark_color, CMT_MARK_COLOR,\n     (void *)colorstr},\n    {\"bg_color\", P_COLOR, PI_SEL_C, (void *)&bg_color, CMT_BG_COLOR,\n     (void *)colorstr},\n#endif\t\t\t\t/* USE_BG_COLOR */\n    {\"active_style\", P_INT, PI_ONOFF, (void *)&useActiveColor,\n     CMT_ACTIVE_STYLE, NULL},\n    {\"active_color\", P_COLOR, PI_SEL_C, (void *)&active_color, CMT_C_COLOR,\n     (void *)colorstr},\n    {\"visited_anchor\", P_INT, PI_ONOFF, (void *)&useVisitedColor,\n     CMT_VISITED_ANCHOR, NULL},\n    {\"visited_color\", P_COLOR, PI_SEL_C, (void *)&visited_color, CMT_V_COLOR,\n     (void *)colorstr},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n#endif\t\t\t\t/* USE_COLOR */\n\n\nstruct param_ptr params3[] = {\n    {\"pagerline\", P_NZINT, PI_TEXT, (void *)&PagerMax, CMT_PAGERLINE, NULL},\n#ifdef USE_HISTORY\n    {\"use_history\", P_INT, PI_ONOFF, (void *)&UseHistory, CMT_HISTORY, NULL},\n    {\"history\", P_INT, PI_TEXT, (void *)&URLHistSize, CMT_HISTSIZE, NULL},\n    {\"save_hist\", P_INT, PI_ONOFF, (void *)&SaveURLHist, CMT_SAVEHIST, NULL},\n#endif\t\t\t\t/* USE_HISTORY */\n    {\"confirm_qq\", P_INT, PI_ONOFF, (void *)&confirm_on_quit, CMT_CONFIRM_QQ,\n     NULL},\n    {\"close_tab_back\", P_INT, PI_ONOFF, (void *)&close_tab_back,\n     CMT_CLOSE_TAB_BACK, NULL},\n#ifdef USE_MARK\n    {\"mark\", P_INT, PI_ONOFF, (void *)&use_mark, CMT_USE_MARK, NULL},\n#endif\n    {\"emacs_like_lineedit\", P_INT, PI_ONOFF, (void *)&emacs_like_lineedit,\n     CMT_EMACS_LIKE_LINEEDIT, NULL},\n    {\"vi_prec_num\", P_INT, PI_ONOFF, (void *)&vi_prec_num, CMT_VI_PREC_NUM,\n     NULL},\n    {\"mark_all_pages\", P_INT, PI_ONOFF, (void *)&MarkAllPages,\n     CMT_MARK_ALL_PAGES, NULL},\n    {\"wrap_search\", P_INT, PI_ONOFF, (void *)&WrapDefault, CMT_WRAP, NULL},\n    {\"ignorecase_search\", P_INT, PI_ONOFF, (void *)&IgnoreCase,\n     CMT_IGNORE_CASE, NULL},\n#ifdef USE_MIGEMO\n    {\"use_migemo\", P_INT, PI_ONOFF, (void *)&use_migemo, CMT_USE_MIGEMO,\n     NULL},\n    {\"migemo_command\", P_STRING, PI_TEXT, (void *)&migemo_command,\n     CMT_MIGEMO_COMMAND, NULL},\n#endif\t\t\t\t/* USE_MIGEMO */\n#ifdef USE_MOUSE\n    {\"use_mouse\", P_INT, PI_ONOFF, (void *)&use_mouse, CMT_MOUSE, NULL},\n    {\"reverse_mouse\", P_INT, PI_ONOFF, (void *)&reverse_mouse,\n     CMT_REVERSE_MOUSE, NULL},\n    {\"relative_wheel_scroll\", P_INT, PI_SEL_C, (void *)&relative_wheel_scroll,\n     CMT_RELATIVE_WHEEL_SCROLL, (void *)wheelmode},\n    {\"relative_wheel_scroll_ratio\", P_INT, PI_TEXT,\n     (void *)&relative_wheel_scroll_ratio,\n     CMT_RELATIVE_WHEEL_SCROLL_RATIO, NULL},\n    {\"fixed_wheel_scroll_count\", P_INT, PI_TEXT,\n     (void *)&fixed_wheel_scroll_count,\n     CMT_FIXED_WHEEL_SCROLL_COUNT, NULL},\n#endif\t\t\t\t/* USE_MOUSE */\n    {\"clear_buffer\", P_INT, PI_ONOFF, (void *)&clear_buffer, CMT_CLEAR_BUF,\n     NULL},\n    {\"decode_cte\", P_CHARINT, PI_ONOFF, (void *)&DecodeCTE, CMT_DECODE_CTE,\n     NULL},\n    {\"auto_uncompress\", P_CHARINT, PI_ONOFF, (void *)&AutoUncompress,\n     CMT_AUTO_UNCOMPRESS, NULL},\n    {\"preserve_timestamp\", P_CHARINT, PI_ONOFF, (void *)&PreserveTimestamp,\n     CMT_PRESERVE_TIMESTAMP, NULL},\n    {\"keymap_file\", P_STRING, PI_TEXT, (void *)&keymap_file, CMT_KEYMAP_FILE,\n     NULL},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n\nstruct param_ptr params4[] = {\n    {\"use_proxy\", P_CHARINT, PI_ONOFF, (void *)&use_proxy, CMT_USE_PROXY,\n     NULL},\n    {\"http_proxy\", P_STRING, PI_TEXT, (void *)&HTTP_proxy, CMT_HTTP_PROXY,\n     NULL},\n#ifdef USE_SSL\n    {\"https_proxy\", P_STRING, PI_TEXT, (void *)&HTTPS_proxy, CMT_HTTPS_PROXY,\n     NULL},\n#endif\t\t\t\t/* USE_SSL */\n#ifdef USE_GOPHER\n    {\"gopher_proxy\", P_STRING, PI_TEXT, (void *)&GOPHER_proxy,\n     CMT_GOPHER_PROXY, NULL},\n#endif\t\t\t\t/* USE_GOPHER */\n    {\"ftp_proxy\", P_STRING, PI_TEXT, (void *)&FTP_proxy, CMT_FTP_PROXY, NULL},\n    {\"no_proxy\", P_STRING, PI_TEXT, (void *)&NO_proxy, CMT_NO_PROXY, NULL},\n    {\"noproxy_netaddr\", P_INT, PI_ONOFF, (void *)&NOproxy_netaddr,\n     CMT_NOPROXY_NETADDR, NULL},\n    {\"no_cache\", P_CHARINT, PI_ONOFF, (void *)&NoCache, CMT_NO_CACHE, NULL},\n\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n\nstruct param_ptr params5[] = {\n    {\"document_root\", P_STRING, PI_TEXT, (void *)&document_root, CMT_DROOT,\n     NULL},\n    {\"personal_document_root\", P_STRING, PI_TEXT,\n     (void *)&personal_document_root, CMT_PDROOT, NULL},\n    {\"cgi_bin\", P_STRING, PI_TEXT, (void *)&cgi_bin, CMT_CGIBIN, NULL},\n    {\"index_file\", P_STRING, PI_TEXT, (void *)&index_file, CMT_IFILE, NULL},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n\nstruct param_ptr params6[] = {\n    {\"mime_types\", P_STRING, PI_TEXT, (void *)&mimetypes_files, CMT_MIMETYPES,\n     NULL},\n    {\"mailcap\", P_STRING, PI_TEXT, (void *)&mailcap_files, CMT_MAILCAP, NULL},\n#ifdef USE_EXTERNAL_URI_LOADER\n    {\"urimethodmap\", P_STRING, PI_TEXT, (void *)&urimethodmap_files,\n     CMT_URIMETHODMAP, NULL},\n#endif\n    {\"editor\", P_STRING, PI_TEXT, (void *)&Editor, CMT_EDITOR, NULL},\n    {\"mailto_options\", P_INT, PI_SEL_C, (void *)&MailtoOptions,\n     CMT_MAILTO_OPTIONS, (void *)mailtooptionsstr},\n    {\"mailer\", P_STRING, PI_TEXT, (void *)&Mailer, CMT_MAILER, NULL},\n    {\"extbrowser\", P_STRING, PI_TEXT, (void *)&ExtBrowser, CMT_EXTBRZ, NULL},\n    {\"extbrowser2\", P_STRING, PI_TEXT, (void *)&ExtBrowser2, CMT_EXTBRZ2,\n     NULL},\n    {\"extbrowser3\", P_STRING, PI_TEXT, (void *)&ExtBrowser3, CMT_EXTBRZ3,\n     NULL},\n    {\"extbrowser4\", P_STRING, PI_TEXT, (void *)&ExtBrowser4, CMT_EXTBRZ4,\n     NULL},\n    {\"extbrowser5\", P_STRING, PI_TEXT, (void *)&ExtBrowser5, CMT_EXTBRZ5,\n     NULL},\n    {\"extbrowser6\", P_STRING, PI_TEXT, (void *)&ExtBrowser6, CMT_EXTBRZ6,\n     NULL},\n    {\"extbrowser7\", P_STRING, PI_TEXT, (void *)&ExtBrowser7, CMT_EXTBRZ7,\n     NULL},\n    {\"extbrowser8\", P_STRING, PI_TEXT, (void *)&ExtBrowser8, CMT_EXTBRZ8,\n     NULL},\n    {\"extbrowser9\", P_STRING, PI_TEXT, (void *)&ExtBrowser9, CMT_EXTBRZ9,\n     NULL},\n    {\"bgextviewer\", P_INT, PI_ONOFF, (void *)&BackgroundExtViewer,\n     CMT_BGEXTVIEW, NULL},\n    {\"use_lessopen\", P_INT, PI_ONOFF, (void *)&use_lessopen, CMT_USE_LESSOPEN,\n     NULL},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n\n#ifdef USE_SSL\nstruct param_ptr params7[] = {\n    {\"ssl_forbid_method\", P_STRING, PI_TEXT, (void *)&ssl_forbid_method,\n     CMT_SSL_FORBID_METHOD, NULL},\n#ifdef USE_SSL_VERIFY\n    {\"ssl_verify_server\", P_INT, PI_ONOFF, (void *)&ssl_verify_server,\n     CMT_SSL_VERIFY_SERVER, NULL},\n    {\"ssl_cert_file\", P_SSLPATH, PI_TEXT, (void *)&ssl_cert_file,\n     CMT_SSL_CERT_FILE, NULL},\n    {\"ssl_key_file\", P_SSLPATH, PI_TEXT, (void *)&ssl_key_file,\n     CMT_SSL_KEY_FILE, NULL},\n    {\"ssl_ca_path\", P_SSLPATH, PI_TEXT, (void *)&ssl_ca_path, CMT_SSL_CA_PATH,\n     NULL},\n    {\"ssl_ca_file\", P_SSLPATH, PI_TEXT, (void *)&ssl_ca_file, CMT_SSL_CA_FILE,\n     NULL},\n#endif\t\t\t\t/* USE_SSL_VERIFY */\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n#endif\t\t\t\t/* USE_SSL */\n\n#ifdef USE_COOKIE\nstruct param_ptr params8[] = {\n    {\"use_cookie\", P_INT, PI_ONOFF, (void *)&use_cookie, CMT_USECOOKIE, NULL},\n    {\"show_cookie\", P_INT, PI_ONOFF, (void *)&show_cookie,\n     CMT_SHOWCOOKIE, NULL},\n    {\"accept_cookie\", P_INT, PI_ONOFF, (void *)&accept_cookie,\n     CMT_ACCEPTCOOKIE, NULL},\n    {\"accept_bad_cookie\", P_INT, PI_SEL_C, (void *)&accept_bad_cookie,\n     CMT_ACCEPTBADCOOKIE, (void *)badcookiestr},\n    {\"cookie_reject_domains\", P_STRING, PI_TEXT,\n     (void *)&cookie_reject_domains, CMT_COOKIE_REJECT_DOMAINS, NULL},\n    {\"cookie_accept_domains\", P_STRING, PI_TEXT,\n     (void *)&cookie_accept_domains, CMT_COOKIE_ACCEPT_DOMAINS, NULL},\n    {\"cookie_avoid_wrong_number_of_dots\", P_STRING, PI_TEXT,\n     (void *)&cookie_avoid_wrong_number_of_dots,\n     CMT_COOKIE_AVOID_WONG_NUMBER_OF_DOTS, NULL},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n#endif\n\nstruct param_ptr params9[] = {\n    {\"passwd_file\", P_STRING, PI_TEXT, (void *)&passwd_file, CMT_PASSWDFILE,\n     NULL},\n    {\"disable_secret_security_check\", P_INT, PI_ONOFF,\n     (void *)&disable_secret_security_check, CMT_DISABLE_SECRET_SECURITY_CHECK,\n     NULL},\n    {\"ftppasswd\", P_STRING, PI_TEXT, (void *)&ftppasswd, CMT_FTPPASS, NULL},\n    {\"ftppass_hostnamegen\", P_INT, PI_ONOFF, (void *)&ftppass_hostnamegen,\n     CMT_FTPPASS_HOSTNAMEGEN, NULL},\n    {\"pre_form_file\", P_STRING, PI_TEXT, (void *)&pre_form_file,\n     CMT_PRE_FORM_FILE, NULL},\n    {\"siteconf_file\", P_STRING, PI_TEXT, (void *)&siteconf_file,\n     CMT_SITECONF_FILE, NULL},\n    {\"user_agent\", P_STRING, PI_TEXT, (void *)&UserAgent, CMT_USERAGENT, NULL},\n    {\"no_referer\", P_INT, PI_ONOFF, (void *)&NoSendReferer, CMT_NOSENDREFERER,\n     NULL},\n    {\"accept_language\", P_STRING, PI_TEXT, (void *)&AcceptLang, CMT_ACCEPTLANG,\n     NULL},\n    {\"accept_encoding\", P_STRING, PI_TEXT, (void *)&AcceptEncoding,\n     CMT_ACCEPTENCODING,\n     NULL},\n    {\"accept_media\", P_STRING, PI_TEXT, (void *)&AcceptMedia, CMT_ACCEPTMEDIA,\n     NULL},\n    {\"argv_is_url\", P_CHARINT, PI_ONOFF, (void *)&ArgvIsURL, CMT_ARGV_IS_URL,\n     NULL},\n    {\"retry_http\", P_INT, PI_ONOFF, (void *)&retryAsHttp, CMT_RETRY_HTTP,\n     NULL},\n    {\"default_url\", P_INT, PI_SEL_C, (void *)&DefaultURLString,\n     CMT_DEFAULT_URL, (void *)defaulturls},\n    {\"follow_redirection\", P_INT, PI_TEXT, &FollowRedirection,\n     CMT_FOLLOW_REDIRECTION, NULL},\n    {\"meta_refresh\", P_CHARINT, PI_ONOFF, (void *)&MetaRefresh,\n     CMT_META_REFRESH, NULL},\n#ifdef INET6\n    {\"dns_order\", P_INT, PI_SEL_C, (void *)&DNS_order, CMT_DNS_ORDER,\n     (void *)dnsorders},\n#endif\t\t\t\t/* INET6 */\n#ifdef USE_NNTP\n    {\"nntpserver\", P_STRING, PI_TEXT, (void *)&NNTP_server, CMT_NNTP_SERVER,\n     NULL},\n    {\"nntpmode\", P_STRING, PI_TEXT, (void *)&NNTP_mode, CMT_NNTP_MODE, NULL},\n    {\"max_news\", P_INT, PI_TEXT, (void *)&MaxNewsMessage, CMT_MAX_NEWS, NULL},\n#endif\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n\n#ifdef USE_M17N\nstruct param_ptr params10[] = {\n    {\"display_charset\", P_CODE, PI_CODE, (void *)&DisplayCharset,\n     CMT_DISPLAY_CHARSET, (void *)&display_charset_str},\n    {\"document_charset\", P_CODE, PI_CODE, (void *)&DocumentCharset,\n     CMT_DOCUMENT_CHARSET, (void *)&document_charset_str},\n    {\"auto_detect\", P_CHARINT, PI_SEL_C, (void *)&WcOption.auto_detect,\n     CMT_AUTO_DETECT, (void *)auto_detect_str},\n    {\"system_charset\", P_CODE, PI_CODE, (void *)&SystemCharset,\n     CMT_SYSTEM_CHARSET, (void *)&system_charset_str},\n    {\"follow_locale\", P_CHARINT, PI_ONOFF, (void *)&FollowLocale,\n     CMT_FOLLOW_LOCALE, NULL},\n    {\"ext_halfdump\", P_CHARINT, PI_ONOFF, (void *)&ExtHalfdump,\n     CMT_EXT_HALFDUMP, NULL},\n    {\"use_wide\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_wide, CMT_USE_WIDE,\n     NULL},\n    {\"use_combining\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_combining,\n     CMT_USE_COMBINING, NULL},\n#ifdef USE_UNICODE\n    {\"east_asian_width\", P_CHARINT, PI_ONOFF,\n     (void *)&WcOption.east_asian_width, CMT_EAST_ASIAN_WIDTH, NULL},\n    {\"use_language_tag\", P_CHARINT, PI_ONOFF,\n     (void *)&WcOption.use_language_tag, CMT_USE_LANGUAGE_TAG, NULL},\n    {\"ucs_conv\", P_CHARINT, PI_ONOFF, (void *)&WcOption.ucs_conv, CMT_UCS_CONV,\n     NULL},\n#endif\n    {\"pre_conv\", P_CHARINT, PI_ONOFF, (void *)&WcOption.pre_conv, CMT_PRE_CONV,\n     NULL},\n    {\"search_conv\", P_CHARINT, PI_ONOFF, (void *)&SearchConv, CMT_SEARCH_CONV,\n     NULL},\n    {\"fix_width_conv\", P_CHARINT, PI_ONOFF, (void *)&WcOption.fix_width_conv,\n     CMT_FIX_WIDTH_CONV, NULL},\n#ifdef USE_UNICODE\n    {\"use_gb12345_map\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_gb12345_map,\n     CMT_USE_GB12345_MAP, NULL},\n#endif\n    {\"use_jisx0201\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_jisx0201,\n     CMT_USE_JISX0201, NULL},\n    {\"use_jisc6226\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_jisc6226,\n     CMT_USE_JISC6226, NULL},\n    {\"use_jisx0201k\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_jisx0201k,\n     CMT_USE_JISX0201K, NULL},\n    {\"use_jisx0212\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_jisx0212,\n     CMT_USE_JISX0212, NULL},\n    {\"use_jisx0213\", P_CHARINT, PI_ONOFF, (void *)&WcOption.use_jisx0213,\n     CMT_USE_JISX0213, NULL},\n    {\"strict_iso2022\", P_CHARINT, PI_ONOFF, (void *)&WcOption.strict_iso2022,\n     CMT_STRICT_ISO2022, NULL},\n#ifdef USE_UNICODE\n    {\"gb18030_as_ucs\", P_CHARINT, PI_ONOFF, (void *)&WcOption.gb18030_as_ucs,\n     CMT_GB18030_AS_UCS, NULL},\n#endif\n    {\"simple_preserve_space\", P_CHARINT, PI_ONOFF, (void *)&SimplePreserveSpace,\n     CMT_SIMPLE_PRESERVE_SPACE, NULL},\n    {NULL, 0, 0, NULL, NULL, NULL},\n};\n#endif\n\nstruct param_section sections[] = {\n    {N_(\"Display Settings\"), params1},\n#ifdef USE_COLOR\n    {N_(\"Color Settings\"), params2},\n#endif\t\t\t\t/* USE_COLOR */\n    {N_(\"Miscellaneous Settings\"), params3},\n    {N_(\"Directory Settings\"), params5},\n    {N_(\"External Program Settings\"), params6},\n    {N_(\"Network Settings\"), params9},\n    {N_(\"Proxy Settings\"), params4},\n#ifdef USE_SSL\n    {N_(\"SSL Settings\"), params7},\n#endif\n#ifdef USE_COOKIE\n    {N_(\"Cookie Settings\"), params8},\n#endif\n#ifdef USE_M17N\n    {N_(\"Charset Settings\"), params10},\n#endif\n    {NULL, NULL}\n};\n\nstatic Str to_str(struct param_ptr *p);\n\nstatic int\ncompare_table(struct rc_search_table *a, struct rc_search_table *b)\n{\n    return strcmp(a->param->name, b->param->name);\n}\n\nstatic void\ncreate_option_search_table()\n{\n    int i, j, k;\n    int diff1, diff2;\n    char *p, *q;\n\n    /* count table size */\n    RC_table_size = 0;\n    for (j = 0; sections[j].name != NULL; j++) {\n\ti = 0;\n\twhile (sections[j].params[i].name) {\n\t    i++;\n\t    RC_table_size++;\n\t}\n    }\n\n    RC_search_table = New_N(struct rc_search_table, RC_table_size);\n    k = 0;\n    for (j = 0; sections[j].name != NULL; j++) {\n\ti = 0;\n\twhile (sections[j].params[i].name) {\n\t    RC_search_table[k].param = &sections[j].params[i];\n\t    k++;\n\t    i++;\n\t}\n    }\n\n    qsort(RC_search_table, RC_table_size, sizeof(struct rc_search_table),\n\t  (int (*)(const void *, const void *))compare_table);\n\n    diff2 = 0;\n    for (i = 0; i < RC_table_size - 1; i++) {\n\tp = RC_search_table[i].param->name;\n\tq = RC_search_table[i + 1].param->name;\n\tfor (j = 0; p[j] != '\\0' && q[j] != '\\0' && p[j] == q[j]; j++) ;\n\tdiff1 = j;\n\tif (diff1 > diff2)\n\t    RC_search_table[i].uniq_pos = diff1 + 1;\n\telse\n\t    RC_search_table[i].uniq_pos = diff2 + 1;\n\tdiff2 = diff1;\n    }\n}\n\nstruct param_ptr *\nsearch_param(char *name)\n{\n    size_t b, e, i;\n    int cmp;\n    int len = strlen(name);\n\n    for (b = 0, e = RC_table_size - 1; b <= e;) {\n\ti = (b + e) / 2;\n\tcmp = strncmp(name, RC_search_table[i].param->name, len);\n\n\tif (!cmp) {\n\t    if (len >= RC_search_table[i].uniq_pos) {\n\t\treturn RC_search_table[i].param;\n\t    }\n\t    else {\n\t\twhile ((cmp =\n\t\t\tstrcmp(name, RC_search_table[i].param->name)) <= 0)\n\t\t    if (!cmp)\n\t\t\treturn RC_search_table[i].param;\n\t\t    else if (i == 0)\n\t\t\treturn NULL;\n\t\t    else\n\t\t\ti--;\n\t\t/* ambiguous */\n\t\treturn NULL;\n\t    }\n\t}\n\telse if (cmp < 0) {\n\t    if (i == 0)\n\t\treturn NULL;\n\t    e = i - 1;\n\t}\n\telse\n\t    b = i + 1;\n    }\n    return NULL;\n}\n\n/* show parameter with bad options invokation */\nvoid\nshow_params(FILE * fp)\n{\n    int i, j, l;\n    const char *t = \"\";\n    char *cmt;\n\n#ifdef USE_M17N\n#ifdef ENABLE_NLS\n    OptionCharset = SystemCharset;\t/* FIXME */\n#endif\n#endif\n\n    fputs(\"\\nconfiguration parameters\\n\", fp);\n    for (j = 0; sections[j].name != NULL; j++) {\n#ifdef USE_M17N\n\tif (!OptionEncode)\n\t    cmt =\n\t\twc_conv(_(sections[j].name), OptionCharset,\n\t\t\tInnerCharset)->ptr;\n\telse\n#endif\n\t    cmt = sections[j].name;\n\tfprintf(fp, \"  section[%d]: %s\\n\", j, conv_to_system(cmt));\n\ti = 0;\n\twhile (sections[j].params[i].name) {\n\t    switch (sections[j].params[i].type) {\n\t    case P_INT:\n\t    case P_SHORT:\n\t    case P_CHARINT:\n\t    case P_NZINT:\n\t\tt = (sections[j].params[i].inputtype ==\n\t\t     PI_ONOFF) ? \"bool\" : \"number\";\n\t\tbreak;\n\t    case P_CHAR:\n\t\tt = \"char\";\n\t\tbreak;\n\t    case P_STRING:\n\t\tt = \"string\";\n\t\tbreak;\n#if defined(USE_SSL) && defined(USE_SSL_VERIFY)\n\t    case P_SSLPATH:\n\t\tt = \"path\";\n\t\tbreak;\n#endif\n#ifdef USE_COLOR\n\t    case P_COLOR:\n\t\tt = \"color\";\n\t\tbreak;\n#endif\n#ifdef USE_M17N\n\t    case P_CODE:\n\t\tt = \"charset\";\n\t\tbreak;\n#endif\n\t    case P_PIXELS:\n\t\tt = \"number\";\n\t\tbreak;\n\t    case P_SCALE:\n\t\tt = \"percent\";\n\t\tbreak;\n\t    }\n#ifdef USE_M17N\n\t    if (!OptionEncode)\n\t\tcmt = wc_conv(_(sections[j].params[i].comment),\n\t\t\t      OptionCharset, InnerCharset)->ptr;\n\t    else\n#endif\n\t\tcmt = sections[j].params[i].comment;\n\t    l = 30 - (strlen(sections[j].params[i].name) + strlen(t));\n\t    if (l < 0)\n\t\tl = 1;\n\t    fprintf(fp, \"    -o %s=<%s>%*s%s\\n\",\n\t\t    sections[j].params[i].name, t, l, \" \",\n\t\t    conv_to_system(cmt));\n\t    i++;\n\t}\n    }\n}\n\nint\nstr_to_bool(char *value, int old)\n{\n    if (value == NULL)\n\treturn 1;\n    switch (TOLOWER(*value)) {\n    case '0':\n    case 'f':\t\t\t/* false */\n    case 'n':\t\t\t/* no */\n    case 'u':\t\t\t/* undef */\n\treturn 0;\n    case 'o':\n\tif (TOLOWER(value[1]) == 'f')\t/* off */\n\t    return 0;\n\treturn 1;\t\t/* on */\n    case 't':\n\tif (TOLOWER(value[1]) == 'o')\t/* toggle */\n\t    return !old;\n\treturn 1;\t\t/* true */\n    case '!':\n    case 'r':\t\t\t/* reverse */\n    case 'x':\t\t\t/* exchange */\n\treturn !old;\n    }\n    return 1;\n}\n\n#ifdef USE_COLOR\nstatic int\nstr_to_color(char *value)\n{\n    if (value == NULL)\n\treturn 8;\t\t/* terminal */\n    switch (TOLOWER(*value)) {\n    case '0':\n\treturn 0;\t\t/* black */\n    case '1':\n    case 'r':\n\treturn 1;\t\t/* red */\n    case '2':\n    case 'g':\n\treturn 2;\t\t/* green */\n    case '3':\n    case 'y':\n\treturn 3;\t\t/* yellow */\n    case '4':\n\treturn 4;\t\t/* blue */\n    case '5':\n    case 'm':\n\treturn 5;\t\t/* magenta */\n    case '6':\n    case 'c':\n\treturn 6;\t\t/* cyan */\n    case '7':\n    case 'w':\n\treturn 7;\t\t/* white */\n    case '8':\n    case 't':\n\treturn 8;\t\t/* terminal */\n    case 'b':\n\tif (!strncasecmp(value, \"blu\", 3))\n\t    return 4;\t\t/* blue */\n\telse\n\t    return 0;\t\t/* black */\n    }\n    return 8;\t\t\t/* terminal */\n}\n#endif\n\nstatic int\nset_param(char *name, char *value)\n{\n    struct param_ptr *p;\n    double ppc;\n\n    if (value == NULL)\n\treturn 0;\n    p = search_param(name);\n    if (p == NULL)\n\treturn 0;\n    switch (p->type) {\n    case P_INT:\n\tif (atoi(value) >= 0)\n\t    *(int *)p->varptr = (p->inputtype == PI_ONOFF)\n\t\t? str_to_bool(value, *(int *)p->varptr) : atoi(value);\n\tbreak;\n    case P_NZINT:\n\tif (atoi(value) > 0)\n\t    *(int *)p->varptr = atoi(value);\n\tbreak;\n    case P_SHORT:\n\t*(short *)p->varptr = (p->inputtype == PI_ONOFF)\n\t    ? str_to_bool(value, *(short *)p->varptr) : atoi(value);\n\tbreak;\n    case P_CHARINT:\n\t*(char *)p->varptr = (p->inputtype == PI_ONOFF)\n\t    ? str_to_bool(value, *(char *)p->varptr) : atoi(value);\n\tbreak;\n    case P_CHAR:\n\t*(char *)p->varptr = value[0];\n\tbreak;\n    case P_STRING:\n\t*(char **)p->varptr = value;\n\tbreak;\n#if defined(USE_SSL) && defined(USE_SSL_VERIFY)\n    case P_SSLPATH:\n\tif (value != NULL && value[0] != '\\0')\n\t    *(char **)p->varptr = rcFile(value);\n\telse\n\t    *(char **)p->varptr = NULL;\n\tssl_path_modified = 1;\n\tbreak;\n#endif\n#ifdef USE_COLOR\n    case P_COLOR:\n\t*(int *)p->varptr = str_to_color(value);\n\tbreak;\n#endif\n#ifdef USE_M17N\n    case P_CODE:\n\t*(wc_ces *) p->varptr =\n\t    wc_guess_charset_short(value, *(wc_ces *) p->varptr);\n\tbreak;\n#endif\n    case P_PIXELS:\n\tppc = atof(value);\n\tif (ppc >= MINIMUM_PIXEL_PER_CHAR && ppc <= MAXIMUM_PIXEL_PER_CHAR * 2)\n\t    *(double *)p->varptr = ppc;\n\tbreak;\n    case P_SCALE:\n\tppc = atof(value);\n\tif (ppc >= 10 && ppc <= 1000)\n\t    *(double *)p->varptr = ppc;\n\tbreak;\n    }\n    return 1;\n}\n\nint\nset_param_option(char *option)\n{\n    Str tmp = Strnew();\n    char *p = option, *q;\n\n    while (*p && !IS_SPACE(*p) && *p != '=')\n\tStrcat_char(tmp, *p++);\n    while (*p && IS_SPACE(*p))\n\tp++;\n    if (*p == '=') {\n\tp++;\n\twhile (*p && IS_SPACE(*p))\n\t    p++;\n    }\n    Strlower(tmp);\n    if (set_param(tmp->ptr, p))\n\tgoto option_assigned;\n    q = tmp->ptr;\n    if (!strncmp(q, \"no\", 2)) {\t/* -o noxxx, -o no-xxx, -o no_xxx */\n\tq += 2;\n\tif (*q == '-' || *q == '_')\n\t    q++;\n    }\n    else if (tmp->ptr[0] == '-')\t/* -o -xxx */\n\tq++;\n    else\n\treturn 0;\n    if (set_param(q, \"0\"))\n\tgoto option_assigned;\n    return 0;\n  option_assigned:\n    return 1;\n}\n\nchar *\nget_param_option(char *name)\n{\n    struct param_ptr *p;\n\n    p = search_param(name);\n    return p ? to_str(p)->ptr : NULL;\n}\n\nstatic void\ninterpret_rc(FILE * f)\n{\n    Str line;\n    Str tmp;\n    char *p;\n\n    for (;;) {\n\tline = Strfgets(f);\n\tif (line->length == 0)\t\t/* end of file */\n\t    break;\n\tStrchop(line);\n\tif (line->length == 0)\t\t/* blank line */\n\t    continue;\n\tStrremovefirstspaces(line);\n\tif (line->ptr[0] == '#')\t/* comment */\n\t    continue;\n\ttmp = Strnew();\n\tp = line->ptr;\n\twhile (*p && !IS_SPACE(*p))\n\t    Strcat_char(tmp, *p++);\n\twhile (*p && IS_SPACE(*p))\n\t    p++;\n\tStrlower(tmp);\n\tset_param(tmp->ptr, p);\n    }\n}\n\nvoid\nparse_proxy()\n{\n    if (non_null(HTTP_proxy))\n\tparseURL(HTTP_proxy, &HTTP_proxy_parsed, NULL);\n#ifdef USE_SSL\n    if (non_null(HTTPS_proxy))\n\tparseURL(HTTPS_proxy, &HTTPS_proxy_parsed, NULL);\n#endif\t\t\t\t/* USE_SSL */\n#ifdef USE_GOPHER\n    if (non_null(GOPHER_proxy))\n\tparseURL(GOPHER_proxy, &GOPHER_proxy_parsed, NULL);\n#endif\n    if (non_null(FTP_proxy))\n\tparseURL(FTP_proxy, &FTP_proxy_parsed, NULL);\n    if (non_null(NO_proxy))\n\tset_no_proxy(NO_proxy);\n}\n\n#ifdef USE_COOKIE\nvoid\nparse_cookie()\n{\n    if (non_null(cookie_reject_domains))\n\tCookie_reject_domains = make_domain_list(cookie_reject_domains);\n    if (non_null(cookie_accept_domains))\n\tCookie_accept_domains = make_domain_list(cookie_accept_domains);\n    if (non_null(cookie_avoid_wrong_number_of_dots))\n\tCookie_avoid_wrong_number_of_dots_domains\n\t       \t= make_domain_list(cookie_avoid_wrong_number_of_dots);\n}\n#endif\n\n#ifdef __EMX__\nstatic int\ndo_mkdir(const char *dir, long mode)\n{\n    char *r, abs[_MAX_PATH];\n    size_t n;\n\n    _abspath(abs, rc_dir, _MAX_PATH);\t/* Translate '\\\\' to '/' */\n\n    if (!(n = strlen(abs)))\n\treturn -1;\n\n    if (*(r = abs + n - 1) == '/')\t/* Ignore tailing slash if it is */\n\t*r = 0;\n\n    return mkdir(abs, mode);\n}\n#else\t\t\t\t/* not __EMX__ */\n#ifdef __MINGW32_VERSION\n#define do_mkdir(dir,mode) mkdir(dir)\n#else\n#define do_mkdir(dir,mode) mkdir(dir,mode)\n#endif\t\t\t\t/* not __MINW32_VERSION */\n#endif\t\t\t\t/* not __EMX__ */\n\nstatic void loadSiteconf(void);\n\nvoid\nsync_with_option(void)\n{\n    if (PagerMax < LINES)\n\tPagerMax = LINES;\n    WrapSearch = WrapDefault;\n    parse_proxy();\n#ifdef USE_COOKIE\n    parse_cookie();\n#endif\n    initMailcap();\n    initMimeTypes();\n#ifdef USE_EXTERNAL_URI_LOADER\n    initURIMethods();\n#endif\n#ifdef USE_MIGEMO\n    init_migemo();\n#endif\n#ifdef USE_IMAGE\n    if (fmInitialized && displayImage)\n\tinitImage();\n#else\n    displayImage = FALSE;\t/* XXX */\n#endif\n    loadPasswd();\n    loadPreForm();\n    loadSiteconf();\n\n    if (AcceptLang == NULL || *AcceptLang == '\\0') {\n\t/* TRANSLATORS: \n\t * AcceptLang default: this is used in Accept-Language: HTTP request \n\t * header. For example, ja.po should translate it as\n\t * \"ja;q=1.0, en;q=0.5\" like that.\n\t */\n\tAcceptLang = _(\"en;q=1.0\");\n    }\n    if (AcceptEncoding == NULL || *AcceptEncoding == '\\0')\n\tAcceptEncoding = acceptableEncoding();\n    if (AcceptMedia == NULL || *AcceptMedia == '\\0')\n\tAcceptMedia = acceptableMimeTypes();\n#ifdef USE_UNICODE\n    update_utf8_symbol();\n#endif\n    if (fmInitialized) {\n\tinitKeymap(FALSE);\n#ifdef USE_MOUSE\n\tinitMouseAction();\n#endif\t\t\t\t/* MOUSE */\n#ifdef USE_MENU\n\tinitMenu();\n#endif\t\t\t\t/* MENU */\n    }\n}\n\nvoid\ninit_rc(void)\n{\n    int i;\n    struct stat st;\n    FILE *f;\n\n    if (rc_dir != NULL)\n\tgoto open_rc;\n\n    rc_dir = expandPath(RC_DIR);\n    i = strlen(rc_dir);\n    if (i > 1 && rc_dir[i - 1] == '/')\n\trc_dir[i - 1] = '\\0';\n\n#ifdef USE_M17N\n    display_charset_str = wc_get_ces_list();\n    document_charset_str = display_charset_str;\n    system_charset_str = display_charset_str;\n#endif\n\n    if (stat(rc_dir, &st) < 0) {\n\tif (errno == ENOENT) {\t/* no directory */\n\t    if (do_mkdir(rc_dir, 0700) < 0) {\n\t\t/* fprintf(stderr, \"Can't create config directory (%s)!\\n\", rc_dir); */\n\t\tgoto rc_dir_err;\n\t    }\n\t    else {\n\t\tstat(rc_dir, &st);\n\t    }\n\t}\n\telse {\n\t    /* fprintf(stderr, \"Can't open config directory (%s)!\\n\", rc_dir); */\n\t    goto rc_dir_err;\n\t}\n    }\n    if (!S_ISDIR(st.st_mode)) {\n\t/* not a directory */\n\t/* fprintf(stderr, \"%s is not a directory!\\n\", rc_dir); */\n\tgoto rc_dir_err;\n    }\n    if (!(st.st_mode & S_IWUSR)) {\n\t/* fprintf(stderr, \"%s is not writable!\\n\", rc_dir); */\n\tgoto rc_dir_err;\n    }\n    no_rc_dir = FALSE;\n    tmp_dir = rc_dir;\n\n    if (config_file == NULL)\n\tconfig_file = rcFile(CONFIG_FILE);\n\n    create_option_search_table();\n\n  open_rc:\n    /* open config file */\n    if ((f = fopen(etcFile(W3MCONFIG), \"rt\")) != NULL) {\n\tinterpret_rc(f);\n\tfclose(f);\n    }\n    if ((f = fopen(confFile(CONFIG_FILE), \"rt\")) != NULL) {\n\tinterpret_rc(f);\n\tfclose(f);\n    }\n    if (config_file && (f = fopen(config_file, \"rt\")) != NULL) {\n\tinterpret_rc(f);\n\tfclose(f);\n    }\n    return;\n\n  rc_dir_err:\n    no_rc_dir = TRUE;\n    if (((tmp_dir = getenv(\"TMPDIR\")) == NULL || *tmp_dir == '\\0') &&\n\t((tmp_dir = getenv(\"TMP\")) == NULL || *tmp_dir == '\\0') &&\n\t((tmp_dir = getenv(\"TEMP\")) == NULL || *tmp_dir == '\\0'))\n\ttmp_dir = \"/tmp\";\n#ifdef HAVE_MKDTEMP\n    tmp_dir = mkdtemp(Strnew_m_charp(tmp_dir, \"/w3m-XXXXXX\", NULL)->ptr);\n    if (tmp_dir == NULL)\n\ttmp_dir = rc_dir;\n#endif\n    create_option_search_table();\n    goto open_rc;\n}\n\n\nstatic char optionpanel_src1[] =\n    \"<html><head><title>Option Setting Panel</title></head><body>\\\n<h1 align=center>Option Setting Panel<br>(w3m version %s)</b></h1>\\\n<form method=post action=\\\"file:///$LIB/\" W3MHELPERPANEL_CMDNAME \"\\\">\\\n<input type=hidden name=mode value=panel>\\\n<input type=hidden name=cookie value=\\\"%s\\\">\\\n<input type=submit value=\\\"%s\\\">\\\n</form><br>\\\n<form method=internal action=option>\";\n\nstatic Str optionpanel_str = NULL;\n\nstatic Str\nto_str(struct param_ptr *p)\n{\n    switch (p->type) {\n    case P_INT:\n#ifdef USE_COLOR\n    case P_COLOR:\n#endif\n#ifdef USE_M17N\n    case P_CODE:\n\treturn Sprintf(\"%d\", (int)(*(wc_ces *) p->varptr));\n#endif\n    case P_NZINT:\n\treturn Sprintf(\"%d\", *(int *)p->varptr);\n    case P_SHORT:\n\treturn Sprintf(\"%d\", *(short *)p->varptr);\n    case P_CHARINT:\n\treturn Sprintf(\"%d\", *(char *)p->varptr);\n    case P_CHAR:\n\treturn Sprintf(\"%c\", *(char *)p->varptr);\n    case P_STRING:\n#if defined(USE_SSL) && defined(USE_SSL_VERIFY)\n    case P_SSLPATH:\n#endif\n\t/*  SystemCharset -> InnerCharset */\n\treturn Strnew_charp(conv_from_system(*(char **)p->varptr));\n    case P_PIXELS:\n    case P_SCALE:\n\treturn Sprintf(\"%g\", *(double *)p->varptr);\n    }\n    /* not reached */\n    return NULL;\n}\n\nBuffer *\nload_option_panel(void)\n{\n    Str src;\n    struct param_ptr *p;\n    struct sel_c *s;\n#ifdef USE_M17N\n    wc_ces_list *c;\n#endif\n    int x, i;\n    Str tmp;\n    Buffer *buf;\n\n    if (optionpanel_str == NULL)\n\toptionpanel_str = Sprintf(optionpanel_src1, w3m_version,\n\t\t\t      html_quote(localCookie()->ptr), _(CMT_HELPER));\n#ifdef USE_M17N\n#ifdef ENABLE_NLS\n    OptionCharset = SystemCharset;\t/* FIXME */\n#endif\n    if (!OptionEncode) {\n\toptionpanel_str =\n\t    wc_Str_conv(optionpanel_str, OptionCharset, InnerCharset);\n\tfor (i = 0; sections[i].name != NULL; i++) {\n\t    sections[i].name =\n\t\twc_conv(_(sections[i].name), OptionCharset,\n\t\t\tInnerCharset)->ptr;\n\t    for (p = sections[i].params; p->name; p++) {\n\t\tp->comment =\n\t\t    wc_conv(_(p->comment), OptionCharset,\n\t\t\t    InnerCharset)->ptr;\n\t\tif (p->inputtype == PI_SEL_C\n#ifdef USE_COLOR\n\t\t\t&& p->select != colorstr\n#endif\n\t\t\t) {\n\t\t    for (s = (struct sel_c *)p->select; s->text != NULL; s++) {\n\t\t\ts->text =\n\t\t\t    wc_conv(_(s->text), OptionCharset,\n\t\t\t\t    InnerCharset)->ptr;\n\t\t    }\n\t\t}\n\t    }\n\t}\n#ifdef USE_COLOR\n\tfor (s = colorstr; s->text; s++)\n\t    s->text = wc_conv(_(s->text), OptionCharset,\n\t\t\t      InnerCharset)->ptr;\n#endif\n\tOptionEncode = TRUE;\n    }\n#endif\n    src = Strdup(optionpanel_str);\n\n    Strcat_charp(src, \"<table><tr><td>\");\n    for (i = 0; sections[i].name != NULL; i++) {\n\tStrcat_m_charp(src, \"<h1>\", sections[i].name, \"</h1>\", NULL);\n\tp = sections[i].params;\n\tStrcat_charp(src, \"<table width=100% cellpadding=0>\");\n\twhile (p->name) {\n\t    Strcat_m_charp(src, \"<tr><td>\", p->comment, NULL);\n\t    Strcat(src, Sprintf(\"</td><td width=%d>\",\n\t\t\t\t(int)(28 * pixel_per_char)));\n\t    switch (p->inputtype) {\n\t    case PI_TEXT:\n\t\tStrcat_m_charp(src, \"<input type=text name=\",\n\t\t\t       p->name,\n\t\t\t       \" value=\\\"\",\n\t\t\t       html_quote(to_str(p)->ptr), \"\\\">\", NULL);\n\t\tbreak;\n\t    case PI_ONOFF:\n\t\tx = atoi(to_str(p)->ptr);\n\t\tStrcat_m_charp(src, \"<input type=radio name=\",\n\t\t\t       p->name,\n\t\t\t       \" value=1\",\n\t\t\t       (x ? \" checked\" : \"\"),\n\t\t\t       \">YES&nbsp;&nbsp;<input type=radio name=\",\n\t\t\t       p->name,\n\t\t\t       \" value=0\", (x ? \"\" : \" checked\"), \">NO\", NULL);\n\t\tbreak;\n\t    case PI_SEL_C:\n\t\ttmp = to_str(p);\n\t\tStrcat_m_charp(src, \"<select name=\", p->name, \">\", NULL);\n\t\tfor (s = (struct sel_c *)p->select; s->text != NULL; s++) {\n\t\t    Strcat_charp(src, \"<option value=\");\n\t\t    Strcat(src, Sprintf(\"%s\\n\", s->cvalue));\n\t\t    if ((p->type != P_CHAR && s->value == atoi(tmp->ptr)) ||\n\t\t\t(p->type == P_CHAR && (char)s->value == *(tmp->ptr)))\n\t\t\tStrcat_charp(src, \" selected\");\n\t\t    Strcat_char(src, '>');\n\t\t    Strcat_charp(src, s->text);\n\t\t}\n\t\tStrcat_charp(src, \"</select>\");\n\t\tbreak;\n#ifdef USE_M17N\n\t    case PI_CODE:\n\t\ttmp = to_str(p);\n\t\tStrcat_m_charp(src, \"<select name=\", p->name, \">\", NULL);\n\t\tfor (c = *(wc_ces_list **) p->select; c->desc != NULL; c++) {\n\t\t    Strcat_charp(src, \"<option value=\");\n\t\t    Strcat(src, Sprintf(\"%s\\n\", c->name));\n\t\t    if (c->id == atoi(tmp->ptr))\n\t\t\tStrcat_charp(src, \" selected\");\n\t\t    Strcat_char(src, '>');\n\t\t    Strcat_charp(src, c->desc);\n\t\t}\n\t\tStrcat_charp(src, \"</select>\");\n\t\tbreak;\n#endif\n\t    }\n\t    Strcat_charp(src, \"</td></tr>\\n\");\n\t    p++;\n\t}\n\tStrcat_charp(src,\n\t\t     \"<tr><td></td><td><p><input type=submit value=\\\"OK\\\"></td></tr>\");\n\tStrcat_charp(src, \"</table><hr width=50%>\");\n    }\n    Strcat_charp(src, \"</table></form></body></html>\");\n    buf = loadHTMLString(src);\n#ifdef USE_M17N\n    if (buf)\n\tbuf->document_charset = OptionCharset;\n#endif\n    return buf;\n}\n\nvoid\npanel_set_option(struct parsed_tagarg *arg)\n{\n    FILE *f = NULL;\n    char *p;\n    Str s = Strnew(), tmp;\n\n    if (config_file == NULL) {\n\tdisp_message(\"There's no config file... config not saved\", FALSE);\n    }\n    else {\n\tf = fopen(config_file, \"wt\");\n\tif (f == NULL) {\n\t    disp_message(\"Can't write option!\", FALSE);\n\t}\n    }\n    while (arg) {\n\t/*  InnerCharset -> SystemCharset */\n\tif (arg->value) {\n\t    p = conv_to_system(arg->value);\n\t    if (set_param(arg->arg, p)) {\n\t\ttmp = Sprintf(\"%s %s\\n\", arg->arg, p);\n\t\tStrcat(tmp, s);\n\t\ts = tmp;\n\t    }\n\t}\n\targ = arg->next;\n    }\n    if (f) {\n\tfputs(s->ptr, f);\n\tfclose(f);\n    }\n    sync_with_option();\n    backBf();\n}\n\nchar *\nrcFile(char *base)\n{\n    if (base &&\n\t(base[0] == '/' ||\n\t (base[0] == '.'\n\t  && (base[1] == '/' || (base[1] == '.' && base[2] == '/')))\n\t || (base[0] == '~' && base[1] == '/')))\n\t/* /file, ./file, ../file, ~/file */\n\treturn expandPath(base);\n    return expandPath(Strnew_m_charp(rc_dir, \"/\", base, NULL)->ptr);\n}\n\nchar *\nauxbinFile(char *base)\n{\n    return expandPath(Strnew_m_charp(w3m_auxbin_dir(), \"/\", base, NULL)->ptr);\n}\n\n#if 0\t\t\t\t/* not used */\nchar *\nlibFile(char *base)\n{\n    return expandPath(Strnew_m_charp(w3m_lib_dir(), \"/\", base, NULL)->ptr);\n}\n#endif\n\nchar *\netcFile(char *base)\n{\n    return expandPath(Strnew_m_charp(w3m_etc_dir(), \"/\", base, NULL)->ptr);\n}\n\nchar *\nconfFile(char *base)\n{\n    return expandPath(Strnew_m_charp(w3m_conf_dir(), \"/\", base, NULL)->ptr);\n}\n\n#ifndef USE_HELP_CGI\nchar *\nhelpFile(char *base)\n{\n    return expandPath(Strnew_m_charp(w3m_help_dir(), \"/\", base, NULL)->ptr);\n}\n#endif\n\n/* siteconf */\n/*\n * url \"<url>\"|/<re-url>/|m@<re-url>@i [exact]\n * substitute_url \"<destination-url>\"\n * url_charset <charset>\n * no_referer_from on|off\n * no_referer_to on|off\n * \n * The last match wins.\n */\n\nstruct siteconf_rec {\n    struct siteconf_rec *next;\n    char *url;\n    Regex *re_url;\n    int url_exact;\n    unsigned char mask[(SCONF_N_FIELD + 7) >> 3];\n\n    char *substitute_url;\n#ifdef USE_M17N\n    wc_ces url_charset;\n#endif\n    int no_referer_from;\n    int no_referer_to;\n};\n#define SCONF_TEST(ent, f) ((ent)->mask[(f)>>3] & (1U<<((f)&7)))\n#define SCONF_SET(ent, f) ((ent)->mask[(f)>>3] |= (1U<<((f)&7)))\n#define SCONF_CLEAR(ent, f) ((ent)->mask[(f)>>3] &= ~(1U<<((f)&7)))\n\nstatic struct siteconf_rec *siteconf_head = NULL;\nstatic struct siteconf_rec *newSiteconfRec(void);\n\nstatic struct siteconf_rec *\nnewSiteconfRec(void)\n{\n    struct siteconf_rec *ent;\n\n    ent = New(struct siteconf_rec);\n    ent->next = NULL;\n    ent->url = NULL;\n    ent->re_url = NULL;\n    ent->url_exact = FALSE;\n    memset(ent->mask, 0, sizeof(ent->mask));\n\n    ent->substitute_url = NULL;\n#ifdef USE_M17N\n    ent->url_charset = 0;\n#endif\n    return ent;\n}\n\nstatic void\nloadSiteconf(void)\n{\n    char *efname;\n    FILE *fp;\n    Str line;\n    struct siteconf_rec *ent = NULL;\n\n    siteconf_head = NULL;\n    if (!siteconf_file)\n\treturn;\n    if ((efname = expandPath(siteconf_file)) == NULL)\n\treturn;\n    fp = fopen(efname, \"r\");\n    if (fp == NULL)\n\treturn;\n    while (line = Strfgets(fp), line->length > 0) {\n\tchar *p, *s;\n\n\tStrchop(line);\n\tp = line->ptr;\n\tSKIP_BLANKS(p);\n\tif (*p == '#' || *p == '\\0')\n\t    continue;\n\ts = getWord(&p);\n\n\t/* The \"url\" begins a new record. */\n\tif (strcmp(s, \"url\") == 0) {\n\t    char *url, *opt;\n\t    struct siteconf_rec *newent;\n\n\t    /* First, register the current record. */\n\t    if (ent) {\n\t\tent->next = siteconf_head;\n\t\tsiteconf_head = ent;\n\t\tent = NULL;\n\t    }\n\n\t    /* Second, create a new record. */\n\t    newent = newSiteconfRec();\n\t    url = getRegexWord((const char **)&p, &newent->re_url);\n\t    opt = getWord(&p);\n\t    SKIP_BLANKS(p);\n\t    if (!newent->re_url) {\n\t\tParsedURL pu;\n\t\tif (!url || !*url)\n\t\t    continue;\n\t\tparseURL2(url, &pu, NULL);\n\t\tnewent->url = parsedURL2Str(&pu)->ptr;\n\t    }\n\t    /* If we have an extra or unknown option, ignore this record\n\t     * for future extensions. */\n\t    if (strcmp(opt, \"exact\") == 0) {\n\t\tnewent->url_exact = TRUE;\n\t    }\n\t    else if (*opt != 0)\n\t\t    continue;\n\t    if (*p)\n\t\tcontinue;\n\t    ent = newent;\n\t    continue;\n\t}\n\n\t/* If the current record is broken, skip to the next \"url\". */\n\tif (!ent)\n\t    continue;\n\n\t/* Fill the new record. */\n\tif (strcmp(s, \"substitute_url\") == 0) {\n\t    ent->substitute_url = getQWord(&p);\n\t    SCONF_SET(ent, SCONF_SUBSTITUTE_URL);\n\t}\n#ifdef USE_M17N\n\telse if (strcmp(s, \"url_charset\") == 0) {\n\t    char *charset = getWord(&p);\n\t    ent->url_charset = (charset && *charset) ?\n\t\twc_charset_to_ces(charset) : 0;\n\t    SCONF_SET(ent, SCONF_URL_CHARSET);\n\t}\n#endif /* USE_M17N */\n\telse if (strcmp(s, \"no_referer_from\") == 0) {\n\t    ent->no_referer_from = str_to_bool(getWord(&p), 0);\n\t    SCONF_SET(ent, SCONF_NO_REFERER_FROM);\n\t}\n\telse if (strcmp(s, \"no_referer_to\") == 0) {\n\t    ent->no_referer_to = str_to_bool(getWord(&p), 0);\n\t    SCONF_SET(ent, SCONF_NO_REFERER_TO);\n\t}\n    }\n    if (ent) {\n\tent->next = siteconf_head;\n\tsiteconf_head = ent;\n\tent = NULL;\n    }\n    fclose(fp);\n}\n\nconst void *\nquerySiteconf(const ParsedURL *query_pu, int field)\n{\n    const struct siteconf_rec *ent;\n    Str u;\n    char *firstp, *lastp;\n\n    if (field < 0 || field >= SCONF_N_FIELD)\n\treturn NULL;\n    if (!query_pu || IS_EMPTY_PARSED_URL(query_pu))\n\treturn NULL;\n    u = parsedURL2Str((ParsedURL *)query_pu);\n    if (u->length == 0)\n\treturn NULL;\n\n    for (ent = siteconf_head; ent; ent = ent->next) {\n\tif (!SCONF_TEST(ent, field))\n\t    continue;\n\tif (ent->re_url) {\n\t    if (RegexMatch(ent->re_url, u->ptr, u->length, 1)) {\n\t\tMatchedPosition(ent->re_url, &firstp, &lastp);\n\t\tif (!ent->url_exact)\n\t\t    goto url_found;\n\t\tif (firstp != u->ptr || lastp == firstp)\n\t\t    continue;\n\t\tif (*lastp == 0 || *lastp == '?' || *(lastp - 1) == '?' ||\n\t\t    *lastp == '#' || *(lastp - 1) == '#')\n\t\t    goto url_found;\n\t    }\n\t} else {\n\t    int matchlen = strmatchlen(ent->url, u->ptr, u->length);\n\t    if (matchlen == 0 || ent->url[matchlen] != 0)\n\t\tcontinue;\n\t    firstp = u->ptr;\n\t    lastp = u->ptr + matchlen;\n\t    if (*lastp == 0 || *lastp == '?' || *(lastp - 1) == '?' ||\n\t\t*lastp == '#' || *(lastp - 1) == '#')\n\t\tgoto url_found;\n\t    if (!ent->url_exact && (*lastp == '/' || *(lastp - 1) == '/'))\n\t\tgoto url_found;\n\t}\n    }\n    return NULL;\n\nurl_found:\n    switch (field) {\n    case SCONF_SUBSTITUTE_URL:\n\tif (ent->substitute_url && *ent->substitute_url) {\n\t    Str tmp = Strnew_charp_n(u->ptr, firstp - u->ptr);\n\t    Strcat_charp(tmp, ent->substitute_url);\n\t    Strcat_charp(tmp, lastp);\n\t    return tmp->ptr;\n\t}\n\treturn NULL;\n#ifdef USE_M17N\n    case SCONF_URL_CHARSET:\n\treturn &ent->url_charset;\n#endif\n    case SCONF_NO_REFERER_FROM:\n\treturn &ent->no_referer_from;\n    case SCONF_NO_REFERER_TO:\n\treturn &ent->no_referer_to;\n    }\n    return NULL;\n}\n"], "filenames": ["config.h.dist", "config.h.in", "configure", "configure.ac", "main.c", "rc.c"], "buggy_code_start_loc": [212, 145, 8770, 153, 5974, 1332], "buggy_code_end_loc": [212, 145, 8771, 154, 5974, 1332], "fixing_code_start_loc": [213, 146, 8770, 153, 5975, 1333], "fixing_code_end_loc": [214, 147, 8771, 154, 5982, 1338], "type": "CWE-59", "message": "w3m through 0.5.3 does not properly handle temporary files when the ~/.w3m directory is unwritable, which allows a local attacker to craft a symlink attack to overwrite arbitrary files.", "other": {"cve": {"id": "CVE-2018-6198", "sourceIdentifier": "cve@mitre.org", "published": "2018-01-25T03:29:00.697", "lastModified": "2019-10-03T00:03:26.223", "vulnStatus": "Modified", "descriptions": [{"lang": "en", "value": "w3m through 0.5.3 does not properly handle temporary files when the ~/.w3m directory is unwritable, which allows a local attacker to craft a symlink attack to overwrite arbitrary files."}, {"lang": "es", "value": "w3m hasta la versi\u00f3n 0.5.3 no gestiona correctamente los archivos temporales cuando no se puede escribir en el directorio ~/.w3m, lo que permite que un atacante local cree un ataque symlink para sobrescribir archivos arbitrarios."}], "metrics": {"cvssMetricV30": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.0", "vectorString": "CVSS:3.0/AV:L/AC:H/PR:L/UI:N/S:U/C:N/I:H/A:N", "attackVector": "LOCAL", "attackComplexity": "HIGH", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "HIGH", "availabilityImpact": "NONE", "baseScore": 4.7, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 1.0, "impactScore": 3.6}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:L/AC:M/Au:N/C:N/I:P/A:P", "accessVector": "LOCAL", "accessComplexity": "MEDIUM", "authentication": "NONE", "confidentialityImpact": "NONE", "integrityImpact": "PARTIAL", "availabilityImpact": "PARTIAL", "baseScore": 3.3}, "baseSeverity": "LOW", "exploitabilityScore": 3.4, "impactScore": 4.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-59"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:w3m_project:w3m:*:*:*:*:*:*:*:*", "versionEndIncluding": "0.5.3", "matchCriteriaId": "E9ED2413-606A-403C-82FF-A2EB381867AF"}]}]}, {"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:o:canonical:ubuntu_linux:12.04:*:*:*:esm:*:*:*", "matchCriteriaId": "8D305F7A-D159-4716-AB26-5E38BB5CD991"}, {"vulnerable": true, "criteria": "cpe:2.3:o:canonical:ubuntu_linux:14.04:*:*:*:lts:*:*:*", "matchCriteriaId": "B5A6F2F3-4894-4392-8296-3B8DD2679084"}, {"vulnerable": true, "criteria": "cpe:2.3:o:canonical:ubuntu_linux:16.04:*:*:*:lts:*:*:*", "matchCriteriaId": "F7016A2A-8365-4F1A-89A2-7A19F2BCAE5B"}, {"vulnerable": true, "criteria": "cpe:2.3:o:canonical:ubuntu_linux:17.10:*:*:*:*:*:*:*", "matchCriteriaId": "9070C9D8-A14A-467F-8253-33B966C16886"}]}]}], "references": [{"url": "http://lists.opensuse.org/opensuse-security-announce/2019-04/msg00028.html", "source": "cve@mitre.org"}, {"url": "http://www.securityfocus.com/bid/102855", "source": "cve@mitre.org", "tags": ["Third Party Advisory", "VDB Entry"]}, {"url": "https://bugs.debian.org/888097", "source": "cve@mitre.org", "tags": ["Issue Tracking", "Patch", "Third Party Advisory"]}, {"url": "https://github.com/tats/w3m/commit/18dcbadf2771cdb0c18509b14e4e73505b242753", "source": "cve@mitre.org", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://salsa.debian.org/debian/w3m/commit/18dcbadf2771cdb0c18509b14e4e73505b242753", "source": "cve@mitre.org", "tags": ["Third Party Advisory", "Patch"]}, {"url": "https://usn.ubuntu.com/3555-1/", "source": "cve@mitre.org", "tags": ["Third Party Advisory"]}, {"url": "https://usn.ubuntu.com/3555-2/", "source": "cve@mitre.org", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/tats/w3m/commit/18dcbadf2771cdb0c18509b14e4e73505b242753"}}