{"buggy_code": ["<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<!--\n * See the NOTICE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n-->\n\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n  <parent>\n    <groupId>org.xwiki.platform</groupId>\n    <artifactId>xwiki-platform-core</artifactId>\n    <version>14.0-SNAPSHOT</version>\n  </parent>\n  <artifactId>xwiki-platform-oldcore</artifactId>\n  <name>XWiki Platform - Old Core</name>\n  <packaging>jar</packaging>\n  <description>XWiki Platform - Old Core</description>\n  <properties>\n    <xwiki.extension.features>\n      <!-- Old names of this module used for retro compatibility when resolving dependencies of old extensions -->\n      com.xpn.xwiki.platform:xwiki-core,\n\n      <!-- The old org.xwiki.platform:xwiki-platform-filter-instance-oldcore has been merged with oldcore -->\n      org.xwiki.platform:xwiki-platform-filter-instance-oldcore\n    </xwiki.extension.features>\n    <!-- Skipping revapi since xwiki-platform-legacy-oldcore wraps this module and runs checks on it -->\n    <xwiki.revapi.skip>true</xwiki.revapi.skip>\n    <xwiki.jacoco.instructionRatio>0.36</xwiki.jacoco.instructionRatio>\n    <checkstyle.suppressions.location>${basedir}/src/checkstyle/checkstyle-suppressions.xml</checkstyle.suppressions.location>\n    <!-- TODO: Remove once the tests have been fixed to not output anything to the console! -->\n    <xwiki.surefire.captureconsole.skip>true</xwiki.surefire.captureconsole.skip>\n\n    <!-- Workaround a limitation in Eclipse M2E which prevent using classes from OldCore test-jar in other module's main classes -->\n    <m2e.disableTestClasspathFlag>true</m2e.disableTestClasspathFlag>\n  </properties>\n  <dependencies>\n    <dependency>\n      <groupId>org.jvnet.hudson</groupId>\n      <artifactId>org.suigeneris.jrcs.diff</artifactId>\n      <version>0.4.2</version>\n    </dependency>\n    <dependency>\n      <groupId>org.jvnet.hudson</groupId>\n      <artifactId>org.suigeneris.jrcs.rcs</artifactId>\n      <version>0.4.2</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-diff-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n\n    <!-- CSS4J (used for PDF export) -->\n    <dependency>\n      <groupId>io.sf.carte</groupId>\n      <artifactId>css4j</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>io.sf.carte</groupId>\n      <artifactId>css4j-dom4j</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>io.sf.carte</groupId>\n      <artifactId>xml-dtd</artifactId>\n    </dependency>\n\n    <!-- Dependencies that we need to fix so that we don't need to have them in our custom remote repository -->\n\n    <!-- Standard dependencies found in the central repository -->\n    <!-- Apache Commons -->\n    <!-- The versions for these are defined in the parent pom -->\n    <dependency>\n      <groupId>org.apache.commons</groupId>\n      <artifactId>commons-lang3</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.commons</groupId>\n      <artifactId>commons-collections4</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>commons-io</groupId>\n      <artifactId>commons-io</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>commons-httpclient</groupId>\n      <artifactId>commons-httpclient</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.commons</groupId>\n      <artifactId>commons-dbcp2</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>commons-fileupload</groupId>\n      <artifactId>commons-fileupload</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>commons-codec</groupId>\n      <artifactId>commons-codec</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.commons</groupId>\n      <artifactId>commons-compress</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.commons</groupId>\n      <artifactId>commons-configuration2</artifactId>\n    </dependency>\n\n    <!-- For extracting metadata from various document types -->\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-tika-detect</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- The platform -->\n    <!-- Web part -->\n    <dependency>\n      <groupId>javax.servlet</groupId>\n      <artifactId>javax.servlet-api</artifactId>\n    </dependency>\n\n    <!-- Used by parse groovy from page -->\n    <!-- Note: We only depend on the miniumum required to compile oldcore since the distributions will depend on\n         xwiki-commons-groovy which has dependencies on all the various groovy jars and thus they'll be bundled -->\n    <dependency>\n      <groupId>org.codehaus.groovy</groupId>\n      <artifactId>groovy</artifactId>\n    </dependency>\n\n    <!-- Storage -->\n    <dependency>\n      <groupId>org.hibernate</groupId>\n      <artifactId>hibernate-core</artifactId>\n    </dependency>\n    <!-- Replace the one from Hibernate -->\n    <dependency>\n      <groupId>jakarta.xml.bind</groupId>\n      <artifactId>jakarta.xml.bind-api</artifactId>\n    </dependency>\n    <!-- Use jakarta.transaction:jakarta.transaction-api instead to not have duplicate JARs in generated WARs -->\n    <dependency>\n      <groupId>jakarta.transaction</groupId>\n      <artifactId>jakarta.transaction-api</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>org.hibernate</groupId>\n      <artifactId>hibernate-c3p0</artifactId>\n      <version>${hibernate.version}</version>\n      <scope>runtime</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.hibernate.validator</groupId>\n      <artifactId>hibernate-validator</artifactId>\n      <scope>runtime</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.liquibase</groupId>\n      <artifactId>liquibase-core</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>com.github.jsqlparser</groupId>\n      <artifactId>jsqlparser</artifactId>\n    </dependency>\n\n    <!-- UnexpectedException -->\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-store-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- XML processing -->\n    <dependency>\n      <groupId>xml-apis</groupId>\n      <artifactId>xml-apis</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>xerces</groupId>\n      <artifactId>xercesImpl</artifactId>\n      <!-- Only needed at runtime -->\n      <scope>runtime</scope>\n    </dependency>\n    <!-- Used to generate XHTML in Java (generally in object property displayer) -->\n    <!-- TODO: We should drop ECS -->\n    <dependency>\n      <groupId>ecs</groupId>\n      <artifactId>ecs</artifactId>\n      <version>1.4.2</version>\n    </dependency>\n\n    <!-- HTML Export/PDF Export -->\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-url-scheme-filesystem</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>${project.groupId}</groupId>\n      <artifactId>xwiki-platform-tree-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- PDF export, image processing -->\n    <dependency>\n      <groupId>org.apache.xmlgraphics</groupId>\n      <artifactId>fop</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.xmlgraphics</groupId>\n      <artifactId>batik-svgrasterizer</artifactId>\n    </dependency>\n    <!-- fop gets us batik but not batik-codec and we need this one for SVGPlugin -->\n    <dependency>\n      <groupId>org.apache.xmlgraphics</groupId>\n      <artifactId>batik-codec</artifactId>\n      <scope>runtime</scope>\n    </dependency>\n\n    <!-- Misc -->\n    <!-- Better date manipulation than what JDK provides -->\n    <dependency>\n      <groupId>joda-time</groupId>\n      <artifactId>joda-time</artifactId>\n    </dependency>\n    <!-- Mail sender -->\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-mail-send-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- Other XWiki modules -->\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-component-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-environment-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-context</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-script</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-classloader-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-job-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-properties</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-configuration-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-observation-local</artifactId>\n      <version>${commons.version}</version>\n      <scope>runtime</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-observation-remote</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-model-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-image-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-velocity-xwiki</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-bridge</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.rendering</groupId>\n      <artifactId>xwiki-rendering-api</artifactId>\n      <version>${rendering.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-rendering-parser</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-rendering-xwiki</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-url-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-display-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-sheet-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-skin-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-template-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-rendering-async-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- Used by com.xpn.xwiki.web.CommentAction -->\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-captcha-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-formula-renderer</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-cache-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-cache-infinispan</artifactId>\n      <version>${commons.version}</version>\n      <!-- Only needed at runtime since it's a component implementation -->\n      <scope>runtime</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-xml</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-extension-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-query-manager</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-office-importer</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-component-multi</artifactId>\n      <version>${project.version}</version>\n      <!-- Only required at runtime (ie in the distribution) -->\n      <scope>runtime</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-query-xwql</artifactId>\n      <version>${project.version}</version>\n      <scope>runtime</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-csrf</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-localization-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-security-authorization-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-wiki-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-resource-default</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-edit-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- Used by HibernateDataMigrationManager to temporarily disable logback logging in hibernate -->\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-logging-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-logging-logback</artifactId>\n      <version>${commons.version}</version>\n      <scope>test</scope>\n    </dependency>\n\n    <!-- Used in to prioritize MandatoryDocumentInitializers -->\n    <dependency>\n      <groupId>jakarta.annotation</groupId>\n      <artifactId>jakarta.annotation-api</artifactId>\n    </dependency>\n\n    <!-- Test dependencies -->\n\n    <!-- Used to mock XWiki class -->\n    <dependency>\n      <groupId>org.jmock</groupId>\n      <artifactId>jmock-legacy</artifactId>\n      <scope>test</scope>\n    </dependency>\n\n    <!-- To be removed as soon as we get rid of AbstractXWikiComponentTestCase -->\n    <dependency>\n      <groupId>jmock</groupId>\n      <artifactId>jmock</artifactId>\n      <version>1.2.0</version>\n      <scope>test</scope>\n    </dependency>\n    <!-- To be removed as soon as we get rid of AbstractXWikiComponentTestCase -->\n    <dependency>\n      <groupId>jmock</groupId>\n      <artifactId>jmock-cglib</artifactId>\n      <version>1.2.0</version>\n      <scope>test</scope>\n      <exclusions>\n        <!-- We use cglib:cglig instead -->\n        <exclusion>\n          <groupId>cglib</groupId>\n          <artifactId>cglib-nodep</artifactId>\n        </exclusion>\n      </exclusions>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-rendering-macro-script</artifactId>\n      <version>${project.version}</version>\n      <type>test-jar</type>\n      <scope>test</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-rendering-macro-velocity</artifactId>\n      <version>${project.version}</version>\n      <scope>test</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-rendering-macro-groovy</artifactId>\n      <version>${project.version}</version>\n      <scope>test</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-xar-model</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-filter-stream-xar</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n        <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-filter-event-xwiki</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-filter-event-user</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-filter-instance-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-filter-instance-document</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-eventstream-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-security-authentication-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-store-merge-api</artifactId>\n      <version>${project.version}</version>\n      <scope>compile</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-model-validation-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- Test dependencies -->\n\n    <!-- XWiki syntax parsers -->\n    <dependency>\n      <groupId>org.xwiki.rendering</groupId>\n      <artifactId>xwiki-rendering-syntax-xwiki21</artifactId>\n      <version>${rendering.version}</version>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.rendering</groupId>\n      <artifactId>xwiki-rendering-syntax-xhtml</artifactId>\n      <version>${rendering.version}</version>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.rendering</groupId>\n      <artifactId>xwiki-rendering-syntax-html</artifactId>\n      <version>${rendering.version}</version>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n      <groupId>xmlunit</groupId>\n      <artifactId>xmlunit</artifactId>\n      <version>1.6</version>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n      <groupId>com.google.guava</groupId>\n      <artifactId>guava-testlib</artifactId>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-tool-test-component</artifactId>\n      <version>${commons.version}</version>\n      <scope>test</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-filter-test</artifactId>\n      <version>${commons.version}</version>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-filter-stream-xml</artifactId>\n      <version>${commons.version}</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n  <build>\n    <plugins>\n      <!-- Publish a Core Test JAR -->\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-jar-plugin</artifactId>\n        <executions>\n          <execution>\n            <!-- We must have an ID here, as otherwise the configuration is used for generating the normal jar, too.\n                 See XWIKI-2757 -->\n            <id>build-test-jar</id>\n            <goals>\n              <goal>test-jar</goal>\n            </goals>\n            <configuration>\n              <includes>\n                <include>**/test/**/*.class</include>\n              </includes>\n            </configuration>\n          </execution>\n        </executions>\n      </plugin>\n      <plugin>\n        <!-- Apply the Checkstyle configurations defined in the top level pom.xml file -->\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-checkstyle-plugin</artifactId>\n        <executions>\n          <execution>\n            <!-- Specify the \"default\" execution id so that the \"blocker\" one is always executed -->\n            <id>default</id>\n            <configuration>\n              <excludes>\n                **/XWikiConfig.java,\n                **/XWikiConstant.java,\n                **/XWikiContext.java,\n                **/XWikiException.java,\n                **/XWiki.java,\n                **/api/Attachment.java,\n                **/api/Class.java,\n                **/api/Collection.java,\n                **/api/CriteriaService.java,\n                **/api/Document.java,\n                **/api/DocumentSection.java,\n                **/api/Object.java,\n                **/api/XWiki.java,\n                **/atom/lifeblog/LifeblogServices.java,\n                **/atom/lifeblog/UserBlog.java,\n                **/atom/WSSEHttpHeader.java,\n                **/atom/XWikiHelper.java,\n                **/content/parsers/RenamePageReplaceLinkHandler.java,\n                **/criteria/api/XWikiCriteriaService.java,\n                **/criteria/impl/DurationFactory.java,\n                **/criteria/impl/Duration.java,\n                **/criteria/impl/PeriodFactory.java,\n                **/criteria/impl/Period.java,\n                **/criteria/impl/RangeFactory.java,\n                **/criteria/impl/Range.java,\n                **/criteria/impl/RevisionCriteriaFactory.java,\n                **/criteria/impl/RevisionCriteria.java,\n                **/criteria/impl/ScopeFactory.java,\n                **/criteria/impl/Scope.java,\n                **/criteria/impl/XWikiCriteriaServiceImpl.java,\n                **/DefaultSkinAccessBridge.java,\n                **/doc/AttachmentDiff.java,\n                **/doc/DefaultDocumentAccessBridge.java,\n                **/doc/DeletedAttachment.java,\n                **/doc/DocumentErrorHandler.java,\n                **/doc/LazyXWikiDocument.java,\n                **/doc/MetaDataDiff.java,\n                **/doc/rcs/XWikiPatchUtils.java,\n                **/doc/rcs/XWikiRCSArchive.java,\n                **/doc/XWikiAttachment.java,\n                **/doc/XWikiDocument.java,\n                **/doc/XWikiLink.java,\n                **/doc/XWikiLock.java,\n                **/export/html/HtmlPackager.java,\n                **/i18n/i18n.java,\n                **/internal/DefaultCoreConfiguration.java,\n                **/internal/DefaultXWikiStubContextProvider.java,\n                **/internal/file/TemporaryFile.java,\n                **/internal/filter/XWikiDocumentFilterUtils.java,\n                **/internal/filter/input/DocumentInstanceInputEventGenerator.java,\n                **/internal/filter/input/XWikiDocumentLocaleEventGenerator.java,\n                **/internal/filter/output/DocumentInstanceOutputFilterStream.java,\n                **/internal/filter/output/UserInstanceOutputFilterStream.java,\n                **/internal/filter/output/XWikiDocumentOutputFilterStream.java,\n                **/internal/render/OldRendering.java,\n                **/render/groovy/ParseGroovyFromString.java,\n                **/internal/mandatory/AbstractRightsDocumentInitializer.java,\n                **/internal/mandatory/XWikiPreferencesDocumentInitializer.java,\n                **/internal/mandatory/XWikiUsersDocumentInitializer.java,\n                **/internal/model/reference/CompactStringEntityReferenceSerializer.java,\n                **/internal/model/reference/CompactWikiStringEntityReferenceSerializer.java,\n                **/internal/model/reference/CurrentEntityReferenceValueProvider.java,\n                **/internal/model/reference/CurrentMixedEntityReferenceValueProvider.java,\n                **/internal/model/reference/CurrentMixedReferenceDocumentReferenceResolver.java,\n                **/internal/model/reference/CurrentMixedReferenceEntityReferenceResolver.java,\n                **/internal/model/reference/CurrentMixedStringDocumentReferenceResolver.java,\n                **/internal/model/reference/CurrentReferenceDocumentReferenceResolver.java,\n                **/internal/model/reference/CurrentReferenceEntityReferenceResolver.java,\n                **/internal/model/reference/CurrentStringAttachmentReferenceResolver.java,\n                **/internal/model/reference/CurrentStringDocumentReferenceResolver.java,\n                **/internal/model/reference/CurrentStringEntityReferenceResolver.java,\n                **/internal/observation/remote/converter/AbstractXWikiEventConverter.java,\n                **/internal/observation/remote/converter/ActionExecutionEventConverter.java,\n                **/internal/script/DebugScriptService.java,\n                **/internal/store/hibernate/HibernateStore.java,\n                **/internal/store/hibernate/QueryImplementorDelegate.java,\n                **/internal/skin/*.java,\n                **/internal/template/InternalTemplateManager.java,\n                **/internal/template/TemplateEnvironmentResource.java,\n                **/monitor/api/MonitorData.java,\n                **/monitor/api/MonitorPlugin.java,\n                **/monitor/api/MonitorTimer.java,\n                **/monitor/api/MonitorTimerSummary.java,\n                **/objects/BaseCollection.java,\n                **/objects/BaseElement.java,\n                **/objects/BaseObject.java,\n                **/objects/BaseProperty.java,\n                **/objects/BaseStringProperty.java,\n                **/objects/classes/BaseClass.java,\n                **/objects/classes/BooleanClass.java,\n                **/objects/classes/ClassInterface.java,\n                **/objects/classes/DBListClass.java,\n                **/objects/classes/DBTreeListClass.java,\n                **/objects/classes/LevelsClass.java,\n                **/objects/classes/ListClass.java,\n                **/objects/classes/ListItem.java,\n                **/objects/classes/NumberClass.java,\n                **/objects/classes/PasswordClass.java,\n                **/objects/classes/PropertyClassInterface.java,\n                **/objects/classes/PropertyClass.java,\n                **/objects/classes/StaticListClass.java,\n                **/objects/classes/StringClass.java,\n                **/objects/classes/TextAreaClass.java,\n                **/objects/DBStringListProperty.java,\n                **/objects/DoubleProperty.java,\n                **/objects/ElementComparator.java,\n                **/objects/ElementInterface.java,\n                **/objects/FloatProperty.java,\n                **/objects/IntegerProperty.java,\n                **/objects/LargeStringProperty.java,\n                **/objects/ListProperty.java,\n                **/objects/LongProperty.java,\n                **/objects/NumberProperty.java,\n                **/objects/ObjectDiff.java,\n                **/objects/ObjectInterface.java,\n                **/objects/PropertyInterface.java,\n                **/objects/StringListProperty.java,\n                **/pdf/impl/PdfExportImpl.java,\n                **/pdf/impl/PdfURLFactory.java,\n                **/plugin/autotag/FrenchStemmer.java,\n                **/plugin/mail/MailPluginApi.java,\n                **/plugin/mail/MailPlugin.java,\n                **/plugin/packaging/DocumentFilter.java,\n                **/plugin/packaging/DocumentInfoAPI.java,\n                **/plugin/packaging/DocumentInfo.java,\n                **/plugin/packaging/ExcludeDocumentException.java,\n                **/plugin/packaging/PackageAPI.java,\n                **/plugin/packaging/PackageException.java,\n                **/plugin/packaging/Package.java,\n                **/plugin/packaging/PackagePlugin.java,\n                **/plugin/query/DefaultQuery.java,\n                **/plugin/query/HibernateQuery.java,\n                **/plugin/query/IQueryFactory.java,\n                **/plugin/query/IQuery.java,\n                **/plugin/query/OrderClause.java,\n                **/plugin/query/QueryPluginApi.java,\n                **/plugin/query/QueryPlugin.java,\n                **/plugin/query/SecHibernateQuery.java,\n                **/plugin/query/SepStringBuffer.java,\n                **/plugin/query/XWikiCriteria.java,\n                **/plugin/query/XWikiNamespaceResolver.java,\n                **/plugin/query/XWikiQueryConstants.java,\n                **/plugin/query/XWikiQuery.java,\n                **/plugin/svg/SVGPluginApi.java,\n                **/plugin/svg/SVGPlugin.java,\n                **/plugin/XWikiPluginManager.java,\n                **/pref/api/XWikiPrefService.java,\n                **/pref/impl/xwiki/XWikiPrefServiceImpl.java,\n                **/render/DefaultVelocityManager.java,\n                **/render/WikiSubstitution.java,\n                **/render/XWikiScriptContextInitializer.java,\n                **/render/XWikiVelocityContextInitializer.java,\n                **/render/groovy/XWikiPageClassLoader.java,\n                **/security/XWikiSecurityManager.java,\n                **/store/DBCPConnectionProvider.java,\n                **/store/hibernate/DefaultHibernateSessionFactory.java,\n                **/store/hibernate/HibernateAttachmentRecycleBinStore.java,\n                **/store/hibernate/HibernateSessionFactory.java,\n                <!-- AbstractDataMigrationManager has a fan out complexity of 25 that may needs to be investigated. -->\n                **/store/migration/AbstractDataMigrationManager.java,\n                <!-- Hibernate migrations use anonymous inner class (doInHibernate) that exceeds the 20 lines limit. -->\n                **/store/migration/hibernate/HibernateDataMigrationManager.java,\n                **/store/migration/hibernate/LegacyDataMigration.java,\n                **/store/migration/hibernate/R4340XWIKI883DataMigration.java,\n                **/store/migration/hibernate/R4359XWIKI1459DataMigration.java,\n                **/store/migration/hibernate/R6079XWIKI1878DataMigration.java,\n                **/store/migration/hibernate/R7350XWIKI2079DataMigration.java,\n                **/store/migration/hibernate/R40000XWIKI6990DataMigration.java,\n                **/store/migration/hibernate/AbstractResizeMigration.java,\n                **/store/XWikiAttachmentStoreInterface.java,\n                **/store/XWikiBatcherFactory.java,\n                **/store/XWikiBatcher.java,\n                **/store/XWikiBatcherStats.java,\n                **/store/XWikiCacheStoreInterface.java,\n                **/store/XWikiCacheStore.java,\n                **/store/XWikiDefaultStore.java,\n                **/store/XWikiHibernateAttachmentStore.java,\n                **/store/XWikiHibernateBaseStore.java,\n                <!-- XWikiHibernateRecycleBinStore has a Fan-Out complexity of 21 after adding Query on it -->\n                **/store/XWikiHibernateRecycleBinStore.java,\n                **/store/XWikiHibernateStore.java,\n                **/store/XWikiStoreInterface.java,\n                **/store/XWikiVersioningStoreInterface.java,\n                **/test/smtp/SimpleSmtpServer.java,\n                **/test/smtp/SmtpActionType.java,\n                **/test/smtp/SmtpMessage.java,\n                **/test/smtp/SmtpRequest.java,\n                **/test/smtp/SmtpResponse.java,\n                **/test/smtp/SmtpState.java,\n                **/user/api/XWikiAuthService.java,\n                **/user/api/XWikiGroupService.java,\n                **/user/api/XWikiRightNotFoundException.java,\n                **/user/api/XWikiRightService.java,\n                **/user/api/XWikiUser.java,\n                **/user/impl/xwiki/AppServerTrustedAuthServiceImpl.java,\n                **/user/impl/xwiki/GroovyAuthServiceImpl.java,\n                **/user/impl/xwiki/MyBasicAuthenticator.java,\n                **/user/impl/xwiki/MyFilterConfig.java,\n                **/user/impl/xwiki/MyFormAuthenticator.java,\n                **/user/impl/xwiki/MyPersistentLoginManager.java,\n                **/user/impl/xwiki/XWikiAuthenticator.java,\n                **/user/impl/xwiki/XWikiAuthServiceImpl.java,\n                **/user/impl/xwiki/XWikiGroupServiceImpl.java,\n                **/user/impl/xwiki/XWikiRightServiceImpl.java,\n                **/util/AbstractXWikiRunnable.java,\n                **/util/MenuSubstitution.java,\n                **/util/Programming.java,\n                **/util/TOCGenerator.java,\n                **/util/Util.java,\n                **/validation/XWikiDefaultValidation.java,\n                **/validation/XWikiValidationInterface.java,\n                **/validation/XWikiValidationStatus.java,\n                **/web/AdminAction.java,\n                **/web/AttachAction.java,\n                **/web/CancelAction.java,\n                **/web/DeleteAction.java,\n                **/web/DeleteAttachmentAction.java,\n                **/web/DotAction.java,\n                **/web/DownloadAction.java,\n                **/web/DownloadRevAction.java,\n                **/web/EditAction.java,\n                **/web/EditBean.java,\n                **/web/EditForm.java,\n                **/web/ExportAction.java,\n                **/web/ExportURLFactory.java,\n                **/web/HomePageRedirectServlet.java,\n                **/web/ImportAction.java,\n                **/web/includeservletasstring/BufferedResponse.java,\n                **/web/includeservletasstring/BufferOutputStream.java,\n                **/web/includeservletasstring/IncludeServletAsString.java,\n                **/web/InlineAction.java,\n                **/web/LifeBlogAction.java,\n                **/web/LockAction.java,\n                **/web/ObjectAddAction.java,\n                **/web/ObjectAddForm.java,\n                **/web/ObjectRemoveAction.java,\n                **/web/ObjectRemoveForm.java,\n                **/web/PrepareEditForm.java,\n                **/web/PreviewAction.java,\n                **/web/PreviewForm.java,\n                **/web/PropAddAction.java,\n                **/web/PropAddForm.java,\n                **/web/PropUpdateAction.java,\n                **/web/RedirectAction.java,\n                **/web/ResetVersionsAction.java,\n                **/web/RollbackAction.java,\n                **/web/RollbackForm.java,\n                **/web/SaveAction.java,\n                **/web/SkinAction.java,\n                **/web/StatusAction.java,\n                **/web/SVGAction.java,\n                **/web/TexAction.java,\n                **/web/UploadAction.java,\n                **/web/Utils.java,\n                **/web/ViewAttachRevAction.java,\n                **/web/ViewrevAction.java,\n                **/web/XWikiAction.java,\n                **/web/XWikiConfigurationService.java,\n                **/web/XWikiContextInitializationFilter.java,\n                **/web/XWikiDefaultURLFactory.java,\n                **/web/XWikiEngineContext.java,\n                **/web/XWikiForm.java,\n                **/web/XWikiMessageTool.java,\n                **/web/XWikiRequest.java,\n                **/web/XWikiRequestProcessor.java,\n                **/web/XWikiResourceManagerImpl.java,\n                **/web/XWikiResponse.java,\n                **/web/XWikiServletContext.java,\n                **/web/XWikiServletRequest.java,\n                **/web/XWikiServletRequestStub.java,\n                **/web/XWikiServletResponse.java,\n                **/web/XWikiServletResponseStub.java,\n                **/web/XWikiServletURLFactory.java,\n                **/web/XWikiURLFactory.java,\n                **/web/XWikiURLFactoryServiceImpl.java,\n                **/web/XWikiURLFactoryService.java,\n                <!-- Small Fan-Out complexity issue but it would need a big refactor to be fixed. -->\n                **/stats/impl/xwiki/XWikiStatsReader.java\n              </excludes>\n              <resourceExcludes>\n                ApplicationResources*.properties\n              </resourceExcludes>\n            </configuration>\n          </execution>\n        </executions>\n      </plugin>\n      <plugin>\n        <groupId>com.mycila</groupId>\n        <artifactId>license-maven-plugin</artifactId>\n        <configuration>\n          <excludes>\n            <!-- Exclude a test vm file since the tests don't execute velocity on it -->\n            <exclude>src/test/**/classloader_template.vm</exclude>\n          </excludes>\n        </configuration>\n      </plugin>\n    </plugins>\n  </build>\n</project>\n"], "fixing_code": ["<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<!--\n * See the NOTICE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n-->\n\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n  <parent>\n    <groupId>org.xwiki.platform</groupId>\n    <artifactId>xwiki-platform-core</artifactId>\n    <version>14.0-SNAPSHOT</version>\n  </parent>\n  <artifactId>xwiki-platform-oldcore</artifactId>\n  <name>XWiki Platform - Old Core</name>\n  <packaging>jar</packaging>\n  <description>XWiki Platform - Old Core</description>\n  <properties>\n    <xwiki.extension.features>\n      <!-- Old names of this module used for retro compatibility when resolving dependencies of old extensions -->\n      com.xpn.xwiki.platform:xwiki-core,\n\n      <!-- The old org.xwiki.platform:xwiki-platform-filter-instance-oldcore has been merged with oldcore -->\n      org.xwiki.platform:xwiki-platform-filter-instance-oldcore\n    </xwiki.extension.features>\n    <!-- Skipping revapi since xwiki-platform-legacy-oldcore wraps this module and runs checks on it -->\n    <xwiki.revapi.skip>true</xwiki.revapi.skip>\n    <xwiki.jacoco.instructionRatio>0.36</xwiki.jacoco.instructionRatio>\n    <checkstyle.suppressions.location>${basedir}/src/checkstyle/checkstyle-suppressions.xml</checkstyle.suppressions.location>\n    <!-- TODO: Remove once the tests have been fixed to not output anything to the console! -->\n    <xwiki.surefire.captureconsole.skip>true</xwiki.surefire.captureconsole.skip>\n\n    <!-- Workaround a limitation in Eclipse M2E which prevent using classes from OldCore test-jar in other module's main classes -->\n    <m2e.disableTestClasspathFlag>true</m2e.disableTestClasspathFlag>\n  </properties>\n  <dependencies>\n    <dependency>\n      <groupId>org.jvnet.hudson</groupId>\n      <artifactId>org.suigeneris.jrcs.diff</artifactId>\n      <version>0.4.2</version>\n    </dependency>\n    <dependency>\n      <groupId>org.jvnet.hudson</groupId>\n      <artifactId>org.suigeneris.jrcs.rcs</artifactId>\n      <version>0.4.2</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-diff-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n\n    <!-- CSS4J (used for PDF export) -->\n    <dependency>\n      <groupId>io.sf.carte</groupId>\n      <artifactId>css4j</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>io.sf.carte</groupId>\n      <artifactId>css4j-dom4j</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>io.sf.carte</groupId>\n      <artifactId>xml-dtd</artifactId>\n    </dependency>\n\n    <!-- Dependencies that we need to fix so that we don't need to have them in our custom remote repository -->\n\n    <!-- Standard dependencies found in the central repository -->\n    <!-- Apache Commons -->\n    <!-- The versions for these are defined in the parent pom -->\n    <dependency>\n      <groupId>org.apache.commons</groupId>\n      <artifactId>commons-lang3</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.commons</groupId>\n      <artifactId>commons-collections4</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>commons-io</groupId>\n      <artifactId>commons-io</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>commons-httpclient</groupId>\n      <artifactId>commons-httpclient</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.commons</groupId>\n      <artifactId>commons-dbcp2</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>commons-fileupload</groupId>\n      <artifactId>commons-fileupload</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>commons-codec</groupId>\n      <artifactId>commons-codec</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.commons</groupId>\n      <artifactId>commons-compress</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.commons</groupId>\n      <artifactId>commons-configuration2</artifactId>\n    </dependency>\n\n    <!-- For extracting metadata from various document types -->\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-tika-detect</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- The platform -->\n    <!-- Web part -->\n    <dependency>\n      <groupId>javax.servlet</groupId>\n      <artifactId>javax.servlet-api</artifactId>\n    </dependency>\n\n    <!-- Used by parse groovy from page -->\n    <!-- Note: We only depend on the miniumum required to compile oldcore since the distributions will depend on\n         xwiki-commons-groovy which has dependencies on all the various groovy jars and thus they'll be bundled -->\n    <dependency>\n      <groupId>org.codehaus.groovy</groupId>\n      <artifactId>groovy</artifactId>\n    </dependency>\n\n    <!-- Storage -->\n    <dependency>\n      <groupId>org.hibernate</groupId>\n      <artifactId>hibernate-core</artifactId>\n    </dependency>\n    <!-- Replace the one from Hibernate -->\n    <dependency>\n      <groupId>jakarta.xml.bind</groupId>\n      <artifactId>jakarta.xml.bind-api</artifactId>\n    </dependency>\n    <!-- Use jakarta.transaction:jakarta.transaction-api instead to not have duplicate JARs in generated WARs -->\n    <dependency>\n      <groupId>jakarta.transaction</groupId>\n      <artifactId>jakarta.transaction-api</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>org.hibernate</groupId>\n      <artifactId>hibernate-c3p0</artifactId>\n      <version>${hibernate.version}</version>\n      <scope>runtime</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.hibernate.validator</groupId>\n      <artifactId>hibernate-validator</artifactId>\n      <scope>runtime</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.liquibase</groupId>\n      <artifactId>liquibase-core</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>com.github.jsqlparser</groupId>\n      <artifactId>jsqlparser</artifactId>\n    </dependency>\n\n    <!-- UnexpectedException -->\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-store-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- XML processing -->\n    <dependency>\n      <groupId>xml-apis</groupId>\n      <artifactId>xml-apis</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>xerces</groupId>\n      <artifactId>xercesImpl</artifactId>\n      <!-- Only needed at runtime -->\n      <scope>runtime</scope>\n    </dependency>\n    <!-- Used to generate XHTML in Java (generally in object property displayer) -->\n    <!-- TODO: We should drop ECS -->\n    <dependency>\n      <groupId>ecs</groupId>\n      <artifactId>ecs</artifactId>\n      <version>1.4.2</version>\n    </dependency>\n\n    <!-- HTML Export/PDF Export -->\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-url-scheme-filesystem</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>${project.groupId}</groupId>\n      <artifactId>xwiki-platform-tree-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- PDF export, image processing -->\n    <dependency>\n      <groupId>org.apache.xmlgraphics</groupId>\n      <artifactId>fop</artifactId>\n    </dependency>\n    <dependency>\n      <groupId>org.apache.xmlgraphics</groupId>\n      <artifactId>batik-svgrasterizer</artifactId>\n    </dependency>\n    <!-- fop gets us batik but not batik-codec and we need this one for SVGPlugin -->\n    <dependency>\n      <groupId>org.apache.xmlgraphics</groupId>\n      <artifactId>batik-codec</artifactId>\n      <scope>runtime</scope>\n    </dependency>\n\n    <!-- Misc -->\n    <!-- Better date manipulation than what JDK provides -->\n    <dependency>\n      <groupId>joda-time</groupId>\n      <artifactId>joda-time</artifactId>\n    </dependency>\n    <!-- Mail sender -->\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-mail-send-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- Other XWiki modules -->\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-component-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-environment-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-context</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-script</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-classloader-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-job-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-properties</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-configuration-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-observation-local</artifactId>\n      <version>${commons.version}</version>\n      <scope>runtime</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-observation-remote</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-model-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-image-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-velocity-xwiki</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-bridge</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.rendering</groupId>\n      <artifactId>xwiki-rendering-api</artifactId>\n      <version>${rendering.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-rendering-parser</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-rendering-xwiki</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-url-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-display-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-sheet-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-skin-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-template-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-rendering-async-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- Used by com.xpn.xwiki.web.CommentAction -->\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-captcha-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-formula-renderer</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-cache-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-cache-infinispan</artifactId>\n      <version>${commons.version}</version>\n      <!-- Only needed at runtime since it's a component implementation -->\n      <scope>runtime</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-xml</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-extension-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-query-manager</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-office-importer</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-component-multi</artifactId>\n      <version>${project.version}</version>\n      <!-- Only required at runtime (ie in the distribution) -->\n      <scope>runtime</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-query-xwql</artifactId>\n      <version>${project.version}</version>\n      <scope>runtime</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-csrf</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-localization-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-security-authorization-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-wiki-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-resource-default</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-edit-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- Used by HibernateDataMigrationManager to temporarily disable logback logging in hibernate -->\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-logging-api</artifactId>\n      <version>${commons.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-logging-logback</artifactId>\n      <version>${commons.version}</version>\n      <scope>test</scope>\n    </dependency>\n\n    <!-- Used in to prioritize MandatoryDocumentInitializers -->\n    <dependency>\n      <groupId>jakarta.annotation</groupId>\n      <artifactId>jakarta.annotation-api</artifactId>\n    </dependency>\n\n    <!-- Test dependencies -->\n\n    <!-- Used to mock XWiki class -->\n    <dependency>\n      <groupId>org.jmock</groupId>\n      <artifactId>jmock-legacy</artifactId>\n      <scope>test</scope>\n    </dependency>\n\n    <!-- To be removed as soon as we get rid of AbstractXWikiComponentTestCase -->\n    <dependency>\n      <groupId>jmock</groupId>\n      <artifactId>jmock</artifactId>\n      <version>1.2.0</version>\n      <scope>test</scope>\n    </dependency>\n    <!-- To be removed as soon as we get rid of AbstractXWikiComponentTestCase -->\n    <dependency>\n      <groupId>jmock</groupId>\n      <artifactId>jmock-cglib</artifactId>\n      <version>1.2.0</version>\n      <scope>test</scope>\n      <exclusions>\n        <!-- We use cglib:cglig instead -->\n        <exclusion>\n          <groupId>cglib</groupId>\n          <artifactId>cglib-nodep</artifactId>\n        </exclusion>\n      </exclusions>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-rendering-macro-script</artifactId>\n      <version>${project.version}</version>\n      <type>test-jar</type>\n      <scope>test</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-rendering-macro-velocity</artifactId>\n      <version>${project.version}</version>\n      <scope>test</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-rendering-macro-groovy</artifactId>\n      <version>${project.version}</version>\n      <scope>test</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-xar-model</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-filter-stream-xar</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n        <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-filter-event-xwiki</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-filter-event-user</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-filter-instance-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-filter-instance-document</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-eventstream-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-security-authentication-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-store-merge-api</artifactId>\n      <version>${project.version}</version>\n      <scope>compile</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.platform</groupId>\n      <artifactId>xwiki-platform-model-validation-api</artifactId>\n      <version>${project.version}</version>\n    </dependency>\n\n    <!-- Test dependencies -->\n\n    <!-- XWiki syntax parsers -->\n    <dependency>\n      <groupId>org.xwiki.rendering</groupId>\n      <artifactId>xwiki-rendering-syntax-xwiki21</artifactId>\n      <version>${rendering.version}</version>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.rendering</groupId>\n      <artifactId>xwiki-rendering-syntax-xhtml</artifactId>\n      <version>${rendering.version}</version>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.rendering</groupId>\n      <artifactId>xwiki-rendering-syntax-html</artifactId>\n      <version>${rendering.version}</version>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n      <groupId>xmlunit</groupId>\n      <artifactId>xmlunit</artifactId>\n      <version>1.6</version>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n      <groupId>com.google.guava</groupId>\n      <artifactId>guava-testlib</artifactId>\n      <scope>test</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-tool-test-component</artifactId>\n      <version>${commons.version}</version>\n      <scope>test</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-filter-test</artifactId>\n      <version>${commons.version}</version>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n      <groupId>org.xwiki.commons</groupId>\n      <artifactId>xwiki-commons-filter-stream-xml</artifactId>\n      <version>${commons.version}</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n  <build>\n    <plugins>\n      <!-- Publish a Core Test JAR -->\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-jar-plugin</artifactId>\n        <executions>\n          <execution>\n            <!-- We must have an ID here, as otherwise the configuration is used for generating the normal jar, too.\n                 See XWIKI-2757 -->\n            <id>build-test-jar</id>\n            <goals>\n              <goal>test-jar</goal>\n            </goals>\n            <configuration>\n              <includes>\n                <include>**/test/**/*.class</include>\n              </includes>\n            </configuration>\n          </execution>\n        </executions>\n      </plugin>\n      <plugin>\n        <!-- Apply the Checkstyle configurations defined in the top level pom.xml file -->\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-checkstyle-plugin</artifactId>\n        <executions>\n          <execution>\n            <!-- Specify the \"default\" execution id so that the \"blocker\" one is always executed -->\n            <id>default</id>\n            <configuration>\n              <excludes>\n                **/XWikiConfig.java,\n                **/XWikiConstant.java,\n                **/XWikiContext.java,\n                **/XWikiException.java,\n                **/XWiki.java,\n                **/api/Attachment.java,\n                **/api/Class.java,\n                **/api/Collection.java,\n                **/api/CriteriaService.java,\n                **/api/Document.java,\n                **/api/DocumentSection.java,\n                **/api/Object.java,\n                **/api/XWiki.java,\n                **/atom/lifeblog/LifeblogServices.java,\n                **/atom/lifeblog/UserBlog.java,\n                **/atom/WSSEHttpHeader.java,\n                **/atom/XWikiHelper.java,\n                **/content/parsers/RenamePageReplaceLinkHandler.java,\n                **/criteria/api/XWikiCriteriaService.java,\n                **/criteria/impl/DurationFactory.java,\n                **/criteria/impl/Duration.java,\n                **/criteria/impl/PeriodFactory.java,\n                **/criteria/impl/Period.java,\n                **/criteria/impl/RangeFactory.java,\n                **/criteria/impl/Range.java,\n                **/criteria/impl/RevisionCriteriaFactory.java,\n                **/criteria/impl/RevisionCriteria.java,\n                **/criteria/impl/ScopeFactory.java,\n                **/criteria/impl/Scope.java,\n                **/criteria/impl/XWikiCriteriaServiceImpl.java,\n                **/DefaultSkinAccessBridge.java,\n                **/doc/AttachmentDiff.java,\n                **/doc/DefaultDocumentAccessBridge.java,\n                **/doc/DeletedAttachment.java,\n                **/doc/DocumentErrorHandler.java,\n                **/doc/LazyXWikiDocument.java,\n                **/doc/MetaDataDiff.java,\n                **/doc/rcs/XWikiPatchUtils.java,\n                **/doc/rcs/XWikiRCSArchive.java,\n                **/doc/XWikiAttachment.java,\n                **/doc/XWikiDocument.java,\n                **/doc/XWikiLink.java,\n                **/doc/XWikiLock.java,\n                **/export/html/HtmlPackager.java,\n                **/i18n/i18n.java,\n                **/internal/DefaultCoreConfiguration.java,\n                **/internal/DefaultXWikiStubContextProvider.java,\n                **/internal/file/TemporaryFile.java,\n                **/internal/filter/XWikiDocumentFilterUtils.java,\n                **/internal/filter/input/DocumentInstanceInputEventGenerator.java,\n                **/internal/filter/input/XWikiDocumentLocaleEventGenerator.java,\n                **/internal/filter/output/DocumentInstanceOutputFilterStream.java,\n                **/internal/filter/output/UserInstanceOutputFilterStream.java,\n                **/internal/filter/output/XWikiDocumentOutputFilterStream.java,\n                **/internal/render/OldRendering.java,\n                **/render/groovy/ParseGroovyFromString.java,\n                **/internal/mandatory/AbstractRightsDocumentInitializer.java,\n                **/internal/mandatory/XWikiPreferencesDocumentInitializer.java,\n                **/internal/mandatory/XWikiUsersDocumentInitializer.java,\n                **/internal/model/reference/CompactStringEntityReferenceSerializer.java,\n                **/internal/model/reference/CompactWikiStringEntityReferenceSerializer.java,\n                **/internal/model/reference/CurrentEntityReferenceValueProvider.java,\n                **/internal/model/reference/CurrentMixedEntityReferenceValueProvider.java,\n                **/internal/model/reference/CurrentMixedReferenceDocumentReferenceResolver.java,\n                **/internal/model/reference/CurrentMixedReferenceEntityReferenceResolver.java,\n                **/internal/model/reference/CurrentMixedStringDocumentReferenceResolver.java,\n                **/internal/model/reference/CurrentReferenceDocumentReferenceResolver.java,\n                **/internal/model/reference/CurrentReferenceEntityReferenceResolver.java,\n                **/internal/model/reference/CurrentStringAttachmentReferenceResolver.java,\n                **/internal/model/reference/CurrentStringDocumentReferenceResolver.java,\n                **/internal/model/reference/CurrentStringEntityReferenceResolver.java,\n                **/internal/observation/remote/converter/AbstractXWikiEventConverter.java,\n                **/internal/observation/remote/converter/ActionExecutionEventConverter.java,\n                **/internal/script/DebugScriptService.java,\n                **/internal/store/hibernate/HibernateStore.java,\n                **/internal/store/hibernate/QueryImplementorDelegate.java,\n                **/internal/skin/*.java,\n                **/internal/template/InternalTemplateManager.java,\n                **/internal/template/TemplateEnvironmentResource.java,\n                **/monitor/api/MonitorData.java,\n                **/monitor/api/MonitorPlugin.java,\n                **/monitor/api/MonitorTimer.java,\n                **/monitor/api/MonitorTimerSummary.java,\n                **/objects/BaseCollection.java,\n                **/objects/BaseElement.java,\n                **/objects/BaseObject.java,\n                **/objects/BaseProperty.java,\n                **/objects/BaseStringProperty.java,\n                **/objects/classes/BaseClass.java,\n                **/objects/classes/BooleanClass.java,\n                **/objects/classes/ClassInterface.java,\n                **/objects/classes/DBListClass.java,\n                **/objects/classes/DBTreeListClass.java,\n                **/objects/classes/LevelsClass.java,\n                **/objects/classes/ListClass.java,\n                **/objects/classes/ListItem.java,\n                **/objects/classes/NumberClass.java,\n                **/objects/classes/PasswordClass.java,\n                **/objects/classes/PropertyClassInterface.java,\n                **/objects/classes/PropertyClass.java,\n                **/objects/classes/StaticListClass.java,\n                **/objects/classes/StringClass.java,\n                **/objects/classes/TextAreaClass.java,\n                **/objects/DBStringListProperty.java,\n                **/objects/DoubleProperty.java,\n                **/objects/ElementComparator.java,\n                **/objects/ElementInterface.java,\n                **/objects/FloatProperty.java,\n                **/objects/IntegerProperty.java,\n                **/objects/LargeStringProperty.java,\n                **/objects/ListProperty.java,\n                **/objects/LongProperty.java,\n                **/objects/NumberProperty.java,\n                **/objects/ObjectDiff.java,\n                **/objects/ObjectInterface.java,\n                **/objects/PropertyInterface.java,\n                **/objects/StringListProperty.java,\n                **/pdf/impl/PdfExportImpl.java,\n                **/pdf/impl/PdfURLFactory.java,\n                **/plugin/autotag/FrenchStemmer.java,\n                **/plugin/mail/MailPluginApi.java,\n                **/plugin/mail/MailPlugin.java,\n                **/plugin/packaging/DocumentFilter.java,\n                **/plugin/packaging/DocumentInfoAPI.java,\n                **/plugin/packaging/DocumentInfo.java,\n                **/plugin/packaging/ExcludeDocumentException.java,\n                **/plugin/packaging/PackageAPI.java,\n                **/plugin/packaging/PackageException.java,\n                **/plugin/packaging/Package.java,\n                **/plugin/packaging/PackagePlugin.java,\n                **/plugin/query/DefaultQuery.java,\n                **/plugin/query/HibernateQuery.java,\n                **/plugin/query/IQueryFactory.java,\n                **/plugin/query/IQuery.java,\n                **/plugin/query/OrderClause.java,\n                **/plugin/query/QueryPluginApi.java,\n                **/plugin/query/QueryPlugin.java,\n                **/plugin/query/SecHibernateQuery.java,\n                **/plugin/query/SepStringBuffer.java,\n                **/plugin/query/XWikiCriteria.java,\n                **/plugin/query/XWikiNamespaceResolver.java,\n                **/plugin/query/XWikiQueryConstants.java,\n                **/plugin/query/XWikiQuery.java,\n                **/plugin/svg/SVGPluginApi.java,\n                **/plugin/svg/SVGPlugin.java,\n                **/plugin/XWikiPluginManager.java,\n                **/pref/api/XWikiPrefService.java,\n                **/pref/impl/xwiki/XWikiPrefServiceImpl.java,\n                **/render/DefaultVelocityManager.java,\n                **/render/WikiSubstitution.java,\n                **/render/XWikiScriptContextInitializer.java,\n                **/render/XWikiVelocityContextInitializer.java,\n                **/render/groovy/XWikiPageClassLoader.java,\n                **/security/XWikiSecurityManager.java,\n                **/store/DBCPConnectionProvider.java,\n                **/store/hibernate/DefaultHibernateSessionFactory.java,\n                **/store/hibernate/HibernateAttachmentRecycleBinStore.java,\n                **/store/hibernate/HibernateSessionFactory.java,\n                <!-- AbstractDataMigrationManager has a fan out complexity of 25 that may needs to be investigated. -->\n                **/store/migration/AbstractDataMigrationManager.java,\n                <!-- Hibernate migrations use anonymous inner class (doInHibernate) that exceeds the 20 lines limit. -->\n                **/store/migration/hibernate/HibernateDataMigrationManager.java,\n                **/store/migration/hibernate/LegacyDataMigration.java,\n                **/store/migration/hibernate/R4340XWIKI883DataMigration.java,\n                **/store/migration/hibernate/R4359XWIKI1459DataMigration.java,\n                **/store/migration/hibernate/R6079XWIKI1878DataMigration.java,\n                **/store/migration/hibernate/R7350XWIKI2079DataMigration.java,\n                **/store/migration/hibernate/R40000XWIKI6990DataMigration.java,\n                **/store/migration/hibernate/AbstractResizeMigration.java,\n                **/store/XWikiAttachmentStoreInterface.java,\n                **/store/XWikiBatcherFactory.java,\n                **/store/XWikiBatcher.java,\n                **/store/XWikiBatcherStats.java,\n                **/store/XWikiCacheStoreInterface.java,\n                **/store/XWikiCacheStore.java,\n                **/store/XWikiDefaultStore.java,\n                **/store/XWikiHibernateAttachmentStore.java,\n                **/store/XWikiHibernateBaseStore.java,\n                <!-- XWikiHibernateRecycleBinStore has a Fan-Out complexity of 21 after adding Query on it -->\n                **/store/XWikiHibernateRecycleBinStore.java,\n                **/store/XWikiHibernateStore.java,\n                **/store/XWikiStoreInterface.java,\n                **/store/XWikiVersioningStoreInterface.java,\n                **/test/smtp/SimpleSmtpServer.java,\n                **/test/smtp/SmtpActionType.java,\n                **/test/smtp/SmtpMessage.java,\n                **/test/smtp/SmtpRequest.java,\n                **/test/smtp/SmtpResponse.java,\n                **/test/smtp/SmtpState.java,\n                **/user/api/XWikiAuthService.java,\n                **/user/api/XWikiGroupService.java,\n                **/user/api/XWikiRightNotFoundException.java,\n                **/user/api/XWikiRightService.java,\n                **/user/api/XWikiUser.java,\n                **/user/impl/xwiki/AppServerTrustedAuthServiceImpl.java,\n                **/user/impl/xwiki/GroovyAuthServiceImpl.java,\n                **/user/impl/xwiki/MyBasicAuthenticator.java,\n                **/user/impl/xwiki/MyFilterConfig.java,\n                **/user/impl/xwiki/MyFormAuthenticator.java,\n                **/user/impl/xwiki/MyPersistentLoginManager.java,\n                **/user/impl/xwiki/XWikiAuthenticator.java,\n                **/user/impl/xwiki/XWikiAuthServiceImpl.java,\n                **/user/impl/xwiki/XWikiGroupServiceImpl.java,\n                **/user/impl/xwiki/XWikiRightServiceImpl.java,\n                **/util/AbstractXWikiRunnable.java,\n                **/util/MenuSubstitution.java,\n                **/util/Programming.java,\n                **/util/TOCGenerator.java,\n                **/util/Util.java,\n                **/validation/XWikiDefaultValidation.java,\n                **/validation/XWikiValidationInterface.java,\n                **/validation/XWikiValidationStatus.java,\n                **/web/AdminAction.java,\n                **/web/AttachAction.java,\n                **/web/CancelAction.java,\n                **/web/DeleteAction.java,\n                **/web/DeleteAttachmentAction.java,\n                **/web/DotAction.java,\n                **/web/DownloadAction.java,\n                **/web/DownloadRevAction.java,\n                **/web/EditAction.java,\n                **/web/EditBean.java,\n                **/web/EditForm.java,\n                **/web/ExportAction.java,\n                **/web/ExportURLFactory.java,\n                **/web/HomePageRedirectServlet.java,\n                **/web/ImportAction.java,\n                **/web/includeservletasstring/BufferedResponse.java,\n                **/web/includeservletasstring/BufferOutputStream.java,\n                **/web/includeservletasstring/IncludeServletAsString.java,\n                **/web/InlineAction.java,\n                **/web/LifeBlogAction.java,\n                **/web/LockAction.java,\n                **/web/ObjectAddAction.java,\n                **/web/ObjectAddForm.java,\n                **/web/ObjectRemoveAction.java,\n                **/web/ObjectRemoveForm.java,\n                **/web/PrepareEditForm.java,\n                **/web/PreviewAction.java,\n                **/web/PreviewForm.java,\n                **/web/PropAddAction.java,\n                **/web/PropAddForm.java,\n                **/web/PropUpdateAction.java,\n                **/web/RedirectAction.java,\n                **/web/ResetVersionsAction.java,\n                **/web/RollbackAction.java,\n                **/web/RollbackForm.java,\n                **/web/SaveAction.java,\n                **/web/SkinAction.java,\n                **/web/StatusAction.java,\n                **/web/SVGAction.java,\n                **/web/TexAction.java,\n                **/web/UploadAction.java,\n                **/web/Utils.java,\n                **/web/ViewAttachRevAction.java,\n                **/web/ViewrevAction.java,\n                **/web/XWikiAction.java,\n                **/web/XWikiConfigurationService.java,\n                **/web/XWikiContextInitializationFilter.java,\n                **/web/XWikiDefaultURLFactory.java,\n                **/web/XWikiEngineContext.java,\n                **/web/XWikiForm.java,\n                **/web/XWikiMessageTool.java,\n                **/web/XWikiRequest.java,\n                **/web/XWikiRequestProcessor.java,\n                **/web/XWikiResourceManagerImpl.java,\n                **/web/XWikiResponse.java,\n                **/web/XWikiServletContext.java,\n                **/web/XWikiServletRequest.java,\n                **/web/XWikiServletRequestStub.java,\n                **/web/XWikiServletResponse.java,\n                **/web/XWikiServletResponseStub.java,\n                **/web/XWikiServletURLFactory.java,\n                **/web/XWikiURLFactory.java,\n                **/web/XWikiURLFactoryServiceImpl.java,\n                **/web/XWikiURLFactoryService.java,\n                <!-- Small Fan-Out complexity issue but it would need a big refactor to be fixed. -->\n                **/stats/impl/xwiki/XWikiStatsReader.java\n              </excludes>\n              <resourceExcludes>\n                ApplicationResources*.properties\n              </resourceExcludes>\n            </configuration>\n          </execution>\n        </executions>\n      </plugin>\n      <plugin>\n        <groupId>com.mycila</groupId>\n        <artifactId>license-maven-plugin</artifactId>\n        <configuration>\n          <excludes>\n            <!-- Exclude a test vm file since the tests don't execute velocity on it -->\n            <exclude>src/test/**/classloader_template.vm</exclude>\n          </excludes>\n        </configuration>\n      </plugin>\n    </plugins>\n  </build>\n</project>\n"], "filenames": ["xwiki-platform-core/xwiki-platform-oldcore/pom.xml"], "buggy_code_start_loc": [612], "buggy_code_end_loc": [612], "fixing_code_start_loc": [613], "fixing_code_end_loc": [614], "type": "CWE-787", "message": "XWiki Platform is a generic wiki platform offering runtime services for applications built on top of it. It's possible to make the farm unusable by adding an object to a page with a huge number (e.g. 67108863). Most of the time this will fill the memory allocated to XWiki and make it unusable every time this document is manipulated. This issue has been patched in XWiki 14.0-rc-1.", "other": {"cve": {"id": "CVE-2023-26470", "sourceIdentifier": "security-advisories@github.com", "published": "2023-03-02T19:15:11.050", "lastModified": "2023-03-13T16:26:01.493", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "XWiki Platform is a generic wiki platform offering runtime services for applications built on top of it. It's possible to make the farm unusable by adding an object to a page with a huge number (e.g. 67108863). Most of the time this will fill the memory allocated to XWiki and make it unusable every time this document is manipulated. This issue has been patched in XWiki 14.0-rc-1."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "NONE", "availabilityImpact": "HIGH", "baseScore": 7.5, "baseSeverity": "HIGH"}, "exploitabilityScore": 3.9, "impactScore": 3.6}, {"source": "security-advisories@github.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:U/C:N/I:N/A:H", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "NONE", "availabilityImpact": "HIGH", "baseScore": 5.7, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.1, "impactScore": 3.6}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-787"}]}, {"source": "security-advisories@github.com", "type": "Secondary", "description": [{"lang": "en", "value": "CWE-400"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:xwiki:xwiki:*:*:*:*:*:*:*:*", "versionEndExcluding": "14.0", "matchCriteriaId": "49C4E9F0-5C8D-49BE-9637-E518350C58D5"}]}]}], "references": [{"url": "https://github.com/xwiki/xwiki-platform/commit/04e5a89d2879b160cdfaea846024d3d9c1a525e6", "source": "security-advisories@github.com", "tags": ["Patch"]}, {"url": "https://github.com/xwiki/xwiki-platform/commit/db3d1c62fc5fb59fefcda3b86065d2d362f55164", "source": "security-advisories@github.com", "tags": ["Patch"]}, {"url": "https://github.com/xwiki/xwiki-platform/commit/fdfce062642b0ac062da5cda033d25482f4600fa", "source": "security-advisories@github.com", "tags": ["Patch"]}, {"url": "https://github.com/xwiki/xwiki-platform/security/advisories/GHSA-92wp-r7hm-42g7", "source": "security-advisories@github.com", "tags": ["Exploit", "Vendor Advisory"]}, {"url": "https://jira.xwiki.org/browse/XWIKI-19223", "source": "security-advisories@github.com", "tags": ["Exploit", "Issue Tracking", "Patch", "Vendor Advisory"]}]}, "github_commit_url": "https://github.com/xwiki/xwiki-platform/commit/04e5a89d2879b160cdfaea846024d3d9c1a525e6"}}