{"buggy_code": ["HumHub Changelog\n================\n\n1.10.4 (Unreleased)\n-------------------\n- Fix #5480: `el` language file in Admin section broken\n- Fix #5479: Fix ContentContainerPermissionAccess without provided container\n- Fix #5513: Fix PermaLink controller error for content without container\n- Fix #5517: Don't send \"Follows\" notification on request friendship\n- Fix #5563: Limit backup duration of RichText editor for 2 hours\n- Enh #5601: Backup RichText in sessionStorage\n- Fix #5634: Fix tests NonceCest\n- Fix #5644: Fix console command space/assign-all-members\n\n1.10.3 (December 20, 2021)\n--------------------------\n\nSee also: [HumHub 1.10 - Release Notes](https://docs.humhub.org/docs/about/releasenotes/release_notes_1_10) and [Changelog](https://github.com/humhub/humhub/blob/master/CHANGELOG.md). This release also includes a [security fix](https://github.com/humhub/humhub/security/advisories/GHSA-f5hc-5wfr-7v74). It could have been possible for registered users to become unauthorized members of private Spaces. Thanks to [Huntr](https://huntr.dev/bounties/943dad83-f0ed-4c74-ba81-7dfce7ca0ef2/) and @brenu.\n\n- Fix #5465: Fix empty RichText\n- Fix #5466: Default `.htaccess.dist` broken\n- Fix #5469: Mixed up title for Space membership button\n- Fix #5464: Fix comment highlighting on permalink\n- Fix #5473: Insufficient member invite check on Space creation \n\n1.10.2 (December 7, 2021)\n-------------------------\n\nSee also: [HumHub 1.10 - Release Notes](https://docs.humhub.org/docs/about/releasenotes/release_notes_1_10) and [Changelog](https://github.com/humhub/humhub/blob/master/CHANGELOG.md)\n\n- Fix #5450: Fix confirmation before close a form with unsaved changes on modal window\n- Fix #5453: Fix migration of default group\n- Enh #5461: Added Event after a new file content (new version) is stored\n- Enh #5457: Use permalink comment in notifications\n\n\n1.10.1 (November 26, 2021)\n--------------------------\n\nSee also: [HumHub 1.10 - Release Notes](https://docs.humhub.org/docs/about/releasenotes/release_notes_1_10) and [Changelog](https://github.com/humhub/humhub/blob/master/CHANGELOG.md)\n\n- Fix #5445: Checkbox view style unaligned\n- Fix #5447: Comments disappeard\n- Enh: Updated translations \n\n\n1.10.0 (November 25, 2021)\n---------------------------------\n\nSee also: [HumHub 1.10 - Release Notes](https://docs.humhub.org/docs/about/releasenotes/release_notes_1_10) and [Changelog](https://github.com/humhub/humhub/blob/master/CHANGELOG.md)\n\n- Enh #5437: Tests with MySQL Galera compatibility\n- Fix #5427: Fix deep comment link with enabled caching\n- Enh #5435: Allow non modal links in header counter\n- Enh #5436: Better usage of UserPicker in Form Definition\n- Fix #5441: No deletion of file variants in CLI tools\n- Fix #5443: Fix misplaced checkboxes on installer forms\n\n1.10.0-beta.3 (November 12, 2021)\n---------------------------------\n- Enh #5437: Tests with MySQL Galera compatibility\n- Fix #5427: Fix deep comment link with enabled caching\n- Enh #5435: Allow non modal links in header counter\n- Enh #5436: Better usage of UserPicker in Form Definition\n- Fix #5441: No deletion of file variants in CLI tools\n\n\n1.10.0-beta.2 (November 12, 2021)\n---------------------------------\n- Enh #5403: Confirmation before close a not saved modal form\n- Fix #5401: Fix profile field value result type \n- Fix #5402: Fix mentioning search in comment content\n- Enh #5418: Allow to detach file from simple ActiveRecord\n\n\n1.10.0-beta.1 (October 27, 2021)\n--------------------------------\n- Enh #4399: Direct deep links to comments and highlighting\n- Enh #4242: More failsafe module loading when reading module config\n- Enh #5197: Default `.htaccess` - Remove `Options +FollowSymLinks` \n- Enh #4495: Allow locking comments per content\n- Enh #3688: Use `Image` widget in user list\n- Enh #5194: Confirm leave page for Post & Comment forms\n- Enh #5188: People/Spaces: Endless Scrolling\n- Enh #5216: Separate View document button\n- Enh #5229: Use `RichTextField` for user approval messages\n- Enh #100: Allow additional toggle for elements with context menu\n- Enh #5170: `UserPicker`: Allow zero as min input size\n- Enh #4133: Backup a content of `RichTextEditor`\n- Enh #100: Extend upload buttons to use a paste zone\n- Enh #5256: Limit uploading profile images (Thanks to @tuhin1729 for discovering the issue.) \n- Enh #5257: Delete old unread notifications of inactive users\n- Fix #5143: Unlimited page size for profile fields\n- Enh #5269: Allow adding new item on ui selector\n- Enh #5005: Possibility to invite a registered user to a space by email\n- Enh #3546: Sign in back from impersonate mode\n- Fix #5282: On account creation, registration form has HTML tag set with English language\n- Enh #5280: Allow to set the number of contents from which `Show {i} more.` appears in the stream\n- Enh #5303: Unassigned files are only accessibly for creator \n- Enh #5293: Added File History API for versioning\n- Enh #4399: Changed default `@warning` color to `#FC4A64`\n- Enh #5302: Improve checkbox widget ContentVisibilitySelect \n- Enh #5151: ContentContainer scoped URL Rules\n- Enh #5094: Reflect and reload Stream filters by URL\n- Enh $4879: Refactoring of `Followable` behavior\n- Enh $4879: Added supported of \"protected\" module groups\n- Enh #5330: Added option to hide \"Spaces\" top menu item\n- Enh #5080: Show available module updates directly in admin menu\n- Fix #5331: Fix js error on pjax open \"Directory\" page\n- Enh #5333: Module's events handlers registration: check if method exists\n- Enh #5300: Blocking users for space\n- Enh #5347: Caching added for group permissions (reduced db queries)\n- Enh #5349: Archived Spaces on Spaces directory\n- Enh #4945: Collapsible-fields now accessible by tab and enable/closable by keypress, check-boxes now focusable\n- Enh #5354: Space - pending invites and approvals: add the image of the users\n- Enh #5361: Optimize People directory details query\n- Enh #5357: SpaceChooser - lazy load added, widget refactoring.\n- Fix #5360: Mentioning search fails apostrophe in a user's displayName\n- Fix #5359: Removed encoding of user's name in UserPicker\n- Enh #5363: Optimize duplicated SQL queries on profile edit\n- Enh #5362: Optimize getting of ContentContainer tags\n- Fix #5386: Fixed empty stream in archived space\n\n1.9.3 (Unreleased)\n------------------\n- Fix #5372: Text shortening in Japanese broken - Fix truncating of multi-byte strings\n- Fix #5398: Fix checking of foreign table index\n\n\n1.9.2 (October 15, 2021)\n------------------------\n- Fix #5265: Fix logging filter \"Error\" when not entries\n- Fix #5285: Layout too wide for container pages without sidebar \n- Fix #5307: Fix reset of the space homepage settings\n- Fix #5301: Change people default sorting in administration broken\n- Fix #5313: ContentContainer Tags were not cleared when all tags are deleted\n- Fix #5316: Fix filter \"I'm involved\" on dashboard\n- Fix #5324: Theme Loader broken when module is provided via string\n- Fix #5327: Fix update container tags by not original model\n- Fix #5342: Fix mime type detection for extensions: dotx, xltx, potx\n\n\n1.9.1 (August 30, 2021)\n-----------------------\n\nSee also: [HumHub 1.9 - Release Notes](https://docs.humhub.org/docs/about/releasenotes/release_notes_1_9)\n\n- Fix #5172: Missing translations for \"New Member\" and \"New Spaces\" directory widgets\n- Fix #5195: Fix export users with tags data\n- Fix #5200: Auto creating following for friends\n- Fix #5187: Fix birthday with hidden year in a language-specific format\n- Enh #5189: Reduce minimum character limit for space and user tags to 2 chars\n- Enh #5189: Hide tags on space chooser if no keyword inside tags\n- Fix #5215: Fix links to old directory\n- Fix #5096: Render links in email notifications\n- Fix #5095: Fix space between URLs and text in notification message\n- Fix #5238: Typo in Offline Page Text\n- Fix #5204: Migration of container tags\n- Fix #5238: Typo in Offline Page Text \n- Fix #5247: Fix translate with not defined language\n- Fix #5252: Removed \"strong&gt;\" from the Dutch translations\n- Enh #5259: Protection of the logout action by POST method. (Thanks to @avjesadiya13 and @VishnuChebolu for disclosing the problem.)\n- Fix #5262: Fix visibility of email requiring on backoffice add user form\n\n\n1.9.0 (July 22, 2021)\n---------------------\n\nSee also: [HumHub 1.9 - Release Notes](https://docs.humhub.org/docs/about/releasenotes/release_notes_1_9)\n\nNote: HumHub version 1.9+ requires PHP 7.3 or higher!\n\n- Fix #5174: Tour module crashes with enabled tags field\n- Fix #5176: Closing the action confirmation modal window on top close icon\n- Fix #5177: Move directory widgets\n- Enh #5049: Required profile field should not be required in administration (Fix for checkbox field type)\n- Fix #5009: Fix video thumbnail on Safari browser\n- Fix #5182: Password field should not be required if user has no password\n\n\n1.9.0-beta.2 (July 14, 2021)\n----------------------------\n\nNote: HumHub version 1.9+ requires PHP 7.3 or higher!\n\n- Fix #5128: Prerequisites: Increase PHP Min version to 7.3\n- Fix #5135: Remove checking for PCNTL extension (revert #5065 and #5071)\n- Fix #5136: Fix get value of user profile fields with types \"Checkbox List\" and \"Checkbox\"\n- Fix #5137: Fix convert to short integer on PHP 8\n- Enh #5144: Show sort order in profile fields settings\n- Fix #5149: Use a link mode for space button \"Join\" from space header\n- Fix #4830: Fix Prerequisites / Self Test translations\n- Fix #4459: Make UserFollow activity public\n- Enh #3824: Run acceptance tests with pretty URLs\n- Enh #5169: Enable more than 50 groups to a user\n\n\n1.9.0-beta.1 (June 15, 2021)\n----------------------------\n\nNote: HumHub version 1.9+ requires PHP 7.3 or higher!\n\n- Fix #5071: Add CLI hint to PCTL Requirements Warning\n\n\n1.9.0-beta.1 (June 15, 2021)\n----------------------------\n\nNote: HumHub version 1.9+ requires PHP 7.3 or higher!\n\n- Enh #3733: Forbid to open AJAX actions as separate page\n- Enh #677: Allow to create new database and set database port on installation wizard\n- Fix #4877: Check for writable uploads/profile_image directory\n- Enh #4868: Reset email summaries / notifications settings for all users\n- Enh #4884: New Space module setting to allow all users to add users without invite\n- Enh #4902: Added CodeMirror and created form field widget \n- Enh #4964: New CLI command to delete users \n- Enh #4871: Configurable default timezone for guests\n- Enh #5019: Alternative `DashboardMemberStreamFilter` based on Live module `LegitmationIDs`\n- Fix #4626: Visibility of content in profile stream of archived spaces\n- Chg #5016: Allow impersonate for `ManageUsers` permission\n- Enh #5043: Improved Space membership lookup caching\n- Enh #4935: Render images in email messages\n- Enh #5037: `RichTextToShortTextConverter` renders images as `[Image]`\n- Enh #5042: Improved Space/User PrettyURL performance\n- Enh #4958: Add possibility to register purchased modules via CLI\n- Enh #4894: Implemented `.label-light` label variant\n- Enh #5012: Space: Allow change space owner also for users `ManageSpaces` with permission\n- Enh #5045: Removed deprecated `Yii::$app->formatterApp` component\n- Enh #5026: Tests for tokenized image urls in email message\n- Enh #5049: Required profile field should not be required in administration\n- Enh #5065: Add checking for php `PCNTL` extension\n- Enh #5073: Enhance Rest API tests\n- Fix #5078: Fix enabling of REST module on run API tests\n- Enh #4776: Added `acknowledge` option to all relevant forms\n- Enh #4757: Updated to `PHPUnit 8.5`\n- Enh #4790: Added more logging on authentication errors\n- Fix #5054: Force `InnoDB` Table Engine on migration and added engine configuration option\n- Enh #4862: Tag picker for Space and User containers\n- Enh #4927: Hide post input field on single entry stream\n- Enh #5062: Show user ID on admin user edit page\n- Enh #4848: Include space tags in the space\u2019s \u201cAbout\u201d page \n- Enh #5061: Preserve linebreaks and added \"ReadMore\" option in Logging\n- Enh #4982: Skip DN List to avoid duplicated ldap error logs \n- Fix #5088: Set max length option to space description input\n- Enh #5089: Allow to follow users independently of friendship\n- Enh #34: Removed membership icon from my Spaces chooser\n- Enh #117: Show/Hide the \u201cFollowing\u201d buttons depending on updated friendship/membership state after AJAX action\n- Enh #5102: Use short number format for Space members count on Space Directory\n- Fix #5101: Fix to allow admin editing of not required profile fields\n- Enh #123: New sorting option \"Default\" for people directory page\n- Fix #122: Fix button \"Load more\" initialization on Pjax loading\n- Enh #5114: Added `EVENT_BEFORE_CHECKING_USER_STATUS` in `AuthController.php` to give the possibility to add an event before checking the user status\n- Fix #5122: `RichText::output` produces `p` HTML element instead of `div`\n\n\n1.8.3 (July 14, 2021)\n----------------------\n- Fix #29: Fix login form view on browser back button after footer link\n- Fix #5066: Fix pin and archive global content without container\n- Fix #5107: Fix captcha client validation after request new code\n- Fix #22: Fix misplaced OEmbed provider buttons on general settings form\n- Fix #5130: Don't require type for first param of the function ProsemirrorRichText::replaceLinkExtension()\n- Fix #5155: Open basedir restriction error in with PHP 7.4.21/8.0.8\n\n\n1.8.2 (April 26, 2021)\n----------------------\n- Fix #4959: Horizontal scrollbar for images\n- Fix #4898: No streamExcludes option when loading single stream entry\n- Enh #4960: Added \u201ccodeception/module-rest\u201d for testing of REST API modules\n- Enh #4976: Added REST API Codeception tester\n- Enh #4967: Module update broken with expired licence key\n- Enh #4972: Fix enabling to send notification on remove user from group\n- Fix #4985: Fix Activity Mail QueryParams on console mode\n- Enh #23: Allow to read image URLs with token param\n- Fix #4989: Translate profile field title in admin list\n- Fix #5002: Fix loading of fixture spaces on tests\n- Fix #5018: Activity stream problems with many user accounts\n- Fix #5013: XSendFile broken when no SERVER_NAME header provided\n- Fix #5004: Preview text maxLength issue\n- Fix #5017: File CLI Command fails due to manually deleted files\n- Fix #5020: Space visibility options shown to users without permission\n- Enh #5024: Disable text wrapping in stream richtext\n- Fix #5022: Fix assign default group on user registration\n- Fix #5015: Fix visibility of admin menu entries which are initialized with deprecated method\n- Fix #5039: RichText converter for some string patterns in HTML format\n\n\n1.8.1 (March 12, 2021)\n----------------------\n\n- Fix #4931: Fix highlight parent navigations for sub section \"Profile Permissions\" (and LDAP)\n- Fix #4934: Show error instead of warning when using different MySQL Table Engines\n- Fix #4936: Fix emoji in sample content\n- Fix #4940: Typo in German translation \"Benachrichtigungen\"\n- Fix #4942: MemberOf Display in LDAP CLI Show User Details\n- Fix #4465: LDAP PHP 8 incompatibility (multiPageSearch)\n- Enh #4569: Config to overwrite module path\n- Fix #4946: Fix migration of the default permissions\n- Fix #4955: Fix convert emoji with sign \"+\"\n- Fix #4956: Fix file hash column length\n\n\n1.8.0 (March 1, 2021)\n---------------------\n\n- Fix #4893: Richtext extension events are ignored when using deprecated maxLength option\n- Fix #4896: Error thrown if live poll broadcast focus event is triggered\n- Fix #4907: Positions of Comment / Like links under posts\n- Fix #4911: Auto logout user on maintenance mode\n- Fix #4912: Restrict guest access on maintenance mode\n- Fix #4918: Comment richtext gets focused when closing comment section\n- Fix #4917: Hide user groups in directory without option \"Show At Directory\"\n\n\n1.8.0-beta.2 (February 18, 2021)\n--------------------------------\n\n- Fix #4853: Removed obsolete Group::getSpace() relation\n- Fix #4828: Display default permissions of all modules even if they are deactivated by default\n- Fix #4841: Fix misplaced notification filters\n- Fix #4842: Prerequisites Test - Improved database version detection for MariaDB\n- Fix #4850: New AuthClient method onSuccessLogin() not available on standard OAuths\n- Fix #4856: Allow to invite users to space with pending membership application\n- Fix #4869: Fix cached comment content in email notification\n- Fix #4857: Fix wrong content id on building cache key\n- Fix #4838: ProsemirrorRichText::replaceLinkExtension() not compatible with HumHub < 1.8\n- Fix #4847: RichText::postProcess(null) throws error\n- Fix #4886: Improved styling of aligned richtext images\n- Fix #4891: Typo 'charachters' in chooser message\n\n\n1.8.0-beta.1 (February 4, 2021)\n-------------------------------\n\n- Enh #3996: Force password change on first log in for users created by admin\n- Enh #3996: Allow admin to change option \"Must change password\" for existing users\n- Enh #3414: Allow to change user passwords by admin\n- Enh #4543: Order members by newest in `about` page\n- Enh #4347: Add `hideMembersSidebar` to make members sidebar optional in space stream page\n- Enh #4585: Group notifications must be enabled explicitly\n- Fix #4646: Clean up duplicated array keys\n- Enh #242: Allow multiple default spaces for groups\n- Enh #4670: Editable default permissions for Content Containers(Space and User)\n- Enh #48: Improve \"Admin Can View All\" Feature\n- Fix #4692: Fix visibility of the button \"Add new space\"\n- Enh #4579: Optimized dashboard stream query\n- Enh #4579: Optimized live legitimation id queries\n- Enh #4579: Added `dashboard\\Module::$guestFilterClass` and `$memberFilterClass` to replace dashboard filter class\n- Enh #4586: Rebuild group default Space Mapping\n- Enh #4225: Delete open/pending registration invites automatically after a period of time\n- Fix #4718: Fix space or profile banner size after crop\n- Enh #4738: Allow CanComment permission also on profile level\n- Enh #4511: Default group for users who are not assigned to any other group\n- Enh #4749: Add Migration helper to determine installation state\n- Enh #4611: Added console command to display LDAP attributes of a user\n- Enh #4750: OAuth: Automatically link OAuth Account with same e-mail address\n- Enh #4706: Marketplace: Possibility to prohibit modules via the configuration\n- Enh #4770: Added CLI commands for Professional Edition licence management\n- Enh #4752: Added file column `hash_sha1` to avoid caching problems\n- Enh #3345: Maintenance mode\n- Enh #4751: Hide separator between widgets `LikeLink` and `CommentLink`\n- Enh #4751: New `ContentObjectLinks` widget for the detail views of module content\n- Enh #4754: Shorten high member numbers\n- Enh #4781: Change allowed characters in username\n- Enh #4416: Added reply to sub comments\n- Enh #4571: humhub/libs/Html::containerLink() now adds a \"data-guid\" attribute\n- Enh #4791: Delay failed login attempts\n- Enh #4787: Always enable Space Membership Web Notifications\n- Enh #4795: Added support for collapsible form fields\n- Enh #4796: Added option to disable PWA/ServiceWorker support\n- Enh #4808: Improved richtext styles\n- Fix #4752: Fix saving hash of a deleted file from disk\n- Enh #4671: Implemented live poll result sharing by BroadCastChannel\n- Enh #4829: Renamed account \"Security\" page and make it optional\n- Enh #4818: Added database related checks (Driver, Collation, Table Engine)\n- Fix #4831: Validate username by pattern only on change or for new users\n- Fix #3662: Encoding issues in mails\n- Enh #4686: Implemented richtext converter to following formats: plaintext, shorttext, html, plain markdown\n- Enh #4686: Enhanced richtext extension API for convterting and post-processing\n- Enh #4686: Added caching mechanism for richtext converter results\n\n\n1.7.3 (February 26, 2021)\n-------------------------\n- Fix #4792: Guest access to user profile home page\n- Fix #4794: CountrySelect profile field broken\n- Fix #4793: Form labels (HForm) are not displayed correctly\n- Fix #4569: Prevent double module registration\n- Fix #4389: Require to check a checkbox if the profile field is required\n- Fix #4281: Update space chooser after following a space\n- Fix #2950: Close modal window on click link with url in href\n- Fix #3687: Disable profile field type for existing record\n- Fix #4819: Fixed some PHP8 issues. (Updated to Yii 2.0.40 / Imagine 1.0+)\n- Fix #4825: Ensure unique setting values (Added unique table index)\n- Fix #4895: Fix js warning of not loaded module space.chooser\n- Fix #4921: Fix ambiguous column status\n- Fix #4923: Replace denied characters with underscore in uploaded file names\n\n\n1.7.2 (January 21, 2021)\n------------------------\n- Fix #4668: table-responsive tables do not overflow due to default word break style\n- Fix #4679: Richtext extension scan does not include full title if title contains a `)`\n- Fix #4703: SSO login drops no warning if AuthClient cannot be stored\n- Fix #4700: Deep Links from Microsoft Office Documents\n- Fix #4714: Use HTTPS protocol for default OEmbed endpoint URLs\n- Fix #4727: Nav tabs with data-toggle are styled in link color\n- Fix #4649: Success message rendered although password validation failed\n- Fix #4717: Repsonsive layout alignment issue on small screens\n- Fix #4715: Call to `Content::canArchive()` throws error on global content\n- Fix #4744: Banner image orientation not being processed\n- Fix #4743: Hide \"Like\" link when no permission \"Can like\"\n- Fix #4768: Use only letters and digits from Space name for logo acronym (Thanks to @jrckmcsb)\n- Fix #3617: Deny slashes in usernames\n\n\n1.7.1 (November 27, 2020)\n-------------------------\n- Fix #4612: Dashboard wall stream entry displays user name in sub title in post style layout\n- Fix #4614: Profile Image crop broken\n- Fix #4607: Changed grid size of image preview on fluid themes\n- Fix #4609: Error on downscale command\n- Fix #4621: Wrong image orientation on downscaling with imagick\n- Fix #4628: Fixed stream gallery ratio issues on fluid themes\n- Fix #4636: Jplayer overflow on mobile stream\n- Fix #4591: Registration error text \"You are already logged in!\" not translatable\n- Fix #4630: Transfer default content of user approve/decline email to approve/decline form\n- Fix #4650: `adminCanChangeUserProfileImages` option has no effect\n- Fix #4660: Topic stream filter leads to stream entry duplication in combination with stream suppression\n- Fix #4638: Profile settings do not accept birthdate in russian format\n- Fix #4596: Set `autocomplete=\"off\"` on date picker fields\n- Fix #4666: Richtext attachment of multiple files without title fails\n\n\n1.7.0 (November 4, 2020)\n------------------------\n- Fix #4590: Page loader color contrast too low \n- Fix #4599: File preview not visible if initialized in background\n\n\n1.7.0-beta.2 (October 26, 2020)\n-------------------------------\n- Fix #4504: Fix `hasSidebar()` for empty sidebar\n- Fix #4526: `HeaderControlsMenu::init` called twice\n- Fix #4529: Aligned default dropdown text size\n- Fix #4533: Removed \"Can Like\" permission from permission settings for \"Not registered users\"\n- Fix #4534: In profile checkbox field, `Other:` not translatable \n- Fix #4547: Fixed wall stream entry header title text style\n- Fix #3980: Empty stream on permalink for content a user is not allowed to access\n- Enh #4448: Exclude all media preview files from file list if `excludeMediaFilesPreview` setting is active\n- Fix #4542: Ignore displaying `Member Since` for empty created_at membership\n- Fix #4549: Handle invalid timezone validation in registration process\n- Enh #4531: Remove wall entry left padding on mobile \n- Fix #4554: Code blocks in comments uses same background color\n- Fix #4574: Different style between clickable and non clickable space/user counter\n- Fix #4575: Increased text size of \"Read more\" link on short-text post\n- Fix #4575: Increased text size of \"Read more\" link on short-text post \n- Fix #4559: Don\u2019t check platform php extensions by composer v2\n- Fix #4581: Users see content of archived spaces on dashboard\n\n\n1.7.0-beta.1 (October 16, 2020)\n-------------------------------\n- Fix #4327: Internationalization of user approval/decline message text\n- Fix #4139: Dashboard post input on mobile cuts editor menu\n- Fix #4328: Top navigation overlaps post input richtext menu on dashboard page\n- Fix #4257: Notification dropdown text breaks after notification image on mobile\n- Enh #4341: Simplified console controller map \n- Fix #4272: Guess timezone for new accounts\n- Fix #4230: Auto enable \"Hide file info (name, size) for images on wall\" option\n- Chg: Move CHANGELOG to humhub root\n- Fix #4330: Allow users with permission ManageUsers to modify profile images\n- Enh #4179: Removed deprecated mysql character set in log table migration\n- Enh #4324: Improved line break for menu entries with many characters\n- Enh #4186: Add Timezone validation rules to admin prerequisite view\n- Enh #4378: Implemented generic ContentContainerActiveRecord::is() function\n- Enh #4310: Add \"Can Like\" Permission \n- Fix #4111: Issues Cropping Images\n- Enh #4283: Implemented UserMemberSince and UserLastLogin user's profile virtual fields \n- Fix #4385: Tour broken when profile start page is changed\n- Enh #3882: Rework of wall stream entry widget design and API\n- Enh #3882: Introduction of alternative `WallStreamModuleEntry` widget for collaborative content types\n- Chg #4397: Deprecated old wall entry widget and related stream logic (see `humhub\\modules\\stream\\actions\\LegacyStreamTrait.php`)\n- Fix #4391: ActiveRecord `created_at` and `updated_at` contains invalid value after save\n- Chg #4397: Default theme color alignment and new `@link` color variable\n- Enh #4419: Implementation of view context http header `HUMHUB-VIEW-CONTEXT`\n- Fix #4420: Uncaught Throwable destroys search layout\n- Enh #4421: Added `Html::addTooltip()` to add tooltips to an option array\n- Fix #4422: Invalid Html semantic in activity stream (`li` wrapped by `a`)\n- Enh #4423: Implemented icon alias configuration in ui module class\n- Enh #4424: Posts content with short text is emphasized\n- Enh #4425: Use of accessibility compatible icon tooltips\n- Fix #4408: JPlayer on mobile overflows stream content\n- Fix #4382: Use of proper word break style\n- Fix #3566: Bug in models/filetype/CheckboxList.php\n- Enh #4401: Allow to use less variable name in value of another less variable\n- Fix #4434: Fix title quoting for space icons in widget \u201cMember in these spaces\u201d\n- Fix #4428: Replace db Expression time now with func date('Y-m-d G:i:s')\n- Enh #4370: Add \"about\" to `Space` model\n- Enh #4370: Add `humhub\\modules\\space\\widgets\\MyMembership` to manage render user state in a space\n- Enh #4370: Add `humhub\\modules\\space\\widgets\\AboutPageSidebar` to manage about page sidebar\n- Enh #4370: Add `About Space` page \n- Fix #3994: Live event legitimation array include followed users\n- Fix #3994: Live event legitimation consider `cached` argument in processing data\n- Fix #4452: `humhub.ui.filter.getActiveFilterCount` returns wrong value with exclude array option\n- Fix #4452: Ignore `scope` profile filter in stream filter count and hasActiveFilters\n- Fix #4456: PHP8 deprecated warning for LessHelper::updateVariables()\n- Fix #4451: PHP Deprecated Warning in ProsemirrorRichText::replaceLinkExtension\n- Enh #4195: Increased scaled logo size for high res displays\n- Enh #4469: Added TextConverter maximum length\n- Enh #4469: Added file converter id attribute\n- Enh #3978: Added option to compress and resize images automatically on upload\n- Enh #3889: Prevent automatically resized site icons by manually added files (e.g. `/upload/icon/180x180.png`)\n- Enh #4458: Remove cacert.pem in order to avoid curl error\n- Enh #4467: Inject stream entries by event (experimental)\n- Fix #4473: Catch all Throwables when loading module configuration\n- Fix #4474: Loader not removed from event trigger\n- Enh #4476: Reworked TimeAgo widget\n- Chg #4482: Removed old legacy richtext editor which is deprecated since v1.3\n- Enh #4475: Add Console UserAdmin Command\n- Chg #4482: Removed old legacy richtext editor which is deprecated since v1.3\n- Enh #3851: Migrate components from ZendFramework to Laminas\n- Fix #4354: Set `about` as target url of space invitation notification\n- Fix #4493: Removed legacy ControllerAccess in notification ListController\n- Chng #4509: Removed `humhub\\modules\\space\\widgets\\Picker` which is deprecated since v1.2\n- Fix #4396: Submitting only picture in comment results in debug error.\n- Enh #4469: Added alias for file uploads folder\n- Fix #4513: Make like counter clickable in first like\n\n\n1.6.5 (Unreleased)\n------------------\n\n- Fix #4555: Default password validation error message missing translation and wrong min. characters\n- Fix #4494: Empty \"Add Modules\" step on space creation when all modules are always enabled\n\n\n1.6.4 (October 9, 2020)\n-----------------------\n\nThis release also brings a [security update](https://github.com/yiisoft/yii2/security/advisories/GHSA-699q-wcff-g9mj) of the Yii2 framework. HumHub itself and the modules provided by our offical marketplace are not affected by this bug.\n\n- Fix #4361: Added missing nonce attribute in inline marketplace script\n- Fix #4363: Open file modal throws permission denied for unauthenticated users in guest mode\n- Fix #4371: Word break issue in notification dropdown\n- Fix #4355: Fixed error when authclient not providing an id attribute\n- Fix #4384: Upgrade to Yii 2.0.38\n- Fix #4403: Space Picker Double HTML Encode\n- Fix #4385: Tour broken when profile start page is changed\n- Fix #4430: Invalid notifications breaks notification overview\n\n\n1.6.3 (September 9, 2020)\n-----------------------\n- Fix #4315: UserInvite (E-Mail Approval) not deleted when declining users\n- Fix #4318: Timezone issue with LDAP and birthday fields\n- Fix #4331: Directory pageSize module option has no effect\n- Fix #4333: Marketplace download of beta versions broken\n- Fix #4342: Missing Emoji mappings used for plain richtext output\n- Fix #4343: Autofocus of picker input in modal not working\n- Fix #4323: TabbedForm validation switches to erroneous tab on every client form validation\n\n\n1.6.2 (August 4, 2020)\n-----------------------\n- Fix #4305: 2nd level comment \"Submit\" button not visible\n\n\n1.6.1 (August 3, 2020)\n----------------------\n- Fix #4282: Sub-comment richtext menu dropdown does not hover main comment section\n- Fix #4285: All ThirdParty modules are also marked with \"Community\"\n- Fix #4287: Fixed Yii2 compatibility issue with MySQL 8+\n- Fix #4303: Fixed syntax error in comment query\n\n\n1.6.0 (July 29, 2020)\n---------------------\n- Fix #4256: MOV file support broken with wrong MIME Type\n- Fix #4274: Force profile field attribute values of BaseTypeVirtual fields\n- Fix #1438: Error \"User or Password incorrect.\" not translatable\n- Fix #4262: Additional hr in comment section\n- Fix #4161: Number of \"n more\" likes is invalid\n\n\n1.6.0-beta.1 (July 16, 2020)\n----------------------------\n- Enh: Improved performance of cli marketplace module updater\n- Fix #4054: Duplicate \"font-weight\" value\n- Enh: Prevent 100% image height in blueimp gallery\n- Chg #4170: Updated codeception to v4.1.6\n- Chg #4138: Updated jQuery to v3.5.1\n- Chg #4158: Cleanup post table removed unused column  \n- Fix #4182: Native edge password reveal icons interferes with custom one\n- Fix #4173: Notification overview HTML compliant issue\n- Enh #4191: Added SortOrder Form Input Field\n- Enh: Added `ContentVisibilitySelect` ActiveField widget for content forms\n- Enh #4213: Only render topic chooser if there are topics available or user can create topics\n- Enh: Added `humhub\\modules\\ui\\form\\widgets\\ActiveField:preventRendering` to manage render state within field classes\n- Enh: Added `humhub\\modules\\ui\\form\\widgets\\JsInputWidget:emptyResult()` helper to manage render state of JsInputWidget\n- Enh: Added `humhub\\modules\\ui\\form\\widgets\\JsInputWidget:field` in order to access ActiveField instances within JsInputWidget\n- Enh #4216: Added `humhub\\modules\\ui\\filter\\widgets\\DropdownFilterInput` in order to support dropdown stream filters\n- Enh: Added support for non-free marketplace modules without a fixed price \n- Enh: Show more information about installed module in marketplace when possible. Instead of limited README.md \n- Enh #3923: Add ability to disable profile stream\n- Enh #4222: Added virtual profile fields to display users e-mail address and username\n- Enh #4194: Increased max pinnable space content\n- Enh #4194: Make max pinnable content configurable on space/profile level\n- Chg #4228: Removed unnecessary `ContentActiveRecord:initContent`\n- Fix #4229: `Space::canAccessPrivateContent()` throws error for guest user if `globalAdminCanAccessPrivateContent` setting is true\n- Fix #4227: Removed redundant code from `humhub.ui.widget.js`\n- Fix #4232: Metadata request creates guest session if CSP nonce header is enabled\n- Enh #4234: Enhanced custom test environment configuration in `@protected/humhub/tests/config/env/env.php` file\n- Fix #4233: `humhub\\modules\\web\\security\\helpers\\Security:setNonce()` does not remove nonce session value if nonce is null\n- Fix #4235: Misleading error message 'Unable to determine dataType from response' logged on ajax error\n- Enh #4238: Added module marketplace option for Community Modules. Updated third-party Module disclaimer\n- Enh #4238: Added module marketplace option to enable module beta version updates\n- Fix #4199: Pinned posts of other spaces are excluded from profile stream\n- Enh #3995: Added additional user profile stream filter to include or exclude non profile stream content\n- Enh: Added `humhub\\modules\\stream\\actions\\Stream:initQuery` to manage query filter in subclasses\n- Enh: Make profile content archivable\n- Enh: Archived stream filter now only included archived content\n\n\n1.5.3 (July 16, 2020)\n---------------------\n- Fix #4036: Profile images are not rotated correctly\n- Fix #4168: Erroneous pagination in notification overview \n- Fix #4060: Profile description and text regex error message not translatable\n- Fix #4153: Administration: Email transport configuration 'Save & Test' Gives No Result\n- Fix #4187: Use of invalid LivePushAsset namespace\n- Fix #4140: Profile field hint is double encoded\n- Fix #4166: Typo in LDAP settings form\n\n\n1.5.2 (May 20, 2020)\n--------------------\n\n- Fix #4031: Notifications with non existing base model breaks notification list\n- Fix #4038: Cannot use yii\\helpers\\Html as Html because the name is already in use in ProfileBannerImage\n- Fix #4050: Broken Cron-job documentation link used in cron info sidebar snippet\n- Fix #4036: Uploaded photos are not rotated correctly\n- Fix #4078: Richtext linkextension pattern fails on link extensions with containing `)` in link title\n- Fix #4080: Invalid absolute urls created in acceptance tests\n- Fix #4030: #search-menu-nav required in theme view layout main\n- Fix #4086: Maximum call stack size exceeded thrown on ActivityStreamEntry.remove\n- Enh #4088: Improved table overflow handling in richtext content\n- Chg: Updated humhub richtext version to 1.0.25\n- Fix #4091: Richtext compatibility parser translates links within code blocks\n- Fix #4096: Missing CreatePost permission check in post model canMove\n- Fix #4098: Space setting edit fails due to unique name validation\n- Fix #4100: Empty message validation errors on post and comment edit broken\n- Enh #4061: Improved post context menu order\n- Fix #4056: Images not rendered in markdown profile field\n- Fix #4034: Premission filter pagination shown without reason and broken\n- Fix #4012: Permission filter dropdown shows module id instead of module name\n- Fix #4046: Search results not highlighted\n- Fix #3975: Space chooser directory button visible, even if user is not allowed to access directory\n- Fix #4106: Profile about displays birthdays in current user timezone \n- Fix #4108: Issues deleting network logo\n- Fix #4119: Oembed not found due to different encoding\n- Fix #4084: Blueimp gallery image assets not published\n- Fix #4069: Duplication of log level filter parameter in pagination url\n- Fix #4075: Use of array_key_fist in space CreateController fails on PHP < 7.3\n- Fix #4033: Checkboxlist profile field does not support `Key => Option` format as described in help text\n- Fix #4125: See password field addition calculates wrong position with container animation\n- Fix #4127: Richtext fullscreen mode within modal or login-container broken\n- Fix #4116: Definitive user deletion doesn't work \n\n\n\n1.5.1 (April 19, 2020)\n----------------------\n\n- Fix #4001: LDAP user sync error\n- Fix #4004: Missing translation strings\n- Fix #4009: Yii queue error handling broken\n- Fix #4008: Some richtext images are embedded as Base64\n- Fix #4019: Animated Gifs not handled correctly with GMagick extension \n- Fix #4021: Activity mail queue job timeout error handling \n- Fix #4005: The uploaded logo is scaled too small.\n- Enh #4026: Check memory limit in prerequisites check \n- Fix #4023: Background flickering on firefox page transition\n- Fix #4028: Image previews rendering in stream do not perform well.\n\n\n1.5.0 (April 15, 2020)\n----------------------\n\n- Fix #3976: User profile stream could not be initialized\n- Fix #3977 Reverted nicescroll version to 3.6.6 due to mobile scroll issues\n- Chg: Only use nicescroll on space chooser, notifications, and activity stream on large devices\n- Chg: Replaced `humhub.ui.view.isNormal()` with  `humhub.ui.view.isLarge()`\n- Fix #3973: Profile Categories Not Editable\n- Fix #3925: \"Back to stream\" button visible after pin to top in stream\n- Chg: Removed all style assets from CoreBundleAssets\n- Fix #3991: Archive content triggers \"New updates available\" stream badge\n\n\n1.5.0-beta.1 (April 6, 2020)\n----------------------------\n\n- Enh #3858: Support SameSite cookies\n- Fix #3861: Improved warning details when auto delete inconsistent notification\n- Fix #3873: Invalid visibility handling in `Content::canView()` for private global content\n- Fix #3896: Top menu dropdown double border on focus/hover\n- Fix #3834: Many entries in the top menu crashing layout\n- Enh #3907: Allow `client.ajax().abort()`\n- Enh #3909: Add filters to `Administration -> Information -> Logging`\n- Enh #3910: Add javascript url util `humhub.util.url.getUrlParameter()`\n- Enh #3557: Add permission filter to space and user permission settings\n- Enh #3844: Add directory menu icons\n- Enh #3792: Render profile field description as form hint\n- Enh #3841: Allow * as group-id in `defaultPermissions` configuration\n- Enh #3924: Implement `StreamQuery->$to` field and query for stream updates\n- Enh #3927: Add `content.container.guid()` function to determine active container on the frontend\n- Enh #3924: Display update stream badge once an update is available\n- Enh #3924: Implement `Stream.isUpdateAvailable()` to determine if there is an update available\n- Enh #3924: Implement `Stream.onUpdateAvailable()`, `Stream.loadUpdate()` and `Stream.options.autoUpdate` to manage stream updates\n- Enh #3924: Added `humhub\\modules\\content\\live\\NewContent:$streamChannel`\n- Enh #3928: Implement auto updates on activity stream\n- Enh #3930: Add default `Stream.initScroll` with support of IntersectionObserver\n- Fix #3904: Removed unused \"alt\" attribute on Span element\n- Enh #3950: Include non profile content to users profile timeline\n- Enh #3937: Add test mail to mail settings\n- Fix #3912: Unneeded inline style breaks stylesheet in logo.php\n- Enh #3402: Replaced ImageConverter class with Imagine \n- Enh #3939: Add `client.redirect` action to client js module\n- Enh #3941: Core asset bundle optimization\n- Enh #3428: Added dashboard stream filter\n- Fix #2456: Only display list of relevant modules on space creation (@armezit)\n- Fix #3954: Support LDAP servers without pagination\n- Enh #3958: Mark legacy modules in module overview \n- Chg: Added gradient to `ui.showMore` feature\n- Chg: Removed legacy `humhub\\assets\\PagedownConverterAsset` from AppAsset\n- Chg: Removed legacy `humhub\\assets\\JqueryCookieAsset` from AppAsset\n- Chg: Removed legacy `resources/file/fileuploader.js` from AppAsset\n- Chg: Removed legacy `resources/user/userpicker.js` from AppAsset\n- Chg: Removed legacy `js/humhub/legacy/jquery.loader.js` from CoreApiAsset\n- Chg: Removed legacy `js/humhub/legacy/app.js` from CoreApiAsset\n- Chg: Removed legacy `js/humhub/humhub.ui.markdown.js` from CoreApiAsset \n- Chg: Deprecated `humhub\\modules\\ui\\form\\widgets\\MarkdownField` in order to favor `humhub\\modules\\content\\widgets\\richtext\\RichTextField`\n- Chg: Use lazy js module fallback for `humhub.require()` by default\n- Chg: Only register live push asset and `SocketIoAsset` on demand\n- Chg: Updated Yii2 Queue Extension to v2.3.0\n- Chg: Migrated from Zend Http to Yii2 HttpClient \n- Enh #3916: Rework profile field administration overview \n- Fix #3635: Search rebuild job timeout\n- Fix #3965: Space deletion not possible on some AuthClients without password\n- Chg: Replaced Space archive and Space delete buttons\n- Fix #3813: Too high memory consumption on Notification cleanup  \n- Chg: Updated richtext version to 1.0.22\n\n\n1.4.5 (Unreleased)\n------------------\n- Fix #3945: Default object-src policy prevents loading pdf on safari\n- Fix #3963: Richtext/Markdown links not highlighted by default\n- Fix #3986: Cannot use yii\\helpers\\Html as Html because the name is already in use in `humhub\\libs\\ProfileBannerImage`\n\n\n1.4.4 (March 24, 2020)\n----------------------\n- Fix #3908: `DateHelper::parseDateTime()` returns invalid date if given value is not parsable\n- Fix #3905: `accountTopMenu` renders redundant `<li>` tag\n- Fix #3911: Error thrown in UrlRule for non existing user names\n- Fix #3914: Directory link in space chooser still visible when directory module not active\n- Fix #3915: Removed default border from canvas style\n- Fix #3885: Prevent comments on archived content\n- Fix #3940: Empty visibility for some new spaces \n- Fix #3942: Show password icon not placed correctly if field was initially hidden\n- Chng: Updated richtext version to 1.0.21\n- Fix #3906: Prevent emoji chooser focus when triggered by input rule\n- Fix #3890: Richtext list menu item disappears\n\n\n1.4.3 (March 4, 2020)\n---------------------\n- Fix #3887: CSS presentation issue for tables wider than the container and videos missing borders (areasas)\n- Fix #3893: New user invite headline broken in German translation\n- Enh: Updated translation files\n- Fix #3894: Pjax call does not does not release scroll body scroll lock when default swipe is active\n- Fix #3897: Top menu dropdown on mobile does not update active state\n\n\n1.4.2 (Februrary 27, 2020)\n--------------------------\n\n- Fix #3865: \"Use default swipe\" setting not working\n- Fix #3875: Profile image click does not open gallery overlay\n- Fix #3879: New mobile swap interfers horizontal scroll\n- Enh: Added `humhub.ui.view.isActiveScroll()` in order to check current scroll state (e.g. used to prevent swipe)\n- Enh: Added `humhub.ui.view.preventSwipe()` in order to prevent default swipe\n- Fix #3866: Emoji chooser broken after pjax link\n- Enh: Added emoji richtext menu item\n- Enh: Updated humhub richtext version to 1.0.20\n- Fix #3883: Former & soft deleted LDAP user produces multiple warnings\n\n\n1.4.1 (Februrary 17, 2020)\n--------------------------\n\n- Fix #3852: Error when OpenSSL extension is not installed\n- Fix #3849: ModuleCleanupJob produces an error due to \"..\" in path\n- Fix #3860: Console/Cli Marketplace actions broken\n- Fix #3862: Profile field type checkbox list with multiple values broken\n- Fix #3864: Some profile field translations broken  \n\n\n1.4.0 (February 4, 2020)\n------------------------\n\n- Fix #3789: TopicPicker `addOptions` flag ignored\n- Fix #3790: \"Create post\" permission visible in profile permissions settings for guest user group\n- Fix: `AdminMenu:reset()` fails on console requests using user switch\n- Fix: Default `ContentContainerController::subLayout` can't be overwritten directly or within controller `init`\n- Fix #3791: Topic overview missing for user profiles\n- Fix #3787: Required checkboxlist input shows asterisk on each option\n- Chng: Removed `static/temp.css`, moved required form style to `form.less`\n- Enh: Use of colored required input field asterisk\n- Fix #3784: `ActiveQueryContent::readable()` not working for global content\n- Chng: Removed italic text from summary mail of comment and content activities for better readability\n- Fix #3798: DBValidator not working with time value and swedish locale\n- Enh #3779: Added `ui.view.getContentTop()` for calculating the top position of the layout content with theme support\n- Fix #3704: Public space is not displayed when guest user accesses \"Space directory\".\n- Fix: Fixed modal width calculation on mobile (ee)\n- Fix: Dropdown width issue on mobile (ee)\n- Fix: Prevent sidebar swipe on menu scroll\n- Fix #3805: Cannot select more than one activity in E-Mail Summaries settings\n- Fix #3802: 'usersearch-status' dropdown triggers reload on click\n- Chng #3816: Use of `static::class` query class within `ContentActiveRecord::find()` instead of `getObjectModel()`\n- Fix: DBDatevalidator returns unix epoch date when parsing with a time value fails\n- Enh: Notification targets can be deactivated or overwritten by configuration\n- Fix #3810: Print Media Cluttered by HREF Content\n- Enh: Added further print style enhancements\n- Fix #3803: Invalid editor preset handling\n- Fix #3829: Guest user access to counter set freezes\n- Enh: `data-action` url now can be set as `href` attribute additionally to  `data-action-url`\n- Fix #3837: Legacy modal may freeze in case of errors\n- Fix #3796: Guest users can't access public posts from 'Latest activities'\n- Fix #3797: User `humhub\\modules\\user\\widgets\\Image` link was disabled by default\n- Fix #3795: Open Sans load downloadable font: kern: Too large subtable, table discarded\n- Chng: Dropped open-sans npm dependency and updated and included font in `static/css/open-sans.css`\n- Enh: Update Yii version to 2.0.32\n- Enh #3822 Added content id to notification urls as fallback in case notification was deleted\n- Fix: Settings cli rewrite dynamic config when required\n- Fix #3806: Using `Receive notifications for new content` will not include the space to the notification setting view until settings are saved\n- Enh: Added possibility to disable mail summary feature\n- Fix #3848: Error page does not use theme\n\n\n1.4.0-beta.2\n------------\n\n- Fix #3703: Fixed user profile image dimension of mobile\n- Fix #3732: Reverted changes of default oembed style\n- Enh: Added link to changelog for module marketplaces updates\n- Fix #3674: Back button breaks layout on login page when guest access enabled\n- Enh: Added `safeCreateTable`, `safeDropTable`, `safeDropColumn`, `safeAddColumn` to `humhub\\components\\Migration`\n- Fixed `.layout-nav-container` padding issue\n- Fix #2605: User display name cropped in profile header\n- Fix #3729: Integrity check used deprecated methods\n- Enh #3697: Stay of module update page after updating a module\n- Fix #3692: Icon Upload Problems\n- Fix #3705: Don't render empty menus\n- Fix #3706: Space mentioning broken\n- Fix #3742: OAuth timeout doesn't respect configured timeout \n- Enh: Added `DateHelper:getUserTimeZone()`, `DateHelper:getSystemTimeZone()`, `DateHelper:isInDbFormat()`\n- Fix #3711: Fullscreen Richtext menu broken on ios safari\n- Enh #3768: Add `Module::afterUpdate`, `Module::beforeUpdate` events to `humhub\\components\\Module`\n- Enh: Add `OnlineModuleManager::EVENT_BEFORE_UPDATE`, `OnlineModuleManager::EVENT_AFTER_UPDATE`\n- Fix: Double encoding of `&` in `Richtext::output()`\n- Enh: Added `SocialActivity::getContentPlainTextPreview()` mainly used in mail subjects\n- Enh: Added `data-ui-addition` way of definint ui additions\n- Enh: Added `data-ui-addition` way of defining ui additions\n- Enh #3771: Added `data-ui-addition=\"acknowledgeForm\"` in order to prevent page changes without save/confirmation\n- Enh #3771: Added `humhub\\modules\\ui\\form\\widgets\\ActiveForm:acknowledge` flag\n- Chng: Use of `BlueimpGalleryAsset` npm asset instead of static asset file\n- Enh: Updated richtext version to 1.0.18 see (https://github.com/humhub/humhub-prosemirror/blob/master/docs/CHANGELOG.md)\n- Enh: Added mobile swipe in order to show sidebar (needs to be activated `Administaration -> Settings -> Appearance`)\n\n\n1.4.0-beta.1\n------------\n\n- Enh: GroupPermissionManager - allow to query users by given permission\n- Enh: Automatic migrate DB collations from utf8 to utf8mb4\n- Enh: Added Icon widget as wrapper class \n- Enh: Moved from bower to npm assets\n- Chng: Removed `jquery-placeholder` asset and dependency\n- Chng: Removed `atwho` asset and dependency\n- Cnng: Removed old IE support\n- Fix #2946: Use Yii2 default timezone handling\n- Enh: Use LocalStorage in panel menu\n- Chng #2164: Removed MSN & Google+ social bookmarks during setup\n- Enh: Added a user module configuration for setting password strength rules (Baleks)\n- Fix #3103 Password recovery links pjax layout issue\n- Enh: Added `humhub.ui.widget.Widget.loader()` for default loader functionality\n- Enh: Added `humhub.ui.widget.Widget.reload()` in combination with `humhub\\widgets\\Reloadable` interface\n- Enh: Implemented an auto loading mechanism for notification filters (Baleks)\n- Enh: Modules can add or overwrite oembed providers by means of `humhub\\models\\UrlOembed:EVENT_FETCH` event (Baleks)\n- Fix: `WallEntry::EVENT_AFTER_RUN` event not triggered\n- Enh: Added `humhub\\components\\Widget::widgetLayout`\n- Enh: Added an option for user to change username (Baleks)\n- Enh: Added warning confirmation when module is being deactivated from console (Baleks)\n- Enh: Moved 'Default spaces' setting from Basic settings to Space settings (Baleks)\n- Enh: Add inviter name to Space Admin Member section (Baleks) \n- Fix #3463 Changed 'Deny Invite' to 'Decline Invite' for space invites (Baleks)\n- Enh: Responsive mobile view enhancements\n- Enh: Added `humhub\\widgets\\Link::target()` and `blank()`\n- Fix: `humhub.client` does not resolve promise on 302 redirects \n- Enh: Separated marketplace methods into own submodule\n- Enh: Added consistent user \"sub\" display-name handling\n- Enh: Added possibility to manage database settings via CLI\n- Fix: Force redirect to login instead 404 when guest access is disabled (thanks to Security Research Team, Datafarm Co.,Ltd.) \n- Enh: Added \"web\" submodule for web specific features (e.g. security headers or PWA)\n- Enh: Added Progressive Web App (PWA) support\n- Enh: Added integrated page icon handling\n- Enh: Raised minimum PHP Version to 7.1\n- Chng: New Menu and MenuEntry rendering\n- Enh: Added Icon abstraction `humhub\\modules\\ui\\icon\\widgets\\Icon`\n- Enh: Added `humhub\\libs\\Html::addPjaxPrevention()` for link options\n- Enh: Added obj support for `humhub\\libs\\Sort`\n- Enh: Reorganized WallEntry context menu\n- Enh: Added new configurable security module with nonce script support\n- Chng: Updated jQuery version to 3.4.0\n- Enh: Added `humhub\\modules\\user\\controllers\\AuthController::EVENT_AFTER_LOGIN` triggered after login success response is rendered\n- Enh: Make sure embedded video controls are enabled\n- Fix #3404 Richtext `Heading` text not translatable\n- Fix #3642 Welcome tour not using community name\n- Chng: Moved collapsible panel logic into own js module\n- Enh #3649: Provide a way to S/MIME sign e-mails (@ChadiRachid)\n- Fix `humhub\\modules\\file\\widgets\\Upload::progress` config options not working\n- Enh: More generic approach to determine themed view files\n- Enh: Always use ISO 639-1 alpha-2 (and ISO 3166-2) language codes\n- Enh: Reorganized translation method categories to reduce language files\n- Enh: Removed deprecated methods/classes since v1.1 - see migration guide for details\n- Enh: Show registration form captcha per default\n- Enh: Added abstract `ContentContainerActiveRecord::getDisplayNameSub()`\n- Enh: Allow `humhub\\modules\\files\\widgets\\Upload::withName($submitName, $cfg);`\n- Enh: Auto add `data-container-id` to Space and User `Image` widget\n- Enh: Added `grunt test --debug` option\n- Fix #3653: Add PHP LibXML requirement\n- Enh: Added show password feature for password form elements\n- Fix: `humhub\\components\\acces\\AccessValidator` now returns http code `401` for guest and `403` for users by default \n- Enh: Added generic `humhub\\modules\\ui\\helpers\\models\\ItemDrop` model for drag/drop reordering\n- Enh: Added `ContentContainer::findRecord($guid)` for loading a ContentContainerActiveRecord by guid\n- Enh: Implemented `ProfileImage::render($width, $cfg)` for e.g. `$container->getProfileImage()->render(400)`\n- Enh: Added `ContentTag::sort_order` field to provide a default order mechanism for content tags\n- Enh: Added `sort_order` configuration for topics\n- Enh #3564: Link MemberAdded activity to new member instead of the space\n- Enh: Added `humhub.modules.ui.form.submit` action e.g. `data-action-change=\"ui.form.submit\"`\n- Chng: Added `humhub.ui.form` namespace to core api asset\n- Fix #3567: Profile field type Checkbox List with comma in option list not working\n- Enh: Added `changed` and `resetSearch` js widget events to `humhub.space.chooser.SpaceChooser`\n- Enh: Added a way to specify script urls, which should not be reloaded (`yii.reloadableScripts`) by configuration and event\n- Enh: Add base provider url as `data-oembed-provider` attribute to oembed container\n- Fix #3547: Invalid font-family in system mail\n- Chng: `humhub\\compat\\CActiveForm` and `humhub\\compat\\CHtml` is now deprecated\n- Enh: Updated to twemoji v12\n- Enh: Editable `['twemoji']['path']` config parameter\n- Enh: Added configuration option to hide/disable the Like module\n- Enh: Added link to changelog for module marketplaces updates\n- Fix #3674: Back button breaks layout on login page when guest access enabled\n- Enh: Added `safeCreateTable`, `safeDropTable`, `safeDropColumn`, `safeAddColumn` to `humhub\\components\\Migration`\n- Enh: Added support of upcoming HumHub Professional Edition in Marketplace module\n- Enh: Added module marketplace categories\n- Enh: Added isFluid LESS variable for automatic HTML container handling\n- Fix #2605: User display name cropped in profile header\n- Enh: Updated Yii to 2.0.30\n\n\n1.3.21 (Unreleased)\n-------------------\n- Fix #3846: Timeline sort by \"update\" looses entries\n\n\n1.3.20 (January 9, 2020)\n------------------------\n\n- Fix #3814: File uploads broken with restricted file extensions\n- Enh: Added `withTimeZone` parameter to `humhub\\libs\\TimezoneHelper::generateList()`\n- Chng: Remove offset information in `humhub\\widgets\\TimeZoneDropdownAddition` by default\n\n1.3.19 (December 20, 2019)\n--------------------------\n\n- Fix #3759: Allow individual file extensions (e.g. msg)\n- Fix #3147: Module related permissions are not properly removed on deactivate/uninstall\n- Fix #3740: Profile field type Checkbox List does not show \"other\"\n- Fix #3484: Encoding issue in german space visibility translation\n- Fix #3717: Account deletion incomplete if related to an identity provider\n- Fix #3800: Birthday \"Hide year in profile\" inconsistent with LDAP\n\n\n1.3.18 (November 22, 2019)\n--------------------------\n\n- Fix #3698: Approval by group manager broken\n- Enh: Set max signs of User tags to 250\n- Fix: https://github.com/humhub/humhub-modules-wiki/issues/103 Topic attachment fails with given topic instances\n- Fix #3366: Set max-width for stream entry image file attachments\n- Fix: `ContentContainerController::getAccess` uses `ContentContainerControllerAccess` also for global access\n- Fix: Global content does not allow guest access\n- Fix #3727 Bug with Bluebird and Firefox 71 breaking mentioning requests\n\n\n1.3.17  (October 17, 2019)\n--------------------------\n\n- Fix #3690: Rollback from broken version 2.8.6 to 2.8.1 of bower-asset/clipboard.js\n\n\n1.3.16  (October 17, 2019)\n--------------------------\n\n- Fix #3647: GroupID field is not translatable in Registration Form\n- Fix #3655: Fix CommentLink widget Comment class usage conflict\n- Fix #3638: Update Notification Causes System Warning\n- Fix #3512: Broken error handling if SQL mode cannot be switched \n- Fix #3599: Removed HTML encode for FROM attribute of Email (@githubjeka)\n- Fix #3637: Allowed using apostrophe in filename (@githubjeka)\n- Fix #3602: Trim function for username (@githubjeka)\n\n\n1.3.15  (August 22, 2019)\n-------------------------\n\n- Fix #3587: New user tour broken on some template variants\n- Fix #3589: Reduced integrity check memory usage in Like/Comment module\n- Fix #3595: LDAP config file values ignored\n- Fix #3598: Removed Google+ default profile field\n- Fix #3552: Updated to Yii - AuthClient 2.2+ library\n- Fix #3588: OEmbed CSS class not provided\n- Fix #3609: LDAP paging control limits max. users\n- Fix #3618: Some LDAP CLI commands requires a authClientId parameter \n- Fix #3625: If user is following a space of which he is also a member, it shows up twice under \"my spaces\"\n- Fix #3626: SimpleStream reloads unexpected\n\n\n1.3.14  (June 26, 2019)\n------------------------\n- Fix: LinkedIn API call to v1 deprecated use v2 (@Felli)\n- Fix #3531: File module Fil: isAssignedTo method broken\n- Fix: Added missing admin group title encodings\n- Enh: Added featured module flag to marketplace view\n- Fix: Directory stats progress color (@Felli)\n- Fix #2724: Edited post does not display the space on dashboard\n- Fix #3533: Responsive design issues\n- Fix #3471: Display of Date Time Column in excel with empty/false value\n- Fix #3581: Search form with GET causes repeated sticking of url parameters (@Bhoft)\n- Enh: Added configuration option to hide Activity sidebar widget on dashboard\n- Fix #3570: en-GB language code Datepicker 404\n- Fix #3584: \"Array to string conversion\" on some LDAP attributes\n- Fix #3437: Composer warning for bower-asset/jPlayer\n\n\n1.3.13  (May 3, 2019)\n----------------------\n- Enh: Added HomeUrl support to ConsoleApplication\n- Fix #2536: Incorrect log of \"Attempt to steal file\" due to faulty File::isAssignedTo() check\n- Fix: Wrong help block position in admin basic settings\n- Chng: Removed yiisoft/yii2-apidoc dependency\n- Enh: Double file extension check is now optional and disabled by default\n- Fix #3552: `humhub\\modules\\user\\authclient\\AuthAction:auth()` not compatible with `yii\\authclient\\AuthAction:auth()`\n- Fix #3545: OEmbed fetch limit ignored\n- Enh: Added `humhub\\libs\\RestrictedCallException`\n- Chng: Switched from [bootstrap-tour](https://github.com/sorich87/bootstrap-tour) to [bootstrap-tourist](https://github.com/IGreatlyDislikeJavascript/bootstrap-tourist) due to incompatibility to bootstrap v3.4.1\n- Enh: Added `humhub.modules.tour` module for handling tour logic\n- Fix: Added PHP 7.3 compatibility workaround for ZF2 ArrayObject\n- Fix #3513: Profile schema cache not refreshed after adding new profile field\n- Fix: Removed Codeception files from HumHub packages builds due to possible XSS flaw (thanks to Ka\u011fan E\u011flence)\n- Fix #3534: Mark ID Attribute in LDAP settings as required\n- Fix #3662: Group picker encode issue\n\n\n1.3.12  (March 26, 2019)\n---------------------------\n- Enh: Use of new Richtext for About section\n- Chng: Force blank links in old markdown editor\n- Fix: Profile Markdown field files are not attached\n- Chng: Don't restrict`humhub\\modules\\file\\components\\FileManager::attach()` to `humhub\\components\\ActiveRecord`\n- Fix: Richtext preview new line backslash issue\n- Enh: Migrated LDAP features into own submodule\n- Enh: Added new LDAP command line tools\n- Fix #3347: Fixed searching members in space and users with white space in full name (Baleks)\n- Fix: Deleted Records are not correctly removed from the search index\n- Fix #3459: Notification counter increment after manual notification fetch\n- Fix: Notification count update does not respect notification group\n- Fix: Change email form is restricted to max 45 characters. Changed to 150 (current DB restriction)\n- Fix: Footer menu renders redundant `<li>` end tag.\n\n1.3.11  (March 06, 2019)\n---------------------------\n- Fix: Disabled module notification category visible in notification settings.\n- Enh: Added `ModuleManager::getEnabledModules()`\n- Enh: `LikeAsset` is now part of `AppAsset` and does not need further registration\n- Fix (CVE-2019-9093) and (CVE-2019-9094): Reflective XSS in file post upload and cfiles upload (thanks to **Rubal Jain** for testing and reporting)\n- Enh: Added further upload file name validation\n- Enh: Added `ContentContainerModuleManager::flushCache()`\n- Fix: Bootstrap modal blocks richtext prompt focus\n- Fix: Richtext images with dimension setting not attached\n- Fix: `Stream::renderEntry()` overwrite does not work\n- Fix: Removed markdown line breaks from richtext preview\n- Fix: WallEntry of global content throws error\n- Fix: `ActivityAsset` does not depend on `StreamAsset`\n- Fix: Uploaded png preview files lose transparency\n- Fix: Modal options `backdrop` and `keyboard` deactivation has no effect\n\n\n1.3.10  (February 22, 2019)\n---------------------------\n- Fix: Removed ContentTag logging in search update\n- Fix #2567 No results in directory search containing single quote ( ' )\n- Fix #3468 Private space stream contains public content filter \n- Fix #3473 Captcha validation breaks invite by mail\n- Enh: `data-action-confirm` now works on non action based links in combination with `data-action-method`\n- Enh: `grunt test` now uses the composer codeception version instead of a global executable\n- Enh: `grunt test` supports an additional `--env` option in order to set the codeception environment\n- Fix: Absolute url generation in tests not working\n- Enh: Added `HumHubHelper:fetchinviteToken()` in order to fetch invite tokens from emails in functional tests\n- Fix: Added \"utf8mb4\" character set support to database requirements\n- Fix: Finnish language name in language dropdown\n\n\n1.3.9  (February 13, 2019)\n--------------------------\n\n- Fix: StreamSuppressedQuery with limit = 2 throws query not executed exception\n- Fix #3378: Update user in search index when group memberships changes\n- Fix: Space un-archived activity view path broken\n- Enh: Accepting module README.md files in 'docs' directory\n- Fix: Include user profile posts option in dashboard stream broken\n- Fix: Check SoftDeleted user state in ControllerAccess\n- Fix: Removed database charset configuration in dynamic config\n- Fix: User soft deletion membership cache overwrite\n- Fix #3422 Stream suppressed loading logic loads unnecessary stream entries\n- Fix: \"Back to home\" button in registration broken with user approvals and guest mode activated\n- Fix #1683 #553: Added link to show/edit users awaiting admin approval\n- Fix: TextFilterInput uses `keypress` event instead of `keydown`\n- Fix #3452: Soft deleted user remain in other users as friends\n- Fix #3170: Wrong cancel invitation mail handling\n- Enh: Added `humhub\\modules\\space\\models\\Membership::isCurrentUser()`\n- Enh: Added `humhub\\widgets\\Link::post()` for `data-method=\"POST` requests\n- Fix: Use `humhub\\modules\\user\\components\\ActiveQueryUser::active()` on UserPicker fillquery by default\n- Added `relativeUrl` to notification view parameter\n- Fix #3335: Queue migration broken on some database configurations\n- Enh: Added new admin setting \"Include captcha in registration form\"\n- Enh: Added contentTags to the search index\n\n\n1.3.8  (December 10, 2018)\n---------------------------\n\n- Fix #3359: Weekly summary e-mails are not sent in default configuration\n- Fix #3365: Legacy richtext emojis not parsed in richtext preview\n- Fix: Friendship button adds additional spaces\n- Fix: SpaceController::actionHome throws 403 Http error for guests\n- Enh: New `humhub\\modules\\user\\components\\User::EVENT_BEFORE_SWITCH_IDENTITY`\n- Fix: Administration menu item visible after user impersonation\n- Enh: Added PermissionManager findUsersByPermission feature\n\n\n1.3.7  (October 23, 2018)\n---------------------------\n\n- Enh: Added maximum username length & maximum/minimum space url length (rekollekt)\n- Fix: Error message during database installation\n- Enh: \"Powered by\" message handling by widget\n- Enh: Add less options for mail font url/family (@rekollekt)\n- Fix: Fixed typo in space (un-)archived activities\n- Enh: Removed ErrorEvent which will be removed in yii-queue 3.0 (@acs-ferreira)\n- Enh: Added config option to remove \"user profile posts\" entry from directory navigation\n- Fix #2912: Deleting single stream item does not reload stream\n- Fix: Updated blueimp/jQuery-File-Upload to 2.94.1\n\n\n1.3.6  (October 11, 2018)\n---------------------------\n\n- Fix: Richtext loses mark state\n- Fix: New comment scroll behavior not used in edit comment\n- Chng: Updated `humhub-prosemirror-richtext` to v1.0.12\n- Fix #3322: Disabled users still receive emails notifications\n\n\n1.3.5  (October 10, 2018)\n---------------------------\n\n- Fix: Serialization of notifications without originator fails\n- Fix: Hide unapproved member activities\n- Fix #3313: Unable to deny invitation to private space\n- Fix: Added missing `parent::init()` to `humhub\\modules\\stream\\widgets\\StreamViewer`\n- Fix: Added PHP GD extension to the requirements (docs and selftest)\n- Fix: Comment edit triggers new activity\n- Fix: Fixed typo from `MailSummary::INTERVAL_HOURY` to `MailSummary::INTERVAL_HOURLY`\n- Enh: Added `humhub.modules.ui.filter.TextInput` and related `humhub\\modules\\ui\\filter\\widgets\\TextFilterInput`\n- Enh: Enable `data-action-keypress` by default\n- Enh: Added `preventDefault` argument to `humhub.modules.action.bindAction` to disable prevent default behaviour for action events\n- Fix: Fix bootstrap-datepicker.en.min.js 404 (Not Found)\n- Fix: Comment form files not cleared\n- Enh: Added `humhub\\modules\\file\\models\\isAssignedTo($record)` argument in order to check if a File is attached to a specific record\n- Fix: rich-text mobile view wrong min-height calculation\n- Fix #3314: layout container width differences\n- Fix #3315: Exception on first login with ldap\n- Fix comment scroll overflows button\n- Fix widgetAction events case issue\n- Added `humhub.modules.util.string.capitalizeFirstLetter` and `lowerCaseFirstLetter`\n\n\n1.3.4  (September 25, 2018)\n---------------------------\n\n- Fix: Theme parent lookup cache causes installer crash\n\n\n1.3.3  (September 24, 2018)\n---------------------------\n\n- Fix: img overflow in markdown view\n- Enh: Added console command to list and change themes\n- Enh: Improved theme parent lookup performance\n- Enh: Added auto file attachment in `humhub\\modules\\content\\widgets\\richtext\\ProsemirrorRichTextProcessor`\n- Fix: z-index issue with fixed richtext menu\n- Fix #3294: space picker encoding\n- Chng: Prevent `ActiveRecord::save()` call in `humhub\\modules\\file\\components\\FileManager::attach` \n- Fix: Added additional notification validation\n- Fix: Notification previews contains new line\n- Enh: Allow urls in array form in homeUrl configuration\n- Fix: Javascript `humhub.modules.util.object.extend` not working on older Safari version\n- Enh: Enable usage of `humhub\\modules\\content\\widgets\\PermaLink` outside of `humhub.modules.content.Content` components.\n- Fix #3302 smiley are not render into last activity module and email \n- Fix: Space head count includes disabled user\n- Fix: Broken picker image alignment (acs-ferreira)\n- Fix: File handling in upgrade path between 1.0.x and 1.3.x \n- Chng: Updated `humhub-prosemirror-richtext` to v1.0.10\n- Fix: File handling in upgrade path between 1.0.x and 1.3.x \n\n\n1.3.2  (September 4, 2018)\n--------------------------\n\n- Fix #3241: Profile header space count invalid\n- Fix: Disabled Notification E-Mails for installation sample contents\n- Fix: No e-mail summary immediately after installation\n- Enh: Added queuing for search updates of commments\n- Enh: Added queue clear option at Administration - Information\n- Enh: Improved support of languages unsupported Yii2 \n- Enh: Added Amharic language support\n- Enh: Added Finnish language support\n- Enh: Added dashboard warning for admins if cron jobs not working\n- Fix: Queue worker problem with spaces in PHP binary path\n- Fix: Comment buttons overlap editor text\n- Enh: Added windows support for grunt tasks\n- Enh: Added `grunt test-server` and `grunt test`\n- Chng: `humhub\\modules\\content\\models\\Content` now implements `humhub\\modules\\content\\interfaces\\ContentOwner`\n- Fix: Target container not available in `humhub\\modules\\content\\components\\ContentActiveRecord:afterMove()`\n- Chng: `humhub\\modules\\topic\\models\\Topic::attach` now accepts `humhub\\modules\\content\\interfaces\\ContentOwner` instances\n- Fix: Richtext without focusMenu on small devices overlaps previous sibling\n- Enh: Added random default color to `humhub\\modules\\ui\\form\\widgets\\ColorPicker`\n- Chng: `humhub\\modules\\content\\models\\ContentTag:deleteAll()` and `humhub\\modules\\content\\models\\ContentTag:findAll()` now respect the tag type condition by default- Fix: Space admin user remove broken\n- Fix: Space admin user remove broken\n- Fix: Invalid \"Member since\" date in space administration\n- Fix: Suprressed stream entry button not rendered.\n- Fix: Author stream filter not working.\n- Chng: Use of relative urls in richtext files/images\n- Fix: Permalink better handling of deleted content\n- Fix: Activity exception on integrity check\n- Fix: Ensure profile field \"internal name\" contains at least one character\n- Fix: Do not allow user self deletion via admin section\n- Fix: Refactored ActiveQueryContent::contentTag method, added method parameter\n- Fix: Richtext prompt not removed on pjax load\n- Enh: Added `humhub\\modules\\content\\widgets\\richtext\\ProsemirrorRichText::parseOutput` for pre render parsing\n- Enh: Added `humhub.modules.file.getFileUrl` and `humhub.modules.file.filterFileUrl` for file guid based url handling\n- Fix: `humhub\\modules\\space\\modules\\manage\\components\\Controller` only accessible by system admins\n- Enh: Added scheme parameter to Content::getUrl method\n- Enh: Added `ui.richtext.prosemirror.config.link.validate` to intercept link input validation\n- Chng: Updated `humhub.prosemirror` dependency to 1.0.9\n\n\n1.3.1  (August 7, 2018)\n-----------------------\n\n> Warning: Please read the [Update Guide](http://docs.humhub.org/admin-updating-130.html) before updating from 1.2.x!\n\n> Note: A full list of changes is available here: [Changelog](https://github.com/humhub/humhub/blob/v1.3.1/protected/humhub/docs/CHANGELOG.md)\n\n- Fix: Complete table cache flush on profile field update\n- Fix: Improved handling of inconsistent notifications\n- Fix: Vietnamese translation syntax error\n\n\n1.3.0  (August 3, 2018)\n-----------------------\n\n> Warning: Please read the [Update Guide](http://docs.humhub.org/admin-updating-130.html) before updating!\n\n- Enh: Added `PolymorphicRelation::strict` to throw exceptions when accessing invalid polymorphic relations\n- Fix: Mail summaries not correctly triggered by cron\n- Fix: Click to topics lead on streams without topic filter throws javascript error. (https://github.com/humhub/humhub-modules-polls/issues/49)\n- Fix: Existing files may cause NULL pointer exception\n- Fix: Newly created profile fields cannot be updated\n- Enh: Added `AbstractRichTextEditor::layout` in order to change richtext style\n- Enh: Added `block` type RichText for non focus menu style\n\n\n1.3.0-beta.3  (July 30, 2018)\n-----------------------------\n\n- Fix: prevent user serialization for SocialActivity\n- Fix: wrong return value for `Content::move()`\n- Fix: space archive activity wrong originator assignment\n- Fix: suppress \"unable to determine dataType\" error for aborted xhr requests\n- Enh: added `FunctionalTester::loginBySpaceUserGroup()` and `FunctionalTest::assertSpaceAccessStatus()` for ACL testing\n- Fix #2721 delete space button not visible for system admin\n- Enh: added `humhub\\modules\\space\\behaviors\\SpaceModelMembership::canDelete()`\n- Fix #3221: Popover Space title \"&\" to \"&amp;\"\n- Fix invalid translation syntax used in croatian language\n- Enh added highligh.js as ui addition\n- Fix: ui.addition.applyTo with filter ignores first filter index\n- Fix: introduction tour not working\n- Chng: Moved static js dependencies from `static/resources` into `static/js`\n- Fix: Comment edit cancel edit context item not shown\n- Fix  #2700: Prevent GroupManager access to system admin group management\n- Enh: Styled user deletion view\n- Fixed: Space and User Admin Filterbar padding\n- Fix: Source serialization of Notification ActiveJob\n- Enh: Added 'requireSource' & 'requireOriginator' flags in SocialActivities\n\n\n1.3.0-beta.2  (July 18, 2018)\n-----------------------------\n\nPlease read the [Update Guide](http://docs.humhub.org/beta/admin-updating-130.html) before updating!\n\n> If you're using the sources directly from GitHub, you need to build the required assets manually. Please see the chapter [Build production assets](http://docs.humhub.org/dev-environment.html#build-production-assets) for more details.\n\n- Enh: Added CounterSet Widget to handle Space/Profile header statistic counts\n- Fix: UI addition mutation observer interfering with new rich-text mutation logic\n- Fix: ThemeLoader publishes assets on CLI requests\n- Enh: Add possibility to delete an invitation [#2980](https://github.com/humhub/humhub/issues/2980)\n- Enh: Moved search index tasks (add, update & delete) into asynchronous tasks\n- Enh: Added search index rebuild button\n- Fix #3200: wall stream scroll not working after single entry load request\n- Fix added missing required validation of target space for move content feature\n- Enh: Added `humhub.modules.stream.StreamState.firstRequest` in order to determine the initial request\n- Fix #3204: invalid russian translation in module overview\n- Fix #3169: post markdown not stripped in mails and activities\n- Fix #3157: invalid use of relative space target link in MailContentEntry widget \n- Fix force invite not working on space creation\n- Enh: Enable invite all instead of force membership in case force invite checkbox is not selected\n- Fix: prevent MembersAdded activity when using force space membership\n- Enh: added `humhub.modules.ui.picker.Picker.disable()` in order to disable/enable userpicker fields\n- Enh: topic labels now redirect to space stream with active topic filter if clicked outside of space stream\n- Fix: #3123: unbalanced html tags leads to broken comment after load more\n- Fix: #3211: escaped html rendered on space list modal\n- Fix: invalid userpicker translation syntax in czech language\n- Fix: added missing layout-snippet-container class in space and profile layout\n- Fix: move profile content not possible\n- Fix: Stream wall scroll event not detached on pjax call\n- Fix: Error thrown for empty url links in `humhub\\libs\\Markdown` when used in console environment\n- Fix: UserUrlRule double User model import\n- Fix: Skip soft delete validation\n- Fix: Added user dn to ldap attributes on login\n- Enh: Added Twig template engine for usage in modules\n- Enh: Added id data attribute on contentcontainer links\n- Fix: Wrong permission check on force invite check\n- Fix: Space homepage doesn't allow custom pages on first position\n- Enh: Added integrity check for notification originator\n- Enh: Use of new richtext version 1.0.4 see https://github.com/humhub/humhub-prosemirror/blob/master/docs/CHANGELOG.md \n- Enh: Added max-height for post/comment/edit richtext\n- Enh: Richtext style enhancements (dashed selection)\n- Fix: Upload preview for comments not cleared after submit\n- Fix: Profile/Space image upload not working after full page reloads\n- Fix: File upload errors not handled by richtext\n- Enh: Removed built and compressed assets from GitHub sources\n\n\n1.3.0-beta.1  (July 4, 2018)\n----------------------------\n\nPlease read the [Update Guide](http://docs.humhub.org/beta/admin-updating-130.html) before updating!\n\n- Enh: Added file search indexing\n- Enh: Updated composer.json (acs-ferreira)\n- Chg: Switched from Composer FXP plugin to Asset Packagist repository\n- Enh: Committed composer.lock\n- Enh: Refactored ContentContainer Controller\n- Chg: Added ContentContainer ModuleManager, instead of individual handling (Space/User)\n- Fix: Rebind LDAP connection after successful login with administrative user\n- Enh: Make utf8_mb4 as default database charset\n- Enh: Moved queueing into own submodule and updated to yii2/queue extension\n- Enh: Added user soft deletion without contributions\n- Enh: Moved user deletion into asynchronous tasks\n- Enh: Improved user grid view design (Administration, User Approval, Space Members)\n- Enh: Moved SyncUsers (LDAP) and session table cleanup handling into ActiveJob\n- Enh: Added Push live module driver using Redis and Node.JS\n- Enh: Added tooltip option to space Image widget.\n- Enh: Added `humhub.client.json` javascript util for directly receiving json instead of a Response object.\n- Enh: Added `humhub.file.Upload.run()` for triggering the upload of the Upload widget.\n- Chg: Moved `humhub\\widgets\\RichText` to `humhub\\modules\\content\\widgets\\richtext\\RichText`\n- Chg: Moved `humhub\\widgets\\RichTextField` to `humhub\\modules\\content\\widgets\\richtext\\RichTextField`\n- Enh: Added rich text abstraction by means of configuration parameter `richText`\n- Enh: Added `humhub\\modules\\content\\widgets\\richtext\\ProsemirrorRichText` as default rich text.\n- Enh: Added `humhub.oembed` js module for loading oembed content\n- Enh: Added `RichText::preview()` helper for minimal rich text output\n- Enh: Added `RichText::output()` helper for rendering the richtext\n- Enh: Added `RichText::postProcess()` for post-processing rich text content (mentionings/oembed etc.)\n- Enh: Added `content` module setting `Module::$maxOembeds` for setting the maximim amount of oembeds in a richtext.\n- Chg: Deprecate `humhub\\modules\\user\\models\\Mentioning::parse()` and in favor of `humhub\\modules\\content\\widgets\\richtext\\RichText::postProcess()`\n- Enh: Added `humhub.user.getLocale()` javascript helper for checking the user locale on client side\n- Enh: Added `humhub\\widgets\\InputWidget::getValue()` for determining the field value\n- Enh: Added `humhub.client.json` for directly receiving the json result instead of a response wrapper object\n- Enh: Added option ContentContainerController to restrict container type\n- Enh: Ensure valid permalinks when URL rewriting is enabled\n- Fix: Birthday field refactoring (@danielkesselberg)\n- Enh #2811: Added option to resend invites (@danielkesselberg)\n- Enh: Added current database name to the \"Administration -> Information -> Database\" (githubjeka)\n- Chg: Depreciated Instagram OAuthClient & removed (@Felli)\n- Enh: Added random default space color on creation\n- Enh: Updated to Yii 2.0.14.2\n- Chg: Reduced email length to 150 chars to support utf8mb4 charset \n- Enh: Added UI core module to group UI components\n- Enh: Added new IconPicker form field\n- Chg: Moved form widgets from `humhub\\widgets` to `humhub\\modules\\ui\\form\\widgets` (added compatibility layer)\n- Enh: Added surpressed e-mail addresses configuration variable\n- Chg: `Create a new one.` to `Forgot your password?` (@Felli)\n- Enh/Fix: Cache Handling + File Preview Fix (@Felli)\n- Enh: BaseSettingsManager allow to bunch delete settings with prefix\n- Chg: Migrated view and theme components to  `humhub\\modules\\ui\\view` package\n- Enh: Improved Theme component\n- Enh: Added notification for MembershipSpace by role member changes (@githubjeka)\n- Enh: Added Theme cascading to reduce view overwrites\n- Enh: Automatic theme stylesheet loading including parent theme stylesheets\n- Chg: Moved OpenSans font to core assets\n- Chg: Renamed information cronjob section to Background jobs and added queue status\n- Chg: MySQL queue is now the default job queuing driver\n- Enh: Add steps to using Facebook Oauth (@Felli)\n- Enh: Added css `footer-nav` class for footer navigation\n- Enh: Added Pin/Archived/Public wallentry icons\n- Enh: Added move content behavior by means of a `humhub\\modules\\content\\models\\Movable` interface\n- Enh: Added sortOrder utility `humhub\\libs\\Sort` \n- Enh: Added `humhub\\modules\\content\\helpers\\ContentContainerHelper` util with `ContentContainerHelper::getCurrent()`\n- Enh: Added `humhub\\modules\\stream\\helpers\\StreamHelper` util with `StreamHelper::createUrl()`\n- Chg: Shifted activity stream logic to `humhub\\modules\\activity\\actions\\ActivityStreamAction` and `humhub\\modules\\activity\\controllers\\StreamController`\n- Chg: Added activity stream action `humhub\\modules\\activity\\actions\\ActivityStreamAction`\n- Enh: Added `humhub\\modules\\stream\\models\\WallStreamQuery` class used for wall streams e.g. Space content stream\n- Enh: Added `ui` core module\n- Enh: Added abstract ui filters used for dynamic/extendable filter views\n- Chg: New Stream and Stream Filter API\n- Enh: Added `topic` content filter concept with stream integration\n\n\n1.2.8 (July 3, 2018)\n--------------------\n\n- Enh: Added user email to javascript user config\n- Fix: Module Assets are not republished after module update\n- Enh: Added `humhub\\components\\ModuleManager::EVENT_BEFORE_MODULE_ENABLE` and `humhub\\components\\ModuleManager::EVENT_AFTER_MODULE_ENABLE` events\n- Enh: Added `humhub\\components\\ModuleManager::EVENT_BEFORE_MODULE_DISABLE` and `humhub\\components\\ModuleManager::EVENT_AFTER_MODULE_DISABLE` events\n- Fix: Improved ZendLucence driver error handling\n- Fix #3148: Upload space picture dose not use file size setting in HumHub (acs-ferreira)\n- Fix: Incorrect last visit date shown in space admin pending members view (acs-ferreira)\n- Enh: Allow enable/disable modules by CLI\n- Enh: Added UTC only timezone in server timezone dropdown\n- Fix #3176: Integrity checker removes modules default state\n- Enh: Updated translations\n\n\n1.2.7 (May 23, 2018)\n--------------------\n\n- Fixed empty modal dialog response issue\n- Fix #3146 invalid bootstrap.min.css link in installer\n- Enh: Load `humhub\\modules\\content\\models\\ContentTagAddition` model in `humhub\\modules\\content\\models\\ContentTag::load()`\n- Enh: Auto save `humhub\\modules\\content\\models\\ContentTagAddition` within `humhub\\modules\\content\\models\\ContentTag::afterSave()`\n- Enh: Added `humhub\\modules\\content\\components\\ContentActiveRecord::isOwner()` to check the ownership of a content\n- Enh: Make directory access configurable by `humhub\\modules\\directory\\Module::active`, `humhub\\modules\\directory\\Module::guestAccess`\n- Enh: Added `humhub\\modules\\directory\\permissions\\AccessDirectory` permission for group level directory access\n- Fixed `User `namespace issue in `humhub\\modules\\user\\components\\BaseAccountController`\n- Chg: Added footer menu to account menu on small display resolutions\n\n\n1.2.6  (May 14, 2018)\n-----------------------\n\nWhen you are using a custom theme, you may need to add the newly introduced footer navigation to your overwritten view files.\nYou can find a full list of the view changes here: https://github.com/humhub/humhub/commit/a1815fb61d83619ce9ca40166800b8c5dcb9d539\n\n- Fix #3108: Fixed cronjob examples with leading zero (acs-ferreira)\n- Fix: Memory leak in activity mail summary processor cron\n- Fix: With enabled guest mode BaseAccountController does not redirect to login page\n- Enh: Added footer navigation - FooterMenu widget\n- Enh: Added HForm class events EVENT_AFTER_INIT and EVENT_BEFORE_RENDER\n- Enh: Updated translations\n\n\n1.2.5  (April 11, 2018)\n-----------------------\n\nWhen you customized or used the createCVS method of PendingRegistrationsController please \nmigrate your code to SpreadsheetExport. PHPOffice is replaced by PHPSpreadsheet.\n\n- Enh: Added BaseURL setting protocol scheme validation\n- Fix #2849: ActiveQueryContent doesn't find public profile content when guest access is enabled\n- Enh: Fixed username alignment in comments (@githubjeka)\n- Enh: More readable WallEntryAddon links (@githubjeka)\n- Fix: Documentation grammar fixes (@Felli)\n- Fix: Let's Encrypt ACME Error (@Felli)\n- Fix: Typo in password recovery (@acs-ferreira)\n- Fix: Profile posts of friends not appears on dashboard\n- Fix #2745: Yii2 2.0.13 will break the admin interface\n- Enh: Allow auto detection of response dataType\n- Fix #2947: Allow json success result on modalSubmit\n- Enh: Disabled automatic content following on likes by default\n- Enh: Improved IntegrityChecker memory usage\n- Chg: `PendingRegistrationsController->createCVS` removed\n- Fix: Stream image preview size not changeable\n- Fix: Increased maximum e-mail address length from 45 characters to 254\n- Fix: Group member search by firstname/lastname\n- Enh: Added Slovene language\n- Enh: Added Croatian language\n- Fix: User approval, lastname field is shown twice to admins\n- Fix: User model namespace issue in `humhub/modules/user/components/UrlRule`\n- Enh: Raised notification over view pagination size to 20\n- Enh: Added `humhub/modules/space/models/Module::flushCache()` and `humhub/modules/space/behaviours/SpaceModelModules::flushCache()` in order to flush the space module cache\n- Enh: Added further `FunctionalTester` utilities\n- Enh: Added Norwegian Nynorsk language\n- Fix #3009: Change the Space URL raises 404\n\n1.2.4  (December 13, 2017)\n--------------------------\n\n- Enh: Translation updates\n- Fix: Added `ManageSpaces` and SystemAdmin check to `UserGroupAccessValidator`.\n- Fix: Only include content with `stream_channel = default` into spacechooser update count.\n- Enh: Add LinkedIn auth to login. (Felli)\n- Enh: Add Twitter auth to login. (Felli)\n- Enh: Add Instagram auth to login. (Felli)\n- Enh: Add Twitter, LinkedIn & Instagram auth to docs (Felli)\n- Enh: Make lucene search term limit configurable via `ZendLuceneSearch::$searchItemLimit`.\n- Fix: Empty stream message between friends\n- Enh: Improve composer-asset-plugin config (cebe)\n- Enh: Added a link to the permalink from the ago text (benklop)\n- Enh: Added directory group description (githubjeka)\n- Enh: Added configuration option to include user profile posts in dashboard without following\n- Fix: User profile sidebar disappered\n- Fix: Like notification for comments not working\n- Fix: Add example users to default Users group\n- Fix #2851: getting model attribute value using Html::getAttributeValue()\n- Fix #2844: Directory member search broken on page 2\n- Fix #2702: Disable content search for guest users due to space visibility\n- Fix #2806: Register process broken on some environments (Felli)\n\n1.2.3  (October 23, 2017)\n-------------------------\n\nImportant note for LDAP users: There is a new setting \"ID Attribute\" which should be set to clearly identify users.\nImportant note for Git/Composer installations: http://www.yiiframework.com/news/148/important-note-about-bower-and-the-asset-plugin/\n\n- Fix: Readonly markdown field issue.\n- Enh: Fixed registration approval/denial mails and made their default value configurable.\n- Enh: Updated primary auth client interface for more flexibility\n- Enh: Added LDAP ID attribute to improve user mapping\n- Enh: Option to disable e-mail address requirement in User model\n- Fix: Overwrite of static image in theme + added documentation section\n- Fix: Account Controller exception when user is not logged in\n- Fix: Exception on notification overview page when not logged in\n- Enh: Added possibility to sort groups in directory\n- Enh: Removed LDAP UserFilter/LoginFilter length restriction\n- Fix: UTC timezone issue with `TimeZoneDropdownAddition` and added `$includeUTC` flag to `TimezoneHelper::generateList()`\n- Fix: ControllerAccess json rule\n- Enh: added `closable = false` as default `ModalDialog` widget setting\n- Fix: trigger richtext `clear` when submitting comment.\n- Fix: missing return in `FileContent::beforeValidate`\n- Fix: Mentioning search with `-` not working\n- Fix #2730: Mentioning search with `-` not working\n- Fix: File search with suffix not working\n- Enh: Added SearchAttributesEvent to improve content addon indexing (comment/file)\n- Fix: Do not automatically force modal close on stream edit\n- Enh: Added DurationPickerWidget\n- Enh: Allow `ContentActiveRecord($contentContainer, $config)` initialization\n- Fix: `WallEntry::addControl` with simple array options\n- Enh: Added `$scheme` Argument to `DownloadFileHandler::getUrl()`\n- Fix: Clear UserModule cache after save/delete\n- Fix: Prevent Integrity check failures.\n- Enh: Added default open content as modal action\n- Enh: Added possibility to add attachments in Notification MailTarget\n- Enh: Added surpressSendToOriginator Notification option\n- Chg: #2745 Removed `GroupPermission::instance()` for yii 2.0.13 compatibility\n- Enh: Added `MobileTargetProvider` abstraction for mobile push notifications\n- Enh: Added `humhub:notification:updateCount` js event\n- Enh: Show space administrators and moderators in member snippet\n- Fix: `humhub\\modules\\live\\Module::getLegitimateContentContainerIds` behaviour with friendship module enabled\n- Enh: Added `BaseNotification:priority` to mark high priority notifications\n- Enh: Added new `User::isVisible` and `ActiveQueryUser::visible` methods\n- Fix: MarkdownEditor cursor position after inserting file/\n- Fix: Make sure own profile content is always visible to user\n- Fix #2501: Do not try to embed Youtube unauthorized videos (acs-ferreira)\n- Fix #2613: Wrong username encoding with pretty url (githubjeka)\n- Fix #2791, #2749: Force private join policy on private spaces + non changeable post visibility\n- Fix wrong Comment date issue in notification mails\n- Enh: Added `data-file-*` attributes to download links, for beeing able to intercept file downloads\n- Enh: Added `apple-mobile-web-app-*` and `mobile-web-app-capable` meta tags to `head.php`\n- Fix #2783: E-Mail notification link broken when guest mode is enabled (Buliwyfa)\n- Enh: Added `ContentActiveRecord::silentContentCreation` for disabling ContentCreated Activity/Notification on ContentActiveRecord level\n- Enh: Now the `NewContent` live event is always fired with `sourceClass` and `sourceId` information and a `silent` flag for silent content creations\n\n1.2.2  (August 2, 2017)\n--------------------------------\n- Enh: Allow returning class names beside BasePermission instances in `Module::getPermissions()`\n- Enh: Increase profile image size to 800px.\n- Fix #2644 overlapping popup preview image after increasing preview image size (hagalaz)\n- Fix: Button widget child class static instantiation not working \n- Fix: ModalButton instantiation and added ModalButton::close()\n- Fix: Respect `max_file_uploads` setting in UploadInput widget\n- Enh: Include `kartik-v/yii2-widgets`\n- Enh: Added `getAccessRules()` to `humhub/components/Controller`\n- Fix: AccessControl action restriction bug\n- Fix: `ModuleAutoLoader` exceptions not logged\n- Fix: `I18N` formatter user timezone not set\n- Enh: Automatically set space default visibility in `Content::setContainer()`\n- Fix: Fixed ContentContainerSettingManager caching issue if space/user id are equal\n- Enh: Use of select2 dropdown for time zone selections\n- Fix: Bypass AccessControl behavior in installer\n- Fix: Use of JS-Widget internal event object instead of node\n- Enh: Added `Formatter::getDateTimePattern()` and `Formatter::isShowMeridiem()`\n- Fix: Set formatter locale in I18N when changing locale\n- Enh: Added `$hideInStream` flag for upload component/action for changing `show_in_stream` file flag\n- Enh: Added `$showInStream` flag for `FilePreview` widget to only include files with certain `show_in_stream` flag\n- Enh: Added `FileManager::findStreamFiles()` for querying files with either given `show_in_stream = 1` or `show_in_stream = 0` flag.\n- Enh: Added `humhub\\widgets\\Tabs` and `humhub\\widgets\\SettingsTabs` with view type tab support\n- Enh: Added new `MarkdownField` input widget which as replacement of deprecated `MarkdownEditor`\n- Fix: Fixed markdown file upload pjax issue\n- Fix: Removed `display: table-cell` from markdown image css to enable inline images\n- Enh: Added `humhub/widgts/Button::userPickerSelfSelect()` for creating self select button for userpickers.\n- Enh: Added `humhub/widgts/Link::withAction()` for creating action based links\n- Enh: Added `SelectTimeZoneDropdown` widget\n- Enh: Added `Modal::closable` in order to respect `backdrop` and `keyboard` data setting of `Modal` and `ModalDialog` widget\n- Enh: Avoid cutting oembed entry in stream if it's the first part of a richtext \n- Enh: Added `humhub/widgets/TimePicker` widget\n- Enh: Added `DbDateValidator::timeZone` for setting input time zone\n- Enh: Additional WallEntry settings: `$jsWidget`, `$addonOptions`, `$controlsOptions`, `$renderControls`, `$renderAddons`\n- Enh: Added possibility to overwrite WallEntry settings in `humhub/stream/actions/Stream::renderEntry()`\n- Enh: Added `ShowFiles::preview` and `ShowFiles::active` flag\n- Enh: Allow `$adminOnly` for User base ContentContainerController Controller\n- Enh: Added `ContentContainerActiveRecord::getDefaultContentVisibility()` and `User::getDefaultContentVisibility()`\n- Enh: Added automatic Notification Class loading by convention. No need to overwrite `Module::getNotifications()`\n- Enh: Added `ContentActiveRecord::getIcon()` for adding an badge icon to WallEntry content type badge\n- Enh: Added `ContentActiveRecord::getLabels()` for managing WallEntry labels (badges)\n- Enh: Added `Label` widget for creating sortable labels\n- Fix: Reset modal dialog size + add `size` option\n- Enh: Added `size` option `ui.modal.Modal.set()`\n- Enh: Use `ContentActiveRecord::getUrl()` for content perma links (if given)\n- Enh: Added `ContentTag` concept for creating content categories/filter on module level\n- Fix: Mentioning keeps running even if previous input result was empty\n- Enh: Darkened comment links for better readability\n- Fix #2582 Userfollow activity click action not working\n- Enh: Make space membership activities clickable\n- Chg: Removed `yii2-codeception` dependency\n- Chg: Added `phpoffice/phpexcel` dependency\n- Enh: Added `JsWidget::fadeIn` for smooth widget initialization\n- Enh: Enhanced `AccessControl` filter with `ControllerAccess` layer for better testability and flexibility\n- Enh: Added `Pending Registrations` admin view with `csv`, `xlsx` support.\n\n1.2.1 (June 17, 2017)\n--------------------------------\n- Fix: Invite error in french language\n- Fix #2518: ActivityStreamWidget::EVENT_INIT is missed (githubjeka)\n- Enh: Fixed accessibility issues in Dashboard/Login/Profile\n- Fix: module beforeInit and afterInit event\n- Enh: Added Registraion::EVENT_AFTER_REGISTRATION UserEvent\n- Enh: Added grunt `migrate-up` and `migrate-create` task\n- Enh: Added profile field type `CheckboxList`\n- Fix: Fixed `ui.addition` `MutationObserver`, only apply additions to inserted nodes.\n- Enh: Changed invite mail subject text\n- Fix #2571: last_login not set after registration direct login \n- Enh: Always trigger dom widget events for widget `fire` until `triggerDom` is set to false\n- Enh: Added `richtextPaste` event\n- Enh: On search index rebuilding - use batch queries \n- Fix: `ActiveQueryContent:readable()` for guNest users missing join\n- Enh: Added `ContentActiveRecord:managePermission` for changing the default write permission of ContentActiveRecord classes\n- Enh: Moved all default `WallEntryControls` to `WallEntry:getContextMenu()` widget.\n- Fix: Connect google OAuth under `Profile Settings  -> Connected Accounts` throws invalid redirect uri.\n- Fix: Invite Users does not respect ManageUsers/ManageGroups permission\n- Fix: Mail summaries sent in incorrect language\n- Fix: Send button text on request space membership dialog\n- Fix #2555: Friendship notification category visible even if friendship system deactivated\n- Enh: Don't auto focus space chooser search on small devices\n- Fix #2612: Single list item hides markers\n- Fix #2558: No notification for user profile posts send\n- Fixed #2560: Markdown profile field editable flag not working\n- Fix: Hide also header (space, profile) counts when following system is disabled\n- Fix: Perma link to space contents broken when space homepage was changed\n- Fix: Properly sort language and country select by users locale\n- Enh: Allow search in country profile field dropdown\n- Fix: js action api empty data attribute\n- Enh: Added button helper widgets `<?= Button::primary('myButton')->action('myJsAction')?>`\n- Enh: Enhanced ContentActiveRecord instantiation `$model = new MyContent($space, Content::VISIBILITY_PRIVATE)`\n- Fix #2625 Pjax problem with local links to files within stream\n- Enh: Use of `target=\"_blank\"` for stream links\n- Fix #2594 Bug: Url with unicode in stream markdown\n- Fix: Notification grouping not working\n- Fix: Show more suppression entries with sort order update + equal update_at not working.\n- Fix #2627: Incorrect language used in group admin user approval e-mail\n- Fix #2631: Module configuration link shown for disabled modules\n- Fix #2785 #2172: Added iconv PHP extension to the requirement check (leuprechtroman)\n\n\n1.2.0 (April 16, 2017)\n--------------------------------\n- Fix: SVG file uploads broken (mime type: image/svg+xml)\n- Fix: Public badge missing after create post\n- Fix: Mentioning notificaiton in user not working\n- Fix: Catch yii\\db\\Expression error for updated_at in wallentry\n- Enh: Added 'client.back' js action\n- Fix #2219: Overlapping summary mail content\n- Fix: Wall entry layout link/text overflow\n- Fix: Stream - Do not surpress if only particual contents are displayed\n- Fix: GlobalModal extends base Modal widget and GlobalModal::$backdrop is false by default (githubjeka)\n- Fix: Search StreamEntry options delete/editModal\n- Fix: Tour popover close behaviour\n- Fix: Incorrect permissions in space with guest mode\n\n1.2.0-beta.4 (March 28, 2017)\n--------------------------------\n- Fix: Notification count '0' visible after click on notification link\n- Fix: Default space permissions not adopted\n- Fix: Use of $permission->getId() instead of $permission->id in PermissionManager (allow dynamic permission ids)\n- Fix #2393: Markdown h4,h5,h6 broken\n- Fix #2389: calculate max upload file size on PHP 7.1 (githubjeka)\n- Fix: LDAP - Lost authclient ldap class configuration on user update\n- Fix #2400: Space ownership transfer form shows wrong users\n- Fix: Enable user approval without available registration groups or default group\n- Fix: Activate 'User' navigation in Admin Menu \"Administration -> User -> Settings\"\n- Enh: Improved administration user deletion view\n- Enh: Added 'containerLink' HTML Helper method\n- Enh: WallEntry layout layout improvements\n- Fix: Default user & space module configuration lost after foreign key migration\n- Fix: Respect pinned post when inserting a a new stream entry\n- Fix: Show comments in modal not working\n- Fix: #2374 Comment input not focused on comment link click \n- Enh: Toggle comment box\n- Enh: Added global copyToClipboard\n- Enh: Added \"weekly\" mail summary interval\n- Fix: Invalid temp.css file\n- Fix: Default stream sort setting not applied\n- Enh: Show different login message, when registration is disabled\n- Fix: Norwegian translation code for Yii messages\n- Fix: Also allow comment editing by admins if content 'adminCanEditAllContent' is enabled\n- Enh: Added Make Private/ Make Public link to wall entry controls\n- Enh #2392: Added Latvian language\n- Fix: Hide image file info setting\n- Fix #2297: Failed to open stream: No such file or directory when attaching files in UploadAction\n\n1.2.0-beta.3 (March 20, 2017)\n--------------------------------\n- Enh: Added Grunt tasks `build-assets`, `build-theme`, `build-search`\n- Fix: Error when saving account setting permission.\n- Fix: #2296 stream scroll issue for mobile webkit browsers (martinbeek)\n- Fix: Added unknown upload error if server cancels upload (e.g in case of a post_max_size violation issue)\n- Enh: Added warning if php max upload/post is less than the humhub setting.\n- Enh: Added mp4/ogg blueimp support in post gallery\n- Enh: Added global (default) notification space settings\n- Enh: #2359 Use Jplayer playlist feature for post mp3\n- Enh: added js module 'ui.view' for view state and utils - Changed 'ui.state.getState' to 'ui.view.getState'\n- Enh: added view helper as getHeight/Width and isSmall/Medium/Normal (width) to 'ui.view' js module\n- Fix: removed popover image preview from mobile\n- Fix: removed target-densitydpi not supported warning\n- Enh: Added Stream::renderEntry for rendering Streamentries from ContentActiveRecord\n- Fix: Wallentry menu not working in search view\n- Fix: Double notifications when mentioning in comments\n- Enh: Raised collapse value for posts to full embeded youtube video height\n- Fix: Fixed oembed post edit\n- Enh: Included select2-humhub theme into the new theming\n- Enh: Added select2 dropdown for language selection in account and admin settings\n- Enh: Added data-ui-select2 addition for simple select2 dropdowns\n- Fix: Don't apply js additions if there was no matching element\n- Fix: #2336 use of invalid message key in comment notification (dutch)\n- Enh: Disable user and space follow by means of module settings\n- Fix: Setting of submitName and upload input name in file upload JsWidget\n- Fix: Rendering of UploadButton without given id\n- Enh: Added preventPopover and popoverPosition options to file preview\n- Enh: Added uploadSingle option for uploads with only one file\n- Fix: Missing margin of wall-entry-controls in comments\n- Enh: Added alignHeight setting to js loader module\n- Enh: Allow Response as arguments for modal.setDialog\n- Enh: Enable modal loading events with dataType json\n- Enh: Allow direct class export instead of module export in JS Modules e.g. module.export = MyClass\n- Enh: Added xhr to client response instances\n- Enh: Added response.header for receiving response header from xhr\n- Enh: Added post action to client module for data-action-click=\"client.post\"\n- Fix: Try using options url as fallback in client calls if the action instance does not provide an url. e.g. client.post(evt, {url:...}\n- Enh: Enable setting ajax dataType from trigger e.g. data-action-click=\"modal.load\" data-action-data-type=\"json\"\n- Enh: Added action event.data for receiving action specific data options\n- Enh: Added default run for JsWidget\n- Enh: Added File::findByRecord for searching all attached files of a given ActiveRecord\n- Fix: Only set js view state for non full page load and pjax\n- Fix: Small gap on TopNav mouse hover (acs-ferreira)\n- Enh: Humand readable file sizes. (acs-ferreira)\n- Enh: Changed default $minInput of SpacePickerField to 2. (githubjeka)\n- Fix: Error when saving \"Administration -> Settings -> General\" without default space. (githubjeka)\n- Fix: #826: Notification status not updated right after like.\n- Fix: #2316: Reinvitation by email not working\n- Fix: #2314: Html helper namespace issue in Markdown.php class\n- Fix: #2302: Hide file info for images on wall settings not applied.\n- Fix: German translation error in Admin -> Users -> Groups -> Members -> Add Member UserPicker.\n- Fix: German translation \"Notify Users\" placeholder too long.\n- Fix: Admin group add members placeholder.\n- Fix: Stream entry root not removed for content delte (poll,etc)\n- Enh: Easier save feedback by using 'module.log.success('saved')'\n- Fix: Admin group add members placeholder.\n- Enh: Easier save feedback by using module.log.success('saved');\n- Fix: Set jsWidget id when autogenerated\n- Fix: Use of Html::activeLabel instead of $form->label in RichtextField\n- Enh: Added pjax redirect capability to js client\n- Fix: Show default error in status bar if invalid message object was provided\n- Fix #2304: Users not loaded in user selection fields.\n- Enh: Added User module 'displayNameCallback' attribute for custom display name formats\n- Enh: Added Clipboard.js and Permalink \"Copy to clipboard\" link\n- Enh: Validate minimum PHP version in Console Application\n- Enh: Added optional ActiveRecordContent::canEdit() method for custom ACLs\n- Fix: Better error handling/logging on corrupt GD Image files\n- Fix #2288: Pjax breaks OAuth2 ReturnUrl\n- Fix: Incorrect First name & Last name message key (githubjeka)\n- Fix: Do not store complete comments with search index (helnokaly)\n- Fix #2319: Run console application before installation\n- Fix: Directory Knob statistics on included modules (e.g. Enterprise Edition)\n- Enh: Added widget to display user profile image\n- Enh: Directory view templates cleanups\n- Fix: All LDAP Users have been disabled and not reenabled by hourly cronjob if ldap server not reachable.\n- Enh: Cleanup authentication layout file \n- Fix: Console image converter memory limit allocation\n- Enh: Added new controller init event\n- Enh: Made admin base controller method \"getAccessRules()\" non static\n- Enh: Created new ImageController for user image and banner handling\n- Enh: Decreased OEmbed url max length 180chars (acs-ferreira)\n- Enh: Added APCu Support\n- Enh: Added ContentContainer integrity check (Daha62)\n- Fix #2331: Bug image load on PHP 7.1 with dynamic memory alloc (githubjeka)\n- Fix #2367: `ImageConverter::allocateMemory` uses common units(MegaBates) of memory (githubjeka)\n- Fix: #2369: typo issue (Felli)\n- Fix: Better notification compatiblity - mail views and enabled WebNotificationTarget\n- Fix #2312: Pinned post appears twice on stream \n- Enh: Added option to show/hide deactivated user content in stream\n- Enh: Allow any url route as homepage by homeUrl array application parameter\n- Fix #2255: Added missing Social Account Settings menu\n- Fix: Added missing file download http caching\n- Enh: Added console email test command\n- Enh: Added stream module defaultStreamSuppressQueryIgnore to ease overwrites\n- Enh: Added 'archived' badge to archived spaces in directory\n\n1.2.0-beta.2 (February 24, 2017)\n--------------------------------\n- Fix: TimeAgo locale not loaded in production mode, added AppDynamicAsset (luke-)\n- Enh: Translation message rebuild and auto translated duplicates (luke-)\n- Enh: Combined all directory translations into base message category (luke-)\n- Enh: Added logging table cleanup job (luke-)\n- Enh: Added new version check as ActiveJob (luke-)\n- Enh: Moved user configuration params 'minUsernameLength' + 'adminCanChangeProfileImages' to user module class (luke-)\n- Enh: Added .editorconfig code style configuration file (luke-)\n- Enh: Added 'show_in_stream' column in file table to hide output in wall entries (luke-)\n- Enh: Added 'renderGalleryLink' link method to PreviewImage converter (luke-)\n- Fix: Search view links not working (buddh4)\n- Fix: Markdown in comment layout issue (buddh4)\n- Enh: humhub.ui.showMore module for cutting post text and comments (buddh4)\n- Fix: Javascript issues with guest users, removed initialitation of some modules for guest user (buddh4)\n- Fix: Mutliple use of same emoji in richtext.\n- Enh: Use of Yiis new afterRun for humhub Widgets.\n- Fix: Word break issue in markdown posts.\n- Fix: Richtext with emoji only on post edit where ignored.\n- Enh: Added data-action-confirm for confirming actions.\n- Fix: File StorageManager setContent method broken\n- Enh: Added FileHelper methods createLink & getContentContainer\n- Enh: Javascript HumHub Client - better handle ajax redirects\n- Enh: TopMenu / TopMenuRightStack hide content when user is not logged in without guest mode\n- Enh: Added showUserName option in AccountTopMenu widget\n- Enh: Added isGuestAccessEnabled method in User component\n- Enh: Added flash variable (executeJavascript)to execute js on the next page load\n- Enh: Added possibility to create own file handlers (edit, create, import, export)\n- Enh: Added data-action-process to handle modal processes\n- Enh: Added upload file event (humhub:file:created)\n- Enh: Added custom file handler positions\n- Enh: Moved UploadAction::getFileResponse method to FileHelper::getFileInfos\n- Enh: Added JS context menu to ui.additions module\n- Enh: Enhanced ContentContainer Module enable/disable\n- Enh: Added client.reload for pjax and non pjax page reloads\n- Enh: Added ContentContainerAsset to AppAsset\n- Enh: Added editModal for editing wallentries within a modal instead of inline\n- Fix: Oembed not rendered in richtext.\n- Enh: Smarter show more logic - Only cut text if it overlaps the max height by a specific span.\n- Enh: Added getContextMenu for defining wallentry context options. \n- Enh: Added editMode to WallEntry for allowing modal based edits.\n- Fix: file-preview text overflow in HumHub theme.\n- Fix #2280: Meta data (rotation) not respected for camera images (ImageMagick)\n- Fix: Activity stream rendering issue on page unload.\n- Enh: Optimized stream entry fade animation.\n- Enh: Added $maxAttachedFiles to content module to restrict the uploaded file count of comments and posts\n- Fix: Hide notification count badge if notification count is 0\n- Fix: Only flush js config if not empty\n- Enh: Use of theme variables in mail all views\n- Fix: Submit comment with only files leads to Internal Server Error\n- Fix: Prevent spacechooser message count update on own content creation\n- Fix: Abort overlapping space chooser search requests\n- Fix: Problem in notification group_count with only one involved user\n- Fix #2257: Set module as default in space/user broken\n\n1.2.0-beta.1 (February 08, 2017)\n--------------------------------\n- Enh: Moved HumHub browser icons to HumHub theme (luke-)\n- Enh: Moved support css/js for older IE version into own AssetBundles (luke-)\n- Enh: Moved CSRF Tag output to View renderHeader (luke-)\n- Enh: Moved LayoutAddons widget from main layout to View endBody() method (luke-)\n- Enh: Added PJax page loading (luke-)\n- Enh: Refactored File module (luke-)\n- Enh: Added yii2-imagine Extension (luke-)\n- Enh: Use of blueimp image gallery (buddha)\n- Enh: JS module system with build in logging/text/config features (buddha)\n- Enh: JS core api under humhub namespace (buddha)\n- Enh: Use of compressed assets (js,css) in production mode (buddha)\n- Enh: Enhanced testability (buddha)\n- Enh: Added administrative backend group permissions (buddha)\n- Enh: Enhanced AccessControl filter with permission rules. (buddha)\n- Enh: Splitted less files to facilitate theming. (buddha)\n- Enh: Added user status bar for user feedback (buddha)\n- Enh: Better UserFeedack (buttons/messages) / Replacement of old DataSaved widget (buddha)\n- Enh: Overwrite default permission settings (buddha)\n- Enh: SpaceChooser rewrite with following spaces and remote search (buddha)\n- Enh: Modal widget rewrite.\n- Enh: Enhanced Archived Space handling (buddha)\n- Enh: Upload widget rewrite. (buddha)\n- Enh: Picker widgets rewrite (UserPicker/SpacePicker/MultiselectDropdown). (buddha)\n- Enh: Richtext widget rewrite. (buddha)\n- Enh: Removed almost all inline JS blocks. (buddha)\n- Enh: StreamAction now uses flexible StreamQuery Model. (buddha)\n- Enh: Post markdown support. (buddha)\n- Enh: Added 'live' module for push/pull messages to the frontend (luke-)\n- Enh: Added asynchronous job queues (luke-)\n- Enh: Changed minimum PHP version to 5.6\n- Enh: Added possibility of global content (content w/o contentcontainer) (luke)\n- Enh: Added new profile field type: checkbox (luke-)\n- Enh: Refactored mail summaries activity module (luke-)\n- Enh: Moved all static files (js, fonts, css) into own static folder @web-static (luke-)\n", "<?php\n\n/**\n * @link https://www.humhub.org/\n * @copyright Copyright (c) 2018 HumHub GmbH & Co. KG\n * @license https://www.humhub.com/licences\n */\n\nnamespace humhub\\components\\behaviors;\n\nuse humhub\\components\\access\\ControllerAccess;\nuse Yii;\nuse yii\\base\\ActionFilter;\nuse yii\\helpers\\Url;\nuse yii\\web\\HttpException;\nuse yii\\web\\Response;\n\n/**\n * Handles the AccessControl for a Controller.\n *\n * Controller level AccessRules can be provided by either setting the [[rules]] array,\n * or by implementing a `getAccessRules()` function within the controller itself (prefered).\n *\n * **Examples:**\n *\n * Disable guest access for all controller actions:\n *\n * ```php\n * public function getAccessRules()\n * {\n *     return [\n *          ['login']\n *     ];\n * }\n * ```\n *\n * Disable guest access for specific controller actions:\n *\n * ```php\n * public function getAccessRules()\n * {\n *     return [\n *          ['login' => ['action1', 'action2']]\n *     ];\n * }\n * ```\n *\n * All users have to be logged in + additional permission check for 'action1' and 'action2':\n *\n * ```php\n * public function getAccessRules()\n * {\n *     return [\n *          ['login'],\n *          ['permission' => MyPermission::class, 'actions' => ['action1', 'action2']]\n *     ];\n * }\n * ```\n *\n * Custom inline validator for action 'action1':\n *\n * ```php\n * public function getAccessRules()\n * {\n *     return [\n *          ['validateMyCustomRule', 'someParameter' => 'someValue', 'actions' => ['action1']]\n *     ];\n * }\n *\n * public function validateMyCustomRule($rule, $access)\n * {\n *     if($rule['someParameter'] !== 'someValue') {\n *          $access->code = 401;\n *          $access->reason = 'Not authorized!';\n *          return false;\n *     }\n *\n *      return true;\n * }\n *\n * ```\n *\n * The list of available rules is given by the [[\\humhub\\components\\access\\ControllerAccess]] class set by a controller.\n * By default the base [[\\humhub\\components\\access\\ControllerAccess]] class will be used.\n *\n * The default ControllerAccess class can be overwritten by implementing the `getAccess()` function within a controller,\n * which should return an instance of ControllerAccess.\n *\n * > Note: You can also use the [[\\humhub\\components\\Controller::access]] property\n * to define a ControllerAccess class string.\n *\n *\n *\n * @see ControllerAccess\n * @author luke\n */\nclass AccessControl extends ActionFilter\n{\n\n    /**\n     * Rules for access to controller\n     *\n     * @var array\n     */\n    public $rules = null;\n\n    /**\n     * Action ids which are allowed when Guest Mode is enabled\n     *\n     * @var array\n     * @deprecated since 1.2.2 use ['guestAccess' => ['action1', 'action2']] rule instead\n     */\n    public $guestAllowedActions = [];\n\n    /**\n     * Only allow admins access to this controller\n     *\n     * @var boolean\n     * @deprecated since 1.2.2 use ['adminOnly'] rule instead\n     */\n    public $adminOnly = false;\n\n    /**\n     * Only allow logged in users access to this controller\n     * @deprecated since 1.2.2 use ['loggedInOnly'] rule instead\n     */\n    public $loggedInOnly = false;\n\n    /**\n     * @var ControllerAccess instance\n     */\n    protected $controllerAccess;\n\n    /**\n     * @inheritdoc\n     */\n    public function beforeAction($action)\n    {\n        // Bypass when not installed for installer\n        if (empty(Yii::$app->params['installed']) &&\n                  Yii::$app->controller->module != null &&\n                  Yii::$app->controller->module->id == 'installer') {\n            return true;\n        }\n\n        $this->handleDeprecatedSettings();\n        $this->controllerAccess = $this->getControllerAccess($this->rules);\n\n        if (!$this->controllerAccess->run()) {\n            if (isset($this->controllerAccess->codeCallback) &&\n                method_exists($this, $this->controllerAccess->codeCallback)) {\n                // Call a specific function for current action filter,\n                // may be used to filter a logged in user for some restriction e.g. \"must change password\"\n                return call_user_func([$this, $this->controllerAccess->codeCallback]);\n            } else if ($this->controllerAccess->code == 401) {\n                return $this->loginRequired();\n            } else {\n                $this->forbidden();\n            }\n        }\n\n        return parent::beforeAction($action);\n    }\n\n    /**\n     * Compatibility with pre 1.2.2 usage of AccessControl\n     */\n    protected function handleDeprecatedSettings()\n    {\n        if ($this->adminOnly) {\n            $this->rules[] = [ControllerAccess::RULE_ADMIN_ONLY];\n        }\n\n        if ($this->loggedInOnly) {\n            $this->rules[] = [ControllerAccess::RULE_LOGGED_IN_ONLY];\n        }\n\n        if (!empty($this->guestAllowedActions)) {\n            $this->rules[] = ['guestAccess' => $this->guestAllowedActions];\n        }\n    }\n\n    /**\n     * Returns a ControllerAccess instance, controllers are able to overwrite this by implementing an own `getAccess()`\n     * function.\n     *\n     * @return ControllerAccess\n     */\n    protected function getControllerAccess($rules = null)\n    {\n        if ($rules === null) {\n            $rules = [['strict']];\n        }\n\n        $instance = null;\n        if (method_exists($this->owner, 'getAccess')) {\n            $instance = $this->owner->getAccess();\n        }\n\n        if (!$instance) {\n            // fixes legacy behavior settings compatibility issue with no rules given\n            $instance = new ControllerAccess();\n        }\n\n        $instance->setRules($rules);\n        $instance->owner = $this->owner;\n\n        return $instance;\n    }\n\n    /**\n     * @throws HttpException\n     */\n    protected function forbidden()\n    {\n        throw new HttpException($this->controllerAccess->code, $this->controllerAccess->reason);\n    }\n\n    /**\n     * @return bool forces user login\n     */\n    protected function loginRequired()\n    {\n        Yii::$app->user->logout();\n        Yii::$app->user->loginRequired();\n\n        return false;\n    }\n\n    /**\n     * @return Response Redirect user to force to change password\n     * @since 1.8\n     */\n    protected function forceChangePassword()\n    {\n        if (!Yii::$app->user->isMustChangePasswordUrl()) {\n            return Yii::$app->getResponse()->redirect(Url::toRoute(Yii::$app->user->mustChangePasswordRoute));\n        }\n    }\n\n    /**\n     * Log out all non admin users when maintenance mode is active\n     *\n     * @return Response Redirect to home page\n     * @since 1.8\n     */\n    protected function checkMaintenanceMode()\n    {\n        if (Yii::$app->settings->get('maintenanceMode')) {\n            if (!Yii::$app->user->isGuest) {\n                Yii::$app->user->logout();\n                Yii::$app->getView()->warn(Yii::t('error', 'Maintenance mode activated: You have been automatically logged out and will no longer have access the platform until the maintenance has been completed.'));\n            }\n            return Yii::$app->getResponse()->redirect(['/user/auth/login']);\n        }\n    }\n}\n"], "fixing_code": ["HumHub Changelog\n================\n\n1.10.4 (Unreleased)\n-------------------\n- Fix #5480: `el` language file in Admin section broken\n- Fix #5479: Fix ContentContainerPermissionAccess without provided container\n- Fix #5513: Fix PermaLink controller error for content without container\n- Fix #5517: Don't send \"Follows\" notification on request friendship\n- Fix #5563: Limit backup duration of RichText editor for 2 hours\n- Enh #5601: Backup RichText in sessionStorage\n- Fix #5638: Removed return values from `codeCallback`\n- Fix #5634: Fix tests NonceCest\n- Fix #5644: Fix console command space/assign-all-members\n\n1.10.3 (December 20, 2021)\n--------------------------\n\nSee also: [HumHub 1.10 - Release Notes](https://docs.humhub.org/docs/about/releasenotes/release_notes_1_10) and [Changelog](https://github.com/humhub/humhub/blob/master/CHANGELOG.md). This release also includes a [security fix](https://github.com/humhub/humhub/security/advisories/GHSA-f5hc-5wfr-7v74). It could have been possible for registered users to become unauthorized members of private Spaces. Thanks to [Huntr](https://huntr.dev/bounties/943dad83-f0ed-4c74-ba81-7dfce7ca0ef2/) and @brenu.\n\n- Fix #5465: Fix empty RichText\n- Fix #5466: Default `.htaccess.dist` broken\n- Fix #5469: Mixed up title for Space membership button\n- Fix #5464: Fix comment highlighting on permalink\n- Fix #5473: Insufficient member invite check on Space creation \n\n1.10.2 (December 7, 2021)\n-------------------------\n\nSee also: [HumHub 1.10 - Release Notes](https://docs.humhub.org/docs/about/releasenotes/release_notes_1_10) and [Changelog](https://github.com/humhub/humhub/blob/master/CHANGELOG.md)\n\n- Fix #5450: Fix confirmation before close a form with unsaved changes on modal window\n- Fix #5453: Fix migration of default group\n- Enh #5461: Added Event after a new file content (new version) is stored\n- Enh #5457: Use permalink comment in notifications\n\n\n1.10.1 (November 26, 2021)\n--------------------------\n\nSee also: [HumHub 1.10 - Release Notes](https://docs.humhub.org/docs/about/releasenotes/release_notes_1_10) and [Changelog](https://github.com/humhub/humhub/blob/master/CHANGELOG.md)\n\n- Fix #5445: Checkbox view style unaligned\n- Fix #5447: Comments disappeard\n- Enh: Updated translations \n\n\n1.10.0 (November 25, 2021)\n---------------------------------\n\nSee also: [HumHub 1.10 - Release Notes](https://docs.humhub.org/docs/about/releasenotes/release_notes_1_10) and [Changelog](https://github.com/humhub/humhub/blob/master/CHANGELOG.md)\n\n- Enh #5437: Tests with MySQL Galera compatibility\n- Fix #5427: Fix deep comment link with enabled caching\n- Enh #5435: Allow non modal links in header counter\n- Enh #5436: Better usage of UserPicker in Form Definition\n- Fix #5441: No deletion of file variants in CLI tools\n- Fix #5443: Fix misplaced checkboxes on installer forms\n\n1.10.0-beta.3 (November 12, 2021)\n---------------------------------\n- Enh #5437: Tests with MySQL Galera compatibility\n- Fix #5427: Fix deep comment link with enabled caching\n- Enh #5435: Allow non modal links in header counter\n- Enh #5436: Better usage of UserPicker in Form Definition\n- Fix #5441: No deletion of file variants in CLI tools\n\n\n1.10.0-beta.2 (November 12, 2021)\n---------------------------------\n- Enh #5403: Confirmation before close a not saved modal form\n- Fix #5401: Fix profile field value result type \n- Fix #5402: Fix mentioning search in comment content\n- Enh #5418: Allow to detach file from simple ActiveRecord\n\n\n1.10.0-beta.1 (October 27, 2021)\n--------------------------------\n- Enh #4399: Direct deep links to comments and highlighting\n- Enh #4242: More failsafe module loading when reading module config\n- Enh #5197: Default `.htaccess` - Remove `Options +FollowSymLinks` \n- Enh #4495: Allow locking comments per content\n- Enh #3688: Use `Image` widget in user list\n- Enh #5194: Confirm leave page for Post & Comment forms\n- Enh #5188: People/Spaces: Endless Scrolling\n- Enh #5216: Separate View document button\n- Enh #5229: Use `RichTextField` for user approval messages\n- Enh #100: Allow additional toggle for elements with context menu\n- Enh #5170: `UserPicker`: Allow zero as min input size\n- Enh #4133: Backup a content of `RichTextEditor`\n- Enh #100: Extend upload buttons to use a paste zone\n- Enh #5256: Limit uploading profile images (Thanks to @tuhin1729 for discovering the issue.) \n- Enh #5257: Delete old unread notifications of inactive users\n- Fix #5143: Unlimited page size for profile fields\n- Enh #5269: Allow adding new item on ui selector\n- Enh #5005: Possibility to invite a registered user to a space by email\n- Enh #3546: Sign in back from impersonate mode\n- Fix #5282: On account creation, registration form has HTML tag set with English language\n- Enh #5280: Allow to set the number of contents from which `Show {i} more.` appears in the stream\n- Enh #5303: Unassigned files are only accessibly for creator \n- Enh #5293: Added File History API for versioning\n- Enh #4399: Changed default `@warning` color to `#FC4A64`\n- Enh #5302: Improve checkbox widget ContentVisibilitySelect \n- Enh #5151: ContentContainer scoped URL Rules\n- Enh #5094: Reflect and reload Stream filters by URL\n- Enh $4879: Refactoring of `Followable` behavior\n- Enh $4879: Added supported of \"protected\" module groups\n- Enh #5330: Added option to hide \"Spaces\" top menu item\n- Enh #5080: Show available module updates directly in admin menu\n- Fix #5331: Fix js error on pjax open \"Directory\" page\n- Enh #5333: Module's events handlers registration: check if method exists\n- Enh #5300: Blocking users for space\n- Enh #5347: Caching added for group permissions (reduced db queries)\n- Enh #5349: Archived Spaces on Spaces directory\n- Enh #4945: Collapsible-fields now accessible by tab and enable/closable by keypress, check-boxes now focusable\n- Enh #5354: Space - pending invites and approvals: add the image of the users\n- Enh #5361: Optimize People directory details query\n- Enh #5357: SpaceChooser - lazy load added, widget refactoring.\n- Fix #5360: Mentioning search fails apostrophe in a user's displayName\n- Fix #5359: Removed encoding of user's name in UserPicker\n- Enh #5363: Optimize duplicated SQL queries on profile edit\n- Enh #5362: Optimize getting of ContentContainer tags\n- Fix #5386: Fixed empty stream in archived space\n\n1.9.3 (Unreleased)\n------------------\n- Fix #5372: Text shortening in Japanese broken - Fix truncating of multi-byte strings\n- Fix #5398: Fix checking of foreign table index\n\n\n1.9.2 (October 15, 2021)\n------------------------\n- Fix #5265: Fix logging filter \"Error\" when not entries\n- Fix #5285: Layout too wide for container pages without sidebar \n- Fix #5307: Fix reset of the space homepage settings\n- Fix #5301: Change people default sorting in administration broken\n- Fix #5313: ContentContainer Tags were not cleared when all tags are deleted\n- Fix #5316: Fix filter \"I'm involved\" on dashboard\n- Fix #5324: Theme Loader broken when module is provided via string\n- Fix #5327: Fix update container tags by not original model\n- Fix #5342: Fix mime type detection for extensions: dotx, xltx, potx\n\n\n1.9.1 (August 30, 2021)\n-----------------------\n\nSee also: [HumHub 1.9 - Release Notes](https://docs.humhub.org/docs/about/releasenotes/release_notes_1_9)\n\n- Fix #5172: Missing translations for \"New Member\" and \"New Spaces\" directory widgets\n- Fix #5195: Fix export users with tags data\n- Fix #5200: Auto creating following for friends\n- Fix #5187: Fix birthday with hidden year in a language-specific format\n- Enh #5189: Reduce minimum character limit for space and user tags to 2 chars\n- Enh #5189: Hide tags on space chooser if no keyword inside tags\n- Fix #5215: Fix links to old directory\n- Fix #5096: Render links in email notifications\n- Fix #5095: Fix space between URLs and text in notification message\n- Fix #5238: Typo in Offline Page Text\n- Fix #5204: Migration of container tags\n- Fix #5238: Typo in Offline Page Text \n- Fix #5247: Fix translate with not defined language\n- Fix #5252: Removed \"strong&gt;\" from the Dutch translations\n- Enh #5259: Protection of the logout action by POST method. (Thanks to @avjesadiya13 and @VishnuChebolu for disclosing the problem.)\n- Fix #5262: Fix visibility of email requiring on backoffice add user form\n\n\n1.9.0 (July 22, 2021)\n---------------------\n\nSee also: [HumHub 1.9 - Release Notes](https://docs.humhub.org/docs/about/releasenotes/release_notes_1_9)\n\nNote: HumHub version 1.9+ requires PHP 7.3 or higher!\n\n- Fix #5174: Tour module crashes with enabled tags field\n- Fix #5176: Closing the action confirmation modal window on top close icon\n- Fix #5177: Move directory widgets\n- Enh #5049: Required profile field should not be required in administration (Fix for checkbox field type)\n- Fix #5009: Fix video thumbnail on Safari browser\n- Fix #5182: Password field should not be required if user has no password\n\n\n1.9.0-beta.2 (July 14, 2021)\n----------------------------\n\nNote: HumHub version 1.9+ requires PHP 7.3 or higher!\n\n- Fix #5128: Prerequisites: Increase PHP Min version to 7.3\n- Fix #5135: Remove checking for PCNTL extension (revert #5065 and #5071)\n- Fix #5136: Fix get value of user profile fields with types \"Checkbox List\" and \"Checkbox\"\n- Fix #5137: Fix convert to short integer on PHP 8\n- Enh #5144: Show sort order in profile fields settings\n- Fix #5149: Use a link mode for space button \"Join\" from space header\n- Fix #4830: Fix Prerequisites / Self Test translations\n- Fix #4459: Make UserFollow activity public\n- Enh #3824: Run acceptance tests with pretty URLs\n- Enh #5169: Enable more than 50 groups to a user\n\n\n1.9.0-beta.1 (June 15, 2021)\n----------------------------\n\nNote: HumHub version 1.9+ requires PHP 7.3 or higher!\n\n- Fix #5071: Add CLI hint to PCTL Requirements Warning\n\n\n1.9.0-beta.1 (June 15, 2021)\n----------------------------\n\nNote: HumHub version 1.9+ requires PHP 7.3 or higher!\n\n- Enh #3733: Forbid to open AJAX actions as separate page\n- Enh #677: Allow to create new database and set database port on installation wizard\n- Fix #4877: Check for writable uploads/profile_image directory\n- Enh #4868: Reset email summaries / notifications settings for all users\n- Enh #4884: New Space module setting to allow all users to add users without invite\n- Enh #4902: Added CodeMirror and created form field widget \n- Enh #4964: New CLI command to delete users \n- Enh #4871: Configurable default timezone for guests\n- Enh #5019: Alternative `DashboardMemberStreamFilter` based on Live module `LegitmationIDs`\n- Fix #4626: Visibility of content in profile stream of archived spaces\n- Chg #5016: Allow impersonate for `ManageUsers` permission\n- Enh #5043: Improved Space membership lookup caching\n- Enh #4935: Render images in email messages\n- Enh #5037: `RichTextToShortTextConverter` renders images as `[Image]`\n- Enh #5042: Improved Space/User PrettyURL performance\n- Enh #4958: Add possibility to register purchased modules via CLI\n- Enh #4894: Implemented `.label-light` label variant\n- Enh #5012: Space: Allow change space owner also for users `ManageSpaces` with permission\n- Enh #5045: Removed deprecated `Yii::$app->formatterApp` component\n- Enh #5026: Tests for tokenized image urls in email message\n- Enh #5049: Required profile field should not be required in administration\n- Enh #5065: Add checking for php `PCNTL` extension\n- Enh #5073: Enhance Rest API tests\n- Fix #5078: Fix enabling of REST module on run API tests\n- Enh #4776: Added `acknowledge` option to all relevant forms\n- Enh #4757: Updated to `PHPUnit 8.5`\n- Enh #4790: Added more logging on authentication errors\n- Fix #5054: Force `InnoDB` Table Engine on migration and added engine configuration option\n- Enh #4862: Tag picker for Space and User containers\n- Enh #4927: Hide post input field on single entry stream\n- Enh #5062: Show user ID on admin user edit page\n- Enh #4848: Include space tags in the space\u2019s \u201cAbout\u201d page \n- Enh #5061: Preserve linebreaks and added \"ReadMore\" option in Logging\n- Enh #4982: Skip DN List to avoid duplicated ldap error logs \n- Fix #5088: Set max length option to space description input\n- Enh #5089: Allow to follow users independently of friendship\n- Enh #34: Removed membership icon from my Spaces chooser\n- Enh #117: Show/Hide the \u201cFollowing\u201d buttons depending on updated friendship/membership state after AJAX action\n- Enh #5102: Use short number format for Space members count on Space Directory\n- Fix #5101: Fix to allow admin editing of not required profile fields\n- Enh #123: New sorting option \"Default\" for people directory page\n- Fix #122: Fix button \"Load more\" initialization on Pjax loading\n- Enh #5114: Added `EVENT_BEFORE_CHECKING_USER_STATUS` in `AuthController.php` to give the possibility to add an event before checking the user status\n- Fix #5122: `RichText::output` produces `p` HTML element instead of `div`\n\n\n1.8.3 (July 14, 2021)\n----------------------\n- Fix #29: Fix login form view on browser back button after footer link\n- Fix #5066: Fix pin and archive global content without container\n- Fix #5107: Fix captcha client validation after request new code\n- Fix #22: Fix misplaced OEmbed provider buttons on general settings form\n- Fix #5130: Don't require type for first param of the function ProsemirrorRichText::replaceLinkExtension()\n- Fix #5155: Open basedir restriction error in with PHP 7.4.21/8.0.8\n\n\n1.8.2 (April 26, 2021)\n----------------------\n- Fix #4959: Horizontal scrollbar for images\n- Fix #4898: No streamExcludes option when loading single stream entry\n- Enh #4960: Added \u201ccodeception/module-rest\u201d for testing of REST API modules\n- Enh #4976: Added REST API Codeception tester\n- Enh #4967: Module update broken with expired licence key\n- Enh #4972: Fix enabling to send notification on remove user from group\n- Fix #4985: Fix Activity Mail QueryParams on console mode\n- Enh #23: Allow to read image URLs with token param\n- Fix #4989: Translate profile field title in admin list\n- Fix #5002: Fix loading of fixture spaces on tests\n- Fix #5018: Activity stream problems with many user accounts\n- Fix #5013: XSendFile broken when no SERVER_NAME header provided\n- Fix #5004: Preview text maxLength issue\n- Fix #5017: File CLI Command fails due to manually deleted files\n- Fix #5020: Space visibility options shown to users without permission\n- Enh #5024: Disable text wrapping in stream richtext\n- Fix #5022: Fix assign default group on user registration\n- Fix #5015: Fix visibility of admin menu entries which are initialized with deprecated method\n- Fix #5039: RichText converter for some string patterns in HTML format\n\n\n1.8.1 (March 12, 2021)\n----------------------\n\n- Fix #4931: Fix highlight parent navigations for sub section \"Profile Permissions\" (and LDAP)\n- Fix #4934: Show error instead of warning when using different MySQL Table Engines\n- Fix #4936: Fix emoji in sample content\n- Fix #4940: Typo in German translation \"Benachrichtigungen\"\n- Fix #4942: MemberOf Display in LDAP CLI Show User Details\n- Fix #4465: LDAP PHP 8 incompatibility (multiPageSearch)\n- Enh #4569: Config to overwrite module path\n- Fix #4946: Fix migration of the default permissions\n- Fix #4955: Fix convert emoji with sign \"+\"\n- Fix #4956: Fix file hash column length\n\n\n1.8.0 (March 1, 2021)\n---------------------\n\n- Fix #4893: Richtext extension events are ignored when using deprecated maxLength option\n- Fix #4896: Error thrown if live poll broadcast focus event is triggered\n- Fix #4907: Positions of Comment / Like links under posts\n- Fix #4911: Auto logout user on maintenance mode\n- Fix #4912: Restrict guest access on maintenance mode\n- Fix #4918: Comment richtext gets focused when closing comment section\n- Fix #4917: Hide user groups in directory without option \"Show At Directory\"\n\n\n1.8.0-beta.2 (February 18, 2021)\n--------------------------------\n\n- Fix #4853: Removed obsolete Group::getSpace() relation\n- Fix #4828: Display default permissions of all modules even if they are deactivated by default\n- Fix #4841: Fix misplaced notification filters\n- Fix #4842: Prerequisites Test - Improved database version detection for MariaDB\n- Fix #4850: New AuthClient method onSuccessLogin() not available on standard OAuths\n- Fix #4856: Allow to invite users to space with pending membership application\n- Fix #4869: Fix cached comment content in email notification\n- Fix #4857: Fix wrong content id on building cache key\n- Fix #4838: ProsemirrorRichText::replaceLinkExtension() not compatible with HumHub < 1.8\n- Fix #4847: RichText::postProcess(null) throws error\n- Fix #4886: Improved styling of aligned richtext images\n- Fix #4891: Typo 'charachters' in chooser message\n\n\n1.8.0-beta.1 (February 4, 2021)\n-------------------------------\n\n- Enh #3996: Force password change on first log in for users created by admin\n- Enh #3996: Allow admin to change option \"Must change password\" for existing users\n- Enh #3414: Allow to change user passwords by admin\n- Enh #4543: Order members by newest in `about` page\n- Enh #4347: Add `hideMembersSidebar` to make members sidebar optional in space stream page\n- Enh #4585: Group notifications must be enabled explicitly\n- Fix #4646: Clean up duplicated array keys\n- Enh #242: Allow multiple default spaces for groups\n- Enh #4670: Editable default permissions for Content Containers(Space and User)\n- Enh #48: Improve \"Admin Can View All\" Feature\n- Fix #4692: Fix visibility of the button \"Add new space\"\n- Enh #4579: Optimized dashboard stream query\n- Enh #4579: Optimized live legitimation id queries\n- Enh #4579: Added `dashboard\\Module::$guestFilterClass` and `$memberFilterClass` to replace dashboard filter class\n- Enh #4586: Rebuild group default Space Mapping\n- Enh #4225: Delete open/pending registration invites automatically after a period of time\n- Fix #4718: Fix space or profile banner size after crop\n- Enh #4738: Allow CanComment permission also on profile level\n- Enh #4511: Default group for users who are not assigned to any other group\n- Enh #4749: Add Migration helper to determine installation state\n- Enh #4611: Added console command to display LDAP attributes of a user\n- Enh #4750: OAuth: Automatically link OAuth Account with same e-mail address\n- Enh #4706: Marketplace: Possibility to prohibit modules via the configuration\n- Enh #4770: Added CLI commands for Professional Edition licence management\n- Enh #4752: Added file column `hash_sha1` to avoid caching problems\n- Enh #3345: Maintenance mode\n- Enh #4751: Hide separator between widgets `LikeLink` and `CommentLink`\n- Enh #4751: New `ContentObjectLinks` widget for the detail views of module content\n- Enh #4754: Shorten high member numbers\n- Enh #4781: Change allowed characters in username\n- Enh #4416: Added reply to sub comments\n- Enh #4571: humhub/libs/Html::containerLink() now adds a \"data-guid\" attribute\n- Enh #4791: Delay failed login attempts\n- Enh #4787: Always enable Space Membership Web Notifications\n- Enh #4795: Added support for collapsible form fields\n- Enh #4796: Added option to disable PWA/ServiceWorker support\n- Enh #4808: Improved richtext styles\n- Fix #4752: Fix saving hash of a deleted file from disk\n- Enh #4671: Implemented live poll result sharing by BroadCastChannel\n- Enh #4829: Renamed account \"Security\" page and make it optional\n- Enh #4818: Added database related checks (Driver, Collation, Table Engine)\n- Fix #4831: Validate username by pattern only on change or for new users\n- Fix #3662: Encoding issues in mails\n- Enh #4686: Implemented richtext converter to following formats: plaintext, shorttext, html, plain markdown\n- Enh #4686: Enhanced richtext extension API for convterting and post-processing\n- Enh #4686: Added caching mechanism for richtext converter results\n\n\n1.7.3 (February 26, 2021)\n-------------------------\n- Fix #4792: Guest access to user profile home page\n- Fix #4794: CountrySelect profile field broken\n- Fix #4793: Form labels (HForm) are not displayed correctly\n- Fix #4569: Prevent double module registration\n- Fix #4389: Require to check a checkbox if the profile field is required\n- Fix #4281: Update space chooser after following a space\n- Fix #2950: Close modal window on click link with url in href\n- Fix #3687: Disable profile field type for existing record\n- Fix #4819: Fixed some PHP8 issues. (Updated to Yii 2.0.40 / Imagine 1.0+)\n- Fix #4825: Ensure unique setting values (Added unique table index)\n- Fix #4895: Fix js warning of not loaded module space.chooser\n- Fix #4921: Fix ambiguous column status\n- Fix #4923: Replace denied characters with underscore in uploaded file names\n\n\n1.7.2 (January 21, 2021)\n------------------------\n- Fix #4668: table-responsive tables do not overflow due to default word break style\n- Fix #4679: Richtext extension scan does not include full title if title contains a `)`\n- Fix #4703: SSO login drops no warning if AuthClient cannot be stored\n- Fix #4700: Deep Links from Microsoft Office Documents\n- Fix #4714: Use HTTPS protocol for default OEmbed endpoint URLs\n- Fix #4727: Nav tabs with data-toggle are styled in link color\n- Fix #4649: Success message rendered although password validation failed\n- Fix #4717: Repsonsive layout alignment issue on small screens\n- Fix #4715: Call to `Content::canArchive()` throws error on global content\n- Fix #4744: Banner image orientation not being processed\n- Fix #4743: Hide \"Like\" link when no permission \"Can like\"\n- Fix #4768: Use only letters and digits from Space name for logo acronym (Thanks to @jrckmcsb)\n- Fix #3617: Deny slashes in usernames\n\n\n1.7.1 (November 27, 2020)\n-------------------------\n- Fix #4612: Dashboard wall stream entry displays user name in sub title in post style layout\n- Fix #4614: Profile Image crop broken\n- Fix #4607: Changed grid size of image preview on fluid themes\n- Fix #4609: Error on downscale command\n- Fix #4621: Wrong image orientation on downscaling with imagick\n- Fix #4628: Fixed stream gallery ratio issues on fluid themes\n- Fix #4636: Jplayer overflow on mobile stream\n- Fix #4591: Registration error text \"You are already logged in!\" not translatable\n- Fix #4630: Transfer default content of user approve/decline email to approve/decline form\n- Fix #4650: `adminCanChangeUserProfileImages` option has no effect\n- Fix #4660: Topic stream filter leads to stream entry duplication in combination with stream suppression\n- Fix #4638: Profile settings do not accept birthdate in russian format\n- Fix #4596: Set `autocomplete=\"off\"` on date picker fields\n- Fix #4666: Richtext attachment of multiple files without title fails\n\n\n1.7.0 (November 4, 2020)\n------------------------\n- Fix #4590: Page loader color contrast too low \n- Fix #4599: File preview not visible if initialized in background\n\n\n1.7.0-beta.2 (October 26, 2020)\n-------------------------------\n- Fix #4504: Fix `hasSidebar()` for empty sidebar\n- Fix #4526: `HeaderControlsMenu::init` called twice\n- Fix #4529: Aligned default dropdown text size\n- Fix #4533: Removed \"Can Like\" permission from permission settings for \"Not registered users\"\n- Fix #4534: In profile checkbox field, `Other:` not translatable \n- Fix #4547: Fixed wall stream entry header title text style\n- Fix #3980: Empty stream on permalink for content a user is not allowed to access\n- Enh #4448: Exclude all media preview files from file list if `excludeMediaFilesPreview` setting is active\n- Fix #4542: Ignore displaying `Member Since` for empty created_at membership\n- Fix #4549: Handle invalid timezone validation in registration process\n- Enh #4531: Remove wall entry left padding on mobile \n- Fix #4554: Code blocks in comments uses same background color\n- Fix #4574: Different style between clickable and non clickable space/user counter\n- Fix #4575: Increased text size of \"Read more\" link on short-text post\n- Fix #4575: Increased text size of \"Read more\" link on short-text post \n- Fix #4559: Don\u2019t check platform php extensions by composer v2\n- Fix #4581: Users see content of archived spaces on dashboard\n\n\n1.7.0-beta.1 (October 16, 2020)\n-------------------------------\n- Fix #4327: Internationalization of user approval/decline message text\n- Fix #4139: Dashboard post input on mobile cuts editor menu\n- Fix #4328: Top navigation overlaps post input richtext menu on dashboard page\n- Fix #4257: Notification dropdown text breaks after notification image on mobile\n- Enh #4341: Simplified console controller map \n- Fix #4272: Guess timezone for new accounts\n- Fix #4230: Auto enable \"Hide file info (name, size) for images on wall\" option\n- Chg: Move CHANGELOG to humhub root\n- Fix #4330: Allow users with permission ManageUsers to modify profile images\n- Enh #4179: Removed deprecated mysql character set in log table migration\n- Enh #4324: Improved line break for menu entries with many characters\n- Enh #4186: Add Timezone validation rules to admin prerequisite view\n- Enh #4378: Implemented generic ContentContainerActiveRecord::is() function\n- Enh #4310: Add \"Can Like\" Permission \n- Fix #4111: Issues Cropping Images\n- Enh #4283: Implemented UserMemberSince and UserLastLogin user's profile virtual fields \n- Fix #4385: Tour broken when profile start page is changed\n- Enh #3882: Rework of wall stream entry widget design and API\n- Enh #3882: Introduction of alternative `WallStreamModuleEntry` widget for collaborative content types\n- Chg #4397: Deprecated old wall entry widget and related stream logic (see `humhub\\modules\\stream\\actions\\LegacyStreamTrait.php`)\n- Fix #4391: ActiveRecord `created_at` and `updated_at` contains invalid value after save\n- Chg #4397: Default theme color alignment and new `@link` color variable\n- Enh #4419: Implementation of view context http header `HUMHUB-VIEW-CONTEXT`\n- Fix #4420: Uncaught Throwable destroys search layout\n- Enh #4421: Added `Html::addTooltip()` to add tooltips to an option array\n- Fix #4422: Invalid Html semantic in activity stream (`li` wrapped by `a`)\n- Enh #4423: Implemented icon alias configuration in ui module class\n- Enh #4424: Posts content with short text is emphasized\n- Enh #4425: Use of accessibility compatible icon tooltips\n- Fix #4408: JPlayer on mobile overflows stream content\n- Fix #4382: Use of proper word break style\n- Fix #3566: Bug in models/filetype/CheckboxList.php\n- Enh #4401: Allow to use less variable name in value of another less variable\n- Fix #4434: Fix title quoting for space icons in widget \u201cMember in these spaces\u201d\n- Fix #4428: Replace db Expression time now with func date('Y-m-d G:i:s')\n- Enh #4370: Add \"about\" to `Space` model\n- Enh #4370: Add `humhub\\modules\\space\\widgets\\MyMembership` to manage render user state in a space\n- Enh #4370: Add `humhub\\modules\\space\\widgets\\AboutPageSidebar` to manage about page sidebar\n- Enh #4370: Add `About Space` page \n- Fix #3994: Live event legitimation array include followed users\n- Fix #3994: Live event legitimation consider `cached` argument in processing data\n- Fix #4452: `humhub.ui.filter.getActiveFilterCount` returns wrong value with exclude array option\n- Fix #4452: Ignore `scope` profile filter in stream filter count and hasActiveFilters\n- Fix #4456: PHP8 deprecated warning for LessHelper::updateVariables()\n- Fix #4451: PHP Deprecated Warning in ProsemirrorRichText::replaceLinkExtension\n- Enh #4195: Increased scaled logo size for high res displays\n- Enh #4469: Added TextConverter maximum length\n- Enh #4469: Added file converter id attribute\n- Enh #3978: Added option to compress and resize images automatically on upload\n- Enh #3889: Prevent automatically resized site icons by manually added files (e.g. `/upload/icon/180x180.png`)\n- Enh #4458: Remove cacert.pem in order to avoid curl error\n- Enh #4467: Inject stream entries by event (experimental)\n- Fix #4473: Catch all Throwables when loading module configuration\n- Fix #4474: Loader not removed from event trigger\n- Enh #4476: Reworked TimeAgo widget\n- Chg #4482: Removed old legacy richtext editor which is deprecated since v1.3\n- Enh #4475: Add Console UserAdmin Command\n- Chg #4482: Removed old legacy richtext editor which is deprecated since v1.3\n- Enh #3851: Migrate components from ZendFramework to Laminas\n- Fix #4354: Set `about` as target url of space invitation notification\n- Fix #4493: Removed legacy ControllerAccess in notification ListController\n- Chng #4509: Removed `humhub\\modules\\space\\widgets\\Picker` which is deprecated since v1.2\n- Fix #4396: Submitting only picture in comment results in debug error.\n- Enh #4469: Added alias for file uploads folder\n- Fix #4513: Make like counter clickable in first like\n\n\n1.6.5 (Unreleased)\n------------------\n\n- Fix #4555: Default password validation error message missing translation and wrong min. characters\n- Fix #4494: Empty \"Add Modules\" step on space creation when all modules are always enabled\n\n\n1.6.4 (October 9, 2020)\n-----------------------\n\nThis release also brings a [security update](https://github.com/yiisoft/yii2/security/advisories/GHSA-699q-wcff-g9mj) of the Yii2 framework. HumHub itself and the modules provided by our offical marketplace are not affected by this bug.\n\n- Fix #4361: Added missing nonce attribute in inline marketplace script\n- Fix #4363: Open file modal throws permission denied for unauthenticated users in guest mode\n- Fix #4371: Word break issue in notification dropdown\n- Fix #4355: Fixed error when authclient not providing an id attribute\n- Fix #4384: Upgrade to Yii 2.0.38\n- Fix #4403: Space Picker Double HTML Encode\n- Fix #4385: Tour broken when profile start page is changed\n- Fix #4430: Invalid notifications breaks notification overview\n\n\n1.6.3 (September 9, 2020)\n-----------------------\n- Fix #4315: UserInvite (E-Mail Approval) not deleted when declining users\n- Fix #4318: Timezone issue with LDAP and birthday fields\n- Fix #4331: Directory pageSize module option has no effect\n- Fix #4333: Marketplace download of beta versions broken\n- Fix #4342: Missing Emoji mappings used for plain richtext output\n- Fix #4343: Autofocus of picker input in modal not working\n- Fix #4323: TabbedForm validation switches to erroneous tab on every client form validation\n\n\n1.6.2 (August 4, 2020)\n-----------------------\n- Fix #4305: 2nd level comment \"Submit\" button not visible\n\n\n1.6.1 (August 3, 2020)\n----------------------\n- Fix #4282: Sub-comment richtext menu dropdown does not hover main comment section\n- Fix #4285: All ThirdParty modules are also marked with \"Community\"\n- Fix #4287: Fixed Yii2 compatibility issue with MySQL 8+\n- Fix #4303: Fixed syntax error in comment query\n\n\n1.6.0 (July 29, 2020)\n---------------------\n- Fix #4256: MOV file support broken with wrong MIME Type\n- Fix #4274: Force profile field attribute values of BaseTypeVirtual fields\n- Fix #1438: Error \"User or Password incorrect.\" not translatable\n- Fix #4262: Additional hr in comment section\n- Fix #4161: Number of \"n more\" likes is invalid\n\n\n1.6.0-beta.1 (July 16, 2020)\n----------------------------\n- Enh: Improved performance of cli marketplace module updater\n- Fix #4054: Duplicate \"font-weight\" value\n- Enh: Prevent 100% image height in blueimp gallery\n- Chg #4170: Updated codeception to v4.1.6\n- Chg #4138: Updated jQuery to v3.5.1\n- Chg #4158: Cleanup post table removed unused column  \n- Fix #4182: Native edge password reveal icons interferes with custom one\n- Fix #4173: Notification overview HTML compliant issue\n- Enh #4191: Added SortOrder Form Input Field\n- Enh: Added `ContentVisibilitySelect` ActiveField widget for content forms\n- Enh #4213: Only render topic chooser if there are topics available or user can create topics\n- Enh: Added `humhub\\modules\\ui\\form\\widgets\\ActiveField:preventRendering` to manage render state within field classes\n- Enh: Added `humhub\\modules\\ui\\form\\widgets\\JsInputWidget:emptyResult()` helper to manage render state of JsInputWidget\n- Enh: Added `humhub\\modules\\ui\\form\\widgets\\JsInputWidget:field` in order to access ActiveField instances within JsInputWidget\n- Enh #4216: Added `humhub\\modules\\ui\\filter\\widgets\\DropdownFilterInput` in order to support dropdown stream filters\n- Enh: Added support for non-free marketplace modules without a fixed price \n- Enh: Show more information about installed module in marketplace when possible. Instead of limited README.md \n- Enh #3923: Add ability to disable profile stream\n- Enh #4222: Added virtual profile fields to display users e-mail address and username\n- Enh #4194: Increased max pinnable space content\n- Enh #4194: Make max pinnable content configurable on space/profile level\n- Chg #4228: Removed unnecessary `ContentActiveRecord:initContent`\n- Fix #4229: `Space::canAccessPrivateContent()` throws error for guest user if `globalAdminCanAccessPrivateContent` setting is true\n- Fix #4227: Removed redundant code from `humhub.ui.widget.js`\n- Fix #4232: Metadata request creates guest session if CSP nonce header is enabled\n- Enh #4234: Enhanced custom test environment configuration in `@protected/humhub/tests/config/env/env.php` file\n- Fix #4233: `humhub\\modules\\web\\security\\helpers\\Security:setNonce()` does not remove nonce session value if nonce is null\n- Fix #4235: Misleading error message 'Unable to determine dataType from response' logged on ajax error\n- Enh #4238: Added module marketplace option for Community Modules. Updated third-party Module disclaimer\n- Enh #4238: Added module marketplace option to enable module beta version updates\n- Fix #4199: Pinned posts of other spaces are excluded from profile stream\n- Enh #3995: Added additional user profile stream filter to include or exclude non profile stream content\n- Enh: Added `humhub\\modules\\stream\\actions\\Stream:initQuery` to manage query filter in subclasses\n- Enh: Make profile content archivable\n- Enh: Archived stream filter now only included archived content\n\n\n1.5.3 (July 16, 2020)\n---------------------\n- Fix #4036: Profile images are not rotated correctly\n- Fix #4168: Erroneous pagination in notification overview \n- Fix #4060: Profile description and text regex error message not translatable\n- Fix #4153: Administration: Email transport configuration 'Save & Test' Gives No Result\n- Fix #4187: Use of invalid LivePushAsset namespace\n- Fix #4140: Profile field hint is double encoded\n- Fix #4166: Typo in LDAP settings form\n\n\n1.5.2 (May 20, 2020)\n--------------------\n\n- Fix #4031: Notifications with non existing base model breaks notification list\n- Fix #4038: Cannot use yii\\helpers\\Html as Html because the name is already in use in ProfileBannerImage\n- Fix #4050: Broken Cron-job documentation link used in cron info sidebar snippet\n- Fix #4036: Uploaded photos are not rotated correctly\n- Fix #4078: Richtext linkextension pattern fails on link extensions with containing `)` in link title\n- Fix #4080: Invalid absolute urls created in acceptance tests\n- Fix #4030: #search-menu-nav required in theme view layout main\n- Fix #4086: Maximum call stack size exceeded thrown on ActivityStreamEntry.remove\n- Enh #4088: Improved table overflow handling in richtext content\n- Chg: Updated humhub richtext version to 1.0.25\n- Fix #4091: Richtext compatibility parser translates links within code blocks\n- Fix #4096: Missing CreatePost permission check in post model canMove\n- Fix #4098: Space setting edit fails due to unique name validation\n- Fix #4100: Empty message validation errors on post and comment edit broken\n- Enh #4061: Improved post context menu order\n- Fix #4056: Images not rendered in markdown profile field\n- Fix #4034: Premission filter pagination shown without reason and broken\n- Fix #4012: Permission filter dropdown shows module id instead of module name\n- Fix #4046: Search results not highlighted\n- Fix #3975: Space chooser directory button visible, even if user is not allowed to access directory\n- Fix #4106: Profile about displays birthdays in current user timezone \n- Fix #4108: Issues deleting network logo\n- Fix #4119: Oembed not found due to different encoding\n- Fix #4084: Blueimp gallery image assets not published\n- Fix #4069: Duplication of log level filter parameter in pagination url\n- Fix #4075: Use of array_key_fist in space CreateController fails on PHP < 7.3\n- Fix #4033: Checkboxlist profile field does not support `Key => Option` format as described in help text\n- Fix #4125: See password field addition calculates wrong position with container animation\n- Fix #4127: Richtext fullscreen mode within modal or login-container broken\n- Fix #4116: Definitive user deletion doesn't work \n\n\n\n1.5.1 (April 19, 2020)\n----------------------\n\n- Fix #4001: LDAP user sync error\n- Fix #4004: Missing translation strings\n- Fix #4009: Yii queue error handling broken\n- Fix #4008: Some richtext images are embedded as Base64\n- Fix #4019: Animated Gifs not handled correctly with GMagick extension \n- Fix #4021: Activity mail queue job timeout error handling \n- Fix #4005: The uploaded logo is scaled too small.\n- Enh #4026: Check memory limit in prerequisites check \n- Fix #4023: Background flickering on firefox page transition\n- Fix #4028: Image previews rendering in stream do not perform well.\n\n\n1.5.0 (April 15, 2020)\n----------------------\n\n- Fix #3976: User profile stream could not be initialized\n- Fix #3977 Reverted nicescroll version to 3.6.6 due to mobile scroll issues\n- Chg: Only use nicescroll on space chooser, notifications, and activity stream on large devices\n- Chg: Replaced `humhub.ui.view.isNormal()` with  `humhub.ui.view.isLarge()`\n- Fix #3973: Profile Categories Not Editable\n- Fix #3925: \"Back to stream\" button visible after pin to top in stream\n- Chg: Removed all style assets from CoreBundleAssets\n- Fix #3991: Archive content triggers \"New updates available\" stream badge\n\n\n1.5.0-beta.1 (April 6, 2020)\n----------------------------\n\n- Enh #3858: Support SameSite cookies\n- Fix #3861: Improved warning details when auto delete inconsistent notification\n- Fix #3873: Invalid visibility handling in `Content::canView()` for private global content\n- Fix #3896: Top menu dropdown double border on focus/hover\n- Fix #3834: Many entries in the top menu crashing layout\n- Enh #3907: Allow `client.ajax().abort()`\n- Enh #3909: Add filters to `Administration -> Information -> Logging`\n- Enh #3910: Add javascript url util `humhub.util.url.getUrlParameter()`\n- Enh #3557: Add permission filter to space and user permission settings\n- Enh #3844: Add directory menu icons\n- Enh #3792: Render profile field description as form hint\n- Enh #3841: Allow * as group-id in `defaultPermissions` configuration\n- Enh #3924: Implement `StreamQuery->$to` field and query for stream updates\n- Enh #3927: Add `content.container.guid()` function to determine active container on the frontend\n- Enh #3924: Display update stream badge once an update is available\n- Enh #3924: Implement `Stream.isUpdateAvailable()` to determine if there is an update available\n- Enh #3924: Implement `Stream.onUpdateAvailable()`, `Stream.loadUpdate()` and `Stream.options.autoUpdate` to manage stream updates\n- Enh #3924: Added `humhub\\modules\\content\\live\\NewContent:$streamChannel`\n- Enh #3928: Implement auto updates on activity stream\n- Enh #3930: Add default `Stream.initScroll` with support of IntersectionObserver\n- Fix #3904: Removed unused \"alt\" attribute on Span element\n- Enh #3950: Include non profile content to users profile timeline\n- Enh #3937: Add test mail to mail settings\n- Fix #3912: Unneeded inline style breaks stylesheet in logo.php\n- Enh #3402: Replaced ImageConverter class with Imagine \n- Enh #3939: Add `client.redirect` action to client js module\n- Enh #3941: Core asset bundle optimization\n- Enh #3428: Added dashboard stream filter\n- Fix #2456: Only display list of relevant modules on space creation (@armezit)\n- Fix #3954: Support LDAP servers without pagination\n- Enh #3958: Mark legacy modules in module overview \n- Chg: Added gradient to `ui.showMore` feature\n- Chg: Removed legacy `humhub\\assets\\PagedownConverterAsset` from AppAsset\n- Chg: Removed legacy `humhub\\assets\\JqueryCookieAsset` from AppAsset\n- Chg: Removed legacy `resources/file/fileuploader.js` from AppAsset\n- Chg: Removed legacy `resources/user/userpicker.js` from AppAsset\n- Chg: Removed legacy `js/humhub/legacy/jquery.loader.js` from CoreApiAsset\n- Chg: Removed legacy `js/humhub/legacy/app.js` from CoreApiAsset\n- Chg: Removed legacy `js/humhub/humhub.ui.markdown.js` from CoreApiAsset \n- Chg: Deprecated `humhub\\modules\\ui\\form\\widgets\\MarkdownField` in order to favor `humhub\\modules\\content\\widgets\\richtext\\RichTextField`\n- Chg: Use lazy js module fallback for `humhub.require()` by default\n- Chg: Only register live push asset and `SocketIoAsset` on demand\n- Chg: Updated Yii2 Queue Extension to v2.3.0\n- Chg: Migrated from Zend Http to Yii2 HttpClient \n- Enh #3916: Rework profile field administration overview \n- Fix #3635: Search rebuild job timeout\n- Fix #3965: Space deletion not possible on some AuthClients without password\n- Chg: Replaced Space archive and Space delete buttons\n- Fix #3813: Too high memory consumption on Notification cleanup  \n- Chg: Updated richtext version to 1.0.22\n\n\n1.4.5 (Unreleased)\n------------------\n- Fix #3945: Default object-src policy prevents loading pdf on safari\n- Fix #3963: Richtext/Markdown links not highlighted by default\n- Fix #3986: Cannot use yii\\helpers\\Html as Html because the name is already in use in `humhub\\libs\\ProfileBannerImage`\n\n\n1.4.4 (March 24, 2020)\n----------------------\n- Fix #3908: `DateHelper::parseDateTime()` returns invalid date if given value is not parsable\n- Fix #3905: `accountTopMenu` renders redundant `<li>` tag\n- Fix #3911: Error thrown in UrlRule for non existing user names\n- Fix #3914: Directory link in space chooser still visible when directory module not active\n- Fix #3915: Removed default border from canvas style\n- Fix #3885: Prevent comments on archived content\n- Fix #3940: Empty visibility for some new spaces \n- Fix #3942: Show password icon not placed correctly if field was initially hidden\n- Chng: Updated richtext version to 1.0.21\n- Fix #3906: Prevent emoji chooser focus when triggered by input rule\n- Fix #3890: Richtext list menu item disappears\n\n\n1.4.3 (March 4, 2020)\n---------------------\n- Fix #3887: CSS presentation issue for tables wider than the container and videos missing borders (areasas)\n- Fix #3893: New user invite headline broken in German translation\n- Enh: Updated translation files\n- Fix #3894: Pjax call does not does not release scroll body scroll lock when default swipe is active\n- Fix #3897: Top menu dropdown on mobile does not update active state\n\n\n1.4.2 (Februrary 27, 2020)\n--------------------------\n\n- Fix #3865: \"Use default swipe\" setting not working\n- Fix #3875: Profile image click does not open gallery overlay\n- Fix #3879: New mobile swap interfers horizontal scroll\n- Enh: Added `humhub.ui.view.isActiveScroll()` in order to check current scroll state (e.g. used to prevent swipe)\n- Enh: Added `humhub.ui.view.preventSwipe()` in order to prevent default swipe\n- Fix #3866: Emoji chooser broken after pjax link\n- Enh: Added emoji richtext menu item\n- Enh: Updated humhub richtext version to 1.0.20\n- Fix #3883: Former & soft deleted LDAP user produces multiple warnings\n\n\n1.4.1 (Februrary 17, 2020)\n--------------------------\n\n- Fix #3852: Error when OpenSSL extension is not installed\n- Fix #3849: ModuleCleanupJob produces an error due to \"..\" in path\n- Fix #3860: Console/Cli Marketplace actions broken\n- Fix #3862: Profile field type checkbox list with multiple values broken\n- Fix #3864: Some profile field translations broken  \n\n\n1.4.0 (February 4, 2020)\n------------------------\n\n- Fix #3789: TopicPicker `addOptions` flag ignored\n- Fix #3790: \"Create post\" permission visible in profile permissions settings for guest user group\n- Fix: `AdminMenu:reset()` fails on console requests using user switch\n- Fix: Default `ContentContainerController::subLayout` can't be overwritten directly or within controller `init`\n- Fix #3791: Topic overview missing for user profiles\n- Fix #3787: Required checkboxlist input shows asterisk on each option\n- Chng: Removed `static/temp.css`, moved required form style to `form.less`\n- Enh: Use of colored required input field asterisk\n- Fix #3784: `ActiveQueryContent::readable()` not working for global content\n- Chng: Removed italic text from summary mail of comment and content activities for better readability\n- Fix #3798: DBValidator not working with time value and swedish locale\n- Enh #3779: Added `ui.view.getContentTop()` for calculating the top position of the layout content with theme support\n- Fix #3704: Public space is not displayed when guest user accesses \"Space directory\".\n- Fix: Fixed modal width calculation on mobile (ee)\n- Fix: Dropdown width issue on mobile (ee)\n- Fix: Prevent sidebar swipe on menu scroll\n- Fix #3805: Cannot select more than one activity in E-Mail Summaries settings\n- Fix #3802: 'usersearch-status' dropdown triggers reload on click\n- Chng #3816: Use of `static::class` query class within `ContentActiveRecord::find()` instead of `getObjectModel()`\n- Fix: DBDatevalidator returns unix epoch date when parsing with a time value fails\n- Enh: Notification targets can be deactivated or overwritten by configuration\n- Fix #3810: Print Media Cluttered by HREF Content\n- Enh: Added further print style enhancements\n- Fix #3803: Invalid editor preset handling\n- Fix #3829: Guest user access to counter set freezes\n- Enh: `data-action` url now can be set as `href` attribute additionally to  `data-action-url`\n- Fix #3837: Legacy modal may freeze in case of errors\n- Fix #3796: Guest users can't access public posts from 'Latest activities'\n- Fix #3797: User `humhub\\modules\\user\\widgets\\Image` link was disabled by default\n- Fix #3795: Open Sans load downloadable font: kern: Too large subtable, table discarded\n- Chng: Dropped open-sans npm dependency and updated and included font in `static/css/open-sans.css`\n- Enh: Update Yii version to 2.0.32\n- Enh #3822 Added content id to notification urls as fallback in case notification was deleted\n- Fix: Settings cli rewrite dynamic config when required\n- Fix #3806: Using `Receive notifications for new content` will not include the space to the notification setting view until settings are saved\n- Enh: Added possibility to disable mail summary feature\n- Fix #3848: Error page does not use theme\n\n\n1.4.0-beta.2\n------------\n\n- Fix #3703: Fixed user profile image dimension of mobile\n- Fix #3732: Reverted changes of default oembed style\n- Enh: Added link to changelog for module marketplaces updates\n- Fix #3674: Back button breaks layout on login page when guest access enabled\n- Enh: Added `safeCreateTable`, `safeDropTable`, `safeDropColumn`, `safeAddColumn` to `humhub\\components\\Migration`\n- Fixed `.layout-nav-container` padding issue\n- Fix #2605: User display name cropped in profile header\n- Fix #3729: Integrity check used deprecated methods\n- Enh #3697: Stay of module update page after updating a module\n- Fix #3692: Icon Upload Problems\n- Fix #3705: Don't render empty menus\n- Fix #3706: Space mentioning broken\n- Fix #3742: OAuth timeout doesn't respect configured timeout \n- Enh: Added `DateHelper:getUserTimeZone()`, `DateHelper:getSystemTimeZone()`, `DateHelper:isInDbFormat()`\n- Fix #3711: Fullscreen Richtext menu broken on ios safari\n- Enh #3768: Add `Module::afterUpdate`, `Module::beforeUpdate` events to `humhub\\components\\Module`\n- Enh: Add `OnlineModuleManager::EVENT_BEFORE_UPDATE`, `OnlineModuleManager::EVENT_AFTER_UPDATE`\n- Fix: Double encoding of `&` in `Richtext::output()`\n- Enh: Added `SocialActivity::getContentPlainTextPreview()` mainly used in mail subjects\n- Enh: Added `data-ui-addition` way of definint ui additions\n- Enh: Added `data-ui-addition` way of defining ui additions\n- Enh #3771: Added `data-ui-addition=\"acknowledgeForm\"` in order to prevent page changes without save/confirmation\n- Enh #3771: Added `humhub\\modules\\ui\\form\\widgets\\ActiveForm:acknowledge` flag\n- Chng: Use of `BlueimpGalleryAsset` npm asset instead of static asset file\n- Enh: Updated richtext version to 1.0.18 see (https://github.com/humhub/humhub-prosemirror/blob/master/docs/CHANGELOG.md)\n- Enh: Added mobile swipe in order to show sidebar (needs to be activated `Administaration -> Settings -> Appearance`)\n\n\n1.4.0-beta.1\n------------\n\n- Enh: GroupPermissionManager - allow to query users by given permission\n- Enh: Automatic migrate DB collations from utf8 to utf8mb4\n- Enh: Added Icon widget as wrapper class \n- Enh: Moved from bower to npm assets\n- Chng: Removed `jquery-placeholder` asset and dependency\n- Chng: Removed `atwho` asset and dependency\n- Cnng: Removed old IE support\n- Fix #2946: Use Yii2 default timezone handling\n- Enh: Use LocalStorage in panel menu\n- Chng #2164: Removed MSN & Google+ social bookmarks during setup\n- Enh: Added a user module configuration for setting password strength rules (Baleks)\n- Fix #3103 Password recovery links pjax layout issue\n- Enh: Added `humhub.ui.widget.Widget.loader()` for default loader functionality\n- Enh: Added `humhub.ui.widget.Widget.reload()` in combination with `humhub\\widgets\\Reloadable` interface\n- Enh: Implemented an auto loading mechanism for notification filters (Baleks)\n- Enh: Modules can add or overwrite oembed providers by means of `humhub\\models\\UrlOembed:EVENT_FETCH` event (Baleks)\n- Fix: `WallEntry::EVENT_AFTER_RUN` event not triggered\n- Enh: Added `humhub\\components\\Widget::widgetLayout`\n- Enh: Added an option for user to change username (Baleks)\n- Enh: Added warning confirmation when module is being deactivated from console (Baleks)\n- Enh: Moved 'Default spaces' setting from Basic settings to Space settings (Baleks)\n- Enh: Add inviter name to Space Admin Member section (Baleks) \n- Fix #3463 Changed 'Deny Invite' to 'Decline Invite' for space invites (Baleks)\n- Enh: Responsive mobile view enhancements\n- Enh: Added `humhub\\widgets\\Link::target()` and `blank()`\n- Fix: `humhub.client` does not resolve promise on 302 redirects \n- Enh: Separated marketplace methods into own submodule\n- Enh: Added consistent user \"sub\" display-name handling\n- Enh: Added possibility to manage database settings via CLI\n- Fix: Force redirect to login instead 404 when guest access is disabled (thanks to Security Research Team, Datafarm Co.,Ltd.) \n- Enh: Added \"web\" submodule for web specific features (e.g. security headers or PWA)\n- Enh: Added Progressive Web App (PWA) support\n- Enh: Added integrated page icon handling\n- Enh: Raised minimum PHP Version to 7.1\n- Chng: New Menu and MenuEntry rendering\n- Enh: Added Icon abstraction `humhub\\modules\\ui\\icon\\widgets\\Icon`\n- Enh: Added `humhub\\libs\\Html::addPjaxPrevention()` for link options\n- Enh: Added obj support for `humhub\\libs\\Sort`\n- Enh: Reorganized WallEntry context menu\n- Enh: Added new configurable security module with nonce script support\n- Chng: Updated jQuery version to 3.4.0\n- Enh: Added `humhub\\modules\\user\\controllers\\AuthController::EVENT_AFTER_LOGIN` triggered after login success response is rendered\n- Enh: Make sure embedded video controls are enabled\n- Fix #3404 Richtext `Heading` text not translatable\n- Fix #3642 Welcome tour not using community name\n- Chng: Moved collapsible panel logic into own js module\n- Enh #3649: Provide a way to S/MIME sign e-mails (@ChadiRachid)\n- Fix `humhub\\modules\\file\\widgets\\Upload::progress` config options not working\n- Enh: More generic approach to determine themed view files\n- Enh: Always use ISO 639-1 alpha-2 (and ISO 3166-2) language codes\n- Enh: Reorganized translation method categories to reduce language files\n- Enh: Removed deprecated methods/classes since v1.1 - see migration guide for details\n- Enh: Show registration form captcha per default\n- Enh: Added abstract `ContentContainerActiveRecord::getDisplayNameSub()`\n- Enh: Allow `humhub\\modules\\files\\widgets\\Upload::withName($submitName, $cfg);`\n- Enh: Auto add `data-container-id` to Space and User `Image` widget\n- Enh: Added `grunt test --debug` option\n- Fix #3653: Add PHP LibXML requirement\n- Enh: Added show password feature for password form elements\n- Fix: `humhub\\components\\acces\\AccessValidator` now returns http code `401` for guest and `403` for users by default \n- Enh: Added generic `humhub\\modules\\ui\\helpers\\models\\ItemDrop` model for drag/drop reordering\n- Enh: Added `ContentContainer::findRecord($guid)` for loading a ContentContainerActiveRecord by guid\n- Enh: Implemented `ProfileImage::render($width, $cfg)` for e.g. `$container->getProfileImage()->render(400)`\n- Enh: Added `ContentTag::sort_order` field to provide a default order mechanism for content tags\n- Enh: Added `sort_order` configuration for topics\n- Enh #3564: Link MemberAdded activity to new member instead of the space\n- Enh: Added `humhub.modules.ui.form.submit` action e.g. `data-action-change=\"ui.form.submit\"`\n- Chng: Added `humhub.ui.form` namespace to core api asset\n- Fix #3567: Profile field type Checkbox List with comma in option list not working\n- Enh: Added `changed` and `resetSearch` js widget events to `humhub.space.chooser.SpaceChooser`\n- Enh: Added a way to specify script urls, which should not be reloaded (`yii.reloadableScripts`) by configuration and event\n- Enh: Add base provider url as `data-oembed-provider` attribute to oembed container\n- Fix #3547: Invalid font-family in system mail\n- Chng: `humhub\\compat\\CActiveForm` and `humhub\\compat\\CHtml` is now deprecated\n- Enh: Updated to twemoji v12\n- Enh: Editable `['twemoji']['path']` config parameter\n- Enh: Added configuration option to hide/disable the Like module\n- Enh: Added link to changelog for module marketplaces updates\n- Fix #3674: Back button breaks layout on login page when guest access enabled\n- Enh: Added `safeCreateTable`, `safeDropTable`, `safeDropColumn`, `safeAddColumn` to `humhub\\components\\Migration`\n- Enh: Added support of upcoming HumHub Professional Edition in Marketplace module\n- Enh: Added module marketplace categories\n- Enh: Added isFluid LESS variable for automatic HTML container handling\n- Fix #2605: User display name cropped in profile header\n- Enh: Updated Yii to 2.0.30\n\n\n1.3.21 (Unreleased)\n-------------------\n- Fix #3846: Timeline sort by \"update\" looses entries\n\n\n1.3.20 (January 9, 2020)\n------------------------\n\n- Fix #3814: File uploads broken with restricted file extensions\n- Enh: Added `withTimeZone` parameter to `humhub\\libs\\TimezoneHelper::generateList()`\n- Chng: Remove offset information in `humhub\\widgets\\TimeZoneDropdownAddition` by default\n\n1.3.19 (December 20, 2019)\n--------------------------\n\n- Fix #3759: Allow individual file extensions (e.g. msg)\n- Fix #3147: Module related permissions are not properly removed on deactivate/uninstall\n- Fix #3740: Profile field type Checkbox List does not show \"other\"\n- Fix #3484: Encoding issue in german space visibility translation\n- Fix #3717: Account deletion incomplete if related to an identity provider\n- Fix #3800: Birthday \"Hide year in profile\" inconsistent with LDAP\n\n\n1.3.18 (November 22, 2019)\n--------------------------\n\n- Fix #3698: Approval by group manager broken\n- Enh: Set max signs of User tags to 250\n- Fix: https://github.com/humhub/humhub-modules-wiki/issues/103 Topic attachment fails with given topic instances\n- Fix #3366: Set max-width for stream entry image file attachments\n- Fix: `ContentContainerController::getAccess` uses `ContentContainerControllerAccess` also for global access\n- Fix: Global content does not allow guest access\n- Fix #3727 Bug with Bluebird and Firefox 71 breaking mentioning requests\n\n\n1.3.17  (October 17, 2019)\n--------------------------\n\n- Fix #3690: Rollback from broken version 2.8.6 to 2.8.1 of bower-asset/clipboard.js\n\n\n1.3.16  (October 17, 2019)\n--------------------------\n\n- Fix #3647: GroupID field is not translatable in Registration Form\n- Fix #3655: Fix CommentLink widget Comment class usage conflict\n- Fix #3638: Update Notification Causes System Warning\n- Fix #3512: Broken error handling if SQL mode cannot be switched \n- Fix #3599: Removed HTML encode for FROM attribute of Email (@githubjeka)\n- Fix #3637: Allowed using apostrophe in filename (@githubjeka)\n- Fix #3602: Trim function for username (@githubjeka)\n\n\n1.3.15  (August 22, 2019)\n-------------------------\n\n- Fix #3587: New user tour broken on some template variants\n- Fix #3589: Reduced integrity check memory usage in Like/Comment module\n- Fix #3595: LDAP config file values ignored\n- Fix #3598: Removed Google+ default profile field\n- Fix #3552: Updated to Yii - AuthClient 2.2+ library\n- Fix #3588: OEmbed CSS class not provided\n- Fix #3609: LDAP paging control limits max. users\n- Fix #3618: Some LDAP CLI commands requires a authClientId parameter \n- Fix #3625: If user is following a space of which he is also a member, it shows up twice under \"my spaces\"\n- Fix #3626: SimpleStream reloads unexpected\n\n\n1.3.14  (June 26, 2019)\n------------------------\n- Fix: LinkedIn API call to v1 deprecated use v2 (@Felli)\n- Fix #3531: File module Fil: isAssignedTo method broken\n- Fix: Added missing admin group title encodings\n- Enh: Added featured module flag to marketplace view\n- Fix: Directory stats progress color (@Felli)\n- Fix #2724: Edited post does not display the space on dashboard\n- Fix #3533: Responsive design issues\n- Fix #3471: Display of Date Time Column in excel with empty/false value\n- Fix #3581: Search form with GET causes repeated sticking of url parameters (@Bhoft)\n- Enh: Added configuration option to hide Activity sidebar widget on dashboard\n- Fix #3570: en-GB language code Datepicker 404\n- Fix #3584: \"Array to string conversion\" on some LDAP attributes\n- Fix #3437: Composer warning for bower-asset/jPlayer\n\n\n1.3.13  (May 3, 2019)\n----------------------\n- Enh: Added HomeUrl support to ConsoleApplication\n- Fix #2536: Incorrect log of \"Attempt to steal file\" due to faulty File::isAssignedTo() check\n- Fix: Wrong help block position in admin basic settings\n- Chng: Removed yiisoft/yii2-apidoc dependency\n- Enh: Double file extension check is now optional and disabled by default\n- Fix #3552: `humhub\\modules\\user\\authclient\\AuthAction:auth()` not compatible with `yii\\authclient\\AuthAction:auth()`\n- Fix #3545: OEmbed fetch limit ignored\n- Enh: Added `humhub\\libs\\RestrictedCallException`\n- Chng: Switched from [bootstrap-tour](https://github.com/sorich87/bootstrap-tour) to [bootstrap-tourist](https://github.com/IGreatlyDislikeJavascript/bootstrap-tourist) due to incompatibility to bootstrap v3.4.1\n- Enh: Added `humhub.modules.tour` module for handling tour logic\n- Fix: Added PHP 7.3 compatibility workaround for ZF2 ArrayObject\n- Fix #3513: Profile schema cache not refreshed after adding new profile field\n- Fix: Removed Codeception files from HumHub packages builds due to possible XSS flaw (thanks to Ka\u011fan E\u011flence)\n- Fix #3534: Mark ID Attribute in LDAP settings as required\n- Fix #3662: Group picker encode issue\n\n\n1.3.12  (March 26, 2019)\n---------------------------\n- Enh: Use of new Richtext for About section\n- Chng: Force blank links in old markdown editor\n- Fix: Profile Markdown field files are not attached\n- Chng: Don't restrict`humhub\\modules\\file\\components\\FileManager::attach()` to `humhub\\components\\ActiveRecord`\n- Fix: Richtext preview new line backslash issue\n- Enh: Migrated LDAP features into own submodule\n- Enh: Added new LDAP command line tools\n- Fix #3347: Fixed searching members in space and users with white space in full name (Baleks)\n- Fix: Deleted Records are not correctly removed from the search index\n- Fix #3459: Notification counter increment after manual notification fetch\n- Fix: Notification count update does not respect notification group\n- Fix: Change email form is restricted to max 45 characters. Changed to 150 (current DB restriction)\n- Fix: Footer menu renders redundant `<li>` end tag.\n\n1.3.11  (March 06, 2019)\n---------------------------\n- Fix: Disabled module notification category visible in notification settings.\n- Enh: Added `ModuleManager::getEnabledModules()`\n- Enh: `LikeAsset` is now part of `AppAsset` and does not need further registration\n- Fix (CVE-2019-9093) and (CVE-2019-9094): Reflective XSS in file post upload and cfiles upload (thanks to **Rubal Jain** for testing and reporting)\n- Enh: Added further upload file name validation\n- Enh: Added `ContentContainerModuleManager::flushCache()`\n- Fix: Bootstrap modal blocks richtext prompt focus\n- Fix: Richtext images with dimension setting not attached\n- Fix: `Stream::renderEntry()` overwrite does not work\n- Fix: Removed markdown line breaks from richtext preview\n- Fix: WallEntry of global content throws error\n- Fix: `ActivityAsset` does not depend on `StreamAsset`\n- Fix: Uploaded png preview files lose transparency\n- Fix: Modal options `backdrop` and `keyboard` deactivation has no effect\n\n\n1.3.10  (February 22, 2019)\n---------------------------\n- Fix: Removed ContentTag logging in search update\n- Fix #2567 No results in directory search containing single quote ( ' )\n- Fix #3468 Private space stream contains public content filter \n- Fix #3473 Captcha validation breaks invite by mail\n- Enh: `data-action-confirm` now works on non action based links in combination with `data-action-method`\n- Enh: `grunt test` now uses the composer codeception version instead of a global executable\n- Enh: `grunt test` supports an additional `--env` option in order to set the codeception environment\n- Fix: Absolute url generation in tests not working\n- Enh: Added `HumHubHelper:fetchinviteToken()` in order to fetch invite tokens from emails in functional tests\n- Fix: Added \"utf8mb4\" character set support to database requirements\n- Fix: Finnish language name in language dropdown\n\n\n1.3.9  (February 13, 2019)\n--------------------------\n\n- Fix: StreamSuppressedQuery with limit = 2 throws query not executed exception\n- Fix #3378: Update user in search index when group memberships changes\n- Fix: Space un-archived activity view path broken\n- Enh: Accepting module README.md files in 'docs' directory\n- Fix: Include user profile posts option in dashboard stream broken\n- Fix: Check SoftDeleted user state in ControllerAccess\n- Fix: Removed database charset configuration in dynamic config\n- Fix: User soft deletion membership cache overwrite\n- Fix #3422 Stream suppressed loading logic loads unnecessary stream entries\n- Fix: \"Back to home\" button in registration broken with user approvals and guest mode activated\n- Fix #1683 #553: Added link to show/edit users awaiting admin approval\n- Fix: TextFilterInput uses `keypress` event instead of `keydown`\n- Fix #3452: Soft deleted user remain in other users as friends\n- Fix #3170: Wrong cancel invitation mail handling\n- Enh: Added `humhub\\modules\\space\\models\\Membership::isCurrentUser()`\n- Enh: Added `humhub\\widgets\\Link::post()` for `data-method=\"POST` requests\n- Fix: Use `humhub\\modules\\user\\components\\ActiveQueryUser::active()` on UserPicker fillquery by default\n- Added `relativeUrl` to notification view parameter\n- Fix #3335: Queue migration broken on some database configurations\n- Enh: Added new admin setting \"Include captcha in registration form\"\n- Enh: Added contentTags to the search index\n\n\n1.3.8  (December 10, 2018)\n---------------------------\n\n- Fix #3359: Weekly summary e-mails are not sent in default configuration\n- Fix #3365: Legacy richtext emojis not parsed in richtext preview\n- Fix: Friendship button adds additional spaces\n- Fix: SpaceController::actionHome throws 403 Http error for guests\n- Enh: New `humhub\\modules\\user\\components\\User::EVENT_BEFORE_SWITCH_IDENTITY`\n- Fix: Administration menu item visible after user impersonation\n- Enh: Added PermissionManager findUsersByPermission feature\n\n\n1.3.7  (October 23, 2018)\n---------------------------\n\n- Enh: Added maximum username length & maximum/minimum space url length (rekollekt)\n- Fix: Error message during database installation\n- Enh: \"Powered by\" message handling by widget\n- Enh: Add less options for mail font url/family (@rekollekt)\n- Fix: Fixed typo in space (un-)archived activities\n- Enh: Removed ErrorEvent which will be removed in yii-queue 3.0 (@acs-ferreira)\n- Enh: Added config option to remove \"user profile posts\" entry from directory navigation\n- Fix #2912: Deleting single stream item does not reload stream\n- Fix: Updated blueimp/jQuery-File-Upload to 2.94.1\n\n\n1.3.6  (October 11, 2018)\n---------------------------\n\n- Fix: Richtext loses mark state\n- Fix: New comment scroll behavior not used in edit comment\n- Chng: Updated `humhub-prosemirror-richtext` to v1.0.12\n- Fix #3322: Disabled users still receive emails notifications\n\n\n1.3.5  (October 10, 2018)\n---------------------------\n\n- Fix: Serialization of notifications without originator fails\n- Fix: Hide unapproved member activities\n- Fix #3313: Unable to deny invitation to private space\n- Fix: Added missing `parent::init()` to `humhub\\modules\\stream\\widgets\\StreamViewer`\n- Fix: Added PHP GD extension to the requirements (docs and selftest)\n- Fix: Comment edit triggers new activity\n- Fix: Fixed typo from `MailSummary::INTERVAL_HOURY` to `MailSummary::INTERVAL_HOURLY`\n- Enh: Added `humhub.modules.ui.filter.TextInput` and related `humhub\\modules\\ui\\filter\\widgets\\TextFilterInput`\n- Enh: Enable `data-action-keypress` by default\n- Enh: Added `preventDefault` argument to `humhub.modules.action.bindAction` to disable prevent default behaviour for action events\n- Fix: Fix bootstrap-datepicker.en.min.js 404 (Not Found)\n- Fix: Comment form files not cleared\n- Enh: Added `humhub\\modules\\file\\models\\isAssignedTo($record)` argument in order to check if a File is attached to a specific record\n- Fix: rich-text mobile view wrong min-height calculation\n- Fix #3314: layout container width differences\n- Fix #3315: Exception on first login with ldap\n- Fix comment scroll overflows button\n- Fix widgetAction events case issue\n- Added `humhub.modules.util.string.capitalizeFirstLetter` and `lowerCaseFirstLetter`\n\n\n1.3.4  (September 25, 2018)\n---------------------------\n\n- Fix: Theme parent lookup cache causes installer crash\n\n\n1.3.3  (September 24, 2018)\n---------------------------\n\n- Fix: img overflow in markdown view\n- Enh: Added console command to list and change themes\n- Enh: Improved theme parent lookup performance\n- Enh: Added auto file attachment in `humhub\\modules\\content\\widgets\\richtext\\ProsemirrorRichTextProcessor`\n- Fix: z-index issue with fixed richtext menu\n- Fix #3294: space picker encoding\n- Chng: Prevent `ActiveRecord::save()` call in `humhub\\modules\\file\\components\\FileManager::attach` \n- Fix: Added additional notification validation\n- Fix: Notification previews contains new line\n- Enh: Allow urls in array form in homeUrl configuration\n- Fix: Javascript `humhub.modules.util.object.extend` not working on older Safari version\n- Enh: Enable usage of `humhub\\modules\\content\\widgets\\PermaLink` outside of `humhub.modules.content.Content` components.\n- Fix #3302 smiley are not render into last activity module and email \n- Fix: Space head count includes disabled user\n- Fix: Broken picker image alignment (acs-ferreira)\n- Fix: File handling in upgrade path between 1.0.x and 1.3.x \n- Chng: Updated `humhub-prosemirror-richtext` to v1.0.10\n- Fix: File handling in upgrade path between 1.0.x and 1.3.x \n\n\n1.3.2  (September 4, 2018)\n--------------------------\n\n- Fix #3241: Profile header space count invalid\n- Fix: Disabled Notification E-Mails for installation sample contents\n- Fix: No e-mail summary immediately after installation\n- Enh: Added queuing for search updates of commments\n- Enh: Added queue clear option at Administration - Information\n- Enh: Improved support of languages unsupported Yii2 \n- Enh: Added Amharic language support\n- Enh: Added Finnish language support\n- Enh: Added dashboard warning for admins if cron jobs not working\n- Fix: Queue worker problem with spaces in PHP binary path\n- Fix: Comment buttons overlap editor text\n- Enh: Added windows support for grunt tasks\n- Enh: Added `grunt test-server` and `grunt test`\n- Chng: `humhub\\modules\\content\\models\\Content` now implements `humhub\\modules\\content\\interfaces\\ContentOwner`\n- Fix: Target container not available in `humhub\\modules\\content\\components\\ContentActiveRecord:afterMove()`\n- Chng: `humhub\\modules\\topic\\models\\Topic::attach` now accepts `humhub\\modules\\content\\interfaces\\ContentOwner` instances\n- Fix: Richtext without focusMenu on small devices overlaps previous sibling\n- Enh: Added random default color to `humhub\\modules\\ui\\form\\widgets\\ColorPicker`\n- Chng: `humhub\\modules\\content\\models\\ContentTag:deleteAll()` and `humhub\\modules\\content\\models\\ContentTag:findAll()` now respect the tag type condition by default- Fix: Space admin user remove broken\n- Fix: Space admin user remove broken\n- Fix: Invalid \"Member since\" date in space administration\n- Fix: Suprressed stream entry button not rendered.\n- Fix: Author stream filter not working.\n- Chng: Use of relative urls in richtext files/images\n- Fix: Permalink better handling of deleted content\n- Fix: Activity exception on integrity check\n- Fix: Ensure profile field \"internal name\" contains at least one character\n- Fix: Do not allow user self deletion via admin section\n- Fix: Refactored ActiveQueryContent::contentTag method, added method parameter\n- Fix: Richtext prompt not removed on pjax load\n- Enh: Added `humhub\\modules\\content\\widgets\\richtext\\ProsemirrorRichText::parseOutput` for pre render parsing\n- Enh: Added `humhub.modules.file.getFileUrl` and `humhub.modules.file.filterFileUrl` for file guid based url handling\n- Fix: `humhub\\modules\\space\\modules\\manage\\components\\Controller` only accessible by system admins\n- Enh: Added scheme parameter to Content::getUrl method\n- Enh: Added `ui.richtext.prosemirror.config.link.validate` to intercept link input validation\n- Chng: Updated `humhub.prosemirror` dependency to 1.0.9\n\n\n1.3.1  (August 7, 2018)\n-----------------------\n\n> Warning: Please read the [Update Guide](http://docs.humhub.org/admin-updating-130.html) before updating from 1.2.x!\n\n> Note: A full list of changes is available here: [Changelog](https://github.com/humhub/humhub/blob/v1.3.1/protected/humhub/docs/CHANGELOG.md)\n\n- Fix: Complete table cache flush on profile field update\n- Fix: Improved handling of inconsistent notifications\n- Fix: Vietnamese translation syntax error\n\n\n1.3.0  (August 3, 2018)\n-----------------------\n\n> Warning: Please read the [Update Guide](http://docs.humhub.org/admin-updating-130.html) before updating!\n\n- Enh: Added `PolymorphicRelation::strict` to throw exceptions when accessing invalid polymorphic relations\n- Fix: Mail summaries not correctly triggered by cron\n- Fix: Click to topics lead on streams without topic filter throws javascript error. (https://github.com/humhub/humhub-modules-polls/issues/49)\n- Fix: Existing files may cause NULL pointer exception\n- Fix: Newly created profile fields cannot be updated\n- Enh: Added `AbstractRichTextEditor::layout` in order to change richtext style\n- Enh: Added `block` type RichText for non focus menu style\n\n\n1.3.0-beta.3  (July 30, 2018)\n-----------------------------\n\n- Fix: prevent user serialization for SocialActivity\n- Fix: wrong return value for `Content::move()`\n- Fix: space archive activity wrong originator assignment\n- Fix: suppress \"unable to determine dataType\" error for aborted xhr requests\n- Enh: added `FunctionalTester::loginBySpaceUserGroup()` and `FunctionalTest::assertSpaceAccessStatus()` for ACL testing\n- Fix #2721 delete space button not visible for system admin\n- Enh: added `humhub\\modules\\space\\behaviors\\SpaceModelMembership::canDelete()`\n- Fix #3221: Popover Space title \"&\" to \"&amp;\"\n- Fix invalid translation syntax used in croatian language\n- Enh added highligh.js as ui addition\n- Fix: ui.addition.applyTo with filter ignores first filter index\n- Fix: introduction tour not working\n- Chng: Moved static js dependencies from `static/resources` into `static/js`\n- Fix: Comment edit cancel edit context item not shown\n- Fix  #2700: Prevent GroupManager access to system admin group management\n- Enh: Styled user deletion view\n- Fixed: Space and User Admin Filterbar padding\n- Fix: Source serialization of Notification ActiveJob\n- Enh: Added 'requireSource' & 'requireOriginator' flags in SocialActivities\n\n\n1.3.0-beta.2  (July 18, 2018)\n-----------------------------\n\nPlease read the [Update Guide](http://docs.humhub.org/beta/admin-updating-130.html) before updating!\n\n> If you're using the sources directly from GitHub, you need to build the required assets manually. Please see the chapter [Build production assets](http://docs.humhub.org/dev-environment.html#build-production-assets) for more details.\n\n- Enh: Added CounterSet Widget to handle Space/Profile header statistic counts\n- Fix: UI addition mutation observer interfering with new rich-text mutation logic\n- Fix: ThemeLoader publishes assets on CLI requests\n- Enh: Add possibility to delete an invitation [#2980](https://github.com/humhub/humhub/issues/2980)\n- Enh: Moved search index tasks (add, update & delete) into asynchronous tasks\n- Enh: Added search index rebuild button\n- Fix #3200: wall stream scroll not working after single entry load request\n- Fix added missing required validation of target space for move content feature\n- Enh: Added `humhub.modules.stream.StreamState.firstRequest` in order to determine the initial request\n- Fix #3204: invalid russian translation in module overview\n- Fix #3169: post markdown not stripped in mails and activities\n- Fix #3157: invalid use of relative space target link in MailContentEntry widget \n- Fix force invite not working on space creation\n- Enh: Enable invite all instead of force membership in case force invite checkbox is not selected\n- Fix: prevent MembersAdded activity when using force space membership\n- Enh: added `humhub.modules.ui.picker.Picker.disable()` in order to disable/enable userpicker fields\n- Enh: topic labels now redirect to space stream with active topic filter if clicked outside of space stream\n- Fix: #3123: unbalanced html tags leads to broken comment after load more\n- Fix: #3211: escaped html rendered on space list modal\n- Fix: invalid userpicker translation syntax in czech language\n- Fix: added missing layout-snippet-container class in space and profile layout\n- Fix: move profile content not possible\n- Fix: Stream wall scroll event not detached on pjax call\n- Fix: Error thrown for empty url links in `humhub\\libs\\Markdown` when used in console environment\n- Fix: UserUrlRule double User model import\n- Fix: Skip soft delete validation\n- Fix: Added user dn to ldap attributes on login\n- Enh: Added Twig template engine for usage in modules\n- Enh: Added id data attribute on contentcontainer links\n- Fix: Wrong permission check on force invite check\n- Fix: Space homepage doesn't allow custom pages on first position\n- Enh: Added integrity check for notification originator\n- Enh: Use of new richtext version 1.0.4 see https://github.com/humhub/humhub-prosemirror/blob/master/docs/CHANGELOG.md \n- Enh: Added max-height for post/comment/edit richtext\n- Enh: Richtext style enhancements (dashed selection)\n- Fix: Upload preview for comments not cleared after submit\n- Fix: Profile/Space image upload not working after full page reloads\n- Fix: File upload errors not handled by richtext\n- Enh: Removed built and compressed assets from GitHub sources\n\n\n1.3.0-beta.1  (July 4, 2018)\n----------------------------\n\nPlease read the [Update Guide](http://docs.humhub.org/beta/admin-updating-130.html) before updating!\n\n- Enh: Added file search indexing\n- Enh: Updated composer.json (acs-ferreira)\n- Chg: Switched from Composer FXP plugin to Asset Packagist repository\n- Enh: Committed composer.lock\n- Enh: Refactored ContentContainer Controller\n- Chg: Added ContentContainer ModuleManager, instead of individual handling (Space/User)\n- Fix: Rebind LDAP connection after successful login with administrative user\n- Enh: Make utf8_mb4 as default database charset\n- Enh: Moved queueing into own submodule and updated to yii2/queue extension\n- Enh: Added user soft deletion without contributions\n- Enh: Moved user deletion into asynchronous tasks\n- Enh: Improved user grid view design (Administration, User Approval, Space Members)\n- Enh: Moved SyncUsers (LDAP) and session table cleanup handling into ActiveJob\n- Enh: Added Push live module driver using Redis and Node.JS\n- Enh: Added tooltip option to space Image widget.\n- Enh: Added `humhub.client.json` javascript util for directly receiving json instead of a Response object.\n- Enh: Added `humhub.file.Upload.run()` for triggering the upload of the Upload widget.\n- Chg: Moved `humhub\\widgets\\RichText` to `humhub\\modules\\content\\widgets\\richtext\\RichText`\n- Chg: Moved `humhub\\widgets\\RichTextField` to `humhub\\modules\\content\\widgets\\richtext\\RichTextField`\n- Enh: Added rich text abstraction by means of configuration parameter `richText`\n- Enh: Added `humhub\\modules\\content\\widgets\\richtext\\ProsemirrorRichText` as default rich text.\n- Enh: Added `humhub.oembed` js module for loading oembed content\n- Enh: Added `RichText::preview()` helper for minimal rich text output\n- Enh: Added `RichText::output()` helper for rendering the richtext\n- Enh: Added `RichText::postProcess()` for post-processing rich text content (mentionings/oembed etc.)\n- Enh: Added `content` module setting `Module::$maxOembeds` for setting the maximim amount of oembeds in a richtext.\n- Chg: Deprecate `humhub\\modules\\user\\models\\Mentioning::parse()` and in favor of `humhub\\modules\\content\\widgets\\richtext\\RichText::postProcess()`\n- Enh: Added `humhub.user.getLocale()` javascript helper for checking the user locale on client side\n- Enh: Added `humhub\\widgets\\InputWidget::getValue()` for determining the field value\n- Enh: Added `humhub.client.json` for directly receiving the json result instead of a response wrapper object\n- Enh: Added option ContentContainerController to restrict container type\n- Enh: Ensure valid permalinks when URL rewriting is enabled\n- Fix: Birthday field refactoring (@danielkesselberg)\n- Enh #2811: Added option to resend invites (@danielkesselberg)\n- Enh: Added current database name to the \"Administration -> Information -> Database\" (githubjeka)\n- Chg: Depreciated Instagram OAuthClient & removed (@Felli)\n- Enh: Added random default space color on creation\n- Enh: Updated to Yii 2.0.14.2\n- Chg: Reduced email length to 150 chars to support utf8mb4 charset \n- Enh: Added UI core module to group UI components\n- Enh: Added new IconPicker form field\n- Chg: Moved form widgets from `humhub\\widgets` to `humhub\\modules\\ui\\form\\widgets` (added compatibility layer)\n- Enh: Added surpressed e-mail addresses configuration variable\n- Chg: `Create a new one.` to `Forgot your password?` (@Felli)\n- Enh/Fix: Cache Handling + File Preview Fix (@Felli)\n- Enh: BaseSettingsManager allow to bunch delete settings with prefix\n- Chg: Migrated view and theme components to  `humhub\\modules\\ui\\view` package\n- Enh: Improved Theme component\n- Enh: Added notification for MembershipSpace by role member changes (@githubjeka)\n- Enh: Added Theme cascading to reduce view overwrites\n- Enh: Automatic theme stylesheet loading including parent theme stylesheets\n- Chg: Moved OpenSans font to core assets\n- Chg: Renamed information cronjob section to Background jobs and added queue status\n- Chg: MySQL queue is now the default job queuing driver\n- Enh: Add steps to using Facebook Oauth (@Felli)\n- Enh: Added css `footer-nav` class for footer navigation\n- Enh: Added Pin/Archived/Public wallentry icons\n- Enh: Added move content behavior by means of a `humhub\\modules\\content\\models\\Movable` interface\n- Enh: Added sortOrder utility `humhub\\libs\\Sort` \n- Enh: Added `humhub\\modules\\content\\helpers\\ContentContainerHelper` util with `ContentContainerHelper::getCurrent()`\n- Enh: Added `humhub\\modules\\stream\\helpers\\StreamHelper` util with `StreamHelper::createUrl()`\n- Chg: Shifted activity stream logic to `humhub\\modules\\activity\\actions\\ActivityStreamAction` and `humhub\\modules\\activity\\controllers\\StreamController`\n- Chg: Added activity stream action `humhub\\modules\\activity\\actions\\ActivityStreamAction`\n- Enh: Added `humhub\\modules\\stream\\models\\WallStreamQuery` class used for wall streams e.g. Space content stream\n- Enh: Added `ui` core module\n- Enh: Added abstract ui filters used for dynamic/extendable filter views\n- Chg: New Stream and Stream Filter API\n- Enh: Added `topic` content filter concept with stream integration\n\n\n1.2.8 (July 3, 2018)\n--------------------\n\n- Enh: Added user email to javascript user config\n- Fix: Module Assets are not republished after module update\n- Enh: Added `humhub\\components\\ModuleManager::EVENT_BEFORE_MODULE_ENABLE` and `humhub\\components\\ModuleManager::EVENT_AFTER_MODULE_ENABLE` events\n- Enh: Added `humhub\\components\\ModuleManager::EVENT_BEFORE_MODULE_DISABLE` and `humhub\\components\\ModuleManager::EVENT_AFTER_MODULE_DISABLE` events\n- Fix: Improved ZendLucence driver error handling\n- Fix #3148: Upload space picture dose not use file size setting in HumHub (acs-ferreira)\n- Fix: Incorrect last visit date shown in space admin pending members view (acs-ferreira)\n- Enh: Allow enable/disable modules by CLI\n- Enh: Added UTC only timezone in server timezone dropdown\n- Fix #3176: Integrity checker removes modules default state\n- Enh: Updated translations\n\n\n1.2.7 (May 23, 2018)\n--------------------\n\n- Fixed empty modal dialog response issue\n- Fix #3146 invalid bootstrap.min.css link in installer\n- Enh: Load `humhub\\modules\\content\\models\\ContentTagAddition` model in `humhub\\modules\\content\\models\\ContentTag::load()`\n- Enh: Auto save `humhub\\modules\\content\\models\\ContentTagAddition` within `humhub\\modules\\content\\models\\ContentTag::afterSave()`\n- Enh: Added `humhub\\modules\\content\\components\\ContentActiveRecord::isOwner()` to check the ownership of a content\n- Enh: Make directory access configurable by `humhub\\modules\\directory\\Module::active`, `humhub\\modules\\directory\\Module::guestAccess`\n- Enh: Added `humhub\\modules\\directory\\permissions\\AccessDirectory` permission for group level directory access\n- Fixed `User `namespace issue in `humhub\\modules\\user\\components\\BaseAccountController`\n- Chg: Added footer menu to account menu on small display resolutions\n\n\n1.2.6  (May 14, 2018)\n-----------------------\n\nWhen you are using a custom theme, you may need to add the newly introduced footer navigation to your overwritten view files.\nYou can find a full list of the view changes here: https://github.com/humhub/humhub/commit/a1815fb61d83619ce9ca40166800b8c5dcb9d539\n\n- Fix #3108: Fixed cronjob examples with leading zero (acs-ferreira)\n- Fix: Memory leak in activity mail summary processor cron\n- Fix: With enabled guest mode BaseAccountController does not redirect to login page\n- Enh: Added footer navigation - FooterMenu widget\n- Enh: Added HForm class events EVENT_AFTER_INIT and EVENT_BEFORE_RENDER\n- Enh: Updated translations\n\n\n1.2.5  (April 11, 2018)\n-----------------------\n\nWhen you customized or used the createCVS method of PendingRegistrationsController please \nmigrate your code to SpreadsheetExport. PHPOffice is replaced by PHPSpreadsheet.\n\n- Enh: Added BaseURL setting protocol scheme validation\n- Fix #2849: ActiveQueryContent doesn't find public profile content when guest access is enabled\n- Enh: Fixed username alignment in comments (@githubjeka)\n- Enh: More readable WallEntryAddon links (@githubjeka)\n- Fix: Documentation grammar fixes (@Felli)\n- Fix: Let's Encrypt ACME Error (@Felli)\n- Fix: Typo in password recovery (@acs-ferreira)\n- Fix: Profile posts of friends not appears on dashboard\n- Fix #2745: Yii2 2.0.13 will break the admin interface\n- Enh: Allow auto detection of response dataType\n- Fix #2947: Allow json success result on modalSubmit\n- Enh: Disabled automatic content following on likes by default\n- Enh: Improved IntegrityChecker memory usage\n- Chg: `PendingRegistrationsController->createCVS` removed\n- Fix: Stream image preview size not changeable\n- Fix: Increased maximum e-mail address length from 45 characters to 254\n- Fix: Group member search by firstname/lastname\n- Enh: Added Slovene language\n- Enh: Added Croatian language\n- Fix: User approval, lastname field is shown twice to admins\n- Fix: User model namespace issue in `humhub/modules/user/components/UrlRule`\n- Enh: Raised notification over view pagination size to 20\n- Enh: Added `humhub/modules/space/models/Module::flushCache()` and `humhub/modules/space/behaviours/SpaceModelModules::flushCache()` in order to flush the space module cache\n- Enh: Added further `FunctionalTester` utilities\n- Enh: Added Norwegian Nynorsk language\n- Fix #3009: Change the Space URL raises 404\n\n1.2.4  (December 13, 2017)\n--------------------------\n\n- Enh: Translation updates\n- Fix: Added `ManageSpaces` and SystemAdmin check to `UserGroupAccessValidator`.\n- Fix: Only include content with `stream_channel = default` into spacechooser update count.\n- Enh: Add LinkedIn auth to login. (Felli)\n- Enh: Add Twitter auth to login. (Felli)\n- Enh: Add Instagram auth to login. (Felli)\n- Enh: Add Twitter, LinkedIn & Instagram auth to docs (Felli)\n- Enh: Make lucene search term limit configurable via `ZendLuceneSearch::$searchItemLimit`.\n- Fix: Empty stream message between friends\n- Enh: Improve composer-asset-plugin config (cebe)\n- Enh: Added a link to the permalink from the ago text (benklop)\n- Enh: Added directory group description (githubjeka)\n- Enh: Added configuration option to include user profile posts in dashboard without following\n- Fix: User profile sidebar disappered\n- Fix: Like notification for comments not working\n- Fix: Add example users to default Users group\n- Fix #2851: getting model attribute value using Html::getAttributeValue()\n- Fix #2844: Directory member search broken on page 2\n- Fix #2702: Disable content search for guest users due to space visibility\n- Fix #2806: Register process broken on some environments (Felli)\n\n1.2.3  (October 23, 2017)\n-------------------------\n\nImportant note for LDAP users: There is a new setting \"ID Attribute\" which should be set to clearly identify users.\nImportant note for Git/Composer installations: http://www.yiiframework.com/news/148/important-note-about-bower-and-the-asset-plugin/\n\n- Fix: Readonly markdown field issue.\n- Enh: Fixed registration approval/denial mails and made their default value configurable.\n- Enh: Updated primary auth client interface for more flexibility\n- Enh: Added LDAP ID attribute to improve user mapping\n- Enh: Option to disable e-mail address requirement in User model\n- Fix: Overwrite of static image in theme + added documentation section\n- Fix: Account Controller exception when user is not logged in\n- Fix: Exception on notification overview page when not logged in\n- Enh: Added possibility to sort groups in directory\n- Enh: Removed LDAP UserFilter/LoginFilter length restriction\n- Fix: UTC timezone issue with `TimeZoneDropdownAddition` and added `$includeUTC` flag to `TimezoneHelper::generateList()`\n- Fix: ControllerAccess json rule\n- Enh: added `closable = false` as default `ModalDialog` widget setting\n- Fix: trigger richtext `clear` when submitting comment.\n- Fix: missing return in `FileContent::beforeValidate`\n- Fix: Mentioning search with `-` not working\n- Fix #2730: Mentioning search with `-` not working\n- Fix: File search with suffix not working\n- Enh: Added SearchAttributesEvent to improve content addon indexing (comment/file)\n- Fix: Do not automatically force modal close on stream edit\n- Enh: Added DurationPickerWidget\n- Enh: Allow `ContentActiveRecord($contentContainer, $config)` initialization\n- Fix: `WallEntry::addControl` with simple array options\n- Enh: Added `$scheme` Argument to `DownloadFileHandler::getUrl()`\n- Fix: Clear UserModule cache after save/delete\n- Fix: Prevent Integrity check failures.\n- Enh: Added default open content as modal action\n- Enh: Added possibility to add attachments in Notification MailTarget\n- Enh: Added surpressSendToOriginator Notification option\n- Chg: #2745 Removed `GroupPermission::instance()` for yii 2.0.13 compatibility\n- Enh: Added `MobileTargetProvider` abstraction for mobile push notifications\n- Enh: Added `humhub:notification:updateCount` js event\n- Enh: Show space administrators and moderators in member snippet\n- Fix: `humhub\\modules\\live\\Module::getLegitimateContentContainerIds` behaviour with friendship module enabled\n- Enh: Added `BaseNotification:priority` to mark high priority notifications\n- Enh: Added new `User::isVisible` and `ActiveQueryUser::visible` methods\n- Fix: MarkdownEditor cursor position after inserting file/\n- Fix: Make sure own profile content is always visible to user\n- Fix #2501: Do not try to embed Youtube unauthorized videos (acs-ferreira)\n- Fix #2613: Wrong username encoding with pretty url (githubjeka)\n- Fix #2791, #2749: Force private join policy on private spaces + non changeable post visibility\n- Fix wrong Comment date issue in notification mails\n- Enh: Added `data-file-*` attributes to download links, for beeing able to intercept file downloads\n- Enh: Added `apple-mobile-web-app-*` and `mobile-web-app-capable` meta tags to `head.php`\n- Fix #2783: E-Mail notification link broken when guest mode is enabled (Buliwyfa)\n- Enh: Added `ContentActiveRecord::silentContentCreation` for disabling ContentCreated Activity/Notification on ContentActiveRecord level\n- Enh: Now the `NewContent` live event is always fired with `sourceClass` and `sourceId` information and a `silent` flag for silent content creations\n\n1.2.2  (August 2, 2017)\n--------------------------------\n- Enh: Allow returning class names beside BasePermission instances in `Module::getPermissions()`\n- Enh: Increase profile image size to 800px.\n- Fix #2644 overlapping popup preview image after increasing preview image size (hagalaz)\n- Fix: Button widget child class static instantiation not working \n- Fix: ModalButton instantiation and added ModalButton::close()\n- Fix: Respect `max_file_uploads` setting in UploadInput widget\n- Enh: Include `kartik-v/yii2-widgets`\n- Enh: Added `getAccessRules()` to `humhub/components/Controller`\n- Fix: AccessControl action restriction bug\n- Fix: `ModuleAutoLoader` exceptions not logged\n- Fix: `I18N` formatter user timezone not set\n- Enh: Automatically set space default visibility in `Content::setContainer()`\n- Fix: Fixed ContentContainerSettingManager caching issue if space/user id are equal\n- Enh: Use of select2 dropdown for time zone selections\n- Fix: Bypass AccessControl behavior in installer\n- Fix: Use of JS-Widget internal event object instead of node\n- Enh: Added `Formatter::getDateTimePattern()` and `Formatter::isShowMeridiem()`\n- Fix: Set formatter locale in I18N when changing locale\n- Enh: Added `$hideInStream` flag for upload component/action for changing `show_in_stream` file flag\n- Enh: Added `$showInStream` flag for `FilePreview` widget to only include files with certain `show_in_stream` flag\n- Enh: Added `FileManager::findStreamFiles()` for querying files with either given `show_in_stream = 1` or `show_in_stream = 0` flag.\n- Enh: Added `humhub\\widgets\\Tabs` and `humhub\\widgets\\SettingsTabs` with view type tab support\n- Enh: Added new `MarkdownField` input widget which as replacement of deprecated `MarkdownEditor`\n- Fix: Fixed markdown file upload pjax issue\n- Fix: Removed `display: table-cell` from markdown image css to enable inline images\n- Enh: Added `humhub/widgts/Button::userPickerSelfSelect()` for creating self select button for userpickers.\n- Enh: Added `humhub/widgts/Link::withAction()` for creating action based links\n- Enh: Added `SelectTimeZoneDropdown` widget\n- Enh: Added `Modal::closable` in order to respect `backdrop` and `keyboard` data setting of `Modal` and `ModalDialog` widget\n- Enh: Avoid cutting oembed entry in stream if it's the first part of a richtext \n- Enh: Added `humhub/widgets/TimePicker` widget\n- Enh: Added `DbDateValidator::timeZone` for setting input time zone\n- Enh: Additional WallEntry settings: `$jsWidget`, `$addonOptions`, `$controlsOptions`, `$renderControls`, `$renderAddons`\n- Enh: Added possibility to overwrite WallEntry settings in `humhub/stream/actions/Stream::renderEntry()`\n- Enh: Added `ShowFiles::preview` and `ShowFiles::active` flag\n- Enh: Allow `$adminOnly` for User base ContentContainerController Controller\n- Enh: Added `ContentContainerActiveRecord::getDefaultContentVisibility()` and `User::getDefaultContentVisibility()`\n- Enh: Added automatic Notification Class loading by convention. No need to overwrite `Module::getNotifications()`\n- Enh: Added `ContentActiveRecord::getIcon()` for adding an badge icon to WallEntry content type badge\n- Enh: Added `ContentActiveRecord::getLabels()` for managing WallEntry labels (badges)\n- Enh: Added `Label` widget for creating sortable labels\n- Fix: Reset modal dialog size + add `size` option\n- Enh: Added `size` option `ui.modal.Modal.set()`\n- Enh: Use `ContentActiveRecord::getUrl()` for content perma links (if given)\n- Enh: Added `ContentTag` concept for creating content categories/filter on module level\n- Fix: Mentioning keeps running even if previous input result was empty\n- Enh: Darkened comment links for better readability\n- Fix #2582 Userfollow activity click action not working\n- Enh: Make space membership activities clickable\n- Chg: Removed `yii2-codeception` dependency\n- Chg: Added `phpoffice/phpexcel` dependency\n- Enh: Added `JsWidget::fadeIn` for smooth widget initialization\n- Enh: Enhanced `AccessControl` filter with `ControllerAccess` layer for better testability and flexibility\n- Enh: Added `Pending Registrations` admin view with `csv`, `xlsx` support.\n\n1.2.1 (June 17, 2017)\n--------------------------------\n- Fix: Invite error in french language\n- Fix #2518: ActivityStreamWidget::EVENT_INIT is missed (githubjeka)\n- Enh: Fixed accessibility issues in Dashboard/Login/Profile\n- Fix: module beforeInit and afterInit event\n- Enh: Added Registraion::EVENT_AFTER_REGISTRATION UserEvent\n- Enh: Added grunt `migrate-up` and `migrate-create` task\n- Enh: Added profile field type `CheckboxList`\n- Fix: Fixed `ui.addition` `MutationObserver`, only apply additions to inserted nodes.\n- Enh: Changed invite mail subject text\n- Fix #2571: last_login not set after registration direct login \n- Enh: Always trigger dom widget events for widget `fire` until `triggerDom` is set to false\n- Enh: Added `richtextPaste` event\n- Enh: On search index rebuilding - use batch queries \n- Fix: `ActiveQueryContent:readable()` for guNest users missing join\n- Enh: Added `ContentActiveRecord:managePermission` for changing the default write permission of ContentActiveRecord classes\n- Enh: Moved all default `WallEntryControls` to `WallEntry:getContextMenu()` widget.\n- Fix: Connect google OAuth under `Profile Settings  -> Connected Accounts` throws invalid redirect uri.\n- Fix: Invite Users does not respect ManageUsers/ManageGroups permission\n- Fix: Mail summaries sent in incorrect language\n- Fix: Send button text on request space membership dialog\n- Fix #2555: Friendship notification category visible even if friendship system deactivated\n- Enh: Don't auto focus space chooser search on small devices\n- Fix #2612: Single list item hides markers\n- Fix #2558: No notification for user profile posts send\n- Fixed #2560: Markdown profile field editable flag not working\n- Fix: Hide also header (space, profile) counts when following system is disabled\n- Fix: Perma link to space contents broken when space homepage was changed\n- Fix: Properly sort language and country select by users locale\n- Enh: Allow search in country profile field dropdown\n- Fix: js action api empty data attribute\n- Enh: Added button helper widgets `<?= Button::primary('myButton')->action('myJsAction')?>`\n- Enh: Enhanced ContentActiveRecord instantiation `$model = new MyContent($space, Content::VISIBILITY_PRIVATE)`\n- Fix #2625 Pjax problem with local links to files within stream\n- Enh: Use of `target=\"_blank\"` for stream links\n- Fix #2594 Bug: Url with unicode in stream markdown\n- Fix: Notification grouping not working\n- Fix: Show more suppression entries with sort order update + equal update_at not working.\n- Fix #2627: Incorrect language used in group admin user approval e-mail\n- Fix #2631: Module configuration link shown for disabled modules\n- Fix #2785 #2172: Added iconv PHP extension to the requirement check (leuprechtroman)\n\n\n1.2.0 (April 16, 2017)\n--------------------------------\n- Fix: SVG file uploads broken (mime type: image/svg+xml)\n- Fix: Public badge missing after create post\n- Fix: Mentioning notificaiton in user not working\n- Fix: Catch yii\\db\\Expression error for updated_at in wallentry\n- Enh: Added 'client.back' js action\n- Fix #2219: Overlapping summary mail content\n- Fix: Wall entry layout link/text overflow\n- Fix: Stream - Do not surpress if only particual contents are displayed\n- Fix: GlobalModal extends base Modal widget and GlobalModal::$backdrop is false by default (githubjeka)\n- Fix: Search StreamEntry options delete/editModal\n- Fix: Tour popover close behaviour\n- Fix: Incorrect permissions in space with guest mode\n\n1.2.0-beta.4 (March 28, 2017)\n--------------------------------\n- Fix: Notification count '0' visible after click on notification link\n- Fix: Default space permissions not adopted\n- Fix: Use of $permission->getId() instead of $permission->id in PermissionManager (allow dynamic permission ids)\n- Fix #2393: Markdown h4,h5,h6 broken\n- Fix #2389: calculate max upload file size on PHP 7.1 (githubjeka)\n- Fix: LDAP - Lost authclient ldap class configuration on user update\n- Fix #2400: Space ownership transfer form shows wrong users\n- Fix: Enable user approval without available registration groups or default group\n- Fix: Activate 'User' navigation in Admin Menu \"Administration -> User -> Settings\"\n- Enh: Improved administration user deletion view\n- Enh: Added 'containerLink' HTML Helper method\n- Enh: WallEntry layout layout improvements\n- Fix: Default user & space module configuration lost after foreign key migration\n- Fix: Respect pinned post when inserting a a new stream entry\n- Fix: Show comments in modal not working\n- Fix: #2374 Comment input not focused on comment link click \n- Enh: Toggle comment box\n- Enh: Added global copyToClipboard\n- Enh: Added \"weekly\" mail summary interval\n- Fix: Invalid temp.css file\n- Fix: Default stream sort setting not applied\n- Enh: Show different login message, when registration is disabled\n- Fix: Norwegian translation code for Yii messages\n- Fix: Also allow comment editing by admins if content 'adminCanEditAllContent' is enabled\n- Enh: Added Make Private/ Make Public link to wall entry controls\n- Enh #2392: Added Latvian language\n- Fix: Hide image file info setting\n- Fix #2297: Failed to open stream: No such file or directory when attaching files in UploadAction\n\n1.2.0-beta.3 (March 20, 2017)\n--------------------------------\n- Enh: Added Grunt tasks `build-assets`, `build-theme`, `build-search`\n- Fix: Error when saving account setting permission.\n- Fix: #2296 stream scroll issue for mobile webkit browsers (martinbeek)\n- Fix: Added unknown upload error if server cancels upload (e.g in case of a post_max_size violation issue)\n- Enh: Added warning if php max upload/post is less than the humhub setting.\n- Enh: Added mp4/ogg blueimp support in post gallery\n- Enh: Added global (default) notification space settings\n- Enh: #2359 Use Jplayer playlist feature for post mp3\n- Enh: added js module 'ui.view' for view state and utils - Changed 'ui.state.getState' to 'ui.view.getState'\n- Enh: added view helper as getHeight/Width and isSmall/Medium/Normal (width) to 'ui.view' js module\n- Fix: removed popover image preview from mobile\n- Fix: removed target-densitydpi not supported warning\n- Enh: Added Stream::renderEntry for rendering Streamentries from ContentActiveRecord\n- Fix: Wallentry menu not working in search view\n- Fix: Double notifications when mentioning in comments\n- Enh: Raised collapse value for posts to full embeded youtube video height\n- Fix: Fixed oembed post edit\n- Enh: Included select2-humhub theme into the new theming\n- Enh: Added select2 dropdown for language selection in account and admin settings\n- Enh: Added data-ui-select2 addition for simple select2 dropdowns\n- Fix: Don't apply js additions if there was no matching element\n- Fix: #2336 use of invalid message key in comment notification (dutch)\n- Enh: Disable user and space follow by means of module settings\n- Fix: Setting of submitName and upload input name in file upload JsWidget\n- Fix: Rendering of UploadButton without given id\n- Enh: Added preventPopover and popoverPosition options to file preview\n- Enh: Added uploadSingle option for uploads with only one file\n- Fix: Missing margin of wall-entry-controls in comments\n- Enh: Added alignHeight setting to js loader module\n- Enh: Allow Response as arguments for modal.setDialog\n- Enh: Enable modal loading events with dataType json\n- Enh: Allow direct class export instead of module export in JS Modules e.g. module.export = MyClass\n- Enh: Added xhr to client response instances\n- Enh: Added response.header for receiving response header from xhr\n- Enh: Added post action to client module for data-action-click=\"client.post\"\n- Fix: Try using options url as fallback in client calls if the action instance does not provide an url. e.g. client.post(evt, {url:...}\n- Enh: Enable setting ajax dataType from trigger e.g. data-action-click=\"modal.load\" data-action-data-type=\"json\"\n- Enh: Added action event.data for receiving action specific data options\n- Enh: Added default run for JsWidget\n- Enh: Added File::findByRecord for searching all attached files of a given ActiveRecord\n- Fix: Only set js view state for non full page load and pjax\n- Fix: Small gap on TopNav mouse hover (acs-ferreira)\n- Enh: Humand readable file sizes. (acs-ferreira)\n- Enh: Changed default $minInput of SpacePickerField to 2. (githubjeka)\n- Fix: Error when saving \"Administration -> Settings -> General\" without default space. (githubjeka)\n- Fix: #826: Notification status not updated right after like.\n- Fix: #2316: Reinvitation by email not working\n- Fix: #2314: Html helper namespace issue in Markdown.php class\n- Fix: #2302: Hide file info for images on wall settings not applied.\n- Fix: German translation error in Admin -> Users -> Groups -> Members -> Add Member UserPicker.\n- Fix: German translation \"Notify Users\" placeholder too long.\n- Fix: Admin group add members placeholder.\n- Fix: Stream entry root not removed for content delte (poll,etc)\n- Enh: Easier save feedback by using 'module.log.success('saved')'\n- Fix: Admin group add members placeholder.\n- Enh: Easier save feedback by using module.log.success('saved');\n- Fix: Set jsWidget id when autogenerated\n- Fix: Use of Html::activeLabel instead of $form->label in RichtextField\n- Enh: Added pjax redirect capability to js client\n- Fix: Show default error in status bar if invalid message object was provided\n- Fix #2304: Users not loaded in user selection fields.\n- Enh: Added User module 'displayNameCallback' attribute for custom display name formats\n- Enh: Added Clipboard.js and Permalink \"Copy to clipboard\" link\n- Enh: Validate minimum PHP version in Console Application\n- Enh: Added optional ActiveRecordContent::canEdit() method for custom ACLs\n- Fix: Better error handling/logging on corrupt GD Image files\n- Fix #2288: Pjax breaks OAuth2 ReturnUrl\n- Fix: Incorrect First name & Last name message key (githubjeka)\n- Fix: Do not store complete comments with search index (helnokaly)\n- Fix #2319: Run console application before installation\n- Fix: Directory Knob statistics on included modules (e.g. Enterprise Edition)\n- Enh: Added widget to display user profile image\n- Enh: Directory view templates cleanups\n- Fix: All LDAP Users have been disabled and not reenabled by hourly cronjob if ldap server not reachable.\n- Enh: Cleanup authentication layout file \n- Fix: Console image converter memory limit allocation\n- Enh: Added new controller init event\n- Enh: Made admin base controller method \"getAccessRules()\" non static\n- Enh: Created new ImageController for user image and banner handling\n- Enh: Decreased OEmbed url max length 180chars (acs-ferreira)\n- Enh: Added APCu Support\n- Enh: Added ContentContainer integrity check (Daha62)\n- Fix #2331: Bug image load on PHP 7.1 with dynamic memory alloc (githubjeka)\n- Fix #2367: `ImageConverter::allocateMemory` uses common units(MegaBates) of memory (githubjeka)\n- Fix: #2369: typo issue (Felli)\n- Fix: Better notification compatiblity - mail views and enabled WebNotificationTarget\n- Fix #2312: Pinned post appears twice on stream \n- Enh: Added option to show/hide deactivated user content in stream\n- Enh: Allow any url route as homepage by homeUrl array application parameter\n- Fix #2255: Added missing Social Account Settings menu\n- Fix: Added missing file download http caching\n- Enh: Added console email test command\n- Enh: Added stream module defaultStreamSuppressQueryIgnore to ease overwrites\n- Enh: Added 'archived' badge to archived spaces in directory\n\n1.2.0-beta.2 (February 24, 2017)\n--------------------------------\n- Fix: TimeAgo locale not loaded in production mode, added AppDynamicAsset (luke-)\n- Enh: Translation message rebuild and auto translated duplicates (luke-)\n- Enh: Combined all directory translations into base message category (luke-)\n- Enh: Added logging table cleanup job (luke-)\n- Enh: Added new version check as ActiveJob (luke-)\n- Enh: Moved user configuration params 'minUsernameLength' + 'adminCanChangeProfileImages' to user module class (luke-)\n- Enh: Added .editorconfig code style configuration file (luke-)\n- Enh: Added 'show_in_stream' column in file table to hide output in wall entries (luke-)\n- Enh: Added 'renderGalleryLink' link method to PreviewImage converter (luke-)\n- Fix: Search view links not working (buddh4)\n- Fix: Markdown in comment layout issue (buddh4)\n- Enh: humhub.ui.showMore module for cutting post text and comments (buddh4)\n- Fix: Javascript issues with guest users, removed initialitation of some modules for guest user (buddh4)\n- Fix: Mutliple use of same emoji in richtext.\n- Enh: Use of Yiis new afterRun for humhub Widgets.\n- Fix: Word break issue in markdown posts.\n- Fix: Richtext with emoji only on post edit where ignored.\n- Enh: Added data-action-confirm for confirming actions.\n- Fix: File StorageManager setContent method broken\n- Enh: Added FileHelper methods createLink & getContentContainer\n- Enh: Javascript HumHub Client - better handle ajax redirects\n- Enh: TopMenu / TopMenuRightStack hide content when user is not logged in without guest mode\n- Enh: Added showUserName option in AccountTopMenu widget\n- Enh: Added isGuestAccessEnabled method in User component\n- Enh: Added flash variable (executeJavascript)to execute js on the next page load\n- Enh: Added possibility to create own file handlers (edit, create, import, export)\n- Enh: Added data-action-process to handle modal processes\n- Enh: Added upload file event (humhub:file:created)\n- Enh: Added custom file handler positions\n- Enh: Moved UploadAction::getFileResponse method to FileHelper::getFileInfos\n- Enh: Added JS context menu to ui.additions module\n- Enh: Enhanced ContentContainer Module enable/disable\n- Enh: Added client.reload for pjax and non pjax page reloads\n- Enh: Added ContentContainerAsset to AppAsset\n- Enh: Added editModal for editing wallentries within a modal instead of inline\n- Fix: Oembed not rendered in richtext.\n- Enh: Smarter show more logic - Only cut text if it overlaps the max height by a specific span.\n- Enh: Added getContextMenu for defining wallentry context options. \n- Enh: Added editMode to WallEntry for allowing modal based edits.\n- Fix: file-preview text overflow in HumHub theme.\n- Fix #2280: Meta data (rotation) not respected for camera images (ImageMagick)\n- Fix: Activity stream rendering issue on page unload.\n- Enh: Optimized stream entry fade animation.\n- Enh: Added $maxAttachedFiles to content module to restrict the uploaded file count of comments and posts\n- Fix: Hide notification count badge if notification count is 0\n- Fix: Only flush js config if not empty\n- Enh: Use of theme variables in mail all views\n- Fix: Submit comment with only files leads to Internal Server Error\n- Fix: Prevent spacechooser message count update on own content creation\n- Fix: Abort overlapping space chooser search requests\n- Fix: Problem in notification group_count with only one involved user\n- Fix #2257: Set module as default in space/user broken\n\n1.2.0-beta.1 (February 08, 2017)\n--------------------------------\n- Enh: Moved HumHub browser icons to HumHub theme (luke-)\n- Enh: Moved support css/js for older IE version into own AssetBundles (luke-)\n- Enh: Moved CSRF Tag output to View renderHeader (luke-)\n- Enh: Moved LayoutAddons widget from main layout to View endBody() method (luke-)\n- Enh: Added PJax page loading (luke-)\n- Enh: Refactored File module (luke-)\n- Enh: Added yii2-imagine Extension (luke-)\n- Enh: Use of blueimp image gallery (buddha)\n- Enh: JS module system with build in logging/text/config features (buddha)\n- Enh: JS core api under humhub namespace (buddha)\n- Enh: Use of compressed assets (js,css) in production mode (buddha)\n- Enh: Enhanced testability (buddha)\n- Enh: Added administrative backend group permissions (buddha)\n- Enh: Enhanced AccessControl filter with permission rules. (buddha)\n- Enh: Splitted less files to facilitate theming. (buddha)\n- Enh: Added user status bar for user feedback (buddha)\n- Enh: Better UserFeedack (buttons/messages) / Replacement of old DataSaved widget (buddha)\n- Enh: Overwrite default permission settings (buddha)\n- Enh: SpaceChooser rewrite with following spaces and remote search (buddha)\n- Enh: Modal widget rewrite.\n- Enh: Enhanced Archived Space handling (buddha)\n- Enh: Upload widget rewrite. (buddha)\n- Enh: Picker widgets rewrite (UserPicker/SpacePicker/MultiselectDropdown). (buddha)\n- Enh: Richtext widget rewrite. (buddha)\n- Enh: Removed almost all inline JS blocks. (buddha)\n- Enh: StreamAction now uses flexible StreamQuery Model. (buddha)\n- Enh: Post markdown support. (buddha)\n- Enh: Added 'live' module for push/pull messages to the frontend (luke-)\n- Enh: Added asynchronous job queues (luke-)\n- Enh: Changed minimum PHP version to 5.6\n- Enh: Added possibility of global content (content w/o contentcontainer) (luke)\n- Enh: Added new profile field type: checkbox (luke-)\n- Enh: Refactored mail summaries activity module (luke-)\n- Enh: Moved all static files (js, fonts, css) into own static folder @web-static (luke-)\n", "<?php\n\n/**\n * @link https://www.humhub.org/\n * @copyright Copyright (c) 2018 HumHub GmbH & Co. KG\n * @license https://www.humhub.com/licences\n */\n\nnamespace humhub\\components\\behaviors;\n\nuse humhub\\components\\access\\ControllerAccess;\nuse Yii;\nuse yii\\base\\ActionFilter;\nuse yii\\web\\HttpException;\n\n/**\n * Handles the AccessControl for a Controller.\n *\n * Controller level AccessRules can be provided by either setting the [[rules]] array,\n * or by implementing a `getAccessRules()` function within the controller itself (prefered).\n *\n * **Examples:**\n *\n * Disable guest access for all controller actions:\n *\n * ```php\n * public function getAccessRules()\n * {\n *     return [\n *          ['login']\n *     ];\n * }\n * ```\n *\n * Disable guest access for specific controller actions:\n *\n * ```php\n * public function getAccessRules()\n * {\n *     return [\n *          ['login' => ['action1', 'action2']]\n *     ];\n * }\n * ```\n *\n * All users have to be logged in + additional permission check for 'action1' and 'action2':\n *\n * ```php\n * public function getAccessRules()\n * {\n *     return [\n *          ['login'],\n *          ['permission' => MyPermission::class, 'actions' => ['action1', 'action2']]\n *     ];\n * }\n * ```\n *\n * Custom inline validator for action 'action1':\n *\n * ```php\n * public function getAccessRules()\n * {\n *     return [\n *          ['validateMyCustomRule', 'someParameter' => 'someValue', 'actions' => ['action1']]\n *     ];\n * }\n *\n * public function validateMyCustomRule($rule, $access)\n * {\n *     if($rule['someParameter'] !== 'someValue') {\n *          $access->code = 401;\n *          $access->reason = 'Not authorized!';\n *          return false;\n *     }\n *\n *      return true;\n * }\n *\n * ```\n *\n * The list of available rules is given by the [[\\humhub\\components\\access\\ControllerAccess]] class set by a controller.\n * By default the base [[\\humhub\\components\\access\\ControllerAccess]] class will be used.\n *\n * The default ControllerAccess class can be overwritten by implementing the `getAccess()` function within a controller,\n * which should return an instance of ControllerAccess.\n *\n * > Note: You can also use the [[\\humhub\\components\\Controller::access]] property\n * to define a ControllerAccess class string.\n *\n *\n *\n * @see ControllerAccess\n * @author luke\n */\nclass AccessControl extends ActionFilter\n{\n\n    /**\n     * Rules for access to controller\n     *\n     * @var array\n     */\n    public $rules = null;\n\n    /**\n     * Action ids which are allowed when Guest Mode is enabled\n     *\n     * @var array\n     * @deprecated since 1.2.2 use ['guestAccess' => ['action1', 'action2']] rule instead\n     */\n    public $guestAllowedActions = [];\n\n    /**\n     * Only allow admins access to this controller\n     *\n     * @var boolean\n     * @deprecated since 1.2.2 use ['adminOnly'] rule instead\n     */\n    public $adminOnly = false;\n\n    /**\n     * Only allow logged in users access to this controller\n     * @deprecated since 1.2.2 use ['loggedInOnly'] rule instead\n     */\n    public $loggedInOnly = false;\n\n    /**\n     * @var ControllerAccess instance\n     */\n    protected $controllerAccess;\n\n    /**\n     * @inheritdoc\n     */\n    public function beforeAction($action)\n    {\n        // Bypass when not installed for installer\n        if (empty(Yii::$app->params['installed']) &&\n                  Yii::$app->controller->module != null &&\n                  Yii::$app->controller->module->id == 'installer') {\n            return true;\n        }\n\n        $this->handleDeprecatedSettings();\n        $this->controllerAccess = $this->getControllerAccess($this->rules);\n\n        if (!$this->controllerAccess->run()) {\n            if (isset($this->controllerAccess->codeCallback) &&\n                method_exists($this, $this->controllerAccess->codeCallback)) {\n                // Call a specific function for current action filter,\n                // may be used to filter a logged in user for some restriction e.g. \"must change password\"\n                call_user_func([$this, $this->controllerAccess->codeCallback]);\n            } else if ($this->controllerAccess->code == 401) {\n                $this->loginRequired();\n            } else {\n                $this->forbidden();\n            }\n            return false;\n        }\n\n        return parent::beforeAction($action);\n    }\n\n    /**\n     * Compatibility with pre 1.2.2 usage of AccessControl\n     */\n    protected function handleDeprecatedSettings()\n    {\n        if ($this->adminOnly) {\n            $this->rules[] = [ControllerAccess::RULE_ADMIN_ONLY];\n        }\n\n        if ($this->loggedInOnly) {\n            $this->rules[] = [ControllerAccess::RULE_LOGGED_IN_ONLY];\n        }\n\n        if (!empty($this->guestAllowedActions)) {\n            $this->rules[] = ['guestAccess' => $this->guestAllowedActions];\n        }\n    }\n\n    /**\n     * Returns a ControllerAccess instance, controllers are able to overwrite this by implementing an own `getAccess()`\n     * function.\n     *\n     * @return ControllerAccess\n     */\n    protected function getControllerAccess($rules = null)\n    {\n        if ($rules === null) {\n            $rules = [['strict']];\n        }\n\n        $instance = null;\n        if (method_exists($this->owner, 'getAccess')) {\n            $instance = $this->owner->getAccess();\n        }\n\n        if (!$instance) {\n            // fixes legacy behavior settings compatibility issue with no rules given\n            $instance = new ControllerAccess();\n        }\n\n        $instance->setRules($rules);\n        $instance->owner = $this->owner;\n\n        return $instance;\n    }\n\n    /**\n     * @throws HttpException\n     */\n    protected function forbidden()\n    {\n        throw new HttpException($this->controllerAccess->code, $this->controllerAccess->reason);\n    }\n\n    /**\n     * Force user to log in\n     */\n    protected function loginRequired()\n    {\n        Yii::$app->user->logout();\n        Yii::$app->user->loginRequired();\n    }\n\n    /**\n     * Force user to redirect to change password\n     * @since 1.8\n     */\n    protected function forceChangePassword()\n    {\n        if (!Yii::$app->user->isMustChangePasswordUrl()) {\n            Yii::$app->getResponse()->redirect([Yii::$app->user->mustChangePasswordRoute]);\n        }\n    }\n\n    /**\n     * Log out all non admin users when maintenance mode is active\n     * @since 1.8\n     */\n    protected function checkMaintenanceMode()\n    {\n        if (Yii::$app->settings->get('maintenanceMode')) {\n            if (!Yii::$app->user->isGuest) {\n                Yii::$app->user->logout();\n                Yii::$app->getView()->warn(Yii::t('error', 'Maintenance mode activated: You have been automatically logged out and will no longer have access the platform until the maintenance has been completed.'));\n            }\n            Yii::$app->getResponse()->redirect(['/user/auth/login']);\n        }\n    }\n}\n"], "filenames": ["CHANGELOG.md", "protected/humhub/components/behaviors/AccessControl.php"], "buggy_code_start_loc": [11, 14], "buggy_code_end_loc": [11, 255], "fixing_code_start_loc": [12, 13], "fixing_code_end_loc": [13, 250], "type": "CWE-863", "message": "HumHub is an Open Source Enterprise Social Network. In affected versions users who are forced to change their password by an administrator may retrieve other users' data. This issue has been resolved by commit `eb83de20`. It is recommended that the HumHub is upgraded to 1.11.0, 1.10.4 or 1.9.4. There are no known workarounds for this issue.", "other": {"cve": {"id": "CVE-2022-24865", "sourceIdentifier": "security-advisories@github.com", "published": "2022-04-20T20:15:08.583", "lastModified": "2022-05-02T19:23:47.277", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "HumHub is an Open Source Enterprise Social Network. In affected versions users who are forced to change their password by an administrator may retrieve other users' data. This issue has been resolved by commit `eb83de20`. It is recommended that the HumHub is upgraded to 1.11.0, 1.10.4 or 1.9.4. There are no known workarounds for this issue."}, {"lang": "es", "value": "HumHub es una red social empresarial de c\u00f3digo abierto. En las versiones afectadas, los usuarios que son forzados a cambiar su contrase\u00f1a por un administrador pueden recuperar los datos de otros usuarios. Este problema ha sido resuelto por el commit \"eb83de20\". Es recomendado actualizar HumHub a versiones 1.11.0, 1.10.4 o 1.9.4. No se presentan medidas de mitigaci\u00f3n conocidas para este problema"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "NONE", "availabilityImpact": "NONE", "baseScore": 6.5, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 3.6}, {"source": "security-advisories@github.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "NONE", "availabilityImpact": "NONE", "baseScore": 6.5, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 3.6}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:S/C:P/I:N/A:N", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "SINGLE", "confidentialityImpact": "PARTIAL", "integrityImpact": "NONE", "availabilityImpact": "NONE", "baseScore": 4.0}, "baseSeverity": "MEDIUM", "exploitabilityScore": 8.0, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-863"}]}, {"source": "security-advisories@github.com", "type": "Secondary", "description": [{"lang": "en", "value": "CWE-200"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:humhub:humhub:*:*:*:*:*:*:*:*", "versionEndExcluding": "1.9.4", "matchCriteriaId": "E960B8AF-6069-4859-A112-BB1058EFA3B6"}, {"vulnerable": true, "criteria": "cpe:2.3:a:humhub:humhub:*:*:*:*:*:*:*:*", "versionStartIncluding": "1.10.0", "versionEndExcluding": "1.10.4", "matchCriteriaId": "C6115394-5CE7-4B7D-8AB2-A500C561FBB7"}]}]}], "references": [{"url": "https://github.com/humhub/humhub/commit/eb83de20aaecc559ab77a44a6179646a99607e33", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/humhub/humhub/security/advisories/GHSA-2h35-f226-3f57", "source": "security-advisories@github.com", "tags": ["Third Party Advisory"]}, {"url": "https://huntr.dev/bounties/89d996a2-de30-4261-8e3f-98e54cb25f76/", "source": "security-advisories@github.com", "tags": ["Exploit", "Patch", "Third Party Advisory"]}]}, "github_commit_url": "https://github.com/humhub/humhub/commit/eb83de20aaecc559ab77a44a6179646a99607e33"}}