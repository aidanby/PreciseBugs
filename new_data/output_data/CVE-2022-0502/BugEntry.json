{"buggy_code": ["<script>\r\n    var languageCanned<?php echo $canned_message->id?> = <?php echo json_encode(json_decode($canned_message->languages, true), JSON_HEX_APOS) ?>;\r\n    var languageDialects = <?php echo json_encode(array_values(erLhcoreClassModelSpeechLanguageDialect::getDialectsGrouped()))?>;\r\n</script>\r\n\r\n<div id=\"canned-controller\" ng-controller=\"CannedMsgCtrl as cmsg\" ng-cloak ng-init='cmsg.initController()<?php if ($canned_message->languages != '') : ?>cmsg.initLanguage(<?php echo $canned_message->id?>);<?php endif;?>'>\r\n\r\n<ul class=\"nav nav-pills\" role=\"tablist\" id=\"canned-main-tabs\">\r\n    <li role=\"presentation\" class=\"nav-item\" ><a class=\"nav-link active\" href=\"#main\" aria-controls=\"main\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Main');?></a></li>\r\n    <li role=\"presentation\" class=\"nav-item\" ><a class=\"nav-link\" href=\"#activity-period\" aria-controls=\"activity-period\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Activity period');?></a></li>\r\n    <li ng-repeat=\"lang in cmsg.languages\" class=\"nav-item\" role=\"presentation\"><a href=\"#lang-{{$index}}\" class=\"nav-link\" aria-controls=\"lang-{{$index}}\" role=\"tab\" data-toggle=\"tab\" ><i class=\"material-icons mr-0\">&#xE894;</i> [{{cmsg.getLanguagesChecked(lang)}}]</a></li>\r\n    <li class=\"nav-item\"><a href=\"#addlanguage\" class=\"nav-link\" ng-click=\"cmsg.addLanguage()\"><i class=\"material-icons\">&#xE145;</i><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Add translation');?></a></li>\r\n</ul>\r\n\r\n<div class=\"tab-content\">\r\n    <div role=\"tabpanel\" class=\"tab-pane active\" id=\"main\">\r\n\r\n        <div class=\"form-group\" ng-non-bindable>\r\n            <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Title');?></label>\r\n            <input type=\"text\" ng-non-bindable class=\"form-control form-control-sm\" name=\"Title\" value=\"<?php echo htmlspecialchars($canned_message->title);?>\" />\r\n        </div>\r\n\r\n        <label><input type=\"checkbox\" name=\"Disabled\" value=\"on\" <?php $canned_message->disabled == 1 ? print 'checked=\"checked\"' : ''?> /> <?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Disabled');?></label>\r\n\r\n        <div class=\"form-group\" ng-non-bindable>\r\n            <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation(\"chat/cannedmsg\",\"Tag's\");?></label>\r\n            <input type=\"text\" ng-non-bindable class=\"form-control form-control-sm\" name=\"Tags\" value=\"<?php echo htmlspecialchars($canned_message->tags_plain)?>\" />\r\n        </div>\r\n\r\n        <?php if ($canned_message->id > 0) : ?>\r\n        <label>\r\n            <?php echo erTranslationClassLhTranslation::getInstance()->getTranslation(\"chat/cannedmsg\",\"Subject\");?> <button type=\"button\" class=\"btn btn-xs btn-outline-secondary pb-1 pl-1\" onclick=\"return lhc.revealModal({'url':'/index.php/site_admin/cannedmsg/subject/<?php echo $canned_message->id?>'})\"><i class=\"material-icons mr-0\">\ue145</i></button>\r\n            <div id=\"canned-message-subjects-<?php echo $canned_message->id?>\"></div>\r\n            <script>\r\n                $.get(WWW_DIR_JAVASCRIPT + 'cannedmsg/subject/<?php echo $canned_message->id?>/?getsubjects=1', function(data) {\r\n                    $('#canned-message-subjects-<?php echo $canned_message->id?>').html(data);\r\n                });\r\n            </script>\r\n        </label>\r\n        <?php endif; ?>\r\n\r\n        <div class=\"form-group\" ng-non-bindable>\r\n            <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Explain');?></label>\r\n            <input type=\"text\" ng-non-bindable class=\"form-control form-control-sm\" name=\"ExplainHover\" value=\"<?php echo htmlspecialchars($canned_message->explain);?>\" />\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-6\">\r\n                <label><input type=\"checkbox\" name=\"AutoSend\" value=\"on\" <?php $canned_message->auto_send == 1 ? print 'checked=\"checked\"' : ''?> /> <?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Automatically send this message to user then chat is accepted');?></label>\r\n            </div>\r\n            <div class=\"col-6\">\r\n                <div class=\"form-group\">\r\n                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Delay in seconds');?></label>\r\n                    <input type=\"text\" ng-non-bindable class=\"form-control form-control-sm\" name=\"Delay\" value=\"<?php echo $canned_message->delay?>\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Position');?>\r\n                <a class=\"live-help-tooltip\" data-placement=\"top\" title=\"<?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','The smaller the position value the higher the canned message will appear in the list')?>\" data-toggle=\"tooltip\" ><i class=\"material-icons\">&#xE887;</i></a>\r\n            </label>\r\n            <input type=\"text\" ng-non-bindable class=\"form-control form-control-sm\" ng-non-bindable name=\"Position\" value=\"<?php echo $canned_message->position?>\" />\r\n        </div>\r\n\r\n        <?php $showAnyDepartment = erLhcoreClassUser::instance()->hasAccessTo('lhchat','see_global'); ?>\r\n        <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/department.tpl.php')); ?>\r\n\r\n        <?php include(erLhcoreClassDesign::designtpl('lhchat/part/after_cannedmsgform_multiinclude.tpl.php')); ?>\r\n\r\n        <ul class=\"nav nav-pills\" role=\"tablist\" id=\"canned-main-extension\">\r\n            <li role=\"presentation\" class=\"nav-item\"><a class=\"active nav-link\" href=\"#main-extension\" aria-controls=\"main-extension\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Messages');?></a></li>\r\n            <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_tab_multiinclude.tpl.php')); ?>\r\n        </ul>\r\n\r\n        <div class=\"tab-content\">\r\n            <div role=\"tabpanel\" class=\"tab-pane active\" id=\"main-extension\">\r\n                <div class=\"form-group\">\r\n                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Message');?>*</label>\r\n                    <?php $bbcodeOptions = array('selector' => '#canned-message'); ?>\r\n                    <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                    <textarea ng-non-bindable class=\"form-control\" rows=\"5\" id=\"canned-message\" name=\"Message\"><?php echo htmlspecialchars($canned_message->msg);?></textarea>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Fallback message');?></label>\r\n                    <?php $bbcodeOptions = array('selector' => '#id-FallbackMessage'); ?>\r\n                    <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                    <textarea ng-non-bindable class=\"form-control\" id=\"id-FallbackMessage\" rows=\"5\" name=\"FallbackMessage\"><?php echo htmlspecialchars($canned_message->fallback_msg);?></textarea>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','HTML Snippet');?></label>\r\n                    <textarea ng-non-bindable class=\"form-control\" rows=\"5\" name=\"HTMLSnippet\"><?php echo htmlspecialchars($canned_message->html_snippet);?></textarea>\r\n                </div>\r\n            </div>\r\n            <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_tab_content_multiinclude.tpl.php')); ?>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div role=\"tabpanel\" class=\"tab-pane pb-2\" id=\"activity-period\">\r\n\r\n        <p><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','You can make this canned message available only for certain period of times.');?></p>\r\n\r\n        <ul>\r\n            <li><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','Work hours, 24 hours format, 0 - 23, minutes format 0 - 59');?></li>\r\n            <li><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','These hours will be using');?> <b><?php print date_default_timezone_get()?></b> <?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','time zone');?> <b>[<?php echo (new DateTime('now', new DateTimeZone(date_default_timezone_get())))->format('Y-m-d H:i:s') ?>]</b></li>\r\n        </ul>\r\n\r\n        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','Period type');?></label>\r\n        <select class=\"form-control form-control-sm\" name=\"repetitiveness\" ng-init=\"cannedRepeatPeriod='<?php echo $canned_message->repetitiveness?>'\" ng-model=\"cannedRepeatPeriod\">\r\n            <option value=\"<?php echo erLhcoreClassModelCannedMsg::REP_NO?>\"><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Not active');?></option>\r\n            <option value=\"<?php echo erLhcoreClassModelCannedMsg::REP_DAILY?>\"><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Week day');?></option>\r\n            <option value=\"<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD?>\"><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','One time period');?></option>\r\n            <option value=\"<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD_REP?>\"><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Annually');?></option>\r\n        </select>\r\n\r\n        <div class=\"pt-2 date-range-<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD?> date-range-<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD_REP?>\" ng-show=\"cannedRepeatPeriod == '<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD?>' || cannedRepeatPeriod == '<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD_REP?>'\">\r\n\r\n            <p class=\"text-muted\" ng-show=\"cannedRepeatPeriod == '<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD_REP?>'\"><small><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','Even if you enter a year. This canned message will be active annually at the same time each year.');?></small></p>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-3\">\r\n                    <div class=\"form-group\">\r\n                        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Active from');?></label>\r\n                        <input class=\"form-control form-control-sm\" name=\"active_from\" type=\"datetime-local\" value=\"<?php echo date('Y-m-d\\TH:i', $canned_message->active_from > 0 ? $canned_message->active_from : time())?>\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-3\">\r\n                    <div class=\"form-group\">\r\n                        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Active to');?></label>\r\n                        <input class=\"form-control form-control-sm\" name=\"active_to\" type=\"datetime-local\" value=\"<?php echo date('Y-m-d\\TH:i', $canned_message->active_to > 0 ? $canned_message->active_to : time())?>\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"pt-2 date-range-<?php echo erLhcoreClassModelCannedMsg::REP_DAILY?>\" ng-show=\"cannedRepeatPeriod == '<?php echo erLhcoreClassModelCannedMsg::REP_DAILY?>'\">\r\n            <?php foreach (erLhcoreClassDepartament::getWeekDays() as $dayShort => $dayLong) : ?>\r\n                <?php\r\n                $startHourName = $dayShort.'_start_hour';\r\n                $startHourFrontName = $dayShort.'_start_hour_front';\r\n                $startMinutesFrontName = $dayShort.'_start_minutes_front';\r\n                $endHourFrontName = $dayShort.'_end_hour_front';\r\n                $endMinutesFrontName = $dayShort.'_end_minutes_front';\r\n                ?>\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <label><input type=\"checkbox\" ng-init=\"OnlineHoursDayActive<?php echo $dayShort ?>=<?php if (isset($canned_message->days_activity_array[$dayShort])) : ?>true<?php else : ?>false<?php endif?>\" ng-model=\"OnlineHoursDayActive<?php echo $dayShort ?>\" name=\"<?php echo $dayShort ?>\" value=\"1\" <?php if (isset($canned_message->days_activity_array[$dayShort])) : ?>checked=\"checked\"<?php endif;?> /> <?php echo $dayLong; ?></label>\r\n                        <div class=\"row\" ng-show=\"OnlineHoursDayActive<?php echo $dayShort ?>\">\r\n                            <div class=\"col-3\">\r\n                                <div class=\"form-group\" ng-non-bindable>\r\n                                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','Time from');?></label>\r\n                                    <?php\r\n\r\n                                    if (isset($canned_message->days_activity_array[$dayShort]['start'])) {\r\n                                        $minutesStart = str_pad(substr($canned_message->days_activity_array[$dayShort]['start'],-2),2,'0', STR_PAD_LEFT);\r\n                                        $hoursStart = str_pad(substr($canned_message->days_activity_array[$dayShort]['start'],0,strlen($canned_message->days_activity_array[$dayShort]['start']) - 2), 2, '0', STR_PAD_LEFT);\r\n                                    } else {\r\n                                        $minutesStart = $hoursStart = '00';\r\n                                    }\r\n\r\n                                    if (isset($canned_message->days_activity_array[$dayShort]['end'])){\r\n                                        $minutesEnd = str_pad(substr($canned_message->days_activity_array[$dayShort]['end'],-2),2,'0', STR_PAD_LEFT);\r\n                                        $hoursEnd = str_pad(substr($canned_message->days_activity_array[$dayShort]['end'],0,strlen($canned_message->days_activity_array[$dayShort]['end']) - 2), 2, '0', STR_PAD_LEFT);\r\n                                    } else {\r\n                                        $minutesEnd = $hoursEnd = '00';\r\n                                    }\r\n\r\n                                    ?>\r\n                                    <input name=\"<?php echo $dayShort ?>StartTime\" value=\"<?php echo htmlspecialchars($hoursStart.':'.$minutesStart)?>\" type=\"time\" class=\"form-control form-control-sm\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-3\">\r\n                                <div class=\"form-group\" ng-non-bindable>\r\n                                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','Time to');?></label>\r\n                                    <input name=\"<?php echo $dayShort ?>EndTime\" value=\"<?php echo htmlspecialchars($hoursEnd.':'.$minutesEnd)?>\" type=\"time\" class=\"form-control form-control-sm\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            <?php endforeach; ?>\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-repeat=\"lang in cmsg.languages\" role=\"tabpanel\" class=\"tab-pane\" id=\"lang-{{$index}}\">\r\n\r\n        <?php include(erLhcoreClassDesign::designtpl('lhabstract/custom/language_choose.tpl.php'));?>\r\n\r\n        <ul class=\"nav nav-pills\" role=\"tablist\">\r\n            <li role=\"presentation\" class=\"nav-item\"><a class=\"active nav-link\" href=\"#main-extension-lang-{{$index}}\" aria-controls=\"main-extension-lang-{{$index}}\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Messages');?></a></li>\r\n            <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_lang_tab_multiinclude.tpl.php')); ?>\r\n        </ul>\r\n\r\n        <div class=\"tab-content\">\r\n            <div role=\"tabpanel\" class=\"tab-pane active\" id=\"main-extension-lang-{{$index}}\">\r\n                <div class=\"form-group\">\r\n                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Message');?>*</label>\r\n                    <?php $bbcodeOptions = array('selector' => '#message_lang-{{$index}}'); ?>\r\n                    <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                    <textarea class=\"form-control\" rows=\"5\" id=\"message_lang-{{$index}}\" name=\"message_lang[{{$index}}]\" ng-model=\"lang.message\"></textarea>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Fallback message');?></label>\r\n                    <?php $bbcodeOptions = array('selector' => '#fallback_message_lang-{{$index}}'); ?>\r\n                    <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                    <textarea class=\"form-control\" rows=\"5\" id=\"fallback_message_lang-{{$index}}\" name=\"fallback_message_lang[{{$index}}]\" ng-model=\"lang.fallback_message\"></textarea>\r\n                </div>\r\n            </div>\r\n            <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_lang_tab_content_multiinclude.tpl.php')); ?>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n</div>\r\n<script>\r\n    $('.live-help-tooltip').tooltip();\r\n</script>", "<?php \r\n$pages = new lhPaginator();\r\n$pages->serverURL = erLhcoreClassDesign::baseurl('user/account').'/(tab)/canned';\r\n$pages->items_total = erLhcoreClassModelCannedMsg::getCount(array('filter' => array('user_id' => $user->id)));\r\n$pages->setItemsPerPage(10);\r\n$pages->paginate();\r\n\r\n$cannedMessages = array();\r\nif ($pages->items_total > 0) {\r\n    $cannedMessages = erLhcoreClassModelCannedMsg::getList(array('filter' => array('user_id' => $user->id),'offset' => $pages->low, 'limit' => $pages->items_per_page,'sort' => 'id ASC'));\r\n}\r\n\r\n?>\r\n\r\n<table class=\"table\" cellpadding=\"0\" cellspacing=\"0\" ng-non-bindable>\r\n<thead>\r\n<tr>\r\n    <th width=\"1%\">ID</th>\r\n    <th><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Title/Message');?></th>\r\n    <th><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Delay');?></th>\r\n    <th><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Position');?></th>    \r\n    <?php include(erLhcoreClassDesign::designtpl('lhuser/parts/cannedmsg/custom_column_multiinclude.tpl.php'));?>    \r\n    <th width=\"1%\">&nbsp;</th>\r\n    <th width=\"1%\">&nbsp;</th>\r\n</tr>\r\n</thead>\r\n<?php foreach ($cannedMessages as $message) : ?>\r\n    <tr>\r\n        <td><?php echo $message->id?></td>\r\n        <td><?php echo nl2br(htmlspecialchars($message->title != '' ? $message->title : $message->msg))?></td>\r\n        <td><?php echo $message->delay?></td>\r\n        <td><?php echo $message->position?></td>\r\n        <?php include(erLhcoreClassDesign::designtpl('lhuser/parts/cannedmsg/custom_column_content_multiinclude.tpl.php'));?>\r\n        <td nowrap><a class=\"btn btn-secondary btn-xs\" href=\"<?php echo erLhcoreClassDesign::baseurl('user/account')?>/(msg)/<?php echo $message->id?>/(tab)/canned\"><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Edit message');?></a></td>\r\n        <td nowrap><a onclick=\"return confirm('<?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('kernel/message','Are you sure?');?>')\" class=\"csfr-required btn btn-danger btn-xs\" href=\"<?php echo erLhcoreClassDesign::baseurl('user/account')?>/(action)/delete/(tab)/canned/(msg)/<?php echo $message->id?>\"><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Delete message');?></a></td>\r\n    </tr>\r\n<?php endforeach; ?>\r\n</table>\r\n\r\n<?php include(erLhcoreClassDesign::designtpl('lhkernel/secure_links.tpl.php')); ?>\r\n\r\n<?php if (isset($pages)) : ?>\r\n    <?php include(erLhcoreClassDesign::designtpl('lhkernel/paginator.tpl.php')); ?>\r\n<?php endif;?>\r\n\r\n<hr>\r\n\r\n<h3><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Personal canned message');?></h3>\r\n\r\n<?php if (isset($errors_canned)) : $errors = $errors_canned; ?>\r\n\t<?php include(erLhcoreClassDesign::designtpl('lhkernel/validation_error.tpl.php'));?>\r\n<?php endif; ?>\r\n\r\n<?php if (isset($updated_canned)) : ?>\r\n\t\t<?php $msg = erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Canned message was saved'); ?>\r\n\t\t<?php include(erLhcoreClassDesign::designtpl('lhkernel/alert_success.tpl.php'));?>\r\n<?php endif; ?>\r\n\r\n<?php if ($canned_msg->languages != '') : ?>\r\n<script>\r\n    var languageCanned<?php echo ($canned_msg->id > 0 ? $canned_msg->id : 0)?> = <?php echo $canned_msg->languages?>;\r\n</script>\r\n<?php endif; ?>\r\n\r\n<script>\r\n    var languageDialects = <?php echo json_encode(array_values(erLhcoreClassModelSpeechLanguageDialect::getDialectsGrouped()))?>;\r\n</script>\r\n\r\n<form ng-controller=\"CannedMsgCtrl as cmsg\" ng-init='cmsg.iniController();<?php if ($canned_msg->languages != '') : ?>cmsg.initLanguage(<?php echo ($canned_msg->id > 0 ? $canned_msg->id : 0)?>);<?php endif;?>' action=\"<?php if ($canned_msg->id > 0) : ?><?php echo erLhcoreClassDesign::baseurl('user/account')?>/(tab)/canned/(msg)/<?php echo $canned_msg->id?><?php endif;?>#canned\" method=\"post\">\r\n\r\n    <ul class=\"nav nav-pills\" role=\"tablist\" id=\"canned-main-tabs\">\r\n        <li class=\"nav-item\" role=\"presentation\" ><a class=\"nav-link active\"href=\"#main\" aria-controls=\"main\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('user/account','Main');?></a></li>\r\n        <li class=\"nav-item\" ng-repeat=\"lang in cmsg.languages\" role=\"presentation\"><a class=\"nav-link\" href=\"#lang-{{$index}}\" aria-controls=\"lang-{{$index}}\" role=\"tab\" data-toggle=\"tab\" ><i class=\"material-icons mr-0\">&#xE894;</i> [{{cmsg.getLanguagesChecked(lang)}}]</a></li>\r\n        <li class=\"nav-item\" ><a class=\"nav-link\" href=\"#addlanguage\" ng-click=\"cmsg.addLanguage()\"><i class=\"material-icons\">&#xE145;</i><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('user/account','Add translation');?></a></li>\r\n    </ul>\r\n\r\n    <div class=\"tab-content\">\r\n        <div role=\"tabpanel\" class=\"tab-pane active\" id=\"main\">\r\n            <div class=\"form-group\">\r\n                <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Title');?></label>\r\n                <input type=\"text\" ng-non-bindable class=\"form-control\" name=\"Title\" value=\"<?php echo htmlspecialchars($canned_msg->title);?>\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Explain');?></label>\r\n                <input type=\"text\" ng-non-bindable class=\"form-control\" name=\"ExplainHover\" value=\"<?php echo htmlspecialchars($canned_msg->explain);?>\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation(\"chat/cannedmsg\",\"Tag's\");?></label>\r\n                <input type=\"text\" ng-non-bindable class=\"form-control\" name=\"Tags\" value=\"<?php echo htmlspecialchars($canned_msg->tags_plain)?>\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label><input type=\"checkbox\" name=\"AutoSend\" value=\"on\" <?php $canned_msg->auto_send == 1 ? print 'checked=\"checked\"' : ''?> /> <?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Automatically send this message to user then chat is accepted');?></label>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Delay in seconds');?></label>\r\n                <input type=\"text\" ng-non-bindable class=\"form-control\" name=\"Delay\" value=\"<?php echo $canned_msg->delay?>\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Position');?></label>\r\n                <input type=\"text\" ng-non-bindable class=\"form-control\" name=\"Position\" value=\"<?php echo $canned_msg->position?>\" />\r\n            </div>\r\n\r\n            <?php include(erLhcoreClassDesign::designtpl('lhuser/parts/cannedmsg/custom_fields_multiinclude.tpl.php'));?>\r\n\r\n            <ul class=\"nav nav-pills\" role=\"tablist\" id=\"canned-main-extension\">\r\n                <li role=\"presentation\" class=\"nav-item\"><a class=\"nav-link active\" href=\"#main-extension\" aria-controls=\"main-extension\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Messages');?></a></li>\r\n                <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_tab_multiinclude.tpl.php')); ?>\r\n            </ul>\r\n\r\n            <div class=\"tab-content\">\r\n                <div role=\"tabpanel\" class=\"tab-pane active\" id=\"main-extension\">\r\n                    <div class=\"form-group\">\r\n                        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Message');?>*</label>\r\n                        <?php $bbcodeOptions = array('selector' => '#canned-message'); ?>\r\n                        <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                        <textarea class=\"form-control\" rows=\"5\" name=\"Message\" id=\"canned-message\"><?php echo htmlspecialchars($canned_msg->msg);?></textarea>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Fallback message');?></label>\r\n                        <?php $bbcodeOptions = array('selector' => '#id-FallbackMessage'); ?>\r\n                        <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                        <textarea class=\"form-control\" rows=\"5\" name=\"FallbackMessage\" id=\"id-FallbackMessage\"><?php echo htmlspecialchars($canned_msg->fallback_msg);?></textarea>\r\n                    </div>\r\n                </div>\r\n                <?php $canned_message = $canned_msg; ?>\r\n                <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_tab_content_multiinclude.tpl.php')); ?>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div ng-repeat=\"lang in cmsg.languages\" role=\"tabpanel\" class=\"tab-pane\" id=\"lang-{{$index}}\">\r\n\r\n            <?php include(erLhcoreClassDesign::designtpl('lhabstract/custom/language_choose.tpl.php'));?>\r\n\r\n            <ul class=\"nav nav-pills\" role=\"tablist\">\r\n                <li role=\"presentation\" class=\"nav-item\"><a class=\"nav-link active\" href=\"#main-extension-lang-{{$index}}\" aria-controls=\"main-extension-lang-{{$index}}\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Messages');?></a></li>\r\n                <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_lang_tab_multiinclude.tpl.php')); ?>\r\n            </ul>\r\n\r\n            <div class=\"tab-content\">\r\n                <div role=\"tabpanel\" class=\"tab-pane active\" id=\"main-extension-lang-{{$index}}\">\r\n                    <div class=\"form-group\">\r\n                        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Message');?>*</label>\r\n                        <?php $bbcodeOptions = array('selector' => '#message_lang-{{$index}}'); ?>\r\n                        <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                        <textarea class=\"form-control\" rows=\"5\" id=\"message_lang-{{$index}}\" name=\"message_lang[{{$index}}]\" ng-model=\"lang.message\"></textarea>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Fallback message');?></label>\r\n                        <?php $bbcodeOptions = array('selector' => '#fallback_message_lang-{{$index}}'); ?>\r\n                        <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                        <textarea class=\"form-control\" rows=\"5\" id=\"fallback_message_lang-{{$index}}\" name=\"fallback_message_lang[{{$index}}]\" ng-model=\"lang.fallback_message\"></textarea>\r\n                    </div>\r\n                </div>\r\n                <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_lang_tab_content_multiinclude.tpl.php')); ?>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <?php include(erLhcoreClassDesign::designtpl('lhkernel/csfr_token.tpl.php'));?>\r\n\r\n\t<div class=\"btn-group\" role=\"group\" aria-label=\"...\">\r\n\t\t<input type=\"submit\" class=\"btn btn-secondary\" name=\"Save_canned_action\" value=\"<?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('system/buttons','Save');?>\"/>\r\n    \t<?php if ($canned_msg->id > 0) : ?>\r\n    \t<input type=\"submit\" class=\"btn btn-secondary\" name=\"Cancel_canned_action\" value=\"<?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('system/buttons','Cancel');?>\"/>\r\n    \t<?php endif;?>\r\n\t</div>\r\n\t\r\n</form>"], "fixing_code": ["<script>\r\n    var languageCanned<?php echo $canned_message->id?> = <?php echo json_encode(json_decode($canned_message->languages, true), JSON_HEX_APOS) ?>;\r\n    var languageDialects = <?php echo json_encode(array_values(erLhcoreClassModelSpeechLanguageDialect::getDialectsGrouped()))?>;\r\n</script>\r\n\r\n<div id=\"canned-controller\" ng-controller=\"CannedMsgCtrl as cmsg\" ng-cloak ng-init='cmsg.initController();<?php if ($canned_message->languages != '') : ?>cmsg.initLanguage(<?php echo $canned_message->id?>);<?php endif;?>'>\r\n\r\n<ul class=\"nav nav-pills\" role=\"tablist\" id=\"canned-main-tabs\">\r\n    <li role=\"presentation\" class=\"nav-item\" ><a class=\"nav-link active\" href=\"#main\" aria-controls=\"main\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Main');?></a></li>\r\n    <li role=\"presentation\" class=\"nav-item\" ><a class=\"nav-link\" href=\"#activity-period\" aria-controls=\"activity-period\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Activity period');?></a></li>\r\n    <li ng-repeat=\"lang in cmsg.languages\" class=\"nav-item\" role=\"presentation\"><a href=\"#lang-{{$index}}\" class=\"nav-link\" aria-controls=\"lang-{{$index}}\" role=\"tab\" data-toggle=\"tab\" ><i class=\"material-icons mr-0\">&#xE894;</i> [{{cmsg.getLanguagesChecked(lang)}}]</a></li>\r\n    <li class=\"nav-item\"><a href=\"#addlanguage\" class=\"nav-link\" ng-click=\"cmsg.addLanguage()\"><i class=\"material-icons\">&#xE145;</i><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Add translation');?></a></li>\r\n</ul>\r\n\r\n<div class=\"tab-content\">\r\n    <div role=\"tabpanel\" class=\"tab-pane active\" id=\"main\">\r\n\r\n        <div class=\"form-group\" ng-non-bindable>\r\n            <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Title');?></label>\r\n            <input type=\"text\" ng-non-bindable class=\"form-control form-control-sm\" name=\"Title\" value=\"<?php echo htmlspecialchars($canned_message->title);?>\" />\r\n        </div>\r\n\r\n        <label><input type=\"checkbox\" name=\"Disabled\" value=\"on\" <?php $canned_message->disabled == 1 ? print 'checked=\"checked\"' : ''?> /> <?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Disabled');?></label>\r\n\r\n        <div class=\"form-group\" ng-non-bindable>\r\n            <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation(\"chat/cannedmsg\",\"Tag's\");?></label>\r\n            <input type=\"text\" ng-non-bindable class=\"form-control form-control-sm\" name=\"Tags\" value=\"<?php echo htmlspecialchars($canned_message->tags_plain)?>\" />\r\n        </div>\r\n\r\n        <?php if ($canned_message->id > 0) : ?>\r\n        <label>\r\n            <?php echo erTranslationClassLhTranslation::getInstance()->getTranslation(\"chat/cannedmsg\",\"Subject\");?> <button type=\"button\" class=\"btn btn-xs btn-outline-secondary pb-1 pl-1\" onclick=\"return lhc.revealModal({'url':'/index.php/site_admin/cannedmsg/subject/<?php echo $canned_message->id?>'})\"><i class=\"material-icons mr-0\">\ue145</i></button>\r\n            <div id=\"canned-message-subjects-<?php echo $canned_message->id?>\"></div>\r\n            <script>\r\n                $.get(WWW_DIR_JAVASCRIPT + 'cannedmsg/subject/<?php echo $canned_message->id?>/?getsubjects=1', function(data) {\r\n                    $('#canned-message-subjects-<?php echo $canned_message->id?>').html(data);\r\n                });\r\n            </script>\r\n        </label>\r\n        <?php endif; ?>\r\n\r\n        <div class=\"form-group\" ng-non-bindable>\r\n            <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Explain');?></label>\r\n            <input type=\"text\" ng-non-bindable class=\"form-control form-control-sm\" name=\"ExplainHover\" value=\"<?php echo htmlspecialchars($canned_message->explain);?>\" />\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-6\">\r\n                <label><input type=\"checkbox\" name=\"AutoSend\" value=\"on\" <?php $canned_message->auto_send == 1 ? print 'checked=\"checked\"' : ''?> /> <?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Automatically send this message to user then chat is accepted');?></label>\r\n            </div>\r\n            <div class=\"col-6\">\r\n                <div class=\"form-group\">\r\n                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Delay in seconds');?></label>\r\n                    <input type=\"text\" ng-non-bindable class=\"form-control form-control-sm\" name=\"Delay\" value=\"<?php echo $canned_message->delay?>\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Position');?>\r\n                <a class=\"live-help-tooltip\" data-placement=\"top\" title=\"<?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','The smaller the position value the higher the canned message will appear in the list')?>\" data-toggle=\"tooltip\" ><i class=\"material-icons\">&#xE887;</i></a>\r\n            </label>\r\n            <input type=\"text\" ng-non-bindable class=\"form-control form-control-sm\" ng-non-bindable name=\"Position\" value=\"<?php echo $canned_message->position?>\" />\r\n        </div>\r\n\r\n        <?php $showAnyDepartment = erLhcoreClassUser::instance()->hasAccessTo('lhchat','see_global'); ?>\r\n        <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/department.tpl.php')); ?>\r\n\r\n        <?php include(erLhcoreClassDesign::designtpl('lhchat/part/after_cannedmsgform_multiinclude.tpl.php')); ?>\r\n\r\n        <ul class=\"nav nav-pills\" role=\"tablist\" id=\"canned-main-extension\">\r\n            <li role=\"presentation\" class=\"nav-item\"><a class=\"active nav-link\" href=\"#main-extension\" aria-controls=\"main-extension\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Messages');?></a></li>\r\n            <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_tab_multiinclude.tpl.php')); ?>\r\n        </ul>\r\n\r\n        <div class=\"tab-content\">\r\n            <div role=\"tabpanel\" class=\"tab-pane active\" id=\"main-extension\">\r\n                <div class=\"form-group\">\r\n                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Message');?>*</label>\r\n                    <?php $bbcodeOptions = array('selector' => '#canned-message'); ?>\r\n                    <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                    <textarea ng-non-bindable class=\"form-control\" rows=\"5\" id=\"canned-message\" name=\"Message\"><?php echo htmlspecialchars($canned_message->msg);?></textarea>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Fallback message');?></label>\r\n                    <?php $bbcodeOptions = array('selector' => '#id-FallbackMessage'); ?>\r\n                    <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                    <textarea ng-non-bindable class=\"form-control\" id=\"id-FallbackMessage\" rows=\"5\" name=\"FallbackMessage\"><?php echo htmlspecialchars($canned_message->fallback_msg);?></textarea>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','HTML Snippet');?></label>\r\n                    <textarea ng-non-bindable class=\"form-control\" rows=\"5\" name=\"HTMLSnippet\"><?php echo htmlspecialchars($canned_message->html_snippet);?></textarea>\r\n                </div>\r\n            </div>\r\n            <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_tab_content_multiinclude.tpl.php')); ?>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div role=\"tabpanel\" class=\"tab-pane pb-2\" id=\"activity-period\">\r\n\r\n        <p><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','You can make this canned message available only for certain period of times.');?></p>\r\n\r\n        <ul>\r\n            <li><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','Work hours, 24 hours format, 0 - 23, minutes format 0 - 59');?></li>\r\n            <li><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','These hours will be using');?> <b><?php print date_default_timezone_get()?></b> <?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','time zone');?> <b>[<?php echo (new DateTime('now', new DateTimeZone(date_default_timezone_get())))->format('Y-m-d H:i:s') ?>]</b></li>\r\n        </ul>\r\n\r\n        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','Period type');?></label>\r\n        <select class=\"form-control form-control-sm\" name=\"repetitiveness\" ng-init=\"cannedRepeatPeriod='<?php echo $canned_message->repetitiveness?>'\" ng-model=\"cannedRepeatPeriod\">\r\n            <option value=\"<?php echo erLhcoreClassModelCannedMsg::REP_NO?>\"><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Not active');?></option>\r\n            <option value=\"<?php echo erLhcoreClassModelCannedMsg::REP_DAILY?>\"><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Week day');?></option>\r\n            <option value=\"<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD?>\"><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','One time period');?></option>\r\n            <option value=\"<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD_REP?>\"><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Annually');?></option>\r\n        </select>\r\n\r\n        <div class=\"pt-2 date-range-<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD?> date-range-<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD_REP?>\" ng-show=\"cannedRepeatPeriod == '<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD?>' || cannedRepeatPeriod == '<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD_REP?>'\">\r\n\r\n            <p class=\"text-muted\" ng-show=\"cannedRepeatPeriod == '<?php echo erLhcoreClassModelCannedMsg::REP_PERIOD_REP?>'\"><small><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','Even if you enter a year. This canned message will be active annually at the same time each year.');?></small></p>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-3\">\r\n                    <div class=\"form-group\">\r\n                        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Active from');?></label>\r\n                        <input class=\"form-control form-control-sm\" name=\"active_from\" type=\"datetime-local\" value=\"<?php echo date('Y-m-d\\TH:i', $canned_message->active_from > 0 ? $canned_message->active_from : time())?>\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-3\">\r\n                    <div class=\"form-group\">\r\n                        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Active to');?></label>\r\n                        <input class=\"form-control form-control-sm\" name=\"active_to\" type=\"datetime-local\" value=\"<?php echo date('Y-m-d\\TH:i', $canned_message->active_to > 0 ? $canned_message->active_to : time())?>\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"pt-2 date-range-<?php echo erLhcoreClassModelCannedMsg::REP_DAILY?>\" ng-show=\"cannedRepeatPeriod == '<?php echo erLhcoreClassModelCannedMsg::REP_DAILY?>'\">\r\n            <?php foreach (erLhcoreClassDepartament::getWeekDays() as $dayShort => $dayLong) : ?>\r\n                <?php\r\n                $startHourName = $dayShort.'_start_hour';\r\n                $startHourFrontName = $dayShort.'_start_hour_front';\r\n                $startMinutesFrontName = $dayShort.'_start_minutes_front';\r\n                $endHourFrontName = $dayShort.'_end_hour_front';\r\n                $endMinutesFrontName = $dayShort.'_end_minutes_front';\r\n                ?>\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <label><input type=\"checkbox\" ng-init=\"OnlineHoursDayActive<?php echo $dayShort ?>=<?php if (isset($canned_message->days_activity_array[$dayShort])) : ?>true<?php else : ?>false<?php endif?>\" ng-model=\"OnlineHoursDayActive<?php echo $dayShort ?>\" name=\"<?php echo $dayShort ?>\" value=\"1\" <?php if (isset($canned_message->days_activity_array[$dayShort])) : ?>checked=\"checked\"<?php endif;?> /> <?php echo $dayLong; ?></label>\r\n                        <div class=\"row\" ng-show=\"OnlineHoursDayActive<?php echo $dayShort ?>\">\r\n                            <div class=\"col-3\">\r\n                                <div class=\"form-group\" ng-non-bindable>\r\n                                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','Time from');?></label>\r\n                                    <?php\r\n\r\n                                    if (isset($canned_message->days_activity_array[$dayShort]['start'])) {\r\n                                        $minutesStart = str_pad(substr($canned_message->days_activity_array[$dayShort]['start'],-2),2,'0', STR_PAD_LEFT);\r\n                                        $hoursStart = str_pad(substr($canned_message->days_activity_array[$dayShort]['start'],0,strlen($canned_message->days_activity_array[$dayShort]['start']) - 2), 2, '0', STR_PAD_LEFT);\r\n                                    } else {\r\n                                        $minutesStart = $hoursStart = '00';\r\n                                    }\r\n\r\n                                    if (isset($canned_message->days_activity_array[$dayShort]['end'])){\r\n                                        $minutesEnd = str_pad(substr($canned_message->days_activity_array[$dayShort]['end'],-2),2,'0', STR_PAD_LEFT);\r\n                                        $hoursEnd = str_pad(substr($canned_message->days_activity_array[$dayShort]['end'],0,strlen($canned_message->days_activity_array[$dayShort]['end']) - 2), 2, '0', STR_PAD_LEFT);\r\n                                    } else {\r\n                                        $minutesEnd = $hoursEnd = '00';\r\n                                    }\r\n\r\n                                    ?>\r\n                                    <input name=\"<?php echo $dayShort ?>StartTime\" value=\"<?php echo htmlspecialchars($hoursStart.':'.$minutesStart)?>\" type=\"time\" class=\"form-control form-control-sm\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-3\">\r\n                                <div class=\"form-group\" ng-non-bindable>\r\n                                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('department/edit','Time to');?></label>\r\n                                    <input name=\"<?php echo $dayShort ?>EndTime\" value=\"<?php echo htmlspecialchars($hoursEnd.':'.$minutesEnd)?>\" type=\"time\" class=\"form-control form-control-sm\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            <?php endforeach; ?>\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-repeat=\"lang in cmsg.languages\" role=\"tabpanel\" class=\"tab-pane\" id=\"lang-{{$index}}\">\r\n\r\n        <?php include(erLhcoreClassDesign::designtpl('lhabstract/custom/language_choose.tpl.php'));?>\r\n\r\n        <ul class=\"nav nav-pills\" role=\"tablist\">\r\n            <li role=\"presentation\" class=\"nav-item\"><a class=\"active nav-link\" href=\"#main-extension-lang-{{$index}}\" aria-controls=\"main-extension-lang-{{$index}}\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Messages');?></a></li>\r\n            <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_lang_tab_multiinclude.tpl.php')); ?>\r\n        </ul>\r\n\r\n        <div class=\"tab-content\">\r\n            <div role=\"tabpanel\" class=\"tab-pane active\" id=\"main-extension-lang-{{$index}}\">\r\n                <div class=\"form-group\">\r\n                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Message');?>*</label>\r\n                    <?php $bbcodeOptions = array('selector' => '#message_lang-{{$index}}'); ?>\r\n                    <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                    <textarea class=\"form-control\" rows=\"5\" id=\"message_lang-{{$index}}\" name=\"message_lang[{{$index}}]\" ng-model=\"lang.message\"></textarea>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Fallback message');?></label>\r\n                    <?php $bbcodeOptions = array('selector' => '#fallback_message_lang-{{$index}}'); ?>\r\n                    <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                    <textarea class=\"form-control\" rows=\"5\" id=\"fallback_message_lang-{{$index}}\" name=\"fallback_message_lang[{{$index}}]\" ng-model=\"lang.fallback_message\"></textarea>\r\n                </div>\r\n            </div>\r\n            <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_lang_tab_content_multiinclude.tpl.php')); ?>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n</div>\r\n<script>\r\n    $('.live-help-tooltip').tooltip();\r\n</script>", "<?php \r\n$pages = new lhPaginator();\r\n$pages->serverURL = erLhcoreClassDesign::baseurl('user/account').'/(tab)/canned';\r\n$pages->items_total = erLhcoreClassModelCannedMsg::getCount(array('filter' => array('user_id' => $user->id)));\r\n$pages->setItemsPerPage(10);\r\n$pages->paginate();\r\n\r\n$cannedMessages = array();\r\nif ($pages->items_total > 0) {\r\n    $cannedMessages = erLhcoreClassModelCannedMsg::getList(array('filter' => array('user_id' => $user->id),'offset' => $pages->low, 'limit' => $pages->items_per_page,'sort' => 'id ASC'));\r\n}\r\n\r\n?>\r\n\r\n<table class=\"table\" cellpadding=\"0\" cellspacing=\"0\" ng-non-bindable>\r\n<thead>\r\n<tr>\r\n    <th width=\"1%\">ID</th>\r\n    <th><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Title/Message');?></th>\r\n    <th><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Delay');?></th>\r\n    <th><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Position');?></th>    \r\n    <?php include(erLhcoreClassDesign::designtpl('lhuser/parts/cannedmsg/custom_column_multiinclude.tpl.php'));?>    \r\n    <th width=\"1%\">&nbsp;</th>\r\n    <th width=\"1%\">&nbsp;</th>\r\n</tr>\r\n</thead>\r\n<?php foreach ($cannedMessages as $message) : ?>\r\n    <tr>\r\n        <td><?php echo $message->id?></td>\r\n        <td><?php echo nl2br(htmlspecialchars($message->title != '' ? $message->title : $message->msg))?></td>\r\n        <td><?php echo $message->delay?></td>\r\n        <td><?php echo $message->position?></td>\r\n        <?php include(erLhcoreClassDesign::designtpl('lhuser/parts/cannedmsg/custom_column_content_multiinclude.tpl.php'));?>\r\n        <td nowrap><a class=\"btn btn-secondary btn-xs\" href=\"<?php echo erLhcoreClassDesign::baseurl('user/account')?>/(msg)/<?php echo $message->id?>/(tab)/canned\"><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Edit message');?></a></td>\r\n        <td nowrap><a onclick=\"return confirm('<?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('kernel/message','Are you sure?');?>')\" class=\"csfr-required btn btn-danger btn-xs\" href=\"<?php echo erLhcoreClassDesign::baseurl('user/account')?>/(action)/delete/(tab)/canned/(msg)/<?php echo $message->id?>\"><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Delete message');?></a></td>\r\n    </tr>\r\n<?php endforeach; ?>\r\n</table>\r\n\r\n<?php include(erLhcoreClassDesign::designtpl('lhkernel/secure_links.tpl.php')); ?>\r\n\r\n<?php if (isset($pages)) : ?>\r\n    <?php include(erLhcoreClassDesign::designtpl('lhkernel/paginator.tpl.php')); ?>\r\n<?php endif;?>\r\n\r\n<hr>\r\n\r\n<h3><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Personal canned message');?></h3>\r\n\r\n<?php if (isset($errors_canned)) : $errors = $errors_canned; ?>\r\n\t<?php include(erLhcoreClassDesign::designtpl('lhkernel/validation_error.tpl.php'));?>\r\n<?php endif; ?>\r\n\r\n<?php if (isset($updated_canned)) : ?>\r\n\t\t<?php $msg = erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Canned message was saved'); ?>\r\n\t\t<?php include(erLhcoreClassDesign::designtpl('lhkernel/alert_success.tpl.php'));?>\r\n<?php endif; ?>\r\n\r\n<?php if ($canned_msg->languages != '') : ?>\r\n<script>\r\n    var languageCanned<?php echo ($canned_msg->id > 0 ? $canned_msg->id : 0)?> = <?php echo $canned_msg->languages?>;\r\n</script>\r\n<?php endif; ?>\r\n\r\n<script>\r\n    var languageDialects = <?php echo json_encode(array_values(erLhcoreClassModelSpeechLanguageDialect::getDialectsGrouped()))?>;\r\n</script>\r\n\r\n<form ng-controller=\"CannedMsgCtrl as cmsg\" ng-init='cmsg.initController();<?php if ($canned_msg->languages != '') : ?>cmsg.initLanguage(<?php echo ($canned_msg->id > 0 ? $canned_msg->id : 0)?>);<?php endif;?>' action=\"<?php if ($canned_msg->id > 0) : ?><?php echo erLhcoreClassDesign::baseurl('user/account')?>/(tab)/canned/(msg)/<?php echo $canned_msg->id?><?php endif;?>#canned\" method=\"post\">\r\n\r\n    <ul class=\"nav nav-pills\" role=\"tablist\" id=\"canned-main-tabs\">\r\n        <li class=\"nav-item\" role=\"presentation\" ><a class=\"nav-link active\"href=\"#main\" aria-controls=\"main\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('user/account','Main');?></a></li>\r\n        <li class=\"nav-item\" ng-repeat=\"lang in cmsg.languages\" role=\"presentation\"><a class=\"nav-link\" href=\"#lang-{{$index}}\" aria-controls=\"lang-{{$index}}\" role=\"tab\" data-toggle=\"tab\" ><i class=\"material-icons mr-0\">&#xE894;</i> [{{cmsg.getLanguagesChecked(lang)}}]</a></li>\r\n        <li class=\"nav-item\" ><a class=\"nav-link\" href=\"#addlanguage\" ng-click=\"cmsg.addLanguage()\"><i class=\"material-icons\">&#xE145;</i><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('user/account','Add translation');?></a></li>\r\n    </ul>\r\n\r\n    <div class=\"tab-content\">\r\n        <div role=\"tabpanel\" class=\"tab-pane active\" id=\"main\">\r\n            <div class=\"form-group\">\r\n                <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Title');?></label>\r\n                <input type=\"text\" ng-non-bindable class=\"form-control\" name=\"Title\" value=\"<?php echo htmlspecialchars($canned_msg->title);?>\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Explain');?></label>\r\n                <input type=\"text\" ng-non-bindable class=\"form-control\" name=\"ExplainHover\" value=\"<?php echo htmlspecialchars($canned_msg->explain);?>\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation(\"chat/cannedmsg\",\"Tag's\");?></label>\r\n                <input type=\"text\" ng-non-bindable class=\"form-control\" name=\"Tags\" value=\"<?php echo htmlspecialchars($canned_msg->tags_plain)?>\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label><input type=\"checkbox\" name=\"AutoSend\" value=\"on\" <?php $canned_msg->auto_send == 1 ? print 'checked=\"checked\"' : ''?> /> <?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Automatically send this message to user then chat is accepted');?></label>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Delay in seconds');?></label>\r\n                <input type=\"text\" ng-non-bindable class=\"form-control\" name=\"Delay\" value=\"<?php echo $canned_msg->delay?>\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Position');?></label>\r\n                <input type=\"text\" ng-non-bindable class=\"form-control\" name=\"Position\" value=\"<?php echo $canned_msg->position?>\" />\r\n            </div>\r\n\r\n            <?php include(erLhcoreClassDesign::designtpl('lhuser/parts/cannedmsg/custom_fields_multiinclude.tpl.php'));?>\r\n\r\n            <ul class=\"nav nav-pills\" role=\"tablist\" id=\"canned-main-extension\">\r\n                <li role=\"presentation\" class=\"nav-item\"><a class=\"nav-link active\" href=\"#main-extension\" aria-controls=\"main-extension\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Messages');?></a></li>\r\n                <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_tab_multiinclude.tpl.php')); ?>\r\n            </ul>\r\n\r\n            <div class=\"tab-content\">\r\n                <div role=\"tabpanel\" class=\"tab-pane active\" id=\"main-extension\">\r\n                    <div class=\"form-group\">\r\n                        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Message');?>*</label>\r\n                        <?php $bbcodeOptions = array('selector' => '#canned-message'); ?>\r\n                        <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                        <textarea class=\"form-control\" ng-non-bindable rows=\"5\" name=\"Message\" id=\"canned-message\"><?php echo htmlspecialchars($canned_msg->msg);?></textarea>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Fallback message');?></label>\r\n                        <?php $bbcodeOptions = array('selector' => '#id-FallbackMessage'); ?>\r\n                        <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                        <textarea class=\"form-control\" ng-non-bindable rows=\"5\" name=\"FallbackMessage\" id=\"id-FallbackMessage\"><?php echo htmlspecialchars($canned_msg->fallback_msg);?></textarea>\r\n                    </div>\r\n                </div>\r\n                <?php $canned_message = $canned_msg; ?>\r\n                <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_tab_content_multiinclude.tpl.php')); ?>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div ng-repeat=\"lang in cmsg.languages\" role=\"tabpanel\" class=\"tab-pane\" id=\"lang-{{$index}}\">\r\n\r\n            <?php include(erLhcoreClassDesign::designtpl('lhabstract/custom/language_choose.tpl.php'));?>\r\n\r\n            <ul class=\"nav nav-pills\" role=\"tablist\">\r\n                <li role=\"presentation\" class=\"nav-item\"><a class=\"nav-link active\" href=\"#main-extension-lang-{{$index}}\" aria-controls=\"main-extension-lang-{{$index}}\" role=\"tab\" data-toggle=\"tab\" ><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Messages');?></a></li>\r\n                <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_lang_tab_multiinclude.tpl.php')); ?>\r\n            </ul>\r\n\r\n            <div class=\"tab-content\">\r\n                <div role=\"tabpanel\" class=\"tab-pane active\" id=\"main-extension-lang-{{$index}}\">\r\n                    <div class=\"form-group\">\r\n                        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Message');?>*</label>\r\n                        <?php $bbcodeOptions = array('selector' => '#message_lang-{{$index}}'); ?>\r\n                        <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                        <textarea class=\"form-control\" rows=\"5\" id=\"message_lang-{{$index}}\" name=\"message_lang[{{$index}}]\" ng-model=\"lang.message\"></textarea>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label><?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/cannedmsg','Fallback message');?></label>\r\n                        <?php $bbcodeOptions = array('selector' => '#fallback_message_lang-{{$index}}'); ?>\r\n                        <?php include(erLhcoreClassDesign::designtpl('lhbbcode/toolbar.tpl.php')); ?>\r\n                        <textarea class=\"form-control\" rows=\"5\" id=\"fallback_message_lang-{{$index}}\" name=\"fallback_message_lang[{{$index}}]\" ng-model=\"lang.fallback_message\"></textarea>\r\n                    </div>\r\n                </div>\r\n                <?php include(erLhcoreClassDesign::designtpl('lhchat/cannedmsg/custom_fallback_lang_tab_content_multiinclude.tpl.php')); ?>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <?php include(erLhcoreClassDesign::designtpl('lhkernel/csfr_token.tpl.php'));?>\r\n\r\n\t<div class=\"btn-group\" role=\"group\" aria-label=\"...\">\r\n\t\t<input type=\"submit\" class=\"btn btn-secondary\" name=\"Save_canned_action\" value=\"<?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('system/buttons','Save');?>\"/>\r\n    \t<?php if ($canned_msg->id > 0) : ?>\r\n    \t<input type=\"submit\" class=\"btn btn-secondary\" name=\"Cancel_canned_action\" value=\"<?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('system/buttons','Cancel');?>\"/>\r\n    \t<?php endif;?>\r\n\t</div>\r\n\t\r\n</form>"], "filenames": ["lhc_web/design/defaulttheme/tpl/lhchat/cannedmsgform.tpl.php", "lhc_web/design/defaulttheme/tpl/lhuser/parts/canned_messages.tpl.php"], "buggy_code_start_loc": [6, 69], "buggy_code_end_loc": [7, 128], "fixing_code_start_loc": [6, 69], "fixing_code_end_loc": [7, 128], "type": "CWE-79", "message": "Cross-site Scripting (XSS) - Stored in Packagist remdex/livehelperchat prior to 3.93v.", "other": {"cve": {"id": "CVE-2022-0502", "sourceIdentifier": "security@huntr.dev", "published": "2022-02-06T11:15:07.947", "lastModified": "2022-02-11T03:15:20.253", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "Cross-site Scripting (XSS) - Stored in Packagist remdex/livehelperchat prior to 3.93v."}, {"lang": "es", "value": "Una vulnerabilidad de tipo Cross-site Scripting (XSS) - Almacenado en Packagist remdex/livehelperchat versiones anteriores a 3.93v"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:C/C:L/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 5.4, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.3, "impactScore": 2.7}], "cvssMetricV30": [{"source": "security@huntr.dev", "type": "Secondary", "cvssData": {"version": "3.0", "vectorString": "CVSS:3.0/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "HIGH", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "NONE", "baseScore": 6.5, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 1.2, "impactScore": 5.2}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:M/Au:S/C:N/I:P/A:N", "accessVector": "NETWORK", "accessComplexity": "MEDIUM", "authentication": "SINGLE", "confidentialityImpact": "NONE", "integrityImpact": "PARTIAL", "availabilityImpact": "NONE", "baseScore": 3.5}, "baseSeverity": "LOW", "exploitabilityScore": 6.8, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": true}]}, "weaknesses": [{"source": "security@huntr.dev", "type": "Primary", "description": [{"lang": "en", "value": "CWE-79"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:livehelperchat:live_helper_chat:*:*:*:*:*:*:*:*", "versionEndIncluding": "3.92", "matchCriteriaId": "431024CB-D868-41F9-B815-C6016E03D653"}]}]}], "references": [{"url": "https://github.com/livehelperchat/livehelperchat/commit/d3b107aaa8ec10816acc762d60e7321079c21706", "source": "security@huntr.dev", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://huntr.dev/bounties/34f2aa30-de7f-432a-8749-b43d2774140f", "source": "security@huntr.dev", "tags": ["Exploit", "Issue Tracking", "Patch", "Third Party Advisory"]}]}, "github_commit_url": "https://github.com/livehelperchat/livehelperchat/commit/d3b107aaa8ec10816acc762d60e7321079c21706"}}