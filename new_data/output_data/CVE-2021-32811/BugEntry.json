{"buggy_code": ["Change log\n==========\n\nThese are all the changes for Zope 5, starting with the alpha releases,\nsince the branch point at Zope 4.1.2.\n\nThe change log for the previous version, Zope 4, is at\nhttps://github.com/zopefoundation/Zope/blob/4.x/CHANGES.rst\n\n\n5.3 (unreleased)\n----------------\n\n- Prevent ``DeprecationWarnings`` from moved imports in ``AccessControl``\n\n- make sure \"Manager\" users can always modify proxy roles\n  (`see Products.PythonScripts#50\n    <https://github.com/zopefoundation/Products.PythonScripts/issues/50>`_)\n\n- Deprecate usage of \"unicode\" converters. Also, the behavior of\n  ``field2lines`` is now aligned to the other converters and returns a list of\n  strings instead of a list of bytes.\n  (`#962 <https://github.com/zopefoundation/Zope/issues/962>`_)\n\n- Update to newest compatible versions of dependencies.\n\n\n5.2.1 (2021-06-08)\n------------------\n\n- Prevent unauthorized traversal through authorized Python modules in\n  TAL expressions\n\n- Facelift the Zope logo.\n  (`#973 <https://github.com/zopefoundation/Zope/issues/973>`_)\n\n- Update to newest compatible versions of dependencies.\n\n\n5.2 (2021-05-21)\n----------------\n\n- Prevent traversal to names starting with ``_`` in TAL expressions\n  and fix path expressions for the ``chameleon.tales`` expression engine.\n\n- Provide friendlier ZMI error message for the Transaction Undo form\n  (`#964 <https://github.com/zopefoundation/Zope/issues/964>`_)\n\n- Updated/fixed the poll application tutorial in the Zope Developers Guide\n  (`#958 <https://github.com/zopefoundation/Zope/issues/958>`_)\n\n- Update to newest versions of dependencies.\n\n- Depend on ``zope.datetime`` for the functions ``iso8601_date``,\n  ``rfc850_date``, and ``rfc1123_date`` which used to be in ``App.Common``\n  keeping backwards-compatibility imports in place.\n\nBackwards incompatible changes\n++++++++++++++++++++++++++++++\n\n- With the exception of ``field2bytes``, field converters do no longer try to\n  read file like objects\n  (`#558 <https://github.com/zopefoundation/Zope/issues/558>`_)\n\n\n5.1.2 (2021-03-02)\n------------------\n\n- Enforce Zope permissions during recursive XML-RPC data dumps\n  (`#954 <https://github.com/zopefoundation/Zope/issues/954>`_)\n\n- The ``compute_size`` method properly returns None if the content does not\n  have a ``get_size`` method but the parent has.\n  (`#948 <https://github.com/zopefoundation/Zope/issues/948>`_)\n\n- Fix control panel tab links on all control panel pages\n\n- Update to newest versions of dependencies.\n\n\n5.1.1 (2021-02-10)\n------------------\n\n- Replace (in ``OFS``) the deprecated direct ``id`` access by\n  ``getId`` calls.\n  (`#903 <https://github.com/zopefoundation/Zope/issues/903>`_)\n\n- Update ZMI dependencies for Font Awesome, jQuery and bootstrap.\n\n- Revise debug info GUI\n  (`#937 <https://github.com/zopefoundation/Zope/pull/937>`_)\n\n- Convert ``bytes`` ``HTTPResponse`` header value to ``str``\n  via ``ISO-8859-1`` (the default encoding of ``HTTP/1.1``).\n\n- Fix rendering of not found resources.\n  (`#933 <https://github.com/zopefoundation/Zope/pull/933>`_)\n\n- Update to newest versions of dependencies.\n\n\n5.1 (2020-11-12)\n----------------\n\nBackwards incompatible changes\n++++++++++++++++++++++++++++++\n\n- Exclude characters special for ``chameleon``'s interpolation syntax\n  (i.e. ``${}``) from use in TALES path expressions to reduce the failure risk\n  for the ``chameleon`` interpolation heuristics\n  (`#925 <https://github.com/zopefoundation/Zope/issues/925>`_)\n\nFeatures\n++++++++\n\n- Restore the ZMI `Debug Information` control panel page\n  (`#898 <https://github.com/zopefoundation/Zope/issues/898>`_)\n\nFixes\n+++++\n\n- Fix ZMI visibility of pre elements in error log\n  (`Products.SiteErrorLog#26\n  <https://github.com/zopefoundation/Products.SiteErrorLog/issues/26>`_)\n\n- Fix ``length`` for page template repeat variables\n  (`#913 <https://github.com/zopefoundation/Zope/issues/913>`_)\n\n- Update `isort` to version 5.\n  (`#892 <https://github.com/zopefoundation/Zope/pull/892>`_)\n\n- Update to newest versions of dependencies.\n\n\n5.0 (2020-10-08)\n----------------\n\nBackwards incompatible changes\n++++++++++++++++++++++++++++++\n\n- Drop support for Python 3.5 as it will run out of support soon.\n  (`#841 <https://github.com/zopefoundation/Zope/issues/841>`_)\n\n\nFeatures\n++++++++\n\n- HTTP header encoding support\n  (`#905 <https://github.com/zopefoundation/Zope/pull/905>`_)\n\n- Add support for Python 3.9.\n\n- New interface ``Products.PageTemplates.interfaces.IZopeAwareEngine``.\n  It can be used as the \"provides\" of an adapter registration\n  to adapt a non ``Zope`` tales engine to an engine to be used\n  by ``Zope`` page templates\n  (`#864 <https://github.com/zopefoundation/Zope/issues/864>`_).\n  Currently, the adaptation is used only when the\n  template is rendered with ``chameleon``;\n  with ``zope.pagetemplate``, the engine is used\n  as is - this may change in the future.\n\n- Allow (some) builtins as first element of a (TALES) path expression:\n  in an untrusted context, the builtins from\n  ``AccessControl.safe_builtins`` are allowed;\n  in a trusted context, all Python builtins are allowed in addition\n  (and take precedence)\n  (`zope.tales#23 <https://github.com/zopefoundation/zope.tales/issues/23>`_).\n\n- Support the ``attrs`` predefined template variable again (as\n  far as ``chameleon`` allows it)\n  (`#860 <https://github.com/zopefoundation/Zope/issues/860>`_).\n\n- Use ``Chameleon`` (>= 3.7.2) configuration to get better\n  information for errors detected during template execution\n  (`#837 <https://github.com/zopefoundation/Zope/issues/837>`_).\n\nFixes\n+++++\n\n- Provide a more senseful ``OFS.SimpleItem.Item_w__name__.id``\n  to avoid bugs by use of deprecated direct ``id`` access\n  (as e.g. (`#903 <https://github.com/zopefoundation/Zope/issues/903>`_).\n\n- Update to ``zope.interface > 5.1.0`` to fix a memory leak.\n\n- Fix export of files with non-latin-1 compatible names\n  (`#890 <https://github.com/zopefoundation/Zope/issues/890>`_)\n\n- Avoid unsolicited translations\n  (`#876 <https://github.com/zopefoundation/Zope/issues/876>`_)\n\n- Make \"chameleon-zope context wrapping\" more faithful.\n  (`#873 <https://github.com/zopefoundation/Zope/pull/873/files>`_)\n\n- Let \"unicode conflict resolution\" work for all templates (not just\n  ``ZopePageTemplate``).\n  (`#872 <https://github.com/zopefoundation/Zope/pull/872/files>`_)\n\n- Make \"Unicode Conflict Resolution\" available for templates\n  rendered with ``chameleon``\n  (`Products.CMFPlone#3145\n  <https://github.com/plone/Products.CMFPlone/issues/3145>`_).\n\n- Improve documentation of ``CONTEXTS`` in the \"Zope Book\".\n\n- Decrease cookie size for copy/paste clipboard cookie\n  (`#854 <https://github.com/zopefoundation/Zope/issues/854>`_)\n\n- Fix ``default`` keyword handling in page templates\n  (`#846 <https://github.com/zopefoundation/Zope/issues/846>`_)\n\n- Fix parsing of package version and show correct major version in the ZMI\n\n- Improve solidity of the ``debugError`` method.\n  (`#829 <https://github.com/zopefoundation/Zope/issues/829>`_)\n\n- Fix that ``ZTUtils.LazyFilter`` could not be imported inside a restricted\n  Python script.\n  (`#901 <https://github.com/zopefoundation/Zope/pull/901>`_)\n\nOther changes\n+++++++++++++\n\n- Add ``pyupgrade`` via ``pre-commit``\n  (`#859 <https://github.com/zopefoundation/Zope/issues/859>`_)\n\n- Add ``tal:switch`` test\n\n\n5.0a2 (2020-04-24)\n------------------\n\nBug fixes\n+++++++++\n\n- Pin ``AccessControl`` 4.2 for the `Manage WebDAV Locks` permission\n\n- Fix ``HEAD`` requests on registered views\n  (`#816 <https://github.com/zopefoundation/Zope/issues/816>`_)\n\n- Improve ``chameleon`` --> ``zope.tales`` context wrapper\n  (support for template variable injection)\n  (`#812 <https://github.com/zopefoundation/Zope/pull/812>`_).\n\n- Require ``zope.tales>=5.0.2``\n\n- Fix issue 717 by fully honoring the engine returned by\n  ``PageTemplate.pt_getEngine``\n  (`#717 <https://github.com/zopefoundation/Zope/issues/717>`_).\n  The engine also decides about the use of ``zope.tales``\n  (engine is an instance of ``zope.pagetemplate.engine.ZopeBaseEngine``)\n  or ``chameleon.tales`` (otherwise) TALES expressions.\n\n- Fixed encoding issue of `displayname` WebDAV property\n  (`#797 <https://github.com/zopefoundation/Zope/issues/797>`_)\n\n- Fixed fallback implementation of ``manage_DAVget``\n  (`#799 <https://github.com/zopefoundation/Zope/issues/799>`_)\n\nOther changes\n+++++++++++++\n\n- Update to newest versions of dependencies.\n\n\n5.0a1 (2020-02-28)\n------------------\n\nBackwards incompatible changes\n++++++++++++++++++++++++++++++\n\n- Drop support for Python 2.7 aka Zope 5 cannot be run on Python 2 any more.\n  If you are still running on Python 2.7 upgrade to the latest Zope 4 version\n  first, migrate to Python 3 and than switch to Zope 5.\n  (`#692 <https://github.com/zopefoundation/Zope/issues/692>`_)\n\n- Remove all backwards-compatibility code marked to go away in Zope 5\n  (`#478 <https://github.com/zopefoundation/Zope/issues/478>`_)\n\n- Drop support for running Zope with ZServer as it is Python 2 only.\n  (`#592 <https://github.com/zopefoundation/Zope/issues/592>`_)\n\n- Remove deprecated ``postProcessInputs`` request method.\n  (`#782 <https://github.com/zopefoundation/Zope/issues/782>`_)\n\n- Remove deprecated module ``ZPublisher.maybe_lock``.\n  (`#758 <https://github.com/zopefoundation/Zope/issues/758>`_)\n\n- Remove Help System methods from the product context.\n  (`#756 <https://github.com/zopefoundation/Zope/issues/756>`_)\n\n- Remove more deprecated code.\n  (`#757 <https://github.com/zopefoundation/Zope/issues/757>`_)\n\n- Updated Zope documentation sources for Zope 5.\n  (`#659 <https://github.com/zopefoundation/Zope/issues/659>`_)\n\nNew features\n++++++++++++\n\n- Restore WebDAV support in Zope.\n  (`#744 <https://github.com/zopefoundation/Zope/issues/744>`_)\n\n- Enable WebDAV support independent of ``ZServer``.\n  (`#787 <https://github.com/zopefoundation/Zope/pull/787>`_)\n\n- Clean up and sanitize permissions used for WebDAV-related methods.\n\n- Add ``wsgi.file_wrapper`` implementation\n  https://www.python.org/dev/peps/pep-0333/#optional-platform-specific-file-handling\n  (`#719 <https://github.com/zopefoundation/Zope/pull/719>`_)\n\nBug fixes\n+++++++++\n\n- Only use ``wsgi.file_wrapper`` for response bodies with a ``read`` method.\n  (`#763 <https://github.com/zopefoundation/Zope/issues/763>`_)\n\n- Improve detection of HTTPS requests.\n  (`#680 <https://github.com/zopefoundation/Zope/issues/680>`_)\n\n- Fix several ZMI links so they respect virtual hosting.\n  (`#788 <https://github.com/zopefoundation/Zope/issues/788>`_)\n\n- Fix sort link URLs on ``manage_main``\n  (`#748 <https://github.com/zopefoundation/Zope/issues/748>`_)\n\n- More tests to make sure all ``__str__`` implementations return native\n  strings.\n  (`#692 <https://github.com/zopefoundation/Zope/issues/692>`_)\n\n- Fix longstanding test bug by forcing the page template engine.\n  Many tests in ``Products.PageTemplates`` used the old Zope page template\n  engine because the correct one was not registered during setup.\n\n- Close opened db during shutdown (as ZServer is already doing).\n  (`#740 <https://github.com/zopefoundation/Zope/issues/740>`_)\n\n- The method ``unrestrictedTraverse`` raises an error when\n  the argument ``path`` is not something it can work with.\n  (`#674 <https://github.com/zopefoundation/Zope/issues/674>`_)\n\n- Improve ZMI Security Tab usability for high numbers of roles.\n  (`#730 <https://github.com/zopefoundation/Zope/issues/730>`_)\n\n- Some small ZMI rendering fixes.\n  (`#729 <https://github.com/zopefoundation/Zope/issues/729>`_)\n\n- Fix error when using database minimize in the ZMI.\n  (`#726 <https://github.com/zopefoundation/Zope/issues/726>`_)\n\n- Fix ``__getattr__`` signature in ``UnauthorizedBinding``.\n  (`#703 <https://github.com/zopefoundation/Zope/issues/703>`_)\n\n- Fix VirtualHostMonster not being able to set mappings under Python 3.\n  (`#708 <https://github.com/zopefoundation/Zope/issues/708>`_)\n\n- Reduce the danger of acquiring built-in names on the ZMI Find tab.\n  (`#712 <https://github.com/zopefoundation/Zope/issues/712>`_)\n\n- Restore the mistakenly removed Properties ZMI tab on Image objects\n  (`#706 <https://github.com/zopefoundation/Zope/issues/706>`_)\n\n- Fix ``OFS.Image.File.__str__`` for ``Pdata`` contents\n  (`#711 <https://github.com/zopefoundation/Zope/issues/711>`_)\n\n- Set ``REMOTE_USER`` in wsgi environ using Zope user authentication\n  (`#713 <https://github.com/zopefoundation/Zope/pull/713>`_)\n\n- Add ``Paste`` as ``extras_require`` dependency to pull in ``Paste`` when\n  installing with `pip` and `constraints.txt` to prevent startup errors.\n  This requires adding the ``[wsgi]`` extra in the egg specification.\n  (`#734 <https://github.com/zopefoundation/Zope/issues/734>`_)\n\nOther changes\n+++++++++++++\n\n- Move retried request delay handling out of ``supports_retry``\n  (`#474 <https://github.com/zopefoundation/Zope/issues/474>`_)\n\n- Improve documentation for Zope's error logging services.\n", "AccessControl==5.0\nAcquisition==4.7\nAuthEncoding==4.2.1\nBTrees==4.9.1\nChameleon==3.9.1\nDateTime==4.3\nDocumentTemplate==4.0\nExtensionClass==4.5.0\nMissing==4.1\nMultiMapping==4.1\nPaste==3.5.0\nPasteDeploy==2.1.1\nPersistence==3.0\nProducts.BTreeFolder2==4.3\nProducts.ZCatalog==6.0\nRecord==3.5\nRestrictedPython==5.1\nSecretStorage==3.3.1\nWSGIProxy2==0.4.6\nWebOb==1.8.7\nWebTest==2.0.35\nZConfig==3.6.0\nZEO==5.2.2\nZODB==5.6.0\nZope2==4.0\ncryptography==3.4.7\nfive.localsitemanager==3.2.2\nfuncsigs==1.0.2\nfuture==0.18.2\nipaddress==1.0.23\njeepney==0.6.0\nmock==4.0.3\nmultipart==0.2.4\npbr==5.6.0\npersistent==4.7.0\npytz==2021.1\nroman==3.3\nshutilwhich==1.1.0\nsix==1.16.0\ntransaction==3.0.1\nwaitress==2.0.0\nz3c.pt==3.3.0\nzExceptions==4.1\nzc.lockfile==2.0\nzdaemon==4.3\nzodbpickle==2.0.0\nzope.annotation==4.7.0\nzope.browser==2.3\nzope.browsermenu==4.4\nzope.browserpage==4.4.0\nzope.browserresource==4.4\nzope.cachedescriptors==4.3.1\nzope.component==5.0.0\nzope.componentvocabulary==2.2.0\nzope.configuration==4.4.0\nzope.container==4.4.0\nzope.contentprovider==4.2.1\nzope.contenttype==4.5.0\nzope.datetime==4.3.0\nzope.deferredimport==4.3.1\nzope.deprecation==4.4.0\nzope.dottedname==4.3\nzope.event==4.5.0\nzope.exceptions==4.4\nzope.filerepresentation==5.0.0\nzope.formlib==4.7.1\nzope.globalrequest==1.5\nzope.hookable==5.0.1\nzope.i18n==4.7.0\nzope.i18nmessageid==5.0.1\nzope.interface==5.4.0\nzope.lifecycleevent==4.3.0\nzope.location==4.2\nzope.pagetemplate==4.5.0\nzope.processlifetime==2.3.0\nzope.proxy==4.3.5\nzope.ptresource==4.2.0\nzope.publisher==6.0.2\nzope.ramcache==2.3\nzope.schema==6.1.0\nzope.security==5.1.1\nzope.sendmail==5.2\nzope.sequencesort==4.1.2\nzope.site==4.5.0\nzope.size==4.3\nzope.structuredtext==4.3\nzope.tal==4.5\nzope.tales==5.1\nzope.testbrowser==5.5.1\nzope.testing==4.9\nzope.testrunner==5.3.0\nzope.traversing==4.4.1\nzope.viewlet==4.2.1\n", "-e git+https://github.com/zopefoundation/Zope.git@master#egg=Zope\nAccessControl==5.0\nAcquisition==4.7\nAuthEncoding==4.2.1\nBTrees==4.9.1\nChameleon==3.9.1\nDateTime==4.3\nDocumentTemplate==4.0\nExtensionClass==4.5.0\nMissing==4.1\nMultiMapping==4.1\nPaste==3.5.0\nPasteDeploy==2.1.1\nPersistence==3.0\nProducts.BTreeFolder2==4.3\nProducts.ZCatalog==6.0\nRecord==3.5\nRestrictedPython==5.1\nSecretStorage==3.3.1\nWSGIProxy2==0.4.6\nWebOb==1.8.7\nWebTest==2.0.35\nZConfig==3.6.0\nZEO==5.2.2\nZODB==5.6.0\nZope2==4.0\ncryptography==3.4.7\nfive.localsitemanager==3.2.2\nfuncsigs==1.0.2\nfuture==0.18.2\nipaddress==1.0.23\njeepney==0.6.0\nmock==4.0.3\nmultipart==0.2.4\npbr==5.6.0\npersistent==4.7.0\npytz==2021.1\nroman==3.3\nshutilwhich==1.1.0\nsix==1.16.0\ntransaction==3.0.1\nwaitress==2.0.0\nz3c.pt==3.3.0\nzExceptions==4.1\nzc.lockfile==2.0\nzdaemon==4.3\nzodbpickle==2.0.0\nzope.annotation==4.7.0\nzope.browser==2.3\nzope.browsermenu==4.4\nzope.browserpage==4.4.0\nzope.browserresource==4.4\nzope.cachedescriptors==4.3.1\nzope.component==5.0.0\nzope.componentvocabulary==2.2.0\nzope.configuration==4.4.0\nzope.container==4.4.0\nzope.contentprovider==4.2.1\nzope.contenttype==4.5.0\nzope.datetime==4.3.0\nzope.deferredimport==4.3.1\nzope.deprecation==4.4.0\nzope.dottedname==4.3\nzope.event==4.5.0\nzope.exceptions==4.4\nzope.filerepresentation==5.0.0\nzope.formlib==4.7.1\nzope.globalrequest==1.5\nzope.hookable==5.0.1\nzope.i18n==4.7.0\nzope.i18nmessageid==5.0.1\nzope.interface==5.4.0\nzope.lifecycleevent==4.3.0\nzope.location==4.2\nzope.pagetemplate==4.5.0\nzope.processlifetime==2.3.0\nzope.proxy==4.3.5\nzope.ptresource==4.2.0\nzope.publisher==6.0.2\nzope.ramcache==2.3\nzope.schema==6.1.0\nzope.security==5.1.1\nzope.sendmail==5.2\nzope.sequencesort==4.1.2\nzope.site==4.5.0\nzope.size==4.3\nzope.structuredtext==4.3\nzope.tal==4.5\nzope.tales==5.1\nzope.testbrowser==5.5.1\nzope.testing==4.9\nzope.testrunner==5.3.0\nzope.traversing==4.4.1\nzope.viewlet==4.2.1\n", "##############################################################################\n#\n# Copyright (c) 2007 Zope Foundation and Contributors.\n# All Rights Reserved.\n#\n# This software is subject to the provisions of the Zope Public License,\n# Version 2.1 (ZPL).  A copy of the ZPL should accompany this distribution.\n# THIS SOFTWARE IS PROVIDED \"AS IS\" AND ANY AND ALL EXPRESS OR IMPLIED\n# WARRANTIES ARE DISCLAIMED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n# WARRANTIES OF TITLE, MERCHANTABILITY, AGAINST INFRINGEMENT, AND FITNESS\n# FOR A PARTICULAR PURPOSE.\n#\n##############################################################################\n\nimport os\n\nfrom setuptools import find_packages\nfrom setuptools import setup\n\n\nHERE = os.path.abspath(os.path.dirname(__file__))\n\n\ndef _read_file(filename):\n    with open(os.path.join(HERE, filename)) as f:\n        return f.read()\n\n\nREADME = _read_file('README.rst')\nCHANGES = _read_file('CHANGES.rst')\n\nversion = '5.3.0.dev0'\n\n\nsetup(\n    name='Zope',\n    version=version,\n    url='https://zope.readthedocs.io/en/latest/',\n    project_urls={\n        'Documentation': 'https://zope.readthedocs.io',\n        'Issue Tracker': 'https://github.com/zopefoundation/Zope/issues',\n        'Sources': 'https://github.com/zopefoundation/Zope',\n    },\n    license='ZPL 2.1',\n    description='Zope application server / web framework',\n    author='Zope Foundation and Contributors',\n    author_email='zope-dev@zope.org',\n    long_description=\"\\n\\n\".join([README, CHANGES]),\n    classifiers=[\n        'Development Status :: 6 - Mature',\n        \"Environment :: Web Environment\",\n        \"Framework :: Zope :: 5\",\n        \"Intended Audience :: Developers\",\n        \"License :: OSI Approved :: Zope Public License\",\n        \"Operating System :: OS Independent\",\n        \"Programming Language :: Python :: 3\",\n        \"Programming Language :: Python :: 3 :: Only\",\n        \"Programming Language :: Python :: 3.6\",\n        \"Programming Language :: Python :: 3.7\",\n        \"Programming Language :: Python :: 3.8\",\n        \"Programming Language :: Python :: 3.9\",\n        \"Programming Language :: Python :: Implementation :: CPython\",\n        \"Topic :: Internet :: WWW/HTTP :: Dynamic Content\",\n        \"Topic :: Internet :: WWW/HTTP :: WSGI :: Application\",\n        \"Topic :: Software Development :: Libraries :: Application Frameworks\",\n    ],\n    packages=find_packages('src'),\n    namespace_packages=['Products', 'Shared', 'Shared.DC', 'zmi'],\n    package_dir={'': 'src'},\n    python_requires='>= 3.6',\n    install_requires=[\n        'AccessControl >= 4.2',\n        'Acquisition',\n        'BTrees',\n        'Chameleon >= 3.7.0',\n        'DateTime',\n        'DocumentTemplate >= 4.0',\n        'ExtensionClass',\n        'MultiMapping',\n        'PasteDeploy',\n        'Persistence',\n        'RestrictedPython',\n        'ZConfig >= 2.9.2',\n        'ZODB',\n        'setuptools >= 36.2',\n        'transaction >= 2.4',\n        'waitress',\n        'zExceptions >= 3.4',\n        'z3c.pt',\n        'zope.browser',\n        'zope.browsermenu',\n        'zope.browserpage >= 4.4.0.dev0',\n        'zope.browserresource >= 3.11',\n        'zope.component',\n        'zope.configuration',\n        'zope.container',\n        'zope.contentprovider',\n        'zope.contenttype',\n        'zope.datetime',\n        'zope.deferredimport',\n        'zope.event',\n        'zope.exceptions',\n        'zope.globalrequest',\n        'zope.i18n [zcml]',\n        'zope.i18nmessageid',\n        'zope.interface >= 3.8',\n        'zope.lifecycleevent',\n        'zope.location',\n        'zope.pagetemplate >= 4.0.2',\n        'zope.processlifetime',\n        'zope.proxy',\n        'zope.ptresource',\n        'zope.publisher',\n        'zope.schema',\n        'zope.security',\n        'zope.sequencesort',\n        'zope.site',\n        'zope.size',\n        'zope.tal',\n        'zope.tales >= 5.0.2',\n        'zope.testbrowser',\n        'zope.testing',\n        'zope.traversing',\n        'zope.viewlet',\n    ],\n    include_package_data=True,\n    zip_safe=False,\n    extras_require={\n        'docs': [\n            'Sphinx',\n            'sphinx_rtd_theme',\n            'tempstorage',\n        ],\n        'wsgi': [\n            'Paste',\n        ],\n    },\n    entry_points={\n        'paste.app_factory': [\n            'main=Zope2.Startup.run:make_wsgi_app',\n        ],\n        'paste.filter_app_factory': [\n            'httpexceptions=ZPublisher.httpexceptions:main',\n        ],\n        'console_scripts': [\n            'addzopeuser=Zope2.utilities.adduser:main',\n            'runwsgi=Zope2.Startup.serve:main',\n            'mkwsgiinstance=Zope2.utilities.mkwsgiinstance:main',\n            'zconsole=Zope2.utilities.zconsole:main',\n        ],\n        'zodbupdate.decode': [\n            'decodes = OFS:zodbupdate_decode_dict',\n        ],\n        'zodbupdate': [\n            'renames = OFS:zodbupdate_rename_dict',\n        ],\n    },\n)\n", "[buildout]\n# Version pins for required and commonly used dependencies.\n\n[versions]\nZope =\nZope2 = 4.0\nAccessControl = 5.0\nAcquisition = 4.7\nAuthEncoding = 4.2.1\nBTrees = 4.9.1\nChameleon = 3.9.1\nDateTime = 4.3\nDocumentTemplate = 4.0\nExtensionClass = 4.5.0\nMissing = 4.1\nMultiMapping = 4.1\nPaste = 3.5.0\nPasteDeploy = 2.1.1\nPersistence = 3.0\nProducts.BTreeFolder2 = 4.3\nProducts.ZCatalog = 6.0\nRecord = 3.5\nRestrictedPython = 5.1\nSecretStorage = 3.3.1\nWSGIProxy2 = 0.4.6\nWebOb = 1.8.7\nWebTest = 2.0.35\nZConfig = 3.6.0\nZEO = 5.2.2\nZODB = 5.6.0\ncryptography = 3.4.7\nfive.localsitemanager = 3.2.2\nfuncsigs = 1.0.2\nfuture = 0.18.2\nipaddress = 1.0.23\njeepney = 0.6.0\nmock = 4.0.3\nmultipart = 0.2.4\npbr = 5.6.0\npersistent = 4.7.0\npytz = 2021.1\nroman = 3.3\nshutilwhich = 1.1.0\nsix = 1.16.0\ntransaction = 3.0.1\nwaitress = 2.0.0\nz3c.pt = 3.3.0\nzExceptions = 4.1\nzc.lockfile = 2.0\nzdaemon = 4.3\nzodbpickle = 2.0.0\nzope.annotation = 4.7.0\nzope.browser = 2.3\nzope.browsermenu = 4.4\nzope.browserpage = 4.4.0\nzope.browserresource = 4.4\nzope.cachedescriptors = 4.3.1\nzope.component = 5.0.0\nzope.componentvocabulary = 2.2.0\nzope.configuration = 4.4.0\nzope.container = 4.4.0\nzope.contentprovider = 4.2.1\nzope.contenttype = 4.5.0\nzope.datetime = 4.3.0\nzope.deferredimport = 4.3.1\nzope.deprecation = 4.4.0\nzope.dottedname = 4.3\nzope.event = 4.5.0\nzope.exceptions = 4.4\nzope.filerepresentation = 5.0.0\nzope.formlib = 4.7.1\nzope.globalrequest = 1.5\nzope.hookable = 5.0.1\nzope.i18n = 4.7.0\nzope.i18nmessageid = 5.0.1\nzope.interface = 5.4.0\nzope.lifecycleevent = 4.3.0\nzope.location = 4.2\nzope.pagetemplate = 4.5.0\nzope.processlifetime = 2.3.0\nzope.proxy = 4.3.5\nzope.ptresource = 4.2.0\nzope.publisher = 6.0.2\nzope.ramcache = 2.3\nzope.schema = 6.1.0\nzope.security = 5.1.1\nzope.sendmail = 5.2\nzope.sequencesort = 4.1.2\nzope.site = 4.5.0\nzope.size = 4.3\nzope.structuredtext = 4.3\nzope.tal = 4.5\nzope.tales = 5.1\nzope.testbrowser = 5.5.1\nzope.testing = 4.9\nzope.testrunner = 5.3.0\nzope.traversing = 4.4.1\nzope.viewlet = 4.2.1\n"], "fixing_code": ["Change log\n==========\n\nThese are all the changes for Zope 5, starting with the alpha releases,\nsince the branch point at Zope 4.1.2.\n\nThe change log for the previous version, Zope 4, is at\nhttps://github.com/zopefoundation/Zope/blob/4.x/CHANGES.rst\n\n\n5.3 (unreleased)\n----------------\n\n- Update the ``AccessControl`` version pin to fix a remote code execution issue\n  (see `AccessControl security advisory GHSA-qcx9-j53g-ccgf\n  <https://github.com/zopefoundation/AccessControl/security/advisories/GHSA-qcx9-j53g-ccgf>`_)\n\n- Prevent ``DeprecationWarnings`` from moved imports in ``AccessControl``\n\n- make sure \"Manager\" users can always modify proxy roles\n  (`see Products.PythonScripts#50\n    <https://github.com/zopefoundation/Products.PythonScripts/issues/50>`_)\n\n- Deprecate usage of \"unicode\" converters. Also, the behavior of\n  ``field2lines`` is now aligned to the other converters and returns a list of\n  strings instead of a list of bytes.\n  (`#962 <https://github.com/zopefoundation/Zope/issues/962>`_)\n\n- Update to newest compatible versions of dependencies.\n\n\n5.2.1 (2021-06-08)\n------------------\n\n- Prevent unauthorized traversal through authorized Python modules in\n  TAL expressions\n\n- Facelift the Zope logo.\n  (`#973 <https://github.com/zopefoundation/Zope/issues/973>`_)\n\n- Update to newest compatible versions of dependencies.\n\n\n5.2 (2021-05-21)\n----------------\n\n- Prevent traversal to names starting with ``_`` in TAL expressions\n  and fix path expressions for the ``chameleon.tales`` expression engine.\n\n- Provide friendlier ZMI error message for the Transaction Undo form\n  (`#964 <https://github.com/zopefoundation/Zope/issues/964>`_)\n\n- Updated/fixed the poll application tutorial in the Zope Developers Guide\n  (`#958 <https://github.com/zopefoundation/Zope/issues/958>`_)\n\n- Update to newest versions of dependencies.\n\n- Depend on ``zope.datetime`` for the functions ``iso8601_date``,\n  ``rfc850_date``, and ``rfc1123_date`` which used to be in ``App.Common``\n  keeping backwards-compatibility imports in place.\n\nBackwards incompatible changes\n++++++++++++++++++++++++++++++\n\n- With the exception of ``field2bytes``, field converters do no longer try to\n  read file like objects\n  (`#558 <https://github.com/zopefoundation/Zope/issues/558>`_)\n\n\n5.1.2 (2021-03-02)\n------------------\n\n- Enforce Zope permissions during recursive XML-RPC data dumps\n  (`#954 <https://github.com/zopefoundation/Zope/issues/954>`_)\n\n- The ``compute_size`` method properly returns None if the content does not\n  have a ``get_size`` method but the parent has.\n  (`#948 <https://github.com/zopefoundation/Zope/issues/948>`_)\n\n- Fix control panel tab links on all control panel pages\n\n- Update to newest versions of dependencies.\n\n\n5.1.1 (2021-02-10)\n------------------\n\n- Replace (in ``OFS``) the deprecated direct ``id`` access by\n  ``getId`` calls.\n  (`#903 <https://github.com/zopefoundation/Zope/issues/903>`_)\n\n- Update ZMI dependencies for Font Awesome, jQuery and bootstrap.\n\n- Revise debug info GUI\n  (`#937 <https://github.com/zopefoundation/Zope/pull/937>`_)\n\n- Convert ``bytes`` ``HTTPResponse`` header value to ``str``\n  via ``ISO-8859-1`` (the default encoding of ``HTTP/1.1``).\n\n- Fix rendering of not found resources.\n  (`#933 <https://github.com/zopefoundation/Zope/pull/933>`_)\n\n- Update to newest versions of dependencies.\n\n\n5.1 (2020-11-12)\n----------------\n\nBackwards incompatible changes\n++++++++++++++++++++++++++++++\n\n- Exclude characters special for ``chameleon``'s interpolation syntax\n  (i.e. ``${}``) from use in TALES path expressions to reduce the failure risk\n  for the ``chameleon`` interpolation heuristics\n  (`#925 <https://github.com/zopefoundation/Zope/issues/925>`_)\n\nFeatures\n++++++++\n\n- Restore the ZMI `Debug Information` control panel page\n  (`#898 <https://github.com/zopefoundation/Zope/issues/898>`_)\n\nFixes\n+++++\n\n- Fix ZMI visibility of pre elements in error log\n  (`Products.SiteErrorLog#26\n  <https://github.com/zopefoundation/Products.SiteErrorLog/issues/26>`_)\n\n- Fix ``length`` for page template repeat variables\n  (`#913 <https://github.com/zopefoundation/Zope/issues/913>`_)\n\n- Update `isort` to version 5.\n  (`#892 <https://github.com/zopefoundation/Zope/pull/892>`_)\n\n- Update to newest versions of dependencies.\n\n\n5.0 (2020-10-08)\n----------------\n\nBackwards incompatible changes\n++++++++++++++++++++++++++++++\n\n- Drop support for Python 3.5 as it will run out of support soon.\n  (`#841 <https://github.com/zopefoundation/Zope/issues/841>`_)\n\n\nFeatures\n++++++++\n\n- HTTP header encoding support\n  (`#905 <https://github.com/zopefoundation/Zope/pull/905>`_)\n\n- Add support for Python 3.9.\n\n- New interface ``Products.PageTemplates.interfaces.IZopeAwareEngine``.\n  It can be used as the \"provides\" of an adapter registration\n  to adapt a non ``Zope`` tales engine to an engine to be used\n  by ``Zope`` page templates\n  (`#864 <https://github.com/zopefoundation/Zope/issues/864>`_).\n  Currently, the adaptation is used only when the\n  template is rendered with ``chameleon``;\n  with ``zope.pagetemplate``, the engine is used\n  as is - this may change in the future.\n\n- Allow (some) builtins as first element of a (TALES) path expression:\n  in an untrusted context, the builtins from\n  ``AccessControl.safe_builtins`` are allowed;\n  in a trusted context, all Python builtins are allowed in addition\n  (and take precedence)\n  (`zope.tales#23 <https://github.com/zopefoundation/zope.tales/issues/23>`_).\n\n- Support the ``attrs`` predefined template variable again (as\n  far as ``chameleon`` allows it)\n  (`#860 <https://github.com/zopefoundation/Zope/issues/860>`_).\n\n- Use ``Chameleon`` (>= 3.7.2) configuration to get better\n  information for errors detected during template execution\n  (`#837 <https://github.com/zopefoundation/Zope/issues/837>`_).\n\nFixes\n+++++\n\n- Provide a more senseful ``OFS.SimpleItem.Item_w__name__.id``\n  to avoid bugs by use of deprecated direct ``id`` access\n  (as e.g. (`#903 <https://github.com/zopefoundation/Zope/issues/903>`_).\n\n- Update to ``zope.interface > 5.1.0`` to fix a memory leak.\n\n- Fix export of files with non-latin-1 compatible names\n  (`#890 <https://github.com/zopefoundation/Zope/issues/890>`_)\n\n- Avoid unsolicited translations\n  (`#876 <https://github.com/zopefoundation/Zope/issues/876>`_)\n\n- Make \"chameleon-zope context wrapping\" more faithful.\n  (`#873 <https://github.com/zopefoundation/Zope/pull/873/files>`_)\n\n- Let \"unicode conflict resolution\" work for all templates (not just\n  ``ZopePageTemplate``).\n  (`#872 <https://github.com/zopefoundation/Zope/pull/872/files>`_)\n\n- Make \"Unicode Conflict Resolution\" available for templates\n  rendered with ``chameleon``\n  (`Products.CMFPlone#3145\n  <https://github.com/plone/Products.CMFPlone/issues/3145>`_).\n\n- Improve documentation of ``CONTEXTS`` in the \"Zope Book\".\n\n- Decrease cookie size for copy/paste clipboard cookie\n  (`#854 <https://github.com/zopefoundation/Zope/issues/854>`_)\n\n- Fix ``default`` keyword handling in page templates\n  (`#846 <https://github.com/zopefoundation/Zope/issues/846>`_)\n\n- Fix parsing of package version and show correct major version in the ZMI\n\n- Improve solidity of the ``debugError`` method.\n  (`#829 <https://github.com/zopefoundation/Zope/issues/829>`_)\n\n- Fix that ``ZTUtils.LazyFilter`` could not be imported inside a restricted\n  Python script.\n  (`#901 <https://github.com/zopefoundation/Zope/pull/901>`_)\n\nOther changes\n+++++++++++++\n\n- Add ``pyupgrade`` via ``pre-commit``\n  (`#859 <https://github.com/zopefoundation/Zope/issues/859>`_)\n\n- Add ``tal:switch`` test\n\n\n5.0a2 (2020-04-24)\n------------------\n\nBug fixes\n+++++++++\n\n- Pin ``AccessControl`` 4.2 for the `Manage WebDAV Locks` permission\n\n- Fix ``HEAD`` requests on registered views\n  (`#816 <https://github.com/zopefoundation/Zope/issues/816>`_)\n\n- Improve ``chameleon`` --> ``zope.tales`` context wrapper\n  (support for template variable injection)\n  (`#812 <https://github.com/zopefoundation/Zope/pull/812>`_).\n\n- Require ``zope.tales>=5.0.2``\n\n- Fix issue 717 by fully honoring the engine returned by\n  ``PageTemplate.pt_getEngine``\n  (`#717 <https://github.com/zopefoundation/Zope/issues/717>`_).\n  The engine also decides about the use of ``zope.tales``\n  (engine is an instance of ``zope.pagetemplate.engine.ZopeBaseEngine``)\n  or ``chameleon.tales`` (otherwise) TALES expressions.\n\n- Fixed encoding issue of `displayname` WebDAV property\n  (`#797 <https://github.com/zopefoundation/Zope/issues/797>`_)\n\n- Fixed fallback implementation of ``manage_DAVget``\n  (`#799 <https://github.com/zopefoundation/Zope/issues/799>`_)\n\nOther changes\n+++++++++++++\n\n- Update to newest versions of dependencies.\n\n\n5.0a1 (2020-02-28)\n------------------\n\nBackwards incompatible changes\n++++++++++++++++++++++++++++++\n\n- Drop support for Python 2.7 aka Zope 5 cannot be run on Python 2 any more.\n  If you are still running on Python 2.7 upgrade to the latest Zope 4 version\n  first, migrate to Python 3 and than switch to Zope 5.\n  (`#692 <https://github.com/zopefoundation/Zope/issues/692>`_)\n\n- Remove all backwards-compatibility code marked to go away in Zope 5\n  (`#478 <https://github.com/zopefoundation/Zope/issues/478>`_)\n\n- Drop support for running Zope with ZServer as it is Python 2 only.\n  (`#592 <https://github.com/zopefoundation/Zope/issues/592>`_)\n\n- Remove deprecated ``postProcessInputs`` request method.\n  (`#782 <https://github.com/zopefoundation/Zope/issues/782>`_)\n\n- Remove deprecated module ``ZPublisher.maybe_lock``.\n  (`#758 <https://github.com/zopefoundation/Zope/issues/758>`_)\n\n- Remove Help System methods from the product context.\n  (`#756 <https://github.com/zopefoundation/Zope/issues/756>`_)\n\n- Remove more deprecated code.\n  (`#757 <https://github.com/zopefoundation/Zope/issues/757>`_)\n\n- Updated Zope documentation sources for Zope 5.\n  (`#659 <https://github.com/zopefoundation/Zope/issues/659>`_)\n\nNew features\n++++++++++++\n\n- Restore WebDAV support in Zope.\n  (`#744 <https://github.com/zopefoundation/Zope/issues/744>`_)\n\n- Enable WebDAV support independent of ``ZServer``.\n  (`#787 <https://github.com/zopefoundation/Zope/pull/787>`_)\n\n- Clean up and sanitize permissions used for WebDAV-related methods.\n\n- Add ``wsgi.file_wrapper`` implementation\n  https://www.python.org/dev/peps/pep-0333/#optional-platform-specific-file-handling\n  (`#719 <https://github.com/zopefoundation/Zope/pull/719>`_)\n\nBug fixes\n+++++++++\n\n- Only use ``wsgi.file_wrapper`` for response bodies with a ``read`` method.\n  (`#763 <https://github.com/zopefoundation/Zope/issues/763>`_)\n\n- Improve detection of HTTPS requests.\n  (`#680 <https://github.com/zopefoundation/Zope/issues/680>`_)\n\n- Fix several ZMI links so they respect virtual hosting.\n  (`#788 <https://github.com/zopefoundation/Zope/issues/788>`_)\n\n- Fix sort link URLs on ``manage_main``\n  (`#748 <https://github.com/zopefoundation/Zope/issues/748>`_)\n\n- More tests to make sure all ``__str__`` implementations return native\n  strings.\n  (`#692 <https://github.com/zopefoundation/Zope/issues/692>`_)\n\n- Fix longstanding test bug by forcing the page template engine.\n  Many tests in ``Products.PageTemplates`` used the old Zope page template\n  engine because the correct one was not registered during setup.\n\n- Close opened db during shutdown (as ZServer is already doing).\n  (`#740 <https://github.com/zopefoundation/Zope/issues/740>`_)\n\n- The method ``unrestrictedTraverse`` raises an error when\n  the argument ``path`` is not something it can work with.\n  (`#674 <https://github.com/zopefoundation/Zope/issues/674>`_)\n\n- Improve ZMI Security Tab usability for high numbers of roles.\n  (`#730 <https://github.com/zopefoundation/Zope/issues/730>`_)\n\n- Some small ZMI rendering fixes.\n  (`#729 <https://github.com/zopefoundation/Zope/issues/729>`_)\n\n- Fix error when using database minimize in the ZMI.\n  (`#726 <https://github.com/zopefoundation/Zope/issues/726>`_)\n\n- Fix ``__getattr__`` signature in ``UnauthorizedBinding``.\n  (`#703 <https://github.com/zopefoundation/Zope/issues/703>`_)\n\n- Fix VirtualHostMonster not being able to set mappings under Python 3.\n  (`#708 <https://github.com/zopefoundation/Zope/issues/708>`_)\n\n- Reduce the danger of acquiring built-in names on the ZMI Find tab.\n  (`#712 <https://github.com/zopefoundation/Zope/issues/712>`_)\n\n- Restore the mistakenly removed Properties ZMI tab on Image objects\n  (`#706 <https://github.com/zopefoundation/Zope/issues/706>`_)\n\n- Fix ``OFS.Image.File.__str__`` for ``Pdata`` contents\n  (`#711 <https://github.com/zopefoundation/Zope/issues/711>`_)\n\n- Set ``REMOTE_USER`` in wsgi environ using Zope user authentication\n  (`#713 <https://github.com/zopefoundation/Zope/pull/713>`_)\n\n- Add ``Paste`` as ``extras_require`` dependency to pull in ``Paste`` when\n  installing with `pip` and `constraints.txt` to prevent startup errors.\n  This requires adding the ``[wsgi]`` extra in the egg specification.\n  (`#734 <https://github.com/zopefoundation/Zope/issues/734>`_)\n\nOther changes\n+++++++++++++\n\n- Move retried request delay handling out of ``supports_retry``\n  (`#474 <https://github.com/zopefoundation/Zope/issues/474>`_)\n\n- Improve documentation for Zope's error logging services.\n", "AccessControl==5.2\nAcquisition==4.7\nAuthEncoding==4.2.1\nBTrees==4.9.1\nChameleon==3.9.1\nDateTime==4.3\nDocumentTemplate==4.0\nExtensionClass==4.5.0\nMissing==4.1\nMultiMapping==4.1\nPaste==3.5.0\nPasteDeploy==2.1.1\nPersistence==3.0\nProducts.BTreeFolder2==4.3\nProducts.ZCatalog==6.0\nRecord==3.5\nRestrictedPython==5.1\nSecretStorage==3.3.1\nWSGIProxy2==0.4.6\nWebOb==1.8.7\nWebTest==2.0.35\nZConfig==3.6.0\nZEO==5.2.2\nZODB==5.6.0\nZope2==4.0\ncryptography==3.4.7\nfive.localsitemanager==3.2.2\nfuncsigs==1.0.2\nfuture==0.18.2\nipaddress==1.0.23\njeepney==0.6.0\nmock==4.0.3\nmultipart==0.2.4\npbr==5.6.0\npersistent==4.7.0\npytz==2021.1\nroman==3.3\nshutilwhich==1.1.0\nsix==1.16.0\ntransaction==3.0.1\nwaitress==2.0.0\nz3c.pt==3.3.0\nzExceptions==4.1\nzc.lockfile==2.0\nzdaemon==4.3\nzodbpickle==2.0.0\nzope.annotation==4.7.0\nzope.browser==2.3\nzope.browsermenu==4.4\nzope.browserpage==4.4.0\nzope.browserresource==4.4\nzope.cachedescriptors==4.3.1\nzope.component==5.0.0\nzope.componentvocabulary==2.2.0\nzope.configuration==4.4.0\nzope.container==4.4.0\nzope.contentprovider==4.2.1\nzope.contenttype==4.5.0\nzope.datetime==4.3.0\nzope.deferredimport==4.3.1\nzope.deprecation==4.4.0\nzope.dottedname==4.3\nzope.event==4.5.0\nzope.exceptions==4.4\nzope.filerepresentation==5.0.0\nzope.formlib==4.7.1\nzope.globalrequest==1.5\nzope.hookable==5.0.1\nzope.i18n==4.7.0\nzope.i18nmessageid==5.0.1\nzope.interface==5.4.0\nzope.lifecycleevent==4.3.0\nzope.location==4.2\nzope.pagetemplate==4.5.0\nzope.processlifetime==2.3.0\nzope.proxy==4.3.5\nzope.ptresource==4.2.0\nzope.publisher==6.0.2\nzope.ramcache==2.3\nzope.schema==6.1.0\nzope.security==5.1.1\nzope.sendmail==5.2\nzope.sequencesort==4.1.2\nzope.site==4.5.0\nzope.size==4.3\nzope.structuredtext==4.3\nzope.tal==4.5\nzope.tales==5.1\nzope.testbrowser==5.5.1\nzope.testing==4.9\nzope.testrunner==5.3.0\nzope.traversing==4.4.1\nzope.viewlet==4.2.1\n", "-e git+https://github.com/zopefoundation/Zope.git@master#egg=Zope\nAccessControl==5.2\nAcquisition==4.7\nAuthEncoding==4.2.1\nBTrees==4.9.1\nChameleon==3.9.1\nDateTime==4.3\nDocumentTemplate==4.0\nExtensionClass==4.5.0\nMissing==4.1\nMultiMapping==4.1\nPaste==3.5.0\nPasteDeploy==2.1.1\nPersistence==3.0\nProducts.BTreeFolder2==4.3\nProducts.ZCatalog==6.0\nRecord==3.5\nRestrictedPython==5.1\nSecretStorage==3.3.1\nWSGIProxy2==0.4.6\nWebOb==1.8.7\nWebTest==2.0.35\nZConfig==3.6.0\nZEO==5.2.2\nZODB==5.6.0\nZope2==4.0\ncryptography==3.4.7\nfive.localsitemanager==3.2.2\nfuncsigs==1.0.2\nfuture==0.18.2\nipaddress==1.0.23\njeepney==0.6.0\nmock==4.0.3\nmultipart==0.2.4\npbr==5.6.0\npersistent==4.7.0\npytz==2021.1\nroman==3.3\nshutilwhich==1.1.0\nsix==1.16.0\ntransaction==3.0.1\nwaitress==2.0.0\nz3c.pt==3.3.0\nzExceptions==4.1\nzc.lockfile==2.0\nzdaemon==4.3\nzodbpickle==2.0.0\nzope.annotation==4.7.0\nzope.browser==2.3\nzope.browsermenu==4.4\nzope.browserpage==4.4.0\nzope.browserresource==4.4\nzope.cachedescriptors==4.3.1\nzope.component==5.0.0\nzope.componentvocabulary==2.2.0\nzope.configuration==4.4.0\nzope.container==4.4.0\nzope.contentprovider==4.2.1\nzope.contenttype==4.5.0\nzope.datetime==4.3.0\nzope.deferredimport==4.3.1\nzope.deprecation==4.4.0\nzope.dottedname==4.3\nzope.event==4.5.0\nzope.exceptions==4.4\nzope.filerepresentation==5.0.0\nzope.formlib==4.7.1\nzope.globalrequest==1.5\nzope.hookable==5.0.1\nzope.i18n==4.7.0\nzope.i18nmessageid==5.0.1\nzope.interface==5.4.0\nzope.lifecycleevent==4.3.0\nzope.location==4.2\nzope.pagetemplate==4.5.0\nzope.processlifetime==2.3.0\nzope.proxy==4.3.5\nzope.ptresource==4.2.0\nzope.publisher==6.0.2\nzope.ramcache==2.3\nzope.schema==6.1.0\nzope.security==5.1.1\nzope.sendmail==5.2\nzope.sequencesort==4.1.2\nzope.site==4.5.0\nzope.size==4.3\nzope.structuredtext==4.3\nzope.tal==4.5\nzope.tales==5.1\nzope.testbrowser==5.5.1\nzope.testing==4.9\nzope.testrunner==5.3.0\nzope.traversing==4.4.1\nzope.viewlet==4.2.1\n", "##############################################################################\n#\n# Copyright (c) 2007 Zope Foundation and Contributors.\n# All Rights Reserved.\n#\n# This software is subject to the provisions of the Zope Public License,\n# Version 2.1 (ZPL).  A copy of the ZPL should accompany this distribution.\n# THIS SOFTWARE IS PROVIDED \"AS IS\" AND ANY AND ALL EXPRESS OR IMPLIED\n# WARRANTIES ARE DISCLAIMED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n# WARRANTIES OF TITLE, MERCHANTABILITY, AGAINST INFRINGEMENT, AND FITNESS\n# FOR A PARTICULAR PURPOSE.\n#\n##############################################################################\n\nimport os\n\nfrom setuptools import find_packages\nfrom setuptools import setup\n\n\nHERE = os.path.abspath(os.path.dirname(__file__))\n\n\ndef _read_file(filename):\n    with open(os.path.join(HERE, filename)) as f:\n        return f.read()\n\n\nREADME = _read_file('README.rst')\nCHANGES = _read_file('CHANGES.rst')\n\nversion = '5.3.0.dev0'\n\n\nsetup(\n    name='Zope',\n    version=version,\n    url='https://zope.readthedocs.io/en/latest/',\n    project_urls={\n        'Documentation': 'https://zope.readthedocs.io',\n        'Issue Tracker': 'https://github.com/zopefoundation/Zope/issues',\n        'Sources': 'https://github.com/zopefoundation/Zope',\n    },\n    license='ZPL 2.1',\n    description='Zope application server / web framework',\n    author='Zope Foundation and Contributors',\n    author_email='zope-dev@zope.org',\n    long_description=\"\\n\\n\".join([README, CHANGES]),\n    classifiers=[\n        'Development Status :: 6 - Mature',\n        \"Environment :: Web Environment\",\n        \"Framework :: Zope :: 5\",\n        \"Intended Audience :: Developers\",\n        \"License :: OSI Approved :: Zope Public License\",\n        \"Operating System :: OS Independent\",\n        \"Programming Language :: Python :: 3\",\n        \"Programming Language :: Python :: 3 :: Only\",\n        \"Programming Language :: Python :: 3.6\",\n        \"Programming Language :: Python :: 3.7\",\n        \"Programming Language :: Python :: 3.8\",\n        \"Programming Language :: Python :: 3.9\",\n        \"Programming Language :: Python :: Implementation :: CPython\",\n        \"Topic :: Internet :: WWW/HTTP :: Dynamic Content\",\n        \"Topic :: Internet :: WWW/HTTP :: WSGI :: Application\",\n        \"Topic :: Software Development :: Libraries :: Application Frameworks\",\n    ],\n    packages=find_packages('src'),\n    namespace_packages=['Products', 'Shared', 'Shared.DC', 'zmi'],\n    package_dir={'': 'src'},\n    python_requires='>= 3.6',\n    install_requires=[\n        'AccessControl >= 5.2',\n        'Acquisition',\n        'BTrees',\n        'Chameleon >= 3.7.0',\n        'DateTime',\n        'DocumentTemplate >= 4.0',\n        'ExtensionClass',\n        'MultiMapping',\n        'PasteDeploy',\n        'Persistence',\n        'RestrictedPython',\n        'ZConfig >= 2.9.2',\n        'ZODB',\n        'setuptools >= 36.2',\n        'transaction >= 2.4',\n        'waitress',\n        'zExceptions >= 3.4',\n        'z3c.pt',\n        'zope.browser',\n        'zope.browsermenu',\n        'zope.browserpage >= 4.4.0.dev0',\n        'zope.browserresource >= 3.11',\n        'zope.component',\n        'zope.configuration',\n        'zope.container',\n        'zope.contentprovider',\n        'zope.contenttype',\n        'zope.datetime',\n        'zope.deferredimport',\n        'zope.event',\n        'zope.exceptions',\n        'zope.globalrequest',\n        'zope.i18n [zcml]',\n        'zope.i18nmessageid',\n        'zope.interface >= 3.8',\n        'zope.lifecycleevent',\n        'zope.location',\n        'zope.pagetemplate >= 4.0.2',\n        'zope.processlifetime',\n        'zope.proxy',\n        'zope.ptresource',\n        'zope.publisher',\n        'zope.schema',\n        'zope.security',\n        'zope.sequencesort',\n        'zope.site',\n        'zope.size',\n        'zope.tal',\n        'zope.tales >= 5.0.2',\n        'zope.testbrowser',\n        'zope.testing',\n        'zope.traversing',\n        'zope.viewlet',\n    ],\n    include_package_data=True,\n    zip_safe=False,\n    extras_require={\n        'docs': [\n            'Sphinx',\n            'sphinx_rtd_theme',\n            'tempstorage',\n        ],\n        'wsgi': [\n            'Paste',\n        ],\n    },\n    entry_points={\n        'paste.app_factory': [\n            'main=Zope2.Startup.run:make_wsgi_app',\n        ],\n        'paste.filter_app_factory': [\n            'httpexceptions=ZPublisher.httpexceptions:main',\n        ],\n        'console_scripts': [\n            'addzopeuser=Zope2.utilities.adduser:main',\n            'runwsgi=Zope2.Startup.serve:main',\n            'mkwsgiinstance=Zope2.utilities.mkwsgiinstance:main',\n            'zconsole=Zope2.utilities.zconsole:main',\n        ],\n        'zodbupdate.decode': [\n            'decodes = OFS:zodbupdate_decode_dict',\n        ],\n        'zodbupdate': [\n            'renames = OFS:zodbupdate_rename_dict',\n        ],\n    },\n)\n", "[buildout]\n# Version pins for required and commonly used dependencies.\n\n[versions]\nZope =\nZope2 = 4.0\nAccessControl = 5.2\nAcquisition = 4.7\nAuthEncoding = 4.2.1\nBTrees = 4.9.1\nChameleon = 3.9.1\nDateTime = 4.3\nDocumentTemplate = 4.0\nExtensionClass = 4.5.0\nMissing = 4.1\nMultiMapping = 4.1\nPaste = 3.5.0\nPasteDeploy = 2.1.1\nPersistence = 3.0\nProducts.BTreeFolder2 = 4.3\nProducts.ZCatalog = 6.0\nRecord = 3.5\nRestrictedPython = 5.1\nSecretStorage = 3.3.1\nWSGIProxy2 = 0.4.6\nWebOb = 1.8.7\nWebTest = 2.0.35\nZConfig = 3.6.0\nZEO = 5.2.2\nZODB = 5.6.0\ncryptography = 3.4.7\nfive.localsitemanager = 3.2.2\nfuncsigs = 1.0.2\nfuture = 0.18.2\nipaddress = 1.0.23\njeepney = 0.6.0\nmock = 4.0.3\nmultipart = 0.2.4\npbr = 5.6.0\npersistent = 4.7.0\npytz = 2021.1\nroman = 3.3\nshutilwhich = 1.1.0\nsix = 1.16.0\ntransaction = 3.0.1\nwaitress = 2.0.0\nz3c.pt = 3.3.0\nzExceptions = 4.1\nzc.lockfile = 2.0\nzdaemon = 4.3\nzodbpickle = 2.0.0\nzope.annotation = 4.7.0\nzope.browser = 2.3\nzope.browsermenu = 4.4\nzope.browserpage = 4.4.0\nzope.browserresource = 4.4\nzope.cachedescriptors = 4.3.1\nzope.component = 5.0.0\nzope.componentvocabulary = 2.2.0\nzope.configuration = 4.4.0\nzope.container = 4.4.0\nzope.contentprovider = 4.2.1\nzope.contenttype = 4.5.0\nzope.datetime = 4.3.0\nzope.deferredimport = 4.3.1\nzope.deprecation = 4.4.0\nzope.dottedname = 4.3\nzope.event = 4.5.0\nzope.exceptions = 4.4\nzope.filerepresentation = 5.0.0\nzope.formlib = 4.7.1\nzope.globalrequest = 1.5\nzope.hookable = 5.0.1\nzope.i18n = 4.7.0\nzope.i18nmessageid = 5.0.1\nzope.interface = 5.4.0\nzope.lifecycleevent = 4.3.0\nzope.location = 4.2\nzope.pagetemplate = 4.5.0\nzope.processlifetime = 2.3.0\nzope.proxy = 4.3.5\nzope.ptresource = 4.2.0\nzope.publisher = 6.0.2\nzope.ramcache = 2.3\nzope.schema = 6.1.0\nzope.security = 5.1.1\nzope.sendmail = 5.2\nzope.sequencesort = 4.1.2\nzope.site = 4.5.0\nzope.size = 4.3\nzope.structuredtext = 4.3\nzope.tal = 4.5\nzope.tales = 5.1\nzope.testbrowser = 5.5.1\nzope.testing = 4.9\nzope.testrunner = 5.3.0\nzope.traversing = 4.4.1\nzope.viewlet = 4.2.1\n"], "filenames": ["CHANGES.rst", "constraints.txt", "requirements-full.txt", "setup.py", "versions-prod.cfg"], "buggy_code_start_loc": [12, 1, 2, 72, 7], "buggy_code_end_loc": [12, 2, 3, 73, 8], "fixing_code_start_loc": [13, 1, 2, 72, 7], "fixing_code_end_loc": [17, 2, 3, 73, 8], "type": "CWE-1321", "message": "Zope is an open-source web application server. Zope versions prior to versions 4.6.3 and 5.3 have a remote code execution security issue. In order to be affected, one must use Python 3 for one's Zope deployment, run Zope 4 below version 4.6.3 or Zope 5 below version 5.3, and have the optional `Products.PythonScripts` add-on package installed. By default, one must have the admin-level Zope \"Manager\" role to add or edit Script (Python) objects through the web. Only sites that allow untrusted users to add/edit these scripts through the web are at risk. Zope releases 4.6.3 and 5.3 are not vulnerable. As a workaround, a site administrator can restrict adding/editing Script (Python) objects through the web using the standard Zope user/role permission mechanisms. Untrusted users should not be assigned the Zope Manager role and adding/editing these scripts through the web should be restricted to trusted users only. This is the default configuration in Zope.", "other": {"cve": {"id": "CVE-2021-32811", "sourceIdentifier": "security-advisories@github.com", "published": "2021-08-02T22:15:08.333", "lastModified": "2022-12-02T19:35:29.907", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "Zope is an open-source web application server. Zope versions prior to versions 4.6.3 and 5.3 have a remote code execution security issue. In order to be affected, one must use Python 3 for one's Zope deployment, run Zope 4 below version 4.6.3 or Zope 5 below version 5.3, and have the optional `Products.PythonScripts` add-on package installed. By default, one must have the admin-level Zope \"Manager\" role to add or edit Script (Python) objects through the web. Only sites that allow untrusted users to add/edit these scripts through the web are at risk. Zope releases 4.6.3 and 5.3 are not vulnerable. As a workaround, a site administrator can restrict adding/editing Script (Python) objects through the web using the standard Zope user/role permission mechanisms. Untrusted users should not be assigned the Zope Manager role and adding/editing these scripts through the web should be restricted to trusted users only. This is the default configuration in Zope."}, {"lang": "es", "value": "Zope es un servidor de aplicaciones web de c\u00f3digo abierto. Zope versiones anteriores a 4.6.3 y 5.3 tienen un problema de seguridad de ejecuci\u00f3n de c\u00f3digo remota . Para ser afectado, uno debe usar Python 3 para su despliegue de Zope, ejecutar Zope 4 por debajo de la versi\u00f3n 4.6.3 o Zope 5 por debajo de la versi\u00f3n 5.3, y tener el paquete adicional opcional \"Products.PythonScripts\" instalado. Por defecto, hay que tener el rol de \"Manager\" de Zope a nivel de administrador para a\u00f1adir o editar objetos Script (Python) mediante la web. S\u00f3lo los sitios que permiten a usuarios no confiables a\u00f1adir/editar estos scripts mediante la web est\u00e1n en riesgo. Zope versiones 4.6.3 y 5.3 no son vulnerables. Como soluci\u00f3n, el administrador del sitio puede restringir la adici\u00f3n/edici\u00f3n de objetos Script (Python) mediante la web usando los mecanismos est\u00e1ndar de permisos de usuario/rol de Zope. Los usuarios que no son de confianza no se les deber\u00eda asignar el rol de Administrador de Zope y a\u00f1adir/editar estos scripts mediante la web deber\u00eda estar restringido s\u00f3lo a usuarios de confianza. Esta es la configuraci\u00f3n predeterminada en Zope"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "HIGH", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "HIGH", "baseScore": 7.2, "baseSeverity": "HIGH"}, "exploitabilityScore": 1.2, "impactScore": 5.9}, {"source": "security-advisories@github.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:H", "attackVector": "NETWORK", "attackComplexity": "HIGH", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "HIGH", "baseScore": 7.5, "baseSeverity": "HIGH"}, "exploitabilityScore": 1.6, "impactScore": 5.9}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:S/C:P/I:P/A:P", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "SINGLE", "confidentialityImpact": "PARTIAL", "integrityImpact": "PARTIAL", "availabilityImpact": "PARTIAL", "baseScore": 6.5}, "baseSeverity": "MEDIUM", "exploitabilityScore": 8.0, "impactScore": 6.4, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-1321"}]}, {"source": "security-advisories@github.com", "type": "Secondary", "description": [{"lang": "en", "value": "CWE-915"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:zope:accesscontrol:*:*:*:*:*:*:*:*", "versionStartIncluding": "4.0", "versionEndExcluding": "4.3", "matchCriteriaId": "8538D35C-EA69-4A87-8DBB-D6522F8C7422"}, {"vulnerable": true, "criteria": "cpe:2.3:a:zope:accesscontrol:*:*:*:*:*:*:*:*", "versionStartIncluding": "5.0", "versionEndExcluding": "5.2", "matchCriteriaId": "34F2C931-DCB6-4326-BBDF-2E9B13946D55"}, {"vulnerable": true, "criteria": "cpe:2.3:a:zope:zope:*:*:*:*:*:*:*:*", "versionStartIncluding": "4.0", "versionEndExcluding": "4.6.3", "matchCriteriaId": "30CF6645-50E3-42F0-8E21-8476237210C8"}, {"vulnerable": true, "criteria": "cpe:2.3:a:zope:zope:*:*:*:*:*:*:*:*", "versionStartIncluding": "5.0", "versionEndExcluding": "5.3", "matchCriteriaId": "63A55EE7-7617-407F-83AB-219EA3769E61"}]}]}], "references": [{"url": "https://github.com/zopefoundation/AccessControl/security/advisories/GHSA-qcx9-j53g-ccgf", "source": "security-advisories@github.com", "tags": ["Third Party Advisory"]}, {"url": "https://github.com/zopefoundation/Zope/commit/f72a18dda8e9bf2aedb46168761668464a4be988", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/zopefoundation/Zope/security/advisories/GHSA-g4gq-j4p2-j8fr", "source": "security-advisories@github.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/zopefoundation/Zope/commit/f72a18dda8e9bf2aedb46168761668464a4be988"}}