{"buggy_code": ["Version 1.13.0+dev:\n * AI:\n   * Fast Micro AI: exclude hidden enemies from attack evaluation by default;\n     add optional key attack_hidden_enemies to override this\n   * Lua AI helper functions: fix bug crashing the AI when number= is not set in\n     a unit attack definition\n   * Micro AIs: add a warning and avoid crash when a non-existing side is used\n     in the [micro_ai] tag\n * Campaigns:\n   * Dead Water:\n     * The Stun effect now expires at the stunned unit's side turn end\n   * Under the Burning Suns:\n     * The Stun effect now expires at the stunned unit's side turn end\n * Editor:\n   * Redesigned Generate Map dialog to use a real listbox and remember the\n     last choice during the same editor session.\n   * Fixed stack corruption bug in the Side Setup dialog.\n * Graphics:\n   * New generic portraits for the Walking Corpse and Soulless\n * Language and i18n:\n   * Updated translations: Galician, Scottish Gaelic\n * Multiplayer:\n   * Era names no longer support formatting markup in the game setup screen.\n   * Removed the Silver Mage from the available leaders for the Rebels faction\n     in Age of Heroes.\n   * Fixed \"Accept whispers from friends only\" not working with the default\n     lobby UI, and added a warning every 5 minutes for individual rejected\n     senders.\n * Units:\n   * Fixed the Shuja not having the default AMLA.\n * User interface:\n   * Fixed minimap buttons appearing without contents or in the wrong state\n     during WML start events until they are interacted with or control is given\n     to the player for the first time or some other unspecified thing happens.\n   * Force uniform font rendering settings across X11 and Apple OS X, avoiding\n     color glitches resulting from incorrect applications of subpixel hinting\n     (bug #20337).\n   * Hide mod options from the user command prompt dialog in the MP lobby when\n     not authenticated as a mod.\n   * Fixed unit bars, ellipses, and orbs disappearing for individual units in\n     replay mode when using Skip Animations/Quick Replays if they moved without\n     attacking or otherwise switching to a new animation.\n   * Chat Log dialog now starts on the last log page when there are multiple\n     pages.\n   * Fixed Wesnoth's fonts remaining in use by Windows after abnormal exits, as\n     well as being available to other applications.\n * WML engine:\n   * Added support for [object] duration=turn end\n   * New or updated image path functions:\n      * ~BW(): converts an image to black and white\n      * ~NEG() now supports 0,1 or 3 arguments, allowing solarization effects\n      * ~SWAP(): swaps the RGBA channels of the image\n   * Added support for SLF in [label] when used inside an event\n * Miscellaneous and bug fixes:\n   * Removed abandoned libana network API implementation.\n   * Fixed bug#23201 Toggle icons display error in replay.\n   * Added --wconsole switch to allocate a console on startup (Windows-only).\n   * Added cwesnoth.cmd wrapper script to start Wesnoth with a console\n     displaying stdout+stderr (Windows-only).\n   * Updated mainline campaigns and multiplayer scenarios to use [filter] status=\n     instead of [filter] [filter_wml] [status]\n   * Fixed a segfault in [move_units_fake]\n   * Fixed unbound memory read in the MP map selection screen that could lead\n     to a segmentation fault or other abnormal behavior (bug #23606).\n   * Made silence.ogg larger to work around a crash involving the multiplayer\n     lobby with music and sound enabled (bug #23633, possibly also bug #23599,\n     bug #23203, bug #23026).\n\nVersion 1.13.0:\n * Security fixes:\n   * Fixed arbitrary file read from WML/Lua API (CVE-2015-0844, bug #23440).\n * Add-ons client:\n   * The Update All button is now displayed on all Add-on Manager views instead\n     of just the Upgradable filter view, and enabled only when there is at\n     least one add-on that may be upgraded.\n * Add-ons server:\n   * Add-on metadata pattern blacklisting implemented.\n   * Major internal refactoring done.\n * AI:\n   * New Micro AI: Fast AI\n   * Big Animals Micro AI: bug fix for units not attacking when [avoid_unit] is\n     not set\n   * Bottleneck Micro AI: bug fix for case when allied units are present\n   * Coward Micro AI: new optional key attack_if_trapped=\n   * Forest Animals Micro AI: bug fix for wander terrain lying on border hexes\n   * Herding Micro AI: bug fix for dogs sometimes having moves left at end\n   * Lurkers Micro AI: fix bug in wander terrain selection\n   * Lurkers Micro AI: bug fix for attack error when lurker runs into ambush\n   * Lurkers MAI: bug fix for attempting to attack petrified units\n   * Messenger Escort Micro AI: new optional parameters [filter],\n     [filter_second] and invert_order=\n   * Stationed Guardian Micro AI: make guard_x/y= optional keys\n   * Stationed Guardian Micro AI: bug fix for unreachable stations\n   * Messenger Escort Micro AI: bug fix for escort units blocking messenger's\n     progress\n   * Several Micro AIs: fix a variety of rarely occurring but serious bugs, such\n     as invalid savegames or disabling the AI from working for the rest of the\n     turn or after changing the Micro AI settings.\n   * Bug fix for requiring unnecessary keys for removal of several Micro AIs\n   * Fixed a bug that made it impossible to change or delete Micro AIs after a\n     game had been reloaded (bug #21750). This was a general bug in the RCA AI\n     mechanism and applied to other CAs as well, but it was most visible in the\n     Micro AIs.\n   * Some internal reorganization of Micro AI code to facilitate customizing\n     them for UMC and adding functionality from other versions of Wesnoth. Some\n     code cleanup for consistency, readability and speed, as well as fixing of\n     some minor and subtle bugs.\n   * Fix bug in Random Recruit Micro AI: the AI can now handle custom castle\n     terrain independent of its terrain code\n   * Fix bug in Return Guardian and Goto Micro AIs when there is no path to\n     the goal hex\n   * Several fixes of translatable strings in Micro AIs\n   * Micro AIs: only display on-screen error messages when in debug mode\n   * Add conditional inclusion of AI macros to AI cfgs in data/ai\n * Campaigns:\n   * Changed all occurrences of {FLAG_VARIANT ragged} to {FLAG_VARIANT6 ragged}\n   * Singleplayer campaign creation now utilizes the create, configure,\n     and connect engines from the multiplayer codepath.\n   * Eras, mods, and options are now available for sp campaigns.\n   * Fix sighted events firing too early in several scenarios. Fixes bug #22466\n   * Use the new bigmaps for A Tale of Two Brothers, Delfadors Memoirs, The\n     Hammer of Thursagan, Northern Rebirth and the epilogue of Legend of\n     Wesmere.\n   * Remaining cases of old-style note and carryover information in [objectives]\n     have been converted to a newer style.\n   * A Tale of Two Brothers:\n     * Updated music playlists.\n   * Descent into Darkness:\n     * Fixed various issues with player and enemy gold and income in\n       'Descent into Darkness'.\n     * Fixed Darken Volk's ellipse in scenarios 'A Small Favor part 3' and\n       'Alone at Last'.\n     * Fixed Darken Volk being completely passive in 'Alone at Last'.\n     * 'Return to Parthyn' now has variable content depending on whether\n        necromancy was used in 'Saving Parthyn'.\n   * Eastern Invasion:\n     * In 'Captured', stolen gold won't be mentioned if the player had no\n       carryover gold.\n     * Updated maps for scenario 14, 16 and 17b.\n     * New animation for Ravanal's shadow wave.\n     * Added the Skeleton Rider line.\n     * New map for 'Mal-Ravanal's Capital', as well as updated\n       maps for scenario 2 and 4b.\n     * Tweaked and rebalanced all scenarios up to 'Two Paths'.\n   * Heir to the Throne:\n     * Tweaked and expanded music playlists for all scenarios.\n     * Fixed missing message in 'The Siege of Elensefar'.\n     * Hide unit variations that should not be listed in the help browser.\n   * Liberty:\n     * Fixed possibility of no viable routes around guards in 'Hide and Seek'.\n     * Tweaked resistances for the Skeleton Rider line.\n   * Northern Rebirth:\n     * Fixed Sister Thera and Father Morvin respawning into the recall list if\n       the other is on the north or west map edges.\n     * Sister Thera and Father Morvin will no longer speak dialog on their death\n       after 'The Pursuit'.\n     * The maps for 'Infested Caves', 'Clearing the Mines', and 'The Pursuit'\n       have been completely redone.\n     * All scenarios up to 'Old Friend' have been significantly tweaked and\n       rebalanced.\n   * Sceptre of Fire:\n     * Balancing changes for 'The Dragon'.\n   * Son of the Black Eye:\n     * S2: adjusted starting villages; scenario now ends if Kapou'e is already\n       on the signpost when the messenger comes back\n     * S3: make objectives consistent between before and after trolls appear\n     * S6: remove AI controller.  It doesn't work with sides without a leader\n     * S6: reduce randomness of unit types unloading from galleons\n     * Minor balance tweaks to scenarios 7, 8, 12, 14, 15, 17 and 18.\n     * Made allied leaders less likely to get themselves killed.\n     * Minor changes to objectives and messages in scenarios 7, 8 and 14\n   * The Hammer of Thursagan:\n     * Fixed missing objective in 'The Court of Karrag'.\n     * Rebalanced scenarios 'Invaders', Mages and Drakes' and 'Fear'.\n     * Set Masked Dwarvish Lord range attack same as for Dwarvish Lord\n     * Fixed some messages not being shown in custom events in 'The Underlevels'\n     * 'The Court of Karrag' and 'Epilogue' feature a new map.\n   * The Rise of Wesnoth:\n     * Hide unit variations that should not be listed in the help browser.\n   * Tutorial:\n     * Rewritten with an eye to being less constricting and more informative.\n   * Under the Burning Suns\n     * Fixed recruited Desert Archers being always male.\n     * Fixed malformed rand range errors during AI turns on medium difficulty\n       in 'A Stirring in the Night'.\n     * Fixed bug #22800: Cloaked Figure appears in strange location.\n     * Fixed bug #22799: No allies killed by enemy reinforcements.\n     * Fixed bug #22790: Various problems with dehydration.\n     * Hide unit variations that should not be listed in the help browser.\n * C++ Engine:\n   * Purge \"human_ai\" controller type. This is a fixup of bugfix #18829 below.\n * Editor:\n   * Added an entry for the terrain description help to the context menu.\n   * Default hotkey bindings for brushes (1-5)\n   * Disabled the swap palette button when the unit palette is active.\n   * Disabled the tod schedule and playlist menus in pure map mode.\n   * Support for displaying the saved status of the selected area.\n   * Fixed error messages about missing UI elements.\n   * Fixed falcon race missing an icon due to having incorrectly-named image\n     files.\n * Graphics:\n   * New Ancient Lich baseframe and animations\n   * New standing animation (NE and SE) for the Revenant\n   * New standing animation for the Dwarvish Stalwart\n   * Smooth unit movement over terrains with elevation such as keeps and\n     bridges (bug #20635).\n   * Fixed bug #22045: Only blit neutral surfaces.\n   * [item] images are now subject to local ToD lighting effects instead of\n     just the current map-wide ToD lighting (bug #22215).\n   * Disabled \"alpha thresholding\" in the bilinear interpolation algorithm\n     used for all sprites and images. (This was introduced as a workaround\n     for an old bug.)\n   * Add a new bilinear interpolation implementation, which properly performs\n     alpha weighting when averaging colors, and rename old one as the legacy\n     version.\n   * Align unit overlays to the sprite rather than the occupied hex.\n   * Added Brazier and Lit Brazier embellishment terrains\n   * New beach waves terrain animation.\n   * New images for the dummy, barrel, and green cloak items\n   * Updated Snowy Orcish Castle and Keep terrain images\n * Help browser:\n   * Several sections have been rewritten or had their layout improved\n   * Added trait list with links to the help page for unit types\n   * Added Defense Cap column to the Terrain Modifiers table in unit help pages\n     for units with a defense cap on at least one terrain type, which also now\n     include a note to this effect in their special notes.\n   * Fixed a bug which caused the terrain section topic not to properly generate\n     a list of its contents.\n   * Add a new help section to the terrains topic which explains about mixed\n     terrain types.\n   * When using the terrain description feature with a mixed terrain type, the\n     game will autogenerate a formatted explanation of its best / worst movement\n     / defense properties.\n   * Added automatic help entries for all eras, fulfilling Feature Request\n     #22107\n   * Fixed in-game help descriptions of default factions, using content from\n     wiki\n   * Added automatically generated lists of races and alignments to the\n     descriptions of factions\n   * Autogenerated Time of Day Schedule section\n   * Unit types that do not include any visible (hide_help=no) variations no\n     longer generate topic sections.\n * Language and i18n:\n   * Updated translations: Chinese (Simplified), Chinese (Traditional), Czech,\n     French, Galician, German, Greek, Hungarian, Italian, Lithuanian, Polish,\n     Portuguese, Russian, Scottish Gaelic, Slovak, Spanish, Vietnamese\n   * Fixed cmake pot-update target on Debian and other systems that do not use\n     bash as the default /bin/sh.\n * Lua API:\n   * Upgraded Lua to version 5.2.3.\n   * Fix bug #21761: wesnoth.synchronize_choice will now give a warning when\n     the table returned by the user-specified function is not completely valid,\n     when wesnoth is running in debug mode (--debug command line flag).\n   * Added new function wesnoth.get_all_vars().\n   * Add (tentative, preliminary) support for lua scripting of wesnoth\n     application functions\n   * Enable ilua \"strict mode\" by default. This safety feature helps to catch\n     errors caused by mistyped variable names, and improves the behavior of the\n     lua interpreter console. See 1.13.0 RELEASE NOTES for more details.\n   * Add multiplayer client scripting (join lobby, chat, host games, save games,\n     reload games) and mp unit tests based on this\n   * Add functions in wesnoth.map_location to perform map location arithmetic\n     using the same functions the C++ engine does\n   * Enabled support for the bit32 library (bitwise operations)\n   * Added support for treeview wigets in lua gui2 dialogs.\n   * Added support to define wml conditional tags in lua. See the\n     wesnoth.wml_condtionals table as described on the wiki.\n * Multiplayer:\n   * Fixed the Set Password option during game creation not having an effect\n     due to a misplaced WML attribute in the client's command for the server\n     (bug #23015).\n   * Fixed missing scenario title in lobby for reloaded MP campaigns.\n   * Added \"no mirror\" and \"no ally mirror\" options to the MP configure screen.\n   * Multiplayer content [era], [modifications] now carry version info of their\n     associated add-on, and may have \"addon_min_version\" fields set which\n     specify backwards compatibility with earlier versions.\n   * Missing content for games hosted in the mp server may now be retrieved\n     automatically by clicking on these games in the mp lobby.\n   * Ported the password prompt displayed when joining a password-protected MP\n     game to GUI2 (bug #23455).\n * Music:\n   * Change main menu track to Journey's End.\n * Replays:\n   * Added a button that allows playing a single move in replay mode.\n * Units:\n   * Increased the experience requirement for the Rami from 32 to 39\n   * Increased the experience requirement for the Saree from 56 to 64\n   * Changed sound timings for Khalifate melee attacks\n   * New chill tempest animation for Lich/Ancient Lich\n   * Add 'elemental' trait to Mudcrawler line\n   * Fix sound timings for drake fire animation macros\n   * Assigned capitalized translatable names to Walking Corpse and Soulless\n     variations (bug #22902).\n   * Hid alternate Great Wolf variation from help as it is identical to the\n     default variation stats-wise.\n * User interface:\n   * Added a context menu option for command mode.\n   * Added a Classic theme which restores the 1.10 UI.\n   * Made orb and minimap colors configurable in Preferences.\n   * Remove 'allow_new_game=no' entries from random map new game list\n   * Fixed bug #22095: An assertion failure in the gamestate inspector.\n   * Changed: A listbox can now update its size when rows are added.\n   * Changed: Avoid listboxes to handle mouse clicks twice.\n   * Fixed bug #22144 + #22046: An assertion failure with empty labels in\n     a listbox.\n   * The :inspect dialog now uses the same function as saved games to generate\n     WML in text form instead of a simplified version.\n   * Added a button to copy the currently displayed content from the :inspect\n     dialog to clipboard.\n   * WML array elements are now displayed with subscripts in the :inspect\n     dialog.\n   * Added a button to copy the in-game Chat Log dialog contents to clipboard.\n   * Fixed the WML load error dialog not displaying an add-on name instead of\n     falling back to its directory name if the add-on contains an outdated\n     _info.cfg file lacking an [info]title= value.\n   * Fixed most of the minimap buttons and the End Turn button appearing\n     without contents or in the wrong state during WML start events until they\n     are interacted with or control is given to the player for the first time.\n   * Added a new subdialog in Preferences to clean or purge the WML cache.\n   * Fixed AI engine names in the MP game setup screen being translated to the\n     language selected when Wesnoth was started rather than the current\n     language (bug #22092).\n   * Added a new \"Advanced Settings\" button and dialog to campaign select.\n   * Added new wml attributes to listbox: has_minimum and has_maximum.\n   * Added a \"Disable automatic moves\" preference to disable automatic movements\n     at the beginning of a turn.\n   * Fixed lower button row padding for GUI1 dialogs including Statistics and\n     the Add-ons Manager (bugs #22379, #22791).\n   * Fixed mouse tracking issue with workaround by changing the default window\n     resolution for OS X to 800 x 600 (bug #20332).\n   * Removed the \"Replay viewer\" text label from the replay controller theme,\n     because it caused problems for translators and was unnecessary\n   * Fixed bug #22337: Bug in inspect long arrays\n   * Added a new \"Alerts\" configuration screen under Preferences > Multiplayer,\n     refactored all of the mp alerts / desktop notifications for customizability\n   * Removed \"desktop_notifications\" and \"lobby_sounds\" advanced preferences,\n     as they are subsumed by the Preferences > Multiplayer > Alerts screen now.\n   * Added support for hyperlink rendering and clicking in gui2 labels.\n   * Added lua interpreter console, accessible via a hotkey\n   * Add lua console button to gamestate inspector\n   * Add command history and history expansion to lua console, based on optional\n     support from GNU readline history library.\n   * Add support to evaluate expressions automatically in lua console, based on\n     a lua lib \"ilua\", and \"experimental compilation\" technique.\n   * Fixed game falling back to desktop if a user declines to load a previous\n     version save from within a game\n   * Fix bug #22984: Sliders (GUI1) focusing improperly in non-game contexts,\n    and not responding to left-right key press\n   * Wesnoth now ships with Bold and Oblique forms of its default font, Deja Vu\n     Sans, and these are used in many menus and in the in-game help for styling\n     text where previously we used SDL_TTF. Fixes bug #22376.\n * WML engine:\n   * New image path functions:\n      * ~XBRZ(): Takes one argument, the scaling factor (1-5). Uses the xBRZ\n        scaling algorithm added in this release.\n      * ~SCALE_SHARP(): Anologous to ~SCALE() but using the nearest neighbor\n        scaling algorithm instead.\n      * ~PLOT_ALPHA(): No arguments, plots the alpha channel in greyscale.\n        Mainly useful for diagnostics of other function combinations, or\n        debugging the engine itself.\n      * ~WIPE_ALPHA(): Again mainly useful for diagnostics.\n      * ~ADJUST_ALPHA(): Takes either a % or an 8-bit integer, and \"multiplies\"\n        the alpha channel by this value.\n      * ~SEPIA(): Gives the image a sepia tint.\n      * ~NEG(): Gives the image a photographic negative effect.\n   * Added customizable recall costs for unit types and individual units,\n     using the new recall_cost attribute in [unit_type] and [unit] (bug #13074).\n   * Added support for [elseif] tags inside [if]\n   * Schema validator and preprocessor #warning messages now conform better to\n     the new WML parser/preprocessor diagnostics format introduced in version\n     1.11.10.\n   * Added define= functionality to scenarios, eras, and modifications.\n   * [unit] uses passed [advancement]s instead of unittypes advancements if\n     [advancement] were given in [unit].\n   * allow [lua] tags inside [modification] and [era] (which have the same\n     effect as [lua] tags inside [scenario]).\n   * enable side_for= in key [message] with [option]s.\n   * added [effect] apply_to=fearless/healthy which is now used by\n     healthy/fearless traits instead of hardcoding the id of those traits in c++.\n   * added support for a shuffle key in the [music] music to allow selecting\n     between random and non-random music play (bug #19653)\n   * Fixed a bug that prevented [animate_unit] from displaying death or victory\n     animations for those units that filter them based on weapon (eg. Wose)\n   * New WML tags: [put_to_recall_list] and [sync_variable].\n   * Fixed nested macros emitting incorrect bindings to the default 'wesnoth'\n     textdomain at the end of a substitution instead of the parent textdomain,\n     this breaking localization of subsequent strings (bug #22962).\n   * Sounds for slow and poison are automatically played when slowing/poisoning\n     a unit, and should no longer be played by the attack animations.\n   * force_lock_settings defaults to yes in [scenario].\n   * Moved all preprocessor diagnostics from the 'config' log domain to\n     'preprocessor'.\n   * Dropped support for [filter_side] in [gold] and [modify_ai], [theme] name=\n     in place of id, and [object] duration=level.\n   * Allowed direct modification of unit.ellipse variable even if ellipse= is set\n     in [unit_type] or by an [effect]\n   * Add accelerate=yes/no key in [delay]\n   * Add support for status= key in SUFs\n   * Add \"disallow_shuffle\" key in [side], which causes the \"shuffle sides\"\n     feature always to skip this side, even if it is human playable.\n   * Add \"require_scenario\" key in [scenario], [multiplayer], which causes a\n     multiplayer game to require that all participants have the add-on installed.\n * Miscellaneous and bug fixes:\n   * replace 'fight_on_without_leader'=yes/no with defeat_condition=no_leader/\n     no_units/always/never which allows the wml developer to decide when a side\n     is considered defeated\n   * Fix Fisher-Yates implementation of Lua helper.shuffle (bug #21706)\n   * Fixed issues with the ~BG() image path function not always working with\n     cached images.\n   * Idle controlled sides now serialize as human controlled.\n   * Fixed bug #20876: A segfault in cut_surface.\n   * Dropped support for AmigaOS, BeOS, and OS/2.\n   * Increased the sound mixer channel allocation from 16 to 32, thereby\n     raising the limit for simultaneous sound effects from 5 to 20, and\n     simultaneous UI sounds from 1 to 2.\n   * Fix bug #21758: \"Ready not blocked while player pick faction.\"\n   * Fix bug #18829: \"ai sides show up as \"controller=network\" on remote\n     clients\". This issue is the source of some difficulties with mp campaigns\n     which occur when the campaign is reloaded from a non-host side, or after a\n     player rejoins from observer status. Hopefully, reloading campaigns is\n     easier after this.\n   * Fix bug #21797: \"Mandatory WML child missing\" when leaving a reloaded game.\n   * Fix bug #21808: Cannot join a reloaded game as an observer.\n   * Fixed halos glitching through locations that become shrouded after the\n     halo is rendered for the first time.\n   * OS X user data directory is now ~/Library/Application Support/Wesnoth_1.13.\n     For compiling Wesnoth using Xcode, a new version of\n     wesnoth_compile_mac_1.13.zip is also required.\n   * Fix bug #21257: Lagging animations with skip AI animations and fog/shroud.\n   * Improved unicode handling on windows for characters outside the Basic\n     Multilingual Plane.\n   * Fix bug #3856: The turn dialog used in hotseat MP play now applies\n     a blindfold for the duration of the dialog.\n   * Petrified units are no longer displayed in the \"Damage versus\" tooltip.\n   * Fix bug #21759: \"timer refreshed too often when time runs out\"\n   * Use one combo box instead of check boxes for replay options \"skip replay\"\n     and \"enter blindfold\". This fixes the mp lobby in width <= 800 resolutions.\n     Fixes bug #21888.\n   * MP server now commits controller changes to the replay rather than updating\n     as we go along. Among other things these means that players that join an\n     scenario with ai sides which has already started won't have corrupted\n     controller types which would prevent them from successfully saving and\n     reloading in the future.\n     We have also moved all \"controller tweaks\" associated to the start of MP\n     games to server-side rather than having a mix of client and server code.\n   * Fixup user-displayed strings associated to replay options, idle state\n   * OS X: mark Wesnoth as not high-resolution capable. This greatly improves\n     performance on retina devices.\n   * Upgrade Xcode project to enable both i386 and x86_64 builds\n   * Fixed problems with idle controller type in networked mp.\n   * Fix bug 21459 by making dropped sides default to idle.\n   * Fix bug 21882 by introducing \"fight_on_without_leader\" boolean attribute\n     of [side] tags and refactoring check_victory to use this.\n   * Changed: Don't use the random generator for units with no names.\n   * Fix bug #21910: code for game is ready bell is corrected, simplified, and\n     moved to mp_connect::process_network_data.\n   * Deliver desktop notifications in tandem with \"game is ready\" bell and\n     also the \"game has begun\" bell.\n   * Fix bug in which blindfold could cause OOS.\n   * Fix bug #21914: allow drake walking corpse variation to move on unwalkable\n   * Fix unnecessary \"Mandatory WML Child not found\" error when replay file\n     doesn't have a [carryover_sides_start] tag\n   * Server now generates PR 121 compliant replay files.\n   * Fix bug #21025: replay controller doesn't execute play_next_side properly\n   * Fix bug #21916: ready blocked at inappropriate times\n   * Fix bug #21931: controllers bugged in (basic campaign) when networked\n   * Fix bug #21883: make sure movement animations don't cycle with fog on\n   * Fix bug #21316: make subframes within standing animations cycle by default\n   * Fix bug #21967: fix crash when unit modification to traits has empty id\n   * Fix bug #19258, 21962: WML variables spuriously copied to replay_start\n   * Fix implementation bug in random number generator: rand_pool_ is now an\n     unsigned long rather than an unsigned int.\n   * Fix bug #21491: fix drag+drop for unit movements\n   * Fix bug #21448: make premoved units selection like in Wesnoth 1.10\n   * Fix bug #21372: fix unit move continuation if enemy discovered\n   * Added a Python/Tkinter based GUI to allow running wmllint, wmlscope and\n     wmlindent in an easier way\n   * Some commandline output which was helpful for noninteractive ai testing\n     is redirected from std::cout to a logdomain \"aitesting\".\n   * Added WML unit test capabilities, accessible from commandline using -u\n     switch. These are useful for unit testing the WML / lua api.\n   * Support for total conversions, so called \"cores\".\n   * Fix bug #22030: correct index of weapon special disable in attack GUI\n   * Fix bug #21964: assertion failure when using \"controller\" attribute with\n     a number.\n   * Add [do_command], which takes the body of a [command] tag from ReplayWML,\n     (some possibilities not allowed), and executes the corresponding action.\n     It is replay safe and triggers WML events as appropriate.\n   * Reallow selection of another unit on same side without deselect first\n   * Add \"strict mode\". Using --log-strict=[severity] causes wesnoth to throw\n     a game_error exception when anything is written to a log as severe as\n     that. For example --log-strict=warning causes both warnings and errors\n     to generate runtime exceptions. This is intended for unit tests.\n   * Fix bug #21867: team flag colors not refreshed after making use of\n     [modify_side] color= unless a new flag set is also provided.\n   * Fix a bug where in movement records, \"skip_sighted\" was sometimes\n     spelled as \"skip_sighed\".\n   * Fix bug #22020: make base units with variations help entry clickable\n     from the 'Unit Description' menu entry or from side pane.\n   * Fix bug #21977: ready blocked on scenario transition, when\n     allow_new_game=yes\n   * Add \"MAKE_ENUM\" macro to simplify parsing of WML options.\n   * \"MAKE_ENUM\" macro signals WML parsing errors when the game is run\n     in debug mode, and an illegal value for an attribute is encountered.\n   * Fix bug #21397 Reloading may cause a side's turn is not initialized.\n     This bug affected only networked mp, at least since version 1.8.\n   * [modify_side] may now alter the value of [side] defeat_condition.\n   * Fix bug #22116: unlock movement when attacking enemy+discovering in fog\n   * In mp the other players now also proceed to the next scenario if one human\n     player wins.\n   * Fix bug #21397: \"Saving and loading may cause a side's turn is not\n     initialized\".\n   * Fix bug which caused no units to be displayed when reloading an end of\n     scenario save, by stripping them from the save file. However, this does\n     not fix bug #15545, which was the reason that this behavior was introduced.\n   * Fix bug #22123 \"Replays don't reset map when reset button is pressed,\n     causing OOS\"\n   * Wesnoth reports an error if it evaluates [if] and finds no [then], [else],\n     [elseif] children, as a chat message from lua.\n   * Fix bug #22134: Campaign prefix not used in mp campaign saves\n   * Made the error messages sent to stderr when the core data dir is\n     incorrectly set more helpful.\n   * Fix bug #20126: Recursive preprocessor includes cause infinite loop\n   * Added 'faction_lock' and 'leader_lock' to SideWML to be used in MP Connect\n     screen. Fixes bug #21978.\n   * Fix bug #22231: partial moves now able to be continued in whiteboard\n   * Added wmi_pager object to control how wml menu items are displayed in\n     context menus, and allow to display more than seven.\n   * Fix an inefficient implementation of unit::invisible, in an effort to\n     address slow performance problems:\n     http://forums.wesnoth.org/viewtopic.php?f=4&t=12139&start=180#p569931\n     (Also see gfgtdf's commits trying to optimize the minimap loop)\n   * Made it so <exe location>/../ (non-Windows) or <current working dir>/../\n     (Windows) are also considered possible data directories if they contain a\n     data/_main.cfg file, intended to help with cmake builds.\n   * Fix bug #21723: team-specific items displayed to wrong players / at wrong\n     times\n   * When parsing command line args, if we fail to parse, give an error message\n     rather than crashing with no explanation.\n   * Fix bug #22305: assertion failure in unit_display.cpp\n   * Fix bug #22086: wrong or missing minimap previews displayed b/c of problems\n     with saveindex\n   * Fixed the SCATTER_UNITS macro so that it may no longer attempt to place\n     units at the map borders.\n   * Fixed bugs in [filter_vision] reported here:\n     http://forums.wesnoth.org/viewtopic.php?f=21&t=40702 [filter_vision] is now\n     a check for *any* side matching the filter to have appropriate vision.\n   * Add [has_ally], [has_enemy] to work around issues reported here:\n     http://forums.wesnoth.org/viewtopic.php?f=21&t=40702 In a side_filter,\n     [has_ally] and [has_enemy] are corrected / simplified versions of\n     [allied_with] / [enemy_of], this is an extension of the bugfixes for\n     [filter_vision].\n   * Fix [side] share_view/maps always beeing false for non-first levels in mp\n     campaigns\n   * Fixes start-of-scenario multiplaer saves (#22068)\n   * Fix bug wherein \"lobby sounds\" advanced preference didn't do anything for\n     the normal (GUI 1) lobby.\n   * Fix bug wherein dbus notifications did not have a wesnoth icon\n   * Fix bug wherein chat history synopses weren't working right in the dbus\n     notifications\n   * Default to classic minimap unit/village color coding (colored by side).\n   * Default to classic minimap terrain representation (satellite view).\n   * Display the tooltip for actions browsed in the hotkey preferences dialog.\n   * Enabled action icons in the hotkey preferences dialog.\n   * Fix bug #21717: \"F5->reload wml tree\" doesn't work in editor.\n   * Fix bug #21298: Minimap shows invisible overlays\n   * Remove carryover WML (this may make a reappearance in 1.13.0 but it is\n     considered premature now, please see github PR discussion for more info)\n   * Fix bug #22465: Minimap not redrawn after turn dialog.\n   * Fix bug #22306: move_unit moves a unit even when it shouldn't\n   * Fix minor bug where toggling accelerated speed caused two lines of print\n     messages to display on top of one another. Reported here:\n     http://forums.wesnoth.org/viewtopic.php?f=5&t=40745\n   * Fix bug #22611: loading a theme with nonexistent button images would cause\n     the program to close.\n   * Fix bug #22487: advanced preferences descriptions not showing up\n   * Fix bug #22646: Tooltips broken in replay viewer\n   * Fix bug #22643: Cannot compile with boost 1.56\n   * Fix issue where the chatlog for a replayed game could not be opened in\n     single player. The chatlog can now always be opened.\n   * Fix bug #22745: choose_track function crashes the game in certain cases\n   * Fix bug #22650: nontranslatable strings displayed in tooltips for terrain\n     icons\n   * Fixed Gameplay -> Time of Day help topic displaying the Dawn ToD picture\n     where the Second Watch picture should be used instead (bug #22537).\n   * Fixed mishandling of nested subnamespaces by the [clear_global_variable]\n     WML action causing an assertion failure (bug #21093).\n   * Fix bug #22443: Scenario Settings table has inaccurate Start Gold info in\n     certain cases\n   * Fix Grand Knight image being distorted in the sidebar\n   * Fix bug #22251: Map labels not appearing in mp\n   * Fix bug: lobby sounds not all playing. This was fixed by adding a second\n     dedicated channel for UI sounds, and moving the \"Ready to start\" sound to\n     the turn bell channel.\n   * Bug fix: another instance of \"overlapping messages\", this time with the\n     planning mode activation hotkey\n   * Fix bug #21400: Use unit 'image' with higher priority than 'image_icon'\n     for animation frames with no specified image.\n   * New filesystem implementation based on boost filesystem\n   * Added \"--noaddons\" command-line argument, prevents any add-ons from being\n     loaded.\n   * Added \"--render-image\" command-line argument, similar to --screenshot, but\n     instead of a map, it takes a wesnoth imagepath and generates at bitmap\n     with the filters applied.\n   * New gettext implementation based on boost locale. This raises min boost\n     requirement to 1.48, and adds a new dep (locale, filesystem was also added\n     above)\n   * New image scaling routine imported from the xBRZ project (HqMAME on\n     sourceforge)\n   * Now may save screenshots and other images as pngs, using SDL_SavePNG lib\n     (from github)\n   * New RNG implementation using boost::mt19937, and boost::random_device for\n     seeds. The boost random library is now a build requirement.\n   * Add \"lua\" random map generation\n   * Multiplayer server can now handle scenarios with more than 9 sides\n   * [modify_side] controller= now works in networked mp. If a null-controlled\n     side becomes alive by [modify_side] controller=ai/human then the currently\n     active client will be assiged controll\n   * Fixed a stingstream syntax error that caused the build to fail in Visual\n     Studio 13\n   * Fixed hotkeys for changing tips in titlescreen (bug #18926).\n   * Fixed problems building wesnothd using cmake if not building the game\n   * Added several new options to GUI.pyw\n   * Fixed a bug in which sides without a leader, but not defeated due to\n     defeat_condition set to no_units_left or never couldn't capture villages\n   * Fixed several Mac OS specific bugs in GUI.pyw\n   * Fixed bug 22987 for filtering on era and mods in the Multiplayer lobby.\n   * Fixed bug 23117 Invert breaks lobby filtering if Apply Filter is off.\n   * Fixed bug 23426 Show terrain description hotkey works also for shrouded\n     hexes.\n   * Fix bug #23243: Segfault while clicking during [delay] in prestart.\n   * Remove support for legacy style unit abilities descriptions.\n   * Fixed bug #23445: set default build type in cmake to \"Release\" to ensure\n     that the game is not unoptimized\n   * Increased minimum version of FriBiDi to 0.10.9 in cmake to match scons\n   * Changed how FriBiDi is found in cmake to using pkgconfig\n   * Made the file chooser dialog (used for e.g. loading maps in the editor)\n     use uniform path delimiters on Windows, fixing issues with browsing to\n     parent directories (bug #23224).\n\nVersion 1.11.11:\n * Add-ons server:\n   * Filenames with whitespace in them are no longer allowed.\n * AI:\n   * Non-default multiplayer and Micro AIs:\n     * Fixed bugs which could lead to the AIs being disabled for the rest of the\n       turn if WML events removed or changed units during the AI turn\n     * Improved error reporting of invalid AI actions\n * Campaigns:\n   * Eastern Invasion:\n     * Updated maps for scenarios 12, 14, 16 and 17a.\n     * Fixed a bug in 'Captured' which can cause the beginning to make no\n       sense.\n   * Under the Burning Suns:\n     * Fixed broken Divine Incarnation unit type in The Final Confrontation.\n * Language and i18n:\n   * Updated translations: German, Italian, Slovak\n * WML engine:\n   * Bug #21643: Removing fog from a single hex no longer makes the hex ugly.\n   * WML files whose names contain whitespace trigger preprocessor errors.\n   * Bug #21722: Event handlers with multiple names never fired.\n * User interface:\n   * Corrected most of the issues left with the new default theme.\n     * Reintroduced the alignment, race and side being shown in the sidebar.\n     * Adjusted the theme to the size and shape of the new minimap frame images.\n     * Certain changes to the used text colors, sizes and alignment.\n   * Non-team labels no longer remove team labels that were present in the\n     same hex.\n   * New colors for the Light Red and Dark Red minimap markers.\n   * Bug #21724: 'none' is now a special case for [unit_type] ellipse\n * Miscellaneous and bug fixes:\n   * Units can no longer be moved in linger mode (bug #21450).\n   * Changed: Updated valgrind suppression file.\n   * Fixed color issues with font_rgb in unit status labels in themes.\n   * Labels are now removed when shroud/fog is removed, rather than waiting\n     for a new turn (bug #21434).\n   * Percent signs show when describing traits that increase damage or attacks\n     by a percentage (bug #21577).\n   * Linux dbus notifications: Only last 5 messages are remembered, and they\n     are displayed with the most recent ones first.\n   * Fixed bug #21736: MP create screen always defaulting to top entry.\n\nVersion 1.11.10:\n * Add-ons client:\n   * Fixed faulty add-on _info.cfg files causing the game to display obscure\n     error messages or crash to desktop.\n   * Generated _info.cfg files now contain the list of dependencies for an\n     add-on as well (needed by wesnoth_addon_manager).\n   * Python wesnoth_addon_manager client:\n     * The dependencies= attribute and the [feedback] tag in .pbl files are\n       now properly supported (bug #21189).\n     * Generated _info.cfg files now contain the same information as the\n       game's built-in client (type and title were missing).\n * AI:\n   * Hang Out Micro AI: default AI [avoid] aspect is now taken into account\n   * Fixed problems with several Micro AIs that sometimes produced OOS errors\n * Campaigns:\n   * Eastern Invasion:\n     * New world map.\n     * Rewrote scenario 'Training the Ogres' and renamed it to\n       'Capturing the Ogres'.\n     * Rewrote scenario 'Captured'.\n   * Heir to the Throne:\n     * Fixed Delfador clobbering whichever unit happens to be standing on\n       31,11 at the end of The Bay of Pearls, causing it to disappear\n       forever.\n     * S15 (The Lost General): fix bug of sighted events firing too early\n   * Legend of Wesmere:\n     * Fixed missing journey map background in story screens.\n   * Liberty:\n     * Updated sprites for Shadow Mage line.\n   * Son of the Black Eye:\n     * Rebalancing of the campaign is now complete\n   * Under the Burning Suns:\n     * Updated animation WML of all campaign specific units\n * Editor:\n  * Fixed: Drawing the offmap area for small resolutions.\n * GUI2:\n   * Added: FAI-function handling in GUI2 widgets.\n   * Added: A new tooltip window.\n * Language and i18n:\n   * Updated translations: Scottish Gaelic\n * Lua API:\n   * Config of current era is now available in a Lua table in MP games\n   * Config of any era can be requested by id, also a list valid era ids\n * Multiplayer:\n   * Fix for bug #21405, in a series of features:\n     * The abort option presented to the host when a player disconnects\n       from a networked game is now a \"save and abort\" option.\n     * New Idle controller status: Sides may now be set in an \"idle\" state\n       by the host when a player disconnects from a network game. This does\n       not give any player control or vision. To proceed with the game, the\n       host must reassign the side's controller using :control, :droid, or\n       :give_control as usual. (give_control existed but was not documented)\n       Related to this, there are new commands :controller which query the\n       controller status, and :idle which toggles the idle status.\n     * New \"Blindfold Replays\" option: Observers may check a box in the\n       lobby so that if they join a game, they will be \"blindfolded\" and see\n       only a black screen until they are given control of a side.\n * Units:\n   * New baseframes for Jundi, Muharib, Batal, Qatif-al-nar, Qudafi, Rasikh.\n * User interface:\n   * New UI for displaying errors detected during the core and add-on WML\n     loading process (parser and preprocessor errors), including the\n     ability to copy the report to clipboard.\n   * New UI for displaying the notification that a screenshot or map\n     screenshot was successfully saved to disk, including options to open it\n     in an external application, copy the path to clipboard, or browse the\n     screenshots folder.\n   * Force grayscale antialiasing for text rendered using Cairo/Pango (e.g. by\n     GUI2) on Windows to work around ClearType-induced glitches (bug #21648).\n   * Fixed bug #21584: Properly redraw the minimap when the minimap is\n     resized.\n   * Fixed: Enable blurring in the title screen.\n   * Added descriptions to the options in Preferences -> Display -> Themes.\n   * New sound played to signal the start of an MP game.\n * WML engine:\n   * WML loading phase errors are reported to stderr in a new indented format.\n   * Implemented [true] and [false] ConditionalWML tags, which describe a\n     condition that always yields true or false, respectively.\n   * Fixed: Disallow change and remove sections without an id in the ThemeWML.\n   * Added [theme] description attribute for including a description of the\n     theme that will be displayed in Preferences.\n   * [theme] name attribute is now expected to be translatable and used only\n     for the theme selection UI. Existing [theme]s need to be converted to\n     have a separate 'id' attribute.\n   * [endlevel] now has two optional subtags [next_scenario_settings],\n     [next_scenario_append], which can be used to reconfigure next scenario.\n   * Optimizations made to the game events engine. Slower machines may notice\n     an improvement during movement (when enter/exit_hex events are triggered).\n     The optimization is more effective when relatively few events have variables\n     in their names.\n * Miscellaneous and bug fixes:\n   * Fixed: A compilation warning with DEBUG_WINDOW_LAYOUT_GRAPHS.\n   * Added -Wold-style-cast to the CMake strict flags.\n   * Made sure that cmake does not add -NDEBUG for release builds since this\n     flag breaks building.\n   * Updated screenshots used inside the ingame help and fixed description of\n     orbs.\n   * Fixed bug #21659: lua location_set:empty now works as described\n   * Users now get a warning if they start a multiplayer scenario through the\n     title screen load button, as this may cause eras and modifications not\n     to work correctly in subsequent scenarios of an mp campaign.\n   * wmllint can now update base terrain aliases in UMC after the changes in\n     versions 1.11.8 and 1.11.9. This conversion is applied to the aliasof,\n     mvt_alias, and def_alias attributes under the [terrain_type] tag.\n   * Parser warnings when skipping over Unicode BOMs are now printed in stderr\n     with the file location and substitution trail when available.\n\nVersion 1.11.9:\n * Add-ons client:\n   * Display the first and last upload dates in the Description dialog.\n * Add-ons server:\n   * Record the first upload date and time for new add-ons.\n   * Removed ancient compatibility code used only for add-ons stored by some\n     1.5.x versions.\n * AI:\n   * Default AI: Gold saving is turned off by default again\n   * New macros AI_SAVE_GOLD and AI_SAVE_GOLD_DEFAULT for easy enabling of\n     recruitment gold saving in specific scenarios\n   * Wolves Micro AI: new optional parameter attack_only_prey=\n * Campaigns:\n   * Heir to the Throne:\n     * Gave Li'sar a new ability \"initiative\" (grants adjacent allies first\n       strike in melee).\n   * Son of the Black Eye:\n     * Rebalancing of the campaign continues and is done for Scenarios 1 (End\n       of Peace) through 12 (Giving Some Back).  In addition, the following\n       not directly balance related changes have also been made:\n     * S3: remove AI controller right-click menu option\n     * S4 & S9: make AI attack enemies 1 XP from leveling so that it is not\n       possible to block key locations with such units\n     * S10 & S12: don't give huge unannounced gold bonus to AIs\n * Editor:\n   * Added Impassable Overlay and Unwalkable Overlay terrains to the obstacle\n     group.\n   * Added Snowy Human City village terrain to the frozen group.\n   * Added Cave Path terrain to the flat group.\n   * Added Dry Hills terrain to the fall group.\n * Language and i18n:\n   * Updated translations: Dutch, Portuguese, Scottish Gaelic\n * Lua API:\n   * Added wesnoth.set_dialog_markup function (patch #2759).\n * Multiplayer\n   * Updated map: Ruins of Terra-Dwelve.\n * Terrains:\n   * Made Snowy Encampment, Snowy Orcish Castle, Snowy Encampment Keep and Snowy\n     Orcish Keep aliases of both castle and frozen terrains\n * Units:\n   * Decreased the strikes of the Dwarvish Lord's hatchet attack from 2 to 1.\n   * Fixed subtle magenta TC for the Giant Mudcrawler sprites not being\n     enabled in-game.\n * User interface:\n   * Restored the old control scheme as the default\n   * Fixed hidden variations of unit types (hide_help=yes) being listed in the\n     help browser when they shouldn't.\n   * Gray-out GUI1 scrollbar upwards scrolling button by default when starting\n     with the view scrolled to the top.\n   * Truncate long Advanced Preferences entries with ellipses to avoid\n     situations where the listbox is wider than the Preferences dialog frame\n     (bug #19482).\n   * Team color is now applied on the Unknown unit icon in the game Status\n     Table regardless of whether the side's leader unit supports team color.\n * Miscellaneous and bug fixes:\n   * Added -Wno-documentation-deprecated-sync to the CMake pedantic flags.\n   * Fixed several Doxygen issues found by Clang 3.4.\n   * Fixed possible invalid memory access issue in the MP sides configuration\n     code causing crashes for some users (bug #21449).\n   * Fixed broken image references in the Gameplay -> Time of Day help topic.\n   * The internal variables used by the LIMIT_RECRUITS WML macro are now\n     cleared on victory.\n   * Fixed missing log error message for invalid music tracks set with\n     play_once=yes (bug #21479).\n   * Don't force the .gz suffix on every entry of the save_index (bug #20849).\n   * Fixed a bug in [filter_vision] in SUFs that caused a hidden unit under\n     fog/shroud to produce a false positive.\n   * A lack of ToD schedule no longer causes segfaults (bug #21489).\n   * SLF work again when x XOR y is specified (bug #21488).\n   * Selecting off-map hexes, then hovering over a unit no longer causes\n     the game to crash (bug #21351).\n   * Changed: Added -Wextra-semi to pedantic compilation.\n   * Changed: Added -Wconditional-uninitialized to pedantic compilation.\n   * Fixed NULL pointer dereference when viewing units in the Recall Unit\n     dialog including nonexistent/unreadable images in their overlays, while\n     not in debug mode.\n\nVersion 1.11.8:\n * Add-ons client:\n   * Introduced new add-on type \"SP/MP Campaign\" for campaigns with\n     \"type=hybrid.\"\n   * Fixed invalid file size data from the server crashing the client on the\n     network transfer progress dialog (bug #20893).\n   * Added support for specifying a feedback page URL in the .pbl file when\n     publishing an add-on, currently intended for associating add-ons in the\n     official add-ons server with topics from forums.wesnoth.org; this is\n     achieved by including a [feedback] block with a topic_id=<number> key in\n     it.\n   * Redesigned Add-ons Description dialog, including support for displaying\n     add-on feedback page URLs.\n * Add-ons server:\n   * Fixed mishandling of inaccessible add-on packs resulting in multiple data\n     conversion errors and stalling clients (bug #20893).\n   * Added support for managing and emitting add-on feedback page URLs to\n     clients ([server_info] feedback_url_format option in the server\n     configuration file).\n * AI:\n   * RCA AI: fix bug #21334: surrounded units don't attack\n   * Coward Micro AI: new optional parameter [filter_second]\n   * Simple Attack Micro AI: new optional parameter weapon=\n   * Wolves Micro AI: fix bug that sometimes kept predators from attacking\n   * Lua AI: new replay-safe action ai.synced_command()\n   * ai.cfg: fix MEDIUM to NORMAL in attack_depth macro\n * Campaigns:\n   * all: convert many wmllint magic comments from \"recognize\" to \"who\" and\n     \"whofield\",\n   * Dead Water:\n     * New world map.\n   * Delfador's Memoirs:\n     * Updated sprite and animations for the Wose Shaman.\n   * Descent into Darkness:\n     * S3: set aggression=1 for Side 4 to avoid wrong choice of attack\n   * Eastern Invasion:\n     * Made Dacyn use teal TC and Mal-Ravanal blue TC, to make them fit the\n       portraits more.\n     * Updated maps for scenario 1-7.\n   * Heir To The Throne:\n     * Increased Li'sar's lvl3 hitpoints from 52 to 62.\n     * Implemented the portrait variations for Delfador and Asheviere.\n     * Changed Kaylan's portrait and gave him teal team coloring.\n     * Changed the flaming sword so it's now a 25% increase to damage, instead\n       of changing the damage to 15-4\n     * Added a new mechanic to Sceptre of Fire. By standing still for a turn,\n       Delfador can now tell the player the shortest path to the Sceptre.\n     * Fixed Konrad's level 1's attack animation giving an 'image not found'\n       error.\n     * Fixed Konrad's dying words event.\n   * Legend of Wesmere:\n     * S9: set aggression=1 for Side 4 to avoid wrong choice of attack\n   * Liberty:\n     * New world map.\n     * S5: set aggression=1 for Side 3 to avoid wrong choice of attack\n   * Northern Rebirth:\n     * S5a: dialogue tweaks\n   * The Rise of Wesnoth:\n     * New world maps.\n     * Redesigned scenario 'A New Land'.\n   * The South Guard:\n     * S6a: fix ogre's last words event\n     * S6b: set aggression=1 for Side 2 to avoid wrong choice of attack\n   * Son of the Black Eye:\n     * Rebalancing of the campaign continues and is mostly done for Scenarios 1\n       (End of Peace) through 8 (Silent Forest).  In addition, the following\n       not directly balance related changes have also been made:\n     * S1: the AI enemy can now also recruit bowmen\n     * S4: give the player control of the Side 3 orcs in the center castle\n     * S6: unload units from transport galleons preferentially onto land hexes\n     * S7: use Simple Attack Micro AI to have scorpions spread poison\n     * S8: use Healer Support Micro AI for elvish healers\n     * S16: Kapou'e gets his own castle at the start of the scenario to\n       eliminate dependence on luck during the first turn\n     * S17: add a warning that the AI will receive reinforcements\n     * S18: no linger mode at the end of the last scenario\n     * Minor updates to messages (grammar and prose) and objectives.\n     * Updated sprites and animations for the Orcish Shamans.\n * Graphics:\n   * New and updated animations for the Loyalist Horseman.\n * Language and i18n:\n   * Updated translations: Catalan, Chinese (Traditional), Dutch, Galician,\n     Japanese, Latin\n * Lua API:\n   * Added flag, flag_icon, and village_support fields to wesnoth.sides table\n     elements.\n   * Made wesnoth.sides[n].hidden a read-write field.\n   * New lua proxy table \"wesnoth.game_config.mp_settings\" for access to\n     MP specific settings, such as era, scenario name, and timer\n * Multiplayer:\n   * Unit names and genders are synced in MP games.\n   * Added new CampaignWML attribute \"require_campaign\". If set to \"yes\",\n     players not having campaign installed won't be able to join the game.\n   * New eras: the Default+Khalifate and Age of Heroes+Khalifate eras are now\n     available.\n * Replays:\n   * Replays include the prestart and start events again.\n   * Unit names and genders are synced between games and replays.\n   * Play/stop buttons are disabled again at the end of a replay.\n   * The 'reset replay' button works correctly and does not cause OOS\n     errors any more.\n * User interface:\n   * Removed the possibility to undo unit recruits because it caused oos.\n   * Added a party full bell to the MP game configuration screen, played once\n     all human player slots have been taken.\n   * Change layout for advertized games in the MP lobby and add map icon.\n   * Moved color cursors option to Advanced Preferences.\n   * Always hide and disable color cursors option on Mac OS X since it's known\n     to cause severe lags that render the cursor unusable.\n   * Unit overlays are now displayed in the Recall dialog, both on the list\n     and the description panel.\n   * Made filtering controls on the MP create screen functional.\n   * Removed the MP custom options dialog; all options are now shown directly\n     on the configuration screen.\n   * Removed the MP modifications dialog; modifications are now displayed\n     directly on the creation screen.\n   * The \"Compressed saves\" and \"Compress savegames using bzip2\" options in\n     Preferences -> Advanced have been replaced by a single option,\n     \"Compressed saved games\", that lets the user pick between gzip (default),\n     bzip2, and no compression. Users who previously enabled bzip2 compression\n     will need to do so again.\n   * Hide eras menu in MP Create for campaigns which have\n     \"allow_era_choice=no\".\n   * Introduced side's name in MP Connect.\n   * Middle click scrolling is now based on distance from initial click instead\n     of the centre of the screen.\n   * Make sliders able to be scrolled with the mouse wheel\n   * Allow advanced preference booleans and mp modifications to be toggled\n     via double click\n   * Fixed slight scrolling glitches with credits sections with multi-line\n     headers (e.g. those generated for campaigns with multi-line titles).\n * WML engine:\n   * WML variable turn_number is set correctly (to 1) in prestart and start\n     events.  Previously, it retained its last value from the previous scenario\n     until after the start event.\n   * [scroll_to] and [scroll_to_unit] now take an optional side filter.\n   * [trait] now accepts a \"generate_description=\" attribute, allowing the\n     auto-generated effect descriptions to be turned off.\n   * [modify_side] can now change a side's flags and status bar icon using the\n     \"flag\" and \"flag_icon\" attributes also accepted in [side] definitions\n     (bug #18454).\n   * [store_side] now stores the \"flag\", \"flag_icon\", and \"village_support\"\n     attributes from sides.\n   * New macros RECALL and RECALL_XY\n * Miscellaneous and bug fixes:\n   * Pango markup is applied correctly and consistently in button tooltips.\n   * Fixed mishandling of invalid Pango markup resulting in previous messages\n     being displayed instead in e.g. [message] (bug #20996).\n   * Added wmllint code for recognizing unit id fields in macros, added\n     non-attribute lines to local_sanity_check, added unknown speaker check.\n   * Refactored code in wmltools to create a macro-parsing function.\n   * Added era descriptions.\n   * Fixed file chooser dialog (used in the map editor and for locating the\n     wesnothd executable) interpreting special markup at the beginning of file\n     names such as \"#foo.map\".\n   * Fixed bug with modifications dependency check dialogs (bug #21365)\n   * Fixed bug with scrollbar overlaying mp description text (bug #21364)\n   * Fixed bug with help units not making links (bug #21339)\n   * Split command line option --config-dir into --userconfig-dir and\n     --userdata-dir, with --userconfig-dir defaulting to --userdata-dir's\n     value on some platforms.\n   * The color_adjust_blue_ attribute in [display] tags of saved games has\n     been renamed to color_adjust_blue. Since it is only non-zero following a\n     [color_adjust] action in a WML event, only mid-scenario saved games\n     created with previous versions may present minor color issues after this\n     change.\n   * Fixed sound sources removed while the sound effects volume is zero\n     (either in Preferences -> Sound or through the [volume] WML action)\n     persisting and escaping the sound source management code (bug #21426).\n   * The negative sign is no longer dropped when formula AI prints numbers\n     between 0 and -1.\n\nVersion 1.11.7:\n * Add-ons client:\n   * Add-ons downloaded with clients from this version onwards are shown\n     in the Remove Add-ons with their original titles from the add-ons\n     server now, instead of artificially generating titles by replacing\n     underscores from file names.\n   * Fixed color key disparities between the Add-ons Manager dialog and the\n     add-on Description dialog.\n   * It is now possible to choose the neutral/fallback add-on sorting in\n     the Add-ons Manager dialog used when no columns have been sorted by\n     the user.\n   * Report errors caused by faulty local .pbl files properly instead of\n     presenting them as network errors.\n   * Fixed regression from 1.11.0 resulting in memory leaks and/or\n     crash-to-desktop situations when failing to connect to an add-ons\n     server.\n * Add-ons server:\n   * Implemented read-only mode option (read_only boolean attribute in\n     server config WML, defaults to \"no\").\n * AI:\n   * Recruitment CA:\n     * New Recruitment CA located in src/ai/recruitment is now default CA\n     * Created new AI cfg \"Strong AI (RCA)\" with stronger recruitment\n     * Created new AI cfg \"Old Recruitment CA\" in ai/dev/ to use the old CA\n   * External CAs are now fully usable\n     * The persistent data variable works and is accessible across CAs\n     * Parameters can be passed to eval/exec functions\n   * Micro AIs:\n     * New Simple Attack Micro AI\n     * All MAIs changed to using external CAs.  This means that no engine\n       definitions are needed any more and that MAIs can be combined at will\n     * Got rid of animal_type=, guardian_type=and recruiting_type= keys.  The\n       individual Animal, Guardian and Recruiting MAIs are now separate AIs\n       that are selected with the ai_type=key\n     * Patrol, Guardian and Hunter MAIs are now side-wide CAs (not BCAs) and\n       support either the id= key or [filter] tag for unit selection\n     * Messenger MAI now works with units (both messenger and escort) without\n       weapons and when path to next waypoint is entirely blocked\n   * Experimental AI:\n     * Added new CAs Retreat, Move to Enemy and Village Hunting\n     * Algorithm improvements for several CAs\n   * Fixed time_of_day aspect so it matches time-of-day ids, not names\n     (e.g. \"Morning\" vs \"morning\"), so most use cases of ToD-dependent AI\n     configuration work again (suspected version 1.7.4 regression).\n   * Move_Leader_To_Keep CA will now move all leaders back to a keep\n     (multiple leader support for recruitment)\n   * Refactored the AI-Test-Suite completely (/utils/ai_test/)\n   * Changed AI descriptions in ai/dev/ displayed in MP computer player menu\n   * New macro AI_CONTROLLER_ALLOW_UNIT_CONTROL\n   * Remove macro RCA_STAGE\n * Campaigns:\n   * A Tale of Two Brothers:\n     * Crop campaign icon to fit campaign selection dialog (fixes bug #20935)\n   * Dead Water:\n     * Converted animation WML to the new syntax\n   * Delfador's Memoirs:\n     * Converted animation WML to the new syntax\n   * Descent Into Darkness:\n     * Converted animation WML to the new syntax\n   * Eastern Invasion:\n     * Converted animation WML to the new syntax\n   * Heir To The Throne:\n     * Converted animation WML to the new syntax\n     * Gave Moremirmu a matching holy sword attack icon (bug #21248).\n   * Legend of Wesmere:\n     * Removed now redundant MP code.\n     * Added new CampaignWML attributes: \"type\", \"min_players\", \"max_players\".\n     * Added new ScenarioWML attributes: \"new_game_title\", \"force_lock_settings\".\n     * Adjusted \"controller\" and side recruits for MP.\n     * Now uses default recruitment instead of experimental FAI-recruitment\n       in 02_Hostile_Mountains.\n   * Liberty:\n     * New AI for wolf riders in \"The Raid\"\n     * Converted animation WML to the new syntax\n     * Gave the Death Squire the submerge ability.\n     * Increased the Death Squire's blade resistance from 10% to 40%,\n       pierce resistance from 30% to 60% and lowered its impact resistance\n       from -10% to -20%.\n     * Greatly decreased the Death Squire's HP from 66 to 44.\n   * Northern Rebirth:\n     * S5a: added dialog for dungeon signpost moveto\n   * Sceptre of Fire:\n     * Converted animation WML to the new syntax\n   * Son of the Black Eye:\n     * Rebalancing of campaign started to make it more difficult in accordance\n       with its status as an expert level campaign.  Scenarios 1 - 3 done so\n       far.  In addition, the following, not directly balance related changes\n       have also been made:\n     * S3: scenario now ends after dwarf leader is killed (no need to continue\n       to the signpost any more)\n     * S3: add possibility to give Gr\u00fc\u00fc instructions\n     * S6: new Lua AI code for the transports with somewhat different behavior\n     * S14: Kapou'e cannot recruit troll whelps any more (this scenario only)\n     * S14: \"It is now Gr\u00fc\u00fc's turn\" displayed correctly on Side 4 turn\n     * S16: fix recalling of alternative units if Jetto/Inarix have been killed\n     * S18: Howgarth's death now results in defeat, as stated in objectives\n     * S18: Shan Taum death dialog shown correctly if Kapou'e kills him himself\n     * Minor updates to many messages, objectives, moves, AIs etc.\n     * Message images that would cover the speaker moved to the right\n     * Converted animation WML to the new syntax\n   * The Hammer of Thursagan:\n     * Converted animation WML to the new syntax\n   * The Rise of Wesnoth:\n     * Converted animation WML to the new syntax\n   * The South Guard:\n     * Converted animation WML to the new syntax\n   * Tutorial:\n     * Converted animation WML to the new syntax\n   * Under the Burning Suns\n     * Fixed several bugs with missing/incorrect dialog\n     * Azkotep now correctly possesses Garak if only his champion is killed\n * Engine:\n   * CampaignWML support for MP including difficulties, extra defines etc.\n   * Use the same codepath to initialize every MP campaign's scenario, thus\n     allowing the display of a functional MP \"Connect/Wait\" screen before the\n     next scenario.\n   * Reload game config for non-host players in order to match the host's\n     config, if possible. Reloads will only happen for MP campaigns using\n     CampaignWML syntax.\n   * Imagepath function \"~ROTATE\": Support for rotating by any degree.\n * Graphics\n   * Full animations for the Dwarven Thunderer line.\n   * New standing animation for the Dwarvish Berserker.\n   * New north-facing standing and attack animations for the Loyalist Spearman.\n   * New ranged attack animations for the Dark Adept line.\n * Language and i18n:\n   * Updated translations: British English, German, Greek, Indonesian, Italian,\n     Korean, Lithuanian, Portuguese, Vietnamese\n   * Improved internationalization of notifications on Windows and OS X.\n   * Introduced translations for months and weekdays, which are used when user\n     does not have locale installed.\n   * Show am/pm designations, if required, even when locale doesn't support\n     them.\n * Lua API:\n   * Added scroll_to_leader field (read/write) to wesnoth.sides table\n    elements.\n * Multiplayer:\n   * Fixed clearing map data when there is no shroud and level is sent\n     with \"store_next_scenario\".\n   * Update game's side data, slots and state in server during next scenario\n     initialization.\n   * Fixed reserved sides being counted as available in server.\n   * Added \"controller_lock\" in SideWML. The lock provides a way to be sure\n     that sides will be played with a controller which was assigned in WML.\n     I.e. if \"controller\" was set to \"ai\", it won't be possible to select any\n     other controller for a side. However, if \"controller\" was set to \"human\",\n     it will still be possible to assign any player, local, network or\n     reserved (if applicable) controller.\n   * All multiplayer locks in SideWML (e.g. \"team_lock\"), now uses\n     \"force_lock_settings\" as their default value.\n * Unit changes and balancing:\n   * Gave the Death Knight the submerge ability.\n   * Increased the Death Knight's blade resistance from 10% to 40%,\n     pierce resistance from 30% to 60% and lowered its impact resistance\n     from -10% to -20%.\n   * Lowered the Death Knight's HP from 66 to 63.\n   * Lowered the Chocobone's hills defense from 50% to 40%,\n     mountain defense from 60% to 50%, fungus defense from 60% to 40%,\n     forest defense from 50% to 30%, and village defense from 60% to 40%.\n   * Increased the Chocobone's melee damage from 9-2 to 11-2.\n   * Increased the Chocobone's blade resistance from 10% to 20%.\n * User interface:\n   * Players can now assign hotkeys to wml menu items in the preferences menu.\n   * Help Browser:\n     * Units with variants are shown as sections with their childs as topics.\n     * Links to the siblings in unit variants.\n     * Links to the base unit of none variants.\n   * MP \"Create\" screen has been revamped by moving scenario configuration\n     widgets to a new MP \"Configure\" screen, introducing a description box,\n     adding a combo selection for different types of game, and adjusting it to\n     work well with MP campaigns.\n   * MP \"Configure\" and \"Connect\" screens have been adjusted to allow to see\n     all scenarios and sides in the debug mode.\n   * MP \"Lobby\" game item has been updated to display information about\n     campaigns correctly.\n   * In-game Chat Log dialog now supports text search on timestamps, nicks,\n     and messages.\n   * Possible fix for clipboard integration issues with GUI2 widgets on X11.\n   * Fixed potential misbehavior (including invalid memory access) from the\n     tray notifications code on Windows.\n   * New Game Paths dialog displaying filesystem locations used by the game\n     to read or write data, accessed from Preferences -> General.\n * WML engine:\n   * New [disable] weapon special.\n   * New variation_id attribute with the function of former variation_name.\n   * variation_name is now the translatable name of the unit variant.\n   * The \"variation=\" attribute works now in [unit_type] and serves\n     as the default variant.\n   * [store_side] now stores the scroll_to_leader attribute from sides.\n   * Added new CampaignWML attributes: \"type\", \"min_players\" and \"max_players\".\n   * Added new ScenariowML attributes: \"new_game_title\",\n     \"remove_from_carryover_on_leaders_loss\" and \"force_lock_settings\".\n   * Allow numerical values for SideWML \"controller\" attribute.\n   * Allow WML menu items to use hotkeys alongside/instead of the menu.\n   * Really added sighted events for ambushing units.\n   * [scroll] now takes an optional side filter.\n   * Some support for negative healing. This is not guaranteed to work correctly\n     in all cases, but it does restore the basic functionality that was\n     (probably accidentally) in 1.10.\n   * Overhaul of the game events engine. Fixes some obscure bugs, like #21031,\n     and grants feature request #18713.\n   * Added new set_icon attribute for [effect] apply_to=attack.\n   * New attribute in [unit_type]: healed_sound. These\n     attributes allow for customization of the sounds played when the unit\n     is healed.\n * Miscellaneous and bug fixes:\n   * Added -256 and -512 color shifts to FADE_TO_BLACK and FADE_TO_BLACK_HOLD\n     macros to account for ToD color shifts greater than -31, guaranteeing\n     complete darkness.\n   * Unit WML frames with image modifications are now shown correctly for\n     hits/death.\n   * Fixed compare_images.py (called by wesnoth-optipng) and pofix.py to\n     function with python-3.2.\n   * Refactored and split the MP \"Create\" and \"Connect\" screens' code into\n     gui and engine parts.\n   * Lock faction, leader, and gender selections in MP \"Connect\" if default\n     values are provided and \"force_lock_settings\" is set to \"yes\".\n   * Fixed runtime error due to mismatched function call conventions in\n     set_preferences_dir() when built with MSVC++ 2010 and a relative path\n     to My Documents was passed with --config-dir in the command line.\n   * Changed: Added -Wno-deprecated-register to strict compilation.\n   * Added command line option \"--multiplayer-repeat <arg>\".\n     A game started with --multiplayer will be repeated <arg> times.\n     This is useful for batch testing.\n   * Animation WML: Fix sound start time in additional frames without\n     requiring a duration 1 frame workaround.\n   * Animation WML: Fix halo in additional frame persisting without blank\n     hex workaround at start and end if a shorter frame.\n   * New MISSILE_FRAME_FIREBALL_XY macro, used in red mage line.\n   * Fixed crash on delete of last save.\n   * The MISSILE_FRAME_MUZZLE_FLARE_MISS macro nowrequires an X and Y\n     argument.\n   * Added placehoder attack animations to the Fire Dragon.\n   * New MISSILE_FRAME_CHILL_WAVE and MISSILE_FRAME_SHADOW_WAVE macros,\n     used in the dark adept line.\n   * New knife sound for thunderer line.\n   * Fix bug #20936 with shuffle sides and incorrect initial side villages.\n   * Fix bug #20564: crash of replays of games started from scenario start save\n   * Fix bug #20124: animation not updated on [un]petrifying units with WML tags\n   * Fix bug #21264: Loading a turnsave in campaign sets negative gold to 0\n   * Fix unreported bug of Wesnoth sometimes crashing on killing unit under\n     cursor from context menu in debug mode\n\nVersion 1.11.6:\n * Add-ons client:\n   * The Description popup displays the selected add-on's dependencies now,\n     using color-keyed statuses.\n   * Circular dependencies are no longer treated as erroneous in terminal\n     output.\n * AI:\n   * Micro AIs:\n     * New Hang Out Micro AI\n     * Any number of Micro AIs can now be combined on the same side\n     * Goto MAI: new parameters avoid_enemies=, ignore_units= and ignore_enemy_at_goal=\n     * Goto MAI: [filter] is now an optional parameter\n     * ca_id is now an optional parameter for all MAIs\n     * ca_score is now an optional parameter for almost all MAIs\n     * Bug fixes for Patrol, Messenger, Multipack Wolves and all Guardian MAIs\n     * [goal] tags in [ai] blocks with turns= or time_of_day= will now work.\n * Campaigns:\n   * An Orcish Incursion:\n     * New world map.\n   * Descent Into Darkness:\n     * New world map.\n   * Legend of Wesmere:\n     * convert to \"wmllint: who\" magic comments\n   * The South Guard:\n     * Fixed double \"lich found\" event in Choice in the Fog\n * Language and i18n:\n   * Updated translations: Galician, Japanese, Lithuanian, Russian, Scottish Gaelic\n * Lua API:\n   * Added: function wesnoth.find_cost_map().\n * Units:\n   * Added description for the Wose race.\n * User interface:\n   * Unit ellipses are now automatically updated if a unit gains or loses its ZoC\n * WML engine:\n   * If [recall] cannot find a unit to recall, the message is logged at the\n     \"info\" severity level in the \"wml\" domain (instead of the \"error\" level in\n     the \"engine\" domain). This means the message will be suppressed by default.\n   * Allowed [modify_side] to modify the scroll_to_leader key\n * Miscellaneous and bug fixes\n   * Creating a unit via debug mode now clears fog/shroud around the unit.\n   * [move_unit_fake] now accepts an optional force_scroll= attribute (def. to\n     'yes') that allows scrolling the viewport even when [lock_view] is in\n     effect or Follow Unit Actions is disabled in Advanced Preferences.\n   * [move_unit] accepts an optional force_scroll= attribute like\n     [move_unit_fake] above, defaults to using the [move_unit_fake] default.\n   * Added: Feature in pathfind.xpp to build a cost map.\n   * wmllint: turn on globbing on Windows, create \"who\" and \"unwho\" magic\n     comments, bugfixes\n   * wmllint-1.4: add an enhanced and bugfixed version of wmllint 1.4 for\n     porting old add-ons\n\nVersion 1.11.5:\n * Add-ons client:\n   * Do not bump the download count for add-ons that are currently installed\n     and are being reinstalled or upgraded\n * Add-ons server:\n   * Restricted names (not titles) for newly uploaded add-ons to ASCII hyphens,\n     underlines, and alphanumerical characters. Previously uploaded add-ons\n     are exempt from this change.\n * AI:\n   * New macro EXPERIMENTAL_AI for using Experimental AI in both SP scenarios and MP maps\n   * Recruiting in Micro and Experimental AIs: allow more terrain codes for castles/keeps\n   * Improved/Added: Command 'lua wesnoth.debug_ai([side]).ai' will now give access to the\n     ai-table of [side].\n   * Improved AI behavior when using goto_x / goto_y in WML\n   * Micro AIs:\n     * Zone Guardian: Add optional station_x,station_y= keys\n     * Goto: don't exclude leader by default\n     * Bug fixes in Return Guardian, Healer Support and Goto MAIs\n   * Experimental AI: fix bugs that disabled recruiting for some UMC weapon specials\n * Campaigns:\n   * All:\n     * replaced deprecated aspects with [goal] aspect\n   * Heir to the Throne:\n     * Updated Li'sar's movetype and resistances to match her armor.\n   * Legend of Wesmere:\n     * Scenario 05: Elvish Horse Archers can now carry the treasure\n     * Scenario 09: the player's loyal units stay in the recall list, instead of\n       being stored and then unstored in scenario 14\n   * Under the Burning Suns:\n     * Scenario 8 (Out of the Frying Pan): Fix messenger AI (Lua errors and wrong goal)\n * Engine:\n   * Made game config loading more modular by extracting appropriate\n     functionality from game controller and adding it to a new class.\n     Wrapper functions for editor's and game's config loading were added.\n * Graphics\n   * New scorpion baseframe (replaces old image set)\n   * New skeletal dragon baseframe (replaces old image set)\n   * New cavalryman line baseframes (replaces old image set)\n   * New elven cavalry units baseframes (replaces old image set)\n   * New paladin, knight, grand-knight, lancer baseframes (replaces old image set)\n   * New giant mudcrawler baseframe and animations (replaces old image set)\n * Language and i18n:\n   * Updated translations: French, Galician, Latin, Lithuanian, Old English,\n     Portuguese, Portuguese (Brazil)\n * Lua API:\n   * location_set.of_pairs() now can take coordinates defined by x/y= keys as well\n   * Fixed the x1,y1 variables in enter/exit_hex events handled via\n     wesnoth.game_events.on_event.\n * User interface:\n   * Added notification support for Windows\n   * Made it so that the \"Back to Turn X\" and \"Back to Start\" menu items work\n     with .bz2 saves\n   * Removed Dfool and Experimental themes\n   * Major visual overhaul:\n     * Most UI elements have new images\n     * Button sizes have been standardized; regular buttons are 108x22 (H22), menu\n       buttons are 100x20 (H20), square buttons are either 25x25 or 30x30 depending\n       on purpose.\n     * Regular and menu buttons are now in subdirectories of images/buttons/\n     * Button icon overlays are now in images/icons/\n     * Icons can now be overlaid on a team-colorable base provided in images/buttons.\n     * New team color ranges have been introduced for this purpose.\n   * Added possibility to kill unit under cursor with context menu in debug mode.\n * WML engine:\n   * Added new aspect 'advancements' which with lua engine can handle a\n     function return type of the form f(x, y) -> String. 'advancements'\n     tells the AI to what unit a given unit should advance to.\n   * Fix \"Shuffle sides\" incorrect behaviour: children inside [side] were also\n     swapped.\n   * Fixed incorrect image path function name in error messages generated by\n     using ~CROP() with negative coordinates.\n   * Fixed abilities sometimes affecting self during movement even when they are\n     flagged as not affecting self (bug #20755).\n   * Added deprecation messages to aspects [target], [protect_unit], [protect_location],\n     protect_leader=, protect_leader_radius=\n   * Fixed bug #20836: advancing units can fire events in [harm_unit] if fire_event=yes\n   * Advancing units can be animated by [harm_unit] if animate=yes\n   * Added deprecation message to aspect [goal] when using \"name=protect_my_unit\".\n * Miscellaneous and bug fixes\n   * Fixed minor issue with Drake Clasher animations\n   * Added a new playlist FULL_MUSIC_PLAYLIST, which contains all Wesnoth tracks\n     in alphabetical order\n   * Added -Wno-null-conversion to the CMake pedantic flags.\n   * Changed: Decreased the pango cairo dependency to version 1.21.3.\n   * Changed: Mark system headers as system headers in CMake.\n   * Fixed the recall list sometimes getting confused when dismissing a recall.\n   * Prevent unchecked memory access in cut_surface()\n   * Remove game controllers: new and abstract. Were never properly implemented.\n   * Remove --new-syntax command line option. Was never properly implemented.\n   * Several wmllint additions: remove backslashes and userdata/ from paths, convert\n     data/campaigns/ to data/add-ons/, give more detailed message for color spec to\n     Pango fix-up, delete files on Windows before rename.\n\nVersion 1.11.4:\n * AI:\n   * Reverted new Lua AI persistent storage mechanism for external CAs that\n     would crash Wesnoth under certain circumstances in 1.11.3. This will be\n     re-committed in an upcoming release.\n   * Micro AIs\n     * Healer Support MAI now respects RCA AI [avoid] aspect.\n\nVersion 1.11.3:\n * AI:\n   * Micro AIs\n     * New Goto and Zone Guardian MAIs\n     * Change SUF/SLF names to [filter]/[filter_location] and variants thereof\n     * Add optional SUF to Healer Support MAI\n * Campaigns:\n   * Descend into Darkness:\n     * Fix the surviving orc leader starting poisoned after scenario 5.\n * Language and i18n:\n   * Updated translations: Chinese (Traditional), Indonesian, Italian, Polish,\n     Portuguese, Russian, Vietnamese\n * User interface:\n   * Fixed 'end turn' button's state in MP and title2 issues.\n   * Fixed (bug #17220): Cursor in gui2 text box now behaves appropriately after\n     text box overflow occurs.\n   * Change Difficulty checkbox in Load Game dialog in GUI1 gets disabled if\n     change in difficulty of a loading game won't take effect (bug #20381).\n   * Fixed 'end turn' button's state issue: button stays disabled after the first turn.\n   * Fixed bug #20592: dialog (wml_message.cfg) is shifted by the\n     distance between the left edge of the screen and the game map\n   * Overhaul of the editor's gui\n * WML engine:\n   * Fixed invalid memory access issues caused by subnamespaced persistent WML\n     variables (bug #20385).\n   * fix negative gold carried over (bug #20676)\n   * Allow filtering on controller= in SSFs. Cannot be used in networked multiplayer.\n   * When controller in 'side' tag is ai, use 'no' as default value\n     for 'allow_player' attribute.\n * Miscellaneous and bug fixes\n   * Switched to git version control. Hosting moved to SourceForge\n   * Improved: Autorevision based revision numbers in CMake.\n   * Don't let petrified units reveal ambushers\n\nVersion 1.11.2:\n * Add-ons client:\n   * Fixed bug #20518: identical add-ons titles not supported\n   * Add a button to the Filter Options dialog to toggle all currently\n     displayed add-on categories at once\n * AI:\n   * Experimental Multiplayer AI\n     * Improve recruitment, notably first turn choices and units with poison\n       and charge\n     * Improved selection of units for village stealing\n     * Remove dependency on AI-demos add-on\n     * Fix bug when playing on maps with a turn limit\n     * Fix bug handling regeneration\n     * Minor improvements in switching between castles\n     * Add healer support micro AI to improve healer use\n     * Improved village capturing\n     * Retreat badly injured units more effectively\n   * New [micro_ai] tag, 18 different Micro AIs, and 14 test scenarios\n     * This includes AIs for 7 different animal behaviors, bottleneck defense,\n       2 different guardians and a coward, healer support, lurkers,\n       messenger escort, patrol, protect and move a unit, and 2 alternative\n       recruiting strategies.\n     * Documentation at http://wiki.wesnoth.org/Micro_AIs\n   * New leader_ignores_keep AI aspect that lets AI leader take part in the same\n     AI moves as the non-leader units.\n   * Rename passive_leader_shares_keep candidate action to leader_shares_keep.\n     The old syntax still works for backward compatibility (for both CA and\n     macros).\n   * Fix minor bug in leader_shares_keep candidate action that occurred\n     under some circumstances when the AI leader does not have full MP\n * Campaigns:\n   * Sceptre of Fire:\n     * Allow game to continue after completing scenario (reported in forums)\n   * Son of the Black Eye:\n     * Prevent infinite loop if fewer than two transport ships (bug #20389)\n * Graphics:\n   * New bigmaps for the title screen and campaigns HttT, TSG, SoF and SotBE\n   * Fix layering error with bridges\n * Language and i18n:\n   * Updated translations: British English, Chinese (Traditional), Dutch,\n     Estonian, French, Galician, German, Italian, Japanese, Latin, Lithuanian,\n     Portuguese, Portuguese (Brazil), Slovak, Vietnamese\n * Lua API:\n   * new wesnoth.get_time_stamp() function\n   * new helper.shuffle() function\n   * The wesnoth.transform_unit() function no longer performs a full heal. It\n     will (still) enforce the resulting unit's maximum hit points, though.\n   * The wesnoth.transform_unit() function will automatically remove poison from\n     a unit that is immune after transforming.\n * Multiplayer:\n   * Moved new lobby option in Preferences -> Multiplayer to Advanced\n     Preferences and clarified description\n   * MP command-line mode now works correctly, including replays, random maps\n     and default values (bugs #19853, #19877, #19883, #19895 and #20009)\n   * New --ignore-map-settings MP command-line option\n   * Fixed some issues with Dark Forecast skipping spawns and failing to end.\n * User interface:\n   * Allow copying the selection in the old (default) lobby using\n     Ctrl+C/Command+C (bug #5877)\n   * Color coded the resistance table in the hp display's tooltip.\n   * Scale down unit baseframes larger than 72x72 in the Recruit and Recall\n     dialogs to prevent all list entries from being enlarged to fit\n   * Tooltip for the movement points display shows the movement costs.\n   * Updating the shroud after delaying shroud updates is done gradually instead\n     of instantly.\n   * Fixed (bug #18970): Moving a unit after closing a click dismiss dialogue.\n   * Increased bottom padding for story screen text when it reaches the bottom\n     of the screen.\n   * Fix viewport centering issues with actions such as the Next Unit command,\n     and the [scroll_to], [scroll_to_unit], and [message] WML actions (bug #18793).\n   * Removed the \"move unit to hexfield\" feature.\n   * Rearranged :inspect dialog elements to provide the data visualization\n     panel with more horizontal space.\n * WML engine:\n   * [unit_overlay] and [remove_unit_overlay] now return a more meaningful\n     error message if the image= key is missing\n   * When not replacing values, [effect] apply_to=defense will now modify\n     absolute values instead of signed values (bug #20242). This allows for\n     cleaner WML when the unit type is not necessarily known in advance.\n   * Split the 'not_living' unit status into 'unpoisonable', 'undrainable' and\n     'unplagueable'. 'not_living' now acts on the whole group\n   * The bugs with sighted events have been resolved.\n   * A unit's maximum hit points are more regularly applied. This affects\n     [transform_unit], [effect]apply_to=type, and [effect]apply_to=variation.\n   * Poison is automatically removed from immune units after using\n     [effect]apply_to=type or [effect]apply_to=variation.\n   * Fixed bug #20401: [remove_unit_overlay] did not work when the image used an\n     image path function that took multiple parameters.\n   * Refactored [base_unit] to be more robust in oddball cases.\n   * Improved support for setting id= within a [variation].\n   * Added support for square bracket expansion in animation strings I.E\n     halo=\"pic[1-2,5]:[10,20,30]\" expands to halo=\"pic1:10,pic2:20,pic5:30\"\n     this is used for halos, team flags, animated terrains and unit animations\n   * Changed default unit halos and macros to use new square bracket expansion\n   * Fixed bug #20468: Update the owned villages when using [replace_map].\n   * Changed [vision_costs] to default to movement costs on a per-terrain basis.\n * Miscellaneous and bug fixes:\n   * The undo stack is preserved across a save-reload.\n   * Removed several unused private member variables.\n   * Fixed the present in-game command line autocompletion feature so it\n     actually works without using :debug\n   * Removed recognition of the --smallgui command line option, which has been\n     superfluous since 1.9.5.\n   * Made wmllint recognize victory_string, defeat_string,\n     gold_carryover_string, and notes_string (all from the [objectives] tag) as\n     attributes that need to be made translatable\n   * Added -Wdocumentation to the CMake pedantic flags.\n   * Make drakes fly on volcano tiles (bug #20485).\n   * Added a FOREACH macro to emulate C++11 for(... : ...) style loops.\n   * Fixed bug #20290: No longer terminate due to a corrupt savegame.\n   * Fixed bug #19970: No longer terminate due to corrupt preferences.\n   * Changed: Increased the pango cairo dependency to version 1.24.4.\n   * Fixed a display artifact (halos not cleared) when WML moves a unit.\n   * Improved the display of vision costs in the unit help.\n   * Fixed wmllint, wmlscope and wmlindent not working correctly on Windows if a\n     command line argument ends with a backslash\n   * Fixed: Compilation with CLang 3.2 and libc++.\n   * Added: Autorevision based revision numbers in CMake.\n\nVersion 1.11.1:\n * AI:\n   * New AI: Experimental AI\n     * Improved recruitment, castle and village management over current default AI\n * Campaigns:\n   * Dead Water:\n     * Removed duplicated loyalty overlay (that now is in core), and used\n       {IS_LOYAL} macro\n     * Stunned units are now marked with a status icon\n   * Delfador's Memoirs\n     * Add dummy side to cutscene to avoid crash at end of story part\n       (bug #20208)\n   * Eastern Invasion:\n     * New set of portraits\n   * Legend of Wesmere:\n     * Scenario 02: Replaced the moveto events for checking the\n       dwarvish borders with enter_hex events\n     * Scenario 08: Add dummy side to cutscene to avoid crash at end of story\n       part (bug #20208)\n   * The Rise of Wesnoth:\n     * Fix bug #16772: AI won't attack\n   * Under the Burning Suns:\n     * Keep a spawned unit from disappearing on reload in scenario 6b\n     * Stunned units are now marked with a status icon\n     * Fix bug #19303: dwarf sometimes spawns in cave wall\n * Graphics:\n   * New portraits: Tentacle of the Deep\n   * Updated brown lich alternative portrait\n   * Fixed glitches caused by larger-than-hex standing units with certain frame\n     image effects when image= is not explicitly specified (bug #20099)\n   * Fixed standing unit animation glitches caused by [move_unit_fake] on\n     adjacent locations (bug #20098)\n   * The special ellipses for leader and hero units now support team coloring.\n * Language and i18n:\n   * New translation: Scottish Gaelic\n   * Updated translations: British English, Chinese (Traditional), Croatian,\n     French, Galician, German, Hungarian, Italian, Latin, Lithuanian, Polish,\n     Portuguese (Brazil), Russian, Slovak, Ukrainian\n * Lua API:\n   * new wesnoth.have_file() function\n   * wesnoth.get_time_of_day() now works when specifying a turn when the number\n     of turns is unlimited\n * Multiplayer:\n   * Silver Mage no longer allowed as a leader in Age of Heroes\n   * Added support for modification tags\n   * Added support for dependencies between eras, scenarios and modifications\n   * New [options] tag to allow MP add-ons to add their own settings on the game\n     creation screen\n * Networking:\n   * Handle an exception in the SDL_net-based network code (bug #20205)\n * Terrains:\n   * Added Unwalkable Overlay terrain (^Qov)\n   * Added Dense Palm (^Ftp), Savanna (^Fts), and Rainforest (^Ftr) terrains\n   * Updated graphics for palms (^Ftd), tropical forest (^Ft),\n     plank bridge (^Bp*), stone bridge (^Bs*), and chasm bridge (^Bcx*)\n * User interface:\n   * Healing animations are now played when poison is cured.\n   * Moving units to a selected hex field\n     * Units in reach of a hex field are highlighted during selection.\n     * Highlighting and labeling the selected hex field with the amount of in\n       range units.\n     * Left click on a controlled one triggers the move.\n   * The recruit and recall commands are restored when right-clicking on a\n     leader, but with new semantics -- only that leader's recruits/recalls will\n     be presented as options.\n   * Fog/shroud clearing has been reworked to be more timely and consistent.\n   * The statistics window can now show per-scenario statistics.\n   * The sidebar now includes specials when reporting a weapon's damage.\n   * The sidebar now includes all specials when reporting a weapon's number of\n     attacks (not just swarm).\n   * Active/inactive highlighting for abilities and weapon specials in the\n     sidebar.\n   * Fix broken MP game creation dialog on low resolutions\n   * The \"repeat recruit\" command now refers to the last recruit by the current\n     side, rather than the last recruit by the current game client.\n   * Refinements to undo stack management, sometimes allowing moves to be undone\n     after \"update shroud now\" (if those moves did not affect fog/shroud).\n * Whiteboard\n   * Don't end turn if executing all actions in another way than using the\n     \"end turn\" button/hotkey. (bug #19901)\n * WML engine:\n   * The recall, recruit, prerecall, and prerecruit events will now block\n     undoing unless they contain [allow_undo].\n   * The cost of a recall/recruit is now paid between the prerecall/prerecruit\n     and recall/recruit events. (FR #16711)\n   * Sighted events should be reliable, provided the player does not activate\n     delayed shroud updates (which is still a major caveat).\n   * Added [effect] apply_to=overlay\n   * Added [effect] apply_to=experience\n   * Added [terrain_type] max_light= and min_light=.\n   * Standardize weapon filters, supporting special=, [and], [or], and [not]\n     wherever weapons can be filtered.\n   * Image path functions again evaluated left-to-right. Fixes bug #20196.\n   * Support for [swarm] causing attacks to increase as health decreases.\n   * Inactive names and descriptions for abilities and weapon specials will\n     default to the active name/description if omitted.\n   * Fix a bug with [store_time_of_day] so that it treats the provided variable\n     as a container instead of an array (overwrite instead of append).\n   * Added [side]suppress_end_turn_confirmation= for those (rather nonstandard)\n     scenarios where players often skip their turns.\n * Miscellaneous and bug fixes:\n   * Fix invalid memory access crash resulting from deleting all saved games\n     in the Load Game dialog\n   * Redesigned the hotkey preferences dialog\n   * Removed two Khalifate leftovers (Hakim portrait and KHALIFATE_NAMES macro)\n   * Ambush now works for desert palms and dead great trees (bug #20207)\n   * Hex field size and default terrain are wml configurable\n   * RCA AI renamed from 'testing' to 'default'\n   * Fix OOS when dismissing a recall in a multiplayer campaign (bug #19924).\n   * Fixed a bug disallowing the left shift and meta key to be detected in\n     the hotkeys\n   * Added -Wuseless-cast to the CMake pedantic flags.\n   * Added -Wc++11-compat to the CMake pedantic flags.\n   * Added bzip2 support for savefiles. (new dependency)\n   * Fix OOS when observe scenario 2 in a multiplayer campaign (bug #20217).\n   * Synchronize underlying_unit_id in MP campaigns (bug #20227)\n   * Fixed: Compilation with Boost 1.51.0 (Gentoo bug #440742).\n   * Added -Wnoexcept to the CMake pedantic flags.\n   * Fixed a rare case where a player could exercise (very) limited control of\n     another (human) player's units in a hotseat game.\n   * Added project files for CodeLite.\n\nVersion 1.11.0:\n * Add-ons client:\n   * The Update Add-ons dialog has been replaced with an alternate view mode\n     for the main Add-ons Manager\n   * The Add-ons Manager now allows filtering add-ons by installation status\n     (all, installed, not installed, upgradable)\n   * Add-ons in the Add-ons Manager are initially sorted by title instead of\n     the order they were originally uploaded to the server\n   * Add-ons with broken/unavailable dependencies are reported to the user\n   * The add-on dependencies prompt reports all recursively-resolved\n     dependencies, not just the direct dependencies\n   * Add-on installation, upgradability, and publish status is reported as a\n     footnote for every list entry, plus a field in the Description dialog\n   * The Add-ons Manager filter textbox is preserved during the same\n     connection (i.e. while installing multiple add-ons)\n * Add-ons server:\n   * Reject add-ons with names or titles that begin with a WML text format\n     markup character (any of *, `, ~, {, ^, }, |, @, #, <, &)\n   * Switched to port 15006 for 1.11.x and adjusted all tools to this port\n * AI:\n   * In akihara_recruitment, analyzing battle field - we take village as\n     important spot. The aim of it is to list terrain couple according to these\n     important spot so we can evaluate battle simulation on them.\n   * In akihara_recruitment, the struct situation became a class.\n   * New AI formula 'aki_eval' for testing a battle evaluation\n   * AI now properly considers the expected damage from poison when attacking\n     using poisoners.\n   * Adding a new scenario for the ai-arena-small in order to test the new AI.\n   * Adding new files for the new AI (ai/akihara/recruitment.?pp)\n * Campaigns:\n   * Added a note to all final scenarios, stating which one is the last scenario\n   * A Tale of Two Brothers:\n     * Fix bug #19949: Turns left counter initially incorrect when objectives\n       change and turn limit is extended\n     * The Chase: fixed some missing messages if no unit with role=speaker is\n       present\n   * Dead Water:\n     * Updated the Stun weapon special code to use [object] duration=turn\n   * Delfadors Memoirs:\n     * Showdown in the Northern Swamp: added to conditional notes in objectives\n       about who should kill Iliah-Malal\n   * Dead Water:\n     * Changed uses of \"ai turn\" to \"side # turn\" (\"[event]name=ai turn\" breaks\n       replays)\n   * Descent into Darkness:\n     * Fix most possible cases for Darken Volk becoming \"stuck\"\n       in 09_A_Small_Favor3.\n   * Eastern Invasion:\n     * Revisions to dialogue and part of the story.\n   * Heir to the Throne:\n     * Implemented FR #19418: the Orcs destroy the villages near Konrad's castle\n       when capturing them in The Elves Besieged\n     * Fixed bug #19531: scroll to reinforcement units in Blackwater Port\n     * Fixed bug #19517: The injured sergeant in HttT: Cliffs of Thoria will now\n       always become visible when he is discovered.\n   * Legend of Wesmere:\n     * Fix bug #19577 - some terrain was not snow covered\n     * Fix bug #19565 - yetis remaining under fog when they appear in scenario\n       10\n   * Liberty:\n     * Fixed unknown unit type errors in 04_Unlawful_Orders\n   * Sceptre of Fire:\n     * Searching for the Runecrafter: updated the \"sighted location\" code to\n       make use of [filter_vision], plus a SSF\n     * Keep recall list at end of scenario 7\n   * Son of the Black Eye:\n     * Removed Al'Brock and Flar'Tar death as defeat condition in objectives in\n       Civil War\n     * Fixed bug #19684: Kapou'e says a different message if he kills the first\n       Elf in Silent Forest\n     * Silent Forest: the messages that appear upon killing the first Elf can be\n       translated differently depending on the Elf's gender\n     * Fixed bug #19686: fixed two variable checks that prevented some strings\n       from being displayed in Back Home\n   * The Hammer of Thursagan:\n     * Fixed bug #19743: in Mages and Drakes, Perrin has two different messages\n       about apprentices, depending on the difficult level\n     * Karrag now gets enough gold to actually recruit when met\n   * The South Guard:\n     * Fixed bug #19758: Urza Afalas' sighted event is fired also when the Lich\n       is seen, and if the player allies with the Elves, then both Urza Afalas\n       and Mal M'Brin must be defeated\n   * Tutorial:\n     * Applied patch #3203: Allow to end the scenario via the right-click menu.\n     * Fixed bug #19316: Narrator messages are now translated.\n     * Replaced $unit.type by $unit.language_name to make a string completely\n       translatable\n     * Fixed bug #19367: Incomplete i18n in wesnoth-tutorial\n   * Under the Burning Suns:\n     * Made it so that Kaleh gets the default AMLA after he's been fully\n       upgraded\n     * Fixed flood appearance over wooden boards\n     * Update scenario code to take advantage of modern WML features\n     * Fix bug #19630\n     * Fix some minor unreported bugs\n     * Minor spelling and grammar corrections\n     * Made it so that all units are rehydrated quietly upon victory in scenario\n       two\n     * Updated the Stun weapon special code to use [object] duration=turn\n     * The Human Commander unit now uses the smallfoot movetype instead of\n       woodland\n     * Display dehydration status in the sidebar\n     * Ensure player always has positive gold leaving the cave in Out of the\n       Frying Pan\n     * New AI for human messenger in \"Out of the Frying Pan\"\n     * Taking all items is now optional\n     * Finding the map in scenario 3 is now useful\n     * Healers now prevent dehydration instead of removing it, so they no longer\n       heal dehydrated units\n     * New art for Dark Assassin\n * Editor:\n   * New gui theme, fixes the editor being broken on low resolutions.\n     * Smaller font for displaying the terrain information.\n     * Less space between the map coordinates and the terrain information\n       (no need to display defense value)\n     * More width sidebar\n       * Features one more editing tool per row.\n       * Additional brush\n       * Button for default zoom switching.\n     * Space for a second row of editing tools.\n   * Terrain group selection from a menu, saving a lot of space.\n   * Terrain palette\n     * is scaled to fit at all resolutions.\n     * Removed the scrolling feature which is no longer needed.\n   * Improved performance of the Editor Settings ToD lighting controls\n * Engine:\n   * Refactored scenario transition code\n   * Fixed bug #19599: Engine keeps redundant unit.ai_special_ information.\n * Graphics:\n   * New graphics for the Spectre.\n * Help menu:\n   * Added a new Add-ons section explaining add-on usage basics\n   * Added more elaborate descriptions for the Units, Abilities and Weapon\n     Specials sections, with the intent of reducing confusion when they are\n     initially empty (feature request #13914)\n * Language and i18n:\n   * Fixed two untranslatable strings in the \"new\" MP lobby\n   * Fixed an untranslatable string in the Multiplayer Commands help topic\n   * Fixed untranslatable Cancel button label in the add-ons server network\n     status dialog (bug #19659)\n   * New translations: Ukrainian\n   * Updated translations: British English, Chinese (Simplified),\n     Chinese (Traditional), Dutch, Estonian, Finnish, French, Galician,\n     German, Greek, Hungarian, Indonesian, Irish, Italian, Japanese, Korean,\n     Latin, Lithuanian, Norwegian, Old English, Polish, Portuguese (Brazil),\n     Russian, Slovak, Spanish\n * Lua API:\n   * Upgraded Lua from 5.1.4 to 5.2.0\n   * new: field wesnoth.game_config.mp_debug\n   * new: setter for wesnoth.sides[i].color\n   * Deprecated the following functions from the wesnoth table,\n     all of which have better replacements:\n     get_side, get_side_count, get_unit_type_ids, get_unit_type,\n     register_wml_action\n   * Changed: Extended support for toggle_button.\n   * Fixed: wesnoth.find_reach does no longer replace a passed private lua\n     proxy unit with the on-map unit at the same location\n   * new: helper.round function\n   * wesnoth.scroll_to_tile() now takes a fourth optional argument (boolean)\n     specifying whether to ignore the scroll speed setting in Preferences and\n     instantly warp to the given location\n   * Added wesnoth.lock_view(), taking a boolean argument specifying whether\n     to lock gamemap view scrolling (so the user cannot scroll, while WML/Lua\n     actions still can, i.e. for cutscenes), or unlock it\n   * Added wesnoth.view_locked(), returning a boolean true value if gamemap\n     view scrolling has been locked, and false otherwise\n   * Added == operator for (private, on-map, recall) lua proxy units,\n     checking for unit identity\n   * Added wesnoth.get_villages() function\n * Multiplayer:\n   * A New Land:\n     * Made it so that the \"Elvish Shaman\" option in the elvish unit selection\n       menu gets translated. Fixes bug #19677.\n   * Fix an accidental terrain type change in Isar's Cross\n   * Fix attacker side being human in 6p_Team_Survival (bug #19400)\n   * Ignore Pango markup in map descriptions (bug #19210)\n   * Canceling the sides setup screen when hosting a MP game now brings the\n     host back to the game configuration screen first instead of returning\n     immediately to the lobby or (for hotseat) titlescreen (bug #7130)\n   * The Set Password action is no longer shown for local hotseat games\n     (bug #10784)\n   * Changes to the time of day schedules of Fallenstar Lake and Silverhead\n     Crossing\n   * Random leader is default selection when picking faction\n * Music and sound effects:\n   * Replaced some of the wolf hit sounds with lower-pitched ones\n * Terrain:\n   * New Syntax for terrain maps\n   * New tropical forest images\n   * New palm forest terrain\n   * Deprecated flowers (Ggf) and Volcano (Qv) removed - use Gg^Efm and Mv\n     respectively\n   * Fix bridge/rail transitions to each other\n   * Add new rail terrain type; no existing unit can move on it, so their\n     move/defense values are unchanged\n   * New stone, hanging, and wooden chasm bridges\n   * Fix bug #19753, missing hex transition\n * Unit changes and balancing:\n   * New extra_define ENABLE_WOLF_ADVANCEMENT to optionally enable Wolves\n     advancement to Great Wolves and Direwolves\n   * New extra_define ENABLE_TROLL_SHAMAN to optionally enable Troll Whelps\n     advancement to Troll Shamans (not in multiplayer)\n   * Lowered General's experience to 150 when extra_define DISABLE_GRAND_MARSHAL\n     is used\n * User interface:\n   * Restored leader unit image in Load Game dialog (bug #18683)\n   * Added a \"Back to Start\" option to the game menu to load the current\n     scenario's start save if it is available (feature/bug #18027)\n   * Added tooltips to Load Game dialog (feature/bug #18249)\n   * Added a Reset All button to Hotkey Settings dialog in preferences\n     (feature/bug #3797)\n   * Fixed excessive idle CPU usage in story screens without story text\n   * Map editor now displays invisible overlay terrains on main map\n   * Made add-ons with markup characters at the start of their titles\n     display normally in the add-ons management dialogs (e.g. without\n     colors)\n   * Re-fogging does not occur in the middle of the player's turn.\n   * Fixed provided saved game filenames being ignored when requesting to\n     save a MP game due to a network or OOS error (bug #19562)\n   * Fixed bug #19538: Filters matching 0 saved games cause crash\n   * Clicking a unit does not reveal adjacent hidden units (bug #19381).\n   * Simultaneous ambush, sighted and teleport failed messages will no longer\n     cover each other up\n   * Added: A character limit width constrain for a text\n   * Stop showing a unit's potential moves before moving in a move & attack,\n     rather than after (more consistent with regular movement)\n   * Changed: Made the id for a tooltip and helptip mandatory.\n   * Added: Helper code to assist in widget placement.\n   * Added: New widget pane.\n   * Added: New widget viewport.\n   * Added: New dummy widget instance.\n   * Added: New control matrix.\n   * Trying to initiate movement (or an attack) before previous movement is\n     finished no longer unselects the current unit (bug #19734). (The new\n     movement command is still deliberately ignored.)\n   * The recruit and recall commands no longer appear in the context menu\n     for shrouded or (visibly) occupied hexes.\n   * Fixed bug #19844: Block recruiting into shrouded hexes.\n   * Fixed bug #19783: Disable commands while WML menu items are executing.\n   * Fixed bug #19533: Both damage tooltips now take into account local factors.\n * Whiteboard:\n   * Fixed bug #19626: segfaults on window resize\n   * Fixed bug #19369: Using planning mode can cause losing ability to move my\n     units\n   * Fixed bug #19408: Crash shortly after executing invalid multi-turn move\n   * Fixed bug #19581: Leader can still move after a planned recall\n   * Shortened all context menu items\n   * Fixed bug #19619: In local games, units keep ghosted appearance during\n     opponent's turn\n   * Fixed bug #19613: Multiple attacks after planning attacks in whiteboard\n   * Fixed bug #19618: Problems with ending turn with impossible moves\n   * Fixed bug #19615: Can see part of opponents' planned moves in local\n     multiplayer game\n   * Refactored wb::side_actions\n   * Refactored the highlighter and the visitor\n * WML engine:\n   * new key: [unit]/[unit_type] vision=<number>, decouples movement and sight\n     range.\n   * new tag: [movement_type] [vision_costs], used for calculating sight range\n     if present.\n   * new action tag: [clear_menu_item] id=...\n   * new key: [set_menu_item][command]delayed_variable_substitution=yes|no\n   * Removed support for the deprecated \"colour=\", \"debug_border_colour=\",\n     and [colour_adjust]\n   * Fixed bug #18996: Increase random number generation range.\n   * Made it possible to disable the credits screen at the end of a campaign\n     by specifying end_credits=no in the final [endlevel] action, or in the\n     [campaign] definition (defaults to yes)\n   * Added [modify_side] color= attribute, which changes a side's team color\n     range (feature/bug #18772)\n   * Removed support for the deprecated [removeitem]\n   * Implemented ~BLEND(r,g,b,o) image path function, which blends the image\n     with a specified RGB color according to certain opacity (factor or\n     percentage) (feature/bug #11590)\n   * [find_path] now returns a \"hexes\" key instead of a \"length\" key inside\n     the output array\n   * Introduce inline SSF support in action tags [allow_recruit],\n     [disallow_recruit], [set_recruit], [gold] and [modify_ai]\n   * [gold][filter_side] and [modify_ai][filter_side] are deprecated, use inline\n     SSF instead\n   * Action tags [modify_side], [place_shroud] and [remove_shroud] now default\n     to \"all sides\" instead of side=1 if left empty.\n   * Introduce support for [filter_owner]<SSF> in SLFs. For villages. Keeps\n     backwards compatibility for inline owner_side= at the cost of\n     confusing syntax (due to (possible) duplicate side information).\n     This also adds SSF support in [store_villages].\n   * Added support for resistance_multiplier= key in [harm_unit]\n   * Fixed bug #19498: [modify_unit] duplicating units if x,y changed\n   * Added inline SLF support in [scroll_to], by using the first matching\n     location\n   * Introduce inline SSF support in [objectives] and [show_objectives]\n   * The [drain] weapon special now supports value=, multiply=, divide=, add=\n     and sub=\n   * Added [heal_on_hit] for healing/harming the user by a fixed amount\n   * Drained HP amounts can now be negative.  Trigger this by setting\n     a negative value in the [drain] or [heal_on_hit] weapon special\n   * Negative drain amounts will not take a unit below 1 health\n   * Added [show_if] support to [objectives] [note]\n   * New tags: [lift_fog] and [reset_fog]\n   * New keys: reset_maps= and reset_view= added to [modify_side].\n   * Using more than 4 multiply effects no longer wraps to negative integers\n   * Added: support for ranges of sides in SSF\n   * The [filter_vision] tag of the SUF now uses a SSF\n     (viewing_side= still works, but is deprecated and\n     should be renamed to side=)\n     Semantics for empty side information changes from\n     \"all enemy sides\" to \"all sides\"\n   * [filter_vision] now works in location filters as well as unit filters,\n     and has an additional key (respect_fog) for locations\n   * Support for [effect]unit_type= and [effect]unit_gender= has been\n     removed, use [effect][filter]type= respectively [effect][filter]gender=\n     instead\n   * Border hexes are included when using radius= in the SLF of [remove_shroud]\n     and [place_shroud] (they were already included for directly matched hexes).\n   * Retrofitted CLEAR_FOG and UNCLEAR_FOG macros to make use of [lift_fog] and\n     [reset_fog]\n   * Replaced variable i by TRANSFORM_UNIT_i in macro TRANSFORM_UNIT\n   * Fix $owner_side in capture events fired due to unit movement\n   * Introduce [item]redraw=yes|no (def yes) parameter\n   * Added [object]duration=turn\n   * Pushed LOOT macro from LoW, THoT and TRoW in core\n   * Adds new WML attribute for configurable village support (upkeep)\n   * Change [object]duration=level to [object]duration=scenario\n   * The race attribute in SUFs can now take a comma-separated list\n   * New image path function: ~ROTATE()\n   * Fixed some cases where [find_path] did not restore $this_unit\n   * Added: Allow better error messages for missing WML children.\n   * [scroll_to] and [scroll_to_unit] now accept an optional boolean immediate=\n     attribute (defaults to false) specifying whether to ignore the scroll\n     speed setting in Preferences and instantly warp to the selected location\n   * Added [lock_view] and [unlock_view] WML actions, for locking and unlocking\n     gamemap view scrolling (so the user cannot scroll, while WML/Lua actions\n     still can, i.e. for cutscenes)\n   * Fixed CALL_FUNCTION macro (bug #19805)\n   * Added [effect] apply_to=halo\n   * Converted [store_villages] from C++ to Lua\n   * Introduced [unstore_unit]animate=yes|no (def. yes) parameter\n   * Made the display of ability and weapon special descriptions smarter, so\n     those descriptions no longer require (and should no longer have) the name\n     of the ability/special as the first line of the description.\n * Miscellaneous and bug fixes:\n   * Fix wrong preferences path suffix (1.1 instead of 1.10) on Linux and other\n     platforms using XDG layout (no compiled-in preferences path override,\n     bug #19318)\n   * Fixed unit sound animation timings wherever {SOUND:SLOW}, {SOUND:POISON},\n     and several macros from animation-utils2.cfg are used (see bug #19274)\n   * Restart is no longer required to toggle desktop notifications\n   * Display the savegame version when warning the user about unsupported or\n     mismatched versions (bug #7243)\n   * Implemented feature request for difficulty changing during campaigns.\n     (see bug #10978)\n   * The saved games cache file is now save_index instead of save_index.gz, and\n     it is compressed when the Compressed Saves option is enabled in Advanced\n     Preferences (patch #3115)\n   * Show base terrain description if none for overlay (bug #19411)\n   * Added wesmage tool to test SDL image manipulation functions.\n   * Fixed: A possible NULL-pointer deference in get_unit_type_function.\n   * Changed: Default man installation directory now confirms to FHS.\n   * Added: New floating point emulation code.\n   * Make Wolf Rider and Wolf raise their heads if and only if unit is\n     submerged: forums.wesnoth.org/viewtopic.php?f=4&t=36212\n   * Changed: Add a small cache for reading files, giving a minor improvement.\n   * Added: Helper tool to create images for unit tests.\n   * Added: Image manipulation unit tests.\n   * Changed: Rewrote the surface blending algorithm, and improving its speed\n     using NEON intrinsics on processors supporting NEON (the Pandora).\n   * Fixed bug #19503: \"maximum auto saves\" setting now works correctly.\n   * Fixed: A preprocessor bug looking beyond the end of a buffer.\n   * Fixed: Binding a temporary in the network code, possibly causing\n     crashing.\n   * Fixed bug #19658: In replays, units sometimes refresh movement when it is\n     not their turn\n   * Added: Enabled BREAKPOINT and WES_HALT macros on the Pandora.\n   * Fixed bug #19678: Escape the pipe-symbol in the wiki: TerrainCodeTableWML.\n   * Fixed bug #19469: Missing scenario hash results in Remote scenario always\n     added to game description\n   * Fixed bug #19322: Empty sides not being listed at the status table\n   * Fixed bug #19681: Use the created cache instead of rebuilding it all the\n     time\n   * Fixed bug #16544: Fail to read `empty' cache files.\n   * Fix bug #19681: Cache is never valid\n   * Added shroud_data to the inspection window (FR #19623).\n   * Fixed: grids now recursively search for widgets by pointer.\n   * Fixed: Wrong current side number after side turns (bug #19735)\n     It also affected the lua field wesnoth.current.side\n   * Added: Fail macros FAIL and FAIL_WITH_DEV_MESSAGE.\n   * Added: Helper code to make it easier to write enumerate stream operators.\n   * Added: UNREACHABLE_CODE macro.\n   * Added: TELEPORT animation macros usable by any units\n   * Added: CMake option ENABLE_SHARED_LIBRARIES.\n   * Fixed: Allow strict compilation with CMake using the upcoming gcc-4.8.\n   * Fixed bug #19795: OOS when [message][option] is used in a (single-player)\n     start event when side 1's controller is null.\n   * Changed: Enabled strict compilation for Clang in CMake.\n   * Added: ENABLE_PEDANTIC_COMPILATION option for CMake.\n\nVersion 1.10.0:\n * Campaigns:\n   * Legend of Wesmere:\n     * Scenario 03: Fixed bug #19067: Control over Galtrid's side stays with the\n       player after the arrival of Kalenz\n     * Scenario 22: Fixed bug #19236: Cleodil was missing and no recall list\n   * An Orcish Incursion:\n     * Scenario 3: select a new unit with the Adviser (sic) role for dialogs if\n       the original unit selected at the start of the scenario died\n   * Under the Burning Suns:\n     * Scenario 5: Fixed bug #19303: one of the dwarves was spawning in a wall.\n   * The Rise of Wesnoth:\n     * Peoples in Decline: fixed a message not shown when the Sea Serpent appears\n * Editor:\n   * Added Etheral Abyss terrain (Qxua) to the Cave category, too\n   * Updated the terrain palette icons for winter/fall single or mixed forested\n     hills so they show the default base Hhd instead of Hh\n * Graphics:\n   * Fixed some spearman attack animations being too slow in some directions\n * Language and i18n:\n   * Updated translations: Chinese (Simplified), Chinese (Traditional), Czech,\n     Finnish, French, Galician, German, Hungarian, Italian, Latin, Lithuanian,\n     Old English, Polish, Serbian, Slovak, Spanish\n * Lua API:\n   * Extend and improve wesnoth.select_hex, deprecate wesnoth.highlight_hex\n * Multiplayer:\n   * Allow tab completion of player names in commands (bug #19284)\n   * Fixed bug #19260: 'villages_value' -> 'village_value' in 5p_The_Wilderlands\n   * Fixed eras other than the default breaking 2p_Hornshark_Island. If a player\n     has a faction not in the default era, a standard set of units (aimed at\n     Khalifate) is used now.\n   * Fixed bug #19083: allow attack to happen normally without causing OOS if\n     turn time runs out in attack selection dialog.\n   * Fix some unit images being cropped in 2p_Aethermaw\n * Terrain:\n   * Removed tags ignored by engine (as reported by lipk in\n     http://forums.wesnoth.org/viewtopic.php?f=21&t=35832 )\n   * Fixed bug #18601: change swamp water so it looks as good as it did in 1.8\n * User interface:\n   * Draw gold hex cursor above all terrain when no unit visible\n * WML engine:\n   * Improve [select_unit] to match its original intention (bug #19224)\n   * Improve error handling in case of invalid maps passed to\n     [replace_map] or [terrain_mask]\n   * Disable wml menu items in linger mode without debug mode (bug #16262)\n * Whiteboard:\n   * Fixed bug #18635: Percentage not displayed for units selected at their\n     future position\n   * Fixed bug #19142: attacks can be simulated between units (for which this\n     shouldn't be possible)\n   * Fixed bug #19221: Assert when a whiteboard move-attack wins a scenario\n   * Fixed bug #19222: After 'delete planned action', the unit is almost\n     invisible\n   * Fixed turn not finishing when moves were planned for future turns\n * Miscellaneous and bug fixes:\n   * Fixed wmlindent writing CRLF end of lines on windows\n   * Fix tutorial units without xp bar\n   * Reset game credits instead of appending on WML cache refresh (bug #19292)\n   * Fix wmllint check for \"unknown xy referred to by id\" not working\n\nVersion 1.9.14:\n * AI:\n   * Fixed bug #18962 and bug #19214: AI leaders are no longer slow to select\n     attacks.\n * Campaigns:\n   * Sceptre of Fire:\n     * New set of portraits\n * Editor:\n   * Fixed overpainting of transparent tile icons on the editor palettes on the\n     sidebar\n   * Fixed terrain palette shrinking to the size of small categories when\n     switching maps (bug #19218)\n   * Fixed various crashes related to drawing/filling operations (bug #18928)\n * Language and i18n:\n   * Changed font used for CJK languages to DroidSans\n   * Updated translations: British English, Chinese (Simplified), Czech, Dutch,\n     Estonian, French, Galician, German, Hungarian, Latin, Norwegian, Serbian,\n     Slovak, Spanish\n * WML engine:\n   * Fix store_unit clearing the used variable before its filter can reference it\n     (bug #19203)\n   * Check for argument image file existence before creating a MASK or\n     BLIT image mod (bug #19208)\n   * New key [object]delayed_variable_substitution=yes|no (default no)\n     as a workaround for bug #18893 (fixes bug #19225)\n   * Made empty {} preprocessor directives be handled more gracefully\n     (bug #19233)\n   * Fixed bug #19213: [harm_unit] incorrectly uses ToD bonus\n   * The turn bell and autosaves are not triggered anymore in certain situations\n     after [endlevel] has been issued\n * Miscellaneous and bug fixes:\n   * Fixed bug #19032: Poison and level up AI defense placement calculation\n   * Fixed bug #19245: wesnoth(6) man page doesn't describe the --campaign*\n     options correctly\n   * Enable local ToD lighting option by default.\n\nVersion 1.9.13:\n * Campaigns:\n   * Northern Rebirth:\n     * Infested Caves: integrated sighted events with moveto events\n     * To the Mines: fixed Hamel not having the hero overlay\n     * Clearing the Mines: fixed Dwarves recruitment not being disallowed upon\n       winning\n     * The Pursuit: integrated a sighted event with moveto event\n     * The Pursuit: replaced another sighted event with ON_SIGHTING\n     * Elvish Princess: fixed Ro'Arthian and Ro'Sothian not having the hero\n       overlay\n     * Introductions: used ON_SIGHTING instead of sighted event\n     * Stolen Gold: gave Krash the expendable leader overlay\n     * Stolen Gold: fixed one of the two loyal Drakes having two IDs\n     * Stolen Gold: fixed Hidel missing his portrait\n     * Get the Gold: gave Eryssa the expendable leader overlay\n     * The Eastern Flank: made the Gryphon fly away and then return\n     * Showdown: removed hero overlay from Ro'Arthian and Ro'Sothian when they\n       are leaders\n     * Showdown: fixed Hamel's death not causing defeat\n     * Epilogue: fixed music not being played\n   * Eastern Invasion:\n     * The Escape Tunnel: integrated sighted event with moveto event\n     * Captured: integrated a sighted event with moveto event\n     * Weldyn Besieged: fixed a typo in Konrad's last breath event\n   * Sceptre of Fire:\n     * Caverns of Flame: integrated a sighted event with moveto event\n   * Son of the Black Eye:\n     * The Desert of Death: integrated a sighted event with moveto event\n   * Legend of Wesmere:\n     * Ka'lian Under Attack: fixed a lua error in AI code\n * Editor:\n   * Fixed missing brightening of selected hexes under the brush\n * Language and i18n:\n   * Updated translations: British English, Czech, Dutch, French, Galician,\n     German, Hungarian, Korean, Latin, Lithuanian, Old English, Polish,\n     Russian, Serbian\n * Multiplayer:\n   * Fix user interface set to side 1 when entering linger mode\n     (bug #15847)\n * Unit changes and balancing:\n   * Changed the Lancer's and the Deathblade's AMLA requirements to conform to\n     the current AMLA standards\n * User interface:\n   * Removed blur from the add-ons description dialog\n   * Fixed bug #19121: Make click dismiss work properly.\n   * Fixed bug #17961 and #18686: Shows of big portraits on smaller screens.\n   * Fixed bug #19118: Default theme: coordinates overlap with the clock status\n     panel on small horizontal resolutions. Also fixed for the widescreeen\n     theme.\n   * Made it so that \"AM\"/\"PM\" show up in the default and widescreen themes\n     on the lowest supported resolutions.\n * Whiteboard:\n   * Display turn numbers on multi-turn planned moves\n   * Fix attacks not finishing but still being transmitted over the network when\n     executing all actions\n * WML engine:\n   * Fixed: ~L() not handling lightmap having different width. Now rescaled.\n * Miscellaneous and bug fixes:\n   * Fixed: compilation with clang 3.0 in C++11 mode.\n   * Changed: Sort order of campaigns uses a stable sort now.\n   * Fixed bug #18832: Fixed ~BLIT() to access images out of bounds.\n   * Fixed: ToD local light for RGB values bigger than 128.\n   * Fixed: hex-cut of images in :layers debug tool. Also removed empty images\n   * Forward ported a new version of multiplayer chat log history dialog\n   * Fixed bug #19188: Turn dialog always speaks of Konrad in tutorial\n   * Added: NativeClient port.\n   * Fixed: crash when using fullscreen on Mac OS using SDL nightly builds.\n   * Optimized screen update (zooming, ToD change, etc)\n   * Optimized framerate by removing a lot of empty terrain images\n   * Optimized perfomance cost of complex local ToD areas\n   * Fixed bug #16571: Multiplayer login error with certain username or\n     password formats\n\nVersion 1.9.12:\n * Language and i18n:\n   * Updated translations: British English, Czech, French, German, Hungarian,\n     Indonesian, Italian, Latin, Latvian, Old English, Russian, Slovak\n * Multiplayer:\n   * Fixed missed side init if controller changes at side progression\n     (bug #16299)\n   * Fixed user interface not updated if controller changes (bug #19056)\n * Whiteboard:\n   * Fix invalid actions not being detected until another action is created\n   * Erase invalid actions when you try to execute them\n   * Disable access to Suppose Dead action until we can find a better UI for it\n   * Fix bug #18774: Recalling with the whiteboard enabled causes crash\n   * Fix bug #19061: Crash on starting most campaign scenarios\n   * Fix getting \"not enough gold\" message when executing planned recruits/recalls\n   * Ghost the unit at starting position of planned moves\n   * On mouseover, display orb and xp bar on planned moves with accurate status\n   * Mouseover on last planned move of a unit displays accurate movement left\n   * Re-enabled multi-turn moves\n * Miscellaneous and bug fixes:\n   * Fixed bug #19095: fixed a gcc warning when compiling under OpenBSD\n   * Fixed bug #19096: fixed linker errors on OpenBSD when using the CMake\n     build system\n\nVersion 1.9.11:\n * Campaigns:\n   * Sceptre of Fire:\n     * A Bargain is Struck: added missing hero overlays to Alanin and the\n       caravans\n     * A Bargain is Struck: added find_vacant=yes to avoid unstoring Alanin\n       upon Rugnur or another player's unit\n     * The Dragon: fixed Rugnur being recalled not fully healed\n     * The Dragon: integrated two sighted events with moveto events\n * Engine:\n   * Fixed bug #18918: the create unit dialog was sometimes capturing village\n     incorrectly\n * Language and i18n:\n   * Updated translations: British English, Dutch, French, Finnish, Galician,\n     Indonesian, Italian, Korean, Latvian, Lithuanian, Old English\n * WML engine:\n   * Added [secondary_unit] SUF for filtering the recalling leader in [recall]\n     action WML\n   * Fixed red, green and blue keys in 24-hour ToD not maching the default\n     schedule colors\n   * Reworked [harm_unit]'s damage calculation code to avoid leadership ability\n     altering the damage value\n * Miscellaneous and bug fixes:\n   * Fixed disappearing theme UI buttons after changing fullscreen/windowed mode\n     or resolution in Preferences during a game\n   * Fixed define handling of wmlxgettext (bug #18622)\n   * Changed: Try to recover from broken pango-markup.\n\nVersion 1.9.10:\n * AI:\n   * Fixed: Display of recruitment_ignore_bad_combat and\n     recruitment_ignore_bad_movement is no longer swapped (bug #18839)\n * Campaigns:\n   * Descent into Darkness:\n     * A Small Favor, part 1: used 24 hour ToD\n   * Son of the Black Eye:\n     * To the Harbor of Tirigaz: used 24 hour ToD\n   * Under the Burning Suns\n     * Subterranean Struggle: no longer possible to win by allowing allies to\n       die\n     * Across the Harsh Sands: the Black Hand oasis is no longer possible to\n       enter without triggering the bandits\n * Editor:\n   * Made sure lighting setting changes are applied immediately when closing the\n     settings window when automatic map view updates are disabled\n   * Starting position tool menu now displays coordinates of existing positions,\n     and initially highlights the current player number assigned to the selected\n     hex\n   * Add a menu item \"Refresh WML\" to reload terrain WML\n * Graphics:\n   * New Animations:\n     * Goblin spearman run se\n     * Merman fighter attack se\n     * Tinted the slowed snail icon to match the new slowed unit color\n   * Terrain:\n     * Tall encampment keep can now be placed next to the tent encampment keep\n     * Forest/hill terrain combinations no longer appear black on the minimap\n   * Default team color always applied last; fixes bug #18817\n   * Removal of Khalifate unit images\n * Language and i18n:\n   * Made it so that all of the Hangul Syllables block is covered by the\n      font-loading code.\n   * Made it so that en_US translations are loaded if they exist (bug #18507)\n   * Updated translations: British English, Czech, Dutch, Finnish, Galician,\n     Indonesian, Irish, Italian, Japanese, Korean, Latin, Lithuanian,\n     Old English, Portuguese (Brazil), Russian, Slovak, Swedish\n * Lua API:\n   * add function wesnoth.get_starting_location\n   * The side metatable provides also the side number\n     (like wesnoth.sides[i].side, which would be i)\n   * add function wesnoth.debug\n   * Added: Support for clickables (button and repeating button) to\n     wesnoth.set_dialog_callback (patch #2763)\n   * Allowed function debug.traceback()\n   * wesnoth.set_village_owner takes a bool argument determining\n     whether to fire capture events\n   * add field image_mods in proxy units\n   * add field undead_variation in wesnoth.races\n * Multiplayer:\n   * New map: Aethermaw\n   * Updated maps: Hamlets, Howling Ghost Badlands, Thousand Stings Garrison\n * Terrain:\n   * Oasis may be placed on any terrain, aliased to base\n   * New terrain macro: MOUNTAIN_SINGLE_RANDOM\n   * New rotting variant for wooden bridge\n * Unit changes and balancing:\n   * All mounted units now have forest defines capped at 30%. This reduces their\n     defense on forested hills from 40% to 30%\n   * Forests now give best defense and worst movement on all terrain,\n     not just hills - fixes bug #18216\n   * Fixed some Khalifate unit animation glitches\n   * The XP required for an AMLA is now 50*level (and 25 for level 0) instead of\n     always 150.\n   * Increased the HP of the Great Mage from 55 to 60\n   * Increased the ranged attack of the Footpad from 4-2 to 5-2\n   * Removal of the Khalifate units, faction and era\n * User interface:\n   * Removed waypoints UI feature\n   * Added an option to disable the \"loading save from a different version\"\n     confirmation dialog\n   * Line-wrap author names in the add-on description dialog (bug #18691)\n   * Made the Delete Add-on (in the server) option request confirmation from\n     the user before proceeding\n   * The add-ons download list shows up again after publishing/deleting a\n     single add-on\n   * Added option in advanced preferences that allows the twelve-hour clock\n      format to be used\n   * Reenabled \"delay shroud updates\"\n   * Changed: Disable pango markup in unit names (bug #17788)\n   * It is now possible to remove multiple installed add-ons at the same\n     time\n   * Slowed units are now tinted to be recognizable at a glance\n   * Fixed: Removed old markup style from OOS messages (bug #18387).\n   * Fixed: OOS ignore toggle in the save dialog (bug #18330).\n * WML engine:\n   * Readded the liminal alignment\n   * Added four-difficulty versions of certain macros: QUANTITY4,\n     ON_DIFFICULTY4, TURNS4, GOLD4, INCOME4, and ATTACK_DEPTH4\n   * added support for SSF to SUF via a [filter_side] subtag\n   * added support for [enemy_of]<SSF> to SSF\n   * added support for [allied_with]<SSF> to SSF\n   * New [find_path] tag, a WML interface to the pathfinder\n   * Add inline SSF support to [store_starting_location]\n   * Add support for [capture_village][filter_side]<SSF>\n   * Added FACING, which adds facing= to a previous [unit] codeblock\n   * Added VARIATION, which adds variation= to a previous [unit] codeblock\n   * Deprecated the Add-on.cfg style in favor of Add-on/_main.cfg, except for\n     the case of a single-file add-on\n   * [illuminated_time], which has been obsolete for a long time, is no longer\n     valid. Using it will cause errors to be thrown\n   * Reintroduced support for [unit][event]s (was until 1.7.10, bug #16259)\n     Such events are no longer forcefully variable substituted before inserting\n     into the scenario wml\n   * Fixed \"error parsing image modifications\" message caused by subsequent\n     image mod additions using the add attribute in [effect] apply_to=image_mod\n   * Made $this_unit in filter_recall work\n   * Added IS_EXPENDABLE_LEADER, which gives a unit the expendable leader icon\n   * Added $this_unit support to [harm_unit] and [find_path]\n   * Settings by [color_adjust] no longer expire at turn start or over save/load\n     cycles\n   * Implemented bullet= for [objectives], [objective], [gold_carryover], and\n     [note]\n   * Implemented red=, green=, and blue= for [objective], [gold_carryover], and\n     [note]\n   * Added [theme] hidden= attribute that makes a theme unavailable for selection\n     in Preferences or :theme (defaults to no)\n   * Implemented $second_unit being bound to the acting leader in recall/recruit events\n   * Introduce [redraw]clear_shroud=yes|no and [redraw]<SSF> support\n   * Introduce [race]undead_variation as a default for the race's [unit_type]s\n   * $owner_side describes the previous side owning a village\n     in capture events (FR bug #13567)\n   * Introduce [capture_village]fire_event=yes|no (def no) whether to fire\n     any capture events (was previously always yes)\n   * Made [move_unit] respect image modifications applied by EffectWML to single units\n   * Introduce [unit_type]image_icon key to override image for 72x72 icons\n     (FR bug #15466)\n   * Added IS_LAST_SCENARIO macro, for use in [objectives] dialog.\n   * Fix [objectives]silent= not working initially in a scenario (bug #18927)\n * Miscellaneous and bug fixes:\n   * Add --language/-L commandline option to set the language for that session\n   * Fixed: Avoid copying of singular iterators in the whiteboard code\n   * Fixed bug #10969: Made it possible to switch themes from Preferences in the\n     main menu\n   * Fixed bug #16111: gold carryover if loading a save created in linger mode\n   * Fixed bug #16508: remaining time of day areas that should affect map\n     borders in mainline campaigns and MP scenarios\n   * Fixed bug #18399 (part 1): Compilation with boost 1.47 (bug #18399's patch)\n   * Fixed bug #18399 (part 5): Compilation with the clang 2.9 compiler (bug\n     #18399's patch)\n   * Fixed bug #18695: Fixed preload event not being fired\n   * Fixed bug #18701: Evaluate key length even if intervening WML children\n     don't exist\n   * Fixed bug #18704: Make the create unit dialog give the created unit a valid\n     gender for that unit type\n   * Fixed bug #18766: Fixed a problem where version comparisons (including, but\n     not limited to #ifver/#ifnver directives) could cease to work until Wesnoth\n     was restarted\n   * Fixed debian bug #636193: Fixed compilation on all Debian architectures\n   * Fixed handling of #ifver and #ifnver preprocessor directives in wmllint\n   * Removed CANYON and its associated terrain macros\n   * The credits screen no longer mangles image path functions in background\n     image lists\n   * Fixed a rare glitch causing the menubar and sidebar buttons to appear\n     initially as solid color rectangles at the beginning of a scenario start\n     event\n   * Fixed bug #18681: glitch with local time of day lighting\n   * Fixed bug #18892: random crash when loading replays\n   * Fixed bug #18882: Compilation with libpng-1.5.5\n\nVersion 1.9.9:\n * AI:\n   * Fixed bug #16117: added a way to supress E_NOT_REACHED_DESTINATION to lua\n   * Fixed bug #16247: modify SoF 8 to let the dragon attack aggressively\n     api via an optional boolean parameter - ai.move_full(from,to_x,to_y,true)\n   * Fixed bug #18057: AI leaders should now attack when they should\n   * Fixed bug #18122: AI leaders set to defensive will now follow goals anyway\n   * Fixed bug #18356: AI leaders now won't move to avoided keeps\n   * Applied patch #2846 by thonsew: let AI forget about invisible enemy units\n     in villages during get_villages phase (bug #18101)\n * Campaigns:\n   * Fixed remaining deprecation warnings about empty side=\n   * Under the Burning Suns:\n     * Fixed Naga Sentinel gaining an AMLA after 32 XP instead of the usual 150\n     * Gave to Desert Shydes and Desert Stars 30% defense on void terrain\n * Engine:\n   * Fixed bug #16173: Using n or cl while a fake unit is moving causes the game\n     to segfault by creating game_display::fake_unit as an exception safe\n     interace to the fake_units\n   * Improved unit_map lookup from std::map to boost::unordered_map to decrease\n     lookup times\n   * Fixed bug #16151: Discover new units on recruit\n   * Fixed bug #17780: Allow objects to 'increase' damage to 0\n   * Fixed bug #18098: now recruits and recalls capture village if recruited or\n     recalled on village castle hex\n * Graphics:\n   * Fixed bug #18524: [replace_map] doesn't force window repainting\n   * Fixed bugs #18504 #18493 and #18017: Time of Day and fading interact poorly\n   * Fixed bugs #18475 and #17292: Mage of Light and Sorceress Halo/animation\n     glitches.\n   * Terrains:\n     * Added Gray Coastal Reef, Tropical Coastal Reef terrain\n     * Swamp no longer prevents embellishments from being drawn\n     * Fixed bug #15940: graphics glitch: pillared wall terrain covers great\n       tree\n * Language and i18n:\n   * Updated translations: British English, Estonian, French, Galician, Greek,\n     Hewbrew, Indonesian, Irish, Latin, Macedonian, Old English, Russian,\n     Vietnamese\n * Lua API:\n   * Added: function wesnoth.set_dialog_active (patch #2767)\n   * Expanded wesnoth.races entries to return the wml object a race was\n     constructed from via the __cfg field.\n   * New function wesnoth.get_traits returning a table holding the global traits\n     known to the engine.\n * Multiplayer:\n   * Updated maps: Aethermaw, Hornshark Island, Sablestone Delta, Thousand\n     Stings Garrison\n   * A New Land:\n     * Fixed 'agriculture' not getting translated sometimes and research\n       for agriculture not getting counted if the research order wasn't changed\n       (bug #16477)\n     * Options to share knowledge with those who have learned everything about\n       whatever are no longer shown (bug #14822).\n   * Added \"chat_message_aging\" advanced preference to allow setting the\n     ingame chat message aging interval\n * Music and sound effects:\n   * New track \"Battle Epic\" by Doug Kaufman\n * Unit changes and balancing:\n   * New units: Great Wolf; Direwolf\n   * Lowered swamp defense of Cuttlefish and Sea Serpent from 60% to 40%\n   * Decreased cost of Giant Rat from 13 to 6\n   * Various changes to the defense, movement and resistances of the Giant Rat\n   * Increased the XP requirements of the Arif from 40 to 47\n   * Increased the cost of the Falcon from 10 to 12\n   * Decreased the beak and claw attack of the Falcon by one each to 2-3 and 5-1\n   * Decreased the HP of the Falcon from 19 to 18\n   * Increased the XP requirements of the Falcon from 20 to 24\n   * Increased the XP requirements of the Hakim from 33 to 39\n   * Decreased the HP of the Jundi from 36 to 32\n   * Increased the XP requirements of the Jundi from 35 to 44\n   * Increased the cost of the Khaiyal from 20 to 21\n   * Decreased the blade resistance of the Khaiyal from 30% to 20%\n   * Decreased the pierce resistance of the Khaiyal from 0% to -10%\n   * Decreased the impact resistance of the Khaiyal from 10% to 0%\n   * Increased the melee attack of the Mighwar from 7-5 to 8-5\n   * Decreased the HP of the Mighwar from 57 to 53\n   * Increased the melee attack of the Monawish from 6-4 to 7-4\n   * Decreased the HP of the Monawish from 45 to 41\n   * Decreased the HP of the Naffat from 32 to 28\n   * Increased the XP requirements of the Naffat from 38 to 44\n   * Increased the cost of the Naffat from 17 to 19\n   * Decreased the melee attack of the Qatif-al-nar to 10-2\n   * Decreased the ranged attack of the Qatif-al-nar to 8-3\n   * Increased the XP requirements of the Rasikh from 40 to 150\n   * Decreased the melee attack of the Tineen to 10-3\n   * Decreased the impact resistance of the Falcon line from 0% to -10%\n   * The Falcon line now gets 2 traits, one normal trait and the feral trait\n   * The Naffat line is no longer able to get the strong trait\n   * Converted units with khalifatelightfoot to khalifatefoot movetype:\n     * Increased the fire resistance from -10% to 0% (Hakim only)\n     * Increased the impact resistance from -20% to -10%\n     * Increased the village defense from 50% to 60%\n     * Removed the khalifatelightfoot movetype\n   * Changes to khalifatefoot movetype:\n     * Increased the frozen defense from 20% to 30%\n   * Changes to khalifatearmoredfoot movetype:\n     * Increased the shallow water and swamp mp from 2 to 3\n     * Decreased the mushroom grove defense from 50% to 40%\n   * Changes to the khalifatehorse movetype:\n     * Increased the shallow water, swamp, cave, and mushroom grove mp cost to\n       4 in all cases\n     * Increased the forest mp cost from 2 to 3\n     * Decreased the frozen mp cost from 4 to 2\n     * Decreased the swamp defense from 30% to 20%\n     * Decreased the cave defense from 40% to 20%\n     * Decreased the mushroom grove defense from 40% to 20%\n     * Increased the frozen defense from 10% to 30%\n     * Increased the impact resistance from -10% to 0%\n   * Changes to the khalifatearmoredhorse movetype:\n     * Increased the shallow water, swamp, cave, and mushroom grove mp cost to\n       4 in all cases\n     * Increased the reef mp cost from 2 to 3\n     * Decreased the frozen mp cost from 4 to 2\n     * Decreased the cave defense from 40% to 20%\n     * Decreased the mushroom grove defense from 40% to 20%\n     * Increased the frozen defense from 10% to 30%\n     * Increased the swamp defense from 10% to 20%\n     * Decreased the hill defense from 60% to 50%\n * User interface:\n   * Fixed Preferences dialog glitch on < 600 px tall resolutions (i.e. 800x480)\n   * Made Hotkeys configuration dialog fit on < 600 px tall resolutions (i.e. 800x480)\n   * Various minor improvements for consistency\n   * Whiteboard planning system:\n     * Added support for planning multi-turn moves\n     * Added the option to hide allies' plans during a network game\n     * Made action numbers colored according to team color\n     * Made plan execution halt upon discovering hidden units\n * WML engine:\n   * Added [event]id= support (to protect against duplicates)\n   * Added [event]remove=yes|no support\n     (to remove events that have an id set)\n   * Implemented sub= and divide= for abilities and weapon specials\n     (patch #2857)\n   * new attribute replay_save= in [endlevel]. Defaults to yes, allows\n     WML authors to disable replay saving for a scenario. (bug #18026)\n   * [harm_unit] always uses wesnoth.float_label to avoid that an incorrect\n     weapon filter may prevent floating the damage label\n   * new key heal_full=yes|no (def no) in [effect]apply_to=type\n   * Added SLF support to [event][item] and [remove_item].\n     [remove_item]: IMPORTANT SYNTAX CHANGE: Default x,y=$x1,$y1\n     is no longer supported, but instead all locations on the map chosen if\n     no SLF keys are supplied. No wmllint rule in official release but patch\n     in bug #18522.\n     [event][item]: If x = and y= aren't explicitely given no longer throw an\n     error but choose locations according to SLF behavior.\n   * Allowed [modify_turns]current= to change to an earlier current turn\n   * Added [primary_attack] support to [harm_unit]\n   * Added wml tag [store_items]\n   * [harm_unit] now supports a harmer unit and experience calculation.\n   * Added support for 24 hour ToD.\n   * Added WML validation system based on schema validation.\n   * Enabled validation for GUI WML.\n * Miscellaneous and bug fixes:\n   * Teach wmllint to fix deprecated implicit side=1 in [store_gold], [gold]\n     [remove_shroud], [place_shroud], [modify_side], [modify_ai] actions\n   * Fixed bug #17150: fix naming confict with OpenBSD macro by renaming\n   * Added \"-Wno-strict-aliasing\" to the default compiler flags\n   * Whiteboard planning system:\n     * Made the whiteboard respond better to :droid, :give_control, etc.\n     * Removed chat notification upon activating the whiteboard\n   * Added advanced preference to ignore the encountered units\n     list and show all unit types in the game Help\n\nVersion 1.9.8:\n * Campaigns:\n   * Fixed deprecation warnings about \"empty side=\"\n * Language and i18n:\n   * Updated translations: British English, Estonian, Indonesian, Irish,\n     Latin, Old English, Russian, Vietnamese\n * Lua API:\n   * added support for slider and progress_bar widgets to\n     wesnoth.get_dialog_value\n   * added support for text_box, slider, and progress_bar widgets to\n     wesnoth.set_dialog_value\n   * new wesnoth.races table\n   * wesnoth.get_terrain_info can now retrieve the editor_name field\n * Multiplayer server:\n   * Handle incoming [whiteboard] data\n   * Treat inactive forum accounts as unregistered users to prevent abuse\n     of unverified registrations\n * User interface:\n   * Converted New Folder dialog to GUI2\n   * Moved Animate Map option from Advanced Preferences to Display\n   * Moved Reverse Time Graphics display option to Advanced Preferences\n   * Moved Scroll Tracking of Unit Actions display option to Advanced\n     Preferences, renamed to Follow Unit Actions\n   * Moved Unit Standing Animations option from Advanced Preferences to\n     Display\n   * Removed window decorations from GUI2 lobby\n   * Sort the Recruit menu by localized unit type names (feature #18294)\n   * Whiteboard planning system:\n     * Added a new planned action type: \"Suppose dead\"\n     * Changed behavior of invalid actions (no longer immediately discarded)\n     * Disabled undo while planning mode is active\n     * Made whiteboard plans visible to allied network players\n * Terrains:\n   * Tweaked gameplay-visible names of terrain types, and restored many\n     missing ones.\n * Miscellaneous and bug fixes:\n   * CMake build system:\n     * Disabled building of libana by default\n     * Removed \"-Wno-strict-aliasing\" from the default compiler flags\n   * Fixed bug #18117, saved games with Qatif-al-nar became corrupted\n   * Fixed bug #18120, where Khalifate units were not getting the default AMLA\n   * Patch #2663: Make wesnoth-optipng work on systems with BSD stat\n   * Started working on the new asio based network subsystem. boost.asio\n     (along with boost.thread and boost.system) is now a dependency for\n     the client no matter whether ANA is enabled.\n   * Support for gamepads/joysticks\n\nVersion 1.9.7:\n * Graphics:\n    * Terrains:\n      * Modified Deep Water tiles for greater contrast with Shallow\n      * New Dead Great Tree\n    * Portraits:\n      * Drake Warden\n * Language and i18n:\n   * Updated translations: Afrikaans, British English, Chinese (Traditional),\n     Galician, German, Greek, Indonesian, Irish, Japanese, Korean, Latin,\n     Lithuanian, Old English, Portuguese (Brazil), Serbian, Spanish, Swedish,\n     Vietnamese\n * Lua API:\n   * proxy getters and setters for unit attributes extra_recruit\n     and advances_to\n   * new function wesnoth.add_known_unit\n   * new proxy getters for sides: fog, shroud, hidden, name, color\n   * new function wesnoth.get_time_of_day\n   * new functions os.clock, os.date, os.time and os.difftime\n * Multiplayer:\n   * New \"Shuffle sides\" option in MP creation list, allowing to randomize\n     player to side assignment (patch #1937 by Quetzalcoatl)\n * User interface:\n   * Fix starting location labels being initially invisible in the map editor\n     (bug #17956).\n   * Fixed bug #18000, #18099: Show a wrongly entered MP password and crash\n     upon editing this text.\n * WML engine:\n   * new attribute team_name= in SSFs\n   * added [event][filter_side]<SSF keys> support\n   * added support for inline SSF to [chat]\n   * added support for inline SSF to [store_gold]\n   * added support for inline SSF to [store_side], added attribute\n     \"side\" in the created array\n   * introduced [has_unit]search_recall_list=yes|no (def no) parameter in SSFs\n   * support for leader specific recruit lists\n     * [unit] extra_recruit= -- defines a unit with a specific recruit list\n     * [event] [allow_extra_recruit] [filter] [/filter] type=\n        -- adds unit types to a leader's recruit list\n     * [event] [disallow_extra_recruit] [filter] [/filter] type=\n        -- removes unit types from a leader's recruit list\n     * [event] [set_extra_recruit] [filter] [/filter] extra_recruit=\n        -- assigns a new recruit list to the leader\n   * support for leader specific recall filters\n      * [unit] [filter_recall] <SUF>\n        -- The unit can only recall units which pass the SUF\n   * Removed the Liminal alignment\n   * Fixed: a divide by zero in the calculate_map_ownership_function function\n   * Possibly fixed: rounding errors when using ^ in formulas (bug #18165)\n   * Animation will now cycle according to a WML parameter, use with caution\n   * Toplevel [tunnel] tags are now ignored rather than cause assertion\n     failures (bug #18201).\n * Miscellaneous and bugfixes:\n   * Fixed: issues with singular variant iterators\n   * Fixed: the Wescamp script download part\n   * Fixed the ingame command line not accepting\n     characters accessible via AltGr (certain keyboard layouts)\n     on windows systems\n   * Started using Boost.Program_options for command line parsing (new\n     dependency)\n   * Commandline syntax changes:\n     * --ai_config renamed to --ai-config\n     * --new_storyscreens renamed to --new-storyscreens\n     * --no-delay renamed to --nodelay\n     * --campaign option split into --campaign, --campaign-difficulty and\n       --campaign-scenario\n     * split optional comma-separated defines list from --preprocess= (or -p=)\n       to --preprocess-defines= option\n     * dropped --log alias for --log-error\n   * Fixed: Compilation on kfreebsd (Debian bug #626313)\n   * Fixed: CMake Subversion revision script causing build errors with MSVC.\n   * Fix time of day not changing in time area (bug #16584, bug #17543)\n\nVersion 1.9.6:\n * Campaigns:\n   * The Hammer of Thursagan:\n     * Fixed time over event in the High Pass\n       (http://forums.wesnoth.org/viewtopic.php?f=4&t=33435)\n * Graphics:\n   * Portraits:\n     * Added portrait for Khalifate Hakim.\n   * Terrains:\n     * New Igloo village\n * Language and i18n:\n   * Updated translations: Afrikaans, British English, Dutch, French, Galician,\n     German, Greek, Hungarian, Irish, Japanese, Latin, Lithuanian, Old English,\n     Portuguese (Brazil), Slovak, Spanish, Swedish, Vietnamese\n * Lua API:\n   * max_attacks (read) and attacks_left (read/write) field of lua proxy units\n   * new function wesnoth.compare_versions\n   * new function wesnoth.get_sides\n * Multiplayer:\n   * New era: the default+Khalifate era adds a new faction for multiplayer play.\n   * New maps: 2p Thousand Stings Garrison, 2p Arcanclave Citadel, 6p Volcano.\n   * Updated maps: Caves of the Basilisk, 2p Hamlets, The Freelands, Silverhead\n     Crossing, Sablestone Delta, Fallenstar Lake, Den of Onis.\n * Unit changes and balancing:\n   * Increased the pierce attack of the Orc Archer from 5-3 to 6-3.\n   * Decreased the HP of the Cavalryman from 38 to 34.\n   * Decreased the HP of the Dragoon from 53 to 49.\n   * Decreased the HP of the Cavalier from 68 to 64.\n   * Changed the 'feral' trait to give 50% instead of 40% defense on villages.\n * User interface:\n   * Patch #2625: added a GUI interface to changing control in multiplayer\n     games. The command to access it is currently :give_control\n * WML engine:\n   * Patch #2610: changed default for turns in [scenario] tag to -1 (unlimited)\n   * Introduced [recall]check_passability=yes|no key (default yes)\n     for placing units only on suitable terrain when recalling.\n   * Extended [heal_unit] to also \"heal\" moves, attacks, statuses\n     and several units at once.\n * Miscellaneous and bugfixes:\n   * Changed : replaced all sticky excpetions by lua jailbreak exceptions\n     (fixes bug #17743).\n   * Applied patch #2611: removed redundant own_side attribute\n   * Applied patch #2600: improved MP creation screen logging\n   * Added: New gui2 iterator framework.\n   * Patch #2624: Solved enemy leaders never appearing on status table on\n     foggy/shrouded maps, even when visible.\n   * Fix linker issues with cmake and scons.\n\nVersion 1.9.5:\n * Graphics:\n   * Portraits:\n     * New portrait for Drake Enforcer/Thrasher.\n   * Terrains:\n     * Moved the ruined desert castle to core.\n     * New and improved swamp villages.\n     * New and improved tropical villages.\n     * New ruined desert keep.\n     * New stones and sand drifts embellishment.\n     * New tall encampment keep.\n     * New water lilies embellishment.\n   * Other:\n     * New elf-style flag.\n * Language and i18n:\n   * Added missing Windows locale associations\n   * Fixed Windows locale association for tr/Turkish\n   * New translation: Old English.\n   * Updated translations: British English, Chinese (Simplified),\n     Chinese (Traditional), Czech, Dutch, Finnish, French, Galician, German,\n     Irish, Italian, Japanese, Portuguese (Brazil), Slovak, Spanish, Vietnamese\n   * Updated DejaVu Sans to 2.33\n * Multiplayer:\n   * Don't show team labels to observers (feature request #9648).\n   * Recalculate map labels to account for team changes when switching players\n     with :control.\n   * Renamed /adminmsg command to /report to better reflect its use.\n * User interface:\n   * Added: circle to the gui2 canvas.\n   * Added: new tip class for tooltips and helptips.\n   * Reimplemented: the tooltips use the new tip class and look much better\n     (bug #14818).\n   * Fixed: the tooltips no longer stack when the MP dialog is opened\n     (bug #16915, bug #16670).\n   * Implemented: the helptips.\n   * Changed: the scroll wheel, in gui2 code, now also follows the mouse focus\n     instead of the keyboard focus.\n   * Fixed again: Not showing the twml_exception dialog when gui2 was called\n     from Lua (bug #17405).\n   * Fix old multiplayer lobby glitches caused by the loadscreen code when\n     skipping to the lobby with -s <server> command line.\n   * Add 1.25, 1.75 and 3.0 animation speed factors to display preferences\n     (feature request #15713).\n   * Implemented: The expose event in gui2.\n   * Fixed: Image widget now honors its minimum and maximum size.\n   * Fixed: Black lines in the minimap.\n   * Fixed: tooltips no longer capture the keyboard (bug #17797).\n   * Changed: Allow underline in the gui2 font style.\n   * Fixed: Not wrapping of transient dialog text (bug #17945).\n * WML engine:\n   * Added support for map_passable and leader_passable for [placement]\n   * Allow [color_range] and [color_palette] nodes to be inserted at top-level\n     by add-ons to globally define custom ranges and palettes.\n   * New [tunnel] tag to create teleports between two SLFs for units matching\n     a SUF. The [teleport] ability retrofitted to use this tag.\n   * New [allow_end_turn] and [disallow_end_turn] commands to enable/disable\n     the human players' ability to end their turn from the user interface\n     (feature request #13141).\n   * [side] tags may now contain [leader] tags to create their leader(s), as\n     opposed to mixing the leader's attributes with the side attributes.\n   * New wml action tag [transform_unit], like the {TRANSFORM_UNIT..} macro.\n   * [unstore_unit] now accepts a fire_event= key to control firing of\n     (post) advance events and a check_passability= (default yes, previously\n     it was always no/non-existent) key controlling whether to check for\n     suitable terrain when placing units\n   * Renamed [teleport]ignore_passability= to check_passability= to get rid of\n     a confusing negation.\n   * Introduced [move_unit]check_passability= (default yes, previously it was\n     always yes/non-existent) key to allow disabling the check for suitable\n     terrain.\n   * Added TAKE_IT_STRING and LEAVE_IT_STRING arguments to PICKUPPABLE_ITEM\n   * Added an engine-defined WESNOTH_VERSION macro that expands to the Wesnoth\n     engine version string.\n   * New #ifver/#ifnver preprocessor macro to compare Wesnoth or UMC-defined\n     version numbers as in '#ifver WESNOTH_VERSION >= 1.9.5'.\n   * The tags [remove_shroud] and [place_shroud] now take comma-separated lists\n     of sides.\n   * The [gold] tag now takes a comma-separated list of sides.\n   * Added automatically stored variable this_unit to [modify_unit]\n     for self-reference via $this_unit\n * Miscellaneous and bugfixes:\n   * Fixed: g++ compiler warnings.\n   * Added: cmake target to build the gui design pdf.\n   * Removed support for TinyGUI: Devices with a resolution below 800x480 are\n     not supported anymore.\n   * Changed: The minimum screen resolution is 800x480, no need to use\n     --smallgui anymore.\n   * Reverted hotkey for clearing cache for Mac OS X back to F5. Control-F5\n     still works (and is necessary when in windowed mode).\n   * Let cmake use absolute locale dirs when set to an absolute path.\n     (Windows always uses a relative path.) (patch #2280)\n   * Make it impossible to build Wesnoth without the editor.\n   * Fixed a replay OOS issue caused by ToD areas defined outside of events\n     (bug #17783).\n   * Changed: when loading a file fails to open try with a .gz file.\n   * Unit invalidation is processed in parallel using OpenMP\n   * Allow redirection of the logger.\n   * Polished gui2 code.\n   * Fixed: Newer versions of FriBidi were no longer recognized.\n   * wmlindent now handles #ifhave, #ifnhave, #ifver and #ifnver properly in\n     WML.\n\nVersion 1.9.4:\n * AI:\n   * Fixed bugs #15861, #16223, #17206: fix passive_leader and\n     passive_leader_shares_keep.\n * Campaigns:\n   * Delfadors Memoirs:\n     * Fixed bug #17273: Made difficulty selection conform to the style of all\n       other mainline campaigns\n   * Descent into Darkness:\n     * New set of portraits.\n   * Eastern Invasion:\n     * Fixed bug #15950: Made 11_Captured remove units from recall list,\n       preventing units being 'healed' upon load.\n * Engine\n   * Fixed bug #17355: split team initialization into two parts to prevent\n       wrong determination of allied sides.\n * Formula language:\n   * Added substring function.\n   * Added length function, to determine the length of a string.\n   * Added concatenate function.\n   * Added sin (sine) function.\n   * Added cos (cosine) function.\n * Graphics:\n   * Terrain: added transitions for the wood floor.\n * Language and i18n:\n   * New translation: Irish\n   * Updated translations: Dutch, Finnish, Galician, German, Hebrew, Japanese,\n     Korean, Lithuanian, Russian, Slovak, Vietnamese\n * User interface:\n   * Fix alignment of text labels in certain confirmation dialogs (e.g.\n     Quit Game/Editor)\n   * Fix behavior of add-ons download dialog on double-click/enter\n     (bug #17345)\n   * Several improvements to the gui2 progress bar.\n   * New add-ons description dialog with further details, including bundled\n     translations.\n   * Add new gui2 drawing widget.\n   * Fix gui2 lines drawing glitch, which happens in some rare cases.\n   * Fixed: Not showing the twml_exception dialog when gui2 was called from\n     lua (bug #17405).\n   * Fixed: Properly validate the height of a portrait (bug #17399).\n   * Increase text area dimensions on story screens and improve space use on\n     smallgui configurations.\n * WML engine:\n   * New [harm_unit] tag for damaging, and eventually killing, units.\n   * [allow_recruit], [disallow_recruit] and [set_recruit] now accept a\n     comma-separated list for side=.\n   * Unit types, units, and unit effects, can use small_profile= in\n     addition to profile= to precisely describe portrait locations.\n   * New ~BG(color) modifier for setting the background color of an image.\n   * Made [inspect] tag work even without debug mode.\n   * [move_unit_fake] now accepts an image_mods= attribute, specifying\n     a list of path functions to be applied to the moving fake unit.\n * Miscellaneous and bugfixes:\n   * Fix --data-dir command line option\n   * Better detect mouse button state when window is activated.\n   * Change wiki comment format.\n   * Polish wiki_grabber.py code.\n   * Names of attack ranges are now read from the range_$RANGE keys in\n     data/hardwired/english.cfg. (feature #17395)\n   * Names of attack types are now read from the type_$TYPE keys in\n     data/hardwired/english.cfg.\n   * Un-hardwired the [language] block in data/hardwired/english.cfg, and\n     moved the file out of that subdirectory.\n   * Add update-po4a-man and update-po4a-manual targets to cmake.\n   * Added: Extra validate macro VALIDATE_WITH_DEV_MESSAGE.\n   * Fixed: Link to libintl with cmake (bug #17152).\n   * Fixed: Better cmake detection for older FriBidi versions (bug #17151).\n   * Added: wiki_grabber.py the wml_reference description comment class.\n   * Removed support for the \"autotools\" build system\n\nVersion 1.9.3:\n * Campaigns:\n   * Descent into Darkness:\n     * Allow Darken Volk to open gates in A Small Favor part 3 (bug #17250)\n   * Legend of Wesmere:\n     * Fixed the recursion of the scenario 4 bug.\n     * Added the Elvish Horse Archer as alternative advancement for the scout\n     * (Singleplayer only) Added the Dwarvish Runemaster as advancement for the\n       fighter.\n   * The Rise of Wesnoth:\n     * New portraits for Jevyan, Typhon and Rithrandil.\n * Graphics:\n   * Terrain:\n     * Fixed display of UMC castles (which were being overdrawn by regular human\n       castles).\n     * Added ruined cottage and ruined hill village.\n     * Added a fence embellishment terrain.\n * Language and i18n:\n   * Updated translations: Dutch, Finnish, German, Italian, Japanese, Korean,\n     Portuguese (Brazil), Spanish, Vietnamese\n * Multiplayer:\n   * Fixed Siege Castles' description to state the correct map size, 36x36\n     rather than 40x30 (bug #15835)\n * Multiplayer server:\n   * Increased username length limit from 18 to 20\n * User interface:\n   * Converted some dialog boxes to GUI2\n   * Campaign difficulty descriptions must use Pango markup now\n   * Added a new hotkey sequence (by default unassigned) to toggle animated map\n     mode (feature #15976).\n   * Removed bottom border from character [message] dialogs.\n   * Improved the width of portraits in the wml_message once the maximum text\n     width is reached.\n   * Fixed display of unit-specific image mods on the Status Table dialog\n     (bug #16285)\n * WML engine:\n   * Created tag [petrify] (bug #17077). Moved [unpetrify] to lua. Syntax\n     changed from [unpetrify][filter]<SUF> to [unpetrify]<SUF>.\n   * New [floating_text] tag for creating floating text similar to the damage\n     and healing numbers.\n   * Introduced [recall]fire_event=yes|no (default no) parameter (fixes\n     bug #17083).\n   * Deprecated the following macros: FLOATING_TEXT, CAPTURE_FILTERED_VILLAGES,\n     SET_OBJECTIVES, VICTORY_CONDITION, DEFEAT_CONDITION, ON_EVENT, ON_PRESTART,\n     ON_START, ON_SIDETURN, ON_TURN, ON_VICTORY, ON_DEFEAT, ALLOW_UNDO,\n     ON_TILE_ONCE, SIDE_PLAYER, SIDE_COMPUTER, AMLA_TOUGH, ITM_BOOK1, ITM_TREE1,\n     RECALL_OR_CREATE_UNIT, RECALL_OR_CREATE, ITM_GLOWING_BRAZIER, and REDRAW.\n   * Make [select_unit] highlight= (def. yes) work as intended for displaying\n     the selected unit's reach (bug #16819)\n * Miscellaneous and bugfixes:\n   * Fixed the submerge ability not working on all deep water terrains.\n\nVersion 1.9.2:\n * Campaigns:\n   * Descent into Darkness:\n     * Made 'Alone at Last' easier.\n   * Legend of Wesmere:\n     * Map updates.\n     * Implemented gold carryover between the multiplayer chapters.\n     * Added extra keeps to keep up with the growing number of leaders.\n     * Fixed scenario 04 not being playable.\n     * Corrected the objectives of scenario 3.\n     * Bug fix for the fleeing orcs in scenario 07.\n   * Heir to the Throne:\n     * Fixed a bug causing Warven in 'Cliffs of Thoria' not able to move through\n       mountains.\n   * Liberty:\n     * New set of portraits.\n     * Changed Relnan's character to a woman.\n     * New (unanimated) sprites for the Rogue Mage unit line.\n     * Various balancing changes to the Rogue Mage unit line.\n   * Northern Rebirth:\n     * Make it possible to choose whether a unit should pick up the\n       Rod of Justice or not.\n   * The Rise of Wesnoth:\n     * New set of portraits, except for Jevyan and Rithrandil.\n     * Gave Jevyan's familiar a custom unit type.\n   * Sceptre of Fire:\n     * Thursagan can now advance to Dwarvish Arcanister.\n     * New (unanimated) sprites for the Dwarvish Miner.\n   * Son of the Black Eye:\n     * Changes to the objectives and gameplay of 'Clash of Armies'.\n   * The South Guard:\n     * New portrait for Mal M'Brin.\n * Editor:\n   * Verbose terrain names can be specified using terrain.editor_name to\n     be displayed in the editor as \"<verbose name>/<common name> (<underlying>)\"\n     (bug #16450)\n * Graphics:\n   * Terrain:\n     * Any Castle or Keep except Dwarvish can now be combined without large gaps\n       or extra walls.\n     * New graphics for wooden bridges.\n     * Added variant of chasm bridge for over water.\n     * New transitions from all Hills and Mountains to Water.\n     * Underground and chasm friendly volcanoes.\n     * A new desaturated color of shallow water (Wwg).\n     * Much improved lava transitions.\n     * A new desaturated ocean color (Wog).\n     * New Waterfall automatically placed between chasm and water or swamp.\n     * New Sand-to-Water transitions\n     * Wave animations on sand\n     * Added Ruined Human City terrain\n   * Animations:\n     * Standing anims: Fencer, Spearman, Dwarf Guard.\n     * Idle anims: 2 for the Spearman.\n     * Fixed drakes flying or not flying over all the correct terrains.\n   * Portraits: Drake Blademaster, Hurricane Drake, Drake Flameheart, alternate\n     Swordsman.\n   * Units: New base frame and animations for Mudcrawler.\n * Language and i18n:\n   * Updated translations: Chinese (Traditional), Czech, Dutch, Galician,\n     German, Indonesian, Italian, Japanese, Korean, Lithuanian,\n     Portuguese (Brazil), Russian, Shavian, Slovak, Slovenian, Vietnamese\n * Unit changes and balancing:\n   * Decreased the physical resistances of the Dwarvish Scout and Dwarvish\n     Pathfinder to 10% and those of the Dwarvish Explorer to 20%.\n   * Decreased the village defense of Chocobone from 60% to 40%.\n   * Moved the Fire Guardian unit to core.\n   * Fixed villages on snow and sand hills providing worst instead of best\n     movement.\n   * The complete Dwarvish Runesmith line moved from SoF to core along with new\n     sprites.\n * User interface:\n   * Fixed: Addon dialog in title screen shows last host again.\n   * Fixed: Addon download progress dialog shows the correct addon name again.\n   * Fixed: Fullscreen hotkey works again in the title screen.\n   * Fixed: Termination of the game when making the title screen small\n     (bug #16724).\n   * Fixed: A resize glitch causing resize events to be lost.\n   * Changed: All buttons in the title screen now have a hotkey.\n   * Changed: Refresh cache hotkey is CTRL+F5 on the Mac by default now.\n   * Fixed: Don't trigger an assertion failure if no tips are defined\n     (bug #16731).\n   * Fixed: Enter no longer shows the credits in the title screen.\n   * Changed: The title screen now has a maximum width for the tips text.\n   * Changed: Improved the layout of the title screen.\n   * Fixed: Changing the language updates map and logo in title screen\n     (bug #16631).\n   * Fixed: No longer cut off large title screen logos (bug #16632).\n   * Refresh cache (F5) works in editor.\n   * Add a \"Save All Maps\" menu item and hotkey in editor.\n   * [object] description messages are now shown using GUI2, allowing usage of\n     Pango markup (bug #16859).\n   * Whiteboard planning system:\n     * Fixed: Crash when creating a planned move on Windows (bug #16705)\n     * New \"Execute all actions\" command bound to CTRL+y\n * WML Engine:\n   * id= in SUFs now accepts a comma-separated list.\n   * [capture_village] now accepts a full SLF.\n   * events can be fired depending on a condition using [filter_condition].\n   * Added support for SLF to [terrain]. Note that the SLF's terrain= key is\n     not valid; terrain= specifies the new terrain instead like it used to do.\n     Filtering for terrain can be done with the [terrain][and]terrain=\n     workaround.\n   * Renamed [removeitem] to [remove_item].\n   * added new parameters directional_x and directional_y to animations\n   * added new parameters auto_vflip and auto_hflip to animations\n   * Made it so that units affected by [hide_unit] don't appear on the minimap\n     (FR #16796)\n   * New [store_reachable_locations] tag for storing the locations reachable (by\n     movement, attack or vision) of units.\n   * New [select_unit] tag, with optional fire_event (def. no) and hilight_hex\n     (def. yes) attributes (FR #16819)\n   * New [message] scroll= attribute to specify whether the game view should\n     scroll to the speaking unit (defaults to yes) (FR #16843)\n   * New key 'random_start' (default = yes) in [terrain_graphics][image]\n     allowing to disable random animation shift in animated terrains.\n   * Added a new key \"primary\" to animation to separate frames that should be\n     treated as primary from frames that shouldn't\n   * Made it so that if several [advancefrom] tags for a certain base unit are\n     encountered, the lowest experience= keys from these is chosen (so if\n     there's only one [advancefrom] referencing this base unit the experience\n     needed can be increased).\n * Miscellaneous and bugfixes:\n   * Changed: Lowered severity of some gui2 timer log messages.\n   * Units created in debug mode now play their recruit animation (FR #16766).\n   * Fixed: properly update cmake revision numbers (bug #16483)\n   * Fixed: hotkeys dialog in editor is big enough to display them correctly.\n   * Fixed: Shifted windmill animation (bug #16529)\n   * Files matching *.wesnoth and *.project in add-ons are now ignored by\n     default when uploading\n\nVersion 1.9.1:\n * AI:\n   * Fixed bug #16585: made AI move in targeting phase even if for some of the\n     'best' units moves to targets are impossible\n * Campaigns:\n   * Unified the campaign description of the number of scenarios. Now the\n     number reflects only the battle scenarios of each campaign.\n   * A Tale of Two Brothers:\n     * New portraits for Arne and Bjarn.\n   * Dead Water:\n     * Fixed the last scenario not working due to an 'unknown scenario' error.\n   * Descent into Darkness:\n     * Fixed the 'A Small Favor' scenarios being unbeatable.\n   * Eastern Invasion:\n     * Increased Owaec's hitpoints and attack stats, and added a new weapon\n       special to his morningstar on levels 2 and 3.\n   * Legend of Wesmere:\n     * Splitted the multiplayer port into five chapters with 3 difficult levels\n       each.\n       * (Beta)  Chapter one, a two player campaign, ends after scenario 3.\n       * (Beta)  Chapter two, a three player campaign, ends after scenario 7.\n       * (Alpha)  Chapter three, a four player campaign, ends after scenario 13.\n       * (Alpha) Chapter four, a four player campaign, ends after scenario 17.\n       * (Alpha) Chapter five, a two player campaign, ends with the single\n                 player version.\n       * There is no savefile compatibility between saves from an older version\n         of Wesnoth.\n     * Scenarios\n       * Scenario one's objectives changed.\n       * Completed a rewrite of scenario 5, changing the objectives, ai and\n         game mechanism slightly.\n       * Scenario 7\n         * Shortened by letting the orcs flee if their numbers went too low.\n         * The player can choose between two different starting positions for\n           Olurf.\n       * Rebalanced Scenario 14.\n     * Miscellaneous and bug fixes:\n       * Renamed some of the locations at the Kalian to fit with the map\n         changes.\n       * Fixed scenario number 5 where the gold carrier's overlay was not\n         removed.\n       * Fixed the bug with the army split up before scenario number 9.\n       * Map and coding updates regarding the new terrain types and graphics.\n       * Added keeps to every scenario to match the number of leaders\n         (singleplayer) or sides (multiplayer).\n       * Removed the obselete Haldric the second portrait.\n   * The Rise of Wesnoth:\n     * Made surprise enemy spawns appear in a less immediately dangerous way in\n       'The Midlands', 'The Swamp of Esten', 'Peoples in Decline',\n       'A Rough Landing', 'The Vanguard', 'Return of the Fleet' and\n       'Rise of Wesnoth'.\n     * Clarified the early finish bonus conditions in 'Fallen Lich Point' and\n       'Sewer of Southbay'.\n     * Allowed Merman Hunters to be recruited alongside Merman Fighters.\n   * Sceptre of Fire:\n     * Fixed bug #16542: Alanin not appearing in the epilogue.\n   * The South Guard:\n     * Fixed a bug causing a freeze at the beginning of 'The Long March'.\n * Editor:\n   * Added a standard click sound to brush bar buttons (bug #15635)\n * Graphics:\n   * New animations: Merman Hunter ranged animation and defence, Warrior se\n     attack and defence, Drake Flare and Flameheart leadership.\n   * New portraits: Inferno Drake, Mermaid Initiate alternate, Goblin spearman\n     alternate\n   * Terrain:\n     * Tropical Ocean added\n     * Improved transition between void and off-map and with both and the\n       oceans.\n     * Snowy Human City Village added\n     * Muddy Quagmire (Sm) added - alias of swamp\n     * Old Desert Mountains replaced with a non-green version of the mountains\n     * Slightly tweaked dirt colors and new, smooth dirt transitions\n     * Better transitions for Cobbled Road, Clean Cobbles, and Overgrown Path\n     * Fixed hard edge on immpassible mountains clouds.\n     * Fixed Transition of leaf litter to water.\n     * Fixed hard edge on top of cave beams\n     * Fixed lava drawing extra transition on off-map\n     * Any Castle or Keep except Dwarvish can now be combined without large gaps or extra walls.\n   * Better rendering of unit in water: transparency decreases with depth.\n * Language and i18n:\n   * Updated fonts: DejaVu 2.32\n   * Updated translations: Chinese (Simplified), Chinese (Traditional), French,\n     German, Hungarian, Indonesian, Japanese, Lithuanian, Polish, Russian,\n     Slovak, Vietnamese\n * Multiplayer:\n   * Updated maps: 4p Hamlets.\n   * Updated most of the maps taking advantage of the new terrains.\n   * Side vision is now switched before the healing phase of the turn (only\n     visible in hotseat)\n   * Re-added the old MP lobby.\n * Terrain WML:\n   * Updated height adjust of desert, orcish, and snowy keeps.\n   * Fixed broken aliasing of the wooden floor.\n   * Stop using negative unit height adjust for water terrains.\n   * Chasm bridges can now be placed on any terrain, and the lit-by-lava\n     variants are automatically used when placed over lava.\n   * Removed village terrains: ^Voha, ^Voh, ^Vhms, ^Vhm, ^Vcha, ^Vch, ^Vcm. See\n     the village aliasing change listed below.\n * Unit changes and balancing:\n   * Decreased the melee and ranged attack of the Footpad from 5-2 to 4-2.\n   * Decreased the XP requirement of the Mage from 60 to 54.\n   * Decreased the XP requirement of the White Mage from 150 to 136.\n   * Decreased the XP requirement of the Mermaid Priestess from 150 to 132.\n   * Added the Ghast unit from DiD to core with new base frame and animations.\n   * Made the Giant Rat have a normal AMLA instead of an AMLA with no fullheal.\n   * All bats are now given a 'feral' trait which caps their defense on villages\n     to 40% and also making them receive only one random trait.\n   * All villages except for water and swamp villages are now aliased to both\n     village and the terrain they're placed on, giving best movement and defense\n     of both.\n * User interface:\n   * Changed: the title screen is now gui2 (bugs #12906, #12908 and #15987).\n   * Use red/green color for damage in sidebar when modified by bonus/malus\n   * Placing a waypoint on a capturable village will now make the unit pause\n     there to capture it (FR#16603)\n   * Fixed bug #16653: Avoid markup when calculating the text length for\n     ellipse text (Debian bug #547476).\n   * Damage type tooltip now also shows damage after resistance calculation.\n * Whiteboard:\n   * Added cost display for planned recruits and recalls\n   * Fixed bug #16554 : Infinite attacks with the whiteboard\n * WML Engine:\n   * Added tag [kill][secondary_unit] for specifying the killing unit.\n   * Added a LOW_MEM define to WML to be able to adapt WML to low memory\n     builds.\n   * Added event: side turn X\n   * Added event: turn X refresh\n   * Added [chat] tag for outputting public or private messages to the chat.\n   * Added events: turn end and turn X end\n   * Added events: side turn end, side X turn end, side turn X end,\n     and side X turn Y end\n   * Added \"variations\" key and \"@V\" symbol in [terrain_graphics] (syntax is\n     not final, and may change later)\n   * Fixed a bug causing the PUT_TO_RECALL_LIST macro to freeze the game.\n   * Modified [set_variable] \"divide\" so that it always performs a\n     floating-point divide.\n   * Allow time_area to define local time of day on map border (bug #16508)\n   * Allowed negative defense values as a way to set upper bounds,\n     e.g. village=-60 means that a unit cannot have less than 60 def (more\n     than 40% def) on terrains containing villages.\n * Miscellaneous and bug fixes:\n   * Removed: statistics upload code.\n   * Changed: compiler mode set to c++98\n   * Optimize terrain rules which speed up cache creation and loading\n   * Optimize rendering of flying units\n   * Fix crash when attacking in fog (using teleport+attack to a fogged village)\n   * Fixed a bug causing turn counter in the objectives dialog to duplicate when\n     the objectives are viewed several times.\n   * Replace \"working peasant\" (indicating missing images in debug mode) by\n     half-transparent \"Image not found\"\n   * Improved rendering algorithm: reduced memory requirements and a much faster\n     render loop; very noticable on big maps\n   * Improved framerate by removing useless 20ms delay between frames.\n\nVersion 1.9.0:\n * AI:\n   * Fixed bug #15994 : Formula AI candidate actions specified in [side][ai]\n     don't always work.\n   * Fixed bug #16406: Broken AI of SoF 1, and improved upgrade procedure for\n     old-style AI config.\n * Campaigns:\n   * An Orcish Incursion:\n     * Made 'Valley of Trolls' easier on the easiest difficulties.\n   * Dead Water:\n     * New campaign added to mainline from the Wesnoth-UMC-Dev Project's\n       repository (Intermediate level, 13 scenarios)\n   * Descent into Darkness:\n     * 'A Small Favor' (part 1) now gives an early finish bonus.\n     * Dela is no longer invulnerable in 'Alone at Last' but cannot be safely\n       assassinated.\n   * Eastern Invasion:\n     * New (unanimated) sprites for Owaec.\n     * Made it slightly easier to rescue the knights in 'Mal-Ravanal's Capital'.\n     * Increased the turn limit in 'Two Paths' from 18/16/14 to 18/17/16.\n   * Heir to the Throne:\n     * Made 'Cliffs of Thoria' much easier.\n     * Made 'Isle of the Damned' slightly easier.\n   * Liberty:\n     * Increased the difficulty of 'Unlawful Orders', 'The Grey Woods' and 'The\n       Hunters' and 'Glory'.\n   * Northern Rebirth:\n     * In Showdown, you recover full gold only if Sisal survived the previous\n       scenario.\n   * Son of the Black Eye:\n     * Increased the turn limit in 'Black Flag' from 30/25/20 to 30/28/24.\n   * The South Guard:\n     * A new set of story art by Scavenger.\n     * In 'Vengeance', the final objective is now revealed at the beginning of\n       the scenario.\n     * New images for the Infantry Lieutenant and Commander by Rhyging5\n   * Scenarios in Eastern Invasion, Liberty, Northern Rebirth, Son of the\n     Black-Eye and The Rise of Wesnoth which feature computer-controlled allies\n     now allow you to affect their behavior via the right-click menu.\n * Graphics\n   * Added new portraits for: the Orc Archer, Crossbowman, Slurbow, Sayer,\n     several new Orc Grunt line alternates, Draug and one alternate, Ghoul,\n     Skeleton Archer line, Giant Mudcrawler, Orc Leader/Ruler, alternate Leader\n     and Sovereign, alternate for Loyalist Swordsman, Drake Fighter, Burner.\n   * New animations (not yet including leading animations) for Drake Flare\n     and Flameheart, Dwarf Lord ranged attack, Dwarf guard melee attack, Dwarf\n     Pathfinder idle, Ruffian attack and defend, Spearman s and se attack.\n   * New base frame and animations for Armageddon Drake.\n   * Fixed bug causing Drake Clasher's animation to display incorrectly.\n   * Added missing help version for Sea Serpent portrait.\n   * Items & scenery: New anvil, and revised trash and lighthouse\n   * Two new flag styles.\n   * Animate terrain in editor\n   * New advanced preference to use a local ToD color-shift\n   * Added framework allowing to draw various arrow styles on the map.\n * Language and i18n:\n   * Updated translations: British English, Catalan, Chinese (Simplified),\n     Chinese (Traditional), Czech, Dutch, Estonian, Finnish, French, Galician,\n     German, Hungarian, Indonesian, Italian, Japanese, Latin, Latvian,\n     Lithuanian, Polish, Russian, Serbian, Spanish, Slovak, Vietnamese\n   * Updated DejaVuSans to 2.31\n   * Fixed bug #15653: Made untranslateable strings translateable.\n   * Fixed bug #15843: Made untranslateable strings translateable.\n   * Fixed bug #15934: Flushed image cache when changing language\n   * Fixed bug #15937: Made untranslateable strings translateable.\n   * Make map labels store translatable strings, so when the language changes,\n     the labels also use the new translation.\n * Multiplayer:\n   * Updated map: Ruins of Terra-Dwelve.\n   * Fixed bug #15865: missing WML Child error.\n   * Added the winner of the first Wesnoth map competition, the 2 player map\n     \"Elensefar Courtyard\" by krotop.\n * Music and sound effects\n   * New version of \"Northerners\" by Stephen Rozanc (TreizeCouleurs)\n   * New sounds for wolves and wolf riders. Removed all old wolf-* sounds.\n * Terrain:\n   * all villages except water and swamp villages can now be placed on any base\n     terrain\n   * orcish, elven and human snow villages are now aliased to village,snow\n     instead of just to village\n   * orcish and human snow hills villages are now aliased to village,snowhills\n     instead of just to village,hills\n   * animated terrain animations are not synchronized anymore\n   * reworked macros to handle animations\n   * added new stone-wall-lit terrain\n   * made all animated terrains use the new macro system\n   * added a new \"snowy castle\" terrain\n   * added new mausoleum scenery\n   * added new \"snowy fort\"\n   * added new \"desert castle\"\n   * added new \"tropical water\"\n   * added new \"dead grass\" terrain\n   * improved dry grass \"savanna\" terrain\n   * improved green grass \"grassland\" terrain\n   * improved \"desert road\" terrain\n   * added new \"dark dirt\" terrain\n   * added new \"small stones\" embellishment\n   * added new \"small mushrooms\" embellishment\n   * fix for dwarven castle to cave wall alignment issue by Alarantalara\n   * made encampment and orc forts use regular dirt rather than a custom terrain\n   * created new editor group: \"embellishments\", and added desert plants to\n     that group\n   * improved snow terrain\n   * added \"leaf litter\" terrain\n   * added new \"mine rail tracks\" terrain\n   * added 3 new variants for log cabin\n   * added impassable snow mountains\n   * adjusted the color of various terrains for a more coordinated appearance\n   * added new dry hills terrain\n   * new ford that works with animated water\n   * improved cobbled road now also used for castle (not keep) floor\n   * new etherial abyss terrain added to mainline\n   * flower base terrain is deprecated, now available as an overlay\n   * added new clean cobbled road terrain\n   * added castle to chasm transitions\n   * improved human city village\n   * Dark flagstones mainlined from UtBS\n   * added castle to lava chasm transitions\n   * chasm type terrain now blend nicely with void and off-map\n   * new banks for transition between flat or cave terrains and water\n   * adjusted all underground terrain to harmonize with other terrains\n   * improved mini-map appearance for most chasm, wall and grass terrains\n   * stone path now matches other terrains\n   * added wooden floor terrain\n   * added mushroom farm terrain\n   * added volcano terrain.\n   * added a special blend transition for mountains next to chasms\n   * added snowy encampment\n   * special snowy chasm appears next to snow terrains\n   * added earth-toned chasm\n   * added earthy cave floor\n   * added hewn cave wall, earthy cave wall, and earthy hewn cave wall.\n   * animated water and swamp now use a double-sided transition to blend gradually into each other\n * Terrain WML\n   * rename TRANSITION_RESTRICTED and TRANSITION_RESTRICTED2 to\n     OVERLAY_ROTATION_RESTRICTED and OVERLAY_ROTATION_RESTRICTED2\n   * All unused macros are slowly removed to try to get a logical and complete subset of macros\n   * Allow to use local ToD terrain variants in [time_area]\n   * ToD key in terrain [variant] now accept a list of ToD\n   * New key 'set_no_flag' in [tile] which combines 'set_flag' and 'no_flag'\n * Units:\n   * Giant Rat moved from DiD to core.\n * User interface:\n   * Added the era AI in the list of AI shown when opening a game\n   * Added dialog for installation of add-on dependencies\n   * Removed the unused gui2 menu bar\n   * Added a window register framework\n   * Enabled the --new-widgets MP create dialog again\n   * Enabled the hidden join observe buttons per row\n   * Enabled alignment in labels\n   * Avoid resizing when next or previous button is pressed in the\n     --new-widgets title screen\n   * Added gui2 progress bar widget\n   * Added \"animated\" logo to the --new-widgets title screen\n   * Fixed the language is refreshed after the language is changed in the\n     --new-widgets title screen\n   * Implemented bug #15623 (patch #1568): On change resolution screen,\n     widescreen resolutions are now marked as such\n   * Added tooltips to the --new-widgets title screen\n   * Added a place holder upload statistics button in the --new-widgets title\n   * Fixed bug #15716: Lobby crash when refreshing with filtered out games\n   * Fixed bug #15768: Avoid parts of the previous game show in the lobby\n   * Fixed bug #15727: Allow wml message titles to wrap\n     screen\n   * Added the total number of villages to the status table lists\n   * Added a new attack dialog, available for testing with --new-widgets\n   * Patch #1645: Fixed a bug sending keyboard events to deactivated controls\n   * Deprecated the resize flag for gui2 image, use the resize_mode instead\n   * Patch #1639: Added handlers for keyboard (arrow keys) to move gui2 sliders\n   * Added new experimental list box implementation, available for testing\n     with -DGUI2_EXPERIMENTAL_LISTBOX\n   * Damage in sidebar now also take account of ToD and leadership\n   * More info in the weapon tooltip (damage bonus calculation and swarm effect)\n   * Terrain defense tooltip show terrain's info and defense calculation\n   * Level tooltip shows next advancements\n   * Each trait and special attack has its own tooltip\n   * Most sidebar tooltips have now a category indication\n   * Tooltips of ellipsed text are grouped in the last visible item's tooltip\n   * Increase a little tooltip's opacity\n   * Render grid above foreground terrain\n   * Clicking on some elements of sidebar now open the related help page\n   * Display weapon stats in recruit/recall dialog the same way as in sidebar\n   * Accuracy/parry have its own line and tooltip in sidebar.\n   * Add first, last, play and back buttons to storyscreens\n   * Remember recall list sorting order (FR #16149)\n   * accelerated movment speed to 200ms per hex\n   * --logdomains accepts a filter argument and uses multiline output\n   * New mouseover image instead of simply highlighting the hex\n   * Tab completion for :commands and units search function\n   * Fixed #15781: On maps with statues player can pick statues team\n   * Fixed move+attack not interrupted when ambushed at destination\n   * Stop disabling mouse during attack+move\n   * Added the whiteboard planning system (GSoC project), see release notes for details.\n   * Allowed viewing terrain defense for the selected unit outside of your turn.\n * WML Engine:\n   * Added wml action tag: [modify_unit]\n   * Added wml action tag: [move_unit]\n   * Deprecated [set_variable]'s random key, use rand instead\n   * Renamed [unit][status] healable to unhealable so it can default to 'no'\n   * Added 'side X turn refresh' and 'side X turn Y refresh' events\n   * Add ~DARKEN() counterpart to ~BRIGHTEN()\n   * Implement min_value for [illuminates]\n   * Added lua functions wesnoth.get_side_count() and wesnoth.is_enemy(a,b)\n   * Add 'recall_cost' key for [side], to override [game_config]'s default\n   * Add [replace_schedule] tag, which replaces the time of day schedule\n   * Trying to include a missing macro/file is now a fatal error\n   * Added #ifhave/#ifnhave for testing existence of files and directories\n   * Added [volume] tag, which allows game volume to be changed during scenarios\n   * Prototype support for [set_global_variable]\n   * Prototype support for [get_global_variable]\n   * Prototype support for [clear_global_variable]\n   * Added scroll_to_leader attribute to side tag.\n     Default value is 'yes' (bug #15921)\n   * Draw the map border over _off^_usr tiles too.\n   * Add 'immutable' key to [label], defaulting to true (feature #16078)\n   * Added search_recall_list key to [have_unit] tag\n   * Added [move_units_fake] tag\n   * Added reveal_map key to [endlevel] tag\n   * Rename all \"colour\" keys to \"color\" (in [side] and [label]), same for\n     \"colour_lock\"\n   * Allow a [case] value to take comma-separated values\n   * Move fog/shroud image definition into game_config.cfg\n   * Add new game_config keys \"hex_brightening\", \"hex_semi_brightening\",\n     \"mouseover_image\" and \"selected_image\" to tune mouse interface\n   * Fixed bug #16219: Handled ToD areas in a LIFO way, so that it is possible\n     to override them without first removing them\n   * [effect] violate_maximum= (for use when increasing HP) takes a real boolean\n     value now instead of taking any non-empty value as \"true\".\n   * Allow checking out terrain defense for units when it's not your turn.\n   * New image path function: dst~BLIT(src[, x, y]) blitting src image on dst\n     image at coordinates (x,y)\n   * Fix bugs in 'illuminates' when using non-standard values. Now max and\n     min_value only clamps the effect of the illuminates bonus, but ToD and\n     terrain effect can pass them.\n   * Added [gold_carryover] tag to the [objectives] tag.\n   * Added [note] tag to the [objectives] tag.\n   * Added caption= and show_turn_counter= keys to the [objective] tag.\n   * New WML macros: ON_DIFFICULTY (a macro that makes using different values\n     based on difficulty simpler), ON_SIGHTING (a substitute for sighted events)\n   * Removed WML macros: NEUTRAL_SIDE\n * Miscellaneous and bug fixes:\n   * Added a network library for asynchronous server & client applications (ANA)\n   * Rewrote the network module using this (ANA) library\n   * Added help entry when new unit is created directly in the recall list\n   * Defaulted log level to warning again\n   * better fix for bug 14765 now that string freeze is off\n   * Fixed picking the proper locale, the problem only occurred on some\n     systems\n   * Added a way to compile wesnoth on windows by using CMake + MSVC9.\n   * Added the possibility to specify absolute paths for \"--config-dir\"\n   * Added more command line arguments for starting a campaign + scenario\n   * Added command line \"--preprocess\" to preprocess a specified file/folder and\n     output the result\n   * Added command line \"--preprocess-input-macros\" to specify extra input macros\n   * Added command line \"--preprocess-output-macros\" to output the preprocessed\n     macros to a file\n   * Added command line \"--data-dir\" to explicitly override the data directory\n   * Fixed the ping timeout not waiting for the default ping interval when\n     ping timeout is not set to 0\n   * Fixed a bug in scoring of AI recall list. Patch by billynux.\n   * Strip whitespace characters from .ign patterns (bug #15902)\n   * Fixed wesnoth_addon_manager's support for .ign files (bug #15846)\n   * Never allow uploading *.pbl files (case-insensitive) to the add-ons\n     server from the regular game client.\n   * When warning the player about installing add-ons with missing dependencies,\n     make 'OK' and 'Cancel' work as expected (bug #15960)\n   * Fixed tab completion not working in the new lobby (bug #14730)\n   * Fixed compilation for g++ 4.5\n   * Cleaned up the gui2 code at various places\n   * Don't crash if a [story] [part] [if] misses [then] or [else] (bug #16028)\n   * Fix a crash on OS X caused by passing invalid utf8 to pango (bug #16020)\n   * Hidden weapons (attack_weight = 0) no longer skew the best weapon selection\n   * Prevent dereferencing freed memory when reporting malformed maps, i.e. when\n     using an invalid terrain type\n   * Fixed attack predictions for combats with a unit leveling up thanks to a kill\n   * Fix rare layer's order bug about unit drawn above big south-west unit\n   * Improvements to make Wesnoth compile better with g++-4.5 in C++-0x mode\n   * Added \":undiscover\" to clear all your discovered units from help\n   * Added \":turn\" to change the current turn/time of day in debug mode\n   * Added \":turn_limit\" to change the turn limit for a scenario in debug mode\n   * Fix a crash when a sighted event killed a unit just before a fight\n   * Fixed bug #16171: Disable commands during [animate_unit]\n   * Fixed bug #16235: Avoided displaying an empty menu and therefore choosing\n     a random weapon, when there is none\n   * Fixed bug #16243: Added detection for server replays, as they are missing\n     the core [lua] tags\n   * Fixed bug #16261: Added test for invalidated death due to positive hp\n     after the 'die' event\n   * Fixed bugs when a waypoint is unreachable\n   * Fixed attacker still getting resting bonus after attack using movement_used=0\n   * Fixed [store_time_of_day] for earlier turn\n   * Fixed _off^_usr not using the tile_image of theme.\n   * Patch #1727: Fixed revision.hpp generation with cmake 1.8(.2)\n   * Added debug command \":foreground\" to better visualize foreground terrains\n   * Added debug command \":layers\" displaying various layer info from the hex under\n     the mouse.\n   * Reducing cache loading for title screen, --test, --editor and --load\n   * Removed Lua dependency, the source is now in the source tree\n   * Introduced a new allignement called \"Liminal\". Those units fight best during the twilight times of day.\n   * Fixed #16343: wmllint wants to add translation markers to the empty string in description=\n   * Reduce individual memory cost of each terrain image\n\nVersion 1.8.0:\n * AI:\n   * Fixed bug #14247: Make formula AI behave correctly if the side has only 1\n     potential recruit.\n   * Added support for candidate actions written in lua.\n * Campaigns:\n   * Descent into Darkness:\n     * Added new Giant Rat base frame and animations.\n   * Legend of Wesmere:\n     * Fixed bug #15631: Scenario 3: arrival of Kalenz failed\n     * Fixed bug #15679: Scenario 17: leader of side 2 is missing\n     * Fixed bug #15680: Scenario 18: wrong recruitment options\n   * Under the Burning Suns:\n     * Scenario 2: speed up AI turn.\n * Graphics:\n   * Added new Cave Spider and Cuttle Fish graphics\n * Language and i18n:\n   * Added new translations: Serbian Ijekavian, Serbian Ijekavian Latin\n   * Updated translations: Czech, Finnish, French, German, Hungarian, Japanese,\n     Latvian, Lithuanian, Russian, Serbian, Spanish, Slovak\n * Multiplayer:\n   * Updated maps: Cynsaun Battlefield\n * Music and sound effects:\n   * Fixed bug #15668: The lobby will play a random music playlist, configured\n     by [lobby_music], instead of looping the main menu song\n   * Fixed bug #15669: The titlescreen will play a random music playlist,\n     configured by [titlescreen_music], instead of looping the main menu song\n     First song played will still always be the main_menu theme.\n * User interface:\n   * Worked around bug #15561: Resizing the lobby made the items in the game\n     listbox too small\n * Miscellaneous and bug fixes:\n   * Added the first draft of the gui2 design documentation\n   * Defaulted log level to error again\n   * Fixed bug #13882: Map which is invalid aborts map selection\n   * Fixed bug #14114: Checksum operations fail against certain scenario events\n   * Fixed bug #15545: Recall list gone after loading savegame created in\n     linger mode\n   * Fixed bug #15598: Can't move units after reloading game\n   * Fixed bug #15601: Replay crashes when replay log messages are enabled\n   * Fixed bug #15656: OOS errors in LoW from differing starting gold\n   * Fixed a segfault due to missing seed-attribute of an attack in a replay\n   * Fixed a graphics bug with the Spearman's attack anim noted by zookeeper\n   * Worked around bug #13333: Limit the maximum length of the mp command\n     dialog as workaround for bug (This workaround is only implemented for\n     Windows and Mac)\n   * Worked around a rare assertion failure when resizing the lobby\n\nVersion 1.7.15-1.8rc1:\n * AI:\n   * Set RCA AI to be the default AI for single-player campaigns.\n   * Fix bug #15390: add a try_delete action to modify_ai which has\n     'delete if exists, don't complain if not exists' semantics\n   * Fix bug #15013: make AI gotos persist between turns when set by\n     WML, make the AI don't use gotos for normal moves.\n * Engine:\n   * Fix bug #15542: if game encounters a base_unit that refers to a\n     unit that the game cannot find, throw exception instead of\n     failing assertion.\n   * Add a list of team units and a dedicated unit mode to gamestate\n     inspector (launched by :inspect command and [inspect] tag).\n * Language and i18n:\n   * Updated translations: Chinese (Traditional), Czech, German, Hungarian,\n     Japanese, Serbian\n * Multiplayer:\n   * Fix bug #15541: fix OOS on [unit] tag generating different\n     traits because of usage of local RNG instead of MP RNG.\n   * Fix bug #15560 for Dark Forecast: fix OOS in Dark Forecast caused by\n     unit advancement not properly synced across the network.\n * Music and sound effects:\n   * Added new music track, \"Weight of Revenge\" by Doug Kaufman\n * User interface:\n   * Improved resizing of a window when the contents don't fit, fixes the\n     window scrollbars in the MP lobby\n   * Fixed redraw invalidation issues in the MP lobby\n\nVersion 1.7.14-1.8beta7:\n * AI:\n   * Allow to write AI components in LUA\n   * Implemented FR #15465: 'protect' goal was split into protect_location,\n     protect_unit, protect_my_unit [goal] tags. protect_my_unit can be used\n     as a direct replacement for protect_leader.\n * Graphics:\n   * Fixed bug 15344: missing ice to nothing transition\n   * Fixed weird side effect of long first frame in standing anims\n   * Fix bug 15366 : overlay terrains badly interacting with submerge and height\n     adjustments\n   * Fix bug 15544 : bad transitions between roads and deserts with overlay\n * Language and i18n:\n   * Updated translations: Catalan, Chinese (Traditional), Czech, Estonian,\n     Finnish, German, Greek, Italian, Japanese, Lithuanian, Polish, Serbian\n * Multiplayer\n   * Make allow_changes attribute truly work\n   * Fixed players getting different side colours across scenarios of mp\n     campaigns\n   * Fixed bug 14754: Host can start game before the client has selected a\n     leader (Debian bug #555964)\n   * Fix bug #15380 (cl in multiplayer local game doesn't work)\n   * Fix bug #15382 (Player doesn't get transported to the next scenario)\n   * Fix bug #15383 (Multiplayer Campaigns can't be loaded from savegame)\n   * Fix bug #15391 (Warnings in multiplayer games)\n   * Fix bug #15398 (Multiplayer Campaign aborted after endlevel)\n   * Fix bug #15399 (Leaders of the ai sides in LoW multiplayer scenario2 are\n     missing)\n   * Allow a 1-sides game to be started (Debian bug #568029)\n   * Fixed A New Land not working when there are empty sides\n * User interface:\n   * Rewrote the sizing code of the tree view widget\n   * Don't show turn dialog once the level has ended\n   * Fix the empty games in the MP lobby game list\n   * Fix redraw glitches of the scrollbars when resizing a widget\n   * Fix a crash when using the scrollwheel (bug #15156)\n   * Fix an issue where the lobby chat log didn't resize properly\n   * Fix the translation of certain lobby strings\n   * Enable the scrollwheel for the tree view\n   * Enable the scrollwheel for the scroll label\n * Miscellaneous and bug fixes:\n   * Fix bug #15429 (Units created by WML can only get the Neutral alignment);\n     this also affected MP leaders\n   * Fix UB when closing a window, caused by the children of the window\n     accessing the destroyed window members\n\nVersion 1.7.13-1.8beta6:\n * AI:\n   * Port [protect_leader], [protect_unit], [protect_location] to new-style ai\n     config, which is a goal with name=protect, which accepts a SLF [criteria].\n   * Changed names of AI log domains, to have a more uniform naming style.\n     Most names became shorter.\n * Campaigns:\n   * Fixed a bug in several scenarios causing some enemy units to disappear when\n     loading a save\n * Engine:\n   * Fix bug #15146: made kill event with animate=\"yes\" recheck the presence of\n     unit before animating, fixing the assertion failure (in case the unit is\n     removed by other wml events like last breath)\n   * All unit-related images are team colored, this includes missiles and haloes\n * Graphics:\n   * Add and wire two new Drake attack icons.\n * Language and i18n:\n   * Updated translations: Czech, Finnish, French, German, Hungarian, Italian,\n     Lithuanian, Polish, Portuguese (Brazil), Russian, Serbian\n   * The manual now does support translations of alternative texts for images\n     (bug #14874)\n * Multiplayer\n   * An early test version of the multiplayer port of \"Legend of Wesmere\"\n     is available when starting wesnoth with the commandline argument \"--debug\"\n * User interface:\n   * Add a new tree view widget\n   * Use tree view widget as test in campaign dialog (needs --new-widgets)\n   * Use tree view widget in the lobby\n * Miscellaneous and bugfixes:\n   * Fixed serveral issues found by cppcheck\n\nVersion 1.7.12-1.8beta5:\n * AI\n   * Fixed unit_at formula ai function to return null on null input\n * Campaigns:\n   * Fixed a bug in several scenarios causing some enemy units to disappear when\n     loading a save\n * Language and i18n:\n   * Updated translations: Czech, Finnish, French, German, Hebrew, Italian,\n     Latin, Russian, Shavian, Slovak, Spanish\n * Multiplayer:\n   * Non-human null controllers are no longer set to ai\n   * Don't allow a 0-sides game to be started (Debian bug #563310)\n * Music and sound effects:\n   * New version of sad.ogg (Sad music) by Tyler Johnson\n * User interface:\n   * Switched back to the tiled background for gui2\n   * Improved to looks in tiny-gui\n   * Add a new transient error message\n   * Convert several old style message dialog to the new style\n   * Allow listboxes to add rows at every place instead of at the end only\n   * Improved the speed of the new lobby\n * WML Engine:\n   * Removed bogus merging of the old unit type's movetype when advancing\n     (fixes bug #15055)\n   * [unit] upkeep now accepts the 'free' value as a synonym for 'loyal'\n     It was widely used this way and worked because its integer value is 0\n * Miscellaneous and bugfixes:\n   * Fix errors in tutorial when the player unexpectedly kills certain enemy\n     units in scenario 2 (bug #15037)\n   * Fix orcs being able to play their turn twice in tutorial scenario 2\n     (bug #14926)\n   * Fix missing dialog in tutorial scenario 1 (patch #1399)\n   * Fix scrolling during animation (bug 13106)\n   * Fix drakes tipping their wings in the water when flying\n   * Fix some assertion failures when showing/hiding listbox items\n   * Fixed serveral issues found by cppcheck\n   * Fixed drawing glitches with tiled gui2 windows in the lobby\n   * Fix some doxygen warnings\n   * wesnoth-optipng can now process selected files given on command line\n   * Allow listboxes to better request the update of their contents\n\nVersion 1.7.11-1.8beta4:\n * Language and i18n:\n   * Updated translations: Chinese (Simplified), Estonian, French, Latvian,\n     Lithuanian, Portuguese (Brazil), Russian, Serbian, Slovak, Spanish\n   * Manual: updated CSS style to cover Docbook markup for GUI elements\n * User interface:\n   * Add a new repeating button widget\n   * Scrollbar buttons now keep scrolling when kept pressed down\n   * Optimized the speed of the --new-widgets game load dialog\n   * Waypoints of multi-turns moves are now saved between reload\n * WML Engine:\n   * Rework of semantics of [unit] tags. Added 'placement' attribute.\n     Fix bugs #14373, #14444, #14451 and other 'duplicated unit' issues in LoW\n * Miscellaneous and bugfixes:\n   * Scrollbar containers now use the button super class\n   * Allow a gui2 timer delete itself in its callback\n   * Fix various bugs when a unit has more MP than its maximum\n   * Fix not redrawing a grid when set to hidden\n   * Add helper functions to show/hide rows in a listbox\n\nVersion 1.7.10-1.8beta3:\n * Campaigns:\n   * Under the Burning Suns:\n     * Fix locations of some items in \"In the domain of the dwarves\"\n       (bug #14925)\n * Graphics:\n   * Added attack icon for Drake Ram attack, and for UtBS's Giant Ant.\n * Language and i18n:\n   * Updated translations: French, German, Hungarian, Italian, Latvian,\n     Lithuanian, Polish, Portuguese (Brazil), Russian, Serbian, Slovak\n * User interface:\n   * Don't reserve space for scrollbars in message dialogs\n   * Ctrl-f for fullscreen works again in the MP lobby (bug #14759)\n   * Resizing the MP lobby no longer crashes randomly\n * WML Engine:\n   * Fix bug #14859: [time_area] created by event are not saved\n   * Allow modifications to change unit ellipse\n * Miscellaneous and bugfixes:\n   * Add a minimap cache for gui2\n   * Add a new super class for the button\n   * Added a new gui2 timer engine\n   * Add hotkey support for gui2\n   * Change Drake Flare and Flameheart weapon names to match new weapons\n   * Converted the hover tooltips to use the new timer engine\n   * Fix bug #14865: move+attack into hex with ambusher causes crash\n   * Fix the addon upload script to include the translate flag (patch #1387)\n   * Fix the gui2 unit tests\n   * MP lobby refresh to the new timer engine\n   * Optimize AI recruitement and movement phases\n   * Reduced header dependencies\n   * Remove spurious hover error messages\n   * Shorter \"Initializing Display\" phase when staying in same campaign/MP\n\nVersion 1.7.9-beta2:\n * AI:\n   * new [limit] subtag of [value] of ai_default::recruitment implementation of\n     recruitment aspect - allow easy limiting of number of concurrent recruits\n     of specific type in the field\n   * new rate_action formula_ai function which returns a rating of\n     attack analysis.\n   * values of most ai aspects are now readable from formula ai (aggression,\n     avoid, attacks, attack_depth, caution, grouping, leader_aggression,\n     leader_value, number_of_possible_recruits_to_force_recruit, passive_leader,\n     passive_leader_shares_keep, recruitment_ignore_bad_movement,\n     recruitment_ignore_bad_combat, recruitment_pattern,\n     scout_village_targeting, support_villages, village_value,\n     villages_per_scout)\n   * Fixed Bug #14768: made AI observe changes in allowed recruits, preventing\n     situations where AI does not recruit because it thinks that it can not do\n     so.\n * Campaigns:\n   * Northern Rebirth:\n     * Fixed a few graphic bugs with map items\n   * The Rise of Wesnoth:\n     * Removed the undead trait from several custom bat units\n * Graphics:\n   * New animations for the Chocobone.\n   * Change which Orc Grunt portrait appears is the default.\n   * New portrait for Orc Warrior\n   * New portrait for Hamel (tHoT)\n * Language and i18n:\n   * Updated translations: Czech, French, German, Italian, Latin, Lithuanian,\n     Polish, Portuguese (Brazil), Russian, Serbian, Slovak.\n * Multiplayer:\n   * Updated maps: Caves of the Basilisk, Hornshark Island, Howling Ghost\n     Badlands, Sablestone Delta\n * Music and sound effects:\n   * Updated music tracks: Legends of the North, Breaking the Chains\n * User interface:\n   * Show selected item after a listbox resize (bug #13995)\n   * Increasing the size of the MP lobby works properly (bug #14759)\n   * Fix waypoints ignored for multi-turns moves\n   * Toggle waypoint now works for each one, not just the last.\n   * Reclick on the selected unit now clear all waypoints\n   * Logo coordinates on the title screen now relative to center of the logo.\n * WML Engine:\n   * Added [open_help], fixes Bug #11061 (forgot to commit that one long time\n     ago)\n * Miscellaneous and bugfixes:\n   * Optimize \"Initializing teams\" loading phase\n   * Undraw floating labels when a gui2 dialog closes (bug #14816)\n\nVersion 1.7.8-beta1:\n * Campaigns:\n   * Under the Burning Suns:\n     * Do not allow player units to get pass the Dwarf Ghost\n       without completing the side quest in Tunnels of the Trolls\n       (bug #14379)\n     * Fixed a few visual glitches in some scenarios\n * Graphics:\n   * New base frames for Drake Flare, Flameheart\n   * New portraits for Grand Knight (alt), Lancer, Orc Grunt (two alts)\n * Language and i18n:\n   * Updated translations: Czech, Dutch, Finnish, German, Hungarian, Italian,\n     Latin, Lithuanian, Portuguese (Brazil), Russian\n * User interface:\n   * Instead of \"crashing\" upon invalid markup try to show the raw text\n   * Found a better fix for truncating the campaign description (bug #14328)\n   * Fix storyscreen buttons occasionally disappearing (bug #13779)\n   * Fix not being able to cancel the different version message (bug #14438)\n   * Fix not being able to close corrupted file dialog (bug #13764, #14058)\n   * Improve display order of unit healing (patch #1343)\n   * Fix the new-widgets addon list dialog\n   * Add fallback scrollbars if a window doesn't fit (bug #13180)\n   * Switch to the new MP lobby\n   * Fix a NULL pointer deferring in the hover code\n   * Protect against widgets being smaller as expected causing images with\n     negative sizes (bug #14525)\n * WML engine:\n   * Added two array element lookup macros, LOOKUP_INDEX and LOOKUP_VALUE\n   * Event \"turn refresh\" is now fired at turn 1 too\n * Miscellaneous and bugfixes:\n   * Using a hotkey to reload during an attack no longer disables the mouse\n     (http://www.wesnoth.org/forum/viewtopic.php?f=4&t=27616)\n   * Removed some unused Drake macros from animation_utils\n   * Add recruitment anims for the Sky and Hurricane Drakes\n   * Removed the old stats code (Debian bug #555276, CVE-2007-2383,\n     CVE-2008-7720)\n   * undo+redo a multi-turn move now restores the assigned destination\n\nVersion 1.7.7:\n * AI:\n   * Filtering of allowed attackers/defenders in 'attacks' aspect.\n   * Fix a serious enough bug in default ai targeting. The bug caused the AI,\n     in certain situations, to make weird shuffle-doing-nothing moves and not\n     seek enemies or their villages\n   * Optimize AI targeting phase.\n * Language and i18n:\n   * New translations: Shavian\n   * Updated translations: Czech, Dutch, Finnish, Estonian, German, Hungarian,\n     Italian, Lithuanian, Russian, Serbian, Slovak, Spanish.\n   * Fix a broken markup in the Italian translation (bug #14506)\n * Multiplayer:\n   * Updated map: The Manzivan Traps\n * Units:\n   * Removed Elder Wose and Shock Trooper from random_leader of the default era.\n   * Removed Ancient Wose and Iron Mauler from random_leader of the AoH era.\n   * New animation WML and macros for the Drakes\n   * Increased the XP required to advance for the Orcish Assassin from 30 to 34.\n   * Changed the cold resistance of the naga line from -20% to 0%.\n * User interface:\n   * Enabled the new event handler by default now\n   * Allow markup in a campaign description (bug #14435)\n   * Escape no longer closes the new title screen\n   * In recall dialog, use different color and brightness for XP and level\n   * In unit list, display invisibility status and change order of columns\n   * Update the mouse position after closing a dialog, so the dialog below\n     'knows' the proper mouse location\n   * Fix double click events to be send to the wrong window\n   * Fix scrollbars to show up when not needed (bug #13996)\n   * Avoid truncating the last line in campaign description (bug #14328)\n * WML engine:\n   * Added 'side Y turn' and 'side Y turn X' events\n   * Make status \"hidden=yes\" default, no need to do it manually in WML anymore\n * Miscellaneous and bugfixes:\n   * Add-ons download list now takes filtering into account for\n     displaying descriptions\n   * Various code cleanups\n   * Fixed a lot of issues found by cppcheck.\n   * Fixed \"Revert all changes\" feature in the map editor (bug #14266)\n   * Fixed broken illumination overlay in ToD sidebar image\n   * gui2 dialogs are now shown in an exception safe way\n   * Improve cmake po-update so it doesn't add too many dummy updates\n   * po-update2-xx now properly updates all domains\n   * Fixed sometimes incorrect update of unit/savegame view when using filter\n   * Debug-created units now also have traits and name\n   * Fixed broken ambush/invisibility at first turn or at unit creation\n   * Fixed ambushing unit not directly visible when discovered\n   * Fixed time tooltips (bug #13886)\n   * Fixed halo render glitches (bug #14405)\n   * Renamed the cmake foo2 targets to foo\n\nVersion 1.7.6:\n * AI:\n   * Stabilized syntax of [modify_ai] tag\n   * Reorganized AI macro library\n   * Added 'move leader to target' candidate action\n   * Added recall capabilities to default ai.\n   * Added recall formula ai function and ai.recall_list formula ai attribute.\n   * Modified default ai recruitment to recall good units from recall list.\n   * Modified default ai recruitment to consider enemy potential recruits\n     during recruitment.\n   * Added the capability to control leader goal of allied leaders.\n     Enabled this for certain LoW scenarios.\n * Animations\n   * new animations to help drakes to take off and land : pre-movement,\n     post-movement, draw_weapon, sheath_weapon\n * Formula AI:\n   * New 'reduce()' formula function\n * Graphics:\n   * New portraits for Merman Spearman, Bat, Merman Netcaster, Nightgaunt,\n     Spectre, Shadow\n   * Added a couple of missing frames for the Inferno Drake\n   * Show HP/XP bars during leveling animation.\n   * When a unit reach a new level, a floating label indicates it.\n * Language and i18n:\n   * Updated translations: Czech, Dutch, Estonian, Finnish, French, German,\n     Italian, Lithuanian, Russian, Serbian, Spanish.\n   * New translations: Vietnamese\n * Multiplayer:\n   * New map: 4p Ruins of Terra-Dwelve\n * Music and sound effects:\n   * Added new music track, \"Into the Shadows\" by Tyler Johnson\n   * Fixed bug #14239 (check_fogged ignored by sound sources)\n   * Implemented FR #14246 (check_shrouded= for sound sources)\n * Units:\n   * Made units with the 'healthy' trait always rest heal but take normal\n     damage from poison.\n   * Changed the Drake Glider movetype to give 40% defense almost everywhere.\n   * Gave the Fire Dragon 100% fire resistance.\n   * Updated the descriptions for the Drake Fighter, Glider and Burner lines.\n * User interface:\n   * new gamestate inspector debug dialog (via 'inspect' command\n     and '[inspect]' tag)\n   * Rename easy_close to click_dismiss\n   * Automatically try to resolve blocked multi-turn moves\n   * Better visually differentiate name, type and race in sidebar\n   * Add colorized terrain defense info in sidebar\n   * In attack dialog, split damages and chance to hit and color the later.\n   * The Remove and Update add-ons options are disabled when there are no\n     add-ons installed\n   * Add a Description button to the add-ons downloader\n   * For move+attack mouse click, now show the attack dialog before the move.\n   * In sidebar, add current bonus/malus info from alignement.\n   * New option to enable/disable move interruption when an ally is sighted\n * WML engine:\n   * Fix silent=yes for objectives\n   * Allow [story] [part] blocks to specify the title box alignment\n     with title_alignment=\n   * Implemented FR #14246 (visible_in_shroud= for [label])\n   * Modified Lua handling of action handlers and WML objects.\n   * Added a lua_function= attribute to standard unit filters.\n * Miscellaneous and bugfixes:\n   * Fix broken \"Skip Ai moves\" option.\n   * Changed upload log format and defaulted the new uploader.\n   * Fix bug #13268 (corrupted replays due to undo of recall/dismiss)\n   * Weapon name change for Drake Enforcer.\n   * Fixed the unit tests from 'hanging'\n   * Fix bug #14160 (carryover percentage in [endlevel] ignored\n     when victory_when_enemies_defeated=\"yes\")\n   * Various cleanups to the gui2 code\n   * Remove position info from unit list\n   * Avoid an assertion failure if haloes are disabled (bug #14297)\n   * Fixed linked widgets not getting deregistered upon destruction\n   * Fix huge fonts on storyscreens with tiny GUI\n   * Fix cmake po-update not doing line wrapping properly\n   * Fix bug #14241 (mp campaign timer settings not carried over to\n     next scenario)\n   * Started with the a new event handler for gui2\n   * Fix unit facings after moving (bug #14336)\n   * Fix unit facings after undo/redo\n   * Improved the teamcoloring script for images.\n\nVersion 1.7.5:\n * Campaigns:\n   * Legend of Wesmere\n     * Scenario 21 redesigned\n * Graphics:\n   * New base frame and animations for the Drake Blademaster.\n * Language and i18n:\n   * Setup for tracking localized images.\n   * Updated translations: Chinese (Traditional), Lithuanian, Serbian.\n * Units:\n   * Fixed problems with the Drakes introduced in 1.7.4 (wrong resistances and\n     a possible crash when advancing to the Inferno Drake)\n * Miscellaneous and bugfixes:\n   * Optimized the cmake building if both game and tests are enabled\n   * Switched to new stats upload mechanism so that stats.wesnoth.org should\n     soon provide usefull data\n   * Optimize pathfinding on 1MP terrains.\n\nVersion 1.7.4:\n * AI:\n   * Formula AI debugger (uses -new-widgets)\n   * New 'debug()' formula function\n   * Fixed crashes and infinite loops on AI turn\n * Animations\n   * Movement have the number of steps done in value and the number of step left\n     in value_second, this allows take-off and landing animations\n * Campaigns\n   * Legend of Wesmere\n     * Scenario 3 redesigned\n     * Fixed wrong or unclear scenario objectives\n     * Scenario 16: Reduced the number of wolf riders\n * Editor\n   * Better support for conflicting terrain letters across add-ons, now\n     in the event of a conflict the terrain will appear in all terrain\n     groups as opposed to appearing in one of them multiple times.\n   * Added remembering of the show terrain codes and coordinates options\n * Graphics:\n   * New portraits for Ancient Wose, Ruffian, Master-at-arms, Naga\n     Warrior/Myrmidon, Grand Knight, Merman Hunter.\n   * Updates to Peasant, Spearman and Swordsman portraits.\n   * New melee animation for Thunderguard, Dragonguard.\n   * New base frame and animations for Inferno Drake, Fire Drake.\n * Language and i18n:\n   * Updated translations: Chinese (Traditional), German, Lithuanian, Russian,\n     Serbian\n * Music and sound\n   * \"Journey's End\" from Mattias Westlund\n   * \"Over the Northern Mountains\" from Mattias Westlund\n   * Added horn signal sound effects\n * Units\n   * New weapon names for a number of drake attacks to account for changes to\n     the sprites.\n * User interface:\n   * Removed the hotkey to enable/disable mouse scrolling\n   * Added a horizontal listbox\n   * New basic support for specifying waypoints (via a new hotkey 'w')\n * WML Engine:\n   * Support for [show_if] inside [message]\n   * Added ability to change the share_maps team attribute using [modify_side]\n     tag. Be sure to use shroud=yes for that side\n   * [side] team_name is now a comma-separated list of teams the side is on\n   * [modify_side] user_team_name no longer requires that team_name also be\n     modified\n * Miscellaneous and bugfixes:\n   * Removed obsolete code for implicit linked widgets for the listbox\n   * [part] caption= is no longer supported; prepend the CAPTION macro\n     to story text instead\n   * Fixed 100% CPU usage on storyscreens with no text (e.g. map screens)\n   * Fix ODR issues in gui2\n   * Remove the boost 1.33 code in the unit tests\n   * Fix regression about broken undo after a multi-turn (\"goto\") move\n   * Fix regression about pathfinding poorly using the teleport ability\n   * Added extra wiki comment and updated the extractor\n * Animations\n   * Movement have the number of steps done in value and the number of step left in value_second.\n   * new animations pre_movement_anim and post_movement_anim to allow take-off and landing animation\n\nVersion 1.7.3:\n * AI:\n   * New AI configuration syntax\n * Campaigns:\n   * Two Brothers\n     * Replaced campaign specific portraits with mainline portraits\n   * Under the Burning Suns\n     * Fixed bug #13978: UtBS: \"stun\" ability doesn't modify enemy ZoC\n   * Legend of Wesmere\n     * Story only scenarios now display the speaker's name in the title.\n     * Ambient sound effects.\n     * Redone the campaign's objectives.\n     * Added the \"Dwarfish Scout\" to the player's recruit list.\n     * Scenario 19 now requires the player to destroy Saurgrath.\n     * Scenario 14 redesigned.\n     * Scenario 23 implemented Santi's plan to let half the army defect.\n     * Map updates (mostly new alias terrains added).\n     * Replaced the campaign image with a transparent one (Thanks to Kitty).\n * Editor:\n   * Renamed editor2 to editor pretty much everywhere\n * Graphics:\n   * New portrait for the Duelist, Mermaid Enchantress/Siren,\n     Priestess/Diviner, Merman Fighter/Warrior, Fencer, Drake\n     Glider, Merman Hoplite, Goblin Impaler, Rouser, Merman Triton,\n     Cavalier, Direwolf Rider, Paladin, Deathblade, Thug, Bandit,\n     alternate Goblin Rouser, Revenant, Naga Fighter, Troll.\n   * New unit graphics and animations for the Troll Hero, Drake Glider, Sky\n     Drake, Hurricane Drake, Drake Burner, Drake Fighter, Drake Warrior.\n * Language and i18n:\n   * Updated translations: Czech, Dutch, Estonian, French, German, Hungarian,\n     Lithuanian, Polish, Slovak\n   * Updated Drake Clasher, Arbiter and Slasher descriptions.\n * Multiplayer:\n   * Added a /q alias for /query\n   * New lobby interface in gui2, testable work in progress available with\n     --new-widgets. There are known issues with window resizing and low\n     resolution support.\n   * Server-side generation of random numbers for MP (combats)\n   * No MP compatibility with earlier clients and wesnothd\n   * --no-srng command line switch is available to turn off server RNG\n     support (and rquirement) in a client. Only games played with clients\n     pre-srng or with srng disabled as well can work without OOS. This is a\n     testing feature that will likely be removed prior to 1.8.\n   * Room support via /join and /room commands, better support in the\n     experimental new lobby. See http://www.wesnoth.org/wiki/MultiplayerRooms\n     for details.\n * Multiplayer server:\n   * Added server-side RNG support. Old clients can still play as normal.\n   * Added room support to the server.\n * Unit balancing:\n   * Added Dwarvish Stalwart, Elder Wose, Shock Trooper and White Mage to\n     random_leader of the default era.\n   * Added Ancient Wose, Dwarvish Sentinel, Iron Mauler and Mage of Light to\n     random_leader of the AoH era.\n * Unit renames:\n   * Drake Gladiator -> Drake Thrasher\n   * Drake Slasher -> Drake Arbiter\n * WML Engine:\n   * return 0 for length of arrays inside nonexistent containers (bug #13734)\n   * [end_turn] now waits for the event to finish before ending the turn\n   * it is now possible to use Pango markup in storyscreen text\n   * it is now possible to specify a custom title= in [story] [part]s\n   * [story] [part]s' text placement may be changed with text_layout=; it\n     currently supports \"top\", \"middle\" and \"bottom\" (default)\n   * [story] [part]s accept the sound= attribute for a list of sound files\n     from which a single one is chosen and played once\n   * [story] [part]s accept a caption= attribute as a text header\n   * new tags [store_unit_type] and [store_unit_type_ids] were added\n   * allow direct WML unit modification of \"halo\" attribute\n * Miscellaneous and bugfixes:\n   * [music], [sound], [sound_source] and [label] should work again on\n     WML prestart events; this means most music playlists should work again\n     (bug #14039)\n   * 'Recruit' and 'recall' don't appear in context menus unless the\n     leader is on a keep. (bug #13856 and #13855)\n   * No longer \"crash\" upon invalid pango markup\n   * It's now possible to display the area a widget uses, for debug purposes\n   * The widget in a stacked widget now grows properly\n   * Merged code for FDO and KDE desktop notification; only dbus is needed\n   * Added --screenshot parameter to take map screenshots without\n     initializing a GUI.\n   * Added --new-uploader parameter for testing the new experimental log\n     uploader.\n   * Fix gcc 4.4 compilation errors (Debian bug #539546)\n   * Added a work-around a listbox assertion failure in the new MP lobby\n\nVersion 1.7.2:\n * Campaigns:\n   * Son of the Black Eye\n     * changed Orcish Shaman movetype from smallfoot to orcishfoot\n * Graphics:\n    * New portrait for male and female Footpad, male and female Outlaw,\n      Horseman, Drake Clasher, Goblin Wolf Rider, Goblin Pillager, Dwarf\n      Explorer, Dwarf Scout, Cavalryman, Skeleton.\n    * New unit graphics and animations for the Dwarvish Scout, Pathfinder,\n      and Explorer; Drake Clasher, Slasher, Warden, Gladiator, Enforcer.\n * Language and i18n:\n   * Updated translations: Czech, Dutch, Estonian, Finnish, French, German,\n     Italian, Lithuanian, Polish, Russian, Serbian, Slovak\n * Terrains:\n   * New terrain: drake village\n * User interface:\n   * Add an icon to show whether or not the user finished a campaign\n   * Fixed bug #13831: Bug with team labels\n   * Added a new experimental stacked widget widget\n   * Added support for Growl notifications\n   * Added support for desktop notifications using KDE's\n     org.kde.VisualNotifications DBus service\n   * Changed \"Toggle Full Screen\" button to say \"Full Screen\" (bug #13909)\n   * Added cost of units recruited, recalled, killed, and lost, to the\n     statistics window (patch #1190)\n   * Fixed bug #13626: Bug about no option to turn on/off save delete\n     confimation. (patch #1192)\n   * Allow [advanced_preference]s to be of the 'int' type, appearing as a\n     slider\n   * Add better configurable linked widgets in the new gui\n   * Allow to make items in a listbox invisible (needed for filtering)\n   * Initial new loby user interface, available for testing with --new-widgets\n * Miscellaneous and bugfixes:\n   * Fixed language switch not affecting unit descriptions (bug #13827)\n   * Fixed teleporting to impassable terrain (bug #13795)\n   * Fixed an issue where teleporting could leave a unit halo\n   * Fixed [set_variable]'s rand and random when operating on 0..0 (return 0)\n   * Allow items to be removed from a listbox\n   * Fixed objective dialog not recognizing markup (bug #13888)\n   * Fix minimap no clipping in the new wiggets\n   * Added preprocessor macros to the wiki grabber tool\n\nVersion 1.7.1:\n * AI:\n   * Reworked AI code to allow easier creation of AI components.\n   * New AI: Composite AI\n   * (Optional) new AI configuration syntax.\n   * Basic reimplementation of an old C++ AI as a 'candidate action'-based composite AI\n   * Autodiscovery of available AI configurations from data/ai/ais.\n   * (In debug mode) Autodiscovery of available AI configurations from data/ai/dev\n * Campaigns\n   * Delfador's Memoirs: new portrait for Lionel.\n   * The Hammer of Thursagan: new portraits for Angarthing, Ratheln.\n * Graphics\n   * New portrait for Knight, Ghost.\n * Language and i18n:\n   * Updated translations: Chinese (Traditional), Czech, Finnish, French,\n     German, Greek, Hungarian, Icelandic, Lithuanian, Polish, Russian,\n     Serbian, Turkish\n * User interface:\n   * Removed the old obsolete layout algorithm in the new widgets\n   * Added unit tests for the new widgets\n   * Improved the layout algorithm not to show scrollbars when they make the\n     situation worse\n   * Add a new transient message dialog\n   * Add a new multi page widget\n   * Increase the lineheight in the new dialogs\n   * Add a blur precommit function to the canvas\n   * Improved the redraw algoritm and added more asserts\n   * Objectives now use pango markup\n   * Replace the campaign dialog with a new gui one (debian bug #497655)\n   * Removed the hidden option to disable the tips of the day\n   * A click on a slider now properly sets the position\n   * WML generated messages, labels and sounds are skiped during replay (bug #13519)\n   * Added support for desktop notifications (GTK/libnotify only for now, patch #1179)\n   * Added a hotkey to toggle team ellipses (fr #7763)\n * WML Engine:\n   * Made new turn, turn X, side turn and turn refresh events synchronous.\n     (bug #10603)\n   * Petrified units no longer heal. (bug #13513)\n * Miscellaneous and bugfixes:\n   * Add strict compilation to cmake\n   * Let cmake also use the CXXFLAGS and CFLAGS environment variables\n   * Fixed a segmentation fault with storyscreens using [if] (bug #35959)\n   * Properly translate dialog title (bug #13761)\n   * Fixed a problem with easy close that caused buttons to be ignored\n   * Properly translate unit name and mark strings translatable (bug #13751)\n   * Properly redraw logo on the loading screen (bug #13758)\n   * Set window title before setting video mode (bug #13756)\n   * Fixed dates in the load box being untranslated (bug #13782)\n   * Fixed networking code regression that could lead to \"Client disconnected\"\n     errors when creating a MP game\n   * Minimum version for Boost is now 1.35\n\nVersion 1.7.0:\n * AI:\n   * Added command-line option ai_config<number>=<value>\n   * Fixed incorrect handling of poisoning attacks when suggesting best attack\n     in user interface\n   * Added basic history and hot-redeployment capabilities to in-game console.\n   * Changed AI Lifecycle handling. Console AI is now persistent between\n     invocations.\n   * Added AI Arena test map to test AIs in interactive mode ( ai_arena_small )\n   * Changed interaction between default AI and Formula AI - made default AI\n     fallback to formula recruitment if \"recruitment\" config option is set in\n     AI config.\n * Campaigns:\n   * Delfador's Memoirs:\n     * New campaign added to mainline from the Wesnoth-UMC-Dev repository.\n       (Novice level, 24 scenarios)\n   * Eastern Invasion:\n     * Fixed the liches not being revealed properly in 'Weldyn Besieged'\n   * Heir to the Throne:\n     * Made snow fall gradually every turn in 'Northern Winter'.\n     * Enforce a 7-hex starting castle to prevent units from appearing inside\n       a wall in 'The Scepter of Fire' (bug #13377).\n     * Made the number of enemies to defeat depend on the difficulty in\n       'Test of the Clan'.\n   * Under the Burning Suns:\n     * Kaleh advancement:\n       * Gave the Hero variation more HP.\n       * Reduced XP requirements for the Captain variation.\n       * Disabled the sword2 (and thus armor) AMLA for the Captain variation.\n       * Enabled the bolas AMLA for all variations.\n       * Added the camouflage AMLA back.\n * Editor2:\n   * New feature: exporting of selection coordinates to system clipboard\n   * Made auto terrain transition mode tri-state: on (editor2's on), partial\n     (1.4 editor's on / editor2's off) and off (1.4's off).\n   * Made \"wesnoth -e FILE\" work like \"wesnoth -e --load FILE\" (load the map)\n   * Made \"wesnoth -e --load DIR\" (and consequently \"wesnoth -e DIR\") set\n     DIR as the default map directory for the current session, and start with\n     the map load dialog open\n   * Added ability to load maps referenced in scenario files\n   * Added ability to work with maps embedded in scenario files (saving works\n     in a limited scope)\n   * Moved the clipboard actions to a context menu available in paste mode\n   * Added a terrain sampler feature -- ctrl+click when in paint or fill mode\n * FormulaAI:\n   * Fixed bug #13230: added debug_float FormulaAI function to allow debugging\n     via floating popups on the specified hex\n   * Added run_file FormulaAI function to allow running .fai scripts directly\n     from in-game console\n   * Fixed bug #13295: made enemy_units formula return only those units which\n     are not incapacitated (for example, it now ignores petrified units )\n   * Implemented FR #13348: added timeofday_modifier function to formula AI\n   * Added attacks_left attribute to unit callable\n   * New variable: my_attacks with all possible attacks\n   * Added a new type of candidate move : strategic\n   * Added suitable_keep FormulaAI function to allow easier selection of\n     suitable keep for leader\n * Graphics:\n   * New type of animation : \"recruiting\" used by leaders when recruiting\n     units\n   * New portrait for Orc Grunt, Dwarf Fighter (alternative), Goblin Spearman,\n     Ogre/Young Ogre, Trapper, Ranger, Huntsman\n   * Image path functors:\n     * New functor, ~NOP(), which does nothing.\n     * The ~RC() image functor does not accept the special palette switch\n       ~RC(palette1=palette2) syntax anymore. ~PAL(palette1>palette2) should\n       be used instead\n * Language and i18n:\n   * New translations: Icelandic\n   * Updated translations: British English, Catalan, Chinese (Simplified),\n     Chinese (Traditional), Czech, Dutch, German, Finnish, French, Hebrew,\n     Hungarian, Indonesian, Italian, Lithuanian, Norwegian, Polish, Russian,\n     Serbian, Slovak, Swedish, Turkish\n   * Updated CJK character range\n   * Fixed word wrapping in CJK languages (patch #1140 from sylecn)\n   * Remove female^ descriptions of Outlaw, Footpad, Fugitive, Dark Adept\n   * The term 'stoned' has been replaced with 'petrified'; also the\n     related verb.\n * Multiplayer server:\n   * Implemented automatic saving of game replays.\n   * Implemented the adminmsg command to allow players to send messages to\n     currently available admins. (FR #9218)\n   * Fixed bug #7547: Add possibility to unban/unmute in a multiplayer game\n * Savegames\n   * Providing a new simpler interface for dealing with savegames\n * Terrains:\n   * New terrains: orcish fort, orcish village\n * User interface:\n   * Fixed bug #13257: Attack dialog always uses the active name of a weapon\n     special\n   * Fix missing faction column when waiting that the host start the game,\n     plus some other unwanted changes there (bug #13243)\n   * Make delayed shroud updates and scenarion objectives to change and\n     show information for viewing team. (help in bug #13313)\n   * Making the game return to the add-on install dialog just before\n     installing one, and with its entry selected\n   * Implemented FR #13321: added \"unit advances=N\" command to debug console\n     to immediately level-up selected unit N times\n   * Improved the sorting of the XP and traits columns in the unit list dialog\n     (part of bug #13360)\n   * New console command \":discover\" make the help considers that you\n     discovered all the units of the current campaign/era\n   * Debug action \"Change unit side\" allows to change owner of empty village\n     and is now renamed \"Change side\".\n   * Debug actions \"Create unit\" and \"Change side\" used on unit in a village\n     now causes a capture of that village.\n   * Rewrote the layout algoritm (still a work in progress)\n   * Fixed an multi-character UTF-8 handling bug in the password textbox\n   * Changed the tmessage dialog to be able to show four buttons and added\n     an extra helper function to show the dialog.\n   * Add a \"Factions\" section in help. Only show current era's informations.\n * WML Engine:\n   * Added [show_objectives] tag and allowed [show_if] tag in [objective]\n     tags. (bug #13042)\n   * Made moveto events set $x2,$y2 to the source hex. (bug #13140)\n   * Story screen and parts allow using [switch], [if], [wml_message]\n     and [deprecated_message] consistently at [part] and [story] levels.\n     (feature/bugs #13170, #13290)\n   * Added a \"preload\" WML event type.\n   * Added ability to change the share_view team attribute using [modify_side]\n     tag. Be sure to use fog=yes for that side  (bug #13320)\n   * Added support for Lua scripts in WML event actions ([lua] tag)\n   * [modify_side] can now change the share_view attribute\n   * new tag [hide_help] in [units] allows to hide units in help when you can't\n     change these unit types (main use: hide mainline units).\n   * [stone] and [unstone] have been replaced with [petrify] and [unpetrify];\n     the units' \"stoned\" status variable has been renamed to \"petrified\"\n   * Added the 'sub' key to [set_variable] to subtract from the variable.\n   * [era] and [multiplayer_side] now allow a 'description' key, and show it\n     in help pages (but currently empty)\n   * Filter on attacks now uses a 'damage' key, also support range like 1-9.\n   * Attacks with damage=0 are now correctly supported.\n * Miscellaneous and bugfixes:\n   * Added --ignore-fatal-errors option to wmlunits\n   * Added --rng-seed command line option to specify a value to seed the random\n     number generator with\n   * Changes to logging:\n     * New logdomain : uploader to see stat-upload related actions\n     * The --log-domain command-line option now allows for a bit of\n       pattern-matching, e.g., \"--log-info=ai/*\"\n   * Fixed compilation with -D_GLIBCXX_PARALLEL\n   * Fixed handling of floating-point WML constants on localized Windows\n     (impacts \"submerge\" animations and AI settings)\n   * Fixed control transfer after player leaves MP game (bug #13238)\n   * Fixed a bug with auto-stored WML variables not being restored correctly\n   * Fixed missing unit graphics when loading a start-of-scenario savegame.\n   * Improved random village naming\n   * The add-ons directory, <preferences>/data/campaigns, has been renamed\n     and it is now <preferences>/data/add-ons\n   * Enabled hinting for texts displayed by Pango/Cairo (bug #13399)\n   * Enabled non-default fonts for Pango/Cairo (bug #13399)\n   * Made dismissing of recallable units undoable\n   * Sped up pathfinding (and therefore AI)\n   * fps info used in debug mode show info about number of redrawn hexes.\n\nVersion 1.6a:\n * User interface:\n   * Remove a no longer valid assert (bug #13217)\n   * Make sure the dialog always uses the full map area width\n * Multiplayer and AI:\n   * Fixed bug #13222: Do not use the FormulaAI by default since it could lead\n     to the AI doing nothing\n   * Fixed bug #13218: infinite loop in the AI if it persistently tries to move\n     unit to occupied square\n   * Moved FormulaAI related debug output into the info log level\n\nVersion 1.6:\n * Campaigns:\n   * Under the Burning Suns:\n     * All portraits now have a transparent background (bug #13135)\n * Graphics:\n   * New or updated unit graphics for the Mermaid Priestess and Enchantress\n     unit lines\n * Language and i18n:\n   * updated translations: Finnish, French, German, Lithuanian, Polish,\n     Portuguese (Brazil), Russian, Slovak, Spanish\n * User interface:\n   * Grey game titles out when we're missing the era\n   * Fix a dialog size problem returning invalid sizes (bug #13203)\n * WML Engine:\n   * Increase the map size limit to 1000 by 1000\n   * Added an 'always_display' key to [advancement] to make it possible to show\n     the advance dialog even with just one option.\n   * weapon filters now recognize the id= attribute of specials (bug #13193)\n * Miscellaneous and bug fixes:\n   * Fixed bug #13204: NR: Death event doesn't re-spawn Malifor as expected\n   * Fixed bug #13198: Corrupt replay in MP\n   * Fixed bug #13199: Map generation in mp fails when hills and size of hills\n     sliders are at max\n   * Fixed bug #13179: Unit's move have sometimes a jumpy start\n   * Stop resetting the alternate default zoom level after each reload\n\nVersion 1.5.14:\n * Campaigns:\n   * Descent into Darkness:\n     * Increased the experience requirement for the Ancient Lich from 150 to 250\n   * The South Guard:\n     * Made Deoran not dismount in 'Into the Depths' anymore\n   * Under the Burning Suns:\n     * Simplified Kaleh's AMLAs to have consistent requirements and effects.\n * Graphics:\n   * New portrait for the male and female Assassin, Gryphon Rider, Longbowman,\n     Master Bowman, Dwarf Runemaster.\n   * New variations of desert plants\n * Language and i18n:\n   * updated translations: Catalan, Chinese (Simplified), Czech, Dutch, Finnish,\n     German, Hebrew, Hungarian, Lithuanian, Norwegian, Polish, Russian, Slovak\n   * updated DejaVuSans to 2.29\n   * replaced sazanami-gothic.ttf and wqy-zenhei-gb2312.ttf with wqy-zenhei.ttc\n     (version 0.8.38-1)\n * Music and sound effects:\n   * Added the new music track \"Siege of Laurelmor\" by Doug Kaufman\n * User interface:\n   * Fix an assertion failure when an unexpected mouse button was used\n     (bug #13126)\n   * Fixed bug #13161: Inactive weapon special name and description not used\n   * Fixed bug #13123: When you're downloading add-ons they do not appear in\n     the campaigns list until BfW is restarted\n   * The size of the message dialogs now really depends on the size of the map\n   * Started with a new layout engine for the new widgets (bug #13180)\n   * Fix few bugs about selecting an unit during another unit's move\n   * Fix a regression: again allow to use right-click to cancel drag&drop\n * WML Engine:\n   * Increase the map size limit to 1000 by 1000\n * Miscellaneous and bug fixes:\n   * Fix another campaign replay bug (#13139)\n   * Fix AI bug #13165 (leader too aggressive)\n   * Fix WML [advancefrom] bug (#13176)\n   * It is now possible to create units with random genders in debug mode\n   * Reduce the fontconfig dependency to 2.4.1\n\nVersion 1.5.13:\n * Graphics:\n   * New portrait for the Woodsman, Bowman, male Thief\n * Language and i18n:\n   * updated translations: Chinese (Simplified), Czech, French, Finnish,\n     Hungarian, Polish, Russian, Slovak, Turkish\n * Multiplayer:\n   * The engine now send the exact path used by units, preventing visual\n     differences between clients.\n * User interface:\n   * Fixed a crash when trying to use scrollbars in an invisible widget\n   * Fixed the setting of the ellipse_mode in ttext\n   * Improve the showing of ellipses in the textbox (bug #13083)\n   * Fix bad anti-aliasing of in-game MP chat (bug #12938)\n * Miscellaneous and bug fixes:\n   * Fix another savegame cache corruption\n   * Fixed bug #13099: MP lobby player list becomes inaccurate over time\n   * Fix bug #13118: OOS/replay bug when moving near ambushed units\n   * Better fog update after \"slow\" and \"stone\" attacks\n   * Updated Doxyfile to 1.5.6 format\n   * Fix regression about missing sighted event triggered by AI in replay\n   * Renamed some [ai] attributes to use correct English spelling.\n     Support for their misspelled forms will be removed in 1.7.0.\n     * simple_targetting -> simple_targeting\n     * scout_village_targetting -> scout_village_targeting\n\nVersion 1.5.12:\n * Add-on server:\n   * Ignore case on add-on (file)names (bug #13080)\n   * Disallow uploading of add-ons with no title, type, author, version or\n     description specified and warn about invalid versions\n * Graphics:\n   * New portrait for the female Thief\n   * New tiles for summer and fall deciduous and mixed forests\n   * Deciduous and mixed forests now used in several campaigns (not all, yet)\n   * New tiles for dirt\n   * Fixed a lot of small terrain transition glitches\n * Language and i18n:\n   * updated translations: Chinese (Simplified), Czech, French, German, Italian,\n     Polish, Portuguese (Brazil), Spanish, Turkish\n * Multiplayer:\n   * Updated maps: Howling Ghost Badlands, Sullas Ruins, Isar's Cross\n * Music and sound effects:\n   * Fix a regression which caused the endlevel music to be played even when\n     skipping linger mode (e.g. result=continue or continue_no_save).\n * Miscellaneous and bug fixes:\n   * Removed last binaryWML references by making the save_index gzip\n     compressed. (We can still receive binaryWML via the network.)\n * User interface:\n   * Listbox columns have the same width again\n   * Fix false \"click\" sometimes triggered at end of unit move (bug #12712)\n   * Now clear fog/shroud before an attack when doing a move+attack action\n   * Fix broken auto-undo when trying several move+attack with the same unit\n   * Changed the widgets in the in game message dialog\n   * The multiplayer dialog shows tooltips again\n   * The textbox history now uses CTRL+TAB and CTRL+SHIFT+TAB\n   * Properly set the cursor when opening a dialog (bug #12961)\n   * Fixed bug #13029: Problem with mouse-over unit identification in replays\n   * Added experimental campaign selection dialog (Only available when\n     starting with --new-widgets.)\n   * Properly reset the scrollbar mode when resizing (bug #13018)\n   * Fix unwanted double-clicks (caused by 1-pixel drag&drop)\n * WML Engine:\n   * Fix incorrect or doubled \"sighted\" events when delaying shroud update\n   * Fix sometimes missing or doubled \"select\" events.\n   * Fixed bug #13090: Make movement_costs < 1 behave like movement_costs = 1\n * Miscellaneous and bug fixes:\n   * Align all network buffers on 4 bytes\n   * Partial fix for bug #13092: avoid a case of invalid iterator usage\n     in FormulaAI\n   * Fix savegame cache corruption (bug #12815/Debian bug #483782)\n\nVersion 1.5.11:\n * Campaigns:\n   * Descent into Darkness:\n     * Removed the custom python AI used in 'A Haunting in Winter'\n * Campaign server:\n   * Reject add-ons with an empty type.\n   * Give warning note when the add-on version is invalid.\n * Editor2:\n   * Fixed / worked around several filebrowser issues (save/load dialogs)\n     (bugs #13033, #12771, #12625)\n   * Fixed terrain palette issue when the palette was not full (bug #13012)\n * Graphics:\n   * New or updated unit graphics: Merman Fighter line, Merman Hunter line\n   * New idle animations: Heavy Infantryman\n   * New portrait for the Javelineer, Gryphon, Elvish Sylph.\n   * Moved and renamed story screen files:\n     * titlescreen/landscapebattlefield.jpg -> story/landscape-battlefield.jpg\n     * titlescreen/landscapebridge.jpg -> story/landscape-bridge.jpg\n     * titlescreen/landscapecastle.jpg -> story/landscape-castle.jpg\n * Language and i18n:\n   * updated translations: Czech, French, German, Hebrew, Lithuanian, Polish,\n     Russian, Spanish\n   * Fixed a problem that could lead to wrong cache being used, leading to\n     some strings not being shown as translated (bug #12568)\n * Multiplayer:\n   * server:\n     * Create the fifo group accessible (instead of only user accessible).\n * Music and sound effects:\n   * Added a campfire sound file for use with [sound_source] in\n     sounds/ambient/.\n   * The game will no longer restart the music on a scenario change or game\n     load if the currently played track is on the new scenario's playlist\n * User interface:\n   * Fixed the assertion failure which could happen when clicking on a button.\n     (bug #12927)\n   * Allow chat command quoting as '/ /command'.\n   * Fixed a bug which made listboxes the wrong size and caused visual\n     glitches. (bug #12940)\n   * Fixed colors in [message]. (bug #13019)\n   * Made the maximum used width for the message text 650 pixels.\n   * Added UI sounds to the new widgets. (bug #12748)\n   * Fixed a glitch in the text drawing after showing markedup text.\n     (bug #13023)\n   * Fixed bug #13034: \"/me\" messages cut of first character in multiplayer\n     game chat.\n   * Fixed a glitch where the Gryphon wing was drawn over the fog and\n     reachmap\n   * When moving up or down in a listbox with a horizontal scrollbar, the\n     listbox no longer changes the position of the horizontal scrollbar\n   * Added experimental new addon download dialog (Only available when\n     starting with --new-widgets.)\n   * Fix a broken reference to the Myrmidon portrait.\n   * Removed team_name checks for chat display.\n * WML Engine:\n   * Fixed bug #13024: Conditional [allow_undo] not always working right\n   * Map size is now hard-limited to 200 by 200\n   * attribute hidden in [side] allows to hide a side from status table,\n     it also can be changed by [modify_side] (FR #12814)\n   * Removed support for PythonAI to handle CVE-2009-0367\n\nVersion 1.5.10:\n * Campaigns:\n   * The South Guard:\n     * Made 'Into the Depths' a bit easier\n   * Under the Burning Suns:\n     * fixed a major 1.5.7 regression with Kaleh's AMLAs, that made them\n       useless after advancing him to L2 (rel. bug #12911)\n     * fixed dehydration in scenario 2 triggering double-advancement for\n       dehydrated units when leveling up (rel. bug #12911)\n     * fixed some bad logic around the \"Dust Devil dance\" scene in scen.\n       2.\n     * made all human-controlled major characters unrenamable.\n * Graphics:\n   * New or updated unit graphics: Elvish Enchantress, Orcish Slayer,\n     Naga Fighter, Naga Myrmidon\n   * New idle animations: Dwarvish Thunderer, Naga Fighter\n   * New portrait for the Halberdier, dwarf Ulfserker line\n   * Unit HP bar decrease progressively when unit gets hit\n   * Rewrote the rendering engine which should fix the drawing order\n * Language and i18n:\n   * new translations: Marathi\n   * updated translations: British English, Dutch, French, German, Hungarian,\n     Italian, Russian, Slovenian, Spanish, Swedish\n * Multiplayer:\n   * Added support for observers to pause and continue the game at any time\n   * Fixed bug #12896: Map generator does not sync between clients when\n     advancing in MP campaigns\n   * Updated maps: Clash, Cynsaun Battlefield, Den of Onis, Silverhead Crossing,\n     Howling Ghost Badlands, The Wilderlands, Forest of Fear\n   * Removed Necrophage from the Undead Random Leader List.\n * Terrains:\n   * Enabled mixed deciduous-pine forest terrains\n   * Forested hills variations now available for the deciduous forests\n   * New merman village terrain variations\n * User interface:\n   * Fixed an exception when certain characters weren't escaped\n   * Removed the gamma correction option (code is only disabled not removed)\n   * Fixed the assertion failure with long options (bug #12970)\n * WML Engine\n   * [replace_map] changes the map completely, changing the map size is\n     posible - off-map units go into the recall list\n * Miscellaneous and bug fixes:\n   * Fix bug #12946: [menu_item]/[command] losing function when called again\n   * Fix flickering of units in the second part of the tutorial (bug #12923)\n   * Fix high CPU usage in multiplayer lobby due to inefficient handling of\n     friends and ignores lists.\n   * AmigaOS4: Minimum stack cookie to prevent stack overflow (patch #1107)\n   * Additional screenmodes when SDL can't guess them (patch #1108)\n   * Python AI works again. (bug #12955, bug #12913)\n   * Fixed the :query command to work while in a multiplayer game, not only\n     when in chat (as /query)\n   * Fixed invalid memory access with AMLAs (bug #12911)\n   * Closing a message with escape caused the message to skip on the next\n     execution of that event (unless it required input)\n\nVersion 1.5.9:\n * Campaigns:\n   * Descent into Darkness\n     * In 'Endless Night', the enemy's gold now increases faster\n   * The South Guard\n     * Made 'Tides of War' a bit easier\n   * Sceptre of Fire\n     * Fix the player's keep disappearing in 'Gathering Materials'\n     * New graphics for the Dwarvish Miner\n   * Under the Burning Suns:\n     * New base frames for the Desert Sentinel and Prowler\n * Graphics:\n   * Removed the black background from some remaining old portraits\n   * New portrait for Dwarf Thunderer, Dwarf Dragonguard, Human Pikeman, Dwarf\n     Fighter, Dwarf Lord, Dwarf Guard, Mermaid Initiate, Dwarf Sentinel\n   * Image-path functions:\n     * All image path functions except RC() and TC() can now be stacked\n       correctly and the order of precedence is from left to right. This\n       may impact performance slightly.\n     * New function, SCALE(W,H): scale down an image to the specified width\n       (W) and height (H) for rendering. Negative or null (zero) numbers are\n       ignored when scaling in the respective direction\n   * Restructured portraits directory to be based on unit types rather than\n     authors, added an authors file for recording portrait credits\n * Language and i18n:\n   * updated translations: Catalan, Chinese (Traditional), Czech, Dutch,\n     French, German, Hungarian, Italian, Polish, Slovak, Spanish, Valencian\n * Multiplayer:\n   * Made \"fog of war\" and \"random start time\" default to on.\n   * Fixed the Default Era quick leaders not getting the -5% HP reduction\n   * Made leaders with 4 MP receive the quick trait also in Age of Heroes\n * Terrains:\n   * New summer, fall and winter deciduous forest terrains\n * User interface:\n   * Hide the \"Network Player\" option for Local MP Games (bug #12596)\n   * Portraits with an icon are TC'ed again\n   * All [message] based dialogs are now converted to the new dialogs\n * WML Engine:\n   * Prevent duplicate id conflicts when cloning units with WML (bug #12894)\n   * [time_area], in EventWML, can now accept comma-separated lists of area ids\n     for removing, but not for inserting; in the latter case, only the first id\n     is considered to avoid stacking time_areas over a single location by\n     accident\n   * [fire_event] children tags [primary_unit] and [secondary_unit] now\n     take a real Standard Unit Filter instead of a x,y coordinate pair\n     When a filter matching multiple units is used, only the first matching\n     unit will be taken for firing the event. Recall list filters and\n     invalid locations are silently ignored\n   * [set_variable] can now handle both integer and floating point values\n     properly. The functions round, ipart and fpart were added (bug #12546)\n * Miscellaneous and bug fixes:\n   * Fix clients not agreeing on remaining movepoints (bug #12467)\n   * Fix summoning of other players recruit list on turn 1 (bug #12783)\n   * Fix [item] overlays with visible_in_fog=yes magically becoming\n     visible_in_fog=no (the former default for a missing attribute) when loading\n     saved games - because the game was looking for a fogged= attribute\n     instead on loading\n   * Made [item] overlays always default to visible_in_fog=yes if not\n     specified\n   * Made [label] overlays always default to visible_in_fog=yes if not\n     specified\n\nVersion 1.5.8:\n * Campaigns:\n   * An Orcish Incursion\n     * Converted to the new gold carryover system\n   * Eastern Invasion\n     * Fixed victory not triggering correctly in 'The Crossing'\n     * Fixed missing time of day schedules in several scenarios\n     * Fixed various problems in 'Northern Outpost'\n   * The Hammer of Thursagan\n     * Converted to the new gold carryover system.\n   * The Rise of Wesnoth\n     * Renamed \"Lord Dionli\" to \"Lady Dionli\".\n   * Son of the Black Eye\n     * Made scenarios 'Silent Forest' and 'Shan Taum the Smug' harder.\n   * Legend of Wesmere\n     * Fixed the bug with savegames in scenario 3\n * Graphics:\n   * New portraits for Royal Guard, Heavy Infantry, Iron Mauler, Sergeant,\n     Lieutenant, General, Grand Marshal with 1 alternate, Saurian Augur line,\n     Saurian Skirmisher line, Troll Whelp, Death Knight\n   * Fixed drawing glitches in the listboxes\n   * Fixed several glitches with the new portrait dialog\n   * Optimized animation and invalidation of idle/standing units\n   * Removed the black background from most of the old portraits\n * Language and i18n:\n   * Fixed a small bug that was causing the translations engine to look\n     at badly mixed up paths when trying to locate UMC translations,\n     rendering them unusable (bug #12872)\n   * Fixed translation of 'A New Land' not being shown\n   * updated translations: Chinese (Simplified), Czech, Danish, German,\n     Hungarian, Italian, Japanese, Lithuanian, Russian, Slovak, Spanish\n   * updated DejaVuSans to 2.28\n * Multiplayer ui:\n   * Added a gui front-end to various commands, brought up by double clicking\n     a player name, replacing the old whisper dialog\n   * Automatically select the game the selected player is in\n   * Try to preserve the selected player when the player list is updated\n   * Added an option to avoid auto-scroll to enemy units during opponent's\n     turn\n   * Cleared the login dialog mess: Now there is a single dialog to display\n     error messages from the server and to choose a different username and/or\n     password\n   * Added the possibility to provide a password in the main multiplayer dialog\n   * Added an option to save the password to the preferences\n * Networking:\n   * Ensure SDL_net is initialized before attempting to send upload_log\n * Unit changes and balancing:\n   * Updated most units' defense and movement values on coastal reef\n * User interface:\n   * Pressing backspace in a textbox with selection now clears the selection.\n   * Scrollwheel mouses can scroll the new listboxes\n   * New advanced preference to choose whether middle-click scrolls or warps\n   * Fixed a glitch which closed a new dialog on the mouse up event of the old\n     dialog (the effect is percieved as the new dialog not showing up)\n   * Spacebar closes the dialogs without a scrollbar again\n   * Pressing escape in a new dialog, behaves like in the old dialogs again\n   * The new portrait dialogs can get higher so the scrollbars are less often\n     visible\n   * Added a password box that hides its input\n   * The new portrait dialogs can now show the old images as well and also the\n     right hand side images\n * WML engine:\n   * add an \"animate\" key to the [teleport] event\n   * add a resistance_anim block used whenever a unit uses a [resistance]\n     ability on a neghbour\n   * deprecated tag [debug_message]; use [wml_message] instead, which\n     now offers the debug/dbg logger and uses the \"wml\" log domain\n     (i.e. --log-*=wml should be used instead of --log-*=notifs)\n   * The text output created by [wml_message] to stderr is echoed in-game\n     using the chat user interface like [deprecated_message] and other\n     Invalid-WML messages; the level of verbosity is controlled by the log\n     level for the \"wml\" log domain\n   * the animate_unit action can now animate multiple units\n   * the animate_unit action can now change the direction the unit is facing\n     with a SLF\n   * add a [replace_map] map=\"file\" event that can load a map of a different\n     size in a scenario\n   * make [remove_shroud] and [place_shroud] use true Standard Location Filters,\n     not just location lists/ranges (bug #12869).\n * Miscellaneous and bug fixes:\n   * Added the sunset feature to the new dialogs.\n   * Fix the calculate feature in the test scenario.\n   * Fix an endian issue which rendered text wrong on big endian machines\n   * Fix a bug with temporary objects not being removed at next scenario\n   * Fix replays with empty starting positions.\n   * Prevent access to invalidated memory after the first download when\n     updating all installed add-ons (bug #12837)\n   * Adjusts drain game mechanics to match attack prediction (bug #7702)\n\nVersion 1.5.7:\n * Campaigns:\n   * Descent into Darkness\n     * Removed debris from this campaign's copy of the map of the\n       Great Continent, and converted Parthyn's marker (which was black)\n       to a brownish marker.\n   * Eastern Invasion\n     * Converted to the new gold carryover system.\n     * Gave the undead flag to relevant sides.\n     * Fixed Dacyn and Owaec not being loyal.\n     * In 'Mal-Ravanal's Capital', reworked how the prisoner knights work: now\n       they're placed on the map in cages with guards next to them, and the\n       player must kill the guard to release the prisoner.\n     * Removed debris from this campaign's map of the Great Continent,\n       and converted all black markers to brownish markers.\n   * Heir to the Throne\n     * Added an idle animation for L2 Princess.\n     * Fixed the dwarves attacking the player in 'The Lost General'.\n     * In 'Bay of Pearls', the player receives recruitment of all lvl1 mermen\n       units if both enemy leaders are defeated, and only Mermen Fighters if\n       only one of them is.\n     * Fixed not being able to recruit mermen in 'Isle of the Damned'.\n   * Liberty\n     * Converted to the new gold carryover system.\n     * Gave the undead flag to relevant sides.\n   * The Rise of Wesnoth\n     * Changed Familiar's portrait to match his new unit type.\n     * Fixed a good amount of funny inconsistencies with Familiar's\n       unit type.\n     * Fixed broken death events.\n     * Lady Outlaw does not lose her experience on 'Return to Oldwood'.\n     * Restored missing leading animations for Noble Commander and\n       Noble Lord, and gave leading animations to Wesfolk Outcast line.\n   * Sceptre of Fire\n     * In 'Searching for the Runecrafter', the turn limit is now increased when\n       finding Thursagan.\n     * In 'Gathering Materials', all enemy sides now fight each other.\n   * Son of the Black Eye\n     * Cleaned up the forests in the Far North map; removed a lot of debris from\n       said map.\n   * The South Guard\n     * Made 'Into the Depths' a bit easier on the easiest difficulties.\n   * Two Brothers\n     * Converted to the new gold carryover system.\n   * Under the Burning Suns\n     * Converted to the new gold carryover system.\n     * Made Elyssa loyal+quick instead of quick+intelligent.\n     * Gave the Shyde/Star appropriate healing frames.\n     * Added updated Desert Hunter sprites.\n   * Legend of Wesmere\n     * Recoded Olurf in scenario 02\n     * Marked the guards in scenario 05 to be killed.\n     * Many Bug fixes(recruiting, village ownership)\n     * Made Olurf's side persistent.\n     * New 400*400 pixel sized portrait images.\n     * All portraits are now displayed without scaleing.\n     * Updated music playlists.\n     * Flipped the Ka'lian map horizontaly.\n     * Updated overview map to LoW's time.\n     * Redone journey that is displayed on the overview map.\n * Editor2:\n   * The map editor is automatically started if the binary file used\n     to start Wesnoth contains \"editor\" somewhere in its name (useful\n     for symlinks).\n * Graphics:\n   * Gave a nicer ranged attack animation to Troll Rocklobbers.\n   * New attack icons: spiked mace.\n   * New or updated unit graphics: Gryphon Rider, Gryphon Master, Revenant,\n     Naga Warrior.\n   * New portraits for Peasant, Swordsman, Spearman.\n   * New image-path functions:\n     * ~CS(R,G,B): do a simple color-shift by adding the argument values\n       to each color channel.\n     * ~R(v), ~G(v), ~B(v): mangled forms of ~CS() for single channel\n       manipulations.\n     * ~O(percentage%), ~O(factor): change an image's opacity by a\n       percentage value (0%-100%-*%) or a numeric factor (0.0-1.0-*),\n       respectively. Using factors/values greater than 1.0/100% causes\n       pixels with non-zero alpha value to have it increased.\n     * ~BL(radius): blur an image by the given radius.\n   * Added the transparent version of Kitty's portraits.\n   * Rewrote the drawing engine for the new widgets.\n   * Enabled the new dialogs when a new portrait is available.\n   * Properly update animated halos (bug #11965).\n * Language and i18n:\n   * Renamed the --dummylocales parameter to --dummy-locales.\n   * Fixed the po extraction tool to also include the id field.\n   * updated translations: Chinese (Simplified), Czech, Danish, Dutch, Finnish,\n     French, Galician, German, Hungarian, Italian, Lithuanian, Polish, Slovak,\n     Spanish, Turkish\n * Terrain:\n   * New graphic variations for Oasis (Dd^Do) terrain.\n   * Added a new invisible impassable overlay terrain, which can be painted on\n     top of any (non-layered) terrain to make the hex impassable.\n * Unit changes and balancing:\n   * Decreased the range attack of the Drake Flare from 7-4 to 6-4.\n   * Decreased the range attack of the Drake Flamehart from 9-4 to 8-4.\n   * Increased the cost of the Goblin Spearman from 8 to 9.\n   * Decreased the cost of the Sergeant from 20 to 19.\n   * Decreased the HP of the Sergeant from 36 to 32.\n   * Decreased the HP of the Lieutenant from 48 to 40.\n   * Decreased the melee attack of the Lieutenant from 9-3 to 8-3.\n   * Decreased the HP of the General from 58 to 50.\n   * Decreased the HP of the Grand Marshal from 68 to 60.\n * User interface:\n   * Recruit, recall, unit-list and create-unit dialogs display the\n     selected unit/unit-type's race.\n   * Improved appearance of progress bars besides the loading-screen\n     one.\n   * Rewrote the layout algorithm for the new widgets.\n   * Fixed the font loading when the data directory is overridden.\n   * Removed text wrapping around background image in story screens; it is\n     better to always use the whole screen width if possible (fixes the\n     first story screens in Descent into Darkness and Under the Burning Suns).\n   * Tweaked the algorithm that extends the darkened area below long\n     story texts so that it gives a more consistent appearance.\n   * Added a border and blurring to story screens' text blocks.\n   * Improved wrapping in the new widgets.\n   * Improved easy close handling.\n   * Added a horizontal scrollbar widget.\n   * Made the border scrolling threshold a (hidden) preference and made it\n     default to 10 instead of 5 pixels.\n   * Don't display movement costs for units that have \"infinite\" costs on\n     terrains. The recognition margin is 5 MP.\n * WML engine:\n   * Allow inline formulas \"$( ... )\" to be used in general WML\n   * Ignore whitespace at the beginning or end of event names\n   * Added the 'round' key to [set_variable].\n   * New attribute to_variable= in [unit] to spawn directly into a variable\n   * New attributes x,y= in [unstore_unit] to override unit location\n   * It is possible to override the end-of-campaign screen text\n     and its duration using end_text and end_text_duration attributes\n     respectively, in [endlevel] or [campaign] tags. end_text_duration\n     is measured in milliseconds. (feature #10449)\n   * [modify_turns] now works in scenarios without a turn limit. (bug #12715)\n   * Direct modifications to a unit using [unstore_unit] will now be kept\n     when advancing to the next scenario.\n   * If there is a file called _initial.cfg in an included directory, and\n     no _main.cfg, _initial.cfg is guaranteed to be processed before other\n     files in the directory.\n   * [endlevel] has been expanded by the carryover_report=, save= and\n     linger_mode= attribute.\n * Miscellaneous and bug fixes:\n   * Compressed start-of-scenario saves are properly recognized by the\n     load-game dialog again.\n   * Fixed replays for single-player campaigns (bug #12005).\n   * Fixed the restart-replay button causing an assertion failure.\n   * New memory allocator introduced to the engine. It should\n     produce 5-10% savings in memory usage on 64-bit systems.\n     The allocator is disabled by default.\n   * Included extra headers for certain g++ versions (patch #1113).\n   * Fixed random memory corruption/assertion failure/massive leak due\n     to story  screens.\n   * Fixed [role] not working when no type was specified (bug #12660).\n   * Fixed compilation with Python 2.6 (bug #12638 (included a patch)).\n   * Fixed spammy multiplication of advancement options for units\n     affected by the [unit_type][advancefrom] clause (observed in\n     add-on Invasion_from_the_Unknown from the wesnoth-umc-dev\n     trunk) each time advancements were evaluated.\n   * Improved the drawing routine for the ttext class.\n   * Pressing Escape to exit the game from the title screen now requires a\n     discrete keypress (bug #12747)\n   * Properly implement the CFLAGS for autotools.\n\nVersion 1.5.6:\n * Authoring tools:\n   * trackplacer is a pygtk tool that makes it possible to visually edit\n     the journey tracks on Wesnoth campaign maps.\n * Campaigns:\n   * Descent into Darkness\n     * Added a set of story art.\n     * Made Malin's side use the ostensibly obscure undead flags after his\n       banishment\n   * Eastern Invasion\n     * In 'Weldyn Besieged', the positions of the liches are now randomized and\n       their names hidden until you attack them (patch #1109).\n   * Legend of Wesmere\n     * Newly added to mainline: Intermediate level, 24 scenarios.\n       (Imported from wesnoth-umc-dev.)\n   * Son of the Black Eye\n     * In 'Clash of Armies', fixed all the merman spawns not working correctly\n       and limited the number of simultaneous enemy gryphon recruits on the\n       easiest difficulty.\n   * The South Guard\n     * Rewrote 'The Long March'.\n     * Made each turn past turn 6 that passes in 'Pebbles in the Flood' give\n       you some concrete benefit in 'Tides of War'. Also, the Council of Westin\n       now always appears, but the exact turn depends on the length of\n       Gerrick's defense.\n   * Under the Burning Suns\n     * Made use of the undead flag for undead sides\n     * All known bugs (e.g. in Keratur's appearances and related to Kaleh's\n       AMLAs) have been fixed.\n     * Garak now gets into a duel of champions in \"A Stirring In The Night\".\n     * The Quenoth elf graphics have been refreshed; most of their sprites\n       now match the size of other 2.0 sprites and have been team-colored.\n     * Fixed the problem with Nym's defense animation\n   * Only the new gold carryover system is now available in Descent Into\n     Darkness, Heir to the Throne, Scepter of Fire, Son of the Black Eye and\n     The South Guard.\n * Editor2:\n   * Changed the base-terrain key modifier to shift from alt.\n     This fixes an issue with some window managers grabbing the event.\n   * Added basic mask applying feature\n   * Added basic mask creation (\"diff\") feature\n   * New multiple document interface, allows more than one map to be open at the\n     same time. Experimental, can be turned off in the editor settings dialog.\n * Graphics:\n   * New or updated unit frames: Troll Shaman, Naga Fighter.\n   * New animations: Deathblade idle, Orcish Assassin idle, Mage magic missile,\n     Silver Mage magic missile and teleport.\n   * Fixed some parts of alternative flag sets which were not correctly\n     team colored.\n * Help menu:\n   * ability upgrades for max-level advancements are now listed (bug #10337)\n * Language and i18n:\n   * Fixed a problem on OSX where the locales detection didn't\n     work; all languages are now enabled for OSX.\n   * updated translations: Catalan, Czech, Danish, Dutch, Finnish, Galician,\n     German, Hungarian, Italian, Lithuanian, Racv, Slovak, Spanish, Turkish\n   * new translations: Valencian (the previous non-standard translation has\n     been renamed to RACV).\n   * Fixed Wesnoth looking for editor translations in the wrong place\n     (bug #12426)\n   * updated DejaVuSans to 2.27\n * Multiplayer:\n   * New multiplayer map: 4p Underworld.\n   * Revised maps: Caves of the Basilisk, Hornshark Island, Silverhead\n     Crossing, Sullas Ruins, Weldyn Channel, Alirok Marsh, Island of the\n     Horatii, Castle Hopping Isle, King of the Hill, The Wilderlands.\n * Music and sound effects:\n   * Changed sound sources' default fade and full volume ranges to 3 and 14\n     hexes respectively; the former defaults were less than adequate.\n   * Renamed music files:\n     * nr-sad.ogg -> sad.ogg\n     * main_menu.ogg -> transience.ogg\n     * main_menu_new.ogg -> main_menu.ogg\n * Unit changes and balancing:\n   * New units: Dread Bat, Royal Warrior (character)\n   * Gave the Goblin Pillager the same bite attack as the Wolf Rider.\n   * Updated movement and defense values on the reef terrain for many units.\n   * Added the 'fearless' trait to the Heavy Infantryman line.\n * User interface:\n   * Story parts that have show_title=yes and text at the same time have\n     now the text's background drawn.\n   * The new widget library now also supports closing a dialog with a mouse\n     click without a close button.\n   * The new widget library now has rudimentary support for wrapping long\n     texts.\n   * Added experimental support to show the new style dialogs when units\n     talk in game. (Only available when starting with --new-widgets.)\n   * Increased/fixed responsiveness of color cursors on \"The End\" screen\n     when color cursors are enabled.\n * WML engine:\n   * Added \"border\" parameter to [terrain_mask] that overlays on the border\n     in addition to the playable map area. The used mask must have the same\n     border_size as the map (i.e. currently 1), else this will be ignored.\n   * Restore x1, y1, x2, and y2 after events fired from events.\n   * WML variable expansion can be used inside story [part] tags\n     (feature request #10398).\n   * When fire_event=yes, [kill] now also fires the 'last breath' event.\n   * SingleUnitFilters can now check for empty keys such as role=$null\n * Miscellaneous and bug fixes:\n   * Fixed addon update version logic (patch #1110).\n   * Fixed a flaw which caused sound sources to be forgotten after saving\n     and loading a game (bug #11495).\n   * Fixed crashes on move_unit_fake with unit types which cannot move\n     over terrains that are part of the path.\n   * Generic units get unique non-underlying ids again (bug #12558).\n   * Fixed a bug where \"name=\" attribute was not recognized in SUF\n\nVersion 1.5.5:\n * Campaigns:\n   * A new experimental gold carryover system is now supported in Heir to the\n     Throne, Sceptre of Fire and Descent into Darkness: the choice appears in\n     the difficulty level menu when starting the campaign.\n   * Son of the Black Eye:\n     * New portraits for Al'Brock, Flar'Tar and Howgarth.\n   * Two Brothers:\n     * Rewrite to include story screens by Stefan\n     * Improved scenario texts and dialogs\n * Editor2:\n   * Added editor-specific settings dialog\n   * Lighting setting similar to that of old editor, with presets from a\n     (hardcoded) list of time_of_days. Can change the settings and see the\n     effects without having to close the settings dialog. The preferences\n     are shared with the old editor (FR #11408 / Debian bug #458305).\n   * Auto update transitions option is stored in the preferences\n   * Removed map flipping\n   * Added clipboard flipping\n   * Command line: added \"--load FILE\" support to \"-e\" (FR #12299)\n * Graphics:\n   * New or updated unit frames: Walking Corpse swimmer, Soulless swimmer\n * Music and sound effects:\n   * New music track \"Heroes Rite\" by Doug Kaufman.\n   * New music track \"The Deep Path\" by Gianmarco Leone.\n * Language and i18n:\n   * Fixed a problem under Windows where the locales detection didn't\n     work; all languages are now enabled for Windows.\n   * Made it possible to translate ability names according to the\n     unit's gender (feature #11982). Not yet activated for unit type.\n   * updated translations: Czech, Finnish, French, Galician, German, Hungarian,\n     Lithuanian, Polish, Slovak, Turkish, Valencian\n * Map editor and terrains:\n   * Removed wesnoth-editor. Use editor2.\n   * Added a new \"Snow Mountains\" terrain (graphics still incomplete).\n * Multiplayer:\n   * Revised maps: Fallenstar Lake, 2p Hamlets, Hornshark Island, The Freelands,\n     Castle Hopping Isle.\n   * In default era, all leaders with 4 MP now receive the quick trait.\n * Units:\n   * Balancing changes:\n     * Made units with the healthy trait take a quarter less damage from\n       poison instead of half.\n     * Increased the 'smallfly' movement cost over fungus from 1 to 2.\n     * Changed the race of the Wolf Rider line from goblin to wolf.\n     * Added the traits weak, slow and dim and made the goblin race use them.\n     * Made the goblin race get 1 random trait instead of 2.\n     * Increased the movement of the Goblin Spearman line from 4 to 5.\n     * Increased the melee attack of the Goblin Spearman from 4-3 to 6-3.\n     * Increased the melee attack of the Goblin Impaler from 7-3 to 8-3.\n     * Increased the melee attack of the Goblin Rouser from 6-3 to 7-3.\n * User interface:\n   * Various minor cleanups and refactoring of the new widgets.\n   * Added a new scroll label widget.\n   * Allowed usage of wildcards (? and *) in friend and ignore lists.\n   * Allowed usage of lists in /friend, /ignore and /remove commands. (feature\n     #7492)\n   * Added a new image widget.\n   * Added a feature to draw hex coordinates and/or terrain code on every hex.\n     Available in-game via :sc and :tc commands, and in editor2's menu.\n   * Move the attack indicator on it's own layer and show at a higher layer so\n     its view won't be obscured by the terrain (bug #12401).\n   * Basic support for keyboard controls in main menu (arrow keys + enter)\n     (fr #3835)\n * WML engine:\n   * New command, [store_time_of_day], makes it possible to store ToD info\n     in a WML array/container.\n   * Changed underlying_id in unit to be unique number\n   * New command, [end_turn], ends the current side's turn.\n   * Add scale_background key to [story] (bug #10738)\n * AI\n   * Made it possible to use formula AI for recruiting when using default ai\n   * Changed defaults for AI parameters: village_value, villages_per_scout,\n     protect_leader, protect_leader_radius, leader_value\n   * Added new ai paramater number_of_possible_recruits_to_force_recruit which\n     tells AI when it must move leader back to keep.\n   * Improved leader movement and protection.\n   * Improved village grabbing and protection.\n   * Made 'caution' to control how dangerous place AI tries to attack\n * Miscellaneous and bug fixes:\n   * The config dir can now be changed when defining APPDATA_USERDATA at\n     compile-time to default to a dir under %APPDATA% on windows.\n     When specifying --config-dir on the command line %APPDATA% is used even\n     without that define.\n   * Fixed the list of the unit's attacks getting cut off in the right panel\n     (bug #12297).\n   * Fixed wesnoth not to try to add duplicate ids to unit_map\n   * Fixed a bug where the old unit type's abilities and attacks weren't\n     completely cleared during level-up\n   * Improved performance of 'recall' user action when disallow_recall\n     is set to true in scenarios.\n   * Various code cleanups\n   * Removed the requirement for files in ~campaigns to have a corresponding\n     directory.\n\nVersion 1.5.4:\n * Editor2:\n   * Rotate clipboard 60 deg. cw/ccw, ctrl+r/ctrl+shift+r respectively\n     (cmd instead of ctrl on Mac). Active in the \"paste\" mode.\n   * A drag operation only creates one undo action instead of many.\n   * Partial undo feature to keep the old behavior of drag undo available\n   * More visible selection - draw a special overlay on every selected hex.\n   * Allow different map generators to be used in map -> generate map\n     (FR #3950)\n   * Reverse the preprocessor logic in src/ to default to building editor2,\n     with a DISABLE_EDITOR2 define to build without it.\n * Graphics:\n   * New portraits: Silver Mage (male), Mage of Light (male).\n   * fixed the parts of the undead flags which were not TC'd\n * Language and i18n:\n   * updated translations: Chinese (Traditional), Czech, French, Galician,\n     German, Hungarian, Italian, Lithuanian, Polish\n * Music and sound effects:\n   * Added a new music track \"The Dangerous Symphony\" by Gianmarco Leone.\n * Units:\n   * Balancing changes:\n     * Made units with the healthy trait take half the damage from poison.\n     * Decreased the ranged attack of the Bowman from 7-3 to 6-3.\n     * Added the marksman special to the ranged attack of the Orcish Assassin\n       line.\n     * Decreased the melee attack of the Orcish Assassin from 8-1 to 7-1.\n     * Decreased the melee attack of the Orcish Slayer from 10-2 to 9-2.\n     * Increased the cost of the Walking Corpse from 7 to 8.\n     * Increased the cost of the Soulless from 11 to 13.\n * User interface:\n   * Made the \"slowed\", \"poisoned\" and \"stone\" floating label translatable\n     according to the affected unit's gender. (bug/feature #11957\n   * Parts of the new widget libary are deemed stable enough for testing and\n     have been started to replace the old code.\n * WML engine:\n   * fix bug #11988: Events with multiple types are multiplied\n   * added a new image-path function: CROP(x,y,w,h) - it extracts a slice\n     of a graphic with the requested dimensions. (feature #12067)\n   * allow variable substitution in event names\n   * allow spaces or underscores to be used interchangeably in event names\n   * In event attack filters ([filter_attack] and [filter_second_attack]),\n     weapon= attribute has been deprecated in favour of AnimationWML-like\n     attack filtering, which allows to filter damage type, range and weapon\n     specials. Backwards compatibility with weapon= will be removed in 1.5.5.\n     * As a consequence, [fire_event] has had [primary_unit] weapon= and\n       [secondary_unit] weapon= deprecated too; use [primary_attack] and\n       [secondary_attack] blocks instead.\n   * In events triggered by unit fighting ('attack' et al), the weapon info\n     is automatically stored in the 'weapon' and 'second_weapon' WML\n     variables; this works just like 'unit' and 'second_unit'.\n   * fix various minor bugs with attack filtering\n   * Fixed linewrapping with not to wrap markups (bug #11946 and bug #11945)\n   * fix bug where max_experience of stored units was not the true max when\n     playing with under 100% exp. settings\n   * Added support for labels and items that are hiden by fog (patch #1101)\n   * Made it possible to use another color palette as second parameter in\n     RC(A=B) image path function by using '=' instead of '>' as parameter\n     separator; this allows simple color replacement that RC(A>B) did not\n     allow.\n   * prevent some negative/nonsense values in direct WML unit modifications\n   * Renamed the advanceto key in [unit_type] to advances_to in order to be\n     consistent with its own and [unit]'s internals.\n   * implemented FR #11817: Allow [item]s to be visible only to specified teams\n     (patch #1100 by Broodkiller)\n * Networking\n   * removed null termination character from end of packet send by wesnoth\n * Miscellaneous and bug fixes:\n   * Applied changes suggested by bug #11676 to wesnoth-optipng.\n   * Changed side_drop handling not to automaticaly assign AI for side if\n     leader is dead (bug #12186)\n   * Changed the behavior of [modify_turns] value= to default to -1\n     (no turn limit) instead of 50 if an invalid string is passed instead\n     of a number.\n   * Fixed [modify_turns] causing weird behavior when used in prestart\n     or start events to change current turn.\n   * Made config cache code available to eveverywhere in wesnoth\n   * Fixed [modify_turns] giving the unwanted side-effect of changing\n     turn limit when only current= modifier was used.\n   * Fixed OOS bug when giving control and having move in undo stack.\n   * Fixed [modify_turns] not updating $turn_number when current= was\n     used.\n   * Fixed crash when ai moves units next to level 0 hiden unit (bug #12252)\n   * Fixed loading ai parameters. MP side defination now overwrites\n     era values (bug #12171)\n   * Fixed MP saves to transfer correct completion state to remote clients\n     when loadin game (bug #10385)\n   * Fixed can move enemy units (causing OOS) (bug #11205)\n   * Fixed a few inconsistencies related to scenarios which are not at\n     turn 1 at the beginning (namely start autosave detection and initial\n     triggering of a matching \"turn *\" event).\n   * Removed the compiler work arounds for MSVC6.\n   * Added some more compiler workarounds for MSVC9.\n   * Removed the --small-gui build option, starting Wesnoth with the\n     --smallgui parameter achieves the same\n   * new --nomusic commandline option to disable music for the session\n\nVersion 1.5.3:\n * Campaigns\n   * Descent into Darkness\n     * Changed how the beginning of the scenario 'Descent into Darkness' works.\n     * Changed how the ice breakage works in 'Beginning of the Revenge'.\n     * Many minor fixes and tweaks to various scenarios.\n     * New graphics for Apprentice Necromancer and Dark Mage.\n     * New indoor maps for 'A Small Favor' parts 2 and 3.\n   * Sceptre of Fire\n     * Fixed a bug that allowed one to finish 'The Dragon' by defeating both\n       enemy leaders.\n     * Fixed a coordinate bug that caused 'Hills of the Shorbear Clan' to not\n       end when it was supposed to.\n   * Son of the Black Eye\n     * Fixed the shamans not getting removed from the recall list when they\n       should.\n     * New portraits for Inarix, Jetto and the old orcish shaman.\n     * Reworked the scenarios 'Civil War' and 'Coward'.\n * Editor2\n   * Future replacement for wesnoth_editor, launched from title menu or via\n     wesnoth -e. Most old editor's features are duplicated, with some\n     improvements.\n   * Built by default in scons, cmake and autotools, if building manually\n     see RELEASE_NOTES.\n   * See http://www.wesnoth.org/wiki/Editor2 for details and known issues.\n * Language and i18n:\n   * updated fonts: DejaVuSans 2.26\n   * updated translations: Chinese (Traditional), Danish, Finnish, Galician,\n     German, Italian, Latvian, Lithuanian, Polish, Russian, Slovak, Spanish\n * Multiplayer:\n   * Removed the \"Great War\" MP era\n   * Revised maps: Caves of the Basilisk, Den of Onis, Fallenstar Lake,\n     Silverhead Crossing, Sullas Ruins, The Freelands, Alirok Marsh, Island of\n     the Horatii, 3p Morituri, Blue Water Province, 4p Hamlets, Lagoon,\n     4p Morituri, The Wilderlands, Waterloo Sunset\n * Music and sound effects:\n   * Engine automatically plays special music on defeat or victory; default\n     lists from which an option is randomly chosen at runtime are provided as\n     the default_victory_music and default_defeat_music attributes in\n     [game_config] node; this may be overriden per-scenario using the\n     victory_music and/or defeat_music attributes on its code - it can also\n     be overriden in a [endlevel] block by providing a music= attribute with\n     the desired list (feature request #11203).\n * Python AI:\n   * Added ai_init.py and ai_launcher.py to make it easier to customize\n     AI environment and startup. Both are used by the new embedded python\n     implementation.\n   * reversed builtin is now allowed. This allows for random.shuffle to be\n     called.\n * Terrains:\n   * Added a new attribute, hidden=<boolean> (default: no), to [terrain],\n     which prevents the map editor from offering the user a particular\n     tile type for drawing.\n   * Made user-made content graphic rules be parsed before core ones, so\n     custom tiles look the same in-game as they do in the editor.\n   * Set hidden=yes on main terrain archetypes (Gt, Qt, At, Xt).\n * User interface:\n   * Added an experimental add-ons update interface.\n   * Added initial drag&drop support for button widgets\n   * Fixed a broken translation which gave all females the prefix female^ on\n     alignment description when using the \"C\" locale or any translation that\n     is missing that string.\n   * Make the load and recruit hotkey use the ctrl instead of cmd key on non\n     Mac systems\n * Campaign server:\n   * Made campaign server encode CRs in old content in first startup\n * WML engine:\n   * Fixed the filtering for x,y=recall,recall in [store_unit] and [kill] tags\n   * Fixed the bug where any changes to the primary unit in the \"advance\"\n     event were totally ignored\n   * Added some convenience macros for units: {TRANSFORM_UNIT}, etc.\n   * Extended [modify_turns] to allow scenario designers to change the\n     current-turn number dynamically with current=<number>.\n   * It is now possible to use [time_area] to add or remove new local ToD\n     areas and their schedules during scenario events. Removal requires to\n     associate an id. to [time_area]s, or it won't work. Uses Standard\n     Location Filter to match locations.\n * Miscellaneous and bug fixes:\n   * Add some gcc-4.3.0 compilation fixes (patch #1083)\n   * Added a MSVC 9 project file and some fixes for that compiler (patch #1093)\n   * Add-on uploads by default will skip all dot-files (.*), which are hidden\n     files or directories in UNIX filesystems.\n   * Downloaded add-ons' meta information is stored in <add-on dir>/_info.cfg\n     rather than <add-on dir>/info.cfg now; both the in-game client and the\n     wesnoth_addon_manager Python script have been updated for this.\n   * Fixed bug #12094: Event \"last breath\" cannot be triggered for attackers\n   * Fixed [filter_attack] and [filter_second_attack] not being effective\n     in die/last_breath events.\n   * Fixed FULL_HEAL WML macro not working properly.\n   * Fixed NR Krash inexplicably disappears from recall list (bug: #11612)\n   * Fixed segmentation fault when wml modified and killed attacker and\n     defender in a battle\n   * Fixed Wesnoth crashing after an attacker/defender_hits/misses event if\n     the WML kills one unit and replaces/unstores the other\n\nVersion 1.5.2:\n * campaigns:\n   * Son of the Black Eye\n     * new set of portrait art\n     * in 'Black Flag', there's now several galleons transporting enemies to the\n       beach, and no watch towers\n     * in 'Saving Inarix', you can now more precisely control when you destroy\n       the bridge\n     * many assorted small tweaks to most scenarios\n     * when leading the Great Horde, all units now require 1 less upkeep\n   * Tutorial\n     * Fixed players side name to same as leaders name (bug: #10114)\n * formula AI:\n   * added variant_iterator to iterate over variant elements\n   * modified choose, filter, find and map functions to use variant_iterator,\n     so they work correctly with a variant_map type\n   * new formula AI functions: contains_string, find_shroud, movement_cost,\n     tolist, tomap, is_unowned_village, max_possible_damage_with_retaliation\n   * added possibility to fallback to human player\n   * new ai object members: side, my_recruits, recruits_of_side, time_of_day,\n     units_of_side, villages_of_side\n   * moved most of formula AI releated code from ai.cpp to formula_ai.cpp\n   * new unit_type_callable and attack_type_callable classes\n   * new unit_callable members: undead, attacks, abilities, traits\n   * various fixes and improvements to formula functions\n   * added new formula test scenario\n * language and i18n:\n   * new translation: Latvian\n   * updated translations: Arabic, Catalan, Chinese (Traditional), Czech,\n     Finnish, French, German, Greek, Italian, Lithuanian, Russian, Serbian,\n     Slovak\n   * languages in the language selection are now sorted on name instead of\n     code.\n   * unit alignment can be displayed in its gender-specific form in languages\n     which require/support it (bug #11956)\n * multiplayer:\n   * Added support for multiple sides per client in MP start.\n   * Added support for reserving slots when reloading game.\n   * Fixed timer end warning not to play in opponents turn. (bug: #11517)\n   * Teams are now translated locally for all clients. (bug: #3676)\n   * Fix an old pathfinding bug causing an inconsistency between the path used\n     and the one showed to others players. It was only a visual error, but\n     sometimes caused to see a enemy pass through your invisible units (or in\n     their ZoC). Now all players see the same real path. Also valid for replay.\n   * When joining a game, display your assigned starting position and the new\n     team coloring also shows your assigned color.\n * units:\n   * balancing changes:\n     * increased the ranged attack of the Bowman from 6-3 to 7-3\n     * decreased the melee attack of the Bowman from 6-2 to 4-2\n     * decreased the cost of the Bowman from 15 to 14\n     * increased the cold resistance of the Fencer line from 0% to 10%\n     * decreased the 'orcishfoot' movement cost over frozen from 3 to 2\n * user interface:\n   * Rewrote the textbox history saving of the new widget library. This rewrite\n     is incompatible with the old version, but since the library is still in\n     development, no compatibility layer has been added.\n   * Added gui to choose where server binary is\n   * Added type-a-head search to file chooser dialog\n   * Add a column for traits in the recall dialog.\n   * Add a filter textbox in the recall dialog.\n   * When filtering units, clear the unit preview when none matches.\n   * Delete/dismiss the last item of a dialog stop closing it\n   * Tooltip texts now support blank lines and special markup characters\n   * Add-on publish/delete options have now special icons and colors.\n   * Display the name of the add-on in the \"Add-on installed\" dialog\n   * The unknown unit icon used in status table is now team colored\n   * In multiplayer lobby, all unit's images are now team colored.\n   * In help, with debug mode, broken hyperlinks are now visible in red and\n     when clicked open a error message showing the bad topic reference.\n   * new debug command \":choose_level\" or \":cl\" to directly go to a scenario.\n   * new debug command feature, \":next_level Some_Id\" to directly go to\n     scenario having id=Some_Id.\n   * 'Create Unit' dialog pre-select the last created unit type\n   * Fix incorrect downloaded add-on when using filter\n   * Fix missing last publish/delete add-on option\n   * Fix few broken hyperlinks in help (and some were working in english only)\n   * Fix a regression about not working 'unit description' with hide_help=yes\n * Python AI:\n   * get_variable now allows a default value to be passed to the call. If the\n     key is not found, the default value is returned. This is fully backward\n     compatible.\n   * set_variable exception handling has been fixed to return an exception in\n     the current call frame.\n   * Many wesnoth module functions now release the python GIL when it is both\n     safe to do so and the function call takes long enough where it also\n     makes sense. More changes coming.\n   * A new global boolean variable, 'restricted' is now set before the user AI\n     script is invoked. This variable indicates if it is running inside of\n     a restricted python environment or not.\n   * A new class of unrestricted scripts are now listed. Previously only\n     scripts which have #!WPY at the top are allowed. If only allow safe python\n     scripts is disabled, scripts which start with #!UNSAFE_WPY are also shown\n     to users. This allows AI authors to specifically target either a\n     restricted or unrestricted environment.\n   * New \"system\" class attributes are exposed in the restricted environment.\n     These include; '__call__', '__copy__', '__deepcopy__', '__name__',\n     '__repr__' and '__str__', in addition to the old __init__ method.\n   * ValueError can now be caught.\n   * Added a new AI, bruteforce_unsafe.py, which uses both function caching\n     (memoize pattern) and psyco to speed execution. It uses the new UNSAFE_WPY\n     tag and is not selectable unless \"Only Run Safe Python AIs\" is disabled.\n     This version of bruteforce runs 1x-14x FASTER than the stock python AI;\n     *heavily* dependent on the map and number of units involved.\n   * Per the python API documentation, many functions now return boolean values\n     rather than ints. Minor modernization effort to use new C-API macros\n     provided via python 2.4+. This change is fully backward compatible for\n     scripts which properly treat the return value as a boolean.\n   * Initial wail directory checkin. It's only a teaser at this point. ;)\n   * bruteforce_wail.py has been added - showing how easy it is to move a\n     well written bot from the wesnoth module to the wail module.\n * WML engine:\n   * When examining stored units, now the attacks, max_hitpoints, max_moves,\n     and max_experience are the \"real\" values and can also be modified.\n   * new attribute count= for [have_unit] and [have_location] conditionals\n   * new mode \"insert\" for [set_variables]\n   * max_attacks in [unit] now also works for values bigger than 1\n   * the \"zoc\" key works for [unit_type] too, and for [unit] accepts other\n     boolean values than 1 and 0 (bug #11889).\n   * new effect apply_to=type to transform the unit to a different type\n   * remove redundant unit.value (use unit.cost instead)\n   * preserve unit.role in next scenario (bugs #3697, #4124, and #11329)\n   * fix various problems with [set_variables] (bugs #11980 and #11981)\n   * Add a new key \"image\" in [faction], used as icon in faction selection.\n     The old hack consisting to add the image's url in the faction's name is\n     still supported but doesn't have the new team coloring.\n * miscellaneous and bug fixes:\n   * Fixed droiding not to make wesnoth think player is observer (bug: #9675)\n   * Fixed statitics not add turn data from previus scenarios (bug: #11719)\n   * Fixed manager to initialize before gamestate in playcontroller (bug: 11935)\n   * Removed persistance from team configuration (bug: #10916)\n   * Fixed text parser again strip cr from configs. Added CR and 254 to be\n     escaped in campaign upload. All UMC has to be reuploaded to server\n   * Made automaticaly generated macro reference easier to naviagate and link to\n     (patch: #1076)\n   * Allow [unit_type] num_traits=0 to override race's num_traits.\n   * Small optimization of scrolling and things out of their hexes.\n   * Added a command-line parameters \"--smallgui\" to allow lower resolutions.\n   * Missing images are now replaced by a \"men-at-work\" sign (in debug-mode)\n   * Better pathfinding: now always prefer straight path and is also more\n     stable between little mouse's moves.\n   * Added the pango cairo dependency\n   * Various code cleanups\n\nVersion 1.5.1:\n * campaigns:\n   * Descent into Darkness:\n     * fixed a crash in 'Return to Parthyn'\n   * Eastern Invasion:\n     * fixed a crash in 'Xenophobia'\n   * Heir to the Throne:\n     * allowed Kalenz to take the flaming sword\n   * The Rise of Wesnoth:\n     * fixed the Wesfolk Outcast line's distract ability not working\n     * increased the gold you get from not letting Lady Outlaw join you in the\n       second scenario\n     * removed the outlaw princess and outlaw queen and instead made Jessica\n       only have one unit line\n   * Son of the Black Eye:\n     * fixed a crash in 'Dwarvish Stand'\n   * An Orcish Incursion\n     * new storyline and dialogues to scenario 1\n     * new storyline and dialogues to scenario 2\n     * made the AI do mixed recruits in scenario 2\n     * new storyline and dialogues to scenario 3\n     * added a form of gold bonus to scenario 3\n     * new storyline to scenario 4\n   * Under the Burning Suns\n     * fixed event spawning elves in outer villages\n * game engine:\n   * poison no longer prevents resting\n * graphics:\n   * new portraits: Red Mages, Dark Adepts, White Mages\n   * new ford graphics from Syntax_Error\n   * added a sea serpent portrait by Pic\n   * various improvements to the new widget library\n * language and i18n:\n   * new translations: Arabic, Friulian, Macedonian\n   * updated translations: Chinese, Czech, Danish, Dutch, Estonian, Finnish,\n     French, German, Hungarian, Italian, Japanese, Polish, Russian, Serbian,\n     Slovak, Spanish, Turkish\n   * langcode change: moved gl_ES to gl\n   * the new widget library supports disabling of rows in a listbox, this is\n     used to deactivate not available languages. This feature is experimental\n     and only available when started with --new-widgets (bug #11212)\n   * fonts: DejaVuSans 2.25\n   * manual: updated screenshots to match UI rearrangements\n * multiplayer:\n   * revised maps: Den of Onis, Sablestone Delta, The Freelands\n   * raised default per-Turn MP timer bonus to 60 seconds\n * Python AI:\n   * Implemented a function which detects if a location is on the map border.\n   * Implemented a function which gives the game's gold parameters.\n   * Extended safe.py environment to expand AI's language capabilities; including:\n     collections, functools, Queue, sets, time, and the upcoming wail module.\n     Use of chr, hash, lambda, ord, and super (new style classes) are now allowed\n     Control of safe_exec can now be toggled from the wesnoth binary.\n   * Added new advanced option, \"Only Run Safe Python AIs\". When disabled, the safe_exec\n     environment is disabled for all running AIs. Use caution when disabling this option!\n   * Try/Except clauses are now allowed. A subset of builtin exceptions are available.\n     ArithmeticError, AssertionError, AttributeError, BaseException,\n     StopIteration, IndexError, KeyError, NameError, RuntimeError,\n     RuntimeWarning, and ZeroDivisionError\n   * Exceptions can now be raised by user code.\n * terrains:\n   * Fixed city village not being alias of the village terrain type; this was\n     causing a duplicate \"Village\" terrain being displayed in the defense ratios\n     section of unit descriptions in game help\n   * Reorganisation of the terrain macros including more consistent image\n     naming. The old macros are kept for now for compatibility.\n   * New terrain: cave path\n   * Fixed a ToD coloring bug preventing to use red channel below 8 (on 255)\n   * Fixed some bugs with location-specific terrain-graphic rules\n * units:\n   * balancing changes:\n     * changed the healthy trait to give 1HP and 1HP per level instead of 2HP\n     * decreased the ranged attack of the Mage of Light from 15-3 to 12-3\n     * decreased the melee attack of the Merman Warrior from 8-4 to 10-3\n * user interface:\n   * Add a hotkey \"Custom Command\" and a command \"custom <command>\" to assign\n     a command to this hotkey. Also accept sequence of commands (\"this; that\").\n   * Add a command \"alias <name>[=<command>]\". To set or show shorter alias to\n     a command. Also accept incomplete command and pass parameters (ex: \"alias\n     hp=unit hitpoints\", then use \"hp 100\"). Saved between sessions.\n   * Add a filter text box for the \"Create Unit\" dialog\n   * Various improvements of filter text box, now words separated by space give\n     a filter doing an \"and\" combination of them.\n   * Added \"Host Network Game\" option back to multiplayer menu\n   * Fixed chatlog not to so lobby joins if set in preferences\n   * Also highlight the fog under the mouse (not just the terrain)\n   * debug command \"unit\" now uses equal sign again (\"unit hitpoints=100\")\n   * Add-ons download dialog:\n     * The class of each add-on is displayed in the downloads dialog\n     * It is possible to filter what add-ons are displayed by text (matching\n       against any of the information fields)\n   * Advanced prefences allows user to toggle allowing potentially unsafe python AIs\n * WML engine:\n   * titlescreen is now randomly loaded\n   * removeitem now can take an image key so that overlays can be removed one at\n     a time. (patch #1067)\n   * fix [teleport] capturing villages with the wrong side (bug #11683)\n   * SideWML recruit= no longer locks the faction except if explicitely wanted\n     with the new key faction_from_recruit=yes\n   * add \"default_base\" parameter to overlay terrains, which specifies the\n     base terrain the editor draws by default.\n   * New [heal_unit] action.\n   * Make it possible to change base and overlay separately in [terrain] and\n    [terrain_mask] actions.\n   * rename the \"hides\" status as \"hidden\"\n   * add a new image path function : GS to greyscale the image\n   * [store_map_dimensions] also stores map border size now.\n   * renamed old [attacks] special to [swarm]\n   * created [attacks] special with expected behaviour and usage similar to\n     [damage] special\n   * add a warning about future end of support for implicit prefix \"units/\" in\n     images url.\n   * add a switch (delayed_variable_substitution, defaults to 'yes') allowing to\n     choose wether variables in [event] spawned inside an [event] are substituted at\n     spawn or execution time. Fixes bug #11843 introduced by a change in this behavior.\n * wesnothd\n   * added selective ping support - saves server bandwidth\n   * updated pings to use new simple_wml\n   * pings now sent using raw method to they only get compressed once for batch\n   * added expiration time to bans\n   * added restart command to server that does graceful restart\n   * added option to do graceful shut down for server\n * campaignd\n   * made campaign server use gzip compression for networking\n   * detect client connection mode and use same for sending data\n   * made campaign server use gzip for storing addons\n   * added configuration option to choose gzip compression level\n   * made it possible to store content authors' e-mail addresses\n     for administrative purposes\n   * authors can specify the type of their content ('type'\n     field in .pbl files)\n * miscellaneous and bug fixes:\n   * Client now sends 'selective_ping=\"1\"' during login\n   * fixed parser bug that prevented loading binary data strings\n   * fixed issues with campaign info in non-compressed saved games\n     (bug #11386)\n   * Implemented the option to use the mouse selection clipboard in X11\n     the new widget library also uses it.\n   * fixed multiplayer_connect to handle leave_game command from server\n   * improved reloading of game configs after installing or removing addons\n   * fixed threading bug in upload_logs\n   * dissallow_observers is on as default if side has controller=null\n   * Fixed null-pointer reference in network code\n   * Made networking code check system buffer size and limit send length\n   * Made wesnoth start wesnothd for lan games\n   * Implemented send_file to reduce memory usage when sending files\n   * Implemented send_file using sendfile() system call\n   * Fixed tokenizer not to strip CR from quoted string because it would\n     destroy images transfered over network\n   * Added possibility to use per fight EV statistics proposed by maboul\n   * Added smoother FPS limit to server\n   * Fixed a memory leak in networking code\n   * Removed bug introduced in 1.5.0 that allowed use of :debug commands during\n     network play\n   * added some includes to fix compilation problems with Sun Studio 12\n     (patch #1066)\n   * Fixed unstoned units not having their attacks at their first turn\n   * Prevent steadfast ability from lowering resistance if already over 50%\n   * <user data dir>/data/campaigns and <user data dir>/data/units\n     directories are npw created on first run\n   * added command line parameter --config-path, which prints the path to the\n     config directory and exits\n   * fix a bug with variable substitution time of [event]-within-[event]\n   * fix a crash with [ai] in [modify_side]\n   * prevent infinite recursion when [kill] fire_event=yes is used to kill\n     primary_unit on its own 'die' event (Gna! bug #11207 / Debian bug #448193\n   * Optimize titlescreen and credits rendering.\n   * Give its name to the \"Fog clearer\" (fixing blank in \"Create Unit\" dialog)\n   * fix bug with filter + delete savegame (Gna! bug #11779)\n   * Optimize cache validation and first display initialization.\n   * corrected setlocale() usage on win32\n   * Fixed [binary_path] declarations not being recognized inside the MULTIPLAYER\n     #ifdef for eras\n   * Silence the warning \"error display: could not open image ''\"\n   * Optimize fullscreen toggle and windows resizing.\n   * Fix various rendering bugs in 8bpp display mode.\n   * fix bug #11630 (preventing redo and rename during opponent's turn).\n   * fix a regression about missing default portrait in dialogs.\n   * fix false move-cursor around enemies after some dialog events.\n   * fix some unit decapitation when placed on a keep\n   * wesnoth_addon_client now uses gzip compression and can receive (untested)\n     zlib compressed data. Tons of various additional changes required to\n     make this work. Tons of additional core wml parsing bugs have been\n     fixed by various others and my self. -oracle\n     Ran pylint against code - some results applied to code.\n   * made the image cache LRU, with a high limit of 600 images per cache\n\nVersion 1.5.0:\n * campaigns:\n   * synchronize all campaign ids with their directory name\n   * greatly updated the scenario music playlists in The Rise of Wesnoth,\n     Descent into Darkness and The South Guard\n   * The Hammer of Thursagan:\n     * instead of leadership, the dwarvish loremaster unit line now has a\n       similar but unique inspire ability\n   * Under the Burning Suns:\n     * Minor cosmetic fixes\n   * Northern Rebirth:\n     * Major WML cleanup and optimisation\n     * New respawn mechanism for white mages\n   * Liberty:\n     * Fix graphic artifact bug #11438\n * Formula AI:\n   * added support for Formula AI language, more info available at:\n     http://www.wesnoth.org/wiki/FormulaAI\n * graphics:\n   * Fixed broken TC on transport-galleon and drake walking corpse graphics\n   * New portraits: Elvish Sorceress\n   * added a light shadow on the bar of the loading screen\n   * new dungeon wall terrain\n   * new city-themed village variation\n   * new progressive parameter for animations: submerge\n   * new progressive parameter for animations: x and y\n   * image_diagonal now also works with normal [frame]\n   * sub-frames now obey terrain height\n   * selecting a poisoned unit now does the selection anim properly\n   * convert the render engine to a z-ordered based engine, this allows to\n     have multiple layers and the calculation and rendering are separated\n     which means things can be drawn in front of units.\n   * removed the now unused tilestack based drawing.\n   * added a new experimental gui engine available when starting with\n     --new-widgets. The engine doesn't do much yet.\n * map editor:\n   * Fixed not working \"Update transition\" and made \"Delay transition update\"\n     directly trigger an update when toggled off.\n   * add-ons can now make their custom terrains available in the editor\n   * Draw base terrain under an overlay when ALT is pressed\n   * Implemented adjustable lighting levels (time of day)\n     (debian bug #458305 / gna bug #11408)\n * game engine:\n   * Implemented lazy loading for unit_types\n * language and i18n:\n   * new translation: Croatian\n   * updated translations: Chinese, Chinese (Traditional), Czech, Danish,\n     Dutch, Finnish, French, Galician, German, Greek, Hungarian, Italian,\n     Lithuanian, Japanese, Polish, Russian, Serbian, Slovak, Spanish, Swedish,\n     Turkish, Valencian\n   * updated fonts: DejaVuSans 2.24\n * multiplayer:\n   * added maps: Howling Ghost Badlands\n   * revised maps: Sablestone Delta, Sullas Ruins,\n     Silverhead Crossing, The Freelands, The Manzivan Traps\n   * removed maps: Amohsad Caldera\n   * removed the Wesbowl scenario\n   * added the \"A New Land\" scenario by Bob_the_Mighty\n * units:\n   * balancing changes:\n     * decreased the cost of the Giant Scorpion from 32 to 22\n     * increased the HP of the Drake Flare from 54 to 55\n * user interface:\n   * placement of the counters and displays of the top panel optimized\n   * Refactored the in-game console and added help function (patch #1036)\n   * Refactored chat /commands and added help.  Made :commands a superset\n     of chat /commands\n   * optional cancelling of unit orders in load-game dialog (patch #1024)\n   * fixed sub-optimal multi-turn pathfinding which avoided ZoC too much\n   * smarter pathfinding: if same MP cost, prefer terrains with better defense\n     and empty hexes (less frequent multi-turn moves blocked by a friend)\n   * New full map screenshot feature (no default hotkey).\n   * Screenshots show a pop-up with the url and size of the file created.\n   * When trying to define an already used hotkey, now tell where it's used.\n   * Load-game dialog displays a campaign's translated name rather than its\n     internal id now\n   * the hardcoded resolution list now also includes tiny gui and small gui\n     resolutions if compiled with those switches\n   * more comprehensive terrain type naming to avoid confusing displays such\n     as 'Road (Grassland)' or 'Impassable mountain (Cavewall)'\n     This also applies to the WML keys used in the stats:\n     - grassland becomes flat\n     - tundra becomes frozen\n     - canyon becomes unwalkable\n     - cavewall becomes impassable\n   * Added new commandline options (patch #1031)\n     -s or --server [host] connect to host specified or to the first server\n     in preferences\n     -c or --campaign skip menu and show campaign selection menu\n     --with-replay replays the file loaded with --load option.\n * WML engine:\n   * new tag [insert_tag] to place dynamic WML content\n   * Extended most C++ checks for boolean WML attributes to use\n     utils::string_bool() rather than true/false or yes/no string comparisons;\n     as a result, they should accept true non-zero values, \"on\", \"yes\" or \"true\"\n     strings; and \"0\", \"off\", \"no\" or \"false\" are considered false values.\n   * A variable string's length can now be obtained with [set_variable]\n     string_length=\n   * Implemented [variable] boolean_not_equals= for simmetry with [variable]\n     boolean_equals=\n   * Implemented [store_map_dimensions], which saves the map size in a variable\n     with values 'height' and 'width'\n   * [modify_side] can set AI parameters now, using the [ai] syntax implemented\n     for [side] declarations (patch #984)\n   * allow 100% defense instead of cutting off at 99%, if out of range set to\n     100% instead of 50 (debian bug #467253)\n   * The UnitWML [unit] tag is changed to [unit_type].  [unit] will still\n     be accepted for backwards compatibility until 1.5.3.  wmllint can safely\n     do this up-conversion.\n   * In SingleUnitWML and SideWML, the description= attribute is now id=.\n     description= will still be accepted for backwards compatibility.\n     wmllint can safely do this up-conversion.\n   * In SingleUnitWML and SideWML, the user_description= attribute is now\n     name=. user_description= will still be accepted for backwards\n     compatibility.  wmllint can safely do this up-conversion.\n   * In SingleUnitWML and SideWML, the generate_description= attribute is\n     now generate_name=. generate_description= will still be accepted for\n     backwards compatibility. wmllint can safely do this up-conversion.\n   * In UnitWML, the unit_description= attribute is now description=.\n     unit_description= will still be accepted for backwards\n     compatibility.  wmllint can safely do this up-conversion.\n   * In ThemeWML, the unit_description= attribute is now unit_name=.\n     unit_description= will still be accepted for backwards compatibility.\n     wmllint can safely do this up-conversion.\n   * In AnimationWML, the [unit_filter] tag is now [filter], the\n     [secondary_unit_filter] tag is now [filter_second], and the\n     [attack_filter] tag is now [filter_attack], and the\n     [secondary_attack_filter] tag is now [filter_second_attack]\n   * In EventWML, the [special_filter] tag is now [filter_attack] and the\n     [special_filter_second] tag is now [filter_second_attack]\n   * In the Standard Unit Filter, the [wml_filter] tag is now [filter_wml]\n   * it's now possible to specify with loop= how many times a sample\n     associated with a sound source should be played\n   * locations stored in variable now include ownership information for villages\n   * new [switch] conditional command\n   * new [fire_event] event tag to fire any custom event\n   * new [unit_side] theme element: this is the side of the current unit (flag)\n   * Preprocessor now logs when it encounters an undefined macro, and when it\n     fails opening a file.\n   * Implemented prerecall/recall. Now prerecruit/recruit will no more trigger\n     on recall events\n   * Add support for overlay terrains (terrains which can be placed above any\n     base terrain)\n   * Add multiple types for events\n   * Allow [clear_variable] to clear multiple variables (separated by comma)\n   * Fixed bug #11286 \"Sighted events not firing when turning off delay shroud\n     updates\". Which also means that user may fire sighted events in a new way.\n * miscellaneous and bug fixes:\n   * Changed logging to have less overhead when it is turned off (patch #1038)\n   * Fixed error message for broken add-ons (bug #11078)\n   * INSTALL now describes the scons build.  autotools, while still present,\n     is deprecated.\n   * Removed spurious -R linker switch from command line generated by the Boost\n     M4 macros\n   * wmlxgettext now prints some context information about the strings\n     extracted (patch #993)\n   * Fixed network_worker to spawn at least one thread (bug #11238)\n   * added VICTORY_AND_DEFEAT_MUSIC macro - not wiring it in in trunk\n     content, in the hope that we get engine support for this soon, but it's\n     here to use in the meantime\n   * remove an ancient wml update program which has been obsoleted by wmllint\n   * added the boost regex dependency\n   * added the sdl-ttf dependency\n   * added the zlib dependency\n   * default gender selection now works correctly for units with\n     only a female variant.  Fixes bug #11197.\n   * Fixed a border case of unit portrait advancement on which generic portraits\n     would be treated as character-specific (affected female Elvish Archer line;\n     it also theoretically affected units with [variation]s using different\n     portraits)\n   * allow configure to be started from directories other as the top dir\n     (patch #1002)\n   * added -Werror -Wno-unused -Wno-sign-compare to the default compiler\n     flags, can be disabled with --disable-strict-compilation.\n   * learn the underlying terrain so you'll not have a blank line in the unit\n     stats if you encounter a terrain aliased to an unencountered terrain\n   * fixed an alignement issue which caused a SIGBUS on a Sparc (debian bug\n     #426318)\n   * wesnoth-pngcrush is now superseded by wesnoth-optipng\n   * clean up gcc 4.3 warnings so the game now builds on fedora rawhide\n     with warnings treated as errors. A few bugs were found in the\n     process as well.\n   * \"fog\" and \"shroud\" debug commands now also update the minimap, and\n     \"shroud\" stop shrouding your units.\n   * Fixed shroud not directly cleared in minimap after a move+attack action.\n\nVersion 1.4:\n * language and i18n:\n   * new translation: traditional Chinese\n   * updated translations: Catalan, Chinese, Czech, Danish, Dutch, Esperanto,\n     Finnish, French, German, Hungarian, Japanese, Lithuanian, Polish, Russian,\n     Slovak, Spanish, Turkish, Valencian\n * graphics:\n   * more elvish portraits\n * multiplayer:\n   * revised maps: Cynsaun Battlefield\n   * messages will no longer default to the private channel when observing\n     or joining a new game\n   * fixed an invalid vector access, which could happen since linger mode\n     didn't reset the player_numer_ (bug #11094)\n   * random maps can no longer crash if two teams have the same starting\n     position (that happened if 2 teams didn't get a starting position.)\n     bug #11166.\n   * when the number of players for a random map can't be placed the engine\n     tries maximal ten times before giving up.\n * sound:\n   * added new music track, \"Knalgan Theme\" by Ryan Reilly.\n   * added new music track, \"The King is Dead\" by Mattias Westlund.\n   * updated music track, \"Traveling Minstrels\" by Mattias Westlund.\n   * changed the default story screen music from loyalists.ogg to revelation.ogg\n   * added new music track, \"Nunc Dimittis\" by Jeremy Nicoll.\n   * added new music track, \"The City Falls\" by Doug Kaufman.\n * WML engine:\n   * fixed a bug where addons with recusive INCLUDES could no longer be loaded\n     (bug #11160)\n * miscellaneous and bug fixes:\n   * units with a death sound but no death animation now play their death\n     sound correctly\n   * selection animations are not directional when standing animations are\n     disabled (bug #11151)\n   * Fixed parser problems with \\r\\r in files\n   * cleanups and a compiler fix based on patch #911\n   * the detection of the savegame version was done after parsing the savegame\n     this could lead to crashes when loading 1.2 savegames (debian bug 467088)\n   * fix a bug where the random map generator could place a keep on the border\n     (bug #11150)\n   * Fixed UI sounds toggle crash on Windows\n   * when a new unit is spawned when the attacker dies and the new unit has\n     a lower number of weapons then the weapon number used in the attack an\n     wml_exception was thrown (bug #10926).\n   * truncate names in the load dialog utf8 aware, might be related to\n     bug #11186\n   * fix bug #11187 play_once=yes and fix musical cross-fading\n\nVersion 1.3.19:\n * map editor:\n   * activate border transitions in the editor using more translucent images\n     than used ingame\n * language and i18n:\n   * updated translations: Chinese, Czech, Danish, Filipino, French, Hungarian,\n     Italian, Lithuanian, Polish, Turkish\n * miscellaneous and bug fixes:\n   * Fixed chat log viewing crash after undo\n   * Fixed era events loading\n   * Idle, standing and selection animations are not accelerated anymore\n   * All animations are disabled when the LOW_MEM compile switch is activated\n   * correct FIREBALL_MISSILE not being synchronized properly. All UMC users\n     need to check units using that macro\n   * correct most missiles not being properly (bug #11134)\n   * fix some female units using male frames during missile attacks\n * replays:\n   * fixed \"play side turn\" not working (bug #11118)\n   * at least partly fix \"replays always corrupt\" (bug #10976)\n\nVersion 1.3.18:\n * campaigns:\n   * Northern Rebirth:\n     * fix Sister Theta not appearing after freeing her (bug #11083)\n * language and i18n:\n   * updated translations: German, Italian\n * campaign server:\n   * Strip CRs from uploaded data\n * miscellaneous and bug fixes:\n   * Made unit checksum only test for important variables\n\nVersion 1.3.17:\n * campaign server:\n   * added more logging\n   * remembers the last maintainer upload IP\n * campaigns:\n   * Liberty\n     * Made the guards in Hide and Seek behave more intelligently.\n   * The South Guard\n     * Completely redesigned the internal workings of 6b The Long March.\n * graphics:\n   * more elvish portraits\n * language and i18n:\n   * updated translations: Catalan, Chinese, Danish, Esperanto, French, German,\n     Italian, Japanese, Slovak, Spanish, Valencian\n * multiplayer:\n   * revised maps: Caves of the Basilisk, Sablestone Delta, Silverhead Crossing\n * tutorial:\n   * fixed the recall refunding/re-doing in scenario 2 (bug #10993)\n   * scripting of the AI moves now check for units in target hex (prevents bug\n     #6745)\n   * fixed some problems with the grunt (Dumbo) dialogue\n   * decorated map with new terrains\n * user interface:\n   * tinygui:\n     * fixed fontsize for the clock\n     * removed $RACE entry when using tinygui\n     * fixed replay theme in tinygui to display correctly\n     * get closer to the normal theme when tinygui is active and the\n       resolution bigger than 400x300\n   * reduce minimap in resolutions <1000x620 to allow displaying all attacks\n     from units with many attacks (eg the sylph)\n   * add support for 800x480 when using the configure option\n     --enable-small-gui, not everything displays correctly (preferences,\n     mp-creation/lobby, ...), but normal gameplay should work perfectly\n   * improved editor theme so that it works in 800x600, too\n   * increase space for terrains in the mapeditor by rearanging items a little\n   * quick replays no longer scroll to leaders\n   * scrolling to the leader the very first time happens instantly now\n   * Various tunings about the transparency of hp/xp bars (avoid confusion like\n     in bug #11030) and keep them highlighted for the selected unit too.\n * WML engine:\n   * unstoring a leader for a side without a leader sets the leader for\n     that side (bug #11048)\n * miscellaneous and bug fixes:\n   * replays of midgame saves get the right recall list now (bug #10868)\n   * Fixed controller problems when reloading MP game (bug #11046 and bit more)\n   * Made scrollarea to stay in bottom if it is resized (bug #6974)\n   * Fixed reference to invalid iterator in unit_cycle (bug #7991)\n   * Fixed side_drop server message handling to correctly restart turn\n   * Fixed network code crash after failed socket operation\n   * Fixed random start ToD (bug #11056)\n   * Fixed an assert crash when a fake_unit_move starts outside of the screen\n   * Fixed temporary disappearing of hp/xp bars of victorious unit (bug #11055)\n   * Fixed flickering hp/xp bars of ghost and other invisible units.\n   * Placement of random terrain images is more random.\n   * Optimization of damage floating labels\n   * Fixed update of the minimap and starting positions when using the \"delay\n     transitions update\" option.\n   * chasm and lava bridges are now proper aliases of cave and chasm\n\nVersion 1.3.16:\n * campaigns:\n   * Two Brothers: set the leader of scenario one to passive to make it not\n     too easy to win\n * language and i18n:\n   * updated translations: Chinese, Czech, Dutch, Filipino, Finnish, German,\n     Greek, Hungarian, Italian, Lithuanian, Polish, Slovak, Spanish, Turkish\n   * replaced the font used for the chiense translation (gkai00mp.ttf) with a\n     subset of WQY (just the gb2312 part is included) as requested by the\n     chinese maintainer\n * map editor:\n   * the editor handles errors with the old unsupported map format more\n     graceful (bug #11023)\n * multiplayer:\n   * revised maps: The Freelands\n   * don't display 'Remote scenario' for reloaded games in the multiplayer\n     lobby which is wrong in most cases (fixes bug #10882), the display\n     of 'Reloaded game' is disabled for now because of the string freeze\n   * Fixed MP saves loadind to choose correct human side (bug #10894)\n   * display reloaded games in yellow instead of green in the game list\n     as they are also a kind of already running games\n   * Made era not required while loading save game\n   * Removed bogus client commands about takeing side\n   * Fixed control change when giving own team (bug #6639)\n   * when loading a savegame don't offer to take the non-player sides (bug\n     #10746)\n * units:\n   * balancing changes:\n     * decreased the village defense of Bats from 60% to 40%\n     * decreased the forest defense of the Ranger from 70% to 60%\n     * decreased the forest movement cost of the Ranger from 2 to 1\n     * decreased the shallow water, mountain, swamp and snow movement cost of\n       the Ranger from 3 to 2\n * user interface:\n   * During dialogs the speaker is shown in the sidebar and highlighted.\n   * During ai moves the source hex is no longer highlighted.\n   * show unit standing animations and idle animations are now separate options\n   * Removed broken \"Host network game\" option from multiplayer menu (bug #10800)\n   * Fixed network game creation return back to create dialog after failed\n     savegame loading\n   * Fixed a small glitch with fog and shroud in the corners (bug #10831)\n   * share_view now looks at whether your allies have shared their view,\n     before whether or not you saw the view of your allies was determined by\n     your own view was shared (bug #10994)\n   * slight tuning of hp/xp bar: not anymore hidden under leader crown and the\n     HP bar's scaling is changed (now the cap is ~80hp instead of 70)\n   * new red footprints images for move cost > 3\n * WML engine:\n   * fixed an off by one error in [scroll_to]\n   * unified the two different max_loop counters and used highest maximum\n     (65536).\n   * Fixed abilities filtering to test [filter] allways\n * terrains:\n   * added stone bridge terrain over lava and chasms.\n * miscellaneous and bug fixes:\n   * Fixed networking not to timeout with slow connections but timeout faster\n     with lost connection (partialy fix bug #10967)\n   * Fixed client side ping timeout check if downloading or uploading\n   * Moved destruction of conditional object before the mutex. This should\n     fix random crash in network disconnect.\n   * Fixed reference to invalid pointer in attack::attack\n   * pressing shift affects acceleration immediately\n   * More gcc 4.3 fixed\n   * Remember cleared hotkey\n   * Added some toys&whisles to unit tests\n   * Added networking unit tests\n   * Optimized MP chat log building\n   * Optimized tokenizer to speed up loading config files\n   * Hide race sections having only units with \"hide_help=true\"\n   * Fixed ai handling of unit without attacking weapons (bug #10886)\n   * Optimize roads placing of random map\n   * when a unit miss an animation, the engine will base the replacement on\n     the standing animation instead of the standing frame\n   * enabled caching images for lowmem unconditionally since it seems to save\n     memory (bug #11022)\n   * disable stricker terrain validation, since a rogue scenario may avoid\n     somebody to create any game (bug #11024)\n\nVersion 1.3.15:\n * language and i18n:\n   * updated translations: Catalan, Chinese, Czech, Danish, Dutch, French,\n     German, Hungarian, Italian, Lithuanian, Polish, Spanish, Turkish\n   * updated DejaVuSans to 2.23\n * graphics:\n   * new elvish portraits by Kitty\n * multiplayer:\n   * revised maps: Cynsaun Battlefield\n   * fixed bug #10777: Cannot cancel a multiplayer password prompt\n   * fixed bug #10779: Rejoining game causes major problems\n   * Fixed :control command to work\n   * Fixed control change not to set wrong team if we are playing now\n   * damage statistics for the current turn also works for observers now\n   * MP loads now era_id from save file (bug #10878)\n   * skip replay no longer skips the story for players only for observers\n     (bug #9538)\n   * observers without the addon installed can watch the second scenario of\n     a MP campaign again (bug #10794)\n * user interface:\n   * Made ESC clear hotkey when changing hotkeys\n   * Made quick replay skip messages\n   * linger mode overlay is also drawn over fog and shroud (bug #10811)\n   * Units are deselected before they move.\n   * The next move can be prepared before the current attack/move\n     animation finishes (bug #7132).\n   * If a move is interrupted, footsteps are drawn again.\n   * Tuned some details of the mouse handling.\n   * Fixed [message] not to close if it has input (bug #10846)\n   * fixed chat color when message is added by turn_info (bug #6846)\n   * added a more graceful handling of maps without a header (bug #10787)\n * WML engine:\n   * Fixed order of sighted and moveto events (bug #9560)\n   * now allow the use of $unit inside [show_if] and [location_filter]\n     in the [set_menu_item] tag\n   * fixed weapon_specials filter_opponent to work in attack selection (bug #8333)\n   * fixed crash in battle events if unit was killed or teleported (bug #10801)\n   * fixed era events not to be added if we are loading save game (bug #10772)\n   * some filtering was added to the [animate_unit] action to actually make it\n     useful\n * miscellaneous and bug fixes:\n   * Fixed turn timer and end_turn commands order (bug #10849)\n   * Fixed boost test compile with 1.34.1\n   * Made unit to hideable by others units (bug #10877)\n   * Make wesnoth work properly again if the datadir contains ../\n   * Fixed some type of addon not being uninstallable (bug #10788)\n   * fixed adjacent units to update if unit affects them\n   * converted NO_MAP_DATA to new map format\n   * fixed unchecked vector access\n   * make sure the python campaign client list shows a space between the\n     headers if the size of the column is smaller than the header (eg uploads)\n   * make sure a unit with more hitpoints than its maximum doesn't terminate\n     the game with an assertion error (bug #10876)\n   * various bug fixes and code cleanups\n   * added some extra headers for the upcoming gcc 4.3 (debian bug #462708)\n   * image scaling on tinygui was broken, this has been fixed\n   * wescamp script allows the same values for true as utils::string_bool()\n\nVersion 1.3.14:\n * campaigns:\n   * The Hammer of Thursagan:\n     * 'Invaders' if there weren't enough free tiles to spawn all indigs the\n       game would enter an infinite loop (bug #10621)\n   * Two Brothers:\n     * updated the music playlists in all scenarios to include the new music\n   * Under the Burning Suns:\n     * Completely new scenario 3\n     * Few bugfixes to scenario 6\n * graphics:\n   * overlays are properly drawn at the top row (eg forrest) (bug #10238)\n   * mountains no longer have a hill as base\n   * when a leader dies the villages, which are no longer are owned, are\n     properly redrawn (bug #9136)\n   * sometimes the first hitpoints left percentage and the unscatched had a\n     difference of 0.1%, this has been fixed (bug #9122)\n * language and i18n:\n   * updated translations: Chinese, Danish, Dutch, Finnish, French, German,\n     Italian, Lithuanian, Slovak, Spanish\n   * added gkai00mp.ttf font (needed for the Chinese translation)\n * multiplayer:\n   * revised maps: Den of Onis, Weldyn Channel\n   * renaming a unit no longer generates an OOS error (bug #7864)\n   * if in a MP campaign the endlevel was continue(_no_save) it could happen\n     that the client left before the host uploaded the new scenarion, this\n     has been fixed\n   * when joining a MP game the recall list wasn't loaded which leads to\n     OOS errors in campaigns (bug #10624)\n   * :droid can now use the additional parameters on & off to enable/disable\n     the AI status of a side instead of toggle it (FR #9676)\n   * fixed the MP campaign gold carry over (bug #10677)\n   * MP campaign start of scenario saves can be loaded again (bug #10058)\n   * if a MP side has no colour defined fall back to the default side colour\n * sound:\n   * timer bell in MP starts when there are 20 seconds left and fades in\n     gradually for 10 seconds (fr #10559)\n   * fixed timer bell not always playing (bug #10559)\n   * it was possible to add the same track to the playlist twice which\n     could lead to an infinite loop (bug #10112)\n * units:\n   * balancing changes:\n     * increased the XP requirement of the Vampire Bat from 14 to 22\n     * decreased the HP of the Vampire Bat from 17 to 16\n * user interface:\n   * the apple key works as shortcut modifier again (bug #10586)\n   * made \"Show lobby joins of friends only\" the default preference\n   * new menu option added to save replays manually\n   * show damage statistics for the current turn in the statistics window\n   * opening the action menu in linger mode no longer crashes the game\n     (bug #10438)\n * WML engine:\n   * new tag [text_input] for [message] (patch #921)\n   * new tag [filter_vision] for Standard Unit Filter\n   * it is now possible to play [sound] repeatedly using a \"repeat\" attribute\n   * Added boolean variable disallow_observers= to side defination\n   * Random factions can be defined on a subset of the non-random faction\n    (FR #10600)\n * miscellaneous and bug fixes:\n   * set the default resistance to 100 (no resistance) instead of 0 (immune)\n     (bug #10661)\n   * when loading a unit some traits didn't get applied correctly but got\n     fixed in a later state. This could lead to some units not leveling\n     properly (bug #10304)\n   * validate vector access for colours (bug #10622)\n   * Fixed OOS on unit advancement if wml had battle/die events (bug #10590)\n   * added serveral fixes to compile with Sun Studio compiler (patch #911)\n   * bumped autoconf version requirement to 2.60 since it's needed for the\n     boost tests (bug #10636)\n   * fixed a problem where two [recall]s in a SP game could get an out of sync\n     recruitment\n   * avoid triggering an assertion when a duplicated side definition exists\n     (bug #7252)\n   * Fixed OOS if [message] menus cause advancement of a unit\n   * the previous \"max-saves\" slider is now used as a slider to determin the\n     maximum number of auto-saves to keep, default value is 10, so the 11th\n     oldest and all older auto-saves will be deleted\n   * the MP server now always sends gzipped data\n   * Rewrote the AI village assigning algorithm, instead of using brute force\n     it now tries to optimize before resorting to brute force (bug #7215).\n   * parser exceptions are now displayed visually (patch #914)\n   * always ask for permission before overwriting an already existing replay\n     file (bug #10689)\n   * don't automatically save a replay for every game an observer visits\n     if the option 'Save Replay on SP/MP Victory ..' is enabled (bug #10690)\n   * changed option 'Delete Saves on SP/MP Victory ..' to remove only\n     Auto-Saves to avoid the removal of manually saved files from unrelated\n     games\n   * make sure the team number is reset in single player linger mode\n     (bug #10692)\n   * fullscreen now defaults to false\n   * \"hide_help\" now hides the unit from the list in help, but still allow to\n     see its description (using context-menu or hotkey)\n   * change the default port for the campaign server to 15005 to seperate the\n     new 1.4.x way from the old possibly broken content from the trunk server\n\nVersion 1.3.13:\n * campaigns:\n   * A Tale of Two Brothers:\n     * what the correct passwords for 'Guarded Castle' are is now randomized\n   * Liberty:\n     * 'Hide and Seek' mostly rewritten and it now has a bigger map with\n       randomly placed guards\n   * The South Guard:\n     * now the player has to kill the fake M'Brin in 'Choice in the Fog' instead\n       of just attacking once\n * language and i18n:\n   * updated translations: Chinese, Czech, Danish, Finnish, French, German,\n     Greek, Hungarian, Italian, Lithuanian, Polish, Portuguese (Brazil),\n     Valencian\n   * updated DejaVuSans to 2.22\n * map editor:\n   * resize actions can be undone again (bug #10216)\n * multiplayer:\n   * revised maps: Hamlets\n   * recruitment OOS is fatal now (bug #9723)\n   * the server now stores the next scenario send but the host, thus the\n     clients no longer restart in the previous scenario\n   * the next scenario now properly loads the recall list\n * sound:\n   * new or improved sounds: ogre hit and die, MP chat\n * units:\n   * all lvl 2 outlaw units can now advance to lvl 3 in all campaigns and MP\n   * the default AMLA for all max-level units is now +3 max HP, +20% max XP and\n     healing to full\n   * the standard AMLA XP limit upped from 100 to 150\n   * replaced the fullheal AMLA of the Necrophage with a feeding ability, giving\n     it +1 max HP for every living enemy killed\n * user interface\n   * display the race in the unit preview panel (with gender variation support).\n   * allow to use team labels also for 1-player-teams (bug #9747)\n   * changing the langugage now sets the version number in the title\n     properly.\n   * show 'back to round xxx' also in 800 x 600 resolution\n   * a multiplayer map with allow_new_game causes the selection of a map to\n     show the wrong minimap (bug #9425)\n   * the \"1 turn to reach\" of the movement hint is now used only for multi-turns\n     move, instead icons show ZoC and village capture ending the move.\n   * turn to reach numbers also works when bigger than 9 and without parentheses\n   * display an icon into the movement hint where the unit can be invisible and\n     the sidebar icon is now about the current status of the unit\n   * fix glitches with the sidebar status icons (slowed, poisoned..) when the\n     mouseover leave the unit\n   * middle mouse button now do a progressive scrolling when kept pressed, speed\n     and direction depend of the the position of the mouse relatively to the\n     center of the view\n   * in help, sections are now opened by clicking on the book icon or\n     double-clicking on its title\n   * each section has now an associated page with general info and links to its\n     topics\n * WML engine:\n   * new event \"last breath\" will be triggered when a unit dies, but\n     before the animation is played\n   * allow ThemeWML to display the race.\n   * new \"random_gender=\" key (boolean) to single units declarations in WML;\n     the engine will generate a random gender for the spawned unit just like\n     when it's recruited\n   * updated {GENERIC_UNIT ...} macro to take advantage of random_gender\n   * fixed [filter_radius] to support [and][or][not] and radius=\n   * added rand= for [set_variable] which can be used in MP, the user has to\n     make sure it stays in sync\n   * units spawned with unit in events can now have random traits and also the\n     names are the same (bug #10501)\n   * load the recall list with a start of scenario save (bug #10444)\n   * Added support for side specific [message] (fr #7427)\n   * a floating text can now be specified within animation frames using the\n     text= and text_color= keys\n * miscellaneous and bug fixes:\n   * various bug fixes and code cleanups\n   * added gzip and gunzip command line parameters\n   * replaced the 'Binary Saves' option with 'Compressed Saves' and now\n     writes gzip files\n   * added a \"ping_timeout\" preference to allow adjusting the default timeout\n     value ('60') from the preferences file\n   * rewrote the network code to also receive gzipped data:\n     * The clients send gzipped data to the MP server.\n     * The MP server can send gzipped data depending on a hidden parameter\n       which is off by default.\n     * The campaign server sends and receives binary_wml.\n   * fixed a crash when the attacker dies while performing a desparate attack.\n     The crash seemed only to happen under Windows but valgrind also\n     complained (bug #10496)\n   * loading a content with invalid wml does not terminate the game\n   * increased the precission off the mouse in the top row of the editor\n     (closes bug #10219)\n   * Fixed code to filter sent items when undoing (bug #10588, needs testing)\n   * Avoid an assertion failure triggered in the replays\n   * speed-up the cache validation by skipping directories named \"images\" and\n     \"sounds\", WML authors must avoid to put cfg files there (or manually\n     refresh their cache if they really want to place and edit cfg files there)\n   * using \"next-unit\" on the last unit now triggers the selection effect each\n     time (instead of half the times)\n   * fix some latency for clearing fogged corners on shrouded maps\n   * optimization of the pathfinding and unit loading\n   * avoid deferring null pointers in the multiplayer lobby\n\nVersion 1.3.12:\n * campaigns:\n   * The Rise of Wesnoth:\n     * 'A New Land' can now be won by waiting till turns run out\n * language and i18n:\n   * updated translations: Czech, Danish, Finnish, French, Italian, Polish,\n     Swedish\n * map editor and terrains:\n   * added village count to editor\n * multiplayer:\n   * revised maps: Caves of the Basilisk, Cynsaun Battlefield, Den of Onis,\n     Fallenstar Lake, Hamlets, Hornshark Island, Sablestone Delta, Silverhead\n     Crossing, Sulla's Ruins, The Freelands, Weldyn Channel, Alirok Marsh,\n     Island of the Horatii, 3p Morituri, Blue Water Province, Castle Hopping\n     Isle, Clash, King of the Hill, Lagoon, Loris River, 4p Morituri, Paths of\n     Daggers, Siege Castles, The Wilderlands, Xanthe Chaos, Forest of Fear,\n     Amohsad Caldera, Hexcake, Waterloo Sunset, 8p Morituri, Merkwuerdigliebe\n * sound:\n   * added new music track, \"Vengeful Pursuit\" by Jeremy Nicoll.\n   * added new music track, \"Variations on an Elvish theme\" by Doug Kaufman.\n * units:\n   * balancing changes:\n     * increased the HP of the White Mage from 32 to 35\n     * decreased the ranged attack of the White Mage from 7-4 to 9-3\n     * increased the melee attack of the White Mage from 6-1 to 6-2\n     * increased the HP of the Mage of Light from 42 to 47\n     * changed the ranged attack of the Mage of Light from 9-4 to 12-3\n     * decreased the melee attack of the Royal Guard from 12-4 to 11-4\n     * decreased the melee attack of the Merman Warrior from 8-4 to 10-3\n     * decreased the pierce melee attack of the Merman Triton from 11-4 to 14-3\n     * decreased the blade melee attack of the Merman Triton from 11-4 to 19-2\n     * decreased the melee attack of the Naga Myrmidon from 8-6 to 9-5\n     * increased the melee attack of the Lich from 5-3 to 8-3\n     * increased the melee attack of the Ancient Lich from 6-4 to 8-4\n     * increased the defense of the Bat line on all terrains from 50% to 60%\n * user interface:\n   * changed the default setting for the turn bell to on\n   * removed the turn_cmd preference option\n   * Savegames now have a prefix indicating the campaign they are from if\n     the campaign WML declared an abbrev= tag.\n   * in linger mode a new overlay is used to see the difference between\n     playing and lingering\n   * abilities and traits now show a blank line if missing, to ease units\n     comparison\n   * the numbers keys also change the reachability in N turns for selected enemy\n     (works with simple mouseover too)\n * WML engine:\n   * New standard unit filter keys:\n     - defense: chance to be hit on current terrain by normal weapons\n     - movement_cost: movement cost on current terrain\n   * the preprocessor now ignores filenames with '..' in them\n * miscellaneous and bug fixes:\n   * fix a compilation bug on Windows (usleep not defined)\n   * addon interface: added support for an ignore file (.ign) to configure what\n     shouldn't be uploaded on the addon server (it's useful if you use a svn\n     checkout for example)\n   * fixed some small interface glitches on MP saved games loading and setup screen\n   * fixed some more possible utf-8 related terminations\n   * fixed WML added anims being forgotten on save/load\n   * fix an animation freeze when selecting a fighting unit\n   * prevent unit selection (and sending \"select\" event) when commands are locked.\n   * optimization of the loading of units WML data.\n   * optimization of \"Create Units\" and \"Recruit\" dialog.\n   * fixed incorrect number of total villages for villages at right and bottom border\n   * fix bug #8991: Load a second savegame crash when using --test option\n   * added a new drawing framework only used for linger overlays at the\n     moment, other stuff can be converted later\n\nVersion 1.3.11:\n * campaigns\n   * Eastern Invasion\n     * in 'The Drowned Plains', undead no longer spawn near you randomly but\n       instead they are placed on the map at the beginning of the scenario and\n       remain immobile and hidden until the player steps next to them\n     * Epilog throneroom scene now has a horse-canter sound effect for Owaec.\n   * Scepter of Fire\n     * in 'The Dragon', the player now gets a starting castle where to recruit\n       and recall normally\n * campaign server\n   * fixed a bug which broke uploads with a .cfg file next to the campaign\n     directory\n   * finalized wescamp integration\n * map editor and terrains:\n   * fixed a bug which prevented the editor to load maps with a Windows EOL on\n     Windows, other platforms where not affected.\n   * added a 'Mushroom Grove lit' (on cave) terrain using (string 'Uu^Ufi')\n * graphics:\n   * added user-contributed graphic updates for 'storm trident', 'ankh' and\n     'staff' pick-up items\n * language and i18n:\n   * updated translations: Chinese, Czech, Danish, Dutch, French, Galician,\n     German, Polish, Portuguese (Brazil), Swedish\n * multiplayer:\n   * fixed segmentation fault on loading saved games from the multiplayer user\n     interface\n   * fixed random leaders not getting random genders as expected by design\n * WML engine:\n   * implemented the #ifndef directive, the opposite of #ifdef, in the\n     preprocessor, to parse the following block only when the symbol is not\n     defined\n   * fix the recall list duplication bug (bug #10183)\n   * [modify_side] can now override the recruit list, just like [set_recruit];\n     should be the preferred method at some point.\n   * the gold carryover can now be modified from wml (fr #10144)\n * units:\n   * balancing changes:\n     * increased the melee attack of the Saurian Oracle from 5-2 to 4-3\n * user interface:\n   * The attack dialog displays the range between weapon's info\n   * The footsteps of a teleporting unit shows haloes on teleport points\n   * More readable colors for dark map labels (bug #10271)\n   * Tips of the day have attributions, a \"Previous\" button and a fixed size.\n * miscellaneous and bug fixes:\n   * added some extra headers for gcc 4.3 (based on patch #842)\n   * Fix bad fog update when passing by or stopping on a village\n   * Fix various bug when teleporting a unit to a fogged village (bug #10273)\n   * Display a message when a teleport fails (exit village has an hidden ally)\n   * Warning message on the standard output when using tiles with bad size\n\nVersion 1.3.10:\n * campaign server\n   * it's now possible to delete a campaign with the master password\n   * added initial support for the wescamp translation integration\n     (not finished yet)\n   * You can now supply a .pbl file within the directory for a campaign\n     as _server.pbl, rather than externally at the same level as the directory.\n     Both the client code in the game and the Python client in utils/ have been\n     enhanced to allow this.\n * campaigns:\n   * Eastern Invasion\n     * Fixed bug #10195, related to Holy Amulet's description\n     * some gold balancing for 'Xenophobia' and 'Lake Vrug'\n   * Liberty\n     * in 'The Raid', the accompanying peasants are no longer loyal. Also, the\n       scenario now gives an early finish bonus\n     * turn limits of 'A Strategy of Hope' lowered, to prevent massive amounts\n       of carryover gold\n   * Northern Rebirth\n     * Balancing polishing and bug fixing.\n     * Disabled undead branch for the upcoming 1.4 string freeze, as it is far\n       from finished right now, and will not change before the string freeze.\n     * Made auto recalled units loyal.\n   * Sceptre of Fire\n     * 'Gathering Materials' now has more varied terrain, an early finish bonus,\n       and the gold and coal piles now behave better: each pile now only gives\n       one load, miners carrying a load have an icon on them and when dying they\n       drop their load, so another miner can pick it up\n     * in 'Outriding the Outriders', villages (except the first one) now give\n       you two units instead of one\n     * Khrakrahs is no longer allied with the hostile elves and dwarves\n   * Under the Burning Suns\n     * Kaleh now uses AMLA's for custom advancement\n     * renamed the files and scenario id's to reflect scenario titles\n     * new title image and some initial story images\n     * redesigned the Dust Devil unit to make it less overpowering\n     * gave Elyssa 1 move across sand\n     * fixed AI recruitment in 'Across the Harsh Sands', made Lost Souls\n       easier to beat back on MEDIUM and HARD, and fixed the bug with Holy\n       Water (bug #10254)\n     * bugfix for blocker in 'In the Tunnels of the Trolls'\n * graphics:\n   * polished ankh prop picture from Liberty, and moved to core, replacing\n     old ankh-necklace.png used by Eastern Invasion\n   * updated unit graphics: Necromancer, Dark Adept, Dark Sorcerer, Fugitive,\n     Huntsman\n   * new or improved animations: saurian augur line magic attack\n   * various shadow under units updates for consistency\n * sound:\n   * new or improved sounds: skeleton hit and die\n * language and i18n:\n   * updated translations: Chinese, Czech, Danish, Finnish, French, Galician,\n     German, Greek, Hungarian, Italian, Lithuanian, Polish,\n     Portuguese (Brazil), Russian, Spanish, Swedish, Valencian\n   * updates fonts: DejaVuSans (2.21)\n * map editor:\n   * fixed a bug when two dimensions of a map were modified, the editor\n     could crash (bug #10216)\n   * fixed a bug when shifting the map, the starting positions weren't\n     updated correctly (bug #10216)\n * multiplayer:\n   * revised maps: Cynsaun Battlefield, Den of Onis, Hamlets, Silverhead\n     Crossing, Sulla's Ruins, Weldyn Channel, Blue Water Province\n   * new multiplayer scenario added: Dark Forecast, random survival for up to\n     two players\n   * removed option to enforce female gender on side leaders, replaced with a\n     gender choice combo-box in the MP side setup UI (client and host), which\n     can choose between random, male, and female, when available.\n   * the server sends a periodical 'ping' to all players to detect ghosts\n   * implemented reloading of the server config on SIGHUP\n * sound\n   * \"Legends of the North\" (legends_of_the_north.ogg) moved from NR to mainline\n   * A new pair of victory and defeat themes by Ryan Reilly added.\n * units:\n   * balancing changes:\n     * increased the movement points over tundra (snow) and deep water from 1\n       to 2 for 'drakefly'\n     * added the 'fearless' trait to the Ghoul line\n * user interface:\n   * selecting your own unit makes it flash briefly and emit a select sound\n   * you can now also select enemy units and see their possible path, terrain\n     defense and turn to reach.\n   * changed the mute hotkey from ctrl-m to ctrl-alt-m\n   * renamed \"Advanced Mode\" button on graphics preferences to \"Change Resolution\"\n   * renamed \"Advanced Mode\" button on sound preferences to \"Advanced Options\",\n     and \"Normal Mode\" to \"Standard Options\"\n   * fix some inconsistencies between mouse selection and \"next unit\" selection\n   * double-click in dialog now triggers a \"press button\" sound\n   * fix an exploit using the \"black stripes\" of a unit with teleport ability\n     to detect enemy villages under fog\n   * fix the wrong \"(1) turn to reach\" on already captured village\n * WML engine:\n   * extended [store_side] behavior, so that it additionally writes the following:\n     fog, shroud, colour, user_team_name, controller, recruit (the recruit list),\n     village_gold (the income per-village).\n   * extended [modify_side] behavior, to contemplate fog, shroud, controller,\n     recruit and village_gold settings.\n   * new key \"contains=\" in [variable] conditions to check the presence of a\n     substring in a variable value\n   * new tag [debug_message], which takes as paramaters \"logger=\" and \"message=\"\n     to silently output messages to stdout or stderr.\n   * new key \"variation=\" in [move_unit_fake] statements to add the possibility\n     of making a fake unit look like one of its variation while moving - this\n     also reflects in a change to the MOVE_UNIT macro, which now can use gender\n     and variation too.\n   * maps now have a user definable border\n   * Changed the mute hotkey from ctrl-m to ctrl-alt-m.\n   * On victory, all old saves for the scenario except the start one\n     are now deleted (rather than just autosaves as formerly). This\n     is done before replay saving, if that is enabled. The preference\n     name has changed from delete_autosaves to delete_saves.\n   * Animation engine allow multiple type of frames (a la \"missile frames\")\n     for all types of anims, you can have multiple such anims using different\n     frame names\n   * a new type of animation is triggered when a unit is selected. (WML\n     support to come shortly)\n   * in story [image,] a new key scaled=yes/no (default=no) allows to scale\n     the image like the background.\n   * prevent some illegal select events on enemy units.\n * miscellaneous and bug fixes:\n   * added a new log domain 'mp_server'\n   * added a new log level 'debug'\n   * various bug fixes and code cleanups\n\nVersion 1.3.9:\n * campaigns:\n  * Descent into Darkness\n    * in 'Peaceful Valley', goblins may no longer spawn when you recapture a\n      village you had lost\n  * Heir to the Throne\n    * new graphics for the battle princess\n    * in 'Crossroads', the orc ambushers now hide immobile on the map from\n      the beginning of the scenario, instead of being spawned randomly when\n      stepping on hills\n  * Liberty\n    * new story images\n    * a proper bigmap\n    * music changed in several scenarios\n  * Northern Rebirth\n    * New map for Eastern Flank\n    * Fixed bug where Father Marcus regenerates in the wrong place\n      in one the death events.\n    * Rescaled Rakshas' portrait to the proper size.\n    * Balancing of opening event in 'Settling Disputes'\n    * Various minor polishing and bug-fixes.\n    * Extensive balancing, polishing and bug fixing on undead branch.\n  * Son of the Black Eye\n    * Fixed bug in 'The Coward' where an enemy unit speaks as if\n      he is on your side.\n    * A bit of dialogue polishing in 'The Coward'\n    * Jetto now joins you even if you don't release him during the scenario\n  * An Orcish Incursion\n    * Campaign heavily revised and added to the distribution\n  * general\n    * no longer use the external_binary_data dir for including campaign and\n      difficulty level icons and images, but reference the images directly\n * graphics:\n   * new animations: rogue death, orcish leader line leadership\n * language and i18n:\n   * updated translations: Czech, Danish, Dutch, Finnish, French, German,\n     Italian, Lithuanian, Polish, Swedish\n * map editor:\n   * a right click in floodfill mode now performs a flood fill.\n   * new icon for: village, castle\n   * new rotate function (FR/bug #3870): copy&rotate selected area using mouse\n     cursor as center (or \"center of mass\" if the cursor is not on map)\n   * important optimization of the builder engine (which recalculates\n     transitions after a map change)\n   * restore the random map generator (was broken in 1.3.8)\n   * fix several bugs with the \"delay transition update\" option (undo and\n     multi-hexes operations)\n * WML engine:\n   * new key \"centered=yes\" in [story] to use center of images (like dots)\n     on the given map coordinates.\n   * kill the obsolete \"flip\" key in [story], use imagepath function\n    \"~FL(horiz/vert)\" instead\n * user interface:\n   * preserve aspect ratio of the minimap (FR/bug #9999)\n   * the debug \"Create unit\" dialog have now two columns (race and type)\n     and is correctly sorted.\n   * progressive parameters can be specified both in [animation]\n     and in [frame]\n   * The linger mode \"Next Scenario\" button renamed to \"End Scenario\"\n   * improved the display of the trait descriptions\n * multiplayer:\n   * renamed maps:\n     * Blitz to Weldyn Channel\n     * Charge to The Freelands\n     * Meteor Lake to Fallenstar Lake\n     * Triple Blitz to Alirok Marsh\n   * revised maps: Caves of the Basilisk, Weldyn Channel\n   * minimum number of turns reduced to 1\n   * new option to allow female leaders by default instead of male leaders\n   * fixed a crash if the client receives invalid utf-8\n   * fixed a server side bug with could cause invalid utf-8\n     being send to a client.\n   * display the era id for not installed eras in the lobby.\n   * display the scenario id for unknown scenarios in the lobby.\n * units:\n   * balancing changes:\n     * created undead variations for the 'bat' and 'gryphon' race\n * miscellaneous and bug fixes:\n   * various bug fixes and code cleanups\n   * fixed a glitch where an item halo shifted position when zooming\n   * map label length is correctly determined for multibyte characters\n     and thus the limit has been reduced to 32 characters again (bug #6855)\n   * now using :n in debug mode will skip past linger mode as intended\n   * fix a bug with [endlevel] result=continue_no_save\n   * fixed a bug where some strings were resized in utf-8 unaware mode\n   * fix bug #9021 (team color names not directly translated when\n     switching language)\n   * optimize the random map generator (especially for high village density)\n\nVersion 1.3.8:\n * campaigns:\n   * Descent into Darkness\n     * fixed a bug causing the growth ability of Ghast to not always work\n     * fixed a bug in 'A Small Favor - Part 2' preventing one random passage\n       from opening up\n   * Eastern Invasion\n     * new portrait for Konrad II\n   * Liberty:\n     * fixed the undead transformations not working in 'Unlawful Orders'\n     * clarified the objectives in 'The Gray Woods'\n   * Northern Rebirth\n     * Colored portraits for Sisal and Rakshas\n     * Fixed bug in 'Old Friend' where Tallin looses bonus HP, MP and\n       experience gained from the Rod of Justice\n   * Sceptre of Fire\n      * fixed lava expansion in 'Caverns of Flame' not working\n   * Son of the Black Eye\n     * Fixed bug in 'Saving Inarix' where the blown up bridge wasn't shown\n       properly (bug #9817)\n   * The South Guard\n     * a large number of assorted little polishing tweaks and improvements\n     * a somewhat nicer-looking village flag\n     * Deoran now has a lvl 3 advancement, and no special AMLA options\n     * new sprites for Sir Gerrick\n     * removed the leader and hero ellipses until it's decided whether they\n       should be used in all campaigns\n     * Map for \"A Choice In The Fog modified so mermen are actually useful.\n     * \"Tidings Good And Ill\" is now playable even if you didn't recruit\n       elves in the previous scenarios (bug #9944).\n     * fixed bugs with units sometimes not starting with max HP and movement at\n       the beginning of some scenarios.\n     * in 'Tidings Good And Ill', you can now recruit and recall the elf\n       escorts of your choosing instead of having them automatically picked\n       from those you had in the previous scenario\n     * in 'Tidings Good And Ill', defeating the naga queen is now mandatory\n     * 'Into The Depths' has been completely rewritten.\n     * there is a new scenario, 'Return To Kerlath', between 'Into The Depths'\n       and 'Vengeance' on the elf branch.\n     * trimmed the large unused portions of the map in 'Vengeance' away\n     * in 'Vengeance', removed the death of Minister Hylas as a defeat condition\n   * Under the Burning Suns\n     * fixed the missing dialogue parts of elves fighting mud crawlers\n       in 'The Morning After'.\n     * made all tent villages yield elvish refugees (possibly)\n       in 'The Morning After'.\n     * fixed the stables encounter dialogue to always appear in order\n       in 'The Morning After'\n     * 'Across the Harsh Sands' - dehydration causes incurable damage (except\n        through visiting an oasis) and fractional loss of attack strength.\n     *  Adjusted some of the encounters and rewrote the Lost Soul appearance\n        logic in 'Across the Harsh Sands'.\n     * Added some dialogue to explain the ghost reappearance when they were\n       defeated the night before to 'Across the Harsh Sands'.\n     * 'A Stirring in the Night' - village events work correctly now (bugs\n       #9947 and #9915), Added animated and impassable campfire terrain.\n   * general\n     * fixed many scenarios erroneously using the wrong difficulty level symbol\n       in #ifdefs (MEDIUM instead of NORMAL)\n * graphics:\n   * new graphics for the highwayman\n   * nicer image for the illuminates aura and a new campfire aura\n   * no more idle animations for units next to an enemy unit\n   * new button and slider in preferences to switch unit idle animations\n     on and off and set their frequency\n   * no grid on off-map tiles\n   * nicer transitioning between desert road, desert and desert villages\n   * a new alternative terrain for lava, one which isn't drawn in a pit\n * language and i18n:\n   * manual: switched to a brand new manual, now using some strange format\n     to generate it and ending in a nice .html page\n   * updated translations: Bulgarian, Danish, Dutch, Finnish, French, German,\n     Hungarian, Italian, Japanese, Polish, Portuguese (Brazil), Russian,\n     Swedish, Valencian\n   * new translation: Serbian (Latin version)\n   * added sazanami-gothic font (needed for the Japanese translation)\n   * updated DejaVu font to 2.20 (no new characters)\n   * made all keeps be called \"Keep\", all castles be called \"Castle\" and\n     all roads be called \"Road\", instead of using variant names (such as\n     \"Elven Castle\" or \"Desert road\")\n * multiplayer:\n   * revised maps: Charge, Den of Onis, Meteor Lake, Silverhead Crossing,\n     Triple Blitz, Clash\n   * 'village_gold' is no longer stored when 'use_map_settings' is used\n   * the server sends the game id and not only the game name if a player joins\n     a game to avoid ambiguity in case of multiple games with the same name\n   * show observer team chat messages in the 'Chat Log' window\n   * implement linger mode for multiplayer\n * units:\n   * balancing changes:\n     * gave the Fugitive the concealment ability (village hiding)\n     * increased the XP requirement to advance to the Fugitive from 77 to 120\n     * decreased the melee attack of the Fugitive from 12-2 to 11-2\n     * decreased the ranged attack of the Fugitive from 8-4 to 7-4\n     * changed the race of the Vampire Bat line from 'undead' to 'bats'\n     * changed the movement type of the Vampire Bat line from 'undeadfly'\n       to 'fly' (with adjustments)\n     * added a magical ranged 7-2 arcane attack to the Dark Adept\n     * added a magical ranged 9-2 arcane attack to the Dark Sorcerer\n     * added a magical ranged 12-2 arcane attack to the Necromancer\n     * added a magical ranged 9-3 arcane attack to the Lich\n     * added a magical ranged 9-5 arcane attack to the Ancient Lich\n     * increased the arcane resistance of the Ghoul line from -40% to 20%\n     * increased the arcane resistance of the Ghost line from -30 to -10%\n * user interface:\n   * OK in the status menu replaced with more informative \"Scroll To\".\n   * add an \"Animate Map\" option in advanced preferences, to switch flag\n     and terrain animation off\n   * in menus, remove the lingering mouseover highlighting when mouse leave it\n   * for the unit preview in recruit/recall dialog, use the same text coloring\n     as in the main side panel.\n * help system:\n   * the unit list is now organized by race sub-sections.\n   * each ability, special weapon and race description page, display a\n     list of hyperlinks to the related units (bug #9567)\n   * unit pages have now a field \"race\" with a link to related race page.\n   * hide the \"Unknown Unit\" page from the left-panel\n   * topic with an id starting with a \".\" are not shown in the left-panel\n   * the encountered units list is now correctly updated when using \":debug\"\n     and \":nodebug\" commands\n   * faster inital loading of the help.\n   * fix some incorrect \"open section\" UI sound when clicking on links\n * WML engine:\n   * new event \"turn refresh\" occurs after healing, calculating income, and\n     restoring movement\n   * now tag [filter_adjacent] is supported in the Standard Unit Filter (SUF)\n   * now tag [filter_adjacent_location] is supported in the Standard Location\n     Filter (SLF)\n   * remove the unused [neighbour_unit_filter] animation filter, now that SUF\n     does it for us (and better)\n   * a minus sign in front of a cardinal direction now reverses it (\"-s\"=\"n\")\n   * now radius expansion is handled last in Standard Location Filters;\n     previously it was handled last except before [and], [or], and [not]\n   * fix a bug with array.length side-effects causing empty arrays to increase\n     to size 1\n   * the WML for attack animations has been moved from the [attack] block to\n     the [unit] block\n   * new effect apply_to=new_animation to add animations to unit\n   * the [race] tag has now an \"id\" key for WML operations. The old \"name\" is\n     now used for user display purposes (currently only in help sections).\n     If id is missing, name will be used. There is also a new \"description\" key\n     displayed in the race help page (but currently not used by mainline races)\n   * new potentially useful global macros: FULL_HEAL, HIGHLIGHT_IMAGE,\n     CLEAR_FOG, NO_SCROLL_TO_AI_LEADER\n * miscellaneous and bug fixes:\n   * various bug fixes and code cleanups\n   * remove some useless messages from the standard output\n   * user-made campaign translations now work again for Windows (bug #9926)\n   * fix TC imagepath function for non-playing side and add-on/campaigns icons\n   * remove a 500ms delay between AI turns\n   * switch to observer viewpoint in linger mode in multiplayer (bug #4072)\n   * optimize unit's moves on map with shroud or fog\n\nVersion 1.3.7:\n * Campaigns\n   * Son of the Black Eye\n     * Fixed bug in 'Saving Inarix' where no user_description\n       is generated for Inarix\n   * Northern Rebirth\n     * Colored portraits for Sister Theta and Ro'Arthian\n     * Fixed bug in Anita's death event where Tallin speaks instead of her.\n     * Fixed bug in 'Old Friend' where Rakshas' portrait doesn't appear.\n     * Balancing and text changes in 'Old Friend'\n   * Sceptre of Fire\n     * Fixed a crash in the final scenario\n   * Under the Burning Suns\n     * Fixed invalid side bugs in 'Hunting Trolls'\n     * Fixed an invalid terrain bug in 'A Long Night'\n     * Fixed the dehydration in 'Across the Harsh Sands'\n * build system\n   * Fixed autoconf/automake builds so that --disable-python-install\n     will not try to create the default install directory for python\n     stuff when it isn't needed. Otherwise if you aren't root, make\n     errors out.\n   * If --enable-display-revision isn't enabled SVNREV is no longer\n     defined in the build process.\n * language and i18n:\n   * updated translations: Danish, Finnish, French, German, Greek, Japanese,\n     Lithuanian, Polish, Portuguese (Brazil), Russian, Serbian, Spanish,\n     Swedish\n   * updated DejaVu font to 2.19\n * multiplayer:\n   * new map: Mokena Prairie\n   * revised maps: Hamlets, Meteor Lake, 4p Hamlets, Paths of Daggers,\n     Loris River\n   * improvements to the sound of the countdown timer\n   * the countdown timer alert can now start sounding while dialogs are open\n   * unit descriptions are no longer evaluated for the recruitment checksum\n     and thus avoiding an OOS error when different languages are used.\n     The change is incompatible with older trunk versions fixes (bug #9472).\n   * Show the (possibly bogus) GPV and fog settings of games with \"Use map\n     settings\" on in a darker font. (patch #771 by uso)\n   * the random start ToD option is now properly saved and loaded\n     when use map default is used (bug #9532)\n   * Changed the Id of the Halberdier from \"Halbardier\" to \"Halberdier\"\n   * New name for the \"Soul Shooter\": \"Banebow\"\n   * multiplayer lobby: highlight the names of the players which have joined\n     the selected game (bug #7471)\n   * multiplayer lobby: tab completion works for all player names now,\n     not only for those which are not in a game (bug #9350)\n   * enable \"teamchat\" for observers\n   * when use 'map settings' is selected, map settings can no longer be\n     changed, if not defined in the map the general default is chosen\n   * when cancelling the MP create the changed preferences are no longer\n     saved\n   * when the MP create is accepted with 'use map settings' the map setting\n     parameters are no longer stored as the new preference\n   * the recommended settings are added to all standard multiplayer maps\n     so that you get these values if you activate 'Use map settings'\n * graphics\n   * fixed a glitch with the undo of recruit or recall on high places.\n   * Improve rendering of \"black stripes\": don't hide footsteps or fog,\n     and apply it also on off-map tiles when active.\n   * Improve rendering of grid: draw under fog, shroud and \"black stripes\"\n   * Fixed bug #9646: ToD changes not applied to mainmap in replay mode.\n   * Remove ToD coloring and brightening of off-map background tiles\n   * fix inconsistant highlighting of fog transitions\n   * slightly bigger and multi-hex attack direction indicator, fixed\n     incorrect scale update when zooming.\n   * improve footsteps : better beginning, angles and end, reduce\n     cpu cost, fix incorrect left-right sequences and clean some images\n   * fixed the glitch which would occur on some maps in the top right\n     corner and bottom left corner, these tiles were rendered as void\n     instead of a normal terrain.\n   * improved sand and desert terrains\n   * remove the bars, orb and ellipse of dying animations.\n * sounds and music\n   * new or improved sounds: bat hit, MP countdown timer\n * map editor:\n   * the grid is scaled properly again and no longer shown in the offmap area\n   * the resize option can now also use the surrounding tiles to expand the\n     map in a smart way, this is the default.\n   * the map editor can now also shift the origin of the map when resizing.\n   * tiles can now have their own image in the editor, defaults to the minimap\n     image. Also added some placeholder art.\n * user interface:\n   * Enable \"Save Game\" and \"View Chat Log\" menu entries in replay mode.\n   * Add an additional line below the minimap in the \"Multiplayer->Create game\"\n     screen that displays the size of the selected map. (patch #776 by uso)\n   * Add a tooltip with the experience modifier for the units XP display.\n   * add an empty attack icon in attack dialog when needed (this also removes\n     an error message, bug #9570)\n   * better \"choose attack direction using the last highlighted hex\" on pack\n     of units (bug #9649)\n   * attack/move cursors and attack direction indicator are not used when\n     observing (bug #9610)\n   * 'help' and 'more' button in the title screen now also have a tooltip\n     (bug #9618 patch #790)\n   * added a hotkey for clearing the chat messages (patch #770)\n   * Remove the \"black stripes\" of the enemy that we want to attack.\n   * in tiny-gui, now the movement hint also displays the terrain defense.\n   * the numbers of \"show enemy moves\" are now on top of fog and doesn't mix\n     with those of the movement hint\n   * the sidebar HP tooltip now show resistances of the current unit\n   * also highlight the destination hex before an attack+move mouse action\n   * more up-to-date mouse state (cursor, highlight, ADI) after some events:\n     undo, attack dialog or right-click cancel\n   * need only one right-click to open context-menu on an unselected enemy\n   * selecting an enemy doesn't directly cancel its reachable zone\n   * there's a new \"Game Settings\" window which shows the basic game settings\n     for each player, accessible through the \"More\" button in the \"Status Table\"\n   * in help, the links to unencountered units now works but have a \"(?)\"\n     and point to an \"Unknown Unit\" page explaining why\n   * the default zoom key now toggles between default and last used zoom. The\n     switch is also faster (cached)\n   * the unit list now colors the stats of units.\n * WML engine:\n   * added effect types new_ability and remove_ability using [abilities] subkey\n   * now [base_unit]id= inside [unit] can extend upon existing unit types\n   * new tag [filter_radius] to allow greater control over radius expansion\n     when using the standard location filter\n   * fix a bug where containers could only be stored at the top-level\n   * fix a bug where both x and y had to be specified in location filters\n   * better handling/reporting of invalid WML variable type usage\n   * new key find_in= to allow searching a variable of previously\n     stored locations when using the standard location filter\n   * new key find_in= to allow searching a variable of previously\n     stored units when using the standard unit filter\n   * new extra_defines= key to define in campaigns some other preprocessor\n     symbol *before* the files are repreprocessed\n   * fog and shroud tiles are now defined by the TerrainWML (not [game_config])\n   * new key store_location_as= to store generated chamber item locations\n   * the border has been made themable\n   * Instead of having an empty upkeep type as the default when reading a\n     config file being used to normally give leaders a 0 upkeep, now leaders\n     (canrecruit=1) are specifically exempted from upkeep and the upkeep\n     type defaults to \"full\" when read from config files the same as for\n     using the recruit function. This makes documenting how upkeep works\n     simpler (it currently wasn't really correct) without having to make\n     leaders loyal. It also will work better for campaigns where the leaders\n     change (not that there are any now) so that the current leader is\n     exempted and any exleaders pay for upkeep (unless the are specically\n     marked as loyal).\n   * make random_traits default to \"yes\". Leaders can't get random traits\n     yet, because it breaks MP, but it does give campaign units traits\n     by default. It also allows specifying some traits and letting the\n     rest fill in randomly. Some traits are always forced on for units\n     that can get them (undead and mechanical).\n   * not_living tag removed from race, as this information is provided\n     by the undead and mechanical traits.\n   * the default for turn limit has changed to unlimited, if you have scenarios\n     which rely on the old default of 50 please add a turns parameter to it\n   * In help, remove the useless \"None\" terrain type from the terrains list of\n     an unit\n * team color\n   * allow color ranges to be defined on-the-fly (like color palettes)\n   * now [side] colour=<string> is valid (previously only int)\n * miscellaneous and bug fixes\n   * added a .desktop entry for the editor so that it is shown\n     in the kde/gnome menu\n   * rewrote the config merge routine (should improve parse time slightly)\n   * various code cleanups\n   * Isle of Anduin renamed to Isle of Alduin to avoid copyright problems.\n   * the assertion 'str.size() <= 4' no longer happens, instead the terrain\n      is read as 'void' and an ingame message is shown (bug #9609)\n   * IMPORTANT! End-of-scenario no longer takes you immediately to the\n     next scenario or the lobby. Instead, you linger in browse mode --\n     menu commands for chat, saving games, etc. are available.\n     Clicking end-of-turn ends the linger and takes you out.\n   * fixed a bug-cheat allowing super-ranged attack in some special cases\n     (thanks jgp93)\n   * fixed incorrect displayed reachable zone when moving next to an enemy\n     in special ZoC cases (skirmish or lvl0)\n   * It seemed it's ambiguous whether the GPL license as supplied by\n     Wesnoth means GPL 2 or GPL 2+, since Sirp's orginal intent was\n     GPL 2+ the license has been changed accordingly.\n     (See https://mail.gna.org/public/wesnoth-dev/2007-07/msg00014.html)\n   * When advancing from Dark Sorcerer to Lich, you now get the undead\n     trait. The way this is fixed can add random traits if the new unit\n     type allows more traits then the unit currently has. This would\n     cause a problem for multiplayer, but no advancement paths currently\n     have this case. You do get to keep your current traits, even if you\n     wouldn't get them in the new unit type.\n   * the minimum savegame protection is ignored when either the savegame\n     or the current game has 'test' as version\n   * Add 2 debug commands: \"fps\" for showing framerate, and \"benchmark\"\n     to force a continuous refresh of the screen (for testing the real fps)\n   * fixed bug keeping highlighted the previous selected hex after a\n     right-click cancel on map using fog/shroud\n   * slightly optimize the showing of the attack dialog\n   * some hotkeys (*,~,{,},^,|,@,#,<,&) are now visible in the hotkey settings\n\nVersion 1.3.6:\n * language and i18n:\n   * updated translations: Danish, Finnish, French, German\n * multiplayer:\n   * the random start ToD option is now properly saved and loaded (bug #9532)\n   * the map in the lobby could be randomly invisible due to an uninitialized\n     variable (bug #9555)\n   * the automatic unit description used a non-MP safe way, this has been\n     fixed\n   * the unit name generation could with different locales call get_random()\n     a different number of times. This lead to different names and traits.\n     Changed to call random a fixed number of times which fixes the traits.\n * miscellaneous and bug fixes\n   * various code cleanups\n   * proper handling of description autogeneration for per level [effect]\n     on level 0 units\n   * changed the order of which the permanent modifications of a unit are\n     evaluated to (amlas, traits, objects)\n     (previous order: objects, traits, amlas)\n   * updated the copyright info in the source files also made it explicit\n     Wesnoth is GPL 2 only (Wesnoth was already GPL 2 only)\n   * Music transitions have now smooth transitions based on m_before end\n     ms_after wml tags\n\nVersion 1.3.5:\n * campaigns\n   * Heir to the Throne\n     * The Elvish Lord's and Elvish High Lord's faerie fire attacks have been\n       changed from cold to arcane and reduced from 8-3 and 8-5 to 7-3 and 7-5\n       respectively\n     * The obsolete Cockatrice unit has been removed\n     * The bugs in HttT's SoF scenario have been fixed\n   * Sceptre of Fire\n     * changed Haldric II a bit and gave him new a sprite and animations\n   * fixed teamcolourless fake unit moves in TRoW, HttT, EI, SoF, NR,\n     TSG and TB\n * map editor:\n   * new checkbox for the \"delay transition update\" option\n   * map code has been refactored and separated from the main game\n * graphics\n   * new animations: elvish scout idle\n   * fix bug #9398 (attacking units always above defending units)\n * sounds and music\n   * removed unused sounds: firearrow.wav, hatchet.ogg\n * language and i18n:\n   * updated translations: Czech, Danish, Finnish, French, Galician, German,\n     Greek, Indonesian, Japanese, Lithuanian, Polish, Spanish, Swedish\n   * updated DejaVuSans font to version 2.18\n * multiplayer:\n   * revised maps: Blitz, Cynsaun Battlefield, Hamlets, Sablestone Delta,\n     Silverhead Crossing, Sulla's Ruins, Blue Water Province, Clash\n   * fix MP crash on next scenario, thanks to Rhuvaen\n   * option to suppress lobby minimaps is gone.\n     Its champion concluded it was pointless.\n * units\n   * new \"mechanical\" trait, meant to show mechanical units are immune to poison\n   * balancing changes:\n     * changed the 'resilient' trait from +3HP +10% to +4HP + 1HP * unit level\n     * decreased the HP reduction of the 'quick' trait from 10% to 5%\n     * decreased the HP addition of the 'healthy' trait from +3HP to +2HP\n     * added the 'quick' trait back to the Clasher line\n     * decreased the blade and impact resistance of saurians from 0% to -10%\n     * decreased the fire resistance of saurians from -10% to -20%\n     * increased the pierce resistance of saurians from 10% to 20%\n     * increased the HP of saurians by 4HP\n     * increased the XP requirement of the Saurian Skirmisher and Augur by 2\n     * increased the melee attack of the Ruffian from 4-2 to 5-2\n * user interface:\n   * allow unfocused widgets to steal the focus instead of just borrowing it\n   * frequency of idle animations halved.\n   * Help topics for units now have 'advances from' links\n   * added experimental new transition between map and background\n   * add colors to the statistics of units in help (Hajo's patch #764)\n   * now scroll to the selected leader in status table\n * WML engine:\n   * now ConditionalWML handles [and], [or], and [not] with in-order precedence\n     (this is part of an effort to standardize the behavior of several\n     different types of filters)\n   * the syntax for logical OR-filters is now \"cond1[or]cond2[/or]\"\n     instead of \"[or]cond1[/or][or]cond2[/or]\"\n   * fix a bug where empty conditionals returned false\n   * now [special_filter] supports [and],[or], and [not] (instead of just NOT)\n   * now standard unit filter supports [and],[or], and [not] (was just [not])\n   * [unstore_unit] can now try to level a unit and does so by default.\n     This time added for real, the replay can also handle it(bug #7426)\n   * new times= key to apply [effects] more than once (default=once,\n     other possible value=per level, i.e. the effect is multiplyed\n     by the level of the unit).\n * miscellaneous and bug fixes\n   * fix renames causing OOS when made after moves or recruits\n   * fix a minor glitch when selecting the leftmost menu heading\n   * added some extra headers for the upcoming gcc 4.3 (debian bug #417764)\n   * changed the default plague weapon special macro to always spawn a WC\n   * scrolling speed is at 1.3.3 speed again\n   * fix a growing cache bug with stoned units facing west.\n   * in tiny-gui, fix badly scaled hp/xp bars at default zoom level\n\nVersion 1.3.4:\n * campaigns\n   * Two Brothers\n     * made the 2nd guards event in scenario 3 depend on if the first answer\n       was correct, now the 2nd event triggers later when the first ends in a\n       fight\n     * added one row of terrain in the 3rd and 4th scenario to make it look\n       better with the new \"boardgame style\"\n   * Heir to the Throne\n     * edited the maps of the scenarios: \"The Elves Besieged\", \"Blackwater\n       Port\", \"Bay of Pearls\", \"Crossroads\", \"The Siege of Elensefar\",\n       \"Dwarven Doors\", \"The Lost General\", \"Elven Coucil\"\n     * adapted the names of the maps and cfgs of the HttT to match the\n       scenario identification keys and the order of the scenarios\n     * added the map of \"Cliffs of Thoria\"\n     * changed one of the Orcish Warlords into a Sovereign and another one\n       into a Slurbow for the variety in \"Dwarven Doors\"\n     * fixed the bug that made the undead leader unable to recruit because of a\n       misspelled unit type in his recruit list in \"The Lost General\"\n   * The Rise of Wesnoth\n     * added the level 3 outlaws ( Hunter, Outlaw Ranger, Fugitive, Highwayman )\n       as a campaign - specific units in The Rise of Wesnoth\n     * added 2 extra turns to finish \"Temple of the Deep\" on all difficulties\n   * Eastern Invasion\n     * Reduced the difficulty of \"Northern Outpost\" scenario by making the\n       villages spawn averagely 1 less outlaws per village\n     * Changed the way Ovaec joins the protagonist in \"Two Paths\".\n       Now he keeps all the XP he might get in \"Northern Outpost\"\n   * Descent into Darkness\n     * Fixed the unknown unit type bug in \"Forever and ever, amen\", the bug\n       that made the Foolish heroes have 30 hitpoints and a broken dialog,\n       all in the same scenario\n * map editor\n   * the minimum map size is reduced to 1\n   * fixed the random map generator\n * graphics\n   * added sickle and scythe attack icons\n   * added weapon-shop tent and oak tree\n   * added automatic side-coloring of custom flags\n   * added a general backgound to make the game look better\n     on really big screens\n   * added a blur effect to most ingame dialogs\n   * new animations: troll whelp idle, young ogre idle, skeleton idle,\n     human loyalist general idle, human loyalist pikeman idle,\n     elvish fighter idle, master at arms crossbow and defend\n   * small improvements of footsteps: no time-of-the-day coloring and\n     better scaling\n * language and i18n:\n   * updated translations: Czech, Danish, French, German, Italian,\n      Japanese, Polish, Spanish, Swedish\n   * new translations: Lithuanian\n * units\n   * added a wolf \"monster\"\n   * balancing changes:\n     * healthy units now can rest even when they move\n       instead of having a double resting bonus.\n     * increased the HP of the Skeleton Archer from 30 to 31\n * WML engine\n   * removed deprecated keys image_healing and image_halo_healing\n   * empty user_description now remains empty unless generate_description set\n     (bug 8522).\n   * empty user_team_name remains empty (bug 9310).\n   * set_variable has the key time=stamp now, to get a timestamp in milliseconds\n   * move some terrain masks definition in [game_config]\n   * made defense_weight work again for values > 0\n   * fixed some minor bugs with \"sighted\" event, \"die\" event, and [kill]\n   * now [allow_undo] should work as expected in sub-commands such as [then]\n * user interface:\n   * most popup windows are now buttonless with 'click anywhere to continue'\n     behavior; to indicate this, such windows are translucent.\n   * maps smaller than the screen are now shown centered on the screen\n   * the movement hint now display a \"(1)\" turn to reach, where the unit\n     will have no moves left (distance, village or ZoC)\n   * fixed bug with the number of turns to reach when crossing several ZoC\n   * ability to view a list of MP servers with the Join Game dialog\n   * fixed blinking tooltips when clock is updated (bug #9209)\n   * footsteps are now erased at the end of the unit's move\n   * reduced \"sea sickness\" effect when scrolling at accelerated speed\n   * allow to select item in menu with right-click\n   * right-click outside of a cancelable dialog to close it\n   * added experimental new background.\n     read comment before draw_background() in display.cpp\n   * the movement hints use multiline, colors and bigger font\n     to display terrain defense and turns to reach\n   * restore search of no-team-only map labels\n   * ability to delete Add-Ons\n   * make disabled buttons more obviously disabled\n   * allow to choose the direction from where attacking, even when you\n     are just near the enemy unit.\n   * new indicator for the attack direction\n   * new method to choose attack direction, use now the last highlighted hex\n     instead of clicked triangle.\n   * improve units list dialog: add a cancel button, fix a bug when selecting\n     the first unit, preselect the on-map-selected unit and highlight on map\n     the selected one.\n * Miscellaneous and bugfixes\n   * fixed a lag in the path rendering when there is a lot of units (bug #9268)\n   * fix bug #4299: word wrap for menus with very long option strings\n   * various bugfixes and code cleanups\n   * removed zipios support\n   * poisonned/stoned text is properly centered again\n   * fixed various bugs with stoned units, now no moves left and blind.\n   * fixed a bug causing instantaneous move of unit when using acceleration\n   * fixed briefly invisible unit when scrolling to show a move\n   * fixed an invalid letter in the random winter scenario\n   * fixed a invalid memory access if a map has width of 0 (bug #9301)\n   * reduce memory usage for the default zoom level\n   * fix various cheat-bugs to detect hidden enemies: using resistance info\n     (bug #9119), search by name (bug #9314), change of hidden icon (bug #9288)\n   * fix jerky overlay of moving unit, now displayed as bars and crown.\n\nVersion 1.3.3:\n * campaigns:\n   * Northern Rebirth\n     * Completed Scenario 'Ray of Hope'.\n   * Sceptre of Fire:\n     * imported from Wescamp\n   * Son of the Black Eye:\n     * Merged into mainline for testing.\n   * Descent into Darkness\n     * added to the pack\n     * new Troll Shaman graphics\n   * Under the Burning Suns\n     * new WML in first and second scenario\n     * tweaked second scenario map\n     * removed a bunch of custom units\n     * removed a bunch of custom terrains\n     * new playable unit in scenario 2\n     * new dehydration logic in scenario 2\n     * new ambush logic in scenario 2\n     * new Troll Shaman graphics\n   * The South Guard\n     * improved Deoran graphics\n   * The Rise of Wesnoth\n     * new Wose Sapling, Warrior King graphics\n * graphics\n   * the leader crown don't hide anymore the top of hp/xp bars (bug #9120)\n   * better flag icons for the status bar\n   * taller flags that don't get hidden behind units so easily\n   * fixed some drawing glitches in the top row (bug #8739 and #8071)\n   * it's now possible to zoom in till the theoretical minimum of 4 pixels\n     per hex.\n   * hp/xp bars in tiny gui have better proportions\n * sound and music:\n   * new or revised sounds: troll hit & die\n   * added sounds for when a unit is slowed or poisoned\n   * added a music track containing only silence (for stopping all music instead\n     of just changing it)\n * language and i18n:\n   * updated translations: Bulgarian, Chinese, Czech, Danish, French, German,\n     Italian, Polish, Spanish, Swedish\n   * updated man pages: Danish\n   * fixed word wrapping in tooltips for Asian languages (or very long words)\n   * updated DejaVuSans font to version 2.17\n * units:\n   * balancing changes:\n     * converted the cold melee attack of the Lich and Ancient Lich to arcane\n     * decreased the arcane melee attack of the Wraith from 7-4 to 6-4\n     * removed the 'fearless' trait from humans, orcs and mermen\n     * added 'firststrike' weapon special to the pierce attack of Drake Clasher\n     * decreased the arcane ranged attack of the White Mage from 8-4 to 7-4\n     * decreased the arcane ranged attack of the Mage of Light from 10-4 to 9-4\n * multiplayer:\n   * added maps: Xanthe Chaos, Auction-X\n   * revised maps: Den of Onis, Hamlets, Meteor Lake, Sablestone Delta,\n     Silverhead Crossing, Blue Water Province, Castle Hopping Isle, Loris River,\n     Crusaders Fields, The Manzivan Traps\n   * Team Survival: the teams are now set correctly and translatable\n * map editor\n   * drawing terrain no longer erase starting positions\n   * added an option \"None\" in the starting position menu\n   * fixed a bug when overwriting starting positions\n   * shorter starting time\n * WML engine\n   * removed deprecated special= support in [effect]\n   * removed deprecated 1.2 map format support\n   * [store_villages] and [store_locations] now use the standard location\n     filter, meaning they accept all the possible keys of [filter_location]\n   * [store_villages] must now use owner_side= instead of side=\n   * replace [own_village] with macro {OWN_VILLAGE X Y SIDE}\n   * new conditional tag [have_location], tests true if any location passes\n     the standard location filter provided inside the tag\n   * now the standard location filter supports [and] and [or] tags\n   * new key flag_icon for [side] to change the flag icon in the status bar\n * user interface:\n   * fixed incorrect active flag in the status bar when using custom flag\n   * restore a lost feature: if acceleration is on, pressing shift uses normal speed\n   * fixed bug #9071 (incorrect behavior of the \"delete\" key at end of line)\n   * fixed various acceleration bugs (things not being properly accelerated)\n   * restored status bars during fights\n   * floating numbers now take acceleration into account\n   * display defense in the status bar of static units (towers) or\n     units placed on impassable terrain\n   * allow middle click on scrollbar to jump to a position.\n * WML tools and scripts:\n   * New tool, wescamp_import, automates the shuffling of translation files\n     and textdomain strings, need to import a campaign from WesCamp\n     to mainline.\n   * New tool, change_textdomain, makes it easy to change the name of UMC\n     after import to mainline.\n   * Old campaign_delete.pl and campaigns_client.pl have been replaced\n     with a new campaigns_client.py.  Main new features are\n     (a) you can download sets of campaigns using RE wildcards, and\n     (b) It's possible to give a BfW version in place of a port number\n     and it will select the right port.\n * Miscellaneous and bugfixes\n   * 1.2 savegames are no longer compatible and thus not loaded\n   * fixed a crash if an invalid scenario was loaded (bug #9049)\n   * fixed bug 8522.  Units without a name will be named after the unit_type.\n   * fixed bug #9103 (AI causes crash when using static units like towers)\n   * fixed a crash if a units poison attack has a cth of 0 (bug #9020)\n   * no longer allow undo if a traitless unit reveals fogged and/or shrouded\n     terrain (bug #9171, patch #739)\n   * fixed a bug where loading didn't clear the halo data (bug #9144)\n\nVersion 1.3.2:\n * campaigns\n   * Heir to the Throne\n     * In Home of the North Elves, Eonihar the rider will join you permanently\n       and the other riders that find you will be controlled by the AI\n     * updated images for Delfador\n     * made the narrator talk about gryphons at the end of Northern Winter only\n       if the player has actually gotten the eggs\n   * Tutorial\n     * merged all unit images used in the tutorial from httt\n     * increased number of turns from 20 to 26 in the 2nd scenario\n   * made some units not appear in the unit help anymore (invisible helper\n     units, duplicate desert elves and such)\n   * The South Guard\n     * better placement and duration of story images\n     * graphical enhancements including a new ethiliel portrait\n     * added 'Ruffian' an L0 outlaw to give the player something easy to kill.\n   * Under the Burning Suns\n     * Scenario 3: Made orc ambush happen on a random turn\n   * Northern Rebirth\n     * Version 18.6 merged in from WesCamp.\n * graphics\n   * added the --max-fps command line switch\n   * changed the drawing logic so it no longer delays when the drawing is\n     lagging\n   * improved the look of the main menu and tips-of-the-day boxes\n     in the title screen\n   * bugfix: units will now fade out properly at the end of death animations\n   * rewrote the halo render engine which solves a few minor glitches,\n     but most importantly speeds up the drawing of the halos.\n   * units are scaled properly when zooming also with tiny gui (bug #8703 and\n     bug #6570)\n   * haloes in tiny gui are now scaled (before unscaled, thus a factor 2 bigger\n     as intended)\n   * the movement text is also scaled now (bug #6876, patch #693)\n   * fix glitches when scrolling the map if zoomed out (bug #8768)\n   * fix the right border glitch of the map when zooming (bug #6060 and others)\n   * flying units are no longer buried in a castle (patch #709)\n   * fix the position of some halos when unit has a height offset (patch #710)\n   * Submerged units are no longer drowned when zooming.\n   * scenery\n     * added animated windmill, fancy and damaged tents, icepack, and shipwreck\n   * fix problems with colour cursor in fullscreen (slow speed, bug #7555 and\n     bug #6052)\n   * new color cursors\n   * fixed some scrolling corner cases (eg. fights happening partially\n     offscreen)\n   * automatic scrolling accelerates now (like a physical mass would)\n * sound\n   * new or improved sounds: hatchet\n   * sounds for user interface events\n   * experimental ambient sounds for when night falls and morning arrives\n   * \"Breaking The Chains\" (freedom.ogg) moved from NR to mainline\n   * All music tracks now have complete Ogg tags.\n * language and i18n:\n   * updated manual: French\n   * updated translations: Bulgarian, Chinese, Czech, Danish, Dutch, French, German,\n     Greek, Hungarian, Italian, Norwegian, Polish, Portuguese (Brazil), Spanish,\n     Swedish\n   * new translations: Indonesian\n   * updated DejaVuSans font to version 2.16\n   * removed FreeSans support since all the codes needed should be coverd by\n     DejaVuSans now\n * multiplayer:\n   * revised maps: Blitz, Castle Hopping Isle, Wilderlands\n   * The countdown timer is now coloured properly when the remaining time is\n     less than 2 minutes.\n   * observer can save a replay of the game again\n * units:\n    * balancing changes:\n      * converted the cold resistance of the Elvish Sorceress line\n        to a holy resistance\n      * decreased the holy resistance of the Orcish Assassin line from 20% to 0%\n      * remove the 'quick' trait from the Clasher line\n      * decreased the holy resistance of the Sky Drake from 20% to -30%\n      * decreased the holy resistance of the Hurricane Drake from 20% to -30%\n      * decreased the holy resistance of the Mermaid Priestess from 40% to 20%\n      * decreased the holy resistance of the Mermaid Diviner from 60% to 40%\n      * decreased the holy resistance of the Dwarves from 20% to 10%\n      * increased the holy resistance of the Ghost line from -60% to -30%\n      * enabled Lich and Ancient Lich to go on deep water and gave them submerge\n      * Level 0 Ruffian & Woodsman added.\n * terrain system\n   * added layer support to the terrain letters, two layers are supported\n * map editor\n   * added an option to delay the complete redraw of the map on command.\n   * fixed a bug causing the loss of editor's hotkeys when loading a map\n * WML engine\n   * new [own_village] condition to check if someone owns a particular village\n   * new [store_villages] tag to store village locations\n   * new [store_turns] tag to store the number of turns remaining\n   * all [store_*] tags get a default variable name\n   * use complex variable substitution almost everywhere\n   * new key for [set_variable], literal=, to avoid variable substitution\n   * [effect] can now toggle the zoc\n   * [effect] can now apply new portrait images and unit type descriptions\n   * [effect] can now filter on unit_gender\n   * new key for [variable], boolean_equals=, to test boolean equality\n   * remove some old backward compatibility support\n   * set_name in attack modification [effect] no longer change the weapon's\n     description, use the new set_description instead\n   * hit=yes in anim is now an alias of hit=hit,kill instead of hit=hit\n     this should fix the sliding bug and fix more bugs than it creates\n   * friendlier boolean matching for unit [filter] and unit [wml_filter]\n   * fixed [special_filter] not working properly (#8212)\n   * fixed [variables] not working properly for Multiplayer mode\n   * new [set_menu_item] action, to allow custom WML items in the context menu\n   * fixed a crash when a WML event killed a unit while dying in an attack\n     which the attack engine didn't expect (bug #8814)\n   * new key for [time], sound=, to specify a list of sounds that can play\n     when ToD changes\n   * more powerful [filter_location], now accepts radius=, [not], and\n     [filter] to match units at the location\n   * added [deprecated_message] so WML can also trigger the deprecated\n     messages; used to tag macros scheduled for removal\n * user interface:\n   * new sounds for user interface events\n   * added the option to show warnings about deprecated WML usage\n   * added the \"ignore all\" option to continue observing during massive OOS\n   * show total amount of visible villages (patch #698)\n   * added drag & drop to move units\n   * mousewheel now by default scrolls vertically,\n     and horizontally if alt is pressed.\n   * added support for horizontal mousewheel (patch #644)\n   * don't change the wait cursor when moving on the map (bug #8915).\n   * update the highlighted hex after a scrolling with keys or mousewheel\n * WML tools and scripts:\n   * Reorganized: these now live in data/tools/\n   * New tool, macroscope, generates cross-reference reports on macro usage.\n     Among other things, it can be used to find unresolved macro and\n     resource-file references, or spot unused macros and resource files.\n   * New tool, upconvert, handles converting maps and resource file names\n     between versions.  It replaces map_convert.pl, which is now gone.\n     It should be used to update UMC, though it doesn't do a complete job\n     (which requires some human judgment).\n   * New tool to create the unit tree in html, as used for units.wesnoth.org\n     (written by elricz)\n   * The old find-unused-images and find-unused-sounds scripts are deleted\n     (replaced by macroscope).\n   * The Perl random map generator (unmaintained since 2003, only\n     generated old-style single-letter maps) has been removed.\n * miscellanous changes and bug fixes\n   * a friendly healer will now stop poisoned unit to lose HP\n   * a unit that dies while attacking will now correctly play its own death\n   * turn bell can sound if other soundFX are turned off\n   * the first turn starts again with the proper time of day (bug 8637)\n   * removes the scaling handling in the halo, removing quite some code\n   * fixed various problems found by valgrind, note some invalid access\n     are now protected by asserts, so there might be more crashes instead\n     of silent memory corruptions (bug #8715, bug #8756 and bug #8839)\n   * fixed beginning-of-scenario saves containing scenario WML (bug #8698)\n   * fixed \"End Turn\" button clickable after Ctrl-F (bug #6556)\n   * fixed autosaves not getting deleted for last campaign scenario and\n     multiplayer (bug #8762)\n   * Performance: wml compression is done in the helper threads\n     instead of the main thread\n   * Added some protection against crashing when attacking with units with\n     a high or negative amount of hitpoints (bug #6154, bug #7955, bug #8541)\n   * fix skirmisher filtered by terrain not working properly.\n   * fixed Ethiliel not showing up in the scenario \"Vengeance\" of TSG\n   * with a move attack action if the moveto event moves the defender\n     Wesnoth would crash (part 1 of bug #8882)\n   * fix missing filterings on some animations\n   * renamed holy damage type to arcane\n   * increased required version of python from >=2.3 to >=2.4\n   * fixed detection of installed python versions to work on systems\n     that do not have python installed at /usr/ (like MacOSX using fink)\n\nVersion 1.3.1:\n * Campaignd\n   * first argument is number of threads to use, defaults to 5\n * campaigns\n   * Eastern Invasion:\n     * Drowned Planes: the dragon starts on grassland\n     * The Crossing: fixed a bug which prevented the undead leader spawned\n        at turn 8 to have a keep\n     * The Duel: the keep is replaced by a castle tile instead of grass\n   * Heir to the Throne\n     * removed Mountain Pass and Valley of Statues from the repository\n     * added underpinnings of an unlockable, optional, bonus scenario\n     * Battle_for_Wesnoth: allow Asheviere to recruit non-scout units\n     * In Elven Council the leaders are no longer standing in a keep\n       but in a normal castle tile\n   * The South Guard\n     * Proven by the Sword: tell Deoran to go to Westin if the citadel\n       is secured (fixes #7360)\n   * Two Brothers\n     * updated the portrait of Bjarn to match the new mage colors\n     * removed Skeletons as enemies in the first mission on easy, and\n       Skeleton Archer as enemy on hard\n     * added Ghouls as enemies for all undeads\n     * some map updates to make them easier (2nd mission) or look better\n       (all the other missions)\n * editor\n   * allow maps to be loaded from scenario files and written back to them\n   * upon entering a new starting position the underlaying terrain\n     remains unchanged\n   * when overwriting a starting position and undo that action\n      only the terrain was undone, not the starting position that's fixed\n   * flipping a map over the Y axis no longer resizes the map\n   * flipping a map over the X axis uses slightly different filler rules\n   * added the paste option to the edit menu\n   * added the option to split the terrains is groups\n   * the brush size in non-drawing mode is ignored\n   * added an alpha blended preview of the selected terrains\n     upon drawing. The optimal alpha value needs some tuning, so\n     there's a setting, which is not stored in the preferences\n * graphics\n   * missiles now take unit_height_adjust into account\n   * improved layering system for terrain graphics\n   * fixed terrain selection probabilites (patch #617)\n   * stoned units do not use a separate cache\n   * no more \"darkened\" cache. we now overlay terrain/darken.png\n   * added the option to draw overlays on terrains filter by location,\n     selected and mouseover hex\n   * items with a halo have their halo hidden when under a shroud (bug #8523)\n   * the visibility icon of an unit is now properly updated (bug #8107)\n   * terrain\n     * added peaks to the impassable mountains\n     * added bridges crossing swamp and deep water\n     * added farmland\n     * added elvish castle\n   * unit art\n     * added a recruit animation for Skeleton\n     * new death animations: Orcish Assassin, Grunt, Undead Ghoul,\n       Ancient Wose, Elder Wose, Thief\n     * changed name on Dwarvish Warrior art files to Dwarvish Steelclad,\n       to conform to unit .cfg file name\n     * new attack icons: undead axes, undead crossbow, pick axe, glaive,\n       elven staff, mace-and-chain\n     * new baseframes: all Mages, Footpad\n     * new and changed animations:\n       * Elvish Hero: melee attack\n       * Elvish Sorceress line: magic shield\n     * updated portraits: Troll\n   * other images\n     * animate-able campfire\n     * crown icons for heros and expendable allied leaders\n     * star shaped \"ellipses\" for leaders and hero units\n     * updated and added many misc items\n     * modified hex-grid\n     * slightly modified logo\n   * fix gryphon not being in the center of their hex\n   * fixed incorrect WML in some units causing female variations to use male\n   * fixed some cases where fog was updated without being redrawn\n * language and i18n:\n   * updated translations: British English, Catalan, Czech, Danish, Dutch,\n     Estonian, French, German, Greek, Italian, Polish, Russian, Serbian,\n     Slovak, Swedish\n   * updated DejaVuSans font to 2.15\n   * fixed huge list of spelling mistakes in the en_US version\n   * allow sighted messages to be translated with correct plural form\n     (bug #8161)\n   * moved the translation for campaign-specific units into the\n     campaign textdomain (some campaigns did still use the\n     wesnoth textdomain for their units)\n   * made the unit generated names translatable\n   * switch to mainly using single space\n * multiplayer\n   * game management\n     * replace \"Downloading next level...\" by \"Receiving data...\"\n       when scenario don't have next_scenario\n     * replace \"Downloading next level...\" by \"Downloading next scenario...\"\n     * fixed controller change not sent to all clients (bug #8138)\n     * client now tells the server if a game ended in victory or defeat\n     * configurable castle size for random map generator (patch #598, FR #3232)\n     * team names translation now supported\n     * sped up the lobby, the lag is much lower now (patch #676 and patch #677)\n   * scenarios\n     * scenarios can set faction, recruit, leader, and some other\n       initial settings previously ignored in multiplayer\n     * added option to have random time of day in begin of multiplayer game\n   * maps:\n     * new multiplayer maps: The Manzivan Traps, 4p Hamlets\n     * revised maps: Blitz, Charge, Den of Onis, Hamlets, Meteor Lake,\n       Sablestone Delta, Sulla's Ruins, Wesbowl\n     * made the AI recruit less scouts by setting the village_per_scout\n       parameter\n   * Wesbowl: the respawned units are fully healed again (bug #7776)\n * Python AI\n   * Added various input validations\n   * Set Python errors upon error\n   * added support for optipng optimization in the compilation process\n * terrain system\n   * The entire underlaying system has been converted to a new system,\n     this might render some UMC broken, read this forum thread for more details\n     http://www.wesnoth.org/forum/viewtopic.php?t=14910\n   * Terrain of the starting position can be changed in the map,\n     the automatic conversion to a keep is no longer done\n   * New definition for the maps in terrain-graphics\n   * All keeps have their own letter\n   * Added wildcard matching support in a few cases\n   * Added support to customize the village mouse-over texts\n     depending on the ownership\n   * Added a conversion script to convert old maps\n * units:\n   * balancing changes:\n     * implemented the holy damage type redesign as discussed on the mailing list\n     * increased the pierce resistance of the Gladiator line from -10% to 0%\n     * decreased the cold resistance of the Armageddon Drake from -30% to -50%\n     * increased the HP of the Longbowman from 45 to 51\n     * decreased the XP requirement of the Longbowman from 80 to 68\n     * increased the HP of the Master Bowman from 58 to 67\n     * decreased the HP of the Arch Mage from 57 to 54\n     * removed the Shock Trooper line from random_leader\n     * increased the melee attack of the Shyde from 4-2 to 6-2\n     * increased the ranged slow attack of the Shyde from 7-2 to 6-3\n     * increased the ranged magical attack of the Shyde from 7-3 to 8-3\n     * increased the melee attack of the Enchantress from 5-2 to 6-2\n     * increased the melee attack of the Sylph from 5-3 to 6-3\n     * increased the ranged slow attack of the Sylph from 6-4 to 6-5\n     * increased the HP of the Sylph from 58 to 60\n     * increased the XP requirement of the Guardsman from 42 to 47\n     * increased the HP of the Stalwart from 48 to 54\n     * increased the XP requirement of the Stalwart from 65 to 85\n     * increased the HP of the Sentinel from 56 to 68\n     * removed the Stalwart line from random_leader\n     * increased the XP requirement of the Gryphon Rider from 36 to 38\n     * increased the HP of the Gryphon Master from 46 to 51\n     * decreased cost of the Mudcrawler from 9 to 5\n     * Dark Adepts no longer get the 'strong' trait\n     * decreased the HP of the Shadow from 26 to 24\n     * added the skirmisher ability to the Shadow line\n     * increased the melee attack of the Walking Corpse from 5-2 to 6-2\n     * made the Walking Corpse line get the fearless trait\n     * increased the cost of Walking Corpses from 6 to 7 gold\n     * increased the HP of the Goblin Rouser from 26 to 31\n     * increased the melee attack of the Goblin Rouser from 5-3 to 6-3\n     * increased the moves of the Troll Rocklobber from 4 to 5\n     * decreased the HP of the Troll Rocklobber from 53 to 49\n   * adapted WML to use [if] statements to differentiate hit and miss frames\n   * new traits\n     * healthy (+3HP, +4 rest healing), fearless (ignore unfavorable ToD)\n   * new units\n     * added the Armageddon Drake (not used in any mainline eras)\n     * added dwarvish walking corpse/soulless variations\n   * added a generic macro to have a standard filter for all idle anim\n   * fixed a bug which prevented a Mermaid Siren picking up a storm trident\n   * fixed a bug which caused the slow effect being applied twice (bug #8458)\n * user interface\n   * use \"Save Replay\" instead of \"Save Game\" when asking to save a replay\n     (bug #7256)\n   * fixed enemy Gold shown twice in debug mode in status table (bug #6895)\n   * added an option to hide minimaps in the multiplayer lobby\n   * added menu items for saving the current map\n   * added turbo speed setting and changed ui accordingly\n   * turn bell moved to sound tab in preferences\n   * new volume slider for the turn bell\n   * disabled inactive sliders instead of hiding them\n   * sliders can be adjusted with keyboard (left and right arrow)\n   * sidebar reports related to gold, units, villages and time\n     get greyed out during other team's turns\n   * improve the tiny gui support (resolution of 320x240 pixels)\n   * when sighting friendly units, the message is now blue\n   * show leader name in statistics title (patch #604, FR #6932)\n   * show the team a side belongs to in the status table.\n   * show leader's name and colour at status table even when that team is fogged\n     (patch #605)A\n   * changed the zoom hotkeys from 'z', 'x' and 'c' to '+', '-' and '0'\n   * fix the completion when controlling multiple sides (bug #8101, patch #653)\n   * smarter focus handling when user input is irrelevant to the current focus\n     but relevant to another widget\n   * fix the \"keylogger\" effect when joining the MP Lobby\n   * menus can now stay scrolled to the bottom if they were already scrolled\n     to the bottom\n   * scrolling performance improved\n   * overall game performance improved when many units are visible\n   * better performance when mouse is over a unit that sees many enemy units\n   * show full username at bottom of screen when moused over in MP Lobby\n   * animations draw faster now and the speed is independent of the resolution\n   * fog/shroud is cleared after attack-move (bug #7131)\n   * made some tooltips visible again (bug #6702 and bug #8380)\n   * send a whisper message to a player when double clicked on the player list\n * friends list\n   * added a friend list in MP lobby, they will display a special icon in lobby,\n     and you can be warned when they join the lobby even when not receiving\n     lobby joins\n   * added an option to specify what you want to see as joins: all, friends,\n     none\n   * added a sub tab of multiplayer to the preferences menu to view and edit\n     your friends and ignores list\n   * if you choose to sort the lobby list your current login name will be\n     displayed on the top of the list\n * WML engine\n   * fixed era events not working on non hosts\n   * added the the ability of passing a conditional statement in the [option]\n     child of [message] if show_always=no to show this option only if the\n     statement is passed.\n   * added location range filter to [filter_location] in standard unit filter.\n   * added prerecruit event that takes place after the unit is created but\n     before it is displayed.\n   * added ability to define color ranges and palettes in scenario, units,\n     and unit modification effects.  Added ability to add image modifications\n     in a unit modification [effect] tag\n   * SUF can now filter on anything that is also available throught\n     unit variables, using a [wml_filter] block\n   * overhaul of the team coloring engine.  Now it is possible to apply\n     multiple TC to an image.\n   * added fourth color in team_rgb definitions for representative color\n     in minimap\n   * added a horizontal/vertical flip function to ImagePathWML\n   * added a 'hide_help' key that prevents a unit type from being listed\n     in the in-game help (bug #5701)\n   * added an 'allow_new_game' key (default=yes) to prevent [multiplayer]\n     scenarios from showing up in the multiplayer game creation interface\n     (FR #6397)\n   * new [set_specials] tag to allow custom specials in [effect] tags\n   * new 'remove_specials' key to allow the removal of specials in [effect] tags\n   * obsolete the 'set_special' key in [effect] tags\n   * correct handling of UTF8 filenames under windows\n   * animations can now use standard unit filters\n   * animations can now use standard unit filters on the secondary unit\n   * animations can now use standard unit filters on any neighbouring unit\n   * fighting animations can now be filtered by swing number, damage done and\n     normal attack filters (both attacker and defender)\n   * made some animation parameters progressive (allows a value to be changed\n     gradually to another value over time)\n   * new progressive parameters: 'alpha' (opacity of a frame),\n     'offset' (the position relative to the faced hex), 'blend_color'\n     and 'blend_ratio' (to mix a given color with the frame)\n   * units can now have a recruit animations that will be played on unit recruit\n   * units now have idle animations, played when they've been idle for some time\n   * units now have leveling up animations\n   * units can now have victory animations, usable with the WML tag\n     'victory_anim'\n   * units can now have healed animations, used when they get healed\n   * units can now have poison animations, used when they suffer poison damage\n   * [event]s can now be written also inside [era]s (the [event]s are included\n     in every scenario played using that era)\n   * new operations for set_variable: divide and modulo\n   * Animations now use duration= tag instead of begin= and end= (backward\n     compatible)\n   * Animations now have a frequency= filter to allow to tweak relative rarety\n   * [message]s now use the duration= tag instead of [delay]ing afterwards\n   * the filtered unit can be accessed in SUF using $this_unit\n   * the primary unit can be accessed in events using $unit\n   * the secondary unit can be accessed in events using $second_unit\n   * added support for random_start_time in [scenario] (feature request #8024)\n   * extended label to support team only and colors\n   * gender-specific forms for trait names are now possible.\n   * setting a WML variable to a random value now works correctly in MP games\n   * text displayed when a unit is ambushed is now customizable with the new\n     alert= key of the [hides] ability (FR #8264 2.)\n   * unit animation terrain filter works properly again.\n   * unit animation terrain filter now supports wildcard matching.\n   * the encountered terrains are now written in a new format.\n     this means the user has to rediscover all available terrains.\n   * fixed a bug which returned wrong values if a random number was negative\n   * max level advancements now raise the advance and post_advance events\n   * [effect] can now remove attacks with the remove_attacks key\n   * [unstore_unit] can now try to level a unit and does so by default (bug #7426)\n * sound\n   * new or revised sounds: morning star, holy magic.\n   * add advanced sound tab to pref allowing you to play with sample_rate and\n     buffer_size options\n * misc:\n   * --validcache runtime switch to force assumption that cache is valid\n   * add two new debug command set_var and show_var to check variables\n     within the game easily\n   * better handling of SDL_ListModes return code (no user impact)\n   * first turn of a game is saved again (fixes bug #7909 and bug #8117)\n   * reduce CPU usage by removing calls to SDL_GetTicks for idle animations\n   * changed network thread management to be more scalable, both with\n     an upper and lower number of threads\n   * enabled python as default, to disable it use --disable-python\n   * various code cleanups\n   * replaced KDE/Gnome desktop support with generic freedesktop standard\n   * if a unit gains enough XP to gain 2 levels, this will be done directly\n\nVersion 1.2:\n * campaigns:\n   * Two Brothers:\n     * updated portraits for Arne and Bjarn\n   * Under the Burning Suns:\n     * changed some maps to fix glitches\n     * fixed some image paths\n     * new naga hunter portrait from Ranger M\n     * uses the new lava transitions\n * graphics:\n   * terrain:\n     * new ice transition\n     * modified swamp color\n   * units:\n     * new team-colored base-frames: grand marshal, human assassin, sergeant\n     * halos for elvish shaman line attacks\n     * new lightning bolt for Delfador\n     * new fireball attack\n     * new attack icons for wose crush and troll hammer\n   * misc:\n     * new icons for preferences\n     * updated hex grid\n * language and i18n:\n   * new man pages: Russian\n   * updated translations: Catalan, Dutch, French, German, Greek, Italian,\n     Norwegian, Russian, Slovenian\n   * updated DejaVuSans font to 2.13\n * multiplayer maps:\n   * revised maps: Blitz, Charge, Den of Onis, Hornshark Island, 4p Morituri,\n     Meteor Lake, Lagoon\n * multiplayer\n   * fixed some automove bugs (bug #7494 and bug #7251)\n   * fixed passing controller in mp campaign (bug #7936)\n   * added help strings so that long map names can be read\n     from the MP Create screen\n   * used small bold text for \"Load Game...\" item\n   * support added for allow_new_game=no (for MP Campaigns)\n * misc:\n   * fixed the AI usage of attack_weight (bug #7953)\n   * the displayed terrain now has a space before the opening bracket\n   * fixed a crash when image is missing (patch #647, thanks to pauli)\n   * fixed a crash when attacking a sea serpent (bug #8075) (patch #648)\n\nVersion 1.1.14:\n * campaigns:\n   * Eastern Invasion:\n     * added a starting position for the seventh enemy (bug #7918)\n   * Heir to the Throne:\n     * fixed the signpost image in the narration (patch #638)\n   * The Rise of Wesnoth:\n     * fixed bad glitches in the map Rise of Wesnoth\n   * The South Guard:\n     * made it possible to finish \"Into the Depths\"\n       even without enough gold to pay the trolls\n * graphics:\n   * terrain:\n     * new special transition between chasm and dwarvish castle\n     * new lava transitions (looks like completely new lava)\n     * fixed glitches with impassable mountains at the edges of maps\n     * resolved all glitches with cave walls\n   * units:\n     * new teamcolored baseframes: Halberdier, Heavy Infanfantry,\n       Pikeman, Shocktrooper, Siegetrooper\n     * new baseframe: Yeti\n     * some new skulls for skeleton units\n   * misc:\n     * new attack icon for wooden sword\n     * new dwarven gate\n     * new portrait for Asheviere\n     * new, better looking hexgrid\n * language and i18n:\n   * switch back to non-utf8 locale definition to fix some problems,\n     --enable-dummy-locales should work again\n   * updated man-pages: French, German\n   * updated translations: Czech, Esperanto, French, Greek, Italian, Russian\n * multiplayer maps:\n    * revised multiplayer maps: 3p Morituri, 4p Morituri, Blue Water Province,\n      Den of Onis, Hexcake, Isar's Cross, Merkwuerdigliebe, Meteor Lake,\n      Sablestone Delta, Sulla's Ruins\n * misc:\n   * fixed a crash in the recall event_handler\n   * fixed game crashes during AI turn (#7988)\n   * fixed graphic glitch with large units\n   * fixed sighted event with delay shroud during move&attack\n     and also only move\n   * add script to strip ICC profiles from images\n   * modified wesnoth-pngcrush to use optipng instead of pngrewrite\n     (a lot slower than the old script, but good compression results)\n\nVersion 1.1.13:\n * graphics\n   * updated races to support team color: elves, goblins, lizards, ogres,\n     orcs, trolls, woses, many dwarves, many humans, many undead, and galleons\n   * new baseframes: elvish shaman line, troll whelp line, wose line, galleons,\n     ogres, many other units\n   * new or improved death, attack, and defense animations for various units\n   * new attack icon: ballista\n   * terrain\n      * various minor terrain and item improvements\n      * resolved the worst glitch between chasm and cave-walls.\n   * additional star-shaped ellipses for designating special units.\n * language and i18n:\n   * updated manpages: French\n   * updated manual: Italian\n   * updated translations: Czech, Esperanto, French, German, Italian\n   * updated DejaVuSans font to 2.12\n   * reworked language files\n   * added descriptions to the weapons of some campaign units\n     to make sure they are correctly translated\n * multiplayer maps:\n    * revised multiplayer maps: Charge, Hamlets, Hornshark Island, Silverhead\n      Crossing, Sulla's Ruins, 3p Morituri\n * misc bugfixes:\n   * several minor bugs\n   * other bugs people did forget to mention that they were fixed\n   * unit frames are now centered instead of aligned on upper left corner\n\nVersion 1.1.12:\n * user interface\n   * move chat line slider bottom (Multiplayer options)\n   * display started game with vacant slot with yellow font\n   * fix allow to move other player's (bug #6451)\n * sound\n   * add sample_rate option (read only) to solve cracking sound\n     on some sound card (Intel HDA, cmipci, ...) (bug #7507)\n * graphics\n   * new portraits: Human Bowman\n   * unit animations: Elven Hero's melee attack, Dragonguard,\n     Saurian mages, Young Ogres, Troll Warrior, Troll Rocklobber\n   * team color: Trolls, Woses, Orcish Assassin, Thief, Rogue and\n     other outlaws\n   * new/modified attack icons: dark magic, drake, javelins, ...\n   * other: new sceptre\n * multiplayer\n   * send a server message each time side controller change (fr #7358)\n   * fixed green game bugs\n   * fixed new host doesn't get control when original host left (bug #7351)\n   * fixed crash when transfering a side (bug #7346, bug #7455)\n   * fixed message bell sounding even on ignored messages (bug #7378)\n * language and i18n:\n   * new manpages: Dutch\n   * updated translations: Esperanto, French, German, Greek, Italian,\n     Norwegian, Japanese, Polish, Slovenian, Turkish, Valencian\n   * updated MANUAL: Czech, German\n   * updated DejaVuSans font to 2.11\n * multiplayer maps:\n    * revised multiplayer maps: Hamlets, Meteor Lake, Sulla's Ruins,\n      Silverhead Crossing, Isar's Cross, Paths of Daggers\n * engine changes\n    * fixed the terrain defense alias to be used properly\n    * fixed aggression calculations (bug #7432)\n * misc bugfixes\n   * fixed malfunctioned sighted event during shroud (bug #4398)\n   * fixed stats in replay counted not from 0 (bug #7245)\n   * fixed replay end showing scenario objectives (bug #6937)\n\nVersion 1.1.11:\n * multiplayer\n   * fixed no vacant slots in MP lobby for reloaded game (bug #7286)\n   * fixed transfering control (bug #6577, bug #7046)\n   * fixed Computer vs. Computer odd side effects (bug #7156)\n * user interface\n   * fixed wrong turn number in multiplayer lobby with re-loaded game (bug #7229)\n   * fixed graphical glitches when sending a single '*' message (bug #7197)\n   * fixed blue orbs when given control of another side (bug #6352)\n   * fixed program freeze when campaign server is unreachable (#bug #6291)\n * Python AI\n   * there is now wesnoth.get_version()\n * WML engine\n   * [event]s can now be written also inside [era]s\n     (the [event]s are included in every scenario played using that era)\n   * complex missiles frames are now in macros\n * language and i18n:\n   * updated translations: Bulgarian, Catalan, Dutch, French, German,\n     Italian, Japanese, Russian, Spanish, Swedish\n   * updated MANUAL: Japanese, Swedish\n\nVersion 1.1.10:\n * campaigns:\n   * Heir to the Throne\n     * made it a lot harder to kill Li'sar in Ford of Abez\n       by giving her reinforcements more often\n   * The South Guard\n     * Animation for Deoran's Mace attack (from special AMLA)\n * language and i18n:\n    * new translations: Valencia\n    * updated translations: Czech, English (British), Finnish, German, Italian,\n      Japanese, Polish, Portuguese (Brazil), Slovak, Serbian, Swedish\n    * new or updated man pages: Czech, English (British), French, German,\n      Italian, Japanese, Portuguese (Brazil), Slovak, Swedish\n    * removed (outdated) man pages: Hungarian\n    * updated MANUAL: Swedish\n * multiplayer maps:\n   * revised multiplayer maps: Den of Onis, Hamlets, Meteor Lake, Sablestone\n     Delta, Island of the Horatii, Castle Hopping Isle, Siege Castles, King of\n     the Hill, Loris River, Forest of Fear, Waterloo Sunset, Merkwuerdigliebe\n   * fixed the leader lists in Wesbowl to match current factions\n * multiplayer\n   * scenarios can set faction, recruit, leader, and some other\n     initial settings previously ignored in multiplayer\n * WML engine\n   * now \"ai turn\" events are fired for all AIs (#6738)\n   * recruitment_pattern inside [ai] can now change mid-scenario (#6669)\n * Graphics:\n   * New dwarven castle\n   * New Swamp overlay tiles\n * Python AI\n   * there is now unit.stoned\n\nVersion 1.1.9:\n * campaigns\n   * Heir to the Throne\n     * fixed gold typo in Dwarven Doors (#6481)\n     * Isle of the Damned: removed merman recall on HARD\n   * Two Brothers\n     * fixed showing the objective \"kill the mage to get the key\"\n       if you already obtained the key (#6704)\n * multiplayer maps:\n   * revised multiplayer maps: Sablestone Delta, Den of Onis\n * language and i18n:\n   * updated translations: Dutch, Esperanto, Finnish, French, German, Italian,\n     Japanese, Norwegian, Polish, Russian, Serbian, Slovak, Slovenian, Spanish\n   * new manual: Japanese\n   * updated manual: Portuguese (Brazil)\n * units:\n   * balancing changes:\n     * removed Necrophage from random_leader\n   * added profile key to female thief to prevent use of male image\n * user interface\n   * changed the hotkey for 'end turn' from 'alt+space' to 'ctrl/cmd+space'\n     because it interferes with several common window managers\n   * changed the hotkey for 'repeat recruit' from 'ctrl+shift+r' to\n     'ctrl+alt+r' since shift toggles accelerated mode and produced\n     an animation glitch with this hotkey; this needs to be considered\n     for future hotkey changes/additions (see bug #6312)\n * misc\n   * fixed --with-desktopdir and --with-icondir,\n     it still needs --with-kde or --with-gnome (#6499)\n   * correct handling of UTF8 filenames under windows\n   * multiplayer game management: client now tells the server\n     if it ended in victory or defeat\n\nVersion 1.1.8:\n * campaigns\n   * Eastern Invasion:\n     * replaced unit \"Lord\" by \"General\" (#6132)\n   * The South Guard:\n     * fixed a few broken image paths\n     * scenario 2:\n       * made the enemy leader water-phobic, so he won't charge fishes\n       * moved away a footpad so he won't steal the keep at turn #1\n     * Jarek no longer acts loyally (#6408)\n   * Heir to the Throne\n     * fixed fire sword that can't be picked up (#6234)\n     * increased income for Snow Plains enemy\n     * removed obsolete maps\n     * Dwarven Doors balancing tweak: AI gets more income, less gold\n     * Home of the North Elves: only need to resist one turn, not all turns\n   * Under the Burning Suns:\n     * scenario 3: Undead leaders can't move on \"very hard\" difficulty\n   * The Rise of Wesnoth\n     * fixed several more portrait issues\n     * standardized \"speaker\" usage in messages\n     * removed recall of knights in underground scenarios\n     * added hero icon to Lt Aethyr in Clearwater Port\n     * fixed missing galleon images\n     * fixed missing story image in Rough Landing\n     * fixed missing music in the last scenario\n * graphics\n   * new attack icons: Dragonstaff, Drake Flaming Claws, Faerie Fire,\n     Human Fist, Scimitar, Whip\n * language and i18n:\n   * updated translations: British English, Catalan, Czech, Dutch, Esperanto,\n     Finnish, French, German, Hungarian, Italian, Japanese, Latin, Norwegian,\n     Polish, Portuguese (Brazil), Russian, Slovak, Slovenian, Spanish, Swedish\n   * updated man pages: Swedish, German\n   * updated manual: Italian\n * multiplayer maps:\n   * revised multiplayer maps: Amohsad Caldera, Blitz, Caves of the Basilisk,\n     Charge, Den of Onis, Hamlets, Hornshark Island, 4p Moritori,\n     Merkwuerdigliebe, Sablestone Delta, Silverhead Crossing\n * music & sound\n   * new or improved sounds: elf hit, yeti hit & die, magic missiles, poison,\n     stoned, gryphon hit & die & shriek, orc hit & die, small orc hit & die\n * engine changes\n   * added support for proper healing animations\n   * team colouring now applied correctly everywhere, such as in recruit dialogs\n   * new (optional) image path syntax to allow team colouring of images\n     anywhere, for example in campaign icons\n * AmigaOS4 support (patch #564)\n * user interface\n   * disable inactive sliders instead of hiding them\n   * sliders can be adjusted with keyboard left and right\n   * improved the parsing speed of the help dialog\n\nVersion 1.1.7:\n * campaigns\n   * Heir to the Throne\n     * added 2 mermen to Bay of Pearls on hard\n     * lowered turn limits on Scepter of Fire to something sane\n * language and i18n:\n    * updated translations: French, German, Portuguese (Brazil),\n      Spanish, Swedish\n * multiplayer maps:\n    * revised multiplayer maps: Amohsad Caldera\n * units\n    * balancing changes:\n      * removed White Mage and Mage of Light from random_leader\n      * removed special defense values from the Merman Hoplite\n      * decreased the melee attack of the Merman Javelineer from 8-3 to 8-2\n      * increased the melee attack of the Merman Entangler from 7-3 to 8-3\n      * increased the ranged attack of the Merman Entangler from 7-3 to 8-3\n      * increased the melee attack of the Necrophage from 6-3 to 7-3\n      * decreased the XP requirement of the Necrophage from 66 to 40\n * music & sound\n   * new or improved sounds: lich hit & die, bite, tail\n * graphics\n   * new village flag animation\n   * some units and animations updated for team color support\n * fixed bug that caused the game to freeze when a leader\n   takes part in a fight\n\nVersion 1.1.6:\n * campaigns\n   * Heir to the Throne\n     * added a secret, powerful item to one of the later scenarios\n     * ensured minimum gold of 500 to start campaign climax scenarios\n       (after Elven Council)\n     * expanded list of units that can obtain the Fire Sword\n     * added an option dialog to let you choose who gets the Fire Sword\n   * The Rise of Wesnoth\n     * fixed missing objectives for Cursed Isle\n   * The South Guard\n     * fixed Naga position in Hard mode for Tidings Good And Ill\n * multiplayer maps:\n   * renamed Smallolof to Amohsad Caldera\n   * revised multiplayer maps: Caves of the Basilisk, Cynsaun Battlefield,\n     Sulla's Ruins, Hornshark Island, 3p Morituri, Blue Water Province,\n     Castle Hopping Isle, Forest of Fear, Amohsad Caldera, Hexcake\n * units\n   * balancing changes:\n     * removed special defense values from the Merman Fighter line\n     * decreased impact resistance from 30% to 10% for the\n       Heavy Infantryman line\n * graphics\n   * updated armor sprite\n   * new attack icons: Cleaver, Pitchfork, Quarterstuff, Wooden Sword\n   * new tropical forest\n * user interface\n   * added several default hotkeys\n   * changed the hotkey for 'Update Shroud Now' from 'ctrl+k' to 'S'\n   * moved the hotkey definitions into its own file\n   * added illuminated cave to help.cfg\n   * added illumination description to lava in help.cfg\n * language and i18n:\n   * updated translations: Finnish, French, German, Hungarian,\n     Latin, Polish, Portuguese (Brazil), Swedish, Turkish\n   * updated MANUAL: Swedish\n   * updated man pages: German, Swedish\n\nVersion 1.1.5:\n * WML engine\n   * all [event] tags shall perform complex substitution\n   * new key in [advancement] to prevent AMLA if the unit\n     can advance to another unit.\n * language and i18n:\n   * updated translations: Czech, Finnish, Hungarian, Italian,\n     Latin, Norwegian, Portuguese (Brazil), Spanish, Swedish\n * campaigns\n   * Tutorial\n     * the hero icon is explained\n   * Heir to the Throne\n     * not being able to recruit gryphons is further explained\n       in Northern Winter\n     * made Dwarven Doors entrance accessible to mountedfoot\n   * The Rise of Wesnoth\n     * gave hero icons to unkillable heroes (possibly missing some)\n     * fixed lack of death objective for Lord Typhon in A Final Spring (#6108)\n     * Added new terrain to Temple of the Deep and The Ka'lian\n     * Removed some cave terrain in The Sewer\n * multiplayer maps:\n   * config file update: Sulla's Ruins\n   * revised multiplayer maps: Charge, Meteor Lake, King of the Hill,\n     Loris River, Paths of Daggers, Siege Castles, Waterloo Sunset\n * units\n   * fixed zoc/no zoc ellipses\n   * balancing changes:\n     * Increased HP of the Footpad from 28 to 30\n     * Increased melee and ranged damage of the Footpad from 4-2 to 5-2\n     * Increased HP of the Outlaw from 40 to 42\n     * Increased melee damage of the Outlaw from 7-2 to 8-2\n     * Added marksmanship to the Drake Glider branch\n     * Hurrican and Sky Drakes now have same defense and movement costs\n       on fungus and in caves like other drakes.\n * music & sound\n   * new or improved sounds: holy magic, thorns, pincers\n * miscellaneous\n   * added a generic scenario music macro and table of contents to utils.cfg\n   * added an advanced preference to disable mouse scrolling\n   * --no-delay and --exit-at-end options added for benchmarking\n * graphics\n   * new attack icons: Curse, Drake Claws, Human Crossbow, Human Throwing\n     Dagger, Ink, Orcish Bow, Orcish Crossbow, Orcish Spear, Slam, Tentacle,\n     Thunderstick, Undead Dagger, Waterspray, Web\n\nVersion 1.1.4:\n * language and i18n:\n   * updated translations: Czech, German, Slovak\n * help menu\n   * It is now possible to specify generated topic sorting by title\n     separate from sorting all of the topics. This allows a sorted list\n     of generated topics to be placed after a fixed list of topics.\n   * The Abilities and Traits sections were changed so that the overviews\n     come first\n   * Fixed a bug where the wrong ability description could be extracted\n     from a unit type with multiple abilities. This was causing an\n     incorrect description for Illuminate in Help.\n   * Units are now sorted first by race and then by name.\n * WML engine\n   * modify ranged animation timing, all animations (attack, defend,\n     missile, block have the same clock)\n   * leading_image is deprecated, please use the new [leading_anim] animation\n * multiplayer maps:\n   * revised multiplayer maps: Charge\n * units\n   * fixed a problem with unit type description being overwritten\n     by the unit description (name) when saving and reloading.\n   * tweaked the movement type of Nagas and Ghosts\n\nVersion 1.1.3:\n * campaigns\n   * Two Brothers\n     * made the 2nd scenario easier on easy: more starting gold,\n       4 extra villages, +10 income, less villages for the ai\n     * added a hero icon for the dark adept\n     * improved dialogs in the 2nd scenario\n     * added a move_unit_fake to have Brenda not appear out of nowhere\n       (easy only)\n     * improved dialogs in the 3rd scenario\n   * The South Guard\n     * improved/additional dialog\n     * new portraits\n   * Heir to the Throne\n     * Blackwater Port: secret bonus for beating the leader on hard\n     * Isle of the Damned: adjusted temple contents to sync up with difficulty level\n     * Scepter of Fire: major rebalance to relax the pace of the level\n     * Home of the North Elves: army camps are invincible, elves defend you better\n     * Marked heroes with {IS_HERO} macro\n     * Increased minimum gold for most of campaign Act 2\n   * The Rise of Wesnoth\n     * Fixed portrait paths\n     * Fixed map image paths\n     * Switched to use of profile key in single unit definitions\n     * Minor text cleanups\n   * Under the Burning Suns\n     * New unit artwork for Kaleh and Nym\n     * Shrunk portraits to fit the Wesnoth standard of other campaigns\n     * Removed Skirmish Ability from Desert Rider and Desert Outrider\n     * Added Skirmish Ability to Desert Horseman\n     * Increased melee damage of Desert Horseman from 4-3 to 5-3\n     * Increased HP of the Desert Horseman from 45 to 50\n     * Minor text cleanups\n * graphics\n   * impassable mountain terrain\n   * portraits: troll, assassin, dwarf-guard from old UtBS\n   * death animations: vampire bat, goblin impaler, sea serpent, skeleton\n   * new attack animations: goblin impaler, orcish slurbow & archer,\n     elder mage, master-at-arms, white mage\n   * timing in most animations changed to make them look smoother\n   * minor changes or filler frames added to several animations\n   * new attack icons: bow, club, dark missile, druid staff, elven sword,\n     entangle, flaming sword, frenzy, lance, human sabre, human throwing\n     dagger, mace, morning star, mud glob, orcish dagger, orcish greatsword,\n     orcish sword, pike, pincers, plaguestaff, sling, thorns, torch, touch,\n     wail, zombie touch\n   * hitpoint distribution graphs under Damage Calculations\n   * improvements to loadscreen progressbar\n   * new selection style for menu listboxes\n   * many units and animations updated for team color support:\n   * units can now have standing animations that are used when standing\n * multiplayer maps:\n   * added multiplayer maps: 8p Morituri, Waterloo Sunset, Caves of the Basilisk,\n     Isar's Cross, Merkwuerdigliebe\n   * removed multiplayer maps: Divide and Conquer\n   * revised multiplayer maps: Blitz, Charge, Cynsaun Battlefield, Den of Onis,\n     Hamlets, Hornshark Island, Silverhead Crossing, Sullas Ruins, Island of the\n     Horatii, 3p Morituri, Clash, Lagoon, The Wilderlands, Crusaders' Field,\n     Sablestone Delta, King of the Hill, Loris River, Paths of Daggers,\n     Siege Castles, Waterloo Sunset\n * music & sound\n   * new or improved sounds: thunderstick and dragonstick, fist, club, hatchet,\n     throwing knives, zombie hit, bow, orcish bow + fire bow, wolf bite, claws,\n     wose attack & hit & die, dwarf hit & die, sling, big sling, crossbow +\n     fire crossbow, sword, drake hit, naga hit & die, axe, torch, big dark magic,\n     gryphon hit & die, human hit & die & female versions & old male versions,\n     goblin hit & die, horse hit & die\n   * minor edits to several sounds\n   * support for randomly chosen variations of sounds\n * language and i18n:\n   * new translations: Filipino, Galego\n   * updated translations: Czech, Dutch, Finnish, French, German, Italian,\n     Korean, Norwegian, Portuguese (Brazil), Romanian, Spanish, Swedish, Turkish\n   * updated man pages: Swedish\n   * updated manual: Swedish\n * units\n   * fixed the resistances of the Sky Drake line\n   * increased the holy resistance for units with holy attacks\n     to 40% for level 2 and 60% for level 3\n   * balancing changes:\n     * decreased HP of Drake Flare from 62 to 54\n     * decreased HP of Drake Flameheart from 82 to 72\n     * increased HP of Fire Drake from 54 to 63\n     * increased HP of Drake Inferno from 68 to 82\n     * decreased HP of Elvish Fighter from 34 to 33\n * Wesnoth engine\n   * new unit display graphic engine...\n   * added unit cost to help\n * Wesnoth server\n   * disallowed names, accepted versions, redirected versions, proxy versions,\n     and ip bans can now use '*' and '?' for wildcard matching\n   * host changes automatically if game creator leaves => no disconnections\n * WML improvements\n   * interpret the variables/arrays in a few more tags\n   * floating damage/heal or status can be printed over a modified unit using\n     the 'text', 'red', 'blue', and 'green' keys in [unstore_unit]\n   * store_locations now stores terrain as well as x,y\n   * [effect] can now apply_to movement_costs, defense and resistance\n   * when no missile frame is specified, we don't use a default arrow anymore\n * multiplayer settings:\n   * two additional MP timer settings, time reservoir limit and action bonus:\n     * Reservoir prevents the turn timer from exceeding an upper limit.\n     * Action bonus is added after turn for each attack, capture, and recruit.\n   * share view/map option removed from multiplayer create screen\n   * slider for each player to adjust their base income\n * misc\n   * fix alt key under Mac OS X\n   * help contents available from title screen\n   * preferences available from multiplayer lobby\n   * new /help command in mp lobby to get info on available commands\n   * :mute command to silence observers\n   * new --turns= commandline parameter\n   * conditional statements in animation syntax\n   * intelligent autosaves and menu integration\n\nVersion 1.1.2:\n * campaigns\n   * campaigns removed from mainline: Son of the Black Eye, The Dark Hordes\n   * campaigns added to mainline:\n     * The South Guard\n     * Under the Burning Suns\n   * new tutorial replacing the old one\n   * Eastern Invasion\n     * rewrote dialogue in Lake Vrug, Evacuation, and The Drowned Plains\n     * redid cave maps to take advantage of new terrains\n     * redid some outdoor maps to be more interesting\n     * gave an early finish bonus in scenario Captured\n   * Heir to the Throne\n     * switched over to [music] tag and removed outdated music choices\n     * new story art\n     * Isle of Anduin - added destruction to the map\n     * Northern Winter - added turns for balancing\n     * Scepter of Fire - enemies have less gold for balancing\n     * Swamp of Dread - smaller map for faster but more intense gameplay\n     * minor gameplay improvement for Swamp of Dread\n     * removed Mountain Pass and Valley of Statues from the campaign\n     * started to update dots on the big map\n   * The Rise of Wesnoth\n     * Replaced all occurences of the Demilich with the normal Lich\n     * Updated path information\n     * updated music tags to new format and removed outdated music choices\n   * The South Guard\n     * bugfixes, and clarification of objectives\n     * switched to using the {IS_HERO} macro\n     * all the unit names are now translatable\n     * made translatable some forgotten strings\n     * switched over to [music] from music=\n       got rid of deprecated music and wired in new music.\n     * Proven By The Sword: fixed recall of Javelineers\n     * removed the unneeded Dread Lich\n     * added custom SG flag\n     * altered the first scenario so mermen are more useful/interesting.\n   * Two Brothers\n     * switched to using the {IS_HERO} macro\n     * changed music in all scenarios\n     * allowing to recruit Footpads to be better able to fight skeletons\n     * 2nd mission: added new objective after seeing the Dark Adept\n     * 3rd mission: changed guards to be outlaw units\n     * 3rd mission: 6 extra turns after killing the leader, this should allow\n       to free Bjarn even if Arne was not involved in the main battle\n   * Under the Burning Suns\n     * new unit images: Crawling Horror\n     * copying other Desert Elves, increased melee damage and\n       decreased ranged damage for Desert Shaman/Druid/Shyde/Star line\n     * increased cost of Desert Fighters from 14 to 15\n     * increased melee damage of the Desert Horseman from 6-5 to 7-5\n     * The below changes echo mainline elf edits listed in units section:\n       * decreased price of the Desert Archer from 18 to 17 gold\n       * decreased HP of the Desert Avenger from 60 to 55\n       * increase Desert Avenger movement and/or defense on shallow water,\n         swamp and mountains\n       * increased melee damage of Desert Avenger from 10-3 to 11-3\n       * decreased ranged damage of the Desert Avenger from 10-4 to 9-4\n       * increased HP of the Desert Captain from 44 to 47\n       * decreased ranged damage of the Desert Captain from 5-3 to 4-3\n       * decreased melee damage of the Desert Champion from 13-4 to 10-5\n       * decreased ranged damage of the Desert Champion from 8-4 to 8-3\n       * increased HP of the Desert Fighter from 32 to 34\n       * increased XP requirement of the Desert Fighter from 38 to 40\n       * increased HP of the Desert Sharpshooter from 45 to 47\n * graphics\n   * added 'ellipse=blah' tag to units which will select the four images\n     from the misc directory for use as an ellipse: misc/blah-bottom.png,\n     misc/blah-top.png, misc/selected-blah-bottom.png,\n     misc/selected-blah-top.png\n   * new encampment graphics\n   * moved hero icon from the South Guard into main directories\n   * new attack icons: animal fangs, axe, baneblade, battle axe,\n     beak, claws-animal, claw-undead, entangle, faery touch, fireball,\n     fist-troll, fist-skeletal, hammer, hatchet, human-greatsword,\n     iceball, lightbeam, lightning, magic missile, necromatic staff,\n     magic staff, shield, spear, trident\n   * new portrait for Drake Clasher, Giant Scorpion\n   * improved runemaster graphics from Sceptre of Fire\n   * new modified Wesnoth map for HttT (larger, more legible)\n   * new \"units\" icon for the menu\n   * new unit images: Lord\n   * Death animations: dark adept, yeti, skeleton archer death\n   * Several updated/new terrain transitions\n * language and i18n:\n   * new translations: Korean, Vietnamese\n   * updated translations: British English, Catalan, Czech, Dutch,\n     German, Finnish, French, Hebrew, Italian, Norwegian, Polish,\n     Portuguese (Brazil), Spanish, Swedish, Turkish\n   * updated man pages: Swedish\n * multiplayer maps:\n   * all multiplayer maps now use a playlist to specify their music\n   * revised multiplayer maps: Blitz, Charge, Cynsaun Battlefield,\n     Den of Onis, Divide and Conquer, Hamlets, Hornshark Island,\n     Meteor Lake, Silverhead Crossing, Triple Blitz, Bluewater Province,\n     Clash, Siege Castles, Hexcake, The Wilderlands\n * music & sound\n   * multiplayer no longer uses faction specific music, music is now\n     specified per scenario like it is done in the singleplayer mode\n   * new music: gameplay01, gameplay02\n   * updated music: gameplay03\n   * removed music: wesnoth-3, wesnoth-4, wesnoth-6, wesnoth-7, wesnoth-8\n   * new sounds: turn end bell, drake hit&die, dwarf hit&die, short fanfare,\n     additional female-hit, hiss-die, hiss-hit, holy attack, 3 ghostly wails,\n     3 gryphon, miss, 2 orc-die, 3 skeleton, 2 troll hit&die, water blast,\n     wolf hit&die, 4 dark magic, 2 lightning, 12 human hit&die, flame hit&miss\n     3 new merfolk hit&die\n   * sound added to units:\n     * death sounds: all drakes, dwarves, orcs & goblins, all humans,\n       monsters, merfolk, nagas, saurians, trolls, all skeletons, woses\n     * lightbeam attacks, elves, gryphons, some ghost attacks\n * units\n   * back in mainline: Orcish Leader, Orcish Ruler, Orcish Sovereign\n   * Swapped names for necromancer (now a L3) and dark sorcerer (now a L2)\n     (no gameplay change)\n   * renamed Saurian Tribalist/Icecaster to Augur/Oracle\n   * gryphon rider and master race change to dwarf\n   * balancing changes:\n     * decreased HP of the Inferno Drake from 71 to 68\n     * increased melee damage of the Inferno Drake from 11-2 to 12-2\n     * decreased HP of the Drake Flameheart from 84 to 82\n     * decreased melee damage of the Drake Flameheart from 12-3 to 11-3\n     * increased ranged damage of the Drake Flameheart from 8-4 to 9-4\n     * increased XP requirement of the Drake Fighter from 38 to 42\n     * increased HP of the Drake Warrior from 55 to 60\n     * increased melee damage of the Drake Warrior from 10-3 to 11-3\n     * increased HP of the Drake Blademaster from 70 to 80\n     * increased melee damage of the Drake Blademaster from 14-3 to 16-3\n     * increased XP requirement of the Drake Clasher from 40 to 45\n     * increased HP of the Drake Gladiator from 62 to 66\n     * increased melee impact damage of the Drake Gladiator from 9-3 to 10-3\n     * decreased HP of the Drake Enforcer from 87 to 85\n     * increased melee blade damage of the Drake Enforcer from 10-4 to 11-4\n     * increased melee impact damage of the Drake Enforcer from 12-3 to 14-3\n     * increased HP of the Drake Slasher from 57 to 62\n     * increased melee pierce damage of the Drake Slasher from 16-2 to 17-2\n     * increased HP of the Drake Warden from 79 to 82\n     * increased melee blade damage of the Drake Warden from 15-3 to 16-3\n     * increased melee pierce damage of the Drake Warden from 22-2 to 23-2\n     * increased HP of the Sky Drake from 40 to 45\n     * increased HP of the Hurricane Drake from 50 to 58\n     * increased resistances of the Sky Drake line to those of the Drake Glider\n     * decreased XP requirement of the Saurian Ambusher from 70 to 55\n     * decreased cost of the Bandit from 27 to 23\n     * increased HP the Rogue from 36 to 40\n     * increased HP the Assassin from 42 to 51\n     * decreased movement cost for swamp for the Poacher line from 3 to 2\n     * increased the XP requirement of the Dwarvish Fighter from 38 to 41\n     * increased HP of the Dwarvish Steelclad from 55 to 59\n     * increased melee blade damage of the Dwarvish Steelclad from 10-3 to 11-3\n     * increased melee impact damage of the Dwarvish Steelclad from 13-2 to 14-2\n     * increased HP of the Dwarvish Lord from 75 to 79\n     * increased melee blade damage of the Dwarvish Lord from 14-3 to 15-3\n     * increased melee impact damage of the Dwarvish Lord from 17-2 to 19-2\n     * increased HP of the Dwarvish Thunderguard from 42 to 44\n     * increased HP of the Dwarvish Dragonguard from 52 to 59\n     * changed the damage type of the Dwarvish Dragonguard from impact to blade\n     * decreased HP of the Elvish Avenger from 60 to 55\n     * decreased ranged damage of the Elvish Avenger from 11-4 to 10-4\n     * increased HP of the Elvish Sharpshooter from 45 to 47\n     * increased XP requirement of the Elvish Fighter from 38 to 40\n     * increased HP of the Elvish Captain from 44 to 47\n     * decreased ranged damage of the Elvish Captain from 6-3 to 5-3\n     * decreased melee damage of the Elvish Champion from 12-4 to 9-5\n     * increased experience requirement of the Cavalryman from 34 to 40\n     * decreased melee damage of the Dragoon from 7-4 to 6-4\n     * decreased ranged damage of the Dragoon from 15-1 to 12-1\n     * decreased XP requirement of the Dragoon from 110 to 95\n     * increased experience requirement of the Fencer from 37 to 42\n     * decreased ranged damage of the Duelist from 15-1 to 12-1\n     * increased HP of the Lancer from 48 to 50\n     * increased HP of the Javalineer from 45 to 48\n     * increased resistances of the Javalineer to the one of the Pikeman\n     * increased melee damage of the Halberdier from 14-3 to 15-3\n     * decreased HP of the Royal Guard from 75 to 74\n     * increased HP of the Master Bowman from 50 to 58\n     * increased ranged fire damage of the Orcish Crossbow from 9-2 to 10-2\n     * increased HP of the Orcish Slurbow from 50 to 56\n     * increased ranged fire damage of the Orcish Slurbow from 14-2 to 15-2\n     * increased HP of the Orcish Warrior from 52 to 58\n     * increased HP of the Orcish Warlord from 80 to 78\n     * decreased melee damage of the Orcish Warlord from 13-4 to 15-3\n     * increased ranged damage of the Orcish Warlord from 5-3 to 8-2\n     * decreased cost of the Orcish Warlord from 56 to 48\n     * increased experience requirement of the Troll from 60 to 66\n     * increased experience requirement of the Troll Whelp from 33 to 36\n     * decreased ranged damage of the Troll Rocklobber from 20-1 to 17-1\n     * increased HP of the Elvish Fighter from 32 to 34\n     * decreased ranged damage of the Elvish Champion from 9-4 to 9-3\n     * decreased price of the Elvish Archer from 18 to 17 gold\n     * increased movement cost/defense on various terrains for the Ranger line\n     * increased movement of the Wose line from 3 to 4\n     * increased HP of the Elder Wose from 60 to 64\n     * increased melee damage ot the Elder Wose from 18-2 to 19-2\n     * decreased experience requirement of the Elder Wose from 160 to 100\n     * decreased experience requirement of the Bone Shooter from 90 to 80\n     * increased ranged damage of the Bone Shooter from 9-3 to 10-3\n     * increased ranged damage of the Soul Shooter from 12-3 to 14-3\n     * decreased HP of the Dark Sorcerer from 58 to 48\n     * increased ranged damage of the Dark Sorcerer from 12-2 to 13-2\n     * increased experience requirement of the Dark Sorcerer from 80 to 90\n     * decreased HP of the Lich from 66 to 60\n     * decreased HP of the Necromancer from 75 to 70\n     * increased ranged damage of the Necromancer from 15-2 to 17-2\n     * decreased melee damage of the Death Knight from 12-4 to 11-4\n     * increased HP of the Draug from 54 to 68\n     * increased melee damage of the Draug from 11-4 to 12-4\n     * increased cost of the Draug from 40 to 50\n     * decreased melee damage of the Blood Bat from 6-3 to 5-3\n * WML improvements\n   * [if] now supports [and] and [not] tags\n   * new {IS_HERO} macro to display a hero icon for new units\n   * new {DEFAULT_MUSIC_PLAYLIST} macro to specify gamemusic 01 to 03\n     and main_menu.ogg as playlist\n   * moved much of about into WML as well as enabled campaign [about]\n   * added an #undef preprocessor directive\n   * added 'profile' key to [unit] variables\n   * added 'image' key to [unit] variables\n   * added [modify_turns] to [event]. Takes 'value' and 'add' as keys.\n   * added new key to [side]: allow_player; if set to 'no' then this side\n     will not appear in the creation screen. Some maps with more sides\n     than starting positions may be broken.\n   * added [store_side] tag, which takes 'variable' and 'side' as keys,\n     and stores data to variable.gold, variable.income, variable.name,\n     and variable.team_name.\n   * added [label] inside [event]\n   * added 'zoc' key to unit types\n   * added 'set_hp' and 'set_total' to unit modifications\n   * allowed increase on hp to use %.\n   * attack animations can now be filtered on hit and miss\n   * [effect] can modify attack/defense weight\n   * change in the [sound] tag. sounds must now be part of animation\n * miscellaneous changes\n   * added a very simple progress bar while loading\n   * added a --load FILE command-line option, where FILE is a saved game\n     in the standard save game directory.\n   * reordered macro calls in game.cfg to fix no-AMLA bug for campaigns\n   * {abilities.cfg} call moved from utils.cfg to game.cfg for consistency\n   * Send message on player ban or kick\n   * Show a message when a player leaves a game.\n   * WML-generated units with \"random_traits\" now show the traits description\n   * flags on village don't \"flicker\" at the end of their animations\n   * really fix bug 3388, now really centering on image when clicking it\n   * tab completion now completes to smallest substring,\n     and shows possible completions\n   * added whisper (/msg) support for lobby and observers in game\n   * Added ignore list on MP\n   * MP server only accepts nicks made from alphanumeric and\n     underscore characters\n   * force a refresh after calls to ONSCREEN scrolls,\n     to avoid refresh problems.\n   * add sort_topics command to the WML of help\n   * check in ai code that ai doesn't use the same unit to attack twice\n\nVersion 1.1.1:\n * campaigns\n   * reordered ranks to reflect relevance to game world\n   * new (beginner) campaign: Two Brothers\n   * Heir to the Throne\n     * Gryphons are not available until you find dwarves to ride them\n     * Fixed behavior of sleeping gryphons in Gryphon Mountain\n     * Changed confusing dialog on Home of the North Elves (#5006)\n     * Standardized wording for bonus victory objectives\n     * Lost General map now slightly more friendly to smallfoot units\n     * Sceptre of Fire - more villages and dirt road near starting castle\n     * Underground scenarios generally more interesting/enhanced story\n     * Text cleanups\n   * The Rise of Wesnoth\n     * replaced Sea Orc with Naga Fighter in Final Spring, Clearwater Port,\n       and Rise of Wesnoth\n     * Fire dragon is a level 5 unit\n     * Text cleanups\n   * migrated unique units, scenarios, maps, and images to data/campaigns\n * campaign server\n   * changed default port for campaign server to 15003 to separate 1.1 and 1.0\n * gameplay changes:\n   * improved default weapon selection on player attack (patch #500)\n   * attack_weight=0 disables the attack when attacking\n   * defense_weight=0 disables the attack when defending\n   * attack_weight is now functional (#5014)\n   * added a new terrain \"Mushroom Grove\" (id=fungus)\n   * changed several terrains to be \"mixed\", having worst movement and\n     best defense: Snow Forest, Snow Hill, Dunes (renamed from Desert Hill)\n   * added new schedule: deep underground (-30%, very dark)\n * graphics:\n   * New castle tiles\n   * New sand tiles\n   * New terrain: Rockbound Cave, Mushroom Grove, Illuminated Cave Floor,\n     Great Tree.\n   * Added Drake, Gladiator, Enforcer, Slasher and Warden death animations.\n     All Drake unit baselines fixed\n   * Added item bones.png\n * language and i18n:\n   * new translations: Indonesian\n   * new manual: Indonesian\n   * updated translations: British English, Chinese, German, Hebrew,\n     Italian, Norwegian, Polish, Portuguese (Brazil), Russian, Slovenian,\n     Swedish, Turkish\n   * updated man pages: English, German, Swedish\n * multiplayer maps:\n   * revised multiplayer maps: Blitz, Charge, Den of Onis, Silverhead Crossing,\n     Sulla's Ruins, Cynsaun Battlefield, Morituri, Triple Blitz, Castle Hopping\n     Isle, Clash, King of the Hill, Lagoon, Smallolof, Forest of Fear\n   * added multiplayer maps: Loris River, Paths of Daggers\n   * removed multiplayer maps: Across the River, An Island,\n     The Valley of Death, Battle World\n   * renamed multiplayer maps: 1v1v1Hex -> Island of the Horatii\n * music:\n   * support for more than one music file per scenario with adjustable spacing\n   * new music: gameplay03.ogg\n * units\n   * gave names to mermaids\n   * deleted Wall Guard and Gate (no longer used)\n   * updated descriptions: Goblin Rouser\n   * removed the classic era\n   * units and balancing changes:\n     * made all undeadfoot units that can move on deep water have ambush there\n     * several changes to the movetype of the Walking Corpse and Soulless\n     * Walking Corpse and Soulless variants now also differ in HP\n     * decreased the Dark Adept resistance to cold from 20% to 0%\n     * disallowed Lich type units to go on deep water\n     * decreased the woodlandfloat tundra movement from 2 to 1\n     * decreased armoredfoot cold resistance from 20% to 10%\n     * increased Pikeman HP from 52 to 55\n     * increased Swordsman HP from 52 to 55\n     * increased the ranged attack of the Cavalier and Master at Arms\n       from 17-1 to 20-1\n     * increased Orcish Archer fire attack damage from 6-2 to 7-2\n     * decreased the melee attack of the Orcish Slayer from 12-2 to 10-2\n     * decreased the XP requirement for the Footpad from 42 to 36\n     * increased the melee attack of the Gryphon Master from 14-2 to 15-2\n     * increased Dwarvish Steelclad HP from 50 to 55\n     * increased Dwarvish Guardsman HP from 35 to 42\n     * increased Dwarvish Guardsman ranged attack from 4-1 to 5-1\n     * increased Dwarvish Stalwart HP from 39 to 48\n     * increased Dwarvish Sentinel HP from 45 to 56\n     * increased Dwarvish Sentinel resistances to blade and pierce\n       from 20% to 30%\n     * decreased the grassland defense from 50% to 40% for the Sentinel\n     * decreased the village defense from 60% to 50% for the Stalwart\n       and Sentinel\n     * increased the forest and sand defense from 30% to 40% for the\n       Stalwart and Sentinel\n     * added Elder Wose, Saurian Icecaster and Soothsayer as leaders\n       in default era but not as random_leader\n     * added many level 2 units and the Ancient Wose as leaders in AoH\n       but not as random_leader\n   * flags in status bar are now properly team colored\n * user interface\n   * added new image in advancement tag that is displayed in advancement dialog\n     and changed old image to icon in advancement tag.\n   * centered title screen logo for 1024x768 (still off-center for 800x600)\n   * prevent icons in themes from being scaled up (only scaling down is allowed)\n   * fix menu capitalization consistency (#4972)\n   * reduce scrolling during unit movement\n   * make default zoom work properly\n   * unit speed is back to 1.0 speed\n   * upgraded font from DejaVuSans 1.12 to 2.2, has Greek support\n   * TAB completion in MP lobby\n   * Name of the game shown next to nick for unavailable players\n   * avoid useless scrolling down in chat window of mp lobby\n * WML improvements\n   * attack ranges renamed to \"melee\" and \"ranged\", new ranges can be used\n     (retaliation will use any attack of the same range)\n   * starting_villages macro updated for added village types\n   * split factions of multiplayer.cfg into data/factions to ease making\n     combined eras without having to maintain mainline factions\n   * abilities are now more configurable in a [abilities] tag, old ability=\n     tag deprecated (patch #498), cure is available via [heals] ability tag\n   * all currently used abilities added as macros in data/abilities.cfg\n   * abilities can receive time of day and terrain [filter] (currently only\n     [hides], [steadfast], [illuminates])\n     - ambush and nightstalk are available via the new [hides] ability tag\n   * added a optional random_leader= tag inside a [multiplayer_side] to\n     specify a different list of randomly selectable leaders\n   * added level as a possible argument for standard unit [filter]\n   * terrain can be given a \"light\" flag to specify local light modification\n   * combined terrain can now take \"best of\" or \"worst of\" values\n     for combining\n   * choice policy for combined terrain can be separately specified\n     for def and mvt\n   * added random_traits key for the create_unit event.\n   * [female] and [male] unit tags now inherit from [unit].\n   * Added new events 'attack_end', which occurs after a battle is ended,\n     'attacker_hits', which occurs when the attacker hits the defender,\n     'defender_hits', 'attacker_misses', and 'defender_misses'.\n   * Added [special_filter] and [special_filter_second] to events.\n     These allow some events to be filtered by weapon used and by terrain.\n   * Added 'mode' tag to [store_unit]; allows appending to variable.\n * Miscellaneous\n   * added a require_amla element to [advancement] tags.\n   * anonymous data logging for single player campaigns, see stats.wesnoth.org\n   * zipios++ can now be disabled by passing --without-zipios to configure\n   * functions to easily create one frame animations, for deprecated images\n   * improved (underwater) merfolk village\n   * (internal) make attack animations work like all other animations\n   * backport latest SDL_ttf change, fix ascender/descender issue for DejaVu\n   * fix crash when using zoom keys in the main lobby\n   * new utils: codecomp codeextract codeglyphs codelist, for font analysis\n   * login names in MP are now limited to 18 characters\n   * added {RANDOM_SIDE} and {DEFAULT_SCHEDULE} macros\n   * added a hotkey to clear all labels in MP games\n   * fixed the default time limit values, and changed them to 300/150\n\nVersion 1.1:\n * campaign server\n   * support new \"timestamp\" attribute\n   * save persistent attributes in the campaign data\n     * \"name\" is treated as directory name, so use campaign_name (#4525)\n     * SECURITY: ensure file and directory names on upload match campaign name\n   * support filtering on campaign_list requests: name, last update time\n     (before or after), language of translation\n   * campaign_list response now contains the time the request was processed\n   * campaign_list response now contains information about translations\n   * fixed problem with duplicate translations being saved with each upload\n   * added a passphrase change function\n   * deleting campaigns, campaign file is now deleted, not reduced to zero size\n * campaigns:\n   * Eastern Invasion\n     * fixed Undead fighting each other in Weldyn Besieged (#4386)\n     * fixed Undead not recruiting after leader change in The Crossing (#4393)\n     * The Drowned Plains: abandonded villages no longer require village.png\n   * Heir to the Throne\n     * fixed Delfador talking to himself in Valley of Statues (#4440)\n     * fixed Home of the North Elves inaccurate victory condition (#4644)\n     * Isle of Anduin: reduced difficulty, added mage tips, move_unit_fake fix\n     * Blackwater Port: added tips about loyal units, move_unit_fake fix\n     * Bay of Pearls: traits for mermen, you get a hunter and initiate, added\n       ford to help units cross, hunter and initiate available after winning\n     * Isle of the Damned: replaced some forest with road, can recall mermen,\n       Moremirmu explains if he will join you or not, hard difficulty has fog\n     * Muff Malal's Peninsula: less gold/more income for Muff for XP milking\n       on easy, blood bats on hard, choice of fight vs run is better explained\n     * Crossroads: added story dialog\n     * Princess of Wesnoth: clarified victory conditions\n     * Plunging into the Darkness: removed unnecessary side 2 (enemy) leader\n     * Dwarven Doors: true exit now random, bandit easter egg now reveals exit\n     * changed Snow Plains map to use snow terrain\n     * Lost General: side 2 ally allows you to recruit guardsmen (for dwarf\n       balancing)\n     * Choice Must be Made: used swamp village instead of cave villages,\n       story, music\n     * Snow plains: music key added\n     * Swamp of Dread: used swamp village instead of cave village, music\n     * Home of the North Elves: rebalanced to make you RUN! rather than fight;\n       dialog\n     * Elven Council: added dialog\n     * Test of the Clans: simplified victory conditions, dialog\n     * Epilogue: corrected dialog about Li'sar's father\n   * The Rise of Wesnoth\n     * Adjusted loss event in Clearwater port to coincide with time over\n     * Fixed bugs related to cuttlefish destroying the bridges\n   * Son of the Black Eye\n     * cleaned up prestart events to stop units hopping around at map setup\n     * Desert of Death leader without starting position replaced with no_leader\n     * Clash of Armies mermen leader now created in event, not in side setup\n     * fix glitches (part of #4385)\n     * fix saurian deaths not triggering loss in Saving Inarix (#4803)\n     * general tidying of scenario files\n     * fix shamans losing experience (#4792)\n   * The Dark Hordes\n     * Underground Pool no longer has units off map and in walls\n * gameplay changes:\n   * backstab now works if opposite unit is non-incapacitated enemy of defender\n   * prevented stoned units from being healed\n   * slow does not remove an attack anymore\n   * slowed units see the damage they deal halved immediately\n   * unit modifications now round toward original value instead of truncating\n   * changed resilient trait bonus from +7hp to +10%+3hp\n   * decreased strong trait hitpoints bonus from 2 to 1\n   * added Fischer clock to MP games to limit turn duration\n * graphics:\n   * HP and XP bar modifications\n     * movement ball separated from bars\n     * moved to left so xp bar under the ball\n     * xpbar now changes color differently for AMLA then for regular leveling\n     * bar colors and text color in report now forced to match.\n   * team color:\n     * units can now have colors redefined to match team colors:\n     * team color can be defined in the side tag with \"team_rgb=r,g,b\"\n     * team color enabled for: Knight, Grand Knight, Lancer\n   * new title screen and logo\n   * changed the storm trident attack icon from fireball to lightingbolt\n   * new attack icon for the fireball\n   * portraits:\n     * new Li'sar, Drake Burner, Drake Fighter, Drake Glider, Elvish Shaman,\n       Ghoul, Mermaid Initiate, Merman Fighter, Merman Hunter, Naga Fighter,\n       Orcish Assassin, Saurian Skirmisher\n     * all Drake, Merman, Naga and Saurian upgrades now use level one portraits\n     * Necrophage and Orcish Slayer upgrades now use level one portraits\n     * Updated portraits for Haldric and Aethyr in TRoW\n   * new unit images: Konrad level 1, Tentacle of the Deep\n   * new death animations: Initiate, Mage, Pikeman, Red Mage, White Mage,\n     Tentacle of the Deep, most Drake units\n   * new tiles: swamp, cave wall, paved road, variable-width canyon (#8817),\n     snow village (human & elven), underground village, mountains, hills,\n     snow hills, dwarven village, additional elven and human village variants\n   * bilinear interpolation of images (better interpolation at high zoom level)\n   * new movement animation: elvish fighter\n * language and i18n:\n   * added support for right-to-left languages (patch #470)\n   * made the list of languages configurable via the locale WML\n   * new manual: Chinese; updated manual: English, German, Swedish\n   * updated man pages: Swedish\n   * new translations: Hebrew, Esperanto, Portugese\n   * updated translations: Afrikaans, British English, Chinese, Czech, Dutch,\n     French, German, Hungarian, Italian, Japanese, Polish, Portuguese (Brazil),\n     Russian, Slovak, Slovenian, Spanish, Swedish, Turkish\n   * fixed Undead used as both trait and race name (#4295)\n   * fixed loading non-binary savegame displaying messages in English (#4454)\n   * help changes\n     * added brief description of Shroud and Fog of War\n   * documentation: switch doxygen templates from CVS to SVN, Savannah to Gna!\n * multiplayer server\n   * server: add administration functions\n   * multiplayer game with \"empty\" as side no longer causes OOS (#4464)\n   * new multiplayer maps: Crusaders Field, Cynsaun Battlefield, 4p Morituri\n   * revised multiplayer maps: Divide and Conquer, Sablestone Delta, 1v1v1Hex,\n     Silverhead Crossing, Sullas Ruins, Charge, Blitz, Clash, Hamlets,\n     Meteor Lake, Den of Onis, Smallolof, Castle Hopping Isle, Hornshark Island\n   * updated multiplayer map cfg files: Clash, Hexcake, Smallolof\n   * fixed gamelist diff bug\n   * made \"Load Game ...\" first map option (was last), for better visibility\n   * added map size to MP lobby (patch #484)\n   * added scenario and era info to MP lobby\n   * let observers be visible in slot combos\n   * new multiplayer preference tab in the preference window (patch #444)\n     * add an option to timestamp chat in MP games (patch #444)\n     * add an option to choose the number of chat lines displayed (patch #444)\n * music and sound:\n   * new main menu music\n   * support for victory and defeat music incl. music files\n * units\n   * AMLA for most units now adds 25% to required XP for next AMLA\n   * new unit: added the Goblin Rouser\n   * removed obsolete units: Merman, Naga, Saurian, Saurian Warrior,\n     Sea Hag, Triton\n   * units and balancing changes:\n     * changed Cuttlefish tentacle attack to swarm.  changed HP from 52 to 67\n     * changed Halbardier pierce attack from 9-4 to 14-3\n     * changed Halbardier blade attack from 11-4 to 19-2\n     * blade attack of Halbardier does not longer have firststrike\n     * increased Master Bowman melee damage from 7-3 to 8-3\n     * decreased the HP of the Dragoon from 58 to 53\n     * changed the movetype of the General and Grand Marshal back to smallfoot\n     * changed the resistances to physical damage for the General to 10% and\n       for the Grand Marshal to 20%\n     * decreased Merman line resistance to cold from 60% to 20%\n     * decreased Merman Hunter experience needed to level from 38 to 35\n     * decreased Elvish Shaman cost from 16 to 15 gold\n     * increased the HP of the Elvish Hero from 48 to 51\n     * decreased Elvish Scout experience needed to level from 37 to 32\n     * decreased Elvish Rider melee attack from 6-4 to 7-3\n     * decreased Elvish Rider ranged attack from 7-3 to 9-2\n     * increased Elvish Rider HP from 42 to 46\n     * decreased Elvish Outrider melee attack from 8-4 to 7-4\n     * decreased Elvish Outrider melee attack from 7-4 to 8-3\n     * increased Elvish Outrider HP from 50 to 57\n     * decreased the cold resistances of Woses from 20% to 10%\n     * decreased Drakefly snow defense from 30% to 20%\n     * decreased Drake Slasher HP from 65 to 57\n     * decreased Drake Warden HP from 88 to 79\n     * increased Drake Gladiator HP from 59 to 62\n     * increased Drake Enfoncer HP from 79 to 87\n     * decreased the cold resistances of dwarves from 20% to 10%\n     * decreased the blade resistances of dwarves from 30% to 20%\n     * decreased Dwarvish Steelclad blade resistance from 40% to 30%\n     * decreased Dwarvish Fighter hammer attack damage from 9 to 8\n     * made the Dwarvish Guardsman line have 2 traits again\n     * decreased the HP of the Thunderer from 37 to 34\n     * decreased the Gryphon Riders movement from 9 to 8\n     * removed Thug from Knalgan faction\n     * added the Dwarvish Stalwart and Necrophage as a leader in default era\n     * added different movetypes to variations of WC/Soulless (corpses gain\n       physical resistances of killed unit)\n     * added drain on the melee attack of the Ghost\n     * increased Ghost's HP from 17 to 18\n     * synchronized Ghost line's physical resistances to 50%\n     * decreased Ghost line shallow water movement cost from 3 to 2\n     * decreased Ghost line deep water movement cost from 4 to 2\n     * increased Shadow HP from 24 to 26\n     * increased Nightgaunt HP from 32 to 35\n     * increased the HP of the Skeleton Fighter tree by 4\n     * changed the Deathblades resistances to those of the other Skeletons\n     * decreased Skeleton line shallow water movement cost from 3 to 2\n     * decreased Skeleton line deep water movement cost from 4 to 3\n     * decreased the tundra defense of Undeads (undeadfoot) from 40% to 30%\n     * increased the HP of the Ghoul line by 5\n     * decreased the attack damage of the Ghoul line by 1\n     * increased the fire resistance of the Ghoul line from 0% to 10%\n     * Ghoul line can no longer move into deep water\n     * increased the HP of the Vampire Bat from 14 to 17\n     * decreased the cost of the Blood Bat from 24 to 21\n     * increased the HP of the Blood Bat from 24 to 27\n     * decreased village defense of Wolf Rider, Goblin Knight/Pillager to 50%\n     * increased Goblin Pillager HP from 40 to 44\n     * increased Goblin Knight HP from 45 to 49\n     * increased Direwolf Rider HP from 55 to 61\n     * increased Orcish Archer fire damage from 5-2 to 6-2\n     * increased Orcish Crossbowman fire damage from 8-2 to 9-2\n     * increased Orcish Slurbow fire damage from 12-2 to 14-2\n     * decreased the tundra defense of Nagas from 30% to 20%\n     * decreased the XP requirement for the Goblin Spearman from 22 to 18\n     * added the Goblin Rouser as an advancement to the Goblin Spearman\n     * Northerners can now recruit Rocklobber in Age of Heroes era\n     * removed Saurians as leaders in default and Great War era\n     * removed level 2 leaders from AoH era\n     * added the Dwarvish Sentinel as a leader in AoH era\n     * increased the holy resistance of the scuttlefoot movetype from 0% to 20%\n     * made Fireball, Gate, Galeons & Watch Tower unpoisonable and unplaguable\n     * recosting and minor stats changes for many level 2+ units:\n       http://www.wesnoth.org/forum/viewtopic.php?p=121154#121154\n * user interface:\n   * added font colors to theme\n   * reorganized side-bar information\n   * fix untranslated unit create dialog (#4424)\n   * changed recall to show recall list even when gold < 20\n   * added advancement and AMLA indicator icons and tooltips to dfool theme\n   * allow pausing during replay\n   * SECURITY: check safety of campaign download names: if any unsafe\n     names are found, install is aborted before old version is removed\n   * hitpoint update delays are now capped at 1 second (#4070)\n   * reduce unnecessary scrolling in replays (#3152)\n   * stop teleport glitches due to insufficient screen updates (#4234)\n   * theme chooser window added to preference graphics dialog\n   * fix broken colour wait cursor on Mac OS X (#4729)\n   * clicking on unit portrait in status pane now centers on unit (#3388)\n   * show numbers of each enemy which can reach tiles in \"Show Enemy Moves\"\n   * don't show \"The End\" after viewing a won multiplayer replay (#4166)\n   * new option to toggle server messages when observing games\n   * semi transparent HP/XP bar when unit is not selected (patch #485)\n   * play an \"anonymous\" music during enemy turns to avoid the music\n     giving hints\n   * added the possibility to play \"victory\" and \"defeat\" music\n   * enable down arrow on scrollbar when resizing (#4809, patch #487)\n   * better movement highlighting (patch #488)\n   * stop save dialog complaining about bad name when pressing cancel (#4835)\n   * pressing 'n' wont take you out of path selection mode (#4833, patch #490)\n   * fix broken tooltip in the status bar for plague(argument)\n   * added the \"/me\" command to MP lobby\n   * don't show illuminated time of day on fogged/shrouded tiles\n * utils\n   * added weblist.pl and webtgz.pl web interface programs\n   * wml.pm uses substr instead of split: reduces memory usage for large strings\n   * wml_net.pm inserts instead of appending: should be more efficient\n   * added prkill script, to calculate probabilities to kill in a skirmish\n   * added campaign_passphrase.pl for changing passphrases\n   * added campaign_delete.pl for deleting campaigns\n * WML improvements:\n   * random map generator now uses island_size (#4458)\n   * fixed incorrect savefile name after continue_no_save (#4439)\n   * fix bad leader starting position causing crash\n   * tighten up checks on leaders and units placed on map at start of scenario\n   * add a backup save_id to use if both save_id and description are empty\n   * fix duplicate key values being concatenated: just replace with last value\n   * units can now have [extra_anim] tag, and [animate_unit] event to trigger it\n   * added swarm attack special\n   * new advance and post_advance events, trigger before/after unit advancement\n   * get_random avoids nested [random] tags: keep to limit in compressed saves\n   * experience_modifier: only last value kept; to max experience now rounded\n     with lower limit of 1\n   * defensive_image* deprecated, use defensive animations instead\n     (still work, but issue warnings, new macros are provided)\n   * using [frames] directly in an [attack] tag is deprecated.\n     please enclose attack animations in [animation] tags\n   * [store_unit] now leaves variable untouched if filter does not match\n   * units can now have [movement_animation] tags, these are filtered\n     on both terrain and direction\n * various other changes:\n   * --with-preferences-dir configure option for coexistence of multiple versions\n   * experimental Python API for AI.\n     See http://www.wesnoth.org/wiki/ReferencePythonAPI for more information.\n   * various bug fixes and code cleanups\n   * better support for MacOSX filesystems\n\nVersion 1.0rc1:\n * language and i18n:\n   * updated translations: Afrikaans, Bulgarian, Catalan, Finnish,\n     German, Greek, Hungarian, Japanese, Portuguese (Brazil), Russian,\n     Slovenian, Spanish, Turkish\n   * new manual: Hungarian, updated manual: English, Swedish\n   * updated man pages: English, German, Swedish\n * campaigns:\n   * The Dark Hordes\n     * Crelanu's Book no longer ends if enemy leaders are killed\n     * Underground Pool no longer ends if enemy leaders are killed\n     * Underground Pool can now only be won with Gwiti or Tanar (#14495)\n   * Son of the Black Eye\n     * Watch Towers can no longer be recalled in Clash of Armies\n     * Saving Inarix no longer ends if enemy leaders are killed\n     * tweaked Black Flag and Desert of Death maps\n     * made End of Peace, Toward Mountains of Haag, and Black Flag easier\n   * Eastern Invasion\n     * fix Konrad II's lines not being spoken in The Council (#14500)\n     * change the holy waters to \"holy amulets\" (also #14539, #14559)\n     * Drowned Plains now has fog (#14499)\n   * Heir to the Throne\n     * fix Delfador losing experience at Siege of Elensefar (#14508)\n * units:\n   * changed Orcish Shamans from 20 to 23 HP (Novice 24, Old 22)\n   * changed all Orcish Shamans from 60 to 70% defense on villages\n   * fixed incorrect reference to Demilich image (#14542)\n * fixed long filenames overflowing editor file chooser dialog (#13855)\n * fixed filenames with spaces causing garbled errors (#14494)\n * multiplayer maps now make better use of team names from settings\n * fixed possible memory corruption during \"sighted\" WML events (#14426)\n * fixed the Windows shortcuts being used in textboxes under Mac OS X (#14377)\n * more AMLA fixes, and it now increases current hitpoints by 3 (#14530)\n * BeOS networking fixes\n * multiplayer lobby changes (including #8179)\n * fixed images in downloaded campaigns not being shown until restart (#11797)\n * editor now supports changing language, with Alt-l (#11966)\n * savegames now store ai_algorithm (#14558)\n * server now supports --threads option to specify number of threads\n * fixed spurious \"timeout\" when uploading campaigns\n * capture events that trigger further events can no longer be undone (#13895)\n * editor now supports --bpp to specify bit depth, default now 24 (#14551)\n * broken scenarios can no longer make multiplayer unplayable (#14409)\n * various bug fixes and code cleanups\n\nVersion 0.9.7:\n * language and i18n:\n   * updated manual: French, Italian\n   * updated translations: Afrikaans, Basque, British English, Catalan, Czech,\n     Dutch, French, Finnish, German, Greek, Hungarian, Italian, Latin, Polish,\n     Russian, Slovak, Slovenian, Spanish, Swedish, Turkish\n   * fixed Ruby of Fire object description (#14311)\n   * fixed untranslatable Rise of Wesnoth scenario name\n   * new man pages: Hungarian\n   * changing languages now updates Tome of Wesnoth on Linux into new language\n * campaigns:\n   * The Dark Hordes: there are now more turns available in the last scenario\n * units:\n   * increased the damage done by the Dread Lich from 6-4 to 7-4\n * user interface\n   * text input box position now changes if resolution is changed (#12466)\n   * hourglass cursor now works on Mac OS X (#14298)\n   * fixed scrollbar problems in multiplayer lobby (#13089)\n   * better checking if recruiting is possible (#13638, patch #4267)\n   * some fixes for Experimental and Default themes\n   * fixed observer icon corruption (#14320)\n   * user campaign translations are now available without a restart (#14388)\n   * adjusted multiplayer lobby titles\n   * don't show images larger than 80x80 in campaign server list (#12007)\n   * fixed progress bar overflow (#14403)\n   * game names can no longer contain formatting characters (#14246)\n   * fix campaign story text overflowing due to narrow width (rest of #13961)\n * graphics\n   * fixed Flaming Sword missing attack image (#14346)\n   * updated Goblin Impaler, Gryphon, Gryphon Master, Gryphon Rider\n * ambush and nightstalk now works on turn 1 for leaders (#13671)\n * AI now understands that AMLA units don't heal on advancing\n * AI in multiplayer can now recruit more widely in all eras (rest of #14096)\n * fixed a network related freeze (#14359) and other networking changes\n * fixed connect to server hanging on Mac OS X\n * fixed memory leaks in multiplayer lobby (part of #13981)\n * various bug fixes and code cleanups\n\nVersion 0.9.6:\n * language and i18n:\n   * new manual: Turkish\n   * updated manual: German, Russian, Swedish\n   * updated translations: Afrikaans, Basque, British English, Catalan, Czech,\n     Danish, Dutch, Finnish, French, German, Hungarian, Italian, Latin, Polish,\n     Portuguese (Brazil), Russian, Slovak, Spanish, Swedish, Turkish\n   * updated man pages: English, German, Swedish\n   * fixed some translated strings not being used (#14094)\n   * improved layout of some parts of help (#14075)\n   * fixed several typos and errors (including #14228,#14207,#14076,#14077)\n * campaigns\n   * Eastern Invasion: revisions to Weldyn Under Attack and Evacuation\n   * The Rise of Wesnoth: fixed glitch in The River Road (forum thread 7148)\n * graphics and sound\n   * new unit portraits for Elvish Shaman, Ghoul, Grand Knight, Halberdier,\n       Li'sar, Mermaid Initiate, Merman Fighter, Merman Hunter,Naga Fighter,\n       Nagini Fighter, Orcish Assassin, Royal Guard, Saurian Skirmisher\n   * revised unit images and/or animations for Direwolf Rider, Duelist,\n       Elvish Shyde, Fencer, Grand Knight, Heavy Infantryman, Horseman,\n       Knight, Lancer, Master at Arms, Paladin, Shock Trooper\n   * fixed missing storm trident image (#14111)\n   * new observer icon\n   * fixed wrong ice missile image used by Elvish High Lord (#14132)\n   * fixed Lich using wrong image (#14139)\n   * replaced tooltip picture (#14134), note still english and not translatable\n   * fixed broken scepter of fire and scepter attack icons (#14208,#14231)\n * user interface\n   * fixed fonts sometimes not being found, eg. on BeOS\n   * fixed campaign dialog with no campaigns trying forever to download (#14078)\n   * fixed some damage calculations not showing %-to-kill\n   * fixed game music continuing to play on the title screen (#14080)\n   * added hotkey ctrl-j to show objectives (#7830)\n   * fixed more problems with observers (also #14239)\n   * fixed scrollarea and textbox glitches in MP lobby (#13011,#14124)\n   * menus now can acquire keyboard focus (#13118)\n   * info text (defense-%, #-turns) is no longer obscured by terrain (#13995)\n   * tips of the day now only change when playing a game (#14235)\n   * hotkey for taking a screenshot now works in editor also (#13841)\n   * show wait cursor for long operations, if not using color cursors (#12670)\n   * part-fix campaign text overflowing due to width being too narrow (#13961)\n   * fixed tooltips disappearing when using dfool's theme (#14084)\n   * prestart events now happen before the player is shown the map (#12957)\n * revised multiplayer maps: Bluewater Province, Charge, Hamlets,\n     Hornshark Island, Meteor Lake, Sablestone Delta\n * fixed AI units not getting rest-healing, causing replay errors\n * fixed configure options --with-icondir and --with-desktopdir (#14100)\n * changed Merman hoplite to bring it up to date with changes to steadfast\n * fixed Dark Adept female version glitches (#14073,#14122,#13986)\n * made checksums work on AMD64\n * revised network code, try to use non-blocking I/O if available\n * new description= attribute of [attack], name=\"x\" now implies\n     description=_\"x\" and icon=\"attacks/x.png\" if not specified (#12788,#14113)\n * AI in multiplayer can now recruit healers and mixed fighters (#14096)\n * fix AMLA healing (#13921); recruited/recalled units are now always healed\n * various bug fixes and code cleanups\n\nVersion 0.9.5:\n * language and i18n:\n   * new translation: Hebrew (no rtl support added in yet)\n   * updated translations: British English, Catalan, German,\n     Hungarian, Polish, Spanish, Swedish, Turkish\n   * fixed linebreaks not working properly for Chinese translation (#13352)\n   * updated several unit descriptions\n   * added GPL and part of MANUAL to help\n   * added more descriptions and images to in-game help (also #12322)\n   * fixed some untranslatable attack names (part of #12788)\n   * Battle Princess can now have translation different to Princess\n   * fix terrain list and time of day cross-references in unit help\n * graphics and sound improvements:\n   * fixed layering of multi-hex tiles (#13586)\n   * removed Mac OS X icon border (#12928)\n   * updated images for Elvish Druid, Elvish Scout, Elvish Shaman,\n     Elvish Shyde, Grand Knight, Master Bowman\n   * new and revised portraits for The Dark Hordes and Konrad\n * campaigns\n   * Eastern Invasion\n     * fixed missing background in intro (#13901)\n     * campaign plot and dialogue extensively revised\n   * Son of the Black Eye\n     * fixed untranslatable strings in Saving Inarix\n     * start of making Clash of Armies harder: arrival of more reinforcements\n   * The Dark Hordes: terminate the campaign at this point as Part 1\n   * Heir to the Throne: stop Bugg being resurrected in Bay of Pearls (#13950)\n   * old campaign downloaded from server is now removed when updating (#13874)\n * multiplayer:\n   * rejoining game as observer, with same nick, no longer causes out of synch\n     (#12824 and #12997, still subject to confirmation)\n   * fixed chat messages from allies not being shown in multiplayer (#13657)\n   * added Use map settings option to preset scenario suggested values (#10669)\n   * show game settings in the game list\n   * fixed lobby corruption when trying to join a game that disallows observers\n   * fixed create-game-then-cancel lobby corruption (#13522)\n   * tweaked layout of game creation screen\n   * fixed non-fatal errors exiting lobby (#13783)\n   * choosing vacant slot then joining all computer game is no longer allowed\n   * cancelling faction selection now goes back to scenario setup (#9376)\n   * ending game now returns to lobby (#13348)\n   * more robust network code: ghost connections should no longer linger forever\n * new units: added Drake Enforcer\n * unit balancing and modifications\n   * increased Elvish Scout ranged attack damage from 5-2 to 6-2\n   * increased Cavalryman attack damage from 5-3 to 6-3\n   * reduced dwarvishfoot and mountainfoot defense on tundra from 40% to 30%\n   * simplified AMLA, using global macros in amla.cfg\n * multiplayer scenarios: removed Icy Waters, added Smallolof,\n   modified Sulla's Ruins map\n * user interface improvements:\n   * fixed failed recruit attempt clearing undo stack (#13833)\n   * fixed recall not clearing shroud (#13824)\n   * fixed spurious warning when loading a saved game and ending turn (#12986)\n   * sound is handled better, and can be set as a preference (rest of #11669)\n   * fixed editor insisting on path without spaces, for saving maps (#13919)\n   * changed hotkeys for end turn (alt-e->alt-space) and open/load game\n     (ctrl-l->ctrl-o)\n   * replaced Vera and Bepa-Roman typefaces with DejaVuSans version 1.12\n * fixed toupper causing build to fail on OpenBSD (#13709)\n * fixed replay corruption due to capture events not saving randomness (#13666)\n * keep send and receive connection statistics separate for each socket\n * more responsive networking code, less subject to network errors\n * fixed campaign upload with no passphrase not storing generated passphrase\n * tag [redraw] now forces redraw and is no longer a no-op (#11079)\n * fixed repeated attempts to open non-existent font files\n * various bug fixes and code cleanups\n\nVersion 0.9.4:\n * language and i18n:\n   * updated translations:\n     * Basque, British English, Catalan, Chinese, Dutch, French,\n       German, Hungarian, Russian, Swedish, Turkish\n   * fixed help description of income and upkeep (#13565)\n   * updated several unit descriptions\n   * standardized on \"magi\" as plural of \"mage\"\n   * document that Woses receive no traits (#13630)\n   * replay suggested save game now translated (#13558)\n   * fixed some typos (#13714,#13715,#13716,#13717,#13718)\n   * added terrain descriptions to in-game help\n   * fixed blank terrain entries in unit help\n   * ignore LANGUAGE in environment: broke translations (forum thread 6614)\n   * added Swedish man pages to the list of man pages to be installed\n * unit balancing and modifications:\n   * max level units given After-Max-Level-Advancement (AMLA) of 3 HP/100XP\n     added to max HP, with no auto-heal; Necrophage has healing AMLA\n     with no bonus HP\n   * changed Naga Warrior attack from 5-5 to 7-4\n   * decreased Thug hitpoints from 36 to 32\n   * decreased Dwarvish Ulfserker hitpoints from 40 to 34\n   * changed Elvish Shaman and Druid to the state before 0.9.3\n   * decreased Elvish Shaman cost from 17 to 16 gold\n   * removed obsolete units Mounted Captain, Mounted Commander\n * graphics and sound improvements:\n   * new or revised images for Dark Sorcerer, Dwarvish Thunderguard, Necromancer\n   * new death animations: Elvish Sharpshooter, Elvish Marksman\n   * default colour depth is no longer forced to 16 bits\n   * new tiles for some terrain in the editor terrain list and mini map\n * WML improvements:\n   * #define's in user campaigns are now local to each campaign (patch 4138)\n   * correctly preprocess files that do not end with a final newline\n * campaigns\n   * Heir to the Throne:\n     * made campaign easier on \"Easy\" level\n     * removed duplicate file inclusion - campaign should now start faster\n   * Eastern Invasion:\n     * revised Approaching Weldyn for quicker gameplay\n     * tweaked Undead Crossing\n     * removed duplicate file inclusion - campaign should now start faster\n   * The Dark Hordes:\n     * cleaned up old id tags; added portraits for Tanar, Nati and Gwiti\n     * removed duplicate file inclusion - campaign should now start faster\n   * The Rise of Wesnoth:\n     * removed duplicate file inclusion - campaign should now start faster\n     * fixed Lt. Aethyr death events not triggering in Rise of Wesnoth (#13848)\n   * Son of the Black Eye: revised map for Desert of Death\n * server\n   * now supports redirection based on client version number\n   * can now act as proxy\n * editor\n   * changed the layout of the terrain palette (#11965)\n   * relocated and enlarged the buttons (#11967)\n   * maps can't be saved with illegal characters (#10704)\n   * replaced the buttons under the minimap with a toolbar\n * build process\n   * added quotes to configure.ac (forum thread 6747)\n   * new utility extractsources to extract lists of sources from Makefile.am\n   * new utility makemam to construct Makefile.am from Makefile.am.in and\n     files containing lists of sources\n   * fix libpng not being detected on NetBSD (#13808)\n * user interface improvements:\n   * show scrollbar in multiplayer lobby when there are many players (#13521)\n   * multiplayer lobby player list no longer resets to start (#13345)\n   * fixed game host sometimes not recognized as side owner (forum thread 6783)\n * remove redundant {utils} and {~utils} references (#13843)\n * various bug fixes and code cleanups\n\nVersion 0.9.3:\n * user interface improvements:\n   * restored dialog titles for multiplayer screens (#13049)\n   * --nosound commandline option no longer initializes sound (part of #11669)\n   * players can now control multiple sides in multiplayer\n   * prevented user campaigns with errors from making the game unstartable\n   * user campaigns can no longer redefine standard units\n   * multiplayer replays no longer show 'The End' and credits (part of #13375)\n   * fixed off-by-one error in Unit List (#13323)\n   * fixed multiple Returns registered by some dialogs (part of #13332)\n   * \"Observers\" setting for multiplayer games is now obeyed again (#13374)\n * language and i18n:\n   * fixed 'make dist' not removing stamp-po files, causing broken translations\n   * updated translations:\n     * British English, Catalan, Finnish, German, Hungarian, Swedish, Turkish\n   * updated MANUAL: English (also synched with wiki), German, Swedish\n   * man pages: updated English and German, added Swedish\n   * added descriptions to all multiplayer maps (#9763)\n   * user visible error messages are now translatable (#12605)\n   * added files to POTFILES.in: fix untranslatable strings (#13350)\n   * fixed untranslatable strings on Windows (#13347)\n   * fixed user campaign translations not working on Windows (#11848)\n * campaigns\n   * Eastern Invasion:\n     * made Captured and Approaching Weldyn easier\n     * reduced the turn limit in The Drowned Plains\n   * Heir to the Throne:\n     * made campaign easier on \"Easy\" level\n     * fixed Hasty Alliance crash: avoid cavewall endpoints (part of #13334)\n     * updated story image 4 to remove glitch (#13385)\n   * Son of the Black Eye:\n     * made To The Harbour of Tirigaz and Black Flag easier\n * graphics and sound improvements:\n   * new or modified images for Dwarvish Thunderer, Elvish Outrider,\n     Elvish Rider, Elvish Scout, Giant Mudcrawler, Goblin Knight,\n     Goblin Pillager, Mudcrawler, Orcish Warlord, Wolf Rider\n   * new death animations for Dwarvish Thunderer, Elvish Archer,\n     Elvish Avenger, Elvish Ranger, Giant Mudcrawler, Mudcrawler, Spearman,\n     Young Ogre, Nightgaunt, Spectre\n   * new orc portraits, now used in Heir to the Throne\n   * new unit portraits for Bandit, Grand Knight, Halberdier, Horseman,\n     Javelineer, Knight, Lancer, Paladin, Peasant, Pikeman, Royal Guard,\n     Swordsman, Thug\n   * new portrait of Asheviere\n   * updated icons\n * terrain graphics\n   * new multihex snow forest\n   * new snow transition\n   * new ice tiles\n   * new dirt tiles\n   * new villages\n * new units\n   * added Orcish Slurbow and Dark Sorcerer\n * unit balancing and modifications:\n   * applied 0.9.2 changes to Thief, Elvish Archer, Elvish Ranger,\n     Elvish Avenger to female units also\n   * steadfast now doubles resistances up to 50%; vulnerabilities are unaffected\n   * decreased Dwarvish Guardsman line resistance to cold from 20% to 10%\n   * decreased Dwarvish Stalwart defense in grassland from 50% to 40%\n   * increased Dwarvish Ulfserker cost from 18 to 19\n   * restored Dwarvish Berserker resistances from 0.8.11\n   * changed Thug attack from 6-3 to 5-4\n   * increased Poacher experience needed to advance from 24 to 29\n   * increased Orcish Shaman (Novice and Old also) hitpoints from 18 to 20\n   * increased Pikeman attack from 9-3 to 10-3\n   * increased Master Bowman hitpoints from 46 to 50\n   * increased undeadspirit (Ghost line) resistance to fire from 0% to 10%\n   * decreased Ghost, Shadow and Nightgaunt resistance to impact from 60% to 50%\n   * changed Ghoul and Necrophage resistances: impact -10% -> 0%,\n     fire -20% -> 0%, cold 60% -> 40%\n   * decreased undeadfoot movement cost on mountains from 4 to 3\n   * decreased undeadfoot movement cost on hills from 3 to 2\n   * Demilich now advances to Dread Lich (previously Ancient Lich)\n   * increased Naga hitpoints from 30 to 33 and experience from 25 to 32\n   * increased Naga Warrior hitpoints from 40 to 43\n   * decreased Naga Warrior experience needed to advance from 70 to 66\n   * decreased Naga Warrior attack from 6-5 to 5-5\n   * decreased Merman Hunter ranged attack from 6-3 to 5-3\n   * decreased Merman Spearman ranged attack from 7-4 to 6-4\n   * decreased Merman Spearman melee attack from 6-3 to 6-2\n   * decreased Merman Spearman hitpoints from 45 to 40\n   * decreased Merman Netcaster hitpoints from 42 to 40\n   * increased Merman Netcaster ranged attack from 7-2 to 9-2\n   * increased Merman Fighter hitpoints from 32 to 36\n   * increased Merman Warrior hitpoints from 48 to 50 and attack from 7-4 to 8-4\n   * decreased Elvish defense in swamp from 40% to 30%\n   * increased Elvish Shaman ranged attack from 3-2 to 4-2\n   * decreased Elvish Shaman melee attack from 3-2 to 2-2\n   * decreased Elvish Druid melee attack from 4-2 to 3-2\n   * Elvish Shaman and Druid are now able to inflict slow through melee\n   * decreased Elvish Shaman cost from 18 to 17\n   * increased movement cost of movetype \"fly\" units in caves from 2 to 3\n   * increased Drake Clasher line movement cost in caves from 1 to 2\n   * decreased Drakes' defense in caves from 40% to 30%\n   * increased Revenant hitpoints from 40 to 43\n   * increased Deathblade hitpoints from 32 to 35\n   * increased Skeleton Archer ranged attack from 4-3 to 6-3\n   * increased Skeleton Archer experience needed to advance from 30 to 35\n   * increased Bone Shooter melee attack from 5-2 to 6-2\n   * increased Bone Shooter ranged attack from 7-3 to 9-3\n   * increased Soul Shooter melee attack from 6-2 to 8-2\n   * increased Soul Shooter ranged attack from 11-3 to 12-3\n   * Rebels can now choose White Mage as leader in Default era\n   * Rebels can now choose Mage of Light as leader in Age of Heroes era\n   * Nagas can no longer move on mountains\n * multiplayer scenarios\n   * added Sablestone Delta\n   * modified Den of Onis, Hornshark Island, Meteor Lake, Silverhead Crossing\n * server\n   * no longer rejects: control command with \"Side not found\"\n   * write a summary of commands when a fifo command is not recognized\n   * fix assertion failure in network_worker.cpp\n * move_unit_fake with illegal coordinates now logs error instead of\n   causing assertion failure crash (part of #13334)\n * various bug fixes and code cleanups\n\nVersion 0.9.2:\n * user interface improvements:\n   * sped up frame rate when scrolling the map\n   * connecting to a server now shows dialog that allows the user to cancel\n     the connection rather than blocking (#12614)\n   * sped up help\n   * added hotkey for cycle to previous unit (shift-N) (part of #10703)\n   * added hotkey for hold position (shift-space) (patch 3994)\n   * made the right Command key on Mac OS X work like the left one\n   * made menu widgets sortable\n   * made network dialogs show progress of data transfers again\n   * added display of unit defense over the terrain when choosing move\n   * added visual cue for movement in specific terrain when choosing move\n   * added %-to-kill to Damage Calculations\n   * fixed female units not appearing in help (broken since 0.9.0)\n   * added support for unit portraits in help (forum thread 6017)\n   * reduced required width of weapon area in help\n   * fixed items appearing in traits description (#12603)\n   * preserve trait ordering to distinguish quick,resilient and resilient,quick\n   * improved layout of objectives dialog\n   * made the text of disabled buttons grayed out\n   * made room for observers in DFool theme (#13027)\n   * added clock to DFool theme (#10650)\n   * added Experimental theme\n   * tweaked multiplayer lobby\n   * improved position and size of 'users' menu in multiplayer lobby (#13120)\n   * selecting colors for multiplayer sides now works correctly (#13255)\n   * typing a chat message quickly no longer lags the game (#12097)\n   * pasting multiline text now discards lines after the first (#12282)\n   * better checking for 'control' command arguments in multiplayer (#13086)\n   * added 'Advanced' preferences: 'binary save files', 'show combat'\n   * fixed village name being shown over shroud (#10690)\n   * made ordering of terrain data consistent (#10665)\n   * display error if save cannot be completed (eg. disk full) (#13232)\n   * fixed halo position when unit is in water (#12493)\n   * fixed titlescreen background disappearing on switch to fullscreen (#11863)\n   * disabled mousewheel scrolling during combat and unit movement (#12021)\n   * fixed pathfinding issues with respect to unreachable hexes (#11480, #13295)\n * campaign improvements:\n   * Eastern Invasion:\n     * Unexpected Appearance: fixed Dacyn not being [recall]-ed (#12830)\n     * Evacuation: units left on the wrong side of river now really die (#10619)\n     * Northern Outpost: killing enemies in \"wrong\" order is now a win (#12922)\n     * Northern Outpost: added a Holy Water bottle\n     * Captured: fixed bugs (#10512, #12998), but replaced scenario anyway\n     * Drowned Plains: new map and scenario modification, bug fixed (#13013)\n   * Heir to the Throne:\n     * Siege of Elensefar: fixed thieves not appearing (forum thread 5719)\n   * Son of the Black Eye:\n     * prevented the shamans from being recallable (#11932)\n     * Siege of Barag Gor: killing enemy leader is no longer a win\n     * End of Peace: increased turn limit 24 -> 26 due to Lieutenant upgrade\n     * Desert of Death: fixed invalid type=RogueAssassin on Hard\n     * removed duplicate file inclusion - campaign should now start faster\n     * more accurate difficulty labels\n     * Toward Mountains of Haag: fixed enemy making \"never pushed so far\" speech\n * new units\n   * added Drake Warden, Hurricane Drake and Drake Blademaster\n * unit balancing and modifications:\n   * slow now affects units with 2 or more attacks (not just 1 remaining)\n   * slow now works with berserk and is persistent across berserk rounds\n   * changed Lieutenant attack from 6-3 to 9-3\n   * reduced Fencer cost from 18 to 16\n   * changed Iron Mauler attack from 22-2 to 25-2\n   * changed Soulless attack from 7-2 to 7-3\n   * changed Soulless attack from plague to plague(Walking Corpse)\n   * Walking Corpse created by plague can advance to Soulless again (#13056)\n   * reduced Skeleton Archer cost from 15 to 14\n   * changed Skeletal Dragon resistances (only used in Eastern Invasion)\n   * tweaked Watch Tower, Pirate Galleon and Transport Galleon and removed\n     their multihex attacks (only used as real units in Son of the Black Eye)\n   * reduced Dwarvish Fighter cost from 17 to 16\n   * reduced Dwarvish Fighter line Axe (blade) damage by 1 point\n   * reduced Dwarvish Thunderer cost from 19 to 17\n   * reduced Gryphon Rider cost from 25 to 24\n   * Dwarvish Ulfserker stats reverted to those from version 0.8.11\n   * increased Thief cost from 12 to 13\n   * changed Elvish Lord and Elvish High Lord's ranged attack from fire to cold\n   * changed Elvish Ranger melee attack from 7-4 to 7-3\n   * changed Elvish Avenger melee attack from 10-4 to 9-4\n   * increased Walking Corpse cost from 5 to 6\n   * trolls can no longer get \"intelligent\" random trait\n   * increased Troll Whelp experience needed to advance from 32 to 33 XP\n   * increased Troll experience needed to advance from 52 to 60 XP\n   * Goblin Knight -> Direwolf Rider upgrade reduced from 150 to 65 XP\n   * added flaming arrow to orcish archer line as a new attack\n   * reduced Saurian Skirmisher movement to 6, increased its cost from 14 to 15\n   * changed Drake Gladiator from 65 to 59 HP\n   * changed Drake Gladiator pierce resistance from 10% to -10%\n   * changed Drake Slasher from 59 to 65 HP\n   * changed Drake Slasher pierce resistance from -10% to 10%\n   * increased Drake Slasher and Drake Gladiator cost to 45\n * Doc Paterson's modifications to the MP map catalogue\n   * added \"Divide and Conquer\", \"Silverhead Crossing\", \"Meteor Lake\",\n     \"Den of Onis\", \"Hamlets\", \"Hornshark Island\", \"Sulla's Ruins\",\n     \"1v1v1Hex\" (3p), \"Lagoon\" (4p), \"The Wilderlands\" (4p),\n     \"3-player Morituri\", \"3-player Blitz (Triple Blitz)\"\n   * removed \"Broken Bridge\", \"Battle For Weslin Bridge\",\n     \"Princess's Battlefield\", \"Three Rivers\", \"The Isles of the Damned\",\n     \"The Isle of Anduin\", \"Dwarven Wasteland\"\n * unit graphics and sound improvements:\n   * new death animations for: Ancient Lich, Ancient Wose, Arch Mage,\n     Assassin, Bandit, Battle Princess, Blood Bat, Bone Shooter, Bowman,\n     Cavalier, Cavalryman, Cave Spider, Chocobone, Cockatrice,\n     Commander, Cuttle Fish, Dark Adept, Dark Queen, Dark Spirit,\n     Deathblade, Death Knight, Deathmaster, Demilich, Direwolf Rider,\n     Dragoon, Duelist, Draug, Drake Burner, Drake Clasher, Drake Fighter,\n     Fire Drake\n   * new or modified graphics for Dragoon, Dwarvish Dragonguard,\n     Elvish High Lord, Elvish Lord, Halberdier, Lady Parandra, Noble Lord,\n     Royal Guard, Soulshooter, Swordsman\n   * fixed several image files being referred to by wrong name\n   * new Soulless variation images\n   * added flaming arrow images\n * language and i18n:\n   * language fixes and polishing (English) (also fixed #12613, #10714)\n   * updated MANUAL\n   * new translations: Serbian\n   * updated translations: Afrikaans, British English, Catalan, Chinese,\n     Czech (#12864), Estonian, Finnish, French, German (also fixed\n     #13147), Greek, Hungarian, Italian, Japanese, Polish, Russian,\n     Slovenian, Spanish, Swedish, Turkish\n   * updated gettext support to GNU gettext 0.14.4\n   * removed the intl/ directory, since libintl is now widespread enough\n     for gettextize to default to not installing it\n * WML improvements:\n   * new WML preprocessor, allows for nested parentheses in macros (#10995)\n   * note= attribute for [objectives], shown as footer, eg. for hints (#12927)\n   * increase_attacks= attribute of [effect] now allows percentages (#13033)\n   * new [random] representation as list allows complex scenarios to be saved\n     (forum thread 5659)\n   * better diagnostics on parsing: show file inclusion sequence\n   * added [scroll_to] (patch #3388, forum thread 3235)\n   * added [advancefrom] (patch #3625, forum thread 4186)\n   * [recall] tag can now work even if the recruiter is not in a keep\n     (#10543, #11735, #12974)\n   * next_scenario: tentative start of MP campaign support\n   * tidied up game.cfg and traits.cfg; game startup should now be faster\n * editor improvements:\n   * fixed editor file chooser when starting directory has many files (#11698)\n   * the starting position in the editor now starts counting from 1 (#10625)\n * improvements and bug fixes of the logging system\n * fixed replays with idle_ai, as seen in user scenario Rebellion (#12943)\n * saving during an AI unit's turn no longer makes that unit disappear (#13023)\n * fixed Windows build crashing when trying to recruit units (#12926)\n * tutorial start and end scenario savegames can now be loaded (#10332)\n * various bug fixes and code cleanups (including #13264 #12954 #12734 #13263)\n\nVersion 0.9.1:\n * user interface improvements:\n   * added a shortcut for making screenshots\n   * added support for Home/End in menus, ctrl-a/e/u in textboxes\n   * fixed the formatting of wrapped text lines being lost\n   * fixed the screen being incorrectly redrawn when resizing\n   * fixed bug #12654 causing prestart events to be shown to the player\n   * fixed bug #12758: gendered unit types repeated in attack type tooltip\n   * fixed bug #12612: no description in help for units at first encounter as upgrade\n   * fixed excess space in MP \"/me \" emotes\n * campaign improvements:\n   * fixed bug in Northern Winter (HttT) where the Orcs attack each other\n   * fixed the 'knockback' for WML Plague in TRoW\n   * fixed missing music in the Crossroads (HttT)\n * multiplayer improvements:\n   * fixed the lobby chat window not wrapping text\n   * fixed the lobby chat staying at top when changing lobby screens\n   * fixed the multiplayer \"wait\" lobby screen not correctly displaying empty and vacant slots.\n   * made renaming units visible on replays and on multiplayer games\n   * fixed bug #12759: \"number of turns\" not being remembered when creating multiplayer games\n   * fixed bug #12791: Statistics doesn't reset in multiplayer games.\n * terrain improvements:\n   * new forest tiles\n * unit balancing:\n     * Dwarvish Guardsmen line removed as leaders in multiplayer\n     * Dwarvish Guardsmen line only get 1 trait instead of 2\n     * revert Drakes pierce resistance to 110%\n     * revert Orcish Assassin to 3-3 ranged attack\n     * reduced resistance of Ulfserker and Berserker\n     * Elvish Rider: increase melee to 6-4, increase ranged to 7-3\n     * Elvish Outrider: increase melee to 8-4, increase ranged to 7-4\n * language and i18n:\n   * updated English and German manpages\n   * language fixes and polishing (English)\n   * fixed the description of traits in the help & tutorial\n   * fixed user-campaigns not being translatable anymore\n   * fixed some untranslatable strings\n   * new translations:\n     * Turkish\n   * updated translations:\n     * Afrikaans\n     * British English\n     * Catalan\n     * Chinese\n     * French\n     * German\n     * Hungarian\n     * Italian\n     * Japanese\n     * Slovenian\n     * Swedish\n   * added a ./configure --enable-dummy-locales option for Wesnoth to generate\n     its own set of i18n locale files and use them instead of the potentially\n     missing system files (highly experimental)\n   * made the width of the non-breaking space in Vera font be half that of\n     the normal space, instead of twice that width.\n * added support for num_traits in individual unit_types overriding race num_traits\n * fixed the missing 'elder-mage-halo7.png' in the Elder Mage\n * fixed the advanceto field in Dark_Adept.cfg\n * fixed some OoS errors when chatting while a fight is taking place\n * fixed the spurious \"statistics verification failed\" messages\n * fixed bug #12611: modifying villages with [terrain] interacting badly with capturing them.\n * fixed bug #12698: segfault with --decompress on relative path\n * various bug fixes and code cleanups\n\nVersion 0.9.0:\n * user interface improvements:\n   * added alternative theme: DFool\n   * added theme dialog, launched with \":theme\"\n   * made help use single click instead of double click\n * campaign modifications\n   * tutorial polishing\n   * updated 'The Siege of Elensefar', 'Mountain Pass', 'The Swamp of Esten',\n     and 'A Final Spring' to use the new ford terrain (Heir to the Throne & The Rise of Wesnoth).\n   * modified the behaviour of the thieves in 'The Siege of Elensefar' (Heir to the Throne)\n   * updated Heir to the Throne and The Rise of Wesnoth to use the ruined keeps where appropriate\n   * dialog improvements in Eastern Invasion\n   * new map for Drowned Plains (Eastern Invasion)\n   * changed the Wesfolk Leader's guards to poachers in 'The Fall' (The Rise of Wesnoth)\n * multiplayer improvements\n   * rewrote multiplayer lobby code\n   * changed Broken_Bridge to use new ruined castles\n   * added new multiplayer maps: Icy Waters, Clash\n   * changed King_of_the_Hill to use a Dwarvish Castle\n   * chat messages are now displayed in the user's colour when prefixed with /me\n   * split the map and scenario file for 'An Island'\n   * disabled debug mode for multiplayer games\n   * made it possible to join games using eras which only are on the host-side\n   * made it possible for the server to redirect the clients to another host\n     (client-side support only for now)\n * terrain improvements\n   * improved transitions:\n     * swamp\n     * keep to keep\n   * added new terrains:\n     * ruined castle\n     * sunken ruin\n     * swamp-ruin\n     * river ford\n     * lava\n * unit graphics and sound improvements\n   * updated images for several units: Cave Spider, Haldric, Lady Jessica,\n     Mermaid Priestess, Mermaid Diviner, Merman Hunter, Merman Javelineer,\n     Merman Spearman,Walking Corpse, Elvish Fighter, Captain, Marshal, Hero,\n     Champion, Archer, Marksman, Sharpshooter, Ranger, Avenger, Shyde, Orcish Archer,\n     Orcish Crossbowman, Human Spearman\n   * added drake, mounted, saurian, swimmer, troll, and wose variations to Walking Corpse\n   * updated Haldric's portrait in The Rise of Wesnoth\n   * added graphics for generic Lich-Lords, the Archmages in 'The Sewer of Southbay',\n     and the Lady Outlaw (The Rise of Wesnoth)\n   * added support for animated deaths, and added animations for Skeleton and\n     Revenant, and all Walking Corpse variations\n   * fixed several image files being referred to by wrong name\n   * removed sound of thrown spear from Drake Clasher spear melee attack\n   * added get_hit_sounds to Elder Mage (Delfador) and Elvish Lady (Parandra)\n * unit balancing:\n   * Soulless: dropped cost to 11, increased  HP to 28\n   * Merfolk: defense on water and swamp reduced by 10%.\n   * Merman Hunter cost: 13 -> 15. Melee attack: 5-2 -> 4-2.\n   * Naga: defense on shallow water reduced by 10%.\n   * Naga Fighter cost: 13 -> 14.\n   * Deep sea creatures: defense on water reduced by 10%.\n   * Orcish Assassin: increased cost by 1 gold\n   * Troll Whelp:  increased cost by 1 gold\n   * Gryphon units: improved defense on mountains.\n   * Steadfast dwarvish units: increased movement speed.\n   * Dwarvish Thunderer: improved melee attack to 6-2, and 3 more HP\n   * Dwarvish Guardsman:  improved attack to 5-3.\n   * Dwarvish Fighter: 2 more HP\n   * Berserkers: made berserk only active on offense.\n   * Elves: added the race specific 'dextrous' trait (increases damage on ranged attacks)\n   * Drakes: made them lawful\n   * Drakefly: increase pierce vulnerability to 20%\n   * Drakefoot: increase pierce vulnerability to 10%\n   * Drake Burner: decrease HP to 42, changed ranged attack to 6-4\n   * Drake Clasher: decrease HP to 43\n   * Drake Fighter: decrease ranged attack to 3-3\n   * Fire Drake: decrease HP to 54, decrease ranged to 7-5\n   * Drake Flameheart: decrease HP to 84, increased ranged to 8-4\n   * Drake Flare: decrease HP to 62, increased ranged to 7-4\n   * Drake Gladiator: reduce HP to 65\n   * Drake Glider: increase cost to 16, increased ranged to 3-3\n   * Inferno Drake: decrease HP to 71, increase ranged to 8-6\n   * Sky Drake: increase cost to 27, increased ranged to 5-3\n   * Drake Slasher: reduce HP to 59\n   * Drake Warrior: reduce ranged attack 5-3\n   * made 'loyal' a trait which is only given to units explicitly by the scenario designer\n * language and i18n:\n   * language fixes and polishing (English)\n   * fixed hero names not being translatable\n   * made text strings automatically choose an appropriate font\n   * fixed untranslatable strings\n   * support to display Chinese and Japanese translations\n   * new translations:\n     * Afrikaans\n     * Chinese\n     * Estonian\n     * Japanese\n   * updated translations:\n     * Basque\n     * British English (100%)\n     * Catalan\n     * Dutch (100%)\n     * Finnish\n     * French\n     * German (100%)\n     * Greek\n     * Hungarian\n     * Italian\n     * Latin,\n     * Norwegian\n     * Polish\n     * Portuguese (Brazilian)\n     * Russian\n     * Slovak\n     * Slovenian\n     * Spanish\n     * Swedish (100%)\n * WML modifications\n   * rewrote WML parser with stricter grammar and better error handling\n   * changed the [movement costs] WML tag into [movement_costs]\n   * added generate_description to [unit], to allow automatic generation of user_description\n   * made [capture_village] accept a location range\n   * added support for [objectives] event actions, to set objectives.\n   * added the ability for sides to have different objectives.\n   * added UNIT, UNDEAD_UNIT, and PLACE_IMAGE macros to utils.cfg\n * changed plague to allow plague(unit_type) as well as undead_variation\n * more progress towards a completely-usable 320x240 PDA port (campaigns should now be playable)\n * fixed bug that made the ai recruit badly\n * fixed auto-move using up all of the remaining moves when\n   there are no empty hexes on the unit's path (#9649)\n * fixed merged castles in random maps (#8848)\n * fixed villages in the rightmost column not getting a name (#11152)\n * fixed drawing error in the titlescreen (#12534)\n * added debug command to give gold to current side\n * fixed user campaigns appearing twice with zipios enabled\n * slight cleanup of the terrain graphics code\n * added a --disable-game configure option to avoid compiling and installing the game\n * share the object files between all the programs to halve the time of a full compilation\n * disabled \"End turn\" button when it is irrelevant.\n * added OS X ScrapManager support\n * improved threading of campaign server\n * fixed the dialog menus being larger than the screen\n * made the game remember the last server used for downloading campaings\n * when building out of the source tree, configure now creates the translations/\n   directory in the source tree, but does not attempt to do so if it is read-only\n * code refactoring and dependency cleanups\n * various bug fixes and code cleanups\n\nVersion 0.8.11:\n * new translation:\n   * British English\n * updated translations:\n   * Basque\n   * Catalan\n   * French\n   * German\n   * Italian\n   * Latin\n   * Slovenian\n   * Swedish\n * in language-selection dialog, consistently use native name for all languages,\n   with the (hopefully) official latin transcription for those that cannot be displayed\n   in the default font (russian, bulgarian, greek)\n * language fixes and polishing (English)\n * fixed slovene being wrongly localized as sl_SL insteof sl_SI\n * campaign fixes and changes:\n   * fixed Delfador appearing in the water when turns run out in 'The Bay of Pearls' (HttT)\n   * updated maps for: 'Northern Winter' & 'Mountain Pass' (HttT)\n   * updated 'Evacuation' & 'Captured' (EI)\n   * fixed the talking tentacle in 'Temple of the Deep' (TroW)\n   * switch to the new Merfolk and Nagas in TRoW and HttT\n * unit fixes and changes:\n   * fixed several units using non-existing sound files\n   * added sounds (existing) to several attacks\n   * updated all uses of the 'old fireball' to use the 'new fireballs'\n   * added new images and animations for all mages\n   * updated the attack frame sequences for the Drakes\n   * added attack icons for 'slam' and 'ballista'\n   * obsoleted all instances of the old 'Mermen' & 'Naga' unit lines\n   * modified defense weight for Drake Slasher\n   * decreased hitpoints for Gate\n   * renamed 'Elvish Lady Parandra' 'Elvish Lady'\n   * made all mages use staff (impact) as melee attack\n   * added support for directional attack animations\n * fixed zipios support so that user campaigns custom images and sounds can be loaded\n * fixed locale-dependent numeric input/output bug, it allowed units to walk on the water,\n   and prevented the AI from being correctly configured in campaigns\n * use fixed-point arithmetics in critical functions, so that wesnoth can\n   reasonably run on an FPU-less machine (eg. ipaq PDA)\n * fixed the width of 'HP' and 'XP' in the right side panel\n * fixed some multiplayer connect bugs\n * fixed the AI not going through the no-ZoC of lv0 units when it should have\n * code cleanups and bug fixes\n\nVersion 0.8.10:\n * user interface tweaks\n * updated translations:\n   * catalan\n   * french\n   * german\n   * latin\n   * russian\n   * swedish\n * updated manpages\n * language fixes and polishing (English)\n * updated images for footpad and dwarvish sentinel\n * scenario revisions for 'The Heir to the Throne' campaign:\n   * Dwarven Doors & Siege of Elensefar- Decreased the AI's gold\n   * Bay of Pearls - Added an extra keep square on EASY\n   * Sceptre of Fire- Reduced that AI's income on HARD\n   * Northern Winter- Updated the map to use the snow tiles\n   * tweaks to several maps\n   * difficulty balancing for most scenarios\n * scenario revisions for 'Son of the Black Eye' campaign:\n   * End of Peace\n * scenario revisions for 'The Eastern Invasion' campaign:\n   * Escape Tunnel\n * scenario revisions for 'The Rise of Wesnoth' campaign:\n   * reduced the AI's gold in 'A Harrowing Escape'\n   * allowed the AI to initially recruit scouts in several scenarios\n   * altered / fixed the recruitment pattern in several scenarios\n   * tweaks to 'The Plan' & 'Epilogue' (both non-playable)\n * really removed ZoC from lv0 units this time\n * fixed editor to work with zipios support enabled\n * fixed zipios support to honor path to data given on command-line\n * fixed zipios support crashes when running from CVS\n * new cmd line option --fps to display frames/second refresh in game\n * modified how damage is calculated (RATE)\n * made unit movement smoother\n * fixed poison not being cured when the unit had too much HP (#11565)\n * fixed bugs when replacing player with observer in mp (#11231)\n * fixed several pathfinding bugs (#11769)\n * fixed cave random map generation, especially Scepter of Fire (#11748)\n * fixed dialogs shown at end of MP game (#11830)\n * fixed units not being correctly displayed on minimap for odd x-locations.\n * added several fortunes\n * code cleanups and bug fixes\n\nVersion 0.8.9:\n * new translations:\n   * bulgarian\n   * latin\n * updated most translations\n * new or updated portraits:\n   * Konrad, Delfador, Li'sar and Kalenz (Heir to the Throne)\n   * Gweddry and Dacyn (Eastern Invasion)\n * added missing animations for:\n   * Mermaid Initiate, Mermaid Enchantress and Mermaid Siren\n   * Ancient Wose\n   * Goblin Direwolf Rider and Goblin Knight\n   * Gryphon\n   * Skeleton Archer, Revenant and Death Knight\n   * Troll Warrior, Troll Hero and Great Troll, Young Ogre\n   * Grand Knight, Lord and Master Bowman\n   * Cuttlefish\n * new or overhauled graphics for:\n   * Footpad, Outlaw, Thief and Rogue\n   * Orcish Shamans, Elvish Lord and Elvish High Lord\n   * Ghost, Nightgaunt, Shadow, Spectre and Wraith\n * new female units for:\n   * Footpad, Thief, Rogue and Assassin\n * added new tiles:\n   * desert\n   * desert hills\n   * desert mountain\n   * desert villages (adobe and tent)\n   * desert road\n   * desert oasis\n   * savanna\n   * tropical forest\n   * tropical forest village\n * added icon for petrified units\n * fixed missing diagonal projectiles on many units\n * removed old unused images:\n   * time-of-day\n * downloaded campaigns no longer require a restart to be able to play them\n * new units:\n   * Javelineer\n * unit balancing:\n   * Naga fighter: increased hitpoints from 27 to 30\n   * Merman Hoplite: increased resistances and damage\n   * Mermaid Initiate/Enchantress/Siren: reduced number of attacks,\n     increased damage, removed special resistances\n   * Mermaid Initiate: increased experience needed to level, other minor tweaks\n   * Swordsman: increase resistance to blade and impact\n   * Royal guard: increase resistance to blade and impact\n   * Pikeman: increase resistance to pierce, change attacks number and damage\n   * Halberdier: increase resistance to pierce, increase blade damage, decrease pierce damage\n   * Saurian Tribalist, Saurian Icecaster, Saurian Soothsayer: remove 'skirmish'\n   * Saurian Skirmisher: Increase cost to 14 gold\n   * Wraith, Spectre: reduce resistance to blade, pierce, impact by 20%, increase HP by 10%\n   * Poacher: Reduce cost to 14\n   * Tentacle of the Deep: Change movement type to 'float'\n   * Flying creatures can now cross canyons\n   * Removed ZoC from level 0 units\n * language fixes and polishing (English)\n * added 'x' to the terrain letters reserved for campaign writers\n * scenario revisions for 'The Eastern Invasion' campaign:\n   * Lake Vrug\n   * Two Paths\n   * Northern Outpost\n   * Elven Alliance\n   * Unexpected Appearance\n   * Escape Tunnel\n   * Tribal Warfare\n   * Approaching Weldyn\n * scenario revisions in Heir to the Throne:\n   * Blackwater Port- Make the port look like more of a port, other minor changes that mute each other out\n   * The Isle of Anduin- Extend shallow water around the Isle, remove the Saurians in favour of Goblins\n   * The Bay of Pearls- Flip the map so the Ocean is on the West side\n   * Muff Malal's Peninsula- Make it a peninsula, give Konrad the option of fighting (bonus) or fleeing\n   * Isle of the Damned- Touched up the map so it is clear that the islands\n     are islands, made the islands tropical, and moved the temples\n   * The Siege of Elensefar- New map, and other changes\n   * The Crossroads- New map, weaker more diffuse ambushes, and less gold for the Orcs\n   * The Princess of Wesnoth- Minor map changes, and made the scenario harder\n   * Set result=continue in 'Plunging into the Darkness'\n * scenario revisions in The Rise of Wesnoth:\n   * fixed {CROSS} in 'Temple of the Deep'\n   * fixed sign glitch\n   * reduced the difficulty of TRoW on 'Hard' particularly, and reduce\n     the difficulty slightly on 'Easy' & 'Normal'\n   * A New Land - Sync with the map from Bay of Pearls\n   * Cursed Isle- Sync with the map from Isle of the Damned, make the temples match locations\n   * Made 'Peoples in Decline' and 'Rough Landing' look tropical\n * multiplayer improvements\n   * multiplayer game settings (map name, gold per village, ...) are saved now\n   * added several missing units\n   * Random Map (Desert) uses new desert environment; also tweaked\n   * make the cave in 'An Island' (MP) be 'underground'\n   * enlarge side descriptions for remote player during game creation\n   * added support for player nick tab completion and /me-substitution in game chat\n * theme syntax improvements:\n   * added support for specifying a reference rectangle when using relative-positioning syntax\n   * added support for theme inheritance; avoids duplicating mostly-unchanged code\n * added a \"droid\" game command, and allow for computer player to do a campaign\n * added a \"canrecruit\" filter\n * updated manpages and added support for translating them\n * \",\" is no longer the column separator, it does not have to be escaped\n   anymore in some translations, \"=\" is the new separator (#10368)\n * take advantage of libzipios++ if available, to read cfg files,\n   maps, images, sound effects, and fonts from zip files.\n   Call \"make zip-install\" to install data zipped.\n * removed drain allowing to go past maximum hp\n * removed long-range attacks (Pirate Galleon, Transport Galleon, Wall Guard, Watch Tower)\n * fixed various bugs with respect to multiplayer game setup\n   (#10896, #11236, #11265, #11442, #11527)\n * added new pathfinder (Redsun)\n * fixed some pathfinding bugs\n * fixed untranslatable strings\n * fixed \"damage inflicted\" statistic (incorrectly computed when defending)\n * fixed that move-and-attack allowed attacking stone units\n * fixed the side turn event being fired incorrectly\n * fixed repeat recruit hotkey not respecting WML recruit changes\n * removed support for turning off genders\n * removed obsolete tools: make_translation merge_translations\n * removed obsolete id= for messages in TRoW & HttT\n * code cleanups and bug fixing\n * added a wesnoth \"fortunes\" file\n\nVersion 0.8.8:\n * campaign server stores size of campaigns\n * user interface improvements:\n   * consistently compute minimum allowed zoom value according to screen size\n   * improved readability of chat messages on light backgrounds (#10900)\n * made it possible to move and attack with a single click\n * graphics improvements:\n   * portraits for all TRoW characters that speak in more than one scenario added\n   * a portrait for Queen Asheviere in HttT\n   * hotseat and vs AI multiplayer icons\n   * new or modified unit images: orcish warlord, soul shooter, bone shooter\n   * preparations for mountain and desert village graphics\n   * new attack icons: bone arrow stab, cleaver, morning star, crush\n * scenario fixes for 'Eastern Invasion' campaign:\n   * Weldyn Under Attack (#11051)\n   * Capture\n   * fixed end of campaign settings\n * scenario fixes for 'Son of the Black Eye' campaign:\n   * Saving Inarix\n * scenario fixes for 'The Rise of Wesnoth' campaign:\n   * The Vanguard, fixed chest placement\n   * make the chests squeak\n * scenario fixes and balancing for 'Heir to the Throne' campaign:\n   * A Test of the Clans\n   * Return to Wesnoth\n * unit balancing:\n   * Goblin Pillager: reduced HP\n   * Goblin Impaler: reduced HP\n   * Gryphon Rider: reduced cost\n   * Drake Clasher: reduced cost, increase resistance to pierce\n   * Drake Gladiator: reduced cost, increase resistance to pierce\n   * Drake Slasher: reduced cost, increase resistance to pierce\n   * Drake Burner: increase cost\n   * Elvish Scout: increased ranged damage, reduced defense in forest\n   * Elvish Rider: reduced defense in forest\n   * Elvish Outrider: reduced defense in forest\n   * Soul Shooter: melee changed from impact to pierce\n   * Bone Shooter: melee changed from impact to pierce\n   * Mage: reduced cost\n   * minor adjustments to Drakefoot & Drakefly (& the Drakes in general)\n   * LESS_NIMBLE_ELF macro\n * removed obsolete units:\n   * Cavalry\n   * Goblin Direwolver\n   * Heavy Infantry\n   * Merman Lord\n   * Orcish Crossbow\n   * Scout\n * new units:\n   * Draug\n   * Naga Fighter\n   * Naga Warrior\n   * Naga Myrmidon\n   * Saurian Flanker\n   * Deathblade\n * changed Dragoon's and Cavalier's pistol to crossbow.\n * renamed 'Saurian' to 'Saurian Skirmisher' and 'Saurian Warrior' to 'Saurian Ambusher'\n * language fixes and polishing (english)\n * revised MANUAL\n   * english\n   * swedish\n * updated translations:\n   * catalan\n   * french\n   * german\n   * greek\n   * hungarian\n   * italian\n   * polish\n   * portuguese\n   * russian\n   * slovak\n   * spanish\n   * swedish\n * multiplayer improvements\n   * Charge map\n   * CastleHoppingIsle map updated\n * give Woses, Saurians, Ogres, & Drakes names\n * give Saurians & Drakes traits\n * give the Drakes music in Multiplayer\n * new rectangle syntax allowing width/height and relative positionning in themes\n * new --enable-tinygui configure flag for adventurous PDA users\n * fixed units incorrectly not using the spear icon\n * fixed missing diagonal projectiles on several units\n * fixed Gwiti's animation (#10926)\n * fixed translations being searched for in installdir when running in builddir\n * added support for concatenating strings in wml files, for the benefit of i18n\n * fixed code for handling objects (#10904, #10954, #10963)\n * fixed many untranslatable strings\n * fixed layering of desert and dirt\n * fixed multiplayer setup screen being broken on low resolutions (#10919)\n * fixed resizing multiplayer lobby creating some graphic glitches\n * fixed --enable-lite for current image location\n * fixed wmlxgettext not working properly with msdos line-endings in multiline strings\n * fixed documentation (#10999)\n * fixed zoom behavior (#9890)\n * fixed unit teleportation (#10588, #11213)\n * fixed several crashes (#10959, #11102, #11115, #11158)\n * improved 320x240 resolution support\n * support for unrenamable units\n * install wmlxgettext so that it can be used by user campaigns\n * rewrote hotkeys code\n * rewrote widgets code\n * image and data-file cleanups\n * code cleanups\n * WML bug fixes\n\nVersion 0.8.7:\n * user interface improvements:\n   * display savegame version in load dialog\n   * shadows for labels to make them visible on each type of terrain\n   * help system speed optimizations\n * graphics improvements:\n   * bridge, ice, castle floor, grassland\n   * unit images and attack animations\n   * Haldric, Burin, Edmond\n   * The Green Isle map (The Rise of Wesnoth)\n * in-game help updates and enhancements\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Crossroads\n * scenario balancing for 'The Eastern Invasion' campaign:\n   * Weldyn under Attack\n   * Northern Outpost\n * increased 'drakefoot' and 'drakefly' defense on grassland, sand and forest\n * unit balancing:\n   * Halbardier: increased melee damage\n   * Pikeman: increased melee damage\n * new units:\n   * Horse Lord\n   * Mermaid Diviner\n   * Mermaid Enchantress\n   * Mermaid Initiate\n   * Mermaid Priestess\n   * Mermaid Siren\n   * Merman Entangler\n   * Merman Fighter\n   * Merman Hoplite\n   * Merman Hunter\n   * Merman Javelineer\n   * Merman Netcaster\n   * Merman Spearman\n   * Merman Triton\n   * Merman Warrior\n   * Mounted Captain\n   * Mounted Commander\n * language fixes and polishing (english)\n * new translations:\n   * slovenian\n * updated translations:\n   * danish\n   * dutch\n   * french\n   * german\n   * greek\n   * hungarian\n   * italian\n   * norwegian\n   * polish\n   * portuguese\n   * russian\n   * slovak\n   * spanish\n   * swedish\n * allowed translating female unit names differently than male ones for languages needing it\n * multiplayer improvements\n   * winter, desert and marsh random map generators\n   * map descriptions\n   * new maps: Broken Bridge\n   * experience requirement now uses 10% increments\n   * updated lobby\n * added naming for coastal villages\n * re-enabled italics and underlining for texts\n * fixed road layering in terrain-graphics.cfg\n * fixed assumption that \"no advance\" == 500 XP required in help code\n * fixed bugs in 'The Eastern Invasion: Weldyn Under Attack' scenario\n * fixed ice layering in terrain-graphics.cfg\n * fixed recruit/recall bug multiplayer\n * fixed gold not being reset in multiplayer\n * fixed wmlxgettext for header generation\n * fixed showing incorrect teams when loading a saved multiplayer game\n * fixed compile error on 64bit systems\n * fixed 'Drake Slashers' first strike\n * fixed AI not being aware that units in villages can not be plagued\n * fixed some missing unit descriptions\n * fixed lots of untranslatable strings\n * fixed female units lacking gender attribute\n * fixed wmlxgettext bugs\n * fixed window not always refreshing on resizing\n * fixed network threading bugs\n * fixed bug in vgettext\n * fixed assertion failure in playturn.cpp\n * fixed long-standing strings in editor\n * added specifying the maximum length of the text widget in show_dialog\n * added displaying help strings in smaller font if they don't fit in the screen\n * 320x240 resolution with USE_TINY_GUI\n * added an ellipsis on the button text when it does not fit on the button\n * moved menu strings into wesnoth-lib textdomain\n * moved tips from english.cfg to tips.cfg\n * per-language cache files\n * forced config reload upon language change\n * switched networking code to use the new logging system\n * switched image.cpp to use the new logging system\n * improved network threading\n * added server facility to record the way games end\n * improved 'Out of Sync' detection\n * imported SDL_ttf into the Wesnoth source tree, removed the dependency\n   to SDL_ttf, added a dependency to libfreetype2\n * fixed memory corruption errors on font rendering in SDL_ttf\n * image and data-file cleanups\n * code cleanups\n\nVersion 0.8.6:\n * user interface tweaks\n * graphics improvements:\n   * leadership frames\n   * attack frames\n   * grassland-to-water transitions\n   * pier, bridge-ends\n * increased experience required to advance for Haldric and Jessica\n   (both from The Rise of Wesnoth campaign)\n * reduced 'Elvish High Lord' movement to 6\n * tweaks for 'undeadfly' movetype: neutralized blade, pierce and impact resistances\n * tweaks for 'spirit' movetype: increased resistance against blade, pierce and impact\n * 'undeadspirit' movetype (copy of 'spirit' movetype with vulnerability to 'holy')\n * unit balancing:\n   * Blood Bat: reduced hitpoints\n   * Ghoul: reduced movement, reduced hitpoints\n   * Ghost: switched movetype to 'undeadspirit', increased hitpoints\n   * Necrophage: reduced movement, reduced hitpoints\n   * Nightgaunt: switched movetype to 'undeadspirit', increased hitpoints\n   * Shadow: switched movetype to 'undeadspirit', increased hitpoints\n   * Spectre: switched movetype to 'undeadspirit', increased hitpoints\n   * Wraith: switched movetype to 'undeadspirit', increased hitpoints\n   * Vampire Bat: reduced hitpoints\n * new units:\n   * Grand Marshal\n * language fixes and polishing (english)\n * updated translations:\n   * brazilian\n   * catalan\n   * danish\n   * greek\n   * hungarian\n   * italian\n   * portuguese\n   * spanish\n   * swedish\n * multiplayer improvements\n   * new lobby\n   * leader indicator\n   * random map generator improvements\n   * scrollbar for map selection\n   * threading for multiplayer server to get rid of freezes\n * fixed schedules textdomain\n * fixed villages being over tree tops\n * fixed 'Direwolf Rider' incorrectly having 'smallfoot' movetype\n * fixed 'Elvish Shaman' healing halo\n * fixed showing faction leader incorrectly in multiplayer games when loading from savegame\n * fixed long names in lobby going over the reserved area (#10414)\n * fixed 'Duelist' white border problem\n * fixed untranslated female elvish marksman (#10599)\n * fixed hex detection\n * fixed multiplayer game aborting when player joined with \"random\" faction (#10604)\n * fixed savegames for beginning of tutorial not loading\n * fixed missing fire_event in  'Son of the Black Eye: Saving Inarix'\n * fixed Wesbowl\n * fixed compiling errors in the zip-directory (#10189, #10362)\n * fixed lag when chatting in multiplayer lobby\n * fixed --with-kde and --with-gnome\n * fixed 'About' translations being duplicated for no real good reason\n * fixed untranslatable strings in help\n * fixed some abilities not being translatable\n * fixed holywater bug in 'The Rise of Wesnoth: Cursed Isle'\n * fixed top toolbar leaking ownership information for villages under fog of war\n * fixed victory conditions for 'Son of the Black-Eye: Silent Forest'\n * fixed victory conditions for 'The Rise of Wesnoth: Sewer of Southbay'\n   and 'The Rise of Wesnoth: Fallen Lich Point'\n * support for bridges ending on water\n * switched using gettext-standard multi-textdomain\n * suppressed warnings from msgfmt\n * po-header cleanups\n * added support for desktopdir and icondir customization for --with-kde and --with-gnome\n * logging system improvements\n * campaign image-files hierarchy cleanup\n * code cleanups\n\nVersion 0.8.5:\n * campaign server (campaignd) and capability to download campaigns from campaign server(s)\n * sorting of campaigns by rank\n * campaign descriptions (text + images) in the campaign selection dialog\n * user interface tweaks\n * :refresh command\n * graphics improvements:\n   * forests\n   * attack icons\n   * unit images and animation frames\n   * teleportation animations\n * tutorial updates\n * scenario balancing for 'Heir to the Throne' campaign\n   * Return to Wesnoth\n * scenario balancing for 'The Rise of Wesnoth' campaign\n   * pretty much all scenarios\n * scenario balancing for 'The Eastern Invasion' campaign\n   * An Unexpected Appearance\n   * Weldyn under Attack\n   * Tribal Warfare\n * drakefoot movetype\n * remade Drakes and removed obsolete ones\n * added hammer attack to Dwarvish Lord\n * new units:\n   * Drake Flare\n   * Drake Gladiator\n   * Drake Glider\n   * Elvish Enchantress\n   * Elvish Sorceress\n   * Elvish Sylph\n   * Goblin Impaler\n   * Goblin Spearman\n   * Inferno Drake\n   * Saurian Icecaster\n   * Saurian Soothsayer\n   * Saurian Tribalist\n   * Sky Drake\n   * Troll Rocklobber\n * unit description updates\n * language fixes and polishing (english)\n * added FreeSans font\n * updated translations:\n   * basque\n   * catalan\n   * czech\n   * danish\n   * dutch\n   * finnish\n   * french\n   * german\n   * greek\n   * italian\n   * norwegian\n   * polish\n   * portuguese\n   * russian\n   * slovak\n   * spanish\n   * swedish\n * AI improvements\n   * less inclined to attack after moving\n   * more inclined to make risk-free attacks\n * multiplayer improvements\n   * added increments to sliders\n   * allowed choosing your leader\n   * new maps: Blitz, Castle Hopping Isle, An Island\n   * gave Goblin Spearman to northeners and removed Saurian from them\n   * gave Saurian to Drakes on 'Age of Heroes' and 'default' eras\n   * added Saurians to 'Classic' era\n * added new AI parameter: attack_depth\n * made units only die if they have 0 or less hitpoints after the event has been fired\n * tweaked Drake recruitment patterns (AI)\n * fixed 'make clean' not cleaning everything\n * fixed 'make uninstall' not working because of syntax error\n * fixed 'system default language' selection\n * fixed several graphic glitches\n * fixed a bug where tiles from terrain_graphics rule did not have\n   the per-rule image when only defined through [map]\n * fixed bug with [not] tags in filters\n * fixed missing semicolon in sound.cpp\n * fixed tutorial talking of elves having 70% defense on grass\n * fixed many untranslatable strings in e.g. statistics, statusbar tooltips, units\n * fixed missing movetype for 'Pirate Galleon' and 'Transportation Galleon'\n * fixed General crossbow attack graphics glitch\n * fixed \"wait for start\" lobby dialog\n * fixed units not submerged when moving/fighting\n * fixed bug where [modify_side] couldn't change a side's team name properly\n * fixed victory and defeat conditions on 'The Eastern Invasion: Approaching Weldyn' scenario\n * fixed fixed illegal character 'x' in 'The Eastern Invasion: Weldyn Under Attack' scenario\n * fixed defeat conditions on 'The Eastern Invasion: Escape Tunnel' scenario\n * fixed knight appearances bug on 'The Eastern Invasion: Mal-Ravalans Capital' scenario\n * fixed double '{BIGMAP_BLACKWATER_PORT}' in 'Heir to the Throne: Blackwater Port' scenario\n * fixed gold and load game problem\n * fixed divide-by-0 error in AI\n * fixed statistics dialog seemingly endless loop\n * fixed firing events from a kill event possibly causing crash\n * fixed AI allies updating shroud and fog at the end of their turn\n * fixed bug in 'show enemy moves'\n * fixed pressing 'shift' while scrolling to your leader would halt scrolling\n * fixed many deprecated units in scenarios\n * fixed statistics not being reset between multiplayer games\n * fixed forest<->snow forest transitions\n * fixed crash in editor\n * fixed bug in replay with disbanding units\n * fixed playing multiplayer and then playing a campaign could not load the multiplayer game up again\n * fixed 'Messanger 0f Doom' in 'The Eastern Invasion: Weldyn under Attack' scenario\n * restored \"Ambushed!\" text in 'Heir to the Throne: Crossroads' scenario\n * added a way to specify the actual position of multi-hex tiles\n * added option to preferences file, 'unit_genders', which determines\n   whether units with different genders should be used\n * added internationalization parameter for Mac OS X\n * automatic computation of font sizes relatively to SIZE_NORMAL;\n   make TINY mode really tiny to better help with UI downsizing work\n * logging system improvements\n * made it possible to have [terrain_graphics] rule as childs of [scenario]s\n * enabled gamestart speedup by not unnecessarily loading campaigns\n * support for teleportation animations\n * preparations for removing obsolete units\n * translation cleanups and improvements\n * code cleanups\n\nVersion 0.8.4:\n * changed vision range based on potential move\n * changed charge, backstab and steadfast abilities use true doubling\n   and halving rather than additive percentage calculations\n * more sound effects\n * new and improved graphics:\n   * snow forest tiles\n   * unit images\n   * tower\n   * units images and animations\n   * attack icons\n * new scenarios for 'Heir to the Throne' campaign:\n   * Battle for Wesnoth (final scenario)\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Crossroads\n   * Test of the Clans\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Silent Forest\n * plot changes in 'The Eastern Invasion' campaign\n * scenario balancing for 'The Eastern Invasion' campaign:\n   * Approaching Weldyn\n   * Lake Vrug\n   * Northern Outpost\n   * The Duel\n   * The Outpost\n   * Two Paths\n * epilogue for 'The Rise of Wesnoth' campaign\n * new scenarios for 'The Rise of Wesnoth' campaign:\n   * Rise of Wesnoth (final scenario)\n * scenario balancing for 'The Rise of Wesnoth' campaign:\n   * A Final Spring\n   * A Harrowing Escape\n   * The Vanguard\n   * Troll Hole\n * spirit movetype, with high resistances against \"physical\" attacks, slowed on open water\n * dwarvishfoot movetype\n * unit balancing:\n   * dwarves: switched movetype to 'dwarvishfoot'\n   * treefolk (Woses): reduced pierce, impact and cold resistances\n   * undeadfoot: \"deep walking\" (movement in deep water)\n   * Dwarvish Guardsman: reduced blade, pierce, impact, fire and cold resistances,\n     reduced cost, reduced number of ranged attacks\n   * Dwarvish Stalwart: reduced blade, pierce, impact, fire and cold resistances,\n     reduced number of ranged attack, increased ranged damage\n   * Ghost: switched movetype to 'spirit', halved hitpoints, reduced movement\n   * Lich: increased cost\n   * Necromancer: increased cost\n   * Nightgaunt: switched movetype to 'spirit', halved hitpoints,\n     reduced movement, reduced number of attacks, backstab\n   * Orcish Archer: reduced cost\n   * Peasant: increased cost, increased melee damage\n   * Spectre: switched movetype to 'spirit', halved hitpoints,\n     reduced movement, backstab\n   * Shadow: switched movetype to 'spirit', halved hitpoints,\n     reduced movement, reduced number of attacks, backstab\n   * Vampire Bat: increased cost\n   * Walking Corpse: increased hitpoints, increased melee damage\n   * Wose: reduced melee damage\n   * Wraith: switched movetype to 'spirit', halved hitpoints, reduced movement\n * new units\n   * Dark Queen\n   * Dwarvish Sentinel\n * language fixes and polishing (english)\n * updated translations:\n   * basque\n   * czech\n   * danish\n   * finnish\n   * french\n   * german\n   * hungarian\n   * italian\n   * norwegian\n   * spanish\n   * swedish\n * status for translations (gettext) - http://gettext.wesnoth.org\n * splitted po-files into domains (gettext)\n * multiplayer improvements:\n   * restored Thug to Knalgan Alliance on default era\n   * added many 2nd level units to factions on 'Age of Heroes' era\n * made hosting games work elegantly when wesnothd is running on the same machine\n * added new @ prefix to {inclusion} in config files to make it search both\n   in the user's preferences dir and in the main data dir\n * fixed typo causing 'Troll Whelp' being recruitable in 'The Dark Hordes: A New Chance' scenario\n * fixed alignment and abilities not being shown in panel\n * fixed hitpoints and experience being not translatable in default theme\n * fixed escape not working in game lobby\n * fixed the tools in src/tools not building\n * fixed 'no start position for side 1' in 'The Eastern Invasion: Drowned Plains'\n * fixed unselected units being too dark\n * fixed missing tag in 'The Eastern Invasion: The Duel'\n * fixed saving with illegal characters in the filename\n * fixed cycling units with 'n' showing invisible enemy units while it is their turn\n * fixed units not disappearing properly when they die\n * fixed recall working incorrectly\n * fixed missing Vera.ttf msgid from pot-file\n * fixed the problem with parse errors occuring in the units descriptions\n * fixed empty terrain names occuring in the help system\n * fixed Delfador appearing in 'The Dark Hordes: Inside The Tower'\n * fixed about/credits not being translatable\n * fixed 'Orcish Ruler' appearing in 'The Rise of Wesnoth' campaign\n * fixed 'Heavy Infantryman' recruiting bug in 'The Eastern Invasion:\n   Mal-Ravanals Capital' scenario\n * fixed editor not being translatable\n * fixed Parandra missing in 'Heir to the Throne: The Elven Council' scenario\n * fixed king going to swimming on 'The Rise of Wesnoth: A Final Spring' scenario\n * fixed past-the-end issue on botched UTF-8 strings\n * fixed scroll_to_unit issues on 'The Rise of Wesnoth' campaign\n * fixed build procedure to not require having gettext installed\n * fixed scanning enemy unit locations even when they are under the fog\n * workaround for Reiser4 feature bug (#10264)\n * workaround for BeOS gettext implementation\n * workaround for Mac OS X gettext implementation\n * re-implemented enhanced sound quality fix\n * added error dialog when a campaign has corrupt WML\n * added better error messages for machines that cannot bind to local ports\n * switched relevant flags from --enable-* to --with-* in autotools\n * autotools re-organizations for better BSD support\n * editor dependency cleanups\n * help system optimizations\n * village placement optimizations\n * compile speed optimizations\n * text rendering optimizations\n * squashed many compile warnings\n * code cleanups and refactoring\n\nVersion 0.8.3:\n * information about encountered terrain added in the help system\n * removed the unit description dialog in favor of in-game help\n * user interface tweaks\n * added damage taken and inflicted with expected values to statistics\n * new and improved graphics:\n   * dwarvish castle\n   * swamp, deep water, shallow water, snow, cave wall, cave floor,\n     ice, lava, dirt, forest, bridge, road\n   * chest, nest\n   * portraits and unit animations\n   * preferences icons\n * updates and enhancements to tutorial\n * scenario balancing for 'The Dark Hordes' campaign:\n   * The Skull of Agarash\n   * Underground Pool\n * new scenarios for 'The Eastern Invasion' campaign:\n   * The Drowned Plains (replaces 'Peasant Revolt')\n * scenario balancing for 'The Eastern Invasion' campaign:\n   * Captured\n   * Evacuation\n   * Weldyn Under Attack\n * new scenarios for 'The Rise of Wesnoth' campaign:\n   * The Vanguard\n   * Return of the Fleet\n * scenario balancing for 'The Rise of Wesnoth' campaign:\n   * Temple in the Deep\n * replaced Duelist's pistol with crossbow\n * more female units\n * unit balancing:\n   * Bone Shooter: reduced experience required to level\n   * Dwarvish Fighter: gave hammer attack\n   * Dwarvish Steelclad: gave hammer attack, increased experience required to level\n   * Elvish Lord: changed to 2nd level unit, reduced hitpoints, reduced cost,\n     reduced melee and ranged damages, advances to Elvish High Lord\n   * Soul Shooter: increased ranged damage\n   * Woses: reduced cold resistance\n   * mountainfoot (Dwarves, Giant Spider): reduced movement cost on forest,\n     sand, shallow water and swamp\n * new units\n   * Dwarvish Guardsman\n   * Dwarvish Stalwart\n   * Elvish High Lord\n * language fixes and polishing (english)\n * switched to using gettext, following languages have been converted:\n   * catalan\n   * french\n   * norwegian\n   * spanish\n * multiplayer improvements:\n   * turn_cmd preferences option which can be pointed to a command executed\n     at the start of the player's turn\n   * replace AI or local player with observer\n   * allowed recruiting Ghoul\n * Great War (multiplayer era) changes:\n   * White Mage as leader of Alliance of Light\n   * Necromancer as leader of Alliance of Darkness\n   * removed Wose, Gryphon Rider and Dwarvish Thunderer from Alliance of Light\n * added 'steadfast' ability\n * added automatic path search to [move_unit_fake]\n * fixed Windows compile errors\n * fixed Mac OS X compile error\n * fixed syntax error appearing in the help about units under some translations\n * fixed help about units/abilities/weapon specials not being sorted correctly\n * fixed number of turns in 'The Dark Hordes: A New Chance'\n * fixed editor where nothing was displayed until terrains were rebuilt\n * fixed Elvish Shaman missile image\n * fixed AI sometimes not respecting 'turns' parameter properly\n * fixed bad recruitment in 'The Dark Hordes: A New Chance'\n * fixed Kalenz appearing in 'The Dark Hordes: Underground Pool'\n * fixed call to non-existing macro in 'Heir to the Throne: Valley of Death'\n * fixed lacking ids in the female part of units files (#10065)\n * fixed conflict in terrain-graphics.cfg\n * fixed multi-hex images loading incorrectly when first loaded\n   under an different zoom level than the standard one\n * fixed map labels appearing during story\n * fixed missing #ifdef around config.h inclusion\n * fixed poisoned units not looking poisoned when selected (#10094)\n * fixed unit with 'non-living=yes' attacking a unit with a plague attack,\n   and the unit with the plague attack kills it, a new plague unit will be created (#10049)\n * fixed displaying 'hit t to continue' even when unit has finished movement\n * fixed shroud being revealed at the beginning of movement while sometimes\n   it was revelead at the end of movement (#10046)\n * fixed bad ifdefs in 'The Dark Hordes: Inside the Tower' scenario\n * fixed bugs in menu scrolling\n * fixed {RANDOM} bug in 'The Rise of Wesnoth' scenarios\n * fixed floating labels sometimes not displaying on accelerated mode\n * fixed \"drain\" not working on final blow (#10038)\n * fixed bad victory conditions in 'The Rise of Wesnoth: The Dragon' scenario\n * fixed some units shadows not being semi-transparent\n * fixed crash bug that could occur after undoing\n * fixed a little bug where a space could disappear near EOL in the help system\n * changes in #ifdefs to prevent the game from using the X11 clipboard on MacOSX\n * reverted sound quality improvement as it caused instability on some systems\n * help system shows everything when wesnoth is running in debug mode\n * added support for 2- and 3-sided transitions on the TERRAIN_ADJACENT_NORTH macro\n * added possiblity for terrains to be defined as 2-layered,\n   with a base part and an overlay part\n * added possibility to flip overlayed image\n * optimized menu scrolling\n * other minor speed optimizations\n * multiplayer file hierarchy cleanup\n * new file hierarchy for portraits\n * changed building static binary to use libtool when available\n * applied BeOS clipboard support patch\n * applied BeOS native settings path support patch\n\nVersion 0.8.2:\n * new and improved graphics:\n   * canyons\n   * signpost\n   * grassland\n * improved sound quality\n * improved in-game help\n * new \"vi\" commands: clear, w, wq, q, debug, n\n * new tutorial\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Black Flag\n   * Silent Forest\n * storyline fixes to 'The Eastern Invasion' campaign\n * scenario balancing for 'The Eastern Invasion' campaign:\n   * Weldyn Under Attack\n   * The Crossing\n   * Mal-Ravanals Capital\n   * The Arena\n * scenario balancing for 'The Rise of Wesnoth' campaign:\n   * Temple of the Deep\n   * Lizard Beach\n   * Sewer of Southbay\n   * A Harrowing Escape\n * unit balancing:\n   * Bandit: increased melee damage\n   * Dark Adept: increased ranged damage, reduced cost\n   * Drake Slave: increased melee damage\n   * Drake Worker: increased melee damage\n   * Noble Commander: increased hitpoints\n   * Noble Fighter: increased hitpoints and melee damage\n   * Noble Lord: reduced hitpoints, reduced melee and ranged damage\n   * Noble Youth: increased hitpoints, increased movement, increased melee damage\n   * Outlaw: reduced hitpoints, reduced number of melee attacks, increased ranged damage\n   * Outlaw Princess: reduced hitpoints, reduced experience required to level,\n     reduced number of melee attacks, increased ranged damage, replaced 'ambush' with 'skirmisher'\n   * Outlaw Queen: increased hitpoints, replaced 'ambush' with 'skirmisher',\n     reduced number of melee attacks, increased ranged damage and number of ranged attacks\n   * Soulless: increased melee damage\n   * Thug: increased melee damage and reduced number of attacks\n   * Walking Corpse: increased melee damage\n * new units\n   * Drake Hatchling\n   * Drake Warmage\n   * Great Troll\n   * Skeletal Dragon\n   * Troll Hero\n   * Orcish Leader\n   * Orcish Sovereign\n * multiplayer improvements:\n   * 'Great War' era\n   * limit to username length\n   * banning for multiplayer server games\n * language fixes and polishing (english)\n * support for multi-animation attacks\n * support for per-scenario configurable village flags,\n   sample black-eyed banner for Son of the Black Eye campaign\n * support for relative {./includes} in WML files\n * added recruit event\n * fixed enemies being on wrong side in 'The Dark Hordes: A New Chance' scenario\n * fixed image::locator not building on MSVC6\n * fixed sending incorrect packet length causing wesnoth and wesnothd to abort\n * fixed a bug where a network user may crash other game abusing recursion\n * fixed a bug where a network user may crash other games using specially\n   crafted packets, reading out-of-bounds data\n * fixed segfault when a [story] background image was not found\n * fixed narrator messages not being displayed sometimes\n * fixed autoconf macro for checking OGG support in SDL_mixer\n   (it depended on private symbols not always included by distributions)\n * fixed markovian name generation not playing well with UTF-8 names\n * fixed map border not getting changed when using [terrain] to change terrain (#9840)\n * fixed extraneous dots path (#9903)\n * fixed shift due to the way coordinates are now interpreted\n * fixed seeing invisible units when they move (#9488)\n * fixed bug with exiting caves in 'The Eastern Invasion: Captured' scenario\n * fixed bugs in 'The Eastern Invasion: Evacuation' scenario\n * fixed holy water in 'Heir to the Throne: Valley of Death' scenario (#9930)\n * fixed problems with cache invalidation\n * fixed file descriptor leak\n * fixed 'gender' not working with move_unit_fake\n * fixed gr\u00c3\u00bc\u00c3\u00bc losing experience when joining\n * fixed units moving through water not being submerged while moving\n * terrains tiles are now cut according to the hexagonal shape, to avoid some graphical glitches\n * workaround a SDL_TTF bug that makes it crash when presented an invalid UTF-8 string\n * limited length of schema items in compressed WML to make a DoS attack harder to perform\n * dummy config.h file for platforms where ./configure is not used\n * file hierarchy cleanups\n\nVersion 0.8.1:\n * new campaign: The Rise of Wesnoth (17 fully playable scenarios)\n * user interface improvements:\n   * new ellipses to indicate unit selection\n   * tweaked theme\n   * tweaked change video mode dialog\n   * return can be used to navigate through help topics and sections in help browser\n   * a box is drawn around images in help browser\n * speed scaling for different types of terrains\n * new and improved graphics:\n   * lighthouse\n   * signpost\n   * maps\n   * flags\n   * mountains\n   * grassland\n   * desert\n   * castle\n   * shroud\n   * fog of war\n   * attack icons and frames\n * new musics: main menu\n * intro for 'The Dark Hordes'\n * new scenarios for 'The Dark Hordes' campaign:\n   * Underground Pool\n * new scenarios for 'The Eastern Invasion' campaign:\n   * Evacuation\n   * Peasant Revolt\n   * Approaching Weldyn\n   * The Council\n   * Weldyn Besieged\n   * The Duel\n * scenario balancing for 'The Eastern Invasion' campaign:\n   * Captured\n   * The Crossing\n   * An Elven Alliance\n   * The Escape Tunnel\n   * Northern Post\n   * Training the Ogres\n   * Two Paths\n   * The Undead Border Patrol\n   * Undead Crossing\n   * An Unexpected Appearance\n   * Weldyn Under Attack\n   * Lake Vrug\n   * Tribal Warfare\n   * The Outpost\n * gave names to Trolls\n * gender support for units\n * increased hitpoints and required XP for Drake Warrior\n * new units\n   * Drake Flameheart\n   * Fire Dragon\n   * Giant Mudcrawler\n   * Haldric\n   * Mudcrawler\n   * Tentacle\n   * Female Outlaw\n   * Outlaw Princess\n   * Outlaw Queen\n   * Peasant\n   * Soul Shooter\n   * Wall Guard\n   * Warrior King\n * multiplayer improvements:\n   * implemented feature to tell observers when a new player has arrived in the lobby\n   * disabled observers from setting labels\n   * playername checks, stripping spaces at the end of name\n   * limited maximum length of observer messages\n   * added server commands: msg, kick, ban, unban, status, metrics\n * language fixes and polishing (english)\n * updated sample translation\n * updated translations:\n   * catalan\n   * czech\n   * french\n   * german\n   * slovak\n   * spanish\n   * swedish\n * made it so variables can be used to set the number of turns in a game\n * changed set_flag rather verbose syntax to set_flag=blah,foo,bar\n * added [then] and [else] tags under [object] tags\n * obsoleted [bigmap] tag, in favor of a unified [story] syntax\n   * display of background image, text, and title\n   * support of [if] [then] [else] functionality (can be nested)\n   * support of images overlay\n * switched all scenarios to new [story] syntax\n * added exploder and cutter tools\n * fixed the bug with multiplying help sections\n * fixed the problem where the forward and back button was shown briefly\n   when opening the help browser\n * fixed --disable-debug not working as expected\n * fixed victory condition bug in 'Saving Inarix'\n * fixed problem where the editor would go slower and slower the more it was used\n * fixed a potential problem with a help browser recursive introduction section\n * fixed incorrect #ifdefs in 'Training the Ogres' and 'Weldyn Under Attack'\n * fixed some lacking death declarations\n * fixed bug where tooltips could be left behind after 'load game' dialog\n * fixed bug where themes with multiple resolution specifiers could be displayed incorrectly\n * fixed missing [removeitem] for Delfador's staff\n * fixed bug where multiplayer games that disallowed observers didn't work properly\n * fixed items not removed after being picked up\n * fixed victory conditions in 'The Siege of Barag Gor'\n * fixed attack animation not being complete\n * fixed absence of animation when units without attack frame perform attack\n * fixed obsolete Heavy Infantry unit still used in multiplayer\n * fixed colour cursor not reappearing on some window-managers\n   when the user re-enters a Wesnoth window\n * fixed duplicate units: Cavalry, Cavalryman, Scout\n * fixed 'layers' not working as intended in built terrains\n * fixed terrain glitches, added a default base-terrain\n * fixed graphic glitches\n * fixed macro errors\n * fixed edges of the map not getting cleared of shroud and fog of war\n * fixed unit description on sidebar not getting updated when cycling units with 'n' (#8798)\n * fixed segfault in display.hpp\n * fixed dismissing unit from recall list not refreshing preview\n * fixed show_enemy_moves showing moves for petrified units (#9290)\n * fixed [not] tag not working properly\n * fixed bug where clicking a menu item could generate multiple events\n * fixed duplicate battleworld.cfg\n * fixed bug in WML with using value instead of equals in [if] (#9398)\n * fixed visual glitches caused by copy-paste\n * fixed bug in intro which segfaulted when no \"file\" attribute in [image] tag\n * small fixes to unit display in help browser\n * pngcrushed images\n * gettext implementation preparations\n * moved deaths.cfg from data/ to data/scenarios/Heir_To_The_Throne/\n * moved items to their own hierarchy: images/items/\n * adding a limit to number of characters in a textbox\n * adding a maximal line width for text to be drawn, to circumvent a SDL / SDL_ttf bug\n * implemented relative directory support\n * cleaned a bit the textbox code\n * refactoring of all animation code in unit_display and halo\n * added animated.hpp, and the animated<T> template\n * added proper support for animated time-of-day alternative images\n * added support for animated terrain images\n * added support for animated flags on villages\n * cleaned the terrain-graphics.cfg - terrain graphics rule precedence\n   is now deprecated, use terrain layers\n * reverted castle tiles not being expanded to the border\n * replacing all SDL_Surface*, and scoped_sdl_surface,\n   with shared_sdl_surface, which was renamed surface\n * partial rewrite of image.?pp for speed: looking up images was what was slowing the game\n * inlining some stuff for performance reasons\n * optimizing halo movement when unit moves\n * optimizing invalide_all redraws\n * concentrate all version and server changes for release-time on top of configure.ac\n * improved making binary packages\n * removed an obsolete feature in terrain graphics engine that was never used\n * removing commented-out obsolete code in display.cpp\n * code cleanups\n\nVersion 0.8:\n * added Drake flying animations\n * reduced experience needed to advance for Drake Burner and Drake Fighter\n * increased experience needed to advance for Drake Clasher\n * new units\n   * Drake Slasher\n * new translations:\n   * czech\n * multiplayer improvements:\n   * balanced 'Battle for Weslin Bridge' map\n   * added Drakes to 'Age of Heroes' era\n * updated translations:\n   * french\n   * hungarian\n   * italian\n   * slovak\n * fixed graphic glitches on forest and cave tiles\n * fixed some name typos in Tutorial\n * fixed editor theme\n\nVersion 0.7.11:\n * various help browser improvements\n * user interface improvements\n * improved clipboard functions and support for X11\n * scenario balancing for 'Heir to the Throne' campaign:\n   * The Scepter of Fire\n   * A Choice Must Be Made\n   * The Elven Council\n   * Home of the North Elves\n   * Swamp of Dread\n   * The Valley of Statues\n * multiplayer improvements:\n   * chat log\n   * allowed spaces in usernames\n   * new map: Battle for Weslin Bridge\n   * new map: Forest of Fear\n   * new map: Castles\n * translation updates:\n   * hungarian\n * made The Eastern Invasion campaign translatable\n * added icons for preferences and multiplayer dialogs\n * fixed crash when loading an empty map\n * fixed transition problems with forests\n * fixed wesnothd crashes\n * fixed underlining bug\n * fixed bugs where some objects were not working properly\n * fixed human village not fitting within the mask\n * fixed clashing msg ids\n * fixed isolated keeps having void graphics\n * fixed tile overlays not displaying in grey if the tile is out of range\n   of the selected unit's movement\n * fixed bugs with roles not working properly\n * fixed coherence of usage for elves:\n   * Archer, Marksman, Sharpshooter -> archer\n   * Ranger, Avenger -> mixed fighter\n   * Hero, Captain, Champion, Marshal -> fighter\n * non-editable multi-line textboxes can have areas of text highlighted\n   (and thus copied and pasted)\n * support for defensive animations\n * tweaks to terrain graphic ordering\n * added engine support for max-level units advancing further\n * code refactoring\n\nVersion 0.7.10:\n * help browser, hotkey is <F1>\n * new tabbed preferences dialog\n * basic clipboard functionality, does not yet work on all platforms\n * improved and added new graphics: unit animations, healing animations, tent, forest\n * traits removed from treefolk (Woses)\n * treefolk piercing, impact and cold resistance increased\n * Wose renamed to Elder Wose, Sapling Wose renamed to Wose\n * Wose hitpoints and melee damage increased\n * reduced cost for Drake Burner, Drake Fighter, Drake Mage and Drake Slave\n * new units\n   * Drake Beak\n   * Drake Worker\n   * Dwarvish Ulfserker\n   * Fire Drake\n   * Gryphon Master\n   * Lancer\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Dwarven Doors\n   * Mountain Pass\n   * Plunging Into the Darkness\n * new scenario for 'The Dark Hordes' campaign:\n   * Confrontation\n * scenario balancing for 'The Dark Hordes' campaign:\n   * Brother Against Brother\n   * Crelanus Book\n   * Inside the Tower\n   * Mages and Elves\n   * The Skull of Agarash\n * new scenario for 'Son of the Black Eye' campaign:\n   * Clash of Armies\n * multiplayer improvements\n   * added Drakes to Wesbowl\n   * added Drakes to 'Classic' era\n * AI improvements\n   * made AI attack when getting ambushed\n * language fixes and polishing (english)\n * translation updates:\n   * catalan\n   * dutch\n   * german\n   * italian\n   * spanish\n * editor improvements:\n   * added some command line flags, such as --datadir\n * enabled alternate castle/keep tiles: encampment\n * gate \"unit\" (stripped from The Eastern Invasion/Captured scenario)\n * [binary_path] WML element which allows specification of a path\n   where binary files may appear\n * made WML {inclusion} non-recursive\n * fixed segfault when filtering units at invalid locations\n * fixed SDL version checking bug in Mac OS X\n * fixed color selection in multiplayer not working\n * fixed bug where underlying widgets could 'show through' the load dialog\n * fixed load dialog eating lots of processing power\n * fixed assertion failure/infinite loop in AI logic\n * fixed bug in WML\n * fixed segfault\n * fixed bug in generating random maps\n * fixed wesnothd crashing due SIGPIPE\n * disabled some font settings to work around bug in SDL_ttf\n * added CASTLE_AND_SIMPLE_KEEP macro, where the keep is composed of only a unique tile with walls\n * added BUILDING_ macros to add houses, tents etc. over other terrains\n * added CASTLE_FLOOR macro\n * transitions may be now specified between a terrain and another one (in terrain-graphics.cfg)\n * enabled castle-to-forest transitions for encampments\n * relocated 'Heir to the Throne' maps in they own subdir, and gave them an explicit names\n * relocated 'Son of the Black Eye' maps in they own subdir, and gave them an explicit names\n * relocated 'The Dark Hordes' maps in they own subdir, and gave them an explicit names\n * relocated multiplayer maps in they own subdir, and gave them an explicit names\n * relocated tutorial maps in they own subdir, and gave them an explicit names\n * added dir for user created campaigns\n * added basic statistics output to wesnothd\n * changed HttT maps to use encampments\n * removed unused maps\n * libpng checks for configure\n * changed the RGB to Grayscale function to use a more correct formula\n\nVersion 0.7.9:\n * new campaign: The Eastern Invasion (Loyalists, 15 scenarios)\n * compiling requires SDL version >= 1.2.7\n * user interface improvements:\n   * tip of the day\n   * added new help strings\n   * new attack dialog\n   * new load game dialog\n   * made 'end turn for active unit' (pressing <space>) recoverable\n   * in game load game: menu -> load game\n   * gamma correction\n   * skip AI moves option\n   * show haloing effects option\n   * resized some dialogs\n * improved and added new graphics: units, attacks animations,\n   healing animations, attack icons, encampment, castle, haloes\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Elves Besieged\n   * Isle of Anduin\n   * The Siege of Elensefar\n   * Crossroads\n   * Valley of Death\n   * Ford of Abezz\n   * Dwarven Doors\n   * Northern Winter\n   * Valley of Statues\n * new units\n   * Cavalier\n   * Drake Burner\n   * Drake Clasher\n   * Drake Fighter\n   * Drake Guard\n   * Drake Mage\n   * Drake Petit\n   * Drake Slave\n   * Drake Warrior\n   * Dwarvish Dragonguard\n   * Dwarvish Runemaster\n   * Sergeant\n   * Silver Mage\n   * Vampire Lady\n   * Young Ogre\n * removed Dark Apprentice, Evil Necromancer and Soldier as they are no longer used\n   (replaced by Initiate, Deathmaster and Spearman)\n * Yeti's race changed to monster\n * nenamed 'Cavalry' to 'Cavalryman'\n * renamed 'Goblin Direwolver' to 'Direwolf Rider'\n * renamed 'Heavy Infantry' to 'Heavy Infantryman'\n * renamed 'Orcish Crossbow' to 'Orcish Crossbowman'\n * unit balancing:\n   * Ancient Wose: increased cost\n   * Ancient Lich: reduced hitpoints, reduced ranged damage\n   * Arch Mage: reduced hitpoints, reduced ranged damage, removed teleport ability\n   * Battle Princess: reduced melee damage\n   * Deathmaster: reduced ranged damage\n   * Death Knight: reduced melee damage\n   * Demilich: reduced ranged damage\n   * Dwarvish Berserker: reduced cost\n   * Dwarvish Lord: reduced melee damage\n   * Dwarvish Steelclad: increased cost\n   * Elder Mage: reduced hitpoints, increased cost\n   * Elvish Avenger: reduced number of melee attacks\n   * Elvish Champion: reduced melee damage\n   * Elvish Lord: reduced melee damage\n   * Elvish Marshal: reduced melee damage, reduced number of ranged attacks\n   * Direwolf Rider: increased melee damage, reduced number of melee attacks\n   * Great Mage: reduced melee damage, reduced ranged damage, removed teleport ability\n   * Halbardier: reduced melee damages, gave 'first strike' ability\n   * Heavy Infantry: reduced melee damage\n   * Initiate: reduced ranged damage\n   * Iron Mauler: reduced melee damage\n   * Lord: reduced melee damage\n   * Mage of Light: reduced ranged damage\n   * Master Bowman: reduced ranged damage\n   * Orcish Warlord: reduced melee damage\n   * Pikeman: reduced melee damage, gave 'first strike' ability\n   * Princess: reduced melee damage\n   * Rogue: increased melee damage\n   * Royal Guard: reduced melee damage\n   * Shock Trooper: reduced melee damage\n   * Spearman: reduced ranged damage, gave 'first strike' ability\n   * Wose: increased cost\n * language fixes and polishing (english)\n * translation updates:\n   * dutch\n   * french\n * multiplayer improvements:\n   * balanced 'King of the Hill' map\n   * improved village naming\n * AI improvements\n   * added new AI parameters\n   * various AI improvements\n * editor improvements:\n   * new brush image, file chooser folder image\n   * changed menu names to 'file' and 'edit'\n   * delete file button in file chooser\n   * two terrains may now be selected in the palette, one is used for filling when\n     moving selections and cutting/pasting and will be used when drawing with the right button\n   * removed context menu, function of the left button is chosen in the right panel\n     and operations that do not need a location to work are chosen from an additional menu\n   * added a new level of brightened images\n   * support for translations\n   * fixed proper checks for validity not being done when loading or reverting a map\n   * fixed mouse wheel and middle-click not working as within the game when used on map area\n   * fixed BeOS crash in map editor\n   * fixed the problem where the same sequence of random maps was generated\n   * fixed a problem where the hotkeys from the game would appear in the editor\n   * fixed a problem where the selected terrain and brush size was\n     not remembered through operations that affected the whole map, such as flip and resize\n   * fixed a problem where the palettes in the editor would not refresh\n     correctly after the windows was resized\n   * fixed editor handing different color depths incorrectly\n * new item: trapdoor\n * continue_no_save feature\n * added WML feature to append an element to another using [+element] syntax\n * made userdata/data/utils loaded in early in game.cfg to allow\n   scenario designers to define utility files\n * names for Nagas\n * fixed multiline text box not wrapping lines at word boundaries\n * fixed loading/saving of multiplayer games that have a double-quote (\") in the chat text\n * fixed spaces following non-ASCII characters disappearing in intro (#9163)\n * fixed clashing IDs in 'Blackwater Port'\n * fixed a bug where alpha disappeared from multi-hex .png files on loading sub-tiles\n * fixed terrain not updating correctly when dynamicly changed via the WML [terrain] event (#9237)\n * fixed the \"random probability\" in \"terrain-graphics\" rules not being random enough\n * fixed builder code failing when asked for hexed outside the map (#9168)\n * fixed crash when undoing moves\n * fixed incorrect positioning of haloes\n * fixed crash in wesnothd\n * made intro.cpp use the unicode routines in language.cpp to split UTF-8 sequences in character\n * added support for animated on-map items\n * added support for different colour depths\n * added a cut_surface function in sdl_utils, that extracts a surface \"subset\" from another surface\n * improved terrain transition code\n * updated terrain-graphics.cfg file to use modules in sub-directory to reduce bloat in the main file\n * terrain builder code optimizations\n * added macros so that keep graphics are now selected according to the adjacent castle tiles\n * added XCF source files and some tools for castle building, these can be found in tools/\n * moved weapon icons to their own hierarchy: images/attacks/\n * moved projectiles/missiles to their own hierarchy: images/projectiles/\n * increased the horizontal padding of button widgets\n   when having a label that is wider than the minimum width\n * added a trigger to the test map, when activated Orc leader can recruit\n * decreased size of saved games by removing some unnecessary information\n * converted all scenarios to new AI syntax\n * removed unnecessary diagnostic\n\nVersion 0.7.8:\n * changed experience gauge, it is now shown next to hitpoints bar\n * search works with coordinates, use it like: /30,15\n * weapon type's tooltip shows its effectiveness against all known enemies on the battlefield\n * improved and added new character portraits, unit images, attack icons,\n   missile images, fog and shroud images\n * halo effects\n * new sounds\n * enhanced blade, impact and cold resistance for Cavalry and Dragoon\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Crossroads\n   * Valley of Death\n * scenario balancing for 'The Dark Hordes' campaign:\n   * A New Chance\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Shan Taum the Smug\n * multiplayer improvements\n   * added 'share maps' option\n   * alt-m to chat public\n   * shift-m to chat with allies\n   * showing basic game settings\n   * random map option to build road between castles\n   * improved random map generator speed\n   * naming of villages and terrain features on random maps\n   * user written maps can be easily loaded as scenarios in multiplayer\n   * added facility to play maps in multiplayer that don't have scenario data specified for them\n   * lobby sound effects for new messages, players joining and departing lobby\n   * in game creation player slots are now occupied by 'computer player' as default\n   * empty player slots, allowing empty castles\n * editor improvements:\n   * added flipping\n   * starting positions now move as they should through copy/paste and click-and-drag\n   * random map generator settings are now saved through generations\n   * fixed labels on map being visible through certain dialogs\n   * cleaned up editor theme\n * translation updates:\n   * french\n   * polish\n   * spanish\n * AI improvements\n   * improved grouping\n   * made grouping behaviour configurable\n   * added defensive grouping\n * fixed crash when generating a map with 0 villages\n * fixed map (shroud) and statistics sharing not working between allies\n * fixed AI getting stuck and never finish making its move\n * fixed units in swamp villages being submerged\n * fixed resizing and changing video modes not working  while in lobby\n * fixed hotkeys not working while in lobby\n * fixed saving being impossible when save games have accented characters on MacOSX\n * fixed segfault in random map generation\n * fixed Out of Sync bugs\n * fixed bug where pressing 'n' while a unit is attacking would transfer damage to another unit\n * fixed entering a chat message while the message is selected would keep\n   the area selected, and cause a crash upon next keypress (#9114)\n * fixed chat messages being dropped\n * fixed text ellipsis (triple dot being added after too long text) not being UTF-8-aware\n * fixed invalid UTF-8 sequences being generated by wstring_to_utf8,\n   causing display bugs with some accented characters on some platforms\n * fixed word_wrap_text not being UTF-8 aware\n * ignore unicode value of cursor-moving keys in text boxes (arrow keys, home, end);\n   so they do not cause problems in platforms where SDL puts one (that is: MacOSX)\n * removed alpha keyword from unit data, changed image files to have it\n * added font::make_text_ellipsis function, that works like word_wrap_text,\n   but instead adds ellipsis on too long text\n * changed portable_isspace() so it only returns true on ASCII spaces\n * including a directory in WML will recurse into subdirs\n * WML support for '~' notation to include files in ~/.wesnoth/data\n * support for different images for unit movement\n * weslang, to help translation updates\n * added file choose widget\n * small changes to package description in Slacknoth\n * removed unnecessary voluminous diagnostics\n * code refactoring\n\nVersion 0.7.7:\n * added 'search' action which goes through labels and unit names, hotkey is '/'\n * added 'continue move' action, hotkey is 't'\n * made game more responsive when AI or another player is playing\n * 'end of turn' sanity check\n * added experience gauge, meld with hit points gauge\n * support different resolutions for 'fullscreen' and 'windowed'\n * various UI cleanups\n * added and improved village images, hill images, unit images, healing images\n * resized ellipses and made them float on top of water when unit is partially submerged\n * General melee damage increased\n * Elvish Outrider made 3rd level unit, increased hitpoins and ranged attack damage\n * Goblin Pillager melee damage increased\n * renamed Lizardman to Saurian\n * regeneration replaced with skirmish for Saurians\n * new units:\n   * Elvish Rider\n   * Saurian Warrior\n   * Necrophage\n * new scenario for 'Son of the Black Eye' campaign:\n   * Saving Inarix\n * new scenario for 'The Dark Hordes' campaign:\n   * A New Chance\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Bay of Pearls\n   * Blackwater Port\n   * Isle of Anduin\n   * Isle of the Damned\n   * Muff Malal's Peninsula\n   * Princess of Wesnoth\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Towards Mountains of Haag\n   * To The Harbour of Tirigaz\n   * Black Flag\n   * Desert of Death\n   * End of Peace\n   * Silent Forest\n   * The Siege of Barag Gor\n * translation updates:\n   * french\n   * spanish\n * AI improvements\n   * fighting with leader\n   * teached AI that all keeps can be used for recruiting, not just his home keep\n   * share castle with allies, make room for ally leader to recruit\n   * various improvements to make AI smarter\n   * added recruitment_ignore_bad_movement option\n   * added recruitment_ignore_bad_combat option\n * multiplayer improvements\n   * Wesbowl\n   * King of the Hill\n   * added scrolling and wrapping support for chat in lobby\n   * shared vision option\n   * made village placement fairer in random map generation\n   * game setup improvements\n   * random maps have now less forest\n * editor improvements:\n   * added map resizing\n   * added revert from disk functionality\n   * selection of terrain is kept through undo and redo operations\n   * preferences dialog\n   * setting and removal of starting positions are now undoable operations\n   * fixed name of the currently selected terrain not being displayed\n   * fixed compile problems on some architectures\n   * code cleanups\n * implemented multi-hex tiles\n * implemented 'not' tags in WML unit filters\n * fixed 'show enemy moves' and 'best possible enemy moves'\n   showing in context menu when no enemies visible\n * fixed resizing window in the title screen not working properly\n * fixed basic hotkeys not working in title screen\n * fixed terrain type and position problems with 800x600 resolution\n * fixed game creator not getting ally messages\n * fixed font redrawing for the font used in the slovak and polish translations\n * fixed typos in 'Shan Taum the Smug' that caused scenario to have only two turns\n * fixed crashes when units with invalid sides appear, by rejecting such\n   invalide sides in the unit's constructor\n * fixed bug where 'cancel' button would appear under multiplayer games\n * fixed preferences widgets disappearing when changing video mode\n * fixed tooltips from game setup appearing in-game\n * fixed hotkey not updating immidiately in the hotkeys dialog when changed\n * fixed assertion failure in playturn.cpp\n * fixed deleting units from recall list not updating unit preview pane\n * changed all WML files to UTF-8, code now assumes all WML files being UTF-8\n * made input of search strings and messages use a textbox that overlays the map,\n   which allows these operations to be performed asynchronously\n * added caching of data files to speed game loading\n * added a \"fire_event\" in [kill] tags that allow die events to be processed if specified\n * re-ordered attacks: short range attacks are now always before long range attack on all units\n * removed old castle images\n * wesnoth_zip\n\nVersion 0.7.6:\n * added and improved unit images, leadership and healing images\n * added testing mode to move units on fog/shroud maps without updating the fog/shroud\n * lobby logo updated\n * new dialogs\n * increased Wose defense in woods\n * increased Dwarf defense in castle\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Test of the Clans\n * multiplayer improvements:\n   * made observers see perspective of active player\n   * allowed observers to talk\n   * game creator can chat while setting up game\n   * players can chat with other game members when waiting for game to start\n   * random faction\n * editor improvements:\n   * allowed setting start pos for player 0\n   * load map and new map menu items and hotkeys added\n   * flood fill functionality added\n   * different brush sizes added\n   * new map and load map added, editor now starts with an empty map\n   * save as functionality added\n   * speed improvements: palette is only redrawn when needed\n   * showing coordinates and terrain type of the hex on mouse over\n   * start positions of players are now displayed as labels on the map\n   * painting something on top of starting position now removes that starting position\n   * cancel in new map dialog confirmation returns to dialog instead of map\n   * added ability to mark tiles and fill marked tiles with selected terrain\n   * cut and paste of marked terrain is now possible\n   * drag and drop of marked terrain added\n   * fixed tiles on the border of the map updating incorrectly when nearby tiles are drawn\n   * fixed a bug where odd number of terrains where not drawn correctly in the palette\n   * fixed dynamically generated terrain not showing correctly\n   * fixed filename being not correctly remembered on load and save as\n   * code cleanups and refactoring\n * added [store_unit], [unstore_unit], [while], [store_starting_location],\n   [store_locations] and [store_gold] tags to WML\n * added idle AI\n * added image_healing' and 'image_leading' animation code\n * added floating labels to indicate healing/poisoning of units\n * added ability to highlight several hexes\n * added support for action images\n * changed toggleable menu items use the checkbox graphics\n * fixed Li'sar dying in Hasty Alliance not resulting in a loss\n * fixed game creator being able to click [I'm Ready] before all\n   networked players have joined when loading game from save\n * fixed first player gold reset to 100 in multiplayer games\n   when starting gold set less than 100\n * fixed character's name overlapping their profile when they speak\n * fixed teleporting units not clearing shroud/fow when they teleport\n * fixed Orcish Ruler movetype not being orcishfoot\n * fixed non-interactive mode not working with eras\n * fixed units moving slowly\n * fixed opening sequence in 'Isle of Anduin'\n * fixed cycling units not showing attack options\n * fixed units with drain not getting more than the max hitpoints\n * fixed Battle Princess not being able to get Scepter\n * fixed \"invalid font characters\" for slovak translation by adding\n   'font=Bepa-Roman.ttf', translators should ensure this line is preserved\n   when upgrading translations\n * fixed support for UTF-8 languages on text-boxes\n * fixed wesnoth.desktop (FreeDesktop shortcut definition file),\n   which did contain invalid UTF-8 sequences\n * fixed experience modifier not working correctly when loading saved multiplayer game\n * fixed pressing escape key not closing dialogs which had only 'ok' button\n * fixed observers getting victory/defeat message at the end of the game\n * fixed statistics not working correctly when loading with replay\n * fixed screen menu flickering when dialog is cancelled\n * fixed negative numbers not displaying minus in front of them\n * fixed bug (u$win only) which caused defeat at the end of Valley of Death,\n   even when you should have been victorious\n * fix to preprocessor\n * fixed some compile warnings\n * various improvements to wesnothd\n * relocated 'Heir to the Throne' scenarios to data/scenarios/Heir_To_The_Throne/\n * relocated 'The Dark Hordes' scenarios to data/scenarios/The_Dark_Hordes/\n * added ability to remove tiles from the border cache\n * added definitions of new pure virtual methods in hotkey.hpp\n * added wstring_to_string and string_to_wstring routines in language.cpp,\n   which convert strings according to the current charset()\n * added toggleable action support to hotkey.[c|h]pp & playturn.[c|h]pp\n * added code to wesnothd to prevent spoofing of messages\n * added code to wesnothd to stop malicious observer clients issuing commands for players\n * converted hex calculations to fixed point instead of floating point\n * changed hex size to 72x72, converted images\n * added -fno-omit-frame-pointer to autotools to prevent possible crashes due gcc bug\n * added -fno-omit-frame-pointer to slacknoth script\n * added KDevelop 3.x project file for Wesnoth\n\nVersion 0.7.5\n * many map editor improvements\n * changed 'dark gray' player colour to 'orange'\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Shan Taum the Smug\n * enabled accented characters in textboxes for LATIN-1 charset\n * made it impossible to label shrouded hexes\n * fixed OGG checks in --enable-lite\n * fixed clicking to the right of a character in a textbox causing segfault\n * fixed crash when pressing 'escape' in 'advance unit' dialog\n * moved scorpionfoot movetype to game.cfg\n * added unhandled exception code\n\nVersion 0.7.4:\n * added and improved unit images and castle images\n * changed day/night hueing to make them more attractive\n * reduced Dwarvish Fighter hitpoints to 36\n * reduced Dwarvish Lord hitpoints to 75 and changed ranged attack to 10-2\n * increased Dwarvish Steelclad hitpoints to 50 and melee attack to 11-3\n * new units:\n   * Lizardman\n * AI improvements\n   * fixed AI attacking from silly places\n   * improved AI recruiting, decisions are now based on terrain and enemy unit structure\n   * trained AI to take advantage of backstab\n * multiplayer improvements:\n   * added Lieutenant to Loyalists in Age of Heroes era\n   * 9 player support in random map generator\n   * unlimited turns\n * translation updates:\n   * catalan\n   * french\n   * italian\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Desert of Death\n * made scrollbars faster by avoiding unnecessary redraws\n * added HOME and END keys support in textboxes\n * added selecting text on textboxes using keyboard or mouse\n * implemented mid-scenario changing of some side detail(s)\n * attack and defense weighting improvements\n * improved macros handling arguments with space\n * added attack_weight and defense_weight in [attack] tags so that\n   units can choose a different weapon upon attack or defense\n * [have_unit] can now use a location filter\n * fixed victory_when_enemies_defeated attribute wasn't serialized properly\n * fixed statistics showing incorrectly on all but scenario 1\n * fixed infliced damage labels being not always displayed\n * fixed strange name-endings in name generator\n * fixed bug where Scepter of Fire scenario is loaded instead\n   of scenarios after the Scepter of Fire\n * fixed Scepter of Fire being winnable by killing all enemies,\n   now you need to get the scepter\n * fixed messages and options not found by make_translation (#7415)\n * fixed keeps located on the border of the screen having broken graphics\n * fixed bug in Desert of Death scenario\n * fixed textbox-content slow to update when it was larger than the textbox size\n * fixed editor handing keys improperly\n * fixed zooming messing up labels\n * fixed bug that caused crash in [kill] event\n * fixed alignments not being atomic strings\n * fixed networking bug\n * added fixes for OSX from Sithrandel\n * added configure --enable-lite\n * minor modifications to slacknoth\n * reverted editor indentation to BSD style\n * added checking of return values in constructors\n * code refactoring: simplified the 'display' module\n * code cleanups\n\nVersion 0.7.3:\n * added undoing recall\n * improved context menu\n * added and improved unit images, castle images and attack icons\n * added berserk attack ability and gave it to Dwarvish Berserker\n * Dark Adept ranged attack made stronger and cold resistance improved\n * Footpad made a bit easier to advance, faster movement, melee and ranged attack made stronger\n * Outlaw given faster movement\n * Orcish Ruler attack changed to sword, race changed to orc\n * Walking Corpse made a bit easier to advance\n * Goblin Knight experience needed to advance decreased to 150\n * new units:\n   * Dwarvish Thunderguard\n   * Iron Mauler\n   * Soulless\n   * Wose Sapling\n   * Wose\n   * Ancient Wose\n * new scenarios for 'Heir to the Throne' campaign:\n   * Test of the Clans\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Dwarven Doors\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Toward Mountains of Haag\n   * Silent Forest\n * multiplayer enhancements:\n   * added \"private\" messaging between allies\n   * improvements to chat system\n   * added experience multiplier slider in game creation\n   * added eras in game creation\n * language fixes and polishing (english)\n * new translations:\n   * catalan\n * updated translations:\n   * polish\n   * slovak\n   * spanish\n * added ability to define 'time of day' for areas\n * added treefolk movetype\n * added terrain multiple aliases\n * allow multiple sides (comma separared) to be specified in unit filters\n * [have_unit] now honors location\n * new time of day image masks which get laid over hexes when it's that time of day\n * fixed on-map labels not printing black on light coloured terrains\n * fixed ellipses not fading when a unit dies\n * fixed bug where if the host changed their name, it would show that name\n   to users connecting to the game\n * fixed bug in lobby where top-left of screen would not be drawn properly\n * fixed bug with AI not getting villages\n * fixed some compiler warnings\n * fixed Dwarvish Berserker and Yeti using blunt attack type, which does not exist\n * fixed Mage of Light aura slowing the game\n * fixed bugs with tooltips\n * fixed network bug\n * minor autotools fixes\n * autotools basic support for static building\n * added autotools configure checks for signed char\n * slacknoth improvements\n * added recovering connections framework to network protocol\n\nVersion 0.7.2:\n * show possible enemy moves view (context menu -> show possible enemy moves)\n * added and improved unit images\n * new unit side ellipses\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Dwarven Doors\n   * Muff Malal's\n * Dwarvish Berserker attack made stronger\n * multiplayer enhancements:\n   * improved multiplayer chat system\n * language fixes and polishing (english)\n * updated translations:\n   * french\n * fixed attack miscalculation for offensive units which ignored time of day\n * fixed typo in Toward Mountains of Haag\n * fixed many 'end of line' warnings\n * fixed active player not receiveing labels and messages immediately\n   while it was his/her turn\n * fixed networking problems which caused out-of-syncs\n * made mountains 'dark terrain'\n * made on-map labels disappear on end of level\n * reports handle multiple images & strings per report each with their own tooltips\n * added diagnostics to help tracking out-of-sync errors\n * added network diagnostics\n * autotools clean up\n * renamed wesnoth.png to wesnoth-icon.png\n\nVersion 0.7.1:\n * changed damage calculations to use additive percentage calculations\n * resting stacks with heal and cure\n * 'Sword of Fire' changed melee weapon with fire damage\n * made the game more interactive during the AI's turn\n * added and improved unit images, missile images and attack icons\n * merman and swamp villages, ice terrain, dirt and swamp transitions,\n   trash heap (minor terrain item)\n * new fog of war images\n * underground daytime images\n * fading effect between daytime changes\n * attack stat tooltips\n * user interface polishing\n * support for cursors\n * on map floating labels ('set label' in context menu)\n * floating text for damage inflicted and status effects\n * shortcut keys are displayed next to menu items\n * undo, redo and next unit added to context menu\n * added deleting saved games\n * added deleting units from recall list\n * added fight calculations\n * added in-game statistics\n * new scenarios for 'Heir to the Throne' campaign:\n   * Return to Wesnoth\n   * Valley of Statues\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Blackwater Port\n   * Hasty Alliance\n   * Scepter of Fire\n * new campaign 'Son of the Black Eye' (orcs):\n   * End of Peace\n   * Toward Mountains of Haag\n   * The Siege of Barag Gor\n   * To the harbour of Tirigaz\n   * Black Flag\n   * Desert of Death\n   * Silent Forest\n   * Shan Taum the Smug\n * General melee attack number of strikes increased by one\n * Princess (Li'Sar) changed to 2nd level unit\n * Youth (Konrad) changed to level 0 unit\n * reduced Sleeping Gryphon's number of attacks to same with Gryphon\n * improved swimmer (Merman, Naga, etc) movement on swamp, grassland, sand and tundra\n * new units:\n   * Battle Princess\n   * Cockatrice\n   * Giant Scorpion\n   * Goblin Direwolver\n   * Grand Knight\n   * Orcish Shaman\n   * Yeti\n * new special units:\n   * Orcish Ruler (hero in the Son of the Black Eye campaign)\n   * Pirate Galleon\n   * Transport Galleon\n   * Watch Tower\n * multiplayer enhancements:\n   * random map generator enhanced\n   * village number slider in random map generation is now proportional\n   * users in lobby can see minimap of non-shroud games being played\n   * number of available positions in a game is shown in the lobby\n   * current turn of a game underway is shown in the lobby\n   * eye of the observer\n * translations can specify font to use\n * added Bepa-Roman.ttf which has cyrillic characters\n * updated translations:\n   * danish\n   * hungarian\n   * portuguese-brazilian\n   * slovak\n * defenders will choose their weapons more intelligently\n * de-elvished Gryphon Rider description and set race to human\n * fixed Cave Spider ranged attack to have slow specialty\n * fixed minor glitch in tutorial id messages\n * fixed random map generator creating invalid small maps\n * fixed result=continue showing victory message\n * fixed units not getting resting if they ended turn with space\n * fixed enemies getting healed after loading, resting serialized in unit\n * fixed Merman Lord -> Triton in some scenarios\n * fixed allow/deny observers being not respected in multiplayer game creation\n * fixed multiplayer replays not working\n * fixed random map generator retain the 'number of players' setting\n * fixed PNG and OGG checking bugs in configure for MacOSX and Windows (with cygwin)\n * fixed crash on empty maps\n * fixed problem with units having movement reset\n * fixed 'right column inaccessible' bug\n * fixed \"X_ShmPutImage\" crash on GNU/Linux\n * made it less likely for castles to appear in the sea on randomly generated maps\n * improved network protocol (breaks backward compatibility)\n * added optimization to make the game load faster for people using the default english locale\n * slacknoth now ignores an insignificant makefile error\n\nVersion 0.7:\n * added new sounds, unit images and attack icons\n * polished unit descriptions for recently added units\n * old tutorial strings removed\n * fixed Lieutenant -> General advancement path\n * fixed multiplayer out of sync bugs\n * fixed swedish\n\nVersion 0.6.99.5:\n * many of the unit images were drawn using a SNES game graphics as basis:\n   all images which we thought might be considered as derived work have been redrawn\n * theme update, scrollbars\n * added new sounds, unit images and attack icons\n * invisibility \"wears off\" when enemy unit comes adjacent (#6879)\n * allowed swimming units to move slowly on hills\n * resting restores 2 hitpoints\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Gryphon Mountain\n   * Northern Winter\n   * Swamp of Dread\n * undead campaign updates and new scenarios:\n   * Brother Against Brother\n   * The Skull of Agarash\n   * Mages and Elves\n   * Inside the Tower\n   * Crenalu's Book\n * new units:\n   * Bowman\n   * Longbowman\n   * Master Bowman\n   * Footpad\n   * Trapper\n   * Spectre\n   * Initiate\n   * Dark Spirit\n   * Deathmaster\n   * Demilich\n   * Nightgaunt\n * Elvish Archer and Swordsman made more powerful\n * Elvish Marksman, Elvish Sharpshooter and Orcish Archer ranged attack improved\n * Gryphon, Evil Necromancer, Lich and Ancient Lich made weaker\n * Dark Apprentice advances to Deathmaster\n * Evil Necromancer advances to Demilich\n * Lich does not advance to Ancient Lich anymore\n * removed Gryphon Rider from Rebels and gave it to Knalgan Alliance\n * language fixes and polishing (english)\n * new translations:\n   * finnish\n   * portuguese-brazilian\n   * slovak\n * updated translations:\n   * brazilian\n   * danish\n   * french\n   * hungarian\n   * norwegian\n   * swedish\n   * spanish\n   * french\n * added ctrl+P as hotkey for 'Preferences'\n * campaigns can customize difficulty level icons\n * mage of light lights up hexes around him\n * fixed many image transparency glitches (caused by recent alpha channel implementation)\n * fixed teleporting displaying incorrectly where unit can move\n * fixed Konrad dying in Siege of Elensefar not ending the game immediately\n * fixed AI bug with skirmishers (#8041)\n * fixed crash when you press escape when a menu is displayed (#7863)\n * fixed unit descriptions leaking thru fog of war (#7843)\n * fixed bug where units would regain hitpoints after reloading the game (#7842)\n * fixed slow down right before a unit arrives at its destination hex,\n   due to redrawing of the minimap\n * fixed ghosted usernames on server (#7655)\n * fixed focus not returning Konrad on new turn (#7188)\n * fixed wrapping of text in opening sequence (#7878)\n * fixed bug where on large maps, the cursor wouldn't point at the correct hex\n   toward the eastern side of the map\n * fixed scroll speeds being set to insane values\n * fixed bug where AI could see potential movement of invisible enemy units\n * fixed bug where Blackwater Port was easier than it was meant to be on 'normal' level\n * fixed crash in maps with fog of war\n * fixed transparency issues in dwarven doors graphic\n * fixed issue with escape button skipping past messages where the user must make a choice\n * fixed bug where shroud wasn't saved/loaded properly (#7922)\n * fixed tutorial id\n * added random to set_variable\n * added victory_when_enemies_defeated\n * made it easier for different AI algorithms to be added\n * added Doxygen documentation to ai_interface\n * autotools fix: 'make uninstall' removes data directories if they are empty\n * slacknoth script does a 'make clean' before compiling source,\n   strips binaries and adds package info\n * refactored widget class\n * removed some debug cerrs\n * added VC++6 project files to CVS\n\nVersion 0.6.99.4:\n * added alpha channel\n * new tutorial\n * theme update\n * more unit graphics, animations and attack icons\n * new music added\n * resting implemented: units that don't do anything for a turn get few hitpoints back\n * 'Mage of Light' gives advantage also at dawn\n * multiplayer changes\n   * Knalgan Alliance: dwarves and their allies\n   * Rebels can't recruit dwarves or thieves anymore\n   * ally village ownership information is shared over fog of war (#7154)\n * synced MANUAL with Wiki\n * language fixes (english)\n * new translations:\n   * brazilian\n * sea creatures in Ford of Abez do not attack Li'sar\n * made energy bars fade out when a unit is killed\n * made circles disappear after a unit is killed\n * made recruiting update fog of war and shroud\n * made it so you can't create units that are off the map\n * fixed flaming sword not being found\n * fixed missing race=elf for 'Elvish Captain'\n * fixed bug where Elf wouldn't do anything in 'Mages and Elves' scenario\n * fixed units disappearing on event (#7032)\n * fixed need to be able to escape opening conversation (#7798)\n * fixed problem where some menus would have scroll buttons displayed in top-left corner\n * fixed problem with textbox not processing properly\n * fixed illegal memory access\n * fixed flop() to work properly\n * workaround to SDL bug\n * removed definition of log2 which clashes with some compilers\n * removed use of auto_ptr to help with compilation on older compilers\n * added a draw_wrapped_text method font.[ch]pp\n\nVersion 0.6.99.3:\n * data compression for network games\n * more unit graphics and animations\n * tutorial objectives added\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Sceptre of Fire\n * made it possible to recruit on any keep tile, not just a starting keeps\n * intelligence (trait) now reduces experience needed to advance by 20 %\n * quick (trait) now reduces maximum hitpoints by 10 %\n * added orcishfoot (orcs, goblins), \"orcs\" are now faster on hills and mountains\n * changed orcish units previously using smallfoot to use orcishfoot\n * mountainfoot (dwarves) made a bit faster on forest\n * mountainfoot village and castle defense increased\n * undeadfoot (undead) made faster on swamp\n * undeadfoot swamp defense increased\n * undeadfoot can now move on mountain, though very slow\n * woodland (elves) made a bit faster on mountains\n * new units:\n   * Outlaw\n   * Bandit\n * AI improvements\n   * retreating, re-grouping\n   * recognizing allies\n   * attack selection improvements\n   * grouping improvements\n   * defending leader\n   * fixed leader abandoning keep when it was not safe\n   * fixed AI leaving units idle when it has a large number of units\n * updated translations:\n   * french\n * improved castle placement on random maps\n * added 'new turn' event\n * added 'side turn' event\n * fixed healing units that had full hitpoints (#7574)\n * fixed problem where [hide_unit] still displays unit's hitpoint bar\n * fixed unit names being different in networked multiplayer games\n * fixed bug where temporary items were lost on level up or when saving and reloading the game\n * fixed bug which caused dialogs that extended past screen boundaries to crash program\n * fixed bug where unterminated #define would crash the game\n * fixed \"Two Delfadors\" bug\n * attempt to fix hitpoint bars not displaying properly on Mac OS X\n * relocated images under misc/: flamesword, holywater, sceptreoffire, staff\n\nVersion 0.6.99.2:\n * nightstalk ability added\n * added turn-to-stone special weapon ability\n * invisible units are now revealed when enemy comes adjacent to them\n * poisoned units are shown with a green hue\n * updated MANUAL\n * new units:\n   * Thug\n   * Poacher\n * increased resistance values for all Dwarvish units\n * increased cost of 'Dwarvish Fighter' to 17\n * reduced 'Dwarvish Lord' movement to 4\n * skirmish ability given to Fencer and Duelist\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Home of the North Elves\n * minimap scrolling\n * new music added\n * theme updated:\n   * new menus\n   * added menu buttons to top left of screen\n   * slider updated\n   * new buttons\n   * status icons in unit information panel\n * multiplayer improvements:\n   * Loyalists can recruit Horseman\n   * Rebels can recruit Dwarves\n * wesnothd.6 manual updated\n * credits, people ordered by role\n * tweaked look of tooltips\n * made it so the icon for the paladin's sword is used when the paladin attack\n * added Dwarvish Steelclad attack frame\n * escape save game filenames to allow special characters on them\n * removed show_ai_move options, since there is a serious bug with it\n * fixed poison healing bug\n * fixed bug where killing an enemy that caused an [endlevel] event\n   to occur prevented advancement by the unit killing\n * fixed bug where commander would carry over movement from previous level\n * fixed storyline image for Isle of the Damned\n * fixed adjacent terrain for pier terrain\n * fixed bug that caused Wesnoth to fail to compile in ia64\n * fixed crash when connecting to outdated servers\n * fixed problem with changing video modes on machines that use emulated bpp\n * fixed crashing on missing intro image\n * fix to bug in tiles_adjacent()\n * fixed \"Leving\" -> \"Leaving\" in Shadow description\n * fixed problem where after being disconnected from the server,\n   players would be unable to reconnect without quitting the client\n * fixed game not notifying when save game failed\n * fixed round indicator does not show completely (#7500)\n * attempt to fix STL-related compile error on Slackware\n * added find_visible_unit, to find a visible_unit by location in a unit_map\n * initial implementation of developer documentation (doxygen)\n * refactored some AI code\n\nVersion 0.6.99.1:\n * extended tutorial\n * two new music tracks\n * new user-interface\n   * support for themes\n   * enhanced support for resolutions below 1024x768 (e.g. 800x600)\n   * very simple chatting is now possible in-game (mouse right-click menu -> speak)\n   * new time of day images, attack icons, new buttons, checkboxes,\n     panel has been split to top and right-side panel...\n * medium difficulty level is used by default when starting new campaign\n * snapshot saving, faster loading if you skip replay\n * more unit graphics, animations and sounds\n * healers can heal allies\n * undeads can not be drained anymore\n * new units:\n   * Shadow\n * dart damage type changed from pierce to blade,\n   this affects 'Orcish Assassin' and 'Orcish Slayer'\n * fixed description for 'Wolf Rider'\n * changed 'Evil Necromancer' advanceto 'Lich'\n * Mage stats changed: hitpoints increased to 24, ranged attack does now 6-3 (magic),\n   60 experience needed to advance\n * reduced movement for Arch Mage and Great Mage to 4\n * Dwarvish Lord changes: renamed 'tomahawk' to 'hatchet', removed leadership,\n   increased resistance against blade, piercing and impact\n * Necromancer changed to 'human' (movement_type is now 'smallfoot'),\n   experience needed to advance increased to 80\n * Lich experience needed to advance increased to 250\n * 'Ancient Lich' Melee damage decreased to 8-4\n * free units don't get traits anymore, however they are free in future scenarios\n * new scenarios for 'Heir to the Throne' campaign:\n   * North Elves\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Hasty Alliance\n   * Sceptre of Fire\n   * A Choice Must Be Made\n * new scenarios for 'The Dark Hordes' campaign:\n   * Mages and Elves\n * scenario balancing for 'Dark Hordes' campaign:\n   * Brother Against Brother\n   * The Skull of Agarash\n * units will stop moving when they see new units (shroud/fow)\n * moves that do not reveal shroud/fow are undoable\n * when a leader dies, all villages for that side become neutral and you\n   can not anymore capture villages, you can still \"neutralize\" villages of other players\n * 'show team colours' now uses colored circles to identify units sides\n * added 'show team colours' option to preferences dialog\n * added some explanatory tooltips for some unit attributes on sidebar\n * added in flag to show whose turn it currently is\n * added end turn confirmation when units can still move (requires\n   editing preferences-file - see WesnothPreferences on http://wiki.wesnoth.org for more information)\n * added 'unit list' to context menu\n * restored 'save game' in the context menu (#7172)\n * multiplayer improvements:\n   * enhanced multiplayer game setup\n   * random maps\n   * made basic messaging possible using 'Speak' from main menu\n   * 'delayed map sharing' between allies\n   * when player quits or gets disconnected from multiplayer game,\n     game creator chooses to replace them with ai/local player or abort\n   * loaded games should now start properly and with right settings\n   * there are now flags (and colors) for 10 teams\n   * minimap shows FoW and units\n   * configurable wesnothd port see 'wesnothd --help'\n   * client support for non-standard server ports, syntax: server.address.here:port\n * AI improvements\n   * leader seeks for healing as long as his keep is safe\n   * leader captures nearby villages in some situations\n   * leader requests help when attacked\n   * attack is chosen more effectively\n   * movement algorithm changes\n   * restructured AI code\n * man-page for wesnoth_editor\n * new translations:\n   * swedish\n * updated translations:\n   * danish\n   * dutch\n   * french\n   * spanish\n * internationalization string fixes\n * made make_translation and merge_translations compile\n * fixed \"Computer vs Computer\" not in string_table (#7295)\n * improved speed of reading cfg-files\n * units in water tiles are displayed partially submerged\n * added support for height adjustment of units\n * added snowed hills and forest - H and F\n * default selection for weapons when attacking\n * all event tags are now handled in the order in which they appear\n * teleport event\n * added several new toys for scenario developers to play with (wesnoth --test to see all thats done)\n * allowed items to set status flags on units\n * tweaked unit cfg-files for \"weapon namespace uniformity\" - needed for attack icons\n * implemented new 'team_name' tag to show alliances to replace 'enemy' tag\n * adjusted the way in which images are blitted\n * implemented new widget system with sample: textbox\n * borders of game field show dummy terrain instead of black areas\n * made images use proper transparency, instead of using black as transperant colour\n * pressing space really ends turn for a unit (#7311)\n * menu arrows are disabled when we are on top or in the bottom of menu (#7389)\n * allow scrolling to fogged zones clicking the minimap\n * fixed pressing 'n' (next unit) returning to same unit (#7308)\n * fixed player being able to see enemy unit list on enemy turn (#7312)\n * fixed unit list not showing data in correct columns for units without name (#7313)\n * disabled observers using the in-game speak (#7156)\n * seeing new areas when there is FoW now really prevents undo (#7177)\n * FoW dies when unit dies, FoW is recalculated when unit dies in combat (#7114)\n * fixed client-hosted multiplayer bug where more than two player games were not possible\n * fixed some multiplayer saving/loading bugs\n * fixed some bugs with loading replays\n * fixed problem with saving at the end of the scenario pointing to the previous scenario\n * fixed problem with units having goto orders at the beginning of scenarios\n * fixed seeing footprints of other team's units\n * fixed clicking on minimap losing focus on your unit (#7402)\n * fixed problem with old units being displayed in status bar\n * fixed bug where capturing a village with a leader would not change the village to your side\n * fixed bug where scenario objectives in loaded games would sometimes have weird boxes on the end\n * fixed bug which could cause a crash when a unit advances\n * fixed problem where changing between fullscreen/windowed mode in preferences\n   could do strange things\n * fixed start game in windowed mode -> tutorial\n   -> ctrl-f to change to fullscreen -> quit to main menu -> preferences\n   -> click button to change to full screen -> close preferences dialog -> crash\n * fixed bug where very large dialogs could crash the game\n * fixed some problems with too-large dialog boxes\n * fixed bug where an invalid side specification for a unit could crash the game\n * fixed problem in Ford of Abez with monsters attacking Li'sar\n * music on intro now has less interference\n * credits now run smoother\n * fixed Wraith appearing squashed in the panel (#7185)\n * fixed WML parser bugs\n * fixed misspelled 'The Siege of Elensefar' scenario filename\n * fixed visualization problems with in fmunoz & ettin's names in Credits\n * fixed strange text handling in intro (#7418)\n * fixed Pikeman advanceto typo (#7337)\n * fixed client connecting forever after a client disconnection (#7195)\n * many network and wesnothd code fixes and changes to make it a bit more stable\n * moved network code to mp_connect\n * autotools:\n   * changed AC_ARG_ENABLE in server, editor and tools to fix bug\n   * checks for png support in sdl_image and ogg support in sdl_mixer\n   * application icon and menu entries in KDE with --enable-kde\n   * application icon and menu entries in Gnome with --enable-gnome\n   * removed autoconf version 2.57 prerequisite\n   * adding autogen.sh, so CVS users don't need autotools installed\n * a workaround to allow users not using 16 bpp to change video mode\n * changed drawing routines to use more SDL routines,\n   and less direct manipulation of surfaces\n * removed unnecessary diagnostics\n * code refactoring and cleanups\n\nVersion 0.6.1:\n * removed plague ability from Wraiths\n * decreased Lich's melee damage by one\n * hitpoints are displayed in red/white/green depending on 1/3, 2/3, full energy\n * display experience in green when unit is near advancement\n * basic support for 800x600 resolution has been added, it still needs a lot work\n * translated manuals:\n   * norwegian\n * new translations:\n   * dutch\n * autotools: enabled changing datadir name with ./configure\n * autotools: configure stops and gives error messages if libs & includes aren't found\n * fixed Crossroads scenario lacking victory and defeat conditions\n * fixed 'A Choice Must Be Made' defeat conditions\n * fixed bug causing crash on scenario completion\n * fixed 'Storm Trident' mislocation on 'Bay of Pearls'\n * fixed resetting player starting gold, gold per village, player race,\n   and player type when loading multiplayer game\n * change the way images are handled to fix resizing (and other potential) bugs\n * fixed problem where gold was reset to 100 on some scenarios\n * made it so both holy water items in the valley of death work properly\n * fixed bug where using items such as the 'Storm Trident' and\n   'Sceptre of Fire' could crash the game\n * fixed bug that occurred when the display was zoomed very far out\n * fixed reference counting problem\n * code cleanups\n\nVersion 0.6:\n * radical storyline changes, this breaks saves from older versions\n * fog of war\n * enemy units do not vanish anymore when enemy leader is killed\n * new scenarios for 'Heir to the Throne' (Konrad's Tale):\n   * Isle of the Damned\n   * Crossroads\n   * Northern Winter\n   * The Lost General\n   * Hasty Alliance\n   * Sceptre of Fire\n   * A Choice Must Be Made\n   * Snow Plains\n   * Swamp of Dread\n * scenario balancing:\n   * Bay of Pearls\n   * Isle of Anduin\n   * Dwarven Doors\n   * Mountain Pass\n   * Valley of Death\n   * Ford of Abez\n * support for multiple campaigns\n * new campaign started: 'Hordes of the Undead'\n * multiplayer improvements:\n   * show minimap when selecting map for new game\n   * configurable starting gold per side\n   * configurable 'gold per village'\n   * teaming (alliances)\n   * configurable number of turns\n   * configurable fog of war\n   * configurable shroud\n * autotools has been taken in use, old Makefiles can be found under utils/\n * updated docs - INSTALL, MANUAL\n * man-pages for wesnoth and wesnothd (contributed by Debian package maintainer) - doc/man/\n * added a script for easy Slackware package creation - utils/slacknoth\n * added random map generator (requires Perl) - utils/random_map.pl\n * added in repeatable recruit using ctrl+shift+r\n * hotkey configuration from GUI\n * confirm overwriting of save games\n * savegames now display and are sorted by date and time\n * income calculations are now done at the beginning of each player's turn\n * made it so units that can no longer advance have experience needed displayed as '-'\n * allow use of escape to exit out of ok/cancel and yes/no dialogs with negative results\n * double-click support in menus\n * new units:\n   * Heavy Infantry\n   * Shock Trooper\n   * Sea Hag\n   * Goblin Pillager\n   * Death Knight\n   * Elvish Scout\n   * Pikeman\n   * Dwarvish Steelclad\n * Konrad now starts as Fighter, which is 1st level unit\n * undead are now immune to poison and plague\n * reduced movement for Elvish Lord\n * reduced cost of Mage\n * changed Mage attack to fire based\n * 'Mage of Light' has now both cure and illumination\n * Increased shaman slowing attack damage, decreased unit cost\n * changed 'Red Mage' to neutral alignment\n * removed 'Elvish Outrider' as evolution from Horseman\n * Scout has been renamed to Cavalry\n * Cavalry stats adjusted, increased cost by one, reduced movement by one,\n   reduced experience needed to advance\n * Horseman now needs more experience to advance\n * 'Vampire Bat' now needs more experience to advance and costs more\n * 'Mage of Light' attack is now a bit more powerful\n * fixed max experience for Orcish Warlord\n * 'Blood Bat' unit description clarified\n * Halberdier changed to 3rd level unit\n * Spearman now advances to Pikeman\n * Increased fire resistance for 'Red Mage' branch units\n * Increased holy resistance made higher for Holy units\n * auto-naming (currently elves and humans only) of units and renaming of units\n * units now have races defined in cfg-files\n * more and improved unit graphics and animations\n * changed team 6 color to purple\n * new translations:\n   * german\n   * hungarian\n * updated translations:\n   * danish\n   * french\n   * spanish\n * translated manuals:\n   * french\n   * italian\n   * spanish\n   * german\n * changed \"AI\" in the english config to \"Computer Player\"\n * fixed problem with stripping of non-latin characters at end of string in config files\n * allow internationalization of traits\n * made AI more intelligent\n * scenario building:\n   * added [remove_shroud]\n   * added [allow_recruit]\n   * added [teleport]\n * added in support for some special effects: flashing and scrolling/tremors\n * added coding support for displaying different terrain images\n   (particularly useful for villages) at different times of the day\n * fixed minor bugs in unit configuration files for Elvish Sharpshooter and Fencer\n * fixed problem where 'goto numbers' can overwrite part of the right panel\n * footsteps disappear as you walk over them\n * added engine support for weapons that can reach multiple hexes\n * added some utility macros to WML\n * added a rotate function, you can quickly rotate a SDL_Surface by any angle\n * text is drawn on screen progressively instead of all at once during introductory sequence\n * fixed problems with map updating on map scene\n * fixed bug with 'slow' attacks sometimes causing saved games to be corrupt\n * fixed bug with crashing when switch to full screen from preferences menu\n * updated MapEditor so it compiles again\n * fixed tiny maps bug\n * fixed editor so it compiles again\n * fixed problem with items on status table displaying on top of each other\n * fixed problem with server crashing on startup\n * converted combat calculations to use fixed-point math\n * fixed crash with more than 6 sides\n * fixed compile error with older versions of SDL\n * made time of day images update properly\n * fixed assertion failures\n * fixed problem where slamming screen against right side and holding down\n   right cursor key would cause hexes to shift around\n * made mouse wheel and middle-click work again\n * resolved conflicts in game.cfg\n * made it so flags are overlayed on top of villages properly\n * made image cache flush occur when switching video modes,\n   in an effort to solve colour distortion problem on MacOSX\n * fixed seg fault bug\n * fixed energy bar images\n * changed energy movement orbs\n * white spaces were changed to _ in scenario IDs and next_scenarios\n * fixed problem with loading saved games with duplicate roles\n * fixed bug in AI path finding\n * fixed problem with undos/redos causing assertion failure\n * fixed bug with drawing tiles\n * after a goto command is given, the unit is deselected\n * fixed minor multiplayer bug\n * fixed tool tips to work again\n * fix hitpoint bar problem on MacOSX\n * added diagnostic to attack calculations\n * added error logging and correction for combat related syncing errors\n * client_type=ai in preferences-file make player join\n   networked multiplayer games as AI player\n * added some comments to code\n * added icon to Windows distribution\n\nVersion 0.5.1:\n * more and improved unit graphics and animations\n * added show_ai_moves and show_combat options for preferences file\n * in 'Valley of Death' Li'Sar now arrives with Spearmen instead Swordsmen\n * renamed Soldier to Spearman\n * made it so shroud displays properly on the minimap\n * added support for UTF-8\n * extensive changes to the way event handling works\n * make multiplayer lobby look better\n * made advancement of units on a remote machine random\n * made display draw more efficiently\n * made it so AI players have an empty description in multiplayer games\n * added in some additional assertion checks\n * made some templated code more portable across compilers\n * fixed problem with AI attacking units not always advancing levels\n * map file format is now correctly oriented\n\nVersion 0.5:\n * low traffic wesnoth-releases mailing-list,\n   subscribe at http://mail.nongnu.org/mailman/listinfo/wesnoth-releases\n * network multiplayer\n * wesnoth server\n * more sound effects and musics\n * more and improved unit graphics and animations\n * portraits when major characters are talking\n * more story graphics\n * many compile errors squashed\n * updates to Danish, French and Spanish translations\n * updates and fixes to editor\n * snow and desert terrains, improved graphics for grassland\n * scenario difficulty adjustment/balacing\n * new scenarios:\n   * The Blackwater Port\n   * Plunging Into the Darkess\n * new units:\n   * Elvish Shyde\n   * Dark Adept (Necromancer wannabe)\n   * Dragoon\n   * Soldier\n * Swordsman was changed to level 2 unit\n * Gryphon claws attack is now blade\n * reduced movement for Dwarvish Berserker, Dwarvish Lord,\n   Orcish Assassin, Orcish Slayer and Orcish Crossbow\n * elven units are now neutral\n * changed 'night vision' to ambush (\"invisibility\" at forest)\n   for Elvish Ranger and Elvish Avenger\n * changed Elvish Outrider weapon to sword (no more charging)\n * human units are now lawful\n * renamed Assasin to Assassin\n * changed Orchish Archer and Orcish Crossbow melee attack to blade\n * elusivefoot now take more damage when hit\n * fixed teleporting to work properly\n * many small unit adjustements to balance units\n * lightbringer ability renamed to illuminates\n * flying units are now harder to hit\n * allow keystroke repeat when holding down in text entry fields\n * added toggling of grid with control-g\n * fixed cycling to goto units\n * made it so when unit is selected, pressing a number n on the keyboard\n   will show how far that unit can move in n turns\n * added mousewheel support\n * added center-on-middle click\n * fixed bug with replays and moving onto villages\n * added shroud\n * removed timeout in intro sequence\n * button transparency problems fixed\n * fixed energy bar display problem\n * fixed position on minimap when clicking\n * make fights go faster when accelerated\n * improved AI\n * added tooltips for text that cannot fit\n * added turn dialog and turn bell options\n * added in 'status table'\n * added better dialog for when unit is recruited\n * added new dialogs and right-side panel\n * path highlighting (footsteps)\n * menu borders updated\n * added in showing of how many turns a goto command will take.\n   Mousing over terrain with unit selected will show defense % of the terrain\n   and movement cost for that unit\n * made preferences accessible from the title screen\n * added configurable scrolling speed\n * added in colour cycling for day/night\n * removed deprecated display::get_minimap_location() function\n * fixed choose_weapon assertion failure\n * got rid of use of spaces in saved game names\n * refactored menu class into its own source file\n * updated scenarios to use the 'next_scenario' system\n * fixed problem with round()\n * getting rid of scenario numbering, preparing for less linearity\n * added PREFERENCES_DIR preprocessor symbol which specifies name of preferences directory\n * fixed some crashes when loading preferences.\n * added configurable day/night scheduler\n * removed unit status dialog from unit description as it's redundant\n\nVersion 0.4.8:\n * lots of bugs fixed\n * translations updated and some new translations\n * AI improvements - grouping, waiting for reinforcements\n * new tile graphics for grassland, shallow water, deep water, sand and keep\n * more unit animations, sounds and descriptions\n * reduced movement for advanced units, they don't need to be both\n   more powerful and faster than lesser units\n * horseman is now neutral unit\n * paladin sword attack is now holy\n * wolf rider, goblin knight, vampire bat and blood bat attack is now blade\n * new healing/curing, paladin and shaman have healing, white mage and druid have cure\n * go-to implemented\n * ask to save replay at end of scenario\n * autosave (\"crash recovery\")\n * customizable hotkeys, configured in preferences-file\n * pressing window close button quits the game\n * scenario objectives are shown at the start of scenario\n * terrain descriptions now use 'terrain (underlying terrain)' format\n * when a unit reaches border of screen we center map on unit instead of scrolling\n * validate saved games with version number\n * screen resolution can be changed in preferences\n * allow window to be dynamically resized when running windowed\n * use video hardware surfaces where possible (Windows seems to have trouble\n   with hardware surfaces so game always uses software surfaces when running on Windows)\n * code cleanups\n * lots of compiler warning eliminated\n * sourcecode moved to src/\n\nVersion 0.4.7:\n * patched the units config files with miyo's patch to clean up the structure\n * made it so the game will dump core if it segfaults\n * fixed crash reported by zas when a unit attacks\n * you can now zoom in and out when the AI is moving\n * added improved keyboard control that allows keys to be set in the locale settings.\n   Keyboard shortcuts (in the English locale) changed\n * added ability to make different game-paths - e.g. the scenario\n   you play could be determined by how you won last scenario.\n   Dialogs can now be popped up which ask the player to make a selection,\n   and the selection they make determines how the game progresses.\n   (But no part of the game actually uses this feature yet)\n * added scenario objectives in scenario 10\n * now when the AI attacks an enemy and doesn't kill it, it will move\n   other nearby units toward the place where the combat took place\n * if an AI sees only combats that result in loss nearby,\n   it will request reinforcements from nearby\n * made it so that if the macro WESNOTH_PATH is defined, the game\n   will look for its data files at that path. You can thus compile with\n   e.g.  -DWESNOTH_PATH=\\\"/usr/local/games/wesnoth\\\"\n   -- the Makefile does not currently take advantage of this\n * added benchmarking of times to perform various operations in the game\n * made leaders start in a 'keep'. (But need a better image for the keep\n * added difficulty level settings for scenarios up to scenario 9\n * added (partially done) Italian translation\n * added 'skip turn' option, accessible by pressing space -\n   will end the selected unit's turn, and go to the next unit that has moves left\n\nVersion 0.4.6:\n * converted over to using png images instead of bmp\n * fixed up difficulty levels for 'normal' on scenarios 3 and 4 as reported by miyo\n * made it so healing animations and sounds don't play during replays\n * removed name generation code, since it wasn't fast enough\n * added sounds to a number of Elvish units\n * made it so that when the attack-selection dialog is displayed, the\n   attacking unit is displayed in the right side bar,\n   so that one can easily compare the attacking and defending units\n * fixed bug where after a scenario is loaded, on new turn it wouldn't scroll to the leader\n * made the display area for units bigger when recalling, to fit in units like the Druid\n * reduced Mage's hitpoints from 25 -> 18\n * added in plague ability and gave it to walking corpse and wraith.\n   A unit with plague will create a new unit of their own type whenever they kill an enemy unit\n * tweaked recruitment pattern on scenario 6\n * made marksman and sharpshooter both very bad at close range\n * increased power of Mage of Light's attack\n * made it so you get a gold bonus when you complete scenario 9\n * fixed scenario 7 to say 'survive for 2 days'\n * changed Swordman -> Swordsman and Beserker -> Berserker\n * made some speed changes which will hopefully help for people who\n   are finding it slow on startup and after selecting difficulty levels\n * fixed display problem where background of menus that had scroll arrows looked displaced\n * corrected facing of dwarvern units\n * added transition hexes at the edge of the scenario to make the edges of the map look nicer\n * added a 'show grid' option\n\nVersion 0.4.5:\n * added mine image for scenario 11 provided by fmunoz\n * added some missing headers to source files, problem pointed out by zas\n * made the animation for healing take a little longer\n * added new shortcut, control-F alternates between full screen and windowed mode\n * added buttons 'next' and 'skip' to introduction sequence\n * added two new images from fmunoz to introduction sequence\n * added new preferences dialog, which contains volume controls for music and sound effects\n * got rid of flicker on title screen when you cancel selection of a dialog box\n * fixed a number of drawing bugs which caused strange lines to appear\n   across the screen sometimes, and caused the game to display badly when zoomed out alot.\n   Zooming out should now work perfectly\n * marksman (trait) to hit chance reduced to 60 %\n * night vision (trait) added to Elvish Ranger and Elvish Avenger\n\nVersion 0.4.4:\n * fixed assertion failure if you try to start a campaign and then cancel\n   on the difficulty level settings\n * added 'merge_translations' tool which will merge an old version of a\n   foreign language translation to the current English translation, making a\n   new translation that has foreign language strings where they are available,\n   and English strings otherwise\n * fixed crash if you opened a menu that had some empty strings in it\n   (for instance clicking preferences in the French version)\n * changed recruitment so that now a leader can only recruit if they are on\n   a starting location. They can recruit units on any vacant castle tile connected\n   to the starting location they are on. The player can choose a location\n   to recruit onto by selecting it when accessing the recruit menu. TODO -\n   Need a graphic to distinguish the starting hex from other castle hexes\n * changed maximum items displayed in a menu before up/down buttons appear from 10 to 18\n * fixed bug in scenario 8 where objectives would not be displayed\n * fixed bug in scenario 9 where major characters could die without loss\n * changed it so that when writing a configuration file,\n   [/element-name] will be used to end an element instead of [end]\n * fixed corrupted save file bug reported by miyo\n * made the White Mages that join you in level 7 leave you\n   at the end of the level, as they are meant to\n * changed advancement animation colour to black for chaotic units\n * made it so that when an AI-controlled unit moves,\n   its details are displayed on the sidebar, as suggested by miyo\n * implemented algorithm so that if an AI is moving and the map has to be scrolled,\n   frames will be skipped if necessary to make the AI moving at a decent speed\n * added Danish translation\n * added improved French translation\n * made it so that if you mouse-over a unit, it will be displayed\n   in the unit details on the sidebar\n * changed healing so that a healer can only heal up to 12 hitpoints per turn.\n   Added animations and sound effects to healing\n * added in AI type 'guardian', which is a unit that will stay in position\n   until enemies come in range at which point it attacks.  Now in scenario 3\n   there is a cage with many mermen in it that has 2 naga guardians around it\n * added scenario 10 provided by Shroud and scenario 11 provided by fmunoz\n * added in test version of a naming algorithm that will automatically name\n   created units that was submitted as a patch by a wesnoth user\n\nVersion 0.4.3:\n * made it so that when a directory is scanned for files,\n   only files ending in .cfg will be used.\n   This is mainly to stop vim swap files from being used\n * changed AI's movement routines to make it slightly more intelligent\n * added in difficulty levels - easy, medium, and hard\n * scenarios 1 and 2 now have easy/medium/hard difficulty levels implemented for them\n * when an enemy dies, its energy bar now fades out with it\n * added 'turbo' mode in preferences area.\n   In turbo mode, the operation of the shift key is inverted.\n   Turbo mode and full screen mode settings are now saved to the preferences file\n * made the time of day go dawn - day - day - dusk - night - night as suggested by miyo\n * fixed up bugs in the AI's pathfinding, the AI should now be substantially smarter\n * allowed setting of custom target units for the AI\n\nVersion 0.4.2:\n * if you hold shift, the game won't scroll at all, it'll jump between locations\n * added attack animations for necromancer and mage\n * added in Lohari's images with corrected shadows\n * added in Lohari's crossed daggers for battles, instead of the cross\n * added in Paladin's patch to highlight the hex of the unit that is currently selected\n * used new Makefile provided by zas\n * added setting of window title as suggested by zas\n * changed so that holding shift skips fading in recruiting units\n * increased cost of Naga from 8 -> 11 gold to make scenario 3 easier\n * fixed bug with recalling in mid-level saved games -\n   should save alot of game corruption issues\n * made it so attack sounds do not play while loading game\n * added animations for Goblin Knight, Wolf Rider, and Troll Whelp\n * made it so Glordorf in Scenario 2 doesn't join the player\n * added in new missile images done by fmunoz\n * fixed bug where merman's storm trident would run out when the merman advances,\n   or at the end of the level\n * page up and page down can be used to maneuver through menus\n * fixed bug reported by Jaramir, where exiting a multiplayer game\n   would cause the save state to be remembered\n * fixed bug reported by Jaramir, where recruiting or recalling a unit\n   wouldn't update your gold immediately\n * added better guarantees that when an AI attacks a unit,\n   the unit being attacked won't be mostly off the screen\n * changed Necromancer to level 2\n * fixed bug where quitting the game by pressing escape during\n   opening dialog sequence would cause the game to crash\n * added facility suggested by miyo where an entire directory can be scanned\n   to look for configuration files. Re-arranged files in data/ to utilize this\n * changed configuration files to allow [/tagname] to end a tag instead of [end].\n   Added better error handling for bad configuration files\n * added utility make_translation which when run, will construct a\n   sample translation with all the strings that can be translated in it\n * removed Outrider's spear/charge attack and replaced it with a sword\n * added sorting to recall list\n\nVersion 0.4.1:\n * added music and sound support. The game has one song, provided by ZhayTee+.\n   Added some sample sounds for Elvish Fighter attacking\n * fixed up bug where if you loaded a mid-level game, and then saved\n   at the end of level, the save would be corrupt\n * fixed bug where the display mode would always be displayed as 'windowed'\n * make the game report an error message if switching between windowed/full screen fails\n * make the game handle switches between windowed and full screen even if exact colour depth can't be matched\n * arrow keys can now be used to maneuver menus, and enter can be used for 'ok and yes' in dialogs\n * fixed bug that caused a crash at the end of the tutorial\n * fixed bug where moving a unit along the border edges would go very slowly\n\nVersion 0.4:\n * fixed a bug with unit description images being messed up if you zoom in\n * fixed time to load a game\n * fixed missiles up to point in the correct direction\n * fixed naming of Shallow Water and Deep Water (used to be 'ocean' and 'coast'\n   and not internationalized properly)\n * removed bug where a dialog could overwrite part of the sidebar on the right\n * now you have to 'kill' Li'sar in scenario 6 before she'll surrender\n * added more cleaning in Makefile\n * use new dynamically generated buttons based\n * use anti-aliased fonts\n * addition of a multi-player mode that allows hot seat multiplayer games to be played\n * added button 'n' which takes you to the 'next' unmoved unit.\n   You can cycle through all your unmoved units by pressing 'n' repeatedly\n * added 'preferences' item in options menu.\n   The one preference at the moment is to be able to toggle between windowed\n   and full-screen from within the game\n * changed rectangle on the map of Wesnoth to cross\n * completed scenario 9\n * added gryphon rider unit and put them in scenario 9\n * added resistance tables and terrain movement and defense tables to 'unit description'\n * added unit descriptions to many more units\n * when a unit is recruited, it now fades in\n * AI leaders will now attack you if you move next to them\n * the ai now targets units that are close to advancing more,\n   and tries to protect and advance its own units better\n * mage's attack changed to 8-2\n * human fencer unit added\n * wraith's damage taken up from 7 to 8\n * changed movement of red mage, arch mage, and great mage from 7 to 6.\n   With teleporting, 7 movement is too powerful. May even reduce to 5 later\n\nVersion 0.3.4:\n * fixed display bug which kept the game from working on many machines\n * added Elvish Shaman and Druid units\n * added transperancy for some units\n * added undo and redo using the 'u' and 'r' keys\n * tweaked the 'valley of death' scenario\n * changed some unit values\n\nVersion 0.3.3:\n * fixed problem in scenario 2\n * implemented facing of units\n\nVersion 0.3.2:\n * incorrect references to images fixed\n * basic support for animated combats added\n * size of the energy bar scaled to the hitpoints a unit has\n\nVersion 0.3.1:\n * basic items support added\n * support for units to have different 'traits' added\n * combat is now animated\n * some redraw problems fixed\n * better interface design\n\nVersion 0.3:\n * many game rules changed/tweaked\n * speed improved\n * AI improved. (Although the AI sometimes does go a little slowly now)\n * new scenarios added\n * new unit types added\n * lots of tweaking, fixing of minor things\n\nVersion 0.2.1:\n * many redraw bugs fixed\n * new scenarios added\n * many new graphics added that were contributed by Paco\n * infinite recall bug fixed\n * recalling now costs 20 gold pieces. Gold from previous scenarios carries over,\n   and there is a bonus for finishing a scenario early\n * better transitions between tiles added (graphics for this not complete though)\n", "/*\n   Copyright (C) 2003 - 2015 by David White <dave@whitevine.net>\n   Part of the Battle for Wesnoth Project http://www.wesnoth.org/\n\n   This program is free software; you can redistribute it and/or modify\n   it under the terms of the GNU General Public License as published by\n   the Free Software Foundation; either version 2 of the License, or\n   (at your option) any later version.\n   This program is distributed in the hope that it will be useful,\n   but WITHOUT ANY WARRANTY.\n\n   See the COPYING file for more details.\n*/\n\n/**\n * @file\n * File-IO\n */\n\n#include \"global.hpp\"\n\n// Include files for opendir(3), readdir(3), etc.\n// These files may vary from platform to platform,\n// since these functions are NOT ANSI-conforming functions.\n// They may have to be altered to port to new platforms\n\n//for mkdir\n#include <sys/stat.h>\n\n#ifdef _WIN32\n#include \"filesystem_win32.ii\"\n#include <cctype>\n#else /* !_WIN32 */\n#include <unistd.h>\n#include <dirent.h>\n#include <libgen.h>\n#endif /* !_WIN32 */\n\n// for getenv\n#include <cerrno>\n#include <fstream>\n#include <iomanip>\n#include <set>\n#include <boost/algorithm/string.hpp>\n\n// for strerror\n#include <cstring>\n\n#include \"config.hpp\"\n#include \"filesystem.hpp\"\n#include \"game_config.hpp\"\n#include \"game_preferences.hpp\"\n#include \"log.hpp\"\n#include \"scoped_resource.hpp\"\n#include \"serialization/string_utils.hpp\"\n#include \"serialization/unicode.hpp\"\n#include \"version.hpp\"\n\n#include <boost/foreach.hpp>\n\nstatic lg::log_domain log_filesystem(\"filesystem\");\n#define DBG_FS LOG_STREAM(debug, log_filesystem)\n#define LOG_FS LOG_STREAM(info, log_filesystem)\n#define WRN_FS LOG_STREAM(warn, log_filesystem)\n#define ERR_FS LOG_STREAM(err, log_filesystem)\n\nnamespace {\n\tconst mode_t AccessMode = 00770;\n\n\t// These are the filenames that get special processing\n\tconst std::string maincfg_filename = \"_main.cfg\";\n\tconst std::string finalcfg_filename = \"_final.cfg\";\n\tconst std::string initialcfg_filename = \"_initial.cfg\";\n\n}\n\n#ifdef __APPLE__\n#include <CoreFoundation/CoreFoundation.h>\n#include <CoreFoundation/CFString.h>\n#include <CoreFoundation/CFBase.h>\n#endif\n\nnamespace filesystem {\n\nvoid get_files_in_dir(const std::string &directory,\n\t\t\t\t\t  std::vector<std::string>* files,\n\t\t\t\t\t  std::vector<std::string>* dirs,\n\t\t\t\t\t  file_name_option mode,\n\t\t\t\t\t  file_filter_option filter,\n\t\t\t\t\t  file_reorder_option reorder,\n\t\t\t\t\t  file_tree_checksum* checksum)\n{\n\t// If we have a path to find directories in,\n\t// then convert relative pathnames to be rooted\n\t// on the wesnoth path\n\tif(!directory.empty() && directory[0] != '/' && !game_config::path.empty()){\n\t\tstd::string dir = game_config::path + \"/\" + directory;\n\t\tif(is_directory(dir)) {\n\t\t\tget_files_in_dir(dir,files,dirs,mode,filter,reorder,checksum);\n\t\t\treturn;\n\t\t}\n\t}\n\n\tstruct stat st;\n\n\tif (reorder == DO_REORDER) {\n\t\tLOG_FS << \"searching for _main.cfg in directory \" << directory << '\\n';\n\t\tstd::string maincfg;\n\t\tif (directory.empty() || directory[directory.size()-1] == '/')\n\t\t\tmaincfg = directory + maincfg_filename;\n\t\telse\n\t\t\tmaincfg = (directory + \"/\") + maincfg_filename;\n\n\t\tif (::stat(maincfg.c_str(), &st) != -1) {\n\t\t\tLOG_FS << \"_main.cfg found : \" << maincfg << '\\n';\n\t\t\tif (files != NULL) {\n\t\t\t\tif (mode == ENTIRE_FILE_PATH)\n\t\t\t\t\tfiles->push_back(maincfg);\n\t\t\t\telse\n\t\t\t\t\tfiles->push_back(maincfg_filename);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\n\tDIR* dir = opendir(directory.c_str());\n\n\tif(dir == NULL) {\n\t\t// Probably not a directory, let the caller deal with it.\n\t\treturn;\n\t}\n\n\tstruct dirent* entry;\n\twhile((entry = readdir(dir)) != NULL) {\n\t\tif(entry->d_name[0] == '.')\n\t\t\tcontinue;\n#ifdef __APPLE__\n\t\t// HFS Mac OS X decomposes filenames using combining unicode characters.\n\t\t// Try to get the precomposed form.\n\t\tchar macname[MAXNAMLEN+1];\n\t\tCFStringRef cstr = CFStringCreateWithCString(NULL,\n\t\t\t\t\t\t\t entry->d_name,\n\t\t\t\t\t\t\t kCFStringEncodingUTF8);\n\t\tCFMutableStringRef mut_str = CFStringCreateMutableCopy(NULL,\n\t\t\t\t\t\t\t 0, cstr);\n\t\tCFStringNormalize(mut_str, kCFStringNormalizationFormC);\n\t\tCFStringGetCString(mut_str,\n\t\t\t\tmacname,sizeof(macname)-1,\n\t\t\t\tkCFStringEncodingUTF8);\n\t\tCFRelease(cstr);\n\t\tCFRelease(mut_str);\n\t\tconst std::string basename = macname;\n#else\n\t\t// generic Unix\n\t\tconst std::string basename = entry->d_name;\n#endif /* !APPLE */\n\n\t\tstd::string fullname;\n\t\tif (directory.empty() || directory[directory.size()-1] == '/')\n\t\t\tfullname = directory + basename;\n\t\telse\n\t\t\tfullname = directory + \"/\" + basename;\n\n\t\tif (::stat(fullname.c_str(), &st) != -1) {\n\t\t\tif (S_ISREG(st.st_mode)) {\n\t\t\t\tif(filter == SKIP_PBL_FILES && looks_like_pbl(basename)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (files != NULL) {\n\t\t\t\t\tif (mode == ENTIRE_FILE_PATH)\n\t\t\t\t\t\tfiles->push_back(fullname);\n\t\t\t\t\telse\n\t\t\t\t\t\tfiles->push_back(basename);\n\t\t\t\t}\n\t\t\t\tif (checksum != NULL) {\n\t\t\t\t\tif(st.st_mtime > checksum->modified) {\n\t\t\t\t\t\tchecksum->modified = st.st_mtime;\n\t\t\t\t\t}\n\t\t\t\t\tchecksum->sum_size += st.st_size;\n\t\t\t\t\tchecksum->nfiles++;\n\t\t\t\t}\n\t\t\t} else if (S_ISDIR(st.st_mode)) {\n\t\t\t\tif (filter == SKIP_MEDIA_DIR\n\t\t\t\t\t\t&& (basename == \"images\"|| basename == \"sounds\"))\n\t\t\t\t\tcontinue;\n\n\t\t\t\tif (reorder == DO_REORDER &&\n\t\t\t\t\t\t::stat((fullname+\"/\"+maincfg_filename).c_str(), &st)!=-1 &&\n\t\t\t\t\t\tS_ISREG(st.st_mode)) {\n\t\t\t\t\tLOG_FS << \"_main.cfg found : \";\n\t\t\t\t\tif (files != NULL) {\n\t\t\t\t\t\tif (mode == ENTIRE_FILE_PATH) {\n\t\t\t\t\t\t\tfiles->push_back(fullname + \"/\" + maincfg_filename);\n\t\t\t\t\t\t\tLOG_FS << fullname << \"/\" << maincfg_filename << '\\n';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfiles->push_back(basename + \"/\" + maincfg_filename);\n\t\t\t\t\t\t\tLOG_FS << basename << \"/\" << maincfg_filename << '\\n';\n\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t// Show what I consider strange\n\t\t\t\t\t\tLOG_FS << fullname << \"/\" << maincfg_filename << \" not used now but skip the directory \" << std::endl;\n\t\t\t\t\t}\n\t\t\t\t} else if (dirs != NULL) {\n\t\t\t\t\tif (mode == ENTIRE_FILE_PATH)\n\t\t\t\t\t\tdirs->push_back(fullname);\n\t\t\t\t\telse\n\t\t\t\t\t\tdirs->push_back(basename);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tclosedir(dir);\n\n\tif(files != NULL)\n\t\tstd::sort(files->begin(),files->end());\n\n\tif (dirs != NULL)\n\t\tstd::sort(dirs->begin(),dirs->end());\n\n\tif (files != NULL && reorder == DO_REORDER) {\n\t\t// move finalcfg_filename, if present, to the end of the vector\n\t\tfor (unsigned int i = 0; i < files->size(); i++) {\n\t\t\tif (ends_with((*files)[i], \"/\" + finalcfg_filename)) {\n\t\t\t\tfiles->push_back((*files)[i]);\n\t\t\t\tfiles->erase(files->begin()+i);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// move initialcfg_filename, if present, to the beginning of the vector\n\t\tunsigned int foundit = 0;\n\t\tfor (unsigned int i = 0; i < files->size(); i++)\n\t\t\tif (ends_with((*files)[i], \"/\" + initialcfg_filename)) {\n\t\t\t\tfoundit = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t// If _initial.cfg needs to be moved (it was found, but not at index 0).\n\t\tif (foundit > 0) {\n\t\t\tstd::string initialcfg = (*files)[foundit];\n\t\t\tfor (unsigned int i = foundit; i > 0; --i)\n\t\t\t\t(*files)[i] = (*files)[i-1];\n\t\t\t(*files)[0] = initialcfg;\n\t\t}\n\t}\n}\n\nstd::string get_next_filename(const std::string& name, const std::string& extension)\n{\n\tstd::string next_filename;\n\tint counter = 0;\n\n\tdo {\n\t\tstd::stringstream filename;\n\n\t\tfilename << name;\n\t\tfilename.width(3);\n\t\tfilename.fill('0');\n\t\tfilename.setf(std::ios_base::right);\n\t\tfilename << counter << extension;\n\t\tcounter++;\n\t\tnext_filename = filename.str();\n\t} while(file_exists(next_filename) && counter < 1000);\n\treturn next_filename;\n}\n\n\nstd::string get_dir(const std::string& dir_path)\n{\n\tDIR* dir = opendir(dir_path.c_str());\n\tif(dir == NULL) {\n\t\tconst int res = mkdir(dir_path.c_str(),AccessMode);\n\t\tif(res == 0) {\n\t\t\tdir = opendir(dir_path.c_str());\n\t\t} else {\n\t\t\tERR_FS << \"could not open or create directory: \" << dir_path << std::endl;\n\t\t}\n\t}\n\n\tif(dir == NULL)\n\t\treturn \"\";\n\n\tclosedir(dir);\n\n\treturn dir_path;\n}\n\nbool make_directory(const std::string& path)\n{\n\treturn (mkdir(path.c_str(),AccessMode) == 0);\n}\n\n// This deletes a directory with no hidden files and subdirectories.\n// Also deletes a single file.\nbool delete_directory(const std::string& path, const bool keep_pbl)\n{\n\tbool ret = true;\n\tstd::vector<std::string> files;\n\tstd::vector<std::string> dirs;\n\n\tget_files_in_dir(path, &files, &dirs, ENTIRE_FILE_PATH, keep_pbl ? SKIP_PBL_FILES : NO_FILTER);\n\n\tif(!files.empty()) {\n\t\tfor(std::vector<std::string>::const_iterator i = files.begin(); i != files.end(); ++i) {\n\t\t\terrno = 0;\n\t\t\tif(remove((*i).c_str()) != 0) {\n\t\t\t\tLOG_FS << \"remove(\" << (*i) << \"): \" << strerror(errno) << std::endl;\n\t\t\t\tret = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tif(!dirs.empty()) {\n\t\tfor(std::vector<std::string>::const_iterator j = dirs.begin(); j != dirs.end(); ++j) {\n\t\t\tif(!delete_directory(*j))\n\t\t\t\tret = false;\n\t\t}\n\t}\n\n\terrno = 0;\n#ifdef _WIN32\n\t// remove() doesn't delete directories on windows.\n\tint (*remove)(const char*);\n\tif(is_directory(path))\n\t\tremove = rmdir;\n\telse\n\t\tremove = ::remove;\n#endif\n\tif(remove(path.c_str()) != 0) {\n\t\tLOG_FS << \"remove(\" << path << \"): \" << strerror(errno) << std::endl;\n\t\tret = false;\n\t}\n\treturn ret;\n}\nbool delete_file(const std::string& path)\n{\n\tbool ret = true;\n\tif(remove(path.c_str()) != 0 && errno != ENOENT) {\n\t\tERR_FS << \"remove(\" << path << \"): \" << strerror(errno) << \"\\n\";\n\t\tret = false;\n\t}\n\treturn ret;\n}\n\nstd::string get_cwd()\n{\n\tchar buf[1024];\n\tconst char* const res = getcwd(buf,sizeof(buf));\n\tif(res != NULL) {\n\t\tstd::string str(res);\n\n#ifdef _WIN32\n\t\tstd::replace(str.begin(),str.end(),'\\\\','/');\n#endif\n\n\t\treturn str;\n\t} else {\n\t\treturn \"\";\n\t}\n}\n\nstd::string get_exe_dir()\n{\n#ifndef _WIN32\n\tchar buf[1024];\n\tsize_t path_size = readlink(\"/proc/self/exe\", buf, sizeof(buf)-1);\n\tif(path_size == static_cast<size_t>(-1))\n\t\treturn std::string();\n\tbuf[path_size] = 0;\n\treturn std::string(dirname(buf));\n#else\n\treturn get_cwd();\n#endif\n}\n\nbool create_directory_if_missing(const std::string& dirname)\n{\n\tif(is_directory(dirname)) {\n\t\tDBG_FS << \"directory \" << dirname << \" exists, not creating\" << std::endl;\n\t\treturn true;\n\t} else if(file_exists(dirname)) {\n\t\tERR_FS << \"cannot create directory \" << dirname << \"; file exists\" << std::endl;\n\t\treturn false;\n\t}\n\tDBG_FS << \"creating missing directory \" << dirname << '\\n';\n\treturn make_directory(dirname);\n}\nbool create_directory_if_missing_recursive(const std::string& dirname)\n{\n\tDBG_FS<<\"creating recursive directory: \"<<dirname<<'\\n';\n\tif (is_directory(dirname) == false && dirname.empty() == false)\n\t{\n\t\tstd::string tmp_dirname = dirname;\n\t\t// remove trailing slashes or backslashes\n\t\twhile ((tmp_dirname[tmp_dirname.size()-1] == '/' ||\n\t\t\t  tmp_dirname[tmp_dirname.size()-1] == '\\\\') &&\n\t\t\t  !tmp_dirname.empty())\n\t\t{\n\t\t\ttmp_dirname.erase(tmp_dirname.size()-1);\n\t\t}\n\n\t\t// create the first non-existing directory\n\t\tsize_t pos = tmp_dirname.rfind(\"/\");\n\n\t\t// we get the most right directory and *skip* it\n\t\t// we are creating it when we get back here\n\t\tif (tmp_dirname.rfind('\\\\') != std::string::npos &&\n\t\t\ttmp_dirname.rfind('\\\\') > pos )\n\t\t\tpos = tmp_dirname.rfind('\\\\');\n\n\t\tif (pos != std::string::npos)\n\t\t\tcreate_directory_if_missing_recursive(tmp_dirname.substr(0,pos));\n\n\t\treturn create_directory_if_missing(tmp_dirname);\n\t}\n\treturn create_directory_if_missing(dirname);\n}\n\nstatic std::string user_data_dir, user_config_dir, cache_dir;\n\nstatic void setup_user_data_dir();\n\n#ifndef _WIN32\nstatic const std::string& get_version_path_suffix()\n{\n\tstatic std::string suffix;\n\n\t// We only really need to generate this once since\n\t// the version number cannot change during runtime.\n\n\tif(suffix.empty()) {\n\t\tstd::ostringstream s;\n\t\ts << game_config::wesnoth_version.major_version() << '.'\n\t\t  << game_config::wesnoth_version.minor_version();\n\t\tsuffix = s.str();\n\t}\n\n\treturn suffix;\n}\n#endif\n\nvoid set_user_data_dir(std::string path)\n{\n#ifdef _WIN32\n\tif(path.empty()) {\n\t\tuser_data_dir = get_cwd() + \"/userdata\";\n\t} else if (path.size() > 2 && path[1] == ':') {\n\t\t//allow absolute path override\n\t\tuser_data_dir = path;\n\t} else {\n\t\ttypedef BOOL (WINAPI *SHGSFPAddress)(HWND, LPSTR, int, BOOL);\n\t\tSHGSFPAddress SHGetSpecialFolderPathA;\n\t\tHMODULE module = LoadLibraryA(\"shell32\");\n\t\tSHGetSpecialFolderPathA = reinterpret_cast<SHGSFPAddress>(GetProcAddress(module, \"SHGetSpecialFolderPathA\"));\n\t\tif(SHGetSpecialFolderPathA) {\n\t\t\tLOG_FS << \"Using SHGetSpecialFolderPath to find My Documents\" << std::endl;\n\t\t\tchar my_documents_path[MAX_PATH];\n\t\t\tif(SHGetSpecialFolderPathA(NULL, my_documents_path, 5, 1)) {\n\t\t\t\tstd::string mygames_path = std::string(my_documents_path) + \"/\" + \"My Games\";\n\t\t\t\tboost::algorithm::replace_all(mygames_path, std::string(\"\\\\\"), std::string(\"/\"));\n\t\t\t\tcreate_directory_if_missing(mygames_path);\n\t\t\t\tuser_data_dir = mygames_path + \"/\" + path;\n\t\t\t} else {\n\t\t\t\tWRN_FS << \"SHGetSpecialFolderPath failed\" << std::endl;\n\t\t\t\tuser_data_dir = get_cwd() + \"/\" + path;\n\t\t\t}\n\t\t} else {\n\t\t\tLOG_FS << \"Failed to load SHGetSpecialFolderPath function\" << std::endl;\n\t\t\tuser_data_dir = get_cwd() + \"/\" + path;\n\t\t}\n\t}\n\n#else /*_WIN32*/\n\n#ifdef PREFERENCES_DIR\n\tif (path.empty()) path = PREFERENCES_DIR;\n#endif\n\n\tstd::string path2 = \".wesnoth\" + get_version_path_suffix();\n\n#ifdef _X11\n\tconst char *home_str = getenv(\"HOME\");\n\n\tif (path.empty()) {\n\t\tchar const *xdg_data = getenv(\"XDG_DATA_HOME\");\n\t\tif (!xdg_data || xdg_data[0] == '\\0') {\n\t\t\tif (!home_str) {\n\t\t\t\tpath = path2;\n\t\t\t\tgoto other;\n\t\t\t}\n\t\t\tuser_data_dir = home_str;\n\t\t\tuser_data_dir += \"/.local/share\";\n\t\t} else user_data_dir = xdg_data;\n\t\tuser_data_dir += \"/wesnoth/\";\n\t\tuser_data_dir += get_version_path_suffix();\n\t\tcreate_directory_if_missing_recursive(user_data_dir);\n\t} else {\n\t\tother:\n\t\tstd::string home = home_str ? home_str : \".\";\n\n\t\tif (path[0] == '/')\n\t\t\tuser_data_dir = path;\n\t\telse\n\t\t\tuser_data_dir = home + \"/\" + path;\n\t}\n#else\n\tif (path.empty()) path = path2;\n\n\tconst char* home_str = getenv(\"HOME\");\n\tstd::string home = home_str ? home_str : \".\";\n\n\tif (path[0] == '/')\n\t\tuser_data_dir = path;\n\telse\n\t\tuser_data_dir = home + std::string(\"/\") + path;\n#endif\n\n#endif /*_WIN32*/\n\tsetup_user_data_dir();\n}\n\nvoid set_user_config_dir(std::string path)\n{\n\tuser_config_dir = path;\n\tcreate_directory_if_missing(user_config_dir);\n}\n\nstatic void setup_user_data_dir()\n{\n#ifdef _WIN32\n\t_mkdir(user_data_dir.c_str());\n\t_mkdir((user_data_dir + \"/editor\").c_str());\n\t_mkdir((user_data_dir + \"/editor/maps\").c_str());\n\t_mkdir((user_data_dir + \"/editor/scenarios\").c_str());\n\t_mkdir((user_data_dir + \"/data\").c_str());\n\t_mkdir((user_data_dir + \"/data/add-ons\").c_str());\n\t_mkdir((user_data_dir + \"/saves\").c_str());\n\t_mkdir((user_data_dir + \"/persist\").c_str());\n#else\n\tconst std::string& dir_path = user_data_dir;\n\n\tconst bool res = create_directory_if_missing(dir_path);\n\t// probe read permissions (if we could make the directory)\n\tDIR* const dir = res ? opendir(dir_path.c_str()) : NULL;\n\tif(dir == NULL) {\n\t\tERR_FS << \"could not open or create preferences directory at \" << dir_path << std::endl;\n\t\treturn;\n\t}\n\tclosedir(dir);\n\n\t// Create user data and add-on directories\n\tcreate_directory_if_missing(dir_path + \"/editor\");\n\tcreate_directory_if_missing(dir_path + \"/editor/maps\");\n\tcreate_directory_if_missing(dir_path + \"/editor/scenarios\");\n\tcreate_directory_if_missing(dir_path + \"/data\");\n\tcreate_directory_if_missing(dir_path + \"/data/add-ons\");\n\tcreate_directory_if_missing(dir_path + \"/saves\");\n\tcreate_directory_if_missing(dir_path + \"/persist\");\n#endif\n}\n\nstd::string get_user_data_dir()\n{\n\t// ensure setup gets called only once per session\n\t// FIXME: this is okay and optimized, but how should we react\n\t// if the user deletes a dir while we are running?\n\tif (user_data_dir.empty())\n\t{\n\t\tset_user_data_dir(std::string());\n\t}\n\treturn user_data_dir;\n}\n\nstd::string get_user_config_dir()\n{\n\tif (user_config_dir.empty())\n\t{\n#if defined(_X11) && !defined(PREFERENCES_DIR)\n\t\tchar const *xdg_config = getenv(\"XDG_CONFIG_HOME\");\n\t\tstd::string path;\n\t\tif (!xdg_config || xdg_config[0] == '\\0') {\n\t\t\txdg_config = getenv(\"HOME\");\n\t\t\tif (!xdg_config) {\n\t\t\t\tuser_config_dir = get_user_data_dir();\n\t\t\t\treturn user_config_dir;\n\t\t\t}\n\t\t\tpath = xdg_config;\n\t\t\tpath += \"/.config\";\n\t\t} else path = xdg_config;\n\t\tpath += \"/wesnoth\";\n\t\tset_user_config_dir(path);\n#else\n\t\tuser_config_dir = get_user_data_dir();\n#endif\n\t}\n\treturn user_config_dir;\n}\n\nstd::string get_cache_dir()\n{\n\tif (cache_dir.empty())\n\t{\n#if defined(_X11) && !defined(PREFERENCES_DIR)\n\t\tchar const *xdg_cache = getenv(\"XDG_CACHE_HOME\");\n\t\tif (!xdg_cache || xdg_cache[0] == '\\0') {\n\t\t\txdg_cache = getenv(\"HOME\");\n\t\t\tif (!xdg_cache) {\n\t\t\t\tcache_dir = get_dir(get_user_data_dir() + \"/cache\");\n\t\t\t\treturn cache_dir;\n\t\t\t}\n\t\t\tcache_dir = xdg_cache;\n\t\t\tcache_dir += \"/.cache\";\n\t\t} else cache_dir = xdg_cache;\n\t\tcache_dir += \"/wesnoth\";\n\t\tcreate_directory_if_missing_recursive(cache_dir);\n#else\n\t\tcache_dir = get_dir(get_user_data_dir() + \"/cache\");\n#endif\n\t}\n\treturn cache_dir;\n}\n\nstatic std::string read_stream(std::istream& s)\n{\n\tstd::stringstream ss;\n\tss << s.rdbuf();\n\treturn ss.str();\n}\n\nstd::istream *istream_file(const std::string &fname, bool treat_failure_as_error)\n{\n\tLOG_FS << \"Streaming \" << fname << \" for reading.\" << std::endl;\n\tif (fname.empty())\n\t{\n\t\tERR_FS << \"Trying to open file with empty name.\" << std::endl;\n\t\tstd::ifstream *s = new std::ifstream();\n\t\ts->clear(std::ios_base::failbit);\n\t\treturn s;\n\t}\n\n\tstd::ifstream *s = new std::ifstream(fname.c_str(),std::ios_base::binary);\n\tif (s->is_open()) {\n\t\treturn s;\n\t}\n\n\tif (treat_failure_as_error) {\n\t\tERR_FS << \"Could not open '\" << fname << \"' for reading.\" << std::endl;\n\t} else {\n\t\tLOG_FS << \"Could not open '\" << fname << \"' for reading.\" << std::endl;\n\t}\n\treturn s;\n}\n\nstd::string read_file(const std::string &fname)\n{\n\tscoped_istream s = istream_file(fname);\n\treturn read_stream(*s);\n}\n\nstd::ostream *ostream_file(std::string const &fname)\n{\n\tLOG_FS << \"streaming \" << fname << \" for writing.\" << std::endl;\n\treturn new std::ofstream(fname.c_str(), std::ios_base::binary);\n}\n\n// Throws io_exception if an error occurs\nvoid write_file(const std::string& fname, const std::string& data)\n{\n\t//const util::scoped_resource<FILE*,close_FILE> file(fopen(fname.c_str(),\"wb\"));\n\tconst util::scoped_FILE file(fopen(fname.c_str(),\"wb\"));\n\tif(file.get() == NULL) {\n\t\tthrow io_exception(\"Could not open file for writing: '\" + fname + \"'\");\n\t}\n\n\tconst size_t block_size = 4096;\n\tchar buf[block_size];\n\n\tfor(size_t i = 0; i < data.size(); i += block_size) {\n\t\tconst size_t bytes = std::min<size_t>(block_size,data.size() - i);\n\t\tstd::copy(data.begin() + i, data.begin() + i + bytes,buf);\n\t\tconst size_t res = fwrite(buf,1,bytes,file.get());\n\t\tif(res != bytes) {\n\t\t\tthrow io_exception(\"Error writing to file: '\" + fname + \"'\");\n\t\t}\n\t}\n}\n\nstatic bool is_directory_internal(const std::string& fname)\n{\n#ifdef _WIN32\n\t_finddata_t info;\n\tconst long handle = _findfirst((fname + \"/*\").c_str(),&info);\n\tif(handle >= 0) {\n\t\t_findclose(handle);\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n\n#else\n\tstruct stat dir_stat;\n\tif(::stat(fname.c_str(), &dir_stat) == -1) {\n\t\treturn false;\n\t}\n\treturn S_ISDIR(dir_stat.st_mode);\n#endif\n}\n\nbool is_directory(const std::string& fname)\n{\n\tif(fname.empty()) {\n\t\treturn false;\n\t}\n\tif(fname[0] != '/' && !game_config::path.empty()) {\n\t\tif(is_directory_internal(game_config::path + \"/\" + fname))\n\t\t\treturn true;\n\t}\n\n\treturn is_directory_internal(fname);\n}\n\nbool file_exists(const std::string& name)\n{\n#ifdef _WIN32\n       struct stat st;\n       return (::stat(name.c_str(), &st) == 0);\n#else\n\tstruct stat st;\n\treturn (::stat(name.c_str(), &st) != -1);\n#endif\n}\n\ntime_t file_modified_time(const std::string& fname)\n{\n\tstruct stat buf;\n\tif(::stat(fname.c_str(),&buf) == -1)\n\t\treturn 0;\n\n\treturn buf.st_mtime;\n}\n\n/**\n * Returns true if the file ends with '.gz'.\n *\n * @param filename                The name to test.\n */\nbool is_gzip_file(const std::string& filename)\n{\n\treturn (filename.length() > 3\n\t\t&& filename.substr(filename.length() - 3) == \".gz\");\n}\n\n/**\n * Returns true if the file ends with '.bz2'.\n *\n * @param filename                The name to test.\n */\nbool is_bzip2_file(const std::string& filename)\n{\n\treturn (filename.length() > 4\n\t\t&& filename.substr(filename.length() - 4) == \".bz2\");\n}\n\nint file_size(const std::string& fname)\n{\n\tstruct stat buf;\n\tif(::stat(fname.c_str(),&buf) == -1)\n\t\treturn -1;\n\n\treturn buf.st_size;\n}\n\nint dir_size(const std::string& path)\n{\n\tstd::vector<std::string> files, dirs;\n\tget_files_in_dir(path, &files, &dirs, ENTIRE_FILE_PATH);\n\n\tint res = 0;\n\n\tBOOST_FOREACH(const std::string& file_path, files)\n\t{\n\t\tres += file_size(file_path);\n\t}\n\n\tBOOST_FOREACH(const std::string& dir_path, dirs)\n\t{\n\t\t// FIXME: this could result in infinite recursion with symlinks!!\n\t\tres += dir_size(dir_path);\n\t}\n\n\treturn res;\n}\n\nstd::string base_name(const std::string& file)\n// Analogous to POSIX basename(3), but for C++ string-object pathnames\n{\n#ifdef _WIN32\n\tstatic const std::string dir_separators = \"\\\\/:\";\n#else\n\tstatic const std::string dir_separators = \"/\";\n#endif\n\n\tstd::string::size_type pos = file.find_last_of(dir_separators);\n\n\tif(pos == std::string::npos)\n\t\treturn file;\n\tif(pos >= file.size()-1)\n\t\treturn \"\";\n\n\treturn file.substr(pos+1);\n}\n\nstd::string directory_name(const std::string& file)\n// Analogous to POSIX dirname(3), but for C++ string-object pathnames\n{\n#ifdef _WIN32\n\tstatic const std::string dir_separators = \"\\\\/:\";\n#else\n\tstatic const std::string dir_separators = \"/\";\n#endif\n\n\tstd::string::size_type pos = file.find_last_of(dir_separators);\n\n\tif(pos == std::string::npos)\n\t\treturn \"\";\n\n\treturn file.substr(0,pos+1);\n}\n\nnamespace {\n\nstd::set<std::string> binary_paths;\n\ntypedef std::map<std::string,std::vector<std::string> > paths_map;\npaths_map binary_paths_cache;\n\n}\n\nstatic void init_binary_paths()\n{\n\tif(binary_paths.empty()) {\n\t\tbinary_paths.insert(\"\");\n\t}\n}\n\nbinary_paths_manager::binary_paths_manager() : paths_()\n{}\n\nbinary_paths_manager::binary_paths_manager(const config& cfg) : paths_()\n{\n\tset_paths(cfg);\n}\n\nbinary_paths_manager::~binary_paths_manager()\n{\n\tcleanup();\n}\n\nvoid binary_paths_manager::set_paths(const config& cfg)\n{\n\tcleanup();\n\tinit_binary_paths();\n\n\tBOOST_FOREACH(const config &bp, cfg.child_range(\"binary_path\"))\n\t{\n\t\tstd::string path = bp[\"path\"].str();\n\t\tif (path.find(\"..\") != std::string::npos) {\n\t\t\tERR_FS << \"Invalid binary path '\" << path << \"'\" << std::endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!path.empty() && path[path.size()-1] != '/') path += \"/\";\n\t\tif(binary_paths.count(path) == 0) {\n\t\t\tbinary_paths.insert(path);\n\t\t\tpaths_.push_back(path);\n\t\t}\n\t}\n}\n\nvoid binary_paths_manager::cleanup()\n{\n\tbinary_paths_cache.clear();\n\n\tfor(std::vector<std::string>::const_iterator i = paths_.begin(); i != paths_.end(); ++i) {\n\t\tbinary_paths.erase(*i);\n\t}\n}\n\nvoid clear_binary_paths_cache()\n{\n\tbinary_paths_cache.clear();\n}\n\nconst std::vector<std::string>& get_binary_paths(const std::string& type)\n{\n\tconst paths_map::const_iterator itor = binary_paths_cache.find(type);\n\tif(itor != binary_paths_cache.end()) {\n\t\treturn itor->second;\n\t}\n\n\tif (type.find(\"..\") != std::string::npos) {\n\t\t// Not an assertion, as language.cpp is passing user data as type.\n\t\tERR_FS << \"Invalid WML type '\" << type << \"' for binary paths\" << std::endl;\n\t\tstatic std::vector<std::string> dummy;\n\t\treturn dummy;\n\t}\n\n\tstd::vector<std::string>& res = binary_paths_cache[type];\n\n\tinit_binary_paths();\n\n\tBOOST_FOREACH(const std::string &path, binary_paths)\n\t{\n\t\tres.push_back(get_user_data_dir() + \"/\" + path + type + \"/\");\n\n\t\tif(!game_config::path.empty()) {\n\t\t\tres.push_back(game_config::path + \"/\" + path + type + \"/\");\n\t\t}\n\t}\n\n\t// not found in \"/type\" directory, try main directory\n\tres.push_back(get_user_data_dir() + \"/\");\n\n\tif(!game_config::path.empty())\n\t\tres.push_back(game_config::path+\"/\");\n\n\treturn res;\n}\n\nstd::string get_binary_file_location(const std::string& type, const std::string& filename)\n{\n\tDBG_FS << \"Looking for '\" << filename << \"'.\" << std::endl;\n\n\tif (filename.empty()) {\n\t\tLOG_FS << \"  invalid filename (type: \" << type <<\")\" << std::endl;\n\t\treturn std::string();\n\t}\n\n\t// Some parts of Wesnoth enjoy putting \"..\" inside filenames. This is\n\t// bad and should be fixed. But in the meantime, deal with them in a dumb way.\n\tstd::string::size_type pos = filename.rfind(\"../\");\n\tif (pos != std::string::npos) {\n\t\tstd::string nf = filename.substr(pos + 3);\n\t\tLOG_FS << \"Illegal path '\" << filename << \"' replaced by '\" << nf << \"'\" << std::endl;\n\t\treturn get_binary_file_location(type, nf);\n\t}\n\n\tif (filename.find(\"..\") != std::string::npos) {\n\t\tERR_FS << \"Illegal path '\" << filename << \"' (\\\"..\\\" not allowed).\" << std::endl;\n\t\treturn std::string();\n\t}\n\n\tBOOST_FOREACH(const std::string &path, get_binary_paths(type))\n\t{\n\t\tconst std::string file = path + filename;\n\t\tDBG_FS << \"  checking '\" << path << \"'\" << std::endl;\n\t\tif(file_exists(file)) {\n\t\t\tDBG_FS << \"  found at '\" << file << \"'\" << std::endl;\n\t\t\treturn file;\n\t\t}\n\t}\n\n\tDBG_FS << \"  not found\" << std::endl;\n\treturn std::string();\n}\n\nstd::string get_binary_dir_location(const std::string &type, const std::string &filename)\n{\n\tDBG_FS << \"Looking for '\" << filename << \"'.\" << std::endl;\n\n\tif (filename.empty()) {\n\t\tLOG_FS << \"  invalid filename (type: \" << type <<\")\" << std::endl;\n\t\treturn std::string();\n\t}\n\n\tif (filename.find(\"..\") != std::string::npos) {\n\t\tERR_FS << \"Illegal path '\" << filename << \"' (\\\"..\\\" not allowed).\" << std::endl;\n\t\treturn std::string();\n\t}\n\n\tBOOST_FOREACH(const std::string &path, get_binary_paths(type))\n\t{\n\t\tconst std::string file = path + filename;\n\t\tDBG_FS << \"  checking '\" << path << \"'\" << std::endl;\n\t\tif (is_directory(file)) {\n\t\t\tDBG_FS << \"  found at '\" << file << \"'\" << std::endl;\n\t\t\treturn file;\n\t\t}\n\t}\n\n\tDBG_FS << \"  not found\" << std::endl;\n\treturn std::string();\n}\n\nstd::string get_wml_location(const std::string &filename, const std::string &current_dir)\n{\n\tDBG_FS << \"Looking for '\" << filename << \"'.\" << std::endl;\n\n\tassert(game_config::path.empty() == false);\n\n\tstd::string result;\n\n\tif (filename.empty()) {\n\t\tLOG_FS << \"  invalid filename\" << std::endl;\n\t\treturn result;\n\t}\n\n\tif (filename.find(\"..\") != std::string::npos) {\n\t\tERR_FS << \"Illegal path '\" << filename << \"' (\\\"..\\\" not allowed).\" << std::endl;\n\t\treturn result;\n\t}\n\n\tbool already_found = false;\n\n\tif (filename[0] == '~')\n\t{\n\t\t// If the filename starts with '~', look in the user data directory.\n\t\tresult = get_user_data_dir() + \"/data/\" + filename.substr(1);\n\t\tDBG_FS << \"  trying '\" << result << \"'\" << std::endl;\n\n\t\talready_found = file_exists(result) || is_directory(result);\n\t}\n\telse if (filename.size() >= 2 && filename[0] == '.' && filename[1] == '/')\n\t{\n\t\t// If the filename begins with a \"./\", look in the same directory\n\t\t// as the file currently being preprocessed.\n\n\t\tif (!current_dir.empty())\n\t\t{\n\t\t\tresult = current_dir;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresult = game_config::path;\n\t\t}\n\n\t\tresult += filename.substr(2);\n\t}\n\telse if (!game_config::path.empty())\n\t\tresult = game_config::path + \"/data/\" + filename;\n\n\tDBG_FS << \"  trying '\" << result << \"'\" << std::endl;\n\n\tif (result.empty() ||\n\t    (!already_found && !file_exists(result) && !is_directory(result)))\n\t{\n\t\tDBG_FS << \"  not found\" << std::endl;\n\t\tresult.clear();\n\t}\n\telse\n\t\tDBG_FS << \"  found: '\" << result << \"'\" << std::endl;\n\n\treturn result;\n}\n\nstd::string get_short_wml_path(const std::string &filename)\n{\n\tstd::string match = get_user_data_dir() + \"/data/\";\n\tif (filename.find(match) == 0) {\n\t\treturn \"~\" + filename.substr(match.size());\n\t}\n\tmatch = game_config::path + \"/data/\";\n\tif (filename.find(match) == 0) {\n\t\treturn filename.substr(match.size());\n\t}\n\treturn filename;\n}\n\nstd::string get_independent_image_path(const std::string &filename)\n{\n\tstd::string full_path = get_binary_file_location(\"images\", filename);\n\n\tif(!full_path.empty()) {\n\t\tstd::string match = get_user_data_dir() + \"/\";\n\t\tif(full_path.find(match) == 0) {\n\t\t\treturn full_path.substr(match.size());\n\t\t}\n\t\tmatch = game_config::path + \"/\";\n\t\tif(full_path.find(match) == 0) {\n\t\t\treturn full_path.substr(match.size());\n\t\t}\n\t}\n\n\treturn full_path;\n}\n\nstd::string get_program_invocation(const std::string& program_name) {\n#ifdef DEBUG\n  #ifdef _WIN32\n\tconst char *program_suffix = \"-debug.exe\";\n  #else\n\tconst char *program_suffix = \"-debug\";\n  #endif\n#else\n  #ifdef _WIN32\n\tconst char *program_suffix = \".exe\";\n  #else\n\tconst char *program_suffix = \"\";\n  #endif\n#endif\n\n\tconst std::string real_program_name(program_name + program_suffix);\n\tif(game_config::wesnoth_program_dir.empty()) return real_program_name;\n#ifdef _WIN32\n\treturn game_config::wesnoth_program_dir + \"\\\\\" + real_program_name;\n#else\n\treturn game_config::wesnoth_program_dir + \"/\" + real_program_name;\n#endif\n}\n\nbool is_path_sep(char c)\n{\n#ifdef _WIN32\n\tif (c == '/' || c == '\\\\') return true;\n#else\n\tif (c == '/') return true;\n#endif\n\treturn false;\n}\n\nstd::string normalize_path(const std::string &p1)\n{\n\tif (p1.empty()) return p1;\n\n\tstd::string p2;\n#ifdef _WIN32\n\tif (p1.size() >= 2 && p1[1] == ':')\n\t\t// Windows relative paths with explicit drive name are not handled.\n\t\tp2 = p1;\n\telse\n#endif\n\tif (!is_path_sep(p1[0]))\n\t\tp2 = get_cwd() + \"/\" + p1;\n\telse\n\t\tp2 = p1;\n\n#ifdef _WIN32\n\tstd::string drive;\n\tif (p2.size() >= 2 && p2[1] == ':') {\n\t\tdrive = p2.substr(0, 2);\n\t\tp2.erase(0, 2);\n\t}\n#endif\n\n\tstd::vector<std::string> components(1);\n\tfor (int i = 0, i_end = p2.size(); i <= i_end; ++i)\n\t{\n\t\tstd::string &last = components[components.size() - 1];\n\t\tchar c = p2.c_str()[i];\n\t\tif (is_path_sep(c) || c == 0)\n\t\t{\n\t\t\tif (last == \".\")\n\t\t\t\tlast.clear();\n\t\t\telse if (last == \"..\")\n\t\t\t{\n\t\t\t\tif (components.size() >= 2) {\n\t\t\t\t\tcomponents.pop_back();\n\t\t\t\t\tcomponents[components.size() - 1].clear();\n\t\t\t\t} else\n\t\t\t\t\tlast.clear();\n\t\t\t}\n\t\t\telse if (!last.empty())\n\t\t\t\tcomponents.push_back(std::string());\n\t\t}\n\t\telse\n\t\t\tlast += c;\n\t}\n\n\tstd::ostringstream p4;\n\tcomponents.pop_back();\n\n#ifdef _WIN32\n\tp4 << drive;\n#endif\n\n\tBOOST_FOREACH(const std::string &s, components)\n\t{\n\t\tp4 << '/' << s;\n\t}\n\n\tDBG_FS << \"Normalizing '\" << p2 << \"' to '\" << p4.str() << \"'\" << std::endl;\n\n\treturn p4.str();\n}\n\n}\n", "/* $Id$ */\n/*\n   Copyright (C) 2003 - 2012 by David White <dave@whitevine.net>\n   Part of the Battle for Wesnoth Project http://www.wesnoth.org/\n\n   This program is free software; you can redistribute it and/or modify\n   it under the terms of the GNU General Public License as published by\n   the Free Software Foundation; either version 2 of the License, or\n   (at your option) any later version.\n   This program is distributed in the hope that it will be useful,\n   but WITHOUT ANY WARRANTY.\n\n   See the COPYING file for more details.\n*/\n\n/**\n * @file\n * File-IO\n */\n\n#include \"global.hpp\"\n\n#include \"filesystem.hpp\"\n#include \"serialization/unicode.hpp\"\n\n#include <boost/filesystem.hpp>\n#include <boost/filesystem/fstream.hpp>\n#include <boost/foreach.hpp>\n#include <boost/system/windows_error.hpp>\n#include <boost/iostreams/device/file_descriptor.hpp>\n#include <boost/iostreams/stream.hpp>\n#include <set>\n\nusing boost::uintmax_t;\n\n#ifdef _WIN32\n#include <boost/locale.hpp>\n#include <windows.h>\n#endif /* !_WIN32 */\n\n#include \"config.hpp\"\n#include \"game_config.hpp\"\n#include \"log.hpp\"\n#include \"util.hpp\"\n#include \"version.hpp\"\n\nstatic lg::log_domain log_filesystem(\"filesystem\");\n#define DBG_FS LOG_STREAM(debug, log_filesystem)\n#define LOG_FS LOG_STREAM(info, log_filesystem)\n#define WRN_FS LOG_STREAM(warn, log_filesystem)\n#define ERR_FS LOG_STREAM(err, log_filesystem)\n\nnamespace bfs = boost::filesystem;\nusing boost::filesystem::path;\nusing boost::system::error_code;\n\nnamespace {\n\t// These are the filenames that get special processing\n\tconst std::string maincfg_filename = \"_main.cfg\";\n\tconst std::string finalcfg_filename = \"_final.cfg\";\n\tconst std::string initialcfg_filename = \"_initial.cfg\";\n}\nnamespace {\n\t//only used by windows but put outside the ifdef to let it check by ci build.\n\tclass customcodecvt : public std::codecvt<wchar_t /*intern*/, char /*extern*/, std::mbstate_t>\n\t{\n\tprivate:\n\t\t//private static helper things\n\t\ttemplate<typename char_t_to>\n\t\tstruct customcodecvt_do_conversion_writer\n\t\t{\n\t\t\tcustomcodecvt_do_conversion_writer(char_t_to*& _to_next, char_t_to* _to_end) :\n\t\t\t\tto_next(_to_next),\n\t\t\t\tto_end(_to_end)\n\t\t\t{}\n\t\t\tchar_t_to*& to_next;\n\t\t\tchar_t_to* to_end;\n\n\t\t\tbool can_push(size_t count)\n\t\t\t{\n\t\t\t\treturn static_cast<size_t>(to_end - to_next) > count;\n\t\t\t}\n\n\t\t\tvoid push(char_t_to val)\n\t\t\t{\n\t\t\t\tassert(to_next != to_end);\n\t\t\t\t*to_next++  = val;\n\t\t\t}\n\t\t};\n\n\t\ttemplate<typename char_t_from , typename char_t_to>\n\t\tstatic void customcodecvt_do_conversion( std::mbstate_t& /*state*/,\n\t\t\tconst char_t_from* from,\n\t\t\tconst char_t_from* from_end,\n\t\t\tconst char_t_from*& from_next,\n\t\t\tchar_t_to* to,\n\t\t\tchar_t_to* to_end,\n\t\t\tchar_t_to*& to_next )\n\t\t{\n\t\t\ttypedef typename ucs4_convert_impl::convert_impl<char_t_from>::type impl_type_from;\n\t\t\ttypedef typename ucs4_convert_impl::convert_impl<char_t_to>::type impl_type_to;\n\n\t\t\tfrom_next = from;\n\t\t\tto_next = to;\n\t\t\tcustomcodecvt_do_conversion_writer<char_t_to> writer(to_next, to_end);\n\t\t\twhile(from_next != from_end)\n\t\t\t{\n\t\t\t\timpl_type_to::write(writer, impl_type_from::read(from_next, from_end));\n\t\t\t}\n\t\t}\n\n\tpublic:\n\n\t\t//Not used by boost filesystem\n\t\tint do_encoding() const throw() { return 0; }\n\t\t//Not used by boost filesystem\n\t\tbool do_always_noconv() const throw() { return false; }\n\t\tint do_length( std::mbstate_t& /*state*/,\n\t\t\tconst char* /*from*/,\n\t\t\tconst char* /*from_end*/,\n\t\t\tstd::size_t /*max*/ ) const\n\t\t{\n\t\t\t//Not used by boost filesystem\n\t\t\tthrow \"Not supported\";\n\t\t}\n\n\t\tstd::codecvt_base::result unshift( std::mbstate_t& /*state*/,\n\t\t\tchar* /*to*/,\n\t\t\tchar* /*to_end*/,\n\t\t\tchar*& /*to_next*/) const\n\t\t{\n\t\t\t//Not used by boost filesystem\n\t\t\tthrow \"Not supported\";\n\t\t}\n\n\t\t//there are still some methods which could be implemented but arent because boost filesystem won't use them.\n\t\tstd::codecvt_base::result do_in( std::mbstate_t& state,\n\t\t\tconst char* from,\n\t\t\tconst char* from_end,\n\t\t\tconst char*& from_next,\n\t\t\twchar_t* to,\n\t\t\twchar_t* to_end,\n\t\t\twchar_t*& to_next ) const\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tcustomcodecvt_do_conversion<char, wchar_t>(state, from, from_end, from_next, to, to_end, to_next);\n\t\t\t}\n\t\t\tcatch(...)\n\t\t\t{\n\t\t\t\tERR_FS << \"Invalid UTF-8 string'\" << std::string(from, from_end) << \"' \" << std::endl;\n\t\t\t\treturn std::codecvt_base::error;\n\t\t\t}\n\t\t\treturn std::codecvt_base::ok;\n\t\t}\n\n\t\tstd::codecvt_base::result do_out( std::mbstate_t& state,\n\t\t\tconst wchar_t* from,\n\t\t\tconst wchar_t* from_end,\n\t\t\tconst wchar_t*& from_next,\n\t\t\tchar* to,\n\t\t\tchar* to_end,\n\t\t\tchar*& to_next ) const\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tcustomcodecvt_do_conversion<wchar_t, char>(state, from, from_end, from_next, to, to_end, to_next);\n\t\t\t}\n\t\t\tcatch(...)\n\t\t\t{\n\t\t\t\tERR_FS << \"Invalid UTF-16 string\" << std::endl;\n\t\t\t\treturn std::codecvt_base::error;\t\n\t\t\t}\n\t\t\treturn std::codecvt_base::ok;\n\t\t}\n\t};\n\t\n#ifdef _WIN32\n\tclass static_runner {\n\tpublic:\n\t\tstatic_runner() {\n\t\t\t// Boost uses the current locale to generate a UTF-8 one\n\t\t\tstd::locale utf8_loc = boost::locale::generator().generate(\"\");\n\t\t\t// use a custom locale becasue we want to use out log.hpp functions in case of an invalid string.\n\t\t\tutf8_loc = std::locale(utf8_loc, new customcodecvt());\n\t\t\tboost::filesystem::path::imbue(utf8_loc);\n\t\t}\n\t};\n\n\tstatic static_runner static_bfs_path_imbuer;\n#endif\n}\n\n\nnamespace filesystem {\n\nstatic void push_if_exists(std::vector<std::string> *vec, const path &file, bool full) {\n\tif (vec != NULL) {\n\t\tif (full)\n\t\t\tvec->push_back(file.generic_string());\n\t\telse\n\t\t\tvec->push_back(file.filename().generic_string());\n\t}\n}\n\nstatic inline bool error_except_not_found(const error_code &ec)\n{\n\treturn (ec\n\t\t&& ec.value() != boost::system::errc::no_such_file_or_directory\n#ifdef _WIN32\n\t\t&& ec.value() != boost::system::windows_error::path_not_found\n#endif /*_WIN32*/\n\t\t);\n}\n\nstatic bool is_directory_internal(const path &fpath)\n{\n\terror_code ec;\n\tbool is_dir = bfs::is_directory(fpath, ec);\n\tif (error_except_not_found(ec)) {\n\t\tLOG_FS << \"Failed to check if \" << fpath.string() << \" is a directory: \" << ec.message() << '\\n';\n\t}\n\treturn is_dir;\n}\n\nstatic bool file_exists(const path &fpath)\n{\n\terror_code ec;\n\tbool exists = bfs::exists(fpath, ec);\n\tif (error_except_not_found(ec)) {\n\t\tERR_FS << \"Failed to check existence of file \" << fpath.string() << \": \" << ec.message() << '\\n';\n\t}\n\treturn exists;\n}\nstatic path get_dir(const path &dirpath)\n{\n\tbool is_dir = is_directory_internal(dirpath);\n\tif (!is_dir) {\n\t\terror_code ec;\n\t\tbfs::create_directory(dirpath, ec);\n\t\tif (ec) {\n\t\t\tERR_FS << \"Failed to create directory \" << dirpath.string() << \": \" << ec.message() << '\\n';\n\t\t}\n\t\t// This is probably redundant\n\t\tis_dir = is_directory_internal(dirpath);\n\t}\n\tif (!is_dir) {\n\t\tERR_FS << \"Could not open or create directory \" << dirpath.string() << '\\n';\n\t\treturn std::string();\n\t}\n\n\treturn dirpath;\n}\nstatic bool create_directory_if_missing(const path &dirpath)\n{\n\terror_code ec;\n\tbfs::file_status fs = bfs::status(dirpath, ec);\n\tif (error_except_not_found(ec)) {\n\t\tERR_FS << \"Failed to retrieve file status for \" << dirpath.string() << \": \" << ec.message() << '\\n';\n\t\treturn false;\n\t} else if (bfs::is_directory(fs)) {\n\t\tDBG_FS << \"directory \" << dirpath.string() << \" exists, not creating\\n\";\n\t\treturn true;\n\t} else if (bfs::exists(fs)) {\n\t\tERR_FS << \"cannot create directory \" << dirpath.string() << \"; file exists\\n\";\n\t\treturn false;\n\t}\n\n\tbool created = bfs::create_directory(dirpath, ec);\n\tif (ec) {\n\t\tERR_FS << \"Failed to create directory \" << dirpath.string() << \": \" << ec.message() << '\\n';\n\t}\n\treturn created;\n}\nstatic bool create_directory_if_missing_recursive(const path& dirpath)\n{\n\tDBG_FS << \"creating recursive directory: \" << dirpath.string() << '\\n';\n\n\tif (dirpath.empty())\n\t\treturn false;\n\terror_code ec;\n\tbfs::file_status fs = bfs::status(dirpath);\n\tif (error_except_not_found(ec)) {\n\t\tERR_FS << \"Failed to retrieve file status for \" << dirpath.string() << \": \" << ec.message() << '\\n';\n\t\treturn false;\n\t} else if (bfs::is_directory(fs)) {\n\t\treturn true;\n\t} else if (bfs::exists(fs)) {\n\t\treturn false;\n\t}\n\n\tif (!dirpath.has_parent_path() || create_directory_if_missing_recursive(dirpath.parent_path())) {\n\t\treturn create_directory_if_missing(dirpath);\n\t} else {\n\t\tERR_FS << \"Could not create parents to \" << dirpath.string() << '\\n';\n\t\treturn false;\n\t}\n}\n\nvoid get_files_in_dir(const std::string &dir,\n                      std::vector<std::string>* files,\n                      std::vector<std::string>* dirs,\n                      file_name_option mode,\n                      file_filter_option filter,\n                      file_reorder_option reorder,\n                      file_tree_checksum* checksum) {\n\tif(path(dir).is_relative() && !game_config::path.empty()) {\n\t\tpath absolute_dir(game_config::path);\n\t\tabsolute_dir /= dir;\n\t\tif(is_directory_internal(absolute_dir)) {\n\t\t\tget_files_in_dir(absolute_dir.string(), files, dirs, mode, filter, reorder, checksum);\n\t\t\treturn;\n\t\t}\n\t}\n\n\tconst path dirpath(dir);\n\n\tif (reorder == DO_REORDER) {\n\t\tLOG_FS << \"searching for _main.cfg in directory \" << dir << '\\n';\n\t\tconst path maincfg = dirpath / maincfg_filename;\n\n\t\tif (file_exists(maincfg)) {\n\t\t\tLOG_FS << \"_main.cfg found : \" << maincfg << '\\n';\n\t\t\tpush_if_exists(files, maincfg, mode == ENTIRE_FILE_PATH);\n\t\t\treturn;\n\t\t}\n\t}\n\n\terror_code ec;\n\tbfs::directory_iterator di(dirpath, ec);\n\tbfs::directory_iterator end;\n\tif (ec) {\n\t\t// Probably not a directory, let the caller deal with it.\n\t\treturn;\n\t}\n\tfor(; di != end; ++di) {\n\t\tbfs::file_status st = di->status(ec);\n\t\tif (ec) {\n\t\t\tLOG_FS << \"Failed to get file status of \" << di->path().string() << \": \" << ec.message() << '\\n';\n\t\t\tcontinue;\n\t\t}\n\t\tif (st.type() == bfs::regular_file) {\n\t\t\t{\n\t\t\t\tstd::string basename = di->path().filename().string();\n\t\t\t\tif (filter == SKIP_PBL_FILES && looks_like_pbl(basename))\n\t\t\t\t\tcontinue;\n\t\t\t\tif(!basename.empty() && basename[0] == '.' )\n\t\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tpush_if_exists(files, di->path(), mode == ENTIRE_FILE_PATH);\n\n\t\t\tif (checksum != NULL) {\n\t\t\t\tstd::time_t mtime = bfs::last_write_time(di->path(), ec);\n\t\t\t\tif (ec) {\n\t\t\t\t\tLOG_FS << \"Failed to read modification time of \" << di->path().string() << \": \" << ec.message() << '\\n';\n\t\t\t\t} else if (mtime > checksum->modified) {\n\t\t\t\t\tchecksum->modified = mtime;\n\t\t\t\t}\n\n\t\t\t\tuintmax_t size = bfs::file_size(di->path(), ec);\n\t\t\t\tif (ec) {\n\t\t\t\t\tLOG_FS << \"Failed to read filesize of \" << di->path().string() << \": \" << ec.message() << '\\n';\n\t\t\t\t} else {\n\t\t\t\t\tchecksum->sum_size += size;\n\t\t\t\t}\n\t\t\t\tchecksum->nfiles++;\n\t\t\t}\n\t\t} else if (st.type() == bfs::directory_file) {\n\t\t\tstd::string basename = di->path().filename().string();\n\t\t\t\n\t\t\tif(!basename.empty() && basename[0] == '.' )\n\t\t\t\tcontinue;\n\t\t\tif (filter == SKIP_MEDIA_DIR\n\t\t\t\t&& (basename == \"images\" || basename == \"sounds\"))\n\t\t\t\tcontinue;\n\n\t\t\tconst path inner_main(di->path() / maincfg_filename);\n\t\t\tbfs::file_status main_st = bfs::status(inner_main, ec);\n\t\t\tif (error_except_not_found(ec)) {\n\t\t\t\tLOG_FS << \"Failed to get file status of \" << inner_main.string() << \": \" << ec.message() << '\\n';\n\t\t\t} else if (reorder == DO_REORDER && main_st.type() == bfs::regular_file) {\n\t\t\t\tLOG_FS << \"_main.cfg found : \" << (mode == ENTIRE_FILE_PATH ? inner_main.string() : inner_main.filename().string()) << '\\n';\n\t\t\t\tpush_if_exists(files, inner_main, mode == ENTIRE_FILE_PATH);\n\t\t\t} else {\n\t\t\t\tpush_if_exists(dirs, di->path(), mode == ENTIRE_FILE_PATH);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (files != NULL)\n\t\tstd::sort(files->begin(),files->end());\n\n\tif (dirs != NULL)\n\t\tstd::sort(dirs->begin(),dirs->end());\n\n\tif (files != NULL && reorder == DO_REORDER) {\n\t\t// move finalcfg_filename, if present, to the end of the vector\n\t\tfor (unsigned int i = 0; i < files->size(); i++) {\n\t\t\tif (ends_with((*files)[i], \"/\" + finalcfg_filename)) {\n\t\t\t\tfiles->push_back((*files)[i]);\n\t\t\t\tfiles->erase(files->begin()+i);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// move initialcfg_filename, if present, to the beginning of the vector\n\t\tint foundit = -1;\n\t\tfor (unsigned int i = 0; i < files->size(); i++)\n\t\t\tif (ends_with((*files)[i], \"/\" + initialcfg_filename)) {\n\t\t\t\tfoundit = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\tif (foundit > 0) {\n\t\t\tstd::string initialcfg = (*files)[foundit];\n\t\t\tfor (unsigned int i = foundit; i > 0; i--)\n\t\t\t\t(*files)[i] = (*files)[i-1];\n\t\t\t(*files)[0] = initialcfg;\n\t\t}\n\t}\n}\n\nstd::string get_dir(const std::string &dir)\n{\n\treturn get_dir(path(dir)).string();\n}\n\nstd::string get_next_filename(const std::string& name, const std::string& extension)\n{\n\tstd::string next_filename;\n\tint counter = 0;\n\n\tdo {\n\t\tstd::stringstream filename;\n\n\t\tfilename << name;\n\t\tfilename.width(3);\n\t\tfilename.fill('0');\n\t\tfilename.setf(std::ios_base::right);\n\t\tfilename << counter << extension;\n\t\tcounter++;\n\t\tnext_filename = filename.str();\n\t} while(file_exists(next_filename) && counter < 1000);\n\treturn next_filename;\n}\n\nstatic path user_data_dir, user_config_dir, cache_dir;\n\n#ifndef _WIN32\nstatic const std::string& get_version_path_suffix()\n{\n\tstatic std::string suffix;\n\n\t// We only really need to generate this once since\n\t// the version number cannot change during runtime.\n\n\tif(suffix.empty()) {\n\t\tstd::ostringstream s;\n\t\ts << game_config::wesnoth_version.major_version() << '.'\n\t\t  << game_config::wesnoth_version.minor_version();\n\t\tsuffix = s.str();\n\t}\n\n\treturn suffix;\n}\n#endif\n\nstatic void setup_user_data_dir()\n{\n\tif (!create_directory_if_missing_recursive(user_data_dir)) {\n\t\tERR_FS << \"could not open or create user data directory at \" << user_data_dir.string() << '\\n';\n\t\treturn;\n\t}\n\t// TODO: this may not print the error message if the directory exists but we don't have the proper permissions\n\n\t// Create user data and add-on directories\n\tcreate_directory_if_missing(user_data_dir / \"editor\");\n\tcreate_directory_if_missing(user_data_dir / \"editor\" / \"maps\");\n\tcreate_directory_if_missing(user_data_dir / \"editor\" / \"scenarios\");\n\tcreate_directory_if_missing(user_data_dir / \"data\");\n\tcreate_directory_if_missing(user_data_dir / \"data\" / \"add-ons\");\n\tcreate_directory_if_missing(user_data_dir / \"saves\");\n\tcreate_directory_if_missing(user_data_dir / \"persist\");\n}\nvoid set_user_data_dir(std::string newprefdir)\n{\n#ifdef _WIN32\n\tif(newprefdir.empty()) {\n\t\tuser_data_dir = path(get_cwd()) / \"userdata\";\n\t} else if (newprefdir.size() > 2 && newprefdir[1] == ':') {\n\t\t//allow absolute path override\n\t\tuser_data_dir = newprefdir;\n\t} else {\n\t\ttypedef BOOL (WINAPI *SHGSFPAddress)(HWND, LPWSTR, int, BOOL);\n\t\tSHGSFPAddress SHGetSpecialFolderPathW;\n\t\tHMODULE module = LoadLibraryA(\"shell32\");\n\t\tSHGetSpecialFolderPathW = reinterpret_cast<SHGSFPAddress>(GetProcAddress(module, \"SHGetSpecialFolderPathW\"));\n\t\tif(SHGetSpecialFolderPathW) {\n\t\t\tLOG_FS << \"Using SHGetSpecialFolderPath to find My Documents\\n\";\n\t\t\twchar_t my_documents_path[MAX_PATH];\n\t\t\tif(SHGetSpecialFolderPathW(NULL, my_documents_path, 5, 1)) {\n\t\t\t\tpath mygames_path = path(my_documents_path) / \"My Games\";\n\t\t\t\tcreate_directory_if_missing(mygames_path);\n\t\t\t\tuser_data_dir = mygames_path / newprefdir;\n\t\t\t} else {\n\t\t\t\tWRN_FS << \"SHGetSpecialFolderPath failed\\n\";\n\t\t\t\tuser_data_dir = path(get_cwd()) / newprefdir;\n\t\t\t}\n\t\t} else {\n\t\t\tLOG_FS << \"Failed to load SHGetSpecialFolderPath function\\n\";\n\t\t\tuser_data_dir = path(get_cwd()) / newprefdir;\n\t\t}\n\t}\n\n#else /*_WIN32*/\n\n#ifdef PREFERENCES_DIR\n\tif (newprefdir.empty()) newprefdir = PREFERENCES_DIR;\n#endif\n\n\tstd::string backupprefdir = \".wesnoth\" + get_version_path_suffix();\n\n#ifdef _X11\n\tconst char *home_str = getenv(\"HOME\");\n\n\tif (newprefdir.empty()) {\n\t\tchar const *xdg_data = getenv(\"XDG_DATA_HOME\");\n\t\tif (!xdg_data || xdg_data[0] == '\\0') {\n\t\t\tif (!home_str) {\n\t\t\t\tnewprefdir = backupprefdir;\n\t\t\t\tgoto other;\n\t\t\t}\n\t\t\tuser_data_dir = home_str;\n\t\t\tuser_data_dir /= \".local/share\";\n\t\t} else user_data_dir = xdg_data;\n\t\tuser_data_dir /= \"wesnoth\";\n\t\tuser_data_dir /= get_version_path_suffix();\n\t} else {\n\t\tother:\n\t\tpath home = home_str ? home_str : \".\";\n\n\t\tif (newprefdir[0] == '/')\n\t\t\tuser_data_dir = newprefdir;\n\t\telse\n\t\t\tuser_data_dir = home / newprefdir;\n\t}\n#else\n\tif (newprefdir.empty()) newprefdir = backupprefdir;\n\n\tconst char* home_str = getenv(\"HOME\");\n\tpath home = home_str ? home_str : \".\";\n\n\tif (newprefdir[0] == '/')\n\t\tuser_data_dir = newprefdir;\n\telse\n\t\tuser_data_dir = home / newprefdir;\n#endif\n\n#endif /*_WIN32*/\n\tsetup_user_data_dir();\n}\n\nstatic void set_user_config_path(path newconfig)\n{\n\tuser_config_dir = newconfig;\n\tif (!create_directory_if_missing_recursive(user_config_dir)) {\n\t\tERR_FS << \"could not open or create user config directory at \" << user_config_dir.string() << '\\n';\n\t}\n}\n\nvoid set_user_config_dir(std::string newconfigdir)\n{\n\tset_user_config_path(newconfigdir);\n}\n\nstatic const path &get_user_data_path()\n{\n\t// TODO:\n\t// This function is called frequently. The file_exists call may slow things down a lot.\n\tif (user_data_dir.empty() || !file_exists(user_data_dir))\n\t{\n\t\tset_user_data_dir(std::string());\n\t}\n\treturn user_data_dir;\n}\nstd::string get_user_config_dir()\n{\n\tif (user_config_dir.empty())\n\t{\n#if defined(_X11) && !defined(PREFERENCES_DIR)\n\t\tchar const *xdg_config = getenv(\"XDG_CONFIG_HOME\");\n\t\tif (!xdg_config || xdg_config[0] == '\\0') {\n\t\t\txdg_config = getenv(\"HOME\");\n\t\t\tif (!xdg_config) {\n\t\t\t\tuser_config_dir = get_user_data_path();\n\t\t\t\treturn user_config_dir.string();\n\t\t\t}\n\t\t\tuser_config_dir = xdg_config;\n\t\t\tuser_config_dir /= \".config\";\n\t\t} else user_config_dir = xdg_config;\n\t\tuser_config_dir /= \"wesnoth\";\n\t\tset_user_config_path(user_config_dir);\n#else\n\t\tuser_config_dir = get_user_data_path();\n#endif\n\t}\n\treturn user_config_dir.string();\n}\nstd::string get_user_data_dir()\n{\n\treturn get_user_data_path().string();\n}\nstd::string get_cache_dir()\n{\n\tif (cache_dir.empty())\n\t{\n#if defined(_X11) && !defined(PREFERENCES_DIR)\n\t\tchar const *xdg_cache = getenv(\"XDG_CACHE_HOME\");\n\t\tif (!xdg_cache || xdg_cache[0] == '\\0') {\n\t\t\txdg_cache = getenv(\"HOME\");\n\t\t\tif (!xdg_cache) {\n\t\t\t\tcache_dir = get_dir(get_user_data_path() / \"cache\");\n\t\t\t\treturn cache_dir.string();\n\t\t\t}\n\t\t\tcache_dir = xdg_cache;\n\t\t\tcache_dir /= \".cache\";\n\t\t} else cache_dir = xdg_cache;\n\t\tcache_dir /= \"wesnoth\";\n\t\tcreate_directory_if_missing_recursive(cache_dir);\n#else\n\t\tcache_dir = get_dir(get_user_data_path() / \"cache\");\n#endif\n\t}\n\treturn cache_dir.string();\n}\n\nstd::string get_cwd()\n{\n\terror_code ec;\n\tpath cwd = bfs::current_path(ec);\n\tif (ec) {\n\t\tERR_FS << \"Failed to get current directory: \" << ec.message() << '\\n';\n\t\treturn \"\";\n\t}\n\treturn cwd.generic_string();\n}\nstd::string get_exe_dir()\n{\n#ifndef _WIN32\n\tpath self_exe(\"/proc/self/exe\");\n\terror_code ec;\n\tpath exe = bfs::read_symlink(self_exe, ec);\n\tif (ec) {\n\t\treturn std::string();\n\t}\n\n\treturn exe.parent_path().string();\n#else\n\treturn get_cwd();\n#endif\n}\n\nbool make_directory(const std::string& dirname)\n{\n\terror_code ec;\n\tbool created = bfs::create_directory(path(dirname), ec);\n\tif (ec) {\n\t\tERR_FS << \"Failed to create directory \" << dirname << \": \" << ec.message() << '\\n';\n\t}\n\treturn created;\n}\nbool delete_directory(const std::string& dirname, const bool keep_pbl)\n{\n\tbool ret = true;\n\tstd::vector<std::string> files;\n\tstd::vector<std::string> dirs;\n\terror_code ec;\n\n\tget_files_in_dir(dirname, &files, &dirs, ENTIRE_FILE_PATH, keep_pbl ? SKIP_PBL_FILES : NO_FILTER);\n\n\tif(!files.empty()) {\n\t\tfor(std::vector<std::string>::const_iterator i = files.begin(); i != files.end(); ++i) {\n\t\t\tbfs::remove(path(*i), ec);\n\t\t\tif (ec) {\n\t\t\t\tLOG_FS << \"remove(\" << (*i) << \"): \" << ec.message() << '\\n';\n\t\t\t\tret = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tif(!dirs.empty()) {\n\t\tfor(std::vector<std::string>::const_iterator j = dirs.begin(); j != dirs.end(); ++j) {\n\t\t\t//TODO: this does not preserve any other PBL files\n\t\t\t// filesystem.cpp does this too, so this might be intentional\n\t\t\tif(!delete_directory(*j))\n\t\t\t\tret = false;\n\t\t}\n\t}\n\n\tif (ret) {\n\t\tbfs::remove(path(dirname), ec);\n\t\tif (ec) {\n\t\t\tLOG_FS << \"remove(\" << dirname << \"): \" << ec.message() << '\\n';\n\t\t\tret = false;\n\t\t}\n\t}\n\treturn ret;\n}\n\nbool delete_file(const std::string &filename)\n{\n\terror_code ec;\n\tbool ret = bfs::remove(path(filename), ec);\n\tif (ec) {\n\t\tERR_FS << \"Could not delete file \" << filename << \": \" << ec.message() << '\\n';\n\t}\n\treturn ret;\n}\n\nstd::string read_file(const std::string &fname)\n{\n\tscoped_istream is = istream_file(fname);\n\tstd::stringstream ss;\n\tss << is->rdbuf();\n\treturn ss.str();\n}\n\n#if BOOST_VERSION < 1048000\n//boost iostream < 1.48 expects boost filesystem v2 paths. This is an adapter\nstruct iostream_path\n{\n\ttemplate<typename stringtype>\n\tiostream_path(const stringtype& s)\n\t\t: path_(s)\n\t{\n\n\t}\n\ttypedef bfs::path::string_type external_string_type;\n\texternal_string_type external_file_string() const\n\t{\n\t\treturn path_.native();\n\t}\n\tbfs::path path_;\n};\n\n#else\ntypedef bfs::path iostream_path;\n#endif\n\nstd::istream *istream_file(const std::string &fname, bool treat_failure_as_error)\n{\n\tLOG_FS << \"Streaming \" << fname << \" for reading.\\n\";\n\tif (fname.empty()) {\n\t\tERR_FS << \"Trying to open file with empty name.\\n\";\n\t\tbfs::ifstream *s = new bfs::ifstream();\n\t\ts->clear(std::ios_base::failbit);\n\t\treturn s;\n\t}\n\n\t//mingw doesn't  support std::basic_ifstream::basic_ifstream(const wchar_t* fname)\n\t//that why boost::filesystem::fstream.hpp doesnt work with mingw.\n\ttry\n\t{\n\t\tboost::iostreams::file_descriptor_source fd(iostream_path(fname), std::ios_base::binary);\n\t\t//TODO: has this still use ?\n\t\tif (!fd.is_open() && treat_failure_as_error) {\n\t\t\tERR_FS << \"Could not open '\" << fname << \"' for reading.\\n\";\n\t\t}\n\t\treturn new boost::iostreams::stream<boost::iostreams::file_descriptor_source>(fd, 4096, 0);\n\t}\n\tcatch(const std::exception ex)\n\t{\n\t\tif(treat_failure_as_error)\n\t\t{\n\t\t\tERR_FS << \"Could not open '\" << fname << \"' for reading.\\n\";\n\t\t}\n\t\tbfs::ifstream *s = new bfs::ifstream();\n\t\ts->clear(std::ios_base::failbit);\n\t\treturn s;\n\t}\n}\n\nstd::ostream *ostream_file(std::string const &fname)\n{\n\tLOG_FS << \"streaming \" << fname << \" for writing.\\n\";\n#if 1\n\ttry\n\t{\n\t\tboost::iostreams::file_descriptor_sink fd(iostream_path(fname), std::ios_base::binary);\n\t\treturn new boost::iostreams::stream<boost::iostreams::file_descriptor_sink>(fd, 4096, 0);\n\t}\n\tcatch(BOOST_IOSTREAMS_FAILURE& e)\n\t{\n\t\tthrow filesystem::io_exception(e.what());\n\t}\n#else\n\treturn new bfs::ofstream(path(fname), std::ios_base::binary);\n#endif\n}\n// Throws io_exception if an error occurs\nvoid write_file(const std::string& fname, const std::string& data)\n{\n\tscoped_ostream os = ostream_file(fname);\n\tos->exceptions(std::ios_base::goodbit);\n\n\tconst size_t block_size = 4096;\n\tchar buf[block_size];\n\n\tfor(size_t i = 0; i < data.size(); i += block_size) {\n\t\tconst size_t bytes = std::min<size_t>(block_size,data.size() - i);\n\t\tstd::copy(data.begin() + i, data.begin() + i + bytes,buf);\n\n\t\tos->write(buf, bytes);\n\t\tif (os->bad())\n\t\t\tthrow io_exception(\"Error writing to file: '\" + fname + \"'\");\n\t}\n}\n\nbool create_directory_if_missing(const std::string& dirname)\n{\n\treturn create_directory_if_missing(path(dirname));\n}\nbool create_directory_if_missing_recursive(const std::string& dirname)\n{\n\treturn create_directory_if_missing_recursive(path(dirname));\n}\n\nbool is_directory(const std::string& fname)\n{\n\treturn is_directory_internal(path(fname));\n}\n\nbool file_exists(const std::string& name)\n{\n\treturn file_exists(path(name));\n}\n\ntime_t file_modified_time(const std::string& fname)\n{\n\terror_code ec;\n\tstd::time_t mtime = bfs::last_write_time(path(fname), ec);\n\tif (ec) {\n\t\tLOG_FS << \"Failed to read modification time of \" << fname << \": \" << ec.message() << '\\n';\n\t}\n\treturn mtime;\n}\n\nbool is_gzip_file(const std::string& filename)\n{\n\treturn path(filename).extension() == \".gz\";\n}\n\nbool is_bzip2_file(const std::string& filename)\n{\n\treturn path(filename).extension() == \".bz2\";\n}\n\nint file_size(const std::string& fname)\n{\n\terror_code ec;\n\tuintmax_t size = bfs::file_size(path(fname), ec);\n\tif (ec) {\n\t\tLOG_FS << \"Failed to read filesize of \" << fname << \": \" << ec.message() << '\\n';\n\t\treturn -1;\n\t} else if (size > INT_MAX)\n\t\treturn INT_MAX;\n\telse\n\t\treturn size;\n}\n\nint dir_size(const std::string& pname)\n{\n\tbfs::path p(pname);\n\tuintmax_t size_sum = 0;\n\terror_code ec;\n\tfor ( bfs::recursive_directory_iterator i(p), end; i != end && !ec; ++i ) {\n\t\tif(bfs::is_regular_file(i->path())) {\n\t\t\tsize_sum += bfs::file_size(i->path(), ec);\n\t\t}\n\t}\n\tif (ec) {\n\t\tLOG_FS << \"Failed to read directorysize of \" << pname << \": \" << ec.message() << '\\n';\n\t\treturn -1;\n\t}\n\telse if (size_sum > INT_MAX)\n\t\treturn INT_MAX;\n\telse\n\t\treturn size_sum;\n}\n\nstd::string base_name(const std::string& file)\n{\n\treturn path(file).filename().string();\n}\n\nstd::string directory_name(const std::string& file)\n{\n\treturn path(file).parent_path().string();\n}\nbool is_path_sep(char c)\n{\n\tstatic const path sep = path(\"/\").make_preferred();\n\tconst std::string s = std::string(1, c);\n\treturn sep == path(s).make_preferred();\n}\nstd::string normalize_path(const std::string &fpath)\n{\n\tif (fpath.empty()) {\n\t\treturn fpath;\n\t}\n\n\treturn bfs::absolute(fpath).string();\n}\n\n/**\n *  The paths manager is responsible for recording the various paths\n *  that binary files may be located at.\n *  It should be passed a config object which holds binary path information.\n *  This is in the format\n *@verbatim\n *    [binary_path]\n *      path=<path>\n *    [/binary_path]\n *  Binaries will be searched for in [wesnoth-path]/data/<path>/images/\n *@endverbatim\n */\nnamespace {\n\nstd::set<std::string> binary_paths;\n\ntypedef std::map<std::string,std::vector<std::string> > paths_map;\npaths_map binary_paths_cache;\n\n}\n\nstatic void init_binary_paths()\n{\n\tif(binary_paths.empty()) {\n\t\tbinary_paths.insert(\"\");\n\t}\n}\n\nbinary_paths_manager::binary_paths_manager() : paths_()\n{}\n\nbinary_paths_manager::binary_paths_manager(const config& cfg) : paths_()\n{\n\tset_paths(cfg);\n}\n\nbinary_paths_manager::~binary_paths_manager()\n{\n\tcleanup();\n}\n\nvoid binary_paths_manager::set_paths(const config& cfg)\n{\n\tcleanup();\n\tinit_binary_paths();\n\n\tBOOST_FOREACH(const config &bp, cfg.child_range(\"binary_path\"))\n\t{\n\t\tstd::string path = bp[\"path\"].str();\n\t\tif (path.find(\"..\") != std::string::npos) {\n\t\t\tERR_FS << \"Invalid binary path '\" << path << \"'\\n\";\n\t\t\tcontinue;\n\t\t}\n\t\tif (!path.empty() && path[path.size()-1] != '/') path += \"/\";\n\t\tif(binary_paths.count(path) == 0) {\n\t\t\tbinary_paths.insert(path);\n\t\t\tpaths_.push_back(path);\n\t\t}\n\t}\n}\n\nvoid binary_paths_manager::cleanup()\n{\n\tbinary_paths_cache.clear();\n\n\tfor(std::vector<std::string>::const_iterator i = paths_.begin(); i != paths_.end(); ++i) {\n\t\tbinary_paths.erase(*i);\n\t}\n}\n\n\nvoid clear_binary_paths_cache()\n{\n\tbinary_paths_cache.clear();\n}\n\nstatic bool is_legal_file(const std::string &filename)\n{\n\tDBG_FS << \"Looking for '\" << filename << \"'.\\n\";\n\n\tif (filename.empty()) {\n\t\tLOG_FS << \"  invalid filename\\n\";\n\t\treturn false;\n\t}\n\n\tif (filename.find(\"..\") != std::string::npos) {\n\t\tERR_FS << \"Illegal path '\" << filename << \"' (\\\"..\\\" not allowed).\\n\";\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns a vector with all possible paths to a given type of binary,\n * e.g. 'images', 'sounds', etc,\n */\nconst std::vector<std::string>& get_binary_paths(const std::string& type)\n{\n\tconst paths_map::const_iterator itor = binary_paths_cache.find(type);\n\tif(itor != binary_paths_cache.end()) {\n\t\treturn itor->second;\n\t}\n\n\tif (type.find(\"..\") != std::string::npos) {\n\t\t// Not an assertion, as language.cpp is passing user data as type.\n\t\tERR_FS << \"Invalid WML type '\" << type << \"' for binary paths\\n\";\n\t\tstatic std::vector<std::string> dummy;\n\t\treturn dummy;\n\t}\n\n\tstd::vector<std::string>& res = binary_paths_cache[type];\n\n\tinit_binary_paths();\n\n\tBOOST_FOREACH(const std::string &path, binary_paths)\n\t{\n\t\tres.push_back(get_user_data_dir() + \"/\" + path + type + \"/\");\n\n\t\tif(!game_config::path.empty()) {\n\t\t\tres.push_back(game_config::path + \"/\" + path + type + \"/\");\n\t\t}\n\t}\n\n\t// not found in \"/type\" directory, try main directory\n\tres.push_back(get_user_data_dir() + \"/\");\n\n\tif(!game_config::path.empty())\n\t\tres.push_back(game_config::path+\"/\");\n\n\treturn res;\n}\n\nstd::string get_binary_file_location(const std::string& type, const std::string& filename)\n{\n\t// We define \"..\" as \"remove everything before\" this is needed becasue \n\t// on the one hand allowing \"..\" would be a security risk but \n\t// especialy for terrains the c++ engine puts a hardcoded \"terrain/\" before filename\n\t// and there would be no way to \"escape\" from \"terrain/\" otherwise. This is not the \n\t// best solution but we cannot remove it without another solution (subtypes maybe?).\n\t\n\t// using 'for' instead 'if' to allow putting delcaration and check into the brackets\n\tfor(std::string::size_type pos = filename.rfind(\"../\"); pos != std::string::npos;)\n\t\treturn get_binary_file_location(type, filename.substr(pos + 3));\n\n\tif (!is_legal_file(filename))\n\t\treturn std::string();\n\n\tBOOST_FOREACH(const std::string &bp, get_binary_paths(type))\n\t{\n\t\tpath bpath(bp);\n\t\tbpath /= filename;\n\t\tDBG_FS << \"  checking '\" << bp << \"'\\n\";\n\t\tif (file_exists(bpath)) {\n\t\t\tDBG_FS << \"  found at '\" << bpath.string() << \"'\\n\";\n\t\t\treturn bpath.string();\n\t\t}\n\t}\n\n\tDBG_FS << \"  not found\\n\";\n\treturn std::string();\n}\n\nstd::string get_binary_dir_location(const std::string &type, const std::string &filename)\n{\n\tif (!is_legal_file(filename))\n\t\treturn std::string();\n\n\tBOOST_FOREACH(const std::string &bp, get_binary_paths(type))\n\t{\n\t\tpath bpath(bp);\n\t\tbpath /= filename;\n\t\tDBG_FS << \"  checking '\" << bp << \"'\\n\";\n\t\tif (is_directory_internal(bpath)) {\n\t\t\tDBG_FS << \"  found at '\" << bpath.string() << \"'\\n\";\n\t\t\treturn bpath.string();\n\t\t}\n\t}\n\n\tDBG_FS << \"  not found\\n\";\n\treturn std::string();\n}\n\nstd::string get_wml_location(const std::string &filename, const std::string &current_dir)\n{\n\tif (!is_legal_file(filename))\n\t\treturn std::string();\n\n\tassert(game_config::path.empty() == false);\n\n\tpath fpath(filename);\n\tpath result;\n\n\tif (filename[0] == '~')\n\t{\n\t\tresult /= get_user_data_path() / \"data\" / filename.substr(1);\n\t\tDBG_FS << \"  trying '\" << result.string() << \"'\\n\";\n\t} else if (*fpath.begin() == \".\") {\n\t\tif (!current_dir.empty()) {\n\t\t\tresult /= path(current_dir);\n\t\t} else {\n\t\t\tresult /= path(game_config::path) / \"data\";\n\t\t}\n\n\t\tresult /= filename;\n\t} else if (!game_config::path.empty()) {\n\t\tresult /= path(game_config::path) / \"data\" / filename;\n\t}\n\tif (result.empty() || !file_exists(result)) {\n\t\tDBG_FS << \"  not found\\n\";\n\t\tresult.clear();\n\t} else\n\t\tDBG_FS << \"  found: '\" << result.string() << \"'\\n\";\n\n\treturn result.string();\n}\n\nstatic path subtract_path(const path &full, const path &prefix)\n{\n\tpath::iterator fi = full.begin()\n\t             , fe = full.end()\n\t             , pi = prefix.begin()\n\t             , pe = prefix.end();\n\twhile (fi != fe && pi != pe && *fi == *pi) {\n\t\t++fi;\n\t\t++pi;\n\t}\n\tpath rest;\n\tif (pi == pe)\n\t\twhile (fi != fe) {\n\t\t\trest /= *fi;\n\t\t\t++fi;\n\t\t}\n\treturn rest;\n}\n\nstd::string get_short_wml_path(const std::string &filename)\n{\n\tpath full_path(filename);\n\n\tpath partial = subtract_path(full_path, get_user_data_path() / \"data\");\n\tif (!partial.empty())\n\t\treturn \"~\" + partial.string();\n\n\tpartial = subtract_path(full_path, path(game_config::path) / \"data\");\n\tif (!partial.empty())\n\t\treturn partial.string();\n\n\treturn filename;\n}\n\nstd::string get_independent_image_path(const std::string &filename)\n{\n\tpath full_path(get_binary_file_location(\"images\", filename));\n\n\tif (full_path.empty())\n\t\treturn full_path.string();\n\n\tpath partial = subtract_path(full_path, get_user_data_path());\n\tif (!partial.empty())\n\t\treturn partial.string();\n\n\tpartial = subtract_path(full_path, game_config::path);\n\tif (!partial.empty())\n\t\treturn partial.string();\n\n\treturn full_path.string();\n}\n\nstd::string get_program_invocation(const std::string &program_name)\n{\n\tconst std::string real_program_name(program_name\n#ifdef DEBUG\n\t\t+ \"-debug\"\n#endif\n#ifdef _WIN32\n\t\t+ \".exe\"\n#endif\n\t);\n\treturn (path(game_config::wesnoth_program_dir) / real_program_name).string();\n}\n\n}\n"], "fixing_code": ["Version 1.13.0+dev:\n * AI:\n   * Fast Micro AI: exclude hidden enemies from attack evaluation by default;\n     add optional key attack_hidden_enemies to override this\n   * Lua AI helper functions: fix bug crashing the AI when number= is not set in\n     a unit attack definition\n   * Micro AIs: add a warning and avoid crash when a non-existing side is used\n     in the [micro_ai] tag\n * Campaigns:\n   * Dead Water:\n     * The Stun effect now expires at the stunned unit's side turn end\n   * Under the Burning Suns:\n     * The Stun effect now expires at the stunned unit's side turn end\n * Editor:\n   * Redesigned Generate Map dialog to use a real listbox and remember the\n     last choice during the same editor session.\n   * Fixed stack corruption bug in the Side Setup dialog.\n * Graphics:\n   * New generic portraits for the Walking Corpse and Soulless\n * Language and i18n:\n   * Updated translations: Galician, Scottish Gaelic\n * Multiplayer:\n   * Era names no longer support formatting markup in the game setup screen.\n   * Removed the Silver Mage from the available leaders for the Rebels faction\n     in Age of Heroes.\n   * Fixed \"Accept whispers from friends only\" not working with the default\n     lobby UI, and added a warning every 5 minutes for individual rejected\n     senders.\n * Units:\n   * Fixed the Shuja not having the default AMLA.\n * User interface:\n   * Fixed minimap buttons appearing without contents or in the wrong state\n     during WML start events until they are interacted with or control is given\n     to the player for the first time or some other unspecified thing happens.\n   * Force uniform font rendering settings across X11 and Apple OS X, avoiding\n     color glitches resulting from incorrect applications of subpixel hinting\n     (bug #20337).\n   * Hide mod options from the user command prompt dialog in the MP lobby when\n     not authenticated as a mod.\n   * Fixed unit bars, ellipses, and orbs disappearing for individual units in\n     replay mode when using Skip Animations/Quick Replays if they moved without\n     attacking or otherwise switching to a new animation.\n   * Chat Log dialog now starts on the last log page when there are multiple\n     pages.\n   * Fixed Wesnoth's fonts remaining in use by Windows after abnormal exits, as\n     well as being available to other applications.\n * WML engine:\n   * Added support for [object] duration=turn end\n   * New or updated image path functions:\n      * ~BW(): converts an image to black and white\n      * ~NEG() now supports 0,1 or 3 arguments, allowing solarization effects\n      * ~SWAP(): swaps the RGBA channels of the image\n   * Added support for SLF in [label] when used inside an event\n * Miscellaneous and bug fixes:\n   * Removed abandoned libana network API implementation.\n   * Fixed bug#23201 Toggle icons display error in replay.\n   * Added --wconsole switch to allocate a console on startup (Windows-only).\n   * Added cwesnoth.cmd wrapper script to start Wesnoth with a console\n     displaying stdout+stderr (Windows-only).\n   * Updated mainline campaigns and multiplayer scenarios to use [filter] status=\n     instead of [filter] [filter_wml] [status]\n   * Fixed a segfault in [move_units_fake]\n   * Fixed unbound memory read in the MP map selection screen that could lead\n     to a segmentation fault or other abnormal behavior (bug #23606).\n   * Made silence.ogg larger to work around a crash involving the multiplayer\n     lobby with music and sound enabled (bug #23633, possibly also bug #23599,\n     bug #23203, bug #23026).\n   * Disallowed inclusion of .pbl files from WML (bug #23504).\n\nVersion 1.13.0:\n * Security fixes:\n   * Fixed arbitrary file read from WML/Lua API (CVE-2015-0844, bug #23440).\n * Add-ons client:\n   * The Update All button is now displayed on all Add-on Manager views instead\n     of just the Upgradable filter view, and enabled only when there is at\n     least one add-on that may be upgraded.\n * Add-ons server:\n   * Add-on metadata pattern blacklisting implemented.\n   * Major internal refactoring done.\n * AI:\n   * New Micro AI: Fast AI\n   * Big Animals Micro AI: bug fix for units not attacking when [avoid_unit] is\n     not set\n   * Bottleneck Micro AI: bug fix for case when allied units are present\n   * Coward Micro AI: new optional key attack_if_trapped=\n   * Forest Animals Micro AI: bug fix for wander terrain lying on border hexes\n   * Herding Micro AI: bug fix for dogs sometimes having moves left at end\n   * Lurkers Micro AI: fix bug in wander terrain selection\n   * Lurkers Micro AI: bug fix for attack error when lurker runs into ambush\n   * Lurkers MAI: bug fix for attempting to attack petrified units\n   * Messenger Escort Micro AI: new optional parameters [filter],\n     [filter_second] and invert_order=\n   * Stationed Guardian Micro AI: make guard_x/y= optional keys\n   * Stationed Guardian Micro AI: bug fix for unreachable stations\n   * Messenger Escort Micro AI: bug fix for escort units blocking messenger's\n     progress\n   * Several Micro AIs: fix a variety of rarely occurring but serious bugs, such\n     as invalid savegames or disabling the AI from working for the rest of the\n     turn or after changing the Micro AI settings.\n   * Bug fix for requiring unnecessary keys for removal of several Micro AIs\n   * Fixed a bug that made it impossible to change or delete Micro AIs after a\n     game had been reloaded (bug #21750). This was a general bug in the RCA AI\n     mechanism and applied to other CAs as well, but it was most visible in the\n     Micro AIs.\n   * Some internal reorganization of Micro AI code to facilitate customizing\n     them for UMC and adding functionality from other versions of Wesnoth. Some\n     code cleanup for consistency, readability and speed, as well as fixing of\n     some minor and subtle bugs.\n   * Fix bug in Random Recruit Micro AI: the AI can now handle custom castle\n     terrain independent of its terrain code\n   * Fix bug in Return Guardian and Goto Micro AIs when there is no path to\n     the goal hex\n   * Several fixes of translatable strings in Micro AIs\n   * Micro AIs: only display on-screen error messages when in debug mode\n   * Add conditional inclusion of AI macros to AI cfgs in data/ai\n * Campaigns:\n   * Changed all occurrences of {FLAG_VARIANT ragged} to {FLAG_VARIANT6 ragged}\n   * Singleplayer campaign creation now utilizes the create, configure,\n     and connect engines from the multiplayer codepath.\n   * Eras, mods, and options are now available for sp campaigns.\n   * Fix sighted events firing too early in several scenarios. Fixes bug #22466\n   * Use the new bigmaps for A Tale of Two Brothers, Delfadors Memoirs, The\n     Hammer of Thursagan, Northern Rebirth and the epilogue of Legend of\n     Wesmere.\n   * Remaining cases of old-style note and carryover information in [objectives]\n     have been converted to a newer style.\n   * A Tale of Two Brothers:\n     * Updated music playlists.\n   * Descent into Darkness:\n     * Fixed various issues with player and enemy gold and income in\n       'Descent into Darkness'.\n     * Fixed Darken Volk's ellipse in scenarios 'A Small Favor part 3' and\n       'Alone at Last'.\n     * Fixed Darken Volk being completely passive in 'Alone at Last'.\n     * 'Return to Parthyn' now has variable content depending on whether\n        necromancy was used in 'Saving Parthyn'.\n   * Eastern Invasion:\n     * In 'Captured', stolen gold won't be mentioned if the player had no\n       carryover gold.\n     * Updated maps for scenario 14, 16 and 17b.\n     * New animation for Ravanal's shadow wave.\n     * Added the Skeleton Rider line.\n     * New map for 'Mal-Ravanal's Capital', as well as updated\n       maps for scenario 2 and 4b.\n     * Tweaked and rebalanced all scenarios up to 'Two Paths'.\n   * Heir to the Throne:\n     * Tweaked and expanded music playlists for all scenarios.\n     * Fixed missing message in 'The Siege of Elensefar'.\n     * Hide unit variations that should not be listed in the help browser.\n   * Liberty:\n     * Fixed possibility of no viable routes around guards in 'Hide and Seek'.\n     * Tweaked resistances for the Skeleton Rider line.\n   * Northern Rebirth:\n     * Fixed Sister Thera and Father Morvin respawning into the recall list if\n       the other is on the north or west map edges.\n     * Sister Thera and Father Morvin will no longer speak dialog on their death\n       after 'The Pursuit'.\n     * The maps for 'Infested Caves', 'Clearing the Mines', and 'The Pursuit'\n       have been completely redone.\n     * All scenarios up to 'Old Friend' have been significantly tweaked and\n       rebalanced.\n   * Sceptre of Fire:\n     * Balancing changes for 'The Dragon'.\n   * Son of the Black Eye:\n     * S2: adjusted starting villages; scenario now ends if Kapou'e is already\n       on the signpost when the messenger comes back\n     * S3: make objectives consistent between before and after trolls appear\n     * S6: remove AI controller.  It doesn't work with sides without a leader\n     * S6: reduce randomness of unit types unloading from galleons\n     * Minor balance tweaks to scenarios 7, 8, 12, 14, 15, 17 and 18.\n     * Made allied leaders less likely to get themselves killed.\n     * Minor changes to objectives and messages in scenarios 7, 8 and 14\n   * The Hammer of Thursagan:\n     * Fixed missing objective in 'The Court of Karrag'.\n     * Rebalanced scenarios 'Invaders', Mages and Drakes' and 'Fear'.\n     * Set Masked Dwarvish Lord range attack same as for Dwarvish Lord\n     * Fixed some messages not being shown in custom events in 'The Underlevels'\n     * 'The Court of Karrag' and 'Epilogue' feature a new map.\n   * The Rise of Wesnoth:\n     * Hide unit variations that should not be listed in the help browser.\n   * Tutorial:\n     * Rewritten with an eye to being less constricting and more informative.\n   * Under the Burning Suns\n     * Fixed recruited Desert Archers being always male.\n     * Fixed malformed rand range errors during AI turns on medium difficulty\n       in 'A Stirring in the Night'.\n     * Fixed bug #22800: Cloaked Figure appears in strange location.\n     * Fixed bug #22799: No allies killed by enemy reinforcements.\n     * Fixed bug #22790: Various problems with dehydration.\n     * Hide unit variations that should not be listed in the help browser.\n * C++ Engine:\n   * Purge \"human_ai\" controller type. This is a fixup of bugfix #18829 below.\n * Editor:\n   * Added an entry for the terrain description help to the context menu.\n   * Default hotkey bindings for brushes (1-5)\n   * Disabled the swap palette button when the unit palette is active.\n   * Disabled the tod schedule and playlist menus in pure map mode.\n   * Support for displaying the saved status of the selected area.\n   * Fixed error messages about missing UI elements.\n   * Fixed falcon race missing an icon due to having incorrectly-named image\n     files.\n * Graphics:\n   * New Ancient Lich baseframe and animations\n   * New standing animation (NE and SE) for the Revenant\n   * New standing animation for the Dwarvish Stalwart\n   * Smooth unit movement over terrains with elevation such as keeps and\n     bridges (bug #20635).\n   * Fixed bug #22045: Only blit neutral surfaces.\n   * [item] images are now subject to local ToD lighting effects instead of\n     just the current map-wide ToD lighting (bug #22215).\n   * Disabled \"alpha thresholding\" in the bilinear interpolation algorithm\n     used for all sprites and images. (This was introduced as a workaround\n     for an old bug.)\n   * Add a new bilinear interpolation implementation, which properly performs\n     alpha weighting when averaging colors, and rename old one as the legacy\n     version.\n   * Align unit overlays to the sprite rather than the occupied hex.\n   * Added Brazier and Lit Brazier embellishment terrains\n   * New beach waves terrain animation.\n   * New images for the dummy, barrel, and green cloak items\n   * Updated Snowy Orcish Castle and Keep terrain images\n * Help browser:\n   * Several sections have been rewritten or had their layout improved\n   * Added trait list with links to the help page for unit types\n   * Added Defense Cap column to the Terrain Modifiers table in unit help pages\n     for units with a defense cap on at least one terrain type, which also now\n     include a note to this effect in their special notes.\n   * Fixed a bug which caused the terrain section topic not to properly generate\n     a list of its contents.\n   * Add a new help section to the terrains topic which explains about mixed\n     terrain types.\n   * When using the terrain description feature with a mixed terrain type, the\n     game will autogenerate a formatted explanation of its best / worst movement\n     / defense properties.\n   * Added automatic help entries for all eras, fulfilling Feature Request\n     #22107\n   * Fixed in-game help descriptions of default factions, using content from\n     wiki\n   * Added automatically generated lists of races and alignments to the\n     descriptions of factions\n   * Autogenerated Time of Day Schedule section\n   * Unit types that do not include any visible (hide_help=no) variations no\n     longer generate topic sections.\n * Language and i18n:\n   * Updated translations: Chinese (Simplified), Chinese (Traditional), Czech,\n     French, Galician, German, Greek, Hungarian, Italian, Lithuanian, Polish,\n     Portuguese, Russian, Scottish Gaelic, Slovak, Spanish, Vietnamese\n   * Fixed cmake pot-update target on Debian and other systems that do not use\n     bash as the default /bin/sh.\n * Lua API:\n   * Upgraded Lua to version 5.2.3.\n   * Fix bug #21761: wesnoth.synchronize_choice will now give a warning when\n     the table returned by the user-specified function is not completely valid,\n     when wesnoth is running in debug mode (--debug command line flag).\n   * Added new function wesnoth.get_all_vars().\n   * Add (tentative, preliminary) support for lua scripting of wesnoth\n     application functions\n   * Enable ilua \"strict mode\" by default. This safety feature helps to catch\n     errors caused by mistyped variable names, and improves the behavior of the\n     lua interpreter console. See 1.13.0 RELEASE NOTES for more details.\n   * Add multiplayer client scripting (join lobby, chat, host games, save games,\n     reload games) and mp unit tests based on this\n   * Add functions in wesnoth.map_location to perform map location arithmetic\n     using the same functions the C++ engine does\n   * Enabled support for the bit32 library (bitwise operations)\n   * Added support for treeview wigets in lua gui2 dialogs.\n   * Added support to define wml conditional tags in lua. See the\n     wesnoth.wml_condtionals table as described on the wiki.\n * Multiplayer:\n   * Fixed the Set Password option during game creation not having an effect\n     due to a misplaced WML attribute in the client's command for the server\n     (bug #23015).\n   * Fixed missing scenario title in lobby for reloaded MP campaigns.\n   * Added \"no mirror\" and \"no ally mirror\" options to the MP configure screen.\n   * Multiplayer content [era], [modifications] now carry version info of their\n     associated add-on, and may have \"addon_min_version\" fields set which\n     specify backwards compatibility with earlier versions.\n   * Missing content for games hosted in the mp server may now be retrieved\n     automatically by clicking on these games in the mp lobby.\n   * Ported the password prompt displayed when joining a password-protected MP\n     game to GUI2 (bug #23455).\n * Music:\n   * Change main menu track to Journey's End.\n * Replays:\n   * Added a button that allows playing a single move in replay mode.\n * Units:\n   * Increased the experience requirement for the Rami from 32 to 39\n   * Increased the experience requirement for the Saree from 56 to 64\n   * Changed sound timings for Khalifate melee attacks\n   * New chill tempest animation for Lich/Ancient Lich\n   * Add 'elemental' trait to Mudcrawler line\n   * Fix sound timings for drake fire animation macros\n   * Assigned capitalized translatable names to Walking Corpse and Soulless\n     variations (bug #22902).\n   * Hid alternate Great Wolf variation from help as it is identical to the\n     default variation stats-wise.\n * User interface:\n   * Added a context menu option for command mode.\n   * Added a Classic theme which restores the 1.10 UI.\n   * Made orb and minimap colors configurable in Preferences.\n   * Remove 'allow_new_game=no' entries from random map new game list\n   * Fixed bug #22095: An assertion failure in the gamestate inspector.\n   * Changed: A listbox can now update its size when rows are added.\n   * Changed: Avoid listboxes to handle mouse clicks twice.\n   * Fixed bug #22144 + #22046: An assertion failure with empty labels in\n     a listbox.\n   * The :inspect dialog now uses the same function as saved games to generate\n     WML in text form instead of a simplified version.\n   * Added a button to copy the currently displayed content from the :inspect\n     dialog to clipboard.\n   * WML array elements are now displayed with subscripts in the :inspect\n     dialog.\n   * Added a button to copy the in-game Chat Log dialog contents to clipboard.\n   * Fixed the WML load error dialog not displaying an add-on name instead of\n     falling back to its directory name if the add-on contains an outdated\n     _info.cfg file lacking an [info]title= value.\n   * Fixed most of the minimap buttons and the End Turn button appearing\n     without contents or in the wrong state during WML start events until they\n     are interacted with or control is given to the player for the first time.\n   * Added a new subdialog in Preferences to clean or purge the WML cache.\n   * Fixed AI engine names in the MP game setup screen being translated to the\n     language selected when Wesnoth was started rather than the current\n     language (bug #22092).\n   * Added a new \"Advanced Settings\" button and dialog to campaign select.\n   * Added new wml attributes to listbox: has_minimum and has_maximum.\n   * Added a \"Disable automatic moves\" preference to disable automatic movements\n     at the beginning of a turn.\n   * Fixed lower button row padding for GUI1 dialogs including Statistics and\n     the Add-ons Manager (bugs #22379, #22791).\n   * Fixed mouse tracking issue with workaround by changing the default window\n     resolution for OS X to 800 x 600 (bug #20332).\n   * Removed the \"Replay viewer\" text label from the replay controller theme,\n     because it caused problems for translators and was unnecessary\n   * Fixed bug #22337: Bug in inspect long arrays\n   * Added a new \"Alerts\" configuration screen under Preferences > Multiplayer,\n     refactored all of the mp alerts / desktop notifications for customizability\n   * Removed \"desktop_notifications\" and \"lobby_sounds\" advanced preferences,\n     as they are subsumed by the Preferences > Multiplayer > Alerts screen now.\n   * Added support for hyperlink rendering and clicking in gui2 labels.\n   * Added lua interpreter console, accessible via a hotkey\n   * Add lua console button to gamestate inspector\n   * Add command history and history expansion to lua console, based on optional\n     support from GNU readline history library.\n   * Add support to evaluate expressions automatically in lua console, based on\n     a lua lib \"ilua\", and \"experimental compilation\" technique.\n   * Fixed game falling back to desktop if a user declines to load a previous\n     version save from within a game\n   * Fix bug #22984: Sliders (GUI1) focusing improperly in non-game contexts,\n    and not responding to left-right key press\n   * Wesnoth now ships with Bold and Oblique forms of its default font, Deja Vu\n     Sans, and these are used in many menus and in the in-game help for styling\n     text where previously we used SDL_TTF. Fixes bug #22376.\n * WML engine:\n   * New image path functions:\n      * ~XBRZ(): Takes one argument, the scaling factor (1-5). Uses the xBRZ\n        scaling algorithm added in this release.\n      * ~SCALE_SHARP(): Anologous to ~SCALE() but using the nearest neighbor\n        scaling algorithm instead.\n      * ~PLOT_ALPHA(): No arguments, plots the alpha channel in greyscale.\n        Mainly useful for diagnostics of other function combinations, or\n        debugging the engine itself.\n      * ~WIPE_ALPHA(): Again mainly useful for diagnostics.\n      * ~ADJUST_ALPHA(): Takes either a % or an 8-bit integer, and \"multiplies\"\n        the alpha channel by this value.\n      * ~SEPIA(): Gives the image a sepia tint.\n      * ~NEG(): Gives the image a photographic negative effect.\n   * Added customizable recall costs for unit types and individual units,\n     using the new recall_cost attribute in [unit_type] and [unit] (bug #13074).\n   * Added support for [elseif] tags inside [if]\n   * Schema validator and preprocessor #warning messages now conform better to\n     the new WML parser/preprocessor diagnostics format introduced in version\n     1.11.10.\n   * Added define= functionality to scenarios, eras, and modifications.\n   * [unit] uses passed [advancement]s instead of unittypes advancements if\n     [advancement] were given in [unit].\n   * allow [lua] tags inside [modification] and [era] (which have the same\n     effect as [lua] tags inside [scenario]).\n   * enable side_for= in key [message] with [option]s.\n   * added [effect] apply_to=fearless/healthy which is now used by\n     healthy/fearless traits instead of hardcoding the id of those traits in c++.\n   * added support for a shuffle key in the [music] music to allow selecting\n     between random and non-random music play (bug #19653)\n   * Fixed a bug that prevented [animate_unit] from displaying death or victory\n     animations for those units that filter them based on weapon (eg. Wose)\n   * New WML tags: [put_to_recall_list] and [sync_variable].\n   * Fixed nested macros emitting incorrect bindings to the default 'wesnoth'\n     textdomain at the end of a substitution instead of the parent textdomain,\n     this breaking localization of subsequent strings (bug #22962).\n   * Sounds for slow and poison are automatically played when slowing/poisoning\n     a unit, and should no longer be played by the attack animations.\n   * force_lock_settings defaults to yes in [scenario].\n   * Moved all preprocessor diagnostics from the 'config' log domain to\n     'preprocessor'.\n   * Dropped support for [filter_side] in [gold] and [modify_ai], [theme] name=\n     in place of id, and [object] duration=level.\n   * Allowed direct modification of unit.ellipse variable even if ellipse= is set\n     in [unit_type] or by an [effect]\n   * Add accelerate=yes/no key in [delay]\n   * Add support for status= key in SUFs\n   * Add \"disallow_shuffle\" key in [side], which causes the \"shuffle sides\"\n     feature always to skip this side, even if it is human playable.\n   * Add \"require_scenario\" key in [scenario], [multiplayer], which causes a\n     multiplayer game to require that all participants have the add-on installed.\n * Miscellaneous and bug fixes:\n   * replace 'fight_on_without_leader'=yes/no with defeat_condition=no_leader/\n     no_units/always/never which allows the wml developer to decide when a side\n     is considered defeated\n   * Fix Fisher-Yates implementation of Lua helper.shuffle (bug #21706)\n   * Fixed issues with the ~BG() image path function not always working with\n     cached images.\n   * Idle controlled sides now serialize as human controlled.\n   * Fixed bug #20876: A segfault in cut_surface.\n   * Dropped support for AmigaOS, BeOS, and OS/2.\n   * Increased the sound mixer channel allocation from 16 to 32, thereby\n     raising the limit for simultaneous sound effects from 5 to 20, and\n     simultaneous UI sounds from 1 to 2.\n   * Fix bug #21758: \"Ready not blocked while player pick faction.\"\n   * Fix bug #18829: \"ai sides show up as \"controller=network\" on remote\n     clients\". This issue is the source of some difficulties with mp campaigns\n     which occur when the campaign is reloaded from a non-host side, or after a\n     player rejoins from observer status. Hopefully, reloading campaigns is\n     easier after this.\n   * Fix bug #21797: \"Mandatory WML child missing\" when leaving a reloaded game.\n   * Fix bug #21808: Cannot join a reloaded game as an observer.\n   * Fixed halos glitching through locations that become shrouded after the\n     halo is rendered for the first time.\n   * OS X user data directory is now ~/Library/Application Support/Wesnoth_1.13.\n     For compiling Wesnoth using Xcode, a new version of\n     wesnoth_compile_mac_1.13.zip is also required.\n   * Fix bug #21257: Lagging animations with skip AI animations and fog/shroud.\n   * Improved unicode handling on windows for characters outside the Basic\n     Multilingual Plane.\n   * Fix bug #3856: The turn dialog used in hotseat MP play now applies\n     a blindfold for the duration of the dialog.\n   * Petrified units are no longer displayed in the \"Damage versus\" tooltip.\n   * Fix bug #21759: \"timer refreshed too often when time runs out\"\n   * Use one combo box instead of check boxes for replay options \"skip replay\"\n     and \"enter blindfold\". This fixes the mp lobby in width <= 800 resolutions.\n     Fixes bug #21888.\n   * MP server now commits controller changes to the replay rather than updating\n     as we go along. Among other things these means that players that join an\n     scenario with ai sides which has already started won't have corrupted\n     controller types which would prevent them from successfully saving and\n     reloading in the future.\n     We have also moved all \"controller tweaks\" associated to the start of MP\n     games to server-side rather than having a mix of client and server code.\n   * Fixup user-displayed strings associated to replay options, idle state\n   * OS X: mark Wesnoth as not high-resolution capable. This greatly improves\n     performance on retina devices.\n   * Upgrade Xcode project to enable both i386 and x86_64 builds\n   * Fixed problems with idle controller type in networked mp.\n   * Fix bug 21459 by making dropped sides default to idle.\n   * Fix bug 21882 by introducing \"fight_on_without_leader\" boolean attribute\n     of [side] tags and refactoring check_victory to use this.\n   * Changed: Don't use the random generator for units with no names.\n   * Fix bug #21910: code for game is ready bell is corrected, simplified, and\n     moved to mp_connect::process_network_data.\n   * Deliver desktop notifications in tandem with \"game is ready\" bell and\n     also the \"game has begun\" bell.\n   * Fix bug in which blindfold could cause OOS.\n   * Fix bug #21914: allow drake walking corpse variation to move on unwalkable\n   * Fix unnecessary \"Mandatory WML Child not found\" error when replay file\n     doesn't have a [carryover_sides_start] tag\n   * Server now generates PR 121 compliant replay files.\n   * Fix bug #21025: replay controller doesn't execute play_next_side properly\n   * Fix bug #21916: ready blocked at inappropriate times\n   * Fix bug #21931: controllers bugged in (basic campaign) when networked\n   * Fix bug #21883: make sure movement animations don't cycle with fog on\n   * Fix bug #21316: make subframes within standing animations cycle by default\n   * Fix bug #21967: fix crash when unit modification to traits has empty id\n   * Fix bug #19258, 21962: WML variables spuriously copied to replay_start\n   * Fix implementation bug in random number generator: rand_pool_ is now an\n     unsigned long rather than an unsigned int.\n   * Fix bug #21491: fix drag+drop for unit movements\n   * Fix bug #21448: make premoved units selection like in Wesnoth 1.10\n   * Fix bug #21372: fix unit move continuation if enemy discovered\n   * Added a Python/Tkinter based GUI to allow running wmllint, wmlscope and\n     wmlindent in an easier way\n   * Some commandline output which was helpful for noninteractive ai testing\n     is redirected from std::cout to a logdomain \"aitesting\".\n   * Added WML unit test capabilities, accessible from commandline using -u\n     switch. These are useful for unit testing the WML / lua api.\n   * Support for total conversions, so called \"cores\".\n   * Fix bug #22030: correct index of weapon special disable in attack GUI\n   * Fix bug #21964: assertion failure when using \"controller\" attribute with\n     a number.\n   * Add [do_command], which takes the body of a [command] tag from ReplayWML,\n     (some possibilities not allowed), and executes the corresponding action.\n     It is replay safe and triggers WML events as appropriate.\n   * Reallow selection of another unit on same side without deselect first\n   * Add \"strict mode\". Using --log-strict=[severity] causes wesnoth to throw\n     a game_error exception when anything is written to a log as severe as\n     that. For example --log-strict=warning causes both warnings and errors\n     to generate runtime exceptions. This is intended for unit tests.\n   * Fix bug #21867: team flag colors not refreshed after making use of\n     [modify_side] color= unless a new flag set is also provided.\n   * Fix a bug where in movement records, \"skip_sighted\" was sometimes\n     spelled as \"skip_sighed\".\n   * Fix bug #22020: make base units with variations help entry clickable\n     from the 'Unit Description' menu entry or from side pane.\n   * Fix bug #21977: ready blocked on scenario transition, when\n     allow_new_game=yes\n   * Add \"MAKE_ENUM\" macro to simplify parsing of WML options.\n   * \"MAKE_ENUM\" macro signals WML parsing errors when the game is run\n     in debug mode, and an illegal value for an attribute is encountered.\n   * Fix bug #21397 Reloading may cause a side's turn is not initialized.\n     This bug affected only networked mp, at least since version 1.8.\n   * [modify_side] may now alter the value of [side] defeat_condition.\n   * Fix bug #22116: unlock movement when attacking enemy+discovering in fog\n   * In mp the other players now also proceed to the next scenario if one human\n     player wins.\n   * Fix bug #21397: \"Saving and loading may cause a side's turn is not\n     initialized\".\n   * Fix bug which caused no units to be displayed when reloading an end of\n     scenario save, by stripping them from the save file. However, this does\n     not fix bug #15545, which was the reason that this behavior was introduced.\n   * Fix bug #22123 \"Replays don't reset map when reset button is pressed,\n     causing OOS\"\n   * Wesnoth reports an error if it evaluates [if] and finds no [then], [else],\n     [elseif] children, as a chat message from lua.\n   * Fix bug #22134: Campaign prefix not used in mp campaign saves\n   * Made the error messages sent to stderr when the core data dir is\n     incorrectly set more helpful.\n   * Fix bug #20126: Recursive preprocessor includes cause infinite loop\n   * Added 'faction_lock' and 'leader_lock' to SideWML to be used in MP Connect\n     screen. Fixes bug #21978.\n   * Fix bug #22231: partial moves now able to be continued in whiteboard\n   * Added wmi_pager object to control how wml menu items are displayed in\n     context menus, and allow to display more than seven.\n   * Fix an inefficient implementation of unit::invisible, in an effort to\n     address slow performance problems:\n     http://forums.wesnoth.org/viewtopic.php?f=4&t=12139&start=180#p569931\n     (Also see gfgtdf's commits trying to optimize the minimap loop)\n   * Made it so <exe location>/../ (non-Windows) or <current working dir>/../\n     (Windows) are also considered possible data directories if they contain a\n     data/_main.cfg file, intended to help with cmake builds.\n   * Fix bug #21723: team-specific items displayed to wrong players / at wrong\n     times\n   * When parsing command line args, if we fail to parse, give an error message\n     rather than crashing with no explanation.\n   * Fix bug #22305: assertion failure in unit_display.cpp\n   * Fix bug #22086: wrong or missing minimap previews displayed b/c of problems\n     with saveindex\n   * Fixed the SCATTER_UNITS macro so that it may no longer attempt to place\n     units at the map borders.\n   * Fixed bugs in [filter_vision] reported here:\n     http://forums.wesnoth.org/viewtopic.php?f=21&t=40702 [filter_vision] is now\n     a check for *any* side matching the filter to have appropriate vision.\n   * Add [has_ally], [has_enemy] to work around issues reported here:\n     http://forums.wesnoth.org/viewtopic.php?f=21&t=40702 In a side_filter,\n     [has_ally] and [has_enemy] are corrected / simplified versions of\n     [allied_with] / [enemy_of], this is an extension of the bugfixes for\n     [filter_vision].\n   * Fix [side] share_view/maps always beeing false for non-first levels in mp\n     campaigns\n   * Fixes start-of-scenario multiplaer saves (#22068)\n   * Fix bug wherein \"lobby sounds\" advanced preference didn't do anything for\n     the normal (GUI 1) lobby.\n   * Fix bug wherein dbus notifications did not have a wesnoth icon\n   * Fix bug wherein chat history synopses weren't working right in the dbus\n     notifications\n   * Default to classic minimap unit/village color coding (colored by side).\n   * Default to classic minimap terrain representation (satellite view).\n   * Display the tooltip for actions browsed in the hotkey preferences dialog.\n   * Enabled action icons in the hotkey preferences dialog.\n   * Fix bug #21717: \"F5->reload wml tree\" doesn't work in editor.\n   * Fix bug #21298: Minimap shows invisible overlays\n   * Remove carryover WML (this may make a reappearance in 1.13.0 but it is\n     considered premature now, please see github PR discussion for more info)\n   * Fix bug #22465: Minimap not redrawn after turn dialog.\n   * Fix bug #22306: move_unit moves a unit even when it shouldn't\n   * Fix minor bug where toggling accelerated speed caused two lines of print\n     messages to display on top of one another. Reported here:\n     http://forums.wesnoth.org/viewtopic.php?f=5&t=40745\n   * Fix bug #22611: loading a theme with nonexistent button images would cause\n     the program to close.\n   * Fix bug #22487: advanced preferences descriptions not showing up\n   * Fix bug #22646: Tooltips broken in replay viewer\n   * Fix bug #22643: Cannot compile with boost 1.56\n   * Fix issue where the chatlog for a replayed game could not be opened in\n     single player. The chatlog can now always be opened.\n   * Fix bug #22745: choose_track function crashes the game in certain cases\n   * Fix bug #22650: nontranslatable strings displayed in tooltips for terrain\n     icons\n   * Fixed Gameplay -> Time of Day help topic displaying the Dawn ToD picture\n     where the Second Watch picture should be used instead (bug #22537).\n   * Fixed mishandling of nested subnamespaces by the [clear_global_variable]\n     WML action causing an assertion failure (bug #21093).\n   * Fix bug #22443: Scenario Settings table has inaccurate Start Gold info in\n     certain cases\n   * Fix Grand Knight image being distorted in the sidebar\n   * Fix bug #22251: Map labels not appearing in mp\n   * Fix bug: lobby sounds not all playing. This was fixed by adding a second\n     dedicated channel for UI sounds, and moving the \"Ready to start\" sound to\n     the turn bell channel.\n   * Bug fix: another instance of \"overlapping messages\", this time with the\n     planning mode activation hotkey\n   * Fix bug #21400: Use unit 'image' with higher priority than 'image_icon'\n     for animation frames with no specified image.\n   * New filesystem implementation based on boost filesystem\n   * Added \"--noaddons\" command-line argument, prevents any add-ons from being\n     loaded.\n   * Added \"--render-image\" command-line argument, similar to --screenshot, but\n     instead of a map, it takes a wesnoth imagepath and generates at bitmap\n     with the filters applied.\n   * New gettext implementation based on boost locale. This raises min boost\n     requirement to 1.48, and adds a new dep (locale, filesystem was also added\n     above)\n   * New image scaling routine imported from the xBRZ project (HqMAME on\n     sourceforge)\n   * Now may save screenshots and other images as pngs, using SDL_SavePNG lib\n     (from github)\n   * New RNG implementation using boost::mt19937, and boost::random_device for\n     seeds. The boost random library is now a build requirement.\n   * Add \"lua\" random map generation\n   * Multiplayer server can now handle scenarios with more than 9 sides\n   * [modify_side] controller= now works in networked mp. If a null-controlled\n     side becomes alive by [modify_side] controller=ai/human then the currently\n     active client will be assiged controll\n   * Fixed a stingstream syntax error that caused the build to fail in Visual\n     Studio 13\n   * Fixed hotkeys for changing tips in titlescreen (bug #18926).\n   * Fixed problems building wesnothd using cmake if not building the game\n   * Added several new options to GUI.pyw\n   * Fixed a bug in which sides without a leader, but not defeated due to\n     defeat_condition set to no_units_left or never couldn't capture villages\n   * Fixed several Mac OS specific bugs in GUI.pyw\n   * Fixed bug 22987 for filtering on era and mods in the Multiplayer lobby.\n   * Fixed bug 23117 Invert breaks lobby filtering if Apply Filter is off.\n   * Fixed bug 23426 Show terrain description hotkey works also for shrouded\n     hexes.\n   * Fix bug #23243: Segfault while clicking during [delay] in prestart.\n   * Remove support for legacy style unit abilities descriptions.\n   * Fixed bug #23445: set default build type in cmake to \"Release\" to ensure\n     that the game is not unoptimized\n   * Increased minimum version of FriBiDi to 0.10.9 in cmake to match scons\n   * Changed how FriBiDi is found in cmake to using pkgconfig\n   * Made the file chooser dialog (used for e.g. loading maps in the editor)\n     use uniform path delimiters on Windows, fixing issues with browsing to\n     parent directories (bug #23224).\n\nVersion 1.11.11:\n * Add-ons server:\n   * Filenames with whitespace in them are no longer allowed.\n * AI:\n   * Non-default multiplayer and Micro AIs:\n     * Fixed bugs which could lead to the AIs being disabled for the rest of the\n       turn if WML events removed or changed units during the AI turn\n     * Improved error reporting of invalid AI actions\n * Campaigns:\n   * Eastern Invasion:\n     * Updated maps for scenarios 12, 14, 16 and 17a.\n     * Fixed a bug in 'Captured' which can cause the beginning to make no\n       sense.\n   * Under the Burning Suns:\n     * Fixed broken Divine Incarnation unit type in The Final Confrontation.\n * Language and i18n:\n   * Updated translations: German, Italian, Slovak\n * WML engine:\n   * Bug #21643: Removing fog from a single hex no longer makes the hex ugly.\n   * WML files whose names contain whitespace trigger preprocessor errors.\n   * Bug #21722: Event handlers with multiple names never fired.\n * User interface:\n   * Corrected most of the issues left with the new default theme.\n     * Reintroduced the alignment, race and side being shown in the sidebar.\n     * Adjusted the theme to the size and shape of the new minimap frame images.\n     * Certain changes to the used text colors, sizes and alignment.\n   * Non-team labels no longer remove team labels that were present in the\n     same hex.\n   * New colors for the Light Red and Dark Red minimap markers.\n   * Bug #21724: 'none' is now a special case for [unit_type] ellipse\n * Miscellaneous and bug fixes:\n   * Units can no longer be moved in linger mode (bug #21450).\n   * Changed: Updated valgrind suppression file.\n   * Fixed color issues with font_rgb in unit status labels in themes.\n   * Labels are now removed when shroud/fog is removed, rather than waiting\n     for a new turn (bug #21434).\n   * Percent signs show when describing traits that increase damage or attacks\n     by a percentage (bug #21577).\n   * Linux dbus notifications: Only last 5 messages are remembered, and they\n     are displayed with the most recent ones first.\n   * Fixed bug #21736: MP create screen always defaulting to top entry.\n\nVersion 1.11.10:\n * Add-ons client:\n   * Fixed faulty add-on _info.cfg files causing the game to display obscure\n     error messages or crash to desktop.\n   * Generated _info.cfg files now contain the list of dependencies for an\n     add-on as well (needed by wesnoth_addon_manager).\n   * Python wesnoth_addon_manager client:\n     * The dependencies= attribute and the [feedback] tag in .pbl files are\n       now properly supported (bug #21189).\n     * Generated _info.cfg files now contain the same information as the\n       game's built-in client (type and title were missing).\n * AI:\n   * Hang Out Micro AI: default AI [avoid] aspect is now taken into account\n   * Fixed problems with several Micro AIs that sometimes produced OOS errors\n * Campaigns:\n   * Eastern Invasion:\n     * New world map.\n     * Rewrote scenario 'Training the Ogres' and renamed it to\n       'Capturing the Ogres'.\n     * Rewrote scenario 'Captured'.\n   * Heir to the Throne:\n     * Fixed Delfador clobbering whichever unit happens to be standing on\n       31,11 at the end of The Bay of Pearls, causing it to disappear\n       forever.\n     * S15 (The Lost General): fix bug of sighted events firing too early\n   * Legend of Wesmere:\n     * Fixed missing journey map background in story screens.\n   * Liberty:\n     * Updated sprites for Shadow Mage line.\n   * Son of the Black Eye:\n     * Rebalancing of the campaign is now complete\n   * Under the Burning Suns:\n     * Updated animation WML of all campaign specific units\n * Editor:\n  * Fixed: Drawing the offmap area for small resolutions.\n * GUI2:\n   * Added: FAI-function handling in GUI2 widgets.\n   * Added: A new tooltip window.\n * Language and i18n:\n   * Updated translations: Scottish Gaelic\n * Lua API:\n   * Config of current era is now available in a Lua table in MP games\n   * Config of any era can be requested by id, also a list valid era ids\n * Multiplayer:\n   * Fix for bug #21405, in a series of features:\n     * The abort option presented to the host when a player disconnects\n       from a networked game is now a \"save and abort\" option.\n     * New Idle controller status: Sides may now be set in an \"idle\" state\n       by the host when a player disconnects from a network game. This does\n       not give any player control or vision. To proceed with the game, the\n       host must reassign the side's controller using :control, :droid, or\n       :give_control as usual. (give_control existed but was not documented)\n       Related to this, there are new commands :controller which query the\n       controller status, and :idle which toggles the idle status.\n     * New \"Blindfold Replays\" option: Observers may check a box in the\n       lobby so that if they join a game, they will be \"blindfolded\" and see\n       only a black screen until they are given control of a side.\n * Units:\n   * New baseframes for Jundi, Muharib, Batal, Qatif-al-nar, Qudafi, Rasikh.\n * User interface:\n   * New UI for displaying errors detected during the core and add-on WML\n     loading process (parser and preprocessor errors), including the\n     ability to copy the report to clipboard.\n   * New UI for displaying the notification that a screenshot or map\n     screenshot was successfully saved to disk, including options to open it\n     in an external application, copy the path to clipboard, or browse the\n     screenshots folder.\n   * Force grayscale antialiasing for text rendered using Cairo/Pango (e.g. by\n     GUI2) on Windows to work around ClearType-induced glitches (bug #21648).\n   * Fixed bug #21584: Properly redraw the minimap when the minimap is\n     resized.\n   * Fixed: Enable blurring in the title screen.\n   * Added descriptions to the options in Preferences -> Display -> Themes.\n   * New sound played to signal the start of an MP game.\n * WML engine:\n   * WML loading phase errors are reported to stderr in a new indented format.\n   * Implemented [true] and [false] ConditionalWML tags, which describe a\n     condition that always yields true or false, respectively.\n   * Fixed: Disallow change and remove sections without an id in the ThemeWML.\n   * Added [theme] description attribute for including a description of the\n     theme that will be displayed in Preferences.\n   * [theme] name attribute is now expected to be translatable and used only\n     for the theme selection UI. Existing [theme]s need to be converted to\n     have a separate 'id' attribute.\n   * [endlevel] now has two optional subtags [next_scenario_settings],\n     [next_scenario_append], which can be used to reconfigure next scenario.\n   * Optimizations made to the game events engine. Slower machines may notice\n     an improvement during movement (when enter/exit_hex events are triggered).\n     The optimization is more effective when relatively few events have variables\n     in their names.\n * Miscellaneous and bug fixes:\n   * Fixed: A compilation warning with DEBUG_WINDOW_LAYOUT_GRAPHS.\n   * Added -Wold-style-cast to the CMake strict flags.\n   * Made sure that cmake does not add -NDEBUG for release builds since this\n     flag breaks building.\n   * Updated screenshots used inside the ingame help and fixed description of\n     orbs.\n   * Fixed bug #21659: lua location_set:empty now works as described\n   * Users now get a warning if they start a multiplayer scenario through the\n     title screen load button, as this may cause eras and modifications not\n     to work correctly in subsequent scenarios of an mp campaign.\n   * wmllint can now update base terrain aliases in UMC after the changes in\n     versions 1.11.8 and 1.11.9. This conversion is applied to the aliasof,\n     mvt_alias, and def_alias attributes under the [terrain_type] tag.\n   * Parser warnings when skipping over Unicode BOMs are now printed in stderr\n     with the file location and substitution trail when available.\n\nVersion 1.11.9:\n * Add-ons client:\n   * Display the first and last upload dates in the Description dialog.\n * Add-ons server:\n   * Record the first upload date and time for new add-ons.\n   * Removed ancient compatibility code used only for add-ons stored by some\n     1.5.x versions.\n * AI:\n   * Default AI: Gold saving is turned off by default again\n   * New macros AI_SAVE_GOLD and AI_SAVE_GOLD_DEFAULT for easy enabling of\n     recruitment gold saving in specific scenarios\n   * Wolves Micro AI: new optional parameter attack_only_prey=\n * Campaigns:\n   * Heir to the Throne:\n     * Gave Li'sar a new ability \"initiative\" (grants adjacent allies first\n       strike in melee).\n   * Son of the Black Eye:\n     * Rebalancing of the campaign continues and is done for Scenarios 1 (End\n       of Peace) through 12 (Giving Some Back).  In addition, the following\n       not directly balance related changes have also been made:\n     * S3: remove AI controller right-click menu option\n     * S4 & S9: make AI attack enemies 1 XP from leveling so that it is not\n       possible to block key locations with such units\n     * S10 & S12: don't give huge unannounced gold bonus to AIs\n * Editor:\n   * Added Impassable Overlay and Unwalkable Overlay terrains to the obstacle\n     group.\n   * Added Snowy Human City village terrain to the frozen group.\n   * Added Cave Path terrain to the flat group.\n   * Added Dry Hills terrain to the fall group.\n * Language and i18n:\n   * Updated translations: Dutch, Portuguese, Scottish Gaelic\n * Lua API:\n   * Added wesnoth.set_dialog_markup function (patch #2759).\n * Multiplayer\n   * Updated map: Ruins of Terra-Dwelve.\n * Terrains:\n   * Made Snowy Encampment, Snowy Orcish Castle, Snowy Encampment Keep and Snowy\n     Orcish Keep aliases of both castle and frozen terrains\n * Units:\n   * Decreased the strikes of the Dwarvish Lord's hatchet attack from 2 to 1.\n   * Fixed subtle magenta TC for the Giant Mudcrawler sprites not being\n     enabled in-game.\n * User interface:\n   * Restored the old control scheme as the default\n   * Fixed hidden variations of unit types (hide_help=yes) being listed in the\n     help browser when they shouldn't.\n   * Gray-out GUI1 scrollbar upwards scrolling button by default when starting\n     with the view scrolled to the top.\n   * Truncate long Advanced Preferences entries with ellipses to avoid\n     situations where the listbox is wider than the Preferences dialog frame\n     (bug #19482).\n   * Team color is now applied on the Unknown unit icon in the game Status\n     Table regardless of whether the side's leader unit supports team color.\n * Miscellaneous and bug fixes:\n   * Added -Wno-documentation-deprecated-sync to the CMake pedantic flags.\n   * Fixed several Doxygen issues found by Clang 3.4.\n   * Fixed possible invalid memory access issue in the MP sides configuration\n     code causing crashes for some users (bug #21449).\n   * Fixed broken image references in the Gameplay -> Time of Day help topic.\n   * The internal variables used by the LIMIT_RECRUITS WML macro are now\n     cleared on victory.\n   * Fixed missing log error message for invalid music tracks set with\n     play_once=yes (bug #21479).\n   * Don't force the .gz suffix on every entry of the save_index (bug #20849).\n   * Fixed a bug in [filter_vision] in SUFs that caused a hidden unit under\n     fog/shroud to produce a false positive.\n   * A lack of ToD schedule no longer causes segfaults (bug #21489).\n   * SLF work again when x XOR y is specified (bug #21488).\n   * Selecting off-map hexes, then hovering over a unit no longer causes\n     the game to crash (bug #21351).\n   * Changed: Added -Wextra-semi to pedantic compilation.\n   * Changed: Added -Wconditional-uninitialized to pedantic compilation.\n   * Fixed NULL pointer dereference when viewing units in the Recall Unit\n     dialog including nonexistent/unreadable images in their overlays, while\n     not in debug mode.\n\nVersion 1.11.8:\n * Add-ons client:\n   * Introduced new add-on type \"SP/MP Campaign\" for campaigns with\n     \"type=hybrid.\"\n   * Fixed invalid file size data from the server crashing the client on the\n     network transfer progress dialog (bug #20893).\n   * Added support for specifying a feedback page URL in the .pbl file when\n     publishing an add-on, currently intended for associating add-ons in the\n     official add-ons server with topics from forums.wesnoth.org; this is\n     achieved by including a [feedback] block with a topic_id=<number> key in\n     it.\n   * Redesigned Add-ons Description dialog, including support for displaying\n     add-on feedback page URLs.\n * Add-ons server:\n   * Fixed mishandling of inaccessible add-on packs resulting in multiple data\n     conversion errors and stalling clients (bug #20893).\n   * Added support for managing and emitting add-on feedback page URLs to\n     clients ([server_info] feedback_url_format option in the server\n     configuration file).\n * AI:\n   * RCA AI: fix bug #21334: surrounded units don't attack\n   * Coward Micro AI: new optional parameter [filter_second]\n   * Simple Attack Micro AI: new optional parameter weapon=\n   * Wolves Micro AI: fix bug that sometimes kept predators from attacking\n   * Lua AI: new replay-safe action ai.synced_command()\n   * ai.cfg: fix MEDIUM to NORMAL in attack_depth macro\n * Campaigns:\n   * all: convert many wmllint magic comments from \"recognize\" to \"who\" and\n     \"whofield\",\n   * Dead Water:\n     * New world map.\n   * Delfador's Memoirs:\n     * Updated sprite and animations for the Wose Shaman.\n   * Descent into Darkness:\n     * S3: set aggression=1 for Side 4 to avoid wrong choice of attack\n   * Eastern Invasion:\n     * Made Dacyn use teal TC and Mal-Ravanal blue TC, to make them fit the\n       portraits more.\n     * Updated maps for scenario 1-7.\n   * Heir To The Throne:\n     * Increased Li'sar's lvl3 hitpoints from 52 to 62.\n     * Implemented the portrait variations for Delfador and Asheviere.\n     * Changed Kaylan's portrait and gave him teal team coloring.\n     * Changed the flaming sword so it's now a 25% increase to damage, instead\n       of changing the damage to 15-4\n     * Added a new mechanic to Sceptre of Fire. By standing still for a turn,\n       Delfador can now tell the player the shortest path to the Sceptre.\n     * Fixed Konrad's level 1's attack animation giving an 'image not found'\n       error.\n     * Fixed Konrad's dying words event.\n   * Legend of Wesmere:\n     * S9: set aggression=1 for Side 4 to avoid wrong choice of attack\n   * Liberty:\n     * New world map.\n     * S5: set aggression=1 for Side 3 to avoid wrong choice of attack\n   * Northern Rebirth:\n     * S5a: dialogue tweaks\n   * The Rise of Wesnoth:\n     * New world maps.\n     * Redesigned scenario 'A New Land'.\n   * The South Guard:\n     * S6a: fix ogre's last words event\n     * S6b: set aggression=1 for Side 2 to avoid wrong choice of attack\n   * Son of the Black Eye:\n     * Rebalancing of the campaign continues and is mostly done for Scenarios 1\n       (End of Peace) through 8 (Silent Forest).  In addition, the following\n       not directly balance related changes have also been made:\n     * S1: the AI enemy can now also recruit bowmen\n     * S4: give the player control of the Side 3 orcs in the center castle\n     * S6: unload units from transport galleons preferentially onto land hexes\n     * S7: use Simple Attack Micro AI to have scorpions spread poison\n     * S8: use Healer Support Micro AI for elvish healers\n     * S16: Kapou'e gets his own castle at the start of the scenario to\n       eliminate dependence on luck during the first turn\n     * S17: add a warning that the AI will receive reinforcements\n     * S18: no linger mode at the end of the last scenario\n     * Minor updates to messages (grammar and prose) and objectives.\n     * Updated sprites and animations for the Orcish Shamans.\n * Graphics:\n   * New and updated animations for the Loyalist Horseman.\n * Language and i18n:\n   * Updated translations: Catalan, Chinese (Traditional), Dutch, Galician,\n     Japanese, Latin\n * Lua API:\n   * Added flag, flag_icon, and village_support fields to wesnoth.sides table\n     elements.\n   * Made wesnoth.sides[n].hidden a read-write field.\n   * New lua proxy table \"wesnoth.game_config.mp_settings\" for access to\n     MP specific settings, such as era, scenario name, and timer\n * Multiplayer:\n   * Unit names and genders are synced in MP games.\n   * Added new CampaignWML attribute \"require_campaign\". If set to \"yes\",\n     players not having campaign installed won't be able to join the game.\n   * New eras: the Default+Khalifate and Age of Heroes+Khalifate eras are now\n     available.\n * Replays:\n   * Replays include the prestart and start events again.\n   * Unit names and genders are synced between games and replays.\n   * Play/stop buttons are disabled again at the end of a replay.\n   * The 'reset replay' button works correctly and does not cause OOS\n     errors any more.\n * User interface:\n   * Removed the possibility to undo unit recruits because it caused oos.\n   * Added a party full bell to the MP game configuration screen, played once\n     all human player slots have been taken.\n   * Change layout for advertized games in the MP lobby and add map icon.\n   * Moved color cursors option to Advanced Preferences.\n   * Always hide and disable color cursors option on Mac OS X since it's known\n     to cause severe lags that render the cursor unusable.\n   * Unit overlays are now displayed in the Recall dialog, both on the list\n     and the description panel.\n   * Made filtering controls on the MP create screen functional.\n   * Removed the MP custom options dialog; all options are now shown directly\n     on the configuration screen.\n   * Removed the MP modifications dialog; modifications are now displayed\n     directly on the creation screen.\n   * The \"Compressed saves\" and \"Compress savegames using bzip2\" options in\n     Preferences -> Advanced have been replaced by a single option,\n     \"Compressed saved games\", that lets the user pick between gzip (default),\n     bzip2, and no compression. Users who previously enabled bzip2 compression\n     will need to do so again.\n   * Hide eras menu in MP Create for campaigns which have\n     \"allow_era_choice=no\".\n   * Introduced side's name in MP Connect.\n   * Middle click scrolling is now based on distance from initial click instead\n     of the centre of the screen.\n   * Make sliders able to be scrolled with the mouse wheel\n   * Allow advanced preference booleans and mp modifications to be toggled\n     via double click\n   * Fixed slight scrolling glitches with credits sections with multi-line\n     headers (e.g. those generated for campaigns with multi-line titles).\n * WML engine:\n   * WML variable turn_number is set correctly (to 1) in prestart and start\n     events.  Previously, it retained its last value from the previous scenario\n     until after the start event.\n   * [scroll_to] and [scroll_to_unit] now take an optional side filter.\n   * [trait] now accepts a \"generate_description=\" attribute, allowing the\n     auto-generated effect descriptions to be turned off.\n   * [modify_side] can now change a side's flags and status bar icon using the\n     \"flag\" and \"flag_icon\" attributes also accepted in [side] definitions\n     (bug #18454).\n   * [store_side] now stores the \"flag\", \"flag_icon\", and \"village_support\"\n     attributes from sides.\n   * New macros RECALL and RECALL_XY\n * Miscellaneous and bug fixes:\n   * Pango markup is applied correctly and consistently in button tooltips.\n   * Fixed mishandling of invalid Pango markup resulting in previous messages\n     being displayed instead in e.g. [message] (bug #20996).\n   * Added wmllint code for recognizing unit id fields in macros, added\n     non-attribute lines to local_sanity_check, added unknown speaker check.\n   * Refactored code in wmltools to create a macro-parsing function.\n   * Added era descriptions.\n   * Fixed file chooser dialog (used in the map editor and for locating the\n     wesnothd executable) interpreting special markup at the beginning of file\n     names such as \"#foo.map\".\n   * Fixed bug with modifications dependency check dialogs (bug #21365)\n   * Fixed bug with scrollbar overlaying mp description text (bug #21364)\n   * Fixed bug with help units not making links (bug #21339)\n   * Split command line option --config-dir into --userconfig-dir and\n     --userdata-dir, with --userconfig-dir defaulting to --userdata-dir's\n     value on some platforms.\n   * The color_adjust_blue_ attribute in [display] tags of saved games has\n     been renamed to color_adjust_blue. Since it is only non-zero following a\n     [color_adjust] action in a WML event, only mid-scenario saved games\n     created with previous versions may present minor color issues after this\n     change.\n   * Fixed sound sources removed while the sound effects volume is zero\n     (either in Preferences -> Sound or through the [volume] WML action)\n     persisting and escaping the sound source management code (bug #21426).\n   * The negative sign is no longer dropped when formula AI prints numbers\n     between 0 and -1.\n\nVersion 1.11.7:\n * Add-ons client:\n   * Add-ons downloaded with clients from this version onwards are shown\n     in the Remove Add-ons with their original titles from the add-ons\n     server now, instead of artificially generating titles by replacing\n     underscores from file names.\n   * Fixed color key disparities between the Add-ons Manager dialog and the\n     add-on Description dialog.\n   * It is now possible to choose the neutral/fallback add-on sorting in\n     the Add-ons Manager dialog used when no columns have been sorted by\n     the user.\n   * Report errors caused by faulty local .pbl files properly instead of\n     presenting them as network errors.\n   * Fixed regression from 1.11.0 resulting in memory leaks and/or\n     crash-to-desktop situations when failing to connect to an add-ons\n     server.\n * Add-ons server:\n   * Implemented read-only mode option (read_only boolean attribute in\n     server config WML, defaults to \"no\").\n * AI:\n   * Recruitment CA:\n     * New Recruitment CA located in src/ai/recruitment is now default CA\n     * Created new AI cfg \"Strong AI (RCA)\" with stronger recruitment\n     * Created new AI cfg \"Old Recruitment CA\" in ai/dev/ to use the old CA\n   * External CAs are now fully usable\n     * The persistent data variable works and is accessible across CAs\n     * Parameters can be passed to eval/exec functions\n   * Micro AIs:\n     * New Simple Attack Micro AI\n     * All MAIs changed to using external CAs.  This means that no engine\n       definitions are needed any more and that MAIs can be combined at will\n     * Got rid of animal_type=, guardian_type=and recruiting_type= keys.  The\n       individual Animal, Guardian and Recruiting MAIs are now separate AIs\n       that are selected with the ai_type=key\n     * Patrol, Guardian and Hunter MAIs are now side-wide CAs (not BCAs) and\n       support either the id= key or [filter] tag for unit selection\n     * Messenger MAI now works with units (both messenger and escort) without\n       weapons and when path to next waypoint is entirely blocked\n   * Experimental AI:\n     * Added new CAs Retreat, Move to Enemy and Village Hunting\n     * Algorithm improvements for several CAs\n   * Fixed time_of_day aspect so it matches time-of-day ids, not names\n     (e.g. \"Morning\" vs \"morning\"), so most use cases of ToD-dependent AI\n     configuration work again (suspected version 1.7.4 regression).\n   * Move_Leader_To_Keep CA will now move all leaders back to a keep\n     (multiple leader support for recruitment)\n   * Refactored the AI-Test-Suite completely (/utils/ai_test/)\n   * Changed AI descriptions in ai/dev/ displayed in MP computer player menu\n   * New macro AI_CONTROLLER_ALLOW_UNIT_CONTROL\n   * Remove macro RCA_STAGE\n * Campaigns:\n   * A Tale of Two Brothers:\n     * Crop campaign icon to fit campaign selection dialog (fixes bug #20935)\n   * Dead Water:\n     * Converted animation WML to the new syntax\n   * Delfador's Memoirs:\n     * Converted animation WML to the new syntax\n   * Descent Into Darkness:\n     * Converted animation WML to the new syntax\n   * Eastern Invasion:\n     * Converted animation WML to the new syntax\n   * Heir To The Throne:\n     * Converted animation WML to the new syntax\n     * Gave Moremirmu a matching holy sword attack icon (bug #21248).\n   * Legend of Wesmere:\n     * Removed now redundant MP code.\n     * Added new CampaignWML attributes: \"type\", \"min_players\", \"max_players\".\n     * Added new ScenarioWML attributes: \"new_game_title\", \"force_lock_settings\".\n     * Adjusted \"controller\" and side recruits for MP.\n     * Now uses default recruitment instead of experimental FAI-recruitment\n       in 02_Hostile_Mountains.\n   * Liberty:\n     * New AI for wolf riders in \"The Raid\"\n     * Converted animation WML to the new syntax\n     * Gave the Death Squire the submerge ability.\n     * Increased the Death Squire's blade resistance from 10% to 40%,\n       pierce resistance from 30% to 60% and lowered its impact resistance\n       from -10% to -20%.\n     * Greatly decreased the Death Squire's HP from 66 to 44.\n   * Northern Rebirth:\n     * S5a: added dialog for dungeon signpost moveto\n   * Sceptre of Fire:\n     * Converted animation WML to the new syntax\n   * Son of the Black Eye:\n     * Rebalancing of campaign started to make it more difficult in accordance\n       with its status as an expert level campaign.  Scenarios 1 - 3 done so\n       far.  In addition, the following, not directly balance related changes\n       have also been made:\n     * S3: scenario now ends after dwarf leader is killed (no need to continue\n       to the signpost any more)\n     * S3: add possibility to give Gr\u00fc\u00fc instructions\n     * S6: new Lua AI code for the transports with somewhat different behavior\n     * S14: Kapou'e cannot recruit troll whelps any more (this scenario only)\n     * S14: \"It is now Gr\u00fc\u00fc's turn\" displayed correctly on Side 4 turn\n     * S16: fix recalling of alternative units if Jetto/Inarix have been killed\n     * S18: Howgarth's death now results in defeat, as stated in objectives\n     * S18: Shan Taum death dialog shown correctly if Kapou'e kills him himself\n     * Minor updates to many messages, objectives, moves, AIs etc.\n     * Message images that would cover the speaker moved to the right\n     * Converted animation WML to the new syntax\n   * The Hammer of Thursagan:\n     * Converted animation WML to the new syntax\n   * The Rise of Wesnoth:\n     * Converted animation WML to the new syntax\n   * The South Guard:\n     * Converted animation WML to the new syntax\n   * Tutorial:\n     * Converted animation WML to the new syntax\n   * Under the Burning Suns\n     * Fixed several bugs with missing/incorrect dialog\n     * Azkotep now correctly possesses Garak if only his champion is killed\n * Engine:\n   * CampaignWML support for MP including difficulties, extra defines etc.\n   * Use the same codepath to initialize every MP campaign's scenario, thus\n     allowing the display of a functional MP \"Connect/Wait\" screen before the\n     next scenario.\n   * Reload game config for non-host players in order to match the host's\n     config, if possible. Reloads will only happen for MP campaigns using\n     CampaignWML syntax.\n   * Imagepath function \"~ROTATE\": Support for rotating by any degree.\n * Graphics\n   * Full animations for the Dwarven Thunderer line.\n   * New standing animation for the Dwarvish Berserker.\n   * New north-facing standing and attack animations for the Loyalist Spearman.\n   * New ranged attack animations for the Dark Adept line.\n * Language and i18n:\n   * Updated translations: British English, German, Greek, Indonesian, Italian,\n     Korean, Lithuanian, Portuguese, Vietnamese\n   * Improved internationalization of notifications on Windows and OS X.\n   * Introduced translations for months and weekdays, which are used when user\n     does not have locale installed.\n   * Show am/pm designations, if required, even when locale doesn't support\n     them.\n * Lua API:\n   * Added scroll_to_leader field (read/write) to wesnoth.sides table\n    elements.\n * Multiplayer:\n   * Fixed clearing map data when there is no shroud and level is sent\n     with \"store_next_scenario\".\n   * Update game's side data, slots and state in server during next scenario\n     initialization.\n   * Fixed reserved sides being counted as available in server.\n   * Added \"controller_lock\" in SideWML. The lock provides a way to be sure\n     that sides will be played with a controller which was assigned in WML.\n     I.e. if \"controller\" was set to \"ai\", it won't be possible to select any\n     other controller for a side. However, if \"controller\" was set to \"human\",\n     it will still be possible to assign any player, local, network or\n     reserved (if applicable) controller.\n   * All multiplayer locks in SideWML (e.g. \"team_lock\"), now uses\n     \"force_lock_settings\" as their default value.\n * Unit changes and balancing:\n   * Gave the Death Knight the submerge ability.\n   * Increased the Death Knight's blade resistance from 10% to 40%,\n     pierce resistance from 30% to 60% and lowered its impact resistance\n     from -10% to -20%.\n   * Lowered the Death Knight's HP from 66 to 63.\n   * Lowered the Chocobone's hills defense from 50% to 40%,\n     mountain defense from 60% to 50%, fungus defense from 60% to 40%,\n     forest defense from 50% to 30%, and village defense from 60% to 40%.\n   * Increased the Chocobone's melee damage from 9-2 to 11-2.\n   * Increased the Chocobone's blade resistance from 10% to 20%.\n * User interface:\n   * Players can now assign hotkeys to wml menu items in the preferences menu.\n   * Help Browser:\n     * Units with variants are shown as sections with their childs as topics.\n     * Links to the siblings in unit variants.\n     * Links to the base unit of none variants.\n   * MP \"Create\" screen has been revamped by moving scenario configuration\n     widgets to a new MP \"Configure\" screen, introducing a description box,\n     adding a combo selection for different types of game, and adjusting it to\n     work well with MP campaigns.\n   * MP \"Configure\" and \"Connect\" screens have been adjusted to allow to see\n     all scenarios and sides in the debug mode.\n   * MP \"Lobby\" game item has been updated to display information about\n     campaigns correctly.\n   * In-game Chat Log dialog now supports text search on timestamps, nicks,\n     and messages.\n   * Possible fix for clipboard integration issues with GUI2 widgets on X11.\n   * Fixed potential misbehavior (including invalid memory access) from the\n     tray notifications code on Windows.\n   * New Game Paths dialog displaying filesystem locations used by the game\n     to read or write data, accessed from Preferences -> General.\n * WML engine:\n   * New [disable] weapon special.\n   * New variation_id attribute with the function of former variation_name.\n   * variation_name is now the translatable name of the unit variant.\n   * The \"variation=\" attribute works now in [unit_type] and serves\n     as the default variant.\n   * [store_side] now stores the scroll_to_leader attribute from sides.\n   * Added new CampaignWML attributes: \"type\", \"min_players\" and \"max_players\".\n   * Added new ScenariowML attributes: \"new_game_title\",\n     \"remove_from_carryover_on_leaders_loss\" and \"force_lock_settings\".\n   * Allow numerical values for SideWML \"controller\" attribute.\n   * Allow WML menu items to use hotkeys alongside/instead of the menu.\n   * Really added sighted events for ambushing units.\n   * [scroll] now takes an optional side filter.\n   * Some support for negative healing. This is not guaranteed to work correctly\n     in all cases, but it does restore the basic functionality that was\n     (probably accidentally) in 1.10.\n   * Overhaul of the game events engine. Fixes some obscure bugs, like #21031,\n     and grants feature request #18713.\n   * Added new set_icon attribute for [effect] apply_to=attack.\n   * New attribute in [unit_type]: healed_sound. These\n     attributes allow for customization of the sounds played when the unit\n     is healed.\n * Miscellaneous and bug fixes:\n   * Added -256 and -512 color shifts to FADE_TO_BLACK and FADE_TO_BLACK_HOLD\n     macros to account for ToD color shifts greater than -31, guaranteeing\n     complete darkness.\n   * Unit WML frames with image modifications are now shown correctly for\n     hits/death.\n   * Fixed compare_images.py (called by wesnoth-optipng) and pofix.py to\n     function with python-3.2.\n   * Refactored and split the MP \"Create\" and \"Connect\" screens' code into\n     gui and engine parts.\n   * Lock faction, leader, and gender selections in MP \"Connect\" if default\n     values are provided and \"force_lock_settings\" is set to \"yes\".\n   * Fixed runtime error due to mismatched function call conventions in\n     set_preferences_dir() when built with MSVC++ 2010 and a relative path\n     to My Documents was passed with --config-dir in the command line.\n   * Changed: Added -Wno-deprecated-register to strict compilation.\n   * Added command line option \"--multiplayer-repeat <arg>\".\n     A game started with --multiplayer will be repeated <arg> times.\n     This is useful for batch testing.\n   * Animation WML: Fix sound start time in additional frames without\n     requiring a duration 1 frame workaround.\n   * Animation WML: Fix halo in additional frame persisting without blank\n     hex workaround at start and end if a shorter frame.\n   * New MISSILE_FRAME_FIREBALL_XY macro, used in red mage line.\n   * Fixed crash on delete of last save.\n   * The MISSILE_FRAME_MUZZLE_FLARE_MISS macro nowrequires an X and Y\n     argument.\n   * Added placehoder attack animations to the Fire Dragon.\n   * New MISSILE_FRAME_CHILL_WAVE and MISSILE_FRAME_SHADOW_WAVE macros,\n     used in the dark adept line.\n   * New knife sound for thunderer line.\n   * Fix bug #20936 with shuffle sides and incorrect initial side villages.\n   * Fix bug #20564: crash of replays of games started from scenario start save\n   * Fix bug #20124: animation not updated on [un]petrifying units with WML tags\n   * Fix bug #21264: Loading a turnsave in campaign sets negative gold to 0\n   * Fix unreported bug of Wesnoth sometimes crashing on killing unit under\n     cursor from context menu in debug mode\n\nVersion 1.11.6:\n * Add-ons client:\n   * The Description popup displays the selected add-on's dependencies now,\n     using color-keyed statuses.\n   * Circular dependencies are no longer treated as erroneous in terminal\n     output.\n * AI:\n   * Micro AIs:\n     * New Hang Out Micro AI\n     * Any number of Micro AIs can now be combined on the same side\n     * Goto MAI: new parameters avoid_enemies=, ignore_units= and ignore_enemy_at_goal=\n     * Goto MAI: [filter] is now an optional parameter\n     * ca_id is now an optional parameter for all MAIs\n     * ca_score is now an optional parameter for almost all MAIs\n     * Bug fixes for Patrol, Messenger, Multipack Wolves and all Guardian MAIs\n     * [goal] tags in [ai] blocks with turns= or time_of_day= will now work.\n * Campaigns:\n   * An Orcish Incursion:\n     * New world map.\n   * Descent Into Darkness:\n     * New world map.\n   * Legend of Wesmere:\n     * convert to \"wmllint: who\" magic comments\n   * The South Guard:\n     * Fixed double \"lich found\" event in Choice in the Fog\n * Language and i18n:\n   * Updated translations: Galician, Japanese, Lithuanian, Russian, Scottish Gaelic\n * Lua API:\n   * Added: function wesnoth.find_cost_map().\n * Units:\n   * Added description for the Wose race.\n * User interface:\n   * Unit ellipses are now automatically updated if a unit gains or loses its ZoC\n * WML engine:\n   * If [recall] cannot find a unit to recall, the message is logged at the\n     \"info\" severity level in the \"wml\" domain (instead of the \"error\" level in\n     the \"engine\" domain). This means the message will be suppressed by default.\n   * Allowed [modify_side] to modify the scroll_to_leader key\n * Miscellaneous and bug fixes\n   * Creating a unit via debug mode now clears fog/shroud around the unit.\n   * [move_unit_fake] now accepts an optional force_scroll= attribute (def. to\n     'yes') that allows scrolling the viewport even when [lock_view] is in\n     effect or Follow Unit Actions is disabled in Advanced Preferences.\n   * [move_unit] accepts an optional force_scroll= attribute like\n     [move_unit_fake] above, defaults to using the [move_unit_fake] default.\n   * Added: Feature in pathfind.xpp to build a cost map.\n   * wmllint: turn on globbing on Windows, create \"who\" and \"unwho\" magic\n     comments, bugfixes\n   * wmllint-1.4: add an enhanced and bugfixed version of wmllint 1.4 for\n     porting old add-ons\n\nVersion 1.11.5:\n * Add-ons client:\n   * Do not bump the download count for add-ons that are currently installed\n     and are being reinstalled or upgraded\n * Add-ons server:\n   * Restricted names (not titles) for newly uploaded add-ons to ASCII hyphens,\n     underlines, and alphanumerical characters. Previously uploaded add-ons\n     are exempt from this change.\n * AI:\n   * New macro EXPERIMENTAL_AI for using Experimental AI in both SP scenarios and MP maps\n   * Recruiting in Micro and Experimental AIs: allow more terrain codes for castles/keeps\n   * Improved/Added: Command 'lua wesnoth.debug_ai([side]).ai' will now give access to the\n     ai-table of [side].\n   * Improved AI behavior when using goto_x / goto_y in WML\n   * Micro AIs:\n     * Zone Guardian: Add optional station_x,station_y= keys\n     * Goto: don't exclude leader by default\n     * Bug fixes in Return Guardian, Healer Support and Goto MAIs\n   * Experimental AI: fix bugs that disabled recruiting for some UMC weapon specials\n * Campaigns:\n   * All:\n     * replaced deprecated aspects with [goal] aspect\n   * Heir to the Throne:\n     * Updated Li'sar's movetype and resistances to match her armor.\n   * Legend of Wesmere:\n     * Scenario 05: Elvish Horse Archers can now carry the treasure\n     * Scenario 09: the player's loyal units stay in the recall list, instead of\n       being stored and then unstored in scenario 14\n   * Under the Burning Suns:\n     * Scenario 8 (Out of the Frying Pan): Fix messenger AI (Lua errors and wrong goal)\n * Engine:\n   * Made game config loading more modular by extracting appropriate\n     functionality from game controller and adding it to a new class.\n     Wrapper functions for editor's and game's config loading were added.\n * Graphics\n   * New scorpion baseframe (replaces old image set)\n   * New skeletal dragon baseframe (replaces old image set)\n   * New cavalryman line baseframes (replaces old image set)\n   * New elven cavalry units baseframes (replaces old image set)\n   * New paladin, knight, grand-knight, lancer baseframes (replaces old image set)\n   * New giant mudcrawler baseframe and animations (replaces old image set)\n * Language and i18n:\n   * Updated translations: French, Galician, Latin, Lithuanian, Old English,\n     Portuguese, Portuguese (Brazil)\n * Lua API:\n   * location_set.of_pairs() now can take coordinates defined by x/y= keys as well\n   * Fixed the x1,y1 variables in enter/exit_hex events handled via\n     wesnoth.game_events.on_event.\n * User interface:\n   * Added notification support for Windows\n   * Made it so that the \"Back to Turn X\" and \"Back to Start\" menu items work\n     with .bz2 saves\n   * Removed Dfool and Experimental themes\n   * Major visual overhaul:\n     * Most UI elements have new images\n     * Button sizes have been standardized; regular buttons are 108x22 (H22), menu\n       buttons are 100x20 (H20), square buttons are either 25x25 or 30x30 depending\n       on purpose.\n     * Regular and menu buttons are now in subdirectories of images/buttons/\n     * Button icon overlays are now in images/icons/\n     * Icons can now be overlaid on a team-colorable base provided in images/buttons.\n     * New team color ranges have been introduced for this purpose.\n   * Added possibility to kill unit under cursor with context menu in debug mode.\n * WML engine:\n   * Added new aspect 'advancements' which with lua engine can handle a\n     function return type of the form f(x, y) -> String. 'advancements'\n     tells the AI to what unit a given unit should advance to.\n   * Fix \"Shuffle sides\" incorrect behaviour: children inside [side] were also\n     swapped.\n   * Fixed incorrect image path function name in error messages generated by\n     using ~CROP() with negative coordinates.\n   * Fixed abilities sometimes affecting self during movement even when they are\n     flagged as not affecting self (bug #20755).\n   * Added deprecation messages to aspects [target], [protect_unit], [protect_location],\n     protect_leader=, protect_leader_radius=\n   * Fixed bug #20836: advancing units can fire events in [harm_unit] if fire_event=yes\n   * Advancing units can be animated by [harm_unit] if animate=yes\n   * Added deprecation message to aspect [goal] when using \"name=protect_my_unit\".\n * Miscellaneous and bug fixes\n   * Fixed minor issue with Drake Clasher animations\n   * Added a new playlist FULL_MUSIC_PLAYLIST, which contains all Wesnoth tracks\n     in alphabetical order\n   * Added -Wno-null-conversion to the CMake pedantic flags.\n   * Changed: Decreased the pango cairo dependency to version 1.21.3.\n   * Changed: Mark system headers as system headers in CMake.\n   * Fixed the recall list sometimes getting confused when dismissing a recall.\n   * Prevent unchecked memory access in cut_surface()\n   * Remove game controllers: new and abstract. Were never properly implemented.\n   * Remove --new-syntax command line option. Was never properly implemented.\n   * Several wmllint additions: remove backslashes and userdata/ from paths, convert\n     data/campaigns/ to data/add-ons/, give more detailed message for color spec to\n     Pango fix-up, delete files on Windows before rename.\n\nVersion 1.11.4:\n * AI:\n   * Reverted new Lua AI persistent storage mechanism for external CAs that\n     would crash Wesnoth under certain circumstances in 1.11.3. This will be\n     re-committed in an upcoming release.\n   * Micro AIs\n     * Healer Support MAI now respects RCA AI [avoid] aspect.\n\nVersion 1.11.3:\n * AI:\n   * Micro AIs\n     * New Goto and Zone Guardian MAIs\n     * Change SUF/SLF names to [filter]/[filter_location] and variants thereof\n     * Add optional SUF to Healer Support MAI\n * Campaigns:\n   * Descend into Darkness:\n     * Fix the surviving orc leader starting poisoned after scenario 5.\n * Language and i18n:\n   * Updated translations: Chinese (Traditional), Indonesian, Italian, Polish,\n     Portuguese, Russian, Vietnamese\n * User interface:\n   * Fixed 'end turn' button's state in MP and title2 issues.\n   * Fixed (bug #17220): Cursor in gui2 text box now behaves appropriately after\n     text box overflow occurs.\n   * Change Difficulty checkbox in Load Game dialog in GUI1 gets disabled if\n     change in difficulty of a loading game won't take effect (bug #20381).\n   * Fixed 'end turn' button's state issue: button stays disabled after the first turn.\n   * Fixed bug #20592: dialog (wml_message.cfg) is shifted by the\n     distance between the left edge of the screen and the game map\n   * Overhaul of the editor's gui\n * WML engine:\n   * Fixed invalid memory access issues caused by subnamespaced persistent WML\n     variables (bug #20385).\n   * fix negative gold carried over (bug #20676)\n   * Allow filtering on controller= in SSFs. Cannot be used in networked multiplayer.\n   * When controller in 'side' tag is ai, use 'no' as default value\n     for 'allow_player' attribute.\n * Miscellaneous and bug fixes\n   * Switched to git version control. Hosting moved to SourceForge\n   * Improved: Autorevision based revision numbers in CMake.\n   * Don't let petrified units reveal ambushers\n\nVersion 1.11.2:\n * Add-ons client:\n   * Fixed bug #20518: identical add-ons titles not supported\n   * Add a button to the Filter Options dialog to toggle all currently\n     displayed add-on categories at once\n * AI:\n   * Experimental Multiplayer AI\n     * Improve recruitment, notably first turn choices and units with poison\n       and charge\n     * Improved selection of units for village stealing\n     * Remove dependency on AI-demos add-on\n     * Fix bug when playing on maps with a turn limit\n     * Fix bug handling regeneration\n     * Minor improvements in switching between castles\n     * Add healer support micro AI to improve healer use\n     * Improved village capturing\n     * Retreat badly injured units more effectively\n   * New [micro_ai] tag, 18 different Micro AIs, and 14 test scenarios\n     * This includes AIs for 7 different animal behaviors, bottleneck defense,\n       2 different guardians and a coward, healer support, lurkers,\n       messenger escort, patrol, protect and move a unit, and 2 alternative\n       recruiting strategies.\n     * Documentation at http://wiki.wesnoth.org/Micro_AIs\n   * New leader_ignores_keep AI aspect that lets AI leader take part in the same\n     AI moves as the non-leader units.\n   * Rename passive_leader_shares_keep candidate action to leader_shares_keep.\n     The old syntax still works for backward compatibility (for both CA and\n     macros).\n   * Fix minor bug in leader_shares_keep candidate action that occurred\n     under some circumstances when the AI leader does not have full MP\n * Campaigns:\n   * Sceptre of Fire:\n     * Allow game to continue after completing scenario (reported in forums)\n   * Son of the Black Eye:\n     * Prevent infinite loop if fewer than two transport ships (bug #20389)\n * Graphics:\n   * New bigmaps for the title screen and campaigns HttT, TSG, SoF and SotBE\n   * Fix layering error with bridges\n * Language and i18n:\n   * Updated translations: British English, Chinese (Traditional), Dutch,\n     Estonian, French, Galician, German, Italian, Japanese, Latin, Lithuanian,\n     Portuguese, Portuguese (Brazil), Slovak, Vietnamese\n * Lua API:\n   * new wesnoth.get_time_stamp() function\n   * new helper.shuffle() function\n   * The wesnoth.transform_unit() function no longer performs a full heal. It\n     will (still) enforce the resulting unit's maximum hit points, though.\n   * The wesnoth.transform_unit() function will automatically remove poison from\n     a unit that is immune after transforming.\n * Multiplayer:\n   * Moved new lobby option in Preferences -> Multiplayer to Advanced\n     Preferences and clarified description\n   * MP command-line mode now works correctly, including replays, random maps\n     and default values (bugs #19853, #19877, #19883, #19895 and #20009)\n   * New --ignore-map-settings MP command-line option\n   * Fixed some issues with Dark Forecast skipping spawns and failing to end.\n * User interface:\n   * Allow copying the selection in the old (default) lobby using\n     Ctrl+C/Command+C (bug #5877)\n   * Color coded the resistance table in the hp display's tooltip.\n   * Scale down unit baseframes larger than 72x72 in the Recruit and Recall\n     dialogs to prevent all list entries from being enlarged to fit\n   * Tooltip for the movement points display shows the movement costs.\n   * Updating the shroud after delaying shroud updates is done gradually instead\n     of instantly.\n   * Fixed (bug #18970): Moving a unit after closing a click dismiss dialogue.\n   * Increased bottom padding for story screen text when it reaches the bottom\n     of the screen.\n   * Fix viewport centering issues with actions such as the Next Unit command,\n     and the [scroll_to], [scroll_to_unit], and [message] WML actions (bug #18793).\n   * Removed the \"move unit to hexfield\" feature.\n   * Rearranged :inspect dialog elements to provide the data visualization\n     panel with more horizontal space.\n * WML engine:\n   * [unit_overlay] and [remove_unit_overlay] now return a more meaningful\n     error message if the image= key is missing\n   * When not replacing values, [effect] apply_to=defense will now modify\n     absolute values instead of signed values (bug #20242). This allows for\n     cleaner WML when the unit type is not necessarily known in advance.\n   * Split the 'not_living' unit status into 'unpoisonable', 'undrainable' and\n     'unplagueable'. 'not_living' now acts on the whole group\n   * The bugs with sighted events have been resolved.\n   * A unit's maximum hit points are more regularly applied. This affects\n     [transform_unit], [effect]apply_to=type, and [effect]apply_to=variation.\n   * Poison is automatically removed from immune units after using\n     [effect]apply_to=type or [effect]apply_to=variation.\n   * Fixed bug #20401: [remove_unit_overlay] did not work when the image used an\n     image path function that took multiple parameters.\n   * Refactored [base_unit] to be more robust in oddball cases.\n   * Improved support for setting id= within a [variation].\n   * Added support for square bracket expansion in animation strings I.E\n     halo=\"pic[1-2,5]:[10,20,30]\" expands to halo=\"pic1:10,pic2:20,pic5:30\"\n     this is used for halos, team flags, animated terrains and unit animations\n   * Changed default unit halos and macros to use new square bracket expansion\n   * Fixed bug #20468: Update the owned villages when using [replace_map].\n   * Changed [vision_costs] to default to movement costs on a per-terrain basis.\n * Miscellaneous and bug fixes:\n   * The undo stack is preserved across a save-reload.\n   * Removed several unused private member variables.\n   * Fixed the present in-game command line autocompletion feature so it\n     actually works without using :debug\n   * Removed recognition of the --smallgui command line option, which has been\n     superfluous since 1.9.5.\n   * Made wmllint recognize victory_string, defeat_string,\n     gold_carryover_string, and notes_string (all from the [objectives] tag) as\n     attributes that need to be made translatable\n   * Added -Wdocumentation to the CMake pedantic flags.\n   * Make drakes fly on volcano tiles (bug #20485).\n   * Added a FOREACH macro to emulate C++11 for(... : ...) style loops.\n   * Fixed bug #20290: No longer terminate due to a corrupt savegame.\n   * Fixed bug #19970: No longer terminate due to corrupt preferences.\n   * Changed: Increased the pango cairo dependency to version 1.24.4.\n   * Fixed a display artifact (halos not cleared) when WML moves a unit.\n   * Improved the display of vision costs in the unit help.\n   * Fixed wmllint, wmlscope and wmlindent not working correctly on Windows if a\n     command line argument ends with a backslash\n   * Fixed: Compilation with CLang 3.2 and libc++.\n   * Added: Autorevision based revision numbers in CMake.\n\nVersion 1.11.1:\n * AI:\n   * New AI: Experimental AI\n     * Improved recruitment, castle and village management over current default AI\n * Campaigns:\n   * Dead Water:\n     * Removed duplicated loyalty overlay (that now is in core), and used\n       {IS_LOYAL} macro\n     * Stunned units are now marked with a status icon\n   * Delfador's Memoirs\n     * Add dummy side to cutscene to avoid crash at end of story part\n       (bug #20208)\n   * Eastern Invasion:\n     * New set of portraits\n   * Legend of Wesmere:\n     * Scenario 02: Replaced the moveto events for checking the\n       dwarvish borders with enter_hex events\n     * Scenario 08: Add dummy side to cutscene to avoid crash at end of story\n       part (bug #20208)\n   * The Rise of Wesnoth:\n     * Fix bug #16772: AI won't attack\n   * Under the Burning Suns:\n     * Keep a spawned unit from disappearing on reload in scenario 6b\n     * Stunned units are now marked with a status icon\n     * Fix bug #19303: dwarf sometimes spawns in cave wall\n * Graphics:\n   * New portraits: Tentacle of the Deep\n   * Updated brown lich alternative portrait\n   * Fixed glitches caused by larger-than-hex standing units with certain frame\n     image effects when image= is not explicitly specified (bug #20099)\n   * Fixed standing unit animation glitches caused by [move_unit_fake] on\n     adjacent locations (bug #20098)\n   * The special ellipses for leader and hero units now support team coloring.\n * Language and i18n:\n   * New translation: Scottish Gaelic\n   * Updated translations: British English, Chinese (Traditional), Croatian,\n     French, Galician, German, Hungarian, Italian, Latin, Lithuanian, Polish,\n     Portuguese (Brazil), Russian, Slovak, Ukrainian\n * Lua API:\n   * new wesnoth.have_file() function\n   * wesnoth.get_time_of_day() now works when specifying a turn when the number\n     of turns is unlimited\n * Multiplayer:\n   * Silver Mage no longer allowed as a leader in Age of Heroes\n   * Added support for modification tags\n   * Added support for dependencies between eras, scenarios and modifications\n   * New [options] tag to allow MP add-ons to add their own settings on the game\n     creation screen\n * Networking:\n   * Handle an exception in the SDL_net-based network code (bug #20205)\n * Terrains:\n   * Added Unwalkable Overlay terrain (^Qov)\n   * Added Dense Palm (^Ftp), Savanna (^Fts), and Rainforest (^Ftr) terrains\n   * Updated graphics for palms (^Ftd), tropical forest (^Ft),\n     plank bridge (^Bp*), stone bridge (^Bs*), and chasm bridge (^Bcx*)\n * User interface:\n   * Healing animations are now played when poison is cured.\n   * Moving units to a selected hex field\n     * Units in reach of a hex field are highlighted during selection.\n     * Highlighting and labeling the selected hex field with the amount of in\n       range units.\n     * Left click on a controlled one triggers the move.\n   * The recruit and recall commands are restored when right-clicking on a\n     leader, but with new semantics -- only that leader's recruits/recalls will\n     be presented as options.\n   * Fog/shroud clearing has been reworked to be more timely and consistent.\n   * The statistics window can now show per-scenario statistics.\n   * The sidebar now includes specials when reporting a weapon's damage.\n   * The sidebar now includes all specials when reporting a weapon's number of\n     attacks (not just swarm).\n   * Active/inactive highlighting for abilities and weapon specials in the\n     sidebar.\n   * Fix broken MP game creation dialog on low resolutions\n   * The \"repeat recruit\" command now refers to the last recruit by the current\n     side, rather than the last recruit by the current game client.\n   * Refinements to undo stack management, sometimes allowing moves to be undone\n     after \"update shroud now\" (if those moves did not affect fog/shroud).\n * Whiteboard\n   * Don't end turn if executing all actions in another way than using the\n     \"end turn\" button/hotkey. (bug #19901)\n * WML engine:\n   * The recall, recruit, prerecall, and prerecruit events will now block\n     undoing unless they contain [allow_undo].\n   * The cost of a recall/recruit is now paid between the prerecall/prerecruit\n     and recall/recruit events. (FR #16711)\n   * Sighted events should be reliable, provided the player does not activate\n     delayed shroud updates (which is still a major caveat).\n   * Added [effect] apply_to=overlay\n   * Added [effect] apply_to=experience\n   * Added [terrain_type] max_light= and min_light=.\n   * Standardize weapon filters, supporting special=, [and], [or], and [not]\n     wherever weapons can be filtered.\n   * Image path functions again evaluated left-to-right. Fixes bug #20196.\n   * Support for [swarm] causing attacks to increase as health decreases.\n   * Inactive names and descriptions for abilities and weapon specials will\n     default to the active name/description if omitted.\n   * Fix a bug with [store_time_of_day] so that it treats the provided variable\n     as a container instead of an array (overwrite instead of append).\n   * Added [side]suppress_end_turn_confirmation= for those (rather nonstandard)\n     scenarios where players often skip their turns.\n * Miscellaneous and bug fixes:\n   * Fix invalid memory access crash resulting from deleting all saved games\n     in the Load Game dialog\n   * Redesigned the hotkey preferences dialog\n   * Removed two Khalifate leftovers (Hakim portrait and KHALIFATE_NAMES macro)\n   * Ambush now works for desert palms and dead great trees (bug #20207)\n   * Hex field size and default terrain are wml configurable\n   * RCA AI renamed from 'testing' to 'default'\n   * Fix OOS when dismissing a recall in a multiplayer campaign (bug #19924).\n   * Fixed a bug disallowing the left shift and meta key to be detected in\n     the hotkeys\n   * Added -Wuseless-cast to the CMake pedantic flags.\n   * Added -Wc++11-compat to the CMake pedantic flags.\n   * Added bzip2 support for savefiles. (new dependency)\n   * Fix OOS when observe scenario 2 in a multiplayer campaign (bug #20217).\n   * Synchronize underlying_unit_id in MP campaigns (bug #20227)\n   * Fixed: Compilation with Boost 1.51.0 (Gentoo bug #440742).\n   * Added -Wnoexcept to the CMake pedantic flags.\n   * Fixed a rare case where a player could exercise (very) limited control of\n     another (human) player's units in a hotseat game.\n   * Added project files for CodeLite.\n\nVersion 1.11.0:\n * Add-ons client:\n   * The Update Add-ons dialog has been replaced with an alternate view mode\n     for the main Add-ons Manager\n   * The Add-ons Manager now allows filtering add-ons by installation status\n     (all, installed, not installed, upgradable)\n   * Add-ons in the Add-ons Manager are initially sorted by title instead of\n     the order they were originally uploaded to the server\n   * Add-ons with broken/unavailable dependencies are reported to the user\n   * The add-on dependencies prompt reports all recursively-resolved\n     dependencies, not just the direct dependencies\n   * Add-on installation, upgradability, and publish status is reported as a\n     footnote for every list entry, plus a field in the Description dialog\n   * The Add-ons Manager filter textbox is preserved during the same\n     connection (i.e. while installing multiple add-ons)\n * Add-ons server:\n   * Reject add-ons with names or titles that begin with a WML text format\n     markup character (any of *, `, ~, {, ^, }, |, @, #, <, &)\n   * Switched to port 15006 for 1.11.x and adjusted all tools to this port\n * AI:\n   * In akihara_recruitment, analyzing battle field - we take village as\n     important spot. The aim of it is to list terrain couple according to these\n     important spot so we can evaluate battle simulation on them.\n   * In akihara_recruitment, the struct situation became a class.\n   * New AI formula 'aki_eval' for testing a battle evaluation\n   * AI now properly considers the expected damage from poison when attacking\n     using poisoners.\n   * Adding a new scenario for the ai-arena-small in order to test the new AI.\n   * Adding new files for the new AI (ai/akihara/recruitment.?pp)\n * Campaigns:\n   * Added a note to all final scenarios, stating which one is the last scenario\n   * A Tale of Two Brothers:\n     * Fix bug #19949: Turns left counter initially incorrect when objectives\n       change and turn limit is extended\n     * The Chase: fixed some missing messages if no unit with role=speaker is\n       present\n   * Dead Water:\n     * Updated the Stun weapon special code to use [object] duration=turn\n   * Delfadors Memoirs:\n     * Showdown in the Northern Swamp: added to conditional notes in objectives\n       about who should kill Iliah-Malal\n   * Dead Water:\n     * Changed uses of \"ai turn\" to \"side # turn\" (\"[event]name=ai turn\" breaks\n       replays)\n   * Descent into Darkness:\n     * Fix most possible cases for Darken Volk becoming \"stuck\"\n       in 09_A_Small_Favor3.\n   * Eastern Invasion:\n     * Revisions to dialogue and part of the story.\n   * Heir to the Throne:\n     * Implemented FR #19418: the Orcs destroy the villages near Konrad's castle\n       when capturing them in The Elves Besieged\n     * Fixed bug #19531: scroll to reinforcement units in Blackwater Port\n     * Fixed bug #19517: The injured sergeant in HttT: Cliffs of Thoria will now\n       always become visible when he is discovered.\n   * Legend of Wesmere:\n     * Fix bug #19577 - some terrain was not snow covered\n     * Fix bug #19565 - yetis remaining under fog when they appear in scenario\n       10\n   * Liberty:\n     * Fixed unknown unit type errors in 04_Unlawful_Orders\n   * Sceptre of Fire:\n     * Searching for the Runecrafter: updated the \"sighted location\" code to\n       make use of [filter_vision], plus a SSF\n     * Keep recall list at end of scenario 7\n   * Son of the Black Eye:\n     * Removed Al'Brock and Flar'Tar death as defeat condition in objectives in\n       Civil War\n     * Fixed bug #19684: Kapou'e says a different message if he kills the first\n       Elf in Silent Forest\n     * Silent Forest: the messages that appear upon killing the first Elf can be\n       translated differently depending on the Elf's gender\n     * Fixed bug #19686: fixed two variable checks that prevented some strings\n       from being displayed in Back Home\n   * The Hammer of Thursagan:\n     * Fixed bug #19743: in Mages and Drakes, Perrin has two different messages\n       about apprentices, depending on the difficult level\n     * Karrag now gets enough gold to actually recruit when met\n   * The South Guard:\n     * Fixed bug #19758: Urza Afalas' sighted event is fired also when the Lich\n       is seen, and if the player allies with the Elves, then both Urza Afalas\n       and Mal M'Brin must be defeated\n   * Tutorial:\n     * Applied patch #3203: Allow to end the scenario via the right-click menu.\n     * Fixed bug #19316: Narrator messages are now translated.\n     * Replaced $unit.type by $unit.language_name to make a string completely\n       translatable\n     * Fixed bug #19367: Incomplete i18n in wesnoth-tutorial\n   * Under the Burning Suns:\n     * Made it so that Kaleh gets the default AMLA after he's been fully\n       upgraded\n     * Fixed flood appearance over wooden boards\n     * Update scenario code to take advantage of modern WML features\n     * Fix bug #19630\n     * Fix some minor unreported bugs\n     * Minor spelling and grammar corrections\n     * Made it so that all units are rehydrated quietly upon victory in scenario\n       two\n     * Updated the Stun weapon special code to use [object] duration=turn\n     * The Human Commander unit now uses the smallfoot movetype instead of\n       woodland\n     * Display dehydration status in the sidebar\n     * Ensure player always has positive gold leaving the cave in Out of the\n       Frying Pan\n     * New AI for human messenger in \"Out of the Frying Pan\"\n     * Taking all items is now optional\n     * Finding the map in scenario 3 is now useful\n     * Healers now prevent dehydration instead of removing it, so they no longer\n       heal dehydrated units\n     * New art for Dark Assassin\n * Editor:\n   * New gui theme, fixes the editor being broken on low resolutions.\n     * Smaller font for displaying the terrain information.\n     * Less space between the map coordinates and the terrain information\n       (no need to display defense value)\n     * More width sidebar\n       * Features one more editing tool per row.\n       * Additional brush\n       * Button for default zoom switching.\n     * Space for a second row of editing tools.\n   * Terrain group selection from a menu, saving a lot of space.\n   * Terrain palette\n     * is scaled to fit at all resolutions.\n     * Removed the scrolling feature which is no longer needed.\n   * Improved performance of the Editor Settings ToD lighting controls\n * Engine:\n   * Refactored scenario transition code\n   * Fixed bug #19599: Engine keeps redundant unit.ai_special_ information.\n * Graphics:\n   * New graphics for the Spectre.\n * Help menu:\n   * Added a new Add-ons section explaining add-on usage basics\n   * Added more elaborate descriptions for the Units, Abilities and Weapon\n     Specials sections, with the intent of reducing confusion when they are\n     initially empty (feature request #13914)\n * Language and i18n:\n   * Fixed two untranslatable strings in the \"new\" MP lobby\n   * Fixed an untranslatable string in the Multiplayer Commands help topic\n   * Fixed untranslatable Cancel button label in the add-ons server network\n     status dialog (bug #19659)\n   * New translations: Ukrainian\n   * Updated translations: British English, Chinese (Simplified),\n     Chinese (Traditional), Dutch, Estonian, Finnish, French, Galician,\n     German, Greek, Hungarian, Indonesian, Irish, Italian, Japanese, Korean,\n     Latin, Lithuanian, Norwegian, Old English, Polish, Portuguese (Brazil),\n     Russian, Slovak, Spanish\n * Lua API:\n   * Upgraded Lua from 5.1.4 to 5.2.0\n   * new: field wesnoth.game_config.mp_debug\n   * new: setter for wesnoth.sides[i].color\n   * Deprecated the following functions from the wesnoth table,\n     all of which have better replacements:\n     get_side, get_side_count, get_unit_type_ids, get_unit_type,\n     register_wml_action\n   * Changed: Extended support for toggle_button.\n   * Fixed: wesnoth.find_reach does no longer replace a passed private lua\n     proxy unit with the on-map unit at the same location\n   * new: helper.round function\n   * wesnoth.scroll_to_tile() now takes a fourth optional argument (boolean)\n     specifying whether to ignore the scroll speed setting in Preferences and\n     instantly warp to the given location\n   * Added wesnoth.lock_view(), taking a boolean argument specifying whether\n     to lock gamemap view scrolling (so the user cannot scroll, while WML/Lua\n     actions still can, i.e. for cutscenes), or unlock it\n   * Added wesnoth.view_locked(), returning a boolean true value if gamemap\n     view scrolling has been locked, and false otherwise\n   * Added == operator for (private, on-map, recall) lua proxy units,\n     checking for unit identity\n   * Added wesnoth.get_villages() function\n * Multiplayer:\n   * A New Land:\n     * Made it so that the \"Elvish Shaman\" option in the elvish unit selection\n       menu gets translated. Fixes bug #19677.\n   * Fix an accidental terrain type change in Isar's Cross\n   * Fix attacker side being human in 6p_Team_Survival (bug #19400)\n   * Ignore Pango markup in map descriptions (bug #19210)\n   * Canceling the sides setup screen when hosting a MP game now brings the\n     host back to the game configuration screen first instead of returning\n     immediately to the lobby or (for hotseat) titlescreen (bug #7130)\n   * The Set Password action is no longer shown for local hotseat games\n     (bug #10784)\n   * Changes to the time of day schedules of Fallenstar Lake and Silverhead\n     Crossing\n   * Random leader is default selection when picking faction\n * Music and sound effects:\n   * Replaced some of the wolf hit sounds with lower-pitched ones\n * Terrain:\n   * New Syntax for terrain maps\n   * New tropical forest images\n   * New palm forest terrain\n   * Deprecated flowers (Ggf) and Volcano (Qv) removed - use Gg^Efm and Mv\n     respectively\n   * Fix bridge/rail transitions to each other\n   * Add new rail terrain type; no existing unit can move on it, so their\n     move/defense values are unchanged\n   * New stone, hanging, and wooden chasm bridges\n   * Fix bug #19753, missing hex transition\n * Unit changes and balancing:\n   * New extra_define ENABLE_WOLF_ADVANCEMENT to optionally enable Wolves\n     advancement to Great Wolves and Direwolves\n   * New extra_define ENABLE_TROLL_SHAMAN to optionally enable Troll Whelps\n     advancement to Troll Shamans (not in multiplayer)\n   * Lowered General's experience to 150 when extra_define DISABLE_GRAND_MARSHAL\n     is used\n * User interface:\n   * Restored leader unit image in Load Game dialog (bug #18683)\n   * Added a \"Back to Start\" option to the game menu to load the current\n     scenario's start save if it is available (feature/bug #18027)\n   * Added tooltips to Load Game dialog (feature/bug #18249)\n   * Added a Reset All button to Hotkey Settings dialog in preferences\n     (feature/bug #3797)\n   * Fixed excessive idle CPU usage in story screens without story text\n   * Map editor now displays invisible overlay terrains on main map\n   * Made add-ons with markup characters at the start of their titles\n     display normally in the add-ons management dialogs (e.g. without\n     colors)\n   * Re-fogging does not occur in the middle of the player's turn.\n   * Fixed provided saved game filenames being ignored when requesting to\n     save a MP game due to a network or OOS error (bug #19562)\n   * Fixed bug #19538: Filters matching 0 saved games cause crash\n   * Clicking a unit does not reveal adjacent hidden units (bug #19381).\n   * Simultaneous ambush, sighted and teleport failed messages will no longer\n     cover each other up\n   * Added: A character limit width constrain for a text\n   * Stop showing a unit's potential moves before moving in a move & attack,\n     rather than after (more consistent with regular movement)\n   * Changed: Made the id for a tooltip and helptip mandatory.\n   * Added: Helper code to assist in widget placement.\n   * Added: New widget pane.\n   * Added: New widget viewport.\n   * Added: New dummy widget instance.\n   * Added: New control matrix.\n   * Trying to initiate movement (or an attack) before previous movement is\n     finished no longer unselects the current unit (bug #19734). (The new\n     movement command is still deliberately ignored.)\n   * The recruit and recall commands no longer appear in the context menu\n     for shrouded or (visibly) occupied hexes.\n   * Fixed bug #19844: Block recruiting into shrouded hexes.\n   * Fixed bug #19783: Disable commands while WML menu items are executing.\n   * Fixed bug #19533: Both damage tooltips now take into account local factors.\n * Whiteboard:\n   * Fixed bug #19626: segfaults on window resize\n   * Fixed bug #19369: Using planning mode can cause losing ability to move my\n     units\n   * Fixed bug #19408: Crash shortly after executing invalid multi-turn move\n   * Fixed bug #19581: Leader can still move after a planned recall\n   * Shortened all context menu items\n   * Fixed bug #19619: In local games, units keep ghosted appearance during\n     opponent's turn\n   * Fixed bug #19613: Multiple attacks after planning attacks in whiteboard\n   * Fixed bug #19618: Problems with ending turn with impossible moves\n   * Fixed bug #19615: Can see part of opponents' planned moves in local\n     multiplayer game\n   * Refactored wb::side_actions\n   * Refactored the highlighter and the visitor\n * WML engine:\n   * new key: [unit]/[unit_type] vision=<number>, decouples movement and sight\n     range.\n   * new tag: [movement_type] [vision_costs], used for calculating sight range\n     if present.\n   * new action tag: [clear_menu_item] id=...\n   * new key: [set_menu_item][command]delayed_variable_substitution=yes|no\n   * Removed support for the deprecated \"colour=\", \"debug_border_colour=\",\n     and [colour_adjust]\n   * Fixed bug #18996: Increase random number generation range.\n   * Made it possible to disable the credits screen at the end of a campaign\n     by specifying end_credits=no in the final [endlevel] action, or in the\n     [campaign] definition (defaults to yes)\n   * Added [modify_side] color= attribute, which changes a side's team color\n     range (feature/bug #18772)\n   * Removed support for the deprecated [removeitem]\n   * Implemented ~BLEND(r,g,b,o) image path function, which blends the image\n     with a specified RGB color according to certain opacity (factor or\n     percentage) (feature/bug #11590)\n   * [find_path] now returns a \"hexes\" key instead of a \"length\" key inside\n     the output array\n   * Introduce inline SSF support in action tags [allow_recruit],\n     [disallow_recruit], [set_recruit], [gold] and [modify_ai]\n   * [gold][filter_side] and [modify_ai][filter_side] are deprecated, use inline\n     SSF instead\n   * Action tags [modify_side], [place_shroud] and [remove_shroud] now default\n     to \"all sides\" instead of side=1 if left empty.\n   * Introduce support for [filter_owner]<SSF> in SLFs. For villages. Keeps\n     backwards compatibility for inline owner_side= at the cost of\n     confusing syntax (due to (possible) duplicate side information).\n     This also adds SSF support in [store_villages].\n   * Added support for resistance_multiplier= key in [harm_unit]\n   * Fixed bug #19498: [modify_unit] duplicating units if x,y changed\n   * Added inline SLF support in [scroll_to], by using the first matching\n     location\n   * Introduce inline SSF support in [objectives] and [show_objectives]\n   * The [drain] weapon special now supports value=, multiply=, divide=, add=\n     and sub=\n   * Added [heal_on_hit] for healing/harming the user by a fixed amount\n   * Drained HP amounts can now be negative.  Trigger this by setting\n     a negative value in the [drain] or [heal_on_hit] weapon special\n   * Negative drain amounts will not take a unit below 1 health\n   * Added [show_if] support to [objectives] [note]\n   * New tags: [lift_fog] and [reset_fog]\n   * New keys: reset_maps= and reset_view= added to [modify_side].\n   * Using more than 4 multiply effects no longer wraps to negative integers\n   * Added: support for ranges of sides in SSF\n   * The [filter_vision] tag of the SUF now uses a SSF\n     (viewing_side= still works, but is deprecated and\n     should be renamed to side=)\n     Semantics for empty side information changes from\n     \"all enemy sides\" to \"all sides\"\n   * [filter_vision] now works in location filters as well as unit filters,\n     and has an additional key (respect_fog) for locations\n   * Support for [effect]unit_type= and [effect]unit_gender= has been\n     removed, use [effect][filter]type= respectively [effect][filter]gender=\n     instead\n   * Border hexes are included when using radius= in the SLF of [remove_shroud]\n     and [place_shroud] (they were already included for directly matched hexes).\n   * Retrofitted CLEAR_FOG and UNCLEAR_FOG macros to make use of [lift_fog] and\n     [reset_fog]\n   * Replaced variable i by TRANSFORM_UNIT_i in macro TRANSFORM_UNIT\n   * Fix $owner_side in capture events fired due to unit movement\n   * Introduce [item]redraw=yes|no (def yes) parameter\n   * Added [object]duration=turn\n   * Pushed LOOT macro from LoW, THoT and TRoW in core\n   * Adds new WML attribute for configurable village support (upkeep)\n   * Change [object]duration=level to [object]duration=scenario\n   * The race attribute in SUFs can now take a comma-separated list\n   * New image path function: ~ROTATE()\n   * Fixed some cases where [find_path] did not restore $this_unit\n   * Added: Allow better error messages for missing WML children.\n   * [scroll_to] and [scroll_to_unit] now accept an optional boolean immediate=\n     attribute (defaults to false) specifying whether to ignore the scroll\n     speed setting in Preferences and instantly warp to the selected location\n   * Added [lock_view] and [unlock_view] WML actions, for locking and unlocking\n     gamemap view scrolling (so the user cannot scroll, while WML/Lua actions\n     still can, i.e. for cutscenes)\n   * Fixed CALL_FUNCTION macro (bug #19805)\n   * Added [effect] apply_to=halo\n   * Converted [store_villages] from C++ to Lua\n   * Introduced [unstore_unit]animate=yes|no (def. yes) parameter\n   * Made the display of ability and weapon special descriptions smarter, so\n     those descriptions no longer require (and should no longer have) the name\n     of the ability/special as the first line of the description.\n * Miscellaneous and bug fixes:\n   * Fix wrong preferences path suffix (1.1 instead of 1.10) on Linux and other\n     platforms using XDG layout (no compiled-in preferences path override,\n     bug #19318)\n   * Fixed unit sound animation timings wherever {SOUND:SLOW}, {SOUND:POISON},\n     and several macros from animation-utils2.cfg are used (see bug #19274)\n   * Restart is no longer required to toggle desktop notifications\n   * Display the savegame version when warning the user about unsupported or\n     mismatched versions (bug #7243)\n   * Implemented feature request for difficulty changing during campaigns.\n     (see bug #10978)\n   * The saved games cache file is now save_index instead of save_index.gz, and\n     it is compressed when the Compressed Saves option is enabled in Advanced\n     Preferences (patch #3115)\n   * Show base terrain description if none for overlay (bug #19411)\n   * Added wesmage tool to test SDL image manipulation functions.\n   * Fixed: A possible NULL-pointer deference in get_unit_type_function.\n   * Changed: Default man installation directory now confirms to FHS.\n   * Added: New floating point emulation code.\n   * Make Wolf Rider and Wolf raise their heads if and only if unit is\n     submerged: forums.wesnoth.org/viewtopic.php?f=4&t=36212\n   * Changed: Add a small cache for reading files, giving a minor improvement.\n   * Added: Helper tool to create images for unit tests.\n   * Added: Image manipulation unit tests.\n   * Changed: Rewrote the surface blending algorithm, and improving its speed\n     using NEON intrinsics on processors supporting NEON (the Pandora).\n   * Fixed bug #19503: \"maximum auto saves\" setting now works correctly.\n   * Fixed: A preprocessor bug looking beyond the end of a buffer.\n   * Fixed: Binding a temporary in the network code, possibly causing\n     crashing.\n   * Fixed bug #19658: In replays, units sometimes refresh movement when it is\n     not their turn\n   * Added: Enabled BREAKPOINT and WES_HALT macros on the Pandora.\n   * Fixed bug #19678: Escape the pipe-symbol in the wiki: TerrainCodeTableWML.\n   * Fixed bug #19469: Missing scenario hash results in Remote scenario always\n     added to game description\n   * Fixed bug #19322: Empty sides not being listed at the status table\n   * Fixed bug #19681: Use the created cache instead of rebuilding it all the\n     time\n   * Fixed bug #16544: Fail to read `empty' cache files.\n   * Fix bug #19681: Cache is never valid\n   * Added shroud_data to the inspection window (FR #19623).\n   * Fixed: grids now recursively search for widgets by pointer.\n   * Fixed: Wrong current side number after side turns (bug #19735)\n     It also affected the lua field wesnoth.current.side\n   * Added: Fail macros FAIL and FAIL_WITH_DEV_MESSAGE.\n   * Added: Helper code to make it easier to write enumerate stream operators.\n   * Added: UNREACHABLE_CODE macro.\n   * Added: TELEPORT animation macros usable by any units\n   * Added: CMake option ENABLE_SHARED_LIBRARIES.\n   * Fixed: Allow strict compilation with CMake using the upcoming gcc-4.8.\n   * Fixed bug #19795: OOS when [message][option] is used in a (single-player)\n     start event when side 1's controller is null.\n   * Changed: Enabled strict compilation for Clang in CMake.\n   * Added: ENABLE_PEDANTIC_COMPILATION option for CMake.\n\nVersion 1.10.0:\n * Campaigns:\n   * Legend of Wesmere:\n     * Scenario 03: Fixed bug #19067: Control over Galtrid's side stays with the\n       player after the arrival of Kalenz\n     * Scenario 22: Fixed bug #19236: Cleodil was missing and no recall list\n   * An Orcish Incursion:\n     * Scenario 3: select a new unit with the Adviser (sic) role for dialogs if\n       the original unit selected at the start of the scenario died\n   * Under the Burning Suns:\n     * Scenario 5: Fixed bug #19303: one of the dwarves was spawning in a wall.\n   * The Rise of Wesnoth:\n     * Peoples in Decline: fixed a message not shown when the Sea Serpent appears\n * Editor:\n   * Added Etheral Abyss terrain (Qxua) to the Cave category, too\n   * Updated the terrain palette icons for winter/fall single or mixed forested\n     hills so they show the default base Hhd instead of Hh\n * Graphics:\n   * Fixed some spearman attack animations being too slow in some directions\n * Language and i18n:\n   * Updated translations: Chinese (Simplified), Chinese (Traditional), Czech,\n     Finnish, French, Galician, German, Hungarian, Italian, Latin, Lithuanian,\n     Old English, Polish, Serbian, Slovak, Spanish\n * Lua API:\n   * Extend and improve wesnoth.select_hex, deprecate wesnoth.highlight_hex\n * Multiplayer:\n   * Allow tab completion of player names in commands (bug #19284)\n   * Fixed bug #19260: 'villages_value' -> 'village_value' in 5p_The_Wilderlands\n   * Fixed eras other than the default breaking 2p_Hornshark_Island. If a player\n     has a faction not in the default era, a standard set of units (aimed at\n     Khalifate) is used now.\n   * Fixed bug #19083: allow attack to happen normally without causing OOS if\n     turn time runs out in attack selection dialog.\n   * Fix some unit images being cropped in 2p_Aethermaw\n * Terrain:\n   * Removed tags ignored by engine (as reported by lipk in\n     http://forums.wesnoth.org/viewtopic.php?f=21&t=35832 )\n   * Fixed bug #18601: change swamp water so it looks as good as it did in 1.8\n * User interface:\n   * Draw gold hex cursor above all terrain when no unit visible\n * WML engine:\n   * Improve [select_unit] to match its original intention (bug #19224)\n   * Improve error handling in case of invalid maps passed to\n     [replace_map] or [terrain_mask]\n   * Disable wml menu items in linger mode without debug mode (bug #16262)\n * Whiteboard:\n   * Fixed bug #18635: Percentage not displayed for units selected at their\n     future position\n   * Fixed bug #19142: attacks can be simulated between units (for which this\n     shouldn't be possible)\n   * Fixed bug #19221: Assert when a whiteboard move-attack wins a scenario\n   * Fixed bug #19222: After 'delete planned action', the unit is almost\n     invisible\n   * Fixed turn not finishing when moves were planned for future turns\n * Miscellaneous and bug fixes:\n   * Fixed wmlindent writing CRLF end of lines on windows\n   * Fix tutorial units without xp bar\n   * Reset game credits instead of appending on WML cache refresh (bug #19292)\n   * Fix wmllint check for \"unknown xy referred to by id\" not working\n\nVersion 1.9.14:\n * AI:\n   * Fixed bug #18962 and bug #19214: AI leaders are no longer slow to select\n     attacks.\n * Campaigns:\n   * Sceptre of Fire:\n     * New set of portraits\n * Editor:\n   * Fixed overpainting of transparent tile icons on the editor palettes on the\n     sidebar\n   * Fixed terrain palette shrinking to the size of small categories when\n     switching maps (bug #19218)\n   * Fixed various crashes related to drawing/filling operations (bug #18928)\n * Language and i18n:\n   * Changed font used for CJK languages to DroidSans\n   * Updated translations: British English, Chinese (Simplified), Czech, Dutch,\n     Estonian, French, Galician, German, Hungarian, Latin, Norwegian, Serbian,\n     Slovak, Spanish\n * WML engine:\n   * Fix store_unit clearing the used variable before its filter can reference it\n     (bug #19203)\n   * Check for argument image file existence before creating a MASK or\n     BLIT image mod (bug #19208)\n   * New key [object]delayed_variable_substitution=yes|no (default no)\n     as a workaround for bug #18893 (fixes bug #19225)\n   * Made empty {} preprocessor directives be handled more gracefully\n     (bug #19233)\n   * Fixed bug #19213: [harm_unit] incorrectly uses ToD bonus\n   * The turn bell and autosaves are not triggered anymore in certain situations\n     after [endlevel] has been issued\n * Miscellaneous and bug fixes:\n   * Fixed bug #19032: Poison and level up AI defense placement calculation\n   * Fixed bug #19245: wesnoth(6) man page doesn't describe the --campaign*\n     options correctly\n   * Enable local ToD lighting option by default.\n\nVersion 1.9.13:\n * Campaigns:\n   * Northern Rebirth:\n     * Infested Caves: integrated sighted events with moveto events\n     * To the Mines: fixed Hamel not having the hero overlay\n     * Clearing the Mines: fixed Dwarves recruitment not being disallowed upon\n       winning\n     * The Pursuit: integrated a sighted event with moveto event\n     * The Pursuit: replaced another sighted event with ON_SIGHTING\n     * Elvish Princess: fixed Ro'Arthian and Ro'Sothian not having the hero\n       overlay\n     * Introductions: used ON_SIGHTING instead of sighted event\n     * Stolen Gold: gave Krash the expendable leader overlay\n     * Stolen Gold: fixed one of the two loyal Drakes having two IDs\n     * Stolen Gold: fixed Hidel missing his portrait\n     * Get the Gold: gave Eryssa the expendable leader overlay\n     * The Eastern Flank: made the Gryphon fly away and then return\n     * Showdown: removed hero overlay from Ro'Arthian and Ro'Sothian when they\n       are leaders\n     * Showdown: fixed Hamel's death not causing defeat\n     * Epilogue: fixed music not being played\n   * Eastern Invasion:\n     * The Escape Tunnel: integrated sighted event with moveto event\n     * Captured: integrated a sighted event with moveto event\n     * Weldyn Besieged: fixed a typo in Konrad's last breath event\n   * Sceptre of Fire:\n     * Caverns of Flame: integrated a sighted event with moveto event\n   * Son of the Black Eye:\n     * The Desert of Death: integrated a sighted event with moveto event\n   * Legend of Wesmere:\n     * Ka'lian Under Attack: fixed a lua error in AI code\n * Editor:\n   * Fixed missing brightening of selected hexes under the brush\n * Language and i18n:\n   * Updated translations: British English, Czech, Dutch, French, Galician,\n     German, Hungarian, Korean, Latin, Lithuanian, Old English, Polish,\n     Russian, Serbian\n * Multiplayer:\n   * Fix user interface set to side 1 when entering linger mode\n     (bug #15847)\n * Unit changes and balancing:\n   * Changed the Lancer's and the Deathblade's AMLA requirements to conform to\n     the current AMLA standards\n * User interface:\n   * Removed blur from the add-ons description dialog\n   * Fixed bug #19121: Make click dismiss work properly.\n   * Fixed bug #17961 and #18686: Shows of big portraits on smaller screens.\n   * Fixed bug #19118: Default theme: coordinates overlap with the clock status\n     panel on small horizontal resolutions. Also fixed for the widescreeen\n     theme.\n   * Made it so that \"AM\"/\"PM\" show up in the default and widescreen themes\n     on the lowest supported resolutions.\n * Whiteboard:\n   * Display turn numbers on multi-turn planned moves\n   * Fix attacks not finishing but still being transmitted over the network when\n     executing all actions\n * WML engine:\n   * Fixed: ~L() not handling lightmap having different width. Now rescaled.\n * Miscellaneous and bug fixes:\n   * Fixed: compilation with clang 3.0 in C++11 mode.\n   * Changed: Sort order of campaigns uses a stable sort now.\n   * Fixed bug #18832: Fixed ~BLIT() to access images out of bounds.\n   * Fixed: ToD local light for RGB values bigger than 128.\n   * Fixed: hex-cut of images in :layers debug tool. Also removed empty images\n   * Forward ported a new version of multiplayer chat log history dialog\n   * Fixed bug #19188: Turn dialog always speaks of Konrad in tutorial\n   * Added: NativeClient port.\n   * Fixed: crash when using fullscreen on Mac OS using SDL nightly builds.\n   * Optimized screen update (zooming, ToD change, etc)\n   * Optimized framerate by removing a lot of empty terrain images\n   * Optimized perfomance cost of complex local ToD areas\n   * Fixed bug #16571: Multiplayer login error with certain username or\n     password formats\n\nVersion 1.9.12:\n * Language and i18n:\n   * Updated translations: British English, Czech, French, German, Hungarian,\n     Indonesian, Italian, Latin, Latvian, Old English, Russian, Slovak\n * Multiplayer:\n   * Fixed missed side init if controller changes at side progression\n     (bug #16299)\n   * Fixed user interface not updated if controller changes (bug #19056)\n * Whiteboard:\n   * Fix invalid actions not being detected until another action is created\n   * Erase invalid actions when you try to execute them\n   * Disable access to Suppose Dead action until we can find a better UI for it\n   * Fix bug #18774: Recalling with the whiteboard enabled causes crash\n   * Fix bug #19061: Crash on starting most campaign scenarios\n   * Fix getting \"not enough gold\" message when executing planned recruits/recalls\n   * Ghost the unit at starting position of planned moves\n   * On mouseover, display orb and xp bar on planned moves with accurate status\n   * Mouseover on last planned move of a unit displays accurate movement left\n   * Re-enabled multi-turn moves\n * Miscellaneous and bug fixes:\n   * Fixed bug #19095: fixed a gcc warning when compiling under OpenBSD\n   * Fixed bug #19096: fixed linker errors on OpenBSD when using the CMake\n     build system\n\nVersion 1.9.11:\n * Campaigns:\n   * Sceptre of Fire:\n     * A Bargain is Struck: added missing hero overlays to Alanin and the\n       caravans\n     * A Bargain is Struck: added find_vacant=yes to avoid unstoring Alanin\n       upon Rugnur or another player's unit\n     * The Dragon: fixed Rugnur being recalled not fully healed\n     * The Dragon: integrated two sighted events with moveto events\n * Engine:\n   * Fixed bug #18918: the create unit dialog was sometimes capturing village\n     incorrectly\n * Language and i18n:\n   * Updated translations: British English, Dutch, French, Finnish, Galician,\n     Indonesian, Italian, Korean, Latvian, Lithuanian, Old English\n * WML engine:\n   * Added [secondary_unit] SUF for filtering the recalling leader in [recall]\n     action WML\n   * Fixed red, green and blue keys in 24-hour ToD not maching the default\n     schedule colors\n   * Reworked [harm_unit]'s damage calculation code to avoid leadership ability\n     altering the damage value\n * Miscellaneous and bug fixes:\n   * Fixed disappearing theme UI buttons after changing fullscreen/windowed mode\n     or resolution in Preferences during a game\n   * Fixed define handling of wmlxgettext (bug #18622)\n   * Changed: Try to recover from broken pango-markup.\n\nVersion 1.9.10:\n * AI:\n   * Fixed: Display of recruitment_ignore_bad_combat and\n     recruitment_ignore_bad_movement is no longer swapped (bug #18839)\n * Campaigns:\n   * Descent into Darkness:\n     * A Small Favor, part 1: used 24 hour ToD\n   * Son of the Black Eye:\n     * To the Harbor of Tirigaz: used 24 hour ToD\n   * Under the Burning Suns\n     * Subterranean Struggle: no longer possible to win by allowing allies to\n       die\n     * Across the Harsh Sands: the Black Hand oasis is no longer possible to\n       enter without triggering the bandits\n * Editor:\n   * Made sure lighting setting changes are applied immediately when closing the\n     settings window when automatic map view updates are disabled\n   * Starting position tool menu now displays coordinates of existing positions,\n     and initially highlights the current player number assigned to the selected\n     hex\n   * Add a menu item \"Refresh WML\" to reload terrain WML\n * Graphics:\n   * New Animations:\n     * Goblin spearman run se\n     * Merman fighter attack se\n     * Tinted the slowed snail icon to match the new slowed unit color\n   * Terrain:\n     * Tall encampment keep can now be placed next to the tent encampment keep\n     * Forest/hill terrain combinations no longer appear black on the minimap\n   * Default team color always applied last; fixes bug #18817\n   * Removal of Khalifate unit images\n * Language and i18n:\n   * Made it so that all of the Hangul Syllables block is covered by the\n      font-loading code.\n   * Made it so that en_US translations are loaded if they exist (bug #18507)\n   * Updated translations: British English, Czech, Dutch, Finnish, Galician,\n     Indonesian, Irish, Italian, Japanese, Korean, Latin, Lithuanian,\n     Old English, Portuguese (Brazil), Russian, Slovak, Swedish\n * Lua API:\n   * add function wesnoth.get_starting_location\n   * The side metatable provides also the side number\n     (like wesnoth.sides[i].side, which would be i)\n   * add function wesnoth.debug\n   * Added: Support for clickables (button and repeating button) to\n     wesnoth.set_dialog_callback (patch #2763)\n   * Allowed function debug.traceback()\n   * wesnoth.set_village_owner takes a bool argument determining\n     whether to fire capture events\n   * add field image_mods in proxy units\n   * add field undead_variation in wesnoth.races\n * Multiplayer:\n   * New map: Aethermaw\n   * Updated maps: Hamlets, Howling Ghost Badlands, Thousand Stings Garrison\n * Terrain:\n   * Oasis may be placed on any terrain, aliased to base\n   * New terrain macro: MOUNTAIN_SINGLE_RANDOM\n   * New rotting variant for wooden bridge\n * Unit changes and balancing:\n   * All mounted units now have forest defines capped at 30%. This reduces their\n     defense on forested hills from 40% to 30%\n   * Forests now give best defense and worst movement on all terrain,\n     not just hills - fixes bug #18216\n   * Fixed some Khalifate unit animation glitches\n   * The XP required for an AMLA is now 50*level (and 25 for level 0) instead of\n     always 150.\n   * Increased the HP of the Great Mage from 55 to 60\n   * Increased the ranged attack of the Footpad from 4-2 to 5-2\n   * Removal of the Khalifate units, faction and era\n * User interface:\n   * Removed waypoints UI feature\n   * Added an option to disable the \"loading save from a different version\"\n     confirmation dialog\n   * Line-wrap author names in the add-on description dialog (bug #18691)\n   * Made the Delete Add-on (in the server) option request confirmation from\n     the user before proceeding\n   * The add-ons download list shows up again after publishing/deleting a\n     single add-on\n   * Added option in advanced preferences that allows the twelve-hour clock\n      format to be used\n   * Reenabled \"delay shroud updates\"\n   * Changed: Disable pango markup in unit names (bug #17788)\n   * It is now possible to remove multiple installed add-ons at the same\n     time\n   * Slowed units are now tinted to be recognizable at a glance\n   * Fixed: Removed old markup style from OOS messages (bug #18387).\n   * Fixed: OOS ignore toggle in the save dialog (bug #18330).\n * WML engine:\n   * Readded the liminal alignment\n   * Added four-difficulty versions of certain macros: QUANTITY4,\n     ON_DIFFICULTY4, TURNS4, GOLD4, INCOME4, and ATTACK_DEPTH4\n   * added support for SSF to SUF via a [filter_side] subtag\n   * added support for [enemy_of]<SSF> to SSF\n   * added support for [allied_with]<SSF> to SSF\n   * New [find_path] tag, a WML interface to the pathfinder\n   * Add inline SSF support to [store_starting_location]\n   * Add support for [capture_village][filter_side]<SSF>\n   * Added FACING, which adds facing= to a previous [unit] codeblock\n   * Added VARIATION, which adds variation= to a previous [unit] codeblock\n   * Deprecated the Add-on.cfg style in favor of Add-on/_main.cfg, except for\n     the case of a single-file add-on\n   * [illuminated_time], which has been obsolete for a long time, is no longer\n     valid. Using it will cause errors to be thrown\n   * Reintroduced support for [unit][event]s (was until 1.7.10, bug #16259)\n     Such events are no longer forcefully variable substituted before inserting\n     into the scenario wml\n   * Fixed \"error parsing image modifications\" message caused by subsequent\n     image mod additions using the add attribute in [effect] apply_to=image_mod\n   * Made $this_unit in filter_recall work\n   * Added IS_EXPENDABLE_LEADER, which gives a unit the expendable leader icon\n   * Added $this_unit support to [harm_unit] and [find_path]\n   * Settings by [color_adjust] no longer expire at turn start or over save/load\n     cycles\n   * Implemented bullet= for [objectives], [objective], [gold_carryover], and\n     [note]\n   * Implemented red=, green=, and blue= for [objective], [gold_carryover], and\n     [note]\n   * Added [theme] hidden= attribute that makes a theme unavailable for selection\n     in Preferences or :theme (defaults to no)\n   * Implemented $second_unit being bound to the acting leader in recall/recruit events\n   * Introduce [redraw]clear_shroud=yes|no and [redraw]<SSF> support\n   * Introduce [race]undead_variation as a default for the race's [unit_type]s\n   * $owner_side describes the previous side owning a village\n     in capture events (FR bug #13567)\n   * Introduce [capture_village]fire_event=yes|no (def no) whether to fire\n     any capture events (was previously always yes)\n   * Made [move_unit] respect image modifications applied by EffectWML to single units\n   * Introduce [unit_type]image_icon key to override image for 72x72 icons\n     (FR bug #15466)\n   * Added IS_LAST_SCENARIO macro, for use in [objectives] dialog.\n   * Fix [objectives]silent= not working initially in a scenario (bug #18927)\n * Miscellaneous and bug fixes:\n   * Add --language/-L commandline option to set the language for that session\n   * Fixed: Avoid copying of singular iterators in the whiteboard code\n   * Fixed bug #10969: Made it possible to switch themes from Preferences in the\n     main menu\n   * Fixed bug #16111: gold carryover if loading a save created in linger mode\n   * Fixed bug #16508: remaining time of day areas that should affect map\n     borders in mainline campaigns and MP scenarios\n   * Fixed bug #18399 (part 1): Compilation with boost 1.47 (bug #18399's patch)\n   * Fixed bug #18399 (part 5): Compilation with the clang 2.9 compiler (bug\n     #18399's patch)\n   * Fixed bug #18695: Fixed preload event not being fired\n   * Fixed bug #18701: Evaluate key length even if intervening WML children\n     don't exist\n   * Fixed bug #18704: Make the create unit dialog give the created unit a valid\n     gender for that unit type\n   * Fixed bug #18766: Fixed a problem where version comparisons (including, but\n     not limited to #ifver/#ifnver directives) could cease to work until Wesnoth\n     was restarted\n   * Fixed debian bug #636193: Fixed compilation on all Debian architectures\n   * Fixed handling of #ifver and #ifnver preprocessor directives in wmllint\n   * Removed CANYON and its associated terrain macros\n   * The credits screen no longer mangles image path functions in background\n     image lists\n   * Fixed a rare glitch causing the menubar and sidebar buttons to appear\n     initially as solid color rectangles at the beginning of a scenario start\n     event\n   * Fixed bug #18681: glitch with local time of day lighting\n   * Fixed bug #18892: random crash when loading replays\n   * Fixed bug #18882: Compilation with libpng-1.5.5\n\nVersion 1.9.9:\n * AI:\n   * Fixed bug #16117: added a way to supress E_NOT_REACHED_DESTINATION to lua\n   * Fixed bug #16247: modify SoF 8 to let the dragon attack aggressively\n     api via an optional boolean parameter - ai.move_full(from,to_x,to_y,true)\n   * Fixed bug #18057: AI leaders should now attack when they should\n   * Fixed bug #18122: AI leaders set to defensive will now follow goals anyway\n   * Fixed bug #18356: AI leaders now won't move to avoided keeps\n   * Applied patch #2846 by thonsew: let AI forget about invisible enemy units\n     in villages during get_villages phase (bug #18101)\n * Campaigns:\n   * Fixed remaining deprecation warnings about empty side=\n   * Under the Burning Suns:\n     * Fixed Naga Sentinel gaining an AMLA after 32 XP instead of the usual 150\n     * Gave to Desert Shydes and Desert Stars 30% defense on void terrain\n * Engine:\n   * Fixed bug #16173: Using n or cl while a fake unit is moving causes the game\n     to segfault by creating game_display::fake_unit as an exception safe\n     interace to the fake_units\n   * Improved unit_map lookup from std::map to boost::unordered_map to decrease\n     lookup times\n   * Fixed bug #16151: Discover new units on recruit\n   * Fixed bug #17780: Allow objects to 'increase' damage to 0\n   * Fixed bug #18098: now recruits and recalls capture village if recruited or\n     recalled on village castle hex\n * Graphics:\n   * Fixed bug #18524: [replace_map] doesn't force window repainting\n   * Fixed bugs #18504 #18493 and #18017: Time of Day and fading interact poorly\n   * Fixed bugs #18475 and #17292: Mage of Light and Sorceress Halo/animation\n     glitches.\n   * Terrains:\n     * Added Gray Coastal Reef, Tropical Coastal Reef terrain\n     * Swamp no longer prevents embellishments from being drawn\n     * Fixed bug #15940: graphics glitch: pillared wall terrain covers great\n       tree\n * Language and i18n:\n   * Updated translations: British English, Estonian, French, Galician, Greek,\n     Hewbrew, Indonesian, Irish, Latin, Macedonian, Old English, Russian,\n     Vietnamese\n * Lua API:\n   * Added: function wesnoth.set_dialog_active (patch #2767)\n   * Expanded wesnoth.races entries to return the wml object a race was\n     constructed from via the __cfg field.\n   * New function wesnoth.get_traits returning a table holding the global traits\n     known to the engine.\n * Multiplayer:\n   * Updated maps: Aethermaw, Hornshark Island, Sablestone Delta, Thousand\n     Stings Garrison\n   * A New Land:\n     * Fixed 'agriculture' not getting translated sometimes and research\n       for agriculture not getting counted if the research order wasn't changed\n       (bug #16477)\n     * Options to share knowledge with those who have learned everything about\n       whatever are no longer shown (bug #14822).\n   * Added \"chat_message_aging\" advanced preference to allow setting the\n     ingame chat message aging interval\n * Music and sound effects:\n   * New track \"Battle Epic\" by Doug Kaufman\n * Unit changes and balancing:\n   * New units: Great Wolf; Direwolf\n   * Lowered swamp defense of Cuttlefish and Sea Serpent from 60% to 40%\n   * Decreased cost of Giant Rat from 13 to 6\n   * Various changes to the defense, movement and resistances of the Giant Rat\n   * Increased the XP requirements of the Arif from 40 to 47\n   * Increased the cost of the Falcon from 10 to 12\n   * Decreased the beak and claw attack of the Falcon by one each to 2-3 and 5-1\n   * Decreased the HP of the Falcon from 19 to 18\n   * Increased the XP requirements of the Falcon from 20 to 24\n   * Increased the XP requirements of the Hakim from 33 to 39\n   * Decreased the HP of the Jundi from 36 to 32\n   * Increased the XP requirements of the Jundi from 35 to 44\n   * Increased the cost of the Khaiyal from 20 to 21\n   * Decreased the blade resistance of the Khaiyal from 30% to 20%\n   * Decreased the pierce resistance of the Khaiyal from 0% to -10%\n   * Decreased the impact resistance of the Khaiyal from 10% to 0%\n   * Increased the melee attack of the Mighwar from 7-5 to 8-5\n   * Decreased the HP of the Mighwar from 57 to 53\n   * Increased the melee attack of the Monawish from 6-4 to 7-4\n   * Decreased the HP of the Monawish from 45 to 41\n   * Decreased the HP of the Naffat from 32 to 28\n   * Increased the XP requirements of the Naffat from 38 to 44\n   * Increased the cost of the Naffat from 17 to 19\n   * Decreased the melee attack of the Qatif-al-nar to 10-2\n   * Decreased the ranged attack of the Qatif-al-nar to 8-3\n   * Increased the XP requirements of the Rasikh from 40 to 150\n   * Decreased the melee attack of the Tineen to 10-3\n   * Decreased the impact resistance of the Falcon line from 0% to -10%\n   * The Falcon line now gets 2 traits, one normal trait and the feral trait\n   * The Naffat line is no longer able to get the strong trait\n   * Converted units with khalifatelightfoot to khalifatefoot movetype:\n     * Increased the fire resistance from -10% to 0% (Hakim only)\n     * Increased the impact resistance from -20% to -10%\n     * Increased the village defense from 50% to 60%\n     * Removed the khalifatelightfoot movetype\n   * Changes to khalifatefoot movetype:\n     * Increased the frozen defense from 20% to 30%\n   * Changes to khalifatearmoredfoot movetype:\n     * Increased the shallow water and swamp mp from 2 to 3\n     * Decreased the mushroom grove defense from 50% to 40%\n   * Changes to the khalifatehorse movetype:\n     * Increased the shallow water, swamp, cave, and mushroom grove mp cost to\n       4 in all cases\n     * Increased the forest mp cost from 2 to 3\n     * Decreased the frozen mp cost from 4 to 2\n     * Decreased the swamp defense from 30% to 20%\n     * Decreased the cave defense from 40% to 20%\n     * Decreased the mushroom grove defense from 40% to 20%\n     * Increased the frozen defense from 10% to 30%\n     * Increased the impact resistance from -10% to 0%\n   * Changes to the khalifatearmoredhorse movetype:\n     * Increased the shallow water, swamp, cave, and mushroom grove mp cost to\n       4 in all cases\n     * Increased the reef mp cost from 2 to 3\n     * Decreased the frozen mp cost from 4 to 2\n     * Decreased the cave defense from 40% to 20%\n     * Decreased the mushroom grove defense from 40% to 20%\n     * Increased the frozen defense from 10% to 30%\n     * Increased the swamp defense from 10% to 20%\n     * Decreased the hill defense from 60% to 50%\n * User interface:\n   * Fixed Preferences dialog glitch on < 600 px tall resolutions (i.e. 800x480)\n   * Made Hotkeys configuration dialog fit on < 600 px tall resolutions (i.e. 800x480)\n   * Various minor improvements for consistency\n   * Whiteboard planning system:\n     * Added support for planning multi-turn moves\n     * Added the option to hide allies' plans during a network game\n     * Made action numbers colored according to team color\n     * Made plan execution halt upon discovering hidden units\n * WML engine:\n   * Added [event]id= support (to protect against duplicates)\n   * Added [event]remove=yes|no support\n     (to remove events that have an id set)\n   * Implemented sub= and divide= for abilities and weapon specials\n     (patch #2857)\n   * new attribute replay_save= in [endlevel]. Defaults to yes, allows\n     WML authors to disable replay saving for a scenario. (bug #18026)\n   * [harm_unit] always uses wesnoth.float_label to avoid that an incorrect\n     weapon filter may prevent floating the damage label\n   * new key heal_full=yes|no (def no) in [effect]apply_to=type\n   * Added SLF support to [event][item] and [remove_item].\n     [remove_item]: IMPORTANT SYNTAX CHANGE: Default x,y=$x1,$y1\n     is no longer supported, but instead all locations on the map chosen if\n     no SLF keys are supplied. No wmllint rule in official release but patch\n     in bug #18522.\n     [event][item]: If x = and y= aren't explicitely given no longer throw an\n     error but choose locations according to SLF behavior.\n   * Allowed [modify_turns]current= to change to an earlier current turn\n   * Added [primary_attack] support to [harm_unit]\n   * Added wml tag [store_items]\n   * [harm_unit] now supports a harmer unit and experience calculation.\n   * Added support for 24 hour ToD.\n   * Added WML validation system based on schema validation.\n   * Enabled validation for GUI WML.\n * Miscellaneous and bug fixes:\n   * Teach wmllint to fix deprecated implicit side=1 in [store_gold], [gold]\n     [remove_shroud], [place_shroud], [modify_side], [modify_ai] actions\n   * Fixed bug #17150: fix naming confict with OpenBSD macro by renaming\n   * Added \"-Wno-strict-aliasing\" to the default compiler flags\n   * Whiteboard planning system:\n     * Made the whiteboard respond better to :droid, :give_control, etc.\n     * Removed chat notification upon activating the whiteboard\n   * Added advanced preference to ignore the encountered units\n     list and show all unit types in the game Help\n\nVersion 1.9.8:\n * Campaigns:\n   * Fixed deprecation warnings about \"empty side=\"\n * Language and i18n:\n   * Updated translations: British English, Estonian, Indonesian, Irish,\n     Latin, Old English, Russian, Vietnamese\n * Lua API:\n   * added support for slider and progress_bar widgets to\n     wesnoth.get_dialog_value\n   * added support for text_box, slider, and progress_bar widgets to\n     wesnoth.set_dialog_value\n   * new wesnoth.races table\n   * wesnoth.get_terrain_info can now retrieve the editor_name field\n * Multiplayer server:\n   * Handle incoming [whiteboard] data\n   * Treat inactive forum accounts as unregistered users to prevent abuse\n     of unverified registrations\n * User interface:\n   * Converted New Folder dialog to GUI2\n   * Moved Animate Map option from Advanced Preferences to Display\n   * Moved Reverse Time Graphics display option to Advanced Preferences\n   * Moved Scroll Tracking of Unit Actions display option to Advanced\n     Preferences, renamed to Follow Unit Actions\n   * Moved Unit Standing Animations option from Advanced Preferences to\n     Display\n   * Removed window decorations from GUI2 lobby\n   * Sort the Recruit menu by localized unit type names (feature #18294)\n   * Whiteboard planning system:\n     * Added a new planned action type: \"Suppose dead\"\n     * Changed behavior of invalid actions (no longer immediately discarded)\n     * Disabled undo while planning mode is active\n     * Made whiteboard plans visible to allied network players\n * Terrains:\n   * Tweaked gameplay-visible names of terrain types, and restored many\n     missing ones.\n * Miscellaneous and bug fixes:\n   * CMake build system:\n     * Disabled building of libana by default\n     * Removed \"-Wno-strict-aliasing\" from the default compiler flags\n   * Fixed bug #18117, saved games with Qatif-al-nar became corrupted\n   * Fixed bug #18120, where Khalifate units were not getting the default AMLA\n   * Patch #2663: Make wesnoth-optipng work on systems with BSD stat\n   * Started working on the new asio based network subsystem. boost.asio\n     (along with boost.thread and boost.system) is now a dependency for\n     the client no matter whether ANA is enabled.\n   * Support for gamepads/joysticks\n\nVersion 1.9.7:\n * Graphics:\n    * Terrains:\n      * Modified Deep Water tiles for greater contrast with Shallow\n      * New Dead Great Tree\n    * Portraits:\n      * Drake Warden\n * Language and i18n:\n   * Updated translations: Afrikaans, British English, Chinese (Traditional),\n     Galician, German, Greek, Indonesian, Irish, Japanese, Korean, Latin,\n     Lithuanian, Old English, Portuguese (Brazil), Serbian, Spanish, Swedish,\n     Vietnamese\n * Lua API:\n   * proxy getters and setters for unit attributes extra_recruit\n     and advances_to\n   * new function wesnoth.add_known_unit\n   * new proxy getters for sides: fog, shroud, hidden, name, color\n   * new function wesnoth.get_time_of_day\n   * new functions os.clock, os.date, os.time and os.difftime\n * Multiplayer:\n   * New \"Shuffle sides\" option in MP creation list, allowing to randomize\n     player to side assignment (patch #1937 by Quetzalcoatl)\n * User interface:\n   * Fix starting location labels being initially invisible in the map editor\n     (bug #17956).\n   * Fixed bug #18000, #18099: Show a wrongly entered MP password and crash\n     upon editing this text.\n * WML engine:\n   * new attribute team_name= in SSFs\n   * added [event][filter_side]<SSF keys> support\n   * added support for inline SSF to [chat]\n   * added support for inline SSF to [store_gold]\n   * added support for inline SSF to [store_side], added attribute\n     \"side\" in the created array\n   * introduced [has_unit]search_recall_list=yes|no (def no) parameter in SSFs\n   * support for leader specific recruit lists\n     * [unit] extra_recruit= -- defines a unit with a specific recruit list\n     * [event] [allow_extra_recruit] [filter] [/filter] type=\n        -- adds unit types to a leader's recruit list\n     * [event] [disallow_extra_recruit] [filter] [/filter] type=\n        -- removes unit types from a leader's recruit list\n     * [event] [set_extra_recruit] [filter] [/filter] extra_recruit=\n        -- assigns a new recruit list to the leader\n   * support for leader specific recall filters\n      * [unit] [filter_recall] <SUF>\n        -- The unit can only recall units which pass the SUF\n   * Removed the Liminal alignment\n   * Fixed: a divide by zero in the calculate_map_ownership_function function\n   * Possibly fixed: rounding errors when using ^ in formulas (bug #18165)\n   * Animation will now cycle according to a WML parameter, use with caution\n   * Toplevel [tunnel] tags are now ignored rather than cause assertion\n     failures (bug #18201).\n * Miscellaneous and bugfixes:\n   * Fixed: issues with singular variant iterators\n   * Fixed: the Wescamp script download part\n   * Fixed the ingame command line not accepting\n     characters accessible via AltGr (certain keyboard layouts)\n     on windows systems\n   * Started using Boost.Program_options for command line parsing (new\n     dependency)\n   * Commandline syntax changes:\n     * --ai_config renamed to --ai-config\n     * --new_storyscreens renamed to --new-storyscreens\n     * --no-delay renamed to --nodelay\n     * --campaign option split into --campaign, --campaign-difficulty and\n       --campaign-scenario\n     * split optional comma-separated defines list from --preprocess= (or -p=)\n       to --preprocess-defines= option\n     * dropped --log alias for --log-error\n   * Fixed: Compilation on kfreebsd (Debian bug #626313)\n   * Fixed: CMake Subversion revision script causing build errors with MSVC.\n   * Fix time of day not changing in time area (bug #16584, bug #17543)\n\nVersion 1.9.6:\n * Campaigns:\n   * The Hammer of Thursagan:\n     * Fixed time over event in the High Pass\n       (http://forums.wesnoth.org/viewtopic.php?f=4&t=33435)\n * Graphics:\n   * Portraits:\n     * Added portrait for Khalifate Hakim.\n   * Terrains:\n     * New Igloo village\n * Language and i18n:\n   * Updated translations: Afrikaans, British English, Dutch, French, Galician,\n     German, Greek, Hungarian, Irish, Japanese, Latin, Lithuanian, Old English,\n     Portuguese (Brazil), Slovak, Spanish, Swedish, Vietnamese\n * Lua API:\n   * max_attacks (read) and attacks_left (read/write) field of lua proxy units\n   * new function wesnoth.compare_versions\n   * new function wesnoth.get_sides\n * Multiplayer:\n   * New era: the default+Khalifate era adds a new faction for multiplayer play.\n   * New maps: 2p Thousand Stings Garrison, 2p Arcanclave Citadel, 6p Volcano.\n   * Updated maps: Caves of the Basilisk, 2p Hamlets, The Freelands, Silverhead\n     Crossing, Sablestone Delta, Fallenstar Lake, Den of Onis.\n * Unit changes and balancing:\n   * Increased the pierce attack of the Orc Archer from 5-3 to 6-3.\n   * Decreased the HP of the Cavalryman from 38 to 34.\n   * Decreased the HP of the Dragoon from 53 to 49.\n   * Decreased the HP of the Cavalier from 68 to 64.\n   * Changed the 'feral' trait to give 50% instead of 40% defense on villages.\n * User interface:\n   * Patch #2625: added a GUI interface to changing control in multiplayer\n     games. The command to access it is currently :give_control\n * WML engine:\n   * Patch #2610: changed default for turns in [scenario] tag to -1 (unlimited)\n   * Introduced [recall]check_passability=yes|no key (default yes)\n     for placing units only on suitable terrain when recalling.\n   * Extended [heal_unit] to also \"heal\" moves, attacks, statuses\n     and several units at once.\n * Miscellaneous and bugfixes:\n   * Changed : replaced all sticky excpetions by lua jailbreak exceptions\n     (fixes bug #17743).\n   * Applied patch #2611: removed redundant own_side attribute\n   * Applied patch #2600: improved MP creation screen logging\n   * Added: New gui2 iterator framework.\n   * Patch #2624: Solved enemy leaders never appearing on status table on\n     foggy/shrouded maps, even when visible.\n   * Fix linker issues with cmake and scons.\n\nVersion 1.9.5:\n * Graphics:\n   * Portraits:\n     * New portrait for Drake Enforcer/Thrasher.\n   * Terrains:\n     * Moved the ruined desert castle to core.\n     * New and improved swamp villages.\n     * New and improved tropical villages.\n     * New ruined desert keep.\n     * New stones and sand drifts embellishment.\n     * New tall encampment keep.\n     * New water lilies embellishment.\n   * Other:\n     * New elf-style flag.\n * Language and i18n:\n   * Added missing Windows locale associations\n   * Fixed Windows locale association for tr/Turkish\n   * New translation: Old English.\n   * Updated translations: British English, Chinese (Simplified),\n     Chinese (Traditional), Czech, Dutch, Finnish, French, Galician, German,\n     Irish, Italian, Japanese, Portuguese (Brazil), Slovak, Spanish, Vietnamese\n   * Updated DejaVu Sans to 2.33\n * Multiplayer:\n   * Don't show team labels to observers (feature request #9648).\n   * Recalculate map labels to account for team changes when switching players\n     with :control.\n   * Renamed /adminmsg command to /report to better reflect its use.\n * User interface:\n   * Added: circle to the gui2 canvas.\n   * Added: new tip class for tooltips and helptips.\n   * Reimplemented: the tooltips use the new tip class and look much better\n     (bug #14818).\n   * Fixed: the tooltips no longer stack when the MP dialog is opened\n     (bug #16915, bug #16670).\n   * Implemented: the helptips.\n   * Changed: the scroll wheel, in gui2 code, now also follows the mouse focus\n     instead of the keyboard focus.\n   * Fixed again: Not showing the twml_exception dialog when gui2 was called\n     from Lua (bug #17405).\n   * Fix old multiplayer lobby glitches caused by the loadscreen code when\n     skipping to the lobby with -s <server> command line.\n   * Add 1.25, 1.75 and 3.0 animation speed factors to display preferences\n     (feature request #15713).\n   * Implemented: The expose event in gui2.\n   * Fixed: Image widget now honors its minimum and maximum size.\n   * Fixed: Black lines in the minimap.\n   * Fixed: tooltips no longer capture the keyboard (bug #17797).\n   * Changed: Allow underline in the gui2 font style.\n   * Fixed: Not wrapping of transient dialog text (bug #17945).\n * WML engine:\n   * Added support for map_passable and leader_passable for [placement]\n   * Allow [color_range] and [color_palette] nodes to be inserted at top-level\n     by add-ons to globally define custom ranges and palettes.\n   * New [tunnel] tag to create teleports between two SLFs for units matching\n     a SUF. The [teleport] ability retrofitted to use this tag.\n   * New [allow_end_turn] and [disallow_end_turn] commands to enable/disable\n     the human players' ability to end their turn from the user interface\n     (feature request #13141).\n   * [side] tags may now contain [leader] tags to create their leader(s), as\n     opposed to mixing the leader's attributes with the side attributes.\n   * New wml action tag [transform_unit], like the {TRANSFORM_UNIT..} macro.\n   * [unstore_unit] now accepts a fire_event= key to control firing of\n     (post) advance events and a check_passability= (default yes, previously\n     it was always no/non-existent) key controlling whether to check for\n     suitable terrain when placing units\n   * Renamed [teleport]ignore_passability= to check_passability= to get rid of\n     a confusing negation.\n   * Introduced [move_unit]check_passability= (default yes, previously it was\n     always yes/non-existent) key to allow disabling the check for suitable\n     terrain.\n   * Added TAKE_IT_STRING and LEAVE_IT_STRING arguments to PICKUPPABLE_ITEM\n   * Added an engine-defined WESNOTH_VERSION macro that expands to the Wesnoth\n     engine version string.\n   * New #ifver/#ifnver preprocessor macro to compare Wesnoth or UMC-defined\n     version numbers as in '#ifver WESNOTH_VERSION >= 1.9.5'.\n   * The tags [remove_shroud] and [place_shroud] now take comma-separated lists\n     of sides.\n   * The [gold] tag now takes a comma-separated list of sides.\n   * Added automatically stored variable this_unit to [modify_unit]\n     for self-reference via $this_unit\n * Miscellaneous and bugfixes:\n   * Fixed: g++ compiler warnings.\n   * Added: cmake target to build the gui design pdf.\n   * Removed support for TinyGUI: Devices with a resolution below 800x480 are\n     not supported anymore.\n   * Changed: The minimum screen resolution is 800x480, no need to use\n     --smallgui anymore.\n   * Reverted hotkey for clearing cache for Mac OS X back to F5. Control-F5\n     still works (and is necessary when in windowed mode).\n   * Let cmake use absolute locale dirs when set to an absolute path.\n     (Windows always uses a relative path.) (patch #2280)\n   * Make it impossible to build Wesnoth without the editor.\n   * Fixed a replay OOS issue caused by ToD areas defined outside of events\n     (bug #17783).\n   * Changed: when loading a file fails to open try with a .gz file.\n   * Unit invalidation is processed in parallel using OpenMP\n   * Allow redirection of the logger.\n   * Polished gui2 code.\n   * Fixed: Newer versions of FriBidi were no longer recognized.\n   * wmlindent now handles #ifhave, #ifnhave, #ifver and #ifnver properly in\n     WML.\n\nVersion 1.9.4:\n * AI:\n   * Fixed bugs #15861, #16223, #17206: fix passive_leader and\n     passive_leader_shares_keep.\n * Campaigns:\n   * Delfadors Memoirs:\n     * Fixed bug #17273: Made difficulty selection conform to the style of all\n       other mainline campaigns\n   * Descent into Darkness:\n     * New set of portraits.\n   * Eastern Invasion:\n     * Fixed bug #15950: Made 11_Captured remove units from recall list,\n       preventing units being 'healed' upon load.\n * Engine\n   * Fixed bug #17355: split team initialization into two parts to prevent\n       wrong determination of allied sides.\n * Formula language:\n   * Added substring function.\n   * Added length function, to determine the length of a string.\n   * Added concatenate function.\n   * Added sin (sine) function.\n   * Added cos (cosine) function.\n * Graphics:\n   * Terrain: added transitions for the wood floor.\n * Language and i18n:\n   * New translation: Irish\n   * Updated translations: Dutch, Finnish, Galician, German, Hebrew, Japanese,\n     Korean, Lithuanian, Russian, Slovak, Vietnamese\n * User interface:\n   * Fix alignment of text labels in certain confirmation dialogs (e.g.\n     Quit Game/Editor)\n   * Fix behavior of add-ons download dialog on double-click/enter\n     (bug #17345)\n   * Several improvements to the gui2 progress bar.\n   * New add-ons description dialog with further details, including bundled\n     translations.\n   * Add new gui2 drawing widget.\n   * Fix gui2 lines drawing glitch, which happens in some rare cases.\n   * Fixed: Not showing the twml_exception dialog when gui2 was called from\n     lua (bug #17405).\n   * Fixed: Properly validate the height of a portrait (bug #17399).\n   * Increase text area dimensions on story screens and improve space use on\n     smallgui configurations.\n * WML engine:\n   * New [harm_unit] tag for damaging, and eventually killing, units.\n   * [allow_recruit], [disallow_recruit] and [set_recruit] now accept a\n     comma-separated list for side=.\n   * Unit types, units, and unit effects, can use small_profile= in\n     addition to profile= to precisely describe portrait locations.\n   * New ~BG(color) modifier for setting the background color of an image.\n   * Made [inspect] tag work even without debug mode.\n   * [move_unit_fake] now accepts an image_mods= attribute, specifying\n     a list of path functions to be applied to the moving fake unit.\n * Miscellaneous and bugfixes:\n   * Fix --data-dir command line option\n   * Better detect mouse button state when window is activated.\n   * Change wiki comment format.\n   * Polish wiki_grabber.py code.\n   * Names of attack ranges are now read from the range_$RANGE keys in\n     data/hardwired/english.cfg. (feature #17395)\n   * Names of attack types are now read from the type_$TYPE keys in\n     data/hardwired/english.cfg.\n   * Un-hardwired the [language] block in data/hardwired/english.cfg, and\n     moved the file out of that subdirectory.\n   * Add update-po4a-man and update-po4a-manual targets to cmake.\n   * Added: Extra validate macro VALIDATE_WITH_DEV_MESSAGE.\n   * Fixed: Link to libintl with cmake (bug #17152).\n   * Fixed: Better cmake detection for older FriBidi versions (bug #17151).\n   * Added: wiki_grabber.py the wml_reference description comment class.\n   * Removed support for the \"autotools\" build system\n\nVersion 1.9.3:\n * Campaigns:\n   * Descent into Darkness:\n     * Allow Darken Volk to open gates in A Small Favor part 3 (bug #17250)\n   * Legend of Wesmere:\n     * Fixed the recursion of the scenario 4 bug.\n     * Added the Elvish Horse Archer as alternative advancement for the scout\n     * (Singleplayer only) Added the Dwarvish Runemaster as advancement for the\n       fighter.\n   * The Rise of Wesnoth:\n     * New portraits for Jevyan, Typhon and Rithrandil.\n * Graphics:\n   * Terrain:\n     * Fixed display of UMC castles (which were being overdrawn by regular human\n       castles).\n     * Added ruined cottage and ruined hill village.\n     * Added a fence embellishment terrain.\n * Language and i18n:\n   * Updated translations: Dutch, Finnish, German, Italian, Japanese, Korean,\n     Portuguese (Brazil), Spanish, Vietnamese\n * Multiplayer:\n   * Fixed Siege Castles' description to state the correct map size, 36x36\n     rather than 40x30 (bug #15835)\n * Multiplayer server:\n   * Increased username length limit from 18 to 20\n * User interface:\n   * Converted some dialog boxes to GUI2\n   * Campaign difficulty descriptions must use Pango markup now\n   * Added a new hotkey sequence (by default unassigned) to toggle animated map\n     mode (feature #15976).\n   * Removed bottom border from character [message] dialogs.\n   * Improved the width of portraits in the wml_message once the maximum text\n     width is reached.\n   * Fixed display of unit-specific image mods on the Status Table dialog\n     (bug #16285)\n * WML engine:\n   * Created tag [petrify] (bug #17077). Moved [unpetrify] to lua. Syntax\n     changed from [unpetrify][filter]<SUF> to [unpetrify]<SUF>.\n   * New [floating_text] tag for creating floating text similar to the damage\n     and healing numbers.\n   * Introduced [recall]fire_event=yes|no (default no) parameter (fixes\n     bug #17083).\n   * Deprecated the following macros: FLOATING_TEXT, CAPTURE_FILTERED_VILLAGES,\n     SET_OBJECTIVES, VICTORY_CONDITION, DEFEAT_CONDITION, ON_EVENT, ON_PRESTART,\n     ON_START, ON_SIDETURN, ON_TURN, ON_VICTORY, ON_DEFEAT, ALLOW_UNDO,\n     ON_TILE_ONCE, SIDE_PLAYER, SIDE_COMPUTER, AMLA_TOUGH, ITM_BOOK1, ITM_TREE1,\n     RECALL_OR_CREATE_UNIT, RECALL_OR_CREATE, ITM_GLOWING_BRAZIER, and REDRAW.\n   * Make [select_unit] highlight= (def. yes) work as intended for displaying\n     the selected unit's reach (bug #16819)\n * Miscellaneous and bugfixes:\n   * Fixed the submerge ability not working on all deep water terrains.\n\nVersion 1.9.2:\n * Campaigns:\n   * Descent into Darkness:\n     * Made 'Alone at Last' easier.\n   * Legend of Wesmere:\n     * Map updates.\n     * Implemented gold carryover between the multiplayer chapters.\n     * Added extra keeps to keep up with the growing number of leaders.\n     * Fixed scenario 04 not being playable.\n     * Corrected the objectives of scenario 3.\n     * Bug fix for the fleeing orcs in scenario 07.\n   * Heir to the Throne:\n     * Fixed a bug causing Warven in 'Cliffs of Thoria' not able to move through\n       mountains.\n   * Liberty:\n     * New set of portraits.\n     * Changed Relnan's character to a woman.\n     * New (unanimated) sprites for the Rogue Mage unit line.\n     * Various balancing changes to the Rogue Mage unit line.\n   * Northern Rebirth:\n     * Make it possible to choose whether a unit should pick up the\n       Rod of Justice or not.\n   * The Rise of Wesnoth:\n     * New set of portraits, except for Jevyan and Rithrandil.\n     * Gave Jevyan's familiar a custom unit type.\n   * Sceptre of Fire:\n     * Thursagan can now advance to Dwarvish Arcanister.\n     * New (unanimated) sprites for the Dwarvish Miner.\n   * Son of the Black Eye:\n     * Changes to the objectives and gameplay of 'Clash of Armies'.\n   * The South Guard:\n     * New portrait for Mal M'Brin.\n * Editor:\n   * Verbose terrain names can be specified using terrain.editor_name to\n     be displayed in the editor as \"<verbose name>/<common name> (<underlying>)\"\n     (bug #16450)\n * Graphics:\n   * Terrain:\n     * Any Castle or Keep except Dwarvish can now be combined without large gaps\n       or extra walls.\n     * New graphics for wooden bridges.\n     * Added variant of chasm bridge for over water.\n     * New transitions from all Hills and Mountains to Water.\n     * Underground and chasm friendly volcanoes.\n     * A new desaturated color of shallow water (Wwg).\n     * Much improved lava transitions.\n     * A new desaturated ocean color (Wog).\n     * New Waterfall automatically placed between chasm and water or swamp.\n     * New Sand-to-Water transitions\n     * Wave animations on sand\n     * Added Ruined Human City terrain\n   * Animations:\n     * Standing anims: Fencer, Spearman, Dwarf Guard.\n     * Idle anims: 2 for the Spearman.\n     * Fixed drakes flying or not flying over all the correct terrains.\n   * Portraits: Drake Blademaster, Hurricane Drake, Drake Flameheart, alternate\n     Swordsman.\n   * Units: New base frame and animations for Mudcrawler.\n * Language and i18n:\n   * Updated translations: Chinese (Traditional), Czech, Dutch, Galician,\n     German, Indonesian, Italian, Japanese, Korean, Lithuanian,\n     Portuguese (Brazil), Russian, Shavian, Slovak, Slovenian, Vietnamese\n * Unit changes and balancing:\n   * Decreased the physical resistances of the Dwarvish Scout and Dwarvish\n     Pathfinder to 10% and those of the Dwarvish Explorer to 20%.\n   * Decreased the village defense of Chocobone from 60% to 40%.\n   * Moved the Fire Guardian unit to core.\n   * Fixed villages on snow and sand hills providing worst instead of best\n     movement.\n   * The complete Dwarvish Runesmith line moved from SoF to core along with new\n     sprites.\n * User interface:\n   * Fixed: Addon dialog in title screen shows last host again.\n   * Fixed: Addon download progress dialog shows the correct addon name again.\n   * Fixed: Fullscreen hotkey works again in the title screen.\n   * Fixed: Termination of the game when making the title screen small\n     (bug #16724).\n   * Fixed: A resize glitch causing resize events to be lost.\n   * Changed: All buttons in the title screen now have a hotkey.\n   * Changed: Refresh cache hotkey is CTRL+F5 on the Mac by default now.\n   * Fixed: Don't trigger an assertion failure if no tips are defined\n     (bug #16731).\n   * Fixed: Enter no longer shows the credits in the title screen.\n   * Changed: The title screen now has a maximum width for the tips text.\n   * Changed: Improved the layout of the title screen.\n   * Fixed: Changing the language updates map and logo in title screen\n     (bug #16631).\n   * Fixed: No longer cut off large title screen logos (bug #16632).\n   * Refresh cache (F5) works in editor.\n   * Add a \"Save All Maps\" menu item and hotkey in editor.\n   * [object] description messages are now shown using GUI2, allowing usage of\n     Pango markup (bug #16859).\n   * Whiteboard planning system:\n     * Fixed: Crash when creating a planned move on Windows (bug #16705)\n     * New \"Execute all actions\" command bound to CTRL+y\n * WML Engine:\n   * id= in SUFs now accepts a comma-separated list.\n   * [capture_village] now accepts a full SLF.\n   * events can be fired depending on a condition using [filter_condition].\n   * Added support for SLF to [terrain]. Note that the SLF's terrain= key is\n     not valid; terrain= specifies the new terrain instead like it used to do.\n     Filtering for terrain can be done with the [terrain][and]terrain=\n     workaround.\n   * Renamed [removeitem] to [remove_item].\n   * added new parameters directional_x and directional_y to animations\n   * added new parameters auto_vflip and auto_hflip to animations\n   * Made it so that units affected by [hide_unit] don't appear on the minimap\n     (FR #16796)\n   * New [store_reachable_locations] tag for storing the locations reachable (by\n     movement, attack or vision) of units.\n   * New [select_unit] tag, with optional fire_event (def. no) and hilight_hex\n     (def. yes) attributes (FR #16819)\n   * New [message] scroll= attribute to specify whether the game view should\n     scroll to the speaking unit (defaults to yes) (FR #16843)\n   * New key 'random_start' (default = yes) in [terrain_graphics][image]\n     allowing to disable random animation shift in animated terrains.\n   * Added a new key \"primary\" to animation to separate frames that should be\n     treated as primary from frames that shouldn't\n   * Made it so that if several [advancefrom] tags for a certain base unit are\n     encountered, the lowest experience= keys from these is chosen (so if\n     there's only one [advancefrom] referencing this base unit the experience\n     needed can be increased).\n * Miscellaneous and bugfixes:\n   * Changed: Lowered severity of some gui2 timer log messages.\n   * Units created in debug mode now play their recruit animation (FR #16766).\n   * Fixed: properly update cmake revision numbers (bug #16483)\n   * Fixed: hotkeys dialog in editor is big enough to display them correctly.\n   * Fixed: Shifted windmill animation (bug #16529)\n   * Files matching *.wesnoth and *.project in add-ons are now ignored by\n     default when uploading\n\nVersion 1.9.1:\n * AI:\n   * Fixed bug #16585: made AI move in targeting phase even if for some of the\n     'best' units moves to targets are impossible\n * Campaigns:\n   * Unified the campaign description of the number of scenarios. Now the\n     number reflects only the battle scenarios of each campaign.\n   * A Tale of Two Brothers:\n     * New portraits for Arne and Bjarn.\n   * Dead Water:\n     * Fixed the last scenario not working due to an 'unknown scenario' error.\n   * Descent into Darkness:\n     * Fixed the 'A Small Favor' scenarios being unbeatable.\n   * Eastern Invasion:\n     * Increased Owaec's hitpoints and attack stats, and added a new weapon\n       special to his morningstar on levels 2 and 3.\n   * Legend of Wesmere:\n     * Splitted the multiplayer port into five chapters with 3 difficult levels\n       each.\n       * (Beta)  Chapter one, a two player campaign, ends after scenario 3.\n       * (Beta)  Chapter two, a three player campaign, ends after scenario 7.\n       * (Alpha)  Chapter three, a four player campaign, ends after scenario 13.\n       * (Alpha) Chapter four, a four player campaign, ends after scenario 17.\n       * (Alpha) Chapter five, a two player campaign, ends with the single\n                 player version.\n       * There is no savefile compatibility between saves from an older version\n         of Wesnoth.\n     * Scenarios\n       * Scenario one's objectives changed.\n       * Completed a rewrite of scenario 5, changing the objectives, ai and\n         game mechanism slightly.\n       * Scenario 7\n         * Shortened by letting the orcs flee if their numbers went too low.\n         * The player can choose between two different starting positions for\n           Olurf.\n       * Rebalanced Scenario 14.\n     * Miscellaneous and bug fixes:\n       * Renamed some of the locations at the Kalian to fit with the map\n         changes.\n       * Fixed scenario number 5 where the gold carrier's overlay was not\n         removed.\n       * Fixed the bug with the army split up before scenario number 9.\n       * Map and coding updates regarding the new terrain types and graphics.\n       * Added keeps to every scenario to match the number of leaders\n         (singleplayer) or sides (multiplayer).\n       * Removed the obselete Haldric the second portrait.\n   * The Rise of Wesnoth:\n     * Made surprise enemy spawns appear in a less immediately dangerous way in\n       'The Midlands', 'The Swamp of Esten', 'Peoples in Decline',\n       'A Rough Landing', 'The Vanguard', 'Return of the Fleet' and\n       'Rise of Wesnoth'.\n     * Clarified the early finish bonus conditions in 'Fallen Lich Point' and\n       'Sewer of Southbay'.\n     * Allowed Merman Hunters to be recruited alongside Merman Fighters.\n   * Sceptre of Fire:\n     * Fixed bug #16542: Alanin not appearing in the epilogue.\n   * The South Guard:\n     * Fixed a bug causing a freeze at the beginning of 'The Long March'.\n * Editor:\n   * Added a standard click sound to brush bar buttons (bug #15635)\n * Graphics:\n   * New animations: Merman Hunter ranged animation and defence, Warrior se\n     attack and defence, Drake Flare and Flameheart leadership.\n   * New portraits: Inferno Drake, Mermaid Initiate alternate, Goblin spearman\n     alternate\n   * Terrain:\n     * Tropical Ocean added\n     * Improved transition between void and off-map and with both and the\n       oceans.\n     * Snowy Human City Village added\n     * Muddy Quagmire (Sm) added - alias of swamp\n     * Old Desert Mountains replaced with a non-green version of the mountains\n     * Slightly tweaked dirt colors and new, smooth dirt transitions\n     * Better transitions for Cobbled Road, Clean Cobbles, and Overgrown Path\n     * Fixed hard edge on immpassible mountains clouds.\n     * Fixed Transition of leaf litter to water.\n     * Fixed hard edge on top of cave beams\n     * Fixed lava drawing extra transition on off-map\n     * Any Castle or Keep except Dwarvish can now be combined without large gaps or extra walls.\n   * Better rendering of unit in water: transparency decreases with depth.\n * Language and i18n:\n   * Updated fonts: DejaVu 2.32\n   * Updated translations: Chinese (Simplified), Chinese (Traditional), French,\n     German, Hungarian, Indonesian, Japanese, Lithuanian, Polish, Russian,\n     Slovak, Vietnamese\n * Multiplayer:\n   * Updated maps: 4p Hamlets.\n   * Updated most of the maps taking advantage of the new terrains.\n   * Side vision is now switched before the healing phase of the turn (only\n     visible in hotseat)\n   * Re-added the old MP lobby.\n * Terrain WML:\n   * Updated height adjust of desert, orcish, and snowy keeps.\n   * Fixed broken aliasing of the wooden floor.\n   * Stop using negative unit height adjust for water terrains.\n   * Chasm bridges can now be placed on any terrain, and the lit-by-lava\n     variants are automatically used when placed over lava.\n   * Removed village terrains: ^Voha, ^Voh, ^Vhms, ^Vhm, ^Vcha, ^Vch, ^Vcm. See\n     the village aliasing change listed below.\n * Unit changes and balancing:\n   * Decreased the melee and ranged attack of the Footpad from 5-2 to 4-2.\n   * Decreased the XP requirement of the Mage from 60 to 54.\n   * Decreased the XP requirement of the White Mage from 150 to 136.\n   * Decreased the XP requirement of the Mermaid Priestess from 150 to 132.\n   * Added the Ghast unit from DiD to core with new base frame and animations.\n   * Made the Giant Rat have a normal AMLA instead of an AMLA with no fullheal.\n   * All bats are now given a 'feral' trait which caps their defense on villages\n     to 40% and also making them receive only one random trait.\n   * All villages except for water and swamp villages are now aliased to both\n     village and the terrain they're placed on, giving best movement and defense\n     of both.\n * User interface:\n   * Changed: the title screen is now gui2 (bugs #12906, #12908 and #15987).\n   * Use red/green color for damage in sidebar when modified by bonus/malus\n   * Placing a waypoint on a capturable village will now make the unit pause\n     there to capture it (FR#16603)\n   * Fixed bug #16653: Avoid markup when calculating the text length for\n     ellipse text (Debian bug #547476).\n   * Damage type tooltip now also shows damage after resistance calculation.\n * Whiteboard:\n   * Added cost display for planned recruits and recalls\n   * Fixed bug #16554 : Infinite attacks with the whiteboard\n * WML Engine:\n   * Added tag [kill][secondary_unit] for specifying the killing unit.\n   * Added a LOW_MEM define to WML to be able to adapt WML to low memory\n     builds.\n   * Added event: side turn X\n   * Added event: turn X refresh\n   * Added [chat] tag for outputting public or private messages to the chat.\n   * Added events: turn end and turn X end\n   * Added events: side turn end, side X turn end, side turn X end,\n     and side X turn Y end\n   * Added \"variations\" key and \"@V\" symbol in [terrain_graphics] (syntax is\n     not final, and may change later)\n   * Fixed a bug causing the PUT_TO_RECALL_LIST macro to freeze the game.\n   * Modified [set_variable] \"divide\" so that it always performs a\n     floating-point divide.\n   * Allow time_area to define local time of day on map border (bug #16508)\n   * Allowed negative defense values as a way to set upper bounds,\n     e.g. village=-60 means that a unit cannot have less than 60 def (more\n     than 40% def) on terrains containing villages.\n * Miscellaneous and bug fixes:\n   * Removed: statistics upload code.\n   * Changed: compiler mode set to c++98\n   * Optimize terrain rules which speed up cache creation and loading\n   * Optimize rendering of flying units\n   * Fix crash when attacking in fog (using teleport+attack to a fogged village)\n   * Fixed a bug causing turn counter in the objectives dialog to duplicate when\n     the objectives are viewed several times.\n   * Replace \"working peasant\" (indicating missing images in debug mode) by\n     half-transparent \"Image not found\"\n   * Improved rendering algorithm: reduced memory requirements and a much faster\n     render loop; very noticable on big maps\n   * Improved framerate by removing useless 20ms delay between frames.\n\nVersion 1.9.0:\n * AI:\n   * Fixed bug #15994 : Formula AI candidate actions specified in [side][ai]\n     don't always work.\n   * Fixed bug #16406: Broken AI of SoF 1, and improved upgrade procedure for\n     old-style AI config.\n * Campaigns:\n   * An Orcish Incursion:\n     * Made 'Valley of Trolls' easier on the easiest difficulties.\n   * Dead Water:\n     * New campaign added to mainline from the Wesnoth-UMC-Dev Project's\n       repository (Intermediate level, 13 scenarios)\n   * Descent into Darkness:\n     * 'A Small Favor' (part 1) now gives an early finish bonus.\n     * Dela is no longer invulnerable in 'Alone at Last' but cannot be safely\n       assassinated.\n   * Eastern Invasion:\n     * New (unanimated) sprites for Owaec.\n     * Made it slightly easier to rescue the knights in 'Mal-Ravanal's Capital'.\n     * Increased the turn limit in 'Two Paths' from 18/16/14 to 18/17/16.\n   * Heir to the Throne:\n     * Made 'Cliffs of Thoria' much easier.\n     * Made 'Isle of the Damned' slightly easier.\n   * Liberty:\n     * Increased the difficulty of 'Unlawful Orders', 'The Grey Woods' and 'The\n       Hunters' and 'Glory'.\n   * Northern Rebirth:\n     * In Showdown, you recover full gold only if Sisal survived the previous\n       scenario.\n   * Son of the Black Eye:\n     * Increased the turn limit in 'Black Flag' from 30/25/20 to 30/28/24.\n   * The South Guard:\n     * A new set of story art by Scavenger.\n     * In 'Vengeance', the final objective is now revealed at the beginning of\n       the scenario.\n     * New images for the Infantry Lieutenant and Commander by Rhyging5\n   * Scenarios in Eastern Invasion, Liberty, Northern Rebirth, Son of the\n     Black-Eye and The Rise of Wesnoth which feature computer-controlled allies\n     now allow you to affect their behavior via the right-click menu.\n * Graphics\n   * Added new portraits for: the Orc Archer, Crossbowman, Slurbow, Sayer,\n     several new Orc Grunt line alternates, Draug and one alternate, Ghoul,\n     Skeleton Archer line, Giant Mudcrawler, Orc Leader/Ruler, alternate Leader\n     and Sovereign, alternate for Loyalist Swordsman, Drake Fighter, Burner.\n   * New animations (not yet including leading animations) for Drake Flare\n     and Flameheart, Dwarf Lord ranged attack, Dwarf guard melee attack, Dwarf\n     Pathfinder idle, Ruffian attack and defend, Spearman s and se attack.\n   * New base frame and animations for Armageddon Drake.\n   * Fixed bug causing Drake Clasher's animation to display incorrectly.\n   * Added missing help version for Sea Serpent portrait.\n   * Items & scenery: New anvil, and revised trash and lighthouse\n   * Two new flag styles.\n   * Animate terrain in editor\n   * New advanced preference to use a local ToD color-shift\n   * Added framework allowing to draw various arrow styles on the map.\n * Language and i18n:\n   * Updated translations: British English, Catalan, Chinese (Simplified),\n     Chinese (Traditional), Czech, Dutch, Estonian, Finnish, French, Galician,\n     German, Hungarian, Indonesian, Italian, Japanese, Latin, Latvian,\n     Lithuanian, Polish, Russian, Serbian, Spanish, Slovak, Vietnamese\n   * Updated DejaVuSans to 2.31\n   * Fixed bug #15653: Made untranslateable strings translateable.\n   * Fixed bug #15843: Made untranslateable strings translateable.\n   * Fixed bug #15934: Flushed image cache when changing language\n   * Fixed bug #15937: Made untranslateable strings translateable.\n   * Make map labels store translatable strings, so when the language changes,\n     the labels also use the new translation.\n * Multiplayer:\n   * Updated map: Ruins of Terra-Dwelve.\n   * Fixed bug #15865: missing WML Child error.\n   * Added the winner of the first Wesnoth map competition, the 2 player map\n     \"Elensefar Courtyard\" by krotop.\n * Music and sound effects\n   * New version of \"Northerners\" by Stephen Rozanc (TreizeCouleurs)\n   * New sounds for wolves and wolf riders. Removed all old wolf-* sounds.\n * Terrain:\n   * all villages except water and swamp villages can now be placed on any base\n     terrain\n   * orcish, elven and human snow villages are now aliased to village,snow\n     instead of just to village\n   * orcish and human snow hills villages are now aliased to village,snowhills\n     instead of just to village,hills\n   * animated terrain animations are not synchronized anymore\n   * reworked macros to handle animations\n   * added new stone-wall-lit terrain\n   * made all animated terrains use the new macro system\n   * added a new \"snowy castle\" terrain\n   * added new mausoleum scenery\n   * added new \"snowy fort\"\n   * added new \"desert castle\"\n   * added new \"tropical water\"\n   * added new \"dead grass\" terrain\n   * improved dry grass \"savanna\" terrain\n   * improved green grass \"grassland\" terrain\n   * improved \"desert road\" terrain\n   * added new \"dark dirt\" terrain\n   * added new \"small stones\" embellishment\n   * added new \"small mushrooms\" embellishment\n   * fix for dwarven castle to cave wall alignment issue by Alarantalara\n   * made encampment and orc forts use regular dirt rather than a custom terrain\n   * created new editor group: \"embellishments\", and added desert plants to\n     that group\n   * improved snow terrain\n   * added \"leaf litter\" terrain\n   * added new \"mine rail tracks\" terrain\n   * added 3 new variants for log cabin\n   * added impassable snow mountains\n   * adjusted the color of various terrains for a more coordinated appearance\n   * added new dry hills terrain\n   * new ford that works with animated water\n   * improved cobbled road now also used for castle (not keep) floor\n   * new etherial abyss terrain added to mainline\n   * flower base terrain is deprecated, now available as an overlay\n   * added new clean cobbled road terrain\n   * added castle to chasm transitions\n   * improved human city village\n   * Dark flagstones mainlined from UtBS\n   * added castle to lava chasm transitions\n   * chasm type terrain now blend nicely with void and off-map\n   * new banks for transition between flat or cave terrains and water\n   * adjusted all underground terrain to harmonize with other terrains\n   * improved mini-map appearance for most chasm, wall and grass terrains\n   * stone path now matches other terrains\n   * added wooden floor terrain\n   * added mushroom farm terrain\n   * added volcano terrain.\n   * added a special blend transition for mountains next to chasms\n   * added snowy encampment\n   * special snowy chasm appears next to snow terrains\n   * added earth-toned chasm\n   * added earthy cave floor\n   * added hewn cave wall, earthy cave wall, and earthy hewn cave wall.\n   * animated water and swamp now use a double-sided transition to blend gradually into each other\n * Terrain WML\n   * rename TRANSITION_RESTRICTED and TRANSITION_RESTRICTED2 to\n     OVERLAY_ROTATION_RESTRICTED and OVERLAY_ROTATION_RESTRICTED2\n   * All unused macros are slowly removed to try to get a logical and complete subset of macros\n   * Allow to use local ToD terrain variants in [time_area]\n   * ToD key in terrain [variant] now accept a list of ToD\n   * New key 'set_no_flag' in [tile] which combines 'set_flag' and 'no_flag'\n * Units:\n   * Giant Rat moved from DiD to core.\n * User interface:\n   * Added the era AI in the list of AI shown when opening a game\n   * Added dialog for installation of add-on dependencies\n   * Removed the unused gui2 menu bar\n   * Added a window register framework\n   * Enabled the --new-widgets MP create dialog again\n   * Enabled the hidden join observe buttons per row\n   * Enabled alignment in labels\n   * Avoid resizing when next or previous button is pressed in the\n     --new-widgets title screen\n   * Added gui2 progress bar widget\n   * Added \"animated\" logo to the --new-widgets title screen\n   * Fixed the language is refreshed after the language is changed in the\n     --new-widgets title screen\n   * Implemented bug #15623 (patch #1568): On change resolution screen,\n     widescreen resolutions are now marked as such\n   * Added tooltips to the --new-widgets title screen\n   * Added a place holder upload statistics button in the --new-widgets title\n   * Fixed bug #15716: Lobby crash when refreshing with filtered out games\n   * Fixed bug #15768: Avoid parts of the previous game show in the lobby\n   * Fixed bug #15727: Allow wml message titles to wrap\n     screen\n   * Added the total number of villages to the status table lists\n   * Added a new attack dialog, available for testing with --new-widgets\n   * Patch #1645: Fixed a bug sending keyboard events to deactivated controls\n   * Deprecated the resize flag for gui2 image, use the resize_mode instead\n   * Patch #1639: Added handlers for keyboard (arrow keys) to move gui2 sliders\n   * Added new experimental list box implementation, available for testing\n     with -DGUI2_EXPERIMENTAL_LISTBOX\n   * Damage in sidebar now also take account of ToD and leadership\n   * More info in the weapon tooltip (damage bonus calculation and swarm effect)\n   * Terrain defense tooltip show terrain's info and defense calculation\n   * Level tooltip shows next advancements\n   * Each trait and special attack has its own tooltip\n   * Most sidebar tooltips have now a category indication\n   * Tooltips of ellipsed text are grouped in the last visible item's tooltip\n   * Increase a little tooltip's opacity\n   * Render grid above foreground terrain\n   * Clicking on some elements of sidebar now open the related help page\n   * Display weapon stats in recruit/recall dialog the same way as in sidebar\n   * Accuracy/parry have its own line and tooltip in sidebar.\n   * Add first, last, play and back buttons to storyscreens\n   * Remember recall list sorting order (FR #16149)\n   * accelerated movment speed to 200ms per hex\n   * --logdomains accepts a filter argument and uses multiline output\n   * New mouseover image instead of simply highlighting the hex\n   * Tab completion for :commands and units search function\n   * Fixed #15781: On maps with statues player can pick statues team\n   * Fixed move+attack not interrupted when ambushed at destination\n   * Stop disabling mouse during attack+move\n   * Added the whiteboard planning system (GSoC project), see release notes for details.\n   * Allowed viewing terrain defense for the selected unit outside of your turn.\n * WML Engine:\n   * Added wml action tag: [modify_unit]\n   * Added wml action tag: [move_unit]\n   * Deprecated [set_variable]'s random key, use rand instead\n   * Renamed [unit][status] healable to unhealable so it can default to 'no'\n   * Added 'side X turn refresh' and 'side X turn Y refresh' events\n   * Add ~DARKEN() counterpart to ~BRIGHTEN()\n   * Implement min_value for [illuminates]\n   * Added lua functions wesnoth.get_side_count() and wesnoth.is_enemy(a,b)\n   * Add 'recall_cost' key for [side], to override [game_config]'s default\n   * Add [replace_schedule] tag, which replaces the time of day schedule\n   * Trying to include a missing macro/file is now a fatal error\n   * Added #ifhave/#ifnhave for testing existence of files and directories\n   * Added [volume] tag, which allows game volume to be changed during scenarios\n   * Prototype support for [set_global_variable]\n   * Prototype support for [get_global_variable]\n   * Prototype support for [clear_global_variable]\n   * Added scroll_to_leader attribute to side tag.\n     Default value is 'yes' (bug #15921)\n   * Draw the map border over _off^_usr tiles too.\n   * Add 'immutable' key to [label], defaulting to true (feature #16078)\n   * Added search_recall_list key to [have_unit] tag\n   * Added [move_units_fake] tag\n   * Added reveal_map key to [endlevel] tag\n   * Rename all \"colour\" keys to \"color\" (in [side] and [label]), same for\n     \"colour_lock\"\n   * Allow a [case] value to take comma-separated values\n   * Move fog/shroud image definition into game_config.cfg\n   * Add new game_config keys \"hex_brightening\", \"hex_semi_brightening\",\n     \"mouseover_image\" and \"selected_image\" to tune mouse interface\n   * Fixed bug #16219: Handled ToD areas in a LIFO way, so that it is possible\n     to override them without first removing them\n   * [effect] violate_maximum= (for use when increasing HP) takes a real boolean\n     value now instead of taking any non-empty value as \"true\".\n   * Allow checking out terrain defense for units when it's not your turn.\n   * New image path function: dst~BLIT(src[, x, y]) blitting src image on dst\n     image at coordinates (x,y)\n   * Fix bugs in 'illuminates' when using non-standard values. Now max and\n     min_value only clamps the effect of the illuminates bonus, but ToD and\n     terrain effect can pass them.\n   * Added [gold_carryover] tag to the [objectives] tag.\n   * Added [note] tag to the [objectives] tag.\n   * Added caption= and show_turn_counter= keys to the [objective] tag.\n   * New WML macros: ON_DIFFICULTY (a macro that makes using different values\n     based on difficulty simpler), ON_SIGHTING (a substitute for sighted events)\n   * Removed WML macros: NEUTRAL_SIDE\n * Miscellaneous and bug fixes:\n   * Added a network library for asynchronous server & client applications (ANA)\n   * Rewrote the network module using this (ANA) library\n   * Added help entry when new unit is created directly in the recall list\n   * Defaulted log level to warning again\n   * better fix for bug 14765 now that string freeze is off\n   * Fixed picking the proper locale, the problem only occurred on some\n     systems\n   * Added a way to compile wesnoth on windows by using CMake + MSVC9.\n   * Added the possibility to specify absolute paths for \"--config-dir\"\n   * Added more command line arguments for starting a campaign + scenario\n   * Added command line \"--preprocess\" to preprocess a specified file/folder and\n     output the result\n   * Added command line \"--preprocess-input-macros\" to specify extra input macros\n   * Added command line \"--preprocess-output-macros\" to output the preprocessed\n     macros to a file\n   * Added command line \"--data-dir\" to explicitly override the data directory\n   * Fixed the ping timeout not waiting for the default ping interval when\n     ping timeout is not set to 0\n   * Fixed a bug in scoring of AI recall list. Patch by billynux.\n   * Strip whitespace characters from .ign patterns (bug #15902)\n   * Fixed wesnoth_addon_manager's support for .ign files (bug #15846)\n   * Never allow uploading *.pbl files (case-insensitive) to the add-ons\n     server from the regular game client.\n   * When warning the player about installing add-ons with missing dependencies,\n     make 'OK' and 'Cancel' work as expected (bug #15960)\n   * Fixed tab completion not working in the new lobby (bug #14730)\n   * Fixed compilation for g++ 4.5\n   * Cleaned up the gui2 code at various places\n   * Don't crash if a [story] [part] [if] misses [then] or [else] (bug #16028)\n   * Fix a crash on OS X caused by passing invalid utf8 to pango (bug #16020)\n   * Hidden weapons (attack_weight = 0) no longer skew the best weapon selection\n   * Prevent dereferencing freed memory when reporting malformed maps, i.e. when\n     using an invalid terrain type\n   * Fixed attack predictions for combats with a unit leveling up thanks to a kill\n   * Fix rare layer's order bug about unit drawn above big south-west unit\n   * Improvements to make Wesnoth compile better with g++-4.5 in C++-0x mode\n   * Added \":undiscover\" to clear all your discovered units from help\n   * Added \":turn\" to change the current turn/time of day in debug mode\n   * Added \":turn_limit\" to change the turn limit for a scenario in debug mode\n   * Fix a crash when a sighted event killed a unit just before a fight\n   * Fixed bug #16171: Disable commands during [animate_unit]\n   * Fixed bug #16235: Avoided displaying an empty menu and therefore choosing\n     a random weapon, when there is none\n   * Fixed bug #16243: Added detection for server replays, as they are missing\n     the core [lua] tags\n   * Fixed bug #16261: Added test for invalidated death due to positive hp\n     after the 'die' event\n   * Fixed bugs when a waypoint is unreachable\n   * Fixed attacker still getting resting bonus after attack using movement_used=0\n   * Fixed [store_time_of_day] for earlier turn\n   * Fixed _off^_usr not using the tile_image of theme.\n   * Patch #1727: Fixed revision.hpp generation with cmake 1.8(.2)\n   * Added debug command \":foreground\" to better visualize foreground terrains\n   * Added debug command \":layers\" displaying various layer info from the hex under\n     the mouse.\n   * Reducing cache loading for title screen, --test, --editor and --load\n   * Removed Lua dependency, the source is now in the source tree\n   * Introduced a new allignement called \"Liminal\". Those units fight best during the twilight times of day.\n   * Fixed #16343: wmllint wants to add translation markers to the empty string in description=\n   * Reduce individual memory cost of each terrain image\n\nVersion 1.8.0:\n * AI:\n   * Fixed bug #14247: Make formula AI behave correctly if the side has only 1\n     potential recruit.\n   * Added support for candidate actions written in lua.\n * Campaigns:\n   * Descent into Darkness:\n     * Added new Giant Rat base frame and animations.\n   * Legend of Wesmere:\n     * Fixed bug #15631: Scenario 3: arrival of Kalenz failed\n     * Fixed bug #15679: Scenario 17: leader of side 2 is missing\n     * Fixed bug #15680: Scenario 18: wrong recruitment options\n   * Under the Burning Suns:\n     * Scenario 2: speed up AI turn.\n * Graphics:\n   * Added new Cave Spider and Cuttle Fish graphics\n * Language and i18n:\n   * Added new translations: Serbian Ijekavian, Serbian Ijekavian Latin\n   * Updated translations: Czech, Finnish, French, German, Hungarian, Japanese,\n     Latvian, Lithuanian, Russian, Serbian, Spanish, Slovak\n * Multiplayer:\n   * Updated maps: Cynsaun Battlefield\n * Music and sound effects:\n   * Fixed bug #15668: The lobby will play a random music playlist, configured\n     by [lobby_music], instead of looping the main menu song\n   * Fixed bug #15669: The titlescreen will play a random music playlist,\n     configured by [titlescreen_music], instead of looping the main menu song\n     First song played will still always be the main_menu theme.\n * User interface:\n   * Worked around bug #15561: Resizing the lobby made the items in the game\n     listbox too small\n * Miscellaneous and bug fixes:\n   * Added the first draft of the gui2 design documentation\n   * Defaulted log level to error again\n   * Fixed bug #13882: Map which is invalid aborts map selection\n   * Fixed bug #14114: Checksum operations fail against certain scenario events\n   * Fixed bug #15545: Recall list gone after loading savegame created in\n     linger mode\n   * Fixed bug #15598: Can't move units after reloading game\n   * Fixed bug #15601: Replay crashes when replay log messages are enabled\n   * Fixed bug #15656: OOS errors in LoW from differing starting gold\n   * Fixed a segfault due to missing seed-attribute of an attack in a replay\n   * Fixed a graphics bug with the Spearman's attack anim noted by zookeeper\n   * Worked around bug #13333: Limit the maximum length of the mp command\n     dialog as workaround for bug (This workaround is only implemented for\n     Windows and Mac)\n   * Worked around a rare assertion failure when resizing the lobby\n\nVersion 1.7.15-1.8rc1:\n * AI:\n   * Set RCA AI to be the default AI for single-player campaigns.\n   * Fix bug #15390: add a try_delete action to modify_ai which has\n     'delete if exists, don't complain if not exists' semantics\n   * Fix bug #15013: make AI gotos persist between turns when set by\n     WML, make the AI don't use gotos for normal moves.\n * Engine:\n   * Fix bug #15542: if game encounters a base_unit that refers to a\n     unit that the game cannot find, throw exception instead of\n     failing assertion.\n   * Add a list of team units and a dedicated unit mode to gamestate\n     inspector (launched by :inspect command and [inspect] tag).\n * Language and i18n:\n   * Updated translations: Chinese (Traditional), Czech, German, Hungarian,\n     Japanese, Serbian\n * Multiplayer:\n   * Fix bug #15541: fix OOS on [unit] tag generating different\n     traits because of usage of local RNG instead of MP RNG.\n   * Fix bug #15560 for Dark Forecast: fix OOS in Dark Forecast caused by\n     unit advancement not properly synced across the network.\n * Music and sound effects:\n   * Added new music track, \"Weight of Revenge\" by Doug Kaufman\n * User interface:\n   * Improved resizing of a window when the contents don't fit, fixes the\n     window scrollbars in the MP lobby\n   * Fixed redraw invalidation issues in the MP lobby\n\nVersion 1.7.14-1.8beta7:\n * AI:\n   * Allow to write AI components in LUA\n   * Implemented FR #15465: 'protect' goal was split into protect_location,\n     protect_unit, protect_my_unit [goal] tags. protect_my_unit can be used\n     as a direct replacement for protect_leader.\n * Graphics:\n   * Fixed bug 15344: missing ice to nothing transition\n   * Fixed weird side effect of long first frame in standing anims\n   * Fix bug 15366 : overlay terrains badly interacting with submerge and height\n     adjustments\n   * Fix bug 15544 : bad transitions between roads and deserts with overlay\n * Language and i18n:\n   * Updated translations: Catalan, Chinese (Traditional), Czech, Estonian,\n     Finnish, German, Greek, Italian, Japanese, Lithuanian, Polish, Serbian\n * Multiplayer\n   * Make allow_changes attribute truly work\n   * Fixed players getting different side colours across scenarios of mp\n     campaigns\n   * Fixed bug 14754: Host can start game before the client has selected a\n     leader (Debian bug #555964)\n   * Fix bug #15380 (cl in multiplayer local game doesn't work)\n   * Fix bug #15382 (Player doesn't get transported to the next scenario)\n   * Fix bug #15383 (Multiplayer Campaigns can't be loaded from savegame)\n   * Fix bug #15391 (Warnings in multiplayer games)\n   * Fix bug #15398 (Multiplayer Campaign aborted after endlevel)\n   * Fix bug #15399 (Leaders of the ai sides in LoW multiplayer scenario2 are\n     missing)\n   * Allow a 1-sides game to be started (Debian bug #568029)\n   * Fixed A New Land not working when there are empty sides\n * User interface:\n   * Rewrote the sizing code of the tree view widget\n   * Don't show turn dialog once the level has ended\n   * Fix the empty games in the MP lobby game list\n   * Fix redraw glitches of the scrollbars when resizing a widget\n   * Fix a crash when using the scrollwheel (bug #15156)\n   * Fix an issue where the lobby chat log didn't resize properly\n   * Fix the translation of certain lobby strings\n   * Enable the scrollwheel for the tree view\n   * Enable the scrollwheel for the scroll label\n * Miscellaneous and bug fixes:\n   * Fix bug #15429 (Units created by WML can only get the Neutral alignment);\n     this also affected MP leaders\n   * Fix UB when closing a window, caused by the children of the window\n     accessing the destroyed window members\n\nVersion 1.7.13-1.8beta6:\n * AI:\n   * Port [protect_leader], [protect_unit], [protect_location] to new-style ai\n     config, which is a goal with name=protect, which accepts a SLF [criteria].\n   * Changed names of AI log domains, to have a more uniform naming style.\n     Most names became shorter.\n * Campaigns:\n   * Fixed a bug in several scenarios causing some enemy units to disappear when\n     loading a save\n * Engine:\n   * Fix bug #15146: made kill event with animate=\"yes\" recheck the presence of\n     unit before animating, fixing the assertion failure (in case the unit is\n     removed by other wml events like last breath)\n   * All unit-related images are team colored, this includes missiles and haloes\n * Graphics:\n   * Add and wire two new Drake attack icons.\n * Language and i18n:\n   * Updated translations: Czech, Finnish, French, German, Hungarian, Italian,\n     Lithuanian, Polish, Portuguese (Brazil), Russian, Serbian\n   * The manual now does support translations of alternative texts for images\n     (bug #14874)\n * Multiplayer\n   * An early test version of the multiplayer port of \"Legend of Wesmere\"\n     is available when starting wesnoth with the commandline argument \"--debug\"\n * User interface:\n   * Add a new tree view widget\n   * Use tree view widget as test in campaign dialog (needs --new-widgets)\n   * Use tree view widget in the lobby\n * Miscellaneous and bugfixes:\n   * Fixed serveral issues found by cppcheck\n\nVersion 1.7.12-1.8beta5:\n * AI\n   * Fixed unit_at formula ai function to return null on null input\n * Campaigns:\n   * Fixed a bug in several scenarios causing some enemy units to disappear when\n     loading a save\n * Language and i18n:\n   * Updated translations: Czech, Finnish, French, German, Hebrew, Italian,\n     Latin, Russian, Shavian, Slovak, Spanish\n * Multiplayer:\n   * Non-human null controllers are no longer set to ai\n   * Don't allow a 0-sides game to be started (Debian bug #563310)\n * Music and sound effects:\n   * New version of sad.ogg (Sad music) by Tyler Johnson\n * User interface:\n   * Switched back to the tiled background for gui2\n   * Improved to looks in tiny-gui\n   * Add a new transient error message\n   * Convert several old style message dialog to the new style\n   * Allow listboxes to add rows at every place instead of at the end only\n   * Improved the speed of the new lobby\n * WML Engine:\n   * Removed bogus merging of the old unit type's movetype when advancing\n     (fixes bug #15055)\n   * [unit] upkeep now accepts the 'free' value as a synonym for 'loyal'\n     It was widely used this way and worked because its integer value is 0\n * Miscellaneous and bugfixes:\n   * Fix errors in tutorial when the player unexpectedly kills certain enemy\n     units in scenario 2 (bug #15037)\n   * Fix orcs being able to play their turn twice in tutorial scenario 2\n     (bug #14926)\n   * Fix missing dialog in tutorial scenario 1 (patch #1399)\n   * Fix scrolling during animation (bug 13106)\n   * Fix drakes tipping their wings in the water when flying\n   * Fix some assertion failures when showing/hiding listbox items\n   * Fixed serveral issues found by cppcheck\n   * Fixed drawing glitches with tiled gui2 windows in the lobby\n   * Fix some doxygen warnings\n   * wesnoth-optipng can now process selected files given on command line\n   * Allow listboxes to better request the update of their contents\n\nVersion 1.7.11-1.8beta4:\n * Language and i18n:\n   * Updated translations: Chinese (Simplified), Estonian, French, Latvian,\n     Lithuanian, Portuguese (Brazil), Russian, Serbian, Slovak, Spanish\n   * Manual: updated CSS style to cover Docbook markup for GUI elements\n * User interface:\n   * Add a new repeating button widget\n   * Scrollbar buttons now keep scrolling when kept pressed down\n   * Optimized the speed of the --new-widgets game load dialog\n   * Waypoints of multi-turns moves are now saved between reload\n * WML Engine:\n   * Rework of semantics of [unit] tags. Added 'placement' attribute.\n     Fix bugs #14373, #14444, #14451 and other 'duplicated unit' issues in LoW\n * Miscellaneous and bugfixes:\n   * Scrollbar containers now use the button super class\n   * Allow a gui2 timer delete itself in its callback\n   * Fix various bugs when a unit has more MP than its maximum\n   * Fix not redrawing a grid when set to hidden\n   * Add helper functions to show/hide rows in a listbox\n\nVersion 1.7.10-1.8beta3:\n * Campaigns:\n   * Under the Burning Suns:\n     * Fix locations of some items in \"In the domain of the dwarves\"\n       (bug #14925)\n * Graphics:\n   * Added attack icon for Drake Ram attack, and for UtBS's Giant Ant.\n * Language and i18n:\n   * Updated translations: French, German, Hungarian, Italian, Latvian,\n     Lithuanian, Polish, Portuguese (Brazil), Russian, Serbian, Slovak\n * User interface:\n   * Don't reserve space for scrollbars in message dialogs\n   * Ctrl-f for fullscreen works again in the MP lobby (bug #14759)\n   * Resizing the MP lobby no longer crashes randomly\n * WML Engine:\n   * Fix bug #14859: [time_area] created by event are not saved\n   * Allow modifications to change unit ellipse\n * Miscellaneous and bugfixes:\n   * Add a minimap cache for gui2\n   * Add a new super class for the button\n   * Added a new gui2 timer engine\n   * Add hotkey support for gui2\n   * Change Drake Flare and Flameheart weapon names to match new weapons\n   * Converted the hover tooltips to use the new timer engine\n   * Fix bug #14865: move+attack into hex with ambusher causes crash\n   * Fix the addon upload script to include the translate flag (patch #1387)\n   * Fix the gui2 unit tests\n   * MP lobby refresh to the new timer engine\n   * Optimize AI recruitement and movement phases\n   * Reduced header dependencies\n   * Remove spurious hover error messages\n   * Shorter \"Initializing Display\" phase when staying in same campaign/MP\n\nVersion 1.7.9-beta2:\n * AI:\n   * new [limit] subtag of [value] of ai_default::recruitment implementation of\n     recruitment aspect - allow easy limiting of number of concurrent recruits\n     of specific type in the field\n   * new rate_action formula_ai function which returns a rating of\n     attack analysis.\n   * values of most ai aspects are now readable from formula ai (aggression,\n     avoid, attacks, attack_depth, caution, grouping, leader_aggression,\n     leader_value, number_of_possible_recruits_to_force_recruit, passive_leader,\n     passive_leader_shares_keep, recruitment_ignore_bad_movement,\n     recruitment_ignore_bad_combat, recruitment_pattern,\n     scout_village_targeting, support_villages, village_value,\n     villages_per_scout)\n   * Fixed Bug #14768: made AI observe changes in allowed recruits, preventing\n     situations where AI does not recruit because it thinks that it can not do\n     so.\n * Campaigns:\n   * Northern Rebirth:\n     * Fixed a few graphic bugs with map items\n   * The Rise of Wesnoth:\n     * Removed the undead trait from several custom bat units\n * Graphics:\n   * New animations for the Chocobone.\n   * Change which Orc Grunt portrait appears is the default.\n   * New portrait for Orc Warrior\n   * New portrait for Hamel (tHoT)\n * Language and i18n:\n   * Updated translations: Czech, French, German, Italian, Latin, Lithuanian,\n     Polish, Portuguese (Brazil), Russian, Serbian, Slovak.\n * Multiplayer:\n   * Updated maps: Caves of the Basilisk, Hornshark Island, Howling Ghost\n     Badlands, Sablestone Delta\n * Music and sound effects:\n   * Updated music tracks: Legends of the North, Breaking the Chains\n * User interface:\n   * Show selected item after a listbox resize (bug #13995)\n   * Increasing the size of the MP lobby works properly (bug #14759)\n   * Fix waypoints ignored for multi-turns moves\n   * Toggle waypoint now works for each one, not just the last.\n   * Reclick on the selected unit now clear all waypoints\n   * Logo coordinates on the title screen now relative to center of the logo.\n * WML Engine:\n   * Added [open_help], fixes Bug #11061 (forgot to commit that one long time\n     ago)\n * Miscellaneous and bugfixes:\n   * Optimize \"Initializing teams\" loading phase\n   * Undraw floating labels when a gui2 dialog closes (bug #14816)\n\nVersion 1.7.8-beta1:\n * Campaigns:\n   * Under the Burning Suns:\n     * Do not allow player units to get pass the Dwarf Ghost\n       without completing the side quest in Tunnels of the Trolls\n       (bug #14379)\n     * Fixed a few visual glitches in some scenarios\n * Graphics:\n   * New base frames for Drake Flare, Flameheart\n   * New portraits for Grand Knight (alt), Lancer, Orc Grunt (two alts)\n * Language and i18n:\n   * Updated translations: Czech, Dutch, Finnish, German, Hungarian, Italian,\n     Latin, Lithuanian, Portuguese (Brazil), Russian\n * User interface:\n   * Instead of \"crashing\" upon invalid markup try to show the raw text\n   * Found a better fix for truncating the campaign description (bug #14328)\n   * Fix storyscreen buttons occasionally disappearing (bug #13779)\n   * Fix not being able to cancel the different version message (bug #14438)\n   * Fix not being able to close corrupted file dialog (bug #13764, #14058)\n   * Improve display order of unit healing (patch #1343)\n   * Fix the new-widgets addon list dialog\n   * Add fallback scrollbars if a window doesn't fit (bug #13180)\n   * Switch to the new MP lobby\n   * Fix a NULL pointer deferring in the hover code\n   * Protect against widgets being smaller as expected causing images with\n     negative sizes (bug #14525)\n * WML engine:\n   * Added two array element lookup macros, LOOKUP_INDEX and LOOKUP_VALUE\n   * Event \"turn refresh\" is now fired at turn 1 too\n * Miscellaneous and bugfixes:\n   * Using a hotkey to reload during an attack no longer disables the mouse\n     (http://www.wesnoth.org/forum/viewtopic.php?f=4&t=27616)\n   * Removed some unused Drake macros from animation_utils\n   * Add recruitment anims for the Sky and Hurricane Drakes\n   * Removed the old stats code (Debian bug #555276, CVE-2007-2383,\n     CVE-2008-7720)\n   * undo+redo a multi-turn move now restores the assigned destination\n\nVersion 1.7.7:\n * AI:\n   * Filtering of allowed attackers/defenders in 'attacks' aspect.\n   * Fix a serious enough bug in default ai targeting. The bug caused the AI,\n     in certain situations, to make weird shuffle-doing-nothing moves and not\n     seek enemies or their villages\n   * Optimize AI targeting phase.\n * Language and i18n:\n   * New translations: Shavian\n   * Updated translations: Czech, Dutch, Finnish, Estonian, German, Hungarian,\n     Italian, Lithuanian, Russian, Serbian, Slovak, Spanish.\n   * Fix a broken markup in the Italian translation (bug #14506)\n * Multiplayer:\n   * Updated map: The Manzivan Traps\n * Units:\n   * Removed Elder Wose and Shock Trooper from random_leader of the default era.\n   * Removed Ancient Wose and Iron Mauler from random_leader of the AoH era.\n   * New animation WML and macros for the Drakes\n   * Increased the XP required to advance for the Orcish Assassin from 30 to 34.\n   * Changed the cold resistance of the naga line from -20% to 0%.\n * User interface:\n   * Enabled the new event handler by default now\n   * Allow markup in a campaign description (bug #14435)\n   * Escape no longer closes the new title screen\n   * In recall dialog, use different color and brightness for XP and level\n   * In unit list, display invisibility status and change order of columns\n   * Update the mouse position after closing a dialog, so the dialog below\n     'knows' the proper mouse location\n   * Fix double click events to be send to the wrong window\n   * Fix scrollbars to show up when not needed (bug #13996)\n   * Avoid truncating the last line in campaign description (bug #14328)\n * WML engine:\n   * Added 'side Y turn' and 'side Y turn X' events\n   * Make status \"hidden=yes\" default, no need to do it manually in WML anymore\n * Miscellaneous and bugfixes:\n   * Add-ons download list now takes filtering into account for\n     displaying descriptions\n   * Various code cleanups\n   * Fixed a lot of issues found by cppcheck.\n   * Fixed \"Revert all changes\" feature in the map editor (bug #14266)\n   * Fixed broken illumination overlay in ToD sidebar image\n   * gui2 dialogs are now shown in an exception safe way\n   * Improve cmake po-update so it doesn't add too many dummy updates\n   * po-update2-xx now properly updates all domains\n   * Fixed sometimes incorrect update of unit/savegame view when using filter\n   * Debug-created units now also have traits and name\n   * Fixed broken ambush/invisibility at first turn or at unit creation\n   * Fixed ambushing unit not directly visible when discovered\n   * Fixed time tooltips (bug #13886)\n   * Fixed halo render glitches (bug #14405)\n   * Renamed the cmake foo2 targets to foo\n\nVersion 1.7.6:\n * AI:\n   * Stabilized syntax of [modify_ai] tag\n   * Reorganized AI macro library\n   * Added 'move leader to target' candidate action\n   * Added recall capabilities to default ai.\n   * Added recall formula ai function and ai.recall_list formula ai attribute.\n   * Modified default ai recruitment to recall good units from recall list.\n   * Modified default ai recruitment to consider enemy potential recruits\n     during recruitment.\n   * Added the capability to control leader goal of allied leaders.\n     Enabled this for certain LoW scenarios.\n * Animations\n   * new animations to help drakes to take off and land : pre-movement,\n     post-movement, draw_weapon, sheath_weapon\n * Formula AI:\n   * New 'reduce()' formula function\n * Graphics:\n   * New portraits for Merman Spearman, Bat, Merman Netcaster, Nightgaunt,\n     Spectre, Shadow\n   * Added a couple of missing frames for the Inferno Drake\n   * Show HP/XP bars during leveling animation.\n   * When a unit reach a new level, a floating label indicates it.\n * Language and i18n:\n   * Updated translations: Czech, Dutch, Estonian, Finnish, French, German,\n     Italian, Lithuanian, Russian, Serbian, Spanish.\n   * New translations: Vietnamese\n * Multiplayer:\n   * New map: 4p Ruins of Terra-Dwelve\n * Music and sound effects:\n   * Added new music track, \"Into the Shadows\" by Tyler Johnson\n   * Fixed bug #14239 (check_fogged ignored by sound sources)\n   * Implemented FR #14246 (check_shrouded= for sound sources)\n * Units:\n   * Made units with the 'healthy' trait always rest heal but take normal\n     damage from poison.\n   * Changed the Drake Glider movetype to give 40% defense almost everywhere.\n   * Gave the Fire Dragon 100% fire resistance.\n   * Updated the descriptions for the Drake Fighter, Glider and Burner lines.\n * User interface:\n   * new gamestate inspector debug dialog (via 'inspect' command\n     and '[inspect]' tag)\n   * Rename easy_close to click_dismiss\n   * Automatically try to resolve blocked multi-turn moves\n   * Better visually differentiate name, type and race in sidebar\n   * Add colorized terrain defense info in sidebar\n   * In attack dialog, split damages and chance to hit and color the later.\n   * The Remove and Update add-ons options are disabled when there are no\n     add-ons installed\n   * Add a Description button to the add-ons downloader\n   * For move+attack mouse click, now show the attack dialog before the move.\n   * In sidebar, add current bonus/malus info from alignement.\n   * New option to enable/disable move interruption when an ally is sighted\n * WML engine:\n   * Fix silent=yes for objectives\n   * Allow [story] [part] blocks to specify the title box alignment\n     with title_alignment=\n   * Implemented FR #14246 (visible_in_shroud= for [label])\n   * Modified Lua handling of action handlers and WML objects.\n   * Added a lua_function= attribute to standard unit filters.\n * Miscellaneous and bugfixes:\n   * Fix broken \"Skip Ai moves\" option.\n   * Changed upload log format and defaulted the new uploader.\n   * Fix bug #13268 (corrupted replays due to undo of recall/dismiss)\n   * Weapon name change for Drake Enforcer.\n   * Fixed the unit tests from 'hanging'\n   * Fix bug #14160 (carryover percentage in [endlevel] ignored\n     when victory_when_enemies_defeated=\"yes\")\n   * Various cleanups to the gui2 code\n   * Remove position info from unit list\n   * Avoid an assertion failure if haloes are disabled (bug #14297)\n   * Fixed linked widgets not getting deregistered upon destruction\n   * Fix huge fonts on storyscreens with tiny GUI\n   * Fix cmake po-update not doing line wrapping properly\n   * Fix bug #14241 (mp campaign timer settings not carried over to\n     next scenario)\n   * Started with the a new event handler for gui2\n   * Fix unit facings after moving (bug #14336)\n   * Fix unit facings after undo/redo\n   * Improved the teamcoloring script for images.\n\nVersion 1.7.5:\n * Campaigns:\n   * Legend of Wesmere\n     * Scenario 21 redesigned\n * Graphics:\n   * New base frame and animations for the Drake Blademaster.\n * Language and i18n:\n   * Setup for tracking localized images.\n   * Updated translations: Chinese (Traditional), Lithuanian, Serbian.\n * Units:\n   * Fixed problems with the Drakes introduced in 1.7.4 (wrong resistances and\n     a possible crash when advancing to the Inferno Drake)\n * Miscellaneous and bugfixes:\n   * Optimized the cmake building if both game and tests are enabled\n   * Switched to new stats upload mechanism so that stats.wesnoth.org should\n     soon provide usefull data\n   * Optimize pathfinding on 1MP terrains.\n\nVersion 1.7.4:\n * AI:\n   * Formula AI debugger (uses -new-widgets)\n   * New 'debug()' formula function\n   * Fixed crashes and infinite loops on AI turn\n * Animations\n   * Movement have the number of steps done in value and the number of step left\n     in value_second, this allows take-off and landing animations\n * Campaigns\n   * Legend of Wesmere\n     * Scenario 3 redesigned\n     * Fixed wrong or unclear scenario objectives\n     * Scenario 16: Reduced the number of wolf riders\n * Editor\n   * Better support for conflicting terrain letters across add-ons, now\n     in the event of a conflict the terrain will appear in all terrain\n     groups as opposed to appearing in one of them multiple times.\n   * Added remembering of the show terrain codes and coordinates options\n * Graphics:\n   * New portraits for Ancient Wose, Ruffian, Master-at-arms, Naga\n     Warrior/Myrmidon, Grand Knight, Merman Hunter.\n   * Updates to Peasant, Spearman and Swordsman portraits.\n   * New melee animation for Thunderguard, Dragonguard.\n   * New base frame and animations for Inferno Drake, Fire Drake.\n * Language and i18n:\n   * Updated translations: Chinese (Traditional), German, Lithuanian, Russian,\n     Serbian\n * Music and sound\n   * \"Journey's End\" from Mattias Westlund\n   * \"Over the Northern Mountains\" from Mattias Westlund\n   * Added horn signal sound effects\n * Units\n   * New weapon names for a number of drake attacks to account for changes to\n     the sprites.\n * User interface:\n   * Removed the hotkey to enable/disable mouse scrolling\n   * Added a horizontal listbox\n   * New basic support for specifying waypoints (via a new hotkey 'w')\n * WML Engine:\n   * Support for [show_if] inside [message]\n   * Added ability to change the share_maps team attribute using [modify_side]\n     tag. Be sure to use shroud=yes for that side\n   * [side] team_name is now a comma-separated list of teams the side is on\n   * [modify_side] user_team_name no longer requires that team_name also be\n     modified\n * Miscellaneous and bugfixes:\n   * Removed obsolete code for implicit linked widgets for the listbox\n   * [part] caption= is no longer supported; prepend the CAPTION macro\n     to story text instead\n   * Fixed 100% CPU usage on storyscreens with no text (e.g. map screens)\n   * Fix ODR issues in gui2\n   * Remove the boost 1.33 code in the unit tests\n   * Fix regression about broken undo after a multi-turn (\"goto\") move\n   * Fix regression about pathfinding poorly using the teleport ability\n   * Added extra wiki comment and updated the extractor\n * Animations\n   * Movement have the number of steps done in value and the number of step left in value_second.\n   * new animations pre_movement_anim and post_movement_anim to allow take-off and landing animation\n\nVersion 1.7.3:\n * AI:\n   * New AI configuration syntax\n * Campaigns:\n   * Two Brothers\n     * Replaced campaign specific portraits with mainline portraits\n   * Under the Burning Suns\n     * Fixed bug #13978: UtBS: \"stun\" ability doesn't modify enemy ZoC\n   * Legend of Wesmere\n     * Story only scenarios now display the speaker's name in the title.\n     * Ambient sound effects.\n     * Redone the campaign's objectives.\n     * Added the \"Dwarfish Scout\" to the player's recruit list.\n     * Scenario 19 now requires the player to destroy Saurgrath.\n     * Scenario 14 redesigned.\n     * Scenario 23 implemented Santi's plan to let half the army defect.\n     * Map updates (mostly new alias terrains added).\n     * Replaced the campaign image with a transparent one (Thanks to Kitty).\n * Editor:\n   * Renamed editor2 to editor pretty much everywhere\n * Graphics:\n   * New portrait for the Duelist, Mermaid Enchantress/Siren,\n     Priestess/Diviner, Merman Fighter/Warrior, Fencer, Drake\n     Glider, Merman Hoplite, Goblin Impaler, Rouser, Merman Triton,\n     Cavalier, Direwolf Rider, Paladin, Deathblade, Thug, Bandit,\n     alternate Goblin Rouser, Revenant, Naga Fighter, Troll.\n   * New unit graphics and animations for the Troll Hero, Drake Glider, Sky\n     Drake, Hurricane Drake, Drake Burner, Drake Fighter, Drake Warrior.\n * Language and i18n:\n   * Updated translations: Czech, Dutch, Estonian, French, German, Hungarian,\n     Lithuanian, Polish, Slovak\n   * Updated Drake Clasher, Arbiter and Slasher descriptions.\n * Multiplayer:\n   * Added a /q alias for /query\n   * New lobby interface in gui2, testable work in progress available with\n     --new-widgets. There are known issues with window resizing and low\n     resolution support.\n   * Server-side generation of random numbers for MP (combats)\n   * No MP compatibility with earlier clients and wesnothd\n   * --no-srng command line switch is available to turn off server RNG\n     support (and rquirement) in a client. Only games played with clients\n     pre-srng or with srng disabled as well can work without OOS. This is a\n     testing feature that will likely be removed prior to 1.8.\n   * Room support via /join and /room commands, better support in the\n     experimental new lobby. See http://www.wesnoth.org/wiki/MultiplayerRooms\n     for details.\n * Multiplayer server:\n   * Added server-side RNG support. Old clients can still play as normal.\n   * Added room support to the server.\n * Unit balancing:\n   * Added Dwarvish Stalwart, Elder Wose, Shock Trooper and White Mage to\n     random_leader of the default era.\n   * Added Ancient Wose, Dwarvish Sentinel, Iron Mauler and Mage of Light to\n     random_leader of the AoH era.\n * Unit renames:\n   * Drake Gladiator -> Drake Thrasher\n   * Drake Slasher -> Drake Arbiter\n * WML Engine:\n   * return 0 for length of arrays inside nonexistent containers (bug #13734)\n   * [end_turn] now waits for the event to finish before ending the turn\n   * it is now possible to use Pango markup in storyscreen text\n   * it is now possible to specify a custom title= in [story] [part]s\n   * [story] [part]s' text placement may be changed with text_layout=; it\n     currently supports \"top\", \"middle\" and \"bottom\" (default)\n   * [story] [part]s accept the sound= attribute for a list of sound files\n     from which a single one is chosen and played once\n   * [story] [part]s accept a caption= attribute as a text header\n   * new tags [store_unit_type] and [store_unit_type_ids] were added\n   * allow direct WML unit modification of \"halo\" attribute\n * Miscellaneous and bugfixes:\n   * [music], [sound], [sound_source] and [label] should work again on\n     WML prestart events; this means most music playlists should work again\n     (bug #14039)\n   * 'Recruit' and 'recall' don't appear in context menus unless the\n     leader is on a keep. (bug #13856 and #13855)\n   * No longer \"crash\" upon invalid pango markup\n   * It's now possible to display the area a widget uses, for debug purposes\n   * The widget in a stacked widget now grows properly\n   * Merged code for FDO and KDE desktop notification; only dbus is needed\n   * Added --screenshot parameter to take map screenshots without\n     initializing a GUI.\n   * Added --new-uploader parameter for testing the new experimental log\n     uploader.\n   * Fix gcc 4.4 compilation errors (Debian bug #539546)\n   * Added a work-around a listbox assertion failure in the new MP lobby\n\nVersion 1.7.2:\n * Campaigns:\n   * Son of the Black Eye\n     * changed Orcish Shaman movetype from smallfoot to orcishfoot\n * Graphics:\n    * New portrait for male and female Footpad, male and female Outlaw,\n      Horseman, Drake Clasher, Goblin Wolf Rider, Goblin Pillager, Dwarf\n      Explorer, Dwarf Scout, Cavalryman, Skeleton.\n    * New unit graphics and animations for the Dwarvish Scout, Pathfinder,\n      and Explorer; Drake Clasher, Slasher, Warden, Gladiator, Enforcer.\n * Language and i18n:\n   * Updated translations: Czech, Dutch, Estonian, Finnish, French, German,\n     Italian, Lithuanian, Polish, Russian, Serbian, Slovak\n * Terrains:\n   * New terrain: drake village\n * User interface:\n   * Add an icon to show whether or not the user finished a campaign\n   * Fixed bug #13831: Bug with team labels\n   * Added a new experimental stacked widget widget\n   * Added support for Growl notifications\n   * Added support for desktop notifications using KDE's\n     org.kde.VisualNotifications DBus service\n   * Changed \"Toggle Full Screen\" button to say \"Full Screen\" (bug #13909)\n   * Added cost of units recruited, recalled, killed, and lost, to the\n     statistics window (patch #1190)\n   * Fixed bug #13626: Bug about no option to turn on/off save delete\n     confimation. (patch #1192)\n   * Allow [advanced_preference]s to be of the 'int' type, appearing as a\n     slider\n   * Add better configurable linked widgets in the new gui\n   * Allow to make items in a listbox invisible (needed for filtering)\n   * Initial new loby user interface, available for testing with --new-widgets\n * Miscellaneous and bugfixes:\n   * Fixed language switch not affecting unit descriptions (bug #13827)\n   * Fixed teleporting to impassable terrain (bug #13795)\n   * Fixed an issue where teleporting could leave a unit halo\n   * Fixed [set_variable]'s rand and random when operating on 0..0 (return 0)\n   * Allow items to be removed from a listbox\n   * Fixed objective dialog not recognizing markup (bug #13888)\n   * Fix minimap no clipping in the new wiggets\n   * Added preprocessor macros to the wiki grabber tool\n\nVersion 1.7.1:\n * AI:\n   * Reworked AI code to allow easier creation of AI components.\n   * New AI: Composite AI\n   * (Optional) new AI configuration syntax.\n   * Basic reimplementation of an old C++ AI as a 'candidate action'-based composite AI\n   * Autodiscovery of available AI configurations from data/ai/ais.\n   * (In debug mode) Autodiscovery of available AI configurations from data/ai/dev\n * Campaigns\n   * Delfador's Memoirs: new portrait for Lionel.\n   * The Hammer of Thursagan: new portraits for Angarthing, Ratheln.\n * Graphics\n   * New portrait for Knight, Ghost.\n * Language and i18n:\n   * Updated translations: Chinese (Traditional), Czech, Finnish, French,\n     German, Greek, Hungarian, Icelandic, Lithuanian, Polish, Russian,\n     Serbian, Turkish\n * User interface:\n   * Removed the old obsolete layout algorithm in the new widgets\n   * Added unit tests for the new widgets\n   * Improved the layout algorithm not to show scrollbars when they make the\n     situation worse\n   * Add a new transient message dialog\n   * Add a new multi page widget\n   * Increase the lineheight in the new dialogs\n   * Add a blur precommit function to the canvas\n   * Improved the redraw algoritm and added more asserts\n   * Objectives now use pango markup\n   * Replace the campaign dialog with a new gui one (debian bug #497655)\n   * Removed the hidden option to disable the tips of the day\n   * A click on a slider now properly sets the position\n   * WML generated messages, labels and sounds are skiped during replay (bug #13519)\n   * Added support for desktop notifications (GTK/libnotify only for now, patch #1179)\n   * Added a hotkey to toggle team ellipses (fr #7763)\n * WML Engine:\n   * Made new turn, turn X, side turn and turn refresh events synchronous.\n     (bug #10603)\n   * Petrified units no longer heal. (bug #13513)\n * Miscellaneous and bugfixes:\n   * Add strict compilation to cmake\n   * Let cmake also use the CXXFLAGS and CFLAGS environment variables\n   * Fixed a segmentation fault with storyscreens using [if] (bug #35959)\n   * Properly translate dialog title (bug #13761)\n   * Fixed a problem with easy close that caused buttons to be ignored\n   * Properly translate unit name and mark strings translatable (bug #13751)\n   * Properly redraw logo on the loading screen (bug #13758)\n   * Set window title before setting video mode (bug #13756)\n   * Fixed dates in the load box being untranslated (bug #13782)\n   * Fixed networking code regression that could lead to \"Client disconnected\"\n     errors when creating a MP game\n   * Minimum version for Boost is now 1.35\n\nVersion 1.7.0:\n * AI:\n   * Added command-line option ai_config<number>=<value>\n   * Fixed incorrect handling of poisoning attacks when suggesting best attack\n     in user interface\n   * Added basic history and hot-redeployment capabilities to in-game console.\n   * Changed AI Lifecycle handling. Console AI is now persistent between\n     invocations.\n   * Added AI Arena test map to test AIs in interactive mode ( ai_arena_small )\n   * Changed interaction between default AI and Formula AI - made default AI\n     fallback to formula recruitment if \"recruitment\" config option is set in\n     AI config.\n * Campaigns:\n   * Delfador's Memoirs:\n     * New campaign added to mainline from the Wesnoth-UMC-Dev repository.\n       (Novice level, 24 scenarios)\n   * Eastern Invasion:\n     * Fixed the liches not being revealed properly in 'Weldyn Besieged'\n   * Heir to the Throne:\n     * Made snow fall gradually every turn in 'Northern Winter'.\n     * Enforce a 7-hex starting castle to prevent units from appearing inside\n       a wall in 'The Scepter of Fire' (bug #13377).\n     * Made the number of enemies to defeat depend on the difficulty in\n       'Test of the Clan'.\n   * Under the Burning Suns:\n     * Kaleh advancement:\n       * Gave the Hero variation more HP.\n       * Reduced XP requirements for the Captain variation.\n       * Disabled the sword2 (and thus armor) AMLA for the Captain variation.\n       * Enabled the bolas AMLA for all variations.\n       * Added the camouflage AMLA back.\n * Editor2:\n   * New feature: exporting of selection coordinates to system clipboard\n   * Made auto terrain transition mode tri-state: on (editor2's on), partial\n     (1.4 editor's on / editor2's off) and off (1.4's off).\n   * Made \"wesnoth -e FILE\" work like \"wesnoth -e --load FILE\" (load the map)\n   * Made \"wesnoth -e --load DIR\" (and consequently \"wesnoth -e DIR\") set\n     DIR as the default map directory for the current session, and start with\n     the map load dialog open\n   * Added ability to load maps referenced in scenario files\n   * Added ability to work with maps embedded in scenario files (saving works\n     in a limited scope)\n   * Moved the clipboard actions to a context menu available in paste mode\n   * Added a terrain sampler feature -- ctrl+click when in paint or fill mode\n * FormulaAI:\n   * Fixed bug #13230: added debug_float FormulaAI function to allow debugging\n     via floating popups on the specified hex\n   * Added run_file FormulaAI function to allow running .fai scripts directly\n     from in-game console\n   * Fixed bug #13295: made enemy_units formula return only those units which\n     are not incapacitated (for example, it now ignores petrified units )\n   * Implemented FR #13348: added timeofday_modifier function to formula AI\n   * Added attacks_left attribute to unit callable\n   * New variable: my_attacks with all possible attacks\n   * Added a new type of candidate move : strategic\n   * Added suitable_keep FormulaAI function to allow easier selection of\n     suitable keep for leader\n * Graphics:\n   * New type of animation : \"recruiting\" used by leaders when recruiting\n     units\n   * New portrait for Orc Grunt, Dwarf Fighter (alternative), Goblin Spearman,\n     Ogre/Young Ogre, Trapper, Ranger, Huntsman\n   * Image path functors:\n     * New functor, ~NOP(), which does nothing.\n     * The ~RC() image functor does not accept the special palette switch\n       ~RC(palette1=palette2) syntax anymore. ~PAL(palette1>palette2) should\n       be used instead\n * Language and i18n:\n   * New translations: Icelandic\n   * Updated translations: British English, Catalan, Chinese (Simplified),\n     Chinese (Traditional), Czech, Dutch, German, Finnish, French, Hebrew,\n     Hungarian, Indonesian, Italian, Lithuanian, Norwegian, Polish, Russian,\n     Serbian, Slovak, Swedish, Turkish\n   * Updated CJK character range\n   * Fixed word wrapping in CJK languages (patch #1140 from sylecn)\n   * Remove female^ descriptions of Outlaw, Footpad, Fugitive, Dark Adept\n   * The term 'stoned' has been replaced with 'petrified'; also the\n     related verb.\n * Multiplayer server:\n   * Implemented automatic saving of game replays.\n   * Implemented the adminmsg command to allow players to send messages to\n     currently available admins. (FR #9218)\n   * Fixed bug #7547: Add possibility to unban/unmute in a multiplayer game\n * Savegames\n   * Providing a new simpler interface for dealing with savegames\n * Terrains:\n   * New terrains: orcish fort, orcish village\n * User interface:\n   * Fixed bug #13257: Attack dialog always uses the active name of a weapon\n     special\n   * Fix missing faction column when waiting that the host start the game,\n     plus some other unwanted changes there (bug #13243)\n   * Make delayed shroud updates and scenarion objectives to change and\n     show information for viewing team. (help in bug #13313)\n   * Making the game return to the add-on install dialog just before\n     installing one, and with its entry selected\n   * Implemented FR #13321: added \"unit advances=N\" command to debug console\n     to immediately level-up selected unit N times\n   * Improved the sorting of the XP and traits columns in the unit list dialog\n     (part of bug #13360)\n   * New console command \":discover\" make the help considers that you\n     discovered all the units of the current campaign/era\n   * Debug action \"Change unit side\" allows to change owner of empty village\n     and is now renamed \"Change side\".\n   * Debug actions \"Create unit\" and \"Change side\" used on unit in a village\n     now causes a capture of that village.\n   * Rewrote the layout algoritm (still a work in progress)\n   * Fixed an multi-character UTF-8 handling bug in the password textbox\n   * Changed the tmessage dialog to be able to show four buttons and added\n     an extra helper function to show the dialog.\n   * Add a \"Factions\" section in help. Only show current era's informations.\n * WML Engine:\n   * Added [show_objectives] tag and allowed [show_if] tag in [objective]\n     tags. (bug #13042)\n   * Made moveto events set $x2,$y2 to the source hex. (bug #13140)\n   * Story screen and parts allow using [switch], [if], [wml_message]\n     and [deprecated_message] consistently at [part] and [story] levels.\n     (feature/bugs #13170, #13290)\n   * Added a \"preload\" WML event type.\n   * Added ability to change the share_view team attribute using [modify_side]\n     tag. Be sure to use fog=yes for that side  (bug #13320)\n   * Added support for Lua scripts in WML event actions ([lua] tag)\n   * [modify_side] can now change the share_view attribute\n   * new tag [hide_help] in [units] allows to hide units in help when you can't\n     change these unit types (main use: hide mainline units).\n   * [stone] and [unstone] have been replaced with [petrify] and [unpetrify];\n     the units' \"stoned\" status variable has been renamed to \"petrified\"\n   * Added the 'sub' key to [set_variable] to subtract from the variable.\n   * [era] and [multiplayer_side] now allow a 'description' key, and show it\n     in help pages (but currently empty)\n   * Filter on attacks now uses a 'damage' key, also support range like 1-9.\n   * Attacks with damage=0 are now correctly supported.\n * Miscellaneous and bugfixes:\n   * Added --ignore-fatal-errors option to wmlunits\n   * Added --rng-seed command line option to specify a value to seed the random\n     number generator with\n   * Changes to logging:\n     * New logdomain : uploader to see stat-upload related actions\n     * The --log-domain command-line option now allows for a bit of\n       pattern-matching, e.g., \"--log-info=ai/*\"\n   * Fixed compilation with -D_GLIBCXX_PARALLEL\n   * Fixed handling of floating-point WML constants on localized Windows\n     (impacts \"submerge\" animations and AI settings)\n   * Fixed control transfer after player leaves MP game (bug #13238)\n   * Fixed a bug with auto-stored WML variables not being restored correctly\n   * Fixed missing unit graphics when loading a start-of-scenario savegame.\n   * Improved random village naming\n   * The add-ons directory, <preferences>/data/campaigns, has been renamed\n     and it is now <preferences>/data/add-ons\n   * Enabled hinting for texts displayed by Pango/Cairo (bug #13399)\n   * Enabled non-default fonts for Pango/Cairo (bug #13399)\n   * Made dismissing of recallable units undoable\n   * Sped up pathfinding (and therefore AI)\n   * fps info used in debug mode show info about number of redrawn hexes.\n\nVersion 1.6a:\n * User interface:\n   * Remove a no longer valid assert (bug #13217)\n   * Make sure the dialog always uses the full map area width\n * Multiplayer and AI:\n   * Fixed bug #13222: Do not use the FormulaAI by default since it could lead\n     to the AI doing nothing\n   * Fixed bug #13218: infinite loop in the AI if it persistently tries to move\n     unit to occupied square\n   * Moved FormulaAI related debug output into the info log level\n\nVersion 1.6:\n * Campaigns:\n   * Under the Burning Suns:\n     * All portraits now have a transparent background (bug #13135)\n * Graphics:\n   * New or updated unit graphics for the Mermaid Priestess and Enchantress\n     unit lines\n * Language and i18n:\n   * updated translations: Finnish, French, German, Lithuanian, Polish,\n     Portuguese (Brazil), Russian, Slovak, Spanish\n * User interface:\n   * Grey game titles out when we're missing the era\n   * Fix a dialog size problem returning invalid sizes (bug #13203)\n * WML Engine:\n   * Increase the map size limit to 1000 by 1000\n   * Added an 'always_display' key to [advancement] to make it possible to show\n     the advance dialog even with just one option.\n   * weapon filters now recognize the id= attribute of specials (bug #13193)\n * Miscellaneous and bug fixes:\n   * Fixed bug #13204: NR: Death event doesn't re-spawn Malifor as expected\n   * Fixed bug #13198: Corrupt replay in MP\n   * Fixed bug #13199: Map generation in mp fails when hills and size of hills\n     sliders are at max\n   * Fixed bug #13179: Unit's move have sometimes a jumpy start\n   * Stop resetting the alternate default zoom level after each reload\n\nVersion 1.5.14:\n * Campaigns:\n   * Descent into Darkness:\n     * Increased the experience requirement for the Ancient Lich from 150 to 250\n   * The South Guard:\n     * Made Deoran not dismount in 'Into the Depths' anymore\n   * Under the Burning Suns:\n     * Simplified Kaleh's AMLAs to have consistent requirements and effects.\n * Graphics:\n   * New portrait for the male and female Assassin, Gryphon Rider, Longbowman,\n     Master Bowman, Dwarf Runemaster.\n   * New variations of desert plants\n * Language and i18n:\n   * updated translations: Catalan, Chinese (Simplified), Czech, Dutch, Finnish,\n     German, Hebrew, Hungarian, Lithuanian, Norwegian, Polish, Russian, Slovak\n   * updated DejaVuSans to 2.29\n   * replaced sazanami-gothic.ttf and wqy-zenhei-gb2312.ttf with wqy-zenhei.ttc\n     (version 0.8.38-1)\n * Music and sound effects:\n   * Added the new music track \"Siege of Laurelmor\" by Doug Kaufman\n * User interface:\n   * Fix an assertion failure when an unexpected mouse button was used\n     (bug #13126)\n   * Fixed bug #13161: Inactive weapon special name and description not used\n   * Fixed bug #13123: When you're downloading add-ons they do not appear in\n     the campaigns list until BfW is restarted\n   * The size of the message dialogs now really depends on the size of the map\n   * Started with a new layout engine for the new widgets (bug #13180)\n   * Fix few bugs about selecting an unit during another unit's move\n   * Fix a regression: again allow to use right-click to cancel drag&drop\n * WML Engine:\n   * Increase the map size limit to 1000 by 1000\n * Miscellaneous and bug fixes:\n   * Fix another campaign replay bug (#13139)\n   * Fix AI bug #13165 (leader too aggressive)\n   * Fix WML [advancefrom] bug (#13176)\n   * It is now possible to create units with random genders in debug mode\n   * Reduce the fontconfig dependency to 2.4.1\n\nVersion 1.5.13:\n * Graphics:\n   * New portrait for the Woodsman, Bowman, male Thief\n * Language and i18n:\n   * updated translations: Chinese (Simplified), Czech, French, Finnish,\n     Hungarian, Polish, Russian, Slovak, Turkish\n * Multiplayer:\n   * The engine now send the exact path used by units, preventing visual\n     differences between clients.\n * User interface:\n   * Fixed a crash when trying to use scrollbars in an invisible widget\n   * Fixed the setting of the ellipse_mode in ttext\n   * Improve the showing of ellipses in the textbox (bug #13083)\n   * Fix bad anti-aliasing of in-game MP chat (bug #12938)\n * Miscellaneous and bug fixes:\n   * Fix another savegame cache corruption\n   * Fixed bug #13099: MP lobby player list becomes inaccurate over time\n   * Fix bug #13118: OOS/replay bug when moving near ambushed units\n   * Better fog update after \"slow\" and \"stone\" attacks\n   * Updated Doxyfile to 1.5.6 format\n   * Fix regression about missing sighted event triggered by AI in replay\n   * Renamed some [ai] attributes to use correct English spelling.\n     Support for their misspelled forms will be removed in 1.7.0.\n     * simple_targetting -> simple_targeting\n     * scout_village_targetting -> scout_village_targeting\n\nVersion 1.5.12:\n * Add-on server:\n   * Ignore case on add-on (file)names (bug #13080)\n   * Disallow uploading of add-ons with no title, type, author, version or\n     description specified and warn about invalid versions\n * Graphics:\n   * New portrait for the female Thief\n   * New tiles for summer and fall deciduous and mixed forests\n   * Deciduous and mixed forests now used in several campaigns (not all, yet)\n   * New tiles for dirt\n   * Fixed a lot of small terrain transition glitches\n * Language and i18n:\n   * updated translations: Chinese (Simplified), Czech, French, German, Italian,\n     Polish, Portuguese (Brazil), Spanish, Turkish\n * Multiplayer:\n   * Updated maps: Howling Ghost Badlands, Sullas Ruins, Isar's Cross\n * Music and sound effects:\n   * Fix a regression which caused the endlevel music to be played even when\n     skipping linger mode (e.g. result=continue or continue_no_save).\n * Miscellaneous and bug fixes:\n   * Removed last binaryWML references by making the save_index gzip\n     compressed. (We can still receive binaryWML via the network.)\n * User interface:\n   * Listbox columns have the same width again\n   * Fix false \"click\" sometimes triggered at end of unit move (bug #12712)\n   * Now clear fog/shroud before an attack when doing a move+attack action\n   * Fix broken auto-undo when trying several move+attack with the same unit\n   * Changed the widgets in the in game message dialog\n   * The multiplayer dialog shows tooltips again\n   * The textbox history now uses CTRL+TAB and CTRL+SHIFT+TAB\n   * Properly set the cursor when opening a dialog (bug #12961)\n   * Fixed bug #13029: Problem with mouse-over unit identification in replays\n   * Added experimental campaign selection dialog (Only available when\n     starting with --new-widgets.)\n   * Properly reset the scrollbar mode when resizing (bug #13018)\n   * Fix unwanted double-clicks (caused by 1-pixel drag&drop)\n * WML Engine:\n   * Fix incorrect or doubled \"sighted\" events when delaying shroud update\n   * Fix sometimes missing or doubled \"select\" events.\n   * Fixed bug #13090: Make movement_costs < 1 behave like movement_costs = 1\n * Miscellaneous and bug fixes:\n   * Align all network buffers on 4 bytes\n   * Partial fix for bug #13092: avoid a case of invalid iterator usage\n     in FormulaAI\n   * Fix savegame cache corruption (bug #12815/Debian bug #483782)\n\nVersion 1.5.11:\n * Campaigns:\n   * Descent into Darkness:\n     * Removed the custom python AI used in 'A Haunting in Winter'\n * Campaign server:\n   * Reject add-ons with an empty type.\n   * Give warning note when the add-on version is invalid.\n * Editor2:\n   * Fixed / worked around several filebrowser issues (save/load dialogs)\n     (bugs #13033, #12771, #12625)\n   * Fixed terrain palette issue when the palette was not full (bug #13012)\n * Graphics:\n   * New or updated unit graphics: Merman Fighter line, Merman Hunter line\n   * New idle animations: Heavy Infantryman\n   * New portrait for the Javelineer, Gryphon, Elvish Sylph.\n   * Moved and renamed story screen files:\n     * titlescreen/landscapebattlefield.jpg -> story/landscape-battlefield.jpg\n     * titlescreen/landscapebridge.jpg -> story/landscape-bridge.jpg\n     * titlescreen/landscapecastle.jpg -> story/landscape-castle.jpg\n * Language and i18n:\n   * updated translations: Czech, French, German, Hebrew, Lithuanian, Polish,\n     Russian, Spanish\n   * Fixed a problem that could lead to wrong cache being used, leading to\n     some strings not being shown as translated (bug #12568)\n * Multiplayer:\n   * server:\n     * Create the fifo group accessible (instead of only user accessible).\n * Music and sound effects:\n   * Added a campfire sound file for use with [sound_source] in\n     sounds/ambient/.\n   * The game will no longer restart the music on a scenario change or game\n     load if the currently played track is on the new scenario's playlist\n * User interface:\n   * Fixed the assertion failure which could happen when clicking on a button.\n     (bug #12927)\n   * Allow chat command quoting as '/ /command'.\n   * Fixed a bug which made listboxes the wrong size and caused visual\n     glitches. (bug #12940)\n   * Fixed colors in [message]. (bug #13019)\n   * Made the maximum used width for the message text 650 pixels.\n   * Added UI sounds to the new widgets. (bug #12748)\n   * Fixed a glitch in the text drawing after showing markedup text.\n     (bug #13023)\n   * Fixed bug #13034: \"/me\" messages cut of first character in multiplayer\n     game chat.\n   * Fixed a glitch where the Gryphon wing was drawn over the fog and\n     reachmap\n   * When moving up or down in a listbox with a horizontal scrollbar, the\n     listbox no longer changes the position of the horizontal scrollbar\n   * Added experimental new addon download dialog (Only available when\n     starting with --new-widgets.)\n   * Fix a broken reference to the Myrmidon portrait.\n   * Removed team_name checks for chat display.\n * WML Engine:\n   * Fixed bug #13024: Conditional [allow_undo] not always working right\n   * Map size is now hard-limited to 200 by 200\n   * attribute hidden in [side] allows to hide a side from status table,\n     it also can be changed by [modify_side] (FR #12814)\n   * Removed support for PythonAI to handle CVE-2009-0367\n\nVersion 1.5.10:\n * Campaigns:\n   * The South Guard:\n     * Made 'Into the Depths' a bit easier\n   * Under the Burning Suns:\n     * fixed a major 1.5.7 regression with Kaleh's AMLAs, that made them\n       useless after advancing him to L2 (rel. bug #12911)\n     * fixed dehydration in scenario 2 triggering double-advancement for\n       dehydrated units when leveling up (rel. bug #12911)\n     * fixed some bad logic around the \"Dust Devil dance\" scene in scen.\n       2.\n     * made all human-controlled major characters unrenamable.\n * Graphics:\n   * New or updated unit graphics: Elvish Enchantress, Orcish Slayer,\n     Naga Fighter, Naga Myrmidon\n   * New idle animations: Dwarvish Thunderer, Naga Fighter\n   * New portrait for the Halberdier, dwarf Ulfserker line\n   * Unit HP bar decrease progressively when unit gets hit\n   * Rewrote the rendering engine which should fix the drawing order\n * Language and i18n:\n   * new translations: Marathi\n   * updated translations: British English, Dutch, French, German, Hungarian,\n     Italian, Russian, Slovenian, Spanish, Swedish\n * Multiplayer:\n   * Added support for observers to pause and continue the game at any time\n   * Fixed bug #12896: Map generator does not sync between clients when\n     advancing in MP campaigns\n   * Updated maps: Clash, Cynsaun Battlefield, Den of Onis, Silverhead Crossing,\n     Howling Ghost Badlands, The Wilderlands, Forest of Fear\n   * Removed Necrophage from the Undead Random Leader List.\n * Terrains:\n   * Enabled mixed deciduous-pine forest terrains\n   * Forested hills variations now available for the deciduous forests\n   * New merman village terrain variations\n * User interface:\n   * Fixed an exception when certain characters weren't escaped\n   * Removed the gamma correction option (code is only disabled not removed)\n   * Fixed the assertion failure with long options (bug #12970)\n * WML Engine\n   * [replace_map] changes the map completely, changing the map size is\n     posible - off-map units go into the recall list\n * Miscellaneous and bug fixes:\n   * Fix bug #12946: [menu_item]/[command] losing function when called again\n   * Fix flickering of units in the second part of the tutorial (bug #12923)\n   * Fix high CPU usage in multiplayer lobby due to inefficient handling of\n     friends and ignores lists.\n   * AmigaOS4: Minimum stack cookie to prevent stack overflow (patch #1107)\n   * Additional screenmodes when SDL can't guess them (patch #1108)\n   * Python AI works again. (bug #12955, bug #12913)\n   * Fixed the :query command to work while in a multiplayer game, not only\n     when in chat (as /query)\n   * Fixed invalid memory access with AMLAs (bug #12911)\n   * Closing a message with escape caused the message to skip on the next\n     execution of that event (unless it required input)\n\nVersion 1.5.9:\n * Campaigns:\n   * Descent into Darkness\n     * In 'Endless Night', the enemy's gold now increases faster\n   * The South Guard\n     * Made 'Tides of War' a bit easier\n   * Sceptre of Fire\n     * Fix the player's keep disappearing in 'Gathering Materials'\n     * New graphics for the Dwarvish Miner\n   * Under the Burning Suns:\n     * New base frames for the Desert Sentinel and Prowler\n * Graphics:\n   * Removed the black background from some remaining old portraits\n   * New portrait for Dwarf Thunderer, Dwarf Dragonguard, Human Pikeman, Dwarf\n     Fighter, Dwarf Lord, Dwarf Guard, Mermaid Initiate, Dwarf Sentinel\n   * Image-path functions:\n     * All image path functions except RC() and TC() can now be stacked\n       correctly and the order of precedence is from left to right. This\n       may impact performance slightly.\n     * New function, SCALE(W,H): scale down an image to the specified width\n       (W) and height (H) for rendering. Negative or null (zero) numbers are\n       ignored when scaling in the respective direction\n   * Restructured portraits directory to be based on unit types rather than\n     authors, added an authors file for recording portrait credits\n * Language and i18n:\n   * updated translations: Catalan, Chinese (Traditional), Czech, Dutch,\n     French, German, Hungarian, Italian, Polish, Slovak, Spanish, Valencian\n * Multiplayer:\n   * Made \"fog of war\" and \"random start time\" default to on.\n   * Fixed the Default Era quick leaders not getting the -5% HP reduction\n   * Made leaders with 4 MP receive the quick trait also in Age of Heroes\n * Terrains:\n   * New summer, fall and winter deciduous forest terrains\n * User interface:\n   * Hide the \"Network Player\" option for Local MP Games (bug #12596)\n   * Portraits with an icon are TC'ed again\n   * All [message] based dialogs are now converted to the new dialogs\n * WML Engine:\n   * Prevent duplicate id conflicts when cloning units with WML (bug #12894)\n   * [time_area], in EventWML, can now accept comma-separated lists of area ids\n     for removing, but not for inserting; in the latter case, only the first id\n     is considered to avoid stacking time_areas over a single location by\n     accident\n   * [fire_event] children tags [primary_unit] and [secondary_unit] now\n     take a real Standard Unit Filter instead of a x,y coordinate pair\n     When a filter matching multiple units is used, only the first matching\n     unit will be taken for firing the event. Recall list filters and\n     invalid locations are silently ignored\n   * [set_variable] can now handle both integer and floating point values\n     properly. The functions round, ipart and fpart were added (bug #12546)\n * Miscellaneous and bug fixes:\n   * Fix clients not agreeing on remaining movepoints (bug #12467)\n   * Fix summoning of other players recruit list on turn 1 (bug #12783)\n   * Fix [item] overlays with visible_in_fog=yes magically becoming\n     visible_in_fog=no (the former default for a missing attribute) when loading\n     saved games - because the game was looking for a fogged= attribute\n     instead on loading\n   * Made [item] overlays always default to visible_in_fog=yes if not\n     specified\n   * Made [label] overlays always default to visible_in_fog=yes if not\n     specified\n\nVersion 1.5.8:\n * Campaigns:\n   * An Orcish Incursion\n     * Converted to the new gold carryover system\n   * Eastern Invasion\n     * Fixed victory not triggering correctly in 'The Crossing'\n     * Fixed missing time of day schedules in several scenarios\n     * Fixed various problems in 'Northern Outpost'\n   * The Hammer of Thursagan\n     * Converted to the new gold carryover system.\n   * The Rise of Wesnoth\n     * Renamed \"Lord Dionli\" to \"Lady Dionli\".\n   * Son of the Black Eye\n     * Made scenarios 'Silent Forest' and 'Shan Taum the Smug' harder.\n   * Legend of Wesmere\n     * Fixed the bug with savegames in scenario 3\n * Graphics:\n   * New portraits for Royal Guard, Heavy Infantry, Iron Mauler, Sergeant,\n     Lieutenant, General, Grand Marshal with 1 alternate, Saurian Augur line,\n     Saurian Skirmisher line, Troll Whelp, Death Knight\n   * Fixed drawing glitches in the listboxes\n   * Fixed several glitches with the new portrait dialog\n   * Optimized animation and invalidation of idle/standing units\n   * Removed the black background from most of the old portraits\n * Language and i18n:\n   * Fixed a small bug that was causing the translations engine to look\n     at badly mixed up paths when trying to locate UMC translations,\n     rendering them unusable (bug #12872)\n   * Fixed translation of 'A New Land' not being shown\n   * updated translations: Chinese (Simplified), Czech, Danish, German,\n     Hungarian, Italian, Japanese, Lithuanian, Russian, Slovak, Spanish\n   * updated DejaVuSans to 2.28\n * Multiplayer ui:\n   * Added a gui front-end to various commands, brought up by double clicking\n     a player name, replacing the old whisper dialog\n   * Automatically select the game the selected player is in\n   * Try to preserve the selected player when the player list is updated\n   * Added an option to avoid auto-scroll to enemy units during opponent's\n     turn\n   * Cleared the login dialog mess: Now there is a single dialog to display\n     error messages from the server and to choose a different username and/or\n     password\n   * Added the possibility to provide a password in the main multiplayer dialog\n   * Added an option to save the password to the preferences\n * Networking:\n   * Ensure SDL_net is initialized before attempting to send upload_log\n * Unit changes and balancing:\n   * Updated most units' defense and movement values on coastal reef\n * User interface:\n   * Pressing backspace in a textbox with selection now clears the selection.\n   * Scrollwheel mouses can scroll the new listboxes\n   * New advanced preference to choose whether middle-click scrolls or warps\n   * Fixed a glitch which closed a new dialog on the mouse up event of the old\n     dialog (the effect is percieved as the new dialog not showing up)\n   * Spacebar closes the dialogs without a scrollbar again\n   * Pressing escape in a new dialog, behaves like in the old dialogs again\n   * The new portrait dialogs can get higher so the scrollbars are less often\n     visible\n   * Added a password box that hides its input\n   * The new portrait dialogs can now show the old images as well and also the\n     right hand side images\n * WML engine:\n   * add an \"animate\" key to the [teleport] event\n   * add a resistance_anim block used whenever a unit uses a [resistance]\n     ability on a neghbour\n   * deprecated tag [debug_message]; use [wml_message] instead, which\n     now offers the debug/dbg logger and uses the \"wml\" log domain\n     (i.e. --log-*=wml should be used instead of --log-*=notifs)\n   * The text output created by [wml_message] to stderr is echoed in-game\n     using the chat user interface like [deprecated_message] and other\n     Invalid-WML messages; the level of verbosity is controlled by the log\n     level for the \"wml\" log domain\n   * the animate_unit action can now animate multiple units\n   * the animate_unit action can now change the direction the unit is facing\n     with a SLF\n   * add a [replace_map] map=\"file\" event that can load a map of a different\n     size in a scenario\n   * make [remove_shroud] and [place_shroud] use true Standard Location Filters,\n     not just location lists/ranges (bug #12869).\n * Miscellaneous and bug fixes:\n   * Added the sunset feature to the new dialogs.\n   * Fix the calculate feature in the test scenario.\n   * Fix an endian issue which rendered text wrong on big endian machines\n   * Fix a bug with temporary objects not being removed at next scenario\n   * Fix replays with empty starting positions.\n   * Prevent access to invalidated memory after the first download when\n     updating all installed add-ons (bug #12837)\n   * Adjusts drain game mechanics to match attack prediction (bug #7702)\n\nVersion 1.5.7:\n * Campaigns:\n   * Descent into Darkness\n     * Removed debris from this campaign's copy of the map of the\n       Great Continent, and converted Parthyn's marker (which was black)\n       to a brownish marker.\n   * Eastern Invasion\n     * Converted to the new gold carryover system.\n     * Gave the undead flag to relevant sides.\n     * Fixed Dacyn and Owaec not being loyal.\n     * In 'Mal-Ravanal's Capital', reworked how the prisoner knights work: now\n       they're placed on the map in cages with guards next to them, and the\n       player must kill the guard to release the prisoner.\n     * Removed debris from this campaign's map of the Great Continent,\n       and converted all black markers to brownish markers.\n   * Heir to the Throne\n     * Added an idle animation for L2 Princess.\n     * Fixed the dwarves attacking the player in 'The Lost General'.\n     * In 'Bay of Pearls', the player receives recruitment of all lvl1 mermen\n       units if both enemy leaders are defeated, and only Mermen Fighters if\n       only one of them is.\n     * Fixed not being able to recruit mermen in 'Isle of the Damned'.\n   * Liberty\n     * Converted to the new gold carryover system.\n     * Gave the undead flag to relevant sides.\n   * The Rise of Wesnoth\n     * Changed Familiar's portrait to match his new unit type.\n     * Fixed a good amount of funny inconsistencies with Familiar's\n       unit type.\n     * Fixed broken death events.\n     * Lady Outlaw does not lose her experience on 'Return to Oldwood'.\n     * Restored missing leading animations for Noble Commander and\n       Noble Lord, and gave leading animations to Wesfolk Outcast line.\n   * Sceptre of Fire\n     * In 'Searching for the Runecrafter', the turn limit is now increased when\n       finding Thursagan.\n     * In 'Gathering Materials', all enemy sides now fight each other.\n   * Son of the Black Eye\n     * Cleaned up the forests in the Far North map; removed a lot of debris from\n       said map.\n   * The South Guard\n     * Made 'Into the Depths' a bit easier on the easiest difficulties.\n   * Two Brothers\n     * Converted to the new gold carryover system.\n   * Under the Burning Suns\n     * Converted to the new gold carryover system.\n     * Made Elyssa loyal+quick instead of quick+intelligent.\n     * Gave the Shyde/Star appropriate healing frames.\n     * Added updated Desert Hunter sprites.\n   * Legend of Wesmere\n     * Recoded Olurf in scenario 02\n     * Marked the guards in scenario 05 to be killed.\n     * Many Bug fixes(recruiting, village ownership)\n     * Made Olurf's side persistent.\n     * New 400*400 pixel sized portrait images.\n     * All portraits are now displayed without scaleing.\n     * Updated music playlists.\n     * Flipped the Ka'lian map horizontaly.\n     * Updated overview map to LoW's time.\n     * Redone journey that is displayed on the overview map.\n * Editor2:\n   * The map editor is automatically started if the binary file used\n     to start Wesnoth contains \"editor\" somewhere in its name (useful\n     for symlinks).\n * Graphics:\n   * Gave a nicer ranged attack animation to Troll Rocklobbers.\n   * New attack icons: spiked mace.\n   * New or updated unit graphics: Gryphon Rider, Gryphon Master, Revenant,\n     Naga Warrior.\n   * New portraits for Peasant, Swordsman, Spearman.\n   * New image-path functions:\n     * ~CS(R,G,B): do a simple color-shift by adding the argument values\n       to each color channel.\n     * ~R(v), ~G(v), ~B(v): mangled forms of ~CS() for single channel\n       manipulations.\n     * ~O(percentage%), ~O(factor): change an image's opacity by a\n       percentage value (0%-100%-*%) or a numeric factor (0.0-1.0-*),\n       respectively. Using factors/values greater than 1.0/100% causes\n       pixels with non-zero alpha value to have it increased.\n     * ~BL(radius): blur an image by the given radius.\n   * Added the transparent version of Kitty's portraits.\n   * Rewrote the drawing engine for the new widgets.\n   * Enabled the new dialogs when a new portrait is available.\n   * Properly update animated halos (bug #11965).\n * Language and i18n:\n   * Renamed the --dummylocales parameter to --dummy-locales.\n   * Fixed the po extraction tool to also include the id field.\n   * updated translations: Chinese (Simplified), Czech, Danish, Dutch, Finnish,\n     French, Galician, German, Hungarian, Italian, Lithuanian, Polish, Slovak,\n     Spanish, Turkish\n * Terrain:\n   * New graphic variations for Oasis (Dd^Do) terrain.\n   * Added a new invisible impassable overlay terrain, which can be painted on\n     top of any (non-layered) terrain to make the hex impassable.\n * Unit changes and balancing:\n   * Decreased the range attack of the Drake Flare from 7-4 to 6-4.\n   * Decreased the range attack of the Drake Flamehart from 9-4 to 8-4.\n   * Increased the cost of the Goblin Spearman from 8 to 9.\n   * Decreased the cost of the Sergeant from 20 to 19.\n   * Decreased the HP of the Sergeant from 36 to 32.\n   * Decreased the HP of the Lieutenant from 48 to 40.\n   * Decreased the melee attack of the Lieutenant from 9-3 to 8-3.\n   * Decreased the HP of the General from 58 to 50.\n   * Decreased the HP of the Grand Marshal from 68 to 60.\n * User interface:\n   * Recruit, recall, unit-list and create-unit dialogs display the\n     selected unit/unit-type's race.\n   * Improved appearance of progress bars besides the loading-screen\n     one.\n   * Rewrote the layout algorithm for the new widgets.\n   * Fixed the font loading when the data directory is overridden.\n   * Removed text wrapping around background image in story screens; it is\n     better to always use the whole screen width if possible (fixes the\n     first story screens in Descent into Darkness and Under the Burning Suns).\n   * Tweaked the algorithm that extends the darkened area below long\n     story texts so that it gives a more consistent appearance.\n   * Added a border and blurring to story screens' text blocks.\n   * Improved wrapping in the new widgets.\n   * Improved easy close handling.\n   * Added a horizontal scrollbar widget.\n   * Made the border scrolling threshold a (hidden) preference and made it\n     default to 10 instead of 5 pixels.\n   * Don't display movement costs for units that have \"infinite\" costs on\n     terrains. The recognition margin is 5 MP.\n * WML engine:\n   * Allow inline formulas \"$( ... )\" to be used in general WML\n   * Ignore whitespace at the beginning or end of event names\n   * Added the 'round' key to [set_variable].\n   * New attribute to_variable= in [unit] to spawn directly into a variable\n   * New attributes x,y= in [unstore_unit] to override unit location\n   * It is possible to override the end-of-campaign screen text\n     and its duration using end_text and end_text_duration attributes\n     respectively, in [endlevel] or [campaign] tags. end_text_duration\n     is measured in milliseconds. (feature #10449)\n   * [modify_turns] now works in scenarios without a turn limit. (bug #12715)\n   * Direct modifications to a unit using [unstore_unit] will now be kept\n     when advancing to the next scenario.\n   * If there is a file called _initial.cfg in an included directory, and\n     no _main.cfg, _initial.cfg is guaranteed to be processed before other\n     files in the directory.\n   * [endlevel] has been expanded by the carryover_report=, save= and\n     linger_mode= attribute.\n * Miscellaneous and bug fixes:\n   * Compressed start-of-scenario saves are properly recognized by the\n     load-game dialog again.\n   * Fixed replays for single-player campaigns (bug #12005).\n   * Fixed the restart-replay button causing an assertion failure.\n   * New memory allocator introduced to the engine. It should\n     produce 5-10% savings in memory usage on 64-bit systems.\n     The allocator is disabled by default.\n   * Included extra headers for certain g++ versions (patch #1113).\n   * Fixed random memory corruption/assertion failure/massive leak due\n     to story  screens.\n   * Fixed [role] not working when no type was specified (bug #12660).\n   * Fixed compilation with Python 2.6 (bug #12638 (included a patch)).\n   * Fixed spammy multiplication of advancement options for units\n     affected by the [unit_type][advancefrom] clause (observed in\n     add-on Invasion_from_the_Unknown from the wesnoth-umc-dev\n     trunk) each time advancements were evaluated.\n   * Improved the drawing routine for the ttext class.\n   * Pressing Escape to exit the game from the title screen now requires a\n     discrete keypress (bug #12747)\n   * Properly implement the CFLAGS for autotools.\n\nVersion 1.5.6:\n * Authoring tools:\n   * trackplacer is a pygtk tool that makes it possible to visually edit\n     the journey tracks on Wesnoth campaign maps.\n * Campaigns:\n   * Descent into Darkness\n     * Added a set of story art.\n     * Made Malin's side use the ostensibly obscure undead flags after his\n       banishment\n   * Eastern Invasion\n     * In 'Weldyn Besieged', the positions of the liches are now randomized and\n       their names hidden until you attack them (patch #1109).\n   * Legend of Wesmere\n     * Newly added to mainline: Intermediate level, 24 scenarios.\n       (Imported from wesnoth-umc-dev.)\n   * Son of the Black Eye\n     * In 'Clash of Armies', fixed all the merman spawns not working correctly\n       and limited the number of simultaneous enemy gryphon recruits on the\n       easiest difficulty.\n   * The South Guard\n     * Rewrote 'The Long March'.\n     * Made each turn past turn 6 that passes in 'Pebbles in the Flood' give\n       you some concrete benefit in 'Tides of War'. Also, the Council of Westin\n       now always appears, but the exact turn depends on the length of\n       Gerrick's defense.\n   * Under the Burning Suns\n     * Made use of the undead flag for undead sides\n     * All known bugs (e.g. in Keratur's appearances and related to Kaleh's\n       AMLAs) have been fixed.\n     * Garak now gets into a duel of champions in \"A Stirring In The Night\".\n     * The Quenoth elf graphics have been refreshed; most of their sprites\n       now match the size of other 2.0 sprites and have been team-colored.\n     * Fixed the problem with Nym's defense animation\n   * Only the new gold carryover system is now available in Descent Into\n     Darkness, Heir to the Throne, Scepter of Fire, Son of the Black Eye and\n     The South Guard.\n * Editor2:\n   * Changed the base-terrain key modifier to shift from alt.\n     This fixes an issue with some window managers grabbing the event.\n   * Added basic mask applying feature\n   * Added basic mask creation (\"diff\") feature\n   * New multiple document interface, allows more than one map to be open at the\n     same time. Experimental, can be turned off in the editor settings dialog.\n * Graphics:\n   * New or updated unit frames: Troll Shaman, Naga Fighter.\n   * New animations: Deathblade idle, Orcish Assassin idle, Mage magic missile,\n     Silver Mage magic missile and teleport.\n   * Fixed some parts of alternative flag sets which were not correctly\n     team colored.\n * Help menu:\n   * ability upgrades for max-level advancements are now listed (bug #10337)\n * Language and i18n:\n   * Fixed a problem on OSX where the locales detection didn't\n     work; all languages are now enabled for OSX.\n   * updated translations: Catalan, Czech, Danish, Dutch, Finnish, Galician,\n     German, Hungarian, Italian, Lithuanian, Racv, Slovak, Spanish, Turkish\n   * new translations: Valencian (the previous non-standard translation has\n     been renamed to RACV).\n   * Fixed Wesnoth looking for editor translations in the wrong place\n     (bug #12426)\n   * updated DejaVuSans to 2.27\n * Multiplayer:\n   * New multiplayer map: 4p Underworld.\n   * Revised maps: Caves of the Basilisk, Hornshark Island, Silverhead\n     Crossing, Sullas Ruins, Weldyn Channel, Alirok Marsh, Island of the\n     Horatii, Castle Hopping Isle, King of the Hill, The Wilderlands.\n * Music and sound effects:\n   * Changed sound sources' default fade and full volume ranges to 3 and 14\n     hexes respectively; the former defaults were less than adequate.\n   * Renamed music files:\n     * nr-sad.ogg -> sad.ogg\n     * main_menu.ogg -> transience.ogg\n     * main_menu_new.ogg -> main_menu.ogg\n * Unit changes and balancing:\n   * New units: Dread Bat, Royal Warrior (character)\n   * Gave the Goblin Pillager the same bite attack as the Wolf Rider.\n   * Updated movement and defense values on the reef terrain for many units.\n   * Added the 'fearless' trait to the Heavy Infantryman line.\n * User interface:\n   * Story parts that have show_title=yes and text at the same time have\n     now the text's background drawn.\n   * The new widget library now also supports closing a dialog with a mouse\n     click without a close button.\n   * The new widget library now has rudimentary support for wrapping long\n     texts.\n   * Added experimental support to show the new style dialogs when units\n     talk in game. (Only available when starting with --new-widgets.)\n   * Increased/fixed responsiveness of color cursors on \"The End\" screen\n     when color cursors are enabled.\n * WML engine:\n   * Added \"border\" parameter to [terrain_mask] that overlays on the border\n     in addition to the playable map area. The used mask must have the same\n     border_size as the map (i.e. currently 1), else this will be ignored.\n   * Restore x1, y1, x2, and y2 after events fired from events.\n   * WML variable expansion can be used inside story [part] tags\n     (feature request #10398).\n   * When fire_event=yes, [kill] now also fires the 'last breath' event.\n   * SingleUnitFilters can now check for empty keys such as role=$null\n * Miscellaneous and bug fixes:\n   * Fixed addon update version logic (patch #1110).\n   * Fixed a flaw which caused sound sources to be forgotten after saving\n     and loading a game (bug #11495).\n   * Fixed crashes on move_unit_fake with unit types which cannot move\n     over terrains that are part of the path.\n   * Generic units get unique non-underlying ids again (bug #12558).\n   * Fixed a bug where \"name=\" attribute was not recognized in SUF\n\nVersion 1.5.5:\n * Campaigns:\n   * A new experimental gold carryover system is now supported in Heir to the\n     Throne, Sceptre of Fire and Descent into Darkness: the choice appears in\n     the difficulty level menu when starting the campaign.\n   * Son of the Black Eye:\n     * New portraits for Al'Brock, Flar'Tar and Howgarth.\n   * Two Brothers:\n     * Rewrite to include story screens by Stefan\n     * Improved scenario texts and dialogs\n * Editor2:\n   * Added editor-specific settings dialog\n   * Lighting setting similar to that of old editor, with presets from a\n     (hardcoded) list of time_of_days. Can change the settings and see the\n     effects without having to close the settings dialog. The preferences\n     are shared with the old editor (FR #11408 / Debian bug #458305).\n   * Auto update transitions option is stored in the preferences\n   * Removed map flipping\n   * Added clipboard flipping\n   * Command line: added \"--load FILE\" support to \"-e\" (FR #12299)\n * Graphics:\n   * New or updated unit frames: Walking Corpse swimmer, Soulless swimmer\n * Music and sound effects:\n   * New music track \"Heroes Rite\" by Doug Kaufman.\n   * New music track \"The Deep Path\" by Gianmarco Leone.\n * Language and i18n:\n   * Fixed a problem under Windows where the locales detection didn't\n     work; all languages are now enabled for Windows.\n   * Made it possible to translate ability names according to the\n     unit's gender (feature #11982). Not yet activated for unit type.\n   * updated translations: Czech, Finnish, French, Galician, German, Hungarian,\n     Lithuanian, Polish, Slovak, Turkish, Valencian\n * Map editor and terrains:\n   * Removed wesnoth-editor. Use editor2.\n   * Added a new \"Snow Mountains\" terrain (graphics still incomplete).\n * Multiplayer:\n   * Revised maps: Fallenstar Lake, 2p Hamlets, Hornshark Island, The Freelands,\n     Castle Hopping Isle.\n   * In default era, all leaders with 4 MP now receive the quick trait.\n * Units:\n   * Balancing changes:\n     * Made units with the healthy trait take a quarter less damage from\n       poison instead of half.\n     * Increased the 'smallfly' movement cost over fungus from 1 to 2.\n     * Changed the race of the Wolf Rider line from goblin to wolf.\n     * Added the traits weak, slow and dim and made the goblin race use them.\n     * Made the goblin race get 1 random trait instead of 2.\n     * Increased the movement of the Goblin Spearman line from 4 to 5.\n     * Increased the melee attack of the Goblin Spearman from 4-3 to 6-3.\n     * Increased the melee attack of the Goblin Impaler from 7-3 to 8-3.\n     * Increased the melee attack of the Goblin Rouser from 6-3 to 7-3.\n * User interface:\n   * Various minor cleanups and refactoring of the new widgets.\n   * Added a new scroll label widget.\n   * Allowed usage of wildcards (? and *) in friend and ignore lists.\n   * Allowed usage of lists in /friend, /ignore and /remove commands. (feature\n     #7492)\n   * Added a new image widget.\n   * Added a feature to draw hex coordinates and/or terrain code on every hex.\n     Available in-game via :sc and :tc commands, and in editor2's menu.\n   * Move the attack indicator on it's own layer and show at a higher layer so\n     its view won't be obscured by the terrain (bug #12401).\n   * Basic support for keyboard controls in main menu (arrow keys + enter)\n     (fr #3835)\n * WML engine:\n   * New command, [store_time_of_day], makes it possible to store ToD info\n     in a WML array/container.\n   * Changed underlying_id in unit to be unique number\n   * New command, [end_turn], ends the current side's turn.\n   * Add scale_background key to [story] (bug #10738)\n * AI\n   * Made it possible to use formula AI for recruiting when using default ai\n   * Changed defaults for AI parameters: village_value, villages_per_scout,\n     protect_leader, protect_leader_radius, leader_value\n   * Added new ai paramater number_of_possible_recruits_to_force_recruit which\n     tells AI when it must move leader back to keep.\n   * Improved leader movement and protection.\n   * Improved village grabbing and protection.\n   * Made 'caution' to control how dangerous place AI tries to attack\n * Miscellaneous and bug fixes:\n   * The config dir can now be changed when defining APPDATA_USERDATA at\n     compile-time to default to a dir under %APPDATA% on windows.\n     When specifying --config-dir on the command line %APPDATA% is used even\n     without that define.\n   * Fixed the list of the unit's attacks getting cut off in the right panel\n     (bug #12297).\n   * Fixed wesnoth not to try to add duplicate ids to unit_map\n   * Fixed a bug where the old unit type's abilities and attacks weren't\n     completely cleared during level-up\n   * Improved performance of 'recall' user action when disallow_recall\n     is set to true in scenarios.\n   * Various code cleanups\n   * Removed the requirement for files in ~campaigns to have a corresponding\n     directory.\n\nVersion 1.5.4:\n * Editor2:\n   * Rotate clipboard 60 deg. cw/ccw, ctrl+r/ctrl+shift+r respectively\n     (cmd instead of ctrl on Mac). Active in the \"paste\" mode.\n   * A drag operation only creates one undo action instead of many.\n   * Partial undo feature to keep the old behavior of drag undo available\n   * More visible selection - draw a special overlay on every selected hex.\n   * Allow different map generators to be used in map -> generate map\n     (FR #3950)\n   * Reverse the preprocessor logic in src/ to default to building editor2,\n     with a DISABLE_EDITOR2 define to build without it.\n * Graphics:\n   * New portraits: Silver Mage (male), Mage of Light (male).\n   * fixed the parts of the undead flags which were not TC'd\n * Language and i18n:\n   * updated translations: Chinese (Traditional), Czech, French, Galician,\n     German, Hungarian, Italian, Lithuanian, Polish\n * Music and sound effects:\n   * Added a new music track \"The Dangerous Symphony\" by Gianmarco Leone.\n * Units:\n   * Balancing changes:\n     * Made units with the healthy trait take half the damage from poison.\n     * Decreased the ranged attack of the Bowman from 7-3 to 6-3.\n     * Added the marksman special to the ranged attack of the Orcish Assassin\n       line.\n     * Decreased the melee attack of the Orcish Assassin from 8-1 to 7-1.\n     * Decreased the melee attack of the Orcish Slayer from 10-2 to 9-2.\n     * Increased the cost of the Walking Corpse from 7 to 8.\n     * Increased the cost of the Soulless from 11 to 13.\n * User interface:\n   * Made the \"slowed\", \"poisoned\" and \"stone\" floating label translatable\n     according to the affected unit's gender. (bug/feature #11957\n   * Parts of the new widget libary are deemed stable enough for testing and\n     have been started to replace the old code.\n * WML engine:\n   * fix bug #11988: Events with multiple types are multiplied\n   * added a new image-path function: CROP(x,y,w,h) - it extracts a slice\n     of a graphic with the requested dimensions. (feature #12067)\n   * allow variable substitution in event names\n   * allow spaces or underscores to be used interchangeably in event names\n   * In event attack filters ([filter_attack] and [filter_second_attack]),\n     weapon= attribute has been deprecated in favour of AnimationWML-like\n     attack filtering, which allows to filter damage type, range and weapon\n     specials. Backwards compatibility with weapon= will be removed in 1.5.5.\n     * As a consequence, [fire_event] has had [primary_unit] weapon= and\n       [secondary_unit] weapon= deprecated too; use [primary_attack] and\n       [secondary_attack] blocks instead.\n   * In events triggered by unit fighting ('attack' et al), the weapon info\n     is automatically stored in the 'weapon' and 'second_weapon' WML\n     variables; this works just like 'unit' and 'second_unit'.\n   * fix various minor bugs with attack filtering\n   * Fixed linewrapping with not to wrap markups (bug #11946 and bug #11945)\n   * fix bug where max_experience of stored units was not the true max when\n     playing with under 100% exp. settings\n   * Added support for labels and items that are hiden by fog (patch #1101)\n   * Made it possible to use another color palette as second parameter in\n     RC(A=B) image path function by using '=' instead of '>' as parameter\n     separator; this allows simple color replacement that RC(A>B) did not\n     allow.\n   * prevent some negative/nonsense values in direct WML unit modifications\n   * Renamed the advanceto key in [unit_type] to advances_to in order to be\n     consistent with its own and [unit]'s internals.\n   * implemented FR #11817: Allow [item]s to be visible only to specified teams\n     (patch #1100 by Broodkiller)\n * Networking\n   * removed null termination character from end of packet send by wesnoth\n * Miscellaneous and bug fixes:\n   * Applied changes suggested by bug #11676 to wesnoth-optipng.\n   * Changed side_drop handling not to automaticaly assign AI for side if\n     leader is dead (bug #12186)\n   * Changed the behavior of [modify_turns] value= to default to -1\n     (no turn limit) instead of 50 if an invalid string is passed instead\n     of a number.\n   * Fixed [modify_turns] causing weird behavior when used in prestart\n     or start events to change current turn.\n   * Made config cache code available to eveverywhere in wesnoth\n   * Fixed [modify_turns] giving the unwanted side-effect of changing\n     turn limit when only current= modifier was used.\n   * Fixed OOS bug when giving control and having move in undo stack.\n   * Fixed [modify_turns] not updating $turn_number when current= was\n     used.\n   * Fixed crash when ai moves units next to level 0 hiden unit (bug #12252)\n   * Fixed loading ai parameters. MP side defination now overwrites\n     era values (bug #12171)\n   * Fixed MP saves to transfer correct completion state to remote clients\n     when loadin game (bug #10385)\n   * Fixed can move enemy units (causing OOS) (bug #11205)\n   * Fixed a few inconsistencies related to scenarios which are not at\n     turn 1 at the beginning (namely start autosave detection and initial\n     triggering of a matching \"turn *\" event).\n   * Removed the compiler work arounds for MSVC6.\n   * Added some more compiler workarounds for MSVC9.\n   * Removed the --small-gui build option, starting Wesnoth with the\n     --smallgui parameter achieves the same\n   * new --nomusic commandline option to disable music for the session\n\nVersion 1.5.3:\n * Campaigns\n   * Descent into Darkness\n     * Changed how the beginning of the scenario 'Descent into Darkness' works.\n     * Changed how the ice breakage works in 'Beginning of the Revenge'.\n     * Many minor fixes and tweaks to various scenarios.\n     * New graphics for Apprentice Necromancer and Dark Mage.\n     * New indoor maps for 'A Small Favor' parts 2 and 3.\n   * Sceptre of Fire\n     * Fixed a bug that allowed one to finish 'The Dragon' by defeating both\n       enemy leaders.\n     * Fixed a coordinate bug that caused 'Hills of the Shorbear Clan' to not\n       end when it was supposed to.\n   * Son of the Black Eye\n     * Fixed the shamans not getting removed from the recall list when they\n       should.\n     * New portraits for Inarix, Jetto and the old orcish shaman.\n     * Reworked the scenarios 'Civil War' and 'Coward'.\n * Editor2\n   * Future replacement for wesnoth_editor, launched from title menu or via\n     wesnoth -e. Most old editor's features are duplicated, with some\n     improvements.\n   * Built by default in scons, cmake and autotools, if building manually\n     see RELEASE_NOTES.\n   * See http://www.wesnoth.org/wiki/Editor2 for details and known issues.\n * Language and i18n:\n   * updated fonts: DejaVuSans 2.26\n   * updated translations: Chinese (Traditional), Danish, Finnish, Galician,\n     German, Italian, Latvian, Lithuanian, Polish, Russian, Slovak, Spanish\n * Multiplayer:\n   * Removed the \"Great War\" MP era\n   * Revised maps: Caves of the Basilisk, Den of Onis, Fallenstar Lake,\n     Silverhead Crossing, Sullas Ruins, The Freelands, Alirok Marsh, Island of\n     the Horatii, 3p Morituri, Blue Water Province, 4p Hamlets, Lagoon,\n     4p Morituri, The Wilderlands, Waterloo Sunset\n * Music and sound effects:\n   * Engine automatically plays special music on defeat or victory; default\n     lists from which an option is randomly chosen at runtime are provided as\n     the default_victory_music and default_defeat_music attributes in\n     [game_config] node; this may be overriden per-scenario using the\n     victory_music and/or defeat_music attributes on its code - it can also\n     be overriden in a [endlevel] block by providing a music= attribute with\n     the desired list (feature request #11203).\n * Python AI:\n   * Added ai_init.py and ai_launcher.py to make it easier to customize\n     AI environment and startup. Both are used by the new embedded python\n     implementation.\n   * reversed builtin is now allowed. This allows for random.shuffle to be\n     called.\n * Terrains:\n   * Added a new attribute, hidden=<boolean> (default: no), to [terrain],\n     which prevents the map editor from offering the user a particular\n     tile type for drawing.\n   * Made user-made content graphic rules be parsed before core ones, so\n     custom tiles look the same in-game as they do in the editor.\n   * Set hidden=yes on main terrain archetypes (Gt, Qt, At, Xt).\n * User interface:\n   * Added an experimental add-ons update interface.\n   * Added initial drag&drop support for button widgets\n   * Fixed a broken translation which gave all females the prefix female^ on\n     alignment description when using the \"C\" locale or any translation that\n     is missing that string.\n   * Make the load and recruit hotkey use the ctrl instead of cmd key on non\n     Mac systems\n * Campaign server:\n   * Made campaign server encode CRs in old content in first startup\n * WML engine:\n   * Fixed the filtering for x,y=recall,recall in [store_unit] and [kill] tags\n   * Fixed the bug where any changes to the primary unit in the \"advance\"\n     event were totally ignored\n   * Added some convenience macros for units: {TRANSFORM_UNIT}, etc.\n   * Extended [modify_turns] to allow scenario designers to change the\n     current-turn number dynamically with current=<number>.\n   * It is now possible to use [time_area] to add or remove new local ToD\n     areas and their schedules during scenario events. Removal requires to\n     associate an id. to [time_area]s, or it won't work. Uses Standard\n     Location Filter to match locations.\n * Miscellaneous and bug fixes:\n   * Add some gcc-4.3.0 compilation fixes (patch #1083)\n   * Added a MSVC 9 project file and some fixes for that compiler (patch #1093)\n   * Add-on uploads by default will skip all dot-files (.*), which are hidden\n     files or directories in UNIX filesystems.\n   * Downloaded add-ons' meta information is stored in <add-on dir>/_info.cfg\n     rather than <add-on dir>/info.cfg now; both the in-game client and the\n     wesnoth_addon_manager Python script have been updated for this.\n   * Fixed bug #12094: Event \"last breath\" cannot be triggered for attackers\n   * Fixed [filter_attack] and [filter_second_attack] not being effective\n     in die/last_breath events.\n   * Fixed FULL_HEAL WML macro not working properly.\n   * Fixed NR Krash inexplicably disappears from recall list (bug: #11612)\n   * Fixed segmentation fault when wml modified and killed attacker and\n     defender in a battle\n   * Fixed Wesnoth crashing after an attacker/defender_hits/misses event if\n     the WML kills one unit and replaces/unstores the other\n\nVersion 1.5.2:\n * campaigns:\n   * Son of the Black Eye\n     * new set of portrait art\n     * in 'Black Flag', there's now several galleons transporting enemies to the\n       beach, and no watch towers\n     * in 'Saving Inarix', you can now more precisely control when you destroy\n       the bridge\n     * many assorted small tweaks to most scenarios\n     * when leading the Great Horde, all units now require 1 less upkeep\n   * Tutorial\n     * Fixed players side name to same as leaders name (bug: #10114)\n * formula AI:\n   * added variant_iterator to iterate over variant elements\n   * modified choose, filter, find and map functions to use variant_iterator,\n     so they work correctly with a variant_map type\n   * new formula AI functions: contains_string, find_shroud, movement_cost,\n     tolist, tomap, is_unowned_village, max_possible_damage_with_retaliation\n   * added possibility to fallback to human player\n   * new ai object members: side, my_recruits, recruits_of_side, time_of_day,\n     units_of_side, villages_of_side\n   * moved most of formula AI releated code from ai.cpp to formula_ai.cpp\n   * new unit_type_callable and attack_type_callable classes\n   * new unit_callable members: undead, attacks, abilities, traits\n   * various fixes and improvements to formula functions\n   * added new formula test scenario\n * language and i18n:\n   * new translation: Latvian\n   * updated translations: Arabic, Catalan, Chinese (Traditional), Czech,\n     Finnish, French, German, Greek, Italian, Lithuanian, Russian, Serbian,\n     Slovak\n   * languages in the language selection are now sorted on name instead of\n     code.\n   * unit alignment can be displayed in its gender-specific form in languages\n     which require/support it (bug #11956)\n * multiplayer:\n   * Added support for multiple sides per client in MP start.\n   * Added support for reserving slots when reloading game.\n   * Fixed timer end warning not to play in opponents turn. (bug: #11517)\n   * Teams are now translated locally for all clients. (bug: #3676)\n   * Fix an old pathfinding bug causing an inconsistency between the path used\n     and the one showed to others players. It was only a visual error, but\n     sometimes caused to see a enemy pass through your invisible units (or in\n     their ZoC). Now all players see the same real path. Also valid for replay.\n   * When joining a game, display your assigned starting position and the new\n     team coloring also shows your assigned color.\n * units:\n   * balancing changes:\n     * increased the ranged attack of the Bowman from 6-3 to 7-3\n     * decreased the melee attack of the Bowman from 6-2 to 4-2\n     * decreased the cost of the Bowman from 15 to 14\n     * increased the cold resistance of the Fencer line from 0% to 10%\n     * decreased the 'orcishfoot' movement cost over frozen from 3 to 2\n * user interface:\n   * Rewrote the textbox history saving of the new widget library. This rewrite\n     is incompatible with the old version, but since the library is still in\n     development, no compatibility layer has been added.\n   * Added gui to choose where server binary is\n   * Added type-a-head search to file chooser dialog\n   * Add a column for traits in the recall dialog.\n   * Add a filter textbox in the recall dialog.\n   * When filtering units, clear the unit preview when none matches.\n   * Delete/dismiss the last item of a dialog stop closing it\n   * Tooltip texts now support blank lines and special markup characters\n   * Add-on publish/delete options have now special icons and colors.\n   * Display the name of the add-on in the \"Add-on installed\" dialog\n   * The unknown unit icon used in status table is now team colored\n   * In multiplayer lobby, all unit's images are now team colored.\n   * In help, with debug mode, broken hyperlinks are now visible in red and\n     when clicked open a error message showing the bad topic reference.\n   * new debug command \":choose_level\" or \":cl\" to directly go to a scenario.\n   * new debug command feature, \":next_level Some_Id\" to directly go to\n     scenario having id=Some_Id.\n   * 'Create Unit' dialog pre-select the last created unit type\n   * Fix incorrect downloaded add-on when using filter\n   * Fix missing last publish/delete add-on option\n   * Fix few broken hyperlinks in help (and some were working in english only)\n   * Fix a regression about not working 'unit description' with hide_help=yes\n * Python AI:\n   * get_variable now allows a default value to be passed to the call. If the\n     key is not found, the default value is returned. This is fully backward\n     compatible.\n   * set_variable exception handling has been fixed to return an exception in\n     the current call frame.\n   * Many wesnoth module functions now release the python GIL when it is both\n     safe to do so and the function call takes long enough where it also\n     makes sense. More changes coming.\n   * A new global boolean variable, 'restricted' is now set before the user AI\n     script is invoked. This variable indicates if it is running inside of\n     a restricted python environment or not.\n   * A new class of unrestricted scripts are now listed. Previously only\n     scripts which have #!WPY at the top are allowed. If only allow safe python\n     scripts is disabled, scripts which start with #!UNSAFE_WPY are also shown\n     to users. This allows AI authors to specifically target either a\n     restricted or unrestricted environment.\n   * New \"system\" class attributes are exposed in the restricted environment.\n     These include; '__call__', '__copy__', '__deepcopy__', '__name__',\n     '__repr__' and '__str__', in addition to the old __init__ method.\n   * ValueError can now be caught.\n   * Added a new AI, bruteforce_unsafe.py, which uses both function caching\n     (memoize pattern) and psyco to speed execution. It uses the new UNSAFE_WPY\n     tag and is not selectable unless \"Only Run Safe Python AIs\" is disabled.\n     This version of bruteforce runs 1x-14x FASTER than the stock python AI;\n     *heavily* dependent on the map and number of units involved.\n   * Per the python API documentation, many functions now return boolean values\n     rather than ints. Minor modernization effort to use new C-API macros\n     provided via python 2.4+. This change is fully backward compatible for\n     scripts which properly treat the return value as a boolean.\n   * Initial wail directory checkin. It's only a teaser at this point. ;)\n   * bruteforce_wail.py has been added - showing how easy it is to move a\n     well written bot from the wesnoth module to the wail module.\n * WML engine:\n   * When examining stored units, now the attacks, max_hitpoints, max_moves,\n     and max_experience are the \"real\" values and can also be modified.\n   * new attribute count= for [have_unit] and [have_location] conditionals\n   * new mode \"insert\" for [set_variables]\n   * max_attacks in [unit] now also works for values bigger than 1\n   * the \"zoc\" key works for [unit_type] too, and for [unit] accepts other\n     boolean values than 1 and 0 (bug #11889).\n   * new effect apply_to=type to transform the unit to a different type\n   * remove redundant unit.value (use unit.cost instead)\n   * preserve unit.role in next scenario (bugs #3697, #4124, and #11329)\n   * fix various problems with [set_variables] (bugs #11980 and #11981)\n   * Add a new key \"image\" in [faction], used as icon in faction selection.\n     The old hack consisting to add the image's url in the faction's name is\n     still supported but doesn't have the new team coloring.\n * miscellaneous and bug fixes:\n   * Fixed droiding not to make wesnoth think player is observer (bug: #9675)\n   * Fixed statitics not add turn data from previus scenarios (bug: #11719)\n   * Fixed manager to initialize before gamestate in playcontroller (bug: 11935)\n   * Removed persistance from team configuration (bug: #10916)\n   * Fixed text parser again strip cr from configs. Added CR and 254 to be\n     escaped in campaign upload. All UMC has to be reuploaded to server\n   * Made automaticaly generated macro reference easier to naviagate and link to\n     (patch: #1076)\n   * Allow [unit_type] num_traits=0 to override race's num_traits.\n   * Small optimization of scrolling and things out of their hexes.\n   * Added a command-line parameters \"--smallgui\" to allow lower resolutions.\n   * Missing images are now replaced by a \"men-at-work\" sign (in debug-mode)\n   * Better pathfinding: now always prefer straight path and is also more\n     stable between little mouse's moves.\n   * Added the pango cairo dependency\n   * Various code cleanups\n\nVersion 1.5.1:\n * campaigns:\n   * Descent into Darkness:\n     * fixed a crash in 'Return to Parthyn'\n   * Eastern Invasion:\n     * fixed a crash in 'Xenophobia'\n   * Heir to the Throne:\n     * allowed Kalenz to take the flaming sword\n   * The Rise of Wesnoth:\n     * fixed the Wesfolk Outcast line's distract ability not working\n     * increased the gold you get from not letting Lady Outlaw join you in the\n       second scenario\n     * removed the outlaw princess and outlaw queen and instead made Jessica\n       only have one unit line\n   * Son of the Black Eye:\n     * fixed a crash in 'Dwarvish Stand'\n   * An Orcish Incursion\n     * new storyline and dialogues to scenario 1\n     * new storyline and dialogues to scenario 2\n     * made the AI do mixed recruits in scenario 2\n     * new storyline and dialogues to scenario 3\n     * added a form of gold bonus to scenario 3\n     * new storyline to scenario 4\n   * Under the Burning Suns\n     * fixed event spawning elves in outer villages\n * game engine:\n   * poison no longer prevents resting\n * graphics:\n   * new portraits: Red Mages, Dark Adepts, White Mages\n   * new ford graphics from Syntax_Error\n   * added a sea serpent portrait by Pic\n   * various improvements to the new widget library\n * language and i18n:\n   * new translations: Arabic, Friulian, Macedonian\n   * updated translations: Chinese, Czech, Danish, Dutch, Estonian, Finnish,\n     French, German, Hungarian, Italian, Japanese, Polish, Russian, Serbian,\n     Slovak, Spanish, Turkish\n   * langcode change: moved gl_ES to gl\n   * the new widget library supports disabling of rows in a listbox, this is\n     used to deactivate not available languages. This feature is experimental\n     and only available when started with --new-widgets (bug #11212)\n   * fonts: DejaVuSans 2.25\n   * manual: updated screenshots to match UI rearrangements\n * multiplayer:\n   * revised maps: Den of Onis, Sablestone Delta, The Freelands\n   * raised default per-Turn MP timer bonus to 60 seconds\n * Python AI:\n   * Implemented a function which detects if a location is on the map border.\n   * Implemented a function which gives the game's gold parameters.\n   * Extended safe.py environment to expand AI's language capabilities; including:\n     collections, functools, Queue, sets, time, and the upcoming wail module.\n     Use of chr, hash, lambda, ord, and super (new style classes) are now allowed\n     Control of safe_exec can now be toggled from the wesnoth binary.\n   * Added new advanced option, \"Only Run Safe Python AIs\". When disabled, the safe_exec\n     environment is disabled for all running AIs. Use caution when disabling this option!\n   * Try/Except clauses are now allowed. A subset of builtin exceptions are available.\n     ArithmeticError, AssertionError, AttributeError, BaseException,\n     StopIteration, IndexError, KeyError, NameError, RuntimeError,\n     RuntimeWarning, and ZeroDivisionError\n   * Exceptions can now be raised by user code.\n * terrains:\n   * Fixed city village not being alias of the village terrain type; this was\n     causing a duplicate \"Village\" terrain being displayed in the defense ratios\n     section of unit descriptions in game help\n   * Reorganisation of the terrain macros including more consistent image\n     naming. The old macros are kept for now for compatibility.\n   * New terrain: cave path\n   * Fixed a ToD coloring bug preventing to use red channel below 8 (on 255)\n   * Fixed some bugs with location-specific terrain-graphic rules\n * units:\n   * balancing changes:\n     * changed the healthy trait to give 1HP and 1HP per level instead of 2HP\n     * decreased the ranged attack of the Mage of Light from 15-3 to 12-3\n     * decreased the melee attack of the Merman Warrior from 8-4 to 10-3\n * user interface:\n   * Add a hotkey \"Custom Command\" and a command \"custom <command>\" to assign\n     a command to this hotkey. Also accept sequence of commands (\"this; that\").\n   * Add a command \"alias <name>[=<command>]\". To set or show shorter alias to\n     a command. Also accept incomplete command and pass parameters (ex: \"alias\n     hp=unit hitpoints\", then use \"hp 100\"). Saved between sessions.\n   * Add a filter text box for the \"Create Unit\" dialog\n   * Various improvements of filter text box, now words separated by space give\n     a filter doing an \"and\" combination of them.\n   * Added \"Host Network Game\" option back to multiplayer menu\n   * Fixed chatlog not to so lobby joins if set in preferences\n   * Also highlight the fog under the mouse (not just the terrain)\n   * debug command \"unit\" now uses equal sign again (\"unit hitpoints=100\")\n   * Add-ons download dialog:\n     * The class of each add-on is displayed in the downloads dialog\n     * It is possible to filter what add-ons are displayed by text (matching\n       against any of the information fields)\n   * Advanced prefences allows user to toggle allowing potentially unsafe python AIs\n * WML engine:\n   * titlescreen is now randomly loaded\n   * removeitem now can take an image key so that overlays can be removed one at\n     a time. (patch #1067)\n   * fix [teleport] capturing villages with the wrong side (bug #11683)\n   * SideWML recruit= no longer locks the faction except if explicitely wanted\n     with the new key faction_from_recruit=yes\n   * add \"default_base\" parameter to overlay terrains, which specifies the\n     base terrain the editor draws by default.\n   * New [heal_unit] action.\n   * Make it possible to change base and overlay separately in [terrain] and\n    [terrain_mask] actions.\n   * rename the \"hides\" status as \"hidden\"\n   * add a new image path function : GS to greyscale the image\n   * [store_map_dimensions] also stores map border size now.\n   * renamed old [attacks] special to [swarm]\n   * created [attacks] special with expected behaviour and usage similar to\n     [damage] special\n   * add a warning about future end of support for implicit prefix \"units/\" in\n     images url.\n   * add a switch (delayed_variable_substitution, defaults to 'yes') allowing to\n     choose wether variables in [event] spawned inside an [event] are substituted at\n     spawn or execution time. Fixes bug #11843 introduced by a change in this behavior.\n * wesnothd\n   * added selective ping support - saves server bandwidth\n   * updated pings to use new simple_wml\n   * pings now sent using raw method to they only get compressed once for batch\n   * added expiration time to bans\n   * added restart command to server that does graceful restart\n   * added option to do graceful shut down for server\n * campaignd\n   * made campaign server use gzip compression for networking\n   * detect client connection mode and use same for sending data\n   * made campaign server use gzip for storing addons\n   * added configuration option to choose gzip compression level\n   * made it possible to store content authors' e-mail addresses\n     for administrative purposes\n   * authors can specify the type of their content ('type'\n     field in .pbl files)\n * miscellaneous and bug fixes:\n   * Client now sends 'selective_ping=\"1\"' during login\n   * fixed parser bug that prevented loading binary data strings\n   * fixed issues with campaign info in non-compressed saved games\n     (bug #11386)\n   * Implemented the option to use the mouse selection clipboard in X11\n     the new widget library also uses it.\n   * fixed multiplayer_connect to handle leave_game command from server\n   * improved reloading of game configs after installing or removing addons\n   * fixed threading bug in upload_logs\n   * dissallow_observers is on as default if side has controller=null\n   * Fixed null-pointer reference in network code\n   * Made networking code check system buffer size and limit send length\n   * Made wesnoth start wesnothd for lan games\n   * Implemented send_file to reduce memory usage when sending files\n   * Implemented send_file using sendfile() system call\n   * Fixed tokenizer not to strip CR from quoted string because it would\n     destroy images transfered over network\n   * Added possibility to use per fight EV statistics proposed by maboul\n   * Added smoother FPS limit to server\n   * Fixed a memory leak in networking code\n   * Removed bug introduced in 1.5.0 that allowed use of :debug commands during\n     network play\n   * added some includes to fix compilation problems with Sun Studio 12\n     (patch #1066)\n   * Fixed unstoned units not having their attacks at their first turn\n   * Prevent steadfast ability from lowering resistance if already over 50%\n   * <user data dir>/data/campaigns and <user data dir>/data/units\n     directories are npw created on first run\n   * added command line parameter --config-path, which prints the path to the\n     config directory and exits\n   * fix a bug with variable substitution time of [event]-within-[event]\n   * fix a crash with [ai] in [modify_side]\n   * prevent infinite recursion when [kill] fire_event=yes is used to kill\n     primary_unit on its own 'die' event (Gna! bug #11207 / Debian bug #448193\n   * Optimize titlescreen and credits rendering.\n   * Give its name to the \"Fog clearer\" (fixing blank in \"Create Unit\" dialog)\n   * fix bug with filter + delete savegame (Gna! bug #11779)\n   * Optimize cache validation and first display initialization.\n   * corrected setlocale() usage on win32\n   * Fixed [binary_path] declarations not being recognized inside the MULTIPLAYER\n     #ifdef for eras\n   * Silence the warning \"error display: could not open image ''\"\n   * Optimize fullscreen toggle and windows resizing.\n   * Fix various rendering bugs in 8bpp display mode.\n   * fix bug #11630 (preventing redo and rename during opponent's turn).\n   * fix a regression about missing default portrait in dialogs.\n   * fix false move-cursor around enemies after some dialog events.\n   * fix some unit decapitation when placed on a keep\n   * wesnoth_addon_client now uses gzip compression and can receive (untested)\n     zlib compressed data. Tons of various additional changes required to\n     make this work. Tons of additional core wml parsing bugs have been\n     fixed by various others and my self. -oracle\n     Ran pylint against code - some results applied to code.\n   * made the image cache LRU, with a high limit of 600 images per cache\n\nVersion 1.5.0:\n * campaigns:\n   * synchronize all campaign ids with their directory name\n   * greatly updated the scenario music playlists in The Rise of Wesnoth,\n     Descent into Darkness and The South Guard\n   * The Hammer of Thursagan:\n     * instead of leadership, the dwarvish loremaster unit line now has a\n       similar but unique inspire ability\n   * Under the Burning Suns:\n     * Minor cosmetic fixes\n   * Northern Rebirth:\n     * Major WML cleanup and optimisation\n     * New respawn mechanism for white mages\n   * Liberty:\n     * Fix graphic artifact bug #11438\n * Formula AI:\n   * added support for Formula AI language, more info available at:\n     http://www.wesnoth.org/wiki/FormulaAI\n * graphics:\n   * Fixed broken TC on transport-galleon and drake walking corpse graphics\n   * New portraits: Elvish Sorceress\n   * added a light shadow on the bar of the loading screen\n   * new dungeon wall terrain\n   * new city-themed village variation\n   * new progressive parameter for animations: submerge\n   * new progressive parameter for animations: x and y\n   * image_diagonal now also works with normal [frame]\n   * sub-frames now obey terrain height\n   * selecting a poisoned unit now does the selection anim properly\n   * convert the render engine to a z-ordered based engine, this allows to\n     have multiple layers and the calculation and rendering are separated\n     which means things can be drawn in front of units.\n   * removed the now unused tilestack based drawing.\n   * added a new experimental gui engine available when starting with\n     --new-widgets. The engine doesn't do much yet.\n * map editor:\n   * Fixed not working \"Update transition\" and made \"Delay transition update\"\n     directly trigger an update when toggled off.\n   * add-ons can now make their custom terrains available in the editor\n   * Draw base terrain under an overlay when ALT is pressed\n   * Implemented adjustable lighting levels (time of day)\n     (debian bug #458305 / gna bug #11408)\n * game engine:\n   * Implemented lazy loading for unit_types\n * language and i18n:\n   * new translation: Croatian\n   * updated translations: Chinese, Chinese (Traditional), Czech, Danish,\n     Dutch, Finnish, French, Galician, German, Greek, Hungarian, Italian,\n     Lithuanian, Japanese, Polish, Russian, Serbian, Slovak, Spanish, Swedish,\n     Turkish, Valencian\n   * updated fonts: DejaVuSans 2.24\n * multiplayer:\n   * added maps: Howling Ghost Badlands\n   * revised maps: Sablestone Delta, Sullas Ruins,\n     Silverhead Crossing, The Freelands, The Manzivan Traps\n   * removed maps: Amohsad Caldera\n   * removed the Wesbowl scenario\n   * added the \"A New Land\" scenario by Bob_the_Mighty\n * units:\n   * balancing changes:\n     * decreased the cost of the Giant Scorpion from 32 to 22\n     * increased the HP of the Drake Flare from 54 to 55\n * user interface:\n   * placement of the counters and displays of the top panel optimized\n   * Refactored the in-game console and added help function (patch #1036)\n   * Refactored chat /commands and added help.  Made :commands a superset\n     of chat /commands\n   * optional cancelling of unit orders in load-game dialog (patch #1024)\n   * fixed sub-optimal multi-turn pathfinding which avoided ZoC too much\n   * smarter pathfinding: if same MP cost, prefer terrains with better defense\n     and empty hexes (less frequent multi-turn moves blocked by a friend)\n   * New full map screenshot feature (no default hotkey).\n   * Screenshots show a pop-up with the url and size of the file created.\n   * When trying to define an already used hotkey, now tell where it's used.\n   * Load-game dialog displays a campaign's translated name rather than its\n     internal id now\n   * the hardcoded resolution list now also includes tiny gui and small gui\n     resolutions if compiled with those switches\n   * more comprehensive terrain type naming to avoid confusing displays such\n     as 'Road (Grassland)' or 'Impassable mountain (Cavewall)'\n     This also applies to the WML keys used in the stats:\n     - grassland becomes flat\n     - tundra becomes frozen\n     - canyon becomes unwalkable\n     - cavewall becomes impassable\n   * Added new commandline options (patch #1031)\n     -s or --server [host] connect to host specified or to the first server\n     in preferences\n     -c or --campaign skip menu and show campaign selection menu\n     --with-replay replays the file loaded with --load option.\n * WML engine:\n   * new tag [insert_tag] to place dynamic WML content\n   * Extended most C++ checks for boolean WML attributes to use\n     utils::string_bool() rather than true/false or yes/no string comparisons;\n     as a result, they should accept true non-zero values, \"on\", \"yes\" or \"true\"\n     strings; and \"0\", \"off\", \"no\" or \"false\" are considered false values.\n   * A variable string's length can now be obtained with [set_variable]\n     string_length=\n   * Implemented [variable] boolean_not_equals= for simmetry with [variable]\n     boolean_equals=\n   * Implemented [store_map_dimensions], which saves the map size in a variable\n     with values 'height' and 'width'\n   * [modify_side] can set AI parameters now, using the [ai] syntax implemented\n     for [side] declarations (patch #984)\n   * allow 100% defense instead of cutting off at 99%, if out of range set to\n     100% instead of 50 (debian bug #467253)\n   * The UnitWML [unit] tag is changed to [unit_type].  [unit] will still\n     be accepted for backwards compatibility until 1.5.3.  wmllint can safely\n     do this up-conversion.\n   * In SingleUnitWML and SideWML, the description= attribute is now id=.\n     description= will still be accepted for backwards compatibility.\n     wmllint can safely do this up-conversion.\n   * In SingleUnitWML and SideWML, the user_description= attribute is now\n     name=. user_description= will still be accepted for backwards\n     compatibility.  wmllint can safely do this up-conversion.\n   * In SingleUnitWML and SideWML, the generate_description= attribute is\n     now generate_name=. generate_description= will still be accepted for\n     backwards compatibility. wmllint can safely do this up-conversion.\n   * In UnitWML, the unit_description= attribute is now description=.\n     unit_description= will still be accepted for backwards\n     compatibility.  wmllint can safely do this up-conversion.\n   * In ThemeWML, the unit_description= attribute is now unit_name=.\n     unit_description= will still be accepted for backwards compatibility.\n     wmllint can safely do this up-conversion.\n   * In AnimationWML, the [unit_filter] tag is now [filter], the\n     [secondary_unit_filter] tag is now [filter_second], and the\n     [attack_filter] tag is now [filter_attack], and the\n     [secondary_attack_filter] tag is now [filter_second_attack]\n   * In EventWML, the [special_filter] tag is now [filter_attack] and the\n     [special_filter_second] tag is now [filter_second_attack]\n   * In the Standard Unit Filter, the [wml_filter] tag is now [filter_wml]\n   * it's now possible to specify with loop= how many times a sample\n     associated with a sound source should be played\n   * locations stored in variable now include ownership information for villages\n   * new [switch] conditional command\n   * new [fire_event] event tag to fire any custom event\n   * new [unit_side] theme element: this is the side of the current unit (flag)\n   * Preprocessor now logs when it encounters an undefined macro, and when it\n     fails opening a file.\n   * Implemented prerecall/recall. Now prerecruit/recruit will no more trigger\n     on recall events\n   * Add support for overlay terrains (terrains which can be placed above any\n     base terrain)\n   * Add multiple types for events\n   * Allow [clear_variable] to clear multiple variables (separated by comma)\n   * Fixed bug #11286 \"Sighted events not firing when turning off delay shroud\n     updates\". Which also means that user may fire sighted events in a new way.\n * miscellaneous and bug fixes:\n   * Changed logging to have less overhead when it is turned off (patch #1038)\n   * Fixed error message for broken add-ons (bug #11078)\n   * INSTALL now describes the scons build.  autotools, while still present,\n     is deprecated.\n   * Removed spurious -R linker switch from command line generated by the Boost\n     M4 macros\n   * wmlxgettext now prints some context information about the strings\n     extracted (patch #993)\n   * Fixed network_worker to spawn at least one thread (bug #11238)\n   * added VICTORY_AND_DEFEAT_MUSIC macro - not wiring it in in trunk\n     content, in the hope that we get engine support for this soon, but it's\n     here to use in the meantime\n   * remove an ancient wml update program which has been obsoleted by wmllint\n   * added the boost regex dependency\n   * added the sdl-ttf dependency\n   * added the zlib dependency\n   * default gender selection now works correctly for units with\n     only a female variant.  Fixes bug #11197.\n   * Fixed a border case of unit portrait advancement on which generic portraits\n     would be treated as character-specific (affected female Elvish Archer line;\n     it also theoretically affected units with [variation]s using different\n     portraits)\n   * allow configure to be started from directories other as the top dir\n     (patch #1002)\n   * added -Werror -Wno-unused -Wno-sign-compare to the default compiler\n     flags, can be disabled with --disable-strict-compilation.\n   * learn the underlying terrain so you'll not have a blank line in the unit\n     stats if you encounter a terrain aliased to an unencountered terrain\n   * fixed an alignement issue which caused a SIGBUS on a Sparc (debian bug\n     #426318)\n   * wesnoth-pngcrush is now superseded by wesnoth-optipng\n   * clean up gcc 4.3 warnings so the game now builds on fedora rawhide\n     with warnings treated as errors. A few bugs were found in the\n     process as well.\n   * \"fog\" and \"shroud\" debug commands now also update the minimap, and\n     \"shroud\" stop shrouding your units.\n   * Fixed shroud not directly cleared in minimap after a move+attack action.\n\nVersion 1.4:\n * language and i18n:\n   * new translation: traditional Chinese\n   * updated translations: Catalan, Chinese, Czech, Danish, Dutch, Esperanto,\n     Finnish, French, German, Hungarian, Japanese, Lithuanian, Polish, Russian,\n     Slovak, Spanish, Turkish, Valencian\n * graphics:\n   * more elvish portraits\n * multiplayer:\n   * revised maps: Cynsaun Battlefield\n   * messages will no longer default to the private channel when observing\n     or joining a new game\n   * fixed an invalid vector access, which could happen since linger mode\n     didn't reset the player_numer_ (bug #11094)\n   * random maps can no longer crash if two teams have the same starting\n     position (that happened if 2 teams didn't get a starting position.)\n     bug #11166.\n   * when the number of players for a random map can't be placed the engine\n     tries maximal ten times before giving up.\n * sound:\n   * added new music track, \"Knalgan Theme\" by Ryan Reilly.\n   * added new music track, \"The King is Dead\" by Mattias Westlund.\n   * updated music track, \"Traveling Minstrels\" by Mattias Westlund.\n   * changed the default story screen music from loyalists.ogg to revelation.ogg\n   * added new music track, \"Nunc Dimittis\" by Jeremy Nicoll.\n   * added new music track, \"The City Falls\" by Doug Kaufman.\n * WML engine:\n   * fixed a bug where addons with recusive INCLUDES could no longer be loaded\n     (bug #11160)\n * miscellaneous and bug fixes:\n   * units with a death sound but no death animation now play their death\n     sound correctly\n   * selection animations are not directional when standing animations are\n     disabled (bug #11151)\n   * Fixed parser problems with \\r\\r in files\n   * cleanups and a compiler fix based on patch #911\n   * the detection of the savegame version was done after parsing the savegame\n     this could lead to crashes when loading 1.2 savegames (debian bug 467088)\n   * fix a bug where the random map generator could place a keep on the border\n     (bug #11150)\n   * Fixed UI sounds toggle crash on Windows\n   * when a new unit is spawned when the attacker dies and the new unit has\n     a lower number of weapons then the weapon number used in the attack an\n     wml_exception was thrown (bug #10926).\n   * truncate names in the load dialog utf8 aware, might be related to\n     bug #11186\n   * fix bug #11187 play_once=yes and fix musical cross-fading\n\nVersion 1.3.19:\n * map editor:\n   * activate border transitions in the editor using more translucent images\n     than used ingame\n * language and i18n:\n   * updated translations: Chinese, Czech, Danish, Filipino, French, Hungarian,\n     Italian, Lithuanian, Polish, Turkish\n * miscellaneous and bug fixes:\n   * Fixed chat log viewing crash after undo\n   * Fixed era events loading\n   * Idle, standing and selection animations are not accelerated anymore\n   * All animations are disabled when the LOW_MEM compile switch is activated\n   * correct FIREBALL_MISSILE not being synchronized properly. All UMC users\n     need to check units using that macro\n   * correct most missiles not being properly (bug #11134)\n   * fix some female units using male frames during missile attacks\n * replays:\n   * fixed \"play side turn\" not working (bug #11118)\n   * at least partly fix \"replays always corrupt\" (bug #10976)\n\nVersion 1.3.18:\n * campaigns:\n   * Northern Rebirth:\n     * fix Sister Theta not appearing after freeing her (bug #11083)\n * language and i18n:\n   * updated translations: German, Italian\n * campaign server:\n   * Strip CRs from uploaded data\n * miscellaneous and bug fixes:\n   * Made unit checksum only test for important variables\n\nVersion 1.3.17:\n * campaign server:\n   * added more logging\n   * remembers the last maintainer upload IP\n * campaigns:\n   * Liberty\n     * Made the guards in Hide and Seek behave more intelligently.\n   * The South Guard\n     * Completely redesigned the internal workings of 6b The Long March.\n * graphics:\n   * more elvish portraits\n * language and i18n:\n   * updated translations: Catalan, Chinese, Danish, Esperanto, French, German,\n     Italian, Japanese, Slovak, Spanish, Valencian\n * multiplayer:\n   * revised maps: Caves of the Basilisk, Sablestone Delta, Silverhead Crossing\n * tutorial:\n   * fixed the recall refunding/re-doing in scenario 2 (bug #10993)\n   * scripting of the AI moves now check for units in target hex (prevents bug\n     #6745)\n   * fixed some problems with the grunt (Dumbo) dialogue\n   * decorated map with new terrains\n * user interface:\n   * tinygui:\n     * fixed fontsize for the clock\n     * removed $RACE entry when using tinygui\n     * fixed replay theme in tinygui to display correctly\n     * get closer to the normal theme when tinygui is active and the\n       resolution bigger than 400x300\n   * reduce minimap in resolutions <1000x620 to allow displaying all attacks\n     from units with many attacks (eg the sylph)\n   * add support for 800x480 when using the configure option\n     --enable-small-gui, not everything displays correctly (preferences,\n     mp-creation/lobby, ...), but normal gameplay should work perfectly\n   * improved editor theme so that it works in 800x600, too\n   * increase space for terrains in the mapeditor by rearanging items a little\n   * quick replays no longer scroll to leaders\n   * scrolling to the leader the very first time happens instantly now\n   * Various tunings about the transparency of hp/xp bars (avoid confusion like\n     in bug #11030) and keep them highlighted for the selected unit too.\n * WML engine:\n   * unstoring a leader for a side without a leader sets the leader for\n     that side (bug #11048)\n * miscellaneous and bug fixes:\n   * replays of midgame saves get the right recall list now (bug #10868)\n   * Fixed controller problems when reloading MP game (bug #11046 and bit more)\n   * Made scrollarea to stay in bottom if it is resized (bug #6974)\n   * Fixed reference to invalid iterator in unit_cycle (bug #7991)\n   * Fixed side_drop server message handling to correctly restart turn\n   * Fixed network code crash after failed socket operation\n   * Fixed random start ToD (bug #11056)\n   * Fixed an assert crash when a fake_unit_move starts outside of the screen\n   * Fixed temporary disappearing of hp/xp bars of victorious unit (bug #11055)\n   * Fixed flickering hp/xp bars of ghost and other invisible units.\n   * Placement of random terrain images is more random.\n   * Optimization of damage floating labels\n   * Fixed update of the minimap and starting positions when using the \"delay\n     transitions update\" option.\n   * chasm and lava bridges are now proper aliases of cave and chasm\n\nVersion 1.3.16:\n * campaigns:\n   * Two Brothers: set the leader of scenario one to passive to make it not\n     too easy to win\n * language and i18n:\n   * updated translations: Chinese, Czech, Dutch, Filipino, Finnish, German,\n     Greek, Hungarian, Italian, Lithuanian, Polish, Slovak, Spanish, Turkish\n   * replaced the font used for the chiense translation (gkai00mp.ttf) with a\n     subset of WQY (just the gb2312 part is included) as requested by the\n     chinese maintainer\n * map editor:\n   * the editor handles errors with the old unsupported map format more\n     graceful (bug #11023)\n * multiplayer:\n   * revised maps: The Freelands\n   * don't display 'Remote scenario' for reloaded games in the multiplayer\n     lobby which is wrong in most cases (fixes bug #10882), the display\n     of 'Reloaded game' is disabled for now because of the string freeze\n   * Fixed MP saves loadind to choose correct human side (bug #10894)\n   * display reloaded games in yellow instead of green in the game list\n     as they are also a kind of already running games\n   * Made era not required while loading save game\n   * Removed bogus client commands about takeing side\n   * Fixed control change when giving own team (bug #6639)\n   * when loading a savegame don't offer to take the non-player sides (bug\n     #10746)\n * units:\n   * balancing changes:\n     * decreased the village defense of Bats from 60% to 40%\n     * decreased the forest defense of the Ranger from 70% to 60%\n     * decreased the forest movement cost of the Ranger from 2 to 1\n     * decreased the shallow water, mountain, swamp and snow movement cost of\n       the Ranger from 3 to 2\n * user interface:\n   * During dialogs the speaker is shown in the sidebar and highlighted.\n   * During ai moves the source hex is no longer highlighted.\n   * show unit standing animations and idle animations are now separate options\n   * Removed broken \"Host network game\" option from multiplayer menu (bug #10800)\n   * Fixed network game creation return back to create dialog after failed\n     savegame loading\n   * Fixed a small glitch with fog and shroud in the corners (bug #10831)\n   * share_view now looks at whether your allies have shared their view,\n     before whether or not you saw the view of your allies was determined by\n     your own view was shared (bug #10994)\n   * slight tuning of hp/xp bar: not anymore hidden under leader crown and the\n     HP bar's scaling is changed (now the cap is ~80hp instead of 70)\n   * new red footprints images for move cost > 3\n * WML engine:\n   * fixed an off by one error in [scroll_to]\n   * unified the two different max_loop counters and used highest maximum\n     (65536).\n   * Fixed abilities filtering to test [filter] allways\n * terrains:\n   * added stone bridge terrain over lava and chasms.\n * miscellaneous and bug fixes:\n   * Fixed networking not to timeout with slow connections but timeout faster\n     with lost connection (partialy fix bug #10967)\n   * Fixed client side ping timeout check if downloading or uploading\n   * Moved destruction of conditional object before the mutex. This should\n     fix random crash in network disconnect.\n   * Fixed reference to invalid pointer in attack::attack\n   * pressing shift affects acceleration immediately\n   * More gcc 4.3 fixed\n   * Remember cleared hotkey\n   * Added some toys&whisles to unit tests\n   * Added networking unit tests\n   * Optimized MP chat log building\n   * Optimized tokenizer to speed up loading config files\n   * Hide race sections having only units with \"hide_help=true\"\n   * Fixed ai handling of unit without attacking weapons (bug #10886)\n   * Optimize roads placing of random map\n   * when a unit miss an animation, the engine will base the replacement on\n     the standing animation instead of the standing frame\n   * enabled caching images for lowmem unconditionally since it seems to save\n     memory (bug #11022)\n   * disable stricker terrain validation, since a rogue scenario may avoid\n     somebody to create any game (bug #11024)\n\nVersion 1.3.15:\n * language and i18n:\n   * updated translations: Catalan, Chinese, Czech, Danish, Dutch, French,\n     German, Hungarian, Italian, Lithuanian, Polish, Spanish, Turkish\n   * updated DejaVuSans to 2.23\n * graphics:\n   * new elvish portraits by Kitty\n * multiplayer:\n   * revised maps: Cynsaun Battlefield\n   * fixed bug #10777: Cannot cancel a multiplayer password prompt\n   * fixed bug #10779: Rejoining game causes major problems\n   * Fixed :control command to work\n   * Fixed control change not to set wrong team if we are playing now\n   * damage statistics for the current turn also works for observers now\n   * MP loads now era_id from save file (bug #10878)\n   * skip replay no longer skips the story for players only for observers\n     (bug #9538)\n   * observers without the addon installed can watch the second scenario of\n     a MP campaign again (bug #10794)\n * user interface:\n   * Made ESC clear hotkey when changing hotkeys\n   * Made quick replay skip messages\n   * linger mode overlay is also drawn over fog and shroud (bug #10811)\n   * Units are deselected before they move.\n   * The next move can be prepared before the current attack/move\n     animation finishes (bug #7132).\n   * If a move is interrupted, footsteps are drawn again.\n   * Tuned some details of the mouse handling.\n   * Fixed [message] not to close if it has input (bug #10846)\n   * fixed chat color when message is added by turn_info (bug #6846)\n   * added a more graceful handling of maps without a header (bug #10787)\n * WML engine:\n   * Fixed order of sighted and moveto events (bug #9560)\n   * now allow the use of $unit inside [show_if] and [location_filter]\n     in the [set_menu_item] tag\n   * fixed weapon_specials filter_opponent to work in attack selection (bug #8333)\n   * fixed crash in battle events if unit was killed or teleported (bug #10801)\n   * fixed era events not to be added if we are loading save game (bug #10772)\n   * some filtering was added to the [animate_unit] action to actually make it\n     useful\n * miscellaneous and bug fixes:\n   * Fixed turn timer and end_turn commands order (bug #10849)\n   * Fixed boost test compile with 1.34.1\n   * Made unit to hideable by others units (bug #10877)\n   * Make wesnoth work properly again if the datadir contains ../\n   * Fixed some type of addon not being uninstallable (bug #10788)\n   * fixed adjacent units to update if unit affects them\n   * converted NO_MAP_DATA to new map format\n   * fixed unchecked vector access\n   * make sure the python campaign client list shows a space between the\n     headers if the size of the column is smaller than the header (eg uploads)\n   * make sure a unit with more hitpoints than its maximum doesn't terminate\n     the game with an assertion error (bug #10876)\n   * various bug fixes and code cleanups\n   * added some extra headers for the upcoming gcc 4.3 (debian bug #462708)\n   * image scaling on tinygui was broken, this has been fixed\n   * wescamp script allows the same values for true as utils::string_bool()\n\nVersion 1.3.14:\n * campaigns:\n   * The Hammer of Thursagan:\n     * 'Invaders' if there weren't enough free tiles to spawn all indigs the\n       game would enter an infinite loop (bug #10621)\n   * Two Brothers:\n     * updated the music playlists in all scenarios to include the new music\n   * Under the Burning Suns:\n     * Completely new scenario 3\n     * Few bugfixes to scenario 6\n * graphics:\n   * overlays are properly drawn at the top row (eg forrest) (bug #10238)\n   * mountains no longer have a hill as base\n   * when a leader dies the villages, which are no longer are owned, are\n     properly redrawn (bug #9136)\n   * sometimes the first hitpoints left percentage and the unscatched had a\n     difference of 0.1%, this has been fixed (bug #9122)\n * language and i18n:\n   * updated translations: Chinese, Danish, Dutch, Finnish, French, German,\n     Italian, Lithuanian, Slovak, Spanish\n   * added gkai00mp.ttf font (needed for the Chinese translation)\n * multiplayer:\n   * revised maps: Den of Onis, Weldyn Channel\n   * renaming a unit no longer generates an OOS error (bug #7864)\n   * if in a MP campaign the endlevel was continue(_no_save) it could happen\n     that the client left before the host uploaded the new scenarion, this\n     has been fixed\n   * when joining a MP game the recall list wasn't loaded which leads to\n     OOS errors in campaigns (bug #10624)\n   * :droid can now use the additional parameters on & off to enable/disable\n     the AI status of a side instead of toggle it (FR #9676)\n   * fixed the MP campaign gold carry over (bug #10677)\n   * MP campaign start of scenario saves can be loaded again (bug #10058)\n   * if a MP side has no colour defined fall back to the default side colour\n * sound:\n   * timer bell in MP starts when there are 20 seconds left and fades in\n     gradually for 10 seconds (fr #10559)\n   * fixed timer bell not always playing (bug #10559)\n   * it was possible to add the same track to the playlist twice which\n     could lead to an infinite loop (bug #10112)\n * units:\n   * balancing changes:\n     * increased the XP requirement of the Vampire Bat from 14 to 22\n     * decreased the HP of the Vampire Bat from 17 to 16\n * user interface:\n   * the apple key works as shortcut modifier again (bug #10586)\n   * made \"Show lobby joins of friends only\" the default preference\n   * new menu option added to save replays manually\n   * show damage statistics for the current turn in the statistics window\n   * opening the action menu in linger mode no longer crashes the game\n     (bug #10438)\n * WML engine:\n   * new tag [text_input] for [message] (patch #921)\n   * new tag [filter_vision] for Standard Unit Filter\n   * it is now possible to play [sound] repeatedly using a \"repeat\" attribute\n   * Added boolean variable disallow_observers= to side defination\n   * Random factions can be defined on a subset of the non-random faction\n    (FR #10600)\n * miscellaneous and bug fixes:\n   * set the default resistance to 100 (no resistance) instead of 0 (immune)\n     (bug #10661)\n   * when loading a unit some traits didn't get applied correctly but got\n     fixed in a later state. This could lead to some units not leveling\n     properly (bug #10304)\n   * validate vector access for colours (bug #10622)\n   * Fixed OOS on unit advancement if wml had battle/die events (bug #10590)\n   * added serveral fixes to compile with Sun Studio compiler (patch #911)\n   * bumped autoconf version requirement to 2.60 since it's needed for the\n     boost tests (bug #10636)\n   * fixed a problem where two [recall]s in a SP game could get an out of sync\n     recruitment\n   * avoid triggering an assertion when a duplicated side definition exists\n     (bug #7252)\n   * Fixed OOS if [message] menus cause advancement of a unit\n   * the previous \"max-saves\" slider is now used as a slider to determin the\n     maximum number of auto-saves to keep, default value is 10, so the 11th\n     oldest and all older auto-saves will be deleted\n   * the MP server now always sends gzipped data\n   * Rewrote the AI village assigning algorithm, instead of using brute force\n     it now tries to optimize before resorting to brute force (bug #7215).\n   * parser exceptions are now displayed visually (patch #914)\n   * always ask for permission before overwriting an already existing replay\n     file (bug #10689)\n   * don't automatically save a replay for every game an observer visits\n     if the option 'Save Replay on SP/MP Victory ..' is enabled (bug #10690)\n   * changed option 'Delete Saves on SP/MP Victory ..' to remove only\n     Auto-Saves to avoid the removal of manually saved files from unrelated\n     games\n   * make sure the team number is reset in single player linger mode\n     (bug #10692)\n   * fullscreen now defaults to false\n   * \"hide_help\" now hides the unit from the list in help, but still allow to\n     see its description (using context-menu or hotkey)\n   * change the default port for the campaign server to 15005 to seperate the\n     new 1.4.x way from the old possibly broken content from the trunk server\n\nVersion 1.3.13:\n * campaigns:\n   * A Tale of Two Brothers:\n     * what the correct passwords for 'Guarded Castle' are is now randomized\n   * Liberty:\n     * 'Hide and Seek' mostly rewritten and it now has a bigger map with\n       randomly placed guards\n   * The South Guard:\n     * now the player has to kill the fake M'Brin in 'Choice in the Fog' instead\n       of just attacking once\n * language and i18n:\n   * updated translations: Chinese, Czech, Danish, Finnish, French, German,\n     Greek, Hungarian, Italian, Lithuanian, Polish, Portuguese (Brazil),\n     Valencian\n   * updated DejaVuSans to 2.22\n * map editor:\n   * resize actions can be undone again (bug #10216)\n * multiplayer:\n   * revised maps: Hamlets\n   * recruitment OOS is fatal now (bug #9723)\n   * the server now stores the next scenario send but the host, thus the\n     clients no longer restart in the previous scenario\n   * the next scenario now properly loads the recall list\n * sound:\n   * new or improved sounds: ogre hit and die, MP chat\n * units:\n   * all lvl 2 outlaw units can now advance to lvl 3 in all campaigns and MP\n   * the default AMLA for all max-level units is now +3 max HP, +20% max XP and\n     healing to full\n   * the standard AMLA XP limit upped from 100 to 150\n   * replaced the fullheal AMLA of the Necrophage with a feeding ability, giving\n     it +1 max HP for every living enemy killed\n * user interface\n   * display the race in the unit preview panel (with gender variation support).\n   * allow to use team labels also for 1-player-teams (bug #9747)\n   * changing the langugage now sets the version number in the title\n     properly.\n   * show 'back to round xxx' also in 800 x 600 resolution\n   * a multiplayer map with allow_new_game causes the selection of a map to\n     show the wrong minimap (bug #9425)\n   * the \"1 turn to reach\" of the movement hint is now used only for multi-turns\n     move, instead icons show ZoC and village capture ending the move.\n   * turn to reach numbers also works when bigger than 9 and without parentheses\n   * display an icon into the movement hint where the unit can be invisible and\n     the sidebar icon is now about the current status of the unit\n   * fix glitches with the sidebar status icons (slowed, poisoned..) when the\n     mouseover leave the unit\n   * middle mouse button now do a progressive scrolling when kept pressed, speed\n     and direction depend of the the position of the mouse relatively to the\n     center of the view\n   * in help, sections are now opened by clicking on the book icon or\n     double-clicking on its title\n   * each section has now an associated page with general info and links to its\n     topics\n * WML engine:\n   * new event \"last breath\" will be triggered when a unit dies, but\n     before the animation is played\n   * allow ThemeWML to display the race.\n   * new \"random_gender=\" key (boolean) to single units declarations in WML;\n     the engine will generate a random gender for the spawned unit just like\n     when it's recruited\n   * updated {GENERIC_UNIT ...} macro to take advantage of random_gender\n   * fixed [filter_radius] to support [and][or][not] and radius=\n   * added rand= for [set_variable] which can be used in MP, the user has to\n     make sure it stays in sync\n   * units spawned with unit in events can now have random traits and also the\n     names are the same (bug #10501)\n   * load the recall list with a start of scenario save (bug #10444)\n   * Added support for side specific [message] (fr #7427)\n   * a floating text can now be specified within animation frames using the\n     text= and text_color= keys\n * miscellaneous and bug fixes:\n   * various bug fixes and code cleanups\n   * added gzip and gunzip command line parameters\n   * replaced the 'Binary Saves' option with 'Compressed Saves' and now\n     writes gzip files\n   * added a \"ping_timeout\" preference to allow adjusting the default timeout\n     value ('60') from the preferences file\n   * rewrote the network code to also receive gzipped data:\n     * The clients send gzipped data to the MP server.\n     * The MP server can send gzipped data depending on a hidden parameter\n       which is off by default.\n     * The campaign server sends and receives binary_wml.\n   * fixed a crash when the attacker dies while performing a desparate attack.\n     The crash seemed only to happen under Windows but valgrind also\n     complained (bug #10496)\n   * loading a content with invalid wml does not terminate the game\n   * increased the precission off the mouse in the top row of the editor\n     (closes bug #10219)\n   * Fixed code to filter sent items when undoing (bug #10588, needs testing)\n   * Avoid an assertion failure triggered in the replays\n   * speed-up the cache validation by skipping directories named \"images\" and\n     \"sounds\", WML authors must avoid to put cfg files there (or manually\n     refresh their cache if they really want to place and edit cfg files there)\n   * using \"next-unit\" on the last unit now triggers the selection effect each\n     time (instead of half the times)\n   * fix some latency for clearing fogged corners on shrouded maps\n   * optimization of the pathfinding and unit loading\n   * avoid deferring null pointers in the multiplayer lobby\n\nVersion 1.3.12:\n * campaigns:\n   * The Rise of Wesnoth:\n     * 'A New Land' can now be won by waiting till turns run out\n * language and i18n:\n   * updated translations: Czech, Danish, Finnish, French, Italian, Polish,\n     Swedish\n * map editor and terrains:\n   * added village count to editor\n * multiplayer:\n   * revised maps: Caves of the Basilisk, Cynsaun Battlefield, Den of Onis,\n     Fallenstar Lake, Hamlets, Hornshark Island, Sablestone Delta, Silverhead\n     Crossing, Sulla's Ruins, The Freelands, Weldyn Channel, Alirok Marsh,\n     Island of the Horatii, 3p Morituri, Blue Water Province, Castle Hopping\n     Isle, Clash, King of the Hill, Lagoon, Loris River, 4p Morituri, Paths of\n     Daggers, Siege Castles, The Wilderlands, Xanthe Chaos, Forest of Fear,\n     Amohsad Caldera, Hexcake, Waterloo Sunset, 8p Morituri, Merkwuerdigliebe\n * sound:\n   * added new music track, \"Vengeful Pursuit\" by Jeremy Nicoll.\n   * added new music track, \"Variations on an Elvish theme\" by Doug Kaufman.\n * units:\n   * balancing changes:\n     * increased the HP of the White Mage from 32 to 35\n     * decreased the ranged attack of the White Mage from 7-4 to 9-3\n     * increased the melee attack of the White Mage from 6-1 to 6-2\n     * increased the HP of the Mage of Light from 42 to 47\n     * changed the ranged attack of the Mage of Light from 9-4 to 12-3\n     * decreased the melee attack of the Royal Guard from 12-4 to 11-4\n     * decreased the melee attack of the Merman Warrior from 8-4 to 10-3\n     * decreased the pierce melee attack of the Merman Triton from 11-4 to 14-3\n     * decreased the blade melee attack of the Merman Triton from 11-4 to 19-2\n     * decreased the melee attack of the Naga Myrmidon from 8-6 to 9-5\n     * increased the melee attack of the Lich from 5-3 to 8-3\n     * increased the melee attack of the Ancient Lich from 6-4 to 8-4\n     * increased the defense of the Bat line on all terrains from 50% to 60%\n * user interface:\n   * changed the default setting for the turn bell to on\n   * removed the turn_cmd preference option\n   * Savegames now have a prefix indicating the campaign they are from if\n     the campaign WML declared an abbrev= tag.\n   * in linger mode a new overlay is used to see the difference between\n     playing and lingering\n   * abilities and traits now show a blank line if missing, to ease units\n     comparison\n   * the numbers keys also change the reachability in N turns for selected enemy\n     (works with simple mouseover too)\n * WML engine:\n   * New standard unit filter keys:\n     - defense: chance to be hit on current terrain by normal weapons\n     - movement_cost: movement cost on current terrain\n   * the preprocessor now ignores filenames with '..' in them\n * miscellaneous and bug fixes:\n   * fix a compilation bug on Windows (usleep not defined)\n   * addon interface: added support for an ignore file (.ign) to configure what\n     shouldn't be uploaded on the addon server (it's useful if you use a svn\n     checkout for example)\n   * fixed some small interface glitches on MP saved games loading and setup screen\n   * fixed some more possible utf-8 related terminations\n   * fixed WML added anims being forgotten on save/load\n   * fix an animation freeze when selecting a fighting unit\n   * prevent unit selection (and sending \"select\" event) when commands are locked.\n   * optimization of the loading of units WML data.\n   * optimization of \"Create Units\" and \"Recruit\" dialog.\n   * fixed incorrect number of total villages for villages at right and bottom border\n   * fix bug #8991: Load a second savegame crash when using --test option\n   * added a new drawing framework only used for linger overlays at the\n     moment, other stuff can be converted later\n\nVersion 1.3.11:\n * campaigns\n   * Eastern Invasion\n     * in 'The Drowned Plains', undead no longer spawn near you randomly but\n       instead they are placed on the map at the beginning of the scenario and\n       remain immobile and hidden until the player steps next to them\n     * Epilog throneroom scene now has a horse-canter sound effect for Owaec.\n   * Scepter of Fire\n     * in 'The Dragon', the player now gets a starting castle where to recruit\n       and recall normally\n * campaign server\n   * fixed a bug which broke uploads with a .cfg file next to the campaign\n     directory\n   * finalized wescamp integration\n * map editor and terrains:\n   * fixed a bug which prevented the editor to load maps with a Windows EOL on\n     Windows, other platforms where not affected.\n   * added a 'Mushroom Grove lit' (on cave) terrain using (string 'Uu^Ufi')\n * graphics:\n   * added user-contributed graphic updates for 'storm trident', 'ankh' and\n     'staff' pick-up items\n * language and i18n:\n   * updated translations: Chinese, Czech, Danish, Dutch, French, Galician,\n     German, Polish, Portuguese (Brazil), Swedish\n * multiplayer:\n   * fixed segmentation fault on loading saved games from the multiplayer user\n     interface\n   * fixed random leaders not getting random genders as expected by design\n * WML engine:\n   * implemented the #ifndef directive, the opposite of #ifdef, in the\n     preprocessor, to parse the following block only when the symbol is not\n     defined\n   * fix the recall list duplication bug (bug #10183)\n   * [modify_side] can now override the recruit list, just like [set_recruit];\n     should be the preferred method at some point.\n   * the gold carryover can now be modified from wml (fr #10144)\n * units:\n   * balancing changes:\n     * increased the melee attack of the Saurian Oracle from 5-2 to 4-3\n * user interface:\n   * The attack dialog displays the range between weapon's info\n   * The footsteps of a teleporting unit shows haloes on teleport points\n   * More readable colors for dark map labels (bug #10271)\n   * Tips of the day have attributions, a \"Previous\" button and a fixed size.\n * miscellaneous and bug fixes:\n   * added some extra headers for gcc 4.3 (based on patch #842)\n   * Fix bad fog update when passing by or stopping on a village\n   * Fix various bug when teleporting a unit to a fogged village (bug #10273)\n   * Display a message when a teleport fails (exit village has an hidden ally)\n   * Warning message on the standard output when using tiles with bad size\n\nVersion 1.3.10:\n * campaign server\n   * it's now possible to delete a campaign with the master password\n   * added initial support for the wescamp translation integration\n     (not finished yet)\n   * You can now supply a .pbl file within the directory for a campaign\n     as _server.pbl, rather than externally at the same level as the directory.\n     Both the client code in the game and the Python client in utils/ have been\n     enhanced to allow this.\n * campaigns:\n   * Eastern Invasion\n     * Fixed bug #10195, related to Holy Amulet's description\n     * some gold balancing for 'Xenophobia' and 'Lake Vrug'\n   * Liberty\n     * in 'The Raid', the accompanying peasants are no longer loyal. Also, the\n       scenario now gives an early finish bonus\n     * turn limits of 'A Strategy of Hope' lowered, to prevent massive amounts\n       of carryover gold\n   * Northern Rebirth\n     * Balancing polishing and bug fixing.\n     * Disabled undead branch for the upcoming 1.4 string freeze, as it is far\n       from finished right now, and will not change before the string freeze.\n     * Made auto recalled units loyal.\n   * Sceptre of Fire\n     * 'Gathering Materials' now has more varied terrain, an early finish bonus,\n       and the gold and coal piles now behave better: each pile now only gives\n       one load, miners carrying a load have an icon on them and when dying they\n       drop their load, so another miner can pick it up\n     * in 'Outriding the Outriders', villages (except the first one) now give\n       you two units instead of one\n     * Khrakrahs is no longer allied with the hostile elves and dwarves\n   * Under the Burning Suns\n     * Kaleh now uses AMLA's for custom advancement\n     * renamed the files and scenario id's to reflect scenario titles\n     * new title image and some initial story images\n     * redesigned the Dust Devil unit to make it less overpowering\n     * gave Elyssa 1 move across sand\n     * fixed AI recruitment in 'Across the Harsh Sands', made Lost Souls\n       easier to beat back on MEDIUM and HARD, and fixed the bug with Holy\n       Water (bug #10254)\n     * bugfix for blocker in 'In the Tunnels of the Trolls'\n * graphics:\n   * polished ankh prop picture from Liberty, and moved to core, replacing\n     old ankh-necklace.png used by Eastern Invasion\n   * updated unit graphics: Necromancer, Dark Adept, Dark Sorcerer, Fugitive,\n     Huntsman\n   * new or improved animations: saurian augur line magic attack\n   * various shadow under units updates for consistency\n * sound:\n   * new or improved sounds: skeleton hit and die\n * language and i18n:\n   * updated translations: Chinese, Czech, Danish, Finnish, French, Galician,\n     German, Greek, Hungarian, Italian, Lithuanian, Polish,\n     Portuguese (Brazil), Russian, Spanish, Swedish, Valencian\n   * updates fonts: DejaVuSans (2.21)\n * map editor:\n   * fixed a bug when two dimensions of a map were modified, the editor\n     could crash (bug #10216)\n   * fixed a bug when shifting the map, the starting positions weren't\n     updated correctly (bug #10216)\n * multiplayer:\n   * revised maps: Cynsaun Battlefield, Den of Onis, Hamlets, Silverhead\n     Crossing, Sulla's Ruins, Weldyn Channel, Blue Water Province\n   * new multiplayer scenario added: Dark Forecast, random survival for up to\n     two players\n   * removed option to enforce female gender on side leaders, replaced with a\n     gender choice combo-box in the MP side setup UI (client and host), which\n     can choose between random, male, and female, when available.\n   * the server sends a periodical 'ping' to all players to detect ghosts\n   * implemented reloading of the server config on SIGHUP\n * sound\n   * \"Legends of the North\" (legends_of_the_north.ogg) moved from NR to mainline\n   * A new pair of victory and defeat themes by Ryan Reilly added.\n * units:\n   * balancing changes:\n     * increased the movement points over tundra (snow) and deep water from 1\n       to 2 for 'drakefly'\n     * added the 'fearless' trait to the Ghoul line\n * user interface:\n   * selecting your own unit makes it flash briefly and emit a select sound\n   * you can now also select enemy units and see their possible path, terrain\n     defense and turn to reach.\n   * changed the mute hotkey from ctrl-m to ctrl-alt-m\n   * renamed \"Advanced Mode\" button on graphics preferences to \"Change Resolution\"\n   * renamed \"Advanced Mode\" button on sound preferences to \"Advanced Options\",\n     and \"Normal Mode\" to \"Standard Options\"\n   * fix some inconsistencies between mouse selection and \"next unit\" selection\n   * double-click in dialog now triggers a \"press button\" sound\n   * fix an exploit using the \"black stripes\" of a unit with teleport ability\n     to detect enemy villages under fog\n   * fix the wrong \"(1) turn to reach\" on already captured village\n * WML engine:\n   * extended [store_side] behavior, so that it additionally writes the following:\n     fog, shroud, colour, user_team_name, controller, recruit (the recruit list),\n     village_gold (the income per-village).\n   * extended [modify_side] behavior, to contemplate fog, shroud, controller,\n     recruit and village_gold settings.\n   * new key \"contains=\" in [variable] conditions to check the presence of a\n     substring in a variable value\n   * new tag [debug_message], which takes as paramaters \"logger=\" and \"message=\"\n     to silently output messages to stdout or stderr.\n   * new key \"variation=\" in [move_unit_fake] statements to add the possibility\n     of making a fake unit look like one of its variation while moving - this\n     also reflects in a change to the MOVE_UNIT macro, which now can use gender\n     and variation too.\n   * maps now have a user definable border\n   * Changed the mute hotkey from ctrl-m to ctrl-alt-m.\n   * On victory, all old saves for the scenario except the start one\n     are now deleted (rather than just autosaves as formerly). This\n     is done before replay saving, if that is enabled. The preference\n     name has changed from delete_autosaves to delete_saves.\n   * Animation engine allow multiple type of frames (a la \"missile frames\")\n     for all types of anims, you can have multiple such anims using different\n     frame names\n   * a new type of animation is triggered when a unit is selected. (WML\n     support to come shortly)\n   * in story [image,] a new key scaled=yes/no (default=no) allows to scale\n     the image like the background.\n   * prevent some illegal select events on enemy units.\n * miscellaneous and bug fixes:\n   * added a new log domain 'mp_server'\n   * added a new log level 'debug'\n   * various bug fixes and code cleanups\n\nVersion 1.3.9:\n * campaigns:\n  * Descent into Darkness\n    * in 'Peaceful Valley', goblins may no longer spawn when you recapture a\n      village you had lost\n  * Heir to the Throne\n    * new graphics for the battle princess\n    * in 'Crossroads', the orc ambushers now hide immobile on the map from\n      the beginning of the scenario, instead of being spawned randomly when\n      stepping on hills\n  * Liberty\n    * new story images\n    * a proper bigmap\n    * music changed in several scenarios\n  * Northern Rebirth\n    * New map for Eastern Flank\n    * Fixed bug where Father Marcus regenerates in the wrong place\n      in one the death events.\n    * Rescaled Rakshas' portrait to the proper size.\n    * Balancing of opening event in 'Settling Disputes'\n    * Various minor polishing and bug-fixes.\n    * Extensive balancing, polishing and bug fixing on undead branch.\n  * Son of the Black Eye\n    * Fixed bug in 'The Coward' where an enemy unit speaks as if\n      he is on your side.\n    * A bit of dialogue polishing in 'The Coward'\n    * Jetto now joins you even if you don't release him during the scenario\n  * An Orcish Incursion\n    * Campaign heavily revised and added to the distribution\n  * general\n    * no longer use the external_binary_data dir for including campaign and\n      difficulty level icons and images, but reference the images directly\n * graphics:\n   * new animations: rogue death, orcish leader line leadership\n * language and i18n:\n   * updated translations: Czech, Danish, Dutch, Finnish, French, German,\n     Italian, Lithuanian, Polish, Swedish\n * map editor:\n   * a right click in floodfill mode now performs a flood fill.\n   * new icon for: village, castle\n   * new rotate function (FR/bug #3870): copy&rotate selected area using mouse\n     cursor as center (or \"center of mass\" if the cursor is not on map)\n   * important optimization of the builder engine (which recalculates\n     transitions after a map change)\n   * restore the random map generator (was broken in 1.3.8)\n   * fix several bugs with the \"delay transition update\" option (undo and\n     multi-hexes operations)\n * WML engine:\n   * new key \"centered=yes\" in [story] to use center of images (like dots)\n     on the given map coordinates.\n   * kill the obsolete \"flip\" key in [story], use imagepath function\n    \"~FL(horiz/vert)\" instead\n * user interface:\n   * preserve aspect ratio of the minimap (FR/bug #9999)\n   * the debug \"Create unit\" dialog have now two columns (race and type)\n     and is correctly sorted.\n   * progressive parameters can be specified both in [animation]\n     and in [frame]\n   * The linger mode \"Next Scenario\" button renamed to \"End Scenario\"\n   * improved the display of the trait descriptions\n * multiplayer:\n   * renamed maps:\n     * Blitz to Weldyn Channel\n     * Charge to The Freelands\n     * Meteor Lake to Fallenstar Lake\n     * Triple Blitz to Alirok Marsh\n   * revised maps: Caves of the Basilisk, Weldyn Channel\n   * minimum number of turns reduced to 1\n   * new option to allow female leaders by default instead of male leaders\n   * fixed a crash if the client receives invalid utf-8\n   * fixed a server side bug with could cause invalid utf-8\n     being send to a client.\n   * display the era id for not installed eras in the lobby.\n   * display the scenario id for unknown scenarios in the lobby.\n * units:\n   * balancing changes:\n     * created undead variations for the 'bat' and 'gryphon' race\n * miscellaneous and bug fixes:\n   * various bug fixes and code cleanups\n   * fixed a glitch where an item halo shifted position when zooming\n   * map label length is correctly determined for multibyte characters\n     and thus the limit has been reduced to 32 characters again (bug #6855)\n   * now using :n in debug mode will skip past linger mode as intended\n   * fix a bug with [endlevel] result=continue_no_save\n   * fixed a bug where some strings were resized in utf-8 unaware mode\n   * fix bug #9021 (team color names not directly translated when\n     switching language)\n   * optimize the random map generator (especially for high village density)\n\nVersion 1.3.8:\n * campaigns:\n   * Descent into Darkness\n     * fixed a bug causing the growth ability of Ghast to not always work\n     * fixed a bug in 'A Small Favor - Part 2' preventing one random passage\n       from opening up\n   * Eastern Invasion\n     * new portrait for Konrad II\n   * Liberty:\n     * fixed the undead transformations not working in 'Unlawful Orders'\n     * clarified the objectives in 'The Gray Woods'\n   * Northern Rebirth\n     * Colored portraits for Sisal and Rakshas\n     * Fixed bug in 'Old Friend' where Tallin looses bonus HP, MP and\n       experience gained from the Rod of Justice\n   * Sceptre of Fire\n      * fixed lava expansion in 'Caverns of Flame' not working\n   * Son of the Black Eye\n     * Fixed bug in 'Saving Inarix' where the blown up bridge wasn't shown\n       properly (bug #9817)\n   * The South Guard\n     * a large number of assorted little polishing tweaks and improvements\n     * a somewhat nicer-looking village flag\n     * Deoran now has a lvl 3 advancement, and no special AMLA options\n     * new sprites for Sir Gerrick\n     * removed the leader and hero ellipses until it's decided whether they\n       should be used in all campaigns\n     * Map for \"A Choice In The Fog modified so mermen are actually useful.\n     * \"Tidings Good And Ill\" is now playable even if you didn't recruit\n       elves in the previous scenarios (bug #9944).\n     * fixed bugs with units sometimes not starting with max HP and movement at\n       the beginning of some scenarios.\n     * in 'Tidings Good And Ill', you can now recruit and recall the elf\n       escorts of your choosing instead of having them automatically picked\n       from those you had in the previous scenario\n     * in 'Tidings Good And Ill', defeating the naga queen is now mandatory\n     * 'Into The Depths' has been completely rewritten.\n     * there is a new scenario, 'Return To Kerlath', between 'Into The Depths'\n       and 'Vengeance' on the elf branch.\n     * trimmed the large unused portions of the map in 'Vengeance' away\n     * in 'Vengeance', removed the death of Minister Hylas as a defeat condition\n   * Under the Burning Suns\n     * fixed the missing dialogue parts of elves fighting mud crawlers\n       in 'The Morning After'.\n     * made all tent villages yield elvish refugees (possibly)\n       in 'The Morning After'.\n     * fixed the stables encounter dialogue to always appear in order\n       in 'The Morning After'\n     * 'Across the Harsh Sands' - dehydration causes incurable damage (except\n        through visiting an oasis) and fractional loss of attack strength.\n     *  Adjusted some of the encounters and rewrote the Lost Soul appearance\n        logic in 'Across the Harsh Sands'.\n     * Added some dialogue to explain the ghost reappearance when they were\n       defeated the night before to 'Across the Harsh Sands'.\n     * 'A Stirring in the Night' - village events work correctly now (bugs\n       #9947 and #9915), Added animated and impassable campfire terrain.\n   * general\n     * fixed many scenarios erroneously using the wrong difficulty level symbol\n       in #ifdefs (MEDIUM instead of NORMAL)\n * graphics:\n   * new graphics for the highwayman\n   * nicer image for the illuminates aura and a new campfire aura\n   * no more idle animations for units next to an enemy unit\n   * new button and slider in preferences to switch unit idle animations\n     on and off and set their frequency\n   * no grid on off-map tiles\n   * nicer transitioning between desert road, desert and desert villages\n   * a new alternative terrain for lava, one which isn't drawn in a pit\n * language and i18n:\n   * manual: switched to a brand new manual, now using some strange format\n     to generate it and ending in a nice .html page\n   * updated translations: Bulgarian, Danish, Dutch, Finnish, French, German,\n     Hungarian, Italian, Japanese, Polish, Portuguese (Brazil), Russian,\n     Swedish, Valencian\n   * new translation: Serbian (Latin version)\n   * added sazanami-gothic font (needed for the Japanese translation)\n   * updated DejaVu font to 2.20 (no new characters)\n   * made all keeps be called \"Keep\", all castles be called \"Castle\" and\n     all roads be called \"Road\", instead of using variant names (such as\n     \"Elven Castle\" or \"Desert road\")\n * multiplayer:\n   * revised maps: Charge, Den of Onis, Meteor Lake, Silverhead Crossing,\n     Triple Blitz, Clash\n   * 'village_gold' is no longer stored when 'use_map_settings' is used\n   * the server sends the game id and not only the game name if a player joins\n     a game to avoid ambiguity in case of multiple games with the same name\n   * show observer team chat messages in the 'Chat Log' window\n   * implement linger mode for multiplayer\n * units:\n   * balancing changes:\n     * gave the Fugitive the concealment ability (village hiding)\n     * increased the XP requirement to advance to the Fugitive from 77 to 120\n     * decreased the melee attack of the Fugitive from 12-2 to 11-2\n     * decreased the ranged attack of the Fugitive from 8-4 to 7-4\n     * changed the race of the Vampire Bat line from 'undead' to 'bats'\n     * changed the movement type of the Vampire Bat line from 'undeadfly'\n       to 'fly' (with adjustments)\n     * added a magical ranged 7-2 arcane attack to the Dark Adept\n     * added a magical ranged 9-2 arcane attack to the Dark Sorcerer\n     * added a magical ranged 12-2 arcane attack to the Necromancer\n     * added a magical ranged 9-3 arcane attack to the Lich\n     * added a magical ranged 9-5 arcane attack to the Ancient Lich\n     * increased the arcane resistance of the Ghoul line from -40% to 20%\n     * increased the arcane resistance of the Ghost line from -30 to -10%\n * user interface:\n   * OK in the status menu replaced with more informative \"Scroll To\".\n   * add an \"Animate Map\" option in advanced preferences, to switch flag\n     and terrain animation off\n   * in menus, remove the lingering mouseover highlighting when mouse leave it\n   * for the unit preview in recruit/recall dialog, use the same text coloring\n     as in the main side panel.\n * help system:\n   * the unit list is now organized by race sub-sections.\n   * each ability, special weapon and race description page, display a\n     list of hyperlinks to the related units (bug #9567)\n   * unit pages have now a field \"race\" with a link to related race page.\n   * hide the \"Unknown Unit\" page from the left-panel\n   * topic with an id starting with a \".\" are not shown in the left-panel\n   * the encountered units list is now correctly updated when using \":debug\"\n     and \":nodebug\" commands\n   * faster inital loading of the help.\n   * fix some incorrect \"open section\" UI sound when clicking on links\n * WML engine:\n   * new event \"turn refresh\" occurs after healing, calculating income, and\n     restoring movement\n   * now tag [filter_adjacent] is supported in the Standard Unit Filter (SUF)\n   * now tag [filter_adjacent_location] is supported in the Standard Location\n     Filter (SLF)\n   * remove the unused [neighbour_unit_filter] animation filter, now that SUF\n     does it for us (and better)\n   * a minus sign in front of a cardinal direction now reverses it (\"-s\"=\"n\")\n   * now radius expansion is handled last in Standard Location Filters;\n     previously it was handled last except before [and], [or], and [not]\n   * fix a bug with array.length side-effects causing empty arrays to increase\n     to size 1\n   * the WML for attack animations has been moved from the [attack] block to\n     the [unit] block\n   * new effect apply_to=new_animation to add animations to unit\n   * the [race] tag has now an \"id\" key for WML operations. The old \"name\" is\n     now used for user display purposes (currently only in help sections).\n     If id is missing, name will be used. There is also a new \"description\" key\n     displayed in the race help page (but currently not used by mainline races)\n   * new potentially useful global macros: FULL_HEAL, HIGHLIGHT_IMAGE,\n     CLEAR_FOG, NO_SCROLL_TO_AI_LEADER\n * miscellaneous and bug fixes:\n   * various bug fixes and code cleanups\n   * remove some useless messages from the standard output\n   * user-made campaign translations now work again for Windows (bug #9926)\n   * fix TC imagepath function for non-playing side and add-on/campaigns icons\n   * remove a 500ms delay between AI turns\n   * switch to observer viewpoint in linger mode in multiplayer (bug #4072)\n   * optimize unit's moves on map with shroud or fog\n\nVersion 1.3.7:\n * Campaigns\n   * Son of the Black Eye\n     * Fixed bug in 'Saving Inarix' where no user_description\n       is generated for Inarix\n   * Northern Rebirth\n     * Colored portraits for Sister Theta and Ro'Arthian\n     * Fixed bug in Anita's death event where Tallin speaks instead of her.\n     * Fixed bug in 'Old Friend' where Rakshas' portrait doesn't appear.\n     * Balancing and text changes in 'Old Friend'\n   * Sceptre of Fire\n     * Fixed a crash in the final scenario\n   * Under the Burning Suns\n     * Fixed invalid side bugs in 'Hunting Trolls'\n     * Fixed an invalid terrain bug in 'A Long Night'\n     * Fixed the dehydration in 'Across the Harsh Sands'\n * build system\n   * Fixed autoconf/automake builds so that --disable-python-install\n     will not try to create the default install directory for python\n     stuff when it isn't needed. Otherwise if you aren't root, make\n     errors out.\n   * If --enable-display-revision isn't enabled SVNREV is no longer\n     defined in the build process.\n * language and i18n:\n   * updated translations: Danish, Finnish, French, German, Greek, Japanese,\n     Lithuanian, Polish, Portuguese (Brazil), Russian, Serbian, Spanish,\n     Swedish\n   * updated DejaVu font to 2.19\n * multiplayer:\n   * new map: Mokena Prairie\n   * revised maps: Hamlets, Meteor Lake, 4p Hamlets, Paths of Daggers,\n     Loris River\n   * improvements to the sound of the countdown timer\n   * the countdown timer alert can now start sounding while dialogs are open\n   * unit descriptions are no longer evaluated for the recruitment checksum\n     and thus avoiding an OOS error when different languages are used.\n     The change is incompatible with older trunk versions fixes (bug #9472).\n   * Show the (possibly bogus) GPV and fog settings of games with \"Use map\n     settings\" on in a darker font. (patch #771 by uso)\n   * the random start ToD option is now properly saved and loaded\n     when use map default is used (bug #9532)\n   * Changed the Id of the Halberdier from \"Halbardier\" to \"Halberdier\"\n   * New name for the \"Soul Shooter\": \"Banebow\"\n   * multiplayer lobby: highlight the names of the players which have joined\n     the selected game (bug #7471)\n   * multiplayer lobby: tab completion works for all player names now,\n     not only for those which are not in a game (bug #9350)\n   * enable \"teamchat\" for observers\n   * when use 'map settings' is selected, map settings can no longer be\n     changed, if not defined in the map the general default is chosen\n   * when cancelling the MP create the changed preferences are no longer\n     saved\n   * when the MP create is accepted with 'use map settings' the map setting\n     parameters are no longer stored as the new preference\n   * the recommended settings are added to all standard multiplayer maps\n     so that you get these values if you activate 'Use map settings'\n * graphics\n   * fixed a glitch with the undo of recruit or recall on high places.\n   * Improve rendering of \"black stripes\": don't hide footsteps or fog,\n     and apply it also on off-map tiles when active.\n   * Improve rendering of grid: draw under fog, shroud and \"black stripes\"\n   * Fixed bug #9646: ToD changes not applied to mainmap in replay mode.\n   * Remove ToD coloring and brightening of off-map background tiles\n   * fix inconsistant highlighting of fog transitions\n   * slightly bigger and multi-hex attack direction indicator, fixed\n     incorrect scale update when zooming.\n   * improve footsteps : better beginning, angles and end, reduce\n     cpu cost, fix incorrect left-right sequences and clean some images\n   * fixed the glitch which would occur on some maps in the top right\n     corner and bottom left corner, these tiles were rendered as void\n     instead of a normal terrain.\n   * improved sand and desert terrains\n   * remove the bars, orb and ellipse of dying animations.\n * sounds and music\n   * new or improved sounds: bat hit, MP countdown timer\n * map editor:\n   * the grid is scaled properly again and no longer shown in the offmap area\n   * the resize option can now also use the surrounding tiles to expand the\n     map in a smart way, this is the default.\n   * the map editor can now also shift the origin of the map when resizing.\n   * tiles can now have their own image in the editor, defaults to the minimap\n     image. Also added some placeholder art.\n * user interface:\n   * Enable \"Save Game\" and \"View Chat Log\" menu entries in replay mode.\n   * Add an additional line below the minimap in the \"Multiplayer->Create game\"\n     screen that displays the size of the selected map. (patch #776 by uso)\n   * Add a tooltip with the experience modifier for the units XP display.\n   * add an empty attack icon in attack dialog when needed (this also removes\n     an error message, bug #9570)\n   * better \"choose attack direction using the last highlighted hex\" on pack\n     of units (bug #9649)\n   * attack/move cursors and attack direction indicator are not used when\n     observing (bug #9610)\n   * 'help' and 'more' button in the title screen now also have a tooltip\n     (bug #9618 patch #790)\n   * added a hotkey for clearing the chat messages (patch #770)\n   * Remove the \"black stripes\" of the enemy that we want to attack.\n   * in tiny-gui, now the movement hint also displays the terrain defense.\n   * the numbers of \"show enemy moves\" are now on top of fog and doesn't mix\n     with those of the movement hint\n   * the sidebar HP tooltip now show resistances of the current unit\n   * also highlight the destination hex before an attack+move mouse action\n   * more up-to-date mouse state (cursor, highlight, ADI) after some events:\n     undo, attack dialog or right-click cancel\n   * need only one right-click to open context-menu on an unselected enemy\n   * selecting an enemy doesn't directly cancel its reachable zone\n   * there's a new \"Game Settings\" window which shows the basic game settings\n     for each player, accessible through the \"More\" button in the \"Status Table\"\n   * in help, the links to unencountered units now works but have a \"(?)\"\n     and point to an \"Unknown Unit\" page explaining why\n   * the default zoom key now toggles between default and last used zoom. The\n     switch is also faster (cached)\n   * the unit list now colors the stats of units.\n * WML engine:\n   * added effect types new_ability and remove_ability using [abilities] subkey\n   * now [base_unit]id= inside [unit] can extend upon existing unit types\n   * new tag [filter_radius] to allow greater control over radius expansion\n     when using the standard location filter\n   * fix a bug where containers could only be stored at the top-level\n   * fix a bug where both x and y had to be specified in location filters\n   * better handling/reporting of invalid WML variable type usage\n   * new key find_in= to allow searching a variable of previously\n     stored locations when using the standard location filter\n   * new key find_in= to allow searching a variable of previously\n     stored units when using the standard unit filter\n   * new extra_defines= key to define in campaigns some other preprocessor\n     symbol *before* the files are repreprocessed\n   * fog and shroud tiles are now defined by the TerrainWML (not [game_config])\n   * new key store_location_as= to store generated chamber item locations\n   * the border has been made themable\n   * Instead of having an empty upkeep type as the default when reading a\n     config file being used to normally give leaders a 0 upkeep, now leaders\n     (canrecruit=1) are specifically exempted from upkeep and the upkeep\n     type defaults to \"full\" when read from config files the same as for\n     using the recruit function. This makes documenting how upkeep works\n     simpler (it currently wasn't really correct) without having to make\n     leaders loyal. It also will work better for campaigns where the leaders\n     change (not that there are any now) so that the current leader is\n     exempted and any exleaders pay for upkeep (unless the are specically\n     marked as loyal).\n   * make random_traits default to \"yes\". Leaders can't get random traits\n     yet, because it breaks MP, but it does give campaign units traits\n     by default. It also allows specifying some traits and letting the\n     rest fill in randomly. Some traits are always forced on for units\n     that can get them (undead and mechanical).\n   * not_living tag removed from race, as this information is provided\n     by the undead and mechanical traits.\n   * the default for turn limit has changed to unlimited, if you have scenarios\n     which rely on the old default of 50 please add a turns parameter to it\n   * In help, remove the useless \"None\" terrain type from the terrains list of\n     an unit\n * team color\n   * allow color ranges to be defined on-the-fly (like color palettes)\n   * now [side] colour=<string> is valid (previously only int)\n * miscellaneous and bug fixes\n   * added a .desktop entry for the editor so that it is shown\n     in the kde/gnome menu\n   * rewrote the config merge routine (should improve parse time slightly)\n   * various code cleanups\n   * Isle of Anduin renamed to Isle of Alduin to avoid copyright problems.\n   * the assertion 'str.size() <= 4' no longer happens, instead the terrain\n      is read as 'void' and an ingame message is shown (bug #9609)\n   * IMPORTANT! End-of-scenario no longer takes you immediately to the\n     next scenario or the lobby. Instead, you linger in browse mode --\n     menu commands for chat, saving games, etc. are available.\n     Clicking end-of-turn ends the linger and takes you out.\n   * fixed a bug-cheat allowing super-ranged attack in some special cases\n     (thanks jgp93)\n   * fixed incorrect displayed reachable zone when moving next to an enemy\n     in special ZoC cases (skirmish or lvl0)\n   * It seemed it's ambiguous whether the GPL license as supplied by\n     Wesnoth means GPL 2 or GPL 2+, since Sirp's orginal intent was\n     GPL 2+ the license has been changed accordingly.\n     (See https://mail.gna.org/public/wesnoth-dev/2007-07/msg00014.html)\n   * When advancing from Dark Sorcerer to Lich, you now get the undead\n     trait. The way this is fixed can add random traits if the new unit\n     type allows more traits then the unit currently has. This would\n     cause a problem for multiplayer, but no advancement paths currently\n     have this case. You do get to keep your current traits, even if you\n     wouldn't get them in the new unit type.\n   * the minimum savegame protection is ignored when either the savegame\n     or the current game has 'test' as version\n   * Add 2 debug commands: \"fps\" for showing framerate, and \"benchmark\"\n     to force a continuous refresh of the screen (for testing the real fps)\n   * fixed bug keeping highlighted the previous selected hex after a\n     right-click cancel on map using fog/shroud\n   * slightly optimize the showing of the attack dialog\n   * some hotkeys (*,~,{,},^,|,@,#,<,&) are now visible in the hotkey settings\n\nVersion 1.3.6:\n * language and i18n:\n   * updated translations: Danish, Finnish, French, German\n * multiplayer:\n   * the random start ToD option is now properly saved and loaded (bug #9532)\n   * the map in the lobby could be randomly invisible due to an uninitialized\n     variable (bug #9555)\n   * the automatic unit description used a non-MP safe way, this has been\n     fixed\n   * the unit name generation could with different locales call get_random()\n     a different number of times. This lead to different names and traits.\n     Changed to call random a fixed number of times which fixes the traits.\n * miscellaneous and bug fixes\n   * various code cleanups\n   * proper handling of description autogeneration for per level [effect]\n     on level 0 units\n   * changed the order of which the permanent modifications of a unit are\n     evaluated to (amlas, traits, objects)\n     (previous order: objects, traits, amlas)\n   * updated the copyright info in the source files also made it explicit\n     Wesnoth is GPL 2 only (Wesnoth was already GPL 2 only)\n   * Music transitions have now smooth transitions based on m_before end\n     ms_after wml tags\n\nVersion 1.3.5:\n * campaigns\n   * Heir to the Throne\n     * The Elvish Lord's and Elvish High Lord's faerie fire attacks have been\n       changed from cold to arcane and reduced from 8-3 and 8-5 to 7-3 and 7-5\n       respectively\n     * The obsolete Cockatrice unit has been removed\n     * The bugs in HttT's SoF scenario have been fixed\n   * Sceptre of Fire\n     * changed Haldric II a bit and gave him new a sprite and animations\n   * fixed teamcolourless fake unit moves in TRoW, HttT, EI, SoF, NR,\n     TSG and TB\n * map editor:\n   * new checkbox for the \"delay transition update\" option\n   * map code has been refactored and separated from the main game\n * graphics\n   * new animations: elvish scout idle\n   * fix bug #9398 (attacking units always above defending units)\n * sounds and music\n   * removed unused sounds: firearrow.wav, hatchet.ogg\n * language and i18n:\n   * updated translations: Czech, Danish, Finnish, French, Galician, German,\n     Greek, Indonesian, Japanese, Lithuanian, Polish, Spanish, Swedish\n   * updated DejaVuSans font to version 2.18\n * multiplayer:\n   * revised maps: Blitz, Cynsaun Battlefield, Hamlets, Sablestone Delta,\n     Silverhead Crossing, Sulla's Ruins, Blue Water Province, Clash\n   * fix MP crash on next scenario, thanks to Rhuvaen\n   * option to suppress lobby minimaps is gone.\n     Its champion concluded it was pointless.\n * units\n   * new \"mechanical\" trait, meant to show mechanical units are immune to poison\n   * balancing changes:\n     * changed the 'resilient' trait from +3HP +10% to +4HP + 1HP * unit level\n     * decreased the HP reduction of the 'quick' trait from 10% to 5%\n     * decreased the HP addition of the 'healthy' trait from +3HP to +2HP\n     * added the 'quick' trait back to the Clasher line\n     * decreased the blade and impact resistance of saurians from 0% to -10%\n     * decreased the fire resistance of saurians from -10% to -20%\n     * increased the pierce resistance of saurians from 10% to 20%\n     * increased the HP of saurians by 4HP\n     * increased the XP requirement of the Saurian Skirmisher and Augur by 2\n     * increased the melee attack of the Ruffian from 4-2 to 5-2\n * user interface:\n   * allow unfocused widgets to steal the focus instead of just borrowing it\n   * frequency of idle animations halved.\n   * Help topics for units now have 'advances from' links\n   * added experimental new transition between map and background\n   * add colors to the statistics of units in help (Hajo's patch #764)\n   * now scroll to the selected leader in status table\n * WML engine:\n   * now ConditionalWML handles [and], [or], and [not] with in-order precedence\n     (this is part of an effort to standardize the behavior of several\n     different types of filters)\n   * the syntax for logical OR-filters is now \"cond1[or]cond2[/or]\"\n     instead of \"[or]cond1[/or][or]cond2[/or]\"\n   * fix a bug where empty conditionals returned false\n   * now [special_filter] supports [and],[or], and [not] (instead of just NOT)\n   * now standard unit filter supports [and],[or], and [not] (was just [not])\n   * [unstore_unit] can now try to level a unit and does so by default.\n     This time added for real, the replay can also handle it(bug #7426)\n   * new times= key to apply [effects] more than once (default=once,\n     other possible value=per level, i.e. the effect is multiplyed\n     by the level of the unit).\n * miscellaneous and bug fixes\n   * fix renames causing OOS when made after moves or recruits\n   * fix a minor glitch when selecting the leftmost menu heading\n   * added some extra headers for the upcoming gcc 4.3 (debian bug #417764)\n   * changed the default plague weapon special macro to always spawn a WC\n   * scrolling speed is at 1.3.3 speed again\n   * fix a growing cache bug with stoned units facing west.\n   * in tiny-gui, fix badly scaled hp/xp bars at default zoom level\n\nVersion 1.3.4:\n * campaigns\n   * Two Brothers\n     * made the 2nd guards event in scenario 3 depend on if the first answer\n       was correct, now the 2nd event triggers later when the first ends in a\n       fight\n     * added one row of terrain in the 3rd and 4th scenario to make it look\n       better with the new \"boardgame style\"\n   * Heir to the Throne\n     * edited the maps of the scenarios: \"The Elves Besieged\", \"Blackwater\n       Port\", \"Bay of Pearls\", \"Crossroads\", \"The Siege of Elensefar\",\n       \"Dwarven Doors\", \"The Lost General\", \"Elven Coucil\"\n     * adapted the names of the maps and cfgs of the HttT to match the\n       scenario identification keys and the order of the scenarios\n     * added the map of \"Cliffs of Thoria\"\n     * changed one of the Orcish Warlords into a Sovereign and another one\n       into a Slurbow for the variety in \"Dwarven Doors\"\n     * fixed the bug that made the undead leader unable to recruit because of a\n       misspelled unit type in his recruit list in \"The Lost General\"\n   * The Rise of Wesnoth\n     * added the level 3 outlaws ( Hunter, Outlaw Ranger, Fugitive, Highwayman )\n       as a campaign - specific units in The Rise of Wesnoth\n     * added 2 extra turns to finish \"Temple of the Deep\" on all difficulties\n   * Eastern Invasion\n     * Reduced the difficulty of \"Northern Outpost\" scenario by making the\n       villages spawn averagely 1 less outlaws per village\n     * Changed the way Ovaec joins the protagonist in \"Two Paths\".\n       Now he keeps all the XP he might get in \"Northern Outpost\"\n   * Descent into Darkness\n     * Fixed the unknown unit type bug in \"Forever and ever, amen\", the bug\n       that made the Foolish heroes have 30 hitpoints and a broken dialog,\n       all in the same scenario\n * map editor\n   * the minimum map size is reduced to 1\n   * fixed the random map generator\n * graphics\n   * added sickle and scythe attack icons\n   * added weapon-shop tent and oak tree\n   * added automatic side-coloring of custom flags\n   * added a general backgound to make the game look better\n     on really big screens\n   * added a blur effect to most ingame dialogs\n   * new animations: troll whelp idle, young ogre idle, skeleton idle,\n     human loyalist general idle, human loyalist pikeman idle,\n     elvish fighter idle, master at arms crossbow and defend\n   * small improvements of footsteps: no time-of-the-day coloring and\n     better scaling\n * language and i18n:\n   * updated translations: Czech, Danish, French, German, Italian,\n      Japanese, Polish, Spanish, Swedish\n   * new translations: Lithuanian\n * units\n   * added a wolf \"monster\"\n   * balancing changes:\n     * healthy units now can rest even when they move\n       instead of having a double resting bonus.\n     * increased the HP of the Skeleton Archer from 30 to 31\n * WML engine\n   * removed deprecated keys image_healing and image_halo_healing\n   * empty user_description now remains empty unless generate_description set\n     (bug 8522).\n   * empty user_team_name remains empty (bug 9310).\n   * set_variable has the key time=stamp now, to get a timestamp in milliseconds\n   * move some terrain masks definition in [game_config]\n   * made defense_weight work again for values > 0\n   * fixed some minor bugs with \"sighted\" event, \"die\" event, and [kill]\n   * now [allow_undo] should work as expected in sub-commands such as [then]\n * user interface:\n   * most popup windows are now buttonless with 'click anywhere to continue'\n     behavior; to indicate this, such windows are translucent.\n   * maps smaller than the screen are now shown centered on the screen\n   * the movement hint now display a \"(1)\" turn to reach, where the unit\n     will have no moves left (distance, village or ZoC)\n   * fixed bug with the number of turns to reach when crossing several ZoC\n   * ability to view a list of MP servers with the Join Game dialog\n   * fixed blinking tooltips when clock is updated (bug #9209)\n   * footsteps are now erased at the end of the unit's move\n   * reduced \"sea sickness\" effect when scrolling at accelerated speed\n   * allow to select item in menu with right-click\n   * right-click outside of a cancelable dialog to close it\n   * added experimental new background.\n     read comment before draw_background() in display.cpp\n   * the movement hints use multiline, colors and bigger font\n     to display terrain defense and turns to reach\n   * restore search of no-team-only map labels\n   * ability to delete Add-Ons\n   * make disabled buttons more obviously disabled\n   * allow to choose the direction from where attacking, even when you\n     are just near the enemy unit.\n   * new indicator for the attack direction\n   * new method to choose attack direction, use now the last highlighted hex\n     instead of clicked triangle.\n   * improve units list dialog: add a cancel button, fix a bug when selecting\n     the first unit, preselect the on-map-selected unit and highlight on map\n     the selected one.\n * Miscellaneous and bugfixes\n   * fixed a lag in the path rendering when there is a lot of units (bug #9268)\n   * fix bug #4299: word wrap for menus with very long option strings\n   * various bugfixes and code cleanups\n   * removed zipios support\n   * poisonned/stoned text is properly centered again\n   * fixed various bugs with stoned units, now no moves left and blind.\n   * fixed a bug causing instantaneous move of unit when using acceleration\n   * fixed briefly invisible unit when scrolling to show a move\n   * fixed an invalid letter in the random winter scenario\n   * fixed a invalid memory access if a map has width of 0 (bug #9301)\n   * reduce memory usage for the default zoom level\n   * fix various cheat-bugs to detect hidden enemies: using resistance info\n     (bug #9119), search by name (bug #9314), change of hidden icon (bug #9288)\n   * fix jerky overlay of moving unit, now displayed as bars and crown.\n\nVersion 1.3.3:\n * campaigns:\n   * Northern Rebirth\n     * Completed Scenario 'Ray of Hope'.\n   * Sceptre of Fire:\n     * imported from Wescamp\n   * Son of the Black Eye:\n     * Merged into mainline for testing.\n   * Descent into Darkness\n     * added to the pack\n     * new Troll Shaman graphics\n   * Under the Burning Suns\n     * new WML in first and second scenario\n     * tweaked second scenario map\n     * removed a bunch of custom units\n     * removed a bunch of custom terrains\n     * new playable unit in scenario 2\n     * new dehydration logic in scenario 2\n     * new ambush logic in scenario 2\n     * new Troll Shaman graphics\n   * The South Guard\n     * improved Deoran graphics\n   * The Rise of Wesnoth\n     * new Wose Sapling, Warrior King graphics\n * graphics\n   * the leader crown don't hide anymore the top of hp/xp bars (bug #9120)\n   * better flag icons for the status bar\n   * taller flags that don't get hidden behind units so easily\n   * fixed some drawing glitches in the top row (bug #8739 and #8071)\n   * it's now possible to zoom in till the theoretical minimum of 4 pixels\n     per hex.\n   * hp/xp bars in tiny gui have better proportions\n * sound and music:\n   * new or revised sounds: troll hit & die\n   * added sounds for when a unit is slowed or poisoned\n   * added a music track containing only silence (for stopping all music instead\n     of just changing it)\n * language and i18n:\n   * updated translations: Bulgarian, Chinese, Czech, Danish, French, German,\n     Italian, Polish, Spanish, Swedish\n   * updated man pages: Danish\n   * fixed word wrapping in tooltips for Asian languages (or very long words)\n   * updated DejaVuSans font to version 2.17\n * units:\n   * balancing changes:\n     * converted the cold melee attack of the Lich and Ancient Lich to arcane\n     * decreased the arcane melee attack of the Wraith from 7-4 to 6-4\n     * removed the 'fearless' trait from humans, orcs and mermen\n     * added 'firststrike' weapon special to the pierce attack of Drake Clasher\n     * decreased the arcane ranged attack of the White Mage from 8-4 to 7-4\n     * decreased the arcane ranged attack of the Mage of Light from 10-4 to 9-4\n * multiplayer:\n   * added maps: Xanthe Chaos, Auction-X\n   * revised maps: Den of Onis, Hamlets, Meteor Lake, Sablestone Delta,\n     Silverhead Crossing, Blue Water Province, Castle Hopping Isle, Loris River,\n     Crusaders Fields, The Manzivan Traps\n   * Team Survival: the teams are now set correctly and translatable\n * map editor\n   * drawing terrain no longer erase starting positions\n   * added an option \"None\" in the starting position menu\n   * fixed a bug when overwriting starting positions\n   * shorter starting time\n * WML engine\n   * removed deprecated special= support in [effect]\n   * removed deprecated 1.2 map format support\n   * [store_villages] and [store_locations] now use the standard location\n     filter, meaning they accept all the possible keys of [filter_location]\n   * [store_villages] must now use owner_side= instead of side=\n   * replace [own_village] with macro {OWN_VILLAGE X Y SIDE}\n   * new conditional tag [have_location], tests true if any location passes\n     the standard location filter provided inside the tag\n   * now the standard location filter supports [and] and [or] tags\n   * new key flag_icon for [side] to change the flag icon in the status bar\n * user interface:\n   * fixed incorrect active flag in the status bar when using custom flag\n   * restore a lost feature: if acceleration is on, pressing shift uses normal speed\n   * fixed bug #9071 (incorrect behavior of the \"delete\" key at end of line)\n   * fixed various acceleration bugs (things not being properly accelerated)\n   * restored status bars during fights\n   * floating numbers now take acceleration into account\n   * display defense in the status bar of static units (towers) or\n     units placed on impassable terrain\n   * allow middle click on scrollbar to jump to a position.\n * WML tools and scripts:\n   * New tool, wescamp_import, automates the shuffling of translation files\n     and textdomain strings, need to import a campaign from WesCamp\n     to mainline.\n   * New tool, change_textdomain, makes it easy to change the name of UMC\n     after import to mainline.\n   * Old campaign_delete.pl and campaigns_client.pl have been replaced\n     with a new campaigns_client.py.  Main new features are\n     (a) you can download sets of campaigns using RE wildcards, and\n     (b) It's possible to give a BfW version in place of a port number\n     and it will select the right port.\n * Miscellaneous and bugfixes\n   * 1.2 savegames are no longer compatible and thus not loaded\n   * fixed a crash if an invalid scenario was loaded (bug #9049)\n   * fixed bug 8522.  Units without a name will be named after the unit_type.\n   * fixed bug #9103 (AI causes crash when using static units like towers)\n   * fixed a crash if a units poison attack has a cth of 0 (bug #9020)\n   * no longer allow undo if a traitless unit reveals fogged and/or shrouded\n     terrain (bug #9171, patch #739)\n   * fixed a bug where loading didn't clear the halo data (bug #9144)\n\nVersion 1.3.2:\n * campaigns\n   * Heir to the Throne\n     * In Home of the North Elves, Eonihar the rider will join you permanently\n       and the other riders that find you will be controlled by the AI\n     * updated images for Delfador\n     * made the narrator talk about gryphons at the end of Northern Winter only\n       if the player has actually gotten the eggs\n   * Tutorial\n     * merged all unit images used in the tutorial from httt\n     * increased number of turns from 20 to 26 in the 2nd scenario\n   * made some units not appear in the unit help anymore (invisible helper\n     units, duplicate desert elves and such)\n   * The South Guard\n     * better placement and duration of story images\n     * graphical enhancements including a new ethiliel portrait\n     * added 'Ruffian' an L0 outlaw to give the player something easy to kill.\n   * Under the Burning Suns\n     * Scenario 3: Made orc ambush happen on a random turn\n   * Northern Rebirth\n     * Version 18.6 merged in from WesCamp.\n * graphics\n   * added the --max-fps command line switch\n   * changed the drawing logic so it no longer delays when the drawing is\n     lagging\n   * improved the look of the main menu and tips-of-the-day boxes\n     in the title screen\n   * bugfix: units will now fade out properly at the end of death animations\n   * rewrote the halo render engine which solves a few minor glitches,\n     but most importantly speeds up the drawing of the halos.\n   * units are scaled properly when zooming also with tiny gui (bug #8703 and\n     bug #6570)\n   * haloes in tiny gui are now scaled (before unscaled, thus a factor 2 bigger\n     as intended)\n   * the movement text is also scaled now (bug #6876, patch #693)\n   * fix glitches when scrolling the map if zoomed out (bug #8768)\n   * fix the right border glitch of the map when zooming (bug #6060 and others)\n   * flying units are no longer buried in a castle (patch #709)\n   * fix the position of some halos when unit has a height offset (patch #710)\n   * Submerged units are no longer drowned when zooming.\n   * scenery\n     * added animated windmill, fancy and damaged tents, icepack, and shipwreck\n   * fix problems with colour cursor in fullscreen (slow speed, bug #7555 and\n     bug #6052)\n   * new color cursors\n   * fixed some scrolling corner cases (eg. fights happening partially\n     offscreen)\n   * automatic scrolling accelerates now (like a physical mass would)\n * sound\n   * new or improved sounds: hatchet\n   * sounds for user interface events\n   * experimental ambient sounds for when night falls and morning arrives\n   * \"Breaking The Chains\" (freedom.ogg) moved from NR to mainline\n   * All music tracks now have complete Ogg tags.\n * language and i18n:\n   * updated manual: French\n   * updated translations: Bulgarian, Chinese, Czech, Danish, Dutch, French, German,\n     Greek, Hungarian, Italian, Norwegian, Polish, Portuguese (Brazil), Spanish,\n     Swedish\n   * new translations: Indonesian\n   * updated DejaVuSans font to version 2.16\n   * removed FreeSans support since all the codes needed should be coverd by\n     DejaVuSans now\n * multiplayer:\n   * revised maps: Blitz, Castle Hopping Isle, Wilderlands\n   * The countdown timer is now coloured properly when the remaining time is\n     less than 2 minutes.\n   * observer can save a replay of the game again\n * units:\n    * balancing changes:\n      * converted the cold resistance of the Elvish Sorceress line\n        to a holy resistance\n      * decreased the holy resistance of the Orcish Assassin line from 20% to 0%\n      * remove the 'quick' trait from the Clasher line\n      * decreased the holy resistance of the Sky Drake from 20% to -30%\n      * decreased the holy resistance of the Hurricane Drake from 20% to -30%\n      * decreased the holy resistance of the Mermaid Priestess from 40% to 20%\n      * decreased the holy resistance of the Mermaid Diviner from 60% to 40%\n      * decreased the holy resistance of the Dwarves from 20% to 10%\n      * increased the holy resistance of the Ghost line from -60% to -30%\n      * enabled Lich and Ancient Lich to go on deep water and gave them submerge\n      * Level 0 Ruffian & Woodsman added.\n * terrain system\n   * added layer support to the terrain letters, two layers are supported\n * map editor\n   * added an option to delay the complete redraw of the map on command.\n   * fixed a bug causing the loss of editor's hotkeys when loading a map\n * WML engine\n   * new [own_village] condition to check if someone owns a particular village\n   * new [store_villages] tag to store village locations\n   * new [store_turns] tag to store the number of turns remaining\n   * all [store_*] tags get a default variable name\n   * use complex variable substitution almost everywhere\n   * new key for [set_variable], literal=, to avoid variable substitution\n   * [effect] can now toggle the zoc\n   * [effect] can now apply new portrait images and unit type descriptions\n   * [effect] can now filter on unit_gender\n   * new key for [variable], boolean_equals=, to test boolean equality\n   * remove some old backward compatibility support\n   * set_name in attack modification [effect] no longer change the weapon's\n     description, use the new set_description instead\n   * hit=yes in anim is now an alias of hit=hit,kill instead of hit=hit\n     this should fix the sliding bug and fix more bugs than it creates\n   * friendlier boolean matching for unit [filter] and unit [wml_filter]\n   * fixed [special_filter] not working properly (#8212)\n   * fixed [variables] not working properly for Multiplayer mode\n   * new [set_menu_item] action, to allow custom WML items in the context menu\n   * fixed a crash when a WML event killed a unit while dying in an attack\n     which the attack engine didn't expect (bug #8814)\n   * new key for [time], sound=, to specify a list of sounds that can play\n     when ToD changes\n   * more powerful [filter_location], now accepts radius=, [not], and\n     [filter] to match units at the location\n   * added [deprecated_message] so WML can also trigger the deprecated\n     messages; used to tag macros scheduled for removal\n * user interface:\n   * new sounds for user interface events\n   * added the option to show warnings about deprecated WML usage\n   * added the \"ignore all\" option to continue observing during massive OOS\n   * show total amount of visible villages (patch #698)\n   * added drag & drop to move units\n   * mousewheel now by default scrolls vertically,\n     and horizontally if alt is pressed.\n   * added support for horizontal mousewheel (patch #644)\n   * don't change the wait cursor when moving on the map (bug #8915).\n   * update the highlighted hex after a scrolling with keys or mousewheel\n * WML tools and scripts:\n   * Reorganized: these now live in data/tools/\n   * New tool, macroscope, generates cross-reference reports on macro usage.\n     Among other things, it can be used to find unresolved macro and\n     resource-file references, or spot unused macros and resource files.\n   * New tool, upconvert, handles converting maps and resource file names\n     between versions.  It replaces map_convert.pl, which is now gone.\n     It should be used to update UMC, though it doesn't do a complete job\n     (which requires some human judgment).\n   * New tool to create the unit tree in html, as used for units.wesnoth.org\n     (written by elricz)\n   * The old find-unused-images and find-unused-sounds scripts are deleted\n     (replaced by macroscope).\n   * The Perl random map generator (unmaintained since 2003, only\n     generated old-style single-letter maps) has been removed.\n * miscellanous changes and bug fixes\n   * a friendly healer will now stop poisoned unit to lose HP\n   * a unit that dies while attacking will now correctly play its own death\n   * turn bell can sound if other soundFX are turned off\n   * the first turn starts again with the proper time of day (bug 8637)\n   * removes the scaling handling in the halo, removing quite some code\n   * fixed various problems found by valgrind, note some invalid access\n     are now protected by asserts, so there might be more crashes instead\n     of silent memory corruptions (bug #8715, bug #8756 and bug #8839)\n   * fixed beginning-of-scenario saves containing scenario WML (bug #8698)\n   * fixed \"End Turn\" button clickable after Ctrl-F (bug #6556)\n   * fixed autosaves not getting deleted for last campaign scenario and\n     multiplayer (bug #8762)\n   * Performance: wml compression is done in the helper threads\n     instead of the main thread\n   * Added some protection against crashing when attacking with units with\n     a high or negative amount of hitpoints (bug #6154, bug #7955, bug #8541)\n   * fix skirmisher filtered by terrain not working properly.\n   * fixed Ethiliel not showing up in the scenario \"Vengeance\" of TSG\n   * with a move attack action if the moveto event moves the defender\n     Wesnoth would crash (part 1 of bug #8882)\n   * fix missing filterings on some animations\n   * renamed holy damage type to arcane\n   * increased required version of python from >=2.3 to >=2.4\n   * fixed detection of installed python versions to work on systems\n     that do not have python installed at /usr/ (like MacOSX using fink)\n\nVersion 1.3.1:\n * Campaignd\n   * first argument is number of threads to use, defaults to 5\n * campaigns\n   * Eastern Invasion:\n     * Drowned Planes: the dragon starts on grassland\n     * The Crossing: fixed a bug which prevented the undead leader spawned\n        at turn 8 to have a keep\n     * The Duel: the keep is replaced by a castle tile instead of grass\n   * Heir to the Throne\n     * removed Mountain Pass and Valley of Statues from the repository\n     * added underpinnings of an unlockable, optional, bonus scenario\n     * Battle_for_Wesnoth: allow Asheviere to recruit non-scout units\n     * In Elven Council the leaders are no longer standing in a keep\n       but in a normal castle tile\n   * The South Guard\n     * Proven by the Sword: tell Deoran to go to Westin if the citadel\n       is secured (fixes #7360)\n   * Two Brothers\n     * updated the portrait of Bjarn to match the new mage colors\n     * removed Skeletons as enemies in the first mission on easy, and\n       Skeleton Archer as enemy on hard\n     * added Ghouls as enemies for all undeads\n     * some map updates to make them easier (2nd mission) or look better\n       (all the other missions)\n * editor\n   * allow maps to be loaded from scenario files and written back to them\n   * upon entering a new starting position the underlaying terrain\n     remains unchanged\n   * when overwriting a starting position and undo that action\n      only the terrain was undone, not the starting position that's fixed\n   * flipping a map over the Y axis no longer resizes the map\n   * flipping a map over the X axis uses slightly different filler rules\n   * added the paste option to the edit menu\n   * added the option to split the terrains is groups\n   * the brush size in non-drawing mode is ignored\n   * added an alpha blended preview of the selected terrains\n     upon drawing. The optimal alpha value needs some tuning, so\n     there's a setting, which is not stored in the preferences\n * graphics\n   * missiles now take unit_height_adjust into account\n   * improved layering system for terrain graphics\n   * fixed terrain selection probabilites (patch #617)\n   * stoned units do not use a separate cache\n   * no more \"darkened\" cache. we now overlay terrain/darken.png\n   * added the option to draw overlays on terrains filter by location,\n     selected and mouseover hex\n   * items with a halo have their halo hidden when under a shroud (bug #8523)\n   * the visibility icon of an unit is now properly updated (bug #8107)\n   * terrain\n     * added peaks to the impassable mountains\n     * added bridges crossing swamp and deep water\n     * added farmland\n     * added elvish castle\n   * unit art\n     * added a recruit animation for Skeleton\n     * new death animations: Orcish Assassin, Grunt, Undead Ghoul,\n       Ancient Wose, Elder Wose, Thief\n     * changed name on Dwarvish Warrior art files to Dwarvish Steelclad,\n       to conform to unit .cfg file name\n     * new attack icons: undead axes, undead crossbow, pick axe, glaive,\n       elven staff, mace-and-chain\n     * new baseframes: all Mages, Footpad\n     * new and changed animations:\n       * Elvish Hero: melee attack\n       * Elvish Sorceress line: magic shield\n     * updated portraits: Troll\n   * other images\n     * animate-able campfire\n     * crown icons for heros and expendable allied leaders\n     * star shaped \"ellipses\" for leaders and hero units\n     * updated and added many misc items\n     * modified hex-grid\n     * slightly modified logo\n   * fix gryphon not being in the center of their hex\n   * fixed incorrect WML in some units causing female variations to use male\n   * fixed some cases where fog was updated without being redrawn\n * language and i18n:\n   * updated translations: British English, Catalan, Czech, Danish, Dutch,\n     Estonian, French, German, Greek, Italian, Polish, Russian, Serbian,\n     Slovak, Swedish\n   * updated DejaVuSans font to 2.15\n   * fixed huge list of spelling mistakes in the en_US version\n   * allow sighted messages to be translated with correct plural form\n     (bug #8161)\n   * moved the translation for campaign-specific units into the\n     campaign textdomain (some campaigns did still use the\n     wesnoth textdomain for their units)\n   * made the unit generated names translatable\n   * switch to mainly using single space\n * multiplayer\n   * game management\n     * replace \"Downloading next level...\" by \"Receiving data...\"\n       when scenario don't have next_scenario\n     * replace \"Downloading next level...\" by \"Downloading next scenario...\"\n     * fixed controller change not sent to all clients (bug #8138)\n     * client now tells the server if a game ended in victory or defeat\n     * configurable castle size for random map generator (patch #598, FR #3232)\n     * team names translation now supported\n     * sped up the lobby, the lag is much lower now (patch #676 and patch #677)\n   * scenarios\n     * scenarios can set faction, recruit, leader, and some other\n       initial settings previously ignored in multiplayer\n     * added option to have random time of day in begin of multiplayer game\n   * maps:\n     * new multiplayer maps: The Manzivan Traps, 4p Hamlets\n     * revised maps: Blitz, Charge, Den of Onis, Hamlets, Meteor Lake,\n       Sablestone Delta, Sulla's Ruins, Wesbowl\n     * made the AI recruit less scouts by setting the village_per_scout\n       parameter\n   * Wesbowl: the respawned units are fully healed again (bug #7776)\n * Python AI\n   * Added various input validations\n   * Set Python errors upon error\n   * added support for optipng optimization in the compilation process\n * terrain system\n   * The entire underlaying system has been converted to a new system,\n     this might render some UMC broken, read this forum thread for more details\n     http://www.wesnoth.org/forum/viewtopic.php?t=14910\n   * Terrain of the starting position can be changed in the map,\n     the automatic conversion to a keep is no longer done\n   * New definition for the maps in terrain-graphics\n   * All keeps have their own letter\n   * Added wildcard matching support in a few cases\n   * Added support to customize the village mouse-over texts\n     depending on the ownership\n   * Added a conversion script to convert old maps\n * units:\n   * balancing changes:\n     * implemented the holy damage type redesign as discussed on the mailing list\n     * increased the pierce resistance of the Gladiator line from -10% to 0%\n     * decreased the cold resistance of the Armageddon Drake from -30% to -50%\n     * increased the HP of the Longbowman from 45 to 51\n     * decreased the XP requirement of the Longbowman from 80 to 68\n     * increased the HP of the Master Bowman from 58 to 67\n     * decreased the HP of the Arch Mage from 57 to 54\n     * removed the Shock Trooper line from random_leader\n     * increased the melee attack of the Shyde from 4-2 to 6-2\n     * increased the ranged slow attack of the Shyde from 7-2 to 6-3\n     * increased the ranged magical attack of the Shyde from 7-3 to 8-3\n     * increased the melee attack of the Enchantress from 5-2 to 6-2\n     * increased the melee attack of the Sylph from 5-3 to 6-3\n     * increased the ranged slow attack of the Sylph from 6-4 to 6-5\n     * increased the HP of the Sylph from 58 to 60\n     * increased the XP requirement of the Guardsman from 42 to 47\n     * increased the HP of the Stalwart from 48 to 54\n     * increased the XP requirement of the Stalwart from 65 to 85\n     * increased the HP of the Sentinel from 56 to 68\n     * removed the Stalwart line from random_leader\n     * increased the XP requirement of the Gryphon Rider from 36 to 38\n     * increased the HP of the Gryphon Master from 46 to 51\n     * decreased cost of the Mudcrawler from 9 to 5\n     * Dark Adepts no longer get the 'strong' trait\n     * decreased the HP of the Shadow from 26 to 24\n     * added the skirmisher ability to the Shadow line\n     * increased the melee attack of the Walking Corpse from 5-2 to 6-2\n     * made the Walking Corpse line get the fearless trait\n     * increased the cost of Walking Corpses from 6 to 7 gold\n     * increased the HP of the Goblin Rouser from 26 to 31\n     * increased the melee attack of the Goblin Rouser from 5-3 to 6-3\n     * increased the moves of the Troll Rocklobber from 4 to 5\n     * decreased the HP of the Troll Rocklobber from 53 to 49\n   * adapted WML to use [if] statements to differentiate hit and miss frames\n   * new traits\n     * healthy (+3HP, +4 rest healing), fearless (ignore unfavorable ToD)\n   * new units\n     * added the Armageddon Drake (not used in any mainline eras)\n     * added dwarvish walking corpse/soulless variations\n   * added a generic macro to have a standard filter for all idle anim\n   * fixed a bug which prevented a Mermaid Siren picking up a storm trident\n   * fixed a bug which caused the slow effect being applied twice (bug #8458)\n * user interface\n   * use \"Save Replay\" instead of \"Save Game\" when asking to save a replay\n     (bug #7256)\n   * fixed enemy Gold shown twice in debug mode in status table (bug #6895)\n   * added an option to hide minimaps in the multiplayer lobby\n   * added menu items for saving the current map\n   * added turbo speed setting and changed ui accordingly\n   * turn bell moved to sound tab in preferences\n   * new volume slider for the turn bell\n   * disabled inactive sliders instead of hiding them\n   * sliders can be adjusted with keyboard (left and right arrow)\n   * sidebar reports related to gold, units, villages and time\n     get greyed out during other team's turns\n   * improve the tiny gui support (resolution of 320x240 pixels)\n   * when sighting friendly units, the message is now blue\n   * show leader name in statistics title (patch #604, FR #6932)\n   * show the team a side belongs to in the status table.\n   * show leader's name and colour at status table even when that team is fogged\n     (patch #605)A\n   * changed the zoom hotkeys from 'z', 'x' and 'c' to '+', '-' and '0'\n   * fix the completion when controlling multiple sides (bug #8101, patch #653)\n   * smarter focus handling when user input is irrelevant to the current focus\n     but relevant to another widget\n   * fix the \"keylogger\" effect when joining the MP Lobby\n   * menus can now stay scrolled to the bottom if they were already scrolled\n     to the bottom\n   * scrolling performance improved\n   * overall game performance improved when many units are visible\n   * better performance when mouse is over a unit that sees many enemy units\n   * show full username at bottom of screen when moused over in MP Lobby\n   * animations draw faster now and the speed is independent of the resolution\n   * fog/shroud is cleared after attack-move (bug #7131)\n   * made some tooltips visible again (bug #6702 and bug #8380)\n   * send a whisper message to a player when double clicked on the player list\n * friends list\n   * added a friend list in MP lobby, they will display a special icon in lobby,\n     and you can be warned when they join the lobby even when not receiving\n     lobby joins\n   * added an option to specify what you want to see as joins: all, friends,\n     none\n   * added a sub tab of multiplayer to the preferences menu to view and edit\n     your friends and ignores list\n   * if you choose to sort the lobby list your current login name will be\n     displayed on the top of the list\n * WML engine\n   * fixed era events not working on non hosts\n   * added the the ability of passing a conditional statement in the [option]\n     child of [message] if show_always=no to show this option only if the\n     statement is passed.\n   * added location range filter to [filter_location] in standard unit filter.\n   * added prerecruit event that takes place after the unit is created but\n     before it is displayed.\n   * added ability to define color ranges and palettes in scenario, units,\n     and unit modification effects.  Added ability to add image modifications\n     in a unit modification [effect] tag\n   * SUF can now filter on anything that is also available throught\n     unit variables, using a [wml_filter] block\n   * overhaul of the team coloring engine.  Now it is possible to apply\n     multiple TC to an image.\n   * added fourth color in team_rgb definitions for representative color\n     in minimap\n   * added a horizontal/vertical flip function to ImagePathWML\n   * added a 'hide_help' key that prevents a unit type from being listed\n     in the in-game help (bug #5701)\n   * added an 'allow_new_game' key (default=yes) to prevent [multiplayer]\n     scenarios from showing up in the multiplayer game creation interface\n     (FR #6397)\n   * new [set_specials] tag to allow custom specials in [effect] tags\n   * new 'remove_specials' key to allow the removal of specials in [effect] tags\n   * obsolete the 'set_special' key in [effect] tags\n   * correct handling of UTF8 filenames under windows\n   * animations can now use standard unit filters\n   * animations can now use standard unit filters on the secondary unit\n   * animations can now use standard unit filters on any neighbouring unit\n   * fighting animations can now be filtered by swing number, damage done and\n     normal attack filters (both attacker and defender)\n   * made some animation parameters progressive (allows a value to be changed\n     gradually to another value over time)\n   * new progressive parameters: 'alpha' (opacity of a frame),\n     'offset' (the position relative to the faced hex), 'blend_color'\n     and 'blend_ratio' (to mix a given color with the frame)\n   * units can now have a recruit animations that will be played on unit recruit\n   * units now have idle animations, played when they've been idle for some time\n   * units now have leveling up animations\n   * units can now have victory animations, usable with the WML tag\n     'victory_anim'\n   * units can now have healed animations, used when they get healed\n   * units can now have poison animations, used when they suffer poison damage\n   * [event]s can now be written also inside [era]s (the [event]s are included\n     in every scenario played using that era)\n   * new operations for set_variable: divide and modulo\n   * Animations now use duration= tag instead of begin= and end= (backward\n     compatible)\n   * Animations now have a frequency= filter to allow to tweak relative rarety\n   * [message]s now use the duration= tag instead of [delay]ing afterwards\n   * the filtered unit can be accessed in SUF using $this_unit\n   * the primary unit can be accessed in events using $unit\n   * the secondary unit can be accessed in events using $second_unit\n   * added support for random_start_time in [scenario] (feature request #8024)\n   * extended label to support team only and colors\n   * gender-specific forms for trait names are now possible.\n   * setting a WML variable to a random value now works correctly in MP games\n   * text displayed when a unit is ambushed is now customizable with the new\n     alert= key of the [hides] ability (FR #8264 2.)\n   * unit animation terrain filter works properly again.\n   * unit animation terrain filter now supports wildcard matching.\n   * the encountered terrains are now written in a new format.\n     this means the user has to rediscover all available terrains.\n   * fixed a bug which returned wrong values if a random number was negative\n   * max level advancements now raise the advance and post_advance events\n   * [effect] can now remove attacks with the remove_attacks key\n   * [unstore_unit] can now try to level a unit and does so by default (bug #7426)\n * sound\n   * new or revised sounds: morning star, holy magic.\n   * add advanced sound tab to pref allowing you to play with sample_rate and\n     buffer_size options\n * misc:\n   * --validcache runtime switch to force assumption that cache is valid\n   * add two new debug command set_var and show_var to check variables\n     within the game easily\n   * better handling of SDL_ListModes return code (no user impact)\n   * first turn of a game is saved again (fixes bug #7909 and bug #8117)\n   * reduce CPU usage by removing calls to SDL_GetTicks for idle animations\n   * changed network thread management to be more scalable, both with\n     an upper and lower number of threads\n   * enabled python as default, to disable it use --disable-python\n   * various code cleanups\n   * replaced KDE/Gnome desktop support with generic freedesktop standard\n   * if a unit gains enough XP to gain 2 levels, this will be done directly\n\nVersion 1.2:\n * campaigns:\n   * Two Brothers:\n     * updated portraits for Arne and Bjarn\n   * Under the Burning Suns:\n     * changed some maps to fix glitches\n     * fixed some image paths\n     * new naga hunter portrait from Ranger M\n     * uses the new lava transitions\n * graphics:\n   * terrain:\n     * new ice transition\n     * modified swamp color\n   * units:\n     * new team-colored base-frames: grand marshal, human assassin, sergeant\n     * halos for elvish shaman line attacks\n     * new lightning bolt for Delfador\n     * new fireball attack\n     * new attack icons for wose crush and troll hammer\n   * misc:\n     * new icons for preferences\n     * updated hex grid\n * language and i18n:\n   * new man pages: Russian\n   * updated translations: Catalan, Dutch, French, German, Greek, Italian,\n     Norwegian, Russian, Slovenian\n   * updated DejaVuSans font to 2.13\n * multiplayer maps:\n   * revised maps: Blitz, Charge, Den of Onis, Hornshark Island, 4p Morituri,\n     Meteor Lake, Lagoon\n * multiplayer\n   * fixed some automove bugs (bug #7494 and bug #7251)\n   * fixed passing controller in mp campaign (bug #7936)\n   * added help strings so that long map names can be read\n     from the MP Create screen\n   * used small bold text for \"Load Game...\" item\n   * support added for allow_new_game=no (for MP Campaigns)\n * misc:\n   * fixed the AI usage of attack_weight (bug #7953)\n   * the displayed terrain now has a space before the opening bracket\n   * fixed a crash when image is missing (patch #647, thanks to pauli)\n   * fixed a crash when attacking a sea serpent (bug #8075) (patch #648)\n\nVersion 1.1.14:\n * campaigns:\n   * Eastern Invasion:\n     * added a starting position for the seventh enemy (bug #7918)\n   * Heir to the Throne:\n     * fixed the signpost image in the narration (patch #638)\n   * The Rise of Wesnoth:\n     * fixed bad glitches in the map Rise of Wesnoth\n   * The South Guard:\n     * made it possible to finish \"Into the Depths\"\n       even without enough gold to pay the trolls\n * graphics:\n   * terrain:\n     * new special transition between chasm and dwarvish castle\n     * new lava transitions (looks like completely new lava)\n     * fixed glitches with impassable mountains at the edges of maps\n     * resolved all glitches with cave walls\n   * units:\n     * new teamcolored baseframes: Halberdier, Heavy Infanfantry,\n       Pikeman, Shocktrooper, Siegetrooper\n     * new baseframe: Yeti\n     * some new skulls for skeleton units\n   * misc:\n     * new attack icon for wooden sword\n     * new dwarven gate\n     * new portrait for Asheviere\n     * new, better looking hexgrid\n * language and i18n:\n   * switch back to non-utf8 locale definition to fix some problems,\n     --enable-dummy-locales should work again\n   * updated man-pages: French, German\n   * updated translations: Czech, Esperanto, French, Greek, Italian, Russian\n * multiplayer maps:\n    * revised multiplayer maps: 3p Morituri, 4p Morituri, Blue Water Province,\n      Den of Onis, Hexcake, Isar's Cross, Merkwuerdigliebe, Meteor Lake,\n      Sablestone Delta, Sulla's Ruins\n * misc:\n   * fixed a crash in the recall event_handler\n   * fixed game crashes during AI turn (#7988)\n   * fixed graphic glitch with large units\n   * fixed sighted event with delay shroud during move&attack\n     and also only move\n   * add script to strip ICC profiles from images\n   * modified wesnoth-pngcrush to use optipng instead of pngrewrite\n     (a lot slower than the old script, but good compression results)\n\nVersion 1.1.13:\n * graphics\n   * updated races to support team color: elves, goblins, lizards, ogres,\n     orcs, trolls, woses, many dwarves, many humans, many undead, and galleons\n   * new baseframes: elvish shaman line, troll whelp line, wose line, galleons,\n     ogres, many other units\n   * new or improved death, attack, and defense animations for various units\n   * new attack icon: ballista\n   * terrain\n      * various minor terrain and item improvements\n      * resolved the worst glitch between chasm and cave-walls.\n   * additional star-shaped ellipses for designating special units.\n * language and i18n:\n   * updated manpages: French\n   * updated manual: Italian\n   * updated translations: Czech, Esperanto, French, German, Italian\n   * updated DejaVuSans font to 2.12\n   * reworked language files\n   * added descriptions to the weapons of some campaign units\n     to make sure they are correctly translated\n * multiplayer maps:\n    * revised multiplayer maps: Charge, Hamlets, Hornshark Island, Silverhead\n      Crossing, Sulla's Ruins, 3p Morituri\n * misc bugfixes:\n   * several minor bugs\n   * other bugs people did forget to mention that they were fixed\n   * unit frames are now centered instead of aligned on upper left corner\n\nVersion 1.1.12:\n * user interface\n   * move chat line slider bottom (Multiplayer options)\n   * display started game with vacant slot with yellow font\n   * fix allow to move other player's (bug #6451)\n * sound\n   * add sample_rate option (read only) to solve cracking sound\n     on some sound card (Intel HDA, cmipci, ...) (bug #7507)\n * graphics\n   * new portraits: Human Bowman\n   * unit animations: Elven Hero's melee attack, Dragonguard,\n     Saurian mages, Young Ogres, Troll Warrior, Troll Rocklobber\n   * team color: Trolls, Woses, Orcish Assassin, Thief, Rogue and\n     other outlaws\n   * new/modified attack icons: dark magic, drake, javelins, ...\n   * other: new sceptre\n * multiplayer\n   * send a server message each time side controller change (fr #7358)\n   * fixed green game bugs\n   * fixed new host doesn't get control when original host left (bug #7351)\n   * fixed crash when transfering a side (bug #7346, bug #7455)\n   * fixed message bell sounding even on ignored messages (bug #7378)\n * language and i18n:\n   * new manpages: Dutch\n   * updated translations: Esperanto, French, German, Greek, Italian,\n     Norwegian, Japanese, Polish, Slovenian, Turkish, Valencian\n   * updated MANUAL: Czech, German\n   * updated DejaVuSans font to 2.11\n * multiplayer maps:\n    * revised multiplayer maps: Hamlets, Meteor Lake, Sulla's Ruins,\n      Silverhead Crossing, Isar's Cross, Paths of Daggers\n * engine changes\n    * fixed the terrain defense alias to be used properly\n    * fixed aggression calculations (bug #7432)\n * misc bugfixes\n   * fixed malfunctioned sighted event during shroud (bug #4398)\n   * fixed stats in replay counted not from 0 (bug #7245)\n   * fixed replay end showing scenario objectives (bug #6937)\n\nVersion 1.1.11:\n * multiplayer\n   * fixed no vacant slots in MP lobby for reloaded game (bug #7286)\n   * fixed transfering control (bug #6577, bug #7046)\n   * fixed Computer vs. Computer odd side effects (bug #7156)\n * user interface\n   * fixed wrong turn number in multiplayer lobby with re-loaded game (bug #7229)\n   * fixed graphical glitches when sending a single '*' message (bug #7197)\n   * fixed blue orbs when given control of another side (bug #6352)\n   * fixed program freeze when campaign server is unreachable (#bug #6291)\n * Python AI\n   * there is now wesnoth.get_version()\n * WML engine\n   * [event]s can now be written also inside [era]s\n     (the [event]s are included in every scenario played using that era)\n   * complex missiles frames are now in macros\n * language and i18n:\n   * updated translations: Bulgarian, Catalan, Dutch, French, German,\n     Italian, Japanese, Russian, Spanish, Swedish\n   * updated MANUAL: Japanese, Swedish\n\nVersion 1.1.10:\n * campaigns:\n   * Heir to the Throne\n     * made it a lot harder to kill Li'sar in Ford of Abez\n       by giving her reinforcements more often\n   * The South Guard\n     * Animation for Deoran's Mace attack (from special AMLA)\n * language and i18n:\n    * new translations: Valencia\n    * updated translations: Czech, English (British), Finnish, German, Italian,\n      Japanese, Polish, Portuguese (Brazil), Slovak, Serbian, Swedish\n    * new or updated man pages: Czech, English (British), French, German,\n      Italian, Japanese, Portuguese (Brazil), Slovak, Swedish\n    * removed (outdated) man pages: Hungarian\n    * updated MANUAL: Swedish\n * multiplayer maps:\n   * revised multiplayer maps: Den of Onis, Hamlets, Meteor Lake, Sablestone\n     Delta, Island of the Horatii, Castle Hopping Isle, Siege Castles, King of\n     the Hill, Loris River, Forest of Fear, Waterloo Sunset, Merkwuerdigliebe\n   * fixed the leader lists in Wesbowl to match current factions\n * multiplayer\n   * scenarios can set faction, recruit, leader, and some other\n     initial settings previously ignored in multiplayer\n * WML engine\n   * now \"ai turn\" events are fired for all AIs (#6738)\n   * recruitment_pattern inside [ai] can now change mid-scenario (#6669)\n * Graphics:\n   * New dwarven castle\n   * New Swamp overlay tiles\n * Python AI\n   * there is now unit.stoned\n\nVersion 1.1.9:\n * campaigns\n   * Heir to the Throne\n     * fixed gold typo in Dwarven Doors (#6481)\n     * Isle of the Damned: removed merman recall on HARD\n   * Two Brothers\n     * fixed showing the objective \"kill the mage to get the key\"\n       if you already obtained the key (#6704)\n * multiplayer maps:\n   * revised multiplayer maps: Sablestone Delta, Den of Onis\n * language and i18n:\n   * updated translations: Dutch, Esperanto, Finnish, French, German, Italian,\n     Japanese, Norwegian, Polish, Russian, Serbian, Slovak, Slovenian, Spanish\n   * new manual: Japanese\n   * updated manual: Portuguese (Brazil)\n * units:\n   * balancing changes:\n     * removed Necrophage from random_leader\n   * added profile key to female thief to prevent use of male image\n * user interface\n   * changed the hotkey for 'end turn' from 'alt+space' to 'ctrl/cmd+space'\n     because it interferes with several common window managers\n   * changed the hotkey for 'repeat recruit' from 'ctrl+shift+r' to\n     'ctrl+alt+r' since shift toggles accelerated mode and produced\n     an animation glitch with this hotkey; this needs to be considered\n     for future hotkey changes/additions (see bug #6312)\n * misc\n   * fixed --with-desktopdir and --with-icondir,\n     it still needs --with-kde or --with-gnome (#6499)\n   * correct handling of UTF8 filenames under windows\n   * multiplayer game management: client now tells the server\n     if it ended in victory or defeat\n\nVersion 1.1.8:\n * campaigns\n   * Eastern Invasion:\n     * replaced unit \"Lord\" by \"General\" (#6132)\n   * The South Guard:\n     * fixed a few broken image paths\n     * scenario 2:\n       * made the enemy leader water-phobic, so he won't charge fishes\n       * moved away a footpad so he won't steal the keep at turn #1\n     * Jarek no longer acts loyally (#6408)\n   * Heir to the Throne\n     * fixed fire sword that can't be picked up (#6234)\n     * increased income for Snow Plains enemy\n     * removed obsolete maps\n     * Dwarven Doors balancing tweak: AI gets more income, less gold\n     * Home of the North Elves: only need to resist one turn, not all turns\n   * Under the Burning Suns:\n     * scenario 3: Undead leaders can't move on \"very hard\" difficulty\n   * The Rise of Wesnoth\n     * fixed several more portrait issues\n     * standardized \"speaker\" usage in messages\n     * removed recall of knights in underground scenarios\n     * added hero icon to Lt Aethyr in Clearwater Port\n     * fixed missing galleon images\n     * fixed missing story image in Rough Landing\n     * fixed missing music in the last scenario\n * graphics\n   * new attack icons: Dragonstaff, Drake Flaming Claws, Faerie Fire,\n     Human Fist, Scimitar, Whip\n * language and i18n:\n   * updated translations: British English, Catalan, Czech, Dutch, Esperanto,\n     Finnish, French, German, Hungarian, Italian, Japanese, Latin, Norwegian,\n     Polish, Portuguese (Brazil), Russian, Slovak, Slovenian, Spanish, Swedish\n   * updated man pages: Swedish, German\n   * updated manual: Italian\n * multiplayer maps:\n   * revised multiplayer maps: Amohsad Caldera, Blitz, Caves of the Basilisk,\n     Charge, Den of Onis, Hamlets, Hornshark Island, 4p Moritori,\n     Merkwuerdigliebe, Sablestone Delta, Silverhead Crossing\n * music & sound\n   * new or improved sounds: elf hit, yeti hit & die, magic missiles, poison,\n     stoned, gryphon hit & die & shriek, orc hit & die, small orc hit & die\n * engine changes\n   * added support for proper healing animations\n   * team colouring now applied correctly everywhere, such as in recruit dialogs\n   * new (optional) image path syntax to allow team colouring of images\n     anywhere, for example in campaign icons\n * AmigaOS4 support (patch #564)\n * user interface\n   * disable inactive sliders instead of hiding them\n   * sliders can be adjusted with keyboard left and right\n   * improved the parsing speed of the help dialog\n\nVersion 1.1.7:\n * campaigns\n   * Heir to the Throne\n     * added 2 mermen to Bay of Pearls on hard\n     * lowered turn limits on Scepter of Fire to something sane\n * language and i18n:\n    * updated translations: French, German, Portuguese (Brazil),\n      Spanish, Swedish\n * multiplayer maps:\n    * revised multiplayer maps: Amohsad Caldera\n * units\n    * balancing changes:\n      * removed White Mage and Mage of Light from random_leader\n      * removed special defense values from the Merman Hoplite\n      * decreased the melee attack of the Merman Javelineer from 8-3 to 8-2\n      * increased the melee attack of the Merman Entangler from 7-3 to 8-3\n      * increased the ranged attack of the Merman Entangler from 7-3 to 8-3\n      * increased the melee attack of the Necrophage from 6-3 to 7-3\n      * decreased the XP requirement of the Necrophage from 66 to 40\n * music & sound\n   * new or improved sounds: lich hit & die, bite, tail\n * graphics\n   * new village flag animation\n   * some units and animations updated for team color support\n * fixed bug that caused the game to freeze when a leader\n   takes part in a fight\n\nVersion 1.1.6:\n * campaigns\n   * Heir to the Throne\n     * added a secret, powerful item to one of the later scenarios\n     * ensured minimum gold of 500 to start campaign climax scenarios\n       (after Elven Council)\n     * expanded list of units that can obtain the Fire Sword\n     * added an option dialog to let you choose who gets the Fire Sword\n   * The Rise of Wesnoth\n     * fixed missing objectives for Cursed Isle\n   * The South Guard\n     * fixed Naga position in Hard mode for Tidings Good And Ill\n * multiplayer maps:\n   * renamed Smallolof to Amohsad Caldera\n   * revised multiplayer maps: Caves of the Basilisk, Cynsaun Battlefield,\n     Sulla's Ruins, Hornshark Island, 3p Morituri, Blue Water Province,\n     Castle Hopping Isle, Forest of Fear, Amohsad Caldera, Hexcake\n * units\n   * balancing changes:\n     * removed special defense values from the Merman Fighter line\n     * decreased impact resistance from 30% to 10% for the\n       Heavy Infantryman line\n * graphics\n   * updated armor sprite\n   * new attack icons: Cleaver, Pitchfork, Quarterstuff, Wooden Sword\n   * new tropical forest\n * user interface\n   * added several default hotkeys\n   * changed the hotkey for 'Update Shroud Now' from 'ctrl+k' to 'S'\n   * moved the hotkey definitions into its own file\n   * added illuminated cave to help.cfg\n   * added illumination description to lava in help.cfg\n * language and i18n:\n   * updated translations: Finnish, French, German, Hungarian,\n     Latin, Polish, Portuguese (Brazil), Swedish, Turkish\n   * updated MANUAL: Swedish\n   * updated man pages: German, Swedish\n\nVersion 1.1.5:\n * WML engine\n   * all [event] tags shall perform complex substitution\n   * new key in [advancement] to prevent AMLA if the unit\n     can advance to another unit.\n * language and i18n:\n   * updated translations: Czech, Finnish, Hungarian, Italian,\n     Latin, Norwegian, Portuguese (Brazil), Spanish, Swedish\n * campaigns\n   * Tutorial\n     * the hero icon is explained\n   * Heir to the Throne\n     * not being able to recruit gryphons is further explained\n       in Northern Winter\n     * made Dwarven Doors entrance accessible to mountedfoot\n   * The Rise of Wesnoth\n     * gave hero icons to unkillable heroes (possibly missing some)\n     * fixed lack of death objective for Lord Typhon in A Final Spring (#6108)\n     * Added new terrain to Temple of the Deep and The Ka'lian\n     * Removed some cave terrain in The Sewer\n * multiplayer maps:\n   * config file update: Sulla's Ruins\n   * revised multiplayer maps: Charge, Meteor Lake, King of the Hill,\n     Loris River, Paths of Daggers, Siege Castles, Waterloo Sunset\n * units\n   * fixed zoc/no zoc ellipses\n   * balancing changes:\n     * Increased HP of the Footpad from 28 to 30\n     * Increased melee and ranged damage of the Footpad from 4-2 to 5-2\n     * Increased HP of the Outlaw from 40 to 42\n     * Increased melee damage of the Outlaw from 7-2 to 8-2\n     * Added marksmanship to the Drake Glider branch\n     * Hurrican and Sky Drakes now have same defense and movement costs\n       on fungus and in caves like other drakes.\n * music & sound\n   * new or improved sounds: holy magic, thorns, pincers\n * miscellaneous\n   * added a generic scenario music macro and table of contents to utils.cfg\n   * added an advanced preference to disable mouse scrolling\n   * --no-delay and --exit-at-end options added for benchmarking\n * graphics\n   * new attack icons: Curse, Drake Claws, Human Crossbow, Human Throwing\n     Dagger, Ink, Orcish Bow, Orcish Crossbow, Orcish Spear, Slam, Tentacle,\n     Thunderstick, Undead Dagger, Waterspray, Web\n\nVersion 1.1.4:\n * language and i18n:\n   * updated translations: Czech, German, Slovak\n * help menu\n   * It is now possible to specify generated topic sorting by title\n     separate from sorting all of the topics. This allows a sorted list\n     of generated topics to be placed after a fixed list of topics.\n   * The Abilities and Traits sections were changed so that the overviews\n     come first\n   * Fixed a bug where the wrong ability description could be extracted\n     from a unit type with multiple abilities. This was causing an\n     incorrect description for Illuminate in Help.\n   * Units are now sorted first by race and then by name.\n * WML engine\n   * modify ranged animation timing, all animations (attack, defend,\n     missile, block have the same clock)\n   * leading_image is deprecated, please use the new [leading_anim] animation\n * multiplayer maps:\n   * revised multiplayer maps: Charge\n * units\n   * fixed a problem with unit type description being overwritten\n     by the unit description (name) when saving and reloading.\n   * tweaked the movement type of Nagas and Ghosts\n\nVersion 1.1.3:\n * campaigns\n   * Two Brothers\n     * made the 2nd scenario easier on easy: more starting gold,\n       4 extra villages, +10 income, less villages for the ai\n     * added a hero icon for the dark adept\n     * improved dialogs in the 2nd scenario\n     * added a move_unit_fake to have Brenda not appear out of nowhere\n       (easy only)\n     * improved dialogs in the 3rd scenario\n   * The South Guard\n     * improved/additional dialog\n     * new portraits\n   * Heir to the Throne\n     * Blackwater Port: secret bonus for beating the leader on hard\n     * Isle of the Damned: adjusted temple contents to sync up with difficulty level\n     * Scepter of Fire: major rebalance to relax the pace of the level\n     * Home of the North Elves: army camps are invincible, elves defend you better\n     * Marked heroes with {IS_HERO} macro\n     * Increased minimum gold for most of campaign Act 2\n   * The Rise of Wesnoth\n     * Fixed portrait paths\n     * Fixed map image paths\n     * Switched to use of profile key in single unit definitions\n     * Minor text cleanups\n   * Under the Burning Suns\n     * New unit artwork for Kaleh and Nym\n     * Shrunk portraits to fit the Wesnoth standard of other campaigns\n     * Removed Skirmish Ability from Desert Rider and Desert Outrider\n     * Added Skirmish Ability to Desert Horseman\n     * Increased melee damage of Desert Horseman from 4-3 to 5-3\n     * Increased HP of the Desert Horseman from 45 to 50\n     * Minor text cleanups\n * graphics\n   * impassable mountain terrain\n   * portraits: troll, assassin, dwarf-guard from old UtBS\n   * death animations: vampire bat, goblin impaler, sea serpent, skeleton\n   * new attack animations: goblin impaler, orcish slurbow & archer,\n     elder mage, master-at-arms, white mage\n   * timing in most animations changed to make them look smoother\n   * minor changes or filler frames added to several animations\n   * new attack icons: bow, club, dark missile, druid staff, elven sword,\n     entangle, flaming sword, frenzy, lance, human sabre, human throwing\n     dagger, mace, morning star, mud glob, orcish dagger, orcish greatsword,\n     orcish sword, pike, pincers, plaguestaff, sling, thorns, torch, touch,\n     wail, zombie touch\n   * hitpoint distribution graphs under Damage Calculations\n   * improvements to loadscreen progressbar\n   * new selection style for menu listboxes\n   * many units and animations updated for team color support:\n   * units can now have standing animations that are used when standing\n * multiplayer maps:\n   * added multiplayer maps: 8p Morituri, Waterloo Sunset, Caves of the Basilisk,\n     Isar's Cross, Merkwuerdigliebe\n   * removed multiplayer maps: Divide and Conquer\n   * revised multiplayer maps: Blitz, Charge, Cynsaun Battlefield, Den of Onis,\n     Hamlets, Hornshark Island, Silverhead Crossing, Sullas Ruins, Island of the\n     Horatii, 3p Morituri, Clash, Lagoon, The Wilderlands, Crusaders' Field,\n     Sablestone Delta, King of the Hill, Loris River, Paths of Daggers,\n     Siege Castles, Waterloo Sunset\n * music & sound\n   * new or improved sounds: thunderstick and dragonstick, fist, club, hatchet,\n     throwing knives, zombie hit, bow, orcish bow + fire bow, wolf bite, claws,\n     wose attack & hit & die, dwarf hit & die, sling, big sling, crossbow +\n     fire crossbow, sword, drake hit, naga hit & die, axe, torch, big dark magic,\n     gryphon hit & die, human hit & die & female versions & old male versions,\n     goblin hit & die, horse hit & die\n   * minor edits to several sounds\n   * support for randomly chosen variations of sounds\n * language and i18n:\n   * new translations: Filipino, Galego\n   * updated translations: Czech, Dutch, Finnish, French, German, Italian,\n     Korean, Norwegian, Portuguese (Brazil), Romanian, Spanish, Swedish, Turkish\n   * updated man pages: Swedish\n   * updated manual: Swedish\n * units\n   * fixed the resistances of the Sky Drake line\n   * increased the holy resistance for units with holy attacks\n     to 40% for level 2 and 60% for level 3\n   * balancing changes:\n     * decreased HP of Drake Flare from 62 to 54\n     * decreased HP of Drake Flameheart from 82 to 72\n     * increased HP of Fire Drake from 54 to 63\n     * increased HP of Drake Inferno from 68 to 82\n     * decreased HP of Elvish Fighter from 34 to 33\n * Wesnoth engine\n   * new unit display graphic engine...\n   * added unit cost to help\n * Wesnoth server\n   * disallowed names, accepted versions, redirected versions, proxy versions,\n     and ip bans can now use '*' and '?' for wildcard matching\n   * host changes automatically if game creator leaves => no disconnections\n * WML improvements\n   * interpret the variables/arrays in a few more tags\n   * floating damage/heal or status can be printed over a modified unit using\n     the 'text', 'red', 'blue', and 'green' keys in [unstore_unit]\n   * store_locations now stores terrain as well as x,y\n   * [effect] can now apply_to movement_costs, defense and resistance\n   * when no missile frame is specified, we don't use a default arrow anymore\n * multiplayer settings:\n   * two additional MP timer settings, time reservoir limit and action bonus:\n     * Reservoir prevents the turn timer from exceeding an upper limit.\n     * Action bonus is added after turn for each attack, capture, and recruit.\n   * share view/map option removed from multiplayer create screen\n   * slider for each player to adjust their base income\n * misc\n   * fix alt key under Mac OS X\n   * help contents available from title screen\n   * preferences available from multiplayer lobby\n   * new /help command in mp lobby to get info on available commands\n   * :mute command to silence observers\n   * new --turns= commandline parameter\n   * conditional statements in animation syntax\n   * intelligent autosaves and menu integration\n\nVersion 1.1.2:\n * campaigns\n   * campaigns removed from mainline: Son of the Black Eye, The Dark Hordes\n   * campaigns added to mainline:\n     * The South Guard\n     * Under the Burning Suns\n   * new tutorial replacing the old one\n   * Eastern Invasion\n     * rewrote dialogue in Lake Vrug, Evacuation, and The Drowned Plains\n     * redid cave maps to take advantage of new terrains\n     * redid some outdoor maps to be more interesting\n     * gave an early finish bonus in scenario Captured\n   * Heir to the Throne\n     * switched over to [music] tag and removed outdated music choices\n     * new story art\n     * Isle of Anduin - added destruction to the map\n     * Northern Winter - added turns for balancing\n     * Scepter of Fire - enemies have less gold for balancing\n     * Swamp of Dread - smaller map for faster but more intense gameplay\n     * minor gameplay improvement for Swamp of Dread\n     * removed Mountain Pass and Valley of Statues from the campaign\n     * started to update dots on the big map\n   * The Rise of Wesnoth\n     * Replaced all occurences of the Demilich with the normal Lich\n     * Updated path information\n     * updated music tags to new format and removed outdated music choices\n   * The South Guard\n     * bugfixes, and clarification of objectives\n     * switched to using the {IS_HERO} macro\n     * all the unit names are now translatable\n     * made translatable some forgotten strings\n     * switched over to [music] from music=\n       got rid of deprecated music and wired in new music.\n     * Proven By The Sword: fixed recall of Javelineers\n     * removed the unneeded Dread Lich\n     * added custom SG flag\n     * altered the first scenario so mermen are more useful/interesting.\n   * Two Brothers\n     * switched to using the {IS_HERO} macro\n     * changed music in all scenarios\n     * allowing to recruit Footpads to be better able to fight skeletons\n     * 2nd mission: added new objective after seeing the Dark Adept\n     * 3rd mission: changed guards to be outlaw units\n     * 3rd mission: 6 extra turns after killing the leader, this should allow\n       to free Bjarn even if Arne was not involved in the main battle\n   * Under the Burning Suns\n     * new unit images: Crawling Horror\n     * copying other Desert Elves, increased melee damage and\n       decreased ranged damage for Desert Shaman/Druid/Shyde/Star line\n     * increased cost of Desert Fighters from 14 to 15\n     * increased melee damage of the Desert Horseman from 6-5 to 7-5\n     * The below changes echo mainline elf edits listed in units section:\n       * decreased price of the Desert Archer from 18 to 17 gold\n       * decreased HP of the Desert Avenger from 60 to 55\n       * increase Desert Avenger movement and/or defense on shallow water,\n         swamp and mountains\n       * increased melee damage of Desert Avenger from 10-3 to 11-3\n       * decreased ranged damage of the Desert Avenger from 10-4 to 9-4\n       * increased HP of the Desert Captain from 44 to 47\n       * decreased ranged damage of the Desert Captain from 5-3 to 4-3\n       * decreased melee damage of the Desert Champion from 13-4 to 10-5\n       * decreased ranged damage of the Desert Champion from 8-4 to 8-3\n       * increased HP of the Desert Fighter from 32 to 34\n       * increased XP requirement of the Desert Fighter from 38 to 40\n       * increased HP of the Desert Sharpshooter from 45 to 47\n * graphics\n   * added 'ellipse=blah' tag to units which will select the four images\n     from the misc directory for use as an ellipse: misc/blah-bottom.png,\n     misc/blah-top.png, misc/selected-blah-bottom.png,\n     misc/selected-blah-top.png\n   * new encampment graphics\n   * moved hero icon from the South Guard into main directories\n   * new attack icons: animal fangs, axe, baneblade, battle axe,\n     beak, claws-animal, claw-undead, entangle, faery touch, fireball,\n     fist-troll, fist-skeletal, hammer, hatchet, human-greatsword,\n     iceball, lightbeam, lightning, magic missile, necromatic staff,\n     magic staff, shield, spear, trident\n   * new portrait for Drake Clasher, Giant Scorpion\n   * improved runemaster graphics from Sceptre of Fire\n   * new modified Wesnoth map for HttT (larger, more legible)\n   * new \"units\" icon for the menu\n   * new unit images: Lord\n   * Death animations: dark adept, yeti, skeleton archer death\n   * Several updated/new terrain transitions\n * language and i18n:\n   * new translations: Korean, Vietnamese\n   * updated translations: British English, Catalan, Czech, Dutch,\n     German, Finnish, French, Hebrew, Italian, Norwegian, Polish,\n     Portuguese (Brazil), Spanish, Swedish, Turkish\n   * updated man pages: Swedish\n * multiplayer maps:\n   * all multiplayer maps now use a playlist to specify their music\n   * revised multiplayer maps: Blitz, Charge, Cynsaun Battlefield,\n     Den of Onis, Divide and Conquer, Hamlets, Hornshark Island,\n     Meteor Lake, Silverhead Crossing, Triple Blitz, Bluewater Province,\n     Clash, Siege Castles, Hexcake, The Wilderlands\n * music & sound\n   * multiplayer no longer uses faction specific music, music is now\n     specified per scenario like it is done in the singleplayer mode\n   * new music: gameplay01, gameplay02\n   * updated music: gameplay03\n   * removed music: wesnoth-3, wesnoth-4, wesnoth-6, wesnoth-7, wesnoth-8\n   * new sounds: turn end bell, drake hit&die, dwarf hit&die, short fanfare,\n     additional female-hit, hiss-die, hiss-hit, holy attack, 3 ghostly wails,\n     3 gryphon, miss, 2 orc-die, 3 skeleton, 2 troll hit&die, water blast,\n     wolf hit&die, 4 dark magic, 2 lightning, 12 human hit&die, flame hit&miss\n     3 new merfolk hit&die\n   * sound added to units:\n     * death sounds: all drakes, dwarves, orcs & goblins, all humans,\n       monsters, merfolk, nagas, saurians, trolls, all skeletons, woses\n     * lightbeam attacks, elves, gryphons, some ghost attacks\n * units\n   * back in mainline: Orcish Leader, Orcish Ruler, Orcish Sovereign\n   * Swapped names for necromancer (now a L3) and dark sorcerer (now a L2)\n     (no gameplay change)\n   * renamed Saurian Tribalist/Icecaster to Augur/Oracle\n   * gryphon rider and master race change to dwarf\n   * balancing changes:\n     * decreased HP of the Inferno Drake from 71 to 68\n     * increased melee damage of the Inferno Drake from 11-2 to 12-2\n     * decreased HP of the Drake Flameheart from 84 to 82\n     * decreased melee damage of the Drake Flameheart from 12-3 to 11-3\n     * increased ranged damage of the Drake Flameheart from 8-4 to 9-4\n     * increased XP requirement of the Drake Fighter from 38 to 42\n     * increased HP of the Drake Warrior from 55 to 60\n     * increased melee damage of the Drake Warrior from 10-3 to 11-3\n     * increased HP of the Drake Blademaster from 70 to 80\n     * increased melee damage of the Drake Blademaster from 14-3 to 16-3\n     * increased XP requirement of the Drake Clasher from 40 to 45\n     * increased HP of the Drake Gladiator from 62 to 66\n     * increased melee impact damage of the Drake Gladiator from 9-3 to 10-3\n     * decreased HP of the Drake Enforcer from 87 to 85\n     * increased melee blade damage of the Drake Enforcer from 10-4 to 11-4\n     * increased melee impact damage of the Drake Enforcer from 12-3 to 14-3\n     * increased HP of the Drake Slasher from 57 to 62\n     * increased melee pierce damage of the Drake Slasher from 16-2 to 17-2\n     * increased HP of the Drake Warden from 79 to 82\n     * increased melee blade damage of the Drake Warden from 15-3 to 16-3\n     * increased melee pierce damage of the Drake Warden from 22-2 to 23-2\n     * increased HP of the Sky Drake from 40 to 45\n     * increased HP of the Hurricane Drake from 50 to 58\n     * increased resistances of the Sky Drake line to those of the Drake Glider\n     * decreased XP requirement of the Saurian Ambusher from 70 to 55\n     * decreased cost of the Bandit from 27 to 23\n     * increased HP the Rogue from 36 to 40\n     * increased HP the Assassin from 42 to 51\n     * decreased movement cost for swamp for the Poacher line from 3 to 2\n     * increased the XP requirement of the Dwarvish Fighter from 38 to 41\n     * increased HP of the Dwarvish Steelclad from 55 to 59\n     * increased melee blade damage of the Dwarvish Steelclad from 10-3 to 11-3\n     * increased melee impact damage of the Dwarvish Steelclad from 13-2 to 14-2\n     * increased HP of the Dwarvish Lord from 75 to 79\n     * increased melee blade damage of the Dwarvish Lord from 14-3 to 15-3\n     * increased melee impact damage of the Dwarvish Lord from 17-2 to 19-2\n     * increased HP of the Dwarvish Thunderguard from 42 to 44\n     * increased HP of the Dwarvish Dragonguard from 52 to 59\n     * changed the damage type of the Dwarvish Dragonguard from impact to blade\n     * decreased HP of the Elvish Avenger from 60 to 55\n     * decreased ranged damage of the Elvish Avenger from 11-4 to 10-4\n     * increased HP of the Elvish Sharpshooter from 45 to 47\n     * increased XP requirement of the Elvish Fighter from 38 to 40\n     * increased HP of the Elvish Captain from 44 to 47\n     * decreased ranged damage of the Elvish Captain from 6-3 to 5-3\n     * decreased melee damage of the Elvish Champion from 12-4 to 9-5\n     * increased experience requirement of the Cavalryman from 34 to 40\n     * decreased melee damage of the Dragoon from 7-4 to 6-4\n     * decreased ranged damage of the Dragoon from 15-1 to 12-1\n     * decreased XP requirement of the Dragoon from 110 to 95\n     * increased experience requirement of the Fencer from 37 to 42\n     * decreased ranged damage of the Duelist from 15-1 to 12-1\n     * increased HP of the Lancer from 48 to 50\n     * increased HP of the Javalineer from 45 to 48\n     * increased resistances of the Javalineer to the one of the Pikeman\n     * increased melee damage of the Halberdier from 14-3 to 15-3\n     * decreased HP of the Royal Guard from 75 to 74\n     * increased HP of the Master Bowman from 50 to 58\n     * increased ranged fire damage of the Orcish Crossbow from 9-2 to 10-2\n     * increased HP of the Orcish Slurbow from 50 to 56\n     * increased ranged fire damage of the Orcish Slurbow from 14-2 to 15-2\n     * increased HP of the Orcish Warrior from 52 to 58\n     * increased HP of the Orcish Warlord from 80 to 78\n     * decreased melee damage of the Orcish Warlord from 13-4 to 15-3\n     * increased ranged damage of the Orcish Warlord from 5-3 to 8-2\n     * decreased cost of the Orcish Warlord from 56 to 48\n     * increased experience requirement of the Troll from 60 to 66\n     * increased experience requirement of the Troll Whelp from 33 to 36\n     * decreased ranged damage of the Troll Rocklobber from 20-1 to 17-1\n     * increased HP of the Elvish Fighter from 32 to 34\n     * decreased ranged damage of the Elvish Champion from 9-4 to 9-3\n     * decreased price of the Elvish Archer from 18 to 17 gold\n     * increased movement cost/defense on various terrains for the Ranger line\n     * increased movement of the Wose line from 3 to 4\n     * increased HP of the Elder Wose from 60 to 64\n     * increased melee damage ot the Elder Wose from 18-2 to 19-2\n     * decreased experience requirement of the Elder Wose from 160 to 100\n     * decreased experience requirement of the Bone Shooter from 90 to 80\n     * increased ranged damage of the Bone Shooter from 9-3 to 10-3\n     * increased ranged damage of the Soul Shooter from 12-3 to 14-3\n     * decreased HP of the Dark Sorcerer from 58 to 48\n     * increased ranged damage of the Dark Sorcerer from 12-2 to 13-2\n     * increased experience requirement of the Dark Sorcerer from 80 to 90\n     * decreased HP of the Lich from 66 to 60\n     * decreased HP of the Necromancer from 75 to 70\n     * increased ranged damage of the Necromancer from 15-2 to 17-2\n     * decreased melee damage of the Death Knight from 12-4 to 11-4\n     * increased HP of the Draug from 54 to 68\n     * increased melee damage of the Draug from 11-4 to 12-4\n     * increased cost of the Draug from 40 to 50\n     * decreased melee damage of the Blood Bat from 6-3 to 5-3\n * WML improvements\n   * [if] now supports [and] and [not] tags\n   * new {IS_HERO} macro to display a hero icon for new units\n   * new {DEFAULT_MUSIC_PLAYLIST} macro to specify gamemusic 01 to 03\n     and main_menu.ogg as playlist\n   * moved much of about into WML as well as enabled campaign [about]\n   * added an #undef preprocessor directive\n   * added 'profile' key to [unit] variables\n   * added 'image' key to [unit] variables\n   * added [modify_turns] to [event]. Takes 'value' and 'add' as keys.\n   * added new key to [side]: allow_player; if set to 'no' then this side\n     will not appear in the creation screen. Some maps with more sides\n     than starting positions may be broken.\n   * added [store_side] tag, which takes 'variable' and 'side' as keys,\n     and stores data to variable.gold, variable.income, variable.name,\n     and variable.team_name.\n   * added [label] inside [event]\n   * added 'zoc' key to unit types\n   * added 'set_hp' and 'set_total' to unit modifications\n   * allowed increase on hp to use %.\n   * attack animations can now be filtered on hit and miss\n   * [effect] can modify attack/defense weight\n   * change in the [sound] tag. sounds must now be part of animation\n * miscellaneous changes\n   * added a very simple progress bar while loading\n   * added a --load FILE command-line option, where FILE is a saved game\n     in the standard save game directory.\n   * reordered macro calls in game.cfg to fix no-AMLA bug for campaigns\n   * {abilities.cfg} call moved from utils.cfg to game.cfg for consistency\n   * Send message on player ban or kick\n   * Show a message when a player leaves a game.\n   * WML-generated units with \"random_traits\" now show the traits description\n   * flags on village don't \"flicker\" at the end of their animations\n   * really fix bug 3388, now really centering on image when clicking it\n   * tab completion now completes to smallest substring,\n     and shows possible completions\n   * added whisper (/msg) support for lobby and observers in game\n   * Added ignore list on MP\n   * MP server only accepts nicks made from alphanumeric and\n     underscore characters\n   * force a refresh after calls to ONSCREEN scrolls,\n     to avoid refresh problems.\n   * add sort_topics command to the WML of help\n   * check in ai code that ai doesn't use the same unit to attack twice\n\nVersion 1.1.1:\n * campaigns\n   * reordered ranks to reflect relevance to game world\n   * new (beginner) campaign: Two Brothers\n   * Heir to the Throne\n     * Gryphons are not available until you find dwarves to ride them\n     * Fixed behavior of sleeping gryphons in Gryphon Mountain\n     * Changed confusing dialog on Home of the North Elves (#5006)\n     * Standardized wording for bonus victory objectives\n     * Lost General map now slightly more friendly to smallfoot units\n     * Sceptre of Fire - more villages and dirt road near starting castle\n     * Underground scenarios generally more interesting/enhanced story\n     * Text cleanups\n   * The Rise of Wesnoth\n     * replaced Sea Orc with Naga Fighter in Final Spring, Clearwater Port,\n       and Rise of Wesnoth\n     * Fire dragon is a level 5 unit\n     * Text cleanups\n   * migrated unique units, scenarios, maps, and images to data/campaigns\n * campaign server\n   * changed default port for campaign server to 15003 to separate 1.1 and 1.0\n * gameplay changes:\n   * improved default weapon selection on player attack (patch #500)\n   * attack_weight=0 disables the attack when attacking\n   * defense_weight=0 disables the attack when defending\n   * attack_weight is now functional (#5014)\n   * added a new terrain \"Mushroom Grove\" (id=fungus)\n   * changed several terrains to be \"mixed\", having worst movement and\n     best defense: Snow Forest, Snow Hill, Dunes (renamed from Desert Hill)\n   * added new schedule: deep underground (-30%, very dark)\n * graphics:\n   * New castle tiles\n   * New sand tiles\n   * New terrain: Rockbound Cave, Mushroom Grove, Illuminated Cave Floor,\n     Great Tree.\n   * Added Drake, Gladiator, Enforcer, Slasher and Warden death animations.\n     All Drake unit baselines fixed\n   * Added item bones.png\n * language and i18n:\n   * new translations: Indonesian\n   * new manual: Indonesian\n   * updated translations: British English, Chinese, German, Hebrew,\n     Italian, Norwegian, Polish, Portuguese (Brazil), Russian, Slovenian,\n     Swedish, Turkish\n   * updated man pages: English, German, Swedish\n * multiplayer maps:\n   * revised multiplayer maps: Blitz, Charge, Den of Onis, Silverhead Crossing,\n     Sulla's Ruins, Cynsaun Battlefield, Morituri, Triple Blitz, Castle Hopping\n     Isle, Clash, King of the Hill, Lagoon, Smallolof, Forest of Fear\n   * added multiplayer maps: Loris River, Paths of Daggers\n   * removed multiplayer maps: Across the River, An Island,\n     The Valley of Death, Battle World\n   * renamed multiplayer maps: 1v1v1Hex -> Island of the Horatii\n * music:\n   * support for more than one music file per scenario with adjustable spacing\n   * new music: gameplay03.ogg\n * units\n   * gave names to mermaids\n   * deleted Wall Guard and Gate (no longer used)\n   * updated descriptions: Goblin Rouser\n   * removed the classic era\n   * units and balancing changes:\n     * made all undeadfoot units that can move on deep water have ambush there\n     * several changes to the movetype of the Walking Corpse and Soulless\n     * Walking Corpse and Soulless variants now also differ in HP\n     * decreased the Dark Adept resistance to cold from 20% to 0%\n     * disallowed Lich type units to go on deep water\n     * decreased the woodlandfloat tundra movement from 2 to 1\n     * decreased armoredfoot cold resistance from 20% to 10%\n     * increased Pikeman HP from 52 to 55\n     * increased Swordsman HP from 52 to 55\n     * increased the ranged attack of the Cavalier and Master at Arms\n       from 17-1 to 20-1\n     * increased Orcish Archer fire attack damage from 6-2 to 7-2\n     * decreased the melee attack of the Orcish Slayer from 12-2 to 10-2\n     * decreased the XP requirement for the Footpad from 42 to 36\n     * increased the melee attack of the Gryphon Master from 14-2 to 15-2\n     * increased Dwarvish Steelclad HP from 50 to 55\n     * increased Dwarvish Guardsman HP from 35 to 42\n     * increased Dwarvish Guardsman ranged attack from 4-1 to 5-1\n     * increased Dwarvish Stalwart HP from 39 to 48\n     * increased Dwarvish Sentinel HP from 45 to 56\n     * increased Dwarvish Sentinel resistances to blade and pierce\n       from 20% to 30%\n     * decreased the grassland defense from 50% to 40% for the Sentinel\n     * decreased the village defense from 60% to 50% for the Stalwart\n       and Sentinel\n     * increased the forest and sand defense from 30% to 40% for the\n       Stalwart and Sentinel\n     * added Elder Wose, Saurian Icecaster and Soothsayer as leaders\n       in default era but not as random_leader\n     * added many level 2 units and the Ancient Wose as leaders in AoH\n       but not as random_leader\n   * flags in status bar are now properly team colored\n * user interface\n   * added new image in advancement tag that is displayed in advancement dialog\n     and changed old image to icon in advancement tag.\n   * centered title screen logo for 1024x768 (still off-center for 800x600)\n   * prevent icons in themes from being scaled up (only scaling down is allowed)\n   * fix menu capitalization consistency (#4972)\n   * reduce scrolling during unit movement\n   * make default zoom work properly\n   * unit speed is back to 1.0 speed\n   * upgraded font from DejaVuSans 1.12 to 2.2, has Greek support\n   * TAB completion in MP lobby\n   * Name of the game shown next to nick for unavailable players\n   * avoid useless scrolling down in chat window of mp lobby\n * WML improvements\n   * attack ranges renamed to \"melee\" and \"ranged\", new ranges can be used\n     (retaliation will use any attack of the same range)\n   * starting_villages macro updated for added village types\n   * split factions of multiplayer.cfg into data/factions to ease making\n     combined eras without having to maintain mainline factions\n   * abilities are now more configurable in a [abilities] tag, old ability=\n     tag deprecated (patch #498), cure is available via [heals] ability tag\n   * all currently used abilities added as macros in data/abilities.cfg\n   * abilities can receive time of day and terrain [filter] (currently only\n     [hides], [steadfast], [illuminates])\n     - ambush and nightstalk are available via the new [hides] ability tag\n   * added a optional random_leader= tag inside a [multiplayer_side] to\n     specify a different list of randomly selectable leaders\n   * added level as a possible argument for standard unit [filter]\n   * terrain can be given a \"light\" flag to specify local light modification\n   * combined terrain can now take \"best of\" or \"worst of\" values\n     for combining\n   * choice policy for combined terrain can be separately specified\n     for def and mvt\n   * added random_traits key for the create_unit event.\n   * [female] and [male] unit tags now inherit from [unit].\n   * Added new events 'attack_end', which occurs after a battle is ended,\n     'attacker_hits', which occurs when the attacker hits the defender,\n     'defender_hits', 'attacker_misses', and 'defender_misses'.\n   * Added [special_filter] and [special_filter_second] to events.\n     These allow some events to be filtered by weapon used and by terrain.\n   * Added 'mode' tag to [store_unit]; allows appending to variable.\n * Miscellaneous\n   * added a require_amla element to [advancement] tags.\n   * anonymous data logging for single player campaigns, see stats.wesnoth.org\n   * zipios++ can now be disabled by passing --without-zipios to configure\n   * functions to easily create one frame animations, for deprecated images\n   * improved (underwater) merfolk village\n   * (internal) make attack animations work like all other animations\n   * backport latest SDL_ttf change, fix ascender/descender issue for DejaVu\n   * fix crash when using zoom keys in the main lobby\n   * new utils: codecomp codeextract codeglyphs codelist, for font analysis\n   * login names in MP are now limited to 18 characters\n   * added {RANDOM_SIDE} and {DEFAULT_SCHEDULE} macros\n   * added a hotkey to clear all labels in MP games\n   * fixed the default time limit values, and changed them to 300/150\n\nVersion 1.1:\n * campaign server\n   * support new \"timestamp\" attribute\n   * save persistent attributes in the campaign data\n     * \"name\" is treated as directory name, so use campaign_name (#4525)\n     * SECURITY: ensure file and directory names on upload match campaign name\n   * support filtering on campaign_list requests: name, last update time\n     (before or after), language of translation\n   * campaign_list response now contains the time the request was processed\n   * campaign_list response now contains information about translations\n   * fixed problem with duplicate translations being saved with each upload\n   * added a passphrase change function\n   * deleting campaigns, campaign file is now deleted, not reduced to zero size\n * campaigns:\n   * Eastern Invasion\n     * fixed Undead fighting each other in Weldyn Besieged (#4386)\n     * fixed Undead not recruiting after leader change in The Crossing (#4393)\n     * The Drowned Plains: abandonded villages no longer require village.png\n   * Heir to the Throne\n     * fixed Delfador talking to himself in Valley of Statues (#4440)\n     * fixed Home of the North Elves inaccurate victory condition (#4644)\n     * Isle of Anduin: reduced difficulty, added mage tips, move_unit_fake fix\n     * Blackwater Port: added tips about loyal units, move_unit_fake fix\n     * Bay of Pearls: traits for mermen, you get a hunter and initiate, added\n       ford to help units cross, hunter and initiate available after winning\n     * Isle of the Damned: replaced some forest with road, can recall mermen,\n       Moremirmu explains if he will join you or not, hard difficulty has fog\n     * Muff Malal's Peninsula: less gold/more income for Muff for XP milking\n       on easy, blood bats on hard, choice of fight vs run is better explained\n     * Crossroads: added story dialog\n     * Princess of Wesnoth: clarified victory conditions\n     * Plunging into the Darkness: removed unnecessary side 2 (enemy) leader\n     * Dwarven Doors: true exit now random, bandit easter egg now reveals exit\n     * changed Snow Plains map to use snow terrain\n     * Lost General: side 2 ally allows you to recruit guardsmen (for dwarf\n       balancing)\n     * Choice Must be Made: used swamp village instead of cave villages,\n       story, music\n     * Snow plains: music key added\n     * Swamp of Dread: used swamp village instead of cave village, music\n     * Home of the North Elves: rebalanced to make you RUN! rather than fight;\n       dialog\n     * Elven Council: added dialog\n     * Test of the Clans: simplified victory conditions, dialog\n     * Epilogue: corrected dialog about Li'sar's father\n   * The Rise of Wesnoth\n     * Adjusted loss event in Clearwater port to coincide with time over\n     * Fixed bugs related to cuttlefish destroying the bridges\n   * Son of the Black Eye\n     * cleaned up prestart events to stop units hopping around at map setup\n     * Desert of Death leader without starting position replaced with no_leader\n     * Clash of Armies mermen leader now created in event, not in side setup\n     * fix glitches (part of #4385)\n     * fix saurian deaths not triggering loss in Saving Inarix (#4803)\n     * general tidying of scenario files\n     * fix shamans losing experience (#4792)\n   * The Dark Hordes\n     * Underground Pool no longer has units off map and in walls\n * gameplay changes:\n   * backstab now works if opposite unit is non-incapacitated enemy of defender\n   * prevented stoned units from being healed\n   * slow does not remove an attack anymore\n   * slowed units see the damage they deal halved immediately\n   * unit modifications now round toward original value instead of truncating\n   * changed resilient trait bonus from +7hp to +10%+3hp\n   * decreased strong trait hitpoints bonus from 2 to 1\n   * added Fischer clock to MP games to limit turn duration\n * graphics:\n   * HP and XP bar modifications\n     * movement ball separated from bars\n     * moved to left so xp bar under the ball\n     * xpbar now changes color differently for AMLA then for regular leveling\n     * bar colors and text color in report now forced to match.\n   * team color:\n     * units can now have colors redefined to match team colors:\n     * team color can be defined in the side tag with \"team_rgb=r,g,b\"\n     * team color enabled for: Knight, Grand Knight, Lancer\n   * new title screen and logo\n   * changed the storm trident attack icon from fireball to lightingbolt\n   * new attack icon for the fireball\n   * portraits:\n     * new Li'sar, Drake Burner, Drake Fighter, Drake Glider, Elvish Shaman,\n       Ghoul, Mermaid Initiate, Merman Fighter, Merman Hunter, Naga Fighter,\n       Orcish Assassin, Saurian Skirmisher\n     * all Drake, Merman, Naga and Saurian upgrades now use level one portraits\n     * Necrophage and Orcish Slayer upgrades now use level one portraits\n     * Updated portraits for Haldric and Aethyr in TRoW\n   * new unit images: Konrad level 1, Tentacle of the Deep\n   * new death animations: Initiate, Mage, Pikeman, Red Mage, White Mage,\n     Tentacle of the Deep, most Drake units\n   * new tiles: swamp, cave wall, paved road, variable-width canyon (#8817),\n     snow village (human & elven), underground village, mountains, hills,\n     snow hills, dwarven village, additional elven and human village variants\n   * bilinear interpolation of images (better interpolation at high zoom level)\n   * new movement animation: elvish fighter\n * language and i18n:\n   * added support for right-to-left languages (patch #470)\n   * made the list of languages configurable via the locale WML\n   * new manual: Chinese; updated manual: English, German, Swedish\n   * updated man pages: Swedish\n   * new translations: Hebrew, Esperanto, Portugese\n   * updated translations: Afrikaans, British English, Chinese, Czech, Dutch,\n     French, German, Hungarian, Italian, Japanese, Polish, Portuguese (Brazil),\n     Russian, Slovak, Slovenian, Spanish, Swedish, Turkish\n   * fixed Undead used as both trait and race name (#4295)\n   * fixed loading non-binary savegame displaying messages in English (#4454)\n   * help changes\n     * added brief description of Shroud and Fog of War\n   * documentation: switch doxygen templates from CVS to SVN, Savannah to Gna!\n * multiplayer server\n   * server: add administration functions\n   * multiplayer game with \"empty\" as side no longer causes OOS (#4464)\n   * new multiplayer maps: Crusaders Field, Cynsaun Battlefield, 4p Morituri\n   * revised multiplayer maps: Divide and Conquer, Sablestone Delta, 1v1v1Hex,\n     Silverhead Crossing, Sullas Ruins, Charge, Blitz, Clash, Hamlets,\n     Meteor Lake, Den of Onis, Smallolof, Castle Hopping Isle, Hornshark Island\n   * updated multiplayer map cfg files: Clash, Hexcake, Smallolof\n   * fixed gamelist diff bug\n   * made \"Load Game ...\" first map option (was last), for better visibility\n   * added map size to MP lobby (patch #484)\n   * added scenario and era info to MP lobby\n   * let observers be visible in slot combos\n   * new multiplayer preference tab in the preference window (patch #444)\n     * add an option to timestamp chat in MP games (patch #444)\n     * add an option to choose the number of chat lines displayed (patch #444)\n * music and sound:\n   * new main menu music\n   * support for victory and defeat music incl. music files\n * units\n   * AMLA for most units now adds 25% to required XP for next AMLA\n   * new unit: added the Goblin Rouser\n   * removed obsolete units: Merman, Naga, Saurian, Saurian Warrior,\n     Sea Hag, Triton\n   * units and balancing changes:\n     * changed Cuttlefish tentacle attack to swarm.  changed HP from 52 to 67\n     * changed Halbardier pierce attack from 9-4 to 14-3\n     * changed Halbardier blade attack from 11-4 to 19-2\n     * blade attack of Halbardier does not longer have firststrike\n     * increased Master Bowman melee damage from 7-3 to 8-3\n     * decreased the HP of the Dragoon from 58 to 53\n     * changed the movetype of the General and Grand Marshal back to smallfoot\n     * changed the resistances to physical damage for the General to 10% and\n       for the Grand Marshal to 20%\n     * decreased Merman line resistance to cold from 60% to 20%\n     * decreased Merman Hunter experience needed to level from 38 to 35\n     * decreased Elvish Shaman cost from 16 to 15 gold\n     * increased the HP of the Elvish Hero from 48 to 51\n     * decreased Elvish Scout experience needed to level from 37 to 32\n     * decreased Elvish Rider melee attack from 6-4 to 7-3\n     * decreased Elvish Rider ranged attack from 7-3 to 9-2\n     * increased Elvish Rider HP from 42 to 46\n     * decreased Elvish Outrider melee attack from 8-4 to 7-4\n     * decreased Elvish Outrider melee attack from 7-4 to 8-3\n     * increased Elvish Outrider HP from 50 to 57\n     * decreased the cold resistances of Woses from 20% to 10%\n     * decreased Drakefly snow defense from 30% to 20%\n     * decreased Drake Slasher HP from 65 to 57\n     * decreased Drake Warden HP from 88 to 79\n     * increased Drake Gladiator HP from 59 to 62\n     * increased Drake Enfoncer HP from 79 to 87\n     * decreased the cold resistances of dwarves from 20% to 10%\n     * decreased the blade resistances of dwarves from 30% to 20%\n     * decreased Dwarvish Steelclad blade resistance from 40% to 30%\n     * decreased Dwarvish Fighter hammer attack damage from 9 to 8\n     * made the Dwarvish Guardsman line have 2 traits again\n     * decreased the HP of the Thunderer from 37 to 34\n     * decreased the Gryphon Riders movement from 9 to 8\n     * removed Thug from Knalgan faction\n     * added the Dwarvish Stalwart and Necrophage as a leader in default era\n     * added different movetypes to variations of WC/Soulless (corpses gain\n       physical resistances of killed unit)\n     * added drain on the melee attack of the Ghost\n     * increased Ghost's HP from 17 to 18\n     * synchronized Ghost line's physical resistances to 50%\n     * decreased Ghost line shallow water movement cost from 3 to 2\n     * decreased Ghost line deep water movement cost from 4 to 2\n     * increased Shadow HP from 24 to 26\n     * increased Nightgaunt HP from 32 to 35\n     * increased the HP of the Skeleton Fighter tree by 4\n     * changed the Deathblades resistances to those of the other Skeletons\n     * decreased Skeleton line shallow water movement cost from 3 to 2\n     * decreased Skeleton line deep water movement cost from 4 to 3\n     * decreased the tundra defense of Undeads (undeadfoot) from 40% to 30%\n     * increased the HP of the Ghoul line by 5\n     * decreased the attack damage of the Ghoul line by 1\n     * increased the fire resistance of the Ghoul line from 0% to 10%\n     * Ghoul line can no longer move into deep water\n     * increased the HP of the Vampire Bat from 14 to 17\n     * decreased the cost of the Blood Bat from 24 to 21\n     * increased the HP of the Blood Bat from 24 to 27\n     * decreased village defense of Wolf Rider, Goblin Knight/Pillager to 50%\n     * increased Goblin Pillager HP from 40 to 44\n     * increased Goblin Knight HP from 45 to 49\n     * increased Direwolf Rider HP from 55 to 61\n     * increased Orcish Archer fire damage from 5-2 to 6-2\n     * increased Orcish Crossbowman fire damage from 8-2 to 9-2\n     * increased Orcish Slurbow fire damage from 12-2 to 14-2\n     * decreased the tundra defense of Nagas from 30% to 20%\n     * decreased the XP requirement for the Goblin Spearman from 22 to 18\n     * added the Goblin Rouser as an advancement to the Goblin Spearman\n     * Northerners can now recruit Rocklobber in Age of Heroes era\n     * removed Saurians as leaders in default and Great War era\n     * removed level 2 leaders from AoH era\n     * added the Dwarvish Sentinel as a leader in AoH era\n     * increased the holy resistance of the scuttlefoot movetype from 0% to 20%\n     * made Fireball, Gate, Galeons & Watch Tower unpoisonable and unplaguable\n     * recosting and minor stats changes for many level 2+ units:\n       http://www.wesnoth.org/forum/viewtopic.php?p=121154#121154\n * user interface:\n   * added font colors to theme\n   * reorganized side-bar information\n   * fix untranslated unit create dialog (#4424)\n   * changed recall to show recall list even when gold < 20\n   * added advancement and AMLA indicator icons and tooltips to dfool theme\n   * allow pausing during replay\n   * SECURITY: check safety of campaign download names: if any unsafe\n     names are found, install is aborted before old version is removed\n   * hitpoint update delays are now capped at 1 second (#4070)\n   * reduce unnecessary scrolling in replays (#3152)\n   * stop teleport glitches due to insufficient screen updates (#4234)\n   * theme chooser window added to preference graphics dialog\n   * fix broken colour wait cursor on Mac OS X (#4729)\n   * clicking on unit portrait in status pane now centers on unit (#3388)\n   * show numbers of each enemy which can reach tiles in \"Show Enemy Moves\"\n   * don't show \"The End\" after viewing a won multiplayer replay (#4166)\n   * new option to toggle server messages when observing games\n   * semi transparent HP/XP bar when unit is not selected (patch #485)\n   * play an \"anonymous\" music during enemy turns to avoid the music\n     giving hints\n   * added the possibility to play \"victory\" and \"defeat\" music\n   * enable down arrow on scrollbar when resizing (#4809, patch #487)\n   * better movement highlighting (patch #488)\n   * stop save dialog complaining about bad name when pressing cancel (#4835)\n   * pressing 'n' wont take you out of path selection mode (#4833, patch #490)\n   * fix broken tooltip in the status bar for plague(argument)\n   * added the \"/me\" command to MP lobby\n   * don't show illuminated time of day on fogged/shrouded tiles\n * utils\n   * added weblist.pl and webtgz.pl web interface programs\n   * wml.pm uses substr instead of split: reduces memory usage for large strings\n   * wml_net.pm inserts instead of appending: should be more efficient\n   * added prkill script, to calculate probabilities to kill in a skirmish\n   * added campaign_passphrase.pl for changing passphrases\n   * added campaign_delete.pl for deleting campaigns\n * WML improvements:\n   * random map generator now uses island_size (#4458)\n   * fixed incorrect savefile name after continue_no_save (#4439)\n   * fix bad leader starting position causing crash\n   * tighten up checks on leaders and units placed on map at start of scenario\n   * add a backup save_id to use if both save_id and description are empty\n   * fix duplicate key values being concatenated: just replace with last value\n   * units can now have [extra_anim] tag, and [animate_unit] event to trigger it\n   * added swarm attack special\n   * new advance and post_advance events, trigger before/after unit advancement\n   * get_random avoids nested [random] tags: keep to limit in compressed saves\n   * experience_modifier: only last value kept; to max experience now rounded\n     with lower limit of 1\n   * defensive_image* deprecated, use defensive animations instead\n     (still work, but issue warnings, new macros are provided)\n   * using [frames] directly in an [attack] tag is deprecated.\n     please enclose attack animations in [animation] tags\n   * [store_unit] now leaves variable untouched if filter does not match\n   * units can now have [movement_animation] tags, these are filtered\n     on both terrain and direction\n * various other changes:\n   * --with-preferences-dir configure option for coexistence of multiple versions\n   * experimental Python API for AI.\n     See http://www.wesnoth.org/wiki/ReferencePythonAPI for more information.\n   * various bug fixes and code cleanups\n   * better support for MacOSX filesystems\n\nVersion 1.0rc1:\n * language and i18n:\n   * updated translations: Afrikaans, Bulgarian, Catalan, Finnish,\n     German, Greek, Hungarian, Japanese, Portuguese (Brazil), Russian,\n     Slovenian, Spanish, Turkish\n   * new manual: Hungarian, updated manual: English, Swedish\n   * updated man pages: English, German, Swedish\n * campaigns:\n   * The Dark Hordes\n     * Crelanu's Book no longer ends if enemy leaders are killed\n     * Underground Pool no longer ends if enemy leaders are killed\n     * Underground Pool can now only be won with Gwiti or Tanar (#14495)\n   * Son of the Black Eye\n     * Watch Towers can no longer be recalled in Clash of Armies\n     * Saving Inarix no longer ends if enemy leaders are killed\n     * tweaked Black Flag and Desert of Death maps\n     * made End of Peace, Toward Mountains of Haag, and Black Flag easier\n   * Eastern Invasion\n     * fix Konrad II's lines not being spoken in The Council (#14500)\n     * change the holy waters to \"holy amulets\" (also #14539, #14559)\n     * Drowned Plains now has fog (#14499)\n   * Heir to the Throne\n     * fix Delfador losing experience at Siege of Elensefar (#14508)\n * units:\n   * changed Orcish Shamans from 20 to 23 HP (Novice 24, Old 22)\n   * changed all Orcish Shamans from 60 to 70% defense on villages\n   * fixed incorrect reference to Demilich image (#14542)\n * fixed long filenames overflowing editor file chooser dialog (#13855)\n * fixed filenames with spaces causing garbled errors (#14494)\n * multiplayer maps now make better use of team names from settings\n * fixed possible memory corruption during \"sighted\" WML events (#14426)\n * fixed the Windows shortcuts being used in textboxes under Mac OS X (#14377)\n * more AMLA fixes, and it now increases current hitpoints by 3 (#14530)\n * BeOS networking fixes\n * multiplayer lobby changes (including #8179)\n * fixed images in downloaded campaigns not being shown until restart (#11797)\n * editor now supports changing language, with Alt-l (#11966)\n * savegames now store ai_algorithm (#14558)\n * server now supports --threads option to specify number of threads\n * fixed spurious \"timeout\" when uploading campaigns\n * capture events that trigger further events can no longer be undone (#13895)\n * editor now supports --bpp to specify bit depth, default now 24 (#14551)\n * broken scenarios can no longer make multiplayer unplayable (#14409)\n * various bug fixes and code cleanups\n\nVersion 0.9.7:\n * language and i18n:\n   * updated manual: French, Italian\n   * updated translations: Afrikaans, Basque, British English, Catalan, Czech,\n     Dutch, French, Finnish, German, Greek, Hungarian, Italian, Latin, Polish,\n     Russian, Slovak, Slovenian, Spanish, Swedish, Turkish\n   * fixed Ruby of Fire object description (#14311)\n   * fixed untranslatable Rise of Wesnoth scenario name\n   * new man pages: Hungarian\n   * changing languages now updates Tome of Wesnoth on Linux into new language\n * campaigns:\n   * The Dark Hordes: there are now more turns available in the last scenario\n * units:\n   * increased the damage done by the Dread Lich from 6-4 to 7-4\n * user interface\n   * text input box position now changes if resolution is changed (#12466)\n   * hourglass cursor now works on Mac OS X (#14298)\n   * fixed scrollbar problems in multiplayer lobby (#13089)\n   * better checking if recruiting is possible (#13638, patch #4267)\n   * some fixes for Experimental and Default themes\n   * fixed observer icon corruption (#14320)\n   * user campaign translations are now available without a restart (#14388)\n   * adjusted multiplayer lobby titles\n   * don't show images larger than 80x80 in campaign server list (#12007)\n   * fixed progress bar overflow (#14403)\n   * game names can no longer contain formatting characters (#14246)\n   * fix campaign story text overflowing due to narrow width (rest of #13961)\n * graphics\n   * fixed Flaming Sword missing attack image (#14346)\n   * updated Goblin Impaler, Gryphon, Gryphon Master, Gryphon Rider\n * ambush and nightstalk now works on turn 1 for leaders (#13671)\n * AI now understands that AMLA units don't heal on advancing\n * AI in multiplayer can now recruit more widely in all eras (rest of #14096)\n * fixed a network related freeze (#14359) and other networking changes\n * fixed connect to server hanging on Mac OS X\n * fixed memory leaks in multiplayer lobby (part of #13981)\n * various bug fixes and code cleanups\n\nVersion 0.9.6:\n * language and i18n:\n   * new manual: Turkish\n   * updated manual: German, Russian, Swedish\n   * updated translations: Afrikaans, Basque, British English, Catalan, Czech,\n     Danish, Dutch, Finnish, French, German, Hungarian, Italian, Latin, Polish,\n     Portuguese (Brazil), Russian, Slovak, Spanish, Swedish, Turkish\n   * updated man pages: English, German, Swedish\n   * fixed some translated strings not being used (#14094)\n   * improved layout of some parts of help (#14075)\n   * fixed several typos and errors (including #14228,#14207,#14076,#14077)\n * campaigns\n   * Eastern Invasion: revisions to Weldyn Under Attack and Evacuation\n   * The Rise of Wesnoth: fixed glitch in The River Road (forum thread 7148)\n * graphics and sound\n   * new unit portraits for Elvish Shaman, Ghoul, Grand Knight, Halberdier,\n       Li'sar, Mermaid Initiate, Merman Fighter, Merman Hunter,Naga Fighter,\n       Nagini Fighter, Orcish Assassin, Royal Guard, Saurian Skirmisher\n   * revised unit images and/or animations for Direwolf Rider, Duelist,\n       Elvish Shyde, Fencer, Grand Knight, Heavy Infantryman, Horseman,\n       Knight, Lancer, Master at Arms, Paladin, Shock Trooper\n   * fixed missing storm trident image (#14111)\n   * new observer icon\n   * fixed wrong ice missile image used by Elvish High Lord (#14132)\n   * fixed Lich using wrong image (#14139)\n   * replaced tooltip picture (#14134), note still english and not translatable\n   * fixed broken scepter of fire and scepter attack icons (#14208,#14231)\n * user interface\n   * fixed fonts sometimes not being found, eg. on BeOS\n   * fixed campaign dialog with no campaigns trying forever to download (#14078)\n   * fixed some damage calculations not showing %-to-kill\n   * fixed game music continuing to play on the title screen (#14080)\n   * added hotkey ctrl-j to show objectives (#7830)\n   * fixed more problems with observers (also #14239)\n   * fixed scrollarea and textbox glitches in MP lobby (#13011,#14124)\n   * menus now can acquire keyboard focus (#13118)\n   * info text (defense-%, #-turns) is no longer obscured by terrain (#13995)\n   * tips of the day now only change when playing a game (#14235)\n   * hotkey for taking a screenshot now works in editor also (#13841)\n   * show wait cursor for long operations, if not using color cursors (#12670)\n   * part-fix campaign text overflowing due to width being too narrow (#13961)\n   * fixed tooltips disappearing when using dfool's theme (#14084)\n   * prestart events now happen before the player is shown the map (#12957)\n * revised multiplayer maps: Bluewater Province, Charge, Hamlets,\n     Hornshark Island, Meteor Lake, Sablestone Delta\n * fixed AI units not getting rest-healing, causing replay errors\n * fixed configure options --with-icondir and --with-desktopdir (#14100)\n * changed Merman hoplite to bring it up to date with changes to steadfast\n * fixed Dark Adept female version glitches (#14073,#14122,#13986)\n * made checksums work on AMD64\n * revised network code, try to use non-blocking I/O if available\n * new description= attribute of [attack], name=\"x\" now implies\n     description=_\"x\" and icon=\"attacks/x.png\" if not specified (#12788,#14113)\n * AI in multiplayer can now recruit healers and mixed fighters (#14096)\n * fix AMLA healing (#13921); recruited/recalled units are now always healed\n * various bug fixes and code cleanups\n\nVersion 0.9.5:\n * language and i18n:\n   * new translation: Hebrew (no rtl support added in yet)\n   * updated translations: British English, Catalan, German,\n     Hungarian, Polish, Spanish, Swedish, Turkish\n   * fixed linebreaks not working properly for Chinese translation (#13352)\n   * updated several unit descriptions\n   * added GPL and part of MANUAL to help\n   * added more descriptions and images to in-game help (also #12322)\n   * fixed some untranslatable attack names (part of #12788)\n   * Battle Princess can now have translation different to Princess\n   * fix terrain list and time of day cross-references in unit help\n * graphics and sound improvements:\n   * fixed layering of multi-hex tiles (#13586)\n   * removed Mac OS X icon border (#12928)\n   * updated images for Elvish Druid, Elvish Scout, Elvish Shaman,\n     Elvish Shyde, Grand Knight, Master Bowman\n   * new and revised portraits for The Dark Hordes and Konrad\n * campaigns\n   * Eastern Invasion\n     * fixed missing background in intro (#13901)\n     * campaign plot and dialogue extensively revised\n   * Son of the Black Eye\n     * fixed untranslatable strings in Saving Inarix\n     * start of making Clash of Armies harder: arrival of more reinforcements\n   * The Dark Hordes: terminate the campaign at this point as Part 1\n   * Heir to the Throne: stop Bugg being resurrected in Bay of Pearls (#13950)\n   * old campaign downloaded from server is now removed when updating (#13874)\n * multiplayer:\n   * rejoining game as observer, with same nick, no longer causes out of synch\n     (#12824 and #12997, still subject to confirmation)\n   * fixed chat messages from allies not being shown in multiplayer (#13657)\n   * added Use map settings option to preset scenario suggested values (#10669)\n   * show game settings in the game list\n   * fixed lobby corruption when trying to join a game that disallows observers\n   * fixed create-game-then-cancel lobby corruption (#13522)\n   * tweaked layout of game creation screen\n   * fixed non-fatal errors exiting lobby (#13783)\n   * choosing vacant slot then joining all computer game is no longer allowed\n   * cancelling faction selection now goes back to scenario setup (#9376)\n   * ending game now returns to lobby (#13348)\n   * more robust network code: ghost connections should no longer linger forever\n * new units: added Drake Enforcer\n * unit balancing and modifications\n   * increased Elvish Scout ranged attack damage from 5-2 to 6-2\n   * increased Cavalryman attack damage from 5-3 to 6-3\n   * reduced dwarvishfoot and mountainfoot defense on tundra from 40% to 30%\n   * simplified AMLA, using global macros in amla.cfg\n * multiplayer scenarios: removed Icy Waters, added Smallolof,\n   modified Sulla's Ruins map\n * user interface improvements:\n   * fixed failed recruit attempt clearing undo stack (#13833)\n   * fixed recall not clearing shroud (#13824)\n   * fixed spurious warning when loading a saved game and ending turn (#12986)\n   * sound is handled better, and can be set as a preference (rest of #11669)\n   * fixed editor insisting on path without spaces, for saving maps (#13919)\n   * changed hotkeys for end turn (alt-e->alt-space) and open/load game\n     (ctrl-l->ctrl-o)\n   * replaced Vera and Bepa-Roman typefaces with DejaVuSans version 1.12\n * fixed toupper causing build to fail on OpenBSD (#13709)\n * fixed replay corruption due to capture events not saving randomness (#13666)\n * keep send and receive connection statistics separate for each socket\n * more responsive networking code, less subject to network errors\n * fixed campaign upload with no passphrase not storing generated passphrase\n * tag [redraw] now forces redraw and is no longer a no-op (#11079)\n * fixed repeated attempts to open non-existent font files\n * various bug fixes and code cleanups\n\nVersion 0.9.4:\n * language and i18n:\n   * updated translations:\n     * Basque, British English, Catalan, Chinese, Dutch, French,\n       German, Hungarian, Russian, Swedish, Turkish\n   * fixed help description of income and upkeep (#13565)\n   * updated several unit descriptions\n   * standardized on \"magi\" as plural of \"mage\"\n   * document that Woses receive no traits (#13630)\n   * replay suggested save game now translated (#13558)\n   * fixed some typos (#13714,#13715,#13716,#13717,#13718)\n   * added terrain descriptions to in-game help\n   * fixed blank terrain entries in unit help\n   * ignore LANGUAGE in environment: broke translations (forum thread 6614)\n   * added Swedish man pages to the list of man pages to be installed\n * unit balancing and modifications:\n   * max level units given After-Max-Level-Advancement (AMLA) of 3 HP/100XP\n     added to max HP, with no auto-heal; Necrophage has healing AMLA\n     with no bonus HP\n   * changed Naga Warrior attack from 5-5 to 7-4\n   * decreased Thug hitpoints from 36 to 32\n   * decreased Dwarvish Ulfserker hitpoints from 40 to 34\n   * changed Elvish Shaman and Druid to the state before 0.9.3\n   * decreased Elvish Shaman cost from 17 to 16 gold\n   * removed obsolete units Mounted Captain, Mounted Commander\n * graphics and sound improvements:\n   * new or revised images for Dark Sorcerer, Dwarvish Thunderguard, Necromancer\n   * new death animations: Elvish Sharpshooter, Elvish Marksman\n   * default colour depth is no longer forced to 16 bits\n   * new tiles for some terrain in the editor terrain list and mini map\n * WML improvements:\n   * #define's in user campaigns are now local to each campaign (patch 4138)\n   * correctly preprocess files that do not end with a final newline\n * campaigns\n   * Heir to the Throne:\n     * made campaign easier on \"Easy\" level\n     * removed duplicate file inclusion - campaign should now start faster\n   * Eastern Invasion:\n     * revised Approaching Weldyn for quicker gameplay\n     * tweaked Undead Crossing\n     * removed duplicate file inclusion - campaign should now start faster\n   * The Dark Hordes:\n     * cleaned up old id tags; added portraits for Tanar, Nati and Gwiti\n     * removed duplicate file inclusion - campaign should now start faster\n   * The Rise of Wesnoth:\n     * removed duplicate file inclusion - campaign should now start faster\n     * fixed Lt. Aethyr death events not triggering in Rise of Wesnoth (#13848)\n   * Son of the Black Eye: revised map for Desert of Death\n * server\n   * now supports redirection based on client version number\n   * can now act as proxy\n * editor\n   * changed the layout of the terrain palette (#11965)\n   * relocated and enlarged the buttons (#11967)\n   * maps can't be saved with illegal characters (#10704)\n   * replaced the buttons under the minimap with a toolbar\n * build process\n   * added quotes to configure.ac (forum thread 6747)\n   * new utility extractsources to extract lists of sources from Makefile.am\n   * new utility makemam to construct Makefile.am from Makefile.am.in and\n     files containing lists of sources\n   * fix libpng not being detected on NetBSD (#13808)\n * user interface improvements:\n   * show scrollbar in multiplayer lobby when there are many players (#13521)\n   * multiplayer lobby player list no longer resets to start (#13345)\n   * fixed game host sometimes not recognized as side owner (forum thread 6783)\n * remove redundant {utils} and {~utils} references (#13843)\n * various bug fixes and code cleanups\n\nVersion 0.9.3:\n * user interface improvements:\n   * restored dialog titles for multiplayer screens (#13049)\n   * --nosound commandline option no longer initializes sound (part of #11669)\n   * players can now control multiple sides in multiplayer\n   * prevented user campaigns with errors from making the game unstartable\n   * user campaigns can no longer redefine standard units\n   * multiplayer replays no longer show 'The End' and credits (part of #13375)\n   * fixed off-by-one error in Unit List (#13323)\n   * fixed multiple Returns registered by some dialogs (part of #13332)\n   * \"Observers\" setting for multiplayer games is now obeyed again (#13374)\n * language and i18n:\n   * fixed 'make dist' not removing stamp-po files, causing broken translations\n   * updated translations:\n     * British English, Catalan, Finnish, German, Hungarian, Swedish, Turkish\n   * updated MANUAL: English (also synched with wiki), German, Swedish\n   * man pages: updated English and German, added Swedish\n   * added descriptions to all multiplayer maps (#9763)\n   * user visible error messages are now translatable (#12605)\n   * added files to POTFILES.in: fix untranslatable strings (#13350)\n   * fixed untranslatable strings on Windows (#13347)\n   * fixed user campaign translations not working on Windows (#11848)\n * campaigns\n   * Eastern Invasion:\n     * made Captured and Approaching Weldyn easier\n     * reduced the turn limit in The Drowned Plains\n   * Heir to the Throne:\n     * made campaign easier on \"Easy\" level\n     * fixed Hasty Alliance crash: avoid cavewall endpoints (part of #13334)\n     * updated story image 4 to remove glitch (#13385)\n   * Son of the Black Eye:\n     * made To The Harbour of Tirigaz and Black Flag easier\n * graphics and sound improvements:\n   * new or modified images for Dwarvish Thunderer, Elvish Outrider,\n     Elvish Rider, Elvish Scout, Giant Mudcrawler, Goblin Knight,\n     Goblin Pillager, Mudcrawler, Orcish Warlord, Wolf Rider\n   * new death animations for Dwarvish Thunderer, Elvish Archer,\n     Elvish Avenger, Elvish Ranger, Giant Mudcrawler, Mudcrawler, Spearman,\n     Young Ogre, Nightgaunt, Spectre\n   * new orc portraits, now used in Heir to the Throne\n   * new unit portraits for Bandit, Grand Knight, Halberdier, Horseman,\n     Javelineer, Knight, Lancer, Paladin, Peasant, Pikeman, Royal Guard,\n     Swordsman, Thug\n   * new portrait of Asheviere\n   * updated icons\n * terrain graphics\n   * new multihex snow forest\n   * new snow transition\n   * new ice tiles\n   * new dirt tiles\n   * new villages\n * new units\n   * added Orcish Slurbow and Dark Sorcerer\n * unit balancing and modifications:\n   * applied 0.9.2 changes to Thief, Elvish Archer, Elvish Ranger,\n     Elvish Avenger to female units also\n   * steadfast now doubles resistances up to 50%; vulnerabilities are unaffected\n   * decreased Dwarvish Guardsman line resistance to cold from 20% to 10%\n   * decreased Dwarvish Stalwart defense in grassland from 50% to 40%\n   * increased Dwarvish Ulfserker cost from 18 to 19\n   * restored Dwarvish Berserker resistances from 0.8.11\n   * changed Thug attack from 6-3 to 5-4\n   * increased Poacher experience needed to advance from 24 to 29\n   * increased Orcish Shaman (Novice and Old also) hitpoints from 18 to 20\n   * increased Pikeman attack from 9-3 to 10-3\n   * increased Master Bowman hitpoints from 46 to 50\n   * increased undeadspirit (Ghost line) resistance to fire from 0% to 10%\n   * decreased Ghost, Shadow and Nightgaunt resistance to impact from 60% to 50%\n   * changed Ghoul and Necrophage resistances: impact -10% -> 0%,\n     fire -20% -> 0%, cold 60% -> 40%\n   * decreased undeadfoot movement cost on mountains from 4 to 3\n   * decreased undeadfoot movement cost on hills from 3 to 2\n   * Demilich now advances to Dread Lich (previously Ancient Lich)\n   * increased Naga hitpoints from 30 to 33 and experience from 25 to 32\n   * increased Naga Warrior hitpoints from 40 to 43\n   * decreased Naga Warrior experience needed to advance from 70 to 66\n   * decreased Naga Warrior attack from 6-5 to 5-5\n   * decreased Merman Hunter ranged attack from 6-3 to 5-3\n   * decreased Merman Spearman ranged attack from 7-4 to 6-4\n   * decreased Merman Spearman melee attack from 6-3 to 6-2\n   * decreased Merman Spearman hitpoints from 45 to 40\n   * decreased Merman Netcaster hitpoints from 42 to 40\n   * increased Merman Netcaster ranged attack from 7-2 to 9-2\n   * increased Merman Fighter hitpoints from 32 to 36\n   * increased Merman Warrior hitpoints from 48 to 50 and attack from 7-4 to 8-4\n   * decreased Elvish defense in swamp from 40% to 30%\n   * increased Elvish Shaman ranged attack from 3-2 to 4-2\n   * decreased Elvish Shaman melee attack from 3-2 to 2-2\n   * decreased Elvish Druid melee attack from 4-2 to 3-2\n   * Elvish Shaman and Druid are now able to inflict slow through melee\n   * decreased Elvish Shaman cost from 18 to 17\n   * increased movement cost of movetype \"fly\" units in caves from 2 to 3\n   * increased Drake Clasher line movement cost in caves from 1 to 2\n   * decreased Drakes' defense in caves from 40% to 30%\n   * increased Revenant hitpoints from 40 to 43\n   * increased Deathblade hitpoints from 32 to 35\n   * increased Skeleton Archer ranged attack from 4-3 to 6-3\n   * increased Skeleton Archer experience needed to advance from 30 to 35\n   * increased Bone Shooter melee attack from 5-2 to 6-2\n   * increased Bone Shooter ranged attack from 7-3 to 9-3\n   * increased Soul Shooter melee attack from 6-2 to 8-2\n   * increased Soul Shooter ranged attack from 11-3 to 12-3\n   * Rebels can now choose White Mage as leader in Default era\n   * Rebels can now choose Mage of Light as leader in Age of Heroes era\n   * Nagas can no longer move on mountains\n * multiplayer scenarios\n   * added Sablestone Delta\n   * modified Den of Onis, Hornshark Island, Meteor Lake, Silverhead Crossing\n * server\n   * no longer rejects: control command with \"Side not found\"\n   * write a summary of commands when a fifo command is not recognized\n   * fix assertion failure in network_worker.cpp\n * move_unit_fake with illegal coordinates now logs error instead of\n   causing assertion failure crash (part of #13334)\n * various bug fixes and code cleanups\n\nVersion 0.9.2:\n * user interface improvements:\n   * sped up frame rate when scrolling the map\n   * connecting to a server now shows dialog that allows the user to cancel\n     the connection rather than blocking (#12614)\n   * sped up help\n   * added hotkey for cycle to previous unit (shift-N) (part of #10703)\n   * added hotkey for hold position (shift-space) (patch 3994)\n   * made the right Command key on Mac OS X work like the left one\n   * made menu widgets sortable\n   * made network dialogs show progress of data transfers again\n   * added display of unit defense over the terrain when choosing move\n   * added visual cue for movement in specific terrain when choosing move\n   * added %-to-kill to Damage Calculations\n   * fixed female units not appearing in help (broken since 0.9.0)\n   * added support for unit portraits in help (forum thread 6017)\n   * reduced required width of weapon area in help\n   * fixed items appearing in traits description (#12603)\n   * preserve trait ordering to distinguish quick,resilient and resilient,quick\n   * improved layout of objectives dialog\n   * made the text of disabled buttons grayed out\n   * made room for observers in DFool theme (#13027)\n   * added clock to DFool theme (#10650)\n   * added Experimental theme\n   * tweaked multiplayer lobby\n   * improved position and size of 'users' menu in multiplayer lobby (#13120)\n   * selecting colors for multiplayer sides now works correctly (#13255)\n   * typing a chat message quickly no longer lags the game (#12097)\n   * pasting multiline text now discards lines after the first (#12282)\n   * better checking for 'control' command arguments in multiplayer (#13086)\n   * added 'Advanced' preferences: 'binary save files', 'show combat'\n   * fixed village name being shown over shroud (#10690)\n   * made ordering of terrain data consistent (#10665)\n   * display error if save cannot be completed (eg. disk full) (#13232)\n   * fixed halo position when unit is in water (#12493)\n   * fixed titlescreen background disappearing on switch to fullscreen (#11863)\n   * disabled mousewheel scrolling during combat and unit movement (#12021)\n   * fixed pathfinding issues with respect to unreachable hexes (#11480, #13295)\n * campaign improvements:\n   * Eastern Invasion:\n     * Unexpected Appearance: fixed Dacyn not being [recall]-ed (#12830)\n     * Evacuation: units left on the wrong side of river now really die (#10619)\n     * Northern Outpost: killing enemies in \"wrong\" order is now a win (#12922)\n     * Northern Outpost: added a Holy Water bottle\n     * Captured: fixed bugs (#10512, #12998), but replaced scenario anyway\n     * Drowned Plains: new map and scenario modification, bug fixed (#13013)\n   * Heir to the Throne:\n     * Siege of Elensefar: fixed thieves not appearing (forum thread 5719)\n   * Son of the Black Eye:\n     * prevented the shamans from being recallable (#11932)\n     * Siege of Barag Gor: killing enemy leader is no longer a win\n     * End of Peace: increased turn limit 24 -> 26 due to Lieutenant upgrade\n     * Desert of Death: fixed invalid type=RogueAssassin on Hard\n     * removed duplicate file inclusion - campaign should now start faster\n     * more accurate difficulty labels\n     * Toward Mountains of Haag: fixed enemy making \"never pushed so far\" speech\n * new units\n   * added Drake Warden, Hurricane Drake and Drake Blademaster\n * unit balancing and modifications:\n   * slow now affects units with 2 or more attacks (not just 1 remaining)\n   * slow now works with berserk and is persistent across berserk rounds\n   * changed Lieutenant attack from 6-3 to 9-3\n   * reduced Fencer cost from 18 to 16\n   * changed Iron Mauler attack from 22-2 to 25-2\n   * changed Soulless attack from 7-2 to 7-3\n   * changed Soulless attack from plague to plague(Walking Corpse)\n   * Walking Corpse created by plague can advance to Soulless again (#13056)\n   * reduced Skeleton Archer cost from 15 to 14\n   * changed Skeletal Dragon resistances (only used in Eastern Invasion)\n   * tweaked Watch Tower, Pirate Galleon and Transport Galleon and removed\n     their multihex attacks (only used as real units in Son of the Black Eye)\n   * reduced Dwarvish Fighter cost from 17 to 16\n   * reduced Dwarvish Fighter line Axe (blade) damage by 1 point\n   * reduced Dwarvish Thunderer cost from 19 to 17\n   * reduced Gryphon Rider cost from 25 to 24\n   * Dwarvish Ulfserker stats reverted to those from version 0.8.11\n   * increased Thief cost from 12 to 13\n   * changed Elvish Lord and Elvish High Lord's ranged attack from fire to cold\n   * changed Elvish Ranger melee attack from 7-4 to 7-3\n   * changed Elvish Avenger melee attack from 10-4 to 9-4\n   * increased Walking Corpse cost from 5 to 6\n   * trolls can no longer get \"intelligent\" random trait\n   * increased Troll Whelp experience needed to advance from 32 to 33 XP\n   * increased Troll experience needed to advance from 52 to 60 XP\n   * Goblin Knight -> Direwolf Rider upgrade reduced from 150 to 65 XP\n   * added flaming arrow to orcish archer line as a new attack\n   * reduced Saurian Skirmisher movement to 6, increased its cost from 14 to 15\n   * changed Drake Gladiator from 65 to 59 HP\n   * changed Drake Gladiator pierce resistance from 10% to -10%\n   * changed Drake Slasher from 59 to 65 HP\n   * changed Drake Slasher pierce resistance from -10% to 10%\n   * increased Drake Slasher and Drake Gladiator cost to 45\n * Doc Paterson's modifications to the MP map catalogue\n   * added \"Divide and Conquer\", \"Silverhead Crossing\", \"Meteor Lake\",\n     \"Den of Onis\", \"Hamlets\", \"Hornshark Island\", \"Sulla's Ruins\",\n     \"1v1v1Hex\" (3p), \"Lagoon\" (4p), \"The Wilderlands\" (4p),\n     \"3-player Morituri\", \"3-player Blitz (Triple Blitz)\"\n   * removed \"Broken Bridge\", \"Battle For Weslin Bridge\",\n     \"Princess's Battlefield\", \"Three Rivers\", \"The Isles of the Damned\",\n     \"The Isle of Anduin\", \"Dwarven Wasteland\"\n * unit graphics and sound improvements:\n   * new death animations for: Ancient Lich, Ancient Wose, Arch Mage,\n     Assassin, Bandit, Battle Princess, Blood Bat, Bone Shooter, Bowman,\n     Cavalier, Cavalryman, Cave Spider, Chocobone, Cockatrice,\n     Commander, Cuttle Fish, Dark Adept, Dark Queen, Dark Spirit,\n     Deathblade, Death Knight, Deathmaster, Demilich, Direwolf Rider,\n     Dragoon, Duelist, Draug, Drake Burner, Drake Clasher, Drake Fighter,\n     Fire Drake\n   * new or modified graphics for Dragoon, Dwarvish Dragonguard,\n     Elvish High Lord, Elvish Lord, Halberdier, Lady Parandra, Noble Lord,\n     Royal Guard, Soulshooter, Swordsman\n   * fixed several image files being referred to by wrong name\n   * new Soulless variation images\n   * added flaming arrow images\n * language and i18n:\n   * language fixes and polishing (English) (also fixed #12613, #10714)\n   * updated MANUAL\n   * new translations: Serbian\n   * updated translations: Afrikaans, British English, Catalan, Chinese,\n     Czech (#12864), Estonian, Finnish, French, German (also fixed\n     #13147), Greek, Hungarian, Italian, Japanese, Polish, Russian,\n     Slovenian, Spanish, Swedish, Turkish\n   * updated gettext support to GNU gettext 0.14.4\n   * removed the intl/ directory, since libintl is now widespread enough\n     for gettextize to default to not installing it\n * WML improvements:\n   * new WML preprocessor, allows for nested parentheses in macros (#10995)\n   * note= attribute for [objectives], shown as footer, eg. for hints (#12927)\n   * increase_attacks= attribute of [effect] now allows percentages (#13033)\n   * new [random] representation as list allows complex scenarios to be saved\n     (forum thread 5659)\n   * better diagnostics on parsing: show file inclusion sequence\n   * added [scroll_to] (patch #3388, forum thread 3235)\n   * added [advancefrom] (patch #3625, forum thread 4186)\n   * [recall] tag can now work even if the recruiter is not in a keep\n     (#10543, #11735, #12974)\n   * next_scenario: tentative start of MP campaign support\n   * tidied up game.cfg and traits.cfg; game startup should now be faster\n * editor improvements:\n   * fixed editor file chooser when starting directory has many files (#11698)\n   * the starting position in the editor now starts counting from 1 (#10625)\n * improvements and bug fixes of the logging system\n * fixed replays with idle_ai, as seen in user scenario Rebellion (#12943)\n * saving during an AI unit's turn no longer makes that unit disappear (#13023)\n * fixed Windows build crashing when trying to recruit units (#12926)\n * tutorial start and end scenario savegames can now be loaded (#10332)\n * various bug fixes and code cleanups (including #13264 #12954 #12734 #13263)\n\nVersion 0.9.1:\n * user interface improvements:\n   * added a shortcut for making screenshots\n   * added support for Home/End in menus, ctrl-a/e/u in textboxes\n   * fixed the formatting of wrapped text lines being lost\n   * fixed the screen being incorrectly redrawn when resizing\n   * fixed bug #12654 causing prestart events to be shown to the player\n   * fixed bug #12758: gendered unit types repeated in attack type tooltip\n   * fixed bug #12612: no description in help for units at first encounter as upgrade\n   * fixed excess space in MP \"/me \" emotes\n * campaign improvements:\n   * fixed bug in Northern Winter (HttT) where the Orcs attack each other\n   * fixed the 'knockback' for WML Plague in TRoW\n   * fixed missing music in the Crossroads (HttT)\n * multiplayer improvements:\n   * fixed the lobby chat window not wrapping text\n   * fixed the lobby chat staying at top when changing lobby screens\n   * fixed the multiplayer \"wait\" lobby screen not correctly displaying empty and vacant slots.\n   * made renaming units visible on replays and on multiplayer games\n   * fixed bug #12759: \"number of turns\" not being remembered when creating multiplayer games\n   * fixed bug #12791: Statistics doesn't reset in multiplayer games.\n * terrain improvements:\n   * new forest tiles\n * unit balancing:\n     * Dwarvish Guardsmen line removed as leaders in multiplayer\n     * Dwarvish Guardsmen line only get 1 trait instead of 2\n     * revert Drakes pierce resistance to 110%\n     * revert Orcish Assassin to 3-3 ranged attack\n     * reduced resistance of Ulfserker and Berserker\n     * Elvish Rider: increase melee to 6-4, increase ranged to 7-3\n     * Elvish Outrider: increase melee to 8-4, increase ranged to 7-4\n * language and i18n:\n   * updated English and German manpages\n   * language fixes and polishing (English)\n   * fixed the description of traits in the help & tutorial\n   * fixed user-campaigns not being translatable anymore\n   * fixed some untranslatable strings\n   * new translations:\n     * Turkish\n   * updated translations:\n     * Afrikaans\n     * British English\n     * Catalan\n     * Chinese\n     * French\n     * German\n     * Hungarian\n     * Italian\n     * Japanese\n     * Slovenian\n     * Swedish\n   * added a ./configure --enable-dummy-locales option for Wesnoth to generate\n     its own set of i18n locale files and use them instead of the potentially\n     missing system files (highly experimental)\n   * made the width of the non-breaking space in Vera font be half that of\n     the normal space, instead of twice that width.\n * added support for num_traits in individual unit_types overriding race num_traits\n * fixed the missing 'elder-mage-halo7.png' in the Elder Mage\n * fixed the advanceto field in Dark_Adept.cfg\n * fixed some OoS errors when chatting while a fight is taking place\n * fixed the spurious \"statistics verification failed\" messages\n * fixed bug #12611: modifying villages with [terrain] interacting badly with capturing them.\n * fixed bug #12698: segfault with --decompress on relative path\n * various bug fixes and code cleanups\n\nVersion 0.9.0:\n * user interface improvements:\n   * added alternative theme: DFool\n   * added theme dialog, launched with \":theme\"\n   * made help use single click instead of double click\n * campaign modifications\n   * tutorial polishing\n   * updated 'The Siege of Elensefar', 'Mountain Pass', 'The Swamp of Esten',\n     and 'A Final Spring' to use the new ford terrain (Heir to the Throne & The Rise of Wesnoth).\n   * modified the behaviour of the thieves in 'The Siege of Elensefar' (Heir to the Throne)\n   * updated Heir to the Throne and The Rise of Wesnoth to use the ruined keeps where appropriate\n   * dialog improvements in Eastern Invasion\n   * new map for Drowned Plains (Eastern Invasion)\n   * changed the Wesfolk Leader's guards to poachers in 'The Fall' (The Rise of Wesnoth)\n * multiplayer improvements\n   * rewrote multiplayer lobby code\n   * changed Broken_Bridge to use new ruined castles\n   * added new multiplayer maps: Icy Waters, Clash\n   * changed King_of_the_Hill to use a Dwarvish Castle\n   * chat messages are now displayed in the user's colour when prefixed with /me\n   * split the map and scenario file for 'An Island'\n   * disabled debug mode for multiplayer games\n   * made it possible to join games using eras which only are on the host-side\n   * made it possible for the server to redirect the clients to another host\n     (client-side support only for now)\n * terrain improvements\n   * improved transitions:\n     * swamp\n     * keep to keep\n   * added new terrains:\n     * ruined castle\n     * sunken ruin\n     * swamp-ruin\n     * river ford\n     * lava\n * unit graphics and sound improvements\n   * updated images for several units: Cave Spider, Haldric, Lady Jessica,\n     Mermaid Priestess, Mermaid Diviner, Merman Hunter, Merman Javelineer,\n     Merman Spearman,Walking Corpse, Elvish Fighter, Captain, Marshal, Hero,\n     Champion, Archer, Marksman, Sharpshooter, Ranger, Avenger, Shyde, Orcish Archer,\n     Orcish Crossbowman, Human Spearman\n   * added drake, mounted, saurian, swimmer, troll, and wose variations to Walking Corpse\n   * updated Haldric's portrait in The Rise of Wesnoth\n   * added graphics for generic Lich-Lords, the Archmages in 'The Sewer of Southbay',\n     and the Lady Outlaw (The Rise of Wesnoth)\n   * added support for animated deaths, and added animations for Skeleton and\n     Revenant, and all Walking Corpse variations\n   * fixed several image files being referred to by wrong name\n   * removed sound of thrown spear from Drake Clasher spear melee attack\n   * added get_hit_sounds to Elder Mage (Delfador) and Elvish Lady (Parandra)\n * unit balancing:\n   * Soulless: dropped cost to 11, increased  HP to 28\n   * Merfolk: defense on water and swamp reduced by 10%.\n   * Merman Hunter cost: 13 -> 15. Melee attack: 5-2 -> 4-2.\n   * Naga: defense on shallow water reduced by 10%.\n   * Naga Fighter cost: 13 -> 14.\n   * Deep sea creatures: defense on water reduced by 10%.\n   * Orcish Assassin: increased cost by 1 gold\n   * Troll Whelp:  increased cost by 1 gold\n   * Gryphon units: improved defense on mountains.\n   * Steadfast dwarvish units: increased movement speed.\n   * Dwarvish Thunderer: improved melee attack to 6-2, and 3 more HP\n   * Dwarvish Guardsman:  improved attack to 5-3.\n   * Dwarvish Fighter: 2 more HP\n   * Berserkers: made berserk only active on offense.\n   * Elves: added the race specific 'dextrous' trait (increases damage on ranged attacks)\n   * Drakes: made them lawful\n   * Drakefly: increase pierce vulnerability to 20%\n   * Drakefoot: increase pierce vulnerability to 10%\n   * Drake Burner: decrease HP to 42, changed ranged attack to 6-4\n   * Drake Clasher: decrease HP to 43\n   * Drake Fighter: decrease ranged attack to 3-3\n   * Fire Drake: decrease HP to 54, decrease ranged to 7-5\n   * Drake Flameheart: decrease HP to 84, increased ranged to 8-4\n   * Drake Flare: decrease HP to 62, increased ranged to 7-4\n   * Drake Gladiator: reduce HP to 65\n   * Drake Glider: increase cost to 16, increased ranged to 3-3\n   * Inferno Drake: decrease HP to 71, increase ranged to 8-6\n   * Sky Drake: increase cost to 27, increased ranged to 5-3\n   * Drake Slasher: reduce HP to 59\n   * Drake Warrior: reduce ranged attack 5-3\n   * made 'loyal' a trait which is only given to units explicitly by the scenario designer\n * language and i18n:\n   * language fixes and polishing (English)\n   * fixed hero names not being translatable\n   * made text strings automatically choose an appropriate font\n   * fixed untranslatable strings\n   * support to display Chinese and Japanese translations\n   * new translations:\n     * Afrikaans\n     * Chinese\n     * Estonian\n     * Japanese\n   * updated translations:\n     * Basque\n     * British English (100%)\n     * Catalan\n     * Dutch (100%)\n     * Finnish\n     * French\n     * German (100%)\n     * Greek\n     * Hungarian\n     * Italian\n     * Latin,\n     * Norwegian\n     * Polish\n     * Portuguese (Brazilian)\n     * Russian\n     * Slovak\n     * Slovenian\n     * Spanish\n     * Swedish (100%)\n * WML modifications\n   * rewrote WML parser with stricter grammar and better error handling\n   * changed the [movement costs] WML tag into [movement_costs]\n   * added generate_description to [unit], to allow automatic generation of user_description\n   * made [capture_village] accept a location range\n   * added support for [objectives] event actions, to set objectives.\n   * added the ability for sides to have different objectives.\n   * added UNIT, UNDEAD_UNIT, and PLACE_IMAGE macros to utils.cfg\n * changed plague to allow plague(unit_type) as well as undead_variation\n * more progress towards a completely-usable 320x240 PDA port (campaigns should now be playable)\n * fixed bug that made the ai recruit badly\n * fixed auto-move using up all of the remaining moves when\n   there are no empty hexes on the unit's path (#9649)\n * fixed merged castles in random maps (#8848)\n * fixed villages in the rightmost column not getting a name (#11152)\n * fixed drawing error in the titlescreen (#12534)\n * added debug command to give gold to current side\n * fixed user campaigns appearing twice with zipios enabled\n * slight cleanup of the terrain graphics code\n * added a --disable-game configure option to avoid compiling and installing the game\n * share the object files between all the programs to halve the time of a full compilation\n * disabled \"End turn\" button when it is irrelevant.\n * added OS X ScrapManager support\n * improved threading of campaign server\n * fixed the dialog menus being larger than the screen\n * made the game remember the last server used for downloading campaings\n * when building out of the source tree, configure now creates the translations/\n   directory in the source tree, but does not attempt to do so if it is read-only\n * code refactoring and dependency cleanups\n * various bug fixes and code cleanups\n\nVersion 0.8.11:\n * new translation:\n   * British English\n * updated translations:\n   * Basque\n   * Catalan\n   * French\n   * German\n   * Italian\n   * Latin\n   * Slovenian\n   * Swedish\n * in language-selection dialog, consistently use native name for all languages,\n   with the (hopefully) official latin transcription for those that cannot be displayed\n   in the default font (russian, bulgarian, greek)\n * language fixes and polishing (English)\n * fixed slovene being wrongly localized as sl_SL insteof sl_SI\n * campaign fixes and changes:\n   * fixed Delfador appearing in the water when turns run out in 'The Bay of Pearls' (HttT)\n   * updated maps for: 'Northern Winter' & 'Mountain Pass' (HttT)\n   * updated 'Evacuation' & 'Captured' (EI)\n   * fixed the talking tentacle in 'Temple of the Deep' (TroW)\n   * switch to the new Merfolk and Nagas in TRoW and HttT\n * unit fixes and changes:\n   * fixed several units using non-existing sound files\n   * added sounds (existing) to several attacks\n   * updated all uses of the 'old fireball' to use the 'new fireballs'\n   * added new images and animations for all mages\n   * updated the attack frame sequences for the Drakes\n   * added attack icons for 'slam' and 'ballista'\n   * obsoleted all instances of the old 'Mermen' & 'Naga' unit lines\n   * modified defense weight for Drake Slasher\n   * decreased hitpoints for Gate\n   * renamed 'Elvish Lady Parandra' 'Elvish Lady'\n   * made all mages use staff (impact) as melee attack\n   * added support for directional attack animations\n * fixed zipios support so that user campaigns custom images and sounds can be loaded\n * fixed locale-dependent numeric input/output bug, it allowed units to walk on the water,\n   and prevented the AI from being correctly configured in campaigns\n * use fixed-point arithmetics in critical functions, so that wesnoth can\n   reasonably run on an FPU-less machine (eg. ipaq PDA)\n * fixed the width of 'HP' and 'XP' in the right side panel\n * fixed some multiplayer connect bugs\n * fixed the AI not going through the no-ZoC of lv0 units when it should have\n * code cleanups and bug fixes\n\nVersion 0.8.10:\n * user interface tweaks\n * updated translations:\n   * catalan\n   * french\n   * german\n   * latin\n   * russian\n   * swedish\n * updated manpages\n * language fixes and polishing (English)\n * updated images for footpad and dwarvish sentinel\n * scenario revisions for 'The Heir to the Throne' campaign:\n   * Dwarven Doors & Siege of Elensefar- Decreased the AI's gold\n   * Bay of Pearls - Added an extra keep square on EASY\n   * Sceptre of Fire- Reduced that AI's income on HARD\n   * Northern Winter- Updated the map to use the snow tiles\n   * tweaks to several maps\n   * difficulty balancing for most scenarios\n * scenario revisions for 'Son of the Black Eye' campaign:\n   * End of Peace\n * scenario revisions for 'The Eastern Invasion' campaign:\n   * Escape Tunnel\n * scenario revisions for 'The Rise of Wesnoth' campaign:\n   * reduced the AI's gold in 'A Harrowing Escape'\n   * allowed the AI to initially recruit scouts in several scenarios\n   * altered / fixed the recruitment pattern in several scenarios\n   * tweaks to 'The Plan' & 'Epilogue' (both non-playable)\n * really removed ZoC from lv0 units this time\n * fixed editor to work with zipios support enabled\n * fixed zipios support to honor path to data given on command-line\n * fixed zipios support crashes when running from CVS\n * new cmd line option --fps to display frames/second refresh in game\n * modified how damage is calculated (RATE)\n * made unit movement smoother\n * fixed poison not being cured when the unit had too much HP (#11565)\n * fixed bugs when replacing player with observer in mp (#11231)\n * fixed several pathfinding bugs (#11769)\n * fixed cave random map generation, especially Scepter of Fire (#11748)\n * fixed dialogs shown at end of MP game (#11830)\n * fixed units not being correctly displayed on minimap for odd x-locations.\n * added several fortunes\n * code cleanups and bug fixes\n\nVersion 0.8.9:\n * new translations:\n   * bulgarian\n   * latin\n * updated most translations\n * new or updated portraits:\n   * Konrad, Delfador, Li'sar and Kalenz (Heir to the Throne)\n   * Gweddry and Dacyn (Eastern Invasion)\n * added missing animations for:\n   * Mermaid Initiate, Mermaid Enchantress and Mermaid Siren\n   * Ancient Wose\n   * Goblin Direwolf Rider and Goblin Knight\n   * Gryphon\n   * Skeleton Archer, Revenant and Death Knight\n   * Troll Warrior, Troll Hero and Great Troll, Young Ogre\n   * Grand Knight, Lord and Master Bowman\n   * Cuttlefish\n * new or overhauled graphics for:\n   * Footpad, Outlaw, Thief and Rogue\n   * Orcish Shamans, Elvish Lord and Elvish High Lord\n   * Ghost, Nightgaunt, Shadow, Spectre and Wraith\n * new female units for:\n   * Footpad, Thief, Rogue and Assassin\n * added new tiles:\n   * desert\n   * desert hills\n   * desert mountain\n   * desert villages (adobe and tent)\n   * desert road\n   * desert oasis\n   * savanna\n   * tropical forest\n   * tropical forest village\n * added icon for petrified units\n * fixed missing diagonal projectiles on many units\n * removed old unused images:\n   * time-of-day\n * downloaded campaigns no longer require a restart to be able to play them\n * new units:\n   * Javelineer\n * unit balancing:\n   * Naga fighter: increased hitpoints from 27 to 30\n   * Merman Hoplite: increased resistances and damage\n   * Mermaid Initiate/Enchantress/Siren: reduced number of attacks,\n     increased damage, removed special resistances\n   * Mermaid Initiate: increased experience needed to level, other minor tweaks\n   * Swordsman: increase resistance to blade and impact\n   * Royal guard: increase resistance to blade and impact\n   * Pikeman: increase resistance to pierce, change attacks number and damage\n   * Halberdier: increase resistance to pierce, increase blade damage, decrease pierce damage\n   * Saurian Tribalist, Saurian Icecaster, Saurian Soothsayer: remove 'skirmish'\n   * Saurian Skirmisher: Increase cost to 14 gold\n   * Wraith, Spectre: reduce resistance to blade, pierce, impact by 20%, increase HP by 10%\n   * Poacher: Reduce cost to 14\n   * Tentacle of the Deep: Change movement type to 'float'\n   * Flying creatures can now cross canyons\n   * Removed ZoC from level 0 units\n * language fixes and polishing (English)\n * added 'x' to the terrain letters reserved for campaign writers\n * scenario revisions for 'The Eastern Invasion' campaign:\n   * Lake Vrug\n   * Two Paths\n   * Northern Outpost\n   * Elven Alliance\n   * Unexpected Appearance\n   * Escape Tunnel\n   * Tribal Warfare\n   * Approaching Weldyn\n * scenario revisions in Heir to the Throne:\n   * Blackwater Port- Make the port look like more of a port, other minor changes that mute each other out\n   * The Isle of Anduin- Extend shallow water around the Isle, remove the Saurians in favour of Goblins\n   * The Bay of Pearls- Flip the map so the Ocean is on the West side\n   * Muff Malal's Peninsula- Make it a peninsula, give Konrad the option of fighting (bonus) or fleeing\n   * Isle of the Damned- Touched up the map so it is clear that the islands\n     are islands, made the islands tropical, and moved the temples\n   * The Siege of Elensefar- New map, and other changes\n   * The Crossroads- New map, weaker more diffuse ambushes, and less gold for the Orcs\n   * The Princess of Wesnoth- Minor map changes, and made the scenario harder\n   * Set result=continue in 'Plunging into the Darkness'\n * scenario revisions in The Rise of Wesnoth:\n   * fixed {CROSS} in 'Temple of the Deep'\n   * fixed sign glitch\n   * reduced the difficulty of TRoW on 'Hard' particularly, and reduce\n     the difficulty slightly on 'Easy' & 'Normal'\n   * A New Land - Sync with the map from Bay of Pearls\n   * Cursed Isle- Sync with the map from Isle of the Damned, make the temples match locations\n   * Made 'Peoples in Decline' and 'Rough Landing' look tropical\n * multiplayer improvements\n   * multiplayer game settings (map name, gold per village, ...) are saved now\n   * added several missing units\n   * Random Map (Desert) uses new desert environment; also tweaked\n   * make the cave in 'An Island' (MP) be 'underground'\n   * enlarge side descriptions for remote player during game creation\n   * added support for player nick tab completion and /me-substitution in game chat\n * theme syntax improvements:\n   * added support for specifying a reference rectangle when using relative-positioning syntax\n   * added support for theme inheritance; avoids duplicating mostly-unchanged code\n * added a \"droid\" game command, and allow for computer player to do a campaign\n * added a \"canrecruit\" filter\n * updated manpages and added support for translating them\n * \",\" is no longer the column separator, it does not have to be escaped\n   anymore in some translations, \"=\" is the new separator (#10368)\n * take advantage of libzipios++ if available, to read cfg files,\n   maps, images, sound effects, and fonts from zip files.\n   Call \"make zip-install\" to install data zipped.\n * removed drain allowing to go past maximum hp\n * removed long-range attacks (Pirate Galleon, Transport Galleon, Wall Guard, Watch Tower)\n * fixed various bugs with respect to multiplayer game setup\n   (#10896, #11236, #11265, #11442, #11527)\n * added new pathfinder (Redsun)\n * fixed some pathfinding bugs\n * fixed untranslatable strings\n * fixed \"damage inflicted\" statistic (incorrectly computed when defending)\n * fixed that move-and-attack allowed attacking stone units\n * fixed the side turn event being fired incorrectly\n * fixed repeat recruit hotkey not respecting WML recruit changes\n * removed support for turning off genders\n * removed obsolete tools: make_translation merge_translations\n * removed obsolete id= for messages in TRoW & HttT\n * code cleanups and bug fixing\n * added a wesnoth \"fortunes\" file\n\nVersion 0.8.8:\n * campaign server stores size of campaigns\n * user interface improvements:\n   * consistently compute minimum allowed zoom value according to screen size\n   * improved readability of chat messages on light backgrounds (#10900)\n * made it possible to move and attack with a single click\n * graphics improvements:\n   * portraits for all TRoW characters that speak in more than one scenario added\n   * a portrait for Queen Asheviere in HttT\n   * hotseat and vs AI multiplayer icons\n   * new or modified unit images: orcish warlord, soul shooter, bone shooter\n   * preparations for mountain and desert village graphics\n   * new attack icons: bone arrow stab, cleaver, morning star, crush\n * scenario fixes for 'Eastern Invasion' campaign:\n   * Weldyn Under Attack (#11051)\n   * Capture\n   * fixed end of campaign settings\n * scenario fixes for 'Son of the Black Eye' campaign:\n   * Saving Inarix\n * scenario fixes for 'The Rise of Wesnoth' campaign:\n   * The Vanguard, fixed chest placement\n   * make the chests squeak\n * scenario fixes and balancing for 'Heir to the Throne' campaign:\n   * A Test of the Clans\n   * Return to Wesnoth\n * unit balancing:\n   * Goblin Pillager: reduced HP\n   * Goblin Impaler: reduced HP\n   * Gryphon Rider: reduced cost\n   * Drake Clasher: reduced cost, increase resistance to pierce\n   * Drake Gladiator: reduced cost, increase resistance to pierce\n   * Drake Slasher: reduced cost, increase resistance to pierce\n   * Drake Burner: increase cost\n   * Elvish Scout: increased ranged damage, reduced defense in forest\n   * Elvish Rider: reduced defense in forest\n   * Elvish Outrider: reduced defense in forest\n   * Soul Shooter: melee changed from impact to pierce\n   * Bone Shooter: melee changed from impact to pierce\n   * Mage: reduced cost\n   * minor adjustments to Drakefoot & Drakefly (& the Drakes in general)\n   * LESS_NIMBLE_ELF macro\n * removed obsolete units:\n   * Cavalry\n   * Goblin Direwolver\n   * Heavy Infantry\n   * Merman Lord\n   * Orcish Crossbow\n   * Scout\n * new units:\n   * Draug\n   * Naga Fighter\n   * Naga Warrior\n   * Naga Myrmidon\n   * Saurian Flanker\n   * Deathblade\n * changed Dragoon's and Cavalier's pistol to crossbow.\n * renamed 'Saurian' to 'Saurian Skirmisher' and 'Saurian Warrior' to 'Saurian Ambusher'\n * language fixes and polishing (english)\n * revised MANUAL\n   * english\n   * swedish\n * updated translations:\n   * catalan\n   * french\n   * german\n   * greek\n   * hungarian\n   * italian\n   * polish\n   * portuguese\n   * russian\n   * slovak\n   * spanish\n   * swedish\n * multiplayer improvements\n   * Charge map\n   * CastleHoppingIsle map updated\n * give Woses, Saurians, Ogres, & Drakes names\n * give Saurians & Drakes traits\n * give the Drakes music in Multiplayer\n * new rectangle syntax allowing width/height and relative positionning in themes\n * new --enable-tinygui configure flag for adventurous PDA users\n * fixed units incorrectly not using the spear icon\n * fixed missing diagonal projectiles on several units\n * fixed Gwiti's animation (#10926)\n * fixed translations being searched for in installdir when running in builddir\n * added support for concatenating strings in wml files, for the benefit of i18n\n * fixed code for handling objects (#10904, #10954, #10963)\n * fixed many untranslatable strings\n * fixed layering of desert and dirt\n * fixed multiplayer setup screen being broken on low resolutions (#10919)\n * fixed resizing multiplayer lobby creating some graphic glitches\n * fixed --enable-lite for current image location\n * fixed wmlxgettext not working properly with msdos line-endings in multiline strings\n * fixed documentation (#10999)\n * fixed zoom behavior (#9890)\n * fixed unit teleportation (#10588, #11213)\n * fixed several crashes (#10959, #11102, #11115, #11158)\n * improved 320x240 resolution support\n * support for unrenamable units\n * install wmlxgettext so that it can be used by user campaigns\n * rewrote hotkeys code\n * rewrote widgets code\n * image and data-file cleanups\n * code cleanups\n * WML bug fixes\n\nVersion 0.8.7:\n * user interface improvements:\n   * display savegame version in load dialog\n   * shadows for labels to make them visible on each type of terrain\n   * help system speed optimizations\n * graphics improvements:\n   * bridge, ice, castle floor, grassland\n   * unit images and attack animations\n   * Haldric, Burin, Edmond\n   * The Green Isle map (The Rise of Wesnoth)\n * in-game help updates and enhancements\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Crossroads\n * scenario balancing for 'The Eastern Invasion' campaign:\n   * Weldyn under Attack\n   * Northern Outpost\n * increased 'drakefoot' and 'drakefly' defense on grassland, sand and forest\n * unit balancing:\n   * Halbardier: increased melee damage\n   * Pikeman: increased melee damage\n * new units:\n   * Horse Lord\n   * Mermaid Diviner\n   * Mermaid Enchantress\n   * Mermaid Initiate\n   * Mermaid Priestess\n   * Mermaid Siren\n   * Merman Entangler\n   * Merman Fighter\n   * Merman Hoplite\n   * Merman Hunter\n   * Merman Javelineer\n   * Merman Netcaster\n   * Merman Spearman\n   * Merman Triton\n   * Merman Warrior\n   * Mounted Captain\n   * Mounted Commander\n * language fixes and polishing (english)\n * new translations:\n   * slovenian\n * updated translations:\n   * danish\n   * dutch\n   * french\n   * german\n   * greek\n   * hungarian\n   * italian\n   * norwegian\n   * polish\n   * portuguese\n   * russian\n   * slovak\n   * spanish\n   * swedish\n * allowed translating female unit names differently than male ones for languages needing it\n * multiplayer improvements\n   * winter, desert and marsh random map generators\n   * map descriptions\n   * new maps: Broken Bridge\n   * experience requirement now uses 10% increments\n   * updated lobby\n * added naming for coastal villages\n * re-enabled italics and underlining for texts\n * fixed road layering in terrain-graphics.cfg\n * fixed assumption that \"no advance\" == 500 XP required in help code\n * fixed bugs in 'The Eastern Invasion: Weldyn Under Attack' scenario\n * fixed ice layering in terrain-graphics.cfg\n * fixed recruit/recall bug multiplayer\n * fixed gold not being reset in multiplayer\n * fixed wmlxgettext for header generation\n * fixed showing incorrect teams when loading a saved multiplayer game\n * fixed compile error on 64bit systems\n * fixed 'Drake Slashers' first strike\n * fixed AI not being aware that units in villages can not be plagued\n * fixed some missing unit descriptions\n * fixed lots of untranslatable strings\n * fixed female units lacking gender attribute\n * fixed wmlxgettext bugs\n * fixed window not always refreshing on resizing\n * fixed network threading bugs\n * fixed bug in vgettext\n * fixed assertion failure in playturn.cpp\n * fixed long-standing strings in editor\n * added specifying the maximum length of the text widget in show_dialog\n * added displaying help strings in smaller font if they don't fit in the screen\n * 320x240 resolution with USE_TINY_GUI\n * added an ellipsis on the button text when it does not fit on the button\n * moved menu strings into wesnoth-lib textdomain\n * moved tips from english.cfg to tips.cfg\n * per-language cache files\n * forced config reload upon language change\n * switched networking code to use the new logging system\n * switched image.cpp to use the new logging system\n * improved network threading\n * added server facility to record the way games end\n * improved 'Out of Sync' detection\n * imported SDL_ttf into the Wesnoth source tree, removed the dependency\n   to SDL_ttf, added a dependency to libfreetype2\n * fixed memory corruption errors on font rendering in SDL_ttf\n * image and data-file cleanups\n * code cleanups\n\nVersion 0.8.6:\n * user interface tweaks\n * graphics improvements:\n   * leadership frames\n   * attack frames\n   * grassland-to-water transitions\n   * pier, bridge-ends\n * increased experience required to advance for Haldric and Jessica\n   (both from The Rise of Wesnoth campaign)\n * reduced 'Elvish High Lord' movement to 6\n * tweaks for 'undeadfly' movetype: neutralized blade, pierce and impact resistances\n * tweaks for 'spirit' movetype: increased resistance against blade, pierce and impact\n * 'undeadspirit' movetype (copy of 'spirit' movetype with vulnerability to 'holy')\n * unit balancing:\n   * Blood Bat: reduced hitpoints\n   * Ghoul: reduced movement, reduced hitpoints\n   * Ghost: switched movetype to 'undeadspirit', increased hitpoints\n   * Necrophage: reduced movement, reduced hitpoints\n   * Nightgaunt: switched movetype to 'undeadspirit', increased hitpoints\n   * Shadow: switched movetype to 'undeadspirit', increased hitpoints\n   * Spectre: switched movetype to 'undeadspirit', increased hitpoints\n   * Wraith: switched movetype to 'undeadspirit', increased hitpoints\n   * Vampire Bat: reduced hitpoints\n * new units:\n   * Grand Marshal\n * language fixes and polishing (english)\n * updated translations:\n   * brazilian\n   * catalan\n   * danish\n   * greek\n   * hungarian\n   * italian\n   * portuguese\n   * spanish\n   * swedish\n * multiplayer improvements\n   * new lobby\n   * leader indicator\n   * random map generator improvements\n   * scrollbar for map selection\n   * threading for multiplayer server to get rid of freezes\n * fixed schedules textdomain\n * fixed villages being over tree tops\n * fixed 'Direwolf Rider' incorrectly having 'smallfoot' movetype\n * fixed 'Elvish Shaman' healing halo\n * fixed showing faction leader incorrectly in multiplayer games when loading from savegame\n * fixed long names in lobby going over the reserved area (#10414)\n * fixed 'Duelist' white border problem\n * fixed untranslated female elvish marksman (#10599)\n * fixed hex detection\n * fixed multiplayer game aborting when player joined with \"random\" faction (#10604)\n * fixed savegames for beginning of tutorial not loading\n * fixed missing fire_event in  'Son of the Black Eye: Saving Inarix'\n * fixed Wesbowl\n * fixed compiling errors in the zip-directory (#10189, #10362)\n * fixed lag when chatting in multiplayer lobby\n * fixed --with-kde and --with-gnome\n * fixed 'About' translations being duplicated for no real good reason\n * fixed untranslatable strings in help\n * fixed some abilities not being translatable\n * fixed holywater bug in 'The Rise of Wesnoth: Cursed Isle'\n * fixed top toolbar leaking ownership information for villages under fog of war\n * fixed victory conditions for 'Son of the Black-Eye: Silent Forest'\n * fixed victory conditions for 'The Rise of Wesnoth: Sewer of Southbay'\n   and 'The Rise of Wesnoth: Fallen Lich Point'\n * support for bridges ending on water\n * switched using gettext-standard multi-textdomain\n * suppressed warnings from msgfmt\n * po-header cleanups\n * added support for desktopdir and icondir customization for --with-kde and --with-gnome\n * logging system improvements\n * campaign image-files hierarchy cleanup\n * code cleanups\n\nVersion 0.8.5:\n * campaign server (campaignd) and capability to download campaigns from campaign server(s)\n * sorting of campaigns by rank\n * campaign descriptions (text + images) in the campaign selection dialog\n * user interface tweaks\n * :refresh command\n * graphics improvements:\n   * forests\n   * attack icons\n   * unit images and animation frames\n   * teleportation animations\n * tutorial updates\n * scenario balancing for 'Heir to the Throne' campaign\n   * Return to Wesnoth\n * scenario balancing for 'The Rise of Wesnoth' campaign\n   * pretty much all scenarios\n * scenario balancing for 'The Eastern Invasion' campaign\n   * An Unexpected Appearance\n   * Weldyn under Attack\n   * Tribal Warfare\n * drakefoot movetype\n * remade Drakes and removed obsolete ones\n * added hammer attack to Dwarvish Lord\n * new units:\n   * Drake Flare\n   * Drake Gladiator\n   * Drake Glider\n   * Elvish Enchantress\n   * Elvish Sorceress\n   * Elvish Sylph\n   * Goblin Impaler\n   * Goblin Spearman\n   * Inferno Drake\n   * Saurian Icecaster\n   * Saurian Soothsayer\n   * Saurian Tribalist\n   * Sky Drake\n   * Troll Rocklobber\n * unit description updates\n * language fixes and polishing (english)\n * added FreeSans font\n * updated translations:\n   * basque\n   * catalan\n   * czech\n   * danish\n   * dutch\n   * finnish\n   * french\n   * german\n   * greek\n   * italian\n   * norwegian\n   * polish\n   * portuguese\n   * russian\n   * slovak\n   * spanish\n   * swedish\n * AI improvements\n   * less inclined to attack after moving\n   * more inclined to make risk-free attacks\n * multiplayer improvements\n   * added increments to sliders\n   * allowed choosing your leader\n   * new maps: Blitz, Castle Hopping Isle, An Island\n   * gave Goblin Spearman to northeners and removed Saurian from them\n   * gave Saurian to Drakes on 'Age of Heroes' and 'default' eras\n   * added Saurians to 'Classic' era\n * added new AI parameter: attack_depth\n * made units only die if they have 0 or less hitpoints after the event has been fired\n * tweaked Drake recruitment patterns (AI)\n * fixed 'make clean' not cleaning everything\n * fixed 'make uninstall' not working because of syntax error\n * fixed 'system default language' selection\n * fixed several graphic glitches\n * fixed a bug where tiles from terrain_graphics rule did not have\n   the per-rule image when only defined through [map]\n * fixed bug with [not] tags in filters\n * fixed missing semicolon in sound.cpp\n * fixed tutorial talking of elves having 70% defense on grass\n * fixed many untranslatable strings in e.g. statistics, statusbar tooltips, units\n * fixed missing movetype for 'Pirate Galleon' and 'Transportation Galleon'\n * fixed General crossbow attack graphics glitch\n * fixed \"wait for start\" lobby dialog\n * fixed units not submerged when moving/fighting\n * fixed bug where [modify_side] couldn't change a side's team name properly\n * fixed victory and defeat conditions on 'The Eastern Invasion: Approaching Weldyn' scenario\n * fixed fixed illegal character 'x' in 'The Eastern Invasion: Weldyn Under Attack' scenario\n * fixed defeat conditions on 'The Eastern Invasion: Escape Tunnel' scenario\n * fixed knight appearances bug on 'The Eastern Invasion: Mal-Ravalans Capital' scenario\n * fixed double '{BIGMAP_BLACKWATER_PORT}' in 'Heir to the Throne: Blackwater Port' scenario\n * fixed gold and load game problem\n * fixed divide-by-0 error in AI\n * fixed statistics dialog seemingly endless loop\n * fixed firing events from a kill event possibly causing crash\n * fixed AI allies updating shroud and fog at the end of their turn\n * fixed bug in 'show enemy moves'\n * fixed pressing 'shift' while scrolling to your leader would halt scrolling\n * fixed many deprecated units in scenarios\n * fixed statistics not being reset between multiplayer games\n * fixed forest<->snow forest transitions\n * fixed crash in editor\n * fixed bug in replay with disbanding units\n * fixed playing multiplayer and then playing a campaign could not load the multiplayer game up again\n * fixed 'Messanger 0f Doom' in 'The Eastern Invasion: Weldyn under Attack' scenario\n * restored \"Ambushed!\" text in 'Heir to the Throne: Crossroads' scenario\n * added a way to specify the actual position of multi-hex tiles\n * added option to preferences file, 'unit_genders', which determines\n   whether units with different genders should be used\n * added internationalization parameter for Mac OS X\n * automatic computation of font sizes relatively to SIZE_NORMAL;\n   make TINY mode really tiny to better help with UI downsizing work\n * logging system improvements\n * made it possible to have [terrain_graphics] rule as childs of [scenario]s\n * enabled gamestart speedup by not unnecessarily loading campaigns\n * support for teleportation animations\n * preparations for removing obsolete units\n * translation cleanups and improvements\n * code cleanups\n\nVersion 0.8.4:\n * changed vision range based on potential move\n * changed charge, backstab and steadfast abilities use true doubling\n   and halving rather than additive percentage calculations\n * more sound effects\n * new and improved graphics:\n   * snow forest tiles\n   * unit images\n   * tower\n   * units images and animations\n   * attack icons\n * new scenarios for 'Heir to the Throne' campaign:\n   * Battle for Wesnoth (final scenario)\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Crossroads\n   * Test of the Clans\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Silent Forest\n * plot changes in 'The Eastern Invasion' campaign\n * scenario balancing for 'The Eastern Invasion' campaign:\n   * Approaching Weldyn\n   * Lake Vrug\n   * Northern Outpost\n   * The Duel\n   * The Outpost\n   * Two Paths\n * epilogue for 'The Rise of Wesnoth' campaign\n * new scenarios for 'The Rise of Wesnoth' campaign:\n   * Rise of Wesnoth (final scenario)\n * scenario balancing for 'The Rise of Wesnoth' campaign:\n   * A Final Spring\n   * A Harrowing Escape\n   * The Vanguard\n   * Troll Hole\n * spirit movetype, with high resistances against \"physical\" attacks, slowed on open water\n * dwarvishfoot movetype\n * unit balancing:\n   * dwarves: switched movetype to 'dwarvishfoot'\n   * treefolk (Woses): reduced pierce, impact and cold resistances\n   * undeadfoot: \"deep walking\" (movement in deep water)\n   * Dwarvish Guardsman: reduced blade, pierce, impact, fire and cold resistances,\n     reduced cost, reduced number of ranged attacks\n   * Dwarvish Stalwart: reduced blade, pierce, impact, fire and cold resistances,\n     reduced number of ranged attack, increased ranged damage\n   * Ghost: switched movetype to 'spirit', halved hitpoints, reduced movement\n   * Lich: increased cost\n   * Necromancer: increased cost\n   * Nightgaunt: switched movetype to 'spirit', halved hitpoints,\n     reduced movement, reduced number of attacks, backstab\n   * Orcish Archer: reduced cost\n   * Peasant: increased cost, increased melee damage\n   * Spectre: switched movetype to 'spirit', halved hitpoints,\n     reduced movement, backstab\n   * Shadow: switched movetype to 'spirit', halved hitpoints,\n     reduced movement, reduced number of attacks, backstab\n   * Vampire Bat: increased cost\n   * Walking Corpse: increased hitpoints, increased melee damage\n   * Wose: reduced melee damage\n   * Wraith: switched movetype to 'spirit', halved hitpoints, reduced movement\n * new units\n   * Dark Queen\n   * Dwarvish Sentinel\n * language fixes and polishing (english)\n * updated translations:\n   * basque\n   * czech\n   * danish\n   * finnish\n   * french\n   * german\n   * hungarian\n   * italian\n   * norwegian\n   * spanish\n   * swedish\n * status for translations (gettext) - http://gettext.wesnoth.org\n * splitted po-files into domains (gettext)\n * multiplayer improvements:\n   * restored Thug to Knalgan Alliance on default era\n   * added many 2nd level units to factions on 'Age of Heroes' era\n * made hosting games work elegantly when wesnothd is running on the same machine\n * added new @ prefix to {inclusion} in config files to make it search both\n   in the user's preferences dir and in the main data dir\n * fixed typo causing 'Troll Whelp' being recruitable in 'The Dark Hordes: A New Chance' scenario\n * fixed alignment and abilities not being shown in panel\n * fixed hitpoints and experience being not translatable in default theme\n * fixed escape not working in game lobby\n * fixed the tools in src/tools not building\n * fixed 'no start position for side 1' in 'The Eastern Invasion: Drowned Plains'\n * fixed unselected units being too dark\n * fixed missing tag in 'The Eastern Invasion: The Duel'\n * fixed saving with illegal characters in the filename\n * fixed cycling units with 'n' showing invisible enemy units while it is their turn\n * fixed units not disappearing properly when they die\n * fixed recall working incorrectly\n * fixed missing Vera.ttf msgid from pot-file\n * fixed the problem with parse errors occuring in the units descriptions\n * fixed empty terrain names occuring in the help system\n * fixed Delfador appearing in 'The Dark Hordes: Inside The Tower'\n * fixed about/credits not being translatable\n * fixed 'Orcish Ruler' appearing in 'The Rise of Wesnoth' campaign\n * fixed 'Heavy Infantryman' recruiting bug in 'The Eastern Invasion:\n   Mal-Ravanals Capital' scenario\n * fixed editor not being translatable\n * fixed Parandra missing in 'Heir to the Throne: The Elven Council' scenario\n * fixed king going to swimming on 'The Rise of Wesnoth: A Final Spring' scenario\n * fixed past-the-end issue on botched UTF-8 strings\n * fixed scroll_to_unit issues on 'The Rise of Wesnoth' campaign\n * fixed build procedure to not require having gettext installed\n * fixed scanning enemy unit locations even when they are under the fog\n * workaround for Reiser4 feature bug (#10264)\n * workaround for BeOS gettext implementation\n * workaround for Mac OS X gettext implementation\n * re-implemented enhanced sound quality fix\n * added error dialog when a campaign has corrupt WML\n * added better error messages for machines that cannot bind to local ports\n * switched relevant flags from --enable-* to --with-* in autotools\n * autotools re-organizations for better BSD support\n * editor dependency cleanups\n * help system optimizations\n * village placement optimizations\n * compile speed optimizations\n * text rendering optimizations\n * squashed many compile warnings\n * code cleanups and refactoring\n\nVersion 0.8.3:\n * information about encountered terrain added in the help system\n * removed the unit description dialog in favor of in-game help\n * user interface tweaks\n * added damage taken and inflicted with expected values to statistics\n * new and improved graphics:\n   * dwarvish castle\n   * swamp, deep water, shallow water, snow, cave wall, cave floor,\n     ice, lava, dirt, forest, bridge, road\n   * chest, nest\n   * portraits and unit animations\n   * preferences icons\n * updates and enhancements to tutorial\n * scenario balancing for 'The Dark Hordes' campaign:\n   * The Skull of Agarash\n   * Underground Pool\n * new scenarios for 'The Eastern Invasion' campaign:\n   * The Drowned Plains (replaces 'Peasant Revolt')\n * scenario balancing for 'The Eastern Invasion' campaign:\n   * Captured\n   * Evacuation\n   * Weldyn Under Attack\n * new scenarios for 'The Rise of Wesnoth' campaign:\n   * The Vanguard\n   * Return of the Fleet\n * scenario balancing for 'The Rise of Wesnoth' campaign:\n   * Temple in the Deep\n * replaced Duelist's pistol with crossbow\n * more female units\n * unit balancing:\n   * Bone Shooter: reduced experience required to level\n   * Dwarvish Fighter: gave hammer attack\n   * Dwarvish Steelclad: gave hammer attack, increased experience required to level\n   * Elvish Lord: changed to 2nd level unit, reduced hitpoints, reduced cost,\n     reduced melee and ranged damages, advances to Elvish High Lord\n   * Soul Shooter: increased ranged damage\n   * Woses: reduced cold resistance\n   * mountainfoot (Dwarves, Giant Spider): reduced movement cost on forest,\n     sand, shallow water and swamp\n * new units\n   * Dwarvish Guardsman\n   * Dwarvish Stalwart\n   * Elvish High Lord\n * language fixes and polishing (english)\n * switched to using gettext, following languages have been converted:\n   * catalan\n   * french\n   * norwegian\n   * spanish\n * multiplayer improvements:\n   * turn_cmd preferences option which can be pointed to a command executed\n     at the start of the player's turn\n   * replace AI or local player with observer\n   * allowed recruiting Ghoul\n * Great War (multiplayer era) changes:\n   * White Mage as leader of Alliance of Light\n   * Necromancer as leader of Alliance of Darkness\n   * removed Wose, Gryphon Rider and Dwarvish Thunderer from Alliance of Light\n * added 'steadfast' ability\n * added automatic path search to [move_unit_fake]\n * fixed Windows compile errors\n * fixed Mac OS X compile error\n * fixed syntax error appearing in the help about units under some translations\n * fixed help about units/abilities/weapon specials not being sorted correctly\n * fixed number of turns in 'The Dark Hordes: A New Chance'\n * fixed editor where nothing was displayed until terrains were rebuilt\n * fixed Elvish Shaman missile image\n * fixed AI sometimes not respecting 'turns' parameter properly\n * fixed bad recruitment in 'The Dark Hordes: A New Chance'\n * fixed Kalenz appearing in 'The Dark Hordes: Underground Pool'\n * fixed call to non-existing macro in 'Heir to the Throne: Valley of Death'\n * fixed lacking ids in the female part of units files (#10065)\n * fixed conflict in terrain-graphics.cfg\n * fixed multi-hex images loading incorrectly when first loaded\n   under an different zoom level than the standard one\n * fixed map labels appearing during story\n * fixed missing #ifdef around config.h inclusion\n * fixed poisoned units not looking poisoned when selected (#10094)\n * fixed unit with 'non-living=yes' attacking a unit with a plague attack,\n   and the unit with the plague attack kills it, a new plague unit will be created (#10049)\n * fixed displaying 'hit t to continue' even when unit has finished movement\n * fixed shroud being revealed at the beginning of movement while sometimes\n   it was revelead at the end of movement (#10046)\n * fixed bad ifdefs in 'The Dark Hordes: Inside the Tower' scenario\n * fixed bugs in menu scrolling\n * fixed {RANDOM} bug in 'The Rise of Wesnoth' scenarios\n * fixed floating labels sometimes not displaying on accelerated mode\n * fixed \"drain\" not working on final blow (#10038)\n * fixed bad victory conditions in 'The Rise of Wesnoth: The Dragon' scenario\n * fixed some units shadows not being semi-transparent\n * fixed crash bug that could occur after undoing\n * fixed a little bug where a space could disappear near EOL in the help system\n * changes in #ifdefs to prevent the game from using the X11 clipboard on MacOSX\n * reverted sound quality improvement as it caused instability on some systems\n * help system shows everything when wesnoth is running in debug mode\n * added support for 2- and 3-sided transitions on the TERRAIN_ADJACENT_NORTH macro\n * added possiblity for terrains to be defined as 2-layered,\n   with a base part and an overlay part\n * added possibility to flip overlayed image\n * optimized menu scrolling\n * other minor speed optimizations\n * multiplayer file hierarchy cleanup\n * new file hierarchy for portraits\n * changed building static binary to use libtool when available\n * applied BeOS clipboard support patch\n * applied BeOS native settings path support patch\n\nVersion 0.8.2:\n * new and improved graphics:\n   * canyons\n   * signpost\n   * grassland\n * improved sound quality\n * improved in-game help\n * new \"vi\" commands: clear, w, wq, q, debug, n\n * new tutorial\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Black Flag\n   * Silent Forest\n * storyline fixes to 'The Eastern Invasion' campaign\n * scenario balancing for 'The Eastern Invasion' campaign:\n   * Weldyn Under Attack\n   * The Crossing\n   * Mal-Ravanals Capital\n   * The Arena\n * scenario balancing for 'The Rise of Wesnoth' campaign:\n   * Temple of the Deep\n   * Lizard Beach\n   * Sewer of Southbay\n   * A Harrowing Escape\n * unit balancing:\n   * Bandit: increased melee damage\n   * Dark Adept: increased ranged damage, reduced cost\n   * Drake Slave: increased melee damage\n   * Drake Worker: increased melee damage\n   * Noble Commander: increased hitpoints\n   * Noble Fighter: increased hitpoints and melee damage\n   * Noble Lord: reduced hitpoints, reduced melee and ranged damage\n   * Noble Youth: increased hitpoints, increased movement, increased melee damage\n   * Outlaw: reduced hitpoints, reduced number of melee attacks, increased ranged damage\n   * Outlaw Princess: reduced hitpoints, reduced experience required to level,\n     reduced number of melee attacks, increased ranged damage, replaced 'ambush' with 'skirmisher'\n   * Outlaw Queen: increased hitpoints, replaced 'ambush' with 'skirmisher',\n     reduced number of melee attacks, increased ranged damage and number of ranged attacks\n   * Soulless: increased melee damage\n   * Thug: increased melee damage and reduced number of attacks\n   * Walking Corpse: increased melee damage\n * new units\n   * Drake Hatchling\n   * Drake Warmage\n   * Great Troll\n   * Skeletal Dragon\n   * Troll Hero\n   * Orcish Leader\n   * Orcish Sovereign\n * multiplayer improvements:\n   * 'Great War' era\n   * limit to username length\n   * banning for multiplayer server games\n * language fixes and polishing (english)\n * support for multi-animation attacks\n * support for per-scenario configurable village flags,\n   sample black-eyed banner for Son of the Black Eye campaign\n * support for relative {./includes} in WML files\n * added recruit event\n * fixed enemies being on wrong side in 'The Dark Hordes: A New Chance' scenario\n * fixed image::locator not building on MSVC6\n * fixed sending incorrect packet length causing wesnoth and wesnothd to abort\n * fixed a bug where a network user may crash other game abusing recursion\n * fixed a bug where a network user may crash other games using specially\n   crafted packets, reading out-of-bounds data\n * fixed segfault when a [story] background image was not found\n * fixed narrator messages not being displayed sometimes\n * fixed autoconf macro for checking OGG support in SDL_mixer\n   (it depended on private symbols not always included by distributions)\n * fixed markovian name generation not playing well with UTF-8 names\n * fixed map border not getting changed when using [terrain] to change terrain (#9840)\n * fixed extraneous dots path (#9903)\n * fixed shift due to the way coordinates are now interpreted\n * fixed seeing invisible units when they move (#9488)\n * fixed bug with exiting caves in 'The Eastern Invasion: Captured' scenario\n * fixed bugs in 'The Eastern Invasion: Evacuation' scenario\n * fixed holy water in 'Heir to the Throne: Valley of Death' scenario (#9930)\n * fixed problems with cache invalidation\n * fixed file descriptor leak\n * fixed 'gender' not working with move_unit_fake\n * fixed gr\u00c3\u00bc\u00c3\u00bc losing experience when joining\n * fixed units moving through water not being submerged while moving\n * terrains tiles are now cut according to the hexagonal shape, to avoid some graphical glitches\n * workaround a SDL_TTF bug that makes it crash when presented an invalid UTF-8 string\n * limited length of schema items in compressed WML to make a DoS attack harder to perform\n * dummy config.h file for platforms where ./configure is not used\n * file hierarchy cleanups\n\nVersion 0.8.1:\n * new campaign: The Rise of Wesnoth (17 fully playable scenarios)\n * user interface improvements:\n   * new ellipses to indicate unit selection\n   * tweaked theme\n   * tweaked change video mode dialog\n   * return can be used to navigate through help topics and sections in help browser\n   * a box is drawn around images in help browser\n * speed scaling for different types of terrains\n * new and improved graphics:\n   * lighthouse\n   * signpost\n   * maps\n   * flags\n   * mountains\n   * grassland\n   * desert\n   * castle\n   * shroud\n   * fog of war\n   * attack icons and frames\n * new musics: main menu\n * intro for 'The Dark Hordes'\n * new scenarios for 'The Dark Hordes' campaign:\n   * Underground Pool\n * new scenarios for 'The Eastern Invasion' campaign:\n   * Evacuation\n   * Peasant Revolt\n   * Approaching Weldyn\n   * The Council\n   * Weldyn Besieged\n   * The Duel\n * scenario balancing for 'The Eastern Invasion' campaign:\n   * Captured\n   * The Crossing\n   * An Elven Alliance\n   * The Escape Tunnel\n   * Northern Post\n   * Training the Ogres\n   * Two Paths\n   * The Undead Border Patrol\n   * Undead Crossing\n   * An Unexpected Appearance\n   * Weldyn Under Attack\n   * Lake Vrug\n   * Tribal Warfare\n   * The Outpost\n * gave names to Trolls\n * gender support for units\n * increased hitpoints and required XP for Drake Warrior\n * new units\n   * Drake Flameheart\n   * Fire Dragon\n   * Giant Mudcrawler\n   * Haldric\n   * Mudcrawler\n   * Tentacle\n   * Female Outlaw\n   * Outlaw Princess\n   * Outlaw Queen\n   * Peasant\n   * Soul Shooter\n   * Wall Guard\n   * Warrior King\n * multiplayer improvements:\n   * implemented feature to tell observers when a new player has arrived in the lobby\n   * disabled observers from setting labels\n   * playername checks, stripping spaces at the end of name\n   * limited maximum length of observer messages\n   * added server commands: msg, kick, ban, unban, status, metrics\n * language fixes and polishing (english)\n * updated sample translation\n * updated translations:\n   * catalan\n   * czech\n   * french\n   * german\n   * slovak\n   * spanish\n   * swedish\n * made it so variables can be used to set the number of turns in a game\n * changed set_flag rather verbose syntax to set_flag=blah,foo,bar\n * added [then] and [else] tags under [object] tags\n * obsoleted [bigmap] tag, in favor of a unified [story] syntax\n   * display of background image, text, and title\n   * support of [if] [then] [else] functionality (can be nested)\n   * support of images overlay\n * switched all scenarios to new [story] syntax\n * added exploder and cutter tools\n * fixed the bug with multiplying help sections\n * fixed the problem where the forward and back button was shown briefly\n   when opening the help browser\n * fixed --disable-debug not working as expected\n * fixed victory condition bug in 'Saving Inarix'\n * fixed problem where the editor would go slower and slower the more it was used\n * fixed a potential problem with a help browser recursive introduction section\n * fixed incorrect #ifdefs in 'Training the Ogres' and 'Weldyn Under Attack'\n * fixed some lacking death declarations\n * fixed bug where tooltips could be left behind after 'load game' dialog\n * fixed bug where themes with multiple resolution specifiers could be displayed incorrectly\n * fixed missing [removeitem] for Delfador's staff\n * fixed bug where multiplayer games that disallowed observers didn't work properly\n * fixed items not removed after being picked up\n * fixed victory conditions in 'The Siege of Barag Gor'\n * fixed attack animation not being complete\n * fixed absence of animation when units without attack frame perform attack\n * fixed obsolete Heavy Infantry unit still used in multiplayer\n * fixed colour cursor not reappearing on some window-managers\n   when the user re-enters a Wesnoth window\n * fixed duplicate units: Cavalry, Cavalryman, Scout\n * fixed 'layers' not working as intended in built terrains\n * fixed terrain glitches, added a default base-terrain\n * fixed graphic glitches\n * fixed macro errors\n * fixed edges of the map not getting cleared of shroud and fog of war\n * fixed unit description on sidebar not getting updated when cycling units with 'n' (#8798)\n * fixed segfault in display.hpp\n * fixed dismissing unit from recall list not refreshing preview\n * fixed show_enemy_moves showing moves for petrified units (#9290)\n * fixed [not] tag not working properly\n * fixed bug where clicking a menu item could generate multiple events\n * fixed duplicate battleworld.cfg\n * fixed bug in WML with using value instead of equals in [if] (#9398)\n * fixed visual glitches caused by copy-paste\n * fixed bug in intro which segfaulted when no \"file\" attribute in [image] tag\n * small fixes to unit display in help browser\n * pngcrushed images\n * gettext implementation preparations\n * moved deaths.cfg from data/ to data/scenarios/Heir_To_The_Throne/\n * moved items to their own hierarchy: images/items/\n * adding a limit to number of characters in a textbox\n * adding a maximal line width for text to be drawn, to circumvent a SDL / SDL_ttf bug\n * implemented relative directory support\n * cleaned a bit the textbox code\n * refactoring of all animation code in unit_display and halo\n * added animated.hpp, and the animated<T> template\n * added proper support for animated time-of-day alternative images\n * added support for animated terrain images\n * added support for animated flags on villages\n * cleaned the terrain-graphics.cfg - terrain graphics rule precedence\n   is now deprecated, use terrain layers\n * reverted castle tiles not being expanded to the border\n * replacing all SDL_Surface*, and scoped_sdl_surface,\n   with shared_sdl_surface, which was renamed surface\n * partial rewrite of image.?pp for speed: looking up images was what was slowing the game\n * inlining some stuff for performance reasons\n * optimizing halo movement when unit moves\n * optimizing invalide_all redraws\n * concentrate all version and server changes for release-time on top of configure.ac\n * improved making binary packages\n * removed an obsolete feature in terrain graphics engine that was never used\n * removing commented-out obsolete code in display.cpp\n * code cleanups\n\nVersion 0.8:\n * added Drake flying animations\n * reduced experience needed to advance for Drake Burner and Drake Fighter\n * increased experience needed to advance for Drake Clasher\n * new units\n   * Drake Slasher\n * new translations:\n   * czech\n * multiplayer improvements:\n   * balanced 'Battle for Weslin Bridge' map\n   * added Drakes to 'Age of Heroes' era\n * updated translations:\n   * french\n   * hungarian\n   * italian\n   * slovak\n * fixed graphic glitches on forest and cave tiles\n * fixed some name typos in Tutorial\n * fixed editor theme\n\nVersion 0.7.11:\n * various help browser improvements\n * user interface improvements\n * improved clipboard functions and support for X11\n * scenario balancing for 'Heir to the Throne' campaign:\n   * The Scepter of Fire\n   * A Choice Must Be Made\n   * The Elven Council\n   * Home of the North Elves\n   * Swamp of Dread\n   * The Valley of Statues\n * multiplayer improvements:\n   * chat log\n   * allowed spaces in usernames\n   * new map: Battle for Weslin Bridge\n   * new map: Forest of Fear\n   * new map: Castles\n * translation updates:\n   * hungarian\n * made The Eastern Invasion campaign translatable\n * added icons for preferences and multiplayer dialogs\n * fixed crash when loading an empty map\n * fixed transition problems with forests\n * fixed wesnothd crashes\n * fixed underlining bug\n * fixed bugs where some objects were not working properly\n * fixed human village not fitting within the mask\n * fixed clashing msg ids\n * fixed isolated keeps having void graphics\n * fixed tile overlays not displaying in grey if the tile is out of range\n   of the selected unit's movement\n * fixed bugs with roles not working properly\n * fixed coherence of usage for elves:\n   * Archer, Marksman, Sharpshooter -> archer\n   * Ranger, Avenger -> mixed fighter\n   * Hero, Captain, Champion, Marshal -> fighter\n * non-editable multi-line textboxes can have areas of text highlighted\n   (and thus copied and pasted)\n * support for defensive animations\n * tweaks to terrain graphic ordering\n * added engine support for max-level units advancing further\n * code refactoring\n\nVersion 0.7.10:\n * help browser, hotkey is <F1>\n * new tabbed preferences dialog\n * basic clipboard functionality, does not yet work on all platforms\n * improved and added new graphics: unit animations, healing animations, tent, forest\n * traits removed from treefolk (Woses)\n * treefolk piercing, impact and cold resistance increased\n * Wose renamed to Elder Wose, Sapling Wose renamed to Wose\n * Wose hitpoints and melee damage increased\n * reduced cost for Drake Burner, Drake Fighter, Drake Mage and Drake Slave\n * new units\n   * Drake Beak\n   * Drake Worker\n   * Dwarvish Ulfserker\n   * Fire Drake\n   * Gryphon Master\n   * Lancer\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Dwarven Doors\n   * Mountain Pass\n   * Plunging Into the Darkness\n * new scenario for 'The Dark Hordes' campaign:\n   * Confrontation\n * scenario balancing for 'The Dark Hordes' campaign:\n   * Brother Against Brother\n   * Crelanus Book\n   * Inside the Tower\n   * Mages and Elves\n   * The Skull of Agarash\n * new scenario for 'Son of the Black Eye' campaign:\n   * Clash of Armies\n * multiplayer improvements\n   * added Drakes to Wesbowl\n   * added Drakes to 'Classic' era\n * AI improvements\n   * made AI attack when getting ambushed\n * language fixes and polishing (english)\n * translation updates:\n   * catalan\n   * dutch\n   * german\n   * italian\n   * spanish\n * editor improvements:\n   * added some command line flags, such as --datadir\n * enabled alternate castle/keep tiles: encampment\n * gate \"unit\" (stripped from The Eastern Invasion/Captured scenario)\n * [binary_path] WML element which allows specification of a path\n   where binary files may appear\n * made WML {inclusion} non-recursive\n * fixed segfault when filtering units at invalid locations\n * fixed SDL version checking bug in Mac OS X\n * fixed color selection in multiplayer not working\n * fixed bug where underlying widgets could 'show through' the load dialog\n * fixed load dialog eating lots of processing power\n * fixed assertion failure/infinite loop in AI logic\n * fixed bug in WML\n * fixed segfault\n * fixed bug in generating random maps\n * fixed wesnothd crashing due SIGPIPE\n * disabled some font settings to work around bug in SDL_ttf\n * added CASTLE_AND_SIMPLE_KEEP macro, where the keep is composed of only a unique tile with walls\n * added BUILDING_ macros to add houses, tents etc. over other terrains\n * added CASTLE_FLOOR macro\n * transitions may be now specified between a terrain and another one (in terrain-graphics.cfg)\n * enabled castle-to-forest transitions for encampments\n * relocated 'Heir to the Throne' maps in they own subdir, and gave them an explicit names\n * relocated 'Son of the Black Eye' maps in they own subdir, and gave them an explicit names\n * relocated 'The Dark Hordes' maps in they own subdir, and gave them an explicit names\n * relocated multiplayer maps in they own subdir, and gave them an explicit names\n * relocated tutorial maps in they own subdir, and gave them an explicit names\n * added dir for user created campaigns\n * added basic statistics output to wesnothd\n * changed HttT maps to use encampments\n * removed unused maps\n * libpng checks for configure\n * changed the RGB to Grayscale function to use a more correct formula\n\nVersion 0.7.9:\n * new campaign: The Eastern Invasion (Loyalists, 15 scenarios)\n * compiling requires SDL version >= 1.2.7\n * user interface improvements:\n   * tip of the day\n   * added new help strings\n   * new attack dialog\n   * new load game dialog\n   * made 'end turn for active unit' (pressing <space>) recoverable\n   * in game load game: menu -> load game\n   * gamma correction\n   * skip AI moves option\n   * show haloing effects option\n   * resized some dialogs\n * improved and added new graphics: units, attacks animations,\n   healing animations, attack icons, encampment, castle, haloes\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Elves Besieged\n   * Isle of Anduin\n   * The Siege of Elensefar\n   * Crossroads\n   * Valley of Death\n   * Ford of Abezz\n   * Dwarven Doors\n   * Northern Winter\n   * Valley of Statues\n * new units\n   * Cavalier\n   * Drake Burner\n   * Drake Clasher\n   * Drake Fighter\n   * Drake Guard\n   * Drake Mage\n   * Drake Petit\n   * Drake Slave\n   * Drake Warrior\n   * Dwarvish Dragonguard\n   * Dwarvish Runemaster\n   * Sergeant\n   * Silver Mage\n   * Vampire Lady\n   * Young Ogre\n * removed Dark Apprentice, Evil Necromancer and Soldier as they are no longer used\n   (replaced by Initiate, Deathmaster and Spearman)\n * Yeti's race changed to monster\n * nenamed 'Cavalry' to 'Cavalryman'\n * renamed 'Goblin Direwolver' to 'Direwolf Rider'\n * renamed 'Heavy Infantry' to 'Heavy Infantryman'\n * renamed 'Orcish Crossbow' to 'Orcish Crossbowman'\n * unit balancing:\n   * Ancient Wose: increased cost\n   * Ancient Lich: reduced hitpoints, reduced ranged damage\n   * Arch Mage: reduced hitpoints, reduced ranged damage, removed teleport ability\n   * Battle Princess: reduced melee damage\n   * Deathmaster: reduced ranged damage\n   * Death Knight: reduced melee damage\n   * Demilich: reduced ranged damage\n   * Dwarvish Berserker: reduced cost\n   * Dwarvish Lord: reduced melee damage\n   * Dwarvish Steelclad: increased cost\n   * Elder Mage: reduced hitpoints, increased cost\n   * Elvish Avenger: reduced number of melee attacks\n   * Elvish Champion: reduced melee damage\n   * Elvish Lord: reduced melee damage\n   * Elvish Marshal: reduced melee damage, reduced number of ranged attacks\n   * Direwolf Rider: increased melee damage, reduced number of melee attacks\n   * Great Mage: reduced melee damage, reduced ranged damage, removed teleport ability\n   * Halbardier: reduced melee damages, gave 'first strike' ability\n   * Heavy Infantry: reduced melee damage\n   * Initiate: reduced ranged damage\n   * Iron Mauler: reduced melee damage\n   * Lord: reduced melee damage\n   * Mage of Light: reduced ranged damage\n   * Master Bowman: reduced ranged damage\n   * Orcish Warlord: reduced melee damage\n   * Pikeman: reduced melee damage, gave 'first strike' ability\n   * Princess: reduced melee damage\n   * Rogue: increased melee damage\n   * Royal Guard: reduced melee damage\n   * Shock Trooper: reduced melee damage\n   * Spearman: reduced ranged damage, gave 'first strike' ability\n   * Wose: increased cost\n * language fixes and polishing (english)\n * translation updates:\n   * dutch\n   * french\n * multiplayer improvements:\n   * balanced 'King of the Hill' map\n   * improved village naming\n * AI improvements\n   * added new AI parameters\n   * various AI improvements\n * editor improvements:\n   * new brush image, file chooser folder image\n   * changed menu names to 'file' and 'edit'\n   * delete file button in file chooser\n   * two terrains may now be selected in the palette, one is used for filling when\n     moving selections and cutting/pasting and will be used when drawing with the right button\n   * removed context menu, function of the left button is chosen in the right panel\n     and operations that do not need a location to work are chosen from an additional menu\n   * added a new level of brightened images\n   * support for translations\n   * fixed proper checks for validity not being done when loading or reverting a map\n   * fixed mouse wheel and middle-click not working as within the game when used on map area\n   * fixed BeOS crash in map editor\n   * fixed the problem where the same sequence of random maps was generated\n   * fixed a problem where the hotkeys from the game would appear in the editor\n   * fixed a problem where the selected terrain and brush size was\n     not remembered through operations that affected the whole map, such as flip and resize\n   * fixed a problem where the palettes in the editor would not refresh\n     correctly after the windows was resized\n   * fixed editor handing different color depths incorrectly\n * new item: trapdoor\n * continue_no_save feature\n * added WML feature to append an element to another using [+element] syntax\n * made userdata/data/utils loaded in early in game.cfg to allow\n   scenario designers to define utility files\n * names for Nagas\n * fixed multiline text box not wrapping lines at word boundaries\n * fixed loading/saving of multiplayer games that have a double-quote (\") in the chat text\n * fixed spaces following non-ASCII characters disappearing in intro (#9163)\n * fixed clashing IDs in 'Blackwater Port'\n * fixed a bug where alpha disappeared from multi-hex .png files on loading sub-tiles\n * fixed terrain not updating correctly when dynamicly changed via the WML [terrain] event (#9237)\n * fixed the \"random probability\" in \"terrain-graphics\" rules not being random enough\n * fixed builder code failing when asked for hexed outside the map (#9168)\n * fixed crash when undoing moves\n * fixed incorrect positioning of haloes\n * fixed crash in wesnothd\n * made intro.cpp use the unicode routines in language.cpp to split UTF-8 sequences in character\n * added support for animated on-map items\n * added support for different colour depths\n * added a cut_surface function in sdl_utils, that extracts a surface \"subset\" from another surface\n * improved terrain transition code\n * updated terrain-graphics.cfg file to use modules in sub-directory to reduce bloat in the main file\n * terrain builder code optimizations\n * added macros so that keep graphics are now selected according to the adjacent castle tiles\n * added XCF source files and some tools for castle building, these can be found in tools/\n * moved weapon icons to their own hierarchy: images/attacks/\n * moved projectiles/missiles to their own hierarchy: images/projectiles/\n * increased the horizontal padding of button widgets\n   when having a label that is wider than the minimum width\n * added a trigger to the test map, when activated Orc leader can recruit\n * decreased size of saved games by removing some unnecessary information\n * converted all scenarios to new AI syntax\n * removed unnecessary diagnostic\n\nVersion 0.7.8:\n * changed experience gauge, it is now shown next to hitpoints bar\n * search works with coordinates, use it like: /30,15\n * weapon type's tooltip shows its effectiveness against all known enemies on the battlefield\n * improved and added new character portraits, unit images, attack icons,\n   missile images, fog and shroud images\n * halo effects\n * new sounds\n * enhanced blade, impact and cold resistance for Cavalry and Dragoon\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Crossroads\n   * Valley of Death\n * scenario balancing for 'The Dark Hordes' campaign:\n   * A New Chance\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Shan Taum the Smug\n * multiplayer improvements\n   * added 'share maps' option\n   * alt-m to chat public\n   * shift-m to chat with allies\n   * showing basic game settings\n   * random map option to build road between castles\n   * improved random map generator speed\n   * naming of villages and terrain features on random maps\n   * user written maps can be easily loaded as scenarios in multiplayer\n   * added facility to play maps in multiplayer that don't have scenario data specified for them\n   * lobby sound effects for new messages, players joining and departing lobby\n   * in game creation player slots are now occupied by 'computer player' as default\n   * empty player slots, allowing empty castles\n * editor improvements:\n   * added flipping\n   * starting positions now move as they should through copy/paste and click-and-drag\n   * random map generator settings are now saved through generations\n   * fixed labels on map being visible through certain dialogs\n   * cleaned up editor theme\n * translation updates:\n   * french\n   * polish\n   * spanish\n * AI improvements\n   * improved grouping\n   * made grouping behaviour configurable\n   * added defensive grouping\n * fixed crash when generating a map with 0 villages\n * fixed map (shroud) and statistics sharing not working between allies\n * fixed AI getting stuck and never finish making its move\n * fixed units in swamp villages being submerged\n * fixed resizing and changing video modes not working  while in lobby\n * fixed hotkeys not working while in lobby\n * fixed saving being impossible when save games have accented characters on MacOSX\n * fixed segfault in random map generation\n * fixed Out of Sync bugs\n * fixed bug where pressing 'n' while a unit is attacking would transfer damage to another unit\n * fixed entering a chat message while the message is selected would keep\n   the area selected, and cause a crash upon next keypress (#9114)\n * fixed chat messages being dropped\n * fixed text ellipsis (triple dot being added after too long text) not being UTF-8-aware\n * fixed invalid UTF-8 sequences being generated by wstring_to_utf8,\n   causing display bugs with some accented characters on some platforms\n * fixed word_wrap_text not being UTF-8 aware\n * ignore unicode value of cursor-moving keys in text boxes (arrow keys, home, end);\n   so they do not cause problems in platforms where SDL puts one (that is: MacOSX)\n * removed alpha keyword from unit data, changed image files to have it\n * added font::make_text_ellipsis function, that works like word_wrap_text,\n   but instead adds ellipsis on too long text\n * changed portable_isspace() so it only returns true on ASCII spaces\n * including a directory in WML will recurse into subdirs\n * WML support for '~' notation to include files in ~/.wesnoth/data\n * support for different images for unit movement\n * weslang, to help translation updates\n * added file choose widget\n * small changes to package description in Slacknoth\n * removed unnecessary voluminous diagnostics\n * code refactoring\n\nVersion 0.7.7:\n * added 'search' action which goes through labels and unit names, hotkey is '/'\n * added 'continue move' action, hotkey is 't'\n * made game more responsive when AI or another player is playing\n * 'end of turn' sanity check\n * added experience gauge, meld with hit points gauge\n * support different resolutions for 'fullscreen' and 'windowed'\n * various UI cleanups\n * added and improved village images, hill images, unit images, healing images\n * resized ellipses and made them float on top of water when unit is partially submerged\n * General melee damage increased\n * Elvish Outrider made 3rd level unit, increased hitpoins and ranged attack damage\n * Goblin Pillager melee damage increased\n * renamed Lizardman to Saurian\n * regeneration replaced with skirmish for Saurians\n * new units:\n   * Elvish Rider\n   * Saurian Warrior\n   * Necrophage\n * new scenario for 'Son of the Black Eye' campaign:\n   * Saving Inarix\n * new scenario for 'The Dark Hordes' campaign:\n   * A New Chance\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Bay of Pearls\n   * Blackwater Port\n   * Isle of Anduin\n   * Isle of the Damned\n   * Muff Malal's Peninsula\n   * Princess of Wesnoth\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Towards Mountains of Haag\n   * To The Harbour of Tirigaz\n   * Black Flag\n   * Desert of Death\n   * End of Peace\n   * Silent Forest\n   * The Siege of Barag Gor\n * translation updates:\n   * french\n   * spanish\n * AI improvements\n   * fighting with leader\n   * teached AI that all keeps can be used for recruiting, not just his home keep\n   * share castle with allies, make room for ally leader to recruit\n   * various improvements to make AI smarter\n   * added recruitment_ignore_bad_movement option\n   * added recruitment_ignore_bad_combat option\n * multiplayer improvements\n   * Wesbowl\n   * King of the Hill\n   * added scrolling and wrapping support for chat in lobby\n   * shared vision option\n   * made village placement fairer in random map generation\n   * game setup improvements\n   * random maps have now less forest\n * editor improvements:\n   * added map resizing\n   * added revert from disk functionality\n   * selection of terrain is kept through undo and redo operations\n   * preferences dialog\n   * setting and removal of starting positions are now undoable operations\n   * fixed name of the currently selected terrain not being displayed\n   * fixed compile problems on some architectures\n   * code cleanups\n * implemented multi-hex tiles\n * implemented 'not' tags in WML unit filters\n * fixed 'show enemy moves' and 'best possible enemy moves'\n   showing in context menu when no enemies visible\n * fixed resizing window in the title screen not working properly\n * fixed basic hotkeys not working in title screen\n * fixed terrain type and position problems with 800x600 resolution\n * fixed game creator not getting ally messages\n * fixed font redrawing for the font used in the slovak and polish translations\n * fixed typos in 'Shan Taum the Smug' that caused scenario to have only two turns\n * fixed crashes when units with invalid sides appear, by rejecting such\n   invalide sides in the unit's constructor\n * fixed bug where 'cancel' button would appear under multiplayer games\n * fixed preferences widgets disappearing when changing video mode\n * fixed tooltips from game setup appearing in-game\n * fixed hotkey not updating immidiately in the hotkeys dialog when changed\n * fixed assertion failure in playturn.cpp\n * fixed deleting units from recall list not updating unit preview pane\n * changed all WML files to UTF-8, code now assumes all WML files being UTF-8\n * made input of search strings and messages use a textbox that overlays the map,\n   which allows these operations to be performed asynchronously\n * added caching of data files to speed game loading\n * added a \"fire_event\" in [kill] tags that allow die events to be processed if specified\n * re-ordered attacks: short range attacks are now always before long range attack on all units\n * removed old castle images\n * wesnoth_zip\n\nVersion 0.7.6:\n * added and improved unit images, leadership and healing images\n * added testing mode to move units on fog/shroud maps without updating the fog/shroud\n * lobby logo updated\n * new dialogs\n * increased Wose defense in woods\n * increased Dwarf defense in castle\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Test of the Clans\n * multiplayer improvements:\n   * made observers see perspective of active player\n   * allowed observers to talk\n   * game creator can chat while setting up game\n   * players can chat with other game members when waiting for game to start\n   * random faction\n * editor improvements:\n   * allowed setting start pos for player 0\n   * load map and new map menu items and hotkeys added\n   * flood fill functionality added\n   * different brush sizes added\n   * new map and load map added, editor now starts with an empty map\n   * save as functionality added\n   * speed improvements: palette is only redrawn when needed\n   * showing coordinates and terrain type of the hex on mouse over\n   * start positions of players are now displayed as labels on the map\n   * painting something on top of starting position now removes that starting position\n   * cancel in new map dialog confirmation returns to dialog instead of map\n   * added ability to mark tiles and fill marked tiles with selected terrain\n   * cut and paste of marked terrain is now possible\n   * drag and drop of marked terrain added\n   * fixed tiles on the border of the map updating incorrectly when nearby tiles are drawn\n   * fixed a bug where odd number of terrains where not drawn correctly in the palette\n   * fixed dynamically generated terrain not showing correctly\n   * fixed filename being not correctly remembered on load and save as\n   * code cleanups and refactoring\n * added [store_unit], [unstore_unit], [while], [store_starting_location],\n   [store_locations] and [store_gold] tags to WML\n * added idle AI\n * added image_healing' and 'image_leading' animation code\n * added floating labels to indicate healing/poisoning of units\n * added ability to highlight several hexes\n * added support for action images\n * changed toggleable menu items use the checkbox graphics\n * fixed Li'sar dying in Hasty Alliance not resulting in a loss\n * fixed game creator being able to click [I'm Ready] before all\n   networked players have joined when loading game from save\n * fixed first player gold reset to 100 in multiplayer games\n   when starting gold set less than 100\n * fixed character's name overlapping their profile when they speak\n * fixed teleporting units not clearing shroud/fow when they teleport\n * fixed Orcish Ruler movetype not being orcishfoot\n * fixed non-interactive mode not working with eras\n * fixed units moving slowly\n * fixed opening sequence in 'Isle of Anduin'\n * fixed cycling units not showing attack options\n * fixed units with drain not getting more than the max hitpoints\n * fixed Battle Princess not being able to get Scepter\n * fixed \"invalid font characters\" for slovak translation by adding\n   'font=Bepa-Roman.ttf', translators should ensure this line is preserved\n   when upgrading translations\n * fixed support for UTF-8 languages on text-boxes\n * fixed wesnoth.desktop (FreeDesktop shortcut definition file),\n   which did contain invalid UTF-8 sequences\n * fixed experience modifier not working correctly when loading saved multiplayer game\n * fixed pressing escape key not closing dialogs which had only 'ok' button\n * fixed observers getting victory/defeat message at the end of the game\n * fixed statistics not working correctly when loading with replay\n * fixed screen menu flickering when dialog is cancelled\n * fixed negative numbers not displaying minus in front of them\n * fixed bug (u$win only) which caused defeat at the end of Valley of Death,\n   even when you should have been victorious\n * fix to preprocessor\n * fixed some compile warnings\n * various improvements to wesnothd\n * relocated 'Heir to the Throne' scenarios to data/scenarios/Heir_To_The_Throne/\n * relocated 'The Dark Hordes' scenarios to data/scenarios/The_Dark_Hordes/\n * added ability to remove tiles from the border cache\n * added definitions of new pure virtual methods in hotkey.hpp\n * added wstring_to_string and string_to_wstring routines in language.cpp,\n   which convert strings according to the current charset()\n * added toggleable action support to hotkey.[c|h]pp & playturn.[c|h]pp\n * added code to wesnothd to prevent spoofing of messages\n * added code to wesnothd to stop malicious observer clients issuing commands for players\n * converted hex calculations to fixed point instead of floating point\n * changed hex size to 72x72, converted images\n * added -fno-omit-frame-pointer to autotools to prevent possible crashes due gcc bug\n * added -fno-omit-frame-pointer to slacknoth script\n * added KDevelop 3.x project file for Wesnoth\n\nVersion 0.7.5\n * many map editor improvements\n * changed 'dark gray' player colour to 'orange'\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Shan Taum the Smug\n * enabled accented characters in textboxes for LATIN-1 charset\n * made it impossible to label shrouded hexes\n * fixed OGG checks in --enable-lite\n * fixed clicking to the right of a character in a textbox causing segfault\n * fixed crash when pressing 'escape' in 'advance unit' dialog\n * moved scorpionfoot movetype to game.cfg\n * added unhandled exception code\n\nVersion 0.7.4:\n * added and improved unit images and castle images\n * changed day/night hueing to make them more attractive\n * reduced Dwarvish Fighter hitpoints to 36\n * reduced Dwarvish Lord hitpoints to 75 and changed ranged attack to 10-2\n * increased Dwarvish Steelclad hitpoints to 50 and melee attack to 11-3\n * new units:\n   * Lizardman\n * AI improvements\n   * fixed AI attacking from silly places\n   * improved AI recruiting, decisions are now based on terrain and enemy unit structure\n   * trained AI to take advantage of backstab\n * multiplayer improvements:\n   * added Lieutenant to Loyalists in Age of Heroes era\n   * 9 player support in random map generator\n   * unlimited turns\n * translation updates:\n   * catalan\n   * french\n   * italian\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Desert of Death\n * made scrollbars faster by avoiding unnecessary redraws\n * added HOME and END keys support in textboxes\n * added selecting text on textboxes using keyboard or mouse\n * implemented mid-scenario changing of some side detail(s)\n * attack and defense weighting improvements\n * improved macros handling arguments with space\n * added attack_weight and defense_weight in [attack] tags so that\n   units can choose a different weapon upon attack or defense\n * [have_unit] can now use a location filter\n * fixed victory_when_enemies_defeated attribute wasn't serialized properly\n * fixed statistics showing incorrectly on all but scenario 1\n * fixed infliced damage labels being not always displayed\n * fixed strange name-endings in name generator\n * fixed bug where Scepter of Fire scenario is loaded instead\n   of scenarios after the Scepter of Fire\n * fixed Scepter of Fire being winnable by killing all enemies,\n   now you need to get the scepter\n * fixed messages and options not found by make_translation (#7415)\n * fixed keeps located on the border of the screen having broken graphics\n * fixed bug in Desert of Death scenario\n * fixed textbox-content slow to update when it was larger than the textbox size\n * fixed editor handing keys improperly\n * fixed zooming messing up labels\n * fixed bug that caused crash in [kill] event\n * fixed alignments not being atomic strings\n * fixed networking bug\n * added fixes for OSX from Sithrandel\n * added configure --enable-lite\n * minor modifications to slacknoth\n * reverted editor indentation to BSD style\n * added checking of return values in constructors\n * code refactoring: simplified the 'display' module\n * code cleanups\n\nVersion 0.7.3:\n * added undoing recall\n * improved context menu\n * added and improved unit images, castle images and attack icons\n * added berserk attack ability and gave it to Dwarvish Berserker\n * Dark Adept ranged attack made stronger and cold resistance improved\n * Footpad made a bit easier to advance, faster movement, melee and ranged attack made stronger\n * Outlaw given faster movement\n * Orcish Ruler attack changed to sword, race changed to orc\n * Walking Corpse made a bit easier to advance\n * Goblin Knight experience needed to advance decreased to 150\n * new units:\n   * Dwarvish Thunderguard\n   * Iron Mauler\n   * Soulless\n   * Wose Sapling\n   * Wose\n   * Ancient Wose\n * new scenarios for 'Heir to the Throne' campaign:\n   * Test of the Clans\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Dwarven Doors\n * scenario balancing for 'Son of the Black Eye' campaign:\n   * Toward Mountains of Haag\n   * Silent Forest\n * multiplayer enhancements:\n   * added \"private\" messaging between allies\n   * improvements to chat system\n   * added experience multiplier slider in game creation\n   * added eras in game creation\n * language fixes and polishing (english)\n * new translations:\n   * catalan\n * updated translations:\n   * polish\n   * slovak\n   * spanish\n * added ability to define 'time of day' for areas\n * added treefolk movetype\n * added terrain multiple aliases\n * allow multiple sides (comma separared) to be specified in unit filters\n * [have_unit] now honors location\n * new time of day image masks which get laid over hexes when it's that time of day\n * fixed on-map labels not printing black on light coloured terrains\n * fixed ellipses not fading when a unit dies\n * fixed bug where if the host changed their name, it would show that name\n   to users connecting to the game\n * fixed bug in lobby where top-left of screen would not be drawn properly\n * fixed bug with AI not getting villages\n * fixed some compiler warnings\n * fixed Dwarvish Berserker and Yeti using blunt attack type, which does not exist\n * fixed Mage of Light aura slowing the game\n * fixed bugs with tooltips\n * fixed network bug\n * minor autotools fixes\n * autotools basic support for static building\n * added autotools configure checks for signed char\n * slacknoth improvements\n * added recovering connections framework to network protocol\n\nVersion 0.7.2:\n * show possible enemy moves view (context menu -> show possible enemy moves)\n * added and improved unit images\n * new unit side ellipses\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Dwarven Doors\n   * Muff Malal's\n * Dwarvish Berserker attack made stronger\n * multiplayer enhancements:\n   * improved multiplayer chat system\n * language fixes and polishing (english)\n * updated translations:\n   * french\n * fixed attack miscalculation for offensive units which ignored time of day\n * fixed typo in Toward Mountains of Haag\n * fixed many 'end of line' warnings\n * fixed active player not receiveing labels and messages immediately\n   while it was his/her turn\n * fixed networking problems which caused out-of-syncs\n * made mountains 'dark terrain'\n * made on-map labels disappear on end of level\n * reports handle multiple images & strings per report each with their own tooltips\n * added diagnostics to help tracking out-of-sync errors\n * added network diagnostics\n * autotools clean up\n * renamed wesnoth.png to wesnoth-icon.png\n\nVersion 0.7.1:\n * changed damage calculations to use additive percentage calculations\n * resting stacks with heal and cure\n * 'Sword of Fire' changed melee weapon with fire damage\n * made the game more interactive during the AI's turn\n * added and improved unit images, missile images and attack icons\n * merman and swamp villages, ice terrain, dirt and swamp transitions,\n   trash heap (minor terrain item)\n * new fog of war images\n * underground daytime images\n * fading effect between daytime changes\n * attack stat tooltips\n * user interface polishing\n * support for cursors\n * on map floating labels ('set label' in context menu)\n * floating text for damage inflicted and status effects\n * shortcut keys are displayed next to menu items\n * undo, redo and next unit added to context menu\n * added deleting saved games\n * added deleting units from recall list\n * added fight calculations\n * added in-game statistics\n * new scenarios for 'Heir to the Throne' campaign:\n   * Return to Wesnoth\n   * Valley of Statues\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Blackwater Port\n   * Hasty Alliance\n   * Scepter of Fire\n * new campaign 'Son of the Black Eye' (orcs):\n   * End of Peace\n   * Toward Mountains of Haag\n   * The Siege of Barag Gor\n   * To the harbour of Tirigaz\n   * Black Flag\n   * Desert of Death\n   * Silent Forest\n   * Shan Taum the Smug\n * General melee attack number of strikes increased by one\n * Princess (Li'Sar) changed to 2nd level unit\n * Youth (Konrad) changed to level 0 unit\n * reduced Sleeping Gryphon's number of attacks to same with Gryphon\n * improved swimmer (Merman, Naga, etc) movement on swamp, grassland, sand and tundra\n * new units:\n   * Battle Princess\n   * Cockatrice\n   * Giant Scorpion\n   * Goblin Direwolver\n   * Grand Knight\n   * Orcish Shaman\n   * Yeti\n * new special units:\n   * Orcish Ruler (hero in the Son of the Black Eye campaign)\n   * Pirate Galleon\n   * Transport Galleon\n   * Watch Tower\n * multiplayer enhancements:\n   * random map generator enhanced\n   * village number slider in random map generation is now proportional\n   * users in lobby can see minimap of non-shroud games being played\n   * number of available positions in a game is shown in the lobby\n   * current turn of a game underway is shown in the lobby\n   * eye of the observer\n * translations can specify font to use\n * added Bepa-Roman.ttf which has cyrillic characters\n * updated translations:\n   * danish\n   * hungarian\n   * portuguese-brazilian\n   * slovak\n * defenders will choose their weapons more intelligently\n * de-elvished Gryphon Rider description and set race to human\n * fixed Cave Spider ranged attack to have slow specialty\n * fixed minor glitch in tutorial id messages\n * fixed random map generator creating invalid small maps\n * fixed result=continue showing victory message\n * fixed units not getting resting if they ended turn with space\n * fixed enemies getting healed after loading, resting serialized in unit\n * fixed Merman Lord -> Triton in some scenarios\n * fixed allow/deny observers being not respected in multiplayer game creation\n * fixed multiplayer replays not working\n * fixed random map generator retain the 'number of players' setting\n * fixed PNG and OGG checking bugs in configure for MacOSX and Windows (with cygwin)\n * fixed crash on empty maps\n * fixed problem with units having movement reset\n * fixed 'right column inaccessible' bug\n * fixed \"X_ShmPutImage\" crash on GNU/Linux\n * made it less likely for castles to appear in the sea on randomly generated maps\n * improved network protocol (breaks backward compatibility)\n * added optimization to make the game load faster for people using the default english locale\n * slacknoth now ignores an insignificant makefile error\n\nVersion 0.7:\n * added new sounds, unit images and attack icons\n * polished unit descriptions for recently added units\n * old tutorial strings removed\n * fixed Lieutenant -> General advancement path\n * fixed multiplayer out of sync bugs\n * fixed swedish\n\nVersion 0.6.99.5:\n * many of the unit images were drawn using a SNES game graphics as basis:\n   all images which we thought might be considered as derived work have been redrawn\n * theme update, scrollbars\n * added new sounds, unit images and attack icons\n * invisibility \"wears off\" when enemy unit comes adjacent (#6879)\n * allowed swimming units to move slowly on hills\n * resting restores 2 hitpoints\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Gryphon Mountain\n   * Northern Winter\n   * Swamp of Dread\n * undead campaign updates and new scenarios:\n   * Brother Against Brother\n   * The Skull of Agarash\n   * Mages and Elves\n   * Inside the Tower\n   * Crenalu's Book\n * new units:\n   * Bowman\n   * Longbowman\n   * Master Bowman\n   * Footpad\n   * Trapper\n   * Spectre\n   * Initiate\n   * Dark Spirit\n   * Deathmaster\n   * Demilich\n   * Nightgaunt\n * Elvish Archer and Swordsman made more powerful\n * Elvish Marksman, Elvish Sharpshooter and Orcish Archer ranged attack improved\n * Gryphon, Evil Necromancer, Lich and Ancient Lich made weaker\n * Dark Apprentice advances to Deathmaster\n * Evil Necromancer advances to Demilich\n * Lich does not advance to Ancient Lich anymore\n * removed Gryphon Rider from Rebels and gave it to Knalgan Alliance\n * language fixes and polishing (english)\n * new translations:\n   * finnish\n   * portuguese-brazilian\n   * slovak\n * updated translations:\n   * brazilian\n   * danish\n   * french\n   * hungarian\n   * norwegian\n   * swedish\n   * spanish\n   * french\n * added ctrl+P as hotkey for 'Preferences'\n * campaigns can customize difficulty level icons\n * mage of light lights up hexes around him\n * fixed many image transparency glitches (caused by recent alpha channel implementation)\n * fixed teleporting displaying incorrectly where unit can move\n * fixed Konrad dying in Siege of Elensefar not ending the game immediately\n * fixed AI bug with skirmishers (#8041)\n * fixed crash when you press escape when a menu is displayed (#7863)\n * fixed unit descriptions leaking thru fog of war (#7843)\n * fixed bug where units would regain hitpoints after reloading the game (#7842)\n * fixed slow down right before a unit arrives at its destination hex,\n   due to redrawing of the minimap\n * fixed ghosted usernames on server (#7655)\n * fixed focus not returning Konrad on new turn (#7188)\n * fixed wrapping of text in opening sequence (#7878)\n * fixed bug where on large maps, the cursor wouldn't point at the correct hex\n   toward the eastern side of the map\n * fixed scroll speeds being set to insane values\n * fixed bug where AI could see potential movement of invisible enemy units\n * fixed bug where Blackwater Port was easier than it was meant to be on 'normal' level\n * fixed crash in maps with fog of war\n * fixed transparency issues in dwarven doors graphic\n * fixed issue with escape button skipping past messages where the user must make a choice\n * fixed bug where shroud wasn't saved/loaded properly (#7922)\n * fixed tutorial id\n * added random to set_variable\n * added victory_when_enemies_defeated\n * made it easier for different AI algorithms to be added\n * added Doxygen documentation to ai_interface\n * autotools fix: 'make uninstall' removes data directories if they are empty\n * slacknoth script does a 'make clean' before compiling source,\n   strips binaries and adds package info\n * refactored widget class\n * removed some debug cerrs\n * added VC++6 project files to CVS\n\nVersion 0.6.99.4:\n * added alpha channel\n * new tutorial\n * theme update\n * more unit graphics, animations and attack icons\n * new music added\n * resting implemented: units that don't do anything for a turn get few hitpoints back\n * 'Mage of Light' gives advantage also at dawn\n * multiplayer changes\n   * Knalgan Alliance: dwarves and their allies\n   * Rebels can't recruit dwarves or thieves anymore\n   * ally village ownership information is shared over fog of war (#7154)\n * synced MANUAL with Wiki\n * language fixes (english)\n * new translations:\n   * brazilian\n * sea creatures in Ford of Abez do not attack Li'sar\n * made energy bars fade out when a unit is killed\n * made circles disappear after a unit is killed\n * made recruiting update fog of war and shroud\n * made it so you can't create units that are off the map\n * fixed flaming sword not being found\n * fixed missing race=elf for 'Elvish Captain'\n * fixed bug where Elf wouldn't do anything in 'Mages and Elves' scenario\n * fixed units disappearing on event (#7032)\n * fixed need to be able to escape opening conversation (#7798)\n * fixed problem where some menus would have scroll buttons displayed in top-left corner\n * fixed problem with textbox not processing properly\n * fixed illegal memory access\n * fixed flop() to work properly\n * workaround to SDL bug\n * removed definition of log2 which clashes with some compilers\n * removed use of auto_ptr to help with compilation on older compilers\n * added a draw_wrapped_text method font.[ch]pp\n\nVersion 0.6.99.3:\n * data compression for network games\n * more unit graphics and animations\n * tutorial objectives added\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Sceptre of Fire\n * made it possible to recruit on any keep tile, not just a starting keeps\n * intelligence (trait) now reduces experience needed to advance by 20 %\n * quick (trait) now reduces maximum hitpoints by 10 %\n * added orcishfoot (orcs, goblins), \"orcs\" are now faster on hills and mountains\n * changed orcish units previously using smallfoot to use orcishfoot\n * mountainfoot (dwarves) made a bit faster on forest\n * mountainfoot village and castle defense increased\n * undeadfoot (undead) made faster on swamp\n * undeadfoot swamp defense increased\n * undeadfoot can now move on mountain, though very slow\n * woodland (elves) made a bit faster on mountains\n * new units:\n   * Outlaw\n   * Bandit\n * AI improvements\n   * retreating, re-grouping\n   * recognizing allies\n   * attack selection improvements\n   * grouping improvements\n   * defending leader\n   * fixed leader abandoning keep when it was not safe\n   * fixed AI leaving units idle when it has a large number of units\n * updated translations:\n   * french\n * improved castle placement on random maps\n * added 'new turn' event\n * added 'side turn' event\n * fixed healing units that had full hitpoints (#7574)\n * fixed problem where [hide_unit] still displays unit's hitpoint bar\n * fixed unit names being different in networked multiplayer games\n * fixed bug where temporary items were lost on level up or when saving and reloading the game\n * fixed bug which caused dialogs that extended past screen boundaries to crash program\n * fixed bug where unterminated #define would crash the game\n * fixed \"Two Delfadors\" bug\n * attempt to fix hitpoint bars not displaying properly on Mac OS X\n * relocated images under misc/: flamesword, holywater, sceptreoffire, staff\n\nVersion 0.6.99.2:\n * nightstalk ability added\n * added turn-to-stone special weapon ability\n * invisible units are now revealed when enemy comes adjacent to them\n * poisoned units are shown with a green hue\n * updated MANUAL\n * new units:\n   * Thug\n   * Poacher\n * increased resistance values for all Dwarvish units\n * increased cost of 'Dwarvish Fighter' to 17\n * reduced 'Dwarvish Lord' movement to 4\n * skirmish ability given to Fencer and Duelist\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Home of the North Elves\n * minimap scrolling\n * new music added\n * theme updated:\n   * new menus\n   * added menu buttons to top left of screen\n   * slider updated\n   * new buttons\n   * status icons in unit information panel\n * multiplayer improvements:\n   * Loyalists can recruit Horseman\n   * Rebels can recruit Dwarves\n * wesnothd.6 manual updated\n * credits, people ordered by role\n * tweaked look of tooltips\n * made it so the icon for the paladin's sword is used when the paladin attack\n * added Dwarvish Steelclad attack frame\n * escape save game filenames to allow special characters on them\n * removed show_ai_move options, since there is a serious bug with it\n * fixed poison healing bug\n * fixed bug where killing an enemy that caused an [endlevel] event\n   to occur prevented advancement by the unit killing\n * fixed bug where commander would carry over movement from previous level\n * fixed storyline image for Isle of the Damned\n * fixed adjacent terrain for pier terrain\n * fixed bug that caused Wesnoth to fail to compile in ia64\n * fixed crash when connecting to outdated servers\n * fixed problem with changing video modes on machines that use emulated bpp\n * fixed crashing on missing intro image\n * fix to bug in tiles_adjacent()\n * fixed \"Leving\" -> \"Leaving\" in Shadow description\n * fixed problem where after being disconnected from the server,\n   players would be unable to reconnect without quitting the client\n * fixed game not notifying when save game failed\n * fixed round indicator does not show completely (#7500)\n * attempt to fix STL-related compile error on Slackware\n * added find_visible_unit, to find a visible_unit by location in a unit_map\n * initial implementation of developer documentation (doxygen)\n * refactored some AI code\n\nVersion 0.6.99.1:\n * extended tutorial\n * two new music tracks\n * new user-interface\n   * support for themes\n   * enhanced support for resolutions below 1024x768 (e.g. 800x600)\n   * very simple chatting is now possible in-game (mouse right-click menu -> speak)\n   * new time of day images, attack icons, new buttons, checkboxes,\n     panel has been split to top and right-side panel...\n * medium difficulty level is used by default when starting new campaign\n * snapshot saving, faster loading if you skip replay\n * more unit graphics, animations and sounds\n * healers can heal allies\n * undeads can not be drained anymore\n * new units:\n   * Shadow\n * dart damage type changed from pierce to blade,\n   this affects 'Orcish Assassin' and 'Orcish Slayer'\n * fixed description for 'Wolf Rider'\n * changed 'Evil Necromancer' advanceto 'Lich'\n * Mage stats changed: hitpoints increased to 24, ranged attack does now 6-3 (magic),\n   60 experience needed to advance\n * reduced movement for Arch Mage and Great Mage to 4\n * Dwarvish Lord changes: renamed 'tomahawk' to 'hatchet', removed leadership,\n   increased resistance against blade, piercing and impact\n * Necromancer changed to 'human' (movement_type is now 'smallfoot'),\n   experience needed to advance increased to 80\n * Lich experience needed to advance increased to 250\n * 'Ancient Lich' Melee damage decreased to 8-4\n * free units don't get traits anymore, however they are free in future scenarios\n * new scenarios for 'Heir to the Throne' campaign:\n   * North Elves\n * scenario balancing for 'Heir to the Throne' campaign:\n   * Hasty Alliance\n   * Sceptre of Fire\n   * A Choice Must Be Made\n * new scenarios for 'The Dark Hordes' campaign:\n   * Mages and Elves\n * scenario balancing for 'Dark Hordes' campaign:\n   * Brother Against Brother\n   * The Skull of Agarash\n * units will stop moving when they see new units (shroud/fow)\n * moves that do not reveal shroud/fow are undoable\n * when a leader dies, all villages for that side become neutral and you\n   can not anymore capture villages, you can still \"neutralize\" villages of other players\n * 'show team colours' now uses colored circles to identify units sides\n * added 'show team colours' option to preferences dialog\n * added some explanatory tooltips for some unit attributes on sidebar\n * added in flag to show whose turn it currently is\n * added end turn confirmation when units can still move (requires\n   editing preferences-file - see WesnothPreferences on http://wiki.wesnoth.org for more information)\n * added 'unit list' to context menu\n * restored 'save game' in the context menu (#7172)\n * multiplayer improvements:\n   * enhanced multiplayer game setup\n   * random maps\n   * made basic messaging possible using 'Speak' from main menu\n   * 'delayed map sharing' between allies\n   * when player quits or gets disconnected from multiplayer game,\n     game creator chooses to replace them with ai/local player or abort\n   * loaded games should now start properly and with right settings\n   * there are now flags (and colors) for 10 teams\n   * minimap shows FoW and units\n   * configurable wesnothd port see 'wesnothd --help'\n   * client support for non-standard server ports, syntax: server.address.here:port\n * AI improvements\n   * leader seeks for healing as long as his keep is safe\n   * leader captures nearby villages in some situations\n   * leader requests help when attacked\n   * attack is chosen more effectively\n   * movement algorithm changes\n   * restructured AI code\n * man-page for wesnoth_editor\n * new translations:\n   * swedish\n * updated translations:\n   * danish\n   * dutch\n   * french\n   * spanish\n * internationalization string fixes\n * made make_translation and merge_translations compile\n * fixed \"Computer vs Computer\" not in string_table (#7295)\n * improved speed of reading cfg-files\n * units in water tiles are displayed partially submerged\n * added support for height adjustment of units\n * added snowed hills and forest - H and F\n * default selection for weapons when attacking\n * all event tags are now handled in the order in which they appear\n * teleport event\n * added several new toys for scenario developers to play with (wesnoth --test to see all thats done)\n * allowed items to set status flags on units\n * tweaked unit cfg-files for \"weapon namespace uniformity\" - needed for attack icons\n * implemented new 'team_name' tag to show alliances to replace 'enemy' tag\n * adjusted the way in which images are blitted\n * implemented new widget system with sample: textbox\n * borders of game field show dummy terrain instead of black areas\n * made images use proper transparency, instead of using black as transperant colour\n * pressing space really ends turn for a unit (#7311)\n * menu arrows are disabled when we are on top or in the bottom of menu (#7389)\n * allow scrolling to fogged zones clicking the minimap\n * fixed pressing 'n' (next unit) returning to same unit (#7308)\n * fixed player being able to see enemy unit list on enemy turn (#7312)\n * fixed unit list not showing data in correct columns for units without name (#7313)\n * disabled observers using the in-game speak (#7156)\n * seeing new areas when there is FoW now really prevents undo (#7177)\n * FoW dies when unit dies, FoW is recalculated when unit dies in combat (#7114)\n * fixed client-hosted multiplayer bug where more than two player games were not possible\n * fixed some multiplayer saving/loading bugs\n * fixed some bugs with loading replays\n * fixed problem with saving at the end of the scenario pointing to the previous scenario\n * fixed problem with units having goto orders at the beginning of scenarios\n * fixed seeing footprints of other team's units\n * fixed clicking on minimap losing focus on your unit (#7402)\n * fixed problem with old units being displayed in status bar\n * fixed bug where capturing a village with a leader would not change the village to your side\n * fixed bug where scenario objectives in loaded games would sometimes have weird boxes on the end\n * fixed bug which could cause a crash when a unit advances\n * fixed problem where changing between fullscreen/windowed mode in preferences\n   could do strange things\n * fixed start game in windowed mode -> tutorial\n   -> ctrl-f to change to fullscreen -> quit to main menu -> preferences\n   -> click button to change to full screen -> close preferences dialog -> crash\n * fixed bug where very large dialogs could crash the game\n * fixed some problems with too-large dialog boxes\n * fixed bug where an invalid side specification for a unit could crash the game\n * fixed problem in Ford of Abez with monsters attacking Li'sar\n * music on intro now has less interference\n * credits now run smoother\n * fixed Wraith appearing squashed in the panel (#7185)\n * fixed WML parser bugs\n * fixed misspelled 'The Siege of Elensefar' scenario filename\n * fixed visualization problems with in fmunoz & ettin's names in Credits\n * fixed strange text handling in intro (#7418)\n * fixed Pikeman advanceto typo (#7337)\n * fixed client connecting forever after a client disconnection (#7195)\n * many network and wesnothd code fixes and changes to make it a bit more stable\n * moved network code to mp_connect\n * autotools:\n   * changed AC_ARG_ENABLE in server, editor and tools to fix bug\n   * checks for png support in sdl_image and ogg support in sdl_mixer\n   * application icon and menu entries in KDE with --enable-kde\n   * application icon and menu entries in Gnome with --enable-gnome\n   * removed autoconf version 2.57 prerequisite\n   * adding autogen.sh, so CVS users don't need autotools installed\n * a workaround to allow users not using 16 bpp to change video mode\n * changed drawing routines to use more SDL routines,\n   and less direct manipulation of surfaces\n * removed unnecessary diagnostics\n * code refactoring and cleanups\n\nVersion 0.6.1:\n * removed plague ability from Wraiths\n * decreased Lich's melee damage by one\n * hitpoints are displayed in red/white/green depending on 1/3, 2/3, full energy\n * display experience in green when unit is near advancement\n * basic support for 800x600 resolution has been added, it still needs a lot work\n * translated manuals:\n   * norwegian\n * new translations:\n   * dutch\n * autotools: enabled changing datadir name with ./configure\n * autotools: configure stops and gives error messages if libs & includes aren't found\n * fixed Crossroads scenario lacking victory and defeat conditions\n * fixed 'A Choice Must Be Made' defeat conditions\n * fixed bug causing crash on scenario completion\n * fixed 'Storm Trident' mislocation on 'Bay of Pearls'\n * fixed resetting player starting gold, gold per village, player race,\n   and player type when loading multiplayer game\n * change the way images are handled to fix resizing (and other potential) bugs\n * fixed problem where gold was reset to 100 on some scenarios\n * made it so both holy water items in the valley of death work properly\n * fixed bug where using items such as the 'Storm Trident' and\n   'Sceptre of Fire' could crash the game\n * fixed bug that occurred when the display was zoomed very far out\n * fixed reference counting problem\n * code cleanups\n\nVersion 0.6:\n * radical storyline changes, this breaks saves from older versions\n * fog of war\n * enemy units do not vanish anymore when enemy leader is killed\n * new scenarios for 'Heir to the Throne' (Konrad's Tale):\n   * Isle of the Damned\n   * Crossroads\n   * Northern Winter\n   * The Lost General\n   * Hasty Alliance\n   * Sceptre of Fire\n   * A Choice Must Be Made\n   * Snow Plains\n   * Swamp of Dread\n * scenario balancing:\n   * Bay of Pearls\n   * Isle of Anduin\n   * Dwarven Doors\n   * Mountain Pass\n   * Valley of Death\n   * Ford of Abez\n * support for multiple campaigns\n * new campaign started: 'Hordes of the Undead'\n * multiplayer improvements:\n   * show minimap when selecting map for new game\n   * configurable starting gold per side\n   * configurable 'gold per village'\n   * teaming (alliances)\n   * configurable number of turns\n   * configurable fog of war\n   * configurable shroud\n * autotools has been taken in use, old Makefiles can be found under utils/\n * updated docs - INSTALL, MANUAL\n * man-pages for wesnoth and wesnothd (contributed by Debian package maintainer) - doc/man/\n * added a script for easy Slackware package creation - utils/slacknoth\n * added random map generator (requires Perl) - utils/random_map.pl\n * added in repeatable recruit using ctrl+shift+r\n * hotkey configuration from GUI\n * confirm overwriting of save games\n * savegames now display and are sorted by date and time\n * income calculations are now done at the beginning of each player's turn\n * made it so units that can no longer advance have experience needed displayed as '-'\n * allow use of escape to exit out of ok/cancel and yes/no dialogs with negative results\n * double-click support in menus\n * new units:\n   * Heavy Infantry\n   * Shock Trooper\n   * Sea Hag\n   * Goblin Pillager\n   * Death Knight\n   * Elvish Scout\n   * Pikeman\n   * Dwarvish Steelclad\n * Konrad now starts as Fighter, which is 1st level unit\n * undead are now immune to poison and plague\n * reduced movement for Elvish Lord\n * reduced cost of Mage\n * changed Mage attack to fire based\n * 'Mage of Light' has now both cure and illumination\n * Increased shaman slowing attack damage, decreased unit cost\n * changed 'Red Mage' to neutral alignment\n * removed 'Elvish Outrider' as evolution from Horseman\n * Scout has been renamed to Cavalry\n * Cavalry stats adjusted, increased cost by one, reduced movement by one,\n   reduced experience needed to advance\n * Horseman now needs more experience to advance\n * 'Vampire Bat' now needs more experience to advance and costs more\n * 'Mage of Light' attack is now a bit more powerful\n * fixed max experience for Orcish Warlord\n * 'Blood Bat' unit description clarified\n * Halberdier changed to 3rd level unit\n * Spearman now advances to Pikeman\n * Increased fire resistance for 'Red Mage' branch units\n * Increased holy resistance made higher for Holy units\n * auto-naming (currently elves and humans only) of units and renaming of units\n * units now have races defined in cfg-files\n * more and improved unit graphics and animations\n * changed team 6 color to purple\n * new translations:\n   * german\n   * hungarian\n * updated translations:\n   * danish\n   * french\n   * spanish\n * translated manuals:\n   * french\n   * italian\n   * spanish\n   * german\n * changed \"AI\" in the english config to \"Computer Player\"\n * fixed problem with stripping of non-latin characters at end of string in config files\n * allow internationalization of traits\n * made AI more intelligent\n * scenario building:\n   * added [remove_shroud]\n   * added [allow_recruit]\n   * added [teleport]\n * added in support for some special effects: flashing and scrolling/tremors\n * added coding support for displaying different terrain images\n   (particularly useful for villages) at different times of the day\n * fixed minor bugs in unit configuration files for Elvish Sharpshooter and Fencer\n * fixed problem where 'goto numbers' can overwrite part of the right panel\n * footsteps disappear as you walk over them\n * added engine support for weapons that can reach multiple hexes\n * added some utility macros to WML\n * added a rotate function, you can quickly rotate a SDL_Surface by any angle\n * text is drawn on screen progressively instead of all at once during introductory sequence\n * fixed problems with map updating on map scene\n * fixed bug with 'slow' attacks sometimes causing saved games to be corrupt\n * fixed bug with crashing when switch to full screen from preferences menu\n * updated MapEditor so it compiles again\n * fixed tiny maps bug\n * fixed editor so it compiles again\n * fixed problem with items on status table displaying on top of each other\n * fixed problem with server crashing on startup\n * converted combat calculations to use fixed-point math\n * fixed crash with more than 6 sides\n * fixed compile error with older versions of SDL\n * made time of day images update properly\n * fixed assertion failures\n * fixed problem where slamming screen against right side and holding down\n   right cursor key would cause hexes to shift around\n * made mouse wheel and middle-click work again\n * resolved conflicts in game.cfg\n * made it so flags are overlayed on top of villages properly\n * made image cache flush occur when switching video modes,\n   in an effort to solve colour distortion problem on MacOSX\n * fixed seg fault bug\n * fixed energy bar images\n * changed energy movement orbs\n * white spaces were changed to _ in scenario IDs and next_scenarios\n * fixed problem with loading saved games with duplicate roles\n * fixed bug in AI path finding\n * fixed problem with undos/redos causing assertion failure\n * fixed bug with drawing tiles\n * after a goto command is given, the unit is deselected\n * fixed minor multiplayer bug\n * fixed tool tips to work again\n * fix hitpoint bar problem on MacOSX\n * added diagnostic to attack calculations\n * added error logging and correction for combat related syncing errors\n * client_type=ai in preferences-file make player join\n   networked multiplayer games as AI player\n * added some comments to code\n * added icon to Windows distribution\n\nVersion 0.5.1:\n * more and improved unit graphics and animations\n * added show_ai_moves and show_combat options for preferences file\n * in 'Valley of Death' Li'Sar now arrives with Spearmen instead Swordsmen\n * renamed Soldier to Spearman\n * made it so shroud displays properly on the minimap\n * added support for UTF-8\n * extensive changes to the way event handling works\n * make multiplayer lobby look better\n * made advancement of units on a remote machine random\n * made display draw more efficiently\n * made it so AI players have an empty description in multiplayer games\n * added in some additional assertion checks\n * made some templated code more portable across compilers\n * fixed problem with AI attacking units not always advancing levels\n * map file format is now correctly oriented\n\nVersion 0.5:\n * low traffic wesnoth-releases mailing-list,\n   subscribe at http://mail.nongnu.org/mailman/listinfo/wesnoth-releases\n * network multiplayer\n * wesnoth server\n * more sound effects and musics\n * more and improved unit graphics and animations\n * portraits when major characters are talking\n * more story graphics\n * many compile errors squashed\n * updates to Danish, French and Spanish translations\n * updates and fixes to editor\n * snow and desert terrains, improved graphics for grassland\n * scenario difficulty adjustment/balacing\n * new scenarios:\n   * The Blackwater Port\n   * Plunging Into the Darkess\n * new units:\n   * Elvish Shyde\n   * Dark Adept (Necromancer wannabe)\n   * Dragoon\n   * Soldier\n * Swordsman was changed to level 2 unit\n * Gryphon claws attack is now blade\n * reduced movement for Dwarvish Berserker, Dwarvish Lord,\n   Orcish Assassin, Orcish Slayer and Orcish Crossbow\n * elven units are now neutral\n * changed 'night vision' to ambush (\"invisibility\" at forest)\n   for Elvish Ranger and Elvish Avenger\n * changed Elvish Outrider weapon to sword (no more charging)\n * human units are now lawful\n * renamed Assasin to Assassin\n * changed Orchish Archer and Orcish Crossbow melee attack to blade\n * elusivefoot now take more damage when hit\n * fixed teleporting to work properly\n * many small unit adjustements to balance units\n * lightbringer ability renamed to illuminates\n * flying units are now harder to hit\n * allow keystroke repeat when holding down in text entry fields\n * added toggling of grid with control-g\n * fixed cycling to goto units\n * made it so when unit is selected, pressing a number n on the keyboard\n   will show how far that unit can move in n turns\n * added mousewheel support\n * added center-on-middle click\n * fixed bug with replays and moving onto villages\n * added shroud\n * removed timeout in intro sequence\n * button transparency problems fixed\n * fixed energy bar display problem\n * fixed position on minimap when clicking\n * make fights go faster when accelerated\n * improved AI\n * added tooltips for text that cannot fit\n * added turn dialog and turn bell options\n * added in 'status table'\n * added better dialog for when unit is recruited\n * added new dialogs and right-side panel\n * path highlighting (footsteps)\n * menu borders updated\n * added in showing of how many turns a goto command will take.\n   Mousing over terrain with unit selected will show defense % of the terrain\n   and movement cost for that unit\n * made preferences accessible from the title screen\n * added configurable scrolling speed\n * added in colour cycling for day/night\n * removed deprecated display::get_minimap_location() function\n * fixed choose_weapon assertion failure\n * got rid of use of spaces in saved game names\n * refactored menu class into its own source file\n * updated scenarios to use the 'next_scenario' system\n * fixed problem with round()\n * getting rid of scenario numbering, preparing for less linearity\n * added PREFERENCES_DIR preprocessor symbol which specifies name of preferences directory\n * fixed some crashes when loading preferences.\n * added configurable day/night scheduler\n * removed unit status dialog from unit description as it's redundant\n\nVersion 0.4.8:\n * lots of bugs fixed\n * translations updated and some new translations\n * AI improvements - grouping, waiting for reinforcements\n * new tile graphics for grassland, shallow water, deep water, sand and keep\n * more unit animations, sounds and descriptions\n * reduced movement for advanced units, they don't need to be both\n   more powerful and faster than lesser units\n * horseman is now neutral unit\n * paladin sword attack is now holy\n * wolf rider, goblin knight, vampire bat and blood bat attack is now blade\n * new healing/curing, paladin and shaman have healing, white mage and druid have cure\n * go-to implemented\n * ask to save replay at end of scenario\n * autosave (\"crash recovery\")\n * customizable hotkeys, configured in preferences-file\n * pressing window close button quits the game\n * scenario objectives are shown at the start of scenario\n * terrain descriptions now use 'terrain (underlying terrain)' format\n * when a unit reaches border of screen we center map on unit instead of scrolling\n * validate saved games with version number\n * screen resolution can be changed in preferences\n * allow window to be dynamically resized when running windowed\n * use video hardware surfaces where possible (Windows seems to have trouble\n   with hardware surfaces so game always uses software surfaces when running on Windows)\n * code cleanups\n * lots of compiler warning eliminated\n * sourcecode moved to src/\n\nVersion 0.4.7:\n * patched the units config files with miyo's patch to clean up the structure\n * made it so the game will dump core if it segfaults\n * fixed crash reported by zas when a unit attacks\n * you can now zoom in and out when the AI is moving\n * added improved keyboard control that allows keys to be set in the locale settings.\n   Keyboard shortcuts (in the English locale) changed\n * added ability to make different game-paths - e.g. the scenario\n   you play could be determined by how you won last scenario.\n   Dialogs can now be popped up which ask the player to make a selection,\n   and the selection they make determines how the game progresses.\n   (But no part of the game actually uses this feature yet)\n * added scenario objectives in scenario 10\n * now when the AI attacks an enemy and doesn't kill it, it will move\n   other nearby units toward the place where the combat took place\n * if an AI sees only combats that result in loss nearby,\n   it will request reinforcements from nearby\n * made it so that if the macro WESNOTH_PATH is defined, the game\n   will look for its data files at that path. You can thus compile with\n   e.g.  -DWESNOTH_PATH=\\\"/usr/local/games/wesnoth\\\"\n   -- the Makefile does not currently take advantage of this\n * added benchmarking of times to perform various operations in the game\n * made leaders start in a 'keep'. (But need a better image for the keep\n * added difficulty level settings for scenarios up to scenario 9\n * added (partially done) Italian translation\n * added 'skip turn' option, accessible by pressing space -\n   will end the selected unit's turn, and go to the next unit that has moves left\n\nVersion 0.4.6:\n * converted over to using png images instead of bmp\n * fixed up difficulty levels for 'normal' on scenarios 3 and 4 as reported by miyo\n * made it so healing animations and sounds don't play during replays\n * removed name generation code, since it wasn't fast enough\n * added sounds to a number of Elvish units\n * made it so that when the attack-selection dialog is displayed, the\n   attacking unit is displayed in the right side bar,\n   so that one can easily compare the attacking and defending units\n * fixed bug where after a scenario is loaded, on new turn it wouldn't scroll to the leader\n * made the display area for units bigger when recalling, to fit in units like the Druid\n * reduced Mage's hitpoints from 25 -> 18\n * added in plague ability and gave it to walking corpse and wraith.\n   A unit with plague will create a new unit of their own type whenever they kill an enemy unit\n * tweaked recruitment pattern on scenario 6\n * made marksman and sharpshooter both very bad at close range\n * increased power of Mage of Light's attack\n * made it so you get a gold bonus when you complete scenario 9\n * fixed scenario 7 to say 'survive for 2 days'\n * changed Swordman -> Swordsman and Beserker -> Berserker\n * made some speed changes which will hopefully help for people who\n   are finding it slow on startup and after selecting difficulty levels\n * fixed display problem where background of menus that had scroll arrows looked displaced\n * corrected facing of dwarvern units\n * added transition hexes at the edge of the scenario to make the edges of the map look nicer\n * added a 'show grid' option\n\nVersion 0.4.5:\n * added mine image for scenario 11 provided by fmunoz\n * added some missing headers to source files, problem pointed out by zas\n * made the animation for healing take a little longer\n * added new shortcut, control-F alternates between full screen and windowed mode\n * added buttons 'next' and 'skip' to introduction sequence\n * added two new images from fmunoz to introduction sequence\n * added new preferences dialog, which contains volume controls for music and sound effects\n * got rid of flicker on title screen when you cancel selection of a dialog box\n * fixed a number of drawing bugs which caused strange lines to appear\n   across the screen sometimes, and caused the game to display badly when zoomed out alot.\n   Zooming out should now work perfectly\n * marksman (trait) to hit chance reduced to 60 %\n * night vision (trait) added to Elvish Ranger and Elvish Avenger\n\nVersion 0.4.4:\n * fixed assertion failure if you try to start a campaign and then cancel\n   on the difficulty level settings\n * added 'merge_translations' tool which will merge an old version of a\n   foreign language translation to the current English translation, making a\n   new translation that has foreign language strings where they are available,\n   and English strings otherwise\n * fixed crash if you opened a menu that had some empty strings in it\n   (for instance clicking preferences in the French version)\n * changed recruitment so that now a leader can only recruit if they are on\n   a starting location. They can recruit units on any vacant castle tile connected\n   to the starting location they are on. The player can choose a location\n   to recruit onto by selecting it when accessing the recruit menu. TODO -\n   Need a graphic to distinguish the starting hex from other castle hexes\n * changed maximum items displayed in a menu before up/down buttons appear from 10 to 18\n * fixed bug in scenario 8 where objectives would not be displayed\n * fixed bug in scenario 9 where major characters could die without loss\n * changed it so that when writing a configuration file,\n   [/element-name] will be used to end an element instead of [end]\n * fixed corrupted save file bug reported by miyo\n * made the White Mages that join you in level 7 leave you\n   at the end of the level, as they are meant to\n * changed advancement animation colour to black for chaotic units\n * made it so that when an AI-controlled unit moves,\n   its details are displayed on the sidebar, as suggested by miyo\n * implemented algorithm so that if an AI is moving and the map has to be scrolled,\n   frames will be skipped if necessary to make the AI moving at a decent speed\n * added Danish translation\n * added improved French translation\n * made it so that if you mouse-over a unit, it will be displayed\n   in the unit details on the sidebar\n * changed healing so that a healer can only heal up to 12 hitpoints per turn.\n   Added animations and sound effects to healing\n * added in AI type 'guardian', which is a unit that will stay in position\n   until enemies come in range at which point it attacks.  Now in scenario 3\n   there is a cage with many mermen in it that has 2 naga guardians around it\n * added scenario 10 provided by Shroud and scenario 11 provided by fmunoz\n * added in test version of a naming algorithm that will automatically name\n   created units that was submitted as a patch by a wesnoth user\n\nVersion 0.4.3:\n * made it so that when a directory is scanned for files,\n   only files ending in .cfg will be used.\n   This is mainly to stop vim swap files from being used\n * changed AI's movement routines to make it slightly more intelligent\n * added in difficulty levels - easy, medium, and hard\n * scenarios 1 and 2 now have easy/medium/hard difficulty levels implemented for them\n * when an enemy dies, its energy bar now fades out with it\n * added 'turbo' mode in preferences area.\n   In turbo mode, the operation of the shift key is inverted.\n   Turbo mode and full screen mode settings are now saved to the preferences file\n * made the time of day go dawn - day - day - dusk - night - night as suggested by miyo\n * fixed up bugs in the AI's pathfinding, the AI should now be substantially smarter\n * allowed setting of custom target units for the AI\n\nVersion 0.4.2:\n * if you hold shift, the game won't scroll at all, it'll jump between locations\n * added attack animations for necromancer and mage\n * added in Lohari's images with corrected shadows\n * added in Lohari's crossed daggers for battles, instead of the cross\n * added in Paladin's patch to highlight the hex of the unit that is currently selected\n * used new Makefile provided by zas\n * added setting of window title as suggested by zas\n * changed so that holding shift skips fading in recruiting units\n * increased cost of Naga from 8 -> 11 gold to make scenario 3 easier\n * fixed bug with recalling in mid-level saved games -\n   should save alot of game corruption issues\n * made it so attack sounds do not play while loading game\n * added animations for Goblin Knight, Wolf Rider, and Troll Whelp\n * made it so Glordorf in Scenario 2 doesn't join the player\n * added in new missile images done by fmunoz\n * fixed bug where merman's storm trident would run out when the merman advances,\n   or at the end of the level\n * page up and page down can be used to maneuver through menus\n * fixed bug reported by Jaramir, where exiting a multiplayer game\n   would cause the save state to be remembered\n * fixed bug reported by Jaramir, where recruiting or recalling a unit\n   wouldn't update your gold immediately\n * added better guarantees that when an AI attacks a unit,\n   the unit being attacked won't be mostly off the screen\n * changed Necromancer to level 2\n * fixed bug where quitting the game by pressing escape during\n   opening dialog sequence would cause the game to crash\n * added facility suggested by miyo where an entire directory can be scanned\n   to look for configuration files. Re-arranged files in data/ to utilize this\n * changed configuration files to allow [/tagname] to end a tag instead of [end].\n   Added better error handling for bad configuration files\n * added utility make_translation which when run, will construct a\n   sample translation with all the strings that can be translated in it\n * removed Outrider's spear/charge attack and replaced it with a sword\n * added sorting to recall list\n\nVersion 0.4.1:\n * added music and sound support. The game has one song, provided by ZhayTee+.\n   Added some sample sounds for Elvish Fighter attacking\n * fixed up bug where if you loaded a mid-level game, and then saved\n   at the end of level, the save would be corrupt\n * fixed bug where the display mode would always be displayed as 'windowed'\n * make the game report an error message if switching between windowed/full screen fails\n * make the game handle switches between windowed and full screen even if exact colour depth can't be matched\n * arrow keys can now be used to maneuver menus, and enter can be used for 'ok and yes' in dialogs\n * fixed bug that caused a crash at the end of the tutorial\n * fixed bug where moving a unit along the border edges would go very slowly\n\nVersion 0.4:\n * fixed a bug with unit description images being messed up if you zoom in\n * fixed time to load a game\n * fixed missiles up to point in the correct direction\n * fixed naming of Shallow Water and Deep Water (used to be 'ocean' and 'coast'\n   and not internationalized properly)\n * removed bug where a dialog could overwrite part of the sidebar on the right\n * now you have to 'kill' Li'sar in scenario 6 before she'll surrender\n * added more cleaning in Makefile\n * use new dynamically generated buttons based\n * use anti-aliased fonts\n * addition of a multi-player mode that allows hot seat multiplayer games to be played\n * added button 'n' which takes you to the 'next' unmoved unit.\n   You can cycle through all your unmoved units by pressing 'n' repeatedly\n * added 'preferences' item in options menu.\n   The one preference at the moment is to be able to toggle between windowed\n   and full-screen from within the game\n * changed rectangle on the map of Wesnoth to cross\n * completed scenario 9\n * added gryphon rider unit and put them in scenario 9\n * added resistance tables and terrain movement and defense tables to 'unit description'\n * added unit descriptions to many more units\n * when a unit is recruited, it now fades in\n * AI leaders will now attack you if you move next to them\n * the ai now targets units that are close to advancing more,\n   and tries to protect and advance its own units better\n * mage's attack changed to 8-2\n * human fencer unit added\n * wraith's damage taken up from 7 to 8\n * changed movement of red mage, arch mage, and great mage from 7 to 6.\n   With teleporting, 7 movement is too powerful. May even reduce to 5 later\n\nVersion 0.3.4:\n * fixed display bug which kept the game from working on many machines\n * added Elvish Shaman and Druid units\n * added transperancy for some units\n * added undo and redo using the 'u' and 'r' keys\n * tweaked the 'valley of death' scenario\n * changed some unit values\n\nVersion 0.3.3:\n * fixed problem in scenario 2\n * implemented facing of units\n\nVersion 0.3.2:\n * incorrect references to images fixed\n * basic support for animated combats added\n * size of the energy bar scaled to the hitpoints a unit has\n\nVersion 0.3.1:\n * basic items support added\n * support for units to have different 'traits' added\n * combat is now animated\n * some redraw problems fixed\n * better interface design\n\nVersion 0.3:\n * many game rules changed/tweaked\n * speed improved\n * AI improved. (Although the AI sometimes does go a little slowly now)\n * new scenarios added\n * new unit types added\n * lots of tweaking, fixing of minor things\n\nVersion 0.2.1:\n * many redraw bugs fixed\n * new scenarios added\n * many new graphics added that were contributed by Paco\n * infinite recall bug fixed\n * recalling now costs 20 gold pieces. Gold from previous scenarios carries over,\n   and there is a bonus for finishing a scenario early\n * better transitions between tiles added (graphics for this not complete though)\n", "/*\n   Copyright (C) 2003 - 2015 by David White <dave@whitevine.net>\n   Part of the Battle for Wesnoth Project http://www.wesnoth.org/\n\n   This program is free software; you can redistribute it and/or modify\n   it under the terms of the GNU General Public License as published by\n   the Free Software Foundation; either version 2 of the License, or\n   (at your option) any later version.\n   This program is distributed in the hope that it will be useful,\n   but WITHOUT ANY WARRANTY.\n\n   See the COPYING file for more details.\n*/\n\n/**\n * @file\n * File-IO\n */\n\n#include \"global.hpp\"\n\n// Include files for opendir(3), readdir(3), etc.\n// These files may vary from platform to platform,\n// since these functions are NOT ANSI-conforming functions.\n// They may have to be altered to port to new platforms\n\n//for mkdir\n#include <sys/stat.h>\n\n#ifdef _WIN32\n#include \"filesystem_win32.ii\"\n#include <cctype>\n#else /* !_WIN32 */\n#include <unistd.h>\n#include <dirent.h>\n#include <libgen.h>\n#endif /* !_WIN32 */\n\n// for getenv\n#include <cerrno>\n#include <fstream>\n#include <iomanip>\n#include <set>\n#include <boost/algorithm/string.hpp>\n\n// for strerror\n#include <cstring>\n\n#include \"config.hpp\"\n#include \"filesystem.hpp\"\n#include \"game_config.hpp\"\n#include \"game_preferences.hpp\"\n#include \"log.hpp\"\n#include \"scoped_resource.hpp\"\n#include \"serialization/string_utils.hpp\"\n#include \"serialization/unicode.hpp\"\n#include \"version.hpp\"\n\n#include <boost/foreach.hpp>\n\nstatic lg::log_domain log_filesystem(\"filesystem\");\n#define DBG_FS LOG_STREAM(debug, log_filesystem)\n#define LOG_FS LOG_STREAM(info, log_filesystem)\n#define WRN_FS LOG_STREAM(warn, log_filesystem)\n#define ERR_FS LOG_STREAM(err, log_filesystem)\n\nnamespace {\n\tconst mode_t AccessMode = 00770;\n\n\t// These are the filenames that get special processing\n\tconst std::string maincfg_filename = \"_main.cfg\";\n\tconst std::string finalcfg_filename = \"_final.cfg\";\n\tconst std::string initialcfg_filename = \"_initial.cfg\";\n\n}\n\n#ifdef __APPLE__\n#include <CoreFoundation/CoreFoundation.h>\n#include <CoreFoundation/CFString.h>\n#include <CoreFoundation/CFBase.h>\n#endif\n\nnamespace filesystem {\n\nvoid get_files_in_dir(const std::string &directory,\n\t\t\t\t\t  std::vector<std::string>* files,\n\t\t\t\t\t  std::vector<std::string>* dirs,\n\t\t\t\t\t  file_name_option mode,\n\t\t\t\t\t  file_filter_option filter,\n\t\t\t\t\t  file_reorder_option reorder,\n\t\t\t\t\t  file_tree_checksum* checksum)\n{\n\t// If we have a path to find directories in,\n\t// then convert relative pathnames to be rooted\n\t// on the wesnoth path\n\tif(!directory.empty() && directory[0] != '/' && !game_config::path.empty()){\n\t\tstd::string dir = game_config::path + \"/\" + directory;\n\t\tif(is_directory(dir)) {\n\t\t\tget_files_in_dir(dir,files,dirs,mode,filter,reorder,checksum);\n\t\t\treturn;\n\t\t}\n\t}\n\n\tstruct stat st;\n\n\tif (reorder == DO_REORDER) {\n\t\tLOG_FS << \"searching for _main.cfg in directory \" << directory << '\\n';\n\t\tstd::string maincfg;\n\t\tif (directory.empty() || directory[directory.size()-1] == '/')\n\t\t\tmaincfg = directory + maincfg_filename;\n\t\telse\n\t\t\tmaincfg = (directory + \"/\") + maincfg_filename;\n\n\t\tif (::stat(maincfg.c_str(), &st) != -1) {\n\t\t\tLOG_FS << \"_main.cfg found : \" << maincfg << '\\n';\n\t\t\tif (files != NULL) {\n\t\t\t\tif (mode == ENTIRE_FILE_PATH)\n\t\t\t\t\tfiles->push_back(maincfg);\n\t\t\t\telse\n\t\t\t\t\tfiles->push_back(maincfg_filename);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\n\tDIR* dir = opendir(directory.c_str());\n\n\tif(dir == NULL) {\n\t\t// Probably not a directory, let the caller deal with it.\n\t\treturn;\n\t}\n\n\tstruct dirent* entry;\n\twhile((entry = readdir(dir)) != NULL) {\n\t\tif(entry->d_name[0] == '.')\n\t\t\tcontinue;\n#ifdef __APPLE__\n\t\t// HFS Mac OS X decomposes filenames using combining unicode characters.\n\t\t// Try to get the precomposed form.\n\t\tchar macname[MAXNAMLEN+1];\n\t\tCFStringRef cstr = CFStringCreateWithCString(NULL,\n\t\t\t\t\t\t\t entry->d_name,\n\t\t\t\t\t\t\t kCFStringEncodingUTF8);\n\t\tCFMutableStringRef mut_str = CFStringCreateMutableCopy(NULL,\n\t\t\t\t\t\t\t 0, cstr);\n\t\tCFStringNormalize(mut_str, kCFStringNormalizationFormC);\n\t\tCFStringGetCString(mut_str,\n\t\t\t\tmacname,sizeof(macname)-1,\n\t\t\t\tkCFStringEncodingUTF8);\n\t\tCFRelease(cstr);\n\t\tCFRelease(mut_str);\n\t\tconst std::string basename = macname;\n#else\n\t\t// generic Unix\n\t\tconst std::string basename = entry->d_name;\n#endif /* !APPLE */\n\n\t\tstd::string fullname;\n\t\tif (directory.empty() || directory[directory.size()-1] == '/')\n\t\t\tfullname = directory + basename;\n\t\telse\n\t\t\tfullname = directory + \"/\" + basename;\n\n\t\tif (::stat(fullname.c_str(), &st) != -1) {\n\t\t\tif (S_ISREG(st.st_mode)) {\n\t\t\t\tif(filter == SKIP_PBL_FILES && looks_like_pbl(basename)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (files != NULL) {\n\t\t\t\t\tif (mode == ENTIRE_FILE_PATH)\n\t\t\t\t\t\tfiles->push_back(fullname);\n\t\t\t\t\telse\n\t\t\t\t\t\tfiles->push_back(basename);\n\t\t\t\t}\n\t\t\t\tif (checksum != NULL) {\n\t\t\t\t\tif(st.st_mtime > checksum->modified) {\n\t\t\t\t\t\tchecksum->modified = st.st_mtime;\n\t\t\t\t\t}\n\t\t\t\t\tchecksum->sum_size += st.st_size;\n\t\t\t\t\tchecksum->nfiles++;\n\t\t\t\t}\n\t\t\t} else if (S_ISDIR(st.st_mode)) {\n\t\t\t\tif (filter == SKIP_MEDIA_DIR\n\t\t\t\t\t\t&& (basename == \"images\"|| basename == \"sounds\"))\n\t\t\t\t\tcontinue;\n\n\t\t\t\tif (reorder == DO_REORDER &&\n\t\t\t\t\t\t::stat((fullname+\"/\"+maincfg_filename).c_str(), &st)!=-1 &&\n\t\t\t\t\t\tS_ISREG(st.st_mode)) {\n\t\t\t\t\tLOG_FS << \"_main.cfg found : \";\n\t\t\t\t\tif (files != NULL) {\n\t\t\t\t\t\tif (mode == ENTIRE_FILE_PATH) {\n\t\t\t\t\t\t\tfiles->push_back(fullname + \"/\" + maincfg_filename);\n\t\t\t\t\t\t\tLOG_FS << fullname << \"/\" << maincfg_filename << '\\n';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfiles->push_back(basename + \"/\" + maincfg_filename);\n\t\t\t\t\t\t\tLOG_FS << basename << \"/\" << maincfg_filename << '\\n';\n\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t// Show what I consider strange\n\t\t\t\t\t\tLOG_FS << fullname << \"/\" << maincfg_filename << \" not used now but skip the directory \" << std::endl;\n\t\t\t\t\t}\n\t\t\t\t} else if (dirs != NULL) {\n\t\t\t\t\tif (mode == ENTIRE_FILE_PATH)\n\t\t\t\t\t\tdirs->push_back(fullname);\n\t\t\t\t\telse\n\t\t\t\t\t\tdirs->push_back(basename);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tclosedir(dir);\n\n\tif(files != NULL)\n\t\tstd::sort(files->begin(),files->end());\n\n\tif (dirs != NULL)\n\t\tstd::sort(dirs->begin(),dirs->end());\n\n\tif (files != NULL && reorder == DO_REORDER) {\n\t\t// move finalcfg_filename, if present, to the end of the vector\n\t\tfor (unsigned int i = 0; i < files->size(); i++) {\n\t\t\tif (ends_with((*files)[i], \"/\" + finalcfg_filename)) {\n\t\t\t\tfiles->push_back((*files)[i]);\n\t\t\t\tfiles->erase(files->begin()+i);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// move initialcfg_filename, if present, to the beginning of the vector\n\t\tunsigned int foundit = 0;\n\t\tfor (unsigned int i = 0; i < files->size(); i++)\n\t\t\tif (ends_with((*files)[i], \"/\" + initialcfg_filename)) {\n\t\t\t\tfoundit = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t// If _initial.cfg needs to be moved (it was found, but not at index 0).\n\t\tif (foundit > 0) {\n\t\t\tstd::string initialcfg = (*files)[foundit];\n\t\t\tfor (unsigned int i = foundit; i > 0; --i)\n\t\t\t\t(*files)[i] = (*files)[i-1];\n\t\t\t(*files)[0] = initialcfg;\n\t\t}\n\t}\n}\n\nstd::string get_next_filename(const std::string& name, const std::string& extension)\n{\n\tstd::string next_filename;\n\tint counter = 0;\n\n\tdo {\n\t\tstd::stringstream filename;\n\n\t\tfilename << name;\n\t\tfilename.width(3);\n\t\tfilename.fill('0');\n\t\tfilename.setf(std::ios_base::right);\n\t\tfilename << counter << extension;\n\t\tcounter++;\n\t\tnext_filename = filename.str();\n\t} while(file_exists(next_filename) && counter < 1000);\n\treturn next_filename;\n}\n\n\nstd::string get_dir(const std::string& dir_path)\n{\n\tDIR* dir = opendir(dir_path.c_str());\n\tif(dir == NULL) {\n\t\tconst int res = mkdir(dir_path.c_str(),AccessMode);\n\t\tif(res == 0) {\n\t\t\tdir = opendir(dir_path.c_str());\n\t\t} else {\n\t\t\tERR_FS << \"could not open or create directory: \" << dir_path << std::endl;\n\t\t}\n\t}\n\n\tif(dir == NULL)\n\t\treturn \"\";\n\n\tclosedir(dir);\n\n\treturn dir_path;\n}\n\nbool make_directory(const std::string& path)\n{\n\treturn (mkdir(path.c_str(),AccessMode) == 0);\n}\n\n// This deletes a directory with no hidden files and subdirectories.\n// Also deletes a single file.\nbool delete_directory(const std::string& path, const bool keep_pbl)\n{\n\tbool ret = true;\n\tstd::vector<std::string> files;\n\tstd::vector<std::string> dirs;\n\n\tget_files_in_dir(path, &files, &dirs, ENTIRE_FILE_PATH, keep_pbl ? SKIP_PBL_FILES : NO_FILTER);\n\n\tif(!files.empty()) {\n\t\tfor(std::vector<std::string>::const_iterator i = files.begin(); i != files.end(); ++i) {\n\t\t\terrno = 0;\n\t\t\tif(remove((*i).c_str()) != 0) {\n\t\t\t\tLOG_FS << \"remove(\" << (*i) << \"): \" << strerror(errno) << std::endl;\n\t\t\t\tret = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tif(!dirs.empty()) {\n\t\tfor(std::vector<std::string>::const_iterator j = dirs.begin(); j != dirs.end(); ++j) {\n\t\t\tif(!delete_directory(*j))\n\t\t\t\tret = false;\n\t\t}\n\t}\n\n\terrno = 0;\n#ifdef _WIN32\n\t// remove() doesn't delete directories on windows.\n\tint (*remove)(const char*);\n\tif(is_directory(path))\n\t\tremove = rmdir;\n\telse\n\t\tremove = ::remove;\n#endif\n\tif(remove(path.c_str()) != 0) {\n\t\tLOG_FS << \"remove(\" << path << \"): \" << strerror(errno) << std::endl;\n\t\tret = false;\n\t}\n\treturn ret;\n}\nbool delete_file(const std::string& path)\n{\n\tbool ret = true;\n\tif(remove(path.c_str()) != 0 && errno != ENOENT) {\n\t\tERR_FS << \"remove(\" << path << \"): \" << strerror(errno) << \"\\n\";\n\t\tret = false;\n\t}\n\treturn ret;\n}\n\nstd::string get_cwd()\n{\n\tchar buf[1024];\n\tconst char* const res = getcwd(buf,sizeof(buf));\n\tif(res != NULL) {\n\t\tstd::string str(res);\n\n#ifdef _WIN32\n\t\tstd::replace(str.begin(),str.end(),'\\\\','/');\n#endif\n\n\t\treturn str;\n\t} else {\n\t\treturn \"\";\n\t}\n}\n\nstd::string get_exe_dir()\n{\n#ifndef _WIN32\n\tchar buf[1024];\n\tsize_t path_size = readlink(\"/proc/self/exe\", buf, sizeof(buf)-1);\n\tif(path_size == static_cast<size_t>(-1))\n\t\treturn std::string();\n\tbuf[path_size] = 0;\n\treturn std::string(dirname(buf));\n#else\n\treturn get_cwd();\n#endif\n}\n\nbool create_directory_if_missing(const std::string& dirname)\n{\n\tif(is_directory(dirname)) {\n\t\tDBG_FS << \"directory \" << dirname << \" exists, not creating\" << std::endl;\n\t\treturn true;\n\t} else if(file_exists(dirname)) {\n\t\tERR_FS << \"cannot create directory \" << dirname << \"; file exists\" << std::endl;\n\t\treturn false;\n\t}\n\tDBG_FS << \"creating missing directory \" << dirname << '\\n';\n\treturn make_directory(dirname);\n}\nbool create_directory_if_missing_recursive(const std::string& dirname)\n{\n\tDBG_FS<<\"creating recursive directory: \"<<dirname<<'\\n';\n\tif (is_directory(dirname) == false && dirname.empty() == false)\n\t{\n\t\tstd::string tmp_dirname = dirname;\n\t\t// remove trailing slashes or backslashes\n\t\twhile ((tmp_dirname[tmp_dirname.size()-1] == '/' ||\n\t\t\t  tmp_dirname[tmp_dirname.size()-1] == '\\\\') &&\n\t\t\t  !tmp_dirname.empty())\n\t\t{\n\t\t\ttmp_dirname.erase(tmp_dirname.size()-1);\n\t\t}\n\n\t\t// create the first non-existing directory\n\t\tsize_t pos = tmp_dirname.rfind(\"/\");\n\n\t\t// we get the most right directory and *skip* it\n\t\t// we are creating it when we get back here\n\t\tif (tmp_dirname.rfind('\\\\') != std::string::npos &&\n\t\t\ttmp_dirname.rfind('\\\\') > pos )\n\t\t\tpos = tmp_dirname.rfind('\\\\');\n\n\t\tif (pos != std::string::npos)\n\t\t\tcreate_directory_if_missing_recursive(tmp_dirname.substr(0,pos));\n\n\t\treturn create_directory_if_missing(tmp_dirname);\n\t}\n\treturn create_directory_if_missing(dirname);\n}\n\nstatic std::string user_data_dir, user_config_dir, cache_dir;\n\nstatic void setup_user_data_dir();\n\n#ifndef _WIN32\nstatic const std::string& get_version_path_suffix()\n{\n\tstatic std::string suffix;\n\n\t// We only really need to generate this once since\n\t// the version number cannot change during runtime.\n\n\tif(suffix.empty()) {\n\t\tstd::ostringstream s;\n\t\ts << game_config::wesnoth_version.major_version() << '.'\n\t\t  << game_config::wesnoth_version.minor_version();\n\t\tsuffix = s.str();\n\t}\n\n\treturn suffix;\n}\n#endif\n\nvoid set_user_data_dir(std::string path)\n{\n#ifdef _WIN32\n\tif(path.empty()) {\n\t\tuser_data_dir = get_cwd() + \"/userdata\";\n\t} else if (path.size() > 2 && path[1] == ':') {\n\t\t//allow absolute path override\n\t\tuser_data_dir = path;\n\t} else {\n\t\ttypedef BOOL (WINAPI *SHGSFPAddress)(HWND, LPSTR, int, BOOL);\n\t\tSHGSFPAddress SHGetSpecialFolderPathA;\n\t\tHMODULE module = LoadLibraryA(\"shell32\");\n\t\tSHGetSpecialFolderPathA = reinterpret_cast<SHGSFPAddress>(GetProcAddress(module, \"SHGetSpecialFolderPathA\"));\n\t\tif(SHGetSpecialFolderPathA) {\n\t\t\tLOG_FS << \"Using SHGetSpecialFolderPath to find My Documents\" << std::endl;\n\t\t\tchar my_documents_path[MAX_PATH];\n\t\t\tif(SHGetSpecialFolderPathA(NULL, my_documents_path, 5, 1)) {\n\t\t\t\tstd::string mygames_path = std::string(my_documents_path) + \"/\" + \"My Games\";\n\t\t\t\tboost::algorithm::replace_all(mygames_path, std::string(\"\\\\\"), std::string(\"/\"));\n\t\t\t\tcreate_directory_if_missing(mygames_path);\n\t\t\t\tuser_data_dir = mygames_path + \"/\" + path;\n\t\t\t} else {\n\t\t\t\tWRN_FS << \"SHGetSpecialFolderPath failed\" << std::endl;\n\t\t\t\tuser_data_dir = get_cwd() + \"/\" + path;\n\t\t\t}\n\t\t} else {\n\t\t\tLOG_FS << \"Failed to load SHGetSpecialFolderPath function\" << std::endl;\n\t\t\tuser_data_dir = get_cwd() + \"/\" + path;\n\t\t}\n\t}\n\n#else /*_WIN32*/\n\n#ifdef PREFERENCES_DIR\n\tif (path.empty()) path = PREFERENCES_DIR;\n#endif\n\n\tstd::string path2 = \".wesnoth\" + get_version_path_suffix();\n\n#ifdef _X11\n\tconst char *home_str = getenv(\"HOME\");\n\n\tif (path.empty()) {\n\t\tchar const *xdg_data = getenv(\"XDG_DATA_HOME\");\n\t\tif (!xdg_data || xdg_data[0] == '\\0') {\n\t\t\tif (!home_str) {\n\t\t\t\tpath = path2;\n\t\t\t\tgoto other;\n\t\t\t}\n\t\t\tuser_data_dir = home_str;\n\t\t\tuser_data_dir += \"/.local/share\";\n\t\t} else user_data_dir = xdg_data;\n\t\tuser_data_dir += \"/wesnoth/\";\n\t\tuser_data_dir += get_version_path_suffix();\n\t\tcreate_directory_if_missing_recursive(user_data_dir);\n\t} else {\n\t\tother:\n\t\tstd::string home = home_str ? home_str : \".\";\n\n\t\tif (path[0] == '/')\n\t\t\tuser_data_dir = path;\n\t\telse\n\t\t\tuser_data_dir = home + \"/\" + path;\n\t}\n#else\n\tif (path.empty()) path = path2;\n\n\tconst char* home_str = getenv(\"HOME\");\n\tstd::string home = home_str ? home_str : \".\";\n\n\tif (path[0] == '/')\n\t\tuser_data_dir = path;\n\telse\n\t\tuser_data_dir = home + std::string(\"/\") + path;\n#endif\n\n#endif /*_WIN32*/\n\tsetup_user_data_dir();\n}\n\nvoid set_user_config_dir(std::string path)\n{\n\tuser_config_dir = path;\n\tcreate_directory_if_missing(user_config_dir);\n}\n\nstatic void setup_user_data_dir()\n{\n#ifdef _WIN32\n\t_mkdir(user_data_dir.c_str());\n\t_mkdir((user_data_dir + \"/editor\").c_str());\n\t_mkdir((user_data_dir + \"/editor/maps\").c_str());\n\t_mkdir((user_data_dir + \"/editor/scenarios\").c_str());\n\t_mkdir((user_data_dir + \"/data\").c_str());\n\t_mkdir((user_data_dir + \"/data/add-ons\").c_str());\n\t_mkdir((user_data_dir + \"/saves\").c_str());\n\t_mkdir((user_data_dir + \"/persist\").c_str());\n#else\n\tconst std::string& dir_path = user_data_dir;\n\n\tconst bool res = create_directory_if_missing(dir_path);\n\t// probe read permissions (if we could make the directory)\n\tDIR* const dir = res ? opendir(dir_path.c_str()) : NULL;\n\tif(dir == NULL) {\n\t\tERR_FS << \"could not open or create preferences directory at \" << dir_path << std::endl;\n\t\treturn;\n\t}\n\tclosedir(dir);\n\n\t// Create user data and add-on directories\n\tcreate_directory_if_missing(dir_path + \"/editor\");\n\tcreate_directory_if_missing(dir_path + \"/editor/maps\");\n\tcreate_directory_if_missing(dir_path + \"/editor/scenarios\");\n\tcreate_directory_if_missing(dir_path + \"/data\");\n\tcreate_directory_if_missing(dir_path + \"/data/add-ons\");\n\tcreate_directory_if_missing(dir_path + \"/saves\");\n\tcreate_directory_if_missing(dir_path + \"/persist\");\n#endif\n}\n\nstd::string get_user_data_dir()\n{\n\t// ensure setup gets called only once per session\n\t// FIXME: this is okay and optimized, but how should we react\n\t// if the user deletes a dir while we are running?\n\tif (user_data_dir.empty())\n\t{\n\t\tset_user_data_dir(std::string());\n\t}\n\treturn user_data_dir;\n}\n\nstd::string get_user_config_dir()\n{\n\tif (user_config_dir.empty())\n\t{\n#if defined(_X11) && !defined(PREFERENCES_DIR)\n\t\tchar const *xdg_config = getenv(\"XDG_CONFIG_HOME\");\n\t\tstd::string path;\n\t\tif (!xdg_config || xdg_config[0] == '\\0') {\n\t\t\txdg_config = getenv(\"HOME\");\n\t\t\tif (!xdg_config) {\n\t\t\t\tuser_config_dir = get_user_data_dir();\n\t\t\t\treturn user_config_dir;\n\t\t\t}\n\t\t\tpath = xdg_config;\n\t\t\tpath += \"/.config\";\n\t\t} else path = xdg_config;\n\t\tpath += \"/wesnoth\";\n\t\tset_user_config_dir(path);\n#else\n\t\tuser_config_dir = get_user_data_dir();\n#endif\n\t}\n\treturn user_config_dir;\n}\n\nstd::string get_cache_dir()\n{\n\tif (cache_dir.empty())\n\t{\n#if defined(_X11) && !defined(PREFERENCES_DIR)\n\t\tchar const *xdg_cache = getenv(\"XDG_CACHE_HOME\");\n\t\tif (!xdg_cache || xdg_cache[0] == '\\0') {\n\t\t\txdg_cache = getenv(\"HOME\");\n\t\t\tif (!xdg_cache) {\n\t\t\t\tcache_dir = get_dir(get_user_data_dir() + \"/cache\");\n\t\t\t\treturn cache_dir;\n\t\t\t}\n\t\t\tcache_dir = xdg_cache;\n\t\t\tcache_dir += \"/.cache\";\n\t\t} else cache_dir = xdg_cache;\n\t\tcache_dir += \"/wesnoth\";\n\t\tcreate_directory_if_missing_recursive(cache_dir);\n#else\n\t\tcache_dir = get_dir(get_user_data_dir() + \"/cache\");\n#endif\n\t}\n\treturn cache_dir;\n}\n\nstatic std::string read_stream(std::istream& s)\n{\n\tstd::stringstream ss;\n\tss << s.rdbuf();\n\treturn ss.str();\n}\n\nstd::istream *istream_file(const std::string &fname, bool treat_failure_as_error)\n{\n\tLOG_FS << \"Streaming \" << fname << \" for reading.\" << std::endl;\n\tif (fname.empty())\n\t{\n\t\tERR_FS << \"Trying to open file with empty name.\" << std::endl;\n\t\tstd::ifstream *s = new std::ifstream();\n\t\ts->clear(std::ios_base::failbit);\n\t\treturn s;\n\t}\n\n\tstd::ifstream *s = new std::ifstream(fname.c_str(),std::ios_base::binary);\n\tif (s->is_open()) {\n\t\treturn s;\n\t}\n\n\tif (treat_failure_as_error) {\n\t\tERR_FS << \"Could not open '\" << fname << \"' for reading.\" << std::endl;\n\t} else {\n\t\tLOG_FS << \"Could not open '\" << fname << \"' for reading.\" << std::endl;\n\t}\n\treturn s;\n}\n\nstd::string read_file(const std::string &fname)\n{\n\tscoped_istream s = istream_file(fname);\n\treturn read_stream(*s);\n}\n\nstd::ostream *ostream_file(std::string const &fname)\n{\n\tLOG_FS << \"streaming \" << fname << \" for writing.\" << std::endl;\n\treturn new std::ofstream(fname.c_str(), std::ios_base::binary);\n}\n\n// Throws io_exception if an error occurs\nvoid write_file(const std::string& fname, const std::string& data)\n{\n\t//const util::scoped_resource<FILE*,close_FILE> file(fopen(fname.c_str(),\"wb\"));\n\tconst util::scoped_FILE file(fopen(fname.c_str(),\"wb\"));\n\tif(file.get() == NULL) {\n\t\tthrow io_exception(\"Could not open file for writing: '\" + fname + \"'\");\n\t}\n\n\tconst size_t block_size = 4096;\n\tchar buf[block_size];\n\n\tfor(size_t i = 0; i < data.size(); i += block_size) {\n\t\tconst size_t bytes = std::min<size_t>(block_size,data.size() - i);\n\t\tstd::copy(data.begin() + i, data.begin() + i + bytes,buf);\n\t\tconst size_t res = fwrite(buf,1,bytes,file.get());\n\t\tif(res != bytes) {\n\t\t\tthrow io_exception(\"Error writing to file: '\" + fname + \"'\");\n\t\t}\n\t}\n}\n\nstatic bool is_directory_internal(const std::string& fname)\n{\n#ifdef _WIN32\n\t_finddata_t info;\n\tconst long handle = _findfirst((fname + \"/*\").c_str(),&info);\n\tif(handle >= 0) {\n\t\t_findclose(handle);\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n\n#else\n\tstruct stat dir_stat;\n\tif(::stat(fname.c_str(), &dir_stat) == -1) {\n\t\treturn false;\n\t}\n\treturn S_ISDIR(dir_stat.st_mode);\n#endif\n}\n\nbool is_directory(const std::string& fname)\n{\n\tif(fname.empty()) {\n\t\treturn false;\n\t}\n\tif(fname[0] != '/' && !game_config::path.empty()) {\n\t\tif(is_directory_internal(game_config::path + \"/\" + fname))\n\t\t\treturn true;\n\t}\n\n\treturn is_directory_internal(fname);\n}\n\nbool file_exists(const std::string& name)\n{\n#ifdef _WIN32\n       struct stat st;\n       return (::stat(name.c_str(), &st) == 0);\n#else\n\tstruct stat st;\n\treturn (::stat(name.c_str(), &st) != -1);\n#endif\n}\n\ntime_t file_modified_time(const std::string& fname)\n{\n\tstruct stat buf;\n\tif(::stat(fname.c_str(),&buf) == -1)\n\t\treturn 0;\n\n\treturn buf.st_mtime;\n}\n\n/**\n * Returns true if the file ends with '.gz'.\n *\n * @param filename                The name to test.\n */\nbool is_gzip_file(const std::string& filename)\n{\n\treturn (filename.length() > 3\n\t\t&& filename.substr(filename.length() - 3) == \".gz\");\n}\n\n/**\n * Returns true if the file ends with '.bz2'.\n *\n * @param filename                The name to test.\n */\nbool is_bzip2_file(const std::string& filename)\n{\n\treturn (filename.length() > 4\n\t\t&& filename.substr(filename.length() - 4) == \".bz2\");\n}\n\nint file_size(const std::string& fname)\n{\n\tstruct stat buf;\n\tif(::stat(fname.c_str(),&buf) == -1)\n\t\treturn -1;\n\n\treturn buf.st_size;\n}\n\nint dir_size(const std::string& path)\n{\n\tstd::vector<std::string> files, dirs;\n\tget_files_in_dir(path, &files, &dirs, ENTIRE_FILE_PATH);\n\n\tint res = 0;\n\n\tBOOST_FOREACH(const std::string& file_path, files)\n\t{\n\t\tres += file_size(file_path);\n\t}\n\n\tBOOST_FOREACH(const std::string& dir_path, dirs)\n\t{\n\t\t// FIXME: this could result in infinite recursion with symlinks!!\n\t\tres += dir_size(dir_path);\n\t}\n\n\treturn res;\n}\n\nstd::string base_name(const std::string& file)\n// Analogous to POSIX basename(3), but for C++ string-object pathnames\n{\n#ifdef _WIN32\n\tstatic const std::string dir_separators = \"\\\\/:\";\n#else\n\tstatic const std::string dir_separators = \"/\";\n#endif\n\n\tstd::string::size_type pos = file.find_last_of(dir_separators);\n\n\tif(pos == std::string::npos)\n\t\treturn file;\n\tif(pos >= file.size()-1)\n\t\treturn \"\";\n\n\treturn file.substr(pos+1);\n}\n\nstd::string directory_name(const std::string& file)\n// Analogous to POSIX dirname(3), but for C++ string-object pathnames\n{\n#ifdef _WIN32\n\tstatic const std::string dir_separators = \"\\\\/:\";\n#else\n\tstatic const std::string dir_separators = \"/\";\n#endif\n\n\tstd::string::size_type pos = file.find_last_of(dir_separators);\n\n\tif(pos == std::string::npos)\n\t\treturn \"\";\n\n\treturn file.substr(0,pos+1);\n}\n\nnamespace {\n\nstd::set<std::string> binary_paths;\n\ntypedef std::map<std::string,std::vector<std::string> > paths_map;\npaths_map binary_paths_cache;\n\n}\n\nstatic void init_binary_paths()\n{\n\tif(binary_paths.empty()) {\n\t\tbinary_paths.insert(\"\");\n\t}\n}\n\nbinary_paths_manager::binary_paths_manager() : paths_()\n{}\n\nbinary_paths_manager::binary_paths_manager(const config& cfg) : paths_()\n{\n\tset_paths(cfg);\n}\n\nbinary_paths_manager::~binary_paths_manager()\n{\n\tcleanup();\n}\n\nvoid binary_paths_manager::set_paths(const config& cfg)\n{\n\tcleanup();\n\tinit_binary_paths();\n\n\tBOOST_FOREACH(const config &bp, cfg.child_range(\"binary_path\"))\n\t{\n\t\tstd::string path = bp[\"path\"].str();\n\t\tif (path.find(\"..\") != std::string::npos) {\n\t\t\tERR_FS << \"Invalid binary path '\" << path << \"'\" << std::endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!path.empty() && path[path.size()-1] != '/') path += \"/\";\n\t\tif(binary_paths.count(path) == 0) {\n\t\t\tbinary_paths.insert(path);\n\t\t\tpaths_.push_back(path);\n\t\t}\n\t}\n}\n\nvoid binary_paths_manager::cleanup()\n{\n\tbinary_paths_cache.clear();\n\n\tfor(std::vector<std::string>::const_iterator i = paths_.begin(); i != paths_.end(); ++i) {\n\t\tbinary_paths.erase(*i);\n\t}\n}\n\nvoid clear_binary_paths_cache()\n{\n\tbinary_paths_cache.clear();\n}\n\nconst std::vector<std::string>& get_binary_paths(const std::string& type)\n{\n\tconst paths_map::const_iterator itor = binary_paths_cache.find(type);\n\tif(itor != binary_paths_cache.end()) {\n\t\treturn itor->second;\n\t}\n\n\tif (type.find(\"..\") != std::string::npos) {\n\t\t// Not an assertion, as language.cpp is passing user data as type.\n\t\tERR_FS << \"Invalid WML type '\" << type << \"' for binary paths\" << std::endl;\n\t\tstatic std::vector<std::string> dummy;\n\t\treturn dummy;\n\t}\n\n\tstd::vector<std::string>& res = binary_paths_cache[type];\n\n\tinit_binary_paths();\n\n\tBOOST_FOREACH(const std::string &path, binary_paths)\n\t{\n\t\tres.push_back(get_user_data_dir() + \"/\" + path + type + \"/\");\n\n\t\tif(!game_config::path.empty()) {\n\t\t\tres.push_back(game_config::path + \"/\" + path + type + \"/\");\n\t\t}\n\t}\n\n\t// not found in \"/type\" directory, try main directory\n\tres.push_back(get_user_data_dir() + \"/\");\n\n\tif(!game_config::path.empty())\n\t\tres.push_back(game_config::path+\"/\");\n\n\treturn res;\n}\n\nstd::string get_binary_file_location(const std::string& type, const std::string& filename)\n{\n\tDBG_FS << \"Looking for '\" << filename << \"'.\" << std::endl;\n\n\tif (filename.empty()) {\n\t\tLOG_FS << \"  invalid filename (type: \" << type <<\")\" << std::endl;\n\t\treturn std::string();\n\t}\n\n\t// Some parts of Wesnoth enjoy putting \"..\" inside filenames. This is\n\t// bad and should be fixed. But in the meantime, deal with them in a dumb way.\n\tstd::string::size_type pos = filename.rfind(\"../\");\n\tif (pos != std::string::npos) {\n\t\tstd::string nf = filename.substr(pos + 3);\n\t\tLOG_FS << \"Illegal path '\" << filename << \"' replaced by '\" << nf << \"'\" << std::endl;\n\t\treturn get_binary_file_location(type, nf);\n\t}\n\n\tif (filename.find(\"..\") != std::string::npos) {\n\t\tERR_FS << \"Illegal path '\" << filename << \"' (\\\"..\\\" not allowed).\" << std::endl;\n\t\treturn std::string();\n\t}\n\n\tBOOST_FOREACH(const std::string &path, get_binary_paths(type))\n\t{\n\t\tconst std::string file = path + filename;\n\t\tDBG_FS << \"  checking '\" << path << \"'\" << std::endl;\n\t\tif(file_exists(file)) {\n\t\t\tDBG_FS << \"  found at '\" << file << \"'\" << std::endl;\n\t\t\treturn file;\n\t\t}\n\t}\n\n\tDBG_FS << \"  not found\" << std::endl;\n\treturn std::string();\n}\n\nstd::string get_binary_dir_location(const std::string &type, const std::string &filename)\n{\n\tDBG_FS << \"Looking for '\" << filename << \"'.\" << std::endl;\n\n\tif (filename.empty()) {\n\t\tLOG_FS << \"  invalid filename (type: \" << type <<\")\" << std::endl;\n\t\treturn std::string();\n\t}\n\n\tif (filename.find(\"..\") != std::string::npos) {\n\t\tERR_FS << \"Illegal path '\" << filename << \"' (\\\"..\\\" not allowed).\" << std::endl;\n\t\treturn std::string();\n\t}\n\n\tBOOST_FOREACH(const std::string &path, get_binary_paths(type))\n\t{\n\t\tconst std::string file = path + filename;\n\t\tDBG_FS << \"  checking '\" << path << \"'\" << std::endl;\n\t\tif (is_directory(file)) {\n\t\t\tDBG_FS << \"  found at '\" << file << \"'\" << std::endl;\n\t\t\treturn file;\n\t\t}\n\t}\n\n\tDBG_FS << \"  not found\" << std::endl;\n\treturn std::string();\n}\n\nstd::string get_wml_location(const std::string &filename, const std::string &current_dir)\n{\n\tDBG_FS << \"Looking for '\" << filename << \"'.\" << std::endl;\n\n\tassert(game_config::path.empty() == false);\n\n\tstd::string result;\n\n\tif (filename.empty()) {\n\t\tLOG_FS << \"  invalid filename\" << std::endl;\n\t\treturn result;\n\t}\n\n\tif (filename.find(\"..\") != std::string::npos) {\n\t\tERR_FS << \"Illegal path '\" << filename << \"' (\\\"..\\\" not allowed).\" << std::endl;\n\t\treturn result;\n\t}\n\n\tif (ends_with(filename, \".pbl\")) {\n\t\tERR_FS << \"Illegal path '\" << filename << \"' (.pbl files are not allowed).\" << std::endl;\n\t\treturn result;\n\t}\n\n\tbool already_found = false;\n\n\tif (filename[0] == '~')\n\t{\n\t\t// If the filename starts with '~', look in the user data directory.\n\t\tresult = get_user_data_dir() + \"/data/\" + filename.substr(1);\n\t\tDBG_FS << \"  trying '\" << result << \"'\" << std::endl;\n\n\t\talready_found = file_exists(result) || is_directory(result);\n\t}\n\telse if (filename.size() >= 2 && filename[0] == '.' && filename[1] == '/')\n\t{\n\t\t// If the filename begins with a \"./\", look in the same directory\n\t\t// as the file currently being preprocessed.\n\n\t\tif (!current_dir.empty())\n\t\t{\n\t\t\tresult = current_dir;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresult = game_config::path;\n\t\t}\n\n\t\tresult += filename.substr(2);\n\t}\n\telse if (!game_config::path.empty())\n\t\tresult = game_config::path + \"/data/\" + filename;\n\n\tDBG_FS << \"  trying '\" << result << \"'\" << std::endl;\n\n\tif (result.empty() ||\n\t    (!already_found && !file_exists(result) && !is_directory(result)))\n\t{\n\t\tDBG_FS << \"  not found\" << std::endl;\n\t\tresult.clear();\n\t}\n\telse\n\t\tDBG_FS << \"  found: '\" << result << \"'\" << std::endl;\n\n\treturn result;\n}\n\nstd::string get_short_wml_path(const std::string &filename)\n{\n\tstd::string match = get_user_data_dir() + \"/data/\";\n\tif (filename.find(match) == 0) {\n\t\treturn \"~\" + filename.substr(match.size());\n\t}\n\tmatch = game_config::path + \"/data/\";\n\tif (filename.find(match) == 0) {\n\t\treturn filename.substr(match.size());\n\t}\n\treturn filename;\n}\n\nstd::string get_independent_image_path(const std::string &filename)\n{\n\tstd::string full_path = get_binary_file_location(\"images\", filename);\n\n\tif(!full_path.empty()) {\n\t\tstd::string match = get_user_data_dir() + \"/\";\n\t\tif(full_path.find(match) == 0) {\n\t\t\treturn full_path.substr(match.size());\n\t\t}\n\t\tmatch = game_config::path + \"/\";\n\t\tif(full_path.find(match) == 0) {\n\t\t\treturn full_path.substr(match.size());\n\t\t}\n\t}\n\n\treturn full_path;\n}\n\nstd::string get_program_invocation(const std::string& program_name) {\n#ifdef DEBUG\n  #ifdef _WIN32\n\tconst char *program_suffix = \"-debug.exe\";\n  #else\n\tconst char *program_suffix = \"-debug\";\n  #endif\n#else\n  #ifdef _WIN32\n\tconst char *program_suffix = \".exe\";\n  #else\n\tconst char *program_suffix = \"\";\n  #endif\n#endif\n\n\tconst std::string real_program_name(program_name + program_suffix);\n\tif(game_config::wesnoth_program_dir.empty()) return real_program_name;\n#ifdef _WIN32\n\treturn game_config::wesnoth_program_dir + \"\\\\\" + real_program_name;\n#else\n\treturn game_config::wesnoth_program_dir + \"/\" + real_program_name;\n#endif\n}\n\nbool is_path_sep(char c)\n{\n#ifdef _WIN32\n\tif (c == '/' || c == '\\\\') return true;\n#else\n\tif (c == '/') return true;\n#endif\n\treturn false;\n}\n\nstd::string normalize_path(const std::string &p1)\n{\n\tif (p1.empty()) return p1;\n\n\tstd::string p2;\n#ifdef _WIN32\n\tif (p1.size() >= 2 && p1[1] == ':')\n\t\t// Windows relative paths with explicit drive name are not handled.\n\t\tp2 = p1;\n\telse\n#endif\n\tif (!is_path_sep(p1[0]))\n\t\tp2 = get_cwd() + \"/\" + p1;\n\telse\n\t\tp2 = p1;\n\n#ifdef _WIN32\n\tstd::string drive;\n\tif (p2.size() >= 2 && p2[1] == ':') {\n\t\tdrive = p2.substr(0, 2);\n\t\tp2.erase(0, 2);\n\t}\n#endif\n\n\tstd::vector<std::string> components(1);\n\tfor (int i = 0, i_end = p2.size(); i <= i_end; ++i)\n\t{\n\t\tstd::string &last = components[components.size() - 1];\n\t\tchar c = p2.c_str()[i];\n\t\tif (is_path_sep(c) || c == 0)\n\t\t{\n\t\t\tif (last == \".\")\n\t\t\t\tlast.clear();\n\t\t\telse if (last == \"..\")\n\t\t\t{\n\t\t\t\tif (components.size() >= 2) {\n\t\t\t\t\tcomponents.pop_back();\n\t\t\t\t\tcomponents[components.size() - 1].clear();\n\t\t\t\t} else\n\t\t\t\t\tlast.clear();\n\t\t\t}\n\t\t\telse if (!last.empty())\n\t\t\t\tcomponents.push_back(std::string());\n\t\t}\n\t\telse\n\t\t\tlast += c;\n\t}\n\n\tstd::ostringstream p4;\n\tcomponents.pop_back();\n\n#ifdef _WIN32\n\tp4 << drive;\n#endif\n\n\tBOOST_FOREACH(const std::string &s, components)\n\t{\n\t\tp4 << '/' << s;\n\t}\n\n\tDBG_FS << \"Normalizing '\" << p2 << \"' to '\" << p4.str() << \"'\" << std::endl;\n\n\treturn p4.str();\n}\n\n}\n", "/* $Id$ */\n/*\n   Copyright (C) 2003 - 2012 by David White <dave@whitevine.net>\n   Part of the Battle for Wesnoth Project http://www.wesnoth.org/\n\n   This program is free software; you can redistribute it and/or modify\n   it under the terms of the GNU General Public License as published by\n   the Free Software Foundation; either version 2 of the License, or\n   (at your option) any later version.\n   This program is distributed in the hope that it will be useful,\n   but WITHOUT ANY WARRANTY.\n\n   See the COPYING file for more details.\n*/\n\n/**\n * @file\n * File-IO\n */\n\n#include \"global.hpp\"\n\n#include \"filesystem.hpp\"\n#include \"serialization/unicode.hpp\"\n\n#include <boost/filesystem.hpp>\n#include <boost/filesystem/fstream.hpp>\n#include <boost/foreach.hpp>\n#include <boost/system/windows_error.hpp>\n#include <boost/iostreams/device/file_descriptor.hpp>\n#include <boost/iostreams/stream.hpp>\n#include <set>\n\nusing boost::uintmax_t;\n\n#ifdef _WIN32\n#include <boost/locale.hpp>\n#include <windows.h>\n#endif /* !_WIN32 */\n\n#include \"config.hpp\"\n#include \"game_config.hpp\"\n#include \"log.hpp\"\n#include \"util.hpp\"\n#include \"version.hpp\"\n\nstatic lg::log_domain log_filesystem(\"filesystem\");\n#define DBG_FS LOG_STREAM(debug, log_filesystem)\n#define LOG_FS LOG_STREAM(info, log_filesystem)\n#define WRN_FS LOG_STREAM(warn, log_filesystem)\n#define ERR_FS LOG_STREAM(err, log_filesystem)\n\nnamespace bfs = boost::filesystem;\nusing boost::filesystem::path;\nusing boost::system::error_code;\n\nnamespace {\n\t// These are the filenames that get special processing\n\tconst std::string maincfg_filename = \"_main.cfg\";\n\tconst std::string finalcfg_filename = \"_final.cfg\";\n\tconst std::string initialcfg_filename = \"_initial.cfg\";\n}\nnamespace {\n\t//only used by windows but put outside the ifdef to let it check by ci build.\n\tclass customcodecvt : public std::codecvt<wchar_t /*intern*/, char /*extern*/, std::mbstate_t>\n\t{\n\tprivate:\n\t\t//private static helper things\n\t\ttemplate<typename char_t_to>\n\t\tstruct customcodecvt_do_conversion_writer\n\t\t{\n\t\t\tcustomcodecvt_do_conversion_writer(char_t_to*& _to_next, char_t_to* _to_end) :\n\t\t\t\tto_next(_to_next),\n\t\t\t\tto_end(_to_end)\n\t\t\t{}\n\t\t\tchar_t_to*& to_next;\n\t\t\tchar_t_to* to_end;\n\n\t\t\tbool can_push(size_t count)\n\t\t\t{\n\t\t\t\treturn static_cast<size_t>(to_end - to_next) > count;\n\t\t\t}\n\n\t\t\tvoid push(char_t_to val)\n\t\t\t{\n\t\t\t\tassert(to_next != to_end);\n\t\t\t\t*to_next++  = val;\n\t\t\t}\n\t\t};\n\n\t\ttemplate<typename char_t_from , typename char_t_to>\n\t\tstatic void customcodecvt_do_conversion( std::mbstate_t& /*state*/,\n\t\t\tconst char_t_from* from,\n\t\t\tconst char_t_from* from_end,\n\t\t\tconst char_t_from*& from_next,\n\t\t\tchar_t_to* to,\n\t\t\tchar_t_to* to_end,\n\t\t\tchar_t_to*& to_next )\n\t\t{\n\t\t\ttypedef typename ucs4_convert_impl::convert_impl<char_t_from>::type impl_type_from;\n\t\t\ttypedef typename ucs4_convert_impl::convert_impl<char_t_to>::type impl_type_to;\n\n\t\t\tfrom_next = from;\n\t\t\tto_next = to;\n\t\t\tcustomcodecvt_do_conversion_writer<char_t_to> writer(to_next, to_end);\n\t\t\twhile(from_next != from_end)\n\t\t\t{\n\t\t\t\timpl_type_to::write(writer, impl_type_from::read(from_next, from_end));\n\t\t\t}\n\t\t}\n\n\tpublic:\n\n\t\t//Not used by boost filesystem\n\t\tint do_encoding() const throw() { return 0; }\n\t\t//Not used by boost filesystem\n\t\tbool do_always_noconv() const throw() { return false; }\n\t\tint do_length( std::mbstate_t& /*state*/,\n\t\t\tconst char* /*from*/,\n\t\t\tconst char* /*from_end*/,\n\t\t\tstd::size_t /*max*/ ) const\n\t\t{\n\t\t\t//Not used by boost filesystem\n\t\t\tthrow \"Not supported\";\n\t\t}\n\n\t\tstd::codecvt_base::result unshift( std::mbstate_t& /*state*/,\n\t\t\tchar* /*to*/,\n\t\t\tchar* /*to_end*/,\n\t\t\tchar*& /*to_next*/) const\n\t\t{\n\t\t\t//Not used by boost filesystem\n\t\t\tthrow \"Not supported\";\n\t\t}\n\n\t\t//there are still some methods which could be implemented but arent because boost filesystem won't use them.\n\t\tstd::codecvt_base::result do_in( std::mbstate_t& state,\n\t\t\tconst char* from,\n\t\t\tconst char* from_end,\n\t\t\tconst char*& from_next,\n\t\t\twchar_t* to,\n\t\t\twchar_t* to_end,\n\t\t\twchar_t*& to_next ) const\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tcustomcodecvt_do_conversion<char, wchar_t>(state, from, from_end, from_next, to, to_end, to_next);\n\t\t\t}\n\t\t\tcatch(...)\n\t\t\t{\n\t\t\t\tERR_FS << \"Invalid UTF-8 string'\" << std::string(from, from_end) << \"' \" << std::endl;\n\t\t\t\treturn std::codecvt_base::error;\n\t\t\t}\n\t\t\treturn std::codecvt_base::ok;\n\t\t}\n\n\t\tstd::codecvt_base::result do_out( std::mbstate_t& state,\n\t\t\tconst wchar_t* from,\n\t\t\tconst wchar_t* from_end,\n\t\t\tconst wchar_t*& from_next,\n\t\t\tchar* to,\n\t\t\tchar* to_end,\n\t\t\tchar*& to_next ) const\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tcustomcodecvt_do_conversion<wchar_t, char>(state, from, from_end, from_next, to, to_end, to_next);\n\t\t\t}\n\t\t\tcatch(...)\n\t\t\t{\n\t\t\t\tERR_FS << \"Invalid UTF-16 string\" << std::endl;\n\t\t\t\treturn std::codecvt_base::error;\t\n\t\t\t}\n\t\t\treturn std::codecvt_base::ok;\n\t\t}\n\t};\n\t\n#ifdef _WIN32\n\tclass static_runner {\n\tpublic:\n\t\tstatic_runner() {\n\t\t\t// Boost uses the current locale to generate a UTF-8 one\n\t\t\tstd::locale utf8_loc = boost::locale::generator().generate(\"\");\n\t\t\t// use a custom locale becasue we want to use out log.hpp functions in case of an invalid string.\n\t\t\tutf8_loc = std::locale(utf8_loc, new customcodecvt());\n\t\t\tboost::filesystem::path::imbue(utf8_loc);\n\t\t}\n\t};\n\n\tstatic static_runner static_bfs_path_imbuer;\n#endif\n}\n\n\nnamespace filesystem {\n\nstatic void push_if_exists(std::vector<std::string> *vec, const path &file, bool full) {\n\tif (vec != NULL) {\n\t\tif (full)\n\t\t\tvec->push_back(file.generic_string());\n\t\telse\n\t\t\tvec->push_back(file.filename().generic_string());\n\t}\n}\n\nstatic inline bool error_except_not_found(const error_code &ec)\n{\n\treturn (ec\n\t\t&& ec.value() != boost::system::errc::no_such_file_or_directory\n#ifdef _WIN32\n\t\t&& ec.value() != boost::system::windows_error::path_not_found\n#endif /*_WIN32*/\n\t\t);\n}\n\nstatic bool is_directory_internal(const path &fpath)\n{\n\terror_code ec;\n\tbool is_dir = bfs::is_directory(fpath, ec);\n\tif (error_except_not_found(ec)) {\n\t\tLOG_FS << \"Failed to check if \" << fpath.string() << \" is a directory: \" << ec.message() << '\\n';\n\t}\n\treturn is_dir;\n}\n\nstatic bool file_exists(const path &fpath)\n{\n\terror_code ec;\n\tbool exists = bfs::exists(fpath, ec);\n\tif (error_except_not_found(ec)) {\n\t\tERR_FS << \"Failed to check existence of file \" << fpath.string() << \": \" << ec.message() << '\\n';\n\t}\n\treturn exists;\n}\nstatic path get_dir(const path &dirpath)\n{\n\tbool is_dir = is_directory_internal(dirpath);\n\tif (!is_dir) {\n\t\terror_code ec;\n\t\tbfs::create_directory(dirpath, ec);\n\t\tif (ec) {\n\t\t\tERR_FS << \"Failed to create directory \" << dirpath.string() << \": \" << ec.message() << '\\n';\n\t\t}\n\t\t// This is probably redundant\n\t\tis_dir = is_directory_internal(dirpath);\n\t}\n\tif (!is_dir) {\n\t\tERR_FS << \"Could not open or create directory \" << dirpath.string() << '\\n';\n\t\treturn std::string();\n\t}\n\n\treturn dirpath;\n}\nstatic bool create_directory_if_missing(const path &dirpath)\n{\n\terror_code ec;\n\tbfs::file_status fs = bfs::status(dirpath, ec);\n\tif (error_except_not_found(ec)) {\n\t\tERR_FS << \"Failed to retrieve file status for \" << dirpath.string() << \": \" << ec.message() << '\\n';\n\t\treturn false;\n\t} else if (bfs::is_directory(fs)) {\n\t\tDBG_FS << \"directory \" << dirpath.string() << \" exists, not creating\\n\";\n\t\treturn true;\n\t} else if (bfs::exists(fs)) {\n\t\tERR_FS << \"cannot create directory \" << dirpath.string() << \"; file exists\\n\";\n\t\treturn false;\n\t}\n\n\tbool created = bfs::create_directory(dirpath, ec);\n\tif (ec) {\n\t\tERR_FS << \"Failed to create directory \" << dirpath.string() << \": \" << ec.message() << '\\n';\n\t}\n\treturn created;\n}\nstatic bool create_directory_if_missing_recursive(const path& dirpath)\n{\n\tDBG_FS << \"creating recursive directory: \" << dirpath.string() << '\\n';\n\n\tif (dirpath.empty())\n\t\treturn false;\n\terror_code ec;\n\tbfs::file_status fs = bfs::status(dirpath);\n\tif (error_except_not_found(ec)) {\n\t\tERR_FS << \"Failed to retrieve file status for \" << dirpath.string() << \": \" << ec.message() << '\\n';\n\t\treturn false;\n\t} else if (bfs::is_directory(fs)) {\n\t\treturn true;\n\t} else if (bfs::exists(fs)) {\n\t\treturn false;\n\t}\n\n\tif (!dirpath.has_parent_path() || create_directory_if_missing_recursive(dirpath.parent_path())) {\n\t\treturn create_directory_if_missing(dirpath);\n\t} else {\n\t\tERR_FS << \"Could not create parents to \" << dirpath.string() << '\\n';\n\t\treturn false;\n\t}\n}\n\nvoid get_files_in_dir(const std::string &dir,\n                      std::vector<std::string>* files,\n                      std::vector<std::string>* dirs,\n                      file_name_option mode,\n                      file_filter_option filter,\n                      file_reorder_option reorder,\n                      file_tree_checksum* checksum) {\n\tif(path(dir).is_relative() && !game_config::path.empty()) {\n\t\tpath absolute_dir(game_config::path);\n\t\tabsolute_dir /= dir;\n\t\tif(is_directory_internal(absolute_dir)) {\n\t\t\tget_files_in_dir(absolute_dir.string(), files, dirs, mode, filter, reorder, checksum);\n\t\t\treturn;\n\t\t}\n\t}\n\n\tconst path dirpath(dir);\n\n\tif (reorder == DO_REORDER) {\n\t\tLOG_FS << \"searching for _main.cfg in directory \" << dir << '\\n';\n\t\tconst path maincfg = dirpath / maincfg_filename;\n\n\t\tif (file_exists(maincfg)) {\n\t\t\tLOG_FS << \"_main.cfg found : \" << maincfg << '\\n';\n\t\t\tpush_if_exists(files, maincfg, mode == ENTIRE_FILE_PATH);\n\t\t\treturn;\n\t\t}\n\t}\n\n\terror_code ec;\n\tbfs::directory_iterator di(dirpath, ec);\n\tbfs::directory_iterator end;\n\tif (ec) {\n\t\t// Probably not a directory, let the caller deal with it.\n\t\treturn;\n\t}\n\tfor(; di != end; ++di) {\n\t\tbfs::file_status st = di->status(ec);\n\t\tif (ec) {\n\t\t\tLOG_FS << \"Failed to get file status of \" << di->path().string() << \": \" << ec.message() << '\\n';\n\t\t\tcontinue;\n\t\t}\n\t\tif (st.type() == bfs::regular_file) {\n\t\t\t{\n\t\t\t\tstd::string basename = di->path().filename().string();\n\t\t\t\tif (filter == SKIP_PBL_FILES && looks_like_pbl(basename))\n\t\t\t\t\tcontinue;\n\t\t\t\tif(!basename.empty() && basename[0] == '.' )\n\t\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tpush_if_exists(files, di->path(), mode == ENTIRE_FILE_PATH);\n\n\t\t\tif (checksum != NULL) {\n\t\t\t\tstd::time_t mtime = bfs::last_write_time(di->path(), ec);\n\t\t\t\tif (ec) {\n\t\t\t\t\tLOG_FS << \"Failed to read modification time of \" << di->path().string() << \": \" << ec.message() << '\\n';\n\t\t\t\t} else if (mtime > checksum->modified) {\n\t\t\t\t\tchecksum->modified = mtime;\n\t\t\t\t}\n\n\t\t\t\tuintmax_t size = bfs::file_size(di->path(), ec);\n\t\t\t\tif (ec) {\n\t\t\t\t\tLOG_FS << \"Failed to read filesize of \" << di->path().string() << \": \" << ec.message() << '\\n';\n\t\t\t\t} else {\n\t\t\t\t\tchecksum->sum_size += size;\n\t\t\t\t}\n\t\t\t\tchecksum->nfiles++;\n\t\t\t}\n\t\t} else if (st.type() == bfs::directory_file) {\n\t\t\tstd::string basename = di->path().filename().string();\n\t\t\t\n\t\t\tif(!basename.empty() && basename[0] == '.' )\n\t\t\t\tcontinue;\n\t\t\tif (filter == SKIP_MEDIA_DIR\n\t\t\t\t&& (basename == \"images\" || basename == \"sounds\"))\n\t\t\t\tcontinue;\n\n\t\t\tconst path inner_main(di->path() / maincfg_filename);\n\t\t\tbfs::file_status main_st = bfs::status(inner_main, ec);\n\t\t\tif (error_except_not_found(ec)) {\n\t\t\t\tLOG_FS << \"Failed to get file status of \" << inner_main.string() << \": \" << ec.message() << '\\n';\n\t\t\t} else if (reorder == DO_REORDER && main_st.type() == bfs::regular_file) {\n\t\t\t\tLOG_FS << \"_main.cfg found : \" << (mode == ENTIRE_FILE_PATH ? inner_main.string() : inner_main.filename().string()) << '\\n';\n\t\t\t\tpush_if_exists(files, inner_main, mode == ENTIRE_FILE_PATH);\n\t\t\t} else {\n\t\t\t\tpush_if_exists(dirs, di->path(), mode == ENTIRE_FILE_PATH);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (files != NULL)\n\t\tstd::sort(files->begin(),files->end());\n\n\tif (dirs != NULL)\n\t\tstd::sort(dirs->begin(),dirs->end());\n\n\tif (files != NULL && reorder == DO_REORDER) {\n\t\t// move finalcfg_filename, if present, to the end of the vector\n\t\tfor (unsigned int i = 0; i < files->size(); i++) {\n\t\t\tif (ends_with((*files)[i], \"/\" + finalcfg_filename)) {\n\t\t\t\tfiles->push_back((*files)[i]);\n\t\t\t\tfiles->erase(files->begin()+i);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// move initialcfg_filename, if present, to the beginning of the vector\n\t\tint foundit = -1;\n\t\tfor (unsigned int i = 0; i < files->size(); i++)\n\t\t\tif (ends_with((*files)[i], \"/\" + initialcfg_filename)) {\n\t\t\t\tfoundit = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\tif (foundit > 0) {\n\t\t\tstd::string initialcfg = (*files)[foundit];\n\t\t\tfor (unsigned int i = foundit; i > 0; i--)\n\t\t\t\t(*files)[i] = (*files)[i-1];\n\t\t\t(*files)[0] = initialcfg;\n\t\t}\n\t}\n}\n\nstd::string get_dir(const std::string &dir)\n{\n\treturn get_dir(path(dir)).string();\n}\n\nstd::string get_next_filename(const std::string& name, const std::string& extension)\n{\n\tstd::string next_filename;\n\tint counter = 0;\n\n\tdo {\n\t\tstd::stringstream filename;\n\n\t\tfilename << name;\n\t\tfilename.width(3);\n\t\tfilename.fill('0');\n\t\tfilename.setf(std::ios_base::right);\n\t\tfilename << counter << extension;\n\t\tcounter++;\n\t\tnext_filename = filename.str();\n\t} while(file_exists(next_filename) && counter < 1000);\n\treturn next_filename;\n}\n\nstatic path user_data_dir, user_config_dir, cache_dir;\n\n#ifndef _WIN32\nstatic const std::string& get_version_path_suffix()\n{\n\tstatic std::string suffix;\n\n\t// We only really need to generate this once since\n\t// the version number cannot change during runtime.\n\n\tif(suffix.empty()) {\n\t\tstd::ostringstream s;\n\t\ts << game_config::wesnoth_version.major_version() << '.'\n\t\t  << game_config::wesnoth_version.minor_version();\n\t\tsuffix = s.str();\n\t}\n\n\treturn suffix;\n}\n#endif\n\nstatic void setup_user_data_dir()\n{\n\tif (!create_directory_if_missing_recursive(user_data_dir)) {\n\t\tERR_FS << \"could not open or create user data directory at \" << user_data_dir.string() << '\\n';\n\t\treturn;\n\t}\n\t// TODO: this may not print the error message if the directory exists but we don't have the proper permissions\n\n\t// Create user data and add-on directories\n\tcreate_directory_if_missing(user_data_dir / \"editor\");\n\tcreate_directory_if_missing(user_data_dir / \"editor\" / \"maps\");\n\tcreate_directory_if_missing(user_data_dir / \"editor\" / \"scenarios\");\n\tcreate_directory_if_missing(user_data_dir / \"data\");\n\tcreate_directory_if_missing(user_data_dir / \"data\" / \"add-ons\");\n\tcreate_directory_if_missing(user_data_dir / \"saves\");\n\tcreate_directory_if_missing(user_data_dir / \"persist\");\n}\nvoid set_user_data_dir(std::string newprefdir)\n{\n#ifdef _WIN32\n\tif(newprefdir.empty()) {\n\t\tuser_data_dir = path(get_cwd()) / \"userdata\";\n\t} else if (newprefdir.size() > 2 && newprefdir[1] == ':') {\n\t\t//allow absolute path override\n\t\tuser_data_dir = newprefdir;\n\t} else {\n\t\ttypedef BOOL (WINAPI *SHGSFPAddress)(HWND, LPWSTR, int, BOOL);\n\t\tSHGSFPAddress SHGetSpecialFolderPathW;\n\t\tHMODULE module = LoadLibraryA(\"shell32\");\n\t\tSHGetSpecialFolderPathW = reinterpret_cast<SHGSFPAddress>(GetProcAddress(module, \"SHGetSpecialFolderPathW\"));\n\t\tif(SHGetSpecialFolderPathW) {\n\t\t\tLOG_FS << \"Using SHGetSpecialFolderPath to find My Documents\\n\";\n\t\t\twchar_t my_documents_path[MAX_PATH];\n\t\t\tif(SHGetSpecialFolderPathW(NULL, my_documents_path, 5, 1)) {\n\t\t\t\tpath mygames_path = path(my_documents_path) / \"My Games\";\n\t\t\t\tcreate_directory_if_missing(mygames_path);\n\t\t\t\tuser_data_dir = mygames_path / newprefdir;\n\t\t\t} else {\n\t\t\t\tWRN_FS << \"SHGetSpecialFolderPath failed\\n\";\n\t\t\t\tuser_data_dir = path(get_cwd()) / newprefdir;\n\t\t\t}\n\t\t} else {\n\t\t\tLOG_FS << \"Failed to load SHGetSpecialFolderPath function\\n\";\n\t\t\tuser_data_dir = path(get_cwd()) / newprefdir;\n\t\t}\n\t}\n\n#else /*_WIN32*/\n\n#ifdef PREFERENCES_DIR\n\tif (newprefdir.empty()) newprefdir = PREFERENCES_DIR;\n#endif\n\n\tstd::string backupprefdir = \".wesnoth\" + get_version_path_suffix();\n\n#ifdef _X11\n\tconst char *home_str = getenv(\"HOME\");\n\n\tif (newprefdir.empty()) {\n\t\tchar const *xdg_data = getenv(\"XDG_DATA_HOME\");\n\t\tif (!xdg_data || xdg_data[0] == '\\0') {\n\t\t\tif (!home_str) {\n\t\t\t\tnewprefdir = backupprefdir;\n\t\t\t\tgoto other;\n\t\t\t}\n\t\t\tuser_data_dir = home_str;\n\t\t\tuser_data_dir /= \".local/share\";\n\t\t} else user_data_dir = xdg_data;\n\t\tuser_data_dir /= \"wesnoth\";\n\t\tuser_data_dir /= get_version_path_suffix();\n\t} else {\n\t\tother:\n\t\tpath home = home_str ? home_str : \".\";\n\n\t\tif (newprefdir[0] == '/')\n\t\t\tuser_data_dir = newprefdir;\n\t\telse\n\t\t\tuser_data_dir = home / newprefdir;\n\t}\n#else\n\tif (newprefdir.empty()) newprefdir = backupprefdir;\n\n\tconst char* home_str = getenv(\"HOME\");\n\tpath home = home_str ? home_str : \".\";\n\n\tif (newprefdir[0] == '/')\n\t\tuser_data_dir = newprefdir;\n\telse\n\t\tuser_data_dir = home / newprefdir;\n#endif\n\n#endif /*_WIN32*/\n\tsetup_user_data_dir();\n}\n\nstatic void set_user_config_path(path newconfig)\n{\n\tuser_config_dir = newconfig;\n\tif (!create_directory_if_missing_recursive(user_config_dir)) {\n\t\tERR_FS << \"could not open or create user config directory at \" << user_config_dir.string() << '\\n';\n\t}\n}\n\nvoid set_user_config_dir(std::string newconfigdir)\n{\n\tset_user_config_path(newconfigdir);\n}\n\nstatic const path &get_user_data_path()\n{\n\t// TODO:\n\t// This function is called frequently. The file_exists call may slow things down a lot.\n\tif (user_data_dir.empty() || !file_exists(user_data_dir))\n\t{\n\t\tset_user_data_dir(std::string());\n\t}\n\treturn user_data_dir;\n}\nstd::string get_user_config_dir()\n{\n\tif (user_config_dir.empty())\n\t{\n#if defined(_X11) && !defined(PREFERENCES_DIR)\n\t\tchar const *xdg_config = getenv(\"XDG_CONFIG_HOME\");\n\t\tif (!xdg_config || xdg_config[0] == '\\0') {\n\t\t\txdg_config = getenv(\"HOME\");\n\t\t\tif (!xdg_config) {\n\t\t\t\tuser_config_dir = get_user_data_path();\n\t\t\t\treturn user_config_dir.string();\n\t\t\t}\n\t\t\tuser_config_dir = xdg_config;\n\t\t\tuser_config_dir /= \".config\";\n\t\t} else user_config_dir = xdg_config;\n\t\tuser_config_dir /= \"wesnoth\";\n\t\tset_user_config_path(user_config_dir);\n#else\n\t\tuser_config_dir = get_user_data_path();\n#endif\n\t}\n\treturn user_config_dir.string();\n}\nstd::string get_user_data_dir()\n{\n\treturn get_user_data_path().string();\n}\nstd::string get_cache_dir()\n{\n\tif (cache_dir.empty())\n\t{\n#if defined(_X11) && !defined(PREFERENCES_DIR)\n\t\tchar const *xdg_cache = getenv(\"XDG_CACHE_HOME\");\n\t\tif (!xdg_cache || xdg_cache[0] == '\\0') {\n\t\t\txdg_cache = getenv(\"HOME\");\n\t\t\tif (!xdg_cache) {\n\t\t\t\tcache_dir = get_dir(get_user_data_path() / \"cache\");\n\t\t\t\treturn cache_dir.string();\n\t\t\t}\n\t\t\tcache_dir = xdg_cache;\n\t\t\tcache_dir /= \".cache\";\n\t\t} else cache_dir = xdg_cache;\n\t\tcache_dir /= \"wesnoth\";\n\t\tcreate_directory_if_missing_recursive(cache_dir);\n#else\n\t\tcache_dir = get_dir(get_user_data_path() / \"cache\");\n#endif\n\t}\n\treturn cache_dir.string();\n}\n\nstd::string get_cwd()\n{\n\terror_code ec;\n\tpath cwd = bfs::current_path(ec);\n\tif (ec) {\n\t\tERR_FS << \"Failed to get current directory: \" << ec.message() << '\\n';\n\t\treturn \"\";\n\t}\n\treturn cwd.generic_string();\n}\nstd::string get_exe_dir()\n{\n#ifndef _WIN32\n\tpath self_exe(\"/proc/self/exe\");\n\terror_code ec;\n\tpath exe = bfs::read_symlink(self_exe, ec);\n\tif (ec) {\n\t\treturn std::string();\n\t}\n\n\treturn exe.parent_path().string();\n#else\n\treturn get_cwd();\n#endif\n}\n\nbool make_directory(const std::string& dirname)\n{\n\terror_code ec;\n\tbool created = bfs::create_directory(path(dirname), ec);\n\tif (ec) {\n\t\tERR_FS << \"Failed to create directory \" << dirname << \": \" << ec.message() << '\\n';\n\t}\n\treturn created;\n}\nbool delete_directory(const std::string& dirname, const bool keep_pbl)\n{\n\tbool ret = true;\n\tstd::vector<std::string> files;\n\tstd::vector<std::string> dirs;\n\terror_code ec;\n\n\tget_files_in_dir(dirname, &files, &dirs, ENTIRE_FILE_PATH, keep_pbl ? SKIP_PBL_FILES : NO_FILTER);\n\n\tif(!files.empty()) {\n\t\tfor(std::vector<std::string>::const_iterator i = files.begin(); i != files.end(); ++i) {\n\t\t\tbfs::remove(path(*i), ec);\n\t\t\tif (ec) {\n\t\t\t\tLOG_FS << \"remove(\" << (*i) << \"): \" << ec.message() << '\\n';\n\t\t\t\tret = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tif(!dirs.empty()) {\n\t\tfor(std::vector<std::string>::const_iterator j = dirs.begin(); j != dirs.end(); ++j) {\n\t\t\t//TODO: this does not preserve any other PBL files\n\t\t\t// filesystem.cpp does this too, so this might be intentional\n\t\t\tif(!delete_directory(*j))\n\t\t\t\tret = false;\n\t\t}\n\t}\n\n\tif (ret) {\n\t\tbfs::remove(path(dirname), ec);\n\t\tif (ec) {\n\t\t\tLOG_FS << \"remove(\" << dirname << \"): \" << ec.message() << '\\n';\n\t\t\tret = false;\n\t\t}\n\t}\n\treturn ret;\n}\n\nbool delete_file(const std::string &filename)\n{\n\terror_code ec;\n\tbool ret = bfs::remove(path(filename), ec);\n\tif (ec) {\n\t\tERR_FS << \"Could not delete file \" << filename << \": \" << ec.message() << '\\n';\n\t}\n\treturn ret;\n}\n\nstd::string read_file(const std::string &fname)\n{\n\tscoped_istream is = istream_file(fname);\n\tstd::stringstream ss;\n\tss << is->rdbuf();\n\treturn ss.str();\n}\n\n#if BOOST_VERSION < 1048000\n//boost iostream < 1.48 expects boost filesystem v2 paths. This is an adapter\nstruct iostream_path\n{\n\ttemplate<typename stringtype>\n\tiostream_path(const stringtype& s)\n\t\t: path_(s)\n\t{\n\n\t}\n\ttypedef bfs::path::string_type external_string_type;\n\texternal_string_type external_file_string() const\n\t{\n\t\treturn path_.native();\n\t}\n\tbfs::path path_;\n};\n\n#else\ntypedef bfs::path iostream_path;\n#endif\n\nstd::istream *istream_file(const std::string &fname, bool treat_failure_as_error)\n{\n\tLOG_FS << \"Streaming \" << fname << \" for reading.\\n\";\n\tif (fname.empty()) {\n\t\tERR_FS << \"Trying to open file with empty name.\\n\";\n\t\tbfs::ifstream *s = new bfs::ifstream();\n\t\ts->clear(std::ios_base::failbit);\n\t\treturn s;\n\t}\n\n\t//mingw doesn't  support std::basic_ifstream::basic_ifstream(const wchar_t* fname)\n\t//that why boost::filesystem::fstream.hpp doesnt work with mingw.\n\ttry\n\t{\n\t\tboost::iostreams::file_descriptor_source fd(iostream_path(fname), std::ios_base::binary);\n\t\t//TODO: has this still use ?\n\t\tif (!fd.is_open() && treat_failure_as_error) {\n\t\t\tERR_FS << \"Could not open '\" << fname << \"' for reading.\\n\";\n\t\t}\n\t\treturn new boost::iostreams::stream<boost::iostreams::file_descriptor_source>(fd, 4096, 0);\n\t}\n\tcatch(const std::exception ex)\n\t{\n\t\tif(treat_failure_as_error)\n\t\t{\n\t\t\tERR_FS << \"Could not open '\" << fname << \"' for reading.\\n\";\n\t\t}\n\t\tbfs::ifstream *s = new bfs::ifstream();\n\t\ts->clear(std::ios_base::failbit);\n\t\treturn s;\n\t}\n}\n\nstd::ostream *ostream_file(std::string const &fname)\n{\n\tLOG_FS << \"streaming \" << fname << \" for writing.\\n\";\n#if 1\n\ttry\n\t{\n\t\tboost::iostreams::file_descriptor_sink fd(iostream_path(fname), std::ios_base::binary);\n\t\treturn new boost::iostreams::stream<boost::iostreams::file_descriptor_sink>(fd, 4096, 0);\n\t}\n\tcatch(BOOST_IOSTREAMS_FAILURE& e)\n\t{\n\t\tthrow filesystem::io_exception(e.what());\n\t}\n#else\n\treturn new bfs::ofstream(path(fname), std::ios_base::binary);\n#endif\n}\n// Throws io_exception if an error occurs\nvoid write_file(const std::string& fname, const std::string& data)\n{\n\tscoped_ostream os = ostream_file(fname);\n\tos->exceptions(std::ios_base::goodbit);\n\n\tconst size_t block_size = 4096;\n\tchar buf[block_size];\n\n\tfor(size_t i = 0; i < data.size(); i += block_size) {\n\t\tconst size_t bytes = std::min<size_t>(block_size,data.size() - i);\n\t\tstd::copy(data.begin() + i, data.begin() + i + bytes,buf);\n\n\t\tos->write(buf, bytes);\n\t\tif (os->bad())\n\t\t\tthrow io_exception(\"Error writing to file: '\" + fname + \"'\");\n\t}\n}\n\nbool create_directory_if_missing(const std::string& dirname)\n{\n\treturn create_directory_if_missing(path(dirname));\n}\nbool create_directory_if_missing_recursive(const std::string& dirname)\n{\n\treturn create_directory_if_missing_recursive(path(dirname));\n}\n\nbool is_directory(const std::string& fname)\n{\n\treturn is_directory_internal(path(fname));\n}\n\nbool file_exists(const std::string& name)\n{\n\treturn file_exists(path(name));\n}\n\ntime_t file_modified_time(const std::string& fname)\n{\n\terror_code ec;\n\tstd::time_t mtime = bfs::last_write_time(path(fname), ec);\n\tif (ec) {\n\t\tLOG_FS << \"Failed to read modification time of \" << fname << \": \" << ec.message() << '\\n';\n\t}\n\treturn mtime;\n}\n\nbool is_gzip_file(const std::string& filename)\n{\n\treturn path(filename).extension() == \".gz\";\n}\n\nbool is_bzip2_file(const std::string& filename)\n{\n\treturn path(filename).extension() == \".bz2\";\n}\n\nint file_size(const std::string& fname)\n{\n\terror_code ec;\n\tuintmax_t size = bfs::file_size(path(fname), ec);\n\tif (ec) {\n\t\tLOG_FS << \"Failed to read filesize of \" << fname << \": \" << ec.message() << '\\n';\n\t\treturn -1;\n\t} else if (size > INT_MAX)\n\t\treturn INT_MAX;\n\telse\n\t\treturn size;\n}\n\nint dir_size(const std::string& pname)\n{\n\tbfs::path p(pname);\n\tuintmax_t size_sum = 0;\n\terror_code ec;\n\tfor ( bfs::recursive_directory_iterator i(p), end; i != end && !ec; ++i ) {\n\t\tif(bfs::is_regular_file(i->path())) {\n\t\t\tsize_sum += bfs::file_size(i->path(), ec);\n\t\t}\n\t}\n\tif (ec) {\n\t\tLOG_FS << \"Failed to read directorysize of \" << pname << \": \" << ec.message() << '\\n';\n\t\treturn -1;\n\t}\n\telse if (size_sum > INT_MAX)\n\t\treturn INT_MAX;\n\telse\n\t\treturn size_sum;\n}\n\nstd::string base_name(const std::string& file)\n{\n\treturn path(file).filename().string();\n}\n\nstd::string directory_name(const std::string& file)\n{\n\treturn path(file).parent_path().string();\n}\nbool is_path_sep(char c)\n{\n\tstatic const path sep = path(\"/\").make_preferred();\n\tconst std::string s = std::string(1, c);\n\treturn sep == path(s).make_preferred();\n}\nstd::string normalize_path(const std::string &fpath)\n{\n\tif (fpath.empty()) {\n\t\treturn fpath;\n\t}\n\n\treturn bfs::absolute(fpath).string();\n}\n\n/**\n *  The paths manager is responsible for recording the various paths\n *  that binary files may be located at.\n *  It should be passed a config object which holds binary path information.\n *  This is in the format\n *@verbatim\n *    [binary_path]\n *      path=<path>\n *    [/binary_path]\n *  Binaries will be searched for in [wesnoth-path]/data/<path>/images/\n *@endverbatim\n */\nnamespace {\n\nstd::set<std::string> binary_paths;\n\ntypedef std::map<std::string,std::vector<std::string> > paths_map;\npaths_map binary_paths_cache;\n\n}\n\nstatic void init_binary_paths()\n{\n\tif(binary_paths.empty()) {\n\t\tbinary_paths.insert(\"\");\n\t}\n}\n\nbinary_paths_manager::binary_paths_manager() : paths_()\n{}\n\nbinary_paths_manager::binary_paths_manager(const config& cfg) : paths_()\n{\n\tset_paths(cfg);\n}\n\nbinary_paths_manager::~binary_paths_manager()\n{\n\tcleanup();\n}\n\nvoid binary_paths_manager::set_paths(const config& cfg)\n{\n\tcleanup();\n\tinit_binary_paths();\n\n\tBOOST_FOREACH(const config &bp, cfg.child_range(\"binary_path\"))\n\t{\n\t\tstd::string path = bp[\"path\"].str();\n\t\tif (path.find(\"..\") != std::string::npos) {\n\t\t\tERR_FS << \"Invalid binary path '\" << path << \"'\\n\";\n\t\t\tcontinue;\n\t\t}\n\t\tif (!path.empty() && path[path.size()-1] != '/') path += \"/\";\n\t\tif(binary_paths.count(path) == 0) {\n\t\t\tbinary_paths.insert(path);\n\t\t\tpaths_.push_back(path);\n\t\t}\n\t}\n}\n\nvoid binary_paths_manager::cleanup()\n{\n\tbinary_paths_cache.clear();\n\n\tfor(std::vector<std::string>::const_iterator i = paths_.begin(); i != paths_.end(); ++i) {\n\t\tbinary_paths.erase(*i);\n\t}\n}\n\n\nvoid clear_binary_paths_cache()\n{\n\tbinary_paths_cache.clear();\n}\n\nstatic bool is_legal_file(const std::string &filename)\n{\n\tDBG_FS << \"Looking for '\" << filename << \"'.\\n\";\n\n\tif (filename.empty()) {\n\t\tLOG_FS << \"  invalid filename\\n\";\n\t\treturn false;\n\t}\n\n\tif (filename.find(\"..\") != std::string::npos) {\n\t\tERR_FS << \"Illegal path '\" << filename << \"' (\\\"..\\\" not allowed).\\n\";\n\t\treturn false;\n\t}\n\n\tif (ends_with(filename, \".pbl\")) {\n\t\tERR_FS << \"Illegal path '\" << filename << \"' (.pbl files are not allowed).\" << std::endl;\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns a vector with all possible paths to a given type of binary,\n * e.g. 'images', 'sounds', etc,\n */\nconst std::vector<std::string>& get_binary_paths(const std::string& type)\n{\n\tconst paths_map::const_iterator itor = binary_paths_cache.find(type);\n\tif(itor != binary_paths_cache.end()) {\n\t\treturn itor->second;\n\t}\n\n\tif (type.find(\"..\") != std::string::npos) {\n\t\t// Not an assertion, as language.cpp is passing user data as type.\n\t\tERR_FS << \"Invalid WML type '\" << type << \"' for binary paths\\n\";\n\t\tstatic std::vector<std::string> dummy;\n\t\treturn dummy;\n\t}\n\n\tstd::vector<std::string>& res = binary_paths_cache[type];\n\n\tinit_binary_paths();\n\n\tBOOST_FOREACH(const std::string &path, binary_paths)\n\t{\n\t\tres.push_back(get_user_data_dir() + \"/\" + path + type + \"/\");\n\n\t\tif(!game_config::path.empty()) {\n\t\t\tres.push_back(game_config::path + \"/\" + path + type + \"/\");\n\t\t}\n\t}\n\n\t// not found in \"/type\" directory, try main directory\n\tres.push_back(get_user_data_dir() + \"/\");\n\n\tif(!game_config::path.empty())\n\t\tres.push_back(game_config::path+\"/\");\n\n\treturn res;\n}\n\nstd::string get_binary_file_location(const std::string& type, const std::string& filename)\n{\n\t// We define \"..\" as \"remove everything before\" this is needed becasue \n\t// on the one hand allowing \"..\" would be a security risk but \n\t// especialy for terrains the c++ engine puts a hardcoded \"terrain/\" before filename\n\t// and there would be no way to \"escape\" from \"terrain/\" otherwise. This is not the \n\t// best solution but we cannot remove it without another solution (subtypes maybe?).\n\t\n\t// using 'for' instead 'if' to allow putting delcaration and check into the brackets\n\tfor(std::string::size_type pos = filename.rfind(\"../\"); pos != std::string::npos;)\n\t\treturn get_binary_file_location(type, filename.substr(pos + 3));\n\n\tif (!is_legal_file(filename))\n\t\treturn std::string();\n\n\tBOOST_FOREACH(const std::string &bp, get_binary_paths(type))\n\t{\n\t\tpath bpath(bp);\n\t\tbpath /= filename;\n\t\tDBG_FS << \"  checking '\" << bp << \"'\\n\";\n\t\tif (file_exists(bpath)) {\n\t\t\tDBG_FS << \"  found at '\" << bpath.string() << \"'\\n\";\n\t\t\treturn bpath.string();\n\t\t}\n\t}\n\n\tDBG_FS << \"  not found\\n\";\n\treturn std::string();\n}\n\nstd::string get_binary_dir_location(const std::string &type, const std::string &filename)\n{\n\tif (!is_legal_file(filename))\n\t\treturn std::string();\n\n\tBOOST_FOREACH(const std::string &bp, get_binary_paths(type))\n\t{\n\t\tpath bpath(bp);\n\t\tbpath /= filename;\n\t\tDBG_FS << \"  checking '\" << bp << \"'\\n\";\n\t\tif (is_directory_internal(bpath)) {\n\t\t\tDBG_FS << \"  found at '\" << bpath.string() << \"'\\n\";\n\t\t\treturn bpath.string();\n\t\t}\n\t}\n\n\tDBG_FS << \"  not found\\n\";\n\treturn std::string();\n}\n\nstd::string get_wml_location(const std::string &filename, const std::string &current_dir)\n{\n\tif (!is_legal_file(filename))\n\t\treturn std::string();\n\n\tassert(game_config::path.empty() == false);\n\n\tpath fpath(filename);\n\tpath result;\n\n\tif (filename[0] == '~')\n\t{\n\t\tresult /= get_user_data_path() / \"data\" / filename.substr(1);\n\t\tDBG_FS << \"  trying '\" << result.string() << \"'\\n\";\n\t} else if (*fpath.begin() == \".\") {\n\t\tif (!current_dir.empty()) {\n\t\t\tresult /= path(current_dir);\n\t\t} else {\n\t\t\tresult /= path(game_config::path) / \"data\";\n\t\t}\n\n\t\tresult /= filename;\n\t} else if (!game_config::path.empty()) {\n\t\tresult /= path(game_config::path) / \"data\" / filename;\n\t}\n\tif (result.empty() || !file_exists(result)) {\n\t\tDBG_FS << \"  not found\\n\";\n\t\tresult.clear();\n\t} else\n\t\tDBG_FS << \"  found: '\" << result.string() << \"'\\n\";\n\n\treturn result.string();\n}\n\nstatic path subtract_path(const path &full, const path &prefix)\n{\n\tpath::iterator fi = full.begin()\n\t             , fe = full.end()\n\t             , pi = prefix.begin()\n\t             , pe = prefix.end();\n\twhile (fi != fe && pi != pe && *fi == *pi) {\n\t\t++fi;\n\t\t++pi;\n\t}\n\tpath rest;\n\tif (pi == pe)\n\t\twhile (fi != fe) {\n\t\t\trest /= *fi;\n\t\t\t++fi;\n\t\t}\n\treturn rest;\n}\n\nstd::string get_short_wml_path(const std::string &filename)\n{\n\tpath full_path(filename);\n\n\tpath partial = subtract_path(full_path, get_user_data_path() / \"data\");\n\tif (!partial.empty())\n\t\treturn \"~\" + partial.string();\n\n\tpartial = subtract_path(full_path, path(game_config::path) / \"data\");\n\tif (!partial.empty())\n\t\treturn partial.string();\n\n\treturn filename;\n}\n\nstd::string get_independent_image_path(const std::string &filename)\n{\n\tpath full_path(get_binary_file_location(\"images\", filename));\n\n\tif (full_path.empty())\n\t\treturn full_path.string();\n\n\tpath partial = subtract_path(full_path, get_user_data_path());\n\tif (!partial.empty())\n\t\treturn partial.string();\n\n\tpartial = subtract_path(full_path, game_config::path);\n\tif (!partial.empty())\n\t\treturn partial.string();\n\n\treturn full_path.string();\n}\n\nstd::string get_program_invocation(const std::string &program_name)\n{\n\tconst std::string real_program_name(program_name\n#ifdef DEBUG\n\t\t+ \"-debug\"\n#endif\n#ifdef _WIN32\n\t\t+ \".exe\"\n#endif\n\t);\n\treturn (path(game_config::wesnoth_program_dir) / real_program_name).string();\n}\n\n}\n"], "filenames": ["changelog", "src/filesystem.cpp", "src/filesystem_boost.cpp"], "buggy_code_start_loc": [67, 1010, 1002], "buggy_code_end_loc": [67, 1010, 1002], "fixing_code_start_loc": [68, 1011, 1003], "fixing_code_end_loc": [69, 1016, 1008], "type": "CWE-200", "message": "The (1) filesystem::get_wml_location function in filesystem.cpp and (2) is_legal_file function in filesystem_boost.cpp in Battle for Wesnoth before 1.12.3 and 1.13.x before 1.13.1 allow remote attackers to obtain sensitive information via vectors related to inclusion of .pbl files from WML.", "other": {"cve": {"id": "CVE-2015-5069", "sourceIdentifier": "cve@mitre.org", "published": "2017-09-26T14:29:00.250", "lastModified": "2017-10-10T14:54:49.397", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "The (1) filesystem::get_wml_location function in filesystem.cpp and (2) is_legal_file function in filesystem_boost.cpp in Battle for Wesnoth before 1.12.3 and 1.13.x before 1.13.1 allow remote attackers to obtain sensitive information via vectors related to inclusion of .pbl files from WML."}, {"lang": "es", "value": "La funci\u00f3n (1) filesystem::get_wml_location en filesystem.cpp y la funci\u00f3n (2) is_legal_file en filesystem_boost.cpp en Battle for Wesnoth en versiones anteriores a la 1.12.3 y las versiones 1.13.x anteriores a 1.13.1 permiten que los atacantes remotos obtengan informaci\u00f3n sensible mediante vectores relacionados con la inclusi\u00f3n de archivos .pbl desde WML."}], "metrics": {"cvssMetricV30": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.0", "vectorString": "CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "LOW", "integrityImpact": "NONE", "availabilityImpact": "NONE", "baseScore": 4.3, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 1.4}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:S/C:P/I:N/A:N", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "SINGLE", "confidentialityImpact": "PARTIAL", "integrityImpact": "NONE", "availabilityImpact": "NONE", "baseScore": 4.0}, "baseSeverity": "MEDIUM", "exploitabilityScore": 8.0, "impactScore": 2.9, "acInsufInfo": true, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-200"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:wesnoth:battle_for_wesnoth:*:*:*:*:*:*:*:*", "versionEndIncluding": "1.12.2", "matchCriteriaId": "91054101-BADA-46B3-8111-DFBC8EC94DE9"}, {"vulnerable": true, "criteria": "cpe:2.3:a:wesnoth:battle_for_wesnoth:1.13.0:*:*:*:*:*:*:*", "matchCriteriaId": "BD920E84-82F5-4B51-A59C-D67F3F0BA727"}]}]}, {"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:o:fedoraproject:fedora:21:*:*:*:*:*:*:*", "matchCriteriaId": "56BDB5A0-0839-4A20-A003-B8CD56F48171"}, {"vulnerable": true, "criteria": "cpe:2.3:o:fedoraproject:fedora:22:*:*:*:*:*:*:*", "matchCriteriaId": "253C303A-E577-4488-93E6-68A8DD942C38"}]}]}], "references": [{"url": "http://lists.fedoraproject.org/pipermail/package-announce/2015-July/161722.html", "source": "cve@mitre.org", "tags": ["Third Party Advisory"]}, {"url": "http://lists.fedoraproject.org/pipermail/package-announce/2015-July/161752.html", "source": "cve@mitre.org", "tags": ["Third Party Advisory"]}, {"url": "http://www.openwall.com/lists/oss-security/2015/06/25/12", "source": "cve@mitre.org", "tags": ["Mailing List", "Patch", "Third Party Advisory", "VDB Entry"]}, {"url": "http://www.securityfocus.com/bid/75424", "source": "cve@mitre.org", "tags": ["Third Party Advisory", "VDB Entry"]}, {"url": "https://bugzilla.redhat.com/show_bug.cgi?id=1236010", "source": "cve@mitre.org", "tags": ["Issue Tracking", "Third Party Advisory", "VDB Entry"]}, {"url": "https://github.com/wesnoth/wesnoth/commit/f8914468182e8d0a1551b430c0879ba236fe4d6d", "source": "cve@mitre.org", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/wesnoth/wesnoth/releases/tag/1.12.3", "source": "cve@mitre.org", "tags": ["Release Notes", "Third Party Advisory"]}, {"url": "https://github.com/wesnoth/wesnoth/releases/tag/1.13.1", "source": "cve@mitre.org", "tags": ["Release Notes", "Third Party Advisory"]}]}, "github_commit_url": "https://github.com/wesnoth/wesnoth/commit/f8914468182e8d0a1551b430c0879ba236fe4d6d"}}