{"buggy_code": ["Go to http://github.com/plack/Plack/issues for the roadmap and known issues.\n\n{{$NEXT}}\n\n1.0030  2013-11-23 08:54:01 CET\n    [IMPROVEMENTS]\n        - Middleware::LogDispatch stringifies objects (oalders) #427\n        - Encode wide character strings as UTF-8 in HTTP::Server::PSGI #429\n        - Optimize Plack::Response->finalize performance (kazeburo) #433\n        - Optimize mount() performance in Plack::App::URLMap\n\n    [BUG FIXES]\n        - ErrorDocument: remove Content-Encoding and Transfer-Encoding (kazeburo) #430\n        - Fix harakiri test hang on win32 (wchristian) #431\n        - Handler::FCGI: Restore --keep-stderr option (mauzo) #432\n\n1.0029  2013-08-22 14:05:44 PDT\n    [NEW FEATURES]\n        - Plack::Test now has a simpler object-oriented interface that doesn't\n          take multiple callbacks. #420\n\n    [IMPROVEMENTS]\n        - bump dependencies for Test::TCP and HTTP::Tiny\n        - Set no_proxy for HTTP::Tiny in tests (kazeburo)\n\n    [INCOMPATIBLE CHANGES]\n        - Split HTTP::Server::Simple handler from Plack distribution and merge to\n          HTTP-Server-Simple-PSGI distribution\n\n1.0028  2013-06-15 01:42:52 PDT\n    [IMPROVEMENTS]\n        - Skip cgi related tests for Win32 (chorny) #413\n        - Skip tests that could potentially write empty bytes, which could cause\n          issues on some servers on local sockets with HTTP::Tiny\n        - Skip tests that require HTTP::Cookies, if not available #414\n\n1.0027  2013-06-13 21:30:12 PDT\n    [IMPROVEMENTS]\n        - Not a dev release, including XS free version of Plack::Test*\n        - Fix cgibin tests that often fail on Win32 #375\n\n1.0026  2013-06-12 23:00:21 PDT\n    [INCOMPATIBLE CHANGES]\n        - use HTTP::Tiny in Plack::Test::Suite and Plack::Test::Server rather than skipping it.\n\n1.0025  2013-06-12 13:08:58 PDT\n    [INCOMPATIBLE CHANGES]\n        - No XS! Eliminates dependency to LWP::UserAgent by making it completely optional for\n          testing. If you run Plack::Test with Server implemenetation or run Plack::Test::Suite\n          (for PSGI handlers) without LWP installed, the tests will automatically be skipped.\n          This removes the eventual sub-dependency to HTML::Parser, which is the only XS dependency\n          in Plack. #408\n\n    [IMPROVEMENTS]\n        - Fixed the warning in OO usage of Plack::Builder (doy) #407\n        - Shotgun loader now dies if used in Win32 since it leaks memory #320, #400\n        - Suppress warnings for Test::TCP (kazeburo) #406\n        - $res->to_app shortcut (ether) #409\n\n1.0024  2013-05-01 10:05:56 PDT\n    [IMPROVEMENTS]\n        - Fix warnings for Plack::App::WrapCGI (frioux)\n        - Ignore emacs lock file from restarter (maio)\n        - Add documentation for environment variable in Auth::Basic\n        - Some Metadata cleanup and Travis CI\n\n1.0023  2013-04-08 11:13:11 PDT\n    [IMPROVEMENTS]\n        - Use Apache::LogFormat::Compiler in AccessLog (kazeburo)\n\n1.0022  2013-04-02 12:37:42 PDT\n    [BUG FIXES]\n        - Fixed a major bug in 1.0020-1.0021 where posix_default prevents arbitrary arguments\n          for plackup-compat (e.g. starman) to handle them (Thanks to justnoxx) Starman#66\n\n    [IMPROVEMENTS]\n        - Fixed test warnings (Keedi Kim)\n\n1.0021  2013-04-02 11:20:00 PDT\n        - Repackage with Milla v0.9.6 #392\n\n1.0020  2013-04-01 19:34:54 PDT\n    [INCOMPATIBLE CHANGES]\n        - Enable posix_default and gnu_compat in plackup Getopt, so that ambiguous\n          option names do not match with long options accidentally\n\n    [IMPROVEMENTS]\n        - Document fix for the AccessLog (ether)\n        - Special-case Content-Length and Content-Type for %{}i in AccessLog format #387\n\n\n1.0019  2013-04-01 17:58:25 PDT\n        - Trial release with Milla\n\n1.0018 Fri Mar  8 10:43:45 PST 2013\n    [IMPROVEMENTS]\n        - Performance boost in Plack::Request#query_parameters (lestrrat)\n        - Added custom log formats for %m, %U, %q and %H (Hiroshi Sakai)\n        - Fixed warnings in SimpleContentFilter (earino)\n\n    [DOCUMENTATION]\n        - Added docs about plackup --path\n        - Added docs about using manager object in Plack::Handler::FCGI\n\n1.0017-TRIAL Thu Feb  7 19:21:24 PST 2013\n    [INCOMPATIBLE CHANGES]\n        - Gives you warnings when you use one of Plack::App objects in `plackup -e` or\n          in .psgi files but forgot to call ->to_app to make it a PSGI application (#369)\n          Still automatically converts them for backward compatibility, but in the\n          loading time inside Plack::Builder.\n\n    [BUG FIXES]\n        - chdir to the CGI path when executing CGIBin (#338, #368)\n\n1.0016 Thu Jan 31 13:21:14 PST 2013\n    [SECURITY]\n        - Fixed directory traversal bug in Plack::App::File on win32 environments\n\n    [INCOMPATIBLE CHANGES]\n        - Updated Plack::Builder OO interface to be more natural. Still keeps backward\n          compatible to the old ->mount() and ->to_app() interface.\n\n    [NEW FEATURES]\n        - Static middleware 'path' callback now takes $env as a 2nd argument (avar)\n        - Static middleware takes 'content_type' callback to determine custom MIME (pstadt)\n\n    [IMPROVEMENTS]\n        - Fixed regexp warning for blead (doy)\n        - Documentation update for AccessLog::Timed to suggest Runtime (ether)\n        - Ignore vim swap files on restarter (nihen)\n        - Major doucmentation overhaul on Apache2 startup files (rkitover, avar)\n\n1.0015 Thu Jan 10 15:19:17 PST 2013\n    [BUG FIXES]\n        - Fixed Lint complaining about Latin-1 range characters stored internally with\n          utf8 flag on (Mark Fowler)\n        - HTTP::Message::PSGI::res_from_psgi now always returns empty string\n          for an empty response body, so streamed responses are consistent with\n          non-streamed (ether)\n\n1.0014 Mon Dec  3 10:27:43 PST 2012\n    [BUG FIXES]\n        - Fixed Hash order in tests for perl 5.17 (doy)\n        - Fixed StackTrace tests to run with Devel::StackTrace\n\n    [IMPROVEMENTS]\n        - Plack::Middleware::AccessLog can now log the worker pid and server\n          port (ether)\n\n1.0013  Wed Nov 14 19:46:49 PST 2012\n    [BUG FIXES]\n        - Make sure psgi.input is seeked even when the input is buffered (Getty, leedo)\n        - Delete invalid (empty) CONTENT_LENGTH and CONTENT_TYPE in FCGI (Getty, leedo)\n\n1.0012  Wed Nov 14 12:00:17 PST 2012\n    [IMPROVEMENTS]\n        - Make conditional middleware work with initialization without an app (doy)\n        - Added force option to BufferedStreaming \n\n1.0011  Sun Nov 11 11:05:30 PST 2012\n    [BUG FIXES]\n        - Fix bad Content-Length that could be caused with mod_perl (avar)\n        - Allow an empty PATH_INFO in Lint per PSGI spec\n\n1.0010  Fri Nov  2 13:30:50 PDT 2012\n    [IMPROVEMENTS]\n        - Added vim .swp files to the default ignore list in Restarter\n        - Check if PATH_INFO begins with / in Lint\n\n1.0009  Tue Oct 23 00:57:16 PDT 2012\n    [BUG FIXES]\n        - Correct fix to address drive letters for Win32\n\n1.0008  Mon Oct 22 18:52:29 PDT 2012\n    [BUG FIXES]\n        - Allow drive letters for absolute paths for plackup and load_psgi #343\n\n1.0007  Sat Oct 20 23:20:20 PDT 2012\n    [IMPROVEMENTS]\n        - Fix test failures with HTTP::Message 6.06. #345\n        - relaxed plackup -R ignore files and directoris. #260\n\n1.0006  Thu Oct 18 16:06:15 PDT 2012\n    [INCOMPATIBLE CHANGES]\n        - plackup foo.psgi will not search the file in @INC anymore before the current directory\n          See https://github.com/plack/Plack/pull/343 for details (miyagawa)\n\n    [NEW FEATURES]\n        - plackup --path /foo will mount the application under /path (mattn)\n\n    [BUG FIXES]\n        - AccessLog: Fix the timezon offset for certain timezones\n        - ErrorDocument: support streaming interface\n\n1.0005  Tue Oct  9 13:33:47 PDT 2012\n    [NEW FEATURES]\n        - Support psgix.cleanup handlers in Apache2 (avar)\n        - Added REMOTE_PORT environment variable to HTTP::Server::PSGI (dex4er)        \n\n    [IMPROVEMENTS]\n        - Documentation fix for multiple cookie values (miyagawa)\n        - Delete MOD_PERL environment variable for better compatibilities (avar)\n        - Split out Plack::TempBuffer as a standalone Stream::Buffered module (doy)\n        - Bump Test::TCP dep\n\n1.0004  Thu Sep 20 08:36:11 JST 2012\n    [NEW FEATURES]\n        - Added psgix.harakiri support in HTTP::Server::PSGI\n\n    [IMPROVEMENTS]\n        - Preload TempBuffer modules (avar)\n        - Documentation fixes (autarch)\n\n1.0003  Wed Aug 29 13:44:53 PDT 2012\n    [BUG FIXES]\n        - Fix Basic authentication error in case password contains a colon #319\n        - Fix AccessLog middleware in platforms where %z strftime is not supported #318\n        - Escape $_ in Plack::Request path method due to a possible URI::Escape bug\n\n1.0002  Mon Aug 13 17:04:25 PDT 2012\n    [NEW FEATURES]\n        - Added --no-default-middleware option to plackup #290\n\n    [BUG FIXES]\n        - Use C locale for AccessLog strftime #313\n        - Escape Plack::Request URI path using RFC 3986 definition (ssmccoy)\n\n    [IMPROVEMENTS]\n        - Documentation improvements (ether, Tom Heady)\n        - Skip displaying \"..\" in Plack::App::Directory #277\n        - Document load_class() doesn't validate user input. #285\n\n1.0001  Thu Jul 26 16:24:13 PDT 2012\n    [INCOMPATIBLE CHANGES]\n        - Deleted lots of code, methods and warnings that have been deprecated since 0.99\n          (which should have been done in the 1.0000 release)\n\n    [DEVELOPERS]\n        - Added bootstrap script to install devel dependencies\n\n    [IMPROVEMENTS]\n        - Fixed version numbers in some of the modules that have their own $VERSION\n\n1.0000  Thu Jul 19 18:59:18 PDT 2012\n        - This be 1.0! (Same as 0.9991)\n\n0.9991  Thu Jul 19 17:27:52 PDT 2012\n    [NEW FEATURES]\n        - Added IIS7 fix middleware (t0m)\n\n0.9990  Wed Jul 18 11:12:07 PDT 2012\n    [INCOMPATIBILE CHANGES]\n        - Plack::Request changes the way it parses QUERY_STRING for valueless keys such as\n          \"?a&b=1\". Now \"a\" becomes part of query_parameters with empty string as its value (yannk)\n\n    [IMPROVEMENTS]\n        - Support max-age options in Plack::Response cookies (remorse)\n        - Pass correct protocol from HTTP::Server::PSGI to display https URL correctly (siracusa)\n        - Copy Authorization header from FastCGI handler (ray1729)\n        - Stop special casing COOKIE environment variable in Plack::Request headers (doy)\n\n0.9989  Thu Jun 21 13:39:11 PDT 2012\n    [IMPROVEMENTS]\n        - Support streaming in Head middleware (wreis)\n        - Document middleware prefixing (Jon Swartz)\n        - Make Basic authentication detection case insensitive per RFC (Mark Fowler)\n        - Added backlog option to FCGI handler (xaicron)\n\n0.9988  Fri May 11 12:25:09 CEST 2012\n    [BUG FIXES]\n        - Fixes HTTP_HOST in HTTP::Message::PSGI #287 (doy)\n\n0.9987  Thu May 10 07:06:32 CEST 2012\n    [IMPROVEMENTS]\n        - Support streaming in AccessLog::Timed (Peter Makholm)\n        - Support streaming in ErrorDocument\n        - Removed UTF8 hack in HTTP::Message::PSGI. Depends on URI.pm 1.59 (wreis)\n        - Set Host headers correctly in HTTP::Message::PSGI #177\n        - Added documentation on supported %-flags in AccessLog (ether)\n        - Skip unnecessary tests on non-developer environment\n\n0.9986  Mon Mar 12 11:26:59 PDT 2012\n    [IMPROVEMENTS]\n        - Use I/O handles to FCGI::Request instead of global STDIN, STDOUT etc. (chansen)\n        - Improved FastCGI docs (osfameron)\n        - Cascade app now returns the last response code (aristotle)\n\n0.9985  Mon Oct 31 13:11:19 PDT 2011\n    [BUG FIXES]\n        - Short circuit Plack::Handler fallback to avoid %INC bugs in perl 5.8 (mst)\n        - Fixed Makefile.PL to avoid Test::SharedFork interferring with Module::Install (ambs)\n\n0.9984  Mon Oct  3 09:55:05 PDT 2011\n    [BUG FIXES]\n        - WrapCGI: Close wrapped CGI's STDIN handle (rwstauner)\n\n    [IMPROVEMENTS]\n        - WrapCGI: improved docs (chromatic)\n        - Request: Do not destroy HTTP::Body upload headers (mst)\n\n0.9983  Tue Sep 27 09:55:48 PDT 2011\n    [BUG FIXES]\n        - Fixed a typo in nginx FastCGI configuration\n        - Clone HTTP headers in Response->finalize #237 (chip)\n        - Fixed Directory app not displaying the right path in its title\n        - Changed IPv6 default listen address to wildcard (ollyg)\n        - Fixed the FastCGI handler with web-server mode on Win32\n\n    [NEW FEATURES]\n        - Added psgix.harakiri for Apache handlers\n\n    [IMPROVEMENTS]\n        - Prefer Corona when Coro is detected #236 (chip)\n        - Increased Pod::Usage dependency\n        - Improved Plack::Test documentation (chromatic)\n        - Lint now checks if SCRIPT_NAME eq '/' which is forbidden in the spec (chromatic)\n\n0.9982  Tue Jul 19 13:07:35 PDT 2011\n    [BUG FIXES]\n        - Fixed the bug in restarter introduced in 0.9980 (nihen) #223 #234\n        - Removed a debug statement left over in Plack::Util\n        - Fixed warnings in Lint\n\n0.9981  Mon Jul 18 17:24:11 PDT 2011\n    [BUG FIXES]\n        - Plack::Request: Added a sanity check to remove newlines from headers to follow\n          the PSGI specification #224\n        - HTTPParser::PP: Fixed warnings #225\n        - plackup now prints errors to psgi.errors rather than STDERR\n        - Fixes issues with undef returned from streaming handler in middleware #231\n        - ContentLength: Do not auto-add Content-Length from block devices, pipes and\n          character files\n\n    [NEW FEATURES]\n        - HTTPExceptions: Support ->as_psgi method on exceptions (doy)\n        - FastCGI: Support psgix.harakiri\n\n    [IMPROVEMENTS]\n        - Lint: Added more checks to validate header values\n        - StackTrace: Strip caller information since it is not useful anyway\n        - HTTPExceptions: Added rethrow option (doy)\n        - Misc. doc fixes on plackup (chromatic)\n        - binmode STDIN for CGI handler for Win32 #218\n        - Remove the test that tests Server specific handling of Transfer-Encoding\n        - Fixed POD link (audreyt)\n\n0.9980  Mon Jun  6 20:24:25 PDT 2011\n    [BUG FIXES]\n        - Fixed a bug where restarting loader doesn't terminate children (#209)\n        - Strip URI fragments off of PATH_INFO and QUERY_STRING (#213)\n\n    [IMPROVEMENTS]\n        - Documented -r vs auto server detection caveat\n        - Documented a default AccessLog format (ask)\n        - Support %V in AccessLog formats (ask)\n        - Document PLACK_HTTP_PARSER_PP (melo)\n\n    [NEW FEATURES]\n        - Added experimental IPv6 and SSL support for the built-in HTTP::Server::PSGI\n\n0.9979  Tue May 17 09:54:03 PDT 2011\n    [BUG FIXES]\n        - Fixed Middleware::AccessLog's default %t format to match Apache's format\n        - Fixed a warning in Apache1 handler where PATH_INFO doesn't exist #204\n        - Fixed a bad test relying on new Test::More versions\n\n    [IMPROVEMENTS]\n        - Fixed Lint to accept bare in-memory filehandle per http://stackoverflow.com/questions/6011793/\n        - Added setup_env() to Plack::Handler::CGI (markstos)\n        - Added a non-blocking Hello World example in eg/dot-psgi\n        - Doc cleanup\n\n0.9978  Wed May  4 11:29:12 PDT 2011\n    [TEST FIXES]\n        - Fixed a failing output_encoding.t because of FCGI dependencies\n        - Improved Plack::Test::Suite documentation\n\n0.9977  Sun May  1 12:16:08 PDT 2011\n    [BUG FIXES]\n        - Fixed ConditionalGET to not die with streaming interface (reported by Paul Ervamaa)\n        - Add a reason string to CGI/FastCGI Status header to comply with RFC 3875 (Stephen Clouse)\n        - Fixed a CGI/FastCGI handler to ensure newlines are not mangled on Win32 platforms (Christian Walde)\n\n    [IMPROVEMENTS]\n        - localize @ARGV to empty when evaluating a PSGI application (https://github.com/sukria/Dancer/issues/473)\n        - Fixed the use of Getopt::Long to make the pass_through flag local\n        - Middleware::JSONP now supports more response types such as IO::Handle (reported by Theory)\n\n0.9976  Fri Apr  8 18:07:11 PDT 2011\n    [NEW FEATURES]\n        - Support setting content_type in App::File (ajgb)\n\n    [IMPROVEMENTS]\n        - Document fixes (jhannah)\n        - Skip bad tests failing on LWP 6 (daxim)\n\n0.99_75 Thu Mar 24 11:29:22 PDT 2011\n    [INCOMPATIBLE CHANGES]\n        - builder {} now always returns a PSGI code reference, instead of inconsistently\n          returning URLMap object when mount() is used. (reported by hoelzro)\n        - Plack::Runner now automatically calls ->parse_options() if it hasn't been called,\n          so the sane defaults for plackup can be applied. (reported by arcanez)\n\n    [BUG FIXES]\n        - Fixed the way to override %ENV to avoid test breakages in Win32 #179\n        - Properly append '/' when linking to a directory in Plack::App::Directory (theory)\n\n    [IMPROVEMENTS]\n        - Skips the current directory in Plack::App::Directory\n        - Plack::App::Directory now redirects to a canonical URL that has a trailing slash\n          just like Apache (hobbs)\n        - Fixed some typos and outdated information in the PODs\n\n0.9974  Thu Mar  3 20:55:28 PST 2011\n        - Added a documentation about using relative URI paths beginning with //\n        - Added IIS6ScriptNameFix that fixes SCRIPT_NAME for IIS6 FastCGI, extracted from Catalyst (rafl)\n        - Moved the wrapcgi/exec tests for Win32 #174\n        - Fixed a warning for the new Test::TCP in FCGI testing\n        - Clear %ENV when running the Plack::Test::Suite with Server implementation (hachi)\n\n0.9973  Sat Feb 26 09:40:15 PST 2011\n        - Fixed the regexp in the code check added in 0.9972 (leedo)\n\n0.9972  Thu Feb 24 10:50:01 PST 2011\n        - Fixed the Plack::Runner docs to avoid the cargo cult issue of __FILE__ eq $0\n        - Added a silly check to give warnings if the idiom __FILE__ eq $0 is used in .psgi\n        \n0.9971  Wed Feb 23 14:02:35 PST 2011\n    [INCOMPATIBLE CHANGES]\n        - Localize $0 to the given .psgi path when evaluating it in Plack::Util::load_psgi()\n          This fixes the unexpected values and/or crashes with Starman when your application\n          uses FindBin module.\n\n0.9970  Tue Feb 22 08:35:50 PST 2011\n        - Apache2: Fixed a bug where dispatcher fails to parse first path when it begins with two or\n          more slashes (clkao)\n\n0.9969  Fri Feb 18 21:35:29 PST 2011\n        - Suppress the use of unlocalized $_ in Plack::Runner (mst)\n        - Plack::Handler::Net::FastCGI is now removed from Plack core dist.\n          It will be released as a separate distribution on CPAN.\n        - Fixed Plack::Handler::Apache2 so that it can safely call log (Andy Wardley)\n        - StackTrace: Display graceful fallback errors when $SIG{__DIE__} is overridden in the application (mkanat)\n\n0.9968  Wed Feb  9 19:07:48 PST 2011\n        - Fixed Recursive middleware to rethrow unknown exceptions. #166 (reported by waba)\n        - Document response_cb. #121\n        - Plack::Loader to print errors if it is really a compilation error\n        - Fixed the Cascade app to work with all 404 responses with the streaming interface. #171 (reported by eevee)\n\n0.9967  Tue Jan 25 14:26:37 PST 2011\n        - Fixed StackTrace to require D::ST::WithLexicals 0.08 that supports 'message' (doy)\n\n0.9966  Tue Jan 25 12:00:25 PST 2011\n        - Fixed a memory leak in SimpleLogger (vti)\n        - Support %v in AccessLog (Ranguard)\n        - Force set CONTENT_LENGTH in req_to_psgi when $content is given to HTTP::Request (timbunce) #150\n        - Fixed a case where SCRIPT_NAME and PATH_INFO can both get empty in req_to_psgi (doy) #163\n\n0.9965  Mon Jan 24 23:08:04 PST 2011\n        - Requires Devel::StackTrace 0.11\n        - Fixed a regression where StackTrace wasn't able to get the thrown exception as an error message (hachi)\n\n0.9964  Mon Jan 24 16:29:08 PST 2011\n        - Various documentation improvements (miyagawa, schwern)\n        - Improved the way it eliminates Plack::Middleware::StackTrace from its own stacktrace (Jonathan Swartz)\n\n0.9963  Mon Jan 10 16:46:33 PST 2011\n        - Fixed fcgi.t for lighttpd < 1.4.23 (confound)\n\n0.9962  Sat Jan  8 21:07:30 PST 2011\n        - Same fix as 0.9961 but works around the issues with Strawberry unarchiver\n\n0.9961  Fri Jan  7 21:54:04 PST 2011\n        - Skip directory.t on win32 since the directory \"stuff..\" can't be created [RT:64545]\n\n0.9960  Sat Dec 25 11:16:08 PST 2010\n        - FCGI: Fixed the regression in 0.9958 where PATH_INFO gets wrong value when hosted under a\n          non-root path (ambs)\n        - Improved the FastCGI and Apache2 test infrastructure to test SCRIPT_NAME values\n\n0.9959  Tue Dec 21 11:38:08 PST 2010\n        - Apache2: Fixed the regression bug around LocationMatch caused by fixes in 0.9958 (cho45)\n\n0.9958  Mon Dec 20 15:18:54 PST 2010\n        - Plack::Handler::Apache[12] now handles Authorization: header automatically, no need for\n          mod_rewrite workaround anymore (cho45)\n        - Fixed Apache[12] and FCGI where multiple forward slashes were munged (cho45)\n        - Static: Added pass_through option to pass non-existent paths to the app. Fixing the\n          docs to match with the code (beanz) #154\n\n0.9957  Thu Dec 16 11:27:29 PST 2010\n        - Fixed warnings in Plack::Request cookie parsing (typester)\n        - removed MethodOverride middleware. Now it is a standalone distribution on CPAN (theory)\n\n0.9956  Thu Dec  9 19:32:46 PST 2010\n        - FastCGI: Fixed an empty PATH_INFO with mod_fastcgi (and possibly others)\n        - FastCGI: Improved the automatic detection of the case when invoked from web server. #141\n          (reported by LeoNerd)\n        - plackup: Document that -e 'enable ...' doesn't assume app.psgi when there's no argument. #106 (clkao)\n        - Plack::App::FCGIDispatcher: Remove the Status: header #123 (reported by Htbaa)\n        - Apache2: Work around issues where SCRIPT_NAME gets wrong when LocationMatch is used. #136\n          (reported by atiking)\n\n0.9955  Thu Dec  9 18:02:50 PST 2010\n        - More fixes to a possible directory traversal\n\n0.9954  Thu Dec  9 17:45:59 PST 2010\n        - Fixed a directory traversal bug in Plack::App::File etc. RT:63020\n\n0.9953  Fri Dec  3 14:50:09 PST 2010\n        - Include the original error message in the StackTrace text output on console.\n          This requires Devel::StackTrace 1.23 and Devel::StackTrace::WithLexicals 0.08 (optional)\n        - Fixed AccessLog middleware to handle multiple dashes in %{} (Jiro)\n\n0.9952  Thu Dec  2 14:03:48 PST 2010\n        - Fixed the potential deadlocks in WrapCGI's read/write pipe (typester)\n        - Improved documentations on plackup -e\n        - Fixed a potential DoS vulnerability in HTTP::Server::PSGI (kazuho)\n        - Allows setting names of FCGI process with proc_title option (rafl)\n\n0.9951  Mon Oct 25 13:50:33 PDT 2010\n        - Added Feersum to the benchmark script (stash)\n        - Lint: fixed the body handle check to see if the file has getline() method (tokuhirom)\n        - StackTrace: store the stacktrace in $env->{'plack.stacktrace.text'} and $env->{'plack.stacktrace.html'} (theory)\n        - Added ->mount method to the Plack::Builder OO interface (franckcuny)\n        - HTTPExceptions: Don't set an invalid Content-Length when the exception is not an object (ask)\n        - ErrorDocument: Fixed wrong Content-Length header be set (ask)\n\n0.9950  Thu Sep 30 14:11:33 PDT 2010\n        - Fixed typos in middleware docs (miyagawa, theory, tokuhirom)\n        - App::Directory: fixed URL generation escape bug (chiba)\n        - Middleware::JSONP: support callback parameter name (franck)\n\n0.9949  Tue Sep 14 11:59:36 PDT 2010\n        - Fixed FCGI handler docs\n        - Auth::Basic: Pass $env to the callback so .htpasswd based auth can be implemented with PATH_INFO (doy)\n\n0.9948  Thu Sep  9 16:01:53 PDT 2010\n        - Fixed a bug introduced in 0.9947 where $req->upload loses the temporary files when\n          Plack::Request object is instantiated multiple times. It could happen if one of the\n          pre-processing middleware uses Plack::Request and then again in the application or\n          frameworks.\n\n0.9947  Thu Sep  9 02:26:14 PDT 2010\n        - Plack::Loader: Fixed a typo in ENV that prevents warnings messages in development\n        - Added flymake temporary file in Restarter (hirose31)\n        - Plack::Request: Fixed a bug that HTTP::Body temporary files were not cleaned up (plu)\n        - Middleware::AccessLog: Fixed a bug where %{key}i ignores the value '0' (nekoya)\n\n0.9946  Sat Aug 28 22:32:16 PDT 2010\n        - Fixes UUV warnings in Apache2 handler RT:60472\n        - Fixed various test failures due to dependencies\n\n0.9945  Thu Aug 19 16:24:30 PDT 2010\n        - Support executing (non-perl) CGI scripts in CGIBin and WrapCGI\n        - Fixed tests for win32\n\n0.9944  Sun Aug  8 23:35:52 PDT 2010\n        - Fixed Restarter for Starlet where SIGTERM doesn't quit the process (chiba)\n\n0.9943  Fri Jul 30 13:24:15 PDT 2010\n        - Updated Apache* handler so it could duck type on Loader (jnap)\n        - Added --access-log to plackup (grantm)\n        - Added support for streaming stdio in Net::FastCGI handler (chansen)\n\n0.9942  Fri Jul 23 23:42:43 PDT 2010\n        - Allow passing FCGI manager object to Handler::FCGI (confound)\n        - Call FCGI::Request::Finish() before pm_post_dispatch (confound)\n        - Moved response_cb() to Plack::Util (confound)\n        - re-enable WithLexicals now that PadWalker segfaults with 5.12 is fixed #98\n\n0.9941  Thu Jul  8 18:17:30 PDT 2010\n        - Makes Lint not warn about ASCII-only strings with UTF8 flag because they're safe\n\n0.9940  Fri Jul  2 23:37:51 PDT 2010\n        - Fixed META.yml\n\n0.9939  Fri Jul  2 17:56:10 PDT 2010\n        - Improved middleware documentation (miyagawa, leedo, bobtfish)\n        - Added a test about Transfer-Encoding with Content-Length: 0 (chiba)\n        - Fixed NullLogger middleware (haarg)\n        - Fixed Plack::Util inline object's can() (haarg)\n        - Middleware::HTTPException now honors ->location method of the exception (frodwith)\n        - Middleware::AccessLog: Fixes %D to be microsec so it's compatible to Apache #119 (cho45)\n        - Fixed Plack::Request->uri when PATH_INFO conatins URI reserved characters #118 (leedo)\n\n0.9938  Sun May 23 17:13:05 PDT 2010\n        - ErrorDocument: Added Content-Length to error responses (hachi)\n        - Improved docs about conditional middleware loading\n        - XSendfile: Updated (undocumented) environment key to switch frontend\n        - Auth::Basic: Added notes about how to use it with Apache (mod_perl and CGI) [RT #57436]\n\n0.9937  Fri May 14 23:11:27 PDT 2010\n        - Fixed -I broken in 0.9936 (juster) #114\n\n0.9936  Fri May 14 15:58:02 PDT 2010\n        - Remove 'use lib \"lib\"' from plackup\n        - Remove HTTP_CONTENT_* environment variables in FastCGI handlers to deal with buggy web servers.\n          (Justin Davis)\n\n0.9935  Wed May  5 15:17:06 PDT 2010\n        - Set an empty PATH_INFO if CGI environment doesn't set so (hachi) #109\n        - Fixed a possible weird combination of SCRIPT_NAME and PATH_INFO in CGI handlers\n        - localize PATH_INFO and SCRIPT_NAME in App::File and subclasses #100\n        - updated COPYRIGHT notice for Debian\n        - Middleware::StackTrace now displays text trace to psgi.errors like Rack::ShowExceptions\n          (castaway, theorbtwo)\n        - Middleware::StackTrace: Fixed the text stack trace format to be more readable\n\n0.9934  Tue May  4 15:47:33 PDT 2010\n        - Added a test in CGIBin where binmode \":utf8\" causes bad content-length #110\n        - Doc fix for the deprecated servers\n        - Initialize Module::Refresh (hiratara)\n        - Added mime_type to ErorrDocument (kakuno)\n\n0.9933  Tue Apr 27 14:32:23 PDT 2010\n        - refactored the app.psgi loading error handling\n        - Enable type checking of the app in Lint->wrap\n        - allow plackup -e'...'\n        - Disable FCGI::Client/Net::FastCGI test by default\n\n0.9932  Mon Apr 19 15:23:55 JST 2010\n        - Enable Lint middleware by default in the development env\n        - Lint middleware now validates $app on startup\n        - Fixed documentations on middleware and handlers\n\n0.9931  Fri Apr 16 23:52:27 PDT 2010\n        - replace kyoto.jpg test image file with smaller baybridge.jpg to strip down the tarball size\n          from 2.5MB to 212KB.\n\n0.9930  Tue Apr 13 20:18:06 PDT 2010\n        - Added Plack::Handler::Net::FastCGI (chansen)\n        - Made Test::TCP a hard dependency since Plack::Test needs it\n        - Added Delayed loader for Starlet and Starman (clkao)\n        - Hide logger middleware from log4perl's caller stack (haarg)\n\n0.9929  Wed Mar 31 00:33:10 PDT 2010\n        - Middleware::JSONP: Simplified code and does not support IO response body type\n        - fcgi.t: skip tests with lighttpd < 1.4.17 per CPAN Testers #7040400\n\n0.9928  Mon Mar 29 17:02:42 PDT 2010\n        - log_dispatch.t: require Log::Dispatch::Array\n\n0.9927  Mon Mar 29 12:43:44 PDT 2010\n        - require newer Log::Dispatch (confound)\n        - StackTrace: Encode exceptions in utf-8 in case they include wide characters #95 (tokuhirom)\n        - StackTrace: Depends on a new Devel::StackTrace::AsHTML that escapes wide characters\n        - StackTrace: Display stacktrace only if the thrown exception is a direct error #91 (frodwith)\n        - StackTrace: Added 'force' option to force stacktrace in 500 errors\n        - Avoid warnings when response_cb filter returns undef in ARRAY response body #92 (hiratara)\n        - URLMap: Ignore port number if it matches with SERVER_PORT #90 (omega)\n        - URLMap: Enable debug print with PLACK_URLMAP_DEBUG=1 #94\n        - JSONP: Fixed possible infinite-loop when using with IO response body (hiratara)\n        - Fixed the compatiblity issues with FastCGI docs and tests with lighttpd 1.4.26 (tadam)\n        - LighttpdScriptNameFix: Added 'script_name' option (tadam)\n\n0.9926  Sun Mar 28 14:37:03 PDT 2010\n        - Added -v|--version option to plackup and the ability for Plack::Runner users to override\n\n0.9925  Sat Mar 27 19:03:57 PDT 2010\n        - Make this a non-devel release\n\n0.99_24 Sat Mar 27 13:31:51 PDT 2010\n        - Disable Devel::StackTrace::WithLexicals for now until PadWalker RT #55242 is fixed\n\n0.99_23 Sat Mar 27 01:02:24 PDT 2010\n        - Dropped keep-alive code from HTTP::Server::PSGI now that Starlet clones the code\n        - Special case --disable-* and --enable-* command line options in plackup and Plack::Runner\n\n0.99_22 Thu Mar 25 19:48:08 PDT 2010\n        - INCOMPATIBLE: removed --max-workers option from the default standalone server.\n          Now it gives you warnings and falls back to the single process mode.\n\n0.99_21 Thu Mar 25 15:05:53 PDT 2010\n        - INCOMPATIBLE: removed a workaround for lighttpd SCRIPT_NAME bug in FCGI handler\n          See http://github.com/plack/Plack/issues#issue/68 for details.\n        - HTTPException now logs standard exceptions to psgi.errors\n        - micro optimization for Plack::Request content() method\n\n0.9920  Thu Mar 18 23:48:06 PDT 2010\n        - Fixed URL path prefix matching in URLMap (hiratara)\n        - Fixed Plack::Request->content on GET with FastCGI servers (sunnavy)\n        - Added new middleware Middleware::Head\n        - Fixed localization bug in Plack-Util/load.t\n\n0.9919  Wed Mar 17 22:50:09 PDT 2010\n        - Properly rethrow .psgi compilation errors\n\n0.9918  Wed Mar 17 22:35:00 PDT 2010\n        - Load .psgi file in an unique package rather than Plack::Util to avoid\n          namespace pollution gh-88\n\n0.9917  Wed Mar 17 15:33:43 PDT 2010\n        - Added Plack::Handler::Apache2::Registry (hiratara)\n        - Set default PLACK_ENV in Plack::Util::load_psgi\n\n0.9916  Fri Mar 12 12:52:39 JST 2010\n        - Added support for a new (renamed) web server Corona\n        - Document enable coderef in Plack::Middleware (clkao)\n        - Middleware::StackTrace: Send plain text errors to clients that probably do\n          not understand HTML like curl\n\n0.9915  Mon Mar  8 18:22:33 JST 2010\n        - Fixed a dumb bug in Plack::Handler::Apache2, broken in 0.9914 (hiratara)\n        - Added a warning if you misuse mount()\n\n0.9914  Wed Mar  3 16:02:38 PST 2010\n        - Fixed psgix.io and nested closure for perl 5.8 (hiratara)\n        - Added an inheritance friendly Apache2 interface (frodwith)\n        - HTTP::Server::PSGI: Close client connection in the first run (hirose31)\n        - Fixed Loader/auto.t to reset env var (gugod)\n\n0.9913  Thu Feb 25 19:14:40 PST 2010\n        - Revive psgix.io in HTTP::Server::PSGI (hiratara)\n        - Fix packaging issue\n\n0.9912  Thu Feb 25 01:28:21 PST 2010\n        - Fixed the possible source of memory leak in middleware + streamer + HTTP::Server::PSGI\n          with perl 5.8.x (hiratara)\n\n0.9911  Tue Feb 23 01:55:04 PST 2010\n        - Removed psgix.io extension to fix streaming choke issue on HTTP::Server::PSGI (tomyhero)\n\n0.9910  Mon Feb 22 19:03:17 PST 2010\n        - This is the first non-dev release since 0.99. Read all the change logs below.\n        - Support streaming in JSONP (hiratara)\n        - Fixed various handler docs (markstos)\n        - Added Starman and Twiggy to benchmark script\n        - INCOMPATIBLE: Loader now prefers Twiggy when AnyEvent is loaded\n        - Implemented (experimental) psgix.io and psgix.input.buffered extensions\n        - Fixed Plack::Request POST parser to use psgix.input.buffered for better performance\n        - Added PLACK_ENV environment support in plackup #63\n        - Added HTTPExceptions middleware\n        - Added Recursive middleware\n\n0.99_05 Wed Feb 10 12:46:05 PST 2010\n        - Changed the Loader command line options to -L from -l\n        - Runner now folds --host, --port and --socket to --listen and vice verca\n        - Added -D and --daemonize to plackup/Runner standard options\n        - Fixed FCGI handler to work with the new --listen and --daemonize option\n        - Fixed a bug in static.t where it chdir's before loading modules\n        - Renamed Writer to BufferedStreaming middleware and added docs\n        - Support streaming apps in Shotgun loader\n        - Falls back to Standalone handler when auto-detected backend is not available (hiratara)\n        - Support chunked-input in HTTP::Request->to_psgi\n        - Make the Reloader work with preforked server (chiba)\n        - Added 'Auto' backend in TempBuffer\n        - Added Nomo backend to the benchmark script\n        - Updated HTTP::Server::PSGI to support experimental psgix.input.buffered\n        - Plack::Request now honors psgix.input.buffered to see psgi.input is seekable\n        - Renamed Standalone handler to HTTP::Server::PSGI for consistency while keeping\n          'Standalone' as a nickname\n\n0.99_04 Fri Feb  5 23:10:48 PST 2010\n        - Updated Test suite for multiple request headers to relax a bit for AE::HTTPD\n        - Added a test for large POST body which revealed FCGI::Client bug\n        - Added a handler for HTTP::Server::Simple::PSGI\n        - Depend on a decent version of URI (tomyhero)\n        - Reworked Loader API so the default loader can autodetect the backend again\n        - run_app now doesn't use Try::Tiny but use plain eval {}\n\n0.99_03 Wed Feb  3 16:09:14 PST 2010\n        - Use 0 as a default address in the server_ready hook in Plack::Runner\n        - Document Plack::Handler naming scheme\n        - Fixed how Plack::Server::Standalone saves args\n        - Supported streaming interface in Cascade and URLMap\n        - mentions awesome WSGI Paste in Plack documentation\n        - Removed URI caching in Plack::Request since it's fast enough\n        - Fixed packaging issue due to Module::Install::Share bug (rafl)\n        - Support 'file' option in App::File and its subclasses\n        - Fixed SCRIPT_NAME and PATH_INFO in App::CGIBin\n        - Fixed App::Directory and ::File not to use Path::Class and its canonicalization.\n          It's now 300% faster!\n\n0.99_02 Sat Jan 30 22:10:45 PST 2010\n        - Fixed Plack::TempBuffer to work with 5.8 and 5.11.3\n        - Do not use <$input> in FCGIDispatcher\n        - Skip fcgi_client.t unless explicitly stated (clkao)\n        - clarify and drop some CPAN dependencies (andk)\n\n0.99_01 Fri Jan 29 14:02:04 PST 2010\n  Incompatible Changes\n        - Rename Standalone servers to HTTP::Server::PSGI\n        - Rename Plack::Server adapters to Plack::Handler. These changes should be transparnt\n          since we have a compatible code to work with the older names as well.\n        - Dropped sendfile(2) AIO support from Standalone server\n        - Plack::Request and Response are now in core, deprecating many methods.\n          Read `perldoc Plack::Request` and its INCOMPATIBILITIES section\n\n  New Features\n        - New middleware: WrapCGI to convert a single CGI script into a PSGI applciation\n        - Support psgix.logger and psgix.session in Plack::Request\n        - New logger middleware: NullLogger, SimpleLogger, Log4perl and LogDispatch\n        - Refactored Loader classes and added a new Shotgun loader (like rack's Shotgun)\n        - Added -l option to plackup which specifies the Loader backend\n        - New middleware: Refresh reloads modules in %INC in every N seconds\n        - Wraps -e code with 'builder { }' by default. You can also use with *.psgi to add middleware\n          components without editing the file!\n\n  Bug Fixes and Improvements\n        - Do not call ->canonical in HTTP::Message::PSGI to keep the URI encoded params in Plack::Test\n          tests (rafl, t0m)\n        - Fixed a bug in stupid corner case in HTTP::Message::PSGI where passed URI has UTF-8 encoded\n          strings *and* URI escaped UTF-8 bytes. (chmrr)\n        - Depend on new HTTP::Request::AsCGI that has better REQUEST_URI\n        - Plack::Runner/plackup does not autoload AccessLog in CGI mode anymore\n        - Added server_ready hook to PSGI servers so you can disable them in tests etc. (clkao, rafl)\n        - Escape user-supplied values in AccessLog to avoid control sequence injection (tokuhirom, kazuho)\n        - Support -foo (single dash) style option in Plack::Runner and plackup\n        - Relax the runtime.t check since it still fails on low-res time environments\n        - Now depends on Digest::MD5, HTTP::Body and Hash::MultiValue\n        - Revert the 'require' in load_psgi to do 'do'\n        - Delay load unnecessary modules in Plack::Runner\n        - Fixed psgi.multiprocess value on HTTP::Server::PSGI\n        - PSGI/1.1 support in Lint\n\n0.9031 Mon Jan 11 11:29:04 PST 2010\n        - Fixed Plack::App::Directory directory listing by switching to Plack::MIME (tokuhirom)\n          This has been broken since 0.9025\n        - Fixed body filtering middleware such as Plack::Middleware::Deflater (hiratara)\n          This has been broken since 0.9026\n\n0.9030 Sat Jan  9 13:13:17 PST 2010\n        - Support streaming interface in HTTP::Message::PSGI, Lint and Plack::Test (rafl)\n        - plackup -e doesn't enable strict and warnings by default, like perl\n        - Improved Middleware::Auth::Basic performance and error check\n\n0.9029 Thu Jan  7 19:09:17 PST 2010\n        - Fixed runtime.t to relax test condition to avoid failures on Win32 (xaicron)\n        - Fixed a bug in FCGI engine where it creates a bogus response when running under a\n          buffered I/O with lighttpd. (fcharlier, typester)\n        - FCGI and CGI server now autoflushes STDOUT to do non-buffering output\n        - Fixed a Plack::MIME bug where extensions like .mp3 fails\n\n0.9028 Tue Jan  5 18:42:07 PST 2010\n        - Fixed a long standing bug where errors are not printed correctly when the\n          application dies. (tokuhirom)\n        - Fixed FCGIClient passing bogus psgi.* environment values to the backend\n        - Implemented psgi.streaming in all blocking servers (miyagawa, rafl)\n\n0.9027 Sun Jan  3 16:33:23 PST 2010\n        - Added new middleware Runtime that adds X-Runtime header\n        - Delay load Pod::Usage in Plack::Runner and plackup\n\n0.9026 Fri Jan  1 10:35:26 JST 2010\n        - Auth::Basic now accepts an object that duck types to ->authenticate (e.g. Authen::Simple)\n        - Reworked how response_cb body callback works, so Content-Length will be updated correctly\n\n0.9025 Sat Dec 26 10:11:59 JST 2009\n        - Server::Standalone::* should now display the correct Server: value\n        - Fixed a bug in AccessLog::Timed where %D and %T do not work\n        - Fixed a bug in AccessLog::Timed to work with filehandles\n        - Removed a dependency to MIME::Types and include Plack::MIME\n        - Refactored plackup into Plack::Runner\n        - Fixed a failing test under stupid Win32 filesystem\n        - Fixed ConditionalGET to work with delayed response\n\n0.9024 Sat Dec 19 12:25:52 PST 2009\n        - Overwhauled how -r and -R works in plackup. Looks at .psgi and lib/ under that by default.\n\n0.9023 Thu Dec 17 13:16:38 PST 2009\n        - Document the use of Plack:: namespace\n        - Use safer Unicode characters in tests to silence warnings #66\n        - Plack::Util::load_psgi now takes a class name as well. Added notes about the security of its use\n        - Set default host in MockHTTP and keep them if explicitly set (nihen)\n\n0.9022 Sun Dec 13 10:53:01 PST 2009\n        - Added more assertions to Middleware::Lint\n        - Added a new test to test big HTTP header, which reveals the FCGI::Client bug (zrail, tokuhirom)\n        - plackup -e now automatically loads Plack::Builder\n        - Fixed fcgi tests (tokuhirom)\n        - Fixed Test::MockHTTP to make 500 response when the app died\n        - Fixed a memory leak in StackTrace when WithLexicals is used (chiba, Sartak)\n        - Fixed Middleware::ConditionalGET to deal with stupid IE headers (chiba)\n        - Fixed lots of typos (Sartak)\n\n0.9021 Tue Dec  8 14:29:08 PST 2009\n        - Doc patches to Plack about CONTRIBUTING (stevan)\n        - Remove Class::Accessor::Fast and added Plack::Util::Accessor (stevan)\n        - Added Plack::Component the common base class for both App:: and Middleware (stevan)\n        - Plack::Test test_psgi now accepts $app, $client in positional args\n        - Plack::Test client callback can now omit host names like $cb->(GET \"/\")\n\n0.9020 Mon Dec  7 10:38:37 GMT 2009\n        - Fixed a test (psgibin.t) failure in case sensitive filesystem\n        - Fixed a warning in Plack::Util::header_set\n\n0.9019 Sun Dec  6 05:56:30 GMT 2009\n        - Fixed a bug in Plack::Util::header_set when to clear multiple headers (chiba)\n        - Added Plack::App::CGIBin that runs cgi-bin scripts as a PSGI application\n        - Added Plack::App::PSGIBin that loads .psgi files from local filesystem\n\n0.9018 Thu Dec  3 00:48:04 PST 2009\n        - Allow Plack::Middleware->new to accept plain hashes\n        - Added Plack::App::Cascade to create a compound apps that cascade requests\n        - Added POE backend to benchmarks/ab.pl\n        - Implemented Plack::Server::Apache[12]->preload to preload apps in <Perl> or startup file\n\n0.9017 Sun Nov 29 17:33:36 JST 2009\n        - Fixed more tests that fail on Win32 (charsbar)\n\n0.9016 Sun Nov 29 16:39:40 JST 2009\n        - removed Middleware::Deflater from the dist.\n        - Fixed Standalone so as not to use Time::HiRes::Alarm on Win32 systems (charsbar, kazuho)\n        - Fixed App::File to set file path using forward slashes on Win32 (charsbar) #49\n\n0.9015 Thu Nov 26 17:31:33 JST 2009\n        - Fixed a bug in URLMap where $env is shallow copied and some middleware don't work\n        - Added -e and -M to plackup\n        - plackup -r with args (directories to watch) is deprecated. Use -R instead\n        - plackup foo.psgi now DWIMs. -a (--app) continues to work\n        - Optimizaitons to Middleware and docs to explicitly call to_app because overloading happens\n          every request and is inefficient.\n        - The abilitiy to auto-select server backends for POE/AnyEvent/Coro is restored. Doesn't work with -r though. #50\n        - Display server package name in the Standalone/Prefork startup\n        - Fixed a bug in Plack::Test::MockHTTP where $res doesn't return the request (teejay)\n        - Fixed a bug in URLMap where requests to / fails in some cases (chiba)\n\n0.9014 Fri Nov 20 21:51:47 PST 2009\n        - Updated docs for Standalone keep-alive options\n        - Added Auth::Basic middleware\n        - Fixed dependencies and MakeMaker issues in the archive\n\n0.9013 Wed Nov 18 18:26:31 PST 2009\n        - Disable keep-alive in Standalone by default (kazuho, frew)\n        - Fixed a bug in Standalone where 'timeout' property is ignored in the first request (kazuho)\n        - Fixed a documentation bug in Middleware::Conditional (confound, scook)\n       \n0.9012 Tue Nov 17 13:38:38 PST 2009\n        - Added Middleware::Conditional and enable_if DSL for dynamic builder (scook)\n\n0.9011 Thu Nov 12 03:53:28 PST 2009\n        - Added Apache1 support (Aaron Trevena)\n\n0.9010 Wed Nov 11 23:18:37 PST 2009\n        - You can now omit Plack::Middleware:: in Builder DSL's enable()\n\n0.9009 Sat Nov  7 20:43:17 PST 2009\n        - Fixed dependencies for tests\n\n0.9008 Tue Oct 27 14:15:28 PDT 2009\n        - Removed optional deps from Makefile.PL and moved them to Task::Plack (mst)\n        - Make some middleware deps as required to make it simple, for now\n\n0.9007 Sat Oct 24 17:41:33 PDT 2009\n        - Fixed Server::CGI to really inline fuctions to avoid warnings\n        - Fixed Middleware::AccessLog to let %{..}t strftime log format work (beppu)\n        - Fixed a flush bug in gzip encoding in Middleware::Deflater\n        - Fixed a bug in Middleware::AccessLog so POSIX strftime always works in English (fayland)\n        - Added Middleware::ContentMD5 (Fayland)\n        - Fixed plackup -r to actually reload the application code (robinsmidsrod)\n\n0.9006 Fri Oct 23 01:21:13 PDT 2009\n        - Support streaming interface in most middlewares\n        - Added Middleware::Deflater (not recommended to use: see POD)\n        - Document FCGI configuration in Server::FCGI pod (dhoss)\n        - Inline Plack::Util functions in Server::CGI to speed up (mst)\n\n0.9005 Wed Oct 21 20:53:19 PDT 2009\n        - Switch to Filesys::Notify::Simple to watch directory to trim down deps\n        - Made some dependencies optional since they're actually optional\n\n0.9004 Tue Oct 20 22:57:48 PDT 2009\n        - Fixed File::ShareDir dependency (mst)\n        - App::File and Middleware::Static now auto follows symlinks (chiba)\n        - Implemented plackup -r as Plack::Loader::Reloadable (nothingmuch)\n        - Removed poll_cb from Writer middleware\n        - Added plackup common command line options: -o for --host and -p for --port \n\n0.9003 Sun Oct 18 19:16:26 PDT 2009\n        - Added POE to Plack::Loader autoload\n        - Implemented callback style streaming in selected middlewares\n        - Bump up HTTP::Parser::XS to fix memory leaks\n        - Added Middleware::Chunked\n        - Added Middleware::JSONP\n        - Added twitter-stream.psgi example to do streaming server push\n        - Fixed Middleware::StackTrace to DWIM in framework generated 500 errors\n        - Fixed Restarter to do what doc says\n\n0.9002 Wed Oct 14 11:26:28 PDT 2009\n        - Added a workaround in Server::Apache2 when Location and SCRIPT_NAME don't match\n        - Use Try::Tiny and parent for smaller memory footprint and better error handling\n\n0.9001 Tue Oct 13 00:55:34 PDT 2009\n        - Downgrade EUMM in inc/\n\n0.9000 Tue Oct 13 00:14:01 PDT 2009\n        - original version\n", "package Plack::App::File;\nuse strict;\nuse warnings;\nuse parent qw/Plack::Component/;\nuse File::Spec::Unix;\nuse Cwd ();\nuse Plack::Util;\nuse Plack::MIME;\nuse HTTP::Date;\n\nuse Plack::Util::Accessor qw( root file content_type encoding );\n\nsub should_handle {\n    my($self, $file) = @_;\n    return -f $file;\n}\n\nsub call {\n    my $self = shift;\n    my $env  = shift;\n\n    my($file, $path_info) = $self->file || $self->locate_file($env);\n    return $file if ref $file eq 'ARRAY';\n\n    if ($path_info) {\n        $env->{'plack.file.SCRIPT_NAME'} = $env->{SCRIPT_NAME} . $env->{PATH_INFO};\n        $env->{'plack.file.SCRIPT_NAME'} =~ s/\\Q$path_info\\E$//;\n        $env->{'plack.file.PATH_INFO'}   = $path_info;\n    } else {\n        $env->{'plack.file.SCRIPT_NAME'} = $env->{SCRIPT_NAME} . $env->{PATH_INFO};\n        $env->{'plack.file.PATH_INFO'}   = '';\n    }\n\n    return $self->serve_path($env, $file);\n}\n\nsub locate_file {\n    my($self, $env) = @_;\n\n    my $path = $env->{PATH_INFO} || '';\n\n    if ($path =~ /\\0/) {\n        return $self->return_400;\n    }\n\n    my $docroot = $self->root || \".\";\n    my @path = split /[\\\\\\/]/, $path;\n    if (@path) {\n        shift @path if $path[0] eq '';\n    } else {\n        @path = ('.');\n    }\n\n    if (grep $_ eq '..', @path) {\n        return $self->return_403;\n    }\n\n    my($file, @path_info);\n    while (@path) {\n        my $try = File::Spec::Unix->catfile($docroot, @path);\n        if ($self->should_handle($try)) {\n            $file = $try;\n            last;\n        } elsif (!$self->allow_path_info) {\n            last;\n        }\n        unshift @path_info, pop @path;\n    }\n\n    if (!$file) {\n        return $self->return_404;\n    }\n\n    if (!-r $file) {\n        return $self->return_403;\n    }\n\n    return $file, join(\"/\", \"\", @path_info);\n}\n\nsub allow_path_info { 0 }\n\nsub serve_path {\n    my($self, $env, $file) = @_;\n\n    my $content_type = $self->content_type || Plack::MIME->mime_type($file)\n                       || 'text/plain';\n\n    if (\"CODE\" eq ref $content_type) {\n\t\t$content_type = $content_type->($file);\n    }\n\n    if ($content_type =~ m!^text/!) {\n        $content_type .= \"; charset=\" . ($self->encoding || \"utf-8\");\n    }\n\n    open my $fh, \"<:raw\", $file\n        or return $self->return_403;\n\n    my @stat = stat $file;\n\n    Plack::Util::set_io_path($fh, Cwd::realpath($file));\n\n    return [\n        200,\n        [\n            'Content-Type'   => $content_type,\n            'Content-Length' => $stat[7],\n            'Last-Modified'  => HTTP::Date::time2str( $stat[9] )\n        ],\n        $fh,\n    ];\n}\n\nsub return_403 {\n    my $self = shift;\n    return [403, ['Content-Type' => 'text/plain', 'Content-Length' => 9], ['forbidden']];\n}\n\nsub return_400 {\n    my $self = shift;\n    return [400, ['Content-Type' => 'text/plain', 'Content-Length' => 11], ['Bad Request']];\n}\n\n# Hint: subclasses can override this to return undef to pass through 404\nsub return_404 {\n    my $self = shift;\n    return [404, ['Content-Type' => 'text/plain', 'Content-Length' => 9], ['not found']];\n}\n\n1;\n__END__\n\n=head1 NAME\n\nPlack::App::File - Serve static files from root directory\n\n=head1 SYNOPSIS\n\n  use Plack::App::File;\n  my $app = Plack::App::File->new(root => \"/path/to/htdocs\")->to_app;\n\n  # Or map the path to a specific file\n  use Plack::Builder;\n  builder {\n      mount \"/favicon.ico\" => Plack::App::File->new(file => '/path/to/favicon.ico');\n  };\n\n=head1 DESCRIPTION\n\nThis is a static file server PSGI application, and internally used by\nL<Plack::Middleware::Static>. This application serves file from\ndocument root if the path matches with the local file. Use\nL<Plack::App::Directory> if you want to list files in the directory\nas well.\n\n=head1 CONFIGURATION\n\n=over 4\n\n=item root\n\nDocument root directory. Defaults to C<.> (current directory)\n\n=item file\n\nThe file path to create responses from. Optional.\n\nIf it's set the application would B<ALWAYS> create a response out of\nthe file and there will be no security check etc. (hence fast). If\nit's not set, the application uses C<root> to find the matching file.\n\n=item encoding\n\nSet the file encoding for text files. Defaults to C<utf-8>.\n\n=item content_type\n\nSet the file content type. If not set L<Plack::MIME> will try to detect it\nbased on the file extension or fall back to C<text/plain>.\nCan be set to a callback which should work on $_[0] to check full path file \nname.\n\n=back\n\n=head1 AUTHOR\n\nTatsuhiko Miyagawa\n\n=head1 SEE ALSO\n\nL<Plack::Middleware::Static> L<Plack::App::Directory>\n\n=cut\n\n\n", "use strict;\nuse Plack::Test;\nuse Test::More;\nuse HTTP::Request::Common;\nuse Plack::App::File;\n\nmy $app = Plack::App::File->new(file => 'Changes');\n\ntest_psgi $app, sub {\n    my $cb = shift;\n\n    my $res = $cb->(GET \"/\");\n    is $res->code, 200;\n    like $res->content, qr/Plack/;\n\n    $res = $cb->(GET \"/whatever\");\n    is $res->content_type, 'text/plain';\n    is $res->code, 200;\n};\n\nmy $app_content_type = Plack::App::File->new(\n    file => 'Changes',\n    content_type => 'text/x-changes'\n);\n\ntest_psgi $app_content_type, sub {\n    my $cb = shift;\n\n    my $res = $cb->(GET \"/\");\n    is $res->code, 200;\n    like $res->content, qr/Plack/;\n\n    $res = $cb->(GET \"/whatever\");\n    is $res->content_type, 'text/x-changes';\n    is $res->code, 200;\n};\n\n\n\ndone_testing;\n"], "fixing_code": ["Go to http://github.com/plack/Plack/issues for the roadmap and known issues.\n\n{{$NEXT}}\n    [SECURITY]\n        - Plack::App::File would previously strip trailing slashes off\n          provided paths.\n\n          This in combination with the common pattern of dynamically\n          generating some files in a tree and serving the rest up with\n          Plack::Middleware::Static could allow an attacker to bypass\n          a whitelist of generated files by just requesting\n          /file.disallowed/ instead of /file.disallowed, provided that\n          Plack::Middleware::Static was used for all paths except\n          those matching /\\.disallowed$/\n\n1.0030  2013-11-23 08:54:01 CET\n    [IMPROVEMENTS]\n        - Middleware::LogDispatch stringifies objects (oalders) #427\n        - Encode wide character strings as UTF-8 in HTTP::Server::PSGI #429\n        - Optimize Plack::Response->finalize performance (kazeburo) #433\n        - Optimize mount() performance in Plack::App::URLMap\n\n    [BUG FIXES]\n        - ErrorDocument: remove Content-Encoding and Transfer-Encoding (kazeburo) #430\n        - Fix harakiri test hang on win32 (wchristian) #431\n        - Handler::FCGI: Restore --keep-stderr option (mauzo) #432\n\n1.0029  2013-08-22 14:05:44 PDT\n    [NEW FEATURES]\n        - Plack::Test now has a simpler object-oriented interface that doesn't\n          take multiple callbacks. #420\n\n    [IMPROVEMENTS]\n        - bump dependencies for Test::TCP and HTTP::Tiny\n        - Set no_proxy for HTTP::Tiny in tests (kazeburo)\n\n    [INCOMPATIBLE CHANGES]\n        - Split HTTP::Server::Simple handler from Plack distribution and merge to\n          HTTP-Server-Simple-PSGI distribution\n\n1.0028  2013-06-15 01:42:52 PDT\n    [IMPROVEMENTS]\n        - Skip cgi related tests for Win32 (chorny) #413\n        - Skip tests that could potentially write empty bytes, which could cause\n          issues on some servers on local sockets with HTTP::Tiny\n        - Skip tests that require HTTP::Cookies, if not available #414\n\n1.0027  2013-06-13 21:30:12 PDT\n    [IMPROVEMENTS]\n        - Not a dev release, including XS free version of Plack::Test*\n        - Fix cgibin tests that often fail on Win32 #375\n\n1.0026  2013-06-12 23:00:21 PDT\n    [INCOMPATIBLE CHANGES]\n        - use HTTP::Tiny in Plack::Test::Suite and Plack::Test::Server rather than skipping it.\n\n1.0025  2013-06-12 13:08:58 PDT\n    [INCOMPATIBLE CHANGES]\n        - No XS! Eliminates dependency to LWP::UserAgent by making it completely optional for\n          testing. If you run Plack::Test with Server implemenetation or run Plack::Test::Suite\n          (for PSGI handlers) without LWP installed, the tests will automatically be skipped.\n          This removes the eventual sub-dependency to HTML::Parser, which is the only XS dependency\n          in Plack. #408\n\n    [IMPROVEMENTS]\n        - Fixed the warning in OO usage of Plack::Builder (doy) #407\n        - Shotgun loader now dies if used in Win32 since it leaks memory #320, #400\n        - Suppress warnings for Test::TCP (kazeburo) #406\n        - $res->to_app shortcut (ether) #409\n\n1.0024  2013-05-01 10:05:56 PDT\n    [IMPROVEMENTS]\n        - Fix warnings for Plack::App::WrapCGI (frioux)\n        - Ignore emacs lock file from restarter (maio)\n        - Add documentation for environment variable in Auth::Basic\n        - Some Metadata cleanup and Travis CI\n\n1.0023  2013-04-08 11:13:11 PDT\n    [IMPROVEMENTS]\n        - Use Apache::LogFormat::Compiler in AccessLog (kazeburo)\n\n1.0022  2013-04-02 12:37:42 PDT\n    [BUG FIXES]\n        - Fixed a major bug in 1.0020-1.0021 where posix_default prevents arbitrary arguments\n          for plackup-compat (e.g. starman) to handle them (Thanks to justnoxx) Starman#66\n\n    [IMPROVEMENTS]\n        - Fixed test warnings (Keedi Kim)\n\n1.0021  2013-04-02 11:20:00 PDT\n        - Repackage with Milla v0.9.6 #392\n\n1.0020  2013-04-01 19:34:54 PDT\n    [INCOMPATIBLE CHANGES]\n        - Enable posix_default and gnu_compat in plackup Getopt, so that ambiguous\n          option names do not match with long options accidentally\n\n    [IMPROVEMENTS]\n        - Document fix for the AccessLog (ether)\n        - Special-case Content-Length and Content-Type for %{}i in AccessLog format #387\n\n\n1.0019  2013-04-01 17:58:25 PDT\n        - Trial release with Milla\n\n1.0018 Fri Mar  8 10:43:45 PST 2013\n    [IMPROVEMENTS]\n        - Performance boost in Plack::Request#query_parameters (lestrrat)\n        - Added custom log formats for %m, %U, %q and %H (Hiroshi Sakai)\n        - Fixed warnings in SimpleContentFilter (earino)\n\n    [DOCUMENTATION]\n        - Added docs about plackup --path\n        - Added docs about using manager object in Plack::Handler::FCGI\n\n1.0017-TRIAL Thu Feb  7 19:21:24 PST 2013\n    [INCOMPATIBLE CHANGES]\n        - Gives you warnings when you use one of Plack::App objects in `plackup -e` or\n          in .psgi files but forgot to call ->to_app to make it a PSGI application (#369)\n          Still automatically converts them for backward compatibility, but in the\n          loading time inside Plack::Builder.\n\n    [BUG FIXES]\n        - chdir to the CGI path when executing CGIBin (#338, #368)\n\n1.0016 Thu Jan 31 13:21:14 PST 2013\n    [SECURITY]\n        - Fixed directory traversal bug in Plack::App::File on win32 environments\n\n    [INCOMPATIBLE CHANGES]\n        - Updated Plack::Builder OO interface to be more natural. Still keeps backward\n          compatible to the old ->mount() and ->to_app() interface.\n\n    [NEW FEATURES]\n        - Static middleware 'path' callback now takes $env as a 2nd argument (avar)\n        - Static middleware takes 'content_type' callback to determine custom MIME (pstadt)\n\n    [IMPROVEMENTS]\n        - Fixed regexp warning for blead (doy)\n        - Documentation update for AccessLog::Timed to suggest Runtime (ether)\n        - Ignore vim swap files on restarter (nihen)\n        - Major doucmentation overhaul on Apache2 startup files (rkitover, avar)\n\n1.0015 Thu Jan 10 15:19:17 PST 2013\n    [BUG FIXES]\n        - Fixed Lint complaining about Latin-1 range characters stored internally with\n          utf8 flag on (Mark Fowler)\n        - HTTP::Message::PSGI::res_from_psgi now always returns empty string\n          for an empty response body, so streamed responses are consistent with\n          non-streamed (ether)\n\n1.0014 Mon Dec  3 10:27:43 PST 2012\n    [BUG FIXES]\n        - Fixed Hash order in tests for perl 5.17 (doy)\n        - Fixed StackTrace tests to run with Devel::StackTrace\n\n    [IMPROVEMENTS]\n        - Plack::Middleware::AccessLog can now log the worker pid and server\n          port (ether)\n\n1.0013  Wed Nov 14 19:46:49 PST 2012\n    [BUG FIXES]\n        - Make sure psgi.input is seeked even when the input is buffered (Getty, leedo)\n        - Delete invalid (empty) CONTENT_LENGTH and CONTENT_TYPE in FCGI (Getty, leedo)\n\n1.0012  Wed Nov 14 12:00:17 PST 2012\n    [IMPROVEMENTS]\n        - Make conditional middleware work with initialization without an app (doy)\n        - Added force option to BufferedStreaming \n\n1.0011  Sun Nov 11 11:05:30 PST 2012\n    [BUG FIXES]\n        - Fix bad Content-Length that could be caused with mod_perl (avar)\n        - Allow an empty PATH_INFO in Lint per PSGI spec\n\n1.0010  Fri Nov  2 13:30:50 PDT 2012\n    [IMPROVEMENTS]\n        - Added vim .swp files to the default ignore list in Restarter\n        - Check if PATH_INFO begins with / in Lint\n\n1.0009  Tue Oct 23 00:57:16 PDT 2012\n    [BUG FIXES]\n        - Correct fix to address drive letters for Win32\n\n1.0008  Mon Oct 22 18:52:29 PDT 2012\n    [BUG FIXES]\n        - Allow drive letters for absolute paths for plackup and load_psgi #343\n\n1.0007  Sat Oct 20 23:20:20 PDT 2012\n    [IMPROVEMENTS]\n        - Fix test failures with HTTP::Message 6.06. #345\n        - relaxed plackup -R ignore files and directoris. #260\n\n1.0006  Thu Oct 18 16:06:15 PDT 2012\n    [INCOMPATIBLE CHANGES]\n        - plackup foo.psgi will not search the file in @INC anymore before the current directory\n          See https://github.com/plack/Plack/pull/343 for details (miyagawa)\n\n    [NEW FEATURES]\n        - plackup --path /foo will mount the application under /path (mattn)\n\n    [BUG FIXES]\n        - AccessLog: Fix the timezon offset for certain timezones\n        - ErrorDocument: support streaming interface\n\n1.0005  Tue Oct  9 13:33:47 PDT 2012\n    [NEW FEATURES]\n        - Support psgix.cleanup handlers in Apache2 (avar)\n        - Added REMOTE_PORT environment variable to HTTP::Server::PSGI (dex4er)        \n\n    [IMPROVEMENTS]\n        - Documentation fix for multiple cookie values (miyagawa)\n        - Delete MOD_PERL environment variable for better compatibilities (avar)\n        - Split out Plack::TempBuffer as a standalone Stream::Buffered module (doy)\n        - Bump Test::TCP dep\n\n1.0004  Thu Sep 20 08:36:11 JST 2012\n    [NEW FEATURES]\n        - Added psgix.harakiri support in HTTP::Server::PSGI\n\n    [IMPROVEMENTS]\n        - Preload TempBuffer modules (avar)\n        - Documentation fixes (autarch)\n\n1.0003  Wed Aug 29 13:44:53 PDT 2012\n    [BUG FIXES]\n        - Fix Basic authentication error in case password contains a colon #319\n        - Fix AccessLog middleware in platforms where %z strftime is not supported #318\n        - Escape $_ in Plack::Request path method due to a possible URI::Escape bug\n\n1.0002  Mon Aug 13 17:04:25 PDT 2012\n    [NEW FEATURES]\n        - Added --no-default-middleware option to plackup #290\n\n    [BUG FIXES]\n        - Use C locale for AccessLog strftime #313\n        - Escape Plack::Request URI path using RFC 3986 definition (ssmccoy)\n\n    [IMPROVEMENTS]\n        - Documentation improvements (ether, Tom Heady)\n        - Skip displaying \"..\" in Plack::App::Directory #277\n        - Document load_class() doesn't validate user input. #285\n\n1.0001  Thu Jul 26 16:24:13 PDT 2012\n    [INCOMPATIBLE CHANGES]\n        - Deleted lots of code, methods and warnings that have been deprecated since 0.99\n          (which should have been done in the 1.0000 release)\n\n    [DEVELOPERS]\n        - Added bootstrap script to install devel dependencies\n\n    [IMPROVEMENTS]\n        - Fixed version numbers in some of the modules that have their own $VERSION\n\n1.0000  Thu Jul 19 18:59:18 PDT 2012\n        - This be 1.0! (Same as 0.9991)\n\n0.9991  Thu Jul 19 17:27:52 PDT 2012\n    [NEW FEATURES]\n        - Added IIS7 fix middleware (t0m)\n\n0.9990  Wed Jul 18 11:12:07 PDT 2012\n    [INCOMPATIBILE CHANGES]\n        - Plack::Request changes the way it parses QUERY_STRING for valueless keys such as\n          \"?a&b=1\". Now \"a\" becomes part of query_parameters with empty string as its value (yannk)\n\n    [IMPROVEMENTS]\n        - Support max-age options in Plack::Response cookies (remorse)\n        - Pass correct protocol from HTTP::Server::PSGI to display https URL correctly (siracusa)\n        - Copy Authorization header from FastCGI handler (ray1729)\n        - Stop special casing COOKIE environment variable in Plack::Request headers (doy)\n\n0.9989  Thu Jun 21 13:39:11 PDT 2012\n    [IMPROVEMENTS]\n        - Support streaming in Head middleware (wreis)\n        - Document middleware prefixing (Jon Swartz)\n        - Make Basic authentication detection case insensitive per RFC (Mark Fowler)\n        - Added backlog option to FCGI handler (xaicron)\n\n0.9988  Fri May 11 12:25:09 CEST 2012\n    [BUG FIXES]\n        - Fixes HTTP_HOST in HTTP::Message::PSGI #287 (doy)\n\n0.9987  Thu May 10 07:06:32 CEST 2012\n    [IMPROVEMENTS]\n        - Support streaming in AccessLog::Timed (Peter Makholm)\n        - Support streaming in ErrorDocument\n        - Removed UTF8 hack in HTTP::Message::PSGI. Depends on URI.pm 1.59 (wreis)\n        - Set Host headers correctly in HTTP::Message::PSGI #177\n        - Added documentation on supported %-flags in AccessLog (ether)\n        - Skip unnecessary tests on non-developer environment\n\n0.9986  Mon Mar 12 11:26:59 PDT 2012\n    [IMPROVEMENTS]\n        - Use I/O handles to FCGI::Request instead of global STDIN, STDOUT etc. (chansen)\n        - Improved FastCGI docs (osfameron)\n        - Cascade app now returns the last response code (aristotle)\n\n0.9985  Mon Oct 31 13:11:19 PDT 2011\n    [BUG FIXES]\n        - Short circuit Plack::Handler fallback to avoid %INC bugs in perl 5.8 (mst)\n        - Fixed Makefile.PL to avoid Test::SharedFork interferring with Module::Install (ambs)\n\n0.9984  Mon Oct  3 09:55:05 PDT 2011\n    [BUG FIXES]\n        - WrapCGI: Close wrapped CGI's STDIN handle (rwstauner)\n\n    [IMPROVEMENTS]\n        - WrapCGI: improved docs (chromatic)\n        - Request: Do not destroy HTTP::Body upload headers (mst)\n\n0.9983  Tue Sep 27 09:55:48 PDT 2011\n    [BUG FIXES]\n        - Fixed a typo in nginx FastCGI configuration\n        - Clone HTTP headers in Response->finalize #237 (chip)\n        - Fixed Directory app not displaying the right path in its title\n        - Changed IPv6 default listen address to wildcard (ollyg)\n        - Fixed the FastCGI handler with web-server mode on Win32\n\n    [NEW FEATURES]\n        - Added psgix.harakiri for Apache handlers\n\n    [IMPROVEMENTS]\n        - Prefer Corona when Coro is detected #236 (chip)\n        - Increased Pod::Usage dependency\n        - Improved Plack::Test documentation (chromatic)\n        - Lint now checks if SCRIPT_NAME eq '/' which is forbidden in the spec (chromatic)\n\n0.9982  Tue Jul 19 13:07:35 PDT 2011\n    [BUG FIXES]\n        - Fixed the bug in restarter introduced in 0.9980 (nihen) #223 #234\n        - Removed a debug statement left over in Plack::Util\n        - Fixed warnings in Lint\n\n0.9981  Mon Jul 18 17:24:11 PDT 2011\n    [BUG FIXES]\n        - Plack::Request: Added a sanity check to remove newlines from headers to follow\n          the PSGI specification #224\n        - HTTPParser::PP: Fixed warnings #225\n        - plackup now prints errors to psgi.errors rather than STDERR\n        - Fixes issues with undef returned from streaming handler in middleware #231\n        - ContentLength: Do not auto-add Content-Length from block devices, pipes and\n          character files\n\n    [NEW FEATURES]\n        - HTTPExceptions: Support ->as_psgi method on exceptions (doy)\n        - FastCGI: Support psgix.harakiri\n\n    [IMPROVEMENTS]\n        - Lint: Added more checks to validate header values\n        - StackTrace: Strip caller information since it is not useful anyway\n        - HTTPExceptions: Added rethrow option (doy)\n        - Misc. doc fixes on plackup (chromatic)\n        - binmode STDIN for CGI handler for Win32 #218\n        - Remove the test that tests Server specific handling of Transfer-Encoding\n        - Fixed POD link (audreyt)\n\n0.9980  Mon Jun  6 20:24:25 PDT 2011\n    [BUG FIXES]\n        - Fixed a bug where restarting loader doesn't terminate children (#209)\n        - Strip URI fragments off of PATH_INFO and QUERY_STRING (#213)\n\n    [IMPROVEMENTS]\n        - Documented -r vs auto server detection caveat\n        - Documented a default AccessLog format (ask)\n        - Support %V in AccessLog formats (ask)\n        - Document PLACK_HTTP_PARSER_PP (melo)\n\n    [NEW FEATURES]\n        - Added experimental IPv6 and SSL support for the built-in HTTP::Server::PSGI\n\n0.9979  Tue May 17 09:54:03 PDT 2011\n    [BUG FIXES]\n        - Fixed Middleware::AccessLog's default %t format to match Apache's format\n        - Fixed a warning in Apache1 handler where PATH_INFO doesn't exist #204\n        - Fixed a bad test relying on new Test::More versions\n\n    [IMPROVEMENTS]\n        - Fixed Lint to accept bare in-memory filehandle per http://stackoverflow.com/questions/6011793/\n        - Added setup_env() to Plack::Handler::CGI (markstos)\n        - Added a non-blocking Hello World example in eg/dot-psgi\n        - Doc cleanup\n\n0.9978  Wed May  4 11:29:12 PDT 2011\n    [TEST FIXES]\n        - Fixed a failing output_encoding.t because of FCGI dependencies\n        - Improved Plack::Test::Suite documentation\n\n0.9977  Sun May  1 12:16:08 PDT 2011\n    [BUG FIXES]\n        - Fixed ConditionalGET to not die with streaming interface (reported by Paul Ervamaa)\n        - Add a reason string to CGI/FastCGI Status header to comply with RFC 3875 (Stephen Clouse)\n        - Fixed a CGI/FastCGI handler to ensure newlines are not mangled on Win32 platforms (Christian Walde)\n\n    [IMPROVEMENTS]\n        - localize @ARGV to empty when evaluating a PSGI application (https://github.com/sukria/Dancer/issues/473)\n        - Fixed the use of Getopt::Long to make the pass_through flag local\n        - Middleware::JSONP now supports more response types such as IO::Handle (reported by Theory)\n\n0.9976  Fri Apr  8 18:07:11 PDT 2011\n    [NEW FEATURES]\n        - Support setting content_type in App::File (ajgb)\n\n    [IMPROVEMENTS]\n        - Document fixes (jhannah)\n        - Skip bad tests failing on LWP 6 (daxim)\n\n0.99_75 Thu Mar 24 11:29:22 PDT 2011\n    [INCOMPATIBLE CHANGES]\n        - builder {} now always returns a PSGI code reference, instead of inconsistently\n          returning URLMap object when mount() is used. (reported by hoelzro)\n        - Plack::Runner now automatically calls ->parse_options() if it hasn't been called,\n          so the sane defaults for plackup can be applied. (reported by arcanez)\n\n    [BUG FIXES]\n        - Fixed the way to override %ENV to avoid test breakages in Win32 #179\n        - Properly append '/' when linking to a directory in Plack::App::Directory (theory)\n\n    [IMPROVEMENTS]\n        - Skips the current directory in Plack::App::Directory\n        - Plack::App::Directory now redirects to a canonical URL that has a trailing slash\n          just like Apache (hobbs)\n        - Fixed some typos and outdated information in the PODs\n\n0.9974  Thu Mar  3 20:55:28 PST 2011\n        - Added a documentation about using relative URI paths beginning with //\n        - Added IIS6ScriptNameFix that fixes SCRIPT_NAME for IIS6 FastCGI, extracted from Catalyst (rafl)\n        - Moved the wrapcgi/exec tests for Win32 #174\n        - Fixed a warning for the new Test::TCP in FCGI testing\n        - Clear %ENV when running the Plack::Test::Suite with Server implementation (hachi)\n\n0.9973  Sat Feb 26 09:40:15 PST 2011\n        - Fixed the regexp in the code check added in 0.9972 (leedo)\n\n0.9972  Thu Feb 24 10:50:01 PST 2011\n        - Fixed the Plack::Runner docs to avoid the cargo cult issue of __FILE__ eq $0\n        - Added a silly check to give warnings if the idiom __FILE__ eq $0 is used in .psgi\n        \n0.9971  Wed Feb 23 14:02:35 PST 2011\n    [INCOMPATIBLE CHANGES]\n        - Localize $0 to the given .psgi path when evaluating it in Plack::Util::load_psgi()\n          This fixes the unexpected values and/or crashes with Starman when your application\n          uses FindBin module.\n\n0.9970  Tue Feb 22 08:35:50 PST 2011\n        - Apache2: Fixed a bug where dispatcher fails to parse first path when it begins with two or\n          more slashes (clkao)\n\n0.9969  Fri Feb 18 21:35:29 PST 2011\n        - Suppress the use of unlocalized $_ in Plack::Runner (mst)\n        - Plack::Handler::Net::FastCGI is now removed from Plack core dist.\n          It will be released as a separate distribution on CPAN.\n        - Fixed Plack::Handler::Apache2 so that it can safely call log (Andy Wardley)\n        - StackTrace: Display graceful fallback errors when $SIG{__DIE__} is overridden in the application (mkanat)\n\n0.9968  Wed Feb  9 19:07:48 PST 2011\n        - Fixed Recursive middleware to rethrow unknown exceptions. #166 (reported by waba)\n        - Document response_cb. #121\n        - Plack::Loader to print errors if it is really a compilation error\n        - Fixed the Cascade app to work with all 404 responses with the streaming interface. #171 (reported by eevee)\n\n0.9967  Tue Jan 25 14:26:37 PST 2011\n        - Fixed StackTrace to require D::ST::WithLexicals 0.08 that supports 'message' (doy)\n\n0.9966  Tue Jan 25 12:00:25 PST 2011\n        - Fixed a memory leak in SimpleLogger (vti)\n        - Support %v in AccessLog (Ranguard)\n        - Force set CONTENT_LENGTH in req_to_psgi when $content is given to HTTP::Request (timbunce) #150\n        - Fixed a case where SCRIPT_NAME and PATH_INFO can both get empty in req_to_psgi (doy) #163\n\n0.9965  Mon Jan 24 23:08:04 PST 2011\n        - Requires Devel::StackTrace 0.11\n        - Fixed a regression where StackTrace wasn't able to get the thrown exception as an error message (hachi)\n\n0.9964  Mon Jan 24 16:29:08 PST 2011\n        - Various documentation improvements (miyagawa, schwern)\n        - Improved the way it eliminates Plack::Middleware::StackTrace from its own stacktrace (Jonathan Swartz)\n\n0.9963  Mon Jan 10 16:46:33 PST 2011\n        - Fixed fcgi.t for lighttpd < 1.4.23 (confound)\n\n0.9962  Sat Jan  8 21:07:30 PST 2011\n        - Same fix as 0.9961 but works around the issues with Strawberry unarchiver\n\n0.9961  Fri Jan  7 21:54:04 PST 2011\n        - Skip directory.t on win32 since the directory \"stuff..\" can't be created [RT:64545]\n\n0.9960  Sat Dec 25 11:16:08 PST 2010\n        - FCGI: Fixed the regression in 0.9958 where PATH_INFO gets wrong value when hosted under a\n          non-root path (ambs)\n        - Improved the FastCGI and Apache2 test infrastructure to test SCRIPT_NAME values\n\n0.9959  Tue Dec 21 11:38:08 PST 2010\n        - Apache2: Fixed the regression bug around LocationMatch caused by fixes in 0.9958 (cho45)\n\n0.9958  Mon Dec 20 15:18:54 PST 2010\n        - Plack::Handler::Apache[12] now handles Authorization: header automatically, no need for\n          mod_rewrite workaround anymore (cho45)\n        - Fixed Apache[12] and FCGI where multiple forward slashes were munged (cho45)\n        - Static: Added pass_through option to pass non-existent paths to the app. Fixing the\n          docs to match with the code (beanz) #154\n\n0.9957  Thu Dec 16 11:27:29 PST 2010\n        - Fixed warnings in Plack::Request cookie parsing (typester)\n        - removed MethodOverride middleware. Now it is a standalone distribution on CPAN (theory)\n\n0.9956  Thu Dec  9 19:32:46 PST 2010\n        - FastCGI: Fixed an empty PATH_INFO with mod_fastcgi (and possibly others)\n        - FastCGI: Improved the automatic detection of the case when invoked from web server. #141\n          (reported by LeoNerd)\n        - plackup: Document that -e 'enable ...' doesn't assume app.psgi when there's no argument. #106 (clkao)\n        - Plack::App::FCGIDispatcher: Remove the Status: header #123 (reported by Htbaa)\n        - Apache2: Work around issues where SCRIPT_NAME gets wrong when LocationMatch is used. #136\n          (reported by atiking)\n\n0.9955  Thu Dec  9 18:02:50 PST 2010\n        - More fixes to a possible directory traversal\n\n0.9954  Thu Dec  9 17:45:59 PST 2010\n        - Fixed a directory traversal bug in Plack::App::File etc. RT:63020\n\n0.9953  Fri Dec  3 14:50:09 PST 2010\n        - Include the original error message in the StackTrace text output on console.\n          This requires Devel::StackTrace 1.23 and Devel::StackTrace::WithLexicals 0.08 (optional)\n        - Fixed AccessLog middleware to handle multiple dashes in %{} (Jiro)\n\n0.9952  Thu Dec  2 14:03:48 PST 2010\n        - Fixed the potential deadlocks in WrapCGI's read/write pipe (typester)\n        - Improved documentations on plackup -e\n        - Fixed a potential DoS vulnerability in HTTP::Server::PSGI (kazuho)\n        - Allows setting names of FCGI process with proc_title option (rafl)\n\n0.9951  Mon Oct 25 13:50:33 PDT 2010\n        - Added Feersum to the benchmark script (stash)\n        - Lint: fixed the body handle check to see if the file has getline() method (tokuhirom)\n        - StackTrace: store the stacktrace in $env->{'plack.stacktrace.text'} and $env->{'plack.stacktrace.html'} (theory)\n        - Added ->mount method to the Plack::Builder OO interface (franckcuny)\n        - HTTPExceptions: Don't set an invalid Content-Length when the exception is not an object (ask)\n        - ErrorDocument: Fixed wrong Content-Length header be set (ask)\n\n0.9950  Thu Sep 30 14:11:33 PDT 2010\n        - Fixed typos in middleware docs (miyagawa, theory, tokuhirom)\n        - App::Directory: fixed URL generation escape bug (chiba)\n        - Middleware::JSONP: support callback parameter name (franck)\n\n0.9949  Tue Sep 14 11:59:36 PDT 2010\n        - Fixed FCGI handler docs\n        - Auth::Basic: Pass $env to the callback so .htpasswd based auth can be implemented with PATH_INFO (doy)\n\n0.9948  Thu Sep  9 16:01:53 PDT 2010\n        - Fixed a bug introduced in 0.9947 where $req->upload loses the temporary files when\n          Plack::Request object is instantiated multiple times. It could happen if one of the\n          pre-processing middleware uses Plack::Request and then again in the application or\n          frameworks.\n\n0.9947  Thu Sep  9 02:26:14 PDT 2010\n        - Plack::Loader: Fixed a typo in ENV that prevents warnings messages in development\n        - Added flymake temporary file in Restarter (hirose31)\n        - Plack::Request: Fixed a bug that HTTP::Body temporary files were not cleaned up (plu)\n        - Middleware::AccessLog: Fixed a bug where %{key}i ignores the value '0' (nekoya)\n\n0.9946  Sat Aug 28 22:32:16 PDT 2010\n        - Fixes UUV warnings in Apache2 handler RT:60472\n        - Fixed various test failures due to dependencies\n\n0.9945  Thu Aug 19 16:24:30 PDT 2010\n        - Support executing (non-perl) CGI scripts in CGIBin and WrapCGI\n        - Fixed tests for win32\n\n0.9944  Sun Aug  8 23:35:52 PDT 2010\n        - Fixed Restarter for Starlet where SIGTERM doesn't quit the process (chiba)\n\n0.9943  Fri Jul 30 13:24:15 PDT 2010\n        - Updated Apache* handler so it could duck type on Loader (jnap)\n        - Added --access-log to plackup (grantm)\n        - Added support for streaming stdio in Net::FastCGI handler (chansen)\n\n0.9942  Fri Jul 23 23:42:43 PDT 2010\n        - Allow passing FCGI manager object to Handler::FCGI (confound)\n        - Call FCGI::Request::Finish() before pm_post_dispatch (confound)\n        - Moved response_cb() to Plack::Util (confound)\n        - re-enable WithLexicals now that PadWalker segfaults with 5.12 is fixed #98\n\n0.9941  Thu Jul  8 18:17:30 PDT 2010\n        - Makes Lint not warn about ASCII-only strings with UTF8 flag because they're safe\n\n0.9940  Fri Jul  2 23:37:51 PDT 2010\n        - Fixed META.yml\n\n0.9939  Fri Jul  2 17:56:10 PDT 2010\n        - Improved middleware documentation (miyagawa, leedo, bobtfish)\n        - Added a test about Transfer-Encoding with Content-Length: 0 (chiba)\n        - Fixed NullLogger middleware (haarg)\n        - Fixed Plack::Util inline object's can() (haarg)\n        - Middleware::HTTPException now honors ->location method of the exception (frodwith)\n        - Middleware::AccessLog: Fixes %D to be microsec so it's compatible to Apache #119 (cho45)\n        - Fixed Plack::Request->uri when PATH_INFO conatins URI reserved characters #118 (leedo)\n\n0.9938  Sun May 23 17:13:05 PDT 2010\n        - ErrorDocument: Added Content-Length to error responses (hachi)\n        - Improved docs about conditional middleware loading\n        - XSendfile: Updated (undocumented) environment key to switch frontend\n        - Auth::Basic: Added notes about how to use it with Apache (mod_perl and CGI) [RT #57436]\n\n0.9937  Fri May 14 23:11:27 PDT 2010\n        - Fixed -I broken in 0.9936 (juster) #114\n\n0.9936  Fri May 14 15:58:02 PDT 2010\n        - Remove 'use lib \"lib\"' from plackup\n        - Remove HTTP_CONTENT_* environment variables in FastCGI handlers to deal with buggy web servers.\n          (Justin Davis)\n\n0.9935  Wed May  5 15:17:06 PDT 2010\n        - Set an empty PATH_INFO if CGI environment doesn't set so (hachi) #109\n        - Fixed a possible weird combination of SCRIPT_NAME and PATH_INFO in CGI handlers\n        - localize PATH_INFO and SCRIPT_NAME in App::File and subclasses #100\n        - updated COPYRIGHT notice for Debian\n        - Middleware::StackTrace now displays text trace to psgi.errors like Rack::ShowExceptions\n          (castaway, theorbtwo)\n        - Middleware::StackTrace: Fixed the text stack trace format to be more readable\n\n0.9934  Tue May  4 15:47:33 PDT 2010\n        - Added a test in CGIBin where binmode \":utf8\" causes bad content-length #110\n        - Doc fix for the deprecated servers\n        - Initialize Module::Refresh (hiratara)\n        - Added mime_type to ErorrDocument (kakuno)\n\n0.9933  Tue Apr 27 14:32:23 PDT 2010\n        - refactored the app.psgi loading error handling\n        - Enable type checking of the app in Lint->wrap\n        - allow plackup -e'...'\n        - Disable FCGI::Client/Net::FastCGI test by default\n\n0.9932  Mon Apr 19 15:23:55 JST 2010\n        - Enable Lint middleware by default in the development env\n        - Lint middleware now validates $app on startup\n        - Fixed documentations on middleware and handlers\n\n0.9931  Fri Apr 16 23:52:27 PDT 2010\n        - replace kyoto.jpg test image file with smaller baybridge.jpg to strip down the tarball size\n          from 2.5MB to 212KB.\n\n0.9930  Tue Apr 13 20:18:06 PDT 2010\n        - Added Plack::Handler::Net::FastCGI (chansen)\n        - Made Test::TCP a hard dependency since Plack::Test needs it\n        - Added Delayed loader for Starlet and Starman (clkao)\n        - Hide logger middleware from log4perl's caller stack (haarg)\n\n0.9929  Wed Mar 31 00:33:10 PDT 2010\n        - Middleware::JSONP: Simplified code and does not support IO response body type\n        - fcgi.t: skip tests with lighttpd < 1.4.17 per CPAN Testers #7040400\n\n0.9928  Mon Mar 29 17:02:42 PDT 2010\n        - log_dispatch.t: require Log::Dispatch::Array\n\n0.9927  Mon Mar 29 12:43:44 PDT 2010\n        - require newer Log::Dispatch (confound)\n        - StackTrace: Encode exceptions in utf-8 in case they include wide characters #95 (tokuhirom)\n        - StackTrace: Depends on a new Devel::StackTrace::AsHTML that escapes wide characters\n        - StackTrace: Display stacktrace only if the thrown exception is a direct error #91 (frodwith)\n        - StackTrace: Added 'force' option to force stacktrace in 500 errors\n        - Avoid warnings when response_cb filter returns undef in ARRAY response body #92 (hiratara)\n        - URLMap: Ignore port number if it matches with SERVER_PORT #90 (omega)\n        - URLMap: Enable debug print with PLACK_URLMAP_DEBUG=1 #94\n        - JSONP: Fixed possible infinite-loop when using with IO response body (hiratara)\n        - Fixed the compatiblity issues with FastCGI docs and tests with lighttpd 1.4.26 (tadam)\n        - LighttpdScriptNameFix: Added 'script_name' option (tadam)\n\n0.9926  Sun Mar 28 14:37:03 PDT 2010\n        - Added -v|--version option to plackup and the ability for Plack::Runner users to override\n\n0.9925  Sat Mar 27 19:03:57 PDT 2010\n        - Make this a non-devel release\n\n0.99_24 Sat Mar 27 13:31:51 PDT 2010\n        - Disable Devel::StackTrace::WithLexicals for now until PadWalker RT #55242 is fixed\n\n0.99_23 Sat Mar 27 01:02:24 PDT 2010\n        - Dropped keep-alive code from HTTP::Server::PSGI now that Starlet clones the code\n        - Special case --disable-* and --enable-* command line options in plackup and Plack::Runner\n\n0.99_22 Thu Mar 25 19:48:08 PDT 2010\n        - INCOMPATIBLE: removed --max-workers option from the default standalone server.\n          Now it gives you warnings and falls back to the single process mode.\n\n0.99_21 Thu Mar 25 15:05:53 PDT 2010\n        - INCOMPATIBLE: removed a workaround for lighttpd SCRIPT_NAME bug in FCGI handler\n          See http://github.com/plack/Plack/issues#issue/68 for details.\n        - HTTPException now logs standard exceptions to psgi.errors\n        - micro optimization for Plack::Request content() method\n\n0.9920  Thu Mar 18 23:48:06 PDT 2010\n        - Fixed URL path prefix matching in URLMap (hiratara)\n        - Fixed Plack::Request->content on GET with FastCGI servers (sunnavy)\n        - Added new middleware Middleware::Head\n        - Fixed localization bug in Plack-Util/load.t\n\n0.9919  Wed Mar 17 22:50:09 PDT 2010\n        - Properly rethrow .psgi compilation errors\n\n0.9918  Wed Mar 17 22:35:00 PDT 2010\n        - Load .psgi file in an unique package rather than Plack::Util to avoid\n          namespace pollution gh-88\n\n0.9917  Wed Mar 17 15:33:43 PDT 2010\n        - Added Plack::Handler::Apache2::Registry (hiratara)\n        - Set default PLACK_ENV in Plack::Util::load_psgi\n\n0.9916  Fri Mar 12 12:52:39 JST 2010\n        - Added support for a new (renamed) web server Corona\n        - Document enable coderef in Plack::Middleware (clkao)\n        - Middleware::StackTrace: Send plain text errors to clients that probably do\n          not understand HTML like curl\n\n0.9915  Mon Mar  8 18:22:33 JST 2010\n        - Fixed a dumb bug in Plack::Handler::Apache2, broken in 0.9914 (hiratara)\n        - Added a warning if you misuse mount()\n\n0.9914  Wed Mar  3 16:02:38 PST 2010\n        - Fixed psgix.io and nested closure for perl 5.8 (hiratara)\n        - Added an inheritance friendly Apache2 interface (frodwith)\n        - HTTP::Server::PSGI: Close client connection in the first run (hirose31)\n        - Fixed Loader/auto.t to reset env var (gugod)\n\n0.9913  Thu Feb 25 19:14:40 PST 2010\n        - Revive psgix.io in HTTP::Server::PSGI (hiratara)\n        - Fix packaging issue\n\n0.9912  Thu Feb 25 01:28:21 PST 2010\n        - Fixed the possible source of memory leak in middleware + streamer + HTTP::Server::PSGI\n          with perl 5.8.x (hiratara)\n\n0.9911  Tue Feb 23 01:55:04 PST 2010\n        - Removed psgix.io extension to fix streaming choke issue on HTTP::Server::PSGI (tomyhero)\n\n0.9910  Mon Feb 22 19:03:17 PST 2010\n        - This is the first non-dev release since 0.99. Read all the change logs below.\n        - Support streaming in JSONP (hiratara)\n        - Fixed various handler docs (markstos)\n        - Added Starman and Twiggy to benchmark script\n        - INCOMPATIBLE: Loader now prefers Twiggy when AnyEvent is loaded\n        - Implemented (experimental) psgix.io and psgix.input.buffered extensions\n        - Fixed Plack::Request POST parser to use psgix.input.buffered for better performance\n        - Added PLACK_ENV environment support in plackup #63\n        - Added HTTPExceptions middleware\n        - Added Recursive middleware\n\n0.99_05 Wed Feb 10 12:46:05 PST 2010\n        - Changed the Loader command line options to -L from -l\n        - Runner now folds --host, --port and --socket to --listen and vice verca\n        - Added -D and --daemonize to plackup/Runner standard options\n        - Fixed FCGI handler to work with the new --listen and --daemonize option\n        - Fixed a bug in static.t where it chdir's before loading modules\n        - Renamed Writer to BufferedStreaming middleware and added docs\n        - Support streaming apps in Shotgun loader\n        - Falls back to Standalone handler when auto-detected backend is not available (hiratara)\n        - Support chunked-input in HTTP::Request->to_psgi\n        - Make the Reloader work with preforked server (chiba)\n        - Added 'Auto' backend in TempBuffer\n        - Added Nomo backend to the benchmark script\n        - Updated HTTP::Server::PSGI to support experimental psgix.input.buffered\n        - Plack::Request now honors psgix.input.buffered to see psgi.input is seekable\n        - Renamed Standalone handler to HTTP::Server::PSGI for consistency while keeping\n          'Standalone' as a nickname\n\n0.99_04 Fri Feb  5 23:10:48 PST 2010\n        - Updated Test suite for multiple request headers to relax a bit for AE::HTTPD\n        - Added a test for large POST body which revealed FCGI::Client bug\n        - Added a handler for HTTP::Server::Simple::PSGI\n        - Depend on a decent version of URI (tomyhero)\n        - Reworked Loader API so the default loader can autodetect the backend again\n        - run_app now doesn't use Try::Tiny but use plain eval {}\n\n0.99_03 Wed Feb  3 16:09:14 PST 2010\n        - Use 0 as a default address in the server_ready hook in Plack::Runner\n        - Document Plack::Handler naming scheme\n        - Fixed how Plack::Server::Standalone saves args\n        - Supported streaming interface in Cascade and URLMap\n        - mentions awesome WSGI Paste in Plack documentation\n        - Removed URI caching in Plack::Request since it's fast enough\n        - Fixed packaging issue due to Module::Install::Share bug (rafl)\n        - Support 'file' option in App::File and its subclasses\n        - Fixed SCRIPT_NAME and PATH_INFO in App::CGIBin\n        - Fixed App::Directory and ::File not to use Path::Class and its canonicalization.\n          It's now 300% faster!\n\n0.99_02 Sat Jan 30 22:10:45 PST 2010\n        - Fixed Plack::TempBuffer to work with 5.8 and 5.11.3\n        - Do not use <$input> in FCGIDispatcher\n        - Skip fcgi_client.t unless explicitly stated (clkao)\n        - clarify and drop some CPAN dependencies (andk)\n\n0.99_01 Fri Jan 29 14:02:04 PST 2010\n  Incompatible Changes\n        - Rename Standalone servers to HTTP::Server::PSGI\n        - Rename Plack::Server adapters to Plack::Handler. These changes should be transparnt\n          since we have a compatible code to work with the older names as well.\n        - Dropped sendfile(2) AIO support from Standalone server\n        - Plack::Request and Response are now in core, deprecating many methods.\n          Read `perldoc Plack::Request` and its INCOMPATIBILITIES section\n\n  New Features\n        - New middleware: WrapCGI to convert a single CGI script into a PSGI applciation\n        - Support psgix.logger and psgix.session in Plack::Request\n        - New logger middleware: NullLogger, SimpleLogger, Log4perl and LogDispatch\n        - Refactored Loader classes and added a new Shotgun loader (like rack's Shotgun)\n        - Added -l option to plackup which specifies the Loader backend\n        - New middleware: Refresh reloads modules in %INC in every N seconds\n        - Wraps -e code with 'builder { }' by default. You can also use with *.psgi to add middleware\n          components without editing the file!\n\n  Bug Fixes and Improvements\n        - Do not call ->canonical in HTTP::Message::PSGI to keep the URI encoded params in Plack::Test\n          tests (rafl, t0m)\n        - Fixed a bug in stupid corner case in HTTP::Message::PSGI where passed URI has UTF-8 encoded\n          strings *and* URI escaped UTF-8 bytes. (chmrr)\n        - Depend on new HTTP::Request::AsCGI that has better REQUEST_URI\n        - Plack::Runner/plackup does not autoload AccessLog in CGI mode anymore\n        - Added server_ready hook to PSGI servers so you can disable them in tests etc. (clkao, rafl)\n        - Escape user-supplied values in AccessLog to avoid control sequence injection (tokuhirom, kazuho)\n        - Support -foo (single dash) style option in Plack::Runner and plackup\n        - Relax the runtime.t check since it still fails on low-res time environments\n        - Now depends on Digest::MD5, HTTP::Body and Hash::MultiValue\n        - Revert the 'require' in load_psgi to do 'do'\n        - Delay load unnecessary modules in Plack::Runner\n        - Fixed psgi.multiprocess value on HTTP::Server::PSGI\n        - PSGI/1.1 support in Lint\n\n0.9031 Mon Jan 11 11:29:04 PST 2010\n        - Fixed Plack::App::Directory directory listing by switching to Plack::MIME (tokuhirom)\n          This has been broken since 0.9025\n        - Fixed body filtering middleware such as Plack::Middleware::Deflater (hiratara)\n          This has been broken since 0.9026\n\n0.9030 Sat Jan  9 13:13:17 PST 2010\n        - Support streaming interface in HTTP::Message::PSGI, Lint and Plack::Test (rafl)\n        - plackup -e doesn't enable strict and warnings by default, like perl\n        - Improved Middleware::Auth::Basic performance and error check\n\n0.9029 Thu Jan  7 19:09:17 PST 2010\n        - Fixed runtime.t to relax test condition to avoid failures on Win32 (xaicron)\n        - Fixed a bug in FCGI engine where it creates a bogus response when running under a\n          buffered I/O with lighttpd. (fcharlier, typester)\n        - FCGI and CGI server now autoflushes STDOUT to do non-buffering output\n        - Fixed a Plack::MIME bug where extensions like .mp3 fails\n\n0.9028 Tue Jan  5 18:42:07 PST 2010\n        - Fixed a long standing bug where errors are not printed correctly when the\n          application dies. (tokuhirom)\n        - Fixed FCGIClient passing bogus psgi.* environment values to the backend\n        - Implemented psgi.streaming in all blocking servers (miyagawa, rafl)\n\n0.9027 Sun Jan  3 16:33:23 PST 2010\n        - Added new middleware Runtime that adds X-Runtime header\n        - Delay load Pod::Usage in Plack::Runner and plackup\n\n0.9026 Fri Jan  1 10:35:26 JST 2010\n        - Auth::Basic now accepts an object that duck types to ->authenticate (e.g. Authen::Simple)\n        - Reworked how response_cb body callback works, so Content-Length will be updated correctly\n\n0.9025 Sat Dec 26 10:11:59 JST 2009\n        - Server::Standalone::* should now display the correct Server: value\n        - Fixed a bug in AccessLog::Timed where %D and %T do not work\n        - Fixed a bug in AccessLog::Timed to work with filehandles\n        - Removed a dependency to MIME::Types and include Plack::MIME\n        - Refactored plackup into Plack::Runner\n        - Fixed a failing test under stupid Win32 filesystem\n        - Fixed ConditionalGET to work with delayed response\n\n0.9024 Sat Dec 19 12:25:52 PST 2009\n        - Overwhauled how -r and -R works in plackup. Looks at .psgi and lib/ under that by default.\n\n0.9023 Thu Dec 17 13:16:38 PST 2009\n        - Document the use of Plack:: namespace\n        - Use safer Unicode characters in tests to silence warnings #66\n        - Plack::Util::load_psgi now takes a class name as well. Added notes about the security of its use\n        - Set default host in MockHTTP and keep them if explicitly set (nihen)\n\n0.9022 Sun Dec 13 10:53:01 PST 2009\n        - Added more assertions to Middleware::Lint\n        - Added a new test to test big HTTP header, which reveals the FCGI::Client bug (zrail, tokuhirom)\n        - plackup -e now automatically loads Plack::Builder\n        - Fixed fcgi tests (tokuhirom)\n        - Fixed Test::MockHTTP to make 500 response when the app died\n        - Fixed a memory leak in StackTrace when WithLexicals is used (chiba, Sartak)\n        - Fixed Middleware::ConditionalGET to deal with stupid IE headers (chiba)\n        - Fixed lots of typos (Sartak)\n\n0.9021 Tue Dec  8 14:29:08 PST 2009\n        - Doc patches to Plack about CONTRIBUTING (stevan)\n        - Remove Class::Accessor::Fast and added Plack::Util::Accessor (stevan)\n        - Added Plack::Component the common base class for both App:: and Middleware (stevan)\n        - Plack::Test test_psgi now accepts $app, $client in positional args\n        - Plack::Test client callback can now omit host names like $cb->(GET \"/\")\n\n0.9020 Mon Dec  7 10:38:37 GMT 2009\n        - Fixed a test (psgibin.t) failure in case sensitive filesystem\n        - Fixed a warning in Plack::Util::header_set\n\n0.9019 Sun Dec  6 05:56:30 GMT 2009\n        - Fixed a bug in Plack::Util::header_set when to clear multiple headers (chiba)\n        - Added Plack::App::CGIBin that runs cgi-bin scripts as a PSGI application\n        - Added Plack::App::PSGIBin that loads .psgi files from local filesystem\n\n0.9018 Thu Dec  3 00:48:04 PST 2009\n        - Allow Plack::Middleware->new to accept plain hashes\n        - Added Plack::App::Cascade to create a compound apps that cascade requests\n        - Added POE backend to benchmarks/ab.pl\n        - Implemented Plack::Server::Apache[12]->preload to preload apps in <Perl> or startup file\n\n0.9017 Sun Nov 29 17:33:36 JST 2009\n        - Fixed more tests that fail on Win32 (charsbar)\n\n0.9016 Sun Nov 29 16:39:40 JST 2009\n        - removed Middleware::Deflater from the dist.\n        - Fixed Standalone so as not to use Time::HiRes::Alarm on Win32 systems (charsbar, kazuho)\n        - Fixed App::File to set file path using forward slashes on Win32 (charsbar) #49\n\n0.9015 Thu Nov 26 17:31:33 JST 2009\n        - Fixed a bug in URLMap where $env is shallow copied and some middleware don't work\n        - Added -e and -M to plackup\n        - plackup -r with args (directories to watch) is deprecated. Use -R instead\n        - plackup foo.psgi now DWIMs. -a (--app) continues to work\n        - Optimizaitons to Middleware and docs to explicitly call to_app because overloading happens\n          every request and is inefficient.\n        - The abilitiy to auto-select server backends for POE/AnyEvent/Coro is restored. Doesn't work with -r though. #50\n        - Display server package name in the Standalone/Prefork startup\n        - Fixed a bug in Plack::Test::MockHTTP where $res doesn't return the request (teejay)\n        - Fixed a bug in URLMap where requests to / fails in some cases (chiba)\n\n0.9014 Fri Nov 20 21:51:47 PST 2009\n        - Updated docs for Standalone keep-alive options\n        - Added Auth::Basic middleware\n        - Fixed dependencies and MakeMaker issues in the archive\n\n0.9013 Wed Nov 18 18:26:31 PST 2009\n        - Disable keep-alive in Standalone by default (kazuho, frew)\n        - Fixed a bug in Standalone where 'timeout' property is ignored in the first request (kazuho)\n        - Fixed a documentation bug in Middleware::Conditional (confound, scook)\n       \n0.9012 Tue Nov 17 13:38:38 PST 2009\n        - Added Middleware::Conditional and enable_if DSL for dynamic builder (scook)\n\n0.9011 Thu Nov 12 03:53:28 PST 2009\n        - Added Apache1 support (Aaron Trevena)\n\n0.9010 Wed Nov 11 23:18:37 PST 2009\n        - You can now omit Plack::Middleware:: in Builder DSL's enable()\n\n0.9009 Sat Nov  7 20:43:17 PST 2009\n        - Fixed dependencies for tests\n\n0.9008 Tue Oct 27 14:15:28 PDT 2009\n        - Removed optional deps from Makefile.PL and moved them to Task::Plack (mst)\n        - Make some middleware deps as required to make it simple, for now\n\n0.9007 Sat Oct 24 17:41:33 PDT 2009\n        - Fixed Server::CGI to really inline fuctions to avoid warnings\n        - Fixed Middleware::AccessLog to let %{..}t strftime log format work (beppu)\n        - Fixed a flush bug in gzip encoding in Middleware::Deflater\n        - Fixed a bug in Middleware::AccessLog so POSIX strftime always works in English (fayland)\n        - Added Middleware::ContentMD5 (Fayland)\n        - Fixed plackup -r to actually reload the application code (robinsmidsrod)\n\n0.9006 Fri Oct 23 01:21:13 PDT 2009\n        - Support streaming interface in most middlewares\n        - Added Middleware::Deflater (not recommended to use: see POD)\n        - Document FCGI configuration in Server::FCGI pod (dhoss)\n        - Inline Plack::Util functions in Server::CGI to speed up (mst)\n\n0.9005 Wed Oct 21 20:53:19 PDT 2009\n        - Switch to Filesys::Notify::Simple to watch directory to trim down deps\n        - Made some dependencies optional since they're actually optional\n\n0.9004 Tue Oct 20 22:57:48 PDT 2009\n        - Fixed File::ShareDir dependency (mst)\n        - App::File and Middleware::Static now auto follows symlinks (chiba)\n        - Implemented plackup -r as Plack::Loader::Reloadable (nothingmuch)\n        - Removed poll_cb from Writer middleware\n        - Added plackup common command line options: -o for --host and -p for --port \n\n0.9003 Sun Oct 18 19:16:26 PDT 2009\n        - Added POE to Plack::Loader autoload\n        - Implemented callback style streaming in selected middlewares\n        - Bump up HTTP::Parser::XS to fix memory leaks\n        - Added Middleware::Chunked\n        - Added Middleware::JSONP\n        - Added twitter-stream.psgi example to do streaming server push\n        - Fixed Middleware::StackTrace to DWIM in framework generated 500 errors\n        - Fixed Restarter to do what doc says\n\n0.9002 Wed Oct 14 11:26:28 PDT 2009\n        - Added a workaround in Server::Apache2 when Location and SCRIPT_NAME don't match\n        - Use Try::Tiny and parent for smaller memory footprint and better error handling\n\n0.9001 Tue Oct 13 00:55:34 PDT 2009\n        - Downgrade EUMM in inc/\n\n0.9000 Tue Oct 13 00:14:01 PDT 2009\n        - original version\n", "package Plack::App::File;\nuse strict;\nuse warnings;\nuse parent qw/Plack::Component/;\nuse File::Spec::Unix;\nuse Cwd ();\nuse Plack::Util;\nuse Plack::MIME;\nuse HTTP::Date;\n\nuse Plack::Util::Accessor qw( root file content_type encoding );\n\nsub should_handle {\n    my($self, $file) = @_;\n    return -f $file;\n}\n\nsub call {\n    my $self = shift;\n    my $env  = shift;\n\n    my($file, $path_info) = $self->file || $self->locate_file($env);\n    return $file if ref $file eq 'ARRAY';\n\n    if ($path_info) {\n        $env->{'plack.file.SCRIPT_NAME'} = $env->{SCRIPT_NAME} . $env->{PATH_INFO};\n        $env->{'plack.file.SCRIPT_NAME'} =~ s/\\Q$path_info\\E$//;\n        $env->{'plack.file.PATH_INFO'}   = $path_info;\n    } else {\n        $env->{'plack.file.SCRIPT_NAME'} = $env->{SCRIPT_NAME} . $env->{PATH_INFO};\n        $env->{'plack.file.PATH_INFO'}   = '';\n    }\n\n    return $self->serve_path($env, $file);\n}\n\nsub locate_file {\n    my($self, $env) = @_;\n\n    my $path = $env->{PATH_INFO} || '';\n\n    if ($path =~ /\\0/) {\n        return $self->return_400;\n    }\n\n    my $docroot = $self->root || \".\";\n    my @path = split /[\\\\\\/]/, $path, -1; # -1 *MUST* be here to avoid security issues!\n    if (@path) {\n        shift @path if $path[0] eq '';\n    } else {\n        @path = ('.');\n    }\n\n    if (grep $_ eq '..', @path) {\n        return $self->return_403;\n    }\n\n    my($file, @path_info);\n    while (@path) {\n        my $try = File::Spec::Unix->catfile($docroot, @path);\n        if ($self->should_handle($try)) {\n            $file = $try;\n            last;\n        } elsif (!$self->allow_path_info) {\n            last;\n        }\n        unshift @path_info, pop @path;\n    }\n\n    if (!$file) {\n        return $self->return_404;\n    }\n\n    if (!-r $file) {\n        return $self->return_403;\n    }\n\n    return $file, join(\"/\", \"\", @path_info);\n}\n\nsub allow_path_info { 0 }\n\nsub serve_path {\n    my($self, $env, $file) = @_;\n\n    my $content_type = $self->content_type || Plack::MIME->mime_type($file)\n                       || 'text/plain';\n\n    if (\"CODE\" eq ref $content_type) {\n\t\t$content_type = $content_type->($file);\n    }\n\n    if ($content_type =~ m!^text/!) {\n        $content_type .= \"; charset=\" . ($self->encoding || \"utf-8\");\n    }\n\n    open my $fh, \"<:raw\", $file\n        or return $self->return_403;\n\n    my @stat = stat $file;\n\n    Plack::Util::set_io_path($fh, Cwd::realpath($file));\n\n    return [\n        200,\n        [\n            'Content-Type'   => $content_type,\n            'Content-Length' => $stat[7],\n            'Last-Modified'  => HTTP::Date::time2str( $stat[9] )\n        ],\n        $fh,\n    ];\n}\n\nsub return_403 {\n    my $self = shift;\n    return [403, ['Content-Type' => 'text/plain', 'Content-Length' => 9], ['forbidden']];\n}\n\nsub return_400 {\n    my $self = shift;\n    return [400, ['Content-Type' => 'text/plain', 'Content-Length' => 11], ['Bad Request']];\n}\n\n# Hint: subclasses can override this to return undef to pass through 404\nsub return_404 {\n    my $self = shift;\n    return [404, ['Content-Type' => 'text/plain', 'Content-Length' => 9], ['not found']];\n}\n\n1;\n__END__\n\n=head1 NAME\n\nPlack::App::File - Serve static files from root directory\n\n=head1 SYNOPSIS\n\n  use Plack::App::File;\n  my $app = Plack::App::File->new(root => \"/path/to/htdocs\")->to_app;\n\n  # Or map the path to a specific file\n  use Plack::Builder;\n  builder {\n      mount \"/favicon.ico\" => Plack::App::File->new(file => '/path/to/favicon.ico');\n  };\n\n=head1 DESCRIPTION\n\nThis is a static file server PSGI application, and internally used by\nL<Plack::Middleware::Static>. This application serves file from\ndocument root if the path matches with the local file. Use\nL<Plack::App::Directory> if you want to list files in the directory\nas well.\n\n=head1 CONFIGURATION\n\n=over 4\n\n=item root\n\nDocument root directory. Defaults to C<.> (current directory)\n\n=item file\n\nThe file path to create responses from. Optional.\n\nIf it's set the application would B<ALWAYS> create a response out of\nthe file and there will be no security check etc. (hence fast). If\nit's not set, the application uses C<root> to find the matching file.\n\n=item encoding\n\nSet the file encoding for text files. Defaults to C<utf-8>.\n\n=item content_type\n\nSet the file content type. If not set L<Plack::MIME> will try to detect it\nbased on the file extension or fall back to C<text/plain>.\nCan be set to a callback which should work on $_[0] to check full path file \nname.\n\n=back\n\n=head1 AUTHOR\n\nTatsuhiko Miyagawa\n\n=head1 SEE ALSO\n\nL<Plack::Middleware::Static> L<Plack::App::Directory>\n\n=cut\n\n\n", "use strict;\nuse Plack::Test;\nuse Test::More;\nuse HTTP::Request::Common;\nuse Plack::App::File;\nuse FindBin qw($Bin);\n\nmy $app = Plack::App::File->new(file => 'Changes');\n\ntest_psgi $app, sub {\n    my $cb = shift;\n\n    my $res = $cb->(GET \"/\");\n    is $res->code, 200;\n    like $res->content, qr/Plack/;\n\n    $res = $cb->(GET \"/whatever\");\n    is $res->content_type, 'text/plain';\n    is $res->code, 200;\n};\n\nmy $app_content_type = Plack::App::File->new(\n    file => 'Changes',\n    content_type => 'text/x-changes'\n);\n\ntest_psgi $app_content_type, sub {\n    my $cb = shift;\n\n    my $res = $cb->(GET \"/\");\n    is $res->code, 200;\n    like $res->content, qr/Plack/;\n\n    $res = $cb->(GET \"/whatever\");\n    is $res->content_type, 'text/x-changes';\n    is $res->code, 200;\n};\n\nmy $app_secure = Plack::App::File->new(root => $Bin);\n\ntest_psgi $app_secure, sub {\n    my $cb = shift;\n\n    my $res = $cb->(GET \"/file.t\");\n    is $res->code, 200;\n    like $res->content, qr/We will find for this literal string/;\n\n    my $res = $cb->(GET \"/../Plack-Middleware/file.t\");\n    is $res->code, 403;\n    is $res->content, 'forbidden';\n\n    for my $i (1..100) {\n        $res = $cb->(GET \"/file.t\" . (\"/\" x $i));\n        is $res->code, 404;\n        is $res->content, 'not found';\n    }\n};\n\ndone_testing;\n"], "filenames": ["Changes", "lib/Plack/App/File.pm", "t/Plack-Middleware/file.t"], "buggy_code_start_loc": [3, 47, 5], "buggy_code_end_loc": [3, 48, 38], "fixing_code_start_loc": [4, 47, 6], "fixing_code_end_loc": [15, 48, 58], "type": "CWE-264", "message": "Plack::App::File in Plack before 1.0031 removes trailing slash characters from paths, which allows remote attackers to bypass the whitelist of generated files and obtain sensitive information via a crafted path, related to Plack::Middleware::Static.", "other": {"cve": {"id": "CVE-2014-5269", "sourceIdentifier": "security@debian.org", "published": "2014-09-04T17:55:06.060", "lastModified": "2014-09-08T14:47:51.097", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "Plack::App::File in Plack before 1.0031 removes trailing slash characters from paths, which allows remote attackers to bypass the whitelist of generated files and obtain sensitive information via a crafted path, related to Plack::Middleware::Static."}, {"lang": "es", "value": "Plack::App::File en Plack anterior a 1.0031 elimina caracteres de barra final de las rutas, lo que permite a atacantes remotos evadir la lista blanca de los ficheros generados y obtener informaci\u00f3n sensible a trav\u00e9s de una ruta manipulada, relacionado con Plack::Middleware::Static."}], "metrics": {"cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:N/C:P/I:N/A:N", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "NONE", "confidentialityImpact": "PARTIAL", "integrityImpact": "NONE", "availabilityImpact": "NONE", "baseScore": 5.0}, "baseSeverity": "MEDIUM", "exploitabilityScore": 10.0, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-264"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:plack_project:plack:*:*:*:*:*:*:*:*", "versionEndIncluding": "1.0030", "matchCriteriaId": "053AA9C2-8772-44AC-B3FD-D25A60C205EC"}]}]}], "references": [{"url": "http://api.metacpan.org/source/MIYAGAWA/Plack-1.0031/Changes", "source": "security@debian.org"}, {"url": "http://lists.fedoraproject.org/pipermail/package-announce/2014-August/137099.html", "source": "security@debian.org"}, {"url": "http://lists.fedoraproject.org/pipermail/package-announce/2014-August/137115.html", "source": "security@debian.org"}, {"url": "http://seclists.org/oss-sec/2014/q3/384", "source": "security@debian.org"}, {"url": "https://github.com/avar/Plack/commit/bc1731dbb53850c380875ad683cd87c8ec99eee3", "source": "security@debian.org", "tags": ["Patch", "Vendor Advisory"]}, {"url": "https://github.com/plack/Plack/issues/405", "source": "security@debian.org", "tags": ["Patch", "Vendor Advisory"]}]}, "github_commit_url": "https://github.com/avar/Plack/commit/bc1731dbb53850c380875ad683cd87c8ec99eee3"}}