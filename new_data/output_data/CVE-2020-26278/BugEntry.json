{"buggy_code": ["apiVersion: v1\nkind: List\nitems:\n  - apiVersion: v1\n    kind: ServiceAccount\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: ClusterRole\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - pods\n          - namespaces\n          - nodes\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - extensions\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - 'networking.k8s.io'\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n        - ''\n        resources:\n        - nodes/status\n        verbs:\n        - patch\n        - update\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: ClusterRoleBinding\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    roleRef:\n      kind: ClusterRole\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: Role\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        resourceNames:\n          - weave-net\n        verbs:\n          - get\n          - update\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        verbs:\n          - create\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: RoleBinding\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    roleRef:\n      kind: Role\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: apps/v1\n    kind: DaemonSet\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n    spec:\n      # Wait 5 seconds to let pod connect before rolling next pod\n      selector:\n        matchLabels:\n          name: weave-net\n      minReadySeconds: 5\n      template:\n        metadata:\n          labels:\n            name: weave-net\n        spec:\n          containers:\n            - name: weave\n              command:\n                - /home/weave/launch.sh\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-kube:latest'\n              imagePullPolicy: Always\n              readinessProbe:\n                httpGet:\n                  host: 127.0.0.1\n                  path: /status\n                  port: 6784\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: weavedb\n                  mountPath: /weavedb\n                - name: cni-bin\n                  mountPath: /host/opt\n                - name: cni-bin2\n                  mountPath: /host/home\n                - name: cni-conf\n                  mountPath: /host/etc\n                - name: dbus\n                  mountPath: /host/var/lib/dbus\n                - name: lib-modules\n                  mountPath: /lib/modules\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n            - name: weave-npc\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-npc:latest'\n              imagePullPolicy: Always\n#npc-args\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n          hostNetwork: true\n          dnsPolicy: ClusterFirstWithHostNet\n          hostPID: true\n          restartPolicy: Always\n          securityContext:\n            seLinuxOptions: {}\n          serviceAccountName: weave-net\n          tolerations:\n            - effect: NoSchedule\n              operator: Exists\n            - effect: NoExecute\n              operator: Exists\n          volumes:\n            - name: weavedb\n              hostPath:\n                path: /var/lib/weave\n            - name: cni-bin\n              hostPath:\n                path: /opt\n            - name: cni-bin2\n              hostPath:\n                path: /home\n            - name: cni-conf\n              hostPath:\n                path: /etc\n            - name: dbus\n              hostPath:\n                path: /var/lib/dbus\n            - name: lib-modules\n              hostPath:\n                path: /lib/modules\n            - name: xtables-lock\n              hostPath:\n                path: /run/xtables.lock\n                type: FileOrCreate\n          priorityClassName: system-node-critical\n      updateStrategy:\n        type: RollingUpdate\n", "apiVersion: v1\nkind: List\nitems:\n  - apiVersion: v1\n    kind: ServiceAccount\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: ClusterRole\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - pods\n          - namespaces\n          - nodes\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - extensions\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: ClusterRoleBinding\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    roleRef:\n      kind: ClusterRole\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: Role\n    metadata:\n      name: weave-net-kube-peer\n      namespace: kube-system\n      labels:\n        name: weave-net-kube-peer\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        resourceNames:\n          - weave-net\n        verbs:\n          - get\n          - update\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        verbs:\n          - create\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: RoleBinding\n    metadata:\n      name: weave-net-kube-peer\n      namespace: kube-system\n      labels:\n        name: weave-net-kube-peer\n    roleRef:\n      kind: Role\n      name: weave-net-kube-peer\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: extensions/v1beta1\n    kind: DaemonSet\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n    spec:\n      template:\n        metadata:\n          labels:\n            name: weave-net\n        spec:\n          containers:\n            - name: weave\n              command:\n                - /home/weave/launch.sh\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-kube:latest'\n              imagePullPolicy: Always\n              readinessProbe:\n                httpGet:\n                  host: 127.0.0.1\n                  path: /status\n                  port: 6784\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: weavedb\n                  mountPath: /weavedb\n                - name: cni-bin\n                  mountPath: /host/opt\n                - name: cni-bin2\n                  mountPath: /host/home\n                - name: cni-conf\n                  mountPath: /host/etc\n                - name: dbus\n                  mountPath: /host/var/lib/dbus\n                - name: lib-modules\n                  mountPath: /lib/modules\n            - name: weave-npc\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-npc:latest'\n              imagePullPolicy: Always\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n          hostNetwork: true\n          hostPID: true\n          restartPolicy: Always\n          securityContext:\n            seLinuxOptions: {}\n          serviceAccountName: weave-net\n          tolerations:\n            - effect: NoSchedule\n              operator: Exists\n            - effect: NoExecute\n              operator: Exists\n          volumes:\n            - name: weavedb\n              hostPath:\n                path: /var/lib/weave\n            - name: cni-bin\n              hostPath:\n                path: /opt\n            - name: cni-bin2\n              hostPath:\n                path: /home\n            - name: cni-conf\n              hostPath:\n                path: /etc\n            - name: dbus\n              hostPath:\n                path: /var/lib/dbus\n            - name: lib-modules\n              hostPath:\n                path: /lib/modules\n      updateStrategy:\n        type: RollingUpdate\n", "apiVersion: v1\nkind: List\nitems:\n  - apiVersion: v1\n    kind: ServiceAccount\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: ClusterRole\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - pods\n          - namespaces\n          - nodes\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - 'networking.k8s.io'\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n        - ''\n        resources:\n        - nodes/status\n        verbs:\n        - patch\n        - update\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: ClusterRoleBinding\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    roleRef:\n      kind: ClusterRole\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: Role\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        resourceNames:\n          - weave-net\n        verbs:\n          - get\n          - update\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        verbs:\n          - create\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: RoleBinding\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    roleRef:\n      kind: Role\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: extensions/v1beta1\n    kind: DaemonSet\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n    spec:\n      # Wait 5 seconds to let pod connect before rolling next pod\n      minReadySeconds: 5\n      template:\n        metadata:\n          labels:\n            name: weave-net\n        spec:\n          containers:\n            - name: weave\n              command:\n                - /home/weave/launch.sh\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-kube:latest'\n              imagePullPolicy: Always\n              readinessProbe:\n                httpGet:\n                  host: 127.0.0.1\n                  path: /status\n                  port: 6784\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: weavedb\n                  mountPath: /weavedb\n                - name: cni-bin\n                  mountPath: /host/opt\n                - name: cni-bin2\n                  mountPath: /host/home\n                - name: cni-conf\n                  mountPath: /host/etc\n                - name: dbus\n                  mountPath: /host/var/lib/dbus\n                - name: lib-modules\n                  mountPath: /lib/modules\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n            - name: weave-npc\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-npc:latest'\n              imagePullPolicy: Always\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n          hostNetwork: true\n          hostPID: true\n          restartPolicy: Always\n          securityContext:\n            seLinuxOptions: {}\n          serviceAccountName: weave-net\n          tolerations:\n            - effect: NoSchedule\n              operator: Exists\n            - effect: NoExecute\n              operator: Exists\n          volumes:\n            - name: weavedb\n              hostPath:\n                path: /var/lib/weave\n            - name: cni-bin\n              hostPath:\n                path: /opt\n            - name: cni-bin2\n              hostPath:\n                path: /home\n            - name: cni-conf\n              hostPath:\n                path: /etc\n            - name: dbus\n              hostPath:\n                path: /var/lib/dbus\n            - name: lib-modules\n              hostPath:\n                path: /lib/modules\n            - name: xtables-lock\n              hostPath:\n                path: /run/xtables.lock\n      updateStrategy:\n        type: RollingUpdate\n", "apiVersion: v1\nkind: List\nitems:\n  - apiVersion: v1\n    kind: ServiceAccount\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: ClusterRole\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - pods\n          - namespaces\n          - nodes\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - extensions\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - 'networking.k8s.io'\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n        - ''\n        resources:\n        - nodes/status\n        verbs:\n        - patch\n        - update\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: ClusterRoleBinding\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    roleRef:\n      kind: ClusterRole\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: Role\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        resourceNames:\n          - weave-net\n        verbs:\n          - get\n          - update\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        verbs:\n          - create\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: RoleBinding\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    roleRef:\n      kind: Role\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: extensions/v1beta1\n    kind: DaemonSet\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n    spec:\n      # Wait 5 seconds to let pod connect before rolling next pod\n      minReadySeconds: 5\n      template:\n        metadata:\n          labels:\n            name: weave-net\n        spec:\n          containers:\n            - name: weave\n              command:\n                - /home/weave/launch.sh\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-kube:latest'\n              imagePullPolicy: Always\n              readinessProbe:\n                httpGet:\n                  host: 127.0.0.1\n                  path: /status\n                  port: 6784\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: weavedb\n                  mountPath: /weavedb\n                - name: cni-bin\n                  mountPath: /host/opt\n                - name: cni-bin2\n                  mountPath: /host/home\n                - name: cni-conf\n                  mountPath: /host/etc\n                - name: dbus\n                  mountPath: /host/var/lib/dbus\n                - name: lib-modules\n                  mountPath: /lib/modules\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n            - name: weave-npc\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-npc:latest'\n              imagePullPolicy: Always\n#npc-args\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n          hostNetwork: true\n          hostPID: true\n          restartPolicy: Always\n          securityContext:\n            seLinuxOptions: {}\n          serviceAccountName: weave-net\n          tolerations:\n            - effect: NoSchedule\n              operator: Exists\n            - effect: NoExecute\n              operator: Exists\n          volumes:\n            - name: weavedb\n              hostPath:\n                path: /var/lib/weave\n            - name: cni-bin\n              hostPath:\n                path: /opt\n            - name: cni-bin2\n              hostPath:\n                path: /home\n            - name: cni-conf\n              hostPath:\n                path: /etc\n            - name: dbus\n              hostPath:\n                path: /var/lib/dbus\n            - name: lib-modules\n              hostPath:\n                path: /lib/modules\n            - name: xtables-lock\n              hostPath:\n                path: /run/xtables.lock\n                type: FileOrCreate\n      updateStrategy:\n        type: RollingUpdate\n", "apiVersion: v1\nkind: List\nitems:\n  - apiVersion: v1\n    kind: ServiceAccount\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: ClusterRole\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - pods\n          - namespaces\n          - nodes\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - extensions\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - 'networking.k8s.io'\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n        - ''\n        resources:\n        - nodes/status\n        verbs:\n        - patch\n        - update\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: ClusterRoleBinding\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    roleRef:\n      kind: ClusterRole\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: Role\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        resourceNames:\n          - weave-net\n        verbs:\n          - get\n          - update\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        verbs:\n          - create\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: RoleBinding\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    roleRef:\n      kind: Role\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: apps/v1\n    kind: DaemonSet\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n    spec:\n      # Wait 5 seconds to let pod connect before rolling next pod\n      selector:\n        matchLabels:\n          name: weave-net\n      minReadySeconds: 5\n      template:\n        metadata:\n          labels:\n            name: weave-net\n        spec:\n          containers:\n            - name: weave\n              command:\n                - /home/weave/launch.sh\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-kube:latest'\n              imagePullPolicy: Always\n              readinessProbe:\n                httpGet:\n                  host: 127.0.0.1\n                  path: /status\n                  port: 6784\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: weavedb\n                  mountPath: /weavedb\n                - name: cni-bin\n                  mountPath: /host/opt\n                - name: cni-bin2\n                  mountPath: /host/home\n                - name: cni-conf\n                  mountPath: /host/etc\n                - name: dbus\n                  mountPath: /host/var/lib/dbus\n                - name: lib-modules\n                  mountPath: /lib/modules\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n            - name: weave-npc\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-npc:latest'\n              imagePullPolicy: Always\n#npc-args\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n          hostNetwork: true\n          dnsPolicy: ClusterFirstWithHostNet\n          hostPID: true\n          restartPolicy: Always\n          securityContext:\n            seLinuxOptions: {}\n          serviceAccountName: weave-net\n          tolerations:\n            - effect: NoSchedule\n              operator: Exists\n            - effect: NoExecute\n              operator: Exists\n          volumes:\n            - name: weavedb\n              hostPath:\n                path: /var/lib/weave\n            - name: cni-bin\n              hostPath:\n                path: /opt\n            - name: cni-bin2\n              hostPath:\n                path: /home\n            - name: cni-conf\n              hostPath:\n                path: /etc\n            - name: dbus\n              hostPath:\n                path: /var/lib/dbus\n            - name: lib-modules\n              hostPath:\n                path: /lib/modules\n            - name: xtables-lock\n              hostPath:\n                path: /run/xtables.lock\n                type: FileOrCreate\n      updateStrategy:\n        type: RollingUpdate\n"], "fixing_code": ["apiVersion: v1\nkind: List\nitems:\n  - apiVersion: v1\n    kind: ServiceAccount\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: ClusterRole\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - pods\n          - namespaces\n          - nodes\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - extensions\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - 'networking.k8s.io'\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n        - ''\n        resources:\n        - nodes/status\n        verbs:\n        - patch\n        - update\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: ClusterRoleBinding\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    roleRef:\n      kind: ClusterRole\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: Role\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        resourceNames:\n          - weave-net\n        verbs:\n          - get\n          - update\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        verbs:\n          - create\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: RoleBinding\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    roleRef:\n      kind: Role\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: apps/v1\n    kind: DaemonSet\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n    spec:\n      # Wait 5 seconds to let pod connect before rolling next pod\n      selector:\n        matchLabels:\n          name: weave-net\n      minReadySeconds: 5\n      template:\n        metadata:\n          labels:\n            name: weave-net\n        spec:\n          containers:\n            - name: weave\n              command:\n                - /home/weave/launch.sh\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-kube:latest'\n              imagePullPolicy: Always\n              readinessProbe:\n                httpGet:\n                  host: 127.0.0.1\n                  path: /status\n                  port: 6784\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: weavedb\n                  mountPath: /weavedb\n                - name: cni-bin\n                  mountPath: /host/opt\n                - name: cni-bin2\n                  mountPath: /host/home\n                - name: cni-conf\n                  mountPath: /host/etc\n                - name: dbus\n                  mountPath: /host/var/lib/dbus\n                - name: lib-modules\n                  mountPath: /lib/modules\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n            - name: weave-npc\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-npc:latest'\n              imagePullPolicy: Always\n#npc-args\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n          hostNetwork: true\n          dnsPolicy: ClusterFirstWithHostNet\n          hostPID: false\n          restartPolicy: Always\n          securityContext:\n            seLinuxOptions: {}\n          serviceAccountName: weave-net\n          tolerations:\n            - effect: NoSchedule\n              operator: Exists\n            - effect: NoExecute\n              operator: Exists\n          volumes:\n            - name: weavedb\n              hostPath:\n                path: /var/lib/weave\n            - name: cni-bin\n              hostPath:\n                path: /opt\n            - name: cni-bin2\n              hostPath:\n                path: /home\n            - name: cni-conf\n              hostPath:\n                path: /etc\n            - name: dbus\n              hostPath:\n                path: /var/lib/dbus\n            - name: lib-modules\n              hostPath:\n                path: /lib/modules\n            - name: xtables-lock\n              hostPath:\n                path: /run/xtables.lock\n                type: FileOrCreate\n          priorityClassName: system-node-critical\n      updateStrategy:\n        type: RollingUpdate\n", "apiVersion: v1\nkind: List\nitems:\n  - apiVersion: v1\n    kind: ServiceAccount\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: ClusterRole\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - pods\n          - namespaces\n          - nodes\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - extensions\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: ClusterRoleBinding\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    roleRef:\n      kind: ClusterRole\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: Role\n    metadata:\n      name: weave-net-kube-peer\n      namespace: kube-system\n      labels:\n        name: weave-net-kube-peer\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        resourceNames:\n          - weave-net\n        verbs:\n          - get\n          - update\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        verbs:\n          - create\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: RoleBinding\n    metadata:\n      name: weave-net-kube-peer\n      namespace: kube-system\n      labels:\n        name: weave-net-kube-peer\n    roleRef:\n      kind: Role\n      name: weave-net-kube-peer\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: extensions/v1beta1\n    kind: DaemonSet\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n    spec:\n      template:\n        metadata:\n          labels:\n            name: weave-net\n        spec:\n          containers:\n            - name: weave\n              command:\n                - /home/weave/launch.sh\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-kube:latest'\n              imagePullPolicy: Always\n              readinessProbe:\n                httpGet:\n                  host: 127.0.0.1\n                  path: /status\n                  port: 6784\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: weavedb\n                  mountPath: /weavedb\n                - name: cni-bin\n                  mountPath: /host/opt\n                - name: cni-bin2\n                  mountPath: /host/home\n                - name: cni-conf\n                  mountPath: /host/etc\n                - name: dbus\n                  mountPath: /host/var/lib/dbus\n                - name: lib-modules\n                  mountPath: /lib/modules\n            - name: weave-npc\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-npc:latest'\n              imagePullPolicy: Always\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n          hostNetwork: true\n          hostPID: false\n          restartPolicy: Always\n          securityContext:\n            seLinuxOptions: {}\n          serviceAccountName: weave-net\n          tolerations:\n            - effect: NoSchedule\n              operator: Exists\n            - effect: NoExecute\n              operator: Exists\n          volumes:\n            - name: weavedb\n              hostPath:\n                path: /var/lib/weave\n            - name: cni-bin\n              hostPath:\n                path: /opt\n            - name: cni-bin2\n              hostPath:\n                path: /home\n            - name: cni-conf\n              hostPath:\n                path: /etc\n            - name: dbus\n              hostPath:\n                path: /var/lib/dbus\n            - name: lib-modules\n              hostPath:\n                path: /lib/modules\n      updateStrategy:\n        type: RollingUpdate\n", "apiVersion: v1\nkind: List\nitems:\n  - apiVersion: v1\n    kind: ServiceAccount\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: ClusterRole\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - pods\n          - namespaces\n          - nodes\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - 'networking.k8s.io'\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n        - ''\n        resources:\n        - nodes/status\n        verbs:\n        - patch\n        - update\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: ClusterRoleBinding\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    roleRef:\n      kind: ClusterRole\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: Role\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        resourceNames:\n          - weave-net\n        verbs:\n          - get\n          - update\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        verbs:\n          - create\n  - apiVersion: rbac.authorization.k8s.io/v1beta1\n    kind: RoleBinding\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    roleRef:\n      kind: Role\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: extensions/v1beta1\n    kind: DaemonSet\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n    spec:\n      # Wait 5 seconds to let pod connect before rolling next pod\n      minReadySeconds: 5\n      template:\n        metadata:\n          labels:\n            name: weave-net\n        spec:\n          containers:\n            - name: weave\n              command:\n                - /home/weave/launch.sh\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-kube:latest'\n              imagePullPolicy: Always\n              readinessProbe:\n                httpGet:\n                  host: 127.0.0.1\n                  path: /status\n                  port: 6784\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: weavedb\n                  mountPath: /weavedb\n                - name: cni-bin\n                  mountPath: /host/opt\n                - name: cni-bin2\n                  mountPath: /host/home\n                - name: cni-conf\n                  mountPath: /host/etc\n                - name: dbus\n                  mountPath: /host/var/lib/dbus\n                - name: lib-modules\n                  mountPath: /lib/modules\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n            - name: weave-npc\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-npc:latest'\n              imagePullPolicy: Always\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n          hostNetwork: true\n          hostPID: false\n          restartPolicy: Always\n          securityContext:\n            seLinuxOptions: {}\n          serviceAccountName: weave-net\n          tolerations:\n            - effect: NoSchedule\n              operator: Exists\n            - effect: NoExecute\n              operator: Exists\n          volumes:\n            - name: weavedb\n              hostPath:\n                path: /var/lib/weave\n            - name: cni-bin\n              hostPath:\n                path: /opt\n            - name: cni-bin2\n              hostPath:\n                path: /home\n            - name: cni-conf\n              hostPath:\n                path: /etc\n            - name: dbus\n              hostPath:\n                path: /var/lib/dbus\n            - name: lib-modules\n              hostPath:\n                path: /lib/modules\n            - name: xtables-lock\n              hostPath:\n                path: /run/xtables.lock\n      updateStrategy:\n        type: RollingUpdate\n", "apiVersion: v1\nkind: List\nitems:\n  - apiVersion: v1\n    kind: ServiceAccount\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: ClusterRole\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - pods\n          - namespaces\n          - nodes\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - extensions\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - 'networking.k8s.io'\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n        - ''\n        resources:\n        - nodes/status\n        verbs:\n        - patch\n        - update\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: ClusterRoleBinding\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    roleRef:\n      kind: ClusterRole\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: Role\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        resourceNames:\n          - weave-net\n        verbs:\n          - get\n          - update\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        verbs:\n          - create\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: RoleBinding\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    roleRef:\n      kind: Role\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: extensions/v1beta1\n    kind: DaemonSet\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n    spec:\n      # Wait 5 seconds to let pod connect before rolling next pod\n      minReadySeconds: 5\n      template:\n        metadata:\n          labels:\n            name: weave-net\n        spec:\n          containers:\n            - name: weave\n              command:\n                - /home/weave/launch.sh\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-kube:latest'\n              imagePullPolicy: Always\n              readinessProbe:\n                httpGet:\n                  host: 127.0.0.1\n                  path: /status\n                  port: 6784\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: weavedb\n                  mountPath: /weavedb\n                - name: cni-bin\n                  mountPath: /host/opt\n                - name: cni-bin2\n                  mountPath: /host/home\n                - name: cni-conf\n                  mountPath: /host/etc\n                - name: dbus\n                  mountPath: /host/var/lib/dbus\n                - name: lib-modules\n                  mountPath: /lib/modules\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n            - name: weave-npc\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-npc:latest'\n              imagePullPolicy: Always\n#npc-args\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n          hostNetwork: true\n          hostPID: false\n          restartPolicy: Always\n          securityContext:\n            seLinuxOptions: {}\n          serviceAccountName: weave-net\n          tolerations:\n            - effect: NoSchedule\n              operator: Exists\n            - effect: NoExecute\n              operator: Exists\n          volumes:\n            - name: weavedb\n              hostPath:\n                path: /var/lib/weave\n            - name: cni-bin\n              hostPath:\n                path: /opt\n            - name: cni-bin2\n              hostPath:\n                path: /home\n            - name: cni-conf\n              hostPath:\n                path: /etc\n            - name: dbus\n              hostPath:\n                path: /var/lib/dbus\n            - name: lib-modules\n              hostPath:\n                path: /lib/modules\n            - name: xtables-lock\n              hostPath:\n                path: /run/xtables.lock\n                type: FileOrCreate\n      updateStrategy:\n        type: RollingUpdate\n", "apiVersion: v1\nkind: List\nitems:\n  - apiVersion: v1\n    kind: ServiceAccount\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: ClusterRole\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - pods\n          - namespaces\n          - nodes\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - extensions\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n          - 'networking.k8s.io'\n        resources:\n          - networkpolicies\n        verbs:\n          - get\n          - list\n          - watch\n      - apiGroups:\n        - ''\n        resources:\n        - nodes/status\n        verbs:\n        - patch\n        - update\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: ClusterRoleBinding\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n    roleRef:\n      kind: ClusterRole\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: Role\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    rules:\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        resourceNames:\n          - weave-net\n        verbs:\n          - get\n          - update\n      - apiGroups:\n          - ''\n        resources:\n          - configmaps\n        verbs:\n          - create\n  - apiVersion: rbac.authorization.k8s.io/v1\n    kind: RoleBinding\n    metadata:\n      name: weave-net\n      namespace: kube-system\n      labels:\n        name: weave-net\n    roleRef:\n      kind: Role\n      name: weave-net\n      apiGroup: rbac.authorization.k8s.io\n    subjects:\n      - kind: ServiceAccount\n        name: weave-net\n        namespace: kube-system\n  - apiVersion: apps/v1\n    kind: DaemonSet\n    metadata:\n      name: weave-net\n      labels:\n        name: weave-net\n      namespace: kube-system\n    spec:\n      # Wait 5 seconds to let pod connect before rolling next pod\n      selector:\n        matchLabels:\n          name: weave-net\n      minReadySeconds: 5\n      template:\n        metadata:\n          labels:\n            name: weave-net\n        spec:\n          containers:\n            - name: weave\n              command:\n                - /home/weave/launch.sh\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-kube:latest'\n              imagePullPolicy: Always\n              readinessProbe:\n                httpGet:\n                  host: 127.0.0.1\n                  path: /status\n                  port: 6784\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: weavedb\n                  mountPath: /weavedb\n                - name: cni-bin\n                  mountPath: /host/opt\n                - name: cni-bin2\n                  mountPath: /host/home\n                - name: cni-conf\n                  mountPath: /host/etc\n                - name: dbus\n                  mountPath: /host/var/lib/dbus\n                - name: lib-modules\n                  mountPath: /lib/modules\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n            - name: weave-npc\n              env:\n                - name: HOSTNAME\n                  valueFrom:\n                    fieldRef:\n                      apiVersion: v1\n                      fieldPath: spec.nodeName\n              image: 'weaveworks/weave-npc:latest'\n              imagePullPolicy: Always\n#npc-args\n              resources:\n                requests:\n                  cpu: 50m\n              securityContext:\n                privileged: true\n              volumeMounts:\n                - name: xtables-lock\n                  mountPath: /run/xtables.lock\n                  readOnly: false\n          hostNetwork: true\n          dnsPolicy: ClusterFirstWithHostNet\n          hostPID: false\n          restartPolicy: Always\n          securityContext:\n            seLinuxOptions: {}\n          serviceAccountName: weave-net\n          tolerations:\n            - effect: NoSchedule\n              operator: Exists\n            - effect: NoExecute\n              operator: Exists\n          volumes:\n            - name: weavedb\n              hostPath:\n                path: /var/lib/weave\n            - name: cni-bin\n              hostPath:\n                path: /opt\n            - name: cni-bin2\n              hostPath:\n                path: /home\n            - name: cni-conf\n              hostPath:\n                path: /etc\n            - name: dbus\n              hostPath:\n                path: /var/lib/dbus\n            - name: lib-modules\n              hostPath:\n                path: /lib/modules\n            - name: xtables-lock\n              hostPath:\n                path: /run/xtables.lock\n                type: FileOrCreate\n      updateStrategy:\n        type: RollingUpdate\n"], "filenames": ["prog/weave-kube/weave-daemonset-k8s-1.11.yaml", "prog/weave-kube/weave-daemonset-k8s-1.6.yaml", "prog/weave-kube/weave-daemonset-k8s-1.7.yaml", "prog/weave-kube/weave-daemonset-k8s-1.8.yaml", "prog/weave-kube/weave-daemonset-k8s-1.9.yaml"], "buggy_code_start_loc": [180, 151, 167, 176, 180], "buggy_code_end_loc": [181, 152, 168, 177, 181], "fixing_code_start_loc": [180, 151, 167, 176, 180], "fixing_code_end_loc": [181, 152, 168, 177, 181], "type": "CWE-250", "message": "Weave Net is open source software which creates a virtual network that connects Docker containers across multiple hosts and enables their automatic discovery. Weave Net before version 2.8.0 has a vulnerability in which can allow an attacker to take over any host in the cluster. Weave Net is supplied with a manifest that runs pods on every node in a Kubernetes cluster, which are responsible for managing network connections for all other pods in the cluster. This requires a lot of power over the host, and the manifest sets `privileged: true`, which gives it that power. It also set `hostPID: true`, which gave it the ability to access all other processes on the host, and write anywhere in the root filesystem of the host. This setting was not necessary, and is being removed. You are only vulnerable if you have an additional vulnerability (e.g. a bug in Kubernetes) or misconfiguration that allows an attacker to run code inside the Weave Net pod, No such bug is known at the time of release, and there are no known instances of this being exploited. Weave Net 2.8.0 removes the hostPID setting and moves CNI plugin install to an init container. Users who do not update to 2.8.0 can edit the hostPID line in their existing DaemonSet manifest to say false instead of true, arrange some other way to install CNI plugins (e.g. Ansible) and remove those mounts from the DaemonSet manifest.", "other": {"cve": {"id": "CVE-2020-26278", "sourceIdentifier": "security-advisories@github.com", "published": "2021-01-20T22:15:11.097", "lastModified": "2021-02-02T15:26:14.060", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "Weave Net is open source software which creates a virtual network that connects Docker containers across multiple hosts and enables their automatic discovery. Weave Net before version 2.8.0 has a vulnerability in which can allow an attacker to take over any host in the cluster. Weave Net is supplied with a manifest that runs pods on every node in a Kubernetes cluster, which are responsible for managing network connections for all other pods in the cluster. This requires a lot of power over the host, and the manifest sets `privileged: true`, which gives it that power. It also set `hostPID: true`, which gave it the ability to access all other processes on the host, and write anywhere in the root filesystem of the host. This setting was not necessary, and is being removed. You are only vulnerable if you have an additional vulnerability (e.g. a bug in Kubernetes) or misconfiguration that allows an attacker to run code inside the Weave Net pod, No such bug is known at the time of release, and there are no known instances of this being exploited. Weave Net 2.8.0 removes the hostPID setting and moves CNI plugin install to an init container. Users who do not update to 2.8.0 can edit the hostPID line in their existing DaemonSet manifest to say false instead of true, arrange some other way to install CNI plugins (e.g. Ansible) and remove those mounts from the DaemonSet manifest."}, {"lang": "es", "value": "Weave Net es un software de c\u00f3digo abierto que crea una red virtual que conecta contenedores Docker a trav\u00e9s de m\u00faltiples hosts y permite su detecci\u00f3n autom\u00e1tica. Weave Net versiones anteriores a 2.8.0, presenta una vulnerabilidad en la que puede permitir a un atacante tomar el control de cualquier host del cl\u00faster. Weave Net es suministrado con un manifiesto que ejecuta pods en cada nodo de un cl\u00faster de Kubernetes, que son responsables de administrar las conexiones de red para todos los dem\u00e1s pods del cl\u00faster. Esto requiere mucho poder sobre el host, y el manifiesto establece \"privileged: true\", lo que le otorga ese poder. Tambi\u00e9n configur\u00f3 \"hostPID: true\", lo que le dio la capacidad de acceder a todos los dem\u00e1s procesos en el host y escribir en cualquier lugar del sistema de archivos root del host. Esta configuraci\u00f3n no era necesaria y ha sido eliminada. Solo eres vulnerable si presentas una vulnerabilidad adicional (por ejemplo,&#xa0;un error en Kubernetes) o una mala configuraci\u00f3n que permite a un atacante ejecutar c\u00f3digo dentro del pod de Weave Net. No es conocido ning\u00fan error de este tipo en el momento de la publicaci\u00f3n, y no se conocen casos en los que han sido explotadas. Weave Net versi\u00f3n 2.8.0, elimina la configuraci\u00f3n de hostPID y mueve la instalaci\u00f3n del plugin CNI hacia un contenedor de inicio. Los usuarios que no actualicen a la versi\u00f3n 2.8.0, pueden editar la l\u00ednea hostPID en su manifiesto DaemonSet para decir falso en lugar de verdadero, organizar alguna otra forma de instalar plugins CNI (por ejemplo, Ansible) y eliminar esos montajes del manifiesto DaemonSet"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:A/AC:H/PR:L/UI:N/S:C/C:H/I:H/A:H", "attackVector": "ADJACENT_NETWORK", "attackComplexity": "HIGH", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "CHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "HIGH", "baseScore": 8.0, "baseSeverity": "HIGH"}, "exploitabilityScore": 1.3, "impactScore": 6.0}, {"source": "security-advisories@github.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:A/AC:H/PR:L/UI:N/S:C/C:N/I:H/A:N", "attackVector": "ADJACENT_NETWORK", "attackComplexity": "HIGH", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "CHANGED", "confidentialityImpact": "NONE", "integrityImpact": "HIGH", "availabilityImpact": "NONE", "baseScore": 5.8, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 1.3, "impactScore": 4.0}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:A/AC:M/Au:N/C:C/I:C/A:C", "accessVector": "ADJACENT_NETWORK", "accessComplexity": "MEDIUM", "authentication": "NONE", "confidentialityImpact": "COMPLETE", "integrityImpact": "COMPLETE", "availabilityImpact": "COMPLETE", "baseScore": 7.9}, "baseSeverity": "HIGH", "exploitabilityScore": 5.5, "impactScore": 10.0, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "security-advisories@github.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-250"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:weave:weave:*:*:*:*:*:*:*:*", "versionEndExcluding": "2.8.0", "matchCriteriaId": "7E85E93E-BE67-4D46-8E49-3A2F64CD82FB"}]}]}], "references": [{"url": "https://github.com/weaveworks/weave/blob/master/CHANGELOG.md#release-280", "source": "security-advisories@github.com", "tags": ["Release Notes", "Third Party Advisory"]}, {"url": "https://github.com/weaveworks/weave/commit/a0ac81b3b4cae6d0dcaf3732fd91cedefc89f720", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/weaveworks/weave/pull/3876", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/weaveworks/weave/security/advisories/GHSA-pg3p-v8c6-c6h3", "source": "security-advisories@github.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/weaveworks/weave/commit/a0ac81b3b4cae6d0dcaf3732fd91cedefc89f720"}}