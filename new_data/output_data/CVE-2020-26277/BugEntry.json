{"buggy_code": ["1.58.1\n", "## 1.58.1\t15-Dec-2020\n\n### BUGS FIXED\n\n* Fix Issue #124 (Can't reset defaults after an upgrade)\n\n## 1.58.0\t12-Dec-2020\n\n### NEW FEATURES\n\n* Add script `wipe_and_restart` to single sandboxes\n* Add scripts `exec_all`, `exec_all_masters`, `exec_all_slaves`, `wipe_and_restart_all` to replication sandboxes\n* Add subcommand `exec` to command `global`.\n\n## 1.57.0\t09-Dec-2020\n\n### NEW FEATURES\n\n* Add subcommands `import`, `export`, and `reset` to command `data-load`\n\n## 1.56.0\t02-Nov-2020\n\n### NEW FEATURES\n\n* Add options `--ls` and `--run` to command `use`\n* Add scripts `sysbench` and `sysbench_ready` to all sandboxes\n* Add command `data-load` with subcommands `list`, `show`, `get`\n\n### BUGS FIXED\n\n* Fix Issue #120 (Can't SELECT the mysql.user table in mariadb 10.4 or later)\n\n## 1.55.0\t10-Oct-2020\n\n### NEW FEATURES\n\n* Add second optional argument to `dbdeployer use` to indicate the executable to run within the sandbox.\n\n## 1.54.1\t27-Sep-2020\n\n### BUGS FIXED\n\n* Fix Issue #118 (dbdeployer fails to autodetect pxc flavor from binaries of 5.6.x versions)\n\n## 1.54.0\t13-Sep-2020\n\n### NEW FEATURES\n\n* The `send_kill` script accepts an argument `destroy` (aliases `-9` or `crash`) \n  to halt the server immediately.\n* The `delete` command is much faster (uses `send_kill destroy`)\n\n### BUGS FIXED\n\n* The `use` command should re-start a sandbox that was stopped, but it was not doing it (Issue #116)\n* Listing of small tarball for 8.0.21 lacked the 'minimal' attribute\n\n### NOTES\n\n* Added MySQL shell 8.0.21 to downloads list\n\n### TESTING\n\n* Improve `all_tests`: Now it doesn't require the version\n* Improve unit test script to detect where to run\n\n\n## 1.53.3\t29-Aug-2020\n\n### BUGS FIXED\n\n* Fixed issue #115: failing to detect missing `socat` for PXC\n\n## 1.53.2\t07-Aug-2020\n\n### BUGS FIXED\n\n* Fixed bug during `init`. When the sandbox-binary directory existed, but empty,\n  the download was skipped.\n* `dbdeployer downloads export` would not export the field `date_added`. Such field was\n   lost during build, due to a missed field in `code-generation.go`\n\n### NOTES\n\n* Added MySQL 5.7.31 to downloads list\n\n### TESTING\n\n* Added test for `dbdeployer init` under Docker containers for Ubuntu 18, Ubuntu 20, CentOS 7, CentOS 8\n\n\n## 1.53.1\t26-Jul-2020\n\n### BUGS FIXED\n\n* Fix bash completion for CentOS (missing completion script and unchecked `sudo` call)\n\n## 1.53.0\t26-Jul-2020\n\n### NEW FEATURES\n\n* Add command 'use' and sandboxes options\n* Add options `--by-date`, `--by-flavor`, `--by-version`, `--newest`, `--oldest` to command `sandboxes`\n\n### NOTES\n\n* Add latest MySQL tarballs to downloads list\n* Add Percona Server minimal to downloads list\n\n### BUGS FIXED\n\n* Fix issue #111 - allows using NDB 7.4/7.5\n\n\n## 1.52.0\t28-Jun-2020\n\n### NEW FEATURES\n\n* Add  command `init` that initializes dbdeployer environment\n    * creates `$SANDBOX_HOME` and `$SANDBOX_BINARY` directories\n    * downloads and expands the latest MySQL tarball\n    * installs shell completion file\n\n## 1.51.2\t15-Jun-2020\n\n### BUGS FIXED\n\n* Fix error handling on default directories detection for bash completion.\n\n## 1.51.1\t14-Jun-2020\n\n### BUGS FIXED\n\n* Fix bug in defaults handling: \"default-sandbox-executable\" was not used in `info defaults`\n* Prevent `ldd` from running on mocked binaries\n\n### TESTING\n\n* Moved mock tests under docker to improve consistency\n\n\n## 1.51.0\t12-Jun-2020\n\n### NEW FEATURES\n\n* Add default sandbox (commands `admin set-default` and `admin remove-default`)\n\n## 1.50.2\t07-Jun-2020\n\n### BUGS FIXED\n\n* Fix incorrect privileges when updating dbdeployer as root\n\n## 1.50.1\t06-Jun-2020\n\n### BUGS FIXED\n\n* Fix Issue #108: panic error when sandbox binary is not a directory\n\n## 1.50.0\t16-May-2020\n\n### NEW FEATURES\n\n* Add new options `--raw` and `--stats` to  command `info releases`\n* Add checksum files (SHA256) to release\n* Add signature check during dbdeployer update\n\n\n## 1.49.0\t26-Apr-2020\n\n### NEW FEATURES\n\n* Add `--change-master-options` (Issue #107)\n* Add more downloads (8.0.20, 5.7.30)\n\n### TESTING\n\n* Add more tests\n* Docker test now downloads latest 8.0 binaries instead of using built-in.\n\n## 1.48.0\t10-Apr-2020 (not released)\n\n* Improve PXC handling of defaults across versions\n* Fix defaults for PXC 5.6, which were broken after introducing support for PXC8.0 (Issue #106)\n\n\n## 1.47.0\t29-Mar-2020\n\n### ADJUSTMENTS\n\n* Add `pxc_encrypt_cluster_traffic` option to PXC options file\n  to adjust to recent default changes and allow PXC 8.0.18 to work\n  out of the box\n\n### Code improvements\n\n* Change all explicit `bash` paths in shell scripts to `env bash`\n\n## 1.46.0\t08-Mar-2020\n\n### NEW FEATURES\n\n* Add ability to deploy PXC 8.0 without using any options (dbdeployer\n  uses `wsrep_sst_method=rsync` for 5.7 and `wsrep_sst_method=xtrabackup-v2` for 8.0)\n\n## 1.45.0\t22-Feb-2020\n\n### NEW FEATURES\n\n* Add option `--task-user` and `--task-user-role` to create additional user with custom role.\n* Add cookbook recipe `single-custom-users` (include sample creation of orchestator user)\n\n### Code improvements\n\n* Add security checks with `gosec` scans\n* Update copyright notice\n\n### TESTING\n\n* Add test for cookbook scripts\n\n## 1.44.0\t16-Feb-2020\n\n### NEW FEATURES\n\n* Add custom role to 8.0 sandboxes\n* Add role related options: `--default-role`, `--custom-role-name`, `--custom-role-privileges`,\n  `--custom-role-target`, `--custom-role-extra`\n* Add filters to `global` command:\n  `--type`, `--flavor`, `--version`, `--short-version`, `--name`, `--port`, `--port-range`.\n  Each option can also be negated (`--type='!single'`, `--flavor=no-mysql`, `--port='!8019'`)\n* Add verbose and dry-run flags to `global`.\n* Add `metadata_all_template` script to composite sandboxes\n* Add command `downloads add`\n* Add tarballs for 5.7.29, 8.0.19 for MySQL and NDB (Linux and MacOS)\n\n### TESTING\n\n* Add test for tarball integrity and reachability\n\n## 1.43.2\t31-Jan-2020 (not released)\n\n### BUGS FIXED\n\n* Fix bug in NDB cluster: the cluster name was not reported correctly\n  in the NDB configuration file\n\n## 1.43.1\t22-Dec-2019\n\n### BUGS FIXED\n\n* Fix determination of shell interpreter\n\n## 1.43.0\t10-Nov-2019 \n\n### ADJUSTMENTS\n* Add 'IF NOT EXISTS' to 'CREATE ROLE', to account to changed\n  behavior of NDB server in 8.0.18\n\n### BUGS FIXED\n\n* Fix for hanging during library check (Issue #99)\n\n## 1.42.0\t01-Nov-2019 \n\n###\tNEW FEATURES\n* Explicit template for PXC replication options (Issues #87 and #92)\n  Allows installing PXC with version 5.6\n* Explicit template for Group replication options\n\n###\tBUGS FIXED\n* Fix command \"dbdeployer info version --flavor VER\"\n  It would not display the requested short version but\n  the latest one.\n\n## 1.41.0\t26-Oct-2019 \n\n###\tNEW FEATURES\n* dbdeployer can guess the next downloadable version with the command\n  `dbdeployer downloads get-by-version 8.0 --guess-latest`\n  or\n  `dbdeployer downloads get-by-version 5.7 --guess-latest`\n\t\n###\tBUGS FIXED\n* Issue #95 mismatched values in fan-in when using nodes > 3\n* Issue #93 Client detection for imported sandbox doesn't take flavor into account\n\n###\tTESTING\n* Add test for `FindOrGuessTarballByVersionFlavorOS`\n* Add mock test for fan-in nodes\n\n## 1.40.0\t19-Oct-2019 \n\n###\tNEW FEATURES\n* dbdeployer now detects when essential libraries are missing (Linux only)\n* New flag '--skip-library-check' will avoid the above automated detection\n  but will expose to the risk of having an incomplete sandbox if the\n  prerequisites were not satisfied.\n* Add tarballs for 8.0.18 and 5.7.28 to the downloads list\n* Add check to verify tarball correctness (they must contain a directory\n\t  that matches the tarball name)\n\n## 1.39.1\t02-Oct-2019 \n\n###\tBUGS FIXED:\n* Show stderr text when external commands fail - Issue #94\n* Enable start.log by default.\n* Add missing exit directive on failure in `init_db` template\n* Improve error messages on `init_db` failure\n* Build Linux amd64 instead of 386\n\n## 1.39.0\t21-Sep-2019 \n* Add script `clone_from` to clone from another 8.0.17+ server\n* Add option \"clone\" to script `replicate_from`\n* Add ability of detecting and using GTID to script `replicate_from`\n* Add ability of finding a suitable client for imported sandboxes\n* Add option --server-id to \"deploy single\" command\n* Add option --base-server-id to deploy command\n* Add option --sandbox-directory to import command\n\n## 1.38.0\t25-Aug-2019 \n\n###\tNEW FEATURES\n* add command dbdeployer import single \n\n\n## 1.37.0\t24-Aug-2019 (not released)\n\n### NEW FEATURES\n* Enable Go modules\n* Remove vendor directory\n* Change calls to StringSliceP with StringArrayP\n* (No changes in behavior. Some flags help items will display \"stringArray\" \n\t  instead of \"strings\")\n\n## 1.36.1\t18-Aug-2019\n\n### BUGS FIXED\n* Fix a bug in 'dbdeployer update': it only worked with --verbose enabled\n* Fix output of 'dbdeployer update': it now confirms that the update has\n\t  happened\n\n## 1.36.0\t17-Aug-2019\n\n### NEW FEATURES\n* Add command \"dbdeployer update\"\n* Add command \"dbdeployer info releases\"\n\n\n### BUGS FIXED\n* Fix 'dbdeployer info defaults': some values were not reported\n\n\n### TESTING\n* Add test for defaults info\n\n## 1.35.0\t11-Aug-2019\n\n### NEW FEATURES\n* Improve command \"dbdeployer downloads import\": it can also import from a URL\n* Add downloads binaries for 8.0.17 and 5.7.27\n* Add mysql-shell binaries in downloads\n\n\n### TESTING\n* More tests for `common/*`\n\n## 1.34.0\t30-Jun-2019\n\n### NEW FEATURES\n* Add command \"defaults enable-bash-completion\" to help install bash\n\t  completion\n* Add command \"defaults flag-aliases\" to show aliases for some flags\n* Add flag \"--earliest\" to command \"info version\"\n\n\n### BUGS FIXED\n* Downloads list should show files for current OS only\n* Fix tarball list generation to be rebuilt only when\n\t  contents change\n* Fix OS user detection to rely on operating system library calls\n\t  instead of environment variables.\n\t\n\n### TESTING\n* Replace `sort_versions` with calls to \"dbdeployer info version\"\n\n## 1.33.0\t16-Jun-2019\n\n### NEW FEATURES\n* Add command \"downloads get-unpack\" to combine the effects of\n\t  \"dbdeployer downloads get\" and \"dbdeployer unpack\" into a\n\t  single command (Issue #81)\n\n### BUGS FIXED\n* Issue #83 'unpack --overwrite' should not ask for confirmation\n* Issue #84 '--sandbox-binary' does not expand '~' to $HOME\n\n## 1.32.0\t09-Jun-2019\n\n### NEW FEATURE\n* Add option `--shell-path` to choose alternative Bash interpreter\n\t  used in all scripts, including cookbook recipes and mock scripts\n\n### TESTING\n* Add test for alternative Bash interpreter\n\n## 1.31.0\t22-May-2019\n\n### NEW FEATURES\n* Add command 'downloads'\n* add subcommand 'downloads list'\n* add subcommand 'downloads get'\n* add subcommand 'downloads get-by-version'\n* add subcommand 'downloads import'\n* add subcommand 'downloads export'\n* add subcommand 'downloads reset'\n\t\n### DEPRECATION\nThe command 'remote' is deprecated with its subcommands\nIts functionality is replaced by 'downloads', albeit with\na different syntax.\n\n## 1.30.1\t22-May-2019\n\n### BUGS FIXED\n* Fix issue #80 NDB tarballs are wrongly labeled as regular \"mysql\" flavor\n\n## 1.30.0\t05-May-2019\n\n### BUGS FIXED\n* Fix Issue #72 Catalog operations can clash with multiple dbdeployer runs\n* Fix wrong description for \"defaults update\"\n* Fix wrong description for \"cookbook create\"\n* Fix option `--sort-by` incorrectly assigned to command \"cookbook\" instead \n\t  of subcommand \"cookbook list\"\n\n### NEW FEATURES\n* Add command \"dbdeployer info\" to improve dbdeployer usage in scripts\n\n### TESTING\n* Add test for parallel usage\n* Reinstate parallel deployment in functional test\n* Improve replication between sandboxes test, by checking\n\t  for existing versions better.\n\n## 1.29.0\t30-Apr-2019\n\n### ADJUSTMENTS\n* Change upgrade procedure for MySQL 8.0.16+\n* Adjust cookbook upgrade recipe to use verbose output\n\n### NEW FEATURES\n* Add options `--dry-run` and --verbose to upgrade command\n\n### TESTING\n* Enhance export tests\n\n## 1.28.2\t22-Apr-2019\n\n### BUGS FIXED\n* Add missing error checks\n* Clean code that was failing static checks\n\n### TESTING\n* Add export tests\n* Add conditional static check to sanity test\n\n## 1.28.1\t14-Apr-2019\n\n### BUGS FIXED\nAdd missing `$` in recipe skip-start-replication\n\n## 1.28.0\t14-Apr-2019\n\n### NEW FEATURES\n* Add option --sort-by=[name,flavor,script] to cookbook list\n* Add option --flavor for versions command\n* Add command export to show dbdeployer command structure as JSON \n* Add cookbook recipes \n\t* Single sandbox deployed without starting the server\n\t* Replication sandbox deployed without starting the servers\n\t* Replication sandbox with custom names for directories and scripts\n\t* Single sandbox with admin address enabled\n\n### BUGS FIXES\n* Fixed plural of custom replication names\n\n\n## 1.27.0\t31-Mar-2019\n\n### NEW FEATURES\n* Add cookbook recipes:\n    * replication across multiple versions\n    * replication from group replication to single sandbox\n    * replication from group replication to master/slave\n    * replication from single sandbox to group replication\n    * replication from master/slave to group replication\n    * replication between single sandboxes\n    * circular replication\n\n\n## 1.26.0\t26-Mar-2019\n\n### NEW FEATURES\n* Add custom `replication_from` script to each sandbox.\n* Add metadata script to each sandbox\n* Add option -port-as-server-id\n* Add more info in `sb_include` script\n* Add connection info scripts to each sandbox\n* Add cookbook scripts for replication between groups, ndb, master/slave.\n\n### BUGS FIXED\n* Fix \"remote get\" bug: it should fail on Mac (Issue #76)\n* Fix port detection bug for NDB. The cluster port was not used in the search for free ports.\n* Sort cookbook listing (it was being displayed in random order)\n\n### TESTING\n* Add test for replication between sandboxes (single and master/slave)\n\n## 1.25.0\t24-Mar-2019 (not released)\n\n### ADJUSTMENTS/NEW FEATURES:\n* Add option `--enable-admin-address` for 8.0.14+\n* When admin address is enabled, `./use_admin` is created for each sandbox\n* multiple sandboxes have `./ma`, `./sa1` `./sa2`, `./na1`, `./na2` and `use_all_admin`\n\n## 1.24.0\t22-Mar-2019\n\n### NEW FEATURES:\n* Add command `cookbook` with subcommands list, show, create\n* Replace cookbook static sample scripts with dynamically created ones\n\n## 1.23.0\t14-Mar-2019\n\n### NEW FEATURES:\n* Add support for MySQL Cluster (topology=ndb)\n* Add option `--ndb-nodes` to replication\n\n## 1.22.0\t07-Mar-2019\n\n### ADJUSTMENTS:\nChange default authentication plugin for MariaDB 10.4.3 (Issue #67)\n\n## 1.21.0\t05-Mar-2019\n\n### NEW FEATURES:\n* Added support for Percona Xtradb Cluster (`--topology=pxc`) [Linux only]\n* Added check for Unix tools before deploying.\n\n## 1.20.0  24-Feb-2019 (not released)\n\n### NEW FEATURES:\n* Added command `delete-binaries`\n* Added option `--overwrite` to `unpack` command\n* Added flavors to `sandboxes`\n* Added options `--flavor` and `--full-info` to `sandboxes`\n* Added options `--flavor-in-prompt` to `deploy`\n* Added option `--socket-in-datadir` to `deploy`\n* Added option `--prompt` to `deploy single`\n\n## 1.19.0\t17-Feb-2019\n\n### ADJUSTMENTS:\n* Changed `remote get` docs to reflect changed names\n\n### BUGS FIXED:\n* Fixed Issue #48 error with multiple plugins\n* Fixed Issue #62 TiDB fails on MacOS\n\n### NEW FEATURES:\n* Added script `after_start` to sandboxes (does nothing by default,\n\t  but it is used by TiDB to clean-up unwanted scripts)\n\n## 1.18.0\t09-Feb-2019\n\n### NEW FEATURES:\n* Added support for TiDB\n* Added option `--client-from=X` (Issue #49)\n* Added option `--flavor`\n* Added flavor recording during unpack (Issue #52)\n* Added command `dbdeployer admin capabilities [flavor [version]]`\n* Added flavor detection based on files in expanded tarball (Issue #53)\n\n\tCode improvements:\n* Version evaluation replaced by *capabilities*, i.e. flavor + version (Issue #50)\n\n### BUGS FIXED:\n* Fix Issue #51 unpack command fails when tarball name doesn't include a version\n* Fix unpack panic when tarball does not include top directory\n* Fix count of total tests in `./test/all_tests`.sh\n\n### TESTING:\n* Added tests for TiDB, flavor detection, capabilities evaluation\n\n## 1.17.1\t26-Jan-2019\n* Fix Issue#46 - error creating catalog\n* Some test improvements\n\n## 1.17.0\t11-Jan-2019\n\n### NEW FEATURES:\n* Added options `--read-only-slaves` and `--super-read-only`-slaves\n\t  to `deploy replication` command. It only works for slaves of\n\t  `master-slave` and `fan-in` topologies.\n\n### BUGS FIXED:\n* Fixed bug in multi-master topologies, where replication\n\t  ports were not calculated correctly\n\n### Code improvements:\n* Added check for IP address in replication creation\n\n### TESTING:\n* Added test for read-only replication options\n* Added common failure tests for sandbox creation\n\n## 1.16.0\t05-Jan-2019\n\n### NEW FEATURES:\n* Add support for remote tarballs.\n* New commands: `remote list` and `remote download`\n\n## 1.15.1\t09-Dec-2018\n\n### Code improvements:\n\n* Removed all unconditional output in reusable code (common, sandbox)\n* Changed many public functions to private when unused outside package. \n* Added tests for most of functions in common  \n\tMinor bug fixes\n\n## 1.15.0\t02-Dec-2018\n\n### Code improvements:\n* Changed all code that can Exit instead of returning an error in \n\t  packages common, sandbox, defaults, unpack.\n* Packages common and defaults keep the functions that can exit\n\t  if they are only used with the CLI.\n* Changed all functions returning errors to have the error as the last\n\t  returning item.\n* Moved constants and many global variables from 'defaults' to new\n\t  'globals' package. This reduce the risk of circular import between\n\t  dbdeployer packages.\n\n## 1.14.0\t11-Nov-2018\n### Code readability improvements:\n* Added function `IsEnvSet`\n* Added variables for features minimum versions\n* Added constants for sandbox script names\n* Added constants for most used error messages\n* Added comparison functions for testing in a separate package\n* Replaced manual path composition with path.Join\n\n### NEW FEATURES:\n* Added support for MySQL 4.1\n* Added version info to sandbox scripts\n\n## 1.13.0\t27-Oct-2018\n\n### ADJUSTMENTS\n* Added ability of unpacking \"tar.xz\" files (tarballs for Linux are \n\t  compressed with xz instead of gzip as of MySQL 8.0.12)\n\n### BUGS FIXED\n* Fixed minor issue in unpack-shell. The unpacker was trying to\n\t  move the shell extracted directory to the server directory.\n\n## 1.12.4\t14-Oct-2018 (not released)\n* Code cleanup: fixed many code style violations\n* Added unit test for abbreviations module.\n\n## 1.12.3\t07-Oct-2018\n* Merged in PR #39 (add port to prompt)\n* Added tests for common/checks and common/tprintf\n* Refactored some code to improve testability\n\n## 1.12.2\t30-Sep-2018 (not released)\n* Replaced stack implementation\n* Added tests for stack and concurrency\n\n## 1.12.1\t23-Sep-2018\n\n### NEW FEATURES:\n* Added cookbook scripts\n\n### BUGS FIXED:\n* Fixed Issue #38 \"--force does not check for locked sb\"\n* Added missing copyright on some files.\n* Added check for missing copyright to `sanity_check.sh`\n\n## 1.12.0\t22-Sep-2018\n\n### NEW FEATURES:\n* Added sandbox operations logging (on demand)\n* Added option `--log-sb-operations` to enable logging\n* Added option `--log-directory` to change the default directory (`$SANDBOX_HOME`)\n* Added log-sb-operations and log-directory fields to default values.\n\n## 1.11.0\t09-Sep-2018\n\n### NEW FEATURES:\n* Added option `--repl-crash-safe` (Issue #36) to get crash safe params without GTID.\n\n### BUGS FIXED:\n* Fixed Issue #35 (--gtid should include relay-log-recovery)\n* Fixed Issue #37 (slave initialization with GTID should use\n\t  `MASTER_AUTO_POSITION`) and added test for GTID behavior.\n* Some code refactoring: simplified exit procedure\n\n## 1.10.2\t08-Sep-2018 (not released)\n* Code cleanup and formatting\n* Moved build script to ./scripts \n* Added option to build compressed executables (but defaults is still\n\t  uncompressed)\n* Added ./scripts/sanity_check.sh to verify formatting and code complaint.\n\n## 1.10.1\t01-Sep-2018\n* Fixed Issue#34 \"dbdeployer fails when .mylogin.cnf is found\"\n\n## 1.10.0\t27-Aug-2018\n* Fixed Issue#32 \"Error log was not created in data directory\"\n* Added command 'dbdeployer admin upgrade sandbox1 sandbox2' (Issue#33)\n\n## 1.9.0\t12-Aug-2018\n* Implemented Issue#31 \"Add feature to extract and merge a mysql-shell\n\t  tarball into a regular one\"\n\n## 1.8.4\t11-Aug-2018\n* Fixed Issue #30 \"--rpl-user and --db-user should not allow root\"\n\n## 1.8.3\t05-Aug-2018\n* Fixed Issue #26 \"Port management glitch\"\n\n## 1.8.2\t05-Aug-2018\n* Added ./vendor folder (simplifies dependencies)\n\n## 1.8.1\t03-Aug-2018\n* Fixed Issue #27 \"undetected deps when building with MKDOCS\"\n\t  No binary releases for this issue, as only build.sh is affected.\n\n## 1.8.1\t12-Jul-2018\n* Improved naming of error log for each sandbox\n\n## 1.8.0\t08-Jul-2018\n\n### NEW FEATURES\n* Implemented Issue 21 \"Add support for directly using path to binaries\"\n\n\n### BUGS FIXED\n* unpack would not act on old tarball where files were not \n\t  explicitly marked as regular.\n* Fixed Issue 22 \"dbdeployer should check whether the binaries are for the\n\tcurrent OS\"\n\n### TESTING\n* Added test for Issue 21\n\n## 1.7.0\t01-Jul-2018\n\n### NEW FEATURES\n* Added option for custom history file for each sandbox\n* Added option for unified history file in replication sandboxes.\n\n### BUGS FIXED\n* Fixed bug in functional-test.sh, where some of the subtests were not\n\t  executed.\n\n### TESTING\n* Improved error checking in all test scripts\n\n## 1.6.0\t19-Jun-2018\n\n### NEW FEATURES\n\t  Now it is possible to invoke dbdeployer with a short version number,\n\t  such as 5.7 or 8.0. In this case, dbdeployer will look for the latest\n\t  release of that MySQL version and use it.\n\n### BUGS FIXED\n* Command line was not saved to dbdeployer catalog\n\n### TESTING\n* Added test for short versions\n* Added test for command line in catalog\n\n## 1.5.3\t10-Jun-2018\n* Fixed Issue #16 \"Rename during unpack command fails\" by making\n\t  sure the path for sandbox-home and sandbox-binary are absolute ones.\n\n## 1.5.2\t09-Jun-2018\n\n### BUGS FIXED\n* Added a stack of cleanup operations for group sandboxes when a depending \n\t  sandbox installation fails\n* Fixed help message of \"unpack\" command.\n\n### ADJUSTMENTS\n* When using `mysqld-debug`, plugins are loaded from\n\t  $BASEDIR/lib/plugin/debug (https://bugs.mysql.com/bug.php?id=89688)\n\n### TESTING\n* Added test for data dictionary tables exposure\n\n## 1.5.1\t05-Jun-2018\n* Improved documentation.\n* Minor code refactoring\n\n## 1.5.0\t12-May-2018\n\n### NEW FEATURES\n* Added option `--binary-version`, which allows the basedir to be other than\n\t  {prefix}x.x.xx\n* Added command line record to sbdescription.json, to the catalog,\n\t  and to the defaults listing.\n\n### BUGS FIXED\n* Fixed Issue #10 (again). The directory for symlinks was not created\n\t  timely, resulting in errors with some tarballs.\n\tVARIOUS\n* Minor code refactoring\n* Changes in templates for single sandbox scripts. Now almost all scripts\n\t  source a file containing common code (sb_include). The behavior\n\t  of the scripts is unchanged.\n\n### TESTING\n* Added test for `--binary-version`\n\n## 1.4.2\t06-May-2018\n* Code reformatting and minor refactoring \n* Fixed syntax error in code for tree.go\n* Added coding sample minimal-sandbox2.go\n\n## 1.4.1\t05-May-2018\n* Merged pull request #11 from percona-csalguero/include_version_in_dir\n* Fixed Issue #12 \"deploying a sandbox with invalid version does not fail\"\n* Fixed minor bugs\n* Removed unnecessary parameter in CreateSingleSandbox\n* Added instructions to call CreateSingleSandbox from other apps\n\t  See ./docs/coding\n* Minor code refactoring for Exit calls\n* Added mock sandbox creation for unit tests\n\n## 1.4.0\t28-Apr-2018\n\n### NEW FEATURES:\n* Added option `--enable-mysqlx` (MySQL 5.7.12+)\n* Added options `--enable-general-log` and `--init-general-log`\n* Added list of \"reserverd-ports\" to defaults\n* Increased documentation inside command \"usage\"\n* Added dbdeployer version and timestamp to sandbox descriprtion files.\n* Added \"mysqlsh\" script to sandboxes 5.7.12+ with Xplugin enabled\n* Added `show_log` script to all sandboxes\n* Improved interface of `show_binlog` and `show_relaylog`\n\n### TESTING\n* Added tests for reserved-ports\n* Added test for mysqlsh and `show_*` creation\n\tVARIOUS\n* Updated documentation\n\n## 1.3.0\t21-Apr-2018\n\n### ADJUSTMENTS:\n* Added support for mysqlx plugin being enabled by default (MySQL 8.0.11+)\n* Added flag \"--disable-mysqlx\" to disable mysqlx plugin (8.0.11+)\n\n### NEW FEATURES:\n* Added scripts `use_all_masters` and `use_all_slaves` to all replication\n\t  sandboxes.\n* Added option `--verbosity={0,1,2}` to *unpack* command.\n\n### BUGS FIXED:\n* Fixed Issue#10 \"dbdeployer unpack does not handle symlinks\"\n* Fixed minor bug in documentation test builder.\n\n### TESTING\n* Added tests for number of ports, log errors, `use_all_masters`,\n\t  `use_all_slaves`, running processes.\n* Added options to stop tests after a given set of operations.\n* Removed restriction on running 5.6 tests in docker for Mac.\n\n## 1.2.0\t14-Apr-2018\n* Added option `--skip-start`\n* Added report-port and report-host automatically to my.sandbox.cnf\n* Added options `--skip-report-host` and `--skip-report-port`\n* Added documentation dbdeployer compiling.\n* Added documentation for `--skip-start`\n* Enhanced build.sh to handle dependencies.\n* Added tests for `--skip-start` and report-host/report-port behavior.\n\n## 1.1.1\t02-Apr-2018\n* Added more documentation\n* Added bash-completion script\n* Moved hidden command \"tree\" to conditional compiling.\n\t  Now there is a separated build for docs-enabled dbdeployer\n* Added ability of producing more documentation using command \"tree\"\n\n## 1.1.0\t30-Mar-2018\n* Added ability of handling environment variables\n\t  in configuration file. $HOME and $PWD are expanded\n\t  to actual values.\n* Added hidden command \"tree\" that can generate the\n\t  full dbdeployer API. Using this feature, from now on\n\t  we can compare API changes automatically.\n* Fixed visualization of sandboxes from catalog\n* Fixed minor code issues.\n* Added tests for environment variable replacement\n\n## 1.0.1\t28-Mar-2018\n* Fixed Issue #5 \"Single deployment doesn't show the location of the\n\t  sandbox\"\n* Added API definition (`./docs/API-1.0.md`)\n* Added test for Issue #5\n* Fixed typos and improved docs.\n\n## 1.0.0\t26-Mar-2018\n* General Availability.\n* Fixed bug with single deployment and --force. On the second deployment,\n\t  the port was changed.\n* More tests added. The test suite now runs a total of 3,013 tests (MacOS)\n\t  and 3,143 (Linux). A total of 6,156 tests that ran at least twice (once \n\t  with concurrency and once without)\n\n## 0.3.9\t25-Mar-2018\n* Added version detection to `unpack` command. Now `--unpack-version`\n\t  becomes mandatory only if a version is not detected from the tarball\n\t  name.\n* Added `--header` flag to `sandboxes` command.\n* More tests and improved tests.\n\n## 0.3.8\t24-Mar-2018\n* Fixed deployment bug in fan-in replication\n* Added tests for fan-in replication, sandbox completeness, start,\n\t  restart, and `add_options`.\n\n## 0.3.7\t24-Mar-2018\n* Added `--semi-sync` option to replication\n* Added more tests\n\n## 0.3.6\t21-Mar-2018\n* Minor change to templates\n* Added test for export/import templates\n* Added more tests for pre/post grants SQL\n\n## 0.3.5\t21-Mar-2018\n* Added test for on-the-fly template replacement\n* Trivial changes to \"sandboxes\" output\n\n## 0.3.4\t20-Mar-2018\n* Changed test for group replication (now uses the\n\t  same defined for multi-source replication)\n* Improved usability of tests.\n* Made tests easier to extend.\n* Added test for pre/post grants SQL.\n\n## 0.3.3\t16-Mar-2018\n* Added (mock) tests for unpack command\n* Improved test reporting\n* Added list of environment variables\n\n## 0.3.2\t15-Mar-2018\n* Minor bug fixes\n* Added more tests\n\n## 0.3.1\t12-Mar-2018\n* Added topologies \"fan-in\" and \"all-masters\"\n* Feature complete: This is release candidate for 1.0\n* Fixed bug on UUID generation.\n\n## 0.3.0\t11-Mar-2018\n* Implemented parallel deployment of multiple sandboxes\n* Flag --concurrent is available for *deploy* and *delete*\n* Improved tests\n\n## 0.2.5\t10-Mar-2018\n* Added --catalog to \"sandboxes\" command\n* Improved tests\n\n## 0.2.4\t08-Mar-2018\n* INCOMPATIBLE CHANGES:\n    * MySQL 8.0.x now starts with `caching_sha2_password` by default.\n    * flag \"`--keep-auth-plugin`\" was removed. Instead, we now have\n\t    \"`--native-auth-plugin`\", false by default, which will use the old\n\t\tplugin if enabled.\n    * The sandbox catalog is now enabled by default. It can be disabled\n\t    using either the environment variable `SKIP_DBDEPLOYER_CATALOG`\n\t\tor using the configuration file.\n* Added workaround for bug#89959: replication with 8.0 and\n\t  `caching_sha2_password` fails\n\n\n## 0.2.3\t07-Mar-2018 (not released)\n* Improved mock test speed by parametrizing sleep intervals:\n    * 200 mock sandboxes tested in 73 seconds (previously, 15 minutes).\n    * 2144 mock sandboxes tested in 23 minutes (previously, 145 minutes)\n\n## 0.2.2\t07-Mar-2018\n* Now dbdeployer finds unused ports automatically, to avoid conflicts.\n* Added ability of running faster tests with mock MySQL packages.\n\n## 0.2.1\t04-Mar-2018\n* Added `--defaults` flag\n* Removed hardcoded names for multiple sandbox directories and shortcuts.\n* Added directory names and shortcuts for multiple sandboxes to configuration data\n* Added ability of exporting/importing a single template.\n* Fixed visualization error with template export\n* Added interactivity to main test script.\n\n## 0.2.0\t27-Feb-2018\n* INCOMPATIBLE CHANGES:\n    * \"single\", \"multiple\", and \"replication\" are now subcommands of \"deploy\".\n    * Previous \"admin\" commands are now under \"defaults\"\n    * \"templates\" is now a subcommand of \"defaults\"\n    * New \"admin\" command only supports \"lock\" and \"unlock\"\n\n* EXPERIMENTAL FEATURE:\n\t\tThere is a sandbox catalog being created and updated in\n\t\t`$HOME/.dbdeployer/sandboxes.json`.\n\t\tThe deployment and deletion commands handle the catalog\n\t\ttransparently. Disabled by default. It can be enabled by\n\t\tsetting the environment variable `DBDEPLOYER_CATALOG`\n\n\n## 0.1.25\t26-Feb-2018\n* Added commands \"admin lock\" and \"admin unlock\" to prevent/allow deletion\n\tof a sandbox.\n* Added placeholder fields for multi-source clustering in defaults\n\n## 0.1.24\t20-Feb-2018\n* Fixed bug with \"sandboxes\" command. It would not check if the\n\t  `sandbox_home` directory existed.\n* Fixed bug in \"sandboxes\" command. It would not report sandboxes\n\t  created by other applications (MySQL-Sandbox)\n* Added check for template version during export/import\n* Added tests for UUID generation\n* Improved docker test\n\n## 0.1.23\t19-Feb-2018\n* Added \"test-replication\" to \"global\" command\n* Added several aliases to \"unpack\"\n* Changed template `init_db`, to allow for easier customization\n* Added test for docker. The full test suite can run in a container.\n* Simplified test.sh by using \"dbdeployer global\" rather than hand made\n\t  loops.\n\n## 0.1.22\t18-Feb-2018\n* All values used for sandbox deployment are now modifiable.\n* Added command \"admin\" to deal with default values:\n\t  show, store, remove, load, update, export\n* Refactored global variables to become modifiable through the \"admin\"\n\t  command\n* Added commands for template export and import.\n\n## 0.1.21\t16-Feb-2018\n* Added flag `--expose-dd-tables` to show data dictionary hidden tables\n* Added flag `--custom-mysqld` to use different server executable\n\n## 0.1.20\t14-Feb-2018\n* Added flags for pre and post grants SQL execution.\n* `--pre-grants-sql-file`\n* `--pre-grants-sql`\n* `--post-grants-sql-file`\n* `--post-grants-sql`\n* Fixed bug (in cobra+pflag package) that splits multiple commands by comma.\n\n## 0.1.19\t14-Feb-2018\n* MySQL 8.0+ sandboxes now use roles instead of direct privilege\n\tassignments.\n* Added global flag --force to overwrite an existing deployment\n* Added global flag `--my-cnf-file` to use a customized my.cnf\n* Added flag `--master-ip` to replication deployments\n* Fixed bug in abbreviations: flags were not considered correctly.\n\n## 0.1.18\t12-Feb-2018\n* The \"delete\" command now supports \"ALL\" as argument. It will delete all installed sandboxes.\n* Added flag \"--skip-confirm\" for the \"delete\" command, to delete without confirmation.\n* Fixed mistake during initialization: the version search was happening before the check\n\t  for the sandbox home directory.\n* Added the \"global\" command to propagate a command to all sandboxes\n\n## 0.1.17\t11-Feb-2018\n* Added automated README generation\n* minor code changes\n\n## 0.1.16\t10-Feb-2018\n* Added automatic generation of human-readable server-UUID\n* Added flag `--keep-server-uuid` to prevent the above change\n\n## 0.1.15\t08-Feb-2018\n* Changed default port and sandbox directory for single-primary group\n\t  replication.\n* Added custom abbreviations feature.\n\n## 0.1.14\t07-Feb-2018\n* Added script `test_sb` to every single sandbox\n* Added script `test_sb_all` to all multiple/group/replication sandbox\n* Added script `test_replication` to replication sandboxes\n* Added test/test.sh, which runs a comprehensive test of most dbdeployer features\n\n## 0.1.13\t06-Feb-2018\n* Added command \"templates export\"\n* Added flag `--single-primary` for group replication\n* Added flags `--sandbox-directory`, --port, and base-port\n\t  to allow deploying several sandboxes of the same version.\n* Added a check for clash on installed ports\n* INCOMPATIBLE change: Changed format of sbdescription.json:\n\t  now can list several ports per sandbox.\n\n## 0.1.12\t04-Feb-2018\n* Added a check for version before applying gtid.\n* Added commands templates list/show/describe\n* Added `--use-template=template_name:file_name` flag\n\n## 0.1.11\t31-Jan-2018\n* Improved check for tarball as an argument to single, replication,\n\tmultiple.\n* Improved help for single, multiple, and replication\n* Added customized prompt for configuration file\n\n## 0.1.10\t30-Jan-2018\n* Changed initialization method to use tarball libraries\n* Fixed glitch in \"unpack\" when original tarball has clashing name\n\n## 0.1.09\t30-Jan-2018\n* Updated README.md\n* Changed formatting for \"usage\" command\n* Run detection of invalid group replication earlier.\n* Added version to sandbox description file\n\n## 0.1.08\t29-Jan-2018\n* Added sandbox description file\n* 'sandboxes' command uses above file for sandbox listing\n* Added 'delete' command\n\n## 0.1.07\t29-Jan-2018\n* improved documentation\n* Added \"usage\" command\n* Added description to \"sandboxes\" output\n* Added check for version format\n* Changed message for missing argument\n* Added check for sandbox-home existence\n\n## 0.1.06\t28-Jan-2018\n* Added group replication topology.\n\n## 0.1.05\t27-Jan-2018\n* Added option --master to 'single' command\n* Added new commands to each sandbox: `add_option`, `show_binlog`,\n\t`show_relaylog`, my.\n\n## 0.1.04\t26-Jan-2018\n* Added short names for some flags.\n* Improved commands usage text\n\n## 0.1.03\t26-Jan-2018\n* Modified `--my-cnf-options` and --init-options to be accepted multiple\n\ttimes\n\n## 0.1.02\t25-Jan-2018\n* Fixed bug in unpack when basedir was not created.\n\n## 0.1.01\t25-Jan-2018\n* Fixed inclusion of options in my.sandbox.cnf (`--my-cnf-options`)\n* Added command 'multiple'\n* Enhanced documentation\n\n## 0.1.00\t24-Jan-2018\n* Initial commit with basic features migrated from MySQL-Sandbox\n", "// DBDeployer - The MySQL Sandbox\n// Copyright \u00a9 2006-2020 Giuseppe Maxia\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\npackage common\n\n// This file was generated during build. Do not edit.\n// Build time: 2020-12-14 16:00\n\nvar VersionDef string = \"1.58.1\" // 2020-12-14\n\n// Compatible version is the version used to mark compatible archives (templates, configuration).\n// It is usually major.minor.0, except when we are at version 0.x, when\n// every revision may bring incompatibility\nvar CompatibleVersion string = \"1.58.0\" // 2020-12-11\n", "module github.com/datacharmer/dbdeployer\n\ngo 1.12\n\nrequire (\n\tgithub.com/alexeyco/simpletable v0.0.0-20180729223640-1fa9009f1080\n\tgithub.com/araddon/dateparse v0.0.0-20190622164848-0fb0a474d195\n\tgithub.com/dustin/go-humanize v1.0.0\n\tgithub.com/go-sql-driver/mysql v1.4.1\n\tgithub.com/nightlyone/lockfile v0.0.0-20180618180623-0ad87eef1443\n\tgithub.com/pkg/errors v0.8.1\n\tgithub.com/spf13/cobra v1.0.0\n\tgithub.com/spf13/pflag v1.0.3\n\tgithub.com/stretchr/testify v1.4.0 // indirect\n\tgithub.com/xi2/xz v0.0.0-20171230120015-48954b6210f8\n\tgolang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n\tgolang.org/x/sys v0.0.0-20190507160741-ecd444e8653b // indirect\n)\n", "cloud.google.com/go v0.26.0/go.mod h1:aQUYkXzVsufM+DwF1aE+0xfcU+56JwCaLick0ClmMTw=\ngithub.com/BurntSushi/toml v0.3.1 h1:WXkYYl6Yr3qBf1K79EBnL4mak0OimBfB0XUf9Vl28OQ=\ngithub.com/BurntSushi/toml v0.3.1/go.mod h1:xHWCNGjB5oqiDr8zfno3MHue2Ht5sIBksp03qcyfWMU=\ngithub.com/OneOfOne/xxhash v1.2.2/go.mod h1:HSdplMjZKSmBqAxg5vPj2TmRDmfkzw+cTzAElWljhcU=\ngithub.com/alecthomas/template v0.0.0-20160405071501-a0175ee3bccc/go.mod h1:LOuyumcjzFXgccqObfd/Ljyb9UuFJ6TxHnclSeseNhc=\ngithub.com/alecthomas/units v0.0.0-20151022065526-2efee857e7cf/go.mod h1:ybxpYRFXyAe+OPACYpWeL0wqObRcbAqCMya13uyzqw0=\ngithub.com/alexeyco/simpletable v0.0.0-20180729223640-1fa9009f1080 h1:LxG2QAVrS0Ml5A5/YUG5BLOJOrx2OR9yT9vkKW3CmUQ=\ngithub.com/alexeyco/simpletable v0.0.0-20180729223640-1fa9009f1080/go.mod h1:gx4+gp4N5VWqThMIidoUMBNUCT4Pan3J8ETR1ParWUU=\ngithub.com/araddon/dateparse v0.0.0-20190622164848-0fb0a474d195 h1:c4mLfegoDw6OhSJXTd2jUEQgZUQuJWtocudb97Qn9EM=\ngithub.com/araddon/dateparse v0.0.0-20190622164848-0fb0a474d195/go.mod h1:SLqhdZcd+dF3TEVL2RMoob5bBP5R1P1qkox+HtCBgGI=\ngithub.com/armon/consul-api v0.0.0-20180202201655-eb2c6b5be1b6/go.mod h1:grANhF5doyWs3UAsr3K4I6qtAmlQcZDesFNEHPZAzj8=\ngithub.com/beorn7/perks v0.0.0-20180321164747-3a771d992973/go.mod h1:Dwedo/Wpr24TaqPxmxbtue+5NUziq4I4S80YR8gNf3Q=\ngithub.com/beorn7/perks v1.0.0/go.mod h1:KWe93zE9D1o94FZ5RNwFwVgaQK1VOXiVxmqh+CedLV8=\ngithub.com/cespare/xxhash v1.1.0/go.mod h1:XrSqR1VqqWfGrhpAt58auRo0WTKS1nRRg3ghfAqPWnc=\ngithub.com/client9/misspell v0.3.4/go.mod h1:qj6jICC3Q7zFZvVWo7KLAzC3yx5G7kyvSDkc90ppPyw=\ngithub.com/coreos/bbolt v1.3.2/go.mod h1:iRUV2dpdMOn7Bo10OQBFzIJO9kkE559Wcmn+qkEiiKk=\ngithub.com/coreos/etcd v3.3.10+incompatible/go.mod h1:uF7uidLiAD3TWHmW31ZFd/JWoc32PjwdhPthX9715RE=\ngithub.com/coreos/go-semver v0.2.0/go.mod h1:nnelYz7RCh+5ahJtPPxZlU+153eP4D4r3EedlOD2RNk=\ngithub.com/coreos/go-systemd v0.0.0-20190321100706-95778dfbb74e/go.mod h1:F5haX7vjVVG0kc13fIWeqUViNPyEJxv/OmvnBo0Yme4=\ngithub.com/coreos/pkg v0.0.0-20180928190104-399ea9e2e55f/go.mod h1:E3G3o1h8I7cfcXa63jLwjI0eiQQMgzzUDFVpN/nH/eA=\ngithub.com/cpuguy83/go-md2man/v2 v2.0.0 h1:EoUDS0afbrsXAZ9YQ9jdu/mZ2sXgT1/2yyNng4PGlyM=\ngithub.com/cpuguy83/go-md2man/v2 v2.0.0/go.mod h1:maD7wRr/U5Z6m/iR4s+kqSMx2CaBsrgA7czyZG/E6dU=\ngithub.com/davecgh/go-spew v1.1.0/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/davecgh/go-spew v1.1.1 h1:vj9j/u1bqnvCEfJOwUhtlOARqs3+rkHYY13jYWTU97c=\ngithub.com/davecgh/go-spew v1.1.1/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/dgrijalva/jwt-go v3.2.0+incompatible/go.mod h1:E3ru+11k8xSBh+hMPgOLZmtrrCbhqsmaPHjLKYnJCaQ=\ngithub.com/dgryski/go-sip13 v0.0.0-20181026042036-e10d5fee7954/go.mod h1:vAd38F8PWV+bWy6jNmig1y/TA+kYO4g3RSRF0IAv0no=\ngithub.com/dustin/go-humanize v1.0.0 h1:VSnTsYCnlFHaM2/igO1h6X3HA71jcobQuxemgkq4zYo=\ngithub.com/dustin/go-humanize v1.0.0/go.mod h1:HtrtbFcZ19U5GC7JDqmcUSB87Iq5E25KnS6fMYU6eOk=\ngithub.com/fsnotify/fsnotify v1.4.7/go.mod h1:jwhsz4b93w/PPRr/qN1Yymfu8t87LnFCMoQvtojpjFo=\ngithub.com/ghodss/yaml v1.0.0/go.mod h1:4dBDuWmgqj2HViK6kFavaiC9ZROes6MMH2rRYeMEF04=\ngithub.com/go-kit/kit v0.8.0/go.mod h1:xBxKIO96dXMWWy0MnWVtmwkA9/13aqxPnvrjFYMA2as=\ngithub.com/go-logfmt/logfmt v0.3.0/go.mod h1:Qt1PoO58o5twSAckw1HlFXLmHsOX5/0LbT9GBnD5lWE=\ngithub.com/go-logfmt/logfmt v0.4.0/go.mod h1:3RMwSq7FuexP4Kalkev3ejPJsZTpXXBr9+V4qmtdjCk=\ngithub.com/go-sql-driver/mysql v1.4.1 h1:g24URVg0OFbNUTx9qqY1IRZ9D9z3iPyi5zKhQZpNwpA=\ngithub.com/go-sql-driver/mysql v1.4.1/go.mod h1:zAC/RDZ24gD3HViQzih4MyKcchzm+sOG5ZlKdlhCg5w=\ngithub.com/go-stack/stack v1.8.0/go.mod h1:v0f6uXyyMGvRgIKkXu+yp6POWl0qKG85gN/melR3HDY=\ngithub.com/gogo/protobuf v1.1.1/go.mod h1:r8qH/GZQm5c6nD/R0oafs1akxWv10x8SbQlK7atdtwQ=\ngithub.com/gogo/protobuf v1.2.1/go.mod h1:hp+jE20tsWTFYpLwKvXlhS1hjn+gTNwPg2I6zVXpSg4=\ngithub.com/golang/glog v0.0.0-20160126235308-23def4e6c14b/go.mod h1:SBH7ygxi8pfUlaOkMMuAQtPIUF8ecWP5IEl/CR7VP2Q=\ngithub.com/golang/groupcache v0.0.0-20190129154638-5b532d6fd5ef/go.mod h1:cIg4eruTrX1D+g88fzRXU5OdNfaM+9IcxsU14FzY7Hc=\ngithub.com/golang/mock v1.1.1/go.mod h1:oTYuIxOrZwtPieC+H1uAHpcLFnEyAGVDL/k47Jfbm0A=\ngithub.com/golang/protobuf v1.2.0/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=\ngithub.com/golang/protobuf v1.3.1 h1:YF8+flBXS5eO826T4nzqPrxfhQThhXl0YzfuUPu4SBg=\ngithub.com/golang/protobuf v1.3.1/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=\ngithub.com/google/btree v1.0.0/go.mod h1:lNA+9X1NB3Zf8V7Ke586lFgjr2dZNuvo3lPJSGZ5JPQ=\ngithub.com/google/go-cmp v0.2.0/go.mod h1:oXzfMopK8JAjlY9xF4vHSVASa0yLyX7SntLO5aqRK0M=\ngithub.com/gorilla/websocket v1.4.0/go.mod h1:E7qHFY5m1UJ88s3WnNqhKjPHQ0heANvMoAMk2YaljkQ=\ngithub.com/grpc-ecosystem/go-grpc-middleware v1.0.0/go.mod h1:FiyG127CGDf3tlThmgyCl78X/SZQqEOJBCDaAfeWzPs=\ngithub.com/grpc-ecosystem/go-grpc-prometheus v1.2.0/go.mod h1:8NvIoxWQoOIhqOTXgfV/d3M/q6VIi02HzZEHgUlZvzk=\ngithub.com/grpc-ecosystem/grpc-gateway v1.9.0/go.mod h1:vNeuVxBJEsws4ogUvrchl83t/GYV9WGTSLVdBhOQFDY=\ngithub.com/hashicorp/hcl v1.0.0/go.mod h1:E5yfLk+7swimpb2L/Alb/PJmXilQ/rhwaUYs4T20WEQ=\ngithub.com/inconshreveable/mousetrap v1.0.0 h1:Z8tu5sraLXCXIcARxBp/8cbvlwVa7Z1NHg9XEKhtSvM=\ngithub.com/inconshreveable/mousetrap v1.0.0/go.mod h1:PxqpIevigyE2G7u3NXJIT2ANytuPF1OarO4DADm73n8=\ngithub.com/jonboulle/clockwork v0.1.0/go.mod h1:Ii8DK3G1RaLaWxj9trq07+26W01tbo22gdxWY5EU2bo=\ngithub.com/julienschmidt/httprouter v1.2.0/go.mod h1:SYymIcj16QtmaHHD7aYtjjsJG7VTCxuUUipMqKk8s4w=\ngithub.com/kisielk/errcheck v1.1.0/go.mod h1:EZBBE59ingxPouuu3KfxchcWSUPOHkagtvWXihfKN4Q=\ngithub.com/kisielk/gotool v1.0.0/go.mod h1:XhKaO+MFFWcvkIS/tQcRk01m1F5IRFswLeQ+oQHNcck=\ngithub.com/konsorten/go-windows-terminal-sequences v1.0.1 h1:mweAR1A6xJ3oS2pRaGiHgQ4OO8tzTaLawm8vnODuwDk=\ngithub.com/konsorten/go-windows-terminal-sequences v1.0.1/go.mod h1:T0+1ngSBFLxvqU3pZ+m/2kptfBszLMUkC4ZK/EgS/cQ=\ngithub.com/kr/logfmt v0.0.0-20140226030751-b84e30acd515/go.mod h1:+0opPa2QZZtGFBFZlji/RkVcI2GknAs/DXo4wKdlNEc=\ngithub.com/kr/pretty v0.1.0 h1:L/CwN0zerZDmRFUapSPitk6f+Q3+0za1rQkzVuMiMFI=\ngithub.com/kr/pretty v0.1.0/go.mod h1:dAy3ld7l9f0ibDNOQOHHMYYIIbhfbHSm3C4ZsoJORNo=\ngithub.com/kr/pty v1.1.1/go.mod h1:pFQYn66WHrOpPYNljwOMqo10TkYh1fy3cYio2l3bCsQ=\ngithub.com/kr/text v0.1.0 h1:45sCR5RtlFHMR4UwH9sdQ5TC8v0qDQCHnXt+kaKSTVE=\ngithub.com/kr/text v0.1.0/go.mod h1:4Jbv+DJW3UT/LiOwJeYQe1efqtUx/iVham/4vfdArNI=\ngithub.com/magiconair/properties v1.8.0/go.mod h1:PppfXfuXeibc/6YijjN8zIbojt8czPbwD3XqdrwzmxQ=\ngithub.com/matttproud/golang_protobuf_extensions v1.0.1/go.mod h1:D8He9yQNgCq6Z5Ld7szi9bcBfOoFv/3dc6xSMkL2PC0=\ngithub.com/mitchellh/go-homedir v1.1.0/go.mod h1:SfyaCUpYCn1Vlf4IUYiD9fPX4A5wJrkLzIz1N1q0pr0=\ngithub.com/mitchellh/mapstructure v1.1.2/go.mod h1:FVVH3fgwuzCH5S8UJGiWEs2h04kUh9fWfEaFds41c1Y=\ngithub.com/mwitkow/go-conntrack v0.0.0-20161129095857-cc309e4a2223/go.mod h1:qRWi+5nqEBWmkhHvq77mSJWrCKwh8bxhgT7d/eI7P4U=\ngithub.com/nightlyone/lockfile v0.0.0-20180618180623-0ad87eef1443 h1:+2OJrU8cmOstEoh0uQvYemRGVH1O6xtO2oANUWHFnP0=\ngithub.com/nightlyone/lockfile v0.0.0-20180618180623-0ad87eef1443/go.mod h1:JbxfV1Iifij2yhRjXai0oFrbpxszXHRx1E5RuM26o4Y=\ngithub.com/oklog/ulid v1.3.1/go.mod h1:CirwcVhetQ6Lv90oh/F+FBtV6XMibvdAFo93nm5qn4U=\ngithub.com/pelletier/go-toml v1.2.0/go.mod h1:5z9KED0ma1S8pY6P1sdut58dfprrGBbd/94hg7ilaic=\ngithub.com/pkg/errors v0.8.0 h1:WdK/asTD0HN+q6hsWO3/vpuAkAr+tw6aNJNDFFf0+qw=\ngithub.com/pkg/errors v0.8.0/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=\ngithub.com/pkg/errors v0.8.1 h1:iURUrRGxPUNPdy5/HRSm+Yj6okJ6UtLINN0Q9M4+h3I=\ngithub.com/pkg/errors v0.8.1/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=\ngithub.com/pmezard/go-difflib v1.0.0 h1:4DBwDE0NGyQoBHbLQYPwSUPoCMWR5BEzIk/f1lZbAQM=\ngithub.com/pmezard/go-difflib v1.0.0/go.mod h1:iKH77koFhYxTK1pcRnkKkqfTogsbg7gZNVY4sRDYZ/4=\ngithub.com/prometheus/client_golang v0.9.1/go.mod h1:7SWBe2y4D6OKWSNQJUaRYU/AaXPKyh/dDVn+NZz0KFw=\ngithub.com/prometheus/client_golang v0.9.3/go.mod h1:/TN21ttK/J9q6uSwhBd54HahCDft0ttaMvbicHlPoso=\ngithub.com/prometheus/client_model v0.0.0-20180712105110-5c3871d89910/go.mod h1:MbSGuTsp3dbXC40dX6PRTWyKYBIrTGTE9sqQNg2J8bo=\ngithub.com/prometheus/client_model v0.0.0-20190129233127-fd36f4220a90/go.mod h1:xMI15A0UPsDsEKsMN9yxemIoYk6Tm2C1GtYGdfGttqA=\ngithub.com/prometheus/common v0.0.0-20181113130724-41aa239b4cce/go.mod h1:daVV7qP5qjZbuso7PdcryaAu0sAZbrN9i7WWcTMWvro=\ngithub.com/prometheus/common v0.4.0/go.mod h1:TNfzLD0ON7rHzMJeJkieUDPYmFC7Snx/y86RQel1bk4=\ngithub.com/prometheus/procfs v0.0.0-20181005140218-185b4288413d/go.mod h1:c3At6R/oaqEKCNdg8wHV1ftS6bRYblBhIjjI8uT2IGk=\ngithub.com/prometheus/procfs v0.0.0-20190507164030-5867b95ac084/go.mod h1:TjEm7ze935MbeOT/UhFTIMYKhuLP4wbCsTZCD3I8kEA=\ngithub.com/prometheus/tsdb v0.7.1/go.mod h1:qhTCs0VvXwvX/y3TZrWD7rabWM+ijKTux40TwIPHuXU=\ngithub.com/rogpeppe/fastuuid v0.0.0-20150106093220-6724a57986af/go.mod h1:XWv6SoW27p1b0cqNHllgS5HIMJraePCO15w5zCzIWYg=\ngithub.com/russross/blackfriday/v2 v2.0.1 h1:lPqVAte+HuHNfhJ/0LC98ESWRz8afy9tM/0RK8m9o+Q=\ngithub.com/russross/blackfriday/v2 v2.0.1/go.mod h1:+Rmxgy9KzJVeS9/2gXHxylqXiyQDYRxCVz55jmeOWTM=\ngithub.com/shurcooL/sanitized_anchor_name v1.0.0 h1:PdmoCO6wvbs+7yrJyMORt4/BmY5IYyJwS/kOiWx8mHo=\ngithub.com/shurcooL/sanitized_anchor_name v1.0.0/go.mod h1:1NzhyTcUVG4SuEtjjoZeVRXNmyL/1OwPU0+IJeTBvfc=\ngithub.com/sirupsen/logrus v1.2.0 h1:juTguoYk5qI21pwyTXY3B3Y5cOTH3ZUyZCg1v/mihuo=\ngithub.com/sirupsen/logrus v1.2.0/go.mod h1:LxeOpSwHxABJmUn/MG1IvRgCAasNZTLOkJPxbbu5VWo=\ngithub.com/soheilhy/cmux v0.1.4/go.mod h1:IM3LyeVVIOuxMH7sFAkER9+bJ4dT7Ms6E4xg4kGIyLM=\ngithub.com/spaolacci/murmur3 v0.0.0-20180118202830-f09979ecbc72/go.mod h1:JwIasOWyU6f++ZhiEuf87xNszmSA2myDM2Kzu9HwQUA=\ngithub.com/spf13/afero v1.1.2/go.mod h1:j4pytiNVoe2o6bmDsKpLACNPDBIoEAkihy7loJ1B0CQ=\ngithub.com/spf13/cast v1.3.0/go.mod h1:Qx5cxh0v+4UWYiBimWS+eyWzqEqokIECu5etghLkUJE=\ngithub.com/spf13/cobra v1.0.0 h1:6m/oheQuQ13N9ks4hubMG6BnvwOeaJrqSPLahSnczz8=\ngithub.com/spf13/cobra v1.0.0/go.mod h1:/6GTrnGXV9HjY+aR4k0oJ5tcvakLuG6EuKReYlHNrgE=\ngithub.com/spf13/jwalterweatherman v1.0.0/go.mod h1:cQK4TGJAtQXfYWX+Ddv3mKDzgVb68N+wFjFa4jdeBTo=\ngithub.com/spf13/pflag v1.0.3 h1:zPAT6CGy6wXeQ7NtTnaTerfKOsV6V6F8agHXFiazDkg=\ngithub.com/spf13/pflag v1.0.3/go.mod h1:DYY7MBk1bdzusC3SYhjObp+wFpr4gzcvqqNjLnInEg4=\ngithub.com/spf13/viper v1.4.0/go.mod h1:PTJ7Z/lr49W6bUbkmS1V3by4uWynFiR9p7+dSq/yZzE=\ngithub.com/stretchr/objx v0.1.0/go.mod h1:HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME=\ngithub.com/stretchr/objx v0.1.1/go.mod h1:HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME=\ngithub.com/stretchr/testify v1.2.2/go.mod h1:a8OnRcib4nhh0OaRAV+Yts87kKdq0PP7pXfy6kDkUVs=\ngithub.com/stretchr/testify v1.4.0 h1:2E4SXV/wtOkTonXsotYi4li6zVWxYlZuYNCXe9XRJyk=\ngithub.com/stretchr/testify v1.4.0/go.mod h1:j7eGeouHqKxXV5pUuKE4zz7dFj8WfuZ+81PSLYec5m4=\ngithub.com/tmc/grpc-websocket-proxy v0.0.0-20190109142713-0ad062ec5ee5/go.mod h1:ncp9v5uamzpCO7NfCPTXjqaC+bZgJeR0sMTm6dMHP7U=\ngithub.com/ugorji/go v1.1.4/go.mod h1:uQMGLiO92mf5W77hV/PUCpI3pbzQx3CRekS0kk+RGrc=\ngithub.com/xi2/xz v0.0.0-20171230120015-48954b6210f8 h1:nIPpBwaJSVYIxUFsDv3M8ofmx9yWTog9BfvIu0q41lo=\ngithub.com/xi2/xz v0.0.0-20171230120015-48954b6210f8/go.mod h1:HUYIGzjTL3rfEspMxjDjgmT5uz5wzYJKVo23qUhYTos=\ngithub.com/xiang90/probing v0.0.0-20190116061207-43a291ad63a2/go.mod h1:UETIi67q53MR2AWcXfiuqkDkRtnGDLqkBTpCHuJHxtU=\ngithub.com/xordataexchange/crypt v0.0.3-0.20170626215501-b2862e3d0a77/go.mod h1:aYKd//L2LvnjZzWKhF00oedf4jCCReLcmhLdhm1A27Q=\ngo.etcd.io/bbolt v1.3.2/go.mod h1:IbVyRI1SCnLcuJnV2u8VeU0CEYM7e686BmAb1XKL+uU=\ngo.uber.org/atomic v1.4.0/go.mod h1:gD2HeocX3+yG+ygLZcrzQJaqmWj9AIm7n08wl/qW/PE=\ngo.uber.org/multierr v1.1.0/go.mod h1:wR5kodmAFQ0UK8QlbwjlSNy0Z68gJhDJUG5sjR94q/0=\ngo.uber.org/zap v1.10.0/go.mod h1:vwi/ZaCAaUcBkycHslxD9B2zi4UTXhF60s6SWpuDF0Q=\ngolang.org/x/crypto v0.0.0-20180904163835-0709b304e793/go.mod h1:6SG95UA2DQfeDnfUPMdvaQW0Q7yPrPDi9nlGo2tz2b4=\ngolang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2/go.mod h1:djNgcEr1/C05ACkg1iLfiJU5Ep61QUkGW8qpdssI0+w=\ngolang.org/x/crypto v0.0.0-20191011191535-87dc89f01550 h1:ObdrDkeb4kJdCP557AjRjq69pTHfNouLtWZG7j9rPN8=\ngolang.org/x/crypto v0.0.0-20191011191535-87dc89f01550/go.mod h1:yigFU9vqHzYiE8UmvKecakEJjdnWj3jj499lnFckfCI=\ngolang.org/x/lint v0.0.0-20181026193005-c67002cb31c3/go.mod h1:UVdnD1Gm6xHRNCYTkRU2/jEulfH38KcIWyp/GAMgvoE=\ngolang.org/x/lint v0.0.0-20190313153728-d0100b6bd8b3/go.mod h1:6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc=\ngolang.org/x/net v0.0.0-20180826012351-8a410e7b638d/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20181114220301-adae6a3d119a/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20181220203305-927f97764cc3/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20190311183353-d8887717615a/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20190404232315-eb5bcb51f2a3/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20190522155817-f3200d17e092 h1:4QSRKanuywn15aTZvI/mIDEgPQpswuFndXpOj3rKEco=\ngolang.org/x/net v0.0.0-20190522155817-f3200d17e092/go.mod h1:HSz+uSET+XFnRR8LxR5pz3Of3rY3CfYBVs4xY44aLks=\ngolang.org/x/oauth2 v0.0.0-20180821212333-d2e6202438be/go.mod h1:N/0e6XlmueqKjAGxoOufVs8QHGRruUQn6yWY3a++T0U=\ngolang.org/x/sync v0.0.0-20180314180146-1d60e4601c6f/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20181108010431-42b317875d0f/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20181221193216-37e7f081c4d4/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sys v0.0.0-20180830151530-49385e6e1522/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20180905080454-ebe1bf3edb33/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20181107165924-66b7b1311ac8/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20181116152217-5ac8a444bdc5/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190412213103-97732733099d h1:+R4KGOnez64A81RvjARKc4UT5/tI9ujCIVX+P5KiHuI=\ngolang.org/x/sys v0.0.0-20190412213103-97732733099d/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20190507160741-ecd444e8653b h1:ag/x1USPSsqHud38I9BAC88qdNLDHHtQ4mlgQIZPPNA=\ngolang.org/x/sys v0.0.0-20190507160741-ecd444e8653b/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/text v0.3.0/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=\ngolang.org/x/time v0.0.0-20190308202827-9d24e82272b4/go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ=\ngolang.org/x/tools v0.0.0-20180221164845-07fd8470d635/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=\ngolang.org/x/tools v0.0.0-20190114222345-bf090417da8b/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=\ngolang.org/x/tools v0.0.0-20190311212946-11955173bddd/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=\ngoogle.golang.org/appengine v1.1.0 h1:igQkv0AAhEIvTEpD5LIpAfav2eeVO9HBTjvKHVJPRSs=\ngoogle.golang.org/appengine v1.1.0/go.mod h1:EbEs0AVv82hx2wNQdGPgUI5lhzA/G0D9YwlJXL52JkM=\ngoogle.golang.org/genproto v0.0.0-20180817151627-c66870c02cf8/go.mod h1:JiN7NxoALGmiZfu7CAH4rXhgtRTLTxftemlI0sWmxmc=\ngoogle.golang.org/grpc v1.19.0/go.mod h1:mqu4LbDTu4XGKhr4mRzUsmM4RtVoemTSY81AxZiDr8c=\ngoogle.golang.org/grpc v1.21.0/go.mod h1:oYelfM1adQP15Ek0mdvEgi9Df8B9CZIaU1084ijfRaM=\ngopkg.in/alecthomas/kingpin.v2 v2.2.6/go.mod h1:FMv+mEhP44yOT+4EoQTLFTRgOQ1FBLkstjWtayDeSgw=\ngopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405 h1:yhCVgyC4o1eVCa2tZl7eS0r+SDo693bJlVdllGtEeKM=\ngopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=\ngopkg.in/check.v1 v1.0.0-20180628173108-788fd7840127 h1:qIbj1fsPNlZgppZ+VLlY7N33q108Sa+fhmuc+sWQYwY=\ngopkg.in/check.v1 v1.0.0-20180628173108-788fd7840127/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=\ngopkg.in/resty.v1 v1.12.0/go.mod h1:mDo4pnntr5jdWRML875a/NmxYqAlA73dVijT2AXvQQo=\ngopkg.in/yaml.v2 v2.0.0-20170812160011-eb3733d160e7/go.mod h1:JAlM8MvJe8wmxCU4Bli9HhUf9+ttbYbLASfIpnQbh74=\ngopkg.in/yaml.v2 v2.2.1/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=\ngopkg.in/yaml.v2 v2.2.2 h1:ZCJp+EgiOT7lHqUV2J862kp8Qj64Jo6az82+3Td9dZw=\ngopkg.in/yaml.v2 v2.2.2/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=\nhonnef.co/go/tools v0.0.0-20190102054323-c2f93a96b099/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=\n", "// DBDeployer - The MySQL Sandbox\n// Copyright \u00a9 2006-2020 Giuseppe Maxia\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* Originally copyrighted as\n// Copyright \u00a9 2011-12 Qtrac Ltd.\n//\n// This program or package and any associated files are licensed under the\n// Apache License, Version 2.0 (the \"License\"); you may not use these files\n// except in compliance with the License. You can get a copy of the License\n// at: http://www.apache.org/licenses/LICENSE-2.0.\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n*/\n/*\n Code adapted and enhanced from examples to the book:\n Programming in Go by Mark Summerfield\n http://www.qtrac.eu/gobook.html\n\n Original author: Mark Summerfield\n Converted to package by Giuseppe Maxia in 2018\n\n The original code was a stand-alone program, and it\n had a few bugs:\n * when extracting from a tar file: when there\n isn't a separate item for each directory, the\n extraction fails.\n * The attributes of the files were not reproduced\n in the extracted files.\n This code fixes those problems and introduces a\n destination directory and verbosity\n levels for the extraction\n\n*/\n\npackage unpack\n\nimport (\n\t\"archive/tar\"\n\t\"compress/gzip\"\n\t\"fmt\"\n\t\"io\"\n\t\"os\"\n\t\"path\"\n\t\"regexp\"\n\t\"strconv\"\n\t\"strings\"\n\n\t\"github.com/datacharmer/dbdeployer/common\"\n\t\"github.com/datacharmer/dbdeployer/globals\"\n\t\"github.com/pkg/errors\"\n\t\"github.com/xi2/xz\"\n)\n\nconst (\n\tSILENT  = iota // No output\n\tVERBOSE        // Minimal feedback about extraction operations\n\tCHATTY         // Full details of what is being extracted\n)\n\nvar Verbose int\n\nfunc condPrint(s string, nl bool, level int) {\n\tif Verbose >= level {\n\t\tif nl {\n\t\t\tfmt.Println(s)\n\t\t} else {\n\t\t\tfmt.Print(s)\n\t\t}\n\t}\n}\n\nfunc validSuffix(filename string) bool {\n\tfor _, suffix := range []string{globals.TgzExt, globals.TarExt, globals.TarGzExt, globals.TarXzExt} {\n\t\tif strings.HasSuffix(filename, suffix) {\n\t\t\treturn true\n\t\t}\n\t}\n\treturn false\n}\n\nfunc UnpackXzTar(filename string, destination string, verbosityLevel int) (err error) {\n\tVerbose = verbosityLevel\n\tif !common.FileExists(filename) {\n\t\treturn fmt.Errorf(\"file %s not found\", filename)\n\t}\n\tif !common.DirExists(destination) {\n\t\treturn fmt.Errorf(\"directory %s not found\", destination)\n\t}\n\tfilename, err = common.AbsolutePath(filename)\n\tif err != nil {\n\t\treturn err\n\t}\n\terr = os.Chdir(destination)\n\tif err != nil {\n\t\treturn errors.Wrapf(err, \"error changing directory to %s\", destination)\n\t}\n\t// #nosec G304\n\tf, err := os.Open(filename)\n\tif err != nil {\n\t\treturn err\n\t}\n\tdefer f.Close()\n\t// Create an xz Reader\n\tr, err := xz.NewReader(f, 0)\n\tif err != nil {\n\t\treturn err\n\t}\n\t// Create a tar Reader\n\ttr := tar.NewReader(r)\n\treturn unpackTarFiles(tr)\n}\n\nfunc UnpackTar(filename string, destination string, verbosityLevel int) (err error) {\n\tVerbose = verbosityLevel\n\tf, err := os.Stat(destination)\n\tif os.IsNotExist(err) {\n\t\treturn fmt.Errorf(\"destination directory '%s' does not exist\", destination)\n\t}\n\tfilemode := f.Mode()\n\tif !filemode.IsDir() {\n\t\treturn fmt.Errorf(\"destination '%s' is not a directory\", destination)\n\t}\n\tif !validSuffix(filename) {\n\t\treturn fmt.Errorf(\"unrecognized archive suffix\")\n\t}\n\tvar file *os.File\n\t// #nosec G304\n\tif file, err = os.Open(filename); err != nil {\n\t\treturn err\n\t}\n\tdefer file.Close()\n\terr = os.Chdir(destination)\n\tif err != nil {\n\t\treturn errors.Wrapf(err, \"error changing directory to %s\", destination)\n\t}\n\tvar fileReader io.Reader = file\n\tvar decompressor *gzip.Reader\n\tif strings.HasSuffix(filename, globals.GzExt) {\n\t\tif decompressor, err = gzip.NewReader(file); err != nil {\n\t\t\treturn err\n\t\t}\n\t\tdefer decompressor.Close()\n\t}\n\tvar reader *tar.Reader\n\tif decompressor != nil {\n\t\treader = tar.NewReader(decompressor)\n\t} else {\n\t\treader = tar.NewReader(fileReader)\n\t}\n\treturn unpackTarFiles(reader)\n}\n\nfunc unpackTarFiles(reader *tar.Reader) (err error) {\n\tvar header *tar.Header\n\tvar count int = 0\n\tvar reSlash = regexp.MustCompile(`/.*`)\n\n\tinnerDir := \"\"\n\tfor {\n\t\tif header, err = reader.Next(); err != nil {\n\t\t\tif err == io.EOF {\n\t\t\t\tcondPrint(\"Files \", false, CHATTY)\n\t\t\t\tcondPrint(strconv.Itoa(count), true, 1)\n\t\t\t\treturn nil // OK\n\t\t\t}\n\t\t\treturn err\n\t\t}\n\t\t// cond_print(fmt.Sprintf(\"%#v\\n\", header), true, CHATTY)\n\t\t/*\n\t\t\ttar.Header{\n\t\t\t\tTypeflag:0x30,\n\t\t\t\tName:\"mysql-8.0.11-macos10.13-x86_64/docs/INFO_SRC\",\n\t\t\t\tLinkname:\"\",\n\t\t\t\tSize:185,\n\t\t\t\tMode:420,\n\t\t\t\tUid:7161,\n\t\t\t\tGid:10,\n\t\t\t\tUname:\"pb2user\",\n\t\t\t\tGname:\"owner\",\n\t\t\t\tModTime:time.Time{wall:0x0, ext:63658769207, loc:(*time.Location)(0x13730e0)},\n\t\t\t\tAccessTime:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)},\n\t\t\t\tChangeTime:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)},\n\t\t\t\tDevmajor:0, Devminor:0,\n\t\t\t\tXattrs:map[string]string(nil),\n\t\t\t\tPAXRecords:map[string]string(nil),\n\t\t\t\tFormat:0}\n\t\t\ttar.Header{\n\t\t\t\tTypeflag:0x32,\n\t\t\t\tName:\"mysql-8.0.11-macos10.13-x86_64/lib/libssl.dylib\",\n\t\t\t\tLinkname:\"libssl.1.0.0.dylib\",\n\t\t\t\tSize:0,\n\t\t\t\tMode:493,\n\t\t\t\tUid:7161,\n\t\t\t\tGid:10,\n\t\t\t\tUname:\"pb2user\",\n\t\t\t\tGname:\"owner\",\n\t\t\t\tModTime:time.Time{wall:0x0, ext:63658772525, loc:(*time.Location)(0x13730e0)},\n\t\t\t\tAccessTime:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)},\n\t\t\t\tChangeTime:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)},\n\t\t\t\tDevmajor:0,\n\t\t\t\tDevminor:0,\n\t\t\t\tXattrs:map[string]string(nil),\n\t\t\t\tPAXRecords:map[string]string(nil),\n\t\t\t\tFormat:0}\n\t\t*/\n\t\tfilemode := os.FileMode(header.Mode)\n\t\tfilename := sanitizedName(header.Name)\n\t\tfileDir := path.Dir(filename)\n\t\tupperDir := reSlash.ReplaceAllString(fileDir, \"\")\n\t\tif innerDir != \"\" {\n\t\t\tif upperDir != innerDir {\n\t\t\t\treturn fmt.Errorf(\"found more than one directory inside the tarball\\n\"+\n\t\t\t\t\t\"<%s> and <%s>\", upperDir, innerDir)\n\t\t\t}\n\t\t} else {\n\t\t\tinnerDir = upperDir\n\t\t}\n\n\t\tif _, err = os.Stat(fileDir); os.IsNotExist(err) {\n\t\t\tif err = os.MkdirAll(fileDir, globals.PublicDirectoryAttr); err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\t\t\tcondPrint(\" + \"+fileDir+\" \", true, CHATTY)\n\t\t}\n\t\tif header.Typeflag == 0 {\n\t\t\theader.Typeflag = tar.TypeReg\n\t\t}\n\t\tswitch header.Typeflag {\n\t\tcase tar.TypeDir:\n\t\t\tif err = os.MkdirAll(filename, globals.PublicDirectoryAttr); err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\t\tcase tar.TypeReg:\n\t\t\tif err = unpackTarFile(filename, reader); err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\t\t\terr = os.Chmod(filename, filemode)\n\t\t\tif err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\t\t\tcount++\n\t\t\tcondPrint(filename, true, CHATTY)\n\t\t\tif count%10 == 0 {\n\t\t\t\tmark := \".\"\n\t\t\t\tif count%100 == 0 {\n\t\t\t\t\tmark = strconv.Itoa(count)\n\t\t\t\t}\n\t\t\t\tif Verbose < CHATTY {\n\t\t\t\t\tcondPrint(mark, false, 1)\n\t\t\t\t}\n\t\t\t}\n\t\tcase tar.TypeSymlink:\n\t\t\tif header.Linkname != \"\" {\n\t\t\t\tcondPrint(fmt.Sprintf(\"%s -> %s\", filename, header.Linkname), true, CHATTY)\n\t\t\t\terr = os.Symlink(header.Linkname, filename)\n\t\t\t\tif err != nil {\n\t\t\t\t\treturn fmt.Errorf(\"%#v\\n#ERROR: %s\", header, err)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn fmt.Errorf(\"file %s is a symlink, but no link information was provided\", filename)\n\t\t\t}\n\t\t}\n\t}\n\t// return nil\n}\n\nfunc unpackTarFile(filename string,\n\treader *tar.Reader) (err error) {\n\tvar writer *os.File\n\tif writer, err = os.Create(filename); err != nil {\n\t\treturn err\n\t}\n\tdefer writer.Close()\n\tif _, err = io.Copy(writer, reader); err != nil {\n\t\treturn err\n\t}\n\treturn nil\n}\n\nfunc sanitizedName(filename string) string {\n\tif len(filename) > 1 && filename[1] == ':' {\n\t\tfilename = filename[2:]\n\t}\n\tfilename = strings.TrimLeft(filename, \"\\\\/.\")\n\tfilename = strings.Replace(filename, \"../\", \"\", -1)\n\treturn strings.Replace(filename, \"..\\\\\", \"\", -1)\n}\n\nfunc VerifyTarFile(fileName string) error {\n\tif !validSuffix(fileName) {\n\t\treturn fmt.Errorf(\"unrecognized archive suffix %s\", fileName)\n\t}\n\tvar file *os.File\n\tvar err error\n\t// #nosec G304\n\tif file, err = os.Open(fileName); err != nil {\n\t\treturn fmt.Errorf(\"[open file Validation] %s\", err)\n\t}\n\tdefer file.Close()\n\tvar fileReader io.Reader = file\n\tvar decompressor *gzip.Reader\n\tvar xzDecompressor *xz.Reader\n\n\tif strings.HasSuffix(fileName, globals.GzExt) {\n\t\tif decompressor, err = gzip.NewReader(file); err != nil {\n\t\t\treturn fmt.Errorf(\"[gz Validation] %s\", err)\n\t\t}\n\t\tdefer decompressor.Close()\n\t} else {\n\t\tif strings.HasSuffix(fileName, globals.TarXzExt) {\n\t\t\tif xzDecompressor, err = xz.NewReader(file, 0); err != nil {\n\t\t\t\treturn fmt.Errorf(\"[xz Validation] %s\", err)\n\t\t\t}\n\t\t}\n\t}\n\tvar reader *tar.Reader\n\tif decompressor != nil {\n\t\treader = tar.NewReader(decompressor)\n\t} else {\n\t\tif xzDecompressor != nil {\n\t\t\treader = tar.NewReader(xzDecompressor)\n\t\t} else {\n\t\t\treader = tar.NewReader(fileReader)\n\t\t}\n\t}\n\tvar header *tar.Header\n\texpectedDirName := common.BaseName(fileName)\n\treExt := regexp.MustCompile(`\\.(?:tar(?:\\.gz|\\.xz)?)$`)\n\texpectedDirName = reExt.ReplaceAllString(expectedDirName, \"\")\n\n\tif header, err = reader.Next(); err != nil {\n\t\tif err == io.EOF {\n\t\t\treturn fmt.Errorf(\"[EOF Validation] file %s is empty\", fileName)\n\t\t}\n\t\treturn fmt.Errorf(\"[header validation] %s\", err)\n\t}\n\tinnerFileName := sanitizedName(header.Name)\n\tfileDir := path.Dir(innerFileName)\n\n\treSlash := regexp.MustCompile(`/.*`)\n\tfileDir = reSlash.ReplaceAllString(fileDir, \"\")\n\n\tif fileDir != expectedDirName {\n\t\treturn fmt.Errorf(\"inner directory name different from tarball name\\n\"+\n\t\t\t\"Expected: %s - Found: %s\", expectedDirName, fileDir)\n\t}\n\treturn nil\n}\n"], "fixing_code": ["1.58.2\n", "## 1.58.2\t16-Dec-2020\n\n### BUGS FIXED\n\n* Prevent arbitrary symlinks from being extracted with tarballs\n\n## 1.58.1\t15-Dec-2020\n\n### BUGS FIXED\n\n* Fix Issue #124 (Can't reset defaults after an upgrade)\n\n## 1.58.0\t12-Dec-2020\n\n### NEW FEATURES\n\n* Add script `wipe_and_restart` to single sandboxes\n* Add scripts `exec_all`, `exec_all_masters`, `exec_all_slaves`, `wipe_and_restart_all` to replication sandboxes\n* Add subcommand `exec` to command `global`.\n\n## 1.57.0\t09-Dec-2020\n\n### NEW FEATURES\n\n* Add subcommands `import`, `export`, and `reset` to command `data-load`\n\n## 1.56.0\t02-Nov-2020\n\n### NEW FEATURES\n\n* Add options `--ls` and `--run` to command `use`\n* Add scripts `sysbench` and `sysbench_ready` to all sandboxes\n* Add command `data-load` with subcommands `list`, `show`, `get`\n\n### BUGS FIXED\n\n* Fix Issue #120 (Can't SELECT the mysql.user table in mariadb 10.4 or later)\n\n## 1.55.0\t10-Oct-2020\n\n### NEW FEATURES\n\n* Add second optional argument to `dbdeployer use` to indicate the executable to run within the sandbox.\n\n## 1.54.1\t27-Sep-2020\n\n### BUGS FIXED\n\n* Fix Issue #118 (dbdeployer fails to autodetect pxc flavor from binaries of 5.6.x versions)\n\n## 1.54.0\t13-Sep-2020\n\n### NEW FEATURES\n\n* The `send_kill` script accepts an argument `destroy` (aliases `-9` or `crash`) \n  to halt the server immediately.\n* The `delete` command is much faster (uses `send_kill destroy`)\n\n### BUGS FIXED\n\n* The `use` command should re-start a sandbox that was stopped, but it was not doing it (Issue #116)\n* Listing of small tarball for 8.0.21 lacked the 'minimal' attribute\n\n### NOTES\n\n* Added MySQL shell 8.0.21 to downloads list\n\n### TESTING\n\n* Improve `all_tests`: Now it doesn't require the version\n* Improve unit test script to detect where to run\n\n\n## 1.53.3\t29-Aug-2020\n\n### BUGS FIXED\n\n* Fixed issue #115: failing to detect missing `socat` for PXC\n\n## 1.53.2\t07-Aug-2020\n\n### BUGS FIXED\n\n* Fixed bug during `init`. When the sandbox-binary directory existed, but empty,\n  the download was skipped.\n* `dbdeployer downloads export` would not export the field `date_added`. Such field was\n   lost during build, due to a missed field in `code-generation.go`\n\n### NOTES\n\n* Added MySQL 5.7.31 to downloads list\n\n### TESTING\n\n* Added test for `dbdeployer init` under Docker containers for Ubuntu 18, Ubuntu 20, CentOS 7, CentOS 8\n\n\n## 1.53.1\t26-Jul-2020\n\n### BUGS FIXED\n\n* Fix bash completion for CentOS (missing completion script and unchecked `sudo` call)\n\n## 1.53.0\t26-Jul-2020\n\n### NEW FEATURES\n\n* Add command 'use' and sandboxes options\n* Add options `--by-date`, `--by-flavor`, `--by-version`, `--newest`, `--oldest` to command `sandboxes`\n\n### NOTES\n\n* Add latest MySQL tarballs to downloads list\n* Add Percona Server minimal to downloads list\n\n### BUGS FIXED\n\n* Fix issue #111 - allows using NDB 7.4/7.5\n\n\n## 1.52.0\t28-Jun-2020\n\n### NEW FEATURES\n\n* Add  command `init` that initializes dbdeployer environment\n    * creates `$SANDBOX_HOME` and `$SANDBOX_BINARY` directories\n    * downloads and expands the latest MySQL tarball\n    * installs shell completion file\n\n## 1.51.2\t15-Jun-2020\n\n### BUGS FIXED\n\n* Fix error handling on default directories detection for bash completion.\n\n## 1.51.1\t14-Jun-2020\n\n### BUGS FIXED\n\n* Fix bug in defaults handling: \"default-sandbox-executable\" was not used in `info defaults`\n* Prevent `ldd` from running on mocked binaries\n\n### TESTING\n\n* Moved mock tests under docker to improve consistency\n\n\n## 1.51.0\t12-Jun-2020\n\n### NEW FEATURES\n\n* Add default sandbox (commands `admin set-default` and `admin remove-default`)\n\n## 1.50.2\t07-Jun-2020\n\n### BUGS FIXED\n\n* Fix incorrect privileges when updating dbdeployer as root\n\n## 1.50.1\t06-Jun-2020\n\n### BUGS FIXED\n\n* Fix Issue #108: panic error when sandbox binary is not a directory\n\n## 1.50.0\t16-May-2020\n\n### NEW FEATURES\n\n* Add new options `--raw` and `--stats` to  command `info releases`\n* Add checksum files (SHA256) to release\n* Add signature check during dbdeployer update\n\n\n## 1.49.0\t26-Apr-2020\n\n### NEW FEATURES\n\n* Add `--change-master-options` (Issue #107)\n* Add more downloads (8.0.20, 5.7.30)\n\n### TESTING\n\n* Add more tests\n* Docker test now downloads latest 8.0 binaries instead of using built-in.\n\n## 1.48.0\t10-Apr-2020 (not released)\n\n* Improve PXC handling of defaults across versions\n* Fix defaults for PXC 5.6, which were broken after introducing support for PXC8.0 (Issue #106)\n\n\n## 1.47.0\t29-Mar-2020\n\n### ADJUSTMENTS\n\n* Add `pxc_encrypt_cluster_traffic` option to PXC options file\n  to adjust to recent default changes and allow PXC 8.0.18 to work\n  out of the box\n\n### Code improvements\n\n* Change all explicit `bash` paths in shell scripts to `env bash`\n\n## 1.46.0\t08-Mar-2020\n\n### NEW FEATURES\n\n* Add ability to deploy PXC 8.0 without using any options (dbdeployer\n  uses `wsrep_sst_method=rsync` for 5.7 and `wsrep_sst_method=xtrabackup-v2` for 8.0)\n\n## 1.45.0\t22-Feb-2020\n\n### NEW FEATURES\n\n* Add option `--task-user` and `--task-user-role` to create additional user with custom role.\n* Add cookbook recipe `single-custom-users` (include sample creation of orchestator user)\n\n### Code improvements\n\n* Add security checks with `gosec` scans\n* Update copyright notice\n\n### TESTING\n\n* Add test for cookbook scripts\n\n## 1.44.0\t16-Feb-2020\n\n### NEW FEATURES\n\n* Add custom role to 8.0 sandboxes\n* Add role related options: `--default-role`, `--custom-role-name`, `--custom-role-privileges`,\n  `--custom-role-target`, `--custom-role-extra`\n* Add filters to `global` command:\n  `--type`, `--flavor`, `--version`, `--short-version`, `--name`, `--port`, `--port-range`.\n  Each option can also be negated (`--type='!single'`, `--flavor=no-mysql`, `--port='!8019'`)\n* Add verbose and dry-run flags to `global`.\n* Add `metadata_all_template` script to composite sandboxes\n* Add command `downloads add`\n* Add tarballs for 5.7.29, 8.0.19 for MySQL and NDB (Linux and MacOS)\n\n### TESTING\n\n* Add test for tarball integrity and reachability\n\n## 1.43.2\t31-Jan-2020 (not released)\n\n### BUGS FIXED\n\n* Fix bug in NDB cluster: the cluster name was not reported correctly\n  in the NDB configuration file\n\n## 1.43.1\t22-Dec-2019\n\n### BUGS FIXED\n\n* Fix determination of shell interpreter\n\n## 1.43.0\t10-Nov-2019 \n\n### ADJUSTMENTS\n* Add 'IF NOT EXISTS' to 'CREATE ROLE', to account to changed\n  behavior of NDB server in 8.0.18\n\n### BUGS FIXED\n\n* Fix for hanging during library check (Issue #99)\n\n## 1.42.0\t01-Nov-2019 \n\n###\tNEW FEATURES\n* Explicit template for PXC replication options (Issues #87 and #92)\n  Allows installing PXC with version 5.6\n* Explicit template for Group replication options\n\n###\tBUGS FIXED\n* Fix command \"dbdeployer info version --flavor VER\"\n  It would not display the requested short version but\n  the latest one.\n\n## 1.41.0\t26-Oct-2019 \n\n###\tNEW FEATURES\n* dbdeployer can guess the next downloadable version with the command\n  `dbdeployer downloads get-by-version 8.0 --guess-latest`\n  or\n  `dbdeployer downloads get-by-version 5.7 --guess-latest`\n\t\n###\tBUGS FIXED\n* Issue #95 mismatched values in fan-in when using nodes > 3\n* Issue #93 Client detection for imported sandbox doesn't take flavor into account\n\n###\tTESTING\n* Add test for `FindOrGuessTarballByVersionFlavorOS`\n* Add mock test for fan-in nodes\n\n## 1.40.0\t19-Oct-2019 \n\n###\tNEW FEATURES\n* dbdeployer now detects when essential libraries are missing (Linux only)\n* New flag '--skip-library-check' will avoid the above automated detection\n  but will expose to the risk of having an incomplete sandbox if the\n  prerequisites were not satisfied.\n* Add tarballs for 8.0.18 and 5.7.28 to the downloads list\n* Add check to verify tarball correctness (they must contain a directory\n\t  that matches the tarball name)\n\n## 1.39.1\t02-Oct-2019 \n\n###\tBUGS FIXED:\n* Show stderr text when external commands fail - Issue #94\n* Enable start.log by default.\n* Add missing exit directive on failure in `init_db` template\n* Improve error messages on `init_db` failure\n* Build Linux amd64 instead of 386\n\n## 1.39.0\t21-Sep-2019 \n* Add script `clone_from` to clone from another 8.0.17+ server\n* Add option \"clone\" to script `replicate_from`\n* Add ability of detecting and using GTID to script `replicate_from`\n* Add ability of finding a suitable client for imported sandboxes\n* Add option --server-id to \"deploy single\" command\n* Add option --base-server-id to deploy command\n* Add option --sandbox-directory to import command\n\n## 1.38.0\t25-Aug-2019 \n\n###\tNEW FEATURES\n* add command dbdeployer import single \n\n\n## 1.37.0\t24-Aug-2019 (not released)\n\n### NEW FEATURES\n* Enable Go modules\n* Remove vendor directory\n* Change calls to StringSliceP with StringArrayP\n* (No changes in behavior. Some flags help items will display \"stringArray\" \n\t  instead of \"strings\")\n\n## 1.36.1\t18-Aug-2019\n\n### BUGS FIXED\n* Fix a bug in 'dbdeployer update': it only worked with --verbose enabled\n* Fix output of 'dbdeployer update': it now confirms that the update has\n\t  happened\n\n## 1.36.0\t17-Aug-2019\n\n### NEW FEATURES\n* Add command \"dbdeployer update\"\n* Add command \"dbdeployer info releases\"\n\n\n### BUGS FIXED\n* Fix 'dbdeployer info defaults': some values were not reported\n\n\n### TESTING\n* Add test for defaults info\n\n## 1.35.0\t11-Aug-2019\n\n### NEW FEATURES\n* Improve command \"dbdeployer downloads import\": it can also import from a URL\n* Add downloads binaries for 8.0.17 and 5.7.27\n* Add mysql-shell binaries in downloads\n\n\n### TESTING\n* More tests for `common/*`\n\n## 1.34.0\t30-Jun-2019\n\n### NEW FEATURES\n* Add command \"defaults enable-bash-completion\" to help install bash\n\t  completion\n* Add command \"defaults flag-aliases\" to show aliases for some flags\n* Add flag \"--earliest\" to command \"info version\"\n\n\n### BUGS FIXED\n* Downloads list should show files for current OS only\n* Fix tarball list generation to be rebuilt only when\n\t  contents change\n* Fix OS user detection to rely on operating system library calls\n\t  instead of environment variables.\n\t\n\n### TESTING\n* Replace `sort_versions` with calls to \"dbdeployer info version\"\n\n## 1.33.0\t16-Jun-2019\n\n### NEW FEATURES\n* Add command \"downloads get-unpack\" to combine the effects of\n\t  \"dbdeployer downloads get\" and \"dbdeployer unpack\" into a\n\t  single command (Issue #81)\n\n### BUGS FIXED\n* Issue #83 'unpack --overwrite' should not ask for confirmation\n* Issue #84 '--sandbox-binary' does not expand '~' to $HOME\n\n## 1.32.0\t09-Jun-2019\n\n### NEW FEATURE\n* Add option `--shell-path` to choose alternative Bash interpreter\n\t  used in all scripts, including cookbook recipes and mock scripts\n\n### TESTING\n* Add test for alternative Bash interpreter\n\n## 1.31.0\t22-May-2019\n\n### NEW FEATURES\n* Add command 'downloads'\n* add subcommand 'downloads list'\n* add subcommand 'downloads get'\n* add subcommand 'downloads get-by-version'\n* add subcommand 'downloads import'\n* add subcommand 'downloads export'\n* add subcommand 'downloads reset'\n\t\n### DEPRECATION\nThe command 'remote' is deprecated with its subcommands\nIts functionality is replaced by 'downloads', albeit with\na different syntax.\n\n## 1.30.1\t22-May-2019\n\n### BUGS FIXED\n* Fix issue #80 NDB tarballs are wrongly labeled as regular \"mysql\" flavor\n\n## 1.30.0\t05-May-2019\n\n### BUGS FIXED\n* Fix Issue #72 Catalog operations can clash with multiple dbdeployer runs\n* Fix wrong description for \"defaults update\"\n* Fix wrong description for \"cookbook create\"\n* Fix option `--sort-by` incorrectly assigned to command \"cookbook\" instead \n\t  of subcommand \"cookbook list\"\n\n### NEW FEATURES\n* Add command \"dbdeployer info\" to improve dbdeployer usage in scripts\n\n### TESTING\n* Add test for parallel usage\n* Reinstate parallel deployment in functional test\n* Improve replication between sandboxes test, by checking\n\t  for existing versions better.\n\n## 1.29.0\t30-Apr-2019\n\n### ADJUSTMENTS\n* Change upgrade procedure for MySQL 8.0.16+\n* Adjust cookbook upgrade recipe to use verbose output\n\n### NEW FEATURES\n* Add options `--dry-run` and --verbose to upgrade command\n\n### TESTING\n* Enhance export tests\n\n## 1.28.2\t22-Apr-2019\n\n### BUGS FIXED\n* Add missing error checks\n* Clean code that was failing static checks\n\n### TESTING\n* Add export tests\n* Add conditional static check to sanity test\n\n## 1.28.1\t14-Apr-2019\n\n### BUGS FIXED\nAdd missing `$` in recipe skip-start-replication\n\n## 1.28.0\t14-Apr-2019\n\n### NEW FEATURES\n* Add option --sort-by=[name,flavor,script] to cookbook list\n* Add option --flavor for versions command\n* Add command export to show dbdeployer command structure as JSON \n* Add cookbook recipes \n\t* Single sandbox deployed without starting the server\n\t* Replication sandbox deployed without starting the servers\n\t* Replication sandbox with custom names for directories and scripts\n\t* Single sandbox with admin address enabled\n\n### BUGS FIXES\n* Fixed plural of custom replication names\n\n\n## 1.27.0\t31-Mar-2019\n\n### NEW FEATURES\n* Add cookbook recipes:\n    * replication across multiple versions\n    * replication from group replication to single sandbox\n    * replication from group replication to master/slave\n    * replication from single sandbox to group replication\n    * replication from master/slave to group replication\n    * replication between single sandboxes\n    * circular replication\n\n\n## 1.26.0\t26-Mar-2019\n\n### NEW FEATURES\n* Add custom `replication_from` script to each sandbox.\n* Add metadata script to each sandbox\n* Add option -port-as-server-id\n* Add more info in `sb_include` script\n* Add connection info scripts to each sandbox\n* Add cookbook scripts for replication between groups, ndb, master/slave.\n\n### BUGS FIXED\n* Fix \"remote get\" bug: it should fail on Mac (Issue #76)\n* Fix port detection bug for NDB. The cluster port was not used in the search for free ports.\n* Sort cookbook listing (it was being displayed in random order)\n\n### TESTING\n* Add test for replication between sandboxes (single and master/slave)\n\n## 1.25.0\t24-Mar-2019 (not released)\n\n### ADJUSTMENTS/NEW FEATURES:\n* Add option `--enable-admin-address` for 8.0.14+\n* When admin address is enabled, `./use_admin` is created for each sandbox\n* multiple sandboxes have `./ma`, `./sa1` `./sa2`, `./na1`, `./na2` and `use_all_admin`\n\n## 1.24.0\t22-Mar-2019\n\n### NEW FEATURES:\n* Add command `cookbook` with subcommands list, show, create\n* Replace cookbook static sample scripts with dynamically created ones\n\n## 1.23.0\t14-Mar-2019\n\n### NEW FEATURES:\n* Add support for MySQL Cluster (topology=ndb)\n* Add option `--ndb-nodes` to replication\n\n## 1.22.0\t07-Mar-2019\n\n### ADJUSTMENTS:\nChange default authentication plugin for MariaDB 10.4.3 (Issue #67)\n\n## 1.21.0\t05-Mar-2019\n\n### NEW FEATURES:\n* Added support for Percona Xtradb Cluster (`--topology=pxc`) [Linux only]\n* Added check for Unix tools before deploying.\n\n## 1.20.0  24-Feb-2019 (not released)\n\n### NEW FEATURES:\n* Added command `delete-binaries`\n* Added option `--overwrite` to `unpack` command\n* Added flavors to `sandboxes`\n* Added options `--flavor` and `--full-info` to `sandboxes`\n* Added options `--flavor-in-prompt` to `deploy`\n* Added option `--socket-in-datadir` to `deploy`\n* Added option `--prompt` to `deploy single`\n\n## 1.19.0\t17-Feb-2019\n\n### ADJUSTMENTS:\n* Changed `remote get` docs to reflect changed names\n\n### BUGS FIXED:\n* Fixed Issue #48 error with multiple plugins\n* Fixed Issue #62 TiDB fails on MacOS\n\n### NEW FEATURES:\n* Added script `after_start` to sandboxes (does nothing by default,\n\t  but it is used by TiDB to clean-up unwanted scripts)\n\n## 1.18.0\t09-Feb-2019\n\n### NEW FEATURES:\n* Added support for TiDB\n* Added option `--client-from=X` (Issue #49)\n* Added option `--flavor`\n* Added flavor recording during unpack (Issue #52)\n* Added command `dbdeployer admin capabilities [flavor [version]]`\n* Added flavor detection based on files in expanded tarball (Issue #53)\n\n\tCode improvements:\n* Version evaluation replaced by *capabilities*, i.e. flavor + version (Issue #50)\n\n### BUGS FIXED:\n* Fix Issue #51 unpack command fails when tarball name doesn't include a version\n* Fix unpack panic when tarball does not include top directory\n* Fix count of total tests in `./test/all_tests`.sh\n\n### TESTING:\n* Added tests for TiDB, flavor detection, capabilities evaluation\n\n## 1.17.1\t26-Jan-2019\n* Fix Issue#46 - error creating catalog\n* Some test improvements\n\n## 1.17.0\t11-Jan-2019\n\n### NEW FEATURES:\n* Added options `--read-only-slaves` and `--super-read-only`-slaves\n\t  to `deploy replication` command. It only works for slaves of\n\t  `master-slave` and `fan-in` topologies.\n\n### BUGS FIXED:\n* Fixed bug in multi-master topologies, where replication\n\t  ports were not calculated correctly\n\n### Code improvements:\n* Added check for IP address in replication creation\n\n### TESTING:\n* Added test for read-only replication options\n* Added common failure tests for sandbox creation\n\n## 1.16.0\t05-Jan-2019\n\n### NEW FEATURES:\n* Add support for remote tarballs.\n* New commands: `remote list` and `remote download`\n\n## 1.15.1\t09-Dec-2018\n\n### Code improvements:\n\n* Removed all unconditional output in reusable code (common, sandbox)\n* Changed many public functions to private when unused outside package. \n* Added tests for most of functions in common  \n\tMinor bug fixes\n\n## 1.15.0\t02-Dec-2018\n\n### Code improvements:\n* Changed all code that can Exit instead of returning an error in \n\t  packages common, sandbox, defaults, unpack.\n* Packages common and defaults keep the functions that can exit\n\t  if they are only used with the CLI.\n* Changed all functions returning errors to have the error as the last\n\t  returning item.\n* Moved constants and many global variables from 'defaults' to new\n\t  'globals' package. This reduce the risk of circular import between\n\t  dbdeployer packages.\n\n## 1.14.0\t11-Nov-2018\n### Code readability improvements:\n* Added function `IsEnvSet`\n* Added variables for features minimum versions\n* Added constants for sandbox script names\n* Added constants for most used error messages\n* Added comparison functions for testing in a separate package\n* Replaced manual path composition with path.Join\n\n### NEW FEATURES:\n* Added support for MySQL 4.1\n* Added version info to sandbox scripts\n\n## 1.13.0\t27-Oct-2018\n\n### ADJUSTMENTS\n* Added ability of unpacking \"tar.xz\" files (tarballs for Linux are \n\t  compressed with xz instead of gzip as of MySQL 8.0.12)\n\n### BUGS FIXED\n* Fixed minor issue in unpack-shell. The unpacker was trying to\n\t  move the shell extracted directory to the server directory.\n\n## 1.12.4\t14-Oct-2018 (not released)\n* Code cleanup: fixed many code style violations\n* Added unit test for abbreviations module.\n\n## 1.12.3\t07-Oct-2018\n* Merged in PR #39 (add port to prompt)\n* Added tests for common/checks and common/tprintf\n* Refactored some code to improve testability\n\n## 1.12.2\t30-Sep-2018 (not released)\n* Replaced stack implementation\n* Added tests for stack and concurrency\n\n## 1.12.1\t23-Sep-2018\n\n### NEW FEATURES:\n* Added cookbook scripts\n\n### BUGS FIXED:\n* Fixed Issue #38 \"--force does not check for locked sb\"\n* Added missing copyright on some files.\n* Added check for missing copyright to `sanity_check.sh`\n\n## 1.12.0\t22-Sep-2018\n\n### NEW FEATURES:\n* Added sandbox operations logging (on demand)\n* Added option `--log-sb-operations` to enable logging\n* Added option `--log-directory` to change the default directory (`$SANDBOX_HOME`)\n* Added log-sb-operations and log-directory fields to default values.\n\n## 1.11.0\t09-Sep-2018\n\n### NEW FEATURES:\n* Added option `--repl-crash-safe` (Issue #36) to get crash safe params without GTID.\n\n### BUGS FIXED:\n* Fixed Issue #35 (--gtid should include relay-log-recovery)\n* Fixed Issue #37 (slave initialization with GTID should use\n\t  `MASTER_AUTO_POSITION`) and added test for GTID behavior.\n* Some code refactoring: simplified exit procedure\n\n## 1.10.2\t08-Sep-2018 (not released)\n* Code cleanup and formatting\n* Moved build script to ./scripts \n* Added option to build compressed executables (but defaults is still\n\t  uncompressed)\n* Added ./scripts/sanity_check.sh to verify formatting and code complaint.\n\n## 1.10.1\t01-Sep-2018\n* Fixed Issue#34 \"dbdeployer fails when .mylogin.cnf is found\"\n\n## 1.10.0\t27-Aug-2018\n* Fixed Issue#32 \"Error log was not created in data directory\"\n* Added command 'dbdeployer admin upgrade sandbox1 sandbox2' (Issue#33)\n\n## 1.9.0\t12-Aug-2018\n* Implemented Issue#31 \"Add feature to extract and merge a mysql-shell\n\t  tarball into a regular one\"\n\n## 1.8.4\t11-Aug-2018\n* Fixed Issue #30 \"--rpl-user and --db-user should not allow root\"\n\n## 1.8.3\t05-Aug-2018\n* Fixed Issue #26 \"Port management glitch\"\n\n## 1.8.2\t05-Aug-2018\n* Added ./vendor folder (simplifies dependencies)\n\n## 1.8.1\t03-Aug-2018\n* Fixed Issue #27 \"undetected deps when building with MKDOCS\"\n\t  No binary releases for this issue, as only build.sh is affected.\n\n## 1.8.1\t12-Jul-2018\n* Improved naming of error log for each sandbox\n\n## 1.8.0\t08-Jul-2018\n\n### NEW FEATURES\n* Implemented Issue 21 \"Add support for directly using path to binaries\"\n\n\n### BUGS FIXED\n* unpack would not act on old tarball where files were not \n\t  explicitly marked as regular.\n* Fixed Issue 22 \"dbdeployer should check whether the binaries are for the\n\tcurrent OS\"\n\n### TESTING\n* Added test for Issue 21\n\n## 1.7.0\t01-Jul-2018\n\n### NEW FEATURES\n* Added option for custom history file for each sandbox\n* Added option for unified history file in replication sandboxes.\n\n### BUGS FIXED\n* Fixed bug in functional-test.sh, where some of the subtests were not\n\t  executed.\n\n### TESTING\n* Improved error checking in all test scripts\n\n## 1.6.0\t19-Jun-2018\n\n### NEW FEATURES\n\t  Now it is possible to invoke dbdeployer with a short version number,\n\t  such as 5.7 or 8.0. In this case, dbdeployer will look for the latest\n\t  release of that MySQL version and use it.\n\n### BUGS FIXED\n* Command line was not saved to dbdeployer catalog\n\n### TESTING\n* Added test for short versions\n* Added test for command line in catalog\n\n## 1.5.3\t10-Jun-2018\n* Fixed Issue #16 \"Rename during unpack command fails\" by making\n\t  sure the path for sandbox-home and sandbox-binary are absolute ones.\n\n## 1.5.2\t09-Jun-2018\n\n### BUGS FIXED\n* Added a stack of cleanup operations for group sandboxes when a depending \n\t  sandbox installation fails\n* Fixed help message of \"unpack\" command.\n\n### ADJUSTMENTS\n* When using `mysqld-debug`, plugins are loaded from\n\t  $BASEDIR/lib/plugin/debug (https://bugs.mysql.com/bug.php?id=89688)\n\n### TESTING\n* Added test for data dictionary tables exposure\n\n## 1.5.1\t05-Jun-2018\n* Improved documentation.\n* Minor code refactoring\n\n## 1.5.0\t12-May-2018\n\n### NEW FEATURES\n* Added option `--binary-version`, which allows the basedir to be other than\n\t  {prefix}x.x.xx\n* Added command line record to sbdescription.json, to the catalog,\n\t  and to the defaults listing.\n\n### BUGS FIXED\n* Fixed Issue #10 (again). The directory for symlinks was not created\n\t  timely, resulting in errors with some tarballs.\n\tVARIOUS\n* Minor code refactoring\n* Changes in templates for single sandbox scripts. Now almost all scripts\n\t  source a file containing common code (sb_include). The behavior\n\t  of the scripts is unchanged.\n\n### TESTING\n* Added test for `--binary-version`\n\n## 1.4.2\t06-May-2018\n* Code reformatting and minor refactoring \n* Fixed syntax error in code for tree.go\n* Added coding sample minimal-sandbox2.go\n\n## 1.4.1\t05-May-2018\n* Merged pull request #11 from percona-csalguero/include_version_in_dir\n* Fixed Issue #12 \"deploying a sandbox with invalid version does not fail\"\n* Fixed minor bugs\n* Removed unnecessary parameter in CreateSingleSandbox\n* Added instructions to call CreateSingleSandbox from other apps\n\t  See ./docs/coding\n* Minor code refactoring for Exit calls\n* Added mock sandbox creation for unit tests\n\n## 1.4.0\t28-Apr-2018\n\n### NEW FEATURES:\n* Added option `--enable-mysqlx` (MySQL 5.7.12+)\n* Added options `--enable-general-log` and `--init-general-log`\n* Added list of \"reserverd-ports\" to defaults\n* Increased documentation inside command \"usage\"\n* Added dbdeployer version and timestamp to sandbox descriprtion files.\n* Added \"mysqlsh\" script to sandboxes 5.7.12+ with Xplugin enabled\n* Added `show_log` script to all sandboxes\n* Improved interface of `show_binlog` and `show_relaylog`\n\n### TESTING\n* Added tests for reserved-ports\n* Added test for mysqlsh and `show_*` creation\n\tVARIOUS\n* Updated documentation\n\n## 1.3.0\t21-Apr-2018\n\n### ADJUSTMENTS:\n* Added support for mysqlx plugin being enabled by default (MySQL 8.0.11+)\n* Added flag \"--disable-mysqlx\" to disable mysqlx plugin (8.0.11+)\n\n### NEW FEATURES:\n* Added scripts `use_all_masters` and `use_all_slaves` to all replication\n\t  sandboxes.\n* Added option `--verbosity={0,1,2}` to *unpack* command.\n\n### BUGS FIXED:\n* Fixed Issue#10 \"dbdeployer unpack does not handle symlinks\"\n* Fixed minor bug in documentation test builder.\n\n### TESTING\n* Added tests for number of ports, log errors, `use_all_masters`,\n\t  `use_all_slaves`, running processes.\n* Added options to stop tests after a given set of operations.\n* Removed restriction on running 5.6 tests in docker for Mac.\n\n## 1.2.0\t14-Apr-2018\n* Added option `--skip-start`\n* Added report-port and report-host automatically to my.sandbox.cnf\n* Added options `--skip-report-host` and `--skip-report-port`\n* Added documentation dbdeployer compiling.\n* Added documentation for `--skip-start`\n* Enhanced build.sh to handle dependencies.\n* Added tests for `--skip-start` and report-host/report-port behavior.\n\n## 1.1.1\t02-Apr-2018\n* Added more documentation\n* Added bash-completion script\n* Moved hidden command \"tree\" to conditional compiling.\n\t  Now there is a separated build for docs-enabled dbdeployer\n* Added ability of producing more documentation using command \"tree\"\n\n## 1.1.0\t30-Mar-2018\n* Added ability of handling environment variables\n\t  in configuration file. $HOME and $PWD are expanded\n\t  to actual values.\n* Added hidden command \"tree\" that can generate the\n\t  full dbdeployer API. Using this feature, from now on\n\t  we can compare API changes automatically.\n* Fixed visualization of sandboxes from catalog\n* Fixed minor code issues.\n* Added tests for environment variable replacement\n\n## 1.0.1\t28-Mar-2018\n* Fixed Issue #5 \"Single deployment doesn't show the location of the\n\t  sandbox\"\n* Added API definition (`./docs/API-1.0.md`)\n* Added test for Issue #5\n* Fixed typos and improved docs.\n\n## 1.0.0\t26-Mar-2018\n* General Availability.\n* Fixed bug with single deployment and --force. On the second deployment,\n\t  the port was changed.\n* More tests added. The test suite now runs a total of 3,013 tests (MacOS)\n\t  and 3,143 (Linux). A total of 6,156 tests that ran at least twice (once \n\t  with concurrency and once without)\n\n## 0.3.9\t25-Mar-2018\n* Added version detection to `unpack` command. Now `--unpack-version`\n\t  becomes mandatory only if a version is not detected from the tarball\n\t  name.\n* Added `--header` flag to `sandboxes` command.\n* More tests and improved tests.\n\n## 0.3.8\t24-Mar-2018\n* Fixed deployment bug in fan-in replication\n* Added tests for fan-in replication, sandbox completeness, start,\n\t  restart, and `add_options`.\n\n## 0.3.7\t24-Mar-2018\n* Added `--semi-sync` option to replication\n* Added more tests\n\n## 0.3.6\t21-Mar-2018\n* Minor change to templates\n* Added test for export/import templates\n* Added more tests for pre/post grants SQL\n\n## 0.3.5\t21-Mar-2018\n* Added test for on-the-fly template replacement\n* Trivial changes to \"sandboxes\" output\n\n## 0.3.4\t20-Mar-2018\n* Changed test for group replication (now uses the\n\t  same defined for multi-source replication)\n* Improved usability of tests.\n* Made tests easier to extend.\n* Added test for pre/post grants SQL.\n\n## 0.3.3\t16-Mar-2018\n* Added (mock) tests for unpack command\n* Improved test reporting\n* Added list of environment variables\n\n## 0.3.2\t15-Mar-2018\n* Minor bug fixes\n* Added more tests\n\n## 0.3.1\t12-Mar-2018\n* Added topologies \"fan-in\" and \"all-masters\"\n* Feature complete: This is release candidate for 1.0\n* Fixed bug on UUID generation.\n\n## 0.3.0\t11-Mar-2018\n* Implemented parallel deployment of multiple sandboxes\n* Flag --concurrent is available for *deploy* and *delete*\n* Improved tests\n\n## 0.2.5\t10-Mar-2018\n* Added --catalog to \"sandboxes\" command\n* Improved tests\n\n## 0.2.4\t08-Mar-2018\n* INCOMPATIBLE CHANGES:\n    * MySQL 8.0.x now starts with `caching_sha2_password` by default.\n    * flag \"`--keep-auth-plugin`\" was removed. Instead, we now have\n\t    \"`--native-auth-plugin`\", false by default, which will use the old\n\t\tplugin if enabled.\n    * The sandbox catalog is now enabled by default. It can be disabled\n\t    using either the environment variable `SKIP_DBDEPLOYER_CATALOG`\n\t\tor using the configuration file.\n* Added workaround for bug#89959: replication with 8.0 and\n\t  `caching_sha2_password` fails\n\n\n## 0.2.3\t07-Mar-2018 (not released)\n* Improved mock test speed by parametrizing sleep intervals:\n    * 200 mock sandboxes tested in 73 seconds (previously, 15 minutes).\n    * 2144 mock sandboxes tested in 23 minutes (previously, 145 minutes)\n\n## 0.2.2\t07-Mar-2018\n* Now dbdeployer finds unused ports automatically, to avoid conflicts.\n* Added ability of running faster tests with mock MySQL packages.\n\n## 0.2.1\t04-Mar-2018\n* Added `--defaults` flag\n* Removed hardcoded names for multiple sandbox directories and shortcuts.\n* Added directory names and shortcuts for multiple sandboxes to configuration data\n* Added ability of exporting/importing a single template.\n* Fixed visualization error with template export\n* Added interactivity to main test script.\n\n## 0.2.0\t27-Feb-2018\n* INCOMPATIBLE CHANGES:\n    * \"single\", \"multiple\", and \"replication\" are now subcommands of \"deploy\".\n    * Previous \"admin\" commands are now under \"defaults\"\n    * \"templates\" is now a subcommand of \"defaults\"\n    * New \"admin\" command only supports \"lock\" and \"unlock\"\n\n* EXPERIMENTAL FEATURE:\n\t\tThere is a sandbox catalog being created and updated in\n\t\t`$HOME/.dbdeployer/sandboxes.json`.\n\t\tThe deployment and deletion commands handle the catalog\n\t\ttransparently. Disabled by default. It can be enabled by\n\t\tsetting the environment variable `DBDEPLOYER_CATALOG`\n\n\n## 0.1.25\t26-Feb-2018\n* Added commands \"admin lock\" and \"admin unlock\" to prevent/allow deletion\n\tof a sandbox.\n* Added placeholder fields for multi-source clustering in defaults\n\n## 0.1.24\t20-Feb-2018\n* Fixed bug with \"sandboxes\" command. It would not check if the\n\t  `sandbox_home` directory existed.\n* Fixed bug in \"sandboxes\" command. It would not report sandboxes\n\t  created by other applications (MySQL-Sandbox)\n* Added check for template version during export/import\n* Added tests for UUID generation\n* Improved docker test\n\n## 0.1.23\t19-Feb-2018\n* Added \"test-replication\" to \"global\" command\n* Added several aliases to \"unpack\"\n* Changed template `init_db`, to allow for easier customization\n* Added test for docker. The full test suite can run in a container.\n* Simplified test.sh by using \"dbdeployer global\" rather than hand made\n\t  loops.\n\n## 0.1.22\t18-Feb-2018\n* All values used for sandbox deployment are now modifiable.\n* Added command \"admin\" to deal with default values:\n\t  show, store, remove, load, update, export\n* Refactored global variables to become modifiable through the \"admin\"\n\t  command\n* Added commands for template export and import.\n\n## 0.1.21\t16-Feb-2018\n* Added flag `--expose-dd-tables` to show data dictionary hidden tables\n* Added flag `--custom-mysqld` to use different server executable\n\n## 0.1.20\t14-Feb-2018\n* Added flags for pre and post grants SQL execution.\n* `--pre-grants-sql-file`\n* `--pre-grants-sql`\n* `--post-grants-sql-file`\n* `--post-grants-sql`\n* Fixed bug (in cobra+pflag package) that splits multiple commands by comma.\n\n## 0.1.19\t14-Feb-2018\n* MySQL 8.0+ sandboxes now use roles instead of direct privilege\n\tassignments.\n* Added global flag --force to overwrite an existing deployment\n* Added global flag `--my-cnf-file` to use a customized my.cnf\n* Added flag `--master-ip` to replication deployments\n* Fixed bug in abbreviations: flags were not considered correctly.\n\n## 0.1.18\t12-Feb-2018\n* The \"delete\" command now supports \"ALL\" as argument. It will delete all installed sandboxes.\n* Added flag \"--skip-confirm\" for the \"delete\" command, to delete without confirmation.\n* Fixed mistake during initialization: the version search was happening before the check\n\t  for the sandbox home directory.\n* Added the \"global\" command to propagate a command to all sandboxes\n\n## 0.1.17\t11-Feb-2018\n* Added automated README generation\n* minor code changes\n\n## 0.1.16\t10-Feb-2018\n* Added automatic generation of human-readable server-UUID\n* Added flag `--keep-server-uuid` to prevent the above change\n\n## 0.1.15\t08-Feb-2018\n* Changed default port and sandbox directory for single-primary group\n\t  replication.\n* Added custom abbreviations feature.\n\n## 0.1.14\t07-Feb-2018\n* Added script `test_sb` to every single sandbox\n* Added script `test_sb_all` to all multiple/group/replication sandbox\n* Added script `test_replication` to replication sandboxes\n* Added test/test.sh, which runs a comprehensive test of most dbdeployer features\n\n## 0.1.13\t06-Feb-2018\n* Added command \"templates export\"\n* Added flag `--single-primary` for group replication\n* Added flags `--sandbox-directory`, --port, and base-port\n\t  to allow deploying several sandboxes of the same version.\n* Added a check for clash on installed ports\n* INCOMPATIBLE change: Changed format of sbdescription.json:\n\t  now can list several ports per sandbox.\n\n## 0.1.12\t04-Feb-2018\n* Added a check for version before applying gtid.\n* Added commands templates list/show/describe\n* Added `--use-template=template_name:file_name` flag\n\n## 0.1.11\t31-Jan-2018\n* Improved check for tarball as an argument to single, replication,\n\tmultiple.\n* Improved help for single, multiple, and replication\n* Added customized prompt for configuration file\n\n## 0.1.10\t30-Jan-2018\n* Changed initialization method to use tarball libraries\n* Fixed glitch in \"unpack\" when original tarball has clashing name\n\n## 0.1.09\t30-Jan-2018\n* Updated README.md\n* Changed formatting for \"usage\" command\n* Run detection of invalid group replication earlier.\n* Added version to sandbox description file\n\n## 0.1.08\t29-Jan-2018\n* Added sandbox description file\n* 'sandboxes' command uses above file for sandbox listing\n* Added 'delete' command\n\n## 0.1.07\t29-Jan-2018\n* improved documentation\n* Added \"usage\" command\n* Added description to \"sandboxes\" output\n* Added check for version format\n* Changed message for missing argument\n* Added check for sandbox-home existence\n\n## 0.1.06\t28-Jan-2018\n* Added group replication topology.\n\n## 0.1.05\t27-Jan-2018\n* Added option --master to 'single' command\n* Added new commands to each sandbox: `add_option`, `show_binlog`,\n\t`show_relaylog`, my.\n\n## 0.1.04\t26-Jan-2018\n* Added short names for some flags.\n* Improved commands usage text\n\n## 0.1.03\t26-Jan-2018\n* Modified `--my-cnf-options` and --init-options to be accepted multiple\n\ttimes\n\n## 0.1.02\t25-Jan-2018\n* Fixed bug in unpack when basedir was not created.\n\n## 0.1.01\t25-Jan-2018\n* Fixed inclusion of options in my.sandbox.cnf (`--my-cnf-options`)\n* Added command 'multiple'\n* Enhanced documentation\n\n## 0.1.00\t24-Jan-2018\n* Initial commit with basic features migrated from MySQL-Sandbox\n", "// DBDeployer - The MySQL Sandbox\n// Copyright \u00a9 2006-2020 Giuseppe Maxia\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\npackage common\n\n// This file was generated during build. Do not edit.\n// Build time: 2020-12-15 10:49\n\nvar VersionDef string = \"1.58.2\" // 2020-12-15\n\n// Compatible version is the version used to mark compatible archives (templates, configuration).\n// It is usually major.minor.0, except when we are at version 0.x, when\n// every revision may bring incompatibility\nvar CompatibleVersion string = \"1.58.0\" // 2020-12-11\n", "module github.com/datacharmer/dbdeployer\n\ngo 1.12\n\nrequire (\n\tgithub.com/alexeyco/simpletable v0.0.0-20180729223640-1fa9009f1080\n\tgithub.com/araddon/dateparse v0.0.0-20190622164848-0fb0a474d195\n\tgithub.com/dustin/go-humanize v1.0.0\n\tgithub.com/go-sql-driver/mysql v1.4.1\n\tgithub.com/nightlyone/lockfile v0.0.0-20180618180623-0ad87eef1443\n\tgithub.com/pkg/errors v0.9.1\n\tgithub.com/spf13/cobra v1.1.1\n\tgithub.com/spf13/pflag v1.0.5\n\tgithub.com/stretchr/testify v1.4.0 // indirect\n\tgithub.com/xi2/xz v0.0.0-20171230120015-48954b6210f8\n\tgolang.org/x/crypto v0.0.0-20200622213623-75b288015ac9\n\tgolang.org/x/sys v0.0.0-20201119102817-f84b799fce68 // indirect\n)\n", "cloud.google.com/go v0.26.0/go.mod h1:aQUYkXzVsufM+DwF1aE+0xfcU+56JwCaLick0ClmMTw=\ncloud.google.com/go v0.34.0/go.mod h1:aQUYkXzVsufM+DwF1aE+0xfcU+56JwCaLick0ClmMTw=\ncloud.google.com/go v0.38.0/go.mod h1:990N+gfupTy94rShfmMCWGDn0LpTmnzTp2qbd1dvSRU=\ncloud.google.com/go v0.44.1/go.mod h1:iSa0KzasP4Uvy3f1mN/7PiObzGgflwredwwASm/v6AU=\ncloud.google.com/go v0.44.2/go.mod h1:60680Gw3Yr4ikxnPRS/oxxkBccT6SA1yMk63TGekxKY=\ncloud.google.com/go v0.45.1/go.mod h1:RpBamKRgapWJb87xiFSdk4g1CME7QZg3uwTez+TSTjc=\ncloud.google.com/go v0.46.3/go.mod h1:a6bKKbmY7er1mI7TEI4lsAkts/mkhTSZK8w33B4RAg0=\ncloud.google.com/go/bigquery v1.0.1/go.mod h1:i/xbL2UlR5RvWAURpBYZTtm/cXjCha9lbfbpx4poX+o=\ncloud.google.com/go/datastore v1.0.0/go.mod h1:LXYbyblFSglQ5pkeyhO+Qmw7ukd3C+pD7TKLgZqpHYE=\ncloud.google.com/go/firestore v1.1.0/go.mod h1:ulACoGHTpvq5r8rxGJ4ddJZBZqakUQqClKRT5SZwBmk=\ncloud.google.com/go/pubsub v1.0.1/go.mod h1:R0Gpsv3s54REJCy4fxDixWD93lHJMoZTyQ2kNxGRt3I=\ncloud.google.com/go/storage v1.0.0/go.mod h1:IhtSnM/ZTZV8YYJWCY8RULGVqBDmpoyjwiyrjsg+URw=\ndmitri.shuralyov.com/gpu/mtl v0.0.0-20190408044501-666a987793e9/go.mod h1:H6x//7gZCb22OMCxBHrMx7a5I7Hp++hsVxbQ4BYO7hU=\ngithub.com/BurntSushi/toml v0.3.1 h1:WXkYYl6Yr3qBf1K79EBnL4mak0OimBfB0XUf9Vl28OQ=\ngithub.com/BurntSushi/toml v0.3.1/go.mod h1:xHWCNGjB5oqiDr8zfno3MHue2Ht5sIBksp03qcyfWMU=\ngithub.com/BurntSushi/xgb v0.0.0-20160522181843-27f122750802/go.mod h1:IVnqGOEym/WlBOVXweHU+Q+/VP0lqqI8lqeDx9IjBqo=\ngithub.com/OneOfOne/xxhash v1.2.2/go.mod h1:HSdplMjZKSmBqAxg5vPj2TmRDmfkzw+cTzAElWljhcU=\ngithub.com/alecthomas/template v0.0.0-20160405071501-a0175ee3bccc/go.mod h1:LOuyumcjzFXgccqObfd/Ljyb9UuFJ6TxHnclSeseNhc=\ngithub.com/alecthomas/units v0.0.0-20151022065526-2efee857e7cf/go.mod h1:ybxpYRFXyAe+OPACYpWeL0wqObRcbAqCMya13uyzqw0=\ngithub.com/alexeyco/simpletable v0.0.0-20180729223640-1fa9009f1080 h1:LxG2QAVrS0Ml5A5/YUG5BLOJOrx2OR9yT9vkKW3CmUQ=\ngithub.com/alexeyco/simpletable v0.0.0-20180729223640-1fa9009f1080/go.mod h1:gx4+gp4N5VWqThMIidoUMBNUCT4Pan3J8ETR1ParWUU=\ngithub.com/araddon/dateparse v0.0.0-20190622164848-0fb0a474d195 h1:c4mLfegoDw6OhSJXTd2jUEQgZUQuJWtocudb97Qn9EM=\ngithub.com/araddon/dateparse v0.0.0-20190622164848-0fb0a474d195/go.mod h1:SLqhdZcd+dF3TEVL2RMoob5bBP5R1P1qkox+HtCBgGI=\ngithub.com/armon/circbuf v0.0.0-20150827004946-bbbad097214e/go.mod h1:3U/XgcO3hCbHZ8TKRvWD2dDTCfh9M9ya+I9JpbB7O8o=\ngithub.com/armon/go-metrics v0.0.0-20180917152333-f0300d1749da/go.mod h1:Q73ZrmVTwzkszR9V5SSuryQ31EELlFMUz1kKyl939pY=\ngithub.com/armon/go-radix v0.0.0-20180808171621-7fddfc383310/go.mod h1:ufUuZ+zHj4x4TnLV4JWEpy2hxWSpsRywHrMgIH9cCH8=\ngithub.com/beorn7/perks v0.0.0-20180321164747-3a771d992973/go.mod h1:Dwedo/Wpr24TaqPxmxbtue+5NUziq4I4S80YR8gNf3Q=\ngithub.com/beorn7/perks v1.0.0/go.mod h1:KWe93zE9D1o94FZ5RNwFwVgaQK1VOXiVxmqh+CedLV8=\ngithub.com/bgentry/speakeasy v0.1.0/go.mod h1:+zsyZBPWlz7T6j88CTgSN5bM796AkVf0kBD4zp0CCIs=\ngithub.com/bketelsen/crypt v0.0.3-0.20200106085610-5cbc8cc4026c/go.mod h1:MKsuJmJgSg28kpZDP6UIiPt0e0Oz0kqKNGyRaWEPv84=\ngithub.com/cespare/xxhash v1.1.0/go.mod h1:XrSqR1VqqWfGrhpAt58auRo0WTKS1nRRg3ghfAqPWnc=\ngithub.com/client9/misspell v0.3.4/go.mod h1:qj6jICC3Q7zFZvVWo7KLAzC3yx5G7kyvSDkc90ppPyw=\ngithub.com/coreos/bbolt v1.3.2/go.mod h1:iRUV2dpdMOn7Bo10OQBFzIJO9kkE559Wcmn+qkEiiKk=\ngithub.com/coreos/etcd v3.3.13+incompatible/go.mod h1:uF7uidLiAD3TWHmW31ZFd/JWoc32PjwdhPthX9715RE=\ngithub.com/coreos/go-semver v0.3.0/go.mod h1:nnelYz7RCh+5ahJtPPxZlU+153eP4D4r3EedlOD2RNk=\ngithub.com/coreos/go-systemd v0.0.0-20190321100706-95778dfbb74e/go.mod h1:F5haX7vjVVG0kc13fIWeqUViNPyEJxv/OmvnBo0Yme4=\ngithub.com/coreos/pkg v0.0.0-20180928190104-399ea9e2e55f/go.mod h1:E3G3o1h8I7cfcXa63jLwjI0eiQQMgzzUDFVpN/nH/eA=\ngithub.com/cpuguy83/go-md2man/v2 v2.0.0 h1:EoUDS0afbrsXAZ9YQ9jdu/mZ2sXgT1/2yyNng4PGlyM=\ngithub.com/cpuguy83/go-md2man/v2 v2.0.0/go.mod h1:maD7wRr/U5Z6m/iR4s+kqSMx2CaBsrgA7czyZG/E6dU=\ngithub.com/davecgh/go-spew v1.1.0/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/davecgh/go-spew v1.1.1 h1:vj9j/u1bqnvCEfJOwUhtlOARqs3+rkHYY13jYWTU97c=\ngithub.com/davecgh/go-spew v1.1.1/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/dgrijalva/jwt-go v3.2.0+incompatible/go.mod h1:E3ru+11k8xSBh+hMPgOLZmtrrCbhqsmaPHjLKYnJCaQ=\ngithub.com/dgryski/go-sip13 v0.0.0-20181026042036-e10d5fee7954/go.mod h1:vAd38F8PWV+bWy6jNmig1y/TA+kYO4g3RSRF0IAv0no=\ngithub.com/dustin/go-humanize v1.0.0 h1:VSnTsYCnlFHaM2/igO1h6X3HA71jcobQuxemgkq4zYo=\ngithub.com/dustin/go-humanize v1.0.0/go.mod h1:HtrtbFcZ19U5GC7JDqmcUSB87Iq5E25KnS6fMYU6eOk=\ngithub.com/fatih/color v1.7.0/go.mod h1:Zm6kSWBoL9eyXnKyktHP6abPY2pDugNf5KwzbycvMj4=\ngithub.com/fsnotify/fsnotify v1.4.7/go.mod h1:jwhsz4b93w/PPRr/qN1Yymfu8t87LnFCMoQvtojpjFo=\ngithub.com/ghodss/yaml v1.0.0/go.mod h1:4dBDuWmgqj2HViK6kFavaiC9ZROes6MMH2rRYeMEF04=\ngithub.com/go-gl/glfw v0.0.0-20190409004039-e6da0acd62b1/go.mod h1:vR7hzQXu2zJy9AVAgeJqvqgH9Q5CA+iKCZ2gyEVpxRU=\ngithub.com/go-kit/kit v0.8.0/go.mod h1:xBxKIO96dXMWWy0MnWVtmwkA9/13aqxPnvrjFYMA2as=\ngithub.com/go-logfmt/logfmt v0.3.0/go.mod h1:Qt1PoO58o5twSAckw1HlFXLmHsOX5/0LbT9GBnD5lWE=\ngithub.com/go-logfmt/logfmt v0.4.0/go.mod h1:3RMwSq7FuexP4Kalkev3ejPJsZTpXXBr9+V4qmtdjCk=\ngithub.com/go-sql-driver/mysql v1.4.1 h1:g24URVg0OFbNUTx9qqY1IRZ9D9z3iPyi5zKhQZpNwpA=\ngithub.com/go-sql-driver/mysql v1.4.1/go.mod h1:zAC/RDZ24gD3HViQzih4MyKcchzm+sOG5ZlKdlhCg5w=\ngithub.com/go-stack/stack v1.8.0/go.mod h1:v0f6uXyyMGvRgIKkXu+yp6POWl0qKG85gN/melR3HDY=\ngithub.com/gogo/protobuf v1.1.1/go.mod h1:r8qH/GZQm5c6nD/R0oafs1akxWv10x8SbQlK7atdtwQ=\ngithub.com/gogo/protobuf v1.2.1/go.mod h1:hp+jE20tsWTFYpLwKvXlhS1hjn+gTNwPg2I6zVXpSg4=\ngithub.com/golang/glog v0.0.0-20160126235308-23def4e6c14b/go.mod h1:SBH7ygxi8pfUlaOkMMuAQtPIUF8ecWP5IEl/CR7VP2Q=\ngithub.com/golang/groupcache v0.0.0-20190129154638-5b532d6fd5ef/go.mod h1:cIg4eruTrX1D+g88fzRXU5OdNfaM+9IcxsU14FzY7Hc=\ngithub.com/golang/mock v1.1.1/go.mod h1:oTYuIxOrZwtPieC+H1uAHpcLFnEyAGVDL/k47Jfbm0A=\ngithub.com/golang/mock v1.2.0/go.mod h1:oTYuIxOrZwtPieC+H1uAHpcLFnEyAGVDL/k47Jfbm0A=\ngithub.com/golang/mock v1.3.1/go.mod h1:sBzyDLLjw3U8JLTeZvSv8jJB+tU5PVekmnlKIyFUx0Y=\ngithub.com/golang/protobuf v1.2.0/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=\ngithub.com/golang/protobuf v1.3.1 h1:YF8+flBXS5eO826T4nzqPrxfhQThhXl0YzfuUPu4SBg=\ngithub.com/golang/protobuf v1.3.1/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=\ngithub.com/golang/protobuf v1.3.2/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=\ngithub.com/google/btree v0.0.0-20180813153112-4030bb1f1f0c/go.mod h1:lNA+9X1NB3Zf8V7Ke586lFgjr2dZNuvo3lPJSGZ5JPQ=\ngithub.com/google/btree v1.0.0/go.mod h1:lNA+9X1NB3Zf8V7Ke586lFgjr2dZNuvo3lPJSGZ5JPQ=\ngithub.com/google/go-cmp v0.2.0/go.mod h1:oXzfMopK8JAjlY9xF4vHSVASa0yLyX7SntLO5aqRK0M=\ngithub.com/google/go-cmp v0.3.0/go.mod h1:8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMywk6iLU=\ngithub.com/google/martian v2.1.0+incompatible/go.mod h1:9I4somxYTbIHy5NJKHRl3wXiIaQGbYVAs8BPL6v8lEs=\ngithub.com/google/pprof v0.0.0-20181206194817-3ea8567a2e57/go.mod h1:zfwlbNMJ+OItoe0UupaVj+oy1omPYYDuagoSzA8v9mc=\ngithub.com/google/pprof v0.0.0-20190515194954-54271f7e092f/go.mod h1:zfwlbNMJ+OItoe0UupaVj+oy1omPYYDuagoSzA8v9mc=\ngithub.com/google/renameio v0.1.0/go.mod h1:KWCgfxg9yswjAJkECMjeO8J8rahYeXnNhOm40UhjYkI=\ngithub.com/googleapis/gax-go/v2 v2.0.4/go.mod h1:0Wqv26UfaUD9n4G6kQubkQ+KchISgw+vpHVxEJEs9eg=\ngithub.com/googleapis/gax-go/v2 v2.0.5/go.mod h1:DWXyrwAJ9X0FpwwEdw+IPEYBICEFu5mhpdKc/us6bOk=\ngithub.com/gopherjs/gopherjs v0.0.0-20181017120253-0766667cb4d1/go.mod h1:wJfORRmW1u3UXTncJ5qlYoELFm8eSnnEO6hX4iZ3EWY=\ngithub.com/gorilla/websocket v1.4.2/go.mod h1:YR8l580nyteQvAITg2hZ9XVh4b55+EU/adAjf1fMHhE=\ngithub.com/grpc-ecosystem/go-grpc-middleware v1.0.0/go.mod h1:FiyG127CGDf3tlThmgyCl78X/SZQqEOJBCDaAfeWzPs=\ngithub.com/grpc-ecosystem/go-grpc-prometheus v1.2.0/go.mod h1:8NvIoxWQoOIhqOTXgfV/d3M/q6VIi02HzZEHgUlZvzk=\ngithub.com/grpc-ecosystem/grpc-gateway v1.9.0/go.mod h1:vNeuVxBJEsws4ogUvrchl83t/GYV9WGTSLVdBhOQFDY=\ngithub.com/hashicorp/consul/api v1.1.0/go.mod h1:VmuI/Lkw1nC05EYQWNKwWGbkg+FbDBtguAZLlVdkD9Q=\ngithub.com/hashicorp/consul/sdk v0.1.1/go.mod h1:VKf9jXwCTEY1QZP2MOLRhb5i/I/ssyNV1vwHyQBF0x8=\ngithub.com/hashicorp/errwrap v1.0.0/go.mod h1:YH+1FKiLXxHSkmPseP+kNlulaMuP3n2brvKWEqk/Jc4=\ngithub.com/hashicorp/go-cleanhttp v0.5.1/go.mod h1:JpRdi6/HCYpAwUzNwuwqhbovhLtngrth3wmdIIUrZ80=\ngithub.com/hashicorp/go-immutable-radix v1.0.0/go.mod h1:0y9vanUI8NX6FsYoO3zeMjhV/C5i9g4Q3DwcSNZ4P60=\ngithub.com/hashicorp/go-msgpack v0.5.3/go.mod h1:ahLV/dePpqEmjfWmKiqvPkv/twdG7iPBM1vqhUKIvfM=\ngithub.com/hashicorp/go-multierror v1.0.0/go.mod h1:dHtQlpGsu+cZNNAkkCN/P3hoUDHhCYQXV3UM06sGGrk=\ngithub.com/hashicorp/go-rootcerts v1.0.0/go.mod h1:K6zTfqpRlCUIjkwsN4Z+hiSfzSTQa6eBIzfwKfwNnHU=\ngithub.com/hashicorp/go-sockaddr v1.0.0/go.mod h1:7Xibr9yA9JjQq1JpNB2Vw7kxv8xerXegt+ozgdvDeDU=\ngithub.com/hashicorp/go-syslog v1.0.0/go.mod h1:qPfqrKkXGihmCqbJM2mZgkZGvKG1dFdvsLplgctolz4=\ngithub.com/hashicorp/go-uuid v1.0.0/go.mod h1:6SBZvOh/SIDV7/2o3Jml5SYk/TvGqwFJ/bN7x4byOro=\ngithub.com/hashicorp/go-uuid v1.0.1/go.mod h1:6SBZvOh/SIDV7/2o3Jml5SYk/TvGqwFJ/bN7x4byOro=\ngithub.com/hashicorp/go.net v0.0.1/go.mod h1:hjKkEWcCURg++eb33jQU7oqQcI9XDCnUzHA0oac0k90=\ngithub.com/hashicorp/golang-lru v0.5.0/go.mod h1:/m3WP610KZHVQ1SGc6re/UDhFvYD7pJ4Ao+sR/qLZy8=\ngithub.com/hashicorp/golang-lru v0.5.1/go.mod h1:/m3WP610KZHVQ1SGc6re/UDhFvYD7pJ4Ao+sR/qLZy8=\ngithub.com/hashicorp/hcl v1.0.0/go.mod h1:E5yfLk+7swimpb2L/Alb/PJmXilQ/rhwaUYs4T20WEQ=\ngithub.com/hashicorp/logutils v1.0.0/go.mod h1:QIAnNjmIWmVIIkWDTG1z5v++HQmx9WQRO+LraFDTW64=\ngithub.com/hashicorp/mdns v1.0.0/go.mod h1:tL+uN++7HEJ6SQLQ2/p+z2pH24WQKWjBPkE0mNTz8vQ=\ngithub.com/hashicorp/memberlist v0.1.3/go.mod h1:ajVTdAv/9Im8oMAAj5G31PhhMCZJV2pPBoIllUwCN7I=\ngithub.com/hashicorp/serf v0.8.2/go.mod h1:6hOLApaqBFA1NXqRQAsxw9QxuDEvNxSQRwA/JwenrHc=\ngithub.com/inconshreveable/mousetrap v1.0.0 h1:Z8tu5sraLXCXIcARxBp/8cbvlwVa7Z1NHg9XEKhtSvM=\ngithub.com/inconshreveable/mousetrap v1.0.0/go.mod h1:PxqpIevigyE2G7u3NXJIT2ANytuPF1OarO4DADm73n8=\ngithub.com/jonboulle/clockwork v0.1.0/go.mod h1:Ii8DK3G1RaLaWxj9trq07+26W01tbo22gdxWY5EU2bo=\ngithub.com/json-iterator/go v1.1.6/go.mod h1:+SdeFBvtyEkXs7REEP0seUULqWtbJapLOCVDaaPEHmU=\ngithub.com/jstemmer/go-junit-report v0.0.0-20190106144839-af01ea7f8024/go.mod h1:6v2b51hI/fHJwM22ozAgKL4VKDeJcHhJFhtBdhmNjmU=\ngithub.com/jtolds/gls v4.20.0+incompatible/go.mod h1:QJZ7F/aHp+rZTRtaJ1ow/lLfFfVYBRgL+9YlvaHOwJU=\ngithub.com/julienschmidt/httprouter v1.2.0/go.mod h1:SYymIcj16QtmaHHD7aYtjjsJG7VTCxuUUipMqKk8s4w=\ngithub.com/kisielk/errcheck v1.1.0/go.mod h1:EZBBE59ingxPouuu3KfxchcWSUPOHkagtvWXihfKN4Q=\ngithub.com/kisielk/gotool v1.0.0/go.mod h1:XhKaO+MFFWcvkIS/tQcRk01m1F5IRFswLeQ+oQHNcck=\ngithub.com/konsorten/go-windows-terminal-sequences v1.0.1 h1:mweAR1A6xJ3oS2pRaGiHgQ4OO8tzTaLawm8vnODuwDk=\ngithub.com/konsorten/go-windows-terminal-sequences v1.0.1/go.mod h1:T0+1ngSBFLxvqU3pZ+m/2kptfBszLMUkC4ZK/EgS/cQ=\ngithub.com/kr/logfmt v0.0.0-20140226030751-b84e30acd515/go.mod h1:+0opPa2QZZtGFBFZlji/RkVcI2GknAs/DXo4wKdlNEc=\ngithub.com/kr/pretty v0.1.0 h1:L/CwN0zerZDmRFUapSPitk6f+Q3+0za1rQkzVuMiMFI=\ngithub.com/kr/pretty v0.1.0/go.mod h1:dAy3ld7l9f0ibDNOQOHHMYYIIbhfbHSm3C4ZsoJORNo=\ngithub.com/kr/pty v1.1.1/go.mod h1:pFQYn66WHrOpPYNljwOMqo10TkYh1fy3cYio2l3bCsQ=\ngithub.com/kr/text v0.1.0 h1:45sCR5RtlFHMR4UwH9sdQ5TC8v0qDQCHnXt+kaKSTVE=\ngithub.com/kr/text v0.1.0/go.mod h1:4Jbv+DJW3UT/LiOwJeYQe1efqtUx/iVham/4vfdArNI=\ngithub.com/magiconair/properties v1.8.1/go.mod h1:PppfXfuXeibc/6YijjN8zIbojt8czPbwD3XqdrwzmxQ=\ngithub.com/mattn/go-colorable v0.0.9/go.mod h1:9vuHe8Xs5qXnSaW/c/ABM9alt+Vo+STaOChaDxuIBZU=\ngithub.com/mattn/go-isatty v0.0.3/go.mod h1:M+lRXTBqGeGNdLjl/ufCoiOlB5xdOkqRJdNxMWT7Zi4=\ngithub.com/matttproud/golang_protobuf_extensions v1.0.1/go.mod h1:D8He9yQNgCq6Z5Ld7szi9bcBfOoFv/3dc6xSMkL2PC0=\ngithub.com/miekg/dns v1.0.14/go.mod h1:W1PPwlIAgtquWBMBEV9nkV9Cazfe8ScdGz/Lj7v3Nrg=\ngithub.com/mitchellh/cli v1.0.0/go.mod h1:hNIlj7HEI86fIcpObd7a0FcrxTWetlwJDGcceTlRvqc=\ngithub.com/mitchellh/go-homedir v1.0.0/go.mod h1:SfyaCUpYCn1Vlf4IUYiD9fPX4A5wJrkLzIz1N1q0pr0=\ngithub.com/mitchellh/go-homedir v1.1.0/go.mod h1:SfyaCUpYCn1Vlf4IUYiD9fPX4A5wJrkLzIz1N1q0pr0=\ngithub.com/mitchellh/go-testing-interface v1.0.0/go.mod h1:kRemZodwjscx+RGhAo8eIhFbs2+BFgRtFPeD/KE+zxI=\ngithub.com/mitchellh/gox v0.4.0/go.mod h1:Sd9lOJ0+aimLBi73mGofS1ycjY8lL3uZM3JPS42BGNg=\ngithub.com/mitchellh/iochan v1.0.0/go.mod h1:JwYml1nuB7xOzsp52dPpHFffvOCDupsG0QubkSMEySY=\ngithub.com/mitchellh/mapstructure v0.0.0-20160808181253-ca63d7c062ee/go.mod h1:FVVH3fgwuzCH5S8UJGiWEs2h04kUh9fWfEaFds41c1Y=\ngithub.com/mitchellh/mapstructure v1.1.2/go.mod h1:FVVH3fgwuzCH5S8UJGiWEs2h04kUh9fWfEaFds41c1Y=\ngithub.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd/go.mod h1:6dJC0mAP4ikYIbvyc7fijjWJddQyLn8Ig3JB5CqoB9Q=\ngithub.com/modern-go/reflect2 v1.0.1/go.mod h1:bx2lNnkwVCuqBIxFjflWJWanXIb3RllmbCylyMrvgv0=\ngithub.com/mwitkow/go-conntrack v0.0.0-20161129095857-cc309e4a2223/go.mod h1:qRWi+5nqEBWmkhHvq77mSJWrCKwh8bxhgT7d/eI7P4U=\ngithub.com/nightlyone/lockfile v0.0.0-20180618180623-0ad87eef1443 h1:+2OJrU8cmOstEoh0uQvYemRGVH1O6xtO2oANUWHFnP0=\ngithub.com/nightlyone/lockfile v0.0.0-20180618180623-0ad87eef1443/go.mod h1:JbxfV1Iifij2yhRjXai0oFrbpxszXHRx1E5RuM26o4Y=\ngithub.com/oklog/ulid v1.3.1/go.mod h1:CirwcVhetQ6Lv90oh/F+FBtV6XMibvdAFo93nm5qn4U=\ngithub.com/pascaldekloe/goe v0.0.0-20180627143212-57f6aae5913c/go.mod h1:lzWF7FIEvWOWxwDKqyGYQf6ZUaNfKdP144TG7ZOy1lc=\ngithub.com/pelletier/go-toml v1.2.0/go.mod h1:5z9KED0ma1S8pY6P1sdut58dfprrGBbd/94hg7ilaic=\ngithub.com/pkg/errors v0.8.0 h1:WdK/asTD0HN+q6hsWO3/vpuAkAr+tw6aNJNDFFf0+qw=\ngithub.com/pkg/errors v0.8.0/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=\ngithub.com/pkg/errors v0.8.1 h1:iURUrRGxPUNPdy5/HRSm+Yj6okJ6UtLINN0Q9M4+h3I=\ngithub.com/pkg/errors v0.8.1/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=\ngithub.com/pkg/errors v0.9.1 h1:FEBLx1zS214owpjy7qsBeixbURkuhQAwrK5UwLGTwt4=\ngithub.com/pkg/errors v0.9.1/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=\ngithub.com/pmezard/go-difflib v1.0.0 h1:4DBwDE0NGyQoBHbLQYPwSUPoCMWR5BEzIk/f1lZbAQM=\ngithub.com/pmezard/go-difflib v1.0.0/go.mod h1:iKH77koFhYxTK1pcRnkKkqfTogsbg7gZNVY4sRDYZ/4=\ngithub.com/posener/complete v1.1.1/go.mod h1:em0nMJCgc9GFtwrmVmEMR/ZL6WyhyjMBndrE9hABlRI=\ngithub.com/prometheus/client_golang v0.9.1/go.mod h1:7SWBe2y4D6OKWSNQJUaRYU/AaXPKyh/dDVn+NZz0KFw=\ngithub.com/prometheus/client_golang v0.9.3/go.mod h1:/TN21ttK/J9q6uSwhBd54HahCDft0ttaMvbicHlPoso=\ngithub.com/prometheus/client_model v0.0.0-20180712105110-5c3871d89910/go.mod h1:MbSGuTsp3dbXC40dX6PRTWyKYBIrTGTE9sqQNg2J8bo=\ngithub.com/prometheus/client_model v0.0.0-20190129233127-fd36f4220a90/go.mod h1:xMI15A0UPsDsEKsMN9yxemIoYk6Tm2C1GtYGdfGttqA=\ngithub.com/prometheus/common v0.0.0-20181113130724-41aa239b4cce/go.mod h1:daVV7qP5qjZbuso7PdcryaAu0sAZbrN9i7WWcTMWvro=\ngithub.com/prometheus/common v0.4.0/go.mod h1:TNfzLD0ON7rHzMJeJkieUDPYmFC7Snx/y86RQel1bk4=\ngithub.com/prometheus/procfs v0.0.0-20181005140218-185b4288413d/go.mod h1:c3At6R/oaqEKCNdg8wHV1ftS6bRYblBhIjjI8uT2IGk=\ngithub.com/prometheus/procfs v0.0.0-20190507164030-5867b95ac084/go.mod h1:TjEm7ze935MbeOT/UhFTIMYKhuLP4wbCsTZCD3I8kEA=\ngithub.com/prometheus/tsdb v0.7.1/go.mod h1:qhTCs0VvXwvX/y3TZrWD7rabWM+ijKTux40TwIPHuXU=\ngithub.com/rogpeppe/fastuuid v0.0.0-20150106093220-6724a57986af/go.mod h1:XWv6SoW27p1b0cqNHllgS5HIMJraePCO15w5zCzIWYg=\ngithub.com/rogpeppe/go-internal v1.3.0/go.mod h1:M8bDsm7K2OlrFYOpmOWEs/qY81heoFRclV5y23lUDJ4=\ngithub.com/russross/blackfriday/v2 v2.0.1 h1:lPqVAte+HuHNfhJ/0LC98ESWRz8afy9tM/0RK8m9o+Q=\ngithub.com/russross/blackfriday/v2 v2.0.1/go.mod h1:+Rmxgy9KzJVeS9/2gXHxylqXiyQDYRxCVz55jmeOWTM=\ngithub.com/ryanuber/columnize v0.0.0-20160712163229-9b3edd62028f/go.mod h1:sm1tb6uqfes/u+d4ooFouqFdy9/2g9QGwK3SQygK0Ts=\ngithub.com/sean-/seed v0.0.0-20170313163322-e2103e2c3529/go.mod h1:DxrIzT+xaE7yg65j358z/aeFdxmN0P9QXhEzd20vsDc=\ngithub.com/shurcooL/sanitized_anchor_name v1.0.0 h1:PdmoCO6wvbs+7yrJyMORt4/BmY5IYyJwS/kOiWx8mHo=\ngithub.com/shurcooL/sanitized_anchor_name v1.0.0/go.mod h1:1NzhyTcUVG4SuEtjjoZeVRXNmyL/1OwPU0+IJeTBvfc=\ngithub.com/sirupsen/logrus v1.2.0 h1:juTguoYk5qI21pwyTXY3B3Y5cOTH3ZUyZCg1v/mihuo=\ngithub.com/sirupsen/logrus v1.2.0/go.mod h1:LxeOpSwHxABJmUn/MG1IvRgCAasNZTLOkJPxbbu5VWo=\ngithub.com/smartystreets/assertions v0.0.0-20180927180507-b2de0cb4f26d/go.mod h1:OnSkiWE9lh6wB0YB77sQom3nweQdgAjqCqsofrRNTgc=\ngithub.com/smartystreets/goconvey v1.6.4/go.mod h1:syvi0/a8iFYH4r/RixwvyeAJjdLS9QV7WQ/tjFTllLA=\ngithub.com/soheilhy/cmux v0.1.4/go.mod h1:IM3LyeVVIOuxMH7sFAkER9+bJ4dT7Ms6E4xg4kGIyLM=\ngithub.com/spaolacci/murmur3 v0.0.0-20180118202830-f09979ecbc72/go.mod h1:JwIasOWyU6f++ZhiEuf87xNszmSA2myDM2Kzu9HwQUA=\ngithub.com/spf13/afero v1.1.2/go.mod h1:j4pytiNVoe2o6bmDsKpLACNPDBIoEAkihy7loJ1B0CQ=\ngithub.com/spf13/cast v1.3.0/go.mod h1:Qx5cxh0v+4UWYiBimWS+eyWzqEqokIECu5etghLkUJE=\ngithub.com/spf13/cobra v1.1.1 h1:KfztREH0tPxJJ+geloSLaAkaPkr4ki2Er5quFV1TDo4=\ngithub.com/spf13/cobra v1.1.1/go.mod h1:WnodtKOvamDL/PwE2M4iKs8aMDBZ5Q5klgD3qfVJQMI=\ngithub.com/spf13/jwalterweatherman v1.0.0/go.mod h1:cQK4TGJAtQXfYWX+Ddv3mKDzgVb68N+wFjFa4jdeBTo=\ngithub.com/spf13/pflag v1.0.3 h1:zPAT6CGy6wXeQ7NtTnaTerfKOsV6V6F8agHXFiazDkg=\ngithub.com/spf13/pflag v1.0.3/go.mod h1:DYY7MBk1bdzusC3SYhjObp+wFpr4gzcvqqNjLnInEg4=\ngithub.com/spf13/pflag v1.0.5 h1:iy+VFUOCP1a+8yFto/drg2CJ5u0yRoB7fZw3DKv/JXA=\ngithub.com/spf13/pflag v1.0.5/go.mod h1:McXfInJRrz4CZXVZOBLb0bTZqETkiAhM9Iw0y3An2Bg=\ngithub.com/spf13/viper v1.7.0/go.mod h1:8WkrPz2fc9jxqZNCJI/76HCieCp4Q8HaLFoCha5qpdg=\ngithub.com/stretchr/objx v0.1.0/go.mod h1:HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME=\ngithub.com/stretchr/objx v0.1.1/go.mod h1:HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME=\ngithub.com/stretchr/testify v1.2.2/go.mod h1:a8OnRcib4nhh0OaRAV+Yts87kKdq0PP7pXfy6kDkUVs=\ngithub.com/stretchr/testify v1.3.0/go.mod h1:M5WIy9Dh21IEIfnGCwXGc5bZfKNJtfHm1UVUgZn+9EI=\ngithub.com/stretchr/testify v1.4.0 h1:2E4SXV/wtOkTonXsotYi4li6zVWxYlZuYNCXe9XRJyk=\ngithub.com/stretchr/testify v1.4.0/go.mod h1:j7eGeouHqKxXV5pUuKE4zz7dFj8WfuZ+81PSLYec5m4=\ngithub.com/subosito/gotenv v1.2.0/go.mod h1:N0PQaV/YGNqwC0u51sEeR/aUtSLEXKX9iv69rRypqCw=\ngithub.com/tmc/grpc-websocket-proxy v0.0.0-20190109142713-0ad062ec5ee5/go.mod h1:ncp9v5uamzpCO7NfCPTXjqaC+bZgJeR0sMTm6dMHP7U=\ngithub.com/xi2/xz v0.0.0-20171230120015-48954b6210f8 h1:nIPpBwaJSVYIxUFsDv3M8ofmx9yWTog9BfvIu0q41lo=\ngithub.com/xi2/xz v0.0.0-20171230120015-48954b6210f8/go.mod h1:HUYIGzjTL3rfEspMxjDjgmT5uz5wzYJKVo23qUhYTos=\ngithub.com/xiang90/probing v0.0.0-20190116061207-43a291ad63a2/go.mod h1:UETIi67q53MR2AWcXfiuqkDkRtnGDLqkBTpCHuJHxtU=\ngo.etcd.io/bbolt v1.3.2/go.mod h1:IbVyRI1SCnLcuJnV2u8VeU0CEYM7e686BmAb1XKL+uU=\ngo.opencensus.io v0.21.0/go.mod h1:mSImk1erAIZhrmZN+AvHh14ztQfjbGwt4TtuofqLduU=\ngo.opencensus.io v0.22.0/go.mod h1:+kGneAE2xo2IficOXnaByMWTGM9T73dGwxeWcUqIpI8=\ngo.uber.org/atomic v1.4.0/go.mod h1:gD2HeocX3+yG+ygLZcrzQJaqmWj9AIm7n08wl/qW/PE=\ngo.uber.org/multierr v1.1.0/go.mod h1:wR5kodmAFQ0UK8QlbwjlSNy0Z68gJhDJUG5sjR94q/0=\ngo.uber.org/zap v1.10.0/go.mod h1:vwi/ZaCAaUcBkycHslxD9B2zi4UTXhF60s6SWpuDF0Q=\ngolang.org/x/crypto v0.0.0-20180904163835-0709b304e793/go.mod h1:6SG95UA2DQfeDnfUPMdvaQW0Q7yPrPDi9nlGo2tz2b4=\ngolang.org/x/crypto v0.0.0-20181029021203-45a5f77698d3/go.mod h1:6SG95UA2DQfeDnfUPMdvaQW0Q7yPrPDi9nlGo2tz2b4=\ngolang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2/go.mod h1:djNgcEr1/C05ACkg1iLfiJU5Ep61QUkGW8qpdssI0+w=\ngolang.org/x/crypto v0.0.0-20190510104115-cbcb75029529/go.mod h1:yigFU9vqHzYiE8UmvKecakEJjdnWj3jj499lnFckfCI=\ngolang.org/x/crypto v0.0.0-20190605123033-f99c8df09eb5/go.mod h1:yigFU9vqHzYiE8UmvKecakEJjdnWj3jj499lnFckfCI=\ngolang.org/x/crypto v0.0.0-20200622213623-75b288015ac9 h1:psW17arqaxU48Z5kZ0CQnkZWQJsqcURM6tKiBApRjXI=\ngolang.org/x/crypto v0.0.0-20200622213623-75b288015ac9/go.mod h1:LzIPMQfyMNhhGPhUkYOs5KpL4U8rLKemX1yGLhDgUto=\ngolang.org/x/exp v0.0.0-20190121172915-509febef88a4/go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=\ngolang.org/x/exp v0.0.0-20190306152737-a1d7652674e8/go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=\ngolang.org/x/exp v0.0.0-20190510132918-efd6b22b2522/go.mod h1:ZjyILWgesfNpC6sMxTJOJm9Kp84zZh5NQWvqDGG3Qr8=\ngolang.org/x/exp v0.0.0-20190829153037-c13cbed26979/go.mod h1:86+5VVa7VpoJ4kLfm080zCjGlMRFzhUhsZKEZO7MGek=\ngolang.org/x/exp v0.0.0-20191030013958-a1ab85dbe136/go.mod h1:JXzH8nQsPlswgeRAPE3MuO9GYsAcnJvJ4vnMwN/5qkY=\ngolang.org/x/image v0.0.0-20190227222117-0694c2d4d067/go.mod h1:kZ7UVZpmo3dzQBMxlp+ypCbDeSB+sBbTgSJuh5dn5js=\ngolang.org/x/image v0.0.0-20190802002840-cff245a6509b/go.mod h1:FeLwcggjj3mMvU+oOTbSwawSJRM1uh48EjtB4UJZlP0=\ngolang.org/x/lint v0.0.0-20181026193005-c67002cb31c3/go.mod h1:UVdnD1Gm6xHRNCYTkRU2/jEulfH38KcIWyp/GAMgvoE=\ngolang.org/x/lint v0.0.0-20190227174305-5b3e6a55c961/go.mod h1:wehouNa3lNwaWXcvxsM5YxQ5yQlVC4a0KAMCusXpPoU=\ngolang.org/x/lint v0.0.0-20190301231843-5614ed5bae6f/go.mod h1:UVdnD1Gm6xHRNCYTkRU2/jEulfH38KcIWyp/GAMgvoE=\ngolang.org/x/lint v0.0.0-20190313153728-d0100b6bd8b3/go.mod h1:6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc=\ngolang.org/x/lint v0.0.0-20190409202823-959b441ac422/go.mod h1:6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc=\ngolang.org/x/lint v0.0.0-20190909230951-414d861bb4ac/go.mod h1:6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc=\ngolang.org/x/lint v0.0.0-20190930215403-16217165b5de/go.mod h1:6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc=\ngolang.org/x/mobile v0.0.0-20190312151609-d3739f865fa6/go.mod h1:z+o9i4GpDbdi3rU15maQ/Ox0txvL9dWGYEHz965HBQE=\ngolang.org/x/mobile v0.0.0-20190719004257-d2bd2a29d028/go.mod h1:E/iHnbuqvinMTCcRqshq8CkpyQDoeVncDDYHnLhea+o=\ngolang.org/x/mod v0.0.0-20190513183733-4bf6d317e70e/go.mod h1:mXi4GBBbnImb6dmsKGUJ2LatrhH/nqhxcFungHvyanc=\ngolang.org/x/mod v0.1.0/go.mod h1:0QHyrYULN0/3qlju5TqG8bIK38QM8yzMo5ekMj3DlcY=\ngolang.org/x/net v0.0.0-20180724234803-3673e40ba225/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20180826012351-8a410e7b638d/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20181023162649-9b4f9f5ad519/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20181114220301-adae6a3d119a/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20181201002055-351d144fa1fc/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20181220203305-927f97764cc3/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20190108225652-1e06a53dbb7e/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20190213061140-3a22650c66bd/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20190311183353-d8887717615a/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20190404232315-eb5bcb51f2a3/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20190501004415-9ce7a6920f09/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20190503192946-f4e77d36d62c/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20190603091049-60506f45cf65/go.mod h1:HSz+uSET+XFnRR8LxR5pz3Of3rY3CfYBVs4xY44aLks=\ngolang.org/x/net v0.0.0-20190620200207-3b0461eec859/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=\ngolang.org/x/oauth2 v0.0.0-20180821212333-d2e6202438be/go.mod h1:N/0e6XlmueqKjAGxoOufVs8QHGRruUQn6yWY3a++T0U=\ngolang.org/x/oauth2 v0.0.0-20190226205417-e64efc72b421/go.mod h1:gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw=\ngolang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45/go.mod h1:gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw=\ngolang.org/x/sync v0.0.0-20180314180146-1d60e4601c6f/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20181108010431-42b317875d0f/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20181221193216-37e7f081c4d4/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20190227155943-e225da77a7e6/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20190423024810-112230192c58/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sys v0.0.0-20180823144017-11551d06cbcc/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20180830151530-49385e6e1522/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20180905080454-ebe1bf3edb33/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20181026203630-95b1ffbd15a5/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20181107165924-66b7b1311ac8/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20181116152217-5ac8a444bdc5/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190312061237-fead79001313/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20190412213103-97732733099d h1:+R4KGOnez64A81RvjARKc4UT5/tI9ujCIVX+P5KiHuI=\ngolang.org/x/sys v0.0.0-20190412213103-97732733099d/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20190502145724-3ef323f4f1fd/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20190507160741-ecd444e8653b h1:ag/x1USPSsqHud38I9BAC88qdNLDHHtQ4mlgQIZPPNA=\ngolang.org/x/sys v0.0.0-20190507160741-ecd444e8653b/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20190606165138-5da285871e9c/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20190624142023-c5567b49c5d0/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20201119102817-f84b799fce68 h1:nxC68pudNYkKU6jWhgrqdreuFiOQWj1Fs7T3VrH4Pjw=\ngolang.org/x/sys v0.0.0-20201119102817-f84b799fce68/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/text v0.3.0/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=\ngolang.org/x/text v0.3.1-0.20180807135948-17ff2d5776d2/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=\ngolang.org/x/text v0.3.2 h1:tW2bmiBqwgJj/UpqtC8EpXEZVYOwU0yG4iWbprSVAcs=\ngolang.org/x/text v0.3.2/go.mod h1:bEr9sfX3Q8Zfm5fL9x+3itogRgK3+ptLWKqgva+5dAk=\ngolang.org/x/time v0.0.0-20181108054448-85acf8d2951c/go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ=\ngolang.org/x/time v0.0.0-20190308202827-9d24e82272b4/go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ=\ngolang.org/x/tools v0.0.0-20180221164845-07fd8470d635/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=\ngolang.org/x/tools v0.0.0-20180917221912-90fa682c2a6e/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=\ngolang.org/x/tools v0.0.0-20190114222345-bf090417da8b/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=\ngolang.org/x/tools v0.0.0-20190226205152-f727befe758c/go.mod h1:9Yl7xja0Znq3iFh3HoIrodX9oNMXvdceNzlUR8zjMvY=\ngolang.org/x/tools v0.0.0-20190311212946-11955173bddd/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=\ngolang.org/x/tools v0.0.0-20190312151545-0bb0c0a6e846/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=\ngolang.org/x/tools v0.0.0-20190312170243-e65039ee4138/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=\ngolang.org/x/tools v0.0.0-20190328211700-ab21143f2384/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=\ngolang.org/x/tools v0.0.0-20190425150028-36563e24a262/go.mod h1:RgjU9mgBXZiqYHBnxXauZ1Gv1EHHAz9KjViQ78xBX0Q=\ngolang.org/x/tools v0.0.0-20190506145303-2d16b83fe98c/go.mod h1:RgjU9mgBXZiqYHBnxXauZ1Gv1EHHAz9KjViQ78xBX0Q=\ngolang.org/x/tools v0.0.0-20190606124116-d0a3d012864b/go.mod h1:/rFqwRUd4F7ZHNgwSSTFct+R/Kf4OFW1sUzUTQQTgfc=\ngolang.org/x/tools v0.0.0-20190621195816-6e04913cbbac/go.mod h1:/rFqwRUd4F7ZHNgwSSTFct+R/Kf4OFW1sUzUTQQTgfc=\ngolang.org/x/tools v0.0.0-20190628153133-6cdbf07be9d0/go.mod h1:/rFqwRUd4F7ZHNgwSSTFct+R/Kf4OFW1sUzUTQQTgfc=\ngolang.org/x/tools v0.0.0-20190816200558-6889da9d5479/go.mod h1:b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo=\ngolang.org/x/tools v0.0.0-20190911174233-4f2ddba30aff/go.mod h1:b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo=\ngolang.org/x/tools v0.0.0-20191012152004-8de300cfc20a/go.mod h1:b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo=\ngolang.org/x/tools v0.0.0-20191112195655-aa38f8e97acc/go.mod h1:b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo=\ngolang.org/x/xerrors v0.0.0-20190717185122-a985d3407aa7/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=\ngoogle.golang.org/api v0.4.0/go.mod h1:8k5glujaEP+g9n7WNsDg8QP6cUVNI86fCNMcbazEtwE=\ngoogle.golang.org/api v0.7.0/go.mod h1:WtwebWUNSVBH/HAw79HIFXZNqEvBhG+Ra+ax0hx3E3M=\ngoogle.golang.org/api v0.8.0/go.mod h1:o4eAsZoiT+ibD93RtjEohWalFOjRDx6CVaqeizhEnKg=\ngoogle.golang.org/api v0.9.0/go.mod h1:o4eAsZoiT+ibD93RtjEohWalFOjRDx6CVaqeizhEnKg=\ngoogle.golang.org/api v0.13.0/go.mod h1:iLdEw5Ide6rF15KTC1Kkl0iskquN2gFfn9o9XIsbkAI=\ngoogle.golang.org/appengine v1.1.0 h1:igQkv0AAhEIvTEpD5LIpAfav2eeVO9HBTjvKHVJPRSs=\ngoogle.golang.org/appengine v1.1.0/go.mod h1:EbEs0AVv82hx2wNQdGPgUI5lhzA/G0D9YwlJXL52JkM=\ngoogle.golang.org/appengine v1.4.0/go.mod h1:xpcJRLb0r/rnEns0DIKYYv+WjYCduHsrkT7/EB5XEv4=\ngoogle.golang.org/appengine v1.5.0/go.mod h1:xpcJRLb0r/rnEns0DIKYYv+WjYCduHsrkT7/EB5XEv4=\ngoogle.golang.org/appengine v1.6.1 h1:QzqyMA1tlu6CgqCDUtU9V+ZKhLFT2dkJuANu5QaxI3I=\ngoogle.golang.org/appengine v1.6.1/go.mod h1:i06prIuMbXzDqacNJfV5OdTW448YApPu5ww/cMBSeb0=\ngoogle.golang.org/genproto v0.0.0-20180817151627-c66870c02cf8/go.mod h1:JiN7NxoALGmiZfu7CAH4rXhgtRTLTxftemlI0sWmxmc=\ngoogle.golang.org/genproto v0.0.0-20190307195333-5fe7a883aa19/go.mod h1:VzzqZJRnGkLBvHegQrXjBqPurQTc5/KpmUdxsrq26oE=\ngoogle.golang.org/genproto v0.0.0-20190418145605-e7d98fc518a7/go.mod h1:VzzqZJRnGkLBvHegQrXjBqPurQTc5/KpmUdxsrq26oE=\ngoogle.golang.org/genproto v0.0.0-20190425155659-357c62f0e4bb/go.mod h1:VzzqZJRnGkLBvHegQrXjBqPurQTc5/KpmUdxsrq26oE=\ngoogle.golang.org/genproto v0.0.0-20190502173448-54afdca5d873/go.mod h1:VzzqZJRnGkLBvHegQrXjBqPurQTc5/KpmUdxsrq26oE=\ngoogle.golang.org/genproto v0.0.0-20190801165951-fa694d86fc64/go.mod h1:DMBHOl98Agz4BDEuKkezgsaosCRResVns1a3J2ZsMNc=\ngoogle.golang.org/genproto v0.0.0-20190819201941-24fa4b261c55/go.mod h1:DMBHOl98Agz4BDEuKkezgsaosCRResVns1a3J2ZsMNc=\ngoogle.golang.org/genproto v0.0.0-20190911173649-1774047e7e51/go.mod h1:IbNlFCBrqXvoKpeg0TB2l7cyZUmoaFKYIwrEpbDKLA8=\ngoogle.golang.org/genproto v0.0.0-20191108220845-16a3f7862a1a/go.mod h1:n3cpQtvxv34hfy77yVDNjmbRyujviMdxYliBSkLhpCc=\ngoogle.golang.org/grpc v1.19.0/go.mod h1:mqu4LbDTu4XGKhr4mRzUsmM4RtVoemTSY81AxZiDr8c=\ngoogle.golang.org/grpc v1.20.1/go.mod h1:10oTOabMzJvdu6/UiuZezV6QK5dSlG84ov/aaiqXj38=\ngoogle.golang.org/grpc v1.21.1/go.mod h1:oYelfM1adQP15Ek0mdvEgi9Df8B9CZIaU1084ijfRaM=\ngopkg.in/alecthomas/kingpin.v2 v2.2.6/go.mod h1:FMv+mEhP44yOT+4EoQTLFTRgOQ1FBLkstjWtayDeSgw=\ngopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405 h1:yhCVgyC4o1eVCa2tZl7eS0r+SDo693bJlVdllGtEeKM=\ngopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=\ngopkg.in/check.v1 v1.0.0-20180628173108-788fd7840127 h1:qIbj1fsPNlZgppZ+VLlY7N33q108Sa+fhmuc+sWQYwY=\ngopkg.in/check.v1 v1.0.0-20180628173108-788fd7840127/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=\ngopkg.in/errgo.v2 v2.1.0/go.mod h1:hNsd1EY+bozCKY1Ytp96fpM3vjJbqLJn88ws8XvfDNI=\ngopkg.in/ini.v1 v1.51.0/go.mod h1:pNLf8WUiyNEtQjuu5G5vTm06TEv9tsIgeAvK8hOrP4k=\ngopkg.in/resty.v1 v1.12.0/go.mod h1:mDo4pnntr5jdWRML875a/NmxYqAlA73dVijT2AXvQQo=\ngopkg.in/yaml.v2 v2.0.0-20170812160011-eb3733d160e7/go.mod h1:JAlM8MvJe8wmxCU4Bli9HhUf9+ttbYbLASfIpnQbh74=\ngopkg.in/yaml.v2 v2.2.1/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=\ngopkg.in/yaml.v2 v2.2.2 h1:ZCJp+EgiOT7lHqUV2J862kp8Qj64Jo6az82+3Td9dZw=\ngopkg.in/yaml.v2 v2.2.2/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=\ngopkg.in/yaml.v2 v2.2.4/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=\ngopkg.in/yaml.v2 v2.2.8 h1:obN1ZagJSUGI0Ek/LBmuj4SNLPfIny3KsKFopxRdj10=\ngopkg.in/yaml.v2 v2.2.8/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=\nhonnef.co/go/tools v0.0.0-20190102054323-c2f93a96b099/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=\nhonnef.co/go/tools v0.0.0-20190106161140-3f1c8253044a/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=\nhonnef.co/go/tools v0.0.0-20190418001031-e561f6794a2a/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=\nhonnef.co/go/tools v0.0.1-2019.2.3/go.mod h1:a3bituU0lyd329TUQxRnasdCoJDkEUEAqEt0JzvZhAg=\nrsc.io/binaryregexp v0.2.0/go.mod h1:qTv7/COck+e2FymRvadv62gMdZztPaShugOCi3I+8D8=\n", "// DBDeployer - The MySQL Sandbox\n// Copyright \u00a9 2006-2020 Giuseppe Maxia\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* Originally copyrighted as\n// Copyright \u00a9 2011-12 Qtrac Ltd.\n//\n// This program or package and any associated files are licensed under the\n// Apache License, Version 2.0 (the \"License\"); you may not use these files\n// except in compliance with the License. You can get a copy of the License\n// at: http://www.apache.org/licenses/LICENSE-2.0.\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n*/\n/*\n Code adapted and enhanced from examples to the book:\n Programming in Go by Mark Summerfield\n http://www.qtrac.eu/gobook.html\n\n Original author: Mark Summerfield\n Converted to package by Giuseppe Maxia in 2018\n\n The original code was a stand-alone program, and it\n had a few bugs:\n * when extracting from a tar file: when there\n isn't a separate item for each directory, the\n extraction fails.\n * The attributes of the files were not reproduced\n in the extracted files.\n This code fixes those problems and introduces a\n destination directory and verbosity\n levels for the extraction\n\n*/\n\npackage unpack\n\nimport (\n\t\"archive/tar\"\n\t\"compress/gzip\"\n\t\"fmt\"\n\t\"io\"\n\t\"os\"\n\t\"path\"\n\t\"path/filepath\"\n\t\"regexp\"\n\t\"strconv\"\n\t\"strings\"\n\n\t\"github.com/pkg/errors\"\n\t\"github.com/xi2/xz\"\n\n\t\"github.com/datacharmer/dbdeployer/common\"\n\t\"github.com/datacharmer/dbdeployer/globals\"\n)\n\nconst (\n\tSILENT  = iota // No output\n\tVERBOSE        // Minimal feedback about extraction operations\n\tCHATTY         // Full details of what is being extracted\n)\n\nvar Verbose int\n\nfunc condPrint(s string, nl bool, level int) {\n\tif Verbose >= level {\n\t\tif nl {\n\t\t\tfmt.Println(s)\n\t\t} else {\n\t\t\tfmt.Print(s)\n\t\t}\n\t}\n}\n\nfunc validSuffix(filename string) bool {\n\tfor _, suffix := range []string{globals.TgzExt, globals.TarExt, globals.TarGzExt, globals.TarXzExt} {\n\t\tif strings.HasSuffix(filename, suffix) {\n\t\t\treturn true\n\t\t}\n\t}\n\treturn false\n}\n\nfunc UnpackXzTar(filename string, destination string, verbosityLevel int) (err error) {\n\tVerbose = verbosityLevel\n\tif !common.FileExists(filename) {\n\t\treturn fmt.Errorf(\"file %s not found\", filename)\n\t}\n\tif !common.DirExists(destination) {\n\t\treturn fmt.Errorf(\"directory %s not found\", destination)\n\t}\n\tfilename, err = common.AbsolutePath(filename)\n\tif err != nil {\n\t\treturn err\n\t}\n\terr = os.Chdir(destination)\n\tif err != nil {\n\t\treturn errors.Wrapf(err, \"error changing directory to %s\", destination)\n\t}\n\t// #nosec G304\n\tf, err := os.Open(filename)\n\tif err != nil {\n\t\treturn err\n\t}\n\tdefer f.Close()\n\t// Create an xz Reader\n\tr, err := xz.NewReader(f, 0)\n\tif err != nil {\n\t\treturn err\n\t}\n\t// Create a tar Reader\n\ttr := tar.NewReader(r)\n\treturn unpackTarFiles(tr, destination)\n}\n\nfunc UnpackTar(filename string, destination string, verbosityLevel int) (err error) {\n\tVerbose = verbosityLevel\n\tf, err := os.Stat(destination)\n\tif os.IsNotExist(err) {\n\t\treturn fmt.Errorf(\"destination directory '%s' does not exist\", destination)\n\t}\n\tfilemode := f.Mode()\n\tif !filemode.IsDir() {\n\t\treturn fmt.Errorf(\"destination '%s' is not a directory\", destination)\n\t}\n\tif !validSuffix(filename) {\n\t\treturn fmt.Errorf(\"unrecognized archive suffix\")\n\t}\n\tvar file *os.File\n\t// #nosec G304\n\tif file, err = os.Open(filename); err != nil {\n\t\treturn err\n\t}\n\tdefer file.Close()\n\terr = os.Chdir(destination)\n\tif err != nil {\n\t\treturn errors.Wrapf(err, \"error changing directory to %s\", destination)\n\t}\n\tvar fileReader io.Reader = file\n\tvar decompressor *gzip.Reader\n\tif strings.HasSuffix(filename, globals.GzExt) {\n\t\tif decompressor, err = gzip.NewReader(file); err != nil {\n\t\t\treturn err\n\t\t}\n\t\tdefer decompressor.Close()\n\t}\n\tvar reader *tar.Reader\n\tif decompressor != nil {\n\t\treader = tar.NewReader(decompressor)\n\t} else {\n\t\treader = tar.NewReader(fileReader)\n\t}\n\treturn unpackTarFiles(reader, destination)\n}\n\nfunc unpackTarFiles(reader *tar.Reader, extractDir string) error {\n\tconst errLinkedDirectoryOutside = \"linked directory '%s' is outside the extraction directory\"\n\textractAbsDir, err := filepath.Abs(extractDir)\n\tif err != nil {\n\t\treturn fmt.Errorf(\"error defining the absolute path of '%s': %s\", extractDir, err)\n\t}\n\tvar header *tar.Header\n\tvar count int = 0\n\tvar reSlash = regexp.MustCompile(`/.*`)\n\n\tinnerDir := \"\"\n\tfor {\n\t\tif header, err = reader.Next(); err != nil {\n\t\t\tif err == io.EOF {\n\t\t\t\tcondPrint(\"Files \", false, CHATTY)\n\t\t\t\tcondPrint(strconv.Itoa(count), true, 1)\n\t\t\t\treturn nil // OK\n\t\t\t}\n\t\t\treturn err\n\t\t}\n\t\t// cond_print(fmt.Sprintf(\"%#v\\n\", header), true, CHATTY)\n\t\t/*\n\t\t\ttar.Header{\n\t\t\t\tTypeflag:0x30,\n\t\t\t\tName:\"mysql-8.0.11-macos10.13-x86_64/docs/INFO_SRC\",\n\t\t\t\tLinkname:\"\",\n\t\t\t\tSize:185,\n\t\t\t\tMode:420,\n\t\t\t\tUid:7161,\n\t\t\t\tGid:10,\n\t\t\t\tUname:\"pb2user\",\n\t\t\t\tGname:\"owner\",\n\t\t\t\tModTime:time.Time{wall:0x0, ext:63658769207, loc:(*time.Location)(0x13730e0)},\n\t\t\t\tAccessTime:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)},\n\t\t\t\tChangeTime:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)},\n\t\t\t\tDevmajor:0, Devminor:0,\n\t\t\t\tXattrs:map[string]string(nil),\n\t\t\t\tPAXRecords:map[string]string(nil),\n\t\t\t\tFormat:0}\n\t\t\ttar.Header{\n\t\t\t\tTypeflag:0x32,\n\t\t\t\tName:\"mysql-8.0.11-macos10.13-x86_64/lib/libssl.dylib\",\n\t\t\t\tLinkname:\"libssl.1.0.0.dylib\",\n\t\t\t\tSize:0,\n\t\t\t\tMode:493,\n\t\t\t\tUid:7161,\n\t\t\t\tGid:10,\n\t\t\t\tUname:\"pb2user\",\n\t\t\t\tGname:\"owner\",\n\t\t\t\tModTime:time.Time{wall:0x0, ext:63658772525, loc:(*time.Location)(0x13730e0)},\n\t\t\t\tAccessTime:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)},\n\t\t\t\tChangeTime:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)},\n\t\t\t\tDevmajor:0,\n\t\t\t\tDevminor:0,\n\t\t\t\tXattrs:map[string]string(nil),\n\t\t\t\tPAXRecords:map[string]string(nil),\n\t\t\t\tFormat:0}\n\t\t*/\n\t\tfilemode := os.FileMode(header.Mode)\n\t\tfilename := sanitizedName(header.Name)\n\t\tfileDir := path.Dir(filename)\n\t\tupperDir := reSlash.ReplaceAllString(fileDir, \"\")\n\t\tif innerDir != \"\" {\n\t\t\tif upperDir != innerDir {\n\t\t\t\treturn fmt.Errorf(\"found more than one directory inside the tarball\\n\"+\n\t\t\t\t\t\"<%s> and <%s>\", upperDir, innerDir)\n\t\t\t}\n\t\t} else {\n\t\t\tinnerDir = upperDir\n\t\t}\n\n\t\tif _, err = os.Stat(fileDir); os.IsNotExist(err) {\n\t\t\tif err = os.MkdirAll(fileDir, globals.PublicDirectoryAttr); err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\t\t\tcondPrint(\" + \"+fileDir+\" \", true, CHATTY)\n\t\t}\n\t\tif header.Typeflag == 0 {\n\t\t\theader.Typeflag = tar.TypeReg\n\t\t}\n\t\tswitch header.Typeflag {\n\t\tcase tar.TypeDir:\n\t\t\tif err = os.MkdirAll(filename, globals.PublicDirectoryAttr); err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\t\tcase tar.TypeReg:\n\t\t\tif err = unpackTarFile(filename, reader); err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\t\t\terr = os.Chmod(filename, filemode)\n\t\t\tif err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\t\t\tcount++\n\t\t\tcondPrint(filename, true, CHATTY)\n\t\t\tif count%10 == 0 {\n\t\t\t\tmark := \".\"\n\t\t\t\tif count%100 == 0 {\n\t\t\t\t\tmark = strconv.Itoa(count)\n\t\t\t\t}\n\t\t\t\tif Verbose < CHATTY {\n\t\t\t\t\tcondPrint(mark, false, 1)\n\t\t\t\t}\n\t\t\t}\n\t\tcase tar.TypeSymlink:\n\t\t\tif header.Linkname != \"\" {\n\t\t\t\tlinkDepth := pathDepth(header.Linkname)\n\t\t\t\tnameDepth := pathDepth(header.Name)\n\t\t\t\tif linkDepth > nameDepth {\n\t\t\t\t\tfmt.Println()\n\t\t\t\t\treturn fmt.Errorf(errLinkedDirectoryOutside, header.Linkname)\n\t\t\t\t}\n\t\t\t\tif common.FileExists(header.Linkname) {\n\t\t\t\t\tabsFile, err := filepath.Abs(header.Linkname)\n\t\t\t\t\tif err != nil {\n\t\t\t\t\t\treturn fmt.Errorf(\"error retrieving absolute path of %s: %s\", header.Linkname, err)\n\t\t\t\t\t}\n\t\t\t\t\tif !common.BeginsWith(absFile, extractAbsDir) {\n\t\t\t\t\t\treturn fmt.Errorf(errLinkedDirectoryOutside, header.Linkname)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif common.BeginsWith(header.Linkname, \"/\") {\n\t\t\t\t\t\tif !common.BeginsWith(header.Linkname, extractAbsDir) {\n\t\t\t\t\t\t\treturn fmt.Errorf(errLinkedDirectoryOutside, header.Linkname)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcondPrint(fmt.Sprintf(\"%s -> %s\", filename, header.Linkname), true, CHATTY)\n\t\t\t\terr = os.Symlink(header.Linkname, filename)\n\t\t\t\tif err != nil {\n\t\t\t\t\treturn fmt.Errorf(\"%#v\\n#ERROR: %s\", header, err)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn fmt.Errorf(\"file %s is a symlink, but no link information was provided\", filename)\n\t\t\t}\n\t\t}\n\t}\n\t// return nil\n}\n\nfunc pathDepth(s string) int {\n\treSlash := regexp.MustCompilePOSIX(\"(/)\")\n\tlist := reSlash.FindAllStringIndex(s, -1)\n\treturn len(list)\n}\n\nfunc unpackTarFile(filename string,\n\treader *tar.Reader) (err error) {\n\tvar writer *os.File\n\tif writer, err = os.Create(filename); err != nil {\n\t\treturn err\n\t}\n\tdefer writer.Close()\n\tif _, err = io.Copy(writer, reader); err != nil {\n\t\treturn err\n\t}\n\treturn nil\n}\n\nfunc sanitizedName(filename string) string {\n\tif len(filename) > 1 && filename[1] == ':' {\n\t\tfilename = filename[2:]\n\t}\n\tfilename = strings.TrimLeft(filename, \"\\\\/.\")\n\tfilename = strings.Replace(filename, \"../\", \"\", -1)\n\treturn strings.Replace(filename, \"..\\\\\", \"\", -1)\n}\n\nfunc VerifyTarFile(fileName string) error {\n\tif !validSuffix(fileName) {\n\t\treturn fmt.Errorf(\"unrecognized archive suffix %s\", fileName)\n\t}\n\tvar file *os.File\n\tvar err error\n\t// #nosec G304\n\tif file, err = os.Open(fileName); err != nil {\n\t\treturn fmt.Errorf(\"[open file Validation] %s\", err)\n\t}\n\tdefer file.Close()\n\tvar fileReader io.Reader = file\n\tvar decompressor *gzip.Reader\n\tvar xzDecompressor *xz.Reader\n\n\tif strings.HasSuffix(fileName, globals.GzExt) {\n\t\tif decompressor, err = gzip.NewReader(file); err != nil {\n\t\t\treturn fmt.Errorf(\"[gz Validation] %s\", err)\n\t\t}\n\t\tdefer decompressor.Close()\n\t} else {\n\t\tif strings.HasSuffix(fileName, globals.TarXzExt) {\n\t\t\tif xzDecompressor, err = xz.NewReader(file, 0); err != nil {\n\t\t\t\treturn fmt.Errorf(\"[xz Validation] %s\", err)\n\t\t\t}\n\t\t}\n\t}\n\tvar reader *tar.Reader\n\tif decompressor != nil {\n\t\treader = tar.NewReader(decompressor)\n\t} else {\n\t\tif xzDecompressor != nil {\n\t\t\treader = tar.NewReader(xzDecompressor)\n\t\t} else {\n\t\t\treader = tar.NewReader(fileReader)\n\t\t}\n\t}\n\tvar header *tar.Header\n\texpectedDirName := common.BaseName(fileName)\n\treExt := regexp.MustCompile(`\\.(?:tar(?:\\.gz|\\.xz)?)$`)\n\texpectedDirName = reExt.ReplaceAllString(expectedDirName, \"\")\n\n\tif header, err = reader.Next(); err != nil {\n\t\tif err == io.EOF {\n\t\t\treturn fmt.Errorf(\"[EOF Validation] file %s is empty\", fileName)\n\t\t}\n\t\treturn fmt.Errorf(\"[header validation] %s\", err)\n\t}\n\tinnerFileName := sanitizedName(header.Name)\n\tfileDir := path.Dir(innerFileName)\n\n\treSlash := regexp.MustCompile(`/.*`)\n\tfileDir = reSlash.ReplaceAllString(fileDir, \"\")\n\n\tif fileDir != expectedDirName {\n\t\treturn fmt.Errorf(\"inner directory name different from tarball name\\n\"+\n\t\t\t\"Expected: %s - Found: %s\", expectedDirName, fileDir)\n\t}\n\treturn nil\n}\n"], "filenames": [".build/VERSION", "CHANGELOG.md", "common/version.go", "go.mod", "go.sum", "unpack/unpack.go"], "buggy_code_start_loc": [1, 0, 19, 11, 1, 59], "buggy_code_end_loc": [2, 0, 22, 18, 169, 280], "fixing_code_start_loc": [1, 1, 19, 11, 2, 60], "fixing_code_end_loc": [2, 7, 22, 18, 331, 315], "type": "CWE-59", "message": "DBdeployer is a tool that deploys MySQL database servers easily. In DBdeployer before version 1.58.2, users unpacking a tarball may use a maliciously packaged tarball that contains symlinks to files external to the target. In such scenario, an attacker could induce dbdeployer to write into a system file, thus altering the computer defenses. For the attack to succeed, the following factors need to contribute: 1) The user is logged in as root. While dbdeployer is usable as root, it was designed to run as unprivileged user. 2) The user has taken a tarball from a non secure source, without testing the checksum. When the tarball is retrieved through dbdeployer, the checksum is compared before attempting to unpack. This has been fixed in version 1.58.2.", "other": {"cve": {"id": "CVE-2020-26277", "sourceIdentifier": "security-advisories@github.com", "published": "2020-12-21T22:15:13.317", "lastModified": "2020-12-23T16:24:57.797", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "DBdeployer is a tool that deploys MySQL database servers easily. In DBdeployer before version 1.58.2, users unpacking a tarball may use a maliciously packaged tarball that contains symlinks to files external to the target. In such scenario, an attacker could induce dbdeployer to write into a system file, thus altering the computer defenses. For the attack to succeed, the following factors need to contribute: 1) The user is logged in as root. While dbdeployer is usable as root, it was designed to run as unprivileged user. 2) The user has taken a tarball from a non secure source, without testing the checksum. When the tarball is retrieved through dbdeployer, the checksum is compared before attempting to unpack. This has been fixed in version 1.58.2."}, {"lang": "es", "value": "DBdeployer es una herramienta que despliega servidores de bases de datos MySQL f\u00e1cilmente.&#xa0;En DBdeployer versiones anteriores a 1.58.2, los usuarios que descomprimen un tarball pueden usar un tarball paquetizado maliciosamente que contiene enlaces simb\u00f3licos para archivos externos al objetivo.&#xa0;En tal escenario, un atacante podr\u00eda inducir a dbdeployer a escribir en un archivo del sistema, alterando as\u00ed las defensas del ordenador.&#xa0;Para que el ataque tenga \u00e9xito, los siguientes factores deben contribuir: 1) El usuario est\u00e1 registrado como root.&#xa0;Si bien dbdeployer puede ser usado como root, fue dise\u00f1ado para ejecutarse como un usuario sin privilegios.&#xa0;2) El usuario ha tomado un tarball de una fuente no segura, sin probar el checksum.&#xa0;Cuando el tarball se recupera por medio de dbdeployer, el checksum se compara antes de intentar desempaquetar.&#xa0;Esto se ha abordado en la versi\u00f3n 1.58.2"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:H/PR:N/UI:R/S:C/C:N/I:H/A:N", "attackVector": "NETWORK", "attackComplexity": "HIGH", "privilegesRequired": "NONE", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "NONE", "integrityImpact": "HIGH", "availabilityImpact": "NONE", "baseScore": 6.1, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 1.6, "impactScore": 4.0}, {"source": "security-advisories@github.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:H/PR:N/UI:R/S:C/C:N/I:H/A:N", "attackVector": "NETWORK", "attackComplexity": "HIGH", "privilegesRequired": "NONE", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "NONE", "integrityImpact": "HIGH", "availabilityImpact": "NONE", "baseScore": 6.1, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 1.6, "impactScore": 4.0}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:H/Au:N/C:N/I:P/A:P", "accessVector": "NETWORK", "accessComplexity": "HIGH", "authentication": "NONE", "confidentialityImpact": "NONE", "integrityImpact": "PARTIAL", "availabilityImpact": "PARTIAL", "baseScore": 4.0}, "baseSeverity": "MEDIUM", "exploitabilityScore": 4.9, "impactScore": 4.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": true}]}, "weaknesses": [{"source": "security-advisories@github.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-59"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:dbdeployer:dbdeployer:*:*:*:*:*:*:*:*", "versionEndExcluding": "1.58.2", "matchCriteriaId": "EB0C4463-CC29-4496-B11B-B6203AEC9F6C"}]}]}], "references": [{"url": "https://github.com/datacharmer/dbdeployer/commit/548e256c1de2f99746e861454e7714ec6bc9bb10", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/datacharmer/dbdeployer/security/advisories/GHSA-47wr-426j-fr82", "source": "security-advisories@github.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/datacharmer/dbdeployer/commit/548e256c1de2f99746e861454e7714ec6bc9bb10"}}