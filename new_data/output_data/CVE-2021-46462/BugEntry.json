{"buggy_code": ["\n/*\n * Copyright (C) Igor Sysoev\n * Copyright (C) NGINX, Inc.\n */\n\n\n#include <njs_main.h>\n\n\nnjs_function_t *\nnjs_function_alloc(njs_vm_t *vm, njs_function_lambda_t *lambda,\n    njs_bool_t async)\n{\n    size_t          size;\n    njs_object_t    *proto;\n    njs_function_t  *function;\n\n    size = sizeof(njs_function_t) + lambda->nclosures * sizeof(njs_value_t *);\n\n    function = njs_mp_zalloc(vm->mem_pool, size);\n    if (njs_slow_path(function == NULL)) {\n        goto fail;\n    }\n\n    /*\n     * njs_mp_zalloc() does also:\n     *   njs_lvlhsh_init(&function->object.hash);\n     *   function->object.__proto__ = NULL;\n     */\n\n    function->ctor = lambda->ctor;\n    function->args_offset = 1;\n    function->u.lambda = lambda;\n\n    if (function->ctor) {\n        function->object.shared_hash = vm->shared->function_instance_hash;\n\n    } else if (async) {\n        function->object.shared_hash = vm->shared->async_function_instance_hash;\n\n    } else {\n        function->object.shared_hash = vm->shared->arrow_instance_hash;\n    }\n\n    if (async) {\n        proto = &vm->prototypes[NJS_OBJ_TYPE_ASYNC_FUNCTION].object;\n\n    } else {\n        proto = &vm->prototypes[NJS_OBJ_TYPE_FUNCTION].object;\n    }\n\n    function->object.__proto__ = proto;\n    function->object.type = NJS_FUNCTION;\n\n    function->object.extensible = 1;\n\n    return function;\n\nfail:\n\n    njs_memory_error(vm);\n\n    return NULL;\n}\n\n\nnjs_function_t *\nnjs_vm_function_alloc(njs_vm_t *vm, njs_function_native_t native)\n{\n    njs_function_t  *function;\n\n    function = njs_mp_zalloc(vm->mem_pool, sizeof(njs_function_t));\n    if (njs_slow_path(function == NULL)) {\n        njs_memory_error(vm);\n        return NULL;\n    }\n\n    function->native = 1;\n    function->args_offset = 1;\n    function->u.native = native;\n\n    return function;\n}\n\n\nnjs_function_t *\nnjs_function_value_copy(njs_vm_t *vm, njs_value_t *value)\n{\n    njs_function_t     *function, *copy;\n    njs_object_type_t  type;\n\n    function = njs_function(value);\n\n    if (!function->object.shared) {\n        return function;\n    }\n\n    copy = njs_function_copy(vm, function);\n    if (njs_slow_path(copy == NULL)) {\n        njs_memory_error(vm);\n        return NULL;\n    }\n\n    type = njs_function_object_type(vm, function);\n\n    if (copy->ctor) {\n        copy->object.shared_hash = vm->shared->function_instance_hash;\n\n    } else if (type == NJS_OBJ_TYPE_ASYNC_FUNCTION) {\n        copy->object.shared_hash = vm->shared->async_function_instance_hash;\n\n    } else {\n        copy->object.shared_hash = vm->shared->arrow_instance_hash;\n    }\n\n    value->data.u.function = copy;\n\n    return copy;\n}\n\n\nnjs_int_t\nnjs_function_name_set(njs_vm_t *vm, njs_function_t *function,\n    njs_value_t *name, const char *prefix)\n{\n    u_char              *p;\n    size_t              len, symbol;\n    njs_int_t           ret;\n    njs_value_t         value;\n    njs_string_prop_t   string;\n    njs_object_prop_t   *prop;\n    njs_lvlhsh_query_t  lhq;\n\n    prop = njs_object_prop_alloc(vm, &njs_string_name, name, 0);\n    if (njs_slow_path(prop == NULL)) {\n        return NJS_ERROR;\n    }\n\n    symbol = 0;\n\n    if (njs_is_symbol(&prop->value)) {\n        symbol = 2;\n        prop->value = *njs_symbol_description(&prop->value);\n    }\n\n    if (prefix != NULL || symbol != 0) {\n        value = prop->value;\n        (void) njs_string_prop(&string, &value);\n\n        len = (prefix != NULL) ? njs_strlen(prefix) + 1: 0;\n        p = njs_string_alloc(vm, &prop->value, string.size + len + symbol,\n                             string.length + len + symbol);\n        if (njs_slow_path(p == NULL)) {\n            return NJS_ERROR;\n        }\n\n        if (len != 0) {\n            p = njs_cpymem(p, prefix, len - 1);\n            *p++ = ' ';\n        }\n\n        if (symbol != 0) {\n            *p++ = '[';\n        }\n\n        p = njs_cpymem(p, string.start, string.size);\n\n        if (symbol != 0) {\n            *p++ = ']';\n        }\n    }\n\n    prop->configurable = 1;\n\n    lhq.key_hash = NJS_NAME_HASH;\n    lhq.key = njs_str_value(\"name\");\n    lhq.replace = 0;\n    lhq.value = prop;\n    lhq.proto = &njs_object_hash_proto;\n    lhq.pool = vm->mem_pool;\n\n    ret = njs_lvlhsh_insert(&function->object.hash, &lhq);\n    if (njs_slow_path(ret != NJS_OK)) {\n        njs_internal_error(vm, \"lvlhsh insert failed\");\n        return NJS_ERROR;\n    }\n\n    return NJS_OK;\n}\n\n\nnjs_function_t *\nnjs_function_copy(njs_vm_t *vm, njs_function_t *function)\n{\n    size_t             size, n;\n    njs_value_t        **from, **to;\n    njs_function_t     *copy;\n    njs_object_type_t  type;\n\n    n = (function->native) ? 0 : function->u.lambda->nclosures;\n\n    size = sizeof(njs_function_t) + n * sizeof(njs_value_t *);\n\n    copy = njs_mp_alloc(vm->mem_pool, size);\n    if (njs_slow_path(copy == NULL)) {\n        return NULL;\n    }\n\n    *copy = *function;\n\n    type = njs_function_object_type(vm, function);\n\n    copy->object.__proto__ = &vm->prototypes[type].object;\n    copy->object.shared = 0;\n\n    if (n == 0) {\n        return copy;\n    }\n\n    from = njs_function_closures(function);\n    to = njs_function_closures(copy);\n\n    do {\n        n--;\n\n        to[n] = from[n];\n\n    } while (n != 0);\n\n    return copy;\n}\n\n\nnjs_int_t\nnjs_function_arguments_object_init(njs_vm_t *vm, njs_native_frame_t *frame)\n{\n    njs_int_t           ret;\n    njs_uint_t          nargs, n;\n    njs_value_t         value;\n    njs_object_t        *arguments;\n    njs_object_prop_t   *prop;\n    njs_lvlhsh_query_t  lhq;\n\n    static const njs_value_t  njs_string_length = njs_string(\"length\");\n\n    arguments = njs_object_alloc(vm);\n    if (njs_slow_path(arguments == NULL)) {\n        return NJS_ERROR;\n    }\n\n    arguments->shared_hash = vm->shared->arguments_object_instance_hash;\n\n    nargs = frame->nargs;\n\n    njs_set_number(&value, nargs);\n\n    prop = njs_object_prop_alloc(vm, &njs_string_length, &value, 1);\n    if (njs_slow_path(prop == NULL)) {\n        return NJS_ERROR;\n    }\n\n    prop->enumerable = 0;\n\n    lhq.value = prop;\n    lhq.key_hash = NJS_LENGTH_HASH;\n    njs_string_get(&prop->name, &lhq.key);\n\n    lhq.replace = 0;\n    lhq.pool = vm->mem_pool;\n    lhq.proto = &njs_object_hash_proto;\n\n    ret = njs_lvlhsh_insert(&arguments->hash, &lhq);\n    if (njs_slow_path(ret != NJS_OK)) {\n        njs_internal_error(vm, \"lvlhsh insert failed\");\n        return NJS_ERROR;\n    }\n\n    for (n = 0; n < nargs; n++) {\n        njs_uint32_to_string(&value, n);\n\n        prop = njs_object_prop_alloc(vm, &value, &frame->arguments[n], 1);\n        if (njs_slow_path(prop == NULL)) {\n            return NJS_ERROR;\n        }\n\n        lhq.value = prop;\n        njs_string_get(&prop->name, &lhq.key);\n        lhq.key_hash = njs_djb_hash(lhq.key.start, lhq.key.length);\n\n        ret = njs_lvlhsh_insert(&arguments->hash, &lhq);\n        if (njs_slow_path(ret != NJS_OK)) {\n            njs_internal_error(vm, \"lvlhsh insert failed\");\n            return NJS_ERROR;\n        }\n    }\n\n    frame->arguments_object = arguments;\n\n    return NJS_OK;\n}\n\n\nnjs_int_t\nnjs_function_rest_parameters_init(njs_vm_t *vm, njs_native_frame_t *frame)\n{\n    uint32_t     length;\n    njs_uint_t   nargs, n, i;\n    njs_array_t  *array;\n    njs_value_t  *rest_arguments;\n\n    nargs = frame->nargs;\n    n = frame->function->u.lambda->nargs;\n    length = (nargs >= n) ? (nargs - n + 1) : 0;\n\n    array = njs_array_alloc(vm, 1, length, 0);\n    if (njs_slow_path(array == NULL)) {\n        return NJS_ERROR;\n    }\n\n    for (i = 0; i < length; i++) {\n        array->start[i] = frame->arguments[i + n - 1];\n    }\n\n    rest_arguments = njs_mp_alloc(vm->mem_pool, sizeof(njs_value_t));\n    if (njs_slow_path(rest_arguments == NULL)) {\n        return NJS_ERROR;\n    }\n\n    /* GC: retain. */\n    njs_set_array(rest_arguments, array);\n\n    vm->top_frame->local[n] = rest_arguments;\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_function_prototype_thrower(njs_vm_t *vm, njs_value_t *args,\n    njs_uint_t nargs, njs_index_t unused)\n{\n    njs_type_error(vm, \"\\\"caller\\\", \\\"callee\\\", \\\"arguments\\\" \"\n                   \"properties may not be accessed\");\n    return NJS_ERROR;\n}\n\n\nconst njs_object_prop_t  njs_arguments_object_instance_properties[] =\n{\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"callee\"),\n        .value = njs_value(NJS_INVALID, 1, NAN),\n        .getter = njs_native_function(njs_function_prototype_thrower, 0),\n        .setter = njs_native_function(njs_function_prototype_thrower, 0),\n        .writable = NJS_ATTRIBUTE_UNSET,\n    },\n};\n\n\nconst njs_object_init_t  njs_arguments_object_instance_init = {\n    njs_arguments_object_instance_properties,\n    njs_nitems(njs_arguments_object_instance_properties),\n};\n\n\nnjs_int_t\nnjs_function_native_frame(njs_vm_t *vm, njs_function_t *function,\n    const njs_value_t *this, const njs_value_t *args, njs_uint_t nargs,\n    njs_bool_t ctor)\n{\n    size_t              size;\n    njs_uint_t          n;\n    njs_value_t         *value, *bound;\n    njs_native_frame_t  *frame;\n\n    size = NJS_NATIVE_FRAME_SIZE\n           + (function->args_offset + nargs) * sizeof(njs_value_t);\n\n    frame = njs_function_frame_alloc(vm, size);\n    if (njs_slow_path(frame == NULL)) {\n        return NJS_ERROR;\n    }\n\n    frame->function = function;\n    frame->nargs = function->args_offset + nargs;\n    frame->ctor = ctor;\n    frame->native = 1;\n    frame->pc = NULL;\n\n    value = (njs_value_t *) ((u_char *) frame + NJS_NATIVE_FRAME_SIZE);\n\n    frame->arguments = value;\n    frame->arguments_offset = value + function->args_offset;\n\n    bound = function->bound;\n\n    if (bound == NULL) {\n        /* GC: njs_retain(this); */\n        *value++ = *this;\n\n    } else {\n        n = function->args_offset;\n\n        do {\n            /* GC: njs_retain(bound); */\n            *value++ = *bound++;\n            n--;\n        } while (n != 0);\n    }\n\n    if (args != NULL) {\n        memcpy(value, args, nargs * sizeof(njs_value_t));\n    }\n\n    return NJS_OK;\n}\n\n\nnjs_int_t\nnjs_function_lambda_frame(njs_vm_t *vm, njs_function_t *function,\n    const njs_value_t *this, const njs_value_t *args, njs_uint_t nargs,\n    njs_bool_t ctor)\n{\n    size_t                 n, frame_size;\n    uint32_t               args_count, value_count, value_size, temp_size;\n    njs_value_t            *value, *bound, **new, **temp;\n    njs_frame_t            *frame;\n    njs_function_t         *target;\n    njs_native_frame_t     *native_frame;\n    njs_function_lambda_t  *lambda;\n\n    bound = function->bound;\n\n    if (njs_fast_path(bound == NULL)) {\n        lambda = function->u.lambda;\n        target = function;\n\n    } else {\n        target = function->u.bound_target;\n\n        if (njs_slow_path(target->bound != NULL)) {\n\n            /*\n             * FIXME: bound functions should call target function with\n             * bound \"this\" and bound args.\n             */\n\n            njs_internal_error(vm, \"chain of bound function are not supported\");\n            return NJS_ERROR;\n        }\n\n        lambda = target->u.lambda;\n    }\n\n    args_count = function->args_offset + njs_max(nargs, lambda->nargs);\n    value_count = args_count + njs_max(args_count, lambda->nlocal);\n\n    value_size = value_count * sizeof(njs_value_t *);\n    temp_size = lambda->temp * sizeof(njs_value_t *);\n\n    frame_size = value_size + temp_size\n                        + ((value_count + lambda->temp) * sizeof(njs_value_t));\n\n    native_frame = njs_function_frame_alloc(vm, NJS_FRAME_SIZE + frame_size);\n    if (njs_slow_path(native_frame == NULL)) {\n        return NJS_ERROR;\n    }\n\n    /* Local */\n\n    new = (njs_value_t **) ((u_char *) native_frame + NJS_FRAME_SIZE);\n    value = (njs_value_t *) ((u_char *) new + value_size + temp_size);\n\n    n = value_count + lambda->temp;\n\n    while (n != 0) {\n        n--;\n        new[n] = &value[n];\n        njs_set_invalid(new[n]);\n    }\n\n    /* Temp */\n\n    temp = (njs_value_t **) ((u_char *) native_frame + NJS_FRAME_SIZE\n                                                     + value_size);\n\n    native_frame->arguments = value;\n    native_frame->arguments_offset = value + (function->args_offset - 1);\n    native_frame->local = new + args_count;\n    native_frame->temp = temp;\n    native_frame->function = target;\n    native_frame->nargs = nargs;\n    native_frame->ctor = ctor;\n    native_frame->native = 0;\n    native_frame->pc = NULL;\n\n    /* Set this and bound arguments. */\n    *native_frame->local[0] = *this;\n\n    if (njs_slow_path(function->global_this\n                      && njs_is_null_or_undefined(this)))\n    {\n        njs_set_object(native_frame->local[0], &vm->global_object);\n    }\n\n    if (bound != NULL) {\n        n = function->args_offset;\n        native_frame->nargs += n - 1;\n\n        if (!ctor) {\n            *native_frame->local[0] = *bound;\n        }\n\n        bound++;\n        n--;\n\n        while (n != 0) {\n            *value++ = *bound++;\n            n--;\n        };\n    }\n\n    /* Copy arguments. */\n\n    if (args != NULL) {\n        while (nargs != 0) {\n            *value++ = *args++;\n            nargs--;\n        }\n    }\n\n    frame = (njs_frame_t *) native_frame;\n    frame->exception.catch = NULL;\n    frame->exception.next = NULL;\n    frame->previous_active_frame = vm->active_frame;\n\n    return NJS_OK;\n}\n\n\nnjs_native_frame_t *\nnjs_function_frame_alloc(njs_vm_t *vm, size_t size)\n{\n    size_t              spare_size, chunk_size;\n    njs_native_frame_t  *frame;\n\n    spare_size = vm->top_frame ? vm->top_frame->free_size : 0;\n\n    if (njs_fast_path(size <= spare_size)) {\n        frame = (njs_native_frame_t *) vm->top_frame->free;\n        chunk_size = 0;\n\n    } else {\n        spare_size = size + NJS_FRAME_SPARE_SIZE;\n        spare_size = njs_align_size(spare_size, NJS_FRAME_SPARE_SIZE);\n\n        if (vm->stack_size + spare_size > NJS_MAX_STACK_SIZE) {\n            njs_range_error(vm, \"Maximum call stack size exceeded\");\n            return NULL;\n        }\n\n        frame = njs_mp_align(vm->mem_pool, sizeof(njs_value_t), spare_size);\n        if (njs_slow_path(frame == NULL)) {\n            njs_memory_error(vm);\n            return NULL;\n        }\n\n        chunk_size = spare_size;\n        vm->stack_size += spare_size;\n    }\n\n    njs_memzero(frame, sizeof(njs_native_frame_t));\n\n    frame->size = chunk_size;\n    frame->free_size = spare_size - size;\n    frame->free = (u_char *) frame + size;\n\n    frame->previous = vm->top_frame;\n    vm->top_frame = frame;\n\n    return frame;\n}\n\n\nnjs_int_t\nnjs_function_call2(njs_vm_t *vm, njs_function_t *function,\n    const njs_value_t *this, const njs_value_t *args,\n    njs_uint_t nargs, njs_value_t *retval, njs_bool_t ctor)\n{\n    njs_int_t    ret;\n    njs_value_t  dst njs_aligned(16);\n\n    ret = njs_function_frame(vm, function, this, args, nargs, ctor);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    ret = njs_function_frame_invoke(vm, &dst);\n\n    if (ret == NJS_OK) {\n        *retval = dst;\n    }\n\n    return ret;\n}\n\n\nnjs_int_t\nnjs_function_lambda_call(njs_vm_t *vm)\n{\n    uint32_t               n;\n    njs_int_t              ret;\n    njs_frame_t            *frame;\n    njs_value_t            *args, **local, *value;\n    njs_value_t            **cur_local, **cur_closures, **cur_temp;\n    njs_function_t         *function;\n    njs_declaration_t      *declr;\n    njs_function_lambda_t  *lambda;\n\n    frame = (njs_frame_t *) vm->top_frame;\n    function = frame->native.function;\n\n    if (function->global && !function->closure_copied) {\n        ret = njs_function_capture_global_closures(vm, function);\n        if (njs_slow_path(ret != NJS_OK)) {\n            return NJS_ERROR;\n        }\n    }\n\n    lambda = function->u.lambda;\n\n    args = vm->top_frame->arguments;\n    local = vm->top_frame->local + function->args_offset;\n\n    /* Move all arguments. */\n\n    for (n = 0; n < function->args_count; n++) {\n        if (!njs_is_valid(args)) {\n            njs_set_undefined(args);\n        }\n\n        *local++ = args++;\n    }\n\n    /* Store current level. */\n\n    cur_local = vm->levels[NJS_LEVEL_LOCAL];\n    cur_closures = vm->levels[NJS_LEVEL_CLOSURE];\n    cur_temp = vm->levels[NJS_LEVEL_TEMP];\n\n    /* Replace current level. */\n\n    vm->levels[NJS_LEVEL_LOCAL] = vm->top_frame->local;\n    vm->levels[NJS_LEVEL_CLOSURE] = njs_function_closures(function);\n    vm->levels[NJS_LEVEL_TEMP] = frame->native.temp;\n\n    if (lambda->rest_parameters) {\n        ret = njs_function_rest_parameters_init(vm, &frame->native);\n        if (njs_slow_path(ret != NJS_OK)) {\n            return NJS_ERROR;\n        }\n    }\n\n    /* Self */\n\n    if (lambda->self != NJS_INDEX_NONE) {\n        value = njs_scope_value(vm, lambda->self);\n\n        if (!njs_is_valid(value)) {\n            njs_set_function(value, function);\n        }\n    }\n\n    vm->active_frame = frame;\n\n    /* Closures */\n\n    n = lambda->ndeclarations;\n\n    while (n != 0) {\n        n--;\n\n        declr = &lambda->declarations[n];\n        value = njs_scope_value(vm, declr->index);\n\n        *value = *declr->value;\n\n        function = njs_function_value_copy(vm, value);\n        if (njs_slow_path(function == NULL)) {\n            return NJS_ERROR;\n        }\n\n        ret = njs_function_capture_closure(vm, function, function->u.lambda);\n        if (njs_slow_path(ret != NJS_OK)) {\n            return ret;\n        }\n    }\n\n    ret = njs_vmcode_interpreter(vm, lambda->start);\n\n    /* Restore current level. */\n    vm->levels[NJS_LEVEL_LOCAL] = cur_local;\n    vm->levels[NJS_LEVEL_CLOSURE] = cur_closures;\n    vm->levels[NJS_LEVEL_TEMP] = cur_temp;\n\n    return ret;\n}\n\n\nnjs_int_t\nnjs_function_native_call(njs_vm_t *vm)\n{\n    njs_int_t              ret;\n    njs_function_t         *function, *target;\n    njs_native_frame_t     *native, *previous;\n    njs_function_native_t  call;\n\n    native = vm->top_frame;\n    function = native->function;\n\n    if (njs_fast_path(function->bound == NULL)) {\n        call = function->u.native;\n\n    } else {\n        target = function->u.bound_target;\n\n        if (njs_slow_path(target->bound != NULL)) {\n            njs_internal_error(vm, \"chain of bound function are not supported\");\n            return NJS_ERROR;\n        }\n\n        call = target->u.native;\n    }\n\n    ret = call(vm, native->arguments, native->nargs, function->magic8);\n    if (njs_slow_path(ret == NJS_ERROR)) {\n        return ret;\n    }\n\n    if (ret == NJS_DECLINED) {\n        return NJS_OK;\n    }\n\n    previous = njs_function_previous_frame(native);\n\n    njs_vm_scopes_restore(vm, native, previous);\n\n    if (!native->skip) {\n        *native->retval = vm->retval;\n    }\n\n    njs_function_frame_free(vm, native);\n\n    return NJS_OK;\n}\n\n\nnjs_int_t\nnjs_function_frame_invoke(njs_vm_t *vm, njs_value_t *retval)\n{\n    njs_native_frame_t  *frame;\n\n    frame = vm->top_frame;\n    frame->retval = retval;\n\n    if (njs_function_object_type(vm, frame->function)\n        == NJS_OBJ_TYPE_ASYNC_FUNCTION)\n    {\n        return njs_async_function_frame_invoke(vm, retval);\n    }\n\n    if (frame->native) {\n        return njs_function_native_call(vm);\n\n    } else {\n        return njs_function_lambda_call(vm);\n    }\n}\n\n\nvoid\nnjs_function_frame_free(njs_vm_t *vm, njs_native_frame_t *native)\n{\n    njs_native_frame_t  *previous;\n\n    do {\n        previous = native->previous;\n\n        /* GC: free frame->local, etc. */\n\n        if (native->size != 0) {\n            vm->stack_size -= native->size;\n            njs_mp_free(vm->mem_pool, native);\n        }\n\n        native = previous;\n    } while (native->skip);\n}\n\n\nnjs_int_t\nnjs_function_frame_save(njs_vm_t *vm, njs_frame_t *frame, u_char *pc)\n{\n    size_t              value_count, n;\n    njs_value_t         *start, *end, *p, **new, *value, **local;\n    njs_function_t      *function;\n    njs_native_frame_t  *active, *native;\n\n    *frame = *vm->active_frame;\n    frame->previous_active_frame = NULL;\n\n    native = &frame->native;\n\n    active = &vm->active_frame->native;\n    value_count = njs_function_frame_value_count(active);\n\n    function = active->function;\n\n    new = (njs_value_t **) ((u_char *) native + NJS_FRAME_SIZE);\n    value = (njs_value_t *) (new + value_count\n                             + function->u.lambda->temp);\n\n\n    native->arguments = value;\n    native->arguments_offset = value + (function->args_offset - 1);\n    native->local = new + njs_function_frame_args_count(active);\n    native->temp = new + value_count;\n    native->pc = pc;\n\n    start = njs_function_frame_values(active, &end);\n    p = native->arguments;\n\n    while (start < end) {\n        *p = *start++;\n        *new++ = p++;\n    }\n\n    /* Move all arguments. */\n\n    p = native->arguments;\n    local = native->local + function->args_offset;\n\n    for (n = 0; n < function->args_count; n++) {\n        if (!njs_is_valid(p)) {\n            njs_set_undefined(p);\n        }\n\n        *local++ = p++;\n    }\n\n    return NJS_OK;\n}\n\n\nnjs_object_type_t\nnjs_function_object_type(njs_vm_t *vm, njs_function_t *function)\n{\n    if (function->object.shared_hash.slot\n        == vm->shared->async_function_instance_hash.slot)\n    {\n        return NJS_OBJ_TYPE_ASYNC_FUNCTION;\n    }\n\n    return NJS_OBJ_TYPE_FUNCTION;\n}\n\n\nnjs_int_t\nnjs_function_capture_closure(njs_vm_t *vm, njs_function_t *function,\n    njs_function_lambda_t *lambda)\n{\n    void                *start, *end;\n    uint32_t            n;\n    njs_value_t         *value, **closure;\n    njs_native_frame_t  *frame;\n\n    if (lambda->nclosures == 0) {\n        return NJS_OK;\n    }\n\n    frame = &vm->active_frame->native;\n\n    while (frame->native) {\n        frame = frame->previous;\n    }\n\n    start = frame;\n    end = frame->free;\n\n    closure = njs_function_closures(function);\n    n = lambda->nclosures;\n\n    do {\n        n--;\n\n        value = njs_scope_value(vm, lambda->closures[n]);\n\n        if (start <= (void *) value && (void *) value < end) {\n            value = njs_scope_value_clone(vm, lambda->closures[n], value);\n            if (njs_slow_path(value == NULL)) {\n                return NJS_ERROR;\n            }\n        }\n\n        closure[n] = value;\n\n    } while (n != 0);\n\n    return NJS_OK;\n}\n\n\nnjs_inline njs_value_t *\nnjs_function_closure_value(njs_vm_t *vm, njs_value_t **scope, njs_index_t index,\n    void *start, void *end)\n{\n    njs_value_t  *value, *newval;\n\n    value = scope[njs_scope_index_value(index)];\n\n    if (start <= (void *) value && end > (void *) value) {\n        newval = njs_mp_alloc(vm->mem_pool, sizeof(njs_value_t));\n        if (njs_slow_path(newval == NULL)) {\n            njs_memory_error(vm);\n            return NULL;\n        }\n\n        *newval = *value;\n        value = newval;\n    }\n\n    scope[njs_scope_index_value(index)] = value;\n\n    return value;\n}\n\n\nnjs_int_t\nnjs_function_capture_global_closures(njs_vm_t *vm, njs_function_t *function)\n{\n    void                   *start, *end;\n    uint32_t               n;\n    njs_value_t            *value, **refs, **global;\n    njs_index_t            *indexes, index;\n    njs_native_frame_t     *native;\n    njs_function_lambda_t  *lambda;\n\n    lambda = function->u.lambda;\n\n    if (lambda->nclosures == 0) {\n        return NJS_OK;\n    }\n\n    native = vm->top_frame;\n\n    while (native->previous->function != NULL) {\n        native = native->previous;\n    }\n\n    start = native;\n    end = native->free;\n\n    indexes = lambda->closures;\n    refs = njs_function_closures(function);\n\n    global = vm->levels[NJS_LEVEL_GLOBAL];\n\n    n = lambda->nclosures;\n\n    while (n > 0) {\n        n--;\n\n        index = indexes[n];\n\n        switch (njs_scope_index_type(index)) {\n        case NJS_LEVEL_LOCAL:\n            value = njs_function_closure_value(vm, native->local, index,\n                                               start, end);\n            break;\n\n        case NJS_LEVEL_GLOBAL:\n            value = njs_function_closure_value(vm, global, index, start, end);\n            break;\n\n        default:\n            njs_type_error(vm, \"unexpected value type for closure \\\"%uD\\\"\",\n                           njs_scope_index_type(index));\n            return NJS_ERROR;\n        }\n\n        if (njs_slow_path(value == NULL)) {\n            return NJS_ERROR;\n        }\n\n        refs[n] = value;\n    }\n\n    function->closure_copied = 1;\n\n    return NJS_OK;\n}\n\n\nstatic njs_value_t *\nnjs_function_property_prototype_set(njs_vm_t *vm, njs_lvlhsh_t *hash,\n    njs_value_t *prototype)\n{\n    njs_int_t           ret;\n    njs_object_prop_t   *prop;\n    njs_lvlhsh_query_t  lhq;\n\n    const njs_value_t  proto_string = njs_string(\"prototype\");\n\n    prop = njs_object_prop_alloc(vm, &proto_string, prototype, 0);\n    if (njs_slow_path(prop == NULL)) {\n        return NULL;\n    }\n\n    prop->writable = 1;\n\n    lhq.value = prop;\n    lhq.key_hash = NJS_PROTOTYPE_HASH;\n    lhq.key = njs_str_value(\"prototype\");\n    lhq.replace = 1;\n    lhq.pool = vm->mem_pool;\n    lhq.proto = &njs_object_hash_proto;\n\n    ret = njs_lvlhsh_insert(hash, &lhq);\n\n    if (njs_fast_path(ret == NJS_OK)) {\n        return &prop->value;\n    }\n\n    njs_internal_error(vm, \"lvlhsh insert failed\");\n\n    return NULL;\n}\n\n\n/*\n * The \"prototype\" property of user defined functions is created on\n * demand in private hash of the functions by the \"prototype\" getter.\n * The getter creates a copy of function which is private to nJSVM,\n * adds a \"prototype\" object property to the copy, and then adds a\n * \"constructor\" property in the prototype object.  The \"constructor\"\n * property points to the copy of function:\n *   \"F.prototype.constructor === F\"\n */\n\nnjs_int_t\nnjs_function_prototype_create(njs_vm_t *vm, njs_object_prop_t *prop,\n    njs_value_t *value, njs_value_t *setval, njs_value_t *retval)\n{\n    njs_value_t     *proto, proto_value, *cons;\n    njs_object_t    *prototype;\n    njs_function_t  *function;\n\n    if (setval == NULL) {\n        prototype = njs_object_alloc(vm);\n        if (njs_slow_path(prototype == NULL)) {\n            return NJS_ERROR;\n        }\n\n        njs_set_object(&proto_value, prototype);\n\n        setval = &proto_value;\n    }\n\n    function = njs_function_value_copy(vm, value);\n    if (njs_slow_path(function == NULL)) {\n        return NJS_ERROR;\n    }\n\n    proto = njs_function_property_prototype_set(vm, njs_object_hash(value),\n                                                setval);\n    if (njs_slow_path(proto == NULL)) {\n        return NJS_ERROR;\n    }\n\n    if (setval == &proto_value && njs_is_object(proto)) {\n        /* Only in getter context. */\n        cons = njs_property_constructor_set(vm, njs_object_hash(proto), value);\n        if (njs_slow_path(cons == NULL)) {\n            return NJS_ERROR;\n        }\n    }\n\n    *retval = *proto;\n\n    return NJS_OK;\n}\n\n\nnjs_int_t\nnjs_function_constructor(njs_vm_t *vm, njs_value_t *args, njs_uint_t nargs,\n    njs_index_t async)\n{\n    njs_chb_t               chain;\n    njs_int_t               ret;\n    njs_str_t               str, file;\n    njs_uint_t              i;\n    njs_lexer_t             lexer;\n    njs_parser_t            parser;\n    njs_vm_code_t           *code;\n    njs_function_t          *function;\n    njs_generator_t         generator;\n    njs_parser_node_t       *node;\n    njs_parser_scope_t      *scope;\n    njs_function_lambda_t   *lambda;\n    const njs_token_type_t  *type;\n\n    static const njs_token_type_t  safe_ast[] = {\n        NJS_TOKEN_END,\n        NJS_TOKEN_FUNCTION_EXPRESSION,\n        NJS_TOKEN_STATEMENT,\n        NJS_TOKEN_RETURN,\n        NJS_TOKEN_THIS,\n        NJS_TOKEN_ILLEGAL\n    };\n\n    static const njs_token_type_t  safe_ast_async[] = {\n        NJS_TOKEN_END,\n        NJS_TOKEN_ASYNC_FUNCTION_EXPRESSION,\n        NJS_TOKEN_STATEMENT,\n        NJS_TOKEN_RETURN,\n        NJS_TOKEN_THIS,\n        NJS_TOKEN_ILLEGAL\n    };\n\n    if (!vm->options.unsafe && nargs != 2) {\n        goto fail;\n    }\n\n    njs_chb_init(&chain, vm->mem_pool);\n\n    if (async) {\n        njs_chb_append_literal(&chain, \"(async function(\");\n\n    } else {\n        njs_chb_append_literal(&chain, \"(function(\");\n    }\n\n    for (i = 1; i < nargs - 1; i++) {\n        ret = njs_value_to_chain(vm, &chain, njs_argument(args, i));\n        if (njs_slow_path(ret < NJS_OK)) {\n            return ret;\n        }\n\n        if (i != (nargs - 2)) {\n            njs_chb_append_literal(&chain, \",\");\n        }\n    }\n\n    njs_chb_append_literal(&chain, \"){\");\n\n    ret = njs_value_to_chain(vm, &chain, njs_argument(args, nargs - 1));\n    if (njs_slow_path(ret < NJS_OK)) {\n        return ret;\n    }\n\n    njs_chb_append_literal(&chain, \"})\");\n\n    ret = njs_chb_join(&chain, &str);\n    if (njs_slow_path(ret != NJS_OK)) {\n        njs_memory_error(vm);\n        return NJS_ERROR;\n    }\n\n    file = njs_str_value(\"runtime\");\n\n    ret = njs_lexer_init(vm, &lexer, &file, str.start, str.start + str.length,\n                         1);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    njs_memzero(&parser, sizeof(njs_parser_t));\n\n    parser.lexer = &lexer;\n\n    ret = njs_parser(vm, &parser);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    if (!vm->options.unsafe) {\n        /*\n         * Safe mode exception:\n         * \"(new Function('return this'))\" is often used to get\n         * the global object in a portable way.\n         */\n\n        node = parser.node;\n        type = (async) ? &safe_ast_async[0] : &safe_ast[0];\n\n        for (; *type != NJS_TOKEN_ILLEGAL; type++, node = node->right) {\n            if (node == NULL) {\n                goto fail;\n            }\n\n            if (node->left != NULL\n                && node->token_type != NJS_TOKEN_FUNCTION_EXPRESSION\n                && node->left->token_type != NJS_TOKEN_NAME)\n            {\n                goto fail;\n            }\n\n            if (node->token_type != *type) {\n                goto fail;\n            }\n        }\n    }\n\n    scope = parser.scope;\n\n    ret = njs_variables_copy(vm, &scope->variables, vm->variables_hash);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    ret = njs_generator_init(&generator, 0, 1);\n    if (njs_slow_path(ret != NJS_OK)) {\n        njs_internal_error(vm, \"njs_generator_init() failed\");\n        return NJS_ERROR;\n    }\n\n    code = njs_generate_scope(vm, &generator, scope, &njs_entry_anonymous);\n    if (njs_slow_path(code == NULL)) {\n        if (!njs_is_error(&vm->retval)) {\n            njs_internal_error(vm, \"njs_generate_scope() failed\");\n        }\n\n        return NJS_ERROR;\n    }\n\n    njs_chb_destroy(&chain);\n\n    lambda = ((njs_vmcode_function_t *) generator.code_start)->lambda;\n\n    function = njs_function_alloc(vm, lambda, (njs_bool_t) async);\n    if (njs_slow_path(function == NULL)) {\n        return NJS_ERROR;\n    }\n\n    function->global = 1;\n    function->global_this = 1;\n    function->args_count = lambda->nargs - lambda->rest_parameters;\n\n    njs_set_function(&vm->retval, function);\n\n    return NJS_OK;\n\nfail:\n\n    njs_type_error(vm, \"function constructor is disabled in \\\"safe\\\" mode\");\n    return NJS_ERROR;\n}\n\n\nstatic const njs_object_prop_t  njs_function_constructor_properties[] =\n{\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"name\"),\n        .value = njs_string(\"Function\"),\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"length\"),\n        .value = njs_value(NJS_NUMBER, 1, 1.0),\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY_HANDLER,\n        .name = njs_string(\"prototype\"),\n        .value = njs_prop_handler(njs_object_prototype_create),\n    },\n};\n\n\nconst njs_object_init_t  njs_function_constructor_init = {\n    njs_function_constructor_properties,\n    njs_nitems(njs_function_constructor_properties),\n};\n\n\nnjs_int_t\nnjs_function_instance_length(njs_vm_t *vm, njs_object_prop_t *prop,\n    njs_value_t *value, njs_value_t *setval, njs_value_t *retval)\n{\n    njs_object_t    *proto;\n    njs_function_t  *function;\n\n    proto = njs_object(value);\n\n    do {\n        if (njs_fast_path(proto->type == NJS_FUNCTION)) {\n            break;\n        }\n\n        proto = proto->__proto__;\n    } while (proto != NULL);\n\n    if (njs_slow_path(proto == NULL)) {\n        njs_internal_error(vm, \"no function in proto chain\");\n        return NJS_ERROR;\n    }\n\n    function = (njs_function_t *) proto;\n\n    njs_set_number(retval, function->args_count);\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_function_prototype_call(njs_vm_t *vm, njs_value_t *args, njs_uint_t nargs,\n    njs_index_t unused)\n{\n    njs_int_t           ret;\n    njs_function_t      *function;\n    const njs_value_t   *this;\n    njs_native_frame_t  *frame;\n\n    if (!njs_is_function(&args[0])) {\n        njs_type_error(vm, \"\\\"this\\\" argument is not a function\");\n        return NJS_ERROR;\n    }\n\n    if (nargs > 1) {\n        this = &args[1];\n        nargs -= 2;\n\n    } else {\n        this = (njs_value_t *) &njs_value_undefined;\n        nargs = 0;\n    }\n\n    frame = vm->top_frame;\n\n    /* Skip the \"call\" method frame. */\n    frame->skip = 1;\n\n    function = njs_function(&args[0]);\n\n    ret = njs_function_frame(vm, function, this, &args[2], nargs, 0);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    ret = njs_function_frame_invoke(vm, frame->retval);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    return NJS_DECLINED;\n}\n\n\nstatic njs_int_t\nnjs_function_prototype_apply(njs_vm_t *vm, njs_value_t *args, njs_uint_t nargs,\n    njs_index_t unused)\n{\n    int64_t         i, length;\n    njs_int_t       ret;\n    njs_frame_t     *frame;\n    njs_value_t     *this, *arr_like;\n    njs_array_t     *arr;\n    njs_function_t  *func;\n\n    if (!njs_is_function(njs_argument(args, 0))) {\n        njs_type_error(vm, \"\\\"this\\\" argument is not a function\");\n        return NJS_ERROR;\n    }\n\n    func = njs_function(njs_argument(args, 0));\n    this = njs_arg(args, nargs, 1);\n    arr_like = njs_arg(args, nargs, 2);\n\n    if (njs_is_null_or_undefined(arr_like)) {\n        length = 0;\n\n        goto activate;\n\n    } else if (njs_is_array(arr_like)) {\n        arr = arr_like->data.u.array;\n\n        args = arr->start;\n        length = arr->length;\n\n        goto activate;\n\n    } else if (njs_slow_path(!njs_is_object(arr_like))) {\n        njs_type_error(vm, \"second argument is not an array-like object\");\n        return NJS_ERROR;\n    }\n\n    ret = njs_object_length(vm, arr_like, &length);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    arr = njs_array_alloc(vm, 1, length, NJS_ARRAY_SPARE);\n    if (njs_slow_path(arr == NULL)) {\n        return NJS_ERROR;\n    }\n\n    args = arr->start;\n\n    for (i = 0; i < length; i++) {\n        ret = njs_value_property_i64(vm, arr_like, i, &args[i]);\n        if (njs_slow_path(ret == NJS_ERROR)) {\n            return ret;\n        }\n    }\n\nactivate:\n\n    /* Skip the \"apply\" method frame. */\n    vm->top_frame->skip = 1;\n\n    frame = (njs_frame_t *) vm->top_frame;\n\n    ret = njs_function_frame(vm, func, this, args, length, 0);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    ret = njs_function_frame_invoke(vm, frame->native.retval);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    return NJS_DECLINED;\n}\n\n\nstatic njs_int_t\nnjs_function_prototype_bind(njs_vm_t *vm, njs_value_t *args, njs_uint_t nargs,\n    njs_index_t unused)\n{\n    size_t              size;\n    njs_int_t           ret;\n    njs_value_t         *values, name;\n    njs_function_t      *function;\n    njs_lvlhsh_query_t  lhq;\n\n    if (!njs_is_function(&args[0])) {\n        njs_type_error(vm, \"\\\"this\\\" argument is not a function\");\n        return NJS_ERROR;\n    }\n\n    function = njs_mp_alloc(vm->mem_pool, sizeof(njs_function_t));\n    if (njs_slow_path(function == NULL)) {\n        njs_memory_error(vm);\n        return NJS_ERROR;\n    }\n\n    *function = *njs_function(&args[0]);\n\n    njs_lvlhsh_init(&function->object.hash);\n\n    /* Bound functions have no \"prototype\" property. */\n    function->object.shared_hash = vm->shared->arrow_instance_hash;\n\n    function->object.__proto__ = &vm->prototypes[NJS_OBJ_TYPE_FUNCTION].object;\n    function->object.shared = 0;\n\n    function->u.bound_target = njs_function(&args[0]);\n\n    njs_object_property_init(&lhq, &njs_string_name, NJS_NAME_HASH);\n\n    ret = njs_object_property(vm, &args[0], &lhq, &name);\n    if (njs_slow_path(ret == NJS_ERROR)) {\n        return ret;\n    }\n\n    if (!njs_is_string(&name)) {\n        name = njs_string_empty;\n    }\n\n    ret = njs_function_name_set(vm, function, &name, \"bound\");\n    if (njs_slow_path(ret == NJS_ERROR)) {\n        return ret;\n    }\n\n    if (nargs == 1) {\n        args = njs_value_arg(&njs_value_undefined);\n\n    } else {\n        nargs--;\n        args++;\n    }\n\n    if (nargs > function->args_count) {\n        function->args_count = 0;\n\n    } else {\n        function->args_count -= nargs - 1;\n    }\n\n    function->args_offset = nargs;\n    size = nargs * sizeof(njs_value_t);\n\n    values = njs_mp_alloc(vm->mem_pool, size);\n    if (njs_slow_path(values == NULL)) {\n        njs_memory_error(vm);\n        njs_mp_free(vm->mem_pool, function);\n        return NJS_ERROR;\n    }\n\n    function->bound = values;\n\n    /* GC: ? retain args. */\n\n    memcpy(values, args, size);\n\n    njs_set_function(&vm->retval, function);\n\n    return NJS_OK;\n}\n\n\nstatic const njs_object_prop_t  njs_function_prototype_properties[] =\n{\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"name\"),\n        .value = njs_string(\"\"),\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"length\"),\n        .value = njs_value(NJS_NUMBER, 0, 0.0),\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY_HANDLER,\n        .name = njs_string(\"constructor\"),\n        .value = njs_prop_handler(njs_object_prototype_create_constructor),\n        .writable = 1,\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"call\"),\n        .value = njs_native_function(njs_function_prototype_call, 1),\n        .writable = 1,\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"apply\"),\n        .value = njs_native_function(njs_function_prototype_apply, 2),\n        .writable = 1,\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"bind\"),\n        .value = njs_native_function(njs_function_prototype_bind, 1),\n        .writable = 1,\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"caller\"),\n        .value = njs_value(NJS_INVALID, 1, NAN),\n        .getter = njs_native_function(njs_function_prototype_thrower, 0),\n        .setter = njs_native_function(njs_function_prototype_thrower, 0),\n        .writable = NJS_ATTRIBUTE_UNSET,\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"arguments\"),\n        .value = njs_value(NJS_INVALID, 1, NAN),\n        .getter = njs_native_function(njs_function_prototype_thrower, 0),\n        .setter = njs_native_function(njs_function_prototype_thrower, 0),\n        .writable = NJS_ATTRIBUTE_UNSET,\n        .configurable = 1,\n    },\n};\n\n\nconst njs_object_init_t  njs_function_prototype_init = {\n    njs_function_prototype_properties,\n    njs_nitems(njs_function_prototype_properties),\n};\n\n\nconst njs_object_prop_t  njs_function_instance_properties[] =\n{\n    {\n        .type = NJS_PROPERTY_HANDLER,\n        .name = njs_string(\"length\"),\n        .value = njs_prop_handler(njs_function_instance_length),\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY_HANDLER,\n        .name = njs_string(\"prototype\"),\n        .value = njs_prop_handler(njs_function_prototype_create),\n        .writable = 1\n    },\n};\n\n\nconst njs_object_init_t  njs_function_instance_init = {\n    njs_function_instance_properties,\n    njs_nitems(njs_function_instance_properties),\n};\n\n\nconst njs_object_prop_t  njs_arrow_instance_properties[] =\n{\n    {\n        .type = NJS_PROPERTY_HANDLER,\n        .name = njs_string(\"length\"),\n        .value = njs_prop_handler(njs_function_instance_length),\n        .configurable = 1,\n    },\n};\n\n\nconst njs_object_init_t  njs_arrow_instance_init = {\n    njs_arrow_instance_properties,\n    njs_nitems(njs_arrow_instance_properties),\n};\n\n\nnjs_int_t\nnjs_eval_function(njs_vm_t *vm, njs_value_t *args, njs_uint_t nargs,\n    njs_index_t unused)\n{\n    njs_internal_error(vm, \"Not implemented\");\n\n    return NJS_ERROR;\n}\n\n\nstatic njs_int_t\nnjs_prototype_function(njs_vm_t *vm, njs_value_t *args, njs_uint_t nargs,\n    njs_index_t unused)\n{\n    njs_set_undefined(&vm->retval);\n\n    return NJS_OK;\n}\n\n\nconst njs_object_type_init_t  njs_function_type_init = {\n   .constructor = njs_native_ctor(njs_function_constructor, 1, 0),\n   .constructor_props = &njs_function_constructor_init,\n   .prototype_props = &njs_function_prototype_init,\n   .prototype_value = { .function = { .native = 1,\n                                      .args_offset = 1,\n                                      .u.native = njs_prototype_function,\n                                      .object = { .type = NJS_FUNCTION } } },\n};\n", "/*\n * Copyright (C) Igor Sysoev\n * Copyright (C) NGINX, Inc.\n */\n\n\n#include <njs_main.h>\n\n#ifndef NJS_HAVE_PCRE2\n#include <pcre.h>\n#endif\n\n#include \"njs_externals_test.h\"\n\n\n#define NJS_HAVE_LARGE_STACK (!NJS_HAVE_ADDRESS_SANITIZER && !NJS_HAVE_MEMORY_SANITIZER)\n\n#ifdef NJS_HAVE_LITTLE_ENDIAN\n#define njs_evar(little, big) little\n#else\n#define njs_evar(little, big) big\n#endif\n\n#ifdef NJS_HAVE_PCRE2\n#define njs_pcre_var(pcre2, pcre) pcre2\n#else\n#define njs_pcre_var(pcre2, pcre) pcre\n#endif\n\n\n#define njs_declare_sparse_array(nm, sz)                                      \\\n    \"var \" nm \" = Array(\" njs_stringify(sz) \"); \"                             \\\n    \"Object.defineProperty(\" nm \", '0',\"                                      \\\n    \"{writable:true, enumerable:false, configurable:true});\"                  \\\n    \"delete \" nm \"[0];\"\n\n\n#define njs_buffer_byte_map(func, sign, divisor)                              \\\n    \"var buf = Buffer.alloc(6);\"                                              \\\n    \"[1,2,3,4,5,6].map(byte => {\"                                             \\\n    \"    buf.\" func \"(\" sign \"(2 ** (byte * 7)) / \"                           \\\n                                     njs_stringify(divisor) \", 0, byte);\"     \\\n    \"    return njs.dump(buf);\"                                               \\\n    \"})\"\n\n\ntypedef struct {\n    njs_str_t  script;\n    njs_str_t  ret;\n} njs_unit_test_t;\n\n\nstatic njs_unit_test_t  njs_test[] =\n{\n    { njs_str(\"@\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"@\\\" in 1\") },\n\n    { njs_str(\"}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"1}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"/***/1/*\\n**/\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"/***/1//  \"),\n      njs_str(\"1\") },\n\n    { njs_str(\">\"),\n      njs_str(\"SyntaxError: Unexpected token \\\">\\\" in 1\") },\n\n    { njs_str(\">>\"),\n      njs_str(\"SyntaxError: Unexpected token \\\">>\\\" in 1\") },\n\n    { njs_str(\">>>\"),\n      njs_str(\"SyntaxError: Unexpected token \\\">>>\\\" in 1\") },\n\n    { njs_str(\"==\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"==\\\" in 1\") },\n\n    { njs_str(\"?\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"?\\\" in 1\") },\n\n    /* Variable declarations. */\n\n    { njs_str(\"var x\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var x;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var x;;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var x = 0\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var x = 0;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var x = 0;;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var; a\"),\n      njs_str(\"SyntaxError: Unexpected token \\\";\\\" in 1\") },\n\n    { njs_str(\"var + a\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"+\\\" in 1\") },\n\n    { njs_str(\"//\\r\\n; var + a\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"+\\\" in 2\") },\n\n    { njs_str(\"/*\\n*/; var + a\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"+\\\" in 2\") },\n\n    { njs_str(\"var \\n a \\n = 1; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var \\n a, \\n b; b\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var from = 2; from + 2\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var a / =\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"/\\\" in 1\") },\n\n    { njs_str(\"var a = 1; var b; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a = 1;for(;a;a--)var a; a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"if(1)if(0){0?0:0}else\\nvar a\\nelse\\nvar b\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 1; var a; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function (x) {if (x) { var a = 3; return a} else { var a = 4; return a}})(1)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(function (x) {if (x) { var a = 3; return a} else { var a = 4; return a}})(0)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f(){return 2}; var f; f()\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"function f(){return 2}; var f = 1; f()\"),\n      njs_str(\"TypeError: number is not a function\") },\n\n    { njs_str(\"function f(){return 1}; function f(){return 2}; f()\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var f = 1; function f() {}; f\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = 1; function f() {}; f\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f(a) {return function (x) {return a(x)}} f(1)(0)\"),\n      njs_str(\"TypeError: number is not a function\") },\n\n    { njs_str(\"var x = 0;\"\n              \"\"\n              \"function f1() {\"\n              \"    function f2() {\"\n              \"        return x;\"\n              \"    };\"\n              \"\"\n              \"    return f2();\"\n              \"\"\n              \"    var x = 1;\"\n              \"}\"\n              \"\"\n              \"f1() === undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var fn = function fn() {return fn.test}; fn.test = 'test'; fn()\"),\n      njs_str(\"test\") },\n\n    { njs_str(\"var body;\"\n              \"var n = 'outside';\"\n              \"var before = function() {return n};\"\n              \"\"\n              \"var func = function n() {\"\n              \"    var n;\"\n              \"    body = function() {return n};\"\n              \"};\"\n              \"\"\n              \"func();\"\n              \"\"\n              \"[before(), body()]\"),\n      njs_str(\"outside,\") },\n\n    { njs_str(\"var func = function x(x) {return x}; func()\"),\n      njs_str(\"undefined\") },\n\n#if 0 /* TODO */\n    { njs_str(\"var a; Object.getOwnPropertyDescriptor(this, 'a').value\"),\n      njs_str(\"undefined\") },\n#endif\n\n    { njs_str(\"f() = 1\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in assignment in 1\") },\n\n    { njs_str(\"f.a() = 1\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in assignment in 1\") },\n\n    { njs_str(\"++f()\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in prefix operation in 1\") },\n\n    { njs_str(\"f()++\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in postfix operation in 1\") },\n\n    /* Numbers. */\n\n    { njs_str(\"0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-0\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\".0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"0.1\"),\n      njs_str(\"0.1\") },\n\n    { njs_str(\".9\"),\n      njs_str(\"0.9\") },\n\n    { njs_str(\"-.0_1\"),\n      njs_str(\"-0.01\") },\n\n    { njs_str(\"0.000_001\"),\n      njs_str(\"0.000001\") },\n\n    { njs_str(\"0.00000_123456\"),\n      njs_str(\"0.00000123456\") },\n\n    { njs_str(\"0.0000001\"),\n      njs_str(\"1e-7\") },\n\n    { njs_str(\"1.1000000\"),\n      njs_str(\"1.1\") },\n\n    { njs_str(\"1_0\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"99_999_999_999_999_999_999\"),\n      njs_str(\"100000000000000000000\") },\n\n    { njs_str(\"9999999999999999999_9.1_1_1\"),\n      njs_str(\"100000000000000000000\") },\n\n    { njs_str(\"999999999999999999999\"),\n      njs_str(\"1e+21\") },\n\n    { njs_str(\"9223372036854775808\"),\n      njs_str(\"9223372036854776000\") },\n\n    { njs_str(\"18446744073709551616\"),\n      njs_str(\"18446744073709552000\") },\n\n    { njs_str(\"1.79769313_48623157E+3_0_8\"),\n      njs_str(\"1.7976931348623157e+308\") },\n\n    { njs_str(\"+1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"+1\\n\"),\n      njs_str(\"1\") },\n\n    { njs_str(\".\"),\n      njs_str(\"SyntaxError: Unexpected token \\\".\\\" in 1\") },\n\n    { njs_str(\"0_1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0_\\\" in 1\") },\n\n    { njs_str(\"1_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    { njs_str(\"1__0\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"__0\\\" in 1\") },\n\n    { njs_str(\"._1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\".\\\" in 1\") },\n\n    { njs_str(\".1_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    { njs_str(\"1_.1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    { njs_str(\".0__1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"__1\\\" in 1\") },\n\n    { njs_str(\"1e_1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_1\\\" in 1\") },\n\n    { njs_str(\"1e-_1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_1\\\" in 1\") },\n\n    { njs_str(\"1E1__0\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"__0\\\" in 1\") },\n\n    { njs_str(\"1_e1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_e1\\\" in 1\") },\n\n    { njs_str(\"1e1_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    { njs_str(\"-_1\"),\n      njs_str(\"ReferenceError: \\\"_1\\\" is not defined\") },\n\n    { njs_str(\"_1\"),\n      njs_str(\"ReferenceError: \\\"_1\\\" is not defined\") },\n\n    /* Octal Numbers. */\n\n    { njs_str(\"0o0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"0O10\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"0o011\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"-0O7_7_7\"),\n      njs_str(\"-511\") },\n\n    { njs_str(\"0o\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0o\\\" in 1\") },\n\n    { njs_str(\"0O778\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0O778\\\" in 1\") },\n\n    { njs_str(\"0O_7\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_7\\\" in 1\") },\n\n    { njs_str(\"0o7_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    { njs_str(\"0o7__7\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"__7\\\" in 1\") },\n\n    /* Legacy Octal Numbers are deprecated. */\n\n    { njs_str(\"00\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"00\\\" in 1\") },\n\n    { njs_str(\"08\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"08\\\" in 1\") },\n\n    { njs_str(\"09\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"09\\\" in 1\") },\n\n    { njs_str(\"0011\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"00\\\" in 1\") },\n\n    { njs_str(\"0_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0_\\\" in 1\") },\n\n    { njs_str(\"0_1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0_\\\" in 1\") },\n\n    { njs_str(\"00_1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"00\\\" in 1\") },\n\n    /* Binary Numbers. */\n\n    { njs_str(\"0b0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"0B10\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"0b0_1_0_1\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"-0B1111_1111\"),\n      njs_str(\"-255\") },\n\n    { njs_str(\"0b\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0b\\\" in 1\") },\n\n    { njs_str(\"0B12\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0B12\\\" in 1\") },\n\n    { njs_str(\"0b_11\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_11\\\" in 1\") },\n\n    { njs_str(\"0B1__1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"__1\\\" in 1\") },\n\n    { njs_str(\"0b11_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    /* Hex Numbers. */\n\n    { njs_str(\"0x0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-0x1\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"0xffFF\"),\n      njs_str(\"65535\") },\n\n    { njs_str(\"0X00_00_BE_EF\"),\n      njs_str(\"48879\") },\n\n    { njs_str(\"0x\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0x\\\" in 1\") },\n\n    { njs_str(\"0xffff.\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"0x12g\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"g\\\" in 1\") },\n\n    { njs_str(\"0X_ff\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_ff\\\" in 1\") },\n\n    { njs_str(\"0xff_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    { njs_str(\"0Xf__f\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"__f\\\" in 1\") },\n\n    { njs_str(\"\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"\\n\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\";\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"\\n +1\"),\n      njs_str(\"1\") },\n\n    /* Scientific notation. */\n\n    { njs_str(\"0e0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"0.0e0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"1e0\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"1e1\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"1.e01\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"5.7e1\"),\n      njs_str(\"57\") },\n\n    { njs_str(\"5.7e-1\"),\n      njs_str(\"0.57\") },\n\n    { njs_str(\"-5.7e-1\"),\n      njs_str(\"-0.57\") },\n\n    { njs_str(\"1.1e-01\"),\n      njs_str(\"0.11\") },\n\n    { njs_str(\"5.7e-2\"),\n      njs_str(\"0.057\") },\n\n    { njs_str(\"1.1e+01\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"-.01e-01\"),\n      njs_str(\"-0.001\") },\n\n    { njs_str(\"1e9\"),\n      njs_str(\"1000000000\") },\n\n    { njs_str(\"1.0e308\"),\n      njs_str(\"1e+308\") },\n\n    { njs_str(\"0e309\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"0e-309\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"1e309\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"-1e309\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"1e\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"e\\\" in 1\") },\n\n    { njs_str(\"1.e\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"e\\\" in 1\") },\n\n    { njs_str(\"1e+\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"e\\\" in 1\") },\n\n    { njs_str(\"1.e-\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"e\\\" in 1\") },\n\n    { njs_str(\"1eZ\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"eZ\\\" in 1\") },\n\n    { njs_str(\".e1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\".\\\" in 1\") },\n\n    { njs_str(\"Number.prototype.X = function(){return 123;};\"\n                 \"(1).X()\"),\n      njs_str(\"123\") },\n\n    /* Indices. */\n\n    { njs_str(\"var a = []; a[-1] = 2; a[-1] == a['-1']\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = []; a[Infinity] = 2; a[Infinity] == a['Infinity']\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = []; a[NaN] = 2; a[NaN] == a['NaN']\"),\n      njs_str(\"true\") },\n\n#define NJS_NOT_CANONICAL_INDICES \"['+0', '-0', '1.', '0.', '0.0', '4294967295', \" \\\n                                  \" '4294967296', '-1', '1.1', '9223372036854775808']\"\n\n    { njs_str(\"var a = [1,2]; \"\n              NJS_NOT_CANONICAL_INDICES\n               \".every(v=>(a[v] === undefined))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1,2]; \"\n              NJS_NOT_CANONICAL_INDICES\n               \".every(v=>{a[v] = 'a'; return a[v] === 'a'})\"),\n      njs_str(\"true\") },\n\n    /* Number.toString(radix) method. */\n\n    { njs_str(\"0..toString(2)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(1234.567).toString(3)\"),\n      njs_str(\"1200201.120022100021001021021002202\") },\n\n    { njs_str(\"(1234.567).toString(5)\"),\n      njs_str(\"14414.240414141414141414\") },\n\n    { njs_str(\"(1234.567).toString(17)\"),\n      njs_str(\"44a.9aeb6faa0da\") },\n\n    { njs_str(\"(1234.567).toString(36)\"),\n      njs_str(\"ya.kety9sifl\") },\n\n    { njs_str(\"Number(-1.1).toString(36)\"),\n      njs_str(\"-1.3llllllllm\") },\n\n    { njs_str(\"Math.pow(-2, 1023).toString(2).length\"),\n      njs_str(\"1025\") },\n\n    { njs_str(\"8.0625.toString(2)\"),\n      njs_str(\"1000.0001\") },\n\n    { njs_str(\"(1/3).toString(2)\"),\n      njs_str(\"0.010101010101010101010101010101010101010101010101010101\") },\n\n    { njs_str(\"9999..toString(3)\"),\n      njs_str(\"111201100\") },\n\n    { njs_str(\"-9999..toString(3)\"),\n      njs_str(\"-111201100\") },\n\n    { njs_str(\"81985529216486895..toString(16)\"),\n      njs_str(\"123456789abcdf0\") },\n\n    { njs_str(\"0xffff.toString(16)\"),\n      njs_str(\"ffff\") },\n\n    { njs_str(\"30520..toString(36)\"),\n      njs_str(\"njs\") },\n\n    { njs_str(\"Infinity.toString()\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Infinity.toString(2)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Infinity.toString(10)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Infinity.toString(NaN)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"Infinity.toString({})\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"Infinity.toString(Infinity)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"NaN.toString()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"NaN.toString(2)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"NaN.toString(10)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"NaN.toString(Infinity)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"NaN.toString({})\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"NaN.toString(NaN)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"1.2312313132.toString(14)\"),\n      njs_str(\"1.3346da6d5d455c\") },\n\n    { njs_str(\"7.799999999999999.toString(14)\"),\n      njs_str(\"7.b2b2b2b2b2b2a5\") },\n\n#ifndef NJS_SUNC\n    { njs_str(\"1e20.toString(14)\"),\n      njs_str(\"33cb3bb449c2a92000\") },\n\n    { njs_str(\"1.7976931348623157E+308.toString(36) == ('1a1e4vngaiqo' + '0'.repeat(187))\"),\n      njs_str(\"true\") },\n\n    /* Largest positive double (prev_double(INFINITY)). */\n    { njs_str(\"1.7976931348623157E+308.toString(2) == ('1'.repeat(53) + '0'.repeat(971))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array(5).fill().map((n, i) => i + 10).map((v)=>(1.2312313132).toString(v))\"),\n      njs_str(\"1.2312313132,1.25a850416057383,1.293699002749414,1.3010274cab0288,1.3346da6d5d455c\") },\n\n    { njs_str(\"Array(5).fill().map((n, i) => 36 - i).map((v)=>(1e23).toString(v))\"),\n      njs_str(\"ga894a06abs0000,o5hlsorok4y0000,128fpsprqld20000,1m1s0ajv6cmo0000,2kmg5hv19br00000\") },\n#endif\n\n    /* Number.prototype.toFixed(frac) method. */\n\n    { njs_str(\"(900.1).toFixed(1)\"),\n      njs_str(\"900.1\") },\n\n    { njs_str(\"(0).toFixed(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(0).toFixed(3)\"),\n      njs_str(\"0.000\") },\n\n    { njs_str(\"(7).toFixed()\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"(7).toFixed(0)\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"(7).toFixed(2)\"),\n      njs_str(\"7.00\") },\n\n    { njs_str(\"(-900.1).toFixed(3.3)\"),\n      njs_str(\"-900.100\") },\n\n    { njs_str(\"(900.123).toFixed(5)\"),\n      njs_str(\"900.12300\") },\n\n    { njs_str(\"(1/3).toFixed(5)\"),\n      njs_str(\"0.33333\") },\n\n    { njs_str(\"(new Number(1/3)).toFixed(5)\"),\n      njs_str(\"0.33333\") },\n\n    { njs_str(\"(new Number(1/3)).toFixed(5)\"),\n      njs_str(\"0.33333\") },\n\n    { njs_str(\"(1/3).toFixed({toString(){return '5'}})\"),\n      njs_str(\"0.33333\") },\n\n    { njs_str(\"(1/3).toFixed(100)\"),\n      njs_str(\"0.3333333333333333148296162562473909929394721984863281250000000000000000000000000000000000000000000000\") },\n\n    { njs_str(\"(1.23e+20).toFixed(2)\"),\n      njs_str(\"123000000000000000000.00\") },\n\n    { njs_str(\"(1.23e-10).toFixed(2)\"),\n      njs_str(\"0.00\") },\n\n    { njs_str(\"(1.23e-10).toFixed(15)\"),\n      njs_str(\"0.000000000123000\") },\n\n    { njs_str(\"(1.23e-10).toFixed(100)\"),\n      njs_str(\"0.0000000001229999999999999888422768137255427361997917046210204716771841049194335937500000000000000000\") },\n\n    { njs_str(\"NaN.toFixed(1)\"),\n      njs_str(\"NaN\") },\n\n#if 0  /* FIXME: bignum support is requred to support frac >= 20 */\n    { njs_str(\"(2 ** -100).toFixed(100)\"),\n      njs_str(\"0.0000000000000000000000000000007888609052210118054117285652827862296732064351090230047702789306640625\") },\n#endif\n\n    /* Number.prototype.toPrecision(prec) method. */\n\n    { njs_str(\"Array(4).fill().map((n, i) => i+1).map((v)=>(1/7).toPrecision(v))\"),\n      njs_str(\"0.1,0.14,0.143,0.1429\") },\n\n    { njs_str(\"Array(4).fill().map((n, i) => i+1).map((v)=>(0).toPrecision(v))\"),\n      njs_str(\"0,0.0,0.00,0.000\") },\n\n    { njs_str(\"Array(4).fill().map((n, i) => i+1).map((v)=>(1/2).toPrecision(v))\"),\n      njs_str(\"0.5,0.50,0.500,0.5000\") },\n\n    { njs_str(\"Array(6).fill().map((n, i) => i+2).map((v)=>(1/v).toPrecision(5))\"),\n      njs_str(\"0.50000,0.33333,0.25000,0.20000,0.16667,0.14286\") },\n\n    { njs_str(\"Array(6).fill().map((n, i) => i+2).map((v)=>(1/(v*100)).toPrecision(5))\"),\n      njs_str(\"0.0050000,0.0033333,0.0025000,0.0020000,0.0016667,0.0014286\") },\n\n    { njs_str(\"Array(6).fill().map((n, i) => i+1).map((v)=>(10*v/7).toPrecision(5))\"),\n      njs_str(\"1.4286,2.8571,4.2857,5.7143,7.1429,8.5714\") },\n\n    { njs_str(\"Array(6).fill().map((n, i) => i+1).map((v)=>(v/3).toPrecision(5))\"),\n      njs_str(\"0.33333,0.66667,1.0000,1.3333,1.6667,2.0000\") },\n\n    { njs_str(\"Array(6).fill().map((n, i) => i+1).map((v)=>((Math.pow(-1,v))*(2*v)/3).toPrecision(5))\"),\n      njs_str(\"-0.66667,1.3333,-2.0000,2.6667,-3.3333,4.0000\") },\n\n    { njs_str(\"Array(12).fill().map((n, i) => i-3).map((v)=>(2**v).toPrecision(6))\"),\n      njs_str(\"0.125000,0.250000,0.500000,1.00000,2.00000,4.00000,8.00000,16.0000,32.0000,64.0000,128.000,256.000\") },\n\n    { njs_str(\"Array(5).fill().map((n, i) => i+16).map((v)=>(4.1).toPrecision(v))\"),\n      njs_str(\"4.100000000000000,4.0999999999999996,4.09999999999999964,4.099999999999999644,4.0999999999999996447\") },\n\n    { njs_str(\"Array(3).fill().map((n, i) => i + 19).map((v)=>(2**(-v)).toPrecision(20))\"),\n      njs_str(\"0.0000019073486328125000000,9.5367431640625000000e-7,4.7683715820312500000e-7\") },\n\n    { njs_str(\"Array(3).fill().map((n, i) => i + 32).map((v)=>(2**(v)+0.1).toPrecision(10))\"),\n      njs_str(\"4294967296,8589934592,1.717986918e+10\") },\n\n#if 0  /* FIXME: bignum support is requred to support prec >= 20 */\n    { njs_str(\"(1/7).toPrecision(100)\"),\n      njs_str(\"0.1428571428571428492126926812488818541169166564941406250000000000000000000000000000000000000000000000\") },\n\n    { njs_str(\"(2**128).toPrecision(40)\"),\n      njs_str(\"340282366920938463463374607431768211456.0\") },\n#endif\n\n    { njs_str(\"(2**128).toPrecision(1)\"),\n      njs_str(\"3e+38\") },\n\n    { njs_str(\"(2**128).toPrecision(2)\"),\n      njs_str(\"3.4e+38\") },\n\n    { njs_str(\"(2**128).toPrecision(40)\"),\n      njs_str(\"340282366920938463490000000000000000000.0\") },\n\n    { njs_str(\"(123).toPrecision(0)\"),\n      njs_str(\"RangeError: precision argument must be between 1 and 100\") },\n\n    { njs_str(\"(123).toPrecision(2.4)\"),\n      njs_str(\"1.2e+2\") },\n\n    { njs_str(\"(123).toPrecision(101)\"),\n      njs_str(\"RangeError: precision argument must be between 1 and 100\") },\n\n    { njs_str(\"(2**10000).toPrecision()\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"(-(2**10000)).toPrecision()\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"var v = parseFloat('9'.repeat(98));\"\n              \"[98,100].map(p=>v.toPrecision(p).length)\"),\n      njs_str(\"98,101\") },\n\n    { njs_str(\"(-0).toPrecision(2)\"),\n      njs_str(\"0.0\") },\n\n    { njs_str(\"NaN.toPrecision()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"NaN.toPrecision(0)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"(10**22).toPrecision()\"),\n      njs_str(\"1e+22\") },\n\n    { njs_str(\"Number.prototype.toPrecision.call('12')\"),\n      njs_str(\"TypeError: unexpected value type:string\") },\n\n    { njs_str(\"(1000000000000000128).toString()\"),\n      njs_str(\"1000000000000000100\") },\n\n    { njs_str(\"(1000000000000000128).toFixed(0)\"),\n      njs_str(\"1000000000000000128\") },\n\n    { njs_str(\"(1e21).toFixed(1)\"),\n      njs_str(\"1e+21\") },\n\n    { njs_str(\"Number.prototype.toFixed.call({})\"),\n      njs_str(\"TypeError: unexpected value type:object\") },\n\n    { njs_str(\"(0).toFixed(-1)\"),\n      njs_str(\"RangeError: digits argument must be between 0 and 100\") },\n\n    { njs_str(\"(0).toFixed(101)\"),\n      njs_str(\"RangeError: digits argument must be between 0 and 100\") },\n\n    /* Number.prototype.toExponential(frac) method. */\n\n    { njs_str(\"Array(3).fill().map((n, i) => i + 1).map((v)=>(0).toExponential(v))\"),\n      njs_str(\"0.0e+0,0.00e+0,0.000e+0\") },\n\n    { njs_str(\"Array(6).fill().map((n, i) => i + 1).map((v)=>((Math.pow(-1,v))*(2*v)/3).toExponential(5))\"),\n      njs_str(\"-6.66667e-1,1.33333e+0,-2.00000e+0,2.66667e+0,-3.33333e+0,4.00000e+0\") },\n\n    { njs_str(\"Array(5).fill().map((n, i) => i + 1).map((v)=>((Math.pow(-1,v))*(2*v)/3).toExponential())\"),\n      njs_str(\"-6.666666666666666e-1,1.3333333333333333e+0,-2e+0,2.6666666666666667e+0,-3.3333333333333337e+0\") },\n\n    { njs_str(\"1.7976931348623157e+308.toExponential()\"),\n      njs_str(\"1.7976931348623157e+308\") },\n\n#if 0  /* FIXME: bignum support is requred to support prec >= 20 */\n    { njs_str(\"(1/7).toExponential(100)\"),\n      njs_str(\"1.4285714285714284921269268124888185411691665649414062500000000000000000000000000000000000000000000000e-1\") },\n#endif\n\n    { njs_str(\"var v = 1.7976931348623157e+308; Number(v.toExponential()) == v\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(123).toExponential(-1)\"),\n      njs_str(\"RangeError: digits argument must be between 0 and 100\") },\n\n    { njs_str(\"(123).toExponential(2.4)\"),\n      njs_str(\"1.23e+2\") },\n\n    { njs_str(\"(123).toExponential(101)\"),\n      njs_str(\"RangeError: digits argument must be between 0 and 100\") },\n\n    { njs_str(\"[2**10000,-(2**10000),NaN].map((v)=>v.toExponential())\"),\n      njs_str(\"Infinity,-Infinity,NaN\") },\n\n    { njs_str(\"[2**10000,-(2**10000),NaN].map((v)=>v.toExponential(1000))\"),\n      njs_str(\"Infinity,-Infinity,NaN\") },\n\n    { njs_str(\"Number.prototype.toExponential.call('12')\"),\n      njs_str(\"TypeError: unexpected value type:string\") },\n\n    /* An object \"valueOf/toString\" methods. */\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };    +a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };  +a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: 2,\"\n                 \"          toString: function() { return '1' } }; +a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } }; ''+a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [] },\"\n                 \"          toString: function() { return '1' } }; +a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { toString: function() { return 'a' } };\"\n                 \"var b = { toString: function() { return a+'b' } }; '0'+b\"),\n      njs_str(\"0ab\") },\n\n    { njs_str(\"({valueOf:()=>'4'}) / ({valueOf:()=>2})\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"({valueOf:()=>{throw 'x'}}) / ({valueOf:()=>{throw 'y'}});\"\n                 \"var e; try { x/y } catch(ex) {e = ex}; ex\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"({valueOf:()=>{ try {throw 'x'} catch (ex) {return 6} } }) / 2\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"({valueOf:()=>2}) / ({valueOf:()=>{throw 'y'}});\"\n                 \"var e; try { x/y } catch(ex) {e = ex}; ex\"),\n      njs_str(\"y\") },\n\n    { njs_str(\"({valueOf:()=>'4'}) % ({valueOf:()=>3})\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"({valueOf:()=>9}) >>> ({valueOf:()=>2})\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"({valueOf:()=>0x1f}) & ({valueOf:()=>0xf})\"),\n      njs_str(\"15\") },\n\n    { njs_str(\"({valueOf:()=>0x1f}) ^ ({valueOf:()=>0xf})\"),\n      njs_str(\"16\") },\n\n    { njs_str(\"({valueOf:()=>0xf}) == ({valueOf:()=>0xf})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var e; try {({valueOf: String.prototype.valueOf}) == 1} \"\n                 \"catch (ex) { e = ex}; e\"),\n      njs_str(\"TypeError: unexpected value type:object\") },\n\n    { njs_str(\"({valueOf:()=>0xf}) == 0xf\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0xf == ({valueOf:()=>0xf})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({valueOf:()=>'0xf'}) == 0xf\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0xf == ({valueOf:()=>'0xf'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({valueOf:()=>0xf}) == '0xf'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'0xf' == ({valueOf:()=>0xf})\"),\n      njs_str(\"true\") },\n    /**/\n\n    { njs_str(\"1 + undefined\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"1 + ''\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"0xA + ''\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"undefined + undefined\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var undefined\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"1.2 + 5.7\"),\n      njs_str(\"6.9\") },\n\n    { njs_str(\"0xf + 1\"),\n      njs_str(\"16\") },\n\n    { njs_str(\"1 + 1 + '2' + 1 + 1\"),\n      njs_str(\"2211\") },\n\n    { njs_str(\"'gg' + -0\"),\n      njs_str(\"gg0\") },\n\n    { njs_str(\"1.2 - '5.7'\"),\n      njs_str(\"-4.5\") },\n\n    { njs_str(\"1.2 + -'5.7'\"),\n      njs_str(\"-4.5\") },\n\n    { njs_str(\"1.2 - '-5.7'\"),\n      njs_str(\"6.9\") },\n\n    { njs_str(\"5 - ' \\t 12  \\t'\"),\n      njs_str(\"-7\") },\n\n    { njs_str(\"5 - '12zz'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"5 - '0x2'\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"5 - '-0x2'\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"5 - '\\t 0x2 \\t'\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"5 - '\\t\\\\u000c0x2 \\t'\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"5 - '0x2 z'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"12 - '5.7e1'\"),\n      njs_str(\"-45\") },\n\n    { njs_str(\"12 - '5.e1'\"),\n      njs_str(\"-38\") },\n\n    { njs_str(\"12 - '5.7e+01'\"),\n      njs_str(\"-45\") },\n\n    { njs_str(\"12 - '5.7e-01'\"),\n      njs_str(\"11.43\") },\n\n    { njs_str(\"12 - ' 5.7e1 '\"),\n      njs_str(\"-45\") },\n\n    { njs_str(\"12 - '5.7e'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"12 - '5.7e+'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"12 - '5.7e-'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"12 - ' 5.7e1 z'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"5 - '0x'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"1 + +'3'\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"1 - undefined\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"1 - ''\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"undefined - undefined\"),\n      njs_str(\"NaN\") },\n\n    /* String.toString() method. */\n\n    { njs_str(\"'A'.toString()\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"'A'.toBytes().toString('latin1')\"),\n      njs_str(\"TypeError: Unknown encoding: \\\"latin1\\\"\") },\n\n    { njs_str(\"'ABCD'.toBytes().toString('hex')\"),\n      njs_str(\"41424344\") },\n\n    { njs_str(\"'\\\\x00\\\\xAA\\\\xBB\\\\xFF'.toBytes().toString('hex')\"),\n      njs_str(\"00aabbff\") },\n\n    { njs_str(\"'\\\\x00\\\\xAA\\\\xBB\\\\xFF'.toBytes().toString('base64')\"),\n      njs_str(\"AKq7/w==\") },\n\n    { njs_str(\"'ABCD'.toBytes().toString('base64')\"),\n      njs_str(\"QUJDRA==\") },\n\n    { njs_str(\"'ABC'.toBytes().toString('base64')\"),\n      njs_str(\"QUJD\") },\n\n    { njs_str(\"'AB'.toBytes().toString('base64')\"),\n      njs_str(\"QUI=\") },\n\n    { njs_str(\"'A'.toBytes().toString('base64')\"),\n      njs_str(\"QQ==\") },\n\n    { njs_str(\"''.toBytes().toString('base64')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\\\\x00\\\\xAA\\\\xBB\\\\xFF'.toBytes().toString('base64url')\"),\n      njs_str(\"AKq7_w\") },\n\n    { njs_str(\"'ABCD'.toBytes().toString('base64url')\"),\n      njs_str(\"QUJDRA\") },\n\n    { njs_str(\"'ABC'.toBytes().toString('base64url')\"),\n      njs_str(\"QUJD\") },\n\n    { njs_str(\"'AB'.toBytes().toString('base64url')\"),\n      njs_str(\"QUI\") },\n\n    { njs_str(\"'A'.toBytes().toString('base64url')\"),\n      njs_str(\"QQ\") },\n\n    { njs_str(\"''.toBytes().toString('base64url')\"),\n      njs_str(\"\") },\n\n    /* Assignment. */\n\n    { njs_str(\"var a, b = (a = [2]) * (3 * 4); a +' '+ b\"),\n      njs_str(\"2 24\") },\n\n    { njs_str(\"var a = 1; var b = a += 1; b\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = 1; var b = a -= 1; b\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = 1; var b = a <<= 1; b\"),\n      njs_str(\"2\") },\n\n    /* 3 address operation and side effect. */\n\n    { njs_str(\"var a = 1; function f(x) { a = x; return 2 }; a+f(5)+' '+a\"),\n      njs_str(\"3 5\") },\n\n    { njs_str(\"var a = 1; function f(x) { a = x; return 2 }; a += f(5)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var x; x in (x = 1, [1, 2, 3])\"),\n      njs_str(\"false\") },\n\n    /* Exponentiation. */\n\n    { njs_str(\"2 ** 3 ** 2\"),\n      njs_str(\"512\") },\n\n    { njs_str(\"2 ** (3 ** 2)\"),\n      njs_str(\"512\") },\n\n    { njs_str(\"(2 ** 3) ** 2\"),\n      njs_str(\"64\") },\n\n    { njs_str(\"3 ** 2 - 9\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-9 + 3 ** 2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-3 ** 2\"),\n      njs_str(\"SyntaxError: Either left-hand side or entire exponentiation \"\n                 \"must be parenthesized in 1\") },\n\n    { njs_str(\"-(3) ** 2\"),\n      njs_str(\"SyntaxError: Either left-hand side or entire exponentiation \"\n                 \"must be parenthesized in 1\") },\n\n    { njs_str(\"-(3 ** 2)\"),\n      njs_str(\"-9\") },\n\n    { njs_str(\"(-3) ** 2\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"1 ** NaN\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"'a' ** -0\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"1.1 ** Infinity\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"(-1.1) ** -Infinity\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(-1) ** Infinity\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"1 ** -Infinity\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"(-0.9) ** Infinity\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"0.9 ** -Infinity\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"'Infinity' ** 0.1\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Infinity ** '-0.1'\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(-Infinity) ** 3\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"'-Infinity' ** '3.1'\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"(-Infinity) ** '-3'\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"'-Infinity' ** -2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'0' ** 0.1\"),\n      njs_str(\"0\") },\n\n#ifndef __NetBSD__  /* NetBSD 7: pow(0, negative) == -Infinity. */\n    { njs_str(\"0 ** '-0.1'\"),\n      njs_str(\"Infinity\") },\n#endif\n\n    { njs_str(\"(-0) ** 3\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"'-0' ** '3.1'\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(-0) ** '-3'\"),\n      njs_str(\"-Infinity\") },\n\n#ifndef __NetBSD__  /* NetBSD 7: pow(0, negative) == -Infinity. */\n    { njs_str(\"'-0' ** -2\"),\n      njs_str(\"Infinity\") },\n#endif\n\n    { njs_str(\"(-3) ** 0.1\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = 0.1; a **= -2\"),\n      njs_str(\"99.99999999999999\") },\n\n    { njs_str(\"var a = 1; a **= NaN\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = 'a'; a **= -0\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 1.1; a **= Infinity\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"var a = -1.1; a **= -Infinity\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = -1; a **= Infinity\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = 1; a **= -Infinity\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = -0.9; a **= Infinity\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = 0.9; a **= -Infinity\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"var a = 'Infinity'; a **= 0.1\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"var a = Infinity; a **= '-0.1'\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = -Infinity; a **= 3\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"var a = '-Infinity'; a **= '3.1'\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"var a = -Infinity; a **= '-3'\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"var a = '-Infinity'; a **= -2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = '0'; a **= 0.1\"),\n      njs_str(\"0\") },\n\n#ifndef __NetBSD__  /* NetBSD 7: pow(0, negative) == -Infinity. */\n    { njs_str(\"var a = 0; a **= '-0.1'\"),\n      njs_str(\"Infinity\") },\n#endif\n\n    { njs_str(\"var a = -0; a **= 3\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"var a = '-0'; a **= '3.1'\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = -0; a **= '-3'\"),\n      njs_str(\"-Infinity\") },\n\n#ifndef __NetBSD__  /* NetBSD 7: pow(0, negative) == -Infinity. */\n    { njs_str(\"var a = '-0'; a **= -2\"),\n      njs_str(\"Infinity\") },\n#endif\n\n    { njs_str(\"var a = -3; a **= 0.1\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"12 | 6\"),\n      njs_str(\"14\") },\n\n    { njs_str(\"12 | 'abc'\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"-1 | 0\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"-2147483648 | 0\"),\n      njs_str(\"-2147483648\") },\n\n    { njs_str(\"1024.9 | 0\"),\n      njs_str(\"1024\") },\n\n    { njs_str(\"-1024.9 | 0\"),\n      njs_str(\"-1024\") },\n\n    { njs_str(\"9007199254740991 | 0\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"9007199254740992 | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"9007199254740993 | 0\"),\n      njs_str(\"0\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 | 0\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"9223372036854777856 | 0\"),\n      njs_str(\"2048\") },\n\n    { njs_str(\"-9223372036854777856 | 0\"),\n      njs_str(\"-2048\") },\n\n    { njs_str(\"NaN | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-NaN | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Infinity | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-Infinity | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"+0 | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-0 | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"32.5 << 2.4\"),\n      njs_str(\"128\") },\n\n    { njs_str(\"32.5 << 'abc'\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"'abc' << 2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-1 << 0\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"-1 << -1\"),\n      njs_str(\"-2147483648\") },\n\n    { njs_str(\"-2147483648 << 0\"),\n      njs_str(\"-2147483648\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 << 0\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"9223372036854777856 << 0\"),\n      njs_str(\"2048\") },\n\n    { njs_str(\"-9223372036854777856 << 0\"),\n      njs_str(\"-2048\") },\n\n    { njs_str(\"NaN << 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"32.5 >> 2.4\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"-1 >> 30\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'abc' >> 2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-1 >> 0\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"-1 >> -1\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"-2147483648 >> 0\"),\n      njs_str(\"-2147483648\") },\n\n    { njs_str(\"-2147483648 >> -1\"),\n      njs_str(\"-1\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 >> 0\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"9223372036854777856 >> 0\"),\n      njs_str(\"2048\") },\n\n    { njs_str(\"-9223372036854777856 >> 0\"),\n      njs_str(\"-2048\") },\n\n    { njs_str(\"NaN >> 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-1 >>> 30\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"NaN >>> 1\"),\n      njs_str(\"0\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 >>> 1\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"-1 >>> 0\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"-1 >>> -1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"-2147483648 >>> 0\"),\n      njs_str(\"2147483648\") },\n\n    { njs_str(\"-2147483648 >>> -1\"),\n      njs_str(\"1\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 >>> 0\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"9223372036854777856 >>> 0\"),\n      njs_str(\"2048\") },\n\n    { njs_str(\"-9223372036854777856 >>> 0\"),\n      njs_str(\"4294965248\") },\n\n    { njs_str(\"NaN >>> 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"!2\"),\n      njs_str(\"false\") },\n\n    /**/\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   ~a\"),\n      njs_str(\"-2\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; ~a\"),\n      njs_str(\"-2\") },\n\n    /**/\n\n    { njs_str(\"1 || 2\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 1; 1 || (a = 2); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var x; x = 0 || x; x\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var x; x = 1 && x; x\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"1 || 2 || 3\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"1 || (2 + 2) || 3\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"1 && 2\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"1 && 2 && 3\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 1; 0 && (a = 2); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"false && true || true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"false && (true || true)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"true && (null ?? true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(null || undefined) ?? (true && true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"undefined ?? null ?? false ?? true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 && 1 ?? true\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"??\\\" in 1\") },\n\n    { njs_str(\"null ?? 0 || 1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"||\\\" in 1\") },\n\n    { njs_str(\"var a = true; a = -~!a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"12 & 6\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"-1 & 65536\"),\n      njs_str(\"65536\") },\n\n    { njs_str(\"-2147483648 & 65536\"),\n      njs_str(\"0\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 & 65536\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"NaN & 65536\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"12 ^ 6\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"-1 ^ 65536\"),\n      njs_str(\"-65537\") },\n\n    { njs_str(\"-2147483648 ^ 65536\"),\n      njs_str(\"-2147418112\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 ^ 65536\"),\n      njs_str(\"65536\") },\n#endif\n\n    { njs_str(\"NaN ^ 65536\"),\n      njs_str(\"65536\") },\n\n    { njs_str(\"var x = '1'; +x + 2\"),\n      njs_str(\"3\") },\n\n    /* Weird things. */\n\n    { njs_str(\"'3' -+-+-+ '1' + '1' / '3' * '6' + '2'\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"((+!![])+(+!![])+(+!![])+(+!![])+[])+((+!![])+(+!![])+[])\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"1+[[]+[]]-[]+[[]-[]]-1\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"[[]+[]]-[]+[[]-[]]\"),\n      njs_str(\"00\") },\n\n    { njs_str(\"!--[][1]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[].concat[1,2,3]\"),\n      njs_str(\"undefined\") },\n\n    /**/\n\n    { njs_str(\"'true' == true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null == false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"0 == null\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"!null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 === -0\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"1/-0\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"1/0 === 1/-0\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 == true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN === NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN !== NaN\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN == NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN != NaN\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN == false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Infinity == Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-Infinity == -Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-Infinity < Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Infinity - Infinity\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Infinity - -Infinity\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"undefined == 0\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined == null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'1' == 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'1a' == '1'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'abc' == 'abc'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc' < 'abcde'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 == ''\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 == ' '\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 == '  '\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 == '0'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 == ' 0 '\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 == '000'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'0' == ''\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 < 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN < NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN > NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < 1\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[] == false\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[0] == false\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[0,0] == false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"({}) == false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new Number(1) == new String('1')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = Object; a == Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'1' == new Number(1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new Number(null) + ''\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"new String('abc') == 'abc'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"false == new String('0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 5 } };   a == 5\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '5' } }; a == 5\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '5' } }; a == '5'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 5 } }; a == '5'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { toString: function() { return true } }; '1' == a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 'b' },\"\n                 \"          toString: function() { return 'a' } }; a == 'a'\"),\n      njs_str(\"false\") },\n\n    /* Comparisions. */\n\n    { njs_str(\"1 < 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"1 < 1\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 <= 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"1 <= 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"2 > 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"1 > 2\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 > 1\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 >= 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"2 >= 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"1 >= 2\"),\n      njs_str(\"false\") },\n\n    /**/\n\n    { njs_str(\"null === null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null !== null\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null == null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null != null\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null < null\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null > null\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null <= null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null >= null\"),\n      njs_str(\"true\") },\n\n    /**/\n\n    { njs_str(\"null === undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null !== undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null == undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null != undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null < undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null > undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null <= undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null >= undefined\"),\n      njs_str(\"false\") },\n\n    /**/\n\n    { njs_str(\"null === false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null !== false\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null == false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null != false\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null < false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null > false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null <= false\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null >= false\"),\n      njs_str(\"true\") },\n\n    /**/\n\n    { njs_str(\"null === true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null !== true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null == true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null != true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null < true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null > true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null <= true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null >= true\"),\n      njs_str(\"false\") },\n\n    /**/\n\n    { njs_str(\"Infinity === Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Infinity !== Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Infinity == Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Infinity != Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Infinity < Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Infinity > Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Infinity <= Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Infinity >= Infinity\"),\n      njs_str(\"true\") },\n\n    /**/\n\n    { njs_str(\"-Infinity === Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"-Infinity !== Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-Infinity == Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"-Infinity != Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-Infinity < Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-Infinity > Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"-Infinity <= Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-Infinity >= Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Boolean(Infinity)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"!Infinity === false\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var Infinity\"),\n      njs_str(\"undefined\") },\n\n#if 0 /* ES5FIX */\n    { njs_str(\"Infinity = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \"Infinity\" of object\") },\n#endif\n\n    /**/\n\n    { njs_str(\"NaN === NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN !== NaN\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN == NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN != NaN\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN < NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN > NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN >= NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN <= NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var NaN\"),\n      njs_str(\"undefined\") },\n\n#if 0 /* ES5FIX */\n    { njs_str(\"NaN = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \"NaN\" of object\") },\n#endif\n\n    /**/\n\n    { njs_str(\"null < 0\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null < 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null < NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null < -Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null < Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null < 'null'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null < '1'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null < [1]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null < ({})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };     null < a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 'null' } };null < a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };   null < a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"1 < {valueOf: ()=>{throw 'x'}}\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"({valueOf: ()=>{throw 'x'}}) <= ({valueOf:()=>{throw 'y'}})\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"({valueOf:()=>{throw 'x'}}) > ({valueOf:()=>{throw 'y'}})\"),\n      njs_str(\"x\") },\n\n    /**/\n\n    { njs_str(\"undefined == undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"undefined != undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined === undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"undefined !== undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < null\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < 0\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < 1\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < -Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < 'undefined'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < '1'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < [1]\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < ({})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } }; undefined < a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 'undefined' } };\"\n                 \"undefined < a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };\"\n                 \"undefined < a\"),\n      njs_str(\"false\") },\n\n    /**/\n\n    { njs_str(\"false < 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"true < 1\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"-1 < 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-1 < '1'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN < NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"-Infinity < Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Infinity < -Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 < 'abc'\"),\n      njs_str(\"false\") },\n\n    /**/\n\n    { njs_str(\"[] === []\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[] !== []\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[] == []\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[] != []\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[] < []\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[] > []\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[] >= []\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[] <= []\"),\n      njs_str(\"true\") },\n\n    /**/\n\n    { njs_str(\"({}) === ({})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"({}) !== ({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}) == ({})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"({}) != ({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}) > ({})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"({}) <= ({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}) >= ({})\"),\n      njs_str(\"true\") },\n\n    /**/\n\n    { njs_str(\"[0] == ({})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[0] != ({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[0] <= ({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[0] >= ({})\"),\n      njs_str(\"false\") },\n\n    /**/\n    { njs_str(\"new String('1') > new Number(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new Boolean(true) > '1'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'0' >= new Number(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'1' >= new Number(1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new String('1') < new Number(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new Boolean(true) < '1'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new String('1') <= new Number(1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new Boolean(true) <= '1'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'-1' < {valueOf: function() {return -2}}\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new 0[isNaN]\"),\n      njs_str(\"TypeError: (intermediate value)[\\\"[object Function]\\\"] is not a function\") },\n\n    { njs_str(\"new 0[undefined]\"),\n      njs_str(\"TypeError: (intermediate value)[\\\"undefined\\\"] is not a function\") },\n\n    /**/\n\n    { njs_str(\"var a; a = 1 ? 2 : 3\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a; a = 1 ? 2 : 3 ? 4 : 5\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a; a = 0 ? 2 : 3 ? 4 : 5\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"0 ? 2 ? 3 : 4 : 5\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"1 ? 2 ? 3 : 4 : 5\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"1 ? 0 ? 3 : 4 : 5\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"(1 ? 0 : 3) ? 4 : 5\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a; a = (1 + 2) ? 2 ? 3 + 4 : 5 : 6\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var a; a = (1 ? 2 : 3) + 4\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a, b; a = 1 ? b = 2 + 4 : b = 3\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a; a = 1 ? [1,2] : []\"),\n      njs_str(\"1,2\") },\n\n    /**/\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   +a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; +a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   -a\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; -a\"),\n      njs_str(\"-1\") },\n\n    /* Increment. */\n\n    { njs_str(\"var a = 1;   ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = '1'; ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1]; ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = {};  ++a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = [1,2,3]; var b = 1; b = ++a[b]; b + ' '+ a\"),\n      njs_str(\"3 1,3,3\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };\"\n                 \"++a +' '+ a +' '+ typeof a\"),\n      njs_str(\"2 2 number\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };\"\n                 \"++a +' '+ a +' '+ typeof a\"),\n      njs_str(\"2 2 number\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } };\"\n                 \"++a +' '+ a +' '+ typeof a\"),\n      njs_str(\"NaN NaN number\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };\"\n                 \"++a +' '+ a +' '+ typeof a\"),\n      njs_str(\"NaN NaN number\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   a = ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = '1'; a = ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1]; a = ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = {};  a = ++a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   a = ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; a = ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } }; a = ++a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };  a = ++a\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   var b = ++a; a +' '+ b\"),\n      njs_str(\"2 2\") },\n\n    { njs_str(\"var a = '1'; var b = ++a; a +' '+ b\"),\n      njs_str(\"2 2\") },\n\n    { njs_str(\"var a = [1]; var b = ++a; a +' '+ b\"),\n      njs_str(\"2 2\") },\n\n    { njs_str(\"var a = {};  var b = ++a; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };\"\n                 \"var b = ++a; a +' '+ b\"),\n      njs_str(\"2 2\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };\"\n                 \"var b = ++a; a +' '+ b\"),\n      njs_str(\"2 2\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } };\"\n                 \"var b = ++a; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };\"\n                 \"var b = ++a; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = 0; a = a + ++a; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 0; a += a + ++a; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var i = 0, arr = ['a', 'b'];\"\n              \"arr[i] = arr[i] + arr[++i]; arr\"),\n      njs_str(\"ab,b\") },\n\n    { njs_str(\"var i = 0, arr = ['a', 'b'];\"\n              \"arr[i] += arr[i] + arr[++i]; arr\"),\n      njs_str(\"aab,b\") },\n\n    /* Post increment. */\n\n    { njs_str(\"var a = 1;   a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = '1'; a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1]; a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {};  a++\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } }; a++\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };  a++\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   a = a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = '1'; a = a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1]; a = a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {};  a = a++\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   a = a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; a = a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } }; a = a++\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };  a = a++\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   var b = a++; a +' '+ b\"),\n      njs_str(\"2 1\") },\n\n    { njs_str(\"var a = '1'; var b = a++; a +' '+ b\"),\n      njs_str(\"2 1\") },\n\n    { njs_str(\"var a = [1]; var b = a++; a +' '+ b\"),\n      njs_str(\"2 1\") },\n\n    { njs_str(\"var a = {};  var b = a++; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };\"\n                 \"var b = a++; a +' '+ b\"),\n      njs_str(\"2 1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };\"\n                 \"var b = a++; a +' '+ b\"),\n      njs_str(\"2 1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } };\"\n                 \"var b = a++; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };\"\n                 \"var b = a++; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = 0; a = a + a++; a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = 0; a += a + a++; a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var i = 1, arr = ['a', 'b'];\"\n              \"arr[i] = arr[i] + arr[i++]; arr\"),\n      njs_str(\"a,bb\") },\n\n    { njs_str(\"var i = 1, arr = ['a', 'b'];\"\n              \"arr[i] += arr[i] + arr[i++]; arr\"),\n      njs_str(\"a,bbb\") },\n\n    /* Decrement. */\n\n    { njs_str(\"var a = 1;   --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = '1'; --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1]; --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = {};  --a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1} };   --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1'} }; --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1]} }; --a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } }; --a\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   a = --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = '1'; a = --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1]; a = --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = {};  a = --a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1} };   a = --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1'} }; a = --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1]} }; a = --a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } }; a = --a\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   var b = --a; a +' '+ b\"),\n      njs_str(\"0 0\") },\n\n    { njs_str(\"var a = '1'; var b = --a; a +' '+ b\"),\n      njs_str(\"0 0\") },\n\n    { njs_str(\"var a = [1]; var b = --a; a +' '+ b\"),\n      njs_str(\"0 0\") },\n\n    { njs_str(\"var a = {};  var b = --a; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };\"\n                 \"var b = --a; a +' '+ b\"),\n      njs_str(\"0 0\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };\"\n                 \"var b = --a; a +' '+ b\"),\n      njs_str(\"0 0\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } };\"\n                 \"var b = --a; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };\"\n                 \"var b = --a; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = 0; a = a + --a; a\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = 0; a -= a + --a; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var i = 1, arr = ['a', 'b'];\"\n              \"arr[i] = arr[i] + arr[--i]; arr\"),\n      njs_str(\"a,ba\") },\n\n    { njs_str(\"var i = 1, arr = ['a', 'b'];\"\n              \"arr[i] += arr[i] + arr[--i]; arr\"),\n      njs_str(\"a,bba\") },\n\n    /* Post decrement. */\n\n    { njs_str(\"var a = 1;   a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = '1'; a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1]; a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {};  a--\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } }; a--\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };  a--\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   a = a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = '1'; a = a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1]; a = a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {};  a = a--\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   a = a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; a = a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } }; a = a--\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };  a = a--\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   var b = a--; a +' '+ b\"),\n      njs_str(\"0 1\") },\n\n    { njs_str(\"var a = '1'; var b = a--; a +' '+ b\"),\n      njs_str(\"0 1\") },\n\n    { njs_str(\"var a = [1]; var b = a--; a +' '+ b\"),\n      njs_str(\"0 1\") },\n\n    { njs_str(\"var a = {};  var b = a--; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };\"\n                 \"var b = a--; a +' '+ b\"),\n      njs_str(\"0 1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };\"\n                 \"var b = a--; a +' '+ b\"),\n      njs_str(\"0 1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } };\"\n                 \"var b = a--; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };\"\n                 \"var b = a--; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = 0; a = a + a--; a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = 0; a += a + a--; a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var i = 1, arr = ['a', 'b'];\"\n              \"arr[i] = arr[i] + arr[i--]; arr\"),\n      njs_str(\"a,bb\") },\n\n    { njs_str(\"var i = 1, arr = ['a', 'b'];\"\n              \"arr[i] += arr[i] + arr[i--]; arr\"),\n      njs_str(\"a,bbb\") },\n\n    /**/\n\n    { njs_str(\"var a, b; a = 2; b = ++a + ++a; a + ' ' + b\"),\n      njs_str(\"4 7\") },\n\n    { njs_str(\"var a, b; a = 2; b = a++ + a++; a + ' ' + b\"),\n      njs_str(\"4 5\") },\n\n    { njs_str(\"var a, b; a = b = 7; a +' '+ b\"),\n      njs_str(\"7 7\") },\n\n    { njs_str(\"var a, b, c; a = b = c = 5; a +' '+ b +' '+ c\"),\n      njs_str(\"5 5 5\") },\n\n    { njs_str(\"var a, b, c; a = b = (c = 5) + 2; a +' '+ b +' '+ c\"),\n      njs_str(\"7 7 5\") },\n\n    { njs_str(\"1, 2 + 5, 3\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a, b; a = 1 /* YES */\\n b = a + 2 \\n \\n + 1 \\n + 3\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var a, b; a = 1 // YES \\n b = a + 2 \\n \\n + 1 \\n + 3\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var a; a = 0; ++ \\n a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a; a = 0\\n ++a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a = 0; a \\n ++\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 2\") },\n\n    { njs_str(\"a = 0; a \\n --\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 2\") },\n\n    { njs_str(\"var a = 0; a \\n + 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 0; a \\n +\\n 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a; a = 1 ? 2 \\n : 3\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a, b, c;\"\n                 \"a = 0 / 0; b = 1 / 0; c = -1 / 0; a +' '+ b +' '+ c\"),\n      njs_str(\"NaN Infinity -Infinity\") },\n\n    { njs_str(\"var a, b; a = (b = 7) + 5; var c; a +' '+ b +' '+ c\"),\n      njs_str(\"12 7 undefined\") },\n\n    { njs_str(\"var a, b = 1, c; a +' '+ b +' '+ c\"),\n      njs_str(\"undefined 1 undefined\") },\n\n    { njs_str(\"var a = 1, b = a + 1; a +' '+ b\"),\n      njs_str(\"1 2\") },\n\n    { njs_str(\"var a; a = a = 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 1, \\n b; a +' '+ b\"),\n      njs_str(\"1 undefined\") },\n\n    { njs_str(\"var a; a = b + 1; var b; a +' '+ b\"),\n      njs_str(\"NaN undefined\") },\n\n    { njs_str(\"var a += 1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"+=\\\" in 1\") },\n\n    { njs_str(\"var a = a + 1\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a; a = b + 1; var b = 1; a +' '+ b\"),\n      njs_str(\"NaN 1\") },\n\n    { njs_str(\"var a; (a) = 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"\\na\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"\\n\\na\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"a + a\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"a = b + 1\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"a = a + 1\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"a += 1\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"a += 1; var a = 2\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 1\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 1; a = (a = 2) + a\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var a = 1; a = a + (a = 2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 1; a += (a = 2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = b = 1; var b; a +' '+ b\"),\n      njs_str(\"1 1\") },\n\n    { njs_str(\"var a \\n if (!a) a = 3; a\"),\n      njs_str(\"3\") },\n\n    /* automatic semicolon insertion. */\n\n    { njs_str(\"(a\\n--\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"--\\\" in 2\") },\n\n    { njs_str(\"(a\\n++\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"++\\\" in 2\") },\n\n    { njs_str(\"var x = 0, y = 2; x\\n--\\ny; [x,y]\"),\n      njs_str(\"0,1\") },\n\n    { njs_str(\"function f() {return\\n}\"),\n      njs_str(\"undefined\") },\n\n    /* if. */\n\n    { njs_str(\"if (0);\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"if (0) {}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"if (0);else;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 1; if (true); else a = 2; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 1; if (false); else a = 2; a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = 1; if (true) a = 2; else a = 3; a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = 3; if (true) if (false); else a = 2; a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = 3; if (true) if (false); else; a = 2; a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [3], b; if (1==1||2==2) { b = '1'+'2'+a[0] }; b\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"(function(){ if(true) return 1 else return 0; })()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"else\\\" in 1\") },\n\n    { njs_str(\"(function(){ if(true) return 1; else return 0; })()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(){ if(true) return 1;; else return 0; })()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"else\\\" in 1\") },\n\n    { njs_str(\"(function(){ if(true) return 1\\n else return 0; })()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(){ if(true) return 1\\n;\\n else return 0; })()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f(n) {if (n) throw 'foo' else return 1}; f(0)\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"else\\\" in 1\") },\n\n    { njs_str(\"function f(n) {if (n)\\n throw 'foo'\\nelse return 1}; f(0)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f(n) {if (n)\\n throw 'foo'\\nelse return 1}; f(1)\"),\n      njs_str(\"foo\") },\n\n    { njs_str(\"function f(n) {if (n == 1) throw 'foo'\\nelse if (n == 2) return 1}; f(2)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(){ for (var p in [1] ){ if (1) break else return 0; }})()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"else\\\" in 1\") },\n\n    { njs_str(\"(function(){ for (var p in [1] ){ if (1) break\\n else return 0; }})()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function(){ for (var p in [1] ){ if (1) break; else return 0; }})()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function(){ for (var p in [1] ){ if (1) continue else return 0; }})()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"else\\\" in 1\") },\n\n    { njs_str(\"(function(){ for (var p in [1] ){ if (1) continue\\n else return 0; }})()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function(){ for (var p in [1] ){ if (1) continue; else return 0; }})()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function(x){ if\\n(x) return -1; else return 0; })(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(function(x){ if\\n(\\nx) return -1; else return 0; })(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(function(x){ if\\n(\\nx)\\nreturn -1; else return 0; })(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(function(x){ if\\n(\\nx)\\nreturn -1\\n else return 0; })(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(function(x){ if\\n(\\nx)\\nreturn -1\\n else\\nreturn 0; })(0)\"),\n      njs_str(\"0\") },\n\n    /* do while. */\n\n    { njs_str(\"do { break } if (false)\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"if\\\" in 1\") },\n\n    /* for in. */\n\n    { njs_str(\"for (null in undefined);\"),\n      njs_str(\"ReferenceError: Invalid left-hand side \\\"null\\\" in for-in statement in 1\") },\n\n    { njs_str(\"for (var a, b in []);\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"in\\\" in 1\") },\n\n    { njs_str(\"var s = ''; for (var p in [1,2]) {s += p}; s\"),\n      njs_str(\"01\") },\n\n    { njs_str(\"var s; for (var p in [1]) {s = typeof(p)}; s\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"var s = ''; for (var p in {a:1, b:2}) {s += p}; s\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"var s = '';\"\n                 \"var o = Object.defineProperty({}, 'x', {value:1});\"\n                 \"Object.defineProperty(o, 'y', {value:2, enumerable:true});\"\n                 \"for (var p in o) {s += p}; s\"),\n      njs_str(\"y\") },\n\n    { njs_str(\"var o = {a:1, b:2}; var arr = []; \"\n                 \"for (var a in o) {arr.push(a)}; arr\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"var o = {a:1, b:2}; var arr = []; delete o.a; \"\n                 \"for (var a in o) {arr.push(a)}; arr\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"var a = []; for (var k in new Uint8Array([1,2,3])) { a.push(k); }; a\"),\n      njs_str(\"0,1,2\") },\n\n    /* switch. */\n\n    { njs_str(\"switch\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"switch (1);\"),\n      njs_str(\"SyntaxError: Unexpected token \\\";\\\" in 1\") },\n\n    { njs_str(\"switch (1) { do { } while (1) }\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"do\\\" in 1\") },\n\n    { njs_str(\"switch (1) {}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"switch (1) {default:}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"switch (1) {case 0:}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"switch (1) {default:;}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"switch (1) {default:; default:}\"),\n      njs_str(\"SyntaxError: More than one default clause in switch statement in 1\") },\n\n    { njs_str(\"switch (1) {case 0:;}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 'A'; switch (a) {\"\n                 \"case 0: a += '0';\"\n                 \"case 1: a += '1';\"\n                 \"}; a\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"var a = 'A'; switch (0) {\"\n                 \"case 0: a += '0';\"\n                 \"case 1: a += '1';\"\n                 \"}; a\"),\n      njs_str(\"A01\") },\n\n    { njs_str(\"var a = 'A'; switch (0) {\"\n                 \"case 0: a += '0'; break;\"\n                 \"case 1: a += '1';\"\n                 \"}; a\"),\n      njs_str(\"A0\") },\n\n    { njs_str(\"var a = 'A'; switch (1) {\"\n                 \"case 0: a += '0';\"\n                 \"case 1: a += '1';\"\n                 \"}; a\"),\n      njs_str(\"A1\") },\n\n    { njs_str(\"var a = 'A'; switch (2) {\"\n                 \"case 0: a += '0';\"\n                 \"case 1: a += '1';\"\n                 \"default: a += 'D';\"\n                 \"}; a\"),\n      njs_str(\"AD\") },\n\n    { njs_str(\"var a = 'A'; switch (2) {\"\n                 \"case 0: a += '0';\"\n                 \"default: a += 'D';\"\n                 \"case 1: a += '1';\"\n                 \"}; a\"),\n      njs_str(\"AD1\") },\n\n    { njs_str(\"var a = 'A'; function f(x) { a += x; return 0 }\"\n                 \"switch (a) {\"\n                 \"case f(1):\"\n                 \"default:\"\n                 \"case f(2): a += 'D';\"\n                 \"case f(3): a += 'T';\"\n                 \"} a\"),\n      njs_str(\"A123DT\") },\n\n    { njs_str(\"[isNaN, undefined, isFinite].\"\n              \"map((v)=>{switch(v) { case isNaN: return 1; default: return 0;}})\"),\n      njs_str(\"1,0,0\") },\n\n    { njs_str(\"switch (1) {case 1: ii > 1; ii => default:}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"default\\\" in 1\") },\n\n    { njs_str(\"switch (1) {case 1: ii > 1; var a = functin () {default:}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"{\\\" in 1\") },\n\n    { njs_str(\"switch (1) {default: ii > 1; ii => case 2:}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"case\\\" in 1\") },\n\n    { njs_str(\"switch (1) {default: ii > 1; var a = functin () {case 2:}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"{\\\" in 1\") },\n\n    { njs_str(\"switch (1) {case 1: ii > 1; ii => case 2:}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"case\\\" in 1\") },\n\n    { njs_str(\"switch (1) {case 1: ii > 1; var a = functin () {case 2:}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"{\\\" in 1\") },\n\n    /* continue. */\n\n    { njs_str(\"continue\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 1\") },\n\n    { njs_str(\"\\n{\\ncontinue;\\n}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 3\") },\n\n    { njs_str(\"do continue while (false)\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"while\\\" in 1\") },\n\n    { njs_str(\"do continue; while (false)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"do { continue } while (false)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i = 0; do if (i++ > 9) continue; while (i < 100); i\"),\n      njs_str(\"100\") },\n\n    { njs_str(\"while (false) continue\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (false) continue;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (false) { continue }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i = 0; while (i < 100) if (i++ > 9) continue; i\"),\n      njs_str(\"100\") },\n\n    { njs_str(\"for ( ;null; ) continue\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"for ( ;null; ) continue;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"for ( ;null; ) { continue }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i; for (i = 0; i < 100; i++) if (i > 9) continue; i\"),\n      njs_str(\"100\") },\n\n    { njs_str(\"var a = [], i; for (i in a) continue\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [], i; for (i in a) continue;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [], i; for (i in a) { continue }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3,4,5]; var s = 0, i;\"\n                 \"for (i in a) { if (a[i] > 4) continue; else s += a[i] } s\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var a = [1,2,3,4,5]; var s = 0, i;\"\n                 \"for (i in a) { if (a[i] > 4) continue; s += a[i] } s\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var a; for (a = 1; a; a--) switch (a) { case 0: continue }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3], i; for (i in a) {Object.seal({})}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i; for (i in [1,2,3]) {Object.seal({});}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (0) {continue\\n}\"),\n      njs_str(\"undefined\") },\n\n    /* break. */\n\n    { njs_str(\"break\"),\n      njs_str(\"SyntaxError: Illegal break statement in 1\") },\n\n    { njs_str(\"{break}\"),\n      njs_str(\"SyntaxError: Illegal break statement in 1\") },\n\n    { njs_str(\"\\nbreak\"),\n      njs_str(\"SyntaxError: Illegal break statement in 2\") },\n\n    { njs_str(\"do break while (true)\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"while\\\" in 1\") },\n\n    { njs_str(\"do break; while (true)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"do { break } while (true)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i = 0; do if (i++ > 9) break; while (i < 100); i\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"while (true) break\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (true) break;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (true) { break }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i = 0; while (i < 100) if (i++ > 9) break; i\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"for ( ;; ) break\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"for ( ;; ) break;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"for ( ;; ) { break }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i; for (i = 0; i < 100; i++) if (i > 9) break; i\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var a = [], i; for (i in a) break\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [], i; for (i in a) break;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [], i; for (i in a) { break }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3,4,5]; var s = 0, i;\"\n                 \"for (i in a) { if (a[i] > 4) break; else s += a[i] } s\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var a = [1,2,3,4,5]; var s = 0, i;\"\n                 \"for (i in a) { if (a[i] > 4) break; s += a[i] } s\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var a = [1,2,3,4,5]; var s = 0, i;\"\n                 \"for (i in a) if (a[i] > 4) break; s += a[i]; s\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"while (0) {break\\n}\"),\n      njs_str(\"undefined\") },\n\n    /* Labels. */\n\n    { njs_str(\"var n = 0; a:{n++}; a:{n++}; n\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"a: throw 'a'\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"a\\n:\\n1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a\\n\\n:1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a:\\n\\n1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a:\\n\\n\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 3\") },\n\n    { njs_str(\"a : var n = 0; b :++n\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a:{a:1}\"),\n      njs_str(\"SyntaxError: Label \\\"a\\\" has already been declared in 1\") },\n\n    { njs_str(\"for (var i in [1]) {break b}\"),\n      njs_str(\"SyntaxError: Undefined label \\\"b\\\" in 1\") },\n\n    { njs_str(\"for (var i in [1]) {continue b}\"),\n      njs_str(\"SyntaxError: Undefined label \\\"b\\\" in 1\") },\n\n    { njs_str(\"a:{break b}\"),\n      njs_str(\"SyntaxError: Undefined label \\\"b\\\" in 1\") },\n\n    { njs_str(\"a:{continue b}\"),\n      njs_str(\"SyntaxError: Undefined label \\\"b\\\" in 1\") },\n\n    { njs_str(\"a:function name() {}\"),\n      njs_str(\"SyntaxError: In strict mode code, functions can only be declared at top level or inside a block.\") },\n\n#if 0 /* TODO */\n    { njs_str(\"a:{1; break a}\"),\n      njs_str(\"1\") },\n#endif\n\n    { njs_str(\"var a = 0; a:{a++}; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 0; a:{break a; a++}; a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var r = 0; \"\n                 \"out: for (var i in [1,2,3]) { if (i == 2) {break out;}; r++}; r\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var r = 0; \"\n                 \"out: for (var i = 0; i < 5; i++) { if (i == 2) {break out;}; r++}; r\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0; \"\n                 \"out: \"\n                 \"for (var i in [1,2,3]) { \"\n                 \"  for (var j in [1,2,3]) { \"\n                 \"    if (i == 1 && j == 1) {break;}\"\n                 \"    l2++;\"\n                 \"  }\"\n                 \"  l1++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"3,7\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0; \"\n                 \"out: \"\n                 \"for (var i in [1,2,3]) { \"\n                 \"  for (var j in [1,2,3]) { \"\n                 \"    if (i == 1 && j == 1) {break out;}\"\n                 \"    l2++;\"\n                 \"  }\"\n                 \"  l1++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"1,4\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0; \"\n                 \"out: \"\n                 \"for (var i in [1,2,3]) { \"\n                 \"  for (var j in [1,2,3]) { \"\n                 \"    if (i == 1 && j == 1) {continue out;}\"\n                 \"    l2++;\"\n                 \"  }\"\n                 \"  l1++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"2,7\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0; \"\n                 \"out: \"\n                 \"for (var i in [1,2,3]) { \"\n                 \"  l1++;\"\n                 \"  switch (i) { \"\n                 \"    case '1':\"\n                 \"      break out;\"\n                 \"    default:\"\n                 \"  }\"\n                 \"  l2++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"2,1\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0; \"\n                 \"out: \"\n                 \"for (var i in [1,2,3]) { \"\n                 \"  l1++;\"\n                 \"  switch (i) { \"\n                 \"    case '1':\"\n                 \"      continue out;\"\n                 \"    default:\"\n                 \"  }\"\n                 \"  l2++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"3,2\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0, i = 0, j; \"\n                 \"out: \"\n                 \"while (i < 3) { \"\n                 \"  j = 0;\"\n                 \"  while (j < 3) { \"\n                 \"    if (i == 1 && j == 1) {break out;}\"\n                 \"    l2++;\"\n                 \"    j++;\"\n                 \"  }\"\n                 \"  l1++;\"\n                 \"  i++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"1,4\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0, i = 0, j; \"\n                 \"out: \"\n                 \"while (i < 3) { \"\n                 \"  j = 0;\"\n                 \"  while (j < 3) { \"\n                 \"    if (i == 1 && j == 1) {i++; continue out;}\"\n                 \"    l2++;\"\n                 \"    j++;\"\n                 \"  }\"\n                 \"  l1++;\"\n                 \"  i++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"2,7\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0, i = 0, j; \"\n                 \"out: \"\n                 \"do { \"\n                 \"  j = 0;\"\n                 \"  do { \"\n                 \"    if (i == 1 && j == 1) {break out;}\"\n                 \"    l2++;\"\n                 \"    j++;\"\n                 \"  } while (j < 3)\"\n                 \"  l1++;\"\n                 \"  i++;\"\n                 \"} while (i < 3); [l1, l2]\"),\n      njs_str(\"1,4\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0, i = 0, j; \"\n                 \"out: \"\n                 \"do { \"\n                 \"  j = 0;\"\n                 \"  do { \"\n                 \"    if (i == 1 && j == 1) {i++; continue out;}\"\n                 \"    l2++;\"\n                 \"    j++;\"\n                 \"  } while (j < 3)\"\n                 \"  l1++;\"\n                 \"  i++;\"\n                 \"} while (i < 3); [l1, l2]\"),\n      njs_str(\"2,7\") },\n\n    { njs_str(\"out1: while (1) { out2: while (1) { \"\n                 \"  try { break out1; break out2; } catch (e) {}\"\n                 \"}}\"),\n      njs_str(\"InternalError: break/return instructions with different labels \"\n                 \"(\\\"out1\\\" vs \\\"out2\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"out1: while (1) { out2: while (1) { \"\n                 \"  try { } catch (e) {break out1; break out2;} finally {}\"\n                 \"}}\"),\n      njs_str(\"InternalError: break/return instructions with different labels \"\n                 \"(\\\"out1\\\" vs \\\"out2\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"out1: while (1) { out2: while (1) { \"\n                 \"  try { break out1; } catch (e) {break out2;} finally {}\"\n                 \"}}\"),\n      njs_str(\"InternalError: try break/return instructions with different labels \"\n                 \"(\\\"out1\\\" vs \\\"out2\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"out1: while (1) { out2: while (1) { \"\n                 \"  try { break out1; break out2; } finally {}\"\n                 \"}}\"),\n      njs_str(\"InternalError: break/return instructions with different labels \"\n                 \"(\\\"out1\\\" vs \\\"out2\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"out1: while (1) { out2: while (1) { \"\n                 \"  try { continue out1; continue out2; } catch (e) {}\"\n                 \"}}\"),\n      njs_str(\"InternalError: continue instructions with different labels \"\n                 \"(\\\"out1\\\" vs \\\"out2\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"out1: while (1) { out2: while (1) { \"\n                 \"  try { continue out1; } catch (e) {continue out2;} finally {}\"\n                 \"}}\"),\n      njs_str(\"InternalError: try continue instructions with different labels \"\n                 \"(\\\"out1\\\" vs \\\"out2\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"function f() {\"\n                 \"  a:{ try { try { return 'a'; } catch (e) {break a;} finally {} } \"\n                 \"      catch (e) {} finally {}; }\"\n                 \"}\"),\n      njs_str(\"InternalError: try break/return instructions with different labels \"\n                 \"(\\\"@return\\\" vs \\\"a\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"a:{ try { try { continue a; } catch (e) {} finally {} } \"\n                 \"    catch (e) {} finally {}; \"\n                 \"}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 1\") },\n\n    { njs_str(\"var i = 0, j = 0, r = 0;\"\n                 \"out1: while (i < 3) \"\n                 \"{ \"\n                 \"  i++;\"\n                 \"  out2: while (j < 3) { \"\n                 \"      j++; try { break out1; } catch (e) {} finally {r++}\"\n                 \"  }\"\n                 \"}; [i, j, r]\"),\n      njs_str(\"1,1,1\") },\n\n    { njs_str(\"var i = 0, j = 0, r = 0;\"\n                 \"out1: while (i < 3) \"\n                 \"{ \"\n                 \"  i++;\"\n                 \"  out2: while (j < 3) { \"\n                 \"      j++; try { continue out1; } catch (e) {} finally {r++}\"\n                 \"  }\"\n                 \"}; [i, j, r]\"),\n      njs_str(\"3,3,3\") },\n\n    { njs_str(\"var c=0,fin=0;\"\n                 \"try {\"\n                 \" while (c < 2) {\"\n                 \"    try { c += 1; throw 'e';}\"\n                 \"    finally { fin = 1; break;}\"\n                 \"    fin = -1;\"\n                 \"    c += 2;\"\n                 \" }\"\n                 \"} catch(e) {c = 10;}; [c, fin]\"),\n      njs_str(\"1,1\") },\n\n    /* jumping out of a nested try-catch block. */\n\n    { njs_str(\"var r = 0; \"\n                 \"function f () { try { try {return 'a';} finally { r++; }} \"\n                 \"                finally { r++; } }; \"\n                 \"[f(), r]\"),\n      njs_str(\"a,2\") },\n\n    { njs_str(\"function f(n) { \"\n                 \"  var r1 = 0, r2 = 0, r3 = 0;\"\n                 \"  a:{ try { try { \"\n                 \"              if (n == 0) { break a; } \"\n                 \"              if (n == 1) { throw 'a'; } \"\n                 \"            } \"\n                 \"            catch (e) { break a; } finally { r1++; } } \"\n                 \"      catch (e) {} \"\n                 \"      finally { r2++; } \"\n                 \"      r3++;  \"\n                 \"  }; \"\n                 \"return [r1, r2, r3]\"\n                 \"}; njs.dump([f(0), f(1), f(3)])\"),\n      njs_str(\"[[1,1,0],[1,1,0],[1,1,1]]\") },\n\n    /**/\n\n    { njs_str(\"var i; for (i = 0; i < 10; i++) { i += 1 } i\"),\n      njs_str(\"10\") },\n\n    /* Factorial. */\n\n    { njs_str(\"var n = 5, f = 1; while (n--) f *= n + 1; f\"),\n      njs_str(\"120\") },\n\n    { njs_str(\"var n = 5, f = 1; while (n) { f *= n; n-- } f\"),\n      njs_str(\"120\") },\n\n    /* Fibonacci. */\n\n    { njs_str(\"var n = 50, x, i, j, k;\"\n                 \"for(i=0,j=1,k=0; k<n; i=j,j=x,k++ ){ x=i+j } x\"),\n      njs_str(\"20365011074\") },\n\n    { njs_str(\"3 + 'abc' + 'def' + null + true + false + undefined\"),\n      njs_str(\"3abcdefnulltruefalseundefined\") },\n\n    { njs_str(\"var a = 0; do a++; while (a < 5) if (a == 5) a = 7.33 \\n\"\n                 \"else a = 8; while (a < 10) a++; a\"),\n      njs_str(\"10.33\") },\n\n    /* typeof. */\n\n    { njs_str(\"typeof null\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof undefined\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"typeof false\"),\n      njs_str(\"boolean\") },\n\n    { njs_str(\"typeof true\"),\n      njs_str(\"boolean\") },\n\n    { njs_str(\"typeof 0\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"typeof -1\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"typeof Infinity\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"typeof NaN\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"typeof 'a'\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"typeof {}\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof Object()\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof []\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof function(){}\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"typeof Object\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"typeof /./i\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof Date.prototype\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"typeof a; var a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"typeof a; var a; a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 5; typeof a\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"function f() { return typeof a } ; f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"typeof a; a\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"typeof a; a = 1\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    /**/\n\n    { njs_str(\"void 0\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"null = 1\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in assignment in 1\") },\n\n#if 0 /* ES5FIX */\n    { njs_str(\"undefined = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \"undefined\" of object\") },\n#endif\n\n    { njs_str(\"null++\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in postfix operation in 1\") },\n\n    { njs_str(\"++null\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in prefix operation in 1\") },\n\n    { njs_str(\"var a, b; b = a; a = 1; a +' '+ b\"),\n      njs_str(\"1 undefined\") },\n\n    { njs_str(\"a = 1\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"var a; a = 1; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {}; typeof a +' '+ a\"),\n      njs_str(\"object [object Object]\") },\n\n    { njs_str(\"var a = {}; a.b\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = {}; a.b = 1 + 2; a.b\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = {}; a['b']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = {}; a.b.c\"),\n      njs_str(\"TypeError: cannot get property \\\"c\\\" of undefined\") },\n\n    { njs_str(\"'a'[0]\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'a'[undefined]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'a'[null]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'a'[false]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'a'.b = 1\"),\n      njs_str(\"TypeError: property set on primitive string type\") },\n\n    { njs_str(\"'a'[2] = 1\"),\n      njs_str(\"TypeError: property set on primitive string type\") },\n\n    { njs_str(\"var a = {}; a.b = 1; a.b\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {}; a.b = 1; a.b += 2\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = {}; a.b = 1; a.b += a.b\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = {}; a.b = 1; var x = {}; x.b = 3; a.b += (x.b = 2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = {}; a.b = 1; a.b += (a.b = 2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = {}; a.b += 1\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = 1; var b = 2; a = b += 1\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 1; var b = { x:2 }; a = b.x += 1\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 1; var b = { x:2 }; a = b.x += (a = 1)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = undefined; a.b++; a.b\"),\n      njs_str(\"TypeError: cannot get property \\\"b\\\" of undefined\") },\n\n    { njs_str(\"var a = null; a.b++; a.b\"),\n      njs_str(\"TypeError: cannot get property \\\"b\\\" of undefined\") },\n\n    { njs_str(\"var a = true; a.b++; a.b\"),\n      njs_str(\"TypeError: property set on primitive boolean type\") },\n\n    { njs_str(\"var a = 1; a.b++; a.b\"),\n      njs_str(\"TypeError: property set on primitive number type\") },\n\n    { njs_str(\"var n = 1, o = { p: n += 1 }; o.p\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = {}; a.b = {}; a.b.c = 1; a.b['c']\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {}; a.b = {}; a.b.c = 1; a['b']['c']\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {}; a.b = {}; var c = 'd'; a.b.d = 1; a['b'][c]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {}; a.b = 1; var c = a.b++; a.b +' '+ c\"),\n      njs_str(\"2 1\") },\n\n    { njs_str(\"var a = 2; a.b = 1; var c = a.b++; a +' '+ a.b +' '+ c\"),\n      njs_str(\"TypeError: property set on primitive number type\") },\n\n    { njs_str(\"var x = { a: 1 }; x.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { x:1 }; var b = { y:2 }; a.x = b.y; a.x\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { x:1 }; var b = { y:2 }; var c; c = a.x = b.y\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { x:1 }; var b = { y:2 }; var c = a.x = b.y; c\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { x:1 }; var b = { y:2 }; a.x = b.y\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { x:1 }; var b = a.x = 1 + 2; a.x +' '+ b\"),\n      njs_str(\"3 3\") },\n\n    { njs_str(\"var a = { x:1 }; var b = { y:2 }; var c = {};\"\n                 \"c.x = a.x = b.y; c.x\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var y = 2, x = { a:1, b: y + 5, c:3 };\"\n                 \"x.a +' '+ x.b +' '+ x.c\"),\n      njs_str(\"1 7 3\") },\n\n    { njs_str(\"var x = { a: 1, b: { a:2, c:5 } };\"\n                 \"x.a +' '+ x.b.a +' '+ x.b.c\"),\n      njs_str(\"1 2 5\") },\n\n    { njs_str(\"var y = 5, x = { a:y }; x.a\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var x = { a: 1; b: 2 }\"),\n      njs_str(\"SyntaxError: Unexpected token \\\";\\\" in 1\") },\n\n    { njs_str(\"var x = { a: 1, b: x.a }\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\") },\n\n    { njs_str(\"var a = { b: 2 }; a.b += 1\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var o = {a:1}, c = o; o.a = o = {b:5};\"\n                 \"o.a +' '+ o.b +' '+ c.a.b\"),\n      njs_str(\"undefined 5 5\") },\n\n    { njs_str(\"var y = { a: 2 }, x = { a: 1, b: y.a }; x.a +' '+ x.b\"),\n      njs_str(\"1 2\") },\n\n    { njs_str(\"var y = { a: 1 }, x = { a: y.a++, b: y.a++ }\\n\"\n                 \"x.a +' '+ x.b +' '+ y.a\"),\n      njs_str(\"1 2 3\") },\n\n    { njs_str(\"var a='', o = {a:1, b:2}, p;\"\n                 \"for (p in o) { a += p +':'+ o[p] +',' } a\"),\n      njs_str(\"a:1,b:2,\") },\n\n    { njs_str(\"var x = { a: 1 }, b = delete x.a; x.a +' '+ b\"),\n      njs_str(\"undefined true\") },\n\n    /* Object shorthand property. */\n\n    { njs_str(\"var a = 1; njs.dump({a})\"),\n      njs_str(\"{a:1}\") },\n\n    { njs_str(\"var a = 1, b; njs.dump({a,b})\"),\n      njs_str(\"{a:1,b:undefined}\") },\n\n    { njs_str(\"var a = 1, b = 2; ({a,b,c})\"),\n      njs_str(\"ReferenceError: \\\"c\\\" is not defined\") },\n\n    { njs_str(\"var a = 1, b = 2; njs.dump({a,b,c:3})\"),\n      njs_str(\"{a:1,b:2,c:3}\") },\n\n    { njs_str(\"var b = 2, c = 3; njs.dump({a:1,b,c})\"),\n      njs_str(\"{a:1,b:2,c:3}\") },\n\n    { njs_str(\"({1})\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"({default})\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"({var})\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"({this})\"),\n        njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"typeof ({Number}).Number\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"typeof ({eval}).eval\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"typeof ({Math}).Math.sin\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"delete null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a; delete a\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"delete undefined\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"delete this !== true\"),\n      njs_str(\"false\") },\n\n    /* Object shorthand methods. */\n\n    { njs_str(\"var o = {m(){}}; new o.m();\"),\n      njs_str(\"TypeError: function is not a constructor\") },\n\n    { njs_str(\"var o = {sum(a, b){return a + b;}}; o.sum(1, 2)\"),\n      njs_str(\"3\") },\n\n    /* Object computed property. */\n\n    { njs_str(\"var o = { [0]: 1, [-0]: 2 }; o[0];\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var k = 'abc'.split('');var o = {[k[0]]: 'baz'}; o.a\"),\n      njs_str(\"baz\") },\n\n    { njs_str(\"var k = {}; var o = {[k]() {return 'baz'}}; o[k]()\"),\n      njs_str(\"baz\") },\n\n    { njs_str(\"njs.dump({[{toString(){return 'xx'}}]:1})\"),\n      njs_str(\"{xx:1}\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'toString', {value:()=>'xx'});\"\n                 \"njs.dump({[o]:1})\"),\n      njs_str(\"{xx:1}\") },\n\n    { njs_str(\"({[{toString(){return {}}}]:1})\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"var o = { [new Number(12345)]: 1000 }; o[12345]\"),\n      njs_str(\"1000\") },\n\n    { njs_str(\"delete NaN\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"delete Infinity\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"delete -Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete (1/0)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = []; delete a[1]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {}; [delete o.m, delete o.m]\"),\n      njs_str(\"true,true\") },\n\n    { njs_str(\"[delete Array.nonexistent, delete Array.Array]\"),\n      njs_str(\"true,true\") },\n\n    { njs_str(\"var a; delete (a = 1); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"delete a\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"var a = 1; delete a\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"function f(){} delete f\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"var a = { x:1 }; ('x' in a) +' '+ (1 in a)\"),\n      njs_str(\"true false\") },\n\n    { njs_str(\"delete --[][1]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1,2]; delete a.length\"),\n      njs_str(\"TypeError: Cannot delete property \\\"length\\\" of array\") },\n\n    { njs_str(\"var a = [1,2,3]; a.x = 10;  delete a[1]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.create({a:1}); o.a = 2; delete o.a; o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"delete Array.name\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete Math.max\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete Math.max.length\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function f(a,b) {} \"\n                 \"[f.length, delete f.length, f.length, delete f.length]\"),\n      njs_str(\"2,true,0,true\") },\n\n    { njs_str(\"njs.dump({break:1,3:2,'a':4,\\\"b\\\":2,true:1,null:0})\"),\n      njs_str(\"{break:1,3:2,a:4,b:2,true:1,null:0}\") },\n\n    { njs_str(\"var o1 = {a:1,b:2}, o2 = {c:3}; o1.a + o2.c\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"({[]:1})\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"]\\\" in 1\") },\n\n    { njs_str(\"({'AB\\\\ncd':1})['AB\\\\ncd']\"),\n      njs_str(\"1\") },\n\n    /* Inheritance. */\n\n    { njs_str(\"function Foo() {this.bar = 10;}; Foo.prototype.bar = 42; \"\n                 \"var v = new Foo(); delete v.bar; v.bar\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"function Cl(x,y) {this.x = x; this.y = y}; \"\n                 \"var c = new Cl('a', 'b'); Cl.prototype.z = 1; c.z\"),\n      njs_str(\"1\") },\n\n    /**/\n\n    { njs_str(\"delete Math.E\"),\n      njs_str(\"TypeError: Cannot delete property \\\"E\\\" of object\") },\n\n    { njs_str(\"Math.E = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"E\\\" of object\") },\n\n    /* \"in\" operation. */\n\n    { njs_str(\"var o = { 'a': 1, 'b': 2 }; var i; \"\n                 \"for (i in o) { delete o.a; delete o.b; }; njs.dump(o)\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"var o  = {}; Object.defineProperty(o, 'a', {value:1, configurable:1}); \"\n                 \"delete o.a; o.a=2; o.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = {}; 1 in a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'a' in {a:1}\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol.unscopables in { [Symbol.unscopables]: 1 }\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object(Symbol.toStringTag) in Math\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'1' in [0,,2]\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {get:()=>und}); 'a' in o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {value:1}); ({toString(){return 'a'}}) in o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'a' in Object.create({a:1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[false, NaN, '', Symbol()]\"\n              \".map((x) => { \"\n              \"    try { 'toString' in x; } \"\n              \"    catch (e) { return e instanceof TypeError ? e.message : ''; } \"\n              \"})\"\n              \".every((x) => x.startsWith('property \\\"in\\\" on primitive'))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var p = new String('test');\"\n              \"p.toString = () => { throw new Error('failed') };\"\n              \"p in 1\"),\n      njs_str(\"TypeError: property \\\"in\\\" on primitive number type\") },\n\n    { njs_str(\"var n = { toString: function() { return 'a' } };\"\n                 \"var o = { a: 5 }; o[n]\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var n = { valueOf: function() { return 'a' } };\"\n                 \"var o = { a: 5, '[object Object]': 7 }; o[n]\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var o = {}; o.new = 'OK'; o.new\"),\n      njs_str(\"OK\") },\n\n    { njs_str(\"var o = { new: 'OK'}; o.new\"),\n      njs_str(\"OK\") },\n\n    /* Arrays */\n\n    /* Empty array to primitive. */\n\n    { njs_str(\"3 + []\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"3 * []\"),\n      njs_str(\"0\") },\n\n    /* Single element array to primitive. */\n\n    { njs_str(\"3 + [5]\"),\n      njs_str(\"35\") },\n\n    { njs_str(\"3 * [5]\"),\n      njs_str(\"15\") },\n\n    /* Array to primitive. */\n\n    { njs_str(\"3 + [5,7]\"),\n      njs_str(\"35,7\") },\n\n    { njs_str(\"3 * [5,7]\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = [ 1, 2, 3 ]; a[0] + a[1] + a[2]\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [ 1, 2, 3 ]; a[-1] = 4; a + a[-1]\"),\n      njs_str(\"1,2,34\") },\n\n    { njs_str(\"var a = [ 1, 2, 3 ]; a[4294967295] = 4; a + a[4294967295]\"),\n      njs_str(\"1,2,34\") },\n\n    { njs_str(\"var a = [ 1, 2, 3 ]; a[4294967296] = 4; a + a[4294967296]\"),\n      njs_str(\"1,2,34\") },\n\n    { njs_str(\"delete[]['4e9']\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var n = 1, a = [ n += 1 ]; a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [ 1, 2; 3 ]; a[0] + a[1] + a[2]\"),\n      njs_str(\"SyntaxError: Unexpected token \\\";\\\" in 1\") },\n\n    { njs_str(\"var a = [ 1, 2, 3 ]; a[0] +' '+ a[1] +' '+ a[2] +' '+ a[3]\"),\n      njs_str(\"1 2 3 undefined\") },\n\n    { njs_str(\"var a = [ 5, 6, 7 ]; a['1']\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [ 5, 6, 7 ]; a['01']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [ 5, 6, 7 ]; a[0x1]\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [ 5, 6, 7 ]; a['0x1']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"[] - 2\"),\n      njs_str(\"-2\") },\n\n    { njs_str(\"[1] - 2\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[[1]] - 2\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[[[1]]] - 2\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = []; a - 2\"),\n      njs_str(\"-2\") },\n\n    { njs_str(\"var a = [1]; a - 2\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = []; a[0] = 1; a - 2\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[] + 2 + 3\"),\n      njs_str(\"23\") },\n\n    { njs_str(\"[1] + 2 + 3\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var a = []; a + 2 + 3\"),\n      njs_str(\"23\") },\n\n    { njs_str(\"var a = [1]; a + 2 + 3\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var a = [1,2], i = 0; a[i++] += a[0] = 5 + i;\"\n                 \"a[0] +' '+ a[1]\"),\n      njs_str(\"7 2\") },\n\n    { njs_str(\"var a = []; a[0] = 1; a + 2 + 3\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var a = []; a['0'] = 1; a + 2 + 3\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var a = []; a[2] = 1; a[2]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1, 2]; 1 in a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1, 2]; 2 in a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = [1, 2]; delete a[0]; 0 in a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = [ function(a) {return a + 1} ]; a[0](5)\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var s = '', a = [5,1,2], i;\"\n                 \"a[null] = null;\"\n                 \"a[undefined] = 'defined';\"\n                 \"a[false] = false;\"\n                 \"a[true] = true;\"\n                 \"a[-0] = 0;\"\n                 \"a[Infinity] = Infinity;\"\n                 \"a[-Infinity] = -Infinity;\"\n                 \"a[NaN] = NaN;\"\n                 \"a[-NaN] = -NaN;\"\n                 \"for (i in a) { s += i +':'+ a[i] +',' } s\"),\n      njs_str(\"0:0,1:1,2:2,null:null,undefined:defined,false:false,\"\n                 \"true:true,Infinity:Infinity,-Infinity:-Infinity,NaN:NaN,\") },\n\n    { njs_str(\"--[][3e9]\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"[].length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[1,2].length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1,2]; a.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"[\\n1]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"\\n[\\n1\\n]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"\\n[\\n1\\n,\\n2]\\n[\\n0]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.create([1,2]).length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Object.create(['\u03b1','\u03b2'])[1]\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"Object.create(['\u03b1','\u03b2'])[false]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = ['abc']; var o = Object.create(a); o[0] = 32;\"\n                 \"[a,o[0]]\"),\n      njs_str(\"abc,32\") },\n\n    /* Array.length setter */\n\n    { njs_str(\"[].length = {}\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"[].length = 2**32 - 1\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"var a = []; a.length = 2**32 - 1; a.length\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"[].length = 3e9\"),\n      njs_str(\"3000000000\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, 'length',{value: 2**32 - 1}); a.length\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"[].length = 2**32\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"[].length = 2**32 + 1\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"[].length = -1\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var a = [1];\"\n                 \"typeof (a.length = '') == 'string' && a.length == 0\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1]; \"\n                 \"typeof (a.length = Object(2)) == 'object' && a.length == 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1]; \"\n                 \"typeof (a.length = Object('2')) == 'object'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1]; \"\n                 \"a.length = { valueOf: () => 2 }; a.length == 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1]; \"\n                 \"a.length = { toString: () => '2' }; a.length == 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = []; a.length = 0; JSON.stringify(a)\"),\n      njs_str(\"[]\") },\n\n    { njs_str(\"var a = []; a.length = 1; JSON.stringify(a)\"),\n      njs_str(\"[null]\") },\n\n    { njs_str(\"var a = [1]; a.length = 1; JSON.stringify(a)\"),\n      njs_str(\"[1]\") },\n\n    { njs_str(\"var a = [1]; a.length = 2; JSON.stringify(a)\"),\n      njs_str(\"[1,null]\") },\n\n    { njs_str(\"var a = [1]; a.length = 4; a.length = 0; JSON.stringify(a)\"),\n      njs_str(\"[]\") },\n\n    { njs_str(\"var a = [1,2,3]; a.length = 2; JSON.stringify(a)\"),\n      njs_str(\"[1,2]\") },\n\n    { njs_str(\"var a = [1,2,3]; a.length = 3; a\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var a = [1,2,3]; a.length = 16; a\"),\n      njs_str(\"1,2,3,,,,,,,,,,,,,\") },\n\n    { njs_str(\"var a = [1,2,3]; a.join()\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var a = [1,2,3]; a.join(':')\"),\n      njs_str(\"1:2:3\") },\n\n    { njs_str(\"[\"\n              \"  [],\"\n              \"  ['\u03b2', '\u03b3'],\"\n              \"]\"\n              \".map(v=>{v.length = 2**14+1; var out = v.join('\u03b1'); return [out[0], out[out.length - 1],out.length]})\"\n              \".map(v=>njs.dump(v))\"),\n      njs_str(\"['\u03b1','\u03b1',16384],['\u03b2','\u03b1',16386]\") },\n\n    { njs_str(\"[\"\n              \"  '\u03b1'.repeat(33),\"\n              \"  String.bytesFrom(Array(16).fill(0x9d)),\"\n              \"]\"\n              \".map(v=>{var out = ['\u03b2', '\u03b3'].join(v); return out.length})\"),\n      njs_str(\"35,20\") },\n\n    { njs_str(\"[\"\n              \"  [],\"\n              \"  ['\u03b2', '\u03b3'],\"\n              \"  [NaN, Math.pow(2,123.2), Infinity, -1],\"\n              \"  [new String('\u03b2'),{toString(){return '\u03b3'}}],\"\n              \"]\"\n              \".map(v=>{var out = v.join('\u03b1'); return [out, out[out.length - 1],out.length]})\"\n              \".map(v=>njs.dump(v))\"),\n      njs_str(\"['',undefined,0],\"\n              \"['\u03b2\u03b1\u03b3','\u03b3',3],\"\n              \"['NaN\u03b11.2215056097393134e+37\u03b1Infinity\u03b1-1','1',38],\"\n              \"['\u03b2\u03b1\u03b3','\u03b3',3]\") },\n\n    { njs_str(\"var a = ['\u03b2','\u03b3']; a.join('').length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = ['\u03b2', String.bytesFrom([0x9d]),'\u03b3']; a.join('').length\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a = []; a[5] = 5; a.join()\"),\n      njs_str(\",,,,,5\") },\n\n    { njs_str(\"var a = [,null,undefined,false,true,0,1]; a.join()\"),\n      njs_str(\",,,false,true,0,1\") },\n\n    { njs_str(\"var o = { toString: function() { return null } };\"\n              \"[o].join()\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"var o = { toString: function() { return undefined } };\"\n              \"[o].join()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [0,,2,3];\"\n              \"Object.defineProperty(Array.prototype, 1, {get: ()=> {a[32] = 32; return 1}, configurable:true});\"\n              \"a.join()\"),\n    njs_str(\"0,1,2,3\") },\n\n    { njs_str(\"Array.prototype.join.call(new Uint8Array([0,1,2]))\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var a = []; a[5] = 5; a\"),\n      njs_str(\",,,,,5\") },\n\n    { njs_str(\"var a = []; a.concat([],[1],[])\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = []; a[Symbol.isConcatSpreadable] = undefined; [].concat(a).length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, Symbol.isConcatSpreadable, {get:()=>{throw 'Oops'}}); \"\n              \"[].concat(a)\"),\n      njs_str(\"Oops\") },\n\n    { njs_str(\"var a = [].concat([1,2,3], {length:3, 1:4, 2:5, [Symbol.isConcatSpreadable]:1});\"\n              \"njs.dump([a, a.length])\"),\n      njs_str(\"[[1,2,3,<empty>,4,5],6]\") },\n\n    { njs_str(\"njs.dump([].concat([1,2,3], {length:3, 1:4, 2:5}))\"),\n      njs_str(\"[1,2,3,{length:3,1:4,2:5}]\") },\n\n    { njs_str(\"Array.prototype[1] = 1; var x = [0]; x.length = 2; \"\n              \"x.concat().hasOwnProperty('1') === true\"),\n      njs_str(\"true\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 64)\n              \"a[32] = 1; a = a.concat([1]);\"\n              \"njs.dump([a[0], a[32],a.length])\"),\n      njs_str(\"[undefined,1,65]\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 64)\n              \"a[32] = 1; a = [1].concat(a);\"\n              \"njs.dump([a[0], a[33],a.length])\"),\n      njs_str(\"[1,1,65]\") },\n\n    { njs_str(\"var re = /abc/; re[Symbol.isConcatSpreadable] = true;\"\n              \"re[0] = 1, re[1] = 2, re[2] = 3, re.length = 3;\"\n              \"[].concat(re)\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var s = new String('yuck\\\\uD83D\\\\uDCA9'); s[Symbol.isConcatSpreadable] = true;\"\n              \"[].concat(s)\"),\n      njs_str(\"y,u,c,k,\ud83d\udca9\") },\n\n    { njs_str(\"var s = { toString: function() { return 'S' } };\"\n                 \"var v = { toString: 8, valueOf: function() { return 'V' } };\"\n                 \"var o = [9]; o.join = function() { return 'O' };\"\n                 \"var a = [1,2,3,[4,5,6],s,v,o]; a.join('')\"),\n      njs_str(\"1234,5,6SVO\") },\n\n    { njs_str(\"var s = { toString: function() { return 'S' } };\"\n                 \"var v = { toString: 8, valueOf: function() { return 'V' } };\"\n                 \"var o = [9]; o.join = function() { return 'O' };\"\n                 \"var a = [1,2,3,[4,5,6],s,v,o]; a\"),\n      njs_str(\"1,2,3,4,5,6,S,V,O\") },\n\n    /* Array.toString(). */\n\n    { njs_str(\"var a = [1,2,3]; a.join = 'NO';\"\n                 \"Object.prototype.toString = function () { return 'A' }; a\"),\n      njs_str(\"[object Array]\") },\n\n    { njs_str(\"Array.prototype.toString.call(1)\"),\n      njs_str(\"[object Number]\") },\n\n    { njs_str(\"Array.prototype.toString.call('abc')\"),\n      njs_str(\"[object String]\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 32769)\n              \"var s = a.toString(); [s.length]\"),\n      njs_str(\"32768\") },\n\n    /* Empty array elements. */\n\n    { njs_str(\"[,,]\"),\n      njs_str(\",\") },\n\n    { njs_str(\"[,,,]\"),\n      njs_str(\",,\") },\n\n    { njs_str(\"[1,2,]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"[1,2,,3]\"),\n      njs_str(\"1,2,,3\") },\n\n    { njs_str(\"[,,].length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"[,,,].length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"[1,2,,3].length\"),\n      njs_str(\"4\") },\n\n    /**/\n\n    { njs_str(\"var n = { toString: function() { return 1 } };   [1,2][n]\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var n = { toString: function() { return '1' } }; [1,2][n]\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var n = { toString: function() { return 1 },\"\n                          \" valueOf:  function() { return 0 } };   [1,2][n]\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var n = { toString: function() { return 1.5 } };\"\n                 \"var a = [1,2]; a[1.5] = 5; a[n]\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var n = { toString: function() { return 1.5 } };\"\n                 \"var a = [1,2]; a[n] = 5; a[1.5]\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var n = { toString: function() { return '1.5' } };\"\n                 \"var a = [1,2]; a[1.5] = 5; a[n]\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var n = { toString: function() { return '1.5' } };\"\n                 \"var a = [1,2]; a[n] = 5; a[1.5]\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var n = { toString: function() { return 1.5 } };\"\n                 \"var a = [1,2]; a[1.5] = 5; n in a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var n = { toString: function() { return '1.5' } };\"\n                 \"var a = [1,2]; a[1.5] = 5; '' + (n in a) + (delete a[n])\"),\n      njs_str(\"truetrue\") },\n\n    /**/\n\n    { njs_str(\"Array.isArray()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Array.isArray(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Array.isArray(1) ? 'true' : 'false'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Array.isArray([])\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.isArray([]) ? 'true' : 'false'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.of()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.of(1,2,3)\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"Array.of(undefined,1)\"),\n      njs_str(\",1\") },\n\n    { njs_str(\"Array.of(NaN,-1,{})\"),\n      njs_str(\"NaN,-1,[object Object]\") },\n\n    { njs_str(\"var a = [1,2,3]; a.concat(4, [5, 6, 7], 8)\"),\n      njs_str(\"1,2,3,4,5,6,7,8\") },\n\n    { njs_str(\"var a = []; a[100] = a.length; a[100] +' '+ a.length\"),\n      njs_str(\"0 101\") },\n\n    { njs_str(\"var a = [1,2]; a[100] = 100; a[100] +' '+ a.length\"),\n      njs_str(\"100 101\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, 'length', {writable:0});\"\n              \"Object.getOwnPropertyDescriptor(a, 'length').writable\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, 'length', {writable:0});\"\n              \"Object.defineProperty(a, 'length', {writable:true})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"length\\\"\") },\n\n    { njs_str(\"[1, 2, 3, 4, 5].copyWithin(0, 3)\"),\n      njs_str(\"4,5,3,4,5\") },\n\n    { njs_str(\"[1, 2, 3, 4, 5].copyWithin(0, 3, 4)\"),\n      njs_str(\"4,2,3,4,5\") },\n\n    { njs_str(\"[1, 2, 3, 4, 5].copyWithin(0, -2, -1)\"),\n      njs_str(\"4,2,3,4,5\") },\n\n    { njs_str(\"[1, 2, 3, 4, 5].copyWithin(100, 200, 500)\"),\n      njs_str(\"1,2,3,4,5\") },\n\n    { njs_str(\"[0, 1, , , 1].copyWithin(0, 1, 4)\"),\n      njs_str(\"1,,,,1\") },\n\n    { njs_str(\"[0, 1, 2, 3].copyWithin(0, 1, -10)\"),\n      njs_str(\"0,1,2,3\") },\n\n    { njs_str(\"var o = [0, 1, , , 1].copyWithin(0, 1, 4); typeof o\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"[].copyWithin.call({length: 5, 3: 1}, 0, 3)\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var o = [1, 2, 3, 4]; Object.defineProperties(o, { 5: {value: 'abc'}});\"\n              \"[].copyWithin.call(o, 0, 3, 4);\"),\n      njs_str(\"4,2,3,4,,abc\") },\n\n    { njs_str(\"var obj = {length: 5, 3: 1}; [].copyWithin.call(obj, 0, 3);\"\n              \"Object.keys(obj)\"),\n      njs_str(\"length,3,0\") },\n\n    { njs_str(\"var obj = {length: 5, 1: 'a', 2: 'b', 3: 'c', 4: 'd', 5: 'e'};\"\n              \"[].copyWithin.call(obj, 0, -2, -1);\"\n              \"Object.keys(obj) + '|' + Object.values(obj)\"),\n      njs_str(\"length,1,2,3,4,5,0|5,a,b,c,d,e,c\") },\n\n    { njs_str(\"var o = {length:1}; Object.defineProperty(o, '0', {get:()=>{throw Error('Oops')}});\"\n              \"Array.prototype.copyWithin.call(o, 0, 0)\"),\n      njs_str(\"Error: Oops\") },\n\n    { njs_str(\"Array.prototype.slice(1)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype.slice(1,2)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype.slice.call(undefined)\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"Array.prototype.slice.call(1)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype.slice.call(false)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype.slice.call({'0':'a', '1':'b', length:1})\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"Array.prototype.slice.call({'0':'a', '1':'b', length:2})\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"Array.prototype.slice.call({'0':'a', '1':'b', length:4})\"),\n      njs_str(\"a,b,,\") },\n\n    { njs_str(\"Array.prototype.slice.call({'0':'a', '1':'b', length:2}, 1)\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"Array.prototype.slice.call({'0':'a', '1':'b', length:2}, 1, 2)\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"Array.prototype.slice.call({length:'2'})\"),\n      njs_str(\",\") },\n\n    { njs_str(\"njs.dump(Array.prototype.slice.call({length: 3, 1: undefined }))\"),\n      njs_str(\"[<empty>,undefined,<empty>]\") },\n\n    { njs_str(\"Array.prototype.slice.call({length:new Number(3)})\"),\n      njs_str(\",,\") },\n\n    { njs_str(\"Array.prototype.slice.call({length: { valueOf: function() { return 2; } }})\"),\n      njs_str(\",\") },\n\n    { njs_str(\"Array.prototype.slice.call({ length: Object.create(null) })\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"Array.prototype.slice.call({length:-1})\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype[1] = 1; var x = [0]; x.length = 2;\"\n              \"var a = x.slice(); a.hasOwnProperty('1')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3')\"),\n      njs_str(\"\u03b1,\u03b2,Z,\u03b3\") },\n\n    { njs_str(\"Array.prototype.slice.call(String.bytesFrom(Array(16).fill(0x9d)))[0].charCodeAt(0)\"),\n      njs_str(\"157\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3', 1)\"),\n      njs_str(\"\u03b2,Z,\u03b3\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3', 2)\"),\n      njs_str(\"Z,\u03b3\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3', 3)\"),\n      njs_str(\"\u03b3\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3', 4)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3', 0, 1)\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3', 1, 2)\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3').length\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3')[1].length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Array.prototype.slice.call(new String('\u03b1\u03b2Z\u03b3'))\"),\n      njs_str(\"\u03b1,\u03b2,Z,\u03b3\") },\n\n    { njs_str(\"1..__proto__.length = '2';\"\n                 \"Array.prototype.slice.call(1, 0, 2)\"),\n      njs_str(\",\") },\n\n    { njs_str(\"var a = [1, /**/, 3, 4];\"\n              \"Object.defineProperty(a.__proto__, 1, {\"\n              \"    get: () => {\"\n              \"        a.length = 10**6;\"\n              \"        return 2;\"\n              \"    }\"\n              \"});\"\n              \"a.slice(1)\"),\n      njs_str(\"2,3,4\") },\n\n    { njs_str(\"Array.prototype.pop()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': 3};\"\n              \"Array.prototype.pop.call(o); var res = o.length;\"\n              \"Array.prototype.forEach.call(o, (v) => {res += ', ' + v}); res\"),\n      njs_str(\"2, a, b\") },\n\n    { njs_str(\"var obj = {}; obj.pop = Array.prototype.pop; obj.pop(); obj.length === 0\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.prototype[1] = 1; [0,,].pop()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Array.prototype[1] = 1; var a = [0,,]; a.pop(); a.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.prototype[1] = 1; Object.prototype.length = 2; Array.prototype.pop.call({0:0})\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = Object.freeze({0: 0, 1: 1, length: 2}); Array.prototype.pop.call(o)\"),\n      njs_str(\"TypeError: Cannot delete property \\\"1\\\" of object\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"try {Array.prototype.pop.call(o);}\"\n              \"catch (e) {i += '; ' + e} i\"),\n      njs_str(\"1; TypeError: Cannot set property \\\"length\\\" of object which has only a getter\") },\n\n    { njs_str(\"Array.prototype.pop.call({ length: 3 })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = { length: 3 }; Array.prototype.pop.call(o); o.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 16)\n              \"a[a.length - 1] = 'z'; a[a.length -2] = 'y';\"\n              \"Array.prototype.pop.call(a); [a.length, a[a.length - 1]]\"),\n      njs_str(\"15,y\") },\n\n    { njs_str(\"[0,1].slice()\"),\n      njs_str(\"0,1\") },\n\n    { njs_str(\"[1,2,3,,,4].slice()\"),\n      njs_str(\"1,2,3,,,4\") },\n\n    { njs_str(\"[0,1].slice(undefined)\"),\n      njs_str(\"0,1\") },\n\n    { njs_str(\"[0,1].slice(undefined, undefined)\"),\n      njs_str(\"0,1\") },\n\n    { njs_str(\"[0,1,2,3,4].slice(1,4)\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[0,1,2,3,4].slice(6,7)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var a = [1,2,3,4,5], b = a.slice(3);\"\n              \"b[0] +' '+ b[1] +' '+ b[2]\"),\n      njs_str(\"4 5 undefined\") },\n\n    { njs_str(\"var a = [1,2]; a.pop() +' '+ a.length +' '+ a\"),\n      njs_str(\"2 1 1\") },\n\n    { njs_str(\"var a = [1,2], len = a.push(3); len +' '+ a.pop() +' '+ a\"),\n      njs_str(\"3 3 1,2\") },\n\n    { njs_str(\"var a = [1,2], len = a.push(3,4,5);\"\n              \"len +' '+ a.pop() +' '+ a\"),\n      njs_str(\"5 5 1,2,3,4\") },\n\n    { njs_str(\"var x = {'0': 'a', '1': 'b', '2': 'c', 'length': 3};\"\n              \"Array.prototype.push.call(x, 'x', 'y', 'z', 123) +' '+ x[0] +' '+ x.length\"),\n      njs_str(\"7 a 7\") },\n\n    { njs_str(\"var x = {'0': 'a', '1': 'b', '2': 'c', 'length': 3}; var a = [];\"\n              \"Array.prototype.push.call(x, 'x', 'y', 'z', 123);\"\n              \"Array.prototype.forEach.call(x, (v) => a.push(v)); a\"),\n      njs_str(\"a,b,c,x,y,z,123\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"try {Array.prototype.push.call(o);}\"\n              \"catch (e) {i += '; ' + e} i\"),\n      njs_str(\"1; TypeError: Cannot set property \\\"length\\\" of object which has only a getter\") },\n\n    { njs_str(\"var x = []; x.length = 4294967295; var push = x.push(); push === 4294967295\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = []; x.length = 4294967295; x.push(); x.push(1)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var x = []; x.length = 4294967295; x.push(); \"\n              \"try {x.push('x')} catch (e) {}; x[4294967295]\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"var x = []; x.length = 4294967295; x.push(); \"\n              \"try {x.push('x')} catch (e) {}; x.length\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"[\"\n              \" [2**53-2, [1]],\"\n              \" [2**53-2, [1,2]],\"\n              \" [2**53-1, [1]],\"\n              \" [2**53, []],\"\n              \" [Number.POSITIVE_INFINITY, []],\"\n              \"]\"\n              \".map(args=>{ try {return Array.prototype.push.apply({length:args[0]}, args[1])}\"\n              \"             catch (e) {return e.name} })\"),\n      njs_str(\"9007199254740991,TypeError,TypeError,9007199254740991,9007199254740991\") },\n\n    { njs_str(\"Array.prototype.shift()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3]; a.shift() +' '+ a[0] +' '+ a.length\"),\n      njs_str(\"1 2 2\") },\n\n    { njs_str(\"Array.prototype[0] = 1; var x = [,2]; x.length = 2; x.shift()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var x = {'0': 'x', '1': 'y', '2': 'z', 'length': 3};\"\n              \"Array.prototype.shift.call(x) +' '+ x[0] +' '+ x.length\"),\n      njs_str(\"x y 2\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"try {Array.prototype.shift.call(o);}\"\n              \"catch (e) {i += '; ' + e} i\"),\n      njs_str(\"1; TypeError: Cannot set property \\\"length\\\" of object which has only a getter\") },\n\n    { njs_str(\"var a = [1,2], len = a.unshift(3);\"\n                 \"len +' '+ a +' '+ a.shift()\"),\n      njs_str(\"3 3,1,2 3\") },\n\n    { njs_str(\"var a = [1,2], len = a.unshift(3,4,5);\"\n                 \"len +' '+ a +' '+ a.shift()\"),\n      njs_str(\"5 3,4,5,1,2 3\") },\n\n    { njs_str(\"var x = {'0': 'x', '1': 'y', '2': 'z', 'length': 3}; var a = [];\"\n              \"Array.prototype.unshift.call(x, 'a', 'b', 'c');\"\n              \"Array.prototype.forEach.call(x, (v) => a.push(v)); a + ', ' + x.length\"),\n      njs_str(\"a,b,c,x,y,z, 6\") },\n\n    { njs_str(\"var x = {}; x.length = 1; var a = [];\"\n              \"Array.prototype.unshift.call(x, 'a', 'b', 1025, 'c', 'oh my');\"\n              \"Array.prototype.forEach.call(x, (v) => a.push(v)); a + ', ' + x.length\"),\n      njs_str(\"a,b,1025,c,oh my, 6\") },\n\n    { njs_str(\"var x = {5: 1, 6: 2, length: 7}; var a = [];\"\n              \"Array.prototype.unshift.call(x, '0');\"\n              \"Array.prototype.forEach.call(x, (v) => a.push(v)); a + ', ' + x.length\"),\n      njs_str(\"0,1,2, 8\") },\n\n    { njs_str(\"var x = {5: 2, 10: 3, 11: 4, 12: 5, 20: 6, length: 21}; var a = [];\"\n              \"Array.prototype.unshift.call(x, '0', '1');\"\n              \"Array.prototype.forEach.call(x, (v, k) => a.push(k + ':' + v)); a + ', ' + x.length\"),\n      njs_str(\"0:0,1:1,7:2,12:3,13:4,14:5,22:6, 23\") },\n\n    { njs_str(\"var x = {0: 0, length: 2**32-2};\"\n              \"Array.prototype.unshift.call(x, '0', '1'); Object.keys(x).sort()\"),\n      njs_str(\"0,1,2,length\") },\n\n    { njs_str(\"var x = {0: 0, length: 2**53-3};\"\n              \"Array.prototype.unshift.call(x, '0', '1'); x.length\"),\n      njs_str(\"9007199254740991\") },\n\n    { njs_str(\"var x = {0: 0}; Array.prototype.unshift.call(x); x.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var obj = {'10000000': 'x', '10000001': 'y', '10000002': 'z'}; var a = [];\"\n              \"obj.length = 90000000;\"\n              \"Array.prototype.unshift.call(obj, 'a', 'b', 'c');\"\n              \"Array.prototype.forEach.call(obj, (v) => a.push(v)); a\"),\n      njs_str(\"a,b,c,x,y,z\")},\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"try {Array.prototype.unshift.call(o);}\"\n              \"catch (e) {i += '; ' + e} i\"),\n      njs_str(\"1; TypeError: Cannot set property \\\"length\\\" of object which has only a getter\") },\n\n    { njs_str(\"var a=[0], n = 64; while(--n) {a.push(n); a.shift()}; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Array.prototype.shift.call({ length: 3 })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = { length: 3 }; Array.prototype.shift.call(o); o.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1,2,3];\"\n              \"Object.defineProperty(a, '1', {enumerable:false});\"\n              \"a.shift(); a\"),\n      njs_str(\"2,3\") },\n\n    { njs_str(\"var a = []; a.splice()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"[].splice(0,5,0)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"[1,2,3,4,5].splice(-2,3,0)\"),\n      njs_str(\"4,5\") },\n\n    { njs_str(\"[].__proto__.splice(0,1,0)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var a = [];\"\n                 \"a.splice(9,0,1,2).join(':') + '|' + a\"),\n      njs_str(\"|1,2\") },\n\n    { njs_str(\"var a = [0,1,2,3,4,5,6,7];\"\n                 \"a.splice(3).join(':') + '|' + a\"),\n      njs_str(\"3:4:5:6:7|0,1,2\") },\n\n    { njs_str(\"var a = [0,1,2,3,4,5,6,7];\"\n                 \"a.splice(3, 2).join(':') + '|' + a\"),\n      njs_str(\"3:4|0,1,2,5,6,7\") },\n\n    { njs_str(\"var a = [0,1,2,3,4,5,6,7];\"\n                 \"a.splice(3, 2, 8, 9, 10, 11 ).join(':') + '|' + a\"),\n      njs_str(\"3:4|0,1,2,8,9,10,11,5,6,7\") },\n\n    { njs_str(\"[\"\n              \" [],\"\n              \" [1],\"\n              \" [1, 2],\"\n              \" [1, 2, 'a'],\"\n              \" [1, 2, 'a', 'b'],\"\n              \" [1, 2, 'a', 'b', 'c'],\"\n              \"]\"\n              \".map(args=>{var a = [0,1,3,4,5]; a.splice.apply(a, args); return a})\"\n              \".map(v=>v.join(''))\"),\n      njs_str(\"01345,0,045,0a45,0ab45,0abc45\") },\n\n    { njs_str(\"[\"\n              \" [],\"\n              \" [1],\"\n              \" [1, 1, 'a'],\"\n              \" [1, 2, 'a'],\"\n              \" [1, 2, 'a', 'b'],\"\n              \" [1, 2, 'a', 'b', 'c'],\"\n              \"]\"\n              \".map(args=>{var a = [0,1,3,4,5]; return a.splice.apply(a, args);})\"\n              \".map(v=>v.join(''))\"),\n      njs_str(\",1345,1,13,13,13\") },\n\n    { njs_str(\"Object.prototype.splice = Array.prototype.splice;\"\n              \"Object.prototype.join = Array.prototype.join;\"\n              \"[\"\n              \" [],\"\n              \" [1],\"\n              \" [1, 2],\"\n              \" [1, 1, 'a'],\"\n              \" [1, 2, 'a'],\"\n              \" [1, 2, 'a', 'b'],\"\n              \" [1, 2, 'a', 'b', 'c'],\"\n              \"]\"\n              \".map(args=>{var a = {0:0, 1:1, 2:3, 3:4, 4:5, length:5};\"\n              \"            a.splice.apply(a, args); return a})\"\n              \".map(v=>v.join(''))\"),\n      njs_str(\"01345,0,045,0a345,0a45,0ab45,0abc45\") },\n\n    { njs_str(\"Object.prototype.splice = Array.prototype.splice;\"\n              \"Object.prototype.join = Array.prototype.join;\"\n              \"[\"\n              \" [],\"\n              \" [1],\"\n              \" [1, 0, 'a'],\"\n              \" [1, 1, 'a'],\"\n              \" [1, 2, 'a'],\"\n              \" [1, 2, 'a', 'b'],\"\n              \" [1, 2, 'a', 'b', 'c'],\"\n              \"]\"\n              \".map(args=>{var a = {0:0, 1:1, 2:3, 3:4, 4:5, length:5};\"\n              \"            return a.splice.apply(a, args);})\"\n              \".map(v=>v.join(''))\"),\n      njs_str(\",1345,,1,13,13,13\") },\n\n    { njs_str(\"var o = { toString: () => {\"\n              \"             for (var i = 0; i < 0x10; i++) {a.push(1)};\"\n              \"             return {};\"\n              \"}};\"\n              \"var a = [o];\"\n              \"a.join()\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"Array.prototype.splice.call({0:0,1:1,2:2,3:3,length:4},0,3,4,5)\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var obj = {0:0,1:1,2:2,3:3,length:4};\"\n              \"Array.prototype.splice.call(obj,0,3,4,5); obj[3]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var obj = {4294967294: 'x', length:-1};\"\n              \"Array.prototype.splice.call(obj, 4294967294, 1); obj.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var obj = {0:0, 1:1, 2:2};\"\n              \"Object.defineProperty(obj, 'length', {value:3, writable:false});\"\n              \"Array.prototype.splice.call(obj, 1, 2, 4)\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"length\\\" of object\") },\n\n    { njs_str(\"var obj = {'9007199254740988': 'A', '9007199254740989': 'B',\"\n              \"           '9007199254740990': 'C', '9007199254740991': 'D', \"\n              \"           length: 2 ** 53 + 2};\"\n              \"Array.prototype.splice.call(obj, 2**53-3, 2 ** 53 + 4)\"),\n      njs_str(\"B,C\") },\n\n    { njs_str(\"var obj = {'9007199254740988': 'A', '9007199254740989': 'B',\"\n              \"           '9007199254740990': 'C', '9007199254740991': 'D', \"\n              \"           length: 2 ** 53 + 2};\"\n              \"Array.prototype.splice.call(obj, 2**53-3, 2 ** 53 + 4);\"\n              \"obj['9007199254740988'] == 'A' && obj['9007199254740991'] == 'D'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var obj = {'9007199254740990': 'A', '9007199254740991': 'B',\"\n              \"           length: 2 ** 53 - 1};\"\n              \"Array.prototype.splice.call(obj, 2**53-2, 1, 'C');\"\n              \"obj['9007199254740990'] == 'C' && obj['9007199254740991'] == 'B'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var obj = {'9007199254740990': 'A', '9007199254740991': 'B',\"\n              \"           length: 2 ** 53 - 1};\"\n              \"Array.prototype.splice.call(obj, 2**53-2, 0, 'C');\"),\n      njs_str(\"TypeError: Invalid length\") },\n\n    { njs_str(\"var a = []; a.reverse()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var a = [1]; a.reverse()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1,2]; a.reverse()\"),\n      njs_str(\"2,1\") },\n\n    { njs_str(\"var a = [1,2,3]; a.reverse()\"),\n      njs_str(\"3,2,1\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.reverse()\"),\n      njs_str(\"4,3,2,1\") },\n\n    { njs_str(\"[1,2,3,,,].reverse()\"),\n      njs_str(\",,3,2,1\") },\n\n    { njs_str(\"[,2,3,,,].reverse()\"),\n      njs_str(\",,3,2,\") },\n\n    { njs_str(\"[,,,3,2,1].reverse()\"),\n      njs_str(\"1,2,3,,,\") },\n\n    { njs_str(\"var a = [,,2,1];\"\n              \"Object.defineProperty(a.__proto__, 0, {\"\n              \"    get: () => {\"\n              \"        a.length = 10**6;\"\n              \"        return 4;\"\n              \"    },\"\n              \"    set: (setval) => { Object.defineProperty(a, 0, { value: setval }); },\"\n              \"});\"\n              \"a.reverse();\"\n              \"a.slice(0, 4)\"),\n      njs_str(\"1,2,,4\") },\n\n    { njs_str(\"var o = {1:true, 2:'', length:-2}; Array.prototype.reverse.call(o) === o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[\"\n              \" ['a','b','c'],\"\n              \" ['a','b','c','d'],\"\n              \" [,'b','c','d'],\"\n              \" ['a','b','c',],\"\n              \" [,'b','c',],\"\n              \"]\"\n              \".map(v=>Object.defineProperty(v, 1, {value:v[1], enumerable:false}))\"\n              \".map(v=>v.reverse().join(''))\"),\n      njs_str(\"cba,dcba,dcb,cba,cb\") },\n\n    { njs_str(\"Array.prototype[1] = 1; var x = [0]; x.length = 2; x.reverse(); x\"),\n      njs_str(\"1,0\") },\n\n    { njs_str(\"Array.prototype[0] = 0; var x = [,1]; x.reverse(); x\"),\n      njs_str(\"1,0\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.indexOf()\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.indexOf(5)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.indexOf(4, 3)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.indexOf(4, 4)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.indexOf(3, '2')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.indexOf(4, -1)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.indexOf(3, -10)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"[].indexOf.bind(0)(0, 0)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var o = 'abcd';\"\n              \"Array.prototype.indexOf.call(o, 'c')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"Array.prototype.indexOf.call(o, 'd')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"Array.prototype.indexOf.call(o); i\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = new Array(); a[100] =1; a[99999] = ''; a[10] = new Object(); \"\n              \"a[5555] = 5.5; a[123456] = 'str'; a[5] = 1E+309; \"\n              \"[1, '', 'str', 1E+309, 5.5, true, 5, 'str1', null, new Object()].map(v=>a.indexOf(v))\"),\n      njs_str(\"100,99999,123456,5,5555,-1,-1,-1,-1,-1\") },\n\n    { njs_str(\"Array.prototype.indexOf.call({199:true, 200:'200.59', length:200}, '200.59')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Array.prototype.indexOf.call({199:true, 200:'200.59', length:201}, '200.59')\"),\n      njs_str(\"200\") },\n\n    { njs_str(\"Array.prototype.indexOf.call({1:true, 2:'200.59', length:2}, '200.59')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Array.prototype.indexOf.call({1:true, 2:'200.59', length:3}, '200.59')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var stopped = 0;\"\n              \"var o = {length:3}; \"\n              \"Object.defineProperty(o, '1',{get:()=>{throw 'Oops'}});\"\n              \"Object.defineProperty(o, '2', {get:()=>stopped++});\"\n              \"try { Array.prototype.indexOf.call(o, 7)} catch (e) {};\"\n              \"stopped\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[].lastIndexOf(1, -1)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[undefined].lastIndexOf()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[undefined].lastIndexOf(undefined)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.lastIndexOf()\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.lastIndexOf(5)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(1, 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(3, '2')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(1, 6)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(2, 6)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(4, -1)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(4, -6)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(3, -10)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[1,2,3].lastIndexOf(1, -5.3)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[1,2,1].lastIndexOf(2,undefined)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[1,2,1].lastIndexOf(1,undefined)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[1,2,1].lastIndexOf(1)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var stopped = 0;\"\n              \"var o = {length:3}; \"\n              \"Object.defineProperty(o, '1', {get:()=>stopped++});\"\n              \"Object.defineProperty(o, '2',{get:()=>{throw 'Oops'}});\"\n              \"try { Array.prototype.lastIndexOf.call(o)} catch (e) {};\"\n              \"stopped\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var o = 'addc';\"\n              \"Array.prototype.lastIndexOf.call(o, 'd')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = 'dddd';\"\n              \"Array.prototype.lastIndexOf.call(o, 'd')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var o = 'dabc';\"\n              \"Array.prototype.lastIndexOf.call(o, 'd')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var o = '\u0410\u0411\u0412\u0413';\"\n              \"Array.prototype.lastIndexOf.call(o, '\u0413')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var o = '\u0413\u0412\u0411\u0410';\"\n              \"Array.prototype.lastIndexOf.call(o, '\u0413')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var o = '\u0412\u0413\u0411\u0410';\"\n              \"Array.prototype.lastIndexOf.call(o, '\u0413')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'd', 2: 'd'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"Array.prototype.lastIndexOf.call(o, 'd')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = new Array(); a[100] =1; a[99999] = ''; a[10] = new Object(); \"\n              \"a[5555] = 5.5; a[123456] = 'str'; a[5] = 1E+309; \"\n              \"[1,'', 'str', 1E+309, 5.5, true, 5, 'str1', null, new Object()].map(v=>a.lastIndexOf(v))\"),\n      njs_str(\"100,99999,123456,5,5555,-1,-1,-1,-1,-1\") },\n\n    { njs_str(\"var obj = {'10000000': 'x', '10000001': 'y', '10000002': 'z'}; var a = [];\"\n              \"obj.length = 90000000;\"\n              \"Array.prototype.lastIndexOf.call(obj, 'y');\"),\n      njs_str(\"10000001\")},\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"Array.prototype.lastIndexOf.call(o); i\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Array.prototype.lastIndexOf.call({199:true, 200:'200.59', length:200}, '200.59')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Array.prototype.lastIndexOf.call({0:'undefined', length:0}, 'undefined')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[''].lastIndexOf.call('00000000000000000000000000000\u043000')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var o = '\u0413\u0412\u0411\u0410';\"\n              \"Array.prototype.lastIndexOf.call(o, '\u0413', 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var o = '\u0413\u0412\u0411\u0410';\"\n              \"Array.prototype.lastIndexOf.call(o, '\u0413', 4)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[1,2,3,4].includes()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[1,2,3,4].includes(5)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[1,2,3,4].includes(4, 3)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3,4].includes(4, 4)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[1,2,3,4,3,4].includes(3, '2')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3,4,3,4].includes(4, -1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3,4,3,4].includes(3, -10)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3,NaN,3,4].includes(NaN)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3,4,5].includes(NaN)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[].includes.bind(0)(0, 0)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"Array.prototype.includes.call(o, 'd')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var obj = {'0': 'a', '1': 'b', '10000000': 'c', '10000001': 'd', '10000002': 'e'};\"\n              \"var fromIndex = 1;\"\n              \"obj.length = 90000000;\"\n              \"Array.prototype.includes.call(obj, 'c', fromIndex);\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var obj = {'0': 'a', '1': 'b', '10000000': 'c', '10000001': 'd', '10000002': 'e'};\"\n              \"var fromIndex = 1;\"\n              \"obj.length = 90000000;\"\n              \"Array.prototype.includes.call(obj, 'a', fromIndex);\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var stopped = 0;\"\n              \"var o = {length:3}; \"\n              \"Object.defineProperty(o, '1',{get:()=>{throw 'Oops'}});\"\n              \"Object.defineProperty(o, '2', {get:()=>stopped++});\"\n              \"try { Array.prototype.includes.call(o, 7)} catch (e) {};\"\n              \"stopped\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = []; var s = { sum: 0 };\"\n                 \"a.forEach(function(v, i, a) { this.sum += v }, s); s.sum\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = new Array(3); var s = { sum: 0 };\"\n                 \"a.forEach(function(v, i, a) { this.sum += v }, s); s.sum\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [,,,]; var s = { sum: 0 };\"\n                 \"a.forEach(function(v, i, a) { this.sum += v }, s); s.sum\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1,2,3]; var s = { sum: 0 };\"\n                 \"a.forEach(function(v, i, a) { this.sum += v }, s); s.sum\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [1,2,3];\"\n                 \"a.forEach(function(v, i, a) { a[i+3] = a.length }); a\"),\n      njs_str(\"1,2,3,3,4,5\") },\n\n    { njs_str(\"function f() { var c; [1].forEach(function(v) { c })}; f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3]; var s = { sum: 0 };\"\n                 \"[].forEach.call(a, function(v, i, a) { this.sum += v }, s);\"\n                 \"s.sum\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [1,2,3]; var s = { sum: 0 };\"\n                 \"[].forEach.apply(a,\"\n                                  \"[ function(v, i, a) { this.sum += v }, s ]);\"\n                 \"s.sum\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = []; var c = 0;\"\n                 \"a.forEach(function(v, i, a) { c++ }); c\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [,,,,]; var c = 0;\"\n                 \"a.forEach(function(v, i, a) { c++ }); c\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"var r = ''; Array.prototype.forEach.call(o, function(v, i, a) { r += v }); r\"),\n      njs_str(\"abcd\") },\n\n    { njs_str(\"var s = 't'; var t = '';\"\n              \"Array.prototype.forEach.call(s, function (a, b, c) {t = typeof c;}); [t, typeof s];\"),\n      njs_str(\"object,string\") },\n\n    { njs_str(\"[].some(function(v) { return v > 1 })\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[11].some(function(v) { return 5 })\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3].some(function(v) { return v > 1 })\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3].some(function(v) { return v > 2 })\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3].some(function(v) { return v > 3 })\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': { valueOf: function() { return 3 }}};\"\n              \"var r = Array.prototype.some.call(o, function(el, i, arr) {return el == 'c'}); r\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'd', 'length': { valueOf: function() { return 3 }}};\"\n              \"var r = Array.prototype.some.call(o, function(el, i, arr) {return el == 'c'}); r\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"var r = Array.prototype.some.call(o, function(v, i, a) { return v === 'd' }); r\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[].every(function(v) { return v > 1 })\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var accessed = false;\"\n              \"[1].every((v) => {accessed = true; return 0; }) === false && accessed === true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[3,2,1].every(function(v) { return v > 3 })\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[3,2,1].every(function(v) { return v > 2 })\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[3,2,1].every(function(v) { return v > 0 })\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {0: 'c', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.every.call(o, function(el, i, arr) {return el == 'c'}); r\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {0: 'c', 1: 'c', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.every.call(o, function(el, i, arr) {return el == 'c'}); r\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var obj = new Date(); obj.length = 1; obj[0] = 1;\"\n              \"Array.prototype.every.call(obj, (val,idx,obj)=>!(obj instanceof Date))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Array.prototype.every.call({0:11,1:9,length:2**32+1}, val=>val>10)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var vis = false; var a = []; \"\n              \"Object.defineProperty(a, '0', {get:()=>{vis = true; return 11;}, configurable:true});\"\n              \"Object.defineProperty(a, '1', {get:()=>{if (vis) {return 9;} else {return 11}}, configurable:true});\"\n              \"a.every(val=>val > 10)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {0: 'x', 1: 'y', 2: 'z'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'a'});\"\n              \"var r = Array.prototype.some.call(o, function(v, i, a) { return v === 'a' }); r\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'b'});\"\n              \"var r = Array.prototype.some.call(o, function(v, i, a) { return v === 'y' }); r\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[].fill(1);\"),\n      njs_str(\"\") },\n\n    { njs_str(\"[1,2,3].fill(5);\"),\n      njs_str(\"5,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, 0);\"),\n      njs_str(\"5,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1);\"),\n      njs_str(\"1,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, 4);\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[1,2,3].fill(5, -2);\"),\n      njs_str(\"1,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, -3);\"),\n      njs_str(\"5,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, -4);\"),\n      njs_str(\"5,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, 0);\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, 1);\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, 2);\"),\n      njs_str(\"1,5,3\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, 3);\"),\n      njs_str(\"1,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, 4);\"),\n      njs_str(\"1,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, -1);\"),\n      njs_str(\"1,5,3\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, -3);\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, -4);\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[1,2,3].fill(\\\"a\\\", 1, 2);\"),\n      njs_str(\"1,a,3\") },\n\n    { njs_str(\"[1,2,3].fill({a:\\\"b\\\"}, 1, 2);\"),\n      njs_str(\"1,[object Object],3\") },\n\n    { njs_str(\"Array(3).fill().reduce(function(a, x)\"\n                                 \"{ return a + (x === undefined); }, 0)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = Array.prototype.fill.apply(\"\n                 \"Object({length: 40}), [\\\"a\\\", 1, 20]); Object.values(a)\"),\n      njs_str(\"a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,40,a,a,a,a\") },\n\n    { njs_str(\"var a = Array.prototype.fill.apply({length: \"\n                 \"{ valueOf: function() { return 40 }}}, [\\\"a\\\", 1, 20]);\"\n                 \"Object.values(a)\"),\n      njs_str(\"a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,[object Object],a,a,a,a\") },\n\n    { njs_str(\"[NaN, false, ''].map(\"\n                 \"(x) => Array.prototype.fill.call(x)\"\n                 \").every((x) => typeof x == 'object')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'length', {get:()=>2}); \"\n                 \"Array.prototype.slice.call(Array.prototype.fill.call(o, 1))\"),\n      njs_str(\"1,1\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'length', {get:()=>'0x0002'}); \"\n                 \"Array.prototype.slice.call(Array.prototype.fill.call(o, 1))\"),\n      njs_str(\"1,1\") },\n\n    { njs_str(\"Array.prototype.slice.call({length:2**32})\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"Array.prototype.slice.call({0:'x', [2**32-1]:'y',length:2**32}, 0, 2**32)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"Array.prototype.slice.call({length:2**32+2, [2**32]:'x', [2**32+1]:'y'}, 2**32)\"),\n      njs_str(\"x,y\") },\n\n    { njs_str(\"Array.prototype.slice.call({length:2**53+2, [2**53-3]:'x', [2**53-2]:'y', [2**53-1]:'z'}, 2**53-3)\"),\n      njs_str(\"x,y\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'length', {get:()=> {throw TypeError('Boom')}}); \"\n                 \"Array.prototype.fill.call(o, 1)\"),\n      njs_str(\"TypeError: Boom\") },\n\n    { njs_str(\"var o = Object({length: 3});\"\n                 \"Object.defineProperty(o, '0', {set: ()=>{throw TypeError('Boom')}});\"\n                 \"Array.prototype.fill.call(o, 1)\"),\n      njs_str(\"TypeError: Boom\") },\n\n    { njs_str(\"var o = Object({length: 3});\"\n                 \"Object.defineProperty(o, '0', {set: function(v){this.a = 2 * v}});\"\n                 \"Array.prototype.fill.call(o, 2).a\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"ArrayBuffer()\"),\n      njs_str(\"TypeError: Constructor ArrayBuffer requires 'new'\") },\n\n    { njs_str(\"new ArrayBuffer()\"),\n      njs_str(\"[object ArrayBuffer]\") },\n\n    { njs_str(\"ArrayBuffer.prototype.constructor.name === 'ArrayBuffer'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"ArrayBuffer.prototype.constructor()\"),\n      njs_str(\"TypeError: Constructor ArrayBuffer requires 'new'\") },\n\n    { njs_str(\"ArrayBuffer.name\"),\n      njs_str(\"ArrayBuffer\") },\n\n    { njs_str(\"ArrayBuffer[Symbol.species]\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"ArrayBuffer.prototype[Symbol.toStringTag]\"),\n      njs_str(\"ArrayBuffer\") },\n\n    { njs_str(\"var desc = Object.getOwnPropertyDescriptor(ArrayBuffer,\"\n              \"Symbol.species); desc.get\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"var ctor = ArrayBuffer[Symbol.species]; var a = new ctor(100);\"\n              \"a.byteLength;\"),\n      njs_str(\"100\") },\n\n    { njs_str(\"var a = new ArrayBuffer(); a.byteLength\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = new ArrayBuffer.prototype.constructor(10); a.byteLength\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var get = Object.getOwnPropertyDescriptor(ArrayBuffer.prototype, 'byteLength').get;\"\n              \"get.call([])\"),\n      njs_str(\"TypeError: Method ArrayBuffer.prototype.byteLength called on incompatible receiver\") },\n\n    { njs_str(\"[undefined, 1, 10, 1000, null, NaN, false, {}, [1,2,3], Object(1),'10',\"\n              \" -1, -Infinity, Infinity, 2**50]\"\n              \".map(v=>{ var a; try { a = new ArrayBuffer(v) } catch (e) {return e.name} return a.byteLength})\"),\n      njs_str(\"0,1,10,1000,0,0,0,0,0,1,10,RangeError,RangeError,RangeError,RangeError\") },\n\n    { njs_str(\"var buffer = new ArrayBuffer(16);\"\n              \"[[4,12], [-1,-1], [-1,10], [0, -1], [0, -16], [0,-17]]\"\n              \".map(pr=>buffer.slice(pr[0], pr[1]).byteLength)\"),\n      njs_str(\"8,0,0,15,0,0\") },\n\n    { njs_str(\"[false,NaN,1]\"\n              \".map(v=>(new Uint8Array(v)).length)\"),\n      njs_str(\"0,0,1\") },\n\n#define NJS_TYPED_ARRAY_LIST \"[Uint8Array,Uint8ClampedArray,Int8Array,\"     \\\n                             \" Uint16Array,Int16Array,Uint32Array,\"         \\\n                             \" Int32Array, Float32Array,Float64Array]\"\n\n#define NJS_INT_TYPED_ARRAY_LIST   \"[Uint8Array,Uint8ClampedArray,Int8Array,\" \\\n                                   \" Uint16Array,Int16Array,Uint32Array,\"     \\\n                                   \" Int32Array]\"\n\n#define NJS_FLOAT_TYPED_ARRAY_LIST \"[Float32Array,Float64Array]\"\n\n    { njs_str(\"var TypedArray = Object.getPrototypeOf(Uint8Array);\"\n              \"[TypedArray.name, TypedArray.length]\"),\n      njs_str(\"TypedArray,0\") },\n\n    { njs_str(\"Object.getPrototypeOf(Uint8Array)()\"),\n      njs_str(\"TypeError: Abstract class TypedArray not directly constructable\") },\n\n    { njs_str(\"var TypedArray = Object.getPrototypeOf(Uint8Array);\"\n              NJS_TYPED_ARRAY_LIST\n              \".every(v=>Object.getPrototypeOf(v) === TypedArray)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var TypedArray = Object.getPrototypeOf(Uint8Array);\"\n              NJS_TYPED_ARRAY_LIST\n              \".every(v=>Object.getPrototypeOf(v.prototype) === TypedArray.prototype)\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v.prototype.constructor(0); \"\n              \"           return njs.dump(a) === `${v.name} []`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var global = this;\"\n              NJS_TYPED_ARRAY_LIST\n              \".every(v=>ArrayBuffer.isView(new global[v.name]))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var global = this;\"\n              NJS_TYPED_ARRAY_LIST\n              \".every(v=>global[v.name][Symbol.species].name === v.name)\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v({length:2, '0':1, '1':2}); \"\n              \"           return a[0] == 1 && a[1] == 2 && a.length == 2})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{try{ new v({length:Math.pow(2,53)}) } \"\n              \"           catch(e) {return e.name == 'InternalError' || e.name == 'RangeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v({length:5, 0: null, 2:42, 3:'7', 4:NaN, 5:Symbol('1')}); \"\n              \"           return njs.dump(a) === `${v.name} [0,NaN,42,7,NaN]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var o = {length:2, '0':1}; Object.defineProperty(o, '1', {get(){throw 'Oops'}});\"\n              \"           try {new v(o)} catch (e) { return e == 'Oops'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(3); Object.defineProperty(a, '1', {value:1});\"\n              \"           return njs.dump(a) === `${v.name} [0,1,0]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,1,1]); Object.defineProperty(a, '1', {});\"\n              \"           return njs.dump(a) === `${v.name} [1,1,1]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{try {var a = new v([1,1]); Object.defineProperty(a, '1', {configurable:true})} \"\n              \"           catch (e) { return e.message == 'Cannot redefine property: \\\"1\\\"'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{try {var a = new v([1,1]); Object.defineProperty(a, '1', {enumerable:false})} \"\n              \"           catch (e) { return e.message == 'Cannot redefine property: \\\"1\\\"'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{try {var a = new v([1,1]); Object.defineProperty(a, '1', {writable:false})} \"\n              \"           catch (e) { return e.message == 'Cannot redefine property: \\\"1\\\"'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{try {var a = new v([1,1]); Object.defineProperty(a, '1', {get(){return 22}})} \"\n              \"           catch (e) { return e.message == 'Cannot redefine property: \\\"1\\\"'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(3);\"\n              \"           return [a.hasOwnProperty('1'), a.hasOwnProperty('4')].toString() === 'true,false'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var descs = Object.getOwnPropertyNames(v).sort().toString(); \"\n              \"           return descs === 'BYTES_PER_ELEMENT,length,name,prototype'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map(v=>{var a = new ArrayBuffer(8); return (new v(a).length)})\"),\n      njs_str(\"8,8,8,4,4,2,2,2,1\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map(v=>{var a = new v(1); a[0]--; return a[0]})\"),\n      njs_str(\"255,0,-1,65535,-1,4294967295,-1,-1,-1\") },\n\n    { njs_str(NJS_NOT_CANONICAL_INDICES\n              \".every(v=>{var a = new Uint8Array([1,2]); return a[v] === undefined})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_NOT_CANONICAL_INDICES\n              \".map(v=>{var a = new Uint8Array([1,2]); a[v] = 'a'; return a[v]})\"),\n      njs_str(\"a,,a,a,a,,,,,a\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{v.prototype[10] = 'foo'; return (new v(16))[10] === 0})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{v.prototype[20] = 'foo'; return (new v(16))[20] === undefined})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{v.prototype.foo = 'bar'; return (new v(16)).foo === 'bar'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{v.prototype[-1] = 'foo'; return (new v(8))[-1] === undefined})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map(v=>v.BYTES_PER_ELEMENT)\"),\n      njs_str(\"1,1,1,2,2,4,4,4,8\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>v.length === 3)\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(1); return --a[0] == -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.of(); return njs.dump(a) === `${v.name} []`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.of(1); return njs.dump(a) === `${v.name} [1]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.of(1,2,3,4,5); return njs.dump(a) === `${v.name} [1,2,3,4,5]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ try{ v.of(Symbol()); } catch (e) { return e.name === 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ try{ v.of.call(()=>1); } catch (e) { return e.name === 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ try{ v.of.call(function(){}); } catch (e) { return e.name === 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.from([1,2]); return njs.dump(a) === `${v.name} [1,2]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.from([1,2], v=>2*v); return njs.dump(a) === `${v.name} [2,4]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.from([1,2], function(v){return v * this.m}, {m:3}); \"\n              \"           return njs.dump(a) === `${v.name} [3,6]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.from([1,2], function(v){return v * this.m}, {m:3}); \"\n              \"           return njs.dump(a) === `${v.name} [3,6]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.from({length:3, 0:1, 2:'a'});\"\n              \"           return njs.dump(a) === `${v.name} [1,0,0]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.from({length:3, 0:1, 2:'a'});\"\n              \"           return njs.dump(a) === `${v.name} [1,NaN,NaN]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(4); a.fill(42); return (a[0] === 42 && a.length == 4)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(1); a.fill({}); return a[0] === 0})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(1); a.fill({}); return isNaN(a[0])})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); a.fill({valueOf(){return 12}}, 1,2); \"\n              \"       return (a[0] === 1 && a[1] === 12 && a[2] === 3 && a.length == 3)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([0,0,0,0,0]).fill(8, -1, -3); \"\n              \"       return njs.dump(a) === `${v.name} [0,0,0,0,0]`;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); a.fill('qq', 1, 2); \"\n              \"       return (a[0] === 1 && a[1] === 0 && a[2] === 3 && a.length == 3)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); a.fill('qq', 1, 2); \"\n              \"       return (a[0] === 1 && isNaN(a[1]) && a[2] === 3 && a.length == 3)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); var d = Object.getOwnPropertyDescriptors(a)[1];\"\n              \"       return (d.value === 2 && d.writable && d.enumerable && !d.configurable)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); return Object.keys(a).toString() === '0,1,2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); return Object.values(a).toString() === '1,2,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); return Object.entries(a).toString() === '0,1,1,2,2,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{try {delete (new v(1))[0]} catch (e) { return e.name == 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return delete (new v(1))[-1]; })\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(8), b = new v(a.buffer); a[0] = 42; return b[0] === 42})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint8Array([1,2,3]);\"\n              \"     try { return new v(init.buffer, 0, 2)} catch (e) {return e.name}})\"),\n      njs_str(\"1,2,1,2,1,2,RangeError,RangeError,RangeError,RangeError\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint8Array([1,2,3]);\"\n              \"     try { return new v(init.buffer, 1)} catch (e) {return e.name}})\"),\n      njs_str(\"2,3,2,3,2,3,RangeError,RangeError,RangeError,RangeError\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint32Array([0xaabbccdd]);\"\n              \"     try { return new v(init.buffer, 0, 2)} catch (e) {return e.name}})\"),\n      njs_str(njs_evar(\"221,204,221,204,-35,-52,52445,43707,-13091,-21829,RangeError,RangeError\",\n                       \"170,187,170,187,-86,-69,43707,52445,-21829,-13091,RangeError,RangeError\")) },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint32Array([0xaabbccdd]);\"\n              \"     try { return new v(init.buffer, 1, 2)} catch (e) {return e.name}})\"),\n      njs_str(njs_evar(\"204,187,204,187,-52,-69,RangeError,RangeError,RangeError,RangeError\",\n                       \"187,204,187,204,-69,-52,RangeError,RangeError,RangeError,RangeError\")) },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint32Array([0xaabbccdd,0xdeadbeef]);\"\n              \"     try { return new v(init.buffer, 0, 2)} catch (e) {return e.name}})\"),\n      njs_str(njs_evar(\"221,204,221,204,-35,-52,52445,43707,-13091,-21829,\"\n                       \"2864434397,3735928559,-1430532899,-559038737\",\n                       \"170,187,170,187,-86,-69,43707,52445,-21829,-13091,\"\n                       \"2864434397,3735928559,-1430532899,-559038737\")) },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var buffer1 = new ArrayBuffer(8 * v.BYTES_PER_ELEMENT);\"\n              \"           var ta1 = new v(buffer1);\"\n              \"           var ta2 = new v(ta1.buffer, 4 * v.BYTES_PER_ELEMENT); \"\n              \"           ta1[5] = 100; ta1[7] = 101;\"\n              \"           return ta2.toString() === '0,100,0,101'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([42,11]); return a.toString() === '42,11'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(3); a[1] = 42; return a.toString() === '0,42,0'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(0); return a.toString() === ''})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([42,11]); return a.join('|') === '42|11'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([42,11]); return a.join('\u03b1').length === 5})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return njs.dump(new v()) === `${v.name} []`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return njs.dump(new v([42,11])) === `${v.name} [42,11]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = new Uint8Array(8); var b = new Uint32Array(a.buffer);\"\n              \"a[0] = 0xff; a[1] = 0xff; a[2] = 0xff; a[3] = 0xff; b[0];\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"[1,300,-100]\"\n              \".map(v=>{var a = new Uint8Array(1); a[0] = v; return a[0];})\"),\n      njs_str(\"1,44,156\") },\n\n    { njs_str(\"[1,300,-100]\"\n              \".map(v=>{var a = new Uint8ClampedArray(1); a[0] = v; return a[0];})\"),\n      njs_str(\"1,255,0\") },\n\n    { njs_str(\"[1,300,-100]\"\n              \".map(v=>{var a = new Uint8ClampedArray(1); a.set([v], 0); return a[0];})\"),\n      njs_str(\"1,255,0\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2,3,4]; var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,3,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:4, 0:1,1:2,2:3,3:4}; var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,3,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2,3,4]); var a = new v(init);\"\n              \"           return a.toString() === '1,2,3,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2,3,4]); var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,3,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:2, 0:1,1:2}; var a = new v(4);\"\n              \"           a.set(init,2); return a.toString() === '0,0,1,2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:4, 0:1,1:2,3:4}; var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,0,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:4, 0:1,1:2,3:4}; var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,NaN,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2,3]; var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,3,0'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2,3]); var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,3,0'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2,3,4]; var a = new v(4);\"\n              \"           a.set(init, 0); return a.toString() === '1,2,3,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2]; var a = new v(4);\"\n              \"           a.set(init, 2); return a.toString() === '0,0,1,2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2]); var a = new v(4);\"\n              \"           a.set(init,2); return a.toString() === '0,0,1,2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2,3,4]; var a = new v(4);\"\n              \"           try {a.set(init,2)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2,3,4]; var a = new v(4);\"\n              \"           try {a.set(init,Infinity)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2,3,4,5]; var a = new v(4);\"\n              \"           try {a.set(init)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:5}; var a = new v(4);\"\n              \"           try {a.set(init)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:3}; var a = new v(4);\"\n              \"           try {a.set(init,2)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:3}; var a = new v(4);\"\n              \"           try {a.set(init,Infinity)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2,3,4,5]); var a = new v(4);\"\n              \"           try {a.set(init)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2,3]); var a = new v(4);\"\n              \"           try {a.set(init,2)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2,3]); var a = new v(4);\"\n              \"           try {a.set(init,Infinity)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[-1,-1.00001,-Infinity]\"\n              \".every(v=>{ try {(new Uint8Array(10)).set([], v)} catch (ee) {return ee.name === 'RangeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[0.1,2.5,{},{'1': '10'},[1000]]\"\n              \".map(v=>{var a = new Uint8Array(1); a.set([v], 0); return a[0]})\"),\n      njs_str(\"0,2,0,0,232\") },\n\n    { njs_str(\"[1.0, -1234.0]\"\n              \".map(v=>{var a = new Float32Array(1); a[0] = v; var b = new Uint8Array(a.buffer);\"\n              \"         return (b[0] << 24 | b[1] << 16| b[2] <<8 | b[3]).toString(16).padStart(8, '0');})\"),\n      njs_str(njs_evar(\"0000803f,00409ac4\",\n                       \"3f800000,-3b65c000\")) },\n\n    { njs_str(\"var a = new ArrayBuffer(0); a.slice(0, 0).byteLength\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = new ArrayBuffer(10); a.slice(1).byteLength\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"var a = new ArrayBuffer(10); a.slice(1,2).byteLength\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = new ArrayBuffer(10); a.slice(0,-1).byteLength\"),\n      njs_str(\"9\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map(v=>{var buffer = new ArrayBuffer(8); var view = new v(buffer);\"\n              \"         view[0] = 511; return new Uint8Array(buffer.slice(0,4))})\"),\n      njs_str(njs_evar(\"255,0,0,0,255,0,0,0,255,0,0,0,255,1,0,0,255,1,\"\n                       \"0,0,255,1,0,0,255,1,0,0,0,128,255,67,0,0,0,0\",\n                       \"255,0,0,0,255,0,0,0,255,0,0,0,1,255,0,0,1,255,0,0,\"\n                       \"0,0,1,255,0,0,1,255,67,255,128,0,64,127,240,0\")) },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map(v=>{var buffer = new ArrayBuffer(8); var view = new v(buffer);\"\n              \"         view[view.length - 1] = 511; return new Uint8Array(buffer.slice(4))})\"),\n      njs_str(njs_evar(\"0,0,0,255,0,0,0,255,0,0,0,255,0,0,255,1,0,0,255,1,\"\n                       \"255,1,0,0,255,1,0,0,0,128,255,67,0,240,127,64\",\n                       \"0,0,0,255,0,0,0,255,0,0,0,255,0,0,1,255,0,0,1,255,\"\n                       \"0,0,1,255,0,0,1,255,67,255,128,0,0,0,0,0\")) },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map(v=>{var buffer = new ArrayBuffer(8); var view = new v(buffer);\"\n              \"         view[0] = 511; return new Uint8Array(buffer.slice(0,-4))})\"),\n      njs_str(njs_evar(\"255,0,0,0,255,0,0,0,255,0,0,0,255,1,0,0,255,1,0,0,\"\n                       \"255,1,0,0,255,1,0,0,0,128,255,67,0,0,0,0\",\n                       \"255,0,0,0,255,0,0,0,255,0,0,0,1,255,0,0,1,255,0,0,\"\n                       \"0,0,1,255,0,0,1,255,67,255,128,0,64,127,240,0\")) },\n\n    { njs_str(\"var a = new Uint8Array(10); var b = a.slice(1); b.length\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"var a = new Uint8Array(10); var b = a.slice(0,9); b.length\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"var a = new Uint8Array(10); var b = a.slice(9,10); b.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = new Uint8Array(10); var b = a.slice(); b.length\"),\n      njs_str(\"10\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([42]); \"\n              \"           var r = a.slice();\"\n              \"           return  njs.dump(r) === `${v.name} [42]`;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint8Array([1,2,3,4,5,6,7,8]); var view = new v(init.buffer);\"\n              \"         return view.slice(0,2)})\"),\n      njs_str(njs_evar(\"1,2,1,2,1,2,513,1027,513,1027,67305985,134678021,67305985,134678021\",\n                       \"1,2,1,2,1,2,258,772,258,772,16909060,84281096,16909060,84281096\")) },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint8Array([1,2,3,4,5,6,7,8]); var view = new v(init.buffer);\"\n              \"         return view.slice(0,-2)})\"),\n      njs_str(njs_evar(\"1,2,3,4,5,6,1,2,3,4,5,6,1,2,3,4,5,6,513,1027,513,1027,,\",\n                       \"1,2,3,4,5,6,1,2,3,4,5,6,1,2,3,4,5,6,258,772,258,772,,\")) },\n\n    { njs_str(\"var other = new Uint8Array([0xff,0xff,0xff,0xff]);\"\n              NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([42]); \"\n              \"           a.constructor = {[Symbol.species]: function () {return other;}}; \"\n              \"           var r = a.slice(0,0);\"\n              \"           return r == other && r.length == 4 && r[0] == 0xff;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); \"\n              \"           a.constructor = {[Symbol.species]: function () {return new v([0xff,0xee]);}}; \"\n              \"           try {a.slice(0)} catch(e) {return e.name == 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); \"\n              \"           a.constructor = {[Symbol.species]: function () {return new Date();}}; \"\n              \"           try {a.slice(0)} catch(e) {return e.name == 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(2); \"\n              \"           a.constructor = {}; \"\n              \"           a.constructor[Symbol.species] = function() { return new v()};\"\n              \"           try {a.filter(v=>true)} catch(e) {return e.name == 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); \"\n              \"           var r = a.slice(1,3);\"\n              \"           return  a.buffer !== r.buffer;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); \"\n              \"           var r = a.slice(1,3);\"\n              \"           a[1] = 0;\"\n              \"           return  njs.dump(r) === `${v.name} [2,3]`;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); \"\n              \"           var r = a.subarray(1,3);\"\n              \"           a[1] = 0;\"\n              \"           return  njs.dump(r) === `${v.name} [0,3]`;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); \"\n              \"           a.subarray(1,3).fill(0);\"\n              \"           return  njs.dump(a) === `${v.name} [1,0,0,4]`;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); \"\n              \"           a.subarray(1,10).fill(0);\"\n              \"           return  njs.dump(a) === `${v.name} [1,0,0,0]`;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); \"\n              \"           var r = a.subarray(1,3);\"\n              \"           return  a.buffer === r.buffer;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); \"\n              \"           return  a.subarray(3).length === 0;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); a.copyWithin(2); \"\n              \"           return a.toString() === '1,2,1,2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); a.copyWithin(2,1); \"\n              \"           return a.toString() === '1,2,2,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); a.copyWithin(2,1,2); \"\n              \"           return a.toString() === '1,2,2,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); a.copyWithin(-1,1,2); \"\n              \"           return a.toString() === '1,2,3,2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); a.copyWithin(-1,-4,2); \"\n              \"           return a.toString() === '1,2,3,1'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); a.copyWithin(-1,-2); \"\n              \"           return a.toString() === '1,2,3,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,4,5]);\"\n              \"           var a = new v(orig.buffer, 2* v.BYTES_PER_ELEMENT);\"\n              \"           a.copyWithin(0,3);\"\n              \"           return a.toString() === '4,5,3,4,5'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Uint8Array.prototype.every.call(1)\"),\n      njs_str(\"TypeError: this is not a typed array\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([1,2,3])).every(e=>e>0) === true})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([1,2,3])).every(function(e) {\"\n              \"              if (this != undefined) {throw 'Oops';}\"\n              \"              return e > 0}) === true})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([1,2,3])).every(function(e) {\"\n              \"              if (this != 'QQ') {throw 'Oops';}\"\n              \"              return e > 0}, 'QQ') === true})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([1,2,3])).every(e=>e>1) === false})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.every(e=>e<4)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var collect = []; (new v([42,43])).forEach(e=>collect.push(e)); \"\n              \"           return collect.join('|') === '42|43'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([7,10,3,8,5])).filter(q=>q%2).join('|') === '7|3|5'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,7,10,3,8,5,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 5);\"\n              \"           return a.filter(q=>q%2).join('|') === '7|3|5'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.find(e=>e>2) === 3})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.find(e=>e===255) === undefined})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.findIndex(e=>e>2) === 2})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.findIndex(e=>e===255) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([1,2,3])).some(e=>e==2)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.some(e=>e==255)})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Uint8Array.prototype.includes.call(1)\"),\n      njs_str(\"TypeError: this is not a typed array\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v()).includes(0, {valueOf(){throw 'Oops'}}) === false})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([0,1,2,3])).includes(2) === true})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([0,1,2,3])).includes(2,3) === false})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(5);\"\n              \"           return a.includes(0, 4) === true \"\n              \"                  && a.includes(0, 5) === false;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([0,1,2,3])).includes(-0) === true})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([42, 43, NaN, 41])).includes(NaN) === true})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,0,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.includes(255) === false})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v()).indexOf(0, {valueOf(){throw 'Oops'}}) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).indexOf(2) === 1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).indexOf(2,2) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).indexOf(2,Infinity) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).indexOf(2,-Infinity) === 1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([42, 43, NaN, 41])).indexOf(NaN) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).indexOf(257) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).indexOf(2.00001) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1,0])).indexOf(-0) === 3})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(5);\"\n              \"           return a.indexOf(0, 4) === 4\"\n              \"                  && a.indexOf(0, 5) === -1;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,0,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.indexOf(255) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1,2])).lastIndexOf(2) === 3})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1,2])).lastIndexOf(4) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([42, 43])).lastIndexOf(42,0) === 0})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([42, 43, 43, 41])).lastIndexOf(43,Infinity) === 2})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([42, 43, 43, 41])).lastIndexOf(43,-Infinity) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([42, 43, NaN, 41])).lastIndexOf(NaN) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,0,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.lastIndexOf(255) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).map(q=>2*q).join('|') === '6|4|2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,6,4,2,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.map(q=>q/2).join('|') === '3|2|1'})\"),\n      njs_str(\"true\") },\n\n#ifdef NJS_TEST262\n    { njs_str(\"const arr = new Uint8Array([1,2,3]);\"\n              \"const sep = {toString(){$262.detachArrayBuffer(arr.buffer); return ','}};\"\n              \"arr.join(sep)\"),\n      njs_str(\"TypeError: detached buffer\") },\n#endif\n\n    { njs_str(\"Uint8Array.prototype.reduce.call(1)\"),\n      njs_str(\"TypeError: this is not a typed array\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ try { (new v([])).reduce((p, q) => p + q) } \"\n              \"            catch (e) { return e.name == 'TypeError'} })\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([])).reduce((p, q) => p + q, 10) == 10})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([7])).reduce((p, q) => p + q) == 7})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([7])).reduce((p, q) => p + q, 10) == 17})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reduce((p, q) => p + q) == 6})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reduce((p, q) => p + q, 10) == 16})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reduce((p, q) => p + q, '') == '123'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([3,2,1])).reduce((p, q, i) => { \"\n              \"             if (q + i != 3) {throw 'Oops'}; \"\n              \"             return p + q;}) == 6})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ var a = new v([3,2,1]); \"\n              \"            return a.reduce((p, q, _, o) => { \"\n              \"                 if (a != o) {throw 'Oops'};  \"\n              \"                 return p + q;}) == 6})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [3,2,1]; a.reduce((p, v, _, o) => { if (a != o) {throw 'Oops'};return p + v})\"),\n      njs_str(\"6\") },\n\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ try { (new v([])).reduceRight((p, q) => p + q) } \"\n              \"            catch (e) { return e.name == 'TypeError'} })\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([])).reduceRight((p, q) => p + q, 10) == 10})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([7])).reduceRight((p, q) => p + q) == 7})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([7])).reduceRight((p, q) => p + q, 10) == 17})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reduceRight((p, q) => p + q) == 6})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reduceRight((p, q) => p + q, 10) == 16})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reduceRight((p, q) => p + q, '') == '321'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([3,2,1])).reduceRight((p, q, i) => { \"\n              \"             if (q + i != 3) {throw 'Oops'}; \"\n              \"             return p + q;}) == 6})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ var a = new v([3,2,1]); \"\n              \"            return a.reduceRight((p, q, _, o) => { \"\n              \"                 if (a != o) {throw 'Oops'};  \"\n              \"                 return p + q;}) == 6})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [3,2,1]; a.reduceRight((p, v, _, o) => { if (a != o) {throw 'Oops'};return p + v})\"),\n      njs_str(\"6\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reverse().join('|') == '3|2|1'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3,4])).reverse().join('|') == '4|3|2|1'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Uint8Array.prototype.sort.call(1)\"),\n      njs_str(\"TypeError: this is not a typed array\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([]); a.sort(); \"\n              \"           return a.toString() === ''})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([5]); a.sort(); \"\n              \"           return a.toString() === '5'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([3,3,2,1]); a.sort(); \"\n              \"           return a.toString() === '1,2,3,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([3,3,2,1]); a.sort((x,y)=>x-y); \"\n              \"           return a.toString() === '1,2,3,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = (new v([255,255,3,3,2,1])).slice(2); a.sort(); \"\n              \"           return a.toString() === '1,2,3,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Float32Array([255,255,NaN,3,NaN,Infinity,3,-Infinity,0,-0,2,1,-5])).slice(2).sort()\"),\n      njs_str(\"-Infinity,-5,0,0,1,2,3,3,Infinity,NaN,NaN\") },\n\n    { njs_str(\"(new Float64Array([255,255,NaN,3,NaN,Infinity,3,-Infinity,0,-0,2,1,-5])).slice(2).sort()\"),\n      njs_str(\"-Infinity,-5,0,0,1,2,3,3,Infinity,NaN,NaN\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3)))\"),\n      njs_str(\"[object DataView]\") },\n\n    { njs_str(\"var x = new ArrayBuffer(3); [typeof x, typeof new DataView(x)]\"),\n      njs_str(\"object,object\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3))).buffer\"),\n      njs_str(\"[object ArrayBuffer]\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3))).byteLength\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3), 1)).byteLength\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3), 3)).byteLength\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3), 1)).byteOffset\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3), 1, 1)).byteLength\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3), 4))\"),\n      njs_str(\"RangeError: byteOffset 4 is outside the bound of the buffer\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3), 1,3))\"),\n      njs_str(\"RangeError: Invalid DataView length: 3\") },\n\n    { njs_str(\"var u8 = new Uint8Array([255, 129, 130, 131, 4, 5, 6, 7, 8, 9, 255]); \"\n              \"var dv = new DataView(u8.buffer, 1); \"\n              \"['getUint8', 'getInt8',\"\n              \" 'getUint16', 'getInt16',\"\n              \" 'getUint32', 'getInt32',\"\n              \" 'getFloat32','getFloat64'\"\n              \"]\"\n              \".map(fn => [dv[fn](0), dv[fn](0,1), dv[fn](1), dv[fn](1,1)])\"),\n      njs_str(\"129,129,130,130,\"\n              \"-127,-127,-126,-126,\"\n              \"33154,33409,33411,33666,\"\n              \"-32382,-32127,-32125,-31870,\"\n              \"2172814084,75727489,2189624325,84181890,\"\n              \"-2122153212,75727489,-2105342971,84181890,\"\n              \"-4.794245620412925e-38,3.091780090135418e-36,-1.9251027092506622e-37,6.230764342760857e-36,\"\n              \"-2.159546358334202e-301,5.447603729090798e-270,-1.4538065947240604e-296,3.72581468952343e-265\") },\n\n    { njs_str(\"var u8 = new Uint8Array(10);\"\n              \"var dv = new DataView(u8.buffer, 1);\"\n              \"var u8view = new Uint8Array(u8.buffer, 1);\"\n              \"function run(test) {\"\n              \"     var fn = test[0];\"\n              \"     var val = test[1];\"\n              \"     var size = parseInt(fn.match(/\\\\d+/)) / 8;\"\n              \"     \"\n              \"     return  [[0], [0,1],[1], [1,1]].map(args => {\"\n              \"           var offset = args[0];\"\n              \"           var le = args[1];\"\n              \"           u8.fill(0); \"\n              \"           dv[fn].apply(dv, [offset, val, le]);\"\n              \"           return `[${u8view.subarray(0, offset + size)}]`;\"\n              \"     })\"\n              \"};\"\n              \"[\"\n              \" ['setUint8',    129],\"\n              \" ['setInt8',    -127],\"\n              \" ['setUint16', 33154],\"\n              \" ['setInt16', -32382],\"\n              \" ['setUint32', 2172814084],\"\n              \" ['setInt32', -2122153212],\"\n              \" ['setFloat32', -4.794245620412925e-38],\"\n              \" ['setFloat64', -2.159546358334202e-301],\"\n              \"]\"\n              \".map(t => run(t))\"),\n      njs_str(\"[129],[129],[0,129],[0,129],\"\n              \"[129],[129],[0,129],[0,129],\"\n              \"[129,130],[130,129],[0,129,130],[0,130,129],\"\n              \"[129,130],[130,129],[0,129,130],[0,130,129],\"\n              \"[129,130,131,4],[4,131,130,129],[0,129,130,131,4],[0,4,131,130,129],\"\n              \"[129,130,131,4],[4,131,130,129],[0,129,130,131,4],[0,4,131,130,129],\"\n              \"[129,130,131,4],[4,131,130,129],[0,129,130,131,4],[0,4,131,130,129],\"\n              \"[129,130,131,4,5,6,7,8],[8,7,6,5,4,131,130,129],[0,129,130,131,4,5,6,7,8],[0,8,7,6,5,4,131,130,129]\"\n              ) },\n\n    { njs_str(\"var u8 = new Uint8Array([1,2,3]); \"\n              \"var dv = new DataView(u8.buffer); \"\n              \"dv.getUint16(2)\"),\n      njs_str(\"RangeError: index 2 is outside the bound of the buffer\") },\n\n#if NJS_HAVE_LARGE_STACK\n    { njs_str(\"var o = Object({length: 3});\"\n                 \"Object.defineProperty(o, '0', {set: function(v){this[0] = 2 * v}});\"\n                 \"Array.prototype.fill.call(o, 2)\"),\n      njs_str(\"RangeError: Maximum call stack size exceeded\") },\n#endif\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"Array.prototype.fill.call(o); i\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [];\"\n                 \"a.filter(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var a = [1,2,3,-1,5];\"\n                 \"a.filter(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"2,3,5\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6,7,8];\"\n                 \"a.filter(function(v, i, a) { a.pop(); return v > 1 })\"),\n      njs_str(\"2,3,4\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6,7,8];\"\n                 \"a.filter(function(v, i, a) { a.shift(); return v > 1 })\"),\n      njs_str(\"3,5,7\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6,7];\"\n                 \"a.filter(function(v, i, a) { a.pop(); return v > 1 })\"),\n      njs_str(\"2,3,4\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6,7];\"\n                 \"a.filter(function(v, i, a) { a.shift(); return v > 1 })\"),\n      njs_str(\"3,5,7\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6,7];\"\n                 \"a.filter(function(v, i, a) { a[i] = v + 1; return true })\"),\n      njs_str(\"1,2,3,4,5,6,7\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6,7];\"\n                 \"a.filter(function(v, i, a) { a[i+1] = v+10; return true })\"),\n      njs_str(\"1,11,21,31,41,51,61\") },\n\n    { njs_str(\"var o = {0: 'c', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.filter.call(o, function(el, i, arr) {return el == 'c'}); r\"),\n      njs_str(\"c,c\") },\n\n    { njs_str(\"var o = {0: 'c', 1: 'a', 2: 'b'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'c'});\"\n              \"var r = Array.prototype.filter.call(o, function(el, i, arr) { return el == 'c' }); r\"),\n      njs_str(\"c,c\") },\n\n    { njs_str(\"var a = [];\"\n                 \"a.find(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [,NaN,0,-1];\"\n                 \"a.find(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [,NaN,0,-1,2];\"\n                 \"a.find(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1,2,3,-1,5];\"\n                 \"a.find(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [,1,,-1,5];\"\n                 \"a.find(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a = [,1,,-1,5,6];\"\n                 \"a.find(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"[].find(function(v) { return (v === undefined) })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [,3];\"\n                 \"a.find(function(v) { return (v === 3 || v === undefined) })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,,3];\"\n                 \"a.find(function(v) { return (v === 3 || v === undefined) })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n                 \"a.find(function(v, i, a) { a.shift(); return v == 3 })\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n              \"a.find(function(v, i, a) { a.shift(); return v == 4 })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.find.call(o, function(el, i, arr) {return el == 'b'}); r\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.find.call(o, function(el, i, arr) {delete o['1']; return el == 'c'}); r\"),\n      njs_str(\"c\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"var r = Array.prototype.find.call(o, function(el, i, arr) { return el == 'd' }); r\"),\n      njs_str(\"d\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"try {Array.prototype.filter.call(o);}\"\n              \"catch (e) {i += '; ' + e}; i\"),\n      njs_str(\"1; TypeError: callback argument is not callable\") },\n\n    { njs_str(\"var callz = 0, res = [], arr = 'abc'.split('');\"\n              \"void arr.find((k) => { if (0 == callz++) { arr.splice(1,1); } res.push(k) });\"\n              \"res.join(',')\"),\n      njs_str(\"a,c,\") },\n\n    { njs_str(\"var a = [];\"\n                 \"a.findIndex(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [,NaN,0,-1];\"\n                 \"a.findIndex(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [,NaN,0,-1,2];\"\n                 \"a.findIndex(function(v, i, a) { return v > 1 })\"),\n     njs_str(\"4\") },\n\n    { njs_str(\"var a = [1,2,3,-1,5];\"\n                 \"a.findIndex(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [,1,,-1,5];\"\n                 \"a.findIndex(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var a = [,1,,-1,5,6];\"\n                 \"a.findIndex(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"[].findIndex(function(v) { return (v === undefined) })\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[,].findIndex(function(v) { return (v === undefined) })\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[1,2,,3].findIndex(function(el){return el === undefined})\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"[,2,,3].findIndex(function(el){return el === undefined})\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n                 \"a.findIndex(function(v, i, a) { a.shift(); return v == 3 })\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n                 \"a.findIndex(function(v, i, a) { a.shift(); return v == 4 })\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.findIndex.call(o, function(el, i, arr) {return el == 'b'}); r\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"var r = Array.prototype.findIndex.call(o, function(el, i, arr) { return el == 'd' }); r\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var callz = 0, res = [], arr = 'abc'.split('');\"\n              \"void arr.findIndex((k) => { if (0 == callz++) { arr.splice(1,1); } res.push(k) });\"\n              \"res.join(',')\"),\n      njs_str(\"a,c,\") },\n\n    { njs_str(\"var a = [];\"\n                 \"a.map(function(v, i, a) { return v + 1 })\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var a = [,,,];\"\n                 \"a.map(function(v, i, a) { return v + 1 })\"),\n      njs_str(\",,\") },\n\n    { njs_str(\"var a = [,,,1];\"\n                 \"a.map(function(v, i, a) { return v + 1 })\"),\n      njs_str(\",,,2\") },\n\n    { njs_str(\"var a = [1,2,3];\"\n                 \"a.map(function(v, i, a) { return v + 1 })\"),\n      njs_str(\"2,3,4\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n                 \"a.map(function(v, i, a) { a.pop(); return v + 1 })\"),\n      njs_str(\"2,3,4,,,\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n                 \"a.map(function(v, i, a) { a.shift(); return v + 1 })\"),\n      njs_str(\"2,4,6,,,\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.map.call(o, num => num + '1'); r\"),\n      njs_str(\"a1,b1,c1\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"var r = Array.prototype.map.call(o, function(el, i, arr) { return el + '1' }); r\"),\n      njs_str(\"a1,b1,c1,d1\") },\n\n    { njs_str(\"Array.prototype.map.call(new String('abc'),\"\n             \"                          (val, idx, obj) => {return obj instanceof String})\"\n              \".every(x => x === true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.prototype.map.call('abcdef', (val, idx, obj) => {return val === 100})\"),\n      njs_str(\"false,false,false,false,false,false\") },\n\n    { njs_str(\"function callbackfn(val, idx, obj) {return idx === 1 && typeof val === 'undefined';}\"\n              \"var obj = {2: 2, length: 10};\"\n              \"var res = Array.prototype.map.call(obj, callbackfn); typeof res[7]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function callbackfn(val, idx, obj) {return idx === 1 && typeof val === 'undefined';}\"\n              \"var obj = {2: 2, length: 9000};\"\n              \"var res = Array.prototype.map.call(obj, callbackfn); typeof res[8000]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {enumerable:false});\"\n              \"a.map(v=>v)\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"Array.prototype.map.call({0:9, length:2**16}, val=>val<10).length\"),\n      njs_str(\"65536\") },\n\n    { njs_str(\"[].reduce((p, v) => p + v)\"),\n      njs_str(\"TypeError: Reduce of empty object with no initial value\") },\n\n    { njs_str(\"[].reduce((p, v) => p + v, 10)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"[,,].reduce((p, v) => p + v)\"),\n      njs_str(\"TypeError: Reduce of empty object with no initial value\") },\n\n    { njs_str(\"[,,].reduce((p, v) => p + v, 10)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"[1].reduce((p, v) => p + v)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"[1].reduce((p, v) => p + v, 10)\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"[1,2,3].reduce((p, v) => p + v)\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"[1,2,3].reduce((p, v) => p + v, 10)\"),\n      njs_str(\"16\") },\n\n    { njs_str(\"[3,2,1].reduce((p, v, i) => { if (v + i != 3) {throw 'Oops'};return p + v})\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [3,2,1]; a.reduce((p, v, _, o) => { if (a != o) {throw 'Oops'};return p + v})\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"[[0, 1], [2, 3], [4, 5]].reduce((a, b) => a.concat(b), [])\"),\n      njs_str(\"0,1,2,3,4,5\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var reducer = (a, b) => a + b;\"\n              \"var a = Array.prototype.reduce.call(o, reducer); a\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"function reducer(a, b, i, arr) {\"\n              \"   if (i == 2) Object.defineProperty(arr, i, {enumerable:false}); \"\n              \"   return a + b;\"\n              \"};\"\n              \"Array.prototype.reduce.call([1,2,3,4], reducer)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"var r = Array.prototype.reduce.call(o, (a, b) => a + b); r\"),\n      njs_str(\"abcd\") },\n\n    { njs_str(\"var o = {1: 'b', 2: 'c', 3: 'd'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '0', {get: () => 'a'});\"\n              \"var r = Array.prototype.reduce.call(o, (a, b) => a + b); r\"),\n      njs_str(\"abcd\") },\n\n    { njs_str(\"[].reduceRight((p, v) => p + v)\"),\n      njs_str(\"TypeError: Reduce of empty object with no initial value\") },\n\n    { njs_str(\"[].reduceRight((p, v) => p + v, 10)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"[,,].reduceRight((p, v) => p + v)\"),\n      njs_str(\"TypeError: Reduce of empty object with no initial value\") },\n\n    { njs_str(\"[,,].reduceRight((p, v) => p + v, 10)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"[1].reduceRight((p, v) => p + v)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"[1].reduceRight((p, v) => p + v, 10)\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"[1,2,3].reduceRight((p, v) => p + v)\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"[1,2,3].reduceRight((p, v) => p + v, 10)\"),\n      njs_str(\"16\") },\n\n    { njs_str(\"[3,2,1].reduceRight((p, v, i) => { if (v + i != 3) {throw 'Oops'};return p + v})\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [1,2,3];\"\n              \"a.reduceRight(function(p, v, _, a) { a.shift(); return p + v })\"),\n      njs_str(\"7\") },\n    { njs_str(\"var a = [1,2,3];\"\n              \"a.reduceRight(function(p, v, _, a) { a.shift(); return p + v }, 10)\"),\n      njs_str(\"19\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"Array.prototype.reduceRight.call(o, (p, v) => p + v)\"),\n      njs_str(\"dcba\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"try {Array.prototype.reduceRight.call(o);}\"\n              \"catch (e) {i += '; ' + e} i\"),\n      njs_str(\"1; TypeError: callback argument is not callable\") },\n\n    { njs_str(\"var m = [];\"\n              \"[''].reduceRight.call('00000000000000000000000000000\u043000', (p, v, i, a) => {m.push(v)});\"\n              \"m.join('')\"),\n      njs_str(\"0\u043000000000000000000000000000000\") },\n\n    { njs_str(\"function reducer(a, b, i, arr) {\"\n              \"   if (i == 2) Object.defineProperty(arr, i, {enumerable:false}); \"\n              \"   return a + b;\"\n              \"};\"\n              \"Array.prototype.reduceRight.call([1,2,3,4], reducer)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"Array.prototype[0] = 1; Array.prototype[1] = 2; Array.prototype[2] = 3;\"\n              \"[,,].reduceRight((a,b)=>a+b)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = ['1','2','3','4','5','6']; a.sort()\"),\n      njs_str(\"1,2,3,4,5,6\") },\n\n    { njs_str(\"var a = ['a', 'ab', '', 'aa']; a.sort()\"),\n      njs_str(\",a,aa,ab\") },\n\n    { njs_str(\"var a = ['a', 'ab', '', 'aa']; a.sort()\"),\n      njs_str(\",a,aa,ab\") },\n\n    { njs_str(\"var a = [23,1,8,5]; Object.defineProperty(a, '0', {enumerable:false});\"\n              \"a.sort((x,y)=>x-y)\"),\n      njs_str(\"1,5,8,23\") },\n\n    { njs_str(\"var a = {0:23,1:1,2:8,3:5,length:4};\"\n              \"Array.prototype.sort.call(a, (x,y)=>x-y);\"\n              \"Array.prototype.join.call(a)\"),\n      njs_str(\"1,5,8,23\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 1024)\n              \"a[100] = 1; a[512] = -1; a[5] = undefined;\"\n              \"a.sort();\"\n              \"a[0] == -1 && a[1] == 1 && a[2] == undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 1024)\n              \"a.fill(1, 256, 512); a.fill(undefined, 1000, 1010);\"\n              \"Object.defineProperty(a, '256', {value: a[256], enumerable:false});\"\n              \"a.sort();\"\n              \"a[0] == 1 && a[255] == 1 && Object.getOwnPropertyDescriptor(a, '256').value == undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [23,1,,undefined,8,,5]; Object.defineProperty(a, '0', {enumerable:false});\"\n              \"a.sort((x,y)=>x-y)\"),\n      njs_str(\"1,5,8,23,,,\") },\n\n    { njs_str(\"var o = { toString: function() { return 5 } };\"\n              \"var a = [6,o,4,3,2,1]; a.sort(undefined)\"),\n      njs_str(\"1,2,3,4,5,6\") },\n\n    { njs_str(\"var a = [undefined,1]; a.sort()\"),\n      njs_str(\"1,\") },\n\n    { njs_str(\"var a = [,1]; a.sort()\"),\n      njs_str(\"1,\") },\n\n    { njs_str(\"var a = [,1,undefined]; a.sort()\"),\n      njs_str(\"1,,\") },\n\n    { njs_str(\"var a = ['1','2','3','4','5','6']; a.sort()\"),\n      njs_str(\"1,2,3,4,5,6\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6]; a.sort()\"),\n      njs_str(\"1,2,3,4,5,6\") },\n\n    { njs_str(\"var a = {0:3,1:2,2:1}; Array.prototype.sort.call(a) === a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = {0:3,1:2,2:1,length:0}; Array.prototype.sort.call(a) === a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n              \"a.sort(function(x, y) { return x - y })\"),\n      njs_str(\"1,2,3,4,5,6\") },\n\n    { njs_str(\"var a = Array(128).fill().map((v,i,a)=>a.length-i);\"\n              \"a.sort((a,b)=>a-b);\"\n              \"a.every((v,i,a)=> (i < 1 || v >= a[i-1]))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [2,2,2,1,1,1];\"\n              \"a.sort(function(x, y) { return x - y })\"),\n      njs_str(\"1,1,1,2,2,2\") },\n\n    { njs_str(\"var a = [,,,2,2,2,1,1,1];\"\n              \"a.sort(function(x, y) { return x - y })\"),\n      njs_str(\"1,1,1,2,2,2,,,\") },\n\n    { njs_str(\"var a = [,,,,];\"\n              \"a.sort(function(x, y) { return x - y })\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"var a = [,,undefined,undefined,,undefined];\"\n              \"a.sort(function(x, y) { return x - y }); njs.dump(a)\"),\n      njs_str(\"[undefined,undefined,undefined,<empty>,<empty>,<empty>]\") },\n\n    { njs_str(\"var a = [1,,undefined,8,undefined,,undefined,,2];\"\n              \"a.sort(function(x, y) { return x - y }); njs.dump(a)\"),\n      njs_str(\"[1,2,8,undefined,undefined,undefined,<empty>,<empty>,<empty>]\") },\n\n    { njs_str(\"var a = [1,,];\"\n              \"a.sort(function(x, y) { return x - y })\"),\n      njs_str(\"1,\") },\n\n    { njs_str(\"var a = [{ n: 'A', r: 2 },\"\n              \"         { n: 'B', r: 3 },\"\n              \"         { n: 'C', r: 2 },\"\n              \"         { n: 'D', r: 3 },\"\n              \"         { n: 'E', r: 3 }];\"\n              \"a.sort((a, b) => b.r - a.r).map(v=>v.n).join('')\"),\n      njs_str(\"BDEAC\") },\n\n    { njs_str(\"[1,2,3].sort(()=>-1)\"),\n      njs_str(\"3,2,1\") },\n\n    { njs_str(\"njs.dump([undefined,1,2,3].sort(()=>0))\"),\n      njs_str(\"[1,2,3,undefined]\") },\n\n    { njs_str(\"njs.dump([1,,2,3].sort(()=>0))\"),\n      njs_str(\"[1,2,3,<empty>]\") },\n\n    { njs_str(\"var count = 0;\"\n              \"[4,3,2,1].sort(function(x, y) { if (count++ == 2) {throw Error('Oops'); }; return x - y })\"),\n      njs_str(\"Error: Oops\") },\n\n    { njs_str(\"[1,2].sort(1)\"),\n      njs_str(\"TypeError: comparefn must be callable or undefined\") },\n\n    /*\n      Array.prototype.keys()\n      Array.prototype.values()\n      Array.prototype.entries()\n    */\n\n    { njs_str(\"['keys', 'values', 'entries', Symbol.iterator]\"\n              \".every((x) => typeof Array.prototype[x] == 'function')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"['keys', 'values', 'entries', Symbol.iterator]\"\n              \".every((x) => Array.prototype[x].length === 0)\"),\n      njs_str(\"true\") },\n\n#if 0\n    { njs_str(\"Array.prototype[Symbol.iterator] === Array.prototype.values\"),\n      njs_str(\"true\") },\n#endif\n\n    { njs_str(\"['keys', 'values', 'entries', Symbol.iterator]\"\n              \".every((x) => typeof [][x]() == 'object')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"['keys', 'values', 'entries', Symbol.iterator]\"\n              \".every((x) => typeof [][x]().next == 'function')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var i = [1,2,3].keys();\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"0,1,2,\") },\n\n    { njs_str(\"var i = [1,2,3].values();\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"1,2,3,\") },\n\n    { njs_str(\"var a = [], i = a.values();\"\n              \"a.push(1); a.push(2); a.push(3);\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"1,2,3,\") },\n\n    { njs_str(\"var a = [], i = a.values(); i.next();\"\n              \"a.push(1); a.push(2); a.push(3);\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"var i = [1,2,3].entries();\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"0,1,1,2,2,3,\") },\n\n    { njs_str(\"var i = Array.prototype.keys.call('abc');\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.done)\"),\n      njs_str(\"false,false,false,true\") },\n\n    { njs_str(\"var i = Array.prototype.values.call('abc');\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"a,b,c,\") },\n\n    { njs_str(\"var x = [true, 1, Symbol()];\"\n              \"x.map((x) => Array.prototype.keys.call(x).next()).every((x) => x.done)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = [true, 1, Symbol()];\"\n              \"x.forEach((x) => Object.getPrototypeOf(Object(x)).length = 1);\"\n              \"x.map((x) => Array.prototype.keys.call(x).next()).every((x) => !x.done)\"),\n      njs_str(\"true\") },\n\n    /*\n      TypedArray.prototype.keys()\n      TypedArray.prototype.values()\n      TypedArray.prototype.entries()\n    */\n\n    { njs_str(\"['keys', 'values', 'entries', Symbol.iterator]\"\n              \".every((x) => typeof Buffer.prototype[x] == 'function')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var i = Buffer.from([1,2,3]).keys();\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"0,1,2,\") },\n\n    { njs_str(\"var i = Buffer.from([1,2,3]).values();\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"1,2,3,\") },\n\n    { njs_str(\"var i = Buffer.from([1,2,3]).entries();\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"0,1,1,2,2,3,\") },\n\n    { njs_str(\"[true, 1, Symbol(), 'test', [], { length: 1 }]\"\n              \".map((x) => { try { Buffer.prototype.keys.call(x); return x; } catch (e) { return e; } })\"\n              \".every((x) => x instanceof TypeError)\"),\n      njs_str(\"true\") },\n\n    /* %IteratorPrototype% */\n\n    { njs_str(\"var x = Object.getPrototypeOf(Object.getPrototypeOf([].keys()));\"\n              \"typeof x[Symbol.iterator] == 'function'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Object.getPrototypeOf(Object.getPrototypeOf([].keys()));\"\n              \"x[Symbol.iterator]() === x\"),\n      njs_str(\"true\") },\n\n    /* %ArrayIteratorPrototype% */\n\n    { njs_str(\"var x = Object.getPrototypeOf([].keys());\"\n              \"typeof x.next == 'function'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Object.getPrototypeOf([].keys());\"\n              \"x[Symbol.toStringTag] == 'Array Iterator'\"),\n      njs_str(\"true\") },\n\n    /* %StringIteratorPrototype% */\n\n    { njs_str(\"typeof String.prototype[Symbol.iterator] == 'function'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Object.getPrototypeOf(''[Symbol.iterator]());\"\n              \"typeof x.next == 'function'\"),\n      njs_str(\"true\") },\n\n#if 0\n    { njs_str(\"var x = Object.getPrototypeOf(''[Symbol.iterator]());\"\n              \"x[Symbol.toStringTag] == 'String Iterator'\"),\n      njs_str(\"true\") },\n#else\n    { njs_str(\"var x = Object.getPrototypeOf(''[Symbol.iterator]());\"\n              \"x[Symbol.toStringTag] == 'Array Iterator'\"),\n      njs_str(\"true\") },\n#endif\n\n    /* Template literal. */\n\n    { njs_str(\"`\"),\n      njs_str(\"SyntaxError: Unterminated template literal in 1\") },\n\n    { njs_str(\"`$\"),\n      njs_str(\"SyntaxError: Unterminated template literal in 1\") },\n\n    { njs_str(\"`${\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"`${a\"),\n      njs_str(\"SyntaxError: Missing \\\"}\\\" in template expression in 1\") },\n\n    { njs_str(\"`${}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"`${a}\"),\n      njs_str(\"SyntaxError: Unterminated template literal in 1\") },\n\n    { njs_str(\"`${a}bc\"),\n      njs_str(\"SyntaxError: Unterminated template literal in 1\") },\n\n    { njs_str(\"`\\\\\"),\n      njs_str(\"SyntaxError: Unterminated template literal in 1\") },\n\n    { njs_str(\"`\\\\${a}bc\"),\n      njs_str(\"SyntaxError: Unterminated template literal in 1\") },\n\n    { njs_str(\"`text1\\ntext2`;\"),\n      njs_str(\"text1\\ntext2\") },\n\n    { njs_str(\"var o = 1; `o = \\\\`${o}\\\\``\"),\n      njs_str(\"o = `1`\") },\n\n    { njs_str(\"`\\\\unicode`\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\unicode\\\" in 1\") },\n\n    { njs_str(\"var a = 5; var b = 10;\"\n                 \"`Fifteen is ${a + b} and \\nnot ${2 * a + b}.`;\"),\n      njs_str(\"Fifteen is 15 and \\nnot 20.\") },\n\n    { njs_str(\"var s = `1undefined`; s;\"),\n      njs_str(\"1undefined\") },\n\n    { njs_str(\"var s = '0'; s = `x${s += '1'}`;\"),\n      njs_str(\"x01\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                 \"var something = 'test'; var one = 1; var two = 2;\"\n                 \"`[${d.toISOString()}] the message contents ${something} ${one + two}`\"),\n      njs_str(\"[2011-06-24T18:45:12.625Z] the message contents test 3\") },\n\n    { njs_str(\"function isLargeScreen() { return false; }\"\n                 \"var item = { isCollapsed: true };\"\n                 \"`header ${ isLargeScreen() ? '' : `icon-${item.isCollapsed ? 'expander' : 'collapser'}` }`;\"),\n      njs_str(\"header icon-expander\") },\n\n    { njs_str(\"function foo(strings, person, age) { return `${strings[0]}${strings[1]}${person}${age}` };\"\n                 \"var person = 'Mike'; var age = 21;\"\n                 \"foo`That ${person} is a ${age}`;\"),\n      njs_str(\"That  is a Mike21\") },\n\n    { njs_str(\"`\\n`.length\"),\n      njs_str(\"1\") },\n\n    /* Strings. */\n\n    { njs_str(\"var a = '0123456789' + '012345';\"\n                 \"var b = 'abcdefghij' + 'klmnop';\"\n                 \"    a = b\"),\n      njs_str(\"abcdefghijklmnop\") },\n\n    { njs_str(\"String.prototype.my = function f() {return 7}; 'a'.my()\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"'a'.my\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = '123'\\n[2].toString();a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\\xE5\\x96\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"\u559c\u3076\") },\n\n    /* Broken UTF-8 literals.*/\n\n    { njs_str(\"'\\x96\\xE5\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"'\\x96\\xE5\\x9C'\"),\n      njs_str(\"\ufffd\ufffd\") },\n\n    { njs_str(\"'\\x96\\xE5'\"),\n      njs_str(\"\ufffd\ufffd\") },\n\n    { njs_str(\"'\\x96'\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"'\\xF3'\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"'\\xF3\\xFF'\"),\n      njs_str(\"\ufffd\ufffd\") },\n\n    { njs_str(\"'\\x96\\x96\\xE5\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"\ufffd\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"'\\x9C\\x96\\xE5\\xE3\\x81\\xB6'\"),\n      njs_str(\"\ufffd\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"'\\xE5\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"\ufffd\u3076\") },\n\n    { njs_str(\"'\\xEF\\xBF\\xBD\\xE3\\x81\\xB6'\"),\n      njs_str(\"\ufffd\u3076\") },\n\n    { njs_str(\"'\\xE5\\xF6\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"\ufffd\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"var a = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\\xF3'; \"\n                 \"[a.length, a[33], a[34]]\"),\n      njs_str(\"35,a,\ufffd\") },\n\n    /* Escape strings. */\n\n    { njs_str(\"'\\\\a \\\\' \\\\\\\" \\\\\\\\ \\\\0 \\\\b \\\\f \\\\n \\\\r \\\\t \\\\v'\"),\n      njs_str(\"a ' \\\" \\\\ \\0 \\b \\f \\n \\r \\t \\v\") },\n\n    { njs_str(\"'\\\\\\n'\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\\\\\\r'\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\\\\\\r\\n'\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'a\\\\\\nb'\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"'a\\\\\\rb'\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"'a\\\\\\r\\nb'\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"'a\\\\\\n\\rb'\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'a\\\\\\n\\r\\\" in 1\") },\n\n    { njs_str(\"'a\\\\\\nb\\nc'\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'a\\\\\\nb\\n\\\" in 1\") },\n\n    { njs_str(\"'abcde\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'abcde\\\" in 1\") },\n\n    { njs_str(\"'\\\\\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'\\\\\\\" in 1\") },\n\n    { njs_str(\"'\\\\\\r\\n\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'\\\\\\r\\n\\\" in 1\") },\n\n    { njs_str(\"'\\\\'\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'\\\\'\\\" in 1\") },\n\n    { njs_str(\"'a\\n\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'a\\n\\\" in 1\") },\n\n    { njs_str(\"'a\\r\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'a\\r\\\" in 1\") },\n\n    { njs_str(\"\\\"a\\n\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"\\\"a\\n\\\" in 1\") },\n\n    { njs_str(\"'\\\\u03B1'\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"'\\\\u'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u\\\" in 1\") },\n\n    { njs_str(\"'\\\\uzzzz'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\uzzzz\\\" in 1\") },\n\n    { njs_str(\"'\\\\u03B'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u03B\\\" in 1\") },\n\n    { njs_str(\"'\\\\u03BG'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u03BG\\\" in 1\") },\n\n    { njs_str(\"'\\\\u03B '\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u03B \\\" in 1\") },\n\n    { njs_str(\"'\\\\u{61}\\\\u{3B1}\\\\u{20AC}'\"),\n      njs_str(\"a\u03b1\u20ac\") },\n\n    { njs_str(\"'\\\\u'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u\\\" in 1\") },\n\n    { njs_str(\"'\\\\u{'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u{\\\" in 1\") },\n\n    { njs_str(\"'\\\\u{}'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u{}\\\" in 1\") },\n\n    { njs_str(\"'\\\\u{1234567}'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u{1234567}\\\" in 1\") },\n\n    { njs_str(\"'\\\\u{a00000}'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u{a00000}\\\" in 1\") },\n\n    { njs_str(\"'\\\\x61'\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"''.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abc'.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u043f\u0440\u0438\u0432\u0435\u0442\\\\n'.length\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"'\u043f\u0440\u0438\u0432\u0435\u0442\\\\n\\\\u{61}\\\\u{3B1}\\\\u{20AC}'.length\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"'\\\\ud83d\\\\udc4d'\"),\n      njs_str(\"\\xf0\\x9f\\x91\\x8d\") },\n\n    { njs_str(\"'\\\\ud83d\\\\udc4d'.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"'\\\\ud83d abc \\\\udc4d'\"),\n      njs_str(\"\ufffd abc \ufffd\") },\n\n    { njs_str(\"'\\\\ud83d'\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"'\\\\ud83d\\\\uabcd'\"),\n      njs_str(\"\ufffd\uabcd\") },\n\n    { njs_str(\"'\\\\u{d800}\\\\u{dB00}'\"),\n      njs_str(\"\ufffd\ufffd\") },\n\n    { njs_str(\"'\\\\u{d800}\\\\u{d7ff}'\"),\n      njs_str(\"\ufffd\ud7ff\") },\n\n    { njs_str(\"'\\\\u{d800}['\"),\n      njs_str(\"\ufffd[\") },\n\n    { njs_str(\"'\\\\u{D800}\\\\u{'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u{D800}\\\\u{\\\" in 1\") },\n\n    { njs_str(\"'\u03b1' !== '\\\\\u03b1'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'r' !== '\\\\r'\"),\n      njs_str(\"true\") },\n\n    /* Broken UTF-8 literals.*/\n\n    { njs_str(\"'\\\\a\\x96\\xE5\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"a\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"'\\x96\\\\a\\xE5\\x9C'\"),\n      njs_str(\"\ufffda\ufffd\") },\n\n    { njs_str(\"'\\x96\\xE5\\\\a'\"),\n      njs_str(\"\ufffd\ufffda\") },\n\n    { njs_str(\"'\\\\a\\x96\\\\a'\"),\n      njs_str(\"a\ufffda\") },\n\n    { njs_str(\"'\\xF3\\\\a'\"),\n      njs_str(\"\ufffda\") },\n\n    { njs_str(\"'\\xF3\\\\a\\xFF'\"),\n      njs_str(\"\ufffda\ufffd\") },\n\n    { njs_str(\"'\\\\a\\x96\\x96\\xE5\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"a\ufffd\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"'\\\\a\\x9C\\x96\\xE5\\xE3\\x81\\xB6'\"),\n      njs_str(\"a\ufffd\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"'\\\\a\\xE5\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"a\ufffd\u3076\") },\n\n    { njs_str(\"'\\\\a\\xEF\\xBF\\xBD\\xE3\\x81\\xB6'\"),\n      njs_str(\"a\ufffd\u3076\") },\n\n    { njs_str(\"'\\\\a\\xE5\\xF6\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"a\ufffd\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"var a = '\\\\aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\\xF3'; \"\n                 \"[a.length, a[34], a[35]]\"),\n      njs_str(\"36,a,\ufffd\") },\n\n    { njs_str(\"''.hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc'.hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new String('abc')).hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc'.toUTF8().length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.toUTF8().length\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3'.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3'.toUTF8().length\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"'\u7d75\u6587\u5b57'.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u7d75\u6587\u5b57'.toUTF8().length\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"'\u3048\u3082\u3058'.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u3048\u3082\u3058'.toUTF8().length\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"'\u56f2\u7881\u7e54'.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u56f2\u7881\u7e54'.toUTF8().length\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"var a = 'abc'; a.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 'abc'; a['length']\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = '\u0430\u0431\u0432'; a.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 'abc' + '\u0430\u0431\u0432'; a.length\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = 'abc' + 1 + '\u0430\u0431\u0432'; a +' '+ a.length\"),\n      njs_str(\"abc1\u0430\u0431\u0432 7\") },\n\n    { njs_str(\"var a = 1; a.length\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 'abc'; a.concat('\u0430\u0431\u0432', 123)\"),\n      njs_str(\"abc\u0430\u0431\u0432123\") },\n\n    { njs_str(\"''.concat.call(0, 1, 2, 3, 4, 5, 6, 7, 8, 9)\"),\n      njs_str(\"0123456789\") },\n\n    { njs_str(\"''.concat.apply(0, [1, 2, 3, 4, 5, 6, 7, 8, 9])\"),\n      njs_str(\"0123456789\") },\n\n    { njs_str(\"var f = ''.concat.bind(0, 1, 2, 3, 4); f(5, 6, 7, 8, 9)\"),\n      njs_str(\"0123456789\") },\n\n    { njs_str(\"var f = ''.concat.bind(0, 1, 2, 3, 4); f(Math.sqrt(25))\"),\n      njs_str(\"012345\") },\n\n    { njs_str(\"var f = String.prototype.concat.bind(0, 1); f(2)\"),\n      njs_str(\"012\") },\n\n    { njs_str(\"var f = Function.prototype.call.bind\"\n                 \"                            (String.prototype.concat, 0, 1);\"\n                 \"f(2)\"),\n      njs_str(\"012\") },\n\n    { njs_str(\"var f = String.prototype.concat.bind(0, 1);\"\n                 \"var o = { toString: f }; o\"),\n      njs_str(\"01\") },\n\n    { njs_str(\"''.concat.bind(0, 1, 2, 3, 4).call(5, 6, 7, 8, 9)\"),\n      njs_str(\"012346789\") },\n\n    { njs_str(\"''.concat.bind(0, 1, 2, 3, 4).apply(5,[6, 7, 8, 9])\"),\n      njs_str(\"012346789\") },\n\n    { njs_str(\"var f = Array.prototype.join.bind([0, 1, 2]); f()\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var f = Array.prototype.join.bind([0, 1, 2]);\"\n                 \"var o = { toString: f }; o\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var f = Array.prototype.join.bind([0, 1, 2]); f('.')\"),\n      njs_str(\"0.1.2\") },\n\n    { njs_str(\"var f = Array.prototype.join.bind([0, 1, 2], '.');\"\n                 \"var o = { toString: f }; o\"),\n      njs_str(\"0.1.2\") },\n\n    { njs_str(\"var f = Array.prototype.toString.bind([0, 1, 2]); f()\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var f = Array.prototype.toString.bind([0, 1, 2]);\"\n                 \"var o = { toString: f }; o\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var f = Object.defineProperty(function() {}, 'name', {value: 'F'});\"\n              \"[f.name, f.bind().name, f.bind().bind().name]\"),\n      njs_str(\"F,bound F,bound bound F\") },\n\n    { njs_str(\"var f = Object.defineProperty(function() {}, 'name', {value: undefined});\"\n              \"[f.name, f.bind().name, f.bind().bind().name]\"),\n      njs_str(\",bound ,bound bound \") },\n\n    { njs_str(\"var f = Object.defineProperty(function() {}, 'name', {get:()=>'F'});\"\n              \"[f.name, f.bind().name]\"),\n      njs_str(\"F,bound F\") },\n\n    { njs_str(\"var s = Symbol('F'); var f = Object.defineProperty(function() {}, 'name', {get:()=>s});\"\n              \"[f.name.description, f.bind().name]\"),\n      njs_str(\"F,bound \") },\n\n    { njs_str(\"/a/[Symbol.replace].bind().name\"),\n      njs_str(\"bound [Symbol.replace]\") },\n\n    { njs_str(\"var f = Object.defineProperty(function() {}, 'name', {get:()=>{throw Error('Oops')}});\"\n              \"f.bind().name\"),\n      njs_str(\"Error: Oops\") },\n\n    { njs_str(\"var f = function() {}; f.a = 'a'; [f.bind().a, f.a]\"),\n      njs_str(\",a\") },\n\n    { njs_str(\"var f = function() {}; var bf = f.bind(); bf.b = 'b'; \"\n              \"[f.b, bf.b]\"),\n      njs_str(\",b\") },\n\n    { njs_str(\"function f(x,y) {return {args:arguments,length:arguments.length}};\"\n              \"var nf = Function.prototype.bind.call(f, {}, 'a', 'b');\"\n              \"var o = new nf();[o.length, o.args[0]]\"),\n      njs_str(\"2,a\") },\n\n    { njs_str(\"function f(x,y) {return {args:arguments,length:arguments.length}};\"\n              \"var nf = Function.prototype.bind.call(f, {});\"\n              \"var o = new nf('a', 'b');[o.length, o.args[0]]\"),\n      njs_str(\"2,a\") },\n\n    { njs_str(\"var f = function(a,b) { this.a = a; this.b = b; };\"\n              \"f.prototype.X = 'X';\"\n              \"var bf = f.bind(null, 1,2);\"\n              \"var o = new bf(); \"\n              \"[Object.keys(o), o.X,(o instanceof f) && (o instanceof bf),bf.prototype]\"),\n      njs_str(\"a,b,X,true,\") },\n\n    { njs_str(\"var bArray = Array.bind(null, 10,16); bArray()\"),\n      njs_str(\"10,16\") },\n\n    { njs_str(\"var bArray = Array.bind(null, 10,16); new bArray()\"),\n      njs_str(\"10,16\") },\n\n    { njs_str(\"var bArray = Array.bind(null, 10); new bArray(16)\"),\n      njs_str(\"10,16\") },\n\n#if 0 /* FIXME: refactor Bound calls (9.4.1.1[[Call]]). */\n    { njs_str(\"function f(x,y) {return {args:arguments,length:arguments.length}};\"\n              \"var bf = f.bind({}, 'a'); var bbf = bf.bind({},'b'); var o = bbf('c');\"),\n              \"[o.args[0], o.args[2], o.length]\"\n      njs_str(\"a,c,3\") },\n#endif\n\n    { njs_str(\"var s = { toString: function() { return '123' } };\"\n                 \"var a = 'abc'; a.concat('\u0430\u0431\u0432', s)\"),\n      njs_str(\"abc\u0430\u0431\u0432123\") },\n\n    { njs_str(\"'\\\\u00CE\\\\u00B1'.toBytes() == '\u03b1'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\\\\u00CE\\\\u00B1'.toBytes() === '\u03b1'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var b = '\\\\u00C2\\\\u00B6'.toBytes(), u = b.fromUTF8();\"\n                 \"b.length +' '+ b +' '+ u.length +' '+ u\"),\n      njs_str(\"2 \u00b6 1 \u00b6\") },\n\n    { njs_str(\"'\u03b1'.toBytes()\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"'\u03b1'.toUTF8()[0]\"),\n      njs_str(\"\\xCE\") },\n\n    { njs_str(\"var r = /^\\\\x80$/; r.source + r.source.length\"),\n      njs_str(\"^\\\\x80$6\") },\n\n    { njs_str(\"var r = /^\\\\\\\\x80$/; r.source + r.source.length\"),\n      njs_str(\"^\\\\\\\\x80$7\") },\n\n    { njs_str(\"/^\\\\x80$/.test('\\\\x80'.toBytes())\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/^\\\\xC2\\\\x80$/.test('\\\\x80'.toUTF8())\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u03b1'.toUTF8().toBytes()\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"var a = 'a'.toBytes() + '\u03b1'; a + a.length\"),\n      njs_str(\"a\u03b13\") },\n\n    { njs_str(\"var a = '\u00b5\u00a7\u00b1\u00ae'.toBytes(); a\"),\n      njs_str(\"\\xB5\\xA7\\xB1\\xAE\") },\n\n    { njs_str(\"var a = '\u00b5\u00a7\u00b1\u00ae'.toBytes(2); a\"),\n      njs_str(\"\\xB1\\xAE\") },\n\n    { njs_str(\"var a = '\u00b5\u00a7\u00b1\u00ae'.toBytes(1,3); a\"),\n      njs_str(\"\\xA7\\xB1\") },\n\n    { njs_str(\"var a = '\\\\xB5\\\\xA7\\\\xB1\\\\xAE'.toBytes(); a.fromBytes()\"),\n      njs_str(\"\u00b5\u00a7\u00b1\u00ae\") },\n\n    { njs_str(\"var a = '\\\\xB5\\\\xA7\\\\xB1\\\\xAE'.toBytes(); a.fromBytes(2)\"),\n      njs_str(\"\u00b1\u00ae\") },\n\n    { njs_str(\"var a = '\\\\xB5\\\\xA7\\\\xB1\\\\xAE'.toBytes(); a.fromBytes(1, 3)\"),\n      njs_str(\"\u00a7\u00b1\") },\n\n    { njs_str(\"'A'.repeat(8).toBytes() === 'A'.repeat(8)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'A'.repeat(16).toBytes() === 'A'.repeat(16)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'A'.repeat(38).toBytes(-5) === 'AAAAA'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"('\u03b1' + 'A'.repeat(32)).toBytes()\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"('\u03b1' + 'A'.repeat(32)).toBytes(1) === 'A'.repeat(32)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"('\u03b1' + 'A'.repeat(40)).toBytes(-3,-1)\"),\n      njs_str(\"AA\") },\n\n    { njs_str(\"var s = 'x'.repeat(2**10).repeat(2**14);\"\n                 \"var a = Array(200).fill(s);\"\n                 \"String.prototype.concat.apply(s, a.slice(1))\"),\n      njs_str(\"RangeError: invalid string length\") },\n\n    { njs_str(\"var a = 'abcdefgh'; a.substr(3, 15)\"),\n      njs_str(\"defgh\") },\n\n    { njs_str(\"'abcdefgh'.substr(3, 15)\"),\n      njs_str(\"defgh\") },\n\n    { njs_str(\"'abcdefghijklmno'.substr(3, 4)\"),\n      njs_str(\"defg\") },\n\n    { njs_str(\"'abcdefghijklmno'.substr(-3, 2)\"),\n      njs_str(\"mn\") },\n\n    { njs_str(\"'abcdefgh'.substr(100, 120)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"('abc' + 'defgh').substr(1, 4)\"),\n      njs_str(\"bcde\") },\n\n    { njs_str(\"'abcdefghijklmno'.substring(3, 5)\"),\n      njs_str(\"de\") },\n\n    { njs_str(\"'abcdefgh'.substring(3)\"),\n      njs_str(\"defgh\") },\n\n    { njs_str(\"'abcdefgh'.substring(5, 3)\"),\n      njs_str(\"de\") },\n\n    { njs_str(\"'abcdefgh'.substring(100, 120)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\u03b1'.repeat(32).substring(32)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\u03b1'.repeat(32).substring(32,32)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcdefghijklmno'.slice(NaN, 5)\"),\n      njs_str(\"abcde\") },\n\n    { njs_str(\"'abcdefghijklmno'.slice(NaN, Infinity)\"),\n      njs_str(\"abcdefghijklmno\") },\n\n    { njs_str(\"'abcdefghijklmno'.slice(-Infinity, Infinity)\"),\n      njs_str(\"abcdefghijklmno\") },\n\n    { njs_str(\"'abcdefghijklmno'.slice('0', '5')\"),\n      njs_str(\"abcde\") },\n\n    { njs_str(\"'abcdefghijklmno'.slice(3, 5)\"),\n      njs_str(\"de\") },\n\n    { njs_str(\"'abcdefgh'.slice(3)\"),\n      njs_str(\"defgh\") },\n\n    { njs_str(\"'abcdefgh'.slice(undefined, undefined)\"),\n      njs_str(\"abcdefgh\") },\n\n    { njs_str(\"'abcdefgh'.slice(undefined)\"),\n      njs_str(\"abcdefgh\") },\n\n    { njs_str(\"'abcdefgh'.slice(undefined, 1)\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'abcdefgh'.slice(3, undefined)\"),\n      njs_str(\"defgh\") },\n\n    { njs_str(\"'abcde'.slice(50)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcde'.slice(1, 50)\"),\n      njs_str(\"bcde\") },\n\n    { njs_str(\"'abcdefgh'.slice(3, -2)\"),\n      njs_str(\"def\") },\n\n    { njs_str(\"'abcdefgh'.slice(5, 3)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcdefgh'.slice(100, 120)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.prototype.substring(1, 5)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.prototype.substr.call({toString:()=>{throw new Error('Oops')}})\"),\n      njs_str(\"Error: Oops\") },\n\n    { njs_str(\"String.prototype.slice(1, 5)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.prototype.toBytes(1, 5)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc'.charAt(1 + 1)\"),\n      njs_str(\"c\") },\n\n    { njs_str(\"'abc'.charAt(3)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc'.charAt(undefined)\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'abc'.charAt(null)\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'abc'.charAt(false)\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'abc'.charAt(true)\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"'abc'.charAt(NaN)\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'abc'.charAt(Infinity)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc'.charAt(-Infinity)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var o = { valueOf: function() {return 2} };\"\n                 \"'abc'.charAt(o)\"),\n      njs_str(\"c\") },\n\n    { njs_str(\"var o = { toString: function() {return '2'} };\"\n                 \"'abc'.charAt(o)\"),\n      njs_str(\"c\") },\n\n    { njs_str(\"'abc'.charCodeAt(1 + 1)\"),\n      njs_str(\"99\") },\n\n    { njs_str(\"'abc'.charCodeAt(3)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"'abc'.charCodeAt(undefined)\"),\n      njs_str(\"97\") },\n\n    { njs_str(\"var a = 'abcdef'; a.3\"),\n      njs_str(\"SyntaxError: Unexpected token \\\".3\\\" in 1\") },\n\n    { njs_str(\"'abcdef'[3]\"),\n      njs_str(\"d\") },\n\n    { njs_str(\"'abcdef'[0]\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'abcdef'[-1]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'[NaN]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'[3.5]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'[8]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['1']\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"'abcdef'[' 1']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['1 ']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['-']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['-1']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['01']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['0x01']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 'abcdef', b = 1 + 2; a[b]\"),\n      njs_str(\"d\") },\n\n    /**/\n\n    { njs_str(\"'abc'.toString()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"''.toString.call('abc')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"String.prototype.toString.call('abc')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"String.prototype.toString.call(new String('abc'))\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"String.prototype.toString.call(1)\"),\n      njs_str(\"TypeError: unexpected value type:number\") },\n\n    { njs_str(\"'abc'.valueOf()\"),\n      njs_str(\"abc\") },\n\n    /**/\n\n    { njs_str(\"var n = { toString: function() { return 1 } };   '12'[n]\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var n = { toString: function() { return '1' } }; '12'[n]\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var n = { toString: function() { return 1 },\"\n                          \" valueOf:  function() { return 0 } };   '12'[n]\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { toString: function() { return 1 } }; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };  a\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var a = { toString: 2,\"\n                 \"          valueOf: function() { return 1 } };  a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { toString: function() { return [] },\"\n                 \"          valueOf: function() { return 1 } };  a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { toString: function() { return [] },\"\n                 \"          valueOf: function() { return 1 } };\"\n                 \"var o = {}; o[a] = 'test'\"),\n      njs_str(\"test\") },\n\n    { njs_str(\"({})[{}] = 'test'\"),\n      njs_str(\"test\") },\n\n    /**/\n\n    { njs_str(\"'\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f'.charCodeAt(5)\"),\n      njs_str(\"1077\") },\n\n    { njs_str(\"'12345\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f'.charCodeAt(35)\"),\n      njs_str(\"1101\") },\n\n    { njs_str(\"'12345\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f'.substring(35)\"),\n      njs_str(\"\u044d\u044e\u044f\") },\n\n    { njs_str(\"'abcdef'.substr(-5, 4).substring(3, 1).charAt(1)\"),\n      njs_str(\"d\") },\n\n    { njs_str(\"'abcdef'.substr(2, 4).charAt(2)\"),\n      njs_str(\"e\") },\n\n    { njs_str(\"var a = 'abcdef'.substr(2, 4).charAt(2).length; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 'abcdef'.substr(2, 4).charAt(2) + '1234'; a\"),\n      njs_str(\"e1234\") },\n\n    { njs_str(\"var a = ('abcdef'.substr(2, 5 * 2 - 6).charAt(2) + '1234')\"\n                 \"         .length; a\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"String.fromCharCode('_').charCodeAt(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"String.fromCodePoint('_')\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"String.fromCharCode(65.14)\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"String.fromCodePoint(3.14)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"String.fromCharCode(65.14 + 65536)\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"String.fromCharCode(0xD83D, 0xDCA9)\"),\n      njs_str(\"\ud83d\udca9\") },\n\n    { njs_str(\"String.fromCharCode(0xD83D, 0xDCA9).length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"String.fromCharCode(0xD83D)\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"String.fromCharCode(0xD83D).length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"String.fromCharCode(0xD83D) + String.fromCharCode(0xDCA9)\"),\n      njs_str(\"\ufffd\ufffd\") },\n\n    { njs_str(\"String.fromCodePoint(65 + 65536)\"),\n      njs_str(\"\ud800\udc41\") },\n\n    { njs_str(\"String.fromCodePoint(0xD83D, 0xDCA9)\"),\n      njs_str(\"\ud83d\udca9\") },\n\n    { njs_str(\"String.fromCodePoint(0xD83D, 0xDCA9).length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"String.fromCodePoint(0xD83D)\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"String.fromCodePoint(0xD83D).length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"String.fromCharCode(2**53 + 10)\"),\n      njs_str(\"\\n\") },\n\n    { njs_str(\"String.fromCodePoint(1114111 + 1)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"String.fromCharCode(65, 90) + String.fromCodePoint(65, 90)\"),\n      njs_str(\"AZAZ\") },\n\n    { njs_str(\"String.fromCharCode(945, 946, 947) + String.fromCodePoint(945, 946, 947)\"),\n      njs_str(\"\u03b1\u03b2\u03b3\u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"(function() {\"\n                 \"    var n;\"\n                 \"    for (n = 0; n <= 65536; n++) {\"\n\n                 /* From U+D800 to U+DFFF is surrogate pair. Not valid in UTF-8. */\n\n                 \"        if ((n < 0xD800 || n > 0xDFFF) && String.fromCharCode(n).charCodeAt(0) !== n)\"\n                 \"            return n;\"\n                 \"    }\"\n                 \"    return -1\"\n                 \"})()\"),\n      njs_str(\"65536\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* very long test under MSAN */\n    { njs_str(\"(function() {\"\n                 \"    var n;\"\n                 \"    for (n = 0; n <= 1114111; n++) {\"\n                 \"        if ((n < 0xD800 || n > 0xDFFF) && String.fromCodePoint(n).codePointAt(0) !== n)\"\n                 \"            return n;\"\n                 \"    }\"\n                 \"    return -1\"\n                 \"})()\"),\n      njs_str(\"-1\") },\n#endif\n\n    { njs_str(\"var a = 'abcdef'; function f(a) {\"\n                 \"return a.slice(a.indexOf('cd')) } f(a)\"),\n      njs_str(\"cdef\") },\n\n    { njs_str(\"var a = 'abcdef'; a.slice(a.indexOf('cd'))\"),\n      njs_str(\"cdef\") },\n\n    { njs_str(\"'abcdef'.indexOf('de', 2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f'.indexOf('\u043b\u043c\u043d\u043e', 10)\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"'abcdef'.indexOf('a', 10)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'abcdef'.indexOf('q', 0)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'abcdef'.indexOf('', 10)\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"'abcdef'.indexOf('', 3)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'12345'.indexOf()\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"''.indexOf('')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'12345'.indexOf(45, '0')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'12'.indexOf('12345')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"''.indexOf.call(12345, 45, '0')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var r = new String('undefined').indexOf(x); var x; r\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'a a'.toUTF8().indexOf('a', 1)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"'aaa'.lastIndexOf()\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'aaa'.lastIndexOf('')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'aaa'.lastIndexOf('a')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"'aaa'.lastIndexOf('aa')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"'aaa'.lastIndexOf('aaa')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'aaa'.lastIndexOf('aaaa')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'a'.repeat(16).lastIndexOf(String.fromCodePoint(65533).repeat(15))\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"('\u03b1'+'a'.repeat(15)).lastIndexOf(String.fromCodePoint(65533).repeat(15))\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'abc abc abc abc'.lastIndexOf('abc')\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"'abc abc abc abc'.lastIndexOf('abc', 11)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc abc abc'.lastIndexOf('abc', 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abc abc abc abc'.lastIndexOf('', 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abc abc abc abc'.lastIndexOf('', 5)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434 abc'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434')\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434 abc'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', undefined)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434 abc'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', NaN)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434 abc'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', {})\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"String.prototype.lastIndexOf.call({toString:()=>'abc abc \u0430\u0431\u0432\u0433\u0434 abc'}, '\u0430\u0431\u0432\u0433\u0434')\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434')\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', 11)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', 12)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', 13)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', 14)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', 15)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('')\"),\n      njs_str(\"16\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('', 12)\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"''.lastIndexOf('')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"''.lastIndexOf()\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"''.lastIndexOf(undefined)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'\u03b2'.repeat(32).lastIndexOf('\u03b2')\"),\n      njs_str(\"31\") },\n\n    { njs_str(\"'\u03b2'.repeat(32).lastIndexOf('\u03b2'.repeat(32))\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'\u03b2'.repeat(32).lastIndexOf``\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"JSON.stringify(Array(24).fill(true).map((v,i) => 'abc abc ab abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437ab'.lastIndexOf('abc', i)))\"\n                 \"== JSON.stringify([].concat(Array(4).fill(0), Array(7).fill(4), Array(13).fill(11)))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"''.includes('')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'12345'.includes()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f'.includes('\u043b\u043c\u043d\u043e', 10)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.includes('\u0430\u0431\u0432\u0433\u0434', 7)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.includes('\u0430\u0431\u0432\u0433\u0434', 8)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.includes('\u0430\u0431\u0432\u0433\u0434', 9)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"Array.prototype.includes.call(o); i\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"[,,,].includes(undefined)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"''.startsWith('')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'12345'.startsWith()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'abc'.startsWith('abc')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc'.startsWith('abc', 1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'abc'.startsWith('abc', -1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.startsWith('\u0430\u0431\u0432\u0433\u0434', 8)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.startsWith('\u0430\u0431\u0432\u0433\u0434', 9)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"''.endsWith('')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'12345'.endsWith()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'abc'.endsWith('abc')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc'.endsWith('abc', 4)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc'.endsWith('abc', 1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'abc'.endsWith('abc', -1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.endsWith('\u0430\u0431\u0432\u0433\u0434', 13)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.endsWith('\u0430\u0431\u0432\u0433\u0434', 14)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'\\x00\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417'.toLowerCase().length\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"'\u0391\u0392\u0393'.toLowerCase()\"),\n      njs_str(\"\u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"'\u0410\u0411\u0412'.toLowerCase()\"),\n      njs_str(\"\u0430\u0431\u0432\") },\n\n    { njs_str(\"'\u2c7e'.repeat(256).toLowerCase() === '\u023f'.repeat(256)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc'.toUpperCase()\"),\n      njs_str(\"ABC\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3'.toUpperCase()\"),\n      njs_str(\"\u0391\u0392\u0393\") },\n\n    { njs_str(\"'\u023f'.repeat(256).toUpperCase() === '\u2c7e'.repeat(256)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\\x00\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437'.toUpperCase().length\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"['\u023f', '\u2c7e', '\u023f'.toUpperCase(), '\u2c7e'.toLowerCase()].map((v)=>v.toUTF8().length)\"),\n      njs_str(\"2,3,3,2\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* very long tests under MSAN */\n    { njs_str(\"var a = [], code;\"\n                 \"for (code = 0; code <= 1114111; code++) {\"\n                 \"    var s = String.fromCodePoint(code);\"\n                 \"    var n = s.toUpperCase();\"\n                 \"    if (s != n && s != n.toLowerCase())\"\n                 \"        a.push(code);\"\n                 \"} a\"),\n      njs_str(\"181,305,383,453,456,459,498,837,962,976,977,981,982,1008,1009,1013,7296,7297,7298,7299,7300,7301,7302,7303,7304,7835,8126\") },\n\n    { njs_str(\"var a = [], code;\"\n                 \"for (code = 0; code <= 1114111; code++) {\"\n                 \"    var s = String.fromCodePoint(code);\"\n                 \"    var n = s.toLowerCase();\"\n                 \"    if (s != n && s != n.toUpperCase())\"\n                 \"        a.push(code);\"\n                 \"} a\"),\n      njs_str(\"304,453,456,459,498,1012,7838,8486,8490,8491\") },\n#endif\n\n    { njs_str(\"'abc'.trimStart().trim().trimEnd()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"''.trim()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'    '.trim()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc  '.trimEnd()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'   abc'.trimStart()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'   abc  '.trim()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'\u0430\u0431\u0432  '.trimEnd()\"),\n      njs_str(\"\u0430\u0431\u0432\") },\n\n    { njs_str(\"'   \u0430\u0431\u0432'.trimStart()\"),\n      njs_str(\"\u0430\u0431\u0432\") },\n\n    { njs_str(\"'   \u0430\u0431\u0432  '.trimStart().trimEnd()\"),\n      njs_str(\"\u0430\u0431\u0432\") },\n\n    { njs_str(\"'\\\\u2029abc\\\\uFEFF\\\\u2028'.trim()\"),\n      njs_str(\"abc\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* very long test under MSAN */\n    { njs_str(\"var a = [], code;\"\n                 \"for (code = 0; code <= 1114111; code++) {\"\n                 \"    var ws = String.fromCodePoint(code);\"\n                 \"    if ((ws + '-' + ws).trim() === '-')\"\n                 \"        a.push(code);\"\n                 \"} a\"),\n      njs_str(\"9,10,11,12,13,32,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288,65279\") },\n#endif\n\n    { njs_str(\"'abcdefgh'.search()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abcdefgh'.search('')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abcdefgh'.search(undefined)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abcdefgh'.search(/def/)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'abcdefgh'.search('def')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'123456'.search('45')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'123456'.search(45)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'123456'.search(String(45))\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'123456'.search(Number('45'))\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var r = { toString: function() { return '45' } };\"\n                 \"'123456'.search(r)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var r = { toString: function() { return 45 } };\"\n                 \"'123456'.search(r)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var r = { toString: function() { return /45/ } };\"\n                 \"'123456'.search(r)\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"var r = { toString: function() { return /34/ },\"\n                 \"          valueOf:  function() { return 45 } };\"\n                 \"'123456'.search(r)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'abc'.replace()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'ABC'.replace('B')\"),\n      njs_str(\"AundefinedC\") },\n\n    { njs_str(\"'ABC'.replace('B', undefined)\"),\n      njs_str(\"AundefinedC\") },\n\n    { njs_str(\"'a'.repeat(16).replace('a'.repeat(17)) === 'a'.repeat(16)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u03b1'.repeat(16).replace('\u03b1'.repeat(17)) === '\u03b1'.repeat(16)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'ABC'.replace('B', null)\"),\n      njs_str(\"AnullC\") },\n\n    { njs_str(\"'abc'.replace('c', 1)\"),\n      njs_str(\"ab1\") },\n\n    { njs_str(\"'abc'.replace('a', 'X')\"),\n      njs_str(\"Xbc\") },\n\n    { njs_str(\"'abc'.replace('b', 'X')\"),\n      njs_str(\"aXc\") },\n\n    { njs_str(\"('a'.repeat(33) + 'bb').replace('bb', 'CC').slice(31)\"),\n      njs_str(\"aaCC\") },\n\n    { njs_str(\"var r = 'abc'.replace('c', 'X'); [r, r.length]\"),\n      njs_str(\"abX,3\") },\n\n    { njs_str(\"var r = '\u03b1\u03b2\u03b3'.replace('\u03b1', 'X'); [r, r.length]\"),\n      njs_str(\"X\u03b2\u03b3,3\") },\n\n    { njs_str(\"var r = '\u03b1\u03b2\u03b3'.replace('\u03b2', 'X'); [r, r.length]\"),\n      njs_str(\"\u03b1X\u03b3,3\") },\n\n    { njs_str(\"var r = '\u03b1\u03b2\u03b3'.replace('\u03b3', 'X'); [r, r.length]\"),\n      njs_str(\"\u03b1\u03b2X,3\") },\n\n    { njs_str(\"var r = '\u03b1\u03b2\u03b3'.replace('', 'X'); [r, r.length]\"),\n      njs_str(\"X\u03b1\u03b2\u03b3,4\") },\n\n    { njs_str(\"'abc'.replace('b', (m, o, s) => `|${s}|${o}|${m}|`)\"),\n      njs_str(\"a|abc|1|b|c\") },\n\n    { njs_str(\"'abcdbe'.replace('b', '|$`X$\\\\'|')\"),\n      njs_str(\"a|aXcdbe|cdbe\") },\n\n    { njs_str(\"'ABC'.replace('B', '$<g>')\"),\n      njs_str(\"A$<g>C\") },\n\n    { njs_str(\"'ABC'.replace('B', '$23')\"),\n      njs_str(\"A$23C\") },\n\n    { njs_str(\"'undefined'.replace(void 0, 'x')\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"'12345'.replace(3, () => 0)\"),\n      njs_str(\"12045\") },\n\n    { njs_str(\"var r = new String('undefined').replace(x, Function('return arguments[1]+42;')); var x; r\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"'123'.replace(3, function() { return {toString: ()=>({})}; })\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"'12345'.replace(3, () => ({toString: () => 'aaaa'}))\"),\n      njs_str(\"12aaaa45\") },\n\n    { njs_str(\"'ABC'.replace('B', () => {throw 'OOps'})\"),\n      njs_str(\"OOps\") },\n\n    { njs_str(\"'abc'.replace(/a/, 'X')\"),\n      njs_str(\"Xbc\") },\n\n    { njs_str(\"'abccd'.replace(/c/, 'X')\"),\n      njs_str(\"abXcd\") },\n\n    { njs_str(\"'abc'.replace(/c/, 'X')\"),\n      njs_str(\"abX\") },\n\n    { njs_str(\"'abccd'.replace(/c+/, 'X')\"),\n      njs_str(\"abXd\") },\n\n    { njs_str(\"'abc'.replace(/f/, 'X')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'AB=C==='.replace(/=*$/, '')\"),\n      njs_str(\"AB=C\") },\n\n    { njs_str(\"('a'.repeat(33) + 'bb').replace(/bb/, 'CC').slice(31)\"),\n      njs_str(\"aaCC\") },\n\n    { njs_str(\"'abccd'.replace(/c/g, 'X')\"),\n      njs_str(\"abXXd\") },\n\n    { njs_str(\"('a'.repeat(33) + 'bb').replace(/bb/g, 'CC').slice(31)\"),\n      njs_str(\"aaCC\") },\n\n    { njs_str(\"'abccd'.replace(/[ac]/g, 'X')\"),\n      njs_str(\"XbXXd\") },\n\n    { njs_str(\"'ab'.replace(/q*/g, 'X')\"),\n      njs_str(\"XaXbX\") },\n\n    { njs_str(\"'\u03b1\u03b2'.replace(/q*/g, 'X')\"),\n      njs_str(\"X\u03b1X\u03b2X\") },\n\n    { njs_str(\"'\u03b1\u03b2'.replace(/(q)*/g, 'X')\"),\n      njs_str(\"X\u03b1X\u03b2X\") },\n\n    { njs_str(\"'\u03b1\u03b2'.replace(/q*/g, '\u03b3')\"),\n      njs_str(\"\u03b3\u03b1\u03b3\u03b2\u03b3\") },\n\n    { njs_str(\"':\u03b1:\u03b2:\u03b3:'.replace(/:/g, '')\"),\n      njs_str(\"\u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"':\u03b1:\u03b2:\u03b3:'.replace(/[\u03b1\u03b2\u03b3]/g, '')\"),\n      njs_str(\"::::\") },\n\n    { njs_str(\"'aabbccaa'.replace(/a*/g, '')\"),\n      njs_str(\"bbcc\") },\n\n    { njs_str(\"'aabbccaab'.replace(/z*/g, '')\"),\n      njs_str(\"aabbccaab\") },\n\n    { njs_str(\"''.replace(/a*/g, '')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcde'.replace(/d/, (m, o, s) => `|${s}|${o}|${m}|`)\"),\n      njs_str(\"abc|abcde|3|d|e\") },\n\n    { njs_str(\"'abcde'.replace(/(d)/, (m, p, o, s) => `|${s}|${o}|${m}|${p}|`)\"),\n      njs_str(\"abc|abcde|3|d|d|e\") },\n\n    { njs_str(\"'abc'.replace(/b/, () => 1)\"),\n      njs_str(\"a1c\") },\n\n    { njs_str(\"var n = 0; 'abbbc'.replace(/b/g, () => ++n)\"),\n      njs_str(\"a123c\") },\n\n    { njs_str(\"'abc'.replace(/x/, (m, o, s) => `|${s}|${o}|${m}|`)\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'abc12345#$*%'.replace(/([^\\\\d]*)(\\\\d*)([^\\\\w]*)/,\"\n              \"                       (_, p1, p2, p3) => [p1, p2, p3].join('-'))\"),\n      njs_str(\"abc-12345-#$*%\") },\n\n    { njs_str(\"'abc'.replace(/(?<named>b)/, (m, p, o, s, gr) => `|${gr.named}|`)\"),\n      njs_str(\"a|b|c\") },\n\n    { njs_str(\"'ABC'.replace(/[A-Z]/g, m => '-' + m.toLowerCase())\"),\n      njs_str(\"-a-b-c\") },\n\n    { njs_str(\"'abc'.replace(/(b)c/g, '|$01|')\"),\n      njs_str(\"a|b|\") },\n\n    { njs_str(\"'abc'.replace(/(b)c/g, '@$0|$01|$00@')\"),\n      njs_str(\"a@$0|b|$00@\") },\n\n    { njs_str(\"'abcdeFGHIJ'.replace(/(a)(b)(c)(d)(e)(F)(G)(H)(I)(J)/, '$9|$10|$11|$01')\"),\n      njs_str(\"I|J|a1|a\") },\n\n    { njs_str(\"'abcdbe'.replace(/(b)/g, '$2$23')\"),\n      njs_str(\"a$2$23cd$2$23e\") },\n\n    { njs_str(\"'abcdbe'.replace(/(b)/g, '$2$23X$$Y')\"),\n      njs_str(\"a$2$23X$Ycd$2$23X$Ye\") },\n\n    { njs_str(\"'abcdbe'.replace(/b/, '|$`X$\\\\'|')\"),\n      njs_str(\"a|aXcdbe|cdbe\") },\n\n    { njs_str(\"'abcdbefbgh'.replace(/b/g, '|$`X$\\\\'|')\"),\n      njs_str(\"a|aXcdbefbgh|cd|abcdXefbgh|ef|abcdbefXgh|gh\") },\n\n    { njs_str(\"'abc12345#$*%'.replace(/([^\\\\d]*)(\\\\d*)([^\\\\w]*)/, '$1-$2-$3')\"),\n      njs_str(\"abc-12345-#$*%\") },\n\n    { njs_str(\"'$1,$2'.replace(/(\\\\$(\\\\d))/g, '$$1-$1$2')\"),\n      njs_str(\"$1-$11,$1-$22\") },\n\n    { njs_str(\"'ABC'.replace(/(h*)(z*)(g*)/g, '$1@$2\u03b1$3')\"),\n      njs_str(\"@\u03b1A@\u03b1B@\u03b1C@\u03b1\") },\n\n    { njs_str(\"'abc'.replace(/(h*)(z*)/g, '$1@$2#$3:')\"),\n      njs_str(\"@#$3:a@#$3:b@#$3:c@#$3:\") },\n\n    { njs_str(\"/b(c)(z)?(.)/[Symbol.replace]('abcde', '[$1$2$3]')\"),\n      njs_str(\"a[cd]e\") },\n\n    { njs_str(\"/b(c)(z)?(.)/[Symbol.replace]('abcde', '[$01$02$03$04$00]')\"),\n      njs_str(\"a[cd$04$00]e\") },\n\n    { njs_str(\"var r = /./; r.exec = () => {return {}};\"\n              \"r[Symbol.replace]('ABCD', 'b')\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"var r = /./; r.exec = () => {return {}};\"\n              \"r[Symbol.replace]('ABCD', (m,p,o) => `${m}|${p}|${o}`)\"),\n      njs_str(\"undefined|0|ABCD\") },\n\n    { njs_str(\"var r = /./; r.exec = () => Buffer.from([]).toJSON().data;\"\n              \"r[Symbol.replace]('ABCD', 'b')\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"'\u03b1'.replace(/(h*)/g, '$1\u03b2\u03b3')\"),\n      njs_str(\"\u03b2\u03b3\u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"'\u03b1g'.replace(/(h*)/g, '$1\u03b2\u03b3')\"),\n      njs_str(\"\u03b2\u03b3\u03b1\u03b2\u03b3g\u03b2\u03b3\") },\n\n    { njs_str(\"'\u03b1g'.replace(/(\u03b1*)/g, '$1\u03b2\u03b3')\"),\n      njs_str(\"\u03b1\u03b2\u03b3\u03b2\u03b3g\u03b2\u03b3\") },\n\n    { njs_str(\"'\u03b1g'.replace(/(h*)/g, 'fg$1\u03b2\u03b3')\"),\n      njs_str(\"fg\u03b2\u03b3\u03b1fg\u03b2\u03b3gfg\u03b2\u03b3\") },\n\n    { njs_str(\"'\u03b1g\u03b2f\u03b3'.replace(/(g\u03b2)/g, 'n$1i')\"),\n      njs_str(\"\u03b1ng\u03b2if\u03b3\") },\n\n    { njs_str(\"'abc'.replace(/b/g, '|$&|')\"),\n      njs_str(\"a|b|c\") },\n\n    { njs_str(\"'ABC'.replace(/((A)B)/g, '($1|$&|$2)')\"),\n      njs_str(\"(AB|AB|A)C\") },\n\n    { njs_str(\"'abc'.replace(/b/g, '$0')\"),\n      njs_str(\"a$0c\") },\n\n    { njs_str(\"typeof String.bytesFrom(Array(15).fill(0xE3)).replace(/^/g, 1)\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"'abc'.replace(/^/g, '|$&|')\"),\n      njs_str(\"||abc\") },\n\n    { njs_str(\"var uri ='/u/v1/Aa/bB?type=m3u8&mt=42';\"\n              \"uri.replace(/^\\\\/u\\\\/v1\\\\/[^/]*\\\\/([^\\?]*)\\\\?.*(mt=[^&]*).*$/, '$1|$2')\"),\n      njs_str(\"bB|mt=42\") },\n\n    { njs_str(\"'ABC'.replace(/B/, '$<g>')\"),\n      njs_str(\"A$<g>C\") },\n\n    { njs_str(\"'ABC'.replace(/(?<b>B)/, '|$<b>|@$<a>@')\"),\n      njs_str(\"A|B|@@C\") },\n\n    { njs_str(\"'ABC'.replace(/(?<b>B)/, '|$<BB|')\"),\n      njs_str(\"A|$<BB|C\") },\n\n    { njs_str(\"'ABC'.replace(/(?<b>B)/, '|$<BB$$|>@')\"),\n      njs_str(\"A|@C\") },\n\n    { njs_str(\"('\u03b2' + '\u03b1'.repeat(33)+'\u03b2').replace(/(\u03b1+)(\u03b2+)/, (m, p1) => p1[32])\"),\n      njs_str(\"\u03b2\u03b1\") },\n\n    { njs_str(\"'abc'.replace(/(z*)/g, () => '@')\"),\n      njs_str(\"@a@b@c@\") },\n\n    { njs_str(\"'abc'.replace(/(a*)/g, () => '@')\"),\n      njs_str(\"@@b@c@\") },\n\n    { njs_str(\"var O = RegExp.prototype[Symbol.replace];\"\n              \"RegExp.prototype[Symbol.replace] = function (s, rep) { return O.call(this, s, `|${rep}|`); };\"\n              \"'ABC'.replace(/B/, '+')\"),\n      njs_str(\"A|+|C\") },\n\n    { njs_str(\"var O = RegExp.prototype.exec;\"\n              \"function mangled(s) { var r = O.call(this, s);\"\n              \"                      Object.defineProperty(r, '0', {enumerable:false}); \"\n              \"                      return r; };\"\n              \"RegExp.prototype.exec = mangled;\"\n              \"'ABC'.replace(/(B)/, (m, p1, off, s) => `@${m}|${p1}|${off}|${s}@`)\"),\n      njs_str(\"A@B|B|1|ABC@C\") },\n\n    { njs_str(\"var O = RegExp.prototype.exec;\"\n              \"function mangled(s) { var r = O.call(this, s);\"\n              \"                      Object.defineProperty(r, 'groups', {value: {g:1}}); \"\n              \"                      return r; };\"\n              \"RegExp.prototype.exec = mangled;\"\n              \"'ABC'.replace(/(B)/, '$<g>')\"),\n      njs_str(\"A1C\") },\n\n    { njs_str(\"var O = RegExp.prototype.exec;\"\n              \"function mangled(s) { var r = O.call(this, s);\"\n              \"                      Object.defineProperty(r, 'groups', {value: {get g() {throw 'OOps'}}}); \"\n              \"                      return r; };\"\n              \"RegExp.prototype.exec = mangled;\"\n              \"'ABC'.replace(/(B)/, '$<g>')\"),\n      njs_str(\"OOps\") },\n\n    { njs_str(\"var name = /a/g[Symbol.replace].name; [name, typeof name]\"),\n      njs_str(\"[Symbol.replace],string\") },\n\n    { njs_str(\"RegExp.prototype[Symbol.replace].call()\"),\n      njs_str(\"TypeError: \\\"this\\\" is not object\") },\n\n    { njs_str(\"RegExp.prototype[Symbol.replace].call(1)\"),\n      njs_str(\"TypeError: \\\"this\\\" is not object\") },\n\n    { njs_str(\"RegExp.prototype[Symbol.replace].call(/b/, 'abc','B')\"),\n      njs_str(\"aBc\") },\n\n    { njs_str(\"var m; var r = /./; r.exec = function() { return []; };\"\n              \"r[Symbol.replace]('foo', function() {m = arguments[0]}); [m, typeof m]\"),\n      njs_str(\"undefined,string\") },\n\n    { njs_str(\"String.bytesFrom([253,242,141,10]).replace(/\\\\s/g, 'X')[3]\"),\n      njs_str(\"X\") },\n\n    { njs_str(\"String.bytesFrom([255,149,15,97,95]).replace(/_/g, 'X')[4]\"),\n      njs_str(\"X\") },\n\n    { njs_str(\"/=/\"),\n      njs_str(\"/=/\") },\n\n    { njs_str(\"/[\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/[\\\" in 1\") },\n\n    { njs_str(\"/[\\\\\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/[\\\\\\\" in 1\") },\n\n    { njs_str(\"/\\\\s*;\\\\s*/\"),\n      njs_str(\"/\\\\s*;\\\\s*/\") },\n\n#ifndef NJS_HAVE_PCRE2\n    { njs_str(\"/]/\"),\n      njs_str(\"/\\\\]/\") },\n\n    { njs_str(\"RegExp(']')\"),\n      njs_str(\"/\\\\]/\") },\n\n    { njs_str(\"RegExp('[\\\\\\\\\\\\\\\\]]')\"),\n      njs_str(\"/[\\\\\\\\]\\\\]/\") },\n\n    { njs_str(\"/[\\\\\\\\]]/\"),\n      njs_str(\"/[\\\\\\\\]\\\\]/\") },\n\n    { njs_str(\"/\\\\]/\"),\n      njs_str(\"/\\\\]/\") },\n\n    { njs_str(\"RegExp('\\\\]')\"),\n      njs_str(\"/\\\\]/\") },\n\n    { njs_str(\"/ab]cd/\"),\n      njs_str(\"/ab\\\\]cd/\") },\n\n    { njs_str(\"/ab]/\"),\n      njs_str(\"/ab\\\\]/\") },\n\n    { njs_str(\"/]cd/\"),\n      njs_str(\"/\\\\]cd/\") },\n#endif\n\n    { njs_str(\"RegExp('[\\\\\\\\')\"),\n      njs_str(\"SyntaxError: \"\n              njs_pcre_var(\"pcre_compile2(\\\"[\\\\\\\") failed: \\\\ at end of pattern at \\\"\\\"\",\n                           \"pcre_compile(\\\"[\\\\\\\") failed: \\\\ at end of pattern\")) },\n\n    { njs_str(\"RegExp('\\\\\\\\0').source[1]\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"RegExp(undefined, 'g').global\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp('', 'g').global\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x; RegExp(x, 'g')\"),\n      njs_str(\"/(?:)/g\") },\n\n    { njs_str(\"']'.match(/]/)\"),\n      njs_str(\"]\") },\n\n    { njs_str(\"'ab]cd'.match(/]/)\"),\n      njs_str(\"]\") },\n\n    { njs_str(\"'ab]'.match(/]/)\"),\n      njs_str(\"]\") },\n\n    { njs_str(\"']cd'.match(/]/)\"),\n      njs_str(\"]\") },\n\n    { njs_str(\"'ab]cd'.match(/\\\\]/)\"),\n      njs_str(\"]\") },\n\n    { njs_str(\"'abc'.match(/a*/g)\"),\n      njs_str(\"a,,,\") },\n\n    { njs_str(\"'abc'.match(/z*/g)\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"'abc'.match(/.?/g)\"),\n      njs_str(\"a,b,c,\") },\n\n    { njs_str(\"''.match(/a*/g)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"''.match(/.?/g)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.match(/\u044f?/g)\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3'.match(/z*/g)\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"'\u56f2\u7881\u7e54'.match(/z*/g)\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"'\ud835\udfd8\ud835\udfd9\ud835\udfda\ud835\udfdb'.match(/z*/g)\"),\n      njs_str(\",,,,\") },\n\n    { njs_str(\"'abcdefgh'.match()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcdefgh'.match('')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcdefgh'.match(undefined)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcdefgh'.match(/def/)\"),\n      njs_str(\"def\") },\n\n    { njs_str(\"'abcdefgh'.match('def')\"),\n      njs_str(\"def\") },\n\n    { njs_str(\"'123456'.match('45')\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"'123456'.match(45)\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"'123456'.match(String(45))\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"'123456'.match(Number('45'))\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"var r = { toString: function() { return '45' } };\"\n                 \"'123456'.match(r)\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"var r = { toString: function() { return 45 } };\"\n                 \"'123456'.match(r)\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"var r = { toString: function() { return /45/ } };\"\n                 \"'123456'.match(r)\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"var r = { toString: function() { return /34/ },\"\n                 \"          valueOf:  function() { return 45 } };\"\n                 \"'123456'.match(r)\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"''.match(/^$/)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"''.match(/^$/g)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcdefgh'.match(/def/)\"),\n      njs_str(\"def\") },\n\n    { njs_str(\"'abc abc abc'.match('abc')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'abc abc abc'.match(/abc/)\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'abc abc abc'.match(/abc/g)\"),\n      njs_str(\"abc,abc,abc\") },\n\n    { njs_str(\"'abc ABC aBc'.match(/abc/ig)\"),\n      njs_str(\"abc,ABC,aBc\") },\n\n    { njs_str(\"var a = '\u03b1'.match(/\u03b1/g)[0] + '\u03b1';\"\n                 \"a +' '+ a.length\"),\n      njs_str(\"\u03b1\u03b1 2\") },\n\n    { njs_str(\"('\u03b2' + '\u03b1'.repeat(33) +'\u03b2').match(/\u03b1+/g)[0][32]\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"var a = '\\\\u00CE\\\\u00B1'.toBytes().match(/\u03b1/g)[0] + '\u03b1';\"\n                 \"a +' '+ a.length\"),\n      njs_str(\"\u03b1\u03b1 4\") },\n\n    { njs_str(\"typeof String.bytesFrom(Array(15).fill(0xE3)).match(/^/g)\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"'abc'.split()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'abc'.split(undefined)\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"''.split('').length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abc'.split('')\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3'.split('')\"),\n      njs_str(\"\u03b1,\u03b2,\u03b3\") },\n\n    { njs_str(\"'\u56f2\u7881\u7e54'.split('')\"),\n      njs_str(\"\u56f2,\u7881,\u7e54\") },\n\n    { njs_str(\"'\ud835\udfd8\ud835\udfd9\ud835\udfda\ud835\udfdb'.split('')\"),\n      njs_str(\"\ud835\udfd8,\ud835\udfd9,\ud835\udfda,\ud835\udfdb\") },\n\n    { njs_str(\"'\u56f2\u03b1\u7881\u03b1\u7e54'.split('\u03b1')\"),\n      njs_str(\"\u56f2,\u7881,\u7e54\") },\n\n    { njs_str(\"'a'.repeat(16).split('a'.repeat(15))\"),\n      njs_str(\",a\") },\n\n    { njs_str(\"('\u03b1'+'\u03b2'.repeat(33)).repeat(2).split('\u03b1')[1][32]\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"'abc'.split('abc')\"),\n      njs_str(\",\") },\n\n    { njs_str(\"'a bc def'.split(' ')\"),\n      njs_str(\"a,bc,def\") },\n\n    { njs_str(\"'a bc  def'.split(' ')\"),\n      njs_str(\"a,bc,,def\") },\n\n    { njs_str(\"'a bc  def'.split(' ', 3)\"),\n      njs_str(\"a,bc,\") },\n\n    { njs_str(\"'abc'.split('abc')\"),\n      njs_str(\",\") },\n\n    { njs_str(\"'ab'.split('123')\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"''.split(/0/).length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"'abc'.split(/(?:)/)\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"'a bc def'.split(/ /)\"),\n      njs_str(\"a,bc,def\") },\n\n    { njs_str(\"'a bc  def'.split(/ /)\"),\n      njs_str(\"a,bc,,def\") },\n\n    { njs_str(\"'abc'.split(/abc/)\"),\n      njs_str(\",\") },\n\n    { njs_str(\"('\u03b1'.repeat(32)).split(/./).length\"),\n      njs_str(\"33\") },\n\n    { njs_str(\"'AbcDefGhi'.split(/([A-Z][a-z]+)/)\"),\n      njs_str(\",Abc,,Def,,Ghi,\") },\n\n    { njs_str(\"'myCamelCaseString'.split(/(?=[A-Z])/)\"),\n      njs_str(\"my,Camel,Case,String\") },\n\n    { njs_str(\"'\u043c\u043e\u044f\u0412\u0435\u0440\u0431\u043b\u044e\u0436\u044c\u044f\u0421\u0442\u0440\u043e\u043a\u0430'.split(/(?=[\u0410-\u042f])/)\"),\n      njs_str(\"\u043c\u043e\u044f,\u0412\u0435\u0440\u0431\u043b\u044e\u0436\u044c\u044f,\u0421\u0442\u0440\u043e\u043a\u0430\") },\n\n    { njs_str(\"'Harry Trump ;Fred Barney; Helen Rigby ; Bill Abel ;Chris Hand '.split( /\\\\s*(?:;|$)\\\\s*/)\"),\n      njs_str(\"Harry Trump,Fred Barney,Helen Rigby,Bill Abel,Chris Hand,\") },\n\n    { njs_str(\"'\u0413\u0430\u0440\u0440\u0438 \u0422\u0440\u0430\u043c\u043f ;\u0424\u0440\u044d\u0434 \u0411\u0430\u0440\u043d\u0438; \u0425\u0435\u043b\u0435\u043d \u0420\u0438\u0433\u0431\u0438 ; \u0411\u0438\u043b\u043b \u0410\u0431\u0435\u043b\u044c'.split(/\\\\s*;\\\\s*/)\"),\n      njs_str(\"\u0413\u0430\u0440\u0440\u0438 \u0422\u0440\u0430\u043c\u043f,\u0424\u0440\u044d\u0434 \u0411\u0430\u0440\u043d\u0438,\u0425\u0435\u043b\u0435\u043d \u0420\u0438\u0433\u0431\u0438,\u0411\u0438\u043b\u043b \u0410\u0431\u0435\u043b\u044c\") },\n\n    { njs_str(\"'Hello 1 world. Sentence number 2.'.split(/(\\\\d)/)\"),\n      njs_str(\"Hello ,1, world. Sentence number ,2,.\") },\n\n    { njs_str(\"'\u041f\u0440\u0438\u0432\u0435\u0442 1 \u043c\u0438\u0440. \u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440 2.'.split(/(\\\\d)/)\"),\n      njs_str(\"\u041f\u0440\u0438\u0432\u0435\u0442 ,1, \u043c\u0438\u0440. \u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440 ,2,.\") },\n\n    { njs_str(\"'0123456789'.split('').reverse().join('')\"),\n      njs_str(\"9876543210\") },\n\n    { njs_str(\"/-/[Symbol.split]('a-b-c')\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"var O = RegExp.prototype[Symbol.split];\"\n              \"RegExp.prototype[Symbol.split] = function (s, limit) { \"\n              \"    return O.call(this, s, limit).map(v => `@${v}#`); \"\n              \"};\"\n              \"'2016-01-02'.split(/-/)\"),\n      njs_str(\"@2016#,@01#,@02#\") },\n\n    { njs_str(\"'abc'.repeat(3)\"),\n      njs_str(\"abcabcabc\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.repeat(3)\"),\n      njs_str(\"\u0430\u0431\u0432\u0430\u0431\u0432\u0430\u0431\u0432\") },\n\n    { njs_str(\"''.repeat(3)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc'.repeat(0)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc'.repeat(NaN)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc'.repeat(Infinity)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'abc'.repeat(-1)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"''.repeat(-1)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'a'.repeat(2147483647)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'a'.repeat(2147483648)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'a'.repeat(Infinity)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'a'.repeat(NaN)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"''.repeat(2147483646)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"''.repeat(2147483647)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"''.repeat(2147483648)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'aaaaaaaa'.repeat(2**64+1)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"''.repeat(Infinity)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"''.repeat(NaN)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.prototype.repeat.call({},2)\"),\n      njs_str(\"[object Object][object Object]\") },\n\n    { njs_str(\"'abc'.padStart(7)\"),\n      njs_str(\"    abc\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padStart(7)\"),\n      njs_str(\"    \u0430\u0431\u0432\") },\n\n    { njs_str(\"'abc'.padStart(3)\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padStart(0)\"),\n      njs_str(\"\u0430\u0431\u0432\") },\n\n    { njs_str(\"'abc'.padStart(NaN)\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'abc'.padStart(2147483647)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'abc'.padStart(2147483646, '')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"''.padStart(0, '')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'1'.padStart(5, 0)\"),\n      njs_str(\"00001\") },\n\n    { njs_str(\"''.padStart(1, '\u044f')\"),\n      njs_str(\"\u044f\") },\n\n    { njs_str(\"'abc'.padStart(6, NaN)\"),\n      njs_str(\"NaNabc\") },\n\n    { njs_str(\"'abc'.padStart(11, 123)\"),\n      njs_str(\"12312312abc\") },\n\n    { njs_str(\"'abc'.padStart(6, 12345)\"),\n      njs_str(\"123abc\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padStart(6, '\u044d\u044e\u044f')\"),\n      njs_str(\"\u044d\u044e\u044f\u0430\u0431\u0432\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padStart(4, '\u044d\u044e\u044f')\"),\n      njs_str(\"\u044d\u0430\u0431\u0432\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padStart(7, '\u044d\u044e\u044f')\"),\n      njs_str(\"\u044d\u044e\u044f\u044d\u0430\u0431\u0432\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padStart(10, '\u044d\u044e')\"),\n      njs_str(\"\u044d\u044e\u044d\u044e\u044d\u044e\u044d\u0430\u0431\u0432\") },\n\n    { njs_str(\"'abc'.padStart(10, Symbol())\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"'1234'.padEnd(4)\"),\n      njs_str(\"1234\") },\n\n    { njs_str(\"'1234'.padEnd(-1)\"),\n      njs_str(\"1234\") },\n\n    { njs_str(\"'\u044f'.padEnd(1)\"),\n      njs_str(\"\u044f\") },\n\n    { njs_str(\"'1234'.padEnd(5)\"),\n      njs_str(\"1234 \") },\n\n    { njs_str(\"'\u044f'.padEnd(6)\"),\n      njs_str(\"\u044f     \") },\n\n    { njs_str(\"'\u044f'.padEnd(2147483647)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'\u044f'.padEnd(2147483646, '')\"),\n      njs_str(\"\u044f\") },\n\n    { njs_str(\"''.padEnd(0, '')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\u044d\u044e'.padEnd(3, '\u044f')\"),\n      njs_str(\"\u044d\u044e\u044f\") },\n\n    { njs_str(\"''.padEnd(1, 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'1234'.padEnd(8, 'abcd')\"),\n      njs_str(\"1234abcd\") },\n\n    { njs_str(\"'1234'.padEnd(10, 'abcd')\"),\n      njs_str(\"1234abcdab\") },\n\n    { njs_str(\"'1234'.padEnd(7, 'abcd')\"),\n      njs_str(\"1234abc\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padEnd(5, '\u0413\u0414')\"),\n      njs_str(\"\u0430\u0431\u0432\u0413\u0414\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padEnd(4, '\u0413\u0414\u0423')\"),\n      njs_str(\"\u0430\u0431\u0432\u0413\") },\n\n    { njs_str(\"'\u0430\u0431\u0432\u0433'.padEnd(10, '\u0414\u0415\u0416\u0417')\"),\n      njs_str(\"\u0430\u0431\u0432\u0433\u0414\u0415\u0416\u0417\u0414\u0415\") },\n\n    { njs_str(\"'abc'.padEnd(10, Symbol())\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"[undefined, null, Symbol()]\"\n              \".every(v=> { try {String.bytesFrom(v);} catch(e) {return e.name == 'TypeError'} })\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"String.bytesFrom({}).length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"String.bytesFrom({length:5, 0:'A'.charCodeAt(0), 2:'X', 3:NaN,4:0xfd}).toString('hex')\"),\n      njs_str(\"41000000fd\") },\n\n    { njs_str(\"String.bytesFrom([1, 2, 0.23, '5', 'A']).toString('hex')\"),\n      njs_str(\"0102000500\") },\n\n    { njs_str(\"String.bytesFrom([NaN, Infinity]).toString('hex')\"),\n      njs_str(\"0000\") },\n\n    { njs_str(\"String.bytesFrom(new Uint8Array([0xff,0xde,0xba])).toString('hex')\"),\n      njs_str(\"ffdeba\") },\n\n    { njs_str(\"String.bytesFrom((new Uint8Array([0xff,0xde,0xba])).buffer).toString('hex')\"),\n      njs_str(\"ffdeba\") },\n\n    { njs_str(\"String.bytesFrom('', 'hex')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.bytesFrom('00aabbcc', 'hex').toString('hex')\"),\n      njs_str(\"00aabbcc\") },\n\n    { njs_str(\"String.bytesFrom(new String('00aabbcc'), 'hex').toString('hex')\"),\n      njs_str(\"00aabbcc\") },\n\n    { njs_str(\"String.bytesFrom('deadBEEF##', 'hex').toString('hex')\"),\n      njs_str(\"deadbeef\") },\n\n    { njs_str(\"String.bytesFrom('aa0', 'hex').toString('hex')\"),\n      njs_str(\"aa\") },\n\n    { njs_str(\"String.bytesFrom('', 'base64')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.bytesFrom('#', 'base64')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.bytesFrom('QQ==', 'base64')\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"String.bytesFrom('QQ=', 'base64')\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"String.bytesFrom('QQ', 'base64')\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"String.bytesFrom('Q', 'base64')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.bytesFrom('QUI=', 'base64')\"),\n      njs_str(\"AB\") },\n\n    { njs_str(\"String.bytesFrom('QUI', 'base64')\"),\n      njs_str(\"AB\") },\n\n    { njs_str(\"String.bytesFrom('QUJD', 'base64')\"),\n      njs_str(\"ABC\") },\n\n    { njs_str(\"String.bytesFrom('QUJDRA==', 'base64')\"),\n      njs_str(\"ABCD\") },\n\n    { njs_str(\"String.bytesFrom('', 'base64url')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.bytesFrom('QQ', 'base64url')\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"String.bytesFrom('QUI', 'base64url')\"),\n      njs_str(\"AB\") },\n\n    { njs_str(\"String.bytesFrom('QUJD', 'base64url')\"),\n      njs_str(\"ABC\") },\n\n    { njs_str(\"String.bytesFrom('QUJDRA', 'base64url')\"),\n      njs_str(\"ABCD\") },\n\n    { njs_str(\"String.bytesFrom('QUJDRA#', 'base64url')\"),\n      njs_str(\"ABCD\") },\n\n    { njs_str(\"String.bytesFrom('QUJDRA#', 'base64lol')\"),\n      njs_str(\"TypeError: Unknown encoding: \\\"base64lol\\\"\") },\n\n    { njs_str(\"encodeURI.name\"),\n      njs_str(\"encodeURI\")},\n\n    { njs_str(\"encodeURI.length\"),\n      njs_str(\"1\")},\n\n    { njs_str(\"encodeURI('012\u0430\u0431\u0432')\"),\n      njs_str(\"012%D0%B0%D0%B1%D0%B2\")},\n\n    { njs_str(\"encodeURI(String.fromCharCode(0xD800)+String.fromCharCode(0xDC00))\"),\n      njs_str(\"%EF%BF%BD%EF%BF%BD\")},\n\n    { njs_str(\"encodeURI('~}|{`_^]\\\\\\\\[@?>=<;:/.-,+*)(\\\\\\'&%$#\\\"! ')\"),\n      njs_str(\"~%7D%7C%7B%60_%5E%5D%5C%5B@?%3E=%3C;:/.-,+*)('&%25$#%22!%20\")},\n\n    { njs_str(\"encodeURIComponent.name\"),\n      njs_str(\"encodeURIComponent\")},\n\n    { njs_str(\"encodeURIComponent.length\"),\n      njs_str(\"1\")},\n\n    { njs_str(\"encodeURIComponent('~}|{`_^]\\\\\\\\[@?>=<;:/.-,+*)(\\\\\\'&%$#\\\"! ')\"),\n      njs_str(\"~%7D%7C%7B%60_%5E%5D%5C%5B%40%3F%3E%3D%3C%3B%3A%2F.-%2C%2B*)('%26%25%24%23%22!%20\")},\n\n    { njs_str(\"decodeURI.name\"),\n      njs_str(\"decodeURI\")},\n\n    { njs_str(\"decodeURI.length\"),\n      njs_str(\"1\")},\n\n    { njs_str(\"decodeURI('%00')\"),\n      njs_str(\"\\0\")},\n\n    { njs_str(\"decodeURI('%3012%D0%B0%D0%B1%D0%B2')\"),\n      njs_str(\"012\u0430\u0431\u0432\")},\n\n    { njs_str(\"decodeURI('%7e%7d%7c%7b%60%5f%5e%5d%5c%5b%40%3f%3e%3d%3c%3b%3a%2f%2e%2c%2b%2a%29%28%27%26%25%24%23%22%21%20')\"),\n      njs_str(\"~}|{`_^]\\\\[%40%3f>%3d<%3b%3a%2f.%2c%2b*)('%26%%24%23\\\"! \")},\n\n    { njs_str(\"decodeURIComponent.name\"),\n      njs_str(\"decodeURIComponent\")},\n\n    { njs_str(\"decodeURIComponent.length\"),\n      njs_str(\"1\")},\n\n    { njs_str(\"decodeURIComponent('%7e%7d%7c%7b%60%5f%5e%5d%5c%5b%40%3f%3e%3d%3c%3b%3a%2f%2e%2c%2b%2a%29%28%27%26%25%24%23%22%21%20')\"),\n      njs_str(\"~}|{`_^]\\\\[@?>=<;:/.,+*)('&%$#\\\"! \")},\n\n    { njs_str(\"decodeURI('%41%42%43').length\"),\n      njs_str(\"3\")},\n\n    { njs_str(\"decodeURI('%D0%B0%D0%B1%D0%B2').length\"),\n      njs_str(\"3\")},\n\n    { njs_str(\"decodeURI(String.bytesFrom([0x80,0x80]))\"),\n      njs_str(\"URIError: malformed URI\")},\n\n    { njs_str(\"[\"\n              \" '%',\"\n              \" '%0',\"\n              \" '%QQ',\"\n              \" '%C0%10',\"\n              \" '%DC%C7',\"\n              \" '%80%81%82',\"\n              \" '%EF%5C%A0',\"\n              \" '%EF%A0%5E',\"\n              \" '%E0%EF%A0',\"\n              \" '%E0%A0%EF',\"\n              \" '%FF%A2%95%BB',\"\n              \"].every(v=>{try { decodeURI(v)} catch(e) {return e.name == 'URIError'}})\"),\n      njs_str(\"true\")},\n\n    { njs_str(\"[\"\n              \" 'abc',\"\n              \" '\u03b1\u03b2\u03b3',\"\n              \" '\ud835\udfd8\ud835\udfd9\ud835\udfda\ud835\udfdb',\"\n              \" String.fromCodePoint(0x20000),\"\n              \"].every(v=>decodeURI(encodeURI(v)) === v)\"),\n      njs_str(\"true\")},\n\n    { njs_str(\"[encodeURI, encodeURIComponent, decodeURI, decodeURIComponent]\"\n              \".every(v=>{var r = v(); return (typeof r === 'string') && r === 'undefined';})\"),\n      njs_str(\"true\")},\n\n    /* Functions. */\n\n    { njs_str(\"return\"),\n      njs_str(\"SyntaxError: Illegal return statement in 1\") },\n\n    { njs_str(\"{return}\"),\n      njs_str(\"SyntaxError: Illegal return statement in 1\") },\n\n    { njs_str(\"\\n{\\nreturn;\\n}\"),\n      njs_str(\"SyntaxError: Illegal return statement in 3\") },\n\n    { njs_str(\"if (1) function f(){}\"),\n      njs_str(\"SyntaxError: Functions can only be declared at top level or inside a block in 1\") },\n\n    { njs_str(\"if (1) { function f(){}}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (1) function f() { }\"),\n      njs_str(\"SyntaxError: Functions can only be declared at top level or inside a block in 1\") },\n\n    { njs_str(\"while (1) { break; function f(){}}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"for (;;) function f() { }\"),\n      njs_str(\"SyntaxError: Functions can only be declared at top level or inside a block in 1\") },\n\n    { njs_str(\"for (;;) { break; function f(){}}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"do function f() { } while (0)\"),\n      njs_str(\"SyntaxError: Functions can only be declared at top level or inside a block in 1\") },\n\n    { njs_str(\"function f() { return 1; } { function f() { return 2; } } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { return 1; } { function f() { return 2; } { function f() { return 3; } }} f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"{function f() {} {} f() }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"{ var f; function f() {} }\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n    { njs_str(\"{ function f() {} var f; }\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n    { njs_str(\"{ function f() {} { var f }}\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n#if NJS_HAVE_LARGE_STACK\n    { njs_str(\"function f() { return f() } f()\"),\n      njs_str(\"RangeError: Maximum call stack size exceeded\") },\n#endif\n\n    { njs_str(\"function () { } f()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"(\\\" in 1\") },\n\n    { njs_str(\"function f() { }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { }; f.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"function f() { }; f.length = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"length\\\" of function\") },\n\n    { njs_str(\"function f(...rest) { }; f.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"function f(...rest) { }; var binded = f.bind(this, [1,2]);\"\n                 \"binded.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"function f(a,a) { };\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"function f(a,b,a) { };\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"function f(a, ...a) { };\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"(function(a,a) { })\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"(function(a,...a) { })\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"(function f(a,a) { })\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"(function f(a,...a) { })\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"function f(a,b) { }; f.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"function f(a,...rest) { }; f.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f(...) {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\")\\\" in 1\") },\n\n    { njs_str(\"(function (...) {})()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\")\\\" in 1\") },\n\n    { njs_str(\"function f(a,b) { }; var ff = f.bind(f, 1); ff.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object((new Date(0)).toJSON())+0\"),\n      njs_str(\"1970-01-01T00:00:00.000Z0\") },\n\n    { njs_str(\"Object((new Array(0)).toString())+0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"JSON.parse.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"JSON.parse.bind(JSON, '[]').length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {}; o.hasOwnProperty.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var x; function f() { }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { } f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { ; } f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { ;; } f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { return } f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { return; } f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { return;; } f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { return 1 } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { return 1; } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { return 1;; } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { return 1\\n 2 } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { return 1\\n 2 } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function f() { return 2.toString(); })()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"toString\\\" in 1\") },\n\n    { njs_str(\"(function f() { return 2..toString(); })()\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"function f(a) { if (a) return 'OK' } f(1)+f(0)\"),\n      njs_str(\"OKundefined\") },\n\n    { njs_str(\"function f(a) { if (a) return 'OK'; } f(1)+f(0)\"),\n      njs_str(\"OKundefined\") },\n\n    { njs_str(\"function f(a) { if (a) return 'OK';; } f(1)+f(0)\"),\n      njs_str(\"OKundefined\") },\n\n    { njs_str(\"var a = 1; a()\"),\n      njs_str(\"TypeError: number is not a function\") },\n\n    { njs_str(\"var o = {a:1}; o.a()\"),\n      njs_str(\"TypeError: (intermediate value)[\\\"a\\\"] is not a function\") },\n\n    { njs_str(\"(function(){})()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var q = 1; function x(a, b, c) { q = a } x(5); q\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"function x(a) { while (a < 2) a++; return a + 1 } x(1) \"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(function(){\"\n              \"(function(){\"\n              \"(function(){\"\n              \"(function(){\"\n              \"(function(){\"\n              \"(function(){\"\n              \"(function(){\"\n              \"(function(){\"\n              \"(function(){})\"\n              \"})\"\n              \"})\"\n              \"})\"\n              \"})\"\n              \"})\"\n              \"})\"\n              \"})\"\n              \"})\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"Function.prototype.toString = function () {return 'X'};\"\n                 \"eval\"),\n      njs_str(\"X\") },\n\n    { njs_str(\"var o = {f:function(x){ return x**2}}; o.f\\n(2)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var o = {f:function(x){ return x**2}}; o\\n.f\\n(2)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var o = {f:function(x){ return x**2}}; o\\n.\\nf\\n(2)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f(x){ return x**2}; [f(2)\\n, f\\n(2),\\nf\\n(\\n2),\\nf\\n(\\n2\\n)]\"),\n      njs_str(\"4,4,4,4\") },\n\n    { njs_str(\"function f (x){ return x**2}; f\\n(2)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f (x){ return x**2}; f\\n(\\n2)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f (x){ return x**2}; f\\n(\\n2\\n)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f (x){ return x**2}; f\\n(2\\n)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f (x){ return x**2}; f(2\\n)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var fn = Function.prototype.call; fn.call(() => 1)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var fn = Function.prototype.call; fn.call(fn, () => 1)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var fn = Function.prototype.call; fn.call(fn, fn, () => 1)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"eval.call.call(Number)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"URIError.apply.apply(RegExp)\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"[0].some(function(){return Array.call.bind(isNaN)}())\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"(function (undefined, NaN, Infinity){ return undefined + NaN + Infinity})('x', 'y', 'z')\"),\n      njs_str(\"xyz\") },\n\n    { njs_str(\"function f(undefined,NaN, Infinity){ return undefined + NaN + Infinity}; f('x', 'y', 'z')\"),\n      njs_str(\"xyz\") },\n\n    { njs_str(\"(function (Object, Array, Boolean){ return Object + Array + Boolean})('x', 'y', 'z')\"),\n      njs_str(\"xyz\") },\n\n    { njs_str(\"var n = 11, res;\"\n              \"function a() {return b}\"\n              \"res = a()(2);\"\n              \"function b(k) {var x = b; return 1 + k + n} res\"),\n      njs_str(\"14\") },\n\n    { njs_str(\"var y = 9, res;\"\n              \"function a(n) {function b() {return c(n + 2)} return b()}\"\n              \"res = a(1);\"\n              \"function c(m) {var x = c; return m + 3 + y} res\"),\n      njs_str(\"15\") },\n\n    { njs_str(\"var res;\"\n              \"closure();\"\n              \"res = globalThis.funcall(1);\"\n              \"function closure() {\"\n              \"    var y = 9, res;\"\n              \"    globalThis.funcall = a;\"\n              \"    function a(n) { function b() {return c(2)} return b() }\"\n              \"    function c(m) {var x = c; return m + 3 + y}\"\n              \"} res\"),\n      njs_str(\"14\") },\n\n    { njs_str(\"function a() {\"\n              \"    var x = 1;\"\n              \"    function b() {var n = x; x = undefined; return n}\"\n              \"    return b;\"\n              \"}\"\n              \"[a()(), a()()];\"),\n      njs_str(\"1,1\") },\n\n    { njs_str(\"function a(obj, name) {!Object.prototype.hasOwnProperty.call(obj, name)}\"\n              \"a(this, 'b');\"\n              \"function b() {}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function abc() {\"\n              \"function x() {var a = x.arr; x.arr = 123; return a}\"\n              \"return x;\"\n              \"} [abc()(),abc()()]\"),\n      njs_str(\",\") },\n\n    { njs_str(\"function x() {var a = x.arr; x.arr = 123; return a} [x(),x()]\"),\n      njs_str(\",123\") },\n\n    { njs_str(\"var obj;\"\n              \"function make(desc) {obj = {'a': 123}}\"\n              \"function a(desc) {make()}\"\n              \"a(); obj.a\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var res;\"\n              \"function cls() {\"\n              \"    var obj = {'a': 123};\"\n              \"    Object.defineProperty(obj, \\\"length\\\", {\"\n              \"        get: function() {res = obj}\"\n              \"    });\"\n              \"    return obj;\"\n              \"}\"\n              \"var obj = cls();\"\n              \"[].includes.call(obj); res.a\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function f(){} typeof(f)\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"function let() {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"let\\\" in 1\") },\n\n    { njs_str(\"function static() {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"static\\\" in 1\") },\n\n    { njs_str(\"var arr = [];\"\n              \"function fn(one) {\"\n              \"    var x = one + 1;\"\n              \"    let y = one + 2;\"\n              \"    const u = one + 4;\"\n              \"    {\"\n              \"        {\"\n              \"            let z = one + 3;\"\n              \"            const v = one + 5;\"\n              \"            function f() {\"\n              \"                arr.push(one); arr.push(x);\"\n              \"                arr.push(y);   arr.push(z);\"\n              \"                arr.push(u);   arr.push(v);\"\n              \"            }\"\n              \"            f();\"\n              \"        }\"\n              \"    }\"\n              \"}\"\n              \"fn(1); arr\"),\n      njs_str(\"1,2,3,4,5,6\") },\n\n    /* Function nesting depth. */\n\n    { njs_str(\"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => 1\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => 1\"),\n      njs_str(\"RangeError: Maximum function nesting depth exceeded\") },\n\n    /* Recursive factorial. */\n\n    { njs_str(\"function f(a) {\"\n                 \"    if (a > 1)\"\n                 \"        return a * f(a - 1)\\n\"\n                 \"    return 1\"\n                 \"}\"\n                 \"f(10)\"),\n      njs_str(\"3628800\") },\n\n    /* Recursive factorial. */\n\n    { njs_str(\"function f(a) { return (a > 1) ? a * f(a - 1) : 1 } f(10)\"),\n      njs_str(\"3628800\") },\n\n    { njs_str(\"var g = function f(a) { return (a > 1) ? a * f(a - 1) : 1 };\"\n                 \"g(10)\"),\n      njs_str(\"3628800\") },\n\n    { njs_str(\"(function f(a) { return (a > 1) ? a * f(a - 1) : 1 })(10)\"),\n      njs_str(\"3628800\") },\n\n    /* Nested functions and closures. */\n\n    { njs_str(\"function f() { var x = 4; \"\n                 \"function g() { return x }; return g(); } f()\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f(a) { function g(b) { return a + b } return g }\"\n                 \"var k = f('a'); k('b')\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"function f(a) { return function(b) { return a + b } }\"\n                 \"var k = f('a'); k('b')\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"function f(a) { return function(b) { return a + b } }\"\n                 \"var k = f('a'), m = f('b'); k('c') + m('d')\"),\n      njs_str(\"acbd\") },\n\n    { njs_str(\"function f(a) { return \"\n                 \"function(b) { return function(c) { return a + b + c } } }\"\n                 \"var g = f('a'), k = g('b'), m = g('c'); k('d') + m('e')\"),\n      njs_str(\"abdace\") },\n\n    { njs_str(\"function f(a) {\"\n                 \"function g() { return a }; return g; }\"\n                 \"var y = f(4); y()\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f() { var x = 4; \"\n                 \"return function() { return x } }\"\n                 \"var y = f(); y()\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f() { var x = 4;\"\n                 \"function g() { if (1) { return 2 + x; } }; return g }\"\n                 \"var y = f(); y()\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var x; var y = 4;\"\n                 \"function f() { function h() { x = 3; return y; } }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() {\"\n                 \"    var a = 'a';\"\n                 \"    if (0) { a = 'b' };\"\n                 \"    function f2() { return a };\"\n                 \"    return f2\"\n                 \"};\"\n                 \"f()()\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"function f() {\"\n                 \"    var a = 'a'; \"\n                 \"    if (0) { if (0) {a = 'b'} };\"\n                 \"    function f2() { return a };\"\n                 \"    return f2\"\n                 \"};\"\n                 \"f()()\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"function f() { var a = f2(); }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { var a = f2(); } f();\"),\n      njs_str(\"ReferenceError: \\\"f2\\\" is not defined\") },\n\n    { njs_str(\"typeof Buffer !== 'undefined' ? Buffer : function Buffer(){}\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"1 == 2 ? func() : '123'\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"1 == 1 ? func() : '123'\"),\n      njs_str(\"ReferenceError: \\\"func\\\" is not defined\") },\n\n    { njs_str(\"function f(){ if (1 == 1) { 1 == 2 ? some_var : '123' } }; f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){ if (1 == 1) { 1 == 1 ? some_var : '123' } }; f()\"),\n      njs_str(\"ReferenceError: \\\"some_var\\\" is not defined\") },\n\n    { njs_str(\"function f(){ if (1 == 1) { 1 == 2 ? some_func() : '123' } }; f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){ if (1 == 1) { 1 == 1 ? some_func() : '123' } }; f()\"),\n      njs_str(\"ReferenceError: \\\"some_func\\\" is not defined\") },\n\n    { njs_str(\"(function(){ function f() {return f}; return f()})()\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"function  f() {}; f.toString = ()=> 'F'; ({'F':1})[f]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = ''; \"\n                 \"function f(list) {\"\n                 \"    function add(v) {a+=v};\"\n                 \"    list.forEach(function(v) {add(v)});\"\n                 \"};\"\n                 \"f(['a', 'b', 'c']); a\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"var l = [];\"\n                 \"var f = function() { \"\n                 \"    function f2() { l.push(f); l.push(f2); }; \"\n                 \"    l.push(f); l.push(f2); \"\n                 \"    f2(); \"\n                 \"}; \"\n                 \"f(); \"\n                 \"l.every(function(v) {return typeof v == 'function'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var l = [];\"\n                 \"function baz() {\"\n                 \"  function foo(v) {\"\n                 \"     function bar() { foo(0); }\"\n                 \"     l.push(v);\"\n                 \"     if (v === 1) { bar(); }\"\n                 \"  }\"\n                 \"  foo(1);\"\n                 \"}; baz(); l\"),\n      njs_str(\"1,0\") },\n\n    { njs_str(\"var gen = (function(){  \"\n                 \"           var s = 0; \"\n                 \"           return { inc: function() {s++}, \"\n                 \"                    s: function() {return s} };});\"\n                 \"var o1 = gen(); var o2 = gen();\"\n                 \"[o1.s(),o2.s(),o1.inc(),o1.s(),o2.s(),o2.inc(),o1.s(),o2.s()]\"),\n      njs_str(\"0,0,,1,0,,1,1\") },\n\n    /* Recursive fibonacci. */\n\n    { njs_str(\"function fibo(n) {\"\n                 \"    if (n > 1)\"\n                 \"        return fibo(n-1) + fibo(n-2)\\n\"\n                 \"     return 1\"\n                 \"}\"\n                 \"fibo(10)\"),\n      njs_str(\"89\") },\n\n    { njs_str(\"function fibo(n) {\"\n                 \"    if (n > 1)\"\n                 \"        return fibo(n-1) + fibo(n-2)\\n\"\n                 \"     return '.'\"\n                 \"}\"\n                 \"fibo(10).length\"),\n      njs_str(\"89\") },\n\n    { njs_str(\"function fibo(n) {\"\n                 \"    if (n > 1)\"\n                 \"        return fibo(n-1) + fibo(n-2)\\n\"\n                 \"     return 1\"\n                 \"}\"\n                 \"fibo('10')\"),\n      njs_str(\"89\") },\n\n    { njs_str(\"function add(a, b) { return a + b }\"\n                 \"function mul(a, b) { return a * b }\"\n                 \"function f(a, b) {\"\n                 \"    return a + mul(add(1, 2), add(2, 3)) + b\"\n                 \"}\"\n                 \"f(30, 70)\"),\n      njs_str(\"115\") },\n\n    { njs_str(\"function a(x, y) { return x + y }\"\n                 \"function b(x, y) { return x * y }\"\n                 \"a(3, b(4, 5))\"),\n      njs_str(\"23\") },\n\n    { njs_str(\"function x(n) { return n }; x('12'.substr(1))\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"function f(a) { a *= 2 } f(10)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { return 5 } f()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"function g(x) { return x + 1 }\"\n                 \"function f(x) { return x } f(g)(2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"function f() { return 5 } f(1)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"function f() {} f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() {;} f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){return} f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){return;} f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){return\\n1} f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(a) { return a + 1 } var b = f(2); b\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var f = function(a) { a *= 2; return a }; f(10)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"var f = function b(a) { a *= 2; return a }; f(10)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"var f = function b(a) { a *= 2; return a }; b(10)\"),\n      njs_str(\"ReferenceError: \\\"b\\\" is not defined\") },\n\n    { njs_str(\"var f; f = function(a) { a *= 2; return a }; f(10)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"var f; f = function b(a) { a *= 2; return a }; f(10)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"var a, f = a = function(a) { a *= 2; return a }; f(10)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"var a, f = a = function(a) { a *= 2; return a }; a(10)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"var f = function b(a) { a *= 2; return a } = 5\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in assignment in 1\") },\n\n    { njs_str(\"function a() { return { x:2} }; var b = a(); b.x\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = {}; function f(a) { return a + 1 } a.b = f(2); a.b\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(function(x) { return x + 1 })(2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(function(x) { return x + 1 }(2))\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = function() { return 1 }(); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = (function() { return 1 })(); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = (function(a) { return a + 1 })(2); a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = (function(a) { return a + 1 }(2)); a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = +function(a) { return a + 1 }(2); a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = -function(a) { return a + 1 }(2); a\"),\n      njs_str(\"-3\") },\n\n    { njs_str(\"var a = !function(a) { return a + 1 }(2); a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = ~function(a) { return a + 1 }(2); a\"),\n      njs_str(\"-4\") },\n\n    { njs_str(\"var a = void function(a) { return a + 1 }(2); a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = true && function(a) { return a + 1 }(2); a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a; a = 0, function(a) { return a + 1 }(2); a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = (0, function(a) { return a + 1 }(2)); a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 0, function(a) { return a + 1 }(2); a\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"function\\\" in 1\") },\n\n    { njs_str(\"var a = (0, function(a) { return a + 1 }(2)); a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = +function f(a) { return a + 1 }(2);\"\n                 \"var b = f(5); a\"),\n      njs_str(\"ReferenceError: \\\"f\\\" is not defined\") },\n\n    { njs_str(\"var o = { f: function(a) { return a * 2 } }; o.f(5)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var o = {}; o.f = function(a) { return a * 2 }; o.f(5)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var o = { x: 1, f: function() { return this.x } }; o.f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = { x: 1, f: function(a) { return this.x += a } };\"\n                 \"o.f(5) +' '+ o.x\"),\n      njs_str(\"6 6\") },\n\n    { njs_str(\"var f = function(a) { return 3 }; f.call()\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var f = function(a) { return this }; f.call(5)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a }; f.call(5, 1)\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.call(5, 1, 2)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var f = function(a) { return 3 }; f.apply()\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var f = function(a) { return this }; f.apply(5)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var f = function(a) { return this + a }; f.apply(5, 1)\"),\n      njs_str(\"TypeError: second argument is not an array-like object\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.apply(5, [1, 2])\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.apply(5, [1, 2], 3)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.apply(5, {'length':2, '0':1, '1':2})\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.apply(5, {'length':2, '0':1, '1':2, '2':3})\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var f = function(a, b, c) { return this + a + b + c};\"\n                 \"f.apply(\\\"a\\\", {'length':2, '0':1, '1':2, '2':3})\"),\n      njs_str(\"a12undefined\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.apply(5, {'length':3, '0':1, '1':2, '2':3})\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var f = function(a) { return this + a };\"\n                 \"f.apply(5, {'nolength':3, '0':1, '1':2})\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var f = function(a) { return this };\"\n                 \"f.apply(5, {'nolength':3, '0':1, '1':2})\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var f = function(a, b, c) { return this + a + b + c };\"\n                 \"f.apply(\\\"a\\\", {'length':3, '0':1, '1':2})\"),\n      njs_str(\"a12undefined\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.apply(\\\"a\\\", {'length':2, '0':undefined, '1':null})\"),\n      njs_str(\"aundefinednull\") },\n\n    { njs_str(\"var f = function() { return this };\"\n                 \"f.apply(123, {})\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"String.prototype.concat.apply('a', \"\n                 \"{length:2, 0:{toString:function() {return 'b'}}, 1:'c'})\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"String.prototype.concat.apply('a',\"\n                 \"{length: {valueOf: () => 2}, 0:'b', 1:'c'})\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"var o = {0:'b', 1:'c'}; Object.defineProperty(o, 'length', {get: () => 2});\"\n              \"String.prototype.concat.apply('a', o)\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"var a = function() { return 1 } + ''; a\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"''.concat.call()\"),\n      njs_str(\"TypeError: \\\"this\\\" argument is null or undefined\") },\n\n    { njs_str(\"''.concat.call('a', 'b', 'c')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"''.concat.call('a')\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"''.concat.call('a', [ 'b', 'c' ])\"),\n      njs_str(\"ab,c\") },\n\n    { njs_str(\"''.concat.call('a', [ 'b', 'c' ], 'd')\"),\n      njs_str(\"ab,cd\") },\n\n    { njs_str(\"''.concat.apply()\"),\n      njs_str(\"TypeError: \\\"this\\\" argument is null or undefined\") },\n\n    { njs_str(\"''.concat.apply('a')\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"''.concat.apply('a', 'b')\"),\n      njs_str(\"TypeError: second argument is not an array-like object\") },\n\n    { njs_str(\"''.concat.apply('a', [ 'b', 'c' ])\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"''.concat.apply('a', [ 'b', 'c' ], 'd')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"[].join.call([1,2,3])\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[].join.call([1,2,3], ':')\"),\n      njs_str(\"1:2:3\") },\n\n    { njs_str(\"[].join.call([1,2,3], 55)\"),\n      njs_str(\"1552553\") },\n\n    { njs_str(\"[].join.call()\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"[1,2,3].join(undefined)\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"Array.prototype[1] = 1; var x = [0]; x.length = 2; x.join()\"),\n      njs_str(\"0,1\") },\n\n    { njs_str(\"Object.prototype[1] = 1; Object.prototype.length = 2; Array.prototype.join.call({0:0})\"),\n      njs_str(\"0,1\") },\n\n    { njs_str(\"var x = [0,,4]; x.length = 3; \"\n              \"Object.defineProperty(Array.prototype, 1, \"\n                \"{get:()=>{Object.defineProperty(x, 2, {value:'x', enumerable:false}); return 1}});\"\n              \"x.join()\"),\n      njs_str(\"0,1,x\") },\n\n    { njs_str(\"[].slice.call()\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"function f(a) {} ; var a = f; var b = f; a === b\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function f() {} ; f.toString()\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"function f() {}; f\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"function f() {}; f = f + 1; f\"),\n      njs_str(\"[object Function]1\") },\n\n    { njs_str(\"function a() { return 1 }\"\n                 \"function b() { return a }\"\n                 \"function c() { return b }\"\n                 \"c()()()\"),\n      njs_str(\"1\") },\n\n#if 0\n    { njs_str(\"function f() {}; f += 1; f\"),\n      njs_str(\"[object Function]1\") },\n#endif\n\n    { njs_str(\"function f() {}; function g() { return f }; g()\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"function f(a) { return this+a }; var a = f; a.call('0', 1)\"),\n      njs_str(\"01\") },\n\n    { njs_str(\"function f(a) { return this+a }; f.call('0', 1)\"),\n      njs_str(\"01\") },\n\n    { njs_str(\"function f(a) { return this+a };\"\n                 \"function g(f, a, b) { return f.call(a, b) }; g(f, '0', 1)\"),\n      njs_str(\"01\") },\n\n    { njs_str(\"function f(a) { return this+a };\"\n                 \"var o = { g: function (f, a, b) { return f.call(a, b) } };\"\n                 \"o.g(f, '0', 1)\"),\n      njs_str(\"01\") },\n\n    { njs_str(\"var concat = ''.concat; concat(1,2,3)\"),\n      njs_str(\"TypeError: \\\"this\\\" argument is null or undefined\") },\n\n    { njs_str(\"var concat = ''.concat; concat.call(1,2,3)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var concat = ''.concat; concat.yes = 'OK';\"\n                 \"concat.call(1,2,3, concat.yes)\"),\n      njs_str(\"123OK\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1'); b('2', '3')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2'); b('3')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', 2, '3'); b()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1'); b.call('0', '2', '3')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2'); b.call('0', '3')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2', '3'); b.call('0')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2', '3'); b.call()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1'); b.apply('0', ['2', '3'])\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2'); b.apply('0', ['3'])\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2', '3'); b.apply('0')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2', '3'); b.apply()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function f(a, b) { return this + a + b }\"\n                 \"var b = f.bind('1', '2', '3'); b.apply()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function f() { var a; return (function() { a = 1; return a; }).bind()() } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { var a; function baz() { a = 1; return a; } return baz.bind()(); } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(){ var a = 1; return (function() { return a; })})().bind()()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var r = (function(){ var a = 1; return (function() { return {a,args:arguments}; })})().bind()('b');\"\n              \"njs.dump(r)\"),\n      njs_str(\"{a:1,args:{0:'b'}}\") },\n\n    { njs_str(\"function f() { var a = 1; function baz() { return a; } return baz; } f().bind()()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { var t = 1; function baz() { return t; } return baz; }\"\n                 \"f().bind()();\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(a) { var s = typeof g, q = g; var g = 1; s += typeof g; function g(b) { return a + b }; return q; })(1)(2)\"),\n      njs_str(\"3\")},\n\n    { njs_str(\"(function(a) { var g = f; var f = 1; function f() { return a; } return g; })(42)()\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"function f(a, b) { return a + b }\"\n                 \"f(3,4) === f.bind()(3,4)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var obj = {prop:'abc'}; \"\n                 \"var func = function(x) { \"\n                 \"    return this === obj && x === 1 && arguments[0] === 1 \"\n                 \"           && arguments.length === 1 && this.prop === 'abc';\"\n                 \"};\"\n                 \"Function.prototype.bind.call(func, obj, 1)()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function F(a, b) { this.a = a + b }\"\n                 \"var o = new F(1, 2);\"\n                 \"o.a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"function F(a, b) { this.a = a + b; return { a: 7 } }\"\n                 \"var o = new F(1, 2);\"\n                 \"o.a\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"function F(a, b) { return }\"\n                 \"F.prototype.constructor === F\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function F() { return }\"\n                 \"F.prototype.ok = 'OK';\"\n                 \"var o = new F(); o.ok\"),\n      njs_str(\"OK\") },\n\n    { njs_str(\"function F() { return }\"\n                 \"var o = new F();\"\n                 \"o.constructor === F\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function F() { return }\"\n                 \"var o = new F();\"\n                 \"o.__proto__ === F.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var f = { F: function(){} }; var o = new f.F();\"\n                 \"o.__proto__ === f.F.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function F(){}; typeof F.prototype\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var F = function (){}; typeof F.prototype\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var F = function (){}; F.prototype = NaN; ({}) instanceof F\"),\n      njs_str(\"TypeError: Function has non-object prototype in instanceof\") },\n\n    { njs_str(\"var F = function() {};\"\n              \"[F, F].map((x)=>Object.getOwnPropertyDescriptor(x, 'prototype').writable)\"\n              \".every((x)=> x === true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var F = function() {}, a = {t: 1}, b = {t: 2}, x, y; \"\n              \"F.prototype = a; x = new F();\"\n              \"F.prototype = b; y = new F();\"\n              \"x.t == 1 && y.t == 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function A(){}; A.tag = 'A'; var a = new A();\"\n              \"(function B(){}).prototype = A.prototype;\"\n              \"a.constructor.tag\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"function A(){}; A.tag = 'A'; var a = new A();\"\n              \"(function B(){}).prototype = a.constructor.prototype;\"\n              \"a.constructor.tag\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"var x = {}, y = function() {}, z; y.prototype = x; z = new y();\"\n              \"(z instanceof y) && (z.__proto__ == y.prototype) && (x.isPrototypeOf(z))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = {}, y = function() {}, z; y.prototype = x; z = new y();\"\n              \"(z instanceof y) && (z.__proto__ == y.prototype) && (x.isPrototypeOf(z))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[undefined, null, false, NaN, '']\"\n              \".map((x) => { var f = function() {}; f.prototype = x; \"\n              \"              return Object.getPrototypeOf(new f()); })\"\n              \".every((x) => x == Object.prototype)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[undefined, null, false, NaN, '']\"\n              \".map((x) => { var f = function() {}; f.prototype = x; return f; })\"\n              \".map((x) => { try { return ({} instanceof x) ? 1 : 2; } \"\n              \"              catch (e) { return (e instanceof TypeError) ? 3 : 4; } })\"\n              \".every((x) => x == 3)\"),\n      njs_str(\"true\")},\n\n    { njs_str(\"new decodeURI('%00')\"),\n      njs_str(\"TypeError: function is not a constructor\")},\n\n    { njs_str(\"new ''.toString\"),\n      njs_str(\"TypeError: function is not a constructor\")},\n\n    { njs_str(\"function F() { return Number }\"\n                 \"var o = new (F())(5);\"\n                 \"typeof o +' '+ o\"),\n      njs_str(\"object 5\") },\n\n    { njs_str(\"function F() { return Number }\"\n                 \"var o = new (F());\"\n                 \"typeof o +' '+ o\"),\n      njs_str(\"object 0\") },\n\n    { njs_str(\"var o = new function F() { return Number }()(5);\"\n                 \"typeof o +' '+ o\"),\n      njs_str(\"number 5\") },\n\n    { njs_str(\"var o = new (function F() { return Number }())(5);\"\n                 \"typeof o +' '+ o\"),\n      njs_str(\"object 5\") },\n\n    { njs_str(\"var o = new (new function F() { return Number }())(5);\"\n                 \"typeof o +' '+ o\"),\n      njs_str(\"object 5\") },\n\n    { njs_str(\"var o = new new function F() { return Number }()(5);\"\n                 \"typeof o +' '+ o\"),\n      njs_str(\"object 5\") },\n\n    { njs_str(\"var b; function F(x) { return {a:x} }\"\n                 \"function G(y) { b = y; return F }\"\n                 \"var o = new G(3)(5);\"\n                 \"b + ' ' + o.a\"),\n      njs_str(\"3 5\") },\n\n    { njs_str(\"var b; function F(x) { return {a:x} }\"\n                 \"function G(y) { b = y; return F }\"\n                 \"var o = new (new G(3))(5);\"\n                 \"b + ' ' + o.a\"),\n      njs_str(\"3 5\") },\n\n    { njs_str(\"var b; function F(x) { return {a:x} }\"\n                 \"function G(y) { b = y; return F }\"\n                 \"var o = new new G(3)(5);\"\n                 \"b + ' ' + o.a\"),\n      njs_str(\"3 5\") },\n\n    { njs_str(\"var b; function F(x) { return {a:x} }\"\n                 \"var g = { G: function (y) { b = y; return F } };\"\n                 \"var o = new new g.G(3)(5);\"\n                 \"b + ' ' + o.a\"),\n      njs_str(\"3 5\") },\n\n    { njs_str(\"function a() { return function(x) { return x + 1 } }\"\n                 \"var b = a(); b(2)\"),\n      njs_str(\"3\") },\n\n    /* arguments object. */\n\n    { njs_str(\"arguments\"),\n      njs_str(\"SyntaxError: \\\"arguments\\\" object in global scope in 1\") },\n\n    { njs_str(\"{arguments}\"),\n      njs_str(\"SyntaxError: \\\"arguments\\\" object in global scope in 1\") },\n\n    { njs_str(\"var arguments\"),\n      njs_str(\"SyntaxError: Identifier \\\"arguments\\\" is forbidden in var declaration in 1\") },\n\n    { njs_str(\"for (var arguments in []) {}\"),\n      njs_str(\"SyntaxError: Identifier \\\"arguments\\\" is forbidden in var declaration in 1\") },\n\n    { njs_str(\"function arguments(){}\"),\n      njs_str(\"SyntaxError: Identifier \\\"arguments\\\" is forbidden in function declaration in 1\") },\n\n    { njs_str(\"(function () {arguments = [];})\"),\n      njs_str(\"SyntaxError: Identifier \\\"arguments\\\" is forbidden as left-hand in assignment in 1\") },\n\n    { njs_str(\"(function(){return arguments;})()\"),\n      njs_str(\"[object Arguments]\") },\n\n    { njs_str(\"(function(){return arguments[0];})(1,2,3)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(){return arguments[2];})(1,2,3)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(function(){return arguments[3];})(1,2,3)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function(a,b,c){return a;})(1,2,3)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(a,b,c){arguments[0] = 4; return a;})(1,2,3)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(a,b,c){a = 4; return arguments[0];})(1,2,3)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function check(v) {if (v == false) {throw TypeError('Too few arguments')}}; \"\n                 \"function f() {check(arguments.length > 1); return 1}; f()\"),\n      njs_str(\"TypeError: Too few arguments\") },\n\n    { njs_str(\"function check(v) {if (v == false) {throw TypeError('Too few arguments')}}; \"\n                 \"function f() {check(arguments.length > 1); return 1}; f(1,2)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(a,b){delete arguments[0]; return arguments[0]})(1,1)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function(){return arguments.length;})()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(function(){return arguments.length;})(1,2,3)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(function(){arguments.length = 1; return arguments.length;})(1,2,3)\"),\n      njs_str(\"1\") },\n\n     { njs_str(\"(function(){return arguments[3];}).bind(null, 0)('a','b','c')\"),\n       njs_str(\"c\") },\n\n    { njs_str(\"function sum() { var args = Array.prototype.slice.call(arguments); \"\n                 \"return args.reduce(function(prev, curr) {return prev + curr})};\"\n                 \"[sum(1), sum(1,2), sum(1,2,3), sum(1,2,3,4)]\"),\n      njs_str(\"1,3,6,10\") },\n\n    { njs_str(\"function concat(sep) { var args = Array.prototype.slice.call(arguments, 1); \"\n                 \"return args.join(sep)};\"\n                 \"[concat('.',1,2,3), concat('+',1,2,3,4)]\"),\n      njs_str(\"1.2.3,1+2+3+4\") },\n\n    /* strict mode restrictions */\n\n    { njs_str(\"(function() {}).caller\"),\n      njs_str(\"TypeError: \\\"caller\\\", \\\"callee\\\", \\\"arguments\\\" properties may not be accessed\") },\n\n    { njs_str(\"(function() {}).arguments\"),\n      njs_str(\"TypeError: \\\"caller\\\", \\\"callee\\\", \\\"arguments\\\" properties may not be accessed\") },\n\n    { njs_str(\"var desc = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Math.min), 'caller');\"\n              \"desc.get === desc.set\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var desc = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Math.min), 'caller');\"\n              \"1/desc.get\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var p = Object.getPrototypeOf(function() {});\"\n              \"var d = Object.getOwnPropertyDescriptor(p, 'caller');\"\n              \"typeof d.get == 'function' && typeof d.get == typeof d.set\"\n              \"                           && d.configurable && !d.enumerable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var p = Object.getPrototypeOf(function() {});\"\n              \"var d = Object.getOwnPropertyDescriptor(p, 'arguments');\"\n              \"typeof d.get == 'function' && typeof d.get == typeof d.set\"\n              \"                           && d.configurable && !d.enumerable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(function(){return arguments.callee;})()\"),\n      njs_str(\"TypeError: \\\"caller\\\", \\\"callee\\\", \\\"arguments\\\" properties may not be accessed\") },\n\n    { njs_str(\"var f = function() { return arguments; };\"\n              \"Object.getOwnPropertyDescriptor(f(), 'caller')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var f = function() { return arguments; };\"\n              \"var d = Object.getOwnPropertyDescriptor(f(), 'callee');\"\n              \"typeof d.get == 'function' && typeof d.get == typeof d.set\"\n              \"                           && !d.configurable && !d.enumerable\"),\n      njs_str(\"true\") },\n\n    /* rest parameters. */\n\n    { njs_str(\"function myFoo(a,b,...other) { return other };\"\n                 \"myFoo(1,2,3,4,5);\" ),\n      njs_str(\"3,4,5\") },\n\n    { njs_str(\"function myFoo(a,b,...other, c) { return other };\"),\n      njs_str(\"SyntaxError: Rest parameter must be last formal parameter in 1\") },\n\n    { njs_str(\"function sum(a, b, c, ...other) { return a+b+c+other[2] };\"\n                 \"sum(\\\"one \\\",2,\\\" three \\\",\\\"four \\\",\\\"five \\\",\\\"the long enough sixth argument \\\");\"),\n      njs_str(\"one 2 three the long enough sixth argument \") },\n\n    { njs_str(\"function myFoo1(a,...other) { return other };\"\n                 \"function myFoo2(a,b,...other) { return other };\"\n                 \"myFoo1(1,2,3,4,5,myFoo2(1,2,3,4));\"),\n      njs_str(\"2,3,4,5,3,4\") },\n\n    { njs_str(\"function myFoo(...other) { return (other instanceof Array) };\"\n                 \"myFoo(1);\" ),\n      njs_str(\"true\") },\n\n    { njs_str(\"function myFoo(a,...other) { return other.length };\"\n                 \"myFoo(1,2,3,4,5);\" ),\n      njs_str(\"4\") },\n\n    { njs_str(\"function myFoo(a,b,...other) { return other };\"\n                 \"myFoo(1,2);\" ),\n      njs_str(\"\") },\n\n    /* arrow functions. */\n\n    { njs_str(\"()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\")\\\" in 1\") },\n\n    { njs_str(\"() => \"),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"() => {\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"a\\n => 1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"=>\\\" in 2\") },\n\n    { njs_str(\"new (()=>1)\"),\n      njs_str(\"TypeError: function is not a constructor\")},\n\n    { njs_str(\"(\\n) => {}\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"a => 1\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"({f:()=>1, g:()=>2}).f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = f => {return 1;}; f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = (f) => {return 1;}; f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = (f, a, b) => {return 1;}; f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = () => {return 1;}; f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(f => {return 1;})()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"((f) => {return 1;})()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(((f) => {return 1;}))()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = f => 1; f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"() => 1\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"var f = ()=>{}; f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var f = ()=>({}); f()\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var materials = ['Hydrogen', 'Helium', 'Lithium', 'Beryllium'];\"\n                 \"materials.map(material => { return material.length; });\"),\n      njs_str(\"8,6,7,9\") },\n\n    { njs_str(\"var materials = ['Hydrogen', 'Helium', 'Lithium', 'Beryllium'];\"\n                 \"materials.map(material => material.length);\"),\n      njs_str(\"8,6,7,9\") },\n\n    { njs_str(\"var materials = ['Hydrogen', 'Helium', 'Lithium', 'Beryllium'];\"\n                 \"materials.map(material => { material.length });\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"function f(a, b, c) {a = 1; return () => { return arguments[1]; };};\"\n                 \"f(1, 2, 3)('a', 'b');\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var f = (...c) => { return (function() { return arguments.length; }).bind(null, c); };\"\n                 \"var x = f(1,'a',false, {}); x()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = (...c) => { return (function() { return arguments.length; }).bind(null, c); };\"\n                 \"var x = f(1,'a',false, {}); x(1,2,3)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function Car(){ this.age = 0; (() => { this.age++;})();}\"\n                 \"(new Car()).age\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function Car(){ this.age = 0; (function(){ this.age++;})();}\"\n                 \"(new Car()).age\"),\n      njs_str(\"TypeError: cannot get property \\\"age\\\" of undefined\") },\n\n    /* arrow functions + global this. */\n\n    { njs_str(\"(() => this)()\"),\n      njs_str(\"[object global]\") },\n\n    { njs_str(\"(() => this).call('abc')\"),\n      njs_str(\"[object global]\") },\n\n    { njs_str(\"(() => this).apply('abc')\"),\n      njs_str(\"[object global]\") },\n\n    { njs_str(\"(() => this).bind('abc')()\"),\n      njs_str(\"[object global]\") },\n\n    { njs_str(\"(function() { return (() => this); })()()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function() { return (() => this); }).call('abc')()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"(function() { return (() => this); }).bind('abc')()()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"(function() { return (() => this); })\"\n                 \".call('abc').call('bca')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"(function() { return (() => this); })\"\n                 \".call('abc').bind('bca')()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"(function() { return function() { return () => this; }; })\"\n                 \".call('bca').call('abc')()\"),\n      njs_str(\"abc\") },\n\n     { njs_str(\"var f = () => 1; f.prototype\"),\n       njs_str(\"undefined\") },\n\n     { njs_str(\"var f = (a,b) => 0; f.length\"),\n       njs_str(\"2\") },\n\n    { njs_str(\"var o = Object.create(f => 1); o.length = 3\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"length\\\" of object\") },\n\n    /* Scopes. */\n\n    { njs_str(\"function f(x) { a = x } var a; f(5); a\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"function f(x) { var a = x } var a = 2; f(5); a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"function f(a) { return a } var a = '2'; a + f(5)\"),\n      njs_str(\"25\") },\n\n    { njs_str(\"for (var i = 0; i < 5; i++); i\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"for (var i = 0, j; i < 5; i++); j\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"for (var i = 0, j, k = 3; i < 5; i++); k\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var o = { a: 1, b: 2, c: 3 }, s = ''; \"\n                 \"for (var i in o) { s += i }; s\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"var o = { a: 1, b: 2, c: 3 }; for (var i in o); i\"),\n      njs_str(\"c\") },\n\n    { njs_str(\"var o = {}; i = 7; for (var i in o); i\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var a = [1,2,3]; for (var i in a); i\"),\n      njs_str(\"2\") },\n\n    /* RegExp. */\n\n    { njs_str(\"/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/\\\" in 1\") },\n\n    { njs_str(\"/a\\n/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/a\\\" in 1\") },\n\n    { njs_str(\"/a\\r/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/a\\\" in 1\") },\n\n#ifndef NJS_HAVE_PCRE2\n    { njs_str(\"/a\\\\q/\"),\n      njs_str(\"/a\\\\q/\") },\n#endif\n\n    { njs_str(\"/\\\\\\\\/\"),\n      njs_str(\"/\\\\\\\\/\") },\n\n    { njs_str(\"/\\\\\\\\\\\\/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/\\\\\\\\\\\\/\\\" in 1\") },\n\n    { njs_str(\"/\\\\\\\\\\\\\\\\/\"),\n      njs_str(\"/\\\\\\\\\\\\\\\\/\") },\n\n    { njs_str(\"/\\\\\\\\\\\\//\"),\n      njs_str(\"/\\\\\\\\\\\\//\") },\n\n    { njs_str(\"/[A-Z/]/\"),\n      njs_str(\"/[A-Z/]/\") },\n\n    { njs_str(\"/a/gim\"),\n      njs_str(\"/a/gim\") },\n\n    { njs_str(\"/a/y\"),\n      njs_str(\"/a/y\") },\n\n    { njs_str(\"/[A-Z\\n]/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/[A-Z\\\" in 1\") },\n\n    { njs_str(\"/[A-Z\\\\\\n]/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/[A-Z\\\\\\\" in 1\") },\n\n    { njs_str(\"/\\\\\\n/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/\\\\\\\" in 1\") },\n\n    { njs_str(\"/./x\"),\n      njs_str(\"SyntaxError: Invalid RegExp flags \\\"x\\\" in 1\") },\n\n    { njs_str(\"/./.exec === RegExp.prototype.exec\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/./['exec'] === RegExp.prototype.exec\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/./[Symbol.replace] === RegExp.prototype[Symbol.replace]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/^[A-Za-z0-9+/]{4}$/.test('////')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'[]!\\\"#$%&\\\\'()*+,.\\\\/:;<=>?@\\\\^_`{|}-'.split('')\"\n                 \".every(ch=>/[\\\\]\\\\[!\\\"#$%&'()*+,.\\\\/:;<=>?@\\\\^_`{|}-]/.test(ch))\"),\n      njs_str(\"true\") },\n\n#ifndef NJS_HAVE_PCRE2\n    { njs_str(\"/a\\\\q/.test('a\\\\q')\"),\n      njs_str(\"true\") },\n#endif\n\n    { njs_str(\"/(\\\\.(?!com|org)|\\\\/)/.test('ah.info')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/(/.test('')\"),\n      njs_str(\"SyntaxError: \"\n              njs_pcre_var(\"pcre_compile2(\\\"(\\\") failed: missing closing parenthesis at \\\"\\\" in 1\",\n                           \"pcre_compile(\\\"(\\\") failed: missing ) in 1\")) },\n\n    { njs_str(\"/+/.test('')\"),\n      njs_str(\"SyntaxError: \"\n              njs_pcre_var(\"pcre_compile2(\\\"+\\\") failed: quantifier does not follow a repeatable item at \\\"+\\\" in 1\",\n                           \"pcre_compile(\\\"+\\\") failed: nothing to repeat at \\\"+\\\" in 1\")) },\n\n    { njs_str(\"/^$/.test('')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = /\\\\d/; a.test('123')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = /\\\\d/; a.test('abc')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"/\\\\d/.test('123')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/\\\\d/.test(123)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/undef/.test()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = { toString: function() { return 123 } };\"\n                 \"/\\\\d/.test(s)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/\\\\d/.test('abc')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"/abc/i.test('ABC')\"),\n      njs_str(\"true\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* FIXME */\n    { njs_str(\"/\u0430\u0431\u0432/i.test('\u0410\u0411\u0412')\"),\n      njs_str(\"true\") },\n#endif\n\n    { njs_str(\"var re = /<(?<key>[\\\\w\\\\-\\\\.\\\\:]+)>(?<body>.*?)<\\\\/\\\\1>/g;\"\n              \"['<A>XXX</A>', '<A>XX</B>'].map(s=>re.test(s))\"),\n      njs_str(\"true,false\") },\n\n    { njs_str(\"/\\\\x80/.test('\\\\u0080')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/\\\\x80/.test('\\\\u0080'.toBytes())\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/\u03b1/.test('\\\\u03B1')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/\u03b1/.test('\\\\u00CE\\\\u00B1'.toBytes())\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/[A-Za-z]/.test('S')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/[A-Za-z]/.test('\u00f8')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var r = /abc/y; r.test('abc'); r.lastIndex\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"/\\\\d/.exec('123')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"/\\\\d/.exec(123)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"/undef/.exec()\"),\n      njs_str(\"undef\") },\n\n    { njs_str(\"var s = { toString: function() { return 123 } };\"\n                 \"/\\\\d/.exec(s)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = /^$/.exec(''); a.length +' '+ a\"),\n      njs_str(\"1 \") },\n\n    { njs_str(\"var r = /3/g; r.exec('123') +' '+ r.exec('3')\"),\n      njs_str(\"3 null\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* FIXME */\n    { njs_str(\"var r = /\u0431\u0432/ig;\"\n                 \"var a = r.exec('\u0410\u0411\u0412');\"\n                 \"r.lastIndex +' '+ a +' '+ \"\n                 \"r.source +' '+ r.source.length +' '+ r\"),\n      njs_str(\"3 \u0411\u0412 \u0431\u0432 2 /\u0431\u0432/gi\") },\n#endif\n\n    { njs_str(\"var r = /\\\\x80/g; r.exec('\\\\u0081\\\\u0080'.toBytes());\"\n              \"r.lastIndex +' '+ r.source +' '+ r.source.length +' '+ r\"),\n      njs_str(\"2 \\\\x80 4 /\\\\x80/g\") },\n\n    { njs_str(\"var r = /_/g; var index = r.exec(String.bytesFrom([255,149,15,97,95])).index;\"\n              \"[index, r.lastIndex]\"),\n      njs_str(\"4,5\") },\n\n    { njs_str(\"var descs = Object.getOwnPropertyDescriptors(RegExp('a'));\"\n              \"Object.keys(descs)\"),\n      njs_str(\"lastIndex\") },\n\n    { njs_str(\"var props = Object.getOwnPropertyDescriptor(RegExp('a'), 'lastIndex');\"\n              \"props.writable && !props.enumerable && !props.configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var re = /a/; re.lastIndex\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var re = /a\u03b1/g; re.exec('a\u03b1'.repeat(32)); re.lastIndex\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var re = new RegExp('\u03b1'.repeat(33), 'g'); re.exec('\u03b1'.repeat(33)); re.lastIndex\"),\n      njs_str(\"33\") },\n\n    { njs_str(\"var re = new RegExp('\u03b1'.repeat(33), 'g'); re.exec('\u03b1'.repeat(33)); \"\n              \"re.lastIndex = 67; re.lastIndex\"),\n      njs_str(\"67\") },\n\n    { njs_str(\"var re = /a/; re.lastIndex = 4; Object.create(re).lastIndex\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var re = /a/g; re.lastIndex = {valueOf(){throw 'Oops'}}; typeof re.lastIndex\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var re = /a/g; re.lastIndex = {valueOf(){throw 'Oops'}}; re.exec('a')\"),\n      njs_str(\"Oops\") },\n\n    { njs_str(\"var re = /a/; Object.defineProperty(re, 'lastIndex', {value:'qq'}); re.lastIndex\"),\n      njs_str(\"qq\") },\n\n    { njs_str(\"var re = /a/; re.lastIndex = 'qq'; Object.create(re).lastIndex\"),\n      njs_str(\"qq\") },\n\n    { njs_str(\"var re = /(?:ab|cd)\\\\d?/g; re.lastIndex=-1; re.test('aacd22 '); re.lastIndex\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var re = /(?:ab|cd)\\\\d?/g; re.lastIndex=-1; re.test('@@'); re.lastIndex\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var r = /a/; var gets = 0;\"\n              \"var counter = { valueOf: function() { gets++; return 0; } };\"\n              \"r.lastIndex = counter;\"\n              \"njs.dump([r.exec('nbc'), r.lastIndex === counter, gets])\"),\n      njs_str(\"[null,true,1]\") },\n\n    /*\n     * It seems that \"/\u0441\u0442\u043e\u043f/ig\" fails on early PCRE versions.\n     * It fails at least in 8.1 and works at least in 8.31.\n     */\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* FIXME */\n    { njs_str(\"var r = /\u0421\u0442\u043e\u043f/ig;\"\n                 \"var a = r.exec('\u0410\u0411\u0412\u0414\u0415\u0401\u0416\u0417\u0418\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042c\u042b\u042a\u042d\u042e\u042f\u0421\u0422\u041e\u041f');\"\n                 \"r.lastIndex +' '+ a +' '+ r.source +' '+ r\"),\n      njs_str(\"35 \u0421\u0422\u041e\u041f \u0421\u0442\u043e\u043f /\u0421\u0442\u043e\u043f/gi\") },\n#endif\n\n    { njs_str(\"var r = /quick\\\\s(brown).+?(jumps)/ig;\"\n                \"var a = r.exec('The Quick Brown Fox Jumps Over The Lazy Dog');\"\n                \"a[0] +' '+ a[1] +' '+ a[2] +' '+ a[3] +' '+ \"\n                \"a.index +' '+ r.lastIndex +' '+ a.input\"),\n      njs_str(\"Quick Brown Fox Jumps Brown Jumps undefined \"\n                 \"4 25 The Quick Brown Fox Jumps Over The Lazy Dog\") },\n\n    { njs_str(\"var r = /a/.exec('a'); ['groups' in r, typeof r.groups]\"),\n      njs_str(\"true,undefined\") },\n\n    { njs_str(\"var r = /(?<m>[0-9]{2})\\\\/(?<d>[0-9]{2})\\\\/(?<y>[0-9]{4})/;\"\n              \"var g = r.exec('12/31/1986').groups;\"\n              \"g.d + '.' + g.m + '.' + g.y\"),\n      njs_str(\"31.12.1986\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* PCRE bug in groups code */\n\n    { njs_str(\"var g = /(?<r>(?<no>no)?(?<yes>yes)?)/.exec('yes').groups;\"\n              \"[Object.keys(g).length,'no' in g, typeof g.no, g.yes, g.r]\"),\n      njs_str(\"3,true,undefined,yes,yes\") },\n#endif\n\n    { njs_str(\"var s; var r = /./g; while (s = r.exec('abc')); s\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"(/\u03b1/).exec('\u03b3\u03b1\u03b2\u03b3').index\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var r = /LS/i.exec(false); r[0]\"),\n      njs_str(\"ls\") },\n\n    { njs_str(\"var r = (/^.+$/mg), s = 'ab\\\\nc'; [r.exec(s), r.exec(s)]\"),\n      njs_str(\"ab,c\") },\n\n    { njs_str(\"var r = (/^.+$/mg); [r.global, r.multiline, r.ignoreCase, r.sticky]\"),\n      njs_str(\"true,true,false,false\") },\n\n    { njs_str(\"['global', 'ignoreCase', 'multiline', 'sticky']\"\n              \".map(v => Object.getOwnPropertyDescriptor(RegExp.prototype, v))\"\n              \".every(desc => (typeof desc.get === 'function' && typeof desc.set === 'undefined'))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var re = /./, re2 = /./y; re.lastIndex = 1; re2.lastIndex = 1;\"\n              \"[re.exec('abc')[0], re2.exec('abc')[0]]\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"var re = /c/, re2 = /c/y;\"\n              \"njs.dump([re.exec('abc')[0], re2.exec('abc')])\"),\n      njs_str(\"['c',null]\") },\n\n    { njs_str(\"['global', 'ignoreCase', 'multiline']\"\n              \".map(v => Object.getOwnPropertyDescriptor(RegExp.prototype, v))\"\n              \".every(desc => (typeof desc.get === 'function' && typeof desc.set === 'undefined'))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var r = /./; r\"),\n      njs_str(\"/./\") },\n\n    { njs_str(\"var r = new RegExp(); r\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"var r = new RegExp('.'); r\"),\n      njs_str(\"/./\") },\n\n    { njs_str(\"var r = new RegExp('.', 'igm'); r\"),\n      njs_str(\"/./gim\") },\n\n    { njs_str(\"var r = new RegExp('.', 'y'); r\"),\n      njs_str(\"/./y\") },\n\n    { njs_str(\"var r = new RegExp('abc'); r.test('00abc11')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var r = new RegExp('abc', 'i'); r.test('00ABC11')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp('\u03b1'.repeat(33)).toString()[32]\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"new RegExp('', 'x')\"),\n      njs_str(\"SyntaxError: Invalid RegExp flags \\\"x\\\"\") },\n\n    { njs_str(\"new RegExp('', 'g ')\"),\n      njs_str(\"SyntaxError: Invalid RegExp flags \\\"g \\\"\") },\n\n    { njs_str(\"new RegExp('', '')\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"new RegExp('', {toString:()=>'g'})\"),\n      njs_str(\"/(?:)/g\") },\n\n    { njs_str(\"RegExp({})\"),\n      njs_str(\"/[object Object]/\") },\n\n    { njs_str(\"RegExp(true)\"),\n      njs_str(\"/true/\") },\n\n    { njs_str(\"RegExp(undefined)\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"RegExp('abc', undefined)\"),\n      njs_str(\"/abc/\") },\n\n    { njs_str(\"RegExp('abc', {})\"),\n      njs_str(\"SyntaxError: Invalid RegExp flags \\\"[object Object]\\\"\") },\n\n    { njs_str(\"RegExp(/expr/)\"),\n      njs_str(\"/expr/\") },\n\n    { njs_str(\"RegExp(/expr/i).ignoreCase\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp(/expr/, 'x')\"),\n      njs_str(\"SyntaxError: Invalid RegExp flags \\\"x\\\"\") },\n\n    { njs_str(\"RegExp(new RegExp('expr'))\"),\n      njs_str(\"/expr/\") },\n\n    { njs_str(\"RegExp(new RegExp('expr')).multiline\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"RegExp(new RegExp('expr'), 'm').multiline\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new RegExp('[')\"),\n      njs_str(\"SyntaxError: \"\n              njs_pcre_var(\"pcre_compile2(\\\"[\\\") failed: missing terminating ] for character class at \\\"\\\"\",\n                           \"pcre_compile(\\\"[\\\") failed: missing terminating ] for character class\")) },\n\n    { njs_str(\"new RegExp('['.repeat(16))\"),\n      njs_str(\"SyntaxError: \"\n              njs_pcre_var(\"pcre_compile2(\\\"[[[[[[[[[[[[[[[[\\\") failed: missing terminating ] for character class at \\\"\\\"\",\n                           \"pcre_compile(\\\"[[[[[[[[[[[[[[[[\\\") failed: missing terminating ] for character class\")) },\n\n    { njs_str(\"new RegExp('\\\\\\\\')\"),\n      njs_str(\"SyntaxError: \"\n              njs_pcre_var(\"pcre_compile2(\\\"\\\\\\\") failed: \\\\ at end of pattern at \\\"\\\"\",\n                           \"pcre_compile(\\\"\\\\\\\") failed: \\\\ at end of pattern\")) },\n\n    { njs_str(\"[0].map(RegExp().toString)\"),\n      njs_str(\"TypeError: \\\"this\\\" argument is not an object\") },\n\n    { njs_str(\"var arr = /\\\\1(A)/.exec('AA');\"\n              \"[arr[0], arr[1]]\"),\n      njs_str(\"A,A\") },\n\n    /* Non-standard ECMA-262 features. */\n\n    /* 0x10400 is not a surrogate pair of 0xD801 and 0xDC00. */\n\n    { njs_str(\"var chars = '\ud801\udc00'; chars.length +' '+ chars.charCodeAt(0)\"),\n      njs_str(\"1 66560\") },\n\n    /* es5id: 6.1, 0x104A0 is not a surrogate pair of 0xD801 and 0xDCA0. */\n\n    { njs_str(\"var chars = '\ud801\udca0'; chars.length +' '+ chars.charCodeAt(0)\"),\n      njs_str(\"1 66720\") },\n\n    /* Error object. */\n\n    { njs_str(\"Error()\"),\n      njs_str(\"Error\") },\n\n    { njs_str(\"new Error()\"),\n      njs_str(\"Error\") },\n\n    { njs_str(\"Error('e')\"),\n      njs_str(\"Error: e\") },\n\n    { njs_str(\"Error(123)\"),\n      njs_str(\"Error: 123\") },\n\n    { njs_str(\"Error({toString(){return 'e'}})\"),\n      njs_str(\"Error: e\") },\n\n    { njs_str(\"Error([1,'\u03b1'])\"),\n      njs_str(\"Error: 1,\u03b1\") },\n\n    { njs_str(\"var e = TypeError(Error('e')); e\"),\n      njs_str(\"TypeError: Error: e\") },\n\n    { njs_str(\"Error('\u03b1'.repeat(33)).toString().length\"),\n      njs_str(\"40\") },\n\n    { njs_str(\"var e = Error('e'); e.name = {toString(){return 'E'}}; e\"),\n      njs_str(\"E: e\") },\n\n    { njs_str(\"var e = Error('e'); Object.defineProperty(e, 'name', {get(){return 'E'}}); e\"),\n      njs_str(\"E: e\") },\n\n    { njs_str(\"var e = Error('e'); e.name = ''; e\"),\n      njs_str(\"e\") },\n\n    { njs_str(\"var e = Error(); e.name = ''; e\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var e = Error(); e.name = ''; e.message = 'e'; e\"),\n      njs_str(\"e\") },\n\n    { njs_str(\"Error('e').name + ': ' + Error('e').message\"),\n      njs_str(\"Error: e\") },\n\n    { njs_str(\"Error(String.bytesFrom(Array(1).fill(0x9d))).toString().length\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var e = Error('\u03b1'); e.name = String.bytesFrom(Array(1).fill(0x9d)); \"\n              \"e.toString().length\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"Error(1)\"),\n      njs_str(\"Error: 1\") },\n\n    { njs_str(\"Error.__proto__ == Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Error.prototype.name\"),\n      njs_str(\"Error\") },\n\n    { njs_str(\"Error.prototype.message\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Error.prototype.constructor == Error\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Error.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Error().__proto__ == Error.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Error().__proto__.__proto__ == Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Error.prototype.message = 'm';\"\n              \"Error.prototype.name = 'n';\"\n              \"new Error()\"),\n      njs_str(\"n: m\") },\n\n    { njs_str(\"var e = RangeError('e'); Object.preventExtensions(e);e\"),\n      njs_str(\"RangeError: e\") },\n\n    /* AggregateError. */\n\n    { njs_str(\"AggregateError()\"),\n      njs_str(\"TypeError: first argument is not iterable\") },\n\n    { njs_str(\"AggregateError([1, 2, 3])\"),\n      njs_str(\"AggregateError\") },\n\n    { njs_str(\"let e = AggregateError([1, 2, 3], 'm'); e.message\"),\n      njs_str(\"m\") },\n\n    { njs_str(\"let e = AggregateError([1, 2, 3], 'm'); e.errors\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"let e = AggregateError('abc'); e.errors\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"let e = AggregateError([1, 2, 3], 'm'); e\"),\n      njs_str(\"AggregateError: m\") },\n\n    /* Memory object is immutable. */\n\n    { njs_str(\"var e = MemoryError('e'); e.name = 'E'\"),\n      njs_str(\"TypeError: Cannot add property \\\"name\\\", object is not extensible\") },\n\n    { njs_str(\"EvalError.prototype.name\"),\n      njs_str(\"EvalError\") },\n\n    { njs_str(\"InternalError.prototype.name\"),\n      njs_str(\"InternalError\") },\n\n    { njs_str(\"RangeError.prototype.name\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"ReferenceError.prototype.name\"),\n      njs_str(\"ReferenceError\") },\n\n    { njs_str(\"SyntaxError.prototype.name\"),\n      njs_str(\"SyntaxError\") },\n\n    { njs_str(\"TypeError.prototype.name\"),\n      njs_str(\"TypeError\") },\n\n    { njs_str(\"URIError.prototype.name\"),\n      njs_str(\"URIError\") },\n\n    { njs_str(\"MemoryError.prototype.name\"),\n      njs_str(\"InternalError\") },\n\n\n    /* NativeErrors. */\n\n    { njs_str(\n        \"var global = this;\"\n        \"function isValidNativeError(e) {\"\n        \"   var inst;\"\n        \"   var proto = Object.getPrototypeOf(e) === Error;\"\n        \"   var proto2 = e.__proto__ === Error;\"\n        \"   var iproto = e().__proto__ === e.prototype;\"\n        \"   var iproto2 = e().__proto__.__proto__ === Error.prototype;\"\n        \"   var tpof = typeof e() === 'object';\"\n        \"   var ctor = e.prototype.constructor === e;\"\n        \"   var msg = e.prototype.message === '';\"\n        \"   var name = e('e').toString() === `${e.prototype.name}: e`;\"\n        \"   var name2 = (inst = e('e'), inst.name = 'E', inst.toString() === 'E: e');\"\n        \"   var name3 = (inst = e('e'), inst.name = '', inst.toString() === 'e');\"\n        \"   var name4 = e().toString() === `${e.prototype.name}`;\"\n        \"   var name_prop = Object.getOwnPropertyDescriptor(e.prototype, 'message');\"\n        \"   name_prop = name_prop.writable && !name_prop.enumerable && name_prop.configurable;\"\n        \"   var own_proto_ctor = e.prototype.hasOwnProperty('constructor');\"\n        \"   var props = Object.getOwnPropertyDescriptor(global, e.prototype.name);\"\n        \"   props = props.writable && !props.enumerable && props.configurable;\"\n        \"   var same = e === global[e.prototype.name];\"\n        \"\"\n        \"   return proto && proto2 && iproto && iproto2 \"\n        \"          && tpof && ctor && msg && name && name2 && name3 && name4 \"\n        \"          && name_prop && own_proto_ctor && props && same;\"\n        \"};\"\n        \"[\"\n        \"  EvalError,\"\n        \"  InternalError,\"\n        \"  RangeError,\"\n        \"  ReferenceError,\"\n        \"  SyntaxError,\"\n        \"  TypeError,\"\n        \"  URIError,\"\n        \"].every(e => isValidNativeError(e))\"),\n      njs_str(\"true\") },\n\n    /* Exceptions. */\n\n    { njs_str(\"throw null\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"var a; try { throw null } catch (e) { a = e } a\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"var a; try { throw Error('e') } catch (e) { a = e.message } a\"),\n      njs_str(\"e\") },\n\n    { njs_str(\"var a; try { NaN.toString(NaN) } catch (e) { a = e.name } a\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"try { throw null } catch (e) { throw e }\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"try { throw Error('e') } catch (e) { throw Error(e.message + '2') }\"),\n      njs_str(\"Error: e2\") },\n\n    { njs_str(\"try { throw null } catch (null) { throw e }\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"null\\\" in 1\") },\n\n    { njs_str(\"'a'.f()\"),\n      njs_str(\"TypeError: (intermediate value)[\\\"f\\\"] is not a function\") },\n\n    { njs_str(\"1..f()\"),\n      njs_str(\"TypeError: (intermediate value)[\\\"f\\\"] is not a function\") },\n\n    { njs_str(\"try {}\"),\n      njs_str(\"SyntaxError: Missing catch or finally after try in 1\") },\n\n    { njs_str(\"try{}catch(a[]\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"[\\\" in 1\") },\n\n    { njs_str(\"function f(a) {return a;}; \"\n                 \"function thrower() {throw TypeError('Oops')}; \"\n                 \"f(thrower())\"),\n      njs_str(\"TypeError: Oops\") },\n\n    { njs_str(\"var a = 0; try { a = 5 }\"\n                 \"catch (e) { a = 9 } finally { a++ } a\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = 0; try { throw 3 }\"\n                 \"catch (e) { a = e } finally { a++ } a\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var a = 0; try { throw 3 }\"\n                 \"catch (e) { throw e + 1 } finally { a++ }\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var a = 0; try { throw 3 }\"\n                 \"catch (e) { a = e } finally { throw a }\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"try { throw null } catch (e) { } finally { }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 0; try { throw 3 }\"\n                 \"catch (e) { throw 4 } finally { throw a }\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = 0; try { a = 5 } finally { a++ } a\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = 0; try { throw 5 } finally { a++ }\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a = 0; try { a = 5 } finally { throw 7 }\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"function f(a) {\"\n                 \"   if (a > 1) return f(a - 1);\"\n                 \"   throw 9; return a }\"\n                 \"var a = 0; try { a = f(5); a++ } catch(e) { a = e } a\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"var a; try { try { throw 5 } catch (e) { a = e } throw 3 }\"\n                 \"       catch(x) { a += x } a\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"throw\\nnull\"),\n      njs_str(\"SyntaxError: Illegal newline after throw in 2\") },\n\n    { njs_str(\"for (var x in [1,2]) { try{ continue; } catch(e) {} } throw 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"for (var x in [1,2]) { try{ break; } catch(e) {} } throw 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"try\\n {\\n continue; } catch(e) {}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 3\") },\n\n    { njs_str(\"var a = 1; \"\n                 \"switch (a) {\"\n                 \"default:\"\n                 \"  try\\n {\\n continue; } \"\n                 \"  catch(e) {}\"\n                 \"}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 3\") },\n\n    { njs_str(\"try\\n {\\n break; } catch(e) {}\"),\n      njs_str(\"SyntaxError: Illegal break statement in 3\") },\n\n    { njs_str(\"try\\n { }\\n catch(e) {continue;}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 3\") },\n\n    { njs_str(\"try { } catch(e) {break;}\"),\n      njs_str(\"SyntaxError: Illegal break statement in 1\") },\n\n    { njs_str(\"try { continue; } finally {}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 1\") },\n\n    { njs_str(\"try { break; } finally {}\"),\n      njs_str(\"SyntaxError: Illegal break statement in 1\") },\n\n    { njs_str(\"try\\n {\\n try\\n {\\n continue; } finally {} } finally {}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 5\") },\n\n    /* break from try in try/catch. */\n\n    { njs_str(\"function f(n) {\"\n                 \"    var pre = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (n == 'b') {break;}\"\n                 \"        }\"\n                 \"        catch (e) {};\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, post];\"\n                 \"}; njs.dump([f(),f('b')])\"),\n      njs_str(\"[[3,3],\"\n                  \"[1,0]]\") },\n\n    { njs_str(\"function f(v, n) {\"\n                 \"    var pre = 0; var post = 0; var case2 = 0;\"\n                 \"    switch (v) {\"\n                 \"    case 1: \"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (n == 'b') {break;}\"\n                 \"        }\"\n                 \"        catch (e) {};\"\n                 \"        post++;\"\n                 \"        break;\"\n                 \"    default:\"\n                 \"        case2++;\"\n                 \"    }\"\n                 \"    return [pre, post, case2];\"\n                 \"}; njs.dump([f(),f(1)])\"),\n      njs_str(\"[[0,0,1],\"\n                  \"[1,1,0]]\") },\n\n    /* continue from try in try/catch. */\n\n    { njs_str(\"function f(n) {\"\n                 \"    var pre = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (n == 'c') {continue;}\"\n                 \"        }\"\n                 \"        catch (e) {};\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, post];\"\n                 \"}; njs.dump([f(),f('c')])\"),\n      njs_str(\"[[3,3],\"\n                  \"[3,0]]\") },\n\n    /* Multiple break/continue from try in try/catch. */\n\n    { njs_str(\"function f(n) {\"\n                 \"    var pre = 0; var mid = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (n == 'c') {continue;}\"\n                 \"            if (n == 'b') {break;}\"\n                 \"            mid++;\"\n                 \"            if (n == 'c2') {continue;}\"\n                 \"            if (n == 'b2') {break;}\"\n                 \"        }\"\n                 \"        catch (e) {};\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, mid, post];\"\n                 \"}; njs.dump([f(),f('c'),f('b'),f('c2'),f('b2')])\"),\n      njs_str(\"[[3,3,3],\"\n                  \"[3,0,0],\"\n                  \"[1,0,0],\"\n                  \"[3,3,0],\"\n                  \"[1,1,0]]\") },\n\n    /* Multiple break/continue from catch in try/catch. */\n\n    { njs_str(\"function f(t, n) {\"\n                 \"    var pre = 0; var mid = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (t) {throw 'a'}\"\n                 \"        }\"\n                 \"        catch (e) {\"\n                 \"            if (n == 'c') {continue;}\"\n                 \"            if (n == 'b') {break;}\"\n                 \"            mid++;\"\n                 \"            if (n == 'c2') {continue;}\"\n                 \"            if (n == 'b2') {break;}\"\n                 \"        };\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, mid, post];\"\n                 \"}; njs.dump([f(), f(1), f(1, 'c'), f(1, 'b'), f(1, 'c2'), f(1, 'b2')])\"),\n      njs_str(\"[[3,0,3],\"\n                  \"[3,3,3],\"\n                  \"[3,0,0],\"\n                  \"[1,0,0],\"\n                  \"[3,3,0],\"\n                  \"[1,1,0]]\") },\n\n    /* break from try in try/finally. */\n\n    { njs_str(\"function f(n) {\"\n                 \"    var pre = 0; var mid = 0; var fin = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (n == 'c') {continue;}\"\n                 \"            if (n == 'b') {break;}\"\n                 \"            mid++;\"\n                 \"            if (n == 'c2') {continue;}\"\n                 \"            if (n == 'b2') {break;}\"\n                 \"        }\"\n                 \"        finally {fin++};\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, mid, fin, post];\"\n                 \"}; njs.dump([f(),f('c'),f('b'),f('c2'),f('b2')])\"),\n      njs_str(\"[[3,3,3,3],\"\n                  \"[3,0,3,0],\"\n                  \"[1,0,1,0],\"\n                  \"[3,3,3,0],\"\n                  \"[1,1,1,0]]\") },\n\n    /* Multiple break/continue from try in try/catch/finally. */\n\n    { njs_str(\"function f(n) {\"\n                 \"    var pre = 0; var mid = 0; var fin = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (n == 'c') {continue;}\"\n                 \"            if (n == 'b') {break;}\"\n                 \"            mid++;\"\n                 \"            if (n == 'c2') {continue;}\"\n                 \"            if (n == 'b2') {break;}\"\n                 \"        }\"\n                 \"        catch (e) {}\"\n                 \"        finally {fin++};\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, mid, fin, post];\"\n                 \"}; njs.dump([f(),f('c'),f('b'),f('c2'),f('b2')])\"),\n      njs_str(\"[[3,3,3,3],\"\n                  \"[3,0,3,0],\"\n                  \"[1,0,1,0],\"\n                  \"[3,3,3,0],\"\n                  \"[1,1,1,0]]\") },\n\n    /* Multiple break/continue from catch in try/catch/finally. */\n\n    { njs_str(\"function f(t, n) {\"\n                 \"    var pre = 0; var mid = 0; var fin = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try {if (t) {throw 'a'}}\"\n                 \"        catch (e) { \"\n                 \"            if (n == 'c') {continue;}\"\n                 \"            if (n == 'b') {break;}\"\n                 \"            mid++;\"\n                 \"            if (n == 'c2') {continue;}\"\n                 \"            if (n == 'b2') {break;}\"\n                 \"        }\"\n                 \"        finally {fin++};\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, mid, fin, post];\"\n                 \"}; njs.dump([f(), f(1), f(1, 'c'), f(1, 'b'), f(1, 'c2'), f(1, 'b2')])\"),\n      njs_str(\"[[3,0,3,3],\"\n                  \"[3,3,3,3],\"\n                  \"[3,0,3,0],\"\n                  \"[1,0,1,0],\"\n                  \"[3,3,3,0],\"\n                  \"[1,1,1,0]]\") },\n\n    /* Multiple return from try. */\n\n    { njs_str(\"var r = 0; \"\n                 \"function f(i, n) {\"\n                 \"   try { \"\n                 \"      var a = 'x'; \"\n                 \"      if (i != 0) {\"\n                 \"         return a.repeat(n);\"\n                 \"      } else {\"\n                 \"         return;\"\n                 \"      }\"\n                 \"   }\"\n                 \"   catch (e) {  } \"\n                 \"   finally { r++; }};\"\n                 \"[f(1,1), f(1,2), f(0), r]\"),\n      njs_str(\"x,xx,,3\") },\n\n    { njs_str(\"var r = 0; \"\n                 \"function f(i) {\"\n                 \"   try { \"\n                 \"      return i;\"\n                 \"   }\"\n                 \"   catch (e) {  } \"\n                 \"   finally { r++; }};\"\n                 \"[f(true), f(false), r]\"),\n      njs_str(\"true,false,2\") },\n\n    /* Multiple return from catch. */\n\n    { njs_str(\"var r = 0; \"\n                 \"function f(i, n) {\"\n                 \"   try { \"\n                 \"      throw 1;\"\n                 \"   }\"\n                 \"   catch (e) {  \"\n                 \"      var a = 'x'; \"\n                 \"      if (i != 0) {\"\n                 \"         return a.repeat(n);\"\n                 \"      } else {\"\n                 \"         return;\"\n                 \"      }\"\n                 \"   } \"\n                 \"   finally { r++; }};\"\n                 \"[f(1,1), f(1,2), f(0), r]\"),\n      njs_str(\"x,xx,,3\") },\n\n    /* return overrun by finally. */\n\n    { njs_str(\"function f() {\"\n                 \"   try { \"\n                 \"      return 'a';\"\n                 \"   }\"\n                 \"   catch (e) {  \"\n                 \"   } \"\n                 \"   finally { \"\n                 \"      return 'b'; \"\n                 \"   }}; \"\n                 \"f()\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"(function (f, val) { \"\n                 \"  try { return f(val); } \"\n                 \"  finally { return val; }\"\n                 \"})(function () {throw 'a'}, 'v')\"),\n      njs_str(\"v\") },\n\n    { njs_str(\"(function() { try { return ['a'];} finally {} } )()\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"function f(){}; try {f((new RegExp('a**')))} catch (e) { }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){}; try {f(f((new RegExp('a**'))))} catch (e) { }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){}; (function(){try {f(f((new RegExp('a**'))))} catch (e) { return 1}})()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var before, during, after;\"\n              \"\"\n              \"try {\"\n              \"    throw 'exception';\"\n              \"} catch (err) {\"\n              \"    before = err;\"\n              \"\"\n              \"    for (var err in { name: null }) {\"\n              \"        during = err;\"\n              \"    }\"\n              \"\"\n              \"    after = err;\"\n              \"}\"\n              \"\"\n              \"[before === 'exception', during === 'name', after === 'name']\"),\n      njs_str(\"true,true,true\") },\n\n    { njs_str(\"var arr = [];\"\n              \"foo = \\\"outside\\\";\"\n              \"\"\n              \"try {\"\n              \"    throw new Error();\"\n              \"}\"\n              \"catch (foo) {\"\n              \"    var foo = \\\"inside\\\";\"\n              \"    arr.push(foo);\"\n              \"}\"\n              \"\"\n              \"arr.push(foo);\"\n              \"arr\"),\n      njs_str(\"inside,outside\") },\n\n    { njs_str(\"var o = { valueOf: function() { return '3' } }; --o\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = { valueOf: function() { return [3] } }; --o\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var o = { valueOf: function() { return '3' } }; 10 - o\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var o = { valueOf: function() { return [3] } }; 10 - o\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var o = { toString: function() { return 'OK' } }; 'o:' + o\"),\n      njs_str(\"o:OK\") },\n\n    { njs_str(\"var o = { toString: function() { return [1] } }; o\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"var o = { toString: function() { return [1] } }; 'o:' + o\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '3' } };\"\n                 \"var b = { toString: function() { return 10 - a + 'OK' } };\"\n                 \"var c = { toString: function() { return b + 'YES' } };\"\n                 \"'c:' + c\"),\n      njs_str(\"c:7OKYES\") },\n\n    { njs_str(\"[1,2,3].valueOf()\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var o = { valueOf: function() { return 'OK' } };\"\n                 \"o.valueOf()\"),\n      njs_str(\"OK\") },\n\n    { njs_str(\"false.__proto__ === true.__proto__\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0..__proto__ === 1..__proto__\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[].__proto__ === [1,2].__proto__\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/./.__proto__ === /a/.__proto__\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"''.__proto__ === 'abc'.__proto__\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[].__proto__.join.call([1,2,3], ':')\"),\n      njs_str(\"1:2:3\") },\n\n    { njs_str(\"''.__proto__.concat.call('a', 'b', 'c')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"/./.__proto__.test.call(/a{2}/, 'aaa')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"true instanceof Boolean\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 instanceof Number\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'' instanceof String\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"({}) instanceof Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[] instanceof []\"),\n      njs_str(\"TypeError: right argument is not callable\") },\n\n    { njs_str(\"[] instanceof Array\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[] instanceof Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/./ instanceof RegExp\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/./ instanceof Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.defineProperty(Function.prototype, \\\"prototype\\\", {get: ()=>Array.prototype});\"\n                 \"[] instanceof Function.prototype\"),\n      njs_str(\"true\") },\n\n     { njs_str(\"Object.defineProperty(Function.prototype, \\\"prototype\\\", {get: ()=>{throw Error('Oops')}});\"\n                 \"[] instanceof Function.prototype\"),\n      njs_str(\"Error: Oops\") },\n\n     { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'foo', { get: function() {return () => 1} });\"\n                 \"o.foo()\"),\n      njs_str(\"1\") },\n\n    /* global this. */\n\n    { njs_str(\"this\"),\n      njs_str(\"[object global]\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(this, 'NaN').value\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptors(this).NaN.value\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(this).includes('NaN')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"this.a = 1; this.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"this.a = 1; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"this.a = 2; this.b = 3; a * b - a\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"this.a = 1; a()\"),\n      njs_str(\"TypeError: number is not a function\") },\n\n    { njs_str(\"this.a = ()=>1; a()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 1; this.a = 42; a\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"var a = 1; global.a = 42; a\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"var a = 1; globalThis.a = 42; a\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"global.a = 1; globalThis.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {}; globalThis.a === a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"globalThis.a = 1; var a; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var count = 0; function f() {return ++count}; [f(), global.f()]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"Object.defineProperty(global, 'a', {value:1}); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperty(global, 'a', {get:()=>123}); a\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"Object.defineProperties(global, {a:{value:1}, b:{value:2}}); [a,b]\"),\n      njs_str(\"1,2\") },\n\n#if 0 /* FIXME: for scope. */\n    { njs_str(\"var r1 = global.a; for (var a = 1; false;) {}; [r1, global.a]\"),\n      njs_str(\",\") },\n#endif\n\n    { njs_str(\"var global = this;\"\n              \"function isImmutableConstant(v) {\"\n              \"    var d = Object.getOwnPropertyDescriptor(global, v);\"\n              \"    return !d.writable && !d.enumerable && !d.configurable;\"\n              \"};\"\n              \"['undefined', 'NaN', 'Infinity'].every((v)=>isImmutableConstant(v))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"this.undefined = 42\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"undefined\\\" of object\") },\n\n    { njs_str(\"this.Infinity = 42\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"Infinity\\\" of object\") },\n\n    { njs_str(\"this.NaN = 42\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"NaN\\\" of object\") },\n\n    { njs_str(\"typeof this.undefined\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"typeof this.Infinity\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"this.Infinity + 1\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"typeof this.NaN\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"this.NaN + 1\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"{this}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"if (1) {new this}\"),\n      njs_str(\"TypeError: object is not a function\") },\n\n    { njs_str(\"if (1) {this()}\"),\n      njs_str(\"TypeError: object is not a function\") },\n\n    { njs_str(\"var ex; try {new this} catch (e) {ex = e}; ex\"),\n      njs_str(\"TypeError: object is not a function\") },\n\n    { njs_str(\"var ex; try {({}) instanceof this} catch (e) {ex = e}; ex\"),\n      njs_str(\"TypeError: right argument is not callable\") },\n\n    { njs_str(\"njs\"),\n      njs_str(\"[object njs]\") },\n\n    { njs_str(\"var o = Object(); o\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var o = new Object(); o\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var o = new Object(1); o\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {}; o === Object(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {}; o === new Object(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object([]); Object.prototype.toString.call(o)\"),\n      njs_str(\"[object Array]\") },\n\n    { njs_str(\"Object.name\"),\n      njs_str(\"Object\") },\n\n    { njs_str(\"Object.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.constructor === Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.__proto__ === null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.__proto__ = {}\"),\n      njs_str(\"TypeError: Cyclic __proto__ value\") },\n\n    { njs_str(\"var o = {}; var o2 = Object.create(o); o.__proto__ = o2\"),\n      njs_str(\"TypeError: Cyclic __proto__ value\") },\n\n    { njs_str(\"Object.prototype.__proto__.f()\"),\n      njs_str(\"TypeError: cannot get property \\\"f\\\" of undefined\") },\n\n    { njs_str(\"var obj = Object.create(null); obj.one = 1;\"\n                 \"var res = [];\"\n                 \"for (var val in obj) res.push(val); res\"),\n      njs_str(\"one\") },\n\n    { njs_str(\"var o1 = Object.create(null); o1.one = 1;\"\n                 \"var o2 = Object.create(o1); o2.two = 2;\"\n                 \"var o3 = Object.create(o2); o3.three = 3;\"\n                 \"var res = [];\"\n                 \"for (var val in o3) res.push(val); res\"),\n      njs_str(\"three,two,one\") },\n\n    { njs_str(\"var o1 = Object.create(null); o1.one = 1;\"\n                 \"var o2 = Object.create(o1);\"\n                 \"var o3 = Object.create(o2); o3.three = 3;\"\n                 \"var res = [];\"\n                 \"for (var val in o3) res.push(val); res\"),\n      njs_str(\"three,one\") },\n\n    { njs_str(\"var o1 = Object.create(null); o1.one = 1;\"\n                 \"var o2 = Object.create(o1);\"\n                 \"var o3 = Object.create(o2);\"\n                 \"var res = [];\"\n                 \"for (var val in o3) res.push(val); res\"),\n      njs_str(\"one\") },\n\n    { njs_str(\"var o1 = Object.create(null); o1.one = 1;\"\n                 \"var o2 = Object.create(o1); o2.two = 2;\"\n                 \"var o3 = Object.create(o2); o3.three = 3;\"\n                 \"o3.two = -2; o3.one = -1;\"\n                 \"var res = [];\"\n                 \"for (var val in o3) res.push(val); res\"),\n      njs_str(\"three,two,one\") },\n\n    { njs_str(\"var a = []; for(var p in 'abc') a.push(p); a\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var a = []; for(var p in Object('abc')) a.push(p); a\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var o = Object('abc'); var x = Object.create(o);\"\n                 \"x.a = 1; x.b = 2;\"\n                 \"var a = []; for(var p in x) a.push(p); a\"),\n      njs_str(\"a,b,0,1,2\") },\n\n    { njs_str(\"var o = Object.create(Math); o.abs = -5; Math.abs(o.abs)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"Object.prototype.toString.call(Object.prototype)\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Array)\"),\n      njs_str(\"[object Array]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new URIError)\"),\n      njs_str(\"[object Error]\") },\n\n    { njs_str(\"Object.prototype.toString.call(URIError.prototype)\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"Object.prototype\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"Object.prototype.valueOf.prototype\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.prototype.valueOf.call()\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"Object.prototype.valueOf.call(null)\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"[false, NaN, Symbol(), '']\"\n              \".map((x) => Object.prototype.valueOf.call(x))\"\n              \".map((x) => Object.prototype.toString.call(x))\"),\n      njs_str(\"[object Boolean],[object Number],[object Symbol],[object String]\") },\n\n    { njs_str(\"Object.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}).__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}).__proto__ = 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"({}).__proto__ = null\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"({__proto__:null}).__proto__\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"({__proto__:null, a:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.getPrototypeOf({__proto__:null})\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"Object.getPrototypeOf({__proto__:1}) === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getPrototypeOf({__proto__:Array.prototype}) === Array.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({__proto__: []}) instanceof Array\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({__proto__: Array.prototype}) instanceof Array\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {};\"\n              \"o.__proto__ = Array.prototype;\"\n              \"Object.getPrototypeOf(o) === Array.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.preventExtensions({});\"\n              \"o.__proto__ = Array.prototype;\"\n              \"Object.getPrototypeOf(o) === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {__proto__: Array.prototype, length:3}; o.fill('a')[2]\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"({__proto__:null, __proto__: null})\"),\n      njs_str(\"SyntaxError: Duplicate __proto__ fields are not allowed in object literals in 1\") },\n\n    { njs_str(\"({__proto__:null, '__proto__': null})\"),\n      njs_str(\"SyntaxError: Duplicate __proto__ fields are not allowed in object literals in 1\") },\n\n    { njs_str(\"({__proto__:null, '\\\\x5f_proto__': null})\"),\n      njs_str(\"SyntaxError: Duplicate __proto__ fields are not allowed in object literals in 1\") },\n\n    { njs_str(\"var __proto__ = 'a'; ({__proto__}).__proto__\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"var __proto__ = 'a'; ({__proto__, '__proto__':'b'}).__proto__\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"var __proto__ = 'a'; ({__proto__:null, __proto__}).__proto__\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"({__proto__:null, ['__proto__']:'a'}).__proto__\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"({__proto__() { return 123; }}).__proto__()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"({['__prot' + 'o__']: 123}).__proto__\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"({}).__proto__.constructor === Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}).constructor === Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}).constructor()\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var a = Object.__proto__; a()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.__proto__()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = Array(3); a\"),\n      njs_str(\",,\") },\n\n    { njs_str(\"var a = Array(); a.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = Array(0); a.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = Array(true); a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = Array(1,'two',3); a\"),\n      njs_str(\"1,two,3\") },\n\n    { njs_str(\"var a = Array(-1)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var a = Array(2.5)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var a = Array(NaN)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var a = Array(Infinity)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var a = Array(1111111111); a[1111111112] = 1; a.length\"),\n      njs_str(\"1111111113\") },\n\n    { njs_str(\"var a = Array(1111111111); a[1111111112] = 1; a[1111111112]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = Array(1111111111); a[1] = 2; a[1111111112] = 1; Object.keys(a)\"),\n      njs_str(\"1,1111111112\") },\n\n    { njs_str(\"var a = Array(1111111111); a[1] = 2; a[1111111112] = 1; Object.entries(a)\"),\n      njs_str(\"1,2,1111111112,1\") },\n\n    { njs_str(\"var x = Array(2**32)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var x = Array(2**28)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Array.prototype[2] = -1; var x = [0,1,3]; x.length = 2; x[2]\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Array.prototype[1] = 1; var x = [0]; x.length = 2; x[1]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = new Array(4); Object.defineProperty(a, '0', {enumerable:false}); a[2] = 's';\"\n              \"Array.prototype.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var x = [0, 1, 2]; x[4294967294] = 4294967294; x.length = 2;\"\n              \"njs.dump([x,x.length,Array.prototype,Array.prototype.length])\"),\n      njs_str(\"[[0,1],2,[],0]\") },\n\n#if 0 /* TODO: length 2**53-1. */\n    { njs_str(\"var x = Array(2**20), y = Array(2**12).fill(x);\"\n                 \"Array.prototype.concat.apply(y[0], y.slice(1))\"),\n      njs_str(\"RangeError: Invalid array length\") },\n#endif\n\n    { njs_str(\"var a = new Array(3); a\"),\n      njs_str(\",,\") },\n\n    { njs_str(\"Array.name\"),\n      njs_str(\"Array\") },\n\n    { njs_str(\"Array.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"delete this.Array; Array\"),\n      njs_str(\"ReferenceError: \\\"Array\\\" is not defined\") },\n\n    { njs_str(\"Array.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.prototype.constructor === Array\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(Array.prototype)\"),\n      njs_str(\"[object Array]\") },\n\n    { njs_str(\"Array.prototype\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Array.prototype.length = 3, Array.prototype\"),\n      njs_str(\",,\") },\n\n    { njs_str(\"var o = Object.create(Array.prototype); o.length = 3;\"\n                 \"[Array.prototype, Array.prototype.length, o.length]\"),\n      njs_str(\",0,3\") },\n\n    { njs_str(\"var o = Object.create(Array.prototype);\"\n                 \"Object.defineProperty(o, 'length', {value: 3});\"\n                 \"[Array.prototype, Array.prototype.length, o.length]\"),\n      njs_str(\",0,3\") },\n\n    { njs_str(\"Array.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = []; a.join = 'OK'; a\"),\n      njs_str(\"[object Array]\") },\n\n    { njs_str(\"[].__proto__ === Array.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[].__proto__.constructor === Array\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[].constructor === Array\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"([]).constructor()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Boolean()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new Boolean()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new Boolean\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Boolean(0)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Boolean('')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Boolean(1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Boolean('a')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Boolean({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Boolean([])\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"typeof Boolean(1)\"),\n      njs_str(\"boolean\") },\n\n    { njs_str(\"typeof new Boolean(1)\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof new Boolean\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"Boolean.name\"),\n      njs_str(\"Boolean\") },\n\n    { njs_str(\"Boolean.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Boolean.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Boolean.prototype.constructor === Boolean\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Boolean.prototype.constructor = 1;\"\n                 \"Boolean.prototype.constructor\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var c = Boolean.prototype.constructor;\"\n                 \"Boolean.prototype.constructor = 1;\"\n                 \"[c(0), Boolean.prototype.constructor]\"),\n      njs_str(\"false,1\") },\n\n    { njs_str(\"Boolean.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Boolean.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(Boolean.prototype)\"),\n      njs_str(\"[object Boolean]\") },\n\n    { njs_str(\"Boolean.prototype\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Boolean.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"true.__proto__ === Boolean.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"false.__proto__ === Boolean.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var b = Boolean(1); b.__proto__ === Boolean.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var b = new Boolean(1); b.__proto__ === Boolean.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"new Number()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"new Number\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"new Number(undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"new Number(null)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"new Number(true)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"new Number(false)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Number(undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Number(null)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Number(true)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Number(false)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Number(123)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"Number('123')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"Number('0.'+'1'.repeat(128))\"),\n      njs_str(\"0.1111111111111111\") },\n\n    { njs_str(\"Number('1'.repeat(128))\"),\n      njs_str(\"1.1111111111111113e+127\") },\n\n    { njs_str(\"Number('1'.repeat(129))\"),\n      njs_str(\"1.1111111111111112e+128\") },\n\n    { njs_str(\"Number('1'.repeat(129))\"),\n      njs_str(\"1.1111111111111112e+128\") },\n\n    { njs_str(\"Number('1'.repeat(129)+'e-100')\"),\n      njs_str(\"1.1111111111111112e+28\") },\n\n    { njs_str(\"Number('1'.repeat(310))\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"var o = { valueOf: function() { return 123 } };\"\n                 \"Number(o)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var o = { valueOf: function() { return 123 } };\"\n                 \"new Number(o)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"typeof Number(1)\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"typeof new Number(1)\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof new Number\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"Number.name\"),\n      njs_str(\"Number\") },\n\n    { njs_str(\"Number.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Number.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.prototype.constructor === Number\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(Number.prototype)\"),\n      njs_str(\"[object Number]\") },\n\n    { njs_str(\"Number.prototype\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Number.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0..__proto__ === Number.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var n = Number(1); n.__proto__ === Number.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var n = new Number(1); n.__proto__ === Number.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isFinite()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isFinite(123)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isFinite('123')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isFinite(Infinity)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isFinite(NaN)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isInteger()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isInteger('123')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isInteger(123)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isInteger(-123.0)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isInteger(123.4)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isInteger(Infinity)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isInteger(NaN)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger('123')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger(9007199254740991)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isSafeInteger(-9007199254740991.0)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isSafeInteger(9007199254740992)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger(-9007199254740992.0)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger(123.4)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger(Infinity)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger(-Infinity)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger(NaN)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isNaN()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isNaN('NaN')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isNaN(NaN)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isNaN(123)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isNaN(Infinity)\"),\n      njs_str(\"false\") },\n\n#if 0\n    { njs_str(\"parseFloat === Number.parseFloat\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"parseInt === Number.parseInt\"),\n      njs_str(\"true\") },\n#endif\n\n    /* Symbol */\n\n    { njs_str(\"typeof Symbol\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"this.Symbol === Symbol\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol.name\"),\n      njs_str(\"Symbol\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(Symbol, 'name').configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(Symbol, 'length').configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"typeof Symbol.for\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"Symbol.for.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"typeof Symbol.keyFor\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"Symbol.keyFor.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Symbol.prototype.constructor === Symbol\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(Symbol.prototype)\"),\n      njs_str(\"[object Symbol]\") },\n\n    { njs_str(\"Symbol.prototype.toString()\"),\n      njs_str(\"TypeError: unexpected value type:object\") },\n\n    { njs_str(\"new Symbol()\"),\n      njs_str(\"TypeError: Symbol is not a constructor\") },\n\n    { njs_str(\"typeof Symbol()\"),\n      njs_str(\"symbol\") },\n\n    { njs_str(\"typeof Symbol('desc')\"),\n      njs_str(\"symbol\") },\n\n    { njs_str(\"Symbol() === Symbol()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Symbol('desc') === Symbol('desc')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Symbol() == Symbol()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Symbol('desc') == Symbol('desc')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Symbol() == true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Symbol() == false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Symbol() != true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol() != 0\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol() != ''\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol() != undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"typeof Object(Symbol())\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof Object(Symbol('desc'))\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var x = Symbol(), o = Object(x); x == o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Symbol(), o = Object(x); o == x\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Symbol(), o = Object(x); x !== o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Symbol(), o = Object(x); x === o.valueOf()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Symbol(); Object(x) == Object(x)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"!Symbol()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"!!Symbol()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(Symbol('a') && Symbol('b')).toString()\"),\n      njs_str(\"Symbol(b)\") },\n\n    { njs_str(\"(Symbol('a') || Symbol('b')).toString()\"),\n      njs_str(\"Symbol(a)\") },\n\n    { njs_str(\"+Symbol()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"-Symbol()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"~Symbol()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"var x = Symbol(); ++x\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"var x = Symbol(); x++\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"var x = Symbol(); --x\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"var x = Symbol(); x--\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"var msg = 'Cannot convert a Symbol value to a number',\"\n              \"    ops = ['+', '-', '*', '**', '/', '%', '>>>', '>>', '<<',\"\n              \"           '&', '|', '^', '<', '<=', '>', '>='],\"\n              \"    test = (lhs, rhs, cls, msg, stop, op) => {\"\n              \"        if (stop) {\"\n              \"            return stop;\"\n              \"        }\"\n              \"        var op = `${lhs} ${op} ${rhs}`;\"\n              \"        try {\"\n              \"            (new Function(op))();\"\n              \"        } catch (e) {\"\n              \"            if (e instanceof cls && msg == e.message) {\"\n              \"                return '';\"\n              \"            }\"\n              \"        }\"\n              \"        return `'${op}' - failed`;\"\n              \"   };\"\n              \"ops.reduce(test.bind({}, 'Symbol()', '42', TypeError, msg), '') ||\"\n              \"ops.reduce(test.bind({}, '42', 'Symbol()', TypeError, msg), '');\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Symbol() > 'abc'\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"'abc' > Symbol()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"'abc' + Symbol()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"Symbol() + 'abc'\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"Math.min(Symbol())\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"[Symbol(), Symbol()].join()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"Symbol().toString()\"),\n      njs_str(\"Symbol()\") },\n\n    { njs_str(\"Symbol('desc').toString()\"),\n      njs_str(\"Symbol(desc)\") },\n\n    { njs_str(\"Symbol('\u03b1'.repeat(16)).toString()\"),\n      njs_str(\"Symbol(\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1)\") },\n\n    { njs_str(\"Symbol(undefined).toString()\"),\n      njs_str(\"Symbol()\") },\n\n    { njs_str(\"Symbol(null).toString()\"),\n      njs_str(\"Symbol(null)\") },\n\n    { njs_str(\"Symbol(123).toString()\"),\n      njs_str(\"Symbol(123)\") },\n\n    { njs_str(\"Symbol(false).toString()\"),\n      njs_str(\"Symbol(false)\") },\n\n    { njs_str(\"Symbol(Symbol()).toString()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"var all = [ 'asyncIterator',\"\n              \"            'hasInstance',\"\n              \"            'isConcatSpreadable',\"\n              \"            'iterator',\"\n              \"            'match',\"\n              \"            'matchAll',\"\n              \"            'replace',\"\n              \"            'search',\"\n              \"            'species',\"\n              \"            'split',\"\n              \"            'toPrimitive',\"\n              \"            'toStringTag',\"\n              \"            'unscopables' ]; \"\n              \"Object.getOwnPropertyNames(Symbol)\"\n              \".filter((x) => typeof Symbol[x] == 'symbol')\"\n              \".length == all.length\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var all = [ 'asyncIterator',\"\n              \"            'hasInstance',\"\n              \"            'isConcatSpreadable',\"\n              \"            'iterator',\"\n              \"            'match',\"\n              \"            'matchAll',\"\n              \"            'replace',\"\n              \"            'search',\"\n              \"            'species',\"\n              \"            'split',\"\n              \"            'toPrimitive',\"\n              \"            'toStringTag',\"\n              \"            'unscopables' ]; \"\n              \"Object.getOwnPropertyNames(Symbol)\"\n              \".filter((x) => typeof Symbol[x] == 'symbol')\"\n              \".filter((x, i) => !all.includes(x))\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(Symbol)\"\n              \".filter((x) => typeof Symbol[x] == 'symbol')\"\n              \".map(x => ({ k: x, v: Symbol[x] }))\"\n              \".every((x) => 'Symbol(Symbol.' + x.k + ')' == String(x.v))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"typeof Symbol.prototype.description\"),\n      njs_str(\"TypeError: unexpected value type:object\") },\n\n    { njs_str(\"Symbol.prototype.description = 1\"),\n      njs_str(\"TypeError: Cannot set property \\\"description\\\" of object which has only a getter\") },\n\n    { njs_str(\"typeof Symbol().description\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Symbol('desc').description\"),\n      njs_str(\"desc\") },\n\n    { njs_str(\"Symbol.iterator.description\"),\n      njs_str(\"Symbol.iterator\") },\n\n    { njs_str(\"var o = {}; o[Symbol.isConcatSpreadable] = true; \"\n              \"o[Symbol.isConcatSpreadable]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {[Symbol.isConcatSpreadable]:true}; \"\n              \"o[Symbol.isConcatSpreadable]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {[Symbol.isConcatSpreadable]:true}; \"\n              \"delete o[Symbol.isConcatSpreadable];\"\n              \"o[Symbol.isConcatSpreadable]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {get [Symbol.isConcatSpreadable](){return true}}; \"\n              \"o[Symbol.isConcatSpreadable]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({[Symbol.isConcatSpreadable]:()=>true})[Symbol.isConcatSpreadable]()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {a:1, [Symbol.isConcatSpreadable]:true}; \"\n              \"[\"\n              \" 'getOwnPropertyNames',\"\n              \" 'keys', \"\n              \" 'getOwnPropertySymbols',\"\n              \" 'getOwnPropertyDescriptors',\"\n               \"]\"\n              \".map(v=>Object[v](o)).map(v=>njs.dump(v))\"),\n      njs_str(\"['a'],['a'],[Symbol(Symbol.isConcatSpreadable)],\"\n              \"{a:{value:1,writable:true,enumerable:true,configurable:true},\"\n              \"Symbol(Symbol.isConcatSpreadable):{value:true,writable:true,enumerable:true,configurable:true}}\") },\n\n    { njs_str(\"var o = {}; o[Symbol.isConcatSpreadable] = true; \"\n              \"Object.getOwnPropertyDescriptors(o)[Symbol.isConcatSpreadable].value\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {[Symbol.isConcatSpreadable]:{value:true}}); \"\n              \"o[Symbol.isConcatSpreadable]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, Symbol.isConcatSpreadable, \"\n              \"{configurable:false, writable:false, value:true}); \"\n              \"o[Symbol.isConcatSpreadable]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {}; o[Symbol.isConcatSpreadable] = true; \"\n              \"Object.getOwnPropertyDescriptor(o, Symbol.isConcatSpreadable).value\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1];\"\n              \"var b = [2, /**/, 4, 5];\"\n              \"Object.defineProperty(b.__proto__, 1, {\"\n              \"    get: () => {\"\n              \"        b.length = 10**6;\"\n              \"        return 3;\"\n              \"    }\"\n              \"});\"\n              \"a.concat(b)\"),\n      njs_str(\"1,2,3,4,5\") },\n\n    { njs_str(\"Boolean.prototype.length = 2;\"\n              \"Boolean.prototype[0] = 'a';\"\n              \"Boolean.prototype[1] = 'b';\"\n              \"Boolean.prototype[Symbol.isConcatSpreadable] = true;\"\n              \"[].concat(new Boolean(true))\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"var o = {}, n = 5381 /* NJS_DJB_HASH_INIT */;\"\n              \"while(n--) o[Symbol()] = 'test'; o[''];\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var symA = Symbol('A'); var obj = {[symA]:1}; Object.freeze(obj); \"\n              \"obj[symA] = 2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"Symbol(A)\\\" of object\") },\n\n    { njs_str(\"var symA = Symbol('A'); var obj = {[symA]:1}; Object.freeze(obj); \"\n              \"delete obj[symA]\"),\n      njs_str(\"TypeError: Cannot delete property \\\"Symbol(A)\\\" of object\") },\n\n    { njs_str(\"typeof Object.getOwnPropertySymbols(globalThis);\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"[\"\n              \" Object.prototype,\"\n              \" Symbol.prototype,\"\n              \" Math,\"\n              \" JSON,\"\n              \" process,\"\n              \" njs,\"\n              \" this,\"\n               \"]\"\n              \".map(v=>Object.getOwnPropertyDescriptor(v, Symbol.toStringTag))\"\n              \".map(d=>{if (d && !d.writable && !d.enumerable && d.configurable) return d.value})\"\n              \".map(v=>njs.dump(v))\"),\n      njs_str(\"undefined,Symbol,Math,JSON,process,njs,global\") },\n\n    /* String */\n\n    { njs_str(\"String()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"new String()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"new String\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String(123)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"new String(123)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"String(Symbol())\"),\n      njs_str(\"Symbol()\") },\n\n    { njs_str(\"String(Symbol('desc'))\"),\n      njs_str(\"Symbol(desc)\") },\n\n    { njs_str(\"new String(Symbol())\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"String(Object(Symbol()))\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"Object('123').length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"new String(123).length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"new String(123).toString()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"String([1,2,3])\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"new String([1,2,3])\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s.one = 1; 'one' in s\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); 'one' in s\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s.one = 1; '1' in s\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s.one = 1; 1 in s\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s.one = 1; 2 in s\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s[1]\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"Object.create(new String('\u03b1\u03b2'))[1]\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s[1] = 'b'\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"1\\\" of object\") },\n\n    { njs_str(\"var o = Object.create(new String('\u03b1\u03b2')); o[1] = 'a'\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"1\\\" of object\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s[4] = 'ab'; s[4]\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"Object.create(new String('\u03b1\u03b2')).length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s.valueOf()[1]\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"var o = { toString: function() { return 'OK' } };\"\n                 \"String(o)\"),\n      njs_str(\"OK\") },\n\n    { njs_str(\"var o = { toString: function() { return 'OK' } };\"\n                 \"new String(o)\"),\n      njs_str(\"OK\") },\n\n    { njs_str(\"typeof String('abc')\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"typeof new String('abc')\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof new String\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"String.name\"),\n      njs_str(\"String\") },\n\n    { njs_str(\"String.length\"),\n      njs_str(\"1\") },\n\n    /* values_hash long vs long string collision. */\n    { njs_str(\"'XXXXXXXXXXXXXXXQWEEAB' + 'XXXXXXXXXXXXXXXZHGP'\"),\n      njs_str(\"XXXXXXXXXXXXXXXQWEEABXXXXXXXXXXXXXXXZHGP\") },\n\n    /* values_hash short vs long string collision. */\n    { njs_str(\"'SHAAAB' + 'XXXXXXXXXXXXXXXUETBF'\"),\n      njs_str(\"SHAAABXXXXXXXXXXXXXXXUETBF\") },\n\n    /* values_hash long vs short string collision. */\n    { njs_str(\"'XXXXXXXXXXXXXXXUETBF' + 'SHAAAB'\"),\n      njs_str(\"XXXXXXXXXXXXXXXUETBFSHAAAB\") },\n\n    /* values_hash short vs short string collision. */\n    { njs_str(\"'XUBAAAB' + 'XGYXKY'\"),\n      njs_str(\"XUBAAABXGYXKY\") },\n\n    { njs_str(\"String.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(String.prototype)\"),\n      njs_str(\"[object String]\") },\n\n    { njs_str(\"String.prototype\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.prototype.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"String.prototype.constructor === String\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"String.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"String.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"''.__proto__ === String.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"String.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'test'.__proto__ === String.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = String('abc'); s.__proto__ === String.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = new String('abc'); s.__proto__ === String.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'test'.constructor === String\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'test'.constructor.prototype === String.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.create(String.prototype); o.length = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"length\\\" of object\") },\n\n    { njs_str(\"Function.name\"),\n      njs_str(\"Function\") },\n\n    { njs_str(\"Function.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Function.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Function.prototype.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Function.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Function.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(Function.prototype)\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"Function.prototype\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"Function.prototype.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Function.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function f() {} f.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Function()\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"new Function();\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"(function(){}).constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new Function('('.repeat(2**13));\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in runtime:1\") },\n\n    { njs_str(\"new Function('{'.repeat(2**13));\"),\n      njs_str(\"SyntaxError: Unexpected token \\\")\\\" in runtime:1\") },\n\n    { njs_str(\"new Function('['.repeat(2**13));\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in runtime:1\") },\n\n    { njs_str(\"new Function('`'.repeat(2**13));\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"new Function('{['.repeat(2**13));\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in runtime:1\") },\n\n    { njs_str(\"new Function('{;'.repeat(2**13));\"),\n      njs_str(\"SyntaxError: Unexpected token \\\")\\\" in runtime:1\") },\n\n    { njs_str(\"(new Function('1;'.repeat(2**13) + 'return 2'))()\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"(new Function('return' + '~'.repeat(2**13) + '3'))()\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(new Function('return' + '~'.repeat(2**13+1) + '3'))()\"),\n      njs_str(\"-4\") },\n\n    { njs_str(\"new Function('new '.repeat(2**13));\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in runtime:1\") },\n\n    { njs_str(\"(new Function('return ' + 'typeof '.repeat(2**13) + 'x'))()\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"(new Function('return 5' + '** 1'.repeat(2**13)))()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"(new Function('var a = 7; return a' + '= a'.repeat(2**13)))()\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var a = (new Function('return [' + '1,'.repeat(2**13) + ']'))();\"\n              \"a.push(5); [a[2**13 - 1], a[2**13]]\"),\n      njs_str(\"1,5\") },\n\n    { njs_str(\"var f = new Function('return 1;'); f();\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var sum = new Function('a', 'b', 'return a + b');\"\n              \"sum(2, 4);\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var sum = new Function('a, b', 'return a + b');\"\n              \"sum(2, 4);\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var sum = new Function('a, b', 'c', 'return a + b + c');\"\n              \"sum(2, 4, 4);\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"(new Function({ toString() { return '...a'; }}, { toString() { return 'return a;' }}))(1,2,3)\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var x = 10; function foo() { var x = 20; return new Function('return x;'); }\"\n              \"var f = foo(); f()\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var fn = (function() { return new Function('return this'); }).call({}), o = {}; \"\n              \"fn.call(o) == o && fn.bind(o).call(this) == o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Function('return this'))() === globalThis\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var f = Function.call(this, 'return this.a');\"\n              \"var r1 = f(); var a = 1; var r2 = f(); [r1,r2]\"),\n      njs_str(\",1\") },\n\n    { njs_str(\"(new Function('a', 'return a')).length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(new Function('a','b', 'return a + b')).length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {}; (new Function('return this')).call(o) === o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Function('function foo(){return 1}; return foo()'))();\"\n              \"foo\"),\n      njs_str(\"ReferenceError: \\\"foo\\\" is not defined\") },\n\n    { njs_str(\"this.NN = {}; var f = Function('eval = 42;'); f()\"),\n      njs_str(\"SyntaxError: Identifier \\\"eval\\\" is forbidden as left-hand in assignment in runtime:1\") },\n\n    { njs_str(\"RegExp()\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"RegExp('')\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"RegExp(123)\"),\n      njs_str(\"/123/\") },\n\n    { njs_str(\"RegExp.name\"),\n      njs_str(\"RegExp\") },\n\n    { njs_str(\"RegExp.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"RegExp.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp.prototype.constructor === RegExp\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(RegExp.prototype)\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"RegExp.prototype\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"RegExp.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/./.__proto__ === RegExp.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"toString()\"),\n      njs_str(\"[object Undefined]\") },\n\n    { njs_str(\"toString() + Object.prototype.toString\"),\n      njs_str(\"[object Undefined][object Function]\") },\n\n#if 0\n    { njs_str(\"toString === Object.prototype.toString\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.yes = 'OK'; toString.yes\"),\n      njs_str(\"OK\") },\n#endif\n\n    { njs_str(\"Object.prototype.toString.call()\"),\n      njs_str(\"[object Undefined]\") },\n\n    { njs_str(\"Object.prototype.toString.call(undefined)\"),\n      njs_str(\"[object Undefined]\") },\n\n    { njs_str(\"Object.prototype.toString.call(null)\"),\n      njs_str(\"[object Null]\") },\n\n    { njs_str(\"Object.prototype.toString.call(true)\"),\n      njs_str(\"[object Boolean]\") },\n\n    { njs_str(\"Boolean.prototype[Symbol.toStringTag] = 'XXX';\"\n              \"Object.prototype.toString.call(true)\"),\n      njs_str(\"[object XXX]\") },\n\n    { njs_str(\"Object.prototype.toString.call(1)\"),\n      njs_str(\"[object Number]\") },\n\n    { njs_str(\"Object.prototype.toString.call('')\"),\n      njs_str(\"[object String]\") },\n\n    { njs_str(\"Object.prototype.toString.call({})\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"Object.prototype.toString.call([])\"),\n      njs_str(\"[object Array]\") },\n\n    { njs_str(\"var a = []; a[Symbol.toStringTag] = 'XXX';\"\n              \"Object.prototype.toString.call(a)\"),\n      njs_str(\"[object XXX]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Object(true))\"),\n      njs_str(\"[object Boolean]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Number(1))\"),\n      njs_str(\"[object Number]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Object(1))\"),\n      njs_str(\"[object Number]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Object(Symbol()))\"),\n      njs_str(\"[object Symbol]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Object(Symbol('desc')))\"),\n      njs_str(\"[object Symbol]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Object(''))\"),\n      njs_str(\"[object String]\") },\n\n    { njs_str(\"Object.prototype.toString.call(function(){})\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"var f = ()=>1; f[Symbol.toStringTag] = '\u03b1'.repeat(32);\"\n              \"var toStr = Object.prototype.toString.call(f); [toStr, toStr.length]\"),\n      njs_str(\"[object \u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1],41\") },\n\n    { njs_str(\"Object.prototype.toString.call(/./)\"),\n      njs_str(\"[object RegExp]\") },\n\n    { njs_str(\"Object.prototype.toString.call(Math)\"),\n      njs_str(\"[object Math]\") },\n\n    { njs_str(\"Object.prototype.toString.call(JSON)\"),\n      njs_str(\"[object JSON]\") },\n\n    { njs_str(\"var p = { a:5 }; var o = Object.create(p); o.a\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var p = { a:5 }; var o = Object.create(p);\"\n                 \"o.__proto__ === p\"),\n      njs_str(\"true\") },\n\n    /* Object.create() */\n\n    { njs_str(\"var o = Object.create(Object.prototype);\"\n                 \"o.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.create(null); '__proto__' in o\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.create()\"),\n      njs_str(\"TypeError: prototype may only be an object or null: undefined\") },\n\n    { njs_str(\"Object.create(1)\"),\n      njs_str(\"TypeError: prototype may only be an object or null: number\") },\n\n    { njs_str(\"var o = Object.create(null, { a: { value: 1 } }); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = Object.create({ a: 0 }, { a: { value: 1 } }); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = Object.create({ get a() { return this.b; } }, { b: { value: 1 } }); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {a:1, b:2, c:3};\"\n                 \"Object.keys(o)\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"var a = []; a.one = 7; Object.keys(a)\"),\n      njs_str(\"one\") },\n\n    { njs_str(\"var a = [,,]; a.one = 7; Object.keys(a)\"),\n      njs_str(\"one\") },\n\n    { njs_str(\"var a = [,6,,3]; a.one = 7; Object.keys(a)\"),\n      njs_str(\"1,3,one\") },\n\n    { njs_str(\"var o = {a:1,b:2}; delete o.a; Object.keys(o)\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"Object.keys()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"Object.keys('\u03b1\u03b2Z')\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"Object.keys(new String('\u03b1\u03b2Z'))\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2Z'); s.a = 1; Object.keys(s)\"),\n      njs_str(\"0,1,2,a\") },\n\n    { njs_str(\"var r = new RegExp('\u03b1bc'); r.a = 1; Object.keys(r)\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"Object.keys(Object.create(new String('abc')))\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.keys(1)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.keys(true)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var o = {a:3, b:2, c:1}; Object.values(o)\"),\n      njs_str(\"3,2,1\") },\n\n    { njs_str(\"Object.values('s')\"),\n      njs_str(\"s\") },\n\n    { njs_str(\"Object.values('\u0430\u0431\u0432 abc')\"),\n      njs_str(\"\u0430,\u0431,\u0432, ,a,b,c\") },\n\n    { njs_str(\"var s = new String('abc'); s.three = 3; Object.values(s)\"),\n      njs_str(\"a,b,c,3\") },\n\n    { njs_str(\"var a = [,,5,,4,,,3,2]; a.one = 1; Object.values(a)\"),\n      njs_str(\"5,4,3,2,1\") },\n\n    { njs_str(\"Object.values([{}, null, false, NaN, function() {}])\"),\n      njs_str(\"[object Object],,false,NaN,[object Function]\") },\n\n    { njs_str(\"Object.values(1)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.values(njs)[0] === njs.version\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.values(process)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.values()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"Object.entries('abc')\"),\n      njs_str(\"0,a,1,b,2,c\") },\n\n    { njs_str(\"JSON.stringify(Object.entries('\u044d\u044e\u044f'))\"),\n      njs_str(\"[[\\\"0\\\",\\\"\u044d\\\"],[\\\"1\\\",\\\"\u044e\\\"],[\\\"2\\\",\\\"\u044f\\\"]]\") },\n\n    { njs_str(\"var o = {a:\\\"\u0430\\\", b:\\\"\u0431\\\", c:\\\"\u0446\\\"};\"\n                 \"JSON.stringify(Object.entries(o))\"),\n      njs_str(\"[[\\\"a\\\",\\\"\u0430\\\"],[\\\"b\\\",\\\"\u0431\\\"],[\\\"c\\\",\\\"\u0446\\\"]]\") },\n\n    { njs_str(\"JSON.stringify(Object.entries([0]))\"),\n      njs_str(\"[[\\\"0\\\",0]]\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s.two = null; s[3] = true;\"\n                 \"Object.entries(s)\"),\n      njs_str(\"0,\u03b1,1,\u03b2,two,,3,true\") },\n\n    { njs_str(\"Object.entries(true)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.entries(njs)[0][1] === njs.version\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.entries()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {}); o.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.defineProperty({}, 'a', {value:1})\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {value:1}); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', Object.create({value:1})); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {writable:'x', enumerable:'y', configurable:'z'});\"\n              \"var d = Object.getOwnPropertyDescriptor(o, 'a');\"\n              \"d.writable && d.enumerable && d.configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {a:1, c:2}; Object.defineProperty(o, 'b', {});\"\n                 \"Object.keys(o)\"),\n      njs_str(\"a,c\") },\n\n    { njs_str(\"var o = {a:1, c:2};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:false});\"\n                 \"Object.keys(o)\"),\n      njs_str(\"a,c\") },\n\n    { njs_str(\"var o = {a:1, c:3};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:true});\"\n                 \"Object.keys(o)\"),\n      njs_str(\"a,c,b\") },\n\n    { njs_str(\"var o = {a:1, c:2}; Object.defineProperty(o, 'b', {});\"\n                 \"Object.values(o)\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"var o = {a:1, c:2};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:false, value:3});\"\n                 \"Object.values(o)\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"var o = {a:1, c:3};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:true, value:2});\"\n                 \"Object.values(o)\"),\n      njs_str(\"1,3,2\") },\n\n    { njs_str(\"var o = {a:1, c:2}; Object.defineProperty(o, 'b', {});\"\n                 \"Object.entries(o)\"),\n      njs_str(\"a,1,c,2\") },\n\n    { njs_str(\"var o = {a:1, c:2};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:false, value:3});\"\n                 \"Object.entries(o)\"),\n      njs_str(\"a,1,c,2\") },\n\n    { njs_str(\"var o = {a:1, c:3};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:true, value:2});\"\n                 \"Object.entries(o)\"),\n      njs_str(\"a,1,c,3,b,2\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {}); o.a = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {writable:false}); o.a = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {writable:true});\"\n                 \"o.a = 1; o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperty(Object.prototype, 'a', {writable:false});\"\n                 \"var o = {a: 1}; [o.a++, o.a]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(Object.prototype, 'a', {writable:false});\"\n                 \"o.a = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(Object.prototype, 'a', {writable:true});\"\n                 \"o.a = 1; o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var p = Object.create(Function);\"\n                 \"Object.defineProperty(p, 'length', {writable: true});\"\n                 \"p.length = 32; p.length\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"var p = Object.create(Math.abs);\"\n                 \"Object.defineProperty(p, 'length', {writable: true});\"\n                 \"p.length = 23; p.length\"),\n      njs_str(\"23\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:1}); delete o.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:1, configurable:true});\"\n                 \"delete o.a; o.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:1, configurable:false});\"\n                 \"delete o.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', Object.create({value:2})); o.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:false});\"\n                 \"Object.defineProperty(o, 'a', {configurable:true})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:false});\"\n                 \"Object.defineProperty(o, 'a', {enumerable:true})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:false});\"\n                 \"Object.defineProperty(o, 'a', {writable:true})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:false});\"\n                 \"Object.defineProperty(o, 'a', {enumerable:false}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:false});\"\n                 \"Object.defineProperty(o, 'a', {}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:false, writable:true});\"\n                 \"Object.defineProperty(o, 'a', {writable:false}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:true, writable:false});\"\n                 \"Object.defineProperty(o, 'a', {writable:true}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {});\"\n                 \"Object.defineProperty(o, 'a', {}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:1});\"\n                 \"Object.defineProperty(o, 'a', {value:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:1});\"\n                 \"Object.defineProperty(o, 'a', {value:2}).a\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:true});\"\n                 \"Object.defineProperty(o, 'a', {value:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:true, get:()=>1});\"\n                 \"Object.defineProperty(o, 'a', {value:1});\"\n                 \"var d = Object.getOwnPropertyDescriptor(o, 'a'); \"\n                 \"[d.value, d.writable, d.enumerable, d.configurable, d.get, d.set]\"),\n      njs_str(\"1,false,false,true,,\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:true, value:1});\"\n                 \"Object.defineProperty(o, 'a', {set:()=>1});\"\n                 \"var d = Object.getOwnPropertyDescriptor(o, 'a'); \"\n                 \"[d.value, d.writable, d.enumerable, d.configurable, d.get, d.set]\"),\n      njs_str(\",,false,true,,[object Function]\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {get: ()=>1, configurable:true}); \"\n                 \"Object.defineProperty(o, 'a', {value:123}); o.a =2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {get: ()=>1, configurable:true}); \"\n                 \"Object.defineProperty(o, 'a', {writable:false}); o.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {value: 1, configurable:true}); \"\n                 \"Object.defineProperty(o, 'a', {get:()=>1}); o.a = 2\"),\n      njs_str(\"TypeError: Cannot set property \\\"a\\\" of object which has only a getter\") },\n\n    { njs_str(\"var o = Object.create(Object.defineProperty({}, 'x', { set: function(v) { this.y = v; }})); \"\n                 \"o.x = 123; Object.getOwnPropertyDescriptor(o, 'y').value\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', { configurable: true, value: 0 });\"\n                 \"Object.defineProperty(o, 'a', { value: 1 });\"\n                 \"Object.defineProperty(o, 'a', { configurable: false, value: 2 }).a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty()\"),\n      njs_str(\"TypeError: Object.defineProperty is called on non-object\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o)\"),\n      njs_str(\"TypeError: descriptor is not an object\") },\n\n    { njs_str(\"Object.defineProperty(Function.prototype, 'name', {value:'x'}).name\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"Object.defineProperty(Function.prototype, 'xxx', {value:'x'}).xxx\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"Object.defineProperty(Object, 'name', {value:'x'}).name\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"Object.defineProperty(Object.prototype, 'toString', {value:1}).toString\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{value:1}}); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{enumerable:true}, b:{enumerable:true}});\"\n                 \"Object.keys(o)\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"var desc = Object.defineProperty({b:{value:1, enumerable:true}}, 'a', {});\"\n                 \"var o = Object.defineProperties({}, desc);\"\n                 \"Object.keys(o)\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, { get x() { return { value: 1 }; } });\"\n              \"Object.getOwnPropertyDescriptor(o, 'x').value\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperties({}, { get x() { return  1; } })\"),\n      njs_str(\"TypeError: property descriptor must be an object\") },\n\n    { njs_str(\"var obj = {}; var desc = {value:NaN}; Object.defineProperty(obj, 'foo', desc); \"\n              \"Object.defineProperties(obj, { foo: desc } ).foo\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var obj = {}; var desc = {value:-0}; Object.defineProperty(obj, 'foo', desc); \"\n              \"Object.defineProperties(obj, { foo: desc } ).foo\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"var obj = {}; var desc = {value:-0}; Object.defineProperty(obj, 'foo', {value:0}); \"\n              \"Object.defineProperties(obj, { foo: desc } ).foo\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"foo\\\"\") },\n\n    { njs_str(\"var obj = {}; var desc = {value:0}; Object.defineProperty(obj, 'foo', {value:-0}); \"\n              \"Object.defineProperties(obj, { foo: desc } ).foo\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"foo\\\"\") },\n\n    { njs_str(\"var descs = {a:{value:1}}; Object.defineProperty(descs, 'b', {value:{value:2}});\"\n              \"var o = Object.defineProperties({}, descs);\"\n              \"njs.dump([o.a, o.b])\"),\n      njs_str(\"[1,undefined]\") },\n\n    { njs_str(\"var descs = {a:{value:1}}; Object.defineProperty(descs, 'b', {value:{value:2}, enumerable:true});\"\n              \"var o = Object.defineProperties({}, descs);\"\n              \"njs.dump([o.a, o.b])\"),\n      njs_str(\"[1,2]\") },\n\n    { njs_str(\"var o = {a:1}; delete o.a;\"\n                 \"Object.defineProperty(o, 'a', { value: 1 }); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {a:1}; delete o.a;\"\n                 \"Object.defineProperty(o, 'a', { value: 1 }); o.a = 2; o.a\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {a:1}; delete o.a;\"\n                 \"Object.defineProperty(o, 'a', { value: 1, writable:1 }); o.a = 2; o.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, new String('a'), { value: 1}); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, {toString:function(){return 'a'}}, { value: 1}); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1, 2];\"\n                 \"Object.defineProperty(a, '1', {value: 5}); a[1]\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a = [1, 2];\"\n                 \"Object.defineProperty(a, '3', {}); njs.dump(a)\"),\n      njs_str(\"[1,2,<empty>,undefined]\") },\n\n    { njs_str(\"var a = [1, 2];\"\n                 \"Object.defineProperty(a, 'length', {}); a\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"var a = [1, 2];\"\n                 \"Object.defineProperty(a, 'length', {value: 1}); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1, 2];\"\n                 \"Object.defineProperty(a, 'length', {value: 5}); a\"),\n      njs_str(\"1,2,,,\") },\n\n    { njs_str(\"var o = Object.defineProperties({a:1}, {}); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var arr = [0, 1]; Object.defineProperty(arr, 'length', {value:3}); arr.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Object.defineProperty(Array.prototype, 'toString', { get: function() {return () => 1}});\"\n                 \"'a' + []\"),\n      njs_str(\"a1\") },\n\n    { njs_str(\"Object.defineProperty(Array.prototype, 'toJSON', { get: function() {return () => 1}});\"\n                 \"JSON.stringify([])\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperty(Array.prototype, 'join', { get: function() {return () => 1}});\"\n                 \"([]).toString()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {}, desc = {};\"\n              \"Object.defineProperty(desc, 'get', { get() { return () => 1 } });\"\n              \"Object.defineProperty(o, 'a', desc); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperty(Error.prototype, 'message', { get() {return 'm'}});\"\n                 \"Object.defineProperty(Error.prototype, 'name', { get() {return 'n'}});\"\n                 \"Error()\"),\n      njs_str(\"n: m\") },\n\n    { njs_str(\"var o = {}, desc = {};\"\n              \"Object.defineProperty(desc, 'value', { get() { return 'x'}});\"\n              \"Object.defineProperty(o, 'a', desc); o.a\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"var o = {}, desc = {};\"\n              \"Object.defineProperty(desc, 'value', { get() { return 'x'}});\"\n              \"Object.defineProperty(desc, 'enumerable', { get() { return !NaN}});\"\n              \"Object.defineProperty(desc, 'writable', { get() { return 'x'}});\"\n              \"Object.defineProperty(desc, 'configurable', { get() { return 1}});\"\n              \"Object.defineProperty(o, 'a', desc);\"\n              \"var d = Object.getOwnPropertyDescriptor(o, 'a');\"\n              \"d.enumerable && d.writable && d.configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.defineProperties()\"),\n      njs_str(\"TypeError: Object.defineProperties is called on non-object\") },\n\n    { njs_str(\"Object.defineProperties(1, {})\"),\n      njs_str(\"TypeError: Object.defineProperties is called on non-object\") },\n\n    { njs_str(\"njs.dump(Object.defineProperties({}, 1))\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"Object.defineProperties(Object.freeze({b:1}), {b:{value:1}}).b\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperties(Object.freeze({b:1}), {b:{value:2}})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"b\\\"\") },\n\n    { njs_str(\"Object.defineProperties(Object.freeze({b:1}), {c:{value:1}})\"),\n      njs_str(\"TypeError: Cannot add property \\\"c\\\", object is not extensible\") },\n\n    { njs_str(\"var o = {a:1}; o.hasOwnProperty('a')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.create({a:2}); o.hasOwnProperty('a')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {a:1}; o.hasOwnProperty('b')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = []; a.hasOwnProperty('0')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = [,,]; a.hasOwnProperty('0')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = [3,,]; a.hasOwnProperty('0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [,4]; a.hasOwnProperty('1')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [3,4]; a.hasOwnProperty('2')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = [3,4]; a.one = 1; a.hasOwnProperty('one')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {a:1}; o.hasOwnProperty(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {a:1}; o.hasOwnProperty(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {a:1}; o.hasOwnProperty()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[,].hasOwnProperty()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[1,2].hasOwnProperty('len')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[1,2].hasOwnProperty('0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2].hasOwnProperty('2')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[].hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2].hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Array()).hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Array(10)).hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.valueOf.hasOwnProperty()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1..hasOwnProperty('b')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'s'.hasOwnProperty('b')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'s'.hasOwnProperty('0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'s'.hasOwnProperty('1')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.hasOwnProperty('hasOwnProperty')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.prototype.hasOwnProperty('hasOwnProperty')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined, set:undefined}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:1})\"),\n      njs_str(\"TypeError: Getter must be a function\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:function(){return 1}}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {set:1})\"),\n      njs_str(\"TypeError: Setter must be a function\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {set:undefined}); o.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {set:undefined}); o.a = 4;\"),\n      njs_str(\"TypeError: Cannot set property \\\"a\\\" of object which has only a getter\") },\n\n    { njs_str(\"var o = {a: 0};\"\n                 \"Object.defineProperty(o, 'b', {set:function(x){this.a = x / 2;}}); o.b = 4; o.a;\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:undefined});\"\n                 \"Object.defineProperty(o, 'a', {get:undefined})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {});\"\n                 \"Object.defineProperty(o, 'a', {get:undefined})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined});\"\n                 \"Object.defineProperty(o, 'a', {get:undefined}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined});\"\n                 \"Object.defineProperty(o, 'a', {set:undefined}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined});\"\n                 \"Object.defineProperty(o, 'a', {}); o.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined});\"\n                 \"Object.defineProperty(o, 'a', {set:function(){}})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined});\"\n                 \"Object.defineProperty(o, 'a', {get:function(){}})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:()=>1, configurable:true});\"\n                 \"Object.defineProperty(o, 'a', {get:()=>2}); o.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {set:function(v){this.aa=v;}, configurable:true});\"\n                 \"Object.defineProperty(o, 'a', {get:function(){return this.aa}}); o.a = 1; o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:()=>1, configurable:true});\"\n                 \"Object.defineProperty(o, 'a', {value:2}).a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:()=>1, configurable:true});\"\n                 \"Object.defineProperty(o, 'a', {value:2});\"\n                 \"var d = Object.getOwnPropertyDescriptor(o, 'a');\"\n                 \"d.get === undefined && d.set === undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:1, configurable:true});\"\n                 \"Object.defineProperty(o, 'a', {get:()=>2});\"\n                 \"var d = Object.getOwnPropertyDescriptor(o, 'a');\"\n                 \"d.writable === undefined && d.value === undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.defineProperty(Date.prototype, 'year', {get: function() { return this.getFullYear();}});\"\n                 \"var d = new Date(0); d.year\"),\n      njs_str(\"1970\") },\n\n    { njs_str(\"var o = [];\"\n                 \"Object.defineProperty(o, 'fill', {get:undefined}).fill\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = [];\"\n                 \"Object.defineProperty(o, 'length', {get:undefined})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"length\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'foo', {get:()=>10});\"\n                 \"Object.preventExtensions(o);Object.isFrozen(o)\"),\n      njs_str(\"true\"), },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'r', { get: function() { return this.r_value; } }); o.r_value = 1; o.r;\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'rw', { get: function() { return this.rw_value; }, set: function(x) { this.rw_value = x / 2; } }); o.rw = 10; o.rw\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var o = {}; function foo() {}; Object.defineProperty(o, 'a', {get: foo});\"\n                 \"Object.getOwnPropertyDescriptor(o, 'a').get === foo\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {get: undefined});\"\n                \"JSON.stringify(Object.getOwnPropertyDescriptor(o, 'a')).set\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, 4294967294, {value:100}); \"\n              \"[a.hasOwnProperty('4294967294'), a.length, a[4294967294]]\"),\n      njs_str(\"true,4294967295,100\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, 'length', {value:4294967294}); \"\n              \"a.length\"),\n      njs_str(\"4294967294\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, 'length', {value:4294967295}); \"\n              \"a.length\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"njs.dump(Object.defineProperty([], 'length', {value:4294967295}))\"),\n      njs_str(\"[<4294967295 empty items>]\") },\n\n    { njs_str(\"var a = [1]; Object.defineProperty(a, '1', {get:()=>2}); \"\n              \"[a[0], a[1], a.length]\"),\n      njs_str(\"1,2,2\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {configurable:false}); \"\n              \"[a[0], a[1], a.length]\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {configurable:false}); \"\n              \"delete a[1]\"),\n      njs_str(\"TypeError: Cannot delete property \\\"1\\\" of array\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {configurable:false}); \"\n              \"a.length = 1\"),\n      njs_str(\"TypeError: Cannot delete property \\\"1\\\" of array\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {writable:false}); \"\n              \"a[1]=4\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"1\\\" of array\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {enumerable:false}); \"\n              \"njs.dump([Object.keys(a), Object.values(a), Object.entries(a)])\"),\n      njs_str(\"[['0','2'],[1,3],[['0',1],['2',3]]]\") },\n\n    { njs_str(\"var a = [1]; Object.defineProperty(a, '1', {get:()=>2});\"\n              \"Object.defineProperty(a, 'length', {value:1})\"),\n      njs_str(\"TypeError: Cannot delete property \\\"1\\\" of array\") },\n\n    { njs_str(\"var a = [1]; Object.defineProperty(a, '1', {get:()=>2});\"\n              \"Object.defineProperty(a, 'length', {enumerable:true})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"length\\\"\") },\n\n    { njs_str(\"var a = [1]; Object.defineProperty(a, '1', {get:()=>2, configurable:true});\"\n              \"Object.defineProperty(a, 'length', {value:1}); a[1]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {enumerable:false});\"\n              \"Object.getOwnPropertyDescriptor(a, '1').enumerable\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var args = (function(a, b, c) {return arguments;})(1,2,3); \"\n              \"Object.defineProperty(args, \\\"length\\\", {value:6}); args.length\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var get = 'get'; var o = { get }; o.get\"),\n      njs_str(\"get\") },\n\n    { njs_str(\"var o = { get foo() { return 'bar'; } }; o.foo\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"var o = { get get() { return 'bar'; } }; o.get\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"var o = { get() { return 'bar'; } }; o.get()\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"var o = { get lazy() { delete this.lazy; return this.lazy = Math.pow(2,3)} };o.lazy\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var o = { get lazy() { delete this.lazy; return this.lazy = Math.pow(2,3)} }; o.lazy;\"\n              \"Object.getOwnPropertyDescriptor(o, 'lazy').value\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var expr = 'foo'; var o = { get [expr]() { return 'bar'; } }; o.foo\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"var o = { get [{toString(){return 'get'}}]() { return 'bar'; } }; o.get\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"var o = { get [{toString(){return {} }}]() { return 'bar'; } }; o.get\"),\n      njs_str(\"InternalError: failed conversion of type \\\"object\\\" to string while property define\") },\n\n    { njs_str(\"var o = { get foo(v1, v2) { return 'bar'; } }; o.foo\"),\n      njs_str(\"SyntaxError: Getter must not have any formal parameters in 1\") },\n\n    { njs_str(\"var o = { baz: 'bar', set foo(v) { this.baz = v; } }; o.foo = 'baz'; o.baz\"),\n      njs_str(\"baz\") },\n\n    { njs_str(\"var o = { baz: 'bar', set set(v) { this.baz = v; } }; o.set = 'baz'; o.baz\"),\n      njs_str(\"baz\") },\n\n    { njs_str(\"var expr = 'foo'; var o = { baz: 'bar', set [expr](v) { this.baz = v; } }; o.foo = 'baz'; o.baz\"),\n      njs_str(\"baz\") },\n\n    { njs_str(\"var o = { baz: 'bar', set foo(v1, v2) { this.baz = v; } }; o.foo = 'baz'; o.baz\"),\n      njs_str(\"SyntaxError: Setter must have exactly one formal parameter in 1\") },\n\n    { njs_str(\"var o = { get foo() { return 'bar'; }, set foo(v) { this.baz = v; } }; o.foo\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"var expr = 'foo'; var o = { get [expr]() { return 'bar'; }, set [expr](v) { this.baz = v; } }; o.foo\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({get foo() {}}, 'foo').enumerable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({get foo() {}}, 'foo').configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var p = { a:5 }; var o = Object.create(p);\"\n                 \"Object.getPrototypeOf(o) === p\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var p = { a:5 }; var o = Object.create(p);\"\n                 \"Object.getPrototypeOf(o) === o.__proto__\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.create(Object.prototype);\"\n                 \"Object.getPrototypeOf(o) === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[true, 42, '', Symbol()]\"\n              \".every((x) => Object.getPrototypeOf(x) == Object.getPrototypeOf(Object(x)))\"),\n      njs_str(\"true\") },\n\n    /* Object.setPrototypeOf() */\n\n    { njs_str(\"Object.setPrototypeOf()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"Object.setPrototypeOf(null)\"),\n      njs_str(\"TypeError: cannot convert null argument to object\") },\n\n    { njs_str(\"Object.setPrototypeOf({})\"),\n      njs_str(\"TypeError: prototype may only be an object or null: undefined\") },\n\n    { njs_str(\"Object.setPrototypeOf(Object.preventExtensions({}))\"),\n      njs_str(\"TypeError: prototype may only be an object or null: undefined\") },\n\n    { njs_str(\"[true, 42, '', Symbol()]\"\n              \".every((x) => Object.setPrototypeOf(x, {}) === x)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.setPrototypeOf(Object.preventExtensions({}), {})\"),\n      njs_str(\"TypeError: Cannot set property \\\"prototype\\\", object is not extensible\") },\n\n    { njs_str(\"var p = {}, o = Object.create(p); Object.setPrototypeOf(p, o)\"),\n      njs_str(\"TypeError: Cyclic __proto__ value\") },\n\n    { njs_str(\"var p = {}, o = {}; Object.setPrototypeOf(o, p);\"\n              \"p.isPrototypeOf(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var p = {}, o = Object.create(p); Object.setPrototypeOf(o, null);\"\n              \"Object.getPrototypeOf(o)\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"typeof Object.setPrototypeOf({}, null)\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"Object.setPrototypeOf(Object.getPrototypeOf(''), null).__proto__\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var p = {}; var o = Object.create(p);\"\n                 \"p.isPrototypeOf(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var pp = {}; var p = Object.create(pp);\"\n                 \"var o = Object.create(p);\"\n                 \"pp.isPrototypeOf(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var p = {}; var o = Object.create(p);\"\n                 \"o.isPrototypeOf(p)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var p = {}; var o = Object.create(p);\"\n                 \"o.isPrototypeOf()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.valueOf.isPrototypeOf()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var p = {}; var o = Object.create(p);\"\n                 \"o.isPrototypeOf(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var p = {}; var o = Object.create(p);\"\n                 \"1..isPrototypeOf(p)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.create(new String('asdf')).length\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"Object.create(Object('123')).length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Object.create([1,2]).length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Object.create(function(a,b,c){}).length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Object.create(Math).hasOwnProperty('abs')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var m = Object.create(Math); m.abs = 3;\"\n                 \"[m.hasOwnProperty('abs'), m.abs]\"),\n      njs_str(\"true,3\") },\n\n    { njs_str(\"var m = Object.create(Math); m.abs = Math.floor;\"\n                 \"[m.hasOwnProperty('abs'), delete m.abs, m.abs(-1)]\"),\n      njs_str(\"true,true,1\") },\n\n    { njs_str(\"var Q = Object.create({}, {a: {value: 'AAA'}, [Symbol.toStringTag]:{value: 'TAG'}});\"\n              \"Q[Symbol.toStringTag]\"),\n      njs_str(\"TAG\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({a:1}, 'a').value\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({a:1}, 'a').configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({a:1}, 'a').enumerable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({a:1}, 'a').writable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({a:1}, 'b')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({}, 'a')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(Object.create({a:1}), 'a')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([3,4], '1').value\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([3,4], 1).value\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([], 'length').value\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([], '0')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([1,2], '1').value\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([1,2], new String('1')).value\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({undefined:1}, void 0).value\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([1,2], 1).value\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([1,,,3], '1')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([1,2], '3')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"JSON.stringify(Object.getOwnPropertyDescriptor([3,4], 'length'))\"),\n      njs_str(\"{\\\"value\\\":2,\\\"writable\\\":true,\\\"enumerable\\\":false,\\\"configurable\\\":false}\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(Array.of, 'length').value\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor('\u03b1\u03b2\u03b3\u03b4', '1').value\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(new String('\u03b1\u03b2\u03b3\u03b4'), '1').value\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2\u03b3\u03b4'); s.a = 1;\"\n                 \"Object.getOwnPropertyDescriptor(s, 'a').value\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"JSON.stringify(Object.getOwnPropertyDescriptor('\u03b1\u03b2\u03b3\u03b4', '2'))\"),\n      njs_str(\"{\\\"value\\\":\\\"\u03b3\\\",\\\"writable\\\":false,\\\"enumerable\\\":true,\\\"configurable\\\":false}\") },\n\n    { njs_str(\"JSON.stringify(Object.getOwnPropertyDescriptor(new String('abc'), 'length'))\"),\n      njs_str(\"{\\\"value\\\":3,\\\"writable\\\":false,\\\"enumerable\\\":false,\\\"configurable\\\":false}\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(1, '0')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3\u03b4'.propertyIsEnumerable('0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({a:1}).propertyIsEnumerable({toString:function () {return 'a';}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3\u03b4'.propertyIsEnumerable('a')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3\u03b4'.propertyIsEnumerable('length')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var min = Object.getOwnPropertyDescriptor(Math, 'min').value;\"\n                 \"[min(1,2), min(2,1), min(-1,1)]\"),\n      njs_str(\"1,1,-1\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(undefined)\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"var o = {}; o[void 0] = 'a'; Object.getOwnPropertyDescriptor(o).value\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"var o = {}; o[void 0] = 'a'; Object.getOwnPropertyDescriptor(o, undefined).value\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptors()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"typeof Object.getOwnPropertyDescriptors(1)\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"Object.keys(Object.getOwnPropertyDescriptors([]))\"),\n      njs_str(\"length\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptors(function(a,b,c) {}).length.value\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Object.values(Object.getOwnPropertyDescriptors('abc'))\"\n                 \".reduce(function(a, x) { return a += x.value; }, '')\"),\n      njs_str(\"abc3\") },\n\n    { njs_str(\"Object.getOwnPropertyNames()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"Array.isArray(Object.getOwnPropertyNames({}))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getOwnPropertyNames({a:1, b:1, c:1})\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(Object.defineProperty({a:1}, 'b', {}))\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(Object.defineProperty([], 'b', {}))\"),\n      njs_str(\"b,length\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(Object.defineProperty(new String(), 'b', {}))\"),\n      njs_str(\"b,length\") },\n\n    { njs_str(\"Object.getOwnPropertyNames([1,2,3])\"),\n      njs_str(\"0,1,2,length\") },\n\n    { njs_str(\"Object.getOwnPropertyNames('abc')\"),\n      njs_str(\"0,1,2,length\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(function() {})\"),\n      njs_str(\"length,prototype\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(Array)\"),\n      njs_str(\"name,length,prototype,isArray,of\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(Array.isArray)\"),\n      njs_str(\"name,length\") },\n\n    /* Object.freeze() */\n\n    { njs_str(\"[undefined, null, false, NaN, '', Symbol()]\"\n              \".every((x) => Object.is(Object.freeze(x), x))\"),\n      njs_str(\"true\")\n    },\n\n    { njs_str(\"var buf = new ArrayBuffer(8);\"\n              NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => {Object.freeze(new ctr([])); \"\n              \"                 Object.freeze(new ctr(buf, 8)); return true; })\"),\n      njs_str(\"true\")\n    },\n\n    { njs_str(\"var buf = new ArrayBuffer(8);\"\n              NJS_TYPED_ARRAY_LIST\n              \".map((ctr) => { try { Object.freeze(new ctr(buf)); } catch(e) { return e; } })\"\n              \".every((x) => x instanceof TypeError)\"),\n      njs_str(\"true\")\n    },\n\n    { njs_str(\"Object.freeze([1]).pop()\"),\n      njs_str(\"TypeError: Cannot delete property \\\"0\\\" of array\") },\n\n    { njs_str(\"var a = Object.freeze([1]); a[0] = 2;\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"0\\\" of array\") },\n\n    { njs_str(\"var a = Object.freeze([1]); a[1] = 2;\"),\n      njs_str(\"TypeError: Cannot add property \\\"1\\\", object is not extensible\") },\n\n    { njs_str(\"var a = Object.freeze([1,,3]); a[1] = 2;\"),\n      njs_str(\"TypeError: Cannot add property \\\"1\\\", object is not extensible\") },\n\n    { njs_str(\"var o = { a: 1 }; delete o.a; Object.freeze(o).a = 2;\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"Object.defineProperty(Object.freeze({}), 'b', {})\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"Object.defineProperties(Object.freeze({}), {b:{}})\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"Object.freeze()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = Object.freeze({a:1}); o.a = 2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = Object.freeze({a:1}); delete o.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = Object.freeze({a:1}); o.b = 1; o.b\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.freeze(Object.create({a:1})); o.a = 2; o.a\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.freeze({a:{b:1}}); o.a.b = 2; o.a.b\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Object.defineProperty([1,2], 'a', {value:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = Object.freeze([1,2]);\"\n                 \"Object.defineProperty(a, 'a', {value:1}).a\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var a = [1,2]; a.a = 1; Object.freeze(a); delete a.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of array\") },\n\n    { njs_str(\"var a = [1,2]; a.a = 1; Object.freeze(a); a.a = 2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of array\") },\n\n    { njs_str(\"var a = Object.freeze([1,2]); a.a = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"Object.defineProperty(function() {}, 'a', {value:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = Object.freeze(function() {});\"\n                 \"Object.defineProperty(f, 'a', {value:1}).a\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var f = function() {}; f.a = 1; Object.freeze(f); delete f.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of function\") },\n\n    { njs_str(\"var f = function() {}; f.a = 1; Object.freeze(f); f.a = 2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of function\") },\n\n    { njs_str(\"var f = Object.freeze(function() {}); f.a = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"Object.defineProperty(new Date(''), 'a', {value:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var d = Object.freeze(new Date(''));\"\n                 \"Object.defineProperty(d, 'a', {value:1}).a\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var d = new Date(''); d.a = 1; Object.freeze(d);\"\n                 \"delete d.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of date\") },\n\n    { njs_str(\"var d = new Date(''); d.a = 1; Object.freeze(d); d.a = 2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of date\") },\n\n    { njs_str(\"var d = Object.freeze(new Date('')); d.a = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"Object.defineProperty(new RegExp(''), 'a', {value:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var r = Object.freeze(new RegExp(''));\"\n                 \"Object.defineProperty(r, 'a', {value:1}).a\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var r = new RegExp(''); r.a = 1; Object.freeze(r); delete r.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of regexp\") },\n\n    { njs_str(\"var r = new RegExp(''); r.a = 1; Object.freeze(r); r.a = 2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of regexp\") },\n\n    { njs_str(\"var r = Object.freeze(new RegExp('')); r.a = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.freeze({ get x() { return 10; } }); o.x\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var o = Object.freeze({ get x() { return 10; } });\"\n              \"Object.getOwnPropertyDescriptors(o).x.get\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"var o = Object.freeze({ get x() { return 10; } });\"\n              \"Object.getOwnPropertyDescriptor(o, 'x').writable\"),\n      njs_str(\"undefined\") },\n\n    /* Object.isFrozen() */\n\n    { njs_str(\"[undefined, null, false, NaN, '', Symbol()]\"\n              \".every((x) => Object.isFrozen(x))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[[], {}]\"\n              \".every((x) => Object.isFrozen(Object.preventExtensions(x)))\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => !Object.isFrozen(new ctr([])))\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => Object.isFrozen(Object.preventExtensions(new ctr([]))))\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map((ctr) => new ctr([]))\"\n              \".map((x) => { x.broken = true; return x; })\"\n              \".every((x) => !Object.isFrozen(Object.preventExtensions(x)))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf = new ArrayBuffer(8);\"\n              NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => !Object.isFrozen(Object.preventExtensions(new ctr(buf))))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[{a:1}, [1,2], function() {}, new Date(''), new RegExp('')]\"\n              \".every((x) => !Object.isFrozen(x))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isFrozen()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isFrozen(Object.defineProperties({}, {a:{value:1}}))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{}, b:{}});\"\n                 \"o = Object.preventExtensions(o);\"\n                 \"Object.isFrozen(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{}, b:{writable:1}});\"\n                 \"o = Object.preventExtensions(o);\"\n                 \"Object.isFrozen(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{writable:1}});\"\n                 \"o = Object.preventExtensions(o);\"\n                 \"Object.isFrozen(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{configurable:1}});\"\n                 \"o = Object.preventExtensions(o);\"\n                 \"Object.isFrozen(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1});\"\n                 \"Object.isFrozen(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.freeze({a:1}); Object.isFrozen(o)\"),\n      njs_str(\"true\") },\n\n    /* Object.seal() */\n\n    { njs_str(\"[undefined, null, false, NaN, '', Symbol()]\"\n              \".every((x) => Object.is(Object.seal(x), x))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.seal()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.seal([1]).pop()\"),\n      njs_str(\"TypeError: Cannot delete property \\\"0\\\" of array\") },\n\n    { njs_str(\"var a = Object.seal([1]); a[0] = 2; a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = Object.seal([1]); a[1] = 2;\"),\n      njs_str(\"TypeError: Cannot add property \\\"1\\\", object is not extensible\") },\n\n    { njs_str(\"var a = Object.seal([1,,3]); a[1] = 2;\"),\n      njs_str(\"TypeError: Cannot add property \\\"1\\\", object is not extensible\") },\n\n    { njs_str(\"var o = { a: 1 }; delete o.a; Object.seal(o).a = 2\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.seal({a:1}); o.a = 2; o.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = Object.seal({a:1}); delete o.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = Object.seal({a:1}); o.b = 1; o.b\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.seal(Object.create({a:1})); o.a = 2; o.a\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.seal({a:{b:1}}); o.a.b = 2; o.a.b\"),\n      njs_str(\"2\") },\n\n    /* Object.isSealed() */\n\n    { njs_str(\"[undefined, null, false, NaN, '', Symbol()]\"\n              \".every((x) => Object.isSealed(x))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[[], {}]\"\n              \".every((x) => Object.isSealed(Object.preventExtensions(x)))\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => !Object.isSealed(new ctr([])))\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => Object.isSealed(Object.preventExtensions(new ctr([]))))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf = new ArrayBuffer(8);\"\n              NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => Object.isSealed(Object.preventExtensions(new ctr(buf))))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf = new ArrayBuffer(8);\"\n              NJS_TYPED_ARRAY_LIST\n              \".map((ctr) => new ctr(buf))\"\n              \".map((x) => { x.broken = true; return x; })\"\n              \".every((x) => !Object.isSealed(Object.preventExtensions(x)))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[{a:1}, [1,2], function() {}, new Date(''), new RegExp('')]\"\n              \".every((x) => !Object.isSealed(x))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isSealed()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isSealed(Object.defineProperties({}, {a:{value:1}}))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{}, b:{}});\"\n              \"o = Object.preventExtensions(o);\"\n              \"Object.isSealed(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{}, b:{writable:1}});\"\n              \"o = Object.preventExtensions(o);\"\n              \"Object.isSealed(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{writable:1}});\"\n              \"o = Object.preventExtensions(o);\"\n              \"Object.isSealed(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{configurable:1}});\"\n              \"o = Object.preventExtensions(o);\"\n              \"Object.isSealed(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1});\"\n              \"Object.isFrozen(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.freeze({a:1}); Object.isFrozen(o)\"),\n      njs_str(\"true\") },\n\n    /* Object.preventExtensions() */\n\n    { njs_str(\"var o = Object.preventExtensions({a:1});\"\n              \"Object.defineProperty(o, 'b', {value:1})\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.preventExtensions({});\"\n              \"Object.defineProperty(o, Symbol.unscopables, {})\"),\n      njs_str(\"TypeError: Cannot add property \\\"Symbol(Symbol.unscopables)\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1});\"\n              \"Object.defineProperties(o, {b:{value:1}})\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1}); o.a = 2; o.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1}); delete o.a; o.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1}); o.b = 1; o.b\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1}); o[Symbol.unscopables] = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"Symbol(Symbol.unscopables)\\\", object is not extensible\") },\n\n    { njs_str(\"var o = { a: 1 }; delete o.a; Object.preventExtensions(o).a = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"Object.preventExtensions()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.preventExtensions(1)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.preventExtensions('')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.isExtensible({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isExtensible([])\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var arrObj = [];Object.preventExtensions(arrObj); arrObj[1] = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"1\\\", object is not extensible\") },\n\n    { njs_str(\"var arrObj = [1,2];Object.preventExtensions(arrObj); arrObj[1] = 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.isExtensible(function() {})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isExtensible(new Date(''))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isExtensible(new RegExp(''))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isExtensible()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible('')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible(Object.preventExtensions({}))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible(Object.preventExtensions([]))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible(Object.freeze({}))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible(Object.freeze([]))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible(undefined)\"),\n      njs_str(\"false\") },\n\n    /* Object.is() */\n\n    { njs_str(\"typeof Object.is\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"Object.is.length == 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.is()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[undefined, null, false, NaN, '', Symbol(), {}]\"\n              \".map((x) => Object.is(x, x))\"\n              \".every((x) => x === true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[null, false, NaN, '', Symbol(), {}]\"\n              \".map((x) => Object.is(x) || Object.is(void 0, x))\"\n              \".every((x) => x === false)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[false, NaN, '', Symbol()]\"\n              \".map((x) => Object.is(Object(x), Object(x)))\"\n              \".every((x) => x === false)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.is(0, -0)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.is(0, null)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.is(42, '42')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\n        \"var fail;\"\n        \"function isConfigurableMethods(o) {\"\n        \"    var except = [\"\n        \"        'prototype',\"\n        \"        'caller',\"\n        \"        'arguments',\"\n        \"        'description',\"\n        \"    ];\"\n        \"    return Object.getOwnPropertyNames(o)\"\n        \"                 .filter(v => !except.includes(v)\"\n        \"                              && typeof o[v] == 'function')\"\n        \"                 .every(v => Object.getOwnPropertyDescriptor(o, v)\"\n        \"                                   .configurable\"\n        \"                             || !(fail = `${o.name}.${v}`));\"\n        \"}\"\n        \"[\"\n        \"    Boolean, Boolean.prototype,\"\n        \"    Number, Number.prototype,\"\n        \"    Symbol, Symbol.prototype,\"\n        \"    String, String.prototype,\"\n        \"    Object, Object.prototype,\"\n        \"    Array, Array.prototype,\"\n        \"    Function, Function.prototype,\"\n        \"    RegExp, RegExp.prototype,\"\n        \"    Date, Date.prototype,\"\n        \"    Error, Error.prototype,\"\n        \"    Math,\"\n        \"    JSON,\"\n        \"].every(obj => isConfigurableMethods(obj)) || fail\"),\n\n      njs_str(\"true\") },\n\n    { njs_str(\n        \"var fail;\"\n        \"function isWritableMethods(o) {\"\n        \"    var except = [\"\n        \"        'prototype',\"\n        \"        'caller',\"\n        \"        'arguments',\"\n        \"        'description',\"\n        \"    ];\"\n        \"    return Object.getOwnPropertyNames(o)\"\n        \"                 .filter(v => !except.includes(v)\"\n        \"                              && typeof o[v] == 'function')\"\n        \"                 .every(v => Object.getOwnPropertyDescriptor(o, v)\"\n        \"                                   .writable\"\n        \"                             || !(fail = `${o.name}.${v}`));\"\n        \"}\"\n        \"[\"\n        \"    Boolean, Boolean.prototype,\"\n        \"    Number, Number.prototype,\"\n        \"    Symbol, Symbol.prototype,\"\n        \"    String, String.prototype,\"\n        \"    Object, Object.prototype,\"\n        \"    Array, Array.prototype,\"\n        \"    Function, Function.prototype,\"\n        \"    RegExp, RegExp.prototype,\"\n        \"    Date, Date.prototype,\"\n        \"    Error, Error.prototype,\"\n        \"    Math,\"\n        \"    JSON,\"\n        \"].every(obj => isWritableMethods(obj)) || fail\"),\n\n      njs_str(\"true\") },\n\n    { njs_str(\"new Date(undefined)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(Infinity)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(NaN)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(1,undefined)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(1,Infinity)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(1,NaN)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(8.65e15)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"var d = new Date(1308895200000); new Date(d.getTime(), d.getTime())\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(275760, 1, 2**61)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(275760, 1, 1, 2**61)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(275760, 1, 1, 1, 2**61)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(275760, 1, 1, 1, 1, 2**61)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(275760, 1, 1, 1, 1, 1, 2**61)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"njs.dump([new Date(8.65e15)])\"),\n      njs_str(\"[Invalid Date]\") },\n\n    { njs_str(\"new Date(0e0.o0)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"(new Date(8.639e15)).getTime()\"),\n      njs_str(\"8639000000000000\") },\n\n    { njs_str(\"new Date(8.641e15)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"(new Date(null)).getTime()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(new Date(86400)).getTime()\"),\n      njs_str(\"86400\") },\n\n    { njs_str(\"Date().split(' ')[0] in {'Mon':1, 'Tue':1, 'Wed':1, 'Thu':1, 'Fri':1, 'Sat':1, 'Sun':1}\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var d = new Date(''); d +' '+ d.getTime()\"),\n      njs_str(\"Invalid Date NaN\") },\n\n    { njs_str(\"var d = new Date(1); d = d + ''; d.slice(0, 33)\"),\n      njs_str(\"Thu Jan 01 1970 00:00:00 GMT+0000\") },\n\n    { njs_str(\"var d = new Date({valueOf:()=>86400000}); d = d + ''; d.slice(0, 33)\"),\n      njs_str(\"Fri Jan 02 1970 00:00:00 GMT+0000\") },\n\n    { njs_str(\"(new Date({toString:()=>'2011'})).getTime()\"),\n      njs_str(\"1293840000000\") },\n\n    { njs_str(\"(new Date({valueOf: ()=>86400, toString:()=>'2011'})).getTime()\"),\n      njs_str(\"86400\") },\n\n    { njs_str(\"var d = new Date(1308895200000); d.getTime()\"),\n      njs_str(\"1308895200000\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getTime()\"),\n      njs_str(\"1308941100000\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.valueOf()\"),\n      njs_str(\"1308941100000\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45);\"\n                 \"d.toString().slice(0, 33)\"),\n      njs_str(\"Fri Jun 24 2011 18:45:00 GMT+0000\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.toDateString()\"),\n      njs_str(\"Fri Jun 24 2011\") },\n\n    { njs_str(\"new Date(NaN).toDateString()\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45);\"\n                 \"d.toTimeString().slice(0, 17)\"),\n      njs_str(\"18:45:00 GMT+0000\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.toUTCString()\"),\n      njs_str(\"Fri, 24 Jun 2011 18:45:00 GMT\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                 \"d.toISOString()\"),\n      njs_str(\"2011-06-24T18:45:12.625Z\") },\n\n    { njs_str(\"var d = new Date(1999, 9, 10, 10, 10, 10, 10);\"\n              \"var local = new Date(d.getTime() - d.getTimezoneOffset() * 60000);\"\n              \"local.toISOString()\"),\n      njs_str(\"1999-10-10T10:10:10.010Z\") },\n\n#if (NJS_TIME_T_SIZE == 8)\n    { njs_str(\"[\"\n              \"'-010000-01-01T00:00:00.000Z',\"\n              \"'+010000-01-01T00:00:00.000Z',\"\n              \"'0002-01-01T00:00:00.000Z',\"\n              \"'0123-01-01T00:00:00.000Z',\"\n              \"].every((iso)=> (new Date(iso)).toISOString() === iso)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new Date('0020-01-01T00:00:00Z').toUTCString()\"),\n      njs_str(\"Wed, 01 Jan 0020 00:00:00 GMT\") },\n\n    { njs_str(\"new Date('0020-01-01T00:00:00Z').toString().slice(0, 15)\"),\n      njs_str(\"Wed Jan 01 0020\") },\n\n    { njs_str(\"(new Date('-000001-07-01T00:00Z')).toUTCString()\"),\n      njs_str(\"Thu, 01 Jul -0001 00:00:00 GMT\") },\n\n    { njs_str(\"(new Date('-000012-07-01T00:00Z')).toUTCString()\"),\n      njs_str(\"Fri, 01 Jul -0012 00:00:00 GMT\") },\n\n    { njs_str(\"(new Date('-000123-07-01T00:00Z')).toUTCString()\"),\n      njs_str(\"Sun, 01 Jul -0123 00:00:00 GMT\") },\n\n    { njs_str(\"(new Date('-001234-07-01T00:00Z')).toUTCString()\"),\n      njs_str(\"Fri, 01 Jul -1234 00:00:00 GMT\") },\n\n    { njs_str(\"(new Date('-012345-07-01T00:00Z')).toUTCString()\"),\n      njs_str(\"Thu, 01 Jul -12345 00:00:00 GMT\") },\n\n    { njs_str(\"new Date(NaN).toUTCString()\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"var d = new Date(-62167219200000); d.toISOString()\"),\n      njs_str(\"0000-01-01T00:00:00.000Z\") },\n\n    { njs_str(\"var d = new Date(-62135596800000); d.toISOString()\"),\n      njs_str(\"0001-01-01T00:00:00.000Z\") },\n\n    { njs_str(\"var d = new Date(-62198755200000); d.toISOString()\"),\n      njs_str(\"-000001-01-01T00:00:00.000Z\") },\n\n    { njs_str(\"new Date(NaN).toISOString()\"),\n      njs_str(\"RangeError: Invalid time value\") },\n#endif\n\n    { njs_str(\"Date.UTC(2011, 5, 24, 6, 0)\"),\n      njs_str(\"1308895200000\") },\n\n    { njs_str(\"Date.UTC({valueOf:()=>2011}, 5, 24, 6, 0)\"),\n      njs_str(\"1308895200000\") },\n\n    { njs_str(\"Date.UTC()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.UTC(Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.UTC(Infinity, 0)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.UTC(1970)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Date.UTC(1968, 24)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[-1,0,1,99,100].map(yr => Date.UTC(yr))\"),\n      njs_str(\"-62198755200000,-2208988800000,-2177452800000,915148800000,-59011459200000\") },\n\n    { njs_str(\"Date.UTC(1970.9, 0.9, 1.9, 0.9, 0.9, 0.9, 0.9)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Date.UTC(-1970.9, -0.9, -0.9, -0.9, -0.9, -0.9, -0.9)\"),\n      njs_str(\"-124334438400000\") },\n\n    { njs_str(\"Date.UTC(275760, 8, 13, 0, 0, 0, 0)\"),\n      njs_str(\"8640000000000000\") },\n\n    { njs_str(\"Date.UTC(275760, 8, 13, 0, 0, 0, 1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.UTC(-271821, 3, 20, 0, 0, 0, 0)\"),\n      njs_str(\"-8640000000000000\") },\n\n    { njs_str(\"Date.UTC(-271821, 3, 20, 0, 0, 0, -1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.UTC(1970, 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Date.UTC(1970, 0, 0)\"),\n      njs_str(\"-86400000\") },\n\n    { njs_str(\"Date.parse()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011')\"),\n      njs_str(\"1293840000000\") },\n\n    { njs_str(\"Date.parse('+002011')\"),\n      njs_str(\"1293840000000\") },\n\n    { njs_str(\"Date.parse('2011-06')\"),\n      njs_str(\"1306886400000\") },\n\n    { njs_str(\"Date.parse('2011-06-24')\"),\n      njs_str(\"1308873600000\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01Z')\"),\n      njs_str(\"1308895260000\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02:')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02Z')\"),\n      njs_str(\"1308895262000\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02.Z')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02.6Z')\"),\n      njs_str(\"1308895262600\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02.62Z')\"),\n      njs_str(\"1308895262620\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02:625Z')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02.625Z')\"),\n      njs_str(\"1308895262625\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02.6255555Z')\"),\n      njs_str(\"1308895262625\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02.625555Z5')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var d = new Date(); var str = d.toISOString();\"\n                 \"var diff = Date.parse(str) - Date.parse(str.substring(0, str.length - 1));\"\n                 \"d.getTimezoneOffset() == -diff/1000/60\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Date.parse('24 Jun 2011')\"),\n      njs_str(\"1308873600000\") },\n\n    { njs_str(\"Date.parse('Fri, 24 Jun 2011 18:48')\"),\n      njs_str(\"1308941280000\") },\n\n    { njs_str(\"Date.parse('Fri, 24 Jun 2011 18:48:02')\"),\n      njs_str(\"1308941282000\") },\n\n    { njs_str(\"Date.parse('Fri, 24 Jun 2011 18:48:02 GMT')\"),\n      njs_str(\"1308941282000\") },\n\n    { njs_str(\"Date.parse('Fri, 24 Jun 2011 18:48:02 +1245')\"),\n      njs_str(\"1308895382000\") },\n\n    { njs_str(\"Date.parse('Jun 24 2011')\"),\n      njs_str(\"1308873600000\") },\n\n    { njs_str(\"Date.parse('Fri Jun 24 2011 18:48')\"),\n      njs_str(\"1308941280000\") },\n\n    { njs_str(\"Date.parse('Fri Jun 24 2011 18:48:02')\"),\n      njs_str(\"1308941282000\") },\n\n    { njs_str(\"Date.parse('Fri Jun 24 2011 18:48:02 GMT+1245')\"),\n      njs_str(\"1308895382000\") },\n\n    /* Jan 1, 1. */\n    { njs_str(\"Date.parse('+000001-01-01T00:00:00.000Z')\"),\n      njs_str(\"-62135596800000\") },\n\n    /* Mar 2, 1 BCE. */\n    { njs_str(\"Date.parse('+000000-03-02T00:00:00.000Z')\"),\n      njs_str(\"-62161948800000\") },\n\n    /* Mar 1, 1 BCE. */\n    { njs_str(\"Date.parse('+000000-03-01T00:00:00.000Z')\"),\n      njs_str(\"-62162035200000\") },\n\n    /* Feb 29, 1 BCE. */\n    { njs_str(\"Date.parse('+000000-02-29T00:00:00.000Z')\"),\n      njs_str(\"-62162121600000\") },\n\n    /* Feb 28, 1 BCE. */\n    { njs_str(\"Date.parse('+000000-02-28T00:00:00.000Z')\"),\n      njs_str(\"-62162208000000\") },\n\n    /* Jan 1, 1 BCE. */\n    { njs_str(\"Date.parse('+000000-01-01T00:00:00.000Z')\"),\n      njs_str(\"-62167219200000\") },\n\n    /* Jan 1, 2 BCE. */\n    { njs_str(\"Date.parse('-000001-01-01T00:00:00.000Z')\"),\n      njs_str(\"-62198755200000\") },\n\n    { njs_str(\"var d = new Date(); d == Date.parse(d.toISOString())\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = Date(); s === Date(Date.parse(s))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var n = Date.now(); n == new Date(n)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var d = new Date(2011,0); d.getFullYear()\"),\n      njs_str(\"2011\") },\n\n    { njs_str(\"var d = new Date(2011, 0, 1, 0, 0, 0, -1); d.getFullYear()\"),\n      njs_str(\"2010\") },\n\n    { njs_str(\"var d = new Date(2011, 11, 31, 23, 59, 59, 999); d.getFullYear()\"),\n      njs_str(\"2011\") },\n\n    { njs_str(\"var d = new Date(2011, 11, 31, 23, 59, 59, 1000); d.getFullYear()\"),\n      njs_str(\"2012\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getFullYear()\"),\n      njs_str(\"2011\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCFullYear()\"),\n      njs_str(\"2011\") },\n\n    { njs_str(\"var d = new Date(2011, 5); d.getMonth()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var d = new Date(2011, 6, 0, 0, 0, 0, -1); d.getMonth()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var d = new Date(2011, 6, 31, 23, 59, 59, 999); d.getMonth()\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var d = new Date(2011, 6, 31, 23, 59, 59, 1000); d.getMonth()\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getMonth()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCMonth()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getDate()\"),\n      njs_str(\"24\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCDate()\"),\n      njs_str(\"24\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getDay()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCDay()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getHours()\"),\n      njs_str(\"18\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCHours()\"),\n      njs_str(\"18\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getMinutes()\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCMinutes()\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12);\"\n                 \"d.getSeconds()\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12);\"\n                 \"d.getUTCSeconds()\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                 \"d.getMilliseconds()\"),\n      njs_str(\"625\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                 \"d.getUTCMilliseconds()\"),\n      njs_str(\"625\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                 \"d.getTimezoneOffset()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var d = new Date(); d.setTime(1308895200000); d.getTime()\"),\n      njs_str(\"1308895200000\") },\n\n    { njs_str(\"var d = new Date(); d.setTime(); d.getTime()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var d = new Date(); d.setTime(Infinity); d.getTime()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var d = new Date(); d.setTime(8.64e15 +1); d.getTime()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var d = new Date(NaN); d.setTime(0); d.getTime()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var d = new Date(); d.setTime(8.64e15); d.getTime()\"),\n      njs_str(\"8640000000000000\") },\n\n    { njs_str(\"var d = new Date(1308895201625); d.setMilliseconds(5003);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895206003\") },\n\n    { njs_str(\"var d = new Date(1308895201625); d.setSeconds(2, 5003);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895207003\") },\n\n    { njs_str(\"var d = new Date(1308895201625); d.setSeconds(2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895202625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMinutes(3, 2, 5003);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895387003\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMinutes(3, 2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895382625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMinutes(3);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895383625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCMinutes(3, 2, 5003);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895387003\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCMinutes(3, 2, 5003, 111111);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895387003\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCMinutes(3, 2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895382625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCMinutes(3);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895383625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setHours(20, 3, 2, 5003);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945787003\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setHours(20, 3, 2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945782625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setHours(20, 3);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945783625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setHours(20);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945723625\") },\n\n    { njs_str(\"var d = new Date(1308895323625);\"\n                 \"d.setUTCHours(20, 3, 2, 5003); d.getTime()\"),\n      njs_str(\"1308945787003\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCHours(20, 3, 2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945782625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCHours(20, 3);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945783625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCHours(20);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945723625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setDate(10);\"\n                 \"d.getTime()\"),\n      njs_str(\"1307685723625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCDate(10);\"\n                 \"d.getTime()\"),\n      njs_str(\"1307685723625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMonth(2, 10);\"\n                 \"d.getTime()\"),\n      njs_str(\"1299736923625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCMonth(2, 10);\"\n                 \"d.getTime()\"),\n      njs_str(\"1299736923625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMonth(2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1300946523625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMonth(2, undefined);\"\n                 \"d.getTime()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMonth(2, undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCMonth(2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1300946523625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setFullYear(2010, 2, 10);\"\n                 \"d.getTime()\"),\n      njs_str(\"1268200923625\") },\n\n    { njs_str(\"var d = new Date(NaN); d.setFullYear(2010);\"\n                 \"d.getTime() === (new Date(2010,0)).getTime()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var d = new Date(1308895323625);\"\n                 \"d.setUTCFullYear(2010, 2, 10); d.getTime()\"),\n      njs_str(\"1268200923625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setFullYear(2010, 2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1269410523625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCFullYear(2010, 2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1269410523625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setFullYear(2010);\"\n                 \"d.getTime()\"),\n      njs_str(\"1277359323625\") },\n\n    { njs_str(\"var date = new Date(2016, 6, 7, 11, 36, 23, 2); \"\n              \"date.setFullYear(null) === new Date(-1, 18, 7, 11, 36, 23, 2).getTime()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCFullYear(2010);\"\n                 \"d.getTime()\"),\n      njs_str(\"1277359323625\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                 \"d.toJSON(1)\"),\n      njs_str(\"2011-06-24T18:45:12.625Z\") },\n\n    { njs_str(\"var o = { toISOString: function() { return 'OK' } };\"\n                 \"Date.prototype.toJSON.call(o, 1)\"),\n      njs_str(\"OK\") },\n\n    { njs_str(\"var d = new Date(); d.__proto__ === Date.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new Date(NaN)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(0, 9e99)\"),\n      njs_str(\"Invalid Date\") },\n\n#ifndef NJS_SUNC\n    { njs_str(\"new Date(-0).getTime()\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"new Date(6.54321).valueOf()\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"[0].map(new Date().getDate)\"),\n      njs_str(\"TypeError: cannot convert undefined to date\") },\n\n    { njs_str(\"new Date(eval)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"Date.UTC(eval)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.name\"),\n      njs_str(\"Date\") },\n\n    { njs_str(\"Date.length\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"Date.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Date.prototype.constructor === Date\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Date.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Date.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"njs.dump(Date.prototype)\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"Date.prototype.valueOf()\"),\n      njs_str(\"TypeError: cannot convert object to date\") },\n\n    { njs_str(\"Date.constructor === Function\"),\n      njs_str(\"true\") },\n\n    /* eval(). */\n\n    { njs_str(\"eval.name\"),\n      njs_str(\"eval\") },\n\n    { njs_str(\"eval.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"eval.prototype\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"eval.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"eval.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"eval()\"),\n      njs_str(\"InternalError: Not implemented\") },\n\n    { njs_str(\"delete this.eval; eval\"),\n      njs_str(\"ReferenceError: \\\"eval\\\" is not defined\") },\n\n    { njs_str(\"var d = Object.getOwnPropertyDescriptor(this, 'eval');\"\n              \"d.writable && !d.enumerable && d.configurable\"),\n      njs_str(\"true\") },\n\n    /* Math. */\n\n    { njs_str(\"Math.PI\"),\n      njs_str(\"3.141592653589793\") },\n\n    { njs_str(\"Math.abs()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.abs(5)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"Math.abs(-5)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"Math.abs('5.0')\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"Math.abs('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acos()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acos(NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acos('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acos(1.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acos(-1.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acos('1')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.acos(0) - Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.acosh()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acosh('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acosh(0.9)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acosh(1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.acosh('Infinity')\"),\n      njs_str(\"Infinity\") },\n\n    /*\n     * The difference is Number.EPSILON on Linux/i686\n     * and zero on other platforms.\n     */\n    { njs_str(\"Math.abs(Math.acosh((1/Math.E + Math.E)/2) - 1)\"\n                 \" <= Number.EPSILON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.asin()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asin(NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asin('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asin(1.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asin(-1.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asin(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.asin('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.asin(1) - Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.asinh()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asinh('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asinh(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.asinh('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.asinh(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.asinh(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.asinh((Math.E - 1/Math.E)/2)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.atan()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atan(NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atan('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atan('Infinity') - Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan(-Infinity) + Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.atan(1) - Math.PI/4\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atan2(1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atan2('abc', 1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atan2(1, 0) - Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2('1', -0) - Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(0, '1')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(0, 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(0, -0) - Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2('0', -1) - Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(-0, '0.1')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.atan2(-0, 0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.atan2(-0, -0) + Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2('-0', '-1') + Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(-0.1, 0) + Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(-1, -0) + Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(1, 'Infinity')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(0.1, -Infinity) - Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(-1, Infinity)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.atan2('-0.1', -Infinity) + Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(Infinity, -5) - Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(-Infinity, 5) + Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2('Infinity', 'Infinity') - Math.PI/4\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(Infinity, -Infinity) - 3*Math.PI/4\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(-Infinity, 'Infinity') + Math.PI/4\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2('-Infinity', -Infinity) + 3*Math.PI/4\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(1, 1) - Math.atan2(-5, -5) - Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atanh()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atanh('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atanh(-1.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atanh(1.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atanh(1)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.atanh('-1')\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.atanh(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atanh(-0)\"),\n      njs_str(\"-0\") },\n\n    /*\n     * The difference is Number.EPSILON on Linux/i686\n     * and zero on other platforms.\n     */\n    { njs_str(\"Math.abs(1 - Math.atanh((Math.E - 1)/(Math.E + 1)) * 2)\"\n                 \" <= Number.EPSILON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.cbrt()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cbrt('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cbrt(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.cbrt('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.cbrt(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.cbrt(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"(Math.cbrt('27') - 3) < 1e-15\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.cbrt(-1)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Math.ceil()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.ceil('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.ceil(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.ceil('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.ceil('Infinity')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.ceil(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.ceil(-0.9)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.ceil(3.1)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"Math.clz32()\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"Math.clz32('abc')\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"Math.clz32(NaN)\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"Math.clz32(Infinity)\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"Math.clz32('1')\"),\n      njs_str(\"31\") },\n\n    { njs_str(\"Math.clz32(0)\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"Math.clz32('65535')\"),\n      njs_str(\"16\") },\n\n    { njs_str(\"Math.clz32(-1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.clz32(4294967298)\"),\n      njs_str(\"30\") },\n\n    { njs_str(\"Math.cos()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cos('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cos('0')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.cos(-0)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.cos(Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cos(-Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cos(Math.PI*2)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.cosh()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cosh('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cosh('0')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.cosh(-0)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.cosh(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.cosh(-Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    /*\n     * The difference is Number.EPSILON on FreeBSD\n     * and zero on other platforms.\n     */\n    { njs_str(\"Math.abs(Math.cosh(1) - (1/Math.E + Math.E)/2)\"\n                 \" <= Number.EPSILON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.exp()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.exp('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.exp('0')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.exp(-0)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.exp(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.exp(-Infinity)\"),\n      njs_str(\"0\") },\n\n    /*\n     * The difference is 2 * Number.EPSILON on FreeBSD\n     * and zero on other platforms.\n     */\n    { njs_str(\"Math.abs(Math.exp(1) - Math.E) <= 2 * Number.EPSILON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.expm1()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.expm1('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.expm1('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.expm1(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.expm1(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.expm1(-Infinity)\"),\n      njs_str(\"-1\") },\n\n    /*\n     * The difference is 2 * Number.EPSILON on FreeBSD, Solaris,\n     * and MacOSX and zero on other platforms.\n     */\n    { njs_str(\"Math.abs(1 + Math.expm1(1) - Math.E) <= 2 * Number.EPSILON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.floor()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.floor('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.floor(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.floor('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.floor('Infinity')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.floor(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.floor(0.9)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.floor(-3.1)\"),\n      njs_str(\"-4\") },\n\n    { njs_str(\"Math.fround()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.fround('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.fround(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.fround('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.fround('Infinity')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.fround(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.fround('-1.5')\"),\n      njs_str(\"-1.5\") },\n\n    { njs_str(\"Math.fround(16777216)\"),\n      njs_str(\"16777216\") },\n\n    { njs_str(\"Math.fround(-16777217)\"),\n      njs_str(\"-16777216\") },\n\n    { njs_str(\"Math.hypot()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.hypot(1, 2, 'abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.hypot(1, NaN, 3)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.hypot(1, NaN, -Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.hypot(-42)\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"Math.hypot(8, -15)\"),\n      njs_str(\"17\") },\n\n    { njs_str(\"Math.hypot(3, -4, 12.0, '84', 132)\"),\n      njs_str(\"157\") },\n\n    { njs_str(\"Math.imul()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul('a', 1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(1, NaN)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(2, '3')\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"Math.imul('3.9', -2.1)\"),\n      njs_str(\"-6\") },\n\n    { njs_str(\"Math.imul(2, 2147483647)\"),\n      njs_str(\"-2\") },\n\n    { njs_str(\"Math.imul(Number.MAX_SAFE_INTEGER, 2)\"),\n      njs_str(\"-2\") },\n\n    { njs_str(\"Math.imul(1, Number.MAX_SAFE_INTEGER + 1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(2, Number.MIN_SAFE_INTEGER)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Math.imul(Number.MIN_SAFE_INTEGER - 1, 1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(2, 4294967297)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Math.imul(-4294967297, 4294967297)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Math.imul(4294967297, -4294967298)\"),\n      njs_str(\"-2\") },\n\n    { njs_str(\"Math.imul(-4294967290, 4294967290)\"),\n      njs_str(\"-36\") },\n\n    { njs_str(\"Math.imul(-Infinity, 1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(1, Infinity)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(Number.MAX_VALUE, 1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(1, -Number.MAX_VALUE)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.log()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log(-1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log(0)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log('-0')\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log(1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.log(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.log(Math.E)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.log10()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log10('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log10(-1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log10(0)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log10('-0')\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log10(1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.log10(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.log10(1000)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Math.log1p()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log1p('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log1p(-2)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log1p('-1')\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log1p(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.log1p(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.log1p(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.log1p(Math.E - 1)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.log2()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log2('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log2(-1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log2(0)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log2('-0')\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log2(1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.log2(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.log2(128)\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"Math.max()\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.max(0, -0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.max(-0, 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.max(null)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.max(undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.max(1, 2, 3, undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.max(1, 2, 3, NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.max('1', '2', '5')\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"Math.max(5, {valueOf: function () {return 10}}, 6)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"Math.max(5, {valueOf: function () {return 10}}, 20)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"Math.max(5, undefined, 20)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.max(-10, null, -30)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.min()\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.min(0, -0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.min(-0, 0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.min(null)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.min(undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.min(1, 2, 3, undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.min(1, 2, 3, NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.min('1', '2', '5')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.pow(2, 5)\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"Math.pow(2)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.pow()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.pow(1, NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.pow(3, NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.pow('a', -0)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.pow(1.1, Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.pow(-1.1, -Infinity)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.pow(-1, Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.pow(1, -Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.pow(-0.9, Infinity)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.pow(0.9, -Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.pow('Infinity', 0.1)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.pow(Infinity, '-0.1')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.pow(-Infinity, 3)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.pow('-Infinity', '3.1')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.pow(-Infinity, '-3')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.pow('-Infinity', -2)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.pow('0', 0.1)\"),\n      njs_str(\"0\") },\n\n#ifndef __NetBSD__  /* NetBSD 7: pow(0, negative) == -Infinity. */\n    { njs_str(\"Math.pow(0, '-0.1')\"),\n      njs_str(\"Infinity\") },\n#endif\n\n    { njs_str(\"Math.pow(-0, 3)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.pow('-0', '3.1')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.pow(-0, '-3')\"),\n      njs_str(\"-Infinity\") },\n\n#ifndef __NetBSD__  /* NetBSD 7: pow(0, negative) == -Infinity. */\n    { njs_str(\"Math.pow('-0', -2)\"),\n      njs_str(\"Infinity\") },\n#endif\n\n    { njs_str(\"Math.pow(-3, 0.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = Math.random(); a >= 0 && a < 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.round()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.round('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.round(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.round('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.round('Infinity')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.round(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.round(0.4)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.round('0.5')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.round('-0.4')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.round(-0.5)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.round(-0.50000000000000001)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.round(-0.5000000000000001)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[0.500001, 0.5000001,0.50000001].map((v)=>Math.round((2**32) + v) - 2**32)\"),\n      njs_str(\"1,1,1\") },\n\n    { njs_str(\"[0.500001, 0.5000001,0.50000001].map((v)=>Math.round(-(2**32) + v) + 2**32)\"),\n      njs_str(\"1,1,1\") },\n\n    { njs_str(\"[0.500001, 0.5000001,0.50000001].map((v)=>Math.round((2**32) - v) - 2**32)\"),\n      njs_str(\"-1,0,0\") },\n\n    { njs_str(\"[0.500001, 0.5000001,0.50000001].map((v)=>Math.round(-(2**32) - v) + 2**32)\"),\n      njs_str(\"-1,0,0\") },\n\n    { njs_str(\"Math.sign(5)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.sign(-5)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Math.sign(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.sign(-0.0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.sign(NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sign()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sin()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sin('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sin('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.sin(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.sin(Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sin(-Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sin(-Math.PI/2)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Math.sinh()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sinh('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sinh('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.sinh(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.sinh(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.sinh(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    /*\n     * The difference is Number.EPSILON on Solaris\n     * and zero on other platforms.\n     */\n    { njs_str(\"Math.abs(Math.sinh(1) - (Math.E - 1/Math.E)/2)\"\n                 \" <= Number.EPSILON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.sqrt()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sqrt('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sqrt('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.sqrt(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.sqrt(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.sqrt(-0.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sqrt('9.0')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Math.tan()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.tan('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.tan('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.tan(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.tan(Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.tan(-Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.tan(Math.PI/3) + Math.tan(-Math.PI/3)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.tanh()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.tanh('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.tanh('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.tanh(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.tanh(Infinity)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.tanh(-Infinity)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Math.tanh(0.5) - (Math.E - 1)/(Math.E + 1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.trunc(3.9)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Math.trunc(-3.9)\"),\n      njs_str(\"-3\") },\n\n    { njs_str(\"Math.trunc(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.trunc(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.trunc(0.9)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.trunc(-0.9)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.trunc(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.trunc(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.trunc(NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.trunc()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math\"),\n      njs_str(\"[object Math]\") },\n\n    { njs_str(\"Math.x = function (x) {return 2*x;}; Math.x(3)\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"isNaN\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"isNaN.name\"),\n      njs_str(\"isNaN\") },\n\n    { njs_str(\"isNaN.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"typeof isNaN\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"typeof isNaN.length\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"isNaN()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"isNaN(123)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"isNaN('123')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"isNaN('Infinity')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"isNaN('abc')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"isFinite\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"isFinite.name\"),\n      njs_str(\"isFinite\") },\n\n    { njs_str(\"isFinite.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"isFinite()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"isFinite(123)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"isFinite('123')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"isFinite('Infinity')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"isFinite('abc')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"parseInt.name\"),\n      njs_str(\"parseInt\") },\n\n    { njs_str(\"parseInt.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"parseInt('12345abc')\"),\n      njs_str(\"12345\") },\n\n    { njs_str(\"parseInt('123', 0)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"parseInt('0XaBc', 0)\"),\n      njs_str(\"2748\") },\n\n    { njs_str(\"parseInt(' 123')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"parseInt('1010', 2)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"parseInt('aBc', 16)\"),\n      njs_str(\"2748\") },\n\n    { njs_str(\"parseInt('0XaBc')\"),\n      njs_str(\"2748\") },\n\n    { njs_str(\"parseInt('-0xabc')\"),\n      njs_str(\"-2748\") },\n\n    { njs_str(\"parseInt('njscript', 36)\"),\n      njs_str(\"1845449130881\") },\n\n    { njs_str(\"parseInt('0x')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseInt('z')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseInt('0xz')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseInt('0x', 16)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseInt('0x', 33)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"parseInt('0x', 34)\"),\n      njs_str(\"33\") },\n\n    { njs_str(\"parseInt('0', 1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseInt('0', 37)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"1/parseInt('-0')\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"parseInt('11', new Number(Infinity)) === parseInt('11', Infinity)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"parseInt('11', Number.POSITIVE_INFINITY)\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"parseFloat.name\"),\n      njs_str(\"parseFloat\") },\n\n    { njs_str(\"parseFloat.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"parseFloat('12345abc')\"),\n      njs_str(\"12345\") },\n\n    { njs_str(\"parseFloat('')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseFloat('     \\t')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseFloat('\\\\u20281')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"parseFloat('e11')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseFloat({toString(){return '  1'}})\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"parseFloat('1e2147483647')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"parseFloat('1e-2147483647')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"parseFloat('1e-2147483648')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"parseFloat('1e' + '5'.repeat(16))\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"parseFloat('1e-' + '5'.repeat(16))\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"parseFloat('0x')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"parseFloat('0xff')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"parseFloat('Infinity')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"parseFloat(' Infinityzz')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"parseFloat('Infinit')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseFloat('5.7e1')\"),\n      njs_str(\"57\") },\n\n    { njs_str(\"parseFloat('-5.7e-1')\"),\n      njs_str(\"-0.57\") },\n\n    { njs_str(\"parseFloat('-5.e-1')\"),\n      njs_str(\"-0.5\") },\n\n    { njs_str(\"parseFloat('5.7e+01')\"),\n      njs_str(\"57\") },\n\n    { njs_str(\"parseFloat(' 5.7e+01abc')\"),\n      njs_str(\"57\") },\n\n    { njs_str(\"parseFloat('-5.7e-1abc')\"),\n      njs_str(\"-0.57\") },\n\n    { njs_str(\"parseFloat('-5.7e')\"),\n      njs_str(\"-5.7\") },\n\n    { njs_str(\"parseFloat('-5.7e+')\"),\n      njs_str(\"-5.7\") },\n\n    { njs_str(\"parseFloat('-5.7e+abc')\"),\n      njs_str(\"-5.7\") },\n\n    /* debugger. */\n\n    { njs_str(\"debugger\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"debugger;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (false) debugger;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"1 + debugger\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"debugger\\\" in 1\") },\n\n    { njs_str(\"debugger + 1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"+\\\" in 1\") },\n\n    /* Top-level objects. */\n\n    { njs_str(\"var global = this;\"\n              \"function isMutableObject(v) {\"\n              \"    var d = Object.getOwnPropertyDescriptor(global, v);\"\n              \"    /* Custom top-level objects are enumerable. */\"\n              \"    var enumerable = (v in {'njs':1, 'process':1}) ^ !d.enumerable;\"\n              \"    return d.writable && enumerable && d.configurable;\"\n              \"};\"\n              \"['njs', 'process', 'Math', 'JSON'].every((v)=>isMutableObject(v))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"njs === njs\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"this.njs = 1; njs\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"process === process\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"this.process = 1; process\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math === Math\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"this.Math = 1; Math\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"JSON\"),\n      njs_str(\"[object JSON]\") },\n\n    { njs_str(\"JSON === JSON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"this.JSON = 1; JSON\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"delete this.JSON; JSON\"),\n      njs_str(\"ReferenceError: \\\"JSON\\\" is not defined\") },\n\n    /* Top-level constructors. */\n\n    { njs_str(\n        \"var global = this;\"\n        \"function isValidConstructor(c) {\"\n        \"   var props = Object.getOwnPropertyDescriptor(global, c.name);\"\n        \"   props = props.writable && !props.enumerable && props.configurable;\"\n        \"   var same = c === global[c.name];\"\n        \"\"\n        \"   return props && same;\"\n        \"};\"\n        \"Object.getOwnPropertyNames(global)\"\n        \".filter((k)=>(global[k] && global[k].prototype && global[k].prototype.constructor))\"\n        \".map(k=>global[k])\"\n        \".every(c => isValidConstructor(c))\"),\n      njs_str(\"true\") },\n\n    /* JSON.parse() */\n\n    { njs_str(\"JSON.parse('null')\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"JSON.parse('true')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.parse('false')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"JSON.parse('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"JSON.parse('-1234.56e2')\"),\n      njs_str(\"-123456\") },\n\n    { njs_str(\"typeof(JSON.parse('true'))\"),\n      njs_str(\"boolean\") },\n\n    { njs_str(\"typeof(JSON.parse('false'))\"),\n      njs_str(\"boolean\") },\n\n    { njs_str(\"typeof(JSON.parse('1'))\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"typeof(JSON.parse('\\\"\\\"'))\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"typeof(JSON.parse('{}'))\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof(JSON.parse('[]'))\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"JSON.parse('\\\"abc\\\"')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\\\\"\\\"')\"),\n      njs_str(\"\\\"\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\n\\\"')\"),\n      njs_str(\"\\n\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\t\\\"')\"),\n      njs_str(\"\\t\") },\n\n    { njs_str(\"JSON.parse('\\\"ab\\\\\\\\\\\"c\\\"')\"),\n      njs_str(\"ab\\\"c\") },\n\n    { njs_str(\"JSON.parse('\\\"abcdefghijklmopqr\\\\\\\\\\\"s\\\"')\"),\n      njs_str(\"abcdefghijklmopqr\\\"s\") },\n\n    { njs_str(\"JSON.parse('\\\"ab\\\\\\\\\\\"c\\\"').length\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"JSON.parse('\\\"\u0430\u0431\\\\\\\\\\\"\u0432\\\"')\"),\n      njs_str(\"\u0430\u0431\\\"\u0432\") },\n\n    { njs_str(\"JSON.parse('\\\"\u0430\u0431\\\\\\\\\\\"\u0432\\\"').length\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"JSON.parse('\\\"\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\\\"').length\"),\n      njs_str(\"13\") },\n\n    { njs_str(\"JSON.parse('[\\\"' + '\u03b1'.repeat(33) + '\\\"]')[0][32]\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\u03B1\\\"')\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\uD801\\\\\\\\uDC00\\\"')\"),\n      njs_str(\"\ud801\udc00\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\u03B1\\\"') == JSON.parse('\\\"\\\\\\\\u03b1\\\"')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\u03B1\\\"').length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":1}').a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":1,\\\"a\\\":2}').a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"JSON.parse('{   \\\"a\\\" :  \\\"b\\\"   }').a\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{\\\"b\\\":1}}').a.b\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"JSON.parse('[{}, true ,1.1e2, {\\\"a\\\":[3,\\\"b\\\"]}]')[3].a[1]\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2}');\"\n                 \"Object.getOwnPropertyDescriptor(o, 'a').configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2}');\"\n                 \"Object.getOwnPropertyDescriptor(o, 'a').writable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2}');\"\n                 \"Object.getOwnPropertyDescriptor(o, 'a').enumerable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2}');\"\n                 \"o.a = 3; o.a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2}');\"\n                 \"o.b = 3; o.b\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"JSON.parse('2') || 10\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"JSON.parse('0') || 10\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"JSON.parse('-0') || 10\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"JSON.parse('\\\"a\\\"') || 10\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\"') || 10\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"JSON.parse('true') || 10\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.parse('false') || 10\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"JSON.parse('null') || 10\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var o = JSON.parse('{}', function(k, v) {return v;}); o\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2, \\\"b\\\":4, \\\"a\\\":{}}',\"\n                 \"                    function(k, v) {return undefined;});\"\n                 \"o\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2, \\\"c\\\":4, \\\"b\\\":\\\"x\\\"}',\"\n                 \"  function(k, v) {if (k === '' || typeof v === 'number') return v });\"\n                 \"Object.keys(o)\"),\n      njs_str(\"a,c\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2, \\\"b\\\":{}}',\"\n                 \"                    function(k, v) {return k;});\"\n                 \"o+typeof(o)\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"var o = JSON.parse('[\\\"a\\\", \\\"b\\\"]',\"\n                 \"                    function(k, v) {return v;});\"\n                 \"o\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":[1,{\\\"b\\\":1},3]}',\"\n                 \"                    function(k, v) {return v;});\"\n                 \"o.a[1].b\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":[1,2]}',\"\n                 \"  function(k, v) {if (k === '' || k === 'a') {return v;}});\"\n                 \"o.a\"),\n      njs_str(\",\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":[1,2]}',\"\n                 \"  function(k, v) {return (k === '' || k === 'a') ? v : v*2});\"\n                 \"o.a\"),\n      njs_str(\"2,4\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2, \\\"b\\\":{\\\"c\\\":[\\\"xx\\\"]}}',\"\n                 \"   function(k, v) {return typeof v === 'number' ? v * 2 : v;});\"\n                 \"o.a+o.b.c[0]\"),\n      njs_str(\"4xx\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"aa\\\":{\\\"b\\\":1}, \\\"abb\\\":1, \\\"c\\\":1}',\"\n                 \"   function(k, v) {return (k === '' || /^a/.test(k)) ? v : undefined;});\"\n                 \"Object.keys(o)\"),\n      njs_str(\"aa,abb\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":\\\"x\\\"}',\"\n                 \"   function(k, v) {if (k === 'a') {this.b='y';} return v});\"\n                 \"o.a+o.b\"),\n      njs_str(\"xy\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":\\\"x\\\"}',\"\n                 \"   function(k, v) {return (k === 'a' ? {x:1} : v)});\"\n                 \"o.a.x\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var keys = []; var o = JSON.parse('{\\\"a\\\":2, \\\"b\\\":{\\\"c\\\":\\\"xx\\\"}}',\"\n                 \"   function(k, v) {keys.push(k); return v;});\"\n                 \"keys\"),\n      njs_str(\"a,c,b,\") },\n\n    { njs_str(\"var args = []; var o = JSON.parse('[2,{\\\"a\\\":3}]',\"\n                 \"   function(k, v) {args.push(k+\\\":\\\"+v); return v;});\"\n                 \"args.join('|')\"),\n      njs_str(\"0:2|a:3|1:[object Object]|:2,[object Object]\") },\n\n    { njs_str(\"JSON.parse('[0,1,2]', function(k, v) {\"\n              \"    if (v == 2) {\"\n              \"        return undefined;\"\n              \"    }\"\n              \"    return v;\"\n              \"});\"),\n      njs_str(\"0,1,\") },\n\n    { njs_str(\"JSON.parse('[0,1,2]', function(k, v) {\"\n              \"    if (v == 0) {\"\n              \"        Object.defineProperty(this, '0', {value: undefined, enumerable: false});\"\n              \"        return undefined;\"\n              \"    }\"\n              \"    return v;\"\n              \"});\"),\n      njs_str(\",1,2\") },\n\n    { njs_str(\"JSON.parse()\"),\n      njs_str(\"SyntaxError: Unexpected token at position 0\") },\n\n    { njs_str(\"JSON.parse([])\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 0\") },\n\n    { njs_str(\"JSON.parse('')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 0\") },\n\n    { njs_str(\"JSON.parse('fals')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 0\") },\n\n    { njs_str(\"JSON.parse(' t')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('nu')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 0\") },\n\n    { njs_str(\"JSON.parse('-')\"),\n      njs_str(\"SyntaxError: Unexpected number at position 0\") },\n\n    { njs_str(\"JSON.parse('--')\"),\n      njs_str(\"SyntaxError: Unexpected number at position 1\") },\n\n    { njs_str(\"JSON.parse('1-')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('1ee1')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('1eg')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('0x01')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('\\\"\u0430\u0431\u0432')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 4\") },\n\n    { njs_str(\"JSON.parse('\\\"\\b')\"),\n      njs_str(\"SyntaxError: Forbidden source char at position 1\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\u')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 3\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\q\\\"')\"),\n      njs_str(\"SyntaxError: Unknown escape char at position 2\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\uDC01\\\"')\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\uD801\\\\\\\\uE000\\\"')\"),\n      njs_str(\"\ufffd\ue000\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\uD83D\\\"')\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\uD800\\\\\\\\uDB00\\\"')\"),\n      njs_str(\"\ufffd\ufffd\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\ud800[\\\"')\"),\n      njs_str(\"\ufffd[\") },\n\n    { njs_str(\"JSON.parse('{')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 1\") },\n\n    { njs_str(\"JSON.parse('{{')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('{[')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\"')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 4\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 5\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 6\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{}')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 7\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{}g')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 7\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{},')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 8\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{},}')\"),\n      njs_str(\"SyntaxError: Trailing comma at position 7\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{},,')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 8\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{},,}')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 8\") },\n\n    { njs_str(\"JSON.parse('[')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 1\") },\n\n    { njs_str(\"JSON.parse('[q')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('[\\\"a')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 3\") },\n\n    { njs_str(\"JSON.parse('[1 ')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 3\") },\n\n    { njs_str(\"JSON.parse('[1,]')\"),\n      njs_str(\"SyntaxError: Trailing comma at position 2\") },\n\n    { njs_str(\"JSON.parse('[1 , 5 ')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 7\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":'.repeat(32))\"),\n      njs_str(\"SyntaxError: Nested too deep at position 155\") },\n\n    { njs_str(\"JSON.parse('['.repeat(32))\"),\n      njs_str(\"SyntaxError: Nested too deep at position 31\") },\n\n    { njs_str(\"var o = JSON.parse('{', function(k, v) {return v;});o\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 1\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":1}', \"\n                 \"                   function(k, v) {return v.a.a;}); o\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\") },\n\n    { njs_str(\"function func() {this[8] = 1; return new Int8Array(func)}\"\n              \"JSON.parse('[1]', func);\"),\n      njs_str(\"\") },\n\n    /* JSON.stringify() */\n\n    { njs_str(\"JSON.stringify()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"JSON.stringify('')\"),\n      njs_str(\"\\\"\\\"\") },\n\n    { njs_str(\"JSON.stringify('abc')\"),\n      njs_str(\"\\\"abc\\\"\") },\n\n    { njs_str(\"JSON.stringify(new String('abc'))\"),\n      njs_str(\"\\\"abc\\\"\") },\n\n    { njs_str(\"var s = new String('abc'); s.toString = () => 'xxx'; \"\n              \"JSON.stringify(s)\"),\n      njs_str(\"\\\"xxx\\\"\") },\n\n    { njs_str(\"JSON.stringify(123)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"JSON.stringify(-0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"JSON.stringify(0.00000123)\"),\n      njs_str(\"0.00000123\") },\n\n    { njs_str(\"JSON.stringify(new Number(123))\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var n = new Number(8.5); n.valueOf = () => 42;\"\n              \"JSON.stringify(n)\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"JSON.stringify(true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.stringify(false)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"JSON.stringify(new Boolean(1))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.stringify(new Boolean(0))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"JSON.stringify(null)\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"JSON.stringify(undefined)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"JSON.stringify(Symbol())\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"JSON.stringify({})\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"JSON.stringify([])\"),\n      njs_str(\"[]\") },\n\n    { njs_str(\"var a = [1]; a[2] = 'x'; JSON.stringify(a)\"),\n      njs_str(\"[1,null,\\\"x\\\"]\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* very long test under MSAN */\n    { njs_str(njs_declare_sparse_array(\"a\", 32769)\n              \"a[32] = 'a'; a[64] = 'b';\"\n              \"var s = JSON.stringify(a); \"\n              \"[s.length,s.substring(162,163),s.match(/null/g).length]\"),\n      njs_str(\"163844,a,32767\") },\n#endif\n\n    { njs_str(njs_declare_sparse_array(\"a\", 8)\n              \"a[2] = 'a'; a[4] = 'b'; a.length = 3;\"\n              \"JSON.stringify(a)\"),\n      njs_str(\"[null,null,\\\"a\\\"]\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 8)\n              \"a[1] = 'a'; a[2] = 'b'; a.length = 3;\"\n              \"JSON.stringify({a:1,b:2,c:3}, a)\"),\n      njs_str(\"{\\\"a\\\":1,\\\"b\\\":2}\") },\n\n    { njs_str(\"var a = [1,2,3];\"\n              \"Object.defineProperty(a, '1', {enumerable:false});\"\n              \"JSON.stringify(a)\"),\n      njs_str(\"[1,2,3]\") },\n\n    { njs_str(\"JSON.stringify({a:\\\"b\\\",c:19,e:null,t:true,f:false})\"),\n      njs_str(\"{\\\"a\\\":\\\"b\\\",\\\"c\\\":19,\\\"e\\\":null,\\\"t\\\":true,\\\"f\\\":false}\") },\n\n    { njs_str(\"JSON.stringify({a:1, b:undefined})\"),\n      njs_str(\"{\\\"a\\\":1}\") },\n\n    { njs_str(\"JSON.stringify({a:1, b:Symbol()})\"),\n      njs_str(\"{\\\"a\\\":1}\") },\n\n    { njs_str(\"var o = {a:1, c:2};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:false, value:3});\"\n                 \"JSON.stringify(o)\"),\n      njs_str(\"{\\\"a\\\":1,\\\"c\\\":2}\") },\n\n    { njs_str(\"JSON.stringify({a:{}, b:[function(v){}]})\"),\n      njs_str(\"{\\\"a\\\":{},\\\"b\\\":[null]}\") },\n\n    { njs_str(\"JSON.stringify(RegExp())\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"JSON.stringify(Object(Symbol()))\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"var s = Object(Symbol()); s.test = 'test'; JSON.stringify(s)\"),\n      njs_str(\"{\\\"test\\\":\\\"test\\\"}\") },\n\n    { njs_str(\"JSON.stringify(SyntaxError('e'))\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"JSON.stringify(URIError('e'))\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"var e = URIError('e'); e.name = 'E'; JSON.stringify(e)\"),\n      njs_str(\"{\\\"name\\\":\\\"E\\\"}\") },\n\n    { njs_str(\"var e = URIError('e'); e.message = 'E'; JSON.stringify(e)\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"var e = URIError('e'); e.foo = 'E'; JSON.stringify(e)\"),\n      njs_str(\"{\\\"foo\\\":\\\"E\\\"}\") },\n\n    { njs_str(\"JSON.stringify({get key() {throw new Error('Oops')}})\"),\n      njs_str(\"Error: Oops\") },\n\n    { njs_str(\"JSON.stringify({toJSON() {throw new Error('Oops')}})\"),\n      njs_str(\"Error: Oops\") },\n\n    /* Ignoring named properties of an array. */\n\n    { njs_str(\"var a = [1,2]; a.a = 1;\"\n                 \"JSON.stringify(a)\"),\n      njs_str(\"[1,2]\") },\n\n    { njs_str(\"JSON.stringify({a:{b:{c:{d:1}, e:function(v){}}}})\"),\n      njs_str(\"{\\\"a\\\":{\\\"b\\\":{\\\"c\\\":{\\\"d\\\":1}}}}\") },\n\n    { njs_str(\"JSON.stringify([[\\\"b\\\",undefined],1,[5],{a:1}])\"),\n      njs_str(\"[[\\\"b\\\",null],1,[5],{\\\"a\\\":1}]\") },\n\n    { njs_str(\"var json = '{\\\"a\\\":{\\\"b\\\":{\\\"c\\\":{\\\"d\\\":1},\\\"e\\\":[true]}}}';\"\n                 \"json == JSON.stringify(JSON.parse(json))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var json = '{\\\"a\\\":\\\"\u0430\u0431\u0432\\\",\\\"b\\\":\\\"\u03b1\\\"}';\"\n                 \"json == JSON.stringify(JSON.parse(json))\"),\n      njs_str(\"true\") },\n\n    /* Multibyte characters: z - 1 byte, \u03b1 - 2 bytes, \ud801\udc00 - 4 bytes */\n\n    { njs_str(\"JSON.stringify('\u03b1\ud801\udc00z'.repeat(10))\"),\n      njs_str(\"\\\"\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\\\"\") },\n\n    { njs_str(\"JSON.stringify('\u03b1\ud801\udc00z'.repeat(10)).length\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"JSON.stringify('\u03b1'.repeat(33))[32]\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"JSON.stringify('a\\\\nbc')\"),\n      njs_str(\"\\\"a\\\\nbc\\\"\") },\n\n    { njs_str(\"JSON.stringify('\u0430\\t\u0431\u0432')\"),\n      njs_str(\"\\\"\u0430\\\\t\u0431\u0432\\\"\") },\n\n    { njs_str(\"JSON.stringify('\\\\n\\\\t\\\\r\\\\\\\"\\\\f\\\\b')\"),\n      njs_str(\"\\\"\\\\n\\\\t\\\\r\\\\\\\"\\\\f\\\\b\\\"\") },\n\n    { njs_str(\"JSON.stringify('\\x00\\x01\\x02\\x1f')\"),\n      njs_str(\"\\\"\\\\u0000\\\\u0001\\\\u0002\\\\u001f\\\"\") },\n\n    { njs_str(\"JSON.stringify('abc\\x00')\"),\n      njs_str(\"\\\"abc\\\\u0000\\\"\") },\n\n    { njs_str(\"JSON.stringify('\\x00zz')\"),\n      njs_str(\"\\\"\\\\u0000zz\\\"\") },\n\n    { njs_str(\"JSON.stringify('\\x00')\"),\n      njs_str(\"\\\"\\\\u0000\\\"\") },\n\n    { njs_str(\"JSON.stringify('a\\x00z')\"),\n      njs_str(\"\\\"a\\\\u0000z\\\"\") },\n\n    { njs_str(\"JSON.stringify('\\x00z\\x00')\"),\n      njs_str(\"\\\"\\\\u0000z\\\\u0000\\\"\") },\n\n    { njs_str(\"var i, s, r = true;\"\n                 \" for (i = 0; i < 128; i++) {\"\n                 \"  s = '\u03b1\ud801\udc00z'.repeat(i);\"\n                 \"  r &= (JSON.stringify(s) == ('\\\"' + s + '\\\"'));\"\n                 \"}; r\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"JSON.stringify('\\\\u0000'.repeat(10)) == ('\\\"' + '\\\\\\\\u0000'.repeat(10) + '\\\"')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.stringify('abc'.repeat(100)).length\"),\n      njs_str(\"302\") },\n\n    { njs_str(\"JSON.stringify('\u0430\u0431\u0432'.repeat(100)).length\"),\n      njs_str(\"302\") },\n\n    /* Byte strings. */\n\n    { njs_str(\"JSON.stringify('\\\\u00CE\\\\u00B1\\\\u00C2\\\\u00B6'.toBytes())\"),\n      njs_str(\"\\\"\u03b1\u00b6\\\"\") },\n\n    { njs_str(\"JSON.stringify('\u00b5\u00a7\u00b1\u00ae'.toBytes())\"),\n      njs_str(\"\\\"\\xB5\\xA7\\xB1\\xAE\\\"\") },\n\n    /* Optional arguments. */\n\n    { njs_str(\"JSON.stringify(undefined, undefined, 1)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"JSON.stringify([{a:1,b:{c:2}},1], undefined, 0)\"),\n      njs_str(\"[{\\\"a\\\":1,\\\"b\\\":{\\\"c\\\":2}},1]\") },\n\n    { njs_str(\"JSON.stringify([{a:1,b:{c:2}},1], undefined, 1)\"),\n      njs_str(\"[\\n {\\n  \\\"a\\\": 1,\\n  \\\"b\\\": {\\n   \\\"c\\\": 2\\n  }\\n },\\n 1\\n]\") },\n\n    { njs_str(\"JSON.stringify([{a:1,b:{c:2}},1], undefined, ' ')\"),\n      njs_str(\"[\\n {\\n  \\\"a\\\": 1,\\n  \\\"b\\\": {\\n   \\\"c\\\": 2\\n  }\\n },\\n 1\\n]\") },\n\n    { njs_str(\"JSON.stringify([{a:1,b:{c:2}},1], undefined, '#')\"),\n      njs_str(\"[\\n#{\\n##\\\"a\\\": 1,\\n##\\\"b\\\": {\\n###\\\"c\\\": 2\\n##}\\n#},\\n#1\\n]\") },\n\n    { njs_str(\"JSON.stringify([1], null, 'AAAAABBBBBC')\"),\n      njs_str(\"[\\nAAAAABBBBB1\\n]\") },\n\n    { njs_str(\"var s = new String('A'); s.toString = () => 'AAAAABBBBBC';\"\n              \"JSON.stringify([1], null, s)\"),\n      njs_str(\"[\\nAAAAABBBBB1\\n]\") },\n\n    { njs_str(\"JSON.stringify([1], null, '!\u03b2\u03b2\u03b2\u03b2\u03b2').length\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"JSON.stringify([1], null, 'ABC') === JSON.stringify([1], null, new String('ABC'))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.stringify([1], null, '!!\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2').length\"),\n      njs_str(\"15\") },\n\n    { njs_str(\"JSON.stringify([1], null, String.bytesFrom([0x9d])).length\"),\n      njs_str(\"InternalError: space argument cannot be a byte string\") },\n\n    { njs_str(\"JSON.stringify([1], null, 11)\"),\n      njs_str(\"[\\n          1\\n]\") },\n\n    { njs_str(\"JSON.stringify([1], null, 5) === JSON.stringify([1], null, 5.9)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.stringify([1], null, 5) === JSON.stringify([1], null, new Number(5))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = new Number(23); s.valueOf = () => 5;\"\n              \"JSON.stringify([1], null, s)\"),\n      njs_str(\"[\\n     1\\n]\") },\n\n    { njs_str(\"JSON.stringify([{a:1,b:{c:2}},1], undefined, -1)\"),\n      njs_str(\"[{\\\"a\\\":1,\\\"b\\\":{\\\"c\\\":2}},1]\") },\n\n    { njs_str(\"JSON.stringify([{a:1,b:{c:2}},1], undefined, new Date())\"),\n      njs_str(\"[{\\\"a\\\":1,\\\"b\\\":{\\\"c\\\":2}},1]\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, 'a', { get() { return ()=> 1}, enumerable: true });\"\n              \"JSON.stringify(o)\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, 'a', { get: () => ({b:1, c:2}), enumerable: true });\"\n              \"JSON.stringify(o)\"),\n      njs_str(\"{\\\"a\\\":{\\\"b\\\":1,\\\"c\\\":2}}\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, 'a', { get: () => ({})});\"\n              \"JSON.stringify(o)\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"JSON.stringify({toJSON:function(k){}})\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"JSON.stringify({toJSON:function(k){return k}})\"),\n      njs_str(\"\\\"\\\"\") },\n\n    { njs_str(\"JSON.stringify(new Date(1308895323625))\"),\n      njs_str(\"\\\"2011-06-24T06:02:03.625Z\\\"\") },\n\n    { njs_str(\"JSON.stringify({a:new Date(1308895323625)})\"),\n      njs_str(\"{\\\"a\\\":\\\"2011-06-24T06:02:03.625Z\\\"}\") },\n\n    { njs_str(\"JSON.stringify({b:{toJSON:function(k){return undefined}}})\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"JSON.stringify({b:{toJSON:function(k){}},c:1})\"),\n      njs_str(\"{\\\"c\\\":1}\") },\n\n    { njs_str(\"JSON.stringify({b:{toJSON:function(k){return k}}})\"),\n      njs_str(\"{\\\"b\\\":\\\"b\\\"}\") },\n\n    { njs_str(\"JSON.stringify({a:1,b:new Date(1308895323625),c:2})\"),\n      njs_str(\"{\\\"a\\\":1,\\\"b\\\":\\\"2011-06-24T06:02:03.625Z\\\",\\\"c\\\":2}\") },\n\n    { njs_str(\"JSON.stringify({a:{b:new Date(1308895323625)}})\"),\n      njs_str(\"{\\\"a\\\":{\\\"b\\\":\\\"2011-06-24T06:02:03.625Z\\\"}}\") },\n\n    { njs_str(\"function key(k){return k}; function und(k){}\"\n                 \"JSON.stringify([{toJSON:key},{toJSON:und},{toJSON:key}])\"),\n      njs_str(\"[\\\"0\\\",null,\\\"2\\\"]\") },\n\n    { njs_str(\"JSON.stringify({b:{a:1,c:[2]}}, function(k,v){return v})\"),\n      njs_str(\"{\\\"b\\\":{\\\"a\\\":1,\\\"c\\\":[2]}}\") },\n\n    { njs_str(\"JSON.stringify([{a:1}, 2], function(k,v){return v})\"),\n      njs_str(\"[{\\\"a\\\":1},2]\") },\n\n    { njs_str(\"JSON.stringify({a:{toJSON:function(k){}}}, function(k,v){return v})\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"JSON.stringify({a:{toJSON:function(k){return 1}}}, function(k,v){return v})\"),\n      njs_str(\"{\\\"a\\\":1}\") },\n\n    { njs_str(\"JSON.stringify([{toJSON:function(k){}}], function(k,v){return v})\"),\n      njs_str(\"[null]\") },\n\n    { njs_str(\"JSON.stringify([{toJSON:function(k){return 1}}], function(k,v){return v})\"),\n      njs_str(\"[1]\") },\n\n    { njs_str(\"JSON.stringify({a:new Date(1308895323625)}, function(k,v){return v})\"),\n      njs_str(\"{\\\"a\\\":\\\"2011-06-24T06:02:03.625Z\\\"}\") },\n\n    { njs_str(\"JSON.stringify([new Date(1308895323625)], function(k,v){return v})\"),\n      njs_str(\"[\\\"2011-06-24T06:02:03.625Z\\\"]\") },\n\n    { njs_str(\"JSON.stringify([new Date(1308895323625)], \"\n                 \"  function(k,v){return (typeof v === 'string') ? v.toLowerCase() : v})\"),\n      njs_str(\"[\\\"2011-06-24t06:02:03.625z\\\"]\") },\n\n    { njs_str(\"JSON.stringify([new Date(1308895323625)], \"\n                 \"  function(k,v){return (typeof v === 'string') ? v.toLowerCase() : v}, '#')\"),\n      njs_str(\"[\\n#\\\"2011-06-24t06:02:03.625z\\\"\\n]\") },\n\n    { njs_str(\"JSON.stringify({a:new Date(1308895323625),b:1,c:'a'}, \"\n                 \"  function(k,v){return (typeof v === 'string') ? undefined : v})\"),\n      njs_str(\"{\\\"b\\\":1}\") },\n\n    { njs_str(\"JSON.stringify({a:new Date(1308895323625),b:1,c:'a'}, \"\n                 \"  function(k,v){return (typeof v === 'string') ? undefined : v}, '#')\"),\n      njs_str(\"{\\n#\\\"b\\\": 1\\n}\") },\n\n    { njs_str(\"JSON.stringify([new Date(1308895323625),1,'a'], \"\n                 \"  function(k,v){return (typeof v === 'string') ? undefined : v})\"),\n      njs_str(\"[null,1,null]\") },\n\n    { njs_str(\"var keys = []; var o = JSON.stringify({a:2, b:{c:1}},\"\n                 \"   function(k, v) {keys.push(k); return v;});\"\n                 \"keys\"),\n      njs_str(\",a,b,c\") },\n\n    { njs_str(\"JSON.stringify(['a', 'b', 'c'], \"\n                 \"    function(i, v) { if (i === '0') {return undefined} \"\n                 \"                     else if (i == 1) {return 2} \"\n                 \"                     else {return v}})\"),\n      njs_str(\"[null,2,\\\"c\\\"]\") },\n\n    { njs_str(\"JSON.stringify({a:2, b:{c:1}},\"\n                 \"               function(k, v) {delete this['b']; return v;})\"),\n      njs_str(\"{\\\"a\\\":2}\") },\n\n    { njs_str(\"JSON.stringify(JSON.parse('{\\\"a\\\":1,\\\"b\\\":2}', \"\n                 \"          function(k, v) {delete this['b']; return v;}))\"),\n      njs_str(\"{\\\"a\\\":1}\") },\n\n    { njs_str(\"var keys = []; var o = JSON.stringify([[1,2],{a:3}, 4],\"\n                 \"   function(k, v) {keys.push(k); return v;});\"\n                 \"keys\"),\n      njs_str(\",0,0,1,1,a,2\") },\n\n    { njs_str(\"JSON.stringify({b:{a:1,c:[2]}}, ['a', undefined, 'b', {}, 'a'])\"),\n      njs_str(\"{\\\"b\\\":{\\\"a\\\":1}}\") },\n\n    { njs_str(\"JSON.stringify({b:{a:1,c:[2]}}, [new String('a'), new String('b')])\"),\n      njs_str(\"{\\\"b\\\":{\\\"a\\\":1}}\") },\n\n    { njs_str(\"JSON.stringify({'1':1,'2':2,'3':3}, [1, new Number(2)])\"),\n      njs_str(\"{\\\"1\\\":1,\\\"2\\\":2}\") },\n\n    { njs_str(\"var s = new String('str'); s.toString = () => 'xxx';\"\n              \"JSON.stringify({str:1,xxx:2}, [s])\"),\n      njs_str(\"{\\\"xxx\\\":2}\") },\n\n    { njs_str(\"var n = new String(123); n.toString = () => '42';\"\n              \"JSON.stringify({123:1,42:2}, [n])\"),\n      njs_str(\"{\\\"42\\\":2}\") },\n\n    { njs_str(\"var objs = []; var o = JSON.stringify({a:1},\"\n                 \"   function(k, v) {objs.push(this); return v});\"\n                 \"JSON.stringify(objs)\"),\n      njs_str(\"[{\\\"\\\":{\\\"a\\\":1}},{\\\"a\\\":1}]\") },\n\n    { njs_str(\"JSON.stringify({a: () => 1, b: Symbol(), c: undefined},\"\n                             \"(k, v) => k.length ? String(v) : v)\"),\n      njs_str(\"{\\\"a\\\":\\\"[object Function]\\\",\\\"b\\\":\\\"Symbol()\\\",\\\"c\\\":\\\"undefined\\\"}\") },\n\n    { njs_str(\"var a = []; a[0] = a; JSON.stringify(a)\"),\n      njs_str(\"TypeError: Nested too deep or a cyclic structure\") },\n\n    { njs_str(\"var a = {}; a.a = a; JSON.stringify(a)\"),\n      njs_str(\"TypeError: Nested too deep or a cyclic structure\") },\n\n    { njs_str(\"var array = [1,2,3];\"\n              \"array[1] = {get value() {\"\n              \"    Object.defineProperty(array, '2', {get: () => 10}) }\"\n              \"};\"\n              \"JSON.stringify(array)\"),\n      njs_str(\"[1,{},10]\") },\n\n    { njs_str(\"var array = [1];\"\n              \"array[1] = {get value() {array[10] = 10}}; JSON.stringify(array)\"),\n      njs_str(\"[1,{}]\") },\n\n    /* njs.dump(). */\n\n    { njs_str(\"njs.dump({a:1, b:[1,,2,{c:new Boolean(1)}]})\"),\n      njs_str(\"{a:1,b:[1,<empty>,2,{c:[Boolean: true]}]}\") },\n\n    { njs_str(\"njs.dump([InternalError(),TypeError('msg'), new RegExp(), /^undef$/my, new Date(0)])\"),\n      njs_str(\"[InternalError,TypeError: msg,/(?:)/,/^undef$/my,1970-01-01T00:00:00.000Z]\") },\n\n    { njs_str(\"njs.dump(Array.prototype.slice.call({'1':'b', length:2}))\"),\n      njs_str(\"[<empty>,'b']\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, 'a', { get: () => 1, enumerable: true }); njs.dump(o)\"),\n      njs_str(\"{a:'[Getter]'}\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, 'a', { get: () => 1, set(){}, enumerable: true }); njs.dump(o)\"),\n      njs_str(\"{a:'[Getter/Setter]'}\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, 'a', { set(){}, enumerable: true }); njs.dump(o)\"),\n      njs_str(\"{a:'[Setter]'}\") },\n\n    { njs_str(\"njs.dump(njs) == `njs {version:'${njs.version}'}`\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = []; a[0] = a; njs.dump(a)\"),\n      njs_str(\"[[Circular]]\") },\n\n    { njs_str(\"var a = []; njs.dump([a,a])\"),\n      njs_str(\"[[],[]]\") },\n\n    { njs_str(\"var O = {}; O.x = O; njs.dump(O)\"),\n      njs_str(\"{x:[Circular]}\") },\n\n    { njs_str(\"var O = {}; njs.dump({x:O, y:O})\"),\n      njs_str(\"{x:{},y:{}}\") },\n\n    { njs_str(\"var a = [], b = [a];  a[0] = b; njs.dump(a)\"),\n      njs_str(\"[[[Circular]]]\") },\n\n    { njs_str(\"var a = []; a.length = 2**31;\"\n              \"njs.dump(a)\"),\n      njs_str(\"[<2147483648 empty items>]\") },\n\n    { njs_str(\"var a = ['a',,'c']; a.length = 2**31;\"\n              \"njs.dump(a)\"),\n      njs_str(\"['a',<1 empty items>,'c',<2147483645 empty items>]\") },\n\n    { njs_str(\"var a = [,'b','c']; a.length = 2**31;\"\n              \"njs.dump(a)\"),\n      njs_str(\"[<1 empty items>,'b','c',<2147483645 empty items>]\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* False-positive in MSAN? */\n    { njs_str(\"var a = []; a[2**31] = 'Z'; a[0] = 'A'; njs.dump(a)\"),\n      njs_str(\"['A',<2147483647 empty items>,'Z']\") },\n\n    { njs_str(\"var a = []; a[2**31] = 'Z'; a[0] = 'A'; a.b = 'X'; njs.dump(a)\"),\n      njs_str(\"['A',<2147483647 empty items>,'Z',b:'X']\") },\n\n    { njs_str(\"var a = []; a[2**31] = 'Z'; a[0] = 'A'; a.b = 'X'; a.length = 3; njs.dump(a)\"),\n      njs_str(\"['A',<2 empty items>,b:'X']\") },\n#endif\n\n    { njs_str(\"var a = [1,2,3];Object.defineProperty(a, '1', {get:()=>2});njs.dump(a)\"),\n      njs_str(\"[1,'[Getter]',3]\") },\n\n    { njs_str(\"var a = [1,2,3];Object.defineProperty(a, '1', {enumerable:false});njs.dump(a)\"),\n      njs_str(\"[1,<1 empty items>,3]\") },\n\n    { njs_str(\"njs.dump(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"njs.dump(Object(-0))\"),\n      njs_str(\"[Number: -0]\") },\n\n    { njs_str(\"njs.dump([0, -0])\"),\n      njs_str(\"[0,-0]\") },\n\n    { njs_str(\"njs.dump(Symbol())\"),\n      njs_str(\"Symbol()\") },\n\n    { njs_str(\"njs.dump(Object(Symbol()))\"),\n      njs_str(\"[Symbol: Symbol()]\") },\n\n    { njs_str(\"njs.dump(Symbol('desc'))\"),\n      njs_str(\"Symbol(desc)\") },\n\n    { njs_str(\"njs.dump(Object(Symbol('desc')))\"),\n      njs_str(\"[Symbol: Symbol(desc)]\") },\n\n    { njs_str(\"njs.dump(Symbol.iterator)\"),\n      njs_str(\"Symbol(Symbol.iterator)\") },\n\n    { njs_str(\"njs.dump(Object(Symbol.iterator))\"),\n      njs_str(\"[Symbol: Symbol(Symbol.iterator)]\") },\n\n    { njs_str(\"njs.dump(decodeURI)\"),\n      njs_str(\"[Function: decodeURI]\") },\n\n    { njs_str(\"delete decodeURI.name; njs.dump(decodeURI)\"),\n      njs_str(\"[Function]\") },\n\n    { njs_str(\"delete decodeURI.name; delete Function.prototype.name; \"\n              \"decodeURI.name = 1; njs.dump(decodeURI)\"),\n      njs_str(\"[Function: native]\") },\n\n    { njs_str(\"delete decodeURI.name; delete Function.prototype.name; \"\n              \"decodeURI.name = 'XXX'; njs.dump(decodeURI)\"),\n      njs_str(\"[Function: XXX]\") },\n\n    /* njs.on(). */\n\n    { njs_str(\"njs.on(decodeURI)\"),\n      njs_str(\"TypeError: hook type is not a string\") },\n\n    { njs_str(\"njs.on('xxx')\"),\n      njs_str(\"TypeError: unknown hook type \\\"xxx\\\"\") },\n\n    { njs_str(\"njs.on('exit')\"),\n      njs_str(\"TypeError: callback is not a function or null\") },\n\n    { njs_str(\"njs.on('exit', null); 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"njs.on('exit', ()=>{}); 1\"),\n      njs_str(\"1\") },\n\n    /* Built-in methods name. */\n\n    { njs_str(\n        \"var fail;\"\n        \"function isMethodsHaveName(o) {\"\n        \"    var except = [\"\n        \"        'prototype',\"\n        \"        'constructor',\"\n        \"        'caller',\"\n        \"        'arguments',\"\n        \"        'description',\"\n        \"    ];\"\n        \"    return Object.getOwnPropertyNames(o)\"\n        \"                 .filter(v => !except.includes(v)\"\n        \"                              && typeof o[v] == 'function')\"\n        \"                 .every(v => o[v].name == v\"\n        \"                             || !(fail = `${o.name}.${v}: ${o[v].name}`));\"\n        \"}\"\n        \"[\"\n        \"    Boolean, Boolean.prototype,\"\n        \"    Number, Number.prototype,\"\n        \"    Symbol, Symbol.prototype,\"\n        \"    String, String.prototype,\"\n        \"    Object, Object.prototype,\"\n        \"    Array, Array.prototype,\"\n        \"    Function, Function.prototype,\"\n        \"    RegExp, RegExp.prototype,\"\n        \"    Date, Date.prototype,\"\n        \"    Error, Error.prototype,\"\n        \"    Math,\"\n        \"    JSON,\"\n        \"].every(obj => isMethodsHaveName(obj)) || fail\"),\n\n      njs_str(\"true\") },\n\n    /* require(). */\n\n    { njs_str(\"require('unknown_module')\"),\n      njs_str(\"Error: Cannot find module \\\"unknown_module\\\"\") },\n\n    { njs_str(\"require()\"),\n      njs_str(\"TypeError: missing path\") },\n\n    { njs_str(\"require.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"require.name\"),\n      njs_str(\"require\") },\n\n    { njs_str(\"typeof require\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"require.hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    /* setTimeout(). */\n\n    { njs_str(\"setTimeout()\"),\n      njs_str(\"TypeError: too few arguments\") },\n\n    { njs_str(\"setTimeout(function(){})\"),\n      njs_str(\"InternalError: not supported by host environment\") },\n\n    { njs_str(\"setTimeout(function(){}, 12)\"),\n      njs_str(\"InternalError: not supported by host environment\") },\n\n    /* clearTimeout(). */\n\n    { njs_str(\"clearTimeout()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"clearTimeout(123)\"),\n      njs_str(\"undefined\") },\n\n    /* Trick: number to boolean. */\n\n    { njs_str(\"var a = 0; !!a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = 5; !!a\"),\n      njs_str(\"true\") },\n\n    /* Trick: flooring. */\n\n    { njs_str(\"var n = -10.12345; ~~n\"),\n      njs_str(\"-10\") },\n\n    { njs_str(\"var n = 10.12345; ~~n\"),\n      njs_str(\"10\") },\n\n    /* es5id: 8.2_A1_T1 */\n    /* es5id: 8.2_A1_T2 */\n\n    { njs_str(\"var x = null;\"),\n      njs_str(\"undefined\") },\n\n    /* es5id: 8.2_A2 */\n\n    { njs_str(\"var null;\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"null\\\" in 1\") },\n\n    /* es5id: 8.2_A3 */\n\n    { njs_str(\"typeof(null) === \\\"object\\\"\"),\n      njs_str(\"true\") },\n\n    /* Module. */\n\n    { njs_str(\"import;\"),\n      njs_str(\"SyntaxError: Non-default import is not supported in 1\") },\n\n    { njs_str(\"import {x} from y\"),\n      njs_str(\"SyntaxError: Non-default import is not supported in 1\") },\n\n    { njs_str(\"import x from y\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"y\\\" in 1\") },\n\n    { njs_str(\"import x from {\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"{\\\" in 1\") },\n\n    { njs_str(\"import x from ''\"),\n      njs_str(\"SyntaxError: Cannot find module \\\"\\\" in 1\") },\n\n    { njs_str(\"import x from 'crypto'\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"import x from 'crypto' 1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"1\\\" in 1\") },\n\n    { njs_str(\"if (1) {import x from 'crypto'}\"),\n      njs_str(\"SyntaxError: Illegal import statement in 1\") },\n\n    { njs_str(\"export\"),\n      njs_str(\"SyntaxError: Illegal export statement in 1\") },\n\n    { njs_str(\"Object.assign(undefined)\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"Object.assign(null)\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"Object.assign({x:123}).toString()\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"Object.assign({x:123}).x\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"Object.assign(true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.assign(123)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var o1 = {a:1, b:1, c:1}; var o2 = {b:2, c:2}; \"\n                 \"var o3 = {c:3}; var obj = Object.assign({}, o1, o2, o3); \"\n                 \"Object.values(obj);\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var v1 = 'abc'; var v2 = true; var v3 = 10; \"\n                 \"var obj = Object.assign({}, v1, null, v2, undefined, v3); \"\n                 \"Object.values(obj);\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"Object.assign(true, {a:123})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.assign(true, {a:123}).a\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var y = Object.create({s:123}); y.z = 456;\"\n                 \"Object.assign({}, y).s;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var obj = {s:123}; Object.defineProperty(obj,\"\n                 \"'p1', {value:12, enumerable:false});\"\n                 \"Object.assign({}, obj).p1\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var obj = {s:123}; Object.defineProperty(obj,\"\n                 \"'x', {value:12, writable:false});\"\n                 \"Object.assign(obj, {x:4})\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"x\\\" of object\") },\n\n    { njs_str(\"var obj = {foo:1, get bar() {return 2;}};\"\n                 \"var copy = Object.assign({}, obj);\"\n                 \"Object.getOwnPropertyDescriptor(copy, 'bar').get\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"try{var x = Object.defineProperty({}, 'foo',\"\n                 \"{value:1, writable:false});\"\n                 \"Object.assign(x, {bar:2}, {foo:2});}catch(error){};\"\n                 \"x.bar\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = Object.defineProperty({}, 'a',\"\n                 \"{get(){Object.defineProperty(this, 'b',\"\n                 \"{value:2,enumerable:false});\"\n                 \"return 1}, enumerable:1}); a.b =1;\"\n                 \"var x = Object.assign({}, a);x.b;\"),\n      njs_str(\"undefined\") },\n\n    /* let and const */\n\n    { njs_str(\"var let = 123;\"\n              \"let\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"let\\\" in 1\") },\n\n    { njs_str(\"var const = 123\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"const\\\" in 1\") },\n\n    /* Async */\n\n    { njs_str(\"var async;\"\n              \"function f() {\"\n              \"    async\\n\"\n              \"    function foo() {}\"\n              \"}\"\n              \"f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var async;\"\n              \"function f() {\"\n              \"    async;\"\n              \"    function foo() {}\"\n              \"}\"\n              \"f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var async;\"\n              \"async\\n\"\n              \"function foo() {}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"new\\\"\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"\\\"\\\" in 1\") },\n\n    { njs_str(\"new\\\"\\\\UFFFF\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"\\\"\\\\UFFFF\\\" in 1\") },\n\n    { njs_str(\"new/la\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/la\\\" in 1\") },\n\n    { njs_str(\"{name; {/ / /}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"[(]\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"]\\\" in 1\") },\n\n    { njs_str(\"[...]\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"]\\\" in 1\") },\n\n    { njs_str(\"switch () {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\")\\\" in 1\") },\n\n    { njs_str(\"switch ([(]) {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"]\\\" in 1\") },\n\n    { njs_str(\"{{}{-}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{+}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{delete}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{++}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{++1}\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in prefix operation in 1\") },\n\n    { njs_str(\"{{}{1++}\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in postfix operation in 1\") },\n\n    { njs_str(\"{{}{1/}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{1>>}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{r=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{var a = }\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}T=>}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a = b +}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a = b -}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a = b *}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a = b /}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a = b %}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a = b++}\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"{{}a = b--}\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"{{}a =}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a +=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a -=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a *=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a /=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a %=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a ===}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a ==}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a !=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a !==}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a >}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a <}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a <=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a &&}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a ||}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a ??}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a &}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a |}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a ^}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a <<}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a >>}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}new}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}delete}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}void}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}typeof}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{} ({a: 1, b: {}\\n}\\n})\\n}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 3\") },\n\n    { njs_str(\"object?.\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"`${{a: 1, b}}`\"),\n      njs_str(\"ReferenceError: \\\"b\\\" is not defined\") },\n\n    { njs_str(\"`${{a: 1, b:}}`\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"`${{a: 1, b:,}}`\"),\n      njs_str(\"SyntaxError: Unexpected token \\\",\\\" in 1\") },\n\n    { njs_str(\"`${{a: 1, b: 2,}}`\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"`${{a: 1,, b: 2}}`\"),\n      njs_str(\"SyntaxError: Unexpected token \\\",\\\" in 1\") },\n\n    { njs_str(\"`${{f(){-} - {}}`\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"for (;1-;) {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\";\\\" in 1\") },\n\n    { njs_str(\"var str = String(str); str\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var t = \\\"123\\\"; t = parseInt(t); t\"),\n      njs_str(\"123\") },\n\n    /* TextEncoder. */\n\n    { njs_str(\"var en = new TextEncoder(); typeof en.encode()\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var en = new TextEncoder(); en.encode()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var en = new TextEncoder(); var res = en.encode('\u03b1'); res\"),\n      njs_str(\"206,177\") },\n\n    { njs_str(\"var en = new TextEncoder(); var res = en.encode('\u03b11\u03b1'); res[2]\"),\n      njs_str(\"49\") },\n\n    { njs_str(\"var en = new TextEncoder(); en.encode(String.bytesFrom([0xCE]))\"),\n      njs_str(\"239,191,189\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"en.encode(String.bytesFrom([0xCE, 0xB1, 0xCE]))\"),\n      njs_str(\"206,177,239,191,189\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"en.encode(String.bytesFrom([0xCE, 0xCE, 0xB1]))\"),\n      njs_str(\"239,191,189,206,177\") },\n\n    { njs_str(\"var en = new TextEncoder(); en.encoding\"),\n      njs_str(\"utf-8\") },\n\n    { njs_str(\"TextEncoder.prototype.encode.apply({}, [])\"),\n      njs_str(\"TypeError: \\\"this\\\" is not a TextEncoder\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(5);\"\n              \"var res = en.encodeInto('\u03b1\u03b1\u03b1\u03b1\u03b1', utf8); njs.dump(res)\"),\n      njs_str(\"{read:2,written:4}\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(10);\"\n              \"var res = en.encodeInto('\u03b1\u03b1\u03b1\u03b1\u03b1', utf8); njs.dump(res)\"),\n      njs_str(\"{read:5,written:10}\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(10);\"\n              \"en.encodeInto('\u03b1\u03b1\u03b1\u03b1\u03b1', utf8.subarray(2)); utf8[0]\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var str = String.bytesFrom([0xCE]);\"\n              \"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(3);\"\n              \"var res = en.encodeInto(str, utf8); \"\n              \"[njs.dump(res), utf8]\"),\n      njs_str(\"{read:1,written:3},239,191,189\") },\n\n    { njs_str(\"var str = String.bytesFrom([0xCE]);\"\n              \"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(5);\"\n              \"en.encodeInto(str, utf8); utf8\"),\n      njs_str(\"239,191,189,0,0\") },\n\n    { njs_str(\"var str = String.bytesFrom([0xCE, 0xB1, 0xCE]);\"\n              \"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(5);\"\n              \"var res = en.encodeInto(str, utf8);\"\n              \"[njs.dump(res), utf8]\"),\n      njs_str(\"{read:2,written:5},206,177,239,191,189\") },\n\n    { njs_str(\"var str = String.bytesFrom([0xCE, 0xCE, 0xB1]);\"\n              \"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(5);\"\n              \"var res = en.encodeInto(str, utf8);\"\n              \"[njs.dump(res), utf8]\"),\n      njs_str(\"{read:2,written:5},239,191,189,206,177\") },\n\n    { njs_str(\"TextEncoder.prototype.encodeInto.apply({}, [])\"),\n      njs_str(\"TypeError: \\\"this\\\" is not a TextEncoder\") },\n\n    { njs_str(\"(new TextEncoder()).encodeInto('', 0.12) \"),\n      njs_str(\"TypeError: The \\\"destination\\\" argument must be an instance of Uint8Array\") },\n\n    /* TextDecoder. */\n\n    { njs_str(\"var de = new TextDecoder();\"\n              \"var u8arr = new Uint8Array([240, 160, 174, 183]);\"\n              \"var u16arr = new Uint16Array(u8arr.buffer);\"\n              \"var u32arr = new Uint32Array(u8arr.buffer);\"\n              \"[u8arr, u16arr, u32arr].map(v=>de.decode(v)).join(',')\"),\n      njs_str(\"\ud842\udfb7,\ud842\udfb7,\ud842\udfb7\") },\n\n    { njs_str(\"var de = new TextDecoder();\"\n              \"[new Uint8Array([240, 160]), \"\n              \" new Uint8Array([174]), \"\n              \" new Uint8Array([183])].map(v=>de.decode(v, {stream: 1}))[2]\"),\n      njs_str(\"\ud842\udfb7\") },\n\n    { njs_str(\"var de = new TextDecoder();\"\n              \"de.decode(new Uint8Array([240, 160]), {stream: 1});\"\n              \"de.decode(new Uint8Array([174]), {stream: 1});\"\n              \"de.decode(new Uint8Array([183]))\"),\n      njs_str(\"\ud842\udfb7\") },\n\n    { njs_str(\"var de = new TextDecoder();\"\n              \"de.decode(new Uint8Array([240, 160]), {stream: 1});\"\n              \"de.decode()\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"var de = new TextDecoder('utf-8', {fatal: true});\"\n              \"de.decode(new Uint8Array([240, 160]))\"),\n      njs_str(\"TypeError: The encoded data was not valid\") },\n\n    { njs_str(\"var de = new TextDecoder('utf-8', {fatal: false});\"\n              \"de.decode(new Uint8Array([240, 160]))\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"var de = new TextDecoder('utf-8', {ignoreBOM: true});\"\n              \"en.encode(de.decode(new Uint8Array([239, 187, 191, 50])))\"),\n      njs_str(\"239,187,191,50\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"var de = new TextDecoder('utf-8', {ignoreBOM: false});\"\n              \"en.encode(de.decode(new Uint8Array([239, 187, 191, 50])))\"),\n      njs_str(\"50\") },\n\n    { njs_str(\"var en = new TextEncoder(); var de = new TextDecoder();\"\n              \"en.encode(de.decode(new Uint8Array([239, 187, 191, 50])))\"),\n      njs_str(\"50\") },\n\n    { njs_str(\"var de = new TextDecoder(); de.decode('')\"),\n      njs_str(\"TypeError: The \\\"input\\\" argument must be an instance of TypedArray\") },\n\n    { njs_str(\"var de = new TextDecoder({})\"),\n      njs_str(\"RangeError: The \\\"[object Object]\\\" encoding is not supported\") },\n\n    { njs_str(\"var de = new TextDecoder('foo')\"),\n      njs_str(\"RangeError: The \\\"foo\\\" encoding is not supported\") },\n\n    { njs_str(\"var de = new TextDecoder(); de.encoding\"),\n      njs_str(\"utf-8\") },\n\n    { njs_str(\"var de = new TextDecoder(); de.fatal\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var de = new TextDecoder(); de.ignoreBOM\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"TextDecoder.prototype.decode.apply({}, new Uint8Array([1]))\"),\n      njs_str(\"TypeError: \\\"this\\\" is not a TextDecoder\") },\n\n    { njs_str(\"var de = new TextDecoder();\"\n              \"var buf = new Uint32Array([1,2,3]).buffer;\"\n              \"var en = new TextEncoder();\"\n              \"njs.dump(new Uint32Array(en.encode(de.decode(buf)).buffer))\"),\n      njs_str(\"Uint32Array [1,2,3]\") },\n\n    { njs_str(\"var de = new TextDecoder();\"\n              \"var buf = new Uint32Array([1,2,3]).subarray(1,2);\"\n              \"var en = new TextEncoder();\"\n              \"njs.dump(new Uint32Array(en.encode(de.decode(buf)).buffer))\"),\n      njs_str(\"Uint32Array [2]\") },\n\n    /* let */\n\n    { njs_str(\"let x\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"let x = 123; x\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"let x = [123]; x\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"let x = () => x; x()\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"let x = (() => x)()\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"x; let x\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"x; let x = 123\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let x = x + 123\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let x = (x, 1)\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let x = x\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let x; var x\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"var x; let x\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"let x; function x() {}\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"function x() {} let x\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"function x() {let x; var x}\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"function x() {var x; let x}\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"var x = function f() {let f}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"let a; let x = 1;\"\n              \"{let x = 2; a = x}\"\n              \"[x, a]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"let a; let x = 1;\"\n              \"if (true) {let x = 2; a = x}\"\n              \"[x, a]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"var a = 5, b = 10, arr = [];\"\n              \"{let a = 4; var b = 1; arr.push(a); arr.push(b)}\"\n              \"arr.push(a); arr.push(b); arr\"),\n      njs_str(\"4,1,5,1\") },\n\n    { njs_str(\"function func() {return x}\"\n              \"let x = 123;\"\n              \"func()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function func() {return x}\"\n              \"func();\"\n              \"let x = 123\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"function func() {return () => x}\"\n              \"let x = 123;\"\n              \"func()()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function func() {x = x + 1; let x}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function func() {return () => x}\"\n              \"func()();\"\n              \"let x = 123;\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"var arr = [];\"\n              \"\"\n              \"for (var i = 0; i < 10; i++) {\"\n              \"    let x = i;\"\n              \"\"\n              \"    arr.push( (n) => {x += n; return x} );\"\n              \"}\"\n              \"\"\n              \"[\"\n              \"    arr[0](2), arr[1](1), arr[2](4), arr[3](7), arr[4](0),\"\n              \"    arr[5](1), arr[6](2), arr[7](5), arr[8](8), arr[9](10)\"\n              \"]\"),\n      njs_str(\"2,2,6,10,4,6,8,12,16,19\") },\n\n    { njs_str(\"var arr = [];\"\n              \"\"\n              \"for (let i = 0; i < 10; i++) {\"\n              \"    arr.push( (n) => {i += n; return i} );\"\n              \"}\"\n              \"\"\n              \"[\"\n              \"    arr[0](2), arr[1](1), arr[2](4), arr[3](7), arr[4](0),\"\n              \"    arr[5](1), arr[6](2), arr[7](5), arr[8](8), arr[9](10)\"\n              \"]\"),\n      njs_str(\"2,2,6,10,4,6,8,12,16,19\") },\n\n    { njs_str(\"for (let i = 0; i < 1; i++) {\"\n              \"    let i = i + 2;\"\n              \"}\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let arr = [], res = [];\"\n              \"for (let i = 0, f = function() { return i }; i < 5; i++) {\"\n              \"    arr.push(f);\"\n              \"}\"\n              \"for (let i = 0; i < 5; i++) {\"\n              \"    res.push(arr[i]());\"\n              \"} res\"),\n      njs_str(\"0,0,0,0,0\") },\n\n    { njs_str(\"let arr = [], res = [];\"\n              \"for (let i = 0; arr.push(() => i), i < 10; i++) {}\"\n              \"for (let k = 0; k < 10; k++) {res.push(arr[k]())}\"\n              \"res\"),\n      njs_str(\"0,1,2,3,4,5,6,7,8,9\") },\n\n    { njs_str(\"let res = [];\"\n              \"for (let n in [1,2,3]) {res.push(n)}\"\n              \"res\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"let arr = [], res = [];\"\n              \"\"\n              \"for (let n in [1,2,3]) {\"\n              \"    arr.push(() => n);\"\n              \"}\"\n              \"\"\n              \"for (let n in arr) {\"\n              \"    res.push(arr[n]());\"\n              \"}\"\n              \"res\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"let arr = [];\"\n              \"\"\n              \"for (let n in [1,2,3]) {\"\n              \"    let n = 1;\"\n              \"    arr.push(n);\"\n              \"}\"\n              \"arr\"),\n      njs_str(\"1,1,1\") },\n\n    { njs_str(\"for (let n in [1,2,3]) {\"\n              \"    let n = n + 1;\"\n              \"}\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"for (let n in [1,2,3]) {}\"\n              \"n\"),\n      njs_str(\"ReferenceError: \\\"n\\\" is not defined\") },\n\n    { njs_str(\"for (let n in [1,n,3]) {}\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"(function() {\"\n              \"function f() {return x + 1}\"\n              \"function abc() {f()};\"\n              \"abc();\"\n              \"let x;\"\n              \"}())\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"function func() {var x = 1; {let x = x + 1} } func()\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"if (false) let x = 1\"),\n      njs_str(\"SyntaxError: let declaration cannot appear in a single-statement context in 1\") },\n\n    { njs_str(\"while (false) let x = 1\"),\n      njs_str(\"SyntaxError: let declaration cannot appear in a single-statement context in 1\") },\n\n    { njs_str(\"for (;;) let x = 1\"),\n      njs_str(\"SyntaxError: let declaration cannot appear in a single-statement context in 1\") },\n\n    { njs_str(\"try {} catch (e) {let e}\"),\n      njs_str(\"SyntaxError: \\\"e\\\" has already been declared in 1\") },\n\n    { njs_str(\"let arr = [], x = 2;\"\n              \"switch(true) {default: let x = 1; arr.push(x)}\"\n              \"arr.push(x); arr\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"switch(true) {case false: let x = 1; default: x = 2}\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let res;\"\n              \"switch(true) {case true: let x = 1; default: x = 2; res = x} res\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"let null\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"null\\\" in 1\") },\n\n    { njs_str(\"let continue\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"continue\\\" in 1\") },\n\n    { njs_str(\"let undefined\"),\n      njs_str(\"SyntaxError: \\\"undefined\\\" has already been declared in 1\") },\n\n    { njs_str(\"let a = 1; globalThis.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"if (false) {x = 2} else {x = 1} let x;\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let let\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"let\\\" in 1\") },\n\n    { njs_str(\"let null\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"null\\\" in 1\") },\n\n    { njs_str(\"function let() {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"let\\\" in 1\") },\n\n    { njs_str(\"function static() {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"static\\\" in 1\") },\n\n    /* const */\n\n    { njs_str(\"const x\"),\n      njs_str(\"SyntaxError: missing initializer in const declaration\") },\n\n    { njs_str(\"const x = 1; x\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"const x = 1; x = 1\"),\n      njs_str(\"TypeError: assignment to constant variable\") },\n\n    { njs_str(\"function abc() {const x}\"),\n      njs_str(\"SyntaxError: missing initializer in const declaration\") },\n\n    { njs_str(\"const x = [123]; x\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"const x = () => x; x()\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"const x = (() => x)()\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"x; const x = 123\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"const x = x + 123\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"const x; var x\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"const x; let x\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"let x; const x\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"const x = 1; function x() {}\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"function x() {} const x = 1\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"function x() {const x; var x}\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"function x() {var x; const x}\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"const x = function f() {const f = 1}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"let res; const x = 1;\"\n              \"{const x = 2; res = x}\"\n              \"[x, res]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"let res; const x = 1;\"\n              \"if (true) {const x = 2; res = x}\"\n              \"[x, res]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"function func() {return x}\"\n              \"const x = 123;\"\n              \"func()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function func() {return x}\"\n              \"func();\"\n              \"const x = 123\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"function func() {return () => x}\"\n              \"const x = 123;\"\n              \"func()()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function func() {return () => x++}\"\n              \"const x = 123;\"\n              \"func()()\"),\n      njs_str(\"TypeError: assignment to constant variable\") },\n\n    { njs_str(\"for (const i = 0; i < 1; i++) {}\"),\n      njs_str(\"TypeError: assignment to constant variable\") },\n\n    { njs_str(\"let res = [];\"\n              \"for (const n in [1,2,3]) {res.push(n)}\"\n              \"res\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"let arr = [], res = [];\"\n              \"\"\n              \"for (const n in [1,2,3]) {\"\n              \"    arr.push(() => n);\"\n              \"}\"\n              \"\"\n              \"for (let n in arr) {\"\n              \"    res.push(arr[n]());\"\n              \"}\"\n              \"res\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"let arr = [];\"\n              \"\"\n              \"for (const n in [1,2,3]) {\"\n              \"    let n = 1;\"\n              \"    arr.push(n);\"\n              \"}\"\n              \"arr\"),\n      njs_str(\"1,1,1\") },\n\n    { njs_str(\"for (const n in [1,2,3]) {\"\n              \"    let n = n + 1;\"\n              \"}\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"for (const n in [1,2,3]) {}\"\n              \"n\"),\n      njs_str(\"ReferenceError: \\\"n\\\" is not defined\") },\n\n    { njs_str(\"for (const n in [1,n,3]) {}\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"(function() {\"\n              \"function f() {return x + 1}\"\n              \"function abc() {f()};\"\n              \"abc();\"\n              \"const x = 1;\"\n              \"}())\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"if (false) const x = 1\"),\n      njs_str(\"SyntaxError: const declaration cannot appear in a single-statement context in 1\") },\n\n    { njs_str(\"while (false) const x = 1\"),\n      njs_str(\"SyntaxError: const declaration cannot appear in a single-statement context in 1\") },\n\n    { njs_str(\"for (;;) const x = 1\"),\n      njs_str(\"SyntaxError: const declaration cannot appear in a single-statement context in 1\") },\n\n    { njs_str(\"try {} catch (e) {const e = 1}\"),\n      njs_str(\"SyntaxError: \\\"e\\\" has already been declared in 1\") },\n\n    { njs_str(\"let arr = []; const x = 2;\"\n              \"switch(true) {default: const x = 1; arr.push(x)}\"\n              \"arr.push(x); arr\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"let res;\"\n              \"switch(true) {case true: const x = 1; default: x = 2; res = x} res\"),\n      njs_str(\"TypeError: assignment to constant variable\") },\n\n    { njs_str(\"const null\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"null\\\" in 1\") },\n\n    { njs_str(\"const continue\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"continue\\\" in 1\") },\n\n    { njs_str(\"const undefined\"),\n      njs_str(\"SyntaxError: \\\"undefined\\\" has already been declared in 1\") },\n\n    { njs_str(\"const a = 1; globalThis.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"if (false) {x = 2} else {x = 1} const x = 0\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"const const\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"const\\\" in 1\") },\n\n    /* Async/Await */\n\n    { njs_str(\"async function f() {}; f.prototype\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"async function f() {await 1}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() {await 1}\"),\n      njs_str(\"SyntaxError: await is only valid in async functions in 1\") },\n\n    { njs_str(\"async function f() {function a() {await 1}}\"),\n      njs_str(\"SyntaxError: await is only valid in async functions in 1\") },\n\n    { njs_str(\"async function f() {() => {await 1}}\"),\n      njs_str(\"SyntaxError: await is only valid in async functions in 1\") },\n\n    { njs_str(\"function f() {async () => {await 1}}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"let f = async () => {await 1}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"let f = () => {await 1}\"),\n      njs_str(\"SyntaxError: await is only valid in async functions in 1\") },\n\n    { njs_str(\"(async function() {await 1})\"),\n      njs_str(\"[object AsyncFunction]\") },\n\n    { njs_str(\"(function() {await 1})\"),\n      njs_str(\"SyntaxError: await is only valid in async functions in 1\") },\n\n    { njs_str(\"let ctor = Object.getPrototypeOf(async function(){}).constructor;\"\n              \"ctor\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"let ctor = Object.getPrototypeOf(async function(){}).constructor;\"\n              \"ctor()\"),\n      njs_str(\"[object AsyncFunction]\") },\n\n    { njs_str(\"let ctor = Object.getPrototypeOf(async function(){}).constructor;\"\n              \"new ctor();\"),\n      njs_str(\"[object AsyncFunction]\") },\n\n    { njs_str(\"let f = new Function('x', 'await 1; return x'); f(1)\"),\n      njs_str(\"SyntaxError: await is only valid in async functions in runtime:1\") },\n\n    { njs_str(\"new AsyncFunction()\"),\n      njs_str(\"ReferenceError: \\\"AsyncFunction\\\" is not defined\") },\n\n    { njs_str(\"(async function() {console.log(await 111)})\"),\n      njs_str(\"SyntaxError: await in arguments not supported in 1\") },\n\n    { njs_str(\"(async function() {console.log('Number: ' + await 111)})\"),\n      njs_str(\"SyntaxError: await in arguments not supported in 1\") },\n\n    { njs_str(\"function f(a) {}\"\n              \"(async function() {f(await 111)})\"),\n      njs_str(\"SyntaxError: await in arguments not supported in 1\") },\n\n    { njs_str(\"async () => [await x(1)(),]; async () => [await x(1)()]\"),\n      njs_str(\"[object AsyncFunction]\") },\n\n    { njs_str(\"function f(a, b, c) {}\"\n              \"(async function() {f(1, 'a', await 111)})\"),\n      njs_str(\"SyntaxError: await in arguments not supported in 1\") },\n\n    { njs_str(\"function f(a) {}\"\n              \"(async function() {f('Number: ' + await 111)})\"),\n      njs_str(\"SyntaxError: await in arguments not supported in 1\") },\n\n    { njs_str(\"async function af() {await encrypt({},}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"let x = {async af() {await Promise.resolve(1)}}; x.af\"),\n      njs_str(\"[object AsyncFunction]\") },\n\n    { njs_str(\"let name = 'af', x = {async [name]() {await Promise.resolve(1)}}; x.af\"),\n      njs_str(\"[object AsyncFunction]\") },\n};\n\n\nstatic njs_unit_test_t  njs_safe_test[] =\n{\n    { njs_str(\"(new Function('return this'))() === globalThis\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Function('return this;'))() === globalThis\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Function('return    this  '))() === globalThis\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Function('return thi'))()\"),\n      njs_str(\"TypeError: function constructor is disabled in \\\"safe\\\" mode\") },\n\n    { njs_str(\"(new Function('){return 1337})//', 'return this'))()\"),\n      njs_str(\"TypeError: function constructor is disabled in \\\"safe\\\" mode\") },\n};\n\n\nstatic njs_unit_test_t  njs_denormals_test[] =\n{\n    { njs_str(\"2.2250738585072014e-308\"),\n      njs_str(\"2.2250738585072014e-308\") },\n\n#ifndef NJS_SUNC\n    { njs_str(\"2.2250738585072014E-308.toString(2) == ('0.' + '0'.repeat(1021) + '1')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number('2.2250738585072014E-323')\"),\n      njs_str(\"2.5e-323\") },\n\n    { njs_str(\"Number('2.2250738585072014E-323') + 0\"),\n      njs_str(\"2.5e-323\") },\n\n    /* Smallest positive double (next_double(0)). */\n    { njs_str(\"5E-324.toString(36) === '0.' + '0'.repeat(207) + '3'\"),\n      njs_str(\"true\") },\n\n    /* Maximum fraction length. */\n    { njs_str(\"2.2250738585072014E-323.toString(2) == ('0.' + '0'.repeat(1071) + '101')\"),\n      njs_str(\"true\") },\n\n    /* Denormals. */\n    { njs_str(\"var zeros = count => '0'.repeat(count);\"\n              \"[\"\n              \"  [1.8858070859709815e-308, `0.${zeros(1022)}1101100011110111011100000100011001111101110001010111`],\"\n              // FIXME: \"  [Number.MIN_VALUE, `0.${zeros(1073)}1`]\"\n              \"  [-5.06631661953108e-309, `-0.${zeros(1024)}11101001001010000001101111010101011111111011010111`],\"\n              \"  [6.22574126804e-313, `0.${zeros(1037)}11101010101101100111000110100111001`],\"\n              \"  [-4e-323, `-0.${zeros(1070)}1`],\"\n              \"].every(t=>t[0].toString(2) === t[1])\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"4.94065645841246544176568792868e-324.toExponential()\"),\n      njs_str(\"5e-324\") },\n\n    { njs_str(\"4.94065645841246544176568792868e-324.toExponential(10)\"),\n      njs_str(\"4.9406564584e-324\") },\n#endif\n\n};\n\n\nstatic njs_unit_test_t  njs_disabled_denormals_test[] =\n{\n    { njs_str(\"Number('2.2250738585072014E-323')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Number('2.2250738585072014E-323') + 0\"),\n      njs_str(\"0\") },\n\n    /* Smallest positive double (next_double(0)). */\n    { njs_str(\"5E-324.toString(36)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"2.2250738585072014E-323.toString(2)\"),\n      njs_str(\"0\") },\n\n    /* Smallest normal double. */\n\n    { njs_str(\"2.2250738585072014e-308\"),\n      njs_str(\"2.2250738585072014e-308\") },\n\n    { njs_str(\"2.2250738585072014e-308/2\"),\n      njs_str(\"0\") },\n\n    /* Denormals. */\n    { njs_str(\"[\"\n              \"1.8858070859709815e-308,\"\n              \"-5.06631661953108e-309,\"\n              \"6.22574126804e-313,\"\n              \"-4e-323,\"\n              \"].map(v=>v.toString(2))\"),\n      njs_str(\"0,0,0,0\") },\n};\n\n\nstatic njs_unit_test_t  njs_fs_module_test[] =\n{\n    { njs_str(\"var fs = require('fs'); typeof fs\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var fs = require('fs'); Object.isExtensible(fs)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"require('fs') === require('fs')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"require('fs').a = 1; require('fs').a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"var path = Buffer.from('/broken'); path[3] = 0;\"\n              \"fs.readFile(path)\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a Buffer without null bytes\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path')\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path', 'utf8')\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path', {flag:'xx'})\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path', {flag:'xx'}, 1)\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path', {flag:'xx'}, function () {})\"),\n      njs_str(\"TypeError: Unknown file open flags: \\\"xx\\\"\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path', {encoding:'ascii'}, function () {})\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path', 'ascii', function () {})\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    /* require('fs').readFileSync() */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFileSync()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFileSync({})\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFileSync('/njs_unknown_path', {flag:'xx'})\"),\n      njs_str(\"TypeError: Unknown file open flags: \\\"xx\\\"\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFileSync(Buffer.from('/njs_unknown_path'), {encoding:'ascii'})\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFileSync('/njs_unknown_path', 'ascii')\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFileSync('/njs_unknown_path', true)\"),\n      njs_str(\"TypeError: Unknown options type: \\\"boolean\\\" (a string or object required)\") },\n\n\n    /* require('fs').writeFile() */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile({}, '', function () {})\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path')\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '')\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '', undefined)\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '', 'utf8')\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '', {flag:'xx'}, function () {})\"),\n      njs_str(\"TypeError: Unknown file open flags: \\\"xx\\\"\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '', {encoding:'ascii'}, function () {})\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '', 'ascii', function () {})\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '', true, function () {})\"),\n      njs_str(\"TypeError: Unknown options type: \\\"boolean\\\" (a string or object required)\") },\n\n    /* require('fs').writeFileSync() */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFileSync()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFileSync({}, '')\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFileSync('/njs_unknown_path', '', {flag:'xx'})\"),\n      njs_str(\"TypeError: Unknown file open flags: \\\"xx\\\"\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFileSync('/njs_unknown_path', '', {encoding:'ascii'})\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFileSync('/njs_unknown_path', '', 'ascii')\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFileSync('/njs_unknown_path', '', true)\"),\n      njs_str(\"TypeError: Unknown options type: \\\"boolean\\\" (a string or object required)\") },\n\n    /* require('fs').renameSync() */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.renameSync()\"),\n      njs_str(\"TypeError: \\\"oldPath\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.renameSync('/njs_unknown_path')\"),\n      njs_str(\"TypeError: \\\"newPath\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"[undefined, null, false, NaN, Symbol(), {}, Object('/njs_unknown_path')]\"\n              \".map((x) => { try { fs.renameSync(x, '/njs_unknown_path'); } \"\n              \"              catch (e) { return (e instanceof TypeError); } })\"\n              \".every((x) => x === true)\"),\n      njs_str(\"true\")},\n\n    { njs_str(\"var fs = require('fs');\"\n              \"[undefined, null, false, NaN, Symbol(), {}, Object('/njs_unknown_path')]\"\n              \".map((x) => { try { fs.renameSync('/njs_unknown_path', x); } \"\n              \"              catch (e) { return (e instanceof TypeError); } })\"\n              \".every((x) => x === true)\"),\n      njs_str(\"true\")},\n\n    /* require('fs').access() */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.access()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.access('/njs_unknown_path')\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.access('/njs_unknown_path', fs.constants.F_OK)\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.access('/njs_unknown_path', 'fail', function () {})\"),\n      njs_str(\"TypeError: \\\"mode\\\" must be a number\") },\n\n    /* require('fs').accessSync() */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.accessSync()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.accessSync('/njs_unknown_path', 'fail')\"),\n      njs_str(\"TypeError: \\\"mode\\\" must be a number\") },\n\n    { njs_str(\"var \"\n              \"fs = require('fs'),\"\n              \"func = [\"\n                \"'access',\"\n                \"'accessSync',\"\n                \"'readFile',\"\n                \"'readFileSync',\"\n                \"'writeFile',\"\n                \"'writeFileSync',\"\n                \"'appendFile',\"\n                \"'appendFileSync',\"\n                \"'rename',\"\n                \"'renameSync',\"\n                \"'symlink',\"\n                \"'symlinkSync',\"\n                \"'unlink',\"\n                \"'unlinkSync',\"\n                \"'realpath',\"\n                \"'realpathSync',\"\n                \"'mkdir',\"\n                \"'mkdirSync',\"\n                \"'rmdir',\"\n                \"'rmdirSync',\"\n                \"'readdir',\"\n                \"'readdirSync',\"\n              \"],\"\n              \"test = (fname) =>\"\n                \"[undefined, null, false, NaN, Symbol(), {}, Object('/njs_unknown_path')]\"\n                \".map((x) => { try { fs[fname](x); } \"\n                \"              catch (e) { return (e instanceof TypeError); } })\"\n                \".every((x) => x === true);\"\n              \"func.map(test).every((x) => x)\"),\n      njs_str(\"true\")},\n\n    /* require('fs').promises */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"typeof fs.promises\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var \"\n              \"fs = require('fs').promises,\"\n              \"func = [\"\n                \"'access',\"\n                \"'readFile',\"\n                \"'writeFile',\"\n                \"'appendFile',\"\n                \"'rename',\"\n                \"'symlink',\"\n                \"'unlink',\"\n                \"'realpath',\"\n                \"'mkdir',\"\n                \"'rmdir',\"\n                \"'readdir',\"\n              \"];\"\n              \"func.every((x) => typeof fs[x] == 'function')\"),\n      njs_str(\"true\")},\n\n    /* require('fs').constants */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"typeof fs.constants\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var \"\n              \"fsc = require('fs').constants,\"\n              \"items = [\"\n                \"'F_OK',\"\n                \"'R_OK',\"\n                \"'W_OK',\"\n                \"'X_OK',\"\n              \"];\"\n              \"items.every((x) => typeof fsc[x] == 'number')\"),\n      njs_str(\"true\")},\n\n    /* require('fs').Dirent */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"typeof fs.Dirent\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.Dirent('file', 123)\"),\n      njs_str(\"TypeError: the Dirent constructor must be called with new\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"var e = new fs.Dirent('file', 123); [e.name, e.type]\"),\n      njs_str(\"file,123\") },\n\n    { njs_str(\"var \"\n              \"fs = require('fs'),\"\n              \"e = new fs.Dirent('file', 0),\"\n              \"func = [\"\n                \"'isDirectory',\"\n                \"'isFile',\"\n                \"'isBlockDevice',\"\n                \"'isCharacterDevice',\"\n                \"'isSymbolicLink',\"\n                \"'isFIFO',\"\n                \"'isSocket',\"\n              \"];\"\n              \"func.every((x) => typeof e[x] == 'function')\"),\n      njs_str(\"true\")},\n};\n\n\nstatic njs_unit_test_t  njs_crypto_module_test[] =\n{\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"[Object.prototype.toString.call(h), njs.dump(h),h]\"),\n      njs_str(\"[object Hash],Hash {},[object Hash]\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"var Hash = h.constructor; \"\n              \"Hash('sha1').update('AB').digest('hex')\"),\n      njs_str(\"06d945942aa26a61be18c3e22bf19bbca8dd2b5d\") },\n\n    { njs_str(\"var hash = require('crypto').createHash.bind(undefined, 'md5');\"\n              \"['hex', 'base64', 'base64url'].map(e => {\"\n              \"   var h = hash().update('AB').digest().toString(e);\"\n              \"   var h2 = hash().update(Buffer.from('XABX').subarray(1,3)).digest(e);\"\n              \"   var h3 = hash().update('A').update('B').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest().toString($e):$h != digest($e):$h2`)};\"\n              \"   if (h !== h3) {throw new Error(`digest().toString($e):$h != update('A').update('B').digest($e):$h3`)};\"\n              \"   return h;\"\n              \"})\"),\n      njs_str(\"b86fc6b051f63d73de262d4c34e3a0a9,\"\n              \"uG/GsFH2PXPeJi1MNOOgqQ==,\"\n              \"uG_GsFH2PXPeJi1MNOOgqQ\") },\n\n    { njs_str(\"var hash = require('crypto').createHash.bind(undefined, 'sha1');\"\n              \"['hex', 'base64', 'base64url'].map(e => {\"\n              \"   var h = hash().update('4142', 'hex').digest().toString(e);\"\n              \"   var h2 = hash().update(Buffer.from('XABX').subarray(1,3)).digest(e);\"\n              \"   var h3 = hash().update('A').update('B').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest().toString($e):$h != digest($e):$h2`)};\"\n              \"   if (h !== h3) {throw new Error(`digest().toString($e):$h != update('A').update('B').digest($e):$h3`)};\"\n              \"   return h;\"\n              \"})\"),\n      njs_str(\"06d945942aa26a61be18c3e22bf19bbca8dd2b5d,\"\n              \"BtlFlCqiamG+GMPiK/GbvKjdK10=,\"\n              \"BtlFlCqiamG-GMPiK_GbvKjdK10\") },\n\n    { njs_str(\"var hash = require('crypto').createHash.bind(undefined, 'sha1');\"\n              \"['hex', 'base64', 'base64url'].every(e => {\"\n              \"   var h = hash().digest(e);\"\n              \"   var h2 = hash().update('').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest($e):$h != update('').digest($e):$h2`)};\"\n              \"   return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var hash = require('crypto').createHash.bind(undefined, 'sha1');\"\n              \"[\"\n              \" ['AB'],\"\n              \" ['4142', 'hex'],\"\n              \" ['QUI=', 'base64'],\"\n              \" ['QUI', 'base64url']\"\n              \"].every(args => {\"\n              \"        return hash().update(args[0], args[1]).digest('hex') === '06d945942aa26a61be18c3e22bf19bbca8dd2b5d';\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var hash = require('crypto').createHash.bind(undefined, 'sha256');\"\n              \"['hex', 'base64', 'base64url'].map(e => {\"\n              \"   var h = hash().update('AB').digest().toString(e);\"\n              \"   var h2 = hash().update(Buffer.from('XABX').subarray(1,3)).digest(e);\"\n              \"   var h3 = hash().update('A').update('B').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest().toString($e):$h != digest($e):$h2`)};\"\n              \"   if (h !== h3) {throw new Error(`digest().toString($e):$h != update('A').update('B').digest($e):$h3`)};\"\n              \"   return h;\"\n              \"})\"),\n      njs_str(\"38164fbd17603d73f696b8b4d72664d735bb6a7c88577687fd2ae33fd6964153,\"\n              \"OBZPvRdgPXP2lri01yZk1zW7anyIV3aH/SrjP9aWQVM=,\"\n              \"OBZPvRdgPXP2lri01yZk1zW7anyIV3aH_SrjP9aWQVM\") },\n\n    { njs_str(\"var hash = require('crypto').createHash;\"\n              \"njs.dump(['', 'abc'.repeat(100)].map(v => {\"\n              \"    return ['md5', 'sha1', 'sha256'].map(h => {\"\n              \"        return hash(h).update(v).digest('hex');\"\n              \"     })\"\n              \"}))\"),\n      njs_str(\"[['d41d8cd98f00b204e9800998ecf8427e',\"\n              \"'da39a3ee5e6b4b0d3255bfef95601890afd80709',\"\n              \"'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855'],\"\n              \"['f571117acbd8153c8dc3c81b8817773a',\"\n              \"'c95466320eaae6d19ee314ae4f135b12d45ced9a',\"\n              \"'d9f5aeb06abebb3be3f38adec9a2e3b94228d52193be923eb4e24c9b56ee0930']]\") },\n\n    { njs_str(\"var h = require('crypto').createHash()\"),\n      njs_str(\"TypeError: algorithm must be a string\") },\n\n    { njs_str(\"var h = require('crypto').createHash([])\"),\n      njs_str(\"TypeError: algorithm must be a string\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha512')\"),\n      njs_str(\"TypeError: not supported algorithm: \\\"sha512\\\"\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"h.update()\"),\n      njs_str(\"TypeError: data argument \\\"undefined\\\" is not a string or Buffer-like object\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"h.update({})\"),\n      njs_str(\"TypeError: data argument \\\"object\\\" is not a string or Buffer-like object\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"h.update('A').digest('latin1')\"),\n      njs_str(\"TypeError: Unknown digest encoding: \\\"latin1\\\"\") },\n\n    { njs_str(\"require('crypto').createHash('sha1').digest() instanceof Buffer\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"h.update('A').digest('hex'); h.digest('hex')\"),\n      njs_str(\"Error: Digest already called\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"h.update('A').digest('hex'); h.update('B')\"),\n      njs_str(\"Error: Digest already called\") },\n\n    { njs_str(\"typeof require('crypto').createHash('md5')\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha1', '');\"\n              \"[Object.prototype.toString.call(h), njs.dump(h),h]\"),\n      njs_str(\"[object Hmac],Hmac {},[object Hmac]\") },\n\n    { njs_str(\"var hmac = require('crypto').createHmac.bind(undefined, 'md5', '');\"\n              \"['hex', 'base64', 'base64url'].map(e => {\"\n              \"   var h = hmac().update('AB').digest().toString(e);\"\n              \"   var h2 = hmac().update(Buffer.from('XABX').subarray(1,3)).digest(e);\"\n              \"   var h3 = hmac().update('A').update('B').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest().toString($e):$h != digest($e):$h2`)};\"\n              \"   if (h !== h3) {throw new Error(`digest().toString($e):$h != update('A').update('B').digest($e):$h3`)};\"\n              \"   return h;\"\n              \"})\"),\n      njs_str(\"9e0e9e545ef63d41dfb653daecf8ebc7,\"\n              \"ng6eVF72PUHftlPa7Pjrxw==,\"\n              \"ng6eVF72PUHftlPa7Pjrxw\") },\n\n    { njs_str(\"var hmac = require('crypto').createHmac.bind(undefined, 'sha1', '');\"\n              \"['hex', 'base64', 'base64url'].map(e => {\"\n              \"   var h = hmac().update('AB').digest().toString(e);\"\n              \"   var h2 = hmac().update(Buffer.from('XABX').subarray(1,3)).digest(e);\"\n              \"   var h3 = hmac().update('A').update('B').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest().toString($e):$h != digest($e):$h2`)};\"\n              \"   if (h !== h3) {throw new Error(`digest().toString($e):$h != update('A').update('B').digest($e):$h3`)};\"\n              \"   return h;\"\n              \"})\"),\n      njs_str(\"d32c0b6637cc2dfe4670f3fe48ef4434123c4810,\"\n              \"0ywLZjfMLf5GcPP+SO9ENBI8SBA=,\"\n              \"0ywLZjfMLf5GcPP-SO9ENBI8SBA\") },\n\n    { njs_str(\"var hash = require('crypto').createHmac.bind(undefined, 'sha1', '');\"\n              \"[\"\n              \" ['AB'],\"\n              \" ['4142', 'hex'],\"\n              \" ['QUI=', 'base64'],\"\n              \" ['QUI', 'base64url']\"\n              \"].every(args => {\"\n              \"        return hash().update(args[0], args[1]).digest('hex') === 'd32c0b6637cc2dfe4670f3fe48ef4434123c4810';\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var hmac = require('crypto').createHmac.bind(undefined, 'sha256', '');\"\n              \"['hex', 'base64', 'base64url'].map(e => {\"\n              \"   var h = hmac().update('AB').digest().toString(e);\"\n              \"   var h2 = hmac().update(Buffer.from('AB')).digest(e);\"\n              \"   var h3 = hmac().update('A').update('B').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest().toString($e):$h != digest($e):$h2`)};\"\n              \"   if (h !== h3) {throw new Error(`digest().toString($e):$h != update('A').update('B').digest($e):$h3`)};\"\n              \"   return h;\"\n              \"})\"),\n      njs_str(\"d53400095496267cf02e5dbd4b0bf9fbfb5f36f311ea7d9809af5487421743e3,\"\n              \"1TQACVSWJnzwLl29Swv5+/tfNvMR6n2YCa9Uh0IXQ+M=,\"\n              \"1TQACVSWJnzwLl29Swv5-_tfNvMR6n2YCa9Uh0IXQ-M\") },\n\n    { njs_str(\"var hmac = require('crypto').createHmac;\"\n              \"njs.dump(['', 'abc'.repeat(100)].map(v => {\"\n              \"    return ['md5', 'sha1', 'sha256'].map(h => {\"\n              \"        return hmac(h, Buffer.from('secret')).update(v).digest('hex');\"\n              \"     })\"\n              \"}))\"),\n      njs_str(\"[['5c8db03f04cec0f43bcb060023914190',\"\n              \"'25af6174a0fcecc4d346680a72b7ce644b9a88e8',\"\n              \"'f9e66e179b6747ae54108f82f8ade8b3c25d76fd30afde6c395822c530196169'],\"\n              \"['91eb74a225cdd3bbfccc34396c6e3ac5',\"\n              \"'0aac71e3a813a7acc4a809cfdedb2ecba04ffc5e',\"\n              \"'8660d2d51d6f20f61d5aadfb6c43df7fd05fc2fc4967d8aec1846f3d9ec03987']]\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha1', '');\"\n              \"var Hmac = h.constructor; \"\n              \"Hmac('sha1', '').digest('hex')\"),\n      njs_str(\"fbdb1d1b18aa6c08324b7d64b71fb76370690e1d\") },\n\n    { njs_str(\"require('crypto').createHmac('sha1', '').digest() instanceof Buffer\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha256', 'A'.repeat(64));\"\n              \"h.update('AB').digest('hex')\"),\n      njs_str(\"ee9dce43b12eb3e865614ad9c1a8d4fad4b6eac2b64647bd24cd192888d3f367\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha256', 'A'.repeat(100));\"\n              \"h.update('AB').digest('hex')\"),\n      njs_str(\"5647b6c429701ff512f0f18232b4507065d2376ca8899a816a0a6e721bf8ddcc\") },\n\n    { njs_str(\"var h = require('crypto').createHmac()\"),\n      njs_str(\"TypeError: algorithm must be a string\") },\n\n    { njs_str(\"var h = require('crypto').createHmac([])\"),\n      njs_str(\"TypeError: algorithm must be a string\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha512', '')\"),\n      njs_str(\"TypeError: not supported algorithm: \\\"sha512\\\"\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha1', [])\"),\n      njs_str(\"TypeError: key argument \\\"array\\\" is not a string or Buffer-like object\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha1', 'secret key');\"\n              \"h.update('A').digest('hex'); h.digest('hex')\"),\n      njs_str(\"Error: Digest already called\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha1', 'secret key');\"\n              \"h.update('A').digest('hex'); h.update('B')\"),\n      njs_str(\"Error: Digest already called\") },\n\n    { njs_str(\"typeof require('crypto').createHmac('md5', 'a')\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var cr = require('crypto'); var h = cr.createHash('sha1');\"\n              \"h.update.call(cr.createHmac('sha1', 's'), '')\"),\n      njs_str(\"TypeError: \\\"this\\\" is not a hash object\") },\n};\n\nstatic njs_unit_test_t  njs_querystring_module_test[] =\n{\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:''}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('&baz=fuz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('&&&&&baz=fuz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('=fuz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{:'fuz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('=fuz=');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{:'fuz='}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('===fu=z');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{:'==fu=z'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&baz=tax');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:['fuz','tax']}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('freespace');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{freespace:''}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('name&value=12');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{name:'',value:'12'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', 'fuz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'',&muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', '');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', null);\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', undefined);\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz123muz=tax', 123);\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz\u03b1\u03b1\u03b1muz=tax', '\u03b1\u03b1\u03b1');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', '=');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'',fuz&muz:'',tax:''}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', null, 'fuz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz=:'',muz=tax:''}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', null, '&');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz=fuz:'',muz=tax:''}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz123fuz&muz123tax', null, 123);\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz\u03b1\u03b1\u03b1fuz&muz\u03b1\u03b1\u03b1tax', null, '\u03b1\u03b1\u03b1');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', null, null, {maxKeys: 1});\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz'}\") },\n\n    { njs_str(\"var qs = require('querystring'); var out = [];\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', null, null, {decodeURIComponent: (key) => {out.push(key)}});\"\n              \"out.join('; ');\"),\n      njs_str(\"baz; fuz; muz; tax\") },\n\n    { njs_str(\"var qs = require('querystring'); var i = 0;\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', null, null, {decodeURIComponent: (key) => '\u03b1' + i++});\"\n              \"njs.dump(obj);\"),\n      njs_str(\"{\u03b10:'\u03b11',\u03b12:'\u03b13'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.parse('baz=fuz&muz=tax', null, null, {decodeURIComponent: 123});\"),\n      njs_str(\"TypeError: option decodeURIComponent is not a function\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.unescape = 123;\"\n              \"qs.parse('baz=fuz&muz=tax');\"),\n    njs_str(\"TypeError: QueryString.unescape is not a function\") },\n\n    { njs_str(\"var qs = require('querystring'); var out = [];\"\n              \"qs.unescape = (key) => {out.push(key)};\"\n              \"qs.parse('baz=fuz&muz=tax');\"\n              \"out.join('; ');\"),\n      njs_str(\"baz; fuz; muz; tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('ba%32z=f%32uz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{ba2z:'f2uz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('ba%32z=f%32uz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{ba2z:'f2uz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('ba%F0%9F%92%A9z=f%F0%9F%92%A9uz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{ba\ud83d\udca9z:'f\ud83d\udca9uz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('======');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{:'====='}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=%F0%9F%A9');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'\ufffd'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1%\\x00\\x01\\x02\u03b1\u03b1\u03b1\u03b1');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1%\\\\u0000\\\\u0001\\\\u0002\u03b1\u03b1\u03b1\u03b1'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=%F6\u03b1');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'\ufffd\u03b1'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=%F6');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'\ufffd'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=%FG');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'%FG'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=%F');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'%F'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=%');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'%'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('ba+z=f+uz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{ba z:'f uz'}\") },\n\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.parse('X='+'\u03b1'.repeat(33)).X.length\"),\n      njs_str(\"33\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var x = qs.parse('X='+'\u03b11'.repeat(33)).X;\"\n              \"[x.length, x[33], x[34]]\"),\n      njs_str(\"66,1,\u03b1\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var s = qs.parse('X='+String.bytesFrom(Array(16).fill(0x9d))).X;\"\n              \"[s.length, s.toUTF8().length, s[15]]\"),\n      njs_str(\"16,48,\ufffd\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz'})\"),\n      njs_str(\"baz=fuz\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'})\"),\n      njs_str(\"baz=fuz&muz=tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'ba\u03b1z': 'f\u03b1uz', 'mu\u03b1z': 't\u03b1ax'});\"),\n      njs_str(\"ba%CE%B1z=f%CE%B1uz&mu%CE%B1z=t%CE%B1ax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': ['fuz', 'tax']})\"),\n      njs_str(\"baz=fuz&baz=tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              njs_declare_sparse_array(\"arr\", 2)\n              \"arr[0] = 0; arr[1] = 1.5;\"\n              \"qs.stringify({'baz': arr})\"),\n      njs_str(\"baz=0&baz=1.5\") },\n\n    { njs_str(\"var qs = require('querystring'); var out = [];\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, null, null, {encodeURIComponent: (key) => {out.push(key)}});\"\n              \"out.join('; ')\"),\n      njs_str(\"baz; fuz; muz; tax\") },\n\n    { njs_str(\"var qs = require('querystring'); \"\n              \"qs.stringify({a: 'b'}, null, null, \"\n              \"             {encodeURIComponent: () => String.bytesFrom([0x9d])})\"),\n      njs_str(\"TypeError: got non-UTF8 string from encoder\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, null, null, {encodeURIComponent: 123});\"\n              \"out.join('; ')\"),\n      njs_str(\"TypeError: option encodeURIComponent is not a function\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.escape = 123;\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'})\"),\n      njs_str(\"TypeError: QueryString.escape is not a function\") },\n\n    { njs_str(\"var qs = require('querystring'); var out = [];\"\n              \"qs.escape = (key) => {out.push(key)};\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'});\"\n              \"out.join('; ')\"),\n      njs_str(\"baz; fuz; muz; tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, '****')\"),\n      njs_str(\"baz=fuz****muz=tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, null, '^^^^')\"),\n      njs_str(\"baz^^^^fuz&muz^^^^tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = {A:'\u03b1'}; obj['\u03b4'] = 'D';\"\n              \"var s = qs.stringify(obj,'\u03b3=','&\u03b2'); [s, s.length]\"),\n      njs_str(\"A&\u03b2%CE%B1\u03b3=%CE%B4&\u03b2D,20\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, '', '')\"),\n      njs_str(\"baz=fuz&muz=tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, undefined, undefined)\"),\n      njs_str(\"baz=fuz&muz=tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, '?', '/')\"),\n      njs_str(\"baz/fuz?muz/tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify('123')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify(123)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({X: String.bytesFrom(Array(4).fill(0x9d))})\"),\n      njs_str(\"X=%9D%9D%9D%9D\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({X:{toString(){return 3}}})\"),\n      njs_str(\"X=\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({ name: undefined, age: 12 })\"),\n      njs_str(\"name=&age=12\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify(Object.create({ name: undefined, age: 12 }))\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([])\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify(['','',''])\"),\n      njs_str(\"0=&1=&2=\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([undefined, null, Symbol(), Object(0), Object('test'), Object(false),,,])\"),\n      njs_str(\"0=&1=&2=&3=&4=&5=\") },\n\n#if 0\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([NaN, Infinity, -Infinity, 2**69, 2**70])\"),\n      njs_str(\"0=&1=&2=&3=590295810358705700000&4=1.1805916207174113e%2B21\") },\n#else\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([NaN, Infinity, -Infinity, 2**69, 2**70])\"),\n      njs_str(\"0=&1=&2=&3=590295810358705700000&4=1.1805916207174114e%2B21\") },\n#endif\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([[1,2,3],[4,5,6]])\"),\n      njs_str(\"0=1&0=2&0=3&1=4&1=5&1=6\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([['a',,,],['b',,,]])\"),\n      njs_str(\"0=a&0=&0=&1=b&1=&1=\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([[,'a','b',,]])\"),\n      njs_str(\"0=&0=a&0=b&0=\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.escape('abc\u03b1\u03b1\u03b1\u03b1def')\"),\n      njs_str(\"abc%CE%B1%CE%B1%CE%B1%CE%B1def\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.unescape('abc%CE%B1%CE%B1%CE%B1%CE%B1def')\"),\n      njs_str(\"abc\u03b1\u03b1\u03b1\u03b1def\") },\n};\n\n\nstatic njs_unit_test_t  njs_buffer_module_test[] =\n{\n    { njs_str(\"new Buffer();\"),\n      njs_str(\"TypeError: Buffer is not a constructor\") },\n\n    { njs_str(\"var buf = Buffer.alloc();\"),\n      njs_str(\"TypeError: \\\"size\\\" argument must be of type number\") },\n\n    { njs_str(\"var buf = Buffer.alloc('best buffer');\"),\n      njs_str(\"TypeError: \\\"size\\\" argument must be of type number\") },\n\n    { njs_str(\"var buf = Buffer.alloc(-1);\"),\n      njs_str(\"RangeError: invalid size\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4); njs.dump(buf)\"),\n      njs_str(\"Buffer [0,0,0,0]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4, 88); buf\"),\n      njs_str(\"XXXX\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4, 945); njs.dump(buf)\"),\n      njs_str(\"Buffer [177,177,177,177]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4, -1); njs.dump(buf)\"),\n      njs_str(\"Buffer [255,255,255,255]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4, -1, 'utf-128'); njs.dump(buf)\"),\n      njs_str(\"Buffer [255,255,255,255]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(10, '\u03b1'); buf\"),\n      njs_str(\"\u03b1\u03b1\u03b1\u03b1\u03b1\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4, '\u03b1'); njs.dump(buf)\"),\n      njs_str(\"Buffer [206,177,206,177]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(2, '\u03b1\u03b1\u03b1\u03b1\u03b1'); njs.dump(buf)\"),\n      njs_str(\"Buffer [206,177]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(1, '\u03b1'); njs.dump(buf)\"),\n      njs_str(\"Buffer [206]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4, 'ZXZpbA==', 'base64'); buf\"),\n      njs_str(\"evil\") },\n\n    { njs_str(\"var buf = Buffer.alloc(8, 'ZXZpbA==', 'base64'); buf\"),\n      njs_str(\"evilevil\") },\n\n    { njs_str(\"var buf = Buffer.alloc(8, 'evil', 'utf-128'); buf\"),\n      njs_str(\"TypeError: \\\"utf-128\\\" encoding is not supported\") },\n\n    { njs_str(\"var foo = new Uint8Array(10).fill(88);\"\n              \"var buf = Buffer.alloc(8, foo); buf\"),\n      njs_str(\"XXXXXXXX\") },\n\n    { njs_str(\"[1,2,10,20].every(v => {\"\n              \"     var src = new Uint16Array(v).fill(0xB1CE);\"\n              \"     var buf = Buffer.alloc(10, src);\"\n              \"     return buf.toString() === \" njs_evar(\"'\u03b1\u03b1\u03b1\u03b1\u03b1'\", \"'\ufffd\u03b1\u03b1\u03b1\u03b1\ufffd'\")\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var foo = Buffer.alloc(10, '\u03b1');\"\n              \"var buf = Buffer.alloc(4, foo); buf\"),\n      njs_str(\"\u03b1\u03b1\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(10).fill('\u03b1'); buf\"),\n      njs_str(\"\u03b1\u03b1\u03b1\u03b1\u03b1\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(-1)\"),\n      njs_str(\"RangeError: invalid size\") },\n\n    { njs_str(\"[\"\n             \" ['6576696c', 'hex', 4],\"\n             \" ['6576696', 'hex', 3],\"\n             \" ['', 'hex', 0],\"\n             \" ['', 'base64', 0],\"\n             \" ['ZXZpbA==', 'base64', 4],\"\n             \" ['ZXZpbA', 'base64url', 4],\"\n             \" ['\u03b1\u03b1\u03b1\u03b1\u03b1', undefined, 10],\"\n             \"].every(args => Buffer.byteLength(args[0], args[1])  == args[2])\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Buffer.from([])\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Buffer.from([0x62, 0x75, 0x66, 0x66, 0x65, 0x72])\"),\n      njs_str(\"buffer\") },\n\n    { njs_str(njs_declare_sparse_array(\"arr\", 6)\n              \"[0x62, 0x75, 0x66, 0x66, 0x65, 0x72].map((v, i) => {arr[i] = v;});\"\n              \"Buffer.from(arr)\"),\n      njs_str(\"buffer\") },\n\n    { njs_str(\"Buffer.from({length:3, 0:0x62, 1:0x75, 2:0x66})\"),\n      njs_str(\"buf\") },\n\n    { njs_str(\"njs.dump(Buffer.from([-1,1,255,22323,-Infinity,Infinity,NaN]))\"),\n      njs_str(\"Buffer [255,1,255,51,0,0,0]\") },\n\n    { njs_str(\"var buf = Buffer.from([0x62, 0x75, 0x66, 0x66, 0x65, 0x72]); njs.dump(buf)\"),\n      njs_str(\"Buffer [98,117,102,102,101,114]\") },\n\n    { njs_str(\"var buf = Buffer.from([1,2,3]); njs.dump(Buffer.from(buf.toJSON()))\"),\n      njs_str(\"Buffer [1,2,3]\") },\n\n    { njs_str(\"[\"\n              \" {type: 'B'},\"\n              \" {type: undefined},\"\n              \" {type:'Buffer'},\"\n              \" {type:'Buffer', data:null},\"\n              \" {type:'Buffer', data:{}},\"\n              \"].every(v=>{ try { Buffer.from(v)} catch(e) {return e.name == 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var foo = new Uint16Array(2);\"\n              \"foo[0] = 5000; foo[1] = 4000;\"\n              \"var buf = Buffer.from(foo.buffer);\"\n              \"foo[1] = 6000;\"\n              \"njs.dump(buf)\"),\n      njs_str(\"Buffer [\" njs_evar(\"136,19,112,23\", \"19,136,23,112\") \"]\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 1); njs.dump(buf)\"),\n      njs_str(\"Buffer [\" njs_evar(\"3,182,3\", \"182,3,182\") \"]\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, -1); njs.dump(buf)\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 5); njs.dump(buf)\"),\n      njs_str(\"RangeError: \\\"offset\\\" is outside of buffer bounds\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 2, 1); njs.dump(buf)\"),\n      njs_str(\"Buffer [\" njs_evar(\"182\", \"3\") \"]\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 2, -1); njs.dump(buf)\"),\n      njs_str(\"Buffer []\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 2, 3); njs.dump(buf)\"),\n      njs_str(\"RangeError: \\\"length\\\" is outside of buffer bounds\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 2, 0); njs.dump(buf)\"),\n      njs_str(\"Buffer []\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 2, 2); njs.dump(buf)\"),\n      njs_str(\"Buffer [\" njs_evar(\"182,3\", \"3,182\") \"]\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, '2', '2'); njs.dump(buf)\"),\n      njs_str(\"Buffer [\" njs_evar(\"182,3\", \"3,182\") \"]\") },\n\n    { njs_str(\"var foo = new Uint32Array(1).fill(0xF1F2F3F4);\"\n              \"var buf = Buffer.from(foo); njs.dump(buf)\"),\n      njs_str(\"Buffer [244]\") },\n\n    { njs_str(\"var foo = new Uint32Array(2).fill(0xF1F2F3F4);\"\n              \"var buf = Buffer.from(foo); njs.dump(buf)\"),\n      njs_str(\"Buffer [244,244]\") },\n\n    { njs_str(\"var foo = new Uint8Array(5);\"\n              \"foo[0] = 1; foo[1] = 2; foo[2] = 3; foo[3] = 4; foo[4] = 5;\"\n              \"foo = foo.subarray(1, 3);\"\n              \"var buf = Buffer.from(foo); njs.dump(buf)\"),\n      njs_str(\"Buffer [2,3]\") },\n\n    { njs_str(\"var buf = Buffer.from(''); njs.dump(buf)\"),\n      njs_str(\"Buffer []\") },\n\n    { njs_str(\"var buf = Buffer.from('\u03b1'); njs.dump(buf)\"),\n      njs_str(\"Buffer [206,177]\") },\n\n    { njs_str(\"var arr = new Array(1,2,3); arr.valueOf = () => arr;\"\n              \"njs.dump(Buffer.from(arr))\"),\n      njs_str(\"Buffer [1,2,3]\") },\n\n    { njs_str(\"var obj = new Object(); obj.valueOf = () => obj;\"\n              \"Buffer.from(obj)\"),\n      njs_str(\"TypeError: first argument object is not a string or Buffer-like object\") },\n\n    { njs_str(\"var obj = new Object(); obj.valueOf = () => undefined;\"\n              \"njs.dump(Buffer.from(obj))\"),\n      njs_str(\"TypeError: first argument undefined is not a string or Buffer-like object\") },\n\n    { njs_str(\"var arr = new Array(1,2,3); arr.valueOf = () => null;\"\n              \"njs.dump(Buffer.from(arr))\"),\n      njs_str(\"Buffer [1,2,3]\") },\n\n    { njs_str(\"var obj = new Object(); obj.valueOf = () => new Array(1,2,3);\"\n              \"njs.dump(Buffer.from(obj))\"),\n      njs_str(\"Buffer [1,2,3]\") },\n\n    { njs_str(\"njs.dump(Buffer.from(new String('test')))\"),\n      njs_str(\"Buffer [116,101,115,116]\") },\n\n    { njs_str(\"Buffer.from({ get type() { throw new Error('test'); } })\"),\n      njs_str(\"Error: test\") },\n\n    { njs_str(\"Buffer.from({ type: 'Buffer', get data() { throw new Error('test'); } })\"),\n      njs_str(\"Error: test\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a[1] = { valueOf() { a.length = 3; return 1; } };\"\n              \"njs.dump(Buffer.from(a))\"),\n      njs_str(\"Buffer [1,1,3,0]\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a[1] = { valueOf() { a.length = 4096; a.fill(13); return 1; } };\"\n              \"njs.dump(Buffer.from(a))\"),\n      njs_str(\"Buffer [1,1,13,13]\") },\n\n    { njs_str(\"[\"\n             \" ['6576696c', 'hex'],\"\n             \" ['ZXZpbA==', 'base64'],\"\n             \" ['ZXZpbA==#', 'base64'],\"\n             \" ['ZXZpbA', 'base64url'],\"\n             \" ['ZXZpbA##', 'base64url'],\"\n             \"].every(args => Buffer.from(args[0], args[1]) == 'evil')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf = Buffer.from(String.bytesFrom([0xF3])); buf\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"Buffer.from('', 'utf-128')\"),\n      njs_str(\"TypeError: \\\"utf-128\\\" encoding is not supported\") },\n\n    { njs_str(\"[Buffer.from('\u03b1'), new Uint8Array(10), {}, 1]\"\n              \".map(v=>Buffer.isBuffer(v))\"),\n      njs_str(\"true,false,false,false\") },\n\n    { njs_str(\"['utf8', 'utf-8', 'hex', 'base64', 'base64url', 'utf-88', '1hex']\"\n              \".map(v=>Buffer.isEncoding(v))\"),\n      njs_str(\"true,true,true,true,true,false,false\") },\n\n    { njs_str(\"[\"\n              \" ['ABC', 'ABCD', -1],\"\n              \" ['ABCD', 'ABC', 1],\"\n              \" ['ABC', 'ACB', -1],\"\n              \" ['ACB', 'ABC', 1],\"\n              \" ['ABC', 'ABC', 0],\"\n              \" ['', 'ABC', -1],\"\n              \" ['', '', 0],\"\n              \"].every(args => {\"\n              \"   if (Buffer.compare(Buffer.from(args[0]), Buffer.from(args[1])) != args[2]) {\"\n              \"       throw new TypeError(\"\n              \"            `Buffer.compare(Buffer.from(${args[0]}), Buffer.from(${args[1]})) != ${args[2]}`);\"\n              \"   }\"\n              \"   return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[\"\n              \" ['ABC', 'ABCD', -1],\"\n              \" ['ABCD', 'ABC', 1],\"\n              \" ['ABC', 'ACB', -1],\"\n              \" ['ACB', 'ABC', 1],\"\n              \" ['ABC', 'ABC', 0],\"\n              \" ['', 'ABC', -1],\"\n              \" ['', '', 0],\"\n              \"].every(args => {\"\n              \"   if (Buffer.from(args[0]).compare(Buffer.from(args[1])) != args[2]) {\"\n              \"       throw new TypeError(\"\n              \"            `Buffer.from(${args[0]}).compare(Buffer.from(${args[1]})) != ${args[2]}`);\"\n              \"   }\"\n              \"   return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"[\"\n              \" [0,3,0,2, -1],\"\n              \" [0,2,0,3, 1],\"\n              \" [3,4,3,4, 0],\"\n              \" [undefined, undefined, undefined, undefined, 0],\"\n              \" [-1, undefined, undefined, undefined, 'invalid index'],\"\n              \" [0, -1, undefined, undefined, 'invalid index'],\"\n              \" [0, 0, -1, undefined, 'invalid index'],\"\n              \" [0, 0, 0, -1, 'invalid index'],\"\n              \"]\"\n              \".every(as => {\"\n              \"   try {\"\n              \"       if (buf.compare(buf, as[0], as[1], as[2], as[3]) != as[4]) {\"\n              \"           throw new TypeError(\"\n              \"                `buf.compare(${as[0]}, ${as[1]}, ${as[2]}, ${as[3]}) != ${as[4]}`);\"\n              \"       }\"\n              \"   } catch (e) { return e.message == as[4]}\"\n              \"   return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD');\"\n              \"var buf2 = Buffer.from('ABCD');\"\n              \"buf1.compare(buf2, 5)\"),\n      njs_str(\"RangeError: \\\"targetStart\\\" is out of range: 5\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD');\"\n              \"var buf2 = Buffer.from('ABCD');\"\n              \"buf1.compare(buf2, 0, 3, 5)\"),\n      njs_str(\"RangeError: \\\"sourceStart\\\" is out of range: 5\") },\n\n    { njs_str(\"var arr = new Uint8Array(4);\"\n              \"arr[0] = 0x41; arr[1] = 0x42; arr[2] = 0x43; arr[3] = 0x44;\"\n              \"arr = arr.subarray(1, 4);\"\n              \"var buf = Buffer.from('ABCD');\"\n              \"buf.compare(arr, 0, 3, 1, 4)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"['123', 'abc', '124', '', 'AB', 'ABCD']\"\n              \".map(v=>Buffer.from(v)).sort(Buffer.compare).map(v=>v.toString())\"),\n      njs_str(\",123,124,AB,ABCD,abc\") },\n\n    { njs_str(\"Buffer.compare(Buffer.alloc(1), 'text')\"),\n      njs_str(\"TypeError: \\\"target\\\" argument must be an instance of Buffer or Uint8Array\") },\n\n    { njs_str(\"Buffer.compare('text', Buffer.from('ACB'))\"),\n      njs_str(\"TypeError: \\\"source\\\" argument must be an instance of Buffer or Uint8Array\") },\n\n    { njs_str(\"Buffer.concat()\"),\n      njs_str(\"TypeError: \\\"list\\\" argument must be an instance of Array\") },\n\n    { njs_str(\"Buffer.concat([])\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Buffer.concat([new Uint16Array(10)])\"),\n      njs_str(\"TypeError: \\\"list[0]\\\" argument must be an instance of Buffer or Uint8Array\") },\n\n    { njs_str(\"Buffer.concat([new Uint8Array(2), new Uint8Array(1)]).fill('abc')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"Buffer.concat([Buffer.from('AB'), Buffer.from('CD')])\"),\n      njs_str(\"ABCD\") },\n\n    { njs_str(\"Buffer.concat([new Uint8Array(2), new Uint8Array(1)], 2).fill('abc')\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"Buffer.concat([new Uint8Array(2), new Uint8Array(1)], 6).fill('abc')\"),\n      njs_str(\"abcabc\") },\n\n    { njs_str(\"Buffer.concat([Buffer.from('ABCD').slice(2,4), Buffer.from('ABCD').slice(0,2)])\"),\n      njs_str(\"CDAB\") },\n\n    { njs_str(njs_declare_sparse_array(\"list\", 2)\n              \"list[0] = Buffer.from('ABCD').slice(2,4);\"\n              \"list[1] = Buffer.from('ABCD').slice(0,2);\"\n              \"Buffer.concat(list);\"),\n      njs_str(\"CDAB\") },\n\n    { njs_str(njs_declare_sparse_array(\"list\", 2)\n              \"list[0] = new Uint8Array(2); list[1] = new Uint8Array(3);\"\n              \"Buffer.concat(list).fill('ab');\"),\n      njs_str(\"ababa\") },\n\n    { njs_str(\"Buffer.concat([], '123')\"),\n      njs_str(\"TypeError: \\\"length\\\" argument must be of type number\") },\n\n    { njs_str(\"Buffer.concat([], -1)\"),\n      njs_str(\"RangeError: \\\"length\\\" is out of range\") },\n\n    { njs_str(\"var buf = Buffer.from('\u03b1'); buf[1]\"),\n      njs_str(\"177\") },\n\n    { njs_str(\"var buf = Buffer.from('\u03b1'); buf[1] = 1; njs.dump(buf)\"),\n      njs_str(\"Buffer [206,1]\") },\n\n    { njs_str(\"var arrBuf = new ArrayBuffer(16);\"\n              \"var buf = Buffer.from(arrBuf); buf.buffer === arrBuf\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[\"\n              \" [[0], 4, '65,66,67,68,0,0,0,0,0,0'],\"\n              \" [[5], 4, '0,0,0,0,0,65,66,67,68,0'],\"\n              \" [[8], 2, '0,0,0,0,0,0,0,0,65,66'],\"\n              \" [[8,2,4], 2, '0,0,0,0,0,0,0,0,67,68'],\"\n              \" [[10], 0, '0,0,0,0,0,0,0,0,0,0'],\"\n              \"]\"\n              \".every(args => {\"\n              \" var buf1 = Buffer.from('ABCD');\"\n              \" var buf2 = Buffer.alloc(10, 0);\"\n              \" var as = args[0];\"\n              \" var length = buf1.copy(buf2, as[0], as[1], as[2]);\"\n              \"\"\n              \" if (length != args[1]) {\"\n              \"   throw new TypeError(`buf1.copy(buf2, ${as[0]}, ${as[1]}, ${as[2]}): ${length} != ${args[1]}`)\"\n              \" }\"\n              \"\"\n              \" if (njs.dump(buf2) != `Buffer [${args[2]}]`) {\"\n              \"   throw new TypeError(\"\n              \"     `buf1.copy(buf2, ${as[0]}, ${as[1]}, ${as[2]}): ${njs.dump(buf2)} != Buffer [${args[2]}]`);\"\n              \" }\"\n              \" return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[\"\n              \" [[0], 'ABCDEF'],\"\n              \" [[0,2], 'CDEFEF'],\"\n              \" [[0,2,6], 'CDEFEF'],\"\n              \" [[1,2,4], 'ACDDEF'],\"\n              \" [[1,2,3], 'ACCDEF']\"\n              \"]\"\n              \".every(args => {\"\n              \" var buf = Buffer.from('ABCDEF');\"\n              \" var as = args[0];\"\n              \" buf.copy(buf, as[0], as[1], as[2]);\"\n              \"\"\n              \" if (buf.toString() != args[1]) {\"\n              \"   throw new TypeError(\"\n              \"     `buf.copy(buf, ${as[0]}, ${as[1]}, ${as[2]}): buf.toString() != ${args[1]}`);\"\n              \" }\"\n              \" return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD');\"\n              \"var buf2 = Buffer.alloc(10, 0);\"\n              \"buf1.copy(buf2, -1)\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD');\"\n              \"var buf2 = Buffer.alloc(10, 0);\"\n              \"buf1.copy(buf2, 0, -1)\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD');\"\n              \"var buf2 = Buffer.alloc(10, 0);\"\n              \"buf1.copy(buf2, 0, 5)\"),\n      njs_str(\"RangeError: \\\"sourceStart\\\" is out of range: 5\") },\n\n    { njs_str(\"var arr = new Uint8Array(4);\"\n              \"arr[0] = 0x41; arr[1] = 0x42; arr[2] = 0x43; arr[3] = 0x44;\"\n              \"arr = arr.subarray(1, 4);\"\n              \"var buf1 = Buffer.from(arr);\"\n              \"var buf2 = Buffer.alloc(10, 0);\"\n              \"var length = buf1.copy(buf2, 1, 1, 2); [length, njs.dump(buf2)]\"),\n      njs_str(\"1,Buffer [0,67,0,0,0,0,0,0,0,0]\") },\n\n    { njs_str(\"var arr = new Uint8Array(4);\"\n              \"arr[0] = 0x41; arr[1] = 0x42; arr[2] = 0x43; arr[3] = 0x44;\"\n              \"arr = arr.subarray(1, 4);\"\n              \"var buf1 = Buffer.from(arr);\"\n              \"var buf2 = Buffer.alloc(10, 0);\"\n              \"var length = buf1.copy(buf2, 1, 1, 2); [length, njs.dump(buf2)]\"),\n      njs_str(\"1,Buffer [0,67,0,0,0,0,0,0,0,0]\") },\n\n    { njs_str(\"[\"\n              \" ['ABC', 'ABCD', false],\"\n              \" ['ABCD', 'ABC', false],\"\n              \" ['ABC', 'ACB', false],\"\n              \" ['ACB', 'ABC', false],\"\n              \" ['ABC', 'ABC', true],\"\n              \" ['', 'ABC', false],\"\n              \" ['', '', true],\"\n              \"].every(args => {\"\n              \"   if (Buffer.from(args[0]).equals(Buffer.from(args[1])) != args[2]) {\"\n              \"       throw new TypeError(\"\n              \"            `Buffer.from(${args[0]}).compare(Buffer.from(${args[1]})) != ${args[2]}`);\"\n              \"   }\"\n              \"   return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Buffer.from([1,2]).equals(new ArrayBuffer(1))\"),\n      njs_str(\"TypeError: \\\"target\\\" argument must be an instance of Buffer or Uint8Array\") },\n\n    { njs_str(\"Buffer.from([1,2]).equals(1)\"),\n      njs_str(\"TypeError: \\\"target\\\" argument must be an instance of Buffer or Uint8Array\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4);\"\n              \"buf.fill('ZXZpbA==', 'base64')\"),\n      njs_str(\"evil\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4);\"\n              \"buf.fill('6576696c', 'hex')\"),\n      njs_str(\"evil\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4);\"\n              \"buf.fill('ZXZpbA==', '')\"),\n      njs_str(\"TypeError: \\\"\\\" encoding is not supported\") },\n\n    { njs_str(\"var buf = Buffer.alloc(8);\"\n              \"buf.fill('6576696c', 'hex')\"),\n      njs_str(\"evilevil\") },\n\n    { njs_str(\"var buf = Buffer.alloc(10);\"\n              \"buf.fill('evil')\"),\n      njs_str(\"evilevilev\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(5);\"\n              \"buf[3] = 1;\"\n              \"buf.fill(''); njs.dump(buf)\"),\n      njs_str(\"Buffer [0,0,0,0,0]\") },\n\n    { njs_str(\"var arr = new Uint8Array(4);\"\n              \"arr[0] = 0x41; arr[1] = 0x42; arr[2] = 0x43; arr[3] = 0x44;\"\n              \"arr = arr.subarray(1, 4);\"\n              \"var buf = Buffer.allocUnsafe(6);\"\n              \"buf.fill(arr); njs.dump(buf)\"),\n      njs_str(\"Buffer [66,67,68,66,67,68]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(6, 'ABCDEF');\"\n              \"buf.fill(buf, 2, 6)\"),\n      njs_str(\"ABABCD\") },\n\n    { njs_str(\"Buffer.alloc(6).fill(0x41)\"),\n      njs_str(\"AAAAAA\") },\n\n    { njs_str(\"Buffer.alloc(6).fill({valueOf(){return 0x42}})\"),\n      njs_str(\"BBBBBB\") },\n\n    { njs_str(\"njs.dump(Buffer.alloc(3).fill(-1))\"),\n      njs_str(\"Buffer [255,255,255]\") },\n\n    { njs_str(\"[NaN, Infinity, -Infinity, undefined, null, {}]\"\n              \".every(v => njs.dump(Buffer.alloc(3).fill(v)) == 'Buffer [0,0,0]')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"njs.dump(Buffer.alloc(6).fill({valueOf(){throw 'Oops'}}, 4,3))\"),\n      njs_str(\"Buffer [0,0,0,0,0,0]\") },\n\n    { njs_str(\"njs.dump(Buffer.alloc(6).fill({valueOf(){throw 'Oops'}}, 3,3))\"),\n      njs_str(\"Buffer [0,0,0,0,0,0]\") },\n\n    { njs_str(\"njs.dump(Buffer.alloc(6).fill({valueOf(){throw 'Oops'}}, 2,3))\"),\n      njs_str(\"Oops\") },\n\n    { njs_str(\"njs.dump(Buffer.alloc(5).fill('\u03b1'))\"),\n      njs_str(\"Buffer [206,177,206,177,206]\") },\n\n    { njs_str(\"Buffer.alloc(4).fill('ABCD', -1)\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"Buffer.alloc(4).fill('ABCD', 5)\"),\n      njs_str(\"RangeError: \\\"offset\\\" is out of range\") },\n\n    { njs_str(\"Buffer.alloc(4).fill('ABCD', 0, -1)\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"Buffer.alloc(4).fill('ABCD', 0, 5)\"),\n      njs_str(\"RangeError: \\\"end\\\" is out of range\") },\n\n    { njs_str(\"Buffer.alloc(513).fill('A'.repeat(512)).length\"),\n      njs_str(\"513\") },\n\n    { njs_str(\"njs.dump(Buffer.alloc(4).fill((new Uint8Array(5)).fill(1)))\"),\n      njs_str(\"Buffer [1,1,1,1]\") },\n\n    { njs_str(\"var src = new Uint8Array(10).fill(255);\"\n              \"var u8 = new Uint8Array(src.buffer, 1, 8);\"\n              \"u8.set([1,2,3,4,5,6,7,8]);\"\n              \"njs.dump(Buffer.alloc(9).fill(u8))\"),\n      njs_str(\"Buffer [1,2,3,4,5,6,7,8,1]\") },\n\n    { njs_str(\"Buffer.alloc(513).fill((new Uint8Array(512)).fill(1)).length\"),\n      njs_str(\"513\") },\n\n    { njs_str(\"Buffer.alloc(4).fill('ABCD', undefined, undefined, 'utf-128')\"),\n      njs_str(\"TypeError: \\\"utf-128\\\" encoding is not supported\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD').subarray(1, 3);\"\n              \"buf1.fill('B', 1, 2); njs.dump(buf1)\"),\n      njs_str(\"Buffer [66,66]\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD').subarray(1, 3);\"\n              \"buf1.fill(0x42, 1, 2); njs.dump(buf1)\"),\n      njs_str(\"Buffer [66,66]\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD').subarray(1, 2);\"\n              \"var buf2 = Buffer.from('ABCD').subarray(1, 3);\"\n              \"buf2.fill(buf1, 1, 2); njs.dump(buf2)\"),\n      njs_str(\"Buffer [66,66]\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', ''].map(v=>buf.indexOf(v))\"),\n      njs_str(\"1,-1,0,-1,0\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"[0,5,-2,-1].map(v=>buf.indexOf('C', v))\"),\n      njs_str(\"2,-1,2,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('evil');\"\n              \"buf.indexOf('ZXZpbA==', undefined, 'base64')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var buf = Buffer.from('evil');\"\n              \"buf.indexOf('6576696c', undefined, 'hex')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"buf.indexOf('C', undefined, 'utf-128')\"),\n      njs_str(\"TypeError: \\\"utf-128\\\" encoding is not supported\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCDABC');\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.indexOf(Buffer.from(v)))\"),\n      njs_str(\"1,-1,0,-1,0,2,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCDABC');\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.includes(Buffer.from(v)))\"),\n      njs_str(\"true,false,true,false,true,true,false\") },\n\n    { njs_str(\"var buf = Buffer.from('ZABCDABC').subarray(1);\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.indexOf(Buffer.from(v)))\"),\n      njs_str(\"1,-1,0,-1,0,2,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"buf.indexOf(0x43)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"buf.indexOf(0x43, -2)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"buf.indexOf(0x43, -1)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD');\"\n              \"var buf2 = Buffer.from('XXCX').subarray(2, 3);\"\n              \"buf1.indexOf(buf2)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD').subarray(1, 4);\"\n              \"buf1.indexOf(0x43)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD').subarray(1, 4);\"\n              \"buf1.indexOf('C')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCDABC');\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.lastIndexOf(v))\"),\n      njs_str(\"5,-1,0,-1,7,6,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCDABC');\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.lastIndexOf(Buffer.from(v)))\"),\n      njs_str(\"5,-1,0,-1,7,6,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('ZABCDABC').subarray(1);\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.lastIndexOf(v))\"),\n      njs_str(\"5,-1,0,-1,7,6,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('ZABCDABC').subarray(1);\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.lastIndexOf(Buffer.from(v)))\"),\n      njs_str(\"5,-1,0,-1,7,6,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('CABCD');\"\n              \"[2,-2,1,-10,10,-5,-4,0].map(v=>buf.lastIndexOf('C', v))\"),\n      njs_str(\"0,3,0,-1,3,0,0,0\") },\n\n    { njs_str(\"var buf = Buffer.from('CABCD');\"\n              \"[2,-2,1,-10,10,-5,-4,0].map(v=>buf.lastIndexOf(Buffer.from('CZ').subarray(0,1), v))\"),\n      njs_str(\"0,3,0,-1,3,0,0,0\") },\n\n    { njs_str(\"var buf = Buffer.from('CABCD');\"\n              \"buf.lastIndexOf(0x43)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var buf = Buffer.from('CABCD');\"\n              \"[2,1,0,4,5,-1,-5].map(v=>buf.lastIndexOf(0x43, v))\"),\n      njs_str(\"0,0,0,3,3,3,0\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ACBCD').subarray(1, 4);\"\n              \"var buf2 = Buffer.from('C');\"\n              \"buf1.lastIndexOf(buf2)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var buf1 = Buffer.from('XXCXX').subarray(2,3);\"\n              \"buf1.lastIndexOf(Buffer.from('X'))\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var buf = Buffer.from('ACBCD').subarray(1, 4);\"\n              \"buf.lastIndexOf(0x43)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var buf = Buffer.from('ACBCD').subarray(1, 4);\"\n              \"buf.lastIndexOf('C')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"['swap16', 'swap32', 'swap64'].every(method => {\"\n              \"    var buf = Buffer.from([]);\"\n              \"    buf[method]();\"\n              \"    return njs.dump(buf) === 'Buffer []';\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"['swap16', 'swap32', 'swap64'].every(method => {\"\n              \"    var buf = Buffer.from([1,2,3]);\"\n              \"    try { buf[method]() } \"\n              \"    catch(e) {return e.message === `Buffer size must be a multiple of ${method.substr(4)}-bits`};\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"['swap16', 'swap32', 'swap64'].map(method => {\"\n              \"    var buf = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]);\"\n              \"    buf[method]();\"\n              \"    return njs.dump(buf);\"\n              \"})\"),\n      njs_str(\"Buffer [2,1,4,3,6,5,8,7],\"\n              \"Buffer [4,3,2,1,8,7,6,5],\"\n              \"Buffer [8,7,6,5,4,3,2,1]\") },\n\n    { njs_str(\"['swap16', 'swap32', 'swap64'].map(method => {\"\n              \"    var u8 = new Uint8Array([0, 1, 2, 3, 4, 5, 6, 7, 8]);\"\n              \"    var buf = Buffer.from(u8.buffer, 1);\"\n              \"    buf[method]();\"\n              \"    return njs.dump(buf);\"\n              \"})\"),\n      njs_str(\"Buffer [2,1,4,3,6,5,8,7],\"\n              \"Buffer [4,3,2,1,8,7,6,5],\"\n              \"Buffer [8,7,6,5,4,3,2,1]\") },\n\n    { njs_str(\"njs.dump(Buffer.from('\u03b1\u03b1\u03b1\u03b1').toJSON())\"),\n      njs_str(\"{type:'Buffer',data:[206,177,206,177,206,177,206,177]}\") },\n\n    { njs_str(\"njs.dump(Buffer.from('').toJSON())\"),\n      njs_str(\"{type:'Buffer',data:[]}\") },\n\n    { njs_str(\"[\"\n              \" [['base64'], 'ZXZpbA=='],\"\n              \" [['base64url'], 'ZXZpbA'],\"\n              \" [['hex'], '6576696c'],\"\n              \" [[undefined,1,3], 'vi'],\"\n              \" [[undefined,5], ''],\"\n              \" [[undefined,undefined,5], 'evil'],\"\n              \" [[undefined,undefined,undefined], 'evil'],\"\n              \"].every(args => {\"\n              \"   var buf = Buffer.from('evil');\"\n              \"   var as = args[0];\"\n              \"   if (buf.toString(as[0], as[1], as[2]) != args[1]) {\"\n              \"       throw new TypeError(\"\n              \"            `buf.toString(${as[0]}, ${as[1]}, ${as[2]}) != ${args[1]}`);\"\n              \"   }\"\n              \"   return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Buffer.from('evil').toString('utf-128')\"),\n      njs_str(\"TypeError: \\\"utf-128\\\" encoding is not supported\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4);\"\n              \"var len = buf.write('ZXZpbA==', 'base64'); [len, buf]\"),\n      njs_str(\"4,evil\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4);\"\n              \"var len = buf.write('ZXZpbA==', undefined, 'base64'); [len, buf]\"),\n      njs_str(\"4,evil\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4);\"\n              \"var len = buf.write('ZXZpbA==', undefined, undefined, 'base64'); [len, buf]\"),\n      njs_str(\"4,evil\") },\n\n    { njs_str(\"Buffer.allocUnsafe(4).write()\"),\n      njs_str(\"TypeError: first argument must be a string\") },\n\n    { njs_str(\"Buffer.allocUnsafe(4).write({a: 1})\"),\n      njs_str(\"TypeError: first argument must be a string\") },\n\n    { njs_str(\"Buffer.alloc(4).write('evil', 4, 1);\"),\n      njs_str(\"RangeError: \\\"offset\\\" is out of range\") },\n\n    { njs_str(\"Buffer.alloc(4).write('evil', -1);\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4);\"\n              \"var len = buf.write('evil', 3, 1); [len, njs.dump(buf)]\"),\n      njs_str(\"1,Buffer [0,0,0,101]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4);\"\n              \"var len = buf.write('evil', 0, 5); [len, buf]\"),\n      njs_str(\"4,evil\") },\n\n    { njs_str(\"Buffer.alloc(4).write('evil', undefined, -1);\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"var buf = Buffer.from([0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff, 0xF9, 0xf8]);\"\n              \"[1,2,3,4,5,6].map(byte => [buf.readUIntLE(0, byte), buf.readUIntLE(1, byte)])\"),\n      njs_str(\"250,251,\"\n              \"64506,64763,\"\n              \"16579578,16645371,\"\n              \"4261215226,4278058235,\"\n              \"1095182908410,1099494718715,\"\n              \"281470647991290,274877890034939\") },\n\n    { njs_str(\"var buf = Buffer.from([0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff, 0xF9, 0xf8]);\"\n              \"[1,2,3,4,5,6].map(byte => [buf.readIntLE(0, byte), buf.readIntLE(1, byte)])\"),\n      njs_str(\"-6,-5,\"\n              \"-1030,-773,\"\n              \"-197638,-131845,\"\n              \"-33752070,-16909061,\"\n              \"-4328719366,-16909061,\"\n              \"-4328719366,-6597086675717\") },\n\n    { njs_str(\"var buf = Buffer.from([0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff, 0xF9, 0xf8]);\"\n              \"[1,2,3,4,5,6].map(byte => [buf.readUIntBE(0, byte), buf.readUIntBE(1, byte)])\"),\n      njs_str(\"250,251,\"\n              \"64251,64508,\"\n              \"16448508,16514301,\"\n              \"4210818301,4227661310,\"\n              \"1077969485310,1082281295615,\"\n              \"275960188239615,277064011677689\") },\n\n    { njs_str(\"var buf = Buffer.from([0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff, 0xF9, 0xf8]);\"\n              \"[1,2,3,4,5,6].map(byte => [buf.readIntBE(0, byte), buf.readIntBE(1, byte)])\"),\n      njs_str(\"-6,-5,\"\n              \"-1285,-1028,\"\n              \"-328708,-262915,\"\n              \"-84148995,-67305986,\"\n              \"-21542142466,-17230332161,\"\n              \"-5514788471041,-4410965032967\") },\n\n    { njs_str(\"var buf = Buffer.from([0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff, 0xF9, 0xf8]);\"\n              \"function t(sign, endianness, offset) { \"\n              \"    return [1,2,4].every(size => {\"\n              \"        var method = `read${sign}Int${size * 8}`;\"\n              \"        if (size > 1) { method += endianness};\"\n              \"        var gmethod = `read${sign}Int${endianness}`;\"\n              \"        var gv = buf[gmethod](offset, size);\"\n              \"        var sv = buf[method](offset);\"\n              \"        if (gv != sv) {throw Error(`${gmethod}(${offset},${size}):${gv} != ${method}(${offset}):${sv}`)}\"\n              \"        return true;\"\n              \"   });\"\n              \"}; \"\n              \"t('U', 'LE', 0) && t('U', 'LE', 1)\"\n              \"&& t('', 'LE', 0) && t('', 'LE', 1)\"\n              \"&& t('U', 'BE', 0) && t('U', 'BE', 1)\"\n              \"&& t('', 'BE', 0) && t('', 'BE', 1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf = Buffer.alloc(9);\"\n              \"function t(sign, endianness, offset) { \"\n              \"    return [1,2,4].every(size => {\"\n              \"        var rgmethod = `read${sign}Int${endianness}`;\"\n              \"        var wgmethod = `write${sign}Int${endianness}`;\"\n              \"        var rmethod = `read${sign}Int${size * 8}`;\"\n              \"        var wmethod = `write${sign}Int${size * 8}`;\"\n              \"        if (size > 1) { rmethod += endianness; wmethod += endianness; };\"\n              \"        var v = 0x7abbccddeeff & (size * 8 - 1);\"\n              \"\"\n              \"        var ret = buf[wgmethod](v, offset, size);\"\n              \"        if(ret !== offset + size) {\"\n              \"            throw Error(`${wgmethod} returned ${ret}, need ${offset + size}`);\"\n              \"        }\"\n              \"\"\n              \"        var gv = buf[rgmethod](offset, size);\"\n              \"\"\n              \"        buf.fill(0);\"\n              \"        buf[wmethod](v, offset);\"\n              \"        var sv = buf[rmethod](offset);\"\n              \"        if (gv != sv) {throw Error(`${wmethod}(${v}, ${offset}):${sv} != ${wgmethod}(${v},${offset}):${gv}`)}\"\n              \"        return true;\"\n              \"   });\"\n              \"}; \"\n              \"t('U', 'LE', 0) && t('U', 'LE', 1)\"\n              \"&& t('', 'LE', 0) && t('', 'LE', 1)\"\n              \"&& t('U', 'BE', 0) && t('U', 'BE', 1)\"\n              \"&& t('', 'BE', 0) && t('', 'BE', 1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(njs_buffer_byte_map(\"writeUIntLE\", \"+\", 1)),\n      njs_str(\"Buffer [128,0,0,0,0,0],\"\n              \"Buffer [0,64,0,0,0,0],\"\n              \"Buffer [0,0,32,0,0,0],\"\n              \"Buffer [0,0,0,16,0,0],\"\n              \"Buffer [0,0,0,0,8,0],\"\n              \"Buffer [0,0,0,0,0,4]\") },\n\n    { njs_str(njs_buffer_byte_map(\"writeUIntBE\", \"+\", 1)),\n      njs_str(\"Buffer [128,0,0,0,0,0],\"\n              \"Buffer [64,0,0,0,0,0],\"\n              \"Buffer [32,0,0,0,0,0],\"\n              \"Buffer [16,0,0,0,0,0],\"\n              \"Buffer [8,0,0,0,0,0],\"\n              \"Buffer [4,0,0,0,0,0]\") },\n\n    { njs_str(njs_buffer_byte_map(\"writeIntLE\", \"-\", 2)),\n      njs_str(\"Buffer [192,0,0,0,0,0],\"\n              \"Buffer [0,224,0,0,0,0],\"\n              \"Buffer [0,0,240,0,0,0],\"\n              \"Buffer [0,0,0,248,0,0],\"\n              \"Buffer [0,0,0,0,252,0],\"\n              \"Buffer [0,0,0,0,0,254]\") },\n\n    { njs_str(njs_buffer_byte_map(\"writeIntBE\", \"-\", 2)),\n      njs_str(\"Buffer [192,0,0,0,0,0],\"\n              \"Buffer [224,0,0,0,0,0],\"\n              \"Buffer [240,0,0,0,0,0],\"\n              \"Buffer [248,0,0,0,0,0],\"\n              \"Buffer [252,0,0,0,0,0],\"\n              \"Buffer [254,0,0,0,0,0]\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]).readDoubleBE()\"),\n      njs_str(\"8.20788039913184e-304\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]).readDoubleLE()\"),\n      njs_str(\"5.447603722011605e-270\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4]).readFloatBE()\"),\n      njs_str(\"2.387939260590663e-38\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4]).readFloatLE()\"),\n      njs_str(\"1.539989614439558e-36\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]).readDoubleBE(1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]).readDoubleLE(1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4]).readFloatBE(1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4]).readFloatLE(1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(8);\"\n              \"buf.writeDoubleBE(123.456); njs.dump(buf)\"),\n      njs_str(\"Buffer [64,94,221,47,26,159,190,119]\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(8);\"\n              \"buf.writeDoubleLE(123.456); njs.dump(buf)\"),\n      njs_str(\"Buffer [119,190,159,26,47,221,94,64]\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4);\"\n              \"buf.writeFloatBE(123.456); njs.dump(buf)\"),\n      njs_str(\"Buffer [66,246,233,121]\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4);\"\n              \"buf.writeFloatLE(123.456); njs.dump(buf)\"),\n      njs_str(\"Buffer [121,233,246,66]\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(8).writeDoubleBE(123.456, 1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(8).writeDoubleLE(123.456, 1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4).writeFloatBE(123.456, 1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4).writeFloatLE(123.456, 1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"var buffer = require('buffer');\"\n              \"buffer.Buffer.alloc(5).fill('ABC')\"),\n      njs_str(\"ABCAB\") },\n\n    { njs_str(\"var buffer = require('buffer');\"\n              \"typeof buffer.kMaxLength === 'number' \"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buffer = require('buffer');\"\n              \"typeof buffer.constants.MAX_LENGTH === 'number' \"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buffer = require('buffer');\"\n              \"typeof buffer.constants.MAX_STRING_LENGTH === 'number' \"),\n      njs_str(\"true\") },\n};\n\n\nstatic njs_unit_test_t  njs_webcrypto_test[] =\n{\n    /* Statistic test\n     * bits1 is a random variable with Binomial distribution\n     * Expected value is N / 2\n     * Standard deviation is sqrt(N / 4)\n     */\n    { njs_str(\"function count1(v) {return v.toString(2).match(/1/g).length;}\"\n              \"let buf = new Uint32Array(32);\"\n              \"crypto.getRandomValues(buf);\"\n              \"let bits1 = buf.reduce((a, v)=> a + count1(v), 0);\"\n              \"let nbits = buf.length * 32;\"\n              \"let mean = nbits / 2;\"\n              \"let stddev = Math.sqrt(nbits / 4);\"\n              \"let condition = bits1 > (mean - 10 * stddev) && bits1 < (mean + 10 * stddev);\"\n              \"condition ? true : [buf, nbits, bits1, mean, stddev]\"),\n      njs_str(\"true\") },\n};\n\n\nstatic njs_unit_test_t  njs_module_test[] =\n{\n    { njs_str(\"function f(){return 2}; var f; f()\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n    { njs_str(\"function f(){return 2}; var f = 1; f()\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n    { njs_str(\"function f(){return 1}; function f(){return 2}; f()\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n    { njs_str(\"var f = 1; function f() {};\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n    { njs_str(\"{ var f = 1; } function f() {};\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n};\n\n\nstatic njs_unit_test_t  njs_externals_test[] =\n{\n    { njs_str(\"typeof $r\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var a = $r.uri, s = a.fromUTF8(); s.length +' '+ s\"),\n      njs_str(\"3 \u0410\u0411\u0412\") },\n\n    { njs_str(\"var a = $r.uri, b = $r2.uri, c = $r3.uri; a+b+c\"),\n      njs_str(\"\u0410\u0411\u0412\u03b1\u03b2\u03b3abc\") },\n\n    { njs_str(\"var a = $r.uri; $r.uri = $r2.uri; $r2.uri = a; $r2.uri+$r.uri\"),\n      njs_str(\"\u0410\u0411\u0412\u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"var a = $r.uri, s = a.fromUTF8(2); s.length +' '+ s\"),\n      njs_str(\"2 \u0411\u0412\") },\n\n    { njs_str(\"var a = $r.uri, s = a.fromUTF8(2, 4); s.length +' '+ s\"),\n      njs_str(\"1 \u0411\") },\n\n    { njs_str(\"var a = $r.uri; a +' '+ a.length +' '+ a\"),\n      njs_str(\"\u0410\u0411\u0412 6 \u0410\u0411\u0412\") },\n\n    { njs_str(\"$r.uri = '\u03b1\u03b2\u03b3'; var a = $r.uri; a.length +' '+ a\"),\n      njs_str(\"6 \u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"$r.uri.length +' '+ $r.uri\"),\n      njs_str(\"6 \u0410\u0411\u0412\") },\n\n    { njs_str(\"var t; \"\n              \"switch ($r3.uri) {\"\n              \"case 'abc': \"\n              \"  t='A'; \"\n              \"  break; \"\n              \"default: \"\n              \"  t='F'; \"\n              \"}; t\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"$r.uri = $r.uri.substr(2); $r.uri.length +' '+ $r.uri\"),\n      njs_str(\"4 \u0411\u0412\") },\n\n    { njs_str(\"'' + $r.props.a + $r2.props.a + $r.props.a\"),\n      njs_str(\"121\") },\n\n    { njs_str(\"var p1 = $r.props, p2 = $r2.props; '' + p2.a + p1.a\"),\n      njs_str(\"21\") },\n\n    { njs_str(\"$r.props = $r2.props; $r.props.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var p1 = $r.props, p2 = $r2.props; '' + p1.a + p2.a\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"var p = $r3.props; p.a = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var p = $r3.props; delete p.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of object\") },\n\n    { njs_str(\"$r.vars.p + $r2.vars.q + $r3.vars.k\"),\n      njs_str(\"pvalqvalkval\") },\n\n    { njs_str(\"$r.vars.unset\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"['k', 'unknown'].map(v=>v in $r3.consts)\"),\n      njs_str(\"true,false\") },\n\n    { njs_str(\"['a', 'unknown'].map(v=>v in $r3.props)\"),\n      njs_str(\"true,false\") },\n\n    { njs_str(\"var v = $r3.vars; v.k\"),\n      njs_str(\"kval\") },\n\n    { njs_str(\"var v = $r3.vars; v.unset = 1; v.unset\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"$r3.a = 1; Object.getOwnPropertyDescriptors($r3).a.value\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperty($r3.vars, 'a', {value:1}); $r3.vars.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"$r3.vars.p = 'a'; delete $r3.vars.p; $r3.vars.p\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"$r3.vars.p = 'a'; delete $r3.vars.p; $r3.vars.p = 'b'; $r3.vars.p\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"$r3.vars.error = 1\"),\n      njs_str(\"Error: cannot set \\\"error\\\" prop\") },\n\n    { njs_str(\"delete $r3.vars.error\"),\n      njs_str(\"Error: cannot delete \\\"error\\\" prop\") },\n\n    { njs_str(\"delete $r3.vars.e\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete $r.consts\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"$r3.consts.k\"),\n      njs_str(\"kval\") },\n\n    { njs_str(\"$r3.consts.k = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"k\\\" of object\") },\n\n    { njs_str(\"delete $r3.consts.k\"),\n      njs_str(\"TypeError: Cannot delete property \\\"k\\\" of object\") },\n\n    { njs_str(\"delete $r3.vars.p; $r3.vars.p\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = $r.host; a +' '+ a.length +' '+ a\"),\n      njs_str(\"\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419 22 \u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419\") },\n\n    { njs_str(\"var a = $r.host; a.substr(2, 2)\"),\n      njs_str(\"\u0411\") },\n\n    { njs_str(\"var a = $r.header['User-Agent']; a +' '+ a.length +' '+ a\"),\n      njs_str(\"User-Agent|\u0410\u0411\u0412 17 User-Agent|\u0410\u0411\u0412\") },\n\n    { njs_str(\"var a='', p;\"\n                 \"for (p in $r.header) { a += p +':'+ $r.header[p] +',' }\"\n                 \"a\"),\n      njs_str(\"01:01|\u0410\u0411\u0412,02:02|\u0410\u0411\u0412,03:03|\u0410\u0411\u0412,\") },\n\n    { njs_str(\"$r.method('YES')\"),\n      njs_str(\"\u0410\u0411\u0412\") },\n\n    { njs_str(\"$r.create('XXX').uri\"),\n      njs_str(\"XXX\") },\n\n    { njs_str(\"$r.create.call([], 'XXX')\"),\n      njs_str(\"TypeError: \\\"this\\\" is not an external\") },\n\n    { njs_str(\"var sr = $r.create('XXX'); sr.uri = 'YYY'; sr.uri\"),\n      njs_str(\"YYY\") },\n\n    { njs_str(\"var sr = $r.create('XXX'), sr2 = $r.create('YYY');\"\n                 \"sr.uri = 'ZZZ'; \"\n                 \"sr.uri + sr2.uri\"),\n      njs_str(\"ZZZYYY\") },\n\n    { njs_str(\"var sr = $r.create('XXX'); sr.vars.p = 'a'; sr.vars.p\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"var p; for (p in $r.method);\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'uri' in $r\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'one' in $r\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'a' in $r.props\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete $r.uri\"),\n      njs_str(\"TypeError: Cannot delete property \\\"uri\\\" of object\") },\n\n    { njs_str(\"delete $shared.uri\"),\n      njs_str(\"TypeError: Cannot delete property \\\"uri\\\" of object\") },\n\n    { njs_str(\"delete $r.one\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete $r.vars\"),\n      njs_str(\"TypeError: Cannot delete property \\\"vars\\\" of object\") },\n\n    { njs_str(\"delete $r.header; $r.header\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"$r.header = 1; $r.header\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"$r.method.call($r, 'YES')\"),\n      njs_str(\"\u0410\u0411\u0412\") },\n\n    { njs_str(\"var f = $r.method.bind($r); f('YES')\"),\n      njs_str(\"\u0410\u0411\u0412\") },\n\n    { njs_str(\"function f(fn, arg) {return fn(arg);}; f($r.method.bind($r), 'YES')\"),\n      njs_str(\"\u0410\u0411\u0412\") },\n\n    { njs_str(\"$r.method.apply($r, ['YES'])\"),\n      njs_str(\"\u0410\u0411\u0412\") },\n\n    { njs_str(\"$shared.method.apply($r, ['YES'])\"),\n      njs_str(\"\u0410\u0411\u0412\") },\n\n    { njs_str(\"$r.method.call([], 'YES')\"),\n      njs_str(\"TypeError: \\\"this\\\" is not an external\") },\n\n    { njs_str(\"$r.nonexistent\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"$shared.nonexistent\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"njs.dump($r).startsWith('External')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"njs.dump($r.header)\"),\n      njs_str(\"Header {01:'01|\u0410\u0411\u0412',02:'02|\u0410\u0411\u0412',03:'03|\u0410\u0411\u0412'}\") },\n\n    { njs_str(\"var o = {b:$r.props.b}; o.b\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"$r2.uri == '\u03b1\u03b2\u03b3' && $r2.uri === '\u03b1\u03b2\u03b3'\"),\n      njs_str(\"true\") },\n\n#if (NJS_TEST262)\n#define N262 \"$262,\"\n#else\n#define N262 \"\"\n#endif\n\n#if (NJS_HAVE_OPENSSL)\n#define NCRYPTO \"crypto,\"\n#else\n#define NCRYPTO \"\"\n#endif\n\n    { njs_str(\"Object.keys(this).sort()\"),\n      njs_str(N262 \"$r,$r2,$r3,$shared,\" NCRYPTO \"global,njs,process\") },\n\n    { njs_str(\"Object.getOwnPropertySymbols($r2)[0] == Symbol.toStringTag\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptors($r2)[Symbol.toStringTag].value\"),\n      njs_str(\"External\") },\n\n    { njs_str(\"Object.getPrototypeOf($r3) === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isExtensible($r3)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"$r3[0] = 0; $r3[1] = 1; $r3.length = 2;\"\n              \"Array.prototype.join.call($r3, '|')\"),\n      njs_str(\"0|1\") },\n\n    { njs_str(\"$r3.toJSON = ()=> 'R3';\"\n              \"JSON.stringify($r3)\"),\n      njs_str(\"\\\"R3\\\"\") },\n\n    { njs_str(\"$r3[0] = 0; $r3[1] = 1; $r3.length = 2;\"\n              \"$r3.__proto__ = Array.prototype; $r3.join('|')\"),\n      njs_str(\"0|1\") },\n\n    { njs_str(\"[this, global, globalThis]\"\n              \".every(v=> { var r = njs.dump(v); return ['$r', 'global', njs.version].every(v=>r.includes(v))})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var r = JSON.parse(JSON.stringify($r));\"\n              \"[r.uri, r.host, r.props.a, njs.dump(r.vars), njs.dump(r.consts), r.header['02']]\"),\n      njs_str(\"\u0410\u0411\u0412,\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419,1,{},{},02|\u0410\u0411\u0412\") },\n\n    { njs_str(\"var s = (new TextDecoder()).decode($r.buffer); [s, s.length]\"),\n      njs_str(\"\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419,11\") },\n\n    { njs_str(\"var b = $r.buffer; \"\n              \"b[4] = '@'.codePointAt(0); b[5] = '#'.codePointAt(0);\"\n              \"var s = (new TextDecoder()).decode(b); [s, s.length]\"),\n      njs_str(\"\u0410\u0411@#\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419,12\") },\n\n    { njs_str(\"var b = $r.buffer; \"\n              \"b.copyWithin(16,0,6);\"\n              \"var s = (new TextDecoder()).decode(b); [s, s.length]\"),\n      njs_str(\"\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0410\u0411\u0412,11\") },\n\n    { njs_str(\"var b = $r.buffer; \"\n              \"b.fill('#'.codePointAt(0));\"\n              \"var s = (new TextDecoder()).decode(b); [s, s.length]\"),\n      njs_str(\"######################,22\") },\n\n    { njs_str(\"var b = $r.buffer; \"\n              \"b.set(['@'.codePointAt(0), '#'.codePointAt(0)], 4);\"\n              \"var s = (new TextDecoder()).decode(b); [s, s.length]\"),\n      njs_str(\"\u0410\u0411@#\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419,12\") },\n\n    { njs_str(\"var b = $r.buffer; \"\n              \"var u16 = new Uint16Array(b.buffer); u16.reverse();\"\n              \"var s = (new TextDecoder()).decode(u16); [s, s.length]\"),\n      njs_str(\"\u0419\u0418\u0417\u0416\u0401\u0415\u0414\u0413\u0412\u0411\u0410,11\") },\n\n    { njs_str(\"new Uint8Array($r.buffer.sort().slice(0,3))\"),\n      njs_str(\"129,144,145\") },\n\n    { njs_str(\"$r.buffer instanceof Buffer\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"let ctor = Object.getPrototypeOf(async function(){}).constructor;\"\n              \"let f = new ctor();\"\n              \"$r.retval(f())\"),\n      njs_str(\"[object Promise]\") },\n\n    { njs_str(\"let ctor = Object.getPrototypeOf(async function(){}).constructor;\"\n              \"let f = new ctor('x', 'await 1; return x');\"\n              \"$r.retval(f(1))\"),\n      njs_str(\"[object Promise]\") },\n\n    { njs_str(\"let ctor = Object.getPrototypeOf(async function(){}).constructor;\"\n              \"let f = new ctor('x', 'await 1; return x');\"\n              \"f(1).then($r.retval)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"$r.retval(Promise.all([async () => [await x('X')]]))\"),\n      njs_str(\"[object Promise]\") },\n\n    { njs_str(\"let obj = { a: 1, b: 2};\"\n              \"function cb(r) { r.retval(obj.a); }\"\n              \"$r.subrequest($r)\"\n              \".then(reply => cb(reply))\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"let obj = { a: 1, b: 2};\"\n              \"function cb(r, select) { r.retval(obj[select]); }\"\n              \"$r.subrequest('b')\"\n              \".then(select => cb($r, select))\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"function pr(x) { return new Promise(resolve => {resolve(x + ':pr')}); };\"\n              \"Promise.all(['a', 'b', 'c'].map(async (v) => {\"\n              \"    return await pr(v + ':async');\"\n              \"}))\"\n              \".then(v => $r.retval(v))\"),\n      njs_str(\"a:async:pr,b:async:pr,c:async:pr\") },\n\n    { njs_str(\"function pr(x) { return new Promise(resolve => {resolve(x + ':pr')}); };\"\n              \"Promise.all(['a', 'b', 'c'].map(async (v) => {\"\n              \"    let r = await pr(v + ':async');\"\n              \"    let r2 = await pr(r + ':async2');\"\n              \"    return r2 + ':r';\"\n              \"}))\"\n              \".then(v => $r.retval(v))\"),\n      njs_str(\"a:async:pr:async2:pr:r,b:async:pr:async2:pr:r,c:async:pr:async2:pr:r\") },\n};\n\n\nstatic njs_unit_test_t  njs_async_handler_test[] =\n{\n    { njs_str(\"globalThis.main = (function() {\"\n              \"     function cb(r) { r.retval(1); }\"\n              \"     function handler(r) {\"\n              \"         r.subrequest(r)\"\n              \"         .then(reply => cb(reply))\"\n              \"     };\"\n              \"     return {handler};\"\n              \"})();\"\n              ),\n      njs_str(\"1\") },\n\n    { njs_str(\"globalThis.main = (function() {\"\n              \"     let obj = { a: 1, b: 2};\"\n              \"     function cb(r) { r.retval(obj.a); }\"\n              \"     function handler(r) {\"\n              \"         r.subrequest(r)\"\n              \"         .then(reply => cb(reply))\"\n              \"     };\"\n              \"     return {handler};\"\n              \"})();\"\n              ),\n      njs_str(\"1\") },\n};\n\n\nstatic njs_unit_test_t  njs_shared_test[] =\n{\n    { njs_str(\"var cr = require('crypto'); cr.createHash\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"var cr = require('crypto'); cr.createHash('md5')\"),\n      njs_str(\"[object Hash]\") },\n\n    { njs_str(\"import cr from 'crypto'; cr.createHash\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"import cr from 'crypto'; cr.createHash('md5')\"),\n      njs_str(\"[object Hash]\") },\n\n    { njs_str(\"var fs = require('fs'); fs.a = 1; fs.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"require('fs').promises === require('fs').promises\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"isFinite()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isFinite(function(){})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"isFin()\"),\n      njs_str(\"ReferenceError: \\\"isFin\\\" is not defined\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"isNaN(function(){})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = $r.uri; $r.uri = $r2.uri; $r2.uri = a; $r2.uri + $r.uri\"),\n      njs_str(\"\u0410\u0411\u0412\u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"njs.dump($r.props)\"),\n      njs_str(\"{a:'1',b:42,c:{d:1024}}\") },\n\n    { njs_str(\"njs.dump($shared.props)\"),\n      njs_str(\"{a:'11',b:42,c:{d:13}}\") },\n\n    { njs_str(\"var r = JSON.parse(JSON.stringify($shared));\"\n              \"[r.uri, r.host, r.props.a, njs.dump(r.vars), njs.dump(r.consts), r.header['02']]\"),\n      njs_str(\"shared,\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419,11,{},{},02|\u0410\u0411\u0412\") },\n\n    { njs_str(\"$shared.toString()\"),\n      njs_str(\"[object External]\") },\n\n    { njs_str(\"$shared.toString().length\"),\n      njs_str(\"17\") },\n\n    { njs_str(\"delete $shared.method; $shared.method\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"$shared.method = () => 1; $shared.method()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"$shared.method = function() {return this.props.a;}; $shared.method()\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"var r; for (var i = 0; i < 2**10; i++) {r = $r.create('XXX').uri;}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"$r.vars.unset = 'a'; $r2.vars.unset = 'b';\"\n              \"$r.vars.unset + $r2.vars.unset\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"$r.vars.unset = 1; $r2.vars.unset = 2;\"\n              \"$r.vars.unset + $r2.vars.unset\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"$r3.vars.p = 'a'; $r3.vars.p2 = 'b';\"\n              \"$r3.vars.p + $r3.vars.p2\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"delete $r3.vars.p; $r3.vars.p\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var sr = $r.create('XXX'); sr.vars.p = 'a'; sr.vars.p\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"$r.bind('XXX', 37); XXX\"),\n      njs_str(\"37\") },\n\n    { njs_str(\"var fs = require('fs'); fs.readFileSync()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\\n\"\n              \"    at fs.readFileSync (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"var f = new Function('return 1;'); f();\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var sum = new Function('a', 'b', 'return a + b');\"\n              \"sum(2, 4);\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var sum = new Function('a, b', 'return a + b');\"\n              \"sum(2, 4);\"),\n      njs_str(\"6\") },\n};\n\n\nstatic njs_unit_test_t  njs_tz_test[] =\n{\n     { njs_str(\"var d = new Date(1); d = d + ''; d.slice(0, 33)\"),\n       njs_str(\"Thu Jan 01 1970 12:45:00 GMT+1245\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getTime()\"),\n       njs_str(\"1308895200000\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.valueOf()\"),\n       njs_str(\"1308895200000\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45);\"\n                  \"d.toString().slice(0, 33)\"),\n       njs_str(\"Fri Jun 24 2011 18:45:00 GMT+1245\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45);\"\n                  \"d.toTimeString().slice(0, 17)\"),\n       njs_str(\"18:45:00 GMT+1245\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.toUTCString()\"),\n       njs_str(\"Fri, 24 Jun 2011 06:00:00 GMT\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                  \"d.toISOString()\"),\n       njs_str(\"2011-06-24T06:00:12.625Z\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCHours()\"),\n       njs_str(\"6\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCMinutes()\"),\n       njs_str(\"0\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                  \"d.getTimezoneOffset()\"),\n       njs_str(\"-765\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setMinutes(3, 2, 5003);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308892687003\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setMinutes(3, 2);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308892682625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setMinutes(3);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308892683625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setHours(20, 3, 2, 5003);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308899887003\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setHours(20, 3, 2);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308899882625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setHours(20, 3);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308899883625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setHours(20);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308902523625\") },\n\n     { njs_str(\"var d = new Date(NaN); d.setHours(20);\"\n                  \"d.getTime()\"),\n       njs_str(\"NaN\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setMonth(2, 10);\"\n                  \"d.getTime()\"),\n       njs_str(\"1299733323625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setMonth(2);\"\n                  \"d.getTime()\"),\n       njs_str(\"1300942923625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setFullYear(2010, 2, 10);\"\n                  \"d.getTime()\"),\n       njs_str(\"1268197323625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setFullYear(2010, 2);\"\n                  \"d.getTime()\"),\n       njs_str(\"1269406923625\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                  \"d.toJSON(1)\"),\n       njs_str(\"2011-06-24T06:00:12.625Z\") },\n\n     { njs_str(\"Date.parse('1970-09-28T06:00:00.000')\"),\n       njs_str(\"23303700000\") },\n\n#if (NJS_TIME_T_SIZE == 8)\n\n     { njs_str(\"var d = new Date(-1, 0);\"\n                  \"d.toISOString()\"),\n       njs_str(\"-000002-12-31T11:47:00.000Z\") },\n\n     { njs_str(\"var d = new Date(-1, 0);\"\n                  \"d.getTime()\"),\n       njs_str(\"-62198799180000\") },\n\n     { njs_str(\"var d = new Date(-1, 0);\"\n                  \"d.getTimezoneOffset()\"),\n       njs_str(\"-733\") },\n#endif\n\n     { njs_str(\"var d = new Date(1970, 6);\"\n                  \"d.getTimezoneOffset()\"),\n       njs_str(\"-765\") },\n};\n\n\nstatic njs_unit_test_t  njs_regexp_optional_tests[] =\n{\n    { njs_str(\"/[\\\\\\\\u02E0-\\\\\\\\u02E4]/\"),\n      njs_str(\"/[\\\\\\\\u02E0-\\\\\\\\u02E4]/\") },\n\n    { njs_str(\"/[\\\\u02E0-\\\\u02E4]/\"),\n      njs_str(\"/[\\\\u02E0-\\\\u02E4]/\") },\n\n    { njs_str(\"RegExp('[\\\\\\\\u02E0-\\\\\\\\u02E4]')\"),\n      njs_str(\"/[\\\\u02E0-\\\\u02E4]/\") },\n\n    { njs_str(\"/[\\\\u0430-\\\\u044f]+/.test('\u0442\u0435\u0441\u0442')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp('[\\\\\\\\u0430-\\\\\\\\u044f]+').test('\u0442\u0435\u0441\u0442')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp('[\\\\\\\\u0430-\\\\\\\\u044f]+').exec('\u0442\u0435\u0441\u0442')[0]\"),\n      njs_str(\"\u0442\u0435\u0441\u0442\") },\n\n    { njs_str(\"/[\\\\uFDE0-\\\\uFFFD]/g; export default 1\"),\n      njs_str(\"SyntaxError: Illegal export statement in 1\") },\n\n    { njs_str(\"RegExp(RegExp('\\x00]]')).test('\\x00]]')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp('\\0').test('\\0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp('\\x00').test('\\0')\"),\n      njs_str(\"true\") },\n\n#ifndef NJS_HAVE_PCRE2\n    { njs_str(\"RegExp('\\x00\\\\\\\\x00').source\"),\n      njs_str(\"\\\\u0000\\\\x00\") },\n\n    { njs_str(\"/\\\\\\0/\"),\n      njs_str(\"/\\\\\\\\u0000/\") },\n\n    { njs_str(\"RegExp('\\\\\\\\\\\\0').source\"),\n      njs_str(\"\\\\\\\\u0000\") },\n#endif\n\n    { njs_str(\"RegExp('[\\0]').test('\\0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/[A-Za-z\\\\u00F8-\\\\u02FF]/.test('S')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/[A-Za-z\\\\u00F8-\\\\u02FF]/.test('\u00f8')\"),\n      njs_str(\"true\") },\n\n};\n\n\nstatic njs_unit_test_t  njs_shell_test[] =\n{\n#define ENTER \"\\n\\3\"\n\n    { njs_str(\"var a = 3\" ENTER\n              \"a * 2\" ENTER),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = \\\"aa\\\\naa\\\"\" ENTER\n              \"a\" ENTER),\n      njs_str(\"aa\\naa\") },\n\n    { njs_str(\"var a = 3\" ENTER\n              \"var a = 'str'\" ENTER\n              \"a\" ENTER),\n      njs_str(\"str\") },\n\n    { njs_str(\"var a = 2\" ENTER\n              \"a *= 2\" ENTER\n              \"a *= 2\" ENTER\n              \"a *= 2\" ENTER),\n      njs_str(\"16\") },\n\n    { njs_str(\"var a = 2\" ENTER\n              \"var b = 3\" ENTER\n              \"a * b\" ENTER),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = 2; var b = 3;\" ENTER\n              \"a * b\" ENTER),\n      njs_str(\"6\") },\n\n    { njs_str(\"function sq(f) { return f() * f() }\" ENTER\n               \"sq(function () { return 3 })\" ENTER),\n      njs_str(\"9\") },\n\n    /* Temporary indexes */\n\n    { njs_str(\"var a = [1,2,3], i; for (i in a) {Object.seal({});}\" ENTER),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i; for (i in [1,2,3]) {Object.seal({});}\" ENTER),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 'A'; \"\n              \"switch (a) {\"\n              \"case 0: a += '0';\"\n              \"case 1: a += '1';\"\n              \"}; a\" ENTER),\n      njs_str(\"A\") },\n\n    { njs_str(\"var a = 0; try { a = 5 }\"\n              \"catch (e) { a = 9 } finally { a++ } a\" ENTER),\n      njs_str(\"6\") },\n\n    { njs_str(\"/abc/i.test('ABC')\" ENTER),\n      njs_str(\"true\") },\n\n    /* Interactive mode. */\n\n    { njs_str(\"var a = 1\" ENTER\n              \"a\" ENTER),\n      njs_str(\"1\") },\n\n    { njs_str(\"Number.prototype.test = 'test'\" ENTER\n              \"Number.prototype.test\" ENTER),\n      njs_str(\"test\") },\n\n    { njs_str(\"function f(a) {return a}\" ENTER\n              \"function f(a) {return a}; f(2)\" ENTER),\n      njs_str(\"2\") },\n\n    { njs_str(\"function f() {return 1}\" ENTER\n              \"function f(a) {return 1}; f(2)\" ENTER),\n      njs_str(\"1\") },\n\n    { njs_str(\"try {(new Function('function foo(){return 1}; ()=>{}breakhere'))} catch (e) {}\" ENTER\n              \"foo()\" ENTER),\n      njs_str(\"ReferenceError: \\\"foo\\\" is not defined\\n\"\n              \"    at main (:1)\\n\") },\n\n    /* Error handling */\n\n    { njs_str(\"var a = ;\" ENTER\n              \"2 + 2\" ENTER),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f() { return b;\" ENTER),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"function f() { return b;\" ENTER\n               \"2 + 2\" ENTER),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f() { return function() { return 1\" ENTER\n              \"2 + 2\" ENTER),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f() { return b;}\" ENTER\n              \"2 + 2\" ENTER),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f(o) { return o.a.a;}; f{{}}\" ENTER\n              \"2 + 2\" ENTER),\n      njs_str(\"4\") },\n\n    { njs_str(\"function ff(o) {return o.a.a}\" ENTER\n              \"function f(o) {try {return ff(o)} \"\n              \"               finally {return 1}}\" ENTER\n              \"f({})\" ENTER),\n      njs_str(\"1\") },\n\n    { njs_str(\"arguments\" ENTER\n              \"function(){}()\" ENTER),\n      njs_str(\"SyntaxError: Unexpected token \\\"(\\\" in 1\") },\n\n    /* Exception in njs_vm_retval_string() */\n\n    { njs_str(\"var o = { toString: function() { return [1] } }\" ENTER\n              \"o\" ENTER),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n};\n\n\nstatic njs_unit_test_t  njs_backtraces_test[] =\n{\n    { njs_str(\"function ff(o) {return o.a.a};\"\n              \"function f(o) {return ff(o)};\"\n              \"f({})\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at ff (:1)\\n\"\n              \"    at f (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"function ff(o) {return o.a.a};\"\n              \"function f(o) {try {return ff(o)} \"\n              \"               finally {return o.a.a}};\"\n              \"f({})\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at f (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"function f(ff, o) {return ff(o)};\"\n              \"f(function (o) {return o.a.a}, {})\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at anonymous (:1)\\n\"\n              \"    at f (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"'str'.replace(/t/g,\"\n              \"              function(m) {return m.a.a})\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at anonymous (:1)\\n\"\n              \"    at RegExp.prototype[Symbol.replace] (native)\\n\"\n              \"    at String.prototype.replace (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"function f(o) {return Object.keys(o)};\"\n              \"f()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\\n\"\n              \"    at Object.keys (native)\\n\"\n              \"    at f (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"[].concat({}.a.a)\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at Array.prototype.concat (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"''.repeat(-1)\"),\n      njs_str(\"RangeError\\n\"\n              \"    at String.prototype.repeat (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"Math.log({}.a.a)\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at Math.log (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"var bound = Math.max.bind(null, {toString(){return {}}}); bound(1)\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\\n\"\n              \"    at Math.max (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"Object.prototype()\"),\n      njs_str(\"TypeError: (intermediate value)[\\\"prototype\\\"] is not a function\\n\"\n               \"    at main (:1)\\n\") },\n\n    { njs_str(\"eval()\"),\n      njs_str(\"InternalError: Not implemented\\n\"\n              \"    at eval (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"$shared.method({}.a.a)\"),\n    /* FIXME: at $shared.method (native) */\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at $r.method (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"new Function(\\n\\n@)\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"@\\\" in 3\") },\n\n    { njs_str(\"require()\"),\n      njs_str(\"TypeError: missing path\\n\"\n              \"    at require (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"setTimeout()\"),\n      njs_str(\"TypeError: too few arguments\\n\"\n              \"    at setTimeout (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"require('crypto').createHash('sha')\"),\n      njs_str(\"TypeError: not supported algorithm: \\\"sha\\\"\\n\"\n              \"    at crypto.createHash (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"h.update([])\"),\n      njs_str(\"TypeError: data argument \\\"array\\\" is not a string or Buffer-like object\\n\"\n              \"    at Hash.update (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"require('crypto').createHmac('sha1', [])\"),\n      njs_str(\"TypeError: key argument \\\"array\\\" is not a string or Buffer-like object\\n\"\n              \"    at crypto.createHmac (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha1', 'secret');\"\n              \"h.update([])\"),\n      njs_str(\"TypeError: data argument \\\"array\\\" is not a string or Buffer-like object\\n\"\n              \"    at Hmac.update (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"function f(o) {function f_in(o) {return o.a.a};\"\n              \"               return f_in(o)};\"\n              \"f({})\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at f_in (:1)\\n\"\n              \"    at f (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"function f(o) {var ff = function (o) {return o.a.a};\"\n              \"               return ff(o)};\"\n              \"f({})\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at anonymous (:1)\\n\"\n              \"    at f (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"[\"\n              \" 'access',\"\n              \" 'accessSync',\"\n              \" 'readFile',\"\n              \" 'readFileSync',\"\n              \" 'writeFile',\"\n              \" 'writeFileSync',\"\n              \" 'appendFile',\"\n              \" 'appendFileSync',\"\n              \" 'symlink',\"\n              \" 'symlinkSync',\"\n              \" 'unlink',\"\n              \" 'unlinkSync',\"\n              \" 'realpath',\"\n              \" 'realpathSync',\"\n              \"]\"\n              \".every(v=>{ try {fs[v]();} catch (e) { return e.stack.search(`fs.${v} `) >= 0}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"parseInt({ toString: function() { return [1] } })\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\\n\"\n              \"    at parseInt (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"function f(n) { if (n == 0) { throw 'a'; } return f(n-1); }; f(2)\"),\n      njs_str(\"a\") },\n\n    /* line numbers */\n\n    { njs_str(\"/**/(function(){throw Error();})()\"),\n      njs_str(\"Error\\n\"\n              \"    at anonymous (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"/***/(function(){throw Error();})()\"),\n      njs_str(\"Error\\n\"\n              \"    at anonymous (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"/*\\n**/(function(){throw Error();})()\"),\n      njs_str(\"Error\\n\"\n              \"    at anonymous (:2)\\n\"\n              \"    at main (:2)\\n\") },\n\n    { njs_str(\"({})\\n.a\\n.a\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at main (:3)\\n\") },\n\n    { njs_str(\"1\\n+a\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\\n\"\n              \"    at main (:2)\\n\") },\n\n    { njs_str(\"\\n`\\n${Object}\\n${a}`\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\\n\"\n              \"    at main (:4)\\n\") },\n\n    { njs_str(\"function log(v) {}\\nlog({}\\n.a\\n.a)\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at main (:4)\\n\") },\n\n    { njs_str(\"\\nfor (var i = 0;\\n i < a;\\n i++) { }\\n\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\\n\"\n              \"    at main (:3)\\n\") },\n\n    { njs_str(\"\\nfor (var i = 0;\\n i < 5;\\n a) {\\n }\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\\n\"\n              \"    at main (:4)\\n\") },\n\n    { njs_str(\"Math\\n.min(1,\\na)\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\\n\"\n              \"    at Math.min (native)\\n\"\n              \"    at main (:3)\\n\") },\n};\n\n\ntypedef struct {\n    njs_bool_t  disassemble;\n    njs_str_t   filter;\n    njs_bool_t  verbose;\n\n    njs_uint_t  externals;\n    njs_bool_t  module;\n    njs_uint_t  repeat;\n    njs_bool_t  unsafe;\n    njs_bool_t  backtrace;\n    njs_bool_t  handler;\n    njs_bool_t  async;\n    unsigned    seed;\n} njs_opts_t;\n\n\ntypedef struct {\n    njs_uint_t  passed;\n    njs_uint_t  failed;\n} njs_stat_t;\n\n\ntypedef struct {\n    njs_vm_t            *vm;\n    njs_external_env_t  *env;\n    njs_external_env_t  env0;\n\n    enum {\n        sw_start = 0,\n        sw_handler,\n        sw_loop,\n        sw_done\n    }                   state;\n} njs_external_state_t;\n\n\ntypedef struct {\n    njs_external_state_t  *states;\n    njs_uint_t            size;\n    njs_uint_t            current;\n} njs_runtime_t;\n\n\nstatic void\nnjs_unit_test_report(njs_str_t *name, njs_stat_t *prev, njs_stat_t *current)\n{\n    njs_stat_t  stat;\n\n    stat.failed = current->failed - prev->failed;\n    stat.passed = current->passed - prev->passed;\n\n    njs_printf(\"%V tests: %s [%d/%d]\\n\", name,\n               stat.failed ? \"FAILED\" : \"PASSED\", stat.passed,\n               stat.passed + stat.failed);\n}\n\n\nstatic njs_int_t\nnjs_external_state_init(njs_vm_t *vm, njs_external_state_t *s, njs_opts_t *opts)\n{\n    njs_int_t  ret;\n\n    if (opts->externals) {\n        s->env = &s->env0;\n\n        ret = njs_external_env_init(s->env);\n        if (ret != NJS_OK) {\n            njs_stderror(\"njs_external_env_init() failed\\n\");\n            return NJS_ERROR;\n        }\n\n    } else {\n        s->env = NULL;\n    }\n\n    s->vm = njs_vm_clone(vm, s->env);\n    if (s->vm == NULL) {\n        njs_stderror(\"njs_vm_clone() failed\\n\");\n        return NJS_ERROR;\n    }\n\n    if (opts->externals) {\n        ret = njs_externals_init(s->vm);\n        if (ret != NJS_OK) {\n            njs_stderror(\"njs_externals_init() failed\\n\");\n            return NJS_ERROR;\n        }\n    }\n\n    s->state = sw_start;\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_external_retval(njs_external_state_t *state, njs_str_t *s)\n{\n    if (state->env != NULL && njs_value_is_valid(&state->env->retval)) {\n        return njs_vm_value_string(state->vm, s, &state->env->retval);\n    }\n\n    return njs_vm_retval_string(state->vm, s);\n}\n\n\nstatic njs_runtime_t *\nnjs_runtime_init(njs_vm_t *vm, njs_opts_t *opts)\n{\n    njs_int_t      ret;\n    njs_uint_t     i;\n    njs_runtime_t  *rt;\n\n    rt = njs_mp_alloc(vm->mem_pool, sizeof(njs_runtime_t));\n    if (rt == NULL) {\n        return NULL;\n    }\n\n    rt->size = opts->repeat;\n    rt->states = njs_mp_alloc(vm->mem_pool,\n                              sizeof(njs_external_state_t) * rt->size);\n    if (rt->states == NULL) {\n        return NULL;\n    }\n\n    rt->current = 0;\n    srandom(opts->seed);\n\n    for (i = 0; i < rt->size; i++) {\n        ret = njs_external_state_init(vm, &rt->states[i], opts);\n        if (ret != NJS_OK) {\n            njs_stderror(\"njs_external_state_init() failed\\n\");\n            return NULL;\n        }\n    }\n\n    return rt;\n}\n\n\nstatic njs_external_state_t *\nnjs_runtime_next_state(njs_runtime_t *rt, njs_opts_t *opts)\n{\n    unsigned  next, n;\n\n    n = 0;\n    next = ((opts->async) ? (unsigned) random() : rt->current++) % rt->size;\n\n    while (rt->states[next].state == sw_done) {\n        next++;\n        next = next % rt->size;\n\n        n++;\n\n        if (n == rt->size) {\n            return NULL;\n        }\n    }\n\n    return &rt->states[next];\n}\n\n\nstatic void\nnjs_runtime_destroy(njs_runtime_t *rt)\n{\n    njs_uint_t  i;\n\n    for (i = 0; i < rt->size; i++) {\n        if (rt->states[i].vm != NULL) {\n            njs_vm_destroy(rt->states[i].vm);\n        }\n    }\n}\n\n\nstatic njs_int_t\nnjs_process_test(njs_external_state_t *state, njs_opts_t *opts,\n    njs_unit_test_t *expected)\n{\n    njs_int_t    ret;\n    njs_str_t    s;\n    njs_bool_t   success;\n    njs_value_t  request;\n\n    static const njs_str_t  handler_str = njs_str(\"main.handler\");\n    static const njs_str_t  request_str = njs_str(\"$r\");\n\n    switch (state->state) {\n    case sw_start:\n        state->state = sw_handler;\n\n        ret = njs_vm_start(state->vm);\n        if (ret != NJS_OK) {\n            goto done;\n        }\n\n        if (opts->async) {\n            return NJS_OK;\n        }\n\n        /* Fall through. */\n    case sw_handler:\n        state->state = sw_loop;\n\n        if (opts->handler) {\n            ret = njs_vm_value(state->vm, &request_str, &request);\n            if (ret != NJS_OK) {\n                njs_stderror(\"njs_vm_value(\\\"%V\\\") failed\\n\", &request_str);\n                return NJS_ERROR;\n            }\n\n            ret = njs_external_call(state->vm, &handler_str, &request, 1);\n            if (ret == NJS_ERROR) {\n                goto done;\n            }\n\n            if (opts->async) {\n                return NJS_OK;\n            }\n        }\n\n        /* Fall through. */\n    case sw_loop:\n    default:\n        for ( ;; ) {\n            if (!njs_vm_pending(state->vm)) {\n                break;\n            }\n\n            ret = njs_external_process_events(state->vm, state->env);\n            if (ret != NJS_OK) {\n                njs_stderror(\"njs_external_process_events() failed\\n\");\n                return NJS_ERROR;\n            }\n\n            if (njs_vm_waiting(state->vm) && !njs_vm_posted(state->vm)) {\n                /*TODO: async events. */\n\n                njs_stderror(\"njs_process_test(): async events unsupported\\n\");\n                return NJS_ERROR;\n            }\n\n            (void) njs_vm_run(state->vm);\n\n            if (opts->async) {\n                return NJS_OK;\n            }\n        }\n    }\n\ndone:\n\n    state->state = sw_done;\n\n    if (njs_external_retval(state, &s) != NJS_OK) {\n        njs_stderror(\"njs_external_retval() failed\\n\");\n        return NJS_ERROR;\n    }\n\n    success = njs_strstr_eq(&expected->ret, &s);\n    if (!success) {\n        njs_stderror(\"njs(\\\"%V\\\")\\nexpected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\",\n                     &expected->script, &expected->ret, &s);\n\n        return NJS_DECLINED;\n    }\n\n    njs_vm_destroy(state->vm);\n    state->vm = NULL;\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_unit_test(njs_unit_test_t tests[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    u_char                *start, *end;\n    njs_vm_t              *vm;\n    njs_int_t             ret;\n    njs_str_t             s;\n    njs_bool_t            success;\n    njs_uint_t            i;\n    njs_stat_t            prev;\n    njs_vm_opt_t          options;\n    njs_runtime_t         *rt;\n    njs_external_state_t  *state;\n\n    vm = NULL;\n    rt = NULL;\n\n    prev = *stat;\n\n    ret = NJS_ERROR;\n\n    for (i = 0; i < num; i++) {\n\n        if (opts->verbose) {\n            njs_printf(\"\\\"%V\\\"\\n\", &tests[i].script);\n        }\n\n        njs_vm_opt_init(&options);\n\n        options.module = opts->module;\n        options.unsafe = opts->unsafe;\n        options.backtrace = opts->backtrace;\n\n        vm = njs_vm_create(&options);\n        if (vm == NULL) {\n            njs_printf(\"njs_vm_create() failed\\n\");\n            goto done;\n        }\n\n        if (opts->externals) {\n            ret = njs_externals_shared_init(vm);\n            if (ret != NJS_OK) {\n                goto done;\n            }\n        }\n\n        start = tests[i].script.start;\n        end = start + tests[i].script.length;\n\n        ret = njs_vm_compile(vm, &start, end);\n\n        if (ret == NJS_OK && start == end) {\n            if (opts->disassemble) {\n                njs_disassembler(vm);\n            }\n\n            rt = njs_runtime_init(vm, opts);\n            if (rt == NULL) {\n                njs_stderror(\"njs_runtime_init() failed\\n\");\n                goto done;\n            }\n\n            for ( ;; ) {\n                state = njs_runtime_next_state(rt, opts);\n                if (state == NULL) {\n                    break;\n                }\n\n                ret = njs_process_test(state, opts, &tests[i]);\n                if (ret != NJS_OK) {\n                    if (ret == NJS_DECLINED) {\n                        break;\n                    }\n\n                    njs_stderror(\"njs_process_test() failed\\n\");\n                    goto done;\n                }\n            }\n\n            success = (ret == NJS_OK);\n\n            if (rt != NULL) {\n                njs_runtime_destroy(rt);\n                rt = NULL;\n            }\n\n        } else {\n            if (ret != NJS_OK) {\n                if (njs_vm_retval_string(vm, &s) != NJS_OK) {\n                    njs_printf(\"njs_vm_retval_string() failed\\n\");\n                    goto done;\n                }\n\n            } else {\n                s = njs_str_value(\"Error: \"\n                                  \"Extra characters at the end of the script\");\n            }\n\n            success = njs_strstr_eq(&tests[i].ret, &s);\n            if (!success) {\n                njs_stderror(\"njs(\\\"%V\\\")\\nexpected: \\\"%V\\\"\\n\"\n                             \"     got: \\\"%V\\\"\\n\",\n                             &tests[i].script, &tests[i].ret, &s);\n            }\n        }\n\n        if (success) {\n            stat->passed++;\n\n        } else {\n            stat->failed++;\n        }\n\n        njs_vm_destroy(vm);\n        vm = NULL;\n    }\n\n    ret = NJS_OK;\n\ndone:\n\n    if (rt != NULL) {\n        njs_runtime_destroy(rt);\n    }\n\n    if (vm != NULL) {\n        njs_vm_destroy(vm);\n    }\n\n    njs_unit_test_report(name, &prev, stat);\n\n    return ret;\n}\n\n\nstatic njs_int_t\nnjs_interactive_test(njs_unit_test_t tests[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    u_char        *start, *last, *end;\n    njs_vm_t      *vm;\n    njs_int_t     ret;\n    njs_str_t     s;\n    njs_uint_t    i;\n    njs_stat_t    prev;\n    njs_bool_t    success;\n    njs_vm_opt_t  options;\n\n    vm = NULL;\n\n    prev = *stat;\n\n    ret = NJS_ERROR;\n\n    for (i = 0; i < num; i++) {\n\n        if (opts->verbose) {\n            njs_printf(\"\\\"%V\\\"\\n\", &tests[i].script);\n        }\n\n        njs_vm_opt_init(&options);\n\n        options.init = 1;\n        options.interactive = 1;\n        options.backtrace = 1;\n\n        vm = njs_vm_create(&options);\n        if (vm == NULL) {\n            njs_printf(\"njs_vm_create() failed\\n\");\n            goto done;\n        }\n\n        if (opts->externals) {\n            ret = njs_externals_shared_init(vm);\n            if (ret != NJS_OK) {\n                goto done;\n            }\n\n            ret = njs_externals_init(vm);\n            if (ret != NJS_OK) {\n                goto done;\n            }\n        }\n\n        start = tests[i].script.start;\n        last = start + tests[i].script.length;\n        end = NULL;\n\n        for ( ;; ) {\n            start = (end != NULL) ? end + njs_length(ENTER) : start;\n            if (start >= last) {\n                break;\n            }\n\n            end = (u_char *) strstr((char *) start, ENTER);\n\n            ret = njs_vm_compile(vm, &start, end);\n            if (ret == NJS_OK) {\n                if (opts->disassemble) {\n                    njs_disassembler(vm);\n                }\n\n                ret = njs_vm_start(vm);\n            }\n        }\n\n        if (njs_vm_retval_string(vm, &s) != NJS_OK) {\n            njs_printf(\"njs_vm_retval_string() failed\\n\");\n            goto done;\n        }\n\n        success = njs_strstr_eq(&tests[i].ret, &s);\n\n        if (!success) {\n            njs_printf(\"njs(\\\"%V\\\")\\nexpected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\",\n                       &tests[i].script, &tests[i].ret, &s);\n\n            stat->failed++;\n\n        } else {\n            stat->passed++;\n        }\n\n        njs_vm_destroy(vm);\n        vm = NULL;\n    }\n\n    ret = NJS_OK;\n\ndone:\n\n    if (vm != NULL) {\n        njs_vm_destroy(vm);\n    }\n\n    njs_unit_test_report(name, &prev, stat);\n\n    return ret;\n}\n\n\nstatic njs_int_t\nnjs_timezone_optional_test(njs_unit_test_t tests[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    size_t     size;\n    u_char     buf[16];\n    time_t     clock;\n    struct tm  tm;\n    njs_int_t  ret;\n\n    /*\n     * Chatham Islands NZ-CHAT time zone.\n     * Standard time: UTC+12:45, Daylight Saving time: UTC+13:45.\n     */\n    (void) putenv((char *) \"TZ=Pacific/Chatham\");\n    tzset();\n\n    clock = 0;\n    localtime_r(&clock, &tm);\n\n    size = strftime((char *) buf, sizeof(buf), \"%z\", &tm);\n\n    if (memcmp(buf, \"+1245\", size) == 0) {\n        ret = njs_unit_test(tests, num, name, opts, stat);\n        if (ret != NJS_OK) {\n            return ret;\n        }\n\n    } else {\n        njs_printf(\"njs timezone tests skipped, timezone is unavailable\\n\");\n    }\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_regexp_optional_test(njs_unit_test_t tests[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_bool_t  safe;\n\n#ifndef NJS_HAVE_PCRE2\n    int         erroff;\n    pcre        *re1, *re2;\n    const char  *errstr;\n\n    /*\n     * pcre-8.21 crashes when it compiles unicode escape codes inside\n     * square brackets when PCRE_UTF8 option is provided.\n     * Catching it in runtime by compiling it without PCRE_UTF8. Normally it\n     * should return NULL and \"character value in \\u.... sequence is too large\"\n     * error string.\n     */\n    re1 = pcre_compile(\"/[\\\\u0410]/\", PCRE_JAVASCRIPT_COMPAT, &errstr, &erroff,\n                      NULL);\n\n    if (re1 != NULL) {\n        pcre_free(re1);\n    }\n\n    /*\n     * pcre-7.8 fails to compile unicode escape codes inside square brackets\n     * even when PCRE_UTF8 option is provided.\n     */\n    re2 = pcre_compile(\"/[\\\\u0410]/\", PCRE_JAVASCRIPT_COMPAT | PCRE_UTF8,\n                       &errstr, &erroff, NULL);\n\n    if (re2 != NULL) {\n        pcre_free(re2);\n    }\n\n    safe = (re1 == NULL && re2 != NULL);\n\n#else\n\n    safe = 1;\n\n#endif\n\n    if (safe) {\n        return njs_unit_test(tests, num, name, opts, stat);\n    }\n\n    njs_printf(\"regexp optional tests skipped\\n\");\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_vm_json_test(njs_unit_test_t unused[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_vm_t      *vm;\n    njs_int_t     ret;\n    njs_str_t     s, *script;\n    njs_uint_t    i;\n    njs_bool_t    success;\n    njs_stat_t    prev;\n    njs_value_t   args[3];\n    njs_vm_opt_t  options;\n\n    static const njs_str_t fname = njs_str(\"replacer\");\n    static const njs_str_t iname = njs_str(\"indent\");\n\n    static njs_unit_test_t tests[] = {\n        { njs_str(\"'[1, true, \\\"x\\\", {\\\"a\\\": {}}]'\"),\n          njs_str(\"[1,true,\\\"x\\\",{\\\"a\\\":{}}]\") },\n        { njs_str(\"'{\\\"a\\\":{\\\"b\\\":1}}'\"),\n          njs_str(\"{\\\"a\\\":{\\\"b\\\":1}}\") },\n        { njs_str(\"'[[[],{}]]'\"),\n          njs_str(\"[[[],{}]]\") },\n        { njs_str(\"var indent = 1; '[]'\"),\n          njs_str(\"[\\n \\n]\") },\n        { njs_str(\"function replacer(k, v) {return v}; '{\\\"a\\\":{\\\"b\\\":1}}'\"),\n          njs_str(\"{\\\"a\\\":{\\\"b\\\":1}}\") },\n        { njs_str(\"function replacer(k, v) {\"\n                     \"   return (typeof v === 'string') ? undefined : v};\"\n                     \"'{\\\"a\\\":1, \\\"b\\\":\\\"x\\\"}'\"),\n          njs_str(\"{\\\"a\\\":1}\") },\n    };\n\n    vm = NULL;\n\n    prev = *stat;\n\n    ret = NJS_ERROR;\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n\n        njs_vm_opt_init(&options);\n        options.init = 1;\n\n        vm = njs_vm_create(&options);\n        if (vm == NULL) {\n            njs_printf(\"njs_vm_create() failed\\n\");\n            goto done;\n        }\n\n        script = &tests[i].script;\n\n        ret = njs_vm_compile(vm, &script->start,\n                             script->start + script->length);\n\n        if (ret != NJS_OK) {\n            njs_printf(\"njs_vm_compile() failed\\n\");\n            goto done;\n        }\n\n        ret = njs_vm_start(vm);\n        if (ret != NJS_OK) {\n            njs_printf(\"njs_vm_run() failed\\n\");\n            goto done;\n        }\n\n        args[0] = *njs_vm_retval(vm);\n\n        ret = njs_vm_json_parse(vm, args, 1);\n        if (ret != NJS_OK) {\n            njs_printf(\"njs_vm_json_parse() failed\\n\");\n            goto done;\n        }\n\n        args[0] = vm->retval;\n        njs_vm_value(vm, &fname, &args[1]);\n        njs_vm_value(vm, &iname, &args[2]);\n\n        ret = njs_vm_json_stringify(vm, args, 3);\n        if (ret != NJS_OK) {\n            njs_printf(\"njs_vm_json_stringify() failed\\n\");\n            goto done;\n        }\n\n        if (njs_vm_retval_string(vm, &s) != NJS_OK) {\n            njs_printf(\"njs_vm_retval_string() failed\\n\");\n            goto done;\n        }\n\n        success = njs_strstr_eq(&tests[i].ret, &s);\n\n        if (!success) {\n            njs_printf(\"njs_vm_json_test(\\\"%V\\\")\\n\"\n                       \"expected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\", script,\n                       &tests[i].ret, &s);\n\n            stat->failed++;\n\n        } else {\n            stat->passed++;\n        }\n\n        njs_vm_destroy(vm);\n        vm = NULL;\n\n    }\n\n    ret = NJS_OK;\n\ndone:\n\n    if (ret != NJS_OK) {\n        if (njs_vm_retval_string(vm, &s) != NJS_OK) {\n            njs_printf(\"njs_vm_retval_string() failed\\n\");\n\n        } else {\n            njs_printf(\"%V\\n\", &s);\n        }\n    }\n\n    njs_unit_test_report(name, &prev, stat);\n\n    if (vm != NULL) {\n        njs_vm_destroy(vm);\n    }\n\n    return ret;\n}\n\n\nstatic njs_int_t\nnjs_vm_value_test(njs_unit_test_t unused[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_vm_t      *vm;\n    njs_int_t     ret;\n    njs_str_t     s, *script, path;\n    njs_uint_t    i;\n    njs_bool_t    success;\n    njs_stat_t    prev;\n    njs_vm_opt_t  options;\n\n    static struct {\n        njs_str_t   script;\n        njs_str_t   path;\n        njs_str_t   ret;\n    } tests[] = {\n        {\n          .script = njs_str(\"var o = {a:1}\"),\n          .path = njs_str(\"o.a\"),\n          .ret = njs_str(\"1\"),\n        },\n\n        {\n          .script = njs_str(\"var aaaaabbbbbcccccddddd = {e:2}\"),\n          .path = njs_str(\"aaaaabbbbbcccccddddd.e\"),\n          .ret = njs_str(\"2\"),\n        },\n\n        {\n          .script = njs_str(\"var o = {a:{b:3}}\"),\n          .path = njs_str(\"o.a.b\"),\n          .ret = njs_str(\"3\"),\n        },\n\n        {\n          .script = njs_str(\"var o = 1\"),\n          .path = njs_str(\"o.a\"),\n          .ret = njs_str(\"undefined\"),\n        },\n\n        {\n          .script = njs_str(\"\"),\n          .path = njs_str(\"o\"),\n          .ret = njs_str(\"undefined\"),\n        },\n\n        {\n          .script = njs_str(\"var o = {'':1}\"),\n          .path = njs_str(\".\"),\n          .ret = njs_str(\"TypeError: empty path element\"),\n        },\n\n        {\n          .script = njs_str(\"var o = {'':1}\"),\n          .path = njs_str(\"o.\"),\n          .ret = njs_str(\"TypeError: empty path element\"),\n        },\n        {\n          .script = njs_str(\"var o = {'':1}\"),\n          .path = njs_str(\"o..\"),\n          .ret = njs_str(\"TypeError: empty path element\"),\n        },\n    };\n\n    vm = NULL;\n\n    prev = *stat;\n\n    ret = NJS_ERROR;\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n\n        memset(&options, 0, sizeof(njs_vm_opt_t));\n        options.init = 1;\n\n        vm = njs_vm_create(&options);\n        if (vm == NULL) {\n            njs_printf(\"njs_vm_create() failed\\n\");\n            goto done;\n        }\n\n        script = &tests[i].script;\n\n        ret = njs_vm_compile(vm, &script->start,\n                             script->start + script->length);\n\n        if (ret != NJS_OK) {\n            njs_printf(\"njs_vm_compile() failed\\n\");\n            goto done;\n        }\n\n        ret = njs_vm_start(vm);\n        if (ret != NJS_OK) {\n            njs_printf(\"njs_vm_run() failed\\n\");\n            goto done;\n        }\n\n        path = tests[i].path;\n\n        path.start = njs_mp_alloc(vm->mem_pool, path.length);\n        if (path.start == NULL) {\n            njs_printf(\"njs_mp_alloc() failed\\n\");\n            goto done;\n        }\n\n        memcpy(path.start, tests[i].path.start, path.length);\n\n        ret = njs_vm_value(vm, &path, &vm->retval);\n\n        if (njs_vm_retval_string(vm, &s) != NJS_OK) {\n            njs_printf(\"njs_vm_retval_string() failed\\n\");\n            goto done;\n        }\n\n        success = njs_strstr_eq(&tests[i].ret, &s);\n\n        if (!success) {\n            njs_printf(\"njs_vm_value_test(\\\"%V\\\")\\n\"\n                       \"expected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\", script,\n                       &tests[i].ret, &s);\n\n            stat->failed++;\n\n        } else {\n            stat->passed++;\n        }\n\n        njs_vm_destroy(vm);\n        vm = NULL;\n\n    }\n\n    ret = NJS_OK;\n\ndone:\n\n    if (ret != NJS_OK) {\n        if (njs_vm_retval_string(vm, &s) != NJS_OK) {\n            njs_printf(\"njs_vm_retval_string() failed\\n\");\n\n        } else {\n            njs_printf(\"%V\\n\", &s);\n        }\n    }\n\n    njs_unit_test_report(name, &prev, stat);\n\n    if (vm != NULL) {\n        njs_vm_destroy(vm);\n    }\n\n    return ret;\n}\n\n\nstatic njs_int_t\nnjs_vm_object_alloc_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_int_t    ret;\n    njs_value_t  args[2], obj;\n\n    static const njs_value_t num_key = njs_string(\"num\");\n    static const njs_value_t bool_key = njs_string(\"bool\");\n\n    njs_value_number_set(njs_argument(&args, 0), 1);\n    njs_value_boolean_set(njs_argument(&args, 1), 0);\n\n    ret = njs_vm_object_alloc(vm, &obj, NULL);\n    if (ret != NJS_OK) {\n        return NJS_ERROR;\n    }\n\n    ret = njs_vm_object_alloc(vm, &obj, &num_key, NULL);\n    if (ret == NJS_OK) {\n        return NJS_ERROR;\n    }\n\n    ret = njs_vm_object_alloc(vm, &obj, &num_key, &args[0], NULL);\n    if (ret != NJS_OK) {\n        return NJS_ERROR;\n    }\n\n    ret = njs_vm_object_alloc(vm, &obj, &num_key, &args[0], &bool_key,\n                              &args[1], NULL);\n    if (ret != NJS_OK) {\n        stat->failed++;\n        return NJS_OK;\n    }\n\n    stat->passed++;\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_file_basename_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_str_t   name;\n    njs_bool_t  success;\n    njs_uint_t  i;\n\n    static const struct {\n        njs_str_t   path;\n        njs_str_t   expected;\n    } tests[] = {\n        { njs_str(\"\"),            njs_str(\"\") },\n        { njs_str(\"/\"),           njs_str(\"\") },\n        { njs_str(\"/a\"),          njs_str(\"a\") },\n        { njs_str(\"///\"),         njs_str(\"\") },\n        { njs_str(\"///a\"),        njs_str(\"a\") },\n        { njs_str(\"///a/\"),       njs_str(\"\") },\n        { njs_str(\"a\"),           njs_str(\"a\") },\n        { njs_str(\"a/\"),          njs_str(\"\") },\n        { njs_str(\"a//\"),         njs_str(\"\") },\n        { njs_str(\"path/name\"),   njs_str(\"name\") },\n        { njs_str(\"/path/name\"),  njs_str(\"name\") },\n        { njs_str(\"/path/name/\"), njs_str(\"\") },\n    };\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n        njs_file_basename(&tests[i].path, &name);\n\n        success = njs_strstr_eq(&tests[i].expected, &name);\n\n        if (!success) {\n            njs_printf(\"njs_file_basename_test(\\\"%V\\\"):\\n\"\n                       \"expected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\",\n                       &tests[i].path, &tests[i].expected, &name);\n\n            stat->failed++;\n\n        } else {\n            stat->passed++;\n        }\n    }\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_file_dirname_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_str_t   name;\n    njs_bool_t  success;\n    njs_uint_t  i;\n\n    static const struct {\n        njs_str_t   path;\n        njs_str_t   expected;\n    } tests[] = {\n        { njs_str(\"\"),               njs_str(\".\") },\n        { njs_str(\"/\"),              njs_str(\"/\") },\n        { njs_str(\"/a\"),             njs_str(\"/\") },\n        { njs_str(\"///\"),            njs_str(\"///\") },\n        { njs_str(\"///a\"),           njs_str(\"///\") },\n        { njs_str(\"///a/\"),          njs_str(\"///a\") },\n        { njs_str(\"a\"),              njs_str(\".\") },\n        { njs_str(\"a/\"),             njs_str(\"a\") },\n        { njs_str(\"a//\"),            njs_str(\"a\") },\n        { njs_str(\"p1/p2/name\"),     njs_str(\"p1/p2\") },\n        { njs_str(\"/p1/p2/name\"),    njs_str(\"/p1/p2\") },\n        { njs_str(\"/p1/p2///name\"),  njs_str(\"/p1/p2\") },\n        { njs_str(\"/p1/p2/name/\"),   njs_str(\"/p1/p2/name\") },\n    };\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n        njs_file_dirname(&tests[i].path, &name);\n\n        success = njs_strstr_eq(&tests[i].expected, &name);\n\n        if (!success) {\n            njs_printf(\"njs_file_dirname_test(\\\"%V\\\"):\\n\"\n                       \"expected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\",\n                       &tests[i].path, &tests[i].expected, &name);\n\n            stat->failed++;\n        } else {\n            stat->passed++;\n        }\n\n    }\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_chb_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    u_char     *p;\n    njs_int_t  ret, i;\n    njs_chb_t  chain;\n    njs_str_t  string, arg;\n\n    static const njs_str_t  expected = njs_str(\"arg: \\\"XYZ\\\" -5\");\n\n    njs_chb_init(&chain, vm->mem_pool);\n\n    p = njs_chb_reserve(&chain, 513);\n    if (p == NULL) {\n        ret = NJS_ERROR;\n        njs_printf(\"njs_chb_reserve() failed\\n\");\n        goto done;\n    }\n\n    njs_memset(p, 'Z', 256);\n\n    njs_chb_written(&chain, 256);\n\n    for (i = 0; i < 768; i++) {\n        njs_chb_append(&chain, \"X\", 1);\n    }\n\n    ret = njs_chb_join(&chain, &string);\n    if (ret != NJS_OK) {\n        njs_printf(\"njs_chb_join() failed\\n\");\n        goto done;\n    }\n\n    if (string.length != 1024 || njs_chb_size(&chain) != 1024) {\n        ret = NJS_ERROR;\n        njs_printf(\"njs_chb_join() corrupts \"\n                   \"string.length:%z njs_chb_size(&chain):%z != 1024\\n\",\n                   string.length, njs_chb_size(&chain));\n        goto done;\n    }\n\n    for (i = 0; i < 1024; i++) {\n        if (string.start[i] != ((i < 256) ? 'Z' : 'X')) {\n            ret = NJS_ERROR;\n            njs_printf(\"njs_chb_join() corrupts string[%i]:%c != '%c'\\n\",\n                       i, string.start[i], (i < 256) ? 'Z' : 'X');\n            goto done;\n        }\n    }\n\n    njs_mp_free(vm->mem_pool, string.start);\n\n    for (i = 0; i < 222; i++) {;\n        njs_chb_drain(&chain, 3);\n    }\n\n    ret = njs_chb_join(&chain, &string);\n    if (ret != NJS_OK) {\n        njs_printf(\"njs_chb_join() failed\\n\");\n        goto done;\n    }\n\n    if (string.length != 358 || njs_chb_size(&chain) != 358) {\n        ret = NJS_ERROR;\n        njs_printf(\"njs_chb_join() corrupts \"\n                   \"string.length:%z njs_chb_size(&chain):%z != 358\\n\",\n                   string.length, njs_chb_size(&chain));\n        goto done;\n    }\n\n    for (i = 0; i < 358; i++) {\n        if (string.start[i] != 'X') {\n            ret = NJS_ERROR;\n            njs_printf(\"njs_chb_join() corrupts string[%i]:%c != 'X'\\n\",\n                       i, string.start[i]);\n            goto done;\n        }\n    }\n\n    for (i = 0; i < 512; i++) {\n        njs_chb_append(&chain, \"ABC\", 3);\n    }\n\n    for (i = 0; i < 447; i++) {\n        njs_chb_drop(&chain, 2);\n    }\n\n    ret = njs_chb_join(&chain, &string);\n    if (ret != NJS_OK) {\n        njs_printf(\"njs_chb_join() failed\\n\");\n        goto done;\n    }\n\n    if (string.length != 1000 || njs_chb_size(&chain) != 1000) {\n        ret = NJS_ERROR;\n        njs_printf(\"njs_chb_join() corrupts \"\n                   \"string.length:%z njs_chb_size(&chain):%z != 1000\\n\",\n                   string.length, njs_chb_size(&chain));\n        goto done;\n    }\n\n    njs_chb_drop(&chain, 500);\n    njs_chb_drain(&chain, 501);\n\n    if (njs_chb_size(&chain) != 0) {\n        ret = NJS_ERROR;\n        njs_printf(\"njs_chb_drop() corrupts \"\n                   \"njs_chb_size(&chain):%z != 0\\n\", njs_chb_size(&chain));\n        goto done;\n    }\n\n    arg = njs_str_value(\"XYZ\");\n\n    njs_chb_sprintf(&chain, 32, \"arg: \\\"%V\\\" %d\", &arg, -5);\n\n    ret = njs_chb_join(&chain, &string);\n    if (ret != NJS_OK) {\n        njs_printf(\"njs_chb_join() failed\\n\");\n        goto done;\n    }\n\n    if (!njs_strstr_eq(&string, &expected)) {\n        ret = NJS_ERROR;\n        njs_printf(\"njs_chb_sprintf() corrupts \\\"%V\\\" != \\\"%V\\\"\\n\", &string,\n                   &expected);\n        goto done;\n    }\n\n    njs_chb_destroy(&chain);\n    njs_mp_free(vm->mem_pool, string.start);\n\ndone:\n\n    if (ret != NJS_OK) {\n        stat->failed++;\n        return NJS_OK;\n    }\n\n    stat->passed++;\n\n    return NJS_OK;\n}\n\n\ntypedef struct {\n    size_t      size;\n    uint32_t    array[32];\n    size_t      esize;\n    uint32_t    expected[32];\n} njs_sort_test_t;\n\n\nstatic int\nnjs_sort_cmp(const void *a, const void *b, void *ctx)\n{\n    njs_sort_test_t  *c;\n\n    c = ctx;\n\n    switch (c->esize) {\n    case 1:\n        return *((uint8_t *) a) - *((uint8_t *) b);\n    case 2:\n        return *((uint16_t *) a) - *((uint16_t *) b);\n    case 4:\n    default:\n        return *((uint32_t *) a) - *((uint32_t *) b);\n    }\n}\n\n\nstatic njs_int_t\nnjs_sort_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    u_char           *p;\n    njs_uint_t        i, j, k;\n    njs_sort_test_t  *t;\n    u_char           array[sizeof(t->array)];\n    uint32_t         sorted[sizeof(t->array) / sizeof(t->array[0])];\n\n    static const njs_sort_test_t tests[] = {\n        { 1, { 5 }, 1, { 5 } },\n        { 3, { 3, 2, 1 }, 1, { 1, 2, 3 } },\n        { 4, { 4, 3, 2, 1 }, 1, { 1, 2, 3, 4 } },\n        { 5, { 5, 4, 3, 2, 1 }, 1, { 1, 2, 3, 4, 5 } },\n        { 5, { 1, 0, 9, 1, 8 }, 1, { 0, 1, 1, 8, 9 } },\n        { 8, { 0, 0, 0, 0, 0, 0, 0, 0 }, 1, { 0, 0, 0, 0, 0, 0, 0, 0 } },\n        { 8, { 4, 5, 1, 4, 2, 5, 5, 6 }, 1, { 1, 2, 4, 4, 5, 5, 5, 6 } },\n        { 4, { 512, 100, 65535, 0 }, 2, { 0, 100, 512, 65535 } },\n        { 3, { 65536, 3, 262141 }, 4, { 3, 65536, 262141 } },\n    };\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n        t = (njs_sort_test_t *) &tests[i];\n\n        p = array;\n        for (k = 0; k < t->size; k++) {\n            switch (t->esize) {\n            case 1:\n                *p = (uint8_t) t->array[k];\n                break;\n            case 2:\n                *(uint16_t *) p = (uint16_t) t->array[k];\n                break;\n            case 4:\n            default:\n                *(uint32_t *) p = (uint32_t) t->array[k];\n                break;\n            }\n\n            p += t->esize;\n        }\n\n        njs_qsort(array, t->size, t->esize, njs_sort_cmp, t);\n\n        p = array;\n        for (k = 0; k < t->size; k++) {\n            switch (t->esize) {\n            case 1:\n                sorted[k] = *p;\n                break;\n            case 2:\n                sorted[k] = *(uint16_t *) p;\n                break;\n            case 4:\n            default:\n                sorted[k] = *(uint32_t *) p;\n                break;\n            }\n\n            p += t->esize;\n        }\n\n\n        for (k = 0; k < t->size; k++) {\n            if (sorted[k] != t->expected[k]) {\n                goto failed;\n            }\n        }\n\n        stat->passed++;\n        continue;\n\nfailed:\n\n        njs_printf(\"njs_sort_test([\");\n        for (j = 0; j < t->size; j++) {\n            njs_printf(\"%uD%s\", t->array[j],\n                       (j < t->size - 1) ? \",\" : \"\");\n        }\n\n        njs_printf(\"]):\\nexpected: [\");\n        for (j = 0; j < t->size; j++) {\n            njs_printf(\"%uD%s\", t->expected[j],\n                       (j < t->size - 1) ? \",\" : \"\");\n        }\n\n        njs_printf(\"]\\n     got: [\");\n        for (j = 0; j < t->size; j++) {\n            njs_printf(\"%uD%s\", sorted[j],\n                       (j < t->size - 1) ? \",\" : \"\");\n        }\n\n        njs_printf(\"]\\n\");\n\n        stat->failed++;\n    }\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_string_to_index_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_str_t   s, string;\n    njs_int_t   ret;\n    njs_bool_t  success, is_integer_index;\n    njs_uint_t  i;\n\n    static const struct {\n        njs_value_t  value;\n        njs_str_t    expected;\n        njs_bool_t   is_integer_index;\n    } tests[] = {\n        { njs_string(\" 1\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"+0\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"-\"), njs_str(\"NaN\"), 0 },\n\n        { njs_string(\"-0\"), njs_str(\"-0\"), 0 },\n        { njs_value(NJS_NUMBER, 0, -0.0), njs_str(\"-0\"), 1 },\n\n        { njs_string(\"-1\"), njs_str(\"-1\"), 0 },\n        { njs_string(\"0\"), njs_str(\"0\"), 1 },\n        { njs_string(\"0.\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"0.0\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"0x1\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"1 \"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"1\"), njs_str(\"1\"), 1 },\n        { njs_string(\"1.\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"1.1\"), njs_str(\"1.1\"), 0 },\n        { njs_string(\"100\"), njs_str(\"100\"), 1 },\n        { njs_string(\"1a\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"1e+19\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"1e+22\"), njs_str(\"1e+22\"), 0 },\n        { njs_string(\"1e22\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"4294967296\"), njs_str(\"4294967296\"), 0 },\n    };\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n        if (njs_is_string(&tests[i].value)) {\n            njs_set_number(&vm->retval, njs_string_to_index(&tests[i].value));\n\n            ret = njs_vm_retval_dump(vm, &s, 0);\n            if (ret != NJS_OK) {\n                njs_printf(\"njs_string_to_index_test: \"\n                           \"njs_vm_retval_dump() failed\\n\");\n                return NJS_ERROR;\n            }\n\n            success = njs_strstr_eq(&tests[i].expected, &s);\n\n            if (!success) {\n                njs_string_get(&tests[i].value, &string);\n                njs_printf(\"njs_string_to_index_test(\\\"%V\\\"):\\n\"\n                           \"expected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\",\n                           &string, &tests[i].expected, &s);\n\n                stat->failed++;\n                continue;\n            }\n        }\n\n        is_integer_index = njs_key_is_integer_index(njs_number(&vm->retval),\n                                                    &tests[i].value);\n\n        if (tests[i].is_integer_index != is_integer_index) {\n            njs_string_get(&tests[i].value, &string);\n            njs_printf(\"njs_string_to_index_test2(\\\"%V\\\"):\\n\"\n                       \"expected: %b\\n     got: %b\\n\",\n                       &string, tests[i].is_integer_index, is_integer_index);\n\n            stat->failed++;\n            continue;\n        }\n\n        stat->passed++;\n    }\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_to_int32_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    int32_t     i32, second;\n    njs_uint_t  i;\n\n    static const struct {\n        double       value;\n        int32_t      expected;\n    } tests[] = {\n        { -1.0, -1 },\n        { 0.0, 0 },\n        { 0.001, 0 },\n        { 1.0, 1 },\n        { 2147483647.0, 2147483647 },\n        { 2147483648.0, -2147483648 },\n        { 2147483649.0, -2147483647 },\n        { -1844674406941458432.0, -2147483648 },\n        { 4.835703278458518e+24 /* 2**(53+29) + 2**30 */, 1073741824 },\n        { 9.671406556917036e+24 /* 2**(53+30) + 2**31 */, -2147483648 },\n    };\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n        i32 = njs_number_to_int32(tests[i].value);\n\n        if (i32 != tests[i].expected) {\n            njs_printf(\"njs_to_int32_test(%f):\\n\"\n                       \"expected: %D\\n     got: %D\\n\",\n                       tests[i].value, tests[i].expected, i32);\n\n            stat->failed++;\n            continue;\n        }\n\n        second = njs_number_to_int32(i32);\n\n        if (i32 != second) {\n            njs_printf(\"njs_to_int32_test(%f): not idempodent\\n\"\n                       \"expected: %D\\n     got: %D\\n\",\n                       tests[i].value, i32, second);\n\n            stat->failed++;\n            continue;\n        }\n\n        second = njs_number_to_int32(njs_number_to_uint32(tests[i].value));\n\n        if (i32 != second) {\n            njs_printf(\"ToInt32(%f) != ToInt32(ToUint32(%f))\\n\"\n                       \"left: %D\\n     right: %D\\n\",\n                       tests[i].value, tests[i].value, i32, second);\n\n            stat->failed++;\n            continue;\n        }\n\n        stat->passed++;\n    }\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_vm_internal_api_test(njs_unit_test_t unused[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_vm_t      *vm;\n    njs_int_t     ret;\n    njs_uint_t    i;\n    njs_stat_t    prev;\n    njs_vm_opt_t  options;\n\n    static const struct {\n        njs_int_t  (*test)(njs_vm_t *, njs_opts_t *, njs_stat_t *stat);\n        njs_str_t  name;\n    } tests[] = {\n        { njs_vm_object_alloc_test,\n          njs_str(\"njs_vm_object_alloc_test\") },\n        { njs_file_basename_test,\n          njs_str(\"njs_file_basename_test\") },\n        { njs_file_dirname_test,\n          njs_str(\"njs_file_dirname_test\") },\n        { njs_chb_test,\n          njs_str(\"njs_chb_test\") },\n        { njs_sort_test,\n          njs_str(\"njs_sort_test\") },\n        { njs_string_to_index_test,\n          njs_str(\"njs_string_to_index_test\") },\n        { njs_to_int32_test,\n          njs_str(\"njs_to_int32_test\") },\n    };\n\n    vm = NULL;\n    njs_vm_opt_init(&options);\n\n    prev = *stat;\n\n    ret = NJS_ERROR;\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n        vm = njs_vm_create(&options);\n        if (vm == NULL) {\n            njs_printf(\"njs_vm_create() failed\\n\");\n            goto done;\n        }\n\n        ret = tests[i].test(vm, opts, stat);\n        if (njs_slow_path(ret != NJS_OK)) {\n            njs_printf(\"njs_api_test: \\\"%V\\\" test failed\\n\", &tests[i].name);\n            goto done;\n        }\n\n        njs_vm_destroy(vm);\n        vm = NULL;\n    }\n\n    ret = NJS_OK;\n\ndone:\n\n    njs_unit_test_report(name, &prev, stat);\n\n    if (vm != NULL) {\n        njs_vm_destroy(vm);\n    }\n\n    return ret;\n}\n\n\nstatic njs_int_t\nnjs_options_parse(njs_opts_t *opts, int argc, char **argv)\n{\n    char       *p;\n    njs_int_t  i;\n\n    static const char  help[] =\n        \"njs unit tests.\\n\"\n        \"\\n\"\n        \"njs_unit_test [options]\"\n        \"\\n\"\n        \"Options:\\n\"\n        \"  -d                           print disassembled code.\\n\"\n        \"  -f PATTERN1[|PATTERN2..]     filter test suites to run.\\n\"\n        \"  -r count                     overrides repeat count for tests.\\n\"\n        \"  -s seed                      sets seed for async tests.\\n\"\n        \"  -v                           verbose mode.\\n\";\n\n    for (i = 1; i < argc; i++) {\n\n        p = argv[i];\n\n        if (p[0] != '-') {\n            goto help;\n        }\n\n        p++;\n\n        switch (*p) {\n        case '?':\n        case 'h':\n            (void) write(STDOUT_FILENO, help, njs_length(help));\n            return NJS_DONE;\n\n        case 'd':\n            opts->disassemble = 1;\n            break;\n\n        case 'f':\n            if (++i < argc) {\n                opts->filter.start = (u_char *) argv[i];\n                opts->filter.length = njs_strlen(argv[i]);\n                break;\n            }\n\n            njs_stderror(\"option \\\"-f\\\" requires argument\\n\");\n            return NJS_ERROR;\n\n        case 'r':\n            if (++i < argc) {\n                opts->repeat = atoi(argv[i]);\n                break;\n            }\n\n            njs_stderror(\"option \\\"-r\\\" requires argument\\n\");\n            return NJS_ERROR;\n\n        case 's':\n            if (++i < argc) {\n                opts->seed = atoi(argv[i]);\n                break;\n            }\n\n            njs_stderror(\"option \\\"-s\\\" requires argument\\n\");\n            return NJS_ERROR;\n\n        case 'v':\n            opts->verbose = 1;\n            break;\n\n        default:\n            goto help;\n        }\n    }\n\n    return NJS_OK;\n\nhelp:\n\n    njs_stderror(\"Unknown argument: \\\"%s\\\" \"\n                 \"try \\\"%s -h\\\" for available options\\n\", argv[i],\n                 argv[0]);\n\n    return NJS_ERROR;\n}\n\n\nstatic njs_int_t\nnjs_match_test(njs_opts_t *opts, njs_str_t *name)\n{\n    u_char  *p, *start, *end;\n    size_t  len;\n\n    if (name->length == 0) {\n        return 0;\n    }\n\n    if (opts->filter.length == 0) {\n        return 1;\n    }\n\n    start = opts->filter.start;\n    end = start + opts->filter.length;\n\n    for ( ;; ) {\n        p = njs_strlchr(start, end, '|');\n        len = ((p != NULL) ? p : end) - start;\n        len = njs_min(name->length, len);\n\n        if (len != 0 && njs_strncmp(name->start, start, len) == 0) {\n            return 1;\n        }\n\n        if (p == NULL) {\n            break;\n        }\n\n        start = p + 1;\n    }\n\n    return 0;\n}\n\n\ntypedef struct {\n    njs_str_t        name;\n    njs_opts_t       opts;\n    njs_unit_test_t  *tests;\n    size_t           n;\n    njs_int_t        (*run)(njs_unit_test_t tests[], size_t num,\n                            njs_str_t *name, njs_opts_t *opts,\n                            njs_stat_t *stat);\n} njs_test_suite_t;\n\n\nstatic njs_int_t\nnjs_disabled_denormals_tests(njs_unit_test_t tests[], size_t num,\n    njs_str_t *name, njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_int_t  ret;\n\n    njs_mm_denormals(0);\n\n    ret = njs_unit_test(tests, num, name, opts, stat);\n\n    njs_mm_denormals(1);\n\n    return ret;\n}\n\n\nstatic njs_test_suite_t  njs_suites[] =\n{\n    { njs_str(\"script\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_test,\n      njs_nitems(njs_test),\n      njs_unit_test },\n\n    { njs_str(\"safe script\"),\n      { .repeat = 1},\n      njs_safe_test,\n      njs_nitems(njs_safe_test),\n      njs_unit_test },\n\n    { njs_str(\"denormals\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_denormals_test,\n      njs_nitems(njs_denormals_test),\n      njs_unit_test },\n\n    {\n#if (NJS_HAVE_DENORMALS_CONTROL)\n        njs_str(\"disabled denormals\"),\n#else\n        njs_str(\"\"),\n#endif\n      { .repeat = 1, .unsafe = 1 },\n      njs_disabled_denormals_test,\n      njs_nitems(njs_disabled_denormals_test),\n      njs_disabled_denormals_tests },\n\n    {\n#if (NJS_HAVE_OPENSSL)\n        njs_str(\"webcrypto\"),\n#else\n        njs_str(\"\"),\n#endif\n      { .externals = 1, .repeat = 1, .unsafe = 1 },\n      njs_webcrypto_test,\n      njs_nitems(njs_webcrypto_test),\n      njs_unit_test },\n\n    { njs_str(\"module\"),\n      { .repeat = 1, .module = 1, .unsafe = 1 },\n      njs_module_test,\n      njs_nitems(njs_module_test),\n      njs_unit_test },\n\n    { njs_str(\"fs module\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_fs_module_test,\n      njs_nitems(njs_fs_module_test),\n      njs_unit_test },\n\n    { njs_str(\"crypto module\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_crypto_module_test,\n      njs_nitems(njs_crypto_module_test),\n      njs_unit_test },\n\n    { njs_str(\"querystring module\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_querystring_module_test,\n      njs_nitems(njs_querystring_module_test),\n      njs_unit_test },\n\n    { njs_str(\"buffer module\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_buffer_module_test,\n      njs_nitems(njs_buffer_module_test),\n      njs_unit_test },\n\n    { njs_str(\"externals\"),\n      { .externals = 1, .repeat = 1, .unsafe = 1 },\n      njs_externals_test,\n      njs_nitems(njs_externals_test),\n      njs_unit_test },\n\n    { njs_str(\"async handler\"),\n      { .async = 1, .externals = 1, .handler = 1, .repeat = 4, .seed = 2, .unsafe = 1 },\n      njs_async_handler_test,\n      njs_nitems(njs_async_handler_test),\n      njs_unit_test },\n\n    { njs_str(\"shared\"),\n      { .externals = 1, .repeat = 128, .seed = 42, .unsafe = 1, .backtrace = 1 },\n      njs_shared_test,\n      njs_nitems(njs_shared_test),\n      njs_unit_test },\n\n    { njs_str(\"interactive\"),\n      { .externals = 1, .repeat = 1, .unsafe = 1 },\n      njs_shell_test,\n      njs_nitems(njs_shell_test),\n\n      njs_interactive_test },\n\n    { njs_str(\"backtraces\"),\n      { .backtrace = 1, .externals = 1, .repeat = 1, .unsafe = 1 },\n      njs_backtraces_test,\n      njs_nitems(njs_backtraces_test),\n      njs_unit_test },\n\n    { njs_str(\"timezone\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_tz_test,\n      njs_nitems(njs_tz_test),\n      njs_timezone_optional_test },\n\n    { njs_str(\"regexp optional\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_regexp_optional_tests,\n      njs_nitems(njs_regexp_optional_tests),\n      njs_regexp_optional_test },\n\n    { njs_str(\"vm_json\"),\n      { .repeat = 1, .unsafe = 1 },\n      NULL,\n      0,\n      njs_vm_json_test },\n\n    { njs_str(\"vm_value\"),\n      { .repeat = 1, .unsafe = 1 },\n      NULL,\n      0,\n      njs_vm_value_test },\n\n    { njs_str(\"vm_internal_api\"),\n      { .repeat = 1, .unsafe = 1 },\n      NULL,\n      0,\n      njs_vm_internal_api_test },\n};\n\n\nint njs_cdecl\nmain(int argc, char **argv)\n{\n    njs_int_t         ret;\n    njs_uint_t        i;\n    njs_opts_t        opts, op;\n    njs_stat_t        stat;\n    njs_test_suite_t  *suite;\n\n    njs_memzero(&opts, sizeof(njs_opts_t));\n\n    ret = njs_options_parse(&opts, argc, argv);\n    if (ret != NJS_OK) {\n        return (ret == NJS_DONE) ? EXIT_SUCCESS: EXIT_FAILURE;\n    }\n\n    (void) putenv((char *) \"TZ=UTC\");\n    tzset();\n\n    njs_mm_denormals(1);\n\n    njs_memzero(&stat, sizeof(njs_stat_t));\n\n    for (i = 0; i < njs_nitems(njs_suites); i++) {\n        suite = &njs_suites[i];\n\n        if (!njs_match_test(&opts, &suite->name)) {\n            continue;\n        }\n\n        op = suite->opts;\n\n        op.disassemble = opts.disassemble;\n        op.repeat = opts.repeat ? opts.repeat : op.repeat;\n        op.seed = opts.seed ? opts.seed : op.seed;\n        op.verbose = opts.verbose;\n\n        ret = suite->run(suite->tests, suite->n, &suite->name, &op, &stat);\n        if (ret != NJS_OK) {\n            return ret;\n        }\n    }\n\n    njs_printf(\"TOTAL: %s [%ui/%ui]\\n\", stat.failed ? \"FAILED\" : \"PASSED\",\n               stat.passed, stat.passed + stat.failed);\n\n    return stat.failed ? EXIT_FAILURE : EXIT_SUCCESS;\n}\n"], "fixing_code": ["\n/*\n * Copyright (C) Igor Sysoev\n * Copyright (C) NGINX, Inc.\n */\n\n\n#include <njs_main.h>\n\n\nnjs_function_t *\nnjs_function_alloc(njs_vm_t *vm, njs_function_lambda_t *lambda,\n    njs_bool_t async)\n{\n    size_t          size;\n    njs_object_t    *proto;\n    njs_function_t  *function;\n\n    size = sizeof(njs_function_t) + lambda->nclosures * sizeof(njs_value_t *);\n\n    function = njs_mp_zalloc(vm->mem_pool, size);\n    if (njs_slow_path(function == NULL)) {\n        goto fail;\n    }\n\n    /*\n     * njs_mp_zalloc() does also:\n     *   njs_lvlhsh_init(&function->object.hash);\n     *   function->object.__proto__ = NULL;\n     */\n\n    function->ctor = lambda->ctor;\n    function->args_offset = 1;\n    function->u.lambda = lambda;\n\n    if (function->ctor) {\n        function->object.shared_hash = vm->shared->function_instance_hash;\n\n    } else if (async) {\n        function->object.shared_hash = vm->shared->async_function_instance_hash;\n\n    } else {\n        function->object.shared_hash = vm->shared->arrow_instance_hash;\n    }\n\n    if (async) {\n        proto = &vm->prototypes[NJS_OBJ_TYPE_ASYNC_FUNCTION].object;\n\n    } else {\n        proto = &vm->prototypes[NJS_OBJ_TYPE_FUNCTION].object;\n    }\n\n    function->object.__proto__ = proto;\n    function->object.type = NJS_FUNCTION;\n\n    function->object.extensible = 1;\n\n    return function;\n\nfail:\n\n    njs_memory_error(vm);\n\n    return NULL;\n}\n\n\nnjs_function_t *\nnjs_vm_function_alloc(njs_vm_t *vm, njs_function_native_t native)\n{\n    njs_function_t  *function;\n\n    function = njs_mp_zalloc(vm->mem_pool, sizeof(njs_function_t));\n    if (njs_slow_path(function == NULL)) {\n        njs_memory_error(vm);\n        return NULL;\n    }\n\n    function->native = 1;\n    function->args_offset = 1;\n    function->u.native = native;\n\n    return function;\n}\n\n\nnjs_function_t *\nnjs_function_value_copy(njs_vm_t *vm, njs_value_t *value)\n{\n    njs_function_t     *function, *copy;\n    njs_object_type_t  type;\n\n    function = njs_function(value);\n\n    if (!function->object.shared) {\n        return function;\n    }\n\n    copy = njs_function_copy(vm, function);\n    if (njs_slow_path(copy == NULL)) {\n        njs_memory_error(vm);\n        return NULL;\n    }\n\n    type = njs_function_object_type(vm, function);\n\n    if (copy->ctor) {\n        copy->object.shared_hash = vm->shared->function_instance_hash;\n\n    } else if (type == NJS_OBJ_TYPE_ASYNC_FUNCTION) {\n        copy->object.shared_hash = vm->shared->async_function_instance_hash;\n\n    } else {\n        copy->object.shared_hash = vm->shared->arrow_instance_hash;\n    }\n\n    value->data.u.function = copy;\n\n    return copy;\n}\n\n\nnjs_int_t\nnjs_function_name_set(njs_vm_t *vm, njs_function_t *function,\n    njs_value_t *name, const char *prefix)\n{\n    u_char              *p;\n    size_t              len, symbol;\n    njs_int_t           ret;\n    njs_value_t         value;\n    njs_string_prop_t   string;\n    njs_object_prop_t   *prop;\n    njs_lvlhsh_query_t  lhq;\n\n    prop = njs_object_prop_alloc(vm, &njs_string_name, name, 0);\n    if (njs_slow_path(prop == NULL)) {\n        return NJS_ERROR;\n    }\n\n    symbol = 0;\n\n    if (njs_is_symbol(&prop->value)) {\n        symbol = 2;\n        prop->value = *njs_symbol_description(&prop->value);\n    }\n\n    if (prefix != NULL || symbol != 0) {\n        value = prop->value;\n        (void) njs_string_prop(&string, &value);\n\n        len = (prefix != NULL) ? njs_strlen(prefix) + 1: 0;\n        p = njs_string_alloc(vm, &prop->value, string.size + len + symbol,\n                             string.length + len + symbol);\n        if (njs_slow_path(p == NULL)) {\n            return NJS_ERROR;\n        }\n\n        if (len != 0) {\n            p = njs_cpymem(p, prefix, len - 1);\n            *p++ = ' ';\n        }\n\n        if (symbol != 0) {\n            *p++ = '[';\n        }\n\n        p = njs_cpymem(p, string.start, string.size);\n\n        if (symbol != 0) {\n            *p++ = ']';\n        }\n    }\n\n    prop->configurable = 1;\n\n    lhq.key_hash = NJS_NAME_HASH;\n    lhq.key = njs_str_value(\"name\");\n    lhq.replace = 0;\n    lhq.value = prop;\n    lhq.proto = &njs_object_hash_proto;\n    lhq.pool = vm->mem_pool;\n\n    ret = njs_lvlhsh_insert(&function->object.hash, &lhq);\n    if (njs_slow_path(ret != NJS_OK)) {\n        njs_internal_error(vm, \"lvlhsh insert failed\");\n        return NJS_ERROR;\n    }\n\n    return NJS_OK;\n}\n\n\nnjs_function_t *\nnjs_function_copy(njs_vm_t *vm, njs_function_t *function)\n{\n    size_t             size, n;\n    njs_value_t        **from, **to;\n    njs_function_t     *copy;\n    njs_object_type_t  type;\n\n    n = (function->native) ? 0 : function->u.lambda->nclosures;\n\n    size = sizeof(njs_function_t) + n * sizeof(njs_value_t *);\n\n    copy = njs_mp_alloc(vm->mem_pool, size);\n    if (njs_slow_path(copy == NULL)) {\n        return NULL;\n    }\n\n    *copy = *function;\n\n    type = njs_function_object_type(vm, function);\n\n    copy->object.__proto__ = &vm->prototypes[type].object;\n    copy->object.shared = 0;\n\n    if (n == 0) {\n        return copy;\n    }\n\n    from = njs_function_closures(function);\n    to = njs_function_closures(copy);\n\n    do {\n        n--;\n\n        to[n] = from[n];\n\n    } while (n != 0);\n\n    return copy;\n}\n\n\nnjs_int_t\nnjs_function_arguments_object_init(njs_vm_t *vm, njs_native_frame_t *frame)\n{\n    njs_int_t           ret;\n    njs_uint_t          nargs, n;\n    njs_value_t         value;\n    njs_object_t        *arguments;\n    njs_object_prop_t   *prop;\n    njs_lvlhsh_query_t  lhq;\n\n    static const njs_value_t  njs_string_length = njs_string(\"length\");\n\n    arguments = njs_object_alloc(vm);\n    if (njs_slow_path(arguments == NULL)) {\n        return NJS_ERROR;\n    }\n\n    arguments->shared_hash = vm->shared->arguments_object_instance_hash;\n\n    nargs = frame->nargs;\n\n    njs_set_number(&value, nargs);\n\n    prop = njs_object_prop_alloc(vm, &njs_string_length, &value, 1);\n    if (njs_slow_path(prop == NULL)) {\n        return NJS_ERROR;\n    }\n\n    prop->enumerable = 0;\n\n    lhq.value = prop;\n    lhq.key_hash = NJS_LENGTH_HASH;\n    njs_string_get(&prop->name, &lhq.key);\n\n    lhq.replace = 0;\n    lhq.pool = vm->mem_pool;\n    lhq.proto = &njs_object_hash_proto;\n\n    ret = njs_lvlhsh_insert(&arguments->hash, &lhq);\n    if (njs_slow_path(ret != NJS_OK)) {\n        njs_internal_error(vm, \"lvlhsh insert failed\");\n        return NJS_ERROR;\n    }\n\n    for (n = 0; n < nargs; n++) {\n        njs_uint32_to_string(&value, n);\n\n        prop = njs_object_prop_alloc(vm, &value, &frame->arguments[n], 1);\n        if (njs_slow_path(prop == NULL)) {\n            return NJS_ERROR;\n        }\n\n        lhq.value = prop;\n        njs_string_get(&prop->name, &lhq.key);\n        lhq.key_hash = njs_djb_hash(lhq.key.start, lhq.key.length);\n\n        ret = njs_lvlhsh_insert(&arguments->hash, &lhq);\n        if (njs_slow_path(ret != NJS_OK)) {\n            njs_internal_error(vm, \"lvlhsh insert failed\");\n            return NJS_ERROR;\n        }\n    }\n\n    frame->arguments_object = arguments;\n\n    return NJS_OK;\n}\n\n\nnjs_int_t\nnjs_function_rest_parameters_init(njs_vm_t *vm, njs_native_frame_t *frame)\n{\n    uint32_t     length;\n    njs_uint_t   nargs, n, i;\n    njs_array_t  *array;\n    njs_value_t  *rest_arguments;\n\n    nargs = frame->nargs;\n    n = frame->function->u.lambda->nargs;\n    length = (nargs >= n) ? (nargs - n + 1) : 0;\n\n    array = njs_array_alloc(vm, 1, length, 0);\n    if (njs_slow_path(array == NULL)) {\n        return NJS_ERROR;\n    }\n\n    for (i = 0; i < length; i++) {\n        array->start[i] = frame->arguments[i + n - 1];\n    }\n\n    rest_arguments = njs_mp_alloc(vm->mem_pool, sizeof(njs_value_t));\n    if (njs_slow_path(rest_arguments == NULL)) {\n        return NJS_ERROR;\n    }\n\n    /* GC: retain. */\n    njs_set_array(rest_arguments, array);\n\n    vm->top_frame->local[n] = rest_arguments;\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_function_prototype_thrower(njs_vm_t *vm, njs_value_t *args,\n    njs_uint_t nargs, njs_index_t unused)\n{\n    njs_type_error(vm, \"\\\"caller\\\", \\\"callee\\\", \\\"arguments\\\" \"\n                   \"properties may not be accessed\");\n    return NJS_ERROR;\n}\n\n\nconst njs_object_prop_t  njs_arguments_object_instance_properties[] =\n{\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"callee\"),\n        .value = njs_value(NJS_INVALID, 1, NAN),\n        .getter = njs_native_function(njs_function_prototype_thrower, 0),\n        .setter = njs_native_function(njs_function_prototype_thrower, 0),\n        .writable = NJS_ATTRIBUTE_UNSET,\n    },\n};\n\n\nconst njs_object_init_t  njs_arguments_object_instance_init = {\n    njs_arguments_object_instance_properties,\n    njs_nitems(njs_arguments_object_instance_properties),\n};\n\n\nnjs_int_t\nnjs_function_native_frame(njs_vm_t *vm, njs_function_t *function,\n    const njs_value_t *this, const njs_value_t *args, njs_uint_t nargs,\n    njs_bool_t ctor)\n{\n    size_t              size;\n    njs_uint_t          n;\n    njs_value_t         *value, *bound;\n    njs_native_frame_t  *frame;\n\n    size = NJS_NATIVE_FRAME_SIZE\n           + (function->args_offset + nargs) * sizeof(njs_value_t);\n\n    frame = njs_function_frame_alloc(vm, size);\n    if (njs_slow_path(frame == NULL)) {\n        return NJS_ERROR;\n    }\n\n    frame->function = function;\n    frame->nargs = function->args_offset + nargs;\n    frame->ctor = ctor;\n    frame->native = 1;\n    frame->pc = NULL;\n\n    value = (njs_value_t *) ((u_char *) frame + NJS_NATIVE_FRAME_SIZE);\n\n    frame->arguments = value;\n    frame->arguments_offset = value + function->args_offset;\n\n    bound = function->bound;\n\n    if (bound == NULL) {\n        /* GC: njs_retain(this); */\n        *value++ = *this;\n\n    } else {\n        n = function->args_offset;\n\n        do {\n            /* GC: njs_retain(bound); */\n            *value++ = *bound++;\n            n--;\n        } while (n != 0);\n    }\n\n    if (args != NULL) {\n        memcpy(value, args, nargs * sizeof(njs_value_t));\n    }\n\n    return NJS_OK;\n}\n\n\nnjs_int_t\nnjs_function_lambda_frame(njs_vm_t *vm, njs_function_t *function,\n    const njs_value_t *this, const njs_value_t *args, njs_uint_t nargs,\n    njs_bool_t ctor)\n{\n    size_t                 n, frame_size;\n    uint32_t               args_count, value_count, value_size, temp_size;\n    njs_value_t            *value, *bound, **new, **temp;\n    njs_frame_t            *frame;\n    njs_function_t         *target;\n    njs_native_frame_t     *native_frame;\n    njs_function_lambda_t  *lambda;\n\n    bound = function->bound;\n\n    if (njs_fast_path(bound == NULL)) {\n        lambda = function->u.lambda;\n        target = function;\n\n    } else {\n        target = function->u.bound_target;\n\n        if (njs_slow_path(target->bound != NULL)) {\n\n            /*\n             * FIXME: bound functions should call target function with\n             * bound \"this\" and bound args.\n             */\n\n            njs_internal_error(vm, \"chain of bound function are not supported\");\n            return NJS_ERROR;\n        }\n\n        lambda = target->u.lambda;\n    }\n\n    args_count = function->args_offset + njs_max(nargs, lambda->nargs);\n    value_count = args_count + njs_max(args_count, lambda->nlocal);\n\n    value_size = value_count * sizeof(njs_value_t *);\n    temp_size = lambda->temp * sizeof(njs_value_t *);\n\n    frame_size = value_size + temp_size\n                        + ((value_count + lambda->temp) * sizeof(njs_value_t));\n\n    native_frame = njs_function_frame_alloc(vm, NJS_FRAME_SIZE + frame_size);\n    if (njs_slow_path(native_frame == NULL)) {\n        return NJS_ERROR;\n    }\n\n    /* Local */\n\n    new = (njs_value_t **) ((u_char *) native_frame + NJS_FRAME_SIZE);\n    value = (njs_value_t *) ((u_char *) new + value_size + temp_size);\n\n    n = value_count + lambda->temp;\n\n    while (n != 0) {\n        n--;\n        new[n] = &value[n];\n        njs_set_invalid(new[n]);\n    }\n\n    /* Temp */\n\n    temp = (njs_value_t **) ((u_char *) native_frame + NJS_FRAME_SIZE\n                                                     + value_size);\n\n    native_frame->arguments = value;\n    native_frame->arguments_offset = value + (function->args_offset - 1);\n    native_frame->local = new + args_count;\n    native_frame->temp = temp;\n    native_frame->function = target;\n    native_frame->nargs = nargs;\n    native_frame->ctor = ctor;\n    native_frame->native = 0;\n    native_frame->pc = NULL;\n\n    /* Set this and bound arguments. */\n    *native_frame->local[0] = *this;\n\n    if (njs_slow_path(function->global_this\n                      && njs_is_null_or_undefined(this)))\n    {\n        njs_set_object(native_frame->local[0], &vm->global_object);\n    }\n\n    if (bound != NULL) {\n        n = function->args_offset;\n        native_frame->nargs += n - 1;\n\n        if (!ctor) {\n            *native_frame->local[0] = *bound;\n        }\n\n        bound++;\n        n--;\n\n        while (n != 0) {\n            *value++ = *bound++;\n            n--;\n        };\n    }\n\n    /* Copy arguments. */\n\n    if (args != NULL) {\n        while (nargs != 0) {\n            *value++ = *args++;\n            nargs--;\n        }\n    }\n\n    frame = (njs_frame_t *) native_frame;\n    frame->exception.catch = NULL;\n    frame->exception.next = NULL;\n    frame->previous_active_frame = vm->active_frame;\n\n    return NJS_OK;\n}\n\n\nnjs_native_frame_t *\nnjs_function_frame_alloc(njs_vm_t *vm, size_t size)\n{\n    size_t              spare_size, chunk_size;\n    njs_native_frame_t  *frame;\n\n    spare_size = vm->top_frame ? vm->top_frame->free_size : 0;\n\n    if (njs_fast_path(size <= spare_size)) {\n        frame = (njs_native_frame_t *) vm->top_frame->free;\n        chunk_size = 0;\n\n    } else {\n        spare_size = size + NJS_FRAME_SPARE_SIZE;\n        spare_size = njs_align_size(spare_size, NJS_FRAME_SPARE_SIZE);\n\n        if (vm->stack_size + spare_size > NJS_MAX_STACK_SIZE) {\n            njs_range_error(vm, \"Maximum call stack size exceeded\");\n            return NULL;\n        }\n\n        frame = njs_mp_align(vm->mem_pool, sizeof(njs_value_t), spare_size);\n        if (njs_slow_path(frame == NULL)) {\n            njs_memory_error(vm);\n            return NULL;\n        }\n\n        chunk_size = spare_size;\n        vm->stack_size += spare_size;\n    }\n\n    njs_memzero(frame, sizeof(njs_native_frame_t));\n\n    frame->size = chunk_size;\n    frame->free_size = spare_size - size;\n    frame->free = (u_char *) frame + size;\n\n    frame->previous = vm->top_frame;\n    vm->top_frame = frame;\n\n    return frame;\n}\n\n\nnjs_int_t\nnjs_function_call2(njs_vm_t *vm, njs_function_t *function,\n    const njs_value_t *this, const njs_value_t *args,\n    njs_uint_t nargs, njs_value_t *retval, njs_bool_t ctor)\n{\n    njs_int_t    ret;\n    njs_value_t  dst njs_aligned(16);\n\n    ret = njs_function_frame(vm, function, this, args, nargs, ctor);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    ret = njs_function_frame_invoke(vm, &dst);\n\n    if (ret == NJS_OK) {\n        *retval = dst;\n    }\n\n    return ret;\n}\n\n\nnjs_int_t\nnjs_function_lambda_call(njs_vm_t *vm)\n{\n    uint32_t               n;\n    njs_int_t              ret;\n    njs_frame_t            *frame;\n    njs_value_t            *args, **local, *value;\n    njs_value_t            **cur_local, **cur_closures, **cur_temp;\n    njs_function_t         *function;\n    njs_declaration_t      *declr;\n    njs_function_lambda_t  *lambda;\n\n    frame = (njs_frame_t *) vm->top_frame;\n    function = frame->native.function;\n\n    if (function->global && !function->closure_copied) {\n        ret = njs_function_capture_global_closures(vm, function);\n        if (njs_slow_path(ret != NJS_OK)) {\n            return NJS_ERROR;\n        }\n    }\n\n    lambda = function->u.lambda;\n\n    args = vm->top_frame->arguments;\n    local = vm->top_frame->local + function->args_offset;\n\n    /* Move all arguments. */\n\n    for (n = 0; n < function->args_count; n++) {\n        if (!njs_is_valid(args)) {\n            njs_set_undefined(args);\n        }\n\n        *local++ = args++;\n    }\n\n    /* Store current level. */\n\n    cur_local = vm->levels[NJS_LEVEL_LOCAL];\n    cur_closures = vm->levels[NJS_LEVEL_CLOSURE];\n    cur_temp = vm->levels[NJS_LEVEL_TEMP];\n\n    /* Replace current level. */\n\n    vm->levels[NJS_LEVEL_LOCAL] = vm->top_frame->local;\n    vm->levels[NJS_LEVEL_CLOSURE] = njs_function_closures(function);\n    vm->levels[NJS_LEVEL_TEMP] = frame->native.temp;\n\n    if (lambda->rest_parameters) {\n        ret = njs_function_rest_parameters_init(vm, &frame->native);\n        if (njs_slow_path(ret != NJS_OK)) {\n            return NJS_ERROR;\n        }\n    }\n\n    /* Self */\n\n    if (lambda->self != NJS_INDEX_NONE) {\n        value = njs_scope_value(vm, lambda->self);\n\n        if (!njs_is_valid(value)) {\n            njs_set_function(value, function);\n        }\n    }\n\n    vm->active_frame = frame;\n\n    /* Closures */\n\n    n = lambda->ndeclarations;\n\n    while (n != 0) {\n        n--;\n\n        declr = &lambda->declarations[n];\n        value = njs_scope_value(vm, declr->index);\n\n        *value = *declr->value;\n\n        function = njs_function_value_copy(vm, value);\n        if (njs_slow_path(function == NULL)) {\n            return NJS_ERROR;\n        }\n\n        ret = njs_function_capture_closure(vm, function, function->u.lambda);\n        if (njs_slow_path(ret != NJS_OK)) {\n            return ret;\n        }\n    }\n\n    ret = njs_vmcode_interpreter(vm, lambda->start);\n\n    /* Restore current level. */\n    vm->levels[NJS_LEVEL_LOCAL] = cur_local;\n    vm->levels[NJS_LEVEL_CLOSURE] = cur_closures;\n    vm->levels[NJS_LEVEL_TEMP] = cur_temp;\n\n    return ret;\n}\n\n\nnjs_int_t\nnjs_function_native_call(njs_vm_t *vm)\n{\n    njs_int_t              ret;\n    njs_function_t         *function, *target;\n    njs_native_frame_t     *native, *previous;\n    njs_function_native_t  call;\n\n    native = vm->top_frame;\n    function = native->function;\n\n    if (njs_fast_path(function->bound == NULL)) {\n        call = function->u.native;\n\n    } else {\n        target = function->u.bound_target;\n\n        if (njs_slow_path(target->bound != NULL)) {\n            njs_internal_error(vm, \"chain of bound function are not supported\");\n            return NJS_ERROR;\n        }\n\n        call = target->u.native;\n    }\n\n    ret = call(vm, native->arguments, native->nargs, function->magic8);\n    if (njs_slow_path(ret == NJS_ERROR)) {\n        return ret;\n    }\n\n    if (ret == NJS_DECLINED) {\n        return NJS_OK;\n    }\n\n    previous = njs_function_previous_frame(native);\n\n    njs_vm_scopes_restore(vm, native, previous);\n\n    if (!native->skip) {\n        *native->retval = vm->retval;\n    }\n\n    njs_function_frame_free(vm, native);\n\n    return NJS_OK;\n}\n\n\nnjs_int_t\nnjs_function_frame_invoke(njs_vm_t *vm, njs_value_t *retval)\n{\n    njs_native_frame_t  *frame;\n\n    frame = vm->top_frame;\n    frame->retval = retval;\n\n    if (njs_function_object_type(vm, frame->function)\n        == NJS_OBJ_TYPE_ASYNC_FUNCTION)\n    {\n        return njs_async_function_frame_invoke(vm, retval);\n    }\n\n    if (frame->native) {\n        return njs_function_native_call(vm);\n\n    } else {\n        return njs_function_lambda_call(vm);\n    }\n}\n\n\nvoid\nnjs_function_frame_free(njs_vm_t *vm, njs_native_frame_t *native)\n{\n    njs_native_frame_t  *previous;\n\n    do {\n        previous = native->previous;\n\n        /* GC: free frame->local, etc. */\n\n        if (native->size != 0) {\n            vm->stack_size -= native->size;\n            njs_mp_free(vm->mem_pool, native);\n        }\n\n        native = previous;\n    } while (native->skip);\n}\n\n\nnjs_int_t\nnjs_function_frame_save(njs_vm_t *vm, njs_frame_t *frame, u_char *pc)\n{\n    size_t              value_count, n;\n    njs_value_t         *start, *end, *p, **new, *value, **local;\n    njs_function_t      *function;\n    njs_native_frame_t  *active, *native;\n\n    *frame = *vm->active_frame;\n    frame->previous_active_frame = NULL;\n\n    native = &frame->native;\n\n    active = &vm->active_frame->native;\n    value_count = njs_function_frame_value_count(active);\n\n    function = active->function;\n\n    new = (njs_value_t **) ((u_char *) native + NJS_FRAME_SIZE);\n    value = (njs_value_t *) (new + value_count\n                             + function->u.lambda->temp);\n\n\n    native->arguments = value;\n    native->arguments_offset = value + (function->args_offset - 1);\n    native->local = new + njs_function_frame_args_count(active);\n    native->temp = new + value_count;\n    native->pc = pc;\n\n    start = njs_function_frame_values(active, &end);\n    p = native->arguments;\n\n    while (start < end) {\n        *p = *start++;\n        *new++ = p++;\n    }\n\n    /* Move all arguments. */\n\n    p = native->arguments;\n    local = native->local + function->args_offset;\n\n    for (n = 0; n < function->args_count; n++) {\n        if (!njs_is_valid(p)) {\n            njs_set_undefined(p);\n        }\n\n        *local++ = p++;\n    }\n\n    return NJS_OK;\n}\n\n\nnjs_object_type_t\nnjs_function_object_type(njs_vm_t *vm, njs_function_t *function)\n{\n    if (function->object.shared_hash.slot\n        == vm->shared->async_function_instance_hash.slot)\n    {\n        return NJS_OBJ_TYPE_ASYNC_FUNCTION;\n    }\n\n    return NJS_OBJ_TYPE_FUNCTION;\n}\n\n\nnjs_int_t\nnjs_function_capture_closure(njs_vm_t *vm, njs_function_t *function,\n    njs_function_lambda_t *lambda)\n{\n    void                *start, *end;\n    uint32_t            n;\n    njs_value_t         *value, **closure;\n    njs_native_frame_t  *frame;\n\n    if (lambda->nclosures == 0) {\n        return NJS_OK;\n    }\n\n    frame = &vm->active_frame->native;\n\n    while (frame->native) {\n        frame = frame->previous;\n    }\n\n    start = frame;\n    end = frame->free;\n\n    closure = njs_function_closures(function);\n    n = lambda->nclosures;\n\n    do {\n        n--;\n\n        value = njs_scope_value(vm, lambda->closures[n]);\n\n        if (start <= (void *) value && (void *) value < end) {\n            value = njs_scope_value_clone(vm, lambda->closures[n], value);\n            if (njs_slow_path(value == NULL)) {\n                return NJS_ERROR;\n            }\n        }\n\n        closure[n] = value;\n\n    } while (n != 0);\n\n    return NJS_OK;\n}\n\n\nnjs_inline njs_value_t *\nnjs_function_closure_value(njs_vm_t *vm, njs_value_t **scope, njs_index_t index,\n    void *start, void *end)\n{\n    njs_value_t  *value, *newval;\n\n    value = scope[njs_scope_index_value(index)];\n\n    if (start <= (void *) value && end > (void *) value) {\n        newval = njs_mp_alloc(vm->mem_pool, sizeof(njs_value_t));\n        if (njs_slow_path(newval == NULL)) {\n            njs_memory_error(vm);\n            return NULL;\n        }\n\n        *newval = *value;\n        value = newval;\n    }\n\n    scope[njs_scope_index_value(index)] = value;\n\n    return value;\n}\n\n\nnjs_int_t\nnjs_function_capture_global_closures(njs_vm_t *vm, njs_function_t *function)\n{\n    void                   *start, *end;\n    uint32_t               n;\n    njs_value_t            *value, **refs, **global;\n    njs_index_t            *indexes, index;\n    njs_native_frame_t     *native;\n    njs_function_lambda_t  *lambda;\n\n    lambda = function->u.lambda;\n\n    if (lambda->nclosures == 0) {\n        return NJS_OK;\n    }\n\n    native = vm->top_frame;\n\n    while (native->previous->function != NULL) {\n        native = native->previous;\n    }\n\n    start = native;\n    end = native->free;\n\n    indexes = lambda->closures;\n    refs = njs_function_closures(function);\n\n    global = vm->levels[NJS_LEVEL_GLOBAL];\n\n    n = lambda->nclosures;\n\n    while (n > 0) {\n        n--;\n\n        index = indexes[n];\n\n        switch (njs_scope_index_type(index)) {\n        case NJS_LEVEL_LOCAL:\n            value = njs_function_closure_value(vm, native->local, index,\n                                               start, end);\n            break;\n\n        case NJS_LEVEL_GLOBAL:\n            value = njs_function_closure_value(vm, global, index, start, end);\n            break;\n\n        default:\n            njs_type_error(vm, \"unexpected value type for closure \\\"%uD\\\"\",\n                           njs_scope_index_type(index));\n            return NJS_ERROR;\n        }\n\n        if (njs_slow_path(value == NULL)) {\n            return NJS_ERROR;\n        }\n\n        refs[n] = value;\n    }\n\n    function->closure_copied = 1;\n\n    return NJS_OK;\n}\n\n\nstatic njs_value_t *\nnjs_function_property_prototype_set(njs_vm_t *vm, njs_lvlhsh_t *hash,\n    njs_value_t *prototype)\n{\n    njs_int_t           ret;\n    njs_object_prop_t   *prop;\n    njs_lvlhsh_query_t  lhq;\n\n    const njs_value_t  proto_string = njs_string(\"prototype\");\n\n    prop = njs_object_prop_alloc(vm, &proto_string, prototype, 0);\n    if (njs_slow_path(prop == NULL)) {\n        return NULL;\n    }\n\n    prop->writable = 1;\n\n    lhq.value = prop;\n    lhq.key_hash = NJS_PROTOTYPE_HASH;\n    lhq.key = njs_str_value(\"prototype\");\n    lhq.replace = 1;\n    lhq.pool = vm->mem_pool;\n    lhq.proto = &njs_object_hash_proto;\n\n    ret = njs_lvlhsh_insert(hash, &lhq);\n\n    if (njs_fast_path(ret == NJS_OK)) {\n        return &prop->value;\n    }\n\n    njs_internal_error(vm, \"lvlhsh insert failed\");\n\n    return NULL;\n}\n\n\n/*\n * The \"prototype\" property of user defined functions is created on\n * demand in private hash of the functions by the \"prototype\" getter.\n * The getter creates a copy of function which is private to nJSVM,\n * adds a \"prototype\" object property to the copy, and then adds a\n * \"constructor\" property in the prototype object.  The \"constructor\"\n * property points to the copy of function:\n *   \"F.prototype.constructor === F\"\n */\n\nnjs_int_t\nnjs_function_prototype_create(njs_vm_t *vm, njs_object_prop_t *prop,\n    njs_value_t *value, njs_value_t *setval, njs_value_t *retval)\n{\n    njs_value_t     *proto, proto_value, *cons;\n    njs_object_t    *prototype;\n    njs_function_t  *function;\n\n    if (setval == NULL) {\n        prototype = njs_object_alloc(vm);\n        if (njs_slow_path(prototype == NULL)) {\n            return NJS_ERROR;\n        }\n\n        njs_set_object(&proto_value, prototype);\n\n        setval = &proto_value;\n    }\n\n    function = njs_function_value_copy(vm, value);\n    if (njs_slow_path(function == NULL)) {\n        return NJS_ERROR;\n    }\n\n    proto = njs_function_property_prototype_set(vm, njs_object_hash(value),\n                                                setval);\n    if (njs_slow_path(proto == NULL)) {\n        return NJS_ERROR;\n    }\n\n    if (setval == &proto_value && njs_is_object(proto)) {\n        /* Only in getter context. */\n        cons = njs_property_constructor_set(vm, njs_object_hash(proto), value);\n        if (njs_slow_path(cons == NULL)) {\n            return NJS_ERROR;\n        }\n    }\n\n    *retval = *proto;\n\n    return NJS_OK;\n}\n\n\nnjs_int_t\nnjs_function_constructor(njs_vm_t *vm, njs_value_t *args, njs_uint_t nargs,\n    njs_index_t async)\n{\n    njs_chb_t               chain;\n    njs_int_t               ret;\n    njs_str_t               str, file;\n    njs_uint_t              i;\n    njs_lexer_t             lexer;\n    njs_parser_t            parser;\n    njs_vm_code_t           *code;\n    njs_function_t          *function;\n    njs_generator_t         generator;\n    njs_parser_node_t       *node;\n    njs_parser_scope_t      *scope;\n    njs_function_lambda_t   *lambda;\n    const njs_token_type_t  *type;\n\n    static const njs_token_type_t  safe_ast[] = {\n        NJS_TOKEN_END,\n        NJS_TOKEN_FUNCTION_EXPRESSION,\n        NJS_TOKEN_STATEMENT,\n        NJS_TOKEN_RETURN,\n        NJS_TOKEN_THIS,\n        NJS_TOKEN_ILLEGAL\n    };\n\n    static const njs_token_type_t  safe_ast_async[] = {\n        NJS_TOKEN_END,\n        NJS_TOKEN_ASYNC_FUNCTION_EXPRESSION,\n        NJS_TOKEN_STATEMENT,\n        NJS_TOKEN_RETURN,\n        NJS_TOKEN_THIS,\n        NJS_TOKEN_ILLEGAL\n    };\n\n    if (!vm->options.unsafe && nargs != 2) {\n        goto fail;\n    }\n\n    njs_chb_init(&chain, vm->mem_pool);\n\n    if (async) {\n        njs_chb_append_literal(&chain, \"(async function(\");\n\n    } else {\n        njs_chb_append_literal(&chain, \"(function(\");\n    }\n\n    for (i = 1; i < nargs - 1; i++) {\n        ret = njs_value_to_chain(vm, &chain, njs_argument(args, i));\n        if (njs_slow_path(ret < NJS_OK)) {\n            return ret;\n        }\n\n        if (i != (nargs - 2)) {\n            njs_chb_append_literal(&chain, \",\");\n        }\n    }\n\n    njs_chb_append_literal(&chain, \"){\");\n\n    ret = njs_value_to_chain(vm, &chain, njs_argument(args, nargs - 1));\n    if (njs_slow_path(ret < NJS_OK)) {\n        return ret;\n    }\n\n    njs_chb_append_literal(&chain, \"})\");\n\n    ret = njs_chb_join(&chain, &str);\n    if (njs_slow_path(ret != NJS_OK)) {\n        njs_memory_error(vm);\n        return NJS_ERROR;\n    }\n\n    file = njs_str_value(\"runtime\");\n\n    ret = njs_lexer_init(vm, &lexer, &file, str.start, str.start + str.length,\n                         1);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    njs_memzero(&parser, sizeof(njs_parser_t));\n\n    parser.lexer = &lexer;\n\n    ret = njs_parser(vm, &parser);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    if (!vm->options.unsafe) {\n        /*\n         * Safe mode exception:\n         * \"(new Function('return this'))\" is often used to get\n         * the global object in a portable way.\n         */\n\n        node = parser.node;\n        type = (async) ? &safe_ast_async[0] : &safe_ast[0];\n\n        for (; *type != NJS_TOKEN_ILLEGAL; type++, node = node->right) {\n            if (node == NULL) {\n                goto fail;\n            }\n\n            if (node->left != NULL\n                && node->token_type != NJS_TOKEN_FUNCTION_EXPRESSION\n                && node->left->token_type != NJS_TOKEN_NAME)\n            {\n                goto fail;\n            }\n\n            if (node->token_type != *type) {\n                goto fail;\n            }\n        }\n    }\n\n    scope = parser.scope;\n\n    ret = njs_variables_copy(vm, &scope->variables, vm->variables_hash);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    ret = njs_generator_init(&generator, 0, 1);\n    if (njs_slow_path(ret != NJS_OK)) {\n        njs_internal_error(vm, \"njs_generator_init() failed\");\n        return NJS_ERROR;\n    }\n\n    code = njs_generate_scope(vm, &generator, scope, &njs_entry_anonymous);\n    if (njs_slow_path(code == NULL)) {\n        if (!njs_is_error(&vm->retval)) {\n            njs_internal_error(vm, \"njs_generate_scope() failed\");\n        }\n\n        return NJS_ERROR;\n    }\n\n    njs_chb_destroy(&chain);\n\n    lambda = ((njs_vmcode_function_t *) generator.code_start)->lambda;\n\n    function = njs_function_alloc(vm, lambda, (njs_bool_t) async);\n    if (njs_slow_path(function == NULL)) {\n        return NJS_ERROR;\n    }\n\n    function->global = 1;\n    function->global_this = 1;\n    function->args_count = lambda->nargs - lambda->rest_parameters;\n\n    njs_set_function(&vm->retval, function);\n\n    return NJS_OK;\n\nfail:\n\n    njs_type_error(vm, \"function constructor is disabled in \\\"safe\\\" mode\");\n    return NJS_ERROR;\n}\n\n\nstatic const njs_object_prop_t  njs_function_constructor_properties[] =\n{\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"name\"),\n        .value = njs_string(\"Function\"),\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"length\"),\n        .value = njs_value(NJS_NUMBER, 1, 1.0),\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY_HANDLER,\n        .name = njs_string(\"prototype\"),\n        .value = njs_prop_handler(njs_object_prototype_create),\n    },\n};\n\n\nconst njs_object_init_t  njs_function_constructor_init = {\n    njs_function_constructor_properties,\n    njs_nitems(njs_function_constructor_properties),\n};\n\n\nnjs_int_t\nnjs_function_instance_length(njs_vm_t *vm, njs_object_prop_t *prop,\n    njs_value_t *value, njs_value_t *setval, njs_value_t *retval)\n{\n    njs_object_t    *proto;\n    njs_function_t  *function;\n\n    proto = njs_object(value);\n\n    do {\n        if (njs_fast_path(proto->type == NJS_FUNCTION)) {\n            break;\n        }\n\n        proto = proto->__proto__;\n    } while (proto != NULL);\n\n    if (njs_slow_path(proto == NULL)) {\n        njs_internal_error(vm, \"no function in proto chain\");\n        return NJS_ERROR;\n    }\n\n    function = (njs_function_t *) proto;\n\n    njs_set_number(retval, function->args_count);\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_function_prototype_call(njs_vm_t *vm, njs_value_t *args, njs_uint_t nargs,\n    njs_index_t unused)\n{\n    njs_int_t           ret;\n    njs_function_t      *function;\n    const njs_value_t   *this;\n    njs_native_frame_t  *frame;\n\n    if (!njs_is_function(&args[0])) {\n        njs_type_error(vm, \"\\\"this\\\" argument is not a function\");\n        return NJS_ERROR;\n    }\n\n    if (nargs > 1) {\n        this = &args[1];\n        nargs -= 2;\n\n    } else {\n        this = (njs_value_t *) &njs_value_undefined;\n        nargs = 0;\n    }\n\n    frame = vm->top_frame;\n\n    /* Skip the \"call\" method frame. */\n    frame->skip = 1;\n\n    function = njs_function(&args[0]);\n\n    ret = njs_function_frame(vm, function, this, &args[2], nargs, 0);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    ret = njs_function_frame_invoke(vm, frame->retval);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    return NJS_DECLINED;\n}\n\n\nstatic njs_int_t\nnjs_function_prototype_apply(njs_vm_t *vm, njs_value_t *args, njs_uint_t nargs,\n    njs_index_t unused)\n{\n    int64_t         i, length;\n    njs_int_t       ret;\n    njs_frame_t     *frame;\n    njs_value_t     *this, *arr_like;\n    njs_array_t     *arr;\n    njs_function_t  *func;\n\n    if (!njs_is_function(njs_argument(args, 0))) {\n        njs_type_error(vm, \"\\\"this\\\" argument is not a function\");\n        return NJS_ERROR;\n    }\n\n    func = njs_function(njs_argument(args, 0));\n    this = njs_arg(args, nargs, 1);\n    arr_like = njs_arg(args, nargs, 2);\n\n    if (njs_is_null_or_undefined(arr_like)) {\n        length = 0;\n        goto activate;\n    }\n\n    if (njs_slow_path(!njs_is_object(arr_like))) {\n        njs_type_error(vm, \"second argument is not an array-like object\");\n        return NJS_ERROR;\n    }\n\n    ret = njs_object_length(vm, arr_like, &length);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    if (njs_slow_path(length > 1024)) {\n        njs_internal_error(vm, \"argument list is too long\");\n        return NJS_ERROR;\n    }\n\n    arr = njs_array_alloc(vm, 1, length, NJS_ARRAY_SPARE);\n    if (njs_slow_path(arr == NULL)) {\n        return NJS_ERROR;\n    }\n\n    args = arr->start;\n\n    for (i = 0; i < length; i++) {\n        ret = njs_value_property_i64(vm, arr_like, i, &args[i]);\n        if (njs_slow_path(ret == NJS_ERROR)) {\n            return ret;\n        }\n    }\n\nactivate:\n\n    /* Skip the \"apply\" method frame. */\n    vm->top_frame->skip = 1;\n\n    frame = (njs_frame_t *) vm->top_frame;\n\n    ret = njs_function_frame(vm, func, this, args, length, 0);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    ret = njs_function_frame_invoke(vm, frame->native.retval);\n    if (njs_slow_path(ret != NJS_OK)) {\n        return ret;\n    }\n\n    return NJS_DECLINED;\n}\n\n\nstatic njs_int_t\nnjs_function_prototype_bind(njs_vm_t *vm, njs_value_t *args, njs_uint_t nargs,\n    njs_index_t unused)\n{\n    size_t              size;\n    njs_int_t           ret;\n    njs_value_t         *values, name;\n    njs_function_t      *function;\n    njs_lvlhsh_query_t  lhq;\n\n    if (!njs_is_function(&args[0])) {\n        njs_type_error(vm, \"\\\"this\\\" argument is not a function\");\n        return NJS_ERROR;\n    }\n\n    function = njs_mp_alloc(vm->mem_pool, sizeof(njs_function_t));\n    if (njs_slow_path(function == NULL)) {\n        njs_memory_error(vm);\n        return NJS_ERROR;\n    }\n\n    *function = *njs_function(&args[0]);\n\n    njs_lvlhsh_init(&function->object.hash);\n\n    /* Bound functions have no \"prototype\" property. */\n    function->object.shared_hash = vm->shared->arrow_instance_hash;\n\n    function->object.__proto__ = &vm->prototypes[NJS_OBJ_TYPE_FUNCTION].object;\n    function->object.shared = 0;\n\n    function->u.bound_target = njs_function(&args[0]);\n\n    njs_object_property_init(&lhq, &njs_string_name, NJS_NAME_HASH);\n\n    ret = njs_object_property(vm, &args[0], &lhq, &name);\n    if (njs_slow_path(ret == NJS_ERROR)) {\n        return ret;\n    }\n\n    if (!njs_is_string(&name)) {\n        name = njs_string_empty;\n    }\n\n    ret = njs_function_name_set(vm, function, &name, \"bound\");\n    if (njs_slow_path(ret == NJS_ERROR)) {\n        return ret;\n    }\n\n    if (nargs == 1) {\n        args = njs_value_arg(&njs_value_undefined);\n\n    } else {\n        nargs--;\n        args++;\n    }\n\n    if (nargs > function->args_count) {\n        function->args_count = 0;\n\n    } else {\n        function->args_count -= nargs - 1;\n    }\n\n    function->args_offset = nargs;\n    size = nargs * sizeof(njs_value_t);\n\n    values = njs_mp_alloc(vm->mem_pool, size);\n    if (njs_slow_path(values == NULL)) {\n        njs_memory_error(vm);\n        njs_mp_free(vm->mem_pool, function);\n        return NJS_ERROR;\n    }\n\n    function->bound = values;\n\n    /* GC: ? retain args. */\n\n    memcpy(values, args, size);\n\n    njs_set_function(&vm->retval, function);\n\n    return NJS_OK;\n}\n\n\nstatic const njs_object_prop_t  njs_function_prototype_properties[] =\n{\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"name\"),\n        .value = njs_string(\"\"),\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"length\"),\n        .value = njs_value(NJS_NUMBER, 0, 0.0),\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY_HANDLER,\n        .name = njs_string(\"constructor\"),\n        .value = njs_prop_handler(njs_object_prototype_create_constructor),\n        .writable = 1,\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"call\"),\n        .value = njs_native_function(njs_function_prototype_call, 1),\n        .writable = 1,\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"apply\"),\n        .value = njs_native_function(njs_function_prototype_apply, 2),\n        .writable = 1,\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"bind\"),\n        .value = njs_native_function(njs_function_prototype_bind, 1),\n        .writable = 1,\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"caller\"),\n        .value = njs_value(NJS_INVALID, 1, NAN),\n        .getter = njs_native_function(njs_function_prototype_thrower, 0),\n        .setter = njs_native_function(njs_function_prototype_thrower, 0),\n        .writable = NJS_ATTRIBUTE_UNSET,\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY,\n        .name = njs_string(\"arguments\"),\n        .value = njs_value(NJS_INVALID, 1, NAN),\n        .getter = njs_native_function(njs_function_prototype_thrower, 0),\n        .setter = njs_native_function(njs_function_prototype_thrower, 0),\n        .writable = NJS_ATTRIBUTE_UNSET,\n        .configurable = 1,\n    },\n};\n\n\nconst njs_object_init_t  njs_function_prototype_init = {\n    njs_function_prototype_properties,\n    njs_nitems(njs_function_prototype_properties),\n};\n\n\nconst njs_object_prop_t  njs_function_instance_properties[] =\n{\n    {\n        .type = NJS_PROPERTY_HANDLER,\n        .name = njs_string(\"length\"),\n        .value = njs_prop_handler(njs_function_instance_length),\n        .configurable = 1,\n    },\n\n    {\n        .type = NJS_PROPERTY_HANDLER,\n        .name = njs_string(\"prototype\"),\n        .value = njs_prop_handler(njs_function_prototype_create),\n        .writable = 1\n    },\n};\n\n\nconst njs_object_init_t  njs_function_instance_init = {\n    njs_function_instance_properties,\n    njs_nitems(njs_function_instance_properties),\n};\n\n\nconst njs_object_prop_t  njs_arrow_instance_properties[] =\n{\n    {\n        .type = NJS_PROPERTY_HANDLER,\n        .name = njs_string(\"length\"),\n        .value = njs_prop_handler(njs_function_instance_length),\n        .configurable = 1,\n    },\n};\n\n\nconst njs_object_init_t  njs_arrow_instance_init = {\n    njs_arrow_instance_properties,\n    njs_nitems(njs_arrow_instance_properties),\n};\n\n\nnjs_int_t\nnjs_eval_function(njs_vm_t *vm, njs_value_t *args, njs_uint_t nargs,\n    njs_index_t unused)\n{\n    njs_internal_error(vm, \"Not implemented\");\n\n    return NJS_ERROR;\n}\n\n\nstatic njs_int_t\nnjs_prototype_function(njs_vm_t *vm, njs_value_t *args, njs_uint_t nargs,\n    njs_index_t unused)\n{\n    njs_set_undefined(&vm->retval);\n\n    return NJS_OK;\n}\n\n\nconst njs_object_type_init_t  njs_function_type_init = {\n   .constructor = njs_native_ctor(njs_function_constructor, 1, 0),\n   .constructor_props = &njs_function_constructor_init,\n   .prototype_props = &njs_function_prototype_init,\n   .prototype_value = { .function = { .native = 1,\n                                      .args_offset = 1,\n                                      .u.native = njs_prototype_function,\n                                      .object = { .type = NJS_FUNCTION } } },\n};\n", "/*\n * Copyright (C) Igor Sysoev\n * Copyright (C) NGINX, Inc.\n */\n\n\n#include <njs_main.h>\n\n#ifndef NJS_HAVE_PCRE2\n#include <pcre.h>\n#endif\n\n#include \"njs_externals_test.h\"\n\n\n#define NJS_HAVE_LARGE_STACK (!NJS_HAVE_ADDRESS_SANITIZER && !NJS_HAVE_MEMORY_SANITIZER)\n\n#ifdef NJS_HAVE_LITTLE_ENDIAN\n#define njs_evar(little, big) little\n#else\n#define njs_evar(little, big) big\n#endif\n\n#ifdef NJS_HAVE_PCRE2\n#define njs_pcre_var(pcre2, pcre) pcre2\n#else\n#define njs_pcre_var(pcre2, pcre) pcre\n#endif\n\n\n#define njs_declare_sparse_array(nm, sz)                                      \\\n    \"var \" nm \" = Array(\" njs_stringify(sz) \"); \"                             \\\n    \"Object.defineProperty(\" nm \", '0',\"                                      \\\n    \"{writable:true, enumerable:false, configurable:true});\"                  \\\n    \"delete \" nm \"[0];\"\n\n\n#define njs_buffer_byte_map(func, sign, divisor)                              \\\n    \"var buf = Buffer.alloc(6);\"                                              \\\n    \"[1,2,3,4,5,6].map(byte => {\"                                             \\\n    \"    buf.\" func \"(\" sign \"(2 ** (byte * 7)) / \"                           \\\n                                     njs_stringify(divisor) \", 0, byte);\"     \\\n    \"    return njs.dump(buf);\"                                               \\\n    \"})\"\n\n\ntypedef struct {\n    njs_str_t  script;\n    njs_str_t  ret;\n} njs_unit_test_t;\n\n\nstatic njs_unit_test_t  njs_test[] =\n{\n    { njs_str(\"@\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"@\\\" in 1\") },\n\n    { njs_str(\"}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"1}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"/***/1/*\\n**/\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"/***/1//  \"),\n      njs_str(\"1\") },\n\n    { njs_str(\">\"),\n      njs_str(\"SyntaxError: Unexpected token \\\">\\\" in 1\") },\n\n    { njs_str(\">>\"),\n      njs_str(\"SyntaxError: Unexpected token \\\">>\\\" in 1\") },\n\n    { njs_str(\">>>\"),\n      njs_str(\"SyntaxError: Unexpected token \\\">>>\\\" in 1\") },\n\n    { njs_str(\"==\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"==\\\" in 1\") },\n\n    { njs_str(\"?\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"?\\\" in 1\") },\n\n    /* Variable declarations. */\n\n    { njs_str(\"var x\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var x;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var x;;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var x = 0\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var x = 0;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var x = 0;;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var; a\"),\n      njs_str(\"SyntaxError: Unexpected token \\\";\\\" in 1\") },\n\n    { njs_str(\"var + a\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"+\\\" in 1\") },\n\n    { njs_str(\"//\\r\\n; var + a\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"+\\\" in 2\") },\n\n    { njs_str(\"/*\\n*/; var + a\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"+\\\" in 2\") },\n\n    { njs_str(\"var \\n a \\n = 1; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var \\n a, \\n b; b\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var from = 2; from + 2\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var a / =\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"/\\\" in 1\") },\n\n    { njs_str(\"var a = 1; var b; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a = 1;for(;a;a--)var a; a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"if(1)if(0){0?0:0}else\\nvar a\\nelse\\nvar b\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 1; var a; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function (x) {if (x) { var a = 3; return a} else { var a = 4; return a}})(1)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(function (x) {if (x) { var a = 3; return a} else { var a = 4; return a}})(0)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f(){return 2}; var f; f()\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"function f(){return 2}; var f = 1; f()\"),\n      njs_str(\"TypeError: number is not a function\") },\n\n    { njs_str(\"function f(){return 1}; function f(){return 2}; f()\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var f = 1; function f() {}; f\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = 1; function f() {}; f\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f(a) {return function (x) {return a(x)}} f(1)(0)\"),\n      njs_str(\"TypeError: number is not a function\") },\n\n    { njs_str(\"var x = 0;\"\n              \"\"\n              \"function f1() {\"\n              \"    function f2() {\"\n              \"        return x;\"\n              \"    };\"\n              \"\"\n              \"    return f2();\"\n              \"\"\n              \"    var x = 1;\"\n              \"}\"\n              \"\"\n              \"f1() === undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var fn = function fn() {return fn.test}; fn.test = 'test'; fn()\"),\n      njs_str(\"test\") },\n\n    { njs_str(\"var body;\"\n              \"var n = 'outside';\"\n              \"var before = function() {return n};\"\n              \"\"\n              \"var func = function n() {\"\n              \"    var n;\"\n              \"    body = function() {return n};\"\n              \"};\"\n              \"\"\n              \"func();\"\n              \"\"\n              \"[before(), body()]\"),\n      njs_str(\"outside,\") },\n\n    { njs_str(\"var func = function x(x) {return x}; func()\"),\n      njs_str(\"undefined\") },\n\n#if 0 /* TODO */\n    { njs_str(\"var a; Object.getOwnPropertyDescriptor(this, 'a').value\"),\n      njs_str(\"undefined\") },\n#endif\n\n    { njs_str(\"f() = 1\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in assignment in 1\") },\n\n    { njs_str(\"f.a() = 1\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in assignment in 1\") },\n\n    { njs_str(\"++f()\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in prefix operation in 1\") },\n\n    { njs_str(\"f()++\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in postfix operation in 1\") },\n\n    /* Numbers. */\n\n    { njs_str(\"0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-0\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\".0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"0.1\"),\n      njs_str(\"0.1\") },\n\n    { njs_str(\".9\"),\n      njs_str(\"0.9\") },\n\n    { njs_str(\"-.0_1\"),\n      njs_str(\"-0.01\") },\n\n    { njs_str(\"0.000_001\"),\n      njs_str(\"0.000001\") },\n\n    { njs_str(\"0.00000_123456\"),\n      njs_str(\"0.00000123456\") },\n\n    { njs_str(\"0.0000001\"),\n      njs_str(\"1e-7\") },\n\n    { njs_str(\"1.1000000\"),\n      njs_str(\"1.1\") },\n\n    { njs_str(\"1_0\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"99_999_999_999_999_999_999\"),\n      njs_str(\"100000000000000000000\") },\n\n    { njs_str(\"9999999999999999999_9.1_1_1\"),\n      njs_str(\"100000000000000000000\") },\n\n    { njs_str(\"999999999999999999999\"),\n      njs_str(\"1e+21\") },\n\n    { njs_str(\"9223372036854775808\"),\n      njs_str(\"9223372036854776000\") },\n\n    { njs_str(\"18446744073709551616\"),\n      njs_str(\"18446744073709552000\") },\n\n    { njs_str(\"1.79769313_48623157E+3_0_8\"),\n      njs_str(\"1.7976931348623157e+308\") },\n\n    { njs_str(\"+1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"+1\\n\"),\n      njs_str(\"1\") },\n\n    { njs_str(\".\"),\n      njs_str(\"SyntaxError: Unexpected token \\\".\\\" in 1\") },\n\n    { njs_str(\"0_1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0_\\\" in 1\") },\n\n    { njs_str(\"1_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    { njs_str(\"1__0\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"__0\\\" in 1\") },\n\n    { njs_str(\"._1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\".\\\" in 1\") },\n\n    { njs_str(\".1_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    { njs_str(\"1_.1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    { njs_str(\".0__1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"__1\\\" in 1\") },\n\n    { njs_str(\"1e_1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_1\\\" in 1\") },\n\n    { njs_str(\"1e-_1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_1\\\" in 1\") },\n\n    { njs_str(\"1E1__0\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"__0\\\" in 1\") },\n\n    { njs_str(\"1_e1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_e1\\\" in 1\") },\n\n    { njs_str(\"1e1_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    { njs_str(\"-_1\"),\n      njs_str(\"ReferenceError: \\\"_1\\\" is not defined\") },\n\n    { njs_str(\"_1\"),\n      njs_str(\"ReferenceError: \\\"_1\\\" is not defined\") },\n\n    /* Octal Numbers. */\n\n    { njs_str(\"0o0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"0O10\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"0o011\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"-0O7_7_7\"),\n      njs_str(\"-511\") },\n\n    { njs_str(\"0o\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0o\\\" in 1\") },\n\n    { njs_str(\"0O778\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0O778\\\" in 1\") },\n\n    { njs_str(\"0O_7\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_7\\\" in 1\") },\n\n    { njs_str(\"0o7_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    { njs_str(\"0o7__7\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"__7\\\" in 1\") },\n\n    /* Legacy Octal Numbers are deprecated. */\n\n    { njs_str(\"00\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"00\\\" in 1\") },\n\n    { njs_str(\"08\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"08\\\" in 1\") },\n\n    { njs_str(\"09\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"09\\\" in 1\") },\n\n    { njs_str(\"0011\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"00\\\" in 1\") },\n\n    { njs_str(\"0_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0_\\\" in 1\") },\n\n    { njs_str(\"0_1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0_\\\" in 1\") },\n\n    { njs_str(\"00_1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"00\\\" in 1\") },\n\n    /* Binary Numbers. */\n\n    { njs_str(\"0b0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"0B10\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"0b0_1_0_1\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"-0B1111_1111\"),\n      njs_str(\"-255\") },\n\n    { njs_str(\"0b\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0b\\\" in 1\") },\n\n    { njs_str(\"0B12\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0B12\\\" in 1\") },\n\n    { njs_str(\"0b_11\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_11\\\" in 1\") },\n\n    { njs_str(\"0B1__1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"__1\\\" in 1\") },\n\n    { njs_str(\"0b11_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    /* Hex Numbers. */\n\n    { njs_str(\"0x0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-0x1\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"0xffFF\"),\n      njs_str(\"65535\") },\n\n    { njs_str(\"0X00_00_BE_EF\"),\n      njs_str(\"48879\") },\n\n    { njs_str(\"0x\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"0x\\\" in 1\") },\n\n    { njs_str(\"0xffff.\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"0x12g\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"g\\\" in 1\") },\n\n    { njs_str(\"0X_ff\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_ff\\\" in 1\") },\n\n    { njs_str(\"0xff_\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"_\\\" in 1\") },\n\n    { njs_str(\"0Xf__f\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"__f\\\" in 1\") },\n\n    { njs_str(\"\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"\\n\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\";\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"\\n +1\"),\n      njs_str(\"1\") },\n\n    /* Scientific notation. */\n\n    { njs_str(\"0e0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"0.0e0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"1e0\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"1e1\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"1.e01\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"5.7e1\"),\n      njs_str(\"57\") },\n\n    { njs_str(\"5.7e-1\"),\n      njs_str(\"0.57\") },\n\n    { njs_str(\"-5.7e-1\"),\n      njs_str(\"-0.57\") },\n\n    { njs_str(\"1.1e-01\"),\n      njs_str(\"0.11\") },\n\n    { njs_str(\"5.7e-2\"),\n      njs_str(\"0.057\") },\n\n    { njs_str(\"1.1e+01\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"-.01e-01\"),\n      njs_str(\"-0.001\") },\n\n    { njs_str(\"1e9\"),\n      njs_str(\"1000000000\") },\n\n    { njs_str(\"1.0e308\"),\n      njs_str(\"1e+308\") },\n\n    { njs_str(\"0e309\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"0e-309\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"1e309\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"-1e309\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"1e\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"e\\\" in 1\") },\n\n    { njs_str(\"1.e\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"e\\\" in 1\") },\n\n    { njs_str(\"1e+\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"e\\\" in 1\") },\n\n    { njs_str(\"1.e-\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"e\\\" in 1\") },\n\n    { njs_str(\"1eZ\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"eZ\\\" in 1\") },\n\n    { njs_str(\".e1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\".\\\" in 1\") },\n\n    { njs_str(\"Number.prototype.X = function(){return 123;};\"\n                 \"(1).X()\"),\n      njs_str(\"123\") },\n\n    /* Indices. */\n\n    { njs_str(\"var a = []; a[-1] = 2; a[-1] == a['-1']\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = []; a[Infinity] = 2; a[Infinity] == a['Infinity']\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = []; a[NaN] = 2; a[NaN] == a['NaN']\"),\n      njs_str(\"true\") },\n\n#define NJS_NOT_CANONICAL_INDICES \"['+0', '-0', '1.', '0.', '0.0', '4294967295', \" \\\n                                  \" '4294967296', '-1', '1.1', '9223372036854775808']\"\n\n    { njs_str(\"var a = [1,2]; \"\n              NJS_NOT_CANONICAL_INDICES\n               \".every(v=>(a[v] === undefined))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1,2]; \"\n              NJS_NOT_CANONICAL_INDICES\n               \".every(v=>{a[v] = 'a'; return a[v] === 'a'})\"),\n      njs_str(\"true\") },\n\n    /* Number.toString(radix) method. */\n\n    { njs_str(\"0..toString(2)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(1234.567).toString(3)\"),\n      njs_str(\"1200201.120022100021001021021002202\") },\n\n    { njs_str(\"(1234.567).toString(5)\"),\n      njs_str(\"14414.240414141414141414\") },\n\n    { njs_str(\"(1234.567).toString(17)\"),\n      njs_str(\"44a.9aeb6faa0da\") },\n\n    { njs_str(\"(1234.567).toString(36)\"),\n      njs_str(\"ya.kety9sifl\") },\n\n    { njs_str(\"Number(-1.1).toString(36)\"),\n      njs_str(\"-1.3llllllllm\") },\n\n    { njs_str(\"Math.pow(-2, 1023).toString(2).length\"),\n      njs_str(\"1025\") },\n\n    { njs_str(\"8.0625.toString(2)\"),\n      njs_str(\"1000.0001\") },\n\n    { njs_str(\"(1/3).toString(2)\"),\n      njs_str(\"0.010101010101010101010101010101010101010101010101010101\") },\n\n    { njs_str(\"9999..toString(3)\"),\n      njs_str(\"111201100\") },\n\n    { njs_str(\"-9999..toString(3)\"),\n      njs_str(\"-111201100\") },\n\n    { njs_str(\"81985529216486895..toString(16)\"),\n      njs_str(\"123456789abcdf0\") },\n\n    { njs_str(\"0xffff.toString(16)\"),\n      njs_str(\"ffff\") },\n\n    { njs_str(\"30520..toString(36)\"),\n      njs_str(\"njs\") },\n\n    { njs_str(\"Infinity.toString()\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Infinity.toString(2)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Infinity.toString(10)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Infinity.toString(NaN)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"Infinity.toString({})\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"Infinity.toString(Infinity)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"NaN.toString()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"NaN.toString(2)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"NaN.toString(10)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"NaN.toString(Infinity)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"NaN.toString({})\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"NaN.toString(NaN)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"1.2312313132.toString(14)\"),\n      njs_str(\"1.3346da6d5d455c\") },\n\n    { njs_str(\"7.799999999999999.toString(14)\"),\n      njs_str(\"7.b2b2b2b2b2b2a5\") },\n\n#ifndef NJS_SUNC\n    { njs_str(\"1e20.toString(14)\"),\n      njs_str(\"33cb3bb449c2a92000\") },\n\n    { njs_str(\"1.7976931348623157E+308.toString(36) == ('1a1e4vngaiqo' + '0'.repeat(187))\"),\n      njs_str(\"true\") },\n\n    /* Largest positive double (prev_double(INFINITY)). */\n    { njs_str(\"1.7976931348623157E+308.toString(2) == ('1'.repeat(53) + '0'.repeat(971))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array(5).fill().map((n, i) => i + 10).map((v)=>(1.2312313132).toString(v))\"),\n      njs_str(\"1.2312313132,1.25a850416057383,1.293699002749414,1.3010274cab0288,1.3346da6d5d455c\") },\n\n    { njs_str(\"Array(5).fill().map((n, i) => 36 - i).map((v)=>(1e23).toString(v))\"),\n      njs_str(\"ga894a06abs0000,o5hlsorok4y0000,128fpsprqld20000,1m1s0ajv6cmo0000,2kmg5hv19br00000\") },\n#endif\n\n    /* Number.prototype.toFixed(frac) method. */\n\n    { njs_str(\"(900.1).toFixed(1)\"),\n      njs_str(\"900.1\") },\n\n    { njs_str(\"(0).toFixed(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(0).toFixed(3)\"),\n      njs_str(\"0.000\") },\n\n    { njs_str(\"(7).toFixed()\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"(7).toFixed(0)\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"(7).toFixed(2)\"),\n      njs_str(\"7.00\") },\n\n    { njs_str(\"(-900.1).toFixed(3.3)\"),\n      njs_str(\"-900.100\") },\n\n    { njs_str(\"(900.123).toFixed(5)\"),\n      njs_str(\"900.12300\") },\n\n    { njs_str(\"(1/3).toFixed(5)\"),\n      njs_str(\"0.33333\") },\n\n    { njs_str(\"(new Number(1/3)).toFixed(5)\"),\n      njs_str(\"0.33333\") },\n\n    { njs_str(\"(new Number(1/3)).toFixed(5)\"),\n      njs_str(\"0.33333\") },\n\n    { njs_str(\"(1/3).toFixed({toString(){return '5'}})\"),\n      njs_str(\"0.33333\") },\n\n    { njs_str(\"(1/3).toFixed(100)\"),\n      njs_str(\"0.3333333333333333148296162562473909929394721984863281250000000000000000000000000000000000000000000000\") },\n\n    { njs_str(\"(1.23e+20).toFixed(2)\"),\n      njs_str(\"123000000000000000000.00\") },\n\n    { njs_str(\"(1.23e-10).toFixed(2)\"),\n      njs_str(\"0.00\") },\n\n    { njs_str(\"(1.23e-10).toFixed(15)\"),\n      njs_str(\"0.000000000123000\") },\n\n    { njs_str(\"(1.23e-10).toFixed(100)\"),\n      njs_str(\"0.0000000001229999999999999888422768137255427361997917046210204716771841049194335937500000000000000000\") },\n\n    { njs_str(\"NaN.toFixed(1)\"),\n      njs_str(\"NaN\") },\n\n#if 0  /* FIXME: bignum support is requred to support frac >= 20 */\n    { njs_str(\"(2 ** -100).toFixed(100)\"),\n      njs_str(\"0.0000000000000000000000000000007888609052210118054117285652827862296732064351090230047702789306640625\") },\n#endif\n\n    /* Number.prototype.toPrecision(prec) method. */\n\n    { njs_str(\"Array(4).fill().map((n, i) => i+1).map((v)=>(1/7).toPrecision(v))\"),\n      njs_str(\"0.1,0.14,0.143,0.1429\") },\n\n    { njs_str(\"Array(4).fill().map((n, i) => i+1).map((v)=>(0).toPrecision(v))\"),\n      njs_str(\"0,0.0,0.00,0.000\") },\n\n    { njs_str(\"Array(4).fill().map((n, i) => i+1).map((v)=>(1/2).toPrecision(v))\"),\n      njs_str(\"0.5,0.50,0.500,0.5000\") },\n\n    { njs_str(\"Array(6).fill().map((n, i) => i+2).map((v)=>(1/v).toPrecision(5))\"),\n      njs_str(\"0.50000,0.33333,0.25000,0.20000,0.16667,0.14286\") },\n\n    { njs_str(\"Array(6).fill().map((n, i) => i+2).map((v)=>(1/(v*100)).toPrecision(5))\"),\n      njs_str(\"0.0050000,0.0033333,0.0025000,0.0020000,0.0016667,0.0014286\") },\n\n    { njs_str(\"Array(6).fill().map((n, i) => i+1).map((v)=>(10*v/7).toPrecision(5))\"),\n      njs_str(\"1.4286,2.8571,4.2857,5.7143,7.1429,8.5714\") },\n\n    { njs_str(\"Array(6).fill().map((n, i) => i+1).map((v)=>(v/3).toPrecision(5))\"),\n      njs_str(\"0.33333,0.66667,1.0000,1.3333,1.6667,2.0000\") },\n\n    { njs_str(\"Array(6).fill().map((n, i) => i+1).map((v)=>((Math.pow(-1,v))*(2*v)/3).toPrecision(5))\"),\n      njs_str(\"-0.66667,1.3333,-2.0000,2.6667,-3.3333,4.0000\") },\n\n    { njs_str(\"Array(12).fill().map((n, i) => i-3).map((v)=>(2**v).toPrecision(6))\"),\n      njs_str(\"0.125000,0.250000,0.500000,1.00000,2.00000,4.00000,8.00000,16.0000,32.0000,64.0000,128.000,256.000\") },\n\n    { njs_str(\"Array(5).fill().map((n, i) => i+16).map((v)=>(4.1).toPrecision(v))\"),\n      njs_str(\"4.100000000000000,4.0999999999999996,4.09999999999999964,4.099999999999999644,4.0999999999999996447\") },\n\n    { njs_str(\"Array(3).fill().map((n, i) => i + 19).map((v)=>(2**(-v)).toPrecision(20))\"),\n      njs_str(\"0.0000019073486328125000000,9.5367431640625000000e-7,4.7683715820312500000e-7\") },\n\n    { njs_str(\"Array(3).fill().map((n, i) => i + 32).map((v)=>(2**(v)+0.1).toPrecision(10))\"),\n      njs_str(\"4294967296,8589934592,1.717986918e+10\") },\n\n#if 0  /* FIXME: bignum support is requred to support prec >= 20 */\n    { njs_str(\"(1/7).toPrecision(100)\"),\n      njs_str(\"0.1428571428571428492126926812488818541169166564941406250000000000000000000000000000000000000000000000\") },\n\n    { njs_str(\"(2**128).toPrecision(40)\"),\n      njs_str(\"340282366920938463463374607431768211456.0\") },\n#endif\n\n    { njs_str(\"(2**128).toPrecision(1)\"),\n      njs_str(\"3e+38\") },\n\n    { njs_str(\"(2**128).toPrecision(2)\"),\n      njs_str(\"3.4e+38\") },\n\n    { njs_str(\"(2**128).toPrecision(40)\"),\n      njs_str(\"340282366920938463490000000000000000000.0\") },\n\n    { njs_str(\"(123).toPrecision(0)\"),\n      njs_str(\"RangeError: precision argument must be between 1 and 100\") },\n\n    { njs_str(\"(123).toPrecision(2.4)\"),\n      njs_str(\"1.2e+2\") },\n\n    { njs_str(\"(123).toPrecision(101)\"),\n      njs_str(\"RangeError: precision argument must be between 1 and 100\") },\n\n    { njs_str(\"(2**10000).toPrecision()\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"(-(2**10000)).toPrecision()\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"var v = parseFloat('9'.repeat(98));\"\n              \"[98,100].map(p=>v.toPrecision(p).length)\"),\n      njs_str(\"98,101\") },\n\n    { njs_str(\"(-0).toPrecision(2)\"),\n      njs_str(\"0.0\") },\n\n    { njs_str(\"NaN.toPrecision()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"NaN.toPrecision(0)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"(10**22).toPrecision()\"),\n      njs_str(\"1e+22\") },\n\n    { njs_str(\"Number.prototype.toPrecision.call('12')\"),\n      njs_str(\"TypeError: unexpected value type:string\") },\n\n    { njs_str(\"(1000000000000000128).toString()\"),\n      njs_str(\"1000000000000000100\") },\n\n    { njs_str(\"(1000000000000000128).toFixed(0)\"),\n      njs_str(\"1000000000000000128\") },\n\n    { njs_str(\"(1e21).toFixed(1)\"),\n      njs_str(\"1e+21\") },\n\n    { njs_str(\"Number.prototype.toFixed.call({})\"),\n      njs_str(\"TypeError: unexpected value type:object\") },\n\n    { njs_str(\"(0).toFixed(-1)\"),\n      njs_str(\"RangeError: digits argument must be between 0 and 100\") },\n\n    { njs_str(\"(0).toFixed(101)\"),\n      njs_str(\"RangeError: digits argument must be between 0 and 100\") },\n\n    /* Number.prototype.toExponential(frac) method. */\n\n    { njs_str(\"Array(3).fill().map((n, i) => i + 1).map((v)=>(0).toExponential(v))\"),\n      njs_str(\"0.0e+0,0.00e+0,0.000e+0\") },\n\n    { njs_str(\"Array(6).fill().map((n, i) => i + 1).map((v)=>((Math.pow(-1,v))*(2*v)/3).toExponential(5))\"),\n      njs_str(\"-6.66667e-1,1.33333e+0,-2.00000e+0,2.66667e+0,-3.33333e+0,4.00000e+0\") },\n\n    { njs_str(\"Array(5).fill().map((n, i) => i + 1).map((v)=>((Math.pow(-1,v))*(2*v)/3).toExponential())\"),\n      njs_str(\"-6.666666666666666e-1,1.3333333333333333e+0,-2e+0,2.6666666666666667e+0,-3.3333333333333337e+0\") },\n\n    { njs_str(\"1.7976931348623157e+308.toExponential()\"),\n      njs_str(\"1.7976931348623157e+308\") },\n\n#if 0  /* FIXME: bignum support is requred to support prec >= 20 */\n    { njs_str(\"(1/7).toExponential(100)\"),\n      njs_str(\"1.4285714285714284921269268124888185411691665649414062500000000000000000000000000000000000000000000000e-1\") },\n#endif\n\n    { njs_str(\"var v = 1.7976931348623157e+308; Number(v.toExponential()) == v\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(123).toExponential(-1)\"),\n      njs_str(\"RangeError: digits argument must be between 0 and 100\") },\n\n    { njs_str(\"(123).toExponential(2.4)\"),\n      njs_str(\"1.23e+2\") },\n\n    { njs_str(\"(123).toExponential(101)\"),\n      njs_str(\"RangeError: digits argument must be between 0 and 100\") },\n\n    { njs_str(\"[2**10000,-(2**10000),NaN].map((v)=>v.toExponential())\"),\n      njs_str(\"Infinity,-Infinity,NaN\") },\n\n    { njs_str(\"[2**10000,-(2**10000),NaN].map((v)=>v.toExponential(1000))\"),\n      njs_str(\"Infinity,-Infinity,NaN\") },\n\n    { njs_str(\"Number.prototype.toExponential.call('12')\"),\n      njs_str(\"TypeError: unexpected value type:string\") },\n\n    /* An object \"valueOf/toString\" methods. */\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };    +a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };  +a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: 2,\"\n                 \"          toString: function() { return '1' } }; +a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } }; ''+a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [] },\"\n                 \"          toString: function() { return '1' } }; +a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { toString: function() { return 'a' } };\"\n                 \"var b = { toString: function() { return a+'b' } }; '0'+b\"),\n      njs_str(\"0ab\") },\n\n    { njs_str(\"({valueOf:()=>'4'}) / ({valueOf:()=>2})\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"({valueOf:()=>{throw 'x'}}) / ({valueOf:()=>{throw 'y'}});\"\n                 \"var e; try { x/y } catch(ex) {e = ex}; ex\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"({valueOf:()=>{ try {throw 'x'} catch (ex) {return 6} } }) / 2\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"({valueOf:()=>2}) / ({valueOf:()=>{throw 'y'}});\"\n                 \"var e; try { x/y } catch(ex) {e = ex}; ex\"),\n      njs_str(\"y\") },\n\n    { njs_str(\"({valueOf:()=>'4'}) % ({valueOf:()=>3})\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"({valueOf:()=>9}) >>> ({valueOf:()=>2})\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"({valueOf:()=>0x1f}) & ({valueOf:()=>0xf})\"),\n      njs_str(\"15\") },\n\n    { njs_str(\"({valueOf:()=>0x1f}) ^ ({valueOf:()=>0xf})\"),\n      njs_str(\"16\") },\n\n    { njs_str(\"({valueOf:()=>0xf}) == ({valueOf:()=>0xf})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var e; try {({valueOf: String.prototype.valueOf}) == 1} \"\n                 \"catch (ex) { e = ex}; e\"),\n      njs_str(\"TypeError: unexpected value type:object\") },\n\n    { njs_str(\"({valueOf:()=>0xf}) == 0xf\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0xf == ({valueOf:()=>0xf})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({valueOf:()=>'0xf'}) == 0xf\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0xf == ({valueOf:()=>'0xf'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({valueOf:()=>0xf}) == '0xf'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'0xf' == ({valueOf:()=>0xf})\"),\n      njs_str(\"true\") },\n    /**/\n\n    { njs_str(\"1 + undefined\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"1 + ''\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"0xA + ''\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"undefined + undefined\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var undefined\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"1.2 + 5.7\"),\n      njs_str(\"6.9\") },\n\n    { njs_str(\"0xf + 1\"),\n      njs_str(\"16\") },\n\n    { njs_str(\"1 + 1 + '2' + 1 + 1\"),\n      njs_str(\"2211\") },\n\n    { njs_str(\"'gg' + -0\"),\n      njs_str(\"gg0\") },\n\n    { njs_str(\"1.2 - '5.7'\"),\n      njs_str(\"-4.5\") },\n\n    { njs_str(\"1.2 + -'5.7'\"),\n      njs_str(\"-4.5\") },\n\n    { njs_str(\"1.2 - '-5.7'\"),\n      njs_str(\"6.9\") },\n\n    { njs_str(\"5 - ' \\t 12  \\t'\"),\n      njs_str(\"-7\") },\n\n    { njs_str(\"5 - '12zz'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"5 - '0x2'\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"5 - '-0x2'\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"5 - '\\t 0x2 \\t'\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"5 - '\\t\\\\u000c0x2 \\t'\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"5 - '0x2 z'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"12 - '5.7e1'\"),\n      njs_str(\"-45\") },\n\n    { njs_str(\"12 - '5.e1'\"),\n      njs_str(\"-38\") },\n\n    { njs_str(\"12 - '5.7e+01'\"),\n      njs_str(\"-45\") },\n\n    { njs_str(\"12 - '5.7e-01'\"),\n      njs_str(\"11.43\") },\n\n    { njs_str(\"12 - ' 5.7e1 '\"),\n      njs_str(\"-45\") },\n\n    { njs_str(\"12 - '5.7e'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"12 - '5.7e+'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"12 - '5.7e-'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"12 - ' 5.7e1 z'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"5 - '0x'\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"1 + +'3'\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"1 - undefined\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"1 - ''\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"undefined - undefined\"),\n      njs_str(\"NaN\") },\n\n    /* String.toString() method. */\n\n    { njs_str(\"'A'.toString()\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"'A'.toBytes().toString('latin1')\"),\n      njs_str(\"TypeError: Unknown encoding: \\\"latin1\\\"\") },\n\n    { njs_str(\"'ABCD'.toBytes().toString('hex')\"),\n      njs_str(\"41424344\") },\n\n    { njs_str(\"'\\\\x00\\\\xAA\\\\xBB\\\\xFF'.toBytes().toString('hex')\"),\n      njs_str(\"00aabbff\") },\n\n    { njs_str(\"'\\\\x00\\\\xAA\\\\xBB\\\\xFF'.toBytes().toString('base64')\"),\n      njs_str(\"AKq7/w==\") },\n\n    { njs_str(\"'ABCD'.toBytes().toString('base64')\"),\n      njs_str(\"QUJDRA==\") },\n\n    { njs_str(\"'ABC'.toBytes().toString('base64')\"),\n      njs_str(\"QUJD\") },\n\n    { njs_str(\"'AB'.toBytes().toString('base64')\"),\n      njs_str(\"QUI=\") },\n\n    { njs_str(\"'A'.toBytes().toString('base64')\"),\n      njs_str(\"QQ==\") },\n\n    { njs_str(\"''.toBytes().toString('base64')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\\\\x00\\\\xAA\\\\xBB\\\\xFF'.toBytes().toString('base64url')\"),\n      njs_str(\"AKq7_w\") },\n\n    { njs_str(\"'ABCD'.toBytes().toString('base64url')\"),\n      njs_str(\"QUJDRA\") },\n\n    { njs_str(\"'ABC'.toBytes().toString('base64url')\"),\n      njs_str(\"QUJD\") },\n\n    { njs_str(\"'AB'.toBytes().toString('base64url')\"),\n      njs_str(\"QUI\") },\n\n    { njs_str(\"'A'.toBytes().toString('base64url')\"),\n      njs_str(\"QQ\") },\n\n    { njs_str(\"''.toBytes().toString('base64url')\"),\n      njs_str(\"\") },\n\n    /* Assignment. */\n\n    { njs_str(\"var a, b = (a = [2]) * (3 * 4); a +' '+ b\"),\n      njs_str(\"2 24\") },\n\n    { njs_str(\"var a = 1; var b = a += 1; b\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = 1; var b = a -= 1; b\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = 1; var b = a <<= 1; b\"),\n      njs_str(\"2\") },\n\n    /* 3 address operation and side effect. */\n\n    { njs_str(\"var a = 1; function f(x) { a = x; return 2 }; a+f(5)+' '+a\"),\n      njs_str(\"3 5\") },\n\n    { njs_str(\"var a = 1; function f(x) { a = x; return 2 }; a += f(5)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var x; x in (x = 1, [1, 2, 3])\"),\n      njs_str(\"false\") },\n\n    /* Exponentiation. */\n\n    { njs_str(\"2 ** 3 ** 2\"),\n      njs_str(\"512\") },\n\n    { njs_str(\"2 ** (3 ** 2)\"),\n      njs_str(\"512\") },\n\n    { njs_str(\"(2 ** 3) ** 2\"),\n      njs_str(\"64\") },\n\n    { njs_str(\"3 ** 2 - 9\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-9 + 3 ** 2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-3 ** 2\"),\n      njs_str(\"SyntaxError: Either left-hand side or entire exponentiation \"\n                 \"must be parenthesized in 1\") },\n\n    { njs_str(\"-(3) ** 2\"),\n      njs_str(\"SyntaxError: Either left-hand side or entire exponentiation \"\n                 \"must be parenthesized in 1\") },\n\n    { njs_str(\"-(3 ** 2)\"),\n      njs_str(\"-9\") },\n\n    { njs_str(\"(-3) ** 2\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"1 ** NaN\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"'a' ** -0\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"1.1 ** Infinity\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"(-1.1) ** -Infinity\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(-1) ** Infinity\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"1 ** -Infinity\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"(-0.9) ** Infinity\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"0.9 ** -Infinity\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"'Infinity' ** 0.1\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Infinity ** '-0.1'\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(-Infinity) ** 3\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"'-Infinity' ** '3.1'\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"(-Infinity) ** '-3'\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"'-Infinity' ** -2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'0' ** 0.1\"),\n      njs_str(\"0\") },\n\n#ifndef __NetBSD__  /* NetBSD 7: pow(0, negative) == -Infinity. */\n    { njs_str(\"0 ** '-0.1'\"),\n      njs_str(\"Infinity\") },\n#endif\n\n    { njs_str(\"(-0) ** 3\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"'-0' ** '3.1'\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(-0) ** '-3'\"),\n      njs_str(\"-Infinity\") },\n\n#ifndef __NetBSD__  /* NetBSD 7: pow(0, negative) == -Infinity. */\n    { njs_str(\"'-0' ** -2\"),\n      njs_str(\"Infinity\") },\n#endif\n\n    { njs_str(\"(-3) ** 0.1\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = 0.1; a **= -2\"),\n      njs_str(\"99.99999999999999\") },\n\n    { njs_str(\"var a = 1; a **= NaN\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = 'a'; a **= -0\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 1.1; a **= Infinity\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"var a = -1.1; a **= -Infinity\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = -1; a **= Infinity\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = 1; a **= -Infinity\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = -0.9; a **= Infinity\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = 0.9; a **= -Infinity\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"var a = 'Infinity'; a **= 0.1\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"var a = Infinity; a **= '-0.1'\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = -Infinity; a **= 3\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"var a = '-Infinity'; a **= '3.1'\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"var a = -Infinity; a **= '-3'\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"var a = '-Infinity'; a **= -2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = '0'; a **= 0.1\"),\n      njs_str(\"0\") },\n\n#ifndef __NetBSD__  /* NetBSD 7: pow(0, negative) == -Infinity. */\n    { njs_str(\"var a = 0; a **= '-0.1'\"),\n      njs_str(\"Infinity\") },\n#endif\n\n    { njs_str(\"var a = -0; a **= 3\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"var a = '-0'; a **= '3.1'\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = -0; a **= '-3'\"),\n      njs_str(\"-Infinity\") },\n\n#ifndef __NetBSD__  /* NetBSD 7: pow(0, negative) == -Infinity. */\n    { njs_str(\"var a = '-0'; a **= -2\"),\n      njs_str(\"Infinity\") },\n#endif\n\n    { njs_str(\"var a = -3; a **= 0.1\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"12 | 6\"),\n      njs_str(\"14\") },\n\n    { njs_str(\"12 | 'abc'\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"-1 | 0\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"-2147483648 | 0\"),\n      njs_str(\"-2147483648\") },\n\n    { njs_str(\"1024.9 | 0\"),\n      njs_str(\"1024\") },\n\n    { njs_str(\"-1024.9 | 0\"),\n      njs_str(\"-1024\") },\n\n    { njs_str(\"9007199254740991 | 0\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"9007199254740992 | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"9007199254740993 | 0\"),\n      njs_str(\"0\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 | 0\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"9223372036854777856 | 0\"),\n      njs_str(\"2048\") },\n\n    { njs_str(\"-9223372036854777856 | 0\"),\n      njs_str(\"-2048\") },\n\n    { njs_str(\"NaN | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-NaN | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Infinity | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-Infinity | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"+0 | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-0 | 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"32.5 << 2.4\"),\n      njs_str(\"128\") },\n\n    { njs_str(\"32.5 << 'abc'\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"'abc' << 2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-1 << 0\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"-1 << -1\"),\n      njs_str(\"-2147483648\") },\n\n    { njs_str(\"-2147483648 << 0\"),\n      njs_str(\"-2147483648\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 << 0\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"9223372036854777856 << 0\"),\n      njs_str(\"2048\") },\n\n    { njs_str(\"-9223372036854777856 << 0\"),\n      njs_str(\"-2048\") },\n\n    { njs_str(\"NaN << 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"32.5 >> 2.4\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"-1 >> 30\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'abc' >> 2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-1 >> 0\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"-1 >> -1\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"-2147483648 >> 0\"),\n      njs_str(\"-2147483648\") },\n\n    { njs_str(\"-2147483648 >> -1\"),\n      njs_str(\"-1\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 >> 0\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"9223372036854777856 >> 0\"),\n      njs_str(\"2048\") },\n\n    { njs_str(\"-9223372036854777856 >> 0\"),\n      njs_str(\"-2048\") },\n\n    { njs_str(\"NaN >> 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"-1 >>> 30\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"NaN >>> 1\"),\n      njs_str(\"0\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 >>> 1\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"-1 >>> 0\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"-1 >>> -1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"-2147483648 >>> 0\"),\n      njs_str(\"2147483648\") },\n\n    { njs_str(\"-2147483648 >>> -1\"),\n      njs_str(\"1\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 >>> 0\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"9223372036854777856 >>> 0\"),\n      njs_str(\"2048\") },\n\n    { njs_str(\"-9223372036854777856 >>> 0\"),\n      njs_str(\"4294965248\") },\n\n    { njs_str(\"NaN >>> 0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"!2\"),\n      njs_str(\"false\") },\n\n    /**/\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   ~a\"),\n      njs_str(\"-2\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; ~a\"),\n      njs_str(\"-2\") },\n\n    /**/\n\n    { njs_str(\"1 || 2\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 1; 1 || (a = 2); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var x; x = 0 || x; x\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var x; x = 1 && x; x\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"1 || 2 || 3\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"1 || (2 + 2) || 3\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"1 && 2\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"1 && 2 && 3\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 1; 0 && (a = 2); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"false && true || true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"false && (true || true)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"true && (null ?? true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(null || undefined) ?? (true && true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"undefined ?? null ?? false ?? true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 && 1 ?? true\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"??\\\" in 1\") },\n\n    { njs_str(\"null ?? 0 || 1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"||\\\" in 1\") },\n\n    { njs_str(\"var a = true; a = -~!a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"12 & 6\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"-1 & 65536\"),\n      njs_str(\"65536\") },\n\n    { njs_str(\"-2147483648 & 65536\"),\n      njs_str(\"0\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 & 65536\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"NaN & 65536\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"12 ^ 6\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"-1 ^ 65536\"),\n      njs_str(\"-65537\") },\n\n    { njs_str(\"-2147483648 ^ 65536\"),\n      njs_str(\"-2147418112\") },\n\n#if 0\n    { njs_str(\"9223372036854775808 ^ 65536\"),\n      njs_str(\"65536\") },\n#endif\n\n    { njs_str(\"NaN ^ 65536\"),\n      njs_str(\"65536\") },\n\n    { njs_str(\"var x = '1'; +x + 2\"),\n      njs_str(\"3\") },\n\n    /* Weird things. */\n\n    { njs_str(\"'3' -+-+-+ '1' + '1' / '3' * '6' + '2'\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"((+!![])+(+!![])+(+!![])+(+!![])+[])+((+!![])+(+!![])+[])\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"1+[[]+[]]-[]+[[]-[]]-1\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"[[]+[]]-[]+[[]-[]]\"),\n      njs_str(\"00\") },\n\n    { njs_str(\"!--[][1]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[].concat[1,2,3]\"),\n      njs_str(\"undefined\") },\n\n    /**/\n\n    { njs_str(\"'true' == true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null == false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"0 == null\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"!null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 === -0\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"1/-0\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"1/0 === 1/-0\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 == true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN === NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN !== NaN\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN == NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN != NaN\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN == false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Infinity == Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-Infinity == -Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-Infinity < Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Infinity - Infinity\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Infinity - -Infinity\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"undefined == 0\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined == null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'1' == 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'1a' == '1'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'abc' == 'abc'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc' < 'abcde'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 == ''\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 == ' '\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 == '  '\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 == '0'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 == ' 0 '\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0 == '000'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'0' == ''\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 < 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN < NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN > NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < 1\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[] == false\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[0] == false\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[0,0] == false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"({}) == false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new Number(1) == new String('1')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = Object; a == Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'1' == new Number(1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new Number(null) + ''\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"new String('abc') == 'abc'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"false == new String('0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 5 } };   a == 5\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '5' } }; a == 5\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '5' } }; a == '5'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 5 } }; a == '5'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { toString: function() { return true } }; '1' == a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 'b' },\"\n                 \"          toString: function() { return 'a' } }; a == 'a'\"),\n      njs_str(\"false\") },\n\n    /* Comparisions. */\n\n    { njs_str(\"1 < 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"1 < 1\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 <= 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"1 <= 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"2 > 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"1 > 2\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 > 1\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 >= 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"2 >= 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"1 >= 2\"),\n      njs_str(\"false\") },\n\n    /**/\n\n    { njs_str(\"null === null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null !== null\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null == null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null != null\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null < null\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null > null\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null <= null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null >= null\"),\n      njs_str(\"true\") },\n\n    /**/\n\n    { njs_str(\"null === undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null !== undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null == undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null != undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null < undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null > undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null <= undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null >= undefined\"),\n      njs_str(\"false\") },\n\n    /**/\n\n    { njs_str(\"null === false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null !== false\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null == false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null != false\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null < false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null > false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null <= false\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null >= false\"),\n      njs_str(\"true\") },\n\n    /**/\n\n    { njs_str(\"null === true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null !== true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null == true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null != true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null < true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null > true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null <= true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null >= true\"),\n      njs_str(\"false\") },\n\n    /**/\n\n    { njs_str(\"Infinity === Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Infinity !== Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Infinity == Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Infinity != Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Infinity < Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Infinity > Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Infinity <= Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Infinity >= Infinity\"),\n      njs_str(\"true\") },\n\n    /**/\n\n    { njs_str(\"-Infinity === Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"-Infinity !== Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-Infinity == Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"-Infinity != Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-Infinity < Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-Infinity > Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"-Infinity <= Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-Infinity >= Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Boolean(Infinity)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"!Infinity === false\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var Infinity\"),\n      njs_str(\"undefined\") },\n\n#if 0 /* ES5FIX */\n    { njs_str(\"Infinity = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \"Infinity\" of object\") },\n#endif\n\n    /**/\n\n    { njs_str(\"NaN === NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN !== NaN\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN == NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN != NaN\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN < NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN > NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN >= NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"NaN <= NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var NaN\"),\n      njs_str(\"undefined\") },\n\n#if 0 /* ES5FIX */\n    { njs_str(\"NaN = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \"NaN\" of object\") },\n#endif\n\n    /**/\n\n    { njs_str(\"null < 0\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null < 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null < NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null < -Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null < Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null < 'null'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"null < '1'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null < [1]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"null < ({})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };     null < a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 'null' } };null < a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };   null < a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"1 < {valueOf: ()=>{throw 'x'}}\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"({valueOf: ()=>{throw 'x'}}) <= ({valueOf:()=>{throw 'y'}})\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"({valueOf:()=>{throw 'x'}}) > ({valueOf:()=>{throw 'y'}})\"),\n      njs_str(\"x\") },\n\n    /**/\n\n    { njs_str(\"undefined == undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"undefined != undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined === undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"undefined !== undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < undefined\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < null\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < 0\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < 1\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < -Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < 'undefined'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < '1'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < [1]\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"undefined < ({})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } }; undefined < a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 'undefined' } };\"\n                 \"undefined < a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };\"\n                 \"undefined < a\"),\n      njs_str(\"false\") },\n\n    /**/\n\n    { njs_str(\"false < 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"true < 1\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"-1 < 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"-1 < '1'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"NaN < NaN\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"-Infinity < Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Infinity < -Infinity\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 < 'abc'\"),\n      njs_str(\"false\") },\n\n    /**/\n\n    { njs_str(\"[] === []\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[] !== []\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[] == []\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[] != []\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[] < []\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[] > []\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[] >= []\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[] <= []\"),\n      njs_str(\"true\") },\n\n    /**/\n\n    { njs_str(\"({}) === ({})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"({}) !== ({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}) == ({})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"({}) != ({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}) > ({})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"({}) <= ({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}) >= ({})\"),\n      njs_str(\"true\") },\n\n    /**/\n\n    { njs_str(\"[0] == ({})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[0] != ({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[0] <= ({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[0] >= ({})\"),\n      njs_str(\"false\") },\n\n    /**/\n    { njs_str(\"new String('1') > new Number(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new Boolean(true) > '1'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'0' >= new Number(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'1' >= new Number(1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new String('1') < new Number(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new Boolean(true) < '1'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new String('1') <= new Number(1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new Boolean(true) <= '1'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'-1' < {valueOf: function() {return -2}}\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new 0[isNaN]\"),\n      njs_str(\"TypeError: (intermediate value)[\\\"[object Function]\\\"] is not a function\") },\n\n    { njs_str(\"new 0[undefined]\"),\n      njs_str(\"TypeError: (intermediate value)[\\\"undefined\\\"] is not a function\") },\n\n    /**/\n\n    { njs_str(\"var a; a = 1 ? 2 : 3\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a; a = 1 ? 2 : 3 ? 4 : 5\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a; a = 0 ? 2 : 3 ? 4 : 5\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"0 ? 2 ? 3 : 4 : 5\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"1 ? 2 ? 3 : 4 : 5\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"1 ? 0 ? 3 : 4 : 5\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"(1 ? 0 : 3) ? 4 : 5\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a; a = (1 + 2) ? 2 ? 3 + 4 : 5 : 6\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var a; a = (1 ? 2 : 3) + 4\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a, b; a = 1 ? b = 2 + 4 : b = 3\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a; a = 1 ? [1,2] : []\"),\n      njs_str(\"1,2\") },\n\n    /**/\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   +a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; +a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   -a\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; -a\"),\n      njs_str(\"-1\") },\n\n    /* Increment. */\n\n    { njs_str(\"var a = 1;   ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = '1'; ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1]; ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = {};  ++a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = [1,2,3]; var b = 1; b = ++a[b]; b + ' '+ a\"),\n      njs_str(\"3 1,3,3\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };\"\n                 \"++a +' '+ a +' '+ typeof a\"),\n      njs_str(\"2 2 number\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };\"\n                 \"++a +' '+ a +' '+ typeof a\"),\n      njs_str(\"2 2 number\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } };\"\n                 \"++a +' '+ a +' '+ typeof a\"),\n      njs_str(\"NaN NaN number\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };\"\n                 \"++a +' '+ a +' '+ typeof a\"),\n      njs_str(\"NaN NaN number\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   a = ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = '1'; a = ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1]; a = ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = {};  a = ++a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   a = ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; a = ++a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } }; a = ++a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };  a = ++a\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   var b = ++a; a +' '+ b\"),\n      njs_str(\"2 2\") },\n\n    { njs_str(\"var a = '1'; var b = ++a; a +' '+ b\"),\n      njs_str(\"2 2\") },\n\n    { njs_str(\"var a = [1]; var b = ++a; a +' '+ b\"),\n      njs_str(\"2 2\") },\n\n    { njs_str(\"var a = {};  var b = ++a; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };\"\n                 \"var b = ++a; a +' '+ b\"),\n      njs_str(\"2 2\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };\"\n                 \"var b = ++a; a +' '+ b\"),\n      njs_str(\"2 2\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } };\"\n                 \"var b = ++a; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };\"\n                 \"var b = ++a; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = 0; a = a + ++a; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 0; a += a + ++a; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var i = 0, arr = ['a', 'b'];\"\n              \"arr[i] = arr[i] + arr[++i]; arr\"),\n      njs_str(\"ab,b\") },\n\n    { njs_str(\"var i = 0, arr = ['a', 'b'];\"\n              \"arr[i] += arr[i] + arr[++i]; arr\"),\n      njs_str(\"aab,b\") },\n\n    /* Post increment. */\n\n    { njs_str(\"var a = 1;   a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = '1'; a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1]; a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {};  a++\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } }; a++\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };  a++\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   a = a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = '1'; a = a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1]; a = a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {};  a = a++\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   a = a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; a = a++\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } }; a = a++\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };  a = a++\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   var b = a++; a +' '+ b\"),\n      njs_str(\"2 1\") },\n\n    { njs_str(\"var a = '1'; var b = a++; a +' '+ b\"),\n      njs_str(\"2 1\") },\n\n    { njs_str(\"var a = [1]; var b = a++; a +' '+ b\"),\n      njs_str(\"2 1\") },\n\n    { njs_str(\"var a = {};  var b = a++; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };\"\n                 \"var b = a++; a +' '+ b\"),\n      njs_str(\"2 1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };\"\n                 \"var b = a++; a +' '+ b\"),\n      njs_str(\"2 1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } };\"\n                 \"var b = a++; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };\"\n                 \"var b = a++; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = 0; a = a + a++; a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = 0; a += a + a++; a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var i = 1, arr = ['a', 'b'];\"\n              \"arr[i] = arr[i] + arr[i++]; arr\"),\n      njs_str(\"a,bb\") },\n\n    { njs_str(\"var i = 1, arr = ['a', 'b'];\"\n              \"arr[i] += arr[i] + arr[i++]; arr\"),\n      njs_str(\"a,bbb\") },\n\n    /* Decrement. */\n\n    { njs_str(\"var a = 1;   --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = '1'; --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1]; --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = {};  --a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1} };   --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1'} }; --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1]} }; --a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } }; --a\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   a = --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = '1'; a = --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1]; a = --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = {};  a = --a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1} };   a = --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1'} }; a = --a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1]} }; a = --a\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } }; a = --a\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   var b = --a; a +' '+ b\"),\n      njs_str(\"0 0\") },\n\n    { njs_str(\"var a = '1'; var b = --a; a +' '+ b\"),\n      njs_str(\"0 0\") },\n\n    { njs_str(\"var a = [1]; var b = --a; a +' '+ b\"),\n      njs_str(\"0 0\") },\n\n    { njs_str(\"var a = {};  var b = --a; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };\"\n                 \"var b = --a; a +' '+ b\"),\n      njs_str(\"0 0\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };\"\n                 \"var b = --a; a +' '+ b\"),\n      njs_str(\"0 0\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } };\"\n                 \"var b = --a; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };\"\n                 \"var b = --a; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = 0; a = a + --a; a\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = 0; a -= a + --a; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var i = 1, arr = ['a', 'b'];\"\n              \"arr[i] = arr[i] + arr[--i]; arr\"),\n      njs_str(\"a,ba\") },\n\n    { njs_str(\"var i = 1, arr = ['a', 'b'];\"\n              \"arr[i] += arr[i] + arr[--i]; arr\"),\n      njs_str(\"a,bba\") },\n\n    /* Post decrement. */\n\n    { njs_str(\"var a = 1;   a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = '1'; a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1]; a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {};  a--\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } }; a--\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };  a--\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   a = a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = '1'; a = a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1]; a = a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {};  a = a--\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };   a = a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } }; a = a--\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } }; a = a--\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };  a = a--\"),\n      njs_str(\"NaN\") },\n\n    /**/\n\n    { njs_str(\"var a = 1;   var b = a--; a +' '+ b\"),\n      njs_str(\"0 1\") },\n\n    { njs_str(\"var a = '1'; var b = a--; a +' '+ b\"),\n      njs_str(\"0 1\") },\n\n    { njs_str(\"var a = [1]; var b = a--; a +' '+ b\"),\n      njs_str(\"0 1\") },\n\n    { njs_str(\"var a = {};  var b = a--; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };\"\n                 \"var b = a--; a +' '+ b\"),\n      njs_str(\"0 1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '1' } };\"\n                 \"var b = a--; a +' '+ b\"),\n      njs_str(\"0 1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return [1] } };\"\n                 \"var b = a--; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = { valueOf: function() { return {} } };\"\n                 \"var b = a--; a +' '+ b\"),\n      njs_str(\"NaN NaN\") },\n\n    { njs_str(\"var a = 0; a = a + a--; a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = 0; a += a + a--; a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var i = 1, arr = ['a', 'b'];\"\n              \"arr[i] = arr[i] + arr[i--]; arr\"),\n      njs_str(\"a,bb\") },\n\n    { njs_str(\"var i = 1, arr = ['a', 'b'];\"\n              \"arr[i] += arr[i] + arr[i--]; arr\"),\n      njs_str(\"a,bbb\") },\n\n    /**/\n\n    { njs_str(\"var a, b; a = 2; b = ++a + ++a; a + ' ' + b\"),\n      njs_str(\"4 7\") },\n\n    { njs_str(\"var a, b; a = 2; b = a++ + a++; a + ' ' + b\"),\n      njs_str(\"4 5\") },\n\n    { njs_str(\"var a, b; a = b = 7; a +' '+ b\"),\n      njs_str(\"7 7\") },\n\n    { njs_str(\"var a, b, c; a = b = c = 5; a +' '+ b +' '+ c\"),\n      njs_str(\"5 5 5\") },\n\n    { njs_str(\"var a, b, c; a = b = (c = 5) + 2; a +' '+ b +' '+ c\"),\n      njs_str(\"7 7 5\") },\n\n    { njs_str(\"1, 2 + 5, 3\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a, b; a = 1 /* YES */\\n b = a + 2 \\n \\n + 1 \\n + 3\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var a, b; a = 1 // YES \\n b = a + 2 \\n \\n + 1 \\n + 3\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var a; a = 0; ++ \\n a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a; a = 0\\n ++a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a = 0; a \\n ++\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 2\") },\n\n    { njs_str(\"a = 0; a \\n --\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 2\") },\n\n    { njs_str(\"var a = 0; a \\n + 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 0; a \\n +\\n 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a; a = 1 ? 2 \\n : 3\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a, b, c;\"\n                 \"a = 0 / 0; b = 1 / 0; c = -1 / 0; a +' '+ b +' '+ c\"),\n      njs_str(\"NaN Infinity -Infinity\") },\n\n    { njs_str(\"var a, b; a = (b = 7) + 5; var c; a +' '+ b +' '+ c\"),\n      njs_str(\"12 7 undefined\") },\n\n    { njs_str(\"var a, b = 1, c; a +' '+ b +' '+ c\"),\n      njs_str(\"undefined 1 undefined\") },\n\n    { njs_str(\"var a = 1, b = a + 1; a +' '+ b\"),\n      njs_str(\"1 2\") },\n\n    { njs_str(\"var a; a = a = 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 1, \\n b; a +' '+ b\"),\n      njs_str(\"1 undefined\") },\n\n    { njs_str(\"var a; a = b + 1; var b; a +' '+ b\"),\n      njs_str(\"NaN undefined\") },\n\n    { njs_str(\"var a += 1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"+=\\\" in 1\") },\n\n    { njs_str(\"var a = a + 1\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a; a = b + 1; var b = 1; a +' '+ b\"),\n      njs_str(\"NaN 1\") },\n\n    { njs_str(\"var a; (a) = 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"\\na\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"\\n\\na\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"a + a\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"a = b + 1\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"a = a + 1\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"a += 1\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"a += 1; var a = 2\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 1\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 1; a = (a = 2) + a\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var a = 1; a = a + (a = 2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 1; a += (a = 2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = b = 1; var b; a +' '+ b\"),\n      njs_str(\"1 1\") },\n\n    { njs_str(\"var a \\n if (!a) a = 3; a\"),\n      njs_str(\"3\") },\n\n    /* automatic semicolon insertion. */\n\n    { njs_str(\"(a\\n--\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"--\\\" in 2\") },\n\n    { njs_str(\"(a\\n++\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"++\\\" in 2\") },\n\n    { njs_str(\"var x = 0, y = 2; x\\n--\\ny; [x,y]\"),\n      njs_str(\"0,1\") },\n\n    { njs_str(\"function f() {return\\n}\"),\n      njs_str(\"undefined\") },\n\n    /* if. */\n\n    { njs_str(\"if (0);\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"if (0) {}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"if (0);else;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 1; if (true); else a = 2; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 1; if (false); else a = 2; a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = 1; if (true) a = 2; else a = 3; a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = 3; if (true) if (false); else a = 2; a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = 3; if (true) if (false); else; a = 2; a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [3], b; if (1==1||2==2) { b = '1'+'2'+a[0] }; b\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"(function(){ if(true) return 1 else return 0; })()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"else\\\" in 1\") },\n\n    { njs_str(\"(function(){ if(true) return 1; else return 0; })()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(){ if(true) return 1;; else return 0; })()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"else\\\" in 1\") },\n\n    { njs_str(\"(function(){ if(true) return 1\\n else return 0; })()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(){ if(true) return 1\\n;\\n else return 0; })()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f(n) {if (n) throw 'foo' else return 1}; f(0)\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"else\\\" in 1\") },\n\n    { njs_str(\"function f(n) {if (n)\\n throw 'foo'\\nelse return 1}; f(0)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f(n) {if (n)\\n throw 'foo'\\nelse return 1}; f(1)\"),\n      njs_str(\"foo\") },\n\n    { njs_str(\"function f(n) {if (n == 1) throw 'foo'\\nelse if (n == 2) return 1}; f(2)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(){ for (var p in [1] ){ if (1) break else return 0; }})()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"else\\\" in 1\") },\n\n    { njs_str(\"(function(){ for (var p in [1] ){ if (1) break\\n else return 0; }})()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function(){ for (var p in [1] ){ if (1) break; else return 0; }})()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function(){ for (var p in [1] ){ if (1) continue else return 0; }})()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"else\\\" in 1\") },\n\n    { njs_str(\"(function(){ for (var p in [1] ){ if (1) continue\\n else return 0; }})()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function(){ for (var p in [1] ){ if (1) continue; else return 0; }})()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function(x){ if\\n(x) return -1; else return 0; })(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(function(x){ if\\n(\\nx) return -1; else return 0; })(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(function(x){ if\\n(\\nx)\\nreturn -1; else return 0; })(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(function(x){ if\\n(\\nx)\\nreturn -1\\n else return 0; })(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(function(x){ if\\n(\\nx)\\nreturn -1\\n else\\nreturn 0; })(0)\"),\n      njs_str(\"0\") },\n\n    /* do while. */\n\n    { njs_str(\"do { break } if (false)\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"if\\\" in 1\") },\n\n    /* for in. */\n\n    { njs_str(\"for (null in undefined);\"),\n      njs_str(\"ReferenceError: Invalid left-hand side \\\"null\\\" in for-in statement in 1\") },\n\n    { njs_str(\"for (var a, b in []);\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"in\\\" in 1\") },\n\n    { njs_str(\"var s = ''; for (var p in [1,2]) {s += p}; s\"),\n      njs_str(\"01\") },\n\n    { njs_str(\"var s; for (var p in [1]) {s = typeof(p)}; s\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"var s = ''; for (var p in {a:1, b:2}) {s += p}; s\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"var s = '';\"\n                 \"var o = Object.defineProperty({}, 'x', {value:1});\"\n                 \"Object.defineProperty(o, 'y', {value:2, enumerable:true});\"\n                 \"for (var p in o) {s += p}; s\"),\n      njs_str(\"y\") },\n\n    { njs_str(\"var o = {a:1, b:2}; var arr = []; \"\n                 \"for (var a in o) {arr.push(a)}; arr\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"var o = {a:1, b:2}; var arr = []; delete o.a; \"\n                 \"for (var a in o) {arr.push(a)}; arr\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"var a = []; for (var k in new Uint8Array([1,2,3])) { a.push(k); }; a\"),\n      njs_str(\"0,1,2\") },\n\n    /* switch. */\n\n    { njs_str(\"switch\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"switch (1);\"),\n      njs_str(\"SyntaxError: Unexpected token \\\";\\\" in 1\") },\n\n    { njs_str(\"switch (1) { do { } while (1) }\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"do\\\" in 1\") },\n\n    { njs_str(\"switch (1) {}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"switch (1) {default:}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"switch (1) {case 0:}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"switch (1) {default:;}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"switch (1) {default:; default:}\"),\n      njs_str(\"SyntaxError: More than one default clause in switch statement in 1\") },\n\n    { njs_str(\"switch (1) {case 0:;}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 'A'; switch (a) {\"\n                 \"case 0: a += '0';\"\n                 \"case 1: a += '1';\"\n                 \"}; a\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"var a = 'A'; switch (0) {\"\n                 \"case 0: a += '0';\"\n                 \"case 1: a += '1';\"\n                 \"}; a\"),\n      njs_str(\"A01\") },\n\n    { njs_str(\"var a = 'A'; switch (0) {\"\n                 \"case 0: a += '0'; break;\"\n                 \"case 1: a += '1';\"\n                 \"}; a\"),\n      njs_str(\"A0\") },\n\n    { njs_str(\"var a = 'A'; switch (1) {\"\n                 \"case 0: a += '0';\"\n                 \"case 1: a += '1';\"\n                 \"}; a\"),\n      njs_str(\"A1\") },\n\n    { njs_str(\"var a = 'A'; switch (2) {\"\n                 \"case 0: a += '0';\"\n                 \"case 1: a += '1';\"\n                 \"default: a += 'D';\"\n                 \"}; a\"),\n      njs_str(\"AD\") },\n\n    { njs_str(\"var a = 'A'; switch (2) {\"\n                 \"case 0: a += '0';\"\n                 \"default: a += 'D';\"\n                 \"case 1: a += '1';\"\n                 \"}; a\"),\n      njs_str(\"AD1\") },\n\n    { njs_str(\"var a = 'A'; function f(x) { a += x; return 0 }\"\n                 \"switch (a) {\"\n                 \"case f(1):\"\n                 \"default:\"\n                 \"case f(2): a += 'D';\"\n                 \"case f(3): a += 'T';\"\n                 \"} a\"),\n      njs_str(\"A123DT\") },\n\n    { njs_str(\"[isNaN, undefined, isFinite].\"\n              \"map((v)=>{switch(v) { case isNaN: return 1; default: return 0;}})\"),\n      njs_str(\"1,0,0\") },\n\n    { njs_str(\"switch (1) {case 1: ii > 1; ii => default:}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"default\\\" in 1\") },\n\n    { njs_str(\"switch (1) {case 1: ii > 1; var a = functin () {default:}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"{\\\" in 1\") },\n\n    { njs_str(\"switch (1) {default: ii > 1; ii => case 2:}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"case\\\" in 1\") },\n\n    { njs_str(\"switch (1) {default: ii > 1; var a = functin () {case 2:}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"{\\\" in 1\") },\n\n    { njs_str(\"switch (1) {case 1: ii > 1; ii => case 2:}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"case\\\" in 1\") },\n\n    { njs_str(\"switch (1) {case 1: ii > 1; var a = functin () {case 2:}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"{\\\" in 1\") },\n\n    /* continue. */\n\n    { njs_str(\"continue\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 1\") },\n\n    { njs_str(\"\\n{\\ncontinue;\\n}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 3\") },\n\n    { njs_str(\"do continue while (false)\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"while\\\" in 1\") },\n\n    { njs_str(\"do continue; while (false)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"do { continue } while (false)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i = 0; do if (i++ > 9) continue; while (i < 100); i\"),\n      njs_str(\"100\") },\n\n    { njs_str(\"while (false) continue\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (false) continue;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (false) { continue }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i = 0; while (i < 100) if (i++ > 9) continue; i\"),\n      njs_str(\"100\") },\n\n    { njs_str(\"for ( ;null; ) continue\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"for ( ;null; ) continue;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"for ( ;null; ) { continue }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i; for (i = 0; i < 100; i++) if (i > 9) continue; i\"),\n      njs_str(\"100\") },\n\n    { njs_str(\"var a = [], i; for (i in a) continue\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [], i; for (i in a) continue;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [], i; for (i in a) { continue }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3,4,5]; var s = 0, i;\"\n                 \"for (i in a) { if (a[i] > 4) continue; else s += a[i] } s\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var a = [1,2,3,4,5]; var s = 0, i;\"\n                 \"for (i in a) { if (a[i] > 4) continue; s += a[i] } s\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var a; for (a = 1; a; a--) switch (a) { case 0: continue }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3], i; for (i in a) {Object.seal({})}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i; for (i in [1,2,3]) {Object.seal({});}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (0) {continue\\n}\"),\n      njs_str(\"undefined\") },\n\n    /* break. */\n\n    { njs_str(\"break\"),\n      njs_str(\"SyntaxError: Illegal break statement in 1\") },\n\n    { njs_str(\"{break}\"),\n      njs_str(\"SyntaxError: Illegal break statement in 1\") },\n\n    { njs_str(\"\\nbreak\"),\n      njs_str(\"SyntaxError: Illegal break statement in 2\") },\n\n    { njs_str(\"do break while (true)\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"while\\\" in 1\") },\n\n    { njs_str(\"do break; while (true)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"do { break } while (true)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i = 0; do if (i++ > 9) break; while (i < 100); i\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"while (true) break\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (true) break;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (true) { break }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i = 0; while (i < 100) if (i++ > 9) break; i\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"for ( ;; ) break\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"for ( ;; ) break;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"for ( ;; ) { break }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i; for (i = 0; i < 100; i++) if (i > 9) break; i\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var a = [], i; for (i in a) break\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [], i; for (i in a) break;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [], i; for (i in a) { break }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3,4,5]; var s = 0, i;\"\n                 \"for (i in a) { if (a[i] > 4) break; else s += a[i] } s\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var a = [1,2,3,4,5]; var s = 0, i;\"\n                 \"for (i in a) { if (a[i] > 4) break; s += a[i] } s\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var a = [1,2,3,4,5]; var s = 0, i;\"\n                 \"for (i in a) if (a[i] > 4) break; s += a[i]; s\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"while (0) {break\\n}\"),\n      njs_str(\"undefined\") },\n\n    /* Labels. */\n\n    { njs_str(\"var n = 0; a:{n++}; a:{n++}; n\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"a: throw 'a'\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"a\\n:\\n1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a\\n\\n:1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a:\\n\\n1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a:\\n\\n\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 3\") },\n\n    { njs_str(\"a : var n = 0; b :++n\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"a:{a:1}\"),\n      njs_str(\"SyntaxError: Label \\\"a\\\" has already been declared in 1\") },\n\n    { njs_str(\"for (var i in [1]) {break b}\"),\n      njs_str(\"SyntaxError: Undefined label \\\"b\\\" in 1\") },\n\n    { njs_str(\"for (var i in [1]) {continue b}\"),\n      njs_str(\"SyntaxError: Undefined label \\\"b\\\" in 1\") },\n\n    { njs_str(\"a:{break b}\"),\n      njs_str(\"SyntaxError: Undefined label \\\"b\\\" in 1\") },\n\n    { njs_str(\"a:{continue b}\"),\n      njs_str(\"SyntaxError: Undefined label \\\"b\\\" in 1\") },\n\n    { njs_str(\"a:function name() {}\"),\n      njs_str(\"SyntaxError: In strict mode code, functions can only be declared at top level or inside a block.\") },\n\n#if 0 /* TODO */\n    { njs_str(\"a:{1; break a}\"),\n      njs_str(\"1\") },\n#endif\n\n    { njs_str(\"var a = 0; a:{a++}; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 0; a:{break a; a++}; a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var r = 0; \"\n                 \"out: for (var i in [1,2,3]) { if (i == 2) {break out;}; r++}; r\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var r = 0; \"\n                 \"out: for (var i = 0; i < 5; i++) { if (i == 2) {break out;}; r++}; r\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0; \"\n                 \"out: \"\n                 \"for (var i in [1,2,3]) { \"\n                 \"  for (var j in [1,2,3]) { \"\n                 \"    if (i == 1 && j == 1) {break;}\"\n                 \"    l2++;\"\n                 \"  }\"\n                 \"  l1++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"3,7\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0; \"\n                 \"out: \"\n                 \"for (var i in [1,2,3]) { \"\n                 \"  for (var j in [1,2,3]) { \"\n                 \"    if (i == 1 && j == 1) {break out;}\"\n                 \"    l2++;\"\n                 \"  }\"\n                 \"  l1++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"1,4\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0; \"\n                 \"out: \"\n                 \"for (var i in [1,2,3]) { \"\n                 \"  for (var j in [1,2,3]) { \"\n                 \"    if (i == 1 && j == 1) {continue out;}\"\n                 \"    l2++;\"\n                 \"  }\"\n                 \"  l1++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"2,7\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0; \"\n                 \"out: \"\n                 \"for (var i in [1,2,3]) { \"\n                 \"  l1++;\"\n                 \"  switch (i) { \"\n                 \"    case '1':\"\n                 \"      break out;\"\n                 \"    default:\"\n                 \"  }\"\n                 \"  l2++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"2,1\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0; \"\n                 \"out: \"\n                 \"for (var i in [1,2,3]) { \"\n                 \"  l1++;\"\n                 \"  switch (i) { \"\n                 \"    case '1':\"\n                 \"      continue out;\"\n                 \"    default:\"\n                 \"  }\"\n                 \"  l2++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"3,2\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0, i = 0, j; \"\n                 \"out: \"\n                 \"while (i < 3) { \"\n                 \"  j = 0;\"\n                 \"  while (j < 3) { \"\n                 \"    if (i == 1 && j == 1) {break out;}\"\n                 \"    l2++;\"\n                 \"    j++;\"\n                 \"  }\"\n                 \"  l1++;\"\n                 \"  i++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"1,4\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0, i = 0, j; \"\n                 \"out: \"\n                 \"while (i < 3) { \"\n                 \"  j = 0;\"\n                 \"  while (j < 3) { \"\n                 \"    if (i == 1 && j == 1) {i++; continue out;}\"\n                 \"    l2++;\"\n                 \"    j++;\"\n                 \"  }\"\n                 \"  l1++;\"\n                 \"  i++;\"\n                 \"}; [l1, l2]\"),\n      njs_str(\"2,7\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0, i = 0, j; \"\n                 \"out: \"\n                 \"do { \"\n                 \"  j = 0;\"\n                 \"  do { \"\n                 \"    if (i == 1 && j == 1) {break out;}\"\n                 \"    l2++;\"\n                 \"    j++;\"\n                 \"  } while (j < 3)\"\n                 \"  l1++;\"\n                 \"  i++;\"\n                 \"} while (i < 3); [l1, l2]\"),\n      njs_str(\"1,4\") },\n\n    { njs_str(\"var l1 = 0, l2 = 0, i = 0, j; \"\n                 \"out: \"\n                 \"do { \"\n                 \"  j = 0;\"\n                 \"  do { \"\n                 \"    if (i == 1 && j == 1) {i++; continue out;}\"\n                 \"    l2++;\"\n                 \"    j++;\"\n                 \"  } while (j < 3)\"\n                 \"  l1++;\"\n                 \"  i++;\"\n                 \"} while (i < 3); [l1, l2]\"),\n      njs_str(\"2,7\") },\n\n    { njs_str(\"out1: while (1) { out2: while (1) { \"\n                 \"  try { break out1; break out2; } catch (e) {}\"\n                 \"}}\"),\n      njs_str(\"InternalError: break/return instructions with different labels \"\n                 \"(\\\"out1\\\" vs \\\"out2\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"out1: while (1) { out2: while (1) { \"\n                 \"  try { } catch (e) {break out1; break out2;} finally {}\"\n                 \"}}\"),\n      njs_str(\"InternalError: break/return instructions with different labels \"\n                 \"(\\\"out1\\\" vs \\\"out2\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"out1: while (1) { out2: while (1) { \"\n                 \"  try { break out1; } catch (e) {break out2;} finally {}\"\n                 \"}}\"),\n      njs_str(\"InternalError: try break/return instructions with different labels \"\n                 \"(\\\"out1\\\" vs \\\"out2\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"out1: while (1) { out2: while (1) { \"\n                 \"  try { break out1; break out2; } finally {}\"\n                 \"}}\"),\n      njs_str(\"InternalError: break/return instructions with different labels \"\n                 \"(\\\"out1\\\" vs \\\"out2\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"out1: while (1) { out2: while (1) { \"\n                 \"  try { continue out1; continue out2; } catch (e) {}\"\n                 \"}}\"),\n      njs_str(\"InternalError: continue instructions with different labels \"\n                 \"(\\\"out1\\\" vs \\\"out2\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"out1: while (1) { out2: while (1) { \"\n                 \"  try { continue out1; } catch (e) {continue out2;} finally {}\"\n                 \"}}\"),\n      njs_str(\"InternalError: try continue instructions with different labels \"\n                 \"(\\\"out1\\\" vs \\\"out2\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"function f() {\"\n                 \"  a:{ try { try { return 'a'; } catch (e) {break a;} finally {} } \"\n                 \"      catch (e) {} finally {}; }\"\n                 \"}\"),\n      njs_str(\"InternalError: try break/return instructions with different labels \"\n                 \"(\\\"@return\\\" vs \\\"a\\\") from try-catch block are not supported\") },\n\n    { njs_str(\"a:{ try { try { continue a; } catch (e) {} finally {} } \"\n                 \"    catch (e) {} finally {}; \"\n                 \"}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 1\") },\n\n    { njs_str(\"var i = 0, j = 0, r = 0;\"\n                 \"out1: while (i < 3) \"\n                 \"{ \"\n                 \"  i++;\"\n                 \"  out2: while (j < 3) { \"\n                 \"      j++; try { break out1; } catch (e) {} finally {r++}\"\n                 \"  }\"\n                 \"}; [i, j, r]\"),\n      njs_str(\"1,1,1\") },\n\n    { njs_str(\"var i = 0, j = 0, r = 0;\"\n                 \"out1: while (i < 3) \"\n                 \"{ \"\n                 \"  i++;\"\n                 \"  out2: while (j < 3) { \"\n                 \"      j++; try { continue out1; } catch (e) {} finally {r++}\"\n                 \"  }\"\n                 \"}; [i, j, r]\"),\n      njs_str(\"3,3,3\") },\n\n    { njs_str(\"var c=0,fin=0;\"\n                 \"try {\"\n                 \" while (c < 2) {\"\n                 \"    try { c += 1; throw 'e';}\"\n                 \"    finally { fin = 1; break;}\"\n                 \"    fin = -1;\"\n                 \"    c += 2;\"\n                 \" }\"\n                 \"} catch(e) {c = 10;}; [c, fin]\"),\n      njs_str(\"1,1\") },\n\n    /* jumping out of a nested try-catch block. */\n\n    { njs_str(\"var r = 0; \"\n                 \"function f () { try { try {return 'a';} finally { r++; }} \"\n                 \"                finally { r++; } }; \"\n                 \"[f(), r]\"),\n      njs_str(\"a,2\") },\n\n    { njs_str(\"function f(n) { \"\n                 \"  var r1 = 0, r2 = 0, r3 = 0;\"\n                 \"  a:{ try { try { \"\n                 \"              if (n == 0) { break a; } \"\n                 \"              if (n == 1) { throw 'a'; } \"\n                 \"            } \"\n                 \"            catch (e) { break a; } finally { r1++; } } \"\n                 \"      catch (e) {} \"\n                 \"      finally { r2++; } \"\n                 \"      r3++;  \"\n                 \"  }; \"\n                 \"return [r1, r2, r3]\"\n                 \"}; njs.dump([f(0), f(1), f(3)])\"),\n      njs_str(\"[[1,1,0],[1,1,0],[1,1,1]]\") },\n\n    /**/\n\n    { njs_str(\"var i; for (i = 0; i < 10; i++) { i += 1 } i\"),\n      njs_str(\"10\") },\n\n    /* Factorial. */\n\n    { njs_str(\"var n = 5, f = 1; while (n--) f *= n + 1; f\"),\n      njs_str(\"120\") },\n\n    { njs_str(\"var n = 5, f = 1; while (n) { f *= n; n-- } f\"),\n      njs_str(\"120\") },\n\n    /* Fibonacci. */\n\n    { njs_str(\"var n = 50, x, i, j, k;\"\n                 \"for(i=0,j=1,k=0; k<n; i=j,j=x,k++ ){ x=i+j } x\"),\n      njs_str(\"20365011074\") },\n\n    { njs_str(\"3 + 'abc' + 'def' + null + true + false + undefined\"),\n      njs_str(\"3abcdefnulltruefalseundefined\") },\n\n    { njs_str(\"var a = 0; do a++; while (a < 5) if (a == 5) a = 7.33 \\n\"\n                 \"else a = 8; while (a < 10) a++; a\"),\n      njs_str(\"10.33\") },\n\n    /* typeof. */\n\n    { njs_str(\"typeof null\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof undefined\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"typeof false\"),\n      njs_str(\"boolean\") },\n\n    { njs_str(\"typeof true\"),\n      njs_str(\"boolean\") },\n\n    { njs_str(\"typeof 0\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"typeof -1\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"typeof Infinity\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"typeof NaN\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"typeof 'a'\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"typeof {}\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof Object()\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof []\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof function(){}\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"typeof Object\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"typeof /./i\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof Date.prototype\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"typeof a; var a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"typeof a; var a; a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 5; typeof a\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"function f() { return typeof a } ; f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"typeof a; a\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"typeof a; a = 1\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    /**/\n\n    { njs_str(\"void 0\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"null = 1\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in assignment in 1\") },\n\n#if 0 /* ES5FIX */\n    { njs_str(\"undefined = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \"undefined\" of object\") },\n#endif\n\n    { njs_str(\"null++\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in postfix operation in 1\") },\n\n    { njs_str(\"++null\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in prefix operation in 1\") },\n\n    { njs_str(\"var a, b; b = a; a = 1; a +' '+ b\"),\n      njs_str(\"1 undefined\") },\n\n    { njs_str(\"a = 1\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"var a; a = 1; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {}; typeof a +' '+ a\"),\n      njs_str(\"object [object Object]\") },\n\n    { njs_str(\"var a = {}; a.b\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = {}; a.b = 1 + 2; a.b\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = {}; a['b']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = {}; a.b.c\"),\n      njs_str(\"TypeError: cannot get property \\\"c\\\" of undefined\") },\n\n    { njs_str(\"'a'[0]\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'a'[undefined]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'a'[null]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'a'[false]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'a'.b = 1\"),\n      njs_str(\"TypeError: property set on primitive string type\") },\n\n    { njs_str(\"'a'[2] = 1\"),\n      njs_str(\"TypeError: property set on primitive string type\") },\n\n    { njs_str(\"var a = {}; a.b = 1; a.b\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {}; a.b = 1; a.b += 2\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = {}; a.b = 1; a.b += a.b\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = {}; a.b = 1; var x = {}; x.b = 3; a.b += (x.b = 2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = {}; a.b = 1; a.b += (a.b = 2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = {}; a.b += 1\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = 1; var b = 2; a = b += 1\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 1; var b = { x:2 }; a = b.x += 1\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 1; var b = { x:2 }; a = b.x += (a = 1)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = undefined; a.b++; a.b\"),\n      njs_str(\"TypeError: cannot get property \\\"b\\\" of undefined\") },\n\n    { njs_str(\"var a = null; a.b++; a.b\"),\n      njs_str(\"TypeError: cannot get property \\\"b\\\" of undefined\") },\n\n    { njs_str(\"var a = true; a.b++; a.b\"),\n      njs_str(\"TypeError: property set on primitive boolean type\") },\n\n    { njs_str(\"var a = 1; a.b++; a.b\"),\n      njs_str(\"TypeError: property set on primitive number type\") },\n\n    { njs_str(\"var n = 1, o = { p: n += 1 }; o.p\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = {}; a.b = {}; a.b.c = 1; a.b['c']\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {}; a.b = {}; a.b.c = 1; a['b']['c']\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {}; a.b = {}; var c = 'd'; a.b.d = 1; a['b'][c]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {}; a.b = 1; var c = a.b++; a.b +' '+ c\"),\n      njs_str(\"2 1\") },\n\n    { njs_str(\"var a = 2; a.b = 1; var c = a.b++; a +' '+ a.b +' '+ c\"),\n      njs_str(\"TypeError: property set on primitive number type\") },\n\n    { njs_str(\"var x = { a: 1 }; x.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { x:1 }; var b = { y:2 }; a.x = b.y; a.x\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { x:1 }; var b = { y:2 }; var c; c = a.x = b.y\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { x:1 }; var b = { y:2 }; var c = a.x = b.y; c\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { x:1 }; var b = { y:2 }; a.x = b.y\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { x:1 }; var b = a.x = 1 + 2; a.x +' '+ b\"),\n      njs_str(\"3 3\") },\n\n    { njs_str(\"var a = { x:1 }; var b = { y:2 }; var c = {};\"\n                 \"c.x = a.x = b.y; c.x\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var y = 2, x = { a:1, b: y + 5, c:3 };\"\n                 \"x.a +' '+ x.b +' '+ x.c\"),\n      njs_str(\"1 7 3\") },\n\n    { njs_str(\"var x = { a: 1, b: { a:2, c:5 } };\"\n                 \"x.a +' '+ x.b.a +' '+ x.b.c\"),\n      njs_str(\"1 2 5\") },\n\n    { njs_str(\"var y = 5, x = { a:y }; x.a\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var x = { a: 1; b: 2 }\"),\n      njs_str(\"SyntaxError: Unexpected token \\\";\\\" in 1\") },\n\n    { njs_str(\"var x = { a: 1, b: x.a }\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\") },\n\n    { njs_str(\"var a = { b: 2 }; a.b += 1\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var o = {a:1}, c = o; o.a = o = {b:5};\"\n                 \"o.a +' '+ o.b +' '+ c.a.b\"),\n      njs_str(\"undefined 5 5\") },\n\n    { njs_str(\"var y = { a: 2 }, x = { a: 1, b: y.a }; x.a +' '+ x.b\"),\n      njs_str(\"1 2\") },\n\n    { njs_str(\"var y = { a: 1 }, x = { a: y.a++, b: y.a++ }\\n\"\n                 \"x.a +' '+ x.b +' '+ y.a\"),\n      njs_str(\"1 2 3\") },\n\n    { njs_str(\"var a='', o = {a:1, b:2}, p;\"\n                 \"for (p in o) { a += p +':'+ o[p] +',' } a\"),\n      njs_str(\"a:1,b:2,\") },\n\n    { njs_str(\"var x = { a: 1 }, b = delete x.a; x.a +' '+ b\"),\n      njs_str(\"undefined true\") },\n\n    /* Object shorthand property. */\n\n    { njs_str(\"var a = 1; njs.dump({a})\"),\n      njs_str(\"{a:1}\") },\n\n    { njs_str(\"var a = 1, b; njs.dump({a,b})\"),\n      njs_str(\"{a:1,b:undefined}\") },\n\n    { njs_str(\"var a = 1, b = 2; ({a,b,c})\"),\n      njs_str(\"ReferenceError: \\\"c\\\" is not defined\") },\n\n    { njs_str(\"var a = 1, b = 2; njs.dump({a,b,c:3})\"),\n      njs_str(\"{a:1,b:2,c:3}\") },\n\n    { njs_str(\"var b = 2, c = 3; njs.dump({a:1,b,c})\"),\n      njs_str(\"{a:1,b:2,c:3}\") },\n\n    { njs_str(\"({1})\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"({default})\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"({var})\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"({this})\"),\n        njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"typeof ({Number}).Number\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"typeof ({eval}).eval\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"typeof ({Math}).Math.sin\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"delete null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a; delete a\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"delete undefined\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"delete this !== true\"),\n      njs_str(\"false\") },\n\n    /* Object shorthand methods. */\n\n    { njs_str(\"var o = {m(){}}; new o.m();\"),\n      njs_str(\"TypeError: function is not a constructor\") },\n\n    { njs_str(\"var o = {sum(a, b){return a + b;}}; o.sum(1, 2)\"),\n      njs_str(\"3\") },\n\n    /* Object computed property. */\n\n    { njs_str(\"var o = { [0]: 1, [-0]: 2 }; o[0];\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var k = 'abc'.split('');var o = {[k[0]]: 'baz'}; o.a\"),\n      njs_str(\"baz\") },\n\n    { njs_str(\"var k = {}; var o = {[k]() {return 'baz'}}; o[k]()\"),\n      njs_str(\"baz\") },\n\n    { njs_str(\"njs.dump({[{toString(){return 'xx'}}]:1})\"),\n      njs_str(\"{xx:1}\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'toString', {value:()=>'xx'});\"\n                 \"njs.dump({[o]:1})\"),\n      njs_str(\"{xx:1}\") },\n\n    { njs_str(\"({[{toString(){return {}}}]:1})\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"var o = { [new Number(12345)]: 1000 }; o[12345]\"),\n      njs_str(\"1000\") },\n\n    { njs_str(\"delete NaN\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"delete Infinity\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"delete -Infinity\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete (1/0)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = []; delete a[1]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {}; [delete o.m, delete o.m]\"),\n      njs_str(\"true,true\") },\n\n    { njs_str(\"[delete Array.nonexistent, delete Array.Array]\"),\n      njs_str(\"true,true\") },\n\n    { njs_str(\"var a; delete (a = 1); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"delete a\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"var a = 1; delete a\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"function f(){} delete f\"),\n      njs_str(\"SyntaxError: Delete of an unqualified identifier in 1\") },\n\n    { njs_str(\"var a = { x:1 }; ('x' in a) +' '+ (1 in a)\"),\n      njs_str(\"true false\") },\n\n    { njs_str(\"delete --[][1]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1,2]; delete a.length\"),\n      njs_str(\"TypeError: Cannot delete property \\\"length\\\" of array\") },\n\n    { njs_str(\"var a = [1,2,3]; a.x = 10;  delete a[1]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.create({a:1}); o.a = 2; delete o.a; o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"delete Array.name\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete Math.max\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete Math.max.length\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function f(a,b) {} \"\n                 \"[f.length, delete f.length, f.length, delete f.length]\"),\n      njs_str(\"2,true,0,true\") },\n\n    { njs_str(\"njs.dump({break:1,3:2,'a':4,\\\"b\\\":2,true:1,null:0})\"),\n      njs_str(\"{break:1,3:2,a:4,b:2,true:1,null:0}\") },\n\n    { njs_str(\"var o1 = {a:1,b:2}, o2 = {c:3}; o1.a + o2.c\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"({[]:1})\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"]\\\" in 1\") },\n\n    { njs_str(\"({'AB\\\\ncd':1})['AB\\\\ncd']\"),\n      njs_str(\"1\") },\n\n    /* Inheritance. */\n\n    { njs_str(\"function Foo() {this.bar = 10;}; Foo.prototype.bar = 42; \"\n                 \"var v = new Foo(); delete v.bar; v.bar\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"function Cl(x,y) {this.x = x; this.y = y}; \"\n                 \"var c = new Cl('a', 'b'); Cl.prototype.z = 1; c.z\"),\n      njs_str(\"1\") },\n\n    /**/\n\n    { njs_str(\"delete Math.E\"),\n      njs_str(\"TypeError: Cannot delete property \\\"E\\\" of object\") },\n\n    { njs_str(\"Math.E = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"E\\\" of object\") },\n\n    /* \"in\" operation. */\n\n    { njs_str(\"var o = { 'a': 1, 'b': 2 }; var i; \"\n                 \"for (i in o) { delete o.a; delete o.b; }; njs.dump(o)\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"var o  = {}; Object.defineProperty(o, 'a', {value:1, configurable:1}); \"\n                 \"delete o.a; o.a=2; o.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = {}; 1 in a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'a' in {a:1}\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol.unscopables in { [Symbol.unscopables]: 1 }\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object(Symbol.toStringTag) in Math\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'1' in [0,,2]\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {get:()=>und}); 'a' in o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {value:1}); ({toString(){return 'a'}}) in o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'a' in Object.create({a:1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[false, NaN, '', Symbol()]\"\n              \".map((x) => { \"\n              \"    try { 'toString' in x; } \"\n              \"    catch (e) { return e instanceof TypeError ? e.message : ''; } \"\n              \"})\"\n              \".every((x) => x.startsWith('property \\\"in\\\" on primitive'))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var p = new String('test');\"\n              \"p.toString = () => { throw new Error('failed') };\"\n              \"p in 1\"),\n      njs_str(\"TypeError: property \\\"in\\\" on primitive number type\") },\n\n    { njs_str(\"var n = { toString: function() { return 'a' } };\"\n                 \"var o = { a: 5 }; o[n]\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var n = { valueOf: function() { return 'a' } };\"\n                 \"var o = { a: 5, '[object Object]': 7 }; o[n]\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var o = {}; o.new = 'OK'; o.new\"),\n      njs_str(\"OK\") },\n\n    { njs_str(\"var o = { new: 'OK'}; o.new\"),\n      njs_str(\"OK\") },\n\n    /* Arrays */\n\n    /* Empty array to primitive. */\n\n    { njs_str(\"3 + []\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"3 * []\"),\n      njs_str(\"0\") },\n\n    /* Single element array to primitive. */\n\n    { njs_str(\"3 + [5]\"),\n      njs_str(\"35\") },\n\n    { njs_str(\"3 * [5]\"),\n      njs_str(\"15\") },\n\n    /* Array to primitive. */\n\n    { njs_str(\"3 + [5,7]\"),\n      njs_str(\"35,7\") },\n\n    { njs_str(\"3 * [5,7]\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = [ 1, 2, 3 ]; a[0] + a[1] + a[2]\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [ 1, 2, 3 ]; a[-1] = 4; a + a[-1]\"),\n      njs_str(\"1,2,34\") },\n\n    { njs_str(\"var a = [ 1, 2, 3 ]; a[4294967295] = 4; a + a[4294967295]\"),\n      njs_str(\"1,2,34\") },\n\n    { njs_str(\"var a = [ 1, 2, 3 ]; a[4294967296] = 4; a + a[4294967296]\"),\n      njs_str(\"1,2,34\") },\n\n    { njs_str(\"delete[]['4e9']\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var n = 1, a = [ n += 1 ]; a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [ 1, 2; 3 ]; a[0] + a[1] + a[2]\"),\n      njs_str(\"SyntaxError: Unexpected token \\\";\\\" in 1\") },\n\n    { njs_str(\"var a = [ 1, 2, 3 ]; a[0] +' '+ a[1] +' '+ a[2] +' '+ a[3]\"),\n      njs_str(\"1 2 3 undefined\") },\n\n    { njs_str(\"var a = [ 5, 6, 7 ]; a['1']\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [ 5, 6, 7 ]; a['01']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [ 5, 6, 7 ]; a[0x1]\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [ 5, 6, 7 ]; a['0x1']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"[] - 2\"),\n      njs_str(\"-2\") },\n\n    { njs_str(\"[1] - 2\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[[1]] - 2\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[[[1]]] - 2\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = []; a - 2\"),\n      njs_str(\"-2\") },\n\n    { njs_str(\"var a = [1]; a - 2\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = []; a[0] = 1; a - 2\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[] + 2 + 3\"),\n      njs_str(\"23\") },\n\n    { njs_str(\"[1] + 2 + 3\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var a = []; a + 2 + 3\"),\n      njs_str(\"23\") },\n\n    { njs_str(\"var a = [1]; a + 2 + 3\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var a = [1,2], i = 0; a[i++] += a[0] = 5 + i;\"\n                 \"a[0] +' '+ a[1]\"),\n      njs_str(\"7 2\") },\n\n    { njs_str(\"var a = []; a[0] = 1; a + 2 + 3\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var a = []; a['0'] = 1; a + 2 + 3\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var a = []; a[2] = 1; a[2]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1, 2]; 1 in a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1, 2]; 2 in a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = [1, 2]; delete a[0]; 0 in a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = [ function(a) {return a + 1} ]; a[0](5)\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var s = '', a = [5,1,2], i;\"\n                 \"a[null] = null;\"\n                 \"a[undefined] = 'defined';\"\n                 \"a[false] = false;\"\n                 \"a[true] = true;\"\n                 \"a[-0] = 0;\"\n                 \"a[Infinity] = Infinity;\"\n                 \"a[-Infinity] = -Infinity;\"\n                 \"a[NaN] = NaN;\"\n                 \"a[-NaN] = -NaN;\"\n                 \"for (i in a) { s += i +':'+ a[i] +',' } s\"),\n      njs_str(\"0:0,1:1,2:2,null:null,undefined:defined,false:false,\"\n                 \"true:true,Infinity:Infinity,-Infinity:-Infinity,NaN:NaN,\") },\n\n    { njs_str(\"--[][3e9]\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"[].length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[1,2].length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1,2]; a.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"[\\n1]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"\\n[\\n1\\n]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"\\n[\\n1\\n,\\n2]\\n[\\n0]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.create([1,2]).length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Object.create(['\u03b1','\u03b2'])[1]\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"Object.create(['\u03b1','\u03b2'])[false]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = ['abc']; var o = Object.create(a); o[0] = 32;\"\n                 \"[a,o[0]]\"),\n      njs_str(\"abc,32\") },\n\n    /* Array.length setter */\n\n    { njs_str(\"[].length = {}\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"[].length = 2**32 - 1\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"var a = []; a.length = 2**32 - 1; a.length\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"[].length = 3e9\"),\n      njs_str(\"3000000000\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, 'length',{value: 2**32 - 1}); a.length\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"[].length = 2**32\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"[].length = 2**32 + 1\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"[].length = -1\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var a = [1];\"\n                 \"typeof (a.length = '') == 'string' && a.length == 0\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1]; \"\n                 \"typeof (a.length = Object(2)) == 'object' && a.length == 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1]; \"\n                 \"typeof (a.length = Object('2')) == 'object'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1]; \"\n                 \"a.length = { valueOf: () => 2 }; a.length == 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1]; \"\n                 \"a.length = { toString: () => '2' }; a.length == 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = []; a.length = 0; JSON.stringify(a)\"),\n      njs_str(\"[]\") },\n\n    { njs_str(\"var a = []; a.length = 1; JSON.stringify(a)\"),\n      njs_str(\"[null]\") },\n\n    { njs_str(\"var a = [1]; a.length = 1; JSON.stringify(a)\"),\n      njs_str(\"[1]\") },\n\n    { njs_str(\"var a = [1]; a.length = 2; JSON.stringify(a)\"),\n      njs_str(\"[1,null]\") },\n\n    { njs_str(\"var a = [1]; a.length = 4; a.length = 0; JSON.stringify(a)\"),\n      njs_str(\"[]\") },\n\n    { njs_str(\"var a = [1,2,3]; a.length = 2; JSON.stringify(a)\"),\n      njs_str(\"[1,2]\") },\n\n    { njs_str(\"var a = [1,2,3]; a.length = 3; a\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var a = [1,2,3]; a.length = 16; a\"),\n      njs_str(\"1,2,3,,,,,,,,,,,,,\") },\n\n    { njs_str(\"var a = [1,2,3]; a.join()\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var a = [1,2,3]; a.join(':')\"),\n      njs_str(\"1:2:3\") },\n\n    { njs_str(\"[\"\n              \"  [],\"\n              \"  ['\u03b2', '\u03b3'],\"\n              \"]\"\n              \".map(v=>{v.length = 2**14+1; var out = v.join('\u03b1'); return [out[0], out[out.length - 1],out.length]})\"\n              \".map(v=>njs.dump(v))\"),\n      njs_str(\"['\u03b1','\u03b1',16384],['\u03b2','\u03b1',16386]\") },\n\n    { njs_str(\"[\"\n              \"  '\u03b1'.repeat(33),\"\n              \"  String.bytesFrom(Array(16).fill(0x9d)),\"\n              \"]\"\n              \".map(v=>{var out = ['\u03b2', '\u03b3'].join(v); return out.length})\"),\n      njs_str(\"35,20\") },\n\n    { njs_str(\"[\"\n              \"  [],\"\n              \"  ['\u03b2', '\u03b3'],\"\n              \"  [NaN, Math.pow(2,123.2), Infinity, -1],\"\n              \"  [new String('\u03b2'),{toString(){return '\u03b3'}}],\"\n              \"]\"\n              \".map(v=>{var out = v.join('\u03b1'); return [out, out[out.length - 1],out.length]})\"\n              \".map(v=>njs.dump(v))\"),\n      njs_str(\"['',undefined,0],\"\n              \"['\u03b2\u03b1\u03b3','\u03b3',3],\"\n              \"['NaN\u03b11.2215056097393134e+37\u03b1Infinity\u03b1-1','1',38],\"\n              \"['\u03b2\u03b1\u03b3','\u03b3',3]\") },\n\n    { njs_str(\"var a = ['\u03b2','\u03b3']; a.join('').length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = ['\u03b2', String.bytesFrom([0x9d]),'\u03b3']; a.join('').length\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a = []; a[5] = 5; a.join()\"),\n      njs_str(\",,,,,5\") },\n\n    { njs_str(\"var a = [,null,undefined,false,true,0,1]; a.join()\"),\n      njs_str(\",,,false,true,0,1\") },\n\n    { njs_str(\"var o = { toString: function() { return null } };\"\n              \"[o].join()\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"var o = { toString: function() { return undefined } };\"\n              \"[o].join()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [0,,2,3];\"\n              \"Object.defineProperty(Array.prototype, 1, {get: ()=> {a[32] = 32; return 1}, configurable:true});\"\n              \"a.join()\"),\n    njs_str(\"0,1,2,3\") },\n\n    { njs_str(\"Array.prototype.join.call(new Uint8Array([0,1,2]))\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var a = []; a[5] = 5; a\"),\n      njs_str(\",,,,,5\") },\n\n    { njs_str(\"var a = []; a.concat([],[1],[])\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = []; a[Symbol.isConcatSpreadable] = undefined; [].concat(a).length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, Symbol.isConcatSpreadable, {get:()=>{throw 'Oops'}}); \"\n              \"[].concat(a)\"),\n      njs_str(\"Oops\") },\n\n    { njs_str(\"var a = [].concat([1,2,3], {length:3, 1:4, 2:5, [Symbol.isConcatSpreadable]:1});\"\n              \"njs.dump([a, a.length])\"),\n      njs_str(\"[[1,2,3,<empty>,4,5],6]\") },\n\n    { njs_str(\"njs.dump([].concat([1,2,3], {length:3, 1:4, 2:5}))\"),\n      njs_str(\"[1,2,3,{length:3,1:4,2:5}]\") },\n\n    { njs_str(\"Array.prototype[1] = 1; var x = [0]; x.length = 2; \"\n              \"x.concat().hasOwnProperty('1') === true\"),\n      njs_str(\"true\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 64)\n              \"a[32] = 1; a = a.concat([1]);\"\n              \"njs.dump([a[0], a[32],a.length])\"),\n      njs_str(\"[undefined,1,65]\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 64)\n              \"a[32] = 1; a = [1].concat(a);\"\n              \"njs.dump([a[0], a[33],a.length])\"),\n      njs_str(\"[1,1,65]\") },\n\n    { njs_str(\"var re = /abc/; re[Symbol.isConcatSpreadable] = true;\"\n              \"re[0] = 1, re[1] = 2, re[2] = 3, re.length = 3;\"\n              \"[].concat(re)\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var s = new String('yuck\\\\uD83D\\\\uDCA9'); s[Symbol.isConcatSpreadable] = true;\"\n              \"[].concat(s)\"),\n      njs_str(\"y,u,c,k,\ud83d\udca9\") },\n\n    { njs_str(\"var s = { toString: function() { return 'S' } };\"\n                 \"var v = { toString: 8, valueOf: function() { return 'V' } };\"\n                 \"var o = [9]; o.join = function() { return 'O' };\"\n                 \"var a = [1,2,3,[4,5,6],s,v,o]; a.join('')\"),\n      njs_str(\"1234,5,6SVO\") },\n\n    { njs_str(\"var s = { toString: function() { return 'S' } };\"\n                 \"var v = { toString: 8, valueOf: function() { return 'V' } };\"\n                 \"var o = [9]; o.join = function() { return 'O' };\"\n                 \"var a = [1,2,3,[4,5,6],s,v,o]; a\"),\n      njs_str(\"1,2,3,4,5,6,S,V,O\") },\n\n    /* Array.toString(). */\n\n    { njs_str(\"var a = [1,2,3]; a.join = 'NO';\"\n                 \"Object.prototype.toString = function () { return 'A' }; a\"),\n      njs_str(\"[object Array]\") },\n\n    { njs_str(\"Array.prototype.toString.call(1)\"),\n      njs_str(\"[object Number]\") },\n\n    { njs_str(\"Array.prototype.toString.call('abc')\"),\n      njs_str(\"[object String]\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 32769)\n              \"var s = a.toString(); [s.length]\"),\n      njs_str(\"32768\") },\n\n    /* Empty array elements. */\n\n    { njs_str(\"[,,]\"),\n      njs_str(\",\") },\n\n    { njs_str(\"[,,,]\"),\n      njs_str(\",,\") },\n\n    { njs_str(\"[1,2,]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"[1,2,,3]\"),\n      njs_str(\"1,2,,3\") },\n\n    { njs_str(\"[,,].length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"[,,,].length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"[1,2,,3].length\"),\n      njs_str(\"4\") },\n\n    /**/\n\n    { njs_str(\"var n = { toString: function() { return 1 } };   [1,2][n]\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var n = { toString: function() { return '1' } }; [1,2][n]\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var n = { toString: function() { return 1 },\"\n                          \" valueOf:  function() { return 0 } };   [1,2][n]\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var n = { toString: function() { return 1.5 } };\"\n                 \"var a = [1,2]; a[1.5] = 5; a[n]\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var n = { toString: function() { return 1.5 } };\"\n                 \"var a = [1,2]; a[n] = 5; a[1.5]\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var n = { toString: function() { return '1.5' } };\"\n                 \"var a = [1,2]; a[1.5] = 5; a[n]\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var n = { toString: function() { return '1.5' } };\"\n                 \"var a = [1,2]; a[n] = 5; a[1.5]\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var n = { toString: function() { return 1.5 } };\"\n                 \"var a = [1,2]; a[1.5] = 5; n in a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var n = { toString: function() { return '1.5' } };\"\n                 \"var a = [1,2]; a[1.5] = 5; '' + (n in a) + (delete a[n])\"),\n      njs_str(\"truetrue\") },\n\n    /**/\n\n    { njs_str(\"Array.isArray()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Array.isArray(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Array.isArray(1) ? 'true' : 'false'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Array.isArray([])\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.isArray([]) ? 'true' : 'false'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.of()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.of(1,2,3)\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"Array.of(undefined,1)\"),\n      njs_str(\",1\") },\n\n    { njs_str(\"Array.of(NaN,-1,{})\"),\n      njs_str(\"NaN,-1,[object Object]\") },\n\n    { njs_str(\"var a = [1,2,3]; a.concat(4, [5, 6, 7], 8)\"),\n      njs_str(\"1,2,3,4,5,6,7,8\") },\n\n    { njs_str(\"var a = []; a[100] = a.length; a[100] +' '+ a.length\"),\n      njs_str(\"0 101\") },\n\n    { njs_str(\"var a = [1,2]; a[100] = 100; a[100] +' '+ a.length\"),\n      njs_str(\"100 101\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, 'length', {writable:0});\"\n              \"Object.getOwnPropertyDescriptor(a, 'length').writable\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, 'length', {writable:0});\"\n              \"Object.defineProperty(a, 'length', {writable:true})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"length\\\"\") },\n\n    { njs_str(\"[1, 2, 3, 4, 5].copyWithin(0, 3)\"),\n      njs_str(\"4,5,3,4,5\") },\n\n    { njs_str(\"[1, 2, 3, 4, 5].copyWithin(0, 3, 4)\"),\n      njs_str(\"4,2,3,4,5\") },\n\n    { njs_str(\"[1, 2, 3, 4, 5].copyWithin(0, -2, -1)\"),\n      njs_str(\"4,2,3,4,5\") },\n\n    { njs_str(\"[1, 2, 3, 4, 5].copyWithin(100, 200, 500)\"),\n      njs_str(\"1,2,3,4,5\") },\n\n    { njs_str(\"[0, 1, , , 1].copyWithin(0, 1, 4)\"),\n      njs_str(\"1,,,,1\") },\n\n    { njs_str(\"[0, 1, 2, 3].copyWithin(0, 1, -10)\"),\n      njs_str(\"0,1,2,3\") },\n\n    { njs_str(\"var o = [0, 1, , , 1].copyWithin(0, 1, 4); typeof o\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"[].copyWithin.call({length: 5, 3: 1}, 0, 3)\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var o = [1, 2, 3, 4]; Object.defineProperties(o, { 5: {value: 'abc'}});\"\n              \"[].copyWithin.call(o, 0, 3, 4);\"),\n      njs_str(\"4,2,3,4,,abc\") },\n\n    { njs_str(\"var obj = {length: 5, 3: 1}; [].copyWithin.call(obj, 0, 3);\"\n              \"Object.keys(obj)\"),\n      njs_str(\"length,3,0\") },\n\n    { njs_str(\"var obj = {length: 5, 1: 'a', 2: 'b', 3: 'c', 4: 'd', 5: 'e'};\"\n              \"[].copyWithin.call(obj, 0, -2, -1);\"\n              \"Object.keys(obj) + '|' + Object.values(obj)\"),\n      njs_str(\"length,1,2,3,4,5,0|5,a,b,c,d,e,c\") },\n\n    { njs_str(\"var o = {length:1}; Object.defineProperty(o, '0', {get:()=>{throw Error('Oops')}});\"\n              \"Array.prototype.copyWithin.call(o, 0, 0)\"),\n      njs_str(\"Error: Oops\") },\n\n    { njs_str(\"Array.prototype.slice(1)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype.slice(1,2)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype.slice.call(undefined)\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"Array.prototype.slice.call(1)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype.slice.call(false)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype.slice.call({'0':'a', '1':'b', length:1})\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"Array.prototype.slice.call({'0':'a', '1':'b', length:2})\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"Array.prototype.slice.call({'0':'a', '1':'b', length:4})\"),\n      njs_str(\"a,b,,\") },\n\n    { njs_str(\"Array.prototype.slice.call({'0':'a', '1':'b', length:2}, 1)\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"Array.prototype.slice.call({'0':'a', '1':'b', length:2}, 1, 2)\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"Array.prototype.slice.call({length:'2'})\"),\n      njs_str(\",\") },\n\n    { njs_str(\"njs.dump(Array.prototype.slice.call({length: 3, 1: undefined }))\"),\n      njs_str(\"[<empty>,undefined,<empty>]\") },\n\n    { njs_str(\"Array.prototype.slice.call({length:new Number(3)})\"),\n      njs_str(\",,\") },\n\n    { njs_str(\"Array.prototype.slice.call({length: { valueOf: function() { return 2; } }})\"),\n      njs_str(\",\") },\n\n    { njs_str(\"Array.prototype.slice.call({ length: Object.create(null) })\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"Array.prototype.slice.call({length:-1})\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype[1] = 1; var x = [0]; x.length = 2;\"\n              \"var a = x.slice(); a.hasOwnProperty('1')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3')\"),\n      njs_str(\"\u03b1,\u03b2,Z,\u03b3\") },\n\n    { njs_str(\"Array.prototype.slice.call(String.bytesFrom(Array(16).fill(0x9d)))[0].charCodeAt(0)\"),\n      njs_str(\"157\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3', 1)\"),\n      njs_str(\"\u03b2,Z,\u03b3\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3', 2)\"),\n      njs_str(\"Z,\u03b3\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3', 3)\"),\n      njs_str(\"\u03b3\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3', 4)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3', 0, 1)\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3', 1, 2)\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3').length\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"Array.prototype.slice.call('\u03b1\u03b2Z\u03b3')[1].length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Array.prototype.slice.call(new String('\u03b1\u03b2Z\u03b3'))\"),\n      njs_str(\"\u03b1,\u03b2,Z,\u03b3\") },\n\n    { njs_str(\"1..__proto__.length = '2';\"\n                 \"Array.prototype.slice.call(1, 0, 2)\"),\n      njs_str(\",\") },\n\n    { njs_str(\"var a = [1, /**/, 3, 4];\"\n              \"Object.defineProperty(a.__proto__, 1, {\"\n              \"    get: () => {\"\n              \"        a.length = 10**6;\"\n              \"        return 2;\"\n              \"    }\"\n              \"});\"\n              \"a.slice(1)\"),\n      njs_str(\"2,3,4\") },\n\n    { njs_str(\"Array.prototype.pop()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': 3};\"\n              \"Array.prototype.pop.call(o); var res = o.length;\"\n              \"Array.prototype.forEach.call(o, (v) => {res += ', ' + v}); res\"),\n      njs_str(\"2, a, b\") },\n\n    { njs_str(\"var obj = {}; obj.pop = Array.prototype.pop; obj.pop(); obj.length === 0\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.prototype[1] = 1; [0,,].pop()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Array.prototype[1] = 1; var a = [0,,]; a.pop(); a.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.prototype[1] = 1; Object.prototype.length = 2; Array.prototype.pop.call({0:0})\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = Object.freeze({0: 0, 1: 1, length: 2}); Array.prototype.pop.call(o)\"),\n      njs_str(\"TypeError: Cannot delete property \\\"1\\\" of object\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"try {Array.prototype.pop.call(o);}\"\n              \"catch (e) {i += '; ' + e} i\"),\n      njs_str(\"1; TypeError: Cannot set property \\\"length\\\" of object which has only a getter\") },\n\n    { njs_str(\"Array.prototype.pop.call({ length: 3 })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = { length: 3 }; Array.prototype.pop.call(o); o.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 16)\n              \"a[a.length - 1] = 'z'; a[a.length -2] = 'y';\"\n              \"Array.prototype.pop.call(a); [a.length, a[a.length - 1]]\"),\n      njs_str(\"15,y\") },\n\n    { njs_str(\"[0,1].slice()\"),\n      njs_str(\"0,1\") },\n\n    { njs_str(\"[1,2,3,,,4].slice()\"),\n      njs_str(\"1,2,3,,,4\") },\n\n    { njs_str(\"[0,1].slice(undefined)\"),\n      njs_str(\"0,1\") },\n\n    { njs_str(\"[0,1].slice(undefined, undefined)\"),\n      njs_str(\"0,1\") },\n\n    { njs_str(\"[0,1,2,3,4].slice(1,4)\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[0,1,2,3,4].slice(6,7)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var a = [1,2,3,4,5], b = a.slice(3);\"\n              \"b[0] +' '+ b[1] +' '+ b[2]\"),\n      njs_str(\"4 5 undefined\") },\n\n    { njs_str(\"var a = [1,2]; a.pop() +' '+ a.length +' '+ a\"),\n      njs_str(\"2 1 1\") },\n\n    { njs_str(\"var a = [1,2], len = a.push(3); len +' '+ a.pop() +' '+ a\"),\n      njs_str(\"3 3 1,2\") },\n\n    { njs_str(\"var a = [1,2], len = a.push(3,4,5);\"\n              \"len +' '+ a.pop() +' '+ a\"),\n      njs_str(\"5 5 1,2,3,4\") },\n\n    { njs_str(\"var x = {'0': 'a', '1': 'b', '2': 'c', 'length': 3};\"\n              \"Array.prototype.push.call(x, 'x', 'y', 'z', 123) +' '+ x[0] +' '+ x.length\"),\n      njs_str(\"7 a 7\") },\n\n    { njs_str(\"var x = {'0': 'a', '1': 'b', '2': 'c', 'length': 3}; var a = [];\"\n              \"Array.prototype.push.call(x, 'x', 'y', 'z', 123);\"\n              \"Array.prototype.forEach.call(x, (v) => a.push(v)); a\"),\n      njs_str(\"a,b,c,x,y,z,123\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"try {Array.prototype.push.call(o);}\"\n              \"catch (e) {i += '; ' + e} i\"),\n      njs_str(\"1; TypeError: Cannot set property \\\"length\\\" of object which has only a getter\") },\n\n    { njs_str(\"var x = []; x.length = 4294967295; var push = x.push(); push === 4294967295\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = []; x.length = 4294967295; x.push(); x.push(1)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var x = []; x.length = 4294967295; x.push(); \"\n              \"try {x.push('x')} catch (e) {}; x[4294967295]\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"var x = []; x.length = 4294967295; x.push(); \"\n              \"try {x.push('x')} catch (e) {}; x.length\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"[\"\n              \" [2**53-2, [1]],\"\n              \" [2**53-2, [1,2]],\"\n              \" [2**53-1, [1]],\"\n              \" [2**53, []],\"\n              \" [Number.POSITIVE_INFINITY, []],\"\n              \"]\"\n              \".map(args=>{ try {return Array.prototype.push.apply({length:args[0]}, args[1])}\"\n              \"             catch (e) {return e.name} })\"),\n      njs_str(\"9007199254740991,TypeError,TypeError,9007199254740991,9007199254740991\") },\n\n    { njs_str(\"Array.prototype.shift()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3]; a.shift() +' '+ a[0] +' '+ a.length\"),\n      njs_str(\"1 2 2\") },\n\n    { njs_str(\"Array.prototype[0] = 1; var x = [,2]; x.length = 2; x.shift()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var x = {'0': 'x', '1': 'y', '2': 'z', 'length': 3};\"\n              \"Array.prototype.shift.call(x) +' '+ x[0] +' '+ x.length\"),\n      njs_str(\"x y 2\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"try {Array.prototype.shift.call(o);}\"\n              \"catch (e) {i += '; ' + e} i\"),\n      njs_str(\"1; TypeError: Cannot set property \\\"length\\\" of object which has only a getter\") },\n\n    { njs_str(\"var a = [1,2], len = a.unshift(3);\"\n                 \"len +' '+ a +' '+ a.shift()\"),\n      njs_str(\"3 3,1,2 3\") },\n\n    { njs_str(\"var a = [1,2], len = a.unshift(3,4,5);\"\n                 \"len +' '+ a +' '+ a.shift()\"),\n      njs_str(\"5 3,4,5,1,2 3\") },\n\n    { njs_str(\"var x = {'0': 'x', '1': 'y', '2': 'z', 'length': 3}; var a = [];\"\n              \"Array.prototype.unshift.call(x, 'a', 'b', 'c');\"\n              \"Array.prototype.forEach.call(x, (v) => a.push(v)); a + ', ' + x.length\"),\n      njs_str(\"a,b,c,x,y,z, 6\") },\n\n    { njs_str(\"var x = {}; x.length = 1; var a = [];\"\n              \"Array.prototype.unshift.call(x, 'a', 'b', 1025, 'c', 'oh my');\"\n              \"Array.prototype.forEach.call(x, (v) => a.push(v)); a + ', ' + x.length\"),\n      njs_str(\"a,b,1025,c,oh my, 6\") },\n\n    { njs_str(\"var x = {5: 1, 6: 2, length: 7}; var a = [];\"\n              \"Array.prototype.unshift.call(x, '0');\"\n              \"Array.prototype.forEach.call(x, (v) => a.push(v)); a + ', ' + x.length\"),\n      njs_str(\"0,1,2, 8\") },\n\n    { njs_str(\"var x = {5: 2, 10: 3, 11: 4, 12: 5, 20: 6, length: 21}; var a = [];\"\n              \"Array.prototype.unshift.call(x, '0', '1');\"\n              \"Array.prototype.forEach.call(x, (v, k) => a.push(k + ':' + v)); a + ', ' + x.length\"),\n      njs_str(\"0:0,1:1,7:2,12:3,13:4,14:5,22:6, 23\") },\n\n    { njs_str(\"var x = {0: 0, length: 2**32-2};\"\n              \"Array.prototype.unshift.call(x, '0', '1'); Object.keys(x).sort()\"),\n      njs_str(\"0,1,2,length\") },\n\n    { njs_str(\"var x = {0: 0, length: 2**53-3};\"\n              \"Array.prototype.unshift.call(x, '0', '1'); x.length\"),\n      njs_str(\"9007199254740991\") },\n\n    { njs_str(\"var x = {0: 0}; Array.prototype.unshift.call(x); x.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var obj = {'10000000': 'x', '10000001': 'y', '10000002': 'z'}; var a = [];\"\n              \"obj.length = 90000000;\"\n              \"Array.prototype.unshift.call(obj, 'a', 'b', 'c');\"\n              \"Array.prototype.forEach.call(obj, (v) => a.push(v)); a\"),\n      njs_str(\"a,b,c,x,y,z\")},\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"try {Array.prototype.unshift.call(o);}\"\n              \"catch (e) {i += '; ' + e} i\"),\n      njs_str(\"1; TypeError: Cannot set property \\\"length\\\" of object which has only a getter\") },\n\n    { njs_str(\"var a=[0], n = 64; while(--n) {a.push(n); a.shift()}; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Array.prototype.shift.call({ length: 3 })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = { length: 3 }; Array.prototype.shift.call(o); o.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1,2,3];\"\n              \"Object.defineProperty(a, '1', {enumerable:false});\"\n              \"a.shift(); a\"),\n      njs_str(\"2,3\") },\n\n    { njs_str(\"var a = []; a.splice()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"[].splice(0,5,0)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"[1,2,3,4,5].splice(-2,3,0)\"),\n      njs_str(\"4,5\") },\n\n    { njs_str(\"[].__proto__.splice(0,1,0)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var a = [];\"\n                 \"a.splice(9,0,1,2).join(':') + '|' + a\"),\n      njs_str(\"|1,2\") },\n\n    { njs_str(\"var a = [0,1,2,3,4,5,6,7];\"\n                 \"a.splice(3).join(':') + '|' + a\"),\n      njs_str(\"3:4:5:6:7|0,1,2\") },\n\n    { njs_str(\"var a = [0,1,2,3,4,5,6,7];\"\n                 \"a.splice(3, 2).join(':') + '|' + a\"),\n      njs_str(\"3:4|0,1,2,5,6,7\") },\n\n    { njs_str(\"var a = [0,1,2,3,4,5,6,7];\"\n                 \"a.splice(3, 2, 8, 9, 10, 11 ).join(':') + '|' + a\"),\n      njs_str(\"3:4|0,1,2,8,9,10,11,5,6,7\") },\n\n    { njs_str(\"[\"\n              \" [],\"\n              \" [1],\"\n              \" [1, 2],\"\n              \" [1, 2, 'a'],\"\n              \" [1, 2, 'a', 'b'],\"\n              \" [1, 2, 'a', 'b', 'c'],\"\n              \"]\"\n              \".map(args=>{var a = [0,1,3,4,5]; a.splice.apply(a, args); return a})\"\n              \".map(v=>v.join(''))\"),\n      njs_str(\"01345,0,045,0a45,0ab45,0abc45\") },\n\n    { njs_str(\"[\"\n              \" [],\"\n              \" [1],\"\n              \" [1, 1, 'a'],\"\n              \" [1, 2, 'a'],\"\n              \" [1, 2, 'a', 'b'],\"\n              \" [1, 2, 'a', 'b', 'c'],\"\n              \"]\"\n              \".map(args=>{var a = [0,1,3,4,5]; return a.splice.apply(a, args);})\"\n              \".map(v=>v.join(''))\"),\n      njs_str(\",1345,1,13,13,13\") },\n\n    { njs_str(\"Object.prototype.splice = Array.prototype.splice;\"\n              \"Object.prototype.join = Array.prototype.join;\"\n              \"[\"\n              \" [],\"\n              \" [1],\"\n              \" [1, 2],\"\n              \" [1, 1, 'a'],\"\n              \" [1, 2, 'a'],\"\n              \" [1, 2, 'a', 'b'],\"\n              \" [1, 2, 'a', 'b', 'c'],\"\n              \"]\"\n              \".map(args=>{var a = {0:0, 1:1, 2:3, 3:4, 4:5, length:5};\"\n              \"            a.splice.apply(a, args); return a})\"\n              \".map(v=>v.join(''))\"),\n      njs_str(\"01345,0,045,0a345,0a45,0ab45,0abc45\") },\n\n    { njs_str(\"Object.prototype.splice = Array.prototype.splice;\"\n              \"Object.prototype.join = Array.prototype.join;\"\n              \"[\"\n              \" [],\"\n              \" [1],\"\n              \" [1, 0, 'a'],\"\n              \" [1, 1, 'a'],\"\n              \" [1, 2, 'a'],\"\n              \" [1, 2, 'a', 'b'],\"\n              \" [1, 2, 'a', 'b', 'c'],\"\n              \"]\"\n              \".map(args=>{var a = {0:0, 1:1, 2:3, 3:4, 4:5, length:5};\"\n              \"            return a.splice.apply(a, args);})\"\n              \".map(v=>v.join(''))\"),\n      njs_str(\",1345,,1,13,13,13\") },\n\n    { njs_str(\"var o = { toString: () => {\"\n              \"             for (var i = 0; i < 0x10; i++) {a.push(1)};\"\n              \"             return {};\"\n              \"}};\"\n              \"var a = [o];\"\n              \"a.join()\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"Array.prototype.splice.call({0:0,1:1,2:2,3:3,length:4},0,3,4,5)\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var obj = {0:0,1:1,2:2,3:3,length:4};\"\n              \"Array.prototype.splice.call(obj,0,3,4,5); obj[3]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var obj = {4294967294: 'x', length:-1};\"\n              \"Array.prototype.splice.call(obj, 4294967294, 1); obj.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var obj = {0:0, 1:1, 2:2};\"\n              \"Object.defineProperty(obj, 'length', {value:3, writable:false});\"\n              \"Array.prototype.splice.call(obj, 1, 2, 4)\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"length\\\" of object\") },\n\n    { njs_str(\"var obj = {'9007199254740988': 'A', '9007199254740989': 'B',\"\n              \"           '9007199254740990': 'C', '9007199254740991': 'D', \"\n              \"           length: 2 ** 53 + 2};\"\n              \"Array.prototype.splice.call(obj, 2**53-3, 2 ** 53 + 4)\"),\n      njs_str(\"B,C\") },\n\n    { njs_str(\"var obj = {'9007199254740988': 'A', '9007199254740989': 'B',\"\n              \"           '9007199254740990': 'C', '9007199254740991': 'D', \"\n              \"           length: 2 ** 53 + 2};\"\n              \"Array.prototype.splice.call(obj, 2**53-3, 2 ** 53 + 4);\"\n              \"obj['9007199254740988'] == 'A' && obj['9007199254740991'] == 'D'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var obj = {'9007199254740990': 'A', '9007199254740991': 'B',\"\n              \"           length: 2 ** 53 - 1};\"\n              \"Array.prototype.splice.call(obj, 2**53-2, 1, 'C');\"\n              \"obj['9007199254740990'] == 'C' && obj['9007199254740991'] == 'B'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var obj = {'9007199254740990': 'A', '9007199254740991': 'B',\"\n              \"           length: 2 ** 53 - 1};\"\n              \"Array.prototype.splice.call(obj, 2**53-2, 0, 'C');\"),\n      njs_str(\"TypeError: Invalid length\") },\n\n    { njs_str(\"var a = []; a.reverse()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var a = [1]; a.reverse()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1,2]; a.reverse()\"),\n      njs_str(\"2,1\") },\n\n    { njs_str(\"var a = [1,2,3]; a.reverse()\"),\n      njs_str(\"3,2,1\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.reverse()\"),\n      njs_str(\"4,3,2,1\") },\n\n    { njs_str(\"[1,2,3,,,].reverse()\"),\n      njs_str(\",,3,2,1\") },\n\n    { njs_str(\"[,2,3,,,].reverse()\"),\n      njs_str(\",,3,2,\") },\n\n    { njs_str(\"[,,,3,2,1].reverse()\"),\n      njs_str(\"1,2,3,,,\") },\n\n    { njs_str(\"var a = [,,2,1];\"\n              \"Object.defineProperty(a.__proto__, 0, {\"\n              \"    get: () => {\"\n              \"        a.length = 10**6;\"\n              \"        return 4;\"\n              \"    },\"\n              \"    set: (setval) => { Object.defineProperty(a, 0, { value: setval }); },\"\n              \"});\"\n              \"a.reverse();\"\n              \"a.slice(0, 4)\"),\n      njs_str(\"1,2,,4\") },\n\n    { njs_str(\"var o = {1:true, 2:'', length:-2}; Array.prototype.reverse.call(o) === o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[\"\n              \" ['a','b','c'],\"\n              \" ['a','b','c','d'],\"\n              \" [,'b','c','d'],\"\n              \" ['a','b','c',],\"\n              \" [,'b','c',],\"\n              \"]\"\n              \".map(v=>Object.defineProperty(v, 1, {value:v[1], enumerable:false}))\"\n              \".map(v=>v.reverse().join(''))\"),\n      njs_str(\"cba,dcba,dcb,cba,cb\") },\n\n    { njs_str(\"Array.prototype[1] = 1; var x = [0]; x.length = 2; x.reverse(); x\"),\n      njs_str(\"1,0\") },\n\n    { njs_str(\"Array.prototype[0] = 0; var x = [,1]; x.reverse(); x\"),\n      njs_str(\"1,0\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.indexOf()\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.indexOf(5)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.indexOf(4, 3)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.indexOf(4, 4)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.indexOf(3, '2')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.indexOf(4, -1)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.indexOf(3, -10)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"[].indexOf.bind(0)(0, 0)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var o = 'abcd';\"\n              \"Array.prototype.indexOf.call(o, 'c')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"Array.prototype.indexOf.call(o, 'd')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"Array.prototype.indexOf.call(o); i\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = new Array(); a[100] =1; a[99999] = ''; a[10] = new Object(); \"\n              \"a[5555] = 5.5; a[123456] = 'str'; a[5] = 1E+309; \"\n              \"[1, '', 'str', 1E+309, 5.5, true, 5, 'str1', null, new Object()].map(v=>a.indexOf(v))\"),\n      njs_str(\"100,99999,123456,5,5555,-1,-1,-1,-1,-1\") },\n\n    { njs_str(\"Array.prototype.indexOf.call({199:true, 200:'200.59', length:200}, '200.59')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Array.prototype.indexOf.call({199:true, 200:'200.59', length:201}, '200.59')\"),\n      njs_str(\"200\") },\n\n    { njs_str(\"Array.prototype.indexOf.call({1:true, 2:'200.59', length:2}, '200.59')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Array.prototype.indexOf.call({1:true, 2:'200.59', length:3}, '200.59')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var stopped = 0;\"\n              \"var o = {length:3}; \"\n              \"Object.defineProperty(o, '1',{get:()=>{throw 'Oops'}});\"\n              \"Object.defineProperty(o, '2', {get:()=>stopped++});\"\n              \"try { Array.prototype.indexOf.call(o, 7)} catch (e) {};\"\n              \"stopped\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[].lastIndexOf(1, -1)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[undefined].lastIndexOf()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[undefined].lastIndexOf(undefined)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.lastIndexOf()\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a.lastIndexOf(5)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(1, 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(3, '2')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(1, 6)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(2, 6)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(4, -1)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(4, -6)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [1,2,3,4,3,4]; a.lastIndexOf(3, -10)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[1,2,3].lastIndexOf(1, -5.3)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[1,2,1].lastIndexOf(2,undefined)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[1,2,1].lastIndexOf(1,undefined)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[1,2,1].lastIndexOf(1)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var stopped = 0;\"\n              \"var o = {length:3}; \"\n              \"Object.defineProperty(o, '1', {get:()=>stopped++});\"\n              \"Object.defineProperty(o, '2',{get:()=>{throw 'Oops'}});\"\n              \"try { Array.prototype.lastIndexOf.call(o)} catch (e) {};\"\n              \"stopped\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var o = 'addc';\"\n              \"Array.prototype.lastIndexOf.call(o, 'd')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = 'dddd';\"\n              \"Array.prototype.lastIndexOf.call(o, 'd')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var o = 'dabc';\"\n              \"Array.prototype.lastIndexOf.call(o, 'd')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var o = '\u0410\u0411\u0412\u0413';\"\n              \"Array.prototype.lastIndexOf.call(o, '\u0413')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var o = '\u0413\u0412\u0411\u0410';\"\n              \"Array.prototype.lastIndexOf.call(o, '\u0413')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var o = '\u0412\u0413\u0411\u0410';\"\n              \"Array.prototype.lastIndexOf.call(o, '\u0413')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'd', 2: 'd'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"Array.prototype.lastIndexOf.call(o, 'd')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = new Array(); a[100] =1; a[99999] = ''; a[10] = new Object(); \"\n              \"a[5555] = 5.5; a[123456] = 'str'; a[5] = 1E+309; \"\n              \"[1,'', 'str', 1E+309, 5.5, true, 5, 'str1', null, new Object()].map(v=>a.lastIndexOf(v))\"),\n      njs_str(\"100,99999,123456,5,5555,-1,-1,-1,-1,-1\") },\n\n    { njs_str(\"var obj = {'10000000': 'x', '10000001': 'y', '10000002': 'z'}; var a = [];\"\n              \"obj.length = 90000000;\"\n              \"Array.prototype.lastIndexOf.call(obj, 'y');\"),\n      njs_str(\"10000001\")},\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"Array.prototype.lastIndexOf.call(o); i\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Array.prototype.lastIndexOf.call({199:true, 200:'200.59', length:200}, '200.59')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Array.prototype.lastIndexOf.call({0:'undefined', length:0}, 'undefined')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[''].lastIndexOf.call('00000000000000000000000000000\u043000')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var o = '\u0413\u0412\u0411\u0410';\"\n              \"Array.prototype.lastIndexOf.call(o, '\u0413', 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var o = '\u0413\u0412\u0411\u0410';\"\n              \"Array.prototype.lastIndexOf.call(o, '\u0413', 4)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[1,2,3,4].includes()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[1,2,3,4].includes(5)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[1,2,3,4].includes(4, 3)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3,4].includes(4, 4)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[1,2,3,4,3,4].includes(3, '2')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3,4,3,4].includes(4, -1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3,4,3,4].includes(3, -10)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3,NaN,3,4].includes(NaN)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3,4,5].includes(NaN)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[].includes.bind(0)(0, 0)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"Array.prototype.includes.call(o, 'd')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var obj = {'0': 'a', '1': 'b', '10000000': 'c', '10000001': 'd', '10000002': 'e'};\"\n              \"var fromIndex = 1;\"\n              \"obj.length = 90000000;\"\n              \"Array.prototype.includes.call(obj, 'c', fromIndex);\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var obj = {'0': 'a', '1': 'b', '10000000': 'c', '10000001': 'd', '10000002': 'e'};\"\n              \"var fromIndex = 1;\"\n              \"obj.length = 90000000;\"\n              \"Array.prototype.includes.call(obj, 'a', fromIndex);\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var stopped = 0;\"\n              \"var o = {length:3}; \"\n              \"Object.defineProperty(o, '1',{get:()=>{throw 'Oops'}});\"\n              \"Object.defineProperty(o, '2', {get:()=>stopped++});\"\n              \"try { Array.prototype.includes.call(o, 7)} catch (e) {};\"\n              \"stopped\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = []; var s = { sum: 0 };\"\n                 \"a.forEach(function(v, i, a) { this.sum += v }, s); s.sum\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = new Array(3); var s = { sum: 0 };\"\n                 \"a.forEach(function(v, i, a) { this.sum += v }, s); s.sum\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [,,,]; var s = { sum: 0 };\"\n                 \"a.forEach(function(v, i, a) { this.sum += v }, s); s.sum\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1,2,3]; var s = { sum: 0 };\"\n                 \"a.forEach(function(v, i, a) { this.sum += v }, s); s.sum\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [1,2,3];\"\n                 \"a.forEach(function(v, i, a) { a[i+3] = a.length }); a\"),\n      njs_str(\"1,2,3,3,4,5\") },\n\n    { njs_str(\"function f() { var c; [1].forEach(function(v) { c })}; f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3]; var s = { sum: 0 };\"\n                 \"[].forEach.call(a, function(v, i, a) { this.sum += v }, s);\"\n                 \"s.sum\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [1,2,3]; var s = { sum: 0 };\"\n                 \"[].forEach.apply(a,\"\n                                  \"[ function(v, i, a) { this.sum += v }, s ]);\"\n                 \"s.sum\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = []; var c = 0;\"\n                 \"a.forEach(function(v, i, a) { c++ }); c\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [,,,,]; var c = 0;\"\n                 \"a.forEach(function(v, i, a) { c++ }); c\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"var r = ''; Array.prototype.forEach.call(o, function(v, i, a) { r += v }); r\"),\n      njs_str(\"abcd\") },\n\n    { njs_str(\"var s = 't'; var t = '';\"\n              \"Array.prototype.forEach.call(s, function (a, b, c) {t = typeof c;}); [t, typeof s];\"),\n      njs_str(\"object,string\") },\n\n    { njs_str(\"[].some(function(v) { return v > 1 })\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[11].some(function(v) { return 5 })\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3].some(function(v) { return v > 1 })\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3].some(function(v) { return v > 2 })\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2,3].some(function(v) { return v > 3 })\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': { valueOf: function() { return 3 }}};\"\n              \"var r = Array.prototype.some.call(o, function(el, i, arr) {return el == 'c'}); r\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'd', 'length': { valueOf: function() { return 3 }}};\"\n              \"var r = Array.prototype.some.call(o, function(el, i, arr) {return el == 'c'}); r\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"var r = Array.prototype.some.call(o, function(v, i, a) { return v === 'd' }); r\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[].every(function(v) { return v > 1 })\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var accessed = false;\"\n              \"[1].every((v) => {accessed = true; return 0; }) === false && accessed === true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[3,2,1].every(function(v) { return v > 3 })\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[3,2,1].every(function(v) { return v > 2 })\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[3,2,1].every(function(v) { return v > 0 })\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {0: 'c', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.every.call(o, function(el, i, arr) {return el == 'c'}); r\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {0: 'c', 1: 'c', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.every.call(o, function(el, i, arr) {return el == 'c'}); r\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var obj = new Date(); obj.length = 1; obj[0] = 1;\"\n              \"Array.prototype.every.call(obj, (val,idx,obj)=>!(obj instanceof Date))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Array.prototype.every.call({0:11,1:9,length:2**32+1}, val=>val>10)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var vis = false; var a = []; \"\n              \"Object.defineProperty(a, '0', {get:()=>{vis = true; return 11;}, configurable:true});\"\n              \"Object.defineProperty(a, '1', {get:()=>{if (vis) {return 9;} else {return 11}}, configurable:true});\"\n              \"a.every(val=>val > 10)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {0: 'x', 1: 'y', 2: 'z'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'a'});\"\n              \"var r = Array.prototype.some.call(o, function(v, i, a) { return v === 'a' }); r\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'b'});\"\n              \"var r = Array.prototype.some.call(o, function(v, i, a) { return v === 'y' }); r\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[].fill(1);\"),\n      njs_str(\"\") },\n\n    { njs_str(\"[1,2,3].fill(5);\"),\n      njs_str(\"5,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, 0);\"),\n      njs_str(\"5,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1);\"),\n      njs_str(\"1,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, 4);\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[1,2,3].fill(5, -2);\"),\n      njs_str(\"1,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, -3);\"),\n      njs_str(\"5,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, -4);\"),\n      njs_str(\"5,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, 0);\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, 1);\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, 2);\"),\n      njs_str(\"1,5,3\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, 3);\"),\n      njs_str(\"1,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, 4);\"),\n      njs_str(\"1,5,5\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, -1);\"),\n      njs_str(\"1,5,3\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, -3);\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[1,2,3].fill(5, 1, -4);\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[1,2,3].fill(\\\"a\\\", 1, 2);\"),\n      njs_str(\"1,a,3\") },\n\n    { njs_str(\"[1,2,3].fill({a:\\\"b\\\"}, 1, 2);\"),\n      njs_str(\"1,[object Object],3\") },\n\n    { njs_str(\"Array(3).fill().reduce(function(a, x)\"\n                                 \"{ return a + (x === undefined); }, 0)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = Array.prototype.fill.apply(\"\n                 \"Object({length: 40}), [\\\"a\\\", 1, 20]); Object.values(a)\"),\n      njs_str(\"a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,40,a,a,a,a\") },\n\n    { njs_str(\"var a = Array.prototype.fill.apply({length: \"\n                 \"{ valueOf: function() { return 40 }}}, [\\\"a\\\", 1, 20]);\"\n                 \"Object.values(a)\"),\n      njs_str(\"a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,[object Object],a,a,a,a\") },\n\n    { njs_str(\"[NaN, false, ''].map(\"\n                 \"(x) => Array.prototype.fill.call(x)\"\n                 \").every((x) => typeof x == 'object')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'length', {get:()=>2}); \"\n                 \"Array.prototype.slice.call(Array.prototype.fill.call(o, 1))\"),\n      njs_str(\"1,1\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'length', {get:()=>'0x0002'}); \"\n                 \"Array.prototype.slice.call(Array.prototype.fill.call(o, 1))\"),\n      njs_str(\"1,1\") },\n\n    { njs_str(\"Array.prototype.slice.call({length:2**32})\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"Array.prototype.slice.call({0:'x', [2**32-1]:'y',length:2**32}, 0, 2**32)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"Array.prototype.slice.call({length:2**32+2, [2**32]:'x', [2**32+1]:'y'}, 2**32)\"),\n      njs_str(\"x,y\") },\n\n    { njs_str(\"Array.prototype.slice.call({length:2**53+2, [2**53-3]:'x', [2**53-2]:'y', [2**53-1]:'z'}, 2**53-3)\"),\n      njs_str(\"x,y\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'length', {get:()=> {throw TypeError('Boom')}}); \"\n                 \"Array.prototype.fill.call(o, 1)\"),\n      njs_str(\"TypeError: Boom\") },\n\n    { njs_str(\"var o = Object({length: 3});\"\n                 \"Object.defineProperty(o, '0', {set: ()=>{throw TypeError('Boom')}});\"\n                 \"Array.prototype.fill.call(o, 1)\"),\n      njs_str(\"TypeError: Boom\") },\n\n    { njs_str(\"var o = Object({length: 3});\"\n                 \"Object.defineProperty(o, '0', {set: function(v){this.a = 2 * v}});\"\n                 \"Array.prototype.fill.call(o, 2).a\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"ArrayBuffer()\"),\n      njs_str(\"TypeError: Constructor ArrayBuffer requires 'new'\") },\n\n    { njs_str(\"new ArrayBuffer()\"),\n      njs_str(\"[object ArrayBuffer]\") },\n\n    { njs_str(\"ArrayBuffer.prototype.constructor.name === 'ArrayBuffer'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"ArrayBuffer.prototype.constructor()\"),\n      njs_str(\"TypeError: Constructor ArrayBuffer requires 'new'\") },\n\n    { njs_str(\"ArrayBuffer.name\"),\n      njs_str(\"ArrayBuffer\") },\n\n    { njs_str(\"ArrayBuffer[Symbol.species]\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"ArrayBuffer.prototype[Symbol.toStringTag]\"),\n      njs_str(\"ArrayBuffer\") },\n\n    { njs_str(\"var desc = Object.getOwnPropertyDescriptor(ArrayBuffer,\"\n              \"Symbol.species); desc.get\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"var ctor = ArrayBuffer[Symbol.species]; var a = new ctor(100);\"\n              \"a.byteLength;\"),\n      njs_str(\"100\") },\n\n    { njs_str(\"var a = new ArrayBuffer(); a.byteLength\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = new ArrayBuffer.prototype.constructor(10); a.byteLength\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var get = Object.getOwnPropertyDescriptor(ArrayBuffer.prototype, 'byteLength').get;\"\n              \"get.call([])\"),\n      njs_str(\"TypeError: Method ArrayBuffer.prototype.byteLength called on incompatible receiver\") },\n\n    { njs_str(\"[undefined, 1, 10, 1000, null, NaN, false, {}, [1,2,3], Object(1),'10',\"\n              \" -1, -Infinity, Infinity, 2**50]\"\n              \".map(v=>{ var a; try { a = new ArrayBuffer(v) } catch (e) {return e.name} return a.byteLength})\"),\n      njs_str(\"0,1,10,1000,0,0,0,0,0,1,10,RangeError,RangeError,RangeError,RangeError\") },\n\n    { njs_str(\"var buffer = new ArrayBuffer(16);\"\n              \"[[4,12], [-1,-1], [-1,10], [0, -1], [0, -16], [0,-17]]\"\n              \".map(pr=>buffer.slice(pr[0], pr[1]).byteLength)\"),\n      njs_str(\"8,0,0,15,0,0\") },\n\n    { njs_str(\"[false,NaN,1]\"\n              \".map(v=>(new Uint8Array(v)).length)\"),\n      njs_str(\"0,0,1\") },\n\n#define NJS_TYPED_ARRAY_LIST \"[Uint8Array,Uint8ClampedArray,Int8Array,\"     \\\n                             \" Uint16Array,Int16Array,Uint32Array,\"         \\\n                             \" Int32Array, Float32Array,Float64Array]\"\n\n#define NJS_INT_TYPED_ARRAY_LIST   \"[Uint8Array,Uint8ClampedArray,Int8Array,\" \\\n                                   \" Uint16Array,Int16Array,Uint32Array,\"     \\\n                                   \" Int32Array]\"\n\n#define NJS_FLOAT_TYPED_ARRAY_LIST \"[Float32Array,Float64Array]\"\n\n    { njs_str(\"var TypedArray = Object.getPrototypeOf(Uint8Array);\"\n              \"[TypedArray.name, TypedArray.length]\"),\n      njs_str(\"TypedArray,0\") },\n\n    { njs_str(\"Object.getPrototypeOf(Uint8Array)()\"),\n      njs_str(\"TypeError: Abstract class TypedArray not directly constructable\") },\n\n    { njs_str(\"var TypedArray = Object.getPrototypeOf(Uint8Array);\"\n              NJS_TYPED_ARRAY_LIST\n              \".every(v=>Object.getPrototypeOf(v) === TypedArray)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var TypedArray = Object.getPrototypeOf(Uint8Array);\"\n              NJS_TYPED_ARRAY_LIST\n              \".every(v=>Object.getPrototypeOf(v.prototype) === TypedArray.prototype)\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v.prototype.constructor(0); \"\n              \"           return njs.dump(a) === `${v.name} []`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var global = this;\"\n              NJS_TYPED_ARRAY_LIST\n              \".every(v=>ArrayBuffer.isView(new global[v.name]))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var global = this;\"\n              NJS_TYPED_ARRAY_LIST\n              \".every(v=>global[v.name][Symbol.species].name === v.name)\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v({length:2, '0':1, '1':2}); \"\n              \"           return a[0] == 1 && a[1] == 2 && a.length == 2})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{try{ new v({length:Math.pow(2,53)}) } \"\n              \"           catch(e) {return e.name == 'InternalError' || e.name == 'RangeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v({length:5, 0: null, 2:42, 3:'7', 4:NaN, 5:Symbol('1')}); \"\n              \"           return njs.dump(a) === `${v.name} [0,NaN,42,7,NaN]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var o = {length:2, '0':1}; Object.defineProperty(o, '1', {get(){throw 'Oops'}});\"\n              \"           try {new v(o)} catch (e) { return e == 'Oops'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(3); Object.defineProperty(a, '1', {value:1});\"\n              \"           return njs.dump(a) === `${v.name} [0,1,0]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,1,1]); Object.defineProperty(a, '1', {});\"\n              \"           return njs.dump(a) === `${v.name} [1,1,1]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{try {var a = new v([1,1]); Object.defineProperty(a, '1', {configurable:true})} \"\n              \"           catch (e) { return e.message == 'Cannot redefine property: \\\"1\\\"'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{try {var a = new v([1,1]); Object.defineProperty(a, '1', {enumerable:false})} \"\n              \"           catch (e) { return e.message == 'Cannot redefine property: \\\"1\\\"'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{try {var a = new v([1,1]); Object.defineProperty(a, '1', {writable:false})} \"\n              \"           catch (e) { return e.message == 'Cannot redefine property: \\\"1\\\"'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{try {var a = new v([1,1]); Object.defineProperty(a, '1', {get(){return 22}})} \"\n              \"           catch (e) { return e.message == 'Cannot redefine property: \\\"1\\\"'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(3);\"\n              \"           return [a.hasOwnProperty('1'), a.hasOwnProperty('4')].toString() === 'true,false'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var descs = Object.getOwnPropertyNames(v).sort().toString(); \"\n              \"           return descs === 'BYTES_PER_ELEMENT,length,name,prototype'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map(v=>{var a = new ArrayBuffer(8); return (new v(a).length)})\"),\n      njs_str(\"8,8,8,4,4,2,2,2,1\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map(v=>{var a = new v(1); a[0]--; return a[0]})\"),\n      njs_str(\"255,0,-1,65535,-1,4294967295,-1,-1,-1\") },\n\n    { njs_str(NJS_NOT_CANONICAL_INDICES\n              \".every(v=>{var a = new Uint8Array([1,2]); return a[v] === undefined})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_NOT_CANONICAL_INDICES\n              \".map(v=>{var a = new Uint8Array([1,2]); a[v] = 'a'; return a[v]})\"),\n      njs_str(\"a,,a,a,a,,,,,a\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{v.prototype[10] = 'foo'; return (new v(16))[10] === 0})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{v.prototype[20] = 'foo'; return (new v(16))[20] === undefined})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{v.prototype.foo = 'bar'; return (new v(16)).foo === 'bar'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{v.prototype[-1] = 'foo'; return (new v(8))[-1] === undefined})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map(v=>v.BYTES_PER_ELEMENT)\"),\n      njs_str(\"1,1,1,2,2,4,4,4,8\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>v.length === 3)\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(1); return --a[0] == -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.of(); return njs.dump(a) === `${v.name} []`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.of(1); return njs.dump(a) === `${v.name} [1]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.of(1,2,3,4,5); return njs.dump(a) === `${v.name} [1,2,3,4,5]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ try{ v.of(Symbol()); } catch (e) { return e.name === 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ try{ v.of.call(()=>1); } catch (e) { return e.name === 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ try{ v.of.call(function(){}); } catch (e) { return e.name === 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.from([1,2]); return njs.dump(a) === `${v.name} [1,2]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.from([1,2], v=>2*v); return njs.dump(a) === `${v.name} [2,4]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.from([1,2], function(v){return v * this.m}, {m:3}); \"\n              \"           return njs.dump(a) === `${v.name} [3,6]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.from([1,2], function(v){return v * this.m}, {m:3}); \"\n              \"           return njs.dump(a) === `${v.name} [3,6]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.from({length:3, 0:1, 2:'a'});\"\n              \"           return njs.dump(a) === `${v.name} [1,0,0]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = v.from({length:3, 0:1, 2:'a'});\"\n              \"           return njs.dump(a) === `${v.name} [1,NaN,NaN]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(4); a.fill(42); return (a[0] === 42 && a.length == 4)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(1); a.fill({}); return a[0] === 0})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(1); a.fill({}); return isNaN(a[0])})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); a.fill({valueOf(){return 12}}, 1,2); \"\n              \"       return (a[0] === 1 && a[1] === 12 && a[2] === 3 && a.length == 3)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([0,0,0,0,0]).fill(8, -1, -3); \"\n              \"       return njs.dump(a) === `${v.name} [0,0,0,0,0]`;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); a.fill('qq', 1, 2); \"\n              \"       return (a[0] === 1 && a[1] === 0 && a[2] === 3 && a.length == 3)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); a.fill('qq', 1, 2); \"\n              \"       return (a[0] === 1 && isNaN(a[1]) && a[2] === 3 && a.length == 3)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); var d = Object.getOwnPropertyDescriptors(a)[1];\"\n              \"       return (d.value === 2 && d.writable && d.enumerable && !d.configurable)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); return Object.keys(a).toString() === '0,1,2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); return Object.values(a).toString() === '1,2,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); return Object.entries(a).toString() === '0,1,1,2,2,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{try {delete (new v(1))[0]} catch (e) { return e.name == 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return delete (new v(1))[-1]; })\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(8), b = new v(a.buffer); a[0] = 42; return b[0] === 42})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint8Array([1,2,3]);\"\n              \"     try { return new v(init.buffer, 0, 2)} catch (e) {return e.name}})\"),\n      njs_str(\"1,2,1,2,1,2,RangeError,RangeError,RangeError,RangeError\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint8Array([1,2,3]);\"\n              \"     try { return new v(init.buffer, 1)} catch (e) {return e.name}})\"),\n      njs_str(\"2,3,2,3,2,3,RangeError,RangeError,RangeError,RangeError\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint32Array([0xaabbccdd]);\"\n              \"     try { return new v(init.buffer, 0, 2)} catch (e) {return e.name}})\"),\n      njs_str(njs_evar(\"221,204,221,204,-35,-52,52445,43707,-13091,-21829,RangeError,RangeError\",\n                       \"170,187,170,187,-86,-69,43707,52445,-21829,-13091,RangeError,RangeError\")) },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint32Array([0xaabbccdd]);\"\n              \"     try { return new v(init.buffer, 1, 2)} catch (e) {return e.name}})\"),\n      njs_str(njs_evar(\"204,187,204,187,-52,-69,RangeError,RangeError,RangeError,RangeError\",\n                       \"187,204,187,204,-69,-52,RangeError,RangeError,RangeError,RangeError\")) },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint32Array([0xaabbccdd,0xdeadbeef]);\"\n              \"     try { return new v(init.buffer, 0, 2)} catch (e) {return e.name}})\"),\n      njs_str(njs_evar(\"221,204,221,204,-35,-52,52445,43707,-13091,-21829,\"\n                       \"2864434397,3735928559,-1430532899,-559038737\",\n                       \"170,187,170,187,-86,-69,43707,52445,-21829,-13091,\"\n                       \"2864434397,3735928559,-1430532899,-559038737\")) },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var buffer1 = new ArrayBuffer(8 * v.BYTES_PER_ELEMENT);\"\n              \"           var ta1 = new v(buffer1);\"\n              \"           var ta2 = new v(ta1.buffer, 4 * v.BYTES_PER_ELEMENT); \"\n              \"           ta1[5] = 100; ta1[7] = 101;\"\n              \"           return ta2.toString() === '0,100,0,101'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([42,11]); return a.toString() === '42,11'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(3); a[1] = 42; return a.toString() === '0,42,0'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(0); return a.toString() === ''})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([42,11]); return a.join('|') === '42|11'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([42,11]); return a.join('\u03b1').length === 5})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return njs.dump(new v()) === `${v.name} []`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return njs.dump(new v([42,11])) === `${v.name} [42,11]`})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = new Uint8Array(8); var b = new Uint32Array(a.buffer);\"\n              \"a[0] = 0xff; a[1] = 0xff; a[2] = 0xff; a[3] = 0xff; b[0];\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"[1,300,-100]\"\n              \".map(v=>{var a = new Uint8Array(1); a[0] = v; return a[0];})\"),\n      njs_str(\"1,44,156\") },\n\n    { njs_str(\"[1,300,-100]\"\n              \".map(v=>{var a = new Uint8ClampedArray(1); a[0] = v; return a[0];})\"),\n      njs_str(\"1,255,0\") },\n\n    { njs_str(\"[1,300,-100]\"\n              \".map(v=>{var a = new Uint8ClampedArray(1); a.set([v], 0); return a[0];})\"),\n      njs_str(\"1,255,0\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2,3,4]; var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,3,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:4, 0:1,1:2,2:3,3:4}; var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,3,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2,3,4]); var a = new v(init);\"\n              \"           return a.toString() === '1,2,3,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2,3,4]); var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,3,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:2, 0:1,1:2}; var a = new v(4);\"\n              \"           a.set(init,2); return a.toString() === '0,0,1,2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:4, 0:1,1:2,3:4}; var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,0,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:4, 0:1,1:2,3:4}; var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,NaN,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2,3]; var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,3,0'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2,3]); var a = new v(4);\"\n              \"           a.set(init); return a.toString() === '1,2,3,0'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2,3,4]; var a = new v(4);\"\n              \"           a.set(init, 0); return a.toString() === '1,2,3,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2]; var a = new v(4);\"\n              \"           a.set(init, 2); return a.toString() === '0,0,1,2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2]); var a = new v(4);\"\n              \"           a.set(init,2); return a.toString() === '0,0,1,2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2,3,4]; var a = new v(4);\"\n              \"           try {a.set(init,2)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2,3,4]; var a = new v(4);\"\n              \"           try {a.set(init,Infinity)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = [1,2,3,4,5]; var a = new v(4);\"\n              \"           try {a.set(init)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:5}; var a = new v(4);\"\n              \"           try {a.set(init)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:3}; var a = new v(4);\"\n              \"           try {a.set(init,2)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = {length:3}; var a = new v(4);\"\n              \"           try {a.set(init,Infinity)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2,3,4,5]); var a = new v(4);\"\n              \"           try {a.set(init)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2,3]); var a = new v(4);\"\n              \"           try {a.set(init,2)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var init = new v([1,2,3]); var a = new v(4);\"\n              \"           try {a.set(init,Infinity)} catch (e) {return e.name == 'RangeError'};})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[-1,-1.00001,-Infinity]\"\n              \".every(v=>{ try {(new Uint8Array(10)).set([], v)} catch (ee) {return ee.name === 'RangeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[0.1,2.5,{},{'1': '10'},[1000]]\"\n              \".map(v=>{var a = new Uint8Array(1); a.set([v], 0); return a[0]})\"),\n      njs_str(\"0,2,0,0,232\") },\n\n    { njs_str(\"[1.0, -1234.0]\"\n              \".map(v=>{var a = new Float32Array(1); a[0] = v; var b = new Uint8Array(a.buffer);\"\n              \"         return (b[0] << 24 | b[1] << 16| b[2] <<8 | b[3]).toString(16).padStart(8, '0');})\"),\n      njs_str(njs_evar(\"0000803f,00409ac4\",\n                       \"3f800000,-3b65c000\")) },\n\n    { njs_str(\"var a = new ArrayBuffer(0); a.slice(0, 0).byteLength\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = new ArrayBuffer(10); a.slice(1).byteLength\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"var a = new ArrayBuffer(10); a.slice(1,2).byteLength\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = new ArrayBuffer(10); a.slice(0,-1).byteLength\"),\n      njs_str(\"9\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map(v=>{var buffer = new ArrayBuffer(8); var view = new v(buffer);\"\n              \"         view[0] = 511; return new Uint8Array(buffer.slice(0,4))})\"),\n      njs_str(njs_evar(\"255,0,0,0,255,0,0,0,255,0,0,0,255,1,0,0,255,1,\"\n                       \"0,0,255,1,0,0,255,1,0,0,0,128,255,67,0,0,0,0\",\n                       \"255,0,0,0,255,0,0,0,255,0,0,0,1,255,0,0,1,255,0,0,\"\n                       \"0,0,1,255,0,0,1,255,67,255,128,0,64,127,240,0\")) },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map(v=>{var buffer = new ArrayBuffer(8); var view = new v(buffer);\"\n              \"         view[view.length - 1] = 511; return new Uint8Array(buffer.slice(4))})\"),\n      njs_str(njs_evar(\"0,0,0,255,0,0,0,255,0,0,0,255,0,0,255,1,0,0,255,1,\"\n                       \"255,1,0,0,255,1,0,0,0,128,255,67,0,240,127,64\",\n                       \"0,0,0,255,0,0,0,255,0,0,0,255,0,0,1,255,0,0,1,255,\"\n                       \"0,0,1,255,0,0,1,255,67,255,128,0,0,0,0,0\")) },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map(v=>{var buffer = new ArrayBuffer(8); var view = new v(buffer);\"\n              \"         view[0] = 511; return new Uint8Array(buffer.slice(0,-4))})\"),\n      njs_str(njs_evar(\"255,0,0,0,255,0,0,0,255,0,0,0,255,1,0,0,255,1,0,0,\"\n                       \"255,1,0,0,255,1,0,0,0,128,255,67,0,0,0,0\",\n                       \"255,0,0,0,255,0,0,0,255,0,0,0,1,255,0,0,1,255,0,0,\"\n                       \"0,0,1,255,0,0,1,255,67,255,128,0,64,127,240,0\")) },\n\n    { njs_str(\"var a = new Uint8Array(10); var b = a.slice(1); b.length\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"var a = new Uint8Array(10); var b = a.slice(0,9); b.length\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"var a = new Uint8Array(10); var b = a.slice(9,10); b.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = new Uint8Array(10); var b = a.slice(); b.length\"),\n      njs_str(\"10\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([42]); \"\n              \"           var r = a.slice();\"\n              \"           return  njs.dump(r) === `${v.name} [42]`;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint8Array([1,2,3,4,5,6,7,8]); var view = new v(init.buffer);\"\n              \"         return view.slice(0,2)})\"),\n      njs_str(njs_evar(\"1,2,1,2,1,2,513,1027,513,1027,67305985,134678021,67305985,134678021\",\n                       \"1,2,1,2,1,2,258,772,258,772,16909060,84281096,16909060,84281096\")) },\n\n    { njs_str(NJS_INT_TYPED_ARRAY_LIST\n              \".map(v=>{var init = new Uint8Array([1,2,3,4,5,6,7,8]); var view = new v(init.buffer);\"\n              \"         return view.slice(0,-2)})\"),\n      njs_str(njs_evar(\"1,2,3,4,5,6,1,2,3,4,5,6,1,2,3,4,5,6,513,1027,513,1027,,\",\n                       \"1,2,3,4,5,6,1,2,3,4,5,6,1,2,3,4,5,6,258,772,258,772,,\")) },\n\n    { njs_str(\"var other = new Uint8Array([0xff,0xff,0xff,0xff]);\"\n              NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([42]); \"\n              \"           a.constructor = {[Symbol.species]: function () {return other;}}; \"\n              \"           var r = a.slice(0,0);\"\n              \"           return r == other && r.length == 4 && r[0] == 0xff;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); \"\n              \"           a.constructor = {[Symbol.species]: function () {return new v([0xff,0xee]);}}; \"\n              \"           try {a.slice(0)} catch(e) {return e.name == 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); \"\n              \"           a.constructor = {[Symbol.species]: function () {return new Date();}}; \"\n              \"           try {a.slice(0)} catch(e) {return e.name == 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(2); \"\n              \"           a.constructor = {}; \"\n              \"           a.constructor[Symbol.species] = function() { return new v()};\"\n              \"           try {a.filter(v=>true)} catch(e) {return e.name == 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); \"\n              \"           var r = a.slice(1,3);\"\n              \"           return  a.buffer !== r.buffer;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); \"\n              \"           var r = a.slice(1,3);\"\n              \"           a[1] = 0;\"\n              \"           return  njs.dump(r) === `${v.name} [2,3]`;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); \"\n              \"           var r = a.subarray(1,3);\"\n              \"           a[1] = 0;\"\n              \"           return  njs.dump(r) === `${v.name} [0,3]`;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); \"\n              \"           a.subarray(1,3).fill(0);\"\n              \"           return  njs.dump(a) === `${v.name} [1,0,0,4]`;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); \"\n              \"           a.subarray(1,10).fill(0);\"\n              \"           return  njs.dump(a) === `${v.name} [1,0,0,0]`;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); \"\n              \"           var r = a.subarray(1,3);\"\n              \"           return  a.buffer === r.buffer;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3]); \"\n              \"           return  a.subarray(3).length === 0;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); a.copyWithin(2); \"\n              \"           return a.toString() === '1,2,1,2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); a.copyWithin(2,1); \"\n              \"           return a.toString() === '1,2,2,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); a.copyWithin(2,1,2); \"\n              \"           return a.toString() === '1,2,2,4'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); a.copyWithin(-1,1,2); \"\n              \"           return a.toString() === '1,2,3,2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); a.copyWithin(-1,-4,2); \"\n              \"           return a.toString() === '1,2,3,1'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([1,2,3,4]); a.copyWithin(-1,-2); \"\n              \"           return a.toString() === '1,2,3,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,4,5]);\"\n              \"           var a = new v(orig.buffer, 2* v.BYTES_PER_ELEMENT);\"\n              \"           a.copyWithin(0,3);\"\n              \"           return a.toString() === '4,5,3,4,5'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Uint8Array.prototype.every.call(1)\"),\n      njs_str(\"TypeError: this is not a typed array\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([1,2,3])).every(e=>e>0) === true})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([1,2,3])).every(function(e) {\"\n              \"              if (this != undefined) {throw 'Oops';}\"\n              \"              return e > 0}) === true})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([1,2,3])).every(function(e) {\"\n              \"              if (this != 'QQ') {throw 'Oops';}\"\n              \"              return e > 0}, 'QQ') === true})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([1,2,3])).every(e=>e>1) === false})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.every(e=>e<4)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var collect = []; (new v([42,43])).forEach(e=>collect.push(e)); \"\n              \"           return collect.join('|') === '42|43'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([7,10,3,8,5])).filter(q=>q%2).join('|') === '7|3|5'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,7,10,3,8,5,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 5);\"\n              \"           return a.filter(q=>q%2).join('|') === '7|3|5'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.find(e=>e>2) === 3})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.find(e=>e===255) === undefined})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.findIndex(e=>e>2) === 2})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.findIndex(e=>e===255) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([1,2,3])).some(e=>e==2)})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,1,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.some(e=>e==255)})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Uint8Array.prototype.includes.call(1)\"),\n      njs_str(\"TypeError: this is not a typed array\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v()).includes(0, {valueOf(){throw 'Oops'}}) === false})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([0,1,2,3])).includes(2) === true})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([0,1,2,3])).includes(2,3) === false})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(5);\"\n              \"           return a.includes(0, 4) === true \"\n              \"                  && a.includes(0, 5) === false;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([0,1,2,3])).includes(-0) === true})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([42, 43, NaN, 41])).includes(NaN) === true})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,0,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.includes(255) === false})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v()).indexOf(0, {valueOf(){throw 'Oops'}}) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).indexOf(2) === 1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).indexOf(2,2) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).indexOf(2,Infinity) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).indexOf(2,-Infinity) === 1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([42, 43, NaN, 41])).indexOf(NaN) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).indexOf(257) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).indexOf(2.00001) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1,0])).indexOf(-0) === 3})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v(5);\"\n              \"           return a.indexOf(0, 4) === 4\"\n              \"                  && a.indexOf(0, 5) === -1;})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,0,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.indexOf(255) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1,2])).lastIndexOf(2) === 3})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1,2])).lastIndexOf(4) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([42, 43])).lastIndexOf(42,0) === 0})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([42, 43, 43, 41])).lastIndexOf(43,Infinity) === 2})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([42, 43, 43, 41])).lastIndexOf(43,-Infinity) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_FLOAT_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([42, 43, NaN, 41])).lastIndexOf(NaN) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,0,2,3,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.lastIndexOf(255) === -1})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{return (new v([3,2,1])).map(q=>2*q).join('|') === '6|4|2'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var orig = new v([255,255,6,4,2,255]);\"\n              \"           var a = new v(orig.buffer, 2 * v.BYTES_PER_ELEMENT, 3);\"\n              \"           return a.map(q=>q/2).join('|') === '3|2|1'})\"),\n      njs_str(\"true\") },\n\n#ifdef NJS_TEST262\n    { njs_str(\"const arr = new Uint8Array([1,2,3]);\"\n              \"const sep = {toString(){$262.detachArrayBuffer(arr.buffer); return ','}};\"\n              \"arr.join(sep)\"),\n      njs_str(\"TypeError: detached buffer\") },\n#endif\n\n    { njs_str(\"Uint8Array.prototype.reduce.call(1)\"),\n      njs_str(\"TypeError: this is not a typed array\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ try { (new v([])).reduce((p, q) => p + q) } \"\n              \"            catch (e) { return e.name == 'TypeError'} })\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([])).reduce((p, q) => p + q, 10) == 10})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([7])).reduce((p, q) => p + q) == 7})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([7])).reduce((p, q) => p + q, 10) == 17})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reduce((p, q) => p + q) == 6})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reduce((p, q) => p + q, 10) == 16})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reduce((p, q) => p + q, '') == '123'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([3,2,1])).reduce((p, q, i) => { \"\n              \"             if (q + i != 3) {throw 'Oops'}; \"\n              \"             return p + q;}) == 6})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ var a = new v([3,2,1]); \"\n              \"            return a.reduce((p, q, _, o) => { \"\n              \"                 if (a != o) {throw 'Oops'};  \"\n              \"                 return p + q;}) == 6})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [3,2,1]; a.reduce((p, v, _, o) => { if (a != o) {throw 'Oops'};return p + v})\"),\n      njs_str(\"6\") },\n\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ try { (new v([])).reduceRight((p, q) => p + q) } \"\n              \"            catch (e) { return e.name == 'TypeError'} })\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([])).reduceRight((p, q) => p + q, 10) == 10})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([7])).reduceRight((p, q) => p + q) == 7})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([7])).reduceRight((p, q) => p + q, 10) == 17})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reduceRight((p, q) => p + q) == 6})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reduceRight((p, q) => p + q, 10) == 16})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reduceRight((p, q) => p + q, '') == '321'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([3,2,1])).reduceRight((p, q, i) => { \"\n              \"             if (q + i != 3) {throw 'Oops'}; \"\n              \"             return p + q;}) == 6})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ var a = new v([3,2,1]); \"\n              \"            return a.reduceRight((p, q, _, o) => { \"\n              \"                 if (a != o) {throw 'Oops'};  \"\n              \"                 return p + q;}) == 6})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [3,2,1]; a.reduceRight((p, v, _, o) => { if (a != o) {throw 'Oops'};return p + v})\"),\n      njs_str(\"6\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3])).reverse().join('|') == '3|2|1'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{ return (new v([1,2,3,4])).reverse().join('|') == '4|3|2|1'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Uint8Array.prototype.sort.call(1)\"),\n      njs_str(\"TypeError: this is not a typed array\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([]); a.sort(); \"\n              \"           return a.toString() === ''})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([5]); a.sort(); \"\n              \"           return a.toString() === '5'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([3,3,2,1]); a.sort(); \"\n              \"           return a.toString() === '1,2,3,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = new v([3,3,2,1]); a.sort((x,y)=>x-y); \"\n              \"           return a.toString() === '1,2,3,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every(v=>{var a = (new v([255,255,3,3,2,1])).slice(2); a.sort(); \"\n              \"           return a.toString() === '1,2,3,3'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Float32Array([255,255,NaN,3,NaN,Infinity,3,-Infinity,0,-0,2,1,-5])).slice(2).sort()\"),\n      njs_str(\"-Infinity,-5,0,0,1,2,3,3,Infinity,NaN,NaN\") },\n\n    { njs_str(\"(new Float64Array([255,255,NaN,3,NaN,Infinity,3,-Infinity,0,-0,2,1,-5])).slice(2).sort()\"),\n      njs_str(\"-Infinity,-5,0,0,1,2,3,3,Infinity,NaN,NaN\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3)))\"),\n      njs_str(\"[object DataView]\") },\n\n    { njs_str(\"var x = new ArrayBuffer(3); [typeof x, typeof new DataView(x)]\"),\n      njs_str(\"object,object\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3))).buffer\"),\n      njs_str(\"[object ArrayBuffer]\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3))).byteLength\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3), 1)).byteLength\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3), 3)).byteLength\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3), 1)).byteOffset\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3), 1, 1)).byteLength\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3), 4))\"),\n      njs_str(\"RangeError: byteOffset 4 is outside the bound of the buffer\") },\n\n    { njs_str(\"(new DataView(new ArrayBuffer(3), 1,3))\"),\n      njs_str(\"RangeError: Invalid DataView length: 3\") },\n\n    { njs_str(\"var u8 = new Uint8Array([255, 129, 130, 131, 4, 5, 6, 7, 8, 9, 255]); \"\n              \"var dv = new DataView(u8.buffer, 1); \"\n              \"['getUint8', 'getInt8',\"\n              \" 'getUint16', 'getInt16',\"\n              \" 'getUint32', 'getInt32',\"\n              \" 'getFloat32','getFloat64'\"\n              \"]\"\n              \".map(fn => [dv[fn](0), dv[fn](0,1), dv[fn](1), dv[fn](1,1)])\"),\n      njs_str(\"129,129,130,130,\"\n              \"-127,-127,-126,-126,\"\n              \"33154,33409,33411,33666,\"\n              \"-32382,-32127,-32125,-31870,\"\n              \"2172814084,75727489,2189624325,84181890,\"\n              \"-2122153212,75727489,-2105342971,84181890,\"\n              \"-4.794245620412925e-38,3.091780090135418e-36,-1.9251027092506622e-37,6.230764342760857e-36,\"\n              \"-2.159546358334202e-301,5.447603729090798e-270,-1.4538065947240604e-296,3.72581468952343e-265\") },\n\n    { njs_str(\"var u8 = new Uint8Array(10);\"\n              \"var dv = new DataView(u8.buffer, 1);\"\n              \"var u8view = new Uint8Array(u8.buffer, 1);\"\n              \"function run(test) {\"\n              \"     var fn = test[0];\"\n              \"     var val = test[1];\"\n              \"     var size = parseInt(fn.match(/\\\\d+/)) / 8;\"\n              \"     \"\n              \"     return  [[0], [0,1],[1], [1,1]].map(args => {\"\n              \"           var offset = args[0];\"\n              \"           var le = args[1];\"\n              \"           u8.fill(0); \"\n              \"           dv[fn].apply(dv, [offset, val, le]);\"\n              \"           return `[${u8view.subarray(0, offset + size)}]`;\"\n              \"     })\"\n              \"};\"\n              \"[\"\n              \" ['setUint8',    129],\"\n              \" ['setInt8',    -127],\"\n              \" ['setUint16', 33154],\"\n              \" ['setInt16', -32382],\"\n              \" ['setUint32', 2172814084],\"\n              \" ['setInt32', -2122153212],\"\n              \" ['setFloat32', -4.794245620412925e-38],\"\n              \" ['setFloat64', -2.159546358334202e-301],\"\n              \"]\"\n              \".map(t => run(t))\"),\n      njs_str(\"[129],[129],[0,129],[0,129],\"\n              \"[129],[129],[0,129],[0,129],\"\n              \"[129,130],[130,129],[0,129,130],[0,130,129],\"\n              \"[129,130],[130,129],[0,129,130],[0,130,129],\"\n              \"[129,130,131,4],[4,131,130,129],[0,129,130,131,4],[0,4,131,130,129],\"\n              \"[129,130,131,4],[4,131,130,129],[0,129,130,131,4],[0,4,131,130,129],\"\n              \"[129,130,131,4],[4,131,130,129],[0,129,130,131,4],[0,4,131,130,129],\"\n              \"[129,130,131,4,5,6,7,8],[8,7,6,5,4,131,130,129],[0,129,130,131,4,5,6,7,8],[0,8,7,6,5,4,131,130,129]\"\n              ) },\n\n    { njs_str(\"var u8 = new Uint8Array([1,2,3]); \"\n              \"var dv = new DataView(u8.buffer); \"\n              \"dv.getUint16(2)\"),\n      njs_str(\"RangeError: index 2 is outside the bound of the buffer\") },\n\n#if NJS_HAVE_LARGE_STACK\n    { njs_str(\"var o = Object({length: 3});\"\n                 \"Object.defineProperty(o, '0', {set: function(v){this[0] = 2 * v}});\"\n                 \"Array.prototype.fill.call(o, 2)\"),\n      njs_str(\"RangeError: Maximum call stack size exceeded\") },\n#endif\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"Array.prototype.fill.call(o); i\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [];\"\n                 \"a.filter(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var a = [1,2,3,-1,5];\"\n                 \"a.filter(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"2,3,5\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6,7,8];\"\n                 \"a.filter(function(v, i, a) { a.pop(); return v > 1 })\"),\n      njs_str(\"2,3,4\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6,7,8];\"\n                 \"a.filter(function(v, i, a) { a.shift(); return v > 1 })\"),\n      njs_str(\"3,5,7\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6,7];\"\n                 \"a.filter(function(v, i, a) { a.pop(); return v > 1 })\"),\n      njs_str(\"2,3,4\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6,7];\"\n                 \"a.filter(function(v, i, a) { a.shift(); return v > 1 })\"),\n      njs_str(\"3,5,7\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6,7];\"\n                 \"a.filter(function(v, i, a) { a[i] = v + 1; return true })\"),\n      njs_str(\"1,2,3,4,5,6,7\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6,7];\"\n                 \"a.filter(function(v, i, a) { a[i+1] = v+10; return true })\"),\n      njs_str(\"1,11,21,31,41,51,61\") },\n\n    { njs_str(\"var o = {0: 'c', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.filter.call(o, function(el, i, arr) {return el == 'c'}); r\"),\n      njs_str(\"c,c\") },\n\n    { njs_str(\"var o = {0: 'c', 1: 'a', 2: 'b'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'c'});\"\n              \"var r = Array.prototype.filter.call(o, function(el, i, arr) { return el == 'c' }); r\"),\n      njs_str(\"c,c\") },\n\n    { njs_str(\"var a = [];\"\n                 \"a.find(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [,NaN,0,-1];\"\n                 \"a.find(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [,NaN,0,-1,2];\"\n                 \"a.find(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [1,2,3,-1,5];\"\n                 \"a.find(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = [,1,,-1,5];\"\n                 \"a.find(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a = [,1,,-1,5,6];\"\n                 \"a.find(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"[].find(function(v) { return (v === undefined) })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [,3];\"\n                 \"a.find(function(v) { return (v === 3 || v === undefined) })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,,3];\"\n                 \"a.find(function(v) { return (v === 3 || v === undefined) })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n                 \"a.find(function(v, i, a) { a.shift(); return v == 3 })\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n              \"a.find(function(v, i, a) { a.shift(); return v == 4 })\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.find.call(o, function(el, i, arr) {return el == 'b'}); r\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.find.call(o, function(el, i, arr) {delete o['1']; return el == 'c'}); r\"),\n      njs_str(\"c\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"var r = Array.prototype.find.call(o, function(el, i, arr) { return el == 'd' }); r\"),\n      njs_str(\"d\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"try {Array.prototype.filter.call(o);}\"\n              \"catch (e) {i += '; ' + e}; i\"),\n      njs_str(\"1; TypeError: callback argument is not callable\") },\n\n    { njs_str(\"var callz = 0, res = [], arr = 'abc'.split('');\"\n              \"void arr.find((k) => { if (0 == callz++) { arr.splice(1,1); } res.push(k) });\"\n              \"res.join(',')\"),\n      njs_str(\"a,c,\") },\n\n    { njs_str(\"var a = [];\"\n                 \"a.findIndex(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [,NaN,0,-1];\"\n                 \"a.findIndex(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var a = [,NaN,0,-1,2];\"\n                 \"a.findIndex(function(v, i, a) { return v > 1 })\"),\n     njs_str(\"4\") },\n\n    { njs_str(\"var a = [1,2,3,-1,5];\"\n                 \"a.findIndex(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [,1,,-1,5];\"\n                 \"a.findIndex(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var a = [,1,,-1,5,6];\"\n                 \"a.findIndex(function(v, i, a) { return v > 1 })\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"[].findIndex(function(v) { return (v === undefined) })\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[,].findIndex(function(v) { return (v === undefined) })\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[1,2,,3].findIndex(function(el){return el === undefined})\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"[,2,,3].findIndex(function(el){return el === undefined})\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n                 \"a.findIndex(function(v, i, a) { a.shift(); return v == 3 })\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n                 \"a.findIndex(function(v, i, a) { a.shift(); return v == 4 })\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.findIndex.call(o, function(el, i, arr) {return el == 'b'}); r\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"var r = Array.prototype.findIndex.call(o, function(el, i, arr) { return el == 'd' }); r\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var callz = 0, res = [], arr = 'abc'.split('');\"\n              \"void arr.findIndex((k) => { if (0 == callz++) { arr.splice(1,1); } res.push(k) });\"\n              \"res.join(',')\"),\n      njs_str(\"a,c,\") },\n\n    { njs_str(\"var a = [];\"\n                 \"a.map(function(v, i, a) { return v + 1 })\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var a = [,,,];\"\n                 \"a.map(function(v, i, a) { return v + 1 })\"),\n      njs_str(\",,\") },\n\n    { njs_str(\"var a = [,,,1];\"\n                 \"a.map(function(v, i, a) { return v + 1 })\"),\n      njs_str(\",,,2\") },\n\n    { njs_str(\"var a = [1,2,3];\"\n                 \"a.map(function(v, i, a) { return v + 1 })\"),\n      njs_str(\"2,3,4\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n                 \"a.map(function(v, i, a) { a.pop(); return v + 1 })\"),\n      njs_str(\"2,3,4,,,\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n                 \"a.map(function(v, i, a) { a.shift(); return v + 1 })\"),\n      njs_str(\"2,4,6,,,\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var r = Array.prototype.map.call(o, num => num + '1'); r\"),\n      njs_str(\"a1,b1,c1\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"var r = Array.prototype.map.call(o, function(el, i, arr) { return el + '1' }); r\"),\n      njs_str(\"a1,b1,c1,d1\") },\n\n    { njs_str(\"Array.prototype.map.call(new String('abc'),\"\n             \"                          (val, idx, obj) => {return obj instanceof String})\"\n              \".every(x => x === true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.prototype.map.call('abcdef', (val, idx, obj) => {return val === 100})\"),\n      njs_str(\"false,false,false,false,false,false\") },\n\n    { njs_str(\"function callbackfn(val, idx, obj) {return idx === 1 && typeof val === 'undefined';}\"\n              \"var obj = {2: 2, length: 10};\"\n              \"var res = Array.prototype.map.call(obj, callbackfn); typeof res[7]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function callbackfn(val, idx, obj) {return idx === 1 && typeof val === 'undefined';}\"\n              \"var obj = {2: 2, length: 9000};\"\n              \"var res = Array.prototype.map.call(obj, callbackfn); typeof res[8000]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {enumerable:false});\"\n              \"a.map(v=>v)\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"Array.prototype.map.call({0:9, length:2**16}, val=>val<10).length\"),\n      njs_str(\"65536\") },\n\n    { njs_str(\"[].reduce((p, v) => p + v)\"),\n      njs_str(\"TypeError: Reduce of empty object with no initial value\") },\n\n    { njs_str(\"[].reduce((p, v) => p + v, 10)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"[,,].reduce((p, v) => p + v)\"),\n      njs_str(\"TypeError: Reduce of empty object with no initial value\") },\n\n    { njs_str(\"[,,].reduce((p, v) => p + v, 10)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"[1].reduce((p, v) => p + v)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"[1].reduce((p, v) => p + v, 10)\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"[1,2,3].reduce((p, v) => p + v)\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"[1,2,3].reduce((p, v) => p + v, 10)\"),\n      njs_str(\"16\") },\n\n    { njs_str(\"[3,2,1].reduce((p, v, i) => { if (v + i != 3) {throw 'Oops'};return p + v})\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [3,2,1]; a.reduce((p, v, _, o) => { if (a != o) {throw 'Oops'};return p + v})\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"[[0, 1], [2, 3], [4, 5]].reduce((a, b) => a.concat(b), [])\"),\n      njs_str(\"0,1,2,3,4,5\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c', 'length': { valueOf() { return 3 }}};\"\n              \"var reducer = (a, b) => a + b;\"\n              \"var a = Array.prototype.reduce.call(o, reducer); a\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"function reducer(a, b, i, arr) {\"\n              \"   if (i == 2) Object.defineProperty(arr, i, {enumerable:false}); \"\n              \"   return a + b;\"\n              \"};\"\n              \"Array.prototype.reduce.call([1,2,3,4], reducer)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"var r = Array.prototype.reduce.call(o, (a, b) => a + b); r\"),\n      njs_str(\"abcd\") },\n\n    { njs_str(\"var o = {1: 'b', 2: 'c', 3: 'd'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '0', {get: () => 'a'});\"\n              \"var r = Array.prototype.reduce.call(o, (a, b) => a + b); r\"),\n      njs_str(\"abcd\") },\n\n    { njs_str(\"[].reduceRight((p, v) => p + v)\"),\n      njs_str(\"TypeError: Reduce of empty object with no initial value\") },\n\n    { njs_str(\"[].reduceRight((p, v) => p + v, 10)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"[,,].reduceRight((p, v) => p + v)\"),\n      njs_str(\"TypeError: Reduce of empty object with no initial value\") },\n\n    { njs_str(\"[,,].reduceRight((p, v) => p + v, 10)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"[1].reduceRight((p, v) => p + v)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"[1].reduceRight((p, v) => p + v, 10)\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"[1,2,3].reduceRight((p, v) => p + v)\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"[1,2,3].reduceRight((p, v) => p + v, 10)\"),\n      njs_str(\"16\") },\n\n    { njs_str(\"[3,2,1].reduceRight((p, v, i) => { if (v + i != 3) {throw 'Oops'};return p + v})\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = [1,2,3];\"\n              \"a.reduceRight(function(p, v, _, a) { a.shift(); return p + v })\"),\n      njs_str(\"7\") },\n    { njs_str(\"var a = [1,2,3];\"\n              \"a.reduceRight(function(p, v, _, a) { a.shift(); return p + v }, 10)\"),\n      njs_str(\"19\") },\n\n    { njs_str(\"var o = {0: 'a', 1: 'b', 2: 'c'};\"\n              \"Object.defineProperty(o, 'length', {get: () => 4});\"\n              \"Object.defineProperty(o, '3', {get: () => 'd'});\"\n              \"Array.prototype.reduceRight.call(o, (p, v) => p + v)\"),\n      njs_str(\"dcba\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"try {Array.prototype.reduceRight.call(o);}\"\n              \"catch (e) {i += '; ' + e} i\"),\n      njs_str(\"1; TypeError: callback argument is not callable\") },\n\n    { njs_str(\"var m = [];\"\n              \"[''].reduceRight.call('00000000000000000000000000000\u043000', (p, v, i, a) => {m.push(v)});\"\n              \"m.join('')\"),\n      njs_str(\"0\u043000000000000000000000000000000\") },\n\n    { njs_str(\"function reducer(a, b, i, arr) {\"\n              \"   if (i == 2) Object.defineProperty(arr, i, {enumerable:false}); \"\n              \"   return a + b;\"\n              \"};\"\n              \"Array.prototype.reduceRight.call([1,2,3,4], reducer)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"Array.prototype[0] = 1; Array.prototype[1] = 2; Array.prototype[2] = 3;\"\n              \"[,,].reduceRight((a,b)=>a+b)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = ['1','2','3','4','5','6']; a.sort()\"),\n      njs_str(\"1,2,3,4,5,6\") },\n\n    { njs_str(\"var a = ['a', 'ab', '', 'aa']; a.sort()\"),\n      njs_str(\",a,aa,ab\") },\n\n    { njs_str(\"var a = ['a', 'ab', '', 'aa']; a.sort()\"),\n      njs_str(\",a,aa,ab\") },\n\n    { njs_str(\"var a = [23,1,8,5]; Object.defineProperty(a, '0', {enumerable:false});\"\n              \"a.sort((x,y)=>x-y)\"),\n      njs_str(\"1,5,8,23\") },\n\n    { njs_str(\"var a = {0:23,1:1,2:8,3:5,length:4};\"\n              \"Array.prototype.sort.call(a, (x,y)=>x-y);\"\n              \"Array.prototype.join.call(a)\"),\n      njs_str(\"1,5,8,23\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 1024)\n              \"a[100] = 1; a[512] = -1; a[5] = undefined;\"\n              \"a.sort();\"\n              \"a[0] == -1 && a[1] == 1 && a[2] == undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 1024)\n              \"a.fill(1, 256, 512); a.fill(undefined, 1000, 1010);\"\n              \"Object.defineProperty(a, '256', {value: a[256], enumerable:false});\"\n              \"a.sort();\"\n              \"a[0] == 1 && a[255] == 1 && Object.getOwnPropertyDescriptor(a, '256').value == undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [23,1,,undefined,8,,5]; Object.defineProperty(a, '0', {enumerable:false});\"\n              \"a.sort((x,y)=>x-y)\"),\n      njs_str(\"1,5,8,23,,,\") },\n\n    { njs_str(\"var o = { toString: function() { return 5 } };\"\n              \"var a = [6,o,4,3,2,1]; a.sort(undefined)\"),\n      njs_str(\"1,2,3,4,5,6\") },\n\n    { njs_str(\"var a = [undefined,1]; a.sort()\"),\n      njs_str(\"1,\") },\n\n    { njs_str(\"var a = [,1]; a.sort()\"),\n      njs_str(\"1,\") },\n\n    { njs_str(\"var a = [,1,undefined]; a.sort()\"),\n      njs_str(\"1,,\") },\n\n    { njs_str(\"var a = ['1','2','3','4','5','6']; a.sort()\"),\n      njs_str(\"1,2,3,4,5,6\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6]; a.sort()\"),\n      njs_str(\"1,2,3,4,5,6\") },\n\n    { njs_str(\"var a = {0:3,1:2,2:1}; Array.prototype.sort.call(a) === a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = {0:3,1:2,2:1,length:0}; Array.prototype.sort.call(a) === a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1,2,3,4,5,6];\"\n              \"a.sort(function(x, y) { return x - y })\"),\n      njs_str(\"1,2,3,4,5,6\") },\n\n    { njs_str(\"var a = Array(128).fill().map((v,i,a)=>a.length-i);\"\n              \"a.sort((a,b)=>a-b);\"\n              \"a.every((v,i,a)=> (i < 1 || v >= a[i-1]))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [2,2,2,1,1,1];\"\n              \"a.sort(function(x, y) { return x - y })\"),\n      njs_str(\"1,1,1,2,2,2\") },\n\n    { njs_str(\"var a = [,,,2,2,2,1,1,1];\"\n              \"a.sort(function(x, y) { return x - y })\"),\n      njs_str(\"1,1,1,2,2,2,,,\") },\n\n    { njs_str(\"var a = [,,,,];\"\n              \"a.sort(function(x, y) { return x - y })\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"var a = [,,undefined,undefined,,undefined];\"\n              \"a.sort(function(x, y) { return x - y }); njs.dump(a)\"),\n      njs_str(\"[undefined,undefined,undefined,<empty>,<empty>,<empty>]\") },\n\n    { njs_str(\"var a = [1,,undefined,8,undefined,,undefined,,2];\"\n              \"a.sort(function(x, y) { return x - y }); njs.dump(a)\"),\n      njs_str(\"[1,2,8,undefined,undefined,undefined,<empty>,<empty>,<empty>]\") },\n\n    { njs_str(\"var a = [1,,];\"\n              \"a.sort(function(x, y) { return x - y })\"),\n      njs_str(\"1,\") },\n\n    { njs_str(\"var a = [{ n: 'A', r: 2 },\"\n              \"         { n: 'B', r: 3 },\"\n              \"         { n: 'C', r: 2 },\"\n              \"         { n: 'D', r: 3 },\"\n              \"         { n: 'E', r: 3 }];\"\n              \"a.sort((a, b) => b.r - a.r).map(v=>v.n).join('')\"),\n      njs_str(\"BDEAC\") },\n\n    { njs_str(\"[1,2,3].sort(()=>-1)\"),\n      njs_str(\"3,2,1\") },\n\n    { njs_str(\"njs.dump([undefined,1,2,3].sort(()=>0))\"),\n      njs_str(\"[1,2,3,undefined]\") },\n\n    { njs_str(\"njs.dump([1,,2,3].sort(()=>0))\"),\n      njs_str(\"[1,2,3,<empty>]\") },\n\n    { njs_str(\"var count = 0;\"\n              \"[4,3,2,1].sort(function(x, y) { if (count++ == 2) {throw Error('Oops'); }; return x - y })\"),\n      njs_str(\"Error: Oops\") },\n\n    { njs_str(\"[1,2].sort(1)\"),\n      njs_str(\"TypeError: comparefn must be callable or undefined\") },\n\n    /*\n      Array.prototype.keys()\n      Array.prototype.values()\n      Array.prototype.entries()\n    */\n\n    { njs_str(\"['keys', 'values', 'entries', Symbol.iterator]\"\n              \".every((x) => typeof Array.prototype[x] == 'function')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"['keys', 'values', 'entries', Symbol.iterator]\"\n              \".every((x) => Array.prototype[x].length === 0)\"),\n      njs_str(\"true\") },\n\n#if 0\n    { njs_str(\"Array.prototype[Symbol.iterator] === Array.prototype.values\"),\n      njs_str(\"true\") },\n#endif\n\n    { njs_str(\"['keys', 'values', 'entries', Symbol.iterator]\"\n              \".every((x) => typeof [][x]() == 'object')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"['keys', 'values', 'entries', Symbol.iterator]\"\n              \".every((x) => typeof [][x]().next == 'function')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var i = [1,2,3].keys();\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"0,1,2,\") },\n\n    { njs_str(\"var i = [1,2,3].values();\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"1,2,3,\") },\n\n    { njs_str(\"var a = [], i = a.values();\"\n              \"a.push(1); a.push(2); a.push(3);\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"1,2,3,\") },\n\n    { njs_str(\"var a = [], i = a.values(); i.next();\"\n              \"a.push(1); a.push(2); a.push(3);\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"var i = [1,2,3].entries();\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"0,1,1,2,2,3,\") },\n\n    { njs_str(\"var i = Array.prototype.keys.call('abc');\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.done)\"),\n      njs_str(\"false,false,false,true\") },\n\n    { njs_str(\"var i = Array.prototype.values.call('abc');\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"a,b,c,\") },\n\n    { njs_str(\"var x = [true, 1, Symbol()];\"\n              \"x.map((x) => Array.prototype.keys.call(x).next()).every((x) => x.done)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = [true, 1, Symbol()];\"\n              \"x.forEach((x) => Object.getPrototypeOf(Object(x)).length = 1);\"\n              \"x.map((x) => Array.prototype.keys.call(x).next()).every((x) => !x.done)\"),\n      njs_str(\"true\") },\n\n    /*\n      TypedArray.prototype.keys()\n      TypedArray.prototype.values()\n      TypedArray.prototype.entries()\n    */\n\n    { njs_str(\"['keys', 'values', 'entries', Symbol.iterator]\"\n              \".every((x) => typeof Buffer.prototype[x] == 'function')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var i = Buffer.from([1,2,3]).keys();\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"0,1,2,\") },\n\n    { njs_str(\"var i = Buffer.from([1,2,3]).values();\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"1,2,3,\") },\n\n    { njs_str(\"var i = Buffer.from([1,2,3]).entries();\"\n              \"[i.next(), i.next(), i.next(), i.next()].map((x) => x.value)\"),\n      njs_str(\"0,1,1,2,2,3,\") },\n\n    { njs_str(\"[true, 1, Symbol(), 'test', [], { length: 1 }]\"\n              \".map((x) => { try { Buffer.prototype.keys.call(x); return x; } catch (e) { return e; } })\"\n              \".every((x) => x instanceof TypeError)\"),\n      njs_str(\"true\") },\n\n    /* %IteratorPrototype% */\n\n    { njs_str(\"var x = Object.getPrototypeOf(Object.getPrototypeOf([].keys()));\"\n              \"typeof x[Symbol.iterator] == 'function'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Object.getPrototypeOf(Object.getPrototypeOf([].keys()));\"\n              \"x[Symbol.iterator]() === x\"),\n      njs_str(\"true\") },\n\n    /* %ArrayIteratorPrototype% */\n\n    { njs_str(\"var x = Object.getPrototypeOf([].keys());\"\n              \"typeof x.next == 'function'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Object.getPrototypeOf([].keys());\"\n              \"x[Symbol.toStringTag] == 'Array Iterator'\"),\n      njs_str(\"true\") },\n\n    /* %StringIteratorPrototype% */\n\n    { njs_str(\"typeof String.prototype[Symbol.iterator] == 'function'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Object.getPrototypeOf(''[Symbol.iterator]());\"\n              \"typeof x.next == 'function'\"),\n      njs_str(\"true\") },\n\n#if 0\n    { njs_str(\"var x = Object.getPrototypeOf(''[Symbol.iterator]());\"\n              \"x[Symbol.toStringTag] == 'String Iterator'\"),\n      njs_str(\"true\") },\n#else\n    { njs_str(\"var x = Object.getPrototypeOf(''[Symbol.iterator]());\"\n              \"x[Symbol.toStringTag] == 'Array Iterator'\"),\n      njs_str(\"true\") },\n#endif\n\n    /* Template literal. */\n\n    { njs_str(\"`\"),\n      njs_str(\"SyntaxError: Unterminated template literal in 1\") },\n\n    { njs_str(\"`$\"),\n      njs_str(\"SyntaxError: Unterminated template literal in 1\") },\n\n    { njs_str(\"`${\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"`${a\"),\n      njs_str(\"SyntaxError: Missing \\\"}\\\" in template expression in 1\") },\n\n    { njs_str(\"`${}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"`${a}\"),\n      njs_str(\"SyntaxError: Unterminated template literal in 1\") },\n\n    { njs_str(\"`${a}bc\"),\n      njs_str(\"SyntaxError: Unterminated template literal in 1\") },\n\n    { njs_str(\"`\\\\\"),\n      njs_str(\"SyntaxError: Unterminated template literal in 1\") },\n\n    { njs_str(\"`\\\\${a}bc\"),\n      njs_str(\"SyntaxError: Unterminated template literal in 1\") },\n\n    { njs_str(\"`text1\\ntext2`;\"),\n      njs_str(\"text1\\ntext2\") },\n\n    { njs_str(\"var o = 1; `o = \\\\`${o}\\\\``\"),\n      njs_str(\"o = `1`\") },\n\n    { njs_str(\"`\\\\unicode`\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\unicode\\\" in 1\") },\n\n    { njs_str(\"var a = 5; var b = 10;\"\n                 \"`Fifteen is ${a + b} and \\nnot ${2 * a + b}.`;\"),\n      njs_str(\"Fifteen is 15 and \\nnot 20.\") },\n\n    { njs_str(\"var s = `1undefined`; s;\"),\n      njs_str(\"1undefined\") },\n\n    { njs_str(\"var s = '0'; s = `x${s += '1'}`;\"),\n      njs_str(\"x01\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                 \"var something = 'test'; var one = 1; var two = 2;\"\n                 \"`[${d.toISOString()}] the message contents ${something} ${one + two}`\"),\n      njs_str(\"[2011-06-24T18:45:12.625Z] the message contents test 3\") },\n\n    { njs_str(\"function isLargeScreen() { return false; }\"\n                 \"var item = { isCollapsed: true };\"\n                 \"`header ${ isLargeScreen() ? '' : `icon-${item.isCollapsed ? 'expander' : 'collapser'}` }`;\"),\n      njs_str(\"header icon-expander\") },\n\n    { njs_str(\"function foo(strings, person, age) { return `${strings[0]}${strings[1]}${person}${age}` };\"\n                 \"var person = 'Mike'; var age = 21;\"\n                 \"foo`That ${person} is a ${age}`;\"),\n      njs_str(\"That  is a Mike21\") },\n\n    { njs_str(\"`\\n`.length\"),\n      njs_str(\"1\") },\n\n    /* Strings. */\n\n    { njs_str(\"var a = '0123456789' + '012345';\"\n                 \"var b = 'abcdefghij' + 'klmnop';\"\n                 \"    a = b\"),\n      njs_str(\"abcdefghijklmnop\") },\n\n    { njs_str(\"String.prototype.my = function f() {return 7}; 'a'.my()\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"'a'.my\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = '123'\\n[2].toString();a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\\xE5\\x96\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"\u559c\u3076\") },\n\n    /* Broken UTF-8 literals.*/\n\n    { njs_str(\"'\\x96\\xE5\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"'\\x96\\xE5\\x9C'\"),\n      njs_str(\"\ufffd\ufffd\") },\n\n    { njs_str(\"'\\x96\\xE5'\"),\n      njs_str(\"\ufffd\ufffd\") },\n\n    { njs_str(\"'\\x96'\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"'\\xF3'\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"'\\xF3\\xFF'\"),\n      njs_str(\"\ufffd\ufffd\") },\n\n    { njs_str(\"'\\x96\\x96\\xE5\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"\ufffd\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"'\\x9C\\x96\\xE5\\xE3\\x81\\xB6'\"),\n      njs_str(\"\ufffd\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"'\\xE5\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"\ufffd\u3076\") },\n\n    { njs_str(\"'\\xEF\\xBF\\xBD\\xE3\\x81\\xB6'\"),\n      njs_str(\"\ufffd\u3076\") },\n\n    { njs_str(\"'\\xE5\\xF6\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"\ufffd\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"var a = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\\xF3'; \"\n                 \"[a.length, a[33], a[34]]\"),\n      njs_str(\"35,a,\ufffd\") },\n\n    /* Escape strings. */\n\n    { njs_str(\"'\\\\a \\\\' \\\\\\\" \\\\\\\\ \\\\0 \\\\b \\\\f \\\\n \\\\r \\\\t \\\\v'\"),\n      njs_str(\"a ' \\\" \\\\ \\0 \\b \\f \\n \\r \\t \\v\") },\n\n    { njs_str(\"'\\\\\\n'\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\\\\\\r'\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\\\\\\r\\n'\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'a\\\\\\nb'\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"'a\\\\\\rb'\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"'a\\\\\\r\\nb'\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"'a\\\\\\n\\rb'\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'a\\\\\\n\\r\\\" in 1\") },\n\n    { njs_str(\"'a\\\\\\nb\\nc'\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'a\\\\\\nb\\n\\\" in 1\") },\n\n    { njs_str(\"'abcde\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'abcde\\\" in 1\") },\n\n    { njs_str(\"'\\\\\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'\\\\\\\" in 1\") },\n\n    { njs_str(\"'\\\\\\r\\n\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'\\\\\\r\\n\\\" in 1\") },\n\n    { njs_str(\"'\\\\'\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'\\\\'\\\" in 1\") },\n\n    { njs_str(\"'a\\n\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'a\\n\\\" in 1\") },\n\n    { njs_str(\"'a\\r\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"'a\\r\\\" in 1\") },\n\n    { njs_str(\"\\\"a\\n\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"\\\"a\\n\\\" in 1\") },\n\n    { njs_str(\"'\\\\u03B1'\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"'\\\\u'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u\\\" in 1\") },\n\n    { njs_str(\"'\\\\uzzzz'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\uzzzz\\\" in 1\") },\n\n    { njs_str(\"'\\\\u03B'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u03B\\\" in 1\") },\n\n    { njs_str(\"'\\\\u03BG'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u03BG\\\" in 1\") },\n\n    { njs_str(\"'\\\\u03B '\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u03B \\\" in 1\") },\n\n    { njs_str(\"'\\\\u{61}\\\\u{3B1}\\\\u{20AC}'\"),\n      njs_str(\"a\u03b1\u20ac\") },\n\n    { njs_str(\"'\\\\u'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u\\\" in 1\") },\n\n    { njs_str(\"'\\\\u{'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u{\\\" in 1\") },\n\n    { njs_str(\"'\\\\u{}'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u{}\\\" in 1\") },\n\n    { njs_str(\"'\\\\u{1234567}'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u{1234567}\\\" in 1\") },\n\n    { njs_str(\"'\\\\u{a00000}'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u{a00000}\\\" in 1\") },\n\n    { njs_str(\"'\\\\x61'\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"''.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abc'.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u043f\u0440\u0438\u0432\u0435\u0442\\\\n'.length\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"'\u043f\u0440\u0438\u0432\u0435\u0442\\\\n\\\\u{61}\\\\u{3B1}\\\\u{20AC}'.length\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"'\\\\ud83d\\\\udc4d'\"),\n      njs_str(\"\\xf0\\x9f\\x91\\x8d\") },\n\n    { njs_str(\"'\\\\ud83d\\\\udc4d'.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"'\\\\ud83d abc \\\\udc4d'\"),\n      njs_str(\"\ufffd abc \ufffd\") },\n\n    { njs_str(\"'\\\\ud83d'\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"'\\\\ud83d\\\\uabcd'\"),\n      njs_str(\"\ufffd\uabcd\") },\n\n    { njs_str(\"'\\\\u{d800}\\\\u{dB00}'\"),\n      njs_str(\"\ufffd\ufffd\") },\n\n    { njs_str(\"'\\\\u{d800}\\\\u{d7ff}'\"),\n      njs_str(\"\ufffd\ud7ff\") },\n\n    { njs_str(\"'\\\\u{d800}['\"),\n      njs_str(\"\ufffd[\") },\n\n    { njs_str(\"'\\\\u{D800}\\\\u{'\"),\n      njs_str(\"SyntaxError: Invalid Unicode code point \\\"\\\\u{D800}\\\\u{\\\" in 1\") },\n\n    { njs_str(\"'\u03b1' !== '\\\\\u03b1'\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'r' !== '\\\\r'\"),\n      njs_str(\"true\") },\n\n    /* Broken UTF-8 literals.*/\n\n    { njs_str(\"'\\\\a\\x96\\xE5\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"a\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"'\\x96\\\\a\\xE5\\x9C'\"),\n      njs_str(\"\ufffda\ufffd\") },\n\n    { njs_str(\"'\\x96\\xE5\\\\a'\"),\n      njs_str(\"\ufffd\ufffda\") },\n\n    { njs_str(\"'\\\\a\\x96\\\\a'\"),\n      njs_str(\"a\ufffda\") },\n\n    { njs_str(\"'\\xF3\\\\a'\"),\n      njs_str(\"\ufffda\") },\n\n    { njs_str(\"'\\xF3\\\\a\\xFF'\"),\n      njs_str(\"\ufffda\ufffd\") },\n\n    { njs_str(\"'\\\\a\\x96\\x96\\xE5\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"a\ufffd\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"'\\\\a\\x9C\\x96\\xE5\\xE3\\x81\\xB6'\"),\n      njs_str(\"a\ufffd\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"'\\\\a\\xE5\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"a\ufffd\u3076\") },\n\n    { njs_str(\"'\\\\a\\xEF\\xBF\\xBD\\xE3\\x81\\xB6'\"),\n      njs_str(\"a\ufffd\u3076\") },\n\n    { njs_str(\"'\\\\a\\xE5\\xF6\\x9C\\xE3\\x81\\xB6'\"),\n      njs_str(\"a\ufffd\ufffd\ufffd\u3076\") },\n\n    { njs_str(\"var a = '\\\\aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\\xF3'; \"\n                 \"[a.length, a[34], a[35]]\"),\n      njs_str(\"36,a,\ufffd\") },\n\n    { njs_str(\"''.hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc'.hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new String('abc')).hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc'.toUTF8().length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.toUTF8().length\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3'.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3'.toUTF8().length\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"'\u7d75\u6587\u5b57'.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u7d75\u6587\u5b57'.toUTF8().length\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"'\u3048\u3082\u3058'.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u3048\u3082\u3058'.toUTF8().length\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"'\u56f2\u7881\u7e54'.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u56f2\u7881\u7e54'.toUTF8().length\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"var a = 'abc'; a.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 'abc'; a['length']\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = '\u0430\u0431\u0432'; a.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 'abc' + '\u0430\u0431\u0432'; a.length\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = 'abc' + 1 + '\u0430\u0431\u0432'; a +' '+ a.length\"),\n      njs_str(\"abc1\u0430\u0431\u0432 7\") },\n\n    { njs_str(\"var a = 1; a.length\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 'abc'; a.concat('\u0430\u0431\u0432', 123)\"),\n      njs_str(\"abc\u0430\u0431\u0432123\") },\n\n    { njs_str(\"''.concat.call(0, 1, 2, 3, 4, 5, 6, 7, 8, 9)\"),\n      njs_str(\"0123456789\") },\n\n    { njs_str(\"''.concat.apply(0, [1, 2, 3, 4, 5, 6, 7, 8, 9])\"),\n      njs_str(\"0123456789\") },\n\n    { njs_str(\"var f = ''.concat.bind(0, 1, 2, 3, 4); f(5, 6, 7, 8, 9)\"),\n      njs_str(\"0123456789\") },\n\n    { njs_str(\"var f = ''.concat.bind(0, 1, 2, 3, 4); f(Math.sqrt(25))\"),\n      njs_str(\"012345\") },\n\n    { njs_str(\"var f = String.prototype.concat.bind(0, 1); f(2)\"),\n      njs_str(\"012\") },\n\n    { njs_str(\"var f = Function.prototype.call.bind\"\n                 \"                            (String.prototype.concat, 0, 1);\"\n                 \"f(2)\"),\n      njs_str(\"012\") },\n\n    { njs_str(\"var f = String.prototype.concat.bind(0, 1);\"\n                 \"var o = { toString: f }; o\"),\n      njs_str(\"01\") },\n\n    { njs_str(\"''.concat.bind(0, 1, 2, 3, 4).call(5, 6, 7, 8, 9)\"),\n      njs_str(\"012346789\") },\n\n    { njs_str(\"''.concat.bind(0, 1, 2, 3, 4).apply(5,[6, 7, 8, 9])\"),\n      njs_str(\"012346789\") },\n\n    { njs_str(\"var f = Array.prototype.join.bind([0, 1, 2]); f()\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var f = Array.prototype.join.bind([0, 1, 2]);\"\n                 \"var o = { toString: f }; o\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var f = Array.prototype.join.bind([0, 1, 2]); f('.')\"),\n      njs_str(\"0.1.2\") },\n\n    { njs_str(\"var f = Array.prototype.join.bind([0, 1, 2], '.');\"\n                 \"var o = { toString: f }; o\"),\n      njs_str(\"0.1.2\") },\n\n    { njs_str(\"var f = Array.prototype.toString.bind([0, 1, 2]); f()\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var f = Array.prototype.toString.bind([0, 1, 2]);\"\n                 \"var o = { toString: f }; o\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var f = Object.defineProperty(function() {}, 'name', {value: 'F'});\"\n              \"[f.name, f.bind().name, f.bind().bind().name]\"),\n      njs_str(\"F,bound F,bound bound F\") },\n\n    { njs_str(\"var f = Object.defineProperty(function() {}, 'name', {value: undefined});\"\n              \"[f.name, f.bind().name, f.bind().bind().name]\"),\n      njs_str(\",bound ,bound bound \") },\n\n    { njs_str(\"var f = Object.defineProperty(function() {}, 'name', {get:()=>'F'});\"\n              \"[f.name, f.bind().name]\"),\n      njs_str(\"F,bound F\") },\n\n    { njs_str(\"var s = Symbol('F'); var f = Object.defineProperty(function() {}, 'name', {get:()=>s});\"\n              \"[f.name.description, f.bind().name]\"),\n      njs_str(\"F,bound \") },\n\n    { njs_str(\"/a/[Symbol.replace].bind().name\"),\n      njs_str(\"bound [Symbol.replace]\") },\n\n    { njs_str(\"var f = Object.defineProperty(function() {}, 'name', {get:()=>{throw Error('Oops')}});\"\n              \"f.bind().name\"),\n      njs_str(\"Error: Oops\") },\n\n    { njs_str(\"var f = function() {}; f.a = 'a'; [f.bind().a, f.a]\"),\n      njs_str(\",a\") },\n\n    { njs_str(\"var f = function() {}; var bf = f.bind(); bf.b = 'b'; \"\n              \"[f.b, bf.b]\"),\n      njs_str(\",b\") },\n\n    { njs_str(\"function f(x,y) {return {args:arguments,length:arguments.length}};\"\n              \"var nf = Function.prototype.bind.call(f, {}, 'a', 'b');\"\n              \"var o = new nf();[o.length, o.args[0]]\"),\n      njs_str(\"2,a\") },\n\n    { njs_str(\"function f(x,y) {return {args:arguments,length:arguments.length}};\"\n              \"var nf = Function.prototype.bind.call(f, {});\"\n              \"var o = new nf('a', 'b');[o.length, o.args[0]]\"),\n      njs_str(\"2,a\") },\n\n    { njs_str(\"var f = function(a,b) { this.a = a; this.b = b; };\"\n              \"f.prototype.X = 'X';\"\n              \"var bf = f.bind(null, 1,2);\"\n              \"var o = new bf(); \"\n              \"[Object.keys(o), o.X,(o instanceof f) && (o instanceof bf),bf.prototype]\"),\n      njs_str(\"a,b,X,true,\") },\n\n    { njs_str(\"var bArray = Array.bind(null, 10,16); bArray()\"),\n      njs_str(\"10,16\") },\n\n    { njs_str(\"var bArray = Array.bind(null, 10,16); new bArray()\"),\n      njs_str(\"10,16\") },\n\n    { njs_str(\"var bArray = Array.bind(null, 10); new bArray(16)\"),\n      njs_str(\"10,16\") },\n\n#if 0 /* FIXME: refactor Bound calls (9.4.1.1[[Call]]). */\n    { njs_str(\"function f(x,y) {return {args:arguments,length:arguments.length}};\"\n              \"var bf = f.bind({}, 'a'); var bbf = bf.bind({},'b'); var o = bbf('c');\"),\n              \"[o.args[0], o.args[2], o.length]\"\n      njs_str(\"a,c,3\") },\n#endif\n\n    { njs_str(\"var s = { toString: function() { return '123' } };\"\n                 \"var a = 'abc'; a.concat('\u0430\u0431\u0432', s)\"),\n      njs_str(\"abc\u0430\u0431\u0432123\") },\n\n    { njs_str(\"'\\\\u00CE\\\\u00B1'.toBytes() == '\u03b1'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\\\\u00CE\\\\u00B1'.toBytes() === '\u03b1'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var b = '\\\\u00C2\\\\u00B6'.toBytes(), u = b.fromUTF8();\"\n                 \"b.length +' '+ b +' '+ u.length +' '+ u\"),\n      njs_str(\"2 \u00b6 1 \u00b6\") },\n\n    { njs_str(\"'\u03b1'.toBytes()\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"'\u03b1'.toUTF8()[0]\"),\n      njs_str(\"\\xCE\") },\n\n    { njs_str(\"var r = /^\\\\x80$/; r.source + r.source.length\"),\n      njs_str(\"^\\\\x80$6\") },\n\n    { njs_str(\"var r = /^\\\\\\\\x80$/; r.source + r.source.length\"),\n      njs_str(\"^\\\\\\\\x80$7\") },\n\n    { njs_str(\"/^\\\\x80$/.test('\\\\x80'.toBytes())\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/^\\\\xC2\\\\x80$/.test('\\\\x80'.toUTF8())\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u03b1'.toUTF8().toBytes()\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"var a = 'a'.toBytes() + '\u03b1'; a + a.length\"),\n      njs_str(\"a\u03b13\") },\n\n    { njs_str(\"var a = '\u00b5\u00a7\u00b1\u00ae'.toBytes(); a\"),\n      njs_str(\"\\xB5\\xA7\\xB1\\xAE\") },\n\n    { njs_str(\"var a = '\u00b5\u00a7\u00b1\u00ae'.toBytes(2); a\"),\n      njs_str(\"\\xB1\\xAE\") },\n\n    { njs_str(\"var a = '\u00b5\u00a7\u00b1\u00ae'.toBytes(1,3); a\"),\n      njs_str(\"\\xA7\\xB1\") },\n\n    { njs_str(\"var a = '\\\\xB5\\\\xA7\\\\xB1\\\\xAE'.toBytes(); a.fromBytes()\"),\n      njs_str(\"\u00b5\u00a7\u00b1\u00ae\") },\n\n    { njs_str(\"var a = '\\\\xB5\\\\xA7\\\\xB1\\\\xAE'.toBytes(); a.fromBytes(2)\"),\n      njs_str(\"\u00b1\u00ae\") },\n\n    { njs_str(\"var a = '\\\\xB5\\\\xA7\\\\xB1\\\\xAE'.toBytes(); a.fromBytes(1, 3)\"),\n      njs_str(\"\u00a7\u00b1\") },\n\n    { njs_str(\"'A'.repeat(8).toBytes() === 'A'.repeat(8)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'A'.repeat(16).toBytes() === 'A'.repeat(16)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'A'.repeat(38).toBytes(-5) === 'AAAAA'\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"('\u03b1' + 'A'.repeat(32)).toBytes()\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"('\u03b1' + 'A'.repeat(32)).toBytes(1) === 'A'.repeat(32)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"('\u03b1' + 'A'.repeat(40)).toBytes(-3,-1)\"),\n      njs_str(\"AA\") },\n\n    { njs_str(\"var s = 'x'.repeat(2**10).repeat(2**14);\"\n                 \"var a = Array(200).fill(s);\"\n                 \"String.prototype.concat.apply(s, a.slice(1))\"),\n      njs_str(\"RangeError: invalid string length\") },\n\n    { njs_str(\"var a = 'abcdefgh'; a.substr(3, 15)\"),\n      njs_str(\"defgh\") },\n\n    { njs_str(\"'abcdefgh'.substr(3, 15)\"),\n      njs_str(\"defgh\") },\n\n    { njs_str(\"'abcdefghijklmno'.substr(3, 4)\"),\n      njs_str(\"defg\") },\n\n    { njs_str(\"'abcdefghijklmno'.substr(-3, 2)\"),\n      njs_str(\"mn\") },\n\n    { njs_str(\"'abcdefgh'.substr(100, 120)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"('abc' + 'defgh').substr(1, 4)\"),\n      njs_str(\"bcde\") },\n\n    { njs_str(\"'abcdefghijklmno'.substring(3, 5)\"),\n      njs_str(\"de\") },\n\n    { njs_str(\"'abcdefgh'.substring(3)\"),\n      njs_str(\"defgh\") },\n\n    { njs_str(\"'abcdefgh'.substring(5, 3)\"),\n      njs_str(\"de\") },\n\n    { njs_str(\"'abcdefgh'.substring(100, 120)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\u03b1'.repeat(32).substring(32)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\u03b1'.repeat(32).substring(32,32)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcdefghijklmno'.slice(NaN, 5)\"),\n      njs_str(\"abcde\") },\n\n    { njs_str(\"'abcdefghijklmno'.slice(NaN, Infinity)\"),\n      njs_str(\"abcdefghijklmno\") },\n\n    { njs_str(\"'abcdefghijklmno'.slice(-Infinity, Infinity)\"),\n      njs_str(\"abcdefghijklmno\") },\n\n    { njs_str(\"'abcdefghijklmno'.slice('0', '5')\"),\n      njs_str(\"abcde\") },\n\n    { njs_str(\"'abcdefghijklmno'.slice(3, 5)\"),\n      njs_str(\"de\") },\n\n    { njs_str(\"'abcdefgh'.slice(3)\"),\n      njs_str(\"defgh\") },\n\n    { njs_str(\"'abcdefgh'.slice(undefined, undefined)\"),\n      njs_str(\"abcdefgh\") },\n\n    { njs_str(\"'abcdefgh'.slice(undefined)\"),\n      njs_str(\"abcdefgh\") },\n\n    { njs_str(\"'abcdefgh'.slice(undefined, 1)\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'abcdefgh'.slice(3, undefined)\"),\n      njs_str(\"defgh\") },\n\n    { njs_str(\"'abcde'.slice(50)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcde'.slice(1, 50)\"),\n      njs_str(\"bcde\") },\n\n    { njs_str(\"'abcdefgh'.slice(3, -2)\"),\n      njs_str(\"def\") },\n\n    { njs_str(\"'abcdefgh'.slice(5, 3)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcdefgh'.slice(100, 120)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.prototype.substring(1, 5)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.prototype.substr.call({toString:()=>{throw new Error('Oops')}})\"),\n      njs_str(\"Error: Oops\") },\n\n    { njs_str(\"String.prototype.slice(1, 5)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.prototype.toBytes(1, 5)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc'.charAt(1 + 1)\"),\n      njs_str(\"c\") },\n\n    { njs_str(\"'abc'.charAt(3)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc'.charAt(undefined)\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'abc'.charAt(null)\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'abc'.charAt(false)\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'abc'.charAt(true)\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"'abc'.charAt(NaN)\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'abc'.charAt(Infinity)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc'.charAt(-Infinity)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var o = { valueOf: function() {return 2} };\"\n                 \"'abc'.charAt(o)\"),\n      njs_str(\"c\") },\n\n    { njs_str(\"var o = { toString: function() {return '2'} };\"\n                 \"'abc'.charAt(o)\"),\n      njs_str(\"c\") },\n\n    { njs_str(\"'abc'.charCodeAt(1 + 1)\"),\n      njs_str(\"99\") },\n\n    { njs_str(\"'abc'.charCodeAt(3)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"'abc'.charCodeAt(undefined)\"),\n      njs_str(\"97\") },\n\n    { njs_str(\"var a = 'abcdef'; a.3\"),\n      njs_str(\"SyntaxError: Unexpected token \\\".3\\\" in 1\") },\n\n    { njs_str(\"'abcdef'[3]\"),\n      njs_str(\"d\") },\n\n    { njs_str(\"'abcdef'[0]\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"'abcdef'[-1]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'[NaN]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'[3.5]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'[8]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['1']\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"'abcdef'[' 1']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['1 ']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['-']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['-1']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['01']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'abcdef'['0x01']\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 'abcdef', b = 1 + 2; a[b]\"),\n      njs_str(\"d\") },\n\n    /**/\n\n    { njs_str(\"'abc'.toString()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"''.toString.call('abc')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"String.prototype.toString.call('abc')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"String.prototype.toString.call(new String('abc'))\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"String.prototype.toString.call(1)\"),\n      njs_str(\"TypeError: unexpected value type:number\") },\n\n    { njs_str(\"'abc'.valueOf()\"),\n      njs_str(\"abc\") },\n\n    /**/\n\n    { njs_str(\"var n = { toString: function() { return 1 } };   '12'[n]\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var n = { toString: function() { return '1' } }; '12'[n]\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var n = { toString: function() { return 1 },\"\n                          \" valueOf:  function() { return 0 } };   '12'[n]\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = { toString: function() { return 1 } }; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { valueOf: function() { return 1 } };  a\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var a = { toString: 2,\"\n                 \"          valueOf: function() { return 1 } };  a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { toString: function() { return [] },\"\n                 \"          valueOf: function() { return 1 } };  a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = { toString: function() { return [] },\"\n                 \"          valueOf: function() { return 1 } };\"\n                 \"var o = {}; o[a] = 'test'\"),\n      njs_str(\"test\") },\n\n    { njs_str(\"({})[{}] = 'test'\"),\n      njs_str(\"test\") },\n\n    /**/\n\n    { njs_str(\"'\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f'.charCodeAt(5)\"),\n      njs_str(\"1077\") },\n\n    { njs_str(\"'12345\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f'.charCodeAt(35)\"),\n      njs_str(\"1101\") },\n\n    { njs_str(\"'12345\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f'.substring(35)\"),\n      njs_str(\"\u044d\u044e\u044f\") },\n\n    { njs_str(\"'abcdef'.substr(-5, 4).substring(3, 1).charAt(1)\"),\n      njs_str(\"d\") },\n\n    { njs_str(\"'abcdef'.substr(2, 4).charAt(2)\"),\n      njs_str(\"e\") },\n\n    { njs_str(\"var a = 'abcdef'.substr(2, 4).charAt(2).length; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 'abcdef'.substr(2, 4).charAt(2) + '1234'; a\"),\n      njs_str(\"e1234\") },\n\n    { njs_str(\"var a = ('abcdef'.substr(2, 5 * 2 - 6).charAt(2) + '1234')\"\n                 \"         .length; a\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"String.fromCharCode('_').charCodeAt(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"String.fromCodePoint('_')\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"String.fromCharCode(65.14)\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"String.fromCodePoint(3.14)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"String.fromCharCode(65.14 + 65536)\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"String.fromCharCode(0xD83D, 0xDCA9)\"),\n      njs_str(\"\ud83d\udca9\") },\n\n    { njs_str(\"String.fromCharCode(0xD83D, 0xDCA9).length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"String.fromCharCode(0xD83D)\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"String.fromCharCode(0xD83D).length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"String.fromCharCode(0xD83D) + String.fromCharCode(0xDCA9)\"),\n      njs_str(\"\ufffd\ufffd\") },\n\n    { njs_str(\"String.fromCodePoint(65 + 65536)\"),\n      njs_str(\"\ud800\udc41\") },\n\n    { njs_str(\"String.fromCodePoint(0xD83D, 0xDCA9)\"),\n      njs_str(\"\ud83d\udca9\") },\n\n    { njs_str(\"String.fromCodePoint(0xD83D, 0xDCA9).length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"String.fromCodePoint(0xD83D)\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"String.fromCodePoint(0xD83D).length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"String.fromCharCode(2**53 + 10)\"),\n      njs_str(\"\\n\") },\n\n    { njs_str(\"String.fromCodePoint(1114111 + 1)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"String.fromCharCode(65, 90) + String.fromCodePoint(65, 90)\"),\n      njs_str(\"AZAZ\") },\n\n    { njs_str(\"String.fromCharCode(945, 946, 947) + String.fromCodePoint(945, 946, 947)\"),\n      njs_str(\"\u03b1\u03b2\u03b3\u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"(function() {\"\n                 \"    var n;\"\n                 \"    for (n = 0; n <= 65536; n++) {\"\n\n                 /* From U+D800 to U+DFFF is surrogate pair. Not valid in UTF-8. */\n\n                 \"        if ((n < 0xD800 || n > 0xDFFF) && String.fromCharCode(n).charCodeAt(0) !== n)\"\n                 \"            return n;\"\n                 \"    }\"\n                 \"    return -1\"\n                 \"})()\"),\n      njs_str(\"65536\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* very long test under MSAN */\n    { njs_str(\"(function() {\"\n                 \"    var n;\"\n                 \"    for (n = 0; n <= 1114111; n++) {\"\n                 \"        if ((n < 0xD800 || n > 0xDFFF) && String.fromCodePoint(n).codePointAt(0) !== n)\"\n                 \"            return n;\"\n                 \"    }\"\n                 \"    return -1\"\n                 \"})()\"),\n      njs_str(\"-1\") },\n#endif\n\n    { njs_str(\"var a = 'abcdef'; function f(a) {\"\n                 \"return a.slice(a.indexOf('cd')) } f(a)\"),\n      njs_str(\"cdef\") },\n\n    { njs_str(\"var a = 'abcdef'; a.slice(a.indexOf('cd'))\"),\n      njs_str(\"cdef\") },\n\n    { njs_str(\"'abcdef'.indexOf('de', 2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f'.indexOf('\u043b\u043c\u043d\u043e', 10)\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"'abcdef'.indexOf('a', 10)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'abcdef'.indexOf('q', 0)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'abcdef'.indexOf('', 10)\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"'abcdef'.indexOf('', 3)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'12345'.indexOf()\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"''.indexOf('')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'12345'.indexOf(45, '0')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'12'.indexOf('12345')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"''.indexOf.call(12345, 45, '0')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var r = new String('undefined').indexOf(x); var x; r\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'a a'.toUTF8().indexOf('a', 1)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"'aaa'.lastIndexOf()\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'aaa'.lastIndexOf('')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'aaa'.lastIndexOf('a')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"'aaa'.lastIndexOf('aa')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"'aaa'.lastIndexOf('aaa')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'aaa'.lastIndexOf('aaaa')\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'a'.repeat(16).lastIndexOf(String.fromCodePoint(65533).repeat(15))\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"('\u03b1'+'a'.repeat(15)).lastIndexOf(String.fromCodePoint(65533).repeat(15))\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'abc abc abc abc'.lastIndexOf('abc')\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"'abc abc abc abc'.lastIndexOf('abc', 11)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc abc abc'.lastIndexOf('abc', 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abc abc abc abc'.lastIndexOf('', 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abc abc abc abc'.lastIndexOf('', 5)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434 abc'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434')\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434 abc'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', undefined)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434 abc'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', NaN)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434 abc'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', {})\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"String.prototype.lastIndexOf.call({toString:()=>'abc abc \u0430\u0431\u0432\u0433\u0434 abc'}, '\u0430\u0431\u0432\u0433\u0434')\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434')\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', 11)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', 12)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', 13)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', 14)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('\u0430\u0431\u0432\u0433\u0434', 15)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('')\"),\n      njs_str(\"16\") },\n\n    { njs_str(\"'abc abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.lastIndexOf('', 12)\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"''.lastIndexOf('')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"''.lastIndexOf()\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"''.lastIndexOf(undefined)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"'\u03b2'.repeat(32).lastIndexOf('\u03b2')\"),\n      njs_str(\"31\") },\n\n    { njs_str(\"'\u03b2'.repeat(32).lastIndexOf('\u03b2'.repeat(32))\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'\u03b2'.repeat(32).lastIndexOf``\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"JSON.stringify(Array(24).fill(true).map((v,i) => 'abc abc ab abc \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437ab'.lastIndexOf('abc', i)))\"\n                 \"== JSON.stringify([].concat(Array(4).fill(0), Array(7).fill(4), Array(13).fill(11)))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"''.includes('')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'12345'.includes()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f'.includes('\u043b\u043c\u043d\u043e', 10)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.includes('\u0430\u0431\u0432\u0433\u0434', 7)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.includes('\u0430\u0431\u0432\u0433\u0434', 8)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.includes('\u0430\u0431\u0432\u0433\u0434', 9)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var i = 0; var o = {get length() {i++}};\"\n              \"Array.prototype.includes.call(o); i\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"[,,,].includes(undefined)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"''.startsWith('')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'12345'.startsWith()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'abc'.startsWith('abc')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc'.startsWith('abc', 1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'abc'.startsWith('abc', -1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.startsWith('\u0430\u0431\u0432\u0433\u0434', 8)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.startsWith('\u0430\u0431\u0432\u0433\u0434', 9)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"''.endsWith('')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'12345'.endsWith()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'abc'.endsWith('abc')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc'.endsWith('abc', 4)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc'.endsWith('abc', 1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'abc'.endsWith('abc', -1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.endsWith('\u0430\u0431\u0432\u0433\u0434', 13)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u0430\u0431\u0432 \u0430\u0431\u0432 \u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437'.endsWith('\u0430\u0431\u0432\u0433\u0434', 14)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'\\x00\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417'.toLowerCase().length\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"'\u0391\u0392\u0393'.toLowerCase()\"),\n      njs_str(\"\u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"'\u0410\u0411\u0412'.toLowerCase()\"),\n      njs_str(\"\u0430\u0431\u0432\") },\n\n    { njs_str(\"'\u2c7e'.repeat(256).toLowerCase() === '\u023f'.repeat(256)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'abc'.toUpperCase()\"),\n      njs_str(\"ABC\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3'.toUpperCase()\"),\n      njs_str(\"\u0391\u0392\u0393\") },\n\n    { njs_str(\"'\u023f'.repeat(256).toUpperCase() === '\u2c7e'.repeat(256)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\\x00\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437'.toUpperCase().length\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"['\u023f', '\u2c7e', '\u023f'.toUpperCase(), '\u2c7e'.toLowerCase()].map((v)=>v.toUTF8().length)\"),\n      njs_str(\"2,3,3,2\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* very long tests under MSAN */\n    { njs_str(\"var a = [], code;\"\n                 \"for (code = 0; code <= 1114111; code++) {\"\n                 \"    var s = String.fromCodePoint(code);\"\n                 \"    var n = s.toUpperCase();\"\n                 \"    if (s != n && s != n.toLowerCase())\"\n                 \"        a.push(code);\"\n                 \"} a\"),\n      njs_str(\"181,305,383,453,456,459,498,837,962,976,977,981,982,1008,1009,1013,7296,7297,7298,7299,7300,7301,7302,7303,7304,7835,8126\") },\n\n    { njs_str(\"var a = [], code;\"\n                 \"for (code = 0; code <= 1114111; code++) {\"\n                 \"    var s = String.fromCodePoint(code);\"\n                 \"    var n = s.toLowerCase();\"\n                 \"    if (s != n && s != n.toUpperCase())\"\n                 \"        a.push(code);\"\n                 \"} a\"),\n      njs_str(\"304,453,456,459,498,1012,7838,8486,8490,8491\") },\n#endif\n\n    { njs_str(\"'abc'.trimStart().trim().trimEnd()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"''.trim()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'    '.trim()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc  '.trimEnd()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'   abc'.trimStart()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'   abc  '.trim()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'\u0430\u0431\u0432  '.trimEnd()\"),\n      njs_str(\"\u0430\u0431\u0432\") },\n\n    { njs_str(\"'   \u0430\u0431\u0432'.trimStart()\"),\n      njs_str(\"\u0430\u0431\u0432\") },\n\n    { njs_str(\"'   \u0430\u0431\u0432  '.trimStart().trimEnd()\"),\n      njs_str(\"\u0430\u0431\u0432\") },\n\n    { njs_str(\"'\\\\u2029abc\\\\uFEFF\\\\u2028'.trim()\"),\n      njs_str(\"abc\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* very long test under MSAN */\n    { njs_str(\"var a = [], code;\"\n                 \"for (code = 0; code <= 1114111; code++) {\"\n                 \"    var ws = String.fromCodePoint(code);\"\n                 \"    if ((ws + '-' + ws).trim() === '-')\"\n                 \"        a.push(code);\"\n                 \"} a\"),\n      njs_str(\"9,10,11,12,13,32,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288,65279\") },\n#endif\n\n    { njs_str(\"'abcdefgh'.search()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abcdefgh'.search('')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abcdefgh'.search(undefined)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abcdefgh'.search(/def/)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'abcdefgh'.search('def')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'123456'.search('45')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'123456'.search(45)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'123456'.search(String(45))\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'123456'.search(Number('45'))\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var r = { toString: function() { return '45' } };\"\n                 \"'123456'.search(r)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var r = { toString: function() { return 45 } };\"\n                 \"'123456'.search(r)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var r = { toString: function() { return /45/ } };\"\n                 \"'123456'.search(r)\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"var r = { toString: function() { return /34/ },\"\n                 \"          valueOf:  function() { return 45 } };\"\n                 \"'123456'.search(r)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"'abc'.replace()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'ABC'.replace('B')\"),\n      njs_str(\"AundefinedC\") },\n\n    { njs_str(\"'ABC'.replace('B', undefined)\"),\n      njs_str(\"AundefinedC\") },\n\n    { njs_str(\"'a'.repeat(16).replace('a'.repeat(17)) === 'a'.repeat(16)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u03b1'.repeat(16).replace('\u03b1'.repeat(17)) === '\u03b1'.repeat(16)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'ABC'.replace('B', null)\"),\n      njs_str(\"AnullC\") },\n\n    { njs_str(\"'abc'.replace('c', 1)\"),\n      njs_str(\"ab1\") },\n\n    { njs_str(\"'abc'.replace('a', 'X')\"),\n      njs_str(\"Xbc\") },\n\n    { njs_str(\"'abc'.replace('b', 'X')\"),\n      njs_str(\"aXc\") },\n\n    { njs_str(\"('a'.repeat(33) + 'bb').replace('bb', 'CC').slice(31)\"),\n      njs_str(\"aaCC\") },\n\n    { njs_str(\"var r = 'abc'.replace('c', 'X'); [r, r.length]\"),\n      njs_str(\"abX,3\") },\n\n    { njs_str(\"var r = '\u03b1\u03b2\u03b3'.replace('\u03b1', 'X'); [r, r.length]\"),\n      njs_str(\"X\u03b2\u03b3,3\") },\n\n    { njs_str(\"var r = '\u03b1\u03b2\u03b3'.replace('\u03b2', 'X'); [r, r.length]\"),\n      njs_str(\"\u03b1X\u03b3,3\") },\n\n    { njs_str(\"var r = '\u03b1\u03b2\u03b3'.replace('\u03b3', 'X'); [r, r.length]\"),\n      njs_str(\"\u03b1\u03b2X,3\") },\n\n    { njs_str(\"var r = '\u03b1\u03b2\u03b3'.replace('', 'X'); [r, r.length]\"),\n      njs_str(\"X\u03b1\u03b2\u03b3,4\") },\n\n    { njs_str(\"'abc'.replace('b', (m, o, s) => `|${s}|${o}|${m}|`)\"),\n      njs_str(\"a|abc|1|b|c\") },\n\n    { njs_str(\"'abcdbe'.replace('b', '|$`X$\\\\'|')\"),\n      njs_str(\"a|aXcdbe|cdbe\") },\n\n    { njs_str(\"'ABC'.replace('B', '$<g>')\"),\n      njs_str(\"A$<g>C\") },\n\n    { njs_str(\"'ABC'.replace('B', '$23')\"),\n      njs_str(\"A$23C\") },\n\n    { njs_str(\"'undefined'.replace(void 0, 'x')\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"'12345'.replace(3, () => 0)\"),\n      njs_str(\"12045\") },\n\n    { njs_str(\"var r = new String('undefined').replace(x, Function('return arguments[1]+42;')); var x; r\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"'123'.replace(3, function() { return {toString: ()=>({})}; })\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"'12345'.replace(3, () => ({toString: () => 'aaaa'}))\"),\n      njs_str(\"12aaaa45\") },\n\n    { njs_str(\"'ABC'.replace('B', () => {throw 'OOps'})\"),\n      njs_str(\"OOps\") },\n\n    { njs_str(\"'abc'.replace(/a/, 'X')\"),\n      njs_str(\"Xbc\") },\n\n    { njs_str(\"'abccd'.replace(/c/, 'X')\"),\n      njs_str(\"abXcd\") },\n\n    { njs_str(\"'abc'.replace(/c/, 'X')\"),\n      njs_str(\"abX\") },\n\n    { njs_str(\"'abccd'.replace(/c+/, 'X')\"),\n      njs_str(\"abXd\") },\n\n    { njs_str(\"'abc'.replace(/f/, 'X')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'AB=C==='.replace(/=*$/, '')\"),\n      njs_str(\"AB=C\") },\n\n    { njs_str(\"('a'.repeat(33) + 'bb').replace(/bb/, 'CC').slice(31)\"),\n      njs_str(\"aaCC\") },\n\n    { njs_str(\"'abccd'.replace(/c/g, 'X')\"),\n      njs_str(\"abXXd\") },\n\n    { njs_str(\"('a'.repeat(33) + 'bb').replace(/bb/g, 'CC').slice(31)\"),\n      njs_str(\"aaCC\") },\n\n    { njs_str(\"'abccd'.replace(/[ac]/g, 'X')\"),\n      njs_str(\"XbXXd\") },\n\n    { njs_str(\"'ab'.replace(/q*/g, 'X')\"),\n      njs_str(\"XaXbX\") },\n\n    { njs_str(\"'\u03b1\u03b2'.replace(/q*/g, 'X')\"),\n      njs_str(\"X\u03b1X\u03b2X\") },\n\n    { njs_str(\"'\u03b1\u03b2'.replace(/(q)*/g, 'X')\"),\n      njs_str(\"X\u03b1X\u03b2X\") },\n\n    { njs_str(\"'\u03b1\u03b2'.replace(/q*/g, '\u03b3')\"),\n      njs_str(\"\u03b3\u03b1\u03b3\u03b2\u03b3\") },\n\n    { njs_str(\"':\u03b1:\u03b2:\u03b3:'.replace(/:/g, '')\"),\n      njs_str(\"\u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"':\u03b1:\u03b2:\u03b3:'.replace(/[\u03b1\u03b2\u03b3]/g, '')\"),\n      njs_str(\"::::\") },\n\n    { njs_str(\"'aabbccaa'.replace(/a*/g, '')\"),\n      njs_str(\"bbcc\") },\n\n    { njs_str(\"'aabbccaab'.replace(/z*/g, '')\"),\n      njs_str(\"aabbccaab\") },\n\n    { njs_str(\"''.replace(/a*/g, '')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcde'.replace(/d/, (m, o, s) => `|${s}|${o}|${m}|`)\"),\n      njs_str(\"abc|abcde|3|d|e\") },\n\n    { njs_str(\"'abcde'.replace(/(d)/, (m, p, o, s) => `|${s}|${o}|${m}|${p}|`)\"),\n      njs_str(\"abc|abcde|3|d|d|e\") },\n\n    { njs_str(\"'abc'.replace(/b/, () => 1)\"),\n      njs_str(\"a1c\") },\n\n    { njs_str(\"var n = 0; 'abbbc'.replace(/b/g, () => ++n)\"),\n      njs_str(\"a123c\") },\n\n    { njs_str(\"'abc'.replace(/x/, (m, o, s) => `|${s}|${o}|${m}|`)\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'abc12345#$*%'.replace(/([^\\\\d]*)(\\\\d*)([^\\\\w]*)/,\"\n              \"                       (_, p1, p2, p3) => [p1, p2, p3].join('-'))\"),\n      njs_str(\"abc-12345-#$*%\") },\n\n    { njs_str(\"'abc'.replace(/(?<named>b)/, (m, p, o, s, gr) => `|${gr.named}|`)\"),\n      njs_str(\"a|b|c\") },\n\n    { njs_str(\"'ABC'.replace(/[A-Z]/g, m => '-' + m.toLowerCase())\"),\n      njs_str(\"-a-b-c\") },\n\n    { njs_str(\"'abc'.replace(/(b)c/g, '|$01|')\"),\n      njs_str(\"a|b|\") },\n\n    { njs_str(\"'abc'.replace(/(b)c/g, '@$0|$01|$00@')\"),\n      njs_str(\"a@$0|b|$00@\") },\n\n    { njs_str(\"'abcdeFGHIJ'.replace(/(a)(b)(c)(d)(e)(F)(G)(H)(I)(J)/, '$9|$10|$11|$01')\"),\n      njs_str(\"I|J|a1|a\") },\n\n    { njs_str(\"'abcdbe'.replace(/(b)/g, '$2$23')\"),\n      njs_str(\"a$2$23cd$2$23e\") },\n\n    { njs_str(\"'abcdbe'.replace(/(b)/g, '$2$23X$$Y')\"),\n      njs_str(\"a$2$23X$Ycd$2$23X$Ye\") },\n\n    { njs_str(\"'abcdbe'.replace(/b/, '|$`X$\\\\'|')\"),\n      njs_str(\"a|aXcdbe|cdbe\") },\n\n    { njs_str(\"'abcdbefbgh'.replace(/b/g, '|$`X$\\\\'|')\"),\n      njs_str(\"a|aXcdbefbgh|cd|abcdXefbgh|ef|abcdbefXgh|gh\") },\n\n    { njs_str(\"'abc12345#$*%'.replace(/([^\\\\d]*)(\\\\d*)([^\\\\w]*)/, '$1-$2-$3')\"),\n      njs_str(\"abc-12345-#$*%\") },\n\n    { njs_str(\"'$1,$2'.replace(/(\\\\$(\\\\d))/g, '$$1-$1$2')\"),\n      njs_str(\"$1-$11,$1-$22\") },\n\n    { njs_str(\"'ABC'.replace(/(h*)(z*)(g*)/g, '$1@$2\u03b1$3')\"),\n      njs_str(\"@\u03b1A@\u03b1B@\u03b1C@\u03b1\") },\n\n    { njs_str(\"'abc'.replace(/(h*)(z*)/g, '$1@$2#$3:')\"),\n      njs_str(\"@#$3:a@#$3:b@#$3:c@#$3:\") },\n\n    { njs_str(\"/b(c)(z)?(.)/[Symbol.replace]('abcde', '[$1$2$3]')\"),\n      njs_str(\"a[cd]e\") },\n\n    { njs_str(\"/b(c)(z)?(.)/[Symbol.replace]('abcde', '[$01$02$03$04$00]')\"),\n      njs_str(\"a[cd$04$00]e\") },\n\n    { njs_str(\"var r = /./; r.exec = () => {return {}};\"\n              \"r[Symbol.replace]('ABCD', 'b')\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"var r = /./; r.exec = () => {return {}};\"\n              \"r[Symbol.replace]('ABCD', (m,p,o) => `${m}|${p}|${o}`)\"),\n      njs_str(\"undefined|0|ABCD\") },\n\n    { njs_str(\"var r = /./; r.exec = () => Buffer.from([]).toJSON().data;\"\n              \"r[Symbol.replace]('ABCD', 'b')\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"'\u03b1'.replace(/(h*)/g, '$1\u03b2\u03b3')\"),\n      njs_str(\"\u03b2\u03b3\u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"'\u03b1g'.replace(/(h*)/g, '$1\u03b2\u03b3')\"),\n      njs_str(\"\u03b2\u03b3\u03b1\u03b2\u03b3g\u03b2\u03b3\") },\n\n    { njs_str(\"'\u03b1g'.replace(/(\u03b1*)/g, '$1\u03b2\u03b3')\"),\n      njs_str(\"\u03b1\u03b2\u03b3\u03b2\u03b3g\u03b2\u03b3\") },\n\n    { njs_str(\"'\u03b1g'.replace(/(h*)/g, 'fg$1\u03b2\u03b3')\"),\n      njs_str(\"fg\u03b2\u03b3\u03b1fg\u03b2\u03b3gfg\u03b2\u03b3\") },\n\n    { njs_str(\"'\u03b1g\u03b2f\u03b3'.replace(/(g\u03b2)/g, 'n$1i')\"),\n      njs_str(\"\u03b1ng\u03b2if\u03b3\") },\n\n    { njs_str(\"'abc'.replace(/b/g, '|$&|')\"),\n      njs_str(\"a|b|c\") },\n\n    { njs_str(\"'ABC'.replace(/((A)B)/g, '($1|$&|$2)')\"),\n      njs_str(\"(AB|AB|A)C\") },\n\n    { njs_str(\"'abc'.replace(/b/g, '$0')\"),\n      njs_str(\"a$0c\") },\n\n    { njs_str(\"typeof String.bytesFrom(Array(15).fill(0xE3)).replace(/^/g, 1)\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"'abc'.replace(/^/g, '|$&|')\"),\n      njs_str(\"||abc\") },\n\n    { njs_str(\"var uri ='/u/v1/Aa/bB?type=m3u8&mt=42';\"\n              \"uri.replace(/^\\\\/u\\\\/v1\\\\/[^/]*\\\\/([^\\?]*)\\\\?.*(mt=[^&]*).*$/, '$1|$2')\"),\n      njs_str(\"bB|mt=42\") },\n\n    { njs_str(\"'ABC'.replace(/B/, '$<g>')\"),\n      njs_str(\"A$<g>C\") },\n\n    { njs_str(\"'ABC'.replace(/(?<b>B)/, '|$<b>|@$<a>@')\"),\n      njs_str(\"A|B|@@C\") },\n\n    { njs_str(\"'ABC'.replace(/(?<b>B)/, '|$<BB|')\"),\n      njs_str(\"A|$<BB|C\") },\n\n    { njs_str(\"'ABC'.replace(/(?<b>B)/, '|$<BB$$|>@')\"),\n      njs_str(\"A|@C\") },\n\n    { njs_str(\"('\u03b2' + '\u03b1'.repeat(33)+'\u03b2').replace(/(\u03b1+)(\u03b2+)/, (m, p1) => p1[32])\"),\n      njs_str(\"\u03b2\u03b1\") },\n\n    { njs_str(\"'abc'.replace(/(z*)/g, () => '@')\"),\n      njs_str(\"@a@b@c@\") },\n\n    { njs_str(\"'abc'.replace(/(a*)/g, () => '@')\"),\n      njs_str(\"@@b@c@\") },\n\n    { njs_str(\"var O = RegExp.prototype[Symbol.replace];\"\n              \"RegExp.prototype[Symbol.replace] = function (s, rep) { return O.call(this, s, `|${rep}|`); };\"\n              \"'ABC'.replace(/B/, '+')\"),\n      njs_str(\"A|+|C\") },\n\n    { njs_str(\"var O = RegExp.prototype.exec;\"\n              \"function mangled(s) { var r = O.call(this, s);\"\n              \"                      Object.defineProperty(r, '0', {enumerable:false}); \"\n              \"                      return r; };\"\n              \"RegExp.prototype.exec = mangled;\"\n              \"'ABC'.replace(/(B)/, (m, p1, off, s) => `@${m}|${p1}|${off}|${s}@`)\"),\n      njs_str(\"A@B|B|1|ABC@C\") },\n\n    { njs_str(\"var O = RegExp.prototype.exec;\"\n              \"function mangled(s) { var r = O.call(this, s);\"\n              \"                      Object.defineProperty(r, 'groups', {value: {g:1}}); \"\n              \"                      return r; };\"\n              \"RegExp.prototype.exec = mangled;\"\n              \"'ABC'.replace(/(B)/, '$<g>')\"),\n      njs_str(\"A1C\") },\n\n    { njs_str(\"var O = RegExp.prototype.exec;\"\n              \"function mangled(s) { var r = O.call(this, s);\"\n              \"                      Object.defineProperty(r, 'groups', {value: {get g() {throw 'OOps'}}}); \"\n              \"                      return r; };\"\n              \"RegExp.prototype.exec = mangled;\"\n              \"'ABC'.replace(/(B)/, '$<g>')\"),\n      njs_str(\"OOps\") },\n\n    { njs_str(\"var name = /a/g[Symbol.replace].name; [name, typeof name]\"),\n      njs_str(\"[Symbol.replace],string\") },\n\n    { njs_str(\"RegExp.prototype[Symbol.replace].call()\"),\n      njs_str(\"TypeError: \\\"this\\\" is not object\") },\n\n    { njs_str(\"RegExp.prototype[Symbol.replace].call(1)\"),\n      njs_str(\"TypeError: \\\"this\\\" is not object\") },\n\n    { njs_str(\"RegExp.prototype[Symbol.replace].call(/b/, 'abc','B')\"),\n      njs_str(\"aBc\") },\n\n    { njs_str(\"var m; var r = /./; r.exec = function() { return []; };\"\n              \"r[Symbol.replace]('foo', function() {m = arguments[0]}); [m, typeof m]\"),\n      njs_str(\"undefined,string\") },\n\n    { njs_str(\"String.bytesFrom([253,242,141,10]).replace(/\\\\s/g, 'X')[3]\"),\n      njs_str(\"X\") },\n\n    { njs_str(\"String.bytesFrom([255,149,15,97,95]).replace(/_/g, 'X')[4]\"),\n      njs_str(\"X\") },\n\n    { njs_str(\"/=/\"),\n      njs_str(\"/=/\") },\n\n    { njs_str(\"/[\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/[\\\" in 1\") },\n\n    { njs_str(\"/[\\\\\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/[\\\\\\\" in 1\") },\n\n    { njs_str(\"/\\\\s*;\\\\s*/\"),\n      njs_str(\"/\\\\s*;\\\\s*/\") },\n\n#ifndef NJS_HAVE_PCRE2\n    { njs_str(\"/]/\"),\n      njs_str(\"/\\\\]/\") },\n\n    { njs_str(\"RegExp(']')\"),\n      njs_str(\"/\\\\]/\") },\n\n    { njs_str(\"RegExp('[\\\\\\\\\\\\\\\\]]')\"),\n      njs_str(\"/[\\\\\\\\]\\\\]/\") },\n\n    { njs_str(\"/[\\\\\\\\]]/\"),\n      njs_str(\"/[\\\\\\\\]\\\\]/\") },\n\n    { njs_str(\"/\\\\]/\"),\n      njs_str(\"/\\\\]/\") },\n\n    { njs_str(\"RegExp('\\\\]')\"),\n      njs_str(\"/\\\\]/\") },\n\n    { njs_str(\"/ab]cd/\"),\n      njs_str(\"/ab\\\\]cd/\") },\n\n    { njs_str(\"/ab]/\"),\n      njs_str(\"/ab\\\\]/\") },\n\n    { njs_str(\"/]cd/\"),\n      njs_str(\"/\\\\]cd/\") },\n#endif\n\n    { njs_str(\"RegExp('[\\\\\\\\')\"),\n      njs_str(\"SyntaxError: \"\n              njs_pcre_var(\"pcre_compile2(\\\"[\\\\\\\") failed: \\\\ at end of pattern at \\\"\\\"\",\n                           \"pcre_compile(\\\"[\\\\\\\") failed: \\\\ at end of pattern\")) },\n\n    { njs_str(\"RegExp('\\\\\\\\0').source[1]\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"RegExp(undefined, 'g').global\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp('', 'g').global\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x; RegExp(x, 'g')\"),\n      njs_str(\"/(?:)/g\") },\n\n    { njs_str(\"']'.match(/]/)\"),\n      njs_str(\"]\") },\n\n    { njs_str(\"'ab]cd'.match(/]/)\"),\n      njs_str(\"]\") },\n\n    { njs_str(\"'ab]'.match(/]/)\"),\n      njs_str(\"]\") },\n\n    { njs_str(\"']cd'.match(/]/)\"),\n      njs_str(\"]\") },\n\n    { njs_str(\"'ab]cd'.match(/\\\\]/)\"),\n      njs_str(\"]\") },\n\n    { njs_str(\"'abc'.match(/a*/g)\"),\n      njs_str(\"a,,,\") },\n\n    { njs_str(\"'abc'.match(/z*/g)\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"'abc'.match(/.?/g)\"),\n      njs_str(\"a,b,c,\") },\n\n    { njs_str(\"''.match(/a*/g)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"''.match(/.?/g)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.match(/\u044f?/g)\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3'.match(/z*/g)\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"'\u56f2\u7881\u7e54'.match(/z*/g)\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"'\ud835\udfd8\ud835\udfd9\ud835\udfda\ud835\udfdb'.match(/z*/g)\"),\n      njs_str(\",,,,\") },\n\n    { njs_str(\"'abcdefgh'.match()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcdefgh'.match('')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcdefgh'.match(undefined)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcdefgh'.match(/def/)\"),\n      njs_str(\"def\") },\n\n    { njs_str(\"'abcdefgh'.match('def')\"),\n      njs_str(\"def\") },\n\n    { njs_str(\"'123456'.match('45')\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"'123456'.match(45)\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"'123456'.match(String(45))\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"'123456'.match(Number('45'))\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"var r = { toString: function() { return '45' } };\"\n                 \"'123456'.match(r)\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"var r = { toString: function() { return 45 } };\"\n                 \"'123456'.match(r)\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"var r = { toString: function() { return /45/ } };\"\n                 \"'123456'.match(r)\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"var r = { toString: function() { return /34/ },\"\n                 \"          valueOf:  function() { return 45 } };\"\n                 \"'123456'.match(r)\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"''.match(/^$/)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"''.match(/^$/g)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abcdefgh'.match(/def/)\"),\n      njs_str(\"def\") },\n\n    { njs_str(\"'abc abc abc'.match('abc')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'abc abc abc'.match(/abc/)\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'abc abc abc'.match(/abc/g)\"),\n      njs_str(\"abc,abc,abc\") },\n\n    { njs_str(\"'abc ABC aBc'.match(/abc/ig)\"),\n      njs_str(\"abc,ABC,aBc\") },\n\n    { njs_str(\"var a = '\u03b1'.match(/\u03b1/g)[0] + '\u03b1';\"\n                 \"a +' '+ a.length\"),\n      njs_str(\"\u03b1\u03b1 2\") },\n\n    { njs_str(\"('\u03b2' + '\u03b1'.repeat(33) +'\u03b2').match(/\u03b1+/g)[0][32]\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"var a = '\\\\u00CE\\\\u00B1'.toBytes().match(/\u03b1/g)[0] + '\u03b1';\"\n                 \"a +' '+ a.length\"),\n      njs_str(\"\u03b1\u03b1 4\") },\n\n    { njs_str(\"typeof String.bytesFrom(Array(15).fill(0xE3)).match(/^/g)\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"'abc'.split()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'abc'.split(undefined)\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"''.split('').length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'abc'.split('')\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3'.split('')\"),\n      njs_str(\"\u03b1,\u03b2,\u03b3\") },\n\n    { njs_str(\"'\u56f2\u7881\u7e54'.split('')\"),\n      njs_str(\"\u56f2,\u7881,\u7e54\") },\n\n    { njs_str(\"'\ud835\udfd8\ud835\udfd9\ud835\udfda\ud835\udfdb'.split('')\"),\n      njs_str(\"\ud835\udfd8,\ud835\udfd9,\ud835\udfda,\ud835\udfdb\") },\n\n    { njs_str(\"'\u56f2\u03b1\u7881\u03b1\u7e54'.split('\u03b1')\"),\n      njs_str(\"\u56f2,\u7881,\u7e54\") },\n\n    { njs_str(\"'a'.repeat(16).split('a'.repeat(15))\"),\n      njs_str(\",a\") },\n\n    { njs_str(\"('\u03b1'+'\u03b2'.repeat(33)).repeat(2).split('\u03b1')[1][32]\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"'abc'.split('abc')\"),\n      njs_str(\",\") },\n\n    { njs_str(\"'a bc def'.split(' ')\"),\n      njs_str(\"a,bc,def\") },\n\n    { njs_str(\"'a bc  def'.split(' ')\"),\n      njs_str(\"a,bc,,def\") },\n\n    { njs_str(\"'a bc  def'.split(' ', 3)\"),\n      njs_str(\"a,bc,\") },\n\n    { njs_str(\"'abc'.split('abc')\"),\n      njs_str(\",\") },\n\n    { njs_str(\"'ab'.split('123')\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"''.split(/0/).length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"'abc'.split(/(?:)/)\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"'a bc def'.split(/ /)\"),\n      njs_str(\"a,bc,def\") },\n\n    { njs_str(\"'a bc  def'.split(/ /)\"),\n      njs_str(\"a,bc,,def\") },\n\n    { njs_str(\"'abc'.split(/abc/)\"),\n      njs_str(\",\") },\n\n    { njs_str(\"('\u03b1'.repeat(32)).split(/./).length\"),\n      njs_str(\"33\") },\n\n    { njs_str(\"'AbcDefGhi'.split(/([A-Z][a-z]+)/)\"),\n      njs_str(\",Abc,,Def,,Ghi,\") },\n\n    { njs_str(\"'myCamelCaseString'.split(/(?=[A-Z])/)\"),\n      njs_str(\"my,Camel,Case,String\") },\n\n    { njs_str(\"'\u043c\u043e\u044f\u0412\u0435\u0440\u0431\u043b\u044e\u0436\u044c\u044f\u0421\u0442\u0440\u043e\u043a\u0430'.split(/(?=[\u0410-\u042f])/)\"),\n      njs_str(\"\u043c\u043e\u044f,\u0412\u0435\u0440\u0431\u043b\u044e\u0436\u044c\u044f,\u0421\u0442\u0440\u043e\u043a\u0430\") },\n\n    { njs_str(\"'Harry Trump ;Fred Barney; Helen Rigby ; Bill Abel ;Chris Hand '.split( /\\\\s*(?:;|$)\\\\s*/)\"),\n      njs_str(\"Harry Trump,Fred Barney,Helen Rigby,Bill Abel,Chris Hand,\") },\n\n    { njs_str(\"'\u0413\u0430\u0440\u0440\u0438 \u0422\u0440\u0430\u043c\u043f ;\u0424\u0440\u044d\u0434 \u0411\u0430\u0440\u043d\u0438; \u0425\u0435\u043b\u0435\u043d \u0420\u0438\u0433\u0431\u0438 ; \u0411\u0438\u043b\u043b \u0410\u0431\u0435\u043b\u044c'.split(/\\\\s*;\\\\s*/)\"),\n      njs_str(\"\u0413\u0430\u0440\u0440\u0438 \u0422\u0440\u0430\u043c\u043f,\u0424\u0440\u044d\u0434 \u0411\u0430\u0440\u043d\u0438,\u0425\u0435\u043b\u0435\u043d \u0420\u0438\u0433\u0431\u0438,\u0411\u0438\u043b\u043b \u0410\u0431\u0435\u043b\u044c\") },\n\n    { njs_str(\"'Hello 1 world. Sentence number 2.'.split(/(\\\\d)/)\"),\n      njs_str(\"Hello ,1, world. Sentence number ,2,.\") },\n\n    { njs_str(\"'\u041f\u0440\u0438\u0432\u0435\u0442 1 \u043c\u0438\u0440. \u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440 2.'.split(/(\\\\d)/)\"),\n      njs_str(\"\u041f\u0440\u0438\u0432\u0435\u0442 ,1, \u043c\u0438\u0440. \u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440 ,2,.\") },\n\n    { njs_str(\"'0123456789'.split('').reverse().join('')\"),\n      njs_str(\"9876543210\") },\n\n    { njs_str(\"/-/[Symbol.split]('a-b-c')\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"var O = RegExp.prototype[Symbol.split];\"\n              \"RegExp.prototype[Symbol.split] = function (s, limit) { \"\n              \"    return O.call(this, s, limit).map(v => `@${v}#`); \"\n              \"};\"\n              \"'2016-01-02'.split(/-/)\"),\n      njs_str(\"@2016#,@01#,@02#\") },\n\n    { njs_str(\"'abc'.repeat(3)\"),\n      njs_str(\"abcabcabc\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.repeat(3)\"),\n      njs_str(\"\u0430\u0431\u0432\u0430\u0431\u0432\u0430\u0431\u0432\") },\n\n    { njs_str(\"''.repeat(3)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc'.repeat(0)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc'.repeat(NaN)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'abc'.repeat(Infinity)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'abc'.repeat(-1)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"''.repeat(-1)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'a'.repeat(2147483647)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'a'.repeat(2147483648)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'a'.repeat(Infinity)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'a'.repeat(NaN)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"''.repeat(2147483646)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"''.repeat(2147483647)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"''.repeat(2147483648)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'aaaaaaaa'.repeat(2**64+1)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"''.repeat(Infinity)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"''.repeat(NaN)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.prototype.repeat.call({},2)\"),\n      njs_str(\"[object Object][object Object]\") },\n\n    { njs_str(\"'abc'.padStart(7)\"),\n      njs_str(\"    abc\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padStart(7)\"),\n      njs_str(\"    \u0430\u0431\u0432\") },\n\n    { njs_str(\"'abc'.padStart(3)\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padStart(0)\"),\n      njs_str(\"\u0430\u0431\u0432\") },\n\n    { njs_str(\"'abc'.padStart(NaN)\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"'abc'.padStart(2147483647)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'abc'.padStart(2147483646, '')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"''.padStart(0, '')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'1'.padStart(5, 0)\"),\n      njs_str(\"00001\") },\n\n    { njs_str(\"''.padStart(1, '\u044f')\"),\n      njs_str(\"\u044f\") },\n\n    { njs_str(\"'abc'.padStart(6, NaN)\"),\n      njs_str(\"NaNabc\") },\n\n    { njs_str(\"'abc'.padStart(11, 123)\"),\n      njs_str(\"12312312abc\") },\n\n    { njs_str(\"'abc'.padStart(6, 12345)\"),\n      njs_str(\"123abc\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padStart(6, '\u044d\u044e\u044f')\"),\n      njs_str(\"\u044d\u044e\u044f\u0430\u0431\u0432\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padStart(4, '\u044d\u044e\u044f')\"),\n      njs_str(\"\u044d\u0430\u0431\u0432\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padStart(7, '\u044d\u044e\u044f')\"),\n      njs_str(\"\u044d\u044e\u044f\u044d\u0430\u0431\u0432\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padStart(10, '\u044d\u044e')\"),\n      njs_str(\"\u044d\u044e\u044d\u044e\u044d\u044e\u044d\u0430\u0431\u0432\") },\n\n    { njs_str(\"'abc'.padStart(10, Symbol())\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"'1234'.padEnd(4)\"),\n      njs_str(\"1234\") },\n\n    { njs_str(\"'1234'.padEnd(-1)\"),\n      njs_str(\"1234\") },\n\n    { njs_str(\"'\u044f'.padEnd(1)\"),\n      njs_str(\"\u044f\") },\n\n    { njs_str(\"'1234'.padEnd(5)\"),\n      njs_str(\"1234 \") },\n\n    { njs_str(\"'\u044f'.padEnd(6)\"),\n      njs_str(\"\u044f     \") },\n\n    { njs_str(\"'\u044f'.padEnd(2147483647)\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"'\u044f'.padEnd(2147483646, '')\"),\n      njs_str(\"\u044f\") },\n\n    { njs_str(\"''.padEnd(0, '')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"'\u044d\u044e'.padEnd(3, '\u044f')\"),\n      njs_str(\"\u044d\u044e\u044f\") },\n\n    { njs_str(\"''.padEnd(1, 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"'1234'.padEnd(8, 'abcd')\"),\n      njs_str(\"1234abcd\") },\n\n    { njs_str(\"'1234'.padEnd(10, 'abcd')\"),\n      njs_str(\"1234abcdab\") },\n\n    { njs_str(\"'1234'.padEnd(7, 'abcd')\"),\n      njs_str(\"1234abc\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padEnd(5, '\u0413\u0414')\"),\n      njs_str(\"\u0430\u0431\u0432\u0413\u0414\") },\n\n    { njs_str(\"'\u0430\u0431\u0432'.padEnd(4, '\u0413\u0414\u0423')\"),\n      njs_str(\"\u0430\u0431\u0432\u0413\") },\n\n    { njs_str(\"'\u0430\u0431\u0432\u0433'.padEnd(10, '\u0414\u0415\u0416\u0417')\"),\n      njs_str(\"\u0430\u0431\u0432\u0433\u0414\u0415\u0416\u0417\u0414\u0415\") },\n\n    { njs_str(\"'abc'.padEnd(10, Symbol())\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"[undefined, null, Symbol()]\"\n              \".every(v=> { try {String.bytesFrom(v);} catch(e) {return e.name == 'TypeError'} })\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"String.bytesFrom({}).length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"String.bytesFrom({length:5, 0:'A'.charCodeAt(0), 2:'X', 3:NaN,4:0xfd}).toString('hex')\"),\n      njs_str(\"41000000fd\") },\n\n    { njs_str(\"String.bytesFrom([1, 2, 0.23, '5', 'A']).toString('hex')\"),\n      njs_str(\"0102000500\") },\n\n    { njs_str(\"String.bytesFrom([NaN, Infinity]).toString('hex')\"),\n      njs_str(\"0000\") },\n\n    { njs_str(\"String.bytesFrom(new Uint8Array([0xff,0xde,0xba])).toString('hex')\"),\n      njs_str(\"ffdeba\") },\n\n    { njs_str(\"String.bytesFrom((new Uint8Array([0xff,0xde,0xba])).buffer).toString('hex')\"),\n      njs_str(\"ffdeba\") },\n\n    { njs_str(\"String.bytesFrom('', 'hex')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.bytesFrom('00aabbcc', 'hex').toString('hex')\"),\n      njs_str(\"00aabbcc\") },\n\n    { njs_str(\"String.bytesFrom(new String('00aabbcc'), 'hex').toString('hex')\"),\n      njs_str(\"00aabbcc\") },\n\n    { njs_str(\"String.bytesFrom('deadBEEF##', 'hex').toString('hex')\"),\n      njs_str(\"deadbeef\") },\n\n    { njs_str(\"String.bytesFrom('aa0', 'hex').toString('hex')\"),\n      njs_str(\"aa\") },\n\n    { njs_str(\"String.bytesFrom('', 'base64')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.bytesFrom('#', 'base64')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.bytesFrom('QQ==', 'base64')\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"String.bytesFrom('QQ=', 'base64')\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"String.bytesFrom('QQ', 'base64')\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"String.bytesFrom('Q', 'base64')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.bytesFrom('QUI=', 'base64')\"),\n      njs_str(\"AB\") },\n\n    { njs_str(\"String.bytesFrom('QUI', 'base64')\"),\n      njs_str(\"AB\") },\n\n    { njs_str(\"String.bytesFrom('QUJD', 'base64')\"),\n      njs_str(\"ABC\") },\n\n    { njs_str(\"String.bytesFrom('QUJDRA==', 'base64')\"),\n      njs_str(\"ABCD\") },\n\n    { njs_str(\"String.bytesFrom('', 'base64url')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.bytesFrom('QQ', 'base64url')\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"String.bytesFrom('QUI', 'base64url')\"),\n      njs_str(\"AB\") },\n\n    { njs_str(\"String.bytesFrom('QUJD', 'base64url')\"),\n      njs_str(\"ABC\") },\n\n    { njs_str(\"String.bytesFrom('QUJDRA', 'base64url')\"),\n      njs_str(\"ABCD\") },\n\n    { njs_str(\"String.bytesFrom('QUJDRA#', 'base64url')\"),\n      njs_str(\"ABCD\") },\n\n    { njs_str(\"String.bytesFrom('QUJDRA#', 'base64lol')\"),\n      njs_str(\"TypeError: Unknown encoding: \\\"base64lol\\\"\") },\n\n    { njs_str(\"encodeURI.name\"),\n      njs_str(\"encodeURI\")},\n\n    { njs_str(\"encodeURI.length\"),\n      njs_str(\"1\")},\n\n    { njs_str(\"encodeURI('012\u0430\u0431\u0432')\"),\n      njs_str(\"012%D0%B0%D0%B1%D0%B2\")},\n\n    { njs_str(\"encodeURI(String.fromCharCode(0xD800)+String.fromCharCode(0xDC00))\"),\n      njs_str(\"%EF%BF%BD%EF%BF%BD\")},\n\n    { njs_str(\"encodeURI('~}|{`_^]\\\\\\\\[@?>=<;:/.-,+*)(\\\\\\'&%$#\\\"! ')\"),\n      njs_str(\"~%7D%7C%7B%60_%5E%5D%5C%5B@?%3E=%3C;:/.-,+*)('&%25$#%22!%20\")},\n\n    { njs_str(\"encodeURIComponent.name\"),\n      njs_str(\"encodeURIComponent\")},\n\n    { njs_str(\"encodeURIComponent.length\"),\n      njs_str(\"1\")},\n\n    { njs_str(\"encodeURIComponent('~}|{`_^]\\\\\\\\[@?>=<;:/.-,+*)(\\\\\\'&%$#\\\"! ')\"),\n      njs_str(\"~%7D%7C%7B%60_%5E%5D%5C%5B%40%3F%3E%3D%3C%3B%3A%2F.-%2C%2B*)('%26%25%24%23%22!%20\")},\n\n    { njs_str(\"decodeURI.name\"),\n      njs_str(\"decodeURI\")},\n\n    { njs_str(\"decodeURI.length\"),\n      njs_str(\"1\")},\n\n    { njs_str(\"decodeURI('%00')\"),\n      njs_str(\"\\0\")},\n\n    { njs_str(\"decodeURI('%3012%D0%B0%D0%B1%D0%B2')\"),\n      njs_str(\"012\u0430\u0431\u0432\")},\n\n    { njs_str(\"decodeURI('%7e%7d%7c%7b%60%5f%5e%5d%5c%5b%40%3f%3e%3d%3c%3b%3a%2f%2e%2c%2b%2a%29%28%27%26%25%24%23%22%21%20')\"),\n      njs_str(\"~}|{`_^]\\\\[%40%3f>%3d<%3b%3a%2f.%2c%2b*)('%26%%24%23\\\"! \")},\n\n    { njs_str(\"decodeURIComponent.name\"),\n      njs_str(\"decodeURIComponent\")},\n\n    { njs_str(\"decodeURIComponent.length\"),\n      njs_str(\"1\")},\n\n    { njs_str(\"decodeURIComponent('%7e%7d%7c%7b%60%5f%5e%5d%5c%5b%40%3f%3e%3d%3c%3b%3a%2f%2e%2c%2b%2a%29%28%27%26%25%24%23%22%21%20')\"),\n      njs_str(\"~}|{`_^]\\\\[@?>=<;:/.,+*)('&%$#\\\"! \")},\n\n    { njs_str(\"decodeURI('%41%42%43').length\"),\n      njs_str(\"3\")},\n\n    { njs_str(\"decodeURI('%D0%B0%D0%B1%D0%B2').length\"),\n      njs_str(\"3\")},\n\n    { njs_str(\"decodeURI(String.bytesFrom([0x80,0x80]))\"),\n      njs_str(\"URIError: malformed URI\")},\n\n    { njs_str(\"[\"\n              \" '%',\"\n              \" '%0',\"\n              \" '%QQ',\"\n              \" '%C0%10',\"\n              \" '%DC%C7',\"\n              \" '%80%81%82',\"\n              \" '%EF%5C%A0',\"\n              \" '%EF%A0%5E',\"\n              \" '%E0%EF%A0',\"\n              \" '%E0%A0%EF',\"\n              \" '%FF%A2%95%BB',\"\n              \"].every(v=>{try { decodeURI(v)} catch(e) {return e.name == 'URIError'}})\"),\n      njs_str(\"true\")},\n\n    { njs_str(\"[\"\n              \" 'abc',\"\n              \" '\u03b1\u03b2\u03b3',\"\n              \" '\ud835\udfd8\ud835\udfd9\ud835\udfda\ud835\udfdb',\"\n              \" String.fromCodePoint(0x20000),\"\n              \"].every(v=>decodeURI(encodeURI(v)) === v)\"),\n      njs_str(\"true\")},\n\n    { njs_str(\"[encodeURI, encodeURIComponent, decodeURI, decodeURIComponent]\"\n              \".every(v=>{var r = v(); return (typeof r === 'string') && r === 'undefined';})\"),\n      njs_str(\"true\")},\n\n    /* Functions. */\n\n    { njs_str(\"return\"),\n      njs_str(\"SyntaxError: Illegal return statement in 1\") },\n\n    { njs_str(\"{return}\"),\n      njs_str(\"SyntaxError: Illegal return statement in 1\") },\n\n    { njs_str(\"\\n{\\nreturn;\\n}\"),\n      njs_str(\"SyntaxError: Illegal return statement in 3\") },\n\n    { njs_str(\"if (1) function f(){}\"),\n      njs_str(\"SyntaxError: Functions can only be declared at top level or inside a block in 1\") },\n\n    { njs_str(\"if (1) { function f(){}}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (1) function f() { }\"),\n      njs_str(\"SyntaxError: Functions can only be declared at top level or inside a block in 1\") },\n\n    { njs_str(\"while (1) { break; function f(){}}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"for (;;) function f() { }\"),\n      njs_str(\"SyntaxError: Functions can only be declared at top level or inside a block in 1\") },\n\n    { njs_str(\"for (;;) { break; function f(){}}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"do function f() { } while (0)\"),\n      njs_str(\"SyntaxError: Functions can only be declared at top level or inside a block in 1\") },\n\n    { njs_str(\"function f() { return 1; } { function f() { return 2; } } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { return 1; } { function f() { return 2; } { function f() { return 3; } }} f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"{function f() {} {} f() }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"{ var f; function f() {} }\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n    { njs_str(\"{ function f() {} var f; }\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n    { njs_str(\"{ function f() {} { var f }}\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n#if NJS_HAVE_LARGE_STACK\n    { njs_str(\"function f() { return f() } f()\"),\n      njs_str(\"RangeError: Maximum call stack size exceeded\") },\n#endif\n\n    { njs_str(\"function () { } f()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"(\\\" in 1\") },\n\n    { njs_str(\"function f() { }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { }; f.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"function f() { }; f.length = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"length\\\" of function\") },\n\n    { njs_str(\"function f(...rest) { }; f.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"function f(...rest) { }; var binded = f.bind(this, [1,2]);\"\n                 \"binded.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"function f(a,a) { };\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"function f(a,b,a) { };\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"function f(a, ...a) { };\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"(function(a,a) { })\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"(function(a,...a) { })\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"(function f(a,a) { })\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"(function f(a,...a) { })\"),\n      njs_str(\"SyntaxError: Duplicate parameter names in 1\") },\n\n    { njs_str(\"function f(a,b) { }; f.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"function f(a,...rest) { }; f.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f(...) {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\")\\\" in 1\") },\n\n    { njs_str(\"(function (...) {})()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\")\\\" in 1\") },\n\n    { njs_str(\"function f(a,b) { }; var ff = f.bind(f, 1); ff.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object((new Date(0)).toJSON())+0\"),\n      njs_str(\"1970-01-01T00:00:00.000Z0\") },\n\n    { njs_str(\"Object((new Array(0)).toString())+0\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"JSON.parse.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"JSON.parse.bind(JSON, '[]').length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {}; o.hasOwnProperty.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var x; function f() { }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { } f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { ; } f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { ;; } f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { return } f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { return; } f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { return;; } f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { return 1 } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { return 1; } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { return 1;; } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { return 1\\n 2 } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { return 1\\n 2 } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function f() { return 2.toString(); })()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"toString\\\" in 1\") },\n\n    { njs_str(\"(function f() { return 2..toString(); })()\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"function f(a) { if (a) return 'OK' } f(1)+f(0)\"),\n      njs_str(\"OKundefined\") },\n\n    { njs_str(\"function f(a) { if (a) return 'OK'; } f(1)+f(0)\"),\n      njs_str(\"OKundefined\") },\n\n    { njs_str(\"function f(a) { if (a) return 'OK';; } f(1)+f(0)\"),\n      njs_str(\"OKundefined\") },\n\n    { njs_str(\"var a = 1; a()\"),\n      njs_str(\"TypeError: number is not a function\") },\n\n    { njs_str(\"var o = {a:1}; o.a()\"),\n      njs_str(\"TypeError: (intermediate value)[\\\"a\\\"] is not a function\") },\n\n    { njs_str(\"(function(){})()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var q = 1; function x(a, b, c) { q = a } x(5); q\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"function x(a) { while (a < 2) a++; return a + 1 } x(1) \"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(function(){\"\n              \"(function(){\"\n              \"(function(){\"\n              \"(function(){\"\n              \"(function(){\"\n              \"(function(){\"\n              \"(function(){\"\n              \"(function(){\"\n              \"(function(){})\"\n              \"})\"\n              \"})\"\n              \"})\"\n              \"})\"\n              \"})\"\n              \"})\"\n              \"})\"\n              \"})\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"Function.prototype.toString = function () {return 'X'};\"\n                 \"eval\"),\n      njs_str(\"X\") },\n\n    { njs_str(\"var o = {f:function(x){ return x**2}}; o.f\\n(2)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var o = {f:function(x){ return x**2}}; o\\n.f\\n(2)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var o = {f:function(x){ return x**2}}; o\\n.\\nf\\n(2)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f(x){ return x**2}; [f(2)\\n, f\\n(2),\\nf\\n(\\n2),\\nf\\n(\\n2\\n)]\"),\n      njs_str(\"4,4,4,4\") },\n\n    { njs_str(\"function f (x){ return x**2}; f\\n(2)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f (x){ return x**2}; f\\n(\\n2)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f (x){ return x**2}; f\\n(\\n2\\n)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f (x){ return x**2}; f\\n(2\\n)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f (x){ return x**2}; f(2\\n)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var fn = Function.prototype.call; fn.call(() => 1)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var fn = Function.prototype.call; fn.call(fn, () => 1)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var fn = Function.prototype.call; fn.call(fn, fn, () => 1)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"eval.call.call(Number)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"URIError.apply.apply(RegExp)\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"[0].some(function(){return Array.call.bind(isNaN)}())\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"(function (undefined, NaN, Infinity){ return undefined + NaN + Infinity})('x', 'y', 'z')\"),\n      njs_str(\"xyz\") },\n\n    { njs_str(\"function f(undefined,NaN, Infinity){ return undefined + NaN + Infinity}; f('x', 'y', 'z')\"),\n      njs_str(\"xyz\") },\n\n    { njs_str(\"(function (Object, Array, Boolean){ return Object + Array + Boolean})('x', 'y', 'z')\"),\n      njs_str(\"xyz\") },\n\n    { njs_str(\"var n = 11, res;\"\n              \"function a() {return b}\"\n              \"res = a()(2);\"\n              \"function b(k) {var x = b; return 1 + k + n} res\"),\n      njs_str(\"14\") },\n\n    { njs_str(\"var y = 9, res;\"\n              \"function a(n) {function b() {return c(n + 2)} return b()}\"\n              \"res = a(1);\"\n              \"function c(m) {var x = c; return m + 3 + y} res\"),\n      njs_str(\"15\") },\n\n    { njs_str(\"var res;\"\n              \"closure();\"\n              \"res = globalThis.funcall(1);\"\n              \"function closure() {\"\n              \"    var y = 9, res;\"\n              \"    globalThis.funcall = a;\"\n              \"    function a(n) { function b() {return c(2)} return b() }\"\n              \"    function c(m) {var x = c; return m + 3 + y}\"\n              \"} res\"),\n      njs_str(\"14\") },\n\n    { njs_str(\"function a() {\"\n              \"    var x = 1;\"\n              \"    function b() {var n = x; x = undefined; return n}\"\n              \"    return b;\"\n              \"}\"\n              \"[a()(), a()()];\"),\n      njs_str(\"1,1\") },\n\n    { njs_str(\"function a(obj, name) {!Object.prototype.hasOwnProperty.call(obj, name)}\"\n              \"a(this, 'b');\"\n              \"function b() {}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function abc() {\"\n              \"function x() {var a = x.arr; x.arr = 123; return a}\"\n              \"return x;\"\n              \"} [abc()(),abc()()]\"),\n      njs_str(\",\") },\n\n    { njs_str(\"function x() {var a = x.arr; x.arr = 123; return a} [x(),x()]\"),\n      njs_str(\",123\") },\n\n    { njs_str(\"var obj;\"\n              \"function make(desc) {obj = {'a': 123}}\"\n              \"function a(desc) {make()}\"\n              \"a(); obj.a\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var res;\"\n              \"function cls() {\"\n              \"    var obj = {'a': 123};\"\n              \"    Object.defineProperty(obj, \\\"length\\\", {\"\n              \"        get: function() {res = obj}\"\n              \"    });\"\n              \"    return obj;\"\n              \"}\"\n              \"var obj = cls();\"\n              \"[].includes.call(obj); res.a\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function f(){} typeof(f)\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"function let() {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"let\\\" in 1\") },\n\n    { njs_str(\"function static() {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"static\\\" in 1\") },\n\n    { njs_str(\"var arr = [];\"\n              \"function fn(one) {\"\n              \"    var x = one + 1;\"\n              \"    let y = one + 2;\"\n              \"    const u = one + 4;\"\n              \"    {\"\n              \"        {\"\n              \"            let z = one + 3;\"\n              \"            const v = one + 5;\"\n              \"            function f() {\"\n              \"                arr.push(one); arr.push(x);\"\n              \"                arr.push(y);   arr.push(z);\"\n              \"                arr.push(u);   arr.push(v);\"\n              \"            }\"\n              \"            f();\"\n              \"        }\"\n              \"    }\"\n              \"}\"\n              \"fn(1); arr\"),\n      njs_str(\"1,2,3,4,5,6\") },\n\n    /* Function nesting depth. */\n\n    { njs_str(\"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => 1\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => () => () => () => () =>\"\n              \"() => () => () => () => () => () => () => 1\"),\n      njs_str(\"RangeError: Maximum function nesting depth exceeded\") },\n\n    /* Recursive factorial. */\n\n    { njs_str(\"function f(a) {\"\n                 \"    if (a > 1)\"\n                 \"        return a * f(a - 1)\\n\"\n                 \"    return 1\"\n                 \"}\"\n                 \"f(10)\"),\n      njs_str(\"3628800\") },\n\n    /* Recursive factorial. */\n\n    { njs_str(\"function f(a) { return (a > 1) ? a * f(a - 1) : 1 } f(10)\"),\n      njs_str(\"3628800\") },\n\n    { njs_str(\"var g = function f(a) { return (a > 1) ? a * f(a - 1) : 1 };\"\n                 \"g(10)\"),\n      njs_str(\"3628800\") },\n\n    { njs_str(\"(function f(a) { return (a > 1) ? a * f(a - 1) : 1 })(10)\"),\n      njs_str(\"3628800\") },\n\n    /* Nested functions and closures. */\n\n    { njs_str(\"function f() { var x = 4; \"\n                 \"function g() { return x }; return g(); } f()\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f(a) { function g(b) { return a + b } return g }\"\n                 \"var k = f('a'); k('b')\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"function f(a) { return function(b) { return a + b } }\"\n                 \"var k = f('a'); k('b')\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"function f(a) { return function(b) { return a + b } }\"\n                 \"var k = f('a'), m = f('b'); k('c') + m('d')\"),\n      njs_str(\"acbd\") },\n\n    { njs_str(\"function f(a) { return \"\n                 \"function(b) { return function(c) { return a + b + c } } }\"\n                 \"var g = f('a'), k = g('b'), m = g('c'); k('d') + m('e')\"),\n      njs_str(\"abdace\") },\n\n    { njs_str(\"function f(a) {\"\n                 \"function g() { return a }; return g; }\"\n                 \"var y = f(4); y()\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f() { var x = 4; \"\n                 \"return function() { return x } }\"\n                 \"var y = f(); y()\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f() { var x = 4;\"\n                 \"function g() { if (1) { return 2 + x; } }; return g }\"\n                 \"var y = f(); y()\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var x; var y = 4;\"\n                 \"function f() { function h() { x = 3; return y; } }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() {\"\n                 \"    var a = 'a';\"\n                 \"    if (0) { a = 'b' };\"\n                 \"    function f2() { return a };\"\n                 \"    return f2\"\n                 \"};\"\n                 \"f()()\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"function f() {\"\n                 \"    var a = 'a'; \"\n                 \"    if (0) { if (0) {a = 'b'} };\"\n                 \"    function f2() { return a };\"\n                 \"    return f2\"\n                 \"};\"\n                 \"f()()\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"function f() { var a = f2(); }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { var a = f2(); } f();\"),\n      njs_str(\"ReferenceError: \\\"f2\\\" is not defined\") },\n\n    { njs_str(\"typeof Buffer !== 'undefined' ? Buffer : function Buffer(){}\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"1 == 2 ? func() : '123'\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"1 == 1 ? func() : '123'\"),\n      njs_str(\"ReferenceError: \\\"func\\\" is not defined\") },\n\n    { njs_str(\"function f(){ if (1 == 1) { 1 == 2 ? some_var : '123' } }; f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){ if (1 == 1) { 1 == 1 ? some_var : '123' } }; f()\"),\n      njs_str(\"ReferenceError: \\\"some_var\\\" is not defined\") },\n\n    { njs_str(\"function f(){ if (1 == 1) { 1 == 2 ? some_func() : '123' } }; f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){ if (1 == 1) { 1 == 1 ? some_func() : '123' } }; f()\"),\n      njs_str(\"ReferenceError: \\\"some_func\\\" is not defined\") },\n\n    { njs_str(\"(function(){ function f() {return f}; return f()})()\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"function  f() {}; f.toString = ()=> 'F'; ({'F':1})[f]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = ''; \"\n                 \"function f(list) {\"\n                 \"    function add(v) {a+=v};\"\n                 \"    list.forEach(function(v) {add(v)});\"\n                 \"};\"\n                 \"f(['a', 'b', 'c']); a\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"var l = [];\"\n                 \"var f = function() { \"\n                 \"    function f2() { l.push(f); l.push(f2); }; \"\n                 \"    l.push(f); l.push(f2); \"\n                 \"    f2(); \"\n                 \"}; \"\n                 \"f(); \"\n                 \"l.every(function(v) {return typeof v == 'function'})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var l = [];\"\n                 \"function baz() {\"\n                 \"  function foo(v) {\"\n                 \"     function bar() { foo(0); }\"\n                 \"     l.push(v);\"\n                 \"     if (v === 1) { bar(); }\"\n                 \"  }\"\n                 \"  foo(1);\"\n                 \"}; baz(); l\"),\n      njs_str(\"1,0\") },\n\n    { njs_str(\"var gen = (function(){  \"\n                 \"           var s = 0; \"\n                 \"           return { inc: function() {s++}, \"\n                 \"                    s: function() {return s} };});\"\n                 \"var o1 = gen(); var o2 = gen();\"\n                 \"[o1.s(),o2.s(),o1.inc(),o1.s(),o2.s(),o2.inc(),o1.s(),o2.s()]\"),\n      njs_str(\"0,0,,1,0,,1,1\") },\n\n    /* Recursive fibonacci. */\n\n    { njs_str(\"function fibo(n) {\"\n                 \"    if (n > 1)\"\n                 \"        return fibo(n-1) + fibo(n-2)\\n\"\n                 \"     return 1\"\n                 \"}\"\n                 \"fibo(10)\"),\n      njs_str(\"89\") },\n\n    { njs_str(\"function fibo(n) {\"\n                 \"    if (n > 1)\"\n                 \"        return fibo(n-1) + fibo(n-2)\\n\"\n                 \"     return '.'\"\n                 \"}\"\n                 \"fibo(10).length\"),\n      njs_str(\"89\") },\n\n    { njs_str(\"function fibo(n) {\"\n                 \"    if (n > 1)\"\n                 \"        return fibo(n-1) + fibo(n-2)\\n\"\n                 \"     return 1\"\n                 \"}\"\n                 \"fibo('10')\"),\n      njs_str(\"89\") },\n\n    { njs_str(\"function add(a, b) { return a + b }\"\n                 \"function mul(a, b) { return a * b }\"\n                 \"function f(a, b) {\"\n                 \"    return a + mul(add(1, 2), add(2, 3)) + b\"\n                 \"}\"\n                 \"f(30, 70)\"),\n      njs_str(\"115\") },\n\n    { njs_str(\"function a(x, y) { return x + y }\"\n                 \"function b(x, y) { return x * y }\"\n                 \"a(3, b(4, 5))\"),\n      njs_str(\"23\") },\n\n    { njs_str(\"function x(n) { return n }; x('12'.substr(1))\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"function f(a) { a *= 2 } f(10)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() { return 5 } f()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"function g(x) { return x + 1 }\"\n                 \"function f(x) { return x } f(g)(2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"function f() { return 5 } f(1)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"function f() {} f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() {;} f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){return} f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){return;} f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){return\\n1} f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(a) { return a + 1 } var b = f(2); b\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var f = function(a) { a *= 2; return a }; f(10)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"var f = function b(a) { a *= 2; return a }; f(10)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"var f = function b(a) { a *= 2; return a }; b(10)\"),\n      njs_str(\"ReferenceError: \\\"b\\\" is not defined\") },\n\n    { njs_str(\"var f; f = function(a) { a *= 2; return a }; f(10)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"var f; f = function b(a) { a *= 2; return a }; f(10)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"var a, f = a = function(a) { a *= 2; return a }; f(10)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"var a, f = a = function(a) { a *= 2; return a }; a(10)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"var f = function b(a) { a *= 2; return a } = 5\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in assignment in 1\") },\n\n    { njs_str(\"function a() { return { x:2} }; var b = a(); b.x\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = {}; function f(a) { return a + 1 } a.b = f(2); a.b\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(function(x) { return x + 1 })(2)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(function(x) { return x + 1 }(2))\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = function() { return 1 }(); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = (function() { return 1 })(); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = (function(a) { return a + 1 })(2); a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = (function(a) { return a + 1 }(2)); a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = +function(a) { return a + 1 }(2); a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = -function(a) { return a + 1 }(2); a\"),\n      njs_str(\"-3\") },\n\n    { njs_str(\"var a = !function(a) { return a + 1 }(2); a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = ~function(a) { return a + 1 }(2); a\"),\n      njs_str(\"-4\") },\n\n    { njs_str(\"var a = void function(a) { return a + 1 }(2); a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = true && function(a) { return a + 1 }(2); a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a; a = 0, function(a) { return a + 1 }(2); a\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = (0, function(a) { return a + 1 }(2)); a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = 0, function(a) { return a + 1 }(2); a\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"function\\\" in 1\") },\n\n    { njs_str(\"var a = (0, function(a) { return a + 1 }(2)); a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var a = +function f(a) { return a + 1 }(2);\"\n                 \"var b = f(5); a\"),\n      njs_str(\"ReferenceError: \\\"f\\\" is not defined\") },\n\n    { njs_str(\"var o = { f: function(a) { return a * 2 } }; o.f(5)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var o = {}; o.f = function(a) { return a * 2 }; o.f(5)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var o = { x: 1, f: function() { return this.x } }; o.f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = { x: 1, f: function(a) { return this.x += a } };\"\n                 \"o.f(5) +' '+ o.x\"),\n      njs_str(\"6 6\") },\n\n    { njs_str(\"var f = function(a) { return 3 }; f.call()\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var f = function(a) { return this }; f.call(5)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a }; f.call(5, 1)\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.call(5, 1, 2)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var f = function(a) { return 3 }; f.apply()\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var f = function(a) { return this }; f.apply(5)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var f = function(a) { return this + a }; f.apply(5, 1)\"),\n      njs_str(\"TypeError: second argument is not an array-like object\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.apply(5, [1, 2])\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.apply(5, [1, 2], 3)\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.apply(5, {'length':2, '0':1, '1':2})\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.apply(5, {'length':2, '0':1, '1':2, '2':3})\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var f = function(a, b, c) { return this + a + b + c};\"\n                 \"f.apply(\\\"a\\\", {'length':2, '0':1, '1':2, '2':3})\"),\n      njs_str(\"a12undefined\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.apply(5, {'length':3, '0':1, '1':2, '2':3})\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var f = function(a) { return this + a };\"\n                 \"f.apply(5, {'nolength':3, '0':1, '1':2})\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var f = function(a) { return this };\"\n                 \"f.apply(5, {'nolength':3, '0':1, '1':2})\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var f = function(a, b, c) { return this + a + b + c };\"\n                 \"f.apply(\\\"a\\\", {'length':3, '0':1, '1':2})\"),\n      njs_str(\"a12undefined\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"f.apply(\\\"a\\\", {'length':2, '0':undefined, '1':null})\"),\n      njs_str(\"aundefinednull\") },\n\n    { njs_str(\"var f = function() { return this };\"\n                 \"f.apply(123, {})\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"(function(index, ...rest){ return rest[index];})\"\n              \".apply({}, [1022].concat(Array(1023).fill(1).map((v,i)=>i.toString(16))))\"),\n      njs_str(\"3fe\") },\n\n    { njs_str(\"String.prototype.concat.apply('a', \"\n                 \"{length:2, 0:{toString:function() {return 'b'}}, 1:'c'})\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"String.prototype.concat.apply('a',\"\n                 \"{length: {valueOf: () => 2}, 0:'b', 1:'c'})\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"var o = {0:'b', 1:'c'}; Object.defineProperty(o, 'length', {get: () => 2});\"\n              \"String.prototype.concat.apply('a', o)\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"var a = function() { return 1 } + ''; a\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"''.concat.call()\"),\n      njs_str(\"TypeError: \\\"this\\\" argument is null or undefined\") },\n\n    { njs_str(\"''.concat.call('a', 'b', 'c')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"''.concat.call('a')\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"''.concat.call('a', [ 'b', 'c' ])\"),\n      njs_str(\"ab,c\") },\n\n    { njs_str(\"''.concat.call('a', [ 'b', 'c' ], 'd')\"),\n      njs_str(\"ab,cd\") },\n\n    { njs_str(\"''.concat.apply()\"),\n      njs_str(\"TypeError: \\\"this\\\" argument is null or undefined\") },\n\n    { njs_str(\"''.concat.apply('a')\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"''.concat.apply('a', 'b')\"),\n      njs_str(\"TypeError: second argument is not an array-like object\") },\n\n    { njs_str(\"''.concat.apply('a', [ 'b', 'c' ])\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"''.concat.apply('a', [ 'b', 'c' ], 'd')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"[].join.call([1,2,3])\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"[].join.call([1,2,3], ':')\"),\n      njs_str(\"1:2:3\") },\n\n    { njs_str(\"[].join.call([1,2,3], 55)\"),\n      njs_str(\"1552553\") },\n\n    { njs_str(\"[].join.call()\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"[1,2,3].join(undefined)\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"Array.prototype[1] = 1; var x = [0]; x.length = 2; x.join()\"),\n      njs_str(\"0,1\") },\n\n    { njs_str(\"Object.prototype[1] = 1; Object.prototype.length = 2; Array.prototype.join.call({0:0})\"),\n      njs_str(\"0,1\") },\n\n    { njs_str(\"var x = [0,,4]; x.length = 3; \"\n              \"Object.defineProperty(Array.prototype, 1, \"\n                \"{get:()=>{Object.defineProperty(x, 2, {value:'x', enumerable:false}); return 1}});\"\n              \"x.join()\"),\n      njs_str(\"0,1,x\") },\n\n    { njs_str(\"[].slice.call()\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"function f(a) {} ; var a = f; var b = f; a === b\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function f() {} ; f.toString()\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"function f() {}; f\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"function f() {}; f = f + 1; f\"),\n      njs_str(\"[object Function]1\") },\n\n    { njs_str(\"function a() { return 1 }\"\n                 \"function b() { return a }\"\n                 \"function c() { return b }\"\n                 \"c()()()\"),\n      njs_str(\"1\") },\n\n#if 0\n    { njs_str(\"function f() {}; f += 1; f\"),\n      njs_str(\"[object Function]1\") },\n#endif\n\n    { njs_str(\"function f() {}; function g() { return f }; g()\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"function f(a) { return this+a }; var a = f; a.call('0', 1)\"),\n      njs_str(\"01\") },\n\n    { njs_str(\"function f(a) { return this+a }; f.call('0', 1)\"),\n      njs_str(\"01\") },\n\n    { njs_str(\"function f(a) { return this+a };\"\n                 \"function g(f, a, b) { return f.call(a, b) }; g(f, '0', 1)\"),\n      njs_str(\"01\") },\n\n    { njs_str(\"function f(a) { return this+a };\"\n                 \"var o = { g: function (f, a, b) { return f.call(a, b) } };\"\n                 \"o.g(f, '0', 1)\"),\n      njs_str(\"01\") },\n\n    { njs_str(\"var concat = ''.concat; concat(1,2,3)\"),\n      njs_str(\"TypeError: \\\"this\\\" argument is null or undefined\") },\n\n    { njs_str(\"var concat = ''.concat; concat.call(1,2,3)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var concat = ''.concat; concat.yes = 'OK';\"\n                 \"concat.call(1,2,3, concat.yes)\"),\n      njs_str(\"123OK\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1'); b('2', '3')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2'); b('3')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', 2, '3'); b()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1'); b.call('0', '2', '3')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2'); b.call('0', '3')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2', '3'); b.call('0')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2', '3'); b.call()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1'); b.apply('0', ['2', '3'])\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2'); b.apply('0', ['3'])\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2', '3'); b.apply('0')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var f = function(a, b) { return this + a + b };\"\n                 \"var b = f.bind('1', '2', '3'); b.apply()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function f(a, b) { return this + a + b }\"\n                 \"var b = f.bind('1', '2', '3'); b.apply()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function f() { var a; return (function() { a = 1; return a; }).bind()() } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { var a; function baz() { a = 1; return a; } return baz.bind()(); } f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(){ var a = 1; return (function() { return a; })})().bind()()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var r = (function(){ var a = 1; return (function() { return {a,args:arguments}; })})().bind()('b');\"\n              \"njs.dump(r)\"),\n      njs_str(\"{a:1,args:{0:'b'}}\") },\n\n    { njs_str(\"function f() { var a = 1; function baz() { return a; } return baz; } f().bind()()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function f() { var t = 1; function baz() { return t; } return baz; }\"\n                 \"f().bind()();\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(a) { var s = typeof g, q = g; var g = 1; s += typeof g; function g(b) { return a + b }; return q; })(1)(2)\"),\n      njs_str(\"3\")},\n\n    { njs_str(\"(function(a) { var g = f; var f = 1; function f() { return a; } return g; })(42)()\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"function f(a, b) { return a + b }\"\n                 \"f(3,4) === f.bind()(3,4)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var obj = {prop:'abc'}; \"\n                 \"var func = function(x) { \"\n                 \"    return this === obj && x === 1 && arguments[0] === 1 \"\n                 \"           && arguments.length === 1 && this.prop === 'abc';\"\n                 \"};\"\n                 \"Function.prototype.bind.call(func, obj, 1)()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function F(a, b) { this.a = a + b }\"\n                 \"var o = new F(1, 2);\"\n                 \"o.a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"function F(a, b) { this.a = a + b; return { a: 7 } }\"\n                 \"var o = new F(1, 2);\"\n                 \"o.a\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"function F(a, b) { return }\"\n                 \"F.prototype.constructor === F\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function F() { return }\"\n                 \"F.prototype.ok = 'OK';\"\n                 \"var o = new F(); o.ok\"),\n      njs_str(\"OK\") },\n\n    { njs_str(\"function F() { return }\"\n                 \"var o = new F();\"\n                 \"o.constructor === F\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function F() { return }\"\n                 \"var o = new F();\"\n                 \"o.__proto__ === F.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var f = { F: function(){} }; var o = new f.F();\"\n                 \"o.__proto__ === f.F.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function F(){}; typeof F.prototype\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var F = function (){}; typeof F.prototype\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var F = function (){}; F.prototype = NaN; ({}) instanceof F\"),\n      njs_str(\"TypeError: Function has non-object prototype in instanceof\") },\n\n    { njs_str(\"var F = function() {};\"\n              \"[F, F].map((x)=>Object.getOwnPropertyDescriptor(x, 'prototype').writable)\"\n              \".every((x)=> x === true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var F = function() {}, a = {t: 1}, b = {t: 2}, x, y; \"\n              \"F.prototype = a; x = new F();\"\n              \"F.prototype = b; y = new F();\"\n              \"x.t == 1 && y.t == 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function A(){}; A.tag = 'A'; var a = new A();\"\n              \"(function B(){}).prototype = A.prototype;\"\n              \"a.constructor.tag\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"function A(){}; A.tag = 'A'; var a = new A();\"\n              \"(function B(){}).prototype = a.constructor.prototype;\"\n              \"a.constructor.tag\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"var x = {}, y = function() {}, z; y.prototype = x; z = new y();\"\n              \"(z instanceof y) && (z.__proto__ == y.prototype) && (x.isPrototypeOf(z))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = {}, y = function() {}, z; y.prototype = x; z = new y();\"\n              \"(z instanceof y) && (z.__proto__ == y.prototype) && (x.isPrototypeOf(z))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[undefined, null, false, NaN, '']\"\n              \".map((x) => { var f = function() {}; f.prototype = x; \"\n              \"              return Object.getPrototypeOf(new f()); })\"\n              \".every((x) => x == Object.prototype)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[undefined, null, false, NaN, '']\"\n              \".map((x) => { var f = function() {}; f.prototype = x; return f; })\"\n              \".map((x) => { try { return ({} instanceof x) ? 1 : 2; } \"\n              \"              catch (e) { return (e instanceof TypeError) ? 3 : 4; } })\"\n              \".every((x) => x == 3)\"),\n      njs_str(\"true\")},\n\n    { njs_str(\"new decodeURI('%00')\"),\n      njs_str(\"TypeError: function is not a constructor\")},\n\n    { njs_str(\"new ''.toString\"),\n      njs_str(\"TypeError: function is not a constructor\")},\n\n    { njs_str(\"function F() { return Number }\"\n                 \"var o = new (F())(5);\"\n                 \"typeof o +' '+ o\"),\n      njs_str(\"object 5\") },\n\n    { njs_str(\"function F() { return Number }\"\n                 \"var o = new (F());\"\n                 \"typeof o +' '+ o\"),\n      njs_str(\"object 0\") },\n\n    { njs_str(\"var o = new function F() { return Number }()(5);\"\n                 \"typeof o +' '+ o\"),\n      njs_str(\"number 5\") },\n\n    { njs_str(\"var o = new (function F() { return Number }())(5);\"\n                 \"typeof o +' '+ o\"),\n      njs_str(\"object 5\") },\n\n    { njs_str(\"var o = new (new function F() { return Number }())(5);\"\n                 \"typeof o +' '+ o\"),\n      njs_str(\"object 5\") },\n\n    { njs_str(\"var o = new new function F() { return Number }()(5);\"\n                 \"typeof o +' '+ o\"),\n      njs_str(\"object 5\") },\n\n    { njs_str(\"var b; function F(x) { return {a:x} }\"\n                 \"function G(y) { b = y; return F }\"\n                 \"var o = new G(3)(5);\"\n                 \"b + ' ' + o.a\"),\n      njs_str(\"3 5\") },\n\n    { njs_str(\"var b; function F(x) { return {a:x} }\"\n                 \"function G(y) { b = y; return F }\"\n                 \"var o = new (new G(3))(5);\"\n                 \"b + ' ' + o.a\"),\n      njs_str(\"3 5\") },\n\n    { njs_str(\"var b; function F(x) { return {a:x} }\"\n                 \"function G(y) { b = y; return F }\"\n                 \"var o = new new G(3)(5);\"\n                 \"b + ' ' + o.a\"),\n      njs_str(\"3 5\") },\n\n    { njs_str(\"var b; function F(x) { return {a:x} }\"\n                 \"var g = { G: function (y) { b = y; return F } };\"\n                 \"var o = new new g.G(3)(5);\"\n                 \"b + ' ' + o.a\"),\n      njs_str(\"3 5\") },\n\n    { njs_str(\"function a() { return function(x) { return x + 1 } }\"\n                 \"var b = a(); b(2)\"),\n      njs_str(\"3\") },\n\n    /* arguments object. */\n\n    { njs_str(\"arguments\"),\n      njs_str(\"SyntaxError: \\\"arguments\\\" object in global scope in 1\") },\n\n    { njs_str(\"{arguments}\"),\n      njs_str(\"SyntaxError: \\\"arguments\\\" object in global scope in 1\") },\n\n    { njs_str(\"var arguments\"),\n      njs_str(\"SyntaxError: Identifier \\\"arguments\\\" is forbidden in var declaration in 1\") },\n\n    { njs_str(\"for (var arguments in []) {}\"),\n      njs_str(\"SyntaxError: Identifier \\\"arguments\\\" is forbidden in var declaration in 1\") },\n\n    { njs_str(\"function arguments(){}\"),\n      njs_str(\"SyntaxError: Identifier \\\"arguments\\\" is forbidden in function declaration in 1\") },\n\n    { njs_str(\"(function () {arguments = [];})\"),\n      njs_str(\"SyntaxError: Identifier \\\"arguments\\\" is forbidden as left-hand in assignment in 1\") },\n\n    { njs_str(\"(function(){return arguments;})()\"),\n      njs_str(\"[object Arguments]\") },\n\n    { njs_str(\"(function(){return arguments[0];})(1,2,3)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(){return arguments[2];})(1,2,3)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(function(){return arguments[3];})(1,2,3)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function(a,b,c){return a;})(1,2,3)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(a,b,c){arguments[0] = 4; return a;})(1,2,3)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(a,b,c){a = 4; return arguments[0];})(1,2,3)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function check(v) {if (v == false) {throw TypeError('Too few arguments')}}; \"\n                 \"function f() {check(arguments.length > 1); return 1}; f()\"),\n      njs_str(\"TypeError: Too few arguments\") },\n\n    { njs_str(\"function check(v) {if (v == false) {throw TypeError('Too few arguments')}}; \"\n                 \"function f() {check(arguments.length > 1); return 1}; f(1,2)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(function(a,b){delete arguments[0]; return arguments[0]})(1,1)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function(){return arguments.length;})()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(function(){return arguments.length;})(1,2,3)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(function(){arguments.length = 1; return arguments.length;})(1,2,3)\"),\n      njs_str(\"1\") },\n\n     { njs_str(\"(function(){return arguments[3];}).bind(null, 0)('a','b','c')\"),\n       njs_str(\"c\") },\n\n    { njs_str(\"function sum() { var args = Array.prototype.slice.call(arguments); \"\n                 \"return args.reduce(function(prev, curr) {return prev + curr})};\"\n                 \"[sum(1), sum(1,2), sum(1,2,3), sum(1,2,3,4)]\"),\n      njs_str(\"1,3,6,10\") },\n\n    { njs_str(\"function concat(sep) { var args = Array.prototype.slice.call(arguments, 1); \"\n                 \"return args.join(sep)};\"\n                 \"[concat('.',1,2,3), concat('+',1,2,3,4)]\"),\n      njs_str(\"1.2.3,1+2+3+4\") },\n\n    /* strict mode restrictions */\n\n    { njs_str(\"(function() {}).caller\"),\n      njs_str(\"TypeError: \\\"caller\\\", \\\"callee\\\", \\\"arguments\\\" properties may not be accessed\") },\n\n    { njs_str(\"(function() {}).arguments\"),\n      njs_str(\"TypeError: \\\"caller\\\", \\\"callee\\\", \\\"arguments\\\" properties may not be accessed\") },\n\n    { njs_str(\"var desc = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Math.min), 'caller');\"\n              \"desc.get === desc.set\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var desc = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Math.min), 'caller');\"\n              \"1/desc.get\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var p = Object.getPrototypeOf(function() {});\"\n              \"var d = Object.getOwnPropertyDescriptor(p, 'caller');\"\n              \"typeof d.get == 'function' && typeof d.get == typeof d.set\"\n              \"                           && d.configurable && !d.enumerable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var p = Object.getPrototypeOf(function() {});\"\n              \"var d = Object.getOwnPropertyDescriptor(p, 'arguments');\"\n              \"typeof d.get == 'function' && typeof d.get == typeof d.set\"\n              \"                           && d.configurable && !d.enumerable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(function(){return arguments.callee;})()\"),\n      njs_str(\"TypeError: \\\"caller\\\", \\\"callee\\\", \\\"arguments\\\" properties may not be accessed\") },\n\n    { njs_str(\"var f = function() { return arguments; };\"\n              \"Object.getOwnPropertyDescriptor(f(), 'caller')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var f = function() { return arguments; };\"\n              \"var d = Object.getOwnPropertyDescriptor(f(), 'callee');\"\n              \"typeof d.get == 'function' && typeof d.get == typeof d.set\"\n              \"                           && !d.configurable && !d.enumerable\"),\n      njs_str(\"true\") },\n\n    /* rest parameters. */\n\n    { njs_str(\"function myFoo(a,b,...other) { return other };\"\n                 \"myFoo(1,2,3,4,5);\" ),\n      njs_str(\"3,4,5\") },\n\n    { njs_str(\"function myFoo(a,b,...other, c) { return other };\"),\n      njs_str(\"SyntaxError: Rest parameter must be last formal parameter in 1\") },\n\n    { njs_str(\"function sum(a, b, c, ...other) { return a+b+c+other[2] };\"\n                 \"sum(\\\"one \\\",2,\\\" three \\\",\\\"four \\\",\\\"five \\\",\\\"the long enough sixth argument \\\");\"),\n      njs_str(\"one 2 three the long enough sixth argument \") },\n\n    { njs_str(\"function myFoo1(a,...other) { return other };\"\n                 \"function myFoo2(a,b,...other) { return other };\"\n                 \"myFoo1(1,2,3,4,5,myFoo2(1,2,3,4));\"),\n      njs_str(\"2,3,4,5,3,4\") },\n\n    { njs_str(\"function myFoo(...other) { return (other instanceof Array) };\"\n                 \"myFoo(1);\" ),\n      njs_str(\"true\") },\n\n    { njs_str(\"function myFoo(a,...other) { return other.length };\"\n                 \"myFoo(1,2,3,4,5);\" ),\n      njs_str(\"4\") },\n\n    { njs_str(\"function myFoo(a,b,...other) { return other };\"\n                 \"myFoo(1,2);\" ),\n      njs_str(\"\") },\n\n    /* arrow functions. */\n\n    { njs_str(\"()\"),\n      njs_str(\"SyntaxError: Unexpected token \\\")\\\" in 1\") },\n\n    { njs_str(\"() => \"),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"() => {\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"a\\n => 1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"=>\\\" in 2\") },\n\n    { njs_str(\"new (()=>1)\"),\n      njs_str(\"TypeError: function is not a constructor\")},\n\n    { njs_str(\"(\\n) => {}\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"a => 1\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"({f:()=>1, g:()=>2}).f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = f => {return 1;}; f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = (f) => {return 1;}; f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = (f, a, b) => {return 1;}; f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = () => {return 1;}; f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(f => {return 1;})()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"((f) => {return 1;})()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(((f) => {return 1;}))()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = f => 1; f()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"() => 1\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"var f = ()=>{}; f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var f = ()=>({}); f()\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var materials = ['Hydrogen', 'Helium', 'Lithium', 'Beryllium'];\"\n                 \"materials.map(material => { return material.length; });\"),\n      njs_str(\"8,6,7,9\") },\n\n    { njs_str(\"var materials = ['Hydrogen', 'Helium', 'Lithium', 'Beryllium'];\"\n                 \"materials.map(material => material.length);\"),\n      njs_str(\"8,6,7,9\") },\n\n    { njs_str(\"var materials = ['Hydrogen', 'Helium', 'Lithium', 'Beryllium'];\"\n                 \"materials.map(material => { material.length });\"),\n      njs_str(\",,,\") },\n\n    { njs_str(\"function f(a, b, c) {a = 1; return () => { return arguments[1]; };};\"\n                 \"f(1, 2, 3)('a', 'b');\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var f = (...c) => { return (function() { return arguments.length; }).bind(null, c); };\"\n                 \"var x = f(1,'a',false, {}); x()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = (...c) => { return (function() { return arguments.length; }).bind(null, c); };\"\n                 \"var x = f(1,'a',false, {}); x(1,2,3)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"function Car(){ this.age = 0; (() => { this.age++;})();}\"\n                 \"(new Car()).age\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"function Car(){ this.age = 0; (function(){ this.age++;})();}\"\n                 \"(new Car()).age\"),\n      njs_str(\"TypeError: cannot get property \\\"age\\\" of undefined\") },\n\n    /* arrow functions + global this. */\n\n    { njs_str(\"(() => this)()\"),\n      njs_str(\"[object global]\") },\n\n    { njs_str(\"(() => this).call('abc')\"),\n      njs_str(\"[object global]\") },\n\n    { njs_str(\"(() => this).apply('abc')\"),\n      njs_str(\"[object global]\") },\n\n    { njs_str(\"(() => this).bind('abc')()\"),\n      njs_str(\"[object global]\") },\n\n    { njs_str(\"(function() { return (() => this); })()()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"(function() { return (() => this); }).call('abc')()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"(function() { return (() => this); }).bind('abc')()()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"(function() { return (() => this); })\"\n                 \".call('abc').call('bca')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"(function() { return (() => this); })\"\n                 \".call('abc').bind('bca')()\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"(function() { return function() { return () => this; }; })\"\n                 \".call('bca').call('abc')()\"),\n      njs_str(\"abc\") },\n\n     { njs_str(\"var f = () => 1; f.prototype\"),\n       njs_str(\"undefined\") },\n\n     { njs_str(\"var f = (a,b) => 0; f.length\"),\n       njs_str(\"2\") },\n\n    { njs_str(\"var o = Object.create(f => 1); o.length = 3\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"length\\\" of object\") },\n\n    /* Scopes. */\n\n    { njs_str(\"function f(x) { a = x } var a; f(5); a\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"function f(x) { var a = x } var a = 2; f(5); a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"function f(a) { return a } var a = '2'; a + f(5)\"),\n      njs_str(\"25\") },\n\n    { njs_str(\"for (var i = 0; i < 5; i++); i\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"for (var i = 0, j; i < 5; i++); j\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"for (var i = 0, j, k = 3; i < 5; i++); k\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var o = { a: 1, b: 2, c: 3 }, s = ''; \"\n                 \"for (var i in o) { s += i }; s\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"var o = { a: 1, b: 2, c: 3 }; for (var i in o); i\"),\n      njs_str(\"c\") },\n\n    { njs_str(\"var o = {}; i = 7; for (var i in o); i\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var a = [1,2,3]; for (var i in a); i\"),\n      njs_str(\"2\") },\n\n    /* RegExp. */\n\n    { njs_str(\"/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/\\\" in 1\") },\n\n    { njs_str(\"/a\\n/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/a\\\" in 1\") },\n\n    { njs_str(\"/a\\r/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/a\\\" in 1\") },\n\n#ifndef NJS_HAVE_PCRE2\n    { njs_str(\"/a\\\\q/\"),\n      njs_str(\"/a\\\\q/\") },\n#endif\n\n    { njs_str(\"/\\\\\\\\/\"),\n      njs_str(\"/\\\\\\\\/\") },\n\n    { njs_str(\"/\\\\\\\\\\\\/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/\\\\\\\\\\\\/\\\" in 1\") },\n\n    { njs_str(\"/\\\\\\\\\\\\\\\\/\"),\n      njs_str(\"/\\\\\\\\\\\\\\\\/\") },\n\n    { njs_str(\"/\\\\\\\\\\\\//\"),\n      njs_str(\"/\\\\\\\\\\\\//\") },\n\n    { njs_str(\"/[A-Z/]/\"),\n      njs_str(\"/[A-Z/]/\") },\n\n    { njs_str(\"/a/gim\"),\n      njs_str(\"/a/gim\") },\n\n    { njs_str(\"/a/y\"),\n      njs_str(\"/a/y\") },\n\n    { njs_str(\"/[A-Z\\n]/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/[A-Z\\\" in 1\") },\n\n    { njs_str(\"/[A-Z\\\\\\n]/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/[A-Z\\\\\\\" in 1\") },\n\n    { njs_str(\"/\\\\\\n/\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/\\\\\\\" in 1\") },\n\n    { njs_str(\"/./x\"),\n      njs_str(\"SyntaxError: Invalid RegExp flags \\\"x\\\" in 1\") },\n\n    { njs_str(\"/./.exec === RegExp.prototype.exec\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/./['exec'] === RegExp.prototype.exec\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/./[Symbol.replace] === RegExp.prototype[Symbol.replace]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/^[A-Za-z0-9+/]{4}$/.test('////')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'[]!\\\"#$%&\\\\'()*+,.\\\\/:;<=>?@\\\\^_`{|}-'.split('')\"\n                 \".every(ch=>/[\\\\]\\\\[!\\\"#$%&'()*+,.\\\\/:;<=>?@\\\\^_`{|}-]/.test(ch))\"),\n      njs_str(\"true\") },\n\n#ifndef NJS_HAVE_PCRE2\n    { njs_str(\"/a\\\\q/.test('a\\\\q')\"),\n      njs_str(\"true\") },\n#endif\n\n    { njs_str(\"/(\\\\.(?!com|org)|\\\\/)/.test('ah.info')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/(/.test('')\"),\n      njs_str(\"SyntaxError: \"\n              njs_pcre_var(\"pcre_compile2(\\\"(\\\") failed: missing closing parenthesis at \\\"\\\" in 1\",\n                           \"pcre_compile(\\\"(\\\") failed: missing ) in 1\")) },\n\n    { njs_str(\"/+/.test('')\"),\n      njs_str(\"SyntaxError: \"\n              njs_pcre_var(\"pcre_compile2(\\\"+\\\") failed: quantifier does not follow a repeatable item at \\\"+\\\" in 1\",\n                           \"pcre_compile(\\\"+\\\") failed: nothing to repeat at \\\"+\\\" in 1\")) },\n\n    { njs_str(\"/^$/.test('')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = /\\\\d/; a.test('123')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = /\\\\d/; a.test('abc')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"/\\\\d/.test('123')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/\\\\d/.test(123)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/undef/.test()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = { toString: function() { return 123 } };\"\n                 \"/\\\\d/.test(s)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/\\\\d/.test('abc')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"/abc/i.test('ABC')\"),\n      njs_str(\"true\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* FIXME */\n    { njs_str(\"/\u0430\u0431\u0432/i.test('\u0410\u0411\u0412')\"),\n      njs_str(\"true\") },\n#endif\n\n    { njs_str(\"var re = /<(?<key>[\\\\w\\\\-\\\\.\\\\:]+)>(?<body>.*?)<\\\\/\\\\1>/g;\"\n              \"['<A>XXX</A>', '<A>XX</B>'].map(s=>re.test(s))\"),\n      njs_str(\"true,false\") },\n\n    { njs_str(\"/\\\\x80/.test('\\\\u0080')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/\\\\x80/.test('\\\\u0080'.toBytes())\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/\u03b1/.test('\\\\u03B1')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/\u03b1/.test('\\\\u00CE\\\\u00B1'.toBytes())\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/[A-Za-z]/.test('S')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/[A-Za-z]/.test('\u00f8')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var r = /abc/y; r.test('abc'); r.lastIndex\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"/\\\\d/.exec('123')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"/\\\\d/.exec(123)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"/undef/.exec()\"),\n      njs_str(\"undef\") },\n\n    { njs_str(\"var s = { toString: function() { return 123 } };\"\n                 \"/\\\\d/.exec(s)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = /^$/.exec(''); a.length +' '+ a\"),\n      njs_str(\"1 \") },\n\n    { njs_str(\"var r = /3/g; r.exec('123') +' '+ r.exec('3')\"),\n      njs_str(\"3 null\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* FIXME */\n    { njs_str(\"var r = /\u0431\u0432/ig;\"\n                 \"var a = r.exec('\u0410\u0411\u0412');\"\n                 \"r.lastIndex +' '+ a +' '+ \"\n                 \"r.source +' '+ r.source.length +' '+ r\"),\n      njs_str(\"3 \u0411\u0412 \u0431\u0432 2 /\u0431\u0432/gi\") },\n#endif\n\n    { njs_str(\"var r = /\\\\x80/g; r.exec('\\\\u0081\\\\u0080'.toBytes());\"\n              \"r.lastIndex +' '+ r.source +' '+ r.source.length +' '+ r\"),\n      njs_str(\"2 \\\\x80 4 /\\\\x80/g\") },\n\n    { njs_str(\"var r = /_/g; var index = r.exec(String.bytesFrom([255,149,15,97,95])).index;\"\n              \"[index, r.lastIndex]\"),\n      njs_str(\"4,5\") },\n\n    { njs_str(\"var descs = Object.getOwnPropertyDescriptors(RegExp('a'));\"\n              \"Object.keys(descs)\"),\n      njs_str(\"lastIndex\") },\n\n    { njs_str(\"var props = Object.getOwnPropertyDescriptor(RegExp('a'), 'lastIndex');\"\n              \"props.writable && !props.enumerable && !props.configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var re = /a/; re.lastIndex\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var re = /a\u03b1/g; re.exec('a\u03b1'.repeat(32)); re.lastIndex\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var re = new RegExp('\u03b1'.repeat(33), 'g'); re.exec('\u03b1'.repeat(33)); re.lastIndex\"),\n      njs_str(\"33\") },\n\n    { njs_str(\"var re = new RegExp('\u03b1'.repeat(33), 'g'); re.exec('\u03b1'.repeat(33)); \"\n              \"re.lastIndex = 67; re.lastIndex\"),\n      njs_str(\"67\") },\n\n    { njs_str(\"var re = /a/; re.lastIndex = 4; Object.create(re).lastIndex\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var re = /a/g; re.lastIndex = {valueOf(){throw 'Oops'}}; typeof re.lastIndex\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var re = /a/g; re.lastIndex = {valueOf(){throw 'Oops'}}; re.exec('a')\"),\n      njs_str(\"Oops\") },\n\n    { njs_str(\"var re = /a/; Object.defineProperty(re, 'lastIndex', {value:'qq'}); re.lastIndex\"),\n      njs_str(\"qq\") },\n\n    { njs_str(\"var re = /a/; re.lastIndex = 'qq'; Object.create(re).lastIndex\"),\n      njs_str(\"qq\") },\n\n    { njs_str(\"var re = /(?:ab|cd)\\\\d?/g; re.lastIndex=-1; re.test('aacd22 '); re.lastIndex\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var re = /(?:ab|cd)\\\\d?/g; re.lastIndex=-1; re.test('@@'); re.lastIndex\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var r = /a/; var gets = 0;\"\n              \"var counter = { valueOf: function() { gets++; return 0; } };\"\n              \"r.lastIndex = counter;\"\n              \"njs.dump([r.exec('nbc'), r.lastIndex === counter, gets])\"),\n      njs_str(\"[null,true,1]\") },\n\n    /*\n     * It seems that \"/\u0441\u0442\u043e\u043f/ig\" fails on early PCRE versions.\n     * It fails at least in 8.1 and works at least in 8.31.\n     */\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* FIXME */\n    { njs_str(\"var r = /\u0421\u0442\u043e\u043f/ig;\"\n                 \"var a = r.exec('\u0410\u0411\u0412\u0414\u0415\u0401\u0416\u0417\u0418\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042c\u042b\u042a\u042d\u042e\u042f\u0421\u0422\u041e\u041f');\"\n                 \"r.lastIndex +' '+ a +' '+ r.source +' '+ r\"),\n      njs_str(\"35 \u0421\u0422\u041e\u041f \u0421\u0442\u043e\u043f /\u0421\u0442\u043e\u043f/gi\") },\n#endif\n\n    { njs_str(\"var r = /quick\\\\s(brown).+?(jumps)/ig;\"\n                \"var a = r.exec('The Quick Brown Fox Jumps Over The Lazy Dog');\"\n                \"a[0] +' '+ a[1] +' '+ a[2] +' '+ a[3] +' '+ \"\n                \"a.index +' '+ r.lastIndex +' '+ a.input\"),\n      njs_str(\"Quick Brown Fox Jumps Brown Jumps undefined \"\n                 \"4 25 The Quick Brown Fox Jumps Over The Lazy Dog\") },\n\n    { njs_str(\"var r = /a/.exec('a'); ['groups' in r, typeof r.groups]\"),\n      njs_str(\"true,undefined\") },\n\n    { njs_str(\"var r = /(?<m>[0-9]{2})\\\\/(?<d>[0-9]{2})\\\\/(?<y>[0-9]{4})/;\"\n              \"var g = r.exec('12/31/1986').groups;\"\n              \"g.d + '.' + g.m + '.' + g.y\"),\n      njs_str(\"31.12.1986\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* PCRE bug in groups code */\n\n    { njs_str(\"var g = /(?<r>(?<no>no)?(?<yes>yes)?)/.exec('yes').groups;\"\n              \"[Object.keys(g).length,'no' in g, typeof g.no, g.yes, g.r]\"),\n      njs_str(\"3,true,undefined,yes,yes\") },\n#endif\n\n    { njs_str(\"var s; var r = /./g; while (s = r.exec('abc')); s\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"(/\u03b1/).exec('\u03b3\u03b1\u03b2\u03b3').index\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var r = /LS/i.exec(false); r[0]\"),\n      njs_str(\"ls\") },\n\n    { njs_str(\"var r = (/^.+$/mg), s = 'ab\\\\nc'; [r.exec(s), r.exec(s)]\"),\n      njs_str(\"ab,c\") },\n\n    { njs_str(\"var r = (/^.+$/mg); [r.global, r.multiline, r.ignoreCase, r.sticky]\"),\n      njs_str(\"true,true,false,false\") },\n\n    { njs_str(\"['global', 'ignoreCase', 'multiline', 'sticky']\"\n              \".map(v => Object.getOwnPropertyDescriptor(RegExp.prototype, v))\"\n              \".every(desc => (typeof desc.get === 'function' && typeof desc.set === 'undefined'))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var re = /./, re2 = /./y; re.lastIndex = 1; re2.lastIndex = 1;\"\n              \"[re.exec('abc')[0], re2.exec('abc')[0]]\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"var re = /c/, re2 = /c/y;\"\n              \"njs.dump([re.exec('abc')[0], re2.exec('abc')])\"),\n      njs_str(\"['c',null]\") },\n\n    { njs_str(\"['global', 'ignoreCase', 'multiline']\"\n              \".map(v => Object.getOwnPropertyDescriptor(RegExp.prototype, v))\"\n              \".every(desc => (typeof desc.get === 'function' && typeof desc.set === 'undefined'))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var r = /./; r\"),\n      njs_str(\"/./\") },\n\n    { njs_str(\"var r = new RegExp(); r\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"var r = new RegExp('.'); r\"),\n      njs_str(\"/./\") },\n\n    { njs_str(\"var r = new RegExp('.', 'igm'); r\"),\n      njs_str(\"/./gim\") },\n\n    { njs_str(\"var r = new RegExp('.', 'y'); r\"),\n      njs_str(\"/./y\") },\n\n    { njs_str(\"var r = new RegExp('abc'); r.test('00abc11')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var r = new RegExp('abc', 'i'); r.test('00ABC11')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp('\u03b1'.repeat(33)).toString()[32]\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"new RegExp('', 'x')\"),\n      njs_str(\"SyntaxError: Invalid RegExp flags \\\"x\\\"\") },\n\n    { njs_str(\"new RegExp('', 'g ')\"),\n      njs_str(\"SyntaxError: Invalid RegExp flags \\\"g \\\"\") },\n\n    { njs_str(\"new RegExp('', '')\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"new RegExp('', {toString:()=>'g'})\"),\n      njs_str(\"/(?:)/g\") },\n\n    { njs_str(\"RegExp({})\"),\n      njs_str(\"/[object Object]/\") },\n\n    { njs_str(\"RegExp(true)\"),\n      njs_str(\"/true/\") },\n\n    { njs_str(\"RegExp(undefined)\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"RegExp('abc', undefined)\"),\n      njs_str(\"/abc/\") },\n\n    { njs_str(\"RegExp('abc', {})\"),\n      njs_str(\"SyntaxError: Invalid RegExp flags \\\"[object Object]\\\"\") },\n\n    { njs_str(\"RegExp(/expr/)\"),\n      njs_str(\"/expr/\") },\n\n    { njs_str(\"RegExp(/expr/i).ignoreCase\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp(/expr/, 'x')\"),\n      njs_str(\"SyntaxError: Invalid RegExp flags \\\"x\\\"\") },\n\n    { njs_str(\"RegExp(new RegExp('expr'))\"),\n      njs_str(\"/expr/\") },\n\n    { njs_str(\"RegExp(new RegExp('expr')).multiline\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"RegExp(new RegExp('expr'), 'm').multiline\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new RegExp('[')\"),\n      njs_str(\"SyntaxError: \"\n              njs_pcre_var(\"pcre_compile2(\\\"[\\\") failed: missing terminating ] for character class at \\\"\\\"\",\n                           \"pcre_compile(\\\"[\\\") failed: missing terminating ] for character class\")) },\n\n    { njs_str(\"new RegExp('['.repeat(16))\"),\n      njs_str(\"SyntaxError: \"\n              njs_pcre_var(\"pcre_compile2(\\\"[[[[[[[[[[[[[[[[\\\") failed: missing terminating ] for character class at \\\"\\\"\",\n                           \"pcre_compile(\\\"[[[[[[[[[[[[[[[[\\\") failed: missing terminating ] for character class\")) },\n\n    { njs_str(\"new RegExp('\\\\\\\\')\"),\n      njs_str(\"SyntaxError: \"\n              njs_pcre_var(\"pcre_compile2(\\\"\\\\\\\") failed: \\\\ at end of pattern at \\\"\\\"\",\n                           \"pcre_compile(\\\"\\\\\\\") failed: \\\\ at end of pattern\")) },\n\n    { njs_str(\"[0].map(RegExp().toString)\"),\n      njs_str(\"TypeError: \\\"this\\\" argument is not an object\") },\n\n    { njs_str(\"var arr = /\\\\1(A)/.exec('AA');\"\n              \"[arr[0], arr[1]]\"),\n      njs_str(\"A,A\") },\n\n    /* Non-standard ECMA-262 features. */\n\n    /* 0x10400 is not a surrogate pair of 0xD801 and 0xDC00. */\n\n    { njs_str(\"var chars = '\ud801\udc00'; chars.length +' '+ chars.charCodeAt(0)\"),\n      njs_str(\"1 66560\") },\n\n    /* es5id: 6.1, 0x104A0 is not a surrogate pair of 0xD801 and 0xDCA0. */\n\n    { njs_str(\"var chars = '\ud801\udca0'; chars.length +' '+ chars.charCodeAt(0)\"),\n      njs_str(\"1 66720\") },\n\n    /* Error object. */\n\n    { njs_str(\"Error()\"),\n      njs_str(\"Error\") },\n\n    { njs_str(\"new Error()\"),\n      njs_str(\"Error\") },\n\n    { njs_str(\"Error('e')\"),\n      njs_str(\"Error: e\") },\n\n    { njs_str(\"Error(123)\"),\n      njs_str(\"Error: 123\") },\n\n    { njs_str(\"Error({toString(){return 'e'}})\"),\n      njs_str(\"Error: e\") },\n\n    { njs_str(\"Error([1,'\u03b1'])\"),\n      njs_str(\"Error: 1,\u03b1\") },\n\n    { njs_str(\"var e = TypeError(Error('e')); e\"),\n      njs_str(\"TypeError: Error: e\") },\n\n    { njs_str(\"Error('\u03b1'.repeat(33)).toString().length\"),\n      njs_str(\"40\") },\n\n    { njs_str(\"var e = Error('e'); e.name = {toString(){return 'E'}}; e\"),\n      njs_str(\"E: e\") },\n\n    { njs_str(\"var e = Error('e'); Object.defineProperty(e, 'name', {get(){return 'E'}}); e\"),\n      njs_str(\"E: e\") },\n\n    { njs_str(\"var e = Error('e'); e.name = ''; e\"),\n      njs_str(\"e\") },\n\n    { njs_str(\"var e = Error(); e.name = ''; e\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var e = Error(); e.name = ''; e.message = 'e'; e\"),\n      njs_str(\"e\") },\n\n    { njs_str(\"Error('e').name + ': ' + Error('e').message\"),\n      njs_str(\"Error: e\") },\n\n    { njs_str(\"Error(String.bytesFrom(Array(1).fill(0x9d))).toString().length\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var e = Error('\u03b1'); e.name = String.bytesFrom(Array(1).fill(0x9d)); \"\n              \"e.toString().length\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"Error(1)\"),\n      njs_str(\"Error: 1\") },\n\n    { njs_str(\"Error.__proto__ == Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Error.prototype.name\"),\n      njs_str(\"Error\") },\n\n    { njs_str(\"Error.prototype.message\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Error.prototype.constructor == Error\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Error.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Error().__proto__ == Error.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Error().__proto__.__proto__ == Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Error.prototype.message = 'm';\"\n              \"Error.prototype.name = 'n';\"\n              \"new Error()\"),\n      njs_str(\"n: m\") },\n\n    { njs_str(\"var e = RangeError('e'); Object.preventExtensions(e);e\"),\n      njs_str(\"RangeError: e\") },\n\n    /* AggregateError. */\n\n    { njs_str(\"AggregateError()\"),\n      njs_str(\"TypeError: first argument is not iterable\") },\n\n    { njs_str(\"AggregateError([1, 2, 3])\"),\n      njs_str(\"AggregateError\") },\n\n    { njs_str(\"let e = AggregateError([1, 2, 3], 'm'); e.message\"),\n      njs_str(\"m\") },\n\n    { njs_str(\"let e = AggregateError([1, 2, 3], 'm'); e.errors\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"let e = AggregateError('abc'); e.errors\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"let e = AggregateError([1, 2, 3], 'm'); e\"),\n      njs_str(\"AggregateError: m\") },\n\n    /* Memory object is immutable. */\n\n    { njs_str(\"var e = MemoryError('e'); e.name = 'E'\"),\n      njs_str(\"TypeError: Cannot add property \\\"name\\\", object is not extensible\") },\n\n    { njs_str(\"EvalError.prototype.name\"),\n      njs_str(\"EvalError\") },\n\n    { njs_str(\"InternalError.prototype.name\"),\n      njs_str(\"InternalError\") },\n\n    { njs_str(\"RangeError.prototype.name\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"ReferenceError.prototype.name\"),\n      njs_str(\"ReferenceError\") },\n\n    { njs_str(\"SyntaxError.prototype.name\"),\n      njs_str(\"SyntaxError\") },\n\n    { njs_str(\"TypeError.prototype.name\"),\n      njs_str(\"TypeError\") },\n\n    { njs_str(\"URIError.prototype.name\"),\n      njs_str(\"URIError\") },\n\n    { njs_str(\"MemoryError.prototype.name\"),\n      njs_str(\"InternalError\") },\n\n\n    /* NativeErrors. */\n\n    { njs_str(\n        \"var global = this;\"\n        \"function isValidNativeError(e) {\"\n        \"   var inst;\"\n        \"   var proto = Object.getPrototypeOf(e) === Error;\"\n        \"   var proto2 = e.__proto__ === Error;\"\n        \"   var iproto = e().__proto__ === e.prototype;\"\n        \"   var iproto2 = e().__proto__.__proto__ === Error.prototype;\"\n        \"   var tpof = typeof e() === 'object';\"\n        \"   var ctor = e.prototype.constructor === e;\"\n        \"   var msg = e.prototype.message === '';\"\n        \"   var name = e('e').toString() === `${e.prototype.name}: e`;\"\n        \"   var name2 = (inst = e('e'), inst.name = 'E', inst.toString() === 'E: e');\"\n        \"   var name3 = (inst = e('e'), inst.name = '', inst.toString() === 'e');\"\n        \"   var name4 = e().toString() === `${e.prototype.name}`;\"\n        \"   var name_prop = Object.getOwnPropertyDescriptor(e.prototype, 'message');\"\n        \"   name_prop = name_prop.writable && !name_prop.enumerable && name_prop.configurable;\"\n        \"   var own_proto_ctor = e.prototype.hasOwnProperty('constructor');\"\n        \"   var props = Object.getOwnPropertyDescriptor(global, e.prototype.name);\"\n        \"   props = props.writable && !props.enumerable && props.configurable;\"\n        \"   var same = e === global[e.prototype.name];\"\n        \"\"\n        \"   return proto && proto2 && iproto && iproto2 \"\n        \"          && tpof && ctor && msg && name && name2 && name3 && name4 \"\n        \"          && name_prop && own_proto_ctor && props && same;\"\n        \"};\"\n        \"[\"\n        \"  EvalError,\"\n        \"  InternalError,\"\n        \"  RangeError,\"\n        \"  ReferenceError,\"\n        \"  SyntaxError,\"\n        \"  TypeError,\"\n        \"  URIError,\"\n        \"].every(e => isValidNativeError(e))\"),\n      njs_str(\"true\") },\n\n    /* Exceptions. */\n\n    { njs_str(\"throw null\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"var a; try { throw null } catch (e) { a = e } a\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"var a; try { throw Error('e') } catch (e) { a = e.message } a\"),\n      njs_str(\"e\") },\n\n    { njs_str(\"var a; try { NaN.toString(NaN) } catch (e) { a = e.name } a\"),\n      njs_str(\"RangeError\") },\n\n    { njs_str(\"try { throw null } catch (e) { throw e }\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"try { throw Error('e') } catch (e) { throw Error(e.message + '2') }\"),\n      njs_str(\"Error: e2\") },\n\n    { njs_str(\"try { throw null } catch (null) { throw e }\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"null\\\" in 1\") },\n\n    { njs_str(\"'a'.f()\"),\n      njs_str(\"TypeError: (intermediate value)[\\\"f\\\"] is not a function\") },\n\n    { njs_str(\"1..f()\"),\n      njs_str(\"TypeError: (intermediate value)[\\\"f\\\"] is not a function\") },\n\n    { njs_str(\"try {}\"),\n      njs_str(\"SyntaxError: Missing catch or finally after try in 1\") },\n\n    { njs_str(\"try{}catch(a[]\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"[\\\" in 1\") },\n\n    { njs_str(\"function f(a) {return a;}; \"\n                 \"function thrower() {throw TypeError('Oops')}; \"\n                 \"f(thrower())\"),\n      njs_str(\"TypeError: Oops\") },\n\n    { njs_str(\"var a = 0; try { a = 5 }\"\n                 \"catch (e) { a = 9 } finally { a++ } a\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = 0; try { throw 3 }\"\n                 \"catch (e) { a = e } finally { a++ } a\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var a = 0; try { throw 3 }\"\n                 \"catch (e) { throw e + 1 } finally { a++ }\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"var a = 0; try { throw 3 }\"\n                 \"catch (e) { a = e } finally { throw a }\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"try { throw null } catch (e) { } finally { }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 0; try { throw 3 }\"\n                 \"catch (e) { throw 4 } finally { throw a }\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = 0; try { a = 5 } finally { a++ } a\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = 0; try { throw 5 } finally { a++ }\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a = 0; try { a = 5 } finally { throw 7 }\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"function f(a) {\"\n                 \"   if (a > 1) return f(a - 1);\"\n                 \"   throw 9; return a }\"\n                 \"var a = 0; try { a = f(5); a++ } catch(e) { a = e } a\"),\n      njs_str(\"9\") },\n\n    { njs_str(\"var a; try { try { throw 5 } catch (e) { a = e } throw 3 }\"\n                 \"       catch(x) { a += x } a\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"throw\\nnull\"),\n      njs_str(\"SyntaxError: Illegal newline after throw in 2\") },\n\n    { njs_str(\"for (var x in [1,2]) { try{ continue; } catch(e) {} } throw 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"for (var x in [1,2]) { try{ break; } catch(e) {} } throw 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"try\\n {\\n continue; } catch(e) {}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 3\") },\n\n    { njs_str(\"var a = 1; \"\n                 \"switch (a) {\"\n                 \"default:\"\n                 \"  try\\n {\\n continue; } \"\n                 \"  catch(e) {}\"\n                 \"}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 3\") },\n\n    { njs_str(\"try\\n {\\n break; } catch(e) {}\"),\n      njs_str(\"SyntaxError: Illegal break statement in 3\") },\n\n    { njs_str(\"try\\n { }\\n catch(e) {continue;}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 3\") },\n\n    { njs_str(\"try { } catch(e) {break;}\"),\n      njs_str(\"SyntaxError: Illegal break statement in 1\") },\n\n    { njs_str(\"try { continue; } finally {}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 1\") },\n\n    { njs_str(\"try { break; } finally {}\"),\n      njs_str(\"SyntaxError: Illegal break statement in 1\") },\n\n    { njs_str(\"try\\n {\\n try\\n {\\n continue; } finally {} } finally {}\"),\n      njs_str(\"SyntaxError: Illegal continue statement in 5\") },\n\n    /* break from try in try/catch. */\n\n    { njs_str(\"function f(n) {\"\n                 \"    var pre = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (n == 'b') {break;}\"\n                 \"        }\"\n                 \"        catch (e) {};\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, post];\"\n                 \"}; njs.dump([f(),f('b')])\"),\n      njs_str(\"[[3,3],\"\n                  \"[1,0]]\") },\n\n    { njs_str(\"function f(v, n) {\"\n                 \"    var pre = 0; var post = 0; var case2 = 0;\"\n                 \"    switch (v) {\"\n                 \"    case 1: \"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (n == 'b') {break;}\"\n                 \"        }\"\n                 \"        catch (e) {};\"\n                 \"        post++;\"\n                 \"        break;\"\n                 \"    default:\"\n                 \"        case2++;\"\n                 \"    }\"\n                 \"    return [pre, post, case2];\"\n                 \"}; njs.dump([f(),f(1)])\"),\n      njs_str(\"[[0,0,1],\"\n                  \"[1,1,0]]\") },\n\n    /* continue from try in try/catch. */\n\n    { njs_str(\"function f(n) {\"\n                 \"    var pre = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (n == 'c') {continue;}\"\n                 \"        }\"\n                 \"        catch (e) {};\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, post];\"\n                 \"}; njs.dump([f(),f('c')])\"),\n      njs_str(\"[[3,3],\"\n                  \"[3,0]]\") },\n\n    /* Multiple break/continue from try in try/catch. */\n\n    { njs_str(\"function f(n) {\"\n                 \"    var pre = 0; var mid = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (n == 'c') {continue;}\"\n                 \"            if (n == 'b') {break;}\"\n                 \"            mid++;\"\n                 \"            if (n == 'c2') {continue;}\"\n                 \"            if (n == 'b2') {break;}\"\n                 \"        }\"\n                 \"        catch (e) {};\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, mid, post];\"\n                 \"}; njs.dump([f(),f('c'),f('b'),f('c2'),f('b2')])\"),\n      njs_str(\"[[3,3,3],\"\n                  \"[3,0,0],\"\n                  \"[1,0,0],\"\n                  \"[3,3,0],\"\n                  \"[1,1,0]]\") },\n\n    /* Multiple break/continue from catch in try/catch. */\n\n    { njs_str(\"function f(t, n) {\"\n                 \"    var pre = 0; var mid = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (t) {throw 'a'}\"\n                 \"        }\"\n                 \"        catch (e) {\"\n                 \"            if (n == 'c') {continue;}\"\n                 \"            if (n == 'b') {break;}\"\n                 \"            mid++;\"\n                 \"            if (n == 'c2') {continue;}\"\n                 \"            if (n == 'b2') {break;}\"\n                 \"        };\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, mid, post];\"\n                 \"}; njs.dump([f(), f(1), f(1, 'c'), f(1, 'b'), f(1, 'c2'), f(1, 'b2')])\"),\n      njs_str(\"[[3,0,3],\"\n                  \"[3,3,3],\"\n                  \"[3,0,0],\"\n                  \"[1,0,0],\"\n                  \"[3,3,0],\"\n                  \"[1,1,0]]\") },\n\n    /* break from try in try/finally. */\n\n    { njs_str(\"function f(n) {\"\n                 \"    var pre = 0; var mid = 0; var fin = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (n == 'c') {continue;}\"\n                 \"            if (n == 'b') {break;}\"\n                 \"            mid++;\"\n                 \"            if (n == 'c2') {continue;}\"\n                 \"            if (n == 'b2') {break;}\"\n                 \"        }\"\n                 \"        finally {fin++};\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, mid, fin, post];\"\n                 \"}; njs.dump([f(),f('c'),f('b'),f('c2'),f('b2')])\"),\n      njs_str(\"[[3,3,3,3],\"\n                  \"[3,0,3,0],\"\n                  \"[1,0,1,0],\"\n                  \"[3,3,3,0],\"\n                  \"[1,1,1,0]]\") },\n\n    /* Multiple break/continue from try in try/catch/finally. */\n\n    { njs_str(\"function f(n) {\"\n                 \"    var pre = 0; var mid = 0; var fin = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try { \"\n                 \"            if (n == 'c') {continue;}\"\n                 \"            if (n == 'b') {break;}\"\n                 \"            mid++;\"\n                 \"            if (n == 'c2') {continue;}\"\n                 \"            if (n == 'b2') {break;}\"\n                 \"        }\"\n                 \"        catch (e) {}\"\n                 \"        finally {fin++};\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, mid, fin, post];\"\n                 \"}; njs.dump([f(),f('c'),f('b'),f('c2'),f('b2')])\"),\n      njs_str(\"[[3,3,3,3],\"\n                  \"[3,0,3,0],\"\n                  \"[1,0,1,0],\"\n                  \"[3,3,3,0],\"\n                  \"[1,1,1,0]]\") },\n\n    /* Multiple break/continue from catch in try/catch/finally. */\n\n    { njs_str(\"function f(t, n) {\"\n                 \"    var pre = 0; var mid = 0; var fin = 0; var post = 0;\"\n                 \"    for (var x in [1, 2, 3]) {\"\n                 \"        pre++;\"\n                 \"        try {if (t) {throw 'a'}}\"\n                 \"        catch (e) { \"\n                 \"            if (n == 'c') {continue;}\"\n                 \"            if (n == 'b') {break;}\"\n                 \"            mid++;\"\n                 \"            if (n == 'c2') {continue;}\"\n                 \"            if (n == 'b2') {break;}\"\n                 \"        }\"\n                 \"        finally {fin++};\"\n                 \"        post++\"\n                 \"    }\"\n                 \"    return [pre, mid, fin, post];\"\n                 \"}; njs.dump([f(), f(1), f(1, 'c'), f(1, 'b'), f(1, 'c2'), f(1, 'b2')])\"),\n      njs_str(\"[[3,0,3,3],\"\n                  \"[3,3,3,3],\"\n                  \"[3,0,3,0],\"\n                  \"[1,0,1,0],\"\n                  \"[3,3,3,0],\"\n                  \"[1,1,1,0]]\") },\n\n    /* Multiple return from try. */\n\n    { njs_str(\"var r = 0; \"\n                 \"function f(i, n) {\"\n                 \"   try { \"\n                 \"      var a = 'x'; \"\n                 \"      if (i != 0) {\"\n                 \"         return a.repeat(n);\"\n                 \"      } else {\"\n                 \"         return;\"\n                 \"      }\"\n                 \"   }\"\n                 \"   catch (e) {  } \"\n                 \"   finally { r++; }};\"\n                 \"[f(1,1), f(1,2), f(0), r]\"),\n      njs_str(\"x,xx,,3\") },\n\n    { njs_str(\"var r = 0; \"\n                 \"function f(i) {\"\n                 \"   try { \"\n                 \"      return i;\"\n                 \"   }\"\n                 \"   catch (e) {  } \"\n                 \"   finally { r++; }};\"\n                 \"[f(true), f(false), r]\"),\n      njs_str(\"true,false,2\") },\n\n    /* Multiple return from catch. */\n\n    { njs_str(\"var r = 0; \"\n                 \"function f(i, n) {\"\n                 \"   try { \"\n                 \"      throw 1;\"\n                 \"   }\"\n                 \"   catch (e) {  \"\n                 \"      var a = 'x'; \"\n                 \"      if (i != 0) {\"\n                 \"         return a.repeat(n);\"\n                 \"      } else {\"\n                 \"         return;\"\n                 \"      }\"\n                 \"   } \"\n                 \"   finally { r++; }};\"\n                 \"[f(1,1), f(1,2), f(0), r]\"),\n      njs_str(\"x,xx,,3\") },\n\n    /* return overrun by finally. */\n\n    { njs_str(\"function f() {\"\n                 \"   try { \"\n                 \"      return 'a';\"\n                 \"   }\"\n                 \"   catch (e) {  \"\n                 \"   } \"\n                 \"   finally { \"\n                 \"      return 'b'; \"\n                 \"   }}; \"\n                 \"f()\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"(function (f, val) { \"\n                 \"  try { return f(val); } \"\n                 \"  finally { return val; }\"\n                 \"})(function () {throw 'a'}, 'v')\"),\n      njs_str(\"v\") },\n\n    { njs_str(\"(function() { try { return ['a'];} finally {} } )()\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"function f(){}; try {f((new RegExp('a**')))} catch (e) { }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){}; try {f(f((new RegExp('a**'))))} catch (e) { }\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f(){}; (function(){try {f(f((new RegExp('a**'))))} catch (e) { return 1}})()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var before, during, after;\"\n              \"\"\n              \"try {\"\n              \"    throw 'exception';\"\n              \"} catch (err) {\"\n              \"    before = err;\"\n              \"\"\n              \"    for (var err in { name: null }) {\"\n              \"        during = err;\"\n              \"    }\"\n              \"\"\n              \"    after = err;\"\n              \"}\"\n              \"\"\n              \"[before === 'exception', during === 'name', after === 'name']\"),\n      njs_str(\"true,true,true\") },\n\n    { njs_str(\"var arr = [];\"\n              \"foo = \\\"outside\\\";\"\n              \"\"\n              \"try {\"\n              \"    throw new Error();\"\n              \"}\"\n              \"catch (foo) {\"\n              \"    var foo = \\\"inside\\\";\"\n              \"    arr.push(foo);\"\n              \"}\"\n              \"\"\n              \"arr.push(foo);\"\n              \"arr\"),\n      njs_str(\"inside,outside\") },\n\n    { njs_str(\"var o = { valueOf: function() { return '3' } }; --o\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = { valueOf: function() { return [3] } }; --o\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var o = { valueOf: function() { return '3' } }; 10 - o\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var o = { valueOf: function() { return [3] } }; 10 - o\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var o = { toString: function() { return 'OK' } }; 'o:' + o\"),\n      njs_str(\"o:OK\") },\n\n    { njs_str(\"var o = { toString: function() { return [1] } }; o\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"var o = { toString: function() { return [1] } }; 'o:' + o\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n\n    { njs_str(\"var a = { valueOf: function() { return '3' } };\"\n                 \"var b = { toString: function() { return 10 - a + 'OK' } };\"\n                 \"var c = { toString: function() { return b + 'YES' } };\"\n                 \"'c:' + c\"),\n      njs_str(\"c:7OKYES\") },\n\n    { njs_str(\"[1,2,3].valueOf()\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var o = { valueOf: function() { return 'OK' } };\"\n                 \"o.valueOf()\"),\n      njs_str(\"OK\") },\n\n    { njs_str(\"false.__proto__ === true.__proto__\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0..__proto__ === 1..__proto__\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[].__proto__ === [1,2].__proto__\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/./.__proto__ === /a/.__proto__\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"''.__proto__ === 'abc'.__proto__\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[].__proto__.join.call([1,2,3], ':')\"),\n      njs_str(\"1:2:3\") },\n\n    { njs_str(\"''.__proto__.concat.call('a', 'b', 'c')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"/./.__proto__.test.call(/a{2}/, 'aaa')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"true instanceof Boolean\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1 instanceof Number\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'' instanceof String\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"({}) instanceof Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[] instanceof []\"),\n      njs_str(\"TypeError: right argument is not callable\") },\n\n    { njs_str(\"[] instanceof Array\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[] instanceof Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/./ instanceof RegExp\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/./ instanceof Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.defineProperty(Function.prototype, \\\"prototype\\\", {get: ()=>Array.prototype});\"\n                 \"[] instanceof Function.prototype\"),\n      njs_str(\"true\") },\n\n     { njs_str(\"Object.defineProperty(Function.prototype, \\\"prototype\\\", {get: ()=>{throw Error('Oops')}});\"\n                 \"[] instanceof Function.prototype\"),\n      njs_str(\"Error: Oops\") },\n\n     { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'foo', { get: function() {return () => 1} });\"\n                 \"o.foo()\"),\n      njs_str(\"1\") },\n\n    /* global this. */\n\n    { njs_str(\"this\"),\n      njs_str(\"[object global]\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(this, 'NaN').value\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptors(this).NaN.value\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(this).includes('NaN')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"this.a = 1; this.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"this.a = 1; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"this.a = 2; this.b = 3; a * b - a\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"this.a = 1; a()\"),\n      njs_str(\"TypeError: number is not a function\") },\n\n    { njs_str(\"this.a = ()=>1; a()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = 1; this.a = 42; a\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"var a = 1; global.a = 42; a\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"var a = 1; globalThis.a = 42; a\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"global.a = 1; globalThis.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = {}; globalThis.a === a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"globalThis.a = 1; var a; a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var count = 0; function f() {return ++count}; [f(), global.f()]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"Object.defineProperty(global, 'a', {value:1}); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperty(global, 'a', {get:()=>123}); a\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"Object.defineProperties(global, {a:{value:1}, b:{value:2}}); [a,b]\"),\n      njs_str(\"1,2\") },\n\n#if 0 /* FIXME: for scope. */\n    { njs_str(\"var r1 = global.a; for (var a = 1; false;) {}; [r1, global.a]\"),\n      njs_str(\",\") },\n#endif\n\n    { njs_str(\"var global = this;\"\n              \"function isImmutableConstant(v) {\"\n              \"    var d = Object.getOwnPropertyDescriptor(global, v);\"\n              \"    return !d.writable && !d.enumerable && !d.configurable;\"\n              \"};\"\n              \"['undefined', 'NaN', 'Infinity'].every((v)=>isImmutableConstant(v))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"this.undefined = 42\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"undefined\\\" of object\") },\n\n    { njs_str(\"this.Infinity = 42\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"Infinity\\\" of object\") },\n\n    { njs_str(\"this.NaN = 42\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"NaN\\\" of object\") },\n\n    { njs_str(\"typeof this.undefined\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"typeof this.Infinity\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"this.Infinity + 1\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"typeof this.NaN\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"this.NaN + 1\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"{this}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"if (1) {new this}\"),\n      njs_str(\"TypeError: object is not a function\") },\n\n    { njs_str(\"if (1) {this()}\"),\n      njs_str(\"TypeError: object is not a function\") },\n\n    { njs_str(\"var ex; try {new this} catch (e) {ex = e}; ex\"),\n      njs_str(\"TypeError: object is not a function\") },\n\n    { njs_str(\"var ex; try {({}) instanceof this} catch (e) {ex = e}; ex\"),\n      njs_str(\"TypeError: right argument is not callable\") },\n\n    { njs_str(\"njs\"),\n      njs_str(\"[object njs]\") },\n\n    { njs_str(\"var o = Object(); o\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var o = new Object(); o\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var o = new Object(1); o\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {}; o === Object(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {}; o === new Object(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object([]); Object.prototype.toString.call(o)\"),\n      njs_str(\"[object Array]\") },\n\n    { njs_str(\"Object.name\"),\n      njs_str(\"Object\") },\n\n    { njs_str(\"Object.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.constructor === Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.__proto__ === null\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.__proto__ = {}\"),\n      njs_str(\"TypeError: Cyclic __proto__ value\") },\n\n    { njs_str(\"var o = {}; var o2 = Object.create(o); o.__proto__ = o2\"),\n      njs_str(\"TypeError: Cyclic __proto__ value\") },\n\n    { njs_str(\"Object.prototype.__proto__.f()\"),\n      njs_str(\"TypeError: cannot get property \\\"f\\\" of undefined\") },\n\n    { njs_str(\"var obj = Object.create(null); obj.one = 1;\"\n                 \"var res = [];\"\n                 \"for (var val in obj) res.push(val); res\"),\n      njs_str(\"one\") },\n\n    { njs_str(\"var o1 = Object.create(null); o1.one = 1;\"\n                 \"var o2 = Object.create(o1); o2.two = 2;\"\n                 \"var o3 = Object.create(o2); o3.three = 3;\"\n                 \"var res = [];\"\n                 \"for (var val in o3) res.push(val); res\"),\n      njs_str(\"three,two,one\") },\n\n    { njs_str(\"var o1 = Object.create(null); o1.one = 1;\"\n                 \"var o2 = Object.create(o1);\"\n                 \"var o3 = Object.create(o2); o3.three = 3;\"\n                 \"var res = [];\"\n                 \"for (var val in o3) res.push(val); res\"),\n      njs_str(\"three,one\") },\n\n    { njs_str(\"var o1 = Object.create(null); o1.one = 1;\"\n                 \"var o2 = Object.create(o1);\"\n                 \"var o3 = Object.create(o2);\"\n                 \"var res = [];\"\n                 \"for (var val in o3) res.push(val); res\"),\n      njs_str(\"one\") },\n\n    { njs_str(\"var o1 = Object.create(null); o1.one = 1;\"\n                 \"var o2 = Object.create(o1); o2.two = 2;\"\n                 \"var o3 = Object.create(o2); o3.three = 3;\"\n                 \"o3.two = -2; o3.one = -1;\"\n                 \"var res = [];\"\n                 \"for (var val in o3) res.push(val); res\"),\n      njs_str(\"three,two,one\") },\n\n    { njs_str(\"var a = []; for(var p in 'abc') a.push(p); a\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var a = []; for(var p in Object('abc')) a.push(p); a\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var o = Object('abc'); var x = Object.create(o);\"\n                 \"x.a = 1; x.b = 2;\"\n                 \"var a = []; for(var p in x) a.push(p); a\"),\n      njs_str(\"a,b,0,1,2\") },\n\n    { njs_str(\"var o = Object.create(Math); o.abs = -5; Math.abs(o.abs)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"Object.prototype.toString.call(Object.prototype)\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Array)\"),\n      njs_str(\"[object Array]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new URIError)\"),\n      njs_str(\"[object Error]\") },\n\n    { njs_str(\"Object.prototype.toString.call(URIError.prototype)\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"Object.prototype\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"Object.prototype.valueOf.prototype\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.prototype.valueOf.call()\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"Object.prototype.valueOf.call(null)\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"[false, NaN, Symbol(), '']\"\n              \".map((x) => Object.prototype.valueOf.call(x))\"\n              \".map((x) => Object.prototype.toString.call(x))\"),\n      njs_str(\"[object Boolean],[object Number],[object Symbol],[object String]\") },\n\n    { njs_str(\"Object.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}).__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}).__proto__ = 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"({}).__proto__ = null\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"({__proto__:null}).__proto__\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"({__proto__:null, a:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.getPrototypeOf({__proto__:null})\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"Object.getPrototypeOf({__proto__:1}) === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getPrototypeOf({__proto__:Array.prototype}) === Array.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({__proto__: []}) instanceof Array\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({__proto__: Array.prototype}) instanceof Array\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {};\"\n              \"o.__proto__ = Array.prototype;\"\n              \"Object.getPrototypeOf(o) === Array.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.preventExtensions({});\"\n              \"o.__proto__ = Array.prototype;\"\n              \"Object.getPrototypeOf(o) === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {__proto__: Array.prototype, length:3}; o.fill('a')[2]\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"({__proto__:null, __proto__: null})\"),\n      njs_str(\"SyntaxError: Duplicate __proto__ fields are not allowed in object literals in 1\") },\n\n    { njs_str(\"({__proto__:null, '__proto__': null})\"),\n      njs_str(\"SyntaxError: Duplicate __proto__ fields are not allowed in object literals in 1\") },\n\n    { njs_str(\"({__proto__:null, '\\\\x5f_proto__': null})\"),\n      njs_str(\"SyntaxError: Duplicate __proto__ fields are not allowed in object literals in 1\") },\n\n    { njs_str(\"var __proto__ = 'a'; ({__proto__}).__proto__\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"var __proto__ = 'a'; ({__proto__, '__proto__':'b'}).__proto__\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"var __proto__ = 'a'; ({__proto__:null, __proto__}).__proto__\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"({__proto__:null, ['__proto__']:'a'}).__proto__\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"({__proto__() { return 123; }}).__proto__()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"({['__prot' + 'o__']: 123}).__proto__\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"({}).__proto__.constructor === Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}).constructor === Object\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({}).constructor()\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var a = Object.__proto__; a()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.__proto__()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = Array(3); a\"),\n      njs_str(\",,\") },\n\n    { njs_str(\"var a = Array(); a.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = Array(0); a.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var a = Array(true); a\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = Array(1,'two',3); a\"),\n      njs_str(\"1,two,3\") },\n\n    { njs_str(\"var a = Array(-1)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var a = Array(2.5)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var a = Array(NaN)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var a = Array(Infinity)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var a = Array(1111111111); a[1111111112] = 1; a.length\"),\n      njs_str(\"1111111113\") },\n\n    { njs_str(\"var a = Array(1111111111); a[1111111112] = 1; a[1111111112]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = Array(1111111111); a[1] = 2; a[1111111112] = 1; Object.keys(a)\"),\n      njs_str(\"1,1111111112\") },\n\n    { njs_str(\"var a = Array(1111111111); a[1] = 2; a[1111111112] = 1; Object.entries(a)\"),\n      njs_str(\"1,2,1111111112,1\") },\n\n    { njs_str(\"var x = Array(2**32)\"),\n      njs_str(\"RangeError: Invalid array length\") },\n\n    { njs_str(\"var x = Array(2**28)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Array.prototype[2] = -1; var x = [0,1,3]; x.length = 2; x[2]\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Array.prototype[1] = 1; var x = [0]; x.length = 2; x[1]\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = new Array(4); Object.defineProperty(a, '0', {enumerable:false}); a[2] = 's';\"\n              \"Array.prototype.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var x = [0, 1, 2]; x[4294967294] = 4294967294; x.length = 2;\"\n              \"njs.dump([x,x.length,Array.prototype,Array.prototype.length])\"),\n      njs_str(\"[[0,1],2,[],0]\") },\n\n#if 0 /* TODO: length 2**53-1. */\n    { njs_str(\"var x = Array(2**20), y = Array(2**12).fill(x);\"\n                 \"Array.prototype.concat.apply(y[0], y.slice(1))\"),\n      njs_str(\"RangeError: Invalid array length\") },\n#endif\n\n    { njs_str(\"var a = new Array(3); a\"),\n      njs_str(\",,\") },\n\n    { njs_str(\"Array.name\"),\n      njs_str(\"Array\") },\n\n    { njs_str(\"Array.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"delete this.Array; Array\"),\n      njs_str(\"ReferenceError: \\\"Array\\\" is not defined\") },\n\n    { njs_str(\"Array.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.prototype.constructor === Array\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Array.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(Array.prototype)\"),\n      njs_str(\"[object Array]\") },\n\n    { njs_str(\"Array.prototype\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Array.prototype.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Array.prototype.length = 3, Array.prototype\"),\n      njs_str(\",,\") },\n\n    { njs_str(\"var o = Object.create(Array.prototype); o.length = 3;\"\n                 \"[Array.prototype, Array.prototype.length, o.length]\"),\n      njs_str(\",0,3\") },\n\n    { njs_str(\"var o = Object.create(Array.prototype);\"\n                 \"Object.defineProperty(o, 'length', {value: 3});\"\n                 \"[Array.prototype, Array.prototype.length, o.length]\"),\n      njs_str(\",0,3\") },\n\n    { njs_str(\"Array.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = []; a.join = 'OK'; a\"),\n      njs_str(\"[object Array]\") },\n\n    { njs_str(\"[].__proto__ === Array.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[].__proto__.constructor === Array\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[].constructor === Array\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"([]).constructor()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Boolean()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new Boolean()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"new Boolean\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Boolean(0)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Boolean('')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Boolean(1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Boolean('a')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Boolean({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Boolean([])\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"typeof Boolean(1)\"),\n      njs_str(\"boolean\") },\n\n    { njs_str(\"typeof new Boolean(1)\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof new Boolean\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"Boolean.name\"),\n      njs_str(\"Boolean\") },\n\n    { njs_str(\"Boolean.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Boolean.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Boolean.prototype.constructor === Boolean\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Boolean.prototype.constructor = 1;\"\n                 \"Boolean.prototype.constructor\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var c = Boolean.prototype.constructor;\"\n                 \"Boolean.prototype.constructor = 1;\"\n                 \"[c(0), Boolean.prototype.constructor]\"),\n      njs_str(\"false,1\") },\n\n    { njs_str(\"Boolean.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Boolean.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(Boolean.prototype)\"),\n      njs_str(\"[object Boolean]\") },\n\n    { njs_str(\"Boolean.prototype\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Boolean.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"true.__proto__ === Boolean.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"false.__proto__ === Boolean.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var b = Boolean(1); b.__proto__ === Boolean.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var b = new Boolean(1); b.__proto__ === Boolean.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"new Number()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"new Number\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"new Number(undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"new Number(null)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"new Number(true)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"new Number(false)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Number(undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Number(null)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Number(true)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Number(false)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Number(123)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"Number('123')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"Number('0.'+'1'.repeat(128))\"),\n      njs_str(\"0.1111111111111111\") },\n\n    { njs_str(\"Number('1'.repeat(128))\"),\n      njs_str(\"1.1111111111111113e+127\") },\n\n    { njs_str(\"Number('1'.repeat(129))\"),\n      njs_str(\"1.1111111111111112e+128\") },\n\n    { njs_str(\"Number('1'.repeat(129))\"),\n      njs_str(\"1.1111111111111112e+128\") },\n\n    { njs_str(\"Number('1'.repeat(129)+'e-100')\"),\n      njs_str(\"1.1111111111111112e+28\") },\n\n    { njs_str(\"Number('1'.repeat(310))\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"var o = { valueOf: function() { return 123 } };\"\n                 \"Number(o)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var o = { valueOf: function() { return 123 } };\"\n                 \"new Number(o)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"typeof Number(1)\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"typeof new Number(1)\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof new Number\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"Number.name\"),\n      njs_str(\"Number\") },\n\n    { njs_str(\"Number.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Number.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.prototype.constructor === Number\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(Number.prototype)\"),\n      njs_str(\"[object Number]\") },\n\n    { njs_str(\"Number.prototype\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Number.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"0..__proto__ === Number.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var n = Number(1); n.__proto__ === Number.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var n = new Number(1); n.__proto__ === Number.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isFinite()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isFinite(123)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isFinite('123')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isFinite(Infinity)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isFinite(NaN)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isInteger()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isInteger('123')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isInteger(123)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isInteger(-123.0)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isInteger(123.4)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isInteger(Infinity)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isInteger(NaN)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger('123')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger(9007199254740991)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isSafeInteger(-9007199254740991.0)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isSafeInteger(9007199254740992)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger(-9007199254740992.0)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger(123.4)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger(Infinity)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger(-Infinity)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isSafeInteger(NaN)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isNaN()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isNaN('NaN')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isNaN(NaN)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number.isNaN(123)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isNaN(Infinity)\"),\n      njs_str(\"false\") },\n\n#if 0\n    { njs_str(\"parseFloat === Number.parseFloat\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"parseInt === Number.parseInt\"),\n      njs_str(\"true\") },\n#endif\n\n    /* Symbol */\n\n    { njs_str(\"typeof Symbol\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"this.Symbol === Symbol\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol.name\"),\n      njs_str(\"Symbol\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(Symbol, 'name').configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(Symbol, 'length').configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"typeof Symbol.for\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"Symbol.for.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"typeof Symbol.keyFor\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"Symbol.keyFor.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Symbol.prototype.constructor === Symbol\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(Symbol.prototype)\"),\n      njs_str(\"[object Symbol]\") },\n\n    { njs_str(\"Symbol.prototype.toString()\"),\n      njs_str(\"TypeError: unexpected value type:object\") },\n\n    { njs_str(\"new Symbol()\"),\n      njs_str(\"TypeError: Symbol is not a constructor\") },\n\n    { njs_str(\"typeof Symbol()\"),\n      njs_str(\"symbol\") },\n\n    { njs_str(\"typeof Symbol('desc')\"),\n      njs_str(\"symbol\") },\n\n    { njs_str(\"Symbol() === Symbol()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Symbol('desc') === Symbol('desc')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Symbol() == Symbol()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Symbol('desc') == Symbol('desc')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Symbol() == true\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Symbol() == false\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Symbol() != true\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol() != 0\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol() != ''\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Symbol() != undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"typeof Object(Symbol())\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof Object(Symbol('desc'))\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var x = Symbol(), o = Object(x); x == o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Symbol(), o = Object(x); o == x\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Symbol(), o = Object(x); x !== o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Symbol(), o = Object(x); x === o.valueOf()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var x = Symbol(); Object(x) == Object(x)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"!Symbol()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"!!Symbol()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(Symbol('a') && Symbol('b')).toString()\"),\n      njs_str(\"Symbol(b)\") },\n\n    { njs_str(\"(Symbol('a') || Symbol('b')).toString()\"),\n      njs_str(\"Symbol(a)\") },\n\n    { njs_str(\"+Symbol()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"-Symbol()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"~Symbol()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"var x = Symbol(); ++x\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"var x = Symbol(); x++\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"var x = Symbol(); --x\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"var x = Symbol(); x--\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"var msg = 'Cannot convert a Symbol value to a number',\"\n              \"    ops = ['+', '-', '*', '**', '/', '%', '>>>', '>>', '<<',\"\n              \"           '&', '|', '^', '<', '<=', '>', '>='],\"\n              \"    test = (lhs, rhs, cls, msg, stop, op) => {\"\n              \"        if (stop) {\"\n              \"            return stop;\"\n              \"        }\"\n              \"        var op = `${lhs} ${op} ${rhs}`;\"\n              \"        try {\"\n              \"            (new Function(op))();\"\n              \"        } catch (e) {\"\n              \"            if (e instanceof cls && msg == e.message) {\"\n              \"                return '';\"\n              \"            }\"\n              \"        }\"\n              \"        return `'${op}' - failed`;\"\n              \"   };\"\n              \"ops.reduce(test.bind({}, 'Symbol()', '42', TypeError, msg), '') ||\"\n              \"ops.reduce(test.bind({}, '42', 'Symbol()', TypeError, msg), '');\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Symbol() > 'abc'\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"'abc' > Symbol()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"'abc' + Symbol()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"Symbol() + 'abc'\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"Math.min(Symbol())\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a number\") },\n\n    { njs_str(\"[Symbol(), Symbol()].join()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"Symbol().toString()\"),\n      njs_str(\"Symbol()\") },\n\n    { njs_str(\"Symbol('desc').toString()\"),\n      njs_str(\"Symbol(desc)\") },\n\n    { njs_str(\"Symbol('\u03b1'.repeat(16)).toString()\"),\n      njs_str(\"Symbol(\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1)\") },\n\n    { njs_str(\"Symbol(undefined).toString()\"),\n      njs_str(\"Symbol()\") },\n\n    { njs_str(\"Symbol(null).toString()\"),\n      njs_str(\"Symbol(null)\") },\n\n    { njs_str(\"Symbol(123).toString()\"),\n      njs_str(\"Symbol(123)\") },\n\n    { njs_str(\"Symbol(false).toString()\"),\n      njs_str(\"Symbol(false)\") },\n\n    { njs_str(\"Symbol(Symbol()).toString()\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"var all = [ 'asyncIterator',\"\n              \"            'hasInstance',\"\n              \"            'isConcatSpreadable',\"\n              \"            'iterator',\"\n              \"            'match',\"\n              \"            'matchAll',\"\n              \"            'replace',\"\n              \"            'search',\"\n              \"            'species',\"\n              \"            'split',\"\n              \"            'toPrimitive',\"\n              \"            'toStringTag',\"\n              \"            'unscopables' ]; \"\n              \"Object.getOwnPropertyNames(Symbol)\"\n              \".filter((x) => typeof Symbol[x] == 'symbol')\"\n              \".length == all.length\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var all = [ 'asyncIterator',\"\n              \"            'hasInstance',\"\n              \"            'isConcatSpreadable',\"\n              \"            'iterator',\"\n              \"            'match',\"\n              \"            'matchAll',\"\n              \"            'replace',\"\n              \"            'search',\"\n              \"            'species',\"\n              \"            'split',\"\n              \"            'toPrimitive',\"\n              \"            'toStringTag',\"\n              \"            'unscopables' ]; \"\n              \"Object.getOwnPropertyNames(Symbol)\"\n              \".filter((x) => typeof Symbol[x] == 'symbol')\"\n              \".filter((x, i) => !all.includes(x))\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(Symbol)\"\n              \".filter((x) => typeof Symbol[x] == 'symbol')\"\n              \".map(x => ({ k: x, v: Symbol[x] }))\"\n              \".every((x) => 'Symbol(Symbol.' + x.k + ')' == String(x.v))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"typeof Symbol.prototype.description\"),\n      njs_str(\"TypeError: unexpected value type:object\") },\n\n    { njs_str(\"Symbol.prototype.description = 1\"),\n      njs_str(\"TypeError: Cannot set property \\\"description\\\" of object which has only a getter\") },\n\n    { njs_str(\"typeof Symbol().description\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Symbol('desc').description\"),\n      njs_str(\"desc\") },\n\n    { njs_str(\"Symbol.iterator.description\"),\n      njs_str(\"Symbol.iterator\") },\n\n    { njs_str(\"var o = {}; o[Symbol.isConcatSpreadable] = true; \"\n              \"o[Symbol.isConcatSpreadable]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {[Symbol.isConcatSpreadable]:true}; \"\n              \"o[Symbol.isConcatSpreadable]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {[Symbol.isConcatSpreadable]:true}; \"\n              \"delete o[Symbol.isConcatSpreadable];\"\n              \"o[Symbol.isConcatSpreadable]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {get [Symbol.isConcatSpreadable](){return true}}; \"\n              \"o[Symbol.isConcatSpreadable]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({[Symbol.isConcatSpreadable]:()=>true})[Symbol.isConcatSpreadable]()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {a:1, [Symbol.isConcatSpreadable]:true}; \"\n              \"[\"\n              \" 'getOwnPropertyNames',\"\n              \" 'keys', \"\n              \" 'getOwnPropertySymbols',\"\n              \" 'getOwnPropertyDescriptors',\"\n               \"]\"\n              \".map(v=>Object[v](o)).map(v=>njs.dump(v))\"),\n      njs_str(\"['a'],['a'],[Symbol(Symbol.isConcatSpreadable)],\"\n              \"{a:{value:1,writable:true,enumerable:true,configurable:true},\"\n              \"Symbol(Symbol.isConcatSpreadable):{value:true,writable:true,enumerable:true,configurable:true}}\") },\n\n    { njs_str(\"var o = {}; o[Symbol.isConcatSpreadable] = true; \"\n              \"Object.getOwnPropertyDescriptors(o)[Symbol.isConcatSpreadable].value\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {[Symbol.isConcatSpreadable]:{value:true}}); \"\n              \"o[Symbol.isConcatSpreadable]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, Symbol.isConcatSpreadable, \"\n              \"{configurable:false, writable:false, value:true}); \"\n              \"o[Symbol.isConcatSpreadable]\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {}; o[Symbol.isConcatSpreadable] = true; \"\n              \"Object.getOwnPropertyDescriptor(o, Symbol.isConcatSpreadable).value\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [1];\"\n              \"var b = [2, /**/, 4, 5];\"\n              \"Object.defineProperty(b.__proto__, 1, {\"\n              \"    get: () => {\"\n              \"        b.length = 10**6;\"\n              \"        return 3;\"\n              \"    }\"\n              \"});\"\n              \"a.concat(b)\"),\n      njs_str(\"1,2,3,4,5\") },\n\n    { njs_str(\"Boolean.prototype.length = 2;\"\n              \"Boolean.prototype[0] = 'a';\"\n              \"Boolean.prototype[1] = 'b';\"\n              \"Boolean.prototype[Symbol.isConcatSpreadable] = true;\"\n              \"[].concat(new Boolean(true))\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"var o = {}, n = 5381 /* NJS_DJB_HASH_INIT */;\"\n              \"while(n--) o[Symbol()] = 'test'; o[''];\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var symA = Symbol('A'); var obj = {[symA]:1}; Object.freeze(obj); \"\n              \"obj[symA] = 2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"Symbol(A)\\\" of object\") },\n\n    { njs_str(\"var symA = Symbol('A'); var obj = {[symA]:1}; Object.freeze(obj); \"\n              \"delete obj[symA]\"),\n      njs_str(\"TypeError: Cannot delete property \\\"Symbol(A)\\\" of object\") },\n\n    { njs_str(\"typeof Object.getOwnPropertySymbols(globalThis);\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"[\"\n              \" Object.prototype,\"\n              \" Symbol.prototype,\"\n              \" Math,\"\n              \" JSON,\"\n              \" process,\"\n              \" njs,\"\n              \" this,\"\n               \"]\"\n              \".map(v=>Object.getOwnPropertyDescriptor(v, Symbol.toStringTag))\"\n              \".map(d=>{if (d && !d.writable && !d.enumerable && d.configurable) return d.value})\"\n              \".map(v=>njs.dump(v))\"),\n      njs_str(\"undefined,Symbol,Math,JSON,process,njs,global\") },\n\n    /* String */\n\n    { njs_str(\"String()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"new String()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"new String\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String(123)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"new String(123)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"String(Symbol())\"),\n      njs_str(\"Symbol()\") },\n\n    { njs_str(\"String(Symbol('desc'))\"),\n      njs_str(\"Symbol(desc)\") },\n\n    { njs_str(\"new String(Symbol())\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"String(Object(Symbol()))\"),\n      njs_str(\"TypeError: Cannot convert a Symbol value to a string\") },\n\n    { njs_str(\"Object('123').length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"new String(123).length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"new String(123).toString()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"String([1,2,3])\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"new String([1,2,3])\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s.one = 1; 'one' in s\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); 'one' in s\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s.one = 1; '1' in s\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s.one = 1; 1 in s\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s.one = 1; 2 in s\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s[1]\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"Object.create(new String('\u03b1\u03b2'))[1]\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s[1] = 'b'\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"1\\\" of object\") },\n\n    { njs_str(\"var o = Object.create(new String('\u03b1\u03b2')); o[1] = 'a'\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"1\\\" of object\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s[4] = 'ab'; s[4]\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"Object.create(new String('\u03b1\u03b2')).length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s.valueOf()[1]\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"var o = { toString: function() { return 'OK' } };\"\n                 \"String(o)\"),\n      njs_str(\"OK\") },\n\n    { njs_str(\"var o = { toString: function() { return 'OK' } };\"\n                 \"new String(o)\"),\n      njs_str(\"OK\") },\n\n    { njs_str(\"typeof String('abc')\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"typeof new String('abc')\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof new String\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"String.name\"),\n      njs_str(\"String\") },\n\n    { njs_str(\"String.length\"),\n      njs_str(\"1\") },\n\n    /* values_hash long vs long string collision. */\n    { njs_str(\"'XXXXXXXXXXXXXXXQWEEAB' + 'XXXXXXXXXXXXXXXZHGP'\"),\n      njs_str(\"XXXXXXXXXXXXXXXQWEEABXXXXXXXXXXXXXXXZHGP\") },\n\n    /* values_hash short vs long string collision. */\n    { njs_str(\"'SHAAAB' + 'XXXXXXXXXXXXXXXUETBF'\"),\n      njs_str(\"SHAAABXXXXXXXXXXXXXXXUETBF\") },\n\n    /* values_hash long vs short string collision. */\n    { njs_str(\"'XXXXXXXXXXXXXXXUETBF' + 'SHAAAB'\"),\n      njs_str(\"XXXXXXXXXXXXXXXUETBFSHAAAB\") },\n\n    /* values_hash short vs short string collision. */\n    { njs_str(\"'XUBAAAB' + 'XGYXKY'\"),\n      njs_str(\"XUBAAABXGYXKY\") },\n\n    { njs_str(\"String.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(String.prototype)\"),\n      njs_str(\"[object String]\") },\n\n    { njs_str(\"String.prototype\"),\n      njs_str(\"\") },\n\n    { njs_str(\"String.prototype.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"String.prototype.constructor === String\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"String.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"String.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"''.__proto__ === String.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"String.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'test'.__proto__ === String.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = String('abc'); s.__proto__ === String.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = new String('abc'); s.__proto__ === String.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'test'.constructor === String\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'test'.constructor.prototype === String.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.create(String.prototype); o.length = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"length\\\" of object\") },\n\n    { njs_str(\"Function.name\"),\n      njs_str(\"Function\") },\n\n    { njs_str(\"Function.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Function.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Function.prototype.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Function.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Function.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(Function.prototype)\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"Function.prototype\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"Function.prototype.length\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Function.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"function f() {} f.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Function()\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"new Function();\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"(function(){}).constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new Function('('.repeat(2**13));\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in runtime:1\") },\n\n    { njs_str(\"new Function('{'.repeat(2**13));\"),\n      njs_str(\"SyntaxError: Unexpected token \\\")\\\" in runtime:1\") },\n\n    { njs_str(\"new Function('['.repeat(2**13));\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in runtime:1\") },\n\n    { njs_str(\"new Function('`'.repeat(2**13));\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"new Function('{['.repeat(2**13));\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in runtime:1\") },\n\n    { njs_str(\"new Function('{;'.repeat(2**13));\"),\n      njs_str(\"SyntaxError: Unexpected token \\\")\\\" in runtime:1\") },\n\n    { njs_str(\"(new Function('1;'.repeat(2**13) + 'return 2'))()\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"(new Function('return' + '~'.repeat(2**13) + '3'))()\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"(new Function('return' + '~'.repeat(2**13+1) + '3'))()\"),\n      njs_str(\"-4\") },\n\n    { njs_str(\"new Function('new '.repeat(2**13));\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in runtime:1\") },\n\n    { njs_str(\"(new Function('return ' + 'typeof '.repeat(2**13) + 'x'))()\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"(new Function('return 5' + '** 1'.repeat(2**13)))()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"(new Function('var a = 7; return a' + '= a'.repeat(2**13)))()\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var a = (new Function('return [' + '1,'.repeat(2**13) + ']'))();\"\n              \"a.push(5); [a[2**13 - 1], a[2**13]]\"),\n      njs_str(\"1,5\") },\n\n    { njs_str(\"var f = new Function('return 1;'); f();\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var sum = new Function('a', 'b', 'return a + b');\"\n              \"sum(2, 4);\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var sum = new Function('a, b', 'return a + b');\"\n              \"sum(2, 4);\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var sum = new Function('a, b', 'c', 'return a + b + c');\"\n              \"sum(2, 4, 4);\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"(new Function({ toString() { return '...a'; }}, { toString() { return 'return a;' }}))(1,2,3)\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var x = 10; function foo() { var x = 20; return new Function('return x;'); }\"\n              \"var f = foo(); f()\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var fn = (function() { return new Function('return this'); }).call({}), o = {}; \"\n              \"fn.call(o) == o && fn.bind(o).call(this) == o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Function('return this'))() === globalThis\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var f = Function.call(this, 'return this.a');\"\n              \"var r1 = f(); var a = 1; var r2 = f(); [r1,r2]\"),\n      njs_str(\",1\") },\n\n    { njs_str(\"(new Function('a', 'return a')).length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"(new Function('a','b', 'return a + b')).length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {}; (new Function('return this')).call(o) === o\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Function('function foo(){return 1}; return foo()'))();\"\n              \"foo\"),\n      njs_str(\"ReferenceError: \\\"foo\\\" is not defined\") },\n\n    { njs_str(\"this.NN = {}; var f = Function('eval = 42;'); f()\"),\n      njs_str(\"SyntaxError: Identifier \\\"eval\\\" is forbidden as left-hand in assignment in runtime:1\") },\n\n    { njs_str(\"RegExp()\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"RegExp('')\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"RegExp(123)\"),\n      njs_str(\"/123/\") },\n\n    { njs_str(\"RegExp.name\"),\n      njs_str(\"RegExp\") },\n\n    { njs_str(\"RegExp.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"RegExp.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp.prototype.constructor === RegExp\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.call(RegExp.prototype)\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"RegExp.prototype\"),\n      njs_str(\"/(?:)/\") },\n\n    { njs_str(\"RegExp.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/./.__proto__ === RegExp.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"toString()\"),\n      njs_str(\"[object Undefined]\") },\n\n    { njs_str(\"toString() + Object.prototype.toString\"),\n      njs_str(\"[object Undefined][object Function]\") },\n\n#if 0\n    { njs_str(\"toString === Object.prototype.toString\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.prototype.toString.yes = 'OK'; toString.yes\"),\n      njs_str(\"OK\") },\n#endif\n\n    { njs_str(\"Object.prototype.toString.call()\"),\n      njs_str(\"[object Undefined]\") },\n\n    { njs_str(\"Object.prototype.toString.call(undefined)\"),\n      njs_str(\"[object Undefined]\") },\n\n    { njs_str(\"Object.prototype.toString.call(null)\"),\n      njs_str(\"[object Null]\") },\n\n    { njs_str(\"Object.prototype.toString.call(true)\"),\n      njs_str(\"[object Boolean]\") },\n\n    { njs_str(\"Boolean.prototype[Symbol.toStringTag] = 'XXX';\"\n              \"Object.prototype.toString.call(true)\"),\n      njs_str(\"[object XXX]\") },\n\n    { njs_str(\"Object.prototype.toString.call(1)\"),\n      njs_str(\"[object Number]\") },\n\n    { njs_str(\"Object.prototype.toString.call('')\"),\n      njs_str(\"[object String]\") },\n\n    { njs_str(\"Object.prototype.toString.call({})\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"Object.prototype.toString.call([])\"),\n      njs_str(\"[object Array]\") },\n\n    { njs_str(\"var a = []; a[Symbol.toStringTag] = 'XXX';\"\n              \"Object.prototype.toString.call(a)\"),\n      njs_str(\"[object XXX]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Object(true))\"),\n      njs_str(\"[object Boolean]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Number(1))\"),\n      njs_str(\"[object Number]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Object(1))\"),\n      njs_str(\"[object Number]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Object(Symbol()))\"),\n      njs_str(\"[object Symbol]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Object(Symbol('desc')))\"),\n      njs_str(\"[object Symbol]\") },\n\n    { njs_str(\"Object.prototype.toString.call(new Object(''))\"),\n      njs_str(\"[object String]\") },\n\n    { njs_str(\"Object.prototype.toString.call(function(){})\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"var f = ()=>1; f[Symbol.toStringTag] = '\u03b1'.repeat(32);\"\n              \"var toStr = Object.prototype.toString.call(f); [toStr, toStr.length]\"),\n      njs_str(\"[object \u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1],41\") },\n\n    { njs_str(\"Object.prototype.toString.call(/./)\"),\n      njs_str(\"[object RegExp]\") },\n\n    { njs_str(\"Object.prototype.toString.call(Math)\"),\n      njs_str(\"[object Math]\") },\n\n    { njs_str(\"Object.prototype.toString.call(JSON)\"),\n      njs_str(\"[object JSON]\") },\n\n    { njs_str(\"var p = { a:5 }; var o = Object.create(p); o.a\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var p = { a:5 }; var o = Object.create(p);\"\n                 \"o.__proto__ === p\"),\n      njs_str(\"true\") },\n\n    /* Object.create() */\n\n    { njs_str(\"var o = Object.create(Object.prototype);\"\n                 \"o.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.create(null); '__proto__' in o\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.create()\"),\n      njs_str(\"TypeError: prototype may only be an object or null: undefined\") },\n\n    { njs_str(\"Object.create(1)\"),\n      njs_str(\"TypeError: prototype may only be an object or null: number\") },\n\n    { njs_str(\"var o = Object.create(null, { a: { value: 1 } }); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = Object.create({ a: 0 }, { a: { value: 1 } }); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = Object.create({ get a() { return this.b; } }, { b: { value: 1 } }); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {a:1, b:2, c:3};\"\n                 \"Object.keys(o)\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"var a = []; a.one = 7; Object.keys(a)\"),\n      njs_str(\"one\") },\n\n    { njs_str(\"var a = [,,]; a.one = 7; Object.keys(a)\"),\n      njs_str(\"one\") },\n\n    { njs_str(\"var a = [,6,,3]; a.one = 7; Object.keys(a)\"),\n      njs_str(\"1,3,one\") },\n\n    { njs_str(\"var o = {a:1,b:2}; delete o.a; Object.keys(o)\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"Object.keys()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"Object.keys('\u03b1\u03b2Z')\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"Object.keys(new String('\u03b1\u03b2Z'))\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2Z'); s.a = 1; Object.keys(s)\"),\n      njs_str(\"0,1,2,a\") },\n\n    { njs_str(\"var r = new RegExp('\u03b1bc'); r.a = 1; Object.keys(r)\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"Object.keys(Object.create(new String('abc')))\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.keys(1)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.keys(true)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var o = {a:3, b:2, c:1}; Object.values(o)\"),\n      njs_str(\"3,2,1\") },\n\n    { njs_str(\"Object.values('s')\"),\n      njs_str(\"s\") },\n\n    { njs_str(\"Object.values('\u0430\u0431\u0432 abc')\"),\n      njs_str(\"\u0430,\u0431,\u0432, ,a,b,c\") },\n\n    { njs_str(\"var s = new String('abc'); s.three = 3; Object.values(s)\"),\n      njs_str(\"a,b,c,3\") },\n\n    { njs_str(\"var a = [,,5,,4,,,3,2]; a.one = 1; Object.values(a)\"),\n      njs_str(\"5,4,3,2,1\") },\n\n    { njs_str(\"Object.values([{}, null, false, NaN, function() {}])\"),\n      njs_str(\"[object Object],,false,NaN,[object Function]\") },\n\n    { njs_str(\"Object.values(1)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.values(njs)[0] === njs.version\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.values(process)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.values()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"Object.entries('abc')\"),\n      njs_str(\"0,a,1,b,2,c\") },\n\n    { njs_str(\"JSON.stringify(Object.entries('\u044d\u044e\u044f'))\"),\n      njs_str(\"[[\\\"0\\\",\\\"\u044d\\\"],[\\\"1\\\",\\\"\u044e\\\"],[\\\"2\\\",\\\"\u044f\\\"]]\") },\n\n    { njs_str(\"var o = {a:\\\"\u0430\\\", b:\\\"\u0431\\\", c:\\\"\u0446\\\"};\"\n                 \"JSON.stringify(Object.entries(o))\"),\n      njs_str(\"[[\\\"a\\\",\\\"\u0430\\\"],[\\\"b\\\",\\\"\u0431\\\"],[\\\"c\\\",\\\"\u0446\\\"]]\") },\n\n    { njs_str(\"JSON.stringify(Object.entries([0]))\"),\n      njs_str(\"[[\\\"0\\\",0]]\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2'); s.two = null; s[3] = true;\"\n                 \"Object.entries(s)\"),\n      njs_str(\"0,\u03b1,1,\u03b2,two,,3,true\") },\n\n    { njs_str(\"Object.entries(true)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.entries(njs)[0][1] === njs.version\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.entries()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {}); o.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.defineProperty({}, 'a', {value:1})\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {value:1}); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', Object.create({value:1})); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {writable:'x', enumerable:'y', configurable:'z'});\"\n              \"var d = Object.getOwnPropertyDescriptor(o, 'a');\"\n              \"d.writable && d.enumerable && d.configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {a:1, c:2}; Object.defineProperty(o, 'b', {});\"\n                 \"Object.keys(o)\"),\n      njs_str(\"a,c\") },\n\n    { njs_str(\"var o = {a:1, c:2};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:false});\"\n                 \"Object.keys(o)\"),\n      njs_str(\"a,c\") },\n\n    { njs_str(\"var o = {a:1, c:3};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:true});\"\n                 \"Object.keys(o)\"),\n      njs_str(\"a,c,b\") },\n\n    { njs_str(\"var o = {a:1, c:2}; Object.defineProperty(o, 'b', {});\"\n                 \"Object.values(o)\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"var o = {a:1, c:2};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:false, value:3});\"\n                 \"Object.values(o)\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"var o = {a:1, c:3};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:true, value:2});\"\n                 \"Object.values(o)\"),\n      njs_str(\"1,3,2\") },\n\n    { njs_str(\"var o = {a:1, c:2}; Object.defineProperty(o, 'b', {});\"\n                 \"Object.entries(o)\"),\n      njs_str(\"a,1,c,2\") },\n\n    { njs_str(\"var o = {a:1, c:2};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:false, value:3});\"\n                 \"Object.entries(o)\"),\n      njs_str(\"a,1,c,2\") },\n\n    { njs_str(\"var o = {a:1, c:3};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:true, value:2});\"\n                 \"Object.entries(o)\"),\n      njs_str(\"a,1,c,3,b,2\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {}); o.a = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {writable:false}); o.a = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {writable:true});\"\n                 \"o.a = 1; o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperty(Object.prototype, 'a', {writable:false});\"\n                 \"var o = {a: 1}; [o.a++, o.a]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(Object.prototype, 'a', {writable:false});\"\n                 \"o.a = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(Object.prototype, 'a', {writable:true});\"\n                 \"o.a = 1; o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var p = Object.create(Function);\"\n                 \"Object.defineProperty(p, 'length', {writable: true});\"\n                 \"p.length = 32; p.length\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"var p = Object.create(Math.abs);\"\n                 \"Object.defineProperty(p, 'length', {writable: true});\"\n                 \"p.length = 23; p.length\"),\n      njs_str(\"23\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:1}); delete o.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:1, configurable:true});\"\n                 \"delete o.a; o.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:1, configurable:false});\"\n                 \"delete o.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', Object.create({value:2})); o.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:false});\"\n                 \"Object.defineProperty(o, 'a', {configurable:true})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:false});\"\n                 \"Object.defineProperty(o, 'a', {enumerable:true})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:false});\"\n                 \"Object.defineProperty(o, 'a', {writable:true})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:false});\"\n                 \"Object.defineProperty(o, 'a', {enumerable:false}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:false});\"\n                 \"Object.defineProperty(o, 'a', {}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:false, writable:true});\"\n                 \"Object.defineProperty(o, 'a', {writable:false}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:true, writable:false});\"\n                 \"Object.defineProperty(o, 'a', {writable:true}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {});\"\n                 \"Object.defineProperty(o, 'a', {}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:1});\"\n                 \"Object.defineProperty(o, 'a', {value:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:1});\"\n                 \"Object.defineProperty(o, 'a', {value:2}).a\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:true});\"\n                 \"Object.defineProperty(o, 'a', {value:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:true, get:()=>1});\"\n                 \"Object.defineProperty(o, 'a', {value:1});\"\n                 \"var d = Object.getOwnPropertyDescriptor(o, 'a'); \"\n                 \"[d.value, d.writable, d.enumerable, d.configurable, d.get, d.set]\"),\n      njs_str(\"1,false,false,true,,\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {configurable:true, value:1});\"\n                 \"Object.defineProperty(o, 'a', {set:()=>1});\"\n                 \"var d = Object.getOwnPropertyDescriptor(o, 'a'); \"\n                 \"[d.value, d.writable, d.enumerable, d.configurable, d.get, d.set]\"),\n      njs_str(\",,false,true,,[object Function]\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {get: ()=>1, configurable:true}); \"\n                 \"Object.defineProperty(o, 'a', {value:123}); o.a =2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {get: ()=>1, configurable:true}); \"\n                 \"Object.defineProperty(o, 'a', {writable:false}); o.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {value: 1, configurable:true}); \"\n                 \"Object.defineProperty(o, 'a', {get:()=>1}); o.a = 2\"),\n      njs_str(\"TypeError: Cannot set property \\\"a\\\" of object which has only a getter\") },\n\n    { njs_str(\"var o = Object.create(Object.defineProperty({}, 'x', { set: function(v) { this.y = v; }})); \"\n                 \"o.x = 123; Object.getOwnPropertyDescriptor(o, 'y').value\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', { configurable: true, value: 0 });\"\n                 \"Object.defineProperty(o, 'a', { value: 1 });\"\n                 \"Object.defineProperty(o, 'a', { configurable: false, value: 2 }).a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty()\"),\n      njs_str(\"TypeError: Object.defineProperty is called on non-object\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o)\"),\n      njs_str(\"TypeError: descriptor is not an object\") },\n\n    { njs_str(\"Object.defineProperty(Function.prototype, 'name', {value:'x'}).name\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"Object.defineProperty(Function.prototype, 'xxx', {value:'x'}).xxx\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"Object.defineProperty(Object, 'name', {value:'x'}).name\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"Object.defineProperty(Object.prototype, 'toString', {value:1}).toString\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{value:1}}); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{enumerable:true}, b:{enumerable:true}});\"\n                 \"Object.keys(o)\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"var desc = Object.defineProperty({b:{value:1, enumerable:true}}, 'a', {});\"\n                 \"var o = Object.defineProperties({}, desc);\"\n                 \"Object.keys(o)\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, { get x() { return { value: 1 }; } });\"\n              \"Object.getOwnPropertyDescriptor(o, 'x').value\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperties({}, { get x() { return  1; } })\"),\n      njs_str(\"TypeError: property descriptor must be an object\") },\n\n    { njs_str(\"var obj = {}; var desc = {value:NaN}; Object.defineProperty(obj, 'foo', desc); \"\n              \"Object.defineProperties(obj, { foo: desc } ).foo\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var obj = {}; var desc = {value:-0}; Object.defineProperty(obj, 'foo', desc); \"\n              \"Object.defineProperties(obj, { foo: desc } ).foo\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"var obj = {}; var desc = {value:-0}; Object.defineProperty(obj, 'foo', {value:0}); \"\n              \"Object.defineProperties(obj, { foo: desc } ).foo\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"foo\\\"\") },\n\n    { njs_str(\"var obj = {}; var desc = {value:0}; Object.defineProperty(obj, 'foo', {value:-0}); \"\n              \"Object.defineProperties(obj, { foo: desc } ).foo\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"foo\\\"\") },\n\n    { njs_str(\"var descs = {a:{value:1}}; Object.defineProperty(descs, 'b', {value:{value:2}});\"\n              \"var o = Object.defineProperties({}, descs);\"\n              \"njs.dump([o.a, o.b])\"),\n      njs_str(\"[1,undefined]\") },\n\n    { njs_str(\"var descs = {a:{value:1}}; Object.defineProperty(descs, 'b', {value:{value:2}, enumerable:true});\"\n              \"var o = Object.defineProperties({}, descs);\"\n              \"njs.dump([o.a, o.b])\"),\n      njs_str(\"[1,2]\") },\n\n    { njs_str(\"var o = {a:1}; delete o.a;\"\n                 \"Object.defineProperty(o, 'a', { value: 1 }); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {a:1}; delete o.a;\"\n                 \"Object.defineProperty(o, 'a', { value: 1 }); o.a = 2; o.a\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = {a:1}; delete o.a;\"\n                 \"Object.defineProperty(o, 'a', { value: 1, writable:1 }); o.a = 2; o.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, new String('a'), { value: 1}); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, {toString:function(){return 'a'}}, { value: 1}); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1, 2];\"\n                 \"Object.defineProperty(a, '1', {value: 5}); a[1]\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var a = [1, 2];\"\n                 \"Object.defineProperty(a, '3', {}); njs.dump(a)\"),\n      njs_str(\"[1,2,<empty>,undefined]\") },\n\n    { njs_str(\"var a = [1, 2];\"\n                 \"Object.defineProperty(a, 'length', {}); a\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"var a = [1, 2];\"\n                 \"Object.defineProperty(a, 'length', {value: 1}); a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = [1, 2];\"\n                 \"Object.defineProperty(a, 'length', {value: 5}); a\"),\n      njs_str(\"1,2,,,\") },\n\n    { njs_str(\"var o = Object.defineProperties({a:1}, {}); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var arr = [0, 1]; Object.defineProperty(arr, 'length', {value:3}); arr.length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Object.defineProperty(Array.prototype, 'toString', { get: function() {return () => 1}});\"\n                 \"'a' + []\"),\n      njs_str(\"a1\") },\n\n    { njs_str(\"Object.defineProperty(Array.prototype, 'toJSON', { get: function() {return () => 1}});\"\n                 \"JSON.stringify([])\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperty(Array.prototype, 'join', { get: function() {return () => 1}});\"\n                 \"([]).toString()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {}, desc = {};\"\n              \"Object.defineProperty(desc, 'get', { get() { return () => 1 } });\"\n              \"Object.defineProperty(o, 'a', desc); o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperty(Error.prototype, 'message', { get() {return 'm'}});\"\n                 \"Object.defineProperty(Error.prototype, 'name', { get() {return 'n'}});\"\n                 \"Error()\"),\n      njs_str(\"n: m\") },\n\n    { njs_str(\"var o = {}, desc = {};\"\n              \"Object.defineProperty(desc, 'value', { get() { return 'x'}});\"\n              \"Object.defineProperty(o, 'a', desc); o.a\"),\n      njs_str(\"x\") },\n\n    { njs_str(\"var o = {}, desc = {};\"\n              \"Object.defineProperty(desc, 'value', { get() { return 'x'}});\"\n              \"Object.defineProperty(desc, 'enumerable', { get() { return !NaN}});\"\n              \"Object.defineProperty(desc, 'writable', { get() { return 'x'}});\"\n              \"Object.defineProperty(desc, 'configurable', { get() { return 1}});\"\n              \"Object.defineProperty(o, 'a', desc);\"\n              \"var d = Object.getOwnPropertyDescriptor(o, 'a');\"\n              \"d.enumerable && d.writable && d.configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.defineProperties()\"),\n      njs_str(\"TypeError: Object.defineProperties is called on non-object\") },\n\n    { njs_str(\"Object.defineProperties(1, {})\"),\n      njs_str(\"TypeError: Object.defineProperties is called on non-object\") },\n\n    { njs_str(\"njs.dump(Object.defineProperties({}, 1))\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"Object.defineProperties(Object.freeze({b:1}), {b:{value:1}}).b\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperties(Object.freeze({b:1}), {b:{value:2}})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"b\\\"\") },\n\n    { njs_str(\"Object.defineProperties(Object.freeze({b:1}), {c:{value:1}})\"),\n      njs_str(\"TypeError: Cannot add property \\\"c\\\", object is not extensible\") },\n\n    { njs_str(\"var o = {a:1}; o.hasOwnProperty('a')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.create({a:2}); o.hasOwnProperty('a')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {a:1}; o.hasOwnProperty('b')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = []; a.hasOwnProperty('0')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = [,,]; a.hasOwnProperty('0')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = [3,,]; a.hasOwnProperty('0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [,4]; a.hasOwnProperty('1')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = [3,4]; a.hasOwnProperty('2')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = [3,4]; a.one = 1; a.hasOwnProperty('one')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {a:1}; o.hasOwnProperty(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {a:1}; o.hasOwnProperty(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = {a:1}; o.hasOwnProperty()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[,].hasOwnProperty()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[1,2].hasOwnProperty('len')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[1,2].hasOwnProperty('0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2].hasOwnProperty('2')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"[].hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[1,2].hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Array()).hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Array(10)).hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.valueOf.hasOwnProperty()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"1..hasOwnProperty('b')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'s'.hasOwnProperty('b')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'s'.hasOwnProperty('0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'s'.hasOwnProperty('1')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.hasOwnProperty('hasOwnProperty')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.prototype.hasOwnProperty('hasOwnProperty')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined, set:undefined}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:1})\"),\n      njs_str(\"TypeError: Getter must be a function\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:function(){return 1}}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {set:1})\"),\n      njs_str(\"TypeError: Setter must be a function\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {set:undefined}); o.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {set:undefined}); o.a = 4;\"),\n      njs_str(\"TypeError: Cannot set property \\\"a\\\" of object which has only a getter\") },\n\n    { njs_str(\"var o = {a: 0};\"\n                 \"Object.defineProperty(o, 'b', {set:function(x){this.a = x / 2;}}); o.b = 4; o.a;\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:undefined});\"\n                 \"Object.defineProperty(o, 'a', {get:undefined})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {});\"\n                 \"Object.defineProperty(o, 'a', {get:undefined})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined});\"\n                 \"Object.defineProperty(o, 'a', {get:undefined}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined});\"\n                 \"Object.defineProperty(o, 'a', {set:undefined}).a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined});\"\n                 \"Object.defineProperty(o, 'a', {}); o.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined});\"\n                 \"Object.defineProperty(o, 'a', {set:function(){}})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:undefined});\"\n                 \"Object.defineProperty(o, 'a', {get:function(){}})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"a\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:()=>1, configurable:true});\"\n                 \"Object.defineProperty(o, 'a', {get:()=>2}); o.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {set:function(v){this.aa=v;}, configurable:true});\"\n                 \"Object.defineProperty(o, 'a', {get:function(){return this.aa}}); o.a = 1; o.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:()=>1, configurable:true});\"\n                 \"Object.defineProperty(o, 'a', {value:2}).a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {get:()=>1, configurable:true});\"\n                 \"Object.defineProperty(o, 'a', {value:2});\"\n                 \"var d = Object.getOwnPropertyDescriptor(o, 'a');\"\n                 \"d.get === undefined && d.set === undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'a', {value:1, configurable:true});\"\n                 \"Object.defineProperty(o, 'a', {get:()=>2});\"\n                 \"var d = Object.getOwnPropertyDescriptor(o, 'a');\"\n                 \"d.writable === undefined && d.value === undefined\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.defineProperty(Date.prototype, 'year', {get: function() { return this.getFullYear();}});\"\n                 \"var d = new Date(0); d.year\"),\n      njs_str(\"1970\") },\n\n    { njs_str(\"var o = [];\"\n                 \"Object.defineProperty(o, 'fill', {get:undefined}).fill\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = [];\"\n                 \"Object.defineProperty(o, 'length', {get:undefined})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"length\\\"\") },\n\n    { njs_str(\"var o = {};\"\n                 \"Object.defineProperty(o, 'foo', {get:()=>10});\"\n                 \"Object.preventExtensions(o);Object.isFrozen(o)\"),\n      njs_str(\"true\"), },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'r', { get: function() { return this.r_value; } }); o.r_value = 1; o.r;\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'rw', { get: function() { return this.rw_value; }, set: function(x) { this.rw_value = x / 2; } }); o.rw = 10; o.rw\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var o = {}; function foo() {}; Object.defineProperty(o, 'a', {get: foo});\"\n                 \"Object.getOwnPropertyDescriptor(o, 'a').get === foo\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = {}; Object.defineProperty(o, 'a', {get: undefined});\"\n                \"JSON.stringify(Object.getOwnPropertyDescriptor(o, 'a')).set\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, 4294967294, {value:100}); \"\n              \"[a.hasOwnProperty('4294967294'), a.length, a[4294967294]]\"),\n      njs_str(\"true,4294967295,100\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, 'length', {value:4294967294}); \"\n              \"a.length\"),\n      njs_str(\"4294967294\") },\n\n    { njs_str(\"var a = []; Object.defineProperty(a, 'length', {value:4294967295}); \"\n              \"a.length\"),\n      njs_str(\"4294967295\") },\n\n    { njs_str(\"njs.dump(Object.defineProperty([], 'length', {value:4294967295}))\"),\n      njs_str(\"[<4294967295 empty items>]\") },\n\n    { njs_str(\"var a = [1]; Object.defineProperty(a, '1', {get:()=>2}); \"\n              \"[a[0], a[1], a.length]\"),\n      njs_str(\"1,2,2\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {configurable:false}); \"\n              \"[a[0], a[1], a.length]\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {configurable:false}); \"\n              \"delete a[1]\"),\n      njs_str(\"TypeError: Cannot delete property \\\"1\\\" of array\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {configurable:false}); \"\n              \"a.length = 1\"),\n      njs_str(\"TypeError: Cannot delete property \\\"1\\\" of array\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {writable:false}); \"\n              \"a[1]=4\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"1\\\" of array\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {enumerable:false}); \"\n              \"njs.dump([Object.keys(a), Object.values(a), Object.entries(a)])\"),\n      njs_str(\"[['0','2'],[1,3],[['0',1],['2',3]]]\") },\n\n    { njs_str(\"var a = [1]; Object.defineProperty(a, '1', {get:()=>2});\"\n              \"Object.defineProperty(a, 'length', {value:1})\"),\n      njs_str(\"TypeError: Cannot delete property \\\"1\\\" of array\") },\n\n    { njs_str(\"var a = [1]; Object.defineProperty(a, '1', {get:()=>2});\"\n              \"Object.defineProperty(a, 'length', {enumerable:true})\"),\n      njs_str(\"TypeError: Cannot redefine property: \\\"length\\\"\") },\n\n    { njs_str(\"var a = [1]; Object.defineProperty(a, '1', {get:()=>2, configurable:true});\"\n              \"Object.defineProperty(a, 'length', {value:1}); a[1]\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = [1,2,3]; Object.defineProperty(a, '1', {enumerable:false});\"\n              \"Object.getOwnPropertyDescriptor(a, '1').enumerable\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var args = (function(a, b, c) {return arguments;})(1,2,3); \"\n              \"Object.defineProperty(args, \\\"length\\\", {value:6}); args.length\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var get = 'get'; var o = { get }; o.get\"),\n      njs_str(\"get\") },\n\n    { njs_str(\"var o = { get foo() { return 'bar'; } }; o.foo\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"var o = { get get() { return 'bar'; } }; o.get\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"var o = { get() { return 'bar'; } }; o.get()\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"var o = { get lazy() { delete this.lazy; return this.lazy = Math.pow(2,3)} };o.lazy\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var o = { get lazy() { delete this.lazy; return this.lazy = Math.pow(2,3)} }; o.lazy;\"\n              \"Object.getOwnPropertyDescriptor(o, 'lazy').value\"),\n      njs_str(\"8\") },\n\n    { njs_str(\"var expr = 'foo'; var o = { get [expr]() { return 'bar'; } }; o.foo\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"var o = { get [{toString(){return 'get'}}]() { return 'bar'; } }; o.get\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"var o = { get [{toString(){return {} }}]() { return 'bar'; } }; o.get\"),\n      njs_str(\"InternalError: failed conversion of type \\\"object\\\" to string while property define\") },\n\n    { njs_str(\"var o = { get foo(v1, v2) { return 'bar'; } }; o.foo\"),\n      njs_str(\"SyntaxError: Getter must not have any formal parameters in 1\") },\n\n    { njs_str(\"var o = { baz: 'bar', set foo(v) { this.baz = v; } }; o.foo = 'baz'; o.baz\"),\n      njs_str(\"baz\") },\n\n    { njs_str(\"var o = { baz: 'bar', set set(v) { this.baz = v; } }; o.set = 'baz'; o.baz\"),\n      njs_str(\"baz\") },\n\n    { njs_str(\"var expr = 'foo'; var o = { baz: 'bar', set [expr](v) { this.baz = v; } }; o.foo = 'baz'; o.baz\"),\n      njs_str(\"baz\") },\n\n    { njs_str(\"var o = { baz: 'bar', set foo(v1, v2) { this.baz = v; } }; o.foo = 'baz'; o.baz\"),\n      njs_str(\"SyntaxError: Setter must have exactly one formal parameter in 1\") },\n\n    { njs_str(\"var o = { get foo() { return 'bar'; }, set foo(v) { this.baz = v; } }; o.foo\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"var expr = 'foo'; var o = { get [expr]() { return 'bar'; }, set [expr](v) { this.baz = v; } }; o.foo\"),\n      njs_str(\"bar\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({get foo() {}}, 'foo').enumerable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({get foo() {}}, 'foo').configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var p = { a:5 }; var o = Object.create(p);\"\n                 \"Object.getPrototypeOf(o) === p\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var p = { a:5 }; var o = Object.create(p);\"\n                 \"Object.getPrototypeOf(o) === o.__proto__\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.create(Object.prototype);\"\n                 \"Object.getPrototypeOf(o) === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[true, 42, '', Symbol()]\"\n              \".every((x) => Object.getPrototypeOf(x) == Object.getPrototypeOf(Object(x)))\"),\n      njs_str(\"true\") },\n\n    /* Object.setPrototypeOf() */\n\n    { njs_str(\"Object.setPrototypeOf()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"Object.setPrototypeOf(null)\"),\n      njs_str(\"TypeError: cannot convert null argument to object\") },\n\n    { njs_str(\"Object.setPrototypeOf({})\"),\n      njs_str(\"TypeError: prototype may only be an object or null: undefined\") },\n\n    { njs_str(\"Object.setPrototypeOf(Object.preventExtensions({}))\"),\n      njs_str(\"TypeError: prototype may only be an object or null: undefined\") },\n\n    { njs_str(\"[true, 42, '', Symbol()]\"\n              \".every((x) => Object.setPrototypeOf(x, {}) === x)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.setPrototypeOf(Object.preventExtensions({}), {})\"),\n      njs_str(\"TypeError: Cannot set property \\\"prototype\\\", object is not extensible\") },\n\n    { njs_str(\"var p = {}, o = Object.create(p); Object.setPrototypeOf(p, o)\"),\n      njs_str(\"TypeError: Cyclic __proto__ value\") },\n\n    { njs_str(\"var p = {}, o = {}; Object.setPrototypeOf(o, p);\"\n              \"p.isPrototypeOf(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var p = {}, o = Object.create(p); Object.setPrototypeOf(o, null);\"\n              \"Object.getPrototypeOf(o)\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"typeof Object.setPrototypeOf({}, null)\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"Object.setPrototypeOf(Object.getPrototypeOf(''), null).__proto__\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var p = {}; var o = Object.create(p);\"\n                 \"p.isPrototypeOf(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var pp = {}; var p = Object.create(pp);\"\n                 \"var o = Object.create(p);\"\n                 \"pp.isPrototypeOf(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var p = {}; var o = Object.create(p);\"\n                 \"o.isPrototypeOf(p)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var p = {}; var o = Object.create(p);\"\n                 \"o.isPrototypeOf()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.valueOf.isPrototypeOf()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var p = {}; var o = Object.create(p);\"\n                 \"o.isPrototypeOf(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var p = {}; var o = Object.create(p);\"\n                 \"1..isPrototypeOf(p)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.create(new String('asdf')).length\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"Object.create(Object('123')).length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Object.create([1,2]).length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Object.create(function(a,b,c){}).length\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Object.create(Math).hasOwnProperty('abs')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var m = Object.create(Math); m.abs = 3;\"\n                 \"[m.hasOwnProperty('abs'), m.abs]\"),\n      njs_str(\"true,3\") },\n\n    { njs_str(\"var m = Object.create(Math); m.abs = Math.floor;\"\n                 \"[m.hasOwnProperty('abs'), delete m.abs, m.abs(-1)]\"),\n      njs_str(\"true,true,1\") },\n\n    { njs_str(\"var Q = Object.create({}, {a: {value: 'AAA'}, [Symbol.toStringTag]:{value: 'TAG'}});\"\n              \"Q[Symbol.toStringTag]\"),\n      njs_str(\"TAG\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({a:1}, 'a').value\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({a:1}, 'a').configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({a:1}, 'a').enumerable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({a:1}, 'a').writable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({a:1}, 'b')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({}, 'a')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(Object.create({a:1}), 'a')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([3,4], '1').value\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([3,4], 1).value\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([], 'length').value\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([], '0')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([1,2], '1').value\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([1,2], new String('1')).value\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor({undefined:1}, void 0).value\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([1,2], 1).value\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([1,,,3], '1')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor([1,2], '3')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"JSON.stringify(Object.getOwnPropertyDescriptor([3,4], 'length'))\"),\n      njs_str(\"{\\\"value\\\":2,\\\"writable\\\":true,\\\"enumerable\\\":false,\\\"configurable\\\":false}\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(Array.of, 'length').value\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor('\u03b1\u03b2\u03b3\u03b4', '1').value\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(new String('\u03b1\u03b2\u03b3\u03b4'), '1').value\"),\n      njs_str(\"\u03b2\") },\n\n    { njs_str(\"var s = new String('\u03b1\u03b2\u03b3\u03b4'); s.a = 1;\"\n                 \"Object.getOwnPropertyDescriptor(s, 'a').value\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"JSON.stringify(Object.getOwnPropertyDescriptor('\u03b1\u03b2\u03b3\u03b4', '2'))\"),\n      njs_str(\"{\\\"value\\\":\\\"\u03b3\\\",\\\"writable\\\":false,\\\"enumerable\\\":true,\\\"configurable\\\":false}\") },\n\n    { njs_str(\"JSON.stringify(Object.getOwnPropertyDescriptor(new String('abc'), 'length'))\"),\n      njs_str(\"{\\\"value\\\":3,\\\"writable\\\":false,\\\"enumerable\\\":false,\\\"configurable\\\":false}\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(1, '0')\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3\u03b4'.propertyIsEnumerable('0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"({a:1}).propertyIsEnumerable({toString:function () {return 'a';}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3\u03b4'.propertyIsEnumerable('a')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'\u03b1\u03b2\u03b3\u03b4'.propertyIsEnumerable('length')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var min = Object.getOwnPropertyDescriptor(Math, 'min').value;\"\n                 \"[min(1,2), min(2,1), min(-1,1)]\"),\n      njs_str(\"1,1,-1\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptor(undefined)\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"var o = {}; o[void 0] = 'a'; Object.getOwnPropertyDescriptor(o).value\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"var o = {}; o[void 0] = 'a'; Object.getOwnPropertyDescriptor(o, undefined).value\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptors()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"typeof Object.getOwnPropertyDescriptors(1)\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"Object.keys(Object.getOwnPropertyDescriptors([]))\"),\n      njs_str(\"length\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptors(function(a,b,c) {}).length.value\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Object.values(Object.getOwnPropertyDescriptors('abc'))\"\n                 \".reduce(function(a, x) { return a += x.value; }, '')\"),\n      njs_str(\"abc3\") },\n\n    { njs_str(\"Object.getOwnPropertyNames()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\") },\n\n    { njs_str(\"Array.isArray(Object.getOwnPropertyNames({}))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getOwnPropertyNames({a:1, b:1, c:1})\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(Object.defineProperty({a:1}, 'b', {}))\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(Object.defineProperty([], 'b', {}))\"),\n      njs_str(\"b,length\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(Object.defineProperty(new String(), 'b', {}))\"),\n      njs_str(\"b,length\") },\n\n    { njs_str(\"Object.getOwnPropertyNames([1,2,3])\"),\n      njs_str(\"0,1,2,length\") },\n\n    { njs_str(\"Object.getOwnPropertyNames('abc')\"),\n      njs_str(\"0,1,2,length\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(function() {})\"),\n      njs_str(\"length,prototype\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(Array)\"),\n      njs_str(\"name,length,prototype,isArray,of\") },\n\n    { njs_str(\"Object.getOwnPropertyNames(Array.isArray)\"),\n      njs_str(\"name,length\") },\n\n    /* Object.freeze() */\n\n    { njs_str(\"[undefined, null, false, NaN, '', Symbol()]\"\n              \".every((x) => Object.is(Object.freeze(x), x))\"),\n      njs_str(\"true\")\n    },\n\n    { njs_str(\"var buf = new ArrayBuffer(8);\"\n              NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => {Object.freeze(new ctr([])); \"\n              \"                 Object.freeze(new ctr(buf, 8)); return true; })\"),\n      njs_str(\"true\")\n    },\n\n    { njs_str(\"var buf = new ArrayBuffer(8);\"\n              NJS_TYPED_ARRAY_LIST\n              \".map((ctr) => { try { Object.freeze(new ctr(buf)); } catch(e) { return e; } })\"\n              \".every((x) => x instanceof TypeError)\"),\n      njs_str(\"true\")\n    },\n\n    { njs_str(\"Object.freeze([1]).pop()\"),\n      njs_str(\"TypeError: Cannot delete property \\\"0\\\" of array\") },\n\n    { njs_str(\"var a = Object.freeze([1]); a[0] = 2;\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"0\\\" of array\") },\n\n    { njs_str(\"var a = Object.freeze([1]); a[1] = 2;\"),\n      njs_str(\"TypeError: Cannot add property \\\"1\\\", object is not extensible\") },\n\n    { njs_str(\"var a = Object.freeze([1,,3]); a[1] = 2;\"),\n      njs_str(\"TypeError: Cannot add property \\\"1\\\", object is not extensible\") },\n\n    { njs_str(\"var o = { a: 1 }; delete o.a; Object.freeze(o).a = 2;\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"Object.defineProperty(Object.freeze({}), 'b', {})\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"Object.defineProperties(Object.freeze({}), {b:{}})\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"Object.freeze()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = Object.freeze({a:1}); o.a = 2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = Object.freeze({a:1}); delete o.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = Object.freeze({a:1}); o.b = 1; o.b\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.freeze(Object.create({a:1})); o.a = 2; o.a\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.freeze({a:{b:1}}); o.a.b = 2; o.a.b\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Object.defineProperty([1,2], 'a', {value:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var a = Object.freeze([1,2]);\"\n                 \"Object.defineProperty(a, 'a', {value:1}).a\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var a = [1,2]; a.a = 1; Object.freeze(a); delete a.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of array\") },\n\n    { njs_str(\"var a = [1,2]; a.a = 1; Object.freeze(a); a.a = 2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of array\") },\n\n    { njs_str(\"var a = Object.freeze([1,2]); a.a = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"Object.defineProperty(function() {}, 'a', {value:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var f = Object.freeze(function() {});\"\n                 \"Object.defineProperty(f, 'a', {value:1}).a\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var f = function() {}; f.a = 1; Object.freeze(f); delete f.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of function\") },\n\n    { njs_str(\"var f = function() {}; f.a = 1; Object.freeze(f); f.a = 2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of function\") },\n\n    { njs_str(\"var f = Object.freeze(function() {}); f.a = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"Object.defineProperty(new Date(''), 'a', {value:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var d = Object.freeze(new Date(''));\"\n                 \"Object.defineProperty(d, 'a', {value:1}).a\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var d = new Date(''); d.a = 1; Object.freeze(d);\"\n                 \"delete d.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of date\") },\n\n    { njs_str(\"var d = new Date(''); d.a = 1; Object.freeze(d); d.a = 2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of date\") },\n\n    { njs_str(\"var d = Object.freeze(new Date('')); d.a = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"Object.defineProperty(new RegExp(''), 'a', {value:1}).a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var r = Object.freeze(new RegExp(''));\"\n                 \"Object.defineProperty(r, 'a', {value:1}).a\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var r = new RegExp(''); r.a = 1; Object.freeze(r); delete r.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of regexp\") },\n\n    { njs_str(\"var r = new RegExp(''); r.a = 1; Object.freeze(r); r.a = 2\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of regexp\") },\n\n    { njs_str(\"var r = Object.freeze(new RegExp('')); r.a = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.freeze({ get x() { return 10; } }); o.x\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var o = Object.freeze({ get x() { return 10; } });\"\n              \"Object.getOwnPropertyDescriptors(o).x.get\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"var o = Object.freeze({ get x() { return 10; } });\"\n              \"Object.getOwnPropertyDescriptor(o, 'x').writable\"),\n      njs_str(\"undefined\") },\n\n    /* Object.isFrozen() */\n\n    { njs_str(\"[undefined, null, false, NaN, '', Symbol()]\"\n              \".every((x) => Object.isFrozen(x))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[[], {}]\"\n              \".every((x) => Object.isFrozen(Object.preventExtensions(x)))\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => !Object.isFrozen(new ctr([])))\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => Object.isFrozen(Object.preventExtensions(new ctr([]))))\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".map((ctr) => new ctr([]))\"\n              \".map((x) => { x.broken = true; return x; })\"\n              \".every((x) => !Object.isFrozen(Object.preventExtensions(x)))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf = new ArrayBuffer(8);\"\n              NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => !Object.isFrozen(Object.preventExtensions(new ctr(buf))))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[{a:1}, [1,2], function() {}, new Date(''), new RegExp('')]\"\n              \".every((x) => !Object.isFrozen(x))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isFrozen()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isFrozen(Object.defineProperties({}, {a:{value:1}}))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{}, b:{}});\"\n                 \"o = Object.preventExtensions(o);\"\n                 \"Object.isFrozen(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{}, b:{writable:1}});\"\n                 \"o = Object.preventExtensions(o);\"\n                 \"Object.isFrozen(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{writable:1}});\"\n                 \"o = Object.preventExtensions(o);\"\n                 \"Object.isFrozen(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{configurable:1}});\"\n                 \"o = Object.preventExtensions(o);\"\n                 \"Object.isFrozen(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1});\"\n                 \"Object.isFrozen(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.freeze({a:1}); Object.isFrozen(o)\"),\n      njs_str(\"true\") },\n\n    /* Object.seal() */\n\n    { njs_str(\"[undefined, null, false, NaN, '', Symbol()]\"\n              \".every((x) => Object.is(Object.seal(x), x))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.seal()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.seal([1]).pop()\"),\n      njs_str(\"TypeError: Cannot delete property \\\"0\\\" of array\") },\n\n    { njs_str(\"var a = Object.seal([1]); a[0] = 2; a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = Object.seal([1]); a[1] = 2;\"),\n      njs_str(\"TypeError: Cannot add property \\\"1\\\", object is not extensible\") },\n\n    { njs_str(\"var a = Object.seal([1,,3]); a[1] = 2;\"),\n      njs_str(\"TypeError: Cannot add property \\\"1\\\", object is not extensible\") },\n\n    { njs_str(\"var o = { a: 1 }; delete o.a; Object.seal(o).a = 2\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.seal({a:1}); o.a = 2; o.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = Object.seal({a:1}); delete o.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of object\") },\n\n    { njs_str(\"var o = Object.seal({a:1}); o.b = 1; o.b\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.seal(Object.create({a:1})); o.a = 2; o.a\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.seal({a:{b:1}}); o.a.b = 2; o.a.b\"),\n      njs_str(\"2\") },\n\n    /* Object.isSealed() */\n\n    { njs_str(\"[undefined, null, false, NaN, '', Symbol()]\"\n              \".every((x) => Object.isSealed(x))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[[], {}]\"\n              \".every((x) => Object.isSealed(Object.preventExtensions(x)))\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => !Object.isSealed(new ctr([])))\"),\n      njs_str(\"true\") },\n\n    { njs_str(NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => Object.isSealed(Object.preventExtensions(new ctr([]))))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf = new ArrayBuffer(8);\"\n              NJS_TYPED_ARRAY_LIST\n              \".every((ctr) => Object.isSealed(Object.preventExtensions(new ctr(buf))))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf = new ArrayBuffer(8);\"\n              NJS_TYPED_ARRAY_LIST\n              \".map((ctr) => new ctr(buf))\"\n              \".map((x) => { x.broken = true; return x; })\"\n              \".every((x) => !Object.isSealed(Object.preventExtensions(x)))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[{a:1}, [1,2], function() {}, new Date(''), new RegExp('')]\"\n              \".every((x) => !Object.isSealed(x))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isSealed()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isSealed(Object.defineProperties({}, {a:{value:1}}))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{}, b:{}});\"\n              \"o = Object.preventExtensions(o);\"\n              \"Object.isSealed(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{}, b:{writable:1}});\"\n              \"o = Object.preventExtensions(o);\"\n              \"Object.isSealed(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{writable:1}});\"\n              \"o = Object.preventExtensions(o);\"\n              \"Object.isSealed(o)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = Object.defineProperties({}, {a:{configurable:1}});\"\n              \"o = Object.preventExtensions(o);\"\n              \"Object.isSealed(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1});\"\n              \"Object.isFrozen(o)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var o = Object.freeze({a:1}); Object.isFrozen(o)\"),\n      njs_str(\"true\") },\n\n    /* Object.preventExtensions() */\n\n    { njs_str(\"var o = Object.preventExtensions({a:1});\"\n              \"Object.defineProperty(o, 'b', {value:1})\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.preventExtensions({});\"\n              \"Object.defineProperty(o, Symbol.unscopables, {})\"),\n      njs_str(\"TypeError: Cannot add property \\\"Symbol(Symbol.unscopables)\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1});\"\n              \"Object.defineProperties(o, {b:{value:1}})\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1}); o.a = 2; o.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1}); delete o.a; o.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1}); o.b = 1; o.b\"),\n      njs_str(\"TypeError: Cannot add property \\\"b\\\", object is not extensible\") },\n\n    { njs_str(\"var o = Object.preventExtensions({a:1}); o[Symbol.unscopables] = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"Symbol(Symbol.unscopables)\\\", object is not extensible\") },\n\n    { njs_str(\"var o = { a: 1 }; delete o.a; Object.preventExtensions(o).a = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"a\\\", object is not extensible\") },\n\n    { njs_str(\"Object.preventExtensions()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"Object.preventExtensions(1)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.preventExtensions('')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Object.isExtensible({})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isExtensible([])\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var arrObj = [];Object.preventExtensions(arrObj); arrObj[1] = 1\"),\n      njs_str(\"TypeError: Cannot add property \\\"1\\\", object is not extensible\") },\n\n    { njs_str(\"var arrObj = [1,2];Object.preventExtensions(arrObj); arrObj[1] = 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.isExtensible(function() {})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isExtensible(new Date(''))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isExtensible(new RegExp(''))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isExtensible()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible(1)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible('')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible(Object.preventExtensions({}))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible(Object.preventExtensions([]))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible(Object.freeze({}))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible(Object.freeze([]))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.isExtensible(undefined)\"),\n      njs_str(\"false\") },\n\n    /* Object.is() */\n\n    { njs_str(\"typeof Object.is\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"Object.is.length == 2\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.is()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[undefined, null, false, NaN, '', Symbol(), {}]\"\n              \".map((x) => Object.is(x, x))\"\n              \".every((x) => x === true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[null, false, NaN, '', Symbol(), {}]\"\n              \".map((x) => Object.is(x) || Object.is(void 0, x))\"\n              \".every((x) => x === false)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[false, NaN, '', Symbol()]\"\n              \".map((x) => Object.is(Object(x), Object(x)))\"\n              \".every((x) => x === false)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.is(0, -0)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.is(0, null)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Object.is(42, '42')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\n        \"var fail;\"\n        \"function isConfigurableMethods(o) {\"\n        \"    var except = [\"\n        \"        'prototype',\"\n        \"        'caller',\"\n        \"        'arguments',\"\n        \"        'description',\"\n        \"    ];\"\n        \"    return Object.getOwnPropertyNames(o)\"\n        \"                 .filter(v => !except.includes(v)\"\n        \"                              && typeof o[v] == 'function')\"\n        \"                 .every(v => Object.getOwnPropertyDescriptor(o, v)\"\n        \"                                   .configurable\"\n        \"                             || !(fail = `${o.name}.${v}`));\"\n        \"}\"\n        \"[\"\n        \"    Boolean, Boolean.prototype,\"\n        \"    Number, Number.prototype,\"\n        \"    Symbol, Symbol.prototype,\"\n        \"    String, String.prototype,\"\n        \"    Object, Object.prototype,\"\n        \"    Array, Array.prototype,\"\n        \"    Function, Function.prototype,\"\n        \"    RegExp, RegExp.prototype,\"\n        \"    Date, Date.prototype,\"\n        \"    Error, Error.prototype,\"\n        \"    Math,\"\n        \"    JSON,\"\n        \"].every(obj => isConfigurableMethods(obj)) || fail\"),\n\n      njs_str(\"true\") },\n\n    { njs_str(\n        \"var fail;\"\n        \"function isWritableMethods(o) {\"\n        \"    var except = [\"\n        \"        'prototype',\"\n        \"        'caller',\"\n        \"        'arguments',\"\n        \"        'description',\"\n        \"    ];\"\n        \"    return Object.getOwnPropertyNames(o)\"\n        \"                 .filter(v => !except.includes(v)\"\n        \"                              && typeof o[v] == 'function')\"\n        \"                 .every(v => Object.getOwnPropertyDescriptor(o, v)\"\n        \"                                   .writable\"\n        \"                             || !(fail = `${o.name}.${v}`));\"\n        \"}\"\n        \"[\"\n        \"    Boolean, Boolean.prototype,\"\n        \"    Number, Number.prototype,\"\n        \"    Symbol, Symbol.prototype,\"\n        \"    String, String.prototype,\"\n        \"    Object, Object.prototype,\"\n        \"    Array, Array.prototype,\"\n        \"    Function, Function.prototype,\"\n        \"    RegExp, RegExp.prototype,\"\n        \"    Date, Date.prototype,\"\n        \"    Error, Error.prototype,\"\n        \"    Math,\"\n        \"    JSON,\"\n        \"].every(obj => isWritableMethods(obj)) || fail\"),\n\n      njs_str(\"true\") },\n\n    { njs_str(\"new Date(undefined)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(Infinity)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(NaN)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(1,undefined)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(1,Infinity)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(1,NaN)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(8.65e15)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"var d = new Date(1308895200000); new Date(d.getTime(), d.getTime())\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(275760, 1, 2**61)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(275760, 1, 1, 2**61)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(275760, 1, 1, 1, 2**61)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(275760, 1, 1, 1, 1, 2**61)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(275760, 1, 1, 1, 1, 1, 2**61)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"njs.dump([new Date(8.65e15)])\"),\n      njs_str(\"[Invalid Date]\") },\n\n    { njs_str(\"new Date(0e0.o0)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"(new Date(8.639e15)).getTime()\"),\n      njs_str(\"8639000000000000\") },\n\n    { njs_str(\"new Date(8.641e15)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"(new Date(null)).getTime()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"(new Date(86400)).getTime()\"),\n      njs_str(\"86400\") },\n\n    { njs_str(\"Date().split(' ')[0] in {'Mon':1, 'Tue':1, 'Wed':1, 'Thu':1, 'Fri':1, 'Sat':1, 'Sun':1}\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var d = new Date(''); d +' '+ d.getTime()\"),\n      njs_str(\"Invalid Date NaN\") },\n\n    { njs_str(\"var d = new Date(1); d = d + ''; d.slice(0, 33)\"),\n      njs_str(\"Thu Jan 01 1970 00:00:00 GMT+0000\") },\n\n    { njs_str(\"var d = new Date({valueOf:()=>86400000}); d = d + ''; d.slice(0, 33)\"),\n      njs_str(\"Fri Jan 02 1970 00:00:00 GMT+0000\") },\n\n    { njs_str(\"(new Date({toString:()=>'2011'})).getTime()\"),\n      njs_str(\"1293840000000\") },\n\n    { njs_str(\"(new Date({valueOf: ()=>86400, toString:()=>'2011'})).getTime()\"),\n      njs_str(\"86400\") },\n\n    { njs_str(\"var d = new Date(1308895200000); d.getTime()\"),\n      njs_str(\"1308895200000\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getTime()\"),\n      njs_str(\"1308941100000\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.valueOf()\"),\n      njs_str(\"1308941100000\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45);\"\n                 \"d.toString().slice(0, 33)\"),\n      njs_str(\"Fri Jun 24 2011 18:45:00 GMT+0000\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.toDateString()\"),\n      njs_str(\"Fri Jun 24 2011\") },\n\n    { njs_str(\"new Date(NaN).toDateString()\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45);\"\n                 \"d.toTimeString().slice(0, 17)\"),\n      njs_str(\"18:45:00 GMT+0000\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.toUTCString()\"),\n      njs_str(\"Fri, 24 Jun 2011 18:45:00 GMT\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                 \"d.toISOString()\"),\n      njs_str(\"2011-06-24T18:45:12.625Z\") },\n\n    { njs_str(\"var d = new Date(1999, 9, 10, 10, 10, 10, 10);\"\n              \"var local = new Date(d.getTime() - d.getTimezoneOffset() * 60000);\"\n              \"local.toISOString()\"),\n      njs_str(\"1999-10-10T10:10:10.010Z\") },\n\n#if (NJS_TIME_T_SIZE == 8)\n    { njs_str(\"[\"\n              \"'-010000-01-01T00:00:00.000Z',\"\n              \"'+010000-01-01T00:00:00.000Z',\"\n              \"'0002-01-01T00:00:00.000Z',\"\n              \"'0123-01-01T00:00:00.000Z',\"\n              \"].every((iso)=> (new Date(iso)).toISOString() === iso)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new Date('0020-01-01T00:00:00Z').toUTCString()\"),\n      njs_str(\"Wed, 01 Jan 0020 00:00:00 GMT\") },\n\n    { njs_str(\"new Date('0020-01-01T00:00:00Z').toString().slice(0, 15)\"),\n      njs_str(\"Wed Jan 01 0020\") },\n\n    { njs_str(\"(new Date('-000001-07-01T00:00Z')).toUTCString()\"),\n      njs_str(\"Thu, 01 Jul -0001 00:00:00 GMT\") },\n\n    { njs_str(\"(new Date('-000012-07-01T00:00Z')).toUTCString()\"),\n      njs_str(\"Fri, 01 Jul -0012 00:00:00 GMT\") },\n\n    { njs_str(\"(new Date('-000123-07-01T00:00Z')).toUTCString()\"),\n      njs_str(\"Sun, 01 Jul -0123 00:00:00 GMT\") },\n\n    { njs_str(\"(new Date('-001234-07-01T00:00Z')).toUTCString()\"),\n      njs_str(\"Fri, 01 Jul -1234 00:00:00 GMT\") },\n\n    { njs_str(\"(new Date('-012345-07-01T00:00Z')).toUTCString()\"),\n      njs_str(\"Thu, 01 Jul -12345 00:00:00 GMT\") },\n\n    { njs_str(\"new Date(NaN).toUTCString()\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"var d = new Date(-62167219200000); d.toISOString()\"),\n      njs_str(\"0000-01-01T00:00:00.000Z\") },\n\n    { njs_str(\"var d = new Date(-62135596800000); d.toISOString()\"),\n      njs_str(\"0001-01-01T00:00:00.000Z\") },\n\n    { njs_str(\"var d = new Date(-62198755200000); d.toISOString()\"),\n      njs_str(\"-000001-01-01T00:00:00.000Z\") },\n\n    { njs_str(\"new Date(NaN).toISOString()\"),\n      njs_str(\"RangeError: Invalid time value\") },\n#endif\n\n    { njs_str(\"Date.UTC(2011, 5, 24, 6, 0)\"),\n      njs_str(\"1308895200000\") },\n\n    { njs_str(\"Date.UTC({valueOf:()=>2011}, 5, 24, 6, 0)\"),\n      njs_str(\"1308895200000\") },\n\n    { njs_str(\"Date.UTC()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.UTC(Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.UTC(Infinity, 0)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.UTC(1970)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Date.UTC(1968, 24)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"[-1,0,1,99,100].map(yr => Date.UTC(yr))\"),\n      njs_str(\"-62198755200000,-2208988800000,-2177452800000,915148800000,-59011459200000\") },\n\n    { njs_str(\"Date.UTC(1970.9, 0.9, 1.9, 0.9, 0.9, 0.9, 0.9)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Date.UTC(-1970.9, -0.9, -0.9, -0.9, -0.9, -0.9, -0.9)\"),\n      njs_str(\"-124334438400000\") },\n\n    { njs_str(\"Date.UTC(275760, 8, 13, 0, 0, 0, 0)\"),\n      njs_str(\"8640000000000000\") },\n\n    { njs_str(\"Date.UTC(275760, 8, 13, 0, 0, 0, 1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.UTC(-271821, 3, 20, 0, 0, 0, 0)\"),\n      njs_str(\"-8640000000000000\") },\n\n    { njs_str(\"Date.UTC(-271821, 3, 20, 0, 0, 0, -1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.UTC(1970, 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Date.UTC(1970, 0, 0)\"),\n      njs_str(\"-86400000\") },\n\n    { njs_str(\"Date.parse()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011')\"),\n      njs_str(\"1293840000000\") },\n\n    { njs_str(\"Date.parse('+002011')\"),\n      njs_str(\"1293840000000\") },\n\n    { njs_str(\"Date.parse('2011-06')\"),\n      njs_str(\"1306886400000\") },\n\n    { njs_str(\"Date.parse('2011-06-24')\"),\n      njs_str(\"1308873600000\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01Z')\"),\n      njs_str(\"1308895260000\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02:')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02Z')\"),\n      njs_str(\"1308895262000\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02.Z')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02.6Z')\"),\n      njs_str(\"1308895262600\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02.62Z')\"),\n      njs_str(\"1308895262620\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02:625Z')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02.625Z')\"),\n      njs_str(\"1308895262625\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02.6255555Z')\"),\n      njs_str(\"1308895262625\") },\n\n    { njs_str(\"Date.parse('2011-06-24T06:01:02.625555Z5')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var d = new Date(); var str = d.toISOString();\"\n                 \"var diff = Date.parse(str) - Date.parse(str.substring(0, str.length - 1));\"\n                 \"d.getTimezoneOffset() == -diff/1000/60\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Date.parse('24 Jun 2011')\"),\n      njs_str(\"1308873600000\") },\n\n    { njs_str(\"Date.parse('Fri, 24 Jun 2011 18:48')\"),\n      njs_str(\"1308941280000\") },\n\n    { njs_str(\"Date.parse('Fri, 24 Jun 2011 18:48:02')\"),\n      njs_str(\"1308941282000\") },\n\n    { njs_str(\"Date.parse('Fri, 24 Jun 2011 18:48:02 GMT')\"),\n      njs_str(\"1308941282000\") },\n\n    { njs_str(\"Date.parse('Fri, 24 Jun 2011 18:48:02 +1245')\"),\n      njs_str(\"1308895382000\") },\n\n    { njs_str(\"Date.parse('Jun 24 2011')\"),\n      njs_str(\"1308873600000\") },\n\n    { njs_str(\"Date.parse('Fri Jun 24 2011 18:48')\"),\n      njs_str(\"1308941280000\") },\n\n    { njs_str(\"Date.parse('Fri Jun 24 2011 18:48:02')\"),\n      njs_str(\"1308941282000\") },\n\n    { njs_str(\"Date.parse('Fri Jun 24 2011 18:48:02 GMT+1245')\"),\n      njs_str(\"1308895382000\") },\n\n    /* Jan 1, 1. */\n    { njs_str(\"Date.parse('+000001-01-01T00:00:00.000Z')\"),\n      njs_str(\"-62135596800000\") },\n\n    /* Mar 2, 1 BCE. */\n    { njs_str(\"Date.parse('+000000-03-02T00:00:00.000Z')\"),\n      njs_str(\"-62161948800000\") },\n\n    /* Mar 1, 1 BCE. */\n    { njs_str(\"Date.parse('+000000-03-01T00:00:00.000Z')\"),\n      njs_str(\"-62162035200000\") },\n\n    /* Feb 29, 1 BCE. */\n    { njs_str(\"Date.parse('+000000-02-29T00:00:00.000Z')\"),\n      njs_str(\"-62162121600000\") },\n\n    /* Feb 28, 1 BCE. */\n    { njs_str(\"Date.parse('+000000-02-28T00:00:00.000Z')\"),\n      njs_str(\"-62162208000000\") },\n\n    /* Jan 1, 1 BCE. */\n    { njs_str(\"Date.parse('+000000-01-01T00:00:00.000Z')\"),\n      njs_str(\"-62167219200000\") },\n\n    /* Jan 1, 2 BCE. */\n    { njs_str(\"Date.parse('-000001-01-01T00:00:00.000Z')\"),\n      njs_str(\"-62198755200000\") },\n\n    { njs_str(\"var d = new Date(); d == Date.parse(d.toISOString())\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = Date(); s === Date(Date.parse(s))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var n = Date.now(); n == new Date(n)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var d = new Date(2011,0); d.getFullYear()\"),\n      njs_str(\"2011\") },\n\n    { njs_str(\"var d = new Date(2011, 0, 1, 0, 0, 0, -1); d.getFullYear()\"),\n      njs_str(\"2010\") },\n\n    { njs_str(\"var d = new Date(2011, 11, 31, 23, 59, 59, 999); d.getFullYear()\"),\n      njs_str(\"2011\") },\n\n    { njs_str(\"var d = new Date(2011, 11, 31, 23, 59, 59, 1000); d.getFullYear()\"),\n      njs_str(\"2012\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getFullYear()\"),\n      njs_str(\"2011\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCFullYear()\"),\n      njs_str(\"2011\") },\n\n    { njs_str(\"var d = new Date(2011, 5); d.getMonth()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var d = new Date(2011, 6, 0, 0, 0, 0, -1); d.getMonth()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var d = new Date(2011, 6, 31, 23, 59, 59, 999); d.getMonth()\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var d = new Date(2011, 6, 31, 23, 59, 59, 1000); d.getMonth()\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getMonth()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCMonth()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getDate()\"),\n      njs_str(\"24\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCDate()\"),\n      njs_str(\"24\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getDay()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCDay()\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getHours()\"),\n      njs_str(\"18\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCHours()\"),\n      njs_str(\"18\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getMinutes()\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCMinutes()\"),\n      njs_str(\"45\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12);\"\n                 \"d.getSeconds()\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12);\"\n                 \"d.getUTCSeconds()\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                 \"d.getMilliseconds()\"),\n      njs_str(\"625\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                 \"d.getUTCMilliseconds()\"),\n      njs_str(\"625\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                 \"d.getTimezoneOffset()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var d = new Date(); d.setTime(1308895200000); d.getTime()\"),\n      njs_str(\"1308895200000\") },\n\n    { njs_str(\"var d = new Date(); d.setTime(); d.getTime()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var d = new Date(); d.setTime(Infinity); d.getTime()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var d = new Date(); d.setTime(8.64e15 +1); d.getTime()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var d = new Date(NaN); d.setTime(0); d.getTime()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var d = new Date(); d.setTime(8.64e15); d.getTime()\"),\n      njs_str(\"8640000000000000\") },\n\n    { njs_str(\"var d = new Date(1308895201625); d.setMilliseconds(5003);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895206003\") },\n\n    { njs_str(\"var d = new Date(1308895201625); d.setSeconds(2, 5003);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895207003\") },\n\n    { njs_str(\"var d = new Date(1308895201625); d.setSeconds(2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895202625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMinutes(3, 2, 5003);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895387003\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMinutes(3, 2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895382625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMinutes(3);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895383625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCMinutes(3, 2, 5003);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895387003\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCMinutes(3, 2, 5003, 111111);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895387003\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCMinutes(3, 2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895382625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCMinutes(3);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308895383625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setHours(20, 3, 2, 5003);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945787003\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setHours(20, 3, 2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945782625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setHours(20, 3);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945783625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setHours(20);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945723625\") },\n\n    { njs_str(\"var d = new Date(1308895323625);\"\n                 \"d.setUTCHours(20, 3, 2, 5003); d.getTime()\"),\n      njs_str(\"1308945787003\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCHours(20, 3, 2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945782625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCHours(20, 3);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945783625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCHours(20);\"\n                 \"d.getTime()\"),\n      njs_str(\"1308945723625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setDate(10);\"\n                 \"d.getTime()\"),\n      njs_str(\"1307685723625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCDate(10);\"\n                 \"d.getTime()\"),\n      njs_str(\"1307685723625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMonth(2, 10);\"\n                 \"d.getTime()\"),\n      njs_str(\"1299736923625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCMonth(2, 10);\"\n                 \"d.getTime()\"),\n      njs_str(\"1299736923625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMonth(2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1300946523625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMonth(2, undefined);\"\n                 \"d.getTime()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setMonth(2, undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCMonth(2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1300946523625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setFullYear(2010, 2, 10);\"\n                 \"d.getTime()\"),\n      njs_str(\"1268200923625\") },\n\n    { njs_str(\"var d = new Date(NaN); d.setFullYear(2010);\"\n                 \"d.getTime() === (new Date(2010,0)).getTime()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var d = new Date(1308895323625);\"\n                 \"d.setUTCFullYear(2010, 2, 10); d.getTime()\"),\n      njs_str(\"1268200923625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setFullYear(2010, 2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1269410523625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCFullYear(2010, 2);\"\n                 \"d.getTime()\"),\n      njs_str(\"1269410523625\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setFullYear(2010);\"\n                 \"d.getTime()\"),\n      njs_str(\"1277359323625\") },\n\n    { njs_str(\"var date = new Date(2016, 6, 7, 11, 36, 23, 2); \"\n              \"date.setFullYear(null) === new Date(-1, 18, 7, 11, 36, 23, 2).getTime()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var d = new Date(1308895323625); d.setUTCFullYear(2010);\"\n                 \"d.getTime()\"),\n      njs_str(\"1277359323625\") },\n\n    { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                 \"d.toJSON(1)\"),\n      njs_str(\"2011-06-24T18:45:12.625Z\") },\n\n    { njs_str(\"var o = { toISOString: function() { return 'OK' } };\"\n                 \"Date.prototype.toJSON.call(o, 1)\"),\n      njs_str(\"OK\") },\n\n    { njs_str(\"var d = new Date(); d.__proto__ === Date.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"new Date(NaN)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"new Date(0, 9e99)\"),\n      njs_str(\"Invalid Date\") },\n\n#ifndef NJS_SUNC\n    { njs_str(\"new Date(-0).getTime()\"),\n      njs_str(\"0\") },\n#endif\n\n    { njs_str(\"new Date(6.54321).valueOf()\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"[0].map(new Date().getDate)\"),\n      njs_str(\"TypeError: cannot convert undefined to date\") },\n\n    { njs_str(\"new Date(eval)\"),\n      njs_str(\"Invalid Date\") },\n\n    { njs_str(\"Date.UTC(eval)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Date.name\"),\n      njs_str(\"Date\") },\n\n    { njs_str(\"Date.length\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"Date.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Date.prototype.constructor === Date\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Date.prototype.hasOwnProperty('constructor')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Date.prototype.__proto__ === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"njs.dump(Date.prototype)\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"Date.prototype.valueOf()\"),\n      njs_str(\"TypeError: cannot convert object to date\") },\n\n    { njs_str(\"Date.constructor === Function\"),\n      njs_str(\"true\") },\n\n    /* eval(). */\n\n    { njs_str(\"eval.name\"),\n      njs_str(\"eval\") },\n\n    { njs_str(\"eval.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"eval.prototype\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"eval.__proto__ === Function.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"eval.constructor === Function\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"eval()\"),\n      njs_str(\"InternalError: Not implemented\") },\n\n    { njs_str(\"delete this.eval; eval\"),\n      njs_str(\"ReferenceError: \\\"eval\\\" is not defined\") },\n\n    { njs_str(\"var d = Object.getOwnPropertyDescriptor(this, 'eval');\"\n              \"d.writable && !d.enumerable && d.configurable\"),\n      njs_str(\"true\") },\n\n    /* Math. */\n\n    { njs_str(\"Math.PI\"),\n      njs_str(\"3.141592653589793\") },\n\n    { njs_str(\"Math.abs()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.abs(5)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"Math.abs(-5)\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"Math.abs('5.0')\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"Math.abs('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acos()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acos(NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acos('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acos(1.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acos(-1.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acos('1')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.acos(0) - Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.acosh()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acosh('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acosh(0.9)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.acosh(1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.acosh('Infinity')\"),\n      njs_str(\"Infinity\") },\n\n    /*\n     * The difference is Number.EPSILON on Linux/i686\n     * and zero on other platforms.\n     */\n    { njs_str(\"Math.abs(Math.acosh((1/Math.E + Math.E)/2) - 1)\"\n                 \" <= Number.EPSILON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.asin()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asin(NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asin('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asin(1.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asin(-1.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asin(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.asin('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.asin(1) - Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.asinh()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asinh('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.asinh(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.asinh('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.asinh(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.asinh(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.asinh((Math.E - 1/Math.E)/2)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.atan()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atan(NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atan('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atan('Infinity') - Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan(-Infinity) + Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.atan(1) - Math.PI/4\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atan2(1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atan2('abc', 1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atan2(1, 0) - Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2('1', -0) - Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(0, '1')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(0, 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(0, -0) - Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2('0', -1) - Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(-0, '0.1')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.atan2(-0, 0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.atan2(-0, -0) + Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2('-0', '-1') + Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(-0.1, 0) + Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(-1, -0) + Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(1, 'Infinity')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(0.1, -Infinity) - Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(-1, Infinity)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.atan2('-0.1', -Infinity) + Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(Infinity, -5) - Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(-Infinity, 5) + Math.PI/2\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2('Infinity', 'Infinity') - Math.PI/4\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(Infinity, -Infinity) - 3*Math.PI/4\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(-Infinity, 'Infinity') + Math.PI/4\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2('-Infinity', -Infinity) + 3*Math.PI/4\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atan2(1, 1) - Math.atan2(-5, -5) - Math.PI\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atanh()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atanh('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atanh(-1.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atanh(1.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.atanh(1)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.atanh('-1')\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.atanh(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.atanh(-0)\"),\n      njs_str(\"-0\") },\n\n    /*\n     * The difference is Number.EPSILON on Linux/i686\n     * and zero on other platforms.\n     */\n    { njs_str(\"Math.abs(1 - Math.atanh((Math.E - 1)/(Math.E + 1)) * 2)\"\n                 \" <= Number.EPSILON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.cbrt()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cbrt('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cbrt(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.cbrt('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.cbrt(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.cbrt(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"(Math.cbrt('27') - 3) < 1e-15\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.cbrt(-1)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Math.ceil()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.ceil('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.ceil(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.ceil('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.ceil('Infinity')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.ceil(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.ceil(-0.9)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.ceil(3.1)\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"Math.clz32()\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"Math.clz32('abc')\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"Math.clz32(NaN)\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"Math.clz32(Infinity)\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"Math.clz32('1')\"),\n      njs_str(\"31\") },\n\n    { njs_str(\"Math.clz32(0)\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"Math.clz32('65535')\"),\n      njs_str(\"16\") },\n\n    { njs_str(\"Math.clz32(-1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.clz32(4294967298)\"),\n      njs_str(\"30\") },\n\n    { njs_str(\"Math.cos()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cos('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cos('0')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.cos(-0)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.cos(Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cos(-Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cos(Math.PI*2)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.cosh()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cosh('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.cosh('0')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.cosh(-0)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.cosh(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.cosh(-Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    /*\n     * The difference is Number.EPSILON on FreeBSD\n     * and zero on other platforms.\n     */\n    { njs_str(\"Math.abs(Math.cosh(1) - (1/Math.E + Math.E)/2)\"\n                 \" <= Number.EPSILON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.exp()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.exp('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.exp('0')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.exp(-0)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.exp(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.exp(-Infinity)\"),\n      njs_str(\"0\") },\n\n    /*\n     * The difference is 2 * Number.EPSILON on FreeBSD\n     * and zero on other platforms.\n     */\n    { njs_str(\"Math.abs(Math.exp(1) - Math.E) <= 2 * Number.EPSILON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.expm1()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.expm1('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.expm1('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.expm1(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.expm1(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.expm1(-Infinity)\"),\n      njs_str(\"-1\") },\n\n    /*\n     * The difference is 2 * Number.EPSILON on FreeBSD, Solaris,\n     * and MacOSX and zero on other platforms.\n     */\n    { njs_str(\"Math.abs(1 + Math.expm1(1) - Math.E) <= 2 * Number.EPSILON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.floor()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.floor('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.floor(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.floor('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.floor('Infinity')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.floor(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.floor(0.9)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.floor(-3.1)\"),\n      njs_str(\"-4\") },\n\n    { njs_str(\"Math.fround()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.fround('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.fround(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.fround('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.fround('Infinity')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.fround(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.fround('-1.5')\"),\n      njs_str(\"-1.5\") },\n\n    { njs_str(\"Math.fround(16777216)\"),\n      njs_str(\"16777216\") },\n\n    { njs_str(\"Math.fround(-16777217)\"),\n      njs_str(\"-16777216\") },\n\n    { njs_str(\"Math.hypot()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.hypot(1, 2, 'abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.hypot(1, NaN, 3)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.hypot(1, NaN, -Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.hypot(-42)\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"Math.hypot(8, -15)\"),\n      njs_str(\"17\") },\n\n    { njs_str(\"Math.hypot(3, -4, 12.0, '84', 132)\"),\n      njs_str(\"157\") },\n\n    { njs_str(\"Math.imul()\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul('a', 1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(1, NaN)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(2, '3')\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"Math.imul('3.9', -2.1)\"),\n      njs_str(\"-6\") },\n\n    { njs_str(\"Math.imul(2, 2147483647)\"),\n      njs_str(\"-2\") },\n\n    { njs_str(\"Math.imul(Number.MAX_SAFE_INTEGER, 2)\"),\n      njs_str(\"-2\") },\n\n    { njs_str(\"Math.imul(1, Number.MAX_SAFE_INTEGER + 1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(2, Number.MIN_SAFE_INTEGER)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Math.imul(Number.MIN_SAFE_INTEGER - 1, 1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(2, 4294967297)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"Math.imul(-4294967297, 4294967297)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Math.imul(4294967297, -4294967298)\"),\n      njs_str(\"-2\") },\n\n    { njs_str(\"Math.imul(-4294967290, 4294967290)\"),\n      njs_str(\"-36\") },\n\n    { njs_str(\"Math.imul(-Infinity, 1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(1, Infinity)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(Number.MAX_VALUE, 1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.imul(1, -Number.MAX_VALUE)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.log()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log(-1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log(0)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log('-0')\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log(1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.log(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.log(Math.E)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.log10()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log10('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log10(-1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log10(0)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log10('-0')\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log10(1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.log10(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.log10(1000)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Math.log1p()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log1p('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log1p(-2)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log1p('-1')\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log1p(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.log1p(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.log1p(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.log1p(Math.E - 1)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.log2()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log2('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log2(-1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.log2(0)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log2('-0')\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.log2(1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.log2(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.log2(128)\"),\n      njs_str(\"7\") },\n\n    { njs_str(\"Math.max()\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.max(0, -0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.max(-0, 0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.max(null)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.max(undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.max(1, 2, 3, undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.max(1, 2, 3, NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.max('1', '2', '5')\"),\n      njs_str(\"5\") },\n\n    { njs_str(\"Math.max(5, {valueOf: function () {return 10}}, 6)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"Math.max(5, {valueOf: function () {return 10}}, 20)\"),\n      njs_str(\"20\") },\n\n    { njs_str(\"Math.max(5, undefined, 20)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.max(-10, null, -30)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.min()\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.min(0, -0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.min(-0, 0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.min(null)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.min(undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.min(1, 2, 3, undefined)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.min(1, 2, 3, NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.min('1', '2', '5')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.pow(2, 5)\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"Math.pow(2)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.pow()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.pow(1, NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.pow(3, NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.pow('a', -0)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.pow(1.1, Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.pow(-1.1, -Infinity)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.pow(-1, Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.pow(1, -Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.pow(-0.9, Infinity)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.pow(0.9, -Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.pow('Infinity', 0.1)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.pow(Infinity, '-0.1')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.pow(-Infinity, 3)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.pow('-Infinity', '3.1')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.pow(-Infinity, '-3')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.pow('-Infinity', -2)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.pow('0', 0.1)\"),\n      njs_str(\"0\") },\n\n#ifndef __NetBSD__  /* NetBSD 7: pow(0, negative) == -Infinity. */\n    { njs_str(\"Math.pow(0, '-0.1')\"),\n      njs_str(\"Infinity\") },\n#endif\n\n    { njs_str(\"Math.pow(-0, 3)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.pow('-0', '3.1')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.pow(-0, '-3')\"),\n      njs_str(\"-Infinity\") },\n\n#ifndef __NetBSD__  /* NetBSD 7: pow(0, negative) == -Infinity. */\n    { njs_str(\"Math.pow('-0', -2)\"),\n      njs_str(\"Infinity\") },\n#endif\n\n    { njs_str(\"Math.pow(-3, 0.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"var a = Math.random(); a >= 0 && a < 1\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.round()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.round('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.round(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.round('-0')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.round('Infinity')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.round(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.round(0.4)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.round('0.5')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.round('-0.4')\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.round(-0.5)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.round(-0.50000000000000001)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.round(-0.5000000000000001)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"[0.500001, 0.5000001,0.50000001].map((v)=>Math.round((2**32) + v) - 2**32)\"),\n      njs_str(\"1,1,1\") },\n\n    { njs_str(\"[0.500001, 0.5000001,0.50000001].map((v)=>Math.round(-(2**32) + v) + 2**32)\"),\n      njs_str(\"1,1,1\") },\n\n    { njs_str(\"[0.500001, 0.5000001,0.50000001].map((v)=>Math.round((2**32) - v) - 2**32)\"),\n      njs_str(\"-1,0,0\") },\n\n    { njs_str(\"[0.500001, 0.5000001,0.50000001].map((v)=>Math.round(-(2**32) - v) + 2**32)\"),\n      njs_str(\"-1,0,0\") },\n\n    { njs_str(\"Math.sign(5)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.sign(-5)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Math.sign(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.sign(-0.0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.sign(NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sign()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sin()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sin('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sin('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.sin(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.sin(Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sin(-Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sin(-Math.PI/2)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Math.sinh()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sinh('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sinh('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.sinh(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.sinh(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.sinh(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    /*\n     * The difference is Number.EPSILON on Solaris\n     * and zero on other platforms.\n     */\n    { njs_str(\"Math.abs(Math.sinh(1) - (Math.E - 1/Math.E)/2)\"\n                 \" <= Number.EPSILON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Math.sqrt()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sqrt('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sqrt('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.sqrt(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.sqrt(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.sqrt(-0.1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.sqrt('9.0')\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Math.tan()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.tan('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.tan('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.tan(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.tan(Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.tan(-Infinity)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.tan(Math.PI/3) + Math.tan(-Math.PI/3)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.tanh()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.tanh('abc')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.tanh('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.tanh(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.tanh(Infinity)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math.tanh(-Infinity)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"Math.tanh(0.5) - (Math.E - 1)/(Math.E + 1)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.trunc(3.9)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"Math.trunc(-3.9)\"),\n      njs_str(\"-3\") },\n\n    { njs_str(\"Math.trunc(0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.trunc(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.trunc(0.9)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Math.trunc(-0.9)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"Math.trunc(Infinity)\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"Math.trunc(-Infinity)\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"Math.trunc(NaN)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math.trunc()\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"Math\"),\n      njs_str(\"[object Math]\") },\n\n    { njs_str(\"Math.x = function (x) {return 2*x;}; Math.x(3)\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"isNaN\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"isNaN.name\"),\n      njs_str(\"isNaN\") },\n\n    { njs_str(\"isNaN.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"typeof isNaN\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"typeof isNaN.length\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"isNaN()\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"isNaN(123)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"isNaN('123')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"isNaN('Infinity')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"isNaN('abc')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"isFinite\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"isFinite.name\"),\n      njs_str(\"isFinite\") },\n\n    { njs_str(\"isFinite.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"isFinite()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"isFinite(123)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"isFinite('123')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"isFinite('Infinity')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"isFinite('abc')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"parseInt.name\"),\n      njs_str(\"parseInt\") },\n\n    { njs_str(\"parseInt.length\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"parseInt('12345abc')\"),\n      njs_str(\"12345\") },\n\n    { njs_str(\"parseInt('123', 0)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"parseInt('0XaBc', 0)\"),\n      njs_str(\"2748\") },\n\n    { njs_str(\"parseInt(' 123')\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"parseInt('1010', 2)\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"parseInt('aBc', 16)\"),\n      njs_str(\"2748\") },\n\n    { njs_str(\"parseInt('0XaBc')\"),\n      njs_str(\"2748\") },\n\n    { njs_str(\"parseInt('-0xabc')\"),\n      njs_str(\"-2748\") },\n\n    { njs_str(\"parseInt('njscript', 36)\"),\n      njs_str(\"1845449130881\") },\n\n    { njs_str(\"parseInt('0x')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseInt('z')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseInt('0xz')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseInt('0x', 16)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseInt('0x', 33)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"parseInt('0x', 34)\"),\n      njs_str(\"33\") },\n\n    { njs_str(\"parseInt('0', 1)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseInt('0', 37)\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"1/parseInt('-0')\"),\n      njs_str(\"-Infinity\") },\n\n    { njs_str(\"parseInt('11', new Number(Infinity)) === parseInt('11', Infinity)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"parseInt('11', Number.POSITIVE_INFINITY)\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"parseFloat.name\"),\n      njs_str(\"parseFloat\") },\n\n    { njs_str(\"parseFloat.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"parseFloat('12345abc')\"),\n      njs_str(\"12345\") },\n\n    { njs_str(\"parseFloat('')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseFloat('     \\t')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseFloat('\\\\u20281')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"parseFloat('e11')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseFloat({toString(){return '  1'}})\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"parseFloat('1e2147483647')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"parseFloat('1e-2147483647')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"parseFloat('1e-2147483648')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"parseFloat('1e' + '5'.repeat(16))\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"parseFloat('1e-' + '5'.repeat(16))\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"parseFloat('0x')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"parseFloat('0xff')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"parseFloat('Infinity')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"parseFloat(' Infinityzz')\"),\n      njs_str(\"Infinity\") },\n\n    { njs_str(\"parseFloat('Infinit')\"),\n      njs_str(\"NaN\") },\n\n    { njs_str(\"parseFloat('5.7e1')\"),\n      njs_str(\"57\") },\n\n    { njs_str(\"parseFloat('-5.7e-1')\"),\n      njs_str(\"-0.57\") },\n\n    { njs_str(\"parseFloat('-5.e-1')\"),\n      njs_str(\"-0.5\") },\n\n    { njs_str(\"parseFloat('5.7e+01')\"),\n      njs_str(\"57\") },\n\n    { njs_str(\"parseFloat(' 5.7e+01abc')\"),\n      njs_str(\"57\") },\n\n    { njs_str(\"parseFloat('-5.7e-1abc')\"),\n      njs_str(\"-0.57\") },\n\n    { njs_str(\"parseFloat('-5.7e')\"),\n      njs_str(\"-5.7\") },\n\n    { njs_str(\"parseFloat('-5.7e+')\"),\n      njs_str(\"-5.7\") },\n\n    { njs_str(\"parseFloat('-5.7e+abc')\"),\n      njs_str(\"-5.7\") },\n\n    /* debugger. */\n\n    { njs_str(\"debugger\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"debugger;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"while (false) debugger;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"1 + debugger\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"debugger\\\" in 1\") },\n\n    { njs_str(\"debugger + 1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"+\\\" in 1\") },\n\n    /* Top-level objects. */\n\n    { njs_str(\"var global = this;\"\n              \"function isMutableObject(v) {\"\n              \"    var d = Object.getOwnPropertyDescriptor(global, v);\"\n              \"    /* Custom top-level objects are enumerable. */\"\n              \"    var enumerable = (v in {'njs':1, 'process':1}) ^ !d.enumerable;\"\n              \"    return d.writable && enumerable && d.configurable;\"\n              \"};\"\n              \"['njs', 'process', 'Math', 'JSON'].every((v)=>isMutableObject(v))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"njs === njs\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"this.njs = 1; njs\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"process === process\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"this.process = 1; process\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Math === Math\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"this.Math = 1; Math\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"JSON\"),\n      njs_str(\"[object JSON]\") },\n\n    { njs_str(\"JSON === JSON\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"this.JSON = 1; JSON\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"delete this.JSON; JSON\"),\n      njs_str(\"ReferenceError: \\\"JSON\\\" is not defined\") },\n\n    /* Top-level constructors. */\n\n    { njs_str(\n        \"var global = this;\"\n        \"function isValidConstructor(c) {\"\n        \"   var props = Object.getOwnPropertyDescriptor(global, c.name);\"\n        \"   props = props.writable && !props.enumerable && props.configurable;\"\n        \"   var same = c === global[c.name];\"\n        \"\"\n        \"   return props && same;\"\n        \"};\"\n        \"Object.getOwnPropertyNames(global)\"\n        \".filter((k)=>(global[k] && global[k].prototype && global[k].prototype.constructor))\"\n        \".map(k=>global[k])\"\n        \".every(c => isValidConstructor(c))\"),\n      njs_str(\"true\") },\n\n    /* JSON.parse() */\n\n    { njs_str(\"JSON.parse('null')\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"JSON.parse('true')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.parse('false')\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"JSON.parse('0')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"JSON.parse('-1234.56e2')\"),\n      njs_str(\"-123456\") },\n\n    { njs_str(\"typeof(JSON.parse('true'))\"),\n      njs_str(\"boolean\") },\n\n    { njs_str(\"typeof(JSON.parse('false'))\"),\n      njs_str(\"boolean\") },\n\n    { njs_str(\"typeof(JSON.parse('1'))\"),\n      njs_str(\"number\") },\n\n    { njs_str(\"typeof(JSON.parse('\\\"\\\"'))\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"typeof(JSON.parse('{}'))\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"typeof(JSON.parse('[]'))\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"JSON.parse('\\\"abc\\\"')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\\\\"\\\"')\"),\n      njs_str(\"\\\"\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\n\\\"')\"),\n      njs_str(\"\\n\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\t\\\"')\"),\n      njs_str(\"\\t\") },\n\n    { njs_str(\"JSON.parse('\\\"ab\\\\\\\\\\\"c\\\"')\"),\n      njs_str(\"ab\\\"c\") },\n\n    { njs_str(\"JSON.parse('\\\"abcdefghijklmopqr\\\\\\\\\\\"s\\\"')\"),\n      njs_str(\"abcdefghijklmopqr\\\"s\") },\n\n    { njs_str(\"JSON.parse('\\\"ab\\\\\\\\\\\"c\\\"').length\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"JSON.parse('\\\"\u0430\u0431\\\\\\\\\\\"\u0432\\\"')\"),\n      njs_str(\"\u0430\u0431\\\"\u0432\") },\n\n    { njs_str(\"JSON.parse('\\\"\u0430\u0431\\\\\\\\\\\"\u0432\\\"').length\"),\n      njs_str(\"4\") },\n\n    { njs_str(\"JSON.parse('\\\"\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\\\"').length\"),\n      njs_str(\"13\") },\n\n    { njs_str(\"JSON.parse('[\\\"' + '\u03b1'.repeat(33) + '\\\"]')[0][32]\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\u03B1\\\"')\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\uD801\\\\\\\\uDC00\\\"')\"),\n      njs_str(\"\ud801\udc00\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\u03B1\\\"') == JSON.parse('\\\"\\\\\\\\u03b1\\\"')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\u03B1\\\"').length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":1}').a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":1,\\\"a\\\":2}').a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"JSON.parse('{   \\\"a\\\" :  \\\"b\\\"   }').a\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{\\\"b\\\":1}}').a.b\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"JSON.parse('[{}, true ,1.1e2, {\\\"a\\\":[3,\\\"b\\\"]}]')[3].a[1]\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2}');\"\n                 \"Object.getOwnPropertyDescriptor(o, 'a').configurable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2}');\"\n                 \"Object.getOwnPropertyDescriptor(o, 'a').writable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2}');\"\n                 \"Object.getOwnPropertyDescriptor(o, 'a').enumerable\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2}');\"\n                 \"o.a = 3; o.a\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2}');\"\n                 \"o.b = 3; o.b\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"JSON.parse('2') || 10\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"JSON.parse('0') || 10\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"JSON.parse('-0') || 10\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"JSON.parse('\\\"a\\\"') || 10\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\"') || 10\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"JSON.parse('true') || 10\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.parse('false') || 10\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"JSON.parse('null') || 10\"),\n      njs_str(\"10\") },\n\n    { njs_str(\"var o = JSON.parse('{}', function(k, v) {return v;}); o\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2, \\\"b\\\":4, \\\"a\\\":{}}',\"\n                 \"                    function(k, v) {return undefined;});\"\n                 \"o\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2, \\\"c\\\":4, \\\"b\\\":\\\"x\\\"}',\"\n                 \"  function(k, v) {if (k === '' || typeof v === 'number') return v });\"\n                 \"Object.keys(o)\"),\n      njs_str(\"a,c\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2, \\\"b\\\":{}}',\"\n                 \"                    function(k, v) {return k;});\"\n                 \"o+typeof(o)\"),\n      njs_str(\"string\") },\n\n    { njs_str(\"var o = JSON.parse('[\\\"a\\\", \\\"b\\\"]',\"\n                 \"                    function(k, v) {return v;});\"\n                 \"o\"),\n      njs_str(\"a,b\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":[1,{\\\"b\\\":1},3]}',\"\n                 \"                    function(k, v) {return v;});\"\n                 \"o.a[1].b\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":[1,2]}',\"\n                 \"  function(k, v) {if (k === '' || k === 'a') {return v;}});\"\n                 \"o.a\"),\n      njs_str(\",\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":[1,2]}',\"\n                 \"  function(k, v) {return (k === '' || k === 'a') ? v : v*2});\"\n                 \"o.a\"),\n      njs_str(\"2,4\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":2, \\\"b\\\":{\\\"c\\\":[\\\"xx\\\"]}}',\"\n                 \"   function(k, v) {return typeof v === 'number' ? v * 2 : v;});\"\n                 \"o.a+o.b.c[0]\"),\n      njs_str(\"4xx\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"aa\\\":{\\\"b\\\":1}, \\\"abb\\\":1, \\\"c\\\":1}',\"\n                 \"   function(k, v) {return (k === '' || /^a/.test(k)) ? v : undefined;});\"\n                 \"Object.keys(o)\"),\n      njs_str(\"aa,abb\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":\\\"x\\\"}',\"\n                 \"   function(k, v) {if (k === 'a') {this.b='y';} return v});\"\n                 \"o.a+o.b\"),\n      njs_str(\"xy\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":\\\"x\\\"}',\"\n                 \"   function(k, v) {return (k === 'a' ? {x:1} : v)});\"\n                 \"o.a.x\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var keys = []; var o = JSON.parse('{\\\"a\\\":2, \\\"b\\\":{\\\"c\\\":\\\"xx\\\"}}',\"\n                 \"   function(k, v) {keys.push(k); return v;});\"\n                 \"keys\"),\n      njs_str(\"a,c,b,\") },\n\n    { njs_str(\"var args = []; var o = JSON.parse('[2,{\\\"a\\\":3}]',\"\n                 \"   function(k, v) {args.push(k+\\\":\\\"+v); return v;});\"\n                 \"args.join('|')\"),\n      njs_str(\"0:2|a:3|1:[object Object]|:2,[object Object]\") },\n\n    { njs_str(\"JSON.parse('[0,1,2]', function(k, v) {\"\n              \"    if (v == 2) {\"\n              \"        return undefined;\"\n              \"    }\"\n              \"    return v;\"\n              \"});\"),\n      njs_str(\"0,1,\") },\n\n    { njs_str(\"JSON.parse('[0,1,2]', function(k, v) {\"\n              \"    if (v == 0) {\"\n              \"        Object.defineProperty(this, '0', {value: undefined, enumerable: false});\"\n              \"        return undefined;\"\n              \"    }\"\n              \"    return v;\"\n              \"});\"),\n      njs_str(\",1,2\") },\n\n    { njs_str(\"JSON.parse()\"),\n      njs_str(\"SyntaxError: Unexpected token at position 0\") },\n\n    { njs_str(\"JSON.parse([])\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 0\") },\n\n    { njs_str(\"JSON.parse('')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 0\") },\n\n    { njs_str(\"JSON.parse('fals')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 0\") },\n\n    { njs_str(\"JSON.parse(' t')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('nu')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 0\") },\n\n    { njs_str(\"JSON.parse('-')\"),\n      njs_str(\"SyntaxError: Unexpected number at position 0\") },\n\n    { njs_str(\"JSON.parse('--')\"),\n      njs_str(\"SyntaxError: Unexpected number at position 1\") },\n\n    { njs_str(\"JSON.parse('1-')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('1ee1')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('1eg')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('0x01')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('\\\"\u0430\u0431\u0432')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 4\") },\n\n    { njs_str(\"JSON.parse('\\\"\\b')\"),\n      njs_str(\"SyntaxError: Forbidden source char at position 1\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\u')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 3\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\q\\\"')\"),\n      njs_str(\"SyntaxError: Unknown escape char at position 2\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\uDC01\\\"')\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\uD801\\\\\\\\uE000\\\"')\"),\n      njs_str(\"\ufffd\ue000\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\uD83D\\\"')\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\uD800\\\\\\\\uDB00\\\"')\"),\n      njs_str(\"\ufffd\ufffd\") },\n\n    { njs_str(\"JSON.parse('\\\"\\\\\\\\ud800[\\\"')\"),\n      njs_str(\"\ufffd[\") },\n\n    { njs_str(\"JSON.parse('{')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 1\") },\n\n    { njs_str(\"JSON.parse('{{')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('{[')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\"')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 4\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 5\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 6\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{}')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 7\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{}g')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 7\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{},')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 8\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{},}')\"),\n      njs_str(\"SyntaxError: Trailing comma at position 7\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{},,')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 8\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":{},,}')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 8\") },\n\n    { njs_str(\"JSON.parse('[')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 1\") },\n\n    { njs_str(\"JSON.parse('[q')\"),\n      njs_str(\"SyntaxError: Unexpected token at position 1\") },\n\n    { njs_str(\"JSON.parse('[\\\"a')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 3\") },\n\n    { njs_str(\"JSON.parse('[1 ')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 3\") },\n\n    { njs_str(\"JSON.parse('[1,]')\"),\n      njs_str(\"SyntaxError: Trailing comma at position 2\") },\n\n    { njs_str(\"JSON.parse('[1 , 5 ')\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 7\") },\n\n    { njs_str(\"JSON.parse('{\\\"a\\\":'.repeat(32))\"),\n      njs_str(\"SyntaxError: Nested too deep at position 155\") },\n\n    { njs_str(\"JSON.parse('['.repeat(32))\"),\n      njs_str(\"SyntaxError: Nested too deep at position 31\") },\n\n    { njs_str(\"var o = JSON.parse('{', function(k, v) {return v;});o\"),\n      njs_str(\"SyntaxError: Unexpected end of input at position 1\") },\n\n    { njs_str(\"var o = JSON.parse('{\\\"a\\\":1}', \"\n                 \"                   function(k, v) {return v.a.a;}); o\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\") },\n\n    { njs_str(\"function func() {this[8] = 1; return new Int8Array(func)}\"\n              \"JSON.parse('[1]', func);\"),\n      njs_str(\"\") },\n\n    /* JSON.stringify() */\n\n    { njs_str(\"JSON.stringify()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"JSON.stringify('')\"),\n      njs_str(\"\\\"\\\"\") },\n\n    { njs_str(\"JSON.stringify('abc')\"),\n      njs_str(\"\\\"abc\\\"\") },\n\n    { njs_str(\"JSON.stringify(new String('abc'))\"),\n      njs_str(\"\\\"abc\\\"\") },\n\n    { njs_str(\"var s = new String('abc'); s.toString = () => 'xxx'; \"\n              \"JSON.stringify(s)\"),\n      njs_str(\"\\\"xxx\\\"\") },\n\n    { njs_str(\"JSON.stringify(123)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"JSON.stringify(-0)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"JSON.stringify(0.00000123)\"),\n      njs_str(\"0.00000123\") },\n\n    { njs_str(\"JSON.stringify(new Number(123))\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var n = new Number(8.5); n.valueOf = () => 42;\"\n              \"JSON.stringify(n)\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"JSON.stringify(true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.stringify(false)\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"JSON.stringify(new Boolean(1))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.stringify(new Boolean(0))\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"JSON.stringify(null)\"),\n      njs_str(\"null\") },\n\n    { njs_str(\"JSON.stringify(undefined)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"JSON.stringify(Symbol())\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"JSON.stringify({})\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"JSON.stringify([])\"),\n      njs_str(\"[]\") },\n\n    { njs_str(\"var a = [1]; a[2] = 'x'; JSON.stringify(a)\"),\n      njs_str(\"[1,null,\\\"x\\\"]\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* very long test under MSAN */\n    { njs_str(njs_declare_sparse_array(\"a\", 32769)\n              \"a[32] = 'a'; a[64] = 'b';\"\n              \"var s = JSON.stringify(a); \"\n              \"[s.length,s.substring(162,163),s.match(/null/g).length]\"),\n      njs_str(\"163844,a,32767\") },\n#endif\n\n    { njs_str(njs_declare_sparse_array(\"a\", 8)\n              \"a[2] = 'a'; a[4] = 'b'; a.length = 3;\"\n              \"JSON.stringify(a)\"),\n      njs_str(\"[null,null,\\\"a\\\"]\") },\n\n    { njs_str(njs_declare_sparse_array(\"a\", 8)\n              \"a[1] = 'a'; a[2] = 'b'; a.length = 3;\"\n              \"JSON.stringify({a:1,b:2,c:3}, a)\"),\n      njs_str(\"{\\\"a\\\":1,\\\"b\\\":2}\") },\n\n    { njs_str(\"var a = [1,2,3];\"\n              \"Object.defineProperty(a, '1', {enumerable:false});\"\n              \"JSON.stringify(a)\"),\n      njs_str(\"[1,2,3]\") },\n\n    { njs_str(\"JSON.stringify({a:\\\"b\\\",c:19,e:null,t:true,f:false})\"),\n      njs_str(\"{\\\"a\\\":\\\"b\\\",\\\"c\\\":19,\\\"e\\\":null,\\\"t\\\":true,\\\"f\\\":false}\") },\n\n    { njs_str(\"JSON.stringify({a:1, b:undefined})\"),\n      njs_str(\"{\\\"a\\\":1}\") },\n\n    { njs_str(\"JSON.stringify({a:1, b:Symbol()})\"),\n      njs_str(\"{\\\"a\\\":1}\") },\n\n    { njs_str(\"var o = {a:1, c:2};\"\n                 \"Object.defineProperty(o, 'b', {enumerable:false, value:3});\"\n                 \"JSON.stringify(o)\"),\n      njs_str(\"{\\\"a\\\":1,\\\"c\\\":2}\") },\n\n    { njs_str(\"JSON.stringify({a:{}, b:[function(v){}]})\"),\n      njs_str(\"{\\\"a\\\":{},\\\"b\\\":[null]}\") },\n\n    { njs_str(\"JSON.stringify(RegExp())\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"JSON.stringify(Object(Symbol()))\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"var s = Object(Symbol()); s.test = 'test'; JSON.stringify(s)\"),\n      njs_str(\"{\\\"test\\\":\\\"test\\\"}\") },\n\n    { njs_str(\"JSON.stringify(SyntaxError('e'))\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"JSON.stringify(URIError('e'))\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"var e = URIError('e'); e.name = 'E'; JSON.stringify(e)\"),\n      njs_str(\"{\\\"name\\\":\\\"E\\\"}\") },\n\n    { njs_str(\"var e = URIError('e'); e.message = 'E'; JSON.stringify(e)\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"var e = URIError('e'); e.foo = 'E'; JSON.stringify(e)\"),\n      njs_str(\"{\\\"foo\\\":\\\"E\\\"}\") },\n\n    { njs_str(\"JSON.stringify({get key() {throw new Error('Oops')}})\"),\n      njs_str(\"Error: Oops\") },\n\n    { njs_str(\"JSON.stringify({toJSON() {throw new Error('Oops')}})\"),\n      njs_str(\"Error: Oops\") },\n\n    /* Ignoring named properties of an array. */\n\n    { njs_str(\"var a = [1,2]; a.a = 1;\"\n                 \"JSON.stringify(a)\"),\n      njs_str(\"[1,2]\") },\n\n    { njs_str(\"JSON.stringify({a:{b:{c:{d:1}, e:function(v){}}}})\"),\n      njs_str(\"{\\\"a\\\":{\\\"b\\\":{\\\"c\\\":{\\\"d\\\":1}}}}\") },\n\n    { njs_str(\"JSON.stringify([[\\\"b\\\",undefined],1,[5],{a:1}])\"),\n      njs_str(\"[[\\\"b\\\",null],1,[5],{\\\"a\\\":1}]\") },\n\n    { njs_str(\"var json = '{\\\"a\\\":{\\\"b\\\":{\\\"c\\\":{\\\"d\\\":1},\\\"e\\\":[true]}}}';\"\n                 \"json == JSON.stringify(JSON.parse(json))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var json = '{\\\"a\\\":\\\"\u0430\u0431\u0432\\\",\\\"b\\\":\\\"\u03b1\\\"}';\"\n                 \"json == JSON.stringify(JSON.parse(json))\"),\n      njs_str(\"true\") },\n\n    /* Multibyte characters: z - 1 byte, \u03b1 - 2 bytes, \ud801\udc00 - 4 bytes */\n\n    { njs_str(\"JSON.stringify('\u03b1\ud801\udc00z'.repeat(10))\"),\n      njs_str(\"\\\"\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\u03b1\ud801\udc00z\\\"\") },\n\n    { njs_str(\"JSON.stringify('\u03b1\ud801\udc00z'.repeat(10)).length\"),\n      njs_str(\"32\") },\n\n    { njs_str(\"JSON.stringify('\u03b1'.repeat(33))[32]\"),\n      njs_str(\"\u03b1\") },\n\n    { njs_str(\"JSON.stringify('a\\\\nbc')\"),\n      njs_str(\"\\\"a\\\\nbc\\\"\") },\n\n    { njs_str(\"JSON.stringify('\u0430\\t\u0431\u0432')\"),\n      njs_str(\"\\\"\u0430\\\\t\u0431\u0432\\\"\") },\n\n    { njs_str(\"JSON.stringify('\\\\n\\\\t\\\\r\\\\\\\"\\\\f\\\\b')\"),\n      njs_str(\"\\\"\\\\n\\\\t\\\\r\\\\\\\"\\\\f\\\\b\\\"\") },\n\n    { njs_str(\"JSON.stringify('\\x00\\x01\\x02\\x1f')\"),\n      njs_str(\"\\\"\\\\u0000\\\\u0001\\\\u0002\\\\u001f\\\"\") },\n\n    { njs_str(\"JSON.stringify('abc\\x00')\"),\n      njs_str(\"\\\"abc\\\\u0000\\\"\") },\n\n    { njs_str(\"JSON.stringify('\\x00zz')\"),\n      njs_str(\"\\\"\\\\u0000zz\\\"\") },\n\n    { njs_str(\"JSON.stringify('\\x00')\"),\n      njs_str(\"\\\"\\\\u0000\\\"\") },\n\n    { njs_str(\"JSON.stringify('a\\x00z')\"),\n      njs_str(\"\\\"a\\\\u0000z\\\"\") },\n\n    { njs_str(\"JSON.stringify('\\x00z\\x00')\"),\n      njs_str(\"\\\"\\\\u0000z\\\\u0000\\\"\") },\n\n    { njs_str(\"var i, s, r = true;\"\n                 \" for (i = 0; i < 128; i++) {\"\n                 \"  s = '\u03b1\ud801\udc00z'.repeat(i);\"\n                 \"  r &= (JSON.stringify(s) == ('\\\"' + s + '\\\"'));\"\n                 \"}; r\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"JSON.stringify('\\\\u0000'.repeat(10)) == ('\\\"' + '\\\\\\\\u0000'.repeat(10) + '\\\"')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.stringify('abc'.repeat(100)).length\"),\n      njs_str(\"302\") },\n\n    { njs_str(\"JSON.stringify('\u0430\u0431\u0432'.repeat(100)).length\"),\n      njs_str(\"302\") },\n\n    /* Byte strings. */\n\n    { njs_str(\"JSON.stringify('\\\\u00CE\\\\u00B1\\\\u00C2\\\\u00B6'.toBytes())\"),\n      njs_str(\"\\\"\u03b1\u00b6\\\"\") },\n\n    { njs_str(\"JSON.stringify('\u00b5\u00a7\u00b1\u00ae'.toBytes())\"),\n      njs_str(\"\\\"\\xB5\\xA7\\xB1\\xAE\\\"\") },\n\n    /* Optional arguments. */\n\n    { njs_str(\"JSON.stringify(undefined, undefined, 1)\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"JSON.stringify([{a:1,b:{c:2}},1], undefined, 0)\"),\n      njs_str(\"[{\\\"a\\\":1,\\\"b\\\":{\\\"c\\\":2}},1]\") },\n\n    { njs_str(\"JSON.stringify([{a:1,b:{c:2}},1], undefined, 1)\"),\n      njs_str(\"[\\n {\\n  \\\"a\\\": 1,\\n  \\\"b\\\": {\\n   \\\"c\\\": 2\\n  }\\n },\\n 1\\n]\") },\n\n    { njs_str(\"JSON.stringify([{a:1,b:{c:2}},1], undefined, ' ')\"),\n      njs_str(\"[\\n {\\n  \\\"a\\\": 1,\\n  \\\"b\\\": {\\n   \\\"c\\\": 2\\n  }\\n },\\n 1\\n]\") },\n\n    { njs_str(\"JSON.stringify([{a:1,b:{c:2}},1], undefined, '#')\"),\n      njs_str(\"[\\n#{\\n##\\\"a\\\": 1,\\n##\\\"b\\\": {\\n###\\\"c\\\": 2\\n##}\\n#},\\n#1\\n]\") },\n\n    { njs_str(\"JSON.stringify([1], null, 'AAAAABBBBBC')\"),\n      njs_str(\"[\\nAAAAABBBBB1\\n]\") },\n\n    { njs_str(\"var s = new String('A'); s.toString = () => 'AAAAABBBBBC';\"\n              \"JSON.stringify([1], null, s)\"),\n      njs_str(\"[\\nAAAAABBBBB1\\n]\") },\n\n    { njs_str(\"JSON.stringify([1], null, '!\u03b2\u03b2\u03b2\u03b2\u03b2').length\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"JSON.stringify([1], null, 'ABC') === JSON.stringify([1], null, new String('ABC'))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.stringify([1], null, '!!\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2\u03b2').length\"),\n      njs_str(\"15\") },\n\n    { njs_str(\"JSON.stringify([1], null, String.bytesFrom([0x9d])).length\"),\n      njs_str(\"InternalError: space argument cannot be a byte string\") },\n\n    { njs_str(\"JSON.stringify([1], null, 11)\"),\n      njs_str(\"[\\n          1\\n]\") },\n\n    { njs_str(\"JSON.stringify([1], null, 5) === JSON.stringify([1], null, 5.9)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"JSON.stringify([1], null, 5) === JSON.stringify([1], null, new Number(5))\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var s = new Number(23); s.valueOf = () => 5;\"\n              \"JSON.stringify([1], null, s)\"),\n      njs_str(\"[\\n     1\\n]\") },\n\n    { njs_str(\"JSON.stringify([{a:1,b:{c:2}},1], undefined, -1)\"),\n      njs_str(\"[{\\\"a\\\":1,\\\"b\\\":{\\\"c\\\":2}},1]\") },\n\n    { njs_str(\"JSON.stringify([{a:1,b:{c:2}},1], undefined, new Date())\"),\n      njs_str(\"[{\\\"a\\\":1,\\\"b\\\":{\\\"c\\\":2}},1]\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, 'a', { get() { return ()=> 1}, enumerable: true });\"\n              \"JSON.stringify(o)\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, 'a', { get: () => ({b:1, c:2}), enumerable: true });\"\n              \"JSON.stringify(o)\"),\n      njs_str(\"{\\\"a\\\":{\\\"b\\\":1,\\\"c\\\":2}}\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, 'a', { get: () => ({})});\"\n              \"JSON.stringify(o)\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"JSON.stringify({toJSON:function(k){}})\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"JSON.stringify({toJSON:function(k){return k}})\"),\n      njs_str(\"\\\"\\\"\") },\n\n    { njs_str(\"JSON.stringify(new Date(1308895323625))\"),\n      njs_str(\"\\\"2011-06-24T06:02:03.625Z\\\"\") },\n\n    { njs_str(\"JSON.stringify({a:new Date(1308895323625)})\"),\n      njs_str(\"{\\\"a\\\":\\\"2011-06-24T06:02:03.625Z\\\"}\") },\n\n    { njs_str(\"JSON.stringify({b:{toJSON:function(k){return undefined}}})\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"JSON.stringify({b:{toJSON:function(k){}},c:1})\"),\n      njs_str(\"{\\\"c\\\":1}\") },\n\n    { njs_str(\"JSON.stringify({b:{toJSON:function(k){return k}}})\"),\n      njs_str(\"{\\\"b\\\":\\\"b\\\"}\") },\n\n    { njs_str(\"JSON.stringify({a:1,b:new Date(1308895323625),c:2})\"),\n      njs_str(\"{\\\"a\\\":1,\\\"b\\\":\\\"2011-06-24T06:02:03.625Z\\\",\\\"c\\\":2}\") },\n\n    { njs_str(\"JSON.stringify({a:{b:new Date(1308895323625)}})\"),\n      njs_str(\"{\\\"a\\\":{\\\"b\\\":\\\"2011-06-24T06:02:03.625Z\\\"}}\") },\n\n    { njs_str(\"function key(k){return k}; function und(k){}\"\n                 \"JSON.stringify([{toJSON:key},{toJSON:und},{toJSON:key}])\"),\n      njs_str(\"[\\\"0\\\",null,\\\"2\\\"]\") },\n\n    { njs_str(\"JSON.stringify({b:{a:1,c:[2]}}, function(k,v){return v})\"),\n      njs_str(\"{\\\"b\\\":{\\\"a\\\":1,\\\"c\\\":[2]}}\") },\n\n    { njs_str(\"JSON.stringify([{a:1}, 2], function(k,v){return v})\"),\n      njs_str(\"[{\\\"a\\\":1},2]\") },\n\n    { njs_str(\"JSON.stringify({a:{toJSON:function(k){}}}, function(k,v){return v})\"),\n      njs_str(\"{}\") },\n\n    { njs_str(\"JSON.stringify({a:{toJSON:function(k){return 1}}}, function(k,v){return v})\"),\n      njs_str(\"{\\\"a\\\":1}\") },\n\n    { njs_str(\"JSON.stringify([{toJSON:function(k){}}], function(k,v){return v})\"),\n      njs_str(\"[null]\") },\n\n    { njs_str(\"JSON.stringify([{toJSON:function(k){return 1}}], function(k,v){return v})\"),\n      njs_str(\"[1]\") },\n\n    { njs_str(\"JSON.stringify({a:new Date(1308895323625)}, function(k,v){return v})\"),\n      njs_str(\"{\\\"a\\\":\\\"2011-06-24T06:02:03.625Z\\\"}\") },\n\n    { njs_str(\"JSON.stringify([new Date(1308895323625)], function(k,v){return v})\"),\n      njs_str(\"[\\\"2011-06-24T06:02:03.625Z\\\"]\") },\n\n    { njs_str(\"JSON.stringify([new Date(1308895323625)], \"\n                 \"  function(k,v){return (typeof v === 'string') ? v.toLowerCase() : v})\"),\n      njs_str(\"[\\\"2011-06-24t06:02:03.625z\\\"]\") },\n\n    { njs_str(\"JSON.stringify([new Date(1308895323625)], \"\n                 \"  function(k,v){return (typeof v === 'string') ? v.toLowerCase() : v}, '#')\"),\n      njs_str(\"[\\n#\\\"2011-06-24t06:02:03.625z\\\"\\n]\") },\n\n    { njs_str(\"JSON.stringify({a:new Date(1308895323625),b:1,c:'a'}, \"\n                 \"  function(k,v){return (typeof v === 'string') ? undefined : v})\"),\n      njs_str(\"{\\\"b\\\":1}\") },\n\n    { njs_str(\"JSON.stringify({a:new Date(1308895323625),b:1,c:'a'}, \"\n                 \"  function(k,v){return (typeof v === 'string') ? undefined : v}, '#')\"),\n      njs_str(\"{\\n#\\\"b\\\": 1\\n}\") },\n\n    { njs_str(\"JSON.stringify([new Date(1308895323625),1,'a'], \"\n                 \"  function(k,v){return (typeof v === 'string') ? undefined : v})\"),\n      njs_str(\"[null,1,null]\") },\n\n    { njs_str(\"var keys = []; var o = JSON.stringify({a:2, b:{c:1}},\"\n                 \"   function(k, v) {keys.push(k); return v;});\"\n                 \"keys\"),\n      njs_str(\",a,b,c\") },\n\n    { njs_str(\"JSON.stringify(['a', 'b', 'c'], \"\n                 \"    function(i, v) { if (i === '0') {return undefined} \"\n                 \"                     else if (i == 1) {return 2} \"\n                 \"                     else {return v}})\"),\n      njs_str(\"[null,2,\\\"c\\\"]\") },\n\n    { njs_str(\"JSON.stringify({a:2, b:{c:1}},\"\n                 \"               function(k, v) {delete this['b']; return v;})\"),\n      njs_str(\"{\\\"a\\\":2}\") },\n\n    { njs_str(\"JSON.stringify(JSON.parse('{\\\"a\\\":1,\\\"b\\\":2}', \"\n                 \"          function(k, v) {delete this['b']; return v;}))\"),\n      njs_str(\"{\\\"a\\\":1}\") },\n\n    { njs_str(\"var keys = []; var o = JSON.stringify([[1,2],{a:3}, 4],\"\n                 \"   function(k, v) {keys.push(k); return v;});\"\n                 \"keys\"),\n      njs_str(\",0,0,1,1,a,2\") },\n\n    { njs_str(\"JSON.stringify({b:{a:1,c:[2]}}, ['a', undefined, 'b', {}, 'a'])\"),\n      njs_str(\"{\\\"b\\\":{\\\"a\\\":1}}\") },\n\n    { njs_str(\"JSON.stringify({b:{a:1,c:[2]}}, [new String('a'), new String('b')])\"),\n      njs_str(\"{\\\"b\\\":{\\\"a\\\":1}}\") },\n\n    { njs_str(\"JSON.stringify({'1':1,'2':2,'3':3}, [1, new Number(2)])\"),\n      njs_str(\"{\\\"1\\\":1,\\\"2\\\":2}\") },\n\n    { njs_str(\"var s = new String('str'); s.toString = () => 'xxx';\"\n              \"JSON.stringify({str:1,xxx:2}, [s])\"),\n      njs_str(\"{\\\"xxx\\\":2}\") },\n\n    { njs_str(\"var n = new String(123); n.toString = () => '42';\"\n              \"JSON.stringify({123:1,42:2}, [n])\"),\n      njs_str(\"{\\\"42\\\":2}\") },\n\n    { njs_str(\"var objs = []; var o = JSON.stringify({a:1},\"\n                 \"   function(k, v) {objs.push(this); return v});\"\n                 \"JSON.stringify(objs)\"),\n      njs_str(\"[{\\\"\\\":{\\\"a\\\":1}},{\\\"a\\\":1}]\") },\n\n    { njs_str(\"JSON.stringify({a: () => 1, b: Symbol(), c: undefined},\"\n                             \"(k, v) => k.length ? String(v) : v)\"),\n      njs_str(\"{\\\"a\\\":\\\"[object Function]\\\",\\\"b\\\":\\\"Symbol()\\\",\\\"c\\\":\\\"undefined\\\"}\") },\n\n    { njs_str(\"var a = []; a[0] = a; JSON.stringify(a)\"),\n      njs_str(\"TypeError: Nested too deep or a cyclic structure\") },\n\n    { njs_str(\"var a = {}; a.a = a; JSON.stringify(a)\"),\n      njs_str(\"TypeError: Nested too deep or a cyclic structure\") },\n\n    { njs_str(\"var array = [1,2,3];\"\n              \"array[1] = {get value() {\"\n              \"    Object.defineProperty(array, '2', {get: () => 10}) }\"\n              \"};\"\n              \"JSON.stringify(array)\"),\n      njs_str(\"[1,{},10]\") },\n\n    { njs_str(\"var array = [1];\"\n              \"array[1] = {get value() {array[10] = 10}}; JSON.stringify(array)\"),\n      njs_str(\"[1,{}]\") },\n\n    /* njs.dump(). */\n\n    { njs_str(\"njs.dump({a:1, b:[1,,2,{c:new Boolean(1)}]})\"),\n      njs_str(\"{a:1,b:[1,<empty>,2,{c:[Boolean: true]}]}\") },\n\n    { njs_str(\"njs.dump([InternalError(),TypeError('msg'), new RegExp(), /^undef$/my, new Date(0)])\"),\n      njs_str(\"[InternalError,TypeError: msg,/(?:)/,/^undef$/my,1970-01-01T00:00:00.000Z]\") },\n\n    { njs_str(\"njs.dump(Array.prototype.slice.call({'1':'b', length:2}))\"),\n      njs_str(\"[<empty>,'b']\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, 'a', { get: () => 1, enumerable: true }); njs.dump(o)\"),\n      njs_str(\"{a:'[Getter]'}\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, 'a', { get: () => 1, set(){}, enumerable: true }); njs.dump(o)\"),\n      njs_str(\"{a:'[Getter/Setter]'}\") },\n\n    { njs_str(\"var o = Object.defineProperty({}, 'a', { set(){}, enumerable: true }); njs.dump(o)\"),\n      njs_str(\"{a:'[Setter]'}\") },\n\n    { njs_str(\"njs.dump(njs) == `njs {version:'${njs.version}'}`\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = []; a[0] = a; njs.dump(a)\"),\n      njs_str(\"[[Circular]]\") },\n\n    { njs_str(\"var a = []; njs.dump([a,a])\"),\n      njs_str(\"[[],[]]\") },\n\n    { njs_str(\"var O = {}; O.x = O; njs.dump(O)\"),\n      njs_str(\"{x:[Circular]}\") },\n\n    { njs_str(\"var O = {}; njs.dump({x:O, y:O})\"),\n      njs_str(\"{x:{},y:{}}\") },\n\n    { njs_str(\"var a = [], b = [a];  a[0] = b; njs.dump(a)\"),\n      njs_str(\"[[[Circular]]]\") },\n\n    { njs_str(\"var a = []; a.length = 2**31;\"\n              \"njs.dump(a)\"),\n      njs_str(\"[<2147483648 empty items>]\") },\n\n    { njs_str(\"var a = ['a',,'c']; a.length = 2**31;\"\n              \"njs.dump(a)\"),\n      njs_str(\"['a',<1 empty items>,'c',<2147483645 empty items>]\") },\n\n    { njs_str(\"var a = [,'b','c']; a.length = 2**31;\"\n              \"njs.dump(a)\"),\n      njs_str(\"[<1 empty items>,'b','c',<2147483645 empty items>]\") },\n\n#if (!NJS_HAVE_MEMORY_SANITIZER) /* False-positive in MSAN? */\n    { njs_str(\"var a = []; a[2**31] = 'Z'; a[0] = 'A'; njs.dump(a)\"),\n      njs_str(\"['A',<2147483647 empty items>,'Z']\") },\n\n    { njs_str(\"var a = []; a[2**31] = 'Z'; a[0] = 'A'; a.b = 'X'; njs.dump(a)\"),\n      njs_str(\"['A',<2147483647 empty items>,'Z',b:'X']\") },\n\n    { njs_str(\"var a = []; a[2**31] = 'Z'; a[0] = 'A'; a.b = 'X'; a.length = 3; njs.dump(a)\"),\n      njs_str(\"['A',<2 empty items>,b:'X']\") },\n#endif\n\n    { njs_str(\"var a = [1,2,3];Object.defineProperty(a, '1', {get:()=>2});njs.dump(a)\"),\n      njs_str(\"[1,'[Getter]',3]\") },\n\n    { njs_str(\"var a = [1,2,3];Object.defineProperty(a, '1', {enumerable:false});njs.dump(a)\"),\n      njs_str(\"[1,<1 empty items>,3]\") },\n\n    { njs_str(\"njs.dump(-0)\"),\n      njs_str(\"-0\") },\n\n    { njs_str(\"njs.dump(Object(-0))\"),\n      njs_str(\"[Number: -0]\") },\n\n    { njs_str(\"njs.dump([0, -0])\"),\n      njs_str(\"[0,-0]\") },\n\n    { njs_str(\"njs.dump(Symbol())\"),\n      njs_str(\"Symbol()\") },\n\n    { njs_str(\"njs.dump(Object(Symbol()))\"),\n      njs_str(\"[Symbol: Symbol()]\") },\n\n    { njs_str(\"njs.dump(Symbol('desc'))\"),\n      njs_str(\"Symbol(desc)\") },\n\n    { njs_str(\"njs.dump(Object(Symbol('desc')))\"),\n      njs_str(\"[Symbol: Symbol(desc)]\") },\n\n    { njs_str(\"njs.dump(Symbol.iterator)\"),\n      njs_str(\"Symbol(Symbol.iterator)\") },\n\n    { njs_str(\"njs.dump(Object(Symbol.iterator))\"),\n      njs_str(\"[Symbol: Symbol(Symbol.iterator)]\") },\n\n    { njs_str(\"njs.dump(decodeURI)\"),\n      njs_str(\"[Function: decodeURI]\") },\n\n    { njs_str(\"delete decodeURI.name; njs.dump(decodeURI)\"),\n      njs_str(\"[Function]\") },\n\n    { njs_str(\"delete decodeURI.name; delete Function.prototype.name; \"\n              \"decodeURI.name = 1; njs.dump(decodeURI)\"),\n      njs_str(\"[Function: native]\") },\n\n    { njs_str(\"delete decodeURI.name; delete Function.prototype.name; \"\n              \"decodeURI.name = 'XXX'; njs.dump(decodeURI)\"),\n      njs_str(\"[Function: XXX]\") },\n\n    /* njs.on(). */\n\n    { njs_str(\"njs.on(decodeURI)\"),\n      njs_str(\"TypeError: hook type is not a string\") },\n\n    { njs_str(\"njs.on('xxx')\"),\n      njs_str(\"TypeError: unknown hook type \\\"xxx\\\"\") },\n\n    { njs_str(\"njs.on('exit')\"),\n      njs_str(\"TypeError: callback is not a function or null\") },\n\n    { njs_str(\"njs.on('exit', null); 1\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"njs.on('exit', ()=>{}); 1\"),\n      njs_str(\"1\") },\n\n    /* Built-in methods name. */\n\n    { njs_str(\n        \"var fail;\"\n        \"function isMethodsHaveName(o) {\"\n        \"    var except = [\"\n        \"        'prototype',\"\n        \"        'constructor',\"\n        \"        'caller',\"\n        \"        'arguments',\"\n        \"        'description',\"\n        \"    ];\"\n        \"    return Object.getOwnPropertyNames(o)\"\n        \"                 .filter(v => !except.includes(v)\"\n        \"                              && typeof o[v] == 'function')\"\n        \"                 .every(v => o[v].name == v\"\n        \"                             || !(fail = `${o.name}.${v}: ${o[v].name}`));\"\n        \"}\"\n        \"[\"\n        \"    Boolean, Boolean.prototype,\"\n        \"    Number, Number.prototype,\"\n        \"    Symbol, Symbol.prototype,\"\n        \"    String, String.prototype,\"\n        \"    Object, Object.prototype,\"\n        \"    Array, Array.prototype,\"\n        \"    Function, Function.prototype,\"\n        \"    RegExp, RegExp.prototype,\"\n        \"    Date, Date.prototype,\"\n        \"    Error, Error.prototype,\"\n        \"    Math,\"\n        \"    JSON,\"\n        \"].every(obj => isMethodsHaveName(obj)) || fail\"),\n\n      njs_str(\"true\") },\n\n    /* require(). */\n\n    { njs_str(\"require('unknown_module')\"),\n      njs_str(\"Error: Cannot find module \\\"unknown_module\\\"\") },\n\n    { njs_str(\"require()\"),\n      njs_str(\"TypeError: missing path\") },\n\n    { njs_str(\"require.length\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"require.name\"),\n      njs_str(\"require\") },\n\n    { njs_str(\"typeof require\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"require.hasOwnProperty('length')\"),\n      njs_str(\"true\") },\n\n    /* setTimeout(). */\n\n    { njs_str(\"setTimeout()\"),\n      njs_str(\"TypeError: too few arguments\") },\n\n    { njs_str(\"setTimeout(function(){})\"),\n      njs_str(\"InternalError: not supported by host environment\") },\n\n    { njs_str(\"setTimeout(function(){}, 12)\"),\n      njs_str(\"InternalError: not supported by host environment\") },\n\n    /* clearTimeout(). */\n\n    { njs_str(\"clearTimeout()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"clearTimeout(123)\"),\n      njs_str(\"undefined\") },\n\n    /* Trick: number to boolean. */\n\n    { njs_str(\"var a = 0; !!a\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var a = 5; !!a\"),\n      njs_str(\"true\") },\n\n    /* Trick: flooring. */\n\n    { njs_str(\"var n = -10.12345; ~~n\"),\n      njs_str(\"-10\") },\n\n    { njs_str(\"var n = 10.12345; ~~n\"),\n      njs_str(\"10\") },\n\n    /* es5id: 8.2_A1_T1 */\n    /* es5id: 8.2_A1_T2 */\n\n    { njs_str(\"var x = null;\"),\n      njs_str(\"undefined\") },\n\n    /* es5id: 8.2_A2 */\n\n    { njs_str(\"var null;\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"null\\\" in 1\") },\n\n    /* es5id: 8.2_A3 */\n\n    { njs_str(\"typeof(null) === \\\"object\\\"\"),\n      njs_str(\"true\") },\n\n    /* Module. */\n\n    { njs_str(\"import;\"),\n      njs_str(\"SyntaxError: Non-default import is not supported in 1\") },\n\n    { njs_str(\"import {x} from y\"),\n      njs_str(\"SyntaxError: Non-default import is not supported in 1\") },\n\n    { njs_str(\"import x from y\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"y\\\" in 1\") },\n\n    { njs_str(\"import x from {\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"{\\\" in 1\") },\n\n    { njs_str(\"import x from ''\"),\n      njs_str(\"SyntaxError: Cannot find module \\\"\\\" in 1\") },\n\n    { njs_str(\"import x from 'crypto'\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"import x from 'crypto' 1\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"1\\\" in 1\") },\n\n    { njs_str(\"if (1) {import x from 'crypto'}\"),\n      njs_str(\"SyntaxError: Illegal import statement in 1\") },\n\n    { njs_str(\"export\"),\n      njs_str(\"SyntaxError: Illegal export statement in 1\") },\n\n    { njs_str(\"Object.assign(undefined)\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"Object.assign(null)\"),\n      njs_str(\"TypeError: cannot convert null or undefined to object\") },\n\n    { njs_str(\"Object.assign({x:123}).toString()\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"Object.assign({x:123}).x\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"Object.assign(true)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.assign(123)\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var o1 = {a:1, b:1, c:1}; var o2 = {b:2, c:2}; \"\n                 \"var o3 = {c:3}; var obj = Object.assign({}, o1, o2, o3); \"\n                 \"Object.values(obj);\"),\n      njs_str(\"1,2,3\") },\n\n    { njs_str(\"var v1 = 'abc'; var v2 = true; var v3 = 10; \"\n                 \"var obj = Object.assign({}, v1, null, v2, undefined, v3); \"\n                 \"Object.values(obj);\"),\n      njs_str(\"a,b,c\") },\n\n    { njs_str(\"Object.assign(true, {a:123})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.assign(true, {a:123}).a\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"var y = Object.create({s:123}); y.z = 456;\"\n                 \"Object.assign({}, y).s;\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var obj = {s:123}; Object.defineProperty(obj,\"\n                 \"'p1', {value:12, enumerable:false});\"\n                 \"Object.assign({}, obj).p1\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var obj = {s:123}; Object.defineProperty(obj,\"\n                 \"'x', {value:12, writable:false});\"\n                 \"Object.assign(obj, {x:4})\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"x\\\" of object\") },\n\n    { njs_str(\"var obj = {foo:1, get bar() {return 2;}};\"\n                 \"var copy = Object.assign({}, obj);\"\n                 \"Object.getOwnPropertyDescriptor(copy, 'bar').get\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"try{var x = Object.defineProperty({}, 'foo',\"\n                 \"{value:1, writable:false});\"\n                 \"Object.assign(x, {bar:2}, {foo:2});}catch(error){};\"\n                 \"x.bar\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var a = Object.defineProperty({}, 'a',\"\n                 \"{get(){Object.defineProperty(this, 'b',\"\n                 \"{value:2,enumerable:false});\"\n                 \"return 1}, enumerable:1}); a.b =1;\"\n                 \"var x = Object.assign({}, a);x.b;\"),\n      njs_str(\"undefined\") },\n\n    /* let and const */\n\n    { njs_str(\"var let = 123;\"\n              \"let\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"let\\\" in 1\") },\n\n    { njs_str(\"var const = 123\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"const\\\" in 1\") },\n\n    /* Async */\n\n    { njs_str(\"var async;\"\n              \"function f() {\"\n              \"    async\\n\"\n              \"    function foo() {}\"\n              \"}\"\n              \"f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var async;\"\n              \"function f() {\"\n              \"    async;\"\n              \"    function foo() {}\"\n              \"}\"\n              \"f()\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var async;\"\n              \"async\\n\"\n              \"function foo() {}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"new\\\"\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"\\\"\\\" in 1\") },\n\n    { njs_str(\"new\\\"\\\\UFFFF\"),\n      njs_str(\"SyntaxError: Unterminated string \\\"\\\"\\\\UFFFF\\\" in 1\") },\n\n    { njs_str(\"new/la\"),\n      njs_str(\"SyntaxError: Unterminated RegExp \\\"/la\\\" in 1\") },\n\n    { njs_str(\"{name; {/ / /}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"[(]\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"]\\\" in 1\") },\n\n    { njs_str(\"[...]\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"]\\\" in 1\") },\n\n    { njs_str(\"switch () {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\")\\\" in 1\") },\n\n    { njs_str(\"switch ([(]) {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"]\\\" in 1\") },\n\n    { njs_str(\"{{}{-}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{+}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{delete}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{++}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{++1}\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in prefix operation in 1\") },\n\n    { njs_str(\"{{}{1++}\"),\n      njs_str(\"ReferenceError: Invalid left-hand side in postfix operation in 1\") },\n\n    { njs_str(\"{{}{1/}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{1>>}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{r=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}{var a = }\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}T=>}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a = b +}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a = b -}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a = b *}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a = b /}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a = b %}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a = b++}\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"{{}a = b--}\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\") },\n\n    { njs_str(\"{{}a =}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a +=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a -=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a *=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a /=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a %=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a ===}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a ==}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a !=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a !==}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a >}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a <}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a <=}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a &&}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a ||}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a ??}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a &}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a |}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a ^}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a <<}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}a >>}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}new}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}delete}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}void}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{}typeof}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"{{} ({a: 1, b: {}\\n}\\n})\\n}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 3\") },\n\n    { njs_str(\"object?.\"),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"`${{a: 1, b}}`\"),\n      njs_str(\"ReferenceError: \\\"b\\\" is not defined\") },\n\n    { njs_str(\"`${{a: 1, b:}}`\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"`${{a: 1, b:,}}`\"),\n      njs_str(\"SyntaxError: Unexpected token \\\",\\\" in 1\") },\n\n    { njs_str(\"`${{a: 1, b: 2,}}`\"),\n      njs_str(\"[object Object]\") },\n\n    { njs_str(\"`${{a: 1,, b: 2}}`\"),\n      njs_str(\"SyntaxError: Unexpected token \\\",\\\" in 1\") },\n\n    { njs_str(\"`${{f(){-} - {}}`\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"for (;1-;) {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\";\\\" in 1\") },\n\n    { njs_str(\"var str = String(str); str\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var t = \\\"123\\\"; t = parseInt(t); t\"),\n      njs_str(\"123\") },\n\n    /* TextEncoder. */\n\n    { njs_str(\"var en = new TextEncoder(); typeof en.encode()\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var en = new TextEncoder(); en.encode()\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var en = new TextEncoder(); var res = en.encode('\u03b1'); res\"),\n      njs_str(\"206,177\") },\n\n    { njs_str(\"var en = new TextEncoder(); var res = en.encode('\u03b11\u03b1'); res[2]\"),\n      njs_str(\"49\") },\n\n    { njs_str(\"var en = new TextEncoder(); en.encode(String.bytesFrom([0xCE]))\"),\n      njs_str(\"239,191,189\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"en.encode(String.bytesFrom([0xCE, 0xB1, 0xCE]))\"),\n      njs_str(\"206,177,239,191,189\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"en.encode(String.bytesFrom([0xCE, 0xCE, 0xB1]))\"),\n      njs_str(\"239,191,189,206,177\") },\n\n    { njs_str(\"var en = new TextEncoder(); en.encoding\"),\n      njs_str(\"utf-8\") },\n\n    { njs_str(\"TextEncoder.prototype.encode.apply({}, [])\"),\n      njs_str(\"TypeError: \\\"this\\\" is not a TextEncoder\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(5);\"\n              \"var res = en.encodeInto('\u03b1\u03b1\u03b1\u03b1\u03b1', utf8); njs.dump(res)\"),\n      njs_str(\"{read:2,written:4}\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(10);\"\n              \"var res = en.encodeInto('\u03b1\u03b1\u03b1\u03b1\u03b1', utf8); njs.dump(res)\"),\n      njs_str(\"{read:5,written:10}\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(10);\"\n              \"en.encodeInto('\u03b1\u03b1\u03b1\u03b1\u03b1', utf8.subarray(2)); utf8[0]\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var str = String.bytesFrom([0xCE]);\"\n              \"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(3);\"\n              \"var res = en.encodeInto(str, utf8); \"\n              \"[njs.dump(res), utf8]\"),\n      njs_str(\"{read:1,written:3},239,191,189\") },\n\n    { njs_str(\"var str = String.bytesFrom([0xCE]);\"\n              \"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(5);\"\n              \"en.encodeInto(str, utf8); utf8\"),\n      njs_str(\"239,191,189,0,0\") },\n\n    { njs_str(\"var str = String.bytesFrom([0xCE, 0xB1, 0xCE]);\"\n              \"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(5);\"\n              \"var res = en.encodeInto(str, utf8);\"\n              \"[njs.dump(res), utf8]\"),\n      njs_str(\"{read:2,written:5},206,177,239,191,189\") },\n\n    { njs_str(\"var str = String.bytesFrom([0xCE, 0xCE, 0xB1]);\"\n              \"var en = new TextEncoder();\"\n              \"var utf8 = new Uint8Array(5);\"\n              \"var res = en.encodeInto(str, utf8);\"\n              \"[njs.dump(res), utf8]\"),\n      njs_str(\"{read:2,written:5},239,191,189,206,177\") },\n\n    { njs_str(\"TextEncoder.prototype.encodeInto.apply({}, [])\"),\n      njs_str(\"TypeError: \\\"this\\\" is not a TextEncoder\") },\n\n    { njs_str(\"(new TextEncoder()).encodeInto('', 0.12) \"),\n      njs_str(\"TypeError: The \\\"destination\\\" argument must be an instance of Uint8Array\") },\n\n    /* TextDecoder. */\n\n    { njs_str(\"var de = new TextDecoder();\"\n              \"var u8arr = new Uint8Array([240, 160, 174, 183]);\"\n              \"var u16arr = new Uint16Array(u8arr.buffer);\"\n              \"var u32arr = new Uint32Array(u8arr.buffer);\"\n              \"[u8arr, u16arr, u32arr].map(v=>de.decode(v)).join(',')\"),\n      njs_str(\"\ud842\udfb7,\ud842\udfb7,\ud842\udfb7\") },\n\n    { njs_str(\"var de = new TextDecoder();\"\n              \"[new Uint8Array([240, 160]), \"\n              \" new Uint8Array([174]), \"\n              \" new Uint8Array([183])].map(v=>de.decode(v, {stream: 1}))[2]\"),\n      njs_str(\"\ud842\udfb7\") },\n\n    { njs_str(\"var de = new TextDecoder();\"\n              \"de.decode(new Uint8Array([240, 160]), {stream: 1});\"\n              \"de.decode(new Uint8Array([174]), {stream: 1});\"\n              \"de.decode(new Uint8Array([183]))\"),\n      njs_str(\"\ud842\udfb7\") },\n\n    { njs_str(\"var de = new TextDecoder();\"\n              \"de.decode(new Uint8Array([240, 160]), {stream: 1});\"\n              \"de.decode()\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"var de = new TextDecoder('utf-8', {fatal: true});\"\n              \"de.decode(new Uint8Array([240, 160]))\"),\n      njs_str(\"TypeError: The encoded data was not valid\") },\n\n    { njs_str(\"var de = new TextDecoder('utf-8', {fatal: false});\"\n              \"de.decode(new Uint8Array([240, 160]))\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"var de = new TextDecoder('utf-8', {ignoreBOM: true});\"\n              \"en.encode(de.decode(new Uint8Array([239, 187, 191, 50])))\"),\n      njs_str(\"239,187,191,50\") },\n\n    { njs_str(\"var en = new TextEncoder();\"\n              \"var de = new TextDecoder('utf-8', {ignoreBOM: false});\"\n              \"en.encode(de.decode(new Uint8Array([239, 187, 191, 50])))\"),\n      njs_str(\"50\") },\n\n    { njs_str(\"var en = new TextEncoder(); var de = new TextDecoder();\"\n              \"en.encode(de.decode(new Uint8Array([239, 187, 191, 50])))\"),\n      njs_str(\"50\") },\n\n    { njs_str(\"var de = new TextDecoder(); de.decode('')\"),\n      njs_str(\"TypeError: The \\\"input\\\" argument must be an instance of TypedArray\") },\n\n    { njs_str(\"var de = new TextDecoder({})\"),\n      njs_str(\"RangeError: The \\\"[object Object]\\\" encoding is not supported\") },\n\n    { njs_str(\"var de = new TextDecoder('foo')\"),\n      njs_str(\"RangeError: The \\\"foo\\\" encoding is not supported\") },\n\n    { njs_str(\"var de = new TextDecoder(); de.encoding\"),\n      njs_str(\"utf-8\") },\n\n    { njs_str(\"var de = new TextDecoder(); de.fatal\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"var de = new TextDecoder(); de.ignoreBOM\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"TextDecoder.prototype.decode.apply({}, new Uint8Array([1]))\"),\n      njs_str(\"TypeError: \\\"this\\\" is not a TextDecoder\") },\n\n    { njs_str(\"var de = new TextDecoder();\"\n              \"var buf = new Uint32Array([1,2,3]).buffer;\"\n              \"var en = new TextEncoder();\"\n              \"njs.dump(new Uint32Array(en.encode(de.decode(buf)).buffer))\"),\n      njs_str(\"Uint32Array [1,2,3]\") },\n\n    { njs_str(\"var de = new TextDecoder();\"\n              \"var buf = new Uint32Array([1,2,3]).subarray(1,2);\"\n              \"var en = new TextEncoder();\"\n              \"njs.dump(new Uint32Array(en.encode(de.decode(buf)).buffer))\"),\n      njs_str(\"Uint32Array [2]\") },\n\n    /* let */\n\n    { njs_str(\"let x\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"let x = 123; x\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"let x = [123]; x\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"let x = () => x; x()\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"let x = (() => x)()\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"x; let x\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"x; let x = 123\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let x = x + 123\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let x = (x, 1)\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let x = x\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let x; var x\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"var x; let x\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"let x; function x() {}\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"function x() {} let x\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"function x() {let x; var x}\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"function x() {var x; let x}\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"var x = function f() {let f}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"let a; let x = 1;\"\n              \"{let x = 2; a = x}\"\n              \"[x, a]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"let a; let x = 1;\"\n              \"if (true) {let x = 2; a = x}\"\n              \"[x, a]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"var a = 5, b = 10, arr = [];\"\n              \"{let a = 4; var b = 1; arr.push(a); arr.push(b)}\"\n              \"arr.push(a); arr.push(b); arr\"),\n      njs_str(\"4,1,5,1\") },\n\n    { njs_str(\"function func() {return x}\"\n              \"let x = 123;\"\n              \"func()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function func() {return x}\"\n              \"func();\"\n              \"let x = 123\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"function func() {return () => x}\"\n              \"let x = 123;\"\n              \"func()()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function func() {x = x + 1; let x}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function func() {return () => x}\"\n              \"func()();\"\n              \"let x = 123;\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"var arr = [];\"\n              \"\"\n              \"for (var i = 0; i < 10; i++) {\"\n              \"    let x = i;\"\n              \"\"\n              \"    arr.push( (n) => {x += n; return x} );\"\n              \"}\"\n              \"\"\n              \"[\"\n              \"    arr[0](2), arr[1](1), arr[2](4), arr[3](7), arr[4](0),\"\n              \"    arr[5](1), arr[6](2), arr[7](5), arr[8](8), arr[9](10)\"\n              \"]\"),\n      njs_str(\"2,2,6,10,4,6,8,12,16,19\") },\n\n    { njs_str(\"var arr = [];\"\n              \"\"\n              \"for (let i = 0; i < 10; i++) {\"\n              \"    arr.push( (n) => {i += n; return i} );\"\n              \"}\"\n              \"\"\n              \"[\"\n              \"    arr[0](2), arr[1](1), arr[2](4), arr[3](7), arr[4](0),\"\n              \"    arr[5](1), arr[6](2), arr[7](5), arr[8](8), arr[9](10)\"\n              \"]\"),\n      njs_str(\"2,2,6,10,4,6,8,12,16,19\") },\n\n    { njs_str(\"for (let i = 0; i < 1; i++) {\"\n              \"    let i = i + 2;\"\n              \"}\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let arr = [], res = [];\"\n              \"for (let i = 0, f = function() { return i }; i < 5; i++) {\"\n              \"    arr.push(f);\"\n              \"}\"\n              \"for (let i = 0; i < 5; i++) {\"\n              \"    res.push(arr[i]());\"\n              \"} res\"),\n      njs_str(\"0,0,0,0,0\") },\n\n    { njs_str(\"let arr = [], res = [];\"\n              \"for (let i = 0; arr.push(() => i), i < 10; i++) {}\"\n              \"for (let k = 0; k < 10; k++) {res.push(arr[k]())}\"\n              \"res\"),\n      njs_str(\"0,1,2,3,4,5,6,7,8,9\") },\n\n    { njs_str(\"let res = [];\"\n              \"for (let n in [1,2,3]) {res.push(n)}\"\n              \"res\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"let arr = [], res = [];\"\n              \"\"\n              \"for (let n in [1,2,3]) {\"\n              \"    arr.push(() => n);\"\n              \"}\"\n              \"\"\n              \"for (let n in arr) {\"\n              \"    res.push(arr[n]());\"\n              \"}\"\n              \"res\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"let arr = [];\"\n              \"\"\n              \"for (let n in [1,2,3]) {\"\n              \"    let n = 1;\"\n              \"    arr.push(n);\"\n              \"}\"\n              \"arr\"),\n      njs_str(\"1,1,1\") },\n\n    { njs_str(\"for (let n in [1,2,3]) {\"\n              \"    let n = n + 1;\"\n              \"}\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"for (let n in [1,2,3]) {}\"\n              \"n\"),\n      njs_str(\"ReferenceError: \\\"n\\\" is not defined\") },\n\n    { njs_str(\"for (let n in [1,n,3]) {}\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"(function() {\"\n              \"function f() {return x + 1}\"\n              \"function abc() {f()};\"\n              \"abc();\"\n              \"let x;\"\n              \"}())\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"function func() {var x = 1; {let x = x + 1} } func()\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"if (false) let x = 1\"),\n      njs_str(\"SyntaxError: let declaration cannot appear in a single-statement context in 1\") },\n\n    { njs_str(\"while (false) let x = 1\"),\n      njs_str(\"SyntaxError: let declaration cannot appear in a single-statement context in 1\") },\n\n    { njs_str(\"for (;;) let x = 1\"),\n      njs_str(\"SyntaxError: let declaration cannot appear in a single-statement context in 1\") },\n\n    { njs_str(\"try {} catch (e) {let e}\"),\n      njs_str(\"SyntaxError: \\\"e\\\" has already been declared in 1\") },\n\n    { njs_str(\"let arr = [], x = 2;\"\n              \"switch(true) {default: let x = 1; arr.push(x)}\"\n              \"arr.push(x); arr\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"switch(true) {case false: let x = 1; default: x = 2}\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let res;\"\n              \"switch(true) {case true: let x = 1; default: x = 2; res = x} res\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"let null\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"null\\\" in 1\") },\n\n    { njs_str(\"let continue\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"continue\\\" in 1\") },\n\n    { njs_str(\"let undefined\"),\n      njs_str(\"SyntaxError: \\\"undefined\\\" has already been declared in 1\") },\n\n    { njs_str(\"let a = 1; globalThis.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"if (false) {x = 2} else {x = 1} let x;\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"let let\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"let\\\" in 1\") },\n\n    { njs_str(\"let null\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"null\\\" in 1\") },\n\n    { njs_str(\"function let() {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"let\\\" in 1\") },\n\n    { njs_str(\"function static() {}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"static\\\" in 1\") },\n\n    /* const */\n\n    { njs_str(\"const x\"),\n      njs_str(\"SyntaxError: missing initializer in const declaration\") },\n\n    { njs_str(\"const x = 1; x\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"const x = 1; x = 1\"),\n      njs_str(\"TypeError: assignment to constant variable\") },\n\n    { njs_str(\"function abc() {const x}\"),\n      njs_str(\"SyntaxError: missing initializer in const declaration\") },\n\n    { njs_str(\"const x = [123]; x\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"const x = () => x; x()\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"const x = (() => x)()\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"x; const x = 123\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"const x = x + 123\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"const x; var x\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"const x; let x\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"let x; const x\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"const x = 1; function x() {}\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"function x() {} const x = 1\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"function x() {const x; var x}\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"function x() {var x; const x}\"),\n      njs_str(\"SyntaxError: \\\"x\\\" has already been declared in 1\") },\n\n    { njs_str(\"const x = function f() {const f = 1}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"let res; const x = 1;\"\n              \"{const x = 2; res = x}\"\n              \"[x, res]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"let res; const x = 1;\"\n              \"if (true) {const x = 2; res = x}\"\n              \"[x, res]\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"function func() {return x}\"\n              \"const x = 123;\"\n              \"func()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function func() {return x}\"\n              \"func();\"\n              \"const x = 123\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"function func() {return () => x}\"\n              \"const x = 123;\"\n              \"func()()\"),\n      njs_str(\"123\") },\n\n    { njs_str(\"function func() {return () => x++}\"\n              \"const x = 123;\"\n              \"func()()\"),\n      njs_str(\"TypeError: assignment to constant variable\") },\n\n    { njs_str(\"for (const i = 0; i < 1; i++) {}\"),\n      njs_str(\"TypeError: assignment to constant variable\") },\n\n    { njs_str(\"let res = [];\"\n              \"for (const n in [1,2,3]) {res.push(n)}\"\n              \"res\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"let arr = [], res = [];\"\n              \"\"\n              \"for (const n in [1,2,3]) {\"\n              \"    arr.push(() => n);\"\n              \"}\"\n              \"\"\n              \"for (let n in arr) {\"\n              \"    res.push(arr[n]());\"\n              \"}\"\n              \"res\"),\n      njs_str(\"0,1,2\") },\n\n    { njs_str(\"let arr = [];\"\n              \"\"\n              \"for (const n in [1,2,3]) {\"\n              \"    let n = 1;\"\n              \"    arr.push(n);\"\n              \"}\"\n              \"arr\"),\n      njs_str(\"1,1,1\") },\n\n    { njs_str(\"for (const n in [1,2,3]) {\"\n              \"    let n = n + 1;\"\n              \"}\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"for (const n in [1,2,3]) {}\"\n              \"n\"),\n      njs_str(\"ReferenceError: \\\"n\\\" is not defined\") },\n\n    { njs_str(\"for (const n in [1,n,3]) {}\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"(function() {\"\n              \"function f() {return x + 1}\"\n              \"function abc() {f()};\"\n              \"abc();\"\n              \"const x = 1;\"\n              \"}())\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"if (false) const x = 1\"),\n      njs_str(\"SyntaxError: const declaration cannot appear in a single-statement context in 1\") },\n\n    { njs_str(\"while (false) const x = 1\"),\n      njs_str(\"SyntaxError: const declaration cannot appear in a single-statement context in 1\") },\n\n    { njs_str(\"for (;;) const x = 1\"),\n      njs_str(\"SyntaxError: const declaration cannot appear in a single-statement context in 1\") },\n\n    { njs_str(\"try {} catch (e) {const e = 1}\"),\n      njs_str(\"SyntaxError: \\\"e\\\" has already been declared in 1\") },\n\n    { njs_str(\"let arr = []; const x = 2;\"\n              \"switch(true) {default: const x = 1; arr.push(x)}\"\n              \"arr.push(x); arr\"),\n      njs_str(\"1,2\") },\n\n    { njs_str(\"let res;\"\n              \"switch(true) {case true: const x = 1; default: x = 2; res = x} res\"),\n      njs_str(\"TypeError: assignment to constant variable\") },\n\n    { njs_str(\"const null\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"null\\\" in 1\") },\n\n    { njs_str(\"const continue\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"continue\\\" in 1\") },\n\n    { njs_str(\"const undefined\"),\n      njs_str(\"SyntaxError: \\\"undefined\\\" has already been declared in 1\") },\n\n    { njs_str(\"const a = 1; globalThis.a\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"if (false) {x = 2} else {x = 1} const x = 0\"),\n      njs_str(\"ReferenceError: cannot access variable before initialization\") },\n\n    { njs_str(\"const const\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"const\\\" in 1\") },\n\n    /* Async/Await */\n\n    { njs_str(\"async function f() {}; f.prototype\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"async function f() {await 1}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"function f() {await 1}\"),\n      njs_str(\"SyntaxError: await is only valid in async functions in 1\") },\n\n    { njs_str(\"async function f() {function a() {await 1}}\"),\n      njs_str(\"SyntaxError: await is only valid in async functions in 1\") },\n\n    { njs_str(\"async function f() {() => {await 1}}\"),\n      njs_str(\"SyntaxError: await is only valid in async functions in 1\") },\n\n    { njs_str(\"function f() {async () => {await 1}}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"let f = async () => {await 1}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"let f = () => {await 1}\"),\n      njs_str(\"SyntaxError: await is only valid in async functions in 1\") },\n\n    { njs_str(\"(async function() {await 1})\"),\n      njs_str(\"[object AsyncFunction]\") },\n\n    { njs_str(\"(function() {await 1})\"),\n      njs_str(\"SyntaxError: await is only valid in async functions in 1\") },\n\n    { njs_str(\"let ctor = Object.getPrototypeOf(async function(){}).constructor;\"\n              \"ctor\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"let ctor = Object.getPrototypeOf(async function(){}).constructor;\"\n              \"ctor()\"),\n      njs_str(\"[object AsyncFunction]\") },\n\n    { njs_str(\"let ctor = Object.getPrototypeOf(async function(){}).constructor;\"\n              \"new ctor();\"),\n      njs_str(\"[object AsyncFunction]\") },\n\n    { njs_str(\"let f = new Function('x', 'await 1; return x'); f(1)\"),\n      njs_str(\"SyntaxError: await is only valid in async functions in runtime:1\") },\n\n    { njs_str(\"new AsyncFunction()\"),\n      njs_str(\"ReferenceError: \\\"AsyncFunction\\\" is not defined\") },\n\n    { njs_str(\"(async function() {console.log(await 111)})\"),\n      njs_str(\"SyntaxError: await in arguments not supported in 1\") },\n\n    { njs_str(\"(async function() {console.log('Number: ' + await 111)})\"),\n      njs_str(\"SyntaxError: await in arguments not supported in 1\") },\n\n    { njs_str(\"function f(a) {}\"\n              \"(async function() {f(await 111)})\"),\n      njs_str(\"SyntaxError: await in arguments not supported in 1\") },\n\n    { njs_str(\"async () => [await x(1)(),]; async () => [await x(1)()]\"),\n      njs_str(\"[object AsyncFunction]\") },\n\n    { njs_str(\"function f(a, b, c) {}\"\n              \"(async function() {f(1, 'a', await 111)})\"),\n      njs_str(\"SyntaxError: await in arguments not supported in 1\") },\n\n    { njs_str(\"function f(a) {}\"\n              \"(async function() {f('Number: ' + await 111)})\"),\n      njs_str(\"SyntaxError: await in arguments not supported in 1\") },\n\n    { njs_str(\"async function af() {await encrypt({},}\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"}\\\" in 1\") },\n\n    { njs_str(\"let x = {async af() {await Promise.resolve(1)}}; x.af\"),\n      njs_str(\"[object AsyncFunction]\") },\n\n    { njs_str(\"let name = 'af', x = {async [name]() {await Promise.resolve(1)}}; x.af\"),\n      njs_str(\"[object AsyncFunction]\") },\n};\n\n\nstatic njs_unit_test_t  njs_safe_test[] =\n{\n    { njs_str(\"(new Function('return this'))() === globalThis\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Function('return this;'))() === globalThis\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Function('return    this  '))() === globalThis\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"(new Function('return thi'))()\"),\n      njs_str(\"TypeError: function constructor is disabled in \\\"safe\\\" mode\") },\n\n    { njs_str(\"(new Function('){return 1337})//', 'return this'))()\"),\n      njs_str(\"TypeError: function constructor is disabled in \\\"safe\\\" mode\") },\n};\n\n\nstatic njs_unit_test_t  njs_denormals_test[] =\n{\n    { njs_str(\"2.2250738585072014e-308\"),\n      njs_str(\"2.2250738585072014e-308\") },\n\n#ifndef NJS_SUNC\n    { njs_str(\"2.2250738585072014E-308.toString(2) == ('0.' + '0'.repeat(1021) + '1')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Number('2.2250738585072014E-323')\"),\n      njs_str(\"2.5e-323\") },\n\n    { njs_str(\"Number('2.2250738585072014E-323') + 0\"),\n      njs_str(\"2.5e-323\") },\n\n    /* Smallest positive double (next_double(0)). */\n    { njs_str(\"5E-324.toString(36) === '0.' + '0'.repeat(207) + '3'\"),\n      njs_str(\"true\") },\n\n    /* Maximum fraction length. */\n    { njs_str(\"2.2250738585072014E-323.toString(2) == ('0.' + '0'.repeat(1071) + '101')\"),\n      njs_str(\"true\") },\n\n    /* Denormals. */\n    { njs_str(\"var zeros = count => '0'.repeat(count);\"\n              \"[\"\n              \"  [1.8858070859709815e-308, `0.${zeros(1022)}1101100011110111011100000100011001111101110001010111`],\"\n              // FIXME: \"  [Number.MIN_VALUE, `0.${zeros(1073)}1`]\"\n              \"  [-5.06631661953108e-309, `-0.${zeros(1024)}11101001001010000001101111010101011111111011010111`],\"\n              \"  [6.22574126804e-313, `0.${zeros(1037)}11101010101101100111000110100111001`],\"\n              \"  [-4e-323, `-0.${zeros(1070)}1`],\"\n              \"].every(t=>t[0].toString(2) === t[1])\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"4.94065645841246544176568792868e-324.toExponential()\"),\n      njs_str(\"5e-324\") },\n\n    { njs_str(\"4.94065645841246544176568792868e-324.toExponential(10)\"),\n      njs_str(\"4.9406564584e-324\") },\n#endif\n\n};\n\n\nstatic njs_unit_test_t  njs_disabled_denormals_test[] =\n{\n    { njs_str(\"Number('2.2250738585072014E-323')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"Number('2.2250738585072014E-323') + 0\"),\n      njs_str(\"0\") },\n\n    /* Smallest positive double (next_double(0)). */\n    { njs_str(\"5E-324.toString(36)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"2.2250738585072014E-323.toString(2)\"),\n      njs_str(\"0\") },\n\n    /* Smallest normal double. */\n\n    { njs_str(\"2.2250738585072014e-308\"),\n      njs_str(\"2.2250738585072014e-308\") },\n\n    { njs_str(\"2.2250738585072014e-308/2\"),\n      njs_str(\"0\") },\n\n    /* Denormals. */\n    { njs_str(\"[\"\n              \"1.8858070859709815e-308,\"\n              \"-5.06631661953108e-309,\"\n              \"6.22574126804e-313,\"\n              \"-4e-323,\"\n              \"].map(v=>v.toString(2))\"),\n      njs_str(\"0,0,0,0\") },\n};\n\n\nstatic njs_unit_test_t  njs_fs_module_test[] =\n{\n    { njs_str(\"var fs = require('fs'); typeof fs\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var fs = require('fs'); Object.isExtensible(fs)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"require('fs') === require('fs')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"require('fs').a = 1; require('fs').a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"var path = Buffer.from('/broken'); path[3] = 0;\"\n              \"fs.readFile(path)\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a Buffer without null bytes\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path')\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path', 'utf8')\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path', {flag:'xx'})\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path', {flag:'xx'}, 1)\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path', {flag:'xx'}, function () {})\"),\n      njs_str(\"TypeError: Unknown file open flags: \\\"xx\\\"\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path', {encoding:'ascii'}, function () {})\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFile('/njs_unknown_path', 'ascii', function () {})\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    /* require('fs').readFileSync() */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFileSync()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFileSync({})\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFileSync('/njs_unknown_path', {flag:'xx'})\"),\n      njs_str(\"TypeError: Unknown file open flags: \\\"xx\\\"\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFileSync(Buffer.from('/njs_unknown_path'), {encoding:'ascii'})\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFileSync('/njs_unknown_path', 'ascii')\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.readFileSync('/njs_unknown_path', true)\"),\n      njs_str(\"TypeError: Unknown options type: \\\"boolean\\\" (a string or object required)\") },\n\n\n    /* require('fs').writeFile() */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile({}, '', function () {})\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path')\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '')\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '', undefined)\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '', 'utf8')\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '', {flag:'xx'}, function () {})\"),\n      njs_str(\"TypeError: Unknown file open flags: \\\"xx\\\"\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '', {encoding:'ascii'}, function () {})\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '', 'ascii', function () {})\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFile('/njs_unknown_path', '', true, function () {})\"),\n      njs_str(\"TypeError: Unknown options type: \\\"boolean\\\" (a string or object required)\") },\n\n    /* require('fs').writeFileSync() */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFileSync()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFileSync({}, '')\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFileSync('/njs_unknown_path', '', {flag:'xx'})\"),\n      njs_str(\"TypeError: Unknown file open flags: \\\"xx\\\"\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFileSync('/njs_unknown_path', '', {encoding:'ascii'})\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFileSync('/njs_unknown_path', '', 'ascii')\"),\n      njs_str(\"TypeError: \\\"ascii\\\" encoding is not supported\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.writeFileSync('/njs_unknown_path', '', true)\"),\n      njs_str(\"TypeError: Unknown options type: \\\"boolean\\\" (a string or object required)\") },\n\n    /* require('fs').renameSync() */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.renameSync()\"),\n      njs_str(\"TypeError: \\\"oldPath\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.renameSync('/njs_unknown_path')\"),\n      njs_str(\"TypeError: \\\"newPath\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"[undefined, null, false, NaN, Symbol(), {}, Object('/njs_unknown_path')]\"\n              \".map((x) => { try { fs.renameSync(x, '/njs_unknown_path'); } \"\n              \"              catch (e) { return (e instanceof TypeError); } })\"\n              \".every((x) => x === true)\"),\n      njs_str(\"true\")},\n\n    { njs_str(\"var fs = require('fs');\"\n              \"[undefined, null, false, NaN, Symbol(), {}, Object('/njs_unknown_path')]\"\n              \".map((x) => { try { fs.renameSync('/njs_unknown_path', x); } \"\n              \"              catch (e) { return (e instanceof TypeError); } })\"\n              \".every((x) => x === true)\"),\n      njs_str(\"true\")},\n\n    /* require('fs').access() */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.access()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.access('/njs_unknown_path')\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.access('/njs_unknown_path', fs.constants.F_OK)\"),\n      njs_str(\"TypeError: \\\"callback\\\" must be a function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.access('/njs_unknown_path', 'fail', function () {})\"),\n      njs_str(\"TypeError: \\\"mode\\\" must be a number\") },\n\n    /* require('fs').accessSync() */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.accessSync()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.accessSync('/njs_unknown_path', 'fail')\"),\n      njs_str(\"TypeError: \\\"mode\\\" must be a number\") },\n\n    { njs_str(\"var \"\n              \"fs = require('fs'),\"\n              \"func = [\"\n                \"'access',\"\n                \"'accessSync',\"\n                \"'readFile',\"\n                \"'readFileSync',\"\n                \"'writeFile',\"\n                \"'writeFileSync',\"\n                \"'appendFile',\"\n                \"'appendFileSync',\"\n                \"'rename',\"\n                \"'renameSync',\"\n                \"'symlink',\"\n                \"'symlinkSync',\"\n                \"'unlink',\"\n                \"'unlinkSync',\"\n                \"'realpath',\"\n                \"'realpathSync',\"\n                \"'mkdir',\"\n                \"'mkdirSync',\"\n                \"'rmdir',\"\n                \"'rmdirSync',\"\n                \"'readdir',\"\n                \"'readdirSync',\"\n              \"],\"\n              \"test = (fname) =>\"\n                \"[undefined, null, false, NaN, Symbol(), {}, Object('/njs_unknown_path')]\"\n                \".map((x) => { try { fs[fname](x); } \"\n                \"              catch (e) { return (e instanceof TypeError); } })\"\n                \".every((x) => x === true);\"\n              \"func.map(test).every((x) => x)\"),\n      njs_str(\"true\")},\n\n    /* require('fs').promises */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"typeof fs.promises\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var \"\n              \"fs = require('fs').promises,\"\n              \"func = [\"\n                \"'access',\"\n                \"'readFile',\"\n                \"'writeFile',\"\n                \"'appendFile',\"\n                \"'rename',\"\n                \"'symlink',\"\n                \"'unlink',\"\n                \"'realpath',\"\n                \"'mkdir',\"\n                \"'rmdir',\"\n                \"'readdir',\"\n              \"];\"\n              \"func.every((x) => typeof fs[x] == 'function')\"),\n      njs_str(\"true\")},\n\n    /* require('fs').constants */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"typeof fs.constants\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var \"\n              \"fsc = require('fs').constants,\"\n              \"items = [\"\n                \"'F_OK',\"\n                \"'R_OK',\"\n                \"'W_OK',\"\n                \"'X_OK',\"\n              \"];\"\n              \"items.every((x) => typeof fsc[x] == 'number')\"),\n      njs_str(\"true\")},\n\n    /* require('fs').Dirent */\n\n    { njs_str(\"var fs = require('fs');\"\n              \"typeof fs.Dirent\"),\n      njs_str(\"function\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"fs.Dirent('file', 123)\"),\n      njs_str(\"TypeError: the Dirent constructor must be called with new\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"var e = new fs.Dirent('file', 123); [e.name, e.type]\"),\n      njs_str(\"file,123\") },\n\n    { njs_str(\"var \"\n              \"fs = require('fs'),\"\n              \"e = new fs.Dirent('file', 0),\"\n              \"func = [\"\n                \"'isDirectory',\"\n                \"'isFile',\"\n                \"'isBlockDevice',\"\n                \"'isCharacterDevice',\"\n                \"'isSymbolicLink',\"\n                \"'isFIFO',\"\n                \"'isSocket',\"\n              \"];\"\n              \"func.every((x) => typeof e[x] == 'function')\"),\n      njs_str(\"true\")},\n};\n\n\nstatic njs_unit_test_t  njs_crypto_module_test[] =\n{\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"[Object.prototype.toString.call(h), njs.dump(h),h]\"),\n      njs_str(\"[object Hash],Hash {},[object Hash]\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"var Hash = h.constructor; \"\n              \"Hash('sha1').update('AB').digest('hex')\"),\n      njs_str(\"06d945942aa26a61be18c3e22bf19bbca8dd2b5d\") },\n\n    { njs_str(\"var hash = require('crypto').createHash.bind(undefined, 'md5');\"\n              \"['hex', 'base64', 'base64url'].map(e => {\"\n              \"   var h = hash().update('AB').digest().toString(e);\"\n              \"   var h2 = hash().update(Buffer.from('XABX').subarray(1,3)).digest(e);\"\n              \"   var h3 = hash().update('A').update('B').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest().toString($e):$h != digest($e):$h2`)};\"\n              \"   if (h !== h3) {throw new Error(`digest().toString($e):$h != update('A').update('B').digest($e):$h3`)};\"\n              \"   return h;\"\n              \"})\"),\n      njs_str(\"b86fc6b051f63d73de262d4c34e3a0a9,\"\n              \"uG/GsFH2PXPeJi1MNOOgqQ==,\"\n              \"uG_GsFH2PXPeJi1MNOOgqQ\") },\n\n    { njs_str(\"var hash = require('crypto').createHash.bind(undefined, 'sha1');\"\n              \"['hex', 'base64', 'base64url'].map(e => {\"\n              \"   var h = hash().update('4142', 'hex').digest().toString(e);\"\n              \"   var h2 = hash().update(Buffer.from('XABX').subarray(1,3)).digest(e);\"\n              \"   var h3 = hash().update('A').update('B').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest().toString($e):$h != digest($e):$h2`)};\"\n              \"   if (h !== h3) {throw new Error(`digest().toString($e):$h != update('A').update('B').digest($e):$h3`)};\"\n              \"   return h;\"\n              \"})\"),\n      njs_str(\"06d945942aa26a61be18c3e22bf19bbca8dd2b5d,\"\n              \"BtlFlCqiamG+GMPiK/GbvKjdK10=,\"\n              \"BtlFlCqiamG-GMPiK_GbvKjdK10\") },\n\n    { njs_str(\"var hash = require('crypto').createHash.bind(undefined, 'sha1');\"\n              \"['hex', 'base64', 'base64url'].every(e => {\"\n              \"   var h = hash().digest(e);\"\n              \"   var h2 = hash().update('').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest($e):$h != update('').digest($e):$h2`)};\"\n              \"   return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var hash = require('crypto').createHash.bind(undefined, 'sha1');\"\n              \"[\"\n              \" ['AB'],\"\n              \" ['4142', 'hex'],\"\n              \" ['QUI=', 'base64'],\"\n              \" ['QUI', 'base64url']\"\n              \"].every(args => {\"\n              \"        return hash().update(args[0], args[1]).digest('hex') === '06d945942aa26a61be18c3e22bf19bbca8dd2b5d';\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var hash = require('crypto').createHash.bind(undefined, 'sha256');\"\n              \"['hex', 'base64', 'base64url'].map(e => {\"\n              \"   var h = hash().update('AB').digest().toString(e);\"\n              \"   var h2 = hash().update(Buffer.from('XABX').subarray(1,3)).digest(e);\"\n              \"   var h3 = hash().update('A').update('B').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest().toString($e):$h != digest($e):$h2`)};\"\n              \"   if (h !== h3) {throw new Error(`digest().toString($e):$h != update('A').update('B').digest($e):$h3`)};\"\n              \"   return h;\"\n              \"})\"),\n      njs_str(\"38164fbd17603d73f696b8b4d72664d735bb6a7c88577687fd2ae33fd6964153,\"\n              \"OBZPvRdgPXP2lri01yZk1zW7anyIV3aH/SrjP9aWQVM=,\"\n              \"OBZPvRdgPXP2lri01yZk1zW7anyIV3aH_SrjP9aWQVM\") },\n\n    { njs_str(\"var hash = require('crypto').createHash;\"\n              \"njs.dump(['', 'abc'.repeat(100)].map(v => {\"\n              \"    return ['md5', 'sha1', 'sha256'].map(h => {\"\n              \"        return hash(h).update(v).digest('hex');\"\n              \"     })\"\n              \"}))\"),\n      njs_str(\"[['d41d8cd98f00b204e9800998ecf8427e',\"\n              \"'da39a3ee5e6b4b0d3255bfef95601890afd80709',\"\n              \"'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855'],\"\n              \"['f571117acbd8153c8dc3c81b8817773a',\"\n              \"'c95466320eaae6d19ee314ae4f135b12d45ced9a',\"\n              \"'d9f5aeb06abebb3be3f38adec9a2e3b94228d52193be923eb4e24c9b56ee0930']]\") },\n\n    { njs_str(\"var h = require('crypto').createHash()\"),\n      njs_str(\"TypeError: algorithm must be a string\") },\n\n    { njs_str(\"var h = require('crypto').createHash([])\"),\n      njs_str(\"TypeError: algorithm must be a string\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha512')\"),\n      njs_str(\"TypeError: not supported algorithm: \\\"sha512\\\"\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"h.update()\"),\n      njs_str(\"TypeError: data argument \\\"undefined\\\" is not a string or Buffer-like object\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"h.update({})\"),\n      njs_str(\"TypeError: data argument \\\"object\\\" is not a string or Buffer-like object\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"h.update('A').digest('latin1')\"),\n      njs_str(\"TypeError: Unknown digest encoding: \\\"latin1\\\"\") },\n\n    { njs_str(\"require('crypto').createHash('sha1').digest() instanceof Buffer\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"h.update('A').digest('hex'); h.digest('hex')\"),\n      njs_str(\"Error: Digest already called\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"h.update('A').digest('hex'); h.update('B')\"),\n      njs_str(\"Error: Digest already called\") },\n\n    { njs_str(\"typeof require('crypto').createHash('md5')\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha1', '');\"\n              \"[Object.prototype.toString.call(h), njs.dump(h),h]\"),\n      njs_str(\"[object Hmac],Hmac {},[object Hmac]\") },\n\n    { njs_str(\"var hmac = require('crypto').createHmac.bind(undefined, 'md5', '');\"\n              \"['hex', 'base64', 'base64url'].map(e => {\"\n              \"   var h = hmac().update('AB').digest().toString(e);\"\n              \"   var h2 = hmac().update(Buffer.from('XABX').subarray(1,3)).digest(e);\"\n              \"   var h3 = hmac().update('A').update('B').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest().toString($e):$h != digest($e):$h2`)};\"\n              \"   if (h !== h3) {throw new Error(`digest().toString($e):$h != update('A').update('B').digest($e):$h3`)};\"\n              \"   return h;\"\n              \"})\"),\n      njs_str(\"9e0e9e545ef63d41dfb653daecf8ebc7,\"\n              \"ng6eVF72PUHftlPa7Pjrxw==,\"\n              \"ng6eVF72PUHftlPa7Pjrxw\") },\n\n    { njs_str(\"var hmac = require('crypto').createHmac.bind(undefined, 'sha1', '');\"\n              \"['hex', 'base64', 'base64url'].map(e => {\"\n              \"   var h = hmac().update('AB').digest().toString(e);\"\n              \"   var h2 = hmac().update(Buffer.from('XABX').subarray(1,3)).digest(e);\"\n              \"   var h3 = hmac().update('A').update('B').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest().toString($e):$h != digest($e):$h2`)};\"\n              \"   if (h !== h3) {throw new Error(`digest().toString($e):$h != update('A').update('B').digest($e):$h3`)};\"\n              \"   return h;\"\n              \"})\"),\n      njs_str(\"d32c0b6637cc2dfe4670f3fe48ef4434123c4810,\"\n              \"0ywLZjfMLf5GcPP+SO9ENBI8SBA=,\"\n              \"0ywLZjfMLf5GcPP-SO9ENBI8SBA\") },\n\n    { njs_str(\"var hash = require('crypto').createHmac.bind(undefined, 'sha1', '');\"\n              \"[\"\n              \" ['AB'],\"\n              \" ['4142', 'hex'],\"\n              \" ['QUI=', 'base64'],\"\n              \" ['QUI', 'base64url']\"\n              \"].every(args => {\"\n              \"        return hash().update(args[0], args[1]).digest('hex') === 'd32c0b6637cc2dfe4670f3fe48ef4434123c4810';\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var hmac = require('crypto').createHmac.bind(undefined, 'sha256', '');\"\n              \"['hex', 'base64', 'base64url'].map(e => {\"\n              \"   var h = hmac().update('AB').digest().toString(e);\"\n              \"   var h2 = hmac().update(Buffer.from('AB')).digest(e);\"\n              \"   var h3 = hmac().update('A').update('B').digest(e);\"\n              \"   if (h !== h2) {throw new Error(`digest().toString($e):$h != digest($e):$h2`)};\"\n              \"   if (h !== h3) {throw new Error(`digest().toString($e):$h != update('A').update('B').digest($e):$h3`)};\"\n              \"   return h;\"\n              \"})\"),\n      njs_str(\"d53400095496267cf02e5dbd4b0bf9fbfb5f36f311ea7d9809af5487421743e3,\"\n              \"1TQACVSWJnzwLl29Swv5+/tfNvMR6n2YCa9Uh0IXQ+M=,\"\n              \"1TQACVSWJnzwLl29Swv5-_tfNvMR6n2YCa9Uh0IXQ-M\") },\n\n    { njs_str(\"var hmac = require('crypto').createHmac;\"\n              \"njs.dump(['', 'abc'.repeat(100)].map(v => {\"\n              \"    return ['md5', 'sha1', 'sha256'].map(h => {\"\n              \"        return hmac(h, Buffer.from('secret')).update(v).digest('hex');\"\n              \"     })\"\n              \"}))\"),\n      njs_str(\"[['5c8db03f04cec0f43bcb060023914190',\"\n              \"'25af6174a0fcecc4d346680a72b7ce644b9a88e8',\"\n              \"'f9e66e179b6747ae54108f82f8ade8b3c25d76fd30afde6c395822c530196169'],\"\n              \"['91eb74a225cdd3bbfccc34396c6e3ac5',\"\n              \"'0aac71e3a813a7acc4a809cfdedb2ecba04ffc5e',\"\n              \"'8660d2d51d6f20f61d5aadfb6c43df7fd05fc2fc4967d8aec1846f3d9ec03987']]\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha1', '');\"\n              \"var Hmac = h.constructor; \"\n              \"Hmac('sha1', '').digest('hex')\"),\n      njs_str(\"fbdb1d1b18aa6c08324b7d64b71fb76370690e1d\") },\n\n    { njs_str(\"require('crypto').createHmac('sha1', '').digest() instanceof Buffer\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha256', 'A'.repeat(64));\"\n              \"h.update('AB').digest('hex')\"),\n      njs_str(\"ee9dce43b12eb3e865614ad9c1a8d4fad4b6eac2b64647bd24cd192888d3f367\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha256', 'A'.repeat(100));\"\n              \"h.update('AB').digest('hex')\"),\n      njs_str(\"5647b6c429701ff512f0f18232b4507065d2376ca8899a816a0a6e721bf8ddcc\") },\n\n    { njs_str(\"var h = require('crypto').createHmac()\"),\n      njs_str(\"TypeError: algorithm must be a string\") },\n\n    { njs_str(\"var h = require('crypto').createHmac([])\"),\n      njs_str(\"TypeError: algorithm must be a string\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha512', '')\"),\n      njs_str(\"TypeError: not supported algorithm: \\\"sha512\\\"\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha1', [])\"),\n      njs_str(\"TypeError: key argument \\\"array\\\" is not a string or Buffer-like object\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha1', 'secret key');\"\n              \"h.update('A').digest('hex'); h.digest('hex')\"),\n      njs_str(\"Error: Digest already called\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha1', 'secret key');\"\n              \"h.update('A').digest('hex'); h.update('B')\"),\n      njs_str(\"Error: Digest already called\") },\n\n    { njs_str(\"typeof require('crypto').createHmac('md5', 'a')\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var cr = require('crypto'); var h = cr.createHash('sha1');\"\n              \"h.update.call(cr.createHmac('sha1', 's'), '')\"),\n      njs_str(\"TypeError: \\\"this\\\" is not a hash object\") },\n};\n\nstatic njs_unit_test_t  njs_querystring_module_test[] =\n{\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:''}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('&baz=fuz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('&&&&&baz=fuz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('=fuz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{:'fuz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('=fuz=');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{:'fuz='}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('===fu=z');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{:'==fu=z'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&baz=tax');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:['fuz','tax']}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('freespace');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{freespace:''}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('name&value=12');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{name:'',value:'12'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', 'fuz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'',&muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', '');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', null);\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', undefined);\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz123muz=tax', 123);\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz\u03b1\u03b1\u03b1muz=tax', '\u03b1\u03b1\u03b1');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', '=');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'',fuz&muz:'',tax:''}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', null, 'fuz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz=:'',muz=tax:''}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', null, '&');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz=fuz:'',muz=tax:''}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz123fuz&muz123tax', null, 123);\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz\u03b1\u03b1\u03b1fuz&muz\u03b1\u03b1\u03b1tax', null, '\u03b1\u03b1\u03b1');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz',muz:'tax'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', null, null, {maxKeys: 1});\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'fuz'}\") },\n\n    { njs_str(\"var qs = require('querystring'); var out = [];\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', null, null, {decodeURIComponent: (key) => {out.push(key)}});\"\n              \"out.join('; ');\"),\n      njs_str(\"baz; fuz; muz; tax\") },\n\n    { njs_str(\"var qs = require('querystring'); var i = 0;\"\n              \"var obj = qs.parse('baz=fuz&muz=tax', null, null, {decodeURIComponent: (key) => '\u03b1' + i++});\"\n              \"njs.dump(obj);\"),\n      njs_str(\"{\u03b10:'\u03b11',\u03b12:'\u03b13'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.parse('baz=fuz&muz=tax', null, null, {decodeURIComponent: 123});\"),\n      njs_str(\"TypeError: option decodeURIComponent is not a function\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.unescape = 123;\"\n              \"qs.parse('baz=fuz&muz=tax');\"),\n    njs_str(\"TypeError: QueryString.unescape is not a function\") },\n\n    { njs_str(\"var qs = require('querystring'); var out = [];\"\n              \"qs.unescape = (key) => {out.push(key)};\"\n              \"qs.parse('baz=fuz&muz=tax');\"\n              \"out.join('; ');\"),\n      njs_str(\"baz; fuz; muz; tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('ba%32z=f%32uz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{ba2z:'f2uz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('ba%32z=f%32uz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{ba2z:'f2uz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('ba%F0%9F%92%A9z=f%F0%9F%92%A9uz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{ba\ud83d\udca9z:'f\ud83d\udca9uz'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('======');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{:'====='}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=%F0%9F%A9');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'\ufffd'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1%\\x00\\x01\\x02\u03b1\u03b1\u03b1\u03b1');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'\u03b1\u03b1\u03b1\u03b1\u03b1\u03b1%\\\\u0000\\\\u0001\\\\u0002\u03b1\u03b1\u03b1\u03b1'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=%F6\u03b1');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'\ufffd\u03b1'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=%F6');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'\ufffd'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=%FG');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'%FG'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=%F');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'%F'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('baz=%');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{baz:'%'}\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = qs.parse('ba+z=f+uz');\"\n              \"njs.dump(obj)\"),\n      njs_str(\"{ba z:'f uz'}\") },\n\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.parse('X='+'\u03b1'.repeat(33)).X.length\"),\n      njs_str(\"33\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var x = qs.parse('X='+'\u03b11'.repeat(33)).X;\"\n              \"[x.length, x[33], x[34]]\"),\n      njs_str(\"66,1,\u03b1\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var s = qs.parse('X='+String.bytesFrom(Array(16).fill(0x9d))).X;\"\n              \"[s.length, s.toUTF8().length, s[15]]\"),\n      njs_str(\"16,48,\ufffd\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz'})\"),\n      njs_str(\"baz=fuz\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'})\"),\n      njs_str(\"baz=fuz&muz=tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'ba\u03b1z': 'f\u03b1uz', 'mu\u03b1z': 't\u03b1ax'});\"),\n      njs_str(\"ba%CE%B1z=f%CE%B1uz&mu%CE%B1z=t%CE%B1ax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': ['fuz', 'tax']})\"),\n      njs_str(\"baz=fuz&baz=tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              njs_declare_sparse_array(\"arr\", 2)\n              \"arr[0] = 0; arr[1] = 1.5;\"\n              \"qs.stringify({'baz': arr})\"),\n      njs_str(\"baz=0&baz=1.5\") },\n\n    { njs_str(\"var qs = require('querystring'); var out = [];\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, null, null, {encodeURIComponent: (key) => {out.push(key)}});\"\n              \"out.join('; ')\"),\n      njs_str(\"baz; fuz; muz; tax\") },\n\n    { njs_str(\"var qs = require('querystring'); \"\n              \"qs.stringify({a: 'b'}, null, null, \"\n              \"             {encodeURIComponent: () => String.bytesFrom([0x9d])})\"),\n      njs_str(\"TypeError: got non-UTF8 string from encoder\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, null, null, {encodeURIComponent: 123});\"\n              \"out.join('; ')\"),\n      njs_str(\"TypeError: option encodeURIComponent is not a function\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.escape = 123;\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'})\"),\n      njs_str(\"TypeError: QueryString.escape is not a function\") },\n\n    { njs_str(\"var qs = require('querystring'); var out = [];\"\n              \"qs.escape = (key) => {out.push(key)};\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'});\"\n              \"out.join('; ')\"),\n      njs_str(\"baz; fuz; muz; tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, '****')\"),\n      njs_str(\"baz=fuz****muz=tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, null, '^^^^')\"),\n      njs_str(\"baz^^^^fuz&muz^^^^tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"var obj = {A:'\u03b1'}; obj['\u03b4'] = 'D';\"\n              \"var s = qs.stringify(obj,'\u03b3=','&\u03b2'); [s, s.length]\"),\n      njs_str(\"A&\u03b2%CE%B1\u03b3=%CE%B4&\u03b2D,20\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, '', '')\"),\n      njs_str(\"baz=fuz&muz=tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, undefined, undefined)\"),\n      njs_str(\"baz=fuz&muz=tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({'baz': 'fuz', 'muz': 'tax'}, '?', '/')\"),\n      njs_str(\"baz/fuz?muz/tax\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify('123')\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify(123)\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({X: String.bytesFrom(Array(4).fill(0x9d))})\"),\n      njs_str(\"X=%9D%9D%9D%9D\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({X:{toString(){return 3}}})\"),\n      njs_str(\"X=\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify({ name: undefined, age: 12 })\"),\n      njs_str(\"name=&age=12\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify(Object.create({ name: undefined, age: 12 }))\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([])\"),\n      njs_str(\"\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify(['','',''])\"),\n      njs_str(\"0=&1=&2=\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([undefined, null, Symbol(), Object(0), Object('test'), Object(false),,,])\"),\n      njs_str(\"0=&1=&2=&3=&4=&5=\") },\n\n#if 0\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([NaN, Infinity, -Infinity, 2**69, 2**70])\"),\n      njs_str(\"0=&1=&2=&3=590295810358705700000&4=1.1805916207174113e%2B21\") },\n#else\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([NaN, Infinity, -Infinity, 2**69, 2**70])\"),\n      njs_str(\"0=&1=&2=&3=590295810358705700000&4=1.1805916207174114e%2B21\") },\n#endif\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([[1,2,3],[4,5,6]])\"),\n      njs_str(\"0=1&0=2&0=3&1=4&1=5&1=6\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([['a',,,],['b',,,]])\"),\n      njs_str(\"0=a&0=&0=&1=b&1=&1=\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.stringify([[,'a','b',,]])\"),\n      njs_str(\"0=&0=a&0=b&0=\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.escape('abc\u03b1\u03b1\u03b1\u03b1def')\"),\n      njs_str(\"abc%CE%B1%CE%B1%CE%B1%CE%B1def\") },\n\n    { njs_str(\"var qs = require('querystring');\"\n              \"qs.unescape('abc%CE%B1%CE%B1%CE%B1%CE%B1def')\"),\n      njs_str(\"abc\u03b1\u03b1\u03b1\u03b1def\") },\n};\n\n\nstatic njs_unit_test_t  njs_buffer_module_test[] =\n{\n    { njs_str(\"new Buffer();\"),\n      njs_str(\"TypeError: Buffer is not a constructor\") },\n\n    { njs_str(\"var buf = Buffer.alloc();\"),\n      njs_str(\"TypeError: \\\"size\\\" argument must be of type number\") },\n\n    { njs_str(\"var buf = Buffer.alloc('best buffer');\"),\n      njs_str(\"TypeError: \\\"size\\\" argument must be of type number\") },\n\n    { njs_str(\"var buf = Buffer.alloc(-1);\"),\n      njs_str(\"RangeError: invalid size\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4); njs.dump(buf)\"),\n      njs_str(\"Buffer [0,0,0,0]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4, 88); buf\"),\n      njs_str(\"XXXX\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4, 945); njs.dump(buf)\"),\n      njs_str(\"Buffer [177,177,177,177]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4, -1); njs.dump(buf)\"),\n      njs_str(\"Buffer [255,255,255,255]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4, -1, 'utf-128'); njs.dump(buf)\"),\n      njs_str(\"Buffer [255,255,255,255]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(10, '\u03b1'); buf\"),\n      njs_str(\"\u03b1\u03b1\u03b1\u03b1\u03b1\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4, '\u03b1'); njs.dump(buf)\"),\n      njs_str(\"Buffer [206,177,206,177]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(2, '\u03b1\u03b1\u03b1\u03b1\u03b1'); njs.dump(buf)\"),\n      njs_str(\"Buffer [206,177]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(1, '\u03b1'); njs.dump(buf)\"),\n      njs_str(\"Buffer [206]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4, 'ZXZpbA==', 'base64'); buf\"),\n      njs_str(\"evil\") },\n\n    { njs_str(\"var buf = Buffer.alloc(8, 'ZXZpbA==', 'base64'); buf\"),\n      njs_str(\"evilevil\") },\n\n    { njs_str(\"var buf = Buffer.alloc(8, 'evil', 'utf-128'); buf\"),\n      njs_str(\"TypeError: \\\"utf-128\\\" encoding is not supported\") },\n\n    { njs_str(\"var foo = new Uint8Array(10).fill(88);\"\n              \"var buf = Buffer.alloc(8, foo); buf\"),\n      njs_str(\"XXXXXXXX\") },\n\n    { njs_str(\"[1,2,10,20].every(v => {\"\n              \"     var src = new Uint16Array(v).fill(0xB1CE);\"\n              \"     var buf = Buffer.alloc(10, src);\"\n              \"     return buf.toString() === \" njs_evar(\"'\u03b1\u03b1\u03b1\u03b1\u03b1'\", \"'\ufffd\u03b1\u03b1\u03b1\u03b1\ufffd'\")\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var foo = Buffer.alloc(10, '\u03b1');\"\n              \"var buf = Buffer.alloc(4, foo); buf\"),\n      njs_str(\"\u03b1\u03b1\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(10).fill('\u03b1'); buf\"),\n      njs_str(\"\u03b1\u03b1\u03b1\u03b1\u03b1\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(-1)\"),\n      njs_str(\"RangeError: invalid size\") },\n\n    { njs_str(\"[\"\n             \" ['6576696c', 'hex', 4],\"\n             \" ['6576696', 'hex', 3],\"\n             \" ['', 'hex', 0],\"\n             \" ['', 'base64', 0],\"\n             \" ['ZXZpbA==', 'base64', 4],\"\n             \" ['ZXZpbA', 'base64url', 4],\"\n             \" ['\u03b1\u03b1\u03b1\u03b1\u03b1', undefined, 10],\"\n             \"].every(args => Buffer.byteLength(args[0], args[1])  == args[2])\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Buffer.from([])\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Buffer.from([0x62, 0x75, 0x66, 0x66, 0x65, 0x72])\"),\n      njs_str(\"buffer\") },\n\n    { njs_str(njs_declare_sparse_array(\"arr\", 6)\n              \"[0x62, 0x75, 0x66, 0x66, 0x65, 0x72].map((v, i) => {arr[i] = v;});\"\n              \"Buffer.from(arr)\"),\n      njs_str(\"buffer\") },\n\n    { njs_str(\"Buffer.from({length:3, 0:0x62, 1:0x75, 2:0x66})\"),\n      njs_str(\"buf\") },\n\n    { njs_str(\"njs.dump(Buffer.from([-1,1,255,22323,-Infinity,Infinity,NaN]))\"),\n      njs_str(\"Buffer [255,1,255,51,0,0,0]\") },\n\n    { njs_str(\"var buf = Buffer.from([0x62, 0x75, 0x66, 0x66, 0x65, 0x72]); njs.dump(buf)\"),\n      njs_str(\"Buffer [98,117,102,102,101,114]\") },\n\n    { njs_str(\"var buf = Buffer.from([1,2,3]); njs.dump(Buffer.from(buf.toJSON()))\"),\n      njs_str(\"Buffer [1,2,3]\") },\n\n    { njs_str(\"[\"\n              \" {type: 'B'},\"\n              \" {type: undefined},\"\n              \" {type:'Buffer'},\"\n              \" {type:'Buffer', data:null},\"\n              \" {type:'Buffer', data:{}},\"\n              \"].every(v=>{ try { Buffer.from(v)} catch(e) {return e.name == 'TypeError'}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var foo = new Uint16Array(2);\"\n              \"foo[0] = 5000; foo[1] = 4000;\"\n              \"var buf = Buffer.from(foo.buffer);\"\n              \"foo[1] = 6000;\"\n              \"njs.dump(buf)\"),\n      njs_str(\"Buffer [\" njs_evar(\"136,19,112,23\", \"19,136,23,112\") \"]\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 1); njs.dump(buf)\"),\n      njs_str(\"Buffer [\" njs_evar(\"3,182,3\", \"182,3,182\") \"]\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, -1); njs.dump(buf)\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 5); njs.dump(buf)\"),\n      njs_str(\"RangeError: \\\"offset\\\" is outside of buffer bounds\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 2, 1); njs.dump(buf)\"),\n      njs_str(\"Buffer [\" njs_evar(\"182\", \"3\") \"]\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 2, -1); njs.dump(buf)\"),\n      njs_str(\"Buffer []\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 2, 3); njs.dump(buf)\"),\n      njs_str(\"RangeError: \\\"length\\\" is outside of buffer bounds\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 2, 0); njs.dump(buf)\"),\n      njs_str(\"Buffer []\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, 2, 2); njs.dump(buf)\"),\n      njs_str(\"Buffer [\" njs_evar(\"182,3\", \"3,182\") \"]\") },\n\n    { njs_str(\"var foo = new Uint16Array(2).fill(950);\"\n              \"var buf = Buffer.from(foo.buffer, '2', '2'); njs.dump(buf)\"),\n      njs_str(\"Buffer [\" njs_evar(\"182,3\", \"3,182\") \"]\") },\n\n    { njs_str(\"var foo = new Uint32Array(1).fill(0xF1F2F3F4);\"\n              \"var buf = Buffer.from(foo); njs.dump(buf)\"),\n      njs_str(\"Buffer [244]\") },\n\n    { njs_str(\"var foo = new Uint32Array(2).fill(0xF1F2F3F4);\"\n              \"var buf = Buffer.from(foo); njs.dump(buf)\"),\n      njs_str(\"Buffer [244,244]\") },\n\n    { njs_str(\"var foo = new Uint8Array(5);\"\n              \"foo[0] = 1; foo[1] = 2; foo[2] = 3; foo[3] = 4; foo[4] = 5;\"\n              \"foo = foo.subarray(1, 3);\"\n              \"var buf = Buffer.from(foo); njs.dump(buf)\"),\n      njs_str(\"Buffer [2,3]\") },\n\n    { njs_str(\"var buf = Buffer.from(''); njs.dump(buf)\"),\n      njs_str(\"Buffer []\") },\n\n    { njs_str(\"var buf = Buffer.from('\u03b1'); njs.dump(buf)\"),\n      njs_str(\"Buffer [206,177]\") },\n\n    { njs_str(\"var arr = new Array(1,2,3); arr.valueOf = () => arr;\"\n              \"njs.dump(Buffer.from(arr))\"),\n      njs_str(\"Buffer [1,2,3]\") },\n\n    { njs_str(\"var obj = new Object(); obj.valueOf = () => obj;\"\n              \"Buffer.from(obj)\"),\n      njs_str(\"TypeError: first argument object is not a string or Buffer-like object\") },\n\n    { njs_str(\"var obj = new Object(); obj.valueOf = () => undefined;\"\n              \"njs.dump(Buffer.from(obj))\"),\n      njs_str(\"TypeError: first argument undefined is not a string or Buffer-like object\") },\n\n    { njs_str(\"var arr = new Array(1,2,3); arr.valueOf = () => null;\"\n              \"njs.dump(Buffer.from(arr))\"),\n      njs_str(\"Buffer [1,2,3]\") },\n\n    { njs_str(\"var obj = new Object(); obj.valueOf = () => new Array(1,2,3);\"\n              \"njs.dump(Buffer.from(obj))\"),\n      njs_str(\"Buffer [1,2,3]\") },\n\n    { njs_str(\"njs.dump(Buffer.from(new String('test')))\"),\n      njs_str(\"Buffer [116,101,115,116]\") },\n\n    { njs_str(\"Buffer.from({ get type() { throw new Error('test'); } })\"),\n      njs_str(\"Error: test\") },\n\n    { njs_str(\"Buffer.from({ type: 'Buffer', get data() { throw new Error('test'); } })\"),\n      njs_str(\"Error: test\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a[1] = { valueOf() { a.length = 3; return 1; } };\"\n              \"njs.dump(Buffer.from(a))\"),\n      njs_str(\"Buffer [1,1,3,0]\") },\n\n    { njs_str(\"var a = [1,2,3,4]; a[1] = { valueOf() { a.length = 4096; a.fill(13); return 1; } };\"\n              \"njs.dump(Buffer.from(a))\"),\n      njs_str(\"Buffer [1,1,13,13]\") },\n\n    { njs_str(\"[\"\n             \" ['6576696c', 'hex'],\"\n             \" ['ZXZpbA==', 'base64'],\"\n             \" ['ZXZpbA==#', 'base64'],\"\n             \" ['ZXZpbA', 'base64url'],\"\n             \" ['ZXZpbA##', 'base64url'],\"\n             \"].every(args => Buffer.from(args[0], args[1]) == 'evil')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf = Buffer.from(String.bytesFrom([0xF3])); buf\"),\n      njs_str(\"\ufffd\") },\n\n    { njs_str(\"Buffer.from('', 'utf-128')\"),\n      njs_str(\"TypeError: \\\"utf-128\\\" encoding is not supported\") },\n\n    { njs_str(\"[Buffer.from('\u03b1'), new Uint8Array(10), {}, 1]\"\n              \".map(v=>Buffer.isBuffer(v))\"),\n      njs_str(\"true,false,false,false\") },\n\n    { njs_str(\"['utf8', 'utf-8', 'hex', 'base64', 'base64url', 'utf-88', '1hex']\"\n              \".map(v=>Buffer.isEncoding(v))\"),\n      njs_str(\"true,true,true,true,true,false,false\") },\n\n    { njs_str(\"[\"\n              \" ['ABC', 'ABCD', -1],\"\n              \" ['ABCD', 'ABC', 1],\"\n              \" ['ABC', 'ACB', -1],\"\n              \" ['ACB', 'ABC', 1],\"\n              \" ['ABC', 'ABC', 0],\"\n              \" ['', 'ABC', -1],\"\n              \" ['', '', 0],\"\n              \"].every(args => {\"\n              \"   if (Buffer.compare(Buffer.from(args[0]), Buffer.from(args[1])) != args[2]) {\"\n              \"       throw new TypeError(\"\n              \"            `Buffer.compare(Buffer.from(${args[0]}), Buffer.from(${args[1]})) != ${args[2]}`);\"\n              \"   }\"\n              \"   return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[\"\n              \" ['ABC', 'ABCD', -1],\"\n              \" ['ABCD', 'ABC', 1],\"\n              \" ['ABC', 'ACB', -1],\"\n              \" ['ACB', 'ABC', 1],\"\n              \" ['ABC', 'ABC', 0],\"\n              \" ['', 'ABC', -1],\"\n              \" ['', '', 0],\"\n              \"].every(args => {\"\n              \"   if (Buffer.from(args[0]).compare(Buffer.from(args[1])) != args[2]) {\"\n              \"       throw new TypeError(\"\n              \"            `Buffer.from(${args[0]}).compare(Buffer.from(${args[1]})) != ${args[2]}`);\"\n              \"   }\"\n              \"   return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"[\"\n              \" [0,3,0,2, -1],\"\n              \" [0,2,0,3, 1],\"\n              \" [3,4,3,4, 0],\"\n              \" [undefined, undefined, undefined, undefined, 0],\"\n              \" [-1, undefined, undefined, undefined, 'invalid index'],\"\n              \" [0, -1, undefined, undefined, 'invalid index'],\"\n              \" [0, 0, -1, undefined, 'invalid index'],\"\n              \" [0, 0, 0, -1, 'invalid index'],\"\n              \"]\"\n              \".every(as => {\"\n              \"   try {\"\n              \"       if (buf.compare(buf, as[0], as[1], as[2], as[3]) != as[4]) {\"\n              \"           throw new TypeError(\"\n              \"                `buf.compare(${as[0]}, ${as[1]}, ${as[2]}, ${as[3]}) != ${as[4]}`);\"\n              \"       }\"\n              \"   } catch (e) { return e.message == as[4]}\"\n              \"   return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD');\"\n              \"var buf2 = Buffer.from('ABCD');\"\n              \"buf1.compare(buf2, 5)\"),\n      njs_str(\"RangeError: \\\"targetStart\\\" is out of range: 5\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD');\"\n              \"var buf2 = Buffer.from('ABCD');\"\n              \"buf1.compare(buf2, 0, 3, 5)\"),\n      njs_str(\"RangeError: \\\"sourceStart\\\" is out of range: 5\") },\n\n    { njs_str(\"var arr = new Uint8Array(4);\"\n              \"arr[0] = 0x41; arr[1] = 0x42; arr[2] = 0x43; arr[3] = 0x44;\"\n              \"arr = arr.subarray(1, 4);\"\n              \"var buf = Buffer.from('ABCD');\"\n              \"buf.compare(arr, 0, 3, 1, 4)\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"['123', 'abc', '124', '', 'AB', 'ABCD']\"\n              \".map(v=>Buffer.from(v)).sort(Buffer.compare).map(v=>v.toString())\"),\n      njs_str(\",123,124,AB,ABCD,abc\") },\n\n    { njs_str(\"Buffer.compare(Buffer.alloc(1), 'text')\"),\n      njs_str(\"TypeError: \\\"target\\\" argument must be an instance of Buffer or Uint8Array\") },\n\n    { njs_str(\"Buffer.compare('text', Buffer.from('ACB'))\"),\n      njs_str(\"TypeError: \\\"source\\\" argument must be an instance of Buffer or Uint8Array\") },\n\n    { njs_str(\"Buffer.concat()\"),\n      njs_str(\"TypeError: \\\"list\\\" argument must be an instance of Array\") },\n\n    { njs_str(\"Buffer.concat([])\"),\n      njs_str(\"\") },\n\n    { njs_str(\"Buffer.concat([new Uint16Array(10)])\"),\n      njs_str(\"TypeError: \\\"list[0]\\\" argument must be an instance of Buffer or Uint8Array\") },\n\n    { njs_str(\"Buffer.concat([new Uint8Array(2), new Uint8Array(1)]).fill('abc')\"),\n      njs_str(\"abc\") },\n\n    { njs_str(\"Buffer.concat([Buffer.from('AB'), Buffer.from('CD')])\"),\n      njs_str(\"ABCD\") },\n\n    { njs_str(\"Buffer.concat([new Uint8Array(2), new Uint8Array(1)], 2).fill('abc')\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"Buffer.concat([new Uint8Array(2), new Uint8Array(1)], 6).fill('abc')\"),\n      njs_str(\"abcabc\") },\n\n    { njs_str(\"Buffer.concat([Buffer.from('ABCD').slice(2,4), Buffer.from('ABCD').slice(0,2)])\"),\n      njs_str(\"CDAB\") },\n\n    { njs_str(njs_declare_sparse_array(\"list\", 2)\n              \"list[0] = Buffer.from('ABCD').slice(2,4);\"\n              \"list[1] = Buffer.from('ABCD').slice(0,2);\"\n              \"Buffer.concat(list);\"),\n      njs_str(\"CDAB\") },\n\n    { njs_str(njs_declare_sparse_array(\"list\", 2)\n              \"list[0] = new Uint8Array(2); list[1] = new Uint8Array(3);\"\n              \"Buffer.concat(list).fill('ab');\"),\n      njs_str(\"ababa\") },\n\n    { njs_str(\"Buffer.concat([], '123')\"),\n      njs_str(\"TypeError: \\\"length\\\" argument must be of type number\") },\n\n    { njs_str(\"Buffer.concat([], -1)\"),\n      njs_str(\"RangeError: \\\"length\\\" is out of range\") },\n\n    { njs_str(\"var buf = Buffer.from('\u03b1'); buf[1]\"),\n      njs_str(\"177\") },\n\n    { njs_str(\"var buf = Buffer.from('\u03b1'); buf[1] = 1; njs.dump(buf)\"),\n      njs_str(\"Buffer [206,1]\") },\n\n    { njs_str(\"var arrBuf = new ArrayBuffer(16);\"\n              \"var buf = Buffer.from(arrBuf); buf.buffer === arrBuf\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[\"\n              \" [[0], 4, '65,66,67,68,0,0,0,0,0,0'],\"\n              \" [[5], 4, '0,0,0,0,0,65,66,67,68,0'],\"\n              \" [[8], 2, '0,0,0,0,0,0,0,0,65,66'],\"\n              \" [[8,2,4], 2, '0,0,0,0,0,0,0,0,67,68'],\"\n              \" [[10], 0, '0,0,0,0,0,0,0,0,0,0'],\"\n              \"]\"\n              \".every(args => {\"\n              \" var buf1 = Buffer.from('ABCD');\"\n              \" var buf2 = Buffer.alloc(10, 0);\"\n              \" var as = args[0];\"\n              \" var length = buf1.copy(buf2, as[0], as[1], as[2]);\"\n              \"\"\n              \" if (length != args[1]) {\"\n              \"   throw new TypeError(`buf1.copy(buf2, ${as[0]}, ${as[1]}, ${as[2]}): ${length} != ${args[1]}`)\"\n              \" }\"\n              \"\"\n              \" if (njs.dump(buf2) != `Buffer [${args[2]}]`) {\"\n              \"   throw new TypeError(\"\n              \"     `buf1.copy(buf2, ${as[0]}, ${as[1]}, ${as[2]}): ${njs.dump(buf2)} != Buffer [${args[2]}]`);\"\n              \" }\"\n              \" return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"[\"\n              \" [[0], 'ABCDEF'],\"\n              \" [[0,2], 'CDEFEF'],\"\n              \" [[0,2,6], 'CDEFEF'],\"\n              \" [[1,2,4], 'ACDDEF'],\"\n              \" [[1,2,3], 'ACCDEF']\"\n              \"]\"\n              \".every(args => {\"\n              \" var buf = Buffer.from('ABCDEF');\"\n              \" var as = args[0];\"\n              \" buf.copy(buf, as[0], as[1], as[2]);\"\n              \"\"\n              \" if (buf.toString() != args[1]) {\"\n              \"   throw new TypeError(\"\n              \"     `buf.copy(buf, ${as[0]}, ${as[1]}, ${as[2]}): buf.toString() != ${args[1]}`);\"\n              \" }\"\n              \" return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD');\"\n              \"var buf2 = Buffer.alloc(10, 0);\"\n              \"buf1.copy(buf2, -1)\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD');\"\n              \"var buf2 = Buffer.alloc(10, 0);\"\n              \"buf1.copy(buf2, 0, -1)\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD');\"\n              \"var buf2 = Buffer.alloc(10, 0);\"\n              \"buf1.copy(buf2, 0, 5)\"),\n      njs_str(\"RangeError: \\\"sourceStart\\\" is out of range: 5\") },\n\n    { njs_str(\"var arr = new Uint8Array(4);\"\n              \"arr[0] = 0x41; arr[1] = 0x42; arr[2] = 0x43; arr[3] = 0x44;\"\n              \"arr = arr.subarray(1, 4);\"\n              \"var buf1 = Buffer.from(arr);\"\n              \"var buf2 = Buffer.alloc(10, 0);\"\n              \"var length = buf1.copy(buf2, 1, 1, 2); [length, njs.dump(buf2)]\"),\n      njs_str(\"1,Buffer [0,67,0,0,0,0,0,0,0,0]\") },\n\n    { njs_str(\"var arr = new Uint8Array(4);\"\n              \"arr[0] = 0x41; arr[1] = 0x42; arr[2] = 0x43; arr[3] = 0x44;\"\n              \"arr = arr.subarray(1, 4);\"\n              \"var buf1 = Buffer.from(arr);\"\n              \"var buf2 = Buffer.alloc(10, 0);\"\n              \"var length = buf1.copy(buf2, 1, 1, 2); [length, njs.dump(buf2)]\"),\n      njs_str(\"1,Buffer [0,67,0,0,0,0,0,0,0,0]\") },\n\n    { njs_str(\"[\"\n              \" ['ABC', 'ABCD', false],\"\n              \" ['ABCD', 'ABC', false],\"\n              \" ['ABC', 'ACB', false],\"\n              \" ['ACB', 'ABC', false],\"\n              \" ['ABC', 'ABC', true],\"\n              \" ['', 'ABC', false],\"\n              \" ['', '', true],\"\n              \"].every(args => {\"\n              \"   if (Buffer.from(args[0]).equals(Buffer.from(args[1])) != args[2]) {\"\n              \"       throw new TypeError(\"\n              \"            `Buffer.from(${args[0]}).compare(Buffer.from(${args[1]})) != ${args[2]}`);\"\n              \"   }\"\n              \"   return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Buffer.from([1,2]).equals(new ArrayBuffer(1))\"),\n      njs_str(\"TypeError: \\\"target\\\" argument must be an instance of Buffer or Uint8Array\") },\n\n    { njs_str(\"Buffer.from([1,2]).equals(1)\"),\n      njs_str(\"TypeError: \\\"target\\\" argument must be an instance of Buffer or Uint8Array\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4);\"\n              \"buf.fill('ZXZpbA==', 'base64')\"),\n      njs_str(\"evil\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4);\"\n              \"buf.fill('6576696c', 'hex')\"),\n      njs_str(\"evil\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4);\"\n              \"buf.fill('ZXZpbA==', '')\"),\n      njs_str(\"TypeError: \\\"\\\" encoding is not supported\") },\n\n    { njs_str(\"var buf = Buffer.alloc(8);\"\n              \"buf.fill('6576696c', 'hex')\"),\n      njs_str(\"evilevil\") },\n\n    { njs_str(\"var buf = Buffer.alloc(10);\"\n              \"buf.fill('evil')\"),\n      njs_str(\"evilevilev\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(5);\"\n              \"buf[3] = 1;\"\n              \"buf.fill(''); njs.dump(buf)\"),\n      njs_str(\"Buffer [0,0,0,0,0]\") },\n\n    { njs_str(\"var arr = new Uint8Array(4);\"\n              \"arr[0] = 0x41; arr[1] = 0x42; arr[2] = 0x43; arr[3] = 0x44;\"\n              \"arr = arr.subarray(1, 4);\"\n              \"var buf = Buffer.allocUnsafe(6);\"\n              \"buf.fill(arr); njs.dump(buf)\"),\n      njs_str(\"Buffer [66,67,68,66,67,68]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(6, 'ABCDEF');\"\n              \"buf.fill(buf, 2, 6)\"),\n      njs_str(\"ABABCD\") },\n\n    { njs_str(\"Buffer.alloc(6).fill(0x41)\"),\n      njs_str(\"AAAAAA\") },\n\n    { njs_str(\"Buffer.alloc(6).fill({valueOf(){return 0x42}})\"),\n      njs_str(\"BBBBBB\") },\n\n    { njs_str(\"njs.dump(Buffer.alloc(3).fill(-1))\"),\n      njs_str(\"Buffer [255,255,255]\") },\n\n    { njs_str(\"[NaN, Infinity, -Infinity, undefined, null, {}]\"\n              \".every(v => njs.dump(Buffer.alloc(3).fill(v)) == 'Buffer [0,0,0]')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"njs.dump(Buffer.alloc(6).fill({valueOf(){throw 'Oops'}}, 4,3))\"),\n      njs_str(\"Buffer [0,0,0,0,0,0]\") },\n\n    { njs_str(\"njs.dump(Buffer.alloc(6).fill({valueOf(){throw 'Oops'}}, 3,3))\"),\n      njs_str(\"Buffer [0,0,0,0,0,0]\") },\n\n    { njs_str(\"njs.dump(Buffer.alloc(6).fill({valueOf(){throw 'Oops'}}, 2,3))\"),\n      njs_str(\"Oops\") },\n\n    { njs_str(\"njs.dump(Buffer.alloc(5).fill('\u03b1'))\"),\n      njs_str(\"Buffer [206,177,206,177,206]\") },\n\n    { njs_str(\"Buffer.alloc(4).fill('ABCD', -1)\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"Buffer.alloc(4).fill('ABCD', 5)\"),\n      njs_str(\"RangeError: \\\"offset\\\" is out of range\") },\n\n    { njs_str(\"Buffer.alloc(4).fill('ABCD', 0, -1)\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"Buffer.alloc(4).fill('ABCD', 0, 5)\"),\n      njs_str(\"RangeError: \\\"end\\\" is out of range\") },\n\n    { njs_str(\"Buffer.alloc(513).fill('A'.repeat(512)).length\"),\n      njs_str(\"513\") },\n\n    { njs_str(\"njs.dump(Buffer.alloc(4).fill((new Uint8Array(5)).fill(1)))\"),\n      njs_str(\"Buffer [1,1,1,1]\") },\n\n    { njs_str(\"var src = new Uint8Array(10).fill(255);\"\n              \"var u8 = new Uint8Array(src.buffer, 1, 8);\"\n              \"u8.set([1,2,3,4,5,6,7,8]);\"\n              \"njs.dump(Buffer.alloc(9).fill(u8))\"),\n      njs_str(\"Buffer [1,2,3,4,5,6,7,8,1]\") },\n\n    { njs_str(\"Buffer.alloc(513).fill((new Uint8Array(512)).fill(1)).length\"),\n      njs_str(\"513\") },\n\n    { njs_str(\"Buffer.alloc(4).fill('ABCD', undefined, undefined, 'utf-128')\"),\n      njs_str(\"TypeError: \\\"utf-128\\\" encoding is not supported\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD').subarray(1, 3);\"\n              \"buf1.fill('B', 1, 2); njs.dump(buf1)\"),\n      njs_str(\"Buffer [66,66]\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD').subarray(1, 3);\"\n              \"buf1.fill(0x42, 1, 2); njs.dump(buf1)\"),\n      njs_str(\"Buffer [66,66]\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD').subarray(1, 2);\"\n              \"var buf2 = Buffer.from('ABCD').subarray(1, 3);\"\n              \"buf2.fill(buf1, 1, 2); njs.dump(buf2)\"),\n      njs_str(\"Buffer [66,66]\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', ''].map(v=>buf.indexOf(v))\"),\n      njs_str(\"1,-1,0,-1,0\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"[0,5,-2,-1].map(v=>buf.indexOf('C', v))\"),\n      njs_str(\"2,-1,2,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('evil');\"\n              \"buf.indexOf('ZXZpbA==', undefined, 'base64')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var buf = Buffer.from('evil');\"\n              \"buf.indexOf('6576696c', undefined, 'hex')\"),\n      njs_str(\"0\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"buf.indexOf('C', undefined, 'utf-128')\"),\n      njs_str(\"TypeError: \\\"utf-128\\\" encoding is not supported\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCDABC');\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.indexOf(Buffer.from(v)))\"),\n      njs_str(\"1,-1,0,-1,0,2,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCDABC');\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.includes(Buffer.from(v)))\"),\n      njs_str(\"true,false,true,false,true,true,false\") },\n\n    { njs_str(\"var buf = Buffer.from('ZABCDABC').subarray(1);\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.indexOf(Buffer.from(v)))\"),\n      njs_str(\"1,-1,0,-1,0,2,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"buf.indexOf(0x43)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"buf.indexOf(0x43, -2)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCD');\"\n              \"buf.indexOf(0x43, -1)\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD');\"\n              \"var buf2 = Buffer.from('XXCX').subarray(2, 3);\"\n              \"buf1.indexOf(buf2)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD').subarray(1, 4);\"\n              \"buf1.indexOf(0x43)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ABCD').subarray(1, 4);\"\n              \"buf1.indexOf('C')\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCDABC');\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.lastIndexOf(v))\"),\n      njs_str(\"5,-1,0,-1,7,6,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('ABCDABC');\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.lastIndexOf(Buffer.from(v)))\"),\n      njs_str(\"5,-1,0,-1,7,6,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('ZABCDABC').subarray(1);\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.lastIndexOf(v))\"),\n      njs_str(\"5,-1,0,-1,7,6,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('ZABCDABC').subarray(1);\"\n              \"['BC', 'CB', 'ABCD', 'ABCDE', '', 'C', 'ABCDABCD'].map(v=>buf.lastIndexOf(Buffer.from(v)))\"),\n      njs_str(\"5,-1,0,-1,7,6,-1\") },\n\n    { njs_str(\"var buf = Buffer.from('CABCD');\"\n              \"[2,-2,1,-10,10,-5,-4,0].map(v=>buf.lastIndexOf('C', v))\"),\n      njs_str(\"0,3,0,-1,3,0,0,0\") },\n\n    { njs_str(\"var buf = Buffer.from('CABCD');\"\n              \"[2,-2,1,-10,10,-5,-4,0].map(v=>buf.lastIndexOf(Buffer.from('CZ').subarray(0,1), v))\"),\n      njs_str(\"0,3,0,-1,3,0,0,0\") },\n\n    { njs_str(\"var buf = Buffer.from('CABCD');\"\n              \"buf.lastIndexOf(0x43)\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"var buf = Buffer.from('CABCD');\"\n              \"[2,1,0,4,5,-1,-5].map(v=>buf.lastIndexOf(0x43, v))\"),\n      njs_str(\"0,0,0,3,3,3,0\") },\n\n    { njs_str(\"var buf1 = Buffer.from('ACBCD').subarray(1, 4);\"\n              \"var buf2 = Buffer.from('C');\"\n              \"buf1.lastIndexOf(buf2)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var buf1 = Buffer.from('XXCXX').subarray(2,3);\"\n              \"buf1.lastIndexOf(Buffer.from('X'))\"),\n      njs_str(\"-1\") },\n\n    { njs_str(\"var buf = Buffer.from('ACBCD').subarray(1, 4);\"\n              \"buf.lastIndexOf(0x43)\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var buf = Buffer.from('ACBCD').subarray(1, 4);\"\n              \"buf.lastIndexOf('C')\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"['swap16', 'swap32', 'swap64'].every(method => {\"\n              \"    var buf = Buffer.from([]);\"\n              \"    buf[method]();\"\n              \"    return njs.dump(buf) === 'Buffer []';\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"['swap16', 'swap32', 'swap64'].every(method => {\"\n              \"    var buf = Buffer.from([1,2,3]);\"\n              \"    try { buf[method]() } \"\n              \"    catch(e) {return e.message === `Buffer size must be a multiple of ${method.substr(4)}-bits`};\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"['swap16', 'swap32', 'swap64'].map(method => {\"\n              \"    var buf = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]);\"\n              \"    buf[method]();\"\n              \"    return njs.dump(buf);\"\n              \"})\"),\n      njs_str(\"Buffer [2,1,4,3,6,5,8,7],\"\n              \"Buffer [4,3,2,1,8,7,6,5],\"\n              \"Buffer [8,7,6,5,4,3,2,1]\") },\n\n    { njs_str(\"['swap16', 'swap32', 'swap64'].map(method => {\"\n              \"    var u8 = new Uint8Array([0, 1, 2, 3, 4, 5, 6, 7, 8]);\"\n              \"    var buf = Buffer.from(u8.buffer, 1);\"\n              \"    buf[method]();\"\n              \"    return njs.dump(buf);\"\n              \"})\"),\n      njs_str(\"Buffer [2,1,4,3,6,5,8,7],\"\n              \"Buffer [4,3,2,1,8,7,6,5],\"\n              \"Buffer [8,7,6,5,4,3,2,1]\") },\n\n    { njs_str(\"njs.dump(Buffer.from('\u03b1\u03b1\u03b1\u03b1').toJSON())\"),\n      njs_str(\"{type:'Buffer',data:[206,177,206,177,206,177,206,177]}\") },\n\n    { njs_str(\"njs.dump(Buffer.from('').toJSON())\"),\n      njs_str(\"{type:'Buffer',data:[]}\") },\n\n    { njs_str(\"[\"\n              \" [['base64'], 'ZXZpbA=='],\"\n              \" [['base64url'], 'ZXZpbA'],\"\n              \" [['hex'], '6576696c'],\"\n              \" [[undefined,1,3], 'vi'],\"\n              \" [[undefined,5], ''],\"\n              \" [[undefined,undefined,5], 'evil'],\"\n              \" [[undefined,undefined,undefined], 'evil'],\"\n              \"].every(args => {\"\n              \"   var buf = Buffer.from('evil');\"\n              \"   var as = args[0];\"\n              \"   if (buf.toString(as[0], as[1], as[2]) != args[1]) {\"\n              \"       throw new TypeError(\"\n              \"            `buf.toString(${as[0]}, ${as[1]}, ${as[2]}) != ${args[1]}`);\"\n              \"   }\"\n              \"   return true;\"\n              \"})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Buffer.from('evil').toString('utf-128')\"),\n      njs_str(\"TypeError: \\\"utf-128\\\" encoding is not supported\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4);\"\n              \"var len = buf.write('ZXZpbA==', 'base64'); [len, buf]\"),\n      njs_str(\"4,evil\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4);\"\n              \"var len = buf.write('ZXZpbA==', undefined, 'base64'); [len, buf]\"),\n      njs_str(\"4,evil\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4);\"\n              \"var len = buf.write('ZXZpbA==', undefined, undefined, 'base64'); [len, buf]\"),\n      njs_str(\"4,evil\") },\n\n    { njs_str(\"Buffer.allocUnsafe(4).write()\"),\n      njs_str(\"TypeError: first argument must be a string\") },\n\n    { njs_str(\"Buffer.allocUnsafe(4).write({a: 1})\"),\n      njs_str(\"TypeError: first argument must be a string\") },\n\n    { njs_str(\"Buffer.alloc(4).write('evil', 4, 1);\"),\n      njs_str(\"RangeError: \\\"offset\\\" is out of range\") },\n\n    { njs_str(\"Buffer.alloc(4).write('evil', -1);\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4);\"\n              \"var len = buf.write('evil', 3, 1); [len, njs.dump(buf)]\"),\n      njs_str(\"1,Buffer [0,0,0,101]\") },\n\n    { njs_str(\"var buf = Buffer.alloc(4);\"\n              \"var len = buf.write('evil', 0, 5); [len, buf]\"),\n      njs_str(\"4,evil\") },\n\n    { njs_str(\"Buffer.alloc(4).write('evil', undefined, -1);\"),\n      njs_str(\"RangeError: invalid index\") },\n\n    { njs_str(\"var buf = Buffer.from([0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff, 0xF9, 0xf8]);\"\n              \"[1,2,3,4,5,6].map(byte => [buf.readUIntLE(0, byte), buf.readUIntLE(1, byte)])\"),\n      njs_str(\"250,251,\"\n              \"64506,64763,\"\n              \"16579578,16645371,\"\n              \"4261215226,4278058235,\"\n              \"1095182908410,1099494718715,\"\n              \"281470647991290,274877890034939\") },\n\n    { njs_str(\"var buf = Buffer.from([0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff, 0xF9, 0xf8]);\"\n              \"[1,2,3,4,5,6].map(byte => [buf.readIntLE(0, byte), buf.readIntLE(1, byte)])\"),\n      njs_str(\"-6,-5,\"\n              \"-1030,-773,\"\n              \"-197638,-131845,\"\n              \"-33752070,-16909061,\"\n              \"-4328719366,-16909061,\"\n              \"-4328719366,-6597086675717\") },\n\n    { njs_str(\"var buf = Buffer.from([0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff, 0xF9, 0xf8]);\"\n              \"[1,2,3,4,5,6].map(byte => [buf.readUIntBE(0, byte), buf.readUIntBE(1, byte)])\"),\n      njs_str(\"250,251,\"\n              \"64251,64508,\"\n              \"16448508,16514301,\"\n              \"4210818301,4227661310,\"\n              \"1077969485310,1082281295615,\"\n              \"275960188239615,277064011677689\") },\n\n    { njs_str(\"var buf = Buffer.from([0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff, 0xF9, 0xf8]);\"\n              \"[1,2,3,4,5,6].map(byte => [buf.readIntBE(0, byte), buf.readIntBE(1, byte)])\"),\n      njs_str(\"-6,-5,\"\n              \"-1285,-1028,\"\n              \"-328708,-262915,\"\n              \"-84148995,-67305986,\"\n              \"-21542142466,-17230332161,\"\n              \"-5514788471041,-4410965032967\") },\n\n    { njs_str(\"var buf = Buffer.from([0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff, 0xF9, 0xf8]);\"\n              \"function t(sign, endianness, offset) { \"\n              \"    return [1,2,4].every(size => {\"\n              \"        var method = `read${sign}Int${size * 8}`;\"\n              \"        if (size > 1) { method += endianness};\"\n              \"        var gmethod = `read${sign}Int${endianness}`;\"\n              \"        var gv = buf[gmethod](offset, size);\"\n              \"        var sv = buf[method](offset);\"\n              \"        if (gv != sv) {throw Error(`${gmethod}(${offset},${size}):${gv} != ${method}(${offset}):${sv}`)}\"\n              \"        return true;\"\n              \"   });\"\n              \"}; \"\n              \"t('U', 'LE', 0) && t('U', 'LE', 1)\"\n              \"&& t('', 'LE', 0) && t('', 'LE', 1)\"\n              \"&& t('U', 'BE', 0) && t('U', 'BE', 1)\"\n              \"&& t('', 'BE', 0) && t('', 'BE', 1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buf = Buffer.alloc(9);\"\n              \"function t(sign, endianness, offset) { \"\n              \"    return [1,2,4].every(size => {\"\n              \"        var rgmethod = `read${sign}Int${endianness}`;\"\n              \"        var wgmethod = `write${sign}Int${endianness}`;\"\n              \"        var rmethod = `read${sign}Int${size * 8}`;\"\n              \"        var wmethod = `write${sign}Int${size * 8}`;\"\n              \"        if (size > 1) { rmethod += endianness; wmethod += endianness; };\"\n              \"        var v = 0x7abbccddeeff & (size * 8 - 1);\"\n              \"\"\n              \"        var ret = buf[wgmethod](v, offset, size);\"\n              \"        if(ret !== offset + size) {\"\n              \"            throw Error(`${wgmethod} returned ${ret}, need ${offset + size}`);\"\n              \"        }\"\n              \"\"\n              \"        var gv = buf[rgmethod](offset, size);\"\n              \"\"\n              \"        buf.fill(0);\"\n              \"        buf[wmethod](v, offset);\"\n              \"        var sv = buf[rmethod](offset);\"\n              \"        if (gv != sv) {throw Error(`${wmethod}(${v}, ${offset}):${sv} != ${wgmethod}(${v},${offset}):${gv}`)}\"\n              \"        return true;\"\n              \"   });\"\n              \"}; \"\n              \"t('U', 'LE', 0) && t('U', 'LE', 1)\"\n              \"&& t('', 'LE', 0) && t('', 'LE', 1)\"\n              \"&& t('U', 'BE', 0) && t('U', 'BE', 1)\"\n              \"&& t('', 'BE', 0) && t('', 'BE', 1)\"),\n      njs_str(\"true\") },\n\n    { njs_str(njs_buffer_byte_map(\"writeUIntLE\", \"+\", 1)),\n      njs_str(\"Buffer [128,0,0,0,0,0],\"\n              \"Buffer [0,64,0,0,0,0],\"\n              \"Buffer [0,0,32,0,0,0],\"\n              \"Buffer [0,0,0,16,0,0],\"\n              \"Buffer [0,0,0,0,8,0],\"\n              \"Buffer [0,0,0,0,0,4]\") },\n\n    { njs_str(njs_buffer_byte_map(\"writeUIntBE\", \"+\", 1)),\n      njs_str(\"Buffer [128,0,0,0,0,0],\"\n              \"Buffer [64,0,0,0,0,0],\"\n              \"Buffer [32,0,0,0,0,0],\"\n              \"Buffer [16,0,0,0,0,0],\"\n              \"Buffer [8,0,0,0,0,0],\"\n              \"Buffer [4,0,0,0,0,0]\") },\n\n    { njs_str(njs_buffer_byte_map(\"writeIntLE\", \"-\", 2)),\n      njs_str(\"Buffer [192,0,0,0,0,0],\"\n              \"Buffer [0,224,0,0,0,0],\"\n              \"Buffer [0,0,240,0,0,0],\"\n              \"Buffer [0,0,0,248,0,0],\"\n              \"Buffer [0,0,0,0,252,0],\"\n              \"Buffer [0,0,0,0,0,254]\") },\n\n    { njs_str(njs_buffer_byte_map(\"writeIntBE\", \"-\", 2)),\n      njs_str(\"Buffer [192,0,0,0,0,0],\"\n              \"Buffer [224,0,0,0,0,0],\"\n              \"Buffer [240,0,0,0,0,0],\"\n              \"Buffer [248,0,0,0,0,0],\"\n              \"Buffer [252,0,0,0,0,0],\"\n              \"Buffer [254,0,0,0,0,0]\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]).readDoubleBE()\"),\n      njs_str(\"8.20788039913184e-304\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]).readDoubleLE()\"),\n      njs_str(\"5.447603722011605e-270\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4]).readFloatBE()\"),\n      njs_str(\"2.387939260590663e-38\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4]).readFloatLE()\"),\n      njs_str(\"1.539989614439558e-36\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]).readDoubleBE(1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]).readDoubleLE(1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4]).readFloatBE(1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"Buffer.from([1, 2, 3, 4]).readFloatLE(1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(8);\"\n              \"buf.writeDoubleBE(123.456); njs.dump(buf)\"),\n      njs_str(\"Buffer [64,94,221,47,26,159,190,119]\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(8);\"\n              \"buf.writeDoubleLE(123.456); njs.dump(buf)\"),\n      njs_str(\"Buffer [119,190,159,26,47,221,94,64]\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4);\"\n              \"buf.writeFloatBE(123.456); njs.dump(buf)\"),\n      njs_str(\"Buffer [66,246,233,121]\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4);\"\n              \"buf.writeFloatLE(123.456); njs.dump(buf)\"),\n      njs_str(\"Buffer [121,233,246,66]\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(8).writeDoubleBE(123.456, 1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(8).writeDoubleLE(123.456, 1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4).writeFloatBE(123.456, 1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"var buf = Buffer.allocUnsafe(4).writeFloatLE(123.456, 1)\"),\n      njs_str(\"RangeError: index 1 is outside the bound of the buffer\") },\n\n    { njs_str(\"var buffer = require('buffer');\"\n              \"buffer.Buffer.alloc(5).fill('ABC')\"),\n      njs_str(\"ABCAB\") },\n\n    { njs_str(\"var buffer = require('buffer');\"\n              \"typeof buffer.kMaxLength === 'number' \"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buffer = require('buffer');\"\n              \"typeof buffer.constants.MAX_LENGTH === 'number' \"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var buffer = require('buffer');\"\n              \"typeof buffer.constants.MAX_STRING_LENGTH === 'number' \"),\n      njs_str(\"true\") },\n};\n\n\nstatic njs_unit_test_t  njs_webcrypto_test[] =\n{\n    /* Statistic test\n     * bits1 is a random variable with Binomial distribution\n     * Expected value is N / 2\n     * Standard deviation is sqrt(N / 4)\n     */\n    { njs_str(\"function count1(v) {return v.toString(2).match(/1/g).length;}\"\n              \"let buf = new Uint32Array(32);\"\n              \"crypto.getRandomValues(buf);\"\n              \"let bits1 = buf.reduce((a, v)=> a + count1(v), 0);\"\n              \"let nbits = buf.length * 32;\"\n              \"let mean = nbits / 2;\"\n              \"let stddev = Math.sqrt(nbits / 4);\"\n              \"let condition = bits1 > (mean - 10 * stddev) && bits1 < (mean + 10 * stddev);\"\n              \"condition ? true : [buf, nbits, bits1, mean, stddev]\"),\n      njs_str(\"true\") },\n};\n\n\nstatic njs_unit_test_t  njs_module_test[] =\n{\n    { njs_str(\"function f(){return 2}; var f; f()\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n    { njs_str(\"function f(){return 2}; var f = 1; f()\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n    { njs_str(\"function f(){return 1}; function f(){return 2}; f()\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n    { njs_str(\"var f = 1; function f() {};\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n\n    { njs_str(\"{ var f = 1; } function f() {};\"),\n      njs_str(\"SyntaxError: \\\"f\\\" has already been declared in 1\") },\n};\n\n\nstatic njs_unit_test_t  njs_externals_test[] =\n{\n    { njs_str(\"typeof $r\"),\n      njs_str(\"object\") },\n\n    { njs_str(\"var a = $r.uri, s = a.fromUTF8(); s.length +' '+ s\"),\n      njs_str(\"3 \u0410\u0411\u0412\") },\n\n    { njs_str(\"var a = $r.uri, b = $r2.uri, c = $r3.uri; a+b+c\"),\n      njs_str(\"\u0410\u0411\u0412\u03b1\u03b2\u03b3abc\") },\n\n    { njs_str(\"var a = $r.uri; $r.uri = $r2.uri; $r2.uri = a; $r2.uri+$r.uri\"),\n      njs_str(\"\u0410\u0411\u0412\u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"var a = $r.uri, s = a.fromUTF8(2); s.length +' '+ s\"),\n      njs_str(\"2 \u0411\u0412\") },\n\n    { njs_str(\"var a = $r.uri, s = a.fromUTF8(2, 4); s.length +' '+ s\"),\n      njs_str(\"1 \u0411\") },\n\n    { njs_str(\"var a = $r.uri; a +' '+ a.length +' '+ a\"),\n      njs_str(\"\u0410\u0411\u0412 6 \u0410\u0411\u0412\") },\n\n    { njs_str(\"$r.uri = '\u03b1\u03b2\u03b3'; var a = $r.uri; a.length +' '+ a\"),\n      njs_str(\"6 \u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"$r.uri.length +' '+ $r.uri\"),\n      njs_str(\"6 \u0410\u0411\u0412\") },\n\n    { njs_str(\"var t; \"\n              \"switch ($r3.uri) {\"\n              \"case 'abc': \"\n              \"  t='A'; \"\n              \"  break; \"\n              \"default: \"\n              \"  t='F'; \"\n              \"}; t\"),\n      njs_str(\"A\") },\n\n    { njs_str(\"$r.uri = $r.uri.substr(2); $r.uri.length +' '+ $r.uri\"),\n      njs_str(\"4 \u0411\u0412\") },\n\n    { njs_str(\"'' + $r.props.a + $r2.props.a + $r.props.a\"),\n      njs_str(\"121\") },\n\n    { njs_str(\"var p1 = $r.props, p2 = $r2.props; '' + p2.a + p1.a\"),\n      njs_str(\"21\") },\n\n    { njs_str(\"$r.props = $r2.props; $r.props.a\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"var p1 = $r.props, p2 = $r2.props; '' + p1.a + p2.a\"),\n      njs_str(\"12\") },\n\n    { njs_str(\"var p = $r3.props; p.a = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"a\\\" of object\") },\n\n    { njs_str(\"var p = $r3.props; delete p.a\"),\n      njs_str(\"TypeError: Cannot delete property \\\"a\\\" of object\") },\n\n    { njs_str(\"$r.vars.p + $r2.vars.q + $r3.vars.k\"),\n      njs_str(\"pvalqvalkval\") },\n\n    { njs_str(\"$r.vars.unset\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"['k', 'unknown'].map(v=>v in $r3.consts)\"),\n      njs_str(\"true,false\") },\n\n    { njs_str(\"['a', 'unknown'].map(v=>v in $r3.props)\"),\n      njs_str(\"true,false\") },\n\n    { njs_str(\"var v = $r3.vars; v.k\"),\n      njs_str(\"kval\") },\n\n    { njs_str(\"var v = $r3.vars; v.unset = 1; v.unset\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"$r3.a = 1; Object.getOwnPropertyDescriptors($r3).a.value\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"Object.defineProperty($r3.vars, 'a', {value:1}); $r3.vars.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"$r3.vars.p = 'a'; delete $r3.vars.p; $r3.vars.p\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"$r3.vars.p = 'a'; delete $r3.vars.p; $r3.vars.p = 'b'; $r3.vars.p\"),\n      njs_str(\"b\") },\n\n    { njs_str(\"$r3.vars.error = 1\"),\n      njs_str(\"Error: cannot set \\\"error\\\" prop\") },\n\n    { njs_str(\"delete $r3.vars.error\"),\n      njs_str(\"Error: cannot delete \\\"error\\\" prop\") },\n\n    { njs_str(\"delete $r3.vars.e\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete $r.consts\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"$r3.consts.k\"),\n      njs_str(\"kval\") },\n\n    { njs_str(\"$r3.consts.k = 1\"),\n      njs_str(\"TypeError: Cannot assign to read-only property \\\"k\\\" of object\") },\n\n    { njs_str(\"delete $r3.consts.k\"),\n      njs_str(\"TypeError: Cannot delete property \\\"k\\\" of object\") },\n\n    { njs_str(\"delete $r3.vars.p; $r3.vars.p\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = $r.host; a +' '+ a.length +' '+ a\"),\n      njs_str(\"\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419 22 \u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419\") },\n\n    { njs_str(\"var a = $r.host; a.substr(2, 2)\"),\n      njs_str(\"\u0411\") },\n\n    { njs_str(\"var a = $r.header['User-Agent']; a +' '+ a.length +' '+ a\"),\n      njs_str(\"User-Agent|\u0410\u0411\u0412 17 User-Agent|\u0410\u0411\u0412\") },\n\n    { njs_str(\"var a='', p;\"\n                 \"for (p in $r.header) { a += p +':'+ $r.header[p] +',' }\"\n                 \"a\"),\n      njs_str(\"01:01|\u0410\u0411\u0412,02:02|\u0410\u0411\u0412,03:03|\u0410\u0411\u0412,\") },\n\n    { njs_str(\"$r.method('YES')\"),\n      njs_str(\"\u0410\u0411\u0412\") },\n\n    { njs_str(\"$r.create('XXX').uri\"),\n      njs_str(\"XXX\") },\n\n    { njs_str(\"$r.create.call([], 'XXX')\"),\n      njs_str(\"TypeError: \\\"this\\\" is not an external\") },\n\n    { njs_str(\"var sr = $r.create('XXX'); sr.uri = 'YYY'; sr.uri\"),\n      njs_str(\"YYY\") },\n\n    { njs_str(\"var sr = $r.create('XXX'), sr2 = $r.create('YYY');\"\n                 \"sr.uri = 'ZZZ'; \"\n                 \"sr.uri + sr2.uri\"),\n      njs_str(\"ZZZYYY\") },\n\n    { njs_str(\"var sr = $r.create('XXX'); sr.vars.p = 'a'; sr.vars.p\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"var p; for (p in $r.method);\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"'uri' in $r\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"'one' in $r\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"'a' in $r.props\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete $r.uri\"),\n      njs_str(\"TypeError: Cannot delete property \\\"uri\\\" of object\") },\n\n    { njs_str(\"delete $shared.uri\"),\n      njs_str(\"TypeError: Cannot delete property \\\"uri\\\" of object\") },\n\n    { njs_str(\"delete $r.one\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"delete $r.vars\"),\n      njs_str(\"TypeError: Cannot delete property \\\"vars\\\" of object\") },\n\n    { njs_str(\"delete $r.header; $r.header\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"$r.header = 1; $r.header\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"$r.method.call($r, 'YES')\"),\n      njs_str(\"\u0410\u0411\u0412\") },\n\n    { njs_str(\"var f = $r.method.bind($r); f('YES')\"),\n      njs_str(\"\u0410\u0411\u0412\") },\n\n    { njs_str(\"function f(fn, arg) {return fn(arg);}; f($r.method.bind($r), 'YES')\"),\n      njs_str(\"\u0410\u0411\u0412\") },\n\n    { njs_str(\"$r.method.apply($r, ['YES'])\"),\n      njs_str(\"\u0410\u0411\u0412\") },\n\n    { njs_str(\"$shared.method.apply($r, ['YES'])\"),\n      njs_str(\"\u0410\u0411\u0412\") },\n\n    { njs_str(\"$r.method.call([], 'YES')\"),\n      njs_str(\"TypeError: \\\"this\\\" is not an external\") },\n\n    { njs_str(\"$r.nonexistent\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"$shared.nonexistent\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"njs.dump($r).startsWith('External')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"njs.dump($r.header)\"),\n      njs_str(\"Header {01:'01|\u0410\u0411\u0412',02:'02|\u0410\u0411\u0412',03:'03|\u0410\u0411\u0412'}\") },\n\n    { njs_str(\"var o = {b:$r.props.b}; o.b\"),\n      njs_str(\"42\") },\n\n    { njs_str(\"$r2.uri == '\u03b1\u03b2\u03b3' && $r2.uri === '\u03b1\u03b2\u03b3'\"),\n      njs_str(\"true\") },\n\n#if (NJS_TEST262)\n#define N262 \"$262,\"\n#else\n#define N262 \"\"\n#endif\n\n#if (NJS_HAVE_OPENSSL)\n#define NCRYPTO \"crypto,\"\n#else\n#define NCRYPTO \"\"\n#endif\n\n    { njs_str(\"Object.keys(this).sort()\"),\n      njs_str(N262 \"$r,$r2,$r3,$shared,\" NCRYPTO \"global,njs,process\") },\n\n    { njs_str(\"Object.getOwnPropertySymbols($r2)[0] == Symbol.toStringTag\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.getOwnPropertyDescriptors($r2)[Symbol.toStringTag].value\"),\n      njs_str(\"External\") },\n\n    { njs_str(\"Object.getPrototypeOf($r3) === Object.prototype\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"Object.isExtensible($r3)\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"$r3[0] = 0; $r3[1] = 1; $r3.length = 2;\"\n              \"Array.prototype.join.call($r3, '|')\"),\n      njs_str(\"0|1\") },\n\n    { njs_str(\"$r3.toJSON = ()=> 'R3';\"\n              \"JSON.stringify($r3)\"),\n      njs_str(\"\\\"R3\\\"\") },\n\n    { njs_str(\"$r3[0] = 0; $r3[1] = 1; $r3.length = 2;\"\n              \"$r3.__proto__ = Array.prototype; $r3.join('|')\"),\n      njs_str(\"0|1\") },\n\n    { njs_str(\"[this, global, globalThis]\"\n              \".every(v=> { var r = njs.dump(v); return ['$r', 'global', njs.version].every(v=>r.includes(v))})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var r = JSON.parse(JSON.stringify($r));\"\n              \"[r.uri, r.host, r.props.a, njs.dump(r.vars), njs.dump(r.consts), r.header['02']]\"),\n      njs_str(\"\u0410\u0411\u0412,\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419,1,{},{},02|\u0410\u0411\u0412\") },\n\n    { njs_str(\"var s = (new TextDecoder()).decode($r.buffer); [s, s.length]\"),\n      njs_str(\"\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419,11\") },\n\n    { njs_str(\"var b = $r.buffer; \"\n              \"b[4] = '@'.codePointAt(0); b[5] = '#'.codePointAt(0);\"\n              \"var s = (new TextDecoder()).decode(b); [s, s.length]\"),\n      njs_str(\"\u0410\u0411@#\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419,12\") },\n\n    { njs_str(\"var b = $r.buffer; \"\n              \"b.copyWithin(16,0,6);\"\n              \"var s = (new TextDecoder()).decode(b); [s, s.length]\"),\n      njs_str(\"\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0410\u0411\u0412,11\") },\n\n    { njs_str(\"var b = $r.buffer; \"\n              \"b.fill('#'.codePointAt(0));\"\n              \"var s = (new TextDecoder()).decode(b); [s, s.length]\"),\n      njs_str(\"######################,22\") },\n\n    { njs_str(\"var b = $r.buffer; \"\n              \"b.set(['@'.codePointAt(0), '#'.codePointAt(0)], 4);\"\n              \"var s = (new TextDecoder()).decode(b); [s, s.length]\"),\n      njs_str(\"\u0410\u0411@#\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419,12\") },\n\n    { njs_str(\"var b = $r.buffer; \"\n              \"var u16 = new Uint16Array(b.buffer); u16.reverse();\"\n              \"var s = (new TextDecoder()).decode(u16); [s, s.length]\"),\n      njs_str(\"\u0419\u0418\u0417\u0416\u0401\u0415\u0414\u0413\u0412\u0411\u0410,11\") },\n\n    { njs_str(\"new Uint8Array($r.buffer.sort().slice(0,3))\"),\n      njs_str(\"129,144,145\") },\n\n    { njs_str(\"$r.buffer instanceof Buffer\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"let ctor = Object.getPrototypeOf(async function(){}).constructor;\"\n              \"let f = new ctor();\"\n              \"$r.retval(f())\"),\n      njs_str(\"[object Promise]\") },\n\n    { njs_str(\"let ctor = Object.getPrototypeOf(async function(){}).constructor;\"\n              \"let f = new ctor('x', 'await 1; return x');\"\n              \"$r.retval(f(1))\"),\n      njs_str(\"[object Promise]\") },\n\n    { njs_str(\"let ctor = Object.getPrototypeOf(async function(){}).constructor;\"\n              \"let f = new ctor('x', 'await 1; return x');\"\n              \"f(1).then($r.retval)\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"$r.retval(Promise.all([async () => [await x('X')]]))\"),\n      njs_str(\"[object Promise]\") },\n\n    { njs_str(\"let obj = { a: 1, b: 2};\"\n              \"function cb(r) { r.retval(obj.a); }\"\n              \"$r.subrequest($r)\"\n              \".then(reply => cb(reply))\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"let obj = { a: 1, b: 2};\"\n              \"function cb(r, select) { r.retval(obj[select]); }\"\n              \"$r.subrequest('b')\"\n              \".then(select => cb($r, select))\"),\n      njs_str(\"2\") },\n\n    { njs_str(\"function pr(x) { return new Promise(resolve => {resolve(x + ':pr')}); };\"\n              \"Promise.all(['a', 'b', 'c'].map(async (v) => {\"\n              \"    return await pr(v + ':async');\"\n              \"}))\"\n              \".then(v => $r.retval(v))\"),\n      njs_str(\"a:async:pr,b:async:pr,c:async:pr\") },\n\n    { njs_str(\"function pr(x) { return new Promise(resolve => {resolve(x + ':pr')}); };\"\n              \"Promise.all(['a', 'b', 'c'].map(async (v) => {\"\n              \"    let r = await pr(v + ':async');\"\n              \"    let r2 = await pr(r + ':async2');\"\n              \"    return r2 + ':r';\"\n              \"}))\"\n              \".then(v => $r.retval(v))\"),\n      njs_str(\"a:async:pr:async2:pr:r,b:async:pr:async2:pr:r,c:async:pr:async2:pr:r\") },\n};\n\n\nstatic njs_unit_test_t  njs_async_handler_test[] =\n{\n    { njs_str(\"globalThis.main = (function() {\"\n              \"     function cb(r) { r.retval(1); }\"\n              \"     function handler(r) {\"\n              \"         r.subrequest(r)\"\n              \"         .then(reply => cb(reply))\"\n              \"     };\"\n              \"     return {handler};\"\n              \"})();\"\n              ),\n      njs_str(\"1\") },\n\n    { njs_str(\"globalThis.main = (function() {\"\n              \"     let obj = { a: 1, b: 2};\"\n              \"     function cb(r) { r.retval(obj.a); }\"\n              \"     function handler(r) {\"\n              \"         r.subrequest(r)\"\n              \"         .then(reply => cb(reply))\"\n              \"     };\"\n              \"     return {handler};\"\n              \"})();\"\n              ),\n      njs_str(\"1\") },\n};\n\n\nstatic njs_unit_test_t  njs_shared_test[] =\n{\n    { njs_str(\"var cr = require('crypto'); cr.createHash\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"var cr = require('crypto'); cr.createHash('md5')\"),\n      njs_str(\"[object Hash]\") },\n\n    { njs_str(\"import cr from 'crypto'; cr.createHash\"),\n      njs_str(\"[object Function]\") },\n\n    { njs_str(\"import cr from 'crypto'; cr.createHash('md5')\"),\n      njs_str(\"[object Hash]\") },\n\n    { njs_str(\"var fs = require('fs'); fs.a = 1; fs.a\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"require('fs').promises === require('fs').promises\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"isFinite()\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"Number.isFinite(function(){})\"),\n      njs_str(\"false\") },\n\n    { njs_str(\"isFin()\"),\n      njs_str(\"ReferenceError: \\\"isFin\\\" is not defined\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"isNaN(function(){})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"var a = $r.uri; $r.uri = $r2.uri; $r2.uri = a; $r2.uri + $r.uri\"),\n      njs_str(\"\u0410\u0411\u0412\u03b1\u03b2\u03b3\") },\n\n    { njs_str(\"njs.dump($r.props)\"),\n      njs_str(\"{a:'1',b:42,c:{d:1024}}\") },\n\n    { njs_str(\"njs.dump($shared.props)\"),\n      njs_str(\"{a:'11',b:42,c:{d:13}}\") },\n\n    { njs_str(\"var r = JSON.parse(JSON.stringify($shared));\"\n              \"[r.uri, r.host, r.props.a, njs.dump(r.vars), njs.dump(r.consts), r.header['02']]\"),\n      njs_str(\"shared,\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419,11,{},{},02|\u0410\u0411\u0412\") },\n\n    { njs_str(\"$shared.toString()\"),\n      njs_str(\"[object External]\") },\n\n    { njs_str(\"$shared.toString().length\"),\n      njs_str(\"17\") },\n\n    { njs_str(\"delete $shared.method; $shared.method\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"$shared.method = () => 1; $shared.method()\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"$shared.method = function() {return this.props.a;}; $shared.method()\"),\n      njs_str(\"11\") },\n\n    { njs_str(\"var r; for (var i = 0; i < 2**10; i++) {r = $r.create('XXX').uri;}\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"$r.vars.unset = 'a'; $r2.vars.unset = 'b';\"\n              \"$r.vars.unset + $r2.vars.unset\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"$r.vars.unset = 1; $r2.vars.unset = 2;\"\n              \"$r.vars.unset + $r2.vars.unset\"),\n      njs_str(\"3\") },\n\n    { njs_str(\"$r3.vars.p = 'a'; $r3.vars.p2 = 'b';\"\n              \"$r3.vars.p + $r3.vars.p2\"),\n      njs_str(\"ab\") },\n\n    { njs_str(\"delete $r3.vars.p; $r3.vars.p\"),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var sr = $r.create('XXX'); sr.vars.p = 'a'; sr.vars.p\"),\n      njs_str(\"a\") },\n\n    { njs_str(\"$r.bind('XXX', 37); XXX\"),\n      njs_str(\"37\") },\n\n    { njs_str(\"var fs = require('fs'); fs.readFileSync()\"),\n      njs_str(\"TypeError: \\\"path\\\" must be a string or Buffer\\n\"\n              \"    at fs.readFileSync (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"var f = new Function('return 1;'); f();\"),\n      njs_str(\"1\") },\n\n    { njs_str(\"var sum = new Function('a', 'b', 'return a + b');\"\n              \"sum(2, 4);\"),\n      njs_str(\"6\") },\n\n    { njs_str(\"var sum = new Function('a, b', 'return a + b');\"\n              \"sum(2, 4);\"),\n      njs_str(\"6\") },\n};\n\n\nstatic njs_unit_test_t  njs_tz_test[] =\n{\n     { njs_str(\"var d = new Date(1); d = d + ''; d.slice(0, 33)\"),\n       njs_str(\"Thu Jan 01 1970 12:45:00 GMT+1245\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getTime()\"),\n       njs_str(\"1308895200000\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.valueOf()\"),\n       njs_str(\"1308895200000\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45);\"\n                  \"d.toString().slice(0, 33)\"),\n       njs_str(\"Fri Jun 24 2011 18:45:00 GMT+1245\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45);\"\n                  \"d.toTimeString().slice(0, 17)\"),\n       njs_str(\"18:45:00 GMT+1245\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.toUTCString()\"),\n       njs_str(\"Fri, 24 Jun 2011 06:00:00 GMT\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                  \"d.toISOString()\"),\n       njs_str(\"2011-06-24T06:00:12.625Z\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCHours()\"),\n       njs_str(\"6\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45); d.getUTCMinutes()\"),\n       njs_str(\"0\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                  \"d.getTimezoneOffset()\"),\n       njs_str(\"-765\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setMinutes(3, 2, 5003);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308892687003\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setMinutes(3, 2);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308892682625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setMinutes(3);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308892683625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setHours(20, 3, 2, 5003);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308899887003\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setHours(20, 3, 2);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308899882625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setHours(20, 3);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308899883625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setHours(20);\"\n                  \"d.getTime()\"),\n       njs_str(\"1308902523625\") },\n\n     { njs_str(\"var d = new Date(NaN); d.setHours(20);\"\n                  \"d.getTime()\"),\n       njs_str(\"NaN\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setMonth(2, 10);\"\n                  \"d.getTime()\"),\n       njs_str(\"1299733323625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setMonth(2);\"\n                  \"d.getTime()\"),\n       njs_str(\"1300942923625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setFullYear(2010, 2, 10);\"\n                  \"d.getTime()\"),\n       njs_str(\"1268197323625\") },\n\n     { njs_str(\"var d = new Date(1308895323625); d.setFullYear(2010, 2);\"\n                  \"d.getTime()\"),\n       njs_str(\"1269406923625\") },\n\n     { njs_str(\"var d = new Date(2011, 5, 24, 18, 45, 12, 625);\"\n                  \"d.toJSON(1)\"),\n       njs_str(\"2011-06-24T06:00:12.625Z\") },\n\n     { njs_str(\"Date.parse('1970-09-28T06:00:00.000')\"),\n       njs_str(\"23303700000\") },\n\n#if (NJS_TIME_T_SIZE == 8)\n\n     { njs_str(\"var d = new Date(-1, 0);\"\n                  \"d.toISOString()\"),\n       njs_str(\"-000002-12-31T11:47:00.000Z\") },\n\n     { njs_str(\"var d = new Date(-1, 0);\"\n                  \"d.getTime()\"),\n       njs_str(\"-62198799180000\") },\n\n     { njs_str(\"var d = new Date(-1, 0);\"\n                  \"d.getTimezoneOffset()\"),\n       njs_str(\"-733\") },\n#endif\n\n     { njs_str(\"var d = new Date(1970, 6);\"\n                  \"d.getTimezoneOffset()\"),\n       njs_str(\"-765\") },\n};\n\n\nstatic njs_unit_test_t  njs_regexp_optional_tests[] =\n{\n    { njs_str(\"/[\\\\\\\\u02E0-\\\\\\\\u02E4]/\"),\n      njs_str(\"/[\\\\\\\\u02E0-\\\\\\\\u02E4]/\") },\n\n    { njs_str(\"/[\\\\u02E0-\\\\u02E4]/\"),\n      njs_str(\"/[\\\\u02E0-\\\\u02E4]/\") },\n\n    { njs_str(\"RegExp('[\\\\\\\\u02E0-\\\\\\\\u02E4]')\"),\n      njs_str(\"/[\\\\u02E0-\\\\u02E4]/\") },\n\n    { njs_str(\"/[\\\\u0430-\\\\u044f]+/.test('\u0442\u0435\u0441\u0442')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp('[\\\\\\\\u0430-\\\\\\\\u044f]+').test('\u0442\u0435\u0441\u0442')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp('[\\\\\\\\u0430-\\\\\\\\u044f]+').exec('\u0442\u0435\u0441\u0442')[0]\"),\n      njs_str(\"\u0442\u0435\u0441\u0442\") },\n\n    { njs_str(\"/[\\\\uFDE0-\\\\uFFFD]/g; export default 1\"),\n      njs_str(\"SyntaxError: Illegal export statement in 1\") },\n\n    { njs_str(\"RegExp(RegExp('\\x00]]')).test('\\x00]]')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp('\\0').test('\\0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"RegExp('\\x00').test('\\0')\"),\n      njs_str(\"true\") },\n\n#ifndef NJS_HAVE_PCRE2\n    { njs_str(\"RegExp('\\x00\\\\\\\\x00').source\"),\n      njs_str(\"\\\\u0000\\\\x00\") },\n\n    { njs_str(\"/\\\\\\0/\"),\n      njs_str(\"/\\\\\\\\u0000/\") },\n\n    { njs_str(\"RegExp('\\\\\\\\\\\\0').source\"),\n      njs_str(\"\\\\\\\\u0000\") },\n#endif\n\n    { njs_str(\"RegExp('[\\0]').test('\\0')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/[A-Za-z\\\\u00F8-\\\\u02FF]/.test('S')\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"/[A-Za-z\\\\u00F8-\\\\u02FF]/.test('\u00f8')\"),\n      njs_str(\"true\") },\n\n};\n\n\nstatic njs_unit_test_t  njs_shell_test[] =\n{\n#define ENTER \"\\n\\3\"\n\n    { njs_str(\"var a = 3\" ENTER\n              \"a * 2\" ENTER),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = \\\"aa\\\\naa\\\"\" ENTER\n              \"a\" ENTER),\n      njs_str(\"aa\\naa\") },\n\n    { njs_str(\"var a = 3\" ENTER\n              \"var a = 'str'\" ENTER\n              \"a\" ENTER),\n      njs_str(\"str\") },\n\n    { njs_str(\"var a = 2\" ENTER\n              \"a *= 2\" ENTER\n              \"a *= 2\" ENTER\n              \"a *= 2\" ENTER),\n      njs_str(\"16\") },\n\n    { njs_str(\"var a = 2\" ENTER\n              \"var b = 3\" ENTER\n              \"a * b\" ENTER),\n      njs_str(\"6\") },\n\n    { njs_str(\"var a = 2; var b = 3;\" ENTER\n              \"a * b\" ENTER),\n      njs_str(\"6\") },\n\n    { njs_str(\"function sq(f) { return f() * f() }\" ENTER\n               \"sq(function () { return 3 })\" ENTER),\n      njs_str(\"9\") },\n\n    /* Temporary indexes */\n\n    { njs_str(\"var a = [1,2,3], i; for (i in a) {Object.seal({});}\" ENTER),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var i; for (i in [1,2,3]) {Object.seal({});}\" ENTER),\n      njs_str(\"undefined\") },\n\n    { njs_str(\"var a = 'A'; \"\n              \"switch (a) {\"\n              \"case 0: a += '0';\"\n              \"case 1: a += '1';\"\n              \"}; a\" ENTER),\n      njs_str(\"A\") },\n\n    { njs_str(\"var a = 0; try { a = 5 }\"\n              \"catch (e) { a = 9 } finally { a++ } a\" ENTER),\n      njs_str(\"6\") },\n\n    { njs_str(\"/abc/i.test('ABC')\" ENTER),\n      njs_str(\"true\") },\n\n    /* Interactive mode. */\n\n    { njs_str(\"var a = 1\" ENTER\n              \"a\" ENTER),\n      njs_str(\"1\") },\n\n    { njs_str(\"Number.prototype.test = 'test'\" ENTER\n              \"Number.prototype.test\" ENTER),\n      njs_str(\"test\") },\n\n    { njs_str(\"function f(a) {return a}\" ENTER\n              \"function f(a) {return a}; f(2)\" ENTER),\n      njs_str(\"2\") },\n\n    { njs_str(\"function f() {return 1}\" ENTER\n              \"function f(a) {return 1}; f(2)\" ENTER),\n      njs_str(\"1\") },\n\n    { njs_str(\"try {(new Function('function foo(){return 1}; ()=>{}breakhere'))} catch (e) {}\" ENTER\n              \"foo()\" ENTER),\n      njs_str(\"ReferenceError: \\\"foo\\\" is not defined\\n\"\n              \"    at main (:1)\\n\") },\n\n    /* Error handling */\n\n    { njs_str(\"var a = ;\" ENTER\n              \"2 + 2\" ENTER),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f() { return b;\" ENTER),\n      njs_str(\"SyntaxError: Unexpected end of input in 1\") },\n\n    { njs_str(\"function f() { return b;\" ENTER\n               \"2 + 2\" ENTER),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f() { return function() { return 1\" ENTER\n              \"2 + 2\" ENTER),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f() { return b;}\" ENTER\n              \"2 + 2\" ENTER),\n      njs_str(\"4\") },\n\n    { njs_str(\"function f(o) { return o.a.a;}; f{{}}\" ENTER\n              \"2 + 2\" ENTER),\n      njs_str(\"4\") },\n\n    { njs_str(\"function ff(o) {return o.a.a}\" ENTER\n              \"function f(o) {try {return ff(o)} \"\n              \"               finally {return 1}}\" ENTER\n              \"f({})\" ENTER),\n      njs_str(\"1\") },\n\n    { njs_str(\"arguments\" ENTER\n              \"function(){}()\" ENTER),\n      njs_str(\"SyntaxError: Unexpected token \\\"(\\\" in 1\") },\n\n    /* Exception in njs_vm_retval_string() */\n\n    { njs_str(\"var o = { toString: function() { return [1] } }\" ENTER\n              \"o\" ENTER),\n      njs_str(\"TypeError: Cannot convert object to primitive value\") },\n};\n\n\nstatic njs_unit_test_t  njs_backtraces_test[] =\n{\n    { njs_str(\"function ff(o) {return o.a.a};\"\n              \"function f(o) {return ff(o)};\"\n              \"f({})\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at ff (:1)\\n\"\n              \"    at f (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"function ff(o) {return o.a.a};\"\n              \"function f(o) {try {return ff(o)} \"\n              \"               finally {return o.a.a}};\"\n              \"f({})\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at f (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"function f(ff, o) {return ff(o)};\"\n              \"f(function (o) {return o.a.a}, {})\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at anonymous (:1)\\n\"\n              \"    at f (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"'str'.replace(/t/g,\"\n              \"              function(m) {return m.a.a})\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at anonymous (:1)\\n\"\n              \"    at RegExp.prototype[Symbol.replace] (native)\\n\"\n              \"    at String.prototype.replace (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"function f(o) {return Object.keys(o)};\"\n              \"f()\"),\n      njs_str(\"TypeError: cannot convert undefined argument to object\\n\"\n              \"    at Object.keys (native)\\n\"\n              \"    at f (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"[].concat({}.a.a)\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at Array.prototype.concat (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"''.repeat(-1)\"),\n      njs_str(\"RangeError\\n\"\n              \"    at String.prototype.repeat (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"Math.log({}.a.a)\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at Math.log (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"var bound = Math.max.bind(null, {toString(){return {}}}); bound(1)\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\\n\"\n              \"    at Math.max (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"Object.prototype()\"),\n      njs_str(\"TypeError: (intermediate value)[\\\"prototype\\\"] is not a function\\n\"\n               \"    at main (:1)\\n\") },\n\n    { njs_str(\"eval()\"),\n      njs_str(\"InternalError: Not implemented\\n\"\n              \"    at eval (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"$shared.method({}.a.a)\"),\n    /* FIXME: at $shared.method (native) */\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at $r.method (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"new Function(\\n\\n@)\"),\n      njs_str(\"SyntaxError: Unexpected token \\\"@\\\" in 3\") },\n\n    { njs_str(\"require()\"),\n      njs_str(\"TypeError: missing path\\n\"\n              \"    at require (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"setTimeout()\"),\n      njs_str(\"TypeError: too few arguments\\n\"\n              \"    at setTimeout (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"require('crypto').createHash('sha')\"),\n      njs_str(\"TypeError: not supported algorithm: \\\"sha\\\"\\n\"\n              \"    at crypto.createHash (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"var h = require('crypto').createHash('sha1');\"\n              \"h.update([])\"),\n      njs_str(\"TypeError: data argument \\\"array\\\" is not a string or Buffer-like object\\n\"\n              \"    at Hash.update (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"require('crypto').createHmac('sha1', [])\"),\n      njs_str(\"TypeError: key argument \\\"array\\\" is not a string or Buffer-like object\\n\"\n              \"    at crypto.createHmac (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"var h = require('crypto').createHmac('sha1', 'secret');\"\n              \"h.update([])\"),\n      njs_str(\"TypeError: data argument \\\"array\\\" is not a string or Buffer-like object\\n\"\n              \"    at Hmac.update (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"function f(o) {function f_in(o) {return o.a.a};\"\n              \"               return f_in(o)};\"\n              \"f({})\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at f_in (:1)\\n\"\n              \"    at f (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"function f(o) {var ff = function (o) {return o.a.a};\"\n              \"               return ff(o)};\"\n              \"f({})\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at anonymous (:1)\\n\"\n              \"    at f (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"var fs = require('fs');\"\n              \"[\"\n              \" 'access',\"\n              \" 'accessSync',\"\n              \" 'readFile',\"\n              \" 'readFileSync',\"\n              \" 'writeFile',\"\n              \" 'writeFileSync',\"\n              \" 'appendFile',\"\n              \" 'appendFileSync',\"\n              \" 'symlink',\"\n              \" 'symlinkSync',\"\n              \" 'unlink',\"\n              \" 'unlinkSync',\"\n              \" 'realpath',\"\n              \" 'realpathSync',\"\n              \"]\"\n              \".every(v=>{ try {fs[v]();} catch (e) { return e.stack.search(`fs.${v} `) >= 0}})\"),\n      njs_str(\"true\") },\n\n    { njs_str(\"parseInt({ toString: function() { return [1] } })\"),\n      njs_str(\"TypeError: Cannot convert object to primitive value\\n\"\n              \"    at parseInt (native)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"function f(n) { if (n == 0) { throw 'a'; } return f(n-1); }; f(2)\"),\n      njs_str(\"a\") },\n\n    /* line numbers */\n\n    { njs_str(\"/**/(function(){throw Error();})()\"),\n      njs_str(\"Error\\n\"\n              \"    at anonymous (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"/***/(function(){throw Error();})()\"),\n      njs_str(\"Error\\n\"\n              \"    at anonymous (:1)\\n\"\n              \"    at main (:1)\\n\") },\n\n    { njs_str(\"/*\\n**/(function(){throw Error();})()\"),\n      njs_str(\"Error\\n\"\n              \"    at anonymous (:2)\\n\"\n              \"    at main (:2)\\n\") },\n\n    { njs_str(\"({})\\n.a\\n.a\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at main (:3)\\n\") },\n\n    { njs_str(\"1\\n+a\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\\n\"\n              \"    at main (:2)\\n\") },\n\n    { njs_str(\"\\n`\\n${Object}\\n${a}`\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\\n\"\n              \"    at main (:4)\\n\") },\n\n    { njs_str(\"function log(v) {}\\nlog({}\\n.a\\n.a)\"),\n      njs_str(\"TypeError: cannot get property \\\"a\\\" of undefined\\n\"\n              \"    at main (:4)\\n\") },\n\n    { njs_str(\"\\nfor (var i = 0;\\n i < a;\\n i++) { }\\n\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\\n\"\n              \"    at main (:3)\\n\") },\n\n    { njs_str(\"\\nfor (var i = 0;\\n i < 5;\\n a) {\\n }\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\\n\"\n              \"    at main (:4)\\n\") },\n\n    { njs_str(\"Math\\n.min(1,\\na)\"),\n      njs_str(\"ReferenceError: \\\"a\\\" is not defined\\n\"\n              \"    at Math.min (native)\\n\"\n              \"    at main (:3)\\n\") },\n};\n\n\ntypedef struct {\n    njs_bool_t  disassemble;\n    njs_str_t   filter;\n    njs_bool_t  verbose;\n\n    njs_uint_t  externals;\n    njs_bool_t  module;\n    njs_uint_t  repeat;\n    njs_bool_t  unsafe;\n    njs_bool_t  backtrace;\n    njs_bool_t  handler;\n    njs_bool_t  async;\n    unsigned    seed;\n} njs_opts_t;\n\n\ntypedef struct {\n    njs_uint_t  passed;\n    njs_uint_t  failed;\n} njs_stat_t;\n\n\ntypedef struct {\n    njs_vm_t            *vm;\n    njs_external_env_t  *env;\n    njs_external_env_t  env0;\n\n    enum {\n        sw_start = 0,\n        sw_handler,\n        sw_loop,\n        sw_done\n    }                   state;\n} njs_external_state_t;\n\n\ntypedef struct {\n    njs_external_state_t  *states;\n    njs_uint_t            size;\n    njs_uint_t            current;\n} njs_runtime_t;\n\n\nstatic void\nnjs_unit_test_report(njs_str_t *name, njs_stat_t *prev, njs_stat_t *current)\n{\n    njs_stat_t  stat;\n\n    stat.failed = current->failed - prev->failed;\n    stat.passed = current->passed - prev->passed;\n\n    njs_printf(\"%V tests: %s [%d/%d]\\n\", name,\n               stat.failed ? \"FAILED\" : \"PASSED\", stat.passed,\n               stat.passed + stat.failed);\n}\n\n\nstatic njs_int_t\nnjs_external_state_init(njs_vm_t *vm, njs_external_state_t *s, njs_opts_t *opts)\n{\n    njs_int_t  ret;\n\n    if (opts->externals) {\n        s->env = &s->env0;\n\n        ret = njs_external_env_init(s->env);\n        if (ret != NJS_OK) {\n            njs_stderror(\"njs_external_env_init() failed\\n\");\n            return NJS_ERROR;\n        }\n\n    } else {\n        s->env = NULL;\n    }\n\n    s->vm = njs_vm_clone(vm, s->env);\n    if (s->vm == NULL) {\n        njs_stderror(\"njs_vm_clone() failed\\n\");\n        return NJS_ERROR;\n    }\n\n    if (opts->externals) {\n        ret = njs_externals_init(s->vm);\n        if (ret != NJS_OK) {\n            njs_stderror(\"njs_externals_init() failed\\n\");\n            return NJS_ERROR;\n        }\n    }\n\n    s->state = sw_start;\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_external_retval(njs_external_state_t *state, njs_str_t *s)\n{\n    if (state->env != NULL && njs_value_is_valid(&state->env->retval)) {\n        return njs_vm_value_string(state->vm, s, &state->env->retval);\n    }\n\n    return njs_vm_retval_string(state->vm, s);\n}\n\n\nstatic njs_runtime_t *\nnjs_runtime_init(njs_vm_t *vm, njs_opts_t *opts)\n{\n    njs_int_t      ret;\n    njs_uint_t     i;\n    njs_runtime_t  *rt;\n\n    rt = njs_mp_alloc(vm->mem_pool, sizeof(njs_runtime_t));\n    if (rt == NULL) {\n        return NULL;\n    }\n\n    rt->size = opts->repeat;\n    rt->states = njs_mp_alloc(vm->mem_pool,\n                              sizeof(njs_external_state_t) * rt->size);\n    if (rt->states == NULL) {\n        return NULL;\n    }\n\n    rt->current = 0;\n    srandom(opts->seed);\n\n    for (i = 0; i < rt->size; i++) {\n        ret = njs_external_state_init(vm, &rt->states[i], opts);\n        if (ret != NJS_OK) {\n            njs_stderror(\"njs_external_state_init() failed\\n\");\n            return NULL;\n        }\n    }\n\n    return rt;\n}\n\n\nstatic njs_external_state_t *\nnjs_runtime_next_state(njs_runtime_t *rt, njs_opts_t *opts)\n{\n    unsigned  next, n;\n\n    n = 0;\n    next = ((opts->async) ? (unsigned) random() : rt->current++) % rt->size;\n\n    while (rt->states[next].state == sw_done) {\n        next++;\n        next = next % rt->size;\n\n        n++;\n\n        if (n == rt->size) {\n            return NULL;\n        }\n    }\n\n    return &rt->states[next];\n}\n\n\nstatic void\nnjs_runtime_destroy(njs_runtime_t *rt)\n{\n    njs_uint_t  i;\n\n    for (i = 0; i < rt->size; i++) {\n        if (rt->states[i].vm != NULL) {\n            njs_vm_destroy(rt->states[i].vm);\n        }\n    }\n}\n\n\nstatic njs_int_t\nnjs_process_test(njs_external_state_t *state, njs_opts_t *opts,\n    njs_unit_test_t *expected)\n{\n    njs_int_t    ret;\n    njs_str_t    s;\n    njs_bool_t   success;\n    njs_value_t  request;\n\n    static const njs_str_t  handler_str = njs_str(\"main.handler\");\n    static const njs_str_t  request_str = njs_str(\"$r\");\n\n    switch (state->state) {\n    case sw_start:\n        state->state = sw_handler;\n\n        ret = njs_vm_start(state->vm);\n        if (ret != NJS_OK) {\n            goto done;\n        }\n\n        if (opts->async) {\n            return NJS_OK;\n        }\n\n        /* Fall through. */\n    case sw_handler:\n        state->state = sw_loop;\n\n        if (opts->handler) {\n            ret = njs_vm_value(state->vm, &request_str, &request);\n            if (ret != NJS_OK) {\n                njs_stderror(\"njs_vm_value(\\\"%V\\\") failed\\n\", &request_str);\n                return NJS_ERROR;\n            }\n\n            ret = njs_external_call(state->vm, &handler_str, &request, 1);\n            if (ret == NJS_ERROR) {\n                goto done;\n            }\n\n            if (opts->async) {\n                return NJS_OK;\n            }\n        }\n\n        /* Fall through. */\n    case sw_loop:\n    default:\n        for ( ;; ) {\n            if (!njs_vm_pending(state->vm)) {\n                break;\n            }\n\n            ret = njs_external_process_events(state->vm, state->env);\n            if (ret != NJS_OK) {\n                njs_stderror(\"njs_external_process_events() failed\\n\");\n                return NJS_ERROR;\n            }\n\n            if (njs_vm_waiting(state->vm) && !njs_vm_posted(state->vm)) {\n                /*TODO: async events. */\n\n                njs_stderror(\"njs_process_test(): async events unsupported\\n\");\n                return NJS_ERROR;\n            }\n\n            (void) njs_vm_run(state->vm);\n\n            if (opts->async) {\n                return NJS_OK;\n            }\n        }\n    }\n\ndone:\n\n    state->state = sw_done;\n\n    if (njs_external_retval(state, &s) != NJS_OK) {\n        njs_stderror(\"njs_external_retval() failed\\n\");\n        return NJS_ERROR;\n    }\n\n    success = njs_strstr_eq(&expected->ret, &s);\n    if (!success) {\n        njs_stderror(\"njs(\\\"%V\\\")\\nexpected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\",\n                     &expected->script, &expected->ret, &s);\n\n        return NJS_DECLINED;\n    }\n\n    njs_vm_destroy(state->vm);\n    state->vm = NULL;\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_unit_test(njs_unit_test_t tests[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    u_char                *start, *end;\n    njs_vm_t              *vm;\n    njs_int_t             ret;\n    njs_str_t             s;\n    njs_bool_t            success;\n    njs_uint_t            i;\n    njs_stat_t            prev;\n    njs_vm_opt_t          options;\n    njs_runtime_t         *rt;\n    njs_external_state_t  *state;\n\n    vm = NULL;\n    rt = NULL;\n\n    prev = *stat;\n\n    ret = NJS_ERROR;\n\n    for (i = 0; i < num; i++) {\n\n        if (opts->verbose) {\n            njs_printf(\"\\\"%V\\\"\\n\", &tests[i].script);\n        }\n\n        njs_vm_opt_init(&options);\n\n        options.module = opts->module;\n        options.unsafe = opts->unsafe;\n        options.backtrace = opts->backtrace;\n\n        vm = njs_vm_create(&options);\n        if (vm == NULL) {\n            njs_printf(\"njs_vm_create() failed\\n\");\n            goto done;\n        }\n\n        if (opts->externals) {\n            ret = njs_externals_shared_init(vm);\n            if (ret != NJS_OK) {\n                goto done;\n            }\n        }\n\n        start = tests[i].script.start;\n        end = start + tests[i].script.length;\n\n        ret = njs_vm_compile(vm, &start, end);\n\n        if (ret == NJS_OK && start == end) {\n            if (opts->disassemble) {\n                njs_disassembler(vm);\n            }\n\n            rt = njs_runtime_init(vm, opts);\n            if (rt == NULL) {\n                njs_stderror(\"njs_runtime_init() failed\\n\");\n                goto done;\n            }\n\n            for ( ;; ) {\n                state = njs_runtime_next_state(rt, opts);\n                if (state == NULL) {\n                    break;\n                }\n\n                ret = njs_process_test(state, opts, &tests[i]);\n                if (ret != NJS_OK) {\n                    if (ret == NJS_DECLINED) {\n                        break;\n                    }\n\n                    njs_stderror(\"njs_process_test() failed\\n\");\n                    goto done;\n                }\n            }\n\n            success = (ret == NJS_OK);\n\n            if (rt != NULL) {\n                njs_runtime_destroy(rt);\n                rt = NULL;\n            }\n\n        } else {\n            if (ret != NJS_OK) {\n                if (njs_vm_retval_string(vm, &s) != NJS_OK) {\n                    njs_printf(\"njs_vm_retval_string() failed\\n\");\n                    goto done;\n                }\n\n            } else {\n                s = njs_str_value(\"Error: \"\n                                  \"Extra characters at the end of the script\");\n            }\n\n            success = njs_strstr_eq(&tests[i].ret, &s);\n            if (!success) {\n                njs_stderror(\"njs(\\\"%V\\\")\\nexpected: \\\"%V\\\"\\n\"\n                             \"     got: \\\"%V\\\"\\n\",\n                             &tests[i].script, &tests[i].ret, &s);\n            }\n        }\n\n        if (success) {\n            stat->passed++;\n\n        } else {\n            stat->failed++;\n        }\n\n        njs_vm_destroy(vm);\n        vm = NULL;\n    }\n\n    ret = NJS_OK;\n\ndone:\n\n    if (rt != NULL) {\n        njs_runtime_destroy(rt);\n    }\n\n    if (vm != NULL) {\n        njs_vm_destroy(vm);\n    }\n\n    njs_unit_test_report(name, &prev, stat);\n\n    return ret;\n}\n\n\nstatic njs_int_t\nnjs_interactive_test(njs_unit_test_t tests[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    u_char        *start, *last, *end;\n    njs_vm_t      *vm;\n    njs_int_t     ret;\n    njs_str_t     s;\n    njs_uint_t    i;\n    njs_stat_t    prev;\n    njs_bool_t    success;\n    njs_vm_opt_t  options;\n\n    vm = NULL;\n\n    prev = *stat;\n\n    ret = NJS_ERROR;\n\n    for (i = 0; i < num; i++) {\n\n        if (opts->verbose) {\n            njs_printf(\"\\\"%V\\\"\\n\", &tests[i].script);\n        }\n\n        njs_vm_opt_init(&options);\n\n        options.init = 1;\n        options.interactive = 1;\n        options.backtrace = 1;\n\n        vm = njs_vm_create(&options);\n        if (vm == NULL) {\n            njs_printf(\"njs_vm_create() failed\\n\");\n            goto done;\n        }\n\n        if (opts->externals) {\n            ret = njs_externals_shared_init(vm);\n            if (ret != NJS_OK) {\n                goto done;\n            }\n\n            ret = njs_externals_init(vm);\n            if (ret != NJS_OK) {\n                goto done;\n            }\n        }\n\n        start = tests[i].script.start;\n        last = start + tests[i].script.length;\n        end = NULL;\n\n        for ( ;; ) {\n            start = (end != NULL) ? end + njs_length(ENTER) : start;\n            if (start >= last) {\n                break;\n            }\n\n            end = (u_char *) strstr((char *) start, ENTER);\n\n            ret = njs_vm_compile(vm, &start, end);\n            if (ret == NJS_OK) {\n                if (opts->disassemble) {\n                    njs_disassembler(vm);\n                }\n\n                ret = njs_vm_start(vm);\n            }\n        }\n\n        if (njs_vm_retval_string(vm, &s) != NJS_OK) {\n            njs_printf(\"njs_vm_retval_string() failed\\n\");\n            goto done;\n        }\n\n        success = njs_strstr_eq(&tests[i].ret, &s);\n\n        if (!success) {\n            njs_printf(\"njs(\\\"%V\\\")\\nexpected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\",\n                       &tests[i].script, &tests[i].ret, &s);\n\n            stat->failed++;\n\n        } else {\n            stat->passed++;\n        }\n\n        njs_vm_destroy(vm);\n        vm = NULL;\n    }\n\n    ret = NJS_OK;\n\ndone:\n\n    if (vm != NULL) {\n        njs_vm_destroy(vm);\n    }\n\n    njs_unit_test_report(name, &prev, stat);\n\n    return ret;\n}\n\n\nstatic njs_int_t\nnjs_timezone_optional_test(njs_unit_test_t tests[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    size_t     size;\n    u_char     buf[16];\n    time_t     clock;\n    struct tm  tm;\n    njs_int_t  ret;\n\n    /*\n     * Chatham Islands NZ-CHAT time zone.\n     * Standard time: UTC+12:45, Daylight Saving time: UTC+13:45.\n     */\n    (void) putenv((char *) \"TZ=Pacific/Chatham\");\n    tzset();\n\n    clock = 0;\n    localtime_r(&clock, &tm);\n\n    size = strftime((char *) buf, sizeof(buf), \"%z\", &tm);\n\n    if (memcmp(buf, \"+1245\", size) == 0) {\n        ret = njs_unit_test(tests, num, name, opts, stat);\n        if (ret != NJS_OK) {\n            return ret;\n        }\n\n    } else {\n        njs_printf(\"njs timezone tests skipped, timezone is unavailable\\n\");\n    }\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_regexp_optional_test(njs_unit_test_t tests[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_bool_t  safe;\n\n#ifndef NJS_HAVE_PCRE2\n    int         erroff;\n    pcre        *re1, *re2;\n    const char  *errstr;\n\n    /*\n     * pcre-8.21 crashes when it compiles unicode escape codes inside\n     * square brackets when PCRE_UTF8 option is provided.\n     * Catching it in runtime by compiling it without PCRE_UTF8. Normally it\n     * should return NULL and \"character value in \\u.... sequence is too large\"\n     * error string.\n     */\n    re1 = pcre_compile(\"/[\\\\u0410]/\", PCRE_JAVASCRIPT_COMPAT, &errstr, &erroff,\n                      NULL);\n\n    if (re1 != NULL) {\n        pcre_free(re1);\n    }\n\n    /*\n     * pcre-7.8 fails to compile unicode escape codes inside square brackets\n     * even when PCRE_UTF8 option is provided.\n     */\n    re2 = pcre_compile(\"/[\\\\u0410]/\", PCRE_JAVASCRIPT_COMPAT | PCRE_UTF8,\n                       &errstr, &erroff, NULL);\n\n    if (re2 != NULL) {\n        pcre_free(re2);\n    }\n\n    safe = (re1 == NULL && re2 != NULL);\n\n#else\n\n    safe = 1;\n\n#endif\n\n    if (safe) {\n        return njs_unit_test(tests, num, name, opts, stat);\n    }\n\n    njs_printf(\"regexp optional tests skipped\\n\");\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_vm_json_test(njs_unit_test_t unused[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_vm_t      *vm;\n    njs_int_t     ret;\n    njs_str_t     s, *script;\n    njs_uint_t    i;\n    njs_bool_t    success;\n    njs_stat_t    prev;\n    njs_value_t   args[3];\n    njs_vm_opt_t  options;\n\n    static const njs_str_t fname = njs_str(\"replacer\");\n    static const njs_str_t iname = njs_str(\"indent\");\n\n    static njs_unit_test_t tests[] = {\n        { njs_str(\"'[1, true, \\\"x\\\", {\\\"a\\\": {}}]'\"),\n          njs_str(\"[1,true,\\\"x\\\",{\\\"a\\\":{}}]\") },\n        { njs_str(\"'{\\\"a\\\":{\\\"b\\\":1}}'\"),\n          njs_str(\"{\\\"a\\\":{\\\"b\\\":1}}\") },\n        { njs_str(\"'[[[],{}]]'\"),\n          njs_str(\"[[[],{}]]\") },\n        { njs_str(\"var indent = 1; '[]'\"),\n          njs_str(\"[\\n \\n]\") },\n        { njs_str(\"function replacer(k, v) {return v}; '{\\\"a\\\":{\\\"b\\\":1}}'\"),\n          njs_str(\"{\\\"a\\\":{\\\"b\\\":1}}\") },\n        { njs_str(\"function replacer(k, v) {\"\n                     \"   return (typeof v === 'string') ? undefined : v};\"\n                     \"'{\\\"a\\\":1, \\\"b\\\":\\\"x\\\"}'\"),\n          njs_str(\"{\\\"a\\\":1}\") },\n    };\n\n    vm = NULL;\n\n    prev = *stat;\n\n    ret = NJS_ERROR;\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n\n        njs_vm_opt_init(&options);\n        options.init = 1;\n\n        vm = njs_vm_create(&options);\n        if (vm == NULL) {\n            njs_printf(\"njs_vm_create() failed\\n\");\n            goto done;\n        }\n\n        script = &tests[i].script;\n\n        ret = njs_vm_compile(vm, &script->start,\n                             script->start + script->length);\n\n        if (ret != NJS_OK) {\n            njs_printf(\"njs_vm_compile() failed\\n\");\n            goto done;\n        }\n\n        ret = njs_vm_start(vm);\n        if (ret != NJS_OK) {\n            njs_printf(\"njs_vm_run() failed\\n\");\n            goto done;\n        }\n\n        args[0] = *njs_vm_retval(vm);\n\n        ret = njs_vm_json_parse(vm, args, 1);\n        if (ret != NJS_OK) {\n            njs_printf(\"njs_vm_json_parse() failed\\n\");\n            goto done;\n        }\n\n        args[0] = vm->retval;\n        njs_vm_value(vm, &fname, &args[1]);\n        njs_vm_value(vm, &iname, &args[2]);\n\n        ret = njs_vm_json_stringify(vm, args, 3);\n        if (ret != NJS_OK) {\n            njs_printf(\"njs_vm_json_stringify() failed\\n\");\n            goto done;\n        }\n\n        if (njs_vm_retval_string(vm, &s) != NJS_OK) {\n            njs_printf(\"njs_vm_retval_string() failed\\n\");\n            goto done;\n        }\n\n        success = njs_strstr_eq(&tests[i].ret, &s);\n\n        if (!success) {\n            njs_printf(\"njs_vm_json_test(\\\"%V\\\")\\n\"\n                       \"expected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\", script,\n                       &tests[i].ret, &s);\n\n            stat->failed++;\n\n        } else {\n            stat->passed++;\n        }\n\n        njs_vm_destroy(vm);\n        vm = NULL;\n\n    }\n\n    ret = NJS_OK;\n\ndone:\n\n    if (ret != NJS_OK) {\n        if (njs_vm_retval_string(vm, &s) != NJS_OK) {\n            njs_printf(\"njs_vm_retval_string() failed\\n\");\n\n        } else {\n            njs_printf(\"%V\\n\", &s);\n        }\n    }\n\n    njs_unit_test_report(name, &prev, stat);\n\n    if (vm != NULL) {\n        njs_vm_destroy(vm);\n    }\n\n    return ret;\n}\n\n\nstatic njs_int_t\nnjs_vm_value_test(njs_unit_test_t unused[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_vm_t      *vm;\n    njs_int_t     ret;\n    njs_str_t     s, *script, path;\n    njs_uint_t    i;\n    njs_bool_t    success;\n    njs_stat_t    prev;\n    njs_vm_opt_t  options;\n\n    static struct {\n        njs_str_t   script;\n        njs_str_t   path;\n        njs_str_t   ret;\n    } tests[] = {\n        {\n          .script = njs_str(\"var o = {a:1}\"),\n          .path = njs_str(\"o.a\"),\n          .ret = njs_str(\"1\"),\n        },\n\n        {\n          .script = njs_str(\"var aaaaabbbbbcccccddddd = {e:2}\"),\n          .path = njs_str(\"aaaaabbbbbcccccddddd.e\"),\n          .ret = njs_str(\"2\"),\n        },\n\n        {\n          .script = njs_str(\"var o = {a:{b:3}}\"),\n          .path = njs_str(\"o.a.b\"),\n          .ret = njs_str(\"3\"),\n        },\n\n        {\n          .script = njs_str(\"var o = 1\"),\n          .path = njs_str(\"o.a\"),\n          .ret = njs_str(\"undefined\"),\n        },\n\n        {\n          .script = njs_str(\"\"),\n          .path = njs_str(\"o\"),\n          .ret = njs_str(\"undefined\"),\n        },\n\n        {\n          .script = njs_str(\"var o = {'':1}\"),\n          .path = njs_str(\".\"),\n          .ret = njs_str(\"TypeError: empty path element\"),\n        },\n\n        {\n          .script = njs_str(\"var o = {'':1}\"),\n          .path = njs_str(\"o.\"),\n          .ret = njs_str(\"TypeError: empty path element\"),\n        },\n        {\n          .script = njs_str(\"var o = {'':1}\"),\n          .path = njs_str(\"o..\"),\n          .ret = njs_str(\"TypeError: empty path element\"),\n        },\n    };\n\n    vm = NULL;\n\n    prev = *stat;\n\n    ret = NJS_ERROR;\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n\n        memset(&options, 0, sizeof(njs_vm_opt_t));\n        options.init = 1;\n\n        vm = njs_vm_create(&options);\n        if (vm == NULL) {\n            njs_printf(\"njs_vm_create() failed\\n\");\n            goto done;\n        }\n\n        script = &tests[i].script;\n\n        ret = njs_vm_compile(vm, &script->start,\n                             script->start + script->length);\n\n        if (ret != NJS_OK) {\n            njs_printf(\"njs_vm_compile() failed\\n\");\n            goto done;\n        }\n\n        ret = njs_vm_start(vm);\n        if (ret != NJS_OK) {\n            njs_printf(\"njs_vm_run() failed\\n\");\n            goto done;\n        }\n\n        path = tests[i].path;\n\n        path.start = njs_mp_alloc(vm->mem_pool, path.length);\n        if (path.start == NULL) {\n            njs_printf(\"njs_mp_alloc() failed\\n\");\n            goto done;\n        }\n\n        memcpy(path.start, tests[i].path.start, path.length);\n\n        ret = njs_vm_value(vm, &path, &vm->retval);\n\n        if (njs_vm_retval_string(vm, &s) != NJS_OK) {\n            njs_printf(\"njs_vm_retval_string() failed\\n\");\n            goto done;\n        }\n\n        success = njs_strstr_eq(&tests[i].ret, &s);\n\n        if (!success) {\n            njs_printf(\"njs_vm_value_test(\\\"%V\\\")\\n\"\n                       \"expected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\", script,\n                       &tests[i].ret, &s);\n\n            stat->failed++;\n\n        } else {\n            stat->passed++;\n        }\n\n        njs_vm_destroy(vm);\n        vm = NULL;\n\n    }\n\n    ret = NJS_OK;\n\ndone:\n\n    if (ret != NJS_OK) {\n        if (njs_vm_retval_string(vm, &s) != NJS_OK) {\n            njs_printf(\"njs_vm_retval_string() failed\\n\");\n\n        } else {\n            njs_printf(\"%V\\n\", &s);\n        }\n    }\n\n    njs_unit_test_report(name, &prev, stat);\n\n    if (vm != NULL) {\n        njs_vm_destroy(vm);\n    }\n\n    return ret;\n}\n\n\nstatic njs_int_t\nnjs_vm_object_alloc_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_int_t    ret;\n    njs_value_t  args[2], obj;\n\n    static const njs_value_t num_key = njs_string(\"num\");\n    static const njs_value_t bool_key = njs_string(\"bool\");\n\n    njs_value_number_set(njs_argument(&args, 0), 1);\n    njs_value_boolean_set(njs_argument(&args, 1), 0);\n\n    ret = njs_vm_object_alloc(vm, &obj, NULL);\n    if (ret != NJS_OK) {\n        return NJS_ERROR;\n    }\n\n    ret = njs_vm_object_alloc(vm, &obj, &num_key, NULL);\n    if (ret == NJS_OK) {\n        return NJS_ERROR;\n    }\n\n    ret = njs_vm_object_alloc(vm, &obj, &num_key, &args[0], NULL);\n    if (ret != NJS_OK) {\n        return NJS_ERROR;\n    }\n\n    ret = njs_vm_object_alloc(vm, &obj, &num_key, &args[0], &bool_key,\n                              &args[1], NULL);\n    if (ret != NJS_OK) {\n        stat->failed++;\n        return NJS_OK;\n    }\n\n    stat->passed++;\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_file_basename_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_str_t   name;\n    njs_bool_t  success;\n    njs_uint_t  i;\n\n    static const struct {\n        njs_str_t   path;\n        njs_str_t   expected;\n    } tests[] = {\n        { njs_str(\"\"),            njs_str(\"\") },\n        { njs_str(\"/\"),           njs_str(\"\") },\n        { njs_str(\"/a\"),          njs_str(\"a\") },\n        { njs_str(\"///\"),         njs_str(\"\") },\n        { njs_str(\"///a\"),        njs_str(\"a\") },\n        { njs_str(\"///a/\"),       njs_str(\"\") },\n        { njs_str(\"a\"),           njs_str(\"a\") },\n        { njs_str(\"a/\"),          njs_str(\"\") },\n        { njs_str(\"a//\"),         njs_str(\"\") },\n        { njs_str(\"path/name\"),   njs_str(\"name\") },\n        { njs_str(\"/path/name\"),  njs_str(\"name\") },\n        { njs_str(\"/path/name/\"), njs_str(\"\") },\n    };\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n        njs_file_basename(&tests[i].path, &name);\n\n        success = njs_strstr_eq(&tests[i].expected, &name);\n\n        if (!success) {\n            njs_printf(\"njs_file_basename_test(\\\"%V\\\"):\\n\"\n                       \"expected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\",\n                       &tests[i].path, &tests[i].expected, &name);\n\n            stat->failed++;\n\n        } else {\n            stat->passed++;\n        }\n    }\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_file_dirname_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_str_t   name;\n    njs_bool_t  success;\n    njs_uint_t  i;\n\n    static const struct {\n        njs_str_t   path;\n        njs_str_t   expected;\n    } tests[] = {\n        { njs_str(\"\"),               njs_str(\".\") },\n        { njs_str(\"/\"),              njs_str(\"/\") },\n        { njs_str(\"/a\"),             njs_str(\"/\") },\n        { njs_str(\"///\"),            njs_str(\"///\") },\n        { njs_str(\"///a\"),           njs_str(\"///\") },\n        { njs_str(\"///a/\"),          njs_str(\"///a\") },\n        { njs_str(\"a\"),              njs_str(\".\") },\n        { njs_str(\"a/\"),             njs_str(\"a\") },\n        { njs_str(\"a//\"),            njs_str(\"a\") },\n        { njs_str(\"p1/p2/name\"),     njs_str(\"p1/p2\") },\n        { njs_str(\"/p1/p2/name\"),    njs_str(\"/p1/p2\") },\n        { njs_str(\"/p1/p2///name\"),  njs_str(\"/p1/p2\") },\n        { njs_str(\"/p1/p2/name/\"),   njs_str(\"/p1/p2/name\") },\n    };\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n        njs_file_dirname(&tests[i].path, &name);\n\n        success = njs_strstr_eq(&tests[i].expected, &name);\n\n        if (!success) {\n            njs_printf(\"njs_file_dirname_test(\\\"%V\\\"):\\n\"\n                       \"expected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\",\n                       &tests[i].path, &tests[i].expected, &name);\n\n            stat->failed++;\n        } else {\n            stat->passed++;\n        }\n\n    }\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_chb_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    u_char     *p;\n    njs_int_t  ret, i;\n    njs_chb_t  chain;\n    njs_str_t  string, arg;\n\n    static const njs_str_t  expected = njs_str(\"arg: \\\"XYZ\\\" -5\");\n\n    njs_chb_init(&chain, vm->mem_pool);\n\n    p = njs_chb_reserve(&chain, 513);\n    if (p == NULL) {\n        ret = NJS_ERROR;\n        njs_printf(\"njs_chb_reserve() failed\\n\");\n        goto done;\n    }\n\n    njs_memset(p, 'Z', 256);\n\n    njs_chb_written(&chain, 256);\n\n    for (i = 0; i < 768; i++) {\n        njs_chb_append(&chain, \"X\", 1);\n    }\n\n    ret = njs_chb_join(&chain, &string);\n    if (ret != NJS_OK) {\n        njs_printf(\"njs_chb_join() failed\\n\");\n        goto done;\n    }\n\n    if (string.length != 1024 || njs_chb_size(&chain) != 1024) {\n        ret = NJS_ERROR;\n        njs_printf(\"njs_chb_join() corrupts \"\n                   \"string.length:%z njs_chb_size(&chain):%z != 1024\\n\",\n                   string.length, njs_chb_size(&chain));\n        goto done;\n    }\n\n    for (i = 0; i < 1024; i++) {\n        if (string.start[i] != ((i < 256) ? 'Z' : 'X')) {\n            ret = NJS_ERROR;\n            njs_printf(\"njs_chb_join() corrupts string[%i]:%c != '%c'\\n\",\n                       i, string.start[i], (i < 256) ? 'Z' : 'X');\n            goto done;\n        }\n    }\n\n    njs_mp_free(vm->mem_pool, string.start);\n\n    for (i = 0; i < 222; i++) {;\n        njs_chb_drain(&chain, 3);\n    }\n\n    ret = njs_chb_join(&chain, &string);\n    if (ret != NJS_OK) {\n        njs_printf(\"njs_chb_join() failed\\n\");\n        goto done;\n    }\n\n    if (string.length != 358 || njs_chb_size(&chain) != 358) {\n        ret = NJS_ERROR;\n        njs_printf(\"njs_chb_join() corrupts \"\n                   \"string.length:%z njs_chb_size(&chain):%z != 358\\n\",\n                   string.length, njs_chb_size(&chain));\n        goto done;\n    }\n\n    for (i = 0; i < 358; i++) {\n        if (string.start[i] != 'X') {\n            ret = NJS_ERROR;\n            njs_printf(\"njs_chb_join() corrupts string[%i]:%c != 'X'\\n\",\n                       i, string.start[i]);\n            goto done;\n        }\n    }\n\n    for (i = 0; i < 512; i++) {\n        njs_chb_append(&chain, \"ABC\", 3);\n    }\n\n    for (i = 0; i < 447; i++) {\n        njs_chb_drop(&chain, 2);\n    }\n\n    ret = njs_chb_join(&chain, &string);\n    if (ret != NJS_OK) {\n        njs_printf(\"njs_chb_join() failed\\n\");\n        goto done;\n    }\n\n    if (string.length != 1000 || njs_chb_size(&chain) != 1000) {\n        ret = NJS_ERROR;\n        njs_printf(\"njs_chb_join() corrupts \"\n                   \"string.length:%z njs_chb_size(&chain):%z != 1000\\n\",\n                   string.length, njs_chb_size(&chain));\n        goto done;\n    }\n\n    njs_chb_drop(&chain, 500);\n    njs_chb_drain(&chain, 501);\n\n    if (njs_chb_size(&chain) != 0) {\n        ret = NJS_ERROR;\n        njs_printf(\"njs_chb_drop() corrupts \"\n                   \"njs_chb_size(&chain):%z != 0\\n\", njs_chb_size(&chain));\n        goto done;\n    }\n\n    arg = njs_str_value(\"XYZ\");\n\n    njs_chb_sprintf(&chain, 32, \"arg: \\\"%V\\\" %d\", &arg, -5);\n\n    ret = njs_chb_join(&chain, &string);\n    if (ret != NJS_OK) {\n        njs_printf(\"njs_chb_join() failed\\n\");\n        goto done;\n    }\n\n    if (!njs_strstr_eq(&string, &expected)) {\n        ret = NJS_ERROR;\n        njs_printf(\"njs_chb_sprintf() corrupts \\\"%V\\\" != \\\"%V\\\"\\n\", &string,\n                   &expected);\n        goto done;\n    }\n\n    njs_chb_destroy(&chain);\n    njs_mp_free(vm->mem_pool, string.start);\n\ndone:\n\n    if (ret != NJS_OK) {\n        stat->failed++;\n        return NJS_OK;\n    }\n\n    stat->passed++;\n\n    return NJS_OK;\n}\n\n\ntypedef struct {\n    size_t      size;\n    uint32_t    array[32];\n    size_t      esize;\n    uint32_t    expected[32];\n} njs_sort_test_t;\n\n\nstatic int\nnjs_sort_cmp(const void *a, const void *b, void *ctx)\n{\n    njs_sort_test_t  *c;\n\n    c = ctx;\n\n    switch (c->esize) {\n    case 1:\n        return *((uint8_t *) a) - *((uint8_t *) b);\n    case 2:\n        return *((uint16_t *) a) - *((uint16_t *) b);\n    case 4:\n    default:\n        return *((uint32_t *) a) - *((uint32_t *) b);\n    }\n}\n\n\nstatic njs_int_t\nnjs_sort_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    u_char           *p;\n    njs_uint_t        i, j, k;\n    njs_sort_test_t  *t;\n    u_char           array[sizeof(t->array)];\n    uint32_t         sorted[sizeof(t->array) / sizeof(t->array[0])];\n\n    static const njs_sort_test_t tests[] = {\n        { 1, { 5 }, 1, { 5 } },\n        { 3, { 3, 2, 1 }, 1, { 1, 2, 3 } },\n        { 4, { 4, 3, 2, 1 }, 1, { 1, 2, 3, 4 } },\n        { 5, { 5, 4, 3, 2, 1 }, 1, { 1, 2, 3, 4, 5 } },\n        { 5, { 1, 0, 9, 1, 8 }, 1, { 0, 1, 1, 8, 9 } },\n        { 8, { 0, 0, 0, 0, 0, 0, 0, 0 }, 1, { 0, 0, 0, 0, 0, 0, 0, 0 } },\n        { 8, { 4, 5, 1, 4, 2, 5, 5, 6 }, 1, { 1, 2, 4, 4, 5, 5, 5, 6 } },\n        { 4, { 512, 100, 65535, 0 }, 2, { 0, 100, 512, 65535 } },\n        { 3, { 65536, 3, 262141 }, 4, { 3, 65536, 262141 } },\n    };\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n        t = (njs_sort_test_t *) &tests[i];\n\n        p = array;\n        for (k = 0; k < t->size; k++) {\n            switch (t->esize) {\n            case 1:\n                *p = (uint8_t) t->array[k];\n                break;\n            case 2:\n                *(uint16_t *) p = (uint16_t) t->array[k];\n                break;\n            case 4:\n            default:\n                *(uint32_t *) p = (uint32_t) t->array[k];\n                break;\n            }\n\n            p += t->esize;\n        }\n\n        njs_qsort(array, t->size, t->esize, njs_sort_cmp, t);\n\n        p = array;\n        for (k = 0; k < t->size; k++) {\n            switch (t->esize) {\n            case 1:\n                sorted[k] = *p;\n                break;\n            case 2:\n                sorted[k] = *(uint16_t *) p;\n                break;\n            case 4:\n            default:\n                sorted[k] = *(uint32_t *) p;\n                break;\n            }\n\n            p += t->esize;\n        }\n\n\n        for (k = 0; k < t->size; k++) {\n            if (sorted[k] != t->expected[k]) {\n                goto failed;\n            }\n        }\n\n        stat->passed++;\n        continue;\n\nfailed:\n\n        njs_printf(\"njs_sort_test([\");\n        for (j = 0; j < t->size; j++) {\n            njs_printf(\"%uD%s\", t->array[j],\n                       (j < t->size - 1) ? \",\" : \"\");\n        }\n\n        njs_printf(\"]):\\nexpected: [\");\n        for (j = 0; j < t->size; j++) {\n            njs_printf(\"%uD%s\", t->expected[j],\n                       (j < t->size - 1) ? \",\" : \"\");\n        }\n\n        njs_printf(\"]\\n     got: [\");\n        for (j = 0; j < t->size; j++) {\n            njs_printf(\"%uD%s\", sorted[j],\n                       (j < t->size - 1) ? \",\" : \"\");\n        }\n\n        njs_printf(\"]\\n\");\n\n        stat->failed++;\n    }\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_string_to_index_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_str_t   s, string;\n    njs_int_t   ret;\n    njs_bool_t  success, is_integer_index;\n    njs_uint_t  i;\n\n    static const struct {\n        njs_value_t  value;\n        njs_str_t    expected;\n        njs_bool_t   is_integer_index;\n    } tests[] = {\n        { njs_string(\" 1\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"+0\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"-\"), njs_str(\"NaN\"), 0 },\n\n        { njs_string(\"-0\"), njs_str(\"-0\"), 0 },\n        { njs_value(NJS_NUMBER, 0, -0.0), njs_str(\"-0\"), 1 },\n\n        { njs_string(\"-1\"), njs_str(\"-1\"), 0 },\n        { njs_string(\"0\"), njs_str(\"0\"), 1 },\n        { njs_string(\"0.\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"0.0\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"0x1\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"1 \"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"1\"), njs_str(\"1\"), 1 },\n        { njs_string(\"1.\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"1.1\"), njs_str(\"1.1\"), 0 },\n        { njs_string(\"100\"), njs_str(\"100\"), 1 },\n        { njs_string(\"1a\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"1e+19\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"1e+22\"), njs_str(\"1e+22\"), 0 },\n        { njs_string(\"1e22\"), njs_str(\"NaN\"), 0 },\n        { njs_string(\"4294967296\"), njs_str(\"4294967296\"), 0 },\n    };\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n        if (njs_is_string(&tests[i].value)) {\n            njs_set_number(&vm->retval, njs_string_to_index(&tests[i].value));\n\n            ret = njs_vm_retval_dump(vm, &s, 0);\n            if (ret != NJS_OK) {\n                njs_printf(\"njs_string_to_index_test: \"\n                           \"njs_vm_retval_dump() failed\\n\");\n                return NJS_ERROR;\n            }\n\n            success = njs_strstr_eq(&tests[i].expected, &s);\n\n            if (!success) {\n                njs_string_get(&tests[i].value, &string);\n                njs_printf(\"njs_string_to_index_test(\\\"%V\\\"):\\n\"\n                           \"expected: \\\"%V\\\"\\n     got: \\\"%V\\\"\\n\",\n                           &string, &tests[i].expected, &s);\n\n                stat->failed++;\n                continue;\n            }\n        }\n\n        is_integer_index = njs_key_is_integer_index(njs_number(&vm->retval),\n                                                    &tests[i].value);\n\n        if (tests[i].is_integer_index != is_integer_index) {\n            njs_string_get(&tests[i].value, &string);\n            njs_printf(\"njs_string_to_index_test2(\\\"%V\\\"):\\n\"\n                       \"expected: %b\\n     got: %b\\n\",\n                       &string, tests[i].is_integer_index, is_integer_index);\n\n            stat->failed++;\n            continue;\n        }\n\n        stat->passed++;\n    }\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_to_int32_test(njs_vm_t *vm, njs_opts_t *opts, njs_stat_t *stat)\n{\n    int32_t     i32, second;\n    njs_uint_t  i;\n\n    static const struct {\n        double       value;\n        int32_t      expected;\n    } tests[] = {\n        { -1.0, -1 },\n        { 0.0, 0 },\n        { 0.001, 0 },\n        { 1.0, 1 },\n        { 2147483647.0, 2147483647 },\n        { 2147483648.0, -2147483648 },\n        { 2147483649.0, -2147483647 },\n        { -1844674406941458432.0, -2147483648 },\n        { 4.835703278458518e+24 /* 2**(53+29) + 2**30 */, 1073741824 },\n        { 9.671406556917036e+24 /* 2**(53+30) + 2**31 */, -2147483648 },\n    };\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n        i32 = njs_number_to_int32(tests[i].value);\n\n        if (i32 != tests[i].expected) {\n            njs_printf(\"njs_to_int32_test(%f):\\n\"\n                       \"expected: %D\\n     got: %D\\n\",\n                       tests[i].value, tests[i].expected, i32);\n\n            stat->failed++;\n            continue;\n        }\n\n        second = njs_number_to_int32(i32);\n\n        if (i32 != second) {\n            njs_printf(\"njs_to_int32_test(%f): not idempodent\\n\"\n                       \"expected: %D\\n     got: %D\\n\",\n                       tests[i].value, i32, second);\n\n            stat->failed++;\n            continue;\n        }\n\n        second = njs_number_to_int32(njs_number_to_uint32(tests[i].value));\n\n        if (i32 != second) {\n            njs_printf(\"ToInt32(%f) != ToInt32(ToUint32(%f))\\n\"\n                       \"left: %D\\n     right: %D\\n\",\n                       tests[i].value, tests[i].value, i32, second);\n\n            stat->failed++;\n            continue;\n        }\n\n        stat->passed++;\n    }\n\n    return NJS_OK;\n}\n\n\nstatic njs_int_t\nnjs_vm_internal_api_test(njs_unit_test_t unused[], size_t num, njs_str_t *name,\n    njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_vm_t      *vm;\n    njs_int_t     ret;\n    njs_uint_t    i;\n    njs_stat_t    prev;\n    njs_vm_opt_t  options;\n\n    static const struct {\n        njs_int_t  (*test)(njs_vm_t *, njs_opts_t *, njs_stat_t *stat);\n        njs_str_t  name;\n    } tests[] = {\n        { njs_vm_object_alloc_test,\n          njs_str(\"njs_vm_object_alloc_test\") },\n        { njs_file_basename_test,\n          njs_str(\"njs_file_basename_test\") },\n        { njs_file_dirname_test,\n          njs_str(\"njs_file_dirname_test\") },\n        { njs_chb_test,\n          njs_str(\"njs_chb_test\") },\n        { njs_sort_test,\n          njs_str(\"njs_sort_test\") },\n        { njs_string_to_index_test,\n          njs_str(\"njs_string_to_index_test\") },\n        { njs_to_int32_test,\n          njs_str(\"njs_to_int32_test\") },\n    };\n\n    vm = NULL;\n    njs_vm_opt_init(&options);\n\n    prev = *stat;\n\n    ret = NJS_ERROR;\n\n    for (i = 0; i < njs_nitems(tests); i++) {\n        vm = njs_vm_create(&options);\n        if (vm == NULL) {\n            njs_printf(\"njs_vm_create() failed\\n\");\n            goto done;\n        }\n\n        ret = tests[i].test(vm, opts, stat);\n        if (njs_slow_path(ret != NJS_OK)) {\n            njs_printf(\"njs_api_test: \\\"%V\\\" test failed\\n\", &tests[i].name);\n            goto done;\n        }\n\n        njs_vm_destroy(vm);\n        vm = NULL;\n    }\n\n    ret = NJS_OK;\n\ndone:\n\n    njs_unit_test_report(name, &prev, stat);\n\n    if (vm != NULL) {\n        njs_vm_destroy(vm);\n    }\n\n    return ret;\n}\n\n\nstatic njs_int_t\nnjs_options_parse(njs_opts_t *opts, int argc, char **argv)\n{\n    char       *p;\n    njs_int_t  i;\n\n    static const char  help[] =\n        \"njs unit tests.\\n\"\n        \"\\n\"\n        \"njs_unit_test [options]\"\n        \"\\n\"\n        \"Options:\\n\"\n        \"  -d                           print disassembled code.\\n\"\n        \"  -f PATTERN1[|PATTERN2..]     filter test suites to run.\\n\"\n        \"  -r count                     overrides repeat count for tests.\\n\"\n        \"  -s seed                      sets seed for async tests.\\n\"\n        \"  -v                           verbose mode.\\n\";\n\n    for (i = 1; i < argc; i++) {\n\n        p = argv[i];\n\n        if (p[0] != '-') {\n            goto help;\n        }\n\n        p++;\n\n        switch (*p) {\n        case '?':\n        case 'h':\n            (void) write(STDOUT_FILENO, help, njs_length(help));\n            return NJS_DONE;\n\n        case 'd':\n            opts->disassemble = 1;\n            break;\n\n        case 'f':\n            if (++i < argc) {\n                opts->filter.start = (u_char *) argv[i];\n                opts->filter.length = njs_strlen(argv[i]);\n                break;\n            }\n\n            njs_stderror(\"option \\\"-f\\\" requires argument\\n\");\n            return NJS_ERROR;\n\n        case 'r':\n            if (++i < argc) {\n                opts->repeat = atoi(argv[i]);\n                break;\n            }\n\n            njs_stderror(\"option \\\"-r\\\" requires argument\\n\");\n            return NJS_ERROR;\n\n        case 's':\n            if (++i < argc) {\n                opts->seed = atoi(argv[i]);\n                break;\n            }\n\n            njs_stderror(\"option \\\"-s\\\" requires argument\\n\");\n            return NJS_ERROR;\n\n        case 'v':\n            opts->verbose = 1;\n            break;\n\n        default:\n            goto help;\n        }\n    }\n\n    return NJS_OK;\n\nhelp:\n\n    njs_stderror(\"Unknown argument: \\\"%s\\\" \"\n                 \"try \\\"%s -h\\\" for available options\\n\", argv[i],\n                 argv[0]);\n\n    return NJS_ERROR;\n}\n\n\nstatic njs_int_t\nnjs_match_test(njs_opts_t *opts, njs_str_t *name)\n{\n    u_char  *p, *start, *end;\n    size_t  len;\n\n    if (name->length == 0) {\n        return 0;\n    }\n\n    if (opts->filter.length == 0) {\n        return 1;\n    }\n\n    start = opts->filter.start;\n    end = start + opts->filter.length;\n\n    for ( ;; ) {\n        p = njs_strlchr(start, end, '|');\n        len = ((p != NULL) ? p : end) - start;\n        len = njs_min(name->length, len);\n\n        if (len != 0 && njs_strncmp(name->start, start, len) == 0) {\n            return 1;\n        }\n\n        if (p == NULL) {\n            break;\n        }\n\n        start = p + 1;\n    }\n\n    return 0;\n}\n\n\ntypedef struct {\n    njs_str_t        name;\n    njs_opts_t       opts;\n    njs_unit_test_t  *tests;\n    size_t           n;\n    njs_int_t        (*run)(njs_unit_test_t tests[], size_t num,\n                            njs_str_t *name, njs_opts_t *opts,\n                            njs_stat_t *stat);\n} njs_test_suite_t;\n\n\nstatic njs_int_t\nnjs_disabled_denormals_tests(njs_unit_test_t tests[], size_t num,\n    njs_str_t *name, njs_opts_t *opts, njs_stat_t *stat)\n{\n    njs_int_t  ret;\n\n    njs_mm_denormals(0);\n\n    ret = njs_unit_test(tests, num, name, opts, stat);\n\n    njs_mm_denormals(1);\n\n    return ret;\n}\n\n\nstatic njs_test_suite_t  njs_suites[] =\n{\n    { njs_str(\"script\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_test,\n      njs_nitems(njs_test),\n      njs_unit_test },\n\n    { njs_str(\"safe script\"),\n      { .repeat = 1},\n      njs_safe_test,\n      njs_nitems(njs_safe_test),\n      njs_unit_test },\n\n    { njs_str(\"denormals\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_denormals_test,\n      njs_nitems(njs_denormals_test),\n      njs_unit_test },\n\n    {\n#if (NJS_HAVE_DENORMALS_CONTROL)\n        njs_str(\"disabled denormals\"),\n#else\n        njs_str(\"\"),\n#endif\n      { .repeat = 1, .unsafe = 1 },\n      njs_disabled_denormals_test,\n      njs_nitems(njs_disabled_denormals_test),\n      njs_disabled_denormals_tests },\n\n    {\n#if (NJS_HAVE_OPENSSL)\n        njs_str(\"webcrypto\"),\n#else\n        njs_str(\"\"),\n#endif\n      { .externals = 1, .repeat = 1, .unsafe = 1 },\n      njs_webcrypto_test,\n      njs_nitems(njs_webcrypto_test),\n      njs_unit_test },\n\n    { njs_str(\"module\"),\n      { .repeat = 1, .module = 1, .unsafe = 1 },\n      njs_module_test,\n      njs_nitems(njs_module_test),\n      njs_unit_test },\n\n    { njs_str(\"fs module\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_fs_module_test,\n      njs_nitems(njs_fs_module_test),\n      njs_unit_test },\n\n    { njs_str(\"crypto module\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_crypto_module_test,\n      njs_nitems(njs_crypto_module_test),\n      njs_unit_test },\n\n    { njs_str(\"querystring module\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_querystring_module_test,\n      njs_nitems(njs_querystring_module_test),\n      njs_unit_test },\n\n    { njs_str(\"buffer module\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_buffer_module_test,\n      njs_nitems(njs_buffer_module_test),\n      njs_unit_test },\n\n    { njs_str(\"externals\"),\n      { .externals = 1, .repeat = 1, .unsafe = 1 },\n      njs_externals_test,\n      njs_nitems(njs_externals_test),\n      njs_unit_test },\n\n    { njs_str(\"async handler\"),\n      { .async = 1, .externals = 1, .handler = 1, .repeat = 4, .seed = 2, .unsafe = 1 },\n      njs_async_handler_test,\n      njs_nitems(njs_async_handler_test),\n      njs_unit_test },\n\n    { njs_str(\"shared\"),\n      { .externals = 1, .repeat = 128, .seed = 42, .unsafe = 1, .backtrace = 1 },\n      njs_shared_test,\n      njs_nitems(njs_shared_test),\n      njs_unit_test },\n\n    { njs_str(\"interactive\"),\n      { .externals = 1, .repeat = 1, .unsafe = 1 },\n      njs_shell_test,\n      njs_nitems(njs_shell_test),\n\n      njs_interactive_test },\n\n    { njs_str(\"backtraces\"),\n      { .backtrace = 1, .externals = 1, .repeat = 1, .unsafe = 1 },\n      njs_backtraces_test,\n      njs_nitems(njs_backtraces_test),\n      njs_unit_test },\n\n    { njs_str(\"timezone\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_tz_test,\n      njs_nitems(njs_tz_test),\n      njs_timezone_optional_test },\n\n    { njs_str(\"regexp optional\"),\n      { .repeat = 1, .unsafe = 1 },\n      njs_regexp_optional_tests,\n      njs_nitems(njs_regexp_optional_tests),\n      njs_regexp_optional_test },\n\n    { njs_str(\"vm_json\"),\n      { .repeat = 1, .unsafe = 1 },\n      NULL,\n      0,\n      njs_vm_json_test },\n\n    { njs_str(\"vm_value\"),\n      { .repeat = 1, .unsafe = 1 },\n      NULL,\n      0,\n      njs_vm_value_test },\n\n    { njs_str(\"vm_internal_api\"),\n      { .repeat = 1, .unsafe = 1 },\n      NULL,\n      0,\n      njs_vm_internal_api_test },\n};\n\n\nint njs_cdecl\nmain(int argc, char **argv)\n{\n    njs_int_t         ret;\n    njs_uint_t        i;\n    njs_opts_t        opts, op;\n    njs_stat_t        stat;\n    njs_test_suite_t  *suite;\n\n    njs_memzero(&opts, sizeof(njs_opts_t));\n\n    ret = njs_options_parse(&opts, argc, argv);\n    if (ret != NJS_OK) {\n        return (ret == NJS_DONE) ? EXIT_SUCCESS: EXIT_FAILURE;\n    }\n\n    (void) putenv((char *) \"TZ=UTC\");\n    tzset();\n\n    njs_mm_denormals(1);\n\n    njs_memzero(&stat, sizeof(njs_stat_t));\n\n    for (i = 0; i < njs_nitems(njs_suites); i++) {\n        suite = &njs_suites[i];\n\n        if (!njs_match_test(&opts, &suite->name)) {\n            continue;\n        }\n\n        op = suite->opts;\n\n        op.disassemble = opts.disassemble;\n        op.repeat = opts.repeat ? opts.repeat : op.repeat;\n        op.seed = opts.seed ? opts.seed : op.seed;\n        op.verbose = opts.verbose;\n\n        ret = suite->run(suite->tests, suite->n, &suite->name, &op, &stat);\n        if (ret != NJS_OK) {\n            return ret;\n        }\n    }\n\n    njs_printf(\"TOTAL: %s [%ui/%ui]\\n\", stat.failed ? \"FAILED\" : \"PASSED\",\n               stat.passed, stat.passed + stat.failed);\n\n    return stat.failed ? EXIT_FAILURE : EXIT_SUCCESS;\n}\n"], "filenames": ["src/njs_function.c", "src/test/njs_unit_test.c"], "buggy_code_start_loc": [1388, 10065], "buggy_code_end_loc": [1406, 10065], "fixing_code_start_loc": [1387, 10066], "fixing_code_end_loc": [1404, 10070], "type": "NVD-CWE-noinfo", "message": "njs through 0.7.1, used in NGINX, was discovered to contain a segmentation violation via njs_object_set_prototype in /src/njs_object.c.", "other": {"cve": {"id": "CVE-2021-46462", "sourceIdentifier": "cve@mitre.org", "published": "2022-02-14T22:15:07.757", "lastModified": "2022-03-24T14:33:50.533", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "njs through 0.7.1, used in NGINX, was discovered to contain a segmentation violation via njs_object_set_prototype in /src/njs_object.c."}, {"lang": "es", "value": "Se ha detectado que njs versiones hasta 0.7.1, usado en NGINX, conten\u00eda una violaci\u00f3n de segmentaci\u00f3n por medio de la funci\u00f3n njs_object_set_prototype en el archivo /src/njs_object.c"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "NONE", "availabilityImpact": "HIGH", "baseScore": 7.5, "baseSeverity": "HIGH"}, "exploitabilityScore": 3.9, "impactScore": 3.6}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:N/C:N/I:N/A:P", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "NONE", "confidentialityImpact": "NONE", "integrityImpact": "NONE", "availabilityImpact": "PARTIAL", "baseScore": 5.0}, "baseSeverity": "MEDIUM", "exploitabilityScore": 10.0, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "NVD-CWE-noinfo"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:f5:njs:*:*:*:*:*:*:*:*", "versionEndIncluding": "0.7.1", "matchCriteriaId": "2DADC4D6-538B-4AC7-97B5-022B11495692"}]}]}], "references": [{"url": "https://github.com/nginx/njs/commit/39e8fa1b7db1680654527f8fa0e9ee93b334ecba", "source": "cve@mitre.org", "tags": ["Patch", "Vendor Advisory"]}, {"url": "https://github.com/nginx/njs/issues/449", "source": "cve@mitre.org", "tags": ["Exploit", "Issue Tracking", "Patch", "Third Party Advisory"]}, {"url": "https://security.netapp.com/advisory/ntap-20220303-0007/", "source": "cve@mitre.org", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/nginx/njs/commit/39e8fa1b7db1680654527f8fa0e9ee93b334ecba"}}