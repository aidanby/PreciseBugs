{"buggy_code": ["version: 2.1\n\norbs:\n  sdk: ory/sdk@0.1.41\n  changelog: ory/changelog@0.1.10\n  goreleaser: ory/goreleaser@0.1.30\n  slack: circleci/slack@3.4.2\n  nancy: ory/nancy@0.0.18\n  docs: ory/docs@0.0.11\n  golangci: ory/golangci@0.0.18\n  go: circleci/go@1.5.0\n  prettier: ory/prettier@0.0.11\n\njobs:\n  test:\n    docker:\n      - image: cimg/go:1.16-node\n        environment:\n        - GO111MODULE=on\n    steps:\n      - checkout\n      - setup_remote_docker\n      - go/load-cache\n      - run: go mod tidy\n      - go/save-cache\n      - prettier/install\n      - prettier/check\n      - goreleaser/install\n      - goreleaser/check\n      - golangci/install\n      - golangci/lint\n      - run: go install github.com/ory/go-acc github.com/mattn/goveralls\n      - run: go-acc -o coverage.txt ./... -- -failfast -timeout=20m\n      - run: test -z \"$CIRCLE_PR_NUMBER\" && goveralls -service=circle-ci -coverprofile=coverage.txt -repotoken=$COVERALLS_REPO_TOKEN || echo \"forks are not allowed to push to coveralls\"\n      - run: ./test/e2e/run.sh\n      - run: ./test/reload/run.sh\n\nworkflows:\n  \"test, build, and relase\":\n    jobs:\n      - test:\n          filters:\n            tags:\n              only: /.*/\n      - changelog/generate:\n          requires:\n            - test\n          filters:\n            tags:\n              only: /.*/\n            branches:\n              only: master\n      - sdk/generate:\n          appname: Ory_Oathkeeper\n          swagpath: spec/api.json\n          requires:\n            - test\n      - sdk/release:\n          swagpath: spec/api.json\n          requires:\n            - test\n            - goreleaser/release\n          filters:\n            tags:\n              only: /.*/\n            branches:\n              ignore: /.*/\n      - docs/build:\n          swag-spec-location: spec/api.json\n          requires:\n            - test\n          filters:\n            tags:\n              only: /.*/\n            branches:\n              only: master\n      -\n        goreleaser/release:\n          requires:\n            - test\n          filters:\n            branches:\n              ignore: /.*/\n            tags:\n              only: /.*/\n      -\n        goreleaser/render-version-schema:\n          requires:\n            - goreleaser/release\n          filters:\n            tags:\n              only: /.*/\n      -\n        goreleaser/newsletter-draft:\n          chimp-list: f605a41b53\n          chimp-segment: 6479485\n          requires:\n            - goreleaser/release\n          filters:\n            tags:\n              only: /.*/\n      -\n        slack/approval-notification:\n          message: Pending approval\n          channel: release-automation\n          requires:\n            - goreleaser/newsletter-draft\n          filters:\n            tags:\n              only: /.*/\n      -\n        newsletter-approval:\n          type: approval\n          requires:\n            - goreleaser/newsletter-draft\n          filters:\n            tags:\n              only: /.*/\n      -\n        goreleaser/newsletter-send:\n          chimp-list: f605a41b53\n          requires:\n            - newsletter-approval\n          filters:\n            tags:\n              only: /.*/\n", "SHELL=/bin/bash -o pipefail\n\nexport GO111MODULE := on\nexport PATH := .bin:${PATH}\nexport PWD := $(shell pwd)\n\nGO_DEPENDENCIES = github.com/ory/go-acc \\\n\t\t\t\t  golang.org/x/tools/cmd/goimports \\\n\t\t\t\t  github.com/go-swagger/go-swagger/cmd/swagger \\\n\t\t\t\t  github.com/ory/cli \\\n\t\t\t\t  github.com/gobuffalo/packr/v2/packr2 \\\n\t\t\t\t  github.com/go-bindata/go-bindata/go-bindata\n\ndefine make-go-dependency\n  # go install is responsible for not re-building when the code hasn't changed\n  .bin/$(notdir $1): go.sum go.mod\n\t\tGOBIN=$(PWD)/.bin/ go install $1\nendef\n$(foreach dep, $(GO_DEPENDENCIES), $(eval $(call make-go-dependency, $(dep))))\n\n.bin/clidoc: go.mod\n\t\tgo build -o .bin/clidoc ./cmd/clidoc/.\n\n# Formats the code\n.PHONY: format\nformat: .bin/goimports node_modules docs/node_modules\n\t\tgoimports -w --local github.com/ory .\n\t\tnpm run format\n\t\tcd docs; npm run format\n\n.PHONY: gen\ngen:\n\t\tmocks sdk\n\n# Generates the SDKs\n.PHONY: sdk\nsdk: .bin/packr2 .bin/swagger .bin/ory\n\t\tswagger generate spec -m -o ./spec/api.json -x internal/httpclient\n\t\tory dev swagger sanitize ./spec/api.json\n\t\tswagger flatten --with-flatten=remove-unused -o ./spec/api.json ./spec/api.json\n\t\tswagger validate ./spec/api.json\n\t\trm -rf internal/httpclient\n\t\tmkdir -p internal/httpclient\n\t\tswagger generate client -f ./spec/api.json -t internal/httpclient -A Ory_Oathkeeper\n\t\tmake format\n\n.PHONY: install-stable\ninstall-stable: .bin/packr2\n\t\tOATHKEEPER_LATEST=$$(git describe --abbrev=0 --tags)\n\t\tgit checkout $$OATHKEEPER_LATEST\n\t\tpackr2\n\t\tGO111MODULE=on go install \\\n\t\t\t\t-ldflags \"-X github.com/ory/oathkeeper/x.Version=$$OATHKEEPER_LATEST -X github.com/ory/oathkeeper/x.Date=`TZ=UTC date -u '+%Y-%m-%dT%H:%M:%SZ'` -X github.com/ory/oathkeeper/x.Commit=`git rev-parse HEAD`\" \\\n\t\t\t\t.\n\t\tpackr2 clean\n\t\tgit checkout master\n\n.PHONY: install\ninstall: .bin/packr2\n\t\tpackr2 || (GO111MODULE=on go install github.com/gobuffalo/packr/v2/packr2 && packr2)\n\t\tGO111MODULE=on go install .\n\t\tpackr2 clean\n\n.PHONY: docker\ndocker: .bin/packr2\n\t\tpackr2 || (GO111MODULE=on go install github.com/gobuffalo/packr/v2/packr2 && packr2)\n\t\tCGO_ENABLED=0 GO111MODULE=on GOOS=linux GOARCH=amd64 go build\n\t\tpackr2 clean\n\t\tdocker build -t oryd/oathkeeper:dev .\n\t\tdocker build -t oryd/oathkeeper:dev-alpine -f Dockerfile-alpine .\n\t\trm oathkeeper\n\ndocs/cli: .bin/clidoc\n\t\tclidoc .\n", "---\nid: changelog\ntitle: Changelog\ncustom_edit_url: null\n---\n\n# [Unreleased](https://github.com/ory/oathkeeper/compare/v0.38.11-beta.1...2ccbb2f2607af39301a6d129c9552a5682cf96fc) (2021-06-18)\n\n### Bug Fixes\n\n- Cache introspection pre-auth\n  ([#723](https://github.com/ory/oathkeeper/issues/723))\n  ([3a9ae1a](https://github.com/ory/oathkeeper/commit/3a9ae1a43a6f157bb7998d2e4ee5b76851c68ec1)),\n  closes [#712](https://github.com/ory/oathkeeper/issues/712)\n- Ensure no vulnerable jwt-go deep dependency is being used\n  ([#745](https://github.com/ory/oathkeeper/issues/745))\n  ([2ccbb2f](https://github.com/ory/oathkeeper/commit/2ccbb2f2607af39301a6d129c9552a5682cf96fc)),\n  closes [#740](https://github.com/ory/oathkeeper/issues/740)\n\n### Features\n\n- Ability to Configure Remote Authorizers to set Headers in\n  AuthenticationSession ([#717](https://github.com/ory/oathkeeper/issues/717))\n  ([b3d117b](https://github.com/ory/oathkeeper/commit/b3d117b5d7de02cc1e3ab965328cf6c7995f8a6e)):\n  The remote authorizers may have useful context from user's permissions. So\n  with this changes, custom authorizers using remote and remote_json can return\n  some useful headers to be forward into the AuthenticationSession, meaning that\n  these headers will be passed to upstream services.\n  For example, an user containing scopes/branches inside an organization profile\n  has some level of data addressed to him. In this case, the upstream service\n  need to know that, and \"filter\" the data according to his \"branch_id\". The\n  permission that is given to the user (and the remote authorizers manages) has\n  a record of the \"branch_id\", for the following responses will be returned as\n  status code 200 (if granted) and containing a header like X-Branch-Id.\n  The upstream service receives the X-Branch-Id and does your thing.\n  The configuration requires to configure a list of \"allowed headers\" returning\n  from remote authorizer, that will be accepted in the pipeline.\n- Add request header in match context\n  ([#719](https://github.com/ory/oathkeeper/issues/719))\n  ([22b0dbe](https://github.com/ory/oathkeeper/commit/22b0dbe6495b9f57206dc8fb2335e1c81906e27d)),\n  closes [#512](https://github.com/ory/oathkeeper/issues/512)\n- Improved JWT Authorizer JWKs fetching\n  ([#726](https://github.com/ory/oathkeeper/issues/726))\n  ([5613f65](https://github.com/ory/oathkeeper/commit/5613f650facbb136d6dd7ad7dcf3057f54cb30fc)),\n  closes [#203](https://github.com/ory/oathkeeper/issues/203)\n\n# [0.38.11-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.10-beta.2...v0.38.11-beta.1) (2021-05-13)\n\nThis release primarily addresses issues in the SDK build pipeline.\n\n### Bug Fixes\n\n- Init introspect http client once\n  ([#714](https://github.com/ory/oathkeeper/issues/714))\n  ([e203ad1](https://github.com/ory/oathkeeper/commit/e203ad14ac0e78909e7d42aa214c47a708a7c136)),\n  closes [#712](https://github.com/ory/oathkeeper/issues/712)\n- Log credentials verifier error details\n  ([#713](https://github.com/ory/oathkeeper/issues/713))\n  ([766b071](https://github.com/ory/oathkeeper/commit/766b0714dc8aaff010a99b182a6450f21d1795f5)),\n  closes [#467](https://github.com/ory/oathkeeper/issues/467)\n\n### Code Generation\n\n- Pin v0.38.11-beta.1 release commit\n  ([413393f](https://github.com/ory/oathkeeper/commit/413393f8750796ae2b8dd02fb3735d991807ddaa))\n\n### Reverts\n\n- Init introspect http client once\n  ([#714](https://github.com/ory/oathkeeper/issues/714))\n  ([#722](https://github.com/ory/oathkeeper/issues/722))\n  ([c58cbd9](https://github.com/ory/oathkeeper/commit/c58cbd9341e58adfdf49fd1e9c0241528917c86c)):\n  This reverts commit e203ad14ac0e78909e7d42aa214c47a708a7c136.\n\n# [0.38.10-beta.2](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1...v0.38.10-beta.2) (2021-05-05)\n\nThis release improves the health status manager, cache management, improves JSON\nWeb Token debuggability, and resolves other issues.\n\n### Bug Fixes\n\n- Register makefile tasks\n  ([2832a77](https://github.com/ory/oathkeeper/commit/2832a773782047f39680033860c2a8e9558883c0))\n- Resolve makefile issues\n  ([9df3b2a](https://github.com/ory/oathkeeper/commit/9df3b2a7bd4a207bc68e94fde28a720eb7a816b1))\n- Set cost 1 when caching tokens with configurable max cost\n  ([#680](https://github.com/ory/oathkeeper/issues/680))\n  ([8db0e9d](https://github.com/ory/oathkeeper/commit/8db0e9de60dbc5d1964440bd2ea14ec063b71cab))\n- Update shebangs to use bash from /usr/bin/env instead of /bin/ for better\n  portability ([#694](https://github.com/ory/oathkeeper/issues/694))\n  ([e522062](https://github.com/ory/oathkeeper/commit/e52206214e5e6b949b785752ee638a80b4775355))\n\n### Code Generation\n\n- Pin v0.38.10-beta.2 release commit\n  ([4b3403b](https://github.com/ory/oathkeeper/commit/4b3403baecaa1c452d95138e929fae0b3d71988d))\n\n### Code Refactoring\n\n- Move api.json\n  ([7dc37fd](https://github.com/ory/oathkeeper/commit/7dc37fd55edfa623bf30e32da1aef6c662779678))\n\n### Documentation\n\n- Add dotnet sdk ([#683](https://github.com/ory/oathkeeper/issues/683))\n  ([05ae925](https://github.com/ory/oathkeeper/commit/05ae9259414882015f30cc8d5c01e64afb65afbc)):\n  - docs: add dotnet sdk\n\n  - docs: add dotnet sdk versioned\n- Change forum to discussions readme\n  ([#690](https://github.com/ory/oathkeeper/issues/690))\n  ([d942c04](https://github.com/ory/oathkeeper/commit/d942c043aa2370b87e0dd822440ad39d809755f9))\n- Consistent authz headers\n  ([#699](https://github.com/ory/oathkeeper/issues/699))\n  ([19948e1](https://github.com/ory/oathkeeper/commit/19948e11933f3607a562bcff75e2061b8cb2a527)):\n  Removes the \"Authorizer\" prefix from a few of the authorizers to make them all\n  consistent.\n- Fix typo ([#696](https://github.com/ory/oathkeeper/issues/696))\n  ([eda83f1](https://github.com/ory/oathkeeper/commit/eda83f12a58de80ae78aa86e90806f277e8dc1f5))\n- Point to deny authz ([#701](https://github.com/ory/oathkeeper/issues/701))\n  ([4f01963](https://github.com/ory/oathkeeper/commit/4f01963b33ab0484da69c9f120c69ae9b49c6fdc)),\n  closes [#700](https://github.com/ory/oathkeeper/issues/700)\n\n### Features\n\n- Add health event manager and rules readiness probe\n  ([#674](https://github.com/ory/oathkeeper/issues/674))\n  ([01d8588](https://github.com/ory/oathkeeper/commit/01d8588d300976e06ef6358e23099259814e3bf7))\n- Add http method into session.MatchContext\n  ([#676](https://github.com/ory/oathkeeper/issues/676))\n  ([e15a7a5](https://github.com/ory/oathkeeper/commit/e15a7a57846d1c28f7b7ed7b824e6fc318f9344d)),\n  closes [#625](https://github.com/ory/oathkeeper/issues/625)\n- Add support for requesting an audience to the OAuth2 Introspection pr\u2026\n  ([#678](https://github.com/ory/oathkeeper/issues/678))\n  ([2405810](https://github.com/ory/oathkeeper/commit/2405810a839b9d3015655ced492097d0f130a06f)),\n  closes [#677](https://github.com/ory/oathkeeper/issues/677)\n- Additional JWT auth debug information\n  ([#681](https://github.com/ory/oathkeeper/issues/681))\n  ([d08ab50](https://github.com/ory/oathkeeper/commit/d08ab5034b80736701fb38ee1e55d12c63fd06b2)),\n  closes [#668](https://github.com/ory/oathkeeper/issues/668):\n  JWT Claims added to error details field.\n- Adds audience into Extra at oAuth2 introspection\n  ([#480](https://github.com/ory/oathkeeper/issues/480))\n  ([c9faecc](https://github.com/ory/oathkeeper/commit/c9faecc5d32800537f07e8e05f9c8872e609c3f9))\n- Global docs sidebar and added cloud pages\n  ([#705](https://github.com/ory/oathkeeper/issues/705))\n  ([f67241f](https://github.com/ory/oathkeeper/commit/f67241f2ab7063fa9ce8e8ea455de25b51414f30))\n\n# [0.38.9-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1.pre.3...v0.38.9-beta.1) (2021-03-17)\n\nThis release adds support for X-Forwarded-Proto, passes tracing contexts to\ndownstream requests, bumps Go to 1.16, and resolves issues preventing the log\nlevel from being set to trace level. Additionally included are improvements to\nthe overall tracing set up, a cookie authenticator bugfix, and a bugfix for glob\npattern matching.\n\n### Code Generation\n\n- Pin v0.38.9-beta.1 release commit\n  ([9ad41f0](https://github.com/ory/oathkeeper/commit/9ad41f02c4e6c140afa702743b5880f7fbab5df5))\n\n# [0.38.9-beta.1.pre.3](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1.pre.2...v0.38.9-beta.1.pre.3) (2021-03-16)\n\nautogen: pin v0.38.9-beta.1.pre.3 release commit\n\n### Bug Fixes\n\n- Make glob patterns match only one path segment.\n  ([#664](https://github.com/ory/oathkeeper/issues/664))\n  ([c711aac](https://github.com/ory/oathkeeper/commit/c711aacc5fc29664e3825e087557e7baf4e47aa8)),\n  closes [#630](https://github.com/ory/oathkeeper/issues/630):\n  This makes `/` also a separator as well as the presumably default value of\n  `.`. This allows using <\\*> for matching only one path segment.\n\n### Code Generation\n\n- Pin v0.38.9-beta.1.pre.3 release commit\n  ([7725554](https://github.com/ory/oathkeeper/commit/77255541cafc25fd7adc242aed149837f3fa3141))\n\n# [0.38.9-beta.1.pre.2](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1.pre.1...v0.38.9-beta.1.pre.2) (2021-03-15)\n\nautogen: pin v0.38.9-beta.1.pre.2 release commit\n\n### Code Generation\n\n- Pin v0.38.9-beta.1.pre.2 release commit\n  ([9695b77](https://github.com/ory/oathkeeper/commit/9695b772bfdfc398e1ccc29731e6e2736fd31cb2))\n\n# [0.38.9-beta.1.pre.1](https://github.com/ory/oathkeeper/compare/v0.38.8-beta.1...v0.38.9-beta.1.pre.1) (2021-03-15)\n\nautogen: pin v0.38.9-beta.1.pre.1 release commit\n\n### Bug Fixes\n\n- Resolve goreleaser issues and bump golang\n  ([7291df9](https://github.com/ory/oathkeeper/commit/7291df9f2745b4dfc178d81b65fc837f58b34206))\n\n### Code Generation\n\n- Pin v0.38.9-beta.1.pre.1 release commit\n  ([7afdc40](https://github.com/ory/oathkeeper/commit/7afdc40144dbd703f0a88531d6093525af54dcc8))\n\n### Unclassified\n\n- Add missing documentation for oauth2_introspection\n  ([#648](https://github.com/ory/oathkeeper/issues/648))\n  ([34cf38c](https://github.com/ory/oathkeeper/commit/34cf38c0fe431eb375fab4dbfa9cb9098961943d)),\n  closes [#549](https://github.com/ory/oathkeeper/issues/549)\n\n# [0.38.8-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.7-beta.1...v0.38.8-beta.1) (2021-02-25)\n\nImproves tracing set up and addresses a bug in the cookie authenticator.\n\n### Bug Fixes\n\n- Ignore cookie auth when no cookies set\n  ([c84d880](https://github.com/ory/oathkeeper/commit/c84d8808805f124bd31c6d8717f36539652fb4e8))\n\n### Code Generation\n\n- Pin v0.38.8-beta.1 release commit\n  ([2943e9a](https://github.com/ory/oathkeeper/commit/2943e9af887a78191a50426ed069604615ca58e2))\n\n### Unclassified\n\n- Formatting\n  ([546691b](https://github.com/ory/oathkeeper/commit/546691b61f78361eff33b1c2a3c3435fecaf499f))\n- Add tracing to outbound oauth introspection requests\n  ([daf44cb](https://github.com/ory/oathkeeper/commit/daf44cb22961817f6d9aaddd4ffce64bcee50d70))\n\n# [0.38.7-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.6-beta.1...v0.38.7-beta.1) (2021-02-22)\n\nThis release adds support for X-Forwarded-Proto, passes context for tracing to\ndownstream requests, bumps Go to 1.16 and resolves issues preventing the log\nlevel from being set to trace level.\n\n### Bug Fixes\n\n- Accept lower and uppercase in bearer token handler\n  ([6e46d4a](https://github.com/ory/oathkeeper/commit/6e46d4a3831ae86beb9b8a5850faf20cb5a759e2))\n- Add support for X-Forwarded-Proto header\n  ([#638](https://github.com/ory/oathkeeper/issues/638))\n  ([6eb83fd](https://github.com/ory/oathkeeper/commit/6eb83fd03ed46c388dfe4aaeeaa7c331c9d3685d)),\n  closes [#153](https://github.com/ory/oathkeeper/issues/153)\n- Pass context through to external requests\n  ([#627](https://github.com/ory/oathkeeper/issues/627))\n  ([ee25197](https://github.com/ory/oathkeeper/commit/ee251976537ade1e06399a3d5b2883620e3407eb)):\n  Enables proper tracing through Jaeger etc\n- Update goreleaser config\n  ([9689f45](https://github.com/ory/oathkeeper/commit/9689f45db1ec0a974a109a6b28314cddaba2b2de))\n- Update log schema\n  ([78e654d](https://github.com/ory/oathkeeper/commit/78e654df3b81d3ab3f8f946033ee5f1fe45afded))\n\n### Code Generation\n\n- Pin v0.38.7-beta.1 release commit\n  ([3b37928](https://github.com/ory/oathkeeper/commit/3b37928256363ceff294897fd05461d01829314c))\n\n### Features\n\n- Bump to go 1.16\n  ([e74d4a2](https://github.com/ory/oathkeeper/commit/e74d4a21efeac7aa7b6c7ae8e39daab17ef4f470))\n- Resolve go mod issues\n  ([6a3f5d3](https://github.com/ory/oathkeeper/commit/6a3f5d39c2326a49c694624ff2d35b8e3beccc2e))\n\n# [0.38.6-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.5-beta.1...v0.38.6-beta.1) (2021-01-27)\n\nWe are happy to announce Dart and Rust SDKs for Ory Oathkeeper! Additionally, a\nnew `bearer_token` authenticator has been added.\n\n### Code Generation\n\n- Pin v0.38.6-beta.1 release commit\n  ([a0c4d7f](https://github.com/ory/oathkeeper/commit/a0c4d7fc46151000b4ae9db5a958b94611c9cd58))\n\n### Documentation\n\n- Add Rust and Dart SDKs\n  ([1524fed](https://github.com/ory/oathkeeper/commit/1524fed70b4b5c8d3ca8d23e5ab46bc32f073d53)):\n  We now support for Rust and Dart SDKs!\n- Fix js npm links ([#634](https://github.com/ory/oathkeeper/issues/634))\n  ([c339fee](https://github.com/ory/oathkeeper/commit/c339fee771877dbc3e362d4656af53fe492cd58e))\n- Rename index documents\n  ([7de0ac3](https://github.com/ory/oathkeeper/commit/7de0ac34f572d6da56cac482eda364514500a866))\n\n### Features\n\n- Add bearer_token authenticator\n  ([#613](https://github.com/ory/oathkeeper/issues/613))\n  ([b623ae7](https://github.com/ory/oathkeeper/commit/b623ae7f68aac948f8e584fb9254e43a7272adf6)):\n  Adds a new authenticator to work with Kratos' new API token. Works the same as\n  the cookie_session authenticator but checks for a bearer token in the\n  Authorization header (unless overwritten by token_from)\n\n# [0.38.5-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.4-beta.1...v0.38.5-beta.1) (2020-12-10)\n\nThe ORY Community is proud to present you the next iteration of ORY Oathkeeper.\nIn this release, we focused on improving production stability and resolved\nseveral pesky bugs!\n\n### Bug Fixes\n\n- Check content-length header in lowercase\n  ([#530](https://github.com/ory/oathkeeper/issues/530))\n  ([a68fc8a](https://github.com/ory/oathkeeper/commit/a68fc8aa3892311960c4e818fa413caf189b9f8d)):\n  Issue #422 didn't fix the problem with the requests' Content-Length being\n  copied in the responses because the check was case-sensitive and unit tests\n  didn't cover it.\n- Never construct id token claim templates in parallel\n  ([#552](https://github.com/ory/oathkeeper/issues/552))\n  ([4f504d9](https://github.com/ory/oathkeeper/commit/4f504d9032a5be9ea6f82c723a655a0f9028c45a)),\n  closes [#551](https://github.com/ory/oathkeeper/issues/551)\n- Remove token_type validation from introspection handler\n  ([#556](https://github.com/ory/oathkeeper/issues/556))\n  ([b18d90a](https://github.com/ory/oathkeeper/commit/b18d90a94f2016b541164cf30654032628e4bc01)),\n  closes [#553](https://github.com/ory/oathkeeper/issues/553)\n- Support windows file paths\n  ([#557](https://github.com/ory/oathkeeper/issues/557))\n  ([6a05682](https://github.com/ory/oathkeeper/commit/6a05682dca21181db9e052300edf14fb40815bd3)),\n  closes [#514](https://github.com/ory/oathkeeper/issues/514)\n  [#332](https://github.com/ory/oathkeeper/issues/332)\n- Update dd-trace to fix build\n  ([2e571fa](https://github.com/ory/oathkeeper/commit/2e571fa98880b62a174dbcfcdde2bb1a339cc7a3))\n\n### Code Generation\n\n- Pin v0.38.5-beta.1 release commit\n  ([f4a04da](https://github.com/ory/oathkeeper/commit/f4a04dac17a77a0983bd8461a5db8438232aede4))\n\n### Documentation\n\n- Add contributing to sidebar\n  ([#595](https://github.com/ory/oathkeeper/issues/595))\n  ([a3c9584](https://github.com/ory/oathkeeper/commit/a3c9584e848b3e71b33073c89299bc60c6d0b3ee)):\n  The same change as in https://github.com/ory/hydra/pull/2209\n- Add newsletter to config\n  ([3c02e22](https://github.com/ory/oathkeeper/commit/3c02e22c398b5a573883b6c1cceb05aff15dcbea))\n- Correct sidebar.json ([#524](https://github.com/ory/oathkeeper/issues/524))\n  ([34e2077](https://github.com/ory/oathkeeper/commit/34e2077e872dcf7b23129623434a8ff0656da9fc))\n- Fix typo\n  ([393af92](https://github.com/ory/oathkeeper/commit/393af92e06f0d562b7e7a7f40c6ff1caeca9523b))\n- Fix typo in API access rules and improve layout\n  ([#599](https://github.com/ory/oathkeeper/issues/599))\n  ([6a30ce2](https://github.com/ory/oathkeeper/commit/6a30ce2e0df0101ba7449dbadcc68528337c01fa))\n- Fix typo in pipeline/error.md\n  ([#568](https://github.com/ory/oathkeeper/issues/568))\n  ([5d04c6b](https://github.com/ory/oathkeeper/commit/5d04c6b30ccc1bbb1407f1f82123aa2e82372c36))\n- Resolve list in main docs\n  ([1c2241c](https://github.com/ory/oathkeeper/commit/1c2241c1cbf615a07b483a3bb51fc3be9a50ae40)),\n  closes [#602](https://github.com/ory/oathkeeper/issues/602)\n- Resolve regression issues\n  ([82008b2](https://github.com/ory/oathkeeper/commit/82008b2a6a60583856c436b1adae2f6d306bf836))\n\n### Features\n\n- Forward original authorization header when using remote (json) authorizer\n  ([#554](https://github.com/ory/oathkeeper/issues/554))\n  ([f4f781e](https://github.com/ory/oathkeeper/commit/f4f781e5ec998e3656b6cf3c46c83c0faf6527ef)),\n  closes [#528](https://github.com/ory/oathkeeper/issues/528)\n- Use google/go-cloud to fetch rules and credentials from object storage\n  ([#562](https://github.com/ory/oathkeeper/issues/562))\n  ([666b951](https://github.com/ory/oathkeeper/commit/666b9514ec37acfe2bb90ce62d5ee845853528fd)),\n  closes [#518](https://github.com/ory/oathkeeper/issues/518)\n  [#518](https://github.com/ory/oathkeeper/issues/518)\n\n### Unclassified\n\n- docs. fix typo in list\n  ([335189f](https://github.com/ory/oathkeeper/commit/335189fba1d4c3db841c0cf9c51412adc7bdae01))\n\n# [0.38.4-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.3-beta.1...v0.38.4-beta.1) (2020-09-28)\n\nThis release stabilizes several features and resolves a couple of bugs.\n\n### Bug Fixes\n\n- Add tests in error_redirect_test.go\n  ([#522](https://github.com/ory/oathkeeper/issues/522))\n  ([24bdd9b](https://github.com/ory/oathkeeper/commit/24bdd9bdc56a46953a393d503ccfd2416cf11bcf)):\n  Increased tests coverage to cover for all the three valid scenarios - http\n  absolute, https absolute, relative. Explicitly checked Location path to ensure\n  that correct uri scheme was returned\n- Deprecated key in goreleaser config\n  ([2a4f901](https://github.com/ory/oathkeeper/commit/2a4f90127e66917dfaa72f8089efa5149631434d))\n- Ignore x/net false positives\n  ([bc8a32c](https://github.com/ory/oathkeeper/commit/bc8a32c9fcf8cbd9fc6b46b9c8d607745fb05a1e))\n- Misleading HTTP status code for oauth2_client_credentials authenticator\n  ([#504](https://github.com/ory/oathkeeper/issues/504))\n  ([0f65631](https://github.com/ory/oathkeeper/commit/0f65631af61e6a4098745f0149b0154d5dd7386c)),\n  closes [#496](https://github.com/ory/oathkeeper/issues/496)\n\n### Code Generation\n\n- Pin v0.38.4-beta.1 release commit\n  ([1c997b2](https://github.com/ory/oathkeeper/commit/1c997b281b27db9dcc010b299d2df9e0ef126c9d))\n\n### Documentation\n\n- Fix broken links\n  ([dd3bfbe](https://github.com/ory/oathkeeper/commit/dd3bfbe01ed450ff88a492c041affeaaf17027c9))\n- Fix OAuth2 Introspect Authn Config Documentation\n  ([#498](https://github.com/ory/oathkeeper/issues/498))\n  ([7612e20](https://github.com/ory/oathkeeper/commit/7612e207e96841aad3dcf5806f5af2cc42024075)):\n  Switch the definitions for the pre-authorisation fields 'scope' and 'token\n  endpoint' in the documentation.\n- Fix sidebar\n  ([28247fc](https://github.com/ory/oathkeeper/commit/28247fcf53ed5c47879ada62456ab39b29c5752a))\n- Guide for integrating with ORY Hydra\n  ([#497](https://github.com/ory/oathkeeper/issues/497))\n  ([e1b1751](https://github.com/ory/oathkeeper/commit/e1b175183b8ce9e7d2befae3269d2c5cd959e3e0))\n- Move development section\n  ([582a4d0](https://github.com/ory/oathkeeper/commit/582a4d0e880649cc64aa647b2c35e432b3f234e2))\n- Move to json sidebar\n  ([b67230d](https://github.com/ory/oathkeeper/commit/b67230d038ef0b101c6362ab3e1c34a6924cfc96))\n- Remove duplicate template\n  ([01550b4](https://github.com/ory/oathkeeper/commit/01550b4e28b45b4deb1c1a3f685a1962f7633833))\n- Update repository templates\n  ([2aaf766](https://github.com/ory/oathkeeper/commit/2aaf766444cb9ae9b794c9638553a32931276a39))\n- Update repository templates\n  ([#506](https://github.com/ory/oathkeeper/issues/506))\n  ([cb53d79](https://github.com/ory/oathkeeper/commit/cb53d79f4ee36266ed7d2c5a1de6147884cbb3cf))\n\n### Features\n\n- Add and automate version schema\n  ([7ab4012](https://github.com/ory/oathkeeper/commit/7ab40128352eb4e6639fe4828da7bdd3690e327e))\n- Add url_param config option to redirect error handler.\n  ([#520](https://github.com/ory/oathkeeper/issues/520))\n  ([b5bb3bc](https://github.com/ory/oathkeeper/commit/b5bb3bc6b88ea8b26d53f03477fce1b74f113b97)),\n  closes [#511](https://github.com/ory/oathkeeper/issues/511):\n  This change introduces a url_param config option for redirect error handler.\n  If it contains a url paramter name, the redirect url will have this parameter\n  set, containing the current url (from which Oathkeeper has redirected the\n  user).\n  This can be useful in passing the return_to url to Kratos, so user can be\n  redirected to the page they initially wanted to access after a successfull\n  sign in.\n- Log invalid credentials on info level instead of error/warning\n  ([#517](https://github.com/ory/oathkeeper/issues/517))\n  ([a372b5f](https://github.com/ory/oathkeeper/commit/a372b5f833305ad85451cfb99b1db9e10ae8b8dc)),\n  closes [#505](https://github.com/ory/oathkeeper/issues/505)\n- Use uri-reference for errors redirect to allow relative urls\n  ([#516](https://github.com/ory/oathkeeper/issues/516))\n  ([0d39674](https://github.com/ory/oathkeeper/commit/0d3967409786c23de8e97f5c588cc4e9837a1550))\n\n### Unclassified\n\n- Run go format\n  ([2c25a2a](https://github.com/ory/oathkeeper/commit/2c25a2ad18bba7bf72e612b2005f1080e164d0d9))\n\n# [0.38.3-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.2-beta.1...v0.38.3-beta.1) (2020-07-29)\n\nThis release addresses several configuration bugs and resolves a potential\npanic.\n\n### Bug Fixes\n\n- Matcher.Match panic on nil \\*url.URL\n  ([#485](https://github.com/ory/oathkeeper/issues/485))\n  ([ab27dda](https://github.com/ory/oathkeeper/commit/ab27dda253d7c3f8bb9fae45c1f50e86e24e193c)),\n  closes [#484](https://github.com/ory/oathkeeper/issues/484)\n- Remove HTTP method restrictions\n  ([#472](https://github.com/ory/oathkeeper/issues/472))\n  ([bf8a888](https://github.com/ory/oathkeeper/commit/bf8a88884fa575c6ed397c92598c7436461028c6))\n- Resolve build issues and bump herodot\n  ([f15e38d](https://github.com/ory/oathkeeper/commit/f15e38dc533010babd21aeaa91d48dd4abbbdddc))\n- Use ory-dev instead of swagutil\n  ([#465](https://github.com/ory/oathkeeper/issues/465))\n  ([3fce382](https://github.com/ory/oathkeeper/commit/3fce382e83c95049b561a97365d0b4cc2f73bc54))\n\n### Code Generation\n\n- Pin v0.38.3-beta.1 release commit\n  ([1f754a9](https://github.com/ory/oathkeeper/commit/1f754a90d50c66545ce326ff1780894f4b2cbcfe))\n\n### Documentation\n\n- Delete old redirect homepage\n  ([a1a4610](https://github.com/ory/oathkeeper/commit/a1a4610194558f1024d2409c6f1975b72a0f856e))\n- Fix access rule example\n  ([739f179](https://github.com/ory/oathkeeper/commit/739f179ca2ca9d8ca42ca1995b3febac322bbeb2))\n- Fix api access rule example\n  ([#460](https://github.com/ory/oathkeeper/issues/460))\n  ([c75cd97](https://github.com/ory/oathkeeper/commit/c75cd978899b719edbd8ad80f7c7a48aded20252))\n- Update repository templates\n  ([edffc2e](https://github.com/ory/oathkeeper/commit/edffc2ee354ae4ec26e19e728b9f3117a0ec879c))\n- Update repository templates\n  ([7af8749](https://github.com/ory/oathkeeper/commit/7af8749e949c48f5750950def62290f2694e1b09))\n- Use central banner repo for README\n  ([04fe00c](https://github.com/ory/oathkeeper/commit/04fe00c0cd92c717ea2dc4149450f07206306f51))\n- Use mdx for api reference\n  ([368f073](https://github.com/ory/oathkeeper/commit/368f073a2d91b4fc9677436bcec63c6f339b0c93))\n\n### Features\n\n- Improve configurability of prometheus metrics\n  ([#450](https://github.com/ory/oathkeeper/issues/450))\n  ([ddcb226](https://github.com/ory/oathkeeper/commit/ddcb2262e6edc417c69bf2d713fa67f235481d32)),\n  closes [#446](https://github.com/ory/oathkeeper/issues/446)\n- Pass query parameters to the hydrators\n  ([#479](https://github.com/ory/oathkeeper/issues/479))\n  ([48603a1](https://github.com/ory/oathkeeper/commit/48603a1ac484b6571706021f2667f770604256b6))\n\n# [0.38.2-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.1-beta.1...v0.38.2-beta.1) (2020-05-25)\n\nThis patch makes timeouts configurable for oauth2_client_credentials and the\nreverse proxy and additionally allows prometheus to be configured.\n\n### Bug Fixes\n\n- Move prometheus validation stanza to local schema\n  ([#437](https://github.com/ory/oathkeeper/issues/437))\n  ([dcf3e14](https://github.com/ory/oathkeeper/commit/dcf3e14f2b4e09deb40260303061f27bcb55503c)),\n  closes [#438](https://github.com/ory/oathkeeper/issues/438)\n\n### Chores\n\n- Pin v0.38.2-beta.1 release commit\n  ([0de2682](https://github.com/ory/oathkeeper/commit/0de2682a1e0d556688c48db52ccc4e24f2bce336))\n\n### Documentation\n\n- Update github templates ([#434](https://github.com/ory/oathkeeper/issues/434))\n  ([37d34a3](https://github.com/ory/oathkeeper/commit/37d34a3a4f728a5ba39cef6118cd7e9f5e78bcd2))\n\n### Features\n\n- Add configurable timeouts to API server\n  ([#440](https://github.com/ory/oathkeeper/issues/440))\n  ([0dc6292](https://github.com/ory/oathkeeper/commit/0dc6292eb4784505be5100c6b20ade6235e277ac))\n- Timeout config for oauth2_client_credentials\n  ([#443](https://github.com/ory/oathkeeper/issues/443))\n  ([2462fa3](https://github.com/ory/oathkeeper/commit/2462fa3f97601009aff9b45c7c288d7a1afdec45)),\n  closes [#442](https://github.com/ory/oathkeeper/issues/442)\n\n# [0.38.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.0-beta.2...v0.38.1-beta.1) (2020-05-08)\n\nCaching in the hydrator mutator has been improved. Please use\n`cache.enable=true` if you intend using the hydrator.\n\n### Bug Fixes\n\n- Improve caching strategy and config for hydrator\n  ([#433](https://github.com/ory/oathkeeper/issues/433))\n  ([0047054](https://github.com/ory/oathkeeper/commit/00470541fb3d5d2672ef068c9e02c20deaac3d0d)):\n  To enable the hydrator cache you must now use the `cache.enabled` property.\n  Also, the cache key strategy has been improved.\n\n### Chores\n\n- Pin v0.38.1-beta.1 release commit\n  ([20f439d](https://github.com/ory/oathkeeper/commit/20f439d9df7eed3a7c8c163234b70c9260439613))\n\n# [0.38.0-beta.2](https://github.com/ory/oathkeeper/compare/v0.37.1-beta.1...v0.38.0-beta.2) (2020-05-07)\n\nThis release introduces Prometheus support, a new `remote` authorizer, caching,\nand several bugfixes!\n\nNo backwards incompatible changes have been introduced.\n\n### Bug Fixes\n\n- Add old schemas to resolve issues with old versions\n  ([b94c391](https://github.com/ory/oathkeeper/commit/b94c391446a694971fa54a53eb08f9d57ad5eb24)),\n  closes [#400](https://github.com/ory/oathkeeper/issues/400)\n- Don't copy the decision endpoint request's Content-Length\n  ([#422](https://github.com/ory/oathkeeper/issues/422))\n  ([0e99045](https://github.com/ory/oathkeeper/commit/0e990459104c7683764f4ed0e0a6b7162b57cd57)):\n  We currently copy all original request headers send to the decission endpoint\n  back. This can include the Content-Length header which describes the request\n  body or response. Including the original request Content-Length causes issues\n  for the decission endpoint client if the response body doesn't match the exact\n  size.\n  This change makes sure the Content-Length doesn't get included in the response\n  body and adds a test to prevent future regressions.\n- Respect retry in token introspection\n  ([#410](https://github.com/ory/oathkeeper/issues/410))\n  ([88f7b69](https://github.com/ory/oathkeeper/commit/88f7b69c9ff252ddc3dbe960155883ec98115fd0))\n- Update install.sh script\n  ([#429](https://github.com/ory/oathkeeper/issues/429))\n  ([2d2eded](https://github.com/ory/oathkeeper/commit/2d2eded4075c2649e449d80dbb871b0da739a9ac))\n- Use pipe to pass body remote authorizer\n  ([#426](https://github.com/ory/oathkeeper/issues/426))\n  ([1a44087](https://github.com/ory/oathkeeper/commit/1a44087f424d8a01437769c6bce177eab36c195f)):\n  Resolves flaky tests.\n- Use semver-regex replacer func\n  ([a13cdf5](https://github.com/ory/oathkeeper/commit/a13cdf5d9a518e3095545e30d15c7c4b7859752b))\n\n### Chores\n\n- Pin v0.38.0-beta.2 release commit\n  ([73d36cd](https://github.com/ory/oathkeeper/commit/73d36cd367c1c93d4b6e93be180c982789924356))\n\n### Code Refactoring\n\n- Move docs to this repository\n  ([#396](https://github.com/ory/oathkeeper/issues/396))\n  ([11cb851](https://github.com/ory/oathkeeper/commit/11cb851a7cc42120c2d890fbeefcba55d6ff0e5a))\n\n### Documentation\n\n- Add `authentication_handler_no_match` to error example\n  ([ad182f4](https://github.com/ory/oathkeeper/commit/ad182f4af9723aff79c227431045444140c24f25))\n- Add missing import\n  ([b76ee9c](https://github.com/ory/oathkeeper/commit/b76ee9c8b6cb07adf7b9cdd421712dfdcb5f8340))\n- Regenerate and update changelog\n  ([7121f65](https://github.com/ory/oathkeeper/commit/7121f6514a0ba0d61831792972ed833117911551))\n- Regenerate and update changelog\n  ([6fd7d66](https://github.com/ory/oathkeeper/commit/6fd7d667e3c7738bc7a4ab82c490a6d7343e85bd))\n- Regenerate and update changelog\n  ([531200c](https://github.com/ory/oathkeeper/commit/531200cecae0bb8853ff9d5d557cb9176137545b))\n- Regenerate and update changelog\n  ([cf8ad0c](https://github.com/ory/oathkeeper/commit/cf8ad0c635042de54590030387220c1a16b9268c))\n- Update github templates ([#407](https://github.com/ory/oathkeeper/issues/407))\n  ([9979d77](https://github.com/ory/oathkeeper/commit/9979d77d7eda95a2438f3f5cc9b85d3d0aa2857c))\n- Update github templates ([#409](https://github.com/ory/oathkeeper/issues/409))\n  ([f92a029](https://github.com/ory/oathkeeper/commit/f92a0294d8d365fddbb67caa0367daa78f7b25e9))\n- Update github templates ([#412](https://github.com/ory/oathkeeper/issues/412))\n  ([884c113](https://github.com/ory/oathkeeper/commit/884c113f2bb8698a2d24399d048faf5018846e54))\n- Update github templates ([#413](https://github.com/ory/oathkeeper/issues/413))\n  ([6d7cba7](https://github.com/ory/oathkeeper/commit/6d7cba76e893d51db71687b2981837a333d71666))\n- Update github templates ([#413](https://github.com/ory/oathkeeper/issues/413))\n  ([d692fbf](https://github.com/ory/oathkeeper/commit/d692fbfb9bcba77c32a94b530e82fbd5e2b61856))\n- Update linux install guide\n  ([#414](https://github.com/ory/oathkeeper/issues/414))\n  ([a0e2cc0](https://github.com/ory/oathkeeper/commit/a0e2cc0ea324d908a8741df75e3259e30a302dbb))\n- Updates issue and pull request templates\n  ([#392](https://github.com/ory/oathkeeper/issues/392))\n  ([3724ebc](https://github.com/ory/oathkeeper/commit/3724ebc63a85050525d86d81a70eeadccac72c1a))\n- Updates issue and pull request templates\n  ([#393](https://github.com/ory/oathkeeper/issues/393))\n  ([a4ade5c](https://github.com/ory/oathkeeper/commit/a4ade5ca29a9ce24a3ffb6c9705c4723e67f9619))\n- Updates issue and pull request templates\n  ([#394](https://github.com/ory/oathkeeper/issues/394))\n  ([0ef037a](https://github.com/ory/oathkeeper/commit/0ef037abcec226039eb1a69dfc442df53d430ce1))\n- Updates issue and pull request templates\n  ([#395](https://github.com/ory/oathkeeper/issues/395))\n  ([ecab261](https://github.com/ory/oathkeeper/commit/ecab26119e32fa7c6947a7da17f2095292d02f2d))\n- Use correct headline for cc handler\n  ([#420](https://github.com/ory/oathkeeper/issues/420))\n  ([1401610](https://github.com/ory/oathkeeper/commit/1401610dffc7bef5823199059a4d9fc25cbde264))\n\n### Features\n\n- Add cache to hydrator ([#418](https://github.com/ory/oathkeeper/issues/418))\n  ([1ae6e7a](https://github.com/ory/oathkeeper/commit/1ae6e7a958d602533f54cada5d231bcf1bace093)),\n  closes [#417](https://github.com/ory/oathkeeper/issues/417):\n  This patch introduces new configuration parameters that allow the hydrator\n  mutator to cache requests.\n- Add new remote authorizer that uses request body and headers\n  ([#416](https://github.com/ory/oathkeeper/issues/416))\n  ([3a20637](https://github.com/ory/oathkeeper/commit/3a206376c0ec4d72d5d6ec66c2d738199a24e0c6)):\n  This pull request implements a new authorizer that sends the original request\n  body as body to the remote endpoint. This allows the remote endpoint to take\n  the body into account in its decision.\n  The current remote_json authorizer does not have the ability to send the\n  request body of the request to authorize. This means this cannot be taken into\n  account while checking permissions.\n  Providing the request body as part of the JSON payload won't always work as\n  JSON cannot handle binary data.\n- Add prometheus docs ([#427](https://github.com/ory/oathkeeper/issues/427))\n  ([117ee6a](https://github.com/ory/oathkeeper/commit/117ee6a4c53035651f41a5bb4a9afe3c8b0c7438))\n- Add prometheus endpoint providing basic request metrics\n  ([#404](https://github.com/ory/oathkeeper/issues/404))\n  ([fdaed46](https://github.com/ory/oathkeeper/commit/fdaed46bcffbbdf593e94bc1784df88809e63fcd)):\n  This patch adds basic prometheus metrics. The prometheus metrics are exposed\n  at the default prometheus exporter port 9000 and is configurable with:\n  ```\n   serve:\n     prometheus:\n       port: 9000\n       host: localhost\n       metrics_path: /metrics\n  ```\n- Oauth2_introspect cache introspection results\n  ([#424](https://github.com/ory/oathkeeper/issues/424))\n  ([d4557ae](https://github.com/ory/oathkeeper/commit/d4557aeac69e84d36dfc2a1ab97c61188c93457f)),\n  closes [#293](https://github.com/ory/oathkeeper/issues/293)\n\n# [0.37.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.37.0-beta.1...v0.37.1-beta.1) (2020-04-03)\n\nchore: replace segment with ory fork (#391)\n\n### Chores\n\n- Replace segment with ory fork\n  ([#391](https://github.com/ory/oathkeeper/issues/391))\n  ([77d0b48](https://github.com/ory/oathkeeper/commit/77d0b48c8de5b4681f49f90e306e5b2324ac0d5d))\n\n### Documentation\n\n- Regenerate and update changelog\n  ([4e251e9](https://github.com/ory/oathkeeper/commit/4e251e904a4028a01687b0155108cc9c315e6941))\n\n# [0.37.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.36.0-beta.4...v0.37.0-beta.1) (2020-04-02)\n\ndocs: document v0.36 and v0.37\n\n## Breaking Changes\n\nThis feature allows to use the regex capture groups from the URL matcher to be\nused in several places, including the ID Token generator and elsewhere. To get\nthis working, existing `keto_engine_acp_ory` authorizers are no longer able to\nuse regex substition in the form of `my:action:$1` but instead must use the new\nformat which is `{{ printIndex .MatchContext.RegexpCaptureGroups 0}}` (notice\nthat the index changed by _-1_). A rule migrator exists which makes old rules\ncompatible with the new format, if a version string is given. More details on\nthe rule migration can be found here:\nhttps://github.com/ory/oathkeeper/pull/358/commits/fd16ceb230a1b14ebb01a147d2d70acce77f9fbd#diff-6177fb19f1b7d7bc392f5062b838df15\n\n### Bug Fixes\n\n- Add rule id to malformed configuration log error\n  ([#386](https://github.com/ory/oathkeeper/issues/386))\n  ([7688a8d](https://github.com/ory/oathkeeper/commit/7688a8dc4dc0ebd5bd173d77bc7cd8cacc8e50e2))\n- Disable test that fails with low cache hit rate\n  ([#372](https://github.com/ory/oathkeeper/issues/372))\n  ([5414dda](https://github.com/ory/oathkeeper/commit/5414ddadb0b210d3a90b69183449ba7d5723ba6c)),\n  closes [#371](https://github.com/ory/oathkeeper/issues/371)\n- Improve id_token performance with caching\n  ([#367](https://github.com/ory/oathkeeper/issues/367))\n  ([47e9fee](https://github.com/ory/oathkeeper/commit/47e9feefcea2d3508932ef3b323709b0bfa0d707)),\n  closes [#364](https://github.com/ory/oathkeeper/issues/364)\n- Load config file only in serve command\n  ([#365](https://github.com/ory/oathkeeper/issues/365))\n  ([68c8546](https://github.com/ory/oathkeeper/commit/68c85469b4523e5accf3de8e97b97b87416875d3))\n- Replace segment with our own sqa endpoint\n  ([#385](https://github.com/ory/oathkeeper/issues/385))\n  ([8f63eda](https://github.com/ory/oathkeeper/commit/8f63eda6370fb389307cd8b313437292965a2107))\n- SendOAuth2 introspection scope only when strategy is none\n  ([#379](https://github.com/ory/oathkeeper/issues/379))\n  ([5e0c8dc](https://github.com/ory/oathkeeper/commit/5e0c8dcdc4a64662f59372a488ec633bcdbc0d85)),\n  closes [#377](https://github.com/ory/oathkeeper/issues/377):\n  This patch removes the `scope` key from the OAuth2 Introspection request body\n  when a scope strategy other than `none` is set for the OAuth2 Introspection\n  handler. If the scope strategy is `none`, the `scope` key is included in the\n  body.\n- Token expiration error in tests\n  ([#390](https://github.com/ory/oathkeeper/issues/390))\n  ([9c07a73](https://github.com/ory/oathkeeper/commit/9c07a7349cdf560c0ba29a637aaec93021757d27))\n- **docker:** Improve docker-compose example\n  ([#325](https://github.com/ory/oathkeeper/issues/325))\n  ([1247381](https://github.com/ory/oathkeeper/commit/12473815dad3fcbc57ea102dd982170960adb9f6)),\n  closes [#324](https://github.com/ory/oathkeeper/issues/324):\n  Add a new file 'Dockerfile-dc' which will primarily be used by Docker Compose\n  to build docker images. Unlike the existing Dockerfile which depends on the\n  Makefile to build the binary, this Dockerfile copies the source code and\n  builds the binary.\n  Oathkeeper has gone through a couple of changes since the initial draft of the\n  docker compose file, considering these changes and the newly introduced\n  Dockerfile in the previous commit, make these changes to the\n  docker-compose.yml:\n  1.  Bump the version of the compose file to 3.\n  2.  Remove the need for the postgres database app, since Oathkeeper no longer\n      needs a database.\n  3.  Remove the need for the migration app, since we no longer need to migrate\n      since there is no database and the option is deprecated.\n  4.  Use the newly defined Dockerfile 'Dockerfile-dc'.\n  5.  We now serve both API and PROXY from the same app, so we don't need two\n      instances of the app.\n  6.  Add sample config, rules and JWK files to `.docker_compose`, mount this\n      via a volume mount.\n\n### Documentation\n\n- Change link to Developer Install Guide\n  ([#369](https://github.com/ory/oathkeeper/issues/369))\n  ([f7fe46f](https://github.com/ory/oathkeeper/commit/f7fe46f9e183c53b5af71592c05cacf6b7584a2c)):\n  Changing the link to the Developer Documentation - it was pointing to Keto and\n  not to Oathkeeper.\n- Document v0.36 and v0.37\n  ([a176c73](https://github.com/ory/oathkeeper/commit/a176c7301baddbec572e3451830ee1f32dc55c75))\n- Fix examples for some JSON Schema config keys\n  ([#363](https://github.com/ory/oathkeeper/issues/363))\n  ([aeeb353](https://github.com/ory/oathkeeper/commit/aeeb35399588422ea25780406f1726cad5082315))\n- Regenerate and update changelog\n  ([9417e2c](https://github.com/ory/oathkeeper/commit/9417e2c213a5e9394d88638dc24e36dc2d9b3387))\n- Regenerate and update changelog\n  ([b817037](https://github.com/ory/oathkeeper/commit/b817037fea1131e20fbd829927af00f2a27b951d))\n- Regenerate and update changelog\n  ([33a5524](https://github.com/ory/oathkeeper/commit/33a55240803c6615e8550de371b60d040ae9f2fe))\n- Regenerate and update changelog\n  ([888b7a6](https://github.com/ory/oathkeeper/commit/888b7a6f2255a2e1457fc88712ad4d80b87000ba))\n- Regenerate and update changelog\n  ([36faa3b](https://github.com/ory/oathkeeper/commit/36faa3bbc4a0befd59a61c25664b184fa07baaeb))\n- Regenerate and update changelog\n  ([32b6059](https://github.com/ory/oathkeeper/commit/32b605921b88e163299e47847099ab985e3cbfcd))\n- Regenerate and update changelog\n  ([ba4de09](https://github.com/ory/oathkeeper/commit/ba4de09211f249b6a719308ec5b1ea803642aa20))\n- Regenerate and update changelog\n  ([a76f749](https://github.com/ory/oathkeeper/commit/a76f749dfe5c6ad988da6ba0b2ac4be5a22b0f9d))\n- Regenerate and update changelog\n  ([1789d00](https://github.com/ory/oathkeeper/commit/1789d003699c7140e29b1a1a967f6ccd3b1e6916))\n- Regenerate and update changelog\n  ([0dfc608](https://github.com/ory/oathkeeper/commit/0dfc6081c1da853477737a3ec41a9ac8e51faebc))\n- Regenerate and update changelog\n  ([b23c79a](https://github.com/ory/oathkeeper/commit/b23c79ac318bd394eaf3c48f8d3e6c157a234df9))\n- Regenerate and update changelog\n  ([2117171](https://github.com/ory/oathkeeper/commit/2117171a17b345fb62f9234d3a5443728dca5315))\n- Regenerate and update changelog\n  ([38c9e19](https://github.com/ory/oathkeeper/commit/38c9e19a4b5fe708c60fc694e6ca526d201872eb))\n- Regenerate and update changelog\n  ([e3eda75](https://github.com/ory/oathkeeper/commit/e3eda753c3696345f030c4311b66f29296e4183c))\n- Regenerate and update changelog\n  ([e7d70f7](https://github.com/ory/oathkeeper/commit/e7d70f71bd1d803f4b1e58149875becb8abfa9ad))\n- Regenerate and update changelog\n  ([874b7a9](https://github.com/ory/oathkeeper/commit/874b7a9cb03d28cc40a8f7e242158414075f0961))\n- Regenerate and update changelog\n  ([6b1d94b](https://github.com/ory/oathkeeper/commit/6b1d94b7c3eeae9c69154b85ecdcff7759fd98a9))\n- Regenerate and update changelog\n  ([cb38415](https://github.com/ory/oathkeeper/commit/cb384152a82830f14768d2e0ec30cc8f65c8583c))\n- Regenerate and update changelog\n  ([bec6af0](https://github.com/ory/oathkeeper/commit/bec6af0a9b78a880296fce59eb150ac21ee3d13b))\n- Update forum and chat links\n  ([d9eed10](https://github.com/ory/oathkeeper/commit/d9eed10abd43eb41362fcc0f36e47a6f88658835))\n- Update README.md ([#375](https://github.com/ory/oathkeeper/issues/375))\n  ([313d2fe](https://github.com/ory/oathkeeper/commit/313d2fe99f699c441e6f8e24abb096e239a17f83)),\n  closes [#374](https://github.com/ory/oathkeeper/issues/374):\n  Fixed link to Envoy configuration page and added link to AWS API Gateway.\n- Updates issue and pull request templates\n  ([#382](https://github.com/ory/oathkeeper/issues/382))\n  ([484c406](https://github.com/ory/oathkeeper/commit/484c406785c2633feee3cb9179a94147085cadd6))\n\n### Features\n\n- **authz:** Add remote_json authorizer\n  ([#389](https://github.com/ory/oathkeeper/issues/389))\n  ([45b9f8b](https://github.com/ory/oathkeeper/commit/45b9f8b981f0227a92ff5c4001061e86afc0701f)),\n  closes\n  [/github.com/ory/docs/commit/07a229701835d75e9c2e4b939badb2d5b96ae6aa#diff-c400219db6c7e4b6abab71839d9d294eR272](https://github.com//github.com/ory/docs/commit/07a229701835d75e9c2e4b939badb2d5b96ae6aa/issues/diff-c400219db6c7e4b6abab71839d9d294eR272)\n  [#201](https://github.com/ory/oathkeeper/issues/201)\n- Add MatchContext in the AuthenticationSession\n  ([#358](https://github.com/ory/oathkeeper/issues/358))\n  ([a421293](https://github.com/ory/oathkeeper/commit/a421293a05afaca2ac3695940bc72b4b9f7a1b68))\n- Enable OpenTracing ([#376](https://github.com/ory/oathkeeper/issues/376))\n  ([cb0f3f2](https://github.com/ory/oathkeeper/commit/cb0f3f23bbf32f04855eff497c36553fc30c7364))\n- **authn:** Make oauth2_intsropsection configurable timeout\n  ([#370](https://github.com/ory/oathkeeper/issues/370))\n  ([0a39511](https://github.com/ory/oathkeeper/commit/0a395115123e34be0dbb47608a96dad2dca5e60c))\n\n# [0.36.0-beta.4](https://github.com/ory/oathkeeper/compare/v0.36.0-beta.3...v0.36.0-beta.4) (2020-02-14)\n\ndocs: Regenerate and update changelog\n\n### Bug Fixes\n\n- **goreleaser:** Update brew section\n  ([46fb3da](https://github.com/ory/oathkeeper/commit/46fb3da4fc4ba78b109ba740fb6bb8309a8be0f5))\n\n### Documentation\n\n- Regenerate and update changelog\n  ([95a7c09](https://github.com/ory/oathkeeper/commit/95a7c091165b8a9acebedb197208fadc04585d4a))\n\n# [0.36.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.5-beta.2...v0.36.0-beta.1) (2020-02-05)\n\ndocs: Regenerate and update changelog\n\n### Documentation\n\n- Prepare ecosystem automation\n  ([81ea56b](https://github.com/ory/oathkeeper/commit/81ea56b46da543c02c5977b27ec3671b5bcc4abe))\n- Regenerate and update changelog\n  ([b71e48c](https://github.com/ory/oathkeeper/commit/b71e48c473bd428286473f8d8472f74187377eb2))\n- Regenerate and update changelog\n  ([4f22e42](https://github.com/ory/oathkeeper/commit/4f22e42e1577c92b8005887dfc1a2dc48a5d392d))\n- Regenerate and update changelog\n  ([23e053f](https://github.com/ory/oathkeeper/commit/23e053fb289e663ae00bdbf9201c2ad1a245226b))\n- Updates issue and pull request templates\n  ([#355](https://github.com/ory/oathkeeper/issues/355))\n  ([f9251ed](https://github.com/ory/oathkeeper/commit/f9251edeb0d3e482acf278040f95c3f49db5a100))\n\n### Features\n\n- **ci:** Add nancy vuln scanner\n  ([#354](https://github.com/ory/oathkeeper/issues/354))\n  ([de36e40](https://github.com/ory/oathkeeper/commit/de36e401134f09762d5815e3fe37d9cb16dd8d81))\n- **rule:** Add glob matching strategy\n  ([#334](https://github.com/ory/oathkeeper/issues/334))\n  ([5f983ab](https://github.com/ory/oathkeeper/commit/5f983ab118ce784a49a38e6024b99b8791907d4b)),\n  closes [#321](https://github.com/ory/oathkeeper/issues/321):\n  This patch adds the ability to choose a matching strategy and adds a\n  glob-based matching strategy to the available options (regex is still the\n  default).\n\n### Unclassified\n\n- Update CHANGELOG [ci skip]\n  ([8278b9d](https://github.com/ory/oathkeeper/commit/8278b9db8a43c57d4169e232cb9f25ef9257dd8c))\n- Update CHANGELOG [ci skip]\n  ([17f78b7](https://github.com/ory/oathkeeper/commit/17f78b7cdf739f66de3de66199c00e82ff974826))\n- Update CHANGELOG [ci skip]\n  ([d6f6925](https://github.com/ory/oathkeeper/commit/d6f69257b86e249c70a2e808524d43da11315a59))\n- Update CHANGELOG [ci skip]\n  ([0e109ce](https://github.com/ory/oathkeeper/commit/0e109cee1222e8277157807d14f8b9ae7c1120d9))\n\n# [0.35.5-beta.2](https://github.com/ory/oathkeeper/compare/v0.35.5-beta.1...v0.35.5-beta.2) (2020-01-31)\n\nUpdate README.md\n\n### Unclassified\n\n- Update README.md\n  ([a40c613](https://github.com/ory/oathkeeper/commit/a40c613582add4742e245516f5b4fdef31be7cb0))\n- Update CHANGELOG [ci skip]\n  ([963d60d](https://github.com/ory/oathkeeper/commit/963d60d802a56b87390bfdb10632b7e5754398aa))\n\n# [0.35.5-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.4-beta.1...v0.35.5-beta.1) (2020-01-27)\n\nHash enabled check to further improve performance (#353)\n\n### Unclassified\n\n- Hash enabled check to further improve performance (#353)\n  ([19099cb](https://github.com/ory/oathkeeper/commit/19099cb86ea236ef503c1274393dd17fd11041ae)),\n  closes [#353](https://github.com/ory/oathkeeper/issues/353)\n- Update CHANGELOG [ci skip]\n  ([6afdeae](https://github.com/ory/oathkeeper/commit/6afdeae82260db0905f2e14a36ff23da59bdb29f))\n- Update CHANGELOG [ci skip]\n  ([3226ae6](https://github.com/ory/oathkeeper/commit/3226ae6d69837ae64d357e92236153c32c19e2cf))\n\n# [0.35.4-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.3-beta.1...v0.35.4-beta.1) (2020-01-26)\n\nUpdate release pipeline and tests (#351)\n\n### Unclassified\n\n- Update release pipeline and tests (#351)\n  ([c7d81a9](https://github.com/ory/oathkeeper/commit/c7d81a99243a2adb1387ada12550303c76ae9768)),\n  closes [#351](https://github.com/ory/oathkeeper/issues/351)\n\n# [0.35.3-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.1-beta.1...v0.35.3-beta.1) (2020-01-26)\n\nUpdate CHANGELOG [ci skip]\n\n### Documentation\n\n- Updates issue and pull request templates\n  ([#341](https://github.com/ory/oathkeeper/issues/341))\n  ([eca2652](https://github.com/ory/oathkeeper/commit/eca26527f64cb80b8df2df96910a33f993d9af37))\n\n### Unclassified\n\n- Update CHANGELOG [ci skip]\n  ([518b765](https://github.com/ory/oathkeeper/commit/518b76578519786921ef0d209f3f83dcfd6f217b))\n- Update SDK\n  ([5e619a0](https://github.com/ory/oathkeeper/commit/5e619a03687cbfe71b559d8945062a3fa4a5e4f3))\n- Cache pipeline config and improve request latency\n  ([#348](https://github.com/ory/oathkeeper/issues/348))\n  ([95673ed](https://github.com/ory/oathkeeper/commit/95673eddf02968250359067a3fe887adb46c2be6)),\n  closes [#346](https://github.com/ory/oathkeeper/issues/346)\n- Update CHANGELOG [ci skip]\n  ([495adcf](https://github.com/ory/oathkeeper/commit/495adcf2af7c2f161c9845cb358ef33f9afb42f3))\n- Use integer instead of number in config JSON schema\n  ([280b42f](https://github.com/ory/oathkeeper/commit/280b42fdedc0305b40398a2a213848d64d52e6c0))\n- Update CHANGELOG [ci skip]\n  ([b72965f](https://github.com/ory/oathkeeper/commit/b72965fce04941733f45277777349cfad6f41062))\n- Update SDK\n  ([aedabd9](https://github.com/ory/oathkeeper/commit/aedabd9834bb3a316b211f82cc4d9d9f90ab3bd6))\n- Set min/max for port range in config JSON Schema (#345)\n  ([d7d696f](https://github.com/ory/oathkeeper/commit/d7d696f62e91cf9d0300a1af8e2fd70676164ec6)),\n  closes [#345](https://github.com/ory/oathkeeper/issues/345)\n- Update CHANGELOG [ci skip]\n  ([8e4d58c](https://github.com/ory/oathkeeper/commit/8e4d58ce809dd10e98a3ad3530cdd81b24a967f0))\n- Fix profiling env variable not being picked up (#343)\n  ([29b0cf1](https://github.com/ory/oathkeeper/commit/29b0cf14de575434ce94def5e6031b76e28042de)),\n  closes [#343](https://github.com/ory/oathkeeper/issues/343)\n- Update CHANGELOG [ci skip]\n  ([e7a5d89](https://github.com/ory/oathkeeper/commit/e7a5d8928d9ef4def4bf53063c24b27d07e08946))\n- Update CHANGELOG [ci skip]\n  ([abc00d4](https://github.com/ory/oathkeeper/commit/abc00d46ec26debe6983f11e3a013865c969e6e6))\n- Update SDK\n  ([a237c29](https://github.com/ory/oathkeeper/commit/a237c2975efc34fc63a2fdb302b1086d072d2146))\n- Update broken links in README\n  ([78e498c](https://github.com/ory/oathkeeper/commit/78e498c0eb24380671364d333447abd0f25de1e8))\n\n# [0.35.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.0-beta.1...v0.35.1-beta.1) (2020-01-14)\n\nUpdate CHANGELOG [ci skip]\n\n### Unclassified\n\n- Update CHANGELOG [ci skip]\n  ([63b0076](https://github.com/ory/oathkeeper/commit/63b0076a264537ffd22f6f787c508598306c8661))\n\n# [0.35.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.0-alpha.1...v0.35.0-beta.1) (2020-01-13)\n\nUpdate CHANGELOG [ci skip]\n\n### Documentation\n\n- Incorporates changes from version v0.34.0-beta.1 [ci skip]\n  ([a8a62b4](https://github.com/ory/oathkeeper/commit/a8a62b4b4ba2d6fe2cb319ccbff4ed8634086238))\n- Incorporates changes from version v0.34.0-beta.1-2-g7516eed [ci skip]\n  ([eb82132](https://github.com/ory/oathkeeper/commit/eb82132ac36413d9ef151a3d6958f3baa6324a7d))\n- Incorporates changes from version v0.34.0-beta.1-4-gee2b9e7 [ci skip]\n  ([d084c39](https://github.com/ory/oathkeeper/commit/d084c396d28a13f9fa845acb7190f21e705c9b71))\n- Incorporates changes from version v0.34.0-beta.1-6-g6723fb8 [ci skip]\n  ([ebe89ab](https://github.com/ory/oathkeeper/commit/ebe89ab65d035b0ff2e4ad9c70c59fe36a180635))\n\n### Unclassified\n\n- Update CHANGELOG [ci skip]\n  ([f0e8ecf](https://github.com/ory/oathkeeper/commit/f0e8ecfc416d342985436b61a20e3d52c642e280))\n- Update SDK\n  ([6a0a0f8](https://github.com/ory/oathkeeper/commit/6a0a0f81bcda1417f7530fe85cd01c2862956328))\n- Update upgrade guide (#337)\n  ([99e9877](https://github.com/ory/oathkeeper/commit/99e98770dd764005e1967daf739dd23974384d19)),\n  closes [#337](https://github.com/ory/oathkeeper/issues/337)\n- Update CHANGELOG [ci skip]\n  ([2e13a05](https://github.com/ory/oathkeeper/commit/2e13a057da6fc626e9e856548746174c3ef7c2e7))\n- Remove superfluous version from workflows\n  ([55037fa](https://github.com/ory/oathkeeper/commit/55037fa0341a35992285d53be398ccf239b2fb58))\n- Update CHANGELOG [ci skip]\n  ([dfbc231](https://github.com/ory/oathkeeper/commit/dfbc231b8e2370089b2605a76252333b488bbc37))\n- Update SDK\n  ([65222d5](https://github.com/ory/oathkeeper/commit/65222d55494b8b3a91e6c0cbe43a2d922f7c753b))\n- Move to new SDK pipeline (#333)\n  ([6940dc8](https://github.com/ory/oathkeeper/commit/6940dc8de74de9c8be9f872df7cf3bc4bc079aa9)),\n  closes [#333](https://github.com/ory/oathkeeper/issues/333)\n- authn/cookie_session: Add subject_from modifier (#336)\n  ([6723fb8](https://github.com/ory/oathkeeper/commit/6723fb834c386b72e9525d2dfd661e684bd915d3)),\n  closes [#336](https://github.com/ory/oathkeeper/issues/336):\n  The subject_from modifier is a GJSON path that points to the `subject` field.\n  Useful if the upstream API does not return a `{\"subject\": \"...\"}` format.\n- authn/cookie_session: Add extra_from modifier (#335)\n  ([ee2b9e7](https://github.com/ory/oathkeeper/commit/ee2b9e743f4f6c56563d791947ffb592cc13394e)),\n  closes [#335](https://github.com/ory/oathkeeper/issues/335):\n  The extra_from modifier is a GJSON path that points to the extra field. Useful\n  if the upstream API does not return a `{\"subject\": \"...\", \"extra\": \"...\"}`\n  format.\n- pipeline/authn: Add tests for cookie sources in jwt and oauth2_intro (#330)\n  (#331)\n  ([7516eed](https://github.com/ory/oathkeeper/commit/7516eedc1ea97242a18225365898e0cbeafcffbf)),\n  closes [#330](https://github.com/ory/oathkeeper/issues/330)\n  [#331](https://github.com/ory/oathkeeper/issues/331)\n  [#330](https://github.com/ory/oathkeeper/issues/330):\n  Also updates the schemas to add missing cookie config element.\n\n# [0.34.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.33.1-beta.1...v0.34.0-beta.1) (2019-12-26)\n\nPrepare v0.34.0-beta.1+oryOS.14 release\n\n### Documentation\n\n- Incorporates changes from version v0.33.1-beta.1 [ci skip]\n  ([6681754](https://github.com/ory/oathkeeper/commit/66817540313ec989ceb359927dafe3c8252849c2))\n- Incorporates changes from version v0.33.1-beta.1-2-g4033321 [ci skip]\n  ([2764758](https://github.com/ory/oathkeeper/commit/2764758dfc2d86ed6ff2163fbf0f7e28383fa5da))\n- Incorporates changes from version v0.33.1-beta.1-4-g7e6f636 [ci skip]\n  ([66ae8c8](https://github.com/ory/oathkeeper/commit/66ae8c81ec4e631eb3e243eebafbfe4d7436eccf))\n\n### Unclassified\n\n- Prepare v0.34.0-beta.1+oryOS.14 release\n  ([96f77b2](https://github.com/ory/oathkeeper/commit/96f77b24d8adb160d5c2c3db2f2432e206b99c77))\n- pipe/err: Improve IP and MIME matching (#323)\n  ([7e6f636](https://github.com/ory/oathkeeper/commit/7e6f6369f4acc33211d78f2acb1036c610286c2c)),\n  closes [#323](https://github.com/ory/oathkeeper/issues/323):\n  Previously, MIME matching respected the request's wildcards which lead to\n  multiple handlers feeling responsible for a particular request. Now, wildcards\n  coming from the HTTP Request itself are interpreted literally.\n  Additionally, ORY Oathkeeper respected the X-Forwarded-For HTTP Header for\n  matching remote IP addresses. This behavior is now turned off by default\n  because clients were able to fake this header otherwise. It can explicitly be\n  turned on by setting\n  `config.when.#.request.remote_ip.RespectForwardedForHeader: true`.\n- Add customizable error handlers (#322)\n  ([4033321](https://github.com/ory/oathkeeper/commit/4033321b13671de8d0d5a42846a4e19d6065db62)),\n  closes [#322](https://github.com/ory/oathkeeper/issues/322)\n  [#204](https://github.com/ory/oathkeeper/issues/204)\n  [#252](https://github.com/ory/oathkeeper/issues/252)\n  [#119](https://github.com/ory/oathkeeper/issues/119):\n  This patch adds a new feature called error handlers. It allows to define the\n  error handling logic globally and per rule. It is now possible, for example,\n  to return a JSON response for `Accept: application/json` requests and a HTTP\n  Redirect response for requests that are coming from a user.\n  This also resolves several issues, as noted below:\n\n# [0.33.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.33.0-beta.1...v0.33.1-beta.1) (2019-12-18)\n\ndocs: Incorporates changes from version v0.33.0-beta.1-12-g0dd3fe3 [ci skip]\n\n### Documentation\n\n- Incorporates changes from version v0.33.0-beta.1 [ci skip]\n  ([a178031](https://github.com/ory/oathkeeper/commit/a178031f000a405a7962046e0e8582c309ac8989))\n- Incorporates changes from version v0.33.0-beta.1-10-g3e7936a [ci skip]\n  ([083b7eb](https://github.com/ory/oathkeeper/commit/083b7eb35a7d26762bbf930b03969297ac931805))\n- Incorporates changes from version v0.33.0-beta.1-12-g0dd3fe3 [ci skip]\n  ([82c5253](https://github.com/ory/oathkeeper/commit/82c525324490f1d9e073ff8af60abdbfbb722c30))\n- Incorporates changes from version v0.33.0-beta.1-6-gf60f525 [ci skip]\n  ([9870722](https://github.com/ory/oathkeeper/commit/987072248ad8e5e0ae0179d684f3f9f5b8124fbc))\n- Incorporates changes from version v0.33.0-beta.1-8-g815951b [ci skip]\n  ([d77b225](https://github.com/ory/oathkeeper/commit/d77b225555356e4a2010eb6d707bf718c1620956))\n\n### Unclassified\n\n- Add health check commands\n  ([#319](https://github.com/ory/oathkeeper/issues/319))\n  ([0dd3fe3](https://github.com/ory/oathkeeper/commit/0dd3fe32a4c76b3b2c14a17108521eb51e5e4ff0))\n- Properly merge env vars into pipeline configs (#320)\n  ([3e7936a](https://github.com/ory/oathkeeper/commit/3e7936a41150f367003c81c208910fdb77f556d9)),\n  closes [#320](https://github.com/ory/oathkeeper/issues/320)\n  [#305](https://github.com/ory/oathkeeper/issues/305)\n  [#317](https://github.com/ory/oathkeeper/issues/317):\n  Previously, some keys did not respect the values set in the environment\n  variables.\n- Add alpine-based Docker image (#318)\n  ([815951b](https://github.com/ory/oathkeeper/commit/815951bb039937acc7be3f8b1b2bb06fe9ecac90)),\n  closes [#318](https://github.com/ory/oathkeeper/issues/318)\n  [#312](https://github.com/ory/oathkeeper/issues/312)\n- Add more details to decision logging (#316)\n  ([f60f525](https://github.com/ory/oathkeeper/commit/f60f52538ff6e66ea98afc89c6c6557ab8c5f93f)),\n  closes [#316](https://github.com/ory/oathkeeper/issues/316)\n  [#244](https://github.com/ory/oathkeeper/issues/244)\n  [#242](https://github.com/ory/oathkeeper/issues/242):\n  Adds details such as the HTTP Method, User Agent, Subject, and other\n  information to the logging output of both the reverse proxy and the decision\n  API.\n- Health endpoints now emit TRACE logs\n  ([#314](https://github.com/ory/oathkeeper/issues/314))\n  ([9036f8e](https://github.com/ory/oathkeeper/commit/9036f8eec3f264f7bcae46b44286367b8521802a)),\n  closes [#283](https://github.com/ory/oathkeeper/issues/283):\n  Remove health endpoints from the logs to make monitoring easier. Setting\n  `log_level` to `trace` will show these calls.\n- Improve session endpoint debugability\n  ([#315](https://github.com/ory/oathkeeper/issues/315))\n  ([2718639](https://github.com/ory/oathkeeper/commit/27186396ccff4ee3a7f8f0a4c703263fcc55afae)),\n  closes [#300](https://github.com/ory/oathkeeper/issues/300)\n- Resolve matcher cache ([#313](https://github.com/ory/oathkeeper/issues/313))\n  ([1519632](https://github.com/ory/oathkeeper/commit/15196326d2436c2d849d955bf5050766ae6dff0c)),\n  closes [#291](https://github.com/ory/oathkeeper/issues/291):\n  A bug caused the rule matcher to not cache the regular expression result.\n- Use bearer splitting when header is set to Authorization\n  ([#311](https://github.com/ory/oathkeeper/issues/311))\n  ([464fa31](https://github.com/ory/oathkeeper/commit/464fa319e84953835b71e16360bab3016b8bfc64)),\n  closes [#308](https://github.com/ory/oathkeeper/issues/308)\n\n# [0.33.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.32.1-beta.1...v0.33.0-beta.1) (2019-12-16)\n\npipeline/mutator: Refactor hydrator retry config (#287)\n\n### Documentation\n\n- Incorporates changes from version v0.32.1-beta.1 [ci skip]\n  ([98c9bf8](https://github.com/ory/oathkeeper/commit/98c9bf8c92e068bac2f0e9148fd9fc357aadd78f))\n- Incorporates changes from version v0.32.1-beta.1-5-gf028719 [ci skip]\n  ([9f9c00c](https://github.com/ory/oathkeeper/commit/9f9c00cba904da0cdee4d97f5e3cad48160d75a0))\n\n### Unclassified\n\n- pipeline/mutator: Refactor hydrator retry config (#287)\n  ([2a97e05](https://github.com/ory/oathkeeper/commit/2a97e051a98da588aa8125bc0c6681e2d39c48ef)),\n  closes [#287](https://github.com/ory/oathkeeper/issues/287)\n- Update README banner (#307)\n  ([f028719](https://github.com/ory/oathkeeper/commit/f028719f054e314045f9830c016bfbde5bf04110)),\n  closes [#307](https://github.com/ory/oathkeeper/issues/307)\n- Add cookie as an option for oauth2_introspection authenticator (#301)\n  ([e3fa55a](https://github.com/ory/oathkeeper/commit/e3fa55a77f020fcdb55a8b363b2196570f080d16)),\n  closes [#301](https://github.com/ory/oathkeeper/issues/301)\n- Add preserve_path option for cookie session to not override the path in the\n  request (#297)\n  ([7e86b78](https://github.com/ory/oathkeeper/commit/7e86b78355447cfbbfd83d04dcc2bf7c942dfc67)),\n  closes [#297](https://github.com/ory/oathkeeper/issues/297)\n- Allow specifying additional headers for the oauth introspection request (#302)\n  ([b1e5cea](https://github.com/ory/oathkeeper/commit/b1e5cea5245c07142b6b34f2660ed41e6239b79f)),\n  closes [#302](https://github.com/ory/oathkeeper/issues/302)\n\n# [0.32.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.32.0-beta.1...v0.32.1-beta.1) (2019-10-30)\n\ndocs: Incorporates changes from version v0.32.0-beta.1-13-g1910bbe [ci skip]\n\n### Documentation\n\n- Add notes for 0.32.0\n  ([40e3b89](https://github.com/ory/oathkeeper/commit/40e3b891b99a41bee4b7be1a2cf7463bfb64f8db))\n- Incorporates changes from version v0.32.0-beta.1 [ci skip]\n  ([f3a0e53](https://github.com/ory/oathkeeper/commit/f3a0e53762d31a1f7155ef75f08d7853aa6ec524))\n- Incorporates changes from version v0.32.0-beta.1-11-g7892d2f [ci skip]\n  ([c41ecd4](https://github.com/ory/oathkeeper/commit/c41ecd4cbb23abc6b4264596ddd7881bf3c81845))\n- Incorporates changes from version v0.32.0-beta.1-13-g1910bbe [ci skip]\n  ([d45e1a0](https://github.com/ory/oathkeeper/commit/d45e1a0e9507dc87f3681bc05b125ceb237b2713))\n- Incorporates changes from version v0.32.0-beta.1-3-g8cf6868 [ci skip]\n  ([2c8fbf7](https://github.com/ory/oathkeeper/commit/2c8fbf7a2f74455690bcca4426bfff430e3068f4))\n- Incorporates changes from version v0.32.0-beta.1-9-g08d42da [ci skip]\n  ([6ce3344](https://github.com/ory/oathkeeper/commit/6ce33442285c18b9a31103d32e095d9dad12228c))\n\n### Unclassified\n\n- pipeline/authz: Add Content-Type header in the call to Keto (#290)\n  ([1910bbe](https://github.com/ory/oathkeeper/commit/1910bbedc215c2b18c018cf9a5d5f86b6b3411c3)),\n  closes [#290](https://github.com/ory/oathkeeper/issues/290)\n- Revert incorrect license changes\n  ([7892d2f](https://github.com/ory/oathkeeper/commit/7892d2f4024525c5e3f20e6237b18d0fbe36200d))\n- Revert readme changes to last working version\n  ([08d42da](https://github.com/ory/oathkeeper/commit/08d42dac81a8d71f3b7ab926a8b09abe7b305b5e))\n- Remove obsolete section from README\n  ([aa8deef](https://github.com/ory/oathkeeper/commit/aa8deefc02848a4c90bf06365b7a37d71eb9c72f))\n- Fix broken readme headlines\n  ([2e8109a](https://github.com/ory/oathkeeper/commit/2e8109a4fa1b53e83e86897de6890c910d4b77ff))\n- Auto-kill test runner after 10 retries (#286)\n  ([eaad598](https://github.com/ory/oathkeeper/commit/eaad59866349bebdeaed72e068a9ce6752b25cef)),\n  closes [#286](https://github.com/ory/oathkeeper/issues/286)\n- Update ory/x/viperx dependency\n  ([#285](https://github.com/ory/oathkeeper/issues/285))\n  ([0ef3bce](https://github.com/ory/oathkeeper/commit/0ef3bce92a3c17a6cffc794f2b08859f0852ee5d)),\n  closes [#276](https://github.com/ory/oathkeeper/issues/276)\n  [#270](https://github.com/ory/oathkeeper/issues/270)\n  [#279](https://github.com/ory/oathkeeper/issues/279)\n  [#280](https://github.com/ory/oathkeeper/issues/280):\n  This patch automatically binds environment variables to configuration keys.\n  This patch resolves several issues:\n- Dereference config schema and resolve issues (#282)\n  ([8cf6868](https://github.com/ory/oathkeeper/commit/8cf6868b3e925e686769d43c912d5e52c6589a9b)),\n  closes [#282](https://github.com/ory/oathkeeper/issues/282)\n  [ory/docs#217](https://github.com/ory/docs/issues/217)\n  [#234](https://github.com/ory/oathkeeper/issues/234)\n  [#281](https://github.com/ory/oathkeeper/issues/281)\n\n# [0.32.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.31.0-beta.1...v0.32.0-beta.1) (2019-10-20)\n\ndocs: Incorporates changes from version v0.31.0-beta.1 [ci skip]\n\n### Documentation\n\n- Incorporates changes from version v0.31.0-beta.1 [ci skip]\n  ([dafc870](https://github.com/ory/oathkeeper/commit/dafc870943720f04f5ac06a139bf5e126a83afa8))\n\n# [0.31.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.19.0-beta.1...v0.31.0-beta.1) (2019-10-20)\n\ndocs: Incorporates changes from version v0.30.0-beta.1 [ci skip]\n\n### Documentation\n\n- Incorporates changes from version v0.19.1-beta.1-2-g41869a9 [ci skip]\n  ([a44846b](https://github.com/ory/oathkeeper/commit/a44846b1e6c8cbdb76162b3128c2aa4ff79d3375))\n- Incorporates changes from version v0.20.0-beta.1 [ci skip]\n  ([aaf801b](https://github.com/ory/oathkeeper/commit/aaf801bb1cebe9d4a6c5062b5a0e10c9737b091b))\n- Incorporates changes from version v0.30.0-beta.1 [ci skip]\n  ([ebd198a](https://github.com/ory/oathkeeper/commit/ebd198a908bcbc77f734e93a181209fec66e7736))\n\n### Unclassified\n\n- pipeline/authn: Add token_from config to introspection and jwt (#271)\n  ([fc85ac8](https://github.com/ory/oathkeeper/commit/fc85ac854c3fb4cdd96bbae650f7355400431eac)),\n  closes [#271](https://github.com/ory/oathkeeper/issues/271)\n  [#257](https://github.com/ory/oathkeeper/issues/257):\n  Add additional optional configuration to jwt and oauth2_introspection\n  authenticators allowing to set from where (which header or query parameter)\n  the token should be received. The configuration is a token_from field in\n  per-rule-configuration, as described in a linked issue.\n- Add migration capabilities\n  ([#268](https://github.com/ory/oathkeeper/issues/268))\n  ([bc74e72](https://github.com/ory/oathkeeper/commit/bc74e726712c77955d2013979770c2724af17f20)),\n  closes [#266](https://github.com/ory/oathkeeper/issues/266):\n  Adds the ability to modify rules with backwards compatibility.\n- Force auth style in oauth2 client credentials authn\n  ([#267](https://github.com/ory/oathkeeper/issues/267))\n  ([97d7890](https://github.com/ory/oathkeeper/commit/97d789097b47b50117421f8f4ebd32182de4195c)),\n  closes [#260](https://github.com/ory/oathkeeper/issues/260)\n- Update UPGRADE.md\n  ([4e4bd93](https://github.com/ory/oathkeeper/commit/4e4bd93695a14b453a895fd2c20eca416307dcee))\n- Update upgrade instructions\n  ([7483d1c](https://github.com/ory/oathkeeper/commit/7483d1cf9344058ddc12efabdb00f5b5b8b41f48))\n- Change error code from 403 to 401\n  ([#259](https://github.com/ory/oathkeeper/issues/259))\n  ([c17e564](https://github.com/ory/oathkeeper/commit/c17e564cc2427a0ab1f7d2eb2d2b7cb95e34f88b)),\n  closes [#256](https://github.com/ory/oathkeeper/issues/256)\n\n# [0.19.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.18.0-beta.1...v0.19.0-beta.1) (2019-09-23)\n\nFix id_token schema reference URL\n\n### Unclassified\n\n- Fix id_token schema reference URL\n  ([72a2333](https://github.com/ory/oathkeeper/commit/72a23333d67f01d2474603f6ba9e5b1e97605a95))\n- Resolve broken tests (#262)\n  ([bc67cc1](https://github.com/ory/oathkeeper/commit/bc67cc18b4e32331f86bc8b10f1947a812be6b7e)),\n  closes [#262](https://github.com/ory/oathkeeper/issues/262)\n- Homogenize configuration management (#258)\n  ([89709aa](https://github.com/ory/oathkeeper/commit/89709aabfe002fc5ae2e76016fc45a13d74f3d8b)),\n  closes [#258](https://github.com/ory/oathkeeper/issues/258)\n- Fix #250: Ignore query parameters to build payload for Keto engine (#251)\n  ([d0fc7f4](https://github.com/ory/oathkeeper/commit/d0fc7f4c6a9377ff3f2466d5860c12247202e646)),\n  closes [#250](https://github.com/ory/oathkeeper/issues/250)\n  [#251](https://github.com/ory/oathkeeper/issues/251)\n\n# [0.18.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.4-beta.1...v0.18.0-beta.1) (2019-08-22)\n\nmutator/id_token: Add claim templating (#246)\n\n### Documentation\n\n- Incorporates changes from version v0.17.4-beta.1\n  ([370eb37](https://github.com/ory/oathkeeper/commit/370eb3745630631e96ff6c0de61ab86b2832a3f5))\n- Incorporates changes from version v0.17.5-beta.1\n  ([f7beddc](https://github.com/ory/oathkeeper/commit/f7beddccfcc0bfb52805382278758e347cc1dc2c))\n- Updates issue and pull request templates\n  ([#237](https://github.com/ory/oathkeeper/issues/237))\n  ([6181ee5](https://github.com/ory/oathkeeper/commit/6181ee5c14fbcc1b3b844d9f301a5df90dcf6a8b))\n- Updates issue and pull request templates\n  ([#238](https://github.com/ory/oathkeeper/issues/238))\n  ([6f83cda](https://github.com/ory/oathkeeper/commit/6f83cda6ce855ed09ec3f553eaaf644e0d853634))\n- Updates issue and pull request templates\n  ([#239](https://github.com/ory/oathkeeper/issues/239))\n  ([2e0b3ef](https://github.com/ory/oathkeeper/commit/2e0b3ef28bf3b2e8c6225d5e407a3f9b1487ccea))\n- Updates issue and pull request templates\n  ([#245](https://github.com/ory/oathkeeper/issues/245))\n  ([f140837](https://github.com/ory/oathkeeper/commit/f140837a7181f3e2c0a209e6dd47a534be08c1f8))\n\n### Unclassified\n\n- mutator/id_token: Add claim templating (#246)\n  ([591f524](https://github.com/ory/oathkeeper/commit/591f5249f3d8ba314cf7e914926bfbd0300e7589)),\n  closes [#246](https://github.com/ory/oathkeeper/issues/246)\n- Add mutator for modifying authenticationSession with external API (#240)\n  ([b38b0f4](https://github.com/ory/oathkeeper/commit/b38b0f4d4cd5148ebe0858558f410b4f0c367be1)),\n  closes [#240](https://github.com/ory/oathkeeper/issues/240)\n- Support multiple mutators per access rule (#233)\n  ([d21179d](https://github.com/ory/oathkeeper/commit/d21179dd25543662075be402f6e24e1ee20d2754)),\n  closes [#233](https://github.com/ory/oathkeeper/issues/233)\n  [#233](https://github.com/ory/oathkeeper/issues/233)\n- Add adopters placeholder\n  ([#236](https://github.com/ory/oathkeeper/issues/236))\n  ([302c7b8](https://github.com/ory/oathkeeper/commit/302c7b8cec0479db2735440ef336c11ca92675ff))\n\n# [0.17.4-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.3-beta.1...v0.17.4-beta.1) (2019-08-09)\n\nAdd sprig template library (#235)\n\n### Documentation\n\n- Incorporates changes from version v0.17.3-beta.1\n  ([b271ff2](https://github.com/ory/oathkeeper/commit/b271ff21644f9e3fd0605cc50978d0c5e2e883e3))\n- Updates issue and pull request templates\n  ([#232](https://github.com/ory/oathkeeper/issues/232))\n  ([00c08ba](https://github.com/ory/oathkeeper/commit/00c08ba9c4d2ce6b910b151d79eaccbf6d9c0710))\n\n### Unclassified\n\n- Add sprig template library (#235)\n  ([c85c540](https://github.com/ory/oathkeeper/commit/c85c5400000f1c534b99db292273f71c427d368e)),\n  closes [#235](https://github.com/ory/oathkeeper/issues/235)\n\n# [0.17.3-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.2-beta.1...v0.17.3-beta.1) (2019-08-03)\n\nrule: Resolve k8s configmap reload issue (#231)\n\n### Documentation\n\n- Incorporates changes from version v0.17.2-beta.1\n  ([e652c3f](https://github.com/ory/oathkeeper/commit/e652c3fac276f73278ac8e3bf4a75b3789420da7))\n\n### Unclassified\n\n- Resolve k8s configmap reload issue\n  ([#231](https://github.com/ory/oathkeeper/issues/231))\n  ([c04547e](https://github.com/ory/oathkeeper/commit/c04547e7bda2396c997252dd7ca3e588897b7779))\n- Move back to scratch Docker image\n  ([3fa8a50](https://github.com/ory/oathkeeper/commit/3fa8a5078759869c3a3a0521f17b80f246fdd7f4))\n\n# [0.17.2-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.1-beta.1...v0.17.2-beta.1) (2019-08-02)\n\nrules: Support kubernetes configmap reloading (#230)\n\n### Documentation\n\n- Incorporates changes from version v0.17.1-beta.1\n  ([64d180f](https://github.com/ory/oathkeeper/commit/64d180fd7f41febd4f15a35bd8ee625adc854256))\n- Updates issue and pull request templates\n  ([#226](https://github.com/ory/oathkeeper/issues/226))\n  ([007d491](https://github.com/ory/oathkeeper/commit/007d491dfd204b4dcf175906319db667b10fff1e))\n\n### Unclassified\n\n- Support kubernetes configmap reloading\n  ([#230](https://github.com/ory/oathkeeper/issues/230))\n  ([92b769b](https://github.com/ory/oathkeeper/commit/92b769bfdf4d5fd7902e1b5ae1dc63d11de4e0f1))\n\n# [0.17.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.0-beta.1...v0.17.1-beta.1) (2019-07-23)\n\nrule: Fix panic on send on closed channel (#225)\n\nCloses #224\n\n### Documentation\n\n- Incorporates changes from version v0.17.0-beta.1\n  ([8f4a518](https://github.com/ory/oathkeeper/commit/8f4a51808f4614a666fdaa0043b73105a55af54d))\n\n### Unclassified\n\n- Fix panic on send on closed channel\n  ([#225](https://github.com/ory/oathkeeper/issues/225))\n  ([2112ab6](https://github.com/ory/oathkeeper/commit/2112ab6b325aef71963de9d448dbf15ce09bd5fe)),\n  closes [#224](https://github.com/ory/oathkeeper/issues/224)\n\n# [0.17.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.16.0-beta.5...v0.17.0-beta.1) (2019-07-18)\n\nci: Automate schema confiugration sync\n\n### Continuous Integration\n\n- Automate schema confiugration sync\n  ([94bcc4f](https://github.com/ory/oathkeeper/commit/94bcc4f611a3d0d5112fb44b7a20f2afc70bb760))\n\n### Documentation\n\n- Incorporates changes from version v0.16.0-beta.5\n  ([a8afc3b](https://github.com/ory/oathkeeper/commit/a8afc3b559905d8807519e3ed04fd39a654fa73d))\n- Update upgrade guide\n  ([a8ccb05](https://github.com/ory/oathkeeper/commit/a8ccb0541f9f0e8b707b418bb6698ed18bdadf0b))\n- Update upgrade guide\n  ([f727efe](https://github.com/ory/oathkeeper/commit/f727efe438bafbfb8f404ae1dd98b062d1ad804b))\n\n### Unclassified\n\n- Fix broken reload tests\n  ([d6059b7](https://github.com/ory/oathkeeper/commit/d6059b711aa921fd012ce71eb11e370f174596f6))\n- Remove useless function\n  ([3521a3d](https://github.com/ory/oathkeeper/commit/3521a3d9a606b92c7bf9c74828185934b2cba9c5))\n- Validate configuration with JSON Schema\n  ([997427d](https://github.com/ory/oathkeeper/commit/997427dc03c7efee476f145677b73a42bbc63c89))\n- Do not fatal when immutable value is changed\n  ([717d7f7](https://github.com/ory/oathkeeper/commit/717d7f748abe61014653f3c6519c4aef019d1969))\n- Watch configuration and access rule changes (#217)\n  ([a078e89](https://github.com/ory/oathkeeper/commit/a078e891e2fe97bdb6ce8a2264f629a179c9116e)),\n  closes [#217](https://github.com/ory/oathkeeper/issues/217):\n  This patch allows oathkeeper to re-load any changes made to the configuraiton\n  file and/or the access rules to be reloaded without a restart.\n  Some configuration keys like serve._, log._, profiling however require a\n  restart.\n- Create FUNDING.yml\n  ([d7da8e2](https://github.com/ory/oathkeeper/commit/d7da8e296205e183140c18ba3cc6269334476a2b))\n- Add support for rules in YAML format (#213)\n  ([67face6](https://github.com/ory/oathkeeper/commit/67face611b9f19ed9b6606931c9b7a82df769154)),\n  closes [#213](https://github.com/ory/oathkeeper/issues/213):\n  This commit adds support for defining access rules in YAML format, in addition\n  to existing JSON format.\n\n# [0.16.0-beta.5](https://github.com/ory/oathkeeper/compare/v0.16.0-beta.4...v0.16.0-beta.5) (2019-06-28)\n\nauthenticator: Add cookie session authenticator (#211)\n\n### Documentation\n\n- Incorporates changes from version v0.16.0-beta.4\n  ([1e03ee2](https://github.com/ory/oathkeeper/commit/1e03ee24b466b01fe4f81e5a4fda8ab42f9a0615))\n\n### Unclassified\n\n- Add cookie session authenticator\n  ([#211](https://github.com/ory/oathkeeper/issues/211))\n  ([f8a66b7](https://github.com/ory/oathkeeper/commit/f8a66b77f99420fa4ac6693967af1906ae962489))\n- Add description into the name of subtest (#212)\n  ([230c332](https://github.com/ory/oathkeeper/commit/230c332f5972e2bbf5a81a31c4ceafdfbf541d75)),\n  closes [#212](https://github.com/ory/oathkeeper/issues/212)\n- Use non-root user in image\n  ([#209](https://github.com/ory/oathkeeper/issues/209))\n  ([2215126](https://github.com/ory/oathkeeper/commit/221512635125eb61943f6dfd93b69defa61d9ce3))\n- Remove binary license (#208)\n  ([3460d65](https://github.com/ory/oathkeeper/commit/3460d65249783ea1eb6558fbe75cec4c72105f5c)),\n  closes [#208](https://github.com/ory/oathkeeper/issues/208)\n- Update config.yaml (#204)\n  ([effe9c0](https://github.com/ory/oathkeeper/commit/effe9c025c3a25edf88bc3791ec27cb01e128a1a)),\n  closes [#204](https://github.com/ory/oathkeeper/issues/204):\n  There's no DSN in oathkeeper\n\n# [0.16.0-beta.4](https://github.com/ory/oathkeeper/compare/v0.16.0-beta.3...v0.16.0-beta.4) (2019-05-28)\n\nserver: Properly declare negroni middleware (#200)\n\nPreviously, negroni.With was mistakenly used to add middleware onto the stack.\nThe proper method however is negroni.Use.\n\nThis patch fixes the use of negroni.With and resolves issues around logging and\nthe decisions endpoint.\n\nCloses #199\n\n### Documentation\n\n- Incorporates changes from version v0.16.0-beta.3\n  ([d777ecf](https://github.com/ory/oathkeeper/commit/d777ecf59192d14a432a024d5a3451b47f6cff4e))\n- Updates issue and pull request templates\n  ([#196](https://github.com/ory/oathkeeper/issues/196))\n  ([74fa27b](https://github.com/ory/oathkeeper/commit/74fa27ba9b110d8b4bd8afe09d77c5c602187a5c))\n- Updates issue and pull request templates\n  ([#197](https://github.com/ory/oathkeeper/issues/197))\n  ([31d057c](https://github.com/ory/oathkeeper/commit/31d057cf37816fb20436f464f96ee2c5fd32d7e7))\n- Updates issue and pull request templates\n  ([#198](https://github.com/ory/oathkeeper/issues/198))\n  ([244810a](https://github.com/ory/oathkeeper/commit/244810aabfc2259e756963791855cde1006fe16f))\n\n### Unclassified\n\n- Properly declare negroni middleware\n  ([#200](https://github.com/ory/oathkeeper/issues/200))\n  ([9d3dc54](https://github.com/ory/oathkeeper/commit/9d3dc54e1350fa74fb126cc4761462e83d86548f)),\n  closes [#199](https://github.com/ory/oathkeeper/issues/199):\n  Previously, negroni.With was mistakenly used to add middleware onto the stack.\n  The proper method however is negroni.Use.\n  This patch fixes the use of negroni.With and resolves issues around logging\n  and the decisions endpoint.\n\n# [0.16.0-beta.3](https://github.com/ory/oathkeeper/compare/v0.15.2...v0.16.0-beta.3) (2019-05-19)\n\nci: Use golang for docs task\n\n### Continuous Integration\n\n- Use golang for docs task\n  ([b120c72](https://github.com/ory/oathkeeper/commit/b120c7214d7f11441b0cec7a34517b4403226f5f))\n\n### Documentation\n\n- Incorporates changes from version v0.15.2\n  ([7ceabe9](https://github.com/ory/oathkeeper/commit/7ceabe98498e1dd9f8c3c452f5d0f9ab366a3c07))\n- Rename config.yml -> config.yaml\n  ([4faecbe](https://github.com/ory/oathkeeper/commit/4faecbea5683e18522697f5c2b1ccc76fbf4c762))\n- Updates issue and pull request templates\n  ([#189](https://github.com/ory/oathkeeper/issues/189))\n  ([367a48d](https://github.com/ory/oathkeeper/commit/367a48dba6693db44a17179dcf0f0e7c624be7a7))\n\n### Unclassified\n\n- Reduce deployment complexity and refactor internals (#185)\n  ([6b509ad](https://github.com/ory/oathkeeper/commit/6b509ad5e3ce109521de80540bd0c762b7ecd8d2)),\n  closes [#185](https://github.com/ory/oathkeeper/issues/185)\n  [#178](https://github.com/ory/oathkeeper/issues/178)\n  [#177](https://github.com/ory/oathkeeper/issues/177)\n  [#174](https://github.com/ory/oathkeeper/issues/174)\n  [#168](https://github.com/ory/oathkeeper/issues/168)\n  [#164](https://github.com/ory/oathkeeper/issues/164)\n  [#141](https://github.com/ory/oathkeeper/issues/141)\n  [#140](https://github.com/ory/oathkeeper/issues/140)\n  [#136](https://github.com/ory/oathkeeper/issues/136)\n  [#122](https://github.com/ory/oathkeeper/issues/122)\n- Resolve issue with install.sh script (#187)\n  ([d31d5be](https://github.com/ory/oathkeeper/commit/d31d5bea5085355960cc051c4bb6b6232a77ac75)),\n  closes [#187](https://github.com/ory/oathkeeper/issues/187)\n\n# [0.15.2](https://github.com/ory/oathkeeper/compare/v0.15.1...v0.15.2) (2019-05-04)\n\ncmd/client: Use json rawmessage for arbtrary payloads (#184)\n\nCloses #182\n\nSigned-off-by: Stanislav Zapolsky <stszap@gmail.com>\n\n### Documentation\n\n- Incorporates changes from version v0.15.1\n  ([5c34958](https://github.com/ory/oathkeeper/commit/5c34958ff00a56f9a5784bfb01b6b200fcbd91d1))\n\n### Unclassified\n\n- cmd/client: Use json rawmessage for arbtrary payloads (#184)\n  ([a55e4d1](https://github.com/ory/oathkeeper/commit/a55e4d1267dcb2975a5e4b4ab4248bdf7adc00b0)),\n  closes [#184](https://github.com/ory/oathkeeper/issues/184)\n  [#182](https://github.com/ory/oathkeeper/issues/182)\n\n# [0.15.1](https://github.com/ory/oathkeeper/compare/v0.15.0...v0.15.1) (2019-04-29)\n\nvendor: Add go.sum (#180)\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n### Unclassified\n\n- Add go.sum ([#180](https://github.com/ory/oathkeeper/issues/180))\n  ([fc261f0](https://github.com/ory/oathkeeper/commit/fc261f0a340b3bcca56519c2da3042e614f8b6a3))\n\n# [0.15.0](https://github.com/ory/oathkeeper/compare/v0.14.2+oryOS.10...v0.15.0) (2019-04-29)\n\ndocker: Remove full tag from build pipeline (#179)\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n### Documentation\n\n- Incorporates changes from version v0.0.0-testrelease.3\n  ([44649b6](https://github.com/ory/oathkeeper/commit/44649b6302057cb64c9585b862043fe4568d4432))\n- Incorporates changes from version v0.14.2+oryOS.10\n  ([2d9899a](https://github.com/ory/oathkeeper/commit/2d9899a38b927ff367931c024a10bfdc3230e9a3))\n- Update patrons\n  ([f423666](https://github.com/ory/oathkeeper/commit/f423666df6e067ed563a853c3187afb1859dc36c))\n- Update README building-from-source part with the gomodule way\n  ([#152](https://github.com/ory/oathkeeper/issues/152))\n  ([9d653f5](https://github.com/ory/oathkeeper/commit/9d653f5364cfabdd03a6a39b0883d70b9783fb01)),\n  closes [#149](https://github.com/ory/oathkeeper/issues/149)\n\n### Unclassified\n\n- Remove full tag from build pipeline\n  ([#179](https://github.com/ory/oathkeeper/issues/179))\n  ([e2edbf8](https://github.com/ory/oathkeeper/commit/e2edbf8628fd7592730dbb320760e514982e049d))\n- Remove sdk dependencies to keto/hydra\n  ([#173](https://github.com/ory/oathkeeper/issues/173))\n  ([b538e3c](https://github.com/ory/oathkeeper/commit/b538e3c8fdd52be1e61ed88502fce1de7737d4a9)):\n  This patch replaces code-generated SDKs with raw http.Client calls which\n  reduces dependencies and makes future changes to the keto/hydra SDK easier to\n  adopt to.\n- Update CHANGELOG.md\n  ([cbccbe2](https://github.com/ory/oathkeeper/commit/cbccbe2f4786f90208dfa93a8b8b47027ca11548))\n- Ensure rule matcher is locked before updating\n  ([#159](https://github.com/ory/oathkeeper/issues/159))\n  ([6fb7151](https://github.com/ory/oathkeeper/commit/6fb715161370382b384ab2e0cb7ec64ca425f16a)):\n  Lock CachedMatcher before rules are updated when HTTPMatcher refreshes to\n  avoid concurrent map iteration and map write errors.\n- Improve debugability of JWT authenticator\n  ([#156](https://github.com/ory/oathkeeper/issues/156))\n  ([8441bd5](https://github.com/ory/oathkeeper/commit/8441bd52dc567de04b8b4eb9b4655aaf45b90f03))\n- Move to go-swagger SDK code generation\n  ([#170](https://github.com/ory/oathkeeper/issues/170))\n  ([38c52a3](https://github.com/ory/oathkeeper/commit/38c52a3cc3a24b1d77d7f07d012be561d018b5ec)),\n  closes [#165](https://github.com/ory/oathkeeper/issues/165)\n- Remove vendored dependencies after sdk generation\n  ([7c33ca8](https://github.com/ory/oathkeeper/commit/7c33ca89781a225ab43b4d663b30c154a24a7e0a))\n- Set request headers for credential issuers\n  ([#169](https://github.com/ory/oathkeeper/issues/169))\n  ([4fc579c](https://github.com/ory/oathkeeper/commit/4fc579cd677b71f6083fd3edaad741a7979e629a)),\n  closes [#120](https://github.com/ory/oathkeeper/issues/120)\n  [#133](https://github.com/ory/oathkeeper/issues/133)\n- Update Dockerfile build instructions\n  ([ec40cc4](https://github.com/ory/oathkeeper/commit/ec40cc4cfa1716adff9cb4cd8c604aa6f4aa9e91))\n- Upgrade dependencies ([#163](https://github.com/ory/oathkeeper/issues/163))\n  ([f9fdefb](https://github.com/ory/oathkeeper/commit/f9fdefb5dfe9dbff38f0ae96f82e42fea24d1c93))\n- Use scp,scope,scopes in jwt authenticator\n  ([#162](https://github.com/ory/oathkeeper/issues/162))\n  ([eebc2f4](https://github.com/ory/oathkeeper/commit/eebc2f44e3e42b7af653f91d9345111e0a280401)),\n  closes [#138](https://github.com/ory/oathkeeper/issues/138):\n  Previously, the JWT authenticator only used the \"scope\" claim to retrieve\n  scope values from a JWT. Now, \"scp\", \"scope\", \"scopes\" are supported as string\n  arrays and strings separated by spaces.\n\n# [0.14.2+oryOS.10](https://github.com/ory/oathkeeper/compare/v0.14.1+oryOS.10...v0.14.2+oryOS.10) (2018-12-13)\n\nci: Fix docker push arguments in publish task\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n### Continuous Integration\n\n- Fix docker push arguments in publish task\n  ([62415a1](https://github.com/ory/oathkeeper/commit/62415a1c36f6a335f02adf272cb0e50eb1691f89))\n\n# [0.14.1+oryOS.10](https://github.com/ory/oathkeeper/compare/v0.14.0+oryOS.10...v0.14.1+oryOS.10) (2018-12-13)\n\nci: Fix docker release task\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n### Continuous Integration\n\n- Fix docker release task\n  ([893385b](https://github.com/ory/oathkeeper/commit/893385b10f26ffd9933f4d66c4187ca59d2f3f47))\n\n# [0.14.0+oryOS.10](https://github.com/ory/oathkeeper/compare/v0.11.12...v0.14.0+oryOS.10) (2018-12-13)\n\nci: Fix circle misconfiguration\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n### Continuous Integration\n\n- Fix circle misconfiguration\n  ([a00ce64](https://github.com/ory/oathkeeper/commit/a00ce64e0bf5890192808f0edb1879caaa811742))\n\n### Documentation\n\n- Adds gh templates & code of conduct\n  ([#78](https://github.com/ory/oathkeeper/issues/78))\n  ([02361aa](https://github.com/ory/oathkeeper/commit/02361aa7a3499c78b480ca43cf29636a17391215))\n- Adds link to examples repository\n  ([#79](https://github.com/ory/oathkeeper/issues/79))\n  ([bfe96e9](https://github.com/ory/oathkeeper/commit/bfe96e9a47b1c49be631f5286ed05d4377fba684))\n- Align changelog, upgrade with new versions\n  ([#143](https://github.com/ory/oathkeeper/issues/143))\n  ([751dfa3](https://github.com/ory/oathkeeper/commit/751dfa3abacb122f0b5599800025366dec7d9b5c))\n- Clarify beyondcorp\n  ([3647958](https://github.com/ory/oathkeeper/commit/3647958a415bd4c1abb106d0a765f2186e54ad60))\n- Clarify breaking change policy\n  ([6e6bb7e](https://github.com/ory/oathkeeper/commit/6e6bb7e42ad8e84eb4cf5b8dfd3b27845748cbc0))\n- Fix broken link ([#87](https://github.com/ory/oathkeeper/issues/87))\n  ([828b33e](https://github.com/ory/oathkeeper/commit/828b33e94d2fadb0b371d5ae326a6dac855047a6))\n- Fix proxy help command description\n  ([#142](https://github.com/ory/oathkeeper/issues/142))\n  ([c836cb0](https://github.com/ory/oathkeeper/commit/c836cb0e1785bc4da602b1c820a6d6a54e7043e0))\n- Fix typo in README. ([#118](https://github.com/ory/oathkeeper/issues/118))\n  ([3d33fcc](https://github.com/ory/oathkeeper/commit/3d33fcc85b248a7f0f9f7d1295459b5541927d81))\n- Grammatical fix in stability sentence\n  ([#86](https://github.com/ory/oathkeeper/issues/86))\n  ([ff0604d](https://github.com/ory/oathkeeper/commit/ff0604df82361b2f6dee6f2945a03b2b6b117056))\n- Improve some docs and update SDK\n  ([#135](https://github.com/ory/oathkeeper/issues/135))\n  ([9a6901d](https://github.com/ory/oathkeeper/commit/9a6901dc52b3ae9a1aabf692903b1d4922869308))\n- Incorporates changes from version v0.11.12-1-gace7f34\n  ([3a6450c](https://github.com/ory/oathkeeper/commit/3a6450c89b335465cf5bd3aa87e64a0e11eeefc3))\n- Incorporates changes from version v0.11.12-10-g57ac174\n  ([c594b7e](https://github.com/ory/oathkeeper/commit/c594b7e91e71f8fa4d2532667a5ab3eae49d53bf))\n- Incorporates changes from version v0.11.12-13-gd00dfed\n  ([7c221fa](https://github.com/ory/oathkeeper/commit/7c221fa7d67c382f0277dc0fb94d0529dabe8ac2))\n- Incorporates changes from version v0.11.12-15-g6604045\n  ([2a594f4](https://github.com/ory/oathkeeper/commit/2a594f416a1dbf9391b543efbbdc6004a58524d0))\n- Incorporates changes from version v0.11.12-3-g7acfbca\n  ([ac34a58](https://github.com/ory/oathkeeper/commit/ac34a58a4444e09a36c74ed23730dbc41cd656be))\n- Incorporates changes from version v0.11.12-6-g181e9ac\n  ([01dda53](https://github.com/ory/oathkeeper/commit/01dda53f32ec7a1bfa9d43cc4df2a8778f5b8cc7))\n- Incorporates changes from version v1.0.0-beta.1\n  ([788e96b](https://github.com/ory/oathkeeper/commit/788e96b65dbb9765839f4f1e1e1a79cb401652b6))\n- Incorporates changes from version v1.0.0-beta.2-1-gd6eb440\n  ([579f7a7](https://github.com/ory/oathkeeper/commit/579f7a7c3c71b3a388f01e78e224026bf7c2ca08))\n- Incorporates changes from version v1.0.0-beta.2-10-gef6e889\n  ([38cfb31](https://github.com/ory/oathkeeper/commit/38cfb31f4608320daec4ceab12a51d493db772ed))\n- Incorporates changes from version v1.0.0-beta.2-12-g9b6c0df\n  ([82ac9b2](https://github.com/ory/oathkeeper/commit/82ac9b295c376cdae107fa3646cee9614a2e3410))\n- Incorporates changes from version v1.0.0-beta.2-6-ged2f983\n  ([d9737c8](https://github.com/ory/oathkeeper/commit/d9737c8cc84a43b260c0acd98a5b77cd1082423d))\n- Incorporates changes from version v1.0.0-beta.2-8-g5495d4a\n  ([546828d](https://github.com/ory/oathkeeper/commit/546828df624d959684302ce503b5ac09c2c52cf2))\n- Incorporates changes from version v1.0.0-beta.3-3-g3c0c862\n  ([e1127a8](https://github.com/ory/oathkeeper/commit/e1127a8322e24a366653e149b1d6209ab0b7d6af))\n- Incorporates changes from version v1.0.0-beta.4-1-g643dbea\n  ([5c40f97](https://github.com/ory/oathkeeper/commit/5c40f97ec8c213ba8ed7bb8366204f53f5b9fae1))\n- Incorporates changes from version v1.0.0-beta.4-12-gbfe96e9\n  ([756178a](https://github.com/ory/oathkeeper/commit/756178a18d9d7b2ac9749ab09844e9cf37ccf98c))\n- Incorporates changes from version v1.0.0-beta.4-17-gfa5388c\n  ([3d5df8b](https://github.com/ory/oathkeeper/commit/3d5df8b1162466453234bb4537e9d8538081352c))\n- Incorporates changes from version v1.0.0-beta.4-19-g6d647d7\n  ([b5539f4](https://github.com/ory/oathkeeper/commit/b5539f4157725c0620011f9bd0f8d67ba58741a5))\n- Incorporates changes from version v1.0.0-beta.4-3-g951da25\n  ([8931b39](https://github.com/ory/oathkeeper/commit/8931b39ee0ab2efd0ed38da87c888a33081ad817))\n- Incorporates changes from version v1.0.0-beta.4-5-g83b591d\n  ([4f2c64b](https://github.com/ory/oathkeeper/commit/4f2c64b42d3b4cada98687ad3285b5ba9d3732ee))\n- Incorporates changes from version v1.0.0-beta.4-7-gf450697\n  ([8f904d2](https://github.com/ory/oathkeeper/commit/8f904d22a56410eabe6d9af7f87624a61a7f1a76))\n- Incorporates changes from version v1.0.0-beta.4-9-g02361aa\n  ([5b34e91](https://github.com/ory/oathkeeper/commit/5b34e91cfffeef0787054ab92c0cf944c5653f15))\n- Incorporates changes from version v1.0.0-beta.5-1-g3647958\n  ([2bcfb39](https://github.com/ory/oathkeeper/commit/2bcfb3917118a71247c241ff2a99282a11154ee9))\n- Incorporates changes from version v1.0.0-beta.6-1-gff0604d\n  ([0c69154](https://github.com/ory/oathkeeper/commit/0c69154cffcc6e6a5b3114276c228fd19f0450e7))\n- Incorporates changes from version v1.0.0-beta.6-3-g828b33e\n  ([c53f5b2](https://github.com/ory/oathkeeper/commit/c53f5b2aa40c78e36402679c34bbd9f898a4296a))\n- Incorporates changes from version v1.0.0-beta.8\n  ([92c09fb](https://github.com/ory/oathkeeper/commit/92c09fb28552949cd034ed5555c87dfda91407a3))\n- Incorporates changes from version v1.0.0-beta.9\n  ([b9127f6](https://github.com/ory/oathkeeper/commit/b9127f60de1d96e95310731b88b77b7b443f0d2e))\n- Update documentation links\n  ([#144](https://github.com/ory/oathkeeper/issues/144))\n  ([84131d2](https://github.com/ory/oathkeeper/commit/84131d2201192c92eebcf1f03dd89f417402c985))\n- Update link to security console\n  ([26fdda1](https://github.com/ory/oathkeeper/commit/26fdda126a9b322e5310a2a3a3ed83949f640d2c))\n- Update migration guide\n  ([b2e6d67](https://github.com/ory/oathkeeper/commit/b2e6d6783aa869dad52e30203fa7d2510ae556ef))\n- Updates copyright notice\n  ([e58535d](https://github.com/ory/oathkeeper/commit/e58535d7bdc5f4b6dd8e293741e53cdd8767c61c))\n- Updates issue and pull request templates\n  ([#126](https://github.com/ory/oathkeeper/issues/126))\n  ([5991a92](https://github.com/ory/oathkeeper/commit/5991a922a3fd39bb5704b16116325487b73f2868))\n- Updates issue and pull request templates\n  ([#127](https://github.com/ory/oathkeeper/issues/127))\n  ([e4d0e26](https://github.com/ory/oathkeeper/commit/e4d0e2691618c104c5fe749267a02538bcb35465))\n- Updates link to open collective\n  ([25e0dee](https://github.com/ory/oathkeeper/commit/25e0dee9b0f5ad1d45adc47d0b4e923e045d023f))\n- Updates links to docs\n  ([9dca7c0](https://github.com/ory/oathkeeper/commit/9dca7c0829fc6ac669c621295423e9054989e14f))\n- Updates links to docs\n  ([57ac174](https://github.com/ory/oathkeeper/commit/57ac17475350d713711256e772ffd875772e59b2))\n- Updates newsletter link in README\n  ([97f1dea](https://github.com/ory/oathkeeper/commit/97f1dea021559a43302ffe32e16cd8ee585a0656))\n- Updates readme TOC\n  ([3c0c862](https://github.com/ory/oathkeeper/commit/3c0c8626889f39b223a558e40baf21acc7819f8c))\n- Updates README.md\n  ([1387f9f](https://github.com/ory/oathkeeper/commit/1387f9f2fb57de5c7d23d857575fd54b9bbd824f))\n- Updates TOC\n  ([9b6c0df](https://github.com/ory/oathkeeper/commit/9b6c0dfd8d3548aef356c0d6d700d9805866d22b))\n- Updates upgrade.me\n  ([0118f9f](https://github.com/ory/oathkeeper/commit/0118f9ffbb171876dad21a894f1c99a9c51c6d26))\n\n### Unclassified\n\n- Add ability to configure scope strategy\n  ([519a536](https://github.com/ory/oathkeeper/commit/519a53628696576891196f0ce733353d639e6aec))\n- Add cookies ci to handler factory\n  ([#103](https://github.com/ory/oathkeeper/issues/103))\n  ([59aabfa](https://github.com/ory/oathkeeper/commit/59aabfa4b2554f03f65d618a7d7bf1c98a634da3))\n- Add cookies credentials issuer\n  ([032d88e](https://github.com/ory/oathkeeper/commit/032d88ea8dee24506d277d22b7f4aaef2a502fa7))\n- Add endpoint for answering access requests directly\n  ([d211641](https://github.com/ory/oathkeeper/commit/d2116410edf1f5089427858727f155bc0aa4313c)),\n  closes [#42](https://github.com/ory/oathkeeper/issues/42):\n  This patch adds endpoint `/judge` to `oathkeeper serve api`. The `/judge`\n  endpoint mimics the behavior of `oathkeeper serve proxy` but instead of\n  forwarding the request to the upstream server, the endpoint answers directly\n  with a HTTP response.\n  The HTTP response returns status code 200 if the request should be allowed and\n  any other status code (e.g. 401, 403) if not.\n  Assuming you are making the following request:\n  ```\n  PUT /judge/my-service/whatever HTTP/1.1\n  Host: oathkeeper-api:4456\n  User-Agent: curl/7.54.0\n  Authorization: bearer some-token\n  Accept: */*\n  Content-Type: application/json\n  Content-Length: 0\n  ```\n  And you have a rule which allows token `some-bearer` to access\n  `PUT /my-service/whatever` and you have a credentials issuer which does not\n  modify the Authorization header, the response will be:\n  ```\n  HTTP/1.1 200 OK\n  Authorization: bearer-sometoken\n  Content-Length: 0\n  Connection: Closed\n  ```\n  If the rule denies the request, the response will be, for example:\n  ```\n  HTTP/1.1 401 OK\n  Content-Length: 0\n  Connection: Closed\n  ```\n- Add headers credentials issuer\n  ([b084c32](https://github.com/ory/oathkeeper/commit/b084c3271ab8ca71c9fe766de030572c69057671))\n- Add http proxy timeout config\n  ([#132](https://github.com/ory/oathkeeper/issues/132))\n  ([b3718ce](https://github.com/ory/oathkeeper/commit/b3718ce56d4bcfe4610806ae6b15382226adab75)):\n  Add environment parameters (and description) to configure timeout settings of\n  a server handled proxy requests.\n  It will help prevent a case of unexpected closing a client connection if an\n  upstream request is executing more than default timeout.\n- Add JWT authenticator\n  ([61625bc](https://github.com/ory/oathkeeper/commit/61625bccebe0b478b980c66a29894dc1ffe48b0a))\n- Add NodeJS SDK ([#94](https://github.com/ory/oathkeeper/issues/94))\n  ([7505b71](https://github.com/ory/oathkeeper/commit/7505b717f28aaec38e07999ffe1f417484e110f7))\n- Adds ability to specify db url via env var in migrate\n  ([b2cc5d2](https://github.com/ory/oathkeeper/commit/b2cc5d25d23c88c25e4ef415031030a9229dc593))\n- Adds and improves metrics middleware\n  ([b0dfd97](https://github.com/ory/oathkeeper/commit/b0dfd97fd0d947e35727b0eb4301c4ebbbbf3eb0))\n- Adds log message when telemetry is active\n  ([ed2f983](https://github.com/ory/oathkeeper/commit/ed2f9836c6ff2e496b4cbe300d7cee4f1ce5c12e))\n- Adds validator for rules ([#77](https://github.com/ory/oathkeeper/issues/77))\n  ([f450697](https://github.com/ory/oathkeeper/commit/f45069711b2aa5ed3ace6361a1bc8e9115a76406)):\n  This patch adds an input validator for rules which should prevent accidental\n  typos or similar issues when creating a rule. Additionally, no\n  invalid/unconfigured handlers (authorizers, credential issuers,\n  authenticators) can be used.\n- Align TLS options with hydra\n  ([#114](https://github.com/ory/oathkeeper/issues/114))\n  ([c763152](https://github.com/ory/oathkeeper/commit/c7631528afc1e60ffed61a5b5e101079224e751b))\n- Allow empty upstream in rules\n  ([e46065a](https://github.com/ory/oathkeeper/commit/e46065afa1d6ad14fa62dad9c6b145e46623c7f0))\n- Allow regex in match scheme\n  ([c6d17c5](https://github.com/ory/oathkeeper/commit/c6d17c54c0a23c519a150971faf8486a957b2e82)),\n  closes [#92](https://github.com/ory/oathkeeper/issues/92)\n- Allows connectivity to MySQL\n  ([fa5388c](https://github.com/ory/oathkeeper/commit/fa5388cfc2cd31f0ecee379a6f515bf4cd48961f)),\n  closes [#82](https://github.com/ory/oathkeeper/issues/82)\n- Authenticator noop should not bypass\n  ([6f8ab4f](https://github.com/ory/oathkeeper/commit/6f8ab4f7d676fbcf06d1eeb4ab1452b15f090185)),\n  closes [#97](https://github.com/ory/oathkeeper/issues/97)\n- Convert AuthenticationSession to local struct type for better handling\n  ([b00b2a2](https://github.com/ory/oathkeeper/commit/b00b2a2498b44df5717b757bffbf13b00184bf68))\n- Disable cors per default\n  ([#107](https://github.com/ory/oathkeeper/issues/107))\n  ([c5ab0c3](https://github.com/ory/oathkeeper/commit/c5ab0c3175b336bb8bea3b919cae57c838262ab4)):\n  This patch introduces CORS_ENABLED which defaults to \"false\".\n- Doesn't fatal if no ORY Hydra is unresponsive.\n  ([#66](https://github.com/ory/oathkeeper/issues/66))\n  ([181e9ac](https://github.com/ory/oathkeeper/commit/181e9acf9bdc9adc05e6718df53b7fa1ff539c41)),\n  closes [#65](https://github.com/ory/oathkeeper/issues/65)\n- Enables TLS option on serve api\n  ([#116](https://github.com/ory/oathkeeper/issues/116))\n  ([83f1f84](https://github.com/ory/oathkeeper/commit/83f1f84a42510f2c9a6d72d33f94ff8117b56a7f))\n- Expose all ORY Hydra ports in tests\n  ([691a72d](https://github.com/ory/oathkeeper/commit/691a72d3372d3a949acadf95130ed7d1432dafac))\n- Expose all ORY Hydra ports in tests\n  ([add70c6](https://github.com/ory/oathkeeper/commit/add70c66f0c30848d845e80e94c9065865d65809))\n- Fix checkResponse message typo\n  ([#106](https://github.com/ory/oathkeeper/issues/106))\n  ([0d0e653](https://github.com/ory/oathkeeper/commit/0d0e653e11a7b7415ef76334ebe9c1c0b50e47c8))\n- Ignore query parameters when matching url in rules.\n  ([#139](https://github.com/ory/oathkeeper/issues/139))\n  ([07eb99b](https://github.com/ory/oathkeeper/commit/07eb99bdb669121bcd27559d9f11d0633f5a8877))\n- Improve compatibility with ORY Hydra 1.0.0-beta.8\n  ([#108](https://github.com/ory/oathkeeper/issues/108))\n  ([296e012](https://github.com/ory/oathkeeper/commit/296e01254b50b645fae67e51aa668d39652b0778)),\n  closes [#101](https://github.com/ory/oathkeeper/issues/101):\n  This patch improves compatibility with ORY Hydra 1.0.0-beta.8 and updates\n  vendored dependencies.\n- Improve hydra integration tests\n  ([e8b7a58](https://github.com/ory/oathkeeper/commit/e8b7a586c5fcb86efddf57d4f2f97a0ff915b869))\n- Improve refresh subroutines\n  ([cc33538](https://github.com/ory/oathkeeper/commit/cc33538f11d9292465bc2fdf0275233b1ff7df9e))\n- Improves cors parsing\n  ([d00dfed](https://github.com/ory/oathkeeper/commit/d00dfed2724cd449744fe189a6f957bdab8f508b))\n- Improves test set up\n  ([6b6bb88](https://github.com/ory/oathkeeper/commit/6b6bb8846385e59436469ba201d94791d3588566))\n- Include headers credential issuer in handler factory\n  ([0e1ef1b](https://github.com/ory/oathkeeper/commit/0e1ef1bf31a4cd48fa72d42f91323d860ac886ef))\n- Introduce health and version endpoint\n  ([029c7ff](https://github.com/ory/oathkeeper/commit/029c7ffab1b68df902d31812a7fde635cc2d880b))\n- Make subject configurable using go template\n  ([#129](https://github.com/ory/oathkeeper/issues/129))\n  ([ee9dcdd](https://github.com/ory/oathkeeper/commit/ee9dcdd275b6b7f21c4a8b438ebed711acfda5e2))\n- More CredentialsIssuerHeaders tests\n  ([079171f](https://github.com/ory/oathkeeper/commit/079171fc159a62ec4742b73d71f9116d9831bf16))\n- Move headers into new config field\n  ([51eb9fb](https://github.com/ory/oathkeeper/commit/51eb9fb021beff28111a491daa5b9a5d17040bc7))\n- Properly document JWT refresh\n  ([#117](https://github.com/ory/oathkeeper/issues/117))\n  ([2e024f9](https://github.com/ory/oathkeeper/commit/2e024f91640bf4182d1b1a6fb143d77c523f4596))\n- Properly handle conflicts on PUT and POST\n  ([83b591d](https://github.com/ory/oathkeeper/commit/83b591d8cf3d180ad9d48a72bd92ffdb3a8192ac)),\n  closes [#38](https://github.com/ory/oathkeeper/issues/38):\n  Previously, PUT and POST did not result in errors (409) when non-existing\n  resources were modified, or existing resources were created. This patch\n  resolves that.\n- Refactors Oathkeeper into new ecosystem\n  ([#60](https://github.com/ory/oathkeeper/issues/60))\n  ([7acfbca](https://github.com/ory/oathkeeper/commit/7acfbcaca36645a984baded2dc3cbb689154ef8c))\n- Refresh rules in api mode\n  ([08204e8](https://github.com/ory/oathkeeper/commit/08204e8eb60745d8449b2da9780e460f504710c9))\n- Remove config flag ([#111](https://github.com/ory/oathkeeper/issues/111))\n  ([8385cbc](https://github.com/ory/oathkeeper/commit/8385cbcb05be5e1d5df8d5b3f00130b163d651f6)),\n  closes [#110](https://github.com/ory/oathkeeper/issues/110)\n- Remove config flag ([#111](https://github.com/ory/oathkeeper/issues/111))\n  ([7de77b8](https://github.com/ory/oathkeeper/commit/7de77b81495c53dd3c3fac3f3524daa10b19fc5d)),\n  closes [#110](https://github.com/ory/oathkeeper/issues/110)\n- Remove package.json from swagger dir\n  ([837d18c](https://github.com/ory/oathkeeper/commit/837d18ca2eec44370b965de190b317dd40369970))\n- Resolve broken introspection scope setting\n  ([18837a9](https://github.com/ory/oathkeeper/commit/18837a9fb18c931b6fadfa39f71520f3f45e6c1c))\n- Resolve HS256 kid mismatch\n  ([6d647d7](https://github.com/ory/oathkeeper/commit/6d647d76b1e41f4ec0d43c79934d601f5e0627af)),\n  closes [#83](https://github.com/ory/oathkeeper/issues/83)\n- Resolves panic when network fails in \"rules import\"\n  ([078542a](https://github.com/ory/oathkeeper/commit/078542a9c143ca6e18499157b2462a4c986230a3))\n- Streamlines https configuration variables\n  ([#124](https://github.com/ory/oathkeeper/issues/124))\n  ([9f6f815](https://github.com/ory/oathkeeper/commit/9f6f8155a002699e29c5f02c8ebb48ac5dff17be)),\n  closes [#121](https://github.com/ory/oathkeeper/issues/121)\n- Test for errors\n  ([585672e](https://github.com/ory/oathkeeper/commit/585672e3a4a7e996d575d51889918c049e95106e))\n- Test missing Extra field\n  ([a4d3d2d](https://github.com/ory/oathkeeper/commit/a4d3d2d4708d7c6baec90289a9a0bb956a95566b))\n- Test template caching/lookup\n  ([ab8a402](https://github.com/ory/oathkeeper/commit/ab8a40298071eff9fc0bec66470d7392226cdf6e))\n- Update keto to latest\n  ([3e2a8de](https://github.com/ory/oathkeeper/commit/3e2a8dee9ead7a89d537162b8c4271444ab137df))\n- Upgrade keto authorizer to 0.2.0\n  ([#145](https://github.com/ory/oathkeeper/issues/145))\n  ([bcd4836](https://github.com/ory/oathkeeper/commit/bcd4836d2ad38821d2a3c856ff3b851e5dce344a))\n- Support \"scope\" claim as a string in jwt authenticator (#137)\n  ([ab5240e](https://github.com/ory/oathkeeper/commit/ab5240e9a462cfaf2f632d6b535a3177d2c80c4e)),\n  closes [#137](https://github.com/ory/oathkeeper/issues/137)\n- Test nesting of various types\n  ([188748d](https://github.com/ory/oathkeeper/commit/188748d526edc8aa0e71b163b7d7188755fb9b7f))\n- Update rules stub\n  ([475f39a](https://github.com/ory/oathkeeper/commit/475f39a5f506b21557def2eb967ecdc7bd84d245))\n- Upgrade superagent version\n  ([44ed240](https://github.com/ory/oathkeeper/commit/44ed24017fec12a4de8505b3050018230e885981))\n- Use print funcmap function to override text/template print\n  ([76b2d9d](https://github.com/ory/oathkeeper/commit/76b2d9d13c7983ac24c2076a5f5770f2cb380d43))\n- Validate handler configurations\n  ([a558103](https://github.com/ory/oathkeeper/commit/a55810339ba3ec85654c358b902733c3125f01f0))\n- Adds docker-compose example with postgres\n  ([84f1313](https://github.com/ory/oathkeeper/commit/84f131387845a1f0246d40b074d446ec58b014c0))\n- Removes obsolete benchmark\n  ([3f259da](https://github.com/ory/oathkeeper/commit/3f259da7766eb6a42b54bb3a6f3ddeb49d9363a1))\n- Resolves an issue with cached matchers\n  ([951da25](https://github.com/ory/oathkeeper/commit/951da251e3e862f2d0a1e5076c028a481f0235dd)),\n  closes [#73](https://github.com/ory/oathkeeper/issues/73):\n  This patch resolves an issue where updates would not properly propagate. This\n  caused deleted rules to still be available in the proxy.\n- Resolves issues with broken tests\n  ([6604045](https://github.com/ory/oathkeeper/commit/6604045191446baca03791940ddf746aed4799d1))\n- Resolves naming issues and updates readme\n  ([5495d4a](https://github.com/ory/oathkeeper/commit/5495d4aa6d23a04891b53694e4fc0e0857c2f955))\n- Resolves potential panic in request handler\n  ([ef6e889](https://github.com/ory/oathkeeper/commit/ef6e8894f034ec66bb3b0da1bdda762fe428a14d))\n- Resolves recursive stack overflow\n  ([#81](https://github.com/ory/oathkeeper/issues/81))\n  ([0594cda](https://github.com/ory/oathkeeper/commit/0594cda346f7ce5af1dc86c6335c1b782632d9eb)),\n  closes [#80](https://github.com/ory/oathkeeper/issues/80)\n- Reduces setup complexity by making strategies configurable\n  ([6626f8f](https://github.com/ory/oathkeeper/commit/6626f8f2aa98f8ee05e5b1f63c1b698083f9ae78)),\n  closes [#71](https://github.com/ory/oathkeeper/issues/71):\n  This patch adds another ID Token signing algorithm (HS256) which is easier to\n  set up as it does not rely on ORY Hydra but instead on a shared secret.\n  Additionally the ability to specify which ID Token singing algorithm to use\n  has been added. Environmental variables to configure the behvaiour have been\n  added as well.\n  Further, the ORY Keto Warden Authorizer strategy is now optional and disabled\n  when the environment variable `AUTHORIZER_KETO_WARDEN_KETO_URL` is empty.\n- Updates to ORY Hydra v1.0.0-beta.2\n  ([e4c9f2e](https://github.com/ory/oathkeeper/commit/e4c9f2eeed41ab8deeb54f2137ea1b2d90a3bdc3))\n- Tells linguist to ignore SDK files\n  ([ace7f34](https://github.com/ory/oathkeeper/commit/ace7f3411f882c6e89bef7800fb2b700e51cd5f6))\n\n# [0.11.12](https://github.com/ory/oathkeeper/compare/v0.0.29...v0.11.12) (2018-05-07)\n\nIntroduces new versioning number to match ORY Hydra\n\n### Documentation\n\n- Adds automatic summary generation\n  ([#49](https://github.com/ory/oathkeeper/issues/49))\n  ([20fefbc](https://github.com/ory/oathkeeper/commit/20fefbcac042e2a251f8bf047f252e251dbc704b))\n- Adds edit on github links\n  ([95af1bb](https://github.com/ory/oathkeeper/commit/95af1bba9cc1b5dafe12f11ab9876371efedd92a))\n- Adds license note to all source files\n  ([#51](https://github.com/ory/oathkeeper/issues/51))\n  ([2c8ff2f](https://github.com/ory/oathkeeper/commit/2c8ff2f944574210964456126342d7a41efb73b7))\n- Fixes redirect path\n  ([9bca2f3](https://github.com/ory/oathkeeper/commit/9bca2f36a5d9ef75afb97e63faaffa912c9121d3))\n- Moves documentation to new repository\n  ([#57](https://github.com/ory/oathkeeper/issues/57))\n  ([a9f21f3](https://github.com/ory/oathkeeper/commit/a9f21f3c5a71442ee879a8457798f8965b869f28))\n- Redirect to ory domain\n  ([0599e63](https://github.com/ory/oathkeeper/commit/0599e63d8628effa242b85e28f66df6a95616a45))\n- Removes newline from swagger doc\n  ([5e297b3](https://github.com/ory/oathkeeper/commit/5e297b39794e4e015dedd716f3402f0bfb6efc1c))\n- Removes stray line in api docs\n  ([bed1a04](https://github.com/ory/oathkeeper/commit/bed1a048cd54bd103c3c6bc62455671a3536d04f))\n- Removes summary plugin\n  ([ce06f4e](https://github.com/ory/oathkeeper/commit/ce06f4eaffda106d009f2b554aecda3e3ba86434))\n- Resolves broken policy and client definitions\n  ([#55](https://github.com/ory/oathkeeper/issues/55))\n  ([4676f40](https://github.com/ory/oathkeeper/commit/4676f4054090ef705c705a3eaac616f8f513b980)),\n  closes [#53](https://github.com/ory/oathkeeper/issues/53)\n- Updates chat badge to discord\n  ([1bbac52](https://github.com/ory/oathkeeper/commit/1bbac524d5634d8aa286cdd14d9230807123da85))\n- Updates execution instructions\n  ([#56](https://github.com/ory/oathkeeper/issues/56))\n  ([3bcfd8b](https://github.com/ory/oathkeeper/commit/3bcfd8b1b91df97f78eb6e7b9bb2df7ba398b158)):\n  Adjusting run script to respect env variables\n- Updates README.md ([#58](https://github.com/ory/oathkeeper/issues/58))\n  ([bdb542f](https://github.com/ory/oathkeeper/commit/bdb542fcb6006c218f499793f0e44ce30f79cf2a))\n- Updates swagger docs\n  ([5ea68c2](https://github.com/ory/oathkeeper/commit/5ea68c290d757e341932b00cb89c2a9e5b7e2429))\n\n### Unclassified\n\n- Introduces new versioning number to match ORY Hydra\n  ([75b5121](https://github.com/ory/oathkeeper/commit/75b51213a50750a12f670060a34aecadf49fa3e2))\n- Adds mock generation script\n  ([00b51b7](https://github.com/ory/oathkeeper/commit/00b51b7a71089d04a4b3005e5fd15d5e9db22939))\n- Corrects logging typo ([#52](https://github.com/ory/oathkeeper/issues/52))\n  ([d415291](https://github.com/ory/oathkeeper/commit/d41529123a756cd202b2216a0aa746e137e72e5e)):\n  This corrects logging from 'oahtkeeper-proxy' to 'oathkeeper-proxy' in, e.g.,\n  the proxy latency logline.\n- Updates hydra sdk mock\n  ([2ff8032](https://github.com/ory/oathkeeper/commit/2ff8032f9362a8ef5d85692ce49d425bfc18f2f0))\n- Updates hydra to 0.11.6\n  ([ee969f6](https://github.com/ory/oathkeeper/commit/ee969f68145c5398b79fe4e7a9bf7fa74d1e6bf3))\n- Updates license header\n  ([94a2ed2](https://github.com/ory/oathkeeper/commit/94a2ed2a0c381fe2fbf5182c45acb52ca4e2c164))\n- Use source file from vendor for mock generation\n  ([42517c6](https://github.com/ory/oathkeeper/commit/42517c6df9bfb1a5a14606229916b8ba674aa3e1))\n- Uses Hydra v0.11.6 in tests\n  ([9c2cc89](https://github.com/ory/oathkeeper/commit/9c2cc8901f32ab8042fadbd32475e98650c37e72))\n- Adds license\n  ([cc13ae8](https://github.com/ory/oathkeeper/commit/cc13ae8f002426dc3b39b2184b438331e6f63522))\n- Updates README.md\n  ([c9340dc](https://github.com/ory/oathkeeper/commit/c9340dc94d1b6aec4825c8a2ccf423aee1a5fd3b))\n\n# [0.0.29](https://github.com/ory/oathkeeper/compare/v0.0.28...v0.0.29) (2017-12-19)\n\nAdds use field to well known (#48)\n\n### Unclassified\n\n- Adds use field to well known (#48)\n  ([f7353ea](https://github.com/ory/oathkeeper/commit/f7353ea1de25c37f58b9e7532e06210ea575bc29)),\n  closes [#48](https://github.com/ory/oathkeeper/issues/48)\n\n# [0.0.28](https://github.com/ory/oathkeeper/compare/v0.0.27...v0.0.28) (2017-12-19)\n\nReplaces key discovery with well-known feature (#46)\n\nCloses #43\n\n### Unclassified\n\n- Replaces key discovery with well-known feature (#46)\n  ([e343a61](https://github.com/ory/oathkeeper/commit/e343a61d6ae8f149f61c832fc567533651a1b16f)),\n  closes [#46](https://github.com/ory/oathkeeper/issues/46)\n  [#43](https://github.com/ory/oathkeeper/issues/43)\n\n# [0.0.27](https://github.com/ory/oathkeeper/compare/v0.0.26...v0.0.27) (2017-12-12)\n\nAdds cors capabilities to management server\n\n### Unclassified\n\n- Adds cors capabilities to management server\n  ([6519846](https://github.com/ory/oathkeeper/commit/6519846691737a4f8ddfb5c55186d1b0c26db8ad))\n\n# [0.0.26](https://github.com/ory/oathkeeper/compare/v0.0.25...v0.0.26) (2017-12-11)\n\nAdds hydra.introspect to required tokens\n\n### Unclassified\n\n- Adds hydra.introspect to required tokens\n  ([b66462a](https://github.com/ory/oathkeeper/commit/b66462a0ec62d82adb805c6aa29d807c21c5e20b))\n- Fixes broken image link in docs\n  ([1aa2404](https://github.com/ory/oathkeeper/commit/1aa2404b9fa88e69b6e18832f1532978012dba27))\n\n# [0.0.25](https://github.com/ory/oathkeeper/compare/v0.0.24...v0.0.25) (2017-11-28)\n\nAdd extra data from token introspection to session\n\n### Unclassified\n\n- Add extra data from token introspection to session\n  ([ce8f9f2](https://github.com/ory/oathkeeper/commit/ce8f9f265bad2d60b467d788d4314270c549a461))\n\n# [0.0.24](https://github.com/ory/oathkeeper/compare/v0.0.23...v0.0.24) (2017-11-26)\n\nReplaces LogError with direct error logging\n\n### Unclassified\n\n- Replaces LogError with direct error logging\n  ([73994b8](https://github.com/ory/oathkeeper/commit/73994b850629c6ec267903ad09e2a6eceef7a9cd))\n- Upgrades vendor dependencies\n  ([4207aef](https://github.com/ory/oathkeeper/commit/4207aef3c00a64f315dc0e85cd83adb6e3c9660c))\n- Introduces telemetry module and adds documentation\n  ([c5a7f7a](https://github.com/ory/oathkeeper/commit/c5a7f7a8fc6e0e2a264b5bc3dd29174f86f4b5c9)),\n  closes [#27](https://github.com/ory/oathkeeper/issues/27)\n  [#34](https://github.com/ory/oathkeeper/issues/34)\n- Use oathkeeper public url as issuer\n  ([1e5ae00](https://github.com/ory/oathkeeper/commit/1e5ae00f457aafdd7a284a388704ce954b3339b1))\n\n# [0.0.23](https://github.com/ory/oathkeeper/compare/v0.0.22...v0.0.23) (2017-11-24)\n\nPrint formatted output string in rule management CLI (#35)\n\n### Documentation\n\n- Add JWK set docs ([#33](https://github.com/ory/oathkeeper/issues/33))\n  ([95abec8](https://github.com/ory/oathkeeper/commit/95abec817a1fb053a19d47e66725764f56f4c9cc))\n- Update readme\n  ([f448908](https://github.com/ory/oathkeeper/commit/f448908fb38f3b069de488a59e27ff082e610e1a))\n\n### Unclassified\n\n- Print formatted output string in rule management CLI (#35)\n  ([b14c74e](https://github.com/ory/oathkeeper/commit/b14c74e6270c4e2fdd9741c3cbe619336efd1435)),\n  closes [#35](https://github.com/ory/oathkeeper/issues/35)\n- Update docs and add tests (#32)\n  ([c6bf7d1](https://github.com/ory/oathkeeper/commit/c6bf7d15e8b935b6ed64551391f9aa23968cf4d9)),\n  closes [#32](https://github.com/ory/oathkeeper/issues/32)\n\n# [0.0.22](https://github.com/ory/oathkeeper/compare/v0.0.21...v0.0.22) (2017-11-20)\n\nRenames bypass values for better clarity\n\nCloses #13 Closes #29\n\n### Unclassified\n\n- Renames bypass values for better clarity\n  ([46a717e](https://github.com/ory/oathkeeper/commit/46a717e0428fba1fcabb0bdb669acaba39aa5444)),\n  closes [#13](https://github.com/ory/oathkeeper/issues/13)\n  [#29](https://github.com/ory/oathkeeper/issues/29)\n\n# [0.0.21](https://github.com/ory/oathkeeper/compare/v0.0.20...v0.0.21) (2017-11-19)\n\nRequest hydra.keys scope and fix panic\n\n### Unclassified\n\n- Request hydra.keys scope and fix panic\n  ([546b2cf](https://github.com/ory/oathkeeper/commit/546b2cff5e7cea306a60963f646ad4522f5bfd15))\n\n# [0.0.20](https://github.com/ory/oathkeeper/compare/v0.0.19...v0.0.20) (2017-11-18)\n\ndocs: Improve swagger documentation\n\n### Documentation\n\n- Add developer guide link to readme\n  ([68be400](https://github.com/ory/oathkeeper/commit/68be400c070a63b3ec8a7f40bc343ed39a45bed5))\n- Add install and run section\n  ([87f0700](https://github.com/ory/oathkeeper/commit/87f07004b47d9803246bc42bf78c3e5100969033))\n- Fix table of contents in summary\n  ([fdb752b](https://github.com/ory/oathkeeper/commit/fdb752b3172ed746776cb7153f4523b10920f492))\n- Improve swagger documentation\n  ([8f16a9b](https://github.com/ory/oathkeeper/commit/8f16a9b36e1b75415f5e367c0ae5589a74187139))\n- Wrote basic developer guide\n  ([952d27c](https://github.com/ory/oathkeeper/commit/952d27c7639a80b5daddb702a6f790e855b1422b))\n\n### Unclassified\n\n- Replace shared secret with RSA key from Hydra for ID token signing\n  ([e7ed8ca](https://github.com/ory/oathkeeper/commit/e7ed8ca672f617a5d67a0d70ca665e3b45fe3e67))\n- Add rules management capabilities to the cli\n  ([289c38a](https://github.com/ory/oathkeeper/commit/289c38ae4b9c67b654e3b24dc45bd28968f75937))\n- Format cmd/serve\n  ([bc2e7c1](https://github.com/ory/oathkeeper/commit/bc2e7c159eea9a203820e396f7588a007722efc8))\n- Ignore gitbook output directory\n  ([580b94f](https://github.com/ory/oathkeeper/commit/580b94fa921363782e02d66981172659dc76dadc))\n\n# [0.0.19](https://github.com/ory/oathkeeper/compare/v0.0.18...v0.0.19) (2017-11-13)\n\nevaluator: Use full request URL\n\n### Unclassified\n\n- Use full request URL\n  ([2b4b149](https://github.com/ory/oathkeeper/commit/2b4b1492ce3356a7a251e241a308669517ddba3e))\n\n# [0.0.18](https://github.com/ory/oathkeeper/compare/v0.0.17...v0.0.18) (2017-11-13)\n\nevaluator: Improve audit capabilities\n\n### Unclassified\n\n- Improve audit capabilities\n  ([c952d21](https://github.com/ory/oathkeeper/commit/c952d21bd59c7f318a3e7c4f98978eb8b3fc7231))\n- Resolve potential panic in token id generation\n  ([8fe9e9a](https://github.com/ory/oathkeeper/commit/8fe9e9a5bd7b951b93c4966f8585945074ff104d)),\n  closes [#22](https://github.com/ory/oathkeeper/issues/22)\n\n# [0.0.17](https://github.com/ory/oathkeeper/compare/v0.0.16...v0.0.17) (2017-11-12)\n\nIntroduces surrogate_id to SQLManager (#21)\n\n### Unclassified\n\n- Introduces surrogate_id to SQLManager (#21)\n  ([fbe272f](https://github.com/ory/oathkeeper/commit/fbe272f36e64c4e15758a34f62cc3d03e63c7c64)),\n  closes [#21](https://github.com/ory/oathkeeper/issues/21)\n\n# [0.0.16](https://github.com/ory/oathkeeper/compare/v0.0.15...v0.0.16) (2017-11-12)\n\nReplace MatchesPath with MatchesURL (#20)\n\n### Unclassified\n\n- Replace MatchesPath with MatchesURL (#20)\n  ([4ee776c](https://github.com/ory/oathkeeper/commit/4ee776cc08201f91dfdab5c0c259c4cfffd88ddb)),\n  closes [#20](https://github.com/ory/oathkeeper/issues/20)\n\n# [0.0.15](https://github.com/ory/oathkeeper/compare/v0.0.14...v0.0.15) (2017-11-09)\n\nAdd HTTPS capabilities and document proxy/management commands (#19)\n\n### Unclassified\n\n- Add HTTPS capabilities and document proxy/management commands (#19)\n  ([98ef623](https://github.com/ory/oathkeeper/commit/98ef623e64a58afa99fcb2db67bf5c514c86334c)),\n  closes [#19](https://github.com/ory/oathkeeper/issues/19)\n\n# [0.0.14](https://github.com/ory/oathkeeper/compare/v0.0.13...v0.0.14) (2017-11-07)\n\nMake refresh_delay configurable and skip it on boot (#18)\n\n### Unclassified\n\n- Make refresh_delay configurable and skip it on boot (#18)\n  ([4863a82](https://github.com/ory/oathkeeper/commit/4863a823d8f510e5c82d7f8c34f5753f18861a03)),\n  closes [#18](https://github.com/ory/oathkeeper/issues/18)\n\n# [0.0.13](https://github.com/ory/oathkeeper/compare/v0.0.12...v0.0.13) (2017-11-07)\n\nStore rules path match in plaintext (#17)\n\n### Unclassified\n\n- Store rules path match in plaintext (#17)\n  ([6570b5d](https://github.com/ory/oathkeeper/commit/6570b5d7f3169f63f9d8c31d844660f5394fc37a)),\n  closes [#17](https://github.com/ory/oathkeeper/issues/17)\n\n# [0.0.12](https://github.com/ory/oathkeeper/compare/v0.0.11...v0.0.12) (2017-11-07)\n\nUse ladon regex compiler for matches (#16)\n\n### Unclassified\n\n- Use ladon regex compiler for matches (#16)\n  ([972a328](https://github.com/ory/oathkeeper/commit/972a328b1a0fca0dfcc41487492f0203c284b54a)),\n  closes [#16](https://github.com/ory/oathkeeper/issues/16)\n- Fix typo in circle-ci test-docker job\n  ([5618c30](https://github.com/ory/oathkeeper/commit/5618c3079ef559ad5dfbacc398a8b95b3c333643))\n- Run docker image in test\n  ([12b5f13](https://github.com/ory/oathkeeper/commit/12b5f13ad997b7c427505bffa1ad7e33aa2de684))\n\n# [0.0.11](https://github.com/ory/oathkeeper/compare/v0.0.10...v0.0.11) (2017-11-06)\n\nMove gatekeeper to $PATH in docker image\n\n### Unclassified\n\n- Move gatekeeper to $PATH in docker image\n  ([81e5562](https://github.com/ory/oathkeeper/commit/81e5562ead12d1376f6eadff53ce36339dd3599a))\n- Force docker version 17.10 in circle\n  ([3927a78](https://github.com/ory/oathkeeper/commit/3927a789d7b93849fb1b2d0edbccf45781c9030b))\n\n# [0.0.10](https://github.com/ory/oathkeeper/compare/v0.0.9...v0.0.10) (2017-11-06)\n\nAdd ssl certificates to scratch image\n\n### Unclassified\n\n- Add ssl certificates to scratch image\n  ([56a3243](https://github.com/ory/oathkeeper/commit/56a3243d1c4be1308b1aa22244548359c94ee181))\n- Build static binary within docker\n  ([4d6d8bf](https://github.com/ory/oathkeeper/commit/4d6d8bf22f7aea16fa21e4fee99c829b9e76de0d))\n\n# [0.0.9](https://github.com/ory/oathkeeper/compare/v0.0.8...v0.0.9) (2017-11-06)\n\nBuild binary statically with CGO disabled\n\n### Unclassified\n\n- Build binary statically with CGO disabled\n  ([6dd3761](https://github.com/ory/oathkeeper/commit/6dd376171e3c1219de54984a9a27ac44d76d897b))\n\n# [0.0.8](https://github.com/ory/oathkeeper/compare/v0.0.7...v0.0.8) (2017-11-06)\n\nMake oathkeeper binary executable#\n\n### Unclassified\n\n- Make oathkeeper binary executable#\n  ([9e24888](https://github.com/ory/oathkeeper/commit/9e24888654675208f96913e6c11233b598e78815))\n\n# [0.0.7](https://github.com/ory/oathkeeper/compare/v0.0.6...v0.0.7) (2017-11-06)\n\nBuild oathekeeper docker image statically (#14)\n\n- Build oathekeeper docker image statically\n\n- Build oathekeeper docker image statically\n\n### Unclassified\n\n- Build oathekeeper docker image statically (#14)\n  ([dbd2037](https://github.com/ory/oathkeeper/commit/dbd2037b56b6104b79607b20394be0e9a30e67e1)),\n  closes [#14](https://github.com/ory/oathkeeper/issues/14):\n  - Build oathekeeper docker image statically\n\n  - Build oathekeeper docker image statically\n\n# [0.0.6](https://github.com/ory/oathkeeper/compare/v0.0.5...v0.0.6) (2017-11-03)\n\nAdded serve all command\n\n### Unclassified\n\n- Added serve all command\n  ([dfc071c](https://github.com/ory/oathkeeper/commit/dfc071c02d9fa6fda9832bd35fdc4b1eb96c63c6))\n\n# [0.0.5](https://github.com/ory/oathkeeper/compare/v0.0.4...v0.0.5) (2017-11-01)\n\nRemove goveralls from circle build\n\n### Unclassified\n\n- Remove goveralls from circle build\n  ([8362e1c](https://github.com/ory/oathkeeper/commit/8362e1c125e2bd74faefd18ff26a9b06f88792aa))\n- Add cors handling to proxy\n  ([84cec15](https://github.com/ory/oathkeeper/commit/84cec15900a97dec6b92423912ef6d4802121036))\n- Use circle ci build status badge\n  ([b776e05](https://github.com/ory/oathkeeper/commit/b776e05e5a3ad60b1b993b6f8dea1d6f5baef7c6))\n- Use circle ci build status badge\n  ([65c4100](https://github.com/ory/oathkeeper/commit/65c4100eab6a8a09ca96e31b009545a09400b1a8))\n- Switch from glide to golang/dep for vendoring\n  ([ec63fa4](https://github.com/ory/oathkeeper/commit/ec63fa47af310a6936f4afada49700c9ca54b9ad))\n- Resolve tests by replacing nil slice (#7)\n  ([971d020](https://github.com/ory/oathkeeper/commit/971d02082956969c9cd6cfcb5afb257606ddeb6b)),\n  closes [#7](https://github.com/ory/oathkeeper/issues/7)\n\n# [0.0.4](https://github.com/ory/oathkeeper/compare/v0.0.3...v0.0.4) (2017-10-21)\n\nReturn arrays instead of null on rule creation (#6)\n\n### Unclassified\n\n- Return arrays instead of null on rule creation (#6)\n  ([02e88be](https://github.com/ory/oathkeeper/commit/02e88beda5415e51b42e33527af90cf59d6a759e)),\n  closes [#6](https://github.com/ory/oathkeeper/issues/6)\n- Add circleci configuration file (#5)\n  ([76e58f2](https://github.com/ory/oathkeeper/commit/76e58f2033e86c522875faafc77717f31274b4f7)),\n  closes [#5](https://github.com/ory/oathkeeper/issues/5)\n\n# [0.0.3](https://github.com/ory/oathkeeper/compare/v0.0.2...v0.0.3) (2017-10-18)\n\nForce linefeed for shell scripts\n\n### Unclassified\n\n- Force linefeed for shell scripts\n  ([1e4fc77](https://github.com/ory/oathkeeper/commit/1e4fc771df44b7f67b616bc652d0c280131d59cf))\n- When introspection fails return unauthorized\n  ([f5295b4](https://github.com/ory/oathkeeper/commit/f5295b484fd9430bcb0d5333ca9b395f88812d62))\n\n# [0.0.2](https://github.com/ory/oathkeeper/compare/v0.0.1...v0.0.2) (2017-10-12)\n\ncmd: remove unnecessary scope hydra.warden.\\*\n\n### Unclassified\n\n- Add ability to skip acp checks\n  ([18facbb](https://github.com/ory/oathkeeper/commit/18facbbf42baa34aa8740c2952789d1f608cfb90))\n- Remove unnecessary scope hydra.warden.\\*\n  ([2214498](https://github.com/ory/oathkeeper/commit/2214498c477b8cfb739c0326437d684b291d16eb))\n\n# [0.0.1](https://github.com/ory/oathkeeper/compare/072f5e4321ac3a143544cf70da337f0734a86483...v0.0.1) (2017-10-10)\n\ntravis: add goveralls report submission (#2)\n\n### Documentation\n\n- Update readme\n  ([c11056a](https://github.com/ory/oathkeeper/commit/c11056a0714275f21543f2a9a7361e5223c590e8))\n\n### Unclassified\n\n- Add goveralls report submission\n  ([#2](https://github.com/ory/oathkeeper/issues/2))\n  ([13f9f81](https://github.com/ory/oathkeeper/commit/13f9f81becb7efb0dba32c8ca4d6df7e98ba7191))\n- Initial commit\n  ([bff82ab](https://github.com/ory/oathkeeper/commit/bff82ab818f993ea091257c261140f4fb0d51038))\n- Initial commit\n  ([072f5e4](https://github.com/ory/oathkeeper/commit/072f5e4321ac3a143544cf70da337f0734a86483))\n---\nid: changelog\ntitle: Changelog\ncustom_edit_url: null\n---\n\n# [Unreleased](https://github.com/ory/oathkeeper/compare/v0.38.11-beta.1...2ccbb2f2607af39301a6d129c9552a5682cf96fc) (2021-06-22)\n\n\n### Bug Fixes\n\n* Cache introspection pre-auth ([#723](https://github.com/ory/oathkeeper/issues/723)) ([3a9ae1a](https://github.com/ory/oathkeeper/commit/3a9ae1a43a6f157bb7998d2e4ee5b76851c68ec1)), closes [#712](https://github.com/ory/oathkeeper/issues/712)\n* Ensure no vulnerable jwt-go deep dependency is being used ([#745](https://github.com/ory/oathkeeper/issues/745)) ([2ccbb2f](https://github.com/ory/oathkeeper/commit/2ccbb2f2607af39301a6d129c9552a5682cf96fc)), closes [#740](https://github.com/ory/oathkeeper/issues/740)\n\n### Features\n\n* Ability to Configure Remote Authorizers to set Headers in AuthenticationSession ([#717](https://github.com/ory/oathkeeper/issues/717)) ([b3d117b](https://github.com/ory/oathkeeper/commit/b3d117b5d7de02cc1e3ab965328cf6c7995f8a6e)):\n\n    The remote authorizers may have useful context from user's permissions. So with this changes, custom authorizers using remote and remote_json can return some useful headers to be forward into the AuthenticationSession, meaning that these headers will be passed to upstream services.\n    \n    For example, an user containing scopes/branches inside an organization profile has some level of data addressed to him. In this case, the upstream service need to know that, and \"filter\" the data according to his \"branch_id\". The permission that is given to the user (and the remote authorizers manages) has a record of the \"branch_id\", for the following responses will be returned as status code 200 (if granted) and containing a header like X-Branch-Id.\n    \n    The upstream service receives the X-Branch-Id and does your thing.\n    \n    The configuration requires to configure a list of \"allowed headers\" returning from remote authorizer, that will be accepted in the pipeline.\n    \n    \n\n* Add request header in match context ([#719](https://github.com/ory/oathkeeper/issues/719)) ([22b0dbe](https://github.com/ory/oathkeeper/commit/22b0dbe6495b9f57206dc8fb2335e1c81906e27d)), closes [#512](https://github.com/ory/oathkeeper/issues/512)\n* Improved JWT Authorizer JWKs fetching ([#726](https://github.com/ory/oathkeeper/issues/726)) ([5613f65](https://github.com/ory/oathkeeper/commit/5613f650facbb136d6dd7ad7dcf3057f54cb30fc)), closes [#203](https://github.com/ory/oathkeeper/issues/203)\n\n\n# [0.38.11-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.10-beta.2...v0.38.11-beta.1) (2021-05-13)\n\nThis release primarily addresses issues in the SDK build pipeline.\n\n\n\n### Bug Fixes\n\n* Init introspect http client once ([#714](https://github.com/ory/oathkeeper/issues/714)) ([e203ad1](https://github.com/ory/oathkeeper/commit/e203ad14ac0e78909e7d42aa214c47a708a7c136)), closes [#712](https://github.com/ory/oathkeeper/issues/712)\n* Log credentials verifier error details ([#713](https://github.com/ory/oathkeeper/issues/713)) ([766b071](https://github.com/ory/oathkeeper/commit/766b0714dc8aaff010a99b182a6450f21d1795f5)), closes [#467](https://github.com/ory/oathkeeper/issues/467)\n\n### Code Generation\n\n* Pin v0.38.11-beta.1 release commit ([413393f](https://github.com/ory/oathkeeper/commit/413393f8750796ae2b8dd02fb3735d991807ddaa))\n\n### Reverts\n\n* Init introspect http client once ([#714](https://github.com/ory/oathkeeper/issues/714)) ([#722](https://github.com/ory/oathkeeper/issues/722)) ([c58cbd9](https://github.com/ory/oathkeeper/commit/c58cbd9341e58adfdf49fd1e9c0241528917c86c)):\n\n    This reverts commit e203ad14ac0e78909e7d42aa214c47a708a7c136.\n\n\n\n# [0.38.10-beta.2](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1...v0.38.10-beta.2) (2021-05-05)\n\nThis release improves the health status manager, cache management, improves JSON Web Token debuggability, and resolves other issues.\n\n\n\n### Bug Fixes\n\n* Register makefile tasks ([2832a77](https://github.com/ory/oathkeeper/commit/2832a773782047f39680033860c2a8e9558883c0))\n* Resolve makefile issues ([9df3b2a](https://github.com/ory/oathkeeper/commit/9df3b2a7bd4a207bc68e94fde28a720eb7a816b1))\n* Set cost 1 when caching tokens with configurable max cost ([#680](https://github.com/ory/oathkeeper/issues/680)) ([8db0e9d](https://github.com/ory/oathkeeper/commit/8db0e9de60dbc5d1964440bd2ea14ec063b71cab))\n* Update shebangs to use bash from /usr/bin/env instead of /bin/ for better portability ([#694](https://github.com/ory/oathkeeper/issues/694)) ([e522062](https://github.com/ory/oathkeeper/commit/e52206214e5e6b949b785752ee638a80b4775355))\n\n### Code Generation\n\n* Pin v0.38.10-beta.2 release commit ([4b3403b](https://github.com/ory/oathkeeper/commit/4b3403baecaa1c452d95138e929fae0b3d71988d))\n\n### Code Refactoring\n\n* Move api.json ([7dc37fd](https://github.com/ory/oathkeeper/commit/7dc37fd55edfa623bf30e32da1aef6c662779678))\n\n### Documentation\n\n* Add dotnet sdk ([#683](https://github.com/ory/oathkeeper/issues/683)) ([05ae925](https://github.com/ory/oathkeeper/commit/05ae9259414882015f30cc8d5c01e64afb65afbc)):\n\n    * docs: add dotnet sdk\n    \n    * docs: add dotnet sdk versioned\n\n* Change forum to discussions readme ([#690](https://github.com/ory/oathkeeper/issues/690)) ([d942c04](https://github.com/ory/oathkeeper/commit/d942c043aa2370b87e0dd822440ad39d809755f9))\n* Consistent authz headers ([#699](https://github.com/ory/oathkeeper/issues/699)) ([19948e1](https://github.com/ory/oathkeeper/commit/19948e11933f3607a562bcff75e2061b8cb2a527)):\n\n    Removes the \"Authorizer\" prefix from a few of the authorizers to make them all consistent.\n\n* Fix typo ([#696](https://github.com/ory/oathkeeper/issues/696)) ([eda83f1](https://github.com/ory/oathkeeper/commit/eda83f12a58de80ae78aa86e90806f277e8dc1f5))\n* Point to deny authz ([#701](https://github.com/ory/oathkeeper/issues/701)) ([4f01963](https://github.com/ory/oathkeeper/commit/4f01963b33ab0484da69c9f120c69ae9b49c6fdc)), closes [#700](https://github.com/ory/oathkeeper/issues/700)\n\n### Features\n\n* Add health event manager and rules readiness probe ([#674](https://github.com/ory/oathkeeper/issues/674)) ([01d8588](https://github.com/ory/oathkeeper/commit/01d8588d300976e06ef6358e23099259814e3bf7))\n* Add http method into session.MatchContext ([#676](https://github.com/ory/oathkeeper/issues/676)) ([e15a7a5](https://github.com/ory/oathkeeper/commit/e15a7a57846d1c28f7b7ed7b824e6fc318f9344d)), closes [#625](https://github.com/ory/oathkeeper/issues/625)\n* Add support for requesting an audience to the OAuth2 Introspection pr\u2026 ([#678](https://github.com/ory/oathkeeper/issues/678)) ([2405810](https://github.com/ory/oathkeeper/commit/2405810a839b9d3015655ced492097d0f130a06f)), closes [#677](https://github.com/ory/oathkeeper/issues/677)\n* Additional JWT auth debug information ([#681](https://github.com/ory/oathkeeper/issues/681)) ([d08ab50](https://github.com/ory/oathkeeper/commit/d08ab5034b80736701fb38ee1e55d12c63fd06b2)), closes [#668](https://github.com/ory/oathkeeper/issues/668):\n\n    JWT Claims added to error details field. \n\n* Adds audience into Extra at oAuth2 introspection ([#480](https://github.com/ory/oathkeeper/issues/480)) ([c9faecc](https://github.com/ory/oathkeeper/commit/c9faecc5d32800537f07e8e05f9c8872e609c3f9))\n* Global docs sidebar and added cloud pages ([#705](https://github.com/ory/oathkeeper/issues/705)) ([f67241f](https://github.com/ory/oathkeeper/commit/f67241f2ab7063fa9ce8e8ea455de25b51414f30))\n\n\n# [0.38.9-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1.pre.3...v0.38.9-beta.1) (2021-03-17)\n\nThis release adds support for X-Forwarded-Proto, passes tracing contexts to downstream requests, bumps Go to 1.16, and resolves issues preventing the log level from being set to trace level. Additionally included are improvements to the overall tracing set up, a cookie authenticator bugfix, and a bugfix for glob pattern matching.\n\n\n\n### Code Generation\n\n* Pin v0.38.9-beta.1 release commit ([9ad41f0](https://github.com/ory/oathkeeper/commit/9ad41f02c4e6c140afa702743b5880f7fbab5df5))\n\n\n# [0.38.9-beta.1.pre.3](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1.pre.2...v0.38.9-beta.1.pre.3) (2021-03-16)\n\nautogen: pin v0.38.9-beta.1.pre.3 release commit\n\n\n\n### Bug Fixes\n\n* Make glob patterns match only one path segment. ([#664](https://github.com/ory/oathkeeper/issues/664)) ([c711aac](https://github.com/ory/oathkeeper/commit/c711aacc5fc29664e3825e087557e7baf4e47aa8)), closes [#630](https://github.com/ory/oathkeeper/issues/630):\n\n    This makes `/` also a separator as well as the presumably default value of `.`. This allows using <*> for matching only one path segment.\n\n\n### Code Generation\n\n* Pin v0.38.9-beta.1.pre.3 release commit ([7725554](https://github.com/ory/oathkeeper/commit/77255541cafc25fd7adc242aed149837f3fa3141))\n\n\n# [0.38.9-beta.1.pre.2](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1.pre.1...v0.38.9-beta.1.pre.2) (2021-03-15)\n\nautogen: pin v0.38.9-beta.1.pre.2 release commit\n\n\n\n### Code Generation\n\n* Pin v0.38.9-beta.1.pre.2 release commit ([9695b77](https://github.com/ory/oathkeeper/commit/9695b772bfdfc398e1ccc29731e6e2736fd31cb2))\n\n\n# [0.38.9-beta.1.pre.1](https://github.com/ory/oathkeeper/compare/v0.38.8-beta.1...v0.38.9-beta.1.pre.1) (2021-03-15)\n\nautogen: pin v0.38.9-beta.1.pre.1 release commit\n\n\n\n### Bug Fixes\n\n* Resolve goreleaser issues and bump golang ([7291df9](https://github.com/ory/oathkeeper/commit/7291df9f2745b4dfc178d81b65fc837f58b34206))\n\n### Code Generation\n\n* Pin v0.38.9-beta.1.pre.1 release commit ([7afdc40](https://github.com/ory/oathkeeper/commit/7afdc40144dbd703f0a88531d6093525af54dcc8))\n\n### Unclassified\n\n* Add missing documentation for oauth2_introspection ([#648](https://github.com/ory/oathkeeper/issues/648)) ([34cf38c](https://github.com/ory/oathkeeper/commit/34cf38c0fe431eb375fab4dbfa9cb9098961943d)), closes [#549](https://github.com/ory/oathkeeper/issues/549)\n\n\n# [0.38.8-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.7-beta.1...v0.38.8-beta.1) (2021-02-25)\n\nImproves tracing set up and addresses a bug in the cookie authenticator.\n\n\n\n### Bug Fixes\n\n* Ignore cookie auth when no cookies set ([c84d880](https://github.com/ory/oathkeeper/commit/c84d8808805f124bd31c6d8717f36539652fb4e8))\n\n### Code Generation\n\n* Pin v0.38.8-beta.1 release commit ([2943e9a](https://github.com/ory/oathkeeper/commit/2943e9af887a78191a50426ed069604615ca58e2))\n\n### Unclassified\n\n* Formatting ([546691b](https://github.com/ory/oathkeeper/commit/546691b61f78361eff33b1c2a3c3435fecaf499f))\n* Add tracing to outbound oauth introspection requests ([daf44cb](https://github.com/ory/oathkeeper/commit/daf44cb22961817f6d9aaddd4ffce64bcee50d70))\n\n\n# [0.38.7-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.6-beta.1...v0.38.7-beta.1) (2021-02-22)\n\nThis release adds support for X-Forwarded-Proto, passes context for tracing to downstream requests, bumps Go to 1.16 and resolves issues preventing the log level from being set to trace level.\n\n\n\n### Bug Fixes\n\n* Accept lower and uppercase in bearer token handler ([6e46d4a](https://github.com/ory/oathkeeper/commit/6e46d4a3831ae86beb9b8a5850faf20cb5a759e2))\n* Add support for  X-Forwarded-Proto header ([#638](https://github.com/ory/oathkeeper/issues/638)) ([6eb83fd](https://github.com/ory/oathkeeper/commit/6eb83fd03ed46c388dfe4aaeeaa7c331c9d3685d)), closes [#153](https://github.com/ory/oathkeeper/issues/153)\n* Pass context through to external requests ([#627](https://github.com/ory/oathkeeper/issues/627)) ([ee25197](https://github.com/ory/oathkeeper/commit/ee251976537ade1e06399a3d5b2883620e3407eb)):\n\n    Enables proper tracing through Jaeger etc\n\n* Update goreleaser config ([9689f45](https://github.com/ory/oathkeeper/commit/9689f45db1ec0a974a109a6b28314cddaba2b2de))\n* Update log schema ([78e654d](https://github.com/ory/oathkeeper/commit/78e654df3b81d3ab3f8f946033ee5f1fe45afded))\n\n### Code Generation\n\n* Pin v0.38.7-beta.1 release commit ([3b37928](https://github.com/ory/oathkeeper/commit/3b37928256363ceff294897fd05461d01829314c))\n\n### Features\n\n* Bump to go 1.16 ([e74d4a2](https://github.com/ory/oathkeeper/commit/e74d4a21efeac7aa7b6c7ae8e39daab17ef4f470))\n* Resolve go mod issues ([6a3f5d3](https://github.com/ory/oathkeeper/commit/6a3f5d39c2326a49c694624ff2d35b8e3beccc2e))\n\n\n# [0.38.6-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.5-beta.1...v0.38.6-beta.1) (2021-01-27)\n\nWe are happy to announce Dart and Rust SDKs for Ory Oathkeeper! Additionally, a new `bearer_token` authenticator has been added.\n\n\n\n### Code Generation\n\n* Pin v0.38.6-beta.1 release commit ([a0c4d7f](https://github.com/ory/oathkeeper/commit/a0c4d7fc46151000b4ae9db5a958b94611c9cd58))\n\n### Documentation\n\n* Add Rust and Dart SDKs ([1524fed](https://github.com/ory/oathkeeper/commit/1524fed70b4b5c8d3ca8d23e5ab46bc32f073d53)):\n\n    We now support for Rust and Dart SDKs!\n\n* Fix js npm links ([#634](https://github.com/ory/oathkeeper/issues/634)) ([c339fee](https://github.com/ory/oathkeeper/commit/c339fee771877dbc3e362d4656af53fe492cd58e))\n* Rename index documents ([7de0ac3](https://github.com/ory/oathkeeper/commit/7de0ac34f572d6da56cac482eda364514500a866))\n\n### Features\n\n* Add bearer_token authenticator ([#613](https://github.com/ory/oathkeeper/issues/613)) ([b623ae7](https://github.com/ory/oathkeeper/commit/b623ae7f68aac948f8e584fb9254e43a7272adf6)):\n\n    Adds a new authenticator to work with Kratos' new API token.\n    Works the same as the cookie_session authenticator but checks for a\n    bearer token in the Authorization header (unless overwritten by\n    token_from)\n\n\n\n# [0.38.5-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.4-beta.1...v0.38.5-beta.1) (2020-12-10)\n\nThe ORY Community is proud to present you the next iteration of ORY Oathkeeper. In this release, we focused on improving production stability and resolved several pesky bugs!\n\n\n\n### Bug Fixes\n\n* Check content-length header in lowercase ([#530](https://github.com/ory/oathkeeper/issues/530)) ([a68fc8a](https://github.com/ory/oathkeeper/commit/a68fc8aa3892311960c4e818fa413caf189b9f8d)):\n\n    Issue #422 didn't fix the problem with the requests' Content-Length\n    being copied in the responses because the check was case-sensitive and\n    unit tests didn't cover it.\n\n* Never construct id token claim templates in parallel ([#552](https://github.com/ory/oathkeeper/issues/552)) ([4f504d9](https://github.com/ory/oathkeeper/commit/4f504d9032a5be9ea6f82c723a655a0f9028c45a)), closes [#551](https://github.com/ory/oathkeeper/issues/551)\n* Remove token_type validation from introspection handler ([#556](https://github.com/ory/oathkeeper/issues/556)) ([b18d90a](https://github.com/ory/oathkeeper/commit/b18d90a94f2016b541164cf30654032628e4bc01)), closes [#553](https://github.com/ory/oathkeeper/issues/553)\n* Support windows file paths ([#557](https://github.com/ory/oathkeeper/issues/557)) ([6a05682](https://github.com/ory/oathkeeper/commit/6a05682dca21181db9e052300edf14fb40815bd3)), closes [#514](https://github.com/ory/oathkeeper/issues/514) [#332](https://github.com/ory/oathkeeper/issues/332)\n* Update dd-trace to fix build ([2e571fa](https://github.com/ory/oathkeeper/commit/2e571fa98880b62a174dbcfcdde2bb1a339cc7a3))\n\n### Code Generation\n\n* Pin v0.38.5-beta.1 release commit ([f4a04da](https://github.com/ory/oathkeeper/commit/f4a04dac17a77a0983bd8461a5db8438232aede4))\n\n### Documentation\n\n* Add contributing to sidebar ([#595](https://github.com/ory/oathkeeper/issues/595)) ([a3c9584](https://github.com/ory/oathkeeper/commit/a3c9584e848b3e71b33073c89299bc60c6d0b3ee)):\n\n    The same change as in https://github.com/ory/hydra/pull/2209\n\n* Add newsletter to config ([3c02e22](https://github.com/ory/oathkeeper/commit/3c02e22c398b5a573883b6c1cceb05aff15dcbea))\n* Correct sidebar.json ([#524](https://github.com/ory/oathkeeper/issues/524)) ([34e2077](https://github.com/ory/oathkeeper/commit/34e2077e872dcf7b23129623434a8ff0656da9fc))\n* Fix typo ([393af92](https://github.com/ory/oathkeeper/commit/393af92e06f0d562b7e7a7f40c6ff1caeca9523b))\n* Fix typo in API access rules and improve layout ([#599](https://github.com/ory/oathkeeper/issues/599)) ([6a30ce2](https://github.com/ory/oathkeeper/commit/6a30ce2e0df0101ba7449dbadcc68528337c01fa))\n* Fix typo in pipeline/error.md ([#568](https://github.com/ory/oathkeeper/issues/568)) ([5d04c6b](https://github.com/ory/oathkeeper/commit/5d04c6b30ccc1bbb1407f1f82123aa2e82372c36))\n* Resolve list in main docs ([1c2241c](https://github.com/ory/oathkeeper/commit/1c2241c1cbf615a07b483a3bb51fc3be9a50ae40)), closes [#602](https://github.com/ory/oathkeeper/issues/602)\n* Resolve regression issues ([82008b2](https://github.com/ory/oathkeeper/commit/82008b2a6a60583856c436b1adae2f6d306bf836))\n\n### Features\n\n* Forward original authorization header when using remote (json) authorizer ([#554](https://github.com/ory/oathkeeper/issues/554)) ([f4f781e](https://github.com/ory/oathkeeper/commit/f4f781e5ec998e3656b6cf3c46c83c0faf6527ef)), closes [#528](https://github.com/ory/oathkeeper/issues/528)\n* Use google/go-cloud to fetch rules and credentials from object storage ([#562](https://github.com/ory/oathkeeper/issues/562)) ([666b951](https://github.com/ory/oathkeeper/commit/666b9514ec37acfe2bb90ce62d5ee845853528fd)), closes [#518](https://github.com/ory/oathkeeper/issues/518) [#518](https://github.com/ory/oathkeeper/issues/518)\n\n### Unclassified\n\n* docs. fix typo in list ([335189f](https://github.com/ory/oathkeeper/commit/335189fba1d4c3db841c0cf9c51412adc7bdae01))\n\n\n# [0.38.4-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.3-beta.1...v0.38.4-beta.1) (2020-09-28)\n\nThis release stabilizes several features and resolves a couple of bugs.\n\n\n\n### Bug Fixes\n\n* Add tests in error_redirect_test.go ([#522](https://github.com/ory/oathkeeper/issues/522)) ([24bdd9b](https://github.com/ory/oathkeeper/commit/24bdd9bdc56a46953a393d503ccfd2416cf11bcf)):\n\n    Increased tests coverage to cover for all the three valid scenarios - http absolute, https absolute, relative. Explicitly checked Location path to ensure that correct uri scheme was returned\n\n* Deprecated key in goreleaser config ([2a4f901](https://github.com/ory/oathkeeper/commit/2a4f90127e66917dfaa72f8089efa5149631434d))\n* Ignore x/net false positives ([bc8a32c](https://github.com/ory/oathkeeper/commit/bc8a32c9fcf8cbd9fc6b46b9c8d607745fb05a1e))\n* Misleading HTTP status code for oauth2_client_credentials authenticator ([#504](https://github.com/ory/oathkeeper/issues/504)) ([0f65631](https://github.com/ory/oathkeeper/commit/0f65631af61e6a4098745f0149b0154d5dd7386c)), closes [#496](https://github.com/ory/oathkeeper/issues/496)\n\n### Code Generation\n\n* Pin v0.38.4-beta.1 release commit ([1c997b2](https://github.com/ory/oathkeeper/commit/1c997b281b27db9dcc010b299d2df9e0ef126c9d))\n\n### Documentation\n\n* Fix broken links ([dd3bfbe](https://github.com/ory/oathkeeper/commit/dd3bfbe01ed450ff88a492c041affeaaf17027c9))\n* Fix OAuth2 Introspect Authn Config Documentation ([#498](https://github.com/ory/oathkeeper/issues/498)) ([7612e20](https://github.com/ory/oathkeeper/commit/7612e207e96841aad3dcf5806f5af2cc42024075)):\n\n    Switch the definitions for the pre-authorisation fields 'scope' and 'token endpoint' in the documentation.\n\n* Fix sidebar ([28247fc](https://github.com/ory/oathkeeper/commit/28247fcf53ed5c47879ada62456ab39b29c5752a))\n* Guide for integrating with ORY Hydra ([#497](https://github.com/ory/oathkeeper/issues/497)) ([e1b1751](https://github.com/ory/oathkeeper/commit/e1b175183b8ce9e7d2befae3269d2c5cd959e3e0))\n* Move development section ([582a4d0](https://github.com/ory/oathkeeper/commit/582a4d0e880649cc64aa647b2c35e432b3f234e2))\n* Move to json sidebar ([b67230d](https://github.com/ory/oathkeeper/commit/b67230d038ef0b101c6362ab3e1c34a6924cfc96))\n* Remove duplicate template ([01550b4](https://github.com/ory/oathkeeper/commit/01550b4e28b45b4deb1c1a3f685a1962f7633833))\n* Update repository templates ([2aaf766](https://github.com/ory/oathkeeper/commit/2aaf766444cb9ae9b794c9638553a32931276a39))\n* Update repository templates ([#506](https://github.com/ory/oathkeeper/issues/506)) ([cb53d79](https://github.com/ory/oathkeeper/commit/cb53d79f4ee36266ed7d2c5a1de6147884cbb3cf))\n\n### Features\n\n* Add and automate version schema ([7ab4012](https://github.com/ory/oathkeeper/commit/7ab40128352eb4e6639fe4828da7bdd3690e327e))\n* Add url_param config option to redirect error handler. ([#520](https://github.com/ory/oathkeeper/issues/520)) ([b5bb3bc](https://github.com/ory/oathkeeper/commit/b5bb3bc6b88ea8b26d53f03477fce1b74f113b97)), closes [#511](https://github.com/ory/oathkeeper/issues/511):\n\n    This change introduces a url_param config option for redirect error handler.\n    If it contains a url paramter name, the redirect url will have this parameter\n    set, containing the current url (from which Oathkeeper has redirected the user).\n    \n    This can be useful in passing the return_to url to Kratos, so user can be\n    redirected to the page they initially wanted to access after a successfull sign in.\n\n* Log invalid credentials on info level instead of error/warning ([#517](https://github.com/ory/oathkeeper/issues/517)) ([a372b5f](https://github.com/ory/oathkeeper/commit/a372b5f833305ad85451cfb99b1db9e10ae8b8dc)), closes [#505](https://github.com/ory/oathkeeper/issues/505)\n* Use uri-reference for errors redirect to allow relative urls ([#516](https://github.com/ory/oathkeeper/issues/516)) ([0d39674](https://github.com/ory/oathkeeper/commit/0d3967409786c23de8e97f5c588cc4e9837a1550))\n\n### Unclassified\n\n* Run go format ([2c25a2a](https://github.com/ory/oathkeeper/commit/2c25a2ad18bba7bf72e612b2005f1080e164d0d9))\n\n\n# [0.38.3-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.2-beta.1...v0.38.3-beta.1) (2020-07-29)\n\nThis release addresses several configuration bugs and resolves a potential panic.\n\n\n\n### Bug Fixes\n\n* Matcher.Match panic on nil *url.URL ([#485](https://github.com/ory/oathkeeper/issues/485)) ([ab27dda](https://github.com/ory/oathkeeper/commit/ab27dda253d7c3f8bb9fae45c1f50e86e24e193c)), closes [#484](https://github.com/ory/oathkeeper/issues/484)\n* Remove HTTP method restrictions ([#472](https://github.com/ory/oathkeeper/issues/472)) ([bf8a888](https://github.com/ory/oathkeeper/commit/bf8a88884fa575c6ed397c92598c7436461028c6))\n* Resolve build issues and bump herodot ([f15e38d](https://github.com/ory/oathkeeper/commit/f15e38dc533010babd21aeaa91d48dd4abbbdddc))\n* Use ory-dev instead of swagutil ([#465](https://github.com/ory/oathkeeper/issues/465)) ([3fce382](https://github.com/ory/oathkeeper/commit/3fce382e83c95049b561a97365d0b4cc2f73bc54))\n\n### Code Generation\n\n* Pin v0.38.3-beta.1 release commit ([1f754a9](https://github.com/ory/oathkeeper/commit/1f754a90d50c66545ce326ff1780894f4b2cbcfe))\n\n### Documentation\n\n* Delete old redirect homepage ([a1a4610](https://github.com/ory/oathkeeper/commit/a1a4610194558f1024d2409c6f1975b72a0f856e))\n* Fix access rule example ([739f179](https://github.com/ory/oathkeeper/commit/739f179ca2ca9d8ca42ca1995b3febac322bbeb2))\n* Fix api access rule example ([#460](https://github.com/ory/oathkeeper/issues/460)) ([c75cd97](https://github.com/ory/oathkeeper/commit/c75cd978899b719edbd8ad80f7c7a48aded20252))\n* Update repository templates ([edffc2e](https://github.com/ory/oathkeeper/commit/edffc2ee354ae4ec26e19e728b9f3117a0ec879c))\n* Update repository templates ([7af8749](https://github.com/ory/oathkeeper/commit/7af8749e949c48f5750950def62290f2694e1b09))\n* Use central banner repo for README ([04fe00c](https://github.com/ory/oathkeeper/commit/04fe00c0cd92c717ea2dc4149450f07206306f51))\n* Use mdx for api reference ([368f073](https://github.com/ory/oathkeeper/commit/368f073a2d91b4fc9677436bcec63c6f339b0c93))\n\n### Features\n\n* Improve configurability of prometheus metrics ([#450](https://github.com/ory/oathkeeper/issues/450)) ([ddcb226](https://github.com/ory/oathkeeper/commit/ddcb2262e6edc417c69bf2d713fa67f235481d32)), closes [#446](https://github.com/ory/oathkeeper/issues/446)\n* Pass query parameters to the hydrators ([#479](https://github.com/ory/oathkeeper/issues/479)) ([48603a1](https://github.com/ory/oathkeeper/commit/48603a1ac484b6571706021f2667f770604256b6))\n\n\n# [0.38.2-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.1-beta.1...v0.38.2-beta.1) (2020-05-25)\n\nThis patch makes timeouts configurable for oauth2_client_credentials and the reverse proxy and additionally allows prometheus to be configured.\n\n\n\n### Bug Fixes\n\n* Move prometheus validation stanza to local schema ([#437](https://github.com/ory/oathkeeper/issues/437)) ([dcf3e14](https://github.com/ory/oathkeeper/commit/dcf3e14f2b4e09deb40260303061f27bcb55503c)), closes [#438](https://github.com/ory/oathkeeper/issues/438)\n\n### Chores\n\n* Pin v0.38.2-beta.1 release commit ([0de2682](https://github.com/ory/oathkeeper/commit/0de2682a1e0d556688c48db52ccc4e24f2bce336))\n\n### Documentation\n\n* Update github templates ([#434](https://github.com/ory/oathkeeper/issues/434)) ([37d34a3](https://github.com/ory/oathkeeper/commit/37d34a3a4f728a5ba39cef6118cd7e9f5e78bcd2))\n\n### Features\n\n* Add configurable timeouts to API server ([#440](https://github.com/ory/oathkeeper/issues/440)) ([0dc6292](https://github.com/ory/oathkeeper/commit/0dc6292eb4784505be5100c6b20ade6235e277ac))\n* Timeout config for oauth2_client_credentials ([#443](https://github.com/ory/oathkeeper/issues/443)) ([2462fa3](https://github.com/ory/oathkeeper/commit/2462fa3f97601009aff9b45c7c288d7a1afdec45)), closes [#442](https://github.com/ory/oathkeeper/issues/442)\n\n\n# [0.38.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.0-beta.2...v0.38.1-beta.1) (2020-05-08)\n\nCaching in the hydrator mutator has been improved. Please use `cache.enable=true` if you intend using the hydrator.\n\n\n\n### Bug Fixes\n\n* Improve caching strategy and config for hydrator ([#433](https://github.com/ory/oathkeeper/issues/433)) ([0047054](https://github.com/ory/oathkeeper/commit/00470541fb3d5d2672ef068c9e02c20deaac3d0d)):\n\n    To enable the hydrator cache you must now use the `cache.enabled` property. Also, the cache key strategy has been improved.\n\n\n### Chores\n\n* Pin v0.38.1-beta.1 release commit ([20f439d](https://github.com/ory/oathkeeper/commit/20f439d9df7eed3a7c8c163234b70c9260439613))\n\n\n# [0.38.0-beta.2](https://github.com/ory/oathkeeper/compare/v0.37.1-beta.1...v0.38.0-beta.2) (2020-05-07)\n\nThis release introduces Prometheus support, a new `remote` authorizer, caching, and several bugfixes!\n\nNo backwards incompatible changes have been introduced.\n\n\n\n### Bug Fixes\n\n* Add old schemas to resolve issues with old versions ([b94c391](https://github.com/ory/oathkeeper/commit/b94c391446a694971fa54a53eb08f9d57ad5eb24)), closes [#400](https://github.com/ory/oathkeeper/issues/400)\n* Don't copy the decision endpoint request's Content-Length ([#422](https://github.com/ory/oathkeeper/issues/422)) ([0e99045](https://github.com/ory/oathkeeper/commit/0e990459104c7683764f4ed0e0a6b7162b57cd57)):\n\n    We currently copy all original request headers send to the decission\n    endpoint back. This can include the Content-Length header which\n    describes the request body or response. Including the original\n    request Content-Length causes issues for the decission endpoint\n    client if the response body doesn't match the exact size.\n    \n    This change makes sure the Content-Length doesn't get included in\n    the response body and adds a test to prevent future regressions.\n\n* Respect retry in token introspection ([#410](https://github.com/ory/oathkeeper/issues/410)) ([88f7b69](https://github.com/ory/oathkeeper/commit/88f7b69c9ff252ddc3dbe960155883ec98115fd0))\n* Update install.sh script ([#429](https://github.com/ory/oathkeeper/issues/429)) ([2d2eded](https://github.com/ory/oathkeeper/commit/2d2eded4075c2649e449d80dbb871b0da739a9ac))\n* Use pipe to pass body remote authorizer ([#426](https://github.com/ory/oathkeeper/issues/426)) ([1a44087](https://github.com/ory/oathkeeper/commit/1a44087f424d8a01437769c6bce177eab36c195f)):\n\n    Resolves flaky tests.\n\n* Use semver-regex replacer func ([a13cdf5](https://github.com/ory/oathkeeper/commit/a13cdf5d9a518e3095545e30d15c7c4b7859752b))\n\n### Chores\n\n* Pin v0.38.0-beta.2 release commit ([73d36cd](https://github.com/ory/oathkeeper/commit/73d36cd367c1c93d4b6e93be180c982789924356))\n\n### Code Refactoring\n\n* Move docs to this repository ([#396](https://github.com/ory/oathkeeper/issues/396)) ([11cb851](https://github.com/ory/oathkeeper/commit/11cb851a7cc42120c2d890fbeefcba55d6ff0e5a))\n\n### Documentation\n\n* Add `authentication_handler_no_match` to error example ([ad182f4](https://github.com/ory/oathkeeper/commit/ad182f4af9723aff79c227431045444140c24f25))\n* Add missing import ([b76ee9c](https://github.com/ory/oathkeeper/commit/b76ee9c8b6cb07adf7b9cdd421712dfdcb5f8340))\n* Regenerate and update changelog ([7121f65](https://github.com/ory/oathkeeper/commit/7121f6514a0ba0d61831792972ed833117911551))\n* Regenerate and update changelog ([6fd7d66](https://github.com/ory/oathkeeper/commit/6fd7d667e3c7738bc7a4ab82c490a6d7343e85bd))\n* Regenerate and update changelog ([531200c](https://github.com/ory/oathkeeper/commit/531200cecae0bb8853ff9d5d557cb9176137545b))\n* Regenerate and update changelog ([cf8ad0c](https://github.com/ory/oathkeeper/commit/cf8ad0c635042de54590030387220c1a16b9268c))\n* Update github templates ([#407](https://github.com/ory/oathkeeper/issues/407)) ([9979d77](https://github.com/ory/oathkeeper/commit/9979d77d7eda95a2438f3f5cc9b85d3d0aa2857c))\n* Update github templates ([#409](https://github.com/ory/oathkeeper/issues/409)) ([f92a029](https://github.com/ory/oathkeeper/commit/f92a0294d8d365fddbb67caa0367daa78f7b25e9))\n* Update github templates ([#412](https://github.com/ory/oathkeeper/issues/412)) ([884c113](https://github.com/ory/oathkeeper/commit/884c113f2bb8698a2d24399d048faf5018846e54))\n* Update github templates ([#413](https://github.com/ory/oathkeeper/issues/413)) ([6d7cba7](https://github.com/ory/oathkeeper/commit/6d7cba76e893d51db71687b2981837a333d71666))\n* Update github templates ([#413](https://github.com/ory/oathkeeper/issues/413)) ([d692fbf](https://github.com/ory/oathkeeper/commit/d692fbfb9bcba77c32a94b530e82fbd5e2b61856))\n* Update linux install guide ([#414](https://github.com/ory/oathkeeper/issues/414)) ([a0e2cc0](https://github.com/ory/oathkeeper/commit/a0e2cc0ea324d908a8741df75e3259e30a302dbb))\n* Updates issue and pull request templates ([#392](https://github.com/ory/oathkeeper/issues/392)) ([3724ebc](https://github.com/ory/oathkeeper/commit/3724ebc63a85050525d86d81a70eeadccac72c1a))\n* Updates issue and pull request templates ([#393](https://github.com/ory/oathkeeper/issues/393)) ([a4ade5c](https://github.com/ory/oathkeeper/commit/a4ade5ca29a9ce24a3ffb6c9705c4723e67f9619))\n* Updates issue and pull request templates ([#394](https://github.com/ory/oathkeeper/issues/394)) ([0ef037a](https://github.com/ory/oathkeeper/commit/0ef037abcec226039eb1a69dfc442df53d430ce1))\n* Updates issue and pull request templates ([#395](https://github.com/ory/oathkeeper/issues/395)) ([ecab261](https://github.com/ory/oathkeeper/commit/ecab26119e32fa7c6947a7da17f2095292d02f2d))\n* Use correct headline for cc handler ([#420](https://github.com/ory/oathkeeper/issues/420)) ([1401610](https://github.com/ory/oathkeeper/commit/1401610dffc7bef5823199059a4d9fc25cbde264))\n\n### Features\n\n* Add cache to hydrator ([#418](https://github.com/ory/oathkeeper/issues/418)) ([1ae6e7a](https://github.com/ory/oathkeeper/commit/1ae6e7a958d602533f54cada5d231bcf1bace093)), closes [#417](https://github.com/ory/oathkeeper/issues/417):\n\n    This patch introduces new configuration parameters that allow the hydrator mutator to cache requests.\n\n* Add new remote authorizer that uses request body and headers ([#416](https://github.com/ory/oathkeeper/issues/416)) ([3a20637](https://github.com/ory/oathkeeper/commit/3a206376c0ec4d72d5d6ec66c2d738199a24e0c6)):\n\n    This pull request implements a new authorizer that sends the original request body as body to the remote endpoint. This allows the remote endpoint to take the body into account in its decision.\n    \n    The current remote_json authorizer does not have the ability to send\n    the request body of the request to authorize. This means this cannot\n    be taken into account while checking permissions.\n    \n    Providing the request body as part of the JSON payload won't always\n    work as JSON cannot handle binary data.\n\n* Add prometheus docs ([#427](https://github.com/ory/oathkeeper/issues/427)) ([117ee6a](https://github.com/ory/oathkeeper/commit/117ee6a4c53035651f41a5bb4a9afe3c8b0c7438))\n* Add prometheus endpoint providing basic request metrics ([#404](https://github.com/ory/oathkeeper/issues/404)) ([fdaed46](https://github.com/ory/oathkeeper/commit/fdaed46bcffbbdf593e94bc1784df88809e63fcd)):\n\n    This patch adds basic prometheus metrics. The prometheus metrics are exposed at the default prometheus exporter port 9000 and is configurable with:\n    \n    ```\n     serve:\n       prometheus:\n         port: 9000\n         host: localhost\n         metrics_path: /metrics\n    ```\n\n* Oauth2_introspect cache introspection results ([#424](https://github.com/ory/oathkeeper/issues/424)) ([d4557ae](https://github.com/ory/oathkeeper/commit/d4557aeac69e84d36dfc2a1ab97c61188c93457f)), closes [#293](https://github.com/ory/oathkeeper/issues/293)\n\n\n# [0.37.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.37.0-beta.1...v0.37.1-beta.1) (2020-04-03)\n\nchore: replace segment with ory fork (#391)\n\n\n\n\n### Chores\n\n* Replace segment with ory fork ([#391](https://github.com/ory/oathkeeper/issues/391)) ([77d0b48](https://github.com/ory/oathkeeper/commit/77d0b48c8de5b4681f49f90e306e5b2324ac0d5d))\n\n### Documentation\n\n* Regenerate and update changelog ([4e251e9](https://github.com/ory/oathkeeper/commit/4e251e904a4028a01687b0155108cc9c315e6941))\n\n\n# [0.37.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.36.0-beta.4...v0.37.0-beta.1) (2020-04-02)\n\ndocs: document v0.36 and v0.37\n## Breaking Changes\n\nThis feature allows to use the regex capture groups from the URL matcher to be used in several places, including the ID Token generator and elsewhere. To get this working, existing `keto_engine_acp_ory` authorizers are no longer able to use regex substition in the form of `my:action:$1` but instead must use the new format which is `{{ printIndex .MatchContext.RegexpCaptureGroups 0}}` (notice that the index changed by *-1*). A rule migrator exists which makes old rules compatible with the new format, if a version string is given. More details on the rule migration can be found here: https://github.com/ory/oathkeeper/pull/358/commits/fd16ceb230a1b14ebb01a147d2d70acce77f9fbd#diff-6177fb19f1b7d7bc392f5062b838df15\n\n### Bug Fixes\n\n* Add rule id to malformed configuration log error ([#386](https://github.com/ory/oathkeeper/issues/386)) ([7688a8d](https://github.com/ory/oathkeeper/commit/7688a8dc4dc0ebd5bd173d77bc7cd8cacc8e50e2))\n* Disable test that fails with low cache hit rate ([#372](https://github.com/ory/oathkeeper/issues/372)) ([5414dda](https://github.com/ory/oathkeeper/commit/5414ddadb0b210d3a90b69183449ba7d5723ba6c)), closes [#371](https://github.com/ory/oathkeeper/issues/371)\n* Improve id_token performance with caching ([#367](https://github.com/ory/oathkeeper/issues/367)) ([47e9fee](https://github.com/ory/oathkeeper/commit/47e9feefcea2d3508932ef3b323709b0bfa0d707)), closes [#364](https://github.com/ory/oathkeeper/issues/364)\n* Load config file only in serve command ([#365](https://github.com/ory/oathkeeper/issues/365)) ([68c8546](https://github.com/ory/oathkeeper/commit/68c85469b4523e5accf3de8e97b97b87416875d3))\n* Replace segment with our own sqa endpoint ([#385](https://github.com/ory/oathkeeper/issues/385)) ([8f63eda](https://github.com/ory/oathkeeper/commit/8f63eda6370fb389307cd8b313437292965a2107))\n* SendOAuth2 introspection scope only when strategy is none ([#379](https://github.com/ory/oathkeeper/issues/379)) ([5e0c8dc](https://github.com/ory/oathkeeper/commit/5e0c8dcdc4a64662f59372a488ec633bcdbc0d85)), closes [#377](https://github.com/ory/oathkeeper/issues/377):\n\n    This patch removes the `scope` key from the OAuth2 Introspection request body when a scope strategy other than `none` is set for the OAuth2 Introspection handler. If the scope strategy is `none`, the `scope` key is included in the body.\n\n* Token expiration error in tests ([#390](https://github.com/ory/oathkeeper/issues/390)) ([9c07a73](https://github.com/ory/oathkeeper/commit/9c07a7349cdf560c0ba29a637aaec93021757d27))\n* **docker:** Improve docker-compose example ([#325](https://github.com/ory/oathkeeper/issues/325)) ([1247381](https://github.com/ory/oathkeeper/commit/12473815dad3fcbc57ea102dd982170960adb9f6)), closes [#324](https://github.com/ory/oathkeeper/issues/324):\n\n    Add a new file 'Dockerfile-dc' which will primarily be used by Docker Compose to\n    build docker images. Unlike the existing Dockerfile which depends on the Makefile\n    to build the binary, this Dockerfile copies the source code and builds the\n    binary.\n    \n    Oathkeeper has gone through a couple of changes since the initial draft of the\n    docker compose file, considering these changes and the newly introduced\n    Dockerfile in the previous commit, make these changes to the docker-compose.yml:\n    1. Bump the version of the compose file to 3.\n    2. Remove the need for the postgres database app, since Oathkeeper no longer needs a\n    database.\n    3. Remove the need for the migration app, since we no longer need to migrate since\n    there is no database and the option is deprecated.\n    4. Use the newly defined Dockerfile 'Dockerfile-dc'.\n    5. We now serve both API and PROXY from the same app, so we don't need two\n    instances of the app.\n    6. Add sample config, rules and JWK files to `.docker_compose`, mount this via a\n    volume mount.\n\n\n### Documentation\n\n* Change link to Developer Install Guide ([#369](https://github.com/ory/oathkeeper/issues/369)) ([f7fe46f](https://github.com/ory/oathkeeper/commit/f7fe46f9e183c53b5af71592c05cacf6b7584a2c)):\n\n    Changing the link to the Developer Documentation - it was pointing to Keto and not to Oathkeeper.\n\n* Document v0.36 and v0.37 ([a176c73](https://github.com/ory/oathkeeper/commit/a176c7301baddbec572e3451830ee1f32dc55c75))\n* Fix examples for some JSON Schema config keys ([#363](https://github.com/ory/oathkeeper/issues/363)) ([aeeb353](https://github.com/ory/oathkeeper/commit/aeeb35399588422ea25780406f1726cad5082315))\n* Regenerate and update changelog ([9417e2c](https://github.com/ory/oathkeeper/commit/9417e2c213a5e9394d88638dc24e36dc2d9b3387))\n* Regenerate and update changelog ([b817037](https://github.com/ory/oathkeeper/commit/b817037fea1131e20fbd829927af00f2a27b951d))\n* Regenerate and update changelog ([33a5524](https://github.com/ory/oathkeeper/commit/33a55240803c6615e8550de371b60d040ae9f2fe))\n* Regenerate and update changelog ([888b7a6](https://github.com/ory/oathkeeper/commit/888b7a6f2255a2e1457fc88712ad4d80b87000ba))\n* Regenerate and update changelog ([36faa3b](https://github.com/ory/oathkeeper/commit/36faa3bbc4a0befd59a61c25664b184fa07baaeb))\n* Regenerate and update changelog ([32b6059](https://github.com/ory/oathkeeper/commit/32b605921b88e163299e47847099ab985e3cbfcd))\n* Regenerate and update changelog ([ba4de09](https://github.com/ory/oathkeeper/commit/ba4de09211f249b6a719308ec5b1ea803642aa20))\n* Regenerate and update changelog ([a76f749](https://github.com/ory/oathkeeper/commit/a76f749dfe5c6ad988da6ba0b2ac4be5a22b0f9d))\n* Regenerate and update changelog ([1789d00](https://github.com/ory/oathkeeper/commit/1789d003699c7140e29b1a1a967f6ccd3b1e6916))\n* Regenerate and update changelog ([0dfc608](https://github.com/ory/oathkeeper/commit/0dfc6081c1da853477737a3ec41a9ac8e51faebc))\n* Regenerate and update changelog ([b23c79a](https://github.com/ory/oathkeeper/commit/b23c79ac318bd394eaf3c48f8d3e6c157a234df9))\n* Regenerate and update changelog ([2117171](https://github.com/ory/oathkeeper/commit/2117171a17b345fb62f9234d3a5443728dca5315))\n* Regenerate and update changelog ([38c9e19](https://github.com/ory/oathkeeper/commit/38c9e19a4b5fe708c60fc694e6ca526d201872eb))\n* Regenerate and update changelog ([e3eda75](https://github.com/ory/oathkeeper/commit/e3eda753c3696345f030c4311b66f29296e4183c))\n* Regenerate and update changelog ([e7d70f7](https://github.com/ory/oathkeeper/commit/e7d70f71bd1d803f4b1e58149875becb8abfa9ad))\n* Regenerate and update changelog ([874b7a9](https://github.com/ory/oathkeeper/commit/874b7a9cb03d28cc40a8f7e242158414075f0961))\n* Regenerate and update changelog ([6b1d94b](https://github.com/ory/oathkeeper/commit/6b1d94b7c3eeae9c69154b85ecdcff7759fd98a9))\n* Regenerate and update changelog ([cb38415](https://github.com/ory/oathkeeper/commit/cb384152a82830f14768d2e0ec30cc8f65c8583c))\n* Regenerate and update changelog ([bec6af0](https://github.com/ory/oathkeeper/commit/bec6af0a9b78a880296fce59eb150ac21ee3d13b))\n* Update forum and chat links ([d9eed10](https://github.com/ory/oathkeeper/commit/d9eed10abd43eb41362fcc0f36e47a6f88658835))\n* Update README.md ([#375](https://github.com/ory/oathkeeper/issues/375)) ([313d2fe](https://github.com/ory/oathkeeper/commit/313d2fe99f699c441e6f8e24abb096e239a17f83)), closes [#374](https://github.com/ory/oathkeeper/issues/374):\n\n    Fixed link to Envoy configuration page and added link to AWS API Gateway.\n\n* Updates issue and pull request templates ([#382](https://github.com/ory/oathkeeper/issues/382)) ([484c406](https://github.com/ory/oathkeeper/commit/484c406785c2633feee3cb9179a94147085cadd6))\n\n### Features\n\n* **authz:** Add remote_json authorizer ([#389](https://github.com/ory/oathkeeper/issues/389)) ([45b9f8b](https://github.com/ory/oathkeeper/commit/45b9f8b981f0227a92ff5c4001061e86afc0701f)), closes [/github.com/ory/docs/commit/07a229701835d75e9c2e4b939badb2d5b96ae6aa#diff-c400219db6c7e4b6abab71839d9d294eR272](https://github.com//github.com/ory/docs/commit/07a229701835d75e9c2e4b939badb2d5b96ae6aa/issues/diff-c400219db6c7e4b6abab71839d9d294eR272) [#201](https://github.com/ory/oathkeeper/issues/201)\n* Add MatchContext in the AuthenticationSession ([#358](https://github.com/ory/oathkeeper/issues/358)) ([a421293](https://github.com/ory/oathkeeper/commit/a421293a05afaca2ac3695940bc72b4b9f7a1b68))\n* Enable OpenTracing ([#376](https://github.com/ory/oathkeeper/issues/376)) ([cb0f3f2](https://github.com/ory/oathkeeper/commit/cb0f3f23bbf32f04855eff497c36553fc30c7364))\n* **authn:** Make oauth2_intsropsection configurable timeout ([#370](https://github.com/ory/oathkeeper/issues/370)) ([0a39511](https://github.com/ory/oathkeeper/commit/0a395115123e34be0dbb47608a96dad2dca5e60c))\n\n\n# [0.36.0-beta.4](https://github.com/ory/oathkeeper/compare/v0.36.0-beta.3...v0.36.0-beta.4) (2020-02-14)\n\ndocs: Regenerate and update changelog\n\n\n\n### Bug Fixes\n\n* **goreleaser:** Update brew section ([46fb3da](https://github.com/ory/oathkeeper/commit/46fb3da4fc4ba78b109ba740fb6bb8309a8be0f5))\n\n### Documentation\n\n* Regenerate and update changelog ([95a7c09](https://github.com/ory/oathkeeper/commit/95a7c091165b8a9acebedb197208fadc04585d4a))\n\n\n# [0.36.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.5-beta.2...v0.36.0-beta.1) (2020-02-05)\n\ndocs: Regenerate and update changelog\n\n\n\n### Documentation\n\n* Prepare ecosystem automation ([81ea56b](https://github.com/ory/oathkeeper/commit/81ea56b46da543c02c5977b27ec3671b5bcc4abe))\n* Regenerate and update changelog ([b71e48c](https://github.com/ory/oathkeeper/commit/b71e48c473bd428286473f8d8472f74187377eb2))\n* Regenerate and update changelog ([4f22e42](https://github.com/ory/oathkeeper/commit/4f22e42e1577c92b8005887dfc1a2dc48a5d392d))\n* Regenerate and update changelog ([23e053f](https://github.com/ory/oathkeeper/commit/23e053fb289e663ae00bdbf9201c2ad1a245226b))\n* Updates issue and pull request templates ([#355](https://github.com/ory/oathkeeper/issues/355)) ([f9251ed](https://github.com/ory/oathkeeper/commit/f9251edeb0d3e482acf278040f95c3f49db5a100))\n\n### Features\n\n* **ci:** Add nancy vuln scanner ([#354](https://github.com/ory/oathkeeper/issues/354)) ([de36e40](https://github.com/ory/oathkeeper/commit/de36e401134f09762d5815e3fe37d9cb16dd8d81))\n* **rule:** Add glob matching strategy ([#334](https://github.com/ory/oathkeeper/issues/334)) ([5f983ab](https://github.com/ory/oathkeeper/commit/5f983ab118ce784a49a38e6024b99b8791907d4b)), closes [#321](https://github.com/ory/oathkeeper/issues/321):\n\n    This patch adds the ability to choose a matching strategy and adds a glob-based matching strategy to the available options (regex is still the default).\n\n\n### Unclassified\n\n* Update CHANGELOG [ci skip] ([8278b9d](https://github.com/ory/oathkeeper/commit/8278b9db8a43c57d4169e232cb9f25ef9257dd8c))\n* Update CHANGELOG [ci skip] ([17f78b7](https://github.com/ory/oathkeeper/commit/17f78b7cdf739f66de3de66199c00e82ff974826))\n* Update CHANGELOG [ci skip] ([d6f6925](https://github.com/ory/oathkeeper/commit/d6f69257b86e249c70a2e808524d43da11315a59))\n* Update CHANGELOG [ci skip] ([0e109ce](https://github.com/ory/oathkeeper/commit/0e109cee1222e8277157807d14f8b9ae7c1120d9))\n\n\n# [0.35.5-beta.2](https://github.com/ory/oathkeeper/compare/v0.35.5-beta.1...v0.35.5-beta.2) (2020-01-31)\n\nUpdate README.md\n\n\n### Unclassified\n\n* Update README.md ([a40c613](https://github.com/ory/oathkeeper/commit/a40c613582add4742e245516f5b4fdef31be7cb0))\n* Update CHANGELOG [ci skip] ([963d60d](https://github.com/ory/oathkeeper/commit/963d60d802a56b87390bfdb10632b7e5754398aa))\n\n\n# [0.35.5-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.4-beta.1...v0.35.5-beta.1) (2020-01-27)\n\nHash enabled check to further improve performance (#353)\n\n\n\n\n### Unclassified\n\n* Hash enabled check to further improve performance (#353) ([19099cb](https://github.com/ory/oathkeeper/commit/19099cb86ea236ef503c1274393dd17fd11041ae)), closes [#353](https://github.com/ory/oathkeeper/issues/353)\n* Update CHANGELOG [ci skip] ([6afdeae](https://github.com/ory/oathkeeper/commit/6afdeae82260db0905f2e14a36ff23da59bdb29f))\n* Update CHANGELOG [ci skip] ([3226ae6](https://github.com/ory/oathkeeper/commit/3226ae6d69837ae64d357e92236153c32c19e2cf))\n\n\n# [0.35.4-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.3-beta.1...v0.35.4-beta.1) (2020-01-26)\n\nUpdate release pipeline and tests (#351)\n\n\n\n\n### Unclassified\n\n* Update release pipeline and tests (#351) ([c7d81a9](https://github.com/ory/oathkeeper/commit/c7d81a99243a2adb1387ada12550303c76ae9768)), closes [#351](https://github.com/ory/oathkeeper/issues/351)\n\n\n# [0.35.3-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.1-beta.1...v0.35.3-beta.1) (2020-01-26)\n\nUpdate CHANGELOG [ci skip]\n\n\n\n### Documentation\n\n* Updates issue and pull request templates ([#341](https://github.com/ory/oathkeeper/issues/341)) ([eca2652](https://github.com/ory/oathkeeper/commit/eca26527f64cb80b8df2df96910a33f993d9af37))\n\n### Unclassified\n\n* Update CHANGELOG [ci skip] ([518b765](https://github.com/ory/oathkeeper/commit/518b76578519786921ef0d209f3f83dcfd6f217b))\n* Update SDK ([5e619a0](https://github.com/ory/oathkeeper/commit/5e619a03687cbfe71b559d8945062a3fa4a5e4f3))\n* Cache pipeline config and improve request latency ([#348](https://github.com/ory/oathkeeper/issues/348)) ([95673ed](https://github.com/ory/oathkeeper/commit/95673eddf02968250359067a3fe887adb46c2be6)), closes [#346](https://github.com/ory/oathkeeper/issues/346)\n* Update CHANGELOG [ci skip] ([495adcf](https://github.com/ory/oathkeeper/commit/495adcf2af7c2f161c9845cb358ef33f9afb42f3))\n* Use integer instead of number in config JSON schema ([280b42f](https://github.com/ory/oathkeeper/commit/280b42fdedc0305b40398a2a213848d64d52e6c0))\n* Update CHANGELOG [ci skip] ([b72965f](https://github.com/ory/oathkeeper/commit/b72965fce04941733f45277777349cfad6f41062))\n* Update SDK ([aedabd9](https://github.com/ory/oathkeeper/commit/aedabd9834bb3a316b211f82cc4d9d9f90ab3bd6))\n* Set min/max for port range in config JSON Schema (#345) ([d7d696f](https://github.com/ory/oathkeeper/commit/d7d696f62e91cf9d0300a1af8e2fd70676164ec6)), closes [#345](https://github.com/ory/oathkeeper/issues/345)\n* Update CHANGELOG [ci skip] ([8e4d58c](https://github.com/ory/oathkeeper/commit/8e4d58ce809dd10e98a3ad3530cdd81b24a967f0))\n* Fix profiling env variable not being picked up (#343) ([29b0cf1](https://github.com/ory/oathkeeper/commit/29b0cf14de575434ce94def5e6031b76e28042de)), closes [#343](https://github.com/ory/oathkeeper/issues/343)\n* Update CHANGELOG [ci skip] ([e7a5d89](https://github.com/ory/oathkeeper/commit/e7a5d8928d9ef4def4bf53063c24b27d07e08946))\n* Update CHANGELOG [ci skip] ([abc00d4](https://github.com/ory/oathkeeper/commit/abc00d46ec26debe6983f11e3a013865c969e6e6))\n* Update SDK ([a237c29](https://github.com/ory/oathkeeper/commit/a237c2975efc34fc63a2fdb302b1086d072d2146))\n* Update broken links in README ([78e498c](https://github.com/ory/oathkeeper/commit/78e498c0eb24380671364d333447abd0f25de1e8))\n\n\n# [0.35.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.0-beta.1...v0.35.1-beta.1) (2020-01-14)\n\nUpdate CHANGELOG [ci skip]\n\n\n\n### Unclassified\n\n* Update CHANGELOG [ci skip] ([63b0076](https://github.com/ory/oathkeeper/commit/63b0076a264537ffd22f6f787c508598306c8661))\n\n\n# [0.35.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.0-alpha.1...v0.35.0-beta.1) (2020-01-13)\n\nUpdate CHANGELOG [ci skip]\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.34.0-beta.1 [ci skip] ([a8a62b4](https://github.com/ory/oathkeeper/commit/a8a62b4b4ba2d6fe2cb319ccbff4ed8634086238))\n* Incorporates changes from version v0.34.0-beta.1-2-g7516eed [ci skip] ([eb82132](https://github.com/ory/oathkeeper/commit/eb82132ac36413d9ef151a3d6958f3baa6324a7d))\n* Incorporates changes from version v0.34.0-beta.1-4-gee2b9e7 [ci skip] ([d084c39](https://github.com/ory/oathkeeper/commit/d084c396d28a13f9fa845acb7190f21e705c9b71))\n* Incorporates changes from version v0.34.0-beta.1-6-g6723fb8 [ci skip] ([ebe89ab](https://github.com/ory/oathkeeper/commit/ebe89ab65d035b0ff2e4ad9c70c59fe36a180635))\n\n### Unclassified\n\n* Update CHANGELOG [ci skip] ([f0e8ecf](https://github.com/ory/oathkeeper/commit/f0e8ecfc416d342985436b61a20e3d52c642e280))\n* Update SDK ([6a0a0f8](https://github.com/ory/oathkeeper/commit/6a0a0f81bcda1417f7530fe85cd01c2862956328))\n* Update upgrade guide (#337) ([99e9877](https://github.com/ory/oathkeeper/commit/99e98770dd764005e1967daf739dd23974384d19)), closes [#337](https://github.com/ory/oathkeeper/issues/337)\n* Update CHANGELOG [ci skip] ([2e13a05](https://github.com/ory/oathkeeper/commit/2e13a057da6fc626e9e856548746174c3ef7c2e7))\n* Remove superfluous version from workflows ([55037fa](https://github.com/ory/oathkeeper/commit/55037fa0341a35992285d53be398ccf239b2fb58))\n* Update CHANGELOG [ci skip] ([dfbc231](https://github.com/ory/oathkeeper/commit/dfbc231b8e2370089b2605a76252333b488bbc37))\n* Update SDK ([65222d5](https://github.com/ory/oathkeeper/commit/65222d55494b8b3a91e6c0cbe43a2d922f7c753b))\n* Move to new SDK pipeline (#333) ([6940dc8](https://github.com/ory/oathkeeper/commit/6940dc8de74de9c8be9f872df7cf3bc4bc079aa9)), closes [#333](https://github.com/ory/oathkeeper/issues/333)\n* authn/cookie_session: Add subject_from modifier (#336) ([6723fb8](https://github.com/ory/oathkeeper/commit/6723fb834c386b72e9525d2dfd661e684bd915d3)), closes [#336](https://github.com/ory/oathkeeper/issues/336):\n\n    The subject_from modifier is a GJSON path that points to the `subject` field. Useful if the upstream API does not return a `{\"subject\": \"...\"}` format.\n    \n    \n\n* authn/cookie_session: Add extra_from modifier (#335) ([ee2b9e7](https://github.com/ory/oathkeeper/commit/ee2b9e743f4f6c56563d791947ffb592cc13394e)), closes [#335](https://github.com/ory/oathkeeper/issues/335):\n\n    The extra_from modifier is a GJSON path that points to the extra field. Useful if the upstream API does not return a `{\"subject\": \"...\", \"extra\": \"...\"}` format.\n\n* pipeline/authn: Add tests for cookie sources in jwt and oauth2_intro (#330) (#331) ([7516eed](https://github.com/ory/oathkeeper/commit/7516eedc1ea97242a18225365898e0cbeafcffbf)), closes [#330](https://github.com/ory/oathkeeper/issues/330) [#331](https://github.com/ory/oathkeeper/issues/331) [#330](https://github.com/ory/oathkeeper/issues/330):\n\n    Also updates the schemas to add missing cookie config element.\n\n\n\n# [0.34.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.33.1-beta.1...v0.34.0-beta.1) (2019-12-26)\n\nPrepare v0.34.0-beta.1+oryOS.14 release\n\n\n### Documentation\n\n* Incorporates changes from version v0.33.1-beta.1 [ci skip] ([6681754](https://github.com/ory/oathkeeper/commit/66817540313ec989ceb359927dafe3c8252849c2))\n* Incorporates changes from version v0.33.1-beta.1-2-g4033321 [ci skip] ([2764758](https://github.com/ory/oathkeeper/commit/2764758dfc2d86ed6ff2163fbf0f7e28383fa5da))\n* Incorporates changes from version v0.33.1-beta.1-4-g7e6f636 [ci skip] ([66ae8c8](https://github.com/ory/oathkeeper/commit/66ae8c81ec4e631eb3e243eebafbfe4d7436eccf))\n\n### Unclassified\n\n* Prepare v0.34.0-beta.1+oryOS.14 release ([96f77b2](https://github.com/ory/oathkeeper/commit/96f77b24d8adb160d5c2c3db2f2432e206b99c77))\n* pipe/err: Improve IP and MIME matching (#323) ([7e6f636](https://github.com/ory/oathkeeper/commit/7e6f6369f4acc33211d78f2acb1036c610286c2c)), closes [#323](https://github.com/ory/oathkeeper/issues/323):\n\n    Previously, MIME matching respected the request's wildcards which lead to multiple handlers feeling responsible for a particular request. Now, wildcards coming from the HTTP Request itself are interpreted literally.\n    \n    Additionally, ORY Oathkeeper respected the X-Forwarded-For HTTP Header for matching remote IP addresses. This behavior is now turned off by default because clients were able to fake this header otherwise. It can explicitly be turned on by setting `config.when.#.request.remote_ip.RespectForwardedForHeader: true`.\n    \n    \n\n* Add customizable error handlers (#322) ([4033321](https://github.com/ory/oathkeeper/commit/4033321b13671de8d0d5a42846a4e19d6065db62)), closes [#322](https://github.com/ory/oathkeeper/issues/322) [#204](https://github.com/ory/oathkeeper/issues/204) [#252](https://github.com/ory/oathkeeper/issues/252) [#119](https://github.com/ory/oathkeeper/issues/119):\n\n    This patch adds a new feature called error handlers. It allows to define the error handling logic globally and per rule. It is now possible, for example, to return a JSON response for `Accept: application/json` requests and a HTTP Redirect response for requests that are coming from a user.\n    \n    This also resolves several issues, as noted below:\n\n\n\n# [0.33.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.33.0-beta.1...v0.33.1-beta.1) (2019-12-18)\n\ndocs: Incorporates changes from version v0.33.0-beta.1-12-g0dd3fe3 [ci skip]\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.33.0-beta.1 [ci skip] ([a178031](https://github.com/ory/oathkeeper/commit/a178031f000a405a7962046e0e8582c309ac8989))\n* Incorporates changes from version v0.33.0-beta.1-10-g3e7936a [ci skip] ([083b7eb](https://github.com/ory/oathkeeper/commit/083b7eb35a7d26762bbf930b03969297ac931805))\n* Incorporates changes from version v0.33.0-beta.1-12-g0dd3fe3 [ci skip] ([82c5253](https://github.com/ory/oathkeeper/commit/82c525324490f1d9e073ff8af60abdbfbb722c30))\n* Incorporates changes from version v0.33.0-beta.1-6-gf60f525 [ci skip] ([9870722](https://github.com/ory/oathkeeper/commit/987072248ad8e5e0ae0179d684f3f9f5b8124fbc))\n* Incorporates changes from version v0.33.0-beta.1-8-g815951b [ci skip] ([d77b225](https://github.com/ory/oathkeeper/commit/d77b225555356e4a2010eb6d707bf718c1620956))\n\n### Unclassified\n\n* Add health check commands ([#319](https://github.com/ory/oathkeeper/issues/319)) ([0dd3fe3](https://github.com/ory/oathkeeper/commit/0dd3fe32a4c76b3b2c14a17108521eb51e5e4ff0))\n* Properly merge env vars into pipeline configs (#320) ([3e7936a](https://github.com/ory/oathkeeper/commit/3e7936a41150f367003c81c208910fdb77f556d9)), closes [#320](https://github.com/ory/oathkeeper/issues/320) [#305](https://github.com/ory/oathkeeper/issues/305) [#317](https://github.com/ory/oathkeeper/issues/317):\n\n    Previously, some keys did not respect the values set in the environment variables.\n\n* Add alpine-based Docker image (#318) ([815951b](https://github.com/ory/oathkeeper/commit/815951bb039937acc7be3f8b1b2bb06fe9ecac90)), closes [#318](https://github.com/ory/oathkeeper/issues/318) [#312](https://github.com/ory/oathkeeper/issues/312)\n* Add more details to decision logging (#316) ([f60f525](https://github.com/ory/oathkeeper/commit/f60f52538ff6e66ea98afc89c6c6557ab8c5f93f)), closes [#316](https://github.com/ory/oathkeeper/issues/316) [#244](https://github.com/ory/oathkeeper/issues/244) [#242](https://github.com/ory/oathkeeper/issues/242):\n\n    Adds details such as the HTTP Method, User Agent, Subject, and other information to the logging output of both the reverse proxy and the decision API.\n\n* Health endpoints now emit TRACE logs ([#314](https://github.com/ory/oathkeeper/issues/314)) ([9036f8e](https://github.com/ory/oathkeeper/commit/9036f8eec3f264f7bcae46b44286367b8521802a)), closes [#283](https://github.com/ory/oathkeeper/issues/283):\n\n    Remove health endpoints from the logs to make monitoring easier. Setting `log_level` to `trace` will show these calls.\n\n* Improve session endpoint debugability ([#315](https://github.com/ory/oathkeeper/issues/315)) ([2718639](https://github.com/ory/oathkeeper/commit/27186396ccff4ee3a7f8f0a4c703263fcc55afae)), closes [#300](https://github.com/ory/oathkeeper/issues/300)\n* Resolve matcher cache ([#313](https://github.com/ory/oathkeeper/issues/313)) ([1519632](https://github.com/ory/oathkeeper/commit/15196326d2436c2d849d955bf5050766ae6dff0c)), closes [#291](https://github.com/ory/oathkeeper/issues/291):\n\n    A bug caused the rule matcher to not cache the regular expression result.\n\n* Use bearer splitting when header is set to Authorization ([#311](https://github.com/ory/oathkeeper/issues/311)) ([464fa31](https://github.com/ory/oathkeeper/commit/464fa319e84953835b71e16360bab3016b8bfc64)), closes [#308](https://github.com/ory/oathkeeper/issues/308)\n\n\n# [0.33.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.32.1-beta.1...v0.33.0-beta.1) (2019-12-16)\n\npipeline/mutator: Refactor hydrator retry config  (#287)\n\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.32.1-beta.1 [ci skip] ([98c9bf8](https://github.com/ory/oathkeeper/commit/98c9bf8c92e068bac2f0e9148fd9fc357aadd78f))\n* Incorporates changes from version v0.32.1-beta.1-5-gf028719 [ci skip] ([9f9c00c](https://github.com/ory/oathkeeper/commit/9f9c00cba904da0cdee4d97f5e3cad48160d75a0))\n\n### Unclassified\n\n* pipeline/mutator: Refactor hydrator retry config  (#287) ([2a97e05](https://github.com/ory/oathkeeper/commit/2a97e051a98da588aa8125bc0c6681e2d39c48ef)), closes [#287](https://github.com/ory/oathkeeper/issues/287)\n* Update README banner (#307) ([f028719](https://github.com/ory/oathkeeper/commit/f028719f054e314045f9830c016bfbde5bf04110)), closes [#307](https://github.com/ory/oathkeeper/issues/307)\n* Add cookie as an option for oauth2_introspection authenticator (#301) ([e3fa55a](https://github.com/ory/oathkeeper/commit/e3fa55a77f020fcdb55a8b363b2196570f080d16)), closes [#301](https://github.com/ory/oathkeeper/issues/301)\n* Add preserve_path option for cookie session to not override the path in the request (#297) ([7e86b78](https://github.com/ory/oathkeeper/commit/7e86b78355447cfbbfd83d04dcc2bf7c942dfc67)), closes [#297](https://github.com/ory/oathkeeper/issues/297)\n* Allow specifying additional headers for the oauth introspection request (#302) ([b1e5cea](https://github.com/ory/oathkeeper/commit/b1e5cea5245c07142b6b34f2660ed41e6239b79f)), closes [#302](https://github.com/ory/oathkeeper/issues/302)\n\n\n# [0.32.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.32.0-beta.1...v0.32.1-beta.1) (2019-10-30)\n\ndocs: Incorporates changes from version v0.32.0-beta.1-13-g1910bbe [ci skip]\n\n\n\n### Documentation\n\n* Add notes for 0.32.0 ([40e3b89](https://github.com/ory/oathkeeper/commit/40e3b891b99a41bee4b7be1a2cf7463bfb64f8db))\n* Incorporates changes from version v0.32.0-beta.1 [ci skip] ([f3a0e53](https://github.com/ory/oathkeeper/commit/f3a0e53762d31a1f7155ef75f08d7853aa6ec524))\n* Incorporates changes from version v0.32.0-beta.1-11-g7892d2f [ci skip] ([c41ecd4](https://github.com/ory/oathkeeper/commit/c41ecd4cbb23abc6b4264596ddd7881bf3c81845))\n* Incorporates changes from version v0.32.0-beta.1-13-g1910bbe [ci skip] ([d45e1a0](https://github.com/ory/oathkeeper/commit/d45e1a0e9507dc87f3681bc05b125ceb237b2713))\n* Incorporates changes from version v0.32.0-beta.1-3-g8cf6868 [ci skip] ([2c8fbf7](https://github.com/ory/oathkeeper/commit/2c8fbf7a2f74455690bcca4426bfff430e3068f4))\n* Incorporates changes from version v0.32.0-beta.1-9-g08d42da [ci skip] ([6ce3344](https://github.com/ory/oathkeeper/commit/6ce33442285c18b9a31103d32e095d9dad12228c))\n\n### Unclassified\n\n* pipeline/authz: Add Content-Type header in the call to Keto (#290) ([1910bbe](https://github.com/ory/oathkeeper/commit/1910bbedc215c2b18c018cf9a5d5f86b6b3411c3)), closes [#290](https://github.com/ory/oathkeeper/issues/290)\n* Revert incorrect license changes ([7892d2f](https://github.com/ory/oathkeeper/commit/7892d2f4024525c5e3f20e6237b18d0fbe36200d))\n* Revert readme changes to last working version ([08d42da](https://github.com/ory/oathkeeper/commit/08d42dac81a8d71f3b7ab926a8b09abe7b305b5e))\n* Remove obsolete section from README ([aa8deef](https://github.com/ory/oathkeeper/commit/aa8deefc02848a4c90bf06365b7a37d71eb9c72f))\n* Fix broken readme headlines ([2e8109a](https://github.com/ory/oathkeeper/commit/2e8109a4fa1b53e83e86897de6890c910d4b77ff))\n* Auto-kill test runner after 10 retries (#286) ([eaad598](https://github.com/ory/oathkeeper/commit/eaad59866349bebdeaed72e068a9ce6752b25cef)), closes [#286](https://github.com/ory/oathkeeper/issues/286)\n* Update ory/x/viperx dependency ([#285](https://github.com/ory/oathkeeper/issues/285)) ([0ef3bce](https://github.com/ory/oathkeeper/commit/0ef3bce92a3c17a6cffc794f2b08859f0852ee5d)), closes [#276](https://github.com/ory/oathkeeper/issues/276) [#270](https://github.com/ory/oathkeeper/issues/270) [#279](https://github.com/ory/oathkeeper/issues/279) [#280](https://github.com/ory/oathkeeper/issues/280):\n\n    This patch automatically binds environment variables to configuration keys. This patch resolves several issues:\n\n* Dereference config schema and resolve issues (#282) ([8cf6868](https://github.com/ory/oathkeeper/commit/8cf6868b3e925e686769d43c912d5e52c6589a9b)), closes [#282](https://github.com/ory/oathkeeper/issues/282) [ory/docs#217](https://github.com/ory/docs/issues/217) [#234](https://github.com/ory/oathkeeper/issues/234) [#281](https://github.com/ory/oathkeeper/issues/281)\n\n\n# [0.32.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.31.0-beta.1...v0.32.0-beta.1) (2019-10-20)\n\ndocs: Incorporates changes from version v0.31.0-beta.1 [ci skip]\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.31.0-beta.1 [ci skip] ([dafc870](https://github.com/ory/oathkeeper/commit/dafc870943720f04f5ac06a139bf5e126a83afa8))\n\n\n# [0.31.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.19.0-beta.1...v0.31.0-beta.1) (2019-10-20)\n\ndocs: Incorporates changes from version v0.30.0-beta.1 [ci skip]\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.19.1-beta.1-2-g41869a9 [ci skip] ([a44846b](https://github.com/ory/oathkeeper/commit/a44846b1e6c8cbdb76162b3128c2aa4ff79d3375))\n* Incorporates changes from version v0.20.0-beta.1 [ci skip] ([aaf801b](https://github.com/ory/oathkeeper/commit/aaf801bb1cebe9d4a6c5062b5a0e10c9737b091b))\n* Incorporates changes from version v0.30.0-beta.1 [ci skip] ([ebd198a](https://github.com/ory/oathkeeper/commit/ebd198a908bcbc77f734e93a181209fec66e7736))\n\n### Unclassified\n\n* pipeline/authn: Add token_from config to introspection and jwt (#271) ([fc85ac8](https://github.com/ory/oathkeeper/commit/fc85ac854c3fb4cdd96bbae650f7355400431eac)), closes [#271](https://github.com/ory/oathkeeper/issues/271) [#257](https://github.com/ory/oathkeeper/issues/257):\n\n    Add additional optional configuration to jwt and oauth2_introspection authenticators allowing to set from where (which header or query parameter) the token should be received. The configuration is a token_from field in per-rule-configuration, as described in a linked issue.\n\n* Add migration capabilities ([#268](https://github.com/ory/oathkeeper/issues/268)) ([bc74e72](https://github.com/ory/oathkeeper/commit/bc74e726712c77955d2013979770c2724af17f20)), closes [#266](https://github.com/ory/oathkeeper/issues/266):\n\n    Adds the ability to modify rules with backwards compatibility.\n\n* Force auth style in oauth2 client credentials authn ([#267](https://github.com/ory/oathkeeper/issues/267)) ([97d7890](https://github.com/ory/oathkeeper/commit/97d789097b47b50117421f8f4ebd32182de4195c)), closes [#260](https://github.com/ory/oathkeeper/issues/260)\n* Update UPGRADE.md ([4e4bd93](https://github.com/ory/oathkeeper/commit/4e4bd93695a14b453a895fd2c20eca416307dcee))\n* Update upgrade instructions ([7483d1c](https://github.com/ory/oathkeeper/commit/7483d1cf9344058ddc12efabdb00f5b5b8b41f48))\n* Change error code from 403 to 401 ([#259](https://github.com/ory/oathkeeper/issues/259)) ([c17e564](https://github.com/ory/oathkeeper/commit/c17e564cc2427a0ab1f7d2eb2d2b7cb95e34f88b)), closes [#256](https://github.com/ory/oathkeeper/issues/256)\n\n\n# [0.19.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.18.0-beta.1...v0.19.0-beta.1) (2019-09-23)\n\nFix id_token schema reference URL\n\n\n\n### Unclassified\n\n* Fix id_token schema reference URL ([72a2333](https://github.com/ory/oathkeeper/commit/72a23333d67f01d2474603f6ba9e5b1e97605a95))\n* Resolve broken tests (#262) ([bc67cc1](https://github.com/ory/oathkeeper/commit/bc67cc18b4e32331f86bc8b10f1947a812be6b7e)), closes [#262](https://github.com/ory/oathkeeper/issues/262)\n* Homogenize configuration management (#258) ([89709aa](https://github.com/ory/oathkeeper/commit/89709aabfe002fc5ae2e76016fc45a13d74f3d8b)), closes [#258](https://github.com/ory/oathkeeper/issues/258)\n* Fix #250: Ignore query parameters to build payload for Keto engine (#251) ([d0fc7f4](https://github.com/ory/oathkeeper/commit/d0fc7f4c6a9377ff3f2466d5860c12247202e646)), closes [#250](https://github.com/ory/oathkeeper/issues/250) [#251](https://github.com/ory/oathkeeper/issues/251)\n\n\n# [0.18.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.4-beta.1...v0.18.0-beta.1) (2019-08-22)\n\nmutator/id_token: Add claim templating (#246)\n\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.17.4-beta.1 ([370eb37](https://github.com/ory/oathkeeper/commit/370eb3745630631e96ff6c0de61ab86b2832a3f5))\n* Incorporates changes from version v0.17.5-beta.1 ([f7beddc](https://github.com/ory/oathkeeper/commit/f7beddccfcc0bfb52805382278758e347cc1dc2c))\n* Updates issue and pull request templates ([#237](https://github.com/ory/oathkeeper/issues/237)) ([6181ee5](https://github.com/ory/oathkeeper/commit/6181ee5c14fbcc1b3b844d9f301a5df90dcf6a8b))\n* Updates issue and pull request templates ([#238](https://github.com/ory/oathkeeper/issues/238)) ([6f83cda](https://github.com/ory/oathkeeper/commit/6f83cda6ce855ed09ec3f553eaaf644e0d853634))\n* Updates issue and pull request templates ([#239](https://github.com/ory/oathkeeper/issues/239)) ([2e0b3ef](https://github.com/ory/oathkeeper/commit/2e0b3ef28bf3b2e8c6225d5e407a3f9b1487ccea))\n* Updates issue and pull request templates ([#245](https://github.com/ory/oathkeeper/issues/245)) ([f140837](https://github.com/ory/oathkeeper/commit/f140837a7181f3e2c0a209e6dd47a534be08c1f8))\n\n### Unclassified\n\n* mutator/id_token: Add claim templating (#246) ([591f524](https://github.com/ory/oathkeeper/commit/591f5249f3d8ba314cf7e914926bfbd0300e7589)), closes [#246](https://github.com/ory/oathkeeper/issues/246)\n* Add mutator for modifying authenticationSession with external API (#240) ([b38b0f4](https://github.com/ory/oathkeeper/commit/b38b0f4d4cd5148ebe0858558f410b4f0c367be1)), closes [#240](https://github.com/ory/oathkeeper/issues/240)\n* Support multiple mutators per access rule (#233) ([d21179d](https://github.com/ory/oathkeeper/commit/d21179dd25543662075be402f6e24e1ee20d2754)), closes [#233](https://github.com/ory/oathkeeper/issues/233) [#233](https://github.com/ory/oathkeeper/issues/233)\n* Add adopters placeholder ([#236](https://github.com/ory/oathkeeper/issues/236)) ([302c7b8](https://github.com/ory/oathkeeper/commit/302c7b8cec0479db2735440ef336c11ca92675ff))\n\n\n# [0.17.4-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.3-beta.1...v0.17.4-beta.1) (2019-08-09)\n\nAdd sprig template library (#235)\n\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.17.3-beta.1 ([b271ff2](https://github.com/ory/oathkeeper/commit/b271ff21644f9e3fd0605cc50978d0c5e2e883e3))\n* Updates issue and pull request templates ([#232](https://github.com/ory/oathkeeper/issues/232)) ([00c08ba](https://github.com/ory/oathkeeper/commit/00c08ba9c4d2ce6b910b151d79eaccbf6d9c0710))\n\n### Unclassified\n\n* Add sprig template library (#235) ([c85c540](https://github.com/ory/oathkeeper/commit/c85c5400000f1c534b99db292273f71c427d368e)), closes [#235](https://github.com/ory/oathkeeper/issues/235)\n\n\n# [0.17.3-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.2-beta.1...v0.17.3-beta.1) (2019-08-03)\n\nrule: Resolve k8s configmap reload issue (#231)\n\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.17.2-beta.1 ([e652c3f](https://github.com/ory/oathkeeper/commit/e652c3fac276f73278ac8e3bf4a75b3789420da7))\n\n### Unclassified\n\n* Resolve k8s configmap reload issue ([#231](https://github.com/ory/oathkeeper/issues/231)) ([c04547e](https://github.com/ory/oathkeeper/commit/c04547e7bda2396c997252dd7ca3e588897b7779))\n* Move back to scratch Docker image ([3fa8a50](https://github.com/ory/oathkeeper/commit/3fa8a5078759869c3a3a0521f17b80f246fdd7f4))\n\n\n# [0.17.2-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.1-beta.1...v0.17.2-beta.1) (2019-08-02)\n\nrules: Support kubernetes configmap reloading (#230)\n\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.17.1-beta.1 ([64d180f](https://github.com/ory/oathkeeper/commit/64d180fd7f41febd4f15a35bd8ee625adc854256))\n* Updates issue and pull request templates ([#226](https://github.com/ory/oathkeeper/issues/226)) ([007d491](https://github.com/ory/oathkeeper/commit/007d491dfd204b4dcf175906319db667b10fff1e))\n\n### Unclassified\n\n* Support kubernetes configmap reloading ([#230](https://github.com/ory/oathkeeper/issues/230)) ([92b769b](https://github.com/ory/oathkeeper/commit/92b769bfdf4d5fd7902e1b5ae1dc63d11de4e0f1))\n\n\n# [0.17.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.0-beta.1...v0.17.1-beta.1) (2019-07-23)\n\nrule: Fix panic on send on closed channel (#225)\n\nCloses #224\n\n\n### Documentation\n\n* Incorporates changes from version v0.17.0-beta.1 ([8f4a518](https://github.com/ory/oathkeeper/commit/8f4a51808f4614a666fdaa0043b73105a55af54d))\n\n### Unclassified\n\n* Fix panic on send on closed channel ([#225](https://github.com/ory/oathkeeper/issues/225)) ([2112ab6](https://github.com/ory/oathkeeper/commit/2112ab6b325aef71963de9d448dbf15ce09bd5fe)), closes [#224](https://github.com/ory/oathkeeper/issues/224)\n\n\n# [0.17.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.16.0-beta.5...v0.17.0-beta.1) (2019-07-18)\n\nci: Automate schema confiugration sync\n\n\n\n### Continuous Integration\n\n* Automate schema confiugration sync ([94bcc4f](https://github.com/ory/oathkeeper/commit/94bcc4f611a3d0d5112fb44b7a20f2afc70bb760))\n\n### Documentation\n\n* Incorporates changes from version v0.16.0-beta.5 ([a8afc3b](https://github.com/ory/oathkeeper/commit/a8afc3b559905d8807519e3ed04fd39a654fa73d))\n* Update upgrade guide ([a8ccb05](https://github.com/ory/oathkeeper/commit/a8ccb0541f9f0e8b707b418bb6698ed18bdadf0b))\n* Update upgrade guide ([f727efe](https://github.com/ory/oathkeeper/commit/f727efe438bafbfb8f404ae1dd98b062d1ad804b))\n\n### Unclassified\n\n* Fix broken reload tests ([d6059b7](https://github.com/ory/oathkeeper/commit/d6059b711aa921fd012ce71eb11e370f174596f6))\n* Remove useless function ([3521a3d](https://github.com/ory/oathkeeper/commit/3521a3d9a606b92c7bf9c74828185934b2cba9c5))\n* Validate configuration with JSON Schema ([997427d](https://github.com/ory/oathkeeper/commit/997427dc03c7efee476f145677b73a42bbc63c89))\n* Do not fatal when immutable value is changed ([717d7f7](https://github.com/ory/oathkeeper/commit/717d7f748abe61014653f3c6519c4aef019d1969))\n* Watch configuration and access rule changes (#217) ([a078e89](https://github.com/ory/oathkeeper/commit/a078e891e2fe97bdb6ce8a2264f629a179c9116e)), closes [#217](https://github.com/ory/oathkeeper/issues/217):\n\n    This patch allows oathkeeper to re-load any changes made to the configuraiton file and/or the access\n    rules to be reloaded without a restart.\n    \n    Some configuration keys like serve.*, log.*, profiling however require a restart.\n\n* Create FUNDING.yml ([d7da8e2](https://github.com/ory/oathkeeper/commit/d7da8e296205e183140c18ba3cc6269334476a2b))\n* Add support for rules in YAML format (#213) ([67face6](https://github.com/ory/oathkeeper/commit/67face611b9f19ed9b6606931c9b7a82df769154)), closes [#213](https://github.com/ory/oathkeeper/issues/213):\n\n    This commit adds support for defining access rules in YAML format, in\n    addition to existing JSON format.\n\n\n\n# [0.16.0-beta.5](https://github.com/ory/oathkeeper/compare/v0.16.0-beta.4...v0.16.0-beta.5) (2019-06-28)\n\nauthenticator: Add cookie session authenticator (#211)\n\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.16.0-beta.4 ([1e03ee2](https://github.com/ory/oathkeeper/commit/1e03ee24b466b01fe4f81e5a4fda8ab42f9a0615))\n\n### Unclassified\n\n* Add cookie session authenticator ([#211](https://github.com/ory/oathkeeper/issues/211)) ([f8a66b7](https://github.com/ory/oathkeeper/commit/f8a66b77f99420fa4ac6693967af1906ae962489))\n* Add description into the name of subtest (#212) ([230c332](https://github.com/ory/oathkeeper/commit/230c332f5972e2bbf5a81a31c4ceafdfbf541d75)), closes [#212](https://github.com/ory/oathkeeper/issues/212)\n* Use non-root user in image ([#209](https://github.com/ory/oathkeeper/issues/209)) ([2215126](https://github.com/ory/oathkeeper/commit/221512635125eb61943f6dfd93b69defa61d9ce3))\n* Remove binary license (#208) ([3460d65](https://github.com/ory/oathkeeper/commit/3460d65249783ea1eb6558fbe75cec4c72105f5c)), closes [#208](https://github.com/ory/oathkeeper/issues/208)\n* Update config.yaml (#204) ([effe9c0](https://github.com/ory/oathkeeper/commit/effe9c025c3a25edf88bc3791ec27cb01e128a1a)), closes [#204](https://github.com/ory/oathkeeper/issues/204):\n\n    There's no DSN in oathkeeper\n\n\n\n# [0.16.0-beta.4](https://github.com/ory/oathkeeper/compare/v0.16.0-beta.3...v0.16.0-beta.4) (2019-05-28)\n\nserver: Properly declare negroni middleware (#200)\n\nPreviously, negroni.With was mistakenly used to add middleware onto the stack.\r\nThe proper method however is negroni.Use.\r\n\r\nThis patch fixes the use of negroni.With and resolves issues around\r\nlogging and the decisions endpoint.\r\n\r\nCloses #199\n\n\n### Documentation\n\n* Incorporates changes from version v0.16.0-beta.3 ([d777ecf](https://github.com/ory/oathkeeper/commit/d777ecf59192d14a432a024d5a3451b47f6cff4e))\n* Updates issue and pull request templates ([#196](https://github.com/ory/oathkeeper/issues/196)) ([74fa27b](https://github.com/ory/oathkeeper/commit/74fa27ba9b110d8b4bd8afe09d77c5c602187a5c))\n* Updates issue and pull request templates ([#197](https://github.com/ory/oathkeeper/issues/197)) ([31d057c](https://github.com/ory/oathkeeper/commit/31d057cf37816fb20436f464f96ee2c5fd32d7e7))\n* Updates issue and pull request templates ([#198](https://github.com/ory/oathkeeper/issues/198)) ([244810a](https://github.com/ory/oathkeeper/commit/244810aabfc2259e756963791855cde1006fe16f))\n\n### Unclassified\n\n* Properly declare negroni middleware ([#200](https://github.com/ory/oathkeeper/issues/200)) ([9d3dc54](https://github.com/ory/oathkeeper/commit/9d3dc54e1350fa74fb126cc4761462e83d86548f)), closes [#199](https://github.com/ory/oathkeeper/issues/199):\n\n    Previously, negroni.With was mistakenly used to add middleware onto the stack.\n    The proper method however is negroni.Use.\n    \n    This patch fixes the use of negroni.With and resolves issues around\n    logging and the decisions endpoint.\n\n\n\n# [0.16.0-beta.3](https://github.com/ory/oathkeeper/compare/v0.15.2...v0.16.0-beta.3) (2019-05-19)\n\nci: Use golang for docs task\n\n\n\n### Continuous Integration\n\n* Use golang for docs task ([b120c72](https://github.com/ory/oathkeeper/commit/b120c7214d7f11441b0cec7a34517b4403226f5f))\n\n### Documentation\n\n* Incorporates changes from version v0.15.2 ([7ceabe9](https://github.com/ory/oathkeeper/commit/7ceabe98498e1dd9f8c3c452f5d0f9ab366a3c07))\n* Rename config.yml -> config.yaml ([4faecbe](https://github.com/ory/oathkeeper/commit/4faecbea5683e18522697f5c2b1ccc76fbf4c762))\n* Updates issue and pull request templates ([#189](https://github.com/ory/oathkeeper/issues/189)) ([367a48d](https://github.com/ory/oathkeeper/commit/367a48dba6693db44a17179dcf0f0e7c624be7a7))\n\n### Unclassified\n\n* Reduce deployment complexity and refactor internals (#185) ([6b509ad](https://github.com/ory/oathkeeper/commit/6b509ad5e3ce109521de80540bd0c762b7ecd8d2)), closes [#185](https://github.com/ory/oathkeeper/issues/185) [#178](https://github.com/ory/oathkeeper/issues/178) [#177](https://github.com/ory/oathkeeper/issues/177) [#174](https://github.com/ory/oathkeeper/issues/174) [#168](https://github.com/ory/oathkeeper/issues/168) [#164](https://github.com/ory/oathkeeper/issues/164) [#141](https://github.com/ory/oathkeeper/issues/141) [#140](https://github.com/ory/oathkeeper/issues/140) [#136](https://github.com/ory/oathkeeper/issues/136) [#122](https://github.com/ory/oathkeeper/issues/122)\n* Resolve issue with install.sh script (#187) ([d31d5be](https://github.com/ory/oathkeeper/commit/d31d5bea5085355960cc051c4bb6b6232a77ac75)), closes [#187](https://github.com/ory/oathkeeper/issues/187)\n\n\n# [0.15.2](https://github.com/ory/oathkeeper/compare/v0.15.1...v0.15.2) (2019-05-04)\n\ncmd/client: Use json rawmessage for arbtrary payloads (#184)\n\nCloses #182\r\n\r\nSigned-off-by: Stanislav Zapolsky <stszap@gmail.com>\n\n\n### Documentation\n\n* Incorporates changes from version v0.15.1 ([5c34958](https://github.com/ory/oathkeeper/commit/5c34958ff00a56f9a5784bfb01b6b200fcbd91d1))\n\n### Unclassified\n\n* cmd/client: Use json rawmessage for arbtrary payloads (#184) ([a55e4d1](https://github.com/ory/oathkeeper/commit/a55e4d1267dcb2975a5e4b4ab4248bdf7adc00b0)), closes [#184](https://github.com/ory/oathkeeper/issues/184) [#182](https://github.com/ory/oathkeeper/issues/182)\n\n\n# [0.15.1](https://github.com/ory/oathkeeper/compare/v0.15.0...v0.15.1) (2019-04-29)\n\nvendor: Add go.sum (#180)\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n\n### Unclassified\n\n* Add go.sum ([#180](https://github.com/ory/oathkeeper/issues/180)) ([fc261f0](https://github.com/ory/oathkeeper/commit/fc261f0a340b3bcca56519c2da3042e614f8b6a3))\n\n\n# [0.15.0](https://github.com/ory/oathkeeper/compare/v0.14.2+oryOS.10...v0.15.0) (2019-04-29)\n\ndocker: Remove full tag from build pipeline (#179)\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n\n### Documentation\n\n* Incorporates changes from version v0.0.0-testrelease.3 ([44649b6](https://github.com/ory/oathkeeper/commit/44649b6302057cb64c9585b862043fe4568d4432))\n* Incorporates changes from version v0.14.2+oryOS.10 ([2d9899a](https://github.com/ory/oathkeeper/commit/2d9899a38b927ff367931c024a10bfdc3230e9a3))\n* Update patrons ([f423666](https://github.com/ory/oathkeeper/commit/f423666df6e067ed563a853c3187afb1859dc36c))\n* Update README building-from-source part with the gomodule way ([#152](https://github.com/ory/oathkeeper/issues/152)) ([9d653f5](https://github.com/ory/oathkeeper/commit/9d653f5364cfabdd03a6a39b0883d70b9783fb01)), closes [#149](https://github.com/ory/oathkeeper/issues/149)\n\n### Unclassified\n\n* Remove full tag from build pipeline ([#179](https://github.com/ory/oathkeeper/issues/179)) ([e2edbf8](https://github.com/ory/oathkeeper/commit/e2edbf8628fd7592730dbb320760e514982e049d))\n* Remove sdk dependencies to keto/hydra ([#173](https://github.com/ory/oathkeeper/issues/173)) ([b538e3c](https://github.com/ory/oathkeeper/commit/b538e3c8fdd52be1e61ed88502fce1de7737d4a9)):\n\n    This patch replaces code-generated SDKs with raw http.Client calls which reduces dependencies and makes future changes to the keto/hydra SDK easier to adopt to.\n    \n    \n\n* Update CHANGELOG.md ([cbccbe2](https://github.com/ory/oathkeeper/commit/cbccbe2f4786f90208dfa93a8b8b47027ca11548))\n* Ensure rule matcher is locked before updating ([#159](https://github.com/ory/oathkeeper/issues/159)) ([6fb7151](https://github.com/ory/oathkeeper/commit/6fb715161370382b384ab2e0cb7ec64ca425f16a)):\n\n    Lock CachedMatcher before rules are updated when HTTPMatcher refreshes to avoid concurrent map iteration and map write errors.\n    \n    \n\n* Improve debugability of JWT authenticator ([#156](https://github.com/ory/oathkeeper/issues/156)) ([8441bd5](https://github.com/ory/oathkeeper/commit/8441bd52dc567de04b8b4eb9b4655aaf45b90f03))\n* Move to go-swagger SDK code generation ([#170](https://github.com/ory/oathkeeper/issues/170)) ([38c52a3](https://github.com/ory/oathkeeper/commit/38c52a3cc3a24b1d77d7f07d012be561d018b5ec)), closes [#165](https://github.com/ory/oathkeeper/issues/165)\n* Remove vendored dependencies after sdk generation ([7c33ca8](https://github.com/ory/oathkeeper/commit/7c33ca89781a225ab43b4d663b30c154a24a7e0a))\n* Set request headers for credential issuers ([#169](https://github.com/ory/oathkeeper/issues/169)) ([4fc579c](https://github.com/ory/oathkeeper/commit/4fc579cd677b71f6083fd3edaad741a7979e629a)), closes [#120](https://github.com/ory/oathkeeper/issues/120) [#133](https://github.com/ory/oathkeeper/issues/133)\n* Update Dockerfile build instructions ([ec40cc4](https://github.com/ory/oathkeeper/commit/ec40cc4cfa1716adff9cb4cd8c604aa6f4aa9e91))\n* Upgrade dependencies ([#163](https://github.com/ory/oathkeeper/issues/163)) ([f9fdefb](https://github.com/ory/oathkeeper/commit/f9fdefb5dfe9dbff38f0ae96f82e42fea24d1c93))\n* Use scp,scope,scopes in jwt authenticator ([#162](https://github.com/ory/oathkeeper/issues/162)) ([eebc2f4](https://github.com/ory/oathkeeper/commit/eebc2f44e3e42b7af653f91d9345111e0a280401)), closes [#138](https://github.com/ory/oathkeeper/issues/138):\n\n    Previously, the JWT authenticator only used the \"scope\" claim to retrieve scope values from a JWT. Now, \"scp\", \"scope\", \"scopes\" are supported as string arrays and strings separated by spaces.\n\n\n\n# [0.14.2+oryOS.10](https://github.com/ory/oathkeeper/compare/v0.14.1+oryOS.10...v0.14.2+oryOS.10) (2018-12-13)\n\nci: Fix docker push arguments in publish task\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n\n\n### Continuous Integration\n\n* Fix docker push arguments in publish task ([62415a1](https://github.com/ory/oathkeeper/commit/62415a1c36f6a335f02adf272cb0e50eb1691f89))\n\n\n# [0.14.1+oryOS.10](https://github.com/ory/oathkeeper/compare/v0.14.0+oryOS.10...v0.14.1+oryOS.10) (2018-12-13)\n\nci: Fix docker release task\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n\n\n### Continuous Integration\n\n* Fix docker release task ([893385b](https://github.com/ory/oathkeeper/commit/893385b10f26ffd9933f4d66c4187ca59d2f3f47))\n\n\n# [0.14.0+oryOS.10](https://github.com/ory/oathkeeper/compare/v0.11.12...v0.14.0+oryOS.10) (2018-12-13)\n\nci: Fix circle misconfiguration\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n\n\n### Continuous Integration\n\n* Fix circle misconfiguration ([a00ce64](https://github.com/ory/oathkeeper/commit/a00ce64e0bf5890192808f0edb1879caaa811742))\n\n### Documentation\n\n* Adds gh templates & code of conduct ([#78](https://github.com/ory/oathkeeper/issues/78)) ([02361aa](https://github.com/ory/oathkeeper/commit/02361aa7a3499c78b480ca43cf29636a17391215))\n* Adds link to examples repository ([#79](https://github.com/ory/oathkeeper/issues/79)) ([bfe96e9](https://github.com/ory/oathkeeper/commit/bfe96e9a47b1c49be631f5286ed05d4377fba684))\n* Align changelog, upgrade with new versions ([#143](https://github.com/ory/oathkeeper/issues/143)) ([751dfa3](https://github.com/ory/oathkeeper/commit/751dfa3abacb122f0b5599800025366dec7d9b5c))\n* Clarify beyondcorp ([3647958](https://github.com/ory/oathkeeper/commit/3647958a415bd4c1abb106d0a765f2186e54ad60))\n* Clarify breaking change policy ([6e6bb7e](https://github.com/ory/oathkeeper/commit/6e6bb7e42ad8e84eb4cf5b8dfd3b27845748cbc0))\n* Fix broken link ([#87](https://github.com/ory/oathkeeper/issues/87)) ([828b33e](https://github.com/ory/oathkeeper/commit/828b33e94d2fadb0b371d5ae326a6dac855047a6))\n* Fix proxy help command description ([#142](https://github.com/ory/oathkeeper/issues/142)) ([c836cb0](https://github.com/ory/oathkeeper/commit/c836cb0e1785bc4da602b1c820a6d6a54e7043e0))\n* Fix typo in README. ([#118](https://github.com/ory/oathkeeper/issues/118)) ([3d33fcc](https://github.com/ory/oathkeeper/commit/3d33fcc85b248a7f0f9f7d1295459b5541927d81))\n* Grammatical fix in stability sentence ([#86](https://github.com/ory/oathkeeper/issues/86)) ([ff0604d](https://github.com/ory/oathkeeper/commit/ff0604df82361b2f6dee6f2945a03b2b6b117056))\n* Improve some docs and update SDK ([#135](https://github.com/ory/oathkeeper/issues/135)) ([9a6901d](https://github.com/ory/oathkeeper/commit/9a6901dc52b3ae9a1aabf692903b1d4922869308))\n* Incorporates changes from version v0.11.12-1-gace7f34 ([3a6450c](https://github.com/ory/oathkeeper/commit/3a6450c89b335465cf5bd3aa87e64a0e11eeefc3))\n* Incorporates changes from version v0.11.12-10-g57ac174 ([c594b7e](https://github.com/ory/oathkeeper/commit/c594b7e91e71f8fa4d2532667a5ab3eae49d53bf))\n* Incorporates changes from version v0.11.12-13-gd00dfed ([7c221fa](https://github.com/ory/oathkeeper/commit/7c221fa7d67c382f0277dc0fb94d0529dabe8ac2))\n* Incorporates changes from version v0.11.12-15-g6604045 ([2a594f4](https://github.com/ory/oathkeeper/commit/2a594f416a1dbf9391b543efbbdc6004a58524d0))\n* Incorporates changes from version v0.11.12-3-g7acfbca ([ac34a58](https://github.com/ory/oathkeeper/commit/ac34a58a4444e09a36c74ed23730dbc41cd656be))\n* Incorporates changes from version v0.11.12-6-g181e9ac ([01dda53](https://github.com/ory/oathkeeper/commit/01dda53f32ec7a1bfa9d43cc4df2a8778f5b8cc7))\n* Incorporates changes from version v1.0.0-beta.1 ([788e96b](https://github.com/ory/oathkeeper/commit/788e96b65dbb9765839f4f1e1e1a79cb401652b6))\n* Incorporates changes from version v1.0.0-beta.2-1-gd6eb440 ([579f7a7](https://github.com/ory/oathkeeper/commit/579f7a7c3c71b3a388f01e78e224026bf7c2ca08))\n* Incorporates changes from version v1.0.0-beta.2-10-gef6e889 ([38cfb31](https://github.com/ory/oathkeeper/commit/38cfb31f4608320daec4ceab12a51d493db772ed))\n* Incorporates changes from version v1.0.0-beta.2-12-g9b6c0df ([82ac9b2](https://github.com/ory/oathkeeper/commit/82ac9b295c376cdae107fa3646cee9614a2e3410))\n* Incorporates changes from version v1.0.0-beta.2-6-ged2f983 ([d9737c8](https://github.com/ory/oathkeeper/commit/d9737c8cc84a43b260c0acd98a5b77cd1082423d))\n* Incorporates changes from version v1.0.0-beta.2-8-g5495d4a ([546828d](https://github.com/ory/oathkeeper/commit/546828df624d959684302ce503b5ac09c2c52cf2))\n* Incorporates changes from version v1.0.0-beta.3-3-g3c0c862 ([e1127a8](https://github.com/ory/oathkeeper/commit/e1127a8322e24a366653e149b1d6209ab0b7d6af))\n* Incorporates changes from version v1.0.0-beta.4-1-g643dbea ([5c40f97](https://github.com/ory/oathkeeper/commit/5c40f97ec8c213ba8ed7bb8366204f53f5b9fae1))\n* Incorporates changes from version v1.0.0-beta.4-12-gbfe96e9 ([756178a](https://github.com/ory/oathkeeper/commit/756178a18d9d7b2ac9749ab09844e9cf37ccf98c))\n* Incorporates changes from version v1.0.0-beta.4-17-gfa5388c ([3d5df8b](https://github.com/ory/oathkeeper/commit/3d5df8b1162466453234bb4537e9d8538081352c))\n* Incorporates changes from version v1.0.0-beta.4-19-g6d647d7 ([b5539f4](https://github.com/ory/oathkeeper/commit/b5539f4157725c0620011f9bd0f8d67ba58741a5))\n* Incorporates changes from version v1.0.0-beta.4-3-g951da25 ([8931b39](https://github.com/ory/oathkeeper/commit/8931b39ee0ab2efd0ed38da87c888a33081ad817))\n* Incorporates changes from version v1.0.0-beta.4-5-g83b591d ([4f2c64b](https://github.com/ory/oathkeeper/commit/4f2c64b42d3b4cada98687ad3285b5ba9d3732ee))\n* Incorporates changes from version v1.0.0-beta.4-7-gf450697 ([8f904d2](https://github.com/ory/oathkeeper/commit/8f904d22a56410eabe6d9af7f87624a61a7f1a76))\n* Incorporates changes from version v1.0.0-beta.4-9-g02361aa ([5b34e91](https://github.com/ory/oathkeeper/commit/5b34e91cfffeef0787054ab92c0cf944c5653f15))\n* Incorporates changes from version v1.0.0-beta.5-1-g3647958 ([2bcfb39](https://github.com/ory/oathkeeper/commit/2bcfb3917118a71247c241ff2a99282a11154ee9))\n* Incorporates changes from version v1.0.0-beta.6-1-gff0604d ([0c69154](https://github.com/ory/oathkeeper/commit/0c69154cffcc6e6a5b3114276c228fd19f0450e7))\n* Incorporates changes from version v1.0.0-beta.6-3-g828b33e ([c53f5b2](https://github.com/ory/oathkeeper/commit/c53f5b2aa40c78e36402679c34bbd9f898a4296a))\n* Incorporates changes from version v1.0.0-beta.8 ([92c09fb](https://github.com/ory/oathkeeper/commit/92c09fb28552949cd034ed5555c87dfda91407a3))\n* Incorporates changes from version v1.0.0-beta.9 ([b9127f6](https://github.com/ory/oathkeeper/commit/b9127f60de1d96e95310731b88b77b7b443f0d2e))\n* Update documentation links ([#144](https://github.com/ory/oathkeeper/issues/144)) ([84131d2](https://github.com/ory/oathkeeper/commit/84131d2201192c92eebcf1f03dd89f417402c985))\n* Update link to security console ([26fdda1](https://github.com/ory/oathkeeper/commit/26fdda126a9b322e5310a2a3a3ed83949f640d2c))\n* Update migration guide ([b2e6d67](https://github.com/ory/oathkeeper/commit/b2e6d6783aa869dad52e30203fa7d2510ae556ef))\n* Updates copyright notice ([e58535d](https://github.com/ory/oathkeeper/commit/e58535d7bdc5f4b6dd8e293741e53cdd8767c61c))\n* Updates issue and pull request templates ([#126](https://github.com/ory/oathkeeper/issues/126)) ([5991a92](https://github.com/ory/oathkeeper/commit/5991a922a3fd39bb5704b16116325487b73f2868))\n* Updates issue and pull request templates ([#127](https://github.com/ory/oathkeeper/issues/127)) ([e4d0e26](https://github.com/ory/oathkeeper/commit/e4d0e2691618c104c5fe749267a02538bcb35465))\n* Updates link to open collective ([25e0dee](https://github.com/ory/oathkeeper/commit/25e0dee9b0f5ad1d45adc47d0b4e923e045d023f))\n* Updates links to docs ([9dca7c0](https://github.com/ory/oathkeeper/commit/9dca7c0829fc6ac669c621295423e9054989e14f))\n* Updates links to docs ([57ac174](https://github.com/ory/oathkeeper/commit/57ac17475350d713711256e772ffd875772e59b2))\n* Updates newsletter link in README ([97f1dea](https://github.com/ory/oathkeeper/commit/97f1dea021559a43302ffe32e16cd8ee585a0656))\n* Updates readme TOC ([3c0c862](https://github.com/ory/oathkeeper/commit/3c0c8626889f39b223a558e40baf21acc7819f8c))\n* Updates README.md ([1387f9f](https://github.com/ory/oathkeeper/commit/1387f9f2fb57de5c7d23d857575fd54b9bbd824f))\n* Updates TOC ([9b6c0df](https://github.com/ory/oathkeeper/commit/9b6c0dfd8d3548aef356c0d6d700d9805866d22b))\n* Updates upgrade.me ([0118f9f](https://github.com/ory/oathkeeper/commit/0118f9ffbb171876dad21a894f1c99a9c51c6d26))\n\n### Unclassified\n\n* Add ability to configure scope strategy ([519a536](https://github.com/ory/oathkeeper/commit/519a53628696576891196f0ce733353d639e6aec))\n* Add cookies ci to handler factory ([#103](https://github.com/ory/oathkeeper/issues/103)) ([59aabfa](https://github.com/ory/oathkeeper/commit/59aabfa4b2554f03f65d618a7d7bf1c98a634da3))\n* Add cookies credentials issuer ([032d88e](https://github.com/ory/oathkeeper/commit/032d88ea8dee24506d277d22b7f4aaef2a502fa7))\n* Add endpoint for answering access requests directly ([d211641](https://github.com/ory/oathkeeper/commit/d2116410edf1f5089427858727f155bc0aa4313c)), closes [#42](https://github.com/ory/oathkeeper/issues/42):\n\n    This patch adds endpoint `/judge` to `oathkeeper serve api`. The `/judge` endpoint mimics the behavior of `oathkeeper serve proxy` but instead of forwarding the request to the upstream server, the endpoint answers directly with a HTTP response.\n    \n    The HTTP response returns status code 200 if the request should be allowed and any other status code (e.g. 401, 403) if not.\n    \n    Assuming you are making the following request:\n    \n    ```\n    PUT /judge/my-service/whatever HTTP/1.1\n    Host: oathkeeper-api:4456\n    User-Agent: curl/7.54.0\n    Authorization: bearer some-token\n    Accept: */*\n    Content-Type: application/json\n    Content-Length: 0\n    ```\n    \n    And you have a rule which allows token `some-bearer` to access `PUT /my-service/whatever` and you have a credentials issuer which does not modify the Authorization header, the response will be:\n    \n    ```\n    HTTP/1.1 200 OK\n    Authorization: bearer-sometoken\n    Content-Length: 0\n    Connection: Closed\n    ```\n    \n    If the rule denies the request, the response will be, for example:\n    \n    ```\n    HTTP/1.1 401 OK\n    Content-Length: 0\n    Connection: Closed\n    ```\n\n* Add headers credentials issuer ([b084c32](https://github.com/ory/oathkeeper/commit/b084c3271ab8ca71c9fe766de030572c69057671))\n* Add http proxy timeout config ([#132](https://github.com/ory/oathkeeper/issues/132)) ([b3718ce](https://github.com/ory/oathkeeper/commit/b3718ce56d4bcfe4610806ae6b15382226adab75)):\n\n    Add environment parameters (and description) to configure timeout settings of a server handled proxy requests.\n    \n    It will help prevent a case of unexpected closing a client connection if an upstream request is executing more than default timeout.\n    \n    \n\n* Add JWT authenticator ([61625bc](https://github.com/ory/oathkeeper/commit/61625bccebe0b478b980c66a29894dc1ffe48b0a))\n* Add NodeJS SDK ([#94](https://github.com/ory/oathkeeper/issues/94)) ([7505b71](https://github.com/ory/oathkeeper/commit/7505b717f28aaec38e07999ffe1f417484e110f7))\n* Adds ability to specify db url via env var in migrate ([b2cc5d2](https://github.com/ory/oathkeeper/commit/b2cc5d25d23c88c25e4ef415031030a9229dc593))\n* Adds and improves metrics middleware ([b0dfd97](https://github.com/ory/oathkeeper/commit/b0dfd97fd0d947e35727b0eb4301c4ebbbbf3eb0))\n* Adds log message when telemetry is active ([ed2f983](https://github.com/ory/oathkeeper/commit/ed2f9836c6ff2e496b4cbe300d7cee4f1ce5c12e))\n* Adds validator for rules ([#77](https://github.com/ory/oathkeeper/issues/77)) ([f450697](https://github.com/ory/oathkeeper/commit/f45069711b2aa5ed3ace6361a1bc8e9115a76406)):\n\n    This patch adds an input validator for rules which should prevent\n    accidental typos or similar issues when creating a rule. Additionally,\n    no invalid/unconfigured handlers (authorizers, credential issuers,\n    authenticators) can be used.\n\n* Align TLS options with hydra ([#114](https://github.com/ory/oathkeeper/issues/114)) ([c763152](https://github.com/ory/oathkeeper/commit/c7631528afc1e60ffed61a5b5e101079224e751b))\n* Allow empty upstream in rules ([e46065a](https://github.com/ory/oathkeeper/commit/e46065afa1d6ad14fa62dad9c6b145e46623c7f0))\n* Allow regex in match scheme ([c6d17c5](https://github.com/ory/oathkeeper/commit/c6d17c54c0a23c519a150971faf8486a957b2e82)), closes [#92](https://github.com/ory/oathkeeper/issues/92)\n* Allows connectivity to MySQL ([fa5388c](https://github.com/ory/oathkeeper/commit/fa5388cfc2cd31f0ecee379a6f515bf4cd48961f)), closes [#82](https://github.com/ory/oathkeeper/issues/82)\n* Authenticator noop should not bypass ([6f8ab4f](https://github.com/ory/oathkeeper/commit/6f8ab4f7d676fbcf06d1eeb4ab1452b15f090185)), closes [#97](https://github.com/ory/oathkeeper/issues/97)\n* Convert AuthenticationSession to local struct type for better handling ([b00b2a2](https://github.com/ory/oathkeeper/commit/b00b2a2498b44df5717b757bffbf13b00184bf68))\n* Disable cors per default ([#107](https://github.com/ory/oathkeeper/issues/107)) ([c5ab0c3](https://github.com/ory/oathkeeper/commit/c5ab0c3175b336bb8bea3b919cae57c838262ab4)):\n\n    This patch introduces CORS_ENABLED which defaults to \"false\".\n    \n    \n\n* Doesn't fatal if no ORY Hydra is unresponsive. ([#66](https://github.com/ory/oathkeeper/issues/66)) ([181e9ac](https://github.com/ory/oathkeeper/commit/181e9acf9bdc9adc05e6718df53b7fa1ff539c41)), closes [#65](https://github.com/ory/oathkeeper/issues/65)\n* Enables TLS option on serve api ([#116](https://github.com/ory/oathkeeper/issues/116)) ([83f1f84](https://github.com/ory/oathkeeper/commit/83f1f84a42510f2c9a6d72d33f94ff8117b56a7f))\n* Expose all ORY Hydra ports in tests ([691a72d](https://github.com/ory/oathkeeper/commit/691a72d3372d3a949acadf95130ed7d1432dafac))\n* Expose all ORY Hydra ports in tests ([add70c6](https://github.com/ory/oathkeeper/commit/add70c66f0c30848d845e80e94c9065865d65809))\n* Fix checkResponse message typo ([#106](https://github.com/ory/oathkeeper/issues/106)) ([0d0e653](https://github.com/ory/oathkeeper/commit/0d0e653e11a7b7415ef76334ebe9c1c0b50e47c8))\n* Ignore query parameters when matching url in rules. ([#139](https://github.com/ory/oathkeeper/issues/139)) ([07eb99b](https://github.com/ory/oathkeeper/commit/07eb99bdb669121bcd27559d9f11d0633f5a8877))\n* Improve compatibility with ORY Hydra 1.0.0-beta.8 ([#108](https://github.com/ory/oathkeeper/issues/108)) ([296e012](https://github.com/ory/oathkeeper/commit/296e01254b50b645fae67e51aa668d39652b0778)), closes [#101](https://github.com/ory/oathkeeper/issues/101):\n\n    This patch improves compatibility with ORY Hydra 1.0.0-beta.8 and updates vendored dependencies.\n\n* Improve hydra integration tests ([e8b7a58](https://github.com/ory/oathkeeper/commit/e8b7a586c5fcb86efddf57d4f2f97a0ff915b869))\n* Improve refresh subroutines ([cc33538](https://github.com/ory/oathkeeper/commit/cc33538f11d9292465bc2fdf0275233b1ff7df9e))\n* Improves cors parsing ([d00dfed](https://github.com/ory/oathkeeper/commit/d00dfed2724cd449744fe189a6f957bdab8f508b))\n* Improves test set up ([6b6bb88](https://github.com/ory/oathkeeper/commit/6b6bb8846385e59436469ba201d94791d3588566))\n* Include headers credential issuer in handler factory ([0e1ef1b](https://github.com/ory/oathkeeper/commit/0e1ef1bf31a4cd48fa72d42f91323d860ac886ef))\n* Introduce health and version endpoint ([029c7ff](https://github.com/ory/oathkeeper/commit/029c7ffab1b68df902d31812a7fde635cc2d880b))\n* Make subject configurable using go template ([#129](https://github.com/ory/oathkeeper/issues/129)) ([ee9dcdd](https://github.com/ory/oathkeeper/commit/ee9dcdd275b6b7f21c4a8b438ebed711acfda5e2))\n* More CredentialsIssuerHeaders tests ([079171f](https://github.com/ory/oathkeeper/commit/079171fc159a62ec4742b73d71f9116d9831bf16))\n* Move headers into new config field ([51eb9fb](https://github.com/ory/oathkeeper/commit/51eb9fb021beff28111a491daa5b9a5d17040bc7))\n* Properly document JWT refresh ([#117](https://github.com/ory/oathkeeper/issues/117)) ([2e024f9](https://github.com/ory/oathkeeper/commit/2e024f91640bf4182d1b1a6fb143d77c523f4596))\n* Properly handle conflicts on PUT and POST ([83b591d](https://github.com/ory/oathkeeper/commit/83b591d8cf3d180ad9d48a72bd92ffdb3a8192ac)), closes [#38](https://github.com/ory/oathkeeper/issues/38):\n\n    Previously, PUT and POST did not result in errors (409) when non-existing\n    resources were modified, or existing resources were created.\n    This patch resolves that.\n\n* Refactors Oathkeeper into new ecosystem ([#60](https://github.com/ory/oathkeeper/issues/60)) ([7acfbca](https://github.com/ory/oathkeeper/commit/7acfbcaca36645a984baded2dc3cbb689154ef8c))\n* Refresh rules in api mode ([08204e8](https://github.com/ory/oathkeeper/commit/08204e8eb60745d8449b2da9780e460f504710c9))\n* Remove config flag ([#111](https://github.com/ory/oathkeeper/issues/111)) ([8385cbc](https://github.com/ory/oathkeeper/commit/8385cbcb05be5e1d5df8d5b3f00130b163d651f6)), closes [#110](https://github.com/ory/oathkeeper/issues/110)\n* Remove config flag ([#111](https://github.com/ory/oathkeeper/issues/111)) ([7de77b8](https://github.com/ory/oathkeeper/commit/7de77b81495c53dd3c3fac3f3524daa10b19fc5d)), closes [#110](https://github.com/ory/oathkeeper/issues/110)\n* Remove package.json from swagger dir ([837d18c](https://github.com/ory/oathkeeper/commit/837d18ca2eec44370b965de190b317dd40369970))\n* Resolve broken introspection scope setting ([18837a9](https://github.com/ory/oathkeeper/commit/18837a9fb18c931b6fadfa39f71520f3f45e6c1c))\n* Resolve HS256 kid mismatch ([6d647d7](https://github.com/ory/oathkeeper/commit/6d647d76b1e41f4ec0d43c79934d601f5e0627af)), closes [#83](https://github.com/ory/oathkeeper/issues/83)\n* Resolves panic when network fails in \"rules import\" ([078542a](https://github.com/ory/oathkeeper/commit/078542a9c143ca6e18499157b2462a4c986230a3))\n* Streamlines https configuration variables ([#124](https://github.com/ory/oathkeeper/issues/124)) ([9f6f815](https://github.com/ory/oathkeeper/commit/9f6f8155a002699e29c5f02c8ebb48ac5dff17be)), closes [#121](https://github.com/ory/oathkeeper/issues/121)\n* Test for errors ([585672e](https://github.com/ory/oathkeeper/commit/585672e3a4a7e996d575d51889918c049e95106e))\n* Test missing Extra field ([a4d3d2d](https://github.com/ory/oathkeeper/commit/a4d3d2d4708d7c6baec90289a9a0bb956a95566b))\n* Test template caching/lookup ([ab8a402](https://github.com/ory/oathkeeper/commit/ab8a40298071eff9fc0bec66470d7392226cdf6e))\n* Update keto to latest ([3e2a8de](https://github.com/ory/oathkeeper/commit/3e2a8dee9ead7a89d537162b8c4271444ab137df))\n* Upgrade keto authorizer to 0.2.0 ([#145](https://github.com/ory/oathkeeper/issues/145)) ([bcd4836](https://github.com/ory/oathkeeper/commit/bcd4836d2ad38821d2a3c856ff3b851e5dce344a))\n* Support \"scope\" claim as a string in jwt authenticator (#137) ([ab5240e](https://github.com/ory/oathkeeper/commit/ab5240e9a462cfaf2f632d6b535a3177d2c80c4e)), closes [#137](https://github.com/ory/oathkeeper/issues/137)\n* Test nesting of various types ([188748d](https://github.com/ory/oathkeeper/commit/188748d526edc8aa0e71b163b7d7188755fb9b7f))\n* Update rules stub ([475f39a](https://github.com/ory/oathkeeper/commit/475f39a5f506b21557def2eb967ecdc7bd84d245))\n* Upgrade superagent version ([44ed240](https://github.com/ory/oathkeeper/commit/44ed24017fec12a4de8505b3050018230e885981))\n* Use print funcmap function to override text/template print ([76b2d9d](https://github.com/ory/oathkeeper/commit/76b2d9d13c7983ac24c2076a5f5770f2cb380d43))\n* Validate handler configurations ([a558103](https://github.com/ory/oathkeeper/commit/a55810339ba3ec85654c358b902733c3125f01f0))\n* Adds docker-compose example with postgres ([84f1313](https://github.com/ory/oathkeeper/commit/84f131387845a1f0246d40b074d446ec58b014c0))\n* Removes obsolete benchmark ([3f259da](https://github.com/ory/oathkeeper/commit/3f259da7766eb6a42b54bb3a6f3ddeb49d9363a1))\n* Resolves an issue with cached matchers ([951da25](https://github.com/ory/oathkeeper/commit/951da251e3e862f2d0a1e5076c028a481f0235dd)), closes [#73](https://github.com/ory/oathkeeper/issues/73):\n\n    This patch resolves an issue where updates would not properly propagate. This caused deleted rules to still be available in the proxy.\n\n* Resolves issues with broken tests ([6604045](https://github.com/ory/oathkeeper/commit/6604045191446baca03791940ddf746aed4799d1))\n* Resolves naming issues and updates readme ([5495d4a](https://github.com/ory/oathkeeper/commit/5495d4aa6d23a04891b53694e4fc0e0857c2f955))\n* Resolves potential panic in request handler ([ef6e889](https://github.com/ory/oathkeeper/commit/ef6e8894f034ec66bb3b0da1bdda762fe428a14d))\n* Resolves recursive stack overflow ([#81](https://github.com/ory/oathkeeper/issues/81)) ([0594cda](https://github.com/ory/oathkeeper/commit/0594cda346f7ce5af1dc86c6335c1b782632d9eb)), closes [#80](https://github.com/ory/oathkeeper/issues/80)\n* Reduces setup complexity by making strategies configurable ([6626f8f](https://github.com/ory/oathkeeper/commit/6626f8f2aa98f8ee05e5b1f63c1b698083f9ae78)), closes [#71](https://github.com/ory/oathkeeper/issues/71):\n\n    This patch adds another ID Token signing algorithm (HS256) which is easier to set up as it does not rely on ORY Hydra but instead on a shared secret.\n    \n    Additionally the ability to specify which ID Token singing algorithm to use has been added. Environmental variables to configure the behvaiour have been added as well.\n    \n    Further, the ORY Keto Warden Authorizer strategy is now optional and disabled when the environment variable `AUTHORIZER_KETO_WARDEN_KETO_URL` is empty.\n\n* Updates to ORY Hydra v1.0.0-beta.2 ([e4c9f2e](https://github.com/ory/oathkeeper/commit/e4c9f2eeed41ab8deeb54f2137ea1b2d90a3bdc3))\n* Tells linguist to ignore SDK files ([ace7f34](https://github.com/ory/oathkeeper/commit/ace7f3411f882c6e89bef7800fb2b700e51cd5f6))\n\n\n# [0.11.12](https://github.com/ory/oathkeeper/compare/v0.0.29...v0.11.12) (2018-05-07)\n\nIntroduces new versioning number to match ORY Hydra\n\n\n\n### Documentation\n\n* Adds automatic summary generation ([#49](https://github.com/ory/oathkeeper/issues/49)) ([20fefbc](https://github.com/ory/oathkeeper/commit/20fefbcac042e2a251f8bf047f252e251dbc704b))\n* Adds edit on github links ([95af1bb](https://github.com/ory/oathkeeper/commit/95af1bba9cc1b5dafe12f11ab9876371efedd92a))\n* Adds license note to all source files ([#51](https://github.com/ory/oathkeeper/issues/51)) ([2c8ff2f](https://github.com/ory/oathkeeper/commit/2c8ff2f944574210964456126342d7a41efb73b7))\n* Fixes redirect path ([9bca2f3](https://github.com/ory/oathkeeper/commit/9bca2f36a5d9ef75afb97e63faaffa912c9121d3))\n* Moves documentation to new repository ([#57](https://github.com/ory/oathkeeper/issues/57)) ([a9f21f3](https://github.com/ory/oathkeeper/commit/a9f21f3c5a71442ee879a8457798f8965b869f28))\n* Redirect to ory domain ([0599e63](https://github.com/ory/oathkeeper/commit/0599e63d8628effa242b85e28f66df6a95616a45))\n* Removes newline from swagger doc ([5e297b3](https://github.com/ory/oathkeeper/commit/5e297b39794e4e015dedd716f3402f0bfb6efc1c))\n* Removes stray line in api docs ([bed1a04](https://github.com/ory/oathkeeper/commit/bed1a048cd54bd103c3c6bc62455671a3536d04f))\n* Removes summary plugin ([ce06f4e](https://github.com/ory/oathkeeper/commit/ce06f4eaffda106d009f2b554aecda3e3ba86434))\n* Resolves broken policy and client definitions ([#55](https://github.com/ory/oathkeeper/issues/55)) ([4676f40](https://github.com/ory/oathkeeper/commit/4676f4054090ef705c705a3eaac616f8f513b980)), closes [#53](https://github.com/ory/oathkeeper/issues/53)\n* Updates chat badge to discord ([1bbac52](https://github.com/ory/oathkeeper/commit/1bbac524d5634d8aa286cdd14d9230807123da85))\n* Updates execution instructions ([#56](https://github.com/ory/oathkeeper/issues/56)) ([3bcfd8b](https://github.com/ory/oathkeeper/commit/3bcfd8b1b91df97f78eb6e7b9bb2df7ba398b158)):\n\n    Adjusting run script to respect env variables\n\n* Updates README.md ([#58](https://github.com/ory/oathkeeper/issues/58)) ([bdb542f](https://github.com/ory/oathkeeper/commit/bdb542fcb6006c218f499793f0e44ce30f79cf2a))\n* Updates swagger docs ([5ea68c2](https://github.com/ory/oathkeeper/commit/5ea68c290d757e341932b00cb89c2a9e5b7e2429))\n\n### Unclassified\n\n* Introduces new versioning number to match ORY Hydra ([75b5121](https://github.com/ory/oathkeeper/commit/75b51213a50750a12f670060a34aecadf49fa3e2))\n* Adds mock generation script ([00b51b7](https://github.com/ory/oathkeeper/commit/00b51b7a71089d04a4b3005e5fd15d5e9db22939))\n* Corrects logging typo ([#52](https://github.com/ory/oathkeeper/issues/52)) ([d415291](https://github.com/ory/oathkeeper/commit/d41529123a756cd202b2216a0aa746e137e72e5e)):\n\n    This corrects logging from 'oahtkeeper-proxy' to 'oathkeeper-proxy' in,\n    e.g., the proxy latency logline.\n\n* Updates hydra sdk mock ([2ff8032](https://github.com/ory/oathkeeper/commit/2ff8032f9362a8ef5d85692ce49d425bfc18f2f0))\n* Updates hydra to 0.11.6 ([ee969f6](https://github.com/ory/oathkeeper/commit/ee969f68145c5398b79fe4e7a9bf7fa74d1e6bf3))\n* Updates license header ([94a2ed2](https://github.com/ory/oathkeeper/commit/94a2ed2a0c381fe2fbf5182c45acb52ca4e2c164))\n* Use source file from vendor for mock generation ([42517c6](https://github.com/ory/oathkeeper/commit/42517c6df9bfb1a5a14606229916b8ba674aa3e1))\n* Uses Hydra v0.11.6 in tests ([9c2cc89](https://github.com/ory/oathkeeper/commit/9c2cc8901f32ab8042fadbd32475e98650c37e72))\n* Adds license ([cc13ae8](https://github.com/ory/oathkeeper/commit/cc13ae8f002426dc3b39b2184b438331e6f63522))\n* Updates README.md ([c9340dc](https://github.com/ory/oathkeeper/commit/c9340dc94d1b6aec4825c8a2ccf423aee1a5fd3b))\n\n\n# [0.0.29](https://github.com/ory/oathkeeper/compare/v0.0.28...v0.0.29) (2017-12-19)\n\nAdds use field to well known (#48)\n\n\n\n\n### Unclassified\n\n* Adds use field to well known (#48) ([f7353ea](https://github.com/ory/oathkeeper/commit/f7353ea1de25c37f58b9e7532e06210ea575bc29)), closes [#48](https://github.com/ory/oathkeeper/issues/48)\n\n\n# [0.0.28](https://github.com/ory/oathkeeper/compare/v0.0.27...v0.0.28) (2017-12-19)\n\nReplaces key discovery with well-known feature (#46)\n\nCloses #43\n\n\n### Unclassified\n\n* Replaces key discovery with well-known feature (#46) ([e343a61](https://github.com/ory/oathkeeper/commit/e343a61d6ae8f149f61c832fc567533651a1b16f)), closes [#46](https://github.com/ory/oathkeeper/issues/46) [#43](https://github.com/ory/oathkeeper/issues/43)\n\n\n# [0.0.27](https://github.com/ory/oathkeeper/compare/v0.0.26...v0.0.27) (2017-12-12)\n\nAdds cors capabilities to management server\n\n\n\n### Unclassified\n\n* Adds cors capabilities to management server ([6519846](https://github.com/ory/oathkeeper/commit/6519846691737a4f8ddfb5c55186d1b0c26db8ad))\n\n\n# [0.0.26](https://github.com/ory/oathkeeper/compare/v0.0.25...v0.0.26) (2017-12-11)\n\nAdds hydra.introspect to required tokens\n\n\n\n### Unclassified\n\n* Adds hydra.introspect to required tokens ([b66462a](https://github.com/ory/oathkeeper/commit/b66462a0ec62d82adb805c6aa29d807c21c5e20b))\n* Fixes broken image link in docs ([1aa2404](https://github.com/ory/oathkeeper/commit/1aa2404b9fa88e69b6e18832f1532978012dba27))\n\n\n# [0.0.25](https://github.com/ory/oathkeeper/compare/v0.0.24...v0.0.25) (2017-11-28)\n\nAdd extra data from token introspection to session\n\n\n\n### Unclassified\n\n* Add extra data from token introspection to session ([ce8f9f2](https://github.com/ory/oathkeeper/commit/ce8f9f265bad2d60b467d788d4314270c549a461))\n\n\n# [0.0.24](https://github.com/ory/oathkeeper/compare/v0.0.23...v0.0.24) (2017-11-26)\n\nReplaces LogError with direct error logging\n\n\n\n### Unclassified\n\n* Replaces LogError with direct error logging ([73994b8](https://github.com/ory/oathkeeper/commit/73994b850629c6ec267903ad09e2a6eceef7a9cd))\n* Upgrades vendor dependencies ([4207aef](https://github.com/ory/oathkeeper/commit/4207aef3c00a64f315dc0e85cd83adb6e3c9660c))\n* Introduces telemetry module and adds documentation ([c5a7f7a](https://github.com/ory/oathkeeper/commit/c5a7f7a8fc6e0e2a264b5bc3dd29174f86f4b5c9)), closes [#27](https://github.com/ory/oathkeeper/issues/27) [#34](https://github.com/ory/oathkeeper/issues/34)\n* Use oathkeeper public url as issuer ([1e5ae00](https://github.com/ory/oathkeeper/commit/1e5ae00f457aafdd7a284a388704ce954b3339b1))\n\n\n# [0.0.23](https://github.com/ory/oathkeeper/compare/v0.0.22...v0.0.23) (2017-11-24)\n\nPrint formatted output string in rule management CLI (#35)\n\n\n\n\n### Documentation\n\n* Add JWK set docs ([#33](https://github.com/ory/oathkeeper/issues/33)) ([95abec8](https://github.com/ory/oathkeeper/commit/95abec817a1fb053a19d47e66725764f56f4c9cc))\n* Update readme ([f448908](https://github.com/ory/oathkeeper/commit/f448908fb38f3b069de488a59e27ff082e610e1a))\n\n### Unclassified\n\n* Print formatted output string in rule management CLI (#35) ([b14c74e](https://github.com/ory/oathkeeper/commit/b14c74e6270c4e2fdd9741c3cbe619336efd1435)), closes [#35](https://github.com/ory/oathkeeper/issues/35)\n* Update docs and add tests (#32) ([c6bf7d1](https://github.com/ory/oathkeeper/commit/c6bf7d15e8b935b6ed64551391f9aa23968cf4d9)), closes [#32](https://github.com/ory/oathkeeper/issues/32)\n\n\n# [0.0.22](https://github.com/ory/oathkeeper/compare/v0.0.21...v0.0.22) (2017-11-20)\n\nRenames bypass values for better clarity\n\nCloses #13\nCloses #29\n\n\n\n### Unclassified\n\n* Renames bypass values for better clarity ([46a717e](https://github.com/ory/oathkeeper/commit/46a717e0428fba1fcabb0bdb669acaba39aa5444)), closes [#13](https://github.com/ory/oathkeeper/issues/13) [#29](https://github.com/ory/oathkeeper/issues/29)\n\n\n# [0.0.21](https://github.com/ory/oathkeeper/compare/v0.0.20...v0.0.21) (2017-11-19)\n\nRequest hydra.keys scope and fix panic\n\n\n\n### Unclassified\n\n* Request hydra.keys scope and fix panic ([546b2cf](https://github.com/ory/oathkeeper/commit/546b2cff5e7cea306a60963f646ad4522f5bfd15))\n\n\n# [0.0.20](https://github.com/ory/oathkeeper/compare/v0.0.19...v0.0.20) (2017-11-18)\n\ndocs: Improve swagger documentation\n\n\n\n### Documentation\n\n* Add developer guide link to readme ([68be400](https://github.com/ory/oathkeeper/commit/68be400c070a63b3ec8a7f40bc343ed39a45bed5))\n* Add install and run section ([87f0700](https://github.com/ory/oathkeeper/commit/87f07004b47d9803246bc42bf78c3e5100969033))\n* Fix table of contents in summary ([fdb752b](https://github.com/ory/oathkeeper/commit/fdb752b3172ed746776cb7153f4523b10920f492))\n* Improve swagger documentation ([8f16a9b](https://github.com/ory/oathkeeper/commit/8f16a9b36e1b75415f5e367c0ae5589a74187139))\n* Wrote basic developer guide ([952d27c](https://github.com/ory/oathkeeper/commit/952d27c7639a80b5daddb702a6f790e855b1422b))\n\n### Unclassified\n\n* Replace shared secret with RSA key from Hydra for ID token signing ([e7ed8ca](https://github.com/ory/oathkeeper/commit/e7ed8ca672f617a5d67a0d70ca665e3b45fe3e67))\n* Add rules management capabilities to the cli ([289c38a](https://github.com/ory/oathkeeper/commit/289c38ae4b9c67b654e3b24dc45bd28968f75937))\n* Format cmd/serve ([bc2e7c1](https://github.com/ory/oathkeeper/commit/bc2e7c159eea9a203820e396f7588a007722efc8))\n* Ignore gitbook output directory ([580b94f](https://github.com/ory/oathkeeper/commit/580b94fa921363782e02d66981172659dc76dadc))\n\n\n# [0.0.19](https://github.com/ory/oathkeeper/compare/v0.0.18...v0.0.19) (2017-11-13)\n\nevaluator: Use full request URL\n\n\n\n### Unclassified\n\n* Use full request URL ([2b4b149](https://github.com/ory/oathkeeper/commit/2b4b1492ce3356a7a251e241a308669517ddba3e))\n\n\n# [0.0.18](https://github.com/ory/oathkeeper/compare/v0.0.17...v0.0.18) (2017-11-13)\n\nevaluator: Improve audit capabilities\n\n\n\n### Unclassified\n\n* Improve audit capabilities ([c952d21](https://github.com/ory/oathkeeper/commit/c952d21bd59c7f318a3e7c4f98978eb8b3fc7231))\n* Resolve potential panic in token id generation ([8fe9e9a](https://github.com/ory/oathkeeper/commit/8fe9e9a5bd7b951b93c4966f8585945074ff104d)), closes [#22](https://github.com/ory/oathkeeper/issues/22)\n\n\n# [0.0.17](https://github.com/ory/oathkeeper/compare/v0.0.16...v0.0.17) (2017-11-12)\n\nIntroduces surrogate_id to SQLManager (#21)\n\n\n\n\n### Unclassified\n\n* Introduces surrogate_id to SQLManager (#21) ([fbe272f](https://github.com/ory/oathkeeper/commit/fbe272f36e64c4e15758a34f62cc3d03e63c7c64)), closes [#21](https://github.com/ory/oathkeeper/issues/21)\n\n\n# [0.0.16](https://github.com/ory/oathkeeper/compare/v0.0.15...v0.0.16) (2017-11-12)\n\nReplace MatchesPath with MatchesURL (#20)\n\n\n\n\n### Unclassified\n\n* Replace MatchesPath with MatchesURL (#20) ([4ee776c](https://github.com/ory/oathkeeper/commit/4ee776cc08201f91dfdab5c0c259c4cfffd88ddb)), closes [#20](https://github.com/ory/oathkeeper/issues/20)\n\n\n# [0.0.15](https://github.com/ory/oathkeeper/compare/v0.0.14...v0.0.15) (2017-11-09)\n\nAdd HTTPS capabilities and document proxy/management commands (#19)\n\n\n\n\n### Unclassified\n\n* Add HTTPS capabilities and document proxy/management commands (#19) ([98ef623](https://github.com/ory/oathkeeper/commit/98ef623e64a58afa99fcb2db67bf5c514c86334c)), closes [#19](https://github.com/ory/oathkeeper/issues/19)\n\n\n# [0.0.14](https://github.com/ory/oathkeeper/compare/v0.0.13...v0.0.14) (2017-11-07)\n\nMake refresh_delay configurable and skip it on boot (#18)\n\n\n\n\n### Unclassified\n\n* Make refresh_delay configurable and skip it on boot (#18) ([4863a82](https://github.com/ory/oathkeeper/commit/4863a823d8f510e5c82d7f8c34f5753f18861a03)), closes [#18](https://github.com/ory/oathkeeper/issues/18)\n\n\n# [0.0.13](https://github.com/ory/oathkeeper/compare/v0.0.12...v0.0.13) (2017-11-07)\n\nStore rules path match in plaintext (#17)\n\n\n\n\n### Unclassified\n\n* Store rules path match in plaintext (#17) ([6570b5d](https://github.com/ory/oathkeeper/commit/6570b5d7f3169f63f9d8c31d844660f5394fc37a)), closes [#17](https://github.com/ory/oathkeeper/issues/17)\n\n\n# [0.0.12](https://github.com/ory/oathkeeper/compare/v0.0.11...v0.0.12) (2017-11-07)\n\nUse ladon regex compiler for matches (#16)\n\n\n\n\n### Unclassified\n\n* Use ladon regex compiler for matches (#16) ([972a328](https://github.com/ory/oathkeeper/commit/972a328b1a0fca0dfcc41487492f0203c284b54a)), closes [#16](https://github.com/ory/oathkeeper/issues/16)\n* Fix typo in circle-ci test-docker job ([5618c30](https://github.com/ory/oathkeeper/commit/5618c3079ef559ad5dfbacc398a8b95b3c333643))\n* Run docker image in test ([12b5f13](https://github.com/ory/oathkeeper/commit/12b5f13ad997b7c427505bffa1ad7e33aa2de684))\n\n\n# [0.0.11](https://github.com/ory/oathkeeper/compare/v0.0.10...v0.0.11) (2017-11-06)\n\nMove gatekeeper to $PATH in docker image\n\n\n\n### Unclassified\n\n* Move gatekeeper to $PATH in docker image ([81e5562](https://github.com/ory/oathkeeper/commit/81e5562ead12d1376f6eadff53ce36339dd3599a))\n* Force docker version 17.10 in circle ([3927a78](https://github.com/ory/oathkeeper/commit/3927a789d7b93849fb1b2d0edbccf45781c9030b))\n\n\n# [0.0.10](https://github.com/ory/oathkeeper/compare/v0.0.9...v0.0.10) (2017-11-06)\n\nAdd ssl certificates to scratch image\n\n\n\n### Unclassified\n\n* Add ssl certificates to scratch image ([56a3243](https://github.com/ory/oathkeeper/commit/56a3243d1c4be1308b1aa22244548359c94ee181))\n* Build static binary within docker ([4d6d8bf](https://github.com/ory/oathkeeper/commit/4d6d8bf22f7aea16fa21e4fee99c829b9e76de0d))\n\n\n# [0.0.9](https://github.com/ory/oathkeeper/compare/v0.0.8...v0.0.9) (2017-11-06)\n\nBuild binary statically with CGO disabled\n\n\n\n### Unclassified\n\n* Build binary statically with CGO disabled ([6dd3761](https://github.com/ory/oathkeeper/commit/6dd376171e3c1219de54984a9a27ac44d76d897b))\n\n\n# [0.0.8](https://github.com/ory/oathkeeper/compare/v0.0.7...v0.0.8) (2017-11-06)\n\nMake oathkeeper binary executable#\n\n\n\n### Unclassified\n\n* Make oathkeeper binary executable# ([9e24888](https://github.com/ory/oathkeeper/commit/9e24888654675208f96913e6c11233b598e78815))\n\n\n# [0.0.7](https://github.com/ory/oathkeeper/compare/v0.0.6...v0.0.7) (2017-11-06)\n\nBuild oathekeeper docker image statically (#14)\n\n* Build oathekeeper docker image statically\r\n\r\n* Build oathekeeper docker image statically\r\n\n\n\n### Unclassified\n\n* Build oathekeeper docker image statically (#14) ([dbd2037](https://github.com/ory/oathkeeper/commit/dbd2037b56b6104b79607b20394be0e9a30e67e1)), closes [#14](https://github.com/ory/oathkeeper/issues/14):\n\n    * Build oathekeeper docker image statically\n    \n    * Build oathekeeper docker image statically\n\n\n\n# [0.0.6](https://github.com/ory/oathkeeper/compare/v0.0.5...v0.0.6) (2017-11-03)\n\nAdded serve all command\n\n\n\n### Unclassified\n\n* Added serve all command ([dfc071c](https://github.com/ory/oathkeeper/commit/dfc071c02d9fa6fda9832bd35fdc4b1eb96c63c6))\n\n\n# [0.0.5](https://github.com/ory/oathkeeper/compare/v0.0.4...v0.0.5) (2017-11-01)\n\nRemove goveralls from circle build\n\n\n\n### Unclassified\n\n* Remove goveralls from circle build ([8362e1c](https://github.com/ory/oathkeeper/commit/8362e1c125e2bd74faefd18ff26a9b06f88792aa))\n* Add cors handling to proxy ([84cec15](https://github.com/ory/oathkeeper/commit/84cec15900a97dec6b92423912ef6d4802121036))\n* Use circle ci build status badge ([b776e05](https://github.com/ory/oathkeeper/commit/b776e05e5a3ad60b1b993b6f8dea1d6f5baef7c6))\n* Use circle ci build status badge ([65c4100](https://github.com/ory/oathkeeper/commit/65c4100eab6a8a09ca96e31b009545a09400b1a8))\n* Switch from glide to golang/dep for vendoring ([ec63fa4](https://github.com/ory/oathkeeper/commit/ec63fa47af310a6936f4afada49700c9ca54b9ad))\n* Resolve tests by replacing nil slice (#7) ([971d020](https://github.com/ory/oathkeeper/commit/971d02082956969c9cd6cfcb5afb257606ddeb6b)), closes [#7](https://github.com/ory/oathkeeper/issues/7)\n\n\n# [0.0.4](https://github.com/ory/oathkeeper/compare/v0.0.3...v0.0.4) (2017-10-21)\n\nReturn arrays instead of null on rule creation (#6)\n\n\n\n\n### Unclassified\n\n* Return arrays instead of null on rule creation (#6) ([02e88be](https://github.com/ory/oathkeeper/commit/02e88beda5415e51b42e33527af90cf59d6a759e)), closes [#6](https://github.com/ory/oathkeeper/issues/6)\n* Add circleci configuration file (#5) ([76e58f2](https://github.com/ory/oathkeeper/commit/76e58f2033e86c522875faafc77717f31274b4f7)), closes [#5](https://github.com/ory/oathkeeper/issues/5)\n\n\n# [0.0.3](https://github.com/ory/oathkeeper/compare/v0.0.2...v0.0.3) (2017-10-18)\n\nForce linefeed for shell scripts\n\n\n\n### Unclassified\n\n* Force linefeed for shell scripts ([1e4fc77](https://github.com/ory/oathkeeper/commit/1e4fc771df44b7f67b616bc652d0c280131d59cf))\n* When introspection fails return unauthorized ([f5295b4](https://github.com/ory/oathkeeper/commit/f5295b484fd9430bcb0d5333ca9b395f88812d62))\n\n\n# [0.0.2](https://github.com/ory/oathkeeper/compare/v0.0.1...v0.0.2) (2017-10-12)\n\ncmd: remove unnecessary scope hydra.warden.*\n\n\n\n### Unclassified\n\n* Add ability to skip acp checks ([18facbb](https://github.com/ory/oathkeeper/commit/18facbbf42baa34aa8740c2952789d1f608cfb90))\n* Remove unnecessary scope hydra.warden.* ([2214498](https://github.com/ory/oathkeeper/commit/2214498c477b8cfb739c0326437d684b291d16eb))\n\n\n# [0.0.1](https://github.com/ory/oathkeeper/compare/072f5e4321ac3a143544cf70da337f0734a86483...v0.0.1) (2017-10-10)\n\ntravis: add goveralls report submission (#2)\n\n\n\n\n### Documentation\n\n* Update readme ([c11056a](https://github.com/ory/oathkeeper/commit/c11056a0714275f21543f2a9a7361e5223c590e8))\n\n### Unclassified\n\n* Add goveralls report submission ([#2](https://github.com/ory/oathkeeper/issues/2)) ([13f9f81](https://github.com/ory/oathkeeper/commit/13f9f81becb7efb0dba32c8ca4d6df7e98ba7191))\n* Initial commit ([bff82ab](https://github.com/ory/oathkeeper/commit/bff82ab818f993ea091257c261140f4fb0d51038))\n* Initial commit ([072f5e4](https://github.com/ory/oathkeeper/commit/072f5e4321ac3a143544cf70da337f0734a86483))\n\n\n", "---\nid: authn\ntitle: Authenticators\n---\n\nAn authenticator is responsible for authenticating request credentials. ORY\nOathkeeper supports different authenticators and we will add more as the project\nprogresses.\n\nAn authenticator inspects the HTTP request (e.g. the HTTP Authorization Header)\nand executes some business logic that returns true (for authentication ok) or\nfalse (for authentication invalid) as well as a subject (\"user\"). The subject is\ntypically the \"user\" that made the request, but it could also be a machine (if\nyou have machine-2-machine interaction) or something different.\n\nEach authenticator has two keys:\n\n- `handler` (string, required): Defines the handler (e.g. `noop`) to be used.\n- `config` (object, optional): Configures the handler. Configuration keys vary\n  per handler. The configuration can be defined in the global configuration\n  file, or per access rule.\n\n**Example**\n\n```json\n{\n  \"authenticators\": [\n    {\n      \"handler\": \"noop\",\n      \"config\": {}\n    }\n  ]\n}\n```\n\nYou can define more than one authenticator in the Access Rule. The first\nauthenticator that is able to handle the credentials will be consulted and other\nauthenticators will be ignored:\n\n```json\n{\n  \"authenticators\": [\n    {\n      \"handler\": \"a\"\n    },\n    {\n      \"handler\": \"b\"\n    },\n    {\n      \"handler\": \"c\"\n    }\n  ]\n}\n```\n\nIf handler `a` is able to handle the provided credentials, then handler `b` and\n`c` will be ignored. If handler `a` can not handle the provided credentials but\nhandler `b` can, then handler `a` and `c` will be ignored. Handling the provided\ncredentials means that the authenticator knows how to handle, for example, the\n`Authorization: basic` header. It does not mean that the credentials are valid!\nIf a handler encounters invalid credentials, then other handlers will be ignored\ntoo.\n\n## `noop`\n\nThe `noop` handler tells ORY Oathkeeper to bypass authentication, authorization,\nand mutation. This implies that no authorization will be executed and no\ncredentials will be issued. It's basically a pass-all authenticator that allows\nany request to be forwarded to the upstream URL.\n\n> Using this handler is basically an allow-all configuration. It makes sense\n> when the upstream handles access control itself or does not need any type of\n> access control.\n\n### Configuration\n\nThis handler is not configurable.\n\nTo enable this handler, set:\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  noop:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n```\n\n### Access Rule Example\n\n```sh\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"noop\"\n  }]\n}]\n\n$ curl -X GET http://my-app/some-route\n\nHTTP/1.0 200 Status OK\nThe request has been allowed!\n```\n\n## `unauthorized`\n\nThe `unauthorized` handler tells ORY Oathkeeper to reject all requests as\nunauthorized.\n\n### Configuration\n\nThis handler is not configurable.\n\nTo enable this handler, set:\n\n```yaml\n# Global configuration file oathkeeper.yml\nunauthorized:\n  noop:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n```\n\n### Access Rule Example\n\n```sh\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"unauthorized\"\n  }]\n}]\n\n$ curl -X GET http://my-app/some-route\n\nHTTP/1.0 401 Unauthorized\n```\n\n## `anonymous`\n\nThe `anonymous` authenticator checks whether or not an `Authorization` header is\nset. If not, it will set the subject to `anonymous`.\n\n### Configuration\n\n- `subject` (string, optional) - Sets the anonymous username. Defaults to\n  \"anonymous\". Common names include \"guest\", \"anon\", \"anonymous\", \"unknown\".\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  anonymous:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n\n    config:\n      subject: guest\n```\n\n```yaml\n# Some Access Rule: access-rule-1.yaml\nid: access-rule-1\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: anonymous\n    config:\n      subject: guest\n```\n\n### Access Rule Example\n\nThe following rule allows all requests to `GET http://my-app/some-route` and\nsets the subject name to the anonymous username, as long as no `Authorization`\nheader is set in the HTTP request:\n\n```shell\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"anonymous\"\n  }],\n  \"authorizer\": { \"handler\": \"allow\" },\n  \"mutators\": [{ \"handler\": \"noop\" }]\n}]\n\n$ curl -X GET http://my-app/some-route\n\nHTTP/1.0 200 Status OK\nThe request has been allowed! The subject is: \"anonymous\"\n\n$ curl -X GET -H \"Authorization: Bearer foobar\" http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because credentials have been provided but only the anonymous\nauthenticator is enabled for this URL.\n```\n\n## `cookie_session`\n\nThe `cookie_session` authenticator will forward the request method, path and\nheaders to a session store. If the session store returns `200 OK` and body\n`{ \"subject\": \"...\", \"extra\": {} }` then the authenticator will set the subject\nappropriately.\n\n### Configuration\n\n- `check_session_url` (string, required) - The session store to forward request\n  method/path/headers to for validation.\n- `only` ([]string, optional) - If set, only requests that have at least one of\n  the set cookies will be forwarded, others will be passed to the next\n  authenticator. If unset, all requests are forwarded.\n- `preserve_path` (boolean, optional) - If set, any path in `check_session_url`\n  will be preserved instead of replacing the path with the path of the request\n  being checked.\n- `extra_from` (string, optional - defaults to `extra`) - A\n  [GJSON Path](https://github.com/tidwall/gjson/blob/master/SYNTAX.md) pointing\n  to the `extra` field. This defaults to `extra`, but it could also be `@this`\n  (for the root element), `session.foo.bar` for\n  `{ \"subject\": \"...\", \"session\": { \"foo\": {\"bar\": \"whatever\"} } }`, and so on.\n- `subject_from` (string, optional - defaults to `subject`) - A\n  [GJSON Path](https://github.com/tidwall/gjson/blob/master/SYNTAX.md) pointing\n  to the `subject` field. This defaults to `subject`. Example: `identity.id` for\n  `{ \"identity\": { \"id\": \"1234\" } }`.\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  cookie_session:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n\n    config:\n      check_session_url: https://session-store-host\n```\n\n```yaml\n# Some Access Rule: access-rule-1.yaml\nid: access-rule-1\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: cookie_session\n    config:\n      check_session_url: https://session-store-host\n      only:\n        - sessionid\n```\n\n```yaml\n# Some Access Rule Preserving Path: access-rule-2.yaml\nid: access-rule-2\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: cookie_session\n    config:\n      check_session_url: https://session-store-host/check-session\n      only:\n        - sessionid\n      preserve_path: true\n```\n\n### Access Rule Example\n\n```shell\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"cookie_session\"\n  }],\n  \"authorizer\": { \"handler\": \"allow\" },\n  \"mutators\": [{ \"handler\": \"noop\" }]\n}]\n\n$ curl -X GET -b sessionid=abc http://my-app/some-route\n\nHTTP/1.0 200 OK\nThe request has been allowed! The subject is: \"peter\"\n\n$ curl -X GET -b sessionid=def http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because the provided credentials are invalid.\n```\n\n## `bearer_token`\n\nThe `bearer_token` authenticator will forward the request method, path and\nheaders to a session store. If the session store returns `200 OK` and body\n`{ \"subject\": \"...\", \"extra\": {} }` then the authenticator will set the subject\nappropriately.\n\n### Configuration\n\n- `check_session_url` (string, required) - The session store to forward request\n  method/path/headers to for validation.\n- `preserve_path` (boolean, optional) - If set, any path in `check_session_url`\n  will be preserved instead of replacing the path with the path of the request\n  being checked.\n- `extra_from` (string, optional - defaults to `extra`) - A\n  [GJSON Path](https://github.com/tidwall/gjson/blob/master/SYNTAX.md) pointing\n  to the `extra` field. This defaults to `extra`, but it could also be `@this`\n  (for the root element), `session.foo.bar` for\n  `{ \"subject\": \"...\", \"session\": { \"foo\": {\"bar\": \"whatever\"} } }`, and so on.\n- `subject_from` (string, optional - defaults to `sub`) - A\n  [GJSON Path](https://github.com/tidwall/gjson/blob/master/SYNTAX.md) pointing\n  to the `sub` field. This defaults to `sub`. Example: `identity.id` for\n  `{ \"identity\": { \"id\": \"1234\" } }`.\n- `token_from` (object, optional) - The location of the bearer token. If not\n  configured, the token will be received from a default location -\n  'Authorization' header. One and only one location (header, query, or cookie)\n  must be specified.\n  - `header` (string, required, one of) - The header (case insensitive) that\n    must contain a Bearer token for request authentication. It can't be set\n    along with `query_parameter` or `cookie`.\n  - `query_parameter` (string, required, one of) - The query parameter (case\n    sensitive) that must contain a Bearer token for request authentication. It\n    can't be set along with `header` or `cookie`.\n  - `cookie` (string, required, one of) - The cookie (case sensitive) that must\n    contain a Bearer token for request authentication. It can't be set along\n    with `header` or `query_parameter`\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  bearer_token:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n\n    config:\n      check_session_url: https://session-store-host\n      token_from:\n        header: Custom-Authorization-Header\n        # or\n        # query_parameter: auth-token\n        # or\n        # cookie: auth-token\n```\n\n```yaml\n# Some Access Rule: access-rule-1.yaml\nid: access-rule-1\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: bearer_token\n    config:\n      check_session_url: https://session-store-host\n      token_from:\n        query_parameter: auth-token\n        # or\n        # header: Custom-Authorization-Header\n        # or\n        # cookie: auth-token\n```\n\n```yaml\n# Some Access Rule Preserving Path: access-rule-2.yaml\nid: access-rule-2\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: bearer_token\n    config:\n      check_session_url: https://session-store-host/check-session\n      token_from:\n        query_parameter: auth-token\n        # or\n        # header: Custom-Authorization-Header\n        # or\n        # cookie: auth-token\n      preserve_path: true\n```\n\n### Access Rule Example\n\n```shell\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"bearer_token\"\n  }],\n  \"authorizer\": { \"handler\": \"allow\" },\n  \"mutators\": [{ \"handler\": \"noop\" }]\n}]\n\n$ curl -X GET -H 'Authorization: Bearer valid-token' http://my-app/some-route\n\nHTTP/1.0 200 OK\nThe request has been allowed! The subject is: \"peter\"\n\n$ curl -X GET -H 'Authorization: Bearer invalid-token' http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because the provided credentials are invalid.\n```\n\n## `oauth2_client_credentials`\n\nThis `oauth2_client_credentials` uses the username and password from HTTP Basic\nAuthorization (`Authorization: Basic base64(<username:password>)` to perform the\nOAuth 2.0 Client Credentials grant in order to detect if the provided\ncredentials are valid.\n\nThis authenticator will use the username from the HTTP Basic Authorization\nheader as the subject for this request.\n\n> If you are unfamiliar with OAuth 2.0 Client Credentials we recommend\n> [reading this guide](https://www.oauth.com/oauth2-servers/access-tokens/client-credentials/).\n\n### Configuration\n\n- `token_url` (string, required) - The OAuth 2.0 Token Endpoint that will be\n  used to validate the client credentials.\n- `retry` (object, optional) - Configures timeout and delay settings for the\n  request against the token endpoint\n  - `give_up_after` (string) timeout\n  - `max_delay` (string) time to wait between retries\n- `required_scope` ([]string, optional) - Sets what scope is required by the URL\n  and when making performing OAuth 2.0 Client Credentials request, the scope\n  will be included in the request:\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  oauth2_client_credentials:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n\n    config:\n      token_url: https://my-website.com/oauth2/token\n```\n\n```yaml\n# Some Access Rule: access-rule-1.yaml\nid: access-rule-1\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: oauth2_client_credentials\n    config:\n      token_url: https://my-website.com/oauth2/token\n```\n\n### Access Rule Example\n\n```shell\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"oauth2_client_credentials\",\n    \"config\": {\n      \"required_scope\": [\"scope-a\", \"scope-b\"]\n    }\n  }],\n  \"authorizer\": { \"handler\": \"allow\" },\n  \"mutators\": [{ \"handler\": \"noop\" }]\n}]\n\n$ curl -X GET http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because no credentials have been provided.\n\n$ curl -X GET --user idonotexist:whatever http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because the provided credentials are invalid.\n\n$ curl -X GET --user peter:somesecret http://my-app/some-route\n\nHTTP/1.0 200 OK\nThe request has been allowed! The subject is: \"peter\"\n```\n\nIn the background, a request to the OAuth 2.0 Token Endpoint (value of\n`authenticators.oauth2_client_credentials.token_url`) will be made, using the\nOAuth 2.0 Client Credentials Grant:\n\n```\nPOST /oauth2/token HTTP/1.1\nHost: authorization-server.com\n\ngrant_type=client_credentials\n&client_id=peter\n&client_secret=somesecret\n&scope=scope-a+scope-b\n```\n\nIf the request succeeds, the credentials are considered valid and if the request\nfails, the credentials are considered invalid.\n\n## `oauth2_introspection`\n\nThe `oauth2_introspection` authenticator handles requests that have an Bearer\nToken in the Authorization Header (`Authorization: bearer <token>`) or in a\ndifferent header or query parameter specified in configuration. It then uses\nOAuth 2.0 Token Introspection to check if the token is valid and if the token\nwas granted the requested scope.\n\n> If you are unfamiliar with OAuth 2.0 Introspection we recommend\n> [reading this guide](https://www.oauth.com/oauth2-servers/token-introspection-endpoint/).\n\n### Configuration\n\n- `introspection_url` (string, required) - The OAuth 2.0 Token Introspection\n  endpoint.\n- `scope_strategy` (string, optional) - Sets the strategy to be used to\n  validate/match the token scope. Supports \"hierarchic\", \"exact\", \"wildcard\",\n  \"none\". Defaults to \"none\".\n- `required_scope` ([]string, optional) - Sets what scope is required by the URL\n  and when performing OAuth 2.0 Client Credentials request, the scope will be\n  included in the request.\n- `target_audience` ([]string, optional) - Sets what audience is required by the\n  URL.\n- `trusted_issuers` ([]string, optional) - Sets a list of trusted token issuers.\n- `pre_authorization` (object, optional) - Enable pre-authorization in cases\n  where the OAuth 2.0 Token Introspection endpoint is protected by OAuth 2.0\n  Bearer Tokens that can be retrieved using the OAuth 2.0 Client Credentials\n  grant.\n  - `enabled` (bool, optional) - Enable pre-authorization. Defaults to false.\n  - `client_id` (string, required if enabled) - The OAuth 2.0 Client ID to be\n    used for the OAuth 2.0 Client Credentials Grant.\n  - `client_secret` (string, required if enabled) - The OAuth 2.0 Client Secret\n    to be used for the OAuth 2.0 Client Credentials Grant.\n  - `token_url` (string, required if enabled) - The OAuth 2.0 Token Endpoint\n    where the OAuth 2.0 Client Credentials Grant will be performed.\n  - `audience` (string, optional) - The OAuth 2.0 Audience to be requested\n    during the OAuth 2.0 Client Credentials Grant.\n  - `scope` ([]string, optional) - The OAuth 2.0 Scope to be requested during\n    the OAuth 2.0 Client Credentials Grant.\n- `token_from` (object, optional) - The location of the bearer token. If not\n  configured, the token will be received from a default location -\n  'Authorization' header. One and only one location (header, query, or cookie)\n  must be specified.\n  - `header` (string, required, one of) - The header (case insensitive) that\n    must contain a Bearer token for request authentication. It can't be set\n    along with `query_parameter` or `cookie`.\n  - `query_parameter` (string, required, one of) - The query parameter (case\n    sensitive) that must contain a Bearer token for request authentication. It\n    can't be set along with `header` or `cookie`.\n  - `cookie` (string, required, one of) - The cookie (case sensitive) that must\n    contain a Bearer token for request authentication. It can't be set along\n    with `header` or `query_parameter`\n- `introspection_request_headers` (object, optional) - Additional headers to add\n  to the introspection request.\n- `retry` (object, optional) - Configure the retry policy\n  - `max_delay` (string, optional, default to 500ms) - Maximum delay to wait\n    before retrying the request\n  - `give_up_after` (string, optional, default to 1s) - Maximum delay allowed\n    for retries\n- `cache` (object, optional) - Enables caching of incoming tokens\n  - `enabled` (bool, optional) - Enable the cache, will use exp time of token to\n    determine when to evict from cache. Defaults to false.\n  - `ttl` (string) - Can override the default behaviour of using the token exp\n    time, and specify a set time to live for the token in the cache.\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  oauth2_introspection:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n\n    config:\n      introspection_url: https://my-website.com/oauth2/introspection\n      scope_strategy: exact\n      required_scope:\n        - photo\n        - profile\n      target_audience:\n        - example_audience\n      trusted_issuers:\n        - https://my-website.com/\n      pre_authorization:\n        enabled: true\n        client_id: some_id\n        client_secret: some_secret\n        scope:\n          - introspect\n        token_url: https://my-website.com/oauth2/token\n      token_from:\n        header: Custom-Authorization-Header\n        # or\n        # query_parameter: auth-token\n        # or\n        # cookie: auth-token\n      introspection_request_headers:\n        x-forwarded-proto: https\n      retry:\n        max_delay: 300ms\n        give_up_after: 2s\n      cache:\n        enabled: true\n        ttl: 60s\n```\n\n```yaml\n# Some Access Rule: access-rule-1.yaml\nid: access-rule-1\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: oauth2_introspection\n    config:\n      introspection_url: https://my-website.com/oauth2/introspection\n      scope_strategy: exact\n      required_scope:\n        - photo\n        - profile\n      target_audience:\n        - example_audience\n      trusted_issuers:\n        - https://my-website.com/\n      pre_authorization:\n        enabled: true\n        client_id: some_id\n        client_secret: some_secret\n        scope:\n          - introspect\n        token_url: https://my-website.com/oauth2/token\n      token_from:\n        query_parameter: auth-token\n        # or\n        # header: Custom-Authorization-Header\n        # or\n        # cookie: auth-token\n      introspection_request_headers:\n        x-forwarded-proto: https\n        x-foo: bar\n      retry:\n        max_delay: 300ms\n        give_up_after: 2s\n```\n\n### Access Rule Example\n\n```shell\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"oauth2_introspection\",\n    \"config\": {\n      \"required_scope\": [\"scope-a\", \"scope-b\"],\n      \"target_audience\": [\"example_audience\"]\n    }\n  }],\n  \"authorizer\": { \"handler\": \"allow\" },\n  \"mutators\": [{ \"handler\": \"noop\" }]\n}]\n\n$ curl -X GET http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because no credentials have been provided.\n\n$ curl -X GET -H 'Authorization: Bearer invalid-token' http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because the provided credentials are invalid.\n\n$ curl -X GET -H 'Authorization: Bearer valid.access.token.from.peter' http://my-app/some-route\n\nHTTP/1.0 200 OK\nThe request has been allowed! The subject is: \"peter\"\n```\n\nIn the background, this handler will make a request to the OAuth 2.0 Token\nEndpoint (configuration value\n`authenticators.oauth2_introspection.introspection_url`) to check if the Bearer\nToken is valid:\n\n```\nPOST /oauth2/introspect HTTP/1.1\n\ntoken=valid.access.token.from.peter\n```\n\nIf pre-authorization is enabled, that request will include an Authorization\nHeader:\n\n```\nPOST /oauth2/introspect HTTP/1.1\nAuthorization: Bearer token-received-by-performing-pre-authorization\n\ntoken=valid.access.token.from.peter\n```\n\nThe Token is considered valid if the Introspection response is HTTP 200 OK and\nincludes `{\"active\":true}` in the response payload. The subject is extracted\nfrom the `username` field.\n\n## `jwt`\n\nThe `jwt` authenticator handles requests that have an Bearer Token in the\nAuthorization Header (`Authorization: bearer <token>`) or in a different header\nor query parameter specified in configuration. It assumes that the token is a\nJSON Web Token and tries to verify the signature of it.\n\n### Configuration\n\n- `jwks_urls` ([]string, required) - The URLs where ORY Oathkeeper can retrieve\n  JSON Web Keys from for validating the JSON Web Token. Usually something like\n  `https://my-keys.com/.well-known/jwks.json`. The response of that endpoint\n  must return a JSON Web Key Set (JWKS).\n- `jwks_max_wait` (duration, optional) - The maximum time for which the JWK\n  fetcher should wait for the JWK request to complete. After the interval\n  passes, the JWK fetcher will return expired or no JWK at all. If the initial\n  JWK request finishes successfully, it will still refresh the cached JWKs.\n  Defaults to \"1s\".\n- `jwks_ttl` (duration, optional) - The duration for which fetched JWKs should\n  be cached internally. Defaults to \"30s\".\n- `scope_strategy` (string, optional) - Sets the strategy to be used to\n  validate/match the scope. Supports \"hierarchic\", \"exact\", \"wildcard\", \"none\".\n  Defaults to \"none\".\n- If `trusted_issuers` ([]string) is set, the JWT must contain a value for claim\n  `iss` that matches _exactly_ (case-sensitive) one of the values of\n  `trusted_issuers`. If no values are configured, the issuer will be ignored.\n- If `target_audience` ([]string) is set, the JWT must contain all values\n  (exact, case-sensitive) in the claim `aud`. If no values are configured, the\n  audience will be ignored.\n- Value `allowed_algorithms` ([]string) sets what signing algorithms are\n  allowed. Defaults to `RS256`.\n- Value `required_scope` ([]string) validates the scope of the JWT. It will\n  checks for claims `scp`, `scope`, `scopes` in the JWT when validating the\n  scope as that claim is not standardized.\n- `token_from` (object, optional) - The location of the bearer token. If not\n  configured, the token will be received from a default location -\n  'Authorization' header. One and only one location (header, query, or cookie)\n  must be specified.\n  - `header` (string, required, one of) - The header (case insensitive) that\n    must contain a Bearer token for request authentication. It can't be set\n    along with `query_parameter` or `cookie`.\n  - `query_parameter` (string, required, one of) - The query parameter (case\n    sensitive) that must contain a Bearer token for request authentication. It\n    can't be set along with `header` or `cookie`.\n  - `cookie` (string, required, one of) - The cookie (case sensitive) that must\n    contain a Bearer token for request authentication. It can't be set along\n    with `header` or `query_parameter`\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  jwt:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n\n    config:\n      jwks_urls:\n        - https://my-website.com/.well-known/jwks.json\n        - https://my-other-website.com/.well-known/jwks.json\n        - file://path/to/local/jwks.json\n      scope_strategy: none\n      required_scope:\n        - scope-a\n        - scope-b\n      target_audience:\n        - https://my-service.com/api/users\n        - https://my-service.com/api/devices\n      trusted_issuers:\n        - https://my-issuer.com/\n      allowed_algorithms:\n        - RS256\n      token_from:\n        header: Custom-Authorization-Header\n        # or\n        # query_parameter: auth-token\n        # or\n        # cookie: auth-token\n```\n\n```yaml\n# Some Access Rule: access-rule-1.yaml\nid: access-rule-1\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: jwt\n    config:\n      jwks_urls:\n        - https://my-website.com/.well-known/jwks.json\n        - https://my-other-website.com/.well-known/jwks.json\n        - file://path/to/local/jwks.json\n      scope_strategy: none\n      required_scope:\n        - scope-a\n        - scope-b\n      target_audience:\n        - https://my-service.com/api/users\n        - https://my-service.com/api/devices\n      trusted_issuers:\n        - https://my-issuer.com/\n      allowed_algorithms:\n        - RS256\n      token_from:\n        query_parameter: auth-token\n        # or\n        # header: Custom-Authorization-Header\n        # or\n        # cookie: auth-token\n```\n\n#### Validation example\n\n```json\n{\n  \"handler\": \"jwt\",\n  \"config\": {\n    \"required_scope\": [\"scope-a\", \"scope-b\"],\n    \"target_audience\": [\n      \"https://my-service.com/api/users\",\n      \"https://my-service.com/api/devices\"\n    ],\n    \"trusted_issuers\": [\"https://my-issuer.com/\"],\n    \"allowed_algorithms\": [\"RS256\", \"RS256\"]\n  }\n}\n```\n\nThat exemplary Access Rule consider the following (decoded) JSON Web Token as\nvalid:\n\n```\n{\n  \"alg\": \"RS256\"\n}\n{\n  \"iss\": \"https://my-issuer.com/\",\n  \"aud\": [\"https://my-service.com/api/users\", \"https://my-service.com/api/devices\"],\n  \"scp\": [\"scope-a\", \"scope-b\"]\n}\n```\n\nAnd this token as invalid (audience is missing, issuer is not matching, scope is\nmissing, wrong algorithm):\n\n```\n{\n  \"alg\": \"HS256\"\n}\n{\n  \"iss\": \"https://not-my-issuer.com/\",\n  \"aud\": [\"https://my-service.com/api/users\"],\n  \"scp\": [\"not-scope-a\", \"scope-b\"]\n}\n```\n\n### Scope\n\nJSON Web Tokens can be scoped. However, that feature is not standardized and\nseveral claims that represent the token scope have been seen in the wild: `scp`,\n`scope`, `scopes`. Additionally, the claim value can be a string (`\"scope-a\"`),\na space-delimited string (`\"scope-a scope-b\"`) or a JSON string array\n(`[\"scope-a\", \"scope-b\"]`). Because of this ambiguity, all of those claims are\nchecked and parsed and will be available as `scp` (string array) in the\nauthentication session (`.Extra[\"scp\"]`).\n\n### Access Rule Example\n\n```shell\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"jwt\",\n    \"config\": {\n      \"required_scope\": [\"scope-a\", \"scope-b\"],\n      \"target_audience\": [\"aud-1\"],\n      \"trusted_issuers\": [\"iss-1\"]\n    }\n  }],\n  \"authorizer\": { \"handler\": \"allow\" },\n  \"mutators\": [{ \"handler\": \"noop\" }]\n}]\n\n$ curl -X GET http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because no credentials have been provided.\n\n$ curl -X GET -H 'Authorization: Bearer invalid-token' http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because the provided credentials are invalid.\n\n$ curl -X GET -H 'Authorization: Bearer valid.jwtfrom.peter' http://my-app/some-route\n\nHTTP/1.0 200 OK\nThe request has been allowed! The subject is: \"peter\"\n```\n\nIn the background, this handler will fetch all JSON Web Key Sets provided by\nconfiguration key `authenticators.jwt.jwks_urls` and use those keys to verify\nthe signature. If the signature can not be verified by any of those keys, the\nJWT is considered invalid.\n", "package configuration\n\nimport (\n\t\"encoding/json\"\n\t\"net/url\"\n\t\"time\"\n\n\t\"github.com/gobuffalo/packr/v2\"\n\t\"github.com/ory/fosite\"\n\t\"github.com/ory/x/tracing\"\n\n\t\"github.com/rs/cors\"\n)\n\nvar schemas = packr.New(\"schemas\", \"../../.schema\")\n\nconst (\n\tForbiddenStrategyErrorType = \"forbidden\"\n)\n\n// MatchingStrategy defines matching strategy such as Regexp or Glob.\n// Empty string defaults to \"regexp\".\ntype MatchingStrategy string\n\n// Possible matching strategies.\nconst (\n\tRegexp MatchingStrategy = \"regexp\"\n\tGlob   MatchingStrategy = \"glob\"\n)\n\ntype Provider interface {\n\tCORSEnabled(iface string) bool\n\tCORSOptions(iface string) cors.Options\n\n\tProviderAuthenticators\n\tProviderErrorHandlers\n\tProviderAuthorizers\n\tProviderMutators\n\n\tProxyReadTimeout() time.Duration\n\tProxyWriteTimeout() time.Duration\n\tProxyIdleTimeout() time.Duration\n\n\tAPIReadTimeout() time.Duration\n\tAPIWriteTimeout() time.Duration\n\tAPIIdleTimeout() time.Duration\n\n\tAccessRuleRepositories() []url.URL\n\tAccessRuleMatchingStrategy() MatchingStrategy\n\n\tProxyServeAddress() string\n\tAPIServeAddress() string\n\n\tPrometheusServeAddress() string\n\tPrometheusMetricsPath() string\n\tPrometheusCollapseRequestPaths() bool\n\n\tToScopeStrategy(value string, key string) fosite.ScopeStrategy\n\tParseURLs(sources []string) ([]url.URL, error)\n\tJSONWebKeyURLs() []string\n\n\tTracingServiceName() string\n\tTracingProvider() string\n\tTracingJaegerConfig() *tracing.JaegerConfig\n}\n\ntype ProviderErrorHandlers interface {\n\tErrorHandlerConfig(id string, override json.RawMessage, dest interface{}) error\n\tErrorHandlerIsEnabled(id string) bool\n\tErrorHandlerFallbackSpecificity() []string\n}\ntype ProviderAuthenticators interface {\n\tAuthenticatorConfig(id string, overrides json.RawMessage, destination interface{}) error\n\tAuthenticatorIsEnabled(id string) bool\n\tAuthenticatorJwtJwkMaxWait() time.Duration\n\tAuthenticatorJwtJwkTtl() time.Duration\n}\n\ntype ProviderAuthorizers interface {\n\tAuthorizerConfig(id string, overrides json.RawMessage, destination interface{}) error\n\tAuthorizerIsEnabled(id string) bool\n}\n\ntype ProviderMutators interface {\n\tMutatorConfig(id string, overrides json.RawMessage, destination interface{}) error\n\tMutatorIsEnabled(id string) bool\n}\n", "package authn\n\nimport (\n\t\"context\"\n\t\"crypto/md5\"\n\t\"encoding/json\"\n\t\"fmt\"\n\t\"net/http\"\n\t\"net/url\"\n\t\"strings\"\n\t\"sync\"\n\t\"time\"\n\n\t\"github.com/dgraph-io/ristretto\"\n\n\t\"github.com/opentracing/opentracing-go\"\n\t\"github.com/opentracing/opentracing-go/ext\"\n\n\t\"github.com/pkg/errors\"\n\t\"golang.org/x/oauth2/clientcredentials\"\n\n\t\"github.com/ory/go-convenience/stringslice\"\n\t\"github.com/ory/x/httpx\"\n\t\"github.com/ory/x/logrusx\"\n\n\t\"github.com/ory/oathkeeper/driver/configuration\"\n\t\"github.com/ory/oathkeeper/helper\"\n\t\"github.com/ory/oathkeeper/pipeline\"\n)\n\ntype AuthenticatorOAuth2IntrospectionConfiguration struct {\n\tScopes                      []string                                              `json:\"required_scope\"`\n\tAudience                    []string                                              `json:\"target_audience\"`\n\tIssuers                     []string                                              `json:\"trusted_issuers\"`\n\tPreAuth                     *AuthenticatorOAuth2IntrospectionPreAuthConfiguration `json:\"pre_authorization\"`\n\tScopeStrategy               string                                                `json:\"scope_strategy\"`\n\tIntrospectionURL            string                                                `json:\"introspection_url\"`\n\tBearerTokenLocation         *helper.BearerTokenLocation                           `json:\"token_from\"`\n\tIntrospectionRequestHeaders map[string]string                                     `json:\"introspection_request_headers\"`\n\tRetry                       *AuthenticatorOAuth2IntrospectionRetryConfiguration   `json:\"retry\"`\n\tCache                       cacheConfig                                           `json:\"cache\"`\n}\n\ntype AuthenticatorOAuth2IntrospectionPreAuthConfiguration struct {\n\tEnabled      bool     `json:\"enabled\"`\n\tClientID     string   `json:\"client_id\"`\n\tClientSecret string   `json:\"client_secret\"`\n\tAudience     string   `json:\"audience\"`\n\tScope        []string `json:\"scope\"`\n\tTokenURL     string   `json:\"token_url\"`\n}\n\ntype AuthenticatorOAuth2IntrospectionRetryConfiguration struct {\n\tTimeout string `json:\"max_delay\"`\n\tMaxWait string `json:\"give_up_after\"`\n}\n\ntype cacheConfig struct {\n\tEnabled bool   `json:\"enabled\"`\n\tTTL     string `json:\"ttl\"`\n\tMaxCost int    `json:\"max_cost\"`\n}\n\ntype AuthenticatorOAuth2Introspection struct {\n\tc configuration.Provider\n\n\tclientMap map[string]*http.Client\n\tmu        sync.RWMutex\n\n\ttokenCache *ristretto.Cache\n\tcacheTTL   *time.Duration\n\tlogger     *logrusx.Logger\n}\n\nfunc NewAuthenticatorOAuth2Introspection(c configuration.Provider, logger *logrusx.Logger) *AuthenticatorOAuth2Introspection {\n\treturn &AuthenticatorOAuth2Introspection{c: c, logger: logger, clientMap: make(map[string]*http.Client)}\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) GetID() string {\n\treturn \"oauth2_introspection\"\n}\n\ntype AuthenticatorOAuth2IntrospectionResult struct {\n\tActive    bool                   `json:\"active\"`\n\tExtra     map[string]interface{} `json:\"ext\"`\n\tSubject   string                 `json:\"sub,omitempty\"`\n\tUsername  string                 `json:\"username\"`\n\tAudience  []string               `json:\"aud\"`\n\tTokenType string                 `json:\"token_type\"`\n\tIssuer    string                 `json:\"iss\"`\n\tClientID  string                 `json:\"client_id,omitempty\"`\n\tScope     string                 `json:\"scope,omitempty\"`\n\tExpires   int64                  `json:\"exp\"`\n\tTokenUse  string                 `json:\"token_use\"`\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) tokenFromCache(config *AuthenticatorOAuth2IntrospectionConfiguration, token string) (*AuthenticatorOAuth2IntrospectionResult, bool) {\n\tif !config.Cache.Enabled {\n\t\treturn nil, false\n\t}\n\n\titem, found := a.tokenCache.Get(token)\n\tif !found {\n\t\treturn nil, false\n\t}\n\n\ti := item.(*AuthenticatorOAuth2IntrospectionResult)\n\texpires := time.Unix(i.Expires, 0)\n\tif expires.Before(time.Now()) {\n\t\ta.tokenCache.Del(token)\n\t\treturn nil, false\n\t}\n\n\treturn i, true\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) tokenToCache(config *AuthenticatorOAuth2IntrospectionConfiguration, i *AuthenticatorOAuth2IntrospectionResult, token string) {\n\tif !config.Cache.Enabled {\n\t\treturn\n\t}\n\n\tif a.cacheTTL != nil {\n\t\ta.tokenCache.SetWithTTL(token, i, 1, *a.cacheTTL)\n\t} else {\n\t\ta.tokenCache.Set(token, i, 1)\n\t}\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) traceRequest(ctx context.Context, req *http.Request) func() {\n\ttracer := opentracing.GlobalTracer()\n\tif tracer == nil {\n\t\treturn func() {}\n\t}\n\n\tparentSpan := opentracing.SpanFromContext(ctx)\n\topts := make([]opentracing.StartSpanOption, 0, 1)\n\tif parentSpan != nil {\n\t\topts = append(opts, opentracing.ChildOf(parentSpan.Context()))\n\t}\n\n\turlStr := req.URL.String()\n\tclientSpan := tracer.StartSpan(req.Method+\" \"+urlStr, opts...)\n\n\text.SpanKindRPCClient.Set(clientSpan)\n\text.HTTPUrl.Set(clientSpan, urlStr)\n\text.HTTPMethod.Set(clientSpan, req.Method)\n\n\ttracer.Inject(clientSpan.Context(), opentracing.HTTPHeaders, opentracing.HTTPHeadersCarrier(req.Header))\n\treturn clientSpan.Finish\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) Authenticate(r *http.Request, session *AuthenticationSession, config json.RawMessage, _ pipeline.Rule) error {\n\tcf, client, err := a.Config(config)\n\tif err != nil {\n\t\treturn err\n\t}\n\n\ttoken := helper.BearerTokenFromRequest(r, cf.BearerTokenLocation)\n\tif token == \"\" {\n\t\treturn errors.WithStack(ErrAuthenticatorNotResponsible)\n\t}\n\n\tss := a.c.ToScopeStrategy(cf.ScopeStrategy, \"authenticators.oauth2_introspection.scope_strategy\")\n\n\ti, ok := a.tokenFromCache(cf, token)\n\tif !ok {\n\t\tbody := url.Values{\"token\": {token}}\n\n\t\tif ss == nil {\n\t\t\tbody.Add(\"scope\", strings.Join(cf.Scopes, \" \"))\n\t\t}\n\n\t\tintrospectReq, err := http.NewRequest(http.MethodPost, cf.IntrospectionURL, strings.NewReader(body.Encode()))\n\t\tif err != nil {\n\t\t\treturn errors.WithStack(err)\n\t\t}\n\t\tfor key, value := range cf.IntrospectionRequestHeaders {\n\t\t\tintrospectReq.Header.Set(key, value)\n\t\t}\n\t\t// set/override the content-type header\n\t\tintrospectReq.Header.Set(\"Content-Type\", \"application/x-www-form-urlencoded\")\n\n\t\t// add tracing\n\t\tcloseSpan := a.traceRequest(r.Context(), introspectReq)\n\n\t\tresp, err := client.Do(introspectReq.WithContext(r.Context()))\n\n\t\t// close the span so it represents just the http request\n\t\tcloseSpan()\n\t\tif err != nil {\n\t\t\treturn errors.WithStack(err)\n\t\t}\n\t\tdefer resp.Body.Close()\n\n\t\tif resp.StatusCode != http.StatusOK {\n\t\t\treturn errors.Errorf(\"Introspection returned status code %d but expected %d\", resp.StatusCode, http.StatusOK)\n\t\t}\n\n\t\tif err := json.NewDecoder(resp.Body).Decode(&i); err != nil {\n\t\t\treturn errors.WithStack(err)\n\t\t}\n\n\t\tif len(i.TokenUse) > 0 && i.TokenUse != \"access_token\" {\n\t\t\treturn errors.WithStack(helper.ErrForbidden.WithReason(fmt.Sprintf(\"Use of introspected token is not an access token but \\\"%s\\\"\", i.TokenUse)))\n\t\t}\n\n\t\tif !i.Active {\n\t\t\treturn errors.WithStack(helper.ErrUnauthorized.WithReason(\"Access token i says token is not active\"))\n\t\t}\n\n\t\tfor _, audience := range cf.Audience {\n\t\t\tif !stringslice.Has(i.Audience, audience) {\n\t\t\t\treturn errors.WithStack(helper.ErrForbidden.WithReason(fmt.Sprintf(\"Token audience is not intended for target audience %s\", audience)))\n\t\t\t}\n\t\t}\n\n\t\tif len(cf.Issuers) > 0 {\n\t\t\tif !stringslice.Has(cf.Issuers, i.Issuer) {\n\t\t\t\treturn errors.WithStack(helper.ErrForbidden.WithReason(fmt.Sprintf(\"Token issuer does not match any trusted issuer\")))\n\t\t\t}\n\t\t}\n\n\t\tif ss != nil {\n\t\t\tfor _, scope := range cf.Scopes {\n\t\t\t\tif !ss(strings.Split(i.Scope, \" \"), scope) {\n\t\t\t\t\treturn errors.WithStack(helper.ErrForbidden.WithReason(fmt.Sprintf(\"Scope %s was not granted\", scope)))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif len(i.Extra) == 0 {\n\t\t\ti.Extra = map[string]interface{}{}\n\t\t}\n\n\t\ti.Extra[\"username\"] = i.Username\n\t\ti.Extra[\"client_id\"] = i.ClientID\n\t\ti.Extra[\"scope\"] = i.Scope\n\n\t\tif len(i.Audience) != 0 {\n\t\t\ti.Extra[\"aud\"] = i.Audience\n\t\t}\n\n\t\ta.tokenToCache(cf, i, token)\n\t}\n\n\tsession.Subject = i.Subject\n\tsession.Extra = i.Extra\n\n\treturn nil\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) Validate(config json.RawMessage) error {\n\tif !a.c.AuthenticatorIsEnabled(a.GetID()) {\n\t\treturn NewErrAuthenticatorNotEnabled(a)\n\t}\n\n\t_, _, err := a.Config(config)\n\treturn err\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) Config(config json.RawMessage) (*AuthenticatorOAuth2IntrospectionConfiguration, *http.Client, error) {\n\tvar c AuthenticatorOAuth2IntrospectionConfiguration\n\tif err := a.c.AuthenticatorConfig(a.GetID(), config, &c); err != nil {\n\t\treturn nil, nil, NewErrAuthenticatorMisconfigured(a, err)\n\t}\n\n\tclientKey := fmt.Sprintf(\"%x\", md5.Sum([]byte(config)))\n\ta.mu.RLock()\n\tclient, ok := a.clientMap[clientKey]\n\ta.mu.RUnlock()\n\n\tif !ok {\n\t\ta.logger.Debug(\"Initializing http client\")\n\t\tvar rt http.RoundTripper\n\t\tif c.PreAuth != nil && c.PreAuth.Enabled {\n\t\t\tvar ep url.Values\n\n\t\t\tif c.PreAuth.Audience != \"\" {\n\t\t\t\tep = url.Values{\"audience\": {c.PreAuth.Audience}}\n\t\t\t}\n\n\t\t\trt = (&clientcredentials.Config{\n\t\t\t\tClientID:       c.PreAuth.ClientID,\n\t\t\t\tClientSecret:   c.PreAuth.ClientSecret,\n\t\t\t\tScopes:         c.PreAuth.Scope,\n\t\t\t\tEndpointParams: ep,\n\t\t\t\tTokenURL:       c.PreAuth.TokenURL,\n\t\t\t}).Client(context.Background()).Transport\n\t\t}\n\n\t\tif c.Retry == nil {\n\t\t\tc.Retry = &AuthenticatorOAuth2IntrospectionRetryConfiguration{Timeout: \"500ms\", MaxWait: \"1s\"}\n\t\t} else {\n\t\t\tif c.Retry.Timeout == \"\" {\n\t\t\t\tc.Retry.Timeout = \"500ms\"\n\t\t\t}\n\t\t\tif c.Retry.MaxWait == \"\" {\n\t\t\t\tc.Retry.MaxWait = \"1s\"\n\t\t\t}\n\t\t}\n\t\tduration, err := time.ParseDuration(c.Retry.Timeout)\n\t\tif err != nil {\n\t\t\treturn nil, nil, err\n\t\t}\n\t\ttimeout := time.Millisecond * duration\n\n\t\tmaxWait, err := time.ParseDuration(c.Retry.MaxWait)\n\t\tif err != nil {\n\t\t\treturn nil, nil, err\n\t\t}\n\n\t\tclient = httpx.NewResilientClientLatencyToleranceConfigurable(rt, timeout, maxWait)\n\t\ta.mu.Lock()\n\t\ta.clientMap[clientKey] = client\n\t\ta.mu.Unlock()\n\t}\n\n\tif c.Cache.TTL != \"\" {\n\t\tcacheTTL, err := time.ParseDuration(c.Cache.TTL)\n\t\tif err != nil {\n\t\t\treturn nil, nil, err\n\t\t}\n\t\ta.cacheTTL = &cacheTTL\n\t}\n\n\tif a.tokenCache == nil {\n\t\ta.logger.Debugf(\"Creating cache with max cost: %d\", c.Cache.MaxCost)\n\t\tcache, _ := ristretto.NewCache(&ristretto.Config{\n\t\t\t// This will hold about 1000 unique mutation responses.\n\t\t\tNumCounters: 10000,\n\t\t\t// Allocate a max\n\t\t\tMaxCost: int64(c.Cache.MaxCost),\n\t\t\t// This is a best-practice value.\n\t\t\tBufferItems: 64,\n\t\t})\n\n\t\ta.tokenCache = cache\n\t}\n\n\treturn &c, client, nil\n}\n", "/*\n * Copyright \u00a9 2017-2018 Aeneas Rekkas <aeneas+oss@aeneas.io>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @author       Aeneas Rekkas <aeneas+oss@aeneas.io>\n * @copyright  2017-2018 Aeneas Rekkas <aeneas+oss@aeneas.io>\n * @license  \t   Apache-2.0\n */\n\npackage authn_test\n\nimport (\n\t\"encoding/json\"\n\t\"fmt\"\n\t\"net/http\"\n\t\"net/http/httptest\"\n\t\"testing\"\n\n\t\"github.com/julienschmidt/httprouter\"\n\t\"github.com/stretchr/testify/assert\"\n\t\"github.com/stretchr/testify/require\"\n\t\"github.com/tidwall/sjson\"\n\n\t\"github.com/ory/oathkeeper/driver/configuration\"\n\t\"github.com/ory/oathkeeper/internal\"\n\t. \"github.com/ory/oathkeeper/pipeline/authn\"\n\t\"github.com/ory/viper\"\n\t\"github.com/ory/x/logrusx\"\n)\n\nfunc TestAuthenticatorOAuth2Introspection(t *testing.T) {\n\tconf := internal.NewConfigurationWithDefaults()\n\treg := internal.NewRegistry(conf)\n\n\ta, err := reg.PipelineAuthenticator(\"oauth2_introspection\")\n\trequire.NoError(t, err)\n\tassert.Equal(t, \"oauth2_introspection\", a.GetID())\n\n\tt.Run(\"method=authenticate\", func(t *testing.T) {\n\n\t\tfor k, tc := range []struct {\n\t\t\td              string\n\t\t\tsetup          func(*testing.T, *httprouter.Router)\n\t\t\tr              *http.Request\n\t\t\tconfig         json.RawMessage\n\t\t\texpectErr      bool\n\t\t\texpectExactErr error\n\t\t\texpectSess     *AuthenticationSession\n\t\t}{\n\t\t\t{\n\t\t\t\td:         \"should fail because no payloads\",\n\t\t\t\tr:         &http.Request{Header: http.Header{}},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because wrong response\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"required_scope\": [\"scope-a\", \"scope-b\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"scope-a scope-b\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\tw.WriteHeader(http.StatusNotFound)\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:              \"should return error saying that authenticator is not responsible for validating the request, as the token was not provided in a proper location (default)\",\n\t\t\t\tr:              &http.Request{Header: http.Header{\"Foobar\": {\"bearer token\"}}},\n\t\t\t\texpectErr:      true,\n\t\t\t\texpectExactErr: ErrAuthenticatorNotResponsible,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:              \"should return error saying that authenticator is not responsible for validating the request, as the token was not provided in a proper location (custom header)\",\n\t\t\t\tr:              &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig:         []byte(`{\"token_from\": {\"header\": \"X-Custom-Header\"}}`),\n\t\t\t\texpectErr:      true,\n\t\t\t\texpectExactErr: ErrAuthenticatorNotResponsible,\n\t\t\t},\n\t\t\t{\n\t\t\t\td: \"should return error saying that authenticator is not responsible for validating the request, as the token was not provided in a proper location (custom query parameter)\",\n\t\t\t\tr: &http.Request{\n\t\t\t\t\tForm: map[string][]string{\n\t\t\t\t\t\t\"someOtherQueryParam\": {\"token\"},\n\t\t\t\t\t},\n\t\t\t\t\tHeader: http.Header{\"Authorization\": {\"bearer token\"}},\n\t\t\t\t},\n\t\t\t\tconfig:         []byte(`{\"token_from\": {\"query_parameter\": \"token\"}}`),\n\t\t\t\texpectErr:      true,\n\t\t\t\texpectExactErr: ErrAuthenticatorNotResponsible,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:              \"should return error saying that authenticator is not responsible for validating the request, as the token was not provided in a proper location (cookie)\",\n\t\t\t\tr:              &http.Request{Header: http.Header{\"Cookie\": {\"biscuit=bearer token\"}}},\n\t\t\t\tconfig:         []byte(`{\"token_from\": {\"cookie\": \"cake\"}}`),\n\t\t\t\texpectErr:      true,\n\t\t\t\texpectExactErr: ErrAuthenticatorNotResponsible,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:         \"should pass because the valid token was provided in a proper location (custom header)\",\n\t\t\t\tr:         &http.Request{Header: http.Header{\"X-Custom-Header\": {\"token\"}}},\n\t\t\t\tconfig:    []byte(`{\"token_from\": {\"header\": \"X-Custom-Header\"}}`),\n\t\t\t\texpectErr: false,\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: true,\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\td: \"should pass because the valid token was provided in a proper location (custom query parameter)\",\n\t\t\t\tr: &http.Request{\n\t\t\t\t\tForm: map[string][]string{\n\t\t\t\t\t\t\"token\": {\"token\"},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tconfig:    []byte(`{\"token_from\": {\"query_parameter\": \"token\"}}`),\n\t\t\t\texpectErr: false,\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: true,\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\td:         \"should pass because the valid token was provided in a proper location (cookie)\",\n\t\t\t\tr:         &http.Request{Header: http.Header{\"Cookie\": {\"biscuit=token\"}}},\n\t\t\t\tconfig:    []byte(`{\"token_from\": {\"cookie\": \"biscuit\"}}`),\n\t\t\t\texpectErr: false,\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: true,\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because not active\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{}`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   false,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because active and no issuer / audience expected\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{}`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because no scope strategy\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"required_scope\": [\"scope-a\", \"scope-b\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"scope-a scope-b\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-z\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because scope strategy is `none`\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"none\", \"required_scope\": [\"scope-a\", \"scope-b\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"scope-a scope-b\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-z\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because active and scope matching exactly\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"exact\", \"required_scope\": [\"scope-a\", \"scope-b\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-a scope-b\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because active but scope not matching exactly\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"exact\", \"required_scope\": [\"scope-a\", \"scope-b\", \"scope-c\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-a scope-b\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because active and scope matching hierarchically\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"hierarchic\", \"required_scope\": [\"scope-a\", \"scope-b.foo\", \"scope-c.bar\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-a scope-b scope-c.bar\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because active but scope not matching hierarchically\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"hierarchic\", \"required_scope\": [\"scope-a\", \"scope-b.foo\", \"scope-c.bar\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-a scope-b\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because active and scope matching wildcard\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"wildcard\", \"required_scope\": [\"scope-a\", \"scope-b.foo\", \"scope-c.bar\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-a scope-b.* scope-c.bar\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because active but scope not matching wildcard\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"wildcard\", \"required_scope\": [\"scope-a\", \"scope-b.foo\", \"scope-c.bar\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-a scope-b\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because active but issuer not matching\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"]}`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tScope:    \"scope-a\",\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"not-foo\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because active and issuer matching\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"]}`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tScope:    \"scope-a\",\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"foo\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because active but audience not matching\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tScope:    \"scope-a\",\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"not-audience\"},\n\t\t\t\t\t\t\tIssuer:   \"foo\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because token use not matching\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{}`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tTokenUse: \"any-token-use\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tScope:    \"scope-a\",\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"foo\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because audience and scopes match configuration\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"pre_authorization\":{\"client_id\":\"some_id\",\"client_secret\":\"some_secret\",\"enabled\":true,\"scope\":[\"foo\",\"bar\"]} }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/token\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"audience\"))\n\t\t\t\t\t\trequire.Equal(t, \"foo bar\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\tw.Header().Set(\"Content-type\", \"application/json; charset=us-ascii\")\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&map[string]interface{}{\"access_token\": \"foo-token\"}))\n\t\t\t\t\t})\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"Bearer foo-token\", r.Header.Get(\"authorization\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: true,\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because audience and scopes match configuration\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"pre_authorization\":{\"client_id\":\"some_id\",\"client_secret\":\"some_secret\",\"enabled\":true,\"scope\":[\"foo\",\"bar\"]} }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/token\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"audience\"))\n\t\t\t\t\t\trequire.Equal(t, \"foo bar\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\tw.Header().Set(\"Content-type\", \"application/json; charset=us-ascii\")\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&map[string]interface{}{\"access_token\": \"foo-token\"}))\n\t\t\t\t\t})\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"Bearer foo-token\", r.Header.Get(\"authorization\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: true,\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because audience and scopes should not be requested\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"pre_authorization\":{\"client_id\":\"some_id\",\"client_secret\":\"some_secret\",\"enabled\":true} }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/token\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"audience\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\tw.Header().Set(\"Content-type\", \"application/json; charset=us-ascii\")\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&map[string]interface{}{\"access_token\": \"foo-token\"}))\n\t\t\t\t\t})\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"Bearer foo-token\", r.Header.Get(\"authorization\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: true,\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t} {\n\t\t\tt.Run(fmt.Sprintf(\"case=%d/description=%s\", k, tc.d), func(t *testing.T) {\n\t\t\t\trouter := httprouter.New()\n\t\t\t\tif tc.setup != nil {\n\t\t\t\t\ttc.setup(t, router)\n\t\t\t\t}\n\t\t\t\tts := httptest.NewServer(router)\n\t\t\t\tdefer ts.Close()\n\n\t\t\t\ttc.config, _ = sjson.SetBytes(tc.config, \"introspection_url\", ts.URL+\"/oauth2/introspect\")\n\t\t\t\ttc.config, _ = sjson.SetBytes(tc.config, \"pre_authorization.token_url\", ts.URL+\"/oauth2/token\")\n\n\t\t\t\tsess := new(AuthenticationSession)\n\t\t\t\terr = a.Authenticate(tc.r, sess, tc.config, nil)\n\t\t\t\tif tc.expectErr {\n\t\t\t\t\trequire.Error(t, err)\n\t\t\t\t\tif tc.expectExactErr != nil {\n\t\t\t\t\t\tassert.EqualError(t, err, tc.expectExactErr.Error(), \"%+v\", err)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\trequire.NoError(t, err)\n\t\t\t\t}\n\n\t\t\t\tif tc.expectSess != nil {\n\t\t\t\t\tassert.Equal(t, tc.expectSess, sess)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t})\n\n\tt.Run(\"method=validate\", func(t *testing.T) {\n\t\tviper.Set(configuration.ViperKeyAuthenticatorOAuth2TokenIntrospectionIsEnabled, false)\n\t\trequire.Error(t, a.Validate(json.RawMessage(`{\"introspection_url\":\"\"}`)))\n\n\t\tviper.Reset()\n\t\tviper.Set(configuration.ViperKeyAuthenticatorOAuth2TokenIntrospectionIsEnabled, true)\n\t\trequire.Error(t, a.Validate(json.RawMessage(`{\"introspection_url\":\"\"}`)))\n\n\t\tviper.Reset()\n\t\tviper.Set(configuration.ViperKeyAuthenticatorOAuth2TokenIntrospectionIsEnabled, false)\n\t\trequire.Error(t, a.Validate(json.RawMessage(`{\"introspection_url\":\"/oauth2/token\"}`)))\n\n\t\tviper.Reset()\n\t\tviper.Set(configuration.ViperKeyAuthenticatorOAuth2TokenIntrospectionIsEnabled, true)\n\t\trequire.Error(t, a.Validate(json.RawMessage(`{\"introspection_url\":\"/oauth2/token\"}`)))\n\t})\n\n\tt.Run(\"method=config\", func(t *testing.T) {\n\t\tlogger := logrusx.New(\"test\", \"1\")\n\t\tauthenticator := NewAuthenticatorOAuth2Introspection(conf, logger)\n\n\t\tnoPreauthConfig := []byte(`{ \"introspection_url\":\"http://localhost/oauth2/token\" }`)\n\t\tpreAuthConfigOne := []byte(`{ \"introspection_url\":\"http://localhost/oauth2/token\",\"pre_authorization\":{\"token_url\":\"http://localhost/oauth2/token\",\"client_id\":\"some_id\",\"client_secret\":\"some_secret\",\"enabled\":true} }`)\n\t\tpreAuthConfigTwo := []byte(`{ \"introspection_url\":\"http://localhost/oauth2/token2\",\"pre_authorization\":{\"token_url\":\"http://localhost/oauth2/token2\",\"client_id\":\"some_id2\",\"client_secret\":\"some_secret2\",\"enabled\":true} }`)\n\n\t\t_, noPreauthClient, err := authenticator.Config(noPreauthConfig)\n\t\tif err != nil {\n\t\t\trequire.NoError(t, err)\n\t\t}\n\n\t\t_, preauthOneClient, err := authenticator.Config(preAuthConfigOne)\n\t\tif err != nil {\n\t\t\trequire.NoError(t, err)\n\t\t}\n\n\t\t_, preauthTwoClient, err := authenticator.Config(preAuthConfigTwo)\n\t\tif err != nil {\n\t\t\trequire.NoError(t, err)\n\t\t}\n\n\t\trequire.NotEqual(t, noPreauthClient, preauthOneClient)\n\t\trequire.NotEqual(t, noPreauthClient, preauthTwoClient)\n\t\trequire.NotEqual(t, preauthOneClient, preauthTwoClient)\n\n\t\t_, preauthOneClient2, err := authenticator.Config(preAuthConfigOne)\n\t\tif err != nil {\n\t\t\trequire.NoError(t, err)\n\t\t}\n\t\tif preauthOneClient2 != preauthOneClient {\n\t\t\tt.FailNow()\n\t\t}\n\n\t\t_, preauthTwoClient2, err := authenticator.Config(preAuthConfigTwo)\n\t\tif err != nil {\n\t\t\trequire.NoError(t, err)\n\t\t}\n\t\tif preauthTwoClient2 != preauthTwoClient {\n\t\t\tt.FailNow()\n\t\t}\n\n\t\t_, noPreauthClient2, err := authenticator.Config(noPreauthConfig)\n\t\tif err != nil {\n\t\t\trequire.NoError(t, err)\n\t\t}\n\t\tif noPreauthClient2 != noPreauthClient {\n\t\t\tt.FailNow()\n\t\t}\n\n\t\trequire.NotEqual(t, noPreauthClient, preauthOneClient)\n\t\trequire.NotEqual(t, noPreauthClient, preauthTwoClient)\n\t\trequire.NotEqual(t, preauthOneClient, preauthTwoClient)\n\n\t})\n}\n"], "fixing_code": ["version: 2.1\n\norbs:\n  sdk: ory/sdk@0.1.41\n  changelog: ory/changelog@0.1.10\n  goreleaser: ory/goreleaser@0.1.30\n  slack: circleci/slack@3.4.2\n  nancy: ory/nancy@0.0.18\n  docs: ory/docs@0.0.11\n  golangci: ory/golangci@0.0.18\n  go: circleci/go@1.5.0\n  prettier: ory/prettier@0.0.11\n\njobs:\n  test:\n    docker:\n      - image: cimg/go:1.16-node\n        environment:\n        - GO111MODULE=on\n    steps:\n      - checkout\n      - setup_remote_docker\n      - go/load-cache\n      - run: go mod tidy\n      - go/save-cache\n      - prettier/install\n      - prettier/check\n      - goreleaser/install\n      - goreleaser/check\n      - golangci/install\n      - golangci/lint\n      - run: go install github.com/ory/go-acc github.com/mattn/goveralls\n      - run: go-acc -o coverage.out ./... -- -failfast -timeout=20m\n      - run: |\n          bash <(curl -s https://codecov.io/bash)\n      - run: ./test/e2e/run.sh\n      - run: ./test/reload/run.sh\n\nworkflows:\n  \"test, build, and relase\":\n    jobs:\n      - test:\n          filters:\n            tags:\n              only: /.*/\n      - changelog/generate:\n          requires:\n            - test\n          filters:\n            tags:\n              only: /.*/\n            branches:\n              only: master\n      - sdk/generate:\n          appname: Ory_Oathkeeper\n          swagpath: spec/api.json\n          requires:\n            - test\n      - sdk/release:\n          swagpath: spec/api.json\n          requires:\n            - test\n            - goreleaser/release\n          filters:\n            tags:\n              only: /.*/\n            branches:\n              ignore: /.*/\n      - docs/build:\n          swag-spec-location: spec/api.json\n          requires:\n            - test\n          filters:\n            tags:\n              only: /.*/\n            branches:\n              only: master\n      -\n        goreleaser/release:\n          requires:\n            - test\n          filters:\n            branches:\n              ignore: /.*/\n            tags:\n              only: /.*/\n      -\n        goreleaser/render-version-schema:\n          requires:\n            - goreleaser/release\n          filters:\n            tags:\n              only: /.*/\n      -\n        goreleaser/newsletter-draft:\n          chimp-list: f605a41b53\n          chimp-segment: 6479485\n          requires:\n            - goreleaser/release\n          filters:\n            tags:\n              only: /.*/\n      -\n        slack/approval-notification:\n          message: Pending approval\n          channel: release-automation\n          requires:\n            - goreleaser/newsletter-draft\n          filters:\n            tags:\n              only: /.*/\n      -\n        newsletter-approval:\n          type: approval\n          requires:\n            - goreleaser/newsletter-draft\n          filters:\n            tags:\n              only: /.*/\n      -\n        goreleaser/newsletter-send:\n          chimp-list: f605a41b53\n          requires:\n            - newsletter-approval\n          filters:\n            tags:\n              only: /.*/\n", "SHELL=/bin/bash -o pipefail\n\nexport GO111MODULE := on\nexport PATH := .bin:${PATH}\nexport PWD := $(shell pwd)\n\nGO_DEPENDENCIES = github.com/ory/go-acc \\\n\t\t\t\t  golang.org/x/tools/cmd/goimports \\\n\t\t\t\t  github.com/go-swagger/go-swagger/cmd/swagger \\\n\t\t\t\t  github.com/ory/cli \\\n\t\t\t\t  github.com/gobuffalo/packr/v2/packr2 \\\n\t\t\t\t  github.com/go-bindata/go-bindata/go-bindata\n\ndefine make-go-dependency\n  # go install is responsible for not re-building when the code hasn't changed\n  .bin/$(notdir $1): go.sum go.mod\n\t\tGOBIN=$(PWD)/.bin/ go install $1\nendef\n$(foreach dep, $(GO_DEPENDENCIES), $(eval $(call make-go-dependency, $(dep))))\n\nnode_modules: package.json package-lock.json\n\t\tnpm i\n\n.bin/clidoc: go.mod\n\t\tgo build -o .bin/clidoc ./cmd/clidoc/.\n\n# Formats the code\n.PHONY: format\nformat: .bin/goimports node_modules docs/node_modules\n\t\tgoimports -w --local github.com/ory .\n\t\tnpm run format\n\t\tcd docs; npm run format\n\n.PHONY: gen\ngen:\n\t\tmocks sdk\n\n# Generates the SDKs\n.PHONY: sdk\nsdk: .bin/packr2 .bin/swagger .bin/ory\n\t\tswagger generate spec -m -o ./spec/api.json -x internal/httpclient\n\t\tory dev swagger sanitize ./spec/api.json\n\t\tswagger flatten --with-flatten=remove-unused -o ./spec/api.json ./spec/api.json\n\t\tswagger validate ./spec/api.json\n\t\trm -rf internal/httpclient\n\t\tmkdir -p internal/httpclient\n\t\tswagger generate client -f ./spec/api.json -t internal/httpclient -A Ory_Oathkeeper\n\t\tmake format\n\n.PHONY: install-stable\ninstall-stable: .bin/packr2\n\t\tOATHKEEPER_LATEST=$$(git describe --abbrev=0 --tags)\n\t\tgit checkout $$OATHKEEPER_LATEST\n\t\tpackr2\n\t\tGO111MODULE=on go install \\\n\t\t\t\t-ldflags \"-X github.com/ory/oathkeeper/x.Version=$$OATHKEEPER_LATEST -X github.com/ory/oathkeeper/x.Date=`TZ=UTC date -u '+%Y-%m-%dT%H:%M:%SZ'` -X github.com/ory/oathkeeper/x.Commit=`git rev-parse HEAD`\" \\\n\t\t\t\t.\n\t\tpackr2 clean\n\t\tgit checkout master\n\n.PHONY: install\ninstall: .bin/packr2\n\t\tpackr2 || (GO111MODULE=on go install github.com/gobuffalo/packr/v2/packr2 && packr2)\n\t\tGO111MODULE=on go install .\n\t\tpackr2 clean\n\n.PHONY: docker\ndocker: .bin/packr2\n\t\tpackr2 || (GO111MODULE=on go install github.com/gobuffalo/packr/v2/packr2 && packr2)\n\t\tCGO_ENABLED=0 GO111MODULE=on GOOS=linux GOARCH=amd64 go build\n\t\tpackr2 clean\n\t\tdocker build -t oryd/oathkeeper:dev .\n\t\tdocker build -t oryd/oathkeeper:dev-alpine -f Dockerfile-alpine .\n\t\trm oathkeeper\n\ndocs/cli: .bin/clidoc\n\t\tclidoc .\n", "---\nid: changelog\ntitle: Changelog\ncustom_edit_url: null\n---\n\n# [Unreleased](https://github.com/ory/oathkeeper/compare/v0.38.11-beta.1...2ccbb2f2607af39301a6d129c9552a5682cf96fc) (2021-06-18)\n\n### Bug Fixes\n\n- Cache introspection pre-auth\n  ([#723](https://github.com/ory/oathkeeper/issues/723))\n  ([3a9ae1a](https://github.com/ory/oathkeeper/commit/3a9ae1a43a6f157bb7998d2e4ee5b76851c68ec1)),\n  closes [#712](https://github.com/ory/oathkeeper/issues/712)\n- Ensure no vulnerable jwt-go deep dependency is being used\n  ([#745](https://github.com/ory/oathkeeper/issues/745))\n  ([2ccbb2f](https://github.com/ory/oathkeeper/commit/2ccbb2f2607af39301a6d129c9552a5682cf96fc)),\n  closes [#740](https://github.com/ory/oathkeeper/issues/740)\n\n### Features\n\n- Ability to Configure Remote Authorizers to set Headers in\n  AuthenticationSession ([#717](https://github.com/ory/oathkeeper/issues/717))\n  ([b3d117b](https://github.com/ory/oathkeeper/commit/b3d117b5d7de02cc1e3ab965328cf6c7995f8a6e)):\n  The remote authorizers may have useful context from user's permissions. So\n  with this changes, custom authorizers using remote and remote_json can return\n  some useful headers to be forward into the AuthenticationSession, meaning that\n  these headers will be passed to upstream services. For example, an user\n  containing scopes/branches inside an organization profile has some level of\n  data addressed to him. In this case, the upstream service need to know that,\n  and \"filter\" the data according to his \"branch_id\". The permission that is\n  given to the user (and the remote authorizers manages) has a record of the\n  \"branch_id\", for the following responses will be returned as status code 200\n  (if granted) and containing a header like X-Branch-Id. The upstream service\n  receives the X-Branch-Id and does your thing. The configuration requires to\n  configure a list of \"allowed headers\" returning from remote authorizer, that\n  will be accepted in the pipeline.\n- Add request header in match context\n  ([#719](https://github.com/ory/oathkeeper/issues/719))\n  ([22b0dbe](https://github.com/ory/oathkeeper/commit/22b0dbe6495b9f57206dc8fb2335e1c81906e27d)),\n  closes [#512](https://github.com/ory/oathkeeper/issues/512)\n- Improved JWT Authorizer JWKs fetching\n  ([#726](https://github.com/ory/oathkeeper/issues/726))\n  ([5613f65](https://github.com/ory/oathkeeper/commit/5613f650facbb136d6dd7ad7dcf3057f54cb30fc)),\n  closes [#203](https://github.com/ory/oathkeeper/issues/203)\n\n# [0.38.11-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.10-beta.2...v0.38.11-beta.1) (2021-05-13)\n\nThis release primarily addresses issues in the SDK build pipeline.\n\n### Bug Fixes\n\n- Init introspect http client once\n  ([#714](https://github.com/ory/oathkeeper/issues/714))\n  ([e203ad1](https://github.com/ory/oathkeeper/commit/e203ad14ac0e78909e7d42aa214c47a708a7c136)),\n  closes [#712](https://github.com/ory/oathkeeper/issues/712)\n- Log credentials verifier error details\n  ([#713](https://github.com/ory/oathkeeper/issues/713))\n  ([766b071](https://github.com/ory/oathkeeper/commit/766b0714dc8aaff010a99b182a6450f21d1795f5)),\n  closes [#467](https://github.com/ory/oathkeeper/issues/467)\n\n### Code Generation\n\n- Pin v0.38.11-beta.1 release commit\n  ([413393f](https://github.com/ory/oathkeeper/commit/413393f8750796ae2b8dd02fb3735d991807ddaa))\n\n### Reverts\n\n- Init introspect http client once\n  ([#714](https://github.com/ory/oathkeeper/issues/714))\n  ([#722](https://github.com/ory/oathkeeper/issues/722))\n  ([c58cbd9](https://github.com/ory/oathkeeper/commit/c58cbd9341e58adfdf49fd1e9c0241528917c86c)):\n  This reverts commit e203ad14ac0e78909e7d42aa214c47a708a7c136.\n\n# [0.38.10-beta.2](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1...v0.38.10-beta.2) (2021-05-05)\n\nThis release improves the health status manager, cache management, improves JSON\nWeb Token debuggability, and resolves other issues.\n\n### Bug Fixes\n\n- Register makefile tasks\n  ([2832a77](https://github.com/ory/oathkeeper/commit/2832a773782047f39680033860c2a8e9558883c0))\n- Resolve makefile issues\n  ([9df3b2a](https://github.com/ory/oathkeeper/commit/9df3b2a7bd4a207bc68e94fde28a720eb7a816b1))\n- Set cost 1 when caching tokens with configurable max cost\n  ([#680](https://github.com/ory/oathkeeper/issues/680))\n  ([8db0e9d](https://github.com/ory/oathkeeper/commit/8db0e9de60dbc5d1964440bd2ea14ec063b71cab))\n- Update shebangs to use bash from /usr/bin/env instead of /bin/ for better\n  portability ([#694](https://github.com/ory/oathkeeper/issues/694))\n  ([e522062](https://github.com/ory/oathkeeper/commit/e52206214e5e6b949b785752ee638a80b4775355))\n\n### Code Generation\n\n- Pin v0.38.10-beta.2 release commit\n  ([4b3403b](https://github.com/ory/oathkeeper/commit/4b3403baecaa1c452d95138e929fae0b3d71988d))\n\n### Code Refactoring\n\n- Move api.json\n  ([7dc37fd](https://github.com/ory/oathkeeper/commit/7dc37fd55edfa623bf30e32da1aef6c662779678))\n\n### Documentation\n\n- Add dotnet sdk ([#683](https://github.com/ory/oathkeeper/issues/683))\n  ([05ae925](https://github.com/ory/oathkeeper/commit/05ae9259414882015f30cc8d5c01e64afb65afbc)):\n\n  - docs: add dotnet sdk\n\n  - docs: add dotnet sdk versioned\n\n- Change forum to discussions readme\n  ([#690](https://github.com/ory/oathkeeper/issues/690))\n  ([d942c04](https://github.com/ory/oathkeeper/commit/d942c043aa2370b87e0dd822440ad39d809755f9))\n- Consistent authz headers\n  ([#699](https://github.com/ory/oathkeeper/issues/699))\n  ([19948e1](https://github.com/ory/oathkeeper/commit/19948e11933f3607a562bcff75e2061b8cb2a527)):\n  Removes the \"Authorizer\" prefix from a few of the authorizers to make them all\n  consistent.\n- Fix typo ([#696](https://github.com/ory/oathkeeper/issues/696))\n  ([eda83f1](https://github.com/ory/oathkeeper/commit/eda83f12a58de80ae78aa86e90806f277e8dc1f5))\n- Point to deny authz ([#701](https://github.com/ory/oathkeeper/issues/701))\n  ([4f01963](https://github.com/ory/oathkeeper/commit/4f01963b33ab0484da69c9f120c69ae9b49c6fdc)),\n  closes [#700](https://github.com/ory/oathkeeper/issues/700)\n\n### Features\n\n- Add health event manager and rules readiness probe\n  ([#674](https://github.com/ory/oathkeeper/issues/674))\n  ([01d8588](https://github.com/ory/oathkeeper/commit/01d8588d300976e06ef6358e23099259814e3bf7))\n- Add http method into session.MatchContext\n  ([#676](https://github.com/ory/oathkeeper/issues/676))\n  ([e15a7a5](https://github.com/ory/oathkeeper/commit/e15a7a57846d1c28f7b7ed7b824e6fc318f9344d)),\n  closes [#625](https://github.com/ory/oathkeeper/issues/625)\n- Add support for requesting an audience to the OAuth2 Introspection pr\u2026\n  ([#678](https://github.com/ory/oathkeeper/issues/678))\n  ([2405810](https://github.com/ory/oathkeeper/commit/2405810a839b9d3015655ced492097d0f130a06f)),\n  closes [#677](https://github.com/ory/oathkeeper/issues/677)\n- Additional JWT auth debug information\n  ([#681](https://github.com/ory/oathkeeper/issues/681))\n  ([d08ab50](https://github.com/ory/oathkeeper/commit/d08ab5034b80736701fb38ee1e55d12c63fd06b2)),\n  closes [#668](https://github.com/ory/oathkeeper/issues/668): JWT Claims added\n  to error details field.\n- Adds audience into Extra at oAuth2 introspection\n  ([#480](https://github.com/ory/oathkeeper/issues/480))\n  ([c9faecc](https://github.com/ory/oathkeeper/commit/c9faecc5d32800537f07e8e05f9c8872e609c3f9))\n- Global docs sidebar and added cloud pages\n  ([#705](https://github.com/ory/oathkeeper/issues/705))\n  ([f67241f](https://github.com/ory/oathkeeper/commit/f67241f2ab7063fa9ce8e8ea455de25b51414f30))\n\n# [0.38.9-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1.pre.3...v0.38.9-beta.1) (2021-03-17)\n\nThis release adds support for X-Forwarded-Proto, passes tracing contexts to\ndownstream requests, bumps Go to 1.16, and resolves issues preventing the log\nlevel from being set to trace level. Additionally included are improvements to\nthe overall tracing set up, a cookie authenticator bugfix, and a bugfix for glob\npattern matching.\n\n### Code Generation\n\n- Pin v0.38.9-beta.1 release commit\n  ([9ad41f0](https://github.com/ory/oathkeeper/commit/9ad41f02c4e6c140afa702743b5880f7fbab5df5))\n\n# [0.38.9-beta.1.pre.3](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1.pre.2...v0.38.9-beta.1.pre.3) (2021-03-16)\n\nautogen: pin v0.38.9-beta.1.pre.3 release commit\n\n### Bug Fixes\n\n- Make glob patterns match only one path segment.\n  ([#664](https://github.com/ory/oathkeeper/issues/664))\n  ([c711aac](https://github.com/ory/oathkeeper/commit/c711aacc5fc29664e3825e087557e7baf4e47aa8)),\n  closes [#630](https://github.com/ory/oathkeeper/issues/630): This makes `/`\n  also a separator as well as the presumably default value of `.`. This allows\n  using <\\*> for matching only one path segment.\n\n### Code Generation\n\n- Pin v0.38.9-beta.1.pre.3 release commit\n  ([7725554](https://github.com/ory/oathkeeper/commit/77255541cafc25fd7adc242aed149837f3fa3141))\n\n# [0.38.9-beta.1.pre.2](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1.pre.1...v0.38.9-beta.1.pre.2) (2021-03-15)\n\nautogen: pin v0.38.9-beta.1.pre.2 release commit\n\n### Code Generation\n\n- Pin v0.38.9-beta.1.pre.2 release commit\n  ([9695b77](https://github.com/ory/oathkeeper/commit/9695b772bfdfc398e1ccc29731e6e2736fd31cb2))\n\n# [0.38.9-beta.1.pre.1](https://github.com/ory/oathkeeper/compare/v0.38.8-beta.1...v0.38.9-beta.1.pre.1) (2021-03-15)\n\nautogen: pin v0.38.9-beta.1.pre.1 release commit\n\n### Bug Fixes\n\n- Resolve goreleaser issues and bump golang\n  ([7291df9](https://github.com/ory/oathkeeper/commit/7291df9f2745b4dfc178d81b65fc837f58b34206))\n\n### Code Generation\n\n- Pin v0.38.9-beta.1.pre.1 release commit\n  ([7afdc40](https://github.com/ory/oathkeeper/commit/7afdc40144dbd703f0a88531d6093525af54dcc8))\n\n### Unclassified\n\n- Add missing documentation for oauth2_introspection\n  ([#648](https://github.com/ory/oathkeeper/issues/648))\n  ([34cf38c](https://github.com/ory/oathkeeper/commit/34cf38c0fe431eb375fab4dbfa9cb9098961943d)),\n  closes [#549](https://github.com/ory/oathkeeper/issues/549)\n\n# [0.38.8-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.7-beta.1...v0.38.8-beta.1) (2021-02-25)\n\nImproves tracing set up and addresses a bug in the cookie authenticator.\n\n### Bug Fixes\n\n- Ignore cookie auth when no cookies set\n  ([c84d880](https://github.com/ory/oathkeeper/commit/c84d8808805f124bd31c6d8717f36539652fb4e8))\n\n### Code Generation\n\n- Pin v0.38.8-beta.1 release commit\n  ([2943e9a](https://github.com/ory/oathkeeper/commit/2943e9af887a78191a50426ed069604615ca58e2))\n\n### Unclassified\n\n- Formatting\n  ([546691b](https://github.com/ory/oathkeeper/commit/546691b61f78361eff33b1c2a3c3435fecaf499f))\n- Add tracing to outbound oauth introspection requests\n  ([daf44cb](https://github.com/ory/oathkeeper/commit/daf44cb22961817f6d9aaddd4ffce64bcee50d70))\n\n# [0.38.7-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.6-beta.1...v0.38.7-beta.1) (2021-02-22)\n\nThis release adds support for X-Forwarded-Proto, passes context for tracing to\ndownstream requests, bumps Go to 1.16 and resolves issues preventing the log\nlevel from being set to trace level.\n\n### Bug Fixes\n\n- Accept lower and uppercase in bearer token handler\n  ([6e46d4a](https://github.com/ory/oathkeeper/commit/6e46d4a3831ae86beb9b8a5850faf20cb5a759e2))\n- Add support for X-Forwarded-Proto header\n  ([#638](https://github.com/ory/oathkeeper/issues/638))\n  ([6eb83fd](https://github.com/ory/oathkeeper/commit/6eb83fd03ed46c388dfe4aaeeaa7c331c9d3685d)),\n  closes [#153](https://github.com/ory/oathkeeper/issues/153)\n- Pass context through to external requests\n  ([#627](https://github.com/ory/oathkeeper/issues/627))\n  ([ee25197](https://github.com/ory/oathkeeper/commit/ee251976537ade1e06399a3d5b2883620e3407eb)):\n  Enables proper tracing through Jaeger etc\n- Update goreleaser config\n  ([9689f45](https://github.com/ory/oathkeeper/commit/9689f45db1ec0a974a109a6b28314cddaba2b2de))\n- Update log schema\n  ([78e654d](https://github.com/ory/oathkeeper/commit/78e654df3b81d3ab3f8f946033ee5f1fe45afded))\n\n### Code Generation\n\n- Pin v0.38.7-beta.1 release commit\n  ([3b37928](https://github.com/ory/oathkeeper/commit/3b37928256363ceff294897fd05461d01829314c))\n\n### Features\n\n- Bump to go 1.16\n  ([e74d4a2](https://github.com/ory/oathkeeper/commit/e74d4a21efeac7aa7b6c7ae8e39daab17ef4f470))\n- Resolve go mod issues\n  ([6a3f5d3](https://github.com/ory/oathkeeper/commit/6a3f5d39c2326a49c694624ff2d35b8e3beccc2e))\n\n# [0.38.6-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.5-beta.1...v0.38.6-beta.1) (2021-01-27)\n\nWe are happy to announce Dart and Rust SDKs for Ory Oathkeeper! Additionally, a\nnew `bearer_token` authenticator has been added.\n\n### Code Generation\n\n- Pin v0.38.6-beta.1 release commit\n  ([a0c4d7f](https://github.com/ory/oathkeeper/commit/a0c4d7fc46151000b4ae9db5a958b94611c9cd58))\n\n### Documentation\n\n- Add Rust and Dart SDKs\n  ([1524fed](https://github.com/ory/oathkeeper/commit/1524fed70b4b5c8d3ca8d23e5ab46bc32f073d53)):\n  We now support for Rust and Dart SDKs!\n- Fix js npm links ([#634](https://github.com/ory/oathkeeper/issues/634))\n  ([c339fee](https://github.com/ory/oathkeeper/commit/c339fee771877dbc3e362d4656af53fe492cd58e))\n- Rename index documents\n  ([7de0ac3](https://github.com/ory/oathkeeper/commit/7de0ac34f572d6da56cac482eda364514500a866))\n\n### Features\n\n- Add bearer_token authenticator\n  ([#613](https://github.com/ory/oathkeeper/issues/613))\n  ([b623ae7](https://github.com/ory/oathkeeper/commit/b623ae7f68aac948f8e584fb9254e43a7272adf6)):\n  Adds a new authenticator to work with Kratos' new API token. Works the same as\n  the cookie_session authenticator but checks for a bearer token in the\n  Authorization header (unless overwritten by token_from)\n\n# [0.38.5-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.4-beta.1...v0.38.5-beta.1) (2020-12-10)\n\nThe ORY Community is proud to present you the next iteration of ORY Oathkeeper.\nIn this release, we focused on improving production stability and resolved\nseveral pesky bugs!\n\n### Bug Fixes\n\n- Check content-length header in lowercase\n  ([#530](https://github.com/ory/oathkeeper/issues/530))\n  ([a68fc8a](https://github.com/ory/oathkeeper/commit/a68fc8aa3892311960c4e818fa413caf189b9f8d)):\n  Issue #422 didn't fix the problem with the requests' Content-Length being\n  copied in the responses because the check was case-sensitive and unit tests\n  didn't cover it.\n- Never construct id token claim templates in parallel\n  ([#552](https://github.com/ory/oathkeeper/issues/552))\n  ([4f504d9](https://github.com/ory/oathkeeper/commit/4f504d9032a5be9ea6f82c723a655a0f9028c45a)),\n  closes [#551](https://github.com/ory/oathkeeper/issues/551)\n- Remove token_type validation from introspection handler\n  ([#556](https://github.com/ory/oathkeeper/issues/556))\n  ([b18d90a](https://github.com/ory/oathkeeper/commit/b18d90a94f2016b541164cf30654032628e4bc01)),\n  closes [#553](https://github.com/ory/oathkeeper/issues/553)\n- Support windows file paths\n  ([#557](https://github.com/ory/oathkeeper/issues/557))\n  ([6a05682](https://github.com/ory/oathkeeper/commit/6a05682dca21181db9e052300edf14fb40815bd3)),\n  closes [#514](https://github.com/ory/oathkeeper/issues/514)\n  [#332](https://github.com/ory/oathkeeper/issues/332)\n- Update dd-trace to fix build\n  ([2e571fa](https://github.com/ory/oathkeeper/commit/2e571fa98880b62a174dbcfcdde2bb1a339cc7a3))\n\n### Code Generation\n\n- Pin v0.38.5-beta.1 release commit\n  ([f4a04da](https://github.com/ory/oathkeeper/commit/f4a04dac17a77a0983bd8461a5db8438232aede4))\n\n### Documentation\n\n- Add contributing to sidebar\n  ([#595](https://github.com/ory/oathkeeper/issues/595))\n  ([a3c9584](https://github.com/ory/oathkeeper/commit/a3c9584e848b3e71b33073c89299bc60c6d0b3ee)):\n  The same change as in https://github.com/ory/hydra/pull/2209\n- Add newsletter to config\n  ([3c02e22](https://github.com/ory/oathkeeper/commit/3c02e22c398b5a573883b6c1cceb05aff15dcbea))\n- Correct sidebar.json ([#524](https://github.com/ory/oathkeeper/issues/524))\n  ([34e2077](https://github.com/ory/oathkeeper/commit/34e2077e872dcf7b23129623434a8ff0656da9fc))\n- Fix typo\n  ([393af92](https://github.com/ory/oathkeeper/commit/393af92e06f0d562b7e7a7f40c6ff1caeca9523b))\n- Fix typo in API access rules and improve layout\n  ([#599](https://github.com/ory/oathkeeper/issues/599))\n  ([6a30ce2](https://github.com/ory/oathkeeper/commit/6a30ce2e0df0101ba7449dbadcc68528337c01fa))\n- Fix typo in pipeline/error.md\n  ([#568](https://github.com/ory/oathkeeper/issues/568))\n  ([5d04c6b](https://github.com/ory/oathkeeper/commit/5d04c6b30ccc1bbb1407f1f82123aa2e82372c36))\n- Resolve list in main docs\n  ([1c2241c](https://github.com/ory/oathkeeper/commit/1c2241c1cbf615a07b483a3bb51fc3be9a50ae40)),\n  closes [#602](https://github.com/ory/oathkeeper/issues/602)\n- Resolve regression issues\n  ([82008b2](https://github.com/ory/oathkeeper/commit/82008b2a6a60583856c436b1adae2f6d306bf836))\n\n### Features\n\n- Forward original authorization header when using remote (json) authorizer\n  ([#554](https://github.com/ory/oathkeeper/issues/554))\n  ([f4f781e](https://github.com/ory/oathkeeper/commit/f4f781e5ec998e3656b6cf3c46c83c0faf6527ef)),\n  closes [#528](https://github.com/ory/oathkeeper/issues/528)\n- Use google/go-cloud to fetch rules and credentials from object storage\n  ([#562](https://github.com/ory/oathkeeper/issues/562))\n  ([666b951](https://github.com/ory/oathkeeper/commit/666b9514ec37acfe2bb90ce62d5ee845853528fd)),\n  closes [#518](https://github.com/ory/oathkeeper/issues/518)\n  [#518](https://github.com/ory/oathkeeper/issues/518)\n\n### Unclassified\n\n- docs. fix typo in list\n  ([335189f](https://github.com/ory/oathkeeper/commit/335189fba1d4c3db841c0cf9c51412adc7bdae01))\n\n# [0.38.4-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.3-beta.1...v0.38.4-beta.1) (2020-09-28)\n\nThis release stabilizes several features and resolves a couple of bugs.\n\n### Bug Fixes\n\n- Add tests in error_redirect_test.go\n  ([#522](https://github.com/ory/oathkeeper/issues/522))\n  ([24bdd9b](https://github.com/ory/oathkeeper/commit/24bdd9bdc56a46953a393d503ccfd2416cf11bcf)):\n  Increased tests coverage to cover for all the three valid scenarios - http\n  absolute, https absolute, relative. Explicitly checked Location path to ensure\n  that correct uri scheme was returned\n- Deprecated key in goreleaser config\n  ([2a4f901](https://github.com/ory/oathkeeper/commit/2a4f90127e66917dfaa72f8089efa5149631434d))\n- Ignore x/net false positives\n  ([bc8a32c](https://github.com/ory/oathkeeper/commit/bc8a32c9fcf8cbd9fc6b46b9c8d607745fb05a1e))\n- Misleading HTTP status code for oauth2_client_credentials authenticator\n  ([#504](https://github.com/ory/oathkeeper/issues/504))\n  ([0f65631](https://github.com/ory/oathkeeper/commit/0f65631af61e6a4098745f0149b0154d5dd7386c)),\n  closes [#496](https://github.com/ory/oathkeeper/issues/496)\n\n### Code Generation\n\n- Pin v0.38.4-beta.1 release commit\n  ([1c997b2](https://github.com/ory/oathkeeper/commit/1c997b281b27db9dcc010b299d2df9e0ef126c9d))\n\n### Documentation\n\n- Fix broken links\n  ([dd3bfbe](https://github.com/ory/oathkeeper/commit/dd3bfbe01ed450ff88a492c041affeaaf17027c9))\n- Fix OAuth2 Introspect Authn Config Documentation\n  ([#498](https://github.com/ory/oathkeeper/issues/498))\n  ([7612e20](https://github.com/ory/oathkeeper/commit/7612e207e96841aad3dcf5806f5af2cc42024075)):\n  Switch the definitions for the pre-authorisation fields 'scope' and 'token\n  endpoint' in the documentation.\n- Fix sidebar\n  ([28247fc](https://github.com/ory/oathkeeper/commit/28247fcf53ed5c47879ada62456ab39b29c5752a))\n- Guide for integrating with ORY Hydra\n  ([#497](https://github.com/ory/oathkeeper/issues/497))\n  ([e1b1751](https://github.com/ory/oathkeeper/commit/e1b175183b8ce9e7d2befae3269d2c5cd959e3e0))\n- Move development section\n  ([582a4d0](https://github.com/ory/oathkeeper/commit/582a4d0e880649cc64aa647b2c35e432b3f234e2))\n- Move to json sidebar\n  ([b67230d](https://github.com/ory/oathkeeper/commit/b67230d038ef0b101c6362ab3e1c34a6924cfc96))\n- Remove duplicate template\n  ([01550b4](https://github.com/ory/oathkeeper/commit/01550b4e28b45b4deb1c1a3f685a1962f7633833))\n- Update repository templates\n  ([2aaf766](https://github.com/ory/oathkeeper/commit/2aaf766444cb9ae9b794c9638553a32931276a39))\n- Update repository templates\n  ([#506](https://github.com/ory/oathkeeper/issues/506))\n  ([cb53d79](https://github.com/ory/oathkeeper/commit/cb53d79f4ee36266ed7d2c5a1de6147884cbb3cf))\n\n### Features\n\n- Add and automate version schema\n  ([7ab4012](https://github.com/ory/oathkeeper/commit/7ab40128352eb4e6639fe4828da7bdd3690e327e))\n- Add url_param config option to redirect error handler.\n  ([#520](https://github.com/ory/oathkeeper/issues/520))\n  ([b5bb3bc](https://github.com/ory/oathkeeper/commit/b5bb3bc6b88ea8b26d53f03477fce1b74f113b97)),\n  closes [#511](https://github.com/ory/oathkeeper/issues/511): This change\n  introduces a url_param config option for redirect error handler. If it\n  contains a url paramter name, the redirect url will have this parameter set,\n  containing the current url (from which Oathkeeper has redirected the user).\n  This can be useful in passing the return_to url to Kratos, so user can be\n  redirected to the page they initially wanted to access after a successfull\n  sign in.\n- Log invalid credentials on info level instead of error/warning\n  ([#517](https://github.com/ory/oathkeeper/issues/517))\n  ([a372b5f](https://github.com/ory/oathkeeper/commit/a372b5f833305ad85451cfb99b1db9e10ae8b8dc)),\n  closes [#505](https://github.com/ory/oathkeeper/issues/505)\n- Use uri-reference for errors redirect to allow relative urls\n  ([#516](https://github.com/ory/oathkeeper/issues/516))\n  ([0d39674](https://github.com/ory/oathkeeper/commit/0d3967409786c23de8e97f5c588cc4e9837a1550))\n\n### Unclassified\n\n- Run go format\n  ([2c25a2a](https://github.com/ory/oathkeeper/commit/2c25a2ad18bba7bf72e612b2005f1080e164d0d9))\n\n# [0.38.3-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.2-beta.1...v0.38.3-beta.1) (2020-07-29)\n\nThis release addresses several configuration bugs and resolves a potential\npanic.\n\n### Bug Fixes\n\n- Matcher.Match panic on nil \\*url.URL\n  ([#485](https://github.com/ory/oathkeeper/issues/485))\n  ([ab27dda](https://github.com/ory/oathkeeper/commit/ab27dda253d7c3f8bb9fae45c1f50e86e24e193c)),\n  closes [#484](https://github.com/ory/oathkeeper/issues/484)\n- Remove HTTP method restrictions\n  ([#472](https://github.com/ory/oathkeeper/issues/472))\n  ([bf8a888](https://github.com/ory/oathkeeper/commit/bf8a88884fa575c6ed397c92598c7436461028c6))\n- Resolve build issues and bump herodot\n  ([f15e38d](https://github.com/ory/oathkeeper/commit/f15e38dc533010babd21aeaa91d48dd4abbbdddc))\n- Use ory-dev instead of swagutil\n  ([#465](https://github.com/ory/oathkeeper/issues/465))\n  ([3fce382](https://github.com/ory/oathkeeper/commit/3fce382e83c95049b561a97365d0b4cc2f73bc54))\n\n### Code Generation\n\n- Pin v0.38.3-beta.1 release commit\n  ([1f754a9](https://github.com/ory/oathkeeper/commit/1f754a90d50c66545ce326ff1780894f4b2cbcfe))\n\n### Documentation\n\n- Delete old redirect homepage\n  ([a1a4610](https://github.com/ory/oathkeeper/commit/a1a4610194558f1024d2409c6f1975b72a0f856e))\n- Fix access rule example\n  ([739f179](https://github.com/ory/oathkeeper/commit/739f179ca2ca9d8ca42ca1995b3febac322bbeb2))\n- Fix api access rule example\n  ([#460](https://github.com/ory/oathkeeper/issues/460))\n  ([c75cd97](https://github.com/ory/oathkeeper/commit/c75cd978899b719edbd8ad80f7c7a48aded20252))\n- Update repository templates\n  ([edffc2e](https://github.com/ory/oathkeeper/commit/edffc2ee354ae4ec26e19e728b9f3117a0ec879c))\n- Update repository templates\n  ([7af8749](https://github.com/ory/oathkeeper/commit/7af8749e949c48f5750950def62290f2694e1b09))\n- Use central banner repo for README\n  ([04fe00c](https://github.com/ory/oathkeeper/commit/04fe00c0cd92c717ea2dc4149450f07206306f51))\n- Use mdx for api reference\n  ([368f073](https://github.com/ory/oathkeeper/commit/368f073a2d91b4fc9677436bcec63c6f339b0c93))\n\n### Features\n\n- Improve configurability of prometheus metrics\n  ([#450](https://github.com/ory/oathkeeper/issues/450))\n  ([ddcb226](https://github.com/ory/oathkeeper/commit/ddcb2262e6edc417c69bf2d713fa67f235481d32)),\n  closes [#446](https://github.com/ory/oathkeeper/issues/446)\n- Pass query parameters to the hydrators\n  ([#479](https://github.com/ory/oathkeeper/issues/479))\n  ([48603a1](https://github.com/ory/oathkeeper/commit/48603a1ac484b6571706021f2667f770604256b6))\n\n# [0.38.2-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.1-beta.1...v0.38.2-beta.1) (2020-05-25)\n\nThis patch makes timeouts configurable for oauth2_client_credentials and the\nreverse proxy and additionally allows prometheus to be configured.\n\n### Bug Fixes\n\n- Move prometheus validation stanza to local schema\n  ([#437](https://github.com/ory/oathkeeper/issues/437))\n  ([dcf3e14](https://github.com/ory/oathkeeper/commit/dcf3e14f2b4e09deb40260303061f27bcb55503c)),\n  closes [#438](https://github.com/ory/oathkeeper/issues/438)\n\n### Chores\n\n- Pin v0.38.2-beta.1 release commit\n  ([0de2682](https://github.com/ory/oathkeeper/commit/0de2682a1e0d556688c48db52ccc4e24f2bce336))\n\n### Documentation\n\n- Update github templates ([#434](https://github.com/ory/oathkeeper/issues/434))\n  ([37d34a3](https://github.com/ory/oathkeeper/commit/37d34a3a4f728a5ba39cef6118cd7e9f5e78bcd2))\n\n### Features\n\n- Add configurable timeouts to API server\n  ([#440](https://github.com/ory/oathkeeper/issues/440))\n  ([0dc6292](https://github.com/ory/oathkeeper/commit/0dc6292eb4784505be5100c6b20ade6235e277ac))\n- Timeout config for oauth2_client_credentials\n  ([#443](https://github.com/ory/oathkeeper/issues/443))\n  ([2462fa3](https://github.com/ory/oathkeeper/commit/2462fa3f97601009aff9b45c7c288d7a1afdec45)),\n  closes [#442](https://github.com/ory/oathkeeper/issues/442)\n\n# [0.38.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.0-beta.2...v0.38.1-beta.1) (2020-05-08)\n\nCaching in the hydrator mutator has been improved. Please use\n`cache.enable=true` if you intend using the hydrator.\n\n### Bug Fixes\n\n- Improve caching strategy and config for hydrator\n  ([#433](https://github.com/ory/oathkeeper/issues/433))\n  ([0047054](https://github.com/ory/oathkeeper/commit/00470541fb3d5d2672ef068c9e02c20deaac3d0d)):\n  To enable the hydrator cache you must now use the `cache.enabled` property.\n  Also, the cache key strategy has been improved.\n\n### Chores\n\n- Pin v0.38.1-beta.1 release commit\n  ([20f439d](https://github.com/ory/oathkeeper/commit/20f439d9df7eed3a7c8c163234b70c9260439613))\n\n# [0.38.0-beta.2](https://github.com/ory/oathkeeper/compare/v0.37.1-beta.1...v0.38.0-beta.2) (2020-05-07)\n\nThis release introduces Prometheus support, a new `remote` authorizer, caching,\nand several bugfixes!\n\nNo backwards incompatible changes have been introduced.\n\n### Bug Fixes\n\n- Add old schemas to resolve issues with old versions\n  ([b94c391](https://github.com/ory/oathkeeper/commit/b94c391446a694971fa54a53eb08f9d57ad5eb24)),\n  closes [#400](https://github.com/ory/oathkeeper/issues/400)\n- Don't copy the decision endpoint request's Content-Length\n  ([#422](https://github.com/ory/oathkeeper/issues/422))\n  ([0e99045](https://github.com/ory/oathkeeper/commit/0e990459104c7683764f4ed0e0a6b7162b57cd57)):\n  We currently copy all original request headers send to the decission endpoint\n  back. This can include the Content-Length header which describes the request\n  body or response. Including the original request Content-Length causes issues\n  for the decission endpoint client if the response body doesn't match the exact\n  size. This change makes sure the Content-Length doesn't get included in the\n  response body and adds a test to prevent future regressions.\n- Respect retry in token introspection\n  ([#410](https://github.com/ory/oathkeeper/issues/410))\n  ([88f7b69](https://github.com/ory/oathkeeper/commit/88f7b69c9ff252ddc3dbe960155883ec98115fd0))\n- Update install.sh script\n  ([#429](https://github.com/ory/oathkeeper/issues/429))\n  ([2d2eded](https://github.com/ory/oathkeeper/commit/2d2eded4075c2649e449d80dbb871b0da739a9ac))\n- Use pipe to pass body remote authorizer\n  ([#426](https://github.com/ory/oathkeeper/issues/426))\n  ([1a44087](https://github.com/ory/oathkeeper/commit/1a44087f424d8a01437769c6bce177eab36c195f)):\n  Resolves flaky tests.\n- Use semver-regex replacer func\n  ([a13cdf5](https://github.com/ory/oathkeeper/commit/a13cdf5d9a518e3095545e30d15c7c4b7859752b))\n\n### Chores\n\n- Pin v0.38.0-beta.2 release commit\n  ([73d36cd](https://github.com/ory/oathkeeper/commit/73d36cd367c1c93d4b6e93be180c982789924356))\n\n### Code Refactoring\n\n- Move docs to this repository\n  ([#396](https://github.com/ory/oathkeeper/issues/396))\n  ([11cb851](https://github.com/ory/oathkeeper/commit/11cb851a7cc42120c2d890fbeefcba55d6ff0e5a))\n\n### Documentation\n\n- Add `authentication_handler_no_match` to error example\n  ([ad182f4](https://github.com/ory/oathkeeper/commit/ad182f4af9723aff79c227431045444140c24f25))\n- Add missing import\n  ([b76ee9c](https://github.com/ory/oathkeeper/commit/b76ee9c8b6cb07adf7b9cdd421712dfdcb5f8340))\n- Regenerate and update changelog\n  ([7121f65](https://github.com/ory/oathkeeper/commit/7121f6514a0ba0d61831792972ed833117911551))\n- Regenerate and update changelog\n  ([6fd7d66](https://github.com/ory/oathkeeper/commit/6fd7d667e3c7738bc7a4ab82c490a6d7343e85bd))\n- Regenerate and update changelog\n  ([531200c](https://github.com/ory/oathkeeper/commit/531200cecae0bb8853ff9d5d557cb9176137545b))\n- Regenerate and update changelog\n  ([cf8ad0c](https://github.com/ory/oathkeeper/commit/cf8ad0c635042de54590030387220c1a16b9268c))\n- Update github templates ([#407](https://github.com/ory/oathkeeper/issues/407))\n  ([9979d77](https://github.com/ory/oathkeeper/commit/9979d77d7eda95a2438f3f5cc9b85d3d0aa2857c))\n- Update github templates ([#409](https://github.com/ory/oathkeeper/issues/409))\n  ([f92a029](https://github.com/ory/oathkeeper/commit/f92a0294d8d365fddbb67caa0367daa78f7b25e9))\n- Update github templates ([#412](https://github.com/ory/oathkeeper/issues/412))\n  ([884c113](https://github.com/ory/oathkeeper/commit/884c113f2bb8698a2d24399d048faf5018846e54))\n- Update github templates ([#413](https://github.com/ory/oathkeeper/issues/413))\n  ([6d7cba7](https://github.com/ory/oathkeeper/commit/6d7cba76e893d51db71687b2981837a333d71666))\n- Update github templates ([#413](https://github.com/ory/oathkeeper/issues/413))\n  ([d692fbf](https://github.com/ory/oathkeeper/commit/d692fbfb9bcba77c32a94b530e82fbd5e2b61856))\n- Update linux install guide\n  ([#414](https://github.com/ory/oathkeeper/issues/414))\n  ([a0e2cc0](https://github.com/ory/oathkeeper/commit/a0e2cc0ea324d908a8741df75e3259e30a302dbb))\n- Updates issue and pull request templates\n  ([#392](https://github.com/ory/oathkeeper/issues/392))\n  ([3724ebc](https://github.com/ory/oathkeeper/commit/3724ebc63a85050525d86d81a70eeadccac72c1a))\n- Updates issue and pull request templates\n  ([#393](https://github.com/ory/oathkeeper/issues/393))\n  ([a4ade5c](https://github.com/ory/oathkeeper/commit/a4ade5ca29a9ce24a3ffb6c9705c4723e67f9619))\n- Updates issue and pull request templates\n  ([#394](https://github.com/ory/oathkeeper/issues/394))\n  ([0ef037a](https://github.com/ory/oathkeeper/commit/0ef037abcec226039eb1a69dfc442df53d430ce1))\n- Updates issue and pull request templates\n  ([#395](https://github.com/ory/oathkeeper/issues/395))\n  ([ecab261](https://github.com/ory/oathkeeper/commit/ecab26119e32fa7c6947a7da17f2095292d02f2d))\n- Use correct headline for cc handler\n  ([#420](https://github.com/ory/oathkeeper/issues/420))\n  ([1401610](https://github.com/ory/oathkeeper/commit/1401610dffc7bef5823199059a4d9fc25cbde264))\n\n### Features\n\n- Add cache to hydrator ([#418](https://github.com/ory/oathkeeper/issues/418))\n  ([1ae6e7a](https://github.com/ory/oathkeeper/commit/1ae6e7a958d602533f54cada5d231bcf1bace093)),\n  closes [#417](https://github.com/ory/oathkeeper/issues/417): This patch\n  introduces new configuration parameters that allow the hydrator mutator to\n  cache requests.\n- Add new remote authorizer that uses request body and headers\n  ([#416](https://github.com/ory/oathkeeper/issues/416))\n  ([3a20637](https://github.com/ory/oathkeeper/commit/3a206376c0ec4d72d5d6ec66c2d738199a24e0c6)):\n  This pull request implements a new authorizer that sends the original request\n  body as body to the remote endpoint. This allows the remote endpoint to take\n  the body into account in its decision. The current remote_json authorizer does\n  not have the ability to send the request body of the request to authorize.\n  This means this cannot be taken into account while checking permissions.\n  Providing the request body as part of the JSON payload won't always work as\n  JSON cannot handle binary data.\n- Add prometheus docs ([#427](https://github.com/ory/oathkeeper/issues/427))\n  ([117ee6a](https://github.com/ory/oathkeeper/commit/117ee6a4c53035651f41a5bb4a9afe3c8b0c7438))\n- Add prometheus endpoint providing basic request metrics\n  ([#404](https://github.com/ory/oathkeeper/issues/404))\n  ([fdaed46](https://github.com/ory/oathkeeper/commit/fdaed46bcffbbdf593e94bc1784df88809e63fcd)):\n  This patch adds basic prometheus metrics. The prometheus metrics are exposed\n  at the default prometheus exporter port 9000 and is configurable with:\n  ```\n   serve:\n     prometheus:\n       port: 9000\n       host: localhost\n       metrics_path: /metrics\n  ```\n- Oauth2_introspect cache introspection results\n  ([#424](https://github.com/ory/oathkeeper/issues/424))\n  ([d4557ae](https://github.com/ory/oathkeeper/commit/d4557aeac69e84d36dfc2a1ab97c61188c93457f)),\n  closes [#293](https://github.com/ory/oathkeeper/issues/293)\n\n# [0.37.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.37.0-beta.1...v0.37.1-beta.1) (2020-04-03)\n\nchore: replace segment with ory fork (#391)\n\n### Chores\n\n- Replace segment with ory fork\n  ([#391](https://github.com/ory/oathkeeper/issues/391))\n  ([77d0b48](https://github.com/ory/oathkeeper/commit/77d0b48c8de5b4681f49f90e306e5b2324ac0d5d))\n\n### Documentation\n\n- Regenerate and update changelog\n  ([4e251e9](https://github.com/ory/oathkeeper/commit/4e251e904a4028a01687b0155108cc9c315e6941))\n\n# [0.37.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.36.0-beta.4...v0.37.0-beta.1) (2020-04-02)\n\ndocs: document v0.36 and v0.37\n\n## Breaking Changes\n\nThis feature allows to use the regex capture groups from the URL matcher to be\nused in several places, including the ID Token generator and elsewhere. To get\nthis working, existing `keto_engine_acp_ory` authorizers are no longer able to\nuse regex substition in the form of `my:action:$1` but instead must use the new\nformat which is `{{ printIndex .MatchContext.RegexpCaptureGroups 0}}` (notice\nthat the index changed by _-1_). A rule migrator exists which makes old rules\ncompatible with the new format, if a version string is given. More details on\nthe rule migration can be found here:\nhttps://github.com/ory/oathkeeper/pull/358/commits/fd16ceb230a1b14ebb01a147d2d70acce77f9fbd#diff-6177fb19f1b7d7bc392f5062b838df15\n\n### Bug Fixes\n\n- Add rule id to malformed configuration log error\n  ([#386](https://github.com/ory/oathkeeper/issues/386))\n  ([7688a8d](https://github.com/ory/oathkeeper/commit/7688a8dc4dc0ebd5bd173d77bc7cd8cacc8e50e2))\n- Disable test that fails with low cache hit rate\n  ([#372](https://github.com/ory/oathkeeper/issues/372))\n  ([5414dda](https://github.com/ory/oathkeeper/commit/5414ddadb0b210d3a90b69183449ba7d5723ba6c)),\n  closes [#371](https://github.com/ory/oathkeeper/issues/371)\n- Improve id_token performance with caching\n  ([#367](https://github.com/ory/oathkeeper/issues/367))\n  ([47e9fee](https://github.com/ory/oathkeeper/commit/47e9feefcea2d3508932ef3b323709b0bfa0d707)),\n  closes [#364](https://github.com/ory/oathkeeper/issues/364)\n- Load config file only in serve command\n  ([#365](https://github.com/ory/oathkeeper/issues/365))\n  ([68c8546](https://github.com/ory/oathkeeper/commit/68c85469b4523e5accf3de8e97b97b87416875d3))\n- Replace segment with our own sqa endpoint\n  ([#385](https://github.com/ory/oathkeeper/issues/385))\n  ([8f63eda](https://github.com/ory/oathkeeper/commit/8f63eda6370fb389307cd8b313437292965a2107))\n- SendOAuth2 introspection scope only when strategy is none\n  ([#379](https://github.com/ory/oathkeeper/issues/379))\n  ([5e0c8dc](https://github.com/ory/oathkeeper/commit/5e0c8dcdc4a64662f59372a488ec633bcdbc0d85)),\n  closes [#377](https://github.com/ory/oathkeeper/issues/377): This patch\n  removes the `scope` key from the OAuth2 Introspection request body when a\n  scope strategy other than `none` is set for the OAuth2 Introspection handler.\n  If the scope strategy is `none`, the `scope` key is included in the body.\n- Token expiration error in tests\n  ([#390](https://github.com/ory/oathkeeper/issues/390))\n  ([9c07a73](https://github.com/ory/oathkeeper/commit/9c07a7349cdf560c0ba29a637aaec93021757d27))\n- **docker:** Improve docker-compose example\n  ([#325](https://github.com/ory/oathkeeper/issues/325))\n  ([1247381](https://github.com/ory/oathkeeper/commit/12473815dad3fcbc57ea102dd982170960adb9f6)),\n  closes [#324](https://github.com/ory/oathkeeper/issues/324): Add a new file\n  'Dockerfile-dc' which will primarily be used by Docker Compose to build docker\n  images. Unlike the existing Dockerfile which depends on the Makefile to build\n  the binary, this Dockerfile copies the source code and builds the binary.\n  Oathkeeper has gone through a couple of changes since the initial draft of the\n  docker compose file, considering these changes and the newly introduced\n  Dockerfile in the previous commit, make these changes to the\n  docker-compose.yml:\n  1.  Bump the version of the compose file to 3.\n  2.  Remove the need for the postgres database app, since Oathkeeper no longer\n      needs a database.\n  3.  Remove the need for the migration app, since we no longer need to migrate\n      since there is no database and the option is deprecated.\n  4.  Use the newly defined Dockerfile 'Dockerfile-dc'.\n  5.  We now serve both API and PROXY from the same app, so we don't need two\n      instances of the app.\n  6.  Add sample config, rules and JWK files to `.docker_compose`, mount this\n      via a volume mount.\n\n### Documentation\n\n- Change link to Developer Install Guide\n  ([#369](https://github.com/ory/oathkeeper/issues/369))\n  ([f7fe46f](https://github.com/ory/oathkeeper/commit/f7fe46f9e183c53b5af71592c05cacf6b7584a2c)):\n  Changing the link to the Developer Documentation - it was pointing to Keto and\n  not to Oathkeeper.\n- Document v0.36 and v0.37\n  ([a176c73](https://github.com/ory/oathkeeper/commit/a176c7301baddbec572e3451830ee1f32dc55c75))\n- Fix examples for some JSON Schema config keys\n  ([#363](https://github.com/ory/oathkeeper/issues/363))\n  ([aeeb353](https://github.com/ory/oathkeeper/commit/aeeb35399588422ea25780406f1726cad5082315))\n- Regenerate and update changelog\n  ([9417e2c](https://github.com/ory/oathkeeper/commit/9417e2c213a5e9394d88638dc24e36dc2d9b3387))\n- Regenerate and update changelog\n  ([b817037](https://github.com/ory/oathkeeper/commit/b817037fea1131e20fbd829927af00f2a27b951d))\n- Regenerate and update changelog\n  ([33a5524](https://github.com/ory/oathkeeper/commit/33a55240803c6615e8550de371b60d040ae9f2fe))\n- Regenerate and update changelog\n  ([888b7a6](https://github.com/ory/oathkeeper/commit/888b7a6f2255a2e1457fc88712ad4d80b87000ba))\n- Regenerate and update changelog\n  ([36faa3b](https://github.com/ory/oathkeeper/commit/36faa3bbc4a0befd59a61c25664b184fa07baaeb))\n- Regenerate and update changelog\n  ([32b6059](https://github.com/ory/oathkeeper/commit/32b605921b88e163299e47847099ab985e3cbfcd))\n- Regenerate and update changelog\n  ([ba4de09](https://github.com/ory/oathkeeper/commit/ba4de09211f249b6a719308ec5b1ea803642aa20))\n- Regenerate and update changelog\n  ([a76f749](https://github.com/ory/oathkeeper/commit/a76f749dfe5c6ad988da6ba0b2ac4be5a22b0f9d))\n- Regenerate and update changelog\n  ([1789d00](https://github.com/ory/oathkeeper/commit/1789d003699c7140e29b1a1a967f6ccd3b1e6916))\n- Regenerate and update changelog\n  ([0dfc608](https://github.com/ory/oathkeeper/commit/0dfc6081c1da853477737a3ec41a9ac8e51faebc))\n- Regenerate and update changelog\n  ([b23c79a](https://github.com/ory/oathkeeper/commit/b23c79ac318bd394eaf3c48f8d3e6c157a234df9))\n- Regenerate and update changelog\n  ([2117171](https://github.com/ory/oathkeeper/commit/2117171a17b345fb62f9234d3a5443728dca5315))\n- Regenerate and update changelog\n  ([38c9e19](https://github.com/ory/oathkeeper/commit/38c9e19a4b5fe708c60fc694e6ca526d201872eb))\n- Regenerate and update changelog\n  ([e3eda75](https://github.com/ory/oathkeeper/commit/e3eda753c3696345f030c4311b66f29296e4183c))\n- Regenerate and update changelog\n  ([e7d70f7](https://github.com/ory/oathkeeper/commit/e7d70f71bd1d803f4b1e58149875becb8abfa9ad))\n- Regenerate and update changelog\n  ([874b7a9](https://github.com/ory/oathkeeper/commit/874b7a9cb03d28cc40a8f7e242158414075f0961))\n- Regenerate and update changelog\n  ([6b1d94b](https://github.com/ory/oathkeeper/commit/6b1d94b7c3eeae9c69154b85ecdcff7759fd98a9))\n- Regenerate and update changelog\n  ([cb38415](https://github.com/ory/oathkeeper/commit/cb384152a82830f14768d2e0ec30cc8f65c8583c))\n- Regenerate and update changelog\n  ([bec6af0](https://github.com/ory/oathkeeper/commit/bec6af0a9b78a880296fce59eb150ac21ee3d13b))\n- Update forum and chat links\n  ([d9eed10](https://github.com/ory/oathkeeper/commit/d9eed10abd43eb41362fcc0f36e47a6f88658835))\n- Update README.md ([#375](https://github.com/ory/oathkeeper/issues/375))\n  ([313d2fe](https://github.com/ory/oathkeeper/commit/313d2fe99f699c441e6f8e24abb096e239a17f83)),\n  closes [#374](https://github.com/ory/oathkeeper/issues/374): Fixed link to\n  Envoy configuration page and added link to AWS API Gateway.\n- Updates issue and pull request templates\n  ([#382](https://github.com/ory/oathkeeper/issues/382))\n  ([484c406](https://github.com/ory/oathkeeper/commit/484c406785c2633feee3cb9179a94147085cadd6))\n\n### Features\n\n- **authz:** Add remote_json authorizer\n  ([#389](https://github.com/ory/oathkeeper/issues/389))\n  ([45b9f8b](https://github.com/ory/oathkeeper/commit/45b9f8b981f0227a92ff5c4001061e86afc0701f)),\n  closes\n  [/github.com/ory/docs/commit/07a229701835d75e9c2e4b939badb2d5b96ae6aa#diff-c400219db6c7e4b6abab71839d9d294eR272](https://github.com//github.com/ory/docs/commit/07a229701835d75e9c2e4b939badb2d5b96ae6aa/issues/diff-c400219db6c7e4b6abab71839d9d294eR272)\n  [#201](https://github.com/ory/oathkeeper/issues/201)\n- Add MatchContext in the AuthenticationSession\n  ([#358](https://github.com/ory/oathkeeper/issues/358))\n  ([a421293](https://github.com/ory/oathkeeper/commit/a421293a05afaca2ac3695940bc72b4b9f7a1b68))\n- Enable OpenTracing ([#376](https://github.com/ory/oathkeeper/issues/376))\n  ([cb0f3f2](https://github.com/ory/oathkeeper/commit/cb0f3f23bbf32f04855eff497c36553fc30c7364))\n- **authn:** Make oauth2_intsropsection configurable timeout\n  ([#370](https://github.com/ory/oathkeeper/issues/370))\n  ([0a39511](https://github.com/ory/oathkeeper/commit/0a395115123e34be0dbb47608a96dad2dca5e60c))\n\n# [0.36.0-beta.4](https://github.com/ory/oathkeeper/compare/v0.36.0-beta.3...v0.36.0-beta.4) (2020-02-14)\n\ndocs: Regenerate and update changelog\n\n### Bug Fixes\n\n- **goreleaser:** Update brew section\n  ([46fb3da](https://github.com/ory/oathkeeper/commit/46fb3da4fc4ba78b109ba740fb6bb8309a8be0f5))\n\n### Documentation\n\n- Regenerate and update changelog\n  ([95a7c09](https://github.com/ory/oathkeeper/commit/95a7c091165b8a9acebedb197208fadc04585d4a))\n\n# [0.36.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.5-beta.2...v0.36.0-beta.1) (2020-02-05)\n\ndocs: Regenerate and update changelog\n\n### Documentation\n\n- Prepare ecosystem automation\n  ([81ea56b](https://github.com/ory/oathkeeper/commit/81ea56b46da543c02c5977b27ec3671b5bcc4abe))\n- Regenerate and update changelog\n  ([b71e48c](https://github.com/ory/oathkeeper/commit/b71e48c473bd428286473f8d8472f74187377eb2))\n- Regenerate and update changelog\n  ([4f22e42](https://github.com/ory/oathkeeper/commit/4f22e42e1577c92b8005887dfc1a2dc48a5d392d))\n- Regenerate and update changelog\n  ([23e053f](https://github.com/ory/oathkeeper/commit/23e053fb289e663ae00bdbf9201c2ad1a245226b))\n- Updates issue and pull request templates\n  ([#355](https://github.com/ory/oathkeeper/issues/355))\n  ([f9251ed](https://github.com/ory/oathkeeper/commit/f9251edeb0d3e482acf278040f95c3f49db5a100))\n\n### Features\n\n- **ci:** Add nancy vuln scanner\n  ([#354](https://github.com/ory/oathkeeper/issues/354))\n  ([de36e40](https://github.com/ory/oathkeeper/commit/de36e401134f09762d5815e3fe37d9cb16dd8d81))\n- **rule:** Add glob matching strategy\n  ([#334](https://github.com/ory/oathkeeper/issues/334))\n  ([5f983ab](https://github.com/ory/oathkeeper/commit/5f983ab118ce784a49a38e6024b99b8791907d4b)),\n  closes [#321](https://github.com/ory/oathkeeper/issues/321): This patch adds\n  the ability to choose a matching strategy and adds a glob-based matching\n  strategy to the available options (regex is still the default).\n\n### Unclassified\n\n- Update CHANGELOG [ci skip]\n  ([8278b9d](https://github.com/ory/oathkeeper/commit/8278b9db8a43c57d4169e232cb9f25ef9257dd8c))\n- Update CHANGELOG [ci skip]\n  ([17f78b7](https://github.com/ory/oathkeeper/commit/17f78b7cdf739f66de3de66199c00e82ff974826))\n- Update CHANGELOG [ci skip]\n  ([d6f6925](https://github.com/ory/oathkeeper/commit/d6f69257b86e249c70a2e808524d43da11315a59))\n- Update CHANGELOG [ci skip]\n  ([0e109ce](https://github.com/ory/oathkeeper/commit/0e109cee1222e8277157807d14f8b9ae7c1120d9))\n\n# [0.35.5-beta.2](https://github.com/ory/oathkeeper/compare/v0.35.5-beta.1...v0.35.5-beta.2) (2020-01-31)\n\nUpdate README.md\n\n### Unclassified\n\n- Update README.md\n  ([a40c613](https://github.com/ory/oathkeeper/commit/a40c613582add4742e245516f5b4fdef31be7cb0))\n- Update CHANGELOG [ci skip]\n  ([963d60d](https://github.com/ory/oathkeeper/commit/963d60d802a56b87390bfdb10632b7e5754398aa))\n\n# [0.35.5-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.4-beta.1...v0.35.5-beta.1) (2020-01-27)\n\nHash enabled check to further improve performance (#353)\n\n### Unclassified\n\n- Hash enabled check to further improve performance (#353)\n  ([19099cb](https://github.com/ory/oathkeeper/commit/19099cb86ea236ef503c1274393dd17fd11041ae)),\n  closes [#353](https://github.com/ory/oathkeeper/issues/353)\n- Update CHANGELOG [ci skip]\n  ([6afdeae](https://github.com/ory/oathkeeper/commit/6afdeae82260db0905f2e14a36ff23da59bdb29f))\n- Update CHANGELOG [ci skip]\n  ([3226ae6](https://github.com/ory/oathkeeper/commit/3226ae6d69837ae64d357e92236153c32c19e2cf))\n\n# [0.35.4-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.3-beta.1...v0.35.4-beta.1) (2020-01-26)\n\nUpdate release pipeline and tests (#351)\n\n### Unclassified\n\n- Update release pipeline and tests (#351)\n  ([c7d81a9](https://github.com/ory/oathkeeper/commit/c7d81a99243a2adb1387ada12550303c76ae9768)),\n  closes [#351](https://github.com/ory/oathkeeper/issues/351)\n\n# [0.35.3-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.1-beta.1...v0.35.3-beta.1) (2020-01-26)\n\nUpdate CHANGELOG [ci skip]\n\n### Documentation\n\n- Updates issue and pull request templates\n  ([#341](https://github.com/ory/oathkeeper/issues/341))\n  ([eca2652](https://github.com/ory/oathkeeper/commit/eca26527f64cb80b8df2df96910a33f993d9af37))\n\n### Unclassified\n\n- Update CHANGELOG [ci skip]\n  ([518b765](https://github.com/ory/oathkeeper/commit/518b76578519786921ef0d209f3f83dcfd6f217b))\n- Update SDK\n  ([5e619a0](https://github.com/ory/oathkeeper/commit/5e619a03687cbfe71b559d8945062a3fa4a5e4f3))\n- Cache pipeline config and improve request latency\n  ([#348](https://github.com/ory/oathkeeper/issues/348))\n  ([95673ed](https://github.com/ory/oathkeeper/commit/95673eddf02968250359067a3fe887adb46c2be6)),\n  closes [#346](https://github.com/ory/oathkeeper/issues/346)\n- Update CHANGELOG [ci skip]\n  ([495adcf](https://github.com/ory/oathkeeper/commit/495adcf2af7c2f161c9845cb358ef33f9afb42f3))\n- Use integer instead of number in config JSON schema\n  ([280b42f](https://github.com/ory/oathkeeper/commit/280b42fdedc0305b40398a2a213848d64d52e6c0))\n- Update CHANGELOG [ci skip]\n  ([b72965f](https://github.com/ory/oathkeeper/commit/b72965fce04941733f45277777349cfad6f41062))\n- Update SDK\n  ([aedabd9](https://github.com/ory/oathkeeper/commit/aedabd9834bb3a316b211f82cc4d9d9f90ab3bd6))\n- Set min/max for port range in config JSON Schema (#345)\n  ([d7d696f](https://github.com/ory/oathkeeper/commit/d7d696f62e91cf9d0300a1af8e2fd70676164ec6)),\n  closes [#345](https://github.com/ory/oathkeeper/issues/345)\n- Update CHANGELOG [ci skip]\n  ([8e4d58c](https://github.com/ory/oathkeeper/commit/8e4d58ce809dd10e98a3ad3530cdd81b24a967f0))\n- Fix profiling env variable not being picked up (#343)\n  ([29b0cf1](https://github.com/ory/oathkeeper/commit/29b0cf14de575434ce94def5e6031b76e28042de)),\n  closes [#343](https://github.com/ory/oathkeeper/issues/343)\n- Update CHANGELOG [ci skip]\n  ([e7a5d89](https://github.com/ory/oathkeeper/commit/e7a5d8928d9ef4def4bf53063c24b27d07e08946))\n- Update CHANGELOG [ci skip]\n  ([abc00d4](https://github.com/ory/oathkeeper/commit/abc00d46ec26debe6983f11e3a013865c969e6e6))\n- Update SDK\n  ([a237c29](https://github.com/ory/oathkeeper/commit/a237c2975efc34fc63a2fdb302b1086d072d2146))\n- Update broken links in README\n  ([78e498c](https://github.com/ory/oathkeeper/commit/78e498c0eb24380671364d333447abd0f25de1e8))\n\n# [0.35.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.0-beta.1...v0.35.1-beta.1) (2020-01-14)\n\nUpdate CHANGELOG [ci skip]\n\n### Unclassified\n\n- Update CHANGELOG [ci skip]\n  ([63b0076](https://github.com/ory/oathkeeper/commit/63b0076a264537ffd22f6f787c508598306c8661))\n\n# [0.35.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.0-alpha.1...v0.35.0-beta.1) (2020-01-13)\n\nUpdate CHANGELOG [ci skip]\n\n### Documentation\n\n- Incorporates changes from version v0.34.0-beta.1 [ci skip]\n  ([a8a62b4](https://github.com/ory/oathkeeper/commit/a8a62b4b4ba2d6fe2cb319ccbff4ed8634086238))\n- Incorporates changes from version v0.34.0-beta.1-2-g7516eed [ci skip]\n  ([eb82132](https://github.com/ory/oathkeeper/commit/eb82132ac36413d9ef151a3d6958f3baa6324a7d))\n- Incorporates changes from version v0.34.0-beta.1-4-gee2b9e7 [ci skip]\n  ([d084c39](https://github.com/ory/oathkeeper/commit/d084c396d28a13f9fa845acb7190f21e705c9b71))\n- Incorporates changes from version v0.34.0-beta.1-6-g6723fb8 [ci skip]\n  ([ebe89ab](https://github.com/ory/oathkeeper/commit/ebe89ab65d035b0ff2e4ad9c70c59fe36a180635))\n\n### Unclassified\n\n- Update CHANGELOG [ci skip]\n  ([f0e8ecf](https://github.com/ory/oathkeeper/commit/f0e8ecfc416d342985436b61a20e3d52c642e280))\n- Update SDK\n  ([6a0a0f8](https://github.com/ory/oathkeeper/commit/6a0a0f81bcda1417f7530fe85cd01c2862956328))\n- Update upgrade guide (#337)\n  ([99e9877](https://github.com/ory/oathkeeper/commit/99e98770dd764005e1967daf739dd23974384d19)),\n  closes [#337](https://github.com/ory/oathkeeper/issues/337)\n- Update CHANGELOG [ci skip]\n  ([2e13a05](https://github.com/ory/oathkeeper/commit/2e13a057da6fc626e9e856548746174c3ef7c2e7))\n- Remove superfluous version from workflows\n  ([55037fa](https://github.com/ory/oathkeeper/commit/55037fa0341a35992285d53be398ccf239b2fb58))\n- Update CHANGELOG [ci skip]\n  ([dfbc231](https://github.com/ory/oathkeeper/commit/dfbc231b8e2370089b2605a76252333b488bbc37))\n- Update SDK\n  ([65222d5](https://github.com/ory/oathkeeper/commit/65222d55494b8b3a91e6c0cbe43a2d922f7c753b))\n- Move to new SDK pipeline (#333)\n  ([6940dc8](https://github.com/ory/oathkeeper/commit/6940dc8de74de9c8be9f872df7cf3bc4bc079aa9)),\n  closes [#333](https://github.com/ory/oathkeeper/issues/333)\n- authn/cookie_session: Add subject_from modifier (#336)\n  ([6723fb8](https://github.com/ory/oathkeeper/commit/6723fb834c386b72e9525d2dfd661e684bd915d3)),\n  closes [#336](https://github.com/ory/oathkeeper/issues/336): The subject_from\n  modifier is a GJSON path that points to the `subject` field. Useful if the\n  upstream API does not return a `{\"subject\": \"...\"}` format.\n- authn/cookie_session: Add extra_from modifier (#335)\n  ([ee2b9e7](https://github.com/ory/oathkeeper/commit/ee2b9e743f4f6c56563d791947ffb592cc13394e)),\n  closes [#335](https://github.com/ory/oathkeeper/issues/335): The extra_from\n  modifier is a GJSON path that points to the extra field. Useful if the\n  upstream API does not return a `{\"subject\": \"...\", \"extra\": \"...\"}` format.\n- pipeline/authn: Add tests for cookie sources in jwt and oauth2_intro (#330)\n  (#331)\n  ([7516eed](https://github.com/ory/oathkeeper/commit/7516eedc1ea97242a18225365898e0cbeafcffbf)),\n  closes [#330](https://github.com/ory/oathkeeper/issues/330)\n  [#331](https://github.com/ory/oathkeeper/issues/331)\n  [#330](https://github.com/ory/oathkeeper/issues/330): Also updates the schemas\n  to add missing cookie config element.\n\n# [0.34.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.33.1-beta.1...v0.34.0-beta.1) (2019-12-26)\n\nPrepare v0.34.0-beta.1+oryOS.14 release\n\n### Documentation\n\n- Incorporates changes from version v0.33.1-beta.1 [ci skip]\n  ([6681754](https://github.com/ory/oathkeeper/commit/66817540313ec989ceb359927dafe3c8252849c2))\n- Incorporates changes from version v0.33.1-beta.1-2-g4033321 [ci skip]\n  ([2764758](https://github.com/ory/oathkeeper/commit/2764758dfc2d86ed6ff2163fbf0f7e28383fa5da))\n- Incorporates changes from version v0.33.1-beta.1-4-g7e6f636 [ci skip]\n  ([66ae8c8](https://github.com/ory/oathkeeper/commit/66ae8c81ec4e631eb3e243eebafbfe4d7436eccf))\n\n### Unclassified\n\n- Prepare v0.34.0-beta.1+oryOS.14 release\n  ([96f77b2](https://github.com/ory/oathkeeper/commit/96f77b24d8adb160d5c2c3db2f2432e206b99c77))\n- pipe/err: Improve IP and MIME matching (#323)\n  ([7e6f636](https://github.com/ory/oathkeeper/commit/7e6f6369f4acc33211d78f2acb1036c610286c2c)),\n  closes [#323](https://github.com/ory/oathkeeper/issues/323): Previously, MIME\n  matching respected the request's wildcards which lead to multiple handlers\n  feeling responsible for a particular request. Now, wildcards coming from the\n  HTTP Request itself are interpreted literally. Additionally, ORY Oathkeeper\n  respected the X-Forwarded-For HTTP Header for matching remote IP addresses.\n  This behavior is now turned off by default because clients were able to fake\n  this header otherwise. It can explicitly be turned on by setting\n  `config.when.#.request.remote_ip.RespectForwardedForHeader: true`.\n- Add customizable error handlers (#322)\n  ([4033321](https://github.com/ory/oathkeeper/commit/4033321b13671de8d0d5a42846a4e19d6065db62)),\n  closes [#322](https://github.com/ory/oathkeeper/issues/322)\n  [#204](https://github.com/ory/oathkeeper/issues/204)\n  [#252](https://github.com/ory/oathkeeper/issues/252)\n  [#119](https://github.com/ory/oathkeeper/issues/119): This patch adds a new\n  feature called error handlers. It allows to define the error handling logic\n  globally and per rule. It is now possible, for example, to return a JSON\n  response for `Accept: application/json` requests and a HTTP Redirect response\n  for requests that are coming from a user. This also resolves several issues,\n  as noted below:\n\n# [0.33.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.33.0-beta.1...v0.33.1-beta.1) (2019-12-18)\n\ndocs: Incorporates changes from version v0.33.0-beta.1-12-g0dd3fe3 [ci skip]\n\n### Documentation\n\n- Incorporates changes from version v0.33.0-beta.1 [ci skip]\n  ([a178031](https://github.com/ory/oathkeeper/commit/a178031f000a405a7962046e0e8582c309ac8989))\n- Incorporates changes from version v0.33.0-beta.1-10-g3e7936a [ci skip]\n  ([083b7eb](https://github.com/ory/oathkeeper/commit/083b7eb35a7d26762bbf930b03969297ac931805))\n- Incorporates changes from version v0.33.0-beta.1-12-g0dd3fe3 [ci skip]\n  ([82c5253](https://github.com/ory/oathkeeper/commit/82c525324490f1d9e073ff8af60abdbfbb722c30))\n- Incorporates changes from version v0.33.0-beta.1-6-gf60f525 [ci skip]\n  ([9870722](https://github.com/ory/oathkeeper/commit/987072248ad8e5e0ae0179d684f3f9f5b8124fbc))\n- Incorporates changes from version v0.33.0-beta.1-8-g815951b [ci skip]\n  ([d77b225](https://github.com/ory/oathkeeper/commit/d77b225555356e4a2010eb6d707bf718c1620956))\n\n### Unclassified\n\n- Add health check commands\n  ([#319](https://github.com/ory/oathkeeper/issues/319))\n  ([0dd3fe3](https://github.com/ory/oathkeeper/commit/0dd3fe32a4c76b3b2c14a17108521eb51e5e4ff0))\n- Properly merge env vars into pipeline configs (#320)\n  ([3e7936a](https://github.com/ory/oathkeeper/commit/3e7936a41150f367003c81c208910fdb77f556d9)),\n  closes [#320](https://github.com/ory/oathkeeper/issues/320)\n  [#305](https://github.com/ory/oathkeeper/issues/305)\n  [#317](https://github.com/ory/oathkeeper/issues/317): Previously, some keys\n  did not respect the values set in the environment variables.\n- Add alpine-based Docker image (#318)\n  ([815951b](https://github.com/ory/oathkeeper/commit/815951bb039937acc7be3f8b1b2bb06fe9ecac90)),\n  closes [#318](https://github.com/ory/oathkeeper/issues/318)\n  [#312](https://github.com/ory/oathkeeper/issues/312)\n- Add more details to decision logging (#316)\n  ([f60f525](https://github.com/ory/oathkeeper/commit/f60f52538ff6e66ea98afc89c6c6557ab8c5f93f)),\n  closes [#316](https://github.com/ory/oathkeeper/issues/316)\n  [#244](https://github.com/ory/oathkeeper/issues/244)\n  [#242](https://github.com/ory/oathkeeper/issues/242): Adds details such as the\n  HTTP Method, User Agent, Subject, and other information to the logging output\n  of both the reverse proxy and the decision API.\n- Health endpoints now emit TRACE logs\n  ([#314](https://github.com/ory/oathkeeper/issues/314))\n  ([9036f8e](https://github.com/ory/oathkeeper/commit/9036f8eec3f264f7bcae46b44286367b8521802a)),\n  closes [#283](https://github.com/ory/oathkeeper/issues/283): Remove health\n  endpoints from the logs to make monitoring easier. Setting `log_level` to\n  `trace` will show these calls.\n- Improve session endpoint debugability\n  ([#315](https://github.com/ory/oathkeeper/issues/315))\n  ([2718639](https://github.com/ory/oathkeeper/commit/27186396ccff4ee3a7f8f0a4c703263fcc55afae)),\n  closes [#300](https://github.com/ory/oathkeeper/issues/300)\n- Resolve matcher cache ([#313](https://github.com/ory/oathkeeper/issues/313))\n  ([1519632](https://github.com/ory/oathkeeper/commit/15196326d2436c2d849d955bf5050766ae6dff0c)),\n  closes [#291](https://github.com/ory/oathkeeper/issues/291): A bug caused the\n  rule matcher to not cache the regular expression result.\n- Use bearer splitting when header is set to Authorization\n  ([#311](https://github.com/ory/oathkeeper/issues/311))\n  ([464fa31](https://github.com/ory/oathkeeper/commit/464fa319e84953835b71e16360bab3016b8bfc64)),\n  closes [#308](https://github.com/ory/oathkeeper/issues/308)\n\n# [0.33.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.32.1-beta.1...v0.33.0-beta.1) (2019-12-16)\n\npipeline/mutator: Refactor hydrator retry config (#287)\n\n### Documentation\n\n- Incorporates changes from version v0.32.1-beta.1 [ci skip]\n  ([98c9bf8](https://github.com/ory/oathkeeper/commit/98c9bf8c92e068bac2f0e9148fd9fc357aadd78f))\n- Incorporates changes from version v0.32.1-beta.1-5-gf028719 [ci skip]\n  ([9f9c00c](https://github.com/ory/oathkeeper/commit/9f9c00cba904da0cdee4d97f5e3cad48160d75a0))\n\n### Unclassified\n\n- pipeline/mutator: Refactor hydrator retry config (#287)\n  ([2a97e05](https://github.com/ory/oathkeeper/commit/2a97e051a98da588aa8125bc0c6681e2d39c48ef)),\n  closes [#287](https://github.com/ory/oathkeeper/issues/287)\n- Update README banner (#307)\n  ([f028719](https://github.com/ory/oathkeeper/commit/f028719f054e314045f9830c016bfbde5bf04110)),\n  closes [#307](https://github.com/ory/oathkeeper/issues/307)\n- Add cookie as an option for oauth2_introspection authenticator (#301)\n  ([e3fa55a](https://github.com/ory/oathkeeper/commit/e3fa55a77f020fcdb55a8b363b2196570f080d16)),\n  closes [#301](https://github.com/ory/oathkeeper/issues/301)\n- Add preserve_path option for cookie session to not override the path in the\n  request (#297)\n  ([7e86b78](https://github.com/ory/oathkeeper/commit/7e86b78355447cfbbfd83d04dcc2bf7c942dfc67)),\n  closes [#297](https://github.com/ory/oathkeeper/issues/297)\n- Allow specifying additional headers for the oauth introspection request (#302)\n  ([b1e5cea](https://github.com/ory/oathkeeper/commit/b1e5cea5245c07142b6b34f2660ed41e6239b79f)),\n  closes [#302](https://github.com/ory/oathkeeper/issues/302)\n\n# [0.32.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.32.0-beta.1...v0.32.1-beta.1) (2019-10-30)\n\ndocs: Incorporates changes from version v0.32.0-beta.1-13-g1910bbe [ci skip]\n\n### Documentation\n\n- Add notes for 0.32.0\n  ([40e3b89](https://github.com/ory/oathkeeper/commit/40e3b891b99a41bee4b7be1a2cf7463bfb64f8db))\n- Incorporates changes from version v0.32.0-beta.1 [ci skip]\n  ([f3a0e53](https://github.com/ory/oathkeeper/commit/f3a0e53762d31a1f7155ef75f08d7853aa6ec524))\n- Incorporates changes from version v0.32.0-beta.1-11-g7892d2f [ci skip]\n  ([c41ecd4](https://github.com/ory/oathkeeper/commit/c41ecd4cbb23abc6b4264596ddd7881bf3c81845))\n- Incorporates changes from version v0.32.0-beta.1-13-g1910bbe [ci skip]\n  ([d45e1a0](https://github.com/ory/oathkeeper/commit/d45e1a0e9507dc87f3681bc05b125ceb237b2713))\n- Incorporates changes from version v0.32.0-beta.1-3-g8cf6868 [ci skip]\n  ([2c8fbf7](https://github.com/ory/oathkeeper/commit/2c8fbf7a2f74455690bcca4426bfff430e3068f4))\n- Incorporates changes from version v0.32.0-beta.1-9-g08d42da [ci skip]\n  ([6ce3344](https://github.com/ory/oathkeeper/commit/6ce33442285c18b9a31103d32e095d9dad12228c))\n\n### Unclassified\n\n- pipeline/authz: Add Content-Type header in the call to Keto (#290)\n  ([1910bbe](https://github.com/ory/oathkeeper/commit/1910bbedc215c2b18c018cf9a5d5f86b6b3411c3)),\n  closes [#290](https://github.com/ory/oathkeeper/issues/290)\n- Revert incorrect license changes\n  ([7892d2f](https://github.com/ory/oathkeeper/commit/7892d2f4024525c5e3f20e6237b18d0fbe36200d))\n- Revert readme changes to last working version\n  ([08d42da](https://github.com/ory/oathkeeper/commit/08d42dac81a8d71f3b7ab926a8b09abe7b305b5e))\n- Remove obsolete section from README\n  ([aa8deef](https://github.com/ory/oathkeeper/commit/aa8deefc02848a4c90bf06365b7a37d71eb9c72f))\n- Fix broken readme headlines\n  ([2e8109a](https://github.com/ory/oathkeeper/commit/2e8109a4fa1b53e83e86897de6890c910d4b77ff))\n- Auto-kill test runner after 10 retries (#286)\n  ([eaad598](https://github.com/ory/oathkeeper/commit/eaad59866349bebdeaed72e068a9ce6752b25cef)),\n  closes [#286](https://github.com/ory/oathkeeper/issues/286)\n- Update ory/x/viperx dependency\n  ([#285](https://github.com/ory/oathkeeper/issues/285))\n  ([0ef3bce](https://github.com/ory/oathkeeper/commit/0ef3bce92a3c17a6cffc794f2b08859f0852ee5d)),\n  closes [#276](https://github.com/ory/oathkeeper/issues/276)\n  [#270](https://github.com/ory/oathkeeper/issues/270)\n  [#279](https://github.com/ory/oathkeeper/issues/279)\n  [#280](https://github.com/ory/oathkeeper/issues/280): This patch automatically\n  binds environment variables to configuration keys. This patch resolves several\n  issues:\n- Dereference config schema and resolve issues (#282)\n  ([8cf6868](https://github.com/ory/oathkeeper/commit/8cf6868b3e925e686769d43c912d5e52c6589a9b)),\n  closes [#282](https://github.com/ory/oathkeeper/issues/282)\n  [ory/docs#217](https://github.com/ory/docs/issues/217)\n  [#234](https://github.com/ory/oathkeeper/issues/234)\n  [#281](https://github.com/ory/oathkeeper/issues/281)\n\n# [0.32.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.31.0-beta.1...v0.32.0-beta.1) (2019-10-20)\n\ndocs: Incorporates changes from version v0.31.0-beta.1 [ci skip]\n\n### Documentation\n\n- Incorporates changes from version v0.31.0-beta.1 [ci skip]\n  ([dafc870](https://github.com/ory/oathkeeper/commit/dafc870943720f04f5ac06a139bf5e126a83afa8))\n\n# [0.31.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.19.0-beta.1...v0.31.0-beta.1) (2019-10-20)\n\ndocs: Incorporates changes from version v0.30.0-beta.1 [ci skip]\n\n### Documentation\n\n- Incorporates changes from version v0.19.1-beta.1-2-g41869a9 [ci skip]\n  ([a44846b](https://github.com/ory/oathkeeper/commit/a44846b1e6c8cbdb76162b3128c2aa4ff79d3375))\n- Incorporates changes from version v0.20.0-beta.1 [ci skip]\n  ([aaf801b](https://github.com/ory/oathkeeper/commit/aaf801bb1cebe9d4a6c5062b5a0e10c9737b091b))\n- Incorporates changes from version v0.30.0-beta.1 [ci skip]\n  ([ebd198a](https://github.com/ory/oathkeeper/commit/ebd198a908bcbc77f734e93a181209fec66e7736))\n\n### Unclassified\n\n- pipeline/authn: Add token_from config to introspection and jwt (#271)\n  ([fc85ac8](https://github.com/ory/oathkeeper/commit/fc85ac854c3fb4cdd96bbae650f7355400431eac)),\n  closes [#271](https://github.com/ory/oathkeeper/issues/271)\n  [#257](https://github.com/ory/oathkeeper/issues/257): Add additional optional\n  configuration to jwt and oauth2_introspection authenticators allowing to set\n  from where (which header or query parameter) the token should be received. The\n  configuration is a token_from field in per-rule-configuration, as described in\n  a linked issue.\n- Add migration capabilities\n  ([#268](https://github.com/ory/oathkeeper/issues/268))\n  ([bc74e72](https://github.com/ory/oathkeeper/commit/bc74e726712c77955d2013979770c2724af17f20)),\n  closes [#266](https://github.com/ory/oathkeeper/issues/266): Adds the ability\n  to modify rules with backwards compatibility.\n- Force auth style in oauth2 client credentials authn\n  ([#267](https://github.com/ory/oathkeeper/issues/267))\n  ([97d7890](https://github.com/ory/oathkeeper/commit/97d789097b47b50117421f8f4ebd32182de4195c)),\n  closes [#260](https://github.com/ory/oathkeeper/issues/260)\n- Update UPGRADE.md\n  ([4e4bd93](https://github.com/ory/oathkeeper/commit/4e4bd93695a14b453a895fd2c20eca416307dcee))\n- Update upgrade instructions\n  ([7483d1c](https://github.com/ory/oathkeeper/commit/7483d1cf9344058ddc12efabdb00f5b5b8b41f48))\n- Change error code from 403 to 401\n  ([#259](https://github.com/ory/oathkeeper/issues/259))\n  ([c17e564](https://github.com/ory/oathkeeper/commit/c17e564cc2427a0ab1f7d2eb2d2b7cb95e34f88b)),\n  closes [#256](https://github.com/ory/oathkeeper/issues/256)\n\n# [0.19.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.18.0-beta.1...v0.19.0-beta.1) (2019-09-23)\n\nFix id_token schema reference URL\n\n### Unclassified\n\n- Fix id_token schema reference URL\n  ([72a2333](https://github.com/ory/oathkeeper/commit/72a23333d67f01d2474603f6ba9e5b1e97605a95))\n- Resolve broken tests (#262)\n  ([bc67cc1](https://github.com/ory/oathkeeper/commit/bc67cc18b4e32331f86bc8b10f1947a812be6b7e)),\n  closes [#262](https://github.com/ory/oathkeeper/issues/262)\n- Homogenize configuration management (#258)\n  ([89709aa](https://github.com/ory/oathkeeper/commit/89709aabfe002fc5ae2e76016fc45a13d74f3d8b)),\n  closes [#258](https://github.com/ory/oathkeeper/issues/258)\n- Fix #250: Ignore query parameters to build payload for Keto engine (#251)\n  ([d0fc7f4](https://github.com/ory/oathkeeper/commit/d0fc7f4c6a9377ff3f2466d5860c12247202e646)),\n  closes [#250](https://github.com/ory/oathkeeper/issues/250)\n  [#251](https://github.com/ory/oathkeeper/issues/251)\n\n# [0.18.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.4-beta.1...v0.18.0-beta.1) (2019-08-22)\n\nmutator/id_token: Add claim templating (#246)\n\n### Documentation\n\n- Incorporates changes from version v0.17.4-beta.1\n  ([370eb37](https://github.com/ory/oathkeeper/commit/370eb3745630631e96ff6c0de61ab86b2832a3f5))\n- Incorporates changes from version v0.17.5-beta.1\n  ([f7beddc](https://github.com/ory/oathkeeper/commit/f7beddccfcc0bfb52805382278758e347cc1dc2c))\n- Updates issue and pull request templates\n  ([#237](https://github.com/ory/oathkeeper/issues/237))\n  ([6181ee5](https://github.com/ory/oathkeeper/commit/6181ee5c14fbcc1b3b844d9f301a5df90dcf6a8b))\n- Updates issue and pull request templates\n  ([#238](https://github.com/ory/oathkeeper/issues/238))\n  ([6f83cda](https://github.com/ory/oathkeeper/commit/6f83cda6ce855ed09ec3f553eaaf644e0d853634))\n- Updates issue and pull request templates\n  ([#239](https://github.com/ory/oathkeeper/issues/239))\n  ([2e0b3ef](https://github.com/ory/oathkeeper/commit/2e0b3ef28bf3b2e8c6225d5e407a3f9b1487ccea))\n- Updates issue and pull request templates\n  ([#245](https://github.com/ory/oathkeeper/issues/245))\n  ([f140837](https://github.com/ory/oathkeeper/commit/f140837a7181f3e2c0a209e6dd47a534be08c1f8))\n\n### Unclassified\n\n- mutator/id_token: Add claim templating (#246)\n  ([591f524](https://github.com/ory/oathkeeper/commit/591f5249f3d8ba314cf7e914926bfbd0300e7589)),\n  closes [#246](https://github.com/ory/oathkeeper/issues/246)\n- Add mutator for modifying authenticationSession with external API (#240)\n  ([b38b0f4](https://github.com/ory/oathkeeper/commit/b38b0f4d4cd5148ebe0858558f410b4f0c367be1)),\n  closes [#240](https://github.com/ory/oathkeeper/issues/240)\n- Support multiple mutators per access rule (#233)\n  ([d21179d](https://github.com/ory/oathkeeper/commit/d21179dd25543662075be402f6e24e1ee20d2754)),\n  closes [#233](https://github.com/ory/oathkeeper/issues/233)\n  [#233](https://github.com/ory/oathkeeper/issues/233)\n- Add adopters placeholder\n  ([#236](https://github.com/ory/oathkeeper/issues/236))\n  ([302c7b8](https://github.com/ory/oathkeeper/commit/302c7b8cec0479db2735440ef336c11ca92675ff))\n\n# [0.17.4-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.3-beta.1...v0.17.4-beta.1) (2019-08-09)\n\nAdd sprig template library (#235)\n\n### Documentation\n\n- Incorporates changes from version v0.17.3-beta.1\n  ([b271ff2](https://github.com/ory/oathkeeper/commit/b271ff21644f9e3fd0605cc50978d0c5e2e883e3))\n- Updates issue and pull request templates\n  ([#232](https://github.com/ory/oathkeeper/issues/232))\n  ([00c08ba](https://github.com/ory/oathkeeper/commit/00c08ba9c4d2ce6b910b151d79eaccbf6d9c0710))\n\n### Unclassified\n\n- Add sprig template library (#235)\n  ([c85c540](https://github.com/ory/oathkeeper/commit/c85c5400000f1c534b99db292273f71c427d368e)),\n  closes [#235](https://github.com/ory/oathkeeper/issues/235)\n\n# [0.17.3-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.2-beta.1...v0.17.3-beta.1) (2019-08-03)\n\nrule: Resolve k8s configmap reload issue (#231)\n\n### Documentation\n\n- Incorporates changes from version v0.17.2-beta.1\n  ([e652c3f](https://github.com/ory/oathkeeper/commit/e652c3fac276f73278ac8e3bf4a75b3789420da7))\n\n### Unclassified\n\n- Resolve k8s configmap reload issue\n  ([#231](https://github.com/ory/oathkeeper/issues/231))\n  ([c04547e](https://github.com/ory/oathkeeper/commit/c04547e7bda2396c997252dd7ca3e588897b7779))\n- Move back to scratch Docker image\n  ([3fa8a50](https://github.com/ory/oathkeeper/commit/3fa8a5078759869c3a3a0521f17b80f246fdd7f4))\n\n# [0.17.2-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.1-beta.1...v0.17.2-beta.1) (2019-08-02)\n\nrules: Support kubernetes configmap reloading (#230)\n\n### Documentation\n\n- Incorporates changes from version v0.17.1-beta.1\n  ([64d180f](https://github.com/ory/oathkeeper/commit/64d180fd7f41febd4f15a35bd8ee625adc854256))\n- Updates issue and pull request templates\n  ([#226](https://github.com/ory/oathkeeper/issues/226))\n  ([007d491](https://github.com/ory/oathkeeper/commit/007d491dfd204b4dcf175906319db667b10fff1e))\n\n### Unclassified\n\n- Support kubernetes configmap reloading\n  ([#230](https://github.com/ory/oathkeeper/issues/230))\n  ([92b769b](https://github.com/ory/oathkeeper/commit/92b769bfdf4d5fd7902e1b5ae1dc63d11de4e0f1))\n\n# [0.17.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.0-beta.1...v0.17.1-beta.1) (2019-07-23)\n\nrule: Fix panic on send on closed channel (#225)\n\nCloses #224\n\n### Documentation\n\n- Incorporates changes from version v0.17.0-beta.1\n  ([8f4a518](https://github.com/ory/oathkeeper/commit/8f4a51808f4614a666fdaa0043b73105a55af54d))\n\n### Unclassified\n\n- Fix panic on send on closed channel\n  ([#225](https://github.com/ory/oathkeeper/issues/225))\n  ([2112ab6](https://github.com/ory/oathkeeper/commit/2112ab6b325aef71963de9d448dbf15ce09bd5fe)),\n  closes [#224](https://github.com/ory/oathkeeper/issues/224)\n\n# [0.17.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.16.0-beta.5...v0.17.0-beta.1) (2019-07-18)\n\nci: Automate schema confiugration sync\n\n### Continuous Integration\n\n- Automate schema confiugration sync\n  ([94bcc4f](https://github.com/ory/oathkeeper/commit/94bcc4f611a3d0d5112fb44b7a20f2afc70bb760))\n\n### Documentation\n\n- Incorporates changes from version v0.16.0-beta.5\n  ([a8afc3b](https://github.com/ory/oathkeeper/commit/a8afc3b559905d8807519e3ed04fd39a654fa73d))\n- Update upgrade guide\n  ([a8ccb05](https://github.com/ory/oathkeeper/commit/a8ccb0541f9f0e8b707b418bb6698ed18bdadf0b))\n- Update upgrade guide\n  ([f727efe](https://github.com/ory/oathkeeper/commit/f727efe438bafbfb8f404ae1dd98b062d1ad804b))\n\n### Unclassified\n\n- Fix broken reload tests\n  ([d6059b7](https://github.com/ory/oathkeeper/commit/d6059b711aa921fd012ce71eb11e370f174596f6))\n- Remove useless function\n  ([3521a3d](https://github.com/ory/oathkeeper/commit/3521a3d9a606b92c7bf9c74828185934b2cba9c5))\n- Validate configuration with JSON Schema\n  ([997427d](https://github.com/ory/oathkeeper/commit/997427dc03c7efee476f145677b73a42bbc63c89))\n- Do not fatal when immutable value is changed\n  ([717d7f7](https://github.com/ory/oathkeeper/commit/717d7f748abe61014653f3c6519c4aef019d1969))\n- Watch configuration and access rule changes (#217)\n  ([a078e89](https://github.com/ory/oathkeeper/commit/a078e891e2fe97bdb6ce8a2264f629a179c9116e)),\n  closes [#217](https://github.com/ory/oathkeeper/issues/217): This patch allows\n  oathkeeper to re-load any changes made to the configuraiton file and/or the\n  access rules to be reloaded without a restart. Some configuration keys like\n  serve._, log._, profiling however require a restart.\n- Create FUNDING.yml\n  ([d7da8e2](https://github.com/ory/oathkeeper/commit/d7da8e296205e183140c18ba3cc6269334476a2b))\n- Add support for rules in YAML format (#213)\n  ([67face6](https://github.com/ory/oathkeeper/commit/67face611b9f19ed9b6606931c9b7a82df769154)),\n  closes [#213](https://github.com/ory/oathkeeper/issues/213): This commit adds\n  support for defining access rules in YAML format, in addition to existing JSON\n  format.\n\n# [0.16.0-beta.5](https://github.com/ory/oathkeeper/compare/v0.16.0-beta.4...v0.16.0-beta.5) (2019-06-28)\n\nauthenticator: Add cookie session authenticator (#211)\n\n### Documentation\n\n- Incorporates changes from version v0.16.0-beta.4\n  ([1e03ee2](https://github.com/ory/oathkeeper/commit/1e03ee24b466b01fe4f81e5a4fda8ab42f9a0615))\n\n### Unclassified\n\n- Add cookie session authenticator\n  ([#211](https://github.com/ory/oathkeeper/issues/211))\n  ([f8a66b7](https://github.com/ory/oathkeeper/commit/f8a66b77f99420fa4ac6693967af1906ae962489))\n- Add description into the name of subtest (#212)\n  ([230c332](https://github.com/ory/oathkeeper/commit/230c332f5972e2bbf5a81a31c4ceafdfbf541d75)),\n  closes [#212](https://github.com/ory/oathkeeper/issues/212)\n- Use non-root user in image\n  ([#209](https://github.com/ory/oathkeeper/issues/209))\n  ([2215126](https://github.com/ory/oathkeeper/commit/221512635125eb61943f6dfd93b69defa61d9ce3))\n- Remove binary license (#208)\n  ([3460d65](https://github.com/ory/oathkeeper/commit/3460d65249783ea1eb6558fbe75cec4c72105f5c)),\n  closes [#208](https://github.com/ory/oathkeeper/issues/208)\n- Update config.yaml (#204)\n  ([effe9c0](https://github.com/ory/oathkeeper/commit/effe9c025c3a25edf88bc3791ec27cb01e128a1a)),\n  closes [#204](https://github.com/ory/oathkeeper/issues/204): There's no DSN in\n  oathkeeper\n\n# [0.16.0-beta.4](https://github.com/ory/oathkeeper/compare/v0.16.0-beta.3...v0.16.0-beta.4) (2019-05-28)\n\nserver: Properly declare negroni middleware (#200)\n\nPreviously, negroni.With was mistakenly used to add middleware onto the stack.\nThe proper method however is negroni.Use.\n\nThis patch fixes the use of negroni.With and resolves issues around logging and\nthe decisions endpoint.\n\nCloses #199\n\n### Documentation\n\n- Incorporates changes from version v0.16.0-beta.3\n  ([d777ecf](https://github.com/ory/oathkeeper/commit/d777ecf59192d14a432a024d5a3451b47f6cff4e))\n- Updates issue and pull request templates\n  ([#196](https://github.com/ory/oathkeeper/issues/196))\n  ([74fa27b](https://github.com/ory/oathkeeper/commit/74fa27ba9b110d8b4bd8afe09d77c5c602187a5c))\n- Updates issue and pull request templates\n  ([#197](https://github.com/ory/oathkeeper/issues/197))\n  ([31d057c](https://github.com/ory/oathkeeper/commit/31d057cf37816fb20436f464f96ee2c5fd32d7e7))\n- Updates issue and pull request templates\n  ([#198](https://github.com/ory/oathkeeper/issues/198))\n  ([244810a](https://github.com/ory/oathkeeper/commit/244810aabfc2259e756963791855cde1006fe16f))\n\n### Unclassified\n\n- Properly declare negroni middleware\n  ([#200](https://github.com/ory/oathkeeper/issues/200))\n  ([9d3dc54](https://github.com/ory/oathkeeper/commit/9d3dc54e1350fa74fb126cc4761462e83d86548f)),\n  closes [#199](https://github.com/ory/oathkeeper/issues/199): Previously,\n  negroni.With was mistakenly used to add middleware onto the stack. The proper\n  method however is negroni.Use. This patch fixes the use of negroni.With and\n  resolves issues around logging and the decisions endpoint.\n\n# [0.16.0-beta.3](https://github.com/ory/oathkeeper/compare/v0.15.2...v0.16.0-beta.3) (2019-05-19)\n\nci: Use golang for docs task\n\n### Continuous Integration\n\n- Use golang for docs task\n  ([b120c72](https://github.com/ory/oathkeeper/commit/b120c7214d7f11441b0cec7a34517b4403226f5f))\n\n### Documentation\n\n- Incorporates changes from version v0.15.2\n  ([7ceabe9](https://github.com/ory/oathkeeper/commit/7ceabe98498e1dd9f8c3c452f5d0f9ab366a3c07))\n- Rename config.yml -> config.yaml\n  ([4faecbe](https://github.com/ory/oathkeeper/commit/4faecbea5683e18522697f5c2b1ccc76fbf4c762))\n- Updates issue and pull request templates\n  ([#189](https://github.com/ory/oathkeeper/issues/189))\n  ([367a48d](https://github.com/ory/oathkeeper/commit/367a48dba6693db44a17179dcf0f0e7c624be7a7))\n\n### Unclassified\n\n- Reduce deployment complexity and refactor internals (#185)\n  ([6b509ad](https://github.com/ory/oathkeeper/commit/6b509ad5e3ce109521de80540bd0c762b7ecd8d2)),\n  closes [#185](https://github.com/ory/oathkeeper/issues/185)\n  [#178](https://github.com/ory/oathkeeper/issues/178)\n  [#177](https://github.com/ory/oathkeeper/issues/177)\n  [#174](https://github.com/ory/oathkeeper/issues/174)\n  [#168](https://github.com/ory/oathkeeper/issues/168)\n  [#164](https://github.com/ory/oathkeeper/issues/164)\n  [#141](https://github.com/ory/oathkeeper/issues/141)\n  [#140](https://github.com/ory/oathkeeper/issues/140)\n  [#136](https://github.com/ory/oathkeeper/issues/136)\n  [#122](https://github.com/ory/oathkeeper/issues/122)\n- Resolve issue with install.sh script (#187)\n  ([d31d5be](https://github.com/ory/oathkeeper/commit/d31d5bea5085355960cc051c4bb6b6232a77ac75)),\n  closes [#187](https://github.com/ory/oathkeeper/issues/187)\n\n# [0.15.2](https://github.com/ory/oathkeeper/compare/v0.15.1...v0.15.2) (2019-05-04)\n\ncmd/client: Use json rawmessage for arbtrary payloads (#184)\n\nCloses #182\n\nSigned-off-by: Stanislav Zapolsky <stszap@gmail.com>\n\n### Documentation\n\n- Incorporates changes from version v0.15.1\n  ([5c34958](https://github.com/ory/oathkeeper/commit/5c34958ff00a56f9a5784bfb01b6b200fcbd91d1))\n\n### Unclassified\n\n- cmd/client: Use json rawmessage for arbtrary payloads (#184)\n  ([a55e4d1](https://github.com/ory/oathkeeper/commit/a55e4d1267dcb2975a5e4b4ab4248bdf7adc00b0)),\n  closes [#184](https://github.com/ory/oathkeeper/issues/184)\n  [#182](https://github.com/ory/oathkeeper/issues/182)\n\n# [0.15.1](https://github.com/ory/oathkeeper/compare/v0.15.0...v0.15.1) (2019-04-29)\n\nvendor: Add go.sum (#180)\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n### Unclassified\n\n- Add go.sum ([#180](https://github.com/ory/oathkeeper/issues/180))\n  ([fc261f0](https://github.com/ory/oathkeeper/commit/fc261f0a340b3bcca56519c2da3042e614f8b6a3))\n\n# [0.15.0](https://github.com/ory/oathkeeper/compare/v0.14.2+oryOS.10...v0.15.0) (2019-04-29)\n\ndocker: Remove full tag from build pipeline (#179)\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n### Documentation\n\n- Incorporates changes from version v0.0.0-testrelease.3\n  ([44649b6](https://github.com/ory/oathkeeper/commit/44649b6302057cb64c9585b862043fe4568d4432))\n- Incorporates changes from version v0.14.2+oryOS.10\n  ([2d9899a](https://github.com/ory/oathkeeper/commit/2d9899a38b927ff367931c024a10bfdc3230e9a3))\n- Update patrons\n  ([f423666](https://github.com/ory/oathkeeper/commit/f423666df6e067ed563a853c3187afb1859dc36c))\n- Update README building-from-source part with the gomodule way\n  ([#152](https://github.com/ory/oathkeeper/issues/152))\n  ([9d653f5](https://github.com/ory/oathkeeper/commit/9d653f5364cfabdd03a6a39b0883d70b9783fb01)),\n  closes [#149](https://github.com/ory/oathkeeper/issues/149)\n\n### Unclassified\n\n- Remove full tag from build pipeline\n  ([#179](https://github.com/ory/oathkeeper/issues/179))\n  ([e2edbf8](https://github.com/ory/oathkeeper/commit/e2edbf8628fd7592730dbb320760e514982e049d))\n- Remove sdk dependencies to keto/hydra\n  ([#173](https://github.com/ory/oathkeeper/issues/173))\n  ([b538e3c](https://github.com/ory/oathkeeper/commit/b538e3c8fdd52be1e61ed88502fce1de7737d4a9)):\n  This patch replaces code-generated SDKs with raw http.Client calls which\n  reduces dependencies and makes future changes to the keto/hydra SDK easier to\n  adopt to.\n- Update CHANGELOG.md\n  ([cbccbe2](https://github.com/ory/oathkeeper/commit/cbccbe2f4786f90208dfa93a8b8b47027ca11548))\n- Ensure rule matcher is locked before updating\n  ([#159](https://github.com/ory/oathkeeper/issues/159))\n  ([6fb7151](https://github.com/ory/oathkeeper/commit/6fb715161370382b384ab2e0cb7ec64ca425f16a)):\n  Lock CachedMatcher before rules are updated when HTTPMatcher refreshes to\n  avoid concurrent map iteration and map write errors.\n- Improve debugability of JWT authenticator\n  ([#156](https://github.com/ory/oathkeeper/issues/156))\n  ([8441bd5](https://github.com/ory/oathkeeper/commit/8441bd52dc567de04b8b4eb9b4655aaf45b90f03))\n- Move to go-swagger SDK code generation\n  ([#170](https://github.com/ory/oathkeeper/issues/170))\n  ([38c52a3](https://github.com/ory/oathkeeper/commit/38c52a3cc3a24b1d77d7f07d012be561d018b5ec)),\n  closes [#165](https://github.com/ory/oathkeeper/issues/165)\n- Remove vendored dependencies after sdk generation\n  ([7c33ca8](https://github.com/ory/oathkeeper/commit/7c33ca89781a225ab43b4d663b30c154a24a7e0a))\n- Set request headers for credential issuers\n  ([#169](https://github.com/ory/oathkeeper/issues/169))\n  ([4fc579c](https://github.com/ory/oathkeeper/commit/4fc579cd677b71f6083fd3edaad741a7979e629a)),\n  closes [#120](https://github.com/ory/oathkeeper/issues/120)\n  [#133](https://github.com/ory/oathkeeper/issues/133)\n- Update Dockerfile build instructions\n  ([ec40cc4](https://github.com/ory/oathkeeper/commit/ec40cc4cfa1716adff9cb4cd8c604aa6f4aa9e91))\n- Upgrade dependencies ([#163](https://github.com/ory/oathkeeper/issues/163))\n  ([f9fdefb](https://github.com/ory/oathkeeper/commit/f9fdefb5dfe9dbff38f0ae96f82e42fea24d1c93))\n- Use scp,scope,scopes in jwt authenticator\n  ([#162](https://github.com/ory/oathkeeper/issues/162))\n  ([eebc2f4](https://github.com/ory/oathkeeper/commit/eebc2f44e3e42b7af653f91d9345111e0a280401)),\n  closes [#138](https://github.com/ory/oathkeeper/issues/138): Previously, the\n  JWT authenticator only used the \"scope\" claim to retrieve scope values from a\n  JWT. Now, \"scp\", \"scope\", \"scopes\" are supported as string arrays and strings\n  separated by spaces.\n\n# [0.14.2+oryOS.10](https://github.com/ory/oathkeeper/compare/v0.14.1+oryOS.10...v0.14.2+oryOS.10) (2018-12-13)\n\nci: Fix docker push arguments in publish task\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n### Continuous Integration\n\n- Fix docker push arguments in publish task\n  ([62415a1](https://github.com/ory/oathkeeper/commit/62415a1c36f6a335f02adf272cb0e50eb1691f89))\n\n# [0.14.1+oryOS.10](https://github.com/ory/oathkeeper/compare/v0.14.0+oryOS.10...v0.14.1+oryOS.10) (2018-12-13)\n\nci: Fix docker release task\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n### Continuous Integration\n\n- Fix docker release task\n  ([893385b](https://github.com/ory/oathkeeper/commit/893385b10f26ffd9933f4d66c4187ca59d2f3f47))\n\n# [0.14.0+oryOS.10](https://github.com/ory/oathkeeper/compare/v0.11.12...v0.14.0+oryOS.10) (2018-12-13)\n\nci: Fix circle misconfiguration\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n### Continuous Integration\n\n- Fix circle misconfiguration\n  ([a00ce64](https://github.com/ory/oathkeeper/commit/a00ce64e0bf5890192808f0edb1879caaa811742))\n\n### Documentation\n\n- Adds gh templates & code of conduct\n  ([#78](https://github.com/ory/oathkeeper/issues/78))\n  ([02361aa](https://github.com/ory/oathkeeper/commit/02361aa7a3499c78b480ca43cf29636a17391215))\n- Adds link to examples repository\n  ([#79](https://github.com/ory/oathkeeper/issues/79))\n  ([bfe96e9](https://github.com/ory/oathkeeper/commit/bfe96e9a47b1c49be631f5286ed05d4377fba684))\n- Align changelog, upgrade with new versions\n  ([#143](https://github.com/ory/oathkeeper/issues/143))\n  ([751dfa3](https://github.com/ory/oathkeeper/commit/751dfa3abacb122f0b5599800025366dec7d9b5c))\n- Clarify beyondcorp\n  ([3647958](https://github.com/ory/oathkeeper/commit/3647958a415bd4c1abb106d0a765f2186e54ad60))\n- Clarify breaking change policy\n  ([6e6bb7e](https://github.com/ory/oathkeeper/commit/6e6bb7e42ad8e84eb4cf5b8dfd3b27845748cbc0))\n- Fix broken link ([#87](https://github.com/ory/oathkeeper/issues/87))\n  ([828b33e](https://github.com/ory/oathkeeper/commit/828b33e94d2fadb0b371d5ae326a6dac855047a6))\n- Fix proxy help command description\n  ([#142](https://github.com/ory/oathkeeper/issues/142))\n  ([c836cb0](https://github.com/ory/oathkeeper/commit/c836cb0e1785bc4da602b1c820a6d6a54e7043e0))\n- Fix typo in README. ([#118](https://github.com/ory/oathkeeper/issues/118))\n  ([3d33fcc](https://github.com/ory/oathkeeper/commit/3d33fcc85b248a7f0f9f7d1295459b5541927d81))\n- Grammatical fix in stability sentence\n  ([#86](https://github.com/ory/oathkeeper/issues/86))\n  ([ff0604d](https://github.com/ory/oathkeeper/commit/ff0604df82361b2f6dee6f2945a03b2b6b117056))\n- Improve some docs and update SDK\n  ([#135](https://github.com/ory/oathkeeper/issues/135))\n  ([9a6901d](https://github.com/ory/oathkeeper/commit/9a6901dc52b3ae9a1aabf692903b1d4922869308))\n- Incorporates changes from version v0.11.12-1-gace7f34\n  ([3a6450c](https://github.com/ory/oathkeeper/commit/3a6450c89b335465cf5bd3aa87e64a0e11eeefc3))\n- Incorporates changes from version v0.11.12-10-g57ac174\n  ([c594b7e](https://github.com/ory/oathkeeper/commit/c594b7e91e71f8fa4d2532667a5ab3eae49d53bf))\n- Incorporates changes from version v0.11.12-13-gd00dfed\n  ([7c221fa](https://github.com/ory/oathkeeper/commit/7c221fa7d67c382f0277dc0fb94d0529dabe8ac2))\n- Incorporates changes from version v0.11.12-15-g6604045\n  ([2a594f4](https://github.com/ory/oathkeeper/commit/2a594f416a1dbf9391b543efbbdc6004a58524d0))\n- Incorporates changes from version v0.11.12-3-g7acfbca\n  ([ac34a58](https://github.com/ory/oathkeeper/commit/ac34a58a4444e09a36c74ed23730dbc41cd656be))\n- Incorporates changes from version v0.11.12-6-g181e9ac\n  ([01dda53](https://github.com/ory/oathkeeper/commit/01dda53f32ec7a1bfa9d43cc4df2a8778f5b8cc7))\n- Incorporates changes from version v1.0.0-beta.1\n  ([788e96b](https://github.com/ory/oathkeeper/commit/788e96b65dbb9765839f4f1e1e1a79cb401652b6))\n- Incorporates changes from version v1.0.0-beta.2-1-gd6eb440\n  ([579f7a7](https://github.com/ory/oathkeeper/commit/579f7a7c3c71b3a388f01e78e224026bf7c2ca08))\n- Incorporates changes from version v1.0.0-beta.2-10-gef6e889\n  ([38cfb31](https://github.com/ory/oathkeeper/commit/38cfb31f4608320daec4ceab12a51d493db772ed))\n- Incorporates changes from version v1.0.0-beta.2-12-g9b6c0df\n  ([82ac9b2](https://github.com/ory/oathkeeper/commit/82ac9b295c376cdae107fa3646cee9614a2e3410))\n- Incorporates changes from version v1.0.0-beta.2-6-ged2f983\n  ([d9737c8](https://github.com/ory/oathkeeper/commit/d9737c8cc84a43b260c0acd98a5b77cd1082423d))\n- Incorporates changes from version v1.0.0-beta.2-8-g5495d4a\n  ([546828d](https://github.com/ory/oathkeeper/commit/546828df624d959684302ce503b5ac09c2c52cf2))\n- Incorporates changes from version v1.0.0-beta.3-3-g3c0c862\n  ([e1127a8](https://github.com/ory/oathkeeper/commit/e1127a8322e24a366653e149b1d6209ab0b7d6af))\n- Incorporates changes from version v1.0.0-beta.4-1-g643dbea\n  ([5c40f97](https://github.com/ory/oathkeeper/commit/5c40f97ec8c213ba8ed7bb8366204f53f5b9fae1))\n- Incorporates changes from version v1.0.0-beta.4-12-gbfe96e9\n  ([756178a](https://github.com/ory/oathkeeper/commit/756178a18d9d7b2ac9749ab09844e9cf37ccf98c))\n- Incorporates changes from version v1.0.0-beta.4-17-gfa5388c\n  ([3d5df8b](https://github.com/ory/oathkeeper/commit/3d5df8b1162466453234bb4537e9d8538081352c))\n- Incorporates changes from version v1.0.0-beta.4-19-g6d647d7\n  ([b5539f4](https://github.com/ory/oathkeeper/commit/b5539f4157725c0620011f9bd0f8d67ba58741a5))\n- Incorporates changes from version v1.0.0-beta.4-3-g951da25\n  ([8931b39](https://github.com/ory/oathkeeper/commit/8931b39ee0ab2efd0ed38da87c888a33081ad817))\n- Incorporates changes from version v1.0.0-beta.4-5-g83b591d\n  ([4f2c64b](https://github.com/ory/oathkeeper/commit/4f2c64b42d3b4cada98687ad3285b5ba9d3732ee))\n- Incorporates changes from version v1.0.0-beta.4-7-gf450697\n  ([8f904d2](https://github.com/ory/oathkeeper/commit/8f904d22a56410eabe6d9af7f87624a61a7f1a76))\n- Incorporates changes from version v1.0.0-beta.4-9-g02361aa\n  ([5b34e91](https://github.com/ory/oathkeeper/commit/5b34e91cfffeef0787054ab92c0cf944c5653f15))\n- Incorporates changes from version v1.0.0-beta.5-1-g3647958\n  ([2bcfb39](https://github.com/ory/oathkeeper/commit/2bcfb3917118a71247c241ff2a99282a11154ee9))\n- Incorporates changes from version v1.0.0-beta.6-1-gff0604d\n  ([0c69154](https://github.com/ory/oathkeeper/commit/0c69154cffcc6e6a5b3114276c228fd19f0450e7))\n- Incorporates changes from version v1.0.0-beta.6-3-g828b33e\n  ([c53f5b2](https://github.com/ory/oathkeeper/commit/c53f5b2aa40c78e36402679c34bbd9f898a4296a))\n- Incorporates changes from version v1.0.0-beta.8\n  ([92c09fb](https://github.com/ory/oathkeeper/commit/92c09fb28552949cd034ed5555c87dfda91407a3))\n- Incorporates changes from version v1.0.0-beta.9\n  ([b9127f6](https://github.com/ory/oathkeeper/commit/b9127f60de1d96e95310731b88b77b7b443f0d2e))\n- Update documentation links\n  ([#144](https://github.com/ory/oathkeeper/issues/144))\n  ([84131d2](https://github.com/ory/oathkeeper/commit/84131d2201192c92eebcf1f03dd89f417402c985))\n- Update link to security console\n  ([26fdda1](https://github.com/ory/oathkeeper/commit/26fdda126a9b322e5310a2a3a3ed83949f640d2c))\n- Update migration guide\n  ([b2e6d67](https://github.com/ory/oathkeeper/commit/b2e6d6783aa869dad52e30203fa7d2510ae556ef))\n- Updates copyright notice\n  ([e58535d](https://github.com/ory/oathkeeper/commit/e58535d7bdc5f4b6dd8e293741e53cdd8767c61c))\n- Updates issue and pull request templates\n  ([#126](https://github.com/ory/oathkeeper/issues/126))\n  ([5991a92](https://github.com/ory/oathkeeper/commit/5991a922a3fd39bb5704b16116325487b73f2868))\n- Updates issue and pull request templates\n  ([#127](https://github.com/ory/oathkeeper/issues/127))\n  ([e4d0e26](https://github.com/ory/oathkeeper/commit/e4d0e2691618c104c5fe749267a02538bcb35465))\n- Updates link to open collective\n  ([25e0dee](https://github.com/ory/oathkeeper/commit/25e0dee9b0f5ad1d45adc47d0b4e923e045d023f))\n- Updates links to docs\n  ([9dca7c0](https://github.com/ory/oathkeeper/commit/9dca7c0829fc6ac669c621295423e9054989e14f))\n- Updates links to docs\n  ([57ac174](https://github.com/ory/oathkeeper/commit/57ac17475350d713711256e772ffd875772e59b2))\n- Updates newsletter link in README\n  ([97f1dea](https://github.com/ory/oathkeeper/commit/97f1dea021559a43302ffe32e16cd8ee585a0656))\n- Updates readme TOC\n  ([3c0c862](https://github.com/ory/oathkeeper/commit/3c0c8626889f39b223a558e40baf21acc7819f8c))\n- Updates README.md\n  ([1387f9f](https://github.com/ory/oathkeeper/commit/1387f9f2fb57de5c7d23d857575fd54b9bbd824f))\n- Updates TOC\n  ([9b6c0df](https://github.com/ory/oathkeeper/commit/9b6c0dfd8d3548aef356c0d6d700d9805866d22b))\n- Updates upgrade.me\n  ([0118f9f](https://github.com/ory/oathkeeper/commit/0118f9ffbb171876dad21a894f1c99a9c51c6d26))\n\n### Unclassified\n\n- Add ability to configure scope strategy\n  ([519a536](https://github.com/ory/oathkeeper/commit/519a53628696576891196f0ce733353d639e6aec))\n- Add cookies ci to handler factory\n  ([#103](https://github.com/ory/oathkeeper/issues/103))\n  ([59aabfa](https://github.com/ory/oathkeeper/commit/59aabfa4b2554f03f65d618a7d7bf1c98a634da3))\n- Add cookies credentials issuer\n  ([032d88e](https://github.com/ory/oathkeeper/commit/032d88ea8dee24506d277d22b7f4aaef2a502fa7))\n- Add endpoint for answering access requests directly\n  ([d211641](https://github.com/ory/oathkeeper/commit/d2116410edf1f5089427858727f155bc0aa4313c)),\n  closes [#42](https://github.com/ory/oathkeeper/issues/42): This patch adds\n  endpoint `/judge` to `oathkeeper serve api`. The `/judge` endpoint mimics the\n  behavior of `oathkeeper serve proxy` but instead of forwarding the request to\n  the upstream server, the endpoint answers directly with a HTTP response. The\n  HTTP response returns status code 200 if the request should be allowed and any\n  other status code (e.g. 401, 403) if not. Assuming you are making the\n  following request:\n  ```\n  PUT /judge/my-service/whatever HTTP/1.1\n  Host: oathkeeper-api:4456\n  User-Agent: curl/7.54.0\n  Authorization: bearer some-token\n  Accept: */*\n  Content-Type: application/json\n  Content-Length: 0\n  ```\n  And you have a rule which allows token `some-bearer` to access\n  `PUT /my-service/whatever` and you have a credentials issuer which does not\n  modify the Authorization header, the response will be:\n  ```\n  HTTP/1.1 200 OK\n  Authorization: bearer-sometoken\n  Content-Length: 0\n  Connection: Closed\n  ```\n  If the rule denies the request, the response will be, for example:\n  ```\n  HTTP/1.1 401 OK\n  Content-Length: 0\n  Connection: Closed\n  ```\n- Add headers credentials issuer\n  ([b084c32](https://github.com/ory/oathkeeper/commit/b084c3271ab8ca71c9fe766de030572c69057671))\n- Add http proxy timeout config\n  ([#132](https://github.com/ory/oathkeeper/issues/132))\n  ([b3718ce](https://github.com/ory/oathkeeper/commit/b3718ce56d4bcfe4610806ae6b15382226adab75)):\n  Add environment parameters (and description) to configure timeout settings of\n  a server handled proxy requests. It will help prevent a case of unexpected\n  closing a client connection if an upstream request is executing more than\n  default timeout.\n- Add JWT authenticator\n  ([61625bc](https://github.com/ory/oathkeeper/commit/61625bccebe0b478b980c66a29894dc1ffe48b0a))\n- Add NodeJS SDK ([#94](https://github.com/ory/oathkeeper/issues/94))\n  ([7505b71](https://github.com/ory/oathkeeper/commit/7505b717f28aaec38e07999ffe1f417484e110f7))\n- Adds ability to specify db url via env var in migrate\n  ([b2cc5d2](https://github.com/ory/oathkeeper/commit/b2cc5d25d23c88c25e4ef415031030a9229dc593))\n- Adds and improves metrics middleware\n  ([b0dfd97](https://github.com/ory/oathkeeper/commit/b0dfd97fd0d947e35727b0eb4301c4ebbbbf3eb0))\n- Adds log message when telemetry is active\n  ([ed2f983](https://github.com/ory/oathkeeper/commit/ed2f9836c6ff2e496b4cbe300d7cee4f1ce5c12e))\n- Adds validator for rules ([#77](https://github.com/ory/oathkeeper/issues/77))\n  ([f450697](https://github.com/ory/oathkeeper/commit/f45069711b2aa5ed3ace6361a1bc8e9115a76406)):\n  This patch adds an input validator for rules which should prevent accidental\n  typos or similar issues when creating a rule. Additionally, no\n  invalid/unconfigured handlers (authorizers, credential issuers,\n  authenticators) can be used.\n- Align TLS options with hydra\n  ([#114](https://github.com/ory/oathkeeper/issues/114))\n  ([c763152](https://github.com/ory/oathkeeper/commit/c7631528afc1e60ffed61a5b5e101079224e751b))\n- Allow empty upstream in rules\n  ([e46065a](https://github.com/ory/oathkeeper/commit/e46065afa1d6ad14fa62dad9c6b145e46623c7f0))\n- Allow regex in match scheme\n  ([c6d17c5](https://github.com/ory/oathkeeper/commit/c6d17c54c0a23c519a150971faf8486a957b2e82)),\n  closes [#92](https://github.com/ory/oathkeeper/issues/92)\n- Allows connectivity to MySQL\n  ([fa5388c](https://github.com/ory/oathkeeper/commit/fa5388cfc2cd31f0ecee379a6f515bf4cd48961f)),\n  closes [#82](https://github.com/ory/oathkeeper/issues/82)\n- Authenticator noop should not bypass\n  ([6f8ab4f](https://github.com/ory/oathkeeper/commit/6f8ab4f7d676fbcf06d1eeb4ab1452b15f090185)),\n  closes [#97](https://github.com/ory/oathkeeper/issues/97)\n- Convert AuthenticationSession to local struct type for better handling\n  ([b00b2a2](https://github.com/ory/oathkeeper/commit/b00b2a2498b44df5717b757bffbf13b00184bf68))\n- Disable cors per default\n  ([#107](https://github.com/ory/oathkeeper/issues/107))\n  ([c5ab0c3](https://github.com/ory/oathkeeper/commit/c5ab0c3175b336bb8bea3b919cae57c838262ab4)):\n  This patch introduces CORS_ENABLED which defaults to \"false\".\n- Doesn't fatal if no ORY Hydra is unresponsive.\n  ([#66](https://github.com/ory/oathkeeper/issues/66))\n  ([181e9ac](https://github.com/ory/oathkeeper/commit/181e9acf9bdc9adc05e6718df53b7fa1ff539c41)),\n  closes [#65](https://github.com/ory/oathkeeper/issues/65)\n- Enables TLS option on serve api\n  ([#116](https://github.com/ory/oathkeeper/issues/116))\n  ([83f1f84](https://github.com/ory/oathkeeper/commit/83f1f84a42510f2c9a6d72d33f94ff8117b56a7f))\n- Expose all ORY Hydra ports in tests\n  ([691a72d](https://github.com/ory/oathkeeper/commit/691a72d3372d3a949acadf95130ed7d1432dafac))\n- Expose all ORY Hydra ports in tests\n  ([add70c6](https://github.com/ory/oathkeeper/commit/add70c66f0c30848d845e80e94c9065865d65809))\n- Fix checkResponse message typo\n  ([#106](https://github.com/ory/oathkeeper/issues/106))\n  ([0d0e653](https://github.com/ory/oathkeeper/commit/0d0e653e11a7b7415ef76334ebe9c1c0b50e47c8))\n- Ignore query parameters when matching url in rules.\n  ([#139](https://github.com/ory/oathkeeper/issues/139))\n  ([07eb99b](https://github.com/ory/oathkeeper/commit/07eb99bdb669121bcd27559d9f11d0633f5a8877))\n- Improve compatibility with ORY Hydra 1.0.0-beta.8\n  ([#108](https://github.com/ory/oathkeeper/issues/108))\n  ([296e012](https://github.com/ory/oathkeeper/commit/296e01254b50b645fae67e51aa668d39652b0778)),\n  closes [#101](https://github.com/ory/oathkeeper/issues/101): This patch\n  improves compatibility with ORY Hydra 1.0.0-beta.8 and updates vendored\n  dependencies.\n- Improve hydra integration tests\n  ([e8b7a58](https://github.com/ory/oathkeeper/commit/e8b7a586c5fcb86efddf57d4f2f97a0ff915b869))\n- Improve refresh subroutines\n  ([cc33538](https://github.com/ory/oathkeeper/commit/cc33538f11d9292465bc2fdf0275233b1ff7df9e))\n- Improves cors parsing\n  ([d00dfed](https://github.com/ory/oathkeeper/commit/d00dfed2724cd449744fe189a6f957bdab8f508b))\n- Improves test set up\n  ([6b6bb88](https://github.com/ory/oathkeeper/commit/6b6bb8846385e59436469ba201d94791d3588566))\n- Include headers credential issuer in handler factory\n  ([0e1ef1b](https://github.com/ory/oathkeeper/commit/0e1ef1bf31a4cd48fa72d42f91323d860ac886ef))\n- Introduce health and version endpoint\n  ([029c7ff](https://github.com/ory/oathkeeper/commit/029c7ffab1b68df902d31812a7fde635cc2d880b))\n- Make subject configurable using go template\n  ([#129](https://github.com/ory/oathkeeper/issues/129))\n  ([ee9dcdd](https://github.com/ory/oathkeeper/commit/ee9dcdd275b6b7f21c4a8b438ebed711acfda5e2))\n- More CredentialsIssuerHeaders tests\n  ([079171f](https://github.com/ory/oathkeeper/commit/079171fc159a62ec4742b73d71f9116d9831bf16))\n- Move headers into new config field\n  ([51eb9fb](https://github.com/ory/oathkeeper/commit/51eb9fb021beff28111a491daa5b9a5d17040bc7))\n- Properly document JWT refresh\n  ([#117](https://github.com/ory/oathkeeper/issues/117))\n  ([2e024f9](https://github.com/ory/oathkeeper/commit/2e024f91640bf4182d1b1a6fb143d77c523f4596))\n- Properly handle conflicts on PUT and POST\n  ([83b591d](https://github.com/ory/oathkeeper/commit/83b591d8cf3d180ad9d48a72bd92ffdb3a8192ac)),\n  closes [#38](https://github.com/ory/oathkeeper/issues/38): Previously, PUT and\n  POST did not result in errors (409) when non-existing resources were modified,\n  or existing resources were created. This patch resolves that.\n- Refactors Oathkeeper into new ecosystem\n  ([#60](https://github.com/ory/oathkeeper/issues/60))\n  ([7acfbca](https://github.com/ory/oathkeeper/commit/7acfbcaca36645a984baded2dc3cbb689154ef8c))\n- Refresh rules in api mode\n  ([08204e8](https://github.com/ory/oathkeeper/commit/08204e8eb60745d8449b2da9780e460f504710c9))\n- Remove config flag ([#111](https://github.com/ory/oathkeeper/issues/111))\n  ([8385cbc](https://github.com/ory/oathkeeper/commit/8385cbcb05be5e1d5df8d5b3f00130b163d651f6)),\n  closes [#110](https://github.com/ory/oathkeeper/issues/110)\n- Remove config flag ([#111](https://github.com/ory/oathkeeper/issues/111))\n  ([7de77b8](https://github.com/ory/oathkeeper/commit/7de77b81495c53dd3c3fac3f3524daa10b19fc5d)),\n  closes [#110](https://github.com/ory/oathkeeper/issues/110)\n- Remove package.json from swagger dir\n  ([837d18c](https://github.com/ory/oathkeeper/commit/837d18ca2eec44370b965de190b317dd40369970))\n- Resolve broken introspection scope setting\n  ([18837a9](https://github.com/ory/oathkeeper/commit/18837a9fb18c931b6fadfa39f71520f3f45e6c1c))\n- Resolve HS256 kid mismatch\n  ([6d647d7](https://github.com/ory/oathkeeper/commit/6d647d76b1e41f4ec0d43c79934d601f5e0627af)),\n  closes [#83](https://github.com/ory/oathkeeper/issues/83)\n- Resolves panic when network fails in \"rules import\"\n  ([078542a](https://github.com/ory/oathkeeper/commit/078542a9c143ca6e18499157b2462a4c986230a3))\n- Streamlines https configuration variables\n  ([#124](https://github.com/ory/oathkeeper/issues/124))\n  ([9f6f815](https://github.com/ory/oathkeeper/commit/9f6f8155a002699e29c5f02c8ebb48ac5dff17be)),\n  closes [#121](https://github.com/ory/oathkeeper/issues/121)\n- Test for errors\n  ([585672e](https://github.com/ory/oathkeeper/commit/585672e3a4a7e996d575d51889918c049e95106e))\n- Test missing Extra field\n  ([a4d3d2d](https://github.com/ory/oathkeeper/commit/a4d3d2d4708d7c6baec90289a9a0bb956a95566b))\n- Test template caching/lookup\n  ([ab8a402](https://github.com/ory/oathkeeper/commit/ab8a40298071eff9fc0bec66470d7392226cdf6e))\n- Update keto to latest\n  ([3e2a8de](https://github.com/ory/oathkeeper/commit/3e2a8dee9ead7a89d537162b8c4271444ab137df))\n- Upgrade keto authorizer to 0.2.0\n  ([#145](https://github.com/ory/oathkeeper/issues/145))\n  ([bcd4836](https://github.com/ory/oathkeeper/commit/bcd4836d2ad38821d2a3c856ff3b851e5dce344a))\n- Support \"scope\" claim as a string in jwt authenticator (#137)\n  ([ab5240e](https://github.com/ory/oathkeeper/commit/ab5240e9a462cfaf2f632d6b535a3177d2c80c4e)),\n  closes [#137](https://github.com/ory/oathkeeper/issues/137)\n- Test nesting of various types\n  ([188748d](https://github.com/ory/oathkeeper/commit/188748d526edc8aa0e71b163b7d7188755fb9b7f))\n- Update rules stub\n  ([475f39a](https://github.com/ory/oathkeeper/commit/475f39a5f506b21557def2eb967ecdc7bd84d245))\n- Upgrade superagent version\n  ([44ed240](https://github.com/ory/oathkeeper/commit/44ed24017fec12a4de8505b3050018230e885981))\n- Use print funcmap function to override text/template print\n  ([76b2d9d](https://github.com/ory/oathkeeper/commit/76b2d9d13c7983ac24c2076a5f5770f2cb380d43))\n- Validate handler configurations\n  ([a558103](https://github.com/ory/oathkeeper/commit/a55810339ba3ec85654c358b902733c3125f01f0))\n- Adds docker-compose example with postgres\n  ([84f1313](https://github.com/ory/oathkeeper/commit/84f131387845a1f0246d40b074d446ec58b014c0))\n- Removes obsolete benchmark\n  ([3f259da](https://github.com/ory/oathkeeper/commit/3f259da7766eb6a42b54bb3a6f3ddeb49d9363a1))\n- Resolves an issue with cached matchers\n  ([951da25](https://github.com/ory/oathkeeper/commit/951da251e3e862f2d0a1e5076c028a481f0235dd)),\n  closes [#73](https://github.com/ory/oathkeeper/issues/73): This patch resolves\n  an issue where updates would not properly propagate. This caused deleted rules\n  to still be available in the proxy.\n- Resolves issues with broken tests\n  ([6604045](https://github.com/ory/oathkeeper/commit/6604045191446baca03791940ddf746aed4799d1))\n- Resolves naming issues and updates readme\n  ([5495d4a](https://github.com/ory/oathkeeper/commit/5495d4aa6d23a04891b53694e4fc0e0857c2f955))\n- Resolves potential panic in request handler\n  ([ef6e889](https://github.com/ory/oathkeeper/commit/ef6e8894f034ec66bb3b0da1bdda762fe428a14d))\n- Resolves recursive stack overflow\n  ([#81](https://github.com/ory/oathkeeper/issues/81))\n  ([0594cda](https://github.com/ory/oathkeeper/commit/0594cda346f7ce5af1dc86c6335c1b782632d9eb)),\n  closes [#80](https://github.com/ory/oathkeeper/issues/80)\n- Reduces setup complexity by making strategies configurable\n  ([6626f8f](https://github.com/ory/oathkeeper/commit/6626f8f2aa98f8ee05e5b1f63c1b698083f9ae78)),\n  closes [#71](https://github.com/ory/oathkeeper/issues/71): This patch adds\n  another ID Token signing algorithm (HS256) which is easier to set up as it\n  does not rely on ORY Hydra but instead on a shared secret. Additionally the\n  ability to specify which ID Token singing algorithm to use has been added.\n  Environmental variables to configure the behvaiour have been added as well.\n  Further, the ORY Keto Warden Authorizer strategy is now optional and disabled\n  when the environment variable `AUTHORIZER_KETO_WARDEN_KETO_URL` is empty.\n- Updates to ORY Hydra v1.0.0-beta.2\n  ([e4c9f2e](https://github.com/ory/oathkeeper/commit/e4c9f2eeed41ab8deeb54f2137ea1b2d90a3bdc3))\n- Tells linguist to ignore SDK files\n  ([ace7f34](https://github.com/ory/oathkeeper/commit/ace7f3411f882c6e89bef7800fb2b700e51cd5f6))\n\n# [0.11.12](https://github.com/ory/oathkeeper/compare/v0.0.29...v0.11.12) (2018-05-07)\n\nIntroduces new versioning number to match ORY Hydra\n\n### Documentation\n\n- Adds automatic summary generation\n  ([#49](https://github.com/ory/oathkeeper/issues/49))\n  ([20fefbc](https://github.com/ory/oathkeeper/commit/20fefbcac042e2a251f8bf047f252e251dbc704b))\n- Adds edit on github links\n  ([95af1bb](https://github.com/ory/oathkeeper/commit/95af1bba9cc1b5dafe12f11ab9876371efedd92a))\n- Adds license note to all source files\n  ([#51](https://github.com/ory/oathkeeper/issues/51))\n  ([2c8ff2f](https://github.com/ory/oathkeeper/commit/2c8ff2f944574210964456126342d7a41efb73b7))\n- Fixes redirect path\n  ([9bca2f3](https://github.com/ory/oathkeeper/commit/9bca2f36a5d9ef75afb97e63faaffa912c9121d3))\n- Moves documentation to new repository\n  ([#57](https://github.com/ory/oathkeeper/issues/57))\n  ([a9f21f3](https://github.com/ory/oathkeeper/commit/a9f21f3c5a71442ee879a8457798f8965b869f28))\n- Redirect to ory domain\n  ([0599e63](https://github.com/ory/oathkeeper/commit/0599e63d8628effa242b85e28f66df6a95616a45))\n- Removes newline from swagger doc\n  ([5e297b3](https://github.com/ory/oathkeeper/commit/5e297b39794e4e015dedd716f3402f0bfb6efc1c))\n- Removes stray line in api docs\n  ([bed1a04](https://github.com/ory/oathkeeper/commit/bed1a048cd54bd103c3c6bc62455671a3536d04f))\n- Removes summary plugin\n  ([ce06f4e](https://github.com/ory/oathkeeper/commit/ce06f4eaffda106d009f2b554aecda3e3ba86434))\n- Resolves broken policy and client definitions\n  ([#55](https://github.com/ory/oathkeeper/issues/55))\n  ([4676f40](https://github.com/ory/oathkeeper/commit/4676f4054090ef705c705a3eaac616f8f513b980)),\n  closes [#53](https://github.com/ory/oathkeeper/issues/53)\n- Updates chat badge to discord\n  ([1bbac52](https://github.com/ory/oathkeeper/commit/1bbac524d5634d8aa286cdd14d9230807123da85))\n- Updates execution instructions\n  ([#56](https://github.com/ory/oathkeeper/issues/56))\n  ([3bcfd8b](https://github.com/ory/oathkeeper/commit/3bcfd8b1b91df97f78eb6e7b9bb2df7ba398b158)):\n  Adjusting run script to respect env variables\n- Updates README.md ([#58](https://github.com/ory/oathkeeper/issues/58))\n  ([bdb542f](https://github.com/ory/oathkeeper/commit/bdb542fcb6006c218f499793f0e44ce30f79cf2a))\n- Updates swagger docs\n  ([5ea68c2](https://github.com/ory/oathkeeper/commit/5ea68c290d757e341932b00cb89c2a9e5b7e2429))\n\n### Unclassified\n\n- Introduces new versioning number to match ORY Hydra\n  ([75b5121](https://github.com/ory/oathkeeper/commit/75b51213a50750a12f670060a34aecadf49fa3e2))\n- Adds mock generation script\n  ([00b51b7](https://github.com/ory/oathkeeper/commit/00b51b7a71089d04a4b3005e5fd15d5e9db22939))\n- Corrects logging typo ([#52](https://github.com/ory/oathkeeper/issues/52))\n  ([d415291](https://github.com/ory/oathkeeper/commit/d41529123a756cd202b2216a0aa746e137e72e5e)):\n  This corrects logging from 'oahtkeeper-proxy' to 'oathkeeper-proxy' in, e.g.,\n  the proxy latency logline.\n- Updates hydra sdk mock\n  ([2ff8032](https://github.com/ory/oathkeeper/commit/2ff8032f9362a8ef5d85692ce49d425bfc18f2f0))\n- Updates hydra to 0.11.6\n  ([ee969f6](https://github.com/ory/oathkeeper/commit/ee969f68145c5398b79fe4e7a9bf7fa74d1e6bf3))\n- Updates license header\n  ([94a2ed2](https://github.com/ory/oathkeeper/commit/94a2ed2a0c381fe2fbf5182c45acb52ca4e2c164))\n- Use source file from vendor for mock generation\n  ([42517c6](https://github.com/ory/oathkeeper/commit/42517c6df9bfb1a5a14606229916b8ba674aa3e1))\n- Uses Hydra v0.11.6 in tests\n  ([9c2cc89](https://github.com/ory/oathkeeper/commit/9c2cc8901f32ab8042fadbd32475e98650c37e72))\n- Adds license\n  ([cc13ae8](https://github.com/ory/oathkeeper/commit/cc13ae8f002426dc3b39b2184b438331e6f63522))\n- Updates README.md\n  ([c9340dc](https://github.com/ory/oathkeeper/commit/c9340dc94d1b6aec4825c8a2ccf423aee1a5fd3b))\n\n# [0.0.29](https://github.com/ory/oathkeeper/compare/v0.0.28...v0.0.29) (2017-12-19)\n\nAdds use field to well known (#48)\n\n### Unclassified\n\n- Adds use field to well known (#48)\n  ([f7353ea](https://github.com/ory/oathkeeper/commit/f7353ea1de25c37f58b9e7532e06210ea575bc29)),\n  closes [#48](https://github.com/ory/oathkeeper/issues/48)\n\n# [0.0.28](https://github.com/ory/oathkeeper/compare/v0.0.27...v0.0.28) (2017-12-19)\n\nReplaces key discovery with well-known feature (#46)\n\nCloses #43\n\n### Unclassified\n\n- Replaces key discovery with well-known feature (#46)\n  ([e343a61](https://github.com/ory/oathkeeper/commit/e343a61d6ae8f149f61c832fc567533651a1b16f)),\n  closes [#46](https://github.com/ory/oathkeeper/issues/46)\n  [#43](https://github.com/ory/oathkeeper/issues/43)\n\n# [0.0.27](https://github.com/ory/oathkeeper/compare/v0.0.26...v0.0.27) (2017-12-12)\n\nAdds cors capabilities to management server\n\n### Unclassified\n\n- Adds cors capabilities to management server\n  ([6519846](https://github.com/ory/oathkeeper/commit/6519846691737a4f8ddfb5c55186d1b0c26db8ad))\n\n# [0.0.26](https://github.com/ory/oathkeeper/compare/v0.0.25...v0.0.26) (2017-12-11)\n\nAdds hydra.introspect to required tokens\n\n### Unclassified\n\n- Adds hydra.introspect to required tokens\n  ([b66462a](https://github.com/ory/oathkeeper/commit/b66462a0ec62d82adb805c6aa29d807c21c5e20b))\n- Fixes broken image link in docs\n  ([1aa2404](https://github.com/ory/oathkeeper/commit/1aa2404b9fa88e69b6e18832f1532978012dba27))\n\n# [0.0.25](https://github.com/ory/oathkeeper/compare/v0.0.24...v0.0.25) (2017-11-28)\n\nAdd extra data from token introspection to session\n\n### Unclassified\n\n- Add extra data from token introspection to session\n  ([ce8f9f2](https://github.com/ory/oathkeeper/commit/ce8f9f265bad2d60b467d788d4314270c549a461))\n\n# [0.0.24](https://github.com/ory/oathkeeper/compare/v0.0.23...v0.0.24) (2017-11-26)\n\nReplaces LogError with direct error logging\n\n### Unclassified\n\n- Replaces LogError with direct error logging\n  ([73994b8](https://github.com/ory/oathkeeper/commit/73994b850629c6ec267903ad09e2a6eceef7a9cd))\n- Upgrades vendor dependencies\n  ([4207aef](https://github.com/ory/oathkeeper/commit/4207aef3c00a64f315dc0e85cd83adb6e3c9660c))\n- Introduces telemetry module and adds documentation\n  ([c5a7f7a](https://github.com/ory/oathkeeper/commit/c5a7f7a8fc6e0e2a264b5bc3dd29174f86f4b5c9)),\n  closes [#27](https://github.com/ory/oathkeeper/issues/27)\n  [#34](https://github.com/ory/oathkeeper/issues/34)\n- Use oathkeeper public url as issuer\n  ([1e5ae00](https://github.com/ory/oathkeeper/commit/1e5ae00f457aafdd7a284a388704ce954b3339b1))\n\n# [0.0.23](https://github.com/ory/oathkeeper/compare/v0.0.22...v0.0.23) (2017-11-24)\n\nPrint formatted output string in rule management CLI (#35)\n\n### Documentation\n\n- Add JWK set docs ([#33](https://github.com/ory/oathkeeper/issues/33))\n  ([95abec8](https://github.com/ory/oathkeeper/commit/95abec817a1fb053a19d47e66725764f56f4c9cc))\n- Update readme\n  ([f448908](https://github.com/ory/oathkeeper/commit/f448908fb38f3b069de488a59e27ff082e610e1a))\n\n### Unclassified\n\n- Print formatted output string in rule management CLI (#35)\n  ([b14c74e](https://github.com/ory/oathkeeper/commit/b14c74e6270c4e2fdd9741c3cbe619336efd1435)),\n  closes [#35](https://github.com/ory/oathkeeper/issues/35)\n- Update docs and add tests (#32)\n  ([c6bf7d1](https://github.com/ory/oathkeeper/commit/c6bf7d15e8b935b6ed64551391f9aa23968cf4d9)),\n  closes [#32](https://github.com/ory/oathkeeper/issues/32)\n\n# [0.0.22](https://github.com/ory/oathkeeper/compare/v0.0.21...v0.0.22) (2017-11-20)\n\nRenames bypass values for better clarity\n\nCloses #13 Closes #29\n\n### Unclassified\n\n- Renames bypass values for better clarity\n  ([46a717e](https://github.com/ory/oathkeeper/commit/46a717e0428fba1fcabb0bdb669acaba39aa5444)),\n  closes [#13](https://github.com/ory/oathkeeper/issues/13)\n  [#29](https://github.com/ory/oathkeeper/issues/29)\n\n# [0.0.21](https://github.com/ory/oathkeeper/compare/v0.0.20...v0.0.21) (2017-11-19)\n\nRequest hydra.keys scope and fix panic\n\n### Unclassified\n\n- Request hydra.keys scope and fix panic\n  ([546b2cf](https://github.com/ory/oathkeeper/commit/546b2cff5e7cea306a60963f646ad4522f5bfd15))\n\n# [0.0.20](https://github.com/ory/oathkeeper/compare/v0.0.19...v0.0.20) (2017-11-18)\n\ndocs: Improve swagger documentation\n\n### Documentation\n\n- Add developer guide link to readme\n  ([68be400](https://github.com/ory/oathkeeper/commit/68be400c070a63b3ec8a7f40bc343ed39a45bed5))\n- Add install and run section\n  ([87f0700](https://github.com/ory/oathkeeper/commit/87f07004b47d9803246bc42bf78c3e5100969033))\n- Fix table of contents in summary\n  ([fdb752b](https://github.com/ory/oathkeeper/commit/fdb752b3172ed746776cb7153f4523b10920f492))\n- Improve swagger documentation\n  ([8f16a9b](https://github.com/ory/oathkeeper/commit/8f16a9b36e1b75415f5e367c0ae5589a74187139))\n- Wrote basic developer guide\n  ([952d27c](https://github.com/ory/oathkeeper/commit/952d27c7639a80b5daddb702a6f790e855b1422b))\n\n### Unclassified\n\n- Replace shared secret with RSA key from Hydra for ID token signing\n  ([e7ed8ca](https://github.com/ory/oathkeeper/commit/e7ed8ca672f617a5d67a0d70ca665e3b45fe3e67))\n- Add rules management capabilities to the cli\n  ([289c38a](https://github.com/ory/oathkeeper/commit/289c38ae4b9c67b654e3b24dc45bd28968f75937))\n- Format cmd/serve\n  ([bc2e7c1](https://github.com/ory/oathkeeper/commit/bc2e7c159eea9a203820e396f7588a007722efc8))\n- Ignore gitbook output directory\n  ([580b94f](https://github.com/ory/oathkeeper/commit/580b94fa921363782e02d66981172659dc76dadc))\n\n# [0.0.19](https://github.com/ory/oathkeeper/compare/v0.0.18...v0.0.19) (2017-11-13)\n\nevaluator: Use full request URL\n\n### Unclassified\n\n- Use full request URL\n  ([2b4b149](https://github.com/ory/oathkeeper/commit/2b4b1492ce3356a7a251e241a308669517ddba3e))\n\n# [0.0.18](https://github.com/ory/oathkeeper/compare/v0.0.17...v0.0.18) (2017-11-13)\n\nevaluator: Improve audit capabilities\n\n### Unclassified\n\n- Improve audit capabilities\n  ([c952d21](https://github.com/ory/oathkeeper/commit/c952d21bd59c7f318a3e7c4f98978eb8b3fc7231))\n- Resolve potential panic in token id generation\n  ([8fe9e9a](https://github.com/ory/oathkeeper/commit/8fe9e9a5bd7b951b93c4966f8585945074ff104d)),\n  closes [#22](https://github.com/ory/oathkeeper/issues/22)\n\n# [0.0.17](https://github.com/ory/oathkeeper/compare/v0.0.16...v0.0.17) (2017-11-12)\n\nIntroduces surrogate_id to SQLManager (#21)\n\n### Unclassified\n\n- Introduces surrogate_id to SQLManager (#21)\n  ([fbe272f](https://github.com/ory/oathkeeper/commit/fbe272f36e64c4e15758a34f62cc3d03e63c7c64)),\n  closes [#21](https://github.com/ory/oathkeeper/issues/21)\n\n# [0.0.16](https://github.com/ory/oathkeeper/compare/v0.0.15...v0.0.16) (2017-11-12)\n\nReplace MatchesPath with MatchesURL (#20)\n\n### Unclassified\n\n- Replace MatchesPath with MatchesURL (#20)\n  ([4ee776c](https://github.com/ory/oathkeeper/commit/4ee776cc08201f91dfdab5c0c259c4cfffd88ddb)),\n  closes [#20](https://github.com/ory/oathkeeper/issues/20)\n\n# [0.0.15](https://github.com/ory/oathkeeper/compare/v0.0.14...v0.0.15) (2017-11-09)\n\nAdd HTTPS capabilities and document proxy/management commands (#19)\n\n### Unclassified\n\n- Add HTTPS capabilities and document proxy/management commands (#19)\n  ([98ef623](https://github.com/ory/oathkeeper/commit/98ef623e64a58afa99fcb2db67bf5c514c86334c)),\n  closes [#19](https://github.com/ory/oathkeeper/issues/19)\n\n# [0.0.14](https://github.com/ory/oathkeeper/compare/v0.0.13...v0.0.14) (2017-11-07)\n\nMake refresh_delay configurable and skip it on boot (#18)\n\n### Unclassified\n\n- Make refresh_delay configurable and skip it on boot (#18)\n  ([4863a82](https://github.com/ory/oathkeeper/commit/4863a823d8f510e5c82d7f8c34f5753f18861a03)),\n  closes [#18](https://github.com/ory/oathkeeper/issues/18)\n\n# [0.0.13](https://github.com/ory/oathkeeper/compare/v0.0.12...v0.0.13) (2017-11-07)\n\nStore rules path match in plaintext (#17)\n\n### Unclassified\n\n- Store rules path match in plaintext (#17)\n  ([6570b5d](https://github.com/ory/oathkeeper/commit/6570b5d7f3169f63f9d8c31d844660f5394fc37a)),\n  closes [#17](https://github.com/ory/oathkeeper/issues/17)\n\n# [0.0.12](https://github.com/ory/oathkeeper/compare/v0.0.11...v0.0.12) (2017-11-07)\n\nUse ladon regex compiler for matches (#16)\n\n### Unclassified\n\n- Use ladon regex compiler for matches (#16)\n  ([972a328](https://github.com/ory/oathkeeper/commit/972a328b1a0fca0dfcc41487492f0203c284b54a)),\n  closes [#16](https://github.com/ory/oathkeeper/issues/16)\n- Fix typo in circle-ci test-docker job\n  ([5618c30](https://github.com/ory/oathkeeper/commit/5618c3079ef559ad5dfbacc398a8b95b3c333643))\n- Run docker image in test\n  ([12b5f13](https://github.com/ory/oathkeeper/commit/12b5f13ad997b7c427505bffa1ad7e33aa2de684))\n\n# [0.0.11](https://github.com/ory/oathkeeper/compare/v0.0.10...v0.0.11) (2017-11-06)\n\nMove gatekeeper to $PATH in docker image\n\n### Unclassified\n\n- Move gatekeeper to $PATH in docker image\n  ([81e5562](https://github.com/ory/oathkeeper/commit/81e5562ead12d1376f6eadff53ce36339dd3599a))\n- Force docker version 17.10 in circle\n  ([3927a78](https://github.com/ory/oathkeeper/commit/3927a789d7b93849fb1b2d0edbccf45781c9030b))\n\n# [0.0.10](https://github.com/ory/oathkeeper/compare/v0.0.9...v0.0.10) (2017-11-06)\n\nAdd ssl certificates to scratch image\n\n### Unclassified\n\n- Add ssl certificates to scratch image\n  ([56a3243](https://github.com/ory/oathkeeper/commit/56a3243d1c4be1308b1aa22244548359c94ee181))\n- Build static binary within docker\n  ([4d6d8bf](https://github.com/ory/oathkeeper/commit/4d6d8bf22f7aea16fa21e4fee99c829b9e76de0d))\n\n# [0.0.9](https://github.com/ory/oathkeeper/compare/v0.0.8...v0.0.9) (2017-11-06)\n\nBuild binary statically with CGO disabled\n\n### Unclassified\n\n- Build binary statically with CGO disabled\n  ([6dd3761](https://github.com/ory/oathkeeper/commit/6dd376171e3c1219de54984a9a27ac44d76d897b))\n\n# [0.0.8](https://github.com/ory/oathkeeper/compare/v0.0.7...v0.0.8) (2017-11-06)\n\nMake oathkeeper binary executable#\n\n### Unclassified\n\n- Make oathkeeper binary executable#\n  ([9e24888](https://github.com/ory/oathkeeper/commit/9e24888654675208f96913e6c11233b598e78815))\n\n# [0.0.7](https://github.com/ory/oathkeeper/compare/v0.0.6...v0.0.7) (2017-11-06)\n\nBuild oathekeeper docker image statically (#14)\n\n- Build oathekeeper docker image statically\n\n- Build oathekeeper docker image statically\n\n### Unclassified\n\n- Build oathekeeper docker image statically (#14)\n  ([dbd2037](https://github.com/ory/oathkeeper/commit/dbd2037b56b6104b79607b20394be0e9a30e67e1)),\n  closes [#14](https://github.com/ory/oathkeeper/issues/14):\n\n  - Build oathekeeper docker image statically\n\n  - Build oathekeeper docker image statically\n\n# [0.0.6](https://github.com/ory/oathkeeper/compare/v0.0.5...v0.0.6) (2017-11-03)\n\nAdded serve all command\n\n### Unclassified\n\n- Added serve all command\n  ([dfc071c](https://github.com/ory/oathkeeper/commit/dfc071c02d9fa6fda9832bd35fdc4b1eb96c63c6))\n\n# [0.0.5](https://github.com/ory/oathkeeper/compare/v0.0.4...v0.0.5) (2017-11-01)\n\nRemove goveralls from circle build\n\n### Unclassified\n\n- Remove goveralls from circle build\n  ([8362e1c](https://github.com/ory/oathkeeper/commit/8362e1c125e2bd74faefd18ff26a9b06f88792aa))\n- Add cors handling to proxy\n  ([84cec15](https://github.com/ory/oathkeeper/commit/84cec15900a97dec6b92423912ef6d4802121036))\n- Use circle ci build status badge\n  ([b776e05](https://github.com/ory/oathkeeper/commit/b776e05e5a3ad60b1b993b6f8dea1d6f5baef7c6))\n- Use circle ci build status badge\n  ([65c4100](https://github.com/ory/oathkeeper/commit/65c4100eab6a8a09ca96e31b009545a09400b1a8))\n- Switch from glide to golang/dep for vendoring\n  ([ec63fa4](https://github.com/ory/oathkeeper/commit/ec63fa47af310a6936f4afada49700c9ca54b9ad))\n- Resolve tests by replacing nil slice (#7)\n  ([971d020](https://github.com/ory/oathkeeper/commit/971d02082956969c9cd6cfcb5afb257606ddeb6b)),\n  closes [#7](https://github.com/ory/oathkeeper/issues/7)\n\n# [0.0.4](https://github.com/ory/oathkeeper/compare/v0.0.3...v0.0.4) (2017-10-21)\n\nReturn arrays instead of null on rule creation (#6)\n\n### Unclassified\n\n- Return arrays instead of null on rule creation (#6)\n  ([02e88be](https://github.com/ory/oathkeeper/commit/02e88beda5415e51b42e33527af90cf59d6a759e)),\n  closes [#6](https://github.com/ory/oathkeeper/issues/6)\n- Add circleci configuration file (#5)\n  ([76e58f2](https://github.com/ory/oathkeeper/commit/76e58f2033e86c522875faafc77717f31274b4f7)),\n  closes [#5](https://github.com/ory/oathkeeper/issues/5)\n\n# [0.0.3](https://github.com/ory/oathkeeper/compare/v0.0.2...v0.0.3) (2017-10-18)\n\nForce linefeed for shell scripts\n\n### Unclassified\n\n- Force linefeed for shell scripts\n  ([1e4fc77](https://github.com/ory/oathkeeper/commit/1e4fc771df44b7f67b616bc652d0c280131d59cf))\n- When introspection fails return unauthorized\n  ([f5295b4](https://github.com/ory/oathkeeper/commit/f5295b484fd9430bcb0d5333ca9b395f88812d62))\n\n# [0.0.2](https://github.com/ory/oathkeeper/compare/v0.0.1...v0.0.2) (2017-10-12)\n\ncmd: remove unnecessary scope hydra.warden.\\*\n\n### Unclassified\n\n- Add ability to skip acp checks\n  ([18facbb](https://github.com/ory/oathkeeper/commit/18facbbf42baa34aa8740c2952789d1f608cfb90))\n- Remove unnecessary scope hydra.warden.\\*\n  ([2214498](https://github.com/ory/oathkeeper/commit/2214498c477b8cfb739c0326437d684b291d16eb))\n\n# [0.0.1](https://github.com/ory/oathkeeper/compare/072f5e4321ac3a143544cf70da337f0734a86483...v0.0.1) (2017-10-10)\n\ntravis: add goveralls report submission (#2)\n\n### Documentation\n\n- Update readme\n  ([c11056a](https://github.com/ory/oathkeeper/commit/c11056a0714275f21543f2a9a7361e5223c590e8))\n\n### Unclassified\n\n- Add goveralls report submission\n  ([#2](https://github.com/ory/oathkeeper/issues/2))\n  ([13f9f81](https://github.com/ory/oathkeeper/commit/13f9f81becb7efb0dba32c8ca4d6df7e98ba7191))\n- Initial commit\n  ([bff82ab](https://github.com/ory/oathkeeper/commit/bff82ab818f993ea091257c261140f4fb0d51038))\n- Initial commit\n  ([072f5e4](https://github.com/ory/oathkeeper/commit/072f5e4321ac3a143544cf70da337f0734a86483))\n---\nid: changelog\ntitle: Changelog\ncustom_edit_url: null\n---\n\n# [Unreleased](https://github.com/ory/oathkeeper/compare/v0.38.11-beta.1...2ccbb2f2607af39301a6d129c9552a5682cf96fc) (2021-06-22)\n\n\n### Bug Fixes\n\n* Cache introspection pre-auth ([#723](https://github.com/ory/oathkeeper/issues/723)) ([3a9ae1a](https://github.com/ory/oathkeeper/commit/3a9ae1a43a6f157bb7998d2e4ee5b76851c68ec1)), closes [#712](https://github.com/ory/oathkeeper/issues/712)\n* Ensure no vulnerable jwt-go deep dependency is being used ([#745](https://github.com/ory/oathkeeper/issues/745)) ([2ccbb2f](https://github.com/ory/oathkeeper/commit/2ccbb2f2607af39301a6d129c9552a5682cf96fc)), closes [#740](https://github.com/ory/oathkeeper/issues/740)\n\n### Features\n\n* Ability to Configure Remote Authorizers to set Headers in AuthenticationSession ([#717](https://github.com/ory/oathkeeper/issues/717)) ([b3d117b](https://github.com/ory/oathkeeper/commit/b3d117b5d7de02cc1e3ab965328cf6c7995f8a6e)):\n\n    The remote authorizers may have useful context from user's permissions. So with this changes, custom authorizers using remote and remote_json can return some useful headers to be forward into the AuthenticationSession, meaning that these headers will be passed to upstream services.\n    \n    For example, an user containing scopes/branches inside an organization profile has some level of data addressed to him. In this case, the upstream service need to know that, and \"filter\" the data according to his \"branch_id\". The permission that is given to the user (and the remote authorizers manages) has a record of the \"branch_id\", for the following responses will be returned as status code 200 (if granted) and containing a header like X-Branch-Id.\n    \n    The upstream service receives the X-Branch-Id and does your thing.\n    \n    The configuration requires to configure a list of \"allowed headers\" returning from remote authorizer, that will be accepted in the pipeline.\n    \n    \n\n* Add request header in match context ([#719](https://github.com/ory/oathkeeper/issues/719)) ([22b0dbe](https://github.com/ory/oathkeeper/commit/22b0dbe6495b9f57206dc8fb2335e1c81906e27d)), closes [#512](https://github.com/ory/oathkeeper/issues/512)\n* Improved JWT Authorizer JWKs fetching ([#726](https://github.com/ory/oathkeeper/issues/726)) ([5613f65](https://github.com/ory/oathkeeper/commit/5613f650facbb136d6dd7ad7dcf3057f54cb30fc)), closes [#203](https://github.com/ory/oathkeeper/issues/203)\n\n\n# [0.38.11-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.10-beta.2...v0.38.11-beta.1) (2021-05-13)\n\nThis release primarily addresses issues in the SDK build pipeline.\n\n\n\n### Bug Fixes\n\n* Init introspect http client once ([#714](https://github.com/ory/oathkeeper/issues/714)) ([e203ad1](https://github.com/ory/oathkeeper/commit/e203ad14ac0e78909e7d42aa214c47a708a7c136)), closes [#712](https://github.com/ory/oathkeeper/issues/712)\n* Log credentials verifier error details ([#713](https://github.com/ory/oathkeeper/issues/713)) ([766b071](https://github.com/ory/oathkeeper/commit/766b0714dc8aaff010a99b182a6450f21d1795f5)), closes [#467](https://github.com/ory/oathkeeper/issues/467)\n\n### Code Generation\n\n* Pin v0.38.11-beta.1 release commit ([413393f](https://github.com/ory/oathkeeper/commit/413393f8750796ae2b8dd02fb3735d991807ddaa))\n\n### Reverts\n\n* Init introspect http client once ([#714](https://github.com/ory/oathkeeper/issues/714)) ([#722](https://github.com/ory/oathkeeper/issues/722)) ([c58cbd9](https://github.com/ory/oathkeeper/commit/c58cbd9341e58adfdf49fd1e9c0241528917c86c)):\n\n    This reverts commit e203ad14ac0e78909e7d42aa214c47a708a7c136.\n\n\n\n# [0.38.10-beta.2](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1...v0.38.10-beta.2) (2021-05-05)\n\nThis release improves the health status manager, cache management, improves JSON Web Token debuggability, and resolves other issues.\n\n\n\n### Bug Fixes\n\n* Register makefile tasks ([2832a77](https://github.com/ory/oathkeeper/commit/2832a773782047f39680033860c2a8e9558883c0))\n* Resolve makefile issues ([9df3b2a](https://github.com/ory/oathkeeper/commit/9df3b2a7bd4a207bc68e94fde28a720eb7a816b1))\n* Set cost 1 when caching tokens with configurable max cost ([#680](https://github.com/ory/oathkeeper/issues/680)) ([8db0e9d](https://github.com/ory/oathkeeper/commit/8db0e9de60dbc5d1964440bd2ea14ec063b71cab))\n* Update shebangs to use bash from /usr/bin/env instead of /bin/ for better portability ([#694](https://github.com/ory/oathkeeper/issues/694)) ([e522062](https://github.com/ory/oathkeeper/commit/e52206214e5e6b949b785752ee638a80b4775355))\n\n### Code Generation\n\n* Pin v0.38.10-beta.2 release commit ([4b3403b](https://github.com/ory/oathkeeper/commit/4b3403baecaa1c452d95138e929fae0b3d71988d))\n\n### Code Refactoring\n\n* Move api.json ([7dc37fd](https://github.com/ory/oathkeeper/commit/7dc37fd55edfa623bf30e32da1aef6c662779678))\n\n### Documentation\n\n* Add dotnet sdk ([#683](https://github.com/ory/oathkeeper/issues/683)) ([05ae925](https://github.com/ory/oathkeeper/commit/05ae9259414882015f30cc8d5c01e64afb65afbc)):\n\n    * docs: add dotnet sdk\n    \n    * docs: add dotnet sdk versioned\n\n* Change forum to discussions readme ([#690](https://github.com/ory/oathkeeper/issues/690)) ([d942c04](https://github.com/ory/oathkeeper/commit/d942c043aa2370b87e0dd822440ad39d809755f9))\n* Consistent authz headers ([#699](https://github.com/ory/oathkeeper/issues/699)) ([19948e1](https://github.com/ory/oathkeeper/commit/19948e11933f3607a562bcff75e2061b8cb2a527)):\n\n    Removes the \"Authorizer\" prefix from a few of the authorizers to make them all consistent.\n\n* Fix typo ([#696](https://github.com/ory/oathkeeper/issues/696)) ([eda83f1](https://github.com/ory/oathkeeper/commit/eda83f12a58de80ae78aa86e90806f277e8dc1f5))\n* Point to deny authz ([#701](https://github.com/ory/oathkeeper/issues/701)) ([4f01963](https://github.com/ory/oathkeeper/commit/4f01963b33ab0484da69c9f120c69ae9b49c6fdc)), closes [#700](https://github.com/ory/oathkeeper/issues/700)\n\n### Features\n\n* Add health event manager and rules readiness probe ([#674](https://github.com/ory/oathkeeper/issues/674)) ([01d8588](https://github.com/ory/oathkeeper/commit/01d8588d300976e06ef6358e23099259814e3bf7))\n* Add http method into session.MatchContext ([#676](https://github.com/ory/oathkeeper/issues/676)) ([e15a7a5](https://github.com/ory/oathkeeper/commit/e15a7a57846d1c28f7b7ed7b824e6fc318f9344d)), closes [#625](https://github.com/ory/oathkeeper/issues/625)\n* Add support for requesting an audience to the OAuth2 Introspection pr\u2026 ([#678](https://github.com/ory/oathkeeper/issues/678)) ([2405810](https://github.com/ory/oathkeeper/commit/2405810a839b9d3015655ced492097d0f130a06f)), closes [#677](https://github.com/ory/oathkeeper/issues/677)\n* Additional JWT auth debug information ([#681](https://github.com/ory/oathkeeper/issues/681)) ([d08ab50](https://github.com/ory/oathkeeper/commit/d08ab5034b80736701fb38ee1e55d12c63fd06b2)), closes [#668](https://github.com/ory/oathkeeper/issues/668):\n\n    JWT Claims added to error details field. \n\n* Adds audience into Extra at oAuth2 introspection ([#480](https://github.com/ory/oathkeeper/issues/480)) ([c9faecc](https://github.com/ory/oathkeeper/commit/c9faecc5d32800537f07e8e05f9c8872e609c3f9))\n* Global docs sidebar and added cloud pages ([#705](https://github.com/ory/oathkeeper/issues/705)) ([f67241f](https://github.com/ory/oathkeeper/commit/f67241f2ab7063fa9ce8e8ea455de25b51414f30))\n\n\n# [0.38.9-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1.pre.3...v0.38.9-beta.1) (2021-03-17)\n\nThis release adds support for X-Forwarded-Proto, passes tracing contexts to downstream requests, bumps Go to 1.16, and resolves issues preventing the log level from being set to trace level. Additionally included are improvements to the overall tracing set up, a cookie authenticator bugfix, and a bugfix for glob pattern matching.\n\n\n\n### Code Generation\n\n* Pin v0.38.9-beta.1 release commit ([9ad41f0](https://github.com/ory/oathkeeper/commit/9ad41f02c4e6c140afa702743b5880f7fbab5df5))\n\n\n# [0.38.9-beta.1.pre.3](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1.pre.2...v0.38.9-beta.1.pre.3) (2021-03-16)\n\nautogen: pin v0.38.9-beta.1.pre.3 release commit\n\n\n\n### Bug Fixes\n\n* Make glob patterns match only one path segment. ([#664](https://github.com/ory/oathkeeper/issues/664)) ([c711aac](https://github.com/ory/oathkeeper/commit/c711aacc5fc29664e3825e087557e7baf4e47aa8)), closes [#630](https://github.com/ory/oathkeeper/issues/630):\n\n    This makes `/` also a separator as well as the presumably default value of `.`. This allows using <*> for matching only one path segment.\n\n\n### Code Generation\n\n* Pin v0.38.9-beta.1.pre.3 release commit ([7725554](https://github.com/ory/oathkeeper/commit/77255541cafc25fd7adc242aed149837f3fa3141))\n\n\n# [0.38.9-beta.1.pre.2](https://github.com/ory/oathkeeper/compare/v0.38.9-beta.1.pre.1...v0.38.9-beta.1.pre.2) (2021-03-15)\n\nautogen: pin v0.38.9-beta.1.pre.2 release commit\n\n\n\n### Code Generation\n\n* Pin v0.38.9-beta.1.pre.2 release commit ([9695b77](https://github.com/ory/oathkeeper/commit/9695b772bfdfc398e1ccc29731e6e2736fd31cb2))\n\n\n# [0.38.9-beta.1.pre.1](https://github.com/ory/oathkeeper/compare/v0.38.8-beta.1...v0.38.9-beta.1.pre.1) (2021-03-15)\n\nautogen: pin v0.38.9-beta.1.pre.1 release commit\n\n\n\n### Bug Fixes\n\n* Resolve goreleaser issues and bump golang ([7291df9](https://github.com/ory/oathkeeper/commit/7291df9f2745b4dfc178d81b65fc837f58b34206))\n\n### Code Generation\n\n* Pin v0.38.9-beta.1.pre.1 release commit ([7afdc40](https://github.com/ory/oathkeeper/commit/7afdc40144dbd703f0a88531d6093525af54dcc8))\n\n### Unclassified\n\n* Add missing documentation for oauth2_introspection ([#648](https://github.com/ory/oathkeeper/issues/648)) ([34cf38c](https://github.com/ory/oathkeeper/commit/34cf38c0fe431eb375fab4dbfa9cb9098961943d)), closes [#549](https://github.com/ory/oathkeeper/issues/549)\n\n\n# [0.38.8-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.7-beta.1...v0.38.8-beta.1) (2021-02-25)\n\nImproves tracing set up and addresses a bug in the cookie authenticator.\n\n\n\n### Bug Fixes\n\n* Ignore cookie auth when no cookies set ([c84d880](https://github.com/ory/oathkeeper/commit/c84d8808805f124bd31c6d8717f36539652fb4e8))\n\n### Code Generation\n\n* Pin v0.38.8-beta.1 release commit ([2943e9a](https://github.com/ory/oathkeeper/commit/2943e9af887a78191a50426ed069604615ca58e2))\n\n### Unclassified\n\n* Formatting ([546691b](https://github.com/ory/oathkeeper/commit/546691b61f78361eff33b1c2a3c3435fecaf499f))\n* Add tracing to outbound oauth introspection requests ([daf44cb](https://github.com/ory/oathkeeper/commit/daf44cb22961817f6d9aaddd4ffce64bcee50d70))\n\n\n# [0.38.7-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.6-beta.1...v0.38.7-beta.1) (2021-02-22)\n\nThis release adds support for X-Forwarded-Proto, passes context for tracing to downstream requests, bumps Go to 1.16 and resolves issues preventing the log level from being set to trace level.\n\n\n\n### Bug Fixes\n\n* Accept lower and uppercase in bearer token handler ([6e46d4a](https://github.com/ory/oathkeeper/commit/6e46d4a3831ae86beb9b8a5850faf20cb5a759e2))\n* Add support for  X-Forwarded-Proto header ([#638](https://github.com/ory/oathkeeper/issues/638)) ([6eb83fd](https://github.com/ory/oathkeeper/commit/6eb83fd03ed46c388dfe4aaeeaa7c331c9d3685d)), closes [#153](https://github.com/ory/oathkeeper/issues/153)\n* Pass context through to external requests ([#627](https://github.com/ory/oathkeeper/issues/627)) ([ee25197](https://github.com/ory/oathkeeper/commit/ee251976537ade1e06399a3d5b2883620e3407eb)):\n\n    Enables proper tracing through Jaeger etc\n\n* Update goreleaser config ([9689f45](https://github.com/ory/oathkeeper/commit/9689f45db1ec0a974a109a6b28314cddaba2b2de))\n* Update log schema ([78e654d](https://github.com/ory/oathkeeper/commit/78e654df3b81d3ab3f8f946033ee5f1fe45afded))\n\n### Code Generation\n\n* Pin v0.38.7-beta.1 release commit ([3b37928](https://github.com/ory/oathkeeper/commit/3b37928256363ceff294897fd05461d01829314c))\n\n### Features\n\n* Bump to go 1.16 ([e74d4a2](https://github.com/ory/oathkeeper/commit/e74d4a21efeac7aa7b6c7ae8e39daab17ef4f470))\n* Resolve go mod issues ([6a3f5d3](https://github.com/ory/oathkeeper/commit/6a3f5d39c2326a49c694624ff2d35b8e3beccc2e))\n\n\n# [0.38.6-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.5-beta.1...v0.38.6-beta.1) (2021-01-27)\n\nWe are happy to announce Dart and Rust SDKs for Ory Oathkeeper! Additionally, a new `bearer_token` authenticator has been added.\n\n\n\n### Code Generation\n\n* Pin v0.38.6-beta.1 release commit ([a0c4d7f](https://github.com/ory/oathkeeper/commit/a0c4d7fc46151000b4ae9db5a958b94611c9cd58))\n\n### Documentation\n\n* Add Rust and Dart SDKs ([1524fed](https://github.com/ory/oathkeeper/commit/1524fed70b4b5c8d3ca8d23e5ab46bc32f073d53)):\n\n    We now support for Rust and Dart SDKs!\n\n* Fix js npm links ([#634](https://github.com/ory/oathkeeper/issues/634)) ([c339fee](https://github.com/ory/oathkeeper/commit/c339fee771877dbc3e362d4656af53fe492cd58e))\n* Rename index documents ([7de0ac3](https://github.com/ory/oathkeeper/commit/7de0ac34f572d6da56cac482eda364514500a866))\n\n### Features\n\n* Add bearer_token authenticator ([#613](https://github.com/ory/oathkeeper/issues/613)) ([b623ae7](https://github.com/ory/oathkeeper/commit/b623ae7f68aac948f8e584fb9254e43a7272adf6)):\n\n    Adds a new authenticator to work with Kratos' new API token.\n    Works the same as the cookie_session authenticator but checks for a\n    bearer token in the Authorization header (unless overwritten by\n    token_from)\n\n\n\n# [0.38.5-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.4-beta.1...v0.38.5-beta.1) (2020-12-10)\n\nThe ORY Community is proud to present you the next iteration of ORY Oathkeeper. In this release, we focused on improving production stability and resolved several pesky bugs!\n\n\n\n### Bug Fixes\n\n* Check content-length header in lowercase ([#530](https://github.com/ory/oathkeeper/issues/530)) ([a68fc8a](https://github.com/ory/oathkeeper/commit/a68fc8aa3892311960c4e818fa413caf189b9f8d)):\n\n    Issue #422 didn't fix the problem with the requests' Content-Length\n    being copied in the responses because the check was case-sensitive and\n    unit tests didn't cover it.\n\n* Never construct id token claim templates in parallel ([#552](https://github.com/ory/oathkeeper/issues/552)) ([4f504d9](https://github.com/ory/oathkeeper/commit/4f504d9032a5be9ea6f82c723a655a0f9028c45a)), closes [#551](https://github.com/ory/oathkeeper/issues/551)\n* Remove token_type validation from introspection handler ([#556](https://github.com/ory/oathkeeper/issues/556)) ([b18d90a](https://github.com/ory/oathkeeper/commit/b18d90a94f2016b541164cf30654032628e4bc01)), closes [#553](https://github.com/ory/oathkeeper/issues/553)\n* Support windows file paths ([#557](https://github.com/ory/oathkeeper/issues/557)) ([6a05682](https://github.com/ory/oathkeeper/commit/6a05682dca21181db9e052300edf14fb40815bd3)), closes [#514](https://github.com/ory/oathkeeper/issues/514) [#332](https://github.com/ory/oathkeeper/issues/332)\n* Update dd-trace to fix build ([2e571fa](https://github.com/ory/oathkeeper/commit/2e571fa98880b62a174dbcfcdde2bb1a339cc7a3))\n\n### Code Generation\n\n* Pin v0.38.5-beta.1 release commit ([f4a04da](https://github.com/ory/oathkeeper/commit/f4a04dac17a77a0983bd8461a5db8438232aede4))\n\n### Documentation\n\n* Add contributing to sidebar ([#595](https://github.com/ory/oathkeeper/issues/595)) ([a3c9584](https://github.com/ory/oathkeeper/commit/a3c9584e848b3e71b33073c89299bc60c6d0b3ee)):\n\n    The same change as in https://github.com/ory/hydra/pull/2209\n\n* Add newsletter to config ([3c02e22](https://github.com/ory/oathkeeper/commit/3c02e22c398b5a573883b6c1cceb05aff15dcbea))\n* Correct sidebar.json ([#524](https://github.com/ory/oathkeeper/issues/524)) ([34e2077](https://github.com/ory/oathkeeper/commit/34e2077e872dcf7b23129623434a8ff0656da9fc))\n* Fix typo ([393af92](https://github.com/ory/oathkeeper/commit/393af92e06f0d562b7e7a7f40c6ff1caeca9523b))\n* Fix typo in API access rules and improve layout ([#599](https://github.com/ory/oathkeeper/issues/599)) ([6a30ce2](https://github.com/ory/oathkeeper/commit/6a30ce2e0df0101ba7449dbadcc68528337c01fa))\n* Fix typo in pipeline/error.md ([#568](https://github.com/ory/oathkeeper/issues/568)) ([5d04c6b](https://github.com/ory/oathkeeper/commit/5d04c6b30ccc1bbb1407f1f82123aa2e82372c36))\n* Resolve list in main docs ([1c2241c](https://github.com/ory/oathkeeper/commit/1c2241c1cbf615a07b483a3bb51fc3be9a50ae40)), closes [#602](https://github.com/ory/oathkeeper/issues/602)\n* Resolve regression issues ([82008b2](https://github.com/ory/oathkeeper/commit/82008b2a6a60583856c436b1adae2f6d306bf836))\n\n### Features\n\n* Forward original authorization header when using remote (json) authorizer ([#554](https://github.com/ory/oathkeeper/issues/554)) ([f4f781e](https://github.com/ory/oathkeeper/commit/f4f781e5ec998e3656b6cf3c46c83c0faf6527ef)), closes [#528](https://github.com/ory/oathkeeper/issues/528)\n* Use google/go-cloud to fetch rules and credentials from object storage ([#562](https://github.com/ory/oathkeeper/issues/562)) ([666b951](https://github.com/ory/oathkeeper/commit/666b9514ec37acfe2bb90ce62d5ee845853528fd)), closes [#518](https://github.com/ory/oathkeeper/issues/518) [#518](https://github.com/ory/oathkeeper/issues/518)\n\n### Unclassified\n\n* docs. fix typo in list ([335189f](https://github.com/ory/oathkeeper/commit/335189fba1d4c3db841c0cf9c51412adc7bdae01))\n\n\n# [0.38.4-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.3-beta.1...v0.38.4-beta.1) (2020-09-28)\n\nThis release stabilizes several features and resolves a couple of bugs.\n\n\n\n### Bug Fixes\n\n* Add tests in error_redirect_test.go ([#522](https://github.com/ory/oathkeeper/issues/522)) ([24bdd9b](https://github.com/ory/oathkeeper/commit/24bdd9bdc56a46953a393d503ccfd2416cf11bcf)):\n\n    Increased tests coverage to cover for all the three valid scenarios - http absolute, https absolute, relative. Explicitly checked Location path to ensure that correct uri scheme was returned\n\n* Deprecated key in goreleaser config ([2a4f901](https://github.com/ory/oathkeeper/commit/2a4f90127e66917dfaa72f8089efa5149631434d))\n* Ignore x/net false positives ([bc8a32c](https://github.com/ory/oathkeeper/commit/bc8a32c9fcf8cbd9fc6b46b9c8d607745fb05a1e))\n* Misleading HTTP status code for oauth2_client_credentials authenticator ([#504](https://github.com/ory/oathkeeper/issues/504)) ([0f65631](https://github.com/ory/oathkeeper/commit/0f65631af61e6a4098745f0149b0154d5dd7386c)), closes [#496](https://github.com/ory/oathkeeper/issues/496)\n\n### Code Generation\n\n* Pin v0.38.4-beta.1 release commit ([1c997b2](https://github.com/ory/oathkeeper/commit/1c997b281b27db9dcc010b299d2df9e0ef126c9d))\n\n### Documentation\n\n* Fix broken links ([dd3bfbe](https://github.com/ory/oathkeeper/commit/dd3bfbe01ed450ff88a492c041affeaaf17027c9))\n* Fix OAuth2 Introspect Authn Config Documentation ([#498](https://github.com/ory/oathkeeper/issues/498)) ([7612e20](https://github.com/ory/oathkeeper/commit/7612e207e96841aad3dcf5806f5af2cc42024075)):\n\n    Switch the definitions for the pre-authorisation fields 'scope' and 'token endpoint' in the documentation.\n\n* Fix sidebar ([28247fc](https://github.com/ory/oathkeeper/commit/28247fcf53ed5c47879ada62456ab39b29c5752a))\n* Guide for integrating with ORY Hydra ([#497](https://github.com/ory/oathkeeper/issues/497)) ([e1b1751](https://github.com/ory/oathkeeper/commit/e1b175183b8ce9e7d2befae3269d2c5cd959e3e0))\n* Move development section ([582a4d0](https://github.com/ory/oathkeeper/commit/582a4d0e880649cc64aa647b2c35e432b3f234e2))\n* Move to json sidebar ([b67230d](https://github.com/ory/oathkeeper/commit/b67230d038ef0b101c6362ab3e1c34a6924cfc96))\n* Remove duplicate template ([01550b4](https://github.com/ory/oathkeeper/commit/01550b4e28b45b4deb1c1a3f685a1962f7633833))\n* Update repository templates ([2aaf766](https://github.com/ory/oathkeeper/commit/2aaf766444cb9ae9b794c9638553a32931276a39))\n* Update repository templates ([#506](https://github.com/ory/oathkeeper/issues/506)) ([cb53d79](https://github.com/ory/oathkeeper/commit/cb53d79f4ee36266ed7d2c5a1de6147884cbb3cf))\n\n### Features\n\n* Add and automate version schema ([7ab4012](https://github.com/ory/oathkeeper/commit/7ab40128352eb4e6639fe4828da7bdd3690e327e))\n* Add url_param config option to redirect error handler. ([#520](https://github.com/ory/oathkeeper/issues/520)) ([b5bb3bc](https://github.com/ory/oathkeeper/commit/b5bb3bc6b88ea8b26d53f03477fce1b74f113b97)), closes [#511](https://github.com/ory/oathkeeper/issues/511):\n\n    This change introduces a url_param config option for redirect error handler.\n    If it contains a url paramter name, the redirect url will have this parameter\n    set, containing the current url (from which Oathkeeper has redirected the user).\n    \n    This can be useful in passing the return_to url to Kratos, so user can be\n    redirected to the page they initially wanted to access after a successfull sign in.\n\n* Log invalid credentials on info level instead of error/warning ([#517](https://github.com/ory/oathkeeper/issues/517)) ([a372b5f](https://github.com/ory/oathkeeper/commit/a372b5f833305ad85451cfb99b1db9e10ae8b8dc)), closes [#505](https://github.com/ory/oathkeeper/issues/505)\n* Use uri-reference for errors redirect to allow relative urls ([#516](https://github.com/ory/oathkeeper/issues/516)) ([0d39674](https://github.com/ory/oathkeeper/commit/0d3967409786c23de8e97f5c588cc4e9837a1550))\n\n### Unclassified\n\n* Run go format ([2c25a2a](https://github.com/ory/oathkeeper/commit/2c25a2ad18bba7bf72e612b2005f1080e164d0d9))\n\n\n# [0.38.3-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.2-beta.1...v0.38.3-beta.1) (2020-07-29)\n\nThis release addresses several configuration bugs and resolves a potential panic.\n\n\n\n### Bug Fixes\n\n* Matcher.Match panic on nil *url.URL ([#485](https://github.com/ory/oathkeeper/issues/485)) ([ab27dda](https://github.com/ory/oathkeeper/commit/ab27dda253d7c3f8bb9fae45c1f50e86e24e193c)), closes [#484](https://github.com/ory/oathkeeper/issues/484)\n* Remove HTTP method restrictions ([#472](https://github.com/ory/oathkeeper/issues/472)) ([bf8a888](https://github.com/ory/oathkeeper/commit/bf8a88884fa575c6ed397c92598c7436461028c6))\n* Resolve build issues and bump herodot ([f15e38d](https://github.com/ory/oathkeeper/commit/f15e38dc533010babd21aeaa91d48dd4abbbdddc))\n* Use ory-dev instead of swagutil ([#465](https://github.com/ory/oathkeeper/issues/465)) ([3fce382](https://github.com/ory/oathkeeper/commit/3fce382e83c95049b561a97365d0b4cc2f73bc54))\n\n### Code Generation\n\n* Pin v0.38.3-beta.1 release commit ([1f754a9](https://github.com/ory/oathkeeper/commit/1f754a90d50c66545ce326ff1780894f4b2cbcfe))\n\n### Documentation\n\n* Delete old redirect homepage ([a1a4610](https://github.com/ory/oathkeeper/commit/a1a4610194558f1024d2409c6f1975b72a0f856e))\n* Fix access rule example ([739f179](https://github.com/ory/oathkeeper/commit/739f179ca2ca9d8ca42ca1995b3febac322bbeb2))\n* Fix api access rule example ([#460](https://github.com/ory/oathkeeper/issues/460)) ([c75cd97](https://github.com/ory/oathkeeper/commit/c75cd978899b719edbd8ad80f7c7a48aded20252))\n* Update repository templates ([edffc2e](https://github.com/ory/oathkeeper/commit/edffc2ee354ae4ec26e19e728b9f3117a0ec879c))\n* Update repository templates ([7af8749](https://github.com/ory/oathkeeper/commit/7af8749e949c48f5750950def62290f2694e1b09))\n* Use central banner repo for README ([04fe00c](https://github.com/ory/oathkeeper/commit/04fe00c0cd92c717ea2dc4149450f07206306f51))\n* Use mdx for api reference ([368f073](https://github.com/ory/oathkeeper/commit/368f073a2d91b4fc9677436bcec63c6f339b0c93))\n\n### Features\n\n* Improve configurability of prometheus metrics ([#450](https://github.com/ory/oathkeeper/issues/450)) ([ddcb226](https://github.com/ory/oathkeeper/commit/ddcb2262e6edc417c69bf2d713fa67f235481d32)), closes [#446](https://github.com/ory/oathkeeper/issues/446)\n* Pass query parameters to the hydrators ([#479](https://github.com/ory/oathkeeper/issues/479)) ([48603a1](https://github.com/ory/oathkeeper/commit/48603a1ac484b6571706021f2667f770604256b6))\n\n\n# [0.38.2-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.1-beta.1...v0.38.2-beta.1) (2020-05-25)\n\nThis patch makes timeouts configurable for oauth2_client_credentials and the reverse proxy and additionally allows prometheus to be configured.\n\n\n\n### Bug Fixes\n\n* Move prometheus validation stanza to local schema ([#437](https://github.com/ory/oathkeeper/issues/437)) ([dcf3e14](https://github.com/ory/oathkeeper/commit/dcf3e14f2b4e09deb40260303061f27bcb55503c)), closes [#438](https://github.com/ory/oathkeeper/issues/438)\n\n### Chores\n\n* Pin v0.38.2-beta.1 release commit ([0de2682](https://github.com/ory/oathkeeper/commit/0de2682a1e0d556688c48db52ccc4e24f2bce336))\n\n### Documentation\n\n* Update github templates ([#434](https://github.com/ory/oathkeeper/issues/434)) ([37d34a3](https://github.com/ory/oathkeeper/commit/37d34a3a4f728a5ba39cef6118cd7e9f5e78bcd2))\n\n### Features\n\n* Add configurable timeouts to API server ([#440](https://github.com/ory/oathkeeper/issues/440)) ([0dc6292](https://github.com/ory/oathkeeper/commit/0dc6292eb4784505be5100c6b20ade6235e277ac))\n* Timeout config for oauth2_client_credentials ([#443](https://github.com/ory/oathkeeper/issues/443)) ([2462fa3](https://github.com/ory/oathkeeper/commit/2462fa3f97601009aff9b45c7c288d7a1afdec45)), closes [#442](https://github.com/ory/oathkeeper/issues/442)\n\n\n# [0.38.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.38.0-beta.2...v0.38.1-beta.1) (2020-05-08)\n\nCaching in the hydrator mutator has been improved. Please use `cache.enable=true` if you intend using the hydrator.\n\n\n\n### Bug Fixes\n\n* Improve caching strategy and config for hydrator ([#433](https://github.com/ory/oathkeeper/issues/433)) ([0047054](https://github.com/ory/oathkeeper/commit/00470541fb3d5d2672ef068c9e02c20deaac3d0d)):\n\n    To enable the hydrator cache you must now use the `cache.enabled` property. Also, the cache key strategy has been improved.\n\n\n### Chores\n\n* Pin v0.38.1-beta.1 release commit ([20f439d](https://github.com/ory/oathkeeper/commit/20f439d9df7eed3a7c8c163234b70c9260439613))\n\n\n# [0.38.0-beta.2](https://github.com/ory/oathkeeper/compare/v0.37.1-beta.1...v0.38.0-beta.2) (2020-05-07)\n\nThis release introduces Prometheus support, a new `remote` authorizer, caching, and several bugfixes!\n\nNo backwards incompatible changes have been introduced.\n\n\n\n### Bug Fixes\n\n* Add old schemas to resolve issues with old versions ([b94c391](https://github.com/ory/oathkeeper/commit/b94c391446a694971fa54a53eb08f9d57ad5eb24)), closes [#400](https://github.com/ory/oathkeeper/issues/400)\n* Don't copy the decision endpoint request's Content-Length ([#422](https://github.com/ory/oathkeeper/issues/422)) ([0e99045](https://github.com/ory/oathkeeper/commit/0e990459104c7683764f4ed0e0a6b7162b57cd57)):\n\n    We currently copy all original request headers send to the decission\n    endpoint back. This can include the Content-Length header which\n    describes the request body or response. Including the original\n    request Content-Length causes issues for the decission endpoint\n    client if the response body doesn't match the exact size.\n    \n    This change makes sure the Content-Length doesn't get included in\n    the response body and adds a test to prevent future regressions.\n\n* Respect retry in token introspection ([#410](https://github.com/ory/oathkeeper/issues/410)) ([88f7b69](https://github.com/ory/oathkeeper/commit/88f7b69c9ff252ddc3dbe960155883ec98115fd0))\n* Update install.sh script ([#429](https://github.com/ory/oathkeeper/issues/429)) ([2d2eded](https://github.com/ory/oathkeeper/commit/2d2eded4075c2649e449d80dbb871b0da739a9ac))\n* Use pipe to pass body remote authorizer ([#426](https://github.com/ory/oathkeeper/issues/426)) ([1a44087](https://github.com/ory/oathkeeper/commit/1a44087f424d8a01437769c6bce177eab36c195f)):\n\n    Resolves flaky tests.\n\n* Use semver-regex replacer func ([a13cdf5](https://github.com/ory/oathkeeper/commit/a13cdf5d9a518e3095545e30d15c7c4b7859752b))\n\n### Chores\n\n* Pin v0.38.0-beta.2 release commit ([73d36cd](https://github.com/ory/oathkeeper/commit/73d36cd367c1c93d4b6e93be180c982789924356))\n\n### Code Refactoring\n\n* Move docs to this repository ([#396](https://github.com/ory/oathkeeper/issues/396)) ([11cb851](https://github.com/ory/oathkeeper/commit/11cb851a7cc42120c2d890fbeefcba55d6ff0e5a))\n\n### Documentation\n\n* Add `authentication_handler_no_match` to error example ([ad182f4](https://github.com/ory/oathkeeper/commit/ad182f4af9723aff79c227431045444140c24f25))\n* Add missing import ([b76ee9c](https://github.com/ory/oathkeeper/commit/b76ee9c8b6cb07adf7b9cdd421712dfdcb5f8340))\n* Regenerate and update changelog ([7121f65](https://github.com/ory/oathkeeper/commit/7121f6514a0ba0d61831792972ed833117911551))\n* Regenerate and update changelog ([6fd7d66](https://github.com/ory/oathkeeper/commit/6fd7d667e3c7738bc7a4ab82c490a6d7343e85bd))\n* Regenerate and update changelog ([531200c](https://github.com/ory/oathkeeper/commit/531200cecae0bb8853ff9d5d557cb9176137545b))\n* Regenerate and update changelog ([cf8ad0c](https://github.com/ory/oathkeeper/commit/cf8ad0c635042de54590030387220c1a16b9268c))\n* Update github templates ([#407](https://github.com/ory/oathkeeper/issues/407)) ([9979d77](https://github.com/ory/oathkeeper/commit/9979d77d7eda95a2438f3f5cc9b85d3d0aa2857c))\n* Update github templates ([#409](https://github.com/ory/oathkeeper/issues/409)) ([f92a029](https://github.com/ory/oathkeeper/commit/f92a0294d8d365fddbb67caa0367daa78f7b25e9))\n* Update github templates ([#412](https://github.com/ory/oathkeeper/issues/412)) ([884c113](https://github.com/ory/oathkeeper/commit/884c113f2bb8698a2d24399d048faf5018846e54))\n* Update github templates ([#413](https://github.com/ory/oathkeeper/issues/413)) ([6d7cba7](https://github.com/ory/oathkeeper/commit/6d7cba76e893d51db71687b2981837a333d71666))\n* Update github templates ([#413](https://github.com/ory/oathkeeper/issues/413)) ([d692fbf](https://github.com/ory/oathkeeper/commit/d692fbfb9bcba77c32a94b530e82fbd5e2b61856))\n* Update linux install guide ([#414](https://github.com/ory/oathkeeper/issues/414)) ([a0e2cc0](https://github.com/ory/oathkeeper/commit/a0e2cc0ea324d908a8741df75e3259e30a302dbb))\n* Updates issue and pull request templates ([#392](https://github.com/ory/oathkeeper/issues/392)) ([3724ebc](https://github.com/ory/oathkeeper/commit/3724ebc63a85050525d86d81a70eeadccac72c1a))\n* Updates issue and pull request templates ([#393](https://github.com/ory/oathkeeper/issues/393)) ([a4ade5c](https://github.com/ory/oathkeeper/commit/a4ade5ca29a9ce24a3ffb6c9705c4723e67f9619))\n* Updates issue and pull request templates ([#394](https://github.com/ory/oathkeeper/issues/394)) ([0ef037a](https://github.com/ory/oathkeeper/commit/0ef037abcec226039eb1a69dfc442df53d430ce1))\n* Updates issue and pull request templates ([#395](https://github.com/ory/oathkeeper/issues/395)) ([ecab261](https://github.com/ory/oathkeeper/commit/ecab26119e32fa7c6947a7da17f2095292d02f2d))\n* Use correct headline for cc handler ([#420](https://github.com/ory/oathkeeper/issues/420)) ([1401610](https://github.com/ory/oathkeeper/commit/1401610dffc7bef5823199059a4d9fc25cbde264))\n\n### Features\n\n* Add cache to hydrator ([#418](https://github.com/ory/oathkeeper/issues/418)) ([1ae6e7a](https://github.com/ory/oathkeeper/commit/1ae6e7a958d602533f54cada5d231bcf1bace093)), closes [#417](https://github.com/ory/oathkeeper/issues/417):\n\n    This patch introduces new configuration parameters that allow the hydrator mutator to cache requests.\n\n* Add new remote authorizer that uses request body and headers ([#416](https://github.com/ory/oathkeeper/issues/416)) ([3a20637](https://github.com/ory/oathkeeper/commit/3a206376c0ec4d72d5d6ec66c2d738199a24e0c6)):\n\n    This pull request implements a new authorizer that sends the original request body as body to the remote endpoint. This allows the remote endpoint to take the body into account in its decision.\n    \n    The current remote_json authorizer does not have the ability to send\n    the request body of the request to authorize. This means this cannot\n    be taken into account while checking permissions.\n    \n    Providing the request body as part of the JSON payload won't always\n    work as JSON cannot handle binary data.\n\n* Add prometheus docs ([#427](https://github.com/ory/oathkeeper/issues/427)) ([117ee6a](https://github.com/ory/oathkeeper/commit/117ee6a4c53035651f41a5bb4a9afe3c8b0c7438))\n* Add prometheus endpoint providing basic request metrics ([#404](https://github.com/ory/oathkeeper/issues/404)) ([fdaed46](https://github.com/ory/oathkeeper/commit/fdaed46bcffbbdf593e94bc1784df88809e63fcd)):\n\n    This patch adds basic prometheus metrics. The prometheus metrics are exposed at the default prometheus exporter port 9000 and is configurable with:\n    \n    ```\n     serve:\n       prometheus:\n         port: 9000\n         host: localhost\n         metrics_path: /metrics\n    ```\n\n* Oauth2_introspect cache introspection results ([#424](https://github.com/ory/oathkeeper/issues/424)) ([d4557ae](https://github.com/ory/oathkeeper/commit/d4557aeac69e84d36dfc2a1ab97c61188c93457f)), closes [#293](https://github.com/ory/oathkeeper/issues/293)\n\n\n# [0.37.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.37.0-beta.1...v0.37.1-beta.1) (2020-04-03)\n\nchore: replace segment with ory fork (#391)\n\n\n\n\n### Chores\n\n* Replace segment with ory fork ([#391](https://github.com/ory/oathkeeper/issues/391)) ([77d0b48](https://github.com/ory/oathkeeper/commit/77d0b48c8de5b4681f49f90e306e5b2324ac0d5d))\n\n### Documentation\n\n* Regenerate and update changelog ([4e251e9](https://github.com/ory/oathkeeper/commit/4e251e904a4028a01687b0155108cc9c315e6941))\n\n\n# [0.37.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.36.0-beta.4...v0.37.0-beta.1) (2020-04-02)\n\ndocs: document v0.36 and v0.37\n## Breaking Changes\n\nThis feature allows to use the regex capture groups from the URL matcher to be used in several places, including the ID Token generator and elsewhere. To get this working, existing `keto_engine_acp_ory` authorizers are no longer able to use regex substition in the form of `my:action:$1` but instead must use the new format which is `{{ printIndex .MatchContext.RegexpCaptureGroups 0}}` (notice that the index changed by *-1*). A rule migrator exists which makes old rules compatible with the new format, if a version string is given. More details on the rule migration can be found here: https://github.com/ory/oathkeeper/pull/358/commits/fd16ceb230a1b14ebb01a147d2d70acce77f9fbd#diff-6177fb19f1b7d7bc392f5062b838df15\n\n### Bug Fixes\n\n* Add rule id to malformed configuration log error ([#386](https://github.com/ory/oathkeeper/issues/386)) ([7688a8d](https://github.com/ory/oathkeeper/commit/7688a8dc4dc0ebd5bd173d77bc7cd8cacc8e50e2))\n* Disable test that fails with low cache hit rate ([#372](https://github.com/ory/oathkeeper/issues/372)) ([5414dda](https://github.com/ory/oathkeeper/commit/5414ddadb0b210d3a90b69183449ba7d5723ba6c)), closes [#371](https://github.com/ory/oathkeeper/issues/371)\n* Improve id_token performance with caching ([#367](https://github.com/ory/oathkeeper/issues/367)) ([47e9fee](https://github.com/ory/oathkeeper/commit/47e9feefcea2d3508932ef3b323709b0bfa0d707)), closes [#364](https://github.com/ory/oathkeeper/issues/364)\n* Load config file only in serve command ([#365](https://github.com/ory/oathkeeper/issues/365)) ([68c8546](https://github.com/ory/oathkeeper/commit/68c85469b4523e5accf3de8e97b97b87416875d3))\n* Replace segment with our own sqa endpoint ([#385](https://github.com/ory/oathkeeper/issues/385)) ([8f63eda](https://github.com/ory/oathkeeper/commit/8f63eda6370fb389307cd8b313437292965a2107))\n* SendOAuth2 introspection scope only when strategy is none ([#379](https://github.com/ory/oathkeeper/issues/379)) ([5e0c8dc](https://github.com/ory/oathkeeper/commit/5e0c8dcdc4a64662f59372a488ec633bcdbc0d85)), closes [#377](https://github.com/ory/oathkeeper/issues/377):\n\n    This patch removes the `scope` key from the OAuth2 Introspection request body when a scope strategy other than `none` is set for the OAuth2 Introspection handler. If the scope strategy is `none`, the `scope` key is included in the body.\n\n* Token expiration error in tests ([#390](https://github.com/ory/oathkeeper/issues/390)) ([9c07a73](https://github.com/ory/oathkeeper/commit/9c07a7349cdf560c0ba29a637aaec93021757d27))\n* **docker:** Improve docker-compose example ([#325](https://github.com/ory/oathkeeper/issues/325)) ([1247381](https://github.com/ory/oathkeeper/commit/12473815dad3fcbc57ea102dd982170960adb9f6)), closes [#324](https://github.com/ory/oathkeeper/issues/324):\n\n    Add a new file 'Dockerfile-dc' which will primarily be used by Docker Compose to\n    build docker images. Unlike the existing Dockerfile which depends on the Makefile\n    to build the binary, this Dockerfile copies the source code and builds the\n    binary.\n    \n    Oathkeeper has gone through a couple of changes since the initial draft of the\n    docker compose file, considering these changes and the newly introduced\n    Dockerfile in the previous commit, make these changes to the docker-compose.yml:\n    1. Bump the version of the compose file to 3.\n    2. Remove the need for the postgres database app, since Oathkeeper no longer needs a\n    database.\n    3. Remove the need for the migration app, since we no longer need to migrate since\n    there is no database and the option is deprecated.\n    4. Use the newly defined Dockerfile 'Dockerfile-dc'.\n    5. We now serve both API and PROXY from the same app, so we don't need two\n    instances of the app.\n    6. Add sample config, rules and JWK files to `.docker_compose`, mount this via a\n    volume mount.\n\n\n### Documentation\n\n* Change link to Developer Install Guide ([#369](https://github.com/ory/oathkeeper/issues/369)) ([f7fe46f](https://github.com/ory/oathkeeper/commit/f7fe46f9e183c53b5af71592c05cacf6b7584a2c)):\n\n    Changing the link to the Developer Documentation - it was pointing to Keto and not to Oathkeeper.\n\n* Document v0.36 and v0.37 ([a176c73](https://github.com/ory/oathkeeper/commit/a176c7301baddbec572e3451830ee1f32dc55c75))\n* Fix examples for some JSON Schema config keys ([#363](https://github.com/ory/oathkeeper/issues/363)) ([aeeb353](https://github.com/ory/oathkeeper/commit/aeeb35399588422ea25780406f1726cad5082315))\n* Regenerate and update changelog ([9417e2c](https://github.com/ory/oathkeeper/commit/9417e2c213a5e9394d88638dc24e36dc2d9b3387))\n* Regenerate and update changelog ([b817037](https://github.com/ory/oathkeeper/commit/b817037fea1131e20fbd829927af00f2a27b951d))\n* Regenerate and update changelog ([33a5524](https://github.com/ory/oathkeeper/commit/33a55240803c6615e8550de371b60d040ae9f2fe))\n* Regenerate and update changelog ([888b7a6](https://github.com/ory/oathkeeper/commit/888b7a6f2255a2e1457fc88712ad4d80b87000ba))\n* Regenerate and update changelog ([36faa3b](https://github.com/ory/oathkeeper/commit/36faa3bbc4a0befd59a61c25664b184fa07baaeb))\n* Regenerate and update changelog ([32b6059](https://github.com/ory/oathkeeper/commit/32b605921b88e163299e47847099ab985e3cbfcd))\n* Regenerate and update changelog ([ba4de09](https://github.com/ory/oathkeeper/commit/ba4de09211f249b6a719308ec5b1ea803642aa20))\n* Regenerate and update changelog ([a76f749](https://github.com/ory/oathkeeper/commit/a76f749dfe5c6ad988da6ba0b2ac4be5a22b0f9d))\n* Regenerate and update changelog ([1789d00](https://github.com/ory/oathkeeper/commit/1789d003699c7140e29b1a1a967f6ccd3b1e6916))\n* Regenerate and update changelog ([0dfc608](https://github.com/ory/oathkeeper/commit/0dfc6081c1da853477737a3ec41a9ac8e51faebc))\n* Regenerate and update changelog ([b23c79a](https://github.com/ory/oathkeeper/commit/b23c79ac318bd394eaf3c48f8d3e6c157a234df9))\n* Regenerate and update changelog ([2117171](https://github.com/ory/oathkeeper/commit/2117171a17b345fb62f9234d3a5443728dca5315))\n* Regenerate and update changelog ([38c9e19](https://github.com/ory/oathkeeper/commit/38c9e19a4b5fe708c60fc694e6ca526d201872eb))\n* Regenerate and update changelog ([e3eda75](https://github.com/ory/oathkeeper/commit/e3eda753c3696345f030c4311b66f29296e4183c))\n* Regenerate and update changelog ([e7d70f7](https://github.com/ory/oathkeeper/commit/e7d70f71bd1d803f4b1e58149875becb8abfa9ad))\n* Regenerate and update changelog ([874b7a9](https://github.com/ory/oathkeeper/commit/874b7a9cb03d28cc40a8f7e242158414075f0961))\n* Regenerate and update changelog ([6b1d94b](https://github.com/ory/oathkeeper/commit/6b1d94b7c3eeae9c69154b85ecdcff7759fd98a9))\n* Regenerate and update changelog ([cb38415](https://github.com/ory/oathkeeper/commit/cb384152a82830f14768d2e0ec30cc8f65c8583c))\n* Regenerate and update changelog ([bec6af0](https://github.com/ory/oathkeeper/commit/bec6af0a9b78a880296fce59eb150ac21ee3d13b))\n* Update forum and chat links ([d9eed10](https://github.com/ory/oathkeeper/commit/d9eed10abd43eb41362fcc0f36e47a6f88658835))\n* Update README.md ([#375](https://github.com/ory/oathkeeper/issues/375)) ([313d2fe](https://github.com/ory/oathkeeper/commit/313d2fe99f699c441e6f8e24abb096e239a17f83)), closes [#374](https://github.com/ory/oathkeeper/issues/374):\n\n    Fixed link to Envoy configuration page and added link to AWS API Gateway.\n\n* Updates issue and pull request templates ([#382](https://github.com/ory/oathkeeper/issues/382)) ([484c406](https://github.com/ory/oathkeeper/commit/484c406785c2633feee3cb9179a94147085cadd6))\n\n### Features\n\n* **authz:** Add remote_json authorizer ([#389](https://github.com/ory/oathkeeper/issues/389)) ([45b9f8b](https://github.com/ory/oathkeeper/commit/45b9f8b981f0227a92ff5c4001061e86afc0701f)), closes [/github.com/ory/docs/commit/07a229701835d75e9c2e4b939badb2d5b96ae6aa#diff-c400219db6c7e4b6abab71839d9d294eR272](https://github.com//github.com/ory/docs/commit/07a229701835d75e9c2e4b939badb2d5b96ae6aa/issues/diff-c400219db6c7e4b6abab71839d9d294eR272) [#201](https://github.com/ory/oathkeeper/issues/201)\n* Add MatchContext in the AuthenticationSession ([#358](https://github.com/ory/oathkeeper/issues/358)) ([a421293](https://github.com/ory/oathkeeper/commit/a421293a05afaca2ac3695940bc72b4b9f7a1b68))\n* Enable OpenTracing ([#376](https://github.com/ory/oathkeeper/issues/376)) ([cb0f3f2](https://github.com/ory/oathkeeper/commit/cb0f3f23bbf32f04855eff497c36553fc30c7364))\n* **authn:** Make oauth2_intsropsection configurable timeout ([#370](https://github.com/ory/oathkeeper/issues/370)) ([0a39511](https://github.com/ory/oathkeeper/commit/0a395115123e34be0dbb47608a96dad2dca5e60c))\n\n\n# [0.36.0-beta.4](https://github.com/ory/oathkeeper/compare/v0.36.0-beta.3...v0.36.0-beta.4) (2020-02-14)\n\ndocs: Regenerate and update changelog\n\n\n\n### Bug Fixes\n\n* **goreleaser:** Update brew section ([46fb3da](https://github.com/ory/oathkeeper/commit/46fb3da4fc4ba78b109ba740fb6bb8309a8be0f5))\n\n### Documentation\n\n* Regenerate and update changelog ([95a7c09](https://github.com/ory/oathkeeper/commit/95a7c091165b8a9acebedb197208fadc04585d4a))\n\n\n# [0.36.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.5-beta.2...v0.36.0-beta.1) (2020-02-05)\n\ndocs: Regenerate and update changelog\n\n\n\n### Documentation\n\n* Prepare ecosystem automation ([81ea56b](https://github.com/ory/oathkeeper/commit/81ea56b46da543c02c5977b27ec3671b5bcc4abe))\n* Regenerate and update changelog ([b71e48c](https://github.com/ory/oathkeeper/commit/b71e48c473bd428286473f8d8472f74187377eb2))\n* Regenerate and update changelog ([4f22e42](https://github.com/ory/oathkeeper/commit/4f22e42e1577c92b8005887dfc1a2dc48a5d392d))\n* Regenerate and update changelog ([23e053f](https://github.com/ory/oathkeeper/commit/23e053fb289e663ae00bdbf9201c2ad1a245226b))\n* Updates issue and pull request templates ([#355](https://github.com/ory/oathkeeper/issues/355)) ([f9251ed](https://github.com/ory/oathkeeper/commit/f9251edeb0d3e482acf278040f95c3f49db5a100))\n\n### Features\n\n* **ci:** Add nancy vuln scanner ([#354](https://github.com/ory/oathkeeper/issues/354)) ([de36e40](https://github.com/ory/oathkeeper/commit/de36e401134f09762d5815e3fe37d9cb16dd8d81))\n* **rule:** Add glob matching strategy ([#334](https://github.com/ory/oathkeeper/issues/334)) ([5f983ab](https://github.com/ory/oathkeeper/commit/5f983ab118ce784a49a38e6024b99b8791907d4b)), closes [#321](https://github.com/ory/oathkeeper/issues/321):\n\n    This patch adds the ability to choose a matching strategy and adds a glob-based matching strategy to the available options (regex is still the default).\n\n\n### Unclassified\n\n* Update CHANGELOG [ci skip] ([8278b9d](https://github.com/ory/oathkeeper/commit/8278b9db8a43c57d4169e232cb9f25ef9257dd8c))\n* Update CHANGELOG [ci skip] ([17f78b7](https://github.com/ory/oathkeeper/commit/17f78b7cdf739f66de3de66199c00e82ff974826))\n* Update CHANGELOG [ci skip] ([d6f6925](https://github.com/ory/oathkeeper/commit/d6f69257b86e249c70a2e808524d43da11315a59))\n* Update CHANGELOG [ci skip] ([0e109ce](https://github.com/ory/oathkeeper/commit/0e109cee1222e8277157807d14f8b9ae7c1120d9))\n\n\n# [0.35.5-beta.2](https://github.com/ory/oathkeeper/compare/v0.35.5-beta.1...v0.35.5-beta.2) (2020-01-31)\n\nUpdate README.md\n\n\n### Unclassified\n\n* Update README.md ([a40c613](https://github.com/ory/oathkeeper/commit/a40c613582add4742e245516f5b4fdef31be7cb0))\n* Update CHANGELOG [ci skip] ([963d60d](https://github.com/ory/oathkeeper/commit/963d60d802a56b87390bfdb10632b7e5754398aa))\n\n\n# [0.35.5-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.4-beta.1...v0.35.5-beta.1) (2020-01-27)\n\nHash enabled check to further improve performance (#353)\n\n\n\n\n### Unclassified\n\n* Hash enabled check to further improve performance (#353) ([19099cb](https://github.com/ory/oathkeeper/commit/19099cb86ea236ef503c1274393dd17fd11041ae)), closes [#353](https://github.com/ory/oathkeeper/issues/353)\n* Update CHANGELOG [ci skip] ([6afdeae](https://github.com/ory/oathkeeper/commit/6afdeae82260db0905f2e14a36ff23da59bdb29f))\n* Update CHANGELOG [ci skip] ([3226ae6](https://github.com/ory/oathkeeper/commit/3226ae6d69837ae64d357e92236153c32c19e2cf))\n\n\n# [0.35.4-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.3-beta.1...v0.35.4-beta.1) (2020-01-26)\n\nUpdate release pipeline and tests (#351)\n\n\n\n\n### Unclassified\n\n* Update release pipeline and tests (#351) ([c7d81a9](https://github.com/ory/oathkeeper/commit/c7d81a99243a2adb1387ada12550303c76ae9768)), closes [#351](https://github.com/ory/oathkeeper/issues/351)\n\n\n# [0.35.3-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.1-beta.1...v0.35.3-beta.1) (2020-01-26)\n\nUpdate CHANGELOG [ci skip]\n\n\n\n### Documentation\n\n* Updates issue and pull request templates ([#341](https://github.com/ory/oathkeeper/issues/341)) ([eca2652](https://github.com/ory/oathkeeper/commit/eca26527f64cb80b8df2df96910a33f993d9af37))\n\n### Unclassified\n\n* Update CHANGELOG [ci skip] ([518b765](https://github.com/ory/oathkeeper/commit/518b76578519786921ef0d209f3f83dcfd6f217b))\n* Update SDK ([5e619a0](https://github.com/ory/oathkeeper/commit/5e619a03687cbfe71b559d8945062a3fa4a5e4f3))\n* Cache pipeline config and improve request latency ([#348](https://github.com/ory/oathkeeper/issues/348)) ([95673ed](https://github.com/ory/oathkeeper/commit/95673eddf02968250359067a3fe887adb46c2be6)), closes [#346](https://github.com/ory/oathkeeper/issues/346)\n* Update CHANGELOG [ci skip] ([495adcf](https://github.com/ory/oathkeeper/commit/495adcf2af7c2f161c9845cb358ef33f9afb42f3))\n* Use integer instead of number in config JSON schema ([280b42f](https://github.com/ory/oathkeeper/commit/280b42fdedc0305b40398a2a213848d64d52e6c0))\n* Update CHANGELOG [ci skip] ([b72965f](https://github.com/ory/oathkeeper/commit/b72965fce04941733f45277777349cfad6f41062))\n* Update SDK ([aedabd9](https://github.com/ory/oathkeeper/commit/aedabd9834bb3a316b211f82cc4d9d9f90ab3bd6))\n* Set min/max for port range in config JSON Schema (#345) ([d7d696f](https://github.com/ory/oathkeeper/commit/d7d696f62e91cf9d0300a1af8e2fd70676164ec6)), closes [#345](https://github.com/ory/oathkeeper/issues/345)\n* Update CHANGELOG [ci skip] ([8e4d58c](https://github.com/ory/oathkeeper/commit/8e4d58ce809dd10e98a3ad3530cdd81b24a967f0))\n* Fix profiling env variable not being picked up (#343) ([29b0cf1](https://github.com/ory/oathkeeper/commit/29b0cf14de575434ce94def5e6031b76e28042de)), closes [#343](https://github.com/ory/oathkeeper/issues/343)\n* Update CHANGELOG [ci skip] ([e7a5d89](https://github.com/ory/oathkeeper/commit/e7a5d8928d9ef4def4bf53063c24b27d07e08946))\n* Update CHANGELOG [ci skip] ([abc00d4](https://github.com/ory/oathkeeper/commit/abc00d46ec26debe6983f11e3a013865c969e6e6))\n* Update SDK ([a237c29](https://github.com/ory/oathkeeper/commit/a237c2975efc34fc63a2fdb302b1086d072d2146))\n* Update broken links in README ([78e498c](https://github.com/ory/oathkeeper/commit/78e498c0eb24380671364d333447abd0f25de1e8))\n\n\n# [0.35.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.0-beta.1...v0.35.1-beta.1) (2020-01-14)\n\nUpdate CHANGELOG [ci skip]\n\n\n\n### Unclassified\n\n* Update CHANGELOG [ci skip] ([63b0076](https://github.com/ory/oathkeeper/commit/63b0076a264537ffd22f6f787c508598306c8661))\n\n\n# [0.35.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.35.0-alpha.1...v0.35.0-beta.1) (2020-01-13)\n\nUpdate CHANGELOG [ci skip]\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.34.0-beta.1 [ci skip] ([a8a62b4](https://github.com/ory/oathkeeper/commit/a8a62b4b4ba2d6fe2cb319ccbff4ed8634086238))\n* Incorporates changes from version v0.34.0-beta.1-2-g7516eed [ci skip] ([eb82132](https://github.com/ory/oathkeeper/commit/eb82132ac36413d9ef151a3d6958f3baa6324a7d))\n* Incorporates changes from version v0.34.0-beta.1-4-gee2b9e7 [ci skip] ([d084c39](https://github.com/ory/oathkeeper/commit/d084c396d28a13f9fa845acb7190f21e705c9b71))\n* Incorporates changes from version v0.34.0-beta.1-6-g6723fb8 [ci skip] ([ebe89ab](https://github.com/ory/oathkeeper/commit/ebe89ab65d035b0ff2e4ad9c70c59fe36a180635))\n\n### Unclassified\n\n* Update CHANGELOG [ci skip] ([f0e8ecf](https://github.com/ory/oathkeeper/commit/f0e8ecfc416d342985436b61a20e3d52c642e280))\n* Update SDK ([6a0a0f8](https://github.com/ory/oathkeeper/commit/6a0a0f81bcda1417f7530fe85cd01c2862956328))\n* Update upgrade guide (#337) ([99e9877](https://github.com/ory/oathkeeper/commit/99e98770dd764005e1967daf739dd23974384d19)), closes [#337](https://github.com/ory/oathkeeper/issues/337)\n* Update CHANGELOG [ci skip] ([2e13a05](https://github.com/ory/oathkeeper/commit/2e13a057da6fc626e9e856548746174c3ef7c2e7))\n* Remove superfluous version from workflows ([55037fa](https://github.com/ory/oathkeeper/commit/55037fa0341a35992285d53be398ccf239b2fb58))\n* Update CHANGELOG [ci skip] ([dfbc231](https://github.com/ory/oathkeeper/commit/dfbc231b8e2370089b2605a76252333b488bbc37))\n* Update SDK ([65222d5](https://github.com/ory/oathkeeper/commit/65222d55494b8b3a91e6c0cbe43a2d922f7c753b))\n* Move to new SDK pipeline (#333) ([6940dc8](https://github.com/ory/oathkeeper/commit/6940dc8de74de9c8be9f872df7cf3bc4bc079aa9)), closes [#333](https://github.com/ory/oathkeeper/issues/333)\n* authn/cookie_session: Add subject_from modifier (#336) ([6723fb8](https://github.com/ory/oathkeeper/commit/6723fb834c386b72e9525d2dfd661e684bd915d3)), closes [#336](https://github.com/ory/oathkeeper/issues/336):\n\n    The subject_from modifier is a GJSON path that points to the `subject` field. Useful if the upstream API does not return a `{\"subject\": \"...\"}` format.\n    \n    \n\n* authn/cookie_session: Add extra_from modifier (#335) ([ee2b9e7](https://github.com/ory/oathkeeper/commit/ee2b9e743f4f6c56563d791947ffb592cc13394e)), closes [#335](https://github.com/ory/oathkeeper/issues/335):\n\n    The extra_from modifier is a GJSON path that points to the extra field. Useful if the upstream API does not return a `{\"subject\": \"...\", \"extra\": \"...\"}` format.\n\n* pipeline/authn: Add tests for cookie sources in jwt and oauth2_intro (#330) (#331) ([7516eed](https://github.com/ory/oathkeeper/commit/7516eedc1ea97242a18225365898e0cbeafcffbf)), closes [#330](https://github.com/ory/oathkeeper/issues/330) [#331](https://github.com/ory/oathkeeper/issues/331) [#330](https://github.com/ory/oathkeeper/issues/330):\n\n    Also updates the schemas to add missing cookie config element.\n\n\n\n# [0.34.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.33.1-beta.1...v0.34.0-beta.1) (2019-12-26)\n\nPrepare v0.34.0-beta.1+oryOS.14 release\n\n\n### Documentation\n\n* Incorporates changes from version v0.33.1-beta.1 [ci skip] ([6681754](https://github.com/ory/oathkeeper/commit/66817540313ec989ceb359927dafe3c8252849c2))\n* Incorporates changes from version v0.33.1-beta.1-2-g4033321 [ci skip] ([2764758](https://github.com/ory/oathkeeper/commit/2764758dfc2d86ed6ff2163fbf0f7e28383fa5da))\n* Incorporates changes from version v0.33.1-beta.1-4-g7e6f636 [ci skip] ([66ae8c8](https://github.com/ory/oathkeeper/commit/66ae8c81ec4e631eb3e243eebafbfe4d7436eccf))\n\n### Unclassified\n\n* Prepare v0.34.0-beta.1+oryOS.14 release ([96f77b2](https://github.com/ory/oathkeeper/commit/96f77b24d8adb160d5c2c3db2f2432e206b99c77))\n* pipe/err: Improve IP and MIME matching (#323) ([7e6f636](https://github.com/ory/oathkeeper/commit/7e6f6369f4acc33211d78f2acb1036c610286c2c)), closes [#323](https://github.com/ory/oathkeeper/issues/323):\n\n    Previously, MIME matching respected the request's wildcards which lead to multiple handlers feeling responsible for a particular request. Now, wildcards coming from the HTTP Request itself are interpreted literally.\n    \n    Additionally, ORY Oathkeeper respected the X-Forwarded-For HTTP Header for matching remote IP addresses. This behavior is now turned off by default because clients were able to fake this header otherwise. It can explicitly be turned on by setting `config.when.#.request.remote_ip.RespectForwardedForHeader: true`.\n    \n    \n\n* Add customizable error handlers (#322) ([4033321](https://github.com/ory/oathkeeper/commit/4033321b13671de8d0d5a42846a4e19d6065db62)), closes [#322](https://github.com/ory/oathkeeper/issues/322) [#204](https://github.com/ory/oathkeeper/issues/204) [#252](https://github.com/ory/oathkeeper/issues/252) [#119](https://github.com/ory/oathkeeper/issues/119):\n\n    This patch adds a new feature called error handlers. It allows to define the error handling logic globally and per rule. It is now possible, for example, to return a JSON response for `Accept: application/json` requests and a HTTP Redirect response for requests that are coming from a user.\n    \n    This also resolves several issues, as noted below:\n\n\n\n# [0.33.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.33.0-beta.1...v0.33.1-beta.1) (2019-12-18)\n\ndocs: Incorporates changes from version v0.33.0-beta.1-12-g0dd3fe3 [ci skip]\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.33.0-beta.1 [ci skip] ([a178031](https://github.com/ory/oathkeeper/commit/a178031f000a405a7962046e0e8582c309ac8989))\n* Incorporates changes from version v0.33.0-beta.1-10-g3e7936a [ci skip] ([083b7eb](https://github.com/ory/oathkeeper/commit/083b7eb35a7d26762bbf930b03969297ac931805))\n* Incorporates changes from version v0.33.0-beta.1-12-g0dd3fe3 [ci skip] ([82c5253](https://github.com/ory/oathkeeper/commit/82c525324490f1d9e073ff8af60abdbfbb722c30))\n* Incorporates changes from version v0.33.0-beta.1-6-gf60f525 [ci skip] ([9870722](https://github.com/ory/oathkeeper/commit/987072248ad8e5e0ae0179d684f3f9f5b8124fbc))\n* Incorporates changes from version v0.33.0-beta.1-8-g815951b [ci skip] ([d77b225](https://github.com/ory/oathkeeper/commit/d77b225555356e4a2010eb6d707bf718c1620956))\n\n### Unclassified\n\n* Add health check commands ([#319](https://github.com/ory/oathkeeper/issues/319)) ([0dd3fe3](https://github.com/ory/oathkeeper/commit/0dd3fe32a4c76b3b2c14a17108521eb51e5e4ff0))\n* Properly merge env vars into pipeline configs (#320) ([3e7936a](https://github.com/ory/oathkeeper/commit/3e7936a41150f367003c81c208910fdb77f556d9)), closes [#320](https://github.com/ory/oathkeeper/issues/320) [#305](https://github.com/ory/oathkeeper/issues/305) [#317](https://github.com/ory/oathkeeper/issues/317):\n\n    Previously, some keys did not respect the values set in the environment variables.\n\n* Add alpine-based Docker image (#318) ([815951b](https://github.com/ory/oathkeeper/commit/815951bb039937acc7be3f8b1b2bb06fe9ecac90)), closes [#318](https://github.com/ory/oathkeeper/issues/318) [#312](https://github.com/ory/oathkeeper/issues/312)\n* Add more details to decision logging (#316) ([f60f525](https://github.com/ory/oathkeeper/commit/f60f52538ff6e66ea98afc89c6c6557ab8c5f93f)), closes [#316](https://github.com/ory/oathkeeper/issues/316) [#244](https://github.com/ory/oathkeeper/issues/244) [#242](https://github.com/ory/oathkeeper/issues/242):\n\n    Adds details such as the HTTP Method, User Agent, Subject, and other information to the logging output of both the reverse proxy and the decision API.\n\n* Health endpoints now emit TRACE logs ([#314](https://github.com/ory/oathkeeper/issues/314)) ([9036f8e](https://github.com/ory/oathkeeper/commit/9036f8eec3f264f7bcae46b44286367b8521802a)), closes [#283](https://github.com/ory/oathkeeper/issues/283):\n\n    Remove health endpoints from the logs to make monitoring easier. Setting `log_level` to `trace` will show these calls.\n\n* Improve session endpoint debugability ([#315](https://github.com/ory/oathkeeper/issues/315)) ([2718639](https://github.com/ory/oathkeeper/commit/27186396ccff4ee3a7f8f0a4c703263fcc55afae)), closes [#300](https://github.com/ory/oathkeeper/issues/300)\n* Resolve matcher cache ([#313](https://github.com/ory/oathkeeper/issues/313)) ([1519632](https://github.com/ory/oathkeeper/commit/15196326d2436c2d849d955bf5050766ae6dff0c)), closes [#291](https://github.com/ory/oathkeeper/issues/291):\n\n    A bug caused the rule matcher to not cache the regular expression result.\n\n* Use bearer splitting when header is set to Authorization ([#311](https://github.com/ory/oathkeeper/issues/311)) ([464fa31](https://github.com/ory/oathkeeper/commit/464fa319e84953835b71e16360bab3016b8bfc64)), closes [#308](https://github.com/ory/oathkeeper/issues/308)\n\n\n# [0.33.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.32.1-beta.1...v0.33.0-beta.1) (2019-12-16)\n\npipeline/mutator: Refactor hydrator retry config  (#287)\n\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.32.1-beta.1 [ci skip] ([98c9bf8](https://github.com/ory/oathkeeper/commit/98c9bf8c92e068bac2f0e9148fd9fc357aadd78f))\n* Incorporates changes from version v0.32.1-beta.1-5-gf028719 [ci skip] ([9f9c00c](https://github.com/ory/oathkeeper/commit/9f9c00cba904da0cdee4d97f5e3cad48160d75a0))\n\n### Unclassified\n\n* pipeline/mutator: Refactor hydrator retry config  (#287) ([2a97e05](https://github.com/ory/oathkeeper/commit/2a97e051a98da588aa8125bc0c6681e2d39c48ef)), closes [#287](https://github.com/ory/oathkeeper/issues/287)\n* Update README banner (#307) ([f028719](https://github.com/ory/oathkeeper/commit/f028719f054e314045f9830c016bfbde5bf04110)), closes [#307](https://github.com/ory/oathkeeper/issues/307)\n* Add cookie as an option for oauth2_introspection authenticator (#301) ([e3fa55a](https://github.com/ory/oathkeeper/commit/e3fa55a77f020fcdb55a8b363b2196570f080d16)), closes [#301](https://github.com/ory/oathkeeper/issues/301)\n* Add preserve_path option for cookie session to not override the path in the request (#297) ([7e86b78](https://github.com/ory/oathkeeper/commit/7e86b78355447cfbbfd83d04dcc2bf7c942dfc67)), closes [#297](https://github.com/ory/oathkeeper/issues/297)\n* Allow specifying additional headers for the oauth introspection request (#302) ([b1e5cea](https://github.com/ory/oathkeeper/commit/b1e5cea5245c07142b6b34f2660ed41e6239b79f)), closes [#302](https://github.com/ory/oathkeeper/issues/302)\n\n\n# [0.32.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.32.0-beta.1...v0.32.1-beta.1) (2019-10-30)\n\ndocs: Incorporates changes from version v0.32.0-beta.1-13-g1910bbe [ci skip]\n\n\n\n### Documentation\n\n* Add notes for 0.32.0 ([40e3b89](https://github.com/ory/oathkeeper/commit/40e3b891b99a41bee4b7be1a2cf7463bfb64f8db))\n* Incorporates changes from version v0.32.0-beta.1 [ci skip] ([f3a0e53](https://github.com/ory/oathkeeper/commit/f3a0e53762d31a1f7155ef75f08d7853aa6ec524))\n* Incorporates changes from version v0.32.0-beta.1-11-g7892d2f [ci skip] ([c41ecd4](https://github.com/ory/oathkeeper/commit/c41ecd4cbb23abc6b4264596ddd7881bf3c81845))\n* Incorporates changes from version v0.32.0-beta.1-13-g1910bbe [ci skip] ([d45e1a0](https://github.com/ory/oathkeeper/commit/d45e1a0e9507dc87f3681bc05b125ceb237b2713))\n* Incorporates changes from version v0.32.0-beta.1-3-g8cf6868 [ci skip] ([2c8fbf7](https://github.com/ory/oathkeeper/commit/2c8fbf7a2f74455690bcca4426bfff430e3068f4))\n* Incorporates changes from version v0.32.0-beta.1-9-g08d42da [ci skip] ([6ce3344](https://github.com/ory/oathkeeper/commit/6ce33442285c18b9a31103d32e095d9dad12228c))\n\n### Unclassified\n\n* pipeline/authz: Add Content-Type header in the call to Keto (#290) ([1910bbe](https://github.com/ory/oathkeeper/commit/1910bbedc215c2b18c018cf9a5d5f86b6b3411c3)), closes [#290](https://github.com/ory/oathkeeper/issues/290)\n* Revert incorrect license changes ([7892d2f](https://github.com/ory/oathkeeper/commit/7892d2f4024525c5e3f20e6237b18d0fbe36200d))\n* Revert readme changes to last working version ([08d42da](https://github.com/ory/oathkeeper/commit/08d42dac81a8d71f3b7ab926a8b09abe7b305b5e))\n* Remove obsolete section from README ([aa8deef](https://github.com/ory/oathkeeper/commit/aa8deefc02848a4c90bf06365b7a37d71eb9c72f))\n* Fix broken readme headlines ([2e8109a](https://github.com/ory/oathkeeper/commit/2e8109a4fa1b53e83e86897de6890c910d4b77ff))\n* Auto-kill test runner after 10 retries (#286) ([eaad598](https://github.com/ory/oathkeeper/commit/eaad59866349bebdeaed72e068a9ce6752b25cef)), closes [#286](https://github.com/ory/oathkeeper/issues/286)\n* Update ory/x/viperx dependency ([#285](https://github.com/ory/oathkeeper/issues/285)) ([0ef3bce](https://github.com/ory/oathkeeper/commit/0ef3bce92a3c17a6cffc794f2b08859f0852ee5d)), closes [#276](https://github.com/ory/oathkeeper/issues/276) [#270](https://github.com/ory/oathkeeper/issues/270) [#279](https://github.com/ory/oathkeeper/issues/279) [#280](https://github.com/ory/oathkeeper/issues/280):\n\n    This patch automatically binds environment variables to configuration keys. This patch resolves several issues:\n\n* Dereference config schema and resolve issues (#282) ([8cf6868](https://github.com/ory/oathkeeper/commit/8cf6868b3e925e686769d43c912d5e52c6589a9b)), closes [#282](https://github.com/ory/oathkeeper/issues/282) [ory/docs#217](https://github.com/ory/docs/issues/217) [#234](https://github.com/ory/oathkeeper/issues/234) [#281](https://github.com/ory/oathkeeper/issues/281)\n\n\n# [0.32.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.31.0-beta.1...v0.32.0-beta.1) (2019-10-20)\n\ndocs: Incorporates changes from version v0.31.0-beta.1 [ci skip]\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.31.0-beta.1 [ci skip] ([dafc870](https://github.com/ory/oathkeeper/commit/dafc870943720f04f5ac06a139bf5e126a83afa8))\n\n\n# [0.31.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.19.0-beta.1...v0.31.0-beta.1) (2019-10-20)\n\ndocs: Incorporates changes from version v0.30.0-beta.1 [ci skip]\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.19.1-beta.1-2-g41869a9 [ci skip] ([a44846b](https://github.com/ory/oathkeeper/commit/a44846b1e6c8cbdb76162b3128c2aa4ff79d3375))\n* Incorporates changes from version v0.20.0-beta.1 [ci skip] ([aaf801b](https://github.com/ory/oathkeeper/commit/aaf801bb1cebe9d4a6c5062b5a0e10c9737b091b))\n* Incorporates changes from version v0.30.0-beta.1 [ci skip] ([ebd198a](https://github.com/ory/oathkeeper/commit/ebd198a908bcbc77f734e93a181209fec66e7736))\n\n### Unclassified\n\n* pipeline/authn: Add token_from config to introspection and jwt (#271) ([fc85ac8](https://github.com/ory/oathkeeper/commit/fc85ac854c3fb4cdd96bbae650f7355400431eac)), closes [#271](https://github.com/ory/oathkeeper/issues/271) [#257](https://github.com/ory/oathkeeper/issues/257):\n\n    Add additional optional configuration to jwt and oauth2_introspection authenticators allowing to set from where (which header or query parameter) the token should be received. The configuration is a token_from field in per-rule-configuration, as described in a linked issue.\n\n* Add migration capabilities ([#268](https://github.com/ory/oathkeeper/issues/268)) ([bc74e72](https://github.com/ory/oathkeeper/commit/bc74e726712c77955d2013979770c2724af17f20)), closes [#266](https://github.com/ory/oathkeeper/issues/266):\n\n    Adds the ability to modify rules with backwards compatibility.\n\n* Force auth style in oauth2 client credentials authn ([#267](https://github.com/ory/oathkeeper/issues/267)) ([97d7890](https://github.com/ory/oathkeeper/commit/97d789097b47b50117421f8f4ebd32182de4195c)), closes [#260](https://github.com/ory/oathkeeper/issues/260)\n* Update UPGRADE.md ([4e4bd93](https://github.com/ory/oathkeeper/commit/4e4bd93695a14b453a895fd2c20eca416307dcee))\n* Update upgrade instructions ([7483d1c](https://github.com/ory/oathkeeper/commit/7483d1cf9344058ddc12efabdb00f5b5b8b41f48))\n* Change error code from 403 to 401 ([#259](https://github.com/ory/oathkeeper/issues/259)) ([c17e564](https://github.com/ory/oathkeeper/commit/c17e564cc2427a0ab1f7d2eb2d2b7cb95e34f88b)), closes [#256](https://github.com/ory/oathkeeper/issues/256)\n\n\n# [0.19.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.18.0-beta.1...v0.19.0-beta.1) (2019-09-23)\n\nFix id_token schema reference URL\n\n\n\n### Unclassified\n\n* Fix id_token schema reference URL ([72a2333](https://github.com/ory/oathkeeper/commit/72a23333d67f01d2474603f6ba9e5b1e97605a95))\n* Resolve broken tests (#262) ([bc67cc1](https://github.com/ory/oathkeeper/commit/bc67cc18b4e32331f86bc8b10f1947a812be6b7e)), closes [#262](https://github.com/ory/oathkeeper/issues/262)\n* Homogenize configuration management (#258) ([89709aa](https://github.com/ory/oathkeeper/commit/89709aabfe002fc5ae2e76016fc45a13d74f3d8b)), closes [#258](https://github.com/ory/oathkeeper/issues/258)\n* Fix #250: Ignore query parameters to build payload for Keto engine (#251) ([d0fc7f4](https://github.com/ory/oathkeeper/commit/d0fc7f4c6a9377ff3f2466d5860c12247202e646)), closes [#250](https://github.com/ory/oathkeeper/issues/250) [#251](https://github.com/ory/oathkeeper/issues/251)\n\n\n# [0.18.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.4-beta.1...v0.18.0-beta.1) (2019-08-22)\n\nmutator/id_token: Add claim templating (#246)\n\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.17.4-beta.1 ([370eb37](https://github.com/ory/oathkeeper/commit/370eb3745630631e96ff6c0de61ab86b2832a3f5))\n* Incorporates changes from version v0.17.5-beta.1 ([f7beddc](https://github.com/ory/oathkeeper/commit/f7beddccfcc0bfb52805382278758e347cc1dc2c))\n* Updates issue and pull request templates ([#237](https://github.com/ory/oathkeeper/issues/237)) ([6181ee5](https://github.com/ory/oathkeeper/commit/6181ee5c14fbcc1b3b844d9f301a5df90dcf6a8b))\n* Updates issue and pull request templates ([#238](https://github.com/ory/oathkeeper/issues/238)) ([6f83cda](https://github.com/ory/oathkeeper/commit/6f83cda6ce855ed09ec3f553eaaf644e0d853634))\n* Updates issue and pull request templates ([#239](https://github.com/ory/oathkeeper/issues/239)) ([2e0b3ef](https://github.com/ory/oathkeeper/commit/2e0b3ef28bf3b2e8c6225d5e407a3f9b1487ccea))\n* Updates issue and pull request templates ([#245](https://github.com/ory/oathkeeper/issues/245)) ([f140837](https://github.com/ory/oathkeeper/commit/f140837a7181f3e2c0a209e6dd47a534be08c1f8))\n\n### Unclassified\n\n* mutator/id_token: Add claim templating (#246) ([591f524](https://github.com/ory/oathkeeper/commit/591f5249f3d8ba314cf7e914926bfbd0300e7589)), closes [#246](https://github.com/ory/oathkeeper/issues/246)\n* Add mutator for modifying authenticationSession with external API (#240) ([b38b0f4](https://github.com/ory/oathkeeper/commit/b38b0f4d4cd5148ebe0858558f410b4f0c367be1)), closes [#240](https://github.com/ory/oathkeeper/issues/240)\n* Support multiple mutators per access rule (#233) ([d21179d](https://github.com/ory/oathkeeper/commit/d21179dd25543662075be402f6e24e1ee20d2754)), closes [#233](https://github.com/ory/oathkeeper/issues/233) [#233](https://github.com/ory/oathkeeper/issues/233)\n* Add adopters placeholder ([#236](https://github.com/ory/oathkeeper/issues/236)) ([302c7b8](https://github.com/ory/oathkeeper/commit/302c7b8cec0479db2735440ef336c11ca92675ff))\n\n\n# [0.17.4-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.3-beta.1...v0.17.4-beta.1) (2019-08-09)\n\nAdd sprig template library (#235)\n\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.17.3-beta.1 ([b271ff2](https://github.com/ory/oathkeeper/commit/b271ff21644f9e3fd0605cc50978d0c5e2e883e3))\n* Updates issue and pull request templates ([#232](https://github.com/ory/oathkeeper/issues/232)) ([00c08ba](https://github.com/ory/oathkeeper/commit/00c08ba9c4d2ce6b910b151d79eaccbf6d9c0710))\n\n### Unclassified\n\n* Add sprig template library (#235) ([c85c540](https://github.com/ory/oathkeeper/commit/c85c5400000f1c534b99db292273f71c427d368e)), closes [#235](https://github.com/ory/oathkeeper/issues/235)\n\n\n# [0.17.3-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.2-beta.1...v0.17.3-beta.1) (2019-08-03)\n\nrule: Resolve k8s configmap reload issue (#231)\n\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.17.2-beta.1 ([e652c3f](https://github.com/ory/oathkeeper/commit/e652c3fac276f73278ac8e3bf4a75b3789420da7))\n\n### Unclassified\n\n* Resolve k8s configmap reload issue ([#231](https://github.com/ory/oathkeeper/issues/231)) ([c04547e](https://github.com/ory/oathkeeper/commit/c04547e7bda2396c997252dd7ca3e588897b7779))\n* Move back to scratch Docker image ([3fa8a50](https://github.com/ory/oathkeeper/commit/3fa8a5078759869c3a3a0521f17b80f246fdd7f4))\n\n\n# [0.17.2-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.1-beta.1...v0.17.2-beta.1) (2019-08-02)\n\nrules: Support kubernetes configmap reloading (#230)\n\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.17.1-beta.1 ([64d180f](https://github.com/ory/oathkeeper/commit/64d180fd7f41febd4f15a35bd8ee625adc854256))\n* Updates issue and pull request templates ([#226](https://github.com/ory/oathkeeper/issues/226)) ([007d491](https://github.com/ory/oathkeeper/commit/007d491dfd204b4dcf175906319db667b10fff1e))\n\n### Unclassified\n\n* Support kubernetes configmap reloading ([#230](https://github.com/ory/oathkeeper/issues/230)) ([92b769b](https://github.com/ory/oathkeeper/commit/92b769bfdf4d5fd7902e1b5ae1dc63d11de4e0f1))\n\n\n# [0.17.1-beta.1](https://github.com/ory/oathkeeper/compare/v0.17.0-beta.1...v0.17.1-beta.1) (2019-07-23)\n\nrule: Fix panic on send on closed channel (#225)\n\nCloses #224\n\n\n### Documentation\n\n* Incorporates changes from version v0.17.0-beta.1 ([8f4a518](https://github.com/ory/oathkeeper/commit/8f4a51808f4614a666fdaa0043b73105a55af54d))\n\n### Unclassified\n\n* Fix panic on send on closed channel ([#225](https://github.com/ory/oathkeeper/issues/225)) ([2112ab6](https://github.com/ory/oathkeeper/commit/2112ab6b325aef71963de9d448dbf15ce09bd5fe)), closes [#224](https://github.com/ory/oathkeeper/issues/224)\n\n\n# [0.17.0-beta.1](https://github.com/ory/oathkeeper/compare/v0.16.0-beta.5...v0.17.0-beta.1) (2019-07-18)\n\nci: Automate schema confiugration sync\n\n\n\n### Continuous Integration\n\n* Automate schema confiugration sync ([94bcc4f](https://github.com/ory/oathkeeper/commit/94bcc4f611a3d0d5112fb44b7a20f2afc70bb760))\n\n### Documentation\n\n* Incorporates changes from version v0.16.0-beta.5 ([a8afc3b](https://github.com/ory/oathkeeper/commit/a8afc3b559905d8807519e3ed04fd39a654fa73d))\n* Update upgrade guide ([a8ccb05](https://github.com/ory/oathkeeper/commit/a8ccb0541f9f0e8b707b418bb6698ed18bdadf0b))\n* Update upgrade guide ([f727efe](https://github.com/ory/oathkeeper/commit/f727efe438bafbfb8f404ae1dd98b062d1ad804b))\n\n### Unclassified\n\n* Fix broken reload tests ([d6059b7](https://github.com/ory/oathkeeper/commit/d6059b711aa921fd012ce71eb11e370f174596f6))\n* Remove useless function ([3521a3d](https://github.com/ory/oathkeeper/commit/3521a3d9a606b92c7bf9c74828185934b2cba9c5))\n* Validate configuration with JSON Schema ([997427d](https://github.com/ory/oathkeeper/commit/997427dc03c7efee476f145677b73a42bbc63c89))\n* Do not fatal when immutable value is changed ([717d7f7](https://github.com/ory/oathkeeper/commit/717d7f748abe61014653f3c6519c4aef019d1969))\n* Watch configuration and access rule changes (#217) ([a078e89](https://github.com/ory/oathkeeper/commit/a078e891e2fe97bdb6ce8a2264f629a179c9116e)), closes [#217](https://github.com/ory/oathkeeper/issues/217):\n\n    This patch allows oathkeeper to re-load any changes made to the configuraiton file and/or the access\n    rules to be reloaded without a restart.\n    \n    Some configuration keys like serve.*, log.*, profiling however require a restart.\n\n* Create FUNDING.yml ([d7da8e2](https://github.com/ory/oathkeeper/commit/d7da8e296205e183140c18ba3cc6269334476a2b))\n* Add support for rules in YAML format (#213) ([67face6](https://github.com/ory/oathkeeper/commit/67face611b9f19ed9b6606931c9b7a82df769154)), closes [#213](https://github.com/ory/oathkeeper/issues/213):\n\n    This commit adds support for defining access rules in YAML format, in\n    addition to existing JSON format.\n\n\n\n# [0.16.0-beta.5](https://github.com/ory/oathkeeper/compare/v0.16.0-beta.4...v0.16.0-beta.5) (2019-06-28)\n\nauthenticator: Add cookie session authenticator (#211)\n\n\n\n\n### Documentation\n\n* Incorporates changes from version v0.16.0-beta.4 ([1e03ee2](https://github.com/ory/oathkeeper/commit/1e03ee24b466b01fe4f81e5a4fda8ab42f9a0615))\n\n### Unclassified\n\n* Add cookie session authenticator ([#211](https://github.com/ory/oathkeeper/issues/211)) ([f8a66b7](https://github.com/ory/oathkeeper/commit/f8a66b77f99420fa4ac6693967af1906ae962489))\n* Add description into the name of subtest (#212) ([230c332](https://github.com/ory/oathkeeper/commit/230c332f5972e2bbf5a81a31c4ceafdfbf541d75)), closes [#212](https://github.com/ory/oathkeeper/issues/212)\n* Use non-root user in image ([#209](https://github.com/ory/oathkeeper/issues/209)) ([2215126](https://github.com/ory/oathkeeper/commit/221512635125eb61943f6dfd93b69defa61d9ce3))\n* Remove binary license (#208) ([3460d65](https://github.com/ory/oathkeeper/commit/3460d65249783ea1eb6558fbe75cec4c72105f5c)), closes [#208](https://github.com/ory/oathkeeper/issues/208)\n* Update config.yaml (#204) ([effe9c0](https://github.com/ory/oathkeeper/commit/effe9c025c3a25edf88bc3791ec27cb01e128a1a)), closes [#204](https://github.com/ory/oathkeeper/issues/204):\n\n    There's no DSN in oathkeeper\n\n\n\n# [0.16.0-beta.4](https://github.com/ory/oathkeeper/compare/v0.16.0-beta.3...v0.16.0-beta.4) (2019-05-28)\n\nserver: Properly declare negroni middleware (#200)\n\nPreviously, negroni.With was mistakenly used to add middleware onto the stack.\r\nThe proper method however is negroni.Use.\r\n\r\nThis patch fixes the use of negroni.With and resolves issues around\r\nlogging and the decisions endpoint.\r\n\r\nCloses #199\n\n\n### Documentation\n\n* Incorporates changes from version v0.16.0-beta.3 ([d777ecf](https://github.com/ory/oathkeeper/commit/d777ecf59192d14a432a024d5a3451b47f6cff4e))\n* Updates issue and pull request templates ([#196](https://github.com/ory/oathkeeper/issues/196)) ([74fa27b](https://github.com/ory/oathkeeper/commit/74fa27ba9b110d8b4bd8afe09d77c5c602187a5c))\n* Updates issue and pull request templates ([#197](https://github.com/ory/oathkeeper/issues/197)) ([31d057c](https://github.com/ory/oathkeeper/commit/31d057cf37816fb20436f464f96ee2c5fd32d7e7))\n* Updates issue and pull request templates ([#198](https://github.com/ory/oathkeeper/issues/198)) ([244810a](https://github.com/ory/oathkeeper/commit/244810aabfc2259e756963791855cde1006fe16f))\n\n### Unclassified\n\n* Properly declare negroni middleware ([#200](https://github.com/ory/oathkeeper/issues/200)) ([9d3dc54](https://github.com/ory/oathkeeper/commit/9d3dc54e1350fa74fb126cc4761462e83d86548f)), closes [#199](https://github.com/ory/oathkeeper/issues/199):\n\n    Previously, negroni.With was mistakenly used to add middleware onto the stack.\n    The proper method however is negroni.Use.\n    \n    This patch fixes the use of negroni.With and resolves issues around\n    logging and the decisions endpoint.\n\n\n\n# [0.16.0-beta.3](https://github.com/ory/oathkeeper/compare/v0.15.2...v0.16.0-beta.3) (2019-05-19)\n\nci: Use golang for docs task\n\n\n\n### Continuous Integration\n\n* Use golang for docs task ([b120c72](https://github.com/ory/oathkeeper/commit/b120c7214d7f11441b0cec7a34517b4403226f5f))\n\n### Documentation\n\n* Incorporates changes from version v0.15.2 ([7ceabe9](https://github.com/ory/oathkeeper/commit/7ceabe98498e1dd9f8c3c452f5d0f9ab366a3c07))\n* Rename config.yml -> config.yaml ([4faecbe](https://github.com/ory/oathkeeper/commit/4faecbea5683e18522697f5c2b1ccc76fbf4c762))\n* Updates issue and pull request templates ([#189](https://github.com/ory/oathkeeper/issues/189)) ([367a48d](https://github.com/ory/oathkeeper/commit/367a48dba6693db44a17179dcf0f0e7c624be7a7))\n\n### Unclassified\n\n* Reduce deployment complexity and refactor internals (#185) ([6b509ad](https://github.com/ory/oathkeeper/commit/6b509ad5e3ce109521de80540bd0c762b7ecd8d2)), closes [#185](https://github.com/ory/oathkeeper/issues/185) [#178](https://github.com/ory/oathkeeper/issues/178) [#177](https://github.com/ory/oathkeeper/issues/177) [#174](https://github.com/ory/oathkeeper/issues/174) [#168](https://github.com/ory/oathkeeper/issues/168) [#164](https://github.com/ory/oathkeeper/issues/164) [#141](https://github.com/ory/oathkeeper/issues/141) [#140](https://github.com/ory/oathkeeper/issues/140) [#136](https://github.com/ory/oathkeeper/issues/136) [#122](https://github.com/ory/oathkeeper/issues/122)\n* Resolve issue with install.sh script (#187) ([d31d5be](https://github.com/ory/oathkeeper/commit/d31d5bea5085355960cc051c4bb6b6232a77ac75)), closes [#187](https://github.com/ory/oathkeeper/issues/187)\n\n\n# [0.15.2](https://github.com/ory/oathkeeper/compare/v0.15.1...v0.15.2) (2019-05-04)\n\ncmd/client: Use json rawmessage for arbtrary payloads (#184)\n\nCloses #182\r\n\r\nSigned-off-by: Stanislav Zapolsky <stszap@gmail.com>\n\n\n### Documentation\n\n* Incorporates changes from version v0.15.1 ([5c34958](https://github.com/ory/oathkeeper/commit/5c34958ff00a56f9a5784bfb01b6b200fcbd91d1))\n\n### Unclassified\n\n* cmd/client: Use json rawmessage for arbtrary payloads (#184) ([a55e4d1](https://github.com/ory/oathkeeper/commit/a55e4d1267dcb2975a5e4b4ab4248bdf7adc00b0)), closes [#184](https://github.com/ory/oathkeeper/issues/184) [#182](https://github.com/ory/oathkeeper/issues/182)\n\n\n# [0.15.1](https://github.com/ory/oathkeeper/compare/v0.15.0...v0.15.1) (2019-04-29)\n\nvendor: Add go.sum (#180)\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n\n### Unclassified\n\n* Add go.sum ([#180](https://github.com/ory/oathkeeper/issues/180)) ([fc261f0](https://github.com/ory/oathkeeper/commit/fc261f0a340b3bcca56519c2da3042e614f8b6a3))\n\n\n# [0.15.0](https://github.com/ory/oathkeeper/compare/v0.14.2+oryOS.10...v0.15.0) (2019-04-29)\n\ndocker: Remove full tag from build pipeline (#179)\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n\n### Documentation\n\n* Incorporates changes from version v0.0.0-testrelease.3 ([44649b6](https://github.com/ory/oathkeeper/commit/44649b6302057cb64c9585b862043fe4568d4432))\n* Incorporates changes from version v0.14.2+oryOS.10 ([2d9899a](https://github.com/ory/oathkeeper/commit/2d9899a38b927ff367931c024a10bfdc3230e9a3))\n* Update patrons ([f423666](https://github.com/ory/oathkeeper/commit/f423666df6e067ed563a853c3187afb1859dc36c))\n* Update README building-from-source part with the gomodule way ([#152](https://github.com/ory/oathkeeper/issues/152)) ([9d653f5](https://github.com/ory/oathkeeper/commit/9d653f5364cfabdd03a6a39b0883d70b9783fb01)), closes [#149](https://github.com/ory/oathkeeper/issues/149)\n\n### Unclassified\n\n* Remove full tag from build pipeline ([#179](https://github.com/ory/oathkeeper/issues/179)) ([e2edbf8](https://github.com/ory/oathkeeper/commit/e2edbf8628fd7592730dbb320760e514982e049d))\n* Remove sdk dependencies to keto/hydra ([#173](https://github.com/ory/oathkeeper/issues/173)) ([b538e3c](https://github.com/ory/oathkeeper/commit/b538e3c8fdd52be1e61ed88502fce1de7737d4a9)):\n\n    This patch replaces code-generated SDKs with raw http.Client calls which reduces dependencies and makes future changes to the keto/hydra SDK easier to adopt to.\n    \n    \n\n* Update CHANGELOG.md ([cbccbe2](https://github.com/ory/oathkeeper/commit/cbccbe2f4786f90208dfa93a8b8b47027ca11548))\n* Ensure rule matcher is locked before updating ([#159](https://github.com/ory/oathkeeper/issues/159)) ([6fb7151](https://github.com/ory/oathkeeper/commit/6fb715161370382b384ab2e0cb7ec64ca425f16a)):\n\n    Lock CachedMatcher before rules are updated when HTTPMatcher refreshes to avoid concurrent map iteration and map write errors.\n    \n    \n\n* Improve debugability of JWT authenticator ([#156](https://github.com/ory/oathkeeper/issues/156)) ([8441bd5](https://github.com/ory/oathkeeper/commit/8441bd52dc567de04b8b4eb9b4655aaf45b90f03))\n* Move to go-swagger SDK code generation ([#170](https://github.com/ory/oathkeeper/issues/170)) ([38c52a3](https://github.com/ory/oathkeeper/commit/38c52a3cc3a24b1d77d7f07d012be561d018b5ec)), closes [#165](https://github.com/ory/oathkeeper/issues/165)\n* Remove vendored dependencies after sdk generation ([7c33ca8](https://github.com/ory/oathkeeper/commit/7c33ca89781a225ab43b4d663b30c154a24a7e0a))\n* Set request headers for credential issuers ([#169](https://github.com/ory/oathkeeper/issues/169)) ([4fc579c](https://github.com/ory/oathkeeper/commit/4fc579cd677b71f6083fd3edaad741a7979e629a)), closes [#120](https://github.com/ory/oathkeeper/issues/120) [#133](https://github.com/ory/oathkeeper/issues/133)\n* Update Dockerfile build instructions ([ec40cc4](https://github.com/ory/oathkeeper/commit/ec40cc4cfa1716adff9cb4cd8c604aa6f4aa9e91))\n* Upgrade dependencies ([#163](https://github.com/ory/oathkeeper/issues/163)) ([f9fdefb](https://github.com/ory/oathkeeper/commit/f9fdefb5dfe9dbff38f0ae96f82e42fea24d1c93))\n* Use scp,scope,scopes in jwt authenticator ([#162](https://github.com/ory/oathkeeper/issues/162)) ([eebc2f4](https://github.com/ory/oathkeeper/commit/eebc2f44e3e42b7af653f91d9345111e0a280401)), closes [#138](https://github.com/ory/oathkeeper/issues/138):\n\n    Previously, the JWT authenticator only used the \"scope\" claim to retrieve scope values from a JWT. Now, \"scp\", \"scope\", \"scopes\" are supported as string arrays and strings separated by spaces.\n\n\n\n# [0.14.2+oryOS.10](https://github.com/ory/oathkeeper/compare/v0.14.1+oryOS.10...v0.14.2+oryOS.10) (2018-12-13)\n\nci: Fix docker push arguments in publish task\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n\n\n### Continuous Integration\n\n* Fix docker push arguments in publish task ([62415a1](https://github.com/ory/oathkeeper/commit/62415a1c36f6a335f02adf272cb0e50eb1691f89))\n\n\n# [0.14.1+oryOS.10](https://github.com/ory/oathkeeper/compare/v0.14.0+oryOS.10...v0.14.1+oryOS.10) (2018-12-13)\n\nci: Fix docker release task\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n\n\n### Continuous Integration\n\n* Fix docker release task ([893385b](https://github.com/ory/oathkeeper/commit/893385b10f26ffd9933f4d66c4187ca59d2f3f47))\n\n\n# [0.14.0+oryOS.10](https://github.com/ory/oathkeeper/compare/v0.11.12...v0.14.0+oryOS.10) (2018-12-13)\n\nci: Fix circle misconfiguration\n\nSigned-off-by: aeneasr <aeneas@ory.sh>\n\n\n\n### Continuous Integration\n\n* Fix circle misconfiguration ([a00ce64](https://github.com/ory/oathkeeper/commit/a00ce64e0bf5890192808f0edb1879caaa811742))\n\n### Documentation\n\n* Adds gh templates & code of conduct ([#78](https://github.com/ory/oathkeeper/issues/78)) ([02361aa](https://github.com/ory/oathkeeper/commit/02361aa7a3499c78b480ca43cf29636a17391215))\n* Adds link to examples repository ([#79](https://github.com/ory/oathkeeper/issues/79)) ([bfe96e9](https://github.com/ory/oathkeeper/commit/bfe96e9a47b1c49be631f5286ed05d4377fba684))\n* Align changelog, upgrade with new versions ([#143](https://github.com/ory/oathkeeper/issues/143)) ([751dfa3](https://github.com/ory/oathkeeper/commit/751dfa3abacb122f0b5599800025366dec7d9b5c))\n* Clarify beyondcorp ([3647958](https://github.com/ory/oathkeeper/commit/3647958a415bd4c1abb106d0a765f2186e54ad60))\n* Clarify breaking change policy ([6e6bb7e](https://github.com/ory/oathkeeper/commit/6e6bb7e42ad8e84eb4cf5b8dfd3b27845748cbc0))\n* Fix broken link ([#87](https://github.com/ory/oathkeeper/issues/87)) ([828b33e](https://github.com/ory/oathkeeper/commit/828b33e94d2fadb0b371d5ae326a6dac855047a6))\n* Fix proxy help command description ([#142](https://github.com/ory/oathkeeper/issues/142)) ([c836cb0](https://github.com/ory/oathkeeper/commit/c836cb0e1785bc4da602b1c820a6d6a54e7043e0))\n* Fix typo in README. ([#118](https://github.com/ory/oathkeeper/issues/118)) ([3d33fcc](https://github.com/ory/oathkeeper/commit/3d33fcc85b248a7f0f9f7d1295459b5541927d81))\n* Grammatical fix in stability sentence ([#86](https://github.com/ory/oathkeeper/issues/86)) ([ff0604d](https://github.com/ory/oathkeeper/commit/ff0604df82361b2f6dee6f2945a03b2b6b117056))\n* Improve some docs and update SDK ([#135](https://github.com/ory/oathkeeper/issues/135)) ([9a6901d](https://github.com/ory/oathkeeper/commit/9a6901dc52b3ae9a1aabf692903b1d4922869308))\n* Incorporates changes from version v0.11.12-1-gace7f34 ([3a6450c](https://github.com/ory/oathkeeper/commit/3a6450c89b335465cf5bd3aa87e64a0e11eeefc3))\n* Incorporates changes from version v0.11.12-10-g57ac174 ([c594b7e](https://github.com/ory/oathkeeper/commit/c594b7e91e71f8fa4d2532667a5ab3eae49d53bf))\n* Incorporates changes from version v0.11.12-13-gd00dfed ([7c221fa](https://github.com/ory/oathkeeper/commit/7c221fa7d67c382f0277dc0fb94d0529dabe8ac2))\n* Incorporates changes from version v0.11.12-15-g6604045 ([2a594f4](https://github.com/ory/oathkeeper/commit/2a594f416a1dbf9391b543efbbdc6004a58524d0))\n* Incorporates changes from version v0.11.12-3-g7acfbca ([ac34a58](https://github.com/ory/oathkeeper/commit/ac34a58a4444e09a36c74ed23730dbc41cd656be))\n* Incorporates changes from version v0.11.12-6-g181e9ac ([01dda53](https://github.com/ory/oathkeeper/commit/01dda53f32ec7a1bfa9d43cc4df2a8778f5b8cc7))\n* Incorporates changes from version v1.0.0-beta.1 ([788e96b](https://github.com/ory/oathkeeper/commit/788e96b65dbb9765839f4f1e1e1a79cb401652b6))\n* Incorporates changes from version v1.0.0-beta.2-1-gd6eb440 ([579f7a7](https://github.com/ory/oathkeeper/commit/579f7a7c3c71b3a388f01e78e224026bf7c2ca08))\n* Incorporates changes from version v1.0.0-beta.2-10-gef6e889 ([38cfb31](https://github.com/ory/oathkeeper/commit/38cfb31f4608320daec4ceab12a51d493db772ed))\n* Incorporates changes from version v1.0.0-beta.2-12-g9b6c0df ([82ac9b2](https://github.com/ory/oathkeeper/commit/82ac9b295c376cdae107fa3646cee9614a2e3410))\n* Incorporates changes from version v1.0.0-beta.2-6-ged2f983 ([d9737c8](https://github.com/ory/oathkeeper/commit/d9737c8cc84a43b260c0acd98a5b77cd1082423d))\n* Incorporates changes from version v1.0.0-beta.2-8-g5495d4a ([546828d](https://github.com/ory/oathkeeper/commit/546828df624d959684302ce503b5ac09c2c52cf2))\n* Incorporates changes from version v1.0.0-beta.3-3-g3c0c862 ([e1127a8](https://github.com/ory/oathkeeper/commit/e1127a8322e24a366653e149b1d6209ab0b7d6af))\n* Incorporates changes from version v1.0.0-beta.4-1-g643dbea ([5c40f97](https://github.com/ory/oathkeeper/commit/5c40f97ec8c213ba8ed7bb8366204f53f5b9fae1))\n* Incorporates changes from version v1.0.0-beta.4-12-gbfe96e9 ([756178a](https://github.com/ory/oathkeeper/commit/756178a18d9d7b2ac9749ab09844e9cf37ccf98c))\n* Incorporates changes from version v1.0.0-beta.4-17-gfa5388c ([3d5df8b](https://github.com/ory/oathkeeper/commit/3d5df8b1162466453234bb4537e9d8538081352c))\n* Incorporates changes from version v1.0.0-beta.4-19-g6d647d7 ([b5539f4](https://github.com/ory/oathkeeper/commit/b5539f4157725c0620011f9bd0f8d67ba58741a5))\n* Incorporates changes from version v1.0.0-beta.4-3-g951da25 ([8931b39](https://github.com/ory/oathkeeper/commit/8931b39ee0ab2efd0ed38da87c888a33081ad817))\n* Incorporates changes from version v1.0.0-beta.4-5-g83b591d ([4f2c64b](https://github.com/ory/oathkeeper/commit/4f2c64b42d3b4cada98687ad3285b5ba9d3732ee))\n* Incorporates changes from version v1.0.0-beta.4-7-gf450697 ([8f904d2](https://github.com/ory/oathkeeper/commit/8f904d22a56410eabe6d9af7f87624a61a7f1a76))\n* Incorporates changes from version v1.0.0-beta.4-9-g02361aa ([5b34e91](https://github.com/ory/oathkeeper/commit/5b34e91cfffeef0787054ab92c0cf944c5653f15))\n* Incorporates changes from version v1.0.0-beta.5-1-g3647958 ([2bcfb39](https://github.com/ory/oathkeeper/commit/2bcfb3917118a71247c241ff2a99282a11154ee9))\n* Incorporates changes from version v1.0.0-beta.6-1-gff0604d ([0c69154](https://github.com/ory/oathkeeper/commit/0c69154cffcc6e6a5b3114276c228fd19f0450e7))\n* Incorporates changes from version v1.0.0-beta.6-3-g828b33e ([c53f5b2](https://github.com/ory/oathkeeper/commit/c53f5b2aa40c78e36402679c34bbd9f898a4296a))\n* Incorporates changes from version v1.0.0-beta.8 ([92c09fb](https://github.com/ory/oathkeeper/commit/92c09fb28552949cd034ed5555c87dfda91407a3))\n* Incorporates changes from version v1.0.0-beta.9 ([b9127f6](https://github.com/ory/oathkeeper/commit/b9127f60de1d96e95310731b88b77b7b443f0d2e))\n* Update documentation links ([#144](https://github.com/ory/oathkeeper/issues/144)) ([84131d2](https://github.com/ory/oathkeeper/commit/84131d2201192c92eebcf1f03dd89f417402c985))\n* Update link to security console ([26fdda1](https://github.com/ory/oathkeeper/commit/26fdda126a9b322e5310a2a3a3ed83949f640d2c))\n* Update migration guide ([b2e6d67](https://github.com/ory/oathkeeper/commit/b2e6d6783aa869dad52e30203fa7d2510ae556ef))\n* Updates copyright notice ([e58535d](https://github.com/ory/oathkeeper/commit/e58535d7bdc5f4b6dd8e293741e53cdd8767c61c))\n* Updates issue and pull request templates ([#126](https://github.com/ory/oathkeeper/issues/126)) ([5991a92](https://github.com/ory/oathkeeper/commit/5991a922a3fd39bb5704b16116325487b73f2868))\n* Updates issue and pull request templates ([#127](https://github.com/ory/oathkeeper/issues/127)) ([e4d0e26](https://github.com/ory/oathkeeper/commit/e4d0e2691618c104c5fe749267a02538bcb35465))\n* Updates link to open collective ([25e0dee](https://github.com/ory/oathkeeper/commit/25e0dee9b0f5ad1d45adc47d0b4e923e045d023f))\n* Updates links to docs ([9dca7c0](https://github.com/ory/oathkeeper/commit/9dca7c0829fc6ac669c621295423e9054989e14f))\n* Updates links to docs ([57ac174](https://github.com/ory/oathkeeper/commit/57ac17475350d713711256e772ffd875772e59b2))\n* Updates newsletter link in README ([97f1dea](https://github.com/ory/oathkeeper/commit/97f1dea021559a43302ffe32e16cd8ee585a0656))\n* Updates readme TOC ([3c0c862](https://github.com/ory/oathkeeper/commit/3c0c8626889f39b223a558e40baf21acc7819f8c))\n* Updates README.md ([1387f9f](https://github.com/ory/oathkeeper/commit/1387f9f2fb57de5c7d23d857575fd54b9bbd824f))\n* Updates TOC ([9b6c0df](https://github.com/ory/oathkeeper/commit/9b6c0dfd8d3548aef356c0d6d700d9805866d22b))\n* Updates upgrade.me ([0118f9f](https://github.com/ory/oathkeeper/commit/0118f9ffbb171876dad21a894f1c99a9c51c6d26))\n\n### Unclassified\n\n* Add ability to configure scope strategy ([519a536](https://github.com/ory/oathkeeper/commit/519a53628696576891196f0ce733353d639e6aec))\n* Add cookies ci to handler factory ([#103](https://github.com/ory/oathkeeper/issues/103)) ([59aabfa](https://github.com/ory/oathkeeper/commit/59aabfa4b2554f03f65d618a7d7bf1c98a634da3))\n* Add cookies credentials issuer ([032d88e](https://github.com/ory/oathkeeper/commit/032d88ea8dee24506d277d22b7f4aaef2a502fa7))\n* Add endpoint for answering access requests directly ([d211641](https://github.com/ory/oathkeeper/commit/d2116410edf1f5089427858727f155bc0aa4313c)), closes [#42](https://github.com/ory/oathkeeper/issues/42):\n\n    This patch adds endpoint `/judge` to `oathkeeper serve api`. The `/judge` endpoint mimics the behavior of `oathkeeper serve proxy` but instead of forwarding the request to the upstream server, the endpoint answers directly with a HTTP response.\n    \n    The HTTP response returns status code 200 if the request should be allowed and any other status code (e.g. 401, 403) if not.\n    \n    Assuming you are making the following request:\n    \n    ```\n    PUT /judge/my-service/whatever HTTP/1.1\n    Host: oathkeeper-api:4456\n    User-Agent: curl/7.54.0\n    Authorization: bearer some-token\n    Accept: */*\n    Content-Type: application/json\n    Content-Length: 0\n    ```\n    \n    And you have a rule which allows token `some-bearer` to access `PUT /my-service/whatever` and you have a credentials issuer which does not modify the Authorization header, the response will be:\n    \n    ```\n    HTTP/1.1 200 OK\n    Authorization: bearer-sometoken\n    Content-Length: 0\n    Connection: Closed\n    ```\n    \n    If the rule denies the request, the response will be, for example:\n    \n    ```\n    HTTP/1.1 401 OK\n    Content-Length: 0\n    Connection: Closed\n    ```\n\n* Add headers credentials issuer ([b084c32](https://github.com/ory/oathkeeper/commit/b084c3271ab8ca71c9fe766de030572c69057671))\n* Add http proxy timeout config ([#132](https://github.com/ory/oathkeeper/issues/132)) ([b3718ce](https://github.com/ory/oathkeeper/commit/b3718ce56d4bcfe4610806ae6b15382226adab75)):\n\n    Add environment parameters (and description) to configure timeout settings of a server handled proxy requests.\n    \n    It will help prevent a case of unexpected closing a client connection if an upstream request is executing more than default timeout.\n    \n    \n\n* Add JWT authenticator ([61625bc](https://github.com/ory/oathkeeper/commit/61625bccebe0b478b980c66a29894dc1ffe48b0a))\n* Add NodeJS SDK ([#94](https://github.com/ory/oathkeeper/issues/94)) ([7505b71](https://github.com/ory/oathkeeper/commit/7505b717f28aaec38e07999ffe1f417484e110f7))\n* Adds ability to specify db url via env var in migrate ([b2cc5d2](https://github.com/ory/oathkeeper/commit/b2cc5d25d23c88c25e4ef415031030a9229dc593))\n* Adds and improves metrics middleware ([b0dfd97](https://github.com/ory/oathkeeper/commit/b0dfd97fd0d947e35727b0eb4301c4ebbbbf3eb0))\n* Adds log message when telemetry is active ([ed2f983](https://github.com/ory/oathkeeper/commit/ed2f9836c6ff2e496b4cbe300d7cee4f1ce5c12e))\n* Adds validator for rules ([#77](https://github.com/ory/oathkeeper/issues/77)) ([f450697](https://github.com/ory/oathkeeper/commit/f45069711b2aa5ed3ace6361a1bc8e9115a76406)):\n\n    This patch adds an input validator for rules which should prevent\n    accidental typos or similar issues when creating a rule. Additionally,\n    no invalid/unconfigured handlers (authorizers, credential issuers,\n    authenticators) can be used.\n\n* Align TLS options with hydra ([#114](https://github.com/ory/oathkeeper/issues/114)) ([c763152](https://github.com/ory/oathkeeper/commit/c7631528afc1e60ffed61a5b5e101079224e751b))\n* Allow empty upstream in rules ([e46065a](https://github.com/ory/oathkeeper/commit/e46065afa1d6ad14fa62dad9c6b145e46623c7f0))\n* Allow regex in match scheme ([c6d17c5](https://github.com/ory/oathkeeper/commit/c6d17c54c0a23c519a150971faf8486a957b2e82)), closes [#92](https://github.com/ory/oathkeeper/issues/92)\n* Allows connectivity to MySQL ([fa5388c](https://github.com/ory/oathkeeper/commit/fa5388cfc2cd31f0ecee379a6f515bf4cd48961f)), closes [#82](https://github.com/ory/oathkeeper/issues/82)\n* Authenticator noop should not bypass ([6f8ab4f](https://github.com/ory/oathkeeper/commit/6f8ab4f7d676fbcf06d1eeb4ab1452b15f090185)), closes [#97](https://github.com/ory/oathkeeper/issues/97)\n* Convert AuthenticationSession to local struct type for better handling ([b00b2a2](https://github.com/ory/oathkeeper/commit/b00b2a2498b44df5717b757bffbf13b00184bf68))\n* Disable cors per default ([#107](https://github.com/ory/oathkeeper/issues/107)) ([c5ab0c3](https://github.com/ory/oathkeeper/commit/c5ab0c3175b336bb8bea3b919cae57c838262ab4)):\n\n    This patch introduces CORS_ENABLED which defaults to \"false\".\n    \n    \n\n* Doesn't fatal if no ORY Hydra is unresponsive. ([#66](https://github.com/ory/oathkeeper/issues/66)) ([181e9ac](https://github.com/ory/oathkeeper/commit/181e9acf9bdc9adc05e6718df53b7fa1ff539c41)), closes [#65](https://github.com/ory/oathkeeper/issues/65)\n* Enables TLS option on serve api ([#116](https://github.com/ory/oathkeeper/issues/116)) ([83f1f84](https://github.com/ory/oathkeeper/commit/83f1f84a42510f2c9a6d72d33f94ff8117b56a7f))\n* Expose all ORY Hydra ports in tests ([691a72d](https://github.com/ory/oathkeeper/commit/691a72d3372d3a949acadf95130ed7d1432dafac))\n* Expose all ORY Hydra ports in tests ([add70c6](https://github.com/ory/oathkeeper/commit/add70c66f0c30848d845e80e94c9065865d65809))\n* Fix checkResponse message typo ([#106](https://github.com/ory/oathkeeper/issues/106)) ([0d0e653](https://github.com/ory/oathkeeper/commit/0d0e653e11a7b7415ef76334ebe9c1c0b50e47c8))\n* Ignore query parameters when matching url in rules. ([#139](https://github.com/ory/oathkeeper/issues/139)) ([07eb99b](https://github.com/ory/oathkeeper/commit/07eb99bdb669121bcd27559d9f11d0633f5a8877))\n* Improve compatibility with ORY Hydra 1.0.0-beta.8 ([#108](https://github.com/ory/oathkeeper/issues/108)) ([296e012](https://github.com/ory/oathkeeper/commit/296e01254b50b645fae67e51aa668d39652b0778)), closes [#101](https://github.com/ory/oathkeeper/issues/101):\n\n    This patch improves compatibility with ORY Hydra 1.0.0-beta.8 and updates vendored dependencies.\n\n* Improve hydra integration tests ([e8b7a58](https://github.com/ory/oathkeeper/commit/e8b7a586c5fcb86efddf57d4f2f97a0ff915b869))\n* Improve refresh subroutines ([cc33538](https://github.com/ory/oathkeeper/commit/cc33538f11d9292465bc2fdf0275233b1ff7df9e))\n* Improves cors parsing ([d00dfed](https://github.com/ory/oathkeeper/commit/d00dfed2724cd449744fe189a6f957bdab8f508b))\n* Improves test set up ([6b6bb88](https://github.com/ory/oathkeeper/commit/6b6bb8846385e59436469ba201d94791d3588566))\n* Include headers credential issuer in handler factory ([0e1ef1b](https://github.com/ory/oathkeeper/commit/0e1ef1bf31a4cd48fa72d42f91323d860ac886ef))\n* Introduce health and version endpoint ([029c7ff](https://github.com/ory/oathkeeper/commit/029c7ffab1b68df902d31812a7fde635cc2d880b))\n* Make subject configurable using go template ([#129](https://github.com/ory/oathkeeper/issues/129)) ([ee9dcdd](https://github.com/ory/oathkeeper/commit/ee9dcdd275b6b7f21c4a8b438ebed711acfda5e2))\n* More CredentialsIssuerHeaders tests ([079171f](https://github.com/ory/oathkeeper/commit/079171fc159a62ec4742b73d71f9116d9831bf16))\n* Move headers into new config field ([51eb9fb](https://github.com/ory/oathkeeper/commit/51eb9fb021beff28111a491daa5b9a5d17040bc7))\n* Properly document JWT refresh ([#117](https://github.com/ory/oathkeeper/issues/117)) ([2e024f9](https://github.com/ory/oathkeeper/commit/2e024f91640bf4182d1b1a6fb143d77c523f4596))\n* Properly handle conflicts on PUT and POST ([83b591d](https://github.com/ory/oathkeeper/commit/83b591d8cf3d180ad9d48a72bd92ffdb3a8192ac)), closes [#38](https://github.com/ory/oathkeeper/issues/38):\n\n    Previously, PUT and POST did not result in errors (409) when non-existing\n    resources were modified, or existing resources were created.\n    This patch resolves that.\n\n* Refactors Oathkeeper into new ecosystem ([#60](https://github.com/ory/oathkeeper/issues/60)) ([7acfbca](https://github.com/ory/oathkeeper/commit/7acfbcaca36645a984baded2dc3cbb689154ef8c))\n* Refresh rules in api mode ([08204e8](https://github.com/ory/oathkeeper/commit/08204e8eb60745d8449b2da9780e460f504710c9))\n* Remove config flag ([#111](https://github.com/ory/oathkeeper/issues/111)) ([8385cbc](https://github.com/ory/oathkeeper/commit/8385cbcb05be5e1d5df8d5b3f00130b163d651f6)), closes [#110](https://github.com/ory/oathkeeper/issues/110)\n* Remove config flag ([#111](https://github.com/ory/oathkeeper/issues/111)) ([7de77b8](https://github.com/ory/oathkeeper/commit/7de77b81495c53dd3c3fac3f3524daa10b19fc5d)), closes [#110](https://github.com/ory/oathkeeper/issues/110)\n* Remove package.json from swagger dir ([837d18c](https://github.com/ory/oathkeeper/commit/837d18ca2eec44370b965de190b317dd40369970))\n* Resolve broken introspection scope setting ([18837a9](https://github.com/ory/oathkeeper/commit/18837a9fb18c931b6fadfa39f71520f3f45e6c1c))\n* Resolve HS256 kid mismatch ([6d647d7](https://github.com/ory/oathkeeper/commit/6d647d76b1e41f4ec0d43c79934d601f5e0627af)), closes [#83](https://github.com/ory/oathkeeper/issues/83)\n* Resolves panic when network fails in \"rules import\" ([078542a](https://github.com/ory/oathkeeper/commit/078542a9c143ca6e18499157b2462a4c986230a3))\n* Streamlines https configuration variables ([#124](https://github.com/ory/oathkeeper/issues/124)) ([9f6f815](https://github.com/ory/oathkeeper/commit/9f6f8155a002699e29c5f02c8ebb48ac5dff17be)), closes [#121](https://github.com/ory/oathkeeper/issues/121)\n* Test for errors ([585672e](https://github.com/ory/oathkeeper/commit/585672e3a4a7e996d575d51889918c049e95106e))\n* Test missing Extra field ([a4d3d2d](https://github.com/ory/oathkeeper/commit/a4d3d2d4708d7c6baec90289a9a0bb956a95566b))\n* Test template caching/lookup ([ab8a402](https://github.com/ory/oathkeeper/commit/ab8a40298071eff9fc0bec66470d7392226cdf6e))\n* Update keto to latest ([3e2a8de](https://github.com/ory/oathkeeper/commit/3e2a8dee9ead7a89d537162b8c4271444ab137df))\n* Upgrade keto authorizer to 0.2.0 ([#145](https://github.com/ory/oathkeeper/issues/145)) ([bcd4836](https://github.com/ory/oathkeeper/commit/bcd4836d2ad38821d2a3c856ff3b851e5dce344a))\n* Support \"scope\" claim as a string in jwt authenticator (#137) ([ab5240e](https://github.com/ory/oathkeeper/commit/ab5240e9a462cfaf2f632d6b535a3177d2c80c4e)), closes [#137](https://github.com/ory/oathkeeper/issues/137)\n* Test nesting of various types ([188748d](https://github.com/ory/oathkeeper/commit/188748d526edc8aa0e71b163b7d7188755fb9b7f))\n* Update rules stub ([475f39a](https://github.com/ory/oathkeeper/commit/475f39a5f506b21557def2eb967ecdc7bd84d245))\n* Upgrade superagent version ([44ed240](https://github.com/ory/oathkeeper/commit/44ed24017fec12a4de8505b3050018230e885981))\n* Use print funcmap function to override text/template print ([76b2d9d](https://github.com/ory/oathkeeper/commit/76b2d9d13c7983ac24c2076a5f5770f2cb380d43))\n* Validate handler configurations ([a558103](https://github.com/ory/oathkeeper/commit/a55810339ba3ec85654c358b902733c3125f01f0))\n* Adds docker-compose example with postgres ([84f1313](https://github.com/ory/oathkeeper/commit/84f131387845a1f0246d40b074d446ec58b014c0))\n* Removes obsolete benchmark ([3f259da](https://github.com/ory/oathkeeper/commit/3f259da7766eb6a42b54bb3a6f3ddeb49d9363a1))\n* Resolves an issue with cached matchers ([951da25](https://github.com/ory/oathkeeper/commit/951da251e3e862f2d0a1e5076c028a481f0235dd)), closes [#73](https://github.com/ory/oathkeeper/issues/73):\n\n    This patch resolves an issue where updates would not properly propagate. This caused deleted rules to still be available in the proxy.\n\n* Resolves issues with broken tests ([6604045](https://github.com/ory/oathkeeper/commit/6604045191446baca03791940ddf746aed4799d1))\n* Resolves naming issues and updates readme ([5495d4a](https://github.com/ory/oathkeeper/commit/5495d4aa6d23a04891b53694e4fc0e0857c2f955))\n* Resolves potential panic in request handler ([ef6e889](https://github.com/ory/oathkeeper/commit/ef6e8894f034ec66bb3b0da1bdda762fe428a14d))\n* Resolves recursive stack overflow ([#81](https://github.com/ory/oathkeeper/issues/81)) ([0594cda](https://github.com/ory/oathkeeper/commit/0594cda346f7ce5af1dc86c6335c1b782632d9eb)), closes [#80](https://github.com/ory/oathkeeper/issues/80)\n* Reduces setup complexity by making strategies configurable ([6626f8f](https://github.com/ory/oathkeeper/commit/6626f8f2aa98f8ee05e5b1f63c1b698083f9ae78)), closes [#71](https://github.com/ory/oathkeeper/issues/71):\n\n    This patch adds another ID Token signing algorithm (HS256) which is easier to set up as it does not rely on ORY Hydra but instead on a shared secret.\n    \n    Additionally the ability to specify which ID Token singing algorithm to use has been added. Environmental variables to configure the behvaiour have been added as well.\n    \n    Further, the ORY Keto Warden Authorizer strategy is now optional and disabled when the environment variable `AUTHORIZER_KETO_WARDEN_KETO_URL` is empty.\n\n* Updates to ORY Hydra v1.0.0-beta.2 ([e4c9f2e](https://github.com/ory/oathkeeper/commit/e4c9f2eeed41ab8deeb54f2137ea1b2d90a3bdc3))\n* Tells linguist to ignore SDK files ([ace7f34](https://github.com/ory/oathkeeper/commit/ace7f3411f882c6e89bef7800fb2b700e51cd5f6))\n\n\n# [0.11.12](https://github.com/ory/oathkeeper/compare/v0.0.29...v0.11.12) (2018-05-07)\n\nIntroduces new versioning number to match ORY Hydra\n\n\n\n### Documentation\n\n* Adds automatic summary generation ([#49](https://github.com/ory/oathkeeper/issues/49)) ([20fefbc](https://github.com/ory/oathkeeper/commit/20fefbcac042e2a251f8bf047f252e251dbc704b))\n* Adds edit on github links ([95af1bb](https://github.com/ory/oathkeeper/commit/95af1bba9cc1b5dafe12f11ab9876371efedd92a))\n* Adds license note to all source files ([#51](https://github.com/ory/oathkeeper/issues/51)) ([2c8ff2f](https://github.com/ory/oathkeeper/commit/2c8ff2f944574210964456126342d7a41efb73b7))\n* Fixes redirect path ([9bca2f3](https://github.com/ory/oathkeeper/commit/9bca2f36a5d9ef75afb97e63faaffa912c9121d3))\n* Moves documentation to new repository ([#57](https://github.com/ory/oathkeeper/issues/57)) ([a9f21f3](https://github.com/ory/oathkeeper/commit/a9f21f3c5a71442ee879a8457798f8965b869f28))\n* Redirect to ory domain ([0599e63](https://github.com/ory/oathkeeper/commit/0599e63d8628effa242b85e28f66df6a95616a45))\n* Removes newline from swagger doc ([5e297b3](https://github.com/ory/oathkeeper/commit/5e297b39794e4e015dedd716f3402f0bfb6efc1c))\n* Removes stray line in api docs ([bed1a04](https://github.com/ory/oathkeeper/commit/bed1a048cd54bd103c3c6bc62455671a3536d04f))\n* Removes summary plugin ([ce06f4e](https://github.com/ory/oathkeeper/commit/ce06f4eaffda106d009f2b554aecda3e3ba86434))\n* Resolves broken policy and client definitions ([#55](https://github.com/ory/oathkeeper/issues/55)) ([4676f40](https://github.com/ory/oathkeeper/commit/4676f4054090ef705c705a3eaac616f8f513b980)), closes [#53](https://github.com/ory/oathkeeper/issues/53)\n* Updates chat badge to discord ([1bbac52](https://github.com/ory/oathkeeper/commit/1bbac524d5634d8aa286cdd14d9230807123da85))\n* Updates execution instructions ([#56](https://github.com/ory/oathkeeper/issues/56)) ([3bcfd8b](https://github.com/ory/oathkeeper/commit/3bcfd8b1b91df97f78eb6e7b9bb2df7ba398b158)):\n\n    Adjusting run script to respect env variables\n\n* Updates README.md ([#58](https://github.com/ory/oathkeeper/issues/58)) ([bdb542f](https://github.com/ory/oathkeeper/commit/bdb542fcb6006c218f499793f0e44ce30f79cf2a))\n* Updates swagger docs ([5ea68c2](https://github.com/ory/oathkeeper/commit/5ea68c290d757e341932b00cb89c2a9e5b7e2429))\n\n### Unclassified\n\n* Introduces new versioning number to match ORY Hydra ([75b5121](https://github.com/ory/oathkeeper/commit/75b51213a50750a12f670060a34aecadf49fa3e2))\n* Adds mock generation script ([00b51b7](https://github.com/ory/oathkeeper/commit/00b51b7a71089d04a4b3005e5fd15d5e9db22939))\n* Corrects logging typo ([#52](https://github.com/ory/oathkeeper/issues/52)) ([d415291](https://github.com/ory/oathkeeper/commit/d41529123a756cd202b2216a0aa746e137e72e5e)):\n\n    This corrects logging from 'oahtkeeper-proxy' to 'oathkeeper-proxy' in,\n    e.g., the proxy latency logline.\n\n* Updates hydra sdk mock ([2ff8032](https://github.com/ory/oathkeeper/commit/2ff8032f9362a8ef5d85692ce49d425bfc18f2f0))\n* Updates hydra to 0.11.6 ([ee969f6](https://github.com/ory/oathkeeper/commit/ee969f68145c5398b79fe4e7a9bf7fa74d1e6bf3))\n* Updates license header ([94a2ed2](https://github.com/ory/oathkeeper/commit/94a2ed2a0c381fe2fbf5182c45acb52ca4e2c164))\n* Use source file from vendor for mock generation ([42517c6](https://github.com/ory/oathkeeper/commit/42517c6df9bfb1a5a14606229916b8ba674aa3e1))\n* Uses Hydra v0.11.6 in tests ([9c2cc89](https://github.com/ory/oathkeeper/commit/9c2cc8901f32ab8042fadbd32475e98650c37e72))\n* Adds license ([cc13ae8](https://github.com/ory/oathkeeper/commit/cc13ae8f002426dc3b39b2184b438331e6f63522))\n* Updates README.md ([c9340dc](https://github.com/ory/oathkeeper/commit/c9340dc94d1b6aec4825c8a2ccf423aee1a5fd3b))\n\n\n# [0.0.29](https://github.com/ory/oathkeeper/compare/v0.0.28...v0.0.29) (2017-12-19)\n\nAdds use field to well known (#48)\n\n\n\n\n### Unclassified\n\n* Adds use field to well known (#48) ([f7353ea](https://github.com/ory/oathkeeper/commit/f7353ea1de25c37f58b9e7532e06210ea575bc29)), closes [#48](https://github.com/ory/oathkeeper/issues/48)\n\n\n# [0.0.28](https://github.com/ory/oathkeeper/compare/v0.0.27...v0.0.28) (2017-12-19)\n\nReplaces key discovery with well-known feature (#46)\n\nCloses #43\n\n\n### Unclassified\n\n* Replaces key discovery with well-known feature (#46) ([e343a61](https://github.com/ory/oathkeeper/commit/e343a61d6ae8f149f61c832fc567533651a1b16f)), closes [#46](https://github.com/ory/oathkeeper/issues/46) [#43](https://github.com/ory/oathkeeper/issues/43)\n\n\n# [0.0.27](https://github.com/ory/oathkeeper/compare/v0.0.26...v0.0.27) (2017-12-12)\n\nAdds cors capabilities to management server\n\n\n\n### Unclassified\n\n* Adds cors capabilities to management server ([6519846](https://github.com/ory/oathkeeper/commit/6519846691737a4f8ddfb5c55186d1b0c26db8ad))\n\n\n# [0.0.26](https://github.com/ory/oathkeeper/compare/v0.0.25...v0.0.26) (2017-12-11)\n\nAdds hydra.introspect to required tokens\n\n\n\n### Unclassified\n\n* Adds hydra.introspect to required tokens ([b66462a](https://github.com/ory/oathkeeper/commit/b66462a0ec62d82adb805c6aa29d807c21c5e20b))\n* Fixes broken image link in docs ([1aa2404](https://github.com/ory/oathkeeper/commit/1aa2404b9fa88e69b6e18832f1532978012dba27))\n\n\n# [0.0.25](https://github.com/ory/oathkeeper/compare/v0.0.24...v0.0.25) (2017-11-28)\n\nAdd extra data from token introspection to session\n\n\n\n### Unclassified\n\n* Add extra data from token introspection to session ([ce8f9f2](https://github.com/ory/oathkeeper/commit/ce8f9f265bad2d60b467d788d4314270c549a461))\n\n\n# [0.0.24](https://github.com/ory/oathkeeper/compare/v0.0.23...v0.0.24) (2017-11-26)\n\nReplaces LogError with direct error logging\n\n\n\n### Unclassified\n\n* Replaces LogError with direct error logging ([73994b8](https://github.com/ory/oathkeeper/commit/73994b850629c6ec267903ad09e2a6eceef7a9cd))\n* Upgrades vendor dependencies ([4207aef](https://github.com/ory/oathkeeper/commit/4207aef3c00a64f315dc0e85cd83adb6e3c9660c))\n* Introduces telemetry module and adds documentation ([c5a7f7a](https://github.com/ory/oathkeeper/commit/c5a7f7a8fc6e0e2a264b5bc3dd29174f86f4b5c9)), closes [#27](https://github.com/ory/oathkeeper/issues/27) [#34](https://github.com/ory/oathkeeper/issues/34)\n* Use oathkeeper public url as issuer ([1e5ae00](https://github.com/ory/oathkeeper/commit/1e5ae00f457aafdd7a284a388704ce954b3339b1))\n\n\n# [0.0.23](https://github.com/ory/oathkeeper/compare/v0.0.22...v0.0.23) (2017-11-24)\n\nPrint formatted output string in rule management CLI (#35)\n\n\n\n\n### Documentation\n\n* Add JWK set docs ([#33](https://github.com/ory/oathkeeper/issues/33)) ([95abec8](https://github.com/ory/oathkeeper/commit/95abec817a1fb053a19d47e66725764f56f4c9cc))\n* Update readme ([f448908](https://github.com/ory/oathkeeper/commit/f448908fb38f3b069de488a59e27ff082e610e1a))\n\n### Unclassified\n\n* Print formatted output string in rule management CLI (#35) ([b14c74e](https://github.com/ory/oathkeeper/commit/b14c74e6270c4e2fdd9741c3cbe619336efd1435)), closes [#35](https://github.com/ory/oathkeeper/issues/35)\n* Update docs and add tests (#32) ([c6bf7d1](https://github.com/ory/oathkeeper/commit/c6bf7d15e8b935b6ed64551391f9aa23968cf4d9)), closes [#32](https://github.com/ory/oathkeeper/issues/32)\n\n\n# [0.0.22](https://github.com/ory/oathkeeper/compare/v0.0.21...v0.0.22) (2017-11-20)\n\nRenames bypass values for better clarity\n\nCloses #13\nCloses #29\n\n\n\n### Unclassified\n\n* Renames bypass values for better clarity ([46a717e](https://github.com/ory/oathkeeper/commit/46a717e0428fba1fcabb0bdb669acaba39aa5444)), closes [#13](https://github.com/ory/oathkeeper/issues/13) [#29](https://github.com/ory/oathkeeper/issues/29)\n\n\n# [0.0.21](https://github.com/ory/oathkeeper/compare/v0.0.20...v0.0.21) (2017-11-19)\n\nRequest hydra.keys scope and fix panic\n\n\n\n### Unclassified\n\n* Request hydra.keys scope and fix panic ([546b2cf](https://github.com/ory/oathkeeper/commit/546b2cff5e7cea306a60963f646ad4522f5bfd15))\n\n\n# [0.0.20](https://github.com/ory/oathkeeper/compare/v0.0.19...v0.0.20) (2017-11-18)\n\ndocs: Improve swagger documentation\n\n\n\n### Documentation\n\n* Add developer guide link to readme ([68be400](https://github.com/ory/oathkeeper/commit/68be400c070a63b3ec8a7f40bc343ed39a45bed5))\n* Add install and run section ([87f0700](https://github.com/ory/oathkeeper/commit/87f07004b47d9803246bc42bf78c3e5100969033))\n* Fix table of contents in summary ([fdb752b](https://github.com/ory/oathkeeper/commit/fdb752b3172ed746776cb7153f4523b10920f492))\n* Improve swagger documentation ([8f16a9b](https://github.com/ory/oathkeeper/commit/8f16a9b36e1b75415f5e367c0ae5589a74187139))\n* Wrote basic developer guide ([952d27c](https://github.com/ory/oathkeeper/commit/952d27c7639a80b5daddb702a6f790e855b1422b))\n\n### Unclassified\n\n* Replace shared secret with RSA key from Hydra for ID token signing ([e7ed8ca](https://github.com/ory/oathkeeper/commit/e7ed8ca672f617a5d67a0d70ca665e3b45fe3e67))\n* Add rules management capabilities to the cli ([289c38a](https://github.com/ory/oathkeeper/commit/289c38ae4b9c67b654e3b24dc45bd28968f75937))\n* Format cmd/serve ([bc2e7c1](https://github.com/ory/oathkeeper/commit/bc2e7c159eea9a203820e396f7588a007722efc8))\n* Ignore gitbook output directory ([580b94f](https://github.com/ory/oathkeeper/commit/580b94fa921363782e02d66981172659dc76dadc))\n\n\n# [0.0.19](https://github.com/ory/oathkeeper/compare/v0.0.18...v0.0.19) (2017-11-13)\n\nevaluator: Use full request URL\n\n\n\n### Unclassified\n\n* Use full request URL ([2b4b149](https://github.com/ory/oathkeeper/commit/2b4b1492ce3356a7a251e241a308669517ddba3e))\n\n\n# [0.0.18](https://github.com/ory/oathkeeper/compare/v0.0.17...v0.0.18) (2017-11-13)\n\nevaluator: Improve audit capabilities\n\n\n\n### Unclassified\n\n* Improve audit capabilities ([c952d21](https://github.com/ory/oathkeeper/commit/c952d21bd59c7f318a3e7c4f98978eb8b3fc7231))\n* Resolve potential panic in token id generation ([8fe9e9a](https://github.com/ory/oathkeeper/commit/8fe9e9a5bd7b951b93c4966f8585945074ff104d)), closes [#22](https://github.com/ory/oathkeeper/issues/22)\n\n\n# [0.0.17](https://github.com/ory/oathkeeper/compare/v0.0.16...v0.0.17) (2017-11-12)\n\nIntroduces surrogate_id to SQLManager (#21)\n\n\n\n\n### Unclassified\n\n* Introduces surrogate_id to SQLManager (#21) ([fbe272f](https://github.com/ory/oathkeeper/commit/fbe272f36e64c4e15758a34f62cc3d03e63c7c64)), closes [#21](https://github.com/ory/oathkeeper/issues/21)\n\n\n# [0.0.16](https://github.com/ory/oathkeeper/compare/v0.0.15...v0.0.16) (2017-11-12)\n\nReplace MatchesPath with MatchesURL (#20)\n\n\n\n\n### Unclassified\n\n* Replace MatchesPath with MatchesURL (#20) ([4ee776c](https://github.com/ory/oathkeeper/commit/4ee776cc08201f91dfdab5c0c259c4cfffd88ddb)), closes [#20](https://github.com/ory/oathkeeper/issues/20)\n\n\n# [0.0.15](https://github.com/ory/oathkeeper/compare/v0.0.14...v0.0.15) (2017-11-09)\n\nAdd HTTPS capabilities and document proxy/management commands (#19)\n\n\n\n\n### Unclassified\n\n* Add HTTPS capabilities and document proxy/management commands (#19) ([98ef623](https://github.com/ory/oathkeeper/commit/98ef623e64a58afa99fcb2db67bf5c514c86334c)), closes [#19](https://github.com/ory/oathkeeper/issues/19)\n\n\n# [0.0.14](https://github.com/ory/oathkeeper/compare/v0.0.13...v0.0.14) (2017-11-07)\n\nMake refresh_delay configurable and skip it on boot (#18)\n\n\n\n\n### Unclassified\n\n* Make refresh_delay configurable and skip it on boot (#18) ([4863a82](https://github.com/ory/oathkeeper/commit/4863a823d8f510e5c82d7f8c34f5753f18861a03)), closes [#18](https://github.com/ory/oathkeeper/issues/18)\n\n\n# [0.0.13](https://github.com/ory/oathkeeper/compare/v0.0.12...v0.0.13) (2017-11-07)\n\nStore rules path match in plaintext (#17)\n\n\n\n\n### Unclassified\n\n* Store rules path match in plaintext (#17) ([6570b5d](https://github.com/ory/oathkeeper/commit/6570b5d7f3169f63f9d8c31d844660f5394fc37a)), closes [#17](https://github.com/ory/oathkeeper/issues/17)\n\n\n# [0.0.12](https://github.com/ory/oathkeeper/compare/v0.0.11...v0.0.12) (2017-11-07)\n\nUse ladon regex compiler for matches (#16)\n\n\n\n\n### Unclassified\n\n* Use ladon regex compiler for matches (#16) ([972a328](https://github.com/ory/oathkeeper/commit/972a328b1a0fca0dfcc41487492f0203c284b54a)), closes [#16](https://github.com/ory/oathkeeper/issues/16)\n* Fix typo in circle-ci test-docker job ([5618c30](https://github.com/ory/oathkeeper/commit/5618c3079ef559ad5dfbacc398a8b95b3c333643))\n* Run docker image in test ([12b5f13](https://github.com/ory/oathkeeper/commit/12b5f13ad997b7c427505bffa1ad7e33aa2de684))\n\n\n# [0.0.11](https://github.com/ory/oathkeeper/compare/v0.0.10...v0.0.11) (2017-11-06)\n\nMove gatekeeper to $PATH in docker image\n\n\n\n### Unclassified\n\n* Move gatekeeper to $PATH in docker image ([81e5562](https://github.com/ory/oathkeeper/commit/81e5562ead12d1376f6eadff53ce36339dd3599a))\n* Force docker version 17.10 in circle ([3927a78](https://github.com/ory/oathkeeper/commit/3927a789d7b93849fb1b2d0edbccf45781c9030b))\n\n\n# [0.0.10](https://github.com/ory/oathkeeper/compare/v0.0.9...v0.0.10) (2017-11-06)\n\nAdd ssl certificates to scratch image\n\n\n\n### Unclassified\n\n* Add ssl certificates to scratch image ([56a3243](https://github.com/ory/oathkeeper/commit/56a3243d1c4be1308b1aa22244548359c94ee181))\n* Build static binary within docker ([4d6d8bf](https://github.com/ory/oathkeeper/commit/4d6d8bf22f7aea16fa21e4fee99c829b9e76de0d))\n\n\n# [0.0.9](https://github.com/ory/oathkeeper/compare/v0.0.8...v0.0.9) (2017-11-06)\n\nBuild binary statically with CGO disabled\n\n\n\n### Unclassified\n\n* Build binary statically with CGO disabled ([6dd3761](https://github.com/ory/oathkeeper/commit/6dd376171e3c1219de54984a9a27ac44d76d897b))\n\n\n# [0.0.8](https://github.com/ory/oathkeeper/compare/v0.0.7...v0.0.8) (2017-11-06)\n\nMake oathkeeper binary executable#\n\n\n\n### Unclassified\n\n* Make oathkeeper binary executable# ([9e24888](https://github.com/ory/oathkeeper/commit/9e24888654675208f96913e6c11233b598e78815))\n\n\n# [0.0.7](https://github.com/ory/oathkeeper/compare/v0.0.6...v0.0.7) (2017-11-06)\n\nBuild oathekeeper docker image statically (#14)\n\n* Build oathekeeper docker image statically\r\n\r\n* Build oathekeeper docker image statically\r\n\n\n\n### Unclassified\n\n* Build oathekeeper docker image statically (#14) ([dbd2037](https://github.com/ory/oathkeeper/commit/dbd2037b56b6104b79607b20394be0e9a30e67e1)), closes [#14](https://github.com/ory/oathkeeper/issues/14):\n\n    * Build oathekeeper docker image statically\n    \n    * Build oathekeeper docker image statically\n\n\n\n# [0.0.6](https://github.com/ory/oathkeeper/compare/v0.0.5...v0.0.6) (2017-11-03)\n\nAdded serve all command\n\n\n\n### Unclassified\n\n* Added serve all command ([dfc071c](https://github.com/ory/oathkeeper/commit/dfc071c02d9fa6fda9832bd35fdc4b1eb96c63c6))\n\n\n# [0.0.5](https://github.com/ory/oathkeeper/compare/v0.0.4...v0.0.5) (2017-11-01)\n\nRemove goveralls from circle build\n\n\n\n### Unclassified\n\n* Remove goveralls from circle build ([8362e1c](https://github.com/ory/oathkeeper/commit/8362e1c125e2bd74faefd18ff26a9b06f88792aa))\n* Add cors handling to proxy ([84cec15](https://github.com/ory/oathkeeper/commit/84cec15900a97dec6b92423912ef6d4802121036))\n* Use circle ci build status badge ([b776e05](https://github.com/ory/oathkeeper/commit/b776e05e5a3ad60b1b993b6f8dea1d6f5baef7c6))\n* Use circle ci build status badge ([65c4100](https://github.com/ory/oathkeeper/commit/65c4100eab6a8a09ca96e31b009545a09400b1a8))\n* Switch from glide to golang/dep for vendoring ([ec63fa4](https://github.com/ory/oathkeeper/commit/ec63fa47af310a6936f4afada49700c9ca54b9ad))\n* Resolve tests by replacing nil slice (#7) ([971d020](https://github.com/ory/oathkeeper/commit/971d02082956969c9cd6cfcb5afb257606ddeb6b)), closes [#7](https://github.com/ory/oathkeeper/issues/7)\n\n\n# [0.0.4](https://github.com/ory/oathkeeper/compare/v0.0.3...v0.0.4) (2017-10-21)\n\nReturn arrays instead of null on rule creation (#6)\n\n\n\n\n### Unclassified\n\n* Return arrays instead of null on rule creation (#6) ([02e88be](https://github.com/ory/oathkeeper/commit/02e88beda5415e51b42e33527af90cf59d6a759e)), closes [#6](https://github.com/ory/oathkeeper/issues/6)\n* Add circleci configuration file (#5) ([76e58f2](https://github.com/ory/oathkeeper/commit/76e58f2033e86c522875faafc77717f31274b4f7)), closes [#5](https://github.com/ory/oathkeeper/issues/5)\n\n\n# [0.0.3](https://github.com/ory/oathkeeper/compare/v0.0.2...v0.0.3) (2017-10-18)\n\nForce linefeed for shell scripts\n\n\n\n### Unclassified\n\n* Force linefeed for shell scripts ([1e4fc77](https://github.com/ory/oathkeeper/commit/1e4fc771df44b7f67b616bc652d0c280131d59cf))\n* When introspection fails return unauthorized ([f5295b4](https://github.com/ory/oathkeeper/commit/f5295b484fd9430bcb0d5333ca9b395f88812d62))\n\n\n# [0.0.2](https://github.com/ory/oathkeeper/compare/v0.0.1...v0.0.2) (2017-10-12)\n\ncmd: remove unnecessary scope hydra.warden.*\n\n\n\n### Unclassified\n\n* Add ability to skip acp checks ([18facbb](https://github.com/ory/oathkeeper/commit/18facbbf42baa34aa8740c2952789d1f608cfb90))\n* Remove unnecessary scope hydra.warden.* ([2214498](https://github.com/ory/oathkeeper/commit/2214498c477b8cfb739c0326437d684b291d16eb))\n\n\n# [0.0.1](https://github.com/ory/oathkeeper/compare/072f5e4321ac3a143544cf70da337f0734a86483...v0.0.1) (2017-10-10)\n\ntravis: add goveralls report submission (#2)\n\n\n\n\n### Documentation\n\n* Update readme ([c11056a](https://github.com/ory/oathkeeper/commit/c11056a0714275f21543f2a9a7361e5223c590e8))\n\n### Unclassified\n\n* Add goveralls report submission ([#2](https://github.com/ory/oathkeeper/issues/2)) ([13f9f81](https://github.com/ory/oathkeeper/commit/13f9f81becb7efb0dba32c8ca4d6df7e98ba7191))\n* Initial commit ([bff82ab](https://github.com/ory/oathkeeper/commit/bff82ab818f993ea091257c261140f4fb0d51038))\n* Initial commit ([072f5e4](https://github.com/ory/oathkeeper/commit/072f5e4321ac3a143544cf70da337f0734a86483))\n\n\n", "---\nid: authn\ntitle: Authenticators\n---\n\nAn authenticator is responsible for authenticating request credentials. ORY\nOathkeeper supports different authenticators and we will add more as the project\nprogresses.\n\nAn authenticator inspects the HTTP request (e.g. the HTTP Authorization Header)\nand executes some business logic that returns true (for authentication ok) or\nfalse (for authentication invalid) as well as a subject (\"user\"). The subject is\ntypically the \"user\" that made the request, but it could also be a machine (if\nyou have machine-2-machine interaction) or something different.\n\nEach authenticator has two keys:\n\n- `handler` (string, required): Defines the handler (e.g. `noop`) to be used.\n- `config` (object, optional): Configures the handler. Configuration keys vary\n  per handler. The configuration can be defined in the global configuration\n  file, or per access rule.\n\n**Example**\n\n```json\n{\n  \"authenticators\": [\n    {\n      \"handler\": \"noop\",\n      \"config\": {}\n    }\n  ]\n}\n```\n\nYou can define more than one authenticator in the Access Rule. The first\nauthenticator that is able to handle the credentials will be consulted and other\nauthenticators will be ignored:\n\n```json\n{\n  \"authenticators\": [\n    {\n      \"handler\": \"a\"\n    },\n    {\n      \"handler\": \"b\"\n    },\n    {\n      \"handler\": \"c\"\n    }\n  ]\n}\n```\n\nIf handler `a` is able to handle the provided credentials, then handler `b` and\n`c` will be ignored. If handler `a` can not handle the provided credentials but\nhandler `b` can, then handler `a` and `c` will be ignored. Handling the provided\ncredentials means that the authenticator knows how to handle, for example, the\n`Authorization: basic` header. It does not mean that the credentials are valid!\nIf a handler encounters invalid credentials, then other handlers will be ignored\ntoo.\n\n## `noop`\n\nThe `noop` handler tells ORY Oathkeeper to bypass authentication, authorization,\nand mutation. This implies that no authorization will be executed and no\ncredentials will be issued. It's basically a pass-all authenticator that allows\nany request to be forwarded to the upstream URL.\n\n> Using this handler is basically an allow-all configuration. It makes sense\n> when the upstream handles access control itself or does not need any type of\n> access control.\n\n### Configuration\n\nThis handler is not configurable.\n\nTo enable this handler, set:\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  noop:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n```\n\n### Access Rule Example\n\n```sh\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"noop\"\n  }]\n}]\n\n$ curl -X GET http://my-app/some-route\n\nHTTP/1.0 200 Status OK\nThe request has been allowed!\n```\n\n## `unauthorized`\n\nThe `unauthorized` handler tells ORY Oathkeeper to reject all requests as\nunauthorized.\n\n### Configuration\n\nThis handler is not configurable.\n\nTo enable this handler, set:\n\n```yaml\n# Global configuration file oathkeeper.yml\nunauthorized:\n  noop:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n```\n\n### Access Rule Example\n\n```sh\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"unauthorized\"\n  }]\n}]\n\n$ curl -X GET http://my-app/some-route\n\nHTTP/1.0 401 Unauthorized\n```\n\n## `anonymous`\n\nThe `anonymous` authenticator checks whether or not an `Authorization` header is\nset. If not, it will set the subject to `anonymous`.\n\n### Configuration\n\n- `subject` (string, optional) - Sets the anonymous username. Defaults to\n  \"anonymous\". Common names include \"guest\", \"anon\", \"anonymous\", \"unknown\".\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  anonymous:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n\n    config:\n      subject: guest\n```\n\n```yaml\n# Some Access Rule: access-rule-1.yaml\nid: access-rule-1\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: anonymous\n    config:\n      subject: guest\n```\n\n### Access Rule Example\n\nThe following rule allows all requests to `GET http://my-app/some-route` and\nsets the subject name to the anonymous username, as long as no `Authorization`\nheader is set in the HTTP request:\n\n```shell\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"anonymous\"\n  }],\n  \"authorizer\": { \"handler\": \"allow\" },\n  \"mutators\": [{ \"handler\": \"noop\" }]\n}]\n\n$ curl -X GET http://my-app/some-route\n\nHTTP/1.0 200 Status OK\nThe request has been allowed! The subject is: \"anonymous\"\n\n$ curl -X GET -H \"Authorization: Bearer foobar\" http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because credentials have been provided but only the anonymous\nauthenticator is enabled for this URL.\n```\n\n## `cookie_session`\n\nThe `cookie_session` authenticator will forward the request method, path and\nheaders to a session store. If the session store returns `200 OK` and body\n`{ \"subject\": \"...\", \"extra\": {} }` then the authenticator will set the subject\nappropriately.\n\n### Configuration\n\n- `check_session_url` (string, required) - The session store to forward request\n  method/path/headers to for validation.\n- `only` ([]string, optional) - If set, only requests that have at least one of\n  the set cookies will be forwarded, others will be passed to the next\n  authenticator. If unset, all requests are forwarded.\n- `preserve_path` (boolean, optional) - If set, any path in `check_session_url`\n  will be preserved instead of replacing the path with the path of the request\n  being checked.\n- `extra_from` (string, optional - defaults to `extra`) - A\n  [GJSON Path](https://github.com/tidwall/gjson/blob/master/SYNTAX.md) pointing\n  to the `extra` field. This defaults to `extra`, but it could also be `@this`\n  (for the root element), `session.foo.bar` for\n  `{ \"subject\": \"...\", \"session\": { \"foo\": {\"bar\": \"whatever\"} } }`, and so on.\n- `subject_from` (string, optional - defaults to `subject`) - A\n  [GJSON Path](https://github.com/tidwall/gjson/blob/master/SYNTAX.md) pointing\n  to the `subject` field. This defaults to `subject`. Example: `identity.id` for\n  `{ \"identity\": { \"id\": \"1234\" } }`.\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  cookie_session:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n\n    config:\n      check_session_url: https://session-store-host\n```\n\n```yaml\n# Some Access Rule: access-rule-1.yaml\nid: access-rule-1\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: cookie_session\n    config:\n      check_session_url: https://session-store-host\n      only:\n        - sessionid\n```\n\n```yaml\n# Some Access Rule Preserving Path: access-rule-2.yaml\nid: access-rule-2\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: cookie_session\n    config:\n      check_session_url: https://session-store-host/check-session\n      only:\n        - sessionid\n      preserve_path: true\n```\n\n### Access Rule Example\n\n```shell\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"cookie_session\"\n  }],\n  \"authorizer\": { \"handler\": \"allow\" },\n  \"mutators\": [{ \"handler\": \"noop\" }]\n}]\n\n$ curl -X GET -b sessionid=abc http://my-app/some-route\n\nHTTP/1.0 200 OK\nThe request has been allowed! The subject is: \"peter\"\n\n$ curl -X GET -b sessionid=def http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because the provided credentials are invalid.\n```\n\n## `bearer_token`\n\nThe `bearer_token` authenticator will forward the request method, path and\nheaders to a session store. If the session store returns `200 OK` and body\n`{ \"subject\": \"...\", \"extra\": {} }` then the authenticator will set the subject\nappropriately.\n\n### Configuration\n\n- `check_session_url` (string, required) - The session store to forward request\n  method/path/headers to for validation.\n- `preserve_path` (boolean, optional) - If set, any path in `check_session_url`\n  will be preserved instead of replacing the path with the path of the request\n  being checked.\n- `extra_from` (string, optional - defaults to `extra`) - A\n  [GJSON Path](https://github.com/tidwall/gjson/blob/master/SYNTAX.md) pointing\n  to the `extra` field. This defaults to `extra`, but it could also be `@this`\n  (for the root element), `session.foo.bar` for\n  `{ \"subject\": \"...\", \"session\": { \"foo\": {\"bar\": \"whatever\"} } }`, and so on.\n- `subject_from` (string, optional - defaults to `sub`) - A\n  [GJSON Path](https://github.com/tidwall/gjson/blob/master/SYNTAX.md) pointing\n  to the `sub` field. This defaults to `sub`. Example: `identity.id` for\n  `{ \"identity\": { \"id\": \"1234\" } }`.\n- `token_from` (object, optional) - The location of the bearer token. If not\n  configured, the token will be received from a default location -\n  'Authorization' header. One and only one location (header, query, or cookie)\n  must be specified.\n  - `header` (string, required, one of) - The header (case insensitive) that\n    must contain a Bearer token for request authentication. It can't be set\n    along with `query_parameter` or `cookie`.\n  - `query_parameter` (string, required, one of) - The query parameter (case\n    sensitive) that must contain a Bearer token for request authentication. It\n    can't be set along with `header` or `cookie`.\n  - `cookie` (string, required, one of) - The cookie (case sensitive) that must\n    contain a Bearer token for request authentication. It can't be set along\n    with `header` or `query_parameter`\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  bearer_token:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n\n    config:\n      check_session_url: https://session-store-host\n      token_from:\n        header: Custom-Authorization-Header\n        # or\n        # query_parameter: auth-token\n        # or\n        # cookie: auth-token\n```\n\n```yaml\n# Some Access Rule: access-rule-1.yaml\nid: access-rule-1\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: bearer_token\n    config:\n      check_session_url: https://session-store-host\n      token_from:\n        query_parameter: auth-token\n        # or\n        # header: Custom-Authorization-Header\n        # or\n        # cookie: auth-token\n```\n\n```yaml\n# Some Access Rule Preserving Path: access-rule-2.yaml\nid: access-rule-2\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: bearer_token\n    config:\n      check_session_url: https://session-store-host/check-session\n      token_from:\n        query_parameter: auth-token\n        # or\n        # header: Custom-Authorization-Header\n        # or\n        # cookie: auth-token\n      preserve_path: true\n```\n\n### Access Rule Example\n\n```shell\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"bearer_token\"\n  }],\n  \"authorizer\": { \"handler\": \"allow\" },\n  \"mutators\": [{ \"handler\": \"noop\" }]\n}]\n\n$ curl -X GET -H 'Authorization: Bearer valid-token' http://my-app/some-route\n\nHTTP/1.0 200 OK\nThe request has been allowed! The subject is: \"peter\"\n\n$ curl -X GET -H 'Authorization: Bearer invalid-token' http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because the provided credentials are invalid.\n```\n\n## `oauth2_client_credentials`\n\nThis `oauth2_client_credentials` uses the username and password from HTTP Basic\nAuthorization (`Authorization: Basic base64(<username:password>)` to perform the\nOAuth 2.0 Client Credentials grant in order to detect if the provided\ncredentials are valid.\n\nThis authenticator will use the username from the HTTP Basic Authorization\nheader as the subject for this request.\n\n> If you are unfamiliar with OAuth 2.0 Client Credentials we recommend\n> [reading this guide](https://www.oauth.com/oauth2-servers/access-tokens/client-credentials/).\n\n### Configuration\n\n- `token_url` (string, required) - The OAuth 2.0 Token Endpoint that will be\n  used to validate the client credentials.\n- `retry` (object, optional) - Configures timeout and delay settings for the\n  request against the token endpoint\n  - `give_up_after` (string) timeout\n  - `max_delay` (string) time to wait between retries\n- `required_scope` ([]string, optional) - Sets what scope is required by the URL\n  and when making performing OAuth 2.0 Client Credentials request, the scope\n  will be included in the request:\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  oauth2_client_credentials:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n\n    config:\n      token_url: https://my-website.com/oauth2/token\n```\n\n```yaml\n# Some Access Rule: access-rule-1.yaml\nid: access-rule-1\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: oauth2_client_credentials\n    config:\n      token_url: https://my-website.com/oauth2/token\n```\n\n### Access Rule Example\n\n```shell\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"oauth2_client_credentials\",\n    \"config\": {\n      \"required_scope\": [\"scope-a\", \"scope-b\"]\n    }\n  }],\n  \"authorizer\": { \"handler\": \"allow\" },\n  \"mutators\": [{ \"handler\": \"noop\" }]\n}]\n\n$ curl -X GET http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because no credentials have been provided.\n\n$ curl -X GET --user idonotexist:whatever http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because the provided credentials are invalid.\n\n$ curl -X GET --user peter:somesecret http://my-app/some-route\n\nHTTP/1.0 200 OK\nThe request has been allowed! The subject is: \"peter\"\n```\n\nIn the background, a request to the OAuth 2.0 Token Endpoint (value of\n`authenticators.oauth2_client_credentials.token_url`) will be made, using the\nOAuth 2.0 Client Credentials Grant:\n\n```\nPOST /oauth2/token HTTP/1.1\nHost: authorization-server.com\n\ngrant_type=client_credentials\n&client_id=peter\n&client_secret=somesecret\n&scope=scope-a+scope-b\n```\n\nIf the request succeeds, the credentials are considered valid and if the request\nfails, the credentials are considered invalid.\n\n## `oauth2_introspection`\n\nThe `oauth2_introspection` authenticator handles requests that have an Bearer\nToken in the Authorization Header (`Authorization: bearer <token>`) or in a\ndifferent header or query parameter specified in configuration. It then uses\nOAuth 2.0 Token Introspection to check if the token is valid and if the token\nwas granted the requested scope.\n\n> If you are unfamiliar with OAuth 2.0 Introspection we recommend\n> [reading this guide](https://www.oauth.com/oauth2-servers/token-introspection-endpoint/).\n\n### Configuration\n\n- `introspection_url` (string, required) - The OAuth 2.0 Token Introspection\n  endpoint.\n- `scope_strategy` (string, optional) - Sets the strategy to be used to\n  validate/match the token scope. Supports \"hierarchic\", \"exact\", \"wildcard\",\n  \"none\". Defaults to \"none\".\n- `required_scope` ([]string, optional) - Sets what scope is required by the URL\n  and when performing OAuth 2.0 Client Credentials request, the scope will be\n  included in the request.\n- `target_audience` ([]string, optional) - Sets what audience is required by the\n  URL.\n- `trusted_issuers` ([]string, optional) - Sets a list of trusted token issuers.\n- `pre_authorization` (object, optional) - Enable pre-authorization in cases\n  where the OAuth 2.0 Token Introspection endpoint is protected by OAuth 2.0\n  Bearer Tokens that can be retrieved using the OAuth 2.0 Client Credentials\n  grant.\n  - `enabled` (bool, optional) - Enable pre-authorization. Defaults to false.\n  - `client_id` (string, required if enabled) - The OAuth 2.0 Client ID to be\n    used for the OAuth 2.0 Client Credentials Grant.\n  - `client_secret` (string, required if enabled) - The OAuth 2.0 Client Secret\n    to be used for the OAuth 2.0 Client Credentials Grant.\n  - `token_url` (string, required if enabled) - The OAuth 2.0 Token Endpoint\n    where the OAuth 2.0 Client Credentials Grant will be performed.\n  - `audience` (string, optional) - The OAuth 2.0 Audience to be requested\n    during the OAuth 2.0 Client Credentials Grant.\n  - `scope` ([]string, optional) - The OAuth 2.0 Scope to be requested during\n    the OAuth 2.0 Client Credentials Grant.\n- `token_from` (object, optional) - The location of the bearer token. If not\n  configured, the token will be received from a default location -\n  'Authorization' header. One and only one location (header, query, or cookie)\n  must be specified.\n  - `header` (string, required, one of) - The header (case insensitive) that\n    must contain a Bearer token for request authentication. It can't be set\n    along with `query_parameter` or `cookie`.\n  - `query_parameter` (string, required, one of) - The query parameter (case\n    sensitive) that must contain a Bearer token for request authentication. It\n    can't be set along with `header` or `cookie`.\n  - `cookie` (string, required, one of) - The cookie (case sensitive) that must\n    contain a Bearer token for request authentication. It can't be set along\n    with `header` or `query_parameter`\n- `introspection_request_headers` (object, optional) - Additional headers to add\n  to the introspection request.\n- `retry` (object, optional) - Configure the retry policy\n  - `max_delay` (string, optional, default to 500ms) - Maximum delay to wait\n    before retrying the request\n  - `give_up_after` (string, optional, default to 1s) - Maximum delay allowed\n    for retries\n- `cache` (object, optional) - Enables caching of incoming tokens\n  - `enabled` (bool, optional) - Enable the cache, will use exp time of token to\n    determine when to evict from cache. Defaults to false.\n  - `ttl` (string) - Can override the default behaviour of using the token exp\n    time, and specify a set time to live for the token in the cache.\n\nPlease note that caching will not be used if the scope strategy is `none` and\n`required_scope` is not empty. In that case, the configured introspection URL\nwill always be called and is expected to check if the scope is valid or not.\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  oauth2_introspection:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n\n    config:\n      introspection_url: https://my-website.com/oauth2/introspection\n      scope_strategy: exact\n      required_scope:\n        - photo\n        - profile\n      target_audience:\n        - example_audience\n      trusted_issuers:\n        - https://my-website.com/\n      pre_authorization:\n        enabled: true\n        client_id: some_id\n        client_secret: some_secret\n        scope:\n          - introspect\n        token_url: https://my-website.com/oauth2/token\n      token_from:\n        header: Custom-Authorization-Header\n        # or\n        # query_parameter: auth-token\n        # or\n        # cookie: auth-token\n      introspection_request_headers:\n        x-forwarded-proto: https\n      retry:\n        max_delay: 300ms\n        give_up_after: 2s\n      cache:\n        enabled: true\n        ttl: 60s\n```\n\n```yaml\n# Some Access Rule: access-rule-1.yaml\nid: access-rule-1\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: oauth2_introspection\n    config:\n      introspection_url: https://my-website.com/oauth2/introspection\n      scope_strategy: exact\n      required_scope:\n        - photo\n        - profile\n      target_audience:\n        - example_audience\n      trusted_issuers:\n        - https://my-website.com/\n      pre_authorization:\n        enabled: true\n        client_id: some_id\n        client_secret: some_secret\n        scope:\n          - introspect\n        token_url: https://my-website.com/oauth2/token\n      token_from:\n        query_parameter: auth-token\n        # or\n        # header: Custom-Authorization-Header\n        # or\n        # cookie: auth-token\n      introspection_request_headers:\n        x-forwarded-proto: https\n        x-foo: bar\n      retry:\n        max_delay: 300ms\n        give_up_after: 2s\n```\n\n### Access Rule Example\n\n```shell\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"oauth2_introspection\",\n    \"config\": {\n      \"required_scope\": [\"scope-a\", \"scope-b\"],\n      \"target_audience\": [\"example_audience\"]\n    }\n  }],\n  \"authorizer\": { \"handler\": \"allow\" },\n  \"mutators\": [{ \"handler\": \"noop\" }]\n}]\n\n$ curl -X GET http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because no credentials have been provided.\n\n$ curl -X GET -H 'Authorization: Bearer invalid-token' http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because the provided credentials are invalid.\n\n$ curl -X GET -H 'Authorization: Bearer valid.access.token.from.peter' http://my-app/some-route\n\nHTTP/1.0 200 OK\nThe request has been allowed! The subject is: \"peter\"\n```\n\nIn the background, this handler will make a request to the OAuth 2.0 Token\nEndpoint (configuration value\n`authenticators.oauth2_introspection.introspection_url`) to check if the Bearer\nToken is valid:\n\n```\nPOST /oauth2/introspect HTTP/1.1\n\ntoken=valid.access.token.from.peter\n```\n\nIf pre-authorization is enabled, that request will include an Authorization\nHeader:\n\n```\nPOST /oauth2/introspect HTTP/1.1\nAuthorization: Bearer token-received-by-performing-pre-authorization\n\ntoken=valid.access.token.from.peter\n```\n\nThe Token is considered valid if the Introspection response is HTTP 200 OK and\nincludes `{\"active\":true}` in the response payload. The subject is extracted\nfrom the `username` field.\n\n## `jwt`\n\nThe `jwt` authenticator handles requests that have an Bearer Token in the\nAuthorization Header (`Authorization: bearer <token>`) or in a different header\nor query parameter specified in configuration. It assumes that the token is a\nJSON Web Token and tries to verify the signature of it.\n\n### Configuration\n\n- `jwks_urls` ([]string, required) - The URLs where ORY Oathkeeper can retrieve\n  JSON Web Keys from for validating the JSON Web Token. Usually something like\n  `https://my-keys.com/.well-known/jwks.json`. The response of that endpoint\n  must return a JSON Web Key Set (JWKS).\n- `jwks_max_wait` (duration, optional) - The maximum time for which the JWK\n  fetcher should wait for the JWK request to complete. After the interval\n  passes, the JWK fetcher will return expired or no JWK at all. If the initial\n  JWK request finishes successfully, it will still refresh the cached JWKs.\n  Defaults to \"1s\".\n- `jwks_ttl` (duration, optional) - The duration for which fetched JWKs should\n  be cached internally. Defaults to \"30s\".\n- `scope_strategy` (string, optional) - Sets the strategy to be used to\n  validate/match the scope. Supports \"hierarchic\", \"exact\", \"wildcard\", \"none\".\n  Defaults to \"none\".\n- If `trusted_issuers` ([]string) is set, the JWT must contain a value for claim\n  `iss` that matches _exactly_ (case-sensitive) one of the values of\n  `trusted_issuers`. If no values are configured, the issuer will be ignored.\n- If `target_audience` ([]string) is set, the JWT must contain all values\n  (exact, case-sensitive) in the claim `aud`. If no values are configured, the\n  audience will be ignored.\n- Value `allowed_algorithms` ([]string) sets what signing algorithms are\n  allowed. Defaults to `RS256`.\n- Value `required_scope` ([]string) validates the scope of the JWT. It will\n  checks for claims `scp`, `scope`, `scopes` in the JWT when validating the\n  scope as that claim is not standardized.\n- `token_from` (object, optional) - The location of the bearer token. If not\n  configured, the token will be received from a default location -\n  'Authorization' header. One and only one location (header, query, or cookie)\n  must be specified.\n  - `header` (string, required, one of) - The header (case insensitive) that\n    must contain a Bearer token for request authentication. It can't be set\n    along with `query_parameter` or `cookie`.\n  - `query_parameter` (string, required, one of) - The query parameter (case\n    sensitive) that must contain a Bearer token for request authentication. It\n    can't be set along with `header` or `cookie`.\n  - `cookie` (string, required, one of) - The cookie (case sensitive) that must\n    contain a Bearer token for request authentication. It can't be set along\n    with `header` or `query_parameter`\n\n```yaml\n# Global configuration file oathkeeper.yml\nauthenticators:\n  jwt:\n    # Set enabled to true if the authenticator should be enabled and false to disable the authenticator. Defaults to false.\n    enabled: true\n\n    config:\n      jwks_urls:\n        - https://my-website.com/.well-known/jwks.json\n        - https://my-other-website.com/.well-known/jwks.json\n        - file://path/to/local/jwks.json\n      scope_strategy: none\n      required_scope:\n        - scope-a\n        - scope-b\n      target_audience:\n        - https://my-service.com/api/users\n        - https://my-service.com/api/devices\n      trusted_issuers:\n        - https://my-issuer.com/\n      allowed_algorithms:\n        - RS256\n      token_from:\n        header: Custom-Authorization-Header\n        # or\n        # query_parameter: auth-token\n        # or\n        # cookie: auth-token\n```\n\n```yaml\n# Some Access Rule: access-rule-1.yaml\nid: access-rule-1\n# match: ...\n# upstream: ...\nauthenticators:\n  - handler: jwt\n    config:\n      jwks_urls:\n        - https://my-website.com/.well-known/jwks.json\n        - https://my-other-website.com/.well-known/jwks.json\n        - file://path/to/local/jwks.json\n      scope_strategy: none\n      required_scope:\n        - scope-a\n        - scope-b\n      target_audience:\n        - https://my-service.com/api/users\n        - https://my-service.com/api/devices\n      trusted_issuers:\n        - https://my-issuer.com/\n      allowed_algorithms:\n        - RS256\n      token_from:\n        query_parameter: auth-token\n        # or\n        # header: Custom-Authorization-Header\n        # or\n        # cookie: auth-token\n```\n\n#### Validation example\n\n```json\n{\n  \"handler\": \"jwt\",\n  \"config\": {\n    \"required_scope\": [\"scope-a\", \"scope-b\"],\n    \"target_audience\": [\n      \"https://my-service.com/api/users\",\n      \"https://my-service.com/api/devices\"\n    ],\n    \"trusted_issuers\": [\"https://my-issuer.com/\"],\n    \"allowed_algorithms\": [\"RS256\", \"RS256\"]\n  }\n}\n```\n\nThat exemplary Access Rule consider the following (decoded) JSON Web Token as\nvalid:\n\n```\n{\n  \"alg\": \"RS256\"\n}\n{\n  \"iss\": \"https://my-issuer.com/\",\n  \"aud\": [\"https://my-service.com/api/users\", \"https://my-service.com/api/devices\"],\n  \"scp\": [\"scope-a\", \"scope-b\"]\n}\n```\n\nAnd this token as invalid (audience is missing, issuer is not matching, scope is\nmissing, wrong algorithm):\n\n```\n{\n  \"alg\": \"HS256\"\n}\n{\n  \"iss\": \"https://not-my-issuer.com/\",\n  \"aud\": [\"https://my-service.com/api/users\"],\n  \"scp\": [\"not-scope-a\", \"scope-b\"]\n}\n```\n\n### Scope\n\nJSON Web Tokens can be scoped. However, that feature is not standardized and\nseveral claims that represent the token scope have been seen in the wild: `scp`,\n`scope`, `scopes`. Additionally, the claim value can be a string (`\"scope-a\"`),\na space-delimited string (`\"scope-a scope-b\"`) or a JSON string array\n(`[\"scope-a\", \"scope-b\"]`). Because of this ambiguity, all of those claims are\nchecked and parsed and will be available as `scp` (string array) in the\nauthentication session (`.Extra[\"scp\"]`).\n\n### Access Rule Example\n\n```shell\n$ cat ./rules.json\n\n[{\n  \"id\": \"some-id\",\n  \"upstream\": {\n    \"url\": \"http://my-backend-service\"\n  },\n  \"match\": {\n    \"url\": \"http://my-app/some-route\",\n    \"methods\": [\n      \"GET\"\n    ]\n  },\n  \"authenticators\": [{\n    \"handler\": \"jwt\",\n    \"config\": {\n      \"required_scope\": [\"scope-a\", \"scope-b\"],\n      \"target_audience\": [\"aud-1\"],\n      \"trusted_issuers\": [\"iss-1\"]\n    }\n  }],\n  \"authorizer\": { \"handler\": \"allow\" },\n  \"mutators\": [{ \"handler\": \"noop\" }]\n}]\n\n$ curl -X GET http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because no credentials have been provided.\n\n$ curl -X GET -H 'Authorization: Bearer invalid-token' http://my-app/some-route\n\nHTTP/1.0 401 Status Unauthorized\nThe request is not authorized because the provided credentials are invalid.\n\n$ curl -X GET -H 'Authorization: Bearer valid.jwtfrom.peter' http://my-app/some-route\n\nHTTP/1.0 200 OK\nThe request has been allowed! The subject is: \"peter\"\n```\n\nIn the background, this handler will fetch all JSON Web Key Sets provided by\nconfiguration key `authenticators.jwt.jwks_urls` and use those keys to verify\nthe signature. If the signature can not be verified by any of those keys, the\nJWT is considered invalid.\n", "package configuration\n\nimport (\n\t\"encoding/json\"\n\t\"net/url\"\n\t\"time\"\n\n\t\"github.com/gobuffalo/packr/v2\"\n\n\t\"github.com/ory/fosite\"\n\t\"github.com/ory/x/tracing\"\n\n\t\"github.com/rs/cors\"\n)\n\nvar schemas = packr.New(\"schemas\", \"../../.schema\")\n\nconst (\n\tForbiddenStrategyErrorType = \"forbidden\"\n)\n\n// MatchingStrategy defines matching strategy such as Regexp or Glob.\n// Empty string defaults to \"regexp\".\ntype MatchingStrategy string\n\n// Possible matching strategies.\nconst (\n\tRegexp MatchingStrategy = \"regexp\"\n\tGlob   MatchingStrategy = \"glob\"\n)\n\ntype Provider interface {\n\tCORSEnabled(iface string) bool\n\tCORSOptions(iface string) cors.Options\n\n\tProviderAuthenticators\n\tProviderErrorHandlers\n\tProviderAuthorizers\n\tProviderMutators\n\n\tProxyReadTimeout() time.Duration\n\tProxyWriteTimeout() time.Duration\n\tProxyIdleTimeout() time.Duration\n\n\tAPIReadTimeout() time.Duration\n\tAPIWriteTimeout() time.Duration\n\tAPIIdleTimeout() time.Duration\n\n\tAccessRuleRepositories() []url.URL\n\tAccessRuleMatchingStrategy() MatchingStrategy\n\n\tProxyServeAddress() string\n\tAPIServeAddress() string\n\n\tPrometheusServeAddress() string\n\tPrometheusMetricsPath() string\n\tPrometheusCollapseRequestPaths() bool\n\n\tToScopeStrategy(value string, key string) fosite.ScopeStrategy\n\tParseURLs(sources []string) ([]url.URL, error)\n\tJSONWebKeyURLs() []string\n\n\tTracingServiceName() string\n\tTracingProvider() string\n\tTracingJaegerConfig() *tracing.JaegerConfig\n}\n\ntype ProviderErrorHandlers interface {\n\tErrorHandlerConfig(id string, override json.RawMessage, dest interface{}) error\n\tErrorHandlerIsEnabled(id string) bool\n\tErrorHandlerFallbackSpecificity() []string\n}\ntype ProviderAuthenticators interface {\n\tAuthenticatorConfig(id string, overrides json.RawMessage, destination interface{}) error\n\tAuthenticatorIsEnabled(id string) bool\n\tAuthenticatorJwtJwkMaxWait() time.Duration\n\tAuthenticatorJwtJwkTtl() time.Duration\n}\n\ntype ProviderAuthorizers interface {\n\tAuthorizerConfig(id string, overrides json.RawMessage, destination interface{}) error\n\tAuthorizerIsEnabled(id string) bool\n}\n\ntype ProviderMutators interface {\n\tMutatorConfig(id string, overrides json.RawMessage, destination interface{}) error\n\tMutatorIsEnabled(id string) bool\n}\n", "package authn\n\nimport (\n\t\"context\"\n\t\"crypto/md5\"\n\t\"encoding/json\"\n\t\"fmt\"\n\t\"net/http\"\n\t\"net/url\"\n\t\"strings\"\n\t\"sync\"\n\t\"time\"\n\n\t\"github.com/ory/fosite\"\n\n\t\"github.com/dgraph-io/ristretto\"\n\n\t\"github.com/opentracing/opentracing-go\"\n\t\"github.com/opentracing/opentracing-go/ext\"\n\n\t\"github.com/pkg/errors\"\n\t\"golang.org/x/oauth2/clientcredentials\"\n\n\t\"github.com/ory/go-convenience/stringslice\"\n\t\"github.com/ory/x/httpx\"\n\t\"github.com/ory/x/logrusx\"\n\n\t\"github.com/ory/oathkeeper/driver/configuration\"\n\t\"github.com/ory/oathkeeper/helper\"\n\t\"github.com/ory/oathkeeper/pipeline\"\n)\n\ntype AuthenticatorOAuth2IntrospectionConfiguration struct {\n\tScopes                      []string                                              `json:\"required_scope\"`\n\tAudience                    []string                                              `json:\"target_audience\"`\n\tIssuers                     []string                                              `json:\"trusted_issuers\"`\n\tPreAuth                     *AuthenticatorOAuth2IntrospectionPreAuthConfiguration `json:\"pre_authorization\"`\n\tScopeStrategy               string                                                `json:\"scope_strategy\"`\n\tIntrospectionURL            string                                                `json:\"introspection_url\"`\n\tBearerTokenLocation         *helper.BearerTokenLocation                           `json:\"token_from\"`\n\tIntrospectionRequestHeaders map[string]string                                     `json:\"introspection_request_headers\"`\n\tRetry                       *AuthenticatorOAuth2IntrospectionRetryConfiguration   `json:\"retry\"`\n\tCache                       cacheConfig                                           `json:\"cache\"`\n}\n\ntype AuthenticatorOAuth2IntrospectionPreAuthConfiguration struct {\n\tEnabled      bool     `json:\"enabled\"`\n\tClientID     string   `json:\"client_id\"`\n\tClientSecret string   `json:\"client_secret\"`\n\tAudience     string   `json:\"audience\"`\n\tScope        []string `json:\"scope\"`\n\tTokenURL     string   `json:\"token_url\"`\n}\n\ntype AuthenticatorOAuth2IntrospectionRetryConfiguration struct {\n\tTimeout string `json:\"max_delay\"`\n\tMaxWait string `json:\"give_up_after\"`\n}\n\ntype cacheConfig struct {\n\tEnabled bool   `json:\"enabled\"`\n\tTTL     string `json:\"ttl\"`\n\tMaxCost int    `json:\"max_cost\"`\n}\n\ntype AuthenticatorOAuth2Introspection struct {\n\tc configuration.Provider\n\n\tclientMap map[string]*http.Client\n\tmu        sync.RWMutex\n\n\ttokenCache *ristretto.Cache\n\tcacheTTL   *time.Duration\n\tlogger     *logrusx.Logger\n}\n\nfunc NewAuthenticatorOAuth2Introspection(c configuration.Provider, logger *logrusx.Logger) *AuthenticatorOAuth2Introspection {\n\treturn &AuthenticatorOAuth2Introspection{c: c, logger: logger, clientMap: make(map[string]*http.Client)}\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) GetID() string {\n\treturn \"oauth2_introspection\"\n}\n\ntype AuthenticatorOAuth2IntrospectionResult struct {\n\tActive    bool                   `json:\"active\"`\n\tExtra     map[string]interface{} `json:\"ext\"`\n\tSubject   string                 `json:\"sub,omitempty\"`\n\tUsername  string                 `json:\"username\"`\n\tAudience  []string               `json:\"aud\"`\n\tTokenType string                 `json:\"token_type\"`\n\tIssuer    string                 `json:\"iss\"`\n\tClientID  string                 `json:\"client_id,omitempty\"`\n\tScope     string                 `json:\"scope,omitempty\"`\n\tExpires   int64                  `json:\"exp\"`\n\tTokenUse  string                 `json:\"token_use\"`\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) tokenFromCache(config *AuthenticatorOAuth2IntrospectionConfiguration, token string, ss fosite.ScopeStrategy) *AuthenticatorOAuth2IntrospectionResult {\n\tif !config.Cache.Enabled {\n\t\treturn nil\n\t}\n\n\tif ss == nil && len(config.Scopes) > 0 {\n\t\treturn nil\n\t}\n\n\titem, found := a.tokenCache.Get(token)\n\tif !found {\n\t\treturn nil\n\t}\n\n\ti, ok := item.(*AuthenticatorOAuth2IntrospectionResult)\n\tif !ok {\n\t\treturn nil\n\t}\n\n\treturn i\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) tokenToCache(config *AuthenticatorOAuth2IntrospectionConfiguration, i *AuthenticatorOAuth2IntrospectionResult, token string, ss fosite.ScopeStrategy) {\n\tif !config.Cache.Enabled {\n\t\treturn\n\t}\n\n\tif ss == nil && len(config.Scopes) > 0 {\n\t\treturn\n\t}\n\n\tif a.cacheTTL != nil {\n\t\ta.tokenCache.SetWithTTL(token, i, 1, *a.cacheTTL)\n\t} else {\n\t\ta.tokenCache.Set(token, i, 1)\n\t}\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) traceRequest(ctx context.Context, req *http.Request) func() {\n\ttracer := opentracing.GlobalTracer()\n\tif tracer == nil {\n\t\treturn func() {}\n\t}\n\n\tparentSpan := opentracing.SpanFromContext(ctx)\n\topts := make([]opentracing.StartSpanOption, 0, 1)\n\tif parentSpan != nil {\n\t\topts = append(opts, opentracing.ChildOf(parentSpan.Context()))\n\t}\n\n\turlStr := req.URL.String()\n\tclientSpan := tracer.StartSpan(req.Method+\" \"+urlStr, opts...)\n\n\text.SpanKindRPCClient.Set(clientSpan)\n\text.HTTPUrl.Set(clientSpan, urlStr)\n\text.HTTPMethod.Set(clientSpan, req.Method)\n\n\t_ = tracer.Inject(clientSpan.Context(), opentracing.HTTPHeaders, opentracing.HTTPHeadersCarrier(req.Header))\n\treturn clientSpan.Finish\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) Authenticate(r *http.Request, session *AuthenticationSession, config json.RawMessage, _ pipeline.Rule) error {\n\tcf, client, err := a.Config(config)\n\tif err != nil {\n\t\treturn err\n\t}\n\n\ttoken := helper.BearerTokenFromRequest(r, cf.BearerTokenLocation)\n\tif token == \"\" {\n\t\treturn errors.WithStack(ErrAuthenticatorNotResponsible)\n\t}\n\n\tss := a.c.ToScopeStrategy(cf.ScopeStrategy, \"authenticators.oauth2_introspection.config.scope_strategy\")\n\n\ti := a.tokenFromCache(cf, token, ss)\n\n\t// If the token can not be found, and the scope strategy is nil, and the required scope list\n\t// is not empty, then we can not use the cache.\n\tif i == nil {\n\t\tbody := url.Values{\"token\": {token}}\n\t\tif ss == nil {\n\t\t\tbody.Add(\"scope\", strings.Join(cf.Scopes, \" \"))\n\t\t}\n\n\t\tintrospectReq, err := http.NewRequest(http.MethodPost, cf.IntrospectionURL, strings.NewReader(body.Encode()))\n\t\tif err != nil {\n\t\t\treturn errors.WithStack(err)\n\t\t}\n\n\t\tfor key, value := range cf.IntrospectionRequestHeaders {\n\t\t\tintrospectReq.Header.Set(key, value)\n\t\t}\n\t\t// set/override the content-type header\n\t\tintrospectReq.Header.Set(\"Content-Type\", \"application/x-www-form-urlencoded\")\n\n\t\t// add tracing\n\t\tcloseSpan := a.traceRequest(r.Context(), introspectReq)\n\n\t\tresp, err := client.Do(introspectReq.WithContext(r.Context()))\n\n\t\t// close the span so it represents just the http request\n\t\tcloseSpan()\n\t\tif err != nil {\n\t\t\treturn errors.WithStack(err)\n\t\t}\n\t\tdefer resp.Body.Close()\n\n\t\tif resp.StatusCode != http.StatusOK {\n\t\t\treturn errors.Errorf(\"Introspection returned status code %d but expected %d\", resp.StatusCode, http.StatusOK)\n\t\t}\n\n\t\tif err := json.NewDecoder(resp.Body).Decode(&i); err != nil {\n\t\t\treturn errors.WithStack(err)\n\t\t}\n\t}\n\n\tif len(i.TokenUse) > 0 && i.TokenUse != \"access_token\" {\n\t\treturn errors.WithStack(helper.ErrForbidden.WithReason(fmt.Sprintf(\"Use of introspected token is not an access token but \\\"%s\\\"\", i.TokenUse)))\n\t}\n\n\tif !i.Active {\n\t\treturn errors.WithStack(helper.ErrUnauthorized.WithReason(\"Access token is not active\"))\n\t}\n\n\tif i.Expires > 0 && time.Unix(i.Expires, 0).Before(time.Now()) {\n\t\treturn errors.WithStack(helper.ErrUnauthorized.WithReason(\"Access token expired\"))\n\t}\n\n\tfor _, audience := range cf.Audience {\n\t\tif !stringslice.Has(i.Audience, audience) {\n\t\t\treturn errors.WithStack(helper.ErrForbidden.WithReason(fmt.Sprintf(\"Token audience is not intended for target audience %s\", audience)))\n\t\t}\n\t}\n\n\tif len(cf.Issuers) > 0 {\n\t\tif !stringslice.Has(cf.Issuers, i.Issuer) {\n\t\t\treturn errors.WithStack(helper.ErrForbidden.WithReason(fmt.Sprintf(\"Token issuer does not match any trusted issuer\")))\n\t\t}\n\t}\n\n\tif ss != nil {\n\t\tfor _, scope := range cf.Scopes {\n\t\t\tif !ss(strings.Split(i.Scope, \" \"), scope) {\n\t\t\t\treturn errors.WithStack(helper.ErrForbidden.WithReason(fmt.Sprintf(\"Scope %s was not granted\", scope)))\n\t\t\t}\n\t\t}\n\t}\n\n\ta.tokenToCache(cf, i, token, ss)\n\n\tif len(i.Extra) == 0 {\n\t\ti.Extra = map[string]interface{}{}\n\t}\n\n\ti.Extra[\"username\"] = i.Username\n\ti.Extra[\"client_id\"] = i.ClientID\n\ti.Extra[\"scope\"] = i.Scope\n\n\tif len(i.Audience) != 0 {\n\t\ti.Extra[\"aud\"] = i.Audience\n\t}\n\n\tsession.Subject = i.Subject\n\tsession.Extra = i.Extra\n\n\treturn nil\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) Validate(config json.RawMessage) error {\n\tif !a.c.AuthenticatorIsEnabled(a.GetID()) {\n\t\treturn NewErrAuthenticatorNotEnabled(a)\n\t}\n\n\t_, _, err := a.Config(config)\n\treturn err\n}\n\nfunc (a *AuthenticatorOAuth2Introspection) Config(config json.RawMessage) (*AuthenticatorOAuth2IntrospectionConfiguration, *http.Client, error) {\n\tvar c AuthenticatorOAuth2IntrospectionConfiguration\n\tif err := a.c.AuthenticatorConfig(a.GetID(), config, &c); err != nil {\n\t\treturn nil, nil, NewErrAuthenticatorMisconfigured(a, err)\n\t}\n\n\tclientKey := fmt.Sprintf(\"%x\", md5.Sum([]byte(config)))\n\ta.mu.RLock()\n\tclient, ok := a.clientMap[clientKey]\n\ta.mu.RUnlock()\n\n\tif !ok {\n\t\ta.logger.Debug(\"Initializing http client\")\n\t\tvar rt http.RoundTripper\n\t\tif c.PreAuth != nil && c.PreAuth.Enabled {\n\t\t\tvar ep url.Values\n\n\t\t\tif c.PreAuth.Audience != \"\" {\n\t\t\t\tep = url.Values{\"audience\": {c.PreAuth.Audience}}\n\t\t\t}\n\n\t\t\trt = (&clientcredentials.Config{\n\t\t\t\tClientID:       c.PreAuth.ClientID,\n\t\t\t\tClientSecret:   c.PreAuth.ClientSecret,\n\t\t\t\tScopes:         c.PreAuth.Scope,\n\t\t\t\tEndpointParams: ep,\n\t\t\t\tTokenURL:       c.PreAuth.TokenURL,\n\t\t\t}).Client(context.Background()).Transport\n\t\t}\n\n\t\tif c.Retry == nil {\n\t\t\tc.Retry = &AuthenticatorOAuth2IntrospectionRetryConfiguration{Timeout: \"500ms\", MaxWait: \"1s\"}\n\t\t} else {\n\t\t\tif c.Retry.Timeout == \"\" {\n\t\t\t\tc.Retry.Timeout = \"500ms\"\n\t\t\t}\n\t\t\tif c.Retry.MaxWait == \"\" {\n\t\t\t\tc.Retry.MaxWait = \"1s\"\n\t\t\t}\n\t\t}\n\t\tduration, err := time.ParseDuration(c.Retry.Timeout)\n\t\tif err != nil {\n\t\t\treturn nil, nil, err\n\t\t}\n\t\ttimeout := time.Millisecond * duration\n\n\t\tmaxWait, err := time.ParseDuration(c.Retry.MaxWait)\n\t\tif err != nil {\n\t\t\treturn nil, nil, err\n\t\t}\n\n\t\tclient = httpx.NewResilientClientLatencyToleranceConfigurable(rt, timeout, maxWait)\n\t\ta.mu.Lock()\n\t\ta.clientMap[clientKey] = client\n\t\ta.mu.Unlock()\n\t}\n\n\tif c.Cache.TTL != \"\" {\n\t\tcacheTTL, err := time.ParseDuration(c.Cache.TTL)\n\t\tif err != nil {\n\t\t\treturn nil, nil, err\n\t\t}\n\t\ta.cacheTTL = &cacheTTL\n\t}\n\n\tif a.tokenCache == nil {\n\t\tcost := int64(c.Cache.MaxCost)\n\t\tif cost == 0 {\n\t\t\tcost = 100000000\n\t\t}\n\t\ta.logger.Debugf(\"Creating cache with max cost: %d\", c.Cache.MaxCost)\n\t\tcache, err := ristretto.NewCache(&ristretto.Config{\n\t\t\t// This will hold about 1000 unique mutation responses.\n\t\t\tNumCounters: 10000,\n\t\t\t// Allocate a max\n\t\t\tMaxCost: cost,\n\t\t\t// This is a best-practice value.\n\t\t\tBufferItems: 64,\n\t\t})\n\t\tif err != nil {\n\t\t\treturn nil, nil, err\n\t\t}\n\n\t\ta.tokenCache = cache\n\t}\n\n\treturn &c, client, nil\n}\n", "/*\n * Copyright \u00a9 2017-2018 Aeneas Rekkas <aeneas+oss@aeneas.io>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @author       Aeneas Rekkas <aeneas+oss@aeneas.io>\n * @copyright  2017-2018 Aeneas Rekkas <aeneas+oss@aeneas.io>\n * @license  \t   Apache-2.0\n */\n\npackage authn_test\n\nimport (\n\t\"encoding/json\"\n\t\"fmt\"\n\t\"net/http\"\n\t\"net/http/httptest\"\n\t\"sync\"\n\t\"testing\"\n\t\"time\"\n\n\t\"github.com/ory/x/assertx\"\n\n\t\"github.com/julienschmidt/httprouter\"\n\t\"github.com/stretchr/testify/assert\"\n\t\"github.com/stretchr/testify/require\"\n\t\"github.com/tidwall/sjson\"\n\n\t\"github.com/ory/oathkeeper/driver/configuration\"\n\t\"github.com/ory/oathkeeper/internal\"\n\t. \"github.com/ory/oathkeeper/pipeline/authn\"\n\t\"github.com/ory/viper\"\n\t\"github.com/ory/x/logrusx\"\n)\n\nfunc TestAuthenticatorOAuth2Introspection(t *testing.T) {\n\tconf := internal.NewConfigurationWithDefaults()\n\treg := internal.NewRegistry(conf)\n\n\ta, err := reg.PipelineAuthenticator(\"oauth2_introspection\")\n\trequire.NoError(t, err)\n\tassert.Equal(t, \"oauth2_introspection\", a.GetID())\n\n\tt.Run(\"method=authenticate\", func(t *testing.T) {\n\t\tfor k, tc := range []struct {\n\t\t\td              string\n\t\t\tsetup          func(*testing.T, *httprouter.Router)\n\t\t\tr              *http.Request\n\t\t\tconfig         json.RawMessage\n\t\t\texpectErr      bool\n\t\t\texpectExactErr error\n\t\t\texpectSess     *AuthenticationSession\n\t\t}{\n\t\t\t{\n\t\t\t\td:         \"should fail because no payloads\",\n\t\t\t\tr:         &http.Request{Header: http.Header{}},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because wrong response\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"required_scope\": [\"scope-a\", \"scope-b\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"scope-a scope-b\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\tw.WriteHeader(http.StatusNotFound)\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:              \"should return error saying that authenticator is not responsible for validating the request, as the token was not provided in a proper location (default)\",\n\t\t\t\tr:              &http.Request{Header: http.Header{\"Foobar\": {\"bearer token\"}}},\n\t\t\t\texpectErr:      true,\n\t\t\t\texpectExactErr: ErrAuthenticatorNotResponsible,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:              \"should return error saying that authenticator is not responsible for validating the request, as the token was not provided in a proper location (custom header)\",\n\t\t\t\tr:              &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig:         []byte(`{\"token_from\": {\"header\": \"X-Custom-Header\"}}`),\n\t\t\t\texpectErr:      true,\n\t\t\t\texpectExactErr: ErrAuthenticatorNotResponsible,\n\t\t\t},\n\t\t\t{\n\t\t\t\td: \"should return error saying that authenticator is not responsible for validating the request, as the token was not provided in a proper location (custom query parameter)\",\n\t\t\t\tr: &http.Request{\n\t\t\t\t\tForm: map[string][]string{\n\t\t\t\t\t\t\"someOtherQueryParam\": {\"token\"},\n\t\t\t\t\t},\n\t\t\t\t\tHeader: http.Header{\"Authorization\": {\"bearer token\"}},\n\t\t\t\t},\n\t\t\t\tconfig:         []byte(`{\"token_from\": {\"query_parameter\": \"token\"}}`),\n\t\t\t\texpectErr:      true,\n\t\t\t\texpectExactErr: ErrAuthenticatorNotResponsible,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:              \"should return error saying that authenticator is not responsible for validating the request, as the token was not provided in a proper location (cookie)\",\n\t\t\t\tr:              &http.Request{Header: http.Header{\"Cookie\": {\"biscuit=bearer token\"}}},\n\t\t\t\tconfig:         []byte(`{\"token_from\": {\"cookie\": \"cake\"}}`),\n\t\t\t\texpectErr:      true,\n\t\t\t\texpectExactErr: ErrAuthenticatorNotResponsible,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:         \"should pass because the valid token was provided in a proper location (custom header)\",\n\t\t\t\tr:         &http.Request{Header: http.Header{\"X-Custom-Header\": {\"token\"}}},\n\t\t\t\tconfig:    []byte(`{\"token_from\": {\"header\": \"X-Custom-Header\"}}`),\n\t\t\t\texpectErr: false,\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: true,\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\td: \"should pass because the valid token was provided in a proper location (custom query parameter)\",\n\t\t\t\tr: &http.Request{\n\t\t\t\t\tForm: map[string][]string{\n\t\t\t\t\t\t\"token\": {\"token\"},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tconfig:    []byte(`{\"token_from\": {\"query_parameter\": \"token\"}}`),\n\t\t\t\texpectErr: false,\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: true,\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\td:         \"should pass because the valid token was provided in a proper location (cookie)\",\n\t\t\t\tr:         &http.Request{Header: http.Header{\"Cookie\": {\"biscuit=token\"}}},\n\t\t\t\tconfig:    []byte(`{\"token_from\": {\"cookie\": \"biscuit\"}}`),\n\t\t\t\texpectErr: false,\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: true,\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because not active\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{}`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   false,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because active and no issuer / audience expected\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{}`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because no scope strategy\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"required_scope\": [\"scope-a\", \"scope-b\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"scope-a scope-b\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-z\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because scope strategy is `none`\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"none\", \"required_scope\": [\"scope-a\", \"scope-b\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"scope-a scope-b\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-z\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because active and scope matching exactly\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"exact\", \"required_scope\": [\"scope-a\", \"scope-b\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-a scope-b\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because active but scope not matching exactly\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"exact\", \"required_scope\": [\"scope-a\", \"scope-b\", \"scope-c\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-a scope-b\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because active and scope matching hierarchically\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"hierarchic\", \"required_scope\": [\"scope-a\", \"scope-b.foo\", \"scope-c.bar\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-a scope-b scope-c.bar\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because active but scope not matching hierarchically\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"hierarchic\", \"required_scope\": [\"scope-a\", \"scope-b.foo\", \"scope-c.bar\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-a scope-b\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because active and scope matching wildcard\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"wildcard\", \"required_scope\": [\"scope-a\", \"scope-b.foo\", \"scope-c.bar\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-a scope-b.* scope-c.bar\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because active but scope not matching wildcard\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"scope_strategy\": \"wildcard\", \"required_scope\": [\"scope-a\", \"scope-b.foo\", \"scope-c.bar\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tScope:    \"scope-a scope-b\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because active but issuer not matching\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"]}`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tScope:    \"scope-a\",\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"not-foo\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because active and issuer matching\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"]}`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tScope:    \"scope-a\",\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"foo\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because active but audience not matching\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tScope:    \"scope-a\",\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"not-audience\"},\n\t\t\t\t\t\t\tIssuer:   \"foo\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should fail because token use not matching\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{}`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"issuer\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t\tTokenUse: \"any-token-use\",\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\t\tScope:    \"scope-a\",\n\t\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\t\tIssuer:   \"foo\",\n\t\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because audience and scopes match configuration\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"pre_authorization\":{\"client_id\":\"some_id\",\"client_secret\":\"some_secret\",\"enabled\":true,\"scope\":[\"foo\",\"bar\"]} }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/token\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"audience\"))\n\t\t\t\t\t\trequire.Equal(t, \"foo bar\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\tw.Header().Set(\"Content-type\", \"application/json; charset=us-ascii\")\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&map[string]interface{}{\"access_token\": \"foo-token\"}))\n\t\t\t\t\t})\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"Bearer foo-token\", r.Header.Get(\"authorization\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: true,\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because audience and scopes match configuration\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"pre_authorization\":{\"client_id\":\"some_id\",\"client_secret\":\"some_secret\",\"enabled\":true,\"scope\":[\"foo\",\"bar\"]} }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/token\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"audience\"))\n\t\t\t\t\t\trequire.Equal(t, \"foo bar\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\tw.Header().Set(\"Content-type\", \"application/json; charset=us-ascii\")\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&map[string]interface{}{\"access_token\": \"foo-token\"}))\n\t\t\t\t\t})\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"Bearer foo-token\", r.Header.Get(\"authorization\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: true,\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\td:      \"should pass because audience and scopes should not be requested\",\n\t\t\t\tr:      &http.Request{Header: http.Header{\"Authorization\": {\"bearer token\"}}},\n\t\t\t\tconfig: []byte(`{ \"pre_authorization\":{\"client_id\":\"some_id\",\"client_secret\":\"some_secret\",\"enabled\":true} }`),\n\t\t\t\tsetup: func(t *testing.T, m *httprouter.Router) {\n\t\t\t\t\tm.POST(\"/oauth2/token\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"audience\"))\n\t\t\t\t\t\trequire.Equal(t, \"\", r.Form.Get(\"scope\"))\n\t\t\t\t\t\tw.Header().Set(\"Content-type\", \"application/json; charset=us-ascii\")\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&map[string]interface{}{\"access_token\": \"foo-token\"}))\n\t\t\t\t\t})\n\t\t\t\t\tm.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\t\t\trequire.Equal(t, \"token\", r.Form.Get(\"token\"))\n\t\t\t\t\t\trequire.Equal(t, \"Bearer foo-token\", r.Header.Get(\"authorization\"))\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: true,\n\t\t\t\t\t\t}))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\texpectErr: false,\n\t\t\t},\n\t\t} {\n\t\t\tt.Run(fmt.Sprintf(\"case=%d/description=%s\", k, tc.d), func(t *testing.T) {\n\t\t\t\trouter := httprouter.New()\n\t\t\t\tif tc.setup != nil {\n\t\t\t\t\ttc.setup(t, router)\n\t\t\t\t}\n\t\t\t\tts := httptest.NewServer(router)\n\t\t\t\tdefer ts.Close()\n\n\t\t\t\ttc.config, _ = sjson.SetBytes(tc.config, \"introspection_url\", ts.URL+\"/oauth2/introspect\")\n\t\t\t\ttc.config, _ = sjson.SetBytes(tc.config, \"pre_authorization.token_url\", ts.URL+\"/oauth2/token\")\n\n\t\t\t\tsess := new(AuthenticationSession)\n\t\t\t\terr = a.Authenticate(tc.r, sess, tc.config, nil)\n\t\t\t\tif tc.expectErr {\n\t\t\t\t\trequire.Error(t, err)\n\t\t\t\t\tif tc.expectExactErr != nil {\n\t\t\t\t\t\tassert.EqualError(t, err, tc.expectExactErr.Error(), \"%+v\", err)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\trequire.NoError(t, err)\n\t\t\t\t}\n\n\t\t\t\tif tc.expectSess != nil {\n\t\t\t\t\tassert.Equal(t, tc.expectSess, sess)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t})\n\n\tt.Run(\"method=authenticate-with-cache\", func(t *testing.T) {\n\t\tviper.Set(\"authenticators.oauth2_introspection.config.cache.enabled\", true)\n\t\tt.Cleanup(func() {\n\t\t\tviper.Set(\"authenticators.oauth2_introspection.config.cache.enabled\", false)\n\t\t})\n\n\t\tvar didNotUseCache sync.WaitGroup\n\n\t\tsetup := func(t *testing.T, config string) []byte {\n\t\t\trouter := httprouter.New()\n\t\t\trouter.POST(\"/oauth2/introspect\", func(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {\n\t\t\t\tdefer didNotUseCache.Done()\n\t\t\t\trequire.NoError(t, r.ParseForm())\n\t\t\t\tswitch r.Form.Get(\"token\") {\n\t\t\t\tcase \"inactive-scope-b\":\n\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\tActive: false,\n\t\t\t\t\t}))\n\t\t\t\tcase \"another-active-scope-a\":\n\t\t\t\t\tfallthrough\n\t\t\t\tcase \"active-scope-a\":\n\t\t\t\t\tif r.Form.Get(\"scope\") != \"\" && r.Form.Get(\"scope\") != \"scope-a\" {\n\t\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\t\tActive: false,\n\t\t\t\t\t\t}))\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\tScope:    \"scope-a\",\n\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\tIssuer:   \"foo\",\n\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\tExpires:  time.Now().Add(time.Second).Unix(),\n\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t}))\n\t\t\t\tcase \"refresh-token\":\n\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\tActive:   true,\n\t\t\t\t\t\tScope:    \"scope-a\",\n\t\t\t\t\t\tSubject:  \"subject\",\n\t\t\t\t\t\tAudience: []string{\"audience\"},\n\t\t\t\t\t\tIssuer:   \"foo\",\n\t\t\t\t\t\tUsername: \"username\",\n\t\t\t\t\t\tTokenUse: \"refresh_token\",\n\t\t\t\t\t\tExtra:    map[string]interface{}{\"extra\": \"foo\"},\n\t\t\t\t\t}))\n\t\t\t\tdefault:\n\t\t\t\t\trequire.NoError(t, json.NewEncoder(w).Encode(&AuthenticatorOAuth2IntrospectionResult{\n\t\t\t\t\t\tActive: false,\n\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t})\n\t\t\tts := httptest.NewServer(router)\n\t\t\tt.Cleanup(ts.Close)\n\n\t\t\tconfig, err = sjson.Set(config, \"introspection_url\", ts.URL+\"/oauth2/introspect\")\n\t\t\trequire.NoError(t, err)\n\t\t\tconfig, err = sjson.Set(config, \"pre_authorization.token_url\", ts.URL+\"/oauth2/token\")\n\t\t\trequire.NoError(t, err)\n\n\t\t\treturn []byte(config)\n\t\t}\n\n\t\tt.Run(\"case=with none scope strategy\", func(t *testing.T) {\n\t\t\tviper.Set(\"authenticators.oauth2_introspection.config.scope_strategy\", \"none\")\n\t\t\tr := &http.Request{Header: http.Header{\"Authorization\": {\"bearer active-scope-a\"}}}\n\t\t\texpected := new(AuthenticationSession)\n\t\t\tt.Run(\"case=initial request succeeds\", func(t *testing.T) {\n\t\t\t\tconfig := setup(t, `{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`)\n\n\t\t\t\tdidNotUseCache.Add(1)\n\t\t\t\terr = a.Authenticate(r, expected, config, nil)\n\t\t\t\tdidNotUseCache.Wait()\n\t\t\t\trequire.NoError(t, err)\n\t\t\t})\n\n\t\t\t// We expect to use the cache here because we are not interested to validate the scope. Usually we would\n\t\t\t// expect to make the upstream call if the upstream has to validate the scope.\n\t\t\tt.Run(\"case=second request does use cache because no scope was requested and strategy is nil\", func(t *testing.T) {\n\t\t\t\tconfig := setup(t, `{ \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`)\n\t\t\t\tsess := new(AuthenticationSession)\n\n\t\t\t\terr = a.Authenticate(r, sess, config, nil)\n\t\t\t\tdidNotUseCache.Wait() // Would result in a panic if wg.done was called!\n\t\t\t\trequire.NoError(t, err)\n\t\t\t\tassertx.EqualAsJSON(t, expected, sess)\n\t\t\t})\n\n\t\t\tt.Run(\"case=second request does not use cache because scope strategy is disabled and scope was requested request succeeds\", func(t *testing.T) {\n\t\t\t\tconfig := setup(t, `{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`)\n\t\t\t\tsess := new(AuthenticationSession)\n\n\t\t\t\tdidNotUseCache.Add(1)\n\t\t\t\terr = a.Authenticate(r, sess, config, nil)\n\t\t\t\tdidNotUseCache.Wait()\n\t\t\t\trequire.NoError(t, err)\n\t\t\t\tassertx.EqualAsJSON(t, expected, sess)\n\t\t\t})\n\n\t\t\tt.Run(\"case=request fails because we requested a scope which the upstream does not validate\", func(t *testing.T) {\n\t\t\t\tconfig := setup(t, `{ \"required_scope\": [\"scope-b\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`)\n\t\t\t\tsess := new(AuthenticationSession)\n\n\t\t\t\tdidNotUseCache.Add(1)\n\t\t\t\terr = a.Authenticate(r, sess, config, nil)\n\t\t\t\tdidNotUseCache.Wait()\n\t\t\t\trequire.Error(t, err)\n\t\t\t})\n\t\t})\n\n\t\tt.Run(\"case=does not use cache for refresh tokens\", func(t *testing.T) {\n\t\t\tfor _, strategy := range []string{\"wildcard\", \"none\"} {\n\t\t\t\tt.Run(\"scope_strategy=\"+strategy, func(t *testing.T) {\n\t\t\t\t\tviper.Set(\"authenticators.oauth2_introspection.config.scope_strategy\", strategy)\n\t\t\t\t\tr := &http.Request{Header: http.Header{\"Authorization\": {\"bearer refresh_token\"}}}\n\t\t\t\t\texpected := new(AuthenticationSession)\n\n\t\t\t\t\t// The initial request\n\t\t\t\t\tconfig := setup(t, `{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`)\n\n\t\t\t\t\t// Also doesn't use the cache the second time\n\t\t\t\t\tdidNotUseCache.Add(2)\n\t\t\t\t\trequire.Error(t, a.Authenticate(r, expected, config, nil))\n\t\t\t\t\trequire.Error(t, a.Authenticate(r, expected, config, nil))\n\t\t\t\t\tdidNotUseCache.Wait()\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\n\t\tt.Run(\"case=with a scope scope strategy\", func(t *testing.T) {\n\t\t\tviper.Set(\"authenticators.oauth2_introspection.config.scope_strategy\", \"wildcard\")\n\t\t\tr := &http.Request{Header: http.Header{\"Authorization\": {\"bearer another-active-scope-a\"}}}\n\t\t\texpected := new(AuthenticationSession)\n\n\t\t\t// The initial request\n\t\t\tconfig := setup(t, `{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`)\n\n\t\t\tdidNotUseCache.Add(1)\n\t\t\trequire.NoError(t, a.Authenticate(r, expected, config, nil))\n\t\t\tdidNotUseCache.Wait()\n\n\t\t\tt.Run(\"case=request succeeds and uses the cache\", func(t *testing.T) {\n\t\t\t\tconfig := setup(t, `{ \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`)\n\t\t\t\tsess := new(AuthenticationSession)\n\n\t\t\t\terr = a.Authenticate(r, sess, config, nil)\n\t\t\t\tdidNotUseCache.Wait()\n\t\t\t\trequire.NoError(t, err)\n\t\t\t\tassertx.EqualAsJSON(t, expected, sess)\n\t\t\t})\n\n\t\t\tt.Run(\"case=request the initial request which also passes\", func(t *testing.T) {\n\t\t\t\tconfig := setup(t, `{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`)\n\t\t\t\tsess := new(AuthenticationSession)\n\n\t\t\t\terr = a.Authenticate(r, sess, config, nil)\n\t\t\t\tdidNotUseCache.Wait()\n\t\t\t\trequire.NoError(t, err)\n\t\t\t\tassertx.EqualAsJSON(t, expected, sess)\n\t\t\t})\n\n\t\t\tt.Run(\"case=requests a scope the token does not have\", func(t *testing.T) {\n\t\t\t\trequire.Error(t, a.Authenticate(r, new(AuthenticationSession),\n\t\t\t\t\tsetup(t, `{ \"required_scope\": [\"scope-b\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`),\n\t\t\t\t\tnil))\n\t\t\t\tdidNotUseCache.Wait()\n\t\t\t})\n\n\t\t\tt.Run(\"case=requests an audience which the token does not have\", func(t *testing.T) {\n\t\t\t\trequire.Error(t, a.Authenticate(r, new(AuthenticationSession),\n\t\t\t\t\tsetup(t, `{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"not-audience\"] }`),\n\t\t\t\t\tnil))\n\t\t\t\tdidNotUseCache.Wait()\n\t\t\t})\n\n\t\t\tt.Run(\"case=does not trust the issuer\", func(t *testing.T) {\n\t\t\t\trequire.Error(t, a.Authenticate(r, new(AuthenticationSession),\n\t\t\t\t\tsetup(t, `{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"not-foo\", \"bar\"], \"target_audience\": [\"audience\"] }`),\n\t\t\t\t\tnil))\n\t\t\t\tdidNotUseCache.Wait()\n\t\t\t})\n\n\t\t\tt.Run(\"case=respects the expiry time\", func(t *testing.T) {\n\t\t\t\tsetup(t, `{ \"required_scope\": [\"scope-a\"], \"trusted_issuers\": [\"foo\", \"bar\"], \"target_audience\": [\"audience\"] }`)\n\t\t\t\trequire.NoError(t, a.Authenticate(r, new(AuthenticationSession), config, nil))\n\t\t\t\ttime.Sleep(time.Second)\n\t\t\t\trequire.Error(t, a.Authenticate(r, new(AuthenticationSession), config, nil))\n\t\t\t\tdidNotUseCache.Wait()\n\t\t\t})\n\t\t})\n\t})\n\n\tt.Run(\"method=validate\", func(t *testing.T) {\n\t\tviper.Set(configuration.ViperKeyAuthenticatorOAuth2TokenIntrospectionIsEnabled, false)\n\t\trequire.Error(t, a.Validate(json.RawMessage(`{\"introspection_url\":\"\"}`)))\n\n\t\tviper.Reset()\n\t\tviper.Set(configuration.ViperKeyAuthenticatorOAuth2TokenIntrospectionIsEnabled, true)\n\t\trequire.Error(t, a.Validate(json.RawMessage(`{\"introspection_url\":\"\"}`)))\n\n\t\tviper.Reset()\n\t\tviper.Set(configuration.ViperKeyAuthenticatorOAuth2TokenIntrospectionIsEnabled, false)\n\t\trequire.Error(t, a.Validate(json.RawMessage(`{\"introspection_url\":\"/oauth2/token\"}`)))\n\n\t\tviper.Reset()\n\t\tviper.Set(configuration.ViperKeyAuthenticatorOAuth2TokenIntrospectionIsEnabled, true)\n\t\trequire.Error(t, a.Validate(json.RawMessage(`{\"introspection_url\":\"/oauth2/token\"}`)))\n\t})\n\n\tt.Run(\"method=config\", func(t *testing.T) {\n\t\tlogger := logrusx.New(\"test\", \"1\")\n\t\tauthenticator := NewAuthenticatorOAuth2Introspection(conf, logger)\n\n\t\tnoPreauthConfig := []byte(`{ \"introspection_url\":\"http://localhost/oauth2/token\" }`)\n\t\tpreAuthConfigOne := []byte(`{ \"introspection_url\":\"http://localhost/oauth2/token\",\"pre_authorization\":{\"token_url\":\"http://localhost/oauth2/token\",\"client_id\":\"some_id\",\"client_secret\":\"some_secret\",\"enabled\":true} }`)\n\t\tpreAuthConfigTwo := []byte(`{ \"introspection_url\":\"http://localhost/oauth2/token2\",\"pre_authorization\":{\"token_url\":\"http://localhost/oauth2/token2\",\"client_id\":\"some_id2\",\"client_secret\":\"some_secret2\",\"enabled\":true} }`)\n\n\t\t_, noPreauthClient, err := authenticator.Config(noPreauthConfig)\n\t\tif err != nil {\n\t\t\trequire.NoError(t, err)\n\t\t}\n\n\t\t_, preauthOneClient, err := authenticator.Config(preAuthConfigOne)\n\t\tif err != nil {\n\t\t\trequire.NoError(t, err)\n\t\t}\n\n\t\t_, preauthTwoClient, err := authenticator.Config(preAuthConfigTwo)\n\t\tif err != nil {\n\t\t\trequire.NoError(t, err)\n\t\t}\n\n\t\trequire.NotEqual(t, noPreauthClient, preauthOneClient)\n\t\trequire.NotEqual(t, noPreauthClient, preauthTwoClient)\n\t\trequire.NotEqual(t, preauthOneClient, preauthTwoClient)\n\n\t\t_, preauthOneClient2, err := authenticator.Config(preAuthConfigOne)\n\t\tif err != nil {\n\t\t\trequire.NoError(t, err)\n\t\t}\n\t\tif preauthOneClient2 != preauthOneClient {\n\t\t\tt.FailNow()\n\t\t}\n\n\t\t_, preauthTwoClient2, err := authenticator.Config(preAuthConfigTwo)\n\t\tif err != nil {\n\t\t\trequire.NoError(t, err)\n\t\t}\n\t\tif preauthTwoClient2 != preauthTwoClient {\n\t\t\tt.FailNow()\n\t\t}\n\n\t\t_, noPreauthClient2, err := authenticator.Config(noPreauthConfig)\n\t\tif err != nil {\n\t\t\trequire.NoError(t, err)\n\t\t}\n\t\tif noPreauthClient2 != noPreauthClient {\n\t\t\tt.FailNow()\n\t\t}\n\n\t\trequire.NotEqual(t, noPreauthClient, preauthOneClient)\n\t\trequire.NotEqual(t, noPreauthClient, preauthTwoClient)\n\t\trequire.NotEqual(t, preauthOneClient, preauthTwoClient)\n\n\t})\n}\n"], "filenames": [".circleci/config.yml", "Makefile", "docs/docs/CHANGELOG.md", "docs/docs/pipeline/authn.md", "driver/configuration/provider.go", "pipeline/authn/authenticator_oauth2_introspection.go", "pipeline/authn/authenticator_oauth2_introspection_test.go"], "buggy_code_start_loc": [33, 19, 28, 624, 8, 12, 27], "buggy_code_end_loc": [35, 19, 2348, 624, 8, 335, 576], "fixing_code_start_loc": [33, 20, 28, 625, 9, 13, 28], "fixing_code_end_loc": [36, 23, 2337, 629, 10, 358, 774], "type": "CWE-863", "message": "ORY Oathkeeper is an Identity & Access Proxy (IAP) and Access Control Decision API that authorizes HTTP requests based on sets of Access Rules. When you make a request to an endpoint that requires the scope `foo` using an access token granted with that `foo` scope, introspection will be valid and that token will be cached. The problem comes when a second requests to an endpoint that requires the scope `bar` is made before the cache has expired. Whether the token is granted or not to the `bar` scope, introspection will be valid. A patch will be released with `v0.38.12-beta.1`. Per default, caching is disabled for the `oauth2_introspection` authenticator. When caching is disabled, this vulnerability does not exist. The cache is checked in [`func (a *AuthenticatorOAuth2Introspection) Authenticate(...)`](https://github.com/ory/oathkeeper/blob/6a31df1c3779425e05db1c2a381166b087cb29a4/pipeline/authn/authenticator_oauth2_introspection.go#L152). From [`tokenFromCache()`](https://github.com/ory/oathkeeper/blob/6a31df1c3779425e05db1c2a381166b087cb29a4/pipeline/authn/authenticator_oauth2_introspection.go#L97) it seems that it only validates the token expiration date, but ignores whether the token has or not the proper scopes. The vulnerability was introduced in PR #424. During review, we failed to require appropriate test coverage by the submitter which is the primary reason that the vulnerability passed the review process.", "other": {"cve": {"id": "CVE-2021-32701", "sourceIdentifier": "security-advisories@github.com", "published": "2021-06-22T20:15:08.727", "lastModified": "2021-06-30T01:10:33.820", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "ORY Oathkeeper is an Identity & Access Proxy (IAP) and Access Control Decision API that authorizes HTTP requests based on sets of Access Rules. When you make a request to an endpoint that requires the scope `foo` using an access token granted with that `foo` scope, introspection will be valid and that token will be cached. The problem comes when a second requests to an endpoint that requires the scope `bar` is made before the cache has expired. Whether the token is granted or not to the `bar` scope, introspection will be valid. A patch will be released with `v0.38.12-beta.1`. Per default, caching is disabled for the `oauth2_introspection` authenticator. When caching is disabled, this vulnerability does not exist. The cache is checked in [`func (a *AuthenticatorOAuth2Introspection) Authenticate(...)`](https://github.com/ory/oathkeeper/blob/6a31df1c3779425e05db1c2a381166b087cb29a4/pipeline/authn/authenticator_oauth2_introspection.go#L152). From [`tokenFromCache()`](https://github.com/ory/oathkeeper/blob/6a31df1c3779425e05db1c2a381166b087cb29a4/pipeline/authn/authenticator_oauth2_introspection.go#L97) it seems that it only validates the token expiration date, but ignores whether the token has or not the proper scopes. The vulnerability was introduced in PR #424. During review, we failed to require appropriate test coverage by the submitter which is the primary reason that the vulnerability passed the review process."}, {"lang": "es", "value": "ORY Oathkeeper es un Proxy de Identidad y Acceso (IAP) y una API de Decisi\u00f3n de Control de Acceso que autoriza peticiones HTTP basadas en conjuntos de Reglas de Acceso. Cuando se realiza una petici\u00f3n a un endpoint que requiere el \u00e1mbito \"foo\" usando un token de acceso concedido con ese \u00e1mbito \"foo\", la introspecci\u00f3n ser\u00e1 v\u00e1lida y ese token se almacenar\u00e1 en cach\u00e9. El problema viene cuando se realiza una segunda petici\u00f3n a un endpoint que requiere el \u00e1mbito \"bar\" antes de que la cach\u00e9 haya expirado. Tanto si se concede el token como si no al \u00e1mbito \"bar\", la introspecci\u00f3n ser\u00e1 v\u00e1lida. Se publicar\u00e1 un parche con la versi\u00f3n \"v0.38.12-beta.1\". Por defecto, el almacenamiento en cach\u00e9 est\u00e1 desactivado para el autenticador \"oauth2_introspection\". Cuando el almacenamiento en cach\u00e9 est\u00e1 deshabilitado, esta vulnerabilidad no existe. La cach\u00e9 es comprobada en [\"func (a *AuthenticatorOAuth2Introspection) Authenticate(...)\"](https://github.com/ory/oathkeeper/blob/6a31df1c3779425e05db1c2a381166b087cb29a4/pipeline/authn/authenticator_oauth2_introspection.go#L152). De [\"tokenFromCache()\"](https://github.com/ory/oathkeeper/blob/6a31df1c3779425e05db1c2a381166b087cb29a4/pipeline/authn/authenticator_oauth2_introspection.go#L97) parece que s\u00f3lo comprueba la fecha de caducidad del token, pero ignora si el token tiene o no los \u00e1mbitos adecuados. La vulnerabilidad fue introducida en PR #424. Durante la revisi\u00f3n, fallamos en requerir una cobertura de pruebas apropiada por parte del remitente, lo cual es la raz\u00f3n principal por la que la vulnerabilidad pas\u00f3 el proceso de revisi\u00f3n"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:N/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "NONE", "availabilityImpact": "NONE", "baseScore": 7.5, "baseSeverity": "HIGH"}, "exploitabilityScore": 3.9, "impactScore": 3.6}, {"source": "security-advisories@github.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:N/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "NONE", "availabilityImpact": "NONE", "baseScore": 7.5, "baseSeverity": "HIGH"}, "exploitabilityScore": 3.9, "impactScore": 3.6}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:M/Au:N/C:P/I:N/A:N", "accessVector": "NETWORK", "accessComplexity": "MEDIUM", "authentication": "NONE", "confidentialityImpact": "PARTIAL", "integrityImpact": "NONE", "availabilityImpact": "NONE", "baseScore": 4.3}, "baseSeverity": "MEDIUM", "exploitabilityScore": 8.6, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "security-advisories@github.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-863"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:ory:oathkeeper:0.38.0:beta2:*:*:*:*:*:*", "matchCriteriaId": "DC847085-1357-48B3-A809-78F964DE5469"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ory:oathkeeper:0.38.1:beta2:*:*:*:*:*:*", "matchCriteriaId": "8EE6201C-CC5D-4202-A0E1-6170ECD0A6A9"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ory:oathkeeper:0.38.2:beta1:*:*:*:*:*:*", "matchCriteriaId": "C0BA2A9E-02E3-4F3B-BC57-139645995814"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ory:oathkeeper:0.38.3:beta1:*:*:*:*:*:*", "matchCriteriaId": "33B55094-713D-4DB0-948C-3A4BA060640C"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ory:oathkeeper:0.38.4:beta1:*:*:*:*:*:*", "matchCriteriaId": "A78FF290-4F7A-4386-8802-DFBAD0A32725"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ory:oathkeeper:0.38.5:beta1:*:*:*:*:*:*", "matchCriteriaId": "D212F091-4CC2-4E80-B68E-E77121F59FF3"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ory:oathkeeper:0.38.6:beta1:*:*:*:*:*:*", "matchCriteriaId": "524EFECB-F19D-4150-BAED-8303F12DC5D5"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ory:oathkeeper:0.38.7:beta1:*:*:*:*:*:*", "matchCriteriaId": "4E7BE228-BE08-479F-B2F7-0CD44751D425"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ory:oathkeeper:0.38.8:beta1:*:*:*:*:*:*", "matchCriteriaId": "23B6E7B2-8865-4B7E-BF31-69F5AD03A817"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ory:oathkeeper:0.38.9:beta1:*:*:*:*:*:*", "matchCriteriaId": "B790D997-23B1-4509-AE64-597F1BA287F0"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ory:oathkeeper:0.38.10:beta2:*:*:*:*:*:*", "matchCriteriaId": "18DC4A21-2634-4ABE-8DCE-1CE7A056799A"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ory:oathkeeper:0.38.11:beta1:*:*:*:*:*:*", "matchCriteriaId": "A130449A-B114-4422-ABBE-83DB35C9679C"}]}]}], "references": [{"url": "https://github.com/ory/oathkeeper/commit/1f9f625c1a49e134ae2299ee95b8cf158feec932", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/ory/oathkeeper/pull/424", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/ory/oathkeeper/security/advisories/GHSA-qvp4-rpmr-xwrr", "source": "security-advisories@github.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/ory/oathkeeper/commit/1f9f625c1a49e134ae2299ee95b8cf158feec932"}}